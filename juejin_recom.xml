<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Spring AOP é¢å‘åˆ‡é¢ç¼–ç¨‹å®Œå…¨æŒ‡å— ğŸš€]]></title>    <link>https://juejin.cn/post/7586559672128127028</link>    <guid>https://juejin.cn/post/7586559672128127028</guid>    <pubDate>2025-12-22T13:11:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586559672128127028" data-draft-id="7586493936677601320" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring AOP é¢å‘åˆ‡é¢ç¼–ç¨‹å®Œå…¨æŒ‡å— ğŸš€"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T13:11:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€»ä¼šè½å¶"/> <meta itemprop="url" content="https://juejin.cn/user/766787307710060"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring AOP é¢å‘åˆ‡é¢ç¼–ç¨‹å®Œå…¨æŒ‡å— ğŸš€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/766787307710060/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€»ä¼šè½å¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:11:18.000Z" title="Mon Dec 22 2025 13:11:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring AOP é¢å‘åˆ‡é¢ç¼–ç¨‹å®Œå…¨æŒ‡å— ğŸš€</h2>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ AOPï¼Ÿ ğŸ¤”</h3>
<p><strong>é¢å‘åˆ‡é¢ç¼–ç¨‹</strong>ï¼ˆAOPï¼‰æ˜¯ Spring æ¡†æ¶çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒå…è®¸å¼€å‘è€…å°†æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ã€å®‰å…¨æ§åˆ¶ç­‰ï¼‰ä»ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå®ç°ä»£ç çš„æ¨¡å—åŒ–å’Œå¤ç”¨ã€‚å°±åƒç”µå½±ç‰¹æ•ˆå›¢é˜ŸğŸ¬ï¼Œä»–ä»¬ä¸“æ³¨äºç‰¹æ•ˆåˆ¶ä½œï¼Œè€Œä¸éœ€è¦å…³å¿ƒå‰§æœ¬å†…å®¹ï¼</p>
<h3 data-id="heading-2">äºŒã€å¿«é€Ÿå¼€å§‹ âš¡</h3>
<h4 data-id="heading-3">1. å¯¼å…¥ä¾èµ– ğŸ“¦</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Spring Boot AOP ä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-4">2. ç¬¬ä¸€ä¸ª AOP ç¨‹åºï¼šæ–¹æ³•æ‰§è¡Œæ—¶é—´ç›‘æ§ â±ï¸</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Slf4j</span>
<span class="hljs-variable">@Aspect</span> Â  Â  Â  Â  <span class="hljs-comment">// å£°æ˜ä¸ºåˆ‡é¢ç±» ğŸ¯</span>
<span class="hljs-variable">@Component</span> Â  Â  Â <span class="hljs-comment">// äº¤ç»™ IOC å®¹å™¨ç®¡ç† ğŸ­</span>
public class RecordTimeAspect {
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼šç›‘æ§ com.example.service åŒ…ä¸‹æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•
 Â  Â  */</span>
 Â  Â <span class="hljs-variable">@Around</span>(<span class="hljs-string">"execution(* com.example.service.*.*(..))"</span>)
 Â  Â public Object <span class="hljs-built_in">recordTime</span>(ProceedingJoinPoint pjp) throws Throwable {
 Â  Â  Â  Â <span class="hljs-comment">// è®°å½•å¼€å§‹æ—¶é—´</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">long</span> <span class="hljs-selector-tag">beginTime</span> = <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.currentTimeMillis</span>();
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// æ‰§è¡ŒåŸå§‹æ–¹æ³• ğŸƒâ€¢â™‚ï¸</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">Object</span> <span class="hljs-selector-tag">result</span> = <span class="hljs-selector-tag">pjp</span><span class="hljs-selector-class">.proceed</span>();
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// è®°å½•ç»“æŸæ—¶é—´å¹¶è®¡ç®—è€—æ—¶</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">long</span> <span class="hljs-selector-tag">endTime</span> = <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.currentTimeMillis</span>();
 Â  Â  Â  Â <span class="hljs-selector-tag">long</span> <span class="hljs-selector-tag">costTime</span> = <span class="hljs-selector-tag">endTime</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">beginTime</span>;
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// è·å–æ–¹æ³•ç­¾åä¿¡æ¯</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">methodName</span> = <span class="hljs-selector-tag">pjp</span><span class="hljs-selector-class">.getSignature</span>()<span class="hljs-selector-class">.getName</span>();
 Â  Â  Â  Â <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">className</span> = <span class="hljs-selector-tag">pjp</span><span class="hljs-selector-class">.getTarget</span>()<span class="hljs-selector-class">.getClass</span>()<span class="hljs-selector-class">.getSimpleName</span>();
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"ğŸ¯ [{}] - [{}] æ‰§è¡Œè€—æ—¶: {}ms"</span>, className, methodName, costTime);
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">result</span>;
 Â   }
}
</code></pre>
<h3 data-id="heading-5">ä¸‰ã€AOP æ ¸å¿ƒæ¦‚å¿µè¯¦è§£ ğŸ“</h3>
<h4 data-id="heading-6">1. æ ¸å¿ƒæœ¯è¯­ ğŸ“š</h4>









































<table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th><th>ç±»æ¯”</th><th>è¡¨æƒ…</th></tr></thead><tbody><tr><td><strong>è¿æ¥ç‚¹ (JoinPoint)</strong></td><td>ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥æ’å…¥åˆ‡é¢çš„ç‚¹</td><td>ç”µå½±ä¸­çš„æ¯ä¸ªåœºæ™¯</td><td>ğŸ¬</td></tr><tr><td><strong>é€šçŸ¥ (Advice)</strong></td><td>åˆ‡é¢åœ¨ç‰¹å®šè¿æ¥ç‚¹æ‰§è¡Œçš„åŠ¨ä½œ</td><td>ç‰¹æ•ˆå›¢é˜Ÿçš„å·¥ä½œ</td><td>ğŸ¨</td></tr><tr><td><strong>åˆ‡å…¥ç‚¹ (Pointcut)</strong></td><td>åŒ¹é…è¿æ¥ç‚¹çš„è°“è¯</td><td>éœ€è¦åŠ ç‰¹æ•ˆçš„åœºæ™¯</td><td>ğŸ“</td></tr><tr><td><strong>åˆ‡é¢ (Aspect)</strong></td><td>é€šçŸ¥å’Œåˆ‡å…¥ç‚¹çš„ç»„åˆ</td><td>å®Œæ•´çš„ç‰¹æ•ˆè®¾è®¡æ–¹æ¡ˆ</td><td>ğŸ“‹</td></tr><tr><td><strong>ç›®æ ‡å¯¹è±¡ (Target)</strong></td><td>è¢«ä¸€ä¸ªæˆ–å¤šä¸ªåˆ‡é¢æ‰€é€šçŸ¥çš„å¯¹è±¡</td><td>åŸå§‹ç”µå½±ç‰‡æ®µ</td><td>ğŸ¥</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f12e563f76c942e59abee35719e80c73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oC75Lya6JC95Y-2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013878&amp;x-signature=SQMr%2F97IazUsGc%2BeAMZ%2Fter4pvQ%3D" alt="image-20251221183926108.png" loading="lazy"/></p>
<h4 data-id="heading-7">2. AOP åº•å±‚åŸç†ï¼šåŠ¨æ€ä»£ç† ğŸ§™â€â™‚ï¸</h4>
<p>Spring AOP é»˜è®¤ä½¿ç”¨ä¸¤ç§ä»£ç†æ–¹å¼ï¼š</p>
<ul>
<li><strong>JDK åŠ¨æ€ä»£ç†</strong>ï¼šåŸºäºæ¥å£å®ç° âœ¨</li>
<li><strong>CGLIB ä»£ç†</strong>ï¼šåŸºäºç»§æ‰¿å®ç° ğŸ”„</li>
</ul>
<h3 data-id="heading-8">å››ã€é€šçŸ¥ç±»å‹è¯¦è§£ ğŸª</h3>
<h4 data-id="heading-9">1. äº”ç§é€šçŸ¥ç±»å‹ ğŸ–ï¸</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AllAdviceExample</span> {
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * 1. ç¯ç»•é€šçŸ¥ - æœ€å¼ºå¤§çš„é€šçŸ¥ç±»å‹ ğŸ’ª
 Â  Â  */</span>
 Â  Â <span class="hljs-meta">@Around("execution(* com.example.service.*.*(..))")</span>
 Â  Â <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">aroundAdvice</span><span class="hljs-params">(ProceedingJoinPoint pjp)</span> <span class="hljs-keyword">throws</span> Throwable {
 Â  Â  Â  Â log.info(<span class="hljs-string">"ğŸ”„ @Around - æ–¹æ³•æ‰§è¡Œå‰"</span>);
 Â  Â  Â  Â <span class="hljs-keyword">try</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> pjp.proceed(); Â <span class="hljs-comment">// å¿…é¡»æ˜¾å¼è°ƒç”¨åŸå§‹æ–¹æ³•</span>
 Â  Â  Â  Â  Â  Â log.info(<span class="hljs-string">"âœ… @Around - æ–¹æ³•æ‰§è¡Œå"</span>);
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> result;
 Â  Â  Â   } <span class="hljs-keyword">catch</span> (Exception e) {
 Â  Â  Â  Â  Â  Â log.error(<span class="hljs-string">"âŒ @Around - æ–¹æ³•æ‰§è¡Œå¼‚å¸¸"</span>);
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> e;
 Â  Â  Â   }
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * 2. å‰ç½®é€šçŸ¥ - åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œ â¬†ï¸
 Â  Â  */</span>
 Â  Â <span class="hljs-meta">@Before("execution(* com.example.service.*.*(..))")</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeAdvice</span><span class="hljs-params">(JoinPoint joinPoint)</span> {
 Â  Â  Â  Â log.info(<span class="hljs-string">"â¬†ï¸ @Before - æ–¹æ³•æ‰§è¡Œå‰"</span>);
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * 3. åç½®é€šçŸ¥ - åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œåæ‰§è¡Œï¼ˆæ— è®ºæ˜¯å¦å¼‚å¸¸ï¼‰ â¬‡ï¸
 Â  Â  */</span>
 Â  Â <span class="hljs-meta">@After("execution(* com.example.service.*.*(..))")</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterAdvice</span><span class="hljs-params">(JoinPoint joinPoint)</span> {
 Â  Â  Â  Â log.info(<span class="hljs-string">"â¬‡ï¸ @After - æ–¹æ³•æ‰§è¡Œåï¼ˆæ€»æ‰§è¡Œï¼‰"</span>);
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * 4. è¿”å›åé€šçŸ¥ - åœ¨ç›®æ ‡æ–¹æ³•æ­£å¸¸è¿”å›åæ‰§è¡Œ âœ…
 Â  Â  */</span>
 Â  Â <span class="hljs-meta">@AfterReturning(value = "execution(* com.example.service.*.*(..))", 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  returning = "result")</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterReturningAdvice</span><span class="hljs-params">(JoinPoint joinPoint, Object result)</span> {
 Â  Â  Â  Â log.info(<span class="hljs-string">"âœ… @AfterReturning - æ–¹æ³•æ­£å¸¸è¿”å›ï¼Œç»“æœ: {}"</span>, result);
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * 5. å¼‚å¸¸é€šçŸ¥ - åœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ âŒ
 Â  Â  */</span>
 Â  Â <span class="hljs-meta">@AfterThrowing(value = "execution(* com.example.service.*.*(..))", 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  throwing = "ex")</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterThrowingAdvice</span><span class="hljs-params">(JoinPoint joinPoint, Exception ex)</span> {
 Â  Â  Â  Â log.error(<span class="hljs-string">"âŒ @AfterThrowing - æ–¹æ³•æ‰§è¡Œå¼‚å¸¸: {}"</span>, ex.getMessage());
 Â   }
}
</code></pre>
<h4 data-id="heading-10">2. é€šçŸ¥æ‰§è¡Œé¡ºåº ğŸ“Š</h4>
<p>é»˜è®¤æ‰§è¡Œé¡ºåºï¼ˆåŒä¸€åˆ‡é¢å†…ï¼‰ï¼š <strong>ğŸ”„ @Around</strong>ï¼ˆå‰åŠéƒ¨åˆ†ï¼‰ â†’ <strong>â¬†ï¸ @Before</strong> â†’ <strong>ğŸ¯ ç›®æ ‡æ–¹æ³•</strong> â†’ <strong>ğŸ”„ @Around</strong>ï¼ˆååŠéƒ¨åˆ†ï¼‰ â†’ <strong>âœ… @AfterReturning/âŒ @AfterThrowing</strong> â†’ <strong>â¬‡ï¸ @After</strong></p>
<h3 data-id="heading-11">äº”ã€åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ âœ¨</h3>
<h4 data-id="heading-12">1. execution è¡¨è¾¾å¼ ğŸ¯</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Aspect</span>
<span class="hljs-variable">@Component</span>
public class PointcutExamples {
 Â  Â 
 Â  Â <span class="hljs-comment">// 1. æŠ½å–å…¬å…±åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ ğŸ“</span>
 Â  Â <span class="hljs-variable">@Pointcut</span>(<span class="hljs-string">"execution(* com.example.service.*.*(..))"</span>)
 Â  Â public void <span class="hljs-built_in">serviceLayer</span>() {}
 Â  Â 
 Â  Â <span class="hljs-comment">// 2. ç²¾ç¡®åŒ¹é…æ–¹æ³• ğŸ¯</span>
 Â  Â <span class="hljs-variable">@Pointcut</span>(<span class="hljs-string">"execution(public String com.example.service.UserService.getUserById(Integer))"</span>)
 Â  Â public void <span class="hljs-built_in">specificMethod</span>() {}
 Â  Â 
 Â  Â <span class="hljs-comment">// 3. åŒ¹é…åŒ…ä¸‹æ‰€æœ‰æ–¹æ³• ğŸ“</span>
 Â  Â <span class="hljs-variable">@Pointcut</span>(<span class="hljs-string">"execution(* com.example.service..*.*(..))"</span>) Â <span class="hljs-comment">// ..è¡¨ç¤ºå­åŒ…</span>
 Â  Â public void <span class="hljs-built_in">allServiceMethods</span>() {}
 Â  Â 
 Â  Â <span class="hljs-comment">// 4. åŒ¹é…ç‰¹å®šæ³¨è§£çš„æ–¹æ³• ğŸ·ï¸</span>
 Â  Â <span class="hljs-variable">@Pointcut</span>(<span class="hljs-string">"@annotation(com.example.annotation.Log)"</span>)
 Â  Â public void <span class="hljs-built_in">logAnnotation</span>() {}
 Â  Â 
 Â  Â <span class="hljs-comment">// 5. ç»„åˆåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ ğŸ”—</span>
 Â  Â <span class="hljs-variable">@Pointcut</span>(<span class="hljs-string">"serviceLayer() &amp;&amp; !specificMethod()"</span>)
 Â  Â public void <span class="hljs-built_in">serviceButNotSpecific</span>() {}
 Â  Â 
 Â  Â <span class="hljs-variable">@Around</span>(<span class="hljs-string">"serviceLayer()"</span>) Â <span class="hljs-comment">// å¼•ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</span>
 Â  Â public Object <span class="hljs-built_in">adviceMethod</span>(ProceedingJoinPoint pjp) throws Throwable {
 Â  Â  Â  Â <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">pjp</span><span class="hljs-selector-class">.proceed</span>();
 Â   }
}
</code></pre>
<h4 data-id="heading-13">2. @annotation è¡¨è¾¾å¼ï¼ˆåŸºäºæ³¨è§£ï¼‰ ğŸ·ï¸</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/**
 * è‡ªå®šä¹‰æ—¥å¿—æ³¨è§£
 */</span>
<span class="hljs-variable">@Target</span>(ElementType.METHOD) Â  Â <span class="hljs-comment">// åªèƒ½ç”¨åœ¨æ–¹æ³•ä¸Š</span>
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME) Â <span class="hljs-comment">// è¿è¡Œæ—¶ç”Ÿæ•ˆ</span>
public <span class="hljs-variable">@interface</span> Log {
 Â  Â <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">value</span>() <span class="hljs-selector-tag">default</span> "";
 Â  Â <span class="hljs-selector-tag">boolean</span> <span class="hljs-selector-tag">recordParams</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">true</span>;
 Â  Â <span class="hljs-selector-tag">boolean</span> <span class="hljs-selector-tag">recordResult</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">true</span>;
}
</code></pre>
<h3 data-id="heading-14">å…­ã€å®æˆ˜ï¼šæ“ä½œæ—¥å¿—è®°å½•åˆ°æ•°æ®åº“ ğŸ’¾</h3>
<h4 data-id="heading-15">1. åˆ›å»ºæ“ä½œæ—¥å¿—å®ä½“ ğŸ“‹</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@TableName(<span class="hljs-string">"t_operate_log"</span>)</span> Â <span class="hljs-comment">// MyBatis-Plus æ³¨è§£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperateLog</span> {
 Â  Â 
 Â  Â <span class="hljs-meta">@TableId(type = IdType.AUTO)</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-built_in">Long</span> id;
 Â  Â 
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-built_in">Long</span> operateUserId; Â  Â  Â  Â <span class="hljs-comment">// æ“ä½œäººID ğŸ‘¤</span>
 Â  Â <span class="hljs-keyword">private</span> String operateUserName; Â  Â <span class="hljs-comment">// æ“ä½œäººå§“å</span>
 Â  Â 
 Â  Â <span class="hljs-meta">@JsonFormat(pattern = <span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>)</span>
 Â  Â <span class="hljs-keyword">private</span> LocalDateTime operateTime; <span class="hljs-comment">// æ“ä½œæ—¶é—´ â°</span>
 Â  Â 
 Â  Â <span class="hljs-keyword">private</span> String className; Â  Â  Â  Â  Â <span class="hljs-comment">// ç±»å</span>
 Â  Â <span class="hljs-keyword">private</span> String methodName; Â  Â  Â  Â  <span class="hljs-comment">// æ–¹æ³•å</span>
 Â  Â 
 Â  Â <span class="hljs-meta">@TableField(typeHandler = JacksonTypeHandler.class)</span>
 Â  Â <span class="hljs-keyword">private</span> Object methodParams; Â  Â  Â  <span class="hljs-comment">// æ–¹æ³•å‚æ•°ï¼ˆJSONæ ¼å¼ï¼‰ ğŸ“„</span>
 Â  Â 
 Â  Â <span class="hljs-meta">@TableField(typeHandler = JacksonTypeHandler.class)</span>
 Â  Â <span class="hljs-keyword">private</span> Object returnValue; Â  Â  Â  Â <span class="hljs-comment">// è¿”å›å€¼ï¼ˆJSONæ ¼å¼ï¼‰ ğŸ“‹</span>
 Â  Â 
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-built_in">Boolean</span> success; Â  Â  Â  Â  Â  <span class="hljs-comment">// æ“ä½œæ˜¯å¦æˆåŠŸ âœ…</span>
 Â  Â <span class="hljs-keyword">private</span> String errorMessage; Â  Â  Â  <span class="hljs-comment">// é”™è¯¯ä¿¡æ¯ âŒ</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-built_in">Long</span> costTime; Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰ â±ï¸</span>
 Â  Â <span class="hljs-keyword">private</span> String clientIp; Â  Â  Â  Â  Â  <span class="hljs-comment">// å®¢æˆ·ç«¯IP ğŸŒ</span>
 Â  Â <span class="hljs-keyword">private</span> String requestUri; Â  Â  Â  Â  <span class="hljs-comment">// è¯·æ±‚URI ğŸ”—</span>
}
</code></pre>
<h4 data-id="heading-16">2. Mapper æ¥å£ ğŸ”§</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Mapper</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OperateLogMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseMapper</span>&lt;OperateLog&gt; {
 Â  Â <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ·»åŠ è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•</span>
}
</code></pre>
<h4 data-id="heading-17">3. ç”¨æˆ·ä¸Šä¸‹æ–‡å·¥å…·ç±»ï¼ˆThreadLocalï¼‰ ğŸ§µ</h4>
<pre><code class="hljs language-csharp" lang="csharp">@Component
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserContext</span> {
 Â  Â 
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final ThreadLocal&lt;CurrentUser&gt; USER_CONTEXT = <span class="hljs-keyword">new</span> ThreadLocal&lt;&gt;();
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * è®¾ç½®å½“å‰ç”¨æˆ·ä¿¡æ¯ ğŸ‘¤
 Â  Â  */</span>
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCurrentUser</span>(<span class="hljs-params">CurrentUser user</span>)</span> {
 Â  Â  Â  Â USER_CONTEXT.<span class="hljs-keyword">set</span>(user);
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * è·å–å½“å‰ç”¨æˆ·ID ğŸ”‘
 Â  Â  */</span>
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Long <span class="hljs-title">getCurrentUserId</span>()</span> {
 Â  Â  Â  Â CurrentUser user = USER_CONTEXT.<span class="hljs-keyword">get</span>();
 Â  Â  Â  Â <span class="hljs-keyword">return</span> user != <span class="hljs-literal">null</span> ? user.getId() : <span class="hljs-literal">null</span>;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ ğŸ“‹
 Â  Â  */</span>
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CurrentUser <span class="hljs-title">getCurrentUser</span>()</span> {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> USER_CONTEXT.<span class="hljs-keyword">get</span>();
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * æ¸…é™¤ç”¨æˆ·ä¿¡æ¯ï¼ˆé˜²æ­¢å†…å­˜æ³„æ¼ï¼‰ ğŸ§¹
 Â  Â  */</span>
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">clear</span>()</span> {
 Â  Â  Â  Â USER_CONTEXT.<span class="hljs-keyword">remove</span>();
 Â   }
 Â  Â 
 Â  Â @Data
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CurrentUser</span> {
 Â  Â  Â  Â <span class="hljs-keyword">private</span> Long id;
 Â  Â  Â  Â <span class="hljs-keyword">private</span> String username;
 Â  Â  Â  Â <span class="hljs-keyword">private</span> String name;
 Â  Â  Â  Â <span class="hljs-keyword">private</span> String role;
 Â   }
}
</code></pre>
<h4 data-id="heading-18">4. åˆ‡é¢ç±»å®ç° ğŸ›¡ï¸</h4>
<pre><code class="hljs language-ini" lang="ini">@Slf4j
@Aspect
@Component
public class OperateLogAspect {
    
    @Autowired
    private OperateLogMapper operateLogMapper<span class="hljs-comment">;</span>
    
    @Autowired
    private HttpServletRequest request<span class="hljs-comment">;</span>
    
    /**
     * åŸºäºæ³¨è§£çš„åˆ‡å…¥ç‚¹ ğŸ¯
     */
    @Around("@annotation(logAnnotation)")
    public Object logOperate(ProceedingJoinPoint pjp, Log logAnnotation) throws Throwable {
        // è®°å½•å¼€å§‹æ—¶é—´ â°
        long <span class="hljs-attr">startTime</span> = System.currentTimeMillis()<span class="hljs-comment">;</span>
        
        // åˆ›å»ºæ—¥å¿—å¯¹è±¡ ğŸ“
        OperateLog <span class="hljs-attr">operateLog</span> = new OperateLog()<span class="hljs-comment">;</span>
        operateLog.setOperateTime(LocalDateTime.now())<span class="hljs-comment">;</span>
        operateLog.setSuccess(true)<span class="hljs-comment">;</span>
        
        // è·å–æ–¹æ³•ä¿¡æ¯ ğŸ”
        MethodSignature <span class="hljs-attr">signature</span> = (MethodSignature) pjp.getSignature()<span class="hljs-comment">;</span>
        Method <span class="hljs-attr">method</span> = signature.getMethod()<span class="hljs-comment">;</span>
        
        // è®¾ç½®åŸºæœ¬ä¿¡æ¯
        operateLog.setClassName(pjp.getTarget().getClass().getName())<span class="hljs-comment">;</span>
        operateLog.setMethodName(method.getName())<span class="hljs-comment">;</span>
        
        // è·å–å½“å‰ç”¨æˆ· ğŸ‘¤
        Long <span class="hljs-attr">currentUserId</span> = UserContext.getCurrentUserId()<span class="hljs-comment">;</span>
        operateLog.setOperateUserId(currentUserId)<span class="hljs-comment">;</span>
        
        // è·å–è¯·æ±‚ä¿¡æ¯ ğŸŒ
        if (request != null) {
            operateLog.setClientIp(getClientIp(request))<span class="hljs-comment">;</span>
            operateLog.setRequestUri(request.getRequestURI())<span class="hljs-comment">;</span>
        }
        
        // è®°å½•æ–¹æ³•å‚æ•°ï¼ˆæ ¹æ®é…ç½®ï¼‰ ğŸ“„
        if (logAnnotation.recordParams()) {
            Object<span class="hljs-section">[]</span> <span class="hljs-attr">args</span> = pjp.getArgs()<span class="hljs-comment">;</span>
            String<span class="hljs-section">[]</span> <span class="hljs-attr">paramNames</span> = signature.getParameterNames()<span class="hljs-comment">;</span>
            Map&lt;String, Object&gt; <span class="hljs-attr">params</span> = new HashMap&lt;&gt;()<span class="hljs-comment">;</span>
            
            for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; args.length; i++) {</span>
                // è¿‡æ»¤æ‰æ•æ„Ÿå‚æ•° ğŸš«
                if (!isSensitiveParam(paramNames<span class="hljs-section">[i]</span>)) {
                    params.put(paramNames<span class="hljs-section">[i]</span>, args<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
                }
            }
            operateLog.setMethodParams(params)<span class="hljs-comment">;</span>
        }
        
        Object <span class="hljs-attr">result</span> = null<span class="hljs-comment">;</span>
        try {
            // æ‰§è¡Œç›®æ ‡æ–¹æ³• ğŸƒâ€â™‚ï¸
            <span class="hljs-attr">result</span> = pjp.proceed()<span class="hljs-comment">;</span>
            
            // è®°å½•è¿”å›å€¼ï¼ˆæ ¹æ®é…ç½®ï¼‰ âœ…
            if (logAnnotation.recordResult()) {
                operateLog.setReturnValue(result)<span class="hljs-comment">;</span>
            }
            
            // è®¡ç®—è€—æ—¶ â±ï¸
            long <span class="hljs-attr">endTime</span> = System.currentTimeMillis()<span class="hljs-comment">;</span>
            operateLog.setCostTime(endTime - startTime)<span class="hljs-comment">;</span>
            
            log.info("âœ… æ“ä½œæ—¥å¿—è®°å½•æˆåŠŸ: {}.{}", 
                    operateLog.getClassName(), 
                    operateLog.getMethodName())<span class="hljs-comment">;</span>
            
        } catch (Throwable throwable) {
            // è®°å½•å¼‚å¸¸ä¿¡æ¯ âŒ
            operateLog.setSuccess(false)<span class="hljs-comment">;</span>
            operateLog.setErrorMessage(throwable.getMessage())<span class="hljs-comment">;</span>
            operateLog.setCostTime(System.currentTimeMillis() - startTime)<span class="hljs-comment">;</span>
            
            log.error("âŒ æ“ä½œæ‰§è¡Œå¤±è´¥: {}", throwable.getMessage())<span class="hljs-comment">;</span>
            throw throwable<span class="hljs-comment">;</span>
            
        } finally {
            // å¼‚æ­¥ä¿å­˜æ—¥å¿—åˆ°æ•°æ®åº“ ğŸ’¾
            saveLogAsync(operateLog)<span class="hljs-comment">;</span>
        }
        
        return result<span class="hljs-comment">;</span>
    }
    
    /**
     * å¼‚æ­¥ä¿å­˜æ—¥å¿— ğŸš€
     */
    private void saveLogAsync(OperateLog operateLog) {
        CompletableFuture.runAsync(() -&gt; {
            try {
                operateLogMapper.insert(operateLog)<span class="hljs-comment">;</span>
                log.debug("ğŸ’¾ æ“ä½œæ—¥å¿—å·²ä¿å­˜åˆ°æ•°æ®åº“")<span class="hljs-comment">;</span>
            } catch (Exception e) {
                log.error("âŒ ä¿å­˜æ“ä½œæ—¥å¿—å¤±è´¥: {}", e.getMessage())<span class="hljs-comment">;</span>
            }
        })<span class="hljs-comment">;</span>
    }
    
    /**
     * è·å–å®¢æˆ·ç«¯IPåœ°å€ ğŸŒ
     */
    private String getClientIp(HttpServletRequest request) {
        String <span class="hljs-attr">ip</span> = request.getHeader(<span class="hljs-string">"X-Forwarded-For"</span>)<span class="hljs-comment">;</span>
        if (<span class="hljs-attr">ip</span> == null || ip.length() == <span class="hljs-number">0</span> || <span class="hljs-string">"unknown"</span>.equalsIgnoreCase(ip)) {
            <span class="hljs-attr">ip</span> = request.getHeader(<span class="hljs-string">"Proxy-Client-IP"</span>)<span class="hljs-comment">;</span>
        }
        if (<span class="hljs-attr">ip</span> == null || ip.length() == <span class="hljs-number">0</span> || <span class="hljs-string">"unknown"</span>.equalsIgnoreCase(ip)) {
            <span class="hljs-attr">ip</span> = request.getHeader(<span class="hljs-string">"WL-Proxy-Client-IP"</span>)<span class="hljs-comment">;</span>
        }
        if (<span class="hljs-attr">ip</span> == null || ip.length() == <span class="hljs-number">0</span> || <span class="hljs-string">"unknown"</span>.equalsIgnoreCase(ip)) {
            <span class="hljs-attr">ip</span> = request.getRemoteAddr()<span class="hljs-comment">;</span>
        }
        return ip<span class="hljs-comment">;</span>
    }
    
    /**
     * åˆ¤æ–­æ˜¯å¦ä¸ºæ•æ„Ÿå‚æ•° ğŸš«
     */
    private boolean isSensitiveParam(String paramName) {
        List&lt;String&gt; <span class="hljs-attr">sensitiveParams</span> = Arrays.asList(<span class="hljs-string">"password"</span>, <span class="hljs-string">"token"</span>, <span class="hljs-string">"secret"</span>)<span class="hljs-comment">;</span>
        return sensitiveParams.stream()
                .anyMatch(paramName::contains)<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h3 data-id="heading-19">ä¸ƒã€æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹ âš ï¸</h3>
<h4 data-id="heading-20">1. æ€§èƒ½ä¼˜åŒ–å»ºè®® ğŸš€</h4>
<ul>
<li><strong>åˆç†ä½¿ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</strong>ï¼šé¿å…è¿‡äºå®½æ³›çš„åŒ¹é…</li>
<li><strong>å¼‚æ­¥å¤„ç†è€—æ—¶æ“ä½œ</strong>ï¼šå¦‚æ•°æ®åº“æ—¥å¿—ä¿å­˜</li>
<li><strong>ç¼“å­˜é¢‘ç¹è®¿é—®çš„æ•°æ®</strong>ï¼šå¦‚æ–¹æ³•ç­¾åä¿¡æ¯</li>
</ul>
<h4 data-id="heading-21">2. å¸¸è§é™·é˜± ğŸ•³ï¸</h4>
<ul>
<li><strong>è‡ªè°ƒç”¨é—®é¢˜</strong>ï¼šåŒä¸€ä¸ªç±»ä¸­æ–¹æ³•äº’ç›¸è°ƒç”¨ï¼ŒAOPä¸ä¼šç”Ÿæ•ˆ</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šç¡®ä¿å¼‚å¸¸è¢«æ­£ç¡®å¤„ç†å’Œä¼ æ’­</li>
<li><strong>å†…å­˜æ³„æ¼</strong>ï¼šThreadLocalä½¿ç”¨åå¿…é¡»æ¸…ç†</li>
</ul>
<h4 data-id="heading-22">3. è°ƒè¯•æŠ€å·§ ğŸ”§</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// åœ¨é€šçŸ¥ä¸­æ‰“å°è¯¦ç»†ä¿¡æ¯</span>
<span class="hljs-variable">@Before</span>(<span class="hljs-string">"execution(* com.example..*.*(..))"</span>)
public void <span class="hljs-built_in">debugAdvice</span>(JoinPoint joinPoint) {
    <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.debug</span>(<span class="hljs-string">"ğŸ¯ ç›®æ ‡ç±»: {}"</span>, joinPoint.<span class="hljs-built_in">getTarget</span>().<span class="hljs-built_in">getClass</span>().<span class="hljs-built_in">getName</span>());
    <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.debug</span>(<span class="hljs-string">"ğŸ”§ æ–¹æ³•å: {}"</span>, joinPoint.<span class="hljs-built_in">getSignature</span>().<span class="hljs-built_in">getName</span>());
    <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.debug</span>(<span class="hljs-string">"ğŸ“‹ å‚æ•°: {}"</span>, Arrays.<span class="hljs-built_in">toString</span>(joinPoint.<span class="hljs-built_in">getArgs</span>()));
}
</code></pre>
<h3 data-id="heading-23">å…«ã€æ€»ç»“ ğŸ‰</h3>
<p>Spring AOP æ˜¯ä¸€ä¸ªå¼ºå¤§çš„é¢å‘åˆ‡é¢ç¼–ç¨‹æ¡†æ¶ï¼Œå®ƒé€šè¿‡åŠ¨æ€ä»£ç†æœºåˆ¶å®ç°äº†æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æ¨¡å—åŒ–ã€‚æŒæ¡ AOP å¯ä»¥è®©ä½ çš„ä»£ç æ›´åŠ ï¼š</p>
<ul>
<li>âœ… <strong>å¹²å‡€æ•´æ´</strong> - åˆ†ç¦»å…³æ³¨ç‚¹</li>
<li>âœ… <strong>æ˜“äºç»´æŠ¤</strong> - é›†ä¸­åŒ–ç®¡ç†</li>
<li>âœ… <strong>é«˜åº¦å¤ç”¨</strong> - ä¸€å¤„å®šä¹‰ï¼Œå¤šå¤„ä½¿ç”¨</li>
<li>âœ… <strong>çµæ´»æ‰©å±•</strong> - éä¾µå…¥å¼å¢å¼º</li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡æŒ‡å—èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨ Spring AOPï¼Happy coding! ğŸ˜ŠğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»</p>
<hr/>
<p><strong>å°æç¤º</strong>ï¼šåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®å°†AOPé…ç½®æ”¾åœ¨ç‹¬ç«‹çš„é…ç½®ç±»ä¸­ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ã€‚è®°å¾—æ ¹æ®å…·ä½“ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„é€šçŸ¥ç±»å‹å’Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼å“¦ï¼âœ¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JUC å°è¯•ç‰›åˆ€ï¼šä»æºç åˆ†æã€ŒArrayBlockingQueueã€ï¼ŒJavaè‡ªå¸¦çš„çº¿ç¨‹å®‰å…¨çš„ã€æœ‰ç•Œçš„é˜»å¡é˜Ÿåˆ—]]></title>    <link>https://juejin.cn/post/7586500093843849258</link>    <guid>https://juejin.cn/post/7586500093843849258</guid>    <pubDate>2025-12-22T13:34:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586500093843849258" data-draft-id="7586540799250350134" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JUC å°è¯•ç‰›åˆ€ï¼šä»æºç åˆ†æã€ŒArrayBlockingQueueã€ï¼ŒJavaè‡ªå¸¦çš„çº¿ç¨‹å®‰å…¨çš„ã€æœ‰ç•Œçš„é˜»å¡é˜Ÿåˆ—"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-22T13:34:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²æµ´éœ²z"/> <meta itemprop="url" content="https://juejin.cn/user/1883894812774922"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JUC å°è¯•ç‰›åˆ€ï¼šä»æºç åˆ†æã€ŒArrayBlockingQueueã€ï¼ŒJavaè‡ªå¸¦çš„çº¿ç¨‹å®‰å…¨çš„ã€æœ‰ç•Œçš„é˜»å¡é˜Ÿåˆ—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1883894812774922/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²æµ´éœ²z
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:34:44.000Z" title="Mon Dec 22 2025 13:34:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">åœºæ™¯å¼•å…¥</h2>
<p>æ­£å¦‚æ ‡é¢˜æ‰€è¨€ï¼ŒArrayBlockingQueueæ˜¯ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—çš„æ•°ç»„å®ç°ï¼Œå¦‚æœè¦ç”ŸåŠ¨åœ°æè¿°é˜»å¡é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘æƒ³è¿˜æ˜¯é¤å…å–é¤ã€å‡ºé¤çš„åœºæ™¯æ˜¯æœ€åˆé€‚çš„ï¼ˆè™½ç„¶æˆ‘æƒ³è¿™ä¸ªåœºæ™¯å·²ç»è¢«ç”¨çƒ‚äº†ï¼‰ã€‚</p>
<p>è¯•æƒ³åœ¨å­¦æ ¡çš„çª—å£å–é¤ï¼Œä¸€ä¸ªçª—å£æ˜¯é¢„åˆ¶å¥½çš„çƒ¤è‚‰æ‹Œé¥­ï¼Œå¦ä¸€ä¸ªçª—å£åˆ™æ˜¯ç°ç‚’çš„å°ç‚’èœï¼Œè¦å¦‚ä½•é€‰æ‹©ï¼Ÿå…ˆæŠŠç›®å…‰ç§»å‘çƒ¤è‚‰æ‹Œé¥­ï¼Œå› ä¸ºå‡ºé¤å¤ªå¿«ï¼Œé¢„åˆ¶å¥½çš„èœå·²ç»æ”¾æ»¡äº†çª—å°å‰ï¼Œå‡ºé¤é˜¿å§¨åªèƒ½åœ¨çª—å£é—²ç­‰ï¼Œç­‰å“ªä¸ªç€æ€¥çš„å­¦ç”Ÿè¿‡æ¥æ‹¿èµ°ä¸€ä»½é¥­ï¼Œå¥¹æ‰èƒ½ç»§ç»­å‘ä¸Šæ‘†ã€‚å†çœ‹å‘å°ç‚’èœï¼Œç”±äºå‘³é“ç¾å‘³ï¼Œå¾ˆå¤šå­¦ç”Ÿéƒ½æƒ³åƒï¼Œä½†ç‚’èœçš„å‡ºé¤é‡æœ‰é™ï¼Œå­¦ç”Ÿæ²¡æ³•ç«‹å³äº«å—åˆ°ç¾å‘³ï¼Œæ¥æ™šçš„åªèƒ½æ’é˜Ÿç­‰å¾…ã€‚å“ªæ€•å­¦ç”Ÿå†æƒ³åƒï¼Œçª—å°å‰éƒ½æ˜¯ç©ºçš„ï¼Œæ²¡å¾—æ‹¿ï¼Œåªæœ‰å‡ºé¤äº†æ‰èƒ½æ‹¿ã€‚</p>
<p>è¿™å°±æ˜¯é˜»å¡é˜Ÿåˆ—çš„å…¸å‹åœºæ™¯ï¼Œçƒ¤è‚‰æ‹Œé¥­çš„çª—å°å£å·²ç»æ‘†æ»¡é¥­äº†ï¼Œé˜¿å§¨åªèƒ½é˜»å¡ç­‰å¾…æœ‰ç©ºäº†å†æ”¾é¤ï¼ˆputæ“ä½œï¼‰ã€‚å°ç‚’èœçš„çª—å£å¤ªç«çˆ†äº†ï¼Œå­¦ç”Ÿè¦æƒ³åƒåªèƒ½é˜»å¡ç­‰å¾…ï¼Œç­‰è½®åˆ°è‡ªå·±äº†åœ¨å–é¤ï¼ˆtakeæ“ä½œï¼‰ã€‚</p>
<h2 data-id="heading-1">APIä»‹ç»</h2>
<h3 data-id="heading-2">æ”¾é¤æ“ä½œï¼šaddã€offerã€put</h3>
<p>add:Â å¦‚æœé˜Ÿåˆ—å®¹é‡æœªæ»¡ï¼Œåˆ™æ’å…¥æŒ‡å®šå…ƒç´ ; æˆåŠŸæ—¶è¿”å› trueï¼Œè‹¥å½“å‰æ— ç©ºä½åˆ™æŠ›å‡ºã€IllegalStateExceptionã€‘</p>
<p>offer:Â å¦‚æœé˜Ÿåˆ—å®¹é‡æœªæ»¡ï¼Œåˆ™æ’å…¥æŒ‡å®šå…ƒç´ ; æˆåŠŸæ—¶è¿”å› trueï¼Œè‹¥å½“å‰æ— ç©ºä½åˆ™æŠ›å‡º false</p>
<p>put:Â å¦‚æœé˜Ÿåˆ—å®¹é‡æœªæ»¡ï¼Œåˆ™æ’å…¥æŒ‡å®šå…ƒç´ ; å¦‚æœæ»¡äº†ï¼Œåˆ™é˜»å¡ç­‰å¾…æœ‰ç©ºä½ã€‚å¦‚æœç­‰å¾…æ—¶è¢«æ‰“æ–­ï¼Œåˆ™æŠ›å¼‚å¸¸</p>
<p>offer(long timeout, TimeUnit unit): è¶…æ—¶ç­‰å¾…çš„put()ã€‚å¦‚æœç­‰ç€ç©ºäº†è¿”å›trueï¼Œå¦‚æœè¶…è¿‡timeoutè¿˜æ˜¯æ²¡æœ‰ç©ºä½ï¼Œè¿”å›false</p>
<h3 data-id="heading-3">å–é¤æ“ä½œï¼štakeã€poll</h3>
<p>poll:Â å¦‚æœé˜Ÿåˆ—å®¹é‡ä¸ä¸ºç©ºï¼Œåˆ™å–å‡ºé˜Ÿåˆ—å¤´éƒ¨å¹¶è¿”å›ã€‚å¦‚æœä¸ºç©ºè¿”å›null</p>
<p>take: å¦‚æœé˜Ÿåˆ—å®¹é‡ä¸ä¸ºç©ºï¼Œåˆ™å–å‡ºé˜Ÿåˆ—å¤´éƒ¨å¹¶è¿”å›ã€‚å¦‚æœä¸ºç©ºåˆ™é˜»å¡ç­‰å¾…</p>
<p>poll(long timeout, TimeUnit unit): è¶…æ—¶ç­‰å¾…çš„take()ï¼Œå¦‚æœé˜Ÿåˆ—å®¹é‡ä¸ä¸ºç©ºï¼Œåˆ™å–å‡ºé˜Ÿåˆ—å¤´éƒ¨å¹¶è¿”å›ã€‚å¦‚æœä¸ºç©ºåˆ™é˜»å¡ç­‰å¾…æŒ‡å®šæ—¶é—´ã€‚å¦‚æœè¶…è¿‡æ—¶é—´è¿˜ä¸ºç©ºï¼Œåˆ™è¿”å›null</p>
<h2 data-id="heading-4">æºç åˆ†æ</h2>
<p>ArrayBlockingQueueçš„ç²¾é«“ä¹‹å¤„å°±æ˜¯é˜»å¡ç­‰å¾…çš„å¤„ç†ï¼Œå› æ­¤æˆ‘å°†è¯¦ç»†åˆ†æé˜»å¡ take, put ç›¸å…³çš„æºç ï¼Œç†è§£â€œé˜»å¡â€çš„çµé­‚æ‰€åœ¨ã€‚</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆç†è§£ArrayBlockingQueueçš„ç»“æ„ã€‚ä»åå­—æ¥çœ‹ï¼Œè¿™ä¸ªé˜»å¡é˜Ÿåˆ—æ˜¯ä»¥Arrayä¸ºåŸºç¡€çš„ï¼Œå› æ­¤æœ‰ç•Œå°±å¾ˆå¥½ç†è§£ã€‚å®ƒæ˜¯ä»¥æ•°ç»„ä¸ºåŸºç¡€çš„ï¼Œæ•°ç»„çš„åˆ†é…å¿…é¡»æ˜¯è¿ç»­çš„ç©ºé—´ï¼Œè¿™æ®µè¿ç»­çš„ç©ºé—´å°±æ˜¯é˜»å¡é˜Ÿåˆ—çš„å®¹é‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a300ccb221b64b428ea8c38ddfee59a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKQ5rW06Zyyeg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767015283&amp;x-signature=UEanjM%2B2fxb4NjAabfrJDj4%2FZ1A%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œæˆ‘å¼€ç¯‡ä¹Ÿæåˆ°äº†ï¼Œè¿™æ ·çš„é˜»å¡é˜Ÿåˆ—å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå®ƒåº•å±‚ä½¿ç”¨äº†ReentrantLockæ¥ä¿è¯çº¿ç¨‹çš„å®‰å…¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/309f6e1f41354d2aa664222c0d9f3f7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKQ5rW06Zyyeg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767015283&amp;x-signature=6fuKu715vSZAcqGcAPJ8BPBlKPQ%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ä¸ºä»€ä¹ˆè¿˜è¦æœ‰Conditionï¼Ÿç­‰æˆ‘ä»¬ä¸‹æ–‡çœ‹æºç å°±èƒ½çŸ¥é“äº†ã€‚</p>
<h3 data-id="heading-5">enqueueã€dequeueï¼šå…¥é˜Ÿå‡ºé˜Ÿçš„åº•å±‚</h3>
<pre><code class="hljs language-ini" lang="ini">//å…¥é˜Ÿæ“ä½œ

privateÂ voidÂ enqueue(E e) { Â  Â  Â 
Â  finalÂ Object<span class="hljs-section">[]</span> <span class="hljs-attr">items</span> =Â this.items<span class="hljs-comment">; Â  Â </span>
Â  items<span class="hljs-section">[putIndex]</span> = e<span class="hljs-comment">; Â  Â </span>
Â Â ifÂ (++<span class="hljs-attr">putIndex</span> == items.length)Â 
Â  Â  <span class="hljs-attr">putIndex</span> =Â <span class="hljs-number">0</span><span class="hljs-comment">; Â  Â //å¦‚æœå½“å‰å…ƒç´ å…¥é˜Ÿåé˜Ÿåˆ—å·²æ»¡ï¼Œé‡ç½®ç´¢å¼•ï¼Œä¸‹ä¸€æ¬¡å†ä»é˜Ÿæœ«è¿›</span>
Â  count++<span class="hljs-comment">; Â  Â </span>
Â  notEmpty.signal()<span class="hljs-comment">;//å¦‚æœå…ƒç´ åŠ å…¥åˆ°ç©ºé˜Ÿåˆ—ä¸­ï¼Œåˆ™å”¤é†’é˜»å¡ç­‰å¾…çš„å…ƒç´ </span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>ä¸ºä»€ä¹ˆä¸ç›´æ¥æ“ä½œitemsï¼Œåè€Œè¦å…ˆå®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡Â <code>final Object[] items = this.items</code>Â æ¥æ¥æ”¶å®ƒï¼Ÿ</strong></p>
<p><strong>ä¸€ã€é¿å…å¤šæ¬¡è®¿é—®å †å†…å­˜ï¼Œæå‡æ‰§è¡Œæ•ˆç‡</strong></p>
<p>é¦–å…ˆè¦æ˜ç¡® Java çš„å†…å­˜è®¿é—®ç‰¹æ€§ï¼š</p>
<ul>
<li>
<p><code>this.items</code></p>
<p>Â æ˜¯ç±»çš„æˆå‘˜å˜é‡ï¼Œå­˜å‚¨åœ¨<strong>å †å†…å­˜</strong>ä¸­ï¼Œæ¯æ¬¡è®¿é—®Â <code>this.items</code>Â éƒ½éœ€è¦é€šè¿‡Â <code>this</code>Â å¼•ç”¨ï¼ˆå †åœ°å€ï¼‰å»å¯»å€ï¼Œç›¸å¯¹è€—æ—¶ï¼›</p>
</li>
<li>
<p>å±€éƒ¨å˜é‡Â <code>items</code>Â å­˜å‚¨åœ¨<strong>æ ˆå†…å­˜</strong>ä¸­ï¼Œæ ˆå†…å­˜çš„è®¿é—®é€Ÿåº¦è¿œå¿«äºå †å†…å­˜ï¼Œè€Œä¸”å±€éƒ¨å˜é‡çš„å¯»å€æ˜¯ç›´æ¥çš„ï¼Œæ— éœ€é¢å¤–é—´æ¥å¼•ç”¨ã€‚</p>
</li>
</ul>
<p><code>enqueue</code>Â æ–¹æ³•ä¸­å¤šæ¬¡ç”¨åˆ°äº†Â <code>items</code>ï¼ˆ<code>items[putIndex] = e</code>ã€<code>putIndex == items.length</code>ï¼‰ï¼Œå¦‚æœç›´æ¥ç”¨Â <code>this.items</code>ï¼Œä¼šå¤šæ¬¡è§¦å‘å †å†…å­˜å¯»å€ï¼›è€Œå…ˆæŠŠÂ <code>this.items</code>Â èµ‹å€¼ç»™å±€éƒ¨å˜é‡ï¼Œåç»­åªéœ€è¦è®¿é—®æ ˆä¸Šçš„å±€éƒ¨å˜é‡å³å¯ï¼Œå‡å°‘äº†å †å†…å­˜è®¿é—®æ¬¡æ•°ï¼Œæå‡äº†æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p><strong>äºŒã€é˜²æ­¢æŒ‡ä»¤é‡æ’å¯¼è‡´çš„å¯è§æ€§é—®é¢˜ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨</strong></p>
<p><code>ArrayBlockingQueue</code>Â æ˜¯çº¿ç¨‹å®‰å…¨ç±»ï¼Œ<code>items</code>Â æ˜¯å…±äº«æˆå‘˜å˜é‡ï¼Œè™½ç„¶æœ‰Â <code>ReentrantLock</code>Â ä¿è¯åŸå­æ€§ï¼Œä½† Java è™šæ‹Ÿæœºçš„<strong>æŒ‡ä»¤é‡æ’</strong>å¯èƒ½ä¼šå¯¼è‡´æ½œåœ¨çš„å¯è§æ€§é—®é¢˜</p>
<p>ç®€å•è¯´ï¼š<code>final</code>Â å±€éƒ¨å˜é‡ç›¸å½“äºç»™Â <code>items</code>Â æ•°ç»„æ‹äº†ä¸€å¼  â€œå¿«ç…§â€ï¼Œç¡®ä¿æ•´ä¸ªÂ <code>enqueue</code>Â æ–¹æ³•æ‰§è¡ŒæœŸé—´ï¼Œä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„å¼•ç”¨ï¼Œä¸ä¼šå› ä¸º JVM ä¼˜åŒ–è€Œè¯»å–åˆ°é”™è¯¯çš„æ•°ç»„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">//å‡ºé˜Ÿæ“ä½œ
privateÂ E dequeue() { Â  Â  Â 
Â Â finalÂ Object<span class="hljs-section">[]</span> <span class="hljs-attr">items</span> =Â this.items<span class="hljs-comment">; Â  Â </span>
Â Â @SuppressWarnings("unchecked")Â  Â Â 
Â  E <span class="hljs-attr">e</span> = (E) items[takeIndex]<span class="hljs-comment">; Â  Â //å–å‡ºé˜Ÿåˆ—å¤´éƒ¨å…ƒç´ </span>
Â  items<span class="hljs-section">[takeIndex]</span> =Â null<span class="hljs-comment">; Â  Â //è®¾ä¸ºnull</span>
Â Â ifÂ (++<span class="hljs-attr">takeIndex</span> == items.length)Â 
Â  Â  <span class="hljs-attr">takeIndex</span> =Â <span class="hljs-number">0</span><span class="hljs-comment">; Â  Â //ä¸å…¥é˜Ÿå¯¹åº”ï¼Œå›åˆ°é˜Ÿæœ«</span>
Â  count--<span class="hljs-comment">; Â  Â </span>
Â Â ifÂ (itrs !=Â null) Â  Â  Â  Â 
Â  Â  itrs.elementDequeued()<span class="hljs-comment">; Â  Â </span>
Â  notFull.signal()<span class="hljs-comment">; Â Â //å”¤é†’å› é˜Ÿåˆ—æ»¡è€Œé˜»å¡ç­‰å¾…çš„é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—æœ‰ç©ºäº†Â </span>
Â Â returnÂ e<span class="hljs-comment">;</span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-6">itrsæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ</h4>
<p><strong><code>itrs</code>Â æ˜¯Â <code>ArrayBlockingQueue</code>Â ç”¨æ¥ç®¡ç†å½“å‰æ‰€æœ‰æ´»è·ƒè¿­ä»£å™¨ï¼ˆIteratorï¼‰çš„é›†åˆï¼Œç›®çš„æ˜¯ä¿è¯è¿­ä»£å™¨çš„å¼±ä¸€è‡´æ€§ï¼Œé¿å…è¿­ä»£è¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸æˆ–é”™è¯¯çš„å…ƒç´ å¼•ç”¨</strong>ã€‚</p>
<p>å½“é˜Ÿåˆ—æ‰§è¡ŒÂ <code>dequeue</code>Â å‡ºé˜Ÿæ“ä½œï¼ˆåˆ é™¤é˜Ÿé¦–å…ƒç´ ï¼‰æ—¶ï¼Œä¼šè°ƒç”¨Â <code>itrs.elementDequeued()</code>ï¼Œæ ¸å¿ƒç›®çš„æ˜¯<strong>é€šçŸ¥æ‰€æœ‰æ´»è·ƒè¿­ä»£å™¨ï¼šâ€œæŸä¸ªå…ƒç´ è¢«åˆ é™¤äº†ï¼Œä½ ä»¬éœ€è¦æ›´æ–°è‡ªå·±çš„çŠ¶æ€ï¼Œé¿å…éå†å‡ºé”™â€</strong> ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">voidÂ <span class="hljs-built_in">elementDequeued</span>() { Â  Â 
<span class="hljs-comment">// assert lock.isHeldByCurrentThread(); Â  Â </span>
ifÂ (count ==Â <span class="hljs-number">0</span>) Â  Â  Â  Â 
Â Â <span class="hljs-built_in">queueIsEmpty</span>(); Â  Â 
elseÂ ifÂ (takeIndex ==Â <span class="hljs-number">0</span>) Â  Â  Â  Â 
Â Â <span class="hljs-built_in">takeIndexWrapped</span>();
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><code>queueIsEmpty() ï¼šåœ¨æœ¬æ¬¡å‡ºé˜Ÿåé˜Ÿåˆ—å˜ç©ºæ—¶ï¼Œé‡ç½®è¿­ä»£å™¨çŠ¶æ€ï¼ˆ``nextIndex=-1</code>ã€<code>remaining=0</code>ï¼‰ï¼Œæ ‡è®°è¿­ä»£å™¨éå†å®Œæ¯•ï¼Œé¿å…æ— æ•ˆéå†ï¼›</p>
<p><code>takeIndexWrapped() ï¼šåœ¨æœ¬æ¬¡å‡ºé˜ŸåÂ ``takeIndex</code>Â å¾ªç¯å›ç»•åˆ°æ•°ç»„å¼€å¤´æ—¶ï¼Œä¿®æ­£è¿­ä»£å™¨çš„Â <code>nextWrapped</code>Â çŠ¶æ€ï¼Œä¿è¯è¿­ä»£å™¨èƒ½æ­£ç¡®é€‚é…é˜Ÿåˆ—çš„å¾ªç¯ç»“æ„ï¼›</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cca622d016db4a9285b572f442f15f92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKQ5rW06Zyyeg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767015283&amp;x-signature=jiv%2Bf%2BIzC4VbEKZKy6z4m8O02AM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">putã€takeï¼šå…¥é˜Ÿå‡ºé˜Ÿçš„å®ç°</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span>Â <span class="hljs-keyword">void</span>Â <span class="hljs-title">put</span>(<span class="hljs-params">E e</span>) throws InterruptedException</span>Â { Â  Â 
Â  Objects.requireNonNull(e); Â  Â 
Â  final ReentrantLockÂ <span class="hljs-keyword">lock</span>Â =Â <span class="hljs-keyword">this</span>.<span class="hljs-keyword">lock</span>; Â  Â 
Â Â <span class="hljs-keyword">lock</span>.lockInterruptibly(); Â  Â 
Â Â <span class="hljs-keyword">try</span>Â { Â  Â  Â  Â 
Â  Â Â <span class="hljs-keyword">while</span>Â (count == items.length) Â  Â  Â  Â  Â  Â 
Â  Â  Â  notFull.<span class="hljs-keyword">await</span>(); Â  Â  Â  Â <span class="hljs-comment">//å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œé˜»å¡ç­‰å¾…</span>
Â  Â  enqueue(e); Â  Â 
Â  }Â <span class="hljs-keyword">finally</span>Â { Â  Â  Â  Â 
Â  Â Â <span class="hljs-keyword">lock</span>.unlock(); Â  Â 
Â  }
}
<span class="hljs-function"><span class="hljs-keyword">public</span>Â EÂ <span class="hljs-title">take</span>() throws InterruptedException</span>Â { Â  Â 
Â  final ReentrantLockÂ <span class="hljs-keyword">lock</span>Â =Â <span class="hljs-keyword">this</span>.<span class="hljs-keyword">lock</span>; Â  Â 
Â Â <span class="hljs-keyword">lock</span>.lockInterruptibly(); Â  Â 
Â Â <span class="hljs-keyword">try</span>Â { Â  Â  Â  Â 
Â  Â Â <span class="hljs-keyword">while</span>Â (count ==Â <span class="hljs-number">0</span>) Â  Â  Â  Â  Â  Â 
Â  Â  Â  notEmpty.<span class="hljs-keyword">await</span>(); Â  Â Â <span class="hljs-comment">//å¦‚æœé˜Ÿåˆ—æ˜¯ç©ºçš„ï¼Œé˜»å¡ç­‰å¾… Â Â </span>
Â  Â Â <span class="hljs-keyword">return</span>Â dequeue(); Â  Â 
Â  }Â <span class="hljs-keyword">finally</span>Â { Â  Â  Â  Â 
Â  Â Â <span class="hljs-keyword">lock</span>.unlock(); Â  Â 
Â  }
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒArrayBlockingQueueä½¿ç”¨äº†ReentrantLockä¿è¯äº†å…¥é˜Ÿå‡ºé˜Ÿçš„çº¿ç¨‹å®‰å…¨ï¼ŒåŒæ—¶ä½¿ç”¨äº†æ¡ä»¶å˜é‡å®ç°äº†å½“é˜Ÿåˆ—ä¸ºç©º/é˜Ÿåˆ—æ»¡äº†çš„æƒ…å†µä¸‹çš„é˜»å¡ç­‰å¾…ã€‚</p>
<h2 data-id="heading-8">æ€è€ƒ</h2>
<ol>
<li>
<p>å¯ä»¥çœ‹åˆ°ï¼Œtakeã€putæ“ä½œä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€æŠŠReentrantLockï¼Œè¿™è¯´æ˜è¿™ä¸¤ä¸ªæ“ä½œæ˜¯ä¼šäº’ç›¸é˜»å¡çš„ã€‚æ€ä¹ˆæ ·æ‰èƒ½è®©è¿™ä¸¤ä¸ªæ“ä½œç‹¬ç«‹èµ·æ¥ï¼Ÿ</p>
</li>
<li>
<p>è¿™ä¸ªæ•°ç»„é˜»å¡é˜Ÿåˆ—æ˜¯å¼ºåˆ¶æœ‰ç•Œçš„ï¼Œå¦‚æœä¸ç¡®å®šé˜Ÿåˆ—å¤§å°çš„æƒ…å†µä¸‹ï¼Œè¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ</p>
</li>
</ol>
<p>è¿™ä¸¤ä¸ªé—®é¢˜åœ¨ LinkedBlockingQueue éƒ½ç»™å‡ºäº†ç­”å¤ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œäº†è§£ã€‚</p>
<blockquote>
<p>æˆ‘æ˜¯æ²æµ´éœ²zzï¼Œå°†æŒç»­æ›´æ–°æœ‰è¶£çš„æŠ€æœ¯ï¼Œæ¬¢è¿äº’åŠ¨äº¤æµï¼</p>
</blockquote>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŒ–æ•´ä¸ºé›¶ã€åˆ†è€Œæ²»ä¹‹ã€å¼‚æ­¥ç¼–æ’ï¼šä¸€æ–‡è¯»æ‡‚ç°ä»£å¹¶å‘çš„åº•å±‚å¿ƒæ³•]]></title>    <link>https://juejin.cn/post/7586491717873483795</link>    <guid>https://juejin.cn/post/7586491717873483795</guid>    <pubDate>2025-12-22T13:35:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586491717873483795" data-draft-id="7586540799250448438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŒ–æ•´ä¸ºé›¶ã€åˆ†è€Œæ²»ä¹‹ã€å¼‚æ­¥ç¼–æ’ï¼šä¸€æ–‡è¯»æ‡‚ç°ä»£å¹¶å‘çš„åº•å±‚å¿ƒæ³•"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-22T13:35:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="poemyang"/> <meta itemprop="url" content="https://juejin.cn/user/4487542162594953"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŒ–æ•´ä¸ºé›¶ã€åˆ†è€Œæ²»ä¹‹ã€å¼‚æ­¥ç¼–æ’ï¼šä¸€æ–‡è¯»æ‡‚ç°ä»£å¹¶å‘çš„åº•å±‚å¿ƒæ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4487542162594953/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    poemyang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:35:40.000Z" title="Mon Dec 22 2025 13:35:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>LongAdderï¼šåŒ–æ•´ä¸ºé›¶ï¼Œçƒ­ç‚¹åˆ†æ•£</strong><br/>
åœ¨Javaå¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œâ€ŒåŸå­å˜é‡ï¼ˆå¦‚AtomicLongï¼‰â€Œé€šè¿‡CASæ“ä½œå®ç°çº¿ç¨‹å®‰å…¨çš„ç´¯åŠ ã€‚ç„¶è€Œï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¤§é‡çº¿ç¨‹äº‰æŠ¢åŒä¸€åŸå­å˜é‡ä¼šå¼•å‘ä¸¥é‡çš„â€Œç¼“å­˜ä¸€è‡´æ€§é—®é¢˜â€Œã€‚
â€Œ 1ï¼‰ç¼“å­˜è¡Œä¼ªå…±äº«â€Œï¼šå¤šä¸ªçº¿ç¨‹é¢‘ç¹æ›´æ–°åŒä¸€ç¼“å­˜è¡Œï¼Œå¯¼è‡´ç¼“å­˜å¤±æ•ˆå’ŒMESIåè®®é¢‘ç¹è§¦å‘ï¼Œå¤„ç†å™¨æ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚
â€Œ 2ï¼‰CASå†²çªå¼€é”€â€Œï¼šCASæ“ä½œéœ€è‡ªæ—‹é‡è¯•ï¼Œçº¿ç¨‹ç«äº‰æ¿€çƒˆæ—¶é‡è¯•æ¬¡æ•°å¢åŠ ï¼Œè¿›ä¸€æ­¥æ‹–æ…¢æ€§èƒ½ã€‚
ä¸ºè§£å†³ä¸Šè¿°ç“¶é¢ˆï¼ŒJava 8å¼•å…¥äº†â€ŒLongAdderâ€Œï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€Œâ€œåˆ†æ•£ç«äº‰ï¼Œå»¶è¿Ÿæ±‚å’Œâ€Œâ€ã€‚
â€Œ 1ï¼‰åˆ†æ®µç´¯åŠ â€Œï¼šå°†å•ä¸€ç´¯åŠ å˜é‡æ‹†åˆ†ä¸ºå¤šä¸ªâ€Œåˆ†æ®µå˜é‡ï¼ˆcellsï¼‰â€Œï¼Œæ¯ä¸ªçº¿ç¨‹ä»…æ›´æ–°å…¶ä¸“å±çš„åˆ†æ®µï¼Œé¿å…å…¨å±€ç«äº‰ã€‚
â€Œ 2ï¼‰åŸºç¡€å€¼ä¼˜åŒ–â€Œï¼šåœ¨ä½å¹¶å‘åœºæ™¯ä¸‹ï¼Œç›´æ¥æ›´æ–°åŸºç¡€å€¼ï¼ˆbaseï¼‰ï¼Œå‡å°‘åˆ†æ®µæ•°ç»„çš„å¼€é”€ã€‚
â€Œ 3ï¼‰æœ€ç»ˆä¸€è‡´æ€§æ±‚å’Œâ€Œï¼šé€šè¿‡éå†æ‰€æœ‰åˆ†æ®µå’ŒåŸºç¡€å€¼ï¼Œå»¶è¿Ÿè®¡ç®—æ€»å’Œï¼Œé™ä½å®æ—¶ç«äº‰å‹åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdfec7c837c647df92f69dbcc0cc5286~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcG9lbXlhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767015339&amp;x-signature=keDgU8L4xG%2F9mcZwyXfMscW%2FU5I%3D" alt="æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰" loading="lazy"/></p>
<p>LongAdderçš„å†…éƒ¨å®ç°åŸç†ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä¼ªä»£ç æ¼”ç¤ºã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LongAdder</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AtomicLong[] cells; <span class="hljs-comment">// åˆ†æ®µæ•°ç»„ï¼Œæ¯ä¸ªçº¿ç¨‹æ˜ å°„åˆ°ç‰¹å®šåˆ†æ®µ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AtomicLong base;    <span class="hljs-comment">// åŸºç¡€å€¼ï¼Œä½å¹¶å‘æ—¶ç›´æ¥æ›´æ–°</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LongAdder</span><span class="hljs-params">()</span> {
        cells = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>[<span class="hljs-number">16</span>]; <span class="hljs-comment">// å‡è®¾åˆå§‹åŒ–16ä¸ªåˆ†æ®µ</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; cells.length; i++) {
            cells[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// åˆå§‹åŒ–åˆ†æ®µå€¼ä¸º0</span>
        }
        base = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// åˆå§‹åŒ–åŸºç¡€å€¼ä¸º0</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">long</span> x)</span> {
        <span class="hljs-comment">// 1. è®¡ç®—çº¿ç¨‹å¯¹åº”çš„åˆ†æ®µç´¢å¼•ï¼ˆç®€å•å–æ¨¡å®ç°ï¼‰</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) (Thread.currentThread().getId() % cells.length);
        <span class="hljs-comment">// 2. å¯¹ä¸“å±åˆ†æ®µæ‰§è¡ŒCASç´¯åŠ ï¼Œé¿å…å…¨å±€ç«äº‰</span>
        cells[index].addAndGet(x);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">sum</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 3. æ±‚å’Œï¼šç´¯åŠ åŸºç¡€å€¼å’Œæ‰€æœ‰åˆ†æ®µå€¼</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> base.get();
        <span class="hljs-keyword">for</span> (AtomicLong cell : cells) {
            sum += cell.get();
        }
        <span class="hljs-keyword">return</span> sum;
    }
}
</code></pre>
<p>ç„¶è€Œï¼ŒLongAdder å¹¶éä¸‡èƒ½é’¥åŒ™ã€‚åœ¨å¹¶å‘åº¦è¾ƒä½çš„åœºæ™¯ï¼ŒAtomicLong çš„ç®€å•ç›´æ¥åè€Œæ›´é«˜æ•ˆï¼Œå°±å¥½æ¯”å°å‹èšä¼šä¸­ï¼Œå¤§å®¶ç›´æ¥å…±äº«ä¸€ä¸ªæœç›˜æ›´æ–¹ä¾¿ï¼Œè€Œä¸éœ€è¦å¤šä¸ªæœç¯®ã€‚å¦å¤–ï¼Œå½“éœ€è¦é¢‘ç¹è¯»å–ç´¯è®¡ç»“æœæ—¶ï¼ŒLongAdder çš„æ±‡æ€»è¿‡ç¨‹å°±åƒé€ä¸ªç¯®å­ç»Ÿè®¡æ°´æœæ•°é‡ï¼Œç•¥æ˜¾ç¹çï¼Œæ€§èƒ½ä¼šå—å½±å“ã€‚Fork/Joinï¼šåˆ†è€Œæ²»ä¹‹ï¼Œä»»åŠ¡çªƒå–
Java 7 å¼•å…¥çš„ â€ŒFork/Join Frameworkâ€Œ æ˜¯ä¸€ç§å¼ºå¤§çš„å¹¶è¡Œç¼–ç¨‹æ¨¡å‹ï¼Œä¸“ä¸ºè§£å†³â€œåˆ†è€Œæ²»ä¹‹â€ï¼ˆDivide and Conquerï¼‰ç±»å‹çš„é—®é¢˜è€Œè®¾è®¡ã€‚å®ƒå……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„è®¡ç®—èƒ½åŠ›ï¼Œé€šè¿‡åˆ†è§£ä»»åŠ¡ã€å¹¶è¡Œæ‰§è¡Œå’Œåˆå¹¶ç»“æœï¼Œæ˜¾è‘—æå‡ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚
Fork/Joinç‰¹åˆ«é€‚åˆå¤„ç†å¯ä»¥è¢«åˆ†è§£æˆç‹¬ç«‹å­ä»»åŠ¡çš„é—®é¢˜ï¼Œä»¥å®ç°ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œï¼Œå¦‚æ’åºã€æœç´¢ç­‰ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9e936d2dd42466fbf2a41ca4a59b0d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcG9lbXlhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767015339&amp;x-signature=x9Xs1A72ZeAHp5W88LXNw7fmRAw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (ä»»åŠ¡è¶³å¤Ÿå°) {
    ç›´æ¥è®¡ç®—å¹¶è¿”å›ç»“æœ;
} <span class="hljs-keyword">else</span> {
    å°†ä»»åŠ¡æ‹†åˆ†ä¸ºNä¸ªå­ä»»åŠ¡;
    å¯¹æ¯ä¸ªå­ä»»åŠ¡è°ƒç”¨ fork() è¿›è¡Œå¹¶è¡Œè®¡ç®—;
    è°ƒç”¨ join() åˆå¹¶å­ä»»åŠ¡çš„ç»“æœ;
    è¿”å›æœ€ç»ˆç»“æœ;
}
</code></pre>
<p>åœ¨Java 8ä¸­å¼•å…¥çš„å¹¶è¡Œæµè®¡ç®—ï¼ˆParallel stream computingï¼‰ï¼Œå†…éƒ¨å°±æ˜¯é‡‡ç”¨çš„ForkJoinPoolæ¥å®ç°çš„ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢ä½¿ç”¨å¹¶è¡Œæµå®ç°æ•°ç»„å¹¶è¡Œæ±‚å’Œè®¡ç®—ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SumArray</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;Integer&gt; numbers = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>);
         <span class="hljs-comment">// mapåœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œå¯ä»¥æ˜¯è€—æ—¶é«˜ï¼Œè®¡ç®—é‡å¤§çš„ä»»åŠ¡</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> numbers.parallelStream().map(i -&gt; i * i).reduce(<span class="hljs-number">0</span>, Integer::sum);
    }
}
</code></pre>
<p><strong>å¹¶è¡Œç¼–ç¨‹æ¨¡å‹</strong><br/>
å¹¶è¡Œç¼–ç¨‹æ¨¡å‹ï¼ˆParallel programming modelï¼‰æ˜¯ä¸€ç§ç”¨äºæè¿°å’Œç»„ç»‡å¹¶è¡Œè®¡ç®—çš„æ¡†æ¶æˆ–èŒƒå¼ã€‚å®ƒæä¾›äº†ä¸€ç»„æŠ½è±¡æ¦‚å¿µã€ç¼–ç¨‹æ¥å£å’Œè§„èŒƒï¼Œç”¨äºæŒ‡å¯¼å¼€å‘è€…åœ¨å¤šæ ¸å¤„ç†å™¨ã€åˆ†å¸ƒå¼ç³»ç»Ÿæˆ–å¹¶è¡Œè®¡ç®—ç¯å¢ƒä¸­ç¼–å†™å¹¶è¡Œç¨‹åºã€‚
å¸¸è§çš„å¹¶è¡Œç¼–ç¨‹æ¨¡å‹åŒ…æ‹¬ï¼šæ•°æ®å¹¶è¡Œï¼ˆData parallelismï¼‰ã€ä»»åŠ¡å¹¶è¡Œï¼ˆTask parallelismï¼‰ã€å¤šçº¿ç¨‹å¹¶è¡Œï¼ˆMultithread parallelismï¼‰ç­‰ã€‚å·¥ä½œçªƒå–
å·¥ä½œçªƒå–ï¼ˆWork Stealingï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„å¹¶è¡Œè®¡ç®—è°ƒåº¦ç­–ç•¥ï¼Œå…¶ä¸»è¦ç›®æ ‡æ˜¯è§£å†³è´Ÿè½½ä¸å‡è¡¡é—®é¢˜ï¼Œä»¥å……åˆ†åˆ©ç”¨æ‰€æœ‰çš„å¤„ç†å™¨æ ¸å¿ƒï¼Œä»è€Œæå‡ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚
åœ¨å·¥ä½œçªƒå–æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½ç»´æŠ¤ç€è‡ªå·±çš„åŒç«¯é˜Ÿåˆ—ï¼ˆDequeï¼‰ï¼Œç”¨äºå­˜å‚¨åˆ†é…ç»™è‡ªå·±çš„ä»»åŠ¡ã€‚å½“ä¸€ä¸ªå¤„ç†å™¨å®Œæˆäº†æ‰€æœ‰è‡ªå·±çš„ä»»åŠ¡åï¼Œå®ƒä¼šå°è¯•ä»å…¶ä»–å¤„ç†å™¨çš„ä»»åŠ¡é˜Ÿåˆ—çš„æœ«å°¾â€œçªƒå–â€ä»»åŠ¡æ¥æ‰§è¡Œã€‚è¿™ç§ç­–ç•¥ç¡®ä¿äº†æ‰€æœ‰çš„å¤„ç†å™¨éƒ½èƒ½å°½å¯èƒ½åœ°ä¿æŒå¿™ç¢ŒçŠ¶æ€ï¼Œä»è€Œæé«˜æ•´ä½“çš„å¹¶è¡Œæ€§èƒ½ã€‚
å·¥ä½œçªƒå–ç­–ç•¥çš„ä¸€ä¸ªæ˜¾è‘—ä¼˜ç‚¹æ˜¯å…¶èƒ½å¤ŸåŠ¨æ€åœ°å¹³è¡¡è´Ÿè½½ã€‚è¿™æ„å‘³ç€å®ƒèƒ½å¤Ÿé€‚åº”å„ç§ä¸åŒçš„ä»»åŠ¡åˆ†å¸ƒå’Œå¤„ç†å™¨æ€§èƒ½ï¼Œä»è€Œåœ¨å„ç§æƒ…å†µä¸‹éƒ½èƒ½æä¾›ä¼˜ç§€çš„æ€§èƒ½ã€‚
åœ¨å®é™…ç¼–ç¨‹å®è·µä¸­ï¼Œå·¥ä½œçªƒå–è°ƒåº¦ç­–ç•¥é€šå¸¸ç”±å¹¶è¡Œç¼–ç¨‹æ¡†æ¶æˆ–åº“æ¥å®ç°ã€‚ä¾‹å¦‚ï¼ŒJavaçš„Fork/Joinæ¡†æ¶å°±é‡‡ç”¨äº†å·¥ä½œçªƒå–ç­–ç•¥æ¥åŠ¨æ€åœ°åˆ†é…ä»»åŠ¡ï¼ŒC++çš„Intel TBBï¼ˆThreading Building Blocksï¼‰åº“ä¹Ÿä½¿ç”¨äº†ç±»ä¼¼çš„ç­–ç•¥ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd68ac1c1a1f42cb9272cf72adc85f5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcG9lbXlhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767015339&amp;x-signature=Y7art1cA70V8L5W3Xsr1uSY6p4k%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>CompletableFutureï¼šæ„å»ºä¼˜é›…çš„å¼‚æ­¥æµæ°´çº¿</strong><br/>
CompletableFuture æ˜¯ Java 8 å¼•å…¥çš„ä¸€ä¸ªæ ¸å¿ƒç±»ï¼Œå®ƒå®ç°äº† Future æ¥å£ï¼Œå¹¶åœ¨å…¶åŸºç¡€ä¸Šæä¾›äº†æ›´å¼ºå¤§ã€æ›´çµæ´»çš„å¼‚æ­¥ç¼–ç¨‹èƒ½åŠ›ã€‚ä¸ä¼ ç»Ÿçš„ Future ç›¸æ¯”ï¼ŒCompletableFuture ä¸ä»…èƒ½å¤Ÿè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥è®¡ç®—çš„ç»“æœï¼Œè¿˜æ”¯æŒä¸°å¯Œçš„å‡½æ•°å¼ç¼–ç¨‹ç‰¹æ€§ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿä»¥å£°æ˜å¼çš„æ–¹å¼å¤„ç†å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œæµç¨‹ã€‚
CompletableFuture çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶æ”¯æŒé“¾å¼è°ƒç”¨ï¼ˆChainingï¼‰ï¼Œå…è®¸åœ¨ä¸€ä¸ª CompletableFuture ä¸Šé™„åŠ å¤šä¸ªæ“ä½œï¼ˆå¦‚è½¬æ¢ç»“æœã€å¤„ç†å¼‚å¸¸ã€ç»„åˆå¤šä¸ªä»»åŠ¡ç­‰ï¼‰ã€‚è¿™äº›æ“ä½œä¼šåœ¨ CompletableFuture å®Œæˆæ—¶è‡ªåŠ¨è§¦å‘ï¼Œä»è€Œå½¢æˆä¸€ä¸ªæµæ°´çº¿å¼çš„ä»»åŠ¡å¤„ç†æµç¨‹ã€‚
â€Œ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº† â€ŒCompletableFutureâ€Œ çš„é“¾å¼è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// supplyAsyncæ–¹æ³•ç”¨äºå¯åŠ¨ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼ŒthenApplyæ–¹æ³•ç”¨äºåœ¨ä»»åŠ¡å®Œæˆæ—¶å¯¹ç»“æœè¿›è¡Œè½¬æ¢</span>
CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {
     ......
    <span class="hljs-comment">// å¼‚æ­¥ä»»åŠ¡ï¼Œæ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello"</span>;
}).thenApply(result -&gt; {
    <span class="hljs-comment">// å¯¹ç»“æœè¿›è¡Œè½¬æ¢</span>
    <span class="hljs-keyword">return</span> result + <span class="hljs-string">" World"</span>;
});
<span class="hljs-comment">// ä¸»çº¿ç¨‹ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆ</span>
future.join();
<span class="hljs-comment">// è·å–å¼‚æ­¥æ‰§è¡Œç»“æœ</span>
future.get();
</code></pre>
<p><strong>å¼‚æ­¥ç¼–ç¨‹</strong><br/>
å¼‚æ­¥ç¼–ç¨‹æ˜¯ä¸€ç§é«˜æ•ˆçš„ç¼–ç¨‹èŒƒå¼ï¼Œæ—¨åœ¨ä¼˜åŒ–ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡å’Œèµ„æºåˆ©ç”¨ç‡ã€‚å®ƒé€šè¿‡å…è®¸ç¨‹åºåœ¨ç­‰å¾…è€—æ—¶æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶I/Oç­‰ï¼‰å®Œæˆçš„åŒæ—¶ï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œä»è€Œé¿å…äº†ä¼ ç»ŸåŒæ­¥ç¼–ç¨‹ä¸­çš„çº¿ç¨‹é˜»å¡é—®é¢˜ã€‚è¿™ç§éé˜»å¡çš„æ‰§è¡Œæ–¹å¼æ˜¾è‘—æå‡äº†ç¨‹åºçš„å“åº”é€Ÿåº¦å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œå°¤å…¶é€‚ç”¨äºI/Oå¯†é›†å‹ä»»åŠ¡ã€‚
åœ¨ä¼ ç»Ÿçš„åŒæ­¥ç¼–ç¨‹æ¨¡å‹ä¸­ï¼Œå½“ä¸€ä¸ªæ“ä½œéœ€è¦è¾ƒé•¿æ—¶é—´å®Œæˆæ—¶ï¼Œç¨‹åºä¼šåœæ»åœ¨è¯¥æ“ä½œä¸Šï¼Œç›´åˆ°æ“ä½œç»“æŸï¼Œè¿™ç§ç°è±¡ç§°ä¸ºé˜»å¡ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¼‚æ­¥ç¼–ç¨‹æ¨¡å‹å…è®¸ç¨‹åºåœ¨å¯åŠ¨ä¸€ä¸ªè€—æ—¶æ“ä½œåï¼Œç«‹å³è½¬è€Œæ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œè€Œæ— éœ€ç­‰å¾…è¯¥æ“ä½œå®Œæˆã€‚å½“æ“ä½œå®Œæˆåï¼Œç¨‹åºä¼šé€šè¿‡å›è°ƒã€äº‹ä»¶æˆ–Futureç­‰æœºåˆ¶æ”¶åˆ°é€šçŸ¥ï¼Œå¹¶å¤„ç†æ“ä½œç»“æœã€‚
å¼‚æ­¥ç¼–ç¨‹åœ¨å¤šç§ç¼–ç¨‹è¯­è¨€ä¸­éƒ½æœ‰åº”ç”¨å’Œå®ç°ã€‚ä¾‹å¦‚ï¼ŒJavaä¸­çš„CompletableFutureã€JavaScriptä¸­çš„Promiseï¼Œä»¥åŠPythonä¸­çš„asyncioåº“ç­‰ï¼Œéƒ½æä¾›äº†å¼ºå¤§çš„å¼‚æ­¥ç¼–ç¨‹æ”¯æŒã€‚
ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„åŒæ­¥ä¸å¼‚æ­¥è¯»å–æ–‡ä»¶çš„å¯¹æ¯”ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŒæ­¥æ‰§è¡Œè¯»å–æ–‡ä»¶æ“ä½œ</span>
<span class="hljs-type">let</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> read(<span class="hljs-string">"a.txt"</span>);
<span class="hljs-comment">// åŒæ­¥ç­‰å¾…ä¸Šæ¬¡ä¸€æ¬¡æ–‡ä»¶æ“ä½œå®Œæˆ</span>
<span class="hljs-type">let</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> read(<span class="hljs-string">"b.txt"</span>);
<span class="hljs-comment">// å‡è®¾å•ä¸ªæ–‡ä»¶è¯»å–è€—æ—¶50msï¼Œä¸€å…±éœ€è¦è€—æ—¶100ms</span>
print(a+b)

<span class="hljs-comment">// å¼‚æ­¥æ‰§è¡Œè¯»å–æ–‡ä»¶æ“ä½œ</span>
<span class="hljs-type">let</span> <span class="hljs-variable">op_a</span> <span class="hljs-operator">=</span> read_async(<span class="hljs-string">"a.txt"</span>);
<span class="hljs-type">let</span> <span class="hljs-variable">op_b</span> <span class="hljs-operator">=</span> read_async(<span class="hljs-string">"b.txt"</span>);
<span class="hljs-type">let</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> wait_until_get_ready(op_a);
<span class="hljs-type">let</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> wait_until_get_ready(op_b);
<span class="hljs-comment">// å‡è®¾å•ä¸ªæ–‡ä»¶è¯»å–è€—æ—¶50msï¼Œ ç”±äºä¸¤æ¬¡è¯»å–æ–‡ä»¶æ“ä½œåŒæ—¶å¼‚æ­¥æ‰§è¡Œï¼Œæœ€ç»ˆè€—æ—¶50ms</span>
print(a+b);

fn <span class="hljs-title function_">wait_until_get_ready</span><span class="hljs-params">(Operation)</span> -&gt; Response {
  <span class="hljs-comment">// é˜»å¡ä»»åŠ¡ï¼ŒæŒ‚èµ·çº¿ç¨‹ï¼Œç›´åˆ°operationå°±ç»ªå†å”¤é†’çº¿ç¨‹ï¼ˆå”¤é†’æ“ä½œï¼Œéœ€è¦æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶çš„åº•å±‚æ”¯æ’‘ï¼‰</span>
}
</code></pre>
<p>å¼‚æ­¥ç¼–ç¨‹å¯ä»¥æ›´æœ‰æ•ˆåœ°å¤„ç†å¹¶å‘é—®é¢˜ã€‚å½“ç¨‹åºéœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡æ—¶ï¼Œå¼‚æ­¥ç¼–ç¨‹å¯ä»¥è®©è¿™äº›ä»»åŠ¡å¹¶å‘æ‰§è¡Œï¼Œè€Œä¸æ˜¯æŒ‰é¡ºåºä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ‰§è¡Œã€‚ç„¶è€Œï¼Œå¼‚æ­¥ç¼–ç¨‹çš„å®ç°ç¦»ä¸å¼€æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶çš„åº•å±‚æ”¯æŒã€‚å¦‚æœåœ¨å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå®Œä¹‹å‰ï¼Œå¤„ç†çº¿ç¨‹ä¸€ç›´å¯¹å¼‚æ­¥ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€è¿›è¡Œç©ºè½®è¯¢ï¼Œè¿™å°†ä¼šæµªè´¹å¤„ç†å™¨èµ„æºã€‚å› æ­¤ï¼Œæ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶çš„åº•å±‚æ”¯æŒï¼Œå¦‚Linuxç³»ç»Ÿæ”¯æŒçš„selectã€pollã€epollç­‰æŠ€æœ¯ï¼Œå¯¹äºå¼‚æ­¥ç¼–ç¨‹çš„å®ç°è‡³å…³é‡è¦ã€‚
ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ²¡æœ‰åº•å±‚æ”¯æŒæ—¶ï¼Œå¼‚æ­¥ç¼–ç¨‹å¯èƒ½é¢ä¸´çš„é—®é¢˜çš„ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">let</span> <span class="hljs-variable">op_a</span> <span class="hljs-operator">=</span> read_async(<span class="hljs-string">"a.txt"</span>);
<span class="hljs-type">let</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
<span class="hljs-comment">// å¦‚æœæ²¡æœ‰æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶çš„åº•å±‚æ”¯æ’‘ï¼Œå°†ä¸æ–­è½®è¯¢op_açš„ä»»åŠ¡çŠ¶æ€</span>
<span class="hljs-keyword">while</span> <span class="hljs-literal">true</span> {
  <span class="hljs-keyword">if</span> op_a.is_finish() {
    a = op_a.get_content();
    <span class="hljs-keyword">break</span>;
  }
}
print(a);
</code></pre>
<p><strong>é“¾å¼è°ƒç”¨</strong><br/>
â€œå›è°ƒåœ°ç‹±â€ï¼ˆCallback Hellï¼‰æ˜¯å¼‚æ­¥ç¼–ç¨‹ä¸­å¸¸è§çš„ä¸€ä¸ªé—®é¢˜ï¼Œå°¤å…¶åœ¨ JavaScript ç­‰å•çº¿ç¨‹ã€äº‹ä»¶é©±åŠ¨å‹è¯­è¨€ä¸­å°¤ä¸ºçªå‡ºã€‚å½“å¤šä¸ªå¼‚æ­¥æ“ä½œéœ€è¦æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œæ—¶ï¼Œå¼€å‘è€…å¯èƒ½ä¸å¾—ä¸åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­åµŒå¥—å¦ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¯¼è‡´ä»£ç å±‚çº§è¿‡æ·±ã€å¯è¯»æ€§å·®ã€éš¾ä»¥ç»´æŠ¤ã€‚
ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„â€œå›è°ƒåœ°ç‹±â€ç¤ºä¾‹ï¼ˆJavaScriptï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">login(user =&gt; {
    getStatus(status =&gt; {
        getOrder(order =&gt; {
            getPayment(payment =&gt; {
                getRecommendAdvertisements(ads =&gt; {
                    setTimeout(() =&gt; {
                        alert(ads)
                    }, <span class="hljs-number">1000</span>)
                })
            })
        })
    })
})
</code></pre>
<p>é“¾å¼è°ƒç”¨ï¼ˆChainingï¼‰æˆä¸ºä¸€ç§å¸¸ç”¨çš„ä¼˜åŒ–æ‰‹æ®µã€‚åœ¨ JavaScript ä¸­ï¼Œâ€ŒPromiseâ€Œ æœºåˆ¶æä¾›äº†é“¾å¼è°ƒç”¨çš„èƒ½åŠ›ã€‚æ¯ä¸ª â€ŒPromiseâ€Œ å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ª â€Œthenâ€Œ æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ â€ŒPromiseâ€Œ å¯¹è±¡ï¼Œä»è€Œå…è®¸å¼€å‘è€…å°†å¤šä¸ªå¼‚æ­¥æ“ä½œä¸²è”èµ·æ¥ï¼Œå½¢æˆæ¸…æ™°çš„é€»è¾‘æµã€‚
ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ â€ŒPromiseâ€Œ é“¾å¼è°ƒç”¨çš„ç¤ºä¾‹ï¼ˆJavaScriptï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">login(username, password)
    .then(user =&gt; getStatus(user.id))
    .then(status =&gt; getOrder(status.id))
    .then(order =&gt; getPayment(order.id))
    .then(payment =&gt; getRecommendAdvertisements(payment.total_amount))
    .then(ads =&gt; {<span class="hljs-comment">/*...*/</span>});
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œâ€ŒPromiseâ€Œ å¹¶ä¸æ˜¯ä¸€ç§å¯ä»¥å°†åŒæ­¥ä»£ç è½¬å˜ä¸ºå¼‚æ­¥ä»£ç çš„é­”æ³•å·¥å…·ã€‚å®ƒåªæ˜¯ä¸€ç§ç¼–ç¨‹æ‰‹æ³•ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ç§å°è£…æ–¹å¼ï¼Œå¹¶æ²¡æœ‰å€ŸåŠ©æ“ä½œç³»ç»Ÿçš„é¢å¤–èƒ½åŠ›ã€‚â€ŒPromiseâ€Œ çš„ä¸»è¦ä½œç”¨æ˜¯æä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥ç»„ç»‡å’Œç®¡ç†å¼‚æ­¥æ“ä½œï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºé˜…è¯»å’Œç†è§£ã€‚</p>
<p><strong>æ€»ç»“ï¼šä¸ç¡¬ä»¶å…±èˆï¼Œä¸å†²çªå’Œè§£</strong><br/>
Disruptorçš„ç¯å½¢ç¼“å†²ã€LongAdderçš„åˆ†æ•£çƒ­ç‚¹ã€Fork/Joinçš„å·¥ä½œçªƒå–ã€CompletableFutureçš„å¼‚æ­¥ç¼–æ’â€”â€”è¿™äº›çœ‹ä¼¼è¿¥å¼‚çš„æŠ€æœ¯ï¼Œå®åˆ™æ®Šé€”åŒå½’ã€‚å®ƒä»¬å…±åŒæ­ç¤ºäº†ç°ä»£å¹¶å‘è®¾è®¡çš„æ ¸å¿ƒè¦ä¹‰ï¼šä¸å…¶åœ¨å†²çªå‘ç”Ÿåè¢«åŠ¨åœ°åŠ é”ä»²è£ï¼Œä¸å¦‚åœ¨è®¾è®¡ä¹‹åˆå°±ä¸»åŠ¨åœ°æ¶ˆé™¤å†²çªã€‚
è¿™æ ‡å¿—ç€å¹¶å‘ç¼–ç¨‹çš„å…³æ³¨ç‚¹ï¼Œå·²ä»â€œå¦‚ä½•æ­£ç¡®åŠ é”â€çš„æˆ˜æœ¯å±‚é¢ï¼Œå‡åä¸ºâ€œå¦‚ä½•ç²¾å¦™åˆ†å·¥ã€é¿å…é”â€çš„æˆ˜ç•¥é«˜åº¦ã€‚
å½“æ‘©å°”å®šå¾‹çš„çº¢åˆ©é€æ¸æ¶ˆé€€ï¼ŒçœŸæ­£çš„æ€§èƒ½çªç ´ä¸å†ä¾èµ–äºç¡¬ä»¶çš„æš´åŠ›å †ç Œï¼Œè€Œæ˜¯æºäºè½¯ä»¶å±‚é¢ä¸ç¡¬ä»¶åº•å±‚æœºåˆ¶çš„â€œå…±èˆâ€ã€‚æ— è®ºæ˜¯åˆ©ç”¨ç¼“å­˜è¡Œç‰¹æ€§çš„å†…å­˜å¯¹é½ï¼Œè¿˜æ˜¯å€ŸåŠ©CASåŸå­æŒ‡ä»¤çš„ä¹è§‚æ›´æ–°ï¼Œæ¯ä¸€æ¬¡æŠ€æœ¯ä¼˜åŒ–éƒ½å°è¯äº†ä¸€ä¸ªç†å¿µï¼šç¡¬ä»¶æ€§èƒ½çš„æè‡´å‘æŒ¥ï¼Œæºäºå¯¹è®¡ç®—æœ¬è´¨çš„æ·±åˆ»ç†è§£ã€‚è¿™æ­£æ˜¯å¹¶å‘ç¼–ç¨‹ä»æŠ€æœ¯è¿ˆå‘è‰ºæœ¯çš„ç²¾é«“æ‰€åœ¨ã€‚</p>
<p><strong>å¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼å¦‚æœä½ å–œæ¬¢æœ¬æ–‡å†…å®¹ï¼Œè®°å¾—å…³æ³¨å“¦!!!</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOS6 æ¥å…¥å¿«æ‰‹ SDK æŒ‡å—]]></title>    <link>https://juejin.cn/post/7586559672129355828</link>    <guid>https://juejin.cn/post/7586559672129355828</guid>    <pubDate>2025-12-23T01:52:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586559672129355828" data-draft-id="7586531677721083939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOS6 æ¥å…¥å¿«æ‰‹ SDK æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-23T01:52:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‡å°‘"/> <meta itemprop="url" content="https://juejin.cn/user/4441682708283191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOS6 æ¥å…¥å¿«æ‰‹ SDK æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4441682708283191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‡å°‘
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.5 å¦‚é±¼å¾—æ°´
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.5 å¦‚é±¼å¾—æ°´" title="VIP.5 å¦‚é±¼å¾—æ°´" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T01:52:05.000Z" title="Tue Dec 23 2025 01:52:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<h3 data-id="heading-1">ä»‹ç»</h3>
<p>ç›®å‰å¿«æ‰‹å¼€æ”¾äº† æˆæƒã€å‘å¸ƒå•å›¾ã€å‘å¸ƒå•è§†é¢‘çš„é¸¿è’™èƒ½åŠ›ï¼Œå¼€å‘è€…å¦‚æœæœ‰éœ€è¦æ¥å…¥ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æµç¨‹æ“ä½œã€‚</p>
<h3 data-id="heading-2">æ•ˆæœä¸€è§ˆ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2efb24bff1c43b98eca37630f81061b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059524&amp;x-signature=SCXwcT%2BvwrYJxaf7yjl4Q0Aa2%2Bo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-3">ç¯å¢ƒå‡†å¤‡</h3>
<p>å¼€å‘è€…éœ€è¦åœ¨å¿«æ‰‹å¼€æ”¾å¹³å°å®Œæˆ<strong>æ³¨å†Œ</strong>ï¼Œæ–°å»ºä¸€ä¸ª<strong>åº”ç”¨</strong>ï¼Œå¹¶è·å–<strong>åº”ç”¨æ ‡è¯† appId</strong>Â ï¼Œè¯¦ç»†å‚è€ƒç”³è¯·æ³¨å†Œæµç¨‹ï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.kuaishou.com%2Fplatform" target="_blank" title="https://open.kuaishou.com/platform" ref="nofollow noopener noreferrer">open.kuaishou.com/platform</a></p>
<h3 data-id="heading-4">ç¯å¢ƒè¦æ±‚</h3>
<ul>
<li>å¿«æ‰‹ç‰ˆæœ¬ &gt;= 13.0.10</li>
<li>é¸¿è’™SDKç‰ˆæœ¬ &gt;= 12</li>
</ul>
<h3 data-id="heading-5">æ¥å…¥æ­¥éª¤</h3>
<ol>
<li>åœ¨æ¨¡å—ä¸­å¼•å…¥ SDKä¾èµ–ï¼Œå¦‚ Entryæ¨¡å—</li>
</ol>

<pre><code class="hljs language-perl" lang="perl">Â Â <span class="hljs-string">"dependencies"</span>: {Â  Â Â <span class="hljs-string">"@kwai_open_platform/opensdk"</span>:Â <span class="hljs-string">"^1.0.1"</span>
Â  }
</code></pre>
<p>2.  åœ¨ entry æ¨¡å—ä¸‹çš„ module.json5 æ–‡ä»¶ä¸­æ·»åŠ querySchemesé…ç½®ã€‚</p>
<blockquote>
<p>åœ¨é¸¿è’™åº”ç”¨çš„<code>module.json5</code>æ–‡ä»¶ä¸­é…ç½®<code>querySchemes</code>çš„ä½œç”¨æ˜¯<strong>å£°æ˜åº”ç”¨æ”¯æŒçš„URLåè®®ï¼ˆURL Schemeï¼‰</strong> ï¼Œå…è®¸å…¶ä»–åº”ç”¨æˆ–ç½‘é¡µé€šè¿‡ç‰¹å®šæ ¼å¼çš„URLè°ƒèµ·å½“å‰åº”ç”¨ã€‚å…·ä½“è§£æå¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p><strong>æ ¸å¿ƒåŠŸèƒ½å®ç°</strong>ç¤ºä¾‹ä¸­é…ç½®çš„<code>"kwai"</code>å’Œ<code>"ksnebula"</code>è¡¨ç¤ºè¯¥åº”ç”¨å¯ä»¥å“åº”ä»¥ä¸‹ä¸¤ç§æ ¼å¼çš„URLè¯·æ±‚ï¼š</p>
</li>
</ol>
<ul>
<li>
<p><code>kwai://...</code></p>
</li>
<li>
<p><code>ksnebula://...</code>å½“å…¶ä»–åº”ç”¨æˆ–ç³»ç»Ÿè§¦å‘è¿™ç±»é“¾æ¥æ—¶ï¼Œé¸¿è’™ç³»ç»Ÿä¼šå°è¯•å¯åŠ¨å½“å‰åº”ç”¨å¹¶ä¼ é€’å‚æ•°ã€‚</p>
</li>
</ul>
<ol start="3">
<li>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></p>
</li>
</ol>
<ul>
<li>è·¨åº”ç”¨è·³è½¬ï¼šå…¶ä»–åº”ç”¨é€šè¿‡<code>startAbility</code>å‘é€åŒ…å«å¯¹åº”Schemeçš„Wantå¯¹è±¡è°ƒèµ·æœ¬åº”ç”¨</li>
<li>ç½‘é¡µè·³è½¬ï¼šåœ¨æµè§ˆå™¨ä¸­ç‚¹å‡»<code>&lt;a href="kwai://detail?id=123"&gt;</code>ç±»é“¾æ¥è§¦å‘åº”ç”¨æ‰“å¼€</li>
<li>å¹¿å‘Šå¼•æµï¼šé€šè¿‡çŸ­ä¿¡ã€äºŒç»´ç ç­‰æ–¹å¼å¼•å¯¼ç”¨æˆ·é€šè¿‡ç‰¹å®šSchemeæ‰“å¼€åº”ç”¨æŒ‡å®šé¡µé¢</li>
</ul>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
Â  Â Â <span class="hljs-attr">"querySchemes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
Â  Â  Â Â <span class="hljs-string">"kwai"</span><span class="hljs-punctuation">,</span>
Â  Â  Â Â <span class="hljs-string">"ksnebula"</span>
Â  Â  <span class="hljs-punctuation">]</span>
Â  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>3.  åŒæ—¶è¿˜éœ€æ±‚ç”³è¯·ç½‘ç»œæƒé™</p>

<pre><code class="hljs language-json" lang="json">Â  Â Â <span class="hljs-attr">"requestPermissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
Â  Â  Â  <span class="hljs-punctuation">{</span>
Â  Â  Â  Â Â <span class="hljs-attr">"name"</span>Â <span class="hljs-punctuation">:</span>Â <span class="hljs-string">"ohos.permission.INTERNET"</span>
Â  Â  Â  <span class="hljs-punctuation">}</span>
Â  Â  <span class="hljs-punctuation">]</span>
</code></pre>
<p>4.  åœ¨æ¥å—å›è°ƒçš„ UIAbility çš„ onCreate å’Œ onNewWant æ–¹æ³•ä¸­ï¼Œè°ƒç”¨ kwaiOpenSdk.handleCallback æ–¹æ³•å¤„ç†å›è°ƒæ•°æ®ã€‚</p>
<blockquote>
<p><strong>onCreate</strong>Â è¡¨ç¤ºåº”ç”¨é¦–æ¬¡å¯åŠ¨</p>
<p><strong>onNewWant</strong>Â è¡¨ç¤ºåº”ç”¨å·²ç»å¯åŠ¨çš„ï¼Œç„¶åè¢«é‡æ–°æ‹‰èµ·</p>
</blockquote>
<pre><code class="hljs language-php" lang="php">importÂ { kwaiOpenSdk }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/KwaiOpensdk'</span>;

exportÂ <span class="hljs-keyword">default</span>Â <span class="hljs-class"><span class="hljs-keyword">class</span>Â <span class="hljs-title">EntryAbility</span>Â <span class="hljs-keyword">extends</span>Â <span class="hljs-title">UIAbility</span> </span>{
Â  <span class="hljs-title function_ invoke__">onCreate</span>(<span class="hljs-attr">want</span>: Want, <span class="hljs-attr">launchParam</span>: AbilityConstant.LaunchParam):Â <span class="hljs-keyword">void</span>Â {
Â  Â  kwaiOpenSdk.<span class="hljs-title function_ invoke__">handleCallback</span>(want)
Â  }

Â  <span class="hljs-title function_ invoke__">onNewWant</span>(<span class="hljs-attr">want</span>: Want, <span class="hljs-attr">launchParam</span>: AbilityConstant.LaunchParam):Â <span class="hljs-keyword">void</span>Â {
Â  Â  kwaiOpenSdk.<span class="hljs-title function_ invoke__">handleCallback</span>(want)
Â  }
}
</code></pre>
<p>5.  åˆå§‹åŒ–SDKï¼Œå¦‚åœ¨ Index.etsçš„aboutToAppearä¸­åˆå§‹åŒ–</p>

<pre><code class="hljs language-csharp" lang="csharp">Â  aboutToAppear():Â <span class="hljs-keyword">void</span>Â {
Â  Â Â <span class="hljs-comment">// åˆå§‹åŒ–å¿«æ‰‹SDK</span>
Â  Â  kwaiOpenSdk.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>.context);
Â  }
</code></pre>
<h3 data-id="heading-6">ç›¸å…³åŠŸèƒ½</h3>
<p>ç›®å‰SDKæä¾›æœ‰ æˆæƒ å’Œ å‘å¸ƒå•å›¾å’Œå‘å•è§†é¢‘èƒ½åŠ›ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€æ±‚å¼•å…¥ä½¿ç”¨</p>
<h4 data-id="heading-7">åˆå§‹åŒ–ä»£ç æ•°æ®</h4>
<blockquote>
<p>å®šä¹‰å¿«æ‰‹åº”ç”¨IDÂ <strong>APPID</strong></p>
<p>å®šä¹‰é¸¿è’™åº”ç”¨ID Â harmonyAppID</p>
<p>å®šä¹‰åª’ä½“é€‰æ‹©é€šç”¨æ–¹æ³•Â <strong>selectMedia</strong></p>
</blockquote>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¯¼å…¥å¿«æ‰‹å¼€æ”¾å¹³å°SDK</span>
<span class="hljs-keyword">import</span>Â { kwaiOpenSdk }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/KwaiOpensdk'</span>;
<span class="hljs-comment">// å¯¼å…¥AbilityKitç›¸å…³ç»„ä»¶</span>
<span class="hljs-keyword">import</span>Â { common }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.AbilityKit'</span>;
<span class="hljs-comment">// å¯¼å…¥æˆæƒè¯·æ±‚æ¨¡å‹</span>
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">AuthRequest</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/model/request/AuthRequest'</span>;
<span class="hljs-comment">// å¯¼å…¥æˆæƒå“åº”æ¨¡å‹</span>
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">AuthResponse</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/model/response/AuthResponse'</span>;
<span class="hljs-comment">// å¯¼å…¥æ—¥å¿—å·¥å…·</span>
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">Logger</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/utils/Logger'</span>;
<span class="hljs-comment">// å¯¼å…¥åˆ†äº«è¯·æ±‚æ¨¡å‹åˆ›å»ºå‡½æ•°</span>
<span class="hljs-keyword">import</span>Â {
Â  createSingleImagePublish,
Â  createSingleVideoPublish
}Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/model/request/ShareRequest'</span>;
<span class="hljs-comment">// å¯¼å…¥ArkTSé›†åˆæ¡†æ¶</span>
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">ArrayList</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.ArkTS'</span>;
<span class="hljs-comment">// å¯¼å…¥åª’ä½“åº“è®¿é—®åŠ©æ‰‹</span>
<span class="hljs-keyword">import</span>Â { photoAccessHelper }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.MediaLibraryKit'</span>;
<span class="hljs-comment">// å¯¼å…¥æ–‡ä»¶æ“ä½œç›¸å…³å·¥å…·</span>
<span class="hljs-keyword">import</span>Â { fileIo, fileUri }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.CoreFileKit'</span>;

<span class="hljs-comment">// å®šä¹‰å¿«æ‰‹åº”ç”¨ID</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-variable constant_">APPID</span> =Â <span class="hljs-string">"ks669910448092164647"</span>

<span class="hljs-comment">// å®šä¹‰é¸¿è’™åº”ç”¨ID</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-attr">harmonyAppID</span>:Â <span class="hljs-built_in">string</span>Â =Â <span class="hljs-string">"6917560710208292268"</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
Â Â <span class="hljs-comment">// è·å–UIAbilityä¸Šä¸‹æ–‡</span>
Â  context =Â <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>()Â <span class="hljs-keyword">as</span>Â common.<span class="hljs-property">UIAbilityContext</span>;
Â Â <span class="hljs-comment">// å›è°ƒç»“æœçŠ¶æ€</span>
Â Â <span class="hljs-meta">@State</span>Â <span class="hljs-attr">callbackResult</span>:Â <span class="hljs-built_in">boolean</span>Â =Â <span class="hljs-literal">false</span>;
Â Â <span class="hljs-comment">// æˆæƒç </span>
Â Â <span class="hljs-meta">@State</span>Â <span class="hljs-attr">authCode</span>:Â <span class="hljs-built_in">string</span>Â =Â <span class="hljs-string">""</span>;
Â Â <span class="hljs-comment">// é”™è¯¯ä¿¡æ¯</span>
Â Â <span class="hljs-meta">@State</span>Â <span class="hljs-attr">errMsg</span>:Â <span class="hljs-built_in">string</span>Â =Â <span class="hljs-string">""</span>;
Â Â <span class="hljs-comment">// é”™è¯¯ç </span>
Â Â <span class="hljs-meta">@State</span>Â <span class="hljs-attr">errCode</span>:Â <span class="hljs-built_in">number</span>Â =Â -<span class="hljs-number">1</span>;

Â  <span class="hljs-title function_">aboutToAppear</span>():Â <span class="hljs-built_in">void</span>Â {
Â  Â Â <span class="hljs-comment">// åˆå§‹åŒ–å¿«æ‰‹SDK</span>
Â  Â  kwaiOpenSdk.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);
Â  }


Â Â <span class="hljs-comment">// åª’ä½“é€‰æ‹©é€šç”¨æ–¹æ³•</span>
Â Â <span class="hljs-keyword">private</span>Â selectMedia&lt;T&gt;(
Â  Â  <span class="hljs-attr">callback</span>:Â <span class="hljs-function">(<span class="hljs-params">t: T</span>) =&gt;</span>Â <span class="hljs-built_in">void</span>,
Â  Â Â <span class="hljs-attr">type</span>: photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_TYPE</span> | photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">VIDEO_TYPE</span>,
Â  Â  <span class="hljs-attr">num</span>:Â <span class="hljs-built_in">number</span>Â =Â <span class="hljs-number">1</span>
Â  ) {
Â  Â Â <span class="hljs-comment">// åˆ›å»ºç…§ç‰‡é€‰æ‹©é€‰é¡¹</span>
Â  Â Â <span class="hljs-keyword">let</span>Â photoOptions =Â <span class="hljs-keyword">new</span>Â photoAccessHelper.<span class="hljs-title class_">PhotoSelectOptions</span>();
Â  Â Â <span class="hljs-comment">// è®¾ç½®MIMEç±»å‹ï¼ˆå›¾ç‰‡æˆ–è§†é¢‘ï¼‰</span>
Â  Â  photoOptions.<span class="hljs-property">MIMEType</span> =Â <span class="hljs-keyword">type</span>;
Â  Â Â <span class="hljs-comment">// è®¾ç½®æœ€å¤§é€‰æ‹©æ•°é‡</span>
Â  Â  photoOptions.<span class="hljs-property">maxSelectNumber</span> = num;

Â  Â Â <span class="hljs-comment">// åˆ›å»ºç…§ç‰‡é€‰æ‹©å™¨</span>
Â  Â Â <span class="hljs-keyword">let</span>Â picker =Â <span class="hljs-keyword">new</span>Â photoAccessHelper.<span class="hljs-title class_">PhotoViewPicker</span>();
Â  Â Â <span class="hljs-comment">// è°ƒç”¨é€‰æ‹©æ–¹æ³•</span>
Â  Â  picker.<span class="hljs-title function_">select</span>(photoOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">photoSelectResult: photoAccessHelper.PhotoSelectResult</span>) =&gt;</span>Â {
Â  Â  Â Â <span class="hljs-comment">// è·å–é€‰ä¸­çš„URIåˆ—è¡¨</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â <span class="hljs-attr">uris</span>:Â <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = photoSelectResult.<span class="hljs-property">photoUris</span>;
Â  Â  Â Â <span class="hljs-keyword">if</span>Â (uris.<span class="hljs-property">length</span> &gt;Â <span class="hljs-number">0</span>) {
Â  Â  Â  Â Â <span class="hljs-comment">// è·å–ç¬¬ä¸€ä¸ªURI</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â str = uris[<span class="hljs-number">0</span>];
Â  Â  Â  Â Â <span class="hljs-comment">// æå–æ–‡ä»¶å</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â fileName = str.<span class="hljs-title function_">substring</span>(str.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'/'</span>));
Â  Â  Â  Â Â <span class="hljs-comment">// æ„å»ºç›®æ ‡æ–‡ä»¶è·¯å¾„</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â desFilePath =Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-property">tempDir</span> + fileName;
Â  Â  Â  Â Â <span class="hljs-comment">// æ‰“å¼€æºæ–‡ä»¶ï¼ˆåªè¯»ï¼‰</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â srcFile = fileIo.<span class="hljs-title function_">openSync</span>(str, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>);
Â  Â  Â  Â Â <span class="hljs-comment">// æ‰“å¼€ç›®æ ‡æ–‡ä»¶ï¼ˆå†™ï¼Œå¦‚ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â desFile = fileIo.<span class="hljs-title function_">openSync</span>(desFilePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">WRITE_ONLY</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);
Â  Â  Â  Â Â <span class="hljs-comment">// å¤åˆ¶æ–‡ä»¶å†…å®¹</span>
Â  Â  Â  Â  fileIo.<span class="hljs-title function_">copyFileSync</span>(srcFile.<span class="hljs-property">fd</span>, desFile.<span class="hljs-property">fd</span>)
Â  Â  Â  Â Â <span class="hljs-comment">// å›è°ƒå¤„ç†ï¼Œä¼ é€’æ–‡ä»¶URI</span>
Â  Â  Â  Â  callback?.(fileUri.<span class="hljs-title function_">getUriFromPath</span>(desFilePath)Â <span class="hljs-keyword">as</span>Â T);
Â  Â  Â  }Â <span class="hljs-keyword">else</span>Â {
Â  Â  Â  Â Â <span class="hljs-comment">// æœªé€‰æ‹©èµ„æºæ—¶æ˜¾ç¤ºæç¤º</span>
Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({
Â  Â  Â  Â  Â  <span class="hljs-attr">message</span>:Â <span class="hljs-string">'æ²¡æœ‰é€‰æ‹©èµ„æº'</span>
Â  Â  Â  Â  })
Â  Â  Â  }
Â  Â  }).<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span>Â {
Â  Â  Â Â <span class="hljs-comment">// é€‰æ‹©å‡ºé”™æ—¶æ˜¾ç¤ºæç¤º</span>
Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({
Â  Â  Â  Â  <span class="hljs-attr">message</span>:Â <span class="hljs-string">'é€‰æ‹©èµ„æºerror'</span>
Â  Â  Â  })
Â  Â  })
Â  }
}
</code></pre>
<h4 data-id="heading-8">æ¥å…¥å¿«æ‰‹æˆæƒèƒ½åŠ›</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56d1f69d57684e85ae3b0522390890f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059524&amp;x-signature=DHyx5S3XDq9L1R2vqMBsgJu3js0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å‚æ•°è¯´æ˜:</p>
<p>å‚æ•°</p>
<p>è¯´æ˜</p>
<p>æ˜¯å¦å¿…å¡«</p>
<p>requiredScopes</p>
<p>ç”³è¯·è·å–ç”¨æˆ·çš„é‚£äº›æˆæƒä¿¡æ¯ï¼Œå¦‚æœéœ€è¦å¤šä¸ªscopeï¼Œç”¨ â€œ,â€ åˆ†å‰²ã€‚æ¯”å¦‚ï¼šuser_info,user_phone</p>
<p>æ˜¯</p>
<p>optional0Scopes</p>
<p>å¯é€‰scopeï¼Œæˆæƒé¡µå¯ä»¥å–æ¶ˆå‹¾é€‰ï¼Œé»˜éè®¤å‹¾é€‰æ€</p>
<p>å¦</p>
<p>optional1Scopes</p>
<p>å¯é€‰scopeï¼Œæˆæƒé¡µå¯ä»¥å–æ¶ˆå‹¾é€‰ï¼Œé»˜è®¤å‹¾é€‰æ€</p>
<p>å¦</p>
<p>callbackLocalEntry</p>
<p>å›è°ƒçš„UIAbilityåç§°ï¼Œéœ€è¦åœ¨module.jsonä¸­å£°æ˜</p>
<p>æ˜¯</p>
<p>abilityContext</p>
<p>å¦‚æœæ²¡æœ‰å®‰è£…å¿«æ‰‹ï¼Œä¼šè·³è½¬åˆ°åº”ç”¨å¸‚åœºå®‰è£…ã€‚ä¸ä¼ åˆ™ä¸ä¼šè·³è½¬åˆ°åº”ç”¨å¸‚åœº</p>
<p>å¦</p>
<pre><code class="hljs language-javascript" lang="javascript">Â Â <span class="hljs-comment">// æˆæƒåŠŸèƒ½å®ç°</span>
Â  fn1 =Â <span class="hljs-function">()Â =&gt;</span>Â {
Â  Â  {
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºæˆæƒè¯·æ±‚å¯¹è±¡</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â request =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">AuthRequest</span>(<span class="hljs-variable constant_">APPID</span>);
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å¿…éœ€çš„æƒé™èŒƒå›´</span>
Â  Â  Â  request.<span class="hljs-property">requiredScopes</span> =Â <span class="hljs-string">"user_phone,user_info"</span>;
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å¯é€‰æƒé™èŒƒå›´0</span>
Â  Â  Â  request.<span class="hljs-property">optional0Scopes</span> =Â <span class="hljs-string">"user_base,share_media,following,share_message"</span>
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å¯é€‰æƒé™èŒƒå›´1</span>
Â  Â  Â  request.<span class="hljs-property">optional1Scopes</span> =Â <span class="hljs-string">"user_growth_distribution,message,live,relation"</span>
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒå…¥å£</span>
Â  Â  Â  request.<span class="hljs-property">callbackLocalEntry</span> =Â <span class="hljs-string">"EntryAbility"</span>;
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®Abilityä¸Šä¸‹æ–‡</span>
Â  Â  Â  request.<span class="hljs-property">abilityContext</span> =Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>;
Â  Â  Â Â <span class="hljs-comment">// é‡è¦æç¤ºï¼Œè¿™è¡Œä»£ç ä¸è¦å¤åˆ¶</span>
Â  Â  Â  request.<span class="hljs-property">harmonyAppId</span> = harmonyAppID
Â  Â  Â Â <span class="hljs-comment">// è°ƒç”¨SDKæˆæƒæ¥å£</span>
Â  Â  Â  kwaiOpenSdk.<span class="hljs-title function_">createApi</span>().<span class="hljs-title function_">authorize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, request, {
Â  Â  Â  Â Â <span class="hljs-comment">// æˆæƒæˆåŠŸå›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onSuccess</span>:Â <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span>Â {
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"authCallback"</span>,Â <span class="hljs-string">"success......."</span>);
Â  Â  Â  Â  Â Â <span class="hljs-comment">// ä¿å­˜æˆæƒç </span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">authCode</span> = (resÂ <span class="hljs-keyword">as</span>Â <span class="hljs-title class_">AuthResponse</span>).<span class="hljs-property">code</span>;
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºæˆåŠŸ</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">true</span>;
Â  Â  Â  Â  },
Â  Â  Â  Â Â <span class="hljs-comment">// æˆæƒå¤±è´¥å›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onError</span>:Â <span class="hljs-function">(<span class="hljs-params">errorCode, msg</span>) =&gt;</span>Â {
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"authCallback"</span>,Â <span class="hljs-string">`failed, code:Â <span class="hljs-subst">${errorCode}</span>, msg:Â <span class="hljs-subst">${msg}</span>`</span>);
Â  Â  Â  Â  Â Â <span class="hljs-comment">// ä¿å­˜é”™è¯¯ä¿¡æ¯</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errMsg</span> = msg
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errCode</span> = errorCode
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºå¤±è´¥</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">false</span>;
Â  Â  Â  Â  }
Â  Â  Â  })
Â  Â  }
Â  }
</code></pre>
<h4 data-id="heading-9">æˆæƒ-é”™è¯¯ç </h4>
<p>é”™è¯¯ç </p>
<p>æè¿°</p>
<p>999</p>
<p>æˆåŠŸ</p>
<p>1000</p>
<p>appId is empty</p>
<p>1001</p>
<p>request is error</p>
<p>1002</p>
<p>request is empty</p>
<p>1003</p>
<p>request bundle id is empty</p>
<p>1004</p>
<p>request harmony app id is empty</p>
<p>1005</p>
<p>not install kuaishou app</p>
<p>2000</p>
<p>auth request requiredScopes is empty</p>
<p>2002</p>
<p>æ— æ•ˆçš„æˆæƒå†…å®¹</p>
<p>2101</p>
<p>æäº¤æˆæƒä¿¡æ¯å¤±è´¥ï¼Œç¼ºå°‘æˆæƒå‚æ•°</p>
<p>100200100</p>
<p>è¯·æ±‚ç¼ºå°‘å‚æ•°æˆ–å‚æ•°ç±»å‹é”™è¯¯</p>
<p>100200101</p>
<p>æ— æ•ˆçš„clientï¼Œæ— æ•ˆçš„ app æˆ– developerï¼Œå¯èƒ½æ˜¯éªŒè¯å‚æ•°ä¸æ­£ç¡®ï¼ˆå›è°ƒåœ°å€ç­‰ä¿¡æ¯ï¼‰</p>
<p>100200102</p>
<p>è¯·æ±‚è¢«æ‹’ç»ï¼Œå¯èƒ½æ˜¯æ— æ•ˆçš„ token ç­‰</p>
<p>100200103</p>
<p>è¯·æ±‚çš„ responseType é”™è¯¯</p>
<p>100200104</p>
<p>è¯·æ±‚çš„ grantType ä¸æ”¯æŒ</p>
<p>100200105</p>
<p>è¯·æ±‚çš„ code é”™è¯¯</p>
<p>100200106</p>
<p>è¯·æ±‚çš„ scope é”™è¯¯</p>
<p>100200107</p>
<p>æ— æ•ˆçš„ openid</p>
<p>100200108</p>
<p>access_tokenè¿‡æœŸ</p>
<p>100200109</p>
<p>ç”¨æˆ·å–æ¶ˆè¯¥ app æˆæƒ</p>
<p>100200110</p>
<p>ç”¨æˆ·æˆæƒè¿‡æœŸ</p>
<p>100200111</p>
<p>ç”¨æˆ·æœªæˆæƒè¿‡</p>
<p>100200112</p>
<p>bundleTokenä¸åˆæ³•</p>
<p>100200113</p>
<p>refresh_tokenè¿‡æœŸ</p>
<p>100200500</p>
<p>æœåŠ¡å†…éƒ¨é”™è¯¯</p>
<h4 data-id="heading-10">æ¥å…¥å‘å¸ƒå•å›¾èƒ½åŠ›</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e45648e69f8d4128881e4695df231e5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059524&amp;x-signature=JGyeCEueX6yHa39i64aDS9EMY%2Bk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li><strong>åˆ†äº«è¯·æ±‚æ„å»º</strong>ï¼š</li>
<li>ä½¿ç”¨<code>createSingleImagePublish(APPID)</code>åˆ›å»ºå•å›¾åˆ†äº«è¯·æ±‚å¯¹è±¡</li>
<li>åˆå§‹åŒ–<code>ArrayList</code>å­˜å‚¨åª’ä½“URIåˆ—è¡¨ï¼Œå¹¶æ·»åŠ é€‰ä¸­å›¾ç‰‡çš„URI</li>
<li>è®¾ç½®<code>callbackLocalEntry</code>æŒ‡å®šå›è°ƒå…¥å£ä¸º<strong>EntryAbility</strong></li>
<li><strong>å…³é”®å‚æ•°é…ç½®</strong>ï¼š</li>
<li>æ˜¾å¼è®¾ç½®<code>harmonyAppId</code>å‚æ•°ï¼ˆæ³¨é‡Šæç¤ºè¯¥è¡Œä»£ç å…·æœ‰é‡è¦æ€§ï¼‰</li>
<li>é€šè¿‡ä¸Šä¸‹æ–‡<code>this.context</code>ä¿æŒä¸å½“å‰é¡µé¢çš„å…³è”</li>
<li><strong>SDKè°ƒç”¨ä¸ç»“æœå¤„ç†</strong>ï¼š</li>
</ol>
<p>è°ƒç”¨<code>kwaiOpenSdk.createApi().share()</code>æ–¹æ³•æ‰§è¡Œå®é™…åˆ†äº«æ“ä½œ</p>
<pre><code class="hljs language-typescript" lang="typescript">Â  fn2 =Â <span class="hljs-function">()Â =&gt;</span>Â {
Â  Â Â <span class="hljs-comment">// è°ƒç”¨åª’ä½“é€‰æ‹©æ–¹æ³•ï¼ŒæŒ‡å®šå›¾ç‰‡ç±»å‹</span>
Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectMedia</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-function">(<span class="hljs-params">url:Â <span class="hljs-built_in">string</span></span>) =&gt;</span> {
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºå•å›¾åˆ†äº«è¯·æ±‚å¯¹è±¡</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â shareRequest = <span class="hljs-title function_">createSingleImagePublish</span>(<span class="hljs-variable constant_">APPID</span>);
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºåª’ä½“URIåˆ—è¡¨</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â <span class="hljs-attr">list</span>: <span class="hljs-title class_">ArrayList</span>&lt;<span class="hljs-built_in">string</span>&gt; =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">ArrayList</span>();
Â  Â  Â Â <span class="hljs-comment">// æ·»åŠ é€‰ä¸­çš„å›¾ç‰‡URI</span>
Â  Â  Â  list.<span class="hljs-title function_">add</span>(url);
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®åª’ä½“URIåˆ—è¡¨</span>
Â  Â  Â  shareRequest.<span class="hljs-property">mediaUri</span> = list;
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒå…¥å£</span>
Â  Â  Â  shareRequest.<span class="hljs-property">callbackLocalEntry</span> = <span class="hljs-string">"EntryAbility"</span>;
Â  Â  Â Â <span class="hljs-comment">// é‡è¦æç¤ºï¼Œè¿™è¡Œä»£ç ä¸è¦å¤åˆ¶</span>
Â  Â  Â  shareRequest.<span class="hljs-property">harmonyAppId</span> = harmonyAppID

Â  Â  Â Â <span class="hljs-comment">// è°ƒç”¨SDKåˆ†äº«æ¥å£</span>
Â  Â  Â  kwaiOpenSdk.<span class="hljs-title function_">createApi</span>().<span class="hljs-title function_">share</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, shareRequest, {
Â  Â  Â  Â Â <span class="hljs-comment">// åˆ†äº«æˆåŠŸå›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºæˆåŠŸ</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">true</span>;
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"shareCallback"</span>, <span class="hljs-string">"success......."</span>);
Â  Â  Â  Â  },
Â  Â  Â  Â Â <span class="hljs-comment">// åˆ†äº«å¤±è´¥å›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">errorCode, msg</span>) =&gt;</span> {
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºå¤±è´¥</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">false</span>;
Â  Â  Â  Â  Â Â <span class="hljs-comment">// ä¿å­˜é”™è¯¯ä¿¡æ¯</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errMsg</span> = msg
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errCode</span> = errorCode
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"shareCallback"</span>, <span class="hljs-string">`failed, code: <span class="hljs-subst">${errorCode}</span>, msg: <span class="hljs-subst">${msg}</span>`</span>);
Â  Â  Â  Â  }
Â  Â  Â  })
Â  Â  }, photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_TYPE</span>);
Â  }
</code></pre>
<h4 data-id="heading-11">æ¥å…¥å‘å¸ƒå•è§†é¢‘èƒ½åŠ›</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63f49a52ff4a4256b69c2fd950e84b56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059524&amp;x-signature=EFFPl7pdS2xGPvci74YRiep%2BS7g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li><strong>è§†é¢‘åˆ†äº«è¯·æ±‚æ„å»º</strong></li>
</ol>
<ul>
<li>åˆå§‹åŒ–<code>ArrayList</code>å®¹å™¨</li>
<li>å°†è§†é¢‘URIæ·»åŠ åˆ°å®¹å™¨</li>
<li>è®¾ç½®è¯·æ±‚çš„<code>mediaUri</code>å±æ€§ä¸ºå®¹å™¨å¯¹è±¡</li>
</ul>
<ol>
<li>å¯¹è±¡åˆ›å»ºï¼š<code>createSingleVideoPublish(APPID)</code>ç”Ÿæˆè§†é¢‘åˆ†äº«è¯·æ±‚å¯¹è±¡ï¼ˆåŒºåˆ«äºå›¾ç‰‡æ¥å£ï¼‰</li>
<li>åª’ä½“åˆ—è¡¨ç®¡ç†ï¼š</li>
<li><strong>å…³é”®å‚æ•°é…ç½®</strong></li>
<li><code>callbackLocalEntry</code>æŒ‡å®šå›è°ƒå…¥å£ä¸º"EntryAbility"ï¼ˆéœ€ä¸å®é™…Abilityåç§°ä¸€è‡´ï¼‰</li>
<li><code>harmonyAppId</code>æ˜¾å¼èµ‹å€¼ï¼ˆé€šè¿‡ç‹¬ç«‹å˜é‡<code>harmonyAppID</code>æ³¨å…¥ï¼Œéœ€ç¡®ä¿é…ç½®æœ‰æ•ˆæ€§ï¼‰</li>
<li><strong>SDKè°ƒç”¨ä¸å“åº”å¤„ç†</strong></li>
</ol>
<p>é€šè¿‡<code>kwaiOpenSdk.createApi().share()</code>å‘èµ·åˆ†äº«è¯·æ±‚ï¼Œä¼ å…¥ä¸Šä¸‹æ–‡å¯¹è±¡å’Œé…ç½®å‚</p>
<pre><code class="hljs language-typescript" lang="typescript">Â Â <span class="hljs-comment">// å‘å¸ƒå•è§†é¢‘åŠŸèƒ½å®ç°</span>
Â  fn3 =Â <span class="hljs-function">()Â =&gt;</span>Â {
Â  Â Â <span class="hljs-comment">// è°ƒç”¨åª’ä½“é€‰æ‹©æ–¹æ³•ï¼ŒæŒ‡å®šè§†é¢‘ç±»å‹</span>
Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectMedia</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-function">(<span class="hljs-params">url:Â <span class="hljs-built_in">string</span></span>) =&gt;</span> {
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºå•è§†é¢‘åˆ†äº«è¯·æ±‚å¯¹è±¡</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â shareRequest = <span class="hljs-title function_">createSingleVideoPublish</span>(<span class="hljs-variable constant_">APPID</span>);
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºåª’ä½“URIåˆ—è¡¨</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â <span class="hljs-attr">list</span>: <span class="hljs-title class_">ArrayList</span>&lt;<span class="hljs-built_in">string</span>&gt; =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">ArrayList</span>();
Â  Â  Â Â <span class="hljs-comment">// æ·»åŠ é€‰ä¸­çš„è§†é¢‘URI</span>
Â  Â  Â  list.<span class="hljs-title function_">add</span>(url);
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®åª’ä½“URIåˆ—è¡¨</span>
Â  Â  Â  shareRequest.<span class="hljs-property">mediaUri</span> = list;
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒå…¥å£</span>
Â  Â  Â  shareRequest.<span class="hljs-property">callbackLocalEntry</span> = <span class="hljs-string">"EntryAbility"</span>;
Â  Â  Â Â <span class="hljs-comment">// é‡è¦æç¤ºï¼Œè¿™è¡Œä»£ç ä¸è¦å¤åˆ¶</span>
Â  Â  Â  shareRequest.<span class="hljs-property">harmonyAppId</span> = harmonyAppID
Â  Â  Â Â <span class="hljs-comment">// è°ƒç”¨SDKåˆ†äº«æ¥å£</span>
Â  Â  Â  kwaiOpenSdk.<span class="hljs-title function_">createApi</span>().<span class="hljs-title function_">share</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, shareRequest, {
Â  Â  Â  Â Â <span class="hljs-comment">// åˆ†äº«æˆåŠŸå›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºæˆåŠŸ</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">true</span>;
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"shareCallback"</span>, <span class="hljs-string">"success......."</span>);
Â  Â  Â  Â  },
Â  Â  Â  Â Â <span class="hljs-comment">// åˆ†äº«å¤±è´¥å›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">errorCode, msg</span>) =&gt;</span> {
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºå¤±è´¥</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">false</span>;
Â  Â  Â  Â  Â Â <span class="hljs-comment">// ä¿å­˜é”™è¯¯ä¿¡æ¯</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errMsg</span> = msg
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errCode</span> = errorCode
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"shareCallback"</span>, <span class="hljs-string">`failed, code: <span class="hljs-subst">${errorCode}</span>, msg: <span class="hljs-subst">${msg}</span>`</span>);
Â  Â  Â  Â  }
Â  Â  Â  })
Â  Â  }, photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">VIDEO_TYPE</span>);
Â  }
</code></pre>
<h4 data-id="heading-12">å‘å¸ƒå•å›¾-å‘å¸ƒå•è§†é¢‘çš„é”™è¯¯ç </h4>
<p>é”™è¯¯ç </p>
<p>æè¿°</p>
<p>999</p>
<p>æˆåŠŸ</p>
<p>1000</p>
<p>appId is empty</p>
<p>1001</p>
<p>request is error</p>
<p>1002</p>
<p>request is empty</p>
<p>1003</p>
<p>request bundle id is empty</p>
<p>1004</p>
<p>request harmony app id is empty</p>
<p>1005</p>
<p>not install kuaishou app</p>
<p>3000</p>
<p>ç”¨æˆ·å–æ¶ˆ</p>
<p>3001</p>
<p>æ¡†æ¶å‡ºé”™ï¼Œè¯·åé¦ˆå®¢æœ</p>
<p>3002</p>
<p>å‚æ•°é”™è¯¯ï¼ŒåŒ…å«shareTypeã€appIdã€harmonyIdã€mediaUriç­‰ç›¸å…³å‚æ•°</p>
<p>3003</p>
<p>æ‰“å¼€å‘å¸ƒé¡µå¤±è´¥</p>
<p>3004</p>
<p>ç½‘ç»œé”™è¯¯</p>
<p>3005</p>
<p>å‘å¸ƒè¯·æ±‚è¿‡äºé¢‘ç¹ï¼ˆ3så†…é‡å¤è°ƒç”¨ï¼‰</p>
<p>3006</p>
<p>è§†é¢‘sizeè¶…è¿‡æœ€å¤§å¤§å°</p>
<p>3007</p>
<p>å›¾ç‰‡sizeè¶…è¿‡æœ€å¤§å¤§å°</p>
<p>3008</p>
<p>æ‹’ç»å½“æ¬¡åˆ†äº«åŠ¨ä½œï¼›å¦‚æœæ˜¯å‘å¸ƒè§†é¢‘:è¯·æ£€æŸ¥è§†é¢‘é•¿åº¦</p>
<p>3009</p>
<p>é‰´æƒå¤±è´¥</p>
<h3 data-id="heading-13">å®Œæ•´ Index.ets ä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¯¼å…¥å¿«æ‰‹å¼€æ”¾å¹³å°SDK</span>
<span class="hljs-keyword">import</span>Â { kwaiOpenSdk }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/KwaiOpensdk'</span>;
<span class="hljs-comment">// å¯¼å…¥AbilityKitç›¸å…³ç»„ä»¶</span>
<span class="hljs-keyword">import</span>Â { common }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.AbilityKit'</span>;
<span class="hljs-comment">// å¯¼å…¥æˆæƒè¯·æ±‚æ¨¡å‹</span>
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">AuthRequest</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/model/request/AuthRequest'</span>;
<span class="hljs-comment">// å¯¼å…¥æˆæƒå“åº”æ¨¡å‹</span>
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">AuthResponse</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/model/response/AuthResponse'</span>;
<span class="hljs-comment">// å¯¼å…¥æ—¥å¿—å·¥å…·</span>
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">Logger</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/utils/Logger'</span>;
<span class="hljs-comment">// å¯¼å…¥åˆ†äº«è¯·æ±‚æ¨¡å‹åˆ›å»ºå‡½æ•°</span>
<span class="hljs-keyword">import</span>Â {
Â  createSingleImagePublish,
Â  createSingleVideoPublish
}Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kwai_open_platform/opensdk/src/main/ets/model/request/ShareRequest'</span>;
<span class="hljs-comment">// å¯¼å…¥ArkTSé›†åˆæ¡†æ¶</span>
<span class="hljs-keyword">import</span>Â { <span class="hljs-title class_">ArrayList</span> }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.ArkTS'</span>;
<span class="hljs-comment">// å¯¼å…¥åª’ä½“åº“è®¿é—®åŠ©æ‰‹</span>
<span class="hljs-keyword">import</span>Â { photoAccessHelper }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.MediaLibraryKit'</span>;
<span class="hljs-comment">// å¯¼å…¥æ–‡ä»¶æ“ä½œç›¸å…³å·¥å…·</span>
<span class="hljs-keyword">import</span>Â { fileIo, fileUri }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.CoreFileKit'</span>;

<span class="hljs-comment">// å®šä¹‰å¿«æ‰‹åº”ç”¨ID</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-variable constant_">APPID</span> =Â <span class="hljs-string">"ks669910448092164647"</span>

<span class="hljs-comment">// å®šä¹‰é¸¿è’™åº”ç”¨ID</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-attr">harmonyAppID</span>:Â <span class="hljs-built_in">string</span>Â =Â <span class="hljs-string">"6917560710208292268"</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
Â Â <span class="hljs-comment">// è·å–UIAbilityä¸Šä¸‹æ–‡</span>
Â  context =Â <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>()Â <span class="hljs-keyword">as</span>Â common.<span class="hljs-property">UIAbilityContext</span>;
Â Â <span class="hljs-comment">// å›è°ƒç»“æœçŠ¶æ€</span>
Â Â <span class="hljs-meta">@State</span>Â <span class="hljs-attr">callbackResult</span>:Â <span class="hljs-built_in">boolean</span>Â =Â <span class="hljs-literal">false</span>;
Â Â <span class="hljs-comment">// æˆæƒç </span>
Â Â <span class="hljs-meta">@State</span>Â <span class="hljs-attr">authCode</span>:Â <span class="hljs-built_in">string</span>Â =Â <span class="hljs-string">""</span>;
Â Â <span class="hljs-comment">// é”™è¯¯ä¿¡æ¯</span>
Â Â <span class="hljs-meta">@State</span>Â <span class="hljs-attr">errMsg</span>:Â <span class="hljs-built_in">string</span>Â =Â <span class="hljs-string">""</span>;
Â Â <span class="hljs-comment">// é”™è¯¯ç </span>
Â Â <span class="hljs-meta">@State</span>Â <span class="hljs-attr">errCode</span>:Â <span class="hljs-built_in">number</span>Â =Â -<span class="hljs-number">1</span>;

Â  <span class="hljs-title function_">aboutToAppear</span>():Â <span class="hljs-built_in">void</span>Â {
Â  Â Â <span class="hljs-comment">// åˆå§‹åŒ–å¿«æ‰‹SDK</span>
Â  Â  kwaiOpenSdk.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);
Â  }

Â Â <span class="hljs-comment">// æˆæƒåŠŸèƒ½å®ç°</span>
Â  fn1 =Â <span class="hljs-function">()Â =&gt;</span>Â {
Â  Â  {
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºæˆæƒè¯·æ±‚å¯¹è±¡</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â request =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">AuthRequest</span>(<span class="hljs-variable constant_">APPID</span>);
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å¿…éœ€çš„æƒé™èŒƒå›´</span>
Â  Â  Â  request.<span class="hljs-property">requiredScopes</span> =Â <span class="hljs-string">"user_phone,user_info"</span>;
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å¯é€‰æƒé™èŒƒå›´0</span>
Â  Â  Â  request.<span class="hljs-property">optional0Scopes</span> =Â <span class="hljs-string">"user_base,share_media,following,share_message"</span>
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å¯é€‰æƒé™èŒƒå›´1</span>
Â  Â  Â  request.<span class="hljs-property">optional1Scopes</span> =Â <span class="hljs-string">"user_growth_distribution,message,live,relation"</span>
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒå…¥å£</span>
Â  Â  Â  request.<span class="hljs-property">callbackLocalEntry</span> =Â <span class="hljs-string">"EntryAbility"</span>;
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®Abilityä¸Šä¸‹æ–‡</span>
Â  Â  Â  request.<span class="hljs-property">abilityContext</span> =Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>;
Â  Â  Â Â <span class="hljs-comment">// é‡è¦æç¤ºï¼Œè¿™è¡Œä»£ç ä¸è¦å¤åˆ¶</span>
Â  Â  Â  request.<span class="hljs-property">harmonyAppId</span> = harmonyAppID
Â  Â  Â Â <span class="hljs-comment">// è°ƒç”¨SDKæˆæƒæ¥å£</span>
Â  Â  Â  kwaiOpenSdk.<span class="hljs-title function_">createApi</span>().<span class="hljs-title function_">authorize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, request, {
Â  Â  Â  Â Â <span class="hljs-comment">// æˆæƒæˆåŠŸå›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onSuccess</span>:Â <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span>Â {
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"authCallback"</span>,Â <span class="hljs-string">"success......."</span>);
Â  Â  Â  Â  Â Â <span class="hljs-comment">// ä¿å­˜æˆæƒç </span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">authCode</span> = (resÂ <span class="hljs-keyword">as</span>Â <span class="hljs-title class_">AuthResponse</span>).<span class="hljs-property">code</span>;
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºæˆåŠŸ</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">true</span>;
Â  Â  Â  Â  },
Â  Â  Â  Â Â <span class="hljs-comment">// æˆæƒå¤±è´¥å›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onError</span>:Â <span class="hljs-function">(<span class="hljs-params">errorCode, msg</span>) =&gt;</span>Â {
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"authCallback"</span>,Â <span class="hljs-string">`failed, code:Â <span class="hljs-subst">${errorCode}</span>, msg:Â <span class="hljs-subst">${msg}</span>`</span>);
Â  Â  Â  Â  Â Â <span class="hljs-comment">// ä¿å­˜é”™è¯¯ä¿¡æ¯</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errMsg</span> = msg
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errCode</span> = errorCode
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºå¤±è´¥</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">false</span>;
Â  Â  Â  Â  }
Â  Â  Â  })
Â  Â  }
Â  }
Â Â <span class="hljs-comment">// å‘å¸ƒå•å›¾åŠŸèƒ½å®ç°</span>
Â  fn2 =Â <span class="hljs-function">()Â =&gt;</span>Â {
Â  Â Â <span class="hljs-comment">// è°ƒç”¨åª’ä½“é€‰æ‹©æ–¹æ³•ï¼ŒæŒ‡å®šå›¾ç‰‡ç±»å‹</span>
Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectMedia</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-function">(<span class="hljs-params">url:Â <span class="hljs-built_in">string</span></span>) =&gt;</span> {
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºå•å›¾åˆ†äº«è¯·æ±‚å¯¹è±¡</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â shareRequest = <span class="hljs-title function_">createSingleImagePublish</span>(<span class="hljs-variable constant_">APPID</span>);
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºåª’ä½“URIåˆ—è¡¨</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â <span class="hljs-attr">list</span>: <span class="hljs-title class_">ArrayList</span>&lt;<span class="hljs-built_in">string</span>&gt; =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">ArrayList</span>();
Â  Â  Â Â <span class="hljs-comment">// æ·»åŠ é€‰ä¸­çš„å›¾ç‰‡URI</span>
Â  Â  Â  list.<span class="hljs-title function_">add</span>(url);
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®åª’ä½“URIåˆ—è¡¨</span>
Â  Â  Â  shareRequest.<span class="hljs-property">mediaUri</span> = list;
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒå…¥å£</span>
Â  Â  Â  shareRequest.<span class="hljs-property">callbackLocalEntry</span> = <span class="hljs-string">"EntryAbility"</span>;
Â  Â  Â Â <span class="hljs-comment">// é‡è¦æç¤ºï¼Œè¿™è¡Œä»£ç ä¸è¦å¤åˆ¶</span>
Â  Â  Â  shareRequest.<span class="hljs-property">harmonyAppId</span> = harmonyAppID

Â  Â  Â Â <span class="hljs-comment">// è°ƒç”¨SDKåˆ†äº«æ¥å£</span>
Â  Â  Â  kwaiOpenSdk.<span class="hljs-title function_">createApi</span>().<span class="hljs-title function_">share</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, shareRequest, {
Â  Â  Â  Â Â <span class="hljs-comment">// åˆ†äº«æˆåŠŸå›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºæˆåŠŸ</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">true</span>;
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"shareCallback"</span>, <span class="hljs-string">"success......."</span>);
Â  Â  Â  Â  },
Â  Â  Â  Â Â <span class="hljs-comment">// åˆ†äº«å¤±è´¥å›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">errorCode, msg</span>) =&gt;</span> {
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºå¤±è´¥</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">false</span>;
Â  Â  Â  Â  Â Â <span class="hljs-comment">// ä¿å­˜é”™è¯¯ä¿¡æ¯</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errMsg</span> = msg
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errCode</span> = errorCode
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"shareCallback"</span>, <span class="hljs-string">`failed, code: <span class="hljs-subst">${errorCode}</span>, msg: <span class="hljs-subst">${msg}</span>`</span>);
Â  Â  Â  Â  }
Â  Â  Â  })
Â  Â  }, photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_TYPE</span>);
Â  }
Â  <span class="hljs-comment">// å‘å¸ƒå•è§†é¢‘åŠŸèƒ½å®ç°</span>
Â Â fn3Â =Â <span class="hljs-function">()Â =&gt;</span>Â {
Â  Â Â <span class="hljs-comment">// è°ƒç”¨åª’ä½“é€‰æ‹©æ–¹æ³•ï¼ŒæŒ‡å®šè§†é¢‘ç±»å‹</span>
Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectMedia</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-function">(<span class="hljs-params">url:Â <span class="hljs-built_in">string</span></span>) =&gt;</span> {
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºå•è§†é¢‘åˆ†äº«è¯·æ±‚å¯¹è±¡</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â shareRequest = <span class="hljs-title function_">createSingleVideoPublish</span>(<span class="hljs-variable constant_">APPID</span>);
Â  Â  Â Â <span class="hljs-comment">// åˆ›å»ºåª’ä½“URIåˆ—è¡¨</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â <span class="hljs-attr">list</span>: <span class="hljs-title class_">ArrayList</span>&lt;<span class="hljs-built_in">string</span>&gt; =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">ArrayList</span>();
Â  Â  Â Â <span class="hljs-comment">// æ·»åŠ é€‰ä¸­çš„è§†é¢‘URI</span>
Â  Â  Â  list.<span class="hljs-title function_">add</span>(url);
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®åª’ä½“URIåˆ—è¡¨</span>
Â  Â  Â  shareRequest.<span class="hljs-property">mediaUri</span> = list;
Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒå…¥å£</span>
Â  Â  Â  shareRequest.<span class="hljs-property">callbackLocalEntry</span> = <span class="hljs-string">"EntryAbility"</span>;
Â  Â  Â Â <span class="hljs-comment">// é‡è¦æç¤ºï¼Œè¿™è¡Œä»£ç ä¸è¦å¤åˆ¶</span>
Â  Â  Â  shareRequest.<span class="hljs-property">harmonyAppId</span> = harmonyAppID
Â  Â  Â Â <span class="hljs-comment">// è°ƒç”¨SDKåˆ†äº«æ¥å£</span>
Â  Â  Â  kwaiOpenSdk.<span class="hljs-title function_">createApi</span>().<span class="hljs-title function_">share</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, shareRequest, {
Â  Â  Â  Â Â <span class="hljs-comment">// åˆ†äº«æˆåŠŸå›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºæˆåŠŸ</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">true</span>;
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"shareCallback"</span>, <span class="hljs-string">"success......."</span>);
Â  Â  Â  Â  },
Â  Â  Â  Â Â <span class="hljs-comment">// åˆ†äº«å¤±è´¥å›è°ƒ</span>
Â  Â  Â  Â  <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">errorCode, msg</span>) =&gt;</span> {
Â  Â  Â  Â  Â Â <span class="hljs-comment">// è®¾ç½®å›è°ƒç»“æœä¸ºå¤±è´¥</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackResult</span> =Â <span class="hljs-literal">false</span>;
Â  Â  Â  Â  Â Â <span class="hljs-comment">// ä¿å­˜é”™è¯¯ä¿¡æ¯</span>
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errMsg</span> = msg
Â  Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">errCode</span> = errorCode
Â  Â  Â  Â  Â  <span class="hljs-title class_">Logger</span>.<span class="hljs-title function_">i</span>(<span class="hljs-string">"shareCallback"</span>, <span class="hljs-string">`failed, code: <span class="hljs-subst">${errorCode}</span>, msg: <span class="hljs-subst">${msg}</span>`</span>);
Â  Â  Â  Â  }
Â  Â  Â  })
Â  Â  }, photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">VIDEO_TYPE</span>);
Â  }

Â Â <span class="hljs-title function_">build</span>(<span class="hljs-params"/>)Â {
Â  Â Â <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {
Â  Â  Â Â <span class="hljs-title class_">Button</span>(<span class="hljs-string">"æˆæƒ"</span>)
Â  Â  Â  Â  .<span class="hljs-title function_">onClick</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">fn1</span>)
Â  Â  Â Â <span class="hljs-title class_">Button</span>(<span class="hljs-string">"å‘å¸ƒå•å›¾"</span>)
Â  Â  Â  Â  .<span class="hljs-title function_">onClick</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">fn2</span>)
Â  Â  Â Â <span class="hljs-title class_">Button</span>(<span class="hljs-string">"å‘å¸ƒå•è§†é¢‘"</span>)
Â  Â  Â  Â  .<span class="hljs-title function_">onClick</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">fn3</span>)
Â  Â  }
Â  Â  .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
Â  Â  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
Â  }

Â  <span class="hljs-comment">// åª’ä½“é€‰æ‹©é€šç”¨æ–¹æ³•</span>
Â Â <span class="hljs-keyword">private</span>Â selectMedia&lt;T&gt;(
Â  Â  <span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">t: T</span>) =&gt;</span>Â <span class="hljs-built_in">void</span>,
Â  Â Â <span class="hljs-attr">type</span>: photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_TYPE</span> | photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">VIDEO_TYPE</span>,
Â  Â  <span class="hljs-attr">num</span>:Â <span class="hljs-built_in">number</span>Â = <span class="hljs-number">1</span>
Â Â ) {
Â  Â  <span class="hljs-comment">// åˆ›å»ºç…§ç‰‡é€‰æ‹©é€‰é¡¹</span>
Â  Â Â <span class="hljs-keyword">let</span>Â photoOptionsÂ =Â <span class="hljs-keyword">new</span>Â photoAccessHelper.<span class="hljs-title class_">PhotoSelectOptions</span>();
Â  Â  <span class="hljs-comment">// è®¾ç½®MIMEç±»å‹ï¼ˆå›¾ç‰‡æˆ–è§†é¢‘ï¼‰</span>
Â  Â Â photoOptions.<span class="hljs-property">MIMEType</span>Â =Â <span class="hljs-keyword">type</span>;
Â  Â  <span class="hljs-comment">// è®¾ç½®æœ€å¤§é€‰æ‹©æ•°é‡</span>
Â  Â Â photoOptions.<span class="hljs-property">maxSelectNumber</span>Â =Â num;

Â  Â  <span class="hljs-comment">// åˆ›å»ºç…§ç‰‡é€‰æ‹©å™¨</span>
Â  Â Â <span class="hljs-keyword">let</span>Â pickerÂ =Â <span class="hljs-keyword">new</span>Â photoAccessHelper.<span class="hljs-title class_">PhotoViewPicker</span>();
Â  Â  <span class="hljs-comment">// è°ƒç”¨é€‰æ‹©æ–¹æ³•</span>
Â  Â Â picker.<span class="hljs-title function_">select</span>(photoOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">photoSelectResult: photoAccessHelper.PhotoSelectResult</span>) =&gt;</span> {
Â  Â  Â Â <span class="hljs-comment">// è·å–é€‰ä¸­çš„URIåˆ—è¡¨</span>
Â  Â  Â Â <span class="hljs-keyword">let</span>Â <span class="hljs-attr">uris</span>:Â <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = photoSelectResult.<span class="hljs-property">photoUris</span>;
Â  Â  Â Â <span class="hljs-keyword">if</span>Â (uris.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
Â  Â  Â  Â Â <span class="hljs-comment">// è·å–ç¬¬ä¸€ä¸ªURI</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â str = uris[<span class="hljs-number">0</span>];
Â  Â  Â  Â Â <span class="hljs-comment">// æå–æ–‡ä»¶å</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â fileName = str.<span class="hljs-title function_">substring</span>(str.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'/'</span>));
Â  Â  Â  Â Â <span class="hljs-comment">// æ„å»ºç›®æ ‡æ–‡ä»¶è·¯å¾„</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â desFilePath =Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-property">tempDir</span> + fileName;
Â  Â  Â  Â Â <span class="hljs-comment">// æ‰“å¼€æºæ–‡ä»¶ï¼ˆåªè¯»ï¼‰</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â srcFile = fileIo.<span class="hljs-title function_">openSync</span>(str, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">READ_ONLY</span>);
Â  Â  Â  Â Â <span class="hljs-comment">// æ‰“å¼€ç›®æ ‡æ–‡ä»¶ï¼ˆå†™ï¼Œå¦‚ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰</span>
Â  Â  Â  Â Â <span class="hljs-keyword">let</span>Â desFile = fileIo.<span class="hljs-title function_">openSync</span>(desFilePath, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">WRITE_ONLY</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span>);
Â  Â  Â  Â Â <span class="hljs-comment">// å¤åˆ¶æ–‡ä»¶å†…å®¹</span>
Â  Â  Â  Â  fileIo.<span class="hljs-title function_">copyFileSync</span>(srcFile.<span class="hljs-property">fd</span>, desFile.<span class="hljs-property">fd</span>)
Â  Â  Â  Â Â <span class="hljs-comment">// å›è°ƒå¤„ç†ï¼Œä¼ é€’æ–‡ä»¶URI</span>
Â  Â  Â  Â  callback?.(fileUri.<span class="hljs-title function_">getUriFromPath</span>(desFilePath)Â <span class="hljs-keyword">as</span>Â T);
Â  Â  Â  }Â <span class="hljs-keyword">else</span>Â {
Â  Â  Â  Â Â <span class="hljs-comment">// æœªé€‰æ‹©èµ„æºæ—¶æ˜¾ç¤ºæç¤º</span>
Â  Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({
Â  Â  Â  Â  Â  <span class="hljs-attr">message</span>: <span class="hljs-string">'æ²¡æœ‰é€‰æ‹©èµ„æº'</span>
Â  Â  Â  Â  })
Â  Â  Â  }
Â  Â  }).<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {
Â  Â  Â Â <span class="hljs-comment">// é€‰æ‹©å‡ºé”™æ—¶æ˜¾ç¤ºæç¤º</span>
Â  Â  Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({
Â  Â  Â  Â  <span class="hljs-attr">message</span>: <span class="hljs-string">'é€‰æ‹©èµ„æºerror'</span>
Â  Â  Â  })
Â  Â  })
Â  }
}
</code></pre>
<h3 data-id="heading-14">å‚è€ƒæ–‡æ¡£</h3>
<ol>
<li><strong>@kwai_open_platform/opensdk(V1.0.1)</strong></li>
</ol>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.kuaishou.com%2FplatformDocs%2Fdevelop%2Fmobile-app%2FHarmony-OS.html%23%25E4%25B8%2580%25E3%2580%2581%25E8%25AE%25BE%25E8%25AE%25A1%25E7%259B%25AE%25E6%25A0%2587" target="_blank" title="https://open.kuaishou.com/platformDocs/develop/mobile-app/Harmony-OS.html#%E4%B8%80%E3%80%81%E8%AE%BE%E8%AE%A1%E7%9B%AE%E6%A0%87" ref="nofollow noopener noreferrer">open.kuaishou.com/platformDocâ€¦</a></p>
</blockquote>
<ol start="2">
<li><strong>å¿«æ‰‹æ¥å…¥é¸¿è’™åº”ç”¨æŒ‡å—</strong></li>
</ol>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fdetail%2F%40kwai_open_platform%252Fopensdk" target="_blank" title="https://ohpm.openharmony.cn/#/cn/detail/@kwai_open_platform%2Fopensdk" ref="nofollow noopener noreferrer">ohpm.openharmony.cn/#/cn/detailâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rustå¸¸ç”¨é›†åˆ]]></title>    <link>https://juejin.cn/post/7586482860104073243</link>    <guid>https://juejin.cn/post/7586482860104073243</guid>    <pubDate>2025-12-22T13:44:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586482860104073243" data-draft-id="7586504691845578761" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rustå¸¸ç”¨é›†åˆ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T13:44:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GKunLi"/> <meta itemprop="url" content="https://juejin.cn/user/430664725579725"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rustå¸¸ç”¨é›†åˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/430664725579725/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GKunLi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:44:26.000Z" title="Mon Dec 22 2025 13:44:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Rust çš„æ ‡å‡†åº“ï¼ˆstd::collectionsï¼‰æä¾›äº†å¤šç§é€šç”¨çš„é›†åˆæ•°æ®ç»“æ„ã€‚ä¸åŸºç¡€çš„æ•°ç»„å’Œå…ƒç»„ä¸åŒï¼Œè¿™äº›é›†åˆå­˜å‚¨åœ¨ <strong>å †ï¼ˆHeapï¼‰</strong> ä¸Šï¼Œè¿™æ„å‘³ç€å®ƒä»¬çš„å¤§å°å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€å¢é•¿æˆ–ç¼©å°ã€‚</p>
<h2 data-id="heading-0">1. åŠ¨æ€æ•°ç»„ï¼š<code>Vec&lt;T&gt;</code> (Vector)</h2>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// åˆ›å»º</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">v</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

    <span class="hljs-comment">// å¢åŠ å…ƒç´ </span>
    v.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">4</span>);
    v.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">5</span>);

    <span class="hljs-comment">// è¯»å–å…ƒç´  (ç´¢å¼•æ–¹å¼)</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">third</span> = &amp;v[<span class="hljs-number">2</span>]; 
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯: {}"</span>, third);

    <span class="hljs-comment">// å®‰å…¨è¯»å– (get æ–¹æ³•ï¼Œè¿”å› Option)</span>
    <span class="hljs-keyword">match</span> v.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-number">10</span>) {
        <span class="hljs-title function_ invoke__">Some</span>(val) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æ‰¾åˆ°äº†: {}"</span>, val),
        <span class="hljs-literal">None</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç´¢å¼•è¶Šç•Œï¼Œæ²¡æœ‰ç¬¬11ä¸ªå…ƒç´ "</span>),
    }

    <span class="hljs-comment">// éå†</span>
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> &amp;v {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, i);
    }
}
</code></pre>
<h2 data-id="heading-1">2. å­—ç¬¦ä¸²ï¼šString</h2>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// åˆ›å»º</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"Hello"</span>);

    <span class="hljs-comment">// æ›´æ–°</span>
    s.<span class="hljs-title function_ invoke__">push_str</span>(<span class="hljs-string">", Rust!"</span>); <span class="hljs-comment">// è¿½åŠ å­—ç¬¦ä¸²åˆ‡ç‰‡</span>
    s.<span class="hljs-title function_ invoke__">push</span>('ğŸš€');          <span class="hljs-comment">// è¿½åŠ å•ä¸ªå­—ç¬¦</span>

    <span class="hljs-comment">// åˆå¹¶å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s1</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"tic"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s2</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"tac"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s3</span> = <span class="hljs-built_in">format!</span>(<span class="hljs-string">"{}-{}-{}"</span>, s1, s2, <span class="hljs-string">"toe"</span>); <span class="hljs-comment">// ä½¿ç”¨ format! å®ä¸è·å–æ‰€æœ‰æƒ</span>
    
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s3); <span class="hljs-comment">// tic-tac-toe</span>
}
</code></pre>
<h2 data-id="heading-2">3. å“ˆå¸Œæ˜ å°„ï¼šHashMap&lt;K, V&gt;</h2>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::collections::HashMap;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">scores</span> = HashMap::<span class="hljs-title function_ invoke__">new</span>();

    <span class="hljs-comment">// æ’å…¥æ•°æ®</span>
    scores.<span class="hljs-title function_ invoke__">insert</span>(<span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"Blue"</span>), <span class="hljs-number">10</span>);
    scores.<span class="hljs-title function_ invoke__">insert</span>(<span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"Yellow"</span>), <span class="hljs-number">50</span>);

    <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">team_name</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"Blue"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">score</span> = scores.<span class="hljs-title function_ invoke__">get</span>(&amp;team_name); <span class="hljs-comment">// è¿”å› Option&lt;&amp;i32&gt;</span>

    <span class="hljs-comment">// éå†</span>
    <span class="hljs-title function_ invoke__">for</span> (key, value) <span class="hljs-keyword">in</span> &amp;scores {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}: {}"</span>, key, value);
    }

    <span class="hljs-comment">// åªæœ‰å½“é”®ä¸å­˜åœ¨æ—¶æ‰æ’å…¥ (Entry API)</span>
    scores.<span class="hljs-title function_ invoke__">entry</span>(<span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"Red"</span>)).<span class="hljs-title function_ invoke__">or_insert</span>(<span class="hljs-number">30</span>);
}
</code></pre>













































<table><thead><tr><th align="left">é›†åˆ</th><th align="left">æ ¸å¿ƒé€»è¾‘</th><th align="left">å…¸å‹åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong><code>Vec&lt;T&gt;</code></strong></td><td align="left">è¿ç»­å†…å­˜çš„åŠ¨æ€æ•°ç»„</td><td align="left">å­˜å‚¨çº¿æ€§æ•°æ®ã€ä»»åŠ¡æ¸…å•ã€ç¼“å†²åŒºã€‚è¿™æ˜¯æœ€é€šç”¨çš„é›†åˆã€‚</td></tr><tr><td align="left"><strong><code>String</code></strong></td><td align="left">UTF-8 ç¼–ç çš„æ–‡æœ¬</td><td align="left">å­˜å‚¨å’Œå¤„ç†åŠ¨æ€æ–‡æœ¬ã€ç”¨æˆ·è¾“å…¥ã€æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left"><strong><code>HashMap&lt;K, V&gt;</code></strong></td><td align="left">å“ˆå¸Œé”®å€¼å¯¹æ˜ å°„</td><td align="left">æ•°æ®åº“ç´¢å¼•æ¨¡æ‹Ÿã€ç¼“å­˜ç³»ç»Ÿã€ç»Ÿè®¡ï¼ˆå¦‚å•è¯è®¡æ•°ï¼‰ã€‚</td></tr><tr><td align="left"><strong><code>VecDeque&lt;T&gt;</code></strong></td><td align="left">åŒç«¯é˜Ÿåˆ—ï¼ˆç¯å½¢ç¼“å†²åŒºï¼‰</td><td align="left">å®ç°å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰é˜Ÿåˆ—ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ã€‚</td></tr><tr><td align="left"><strong><code>HashSet&lt;T&gt;</code></strong></td><td align="left">å”¯ä¸€å€¼çš„å“ˆå¸Œé›†åˆ</td><td align="left">æ•°æ®å»é‡ã€æˆå‘˜èº«ä»½å¿«é€ŸéªŒè¯ï¼ˆåˆ¤æ–­æŸé¡¹æ˜¯å¦å­˜åœ¨ï¼‰ã€‚</td></tr><tr><td align="left"><strong><code>BTreeMap&lt;K, V&gt;</code></strong></td><td align="left">åŸºäº B æ ‘çš„æœ‰åºæ˜ å°„</td><td align="left">éœ€è¦æŒ‰é”®ï¼ˆKeyï¼‰æ’åºå­˜å‚¨æ•°æ®ï¼Œæˆ–è¿›è¡ŒèŒƒå›´æŸ¥è¯¢æ—¶ã€‚</td></tr><tr><td align="left"><strong><code>BinaryHeap&lt;T&gt;</code></strong></td><td align="left">äºŒå‰å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</td><td align="left">å§‹ç»ˆè·å–æœ€å¤§/æœ€å°å€¼çš„åœºæ™¯ï¼Œå¦‚ä»»åŠ¡è°ƒåº¦ã€Dijkstra ç®—æ³•ã€‚</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[axios çš„ withCredentials åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586479864271716358</link>    <guid>https://juejin.cn/post/7586479864271716358</guid>    <pubDate>2025-12-22T10:17:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864271716358" data-draft-id="7586491717872910355" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="axios çš„ withCredentials åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,HTTP"/> <meta itemprop="datePublished" content="2025-12-22T10:17:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RichardMiao"/> <meta itemprop="url" content="https://juejin.cn/user/2330620379279950"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            axios çš„ withCredentials åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2330620379279950/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RichardMiao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T10:17:02.000Z" title="Mon Dec 22 2025 10:17:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€æ ¸å¿ƒç»“è®º</h3>
<p><code>withCredentials</code> æ˜¯ axios ä¸­æ§åˆ¶<strong>è·¨åŸŸè¯·æ±‚æ˜¯å¦æºå¸¦å‡­è¯ï¼ˆCookieã€HTTP è®¤è¯ä¿¡æ¯ã€TLS å®¢æˆ·ç«¯è¯ä¹¦ç­‰ï¼‰</strong> çš„å¸ƒå°”å€¼é…ç½®é¡¹ï¼Œæœ¬è´¨æ˜¯å¯¹æµè§ˆå™¨ <code>XMLHttpRequest.withCredentials</code> åŸç”Ÿå±æ€§çš„å°è£…ï¼Œé»˜è®¤å€¼ä¸º <code>false</code>ã€‚</p>
<p>ç®€å•è¯´ï¼š</p>
<ul>
<li><code>withCredentials: false</code>ï¼ˆé»˜è®¤ï¼‰ï¼šè·¨åŸŸè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨<strong>ä¸ä¼š</strong>æºå¸¦ç›®æ ‡åŸŸåä¸‹çš„ Cookie/è®¤è¯ä¿¡æ¯ï¼›</li>
<li><code>withCredentials: true</code>ï¼šè·¨åŸŸè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨<strong>ä¼š</strong>ä¸»åŠ¨æºå¸¦ç›®æ ‡åŸŸåä¸‹çš„ Cookie/è®¤è¯ä¿¡æ¯ï¼Œä¸”æœåŠ¡ç«¯å“åº”çš„ Set-Cookie ä¹Ÿä¼šç”Ÿæ•ˆã€‚</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šè¯¥é…ç½®<strong>ä»…å¯¹è·¨åŸŸè¯·æ±‚æœ‰æ•ˆ</strong>ï¼ŒåŒåŸŸè¯·æ±‚ä¸å—å½±å“ï¼ˆé»˜è®¤æºå¸¦å‡­è¯ï¼‰ã€‚</p>
</blockquote>
<h3 data-id="heading-1">äºŒã€åº•å±‚åŸç†ï¼šæµè§ˆå™¨çš„åŒæºç­–ç•¥ &amp; CORS è§„èŒƒ</h3>
<p>è¦ç†è§£ <code>withCredentials</code>ï¼Œå¿…é¡»å…ˆæ˜ç¡®æµè§ˆå™¨çš„æ ¸å¿ƒè§„åˆ™ï¼š</p>
<h4 data-id="heading-2">1. åŒæºç­–ç•¥çš„é™åˆ¶</h4>
<p>æµè§ˆå™¨é»˜è®¤ç¦æ­¢è·¨åŸŸè¯·æ±‚æºå¸¦å‡­è¯ï¼ˆæ¯”å¦‚ A åŸŸåè¯·æ±‚ B åŸŸåæ¥å£æ—¶ï¼Œä¸ä¼šå¸¦ B åŸŸåçš„ Cookieï¼‰ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢ç¬¬ä¸‰æ–¹ç½‘ç«™ç›—ç”¨ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-3">2. CORS è§„èŒƒå¯¹å‡­è¯çš„è¦æ±‚</h4>
<p>å½“å‰ç«¯è®¾ç½® <code>withCredentials: true</code> æ—¶ï¼Œå¿…é¡»æ»¡è¶³<strong>æœåŠ¡ç«¯+å®¢æˆ·ç«¯</strong>åŒå‘é…ç½®ï¼Œå¦åˆ™è¯·æ±‚ä¼šè¢«æµè§ˆå™¨æ‹¦æˆªï¼š</p>

















<table><thead><tr><th>ç«¯</th><th>å¿…è¦é…ç½®</th></tr></thead><tbody><tr><td>å‰ç«¯ï¼ˆaxiosï¼‰</td><td><code>withCredentials: true</code></td></tr><tr><td>æœåŠ¡ç«¯</td><td>å“åº”å¤´å¿…é¡»åŒ…å«ï¼š<br/>1. <code>Access-Control-Allow-Credentials: true</code><br/>2. <code>Access-Control-Allow-Origin</code> ä¸èƒ½ä¸º <code>*</code>ï¼ˆå¿…é¡»æ˜¯å…·ä½“åŸŸåï¼Œå¦‚ <code>https://xxx.com</code>ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-4">ä¸‰ã€<code>withCredentials</code> å…·ä½“è¡Œä¸ºæ‹†è§£</h3>
<h4 data-id="heading-5">1. å½“ <code>withCredentials: false</code>ï¼ˆé»˜è®¤ï¼‰</h4>
<ul>
<li>è¯·æ±‚é˜¶æ®µï¼šæµè§ˆå™¨å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼Œ<strong>ä¸ä¼šæºå¸¦</strong>ç›®æ ‡åŸŸåçš„ Cookieã€Authorization å¤´ç­‰å‡­è¯ï¼›</li>
<li>å“åº”é˜¶æ®µï¼šå³ä½¿æœåŠ¡ç«¯è¿”å› <code>Set-Cookie</code> å“åº”å¤´ï¼Œæµè§ˆå™¨ä¹Ÿ<strong>ä¸ä¼šä¿å­˜</strong>è¯¥ Cookieï¼ˆç›¸å½“äºå¿½ç•¥ï¼‰ï¼›</li>
<li>åœºæ™¯ï¼šæ— éœ€ç”¨æˆ·è®¤è¯çš„è·¨åŸŸè¯·æ±‚ï¼ˆå¦‚å…¬å¼€æ¥å£ã€é™æ€èµ„æºï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-6">2. å½“ <code>withCredentials: true</code></h4>
<ul>
<li>è¯·æ±‚é˜¶æ®µï¼šæµè§ˆå™¨ä¸»åŠ¨æºå¸¦ç›®æ ‡åŸŸåä¸‹çš„ Cookieï¼ˆä»…è¯¥åŸŸåçš„ Cookieï¼Œéå½“å‰åŸŸåï¼‰ã€HTTP è®¤è¯ä¿¡æ¯ï¼ˆå¦‚ Basic Authï¼‰ï¼›</li>
<li>å“åº”é˜¶æ®µï¼š
âœ… è‹¥æœåŠ¡ç«¯è¿”å› <code>Access-Control-Allow-Credentials: true</code> + å…·ä½“çš„ <code>Access-Control-Allow-Origin</code>ï¼šæµè§ˆå™¨ä¼šä¿å­˜æœåŠ¡ç«¯çš„ <code>Set-Cookie</code>ï¼Œä¸”åç»­è¯·æ±‚ä¼šè‡ªåŠ¨æºå¸¦ï¼›
âŒ è‹¥æœåŠ¡ç«¯æœªæ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼šæµè§ˆå™¨ä¼šè§¦å‘ CORS é”™è¯¯ï¼Œæ‹¦æˆªå“åº”ï¼ˆæ§åˆ¶å°æŠ¥é”™ï¼š<code>Access to XMLHttpRequest at 'xxx' from origin 'xxx' has been blocked by CORS policy: The value of the 'Access-Control-Allow-Credentials' header in the response is '' which must be 'true' when the request's credentials mode is 'include'</code>ï¼‰ï¼›</li>
<li>åœºæ™¯ï¼šéœ€è¦ç”¨æˆ·ç™»å½•æ€çš„è·¨åŸŸè¯·æ±‚ï¼ˆå¦‚ç™»å½•åè·å–ç”¨æˆ·ä¿¡æ¯ã€æäº¤è®¢å•ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-7">å››ã€å…¸å‹ä½¿ç”¨åœºæ™¯ &amp; ç¤ºä¾‹</h3>
<h4 data-id="heading-8">åœºæ™¯ï¼šå‰ç«¯ï¼ˆ<code>http://localhost:3000</code>ï¼‰è¯·æ±‚åç«¯ï¼ˆ<code>http://api.example.com</code>ï¼‰çš„ç™»å½•æ¥å£</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// axios é…ç½®ï¼ˆå‰ç«¯ï¼‰</span>
<span class="hljs-title function_">axios</span>({
  <span class="hljs-attr">url</span>: <span class="hljs-string">'http://api.example.com/user/info'</span>,
  <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
  <span class="hljs-attr">withCredentials</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// è·¨åŸŸæºå¸¦ Cookieï¼ˆåç«¯åŸŸåä¸‹çš„ç™»å½• Cookieï¼‰</span>
})
.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res))
.<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err));
</code></pre>
<h4 data-id="heading-9">æœåŠ¡ç«¯é…ç½®ï¼ˆä»¥ Node.js/Express ä¸ºä¾‹ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

<span class="hljs-comment">// è·¨åŸŸä¸­é—´ä»¶é…ç½®</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  <span class="hljs-comment">// å…è®¸æŒ‡å®šå‰ç«¯åŸŸåè·¨åŸŸï¼ˆä¸èƒ½ç”¨ *ï¼‰</span>
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'http://localhost:3000'</span>);
  <span class="hljs-comment">// å…è®¸æºå¸¦å‡­è¯</span>
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-string">'true'</span>);
  <span class="hljs-comment">// å…è®¸çš„è¯·æ±‚å¤´</span>
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Headers'</span>, <span class="hljs-string">'Content-Type'</span>);
  <span class="hljs-title function_">next</span>();
});

<span class="hljs-comment">// æ¥å£è¿”å›ç”¨æˆ·ä¿¡æ¯ï¼ˆä¾èµ– Cookie ä¸­çš„ç™»å½•æ€ï¼‰</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/user/info'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">123</span> });
});

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>);
</code></pre>
<h3 data-id="heading-10">äº”ã€å¸¸è§å‘ç‚¹</h3>
<ol>
<li>
<p><strong><code>Access-Control-Allow-Origin</code> ä¸èƒ½ä¸º <code>*</code></strong>ï¼š
è‹¥æœåŠ¡ç«¯è®¾ç½® <code>*</code>ï¼ŒåŒæ—¶å‰ç«¯å¼€äº† <code>withCredentials: true</code>ï¼Œæµè§ˆå™¨ä¼šç›´æ¥æ‹¦æˆªè¯·æ±‚ï¼ˆå› ä¸º <code>*</code> æ— æ³•å’Œå…·ä½“åŸŸåçš„å‡­è¯ç»‘å®šï¼‰ã€‚</p>
</li>
<li>
<p><strong>è·¨åŸŸ Cookie çš„ SameSite é™åˆ¶</strong>ï¼š
è‹¥æœåŠ¡ç«¯è®¾ç½®çš„ Cookie çš„ <code>SameSite</code> ä¸º <code>Strict</code>/<code>Lax</code>ï¼Œè·¨åŸŸè¯·æ±‚æ—¶å³ä½¿å¼€äº† <code>withCredentials</code>ï¼ŒCookie ä¹Ÿå¯èƒ½æ— æ³•æºå¸¦ï¼ˆéœ€è®¾ç½® <code>SameSite=None; Secure</code>ï¼Œä¸”è¯·æ±‚å¿…é¡»æ˜¯ HTTPSï¼‰ã€‚</p>
</li>
<li>
<p><strong>å‡­è¯ä»…å¯¹ç›®æ ‡åŸŸåç”Ÿæ•ˆ</strong>ï¼š
æ¯”å¦‚å‰ç«¯ <code>a.com</code> è¯·æ±‚ <code>b.com</code>ï¼Œ<code>withCredentials: true</code> åªä¼šæºå¸¦ <code>b.com</code> çš„ Cookieï¼Œè€Œé <code>a.com</code> çš„ Cookieã€‚</p>
</li>
<li>
<p><strong>é¢„æ£€è¯·æ±‚ï¼ˆOPTIONSï¼‰ä¹Ÿéœ€é…ç½®</strong>ï¼š
å¤æ‚è¯·æ±‚ï¼ˆå¦‚ POST å¸¦ JSONã€è‡ªå®šä¹‰å¤´ï¼‰ä¼šå…ˆå‘é€ OPTIONS é¢„æ£€è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å¿…é¡»å¯¹ OPTIONS è¯·æ±‚è¿”å›ç›¸åŒçš„ CORS é…ç½®ï¼ˆå°¤å…¶æ˜¯ <code>Access-Control-Allow-Credentials</code>ï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-11">å…­ã€æ€»ç»“</h3>
<p><code>withCredentials</code> çš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>çªç ´æµè§ˆå™¨åŒæºç­–ç•¥å¯¹è·¨åŸŸå‡­è¯çš„é™åˆ¶</strong>ï¼Œè®©è·¨åŸŸè¯·æ±‚èƒ½æºå¸¦ Cookie/è®¤è¯ä¿¡æ¯ï¼Œä½†å¿…é¡»é…åˆæœåŠ¡ç«¯çš„ CORS é…ç½®æ‰èƒ½ç”Ÿæ•ˆã€‚å®ƒæ˜¯å®ç°è·¨åŸŸç™»å½•æ€ä¿æŒçš„å…³é”®é…ç½®ï¼Œä¹Ÿæ˜¯å¤„ç†è·¨åŸŸè®¤è¯è¯·æ±‚çš„å¿…å¤‡é¡¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactçˆ¶å­ç»„ä»¶å›è°ƒä¼ å‚é¿å‘æŒ‡å—ï¼šä»åŸºç¡€åˆ°è¿›é˜¶å®è·µ]]></title>    <link>https://juejin.cn/post/7586506307726442506</link>    <guid>https://juejin.cn/post/7586506307726442506</guid>    <pubDate>2025-12-22T10:51:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586506307726442506" data-draft-id="7586505172814921779" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactçˆ¶å­ç»„ä»¶å›è°ƒä¼ å‚é¿å‘æŒ‡å—ï¼šä»åŸºç¡€åˆ°è¿›é˜¶å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-22T10:51:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ— æ¶¯"/> <meta itemprop="url" content="https://juejin.cn/user/3967483738859639"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactçˆ¶å­ç»„ä»¶å›è°ƒä¼ å‚é¿å‘æŒ‡å—ï¼šä»åŸºç¡€åˆ°è¿›é˜¶å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3967483738859639/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ— æ¶¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T10:51:29.000Z" title="Mon Dec 22 2025 10:51:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<blockquote>
<p>åœ¨Reactå¼€å‘ä¸­ï¼Œçˆ¶å­ç»„ä»¶é—´çš„é€šä¿¡æ˜¯é«˜é¢‘éœ€æ±‚ï¼Œå…¶ä¸­é€šè¿‡å›è°ƒå‡½æ•°ä¼ é€’å‚æ•°æ›´æ˜¯æ ¸å¿ƒåœºæ™¯ã€‚ä½†å¾ˆå¤šå¼€å‘è€…åœ¨å®é™…ç¼–ç ä¸­ä¼šé‡åˆ°è¯¸å¦‚â€œå‚æ•°ä¼ ä¸åˆ°â€â€œå‡½æ•°æå‰æ‰§è¡Œâ€â€œç»„ä»¶æ— é™æ¸²æŸ“â€ç­‰é—®é¢˜ã€‚æœ¬æ–‡ç»“åˆå®é™…å¼€å‘æ¡ˆä¾‹ï¼Œæ‹†è§£å›è°ƒä¼ å‚çš„æ ¸å¿ƒé€»è¾‘ï¼Œå‰–æå¸¸è§é”™è¯¯ï¼Œç»™å‡ºä¸åŒåœºæ™¯ä¸‹çš„æœ€ä¼˜å®è·µï¼Œå¸®ä½ å½»åº•ææ‡‚Reactå›è°ƒä¼ å‚ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€åœºæ™¯å¼•å…¥ï¼šä»å®é™…ä»£ç çœ‹é—®é¢˜</h2>
<p>å…ˆçœ‹ä¸€æ®µå¤§å®¶å¯èƒ½å†™è¿‡çš„ä»£ç ï¼Œè¿™æ˜¯çˆ¶ç»„ä»¶ä¸­å‘å­ç»„ä»¶ä¼ é€’åˆ·æ–°å›è°ƒçš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// çˆ¶ç»„ä»¶æ ¸å¿ƒä»£ç 
const <span class="hljs-attr">fetchData</span> = async (showLoading = <span class="hljs-literal">true</span>) =&gt; {
  if (!appName) return<span class="hljs-comment">;</span>
  try {
    const <span class="hljs-attr">res</span> = await getProductDetail({ appName, loading: showLoading })<span class="hljs-comment">;</span>
    setData(res)<span class="hljs-comment">;</span>
  } catch (error) {
    console.error(error)<span class="hljs-comment">;</span>
  } finally {
    setLoading(false)<span class="hljs-comment">;</span>
  }
}<span class="hljs-comment">;</span>

// å‘å­ç»„ä»¶ä¼ é€’å›è°ƒ
if (<span class="hljs-attr">keyway</span> === <span class="hljs-number">200</span> || keyway === <span class="hljs-number">300</span>) {
  return &lt;AuditPending 
    <span class="hljs-attr">data</span>={data} 
    <span class="hljs-attr">onRefresh</span>={(showLoading) =&gt; { fetchData(showLoading) }} 
  /&gt;<span class="hljs-comment">;</span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œä½ å¯èƒ½ä¼šæœ‰è¿™äº›ç–‘é—®ï¼š</p>
<ul>
<li>onRefreshé‡Œçš„ç®­å¤´å‡½æ•°ä¸ºä»€ä¹ˆè¦åŒ…è£¹ä¸€å±‚ï¼Œç›´æ¥å†™onRefresh={fetchData}ä¸è¡Œå—ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆç»å¯¹ä¸èƒ½å†™æˆonRefresh={fetchData()}ï¼Ÿ</li>
<li>ç›´æ¥ä¼ å‡½æ•°å¼•ç”¨å’Œç”¨ç®­å¤´å‡½æ•°åŒ…è£¹ï¼Œå“ªç§å†™æ³•æ›´å¥½ï¼Ÿ</li>
</ul>
<p>è¦è§£ç­”è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ç†æ¸…ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š<strong>å‡½æ•°å¼•ç”¨ vs å‡½æ•°æ‰§è¡Œç»“æœ</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒæ¦‚å¿µï¼šææ‡‚è¿™ä¸¤ä¸ªåŒºåˆ«ï¼Œå°‘è¸©80%çš„å‘</h2>
<p>åœ¨Reactå›è°ƒä¼ å‚ä¸­ï¼Œâ€œæ˜¯å¦åŠ æ‹¬å·â€â€œæ˜¯å¦ç”¨ç®­å¤´å‡½æ•°â€çš„æœ¬è´¨ï¼Œéƒ½æ˜¯åœ¨åŒºåˆ†â€œä¼ é€’å‡½æ•°å¼•ç”¨â€å’Œâ€œä¼ é€’å‡½æ•°æ‰§è¡Œç»“æœâ€ã€‚</p>
<h3 data-id="heading-2">1. å‡½æ•°å¼•ç”¨ï¼šä¼ é€’â€œå‡½æ•°æœ¬èº«â€</h3>
<p>å½“æˆ‘ä»¬å†™ <code>onRefresh={fetchData}</code> æ—¶ï¼Œä¼ é€’ç»™å­ç»„ä»¶çš„æ˜¯ <code>fetchData</code> è¿™ä¸ªå‡½æ•°çš„â€œå¼•ç”¨â€ï¼ˆå¯ä»¥ç†è§£ä¸ºå‡½æ•°çš„â€œåœ°å€â€ï¼‰ã€‚</p>
<p>æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ‰§è¡Œæ—¶æœºï¼š<strong>ä¸ä¼šç«‹å³æ‰§è¡Œ</strong>ï¼Œåªæœ‰å­ç»„ä»¶ä¸»åŠ¨è°ƒç”¨è¿™ä¸ªå¼•ç”¨æ—¶ï¼ˆæ¯”å¦‚è§¦å‘åˆ·æ–°äº‹ä»¶ï¼‰ï¼Œå‡½æ•°æ‰ä¼šæ‰§è¡Œã€‚</li>
<li>å‚æ•°ä¼ é€’ï¼šå­ç»„ä»¶è°ƒç”¨æ—¶å¯ä»¥ä¼ å…¥å‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šç›´æ¥è¢«ç›®æ ‡å‡½æ•°æ¥æ”¶ï¼ˆå‰ææ˜¯ç›®æ ‡å‡½æ•°å®šä¹‰äº†å¯¹åº”å½¢å‚ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-3">2. å‡½æ•°æ‰§è¡Œç»“æœï¼šä¼ é€’â€œå‡½æ•°è¿è¡Œåçš„è¿”å›å€¼â€</h3>
<p>å½“æˆ‘ä»¬å†™ <code>onRefresh={fetchData()}</code> æ—¶ï¼Œä¼šå…ˆç«‹å³æ‰§è¡Œ <code>fetchData</code>å‡½æ•°ï¼Œç„¶åæŠŠå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™å­ç»„ä»¶ã€‚</p>
<p>æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ‰§è¡Œæ—¶æœºï¼š<strong>ç»„ä»¶æ¸²æŸ“/é‡æ¸²æŸ“æ—¶ç«‹å³æ‰§è¡Œ</strong>ï¼Œè€Œéå­ç»„ä»¶è§¦å‘äº‹ä»¶æ—¶ã€‚</li>
<li>ä¼ é€’å†…å®¹ï¼šå–å†³äºå‡½æ•°çš„è¿”å›å€¼ã€‚æ¯”å¦‚æœ¬ä¾‹ä¸­ <code>fetchData</code> æ˜¯asyncå‡½æ•°ï¼Œè¿”å›å€¼æ˜¯Promiseå¯¹è±¡ï¼Œå­ç»„ä»¶æ‹¿åˆ°çš„å°±æ˜¯Promiseï¼Œè€Œéå¯æ‰§è¡Œçš„å‡½æ•°ã€‚</li>
</ul>
<h2 data-id="heading-4">ä¸‰ã€å¸¸è§å›è°ƒä¼ å‚å†™æ³•å¯¹æ¯”ï¼šä¼˜ç¼ºç‚¹ä¸é€‚ç”¨åœºæ™¯</h2>
<p>ç»“åˆå‰é¢çš„åœºæ™¯ï¼Œæˆ‘ä»¬æ¢³ç†ä¸‰ç§æœ€å¸¸è§çš„å›è°ƒä¼ å‚å†™æ³•ï¼Œå¸®ä½ å¿«é€Ÿé€‰æ‹©ã€‚</p>
<h3 data-id="heading-5">å†™æ³•1ï¼šç›´æ¥ä¼ é€’å‡½æ•°å¼•ç”¨ï¼ˆ<code>onRefresh={fetchData}</code>ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AuditPending</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> <span class="hljs-attr">onRefresh</span>=<span class="hljs-string">{fetchData}</span> /&gt;</span></span>;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-6">ä¼˜ç‚¹ï¼š</h4>
<ul>
<li>æ€§èƒ½æœ€ä¼˜ï¼šå‡½æ•°å¼•ç”¨ç¨³å®šï¼Œè‹¥å­ç»„ä»¶ç”¨äº† <code>React.memo</code> åšæ€§èƒ½ä¼˜åŒ–ï¼Œä¸ä¼šå¯¼è‡´å­ç»„ä»¶ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚</li>
<li>ä»£ç ç®€æ´ï¼šæ— å¤šä½™åŒ…è£¹ï¼Œé€»è¾‘æ¸…æ™°ã€‚</li>
</ul>
<h4 data-id="heading-7">ç¼ºç‚¹ï¼š</h4>
<ul>
<li>çµæ´»æ€§å·®ï¼šæ— æ³•å¯¹å‚æ•°åšåŠ å·¥ï¼Œä¹Ÿæ— æ³•é¢å¤–ä¼ é€’çˆ¶ç»„ä»¶çš„çŠ¶æ€/å±æ€§ï¼ˆæ¯”å¦‚çˆ¶ç»„ä»¶çš„idã€nameç­‰ï¼‰ã€‚</li>
<li>ç±»ç»„ä»¶éœ€æ³¨æ„thisç»‘å®šï¼šè‹¥åœ¨ç±»ç»„ä»¶ä¸­ç›´æ¥ä¼ é€’ç±»æ–¹æ³•ï¼ˆå¦‚ <code>this.fetchData</code>ï¼‰ï¼Œä¼šä¸¢å¤±thisä¸Šä¸‹æ–‡ï¼ˆå‡½æ•°ç»„ä»¶æ— æ­¤é—®é¢˜ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8">é€‚ç”¨åœºæ™¯ï¼š</h4>
<p>å‡½æ•°ç»„ä»¶åœºæ™¯ã€å­ç»„ä»¶å‚æ•°å¯ç›´æ¥é€ä¼ ç»™ç›®æ ‡å‡½æ•°ã€æ— éœ€é¢å¤–åŠ å·¥å‚æ•°ã€‚</p>
<h3 data-id="heading-9">å†™æ³•2ï¼šç®­å¤´å‡½æ•°åŒ…è£¹é€ä¼ å‚æ•°ï¼ˆ<code>onRefresh={(showLoading) =&gt; fetchData(showLoading)}</code>ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">// çˆ¶ç»„ä»¶
return &lt;AuditPending 
  <span class="hljs-attr">data</span>={data} 
  <span class="hljs-attr">onRefresh</span>={(showLoading) =&gt; fetchData(showLoading)} 
/&gt;<span class="hljs-comment">;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-10">ä¼˜ç‚¹ï¼š</h4>
<ul>
<li>çµæ´»æ€§é«˜ï¼šå¯åŠ å·¥å­ç»„ä»¶å‚æ•°ï¼ˆå¦‚<code>(data) =&gt; fetchData(data + ' åŠ å·¥å')</code>ï¼‰ï¼Œä¹Ÿå¯ä¼ é€’çˆ¶ç»„ä»¶é¢å¤–å‚æ•°ï¼ˆå¦‚ <code>(data) =&gt; fetchData(data, parentId)</code>ï¼‰ã€‚</li>
<li>é¿å…ç±»ç»„ä»¶thisé—®é¢˜ï¼šç®­å¤´å‡½æ•°çš„thisç»§æ‰¿è‡ªçˆ¶ä½œç”¨åŸŸï¼Œå¯è§£å†³ç±»ç»„ä»¶ä¸­thisä¸¢å¤±é—®é¢˜ã€‚</li>
<li>å¯è¯»æ€§å¼ºï¼šç›´è§‚ä½“ç°å‚æ•°ä¼ é€’é“¾è·¯ï¼Œæ–°æ‰‹æ›´å®¹æ˜“ç†è§£ã€‚</li>
</ul>
<h4 data-id="heading-11">ç¼ºç‚¹ï¼š</h4>
<ul>
<li>æ€§èƒ½æŸè€—ï¼šæ¯æ¬¡çˆ¶ç»„ä»¶æ¸²æŸ“éƒ½ä¼šåˆ›å»ºæ–°çš„ç®­å¤´å‡½æ•°å®ä¾‹ï¼Œè‹¥å­ç»„ä»¶ç”¨äº† <code>React.memo</code>ï¼Œä¼šå¯¼è‡´å­ç»„ä»¶ä¸å¿…è¦é‡æ¸²æŸ“ã€‚</li>
</ul>
<h4 data-id="heading-12">é€‚ç”¨åœºæ™¯ï¼š</h4>
<p>éœ€è¦åŠ å·¥å‚æ•°ã€éœ€ä¼ é€’çˆ¶ç»„ä»¶é¢å¤–æ•°æ®ã€ç±»ç»„ä»¶ä¸­è§£å†³thisç»‘å®šé—®é¢˜ã€‚</p>
<h3 data-id="heading-13">å†™æ³•3ï¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆ<code>onRefresh={fetchData()}</code>ï¼‰</h3>
<p>âŒ ä¸æ¨èï¼ˆé™¤éå‡½æ•°è¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œä¸”æœ‰æ˜ç¡®ä¸šåŠ¡éœ€æ±‚ï¼‰</p>
<h4 data-id="heading-14">é—®é¢˜ï¼š</h4>
<ul>
<li>æ‰§è¡Œæ—¶æœºé”™è¯¯ï¼šç»„ä»¶æ¸²æŸ“æ—¶å°±è§¦å‘å‡½æ•°ï¼ˆå¦‚æœ¬ä¾‹ä¸­ä¼šç«‹å³å‘èµ·æ¥å£è¯·æ±‚ï¼‰ï¼Œè€Œéå­ç»„ä»¶è§¦å‘åˆ·æ–°æ—¶ã€‚</li>
<li>å¯¼è‡´æŠ¥é”™ï¼šè‹¥å‡½æ•°è¿”å›éå‡½æ•°å€¼ï¼ˆå¦‚Promiseã€undefinedï¼‰ï¼Œå­ç»„ä»¶è°ƒç”¨ <code>onRefresh()</code> æ—¶ä¼šæŠ›å‡ºâ€œä¸æ˜¯å‡½æ•°â€çš„é”™è¯¯ã€‚</li>
<li>å¯èƒ½å¼•å‘æ— é™æ¸²æŸ“ï¼šè‹¥å‡½æ•°å†…éƒ¨æœ‰ä¿®æ”¹ç»„ä»¶çŠ¶æ€çš„æ“ä½œï¼ˆå¦‚ <code>setData</code>ï¼‰ï¼Œä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¿›è€Œå†æ¬¡æ‰§è¡Œå‡½æ•°ï¼Œå½¢æˆå¾ªç¯ã€‚</li>
</ul>
<h4 data-id="heading-15">ç‰¹æ®Šå¯è¡Œåœºæ™¯ï¼š</h4>
<p>å‡½æ•°æ‰§è¡Œåè¿”å›ä¸€ä¸ªæ–°çš„å›è°ƒå‡½æ•°ï¼ˆé«˜é˜¶å‡½æ•°åœºæ™¯ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// é«˜é˜¶å‡½æ•°ï¼šè¿”å›ä¸€ä¸ªå›è°ƒå‡½æ•°
const <span class="hljs-attr">createFetchData</span> = (parentId) =&gt; {
  return async (showLoading) =&gt; {
    const <span class="hljs-attr">res</span> = await getProductDetail({ appName, loading: showLoading, parentId })<span class="hljs-comment">;</span>
    setData(res)<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// æ­¤æ—¶å¯å†™ä¸ºï¼ˆæ‰§è¡ŒcreateFetchDataè¿”å›å›è°ƒå‡½æ•°ï¼‰
return &lt;AuditPending <span class="hljs-attr">onRefresh</span>={createFetchData(<span class="hljs-number">123</span>)} /&gt;<span class="hljs-comment">;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h2 data-id="heading-16">å››ã€è¿›é˜¶ï¼šæ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼ˆå¹³è¡¡çµæ´»æ€§ä¸æ€§èƒ½ï¼‰</h2>
<p>å¦‚æœæ—¢éœ€è¦ç®­å¤´å‡½æ•°çš„çµæ´»æ€§ï¼Œåˆæƒ³é¿å…å­ç»„ä»¶ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Œå¯ä»¥ç»“åˆ <code>useCallback</code> å’Œ <code>React.memo</code> å®ç°ä¼˜åŒ–ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-17">1. ç”¨useCallbackä¿æŒå‡½æ•°å¼•ç”¨ç¨³å®š</h3>
<p>é€šè¿‡ <code>useCallback</code> åŒ…è£¹çˆ¶ç»„ä»¶çš„å›è°ƒå‡½æ•°ï¼Œç¡®ä¿å‡½æ•°å¼•ç”¨åœ¨ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹ä¸­ä¿æŒä¸å˜ï¼ˆä»…åœ¨ä¾èµ–é¡¹å˜åŒ–æ—¶æ›´æ–°ï¼‰ã€‚</p>
<h3 data-id="heading-18">2. ç”¨React.memoä¼˜åŒ–å­ç»„ä»¶</h3>
<p>ç”¨ <code>React.memo</code> åŒ…è£¹å­ç»„ä»¶ï¼Œä½¿å­ç»„ä»¶ä»…åœ¨propså‘ç”Ÿå®è´¨æ€§å˜åŒ–æ—¶æ‰é‡æ–°æ¸²æŸ“ã€‚</p>
<h3 data-id="heading-19">ä¼˜åŒ–åå®Œæ•´ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">import</span> { useState, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { memo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">ParentComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [appName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">'test-app'</span>);
  <span class="hljs-keyword">const</span> [parentId] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">123</span>); <span class="hljs-comment">// çˆ¶ç»„ä»¶é¢å¤–å‚æ•°</span>

  <span class="hljs-comment">// ç”¨useCallbackåŒ…è£¹ï¼Œä¿æŒå‡½æ•°å¼•ç”¨ç¨³å®š</span>
  <span class="hljs-keyword">const</span> fetchData = <span class="hljs-title function_">useCallback</span>(<span class="hljs-keyword">async</span> (showLoading = <span class="hljs-literal">true</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!appName) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getProductDetail</span>({ 
        appName, 
        <span class="hljs-attr">loading</span>: showLoading,
        parentId <span class="hljs-comment">// ä½¿ç”¨çˆ¶ç»„ä»¶é¢å¤–å‚æ•°</span>
      });
      <span class="hljs-title function_">setData</span>(res);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    }
  }, [appName, parentId]); <span class="hljs-comment">// ä¾èµ–é¡¹ï¼šä»…å½“appNameæˆ–parentIdå˜åŒ–æ—¶ï¼Œå‡½æ•°å¼•ç”¨æ‰æ›´æ–°</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {keyway === 200 || keyway === 300 ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">AuditPending</span> 
          <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> 
          // <span class="hljs-attr">ç®­å¤´å‡½æ•°ä¼ é€’å­ç»„ä»¶å‚æ•°</span>+<span class="hljs-attr">çˆ¶ç»„ä»¶é¢å¤–å‚æ•°</span>
          <span class="hljs-attr">onRefresh</span>=<span class="hljs-string">{(showLoading)</span> =&gt;</span> fetchData(showLoading)} 
        /&gt;
      ) : null}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// å­ç»„ä»¶ç”¨memoåŒ…è£¹ï¼Œä¼˜åŒ–æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AuditPending</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ data, onRefresh }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleRefresh</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// å­ç»„ä»¶æ ¹æ®ä¸šåŠ¡é€»è¾‘å†³å®šæ˜¯å¦ä¼ å‚ï¼ˆå¦‚ä¸‹æ‹‰åˆ·æ–°æ—¶å·²æœ‰spinnerï¼Œä¼ falseï¼‰</span>
    <span class="hljs-title function_">onRefresh</span>(<span class="hljs-literal">false</span>);
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleRefresh}</span>&gt;</span>åˆ·æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
});
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h2 data-id="heading-20">äº”ã€æ€»ç»“ï¼šä¸åŒåœºæ™¯çš„æœ€ä¼˜é€‰æ‹©æŒ‡å—</h2>
<ol>
<li>ç®€å•åœºæ™¯ï¼ˆå‡½æ•°ç»„ä»¶ã€ç›´æ¥é€ä¼ å‚æ•°ï¼‰ï¼šä¼˜å…ˆç”¨ <strong>ç›´æ¥ä¼ é€’å‡½æ•°å¼•ç”¨</strong>ï¼ˆæ€§èƒ½å¥½ã€ä»£ç ç®€æ´ï¼‰ã€‚</li>
<li>å¤æ‚åœºæ™¯ï¼ˆåŠ å·¥å‚æ•°ã€ä¼ é€’çˆ¶ç»„ä»¶é¢å¤–æ•°æ®ã€ç±»ç»„ä»¶ï¼‰ï¼šç”¨ <strong>ç®­å¤´å‡½æ•°åŒ…è£¹</strong>ï¼ˆçµæ´»æ€§é«˜ã€è§£å†³thisé—®é¢˜ï¼‰ã€‚</li>
<li>è¿½æ±‚æ€§èƒ½ä¼˜åŒ–ï¼šç»“åˆ <strong>useCallback + React.memo</strong>ï¼ˆå¹³è¡¡çµæ´»æ€§ä¸æ€§èƒ½ï¼‰ã€‚</li>
<li>ç»å¯¹é¿å…ï¼šæ— ç‰¹æ®Šéœ€æ±‚æ—¶ï¼Œä¸è¦å†™ <strong>ç«‹å³æ‰§è¡Œå‡½æ•°</strong>ï¼ˆ<code>onRefresh={fetchData()}</code>ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ‰§è¡Œæ—¶æœºé”™è¯¯ã€æŠ¥é”™æˆ–æ— é™æ¸²æŸ“ã€‚</li>
</ol>
<p>å…¶å®Reactå›è°ƒä¼ å‚çš„æ ¸å¿ƒå°±æ˜¯â€œææ‡‚æ‰§è¡Œæ—¶æœºâ€å’Œâ€œæ§åˆ¶å‡½æ•°å¼•ç”¨ç¨³å®šæ€§â€ã€‚è®°ä½ä»¥ä¸ŠåŸåˆ™ï¼Œå°±èƒ½é¿å¼€å¤§éƒ¨åˆ†å‘ï¼Œå†™å‡ºé«˜æ•ˆã€æ¸…æ™°çš„ç»„ä»¶é€šä¿¡ä»£ç ï½</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React + ECharts å¤šå›¾è¡¨è”åŠ¨å®æˆ˜ï¼šä»é›¶å®ç° Tooltip åŒæ­¥ä¸é”å®šåŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7586540799249940534</link>    <guid>https://juejin.cn/post/7586540799249940534</guid>    <pubDate>2025-12-22T11:01:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586540799249940534" data-draft-id="7586263211089166362" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React + ECharts å¤šå›¾è¡¨è”åŠ¨å®æˆ˜ï¼šä»é›¶å®ç° Tooltip åŒæ­¥ä¸é”å®šåŠŸèƒ½"/> <meta itemprop="keywords" content="å‰ç«¯,ECharts,React.js"/> <meta itemprop="datePublished" content="2025-12-22T11:01:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°è‚¥å®…ä»™å¥³"/> <meta itemprop="url" content="https://juejin.cn/user/2124677778769838"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React + ECharts å¤šå›¾è¡¨è”åŠ¨å®æˆ˜ï¼šä»é›¶å®ç° Tooltip åŒæ­¥ä¸é”å®šåŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2124677778769838/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°è‚¥å®…ä»™å¥³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T11:01:35.000Z" title="Mon Dec 22 2025 11:01:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React + ECharts è¿›é˜¶ï¼šä¼˜é›…å®ç°â€œå¸¦è®°å¿†â€çš„å¤šå›¾è”åŠ¨ä¸ Tooltip ç‚¹å‡»é”å®š</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨å¼€å‘å¤æ‚çš„æ•°æ®çœ‹æ¿æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„ç—›ç‚¹ï¼š</p>
<ol>
<li><strong>è”åŠ¨éš¾</strong>ï¼šè™½ç„¶ ECharts è‡ªå¸¦Â connectï¼Œä½†å®ƒåªèƒ½åŒæ­¥æ‚¬åœï¼Œæ— æ³•è‡ªå®šä¹‰å¤æ‚çš„äº¤äº’é€»è¾‘ã€‚</li>
<li><strong>çœ‹æ•°éš¾</strong>ï¼šé¼ æ ‡ä¸€æ—¦ç§»å¼€ï¼ŒTooltip æ¶ˆå¤±ã€‚æƒ³å¯¹æ¯”ä¸¤ä¸ªç›¸è·è¾ƒè¿œçš„ç‚¹ï¼Ÿç”šè‡³æƒ³æˆªå›¾ä¿å­˜å½“å‰æ•°æ®çŠ¶æ€ï¼Ÿéš¾å¦‚ç™»å¤©ã€‚</li>
<li><strong>è§†è§‰ä¹±</strong>ï¼šå¤šå›¾è”åŠ¨æ—¶ï¼Œæ‰€æœ‰å›¾è¡¨åŒæ—¶å¼¹å‡º Tooltipï¼Œç”»é¢ç¬é—´è¢«å¯†å¯†éº»éº»çš„æµ®å±‚å¡æ»¡ã€‚</li>
</ol>
<p>ä»Šå¤©æˆ‘å°†åˆ†äº«ä¸€ä¸ªåŸºäºÂ <strong>React Context + ECharts æ‰‹åŠ¨æ´¾å‘ Action</strong>Â çš„æ–¹æ¡ˆï¼Œå®ç°<strong>å¤šè¡¨åŒæ­¥æ‚¬åœã€ç‚¹å‡»é”å®šæ•°æ®ç‚¹ã€æ™ºèƒ½ Tooltip æ˜¾ç¤º</strong>ç­‰é«˜é˜¶äº¤äº’åŠŸèƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-2">ğŸš€ æ ¸å¿ƒäº¤äº’é¢„è§ˆ</h3>
<ul>
<li><strong>å…¨åœºåŒæ­¥</strong>ï¼šé¼ æ ‡åœ¨ A å›¾æ»‘è¿‡ï¼ŒBã€Cã€D å›¾çš„æŒ‡ç¤ºçº¿ï¼ˆAxisPointerï¼‰ç²¾å‡†åŒæ­¥ã€‚</li>
<li><strong>ç‚¹å‡»é”å®š</strong>ï¼šç‚¹å‡»æŸä¸€æ•°æ®ç‚¹ï¼Œæ‰€æœ‰å›¾è¡¨è¿›å…¥â€œé”å®šæ¨¡å¼â€ï¼Œå³ä¾¿é¼ æ ‡ç§»èµ°ï¼Œæ•°æ®ä¾ç„¶åœç•™åœ¨é‚£ä¸€åˆ»ï¼Œæ–¹ä¾¿æ·±åº¦å¯¹æ¯”ã€‚</li>
<li><strong>æ™ºèƒ½æ¿€æ´»</strong>ï¼šåªæœ‰å½“å‰é¼ æ ‡æ‰€åœ¨çš„å›¾è¡¨ï¼ˆActive Chartï¼‰æ‰æ˜¾ç¤ºè¯¦ç»†æµ®å±‚ï¼Œå…¶ä»–å›¾è¡¨ä¿æŒç®€æ´ï¼Œä»…ä¿ç•™æŒ‡ç¤ºçº¿ã€‚</li>
</ul>
<p>ğŸ‘‰Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.google.com%2Furl%3Fsa%3DE%26q%3Dhttps%253A%252F%252Fcodesandbox.io%252Fp%252Fsandbox%252Fwild-sea-c8wqx9%253Ffile%253D%25252Fsrc%25252Fcomponents%25252FSyncChart.tsx%25253A1%25252C1-301%25252C1" target="_blank" title="https://www.google.com/url?sa=E&amp;q=https%3A%2F%2Fcodesandbox.io%2Fp%2Fsandbox%2Fwild-sea-c8wqx9%3Ffile%3D%252Fsrc%252Fcomponents%252FSyncChart.tsx%253A1%252C1-301%252C1" ref="nofollow noopener noreferrer"><strong>äº¤äº’ Demo å±•ç¤º</strong></a></p>
<hr/>
<h3 data-id="heading-3">ä¸€ã€ ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨Â echarts.connectï¼Ÿ</h3>
<p>ECharts å®˜æ–¹æä¾›çš„Â connectÂ èƒ½å¤Ÿæ»¡è¶³ 80% çš„è”åŠ¨åœºæ™¯ã€‚ä½†å‰©ä¸‹çš„ 20%ï¼ˆæ¯”å¦‚æˆ‘ä»¬è¦å®ç°çš„â€œç‚¹å‡»é”å®šâ€ï¼‰ï¼Œå®˜æ–¹ API å°±æ˜¾å¾—æ‰è¥Ÿè§è‚˜äº†ã€‚</p>
<p><strong>æœ¬æ–¹æ¡ˆçš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>é«˜åº¦å—æ§</strong>ï¼šæ‰€æœ‰å›¾è¡¨çš„çŠ¶æ€ï¼ˆé€‰ä¸­ç´¢å¼•ã€æ¿€æ´»çŠ¶æ€ï¼‰å…¨éƒ¨æ”¶æ‹¢åœ¨ React State ä¸­ã€‚</li>
<li><strong>äº¤äº’å®šåˆ¶</strong>ï¼šå¯ä»¥è‡ªç”±å®šä¹‰â€œè§£é”â€é€»è¾‘ï¼ˆå¦‚ç‚¹å‡»ç©ºç™½ã€é¼ æ ‡å†æ¬¡è¿›å…¥æ—¶è‡ªåŠ¨è§£é”ï¼‰ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜å¼‚</strong>ï¼šé€šè¿‡Â RefÂ å’ŒÂ dispatchActionÂ ç²¾å‡†æ§åˆ¶å›¾è¡¨æ›´æ–°ï¼Œé¿å…äº†å› Â setOptionÂ å¯¼è‡´çš„é¢‘ç¹é‡ç»˜ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">äºŒã€ æ¶æ„è®¾è®¡ï¼šç»™å›¾è¡¨è£…ä¸Šâ€œæŒ‡æŒ¥éƒ¨â€</h3>
<p>æˆ‘ä»¬é‡‡ç”¨Â <strong>Context + Provider</strong>Â æ¨¡å¼ã€‚æ‰€æœ‰å›¾è¡¨ç»„ä»¶éƒ½æ˜¯â€œè®¢é˜…è€…â€ï¼ŒæŒ‡æŒ¥éƒ¨ï¼ˆContextï¼‰è´Ÿè´£åˆ†å‘æŒ‡ä»¤ã€‚</p>
<h4 data-id="heading-5">1. é€»è¾‘åˆ†å‘å›¾</h4>
<p>è¿™é‡Œçš„æ ¸å¿ƒæ˜¯<strong>å•å‘æ•°æ®æµ</strong>ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e410a8b9d897498ca304729da9ced9c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6IKl5a6F5LuZ5aWz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767006282&amp;x-signature=9UBEsyQPRYTZpzBEq9TrnXaLcqc%3D" alt="image.png" width="50%" loading="lazy"/>
<h4 data-id="heading-6">2. å®šä¹‰é€šè®¯åè®®</h4>
<p>codeTypeScript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">SyncContext</span> {
  <span class="hljs-attr">lockedIndex</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;   <span class="hljs-comment">// â€œé”å®šâ€çš„ç´¢å¼•ï¼šä¸€æ—¦ç¡®å®šï¼Œå…¨åœºé™æ­¢</span>
  <span class="hljs-attr">hoverIndex</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;    <span class="hljs-comment">// â€œæ‚¬åœâ€çš„ç´¢å¼•ï¼šéšé¼ æ ‡èµ·èˆ</span>
  <span class="hljs-attr">activeChartId</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>; <span class="hljs-comment">// è°æ˜¯å½“å‰çš„â€œæŒ‡æŒ¥å®˜â€ï¼šåªæœ‰å®ƒèƒ½æ˜¾ç¤ºæ°”æ³¡</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€ æ ¸å¿ƒä»£ç å®ç°</h3>
<h4 data-id="heading-8">1. å¤ºå›æ§åˆ¶æƒï¼šç¦ç”¨è‡ªåŠ¨è§¦å‘</h4>
<p>è¦å®ç°æ‰‹åŠ¨è”åŠ¨ï¼Œé¦–å…ˆè¦å…³æ‰ ECharts é»˜è®¤çš„é¼ æ ‡å“åº”ã€‚</p>
<p>codeJavaScript</p>
<pre><code class="hljs language-arduino" lang="arduino">tooltip: {
  trigger: <span class="hljs-string">"axis"</span>,
  triggerOn: <span class="hljs-string">"none"</span>,      <span class="hljs-comment">// é‡ç‚¹ï¼šç¦ç”¨é»˜è®¤çš„è‡ªåŠ¨è§¦å‘ï¼Œæ”¹ç”±ä»£ç æ¥ç®¡</span>
  showContent: isActive,  <span class="hljs-comment">// åªæœ‰è¢«æ¿€æ´»çš„å›¾è¡¨æ‰æ˜¾ç¤ºæ°”æ³¡å†…å®¹</span>
},
</code></pre>
<h4 data-id="heading-9">2. æ—¶ç©ºè½¬æ¢ï¼šåƒç´ åæ ‡åˆ°æ•°æ®ç´¢å¼•</h4>
<p>å¦‚ä½•çŸ¥é“é¼ æ ‡æŒ‡åœ¨å“ªä¸ªç‚¹ï¼Ÿæˆ‘ä»¬éœ€è¦æŠŠå±å¹•ä¸Šçš„åƒç´ ç‚¹â€œç¿»è¯‘â€æˆæ•°æ®çš„Â indexã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä½¿ç”¨ zr (ZRender) ç›‘å¬ï¼Œæ¯”æ™®é€šå›¾è¡¨äº‹ä»¶æ›´çµæ•</span>
zr.<span class="hljs-title function_">on</span>(<span class="hljs-string">"mousemove"</span>, <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (lockedIndexRef.<span class="hljs-property">current</span> !== <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// é”å®šçŠ¶æ€ä¸‹ä¸å“åº”æ‚¬åœ</span>

  <span class="hljs-keyword">const</span> pointInPixel = [params.<span class="hljs-property">offsetX</span>, params.<span class="hljs-property">offsetY</span>];
  <span class="hljs-keyword">if</span> (chart.<span class="hljs-title function_">containPixel</span>(<span class="hljs-string">"grid"</span>, pointInPixel)) {
    <span class="hljs-comment">// å…³é”®ï¼šå°†åƒç´ åæ ‡è½¬æ¢ä¸ºæ•°æ®åæ ‡</span>
    <span class="hljs-keyword">const</span> pointInGrid = chart.<span class="hljs-title function_">convertFromPixel</span>({ <span class="hljs-attr">seriesIndex</span>: <span class="hljs-number">0</span> }, pointInPixel);
    <span class="hljs-keyword">const</span> xIndex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(pointInGrid[<span class="hljs-number">0</span>]); <span class="hljs-comment">// è·å–æ•°æ®ç´¢å¼•</span>
    
    <span class="hljs-title function_">setHoverIndex</span>(xIndex);
    <span class="hljs-title function_">setActiveChartId</span>(id);
  }
});
</code></pre>
<h4 data-id="heading-10">3. ç²¾å‡†æ‰“å‡»ï¼šä½¿ç”¨Â dispatchAction</h4>
<p>è¿™æ˜¯å®ç°è”åŠ¨çš„â€œé­”æ³•æ£’â€ã€‚æˆ‘ä»¬ä¸é€šè¿‡Â setOptionÂ æ”¹æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥å‘å›¾è¡¨å‘é€åŠ¨ä½œæŒ‡ä»¤ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> chart = instanceRef.<span class="hljs-property">current</span>;
  <span class="hljs-keyword">if</span> (!chart) <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// ä¼˜å…ˆçº§ï¼šé”å®šç´¢å¼• &gt; æ‚¬åœç´¢å¼•</span>
  <span class="hljs-keyword">const</span> targetIndex = lockedIndex !== <span class="hljs-literal">null</span> ? lockedIndex : hoverIndex;
  <span class="hljs-keyword">const</span> isActive = activeChartId === id;

  <span class="hljs-keyword">if</span> (targetIndex !== <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// 1. åŒæ­¥åæ ‡è½´æŒ‡ç¤ºçº¿ (æ‰€æœ‰å›¾è¡¨åŒæ­¥)</span>
    chart.<span class="hljs-title function_">dispatchAction</span>({
      <span class="hljs-attr">type</span>: <span class="hljs-string">"updateAxisPointer"</span>,
      <span class="hljs-attr">seriesIndex</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">dataIndex</span>: targetIndex,
    });

    <span class="hljs-comment">// 2. æ§åˆ¶æ°”æ³¡æ˜¾ç¤º (ä»…æ¿€æ´»å›¾è¡¨æ˜¾ç¤º)</span>
    <span class="hljs-keyword">if</span> (isActive) {
      chart.<span class="hljs-title function_">dispatchAction</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">"showTip"</span>, <span class="hljs-attr">dataIndex</span>: targetIndex });
    } <span class="hljs-keyword">else</span> {
      chart.<span class="hljs-title function_">dispatchAction</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">"hideTip"</span> });
    }
  }
}, [lockedIndex, hoverIndex, activeChartId]);
</code></pre>
<hr/>
<h3 data-id="heading-11">å››ã€ è¿›é˜¶ä¼˜åŒ–ï¼ˆé¿å‘æŒ‡å—ï¼‰</h3>
<h4 data-id="heading-12">1. è§£å†³ React é—­åŒ…é™·é˜±</h4>
<p>åœ¨Â zr.onÂ çš„å¼‚æ­¥å›è°ƒä¸­ï¼Œç›´æ¥è®¿é—®Â lockedIndexÂ æ‹¿åˆ°çš„æ˜¯ç»„ä»¶åˆæ¬¡æ¸²æŸ“æ—¶çš„æ—§å€¼ã€‚<br/>
<strong>æ–¹æ¡ˆ</strong>ï¼šå¼•å…¥Â useRefÂ å®æ—¶åŒæ­¥çŠ¶æ€ï¼Œç¡®ä¿å›è°ƒå‡½æ•°æ°¸è¿œèƒ½æ‹¿åˆ°â€œç°åœ¨â€çš„å€¼ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> lockedIndexRef = <span class="hljs-title function_">useRef</span>(lockedIndex);
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  lockedIndexRef.<span class="hljs-property">current</span> = lockedIndex; <span class="hljs-comment">// åŒæ­¥ ref</span>
}, [lockedIndex]);
</code></pre>
<h4 data-id="heading-13">2. æè‡´æ€§èƒ½ï¼šé˜²æ­¢é…ç½®é‡è½½</h4>
<p>é¢‘ç¹åˆ‡æ¢Â showContentÂ å¯èƒ½ä¼šè§¦å‘ ECharts å†…éƒ¨çš„é‡ç»˜é€»è¾‘ã€‚<br/>
<strong>æ–¹æ¡ˆ</strong>ï¼šåœ¨ç»„ä»¶å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªÂ tooltipStateRefï¼Œåªæœ‰å½“æ¿€æ´»çŠ¶æ€<strong>çœŸæ­£å‘ç”Ÿåˆ‡æ¢</strong>æ—¶ï¼Œæ‰è°ƒç”¨Â chart.setOptionã€‚</p>
<h4 data-id="heading-14">3. è§†è§‰åé¦ˆä¼˜åŒ–</h4>
<p>ä¸ºäº†å¢å¼ºäº¤äº’æ„Ÿï¼Œæˆ‘åœ¨å¤–å±‚å®¹å™¨ä½¿ç”¨äº† Tailwind åŠ¨æ€ç±»åï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å½“é”å®šå‘ç”Ÿæ—¶ï¼Œå¤–å±‚è¾¹æ¡†å‘å…‰æé†’</span>
className={<span class="hljs-string">`transition-all duration-300 <span class="hljs-subst">${
  lockedIndex !== <span class="hljs-literal">null</span> ? <span class="hljs-string">"border-indigo-500 shadow-indigo-500/20"</span> : <span class="hljs-string">"border-transparent"</span>
}</span>`</span>}
</code></pre>
<hr/>
<h3 data-id="heading-15">äº”ã€ æ€»ç»“</h3>
<p>è¿™å¥—æ–¹æ¡ˆçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>å°† ECharts çš„å†…éƒ¨çŠ¶æ€â€œå¤–éƒ¨åŒ–â€</strong> ã€‚</p>
<p>é€šè¿‡ React æ§åˆ¶ ECharts çš„Â dispatchActionï¼Œæˆ‘ä»¬ä¸ä»…å®ç°äº†å¤šè¡¨è”åŠ¨å’Œç‚¹å‡»é”å®šï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸ºæ•°æ®å›¾è¡¨èµ‹äºˆäº†â€œè®°å¿†â€å’Œâ€œä¸»ä»å…³ç³»â€ã€‚</p>
<p>è¿™ç§â€œå—æ§å›¾è¡¨â€çš„æ€è·¯å¯ä»¥è½»æ˜“æ‰©å±•åˆ°ï¼š</p>
<ul>
<li><strong>å¤šç»´æ•°æ®åˆ·é€‰ (Brush)</strong> Â åŒæ­¥</li>
<li><strong>æ—¶é—´è½´ç¼©æ”¾ (DataZoom)</strong> Â åŒæ­¥</li>
<li><strong>å¤šç»´åº¦å¯¹æ¯”</strong>Â çš„æŒä¹…åŒ–å±•ç¤º</li>
</ul>
<p>å¦‚æœä½ æ­£åœ¨å¼€å‘é«˜æ€§èƒ½çš„å¯è§†åŒ–å¤§å±ï¼Œä¸å¦¨å°è¯•è¿™å¥—æ–¹æ¡ˆï¼Œå®ƒä¼šè®©ä½ çš„çœ‹æ¿äº¤äº’ç¬é—´æå‡ä¸€ä¸ªæ¡£æ¬¡ã€‚</p>
<hr/>
<blockquote>
<p><strong>ä½œè€…æ³¨</strong>ï¼šæ–‡ä¸­ä»£ç ç‰‡æ®µä¸ºæ ¸å¿ƒé€»è¾‘ï¼Œå®Œæ•´å®ç°éœ€è¦é…åˆÂ Context.Providerã€‚å¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°åæ ‡è½¬æ¢åç§»ã€å¤šå›¾åŒæ­¥å»¶è¿Ÿç­‰ç»†èŠ‚é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS scroll-behavior ä¸ JS scrollTo çš„ååŒä¸åšå¼ˆ]]></title>    <link>https://juejin.cn/post/7586490798431469631</link>    <guid>https://juejin.cn/post/7586490798431469631</guid>    <pubDate>2025-12-22T11:08:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586490798431469631" data-draft-id="7586540799249956918" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS scroll-behavior ä¸ JS scrollTo çš„ååŒä¸åšå¼ˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T11:08:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="donecoding"/> <meta itemprop="url" content="https://juejin.cn/user/3192637500430093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS scroll-behavior ä¸ JS scrollTo çš„ååŒä¸åšå¼ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3192637500430093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    donecoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T11:08:37.000Z" title="Mon Dec 22 2025 11:08:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼Œå¹³æ»‘æ»šåŠ¨å·²æˆä¸ºæå‡ç”¨æˆ·ä½“éªŒçš„é‡è¦ç»†èŠ‚ã€‚CSS å’Œ JavaScript éƒ½æä¾›äº†å®ç°æ»šåŠ¨åŠ¨ç”»çš„æ–¹æ¡ˆï¼Œä½†å®ƒä»¬ä¹‹é—´çš„äº¤äº’å…³ç³»å´å¸¸è¢«è¯¯è§£ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ CSS <code>scroll-behavior</code> ä¸ JavaScript <code>scrollTo()</code> çš„ç”¨æ³•ã€ä¼˜å…ˆçº§è§„åˆ™å’Œå®é™…åº”ç”¨ä¸­çš„æ³¨æ„äº‹é¡¹ã€‚</p>
<h2 data-id="heading-1">ä¸¤ç§æ»šåŠ¨åŠ¨ç”»æ–¹æ¡ˆ</h2>
<h3 data-id="heading-2">1. CSS scroll-behavior</h3>
<p>CSS çš„ <code>scroll-behavior</code> å±æ€§æä¾›äº†ä¸€ç§å£°æ˜å¼çš„æ»šåŠ¨åŠ¨ç”»æ§åˆ¶æ–¹å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* å¯ç”¨å¹³æ»‘æ»šåŠ¨ */</span>
<span class="hljs-selector-class">.container</span> {
    scroll-behavior: smooth;
}

<span class="hljs-comment">/* ç¦ç”¨å¹³æ»‘æ»šåŠ¨ï¼ˆé»˜è®¤ï¼‰ */</span>
<span class="hljs-selector-class">.container</span> {
    scroll-behavior: auto;
}
</code></pre>
<p><strong>ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>å£°æ˜å¼é…ç½®ï¼Œç®€å•ç›´è§‚</li>
<li>å½±å“å®¹å™¨å†…æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ»šåŠ¨è¡Œä¸º</li>
<li>åŒ…æ‹¬é”šç‚¹é“¾æ¥ã€æµè§ˆå™¨é»˜è®¤æ»šåŠ¨ç­‰</li>
</ul>
<p>MDN æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FCSS%2FReference%2FProperties%2Fscroll-behavior" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Reference/Properties/scroll-behavior" ref="nofollow noopener noreferrer">scroll-behavior</a></p>
<h3 data-id="heading-3">2. JavaScript scrollTo()</h3>
<p>JavaScript çš„ <code>scrollTo()</code> æ–¹æ³•æä¾›äº†å‘½ä»¤å¼çš„æ»šåŠ¨æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€å•ç”¨æ³•</span>
element.<span class="hljs-title function_">scrollTo</span>(x, y);

<span class="hljs-comment">// é…ç½®å¯¹è±¡å½¢å¼</span>
element.<span class="hljs-title function_">scrollTo</span>({
    <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> <span class="hljs-comment">// æˆ– 'auto'</span>
});
</code></pre>
<p><strong>ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>ç¨‹åºåŒ–æ§åˆ¶ï¼Œçµæ´»æ€§å¼º</li>
<li>å¯åŠ¨æ€å†³å®šæ»šåŠ¨è¡Œä¸º</li>
<li>æ”¯æŒç²¾ç¡®çš„ä½ç½®æ§åˆ¶</li>
</ul>
<p>MDN æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FElement%2FscrollTo" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollTo" ref="nofollow noopener noreferrer">Element.scrollTo()</a></p>
<h2 data-id="heading-4">äº¤äº’è§„åˆ™ä¸ä¼˜å…ˆçº§</h2>
<h3 data-id="heading-5">1. åŸºæœ¬åŸåˆ™</h3>
<p>å½“ CSS <code>scroll-behavior</code> ä¸ JS <code>scrollTo()</code> åŒæ—¶å­˜åœ¨æ—¶ï¼Œéµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šå‡è®¾å®¹å™¨å·²è®¾ç½® scroll-behavior: smooth</span>

<span class="hljs-comment">// æƒ…å†µ1ï¼šJS æ˜ç¡®æŒ‡å®š behaviorï¼Œä»¥ JS ä¸ºå‡†</span>
element.<span class="hljs-title function_">scrollTo</span>({
    <span class="hljs-attr">top</span>: <span class="hljs-number">500</span>,
    <span class="hljs-attr">behavior</span>: <span class="hljs-string">'auto'</span> <span class="hljs-comment">// ç«‹å³æ»šåŠ¨ï¼Œè¦†ç›– CSS çš„ smooth</span>
});

<span class="hljs-comment">// æƒ…å†µ2ï¼šJS æœªæŒ‡å®š behaviorï¼Œä»¥ CSS ä¸ºå‡†</span>
element.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">500</span> }); <span class="hljs-comment">// å¹³æ»‘æ»šåŠ¨</span>
</code></pre>
<h3 data-id="heading-6">2. ç‰¹æ®Šæƒ…å†µï¼šscrollTop çš„æ„å¤–è¡Œä¸º</h3>
<p>ä¸€ä¸ªå¸¸è§çš„è¯¯è§£æ˜¯ï¼šç›´æ¥è®¾ç½® <code>scrollTop</code> å±æ€§ä¸ä¼šè§¦å‘å¹³æ»‘æ»šåŠ¨ã€‚ä½†å®é™…æµ‹è¯•å‘ç°ï¼Œåœ¨æŸäº›æµè§ˆå™¨ï¼ˆç‰¹åˆ«æ˜¯ Chromeï¼‰ä¸­ï¼Œå½“ CSS è®¾ç½®äº† <code>scroll-behavior: smooth</code> æ—¶ï¼Œç›´æ¥è®¾ç½® <code>scrollTop</code> ä¹Ÿå¯èƒ½è§¦å‘å¹³æ»‘æ•ˆæœã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨æŸäº›æµè§ˆå™¨ä¸­å¯èƒ½è§¦å‘å¹³æ»‘æ»šåŠ¨</span>
element.<span class="hljs-property">scrollTop</span> = <span class="hljs-number">500</span>;

<span class="hljs-comment">// è€Œä½¿ç”¨ scrollTo æ˜ç¡®æŒ‡å®š auto åˆ™ä¸ä¼š</span>
element.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">500</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'auto'</span> });
</code></pre>
<p>è¿™ç§è¡Œä¸ºçš„ä¸ä¸€è‡´æ€§æºäºæµè§ˆå™¨å®ç°çš„å·®å¼‚ï¼Œä¸åº”ä½œä¸ºå¯é çš„åŠŸèƒ½ä¾èµ–ã€‚</p>
<h2 data-id="heading-7">å®é™…åº”ç”¨æŒ‡å¯¼</h2>
<h3 data-id="heading-8">1. æ˜ç¡®æ€§åŸåˆ™</h3>
<p>ä¸ºç¡®ä¿æ»šåŠ¨è¡Œä¸ºçš„ä¸€è‡´æ€§ï¼Œå»ºè®®å§‹ç»ˆæ˜ç¡®æŒ‡å®šæ»šåŠ¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨èï¼šå§‹ç»ˆæ˜ç¡®æŒ‡å®š behavior</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">scrollToPosition</span>(<span class="hljs-params">element, position, smooth = <span class="hljs-literal">true</span></span>) {
    element.<span class="hljs-title function_">scrollTo</span>({
        <span class="hljs-attr">top</span>: position,
        <span class="hljs-attr">behavior</span>: smooth ? <span class="hljs-string">'smooth'</span> : <span class="hljs-string">'auto'</span>
    });
}
</code></pre>
<h3 data-id="heading-9">2. é¦–æ¬¡åŠ è½½ç‰¹æ®Šå¤„ç†</h3>
<p>é¦–æ¬¡åŠ è½½é¡µé¢æ—¶ï¼Œé€šå¸¸éœ€è¦ç«‹å³æ»šåŠ¨åˆ°ç‰¹å®šä½ç½®ï¼Œæ— éœ€åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¦–æ¬¡åŠ è½½ï¼šç«‹å³æ»šåŠ¨</span>
<span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.container'</span>);
container.<span class="hljs-property">style</span>.<span class="hljs-property">scrollBehavior</span> = <span class="hljs-string">'auto'</span>;
container.<span class="hljs-property">scrollTop</span> = container.<span class="hljs-property">scrollHeight</span>;

<span class="hljs-comment">// å»¶è¿Ÿæ¢å¤å¹³æ»‘æ•ˆæœ</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    container.<span class="hljs-property">style</span>.<span class="hljs-property">scrollBehavior</span> = <span class="hljs-string">'smooth'</span>;
}, <span class="hljs-number">100</span>);
</code></pre>
<h3 data-id="heading-10">3. ä¸­æ­¢æ»šåŠ¨åŠ¨ç”»</h3>
<p>æµè§ˆå™¨æœªæä¾›ç›´æ¥ä¸­æ­¢å¹³æ»‘æ»šåŠ¨çš„ APIï¼Œä½†å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¨¡æ‹Ÿï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">cancelSmoothScroll</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-keyword">const</span> currentScroll = element.<span class="hljs-property">scrollTop</span>;
    element.<span class="hljs-property">style</span>.<span class="hljs-property">scrollBehavior</span> = <span class="hljs-string">'auto'</span>;
    element.<span class="hljs-property">scrollTop</span> = currentScroll;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        element.<span class="hljs-property">style</span>.<span class="hljs-property">scrollBehavior</span> = <span class="hljs-string">''</span>;
    }, <span class="hljs-number">0</span>);
}
</code></pre>
<h2 data-id="heading-11">å…¼å®¹æ€§è€ƒé‡</h2>
<h3 data-id="heading-12">1. ç‰¹æ€§æ£€æµ‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æµ‹æ˜¯å¦æ”¯æŒå¹³æ»‘æ»šåŠ¨</span>
<span class="hljs-keyword">const</span> supportsSmoothScroll = <span class="hljs-string">'scrollBehavior'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">safeScrollTo</span>(<span class="hljs-params">element, options</span>) {
    <span class="hljs-keyword">if</span> (supportsSmoothScroll) {
        element.<span class="hljs-title function_">scrollTo</span>(options);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// é™çº§æ–¹æ¡ˆ</span>
        element.<span class="hljs-property">scrollTop</span> = options.<span class="hljs-property">top</span>;
        element.<span class="hljs-property">scrollLeft</span> = options.<span class="hljs-property">left</span> || <span class="hljs-number">0</span>;
    }
}
</code></pre>
<h3 data-id="heading-13">2. ç”¨æˆ·åå¥½å°Šé‡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æµ‹ç”¨æˆ·æ˜¯å¦åå¥½å‡å°‘åŠ¨ç”»</span>
<span class="hljs-keyword">const</span> prefersReducedMotion = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">matchMedia</span>(
    <span class="hljs-string">'(prefers-reduced-motion: reduce)'</span>
).<span class="hljs-property">matches</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">respectfulScrollTo</span>(<span class="hljs-params">element, target</span>) {
    element.<span class="hljs-title function_">scrollTo</span>({
        <span class="hljs-attr">top</span>: target,
        <span class="hljs-attr">behavior</span>: prefersReducedMotion ? <span class="hljs-string">'auto'</span> : <span class="hljs-string">'smooth'</span>
    });
}
</code></pre>
<h2 data-id="heading-14">æœ€ä½³å®è·µæ€»ç»“</h2>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨ JavaScript æ§åˆ¶</strong>ï¼š<code>scrollTo()</code> æ–¹æ³•æä¾›æ›´ç²¾ç¡®çš„æ§åˆ¶å’Œæ›´å¥½çš„å…¼å®¹æ€§</li>
<li><strong>é¿å…ä¾èµ–ä¸ä¸€è‡´è¡Œä¸º</strong>ï¼šä¸è¦ä¾èµ– <code>scrollTop</code> çš„åŠ¨ç”»æ•ˆæœï¼Œä¸åŒæµè§ˆå™¨è¡¨ç°ä¸ä¸€</li>
<li><strong>æ˜ç¡®æŒ‡å®šæ»šåŠ¨è¡Œä¸º</strong>ï¼šå§‹ç»ˆé€šè¿‡ <code>behavior</code> å‚æ•°æ˜ç¡®æŒ‡å®šæ»šåŠ¨æ–¹å¼</li>
<li><strong>è€ƒè™‘é¦–æ¬¡åŠ è½½åœºæ™¯</strong>ï¼šé¦–æ¬¡åŠ è½½é€šå¸¸éœ€è¦æ— åŠ¨ç”»çš„ç«‹å³æ»šåŠ¨</li>
<li><strong>å°Šé‡ç”¨æˆ·åå¥½</strong>ï¼šæ£€æµ‹ <code>prefers-reduced-motion</code> åª’ä½“æŸ¥è¯¢</li>
<li><strong>æä¾›é™çº§æ–¹æ¡ˆ</strong>ï¼šä¸ºä¸æ”¯æŒå¹³æ»‘æ»šåŠ¨çš„æµè§ˆå™¨æä¾›æ›¿ä»£æ–¹æ¡ˆ</li>
</ol>
<h2 data-id="heading-15">ç»“è¯­</h2>
<p>CSS <code>scroll-behavior</code> å’Œ JavaScript <code>scrollTo()</code> å…±åŒæ„æˆäº†ç°ä»£ Web æ»šåŠ¨åŠ¨ç”»çš„åŸºç¡€è®¾æ–½ã€‚ç†è§£å®ƒä»¬çš„äº¤äº’è§„åˆ™å’Œä¼˜å…ˆçº§ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬åˆ›å»ºæ›´ç¨³å®šã€ä¸€è‡´çš„ç”¨æˆ·ä½“éªŒã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ¨èä»¥ JavaScript çš„ <code>scrollTo()</code> æ–¹æ³•ä¸ºä¸»ï¼Œé€šè¿‡æ˜ç¡®çš„å‚æ•°é…ç½®æ§åˆ¶æ»šåŠ¨è¡Œä¸ºï¼ŒåŒæ—¶å…¼é¡¾ CSS çš„å£°æ˜å¼ç®€æ´æ€§ï¼Œè¾¾åˆ°æœ€ä½³çš„å®ç°æ•ˆæœã€‚</p>
<p>è®°ä½ï¼Œè‰¯å¥½çš„æ»šåŠ¨ä½“éªŒåº”è¯¥æ˜¯é¡ºæ»‘è‡ªç„¶çš„ï¼Œä½†æ›´é‡è¦çš„æ˜¯å¯é å’Œå¯æ§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 + Axios ä¼ä¸šçº§è¯·æ±‚å°è£…å®æˆ˜ï¼šä»é›¶æ­å»ºå®Œæ•´çš„ HTTP è¯·æ±‚å±‚]]></title>    <link>https://juejin.cn/post/7586477908758478883</link>    <guid>https://juejin.cn/post/7586477908758478883</guid>    <pubDate>2025-12-22T10:57:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586477908758478883" data-draft-id="7586518130760810536" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 + Axios ä¼ä¸šçº§è¯·æ±‚å°è£…å®æˆ˜ï¼šä»é›¶æ­å»ºå®Œæ•´çš„ HTTP è¯·æ±‚å±‚"/> <meta itemprop="keywords" content="å‰ç«¯,axios,Vue.js"/> <meta itemprop="datePublished" content="2025-12-22T10:57:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹åŒ—æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/1425415102792237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 + Axios ä¼ä¸šçº§è¯·æ±‚å°è£…å®æˆ˜ï¼šä»é›¶æ­å»ºå®Œæ•´çš„ HTTP è¯·æ±‚å±‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1425415102792237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹åŒ—æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T10:57:25.000Z" title="Mon Dec 22 2025 10:57:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,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) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,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) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-estuary-light">.hljs-comment,.hljs-quote{color:#6c6b5a}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ba6236}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#ae7313}.hljs-bullet,.hljs-string,.hljs-symbol{color:#7d9726}.hljs-section,.hljs-title{color:#36a166}.hljs-keyword,.hljs-selector-tag{color:#5f9182}.hljs-addition,.hljs-deletion{color:#22221b;display:inline-block;width:100%}.hljs-deletion{background-color:#ba6236}.hljs-addition{background-color:#7d9726}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#f4f3ec;color:#5f5e4e}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡å°†åˆ†äº«ä¸€å¥—ç»è¿‡ç”Ÿäº§ç¯å¢ƒéªŒè¯çš„ Axios è¯·æ±‚å°è£…æ–¹æ¡ˆï¼Œæ¶µç›–è¯·æ±‚æ‹¦æˆªã€å“åº”å¤„ç†ã€Token ç®¡ç†ã€å¤šç«¯é€‚é…ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œé€‚ç”¨äº Vue3 + TypeScript é¡¹ç›®ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å®é™…çš„ä¼ä¸šçº§é¡¹ç›®ä¸­ï¼Œä¸€ä¸ªå¥å£®çš„ HTTP è¯·æ±‚å±‚éœ€è¦å¤„ç†å¾ˆå¤šé—®é¢˜ï¼š</p>
<ul>
<li>ç»Ÿä¸€çš„è¯·æ±‚å¤´ç®¡ç†ï¼ˆTokenã€è®¾å¤‡ä¿¡æ¯ã€æ¥æºè¿½è¸ªç­‰ï¼‰</li>
<li>çµæ´»çš„å“åº”æ‹¦æˆªï¼ˆé”™è¯¯å¤„ç†ã€æ¶ˆæ¯æç¤ºã€ç™»å½•æ€å¤±æ•ˆï¼‰</li>
<li>å¤šç«¯ç¯å¢ƒé€‚é…ï¼ˆH5ã€å¾®ä¿¡æµè§ˆå™¨ã€App WebViewï¼‰</li>
<li>å‚æ•°åŠ å¯†ä¸å®‰å…¨ä¼ è¾“</li>
<li>è¥é”€è¿½è¸ªå‚æ•°é€ä¼ </li>
</ul>
<p>æœ¬æ–‡å°†é€ä¸€æ‹†è§£è¿™äº›é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æ•´ä½“æ¶æ„è®¾è®¡</h2>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä¸šåŠ¡å±‚ (APIs)                           â”‚
â”‚              å„ä¸šåŠ¡æ¨¡å—çš„ API è°ƒç”¨                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HTTP å®ä¾‹ (å•ä¾‹)                          â”‚
â”‚              é…ç½® baseURLï¼Œå¯¼å‡ºå…¨å±€å®ä¾‹                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Axios å°è£…ç±»                               â”‚
â”‚         è¯·æ±‚æ‹¦æˆªå™¨ + å“åº”æ‹¦æˆªå™¨ + å‚æ•°åŠ å¯†                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å·¥å…·å±‚                                  â”‚
â”‚       ç¼“å­˜ç®¡ç†ã€å­˜å‚¨å°è£…ã€ç¯å¢ƒåˆ¤æ–­ã€Cookie æ“ä½œ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒå°è£…å®ç°</h2>
<h3 data-id="heading-3">2.1 Axios ç±»å°è£…</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/plugins/axios/axios.ts</span>
<span class="hljs-keyword">import</span> axios, { <span class="hljs-title class_">AxiosRequestConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Http</span> {
    <span class="hljs-keyword">private</span> instance

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config: AxiosRequestConfig</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span> = axios.<span class="hljs-title function_">create</span>(config)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">interceptors</span>()
    }

    <span class="hljs-comment">// é€šç”¨è¯·æ±‚æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> request&lt;T, D = <span class="hljs-title class_">ResponseResult</span>&lt;T&gt;&gt;(<span class="hljs-attr">config</span>: <span class="hljs-title class_">AxiosRequestConfig</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">async</span> (resolve, reject) =&gt; {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-property">request</span>&lt;D&gt;(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">encryption</span>(config))
                <span class="hljs-title function_">resolve</span>(response.<span class="hljs-property">data</span>)
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-title function_">reject</span>(error)
            }
        }) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Promise</span>&lt;D&gt;
    }

    <span class="hljs-comment">// åˆ†é¡µè¯·æ±‚æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> requestMeta&lt;T, D = <span class="hljs-title class_">ResponsePageResult</span>&lt;T&gt;&gt;(<span class="hljs-attr">config</span>: <span class="hljs-title class_">AxiosRequestConfig</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">async</span> (resolve, reject) =&gt; {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-property">request</span>&lt;D&gt;(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">encryption</span>(config))
                <span class="hljs-title function_">resolve</span>(response.<span class="hljs-property">data</span>)
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-title function_">reject</span>(error)
            }
        }) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Promise</span>&lt;D&gt;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">interceptors</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">interceptorsRequest</span>()
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">interceptorsResponse</span>()
    }

    <span class="hljs-comment">// å‚æ•°åŠ å¯†ï¼ˆä¸‹æ–‡è¯¦è§£ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title function_">encryption</span>(<span class="hljs-params">config: AxiosRequestConfig</span>) {
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h3 data-id="heading-4">2.2 åˆ›å»ºå…¨å±€å®ä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/plugins/axios/index.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Http</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./axios'</span>
<span class="hljs-keyword">import</span> env <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/env'</span>

<span class="hljs-keyword">const</span> http = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Http</span>({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">`<span class="hljs-subst">${env.VITE_API_URL}</span>/<span class="hljs-subst">${env.VITE_API_PREFIX}</span>`</span>
})

<span class="hljs-keyword">export</span> { http }
</code></pre>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€è¯·æ±‚æ‹¦æˆªå™¨ï¼šç»Ÿä¸€æ³¨å…¥è¯·æ±‚å¤´</h2>
<p>è¯·æ±‚æ‹¦æˆªå™¨æ˜¯æ•´ä¸ªå°è£…çš„æ ¸å¿ƒï¼Œéœ€è¦å¤„ç†ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<h3 data-id="heading-6">3.1 å®Œæ•´å®ç°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title function_">interceptorsRequest</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(
        <span class="hljs-function">(<span class="hljs-params">config: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
            <span class="hljs-comment">// 1. æ¥æºæ ‡è¯†ï¼šåŒºåˆ†å¾®ä¿¡æµè§ˆå™¨å’Œæ™®é€šç§»åŠ¨ç«¯</span>
            <span class="hljs-keyword">const</span> source = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isWeiXin</span>() ? <span class="hljs-string">'MP'</span> : <span class="hljs-string">'MB'</span>

            <span class="hljs-comment">// 2. å¹³å°æ ‡è¯†</span>
            <span class="hljs-keyword">const</span> platform = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'platform'</span>) || <span class="hljs-string">'h5'</span>

            <span class="hljs-comment">// 3. ç»„è£…è¯·æ±‚å¤´</span>
            <span class="hljs-keyword">let</span> headers = {
                ...config.<span class="hljs-property">headers</span>,
                platform,
                source,
                <span class="hljs-title class_">Accept</span>: <span class="hljs-string">'application/json'</span>,
            } <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>

            <span class="hljs-comment">// 4. è®¾å¤‡IDï¼ˆç”¨äºè®¾å¤‡æŒ‡çº¹ï¼‰</span>
            <span class="hljs-keyword">const</span> deviceId = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'deviceId'</span>)
            <span class="hljs-keyword">if</span> (deviceId) {
                headers[<span class="hljs-string">'device-id'</span>] = deviceId
            }

            <span class="hljs-comment">// 5. è¥é”€è¿½è¸ªå‚æ•°</span>
            <span class="hljs-keyword">const</span> marketLinkUuid = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'market-link-uuid'</span>)
            <span class="hljs-keyword">if</span> (marketLinkUuid) {
                headers[<span class="hljs-string">'market-link-uuid'</span>] = marketLinkUuid
            }

            <span class="hljs-comment">// 6. è®¤è¯ Token</span>
            <span class="hljs-keyword">const</span> token = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>)
            <span class="hljs-keyword">if</span> (token) {
                headers.<span class="hljs-property">Authorization</span> = <span class="hljs-string">`Bearer <span class="hljs-subst">${token}</span>`</span>
            }

            <span class="hljs-comment">// 7. è‡ªå®šä¹‰æ¶ˆæ¯å¤´ç¼–ç ï¼ˆé˜²æ­¢ä¸­æ–‡ä¹±ç ï¼‰</span>
            <span class="hljs-keyword">if</span> (headers.<span class="hljs-property">sucMsg</span>) {
                headers.<span class="hljs-property">sucMsg</span> = <span class="hljs-built_in">encodeURIComponent</span>(headers.<span class="hljs-property">sucMsg</span>)
            }
            <span class="hljs-keyword">if</span> (headers.<span class="hljs-property">errMsg</span>) {
                headers.<span class="hljs-property">errMsg</span> = <span class="hljs-built_in">encodeURIComponent</span>(headers.<span class="hljs-property">errMsg</span>)
            }

            <span class="hljs-comment">// 8. æµè§ˆå™¨ä¿¡æ¯ï¼ˆç”¨äºæ—¥å¿—åˆ†æï¼‰</span>
            <span class="hljs-keyword">const</span> { name, info } = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getOSAndBrowserName</span>()
            headers[<span class="hljs-string">'browser-name'</span>] = name
            headers[<span class="hljs-string">'browser-info'</span>] = info

            config.<span class="hljs-property">headers</span> = headers
            <span class="hljs-keyword">return</span> config
        },
        <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)
    )
}
</code></pre>
<h3 data-id="heading-7">3.2 è¯·æ±‚å¤´å­—æ®µè¯´æ˜</h3>













































<table><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th><th>ç¤ºä¾‹å€¼</th></tr></thead><tbody><tr><td><code>platform</code></td><td>å¹³å°æ ‡è¯†</td><td><code>h5</code></td></tr><tr><td><code>source</code></td><td>æ¥æºæ ‡è¯†</td><td><code>MP</code>(å¾®ä¿¡) / <code>MB</code>(ç§»åŠ¨ç«¯)</td></tr><tr><td><code>device-id</code></td><td>è®¾å¤‡å”¯ä¸€æ ‡è¯†</td><td><code>uuid-xxx</code></td></tr><tr><td><code>Authorization</code></td><td>è®¤è¯ä»¤ç‰Œ</td><td><code>Bearer eyJhbG...</code></td></tr><tr><td><code>market-link-uuid</code></td><td>è¥é”€é“¾æ¥è¿½è¸ª</td><td><code>link-uuid</code></td></tr><tr><td><code>browser-name</code></td><td>æµè§ˆå™¨æ ‡è¯†</td><td><code>Android-WeChat</code></td></tr><tr><td><code>sucMsg</code> / <code>errMsg</code></td><td>è‡ªå®šä¹‰æç¤ºæ¶ˆæ¯</td><td><code>%E6%93%8D%E4%BD%9C%E6%88%90%E5%8A%9F</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-8">å››ã€å“åº”æ‹¦æˆªå™¨ï¼šç»Ÿä¸€é”™è¯¯å¤„ç†</h2>
<h3 data-id="heading-9">4.1 æˆåŠŸå“åº”å¤„ç†</h3>
<p>ä¸€ä¸ªäº®ç‚¹è®¾è®¡æ˜¯<strong>åŠ¨æ€æ¶ˆæ¯æ›¿æ¢æœºåˆ¶</strong>ï¼Œå…è®¸å‰ç«¯è‡ªå®šä¹‰æç¤ºæ–‡æ¡ˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨ - æˆåŠŸå¤„ç†</span>
(response) =&gt; {
    <span class="hljs-comment">// åç«¯è¿”å›çš„æ¶ˆæ¯åŒ…å«å ä½ç¬¦ {#title}</span>
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">data</span>.<span class="hljs-property">message</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'{#title}'</span>)) {
        <span class="hljs-comment">// è§£ç å‰ç«¯ä¼ å…¥çš„è‡ªå®šä¹‰æ¶ˆæ¯</span>
        <span class="hljs-keyword">const</span> sucMsg = <span class="hljs-built_in">decodeURIComponent</span>(response.<span class="hljs-property">config</span>.<span class="hljs-property">headers</span>.<span class="hljs-property">sucMsg</span> || <span class="hljs-string">''</span>)
        <span class="hljs-keyword">const</span> errMsg = <span class="hljs-built_in">decodeURIComponent</span>(response.<span class="hljs-property">config</span>.<span class="hljs-property">headers</span>.<span class="hljs-property">errMsg</span> || <span class="hljs-string">''</span>)

        <span class="hljs-comment">// æ ¹æ®ä¸šåŠ¡ç æ›¿æ¢æ¶ˆæ¯</span>
        <span class="hljs-keyword">if</span> (response.<span class="hljs-property">data</span>.<span class="hljs-property">code</span> === <span class="hljs-number">20000</span>) {
            response.<span class="hljs-property">data</span>.<span class="hljs-property">message</span> = response.<span class="hljs-property">data</span>.<span class="hljs-property">message</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'{#title}'</span>, sucMsg)
        } <span class="hljs-keyword">else</span> {
            response.<span class="hljs-property">data</span>.<span class="hljs-property">message</span> = response.<span class="hljs-property">data</span>.<span class="hljs-property">message</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'{#title}'</span>, errMsg)
        }
    }
    <span class="hljs-keyword">return</span> response
}
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŒä¸€ä¸ªæ”¶è—æ¥å£ï¼Œä¸åŒåœºæ™¯æ˜¾ç¤ºä¸åŒæç¤º</span>
<span class="hljs-keyword">await</span> http.<span class="hljs-title function_">request</span>({
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/api/favorite'</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-attr">sucMsg</span>: <span class="hljs-string">'è¯¾ç¨‹æ”¶è—æˆåŠŸ'</span>,  <span class="hljs-comment">// å‰ç«¯è‡ªå®šä¹‰</span>
        <span class="hljs-attr">errMsg</span>: <span class="hljs-string">'è¯¾ç¨‹æ”¶è—å¤±è´¥'</span>
    }
})
</code></pre>
<h3 data-id="heading-10">4.2 é”™è¯¯å“åº”å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨ - é”™è¯¯å¤„ç†</span>
(error) =&gt; {
    <span class="hljs-title function_">closeToast</span>()  <span class="hljs-comment">// å…³é—­åŠ è½½æç¤º</span>

    <span class="hljs-keyword">const</span> { status, data } = error.<span class="hljs-property">response</span>

    <span class="hljs-keyword">switch</span> (status) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
            <span class="hljs-comment">// è®¤è¯å¤±æ•ˆå¤„ç†</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handle401Error</span>()
            <span class="hljs-keyword">break</span>

        <span class="hljs-keyword">case</span> <span class="hljs-number">422</span>:
            <span class="hljs-comment">// å‚æ•°éªŒè¯é”™è¯¯ï¼šæå–ç¬¬ä¸€ä¸ªé”™è¯¯ä¿¡æ¯</span>
            <span class="hljs-keyword">const</span> firstErrKey = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data.<span class="hljs-property">errors</span>)[<span class="hljs-number">0</span>]
            <span class="hljs-keyword">const</span> errorMsg = data.<span class="hljs-property">errors</span>[firstErrKey][<span class="hljs-number">0</span>]
            <span class="hljs-title function_">showToast</span>(errorMsg || data.<span class="hljs-property">message</span>)
            <span class="hljs-keyword">break</span>

        <span class="hljs-attr">default</span>:
            <span class="hljs-title function_">showToast</span>(data.<span class="hljs-property">message</span>)
    }

    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)
}
</code></pre>
<h3 data-id="heading-11">4.3 401 è®¤è¯å¤±æ•ˆçš„å®Œæ•´å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title function_">handle401Error</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// 1. åˆ¤æ–­æ˜¯å¦åœ¨ App WebView ä¸­</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isFlutterWebView</span>()) {
        <span class="hljs-comment">// é€šçŸ¥åŸç”Ÿ App å¤„ç†ç™»å½•</span>
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">flutter_inappwebview</span>.<span class="hljs-title function_">callHandler</span>(<span class="hljs-string">'flutterHandler'</span>, {
            <span class="hljs-attr">code</span>: <span class="hljs-string">'token_expired'</span>,
            <span class="hljs-attr">msg</span>: <span class="hljs-string">'ç™»å½•å·²è¿‡æœŸ'</span>
        })
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-comment">// 2. æ¸…é™¤æœ¬åœ°ç™»å½•ä¿¡æ¯</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">clearLoginInfo</span>()

    <span class="hljs-comment">// 3. è·³è½¬ç™»å½•é¡µ</span>
    router.<span class="hljs-title function_">replace</span>(<span class="hljs-string">'/login'</span>)
}
</code></pre>
<hr/>
<h2 data-id="heading-12">äº”ã€å‚æ•°åŠ å¯†æœºåˆ¶</h2>
<p>å¯¹äºæ•æ„Ÿå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ Base64 ç¼–ç è¿›è¡Œç®€å•åŠ å¯†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Base64</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'js-base64'</span>

<span class="hljs-comment">// åŠ å¯†æ–¹æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">encryption</span>(<span class="hljs-params">data: <span class="hljs-built_in">any</span></span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Base64</span>.<span class="hljs-title function_">encode</span>(
        <span class="hljs-built_in">encodeURI</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data))
    ).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/=/g</span>, <span class="hljs-string">''</span>)  <span class="hljs-comment">// ç§»é™¤æœ«å°¾çš„ç­‰å·</span>
}

<span class="hljs-comment">// è§£å¯†æ–¹æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">decryption</span>(<span class="hljs-params">data: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">any</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(
        <span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-title class_">Base64</span>.<span class="hljs-title function_">decode</span>(data))
    )
}

<span class="hljs-comment">// åœ¨è¯·æ±‚ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">private</span> <span class="hljs-title function_">encryption</span>(<span class="hljs-params">config: AxiosRequestConfig</span>) {
    <span class="hljs-keyword">if</span> (config.<span class="hljs-property">params</span>?.<span class="hljs-property">f</span>) {
        config.<span class="hljs-property">params</span>.<span class="hljs-property">f</span> = <span class="hljs-title function_">encryption</span>(config.<span class="hljs-property">params</span>.<span class="hljs-property">f</span>)
    }
    <span class="hljs-keyword">return</span> config
}
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŸå§‹è¯·æ±‚</span>
http.<span class="hljs-title function_">request</span>({
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/api/config'</span>,
    <span class="hljs-attr">params</span>: {
        <span class="hljs-attr">f</span>: { <span class="hljs-attr">code</span>: <span class="hljs-string">'website_settings'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'public'</span> }
    }
})

<span class="hljs-comment">// å®é™…å‘é€</span>
<span class="hljs-comment">// GET /api/config?f=eyJjb2RlIjoid2Vic2l0ZV9zZXR0aW5ncyIsInR5cGUiOiJwdWJsaWMifQ</span>
</code></pre>
<hr/>
<h2 data-id="heading-13">å…­ã€æœ¬åœ°å­˜å‚¨å°è£…</h2>
<h3 data-id="heading-14">6.1 å¸¦è¿‡æœŸæ—¶é—´çš„å­˜å‚¨å·¥å…·</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/store.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CacheData</span> {
    <span class="hljs-attr">data</span>: <span class="hljs-built_in">any</span>
    expire?: <span class="hljs-built_in">number</span>  <span class="hljs-comment">// è¿‡æœŸæ—¶é—´æˆ³</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key: <span class="hljs-built_in">string</span>, data: <span class="hljs-built_in">any</span>, useLocalStorage = <span class="hljs-literal">true</span>, expireSeconds?: <span class="hljs-built_in">number</span></span>) {
        <span class="hljs-keyword">const</span> <span class="hljs-attr">cache</span>: <span class="hljs-title class_">CacheData</span> = { data }

        <span class="hljs-keyword">if</span> (expireSeconds) {
            cache.<span class="hljs-property">expire</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + expireSeconds * <span class="hljs-number">1000</span>
        }

        <span class="hljs-keyword">const</span> storage = useLocalStorage ? <span class="hljs-variable language_">localStorage</span> : sessionStorage
        storage.<span class="hljs-title function_">setItem</span>(key, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(cache))
    },

    <span class="hljs-title function_">get</span>(<span class="hljs-params">key: <span class="hljs-built_in">string</span>, useLocalStorage = <span class="hljs-literal">true</span>, defaultValue: <span class="hljs-built_in">any</span> = <span class="hljs-literal">null</span></span>) {
        <span class="hljs-keyword">const</span> storage = useLocalStorage ? <span class="hljs-variable language_">localStorage</span> : sessionStorage
        <span class="hljs-keyword">const</span> cacheStr = storage.<span class="hljs-title function_">getItem</span>(key)

        <span class="hljs-keyword">if</span> (!cacheStr) <span class="hljs-keyword">return</span> defaultValue

        <span class="hljs-keyword">const</span> <span class="hljs-attr">cache</span>: <span class="hljs-title class_">CacheData</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(cacheStr)

        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿‡æœŸ</span>
        <span class="hljs-keyword">if</span> (cache.<span class="hljs-property">expire</span> &amp;&amp; cache.<span class="hljs-property">expire</span> &lt; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()) {
            storage.<span class="hljs-title function_">removeItem</span>(key)
            <span class="hljs-keyword">return</span> defaultValue
        }

        <span class="hljs-keyword">return</span> cache.<span class="hljs-property">data</span>
    },

    <span class="hljs-title function_">remove</span>(<span class="hljs-params">key: <span class="hljs-built_in">string</span>, useLocalStorage = <span class="hljs-literal">true</span></span>) {
        <span class="hljs-keyword">const</span> storage = useLocalStorage ? <span class="hljs-variable language_">localStorage</span> : sessionStorage
        storage.<span class="hljs-title function_">removeItem</span>(key)
    }
}
</code></pre>
<h3 data-id="heading-15">6.2 ç™»å½•çŠ¶æ€ç®¡ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/cache.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-comment">// åˆ¤æ–­ç™»å½•çŠ¶æ€ï¼šåŒæ—¶æ£€æŸ¥ localStorage å’Œ Cookie</span>
    <span class="hljs-title function_">getIsLogin</span>(): <span class="hljs-built_in">boolean</span> {
        <span class="hljs-keyword">const</span> token = store.<span class="hljs-title function_">get</span>(<span class="hljs-string">'token'</span>)
        <span class="hljs-keyword">const</span> cookieToken = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCookie</span>(<span class="hljs-string">'token'</span>)
        <span class="hljs-keyword">return</span> !!token &amp;&amp; !!cookieToken
    },

    <span class="hljs-comment">// è®¾ç½®ç™»å½•ä¿¡æ¯</span>
    <span class="hljs-title function_">setLoginInfo</span>(<span class="hljs-params">data: { token: <span class="hljs-built_in">string</span> }</span>) {
        store.<span class="hljs-title function_">set</span>(<span class="hljs-string">'token'</span>, data.<span class="hljs-property">token</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setCookie</span>(<span class="hljs-string">'token'</span>, data.<span class="hljs-property">token</span>, {
            <span class="hljs-attr">domain</span>: <span class="hljs-string">'.yourdomain.com'</span>,
            <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
            <span class="hljs-attr">expires</span>: <span class="hljs-title class_">Infinity</span>
        })
    },

    <span class="hljs-comment">// æ¸…é™¤ç™»å½•ä¿¡æ¯</span>
    <span class="hljs-title function_">clearLoginInfo</span>(<span class="hljs-params"/>) {
        store.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'token'</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">removeCookie</span>(<span class="hljs-string">'token'</span>)
        store.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'user_info'</span>)
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-16">ä¸ƒã€å¤šç«¯ç¯å¢ƒåˆ¤æ–­</h2>
<h3 data-id="heading-17">7.1 å¾®ä¿¡æµè§ˆå™¨åˆ¤æ–­</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isWeiXin</span>(<span class="hljs-params"/>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">const</span> ua = navigator.<span class="hljs-property">userAgent</span>.<span class="hljs-title function_">toLowerCase</span>()
    <span class="hljs-keyword">return</span> <span class="hljs-regexp">/micromessenger/i</span>.<span class="hljs-title function_">test</span>(ua)
}
</code></pre>
<h3 data-id="heading-18">7.2 æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨è¯†åˆ«</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getOSAndBrowserName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> ua = navigator.<span class="hljs-property">userAgent</span>

    <span class="hljs-comment">// æ“ä½œç³»ç»Ÿè¯†åˆ«</span>
    <span class="hljs-keyword">const</span> osMap = [
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/Android/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Android'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/iPhone|iPad|iPod/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'iOS'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/Windows/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Windows'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/Macintosh/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Mac'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/Linux/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Linux'</span> }
    ]
    <span class="hljs-keyword">const</span> os = osMap.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">regex</span>.<span class="hljs-title function_">test</span>(ua))?.<span class="hljs-property">name</span> || <span class="hljs-string">'Unknown'</span>

    <span class="hljs-comment">// æµè§ˆå™¨è¯†åˆ«ï¼ˆæ³¨æ„é¡ºåºï¼Œå¾®ä¿¡ä¼˜å…ˆï¼‰</span>
    <span class="hljs-keyword">const</span> browserMap = [
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/MicroMessenger/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'WeChat'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/QQBrowser/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'QQBrowser'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/Edg/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Edge'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/Chrome/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Chrome'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/Safari/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Safari'</span> },
        { <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/Firefox/i</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Firefox'</span> }
    ]
    <span class="hljs-keyword">const</span> browser = browserMap.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">regex</span>.<span class="hljs-title function_">test</span>(ua))?.<span class="hljs-property">name</span> || <span class="hljs-string">'Unknown'</span>

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">name</span>: <span class="hljs-string">`<span class="hljs-subst">${os}</span>-<span class="hljs-subst">${browser}</span>`</span>,
        <span class="hljs-attr">info</span>: ua
    }
}
</code></pre>
<h3 data-id="heading-19">7.3 Flutter WebView åˆ¤æ–­</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isFlutterWebView</span>(<span class="hljs-params"/>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">return</span> !!sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'flutter_flag'</span>)
}

<span class="hljs-comment">// åœ¨ Flutter ä¸­æ‰“å¼€ WebView æ—¶è®¾ç½®æ ‡è¯†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">setFlutterFlag</span>(<span class="hljs-params"/>) {
    sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'flutter_flag'</span>, <span class="hljs-string">'true'</span>)
}
</code></pre>
<hr/>
<h2 data-id="heading-20">å…«ã€TypeScript ç±»å‹å®šä¹‰</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// types/response.d.ts</span>

<span class="hljs-comment">// é€šç”¨å“åº”ç»“æ„</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ResponseResult</span>&lt;T&gt; {
    <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>
    <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
    <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>
    <span class="hljs-attr">data</span>: T
}

<span class="hljs-comment">// åˆ†é¡µå“åº”ç»“æ„</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ResponsePageResult</span>&lt;T&gt; {
    <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>
    <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
    <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>
    <span class="hljs-attr">data</span>: T[]
    <span class="hljs-attr">meta</span>: {
        <span class="hljs-attr">current_page</span>: <span class="hljs-built_in">number</span>
        <span class="hljs-attr">last_page</span>: <span class="hljs-built_in">number</span>
        <span class="hljs-attr">per_page</span>: <span class="hljs-built_in">number</span>
        <span class="hljs-attr">total</span>: <span class="hljs-built_in">number</span>
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-21">ä¹ã€å®é™…ä½¿ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-22">9.1 åŸºç¡€è¯·æ±‚</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/plugins/axios'</span>

<span class="hljs-comment">// GET è¯·æ±‚</span>
<span class="hljs-keyword">const</span> userInfo = <span class="hljs-keyword">await</span> http.<span class="hljs-property">request</span>&lt;<span class="hljs-title class_">UserInfo</span>&gt;({
    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/user/info'</span>
})

<span class="hljs-comment">// POST è¯·æ±‚</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> http.<span class="hljs-property">request</span>&lt;<span class="hljs-title class_">LoginResult</span>&gt;({
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/auth/login'</span>,
    <span class="hljs-attr">data</span>: { username, password }
})
</code></pre>
<h3 data-id="heading-23">9.2 åˆ†é¡µè¯·æ±‚</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> courseList = <span class="hljs-keyword">await</span> http.<span class="hljs-property">requestMeta</span>&lt;<span class="hljs-title class_">Course</span>&gt;({
    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/courses'</span>,
    <span class="hljs-attr">params</span>: { <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">per_page</span>: <span class="hljs-number">10</span> }
})

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(courseList.<span class="hljs-property">data</span>)       <span class="hljs-comment">// Course[]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(courseList.<span class="hljs-property">meta</span>.<span class="hljs-property">total</span>) <span class="hljs-comment">// æ€»æ•°</span>
</code></pre>
<h3 data-id="heading-24">9.3 å¸¦åŠ å¯†å‚æ•°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> config = <span class="hljs-keyword">await</span> http.<span class="hljs-title function_">request</span>({
    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/config'</span>,
    <span class="hljs-attr">params</span>: {
        <span class="hljs-attr">f</span>: { <span class="hljs-attr">code</span>: <span class="hljs-string">'site_settings'</span> }  <span class="hljs-comment">// è‡ªåŠ¨ Base64 åŠ å¯†</span>
    }
})
</code></pre>
<h3 data-id="heading-25">9.4 è‡ªå®šä¹‰æç¤ºæ¶ˆæ¯</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">await</span> http.<span class="hljs-title function_">request</span>({
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/favorite'</span>,
    <span class="hljs-attr">data</span>: { <span class="hljs-attr">course_id</span>: <span class="hljs-number">123</span> },
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-attr">sucMsg</span>: <span class="hljs-string">'æ”¶è—æˆåŠŸï¼Œå¯åœ¨"æˆ‘çš„æ”¶è—"ä¸­æŸ¥çœ‹'</span>,
        <span class="hljs-attr">errMsg</span>: <span class="hljs-string">'æ”¶è—å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'</span>
    }
})
</code></pre>
<hr/>
<h2 data-id="heading-26">åã€æœ€ä½³å®è·µæ€»ç»“</h2>
<ol>
<li>
<p><strong>å•ä¾‹æ¨¡å¼</strong>ï¼šå…¨å±€åªåˆ›å»ºä¸€ä¸ª HTTP å®ä¾‹ï¼Œé¿å…é‡å¤é…ç½®</p>
</li>
<li>
<p><strong>æ‹¦æˆªå™¨åˆ†ç¦»</strong>ï¼šè¯·æ±‚æ‹¦æˆªå’Œå“åº”æ‹¦æˆªé€»è¾‘æ¸…æ™°åˆ†ç¦»ï¼Œä¾¿äºç»´æŠ¤</p>
</li>
<li>
<p><strong>Token åŒé‡å­˜å‚¨</strong>ï¼šåŒæ—¶å­˜å‚¨åœ¨ localStorage å’Œ Cookie ä¸­ï¼Œå…¼å®¹ä¸åŒåœºæ™¯</p>
</li>
<li>
<p><strong>ç¯å¢ƒé€‚é…</strong>ï¼šé€šè¿‡ UA åˆ¤æ–­è‡ªåŠ¨é€‚é…å¾®ä¿¡ã€App WebView ç­‰ç¯å¢ƒ</p>
</li>
<li>
<p><strong>æ¶ˆæ¯å®šåˆ¶åŒ–</strong>ï¼šé€šè¿‡ headers ä¼ é€’è‡ªå®šä¹‰æ¶ˆæ¯ï¼ŒåŒä¸€æ¥å£å¯æ˜¾ç¤ºä¸åŒæç¤º</p>
</li>
<li>
<p><strong>ç±»å‹å®‰å…¨</strong>ï¼šå……åˆ†åˆ©ç”¨ TypeScript æ³›å‹ï¼Œä¿è¯ç±»å‹æ¨å¯¼æ­£ç¡®</p>
</li>
<li>
<p><strong>ä¼˜é›…é™çº§</strong>ï¼š401 é”™è¯¯æ—¶åŒºåˆ† Web å’Œ App ç¯å¢ƒï¼Œåˆ†åˆ«å¤„ç†</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-27">ç»“è¯­</h2>
<p>ä¸€ä¸ªå¥½çš„è¯·æ±‚å°è£…å±‚åº”è¯¥æ˜¯"æ— æ„Ÿ"çš„â€”â€”ä¸šåŠ¡å¼€å‘è€…åªéœ€è¦å…³æ³¨æ¥å£è°ƒç”¨ï¼Œè€Œä¸ç”¨æ“å¿ƒ Token æ³¨å…¥ã€é”™è¯¯å¤„ç†ã€ç¯å¢ƒé€‚é…ç­‰åº•å±‚ç»†èŠ‚ã€‚</p>
<p>æœ¬æ–‡åˆ†äº«çš„æ–¹æ¡ˆå·²åœ¨å¤šä¸ªç”Ÿäº§é¡¹ç›®ä¸­ç¨³å®šè¿è¡Œï¼Œå¸Œæœ›èƒ½ç»™ä½ çš„é¡¹ç›®å¸¦æ¥ä¸€äº›å¯å‘ã€‚</p>
<p>å¦‚æœä½ æœ‰æ›´å¥½çš„å®è·µæ–¹æ¡ˆï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</p>
<hr/>
<p><strong>ç›¸å…³æŠ€æœ¯æ ˆï¼š</strong> Vue 3 + TypeScript + Axios + Vant + Pinia</p>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> H5 ç§»åŠ¨ç«¯ã€å¾®ä¿¡å…¬ä¼—å·ã€App å†…åµŒ WebView</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨react nativeä¸­å®ç°çŸ­è§†é¢‘å¹³å°æ»‘åŠ¨è§†é¢‘æ’­æ”¾ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7586505172815265843</link>    <guid>https://juejin.cn/post/7586505172815265843</guid>    <pubDate>2025-12-22T13:56:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815265843" data-draft-id="7586482860104007707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨react nativeä¸­å®ç°çŸ­è§†é¢‘å¹³å°æ»‘åŠ¨è§†é¢‘æ’­æ”¾ç»„ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯,React Native"/> <meta itemprop="datePublished" content="2025-12-22T13:56:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sure282"/> <meta itemprop="url" content="https://juejin.cn/user/1410005296489149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨react nativeä¸­å®ç°çŸ­è§†é¢‘å¹³å°æ»‘åŠ¨è§†é¢‘æ’­æ”¾ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1410005296489149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sure282
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:56:59.000Z" title="Mon Dec 22 2025 13:56:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>çŸ­è§†é¢‘è½¯ä»¶ç°åœ¨äººäººéƒ½ç¦»ä¸å¼€ï¼Œæœ€å¤§çš„ç‰¹ç‚¹ä¹‹ä¸€å°±æ˜¯å¯ä»¥æ— é™è¿åˆ·ï¼Œé€šå¸¸æ˜¯ä¸Šä¸‹æ»‘åŠ¨åˆ‡æ¢è§†é¢‘ï¼Œåˆ’å…¥è‡ªåŠ¨æ’­æ”¾ï¼Œæ•´ä½“çš„åŠŸèƒ½çœ‹èµ·æ¥ç®€å•æ¸…æ™°æ˜äº†ï¼Œä½†æ˜¯ä¸åŒæŠ€æœ¯æ ˆå®ç°æ”¾è‚†è‚¯å®šä¸åŒï¼Œä»Šå¤©åœ¨expoåˆ›å»ºçš„react nativeç¯å¢ƒä¸­å®ç°</p>
<p>å¼€å‘ç¯å¢ƒå…³é”®ä¾èµ–ç‰ˆæœ¬ï¼š</p>
<ul>
<li>expo:54+</li>
<li>react-native:0.81+</li>
<li>react:19.1+</li>
<li>expo-video</li>
<li>react-native-reanimatedï¼š4.1+</li>
<li>@shopify/flash-list:2+</li>
</ul>
<p>ç‰ˆæœ¬ä¾èµ–æœ‰å¿…è¦ç®€å•äº¤ä»£ä¸€ä¸‹ï¼Œç‰ˆæœ¬ä¸åŒä¾èµ–ä¸åŒ¹é…ä¼šæœ‰å¤§é—®é¢˜ï¼Œæœ¬åŠŸèƒ½ç‰‡æ®µæ¥è‡ªæœ¬åœ°è§†é¢‘æŸ¥çœ‹åŠŸèƒ½ï¼Œåˆ—è¡¨åŠ æ’­æ”¾ï¼Œå¯ä»¥æ§åˆ¶æ’­æ”¾è¿›åº¦ï¼Œå¹¶å°†é€‰ä¸­çš„è§†é¢‘ä¸­çš„éŸ³é¢‘æå–ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f275076dd9ad472e8430d22cc3f434b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3VyZTI4Mg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767016618&amp;x-signature=cQCRNW1S%2FWyU6sMhfJcSLUuKfjM%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251222205158_66_23.jpg" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79254410e2ce445eaf44e3094d58d1e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3VyZTI4Mg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767016618&amp;x-signature=RyonYVdr0w9Gl5D%2FE%2B3b1j43TfY%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251222205159_67_23.jpg" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a937694848e84025bc8b9596ad33710e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3VyZTI4Mg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767016618&amp;x-signature=7EUC%2BmoaSUWJzCVUfwu1LGkmoMo%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251222205200_68_23.jpg" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/842cd99d3ca94b2fb89326ab814c424d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3VyZTI4Mg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767016618&amp;x-signature=yUG0BzveM1c0XELG6C0rwiude2k%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251222205201_69_23.jpg" loading="lazy"/></p>
<p>æ ¸å¿ƒæ€è·¯:</p>
<ol>
<li>æ¯æ¡è§†é¢‘å æ®å¯è§†åŒºåŸŸçš„ç»å¤§éƒ¨åˆ†(æ»¡å±);</li>
<li>ä¸Šä¸‹æ»‘åŠ¨åˆ‡æ¢(åˆ—è¡¨);</li>
<li>æ»‘åŠ¨åˆ‡æ¢è§†é¢‘è‡ªåŠ¨æ’­æ”¾ï¼Œéšè—çš„è§†é¢‘ä¸å†æ’­æ”¾(å¤„äºå¯è§†åŒºåŸŸæ’­æ”¾ï¼Œä¸å¯è§†åŒºåŸŸç»ˆæ­¢æ’­æ”¾ï¼Œé‡Šæ”¾å†…å­˜)</li>
<li>æ’­æ”¾æš‚åœè¿›åº¦æ¡æ§åˆ¶ï¼Œæ’­æ”¾æ—¶é—´ç­‰ç®€æ˜“åŠŸèƒ½</li>
</ol>
<p>ç”¨æˆ·åœ¨æŸ¥çœ‹æœ¬åœ°è§†é¢‘æ—¶åˆ†ä¸¤æ­¥èµ°ï¼šå…ˆä»¥è¾ƒå°çš„ç¼©ç•¥å›¾æŸ¥çœ‹ç¬¼ç»Ÿçš„è§†é¢‘åˆ—è¡¨ï¼Œç„¶åå¯ä»¥ç‚¹å‡»ä»»æ„ä¸€ä¸ªè§†é¢‘å¼¹å‡ºé¡µé¢ä¸­
ä¸Šä¸‹æ»‘åŠ¨åˆ‡æ¢æ’­æ”¾è§†é¢‘ï¼Œå› æ­¤è¿™æ˜¯ä¸¤ä¸ªåˆ—è¡¨ï¼Œåœ¨rnä¸­æœ‰ã€FlatListåˆ—è¡¨ç»„ä»¶ï¼Œå¦‚ä¸‹æ˜¯å›¾1å›¾2çš„åˆ—è¡¨ç»„ä»¶:</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useEffect, useState, useRef, <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">FC</span>, useCallback, useMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { formatTime } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils'</span>;
<span class="hljs-keyword">import</span> { getAssetsAsync, <span class="hljs-title class_">MediaType</span>, requestPermissionsAsync, <span class="hljs-keyword">type</span> <span class="hljs-title class_">AssetsOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'expo-media-library'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StyleSheet</span>, <span class="hljs-title class_">Text</span>, useWindowDimensions, <span class="hljs-title class_">View</span>, <span class="hljs-title class_">RefreshControl</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CustomButton</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/ui/CustomButton'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Empty</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/ui/Empty'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">VideoModalProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/VideoModal'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">GlobalLoading</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/GloablLoading'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">VideoListItem</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/VideoListItem'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FlashList</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@shopify/flash-list"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">VideoAsset</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/types'</span>;
<span class="hljs-keyword">import</span> { useThemeNotification, useTheme } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/hooks/useTheme'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ListFooter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/ui/ListFooter'</span>;
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">VideoListProps</span> {
    onPress?: <span class="hljs-function">(<span class="hljs-params">video: VideoAsset</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
}
<span class="hljs-comment">/**
 * è§†é¢‘åˆ—è¡¨é¡µé¢ç»„ä»¶
 * è¯¥ç»„ä»¶ç”¨äºå±•ç¤ºè®¾å¤‡ä¸­çš„è§†é¢‘æ–‡ä»¶åˆ—è¡¨ï¼Œå¹¶æ”¯æŒåˆ†é¡µåŠ è½½ã€æƒé™ç”³è¯·ç­‰åŠŸèƒ½ã€‚
 * ç”¨æˆ·å¯ä»¥é€‰æ‹©æŸä¸ªè§†é¢‘è¿›è¡Œåç»­æ“ä½œã€‚
 *
 * <span class="hljs-doctag">@param</span> onVideoSelect å½“ç”¨æˆ·ç‚¹å‡»æŸä¸€ä¸ªè§†é¢‘é¡¹æ—¶è§¦å‘çš„å›è°ƒå‡½æ•°ï¼Œæ¥æ”¶é€‰ä¸­çš„ Asset å¯¹è±¡ä½œä¸ºå‚æ•°
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">VideoList</span>: <span class="hljs-variable constant_">FC</span>&lt;<span class="hljs-title class_">VideoListProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ onPress }</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> [video, setVideo] = useState&lt;<span class="hljs-title class_">VideoAsset</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> [videos, setVideos] = useState&lt;<span class="hljs-title class_">VideoAsset</span>[]&gt;([]);
    <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-keyword">const</span> [hasPermission, setHasPermission] = useState&lt;<span class="hljs-built_in">boolean</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> [after, setAfter] = useState&lt;<span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>&gt;(<span class="hljs-literal">undefined</span>);
    <span class="hljs-keyword">const</span> [hasMore, setHasMore] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-comment">// é˜²æ­¢ FlatList åœ¨é¦–æ¬¡æŒ‚è½½æ—¶è§¦å‘ onEndReached å¯¼è‡´æ„å¤–åŠ è½½,åˆæ¬¡åŠ è½½åˆ¤å®šrefçš„å€¼è®¾ç½®ä¸ºfalse</span>
    <span class="hljs-keyword">const</span> initialEndReachedRef = useRef&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-literal">true</span>);
    <span class="hljs-comment">// è®¡ç®—å“åº”å¼åˆ—æ•° - å¼ºåˆ¶3åˆ—å¸ƒå±€</span>
    <span class="hljs-keyword">const</span> targetColumns = <span class="hljs-number">3</span>; <span class="hljs-comment">// ç›®æ ‡åˆ—æ•°</span>
    <span class="hljs-keyword">const</span> padding = <span class="hljs-number">32</span>; <span class="hljs-comment">// å·¦å³è¾¹è·æ€»å’Œ</span>
    <span class="hljs-keyword">const</span> [modalVisible, setModalVisible] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-keyword">const</span> [modalLoading, setModalLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-keyword">const</span> [<span class="hljs-title class_">VideoModal</span>, setVideoModal] = useState&lt;<span class="hljs-variable constant_">FC</span>&lt;<span class="hljs-title class_">VideoModalProps</span>&gt; | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> { width } = <span class="hljs-title function_">useWindowDimensions</span>();
    <span class="hljs-keyword">const</span> theme = <span class="hljs-title function_">useTheme</span>();
    <span class="hljs-comment">// å¼ºåˆ¶ä½¿ç”¨3åˆ—å¸ƒå±€ï¼ˆé™¤éå±å¹•å¤ªçª„ï¼‰</span>
    <span class="hljs-keyword">const</span> numColumns = width &gt; <span class="hljs-number">320</span> ? targetColumns : <span class="hljs-number">2</span>;
    <span class="hljs-comment">// ç¡®å®šæ¯æ¬¡åŠ è½½çš„è§†é¢‘æ•°é‡ï¼Œç¡®ä¿èƒ½å¡«å……3åˆ—</span>
    <span class="hljs-keyword">const</span> first = numColumns === <span class="hljs-number">3</span> ? <span class="hljs-number">21</span> : <span class="hljs-number">20</span>;
    <span class="hljs-comment">// ä½¿ç”¨marginæ§åˆ¶é—´è·ï¼Œæ‰€ä»¥è¿™é‡Œä¸è€ƒè™‘spacing</span>
    <span class="hljs-keyword">const</span> itemWidth = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> (width - padding - numColumns * <span class="hljs-number">10</span>) / numColumns, [width, numColumns]); <span class="hljs-comment">// 10æ˜¯å·¦å³çš„marginæ€»å’Œ</span>
    <span class="hljs-keyword">const</span> showNotification = <span class="hljs-title function_">useThemeNotification</span>();
    <span class="hljs-comment">/**
     * è¯·æ±‚æƒé™å¹¶è·å–è§†é¢‘åˆ—è¡¨
     *
     * æ­¤æ–¹æ³•ä¼šå…ˆè¯·æ±‚åª’ä½“åº“è¯»å–æƒé™ï¼Œå¦‚æœæˆæƒæˆåŠŸåˆ™è°ƒç”¨ fetchVideos æ–¹æ³•åŠ è½½è§†é¢‘æ•°æ®ã€‚
     * å¦‚æœæœªè·å¾—æƒé™ï¼Œåˆ™å¼¹å‡ºæç¤ºæ¡†å‘ŠçŸ¥ç”¨æˆ·ã€‚
     *
     * <span class="hljs-doctag">@param</span> reset æ˜¯å¦é‡ç½®å½“å‰å·²æœ‰çš„è§†é¢‘åˆ—è¡¨ï¼Œé»˜è®¤ä¸º false
     * <span class="hljs-doctag">@returns</span> Promise&lt;void&gt;
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">requestPermissionAndGetVideos</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">reset = <span class="hljs-literal">true</span></span>) =&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
            <span class="hljs-comment">// è¯·æ±‚åª’ä½“åº“æƒé™</span>
            <span class="hljs-keyword">const</span> { status } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">requestPermissionsAsync</span>();
            <span class="hljs-keyword">if</span> (status !== <span class="hljs-string">'granted'</span>) {
                <span class="hljs-title function_">showNotification</span>({ <span class="hljs-attr">tip</span>: <span class="hljs-string">'éœ€è¦è®¿é—®åª’ä½“åº“æƒé™æ‰èƒ½è·å–è§†é¢‘æ–‡ä»¶ï¼Œè¯·åœ¨è®¾ç½®ä¸­å¼€å¯æƒé™ã€‚'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span> });
                <span class="hljs-title function_">setHasPermission</span>(<span class="hljs-literal">false</span>);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-title function_">setHasPermission</span>(<span class="hljs-literal">true</span>);
            <span class="hljs-comment">// è·å–è§†é¢‘æ–‡ä»¶ï¼Œé‡æ–°è¯·æ±‚æƒé™æ—¶é»˜è®¤é‡ç½®åˆ—è¡¨</span>
            <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchVideos</span>(reset);
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-title function_">showNotification</span>({ <span class="hljs-attr">tip</span>: <span class="hljs-string">'è·å–è§†é¢‘æ–‡ä»¶å¤±è´¥ï¼Œè¯·é‡è¯•'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span> });
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
        }
    };
    <span class="hljs-comment">/**
     * ä½¿ç”¨expo-media-library è·å–è§†é¢‘æ–‡ä»¶åˆ—è¡¨
     * å’Œexpo-document-picker è·å–è§†é¢‘æ–‡ä»¶åˆ—è¡¨ç»“æœä¸å¤ªä¸€æ ·ï¼Œexpo-media-library ä¼šè¿”å›æ›´å¤šçš„è§†é¢‘æ–‡ä»¶
     * è°ƒç”¨ç³»ç»Ÿ API è·å–æŒ‡å®šèŒƒå›´å†…çš„è§†é¢‘èµ„æºï¼Œå¹¶æ›´æ–°çŠ¶æ€ä»¥æ¸²æŸ“åˆ°ç•Œé¢ã€‚
     * æ”¯æŒåˆ†é¡µåŠ è½½ä¸åˆ·æ–°åŠŸèƒ½ã€‚
     *
     * <span class="hljs-doctag">@param</span> reset æ˜¯å¦æ¸…ç©ºå·²æœ‰æ•°æ®åé‡æ–°åŠ è½½ï¼Œé»˜è®¤ä¸º false
     * <span class="hljs-doctag">@returns</span> Promise&lt;void&gt;
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchVideos</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">reset = <span class="hljs-literal">false</span></span>) =&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">AssetsOptions</span> = {
                <span class="hljs-attr">mediaType</span>: <span class="hljs-title class_">MediaType</span>.<span class="hljs-property">video</span>, <span class="hljs-comment">// åªè·å–è§†é¢‘æ–‡ä»¶</span>
                first, <span class="hljs-comment">// æ¯æ¬¡åŠ è½½æ ¹æ®åˆ—æ•°åŠ¨æ€è°ƒæ•´</span>
                <span class="hljs-attr">after</span>: reset ? <span class="hljs-literal">undefined</span> : after, <span class="hljs-comment">// åˆ†é¡µåŠ è½½</span>
                <span class="hljs-attr">sortBy</span>: [[<span class="hljs-string">'modificationTime'</span>, <span class="hljs-literal">false</span>]], <span class="hljs-comment">// æŒ‰ä¿®æ”¹æ—¶é—´é™åºæ’åº</span>
            };
            <span class="hljs-keyword">const</span> { assets = [], endCursor, hasNextPage } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getAssetsAsync</span>(options);
            <span class="hljs-keyword">const</span> videoList = assets.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">asset</span> =&gt;</span> ({
                ...asset,
                <span class="hljs-attr">durationString</span>: <span class="hljs-title function_">formatTime</span>(asset.<span class="hljs-property">duration</span>),
            }));
            <span class="hljs-keyword">if</span> (reset) {
                <span class="hljs-title function_">setVideos</span>(videoList);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-title function_">setVideos</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> [...prev, ...videoList]);
            }
            <span class="hljs-title function_">setAfter</span>(endCursor);
            <span class="hljs-title function_">setHasMore</span>(hasNextPage);
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–è§†é¢‘åˆ—è¡¨å¤±è´¥:'</span>, error);
            <span class="hljs-keyword">throw</span> error;
        }
    };
    <span class="hljs-keyword">const</span> handlePressItem = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">item: VideoAsset</span>) =&gt;</span> {
        <span class="hljs-title function_">setVideo</span>(item);
        <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">VideoModal</span>) {
            <span class="hljs-title function_">setModalLoading</span>(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/VideoModal'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">module</span> =&gt;</span> {
                <span class="hljs-title function_">setVideoModal</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">module</span>.<span class="hljs-property">default</span>);
                <span class="hljs-title function_">setModalVisible</span>(<span class="hljs-literal">true</span>);
            }).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setModalLoading</span>(<span class="hljs-literal">false</span>));
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">setModalVisible</span>(<span class="hljs-literal">true</span>);
        }
    }, [<span class="hljs-title class_">VideoModal</span>]);
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleConvertPress</span> = (<span class="hljs-params">video: VideoAsset</span>) =&gt; {
        <span class="hljs-title function_">setVideo</span>(video);
        onPress?.(video);
        <span class="hljs-title function_">setModalVisible</span>(<span class="hljs-literal">false</span>);
    };
    <span class="hljs-comment">/**
     * æ¸²æŸ“å•ä¸ªè§†é¢‘é¡¹ç»„ä»¶
     * å±•ç¤ºç¼©ç•¥å›¾ã€åç§°åŠæŒç»­æ—¶é—´ç­‰ä¿¡æ¯ã€‚ç‚¹å‡»å¯è§¦å‘é€‰æ‹©äº‹ä»¶ã€‚
     * <span class="hljs-doctag">@param</span> param åŒ…å« item å­—æ®µçš„å¯¹è±¡ï¼Œä»£è¡¨å½“å‰è¦æ¸²æŸ“çš„ Asset æ•°æ®
     * <span class="hljs-doctag">@returns</span> JSX å…ƒç´ 
     */</span>
    <span class="hljs-keyword">const</span> renderVideoItem = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">{ item }: { item: VideoAsset }</span>) =&gt;</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">VideoListItem</span>
            <span class="hljs-attr">item</span>=<span class="hljs-string">{item}</span>
            <span class="hljs-attr">itemWidth</span>=<span class="hljs-string">{itemWidth}</span>
            <span class="hljs-attr">isSelected</span>=<span class="hljs-string">{item.id</span> === <span class="hljs-string">video?.id}</span>
            <span class="hljs-attr">onPress</span>=<span class="hljs-string">{handlePressItem}</span>
        /&gt;</span></span>
    ), [itemWidth, video?.<span class="hljs-property">id</span>, handlePressItem]);

    <span class="hljs-comment">// åˆå§‹åŒ–æ—¶è¯·æ±‚æƒé™ï¼ˆè°ƒç”¨è¢«æ³¨é‡Šæˆ–ç”±ä¸Šå±‚æ§åˆ¶æ—¶ï¼ŒFlatList çš„ onEndReached å¯èƒ½åœ¨æŒ‚è½½æ—¶è§¦å‘ï¼Œå¯¼è‡´ fetchVideos è¢«è°ƒç”¨ï¼‰</span>
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">requestPermissionAndGetVideos</span>();
    }, []);

    <span class="hljs-comment">/**
     * é¡µé¢åˆæ¬¡åŠ è½½å¯èƒ½ä¼šå¯¼è‡´ FlatList è§¦å‘ onEndReached äº‹ä»¶ï¼Œå¯¼è‡´æ„å¤–åŠ è½½
     * å› æ­¤åˆæ¬¡æ‰§è¡ŒFlatList çš„ onEndReached æ—¶ï¼Œåªæ ‡è®°å·²è§¦å‘ï¼Œä¿®æ”¹refçš„å€¼ä¸ºfalseï¼Œ
     * ä¸æ‰§è¡ŒåŠ è½½ï¼Œå¾…åç»­å€¼ä¸ºfalseå†æ‰§è¡Œè¯·æ±‚
     * å¤„ç†åˆ—è¡¨æ»šåŠ¨åˆ°åº•éƒ¨çš„äº‹ä»¶å›è°ƒå‡½æ•°
     * è¯¥å‡½æ•°ç”¨äºå®ç°æ— é™æ»šåŠ¨åŠ è½½åŠŸèƒ½ï¼Œåœ¨ç”¨æˆ·æ»šåŠ¨åˆ°åˆ—è¡¨åº•éƒ¨æ—¶è‡ªåŠ¨åŠ è½½æ›´å¤šæ•°æ®
     *
     * æš‚ä¸è§¦åº•åŠ è½½æ›´å¤šè§†é¢‘ï¼Œç‚¹å‡»åº•éƒ¨åŠ è½½æ›´å¤šæŒ‰é’®è§¦å‘åŠ è½½ï¼Œè§¦å‘ä¸ç¨³å®š
     * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;void&gt;</span>} è¿”å›ä¸€ä¸ªç©ºçš„ Promiseï¼Œè¡¨ç¤ºå¼‚æ­¥æ“ä½œå®Œæˆ
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleEndReached</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">if</span> (!hasMore || loading) <span class="hljs-keyword">return</span>;
        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è§¦å‘ onEndReached æ—¶åªæ ‡è®°å·²è§¦å‘ï¼Œä¸æ‰§è¡ŒåŠ è½½ï¼ˆå¸¸è§äº FlatList åœ¨ mount æ—¶è§¦å‘ï¼‰</span>
        <span class="hljs-keyword">if</span> (initialEndReachedRef.<span class="hljs-property">current</span>) {
            initialEndReachedRef.<span class="hljs-property">current</span> = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchVideos</span>();
    };
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
            {hasPermission === false ? (
                <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.permissionContainer}</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.permissionText}</span>&gt;</span>éœ€è¦åª’ä½“åº“æƒé™æ‰èƒ½è®¿é—®è§†é¢‘æ–‡ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">CustomButton</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"é‡æ–°è¯·æ±‚æƒé™"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span> requestPermissionAndGetVideos()} /&gt;
                <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
            ) : (
                <span class="hljs-tag">&lt;&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.countText}</span>&gt;</span>
                        {videos.length &gt; 0 ? `å…±æ‰¾åˆ° ${videos.length} ä¸ªè§†é¢‘æ–‡ä»¶` : ''}
                    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">FlashList</span>
                        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">width</span> }}
                        <span class="hljs-attr">data</span>=<span class="hljs-string">{videos}</span>
                        <span class="hljs-attr">refreshControl</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">RefreshControl</span>
                            <span class="hljs-attr">tintColor</span>=<span class="hljs-string">"#007aff"</span>
                            <span class="hljs-attr">refreshing</span>=<span class="hljs-string">{loading}</span>
                            <span class="hljs-attr">onRefresh</span>=<span class="hljs-string">{()</span> =&gt;</span> fetchVideos(true)}
                            colors={['red']}
                            progressBackgroundColor="transparent"
                        /&gt;}
                        showsVerticalScrollIndicator={false}
                        renderItem={renderVideoItem}
                        keyExtractor={({ id }, index) =&gt; `${id}-${index}`}
                        numColumns={numColumns}
                        ListEmptyComponent={!loading ? <span class="hljs-tag">&lt;<span class="hljs-name">Empty</span>
                            <span class="hljs-attr">tip</span>=<span class="hljs-string">"æ²¡æœ‰æ‰¾åˆ°è§†é¢‘æ–‡ä»¶"</span>
                            <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.emptyContainer}</span>
                            <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span> requestPermissionAndGetVideos()}
                        /&gt; : null}
                        onEndReached={handleEndReached}
                        onEndReachedThreshold={0.1}
                        ListFooterComponent={!loading ? <span class="hljs-tag">&lt;<span class="hljs-name">ListFooter</span>
                            <span class="hljs-attr">hasMore</span>=<span class="hljs-string">{hasMore}</span>
                            <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span> fetchVideos()}
                        /&gt; : null}
                        contentContainerStyle={styles.gridListContainer}
                    /&gt;
                <span class="hljs-tag">&lt;/&gt;</span></span>
            )}
            {modalLoading &amp;&amp; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GlobalLoading</span> /&gt;</span></span>}
            {
                <span class="hljs-title class_">VideoModal</span> &amp;&amp; (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">VideoModal</span>
                    <span class="hljs-attr">visible</span>=<span class="hljs-string">{modalVisible}</span>
                    <span class="hljs-attr">onClose</span>=<span class="hljs-string">{()</span> =&gt;</span> setModalVisible(false)}
                    videoList={videos}
                    currentVideo={video}
                    onPress={handleConvertPress}
                /&gt;</span>)
            }
        &lt;/<span class="hljs-title class_">View</span>&gt;
    );
};

<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">container</span>: {
        <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    },
    <span class="hljs-attr">gridListContainer</span>: {
        <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">16</span>,
    },
    <span class="hljs-attr">emptyContainer</span>: {
        <span class="hljs-attr">marginTop</span>: <span class="hljs-number">50</span>,
    },
    <span class="hljs-attr">permissionContainer</span>: {
        <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">32</span>,
    },
    <span class="hljs-attr">permissionText</span>: {
        <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#333333'</span>,
        <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">marginBottom</span>: <span class="hljs-number">20</span>,
    },
    <span class="hljs-attr">countText</span>: {
        <span class="hljs-attr">fontSize</span>: <span class="hljs-number">14</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#666666'</span>,
        <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">paddingVertical</span>: <span class="hljs-number">5</span>,
    },
});

</code></pre>
<p>ä»¥ä¸Šæ˜¯ä¸‰åˆ—åˆ—è¡¨ï¼Œå…ƒç´ ä½¿ç”¨ImageBackgroundæ¸²æŸ“ï¼Œæ­¤æ—¶è¿˜ä¸å…·å¤‡æ’­æ”¾åŠŸèƒ½ï¼Œå½“ç‚¹å‡»ä»»æ„ä¸€é¡¹æ—¶å°†æ‰“å¼€VideoModalç»„ä»¶ï¼Œå®ƒæ˜¯ç”¨rnçš„Modalç¼–å†™çš„ç»„ä»¶ï¼Œåœ¨å…¶ä¸­æœ‰ä¸€ä¸ªå‚ç›´ä¸€åˆ—çš„åˆ—è¡¨ï¼Œæ¯ä¸€é¡¹éƒ½ä¼šæ¸²æŸ“expo-videoçš„VideoViewç»„ä»¶ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useRef, useState, useCallback, useEffect, <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">FC</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span>, <span class="hljs-title class_">Modal</span>, <span class="hljs-title class_">StyleSheet</span>, <span class="hljs-title class_">Dimensions</span>, <span class="hljs-title class_">TouchableOpacity</span>, <span class="hljs-title class_">Text</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Ionicons</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@expo/vector-icons'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">VideoItem</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./VideoItem'</span>;
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FlashList</span>, <span class="hljs-keyword">type</span> <span class="hljs-title class_">FlashListRef</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@shopify/flash-list"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">VideoAsset</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/types'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Image</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'expo-image'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">VideoModalProps</span> = {
    <span class="hljs-attr">videoList</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">VideoAsset</span>&gt;;
    <span class="hljs-attr">visible</span>: <span class="hljs-built_in">boolean</span>;
    <span class="hljs-attr">onClose</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
    <span class="hljs-attr">currentVideo</span>: <span class="hljs-title class_">VideoAsset</span> | <span class="hljs-literal">null</span>;
    onPress?: <span class="hljs-function">(<span class="hljs-params">video: VideoAsset</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
};
<span class="hljs-keyword">const</span> list = [
    {
        <span class="hljs-attr">id</span>: <span class="hljs-string">'0'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'heart'</span>,
        <span class="hljs-attr">count</span>: <span class="hljs-string">'1.1ä¸‡'</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
    },
    {
        <span class="hljs-attr">id</span>: <span class="hljs-string">'1'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'chatbubble-ellipses'</span>,
        <span class="hljs-attr">count</span>: <span class="hljs-string">'123'</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
    },
    {
        <span class="hljs-attr">id</span>: <span class="hljs-string">'2'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'star'</span>,
        <span class="hljs-attr">count</span>: <span class="hljs-string">'123'</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
    },
    {
        <span class="hljs-attr">id</span>: <span class="hljs-string">'3'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'arrow-redo'</span>,
        <span class="hljs-attr">count</span>: <span class="hljs-string">'123'</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
    },
    {
        <span class="hljs-attr">id</span>: <span class="hljs-string">'4'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'build'</span>,
        <span class="hljs-attr">count</span>: <span class="hljs-string">'è½¬éŸ³é¢‘'</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'orangered'</span>,
    },
]
<span class="hljs-keyword">const</span> <span class="hljs-title class_">VideoModal</span>: <span class="hljs-variable constant_">FC</span>&lt;<span class="hljs-title class_">VideoModalProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ visible, onClose, onPress, videoList = [], currentVideo = <span class="hljs-literal">null</span> }</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> [activeVideo, setActiveVideo] = useState&lt;<span class="hljs-title class_">VideoAsset</span> | <span class="hljs-literal">null</span>&gt;(currentVideo);
    <span class="hljs-keyword">const</span> flatListRef = useRef&lt;<span class="hljs-title class_">FlashListRef</span>&lt;<span class="hljs-title class_">VideoAsset</span>&gt;&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> { height } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'screen'</span>);
    <span class="hljs-keyword">const</span> { bottom, top } = <span class="hljs-title function_">useSafeAreaInsets</span>();
    <span class="hljs-keyword">const</span> viewabilityConfig = <span class="hljs-title function_">useRef</span>({
        <span class="hljs-attr">itemVisiblePercentThreshold</span>: <span class="hljs-number">80</span>,
        <span class="hljs-attr">minimumViewTime</span>: <span class="hljs-number">100</span>,
    }).<span class="hljs-property">current</span>;

    <span class="hljs-comment">// å¤„ç†å¯è§æ€§å˜åŒ–</span>
    <span class="hljs-keyword">const</span> onViewableItemsChanged = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">{ viewableItems }: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
        <span class="hljs-comment">// è·å–æ‰€æœ‰å¯è§çš„é¡¹ç›®</span>
        <span class="hljs-keyword">if</span> (viewableItems.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯è§é¡¹ç›®ï¼ˆFlatListç¡®ä¿åªæœ‰ä¸€ä¸ªé¡¹ç›®æ˜¯ä¸»è¦å¯è§çš„ï¼‰</span>
            <span class="hljs-title function_">setActiveVideo</span>(viewableItems[<span class="hljs-number">0</span>].<span class="hljs-property">item</span>);
        }
    }, []);
    <span class="hljs-comment">// è·å–åˆå§‹æ»šåŠ¨ç´¢å¼•</span>
    <span class="hljs-keyword">const</span> getInitialIndex = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (!currentVideo) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">const</span> index = videoList.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.<span class="hljs-property">id</span> === currentVideo.<span class="hljs-property">id</span>);
        <span class="hljs-keyword">return</span> index &gt;= <span class="hljs-number">0</span> ? index : <span class="hljs-number">0</span>;
    }, [currentVideo, videoList]);

    <span class="hljs-comment">// å½“modalæ‰“å¼€æˆ–è§†é¢‘åˆ—è¡¨å˜åŒ–æ—¶ï¼Œåˆå§‹åŒ–activeVideoId</span>
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (visible &amp;&amp; currentVideo) {
            <span class="hljs-title function_">setActiveVideo</span>(currentVideo);
        }
    }, [visible, currentVideo]);
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handlePress</span> = (<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) =&gt; {
        <span class="hljs-keyword">if</span> (id === <span class="hljs-string">'4'</span>) {
            <span class="hljs-keyword">if</span> (activeVideo) {
                onPress?.(activeVideo);
            }
        }
    };
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Modal</span>
            <span class="hljs-attr">visible</span>=<span class="hljs-string">{visible}</span>
            <span class="hljs-attr">transparent</span>
            <span class="hljs-attr">animationType</span>=<span class="hljs-string">"slide"</span>
            <span class="hljs-attr">onRequestClose</span>=<span class="hljs-string">{onClose}</span>
        &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span>
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.closeButton,</span> { <span class="hljs-attr">top:</span> <span class="hljs-attr">top</span> + <span class="hljs-attr">10</span> }]}
                    <span class="hljs-attr">onPress</span>=<span class="hljs-string">{onClose}</span>
                &gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Ionicons</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"close"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{30}</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"white"</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">FlashList</span>
                    <span class="hljs-attr">data</span>=<span class="hljs-string">{videoList}</span>
                    <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">{({</span> <span class="hljs-attr">id</span> }) =&gt;</span> id}
                    ref={flatListRef}
                    showsVerticalScrollIndicator={false}
                    pagingEnabled
                    decelerationRate="fast"
                    initialScrollIndex={getInitialIndex()}
                    renderItem={({ item }) =&gt; (
                        <span class="hljs-tag">&lt;<span class="hljs-name">VideoItem</span>
                            <span class="hljs-attr">top</span>=<span class="hljs-string">{top}</span>
                            <span class="hljs-attr">bottom</span>=<span class="hljs-string">{bottom}</span>
                            <span class="hljs-attr">modalVisible</span>=<span class="hljs-string">{visible}</span>
                            <span class="hljs-attr">video</span>=<span class="hljs-string">{item}</span>
                            <span class="hljs-attr">isActive</span>=<span class="hljs-string">{item.id</span> === <span class="hljs-string">activeVideo?.id}</span>
                            <span class="hljs-attr">height</span>=<span class="hljs-string">{height}</span>
                        /&gt;</span>
                    )}
                    onViewableItemsChanged={onViewableItemsChanged}
                    viewabilityConfig={viewabilityConfig}
                    removeClippedSubviews={false}
                /&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.sideList,</span> { <span class="hljs-attr">bottom:</span> <span class="hljs-attr">bottom</span> + <span class="hljs-attr">70</span> }]}&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span>
                        <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.sideItem,</span> { <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span> }]}
                    &gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">Image</span>
                            <span class="hljs-attr">source</span>=<span class="hljs-string">{require(</span>'@/<span class="hljs-attr">assets</span>/<span class="hljs-attr">images</span>/<span class="hljs-attr">singer</span>/<span class="hljs-attr">singer2.png</span>')}
                            <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.photo}</span>
                        /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.ItemText,</span> <span class="hljs-attr">styles.plus</span>]}&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span>
                    {
                        list.map(({ id, color, icon, count }) =&gt; (
                            <span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span>
                                <span class="hljs-attr">key</span>=<span class="hljs-string">{id}</span>
                                <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.sideItem}</span>
                                <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span> handlePress(id)}
                            &gt;
                                <span class="hljs-tag">&lt;<span class="hljs-name">Ionicons</span>
                                    <span class="hljs-attr">name</span>=<span class="hljs-string">{icon</span> <span class="hljs-attr">as</span> <span class="hljs-attr">any</span>}
                                    <span class="hljs-attr">size</span>=<span class="hljs-string">{32}</span>
                                    <span class="hljs-attr">color</span>=<span class="hljs-string">{color}</span>
                                /&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.ItemText,</span> { <span class="hljs-attr">color</span> }]}&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span>
                        ))
                    }
                <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span></span>
    );
};

<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">container</span>: {
        <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    },
    <span class="hljs-attr">photo</span>: {
        <span class="hljs-attr">width</span>: <span class="hljs-number">42</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-number">42</span>,
        <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">20</span>,
    },
    <span class="hljs-attr">plus</span>: {
        <span class="hljs-attr">width</span>: <span class="hljs-number">34</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-number">15</span>,
        <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">20</span>,
        <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
        <span class="hljs-attr">bottom</span>: -<span class="hljs-number">10</span>,
        <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#ccc'</span>,
        <span class="hljs-attr">fontWeight</span>: <span class="hljs-number">700</span>,
        <span class="hljs-attr">lineHeight</span>: <span class="hljs-number">15</span>,
        <span class="hljs-attr">left</span>: <span class="hljs-string">'50%'</span>,
        <span class="hljs-attr">transform</span>: [{ <span class="hljs-attr">translateX</span>: -<span class="hljs-number">17</span> }],
    },
    <span class="hljs-attr">closeButton</span>: {
        <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
        <span class="hljs-attr">right</span>: <span class="hljs-number">20</span>,
        <span class="hljs-attr">zIndex</span>: <span class="hljs-number">10</span>,
    },
    <span class="hljs-attr">sideList</span>: {
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">gap</span>: <span class="hljs-number">10</span>,
        <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
        <span class="hljs-attr">right</span>: <span class="hljs-number">20</span>,
    },
    <span class="hljs-attr">sideItem</span>: {
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">gap</span>: <span class="hljs-number">5</span>,
    },
    <span class="hljs-title class_">ItemText</span>: {
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
        <span class="hljs-attr">fontSize</span>: <span class="hljs-number">12</span>,
    },
});

</code></pre>
<p>å¦‚ä¸Šï¼Œå¯ä»¥ä¸Šä¸‹æ»‘åŠ¨çš„è§†é¢‘æ’­æ”¾åˆ—è¡¨æ ¸å¿ƒä»£ç åœ¨äºåˆ—è¡¨é¡¹çš„æ¯ä¸€é¡¹åº”è¯¥è€ƒè™‘é«˜åº¦åº”è¯¥æ˜¯è§†å£é«˜åº¦ï¼Œåˆ—è¡¨æ¯æ¬¡æ»‘åŠ¨è·ç¦»åº”è¯¥æ˜¯è§†å£é«˜åº¦ï¼Œå› æ­¤éœ€è¦è·å–è§†å£é«˜åº¦å’Œä¸Šä¸‹çš„å®‰å…¨è·ç¦»ï¼Œå°†è¿™äº›ä¼ é€’ç»™è§†é¢‘åˆ—è¡¨é¡¹ï¼Œå¦‚ä¸‹æ˜¯åˆ—è¡¨é¡¹ç»„ä»¶</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useEffect, useState, useRef, <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">FC</span>, act } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span>, <span class="hljs-title class_">StyleSheet</span>, <span class="hljs-title class_">Text</span>, <span class="hljs-title class_">Pressable</span>, <span class="hljs-title class_">TouchableOpacity</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">VideoView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'expo-video'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">VideoAsset</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/types'</span>;
<span class="hljs-keyword">import</span> { useVideoPlayer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/hooks/useVideoPlayer'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Slider</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-native-community/slider'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Ionicons</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@expo/vector-icons'</span>;
<span class="hljs-keyword">import</span> { formatTime } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Animated</span>, { useSharedValue, withTiming, useAnimatedStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-reanimated'</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Props</span> = {
    <span class="hljs-attr">video</span>: <span class="hljs-title class_">VideoAsset</span>;
    <span class="hljs-attr">isActive</span>: <span class="hljs-built_in">boolean</span>;
    <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">modalVisible</span>: <span class="hljs-built_in">boolean</span>;
    top?: <span class="hljs-built_in">number</span>;
    bottom?: <span class="hljs-built_in">number</span>;
};

<span class="hljs-comment">/**
 * è§†é¢‘åˆ—è¡¨å­é¡¹å¤šï¼Œå¦‚æœæ¯ä¸ªiteméƒ½useVideoPler(uri)ä¼šåœ¨åˆå§‹åŒ–æ—¶åˆ›å»ºæ’­æ”¾å™¨å¯¼è‡´å´©æºƒé—ªé€€
 * expo-videoçš„videoViewå¿…é¡»æ¥æ”¶ä¸€ä¸ªplayerå¯¹è±¡ä¸”å¿…é¡»å­˜åœ¨ï¼Œå¦åˆ™æŠ¥é”™
 * å› æ­¤ï¼Œä½¿ç”¨createVideoPlayeråˆ›å»ºä¸€ä¸ªæ’­æ”¾å™¨å¯¹è±¡ï¼Œå¹¶ä¿å­˜åœ¨ç»„ä»¶å†…éƒ¨ï¼Œé¿å… hooksä¸èƒ½åœ¨useEffectä¸­åˆ›å»ºæ’­æ”¾å™¨å¯¹è±¡
 * 1.ç›‘å¬isActiveå˜åŒ–ï¼Œå½“isActiveä¸ºtrueæ—¶ï¼Œåˆ›å»ºæ’­æ”¾å™¨å¹¶æ’­æ”¾è§†é¢‘ï¼Œå½“isActiveä¸ºfalseæ—¶ï¼Œæš‚åœå¹¶é‡Šæ”¾æ’­æ”¾å™¨
 * è§†é¢‘åˆ—è¡¨å­é¡¹ç»„ä»¶
 * FlatListæ¸²æŸ“çš„è§†é¢‘å­é¡¹
 * <span class="hljs-doctag">@param</span> video å½“å‰ç»„ä»¶åº”è¯¥æ’­æ”¾çš„è§†é¢‘
 * <span class="hljs-doctag">@param</span> isActive å½“å‰è§†é¢‘æ˜¯å¦å¤„äºå±å¹•ä¸Šï¼Œæ˜¯å¦åº”è¯¥æ’­æ”¾
 * <span class="hljs-doctag">@param</span> height è§†é¢‘ç»„ä»¶é«˜åº¦
 * <span class="hljs-doctag">@returns</span> JSX å…ƒç´ 
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">VideoItem</span>: <span class="hljs-variable constant_">FC</span>&lt;<span class="hljs-title class_">Props</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ video, isActive, height, modalVisible, top, bottom }</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> { player, isPlayerReady, isPlaying, play, pause } = <span class="hljs-title function_">useVideoPlayer</span>({
        <span class="hljs-attr">uri</span>: video.<span class="hljs-property">uri</span>,
        isActive,
        modalVisible
    });
    <span class="hljs-keyword">const</span> [currentTime, setCurrentTime] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">const</span> [visible, setVisible] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> timerRef = useRef&lt;<span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">setTimeout</span>&gt; | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> topTranslateY = <span class="hljs-title function_">useSharedValue</span>(-<span class="hljs-number">50</span>);
    <span class="hljs-keyword">const</span> bottomTranslateY = <span class="hljs-title function_">useSharedValue</span>(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">const</span> centerOpacity = <span class="hljs-title function_">useSharedValue</span>(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">const</span> centerDisplay = useSharedValue&lt;<span class="hljs-string">'flex'</span> | <span class="hljs-string">'none'</span>&gt;(<span class="hljs-string">'flex'</span>);
    <span class="hljs-keyword">const</span> topStyle = <span class="hljs-title function_">useAnimatedStyle</span>(<span class="hljs-function">() =&gt;</span> ({
        <span class="hljs-attr">transform</span>: [{ <span class="hljs-attr">translateY</span>: topTranslateY.<span class="hljs-property">value</span> }],
    }));
    <span class="hljs-keyword">const</span> centerStye = <span class="hljs-title function_">useAnimatedStyle</span>(<span class="hljs-function">() =&gt;</span> ({
        <span class="hljs-attr">opacity</span>: centerOpacity.<span class="hljs-property">value</span>,
        <span class="hljs-attr">display</span>: centerDisplay.<span class="hljs-property">value</span>,
    }));
    <span class="hljs-keyword">const</span> bottomStyle = <span class="hljs-title function_">useAnimatedStyle</span>(<span class="hljs-function">() =&gt;</span> ({
        <span class="hljs-attr">transform</span>: [{ <span class="hljs-attr">translateY</span>: bottomTranslateY.<span class="hljs-property">value</span> }],
    }));
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handlleControl</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">if</span> (isPlaying) {
            <span class="hljs-title function_">pause</span>();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">play</span>();
        }
    };
    <span class="hljs-comment">// ç›‘å¬æ’­æ”¾è¿›åº¦å˜åŒ–</span>
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (!player || !isPlayerReady) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// å®šæ—¶æ›´æ–°æ’­æ”¾è¿›åº¦</span>
        <span class="hljs-keyword">let</span> <span class="hljs-attr">progressInterval</span>: <span class="hljs-built_in">any</span>;
        <span class="hljs-keyword">if</span> (isPlaying) {
            progressInterval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
                <span class="hljs-keyword">if</span> (player &amp;&amp; player.<span class="hljs-property">currentTime</span>) {
                    <span class="hljs-title function_">setCurrentTime</span>(player.<span class="hljs-property">currentTime</span>);
                }
            }, <span class="hljs-number">1000</span>); <span class="hljs-comment">// æ¯100msæ›´æ–°ä¸€æ¬¡</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">if</span> (progressInterval) {
                <span class="hljs-built_in">clearInterval</span>(progressInterval);
            }
        };
    }, [player, isPlayerReady, isPlaying]);
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">clearTimer</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">if</span> (timerRef.<span class="hljs-property">current</span>) {
            <span class="hljs-built_in">clearTimeout</span>(timerRef.<span class="hljs-property">current</span>);
            timerRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
        }
    };
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (visible) {
            <span class="hljs-title function_">clearTimer</span>();
            topTranslateY.<span class="hljs-property">value</span> = <span class="hljs-title function_">withTiming</span>(<span class="hljs-number">0</span>, { <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> });
            centerOpacity.<span class="hljs-property">value</span> = <span class="hljs-title function_">withTiming</span>(<span class="hljs-number">1</span>, { <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> });
            bottomTranslateY.<span class="hljs-property">value</span> = <span class="hljs-title function_">withTiming</span>(<span class="hljs-number">0</span>, { <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> });
            centerDisplay.<span class="hljs-property">value</span> = <span class="hljs-string">'flex'</span>;
            timerRef.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                topTranslateY.<span class="hljs-property">value</span> = <span class="hljs-title function_">withTiming</span>(-<span class="hljs-number">50</span>, { <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> });
                centerOpacity.<span class="hljs-property">value</span> = <span class="hljs-title function_">withTiming</span>(<span class="hljs-number">0</span>, { <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> });
                bottomTranslateY.<span class="hljs-property">value</span> = <span class="hljs-title function_">withTiming</span>(<span class="hljs-number">70</span>, { <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span> });
                centerDisplay.<span class="hljs-property">value</span> = <span class="hljs-string">'none'</span>;
                <span class="hljs-title function_">setVisible</span>(<span class="hljs-literal">false</span>)
            }, <span class="hljs-number">3000</span>);
        };
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-title function_">clearTimer</span>();
        };
    }, [visible])
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handlePressBg</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-title function_">setVisible</span>(!visible);
    }

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span>
            <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.container,</span> { <span class="hljs-attr">height</span>, <span class="hljs-attr">paddingTop:</span> <span class="hljs-attr">top</span>, <span class="hljs-attr">paddingBottom:</span> <span class="hljs-attr">bottom</span> }]}
            <span class="hljs-attr">onPress</span>=<span class="hljs-string">{handlePressBg}</span>
        &gt;</span>
            {/* åªæœ‰å½“æ’­æ”¾å™¨å­˜åœ¨ä¸”å‡†å¤‡å°±ç»ªæ—¶æ‰æ¸²æŸ“ VideoView */}
            {player &amp;&amp; isPlayerReady &amp;&amp; player.status !== 'idle' &amp;&amp; (
                <span class="hljs-tag">&lt;<span class="hljs-name">VideoView</span>
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{[StyleSheet.absoluteFill,</span> { <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">bottom</span>, <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">top</span> }]}
                    <span class="hljs-attr">player</span>=<span class="hljs-string">{player}</span>
                    <span class="hljs-attr">nativeControls</span>=<span class="hljs-string">{false}</span>
                    <span class="hljs-attr">fullscreenOptions</span>=<span class="hljs-string">{{</span>
                        <span class="hljs-attr">enable:</span> <span class="hljs-attr">true</span>, //<span class="hljs-attr">èƒ½å¦å…¨å±</span>
                        <span class="hljs-attr">orientation:</span> '<span class="hljs-attr">landscape</span>', //<span class="hljs-attr">å…¨å±æ—¶å±å¹•æ–¹å‘</span>
                        <span class="hljs-attr">autoExitOnRotate:</span> <span class="hljs-attr">false</span>, //<span class="hljs-attr">å±å¹•æ—‹è½¬æ—¶æ˜¯å¦é€€å‡ºå…¨å±</span>
                    }}
                /&gt;</span>
            )}
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.overlay,</span> { <span class="hljs-attr">top</span> }]}&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Animated.Text</span>
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.videoTitle,</span> <span class="hljs-attr">topStyle</span>]}
                    <span class="hljs-attr">numberOfLines</span>=<span class="hljs-string">{1}</span>
                &gt;</span>
                    {video.filename ?? 'æœªçŸ¥è§†é¢‘'}
                <span class="hljs-tag">&lt;/<span class="hljs-name">Animated.Text</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Animated.View</span>
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.center,</span> <span class="hljs-attr">centerStye</span>]}
                &gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{handlleControl}</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">Ionicons</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{isPlaying</span> ? "<span class="hljs-attr">pause</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">play</span>"} <span class="hljs-attr">size</span>=<span class="hljs-string">{50}</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"white"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Animated.View</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Animated.View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.bottom,</span> <span class="hljs-attr">bottomStyle</span>]}&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Slider</span>
                        <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.slider}</span>
                        <span class="hljs-attr">minimumValue</span>=<span class="hljs-string">{0}</span>
                        <span class="hljs-attr">maximumValue</span>=<span class="hljs-string">{video.duration</span> || <span class="hljs-attr">0</span>}
                        <span class="hljs-attr">value</span>=<span class="hljs-string">{currentTime}</span>
                        <span class="hljs-attr">onSlidingComplete</span>=<span class="hljs-string">{(value)</span> =&gt;</span> {
                            if (player) {
                                player.currentTime = value; // expo-video ä½¿ç”¨ç§’ä¸ºå•ä½
                            }
                        }}
                        minimumTrackTintColor="#fff" // æ»‘å—å·¦ä¾§è½¨é“é¢œè‰²
                        maximumTrackTintColor="#d3d3d3" // æ»‘å—å³ä¾§è½¨é“é¢œè‰²
                        thumbTintColor="#fff" // æ»‘å—é¢œè‰²
                    /&gt;
                    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.time}</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>
                            <span class="hljs-attr">numberOfLines</span>=<span class="hljs-string">{1}</span>
                            <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.timeText}</span>
                        &gt;</span>{formatTime(currentTime)}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.timeText}</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.timeText}</span> <span class="hljs-attr">numberOfLines</span>=<span class="hljs-string">{1}</span>&gt;</span>{video.durationString}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Animated.View</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
    );
};

<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">container</span>: {
        <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#000'</span>,
    },
    <span class="hljs-attr">time</span>: {
        <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>,
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">gap</span>: <span class="hljs-number">5</span>,
    },
    <span class="hljs-attr">timeText</span>: {
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
        <span class="hljs-attr">fontSize</span>: <span class="hljs-number">14</span>,
    },
    <span class="hljs-attr">slider</span>: {
        <span class="hljs-attr">height</span>: <span class="hljs-number">20</span>,
        <span class="hljs-attr">width</span>: <span class="hljs-string">'70%'</span>,
    },
    <span class="hljs-attr">center</span>: {
        <span class="hljs-attr">height</span>: <span class="hljs-number">70</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
    },
    <span class="hljs-attr">overlay</span>: {
        <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">20</span>,
        <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">overflow</span>: <span class="hljs-string">'hidden'</span>,
    },
    <span class="hljs-attr">bottom</span>: {
        <span class="hljs-attr">height</span>: <span class="hljs-number">70</span>,
        <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>,
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'space-between'</span>,
        <span class="hljs-attr">marginTop</span>: <span class="hljs-number">10</span>,
        <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
        <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>,
    },
    <span class="hljs-attr">videoTitle</span>: {
        <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span>,
        <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bold'</span>,
        <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">lineHeight</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
        <span class="hljs-attr">left</span>: <span class="hljs-number">20</span>,
        <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,
    },
    <span class="hljs-attr">duration</span>: {
        <span class="hljs-attr">fontSize</span>: <span class="hljs-number">14</span>,
        <span class="hljs-attr">marginTop</span>: <span class="hljs-number">4</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
    },
});

</code></pre>
<p>è§†é¢‘ç»„ä»¶ä½¿ç”¨çš„ä¾èµ–åº“æ˜¯expo-videoï¼Œè¿™ä¸ªä¾èµ–åº“ä¸­çš„VideoViewç»„ä»¶æ˜¯è§†é¢‘ç»„ä»¶ï¼Œå¿…é¡»æ¥æ”¶VideoPlayerç±»å‹çš„playerå±æ€§ï¼Œè€Œè¿™ä¹ˆå¤šè§†é¢‘æˆ‘ä»¬ä¸å¯èƒ½éƒ½åˆ›å»ºå‡ºè¿™ä¸ªplayerï¼Œåˆ›å»ºplayerçš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œ</p>
<ol>
<li>
<p>ç”¨è¯¥ä¾èµ–åº“æä¾›çš„useAudioPlayer hooksåˆ›å»ºï¼Œä¸ç”¨æ‰‹åŠ¨å¤„ç†å¸è½½åŠ è½½
è¿™æ„å‘³ç€è§†é¢‘åˆ—è¡¨é¡¹ç›®å¾ˆå¤šï¼Œè€Œhooksåˆä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ä¸­æ‰§è¡Œï¼Œè¿™å°†ä¼šå¯¼è‡´è§†é¢‘åˆ—è¡¨æ¨¡æ€æ¡†åŠ è½½å³å´©æºƒï¼Œ
ä¸Šé¢çš„itemé¡¹ç›®æ¯ä¸€ä¸ªéƒ½åˆå§‹åŒ–åŠ è½½è§†é¢‘ï¼Œåˆæ— æ³•æ§åˆ¶åˆ—è¡¨é¡¹å‡ºç°åœ¨è§†å£æ—¶åˆ›å»ºplayeråŠ è½½è§†é¢‘ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªåœºæ™¯ä¸‹è‚¯å®šä¸è¡Œçš„ï¼Œå› æ­¤ä¸Šé¢å¼•å…¥çš„useAudioPlayerç»„ä»¶ä¸æ˜¯ä¾èµ–åº“æä¾›çš„ï¼Œè€Œæ˜¯åŸºäºä¸‹é¢çš„apiæŒ‰éœ€å°è£…çš„</p>
</li>
<li>
<p>createAudioPlayerï¼Œï¼Œè¿™ä¸ªapiå¯ä»¥æ§åˆ¶åˆ›å»ºplayeræ—¶æœºï¼Œä»¥åŠé‡Šæ”¾é”€æ¯çš„æ—¶æœºï¼ŒåŒæ ·ï¼ŒVideoViewä»ç„¶éœ€è¦playerï¼Œå› æ­¤åªæœ‰å½“æ’­æ”¾å™¨å­˜åœ¨ä¸”å‡†å¤‡å°±ç»ªæ—¶æ‰æ¸²æŸ“ VideoView</p>
</li>
<li>
<p>æ­£ç¡®æ›´æ–°å½“å‰æ’­æ”¾æ—¶é—´ï¼Œä½¿ç”¨äº†ä¸Šé¢çš„apiå°±æ„å‘³ç€ä¸èƒ½å†ä½¿ç”¨expoæä¾›çš„useEventå’ŒuseEventListenerç›‘å¬playerçš„æ’­æ”¾æƒ…å†µï¼ŒåŒæ ·æ˜¯å› ä¸ºhookså¿…é¡»åœ¨ç»„ä»¶é¡¶å±‚ä½¿ç”¨ï¼Œ</p>
</li>
</ol>
<p>åŸºäºä»¥ä¸Šé—®é¢˜ï¼Œæ’­æ”¾è¿›åº¦æ›´æ–°ï¼Œé‡‡ç”¨ç›‘å¬æ˜¯å¦åœ¨æ’­æ”¾ï¼Œplayeræ˜¯å¦å­˜åœ¨ï¼Œç„¶åsetIntervalè·å–player.currentTimeå±æ€§å€¼ï¼Œæ›´æ–°state</p>
<p>è§†é¢‘çš„æ’­æ”¾å¸è½½ï¼ŒæŒ‰éœ€ç¼–å†™ä¸€ä¸ªhooksï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useRef, useState, useCallback, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { createVideoPlayer, <span class="hljs-keyword">type</span> <span class="hljs-title class_">VideoPlayer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'expo-video'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UseVideoPlayerOptions</span> {
    <span class="hljs-attr">uri</span>: <span class="hljs-built_in">string</span>;
    isActive?: <span class="hljs-built_in">boolean</span>;
    modalVisible?: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UseVideoPlayerReturn</span> {
    <span class="hljs-attr">player</span>: <span class="hljs-title class_">VideoPlayer</span> | <span class="hljs-literal">null</span>;
    <span class="hljs-attr">isPlayerReady</span>: <span class="hljs-built_in">boolean</span>;
    <span class="hljs-attr">isPlaying</span>: <span class="hljs-built_in">boolean</span>;
    <span class="hljs-attr">play</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
    <span class="hljs-attr">pause</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
    <span class="hljs-attr">release</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useVideoPlayer = ({ uri, isActive = <span class="hljs-literal">false</span>, modalVisible = <span class="hljs-literal">false</span> }: <span class="hljs-title class_">UseVideoPlayerOptions</span>): <span class="hljs-function"><span class="hljs-params">UseVideoPlayerReturn</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> playerRef = useRef&lt;<span class="hljs-title class_">VideoPlayer</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> [player, setPlayer] = useState&lt;<span class="hljs-title class_">VideoPlayer</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> [isPlayerReady, setIsPlayerReady] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-keyword">const</span> [isPlaying, setIsPlaying] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

    <span class="hljs-keyword">const</span> initializePlayer = <span class="hljs-title function_">useCallback</span>(<span class="hljs-keyword">async</span> () =&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ¸…ç†ä¹‹å‰çš„æ’­æ”¾å™¨</span>
            <span class="hljs-keyword">if</span> (playerRef.<span class="hljs-property">current</span> &amp;&amp; playerRef.<span class="hljs-property">current</span>.<span class="hljs-property">status</span> !== <span class="hljs-string">'idle'</span>) {
                playerRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">pause</span>();
                playerRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">release</span>();
                playerRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
            }

            <span class="hljs-title function_">setPlayer</span>(<span class="hljs-literal">null</span>);
            <span class="hljs-title function_">setIsPlayerReady</span>(<span class="hljs-literal">false</span>);
            <span class="hljs-title function_">setIsPlaying</span>(<span class="hljs-literal">false</span>);

            <span class="hljs-comment">// åªæœ‰åœ¨æ´»è·ƒå’Œæ¨¡æ€æ¡†å¯è§æ—¶æ‰åˆ›å»ºæ–°æ’­æ”¾å™¨</span>
            <span class="hljs-keyword">if</span> (modalVisible &amp;&amp; isActive &amp;&amp; uri) {
                <span class="hljs-keyword">const</span> newPlayer = <span class="hljs-title function_">createVideoPlayer</span>(uri);
                playerRef.<span class="hljs-property">current</span> = newPlayer;

                <span class="hljs-comment">// ç›‘å¬æ’­æ”¾çŠ¶æ€</span>
                <span class="hljs-keyword">const</span> playingListener = newPlayer.<span class="hljs-title function_">addListener</span>(<span class="hljs-string">'playingChange'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
                    <span class="hljs-title function_">setIsPlaying</span>(event.<span class="hljs-property">isPlaying</span>);
                });

                <span class="hljs-comment">// ç›‘å¬æ’­æ”¾å™¨çŠ¶æ€å˜åŒ–</span>
                <span class="hljs-keyword">const</span> statusListener = newPlayer.<span class="hljs-title function_">addListener</span>(<span class="hljs-string">'statusChange'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
                    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">status</span> === <span class="hljs-string">'readyToPlay'</span>) {
                        <span class="hljs-title function_">setPlayer</span>(newPlayer);
                        <span class="hljs-title function_">setIsPlayerReady</span>(<span class="hljs-literal">true</span>);
                        <span class="hljs-comment">// è‡ªåŠ¨å¼€å§‹æ’­æ”¾</span>
                        newPlayer.<span class="hljs-title function_">play</span>();
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.<span class="hljs-property">status</span> === <span class="hljs-string">'error'</span>) {
                        <span class="hljs-title function_">setPlayer</span>(<span class="hljs-literal">null</span>);
                        <span class="hljs-title function_">setIsPlayerReady</span>(<span class="hljs-literal">false</span>);
                    }
                });

                <span class="hljs-comment">// ä¿å­˜ç›‘å¬å™¨å¼•ç”¨ä»¥ä¾¿æ¸…ç†</span>
                (newPlayer <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">playingListener</span> = playingListener;
                (newPlayer <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">statusListener</span> = statusListener;
            }
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-title function_">setPlayer</span>(<span class="hljs-literal">null</span>);
            <span class="hljs-title function_">setIsPlayerReady</span>(<span class="hljs-literal">false</span>);
            <span class="hljs-title function_">setIsPlaying</span>(<span class="hljs-literal">false</span>);
        }
    }, [modalVisible, isActive, uri]);

    <span class="hljs-keyword">const</span> play = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (playerRef.<span class="hljs-property">current</span> &amp;&amp; playerRef.<span class="hljs-property">current</span>.<span class="hljs-property">status</span> !== <span class="hljs-string">'idle'</span>) {
            playerRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">play</span>();
        }
    }, []);

    <span class="hljs-keyword">const</span> pause = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (playerRef.<span class="hljs-property">current</span> &amp;&amp; playerRef.<span class="hljs-property">current</span>.<span class="hljs-property">status</span> !== <span class="hljs-string">'idle'</span>) {
            playerRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">pause</span>();
        }
    }, []);

    <span class="hljs-keyword">const</span> release = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (playerRef.<span class="hljs-property">current</span> &amp;&amp; playerRef.<span class="hljs-property">current</span>.<span class="hljs-property">status</span> !== <span class="hljs-string">'idle'</span>) {
            <span class="hljs-comment">// æ¸…ç†ç›‘å¬å™¨</span>
            <span class="hljs-keyword">const</span> playingListener = (playerRef.<span class="hljs-property">current</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">playingListener</span>;
            <span class="hljs-keyword">const</span> statusListener = (playerRef.<span class="hljs-property">current</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">statusListener</span>;

            <span class="hljs-keyword">if</span> (playingListener) {
                playingListener.<span class="hljs-title function_">remove</span>();
            }
            <span class="hljs-keyword">if</span> (statusListener) {
                statusListener.<span class="hljs-title function_">remove</span>();
            }

            playerRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">pause</span>();
            playerRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">release</span>();
            playerRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-title function_">setPlayer</span>(<span class="hljs-literal">null</span>);
        <span class="hljs-title function_">setIsPlayerReady</span>(<span class="hljs-literal">false</span>);
        <span class="hljs-title function_">setIsPlaying</span>(<span class="hljs-literal">false</span>);
    }, []);

    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">initializePlayer</span>()

        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¸…ç†</span>
            <span class="hljs-title function_">release</span>();
        };
    }, [initializePlayer, release]);

    <span class="hljs-keyword">return</span> {
        player,
        isPlayerReady,
        isPlaying,
        play,
        pause,
        release
    };
}
</code></pre>
<p>çœ‹ä¼¼ä¸å¤æ‚çš„éœ€æ±‚(ä¸Šé¢çš„å³ä¾§è¾¹æ çš„æ¶ˆæ¯ï¼Œè¯„è®ºéƒ½æ²¡æœ‰åŠŸèƒ½ï¼Œä¸»è¦æ˜¯ç”¨äºæ¼”ç¤º)ï¼Œå°±å·²ç»ç¼–å†™äº†è¿™ä¹ˆå¤šä»£ç ï¼Œæœ€å¤§çš„å‘æ¥è‡ªäºexpo-audioï¼Œä¹Ÿæ²¡æœ‰å»æ‰¾å…¶ä»–è§†é¢‘ç›¸å…³çš„ç»„ä»¶ï¼Œå¤§å®¶å¯ä»¥ä½œä¸ºå‚è€ƒï¼Œå¯èƒ½å…¶ä»–è§†é¢‘ä¾èµ–åº“æ›´ç®€å•ï¼Œåç»­å¯èƒ½ä¼šæ›´æ–°ä¸€ç¯‡ åœ¨rnä¸­ä½¿ç”¨ffmpeg-kitå®ç°ï¼Œæå–è§†é¢‘æ–‡ä»¶çš„éŸ³é¢‘éƒ¨åˆ†ä¸ºç‹¬ç«‹æ–‡ä»¶çš„åŠŸèƒ½ç¯‡ï¼Œè¿™ä¸ªåŠŸèƒ½å·²ç»å®ç°ï¼Œ</p>
<p>æœ‰ä»»ä½•ç–‘é—®è§è§£æ¬¢è¿è¯„è®ºåŒºäº¤æµ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOS ArkTS å®æˆ˜ï¼šé˜…è¯»å™¨é¡¶éƒ¨æ â€œé«˜åº¦æ”¶ç¼© + èƒŒæ™¯é€æ˜åº¦è¿‡æ¸¡â€ï¼ˆ@AnimatableExtend æ–¹æ¡ˆï¼Œèƒ½ç›´æ¥æŠ„ï¼‰]]></title>    <link>https://juejin.cn/post/7586482860104204315</link>    <guid>https://juejin.cn/post/7586482860104204315</guid>    <pubDate>2025-12-22T14:15:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586482860104204315" data-draft-id="7586506307727065098" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOS ArkTS å®æˆ˜ï¼šé˜…è¯»å™¨é¡¶éƒ¨æ â€œé«˜åº¦æ”¶ç¼© + èƒŒæ™¯é€æ˜åº¦è¿‡æ¸¡â€ï¼ˆ@AnimatableExtend æ–¹æ¡ˆï¼Œèƒ½ç›´æ¥æŠ„ï¼‰"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-22T14:15:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸…å“¥ä¸€å¤©å…«ç¢—ç±³é¥­"/> <meta itemprop="url" content="https://juejin.cn/user/4026886813920339"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOS ArkTS å®æˆ˜ï¼šé˜…è¯»å™¨é¡¶éƒ¨æ â€œé«˜åº¦æ”¶ç¼© + èƒŒæ™¯é€æ˜åº¦è¿‡æ¸¡â€ï¼ˆ@AnimatableExtend æ–¹æ¡ˆï¼Œèƒ½ç›´æ¥æŠ„ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4026886813920339/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸…å“¥ä¸€å¤©å…«ç¢—ç±³é¥­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:15:18.000Z" title="Mon Dec 22 2025 14:15:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">HarmonyOS ArkTS å®æˆ˜ï¼šé˜…è¯»å™¨é¡¶éƒ¨æ â€œé«˜åº¦æ”¶ç¼© + èƒŒæ™¯é€æ˜åº¦è¿‡æ¸¡â€ï¼ˆ<code>@AnimatableExtend</code> æ–¹æ¡ˆï¼Œèƒ½ç›´æ¥æŠ„ï¼‰</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F4109a3b759684c5386806e1fe6db5988%3Ftype%3D1%253Fha_source%253Dhmosclass%26ha_sourceId%3D89000248" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/4109a3b759684c5386806e1fe6db5988?type=1%3Fha_source%3Dhmosclass&amp;ha_sourceId=89000248" ref="nofollow noopener noreferrer">ä¸€èµ·æ¥æ„å»ºç”Ÿæ€å§~</a></p>
<blockquote>
<p>éœ€æ±‚åœºæ™¯å¾ˆå…¸å‹ï¼šé˜…è¯»å™¨é¡µé¢ä¸€æ»šåŠ¨ï¼Œé¡¶éƒ¨æ ä»â€œæœ‰ç‚¹é«˜ã€ä¿¡æ¯å®Œæ•´â€é€æ­¥æ”¶ç¼©æˆâ€œæ›´è–„ã€æ›´æ²‰æµ¸â€ï¼›åŒæ—¶èƒŒæ™¯ä»é€æ˜æ…¢æ…¢å˜æˆä¸é€æ˜ï¼ˆé¿å…å†…å®¹é¡¶åˆ°çŠ¶æ€æ åçœ‹ä¸æ¸…ï¼‰ã€‚</p>
<p>è¿™ç±»åŠ¨æ•ˆå¦‚æœç”¨â€œæ‰‹åŠ¨ onScroll æ”¹æ ·å¼â€ï¼Œå¾ˆå®¹æ˜“å‡ºç°ï¼šè·³å˜ã€å¡é¡¿ã€ä»£ç æ•£ã€‚ æˆ‘è¿™é‡Œç»™ä½ ä¸€å¥—æ›´å·¥ç¨‹åŒ–çš„å†™æ³•ï¼š <strong>ç”¨ <code>@AnimatableExtend</code> æŠŠâ€œé«˜åº¦â€å’Œâ€œèƒŒæ™¯é€æ˜åº¦â€éƒ½åšæˆå¯åŠ¨ç”»å‚æ•°</strong>ï¼Œä½ åªè´Ÿè´£ç»™ç›®æ ‡å€¼ï¼Œç³»ç»Ÿè´Ÿè´£è¡¥é—´è¿‡æ¸¡ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">1. æ•ˆæœç›®æ ‡ï¼ˆå…ˆæŠŠä½“éªŒè¯´æ¸…æ¥šï¼‰</h3>
<p>æˆ‘ä»¬æŠŠé¡¶éƒ¨æ æ‹†æˆä¸¤ä¸ªç»´åº¦ï¼š</p>
<h4 data-id="heading-2">1ï¼‰é«˜åº¦æ”¶ç¼©ï¼ˆHeightï¼‰</h4>
<ul>
<li>åˆå§‹ï¼šæ¯”å¦‚ <strong>64</strong></li>
<li>æ”¶ç¼©åï¼šæ¯”å¦‚ <strong>44</strong></li>
<li>æ»šåŠ¨æ—¶éšè¿›åº¦çº¿æ€§å˜åŒ–ï¼ˆæˆ–ä½ è‡ªå·±æ¢æ›²çº¿ï¼‰</li>
</ul>
<h4 data-id="heading-3">2ï¼‰èƒŒæ™¯é€æ˜åº¦ï¼ˆAlphaï¼‰</h4>
<ul>
<li>åˆå§‹ï¼š<strong>0</strong>ï¼ˆå®Œå…¨é€æ˜ï¼Œæ²‰æµ¸ï¼‰</li>
<li>æ”¶ç¼©åï¼š<strong>1</strong>ï¼ˆå®Œå…¨ä¸é€æ˜ï¼Œä¿è¯å¯è¯»æ€§ï¼‰</li>
<li>åŒæ ·éšæ»šåŠ¨è¿›åº¦å˜åŒ–</li>
</ul>
<p>åŒæ—¶å†åŠ ä¸¤ä¸ªâ€œäººå†™å‡ºæ¥çš„ç»†èŠ‚â€ï¼š</p>
<ul>
<li><strong>æ ‡é¢˜æ¸éš / æ¸æ˜¾</strong>ï¼šå¤§æ ‡é¢˜åœ¨å±•å¼€æ€æ›´æ˜æ˜¾ï¼Œæ”¶ç¼©åå˜æ·¡æˆ–ç¼©å°</li>
<li><strong>é˜´å½±å‡ºç°</strong>ï¼šèƒŒæ™¯å˜å®ååŠ ä¸€ç‚¹é˜´å½±ï¼ŒåƒçœŸå® App é¡¶éƒ¨æ ä¸€æ ·â€œå‹ä½å†…å®¹â€</li>
</ul>
<hr/>
<h3 data-id="heading-4">2. æ•´ä½“ç»“æ„ï¼ˆåˆ«æ€¥ç€å†™åŠ¨ç”»ï¼Œå…ˆæ­éª¨æ¶ï¼‰</h3>
<p>æˆ‘å»ºè®®é˜…è¯»å™¨é¡µç»“æ„åƒè¿™æ ·ï¼ˆä½ ä¹‹å‰æœ‰ Web é˜…è¯»å™¨ï¼Œç…§æ ·é€‚ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Â Stackï¼ˆå…¨å±ï¼‰
Â â”œâ”€â”€ å†…å®¹å±‚ï¼ˆWeb <span class="hljs-operator">/</span> List <span class="hljs-operator">/</span> <span class="hljs-keyword">Scroll</span>ï¼‰
Â â””â”€â”€ é¡¶éƒ¨æ ï¼ˆ<span class="hljs-keyword">Overlay</span>ï¼Œæ°¸è¿œæµ®åœ¨æœ€ä¸Šï¼‰
</code></pre>
<p>é¡¶éƒ¨æ ç”¨ <code>Stack</code>/<code>Row</code> éƒ½è¡Œï¼Œå…³é”®æ˜¯ï¼š <strong>å®ƒä¸å‚ä¸å†…å®¹å¸ƒå±€</strong>ï¼ˆä¸ç„¶é«˜åº¦å˜åŒ–ä¼šæŒ¤å‹å†…å®¹ï¼Œä½“éªŒå¾ˆæ€ªï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-5">3. æ ¸å¿ƒæ€è·¯ï¼šç”¨ 1 ä¸ªâ€œæŠ˜å è¿›åº¦â€é©±åŠ¨ä¸€åˆ‡</h3>
<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæŠ˜å è¿›åº¦ <code>collapseT</code>ï¼š</p>
<ul>
<li>å–å€¼èŒƒå›´ï¼š<code>0 ~ 1</code></li>
<li><code>0</code>ï¼šå®Œå…¨å±•å¼€</li>
<li><code>1</code>ï¼šå®Œå…¨æ”¶ç¼©</li>
</ul>
<p>ç„¶åæŠŠæ‰€æœ‰è§†è§‰å˜åŒ–éƒ½å˜æˆæ•°å­¦æ˜ å°„ï¼š</p>
<ul>
<li><code>height = lerp(expandedH, collapsedH, collapseT)</code></li>
<li><code>alpha = lerp(0, 1, collapseT)</code></li>
<li><code>titleOpacity = 1 - collapseT</code>ï¼ˆæˆ–è€…æ›´æŸ”ä¸€ç‚¹ï¼‰</li>
<li><code>shadowOpacity = collapseT</code></li>
</ul>
<p>è¿™æ ·ä»£ç ä¼šç‰¹åˆ«å¹²å‡€ï¼š <strong>æ»šåŠ¨åªè´Ÿè´£æ›´æ–° collapseTï¼Œå…¶å®ƒéƒ½æ˜¯æ´¾ç”Ÿå‡ºæ¥çš„ã€‚</strong></p>
<hr/>
<h3 data-id="heading-6">4. å…³é”®ï¼š<code>@AnimatableExtend</code> ä¸¤ä¸ªæ‰©å±•æ–¹æ³•</h3>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦ç”¨ <code>@AnimatableExtend</code>ï¼Ÿ å› ä¸ºä½ ä¼šå‘ç°ï¼šæœ‰äº›å±æ€§ä½ æƒ³â€œä¸æ»‘è¿‡æ¸¡â€ï¼Œç›´æ¥å†™ <code>.height()</code> <code>.backgroundColor()</code> å¹¶ä¸ä¸€å®šèƒ½è·Ÿä½ é¢„æœŸä¸€æ ·é¡ºã€‚ ç”¨ <code>@AnimatableExtend</code> çš„æ€è·¯æ˜¯ï¼š <strong>è®©å‚æ•°å¯åŠ¨ç”»ï¼Œå‚æ•°æ¯å¸§å˜åŒ–ï¼Œä½ æ¯å¸§æŠŠå®ƒåº”ç”¨åˆ°ç»„ä»¶å±æ€§ä¸Šã€‚</strong></p>
</blockquote>
<h4 data-id="heading-7">4.1 æ‰©å±• 1ï¼šå¯åŠ¨ç”»é«˜åº¦</h4>
<pre><code class="hljs language-java" lang="java">Â <span class="hljs-meta">@AnimatableExtend(Column)</span>
Â function <span class="hljs-title function_">animHeight</span><span class="hljs-params">(h: number)</span> {
Â   <span class="hljs-built_in">this</span>.height(h)
Â }
</code></pre>
<blockquote>
<p>è¿™é‡Œæˆ‘æ‰©å±•åœ¨ <code>Column</code> ä¸Šï¼Œæ˜¯å› ä¸ºé¡¶éƒ¨æ æˆ‘ä¼šç”¨ <code>Column/Row/Stack</code> åŒ…ä¸€å±‚ã€‚ ä½ ä¹Ÿå¯ä»¥å†™ <code>@AnimatableExtend(Stack)</code> æˆ– <code>@AnimatableExtend(Row)</code>ï¼Œçœ‹ä½ å®é™…ç»“æ„ã€‚</p>
</blockquote>
<h4 data-id="heading-8">4.2 æ‰©å±• 2ï¼šå¯åŠ¨ç”»èƒŒæ™¯é€æ˜åº¦ï¼ˆç”¨ alpha æ§åˆ¶ï¼‰</h4>
<p>èƒŒæ™¯é€æ˜åº¦æœ€ç¨³çš„åšæ³•ï¼š <strong>ç”¨ <code>rgba</code>ï¼ˆæˆ– Color + alpha çš„æ–¹å¼ï¼‰ç”Ÿæˆé¢œè‰²</strong>ï¼ŒæŠŠ alpha ä½œä¸ºåŠ¨ç”»å‚æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript">Â <span class="hljs-meta">@AnimatableExtend</span>(<span class="hljs-title class_">Stack</span>)
Â <span class="hljs-keyword">function</span> <span class="hljs-title function_">animBgAlpha</span>(<span class="hljs-params">alpha: <span class="hljs-built_in">number</span></span>) {
Â   <span class="hljs-comment">// alpha: 0~1</span>
Â   <span class="hljs-comment">// ç”¨ RGBA ç”Ÿæˆé¢œè‰²ï¼ˆä¸‹é¢æ˜¯ç™½åº•ç¤ºä¾‹ï¼Œä½ å¯ä»¥æ¢æˆä½ çš„ä¸»é¢˜è‰²ï¼‰</span>
Â   <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">`rgba(255, 255, 255, <span class="hljs-subst">${alpha}</span>)`</span>)
Â }
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šæœ‰çš„åŒå­¦ä¼šç›´æ¥åœ¨ stateStyles é‡Œå†™èƒŒæ™¯ï¼Œä½†æˆ‘ä»¬è¿™é‡Œæ˜¯â€œè¿ç»­æ¸å˜â€ï¼Œæ›´é€‚åˆç”¨ animatable å‚æ•°é©±åŠ¨ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">5. å®Œæ•´ç¤ºä¾‹ï¼šé˜…è¯»å™¨é¡µï¼ˆæ»šåŠ¨é©±åŠ¨é¡¶éƒ¨æ åŠ¨æ•ˆï¼‰</h3>
<blockquote>
<p>è¿™é‡Œæˆ‘ç”¨ <code>Scroll</code> + <code>Column</code> æ¨¡æ‹Ÿå†…å®¹æ»šåŠ¨ã€‚ ä½ å¦‚æœæ˜¯ <code>Web</code>ï¼Œåªè¦æŠŠâ€œæ»šåŠ¨ä½ç½® scrollTop / progressâ€æ¢æˆä½  Web ä¸ŠæŠ¥çš„å€¼å³å¯ï¼ˆä½ å‰é¢å·²ç»åšè¿‡ onMessage ä¸ŠæŠ¥è¿›åº¦ï¼Œé‚£å¥—èƒ½ç›´æ¥æ¥ï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-10">5.1 å…³é”®å·¥å…·å‡½æ•°ï¼šlerp + clamp</h4>
<pre><code class="hljs language-typescript" lang="typescript">Â <span class="hljs-keyword">function</span> <span class="hljs-title function_">clamp01</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
Â   <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
Â   <span class="hljs-keyword">if</span> (x &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
Â   <span class="hljs-keyword">return</span> x
Â }
Â â€‹
Â <span class="hljs-keyword">function</span> <span class="hljs-title function_">lerp</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span>, t: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
Â   <span class="hljs-keyword">return</span> a + (b - a) * t
Â }
</code></pre>
<h4 data-id="heading-11">5.2 é¡µé¢ä»£ç ï¼ˆå¯ç›´æ¥æŠ„ï¼Œé€»è¾‘å°½é‡å†™å¾—åƒçœŸå®é¡¹ç›®ï¼‰</h4>
<pre><code class="hljs language-scss" lang="scss">Â <span class="hljs-keyword">@Entry</span>
Â <span class="hljs-keyword">@Component</span>
Â struct ReaderPage {
Â   <span class="hljs-comment">// é¡¶éƒ¨æ å±•å¼€/æ”¶ç¼©é…ç½®ï¼ˆä½ å¯ä»¥æŒ‰è®¾è®¡ç¨¿æ”¹ï¼‰</span>
Â   private readonly expandedH: number = <span class="hljs-number">64</span>
Â   private readonly collapsedH: number = <span class="hljs-number">44</span>
Â â€‹
Â   // è¿™ä¸ªæ˜¯â€œåŠ¨ç”»ç›®æ ‡å€¼â€ï¼Œæˆ‘ä»¬åªæ”¹å®ƒï¼Œä¸ç›´æ¥æ”¹ UI
Â   @State private collapseT: number = <span class="hljs-number">0</span>
Â â€‹
Â   // çœŸå®æ»šåŠ¨é«˜åº¦ï¼ˆç¤ºä¾‹ç”¨ scrollY è¿‘ä¼¼ï¼‰
Â   @State private scrollY: number = <span class="hljs-number">0</span>
Â â€‹
Â   // å½“ scrollY åˆ°è¾¾è¿™ä¸ªé˜ˆå€¼æ—¶ï¼Œé¡¶éƒ¨æ åŸºæœ¬æ”¶ç¼©å®Œæˆ
Â   private readonly collapseRange: number = <span class="hljs-number">120</span>
Â â€‹
Â   <span class="hljs-built_in">build</span>() {
Â  Â   <span class="hljs-built_in">Stack</span>() {
Â  Â  Â   <span class="hljs-comment">// ========= å†…å®¹å±‚ =========</span>
Â  Â  Â   Scroll() {
Â  Â  Â  Â   <span class="hljs-built_in">Column</span>({ space: <span class="hljs-number">12</span> }) {
Â  Â  Â  Â  Â   <span class="hljs-comment">// æ¨¡æ‹Ÿå†…å®¹</span>
Â  Â  Â  Â  Â   <span class="hljs-built_in">ForEach</span>(new Array(<span class="hljs-number">60</span>)<span class="hljs-selector-class">.fill</span>(<span class="hljs-number">0</span>)<span class="hljs-selector-class">.map</span>((_, i) =&gt; <span class="hljs-selector-tag">i</span>), (i: number) =&gt; {
Â  Â  Â  Â  Â  Â   Text(`ç¬¬ ${i + <span class="hljs-number">1</span>} æ®µå†…å®¹ï¼šè¿™é‡Œæ¨¡æ‹Ÿé˜…è¯»å™¨æ­£æ–‡...`)
Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">16</span>)
Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontColor</span>('#<span class="hljs-number">222</span>')
Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.padding</span>({ left: <span class="hljs-number">16</span>, right: <span class="hljs-number">16</span>, top: <span class="hljs-number">8</span>, bottom: <span class="hljs-number">8</span> })
Â  Â  Â  Â  Â   })
Â  Â  Â  Â   }
Â  Â  Â  Â   <span class="hljs-selector-class">.padding</span>({ top: this.expandedH + <span class="hljs-number">8</span> }) <span class="hljs-comment">// ç»™å†…å®¹è®©å‡ºé¡¶éƒ¨æ ç©ºé—´ï¼ˆå¾ˆå…³é”®ï¼ï¼‰</span>
Â  Â  Â   }
Â  Â  Â   <span class="hljs-selector-class">.onScroll</span>((xOffset: number, yOffset: number) =&gt; {
Â  Â  Â  Â   this<span class="hljs-selector-class">.scrollY</span> = yOffset
Â â€‹
Â  Â  Â  Â   <span class="hljs-comment">// æŠŠæ»šåŠ¨è·ç¦»æ˜ å°„æˆ 0~1</span>
Â  Â  Â  Â   const t = <span class="hljs-built_in">clamp01</span>(yOffset / this.collapseRange)
Â â€‹
Â  Â  Â  Â   <span class="hljs-comment">// åªæ›´æ–°ç›®æ ‡å€¼ï¼Œè®©åŠ¨ç”»ç³»ç»Ÿå»è¡¥é—´</span>
Â  Â  Â  Â   <span class="hljs-comment">// è¿™é‡Œç”¨ animateTo æ›´â€œäººå†™â€ï¼Œå¯æ§æ€§æ›´å¥½</span>
Â  Â  Â  Â   <span class="hljs-built_in">animateTo</span>({ duration: <span class="hljs-number">220</span>, curve: Curve.EaseInOut }, () =&gt; {
Â  Â  Â  Â  Â   this<span class="hljs-selector-class">.collapseT</span> = t
Â  Â  Â  Â   })
Â  Â  Â   })
Â â€‹
Â  Â  Â   <span class="hljs-comment">// ========= é¡¶éƒ¨æ ï¼ˆè¦†ç›–å±‚ï¼‰ =========</span>
Â  Â  Â   this<span class="hljs-selector-class">.TopBar</span>()
Â  Â   }
Â  Â   <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')
Â  Â   <span class="hljs-selector-class">.height</span>('<span class="hljs-number">100%</span>')
Â  Â   <span class="hljs-selector-class">.backgroundColor</span>('#F6F7F9')
Â   }
Â â€‹
Â   <span class="hljs-keyword">@Builder</span>
Â   TopBar() {
Â  Â   <span class="hljs-comment">// æ´¾ç”Ÿï¼šé«˜åº¦ä¸èƒŒæ™¯é€æ˜åº¦</span>
Â  Â   const h = <span class="hljs-built_in">lerp</span>(this.expandedH, this.collapsedH, this.collapseT)
Â  Â   const bgAlpha = <span class="hljs-built_in">lerp</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>, this.collapseT)
Â  Â   const titleOpacity = <span class="hljs-built_in">lerp</span>(<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, this.collapseT) Â  Â   <span class="hljs-comment">// å¤§æ ‡é¢˜æ¸éš</span>
Â  Â   const smallTitleOpacity = <span class="hljs-built_in">lerp</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>, this.collapseT) <span class="hljs-comment">// å°æ ‡é¢˜æ¸æ˜¾</span>
Â  Â   const shadowAlpha = <span class="hljs-built_in">lerp</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.12</span>, this.collapseT) Â  Â   <span class="hljs-comment">// é˜´å½±éšæ”¶ç¼©å‡ºç°</span>
Â â€‹
Â  Â   <span class="hljs-built_in">Stack</span>() {
Â  Â  Â   <span class="hljs-comment">// é¡¶éƒ¨æ å†…å®¹</span>
Â  Â  Â   <span class="hljs-built_in">Row</span>() {
Â  Â  Â  Â   Text('è¿”å›')
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">14</span>)
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontColor</span>('#<span class="hljs-number">2</span>F7BFF')
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.padding</span>(<span class="hljs-number">8</span>)
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.onClick</span>(() =&gt; {
Â  Â  Â  Â  Â  Â   <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> router back</span>
Â  Â  Â  Â  Â   })
Â â€‹
Â  Â  Â  Â   <span class="hljs-built_in">Blank</span>()
Â â€‹
Â  Â  Â  Â   <span class="hljs-comment">// æ”¶ç¼©åæ˜¾ç¤ºçš„å°æ ‡é¢˜ï¼ˆæ›´åƒçœŸå®é˜…è¯»å™¨ï¼‰</span>
Â  Â  Â  Â   Text('ç« èŠ‚æ ‡é¢˜')
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">16</span>)
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontWeight</span>(FontWeight.Medium)
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontColor</span>('#<span class="hljs-number">222</span>')
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.opacity</span>(smallTitleOpacity)
Â â€‹
Â  Â  Â  Â   <span class="hljs-built_in">Blank</span>()
Â â€‹
Â  Â  Â  Â   Text('ç›®å½•')
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">14</span>)
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontColor</span>('#<span class="hljs-number">2</span>F7BFF')
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.padding</span>(<span class="hljs-number">8</span>)
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.onClick</span>(() =&gt; {
Â  Â  Â  Â  Â  Â   <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> open chapter list</span>
Â  Â  Â  Â  Â   })
Â  Â  Â   }
Â  Â  Â   <span class="hljs-selector-class">.padding</span>({ left: <span class="hljs-number">12</span>, right: <span class="hljs-number">12</span> })
Â  Â  Â   <span class="hljs-selector-class">.height</span>('<span class="hljs-number">100%</span>')
Â  Â  Â   <span class="hljs-selector-class">.alignItems</span>(VerticalAlign.Center)
Â â€‹
Â  Â  Â   <span class="hljs-comment">// å±•å¼€æ€çš„å¤§æ ‡é¢˜ï¼ˆæ›´æ²‰æµ¸ã€æ›´åƒâ€œé˜…è¯»é¡µé¡¶éƒ¨ä¿¡æ¯â€ï¼‰</span>
Â  Â  Â   <span class="hljs-built_in">Column</span>() {
Â  Â  Â  Â   Text('ä¹¦å / é˜…è¯»å™¨')
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">20</span>)
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontWeight</span>(FontWeight.Bold)
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.fontColor</span>('#<span class="hljs-number">111</span>')
Â  Â  Â  Â  Â   <span class="hljs-selector-class">.opacity</span>(titleOpacity)
Â  Â  Â   }
Â  Â  Â   <span class="hljs-selector-class">.position</span>({ x: <span class="hljs-number">16</span>, y: <span class="hljs-number">10</span> })
Â  Â   }
Â  Â   <span class="hljs-comment">// å…³é”®ï¼šå¯åŠ¨ç”»é«˜åº¦ + å¯åŠ¨ç”»èƒŒæ™¯é€æ˜åº¦</span>
Â  Â   <span class="hljs-selector-class">.animHeight</span>(h)
Â  Â   <span class="hljs-selector-class">.animBgAlpha</span>(bgAlpha)
Â  Â   <span class="hljs-comment">// è½»å¾®é˜´å½±ï¼šèƒŒæ™¯å˜å®çš„æ—¶å€™å‡ºç°ä¸€ç‚¹å‹ä½æ­£æ–‡çš„æ„Ÿè§‰</span>
Â  Â   <span class="hljs-selector-class">.shadow</span>({
Â  Â  Â   radius: <span class="hljs-number">12</span>,
Â  Â  Â   color: `rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,${shadowAlpha})`,
Â  Â  Â   offsetX: <span class="hljs-number">0</span>,
Â  Â  Â   offsetY: <span class="hljs-number">6</span>
Â  Â   })
Â  Â   <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')
Â  Â   <span class="hljs-selector-class">.position</span>({ x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span> })
Â   }
Â }
</code></pre>
<hr/>
<h3 data-id="heading-12">6. è¿™æ®µä»£ç é‡Œæœ€å®¹æ˜“å¿½ç•¥çš„â€œçœŸå®ç»†èŠ‚â€</h3>
<h4 data-id="heading-13">6.1 å†…å®¹é¡¶éƒ¨ padding å¿…é¡»ç»™å‡ºæ¥</h4>
<p>ä½ çœ‹åˆ°æˆ‘è¿™é‡Œå†™äº†ï¼š</p>
<pre><code class="hljs language-css" lang="css">Â <span class="hljs-selector-class">.padding</span>({ <span class="hljs-attribute">top</span>: this.expandedH + <span class="hljs-number">8</span> })
</code></pre>
<p>è¿™æ˜¯å¾ˆç°å®çš„é—®é¢˜ï¼š é¡¶éƒ¨æ æ˜¯ overlayï¼Œå¦‚æœå†…å®¹ä¸è®©ç©ºé—´ï¼Œæ­£æ–‡ä¼šè¢«ç›–ä½ï¼Œçœ‹èµ·æ¥åƒâ€œé¡¶åˆ°çŠ¶æ€æ â€ï¼Œä½“éªŒä¼šå¾ˆå·®ã€‚</p>
<blockquote>
<p>ä½ ä¹Ÿå¯ä»¥åšå¾—æ›´ç²¾ç»†ï¼špadding è·Ÿç€é¡¶éƒ¨æ é«˜åº¦åŠ¨æ€å˜åŒ–ã€‚ ä½†ä¸€èˆ¬é˜…è¯»å™¨é‡Œä¸ºäº†ç¨³å®šï¼Œç›´æ¥ç”¨å±•å¼€é«˜åº¦å›ºå®š padding å°±å¤Ÿç”¨ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIå¸®æˆ‘æ­çŒ«çªï¼šä¸€åœºç©ºé—´æ¨ç†èƒ½åŠ›çš„å®æˆ˜æµ‹è¯„]]></title>    <link>https://juejin.cn/post/7586579021283409974</link>    <guid>https://juejin.cn/post/7586579021283409974</guid>    <pubDate>2025-12-23T01:57:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586579021283409974" data-draft-id="7586579021283393590" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIå¸®æˆ‘æ­çŒ«çªï¼šä¸€åœºç©ºé—´æ¨ç†èƒ½åŠ›çš„å®æˆ˜æµ‹è¯„"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-23T01:57:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIå¸®æˆ‘æ­çŒ«çªï¼šä¸€åœºç©ºé—´æ¨ç†èƒ½åŠ›çš„å®æˆ˜æµ‹è¯„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T01:57:04.000Z" title="Tue Dec 23 2025 01:57:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘å®¶é‡Œæœ‰ä¸¤åªâ€œçŒªå’ªâ€ï¼Œå®ƒä»¬çš„çªè¢«è‡ªå·±å‹åäº†ï¼ŒåŠ ä¸Šå†¬å¤©åœ°ä¸Šæœ‰äº›å‡‰ï¼Œå°±æƒ³ç€äº²æ‰‹ç»™å®ƒä»¬æ‰“é€ ä¸€ä¸ªåšå›ºã€æ‚¬ç©ºçš„çŒ«çª/çŒ«æ¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f3f5b9c46b040549b749b252f9ae2cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=lfNB2N6Lx%2Fo2UOD72VyvaW338q4%3D" alt="" loading="lazy"/></p>
<p>Xä¹¦æœäº†ä¸‹ï¼Œå®è·µçš„äººå€’æ˜¯ä¸å°‘ï¼Œå°±æ˜¯æ•™ç¨‹çš„ææ–™è´­ä¹°å†™çš„ä¸æ˜¯é‚£ä¹ˆæ¸…æ¥šï¼Œè¿˜éœ€è¦æˆ‘è‡ªå·±è®¡ç®—éœ€è¦å‡ æ ¹ç®¡ï¼Œå„æ˜¯å¤šé•¿çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5df3c341110c44e9933ef6592bd804be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=hm30JyvVxEyf26lHe0edifHhvL4%3D" alt="å›¾ä¾µåˆ " loading="lazy"/></p>
<p>å¯¹äºæˆ‘è¿™ç§â€œæ‡’â€äººï¼Œè‚¯å®šè¦å»â€œå‹è¿«â€ AI äº†ã€‚</p>
<h2 data-id="heading-0">å¤±è´¥çš„å°è¯•</h2>
<p>æœ¬æ¥ï¼Œæˆ‘ä»¥ä¸ºè¿™ä¸ªé—®é¢˜å¾ˆç®€å•ï¼Œå›¾ä¸€ä¼ ï¼ŒæŒ‡ä»¤ç®€å•ä¸€å†™å°±æå®šäº†ã€‚</p>
<p>ä¸å‡ºæ„å¤–åœ°å‘ç”Ÿäº†æ„å¤–ã€‚</p>
<p>å…ˆæ¥çœ‹ä¸‹æç¤ºè¯ï¼Œä¸ºäº†æ›´å¥½åœ°å¯¹æ¯”ï¼Œåç»­æ‰€æœ‰ AI çš„æç¤ºè¯éƒ½æ˜¯ä¸€è‡´çš„ã€‚</p>
<pre><code class="hljs">æˆ‘è¦ä½¿ç”¨pvcåˆ¶ä½œå¦‚å›¾çš„çŒ«çªï¼Œè¯·å¸®æˆ‘ç¼–åˆ¶åŸææ–™é‡‡è´­æ¸…å•ï¼Œæ•´ä¸ªçŒ«çªå¤§æ¦‚50cmx50cmx60cm
</code></pre>
<h3 data-id="heading-1">åƒé—®</h3>
<p>ç«Ÿç„¶åªéœ€è¦<code>4æ ¹ç«‹æŸ±</code>+<code>4æ ¹æ¨ªæ¢</code>ï¼Œè¿™å‡ºæ¥çš„ä¸œè¥¿ï¼Œè‡ªå·±éƒ½ç«™ä¸ä½å§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffe21cef70094ea98191a842a757c73f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=L8k%2FiqWZbrKoMCx5vJXn6VS61ZY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">è±†åŒ…</h3>
<p><code>PVC</code> ç®¡å€’æ˜¯åˆ†æçš„è¿˜è¡Œï¼Œå°±æ˜¯è¿æ¥ä»¶è‚¯å®šæ²¡æ³•è¿æ¥ä¸Šè¿™å‡ æ ¹ç®¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/618358d5aac24665b61ac296a3f77411~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=Jv1yOoVNgDH%2Bja8cOuu59fTf9Bw%3D" alt="" loading="lazy"/></p>
<p>å›½å†…çš„ä¸è¡Œï¼Œæˆ‘è¯•è¯•å›½å¤–çš„ã€‚</p>
<h3 data-id="heading-3">GPT-5.2</h3>
<p>æ­£å¥½å‰å‡ å¤© <code>OpenAI</code> å‘å¸ƒäº† <code>GPT-5.2</code>ï¼Œæˆ‘å°è¯•äº†ç¼–ç¨‹åœºæ™¯è¿˜ä¸é”™ï¼Œä»Šå¤©è¯•è¯•ç©ºé—´èƒ½åŠ›å¦‚ä½•ã€‚</p>
<p>é‡‡ç”¨çš„ <code>TRAE</code> ä¸‹çš„ <code>GPT-5.2</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a893b783f624d30a13e8fb2de99a11a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=VlOnlxHHhmRX28C9MS5VycFxvLQ%3D" alt="" loading="lazy"/></p>
<p>æ•´ä½“ç†è§£æ²¡ä»€ä¹ˆå¤ªå¤§é—®é¢˜ï¼Œç¡¬ç®¡çš„åˆ†æä¹Ÿæ¯”è¾ƒæ­£ç¡®ã€‚</p>
<p>ä½†æ•´ä¸ªç»“æ„æå‡ºäº† 2 ç§æ–¹æ¡ˆï¼Œå¯ä»¥è¯´æ˜¯ <code>GPT</code> æ¯”è¾ƒä¿å®ˆï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºè¯†åˆ«çš„ä¸æ˜¯ç‰¹åˆ«å‡†ç¡®ã€‚</p>
<p>å¹¶ä¸”ï¼Œå¯¹äºæ¥å£æ„ä»¶çš„çŸ¥è¯†æœ‰æ‰€æ¬ ç¼ºï¼Œæ¯”å¦‚ç«Ÿç„¶ä¸ç”¨ä¸“ä¸šåè¯â€œç«‹ä½“ä¸‰é€šâ€ï¼Œè¿™è®©æˆ‘ä¹°ä¸œè¥¿çš„æ—¶å€™æ€ä¹ˆç»™å•†å®¶è¯´ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcd76626a7d048ca9d8b3f4c117dcf27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=YyzTAJ1%2BN1%2Bj0onijMSY2kQro4k%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">æˆåŠŸçš„å°è¯•</h2>
<p>æœ€ç»ˆï¼Œæˆ‘åˆå°è¯•äº†ç©ºé—´æ„Ÿè¶…å¼ºçš„ <code>Gemini 3 Pro</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b01719c11c4468d8608be5226ade974~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=lqoAl5rAT%2Ba1oItEoUIP2ETi1F4%3D" alt="" loading="lazy"/></p>
<p>ç¡¬ç®¡çš„æ•°é‡ã€å°ºå¯¸ï¼Œéƒ½æ²¡ä»€ä¹ˆé—®é¢˜ã€‚</p>
<p>ç«‹æŸ±é‡‡ç”¨äº†ä¸¤èŠ‚çš„æ–¹å¼ï¼Œå¹¶ä¸”åˆ†åˆ«è®¡ç®—å‡ºäº†æ­£ç¡®çš„é•¿åº¦ã€‚</p>
<p>ç”šè‡³ï¼Œè¿æ¥å¤´æœ¬èº«çš„<strong>å¤šä½™å°ºå¯¸</strong>éƒ½è€ƒè™‘åˆ°äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d473ce04ddb64e60beae2a83fe73e773~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=BUDwRhsYoWAUT%2B4QPdI0lAMmOpE%3D" alt="" loading="lazy"/></p>
<p>ç¡®å®å‰å®³ã€‚</p>
<h2 data-id="heading-5">æ›´è¿›ä¸€æ­¥çš„å°è¯•</h2>
<p>æ—¢ç„¶ï¼Œ<code>Gemini 3 Pro</code> è¿™ä¹ˆå‰å®³ï¼Œé‚£æˆ‘å°±å¿ä¸ä½æƒ³è¯•è¯•å†éš¾ä¸€ç‚¹çš„äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edcff4160a914d3ba153b6ce72d4efa0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=MCdWL%2FrUx%2BPCoaKfl3YzKlivkQk%3D" alt="å›¾ä¾µåˆ " loading="lazy"/></p>
<p>æ‰¾äº†ä¸ªç¨å¾®<strong>å¼‚å½¢</strong>ä¸€ç‚¹çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76d7a356d7ea4424be503e39b362e6a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059824&amp;x-signature=dBWizNnFOzMrgpTdr2XmCuKjCTI%3D" alt="" loading="lazy"/></p>
<p>ç¡¬ç®¡æ•°é‡ã€é•¿åº¦ä¾ç„¶æ­£ç¡®ã€‚</p>
<p>ç”šè‡³è¿å¼‚å½¢æ‰€éœ€çš„â€œç«‹ä½“ä¸‰é€šâ€ï¼Œâ€œ45åº¦å¼¯å¤´â€éƒ½æ˜¯å¯¹çš„ã€‚</p>
<p>å”¯ä¸€ä¸€ä¸ªä¸å¤ªå®Œç¾çš„å°±æ˜¯â€œå‚ç›´ç«‹æŸ±â€çš„ä¸Šä¸‹æ®µæ‹†åˆ†é•¿åº¦ï¼ˆ20cm+20cmï¼‰ä¸å¤ªå®Œç¾ã€‚</p>
<p>ä¸è¿‡ï¼Œä¾ç„¶éå¸¸æƒŠè‰³ã€‚</p>
<h2 data-id="heading-6">ç»“è¯­</h2>
<p>æœ¬æ¥åªæ˜¯æƒ³ç®€å•çš„å·ç‚¹æ‡’ï¼Œæ²¡æƒ³åˆ°å„ <code>AI</code> çš„ç©ºé—´ç†è§£èƒ½åŠ›ç›¸å·®ç«Ÿç„¶å¦‚æ­¤ä¹‹å¤§ã€‚</p>
<p>è¿˜å¥½æœ€ç»ˆ <code>Gemini 3 Pro</code> ç»™å‡ºäº†æ¯”è¾ƒå®Œç¾çš„ç»“æœã€‚ä¸ç„¶ï¼Œä»Šå¤©çŒ«çªçš„åŸæ–™é‡‡è´­éƒ½æä¸å®Œäº†ã€‚</p>
<p>ç°æœ‰ AI è‚¯å®šä¸èƒ½å®Œå…¨æå®šå…¨éƒ¨äº‹æƒ…ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸æ–­å°è¯•å¹¶äº†è§£å„ä¸ª AI çš„è„¾æ€§ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½åœ°åˆ©ç”¨ AI èƒ½åŠ›å¸®æˆ‘ä»¬è§£å†³é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOS ArkTSï¼šè‡ªåŠ¨â€œç¼“å­˜æ± å¤ç”¨ç›‘æ§æ—¥å¿—â€æ€ä¹ˆåš]]></title>    <link>https://juejin.cn/post/7586505172815298611</link>    <guid>https://juejin.cn/post/7586505172815298611</guid>    <pubDate>2025-12-22T14:18:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815298611" data-draft-id="7586482860104237083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOS ArkTSï¼šè‡ªåŠ¨â€œç¼“å­˜æ± å¤ç”¨ç›‘æ§æ—¥å¿—â€æ€ä¹ˆåš"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-22T14:18:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸…å“¥ä¸€å¤©å…«ç¢—ç±³é¥­"/> <meta itemprop="url" content="https://juejin.cn/user/4026886813920339"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOS ArkTSï¼šè‡ªåŠ¨â€œç¼“å­˜æ± å¤ç”¨ç›‘æ§æ—¥å¿—â€æ€ä¹ˆåš
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4026886813920339/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸…å“¥ä¸€å¤©å…«ç¢—ç±³é¥­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:18:23.000Z" title="Mon Dec 22 2025 14:18:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">HarmonyOS ArkTSï¼šè‡ªåŠ¨â€œç¼“å­˜æ± å¤ç”¨ç›‘æ§æ—¥å¿—â€æ€ä¹ˆåš</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F4109a3b759684c5386806e1fe6db5988%3Ftype%3D1%253Fha_source%253Dhmosclass%26ha_sourceId%3D89000248" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/4109a3b759684c5386806e1fe6db5988?type=1%3Fha_source%3Dhmosclass&amp;ha_sourceId=89000248" ref="nofollow noopener noreferrer">ä¸€èµ·æ¥æ„å»ºç”Ÿæ€å§~</a></p>
<blockquote>
<p>å…ˆè¯´ç»“è®ºï¼šArkUI çš„ <code>@Reusable</code> <strong>å¤ç”¨æ± æœ¬èº«ä¸æ˜¯ä¸€ä¸ªä½ èƒ½ç›´æ¥æ‹¿åˆ°çš„å¯¹è±¡</strong>ï¼Œä¹Ÿæ²¡æœ‰ä¸€ä¸ªå®˜æ–¹ API è®©ä½ â€œè¯»å‡ºå½“å‰æ± å­é‡Œæœ‰å¤šå°‘ä¸ªå®ä¾‹â€ã€‚ æ‰€ä»¥æ‰€è°“â€œç›‘æ§å¤ç”¨æ± â€ï¼Œæœ¬è´¨ä¸Šæ˜¯ï¼š âœ… <strong>é€šè¿‡ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå›è°ƒ + ç»Ÿä¸€æ‰“ç‚¹å·¥å…·</strong>ï¼Œå»<strong>æ¨æ–­</strong>å¤ç”¨å‘ç”Ÿäº†å¤šå°‘æ¬¡ã€å“ªäº›ç»„ä»¶åœ¨å¤ç”¨ã€æœ‰æ²¡æœ‰çŠ¶æ€æ²¡é‡ç½®å¯¼è‡´ä¸²æ•°æ®ã€‚</p>
</blockquote>
<p>ä¸‹é¢ç»™ä½ ä¸€å¥—æˆ‘åœ¨é¡¹ç›®é‡Œä¼šç”¨çš„â€œç›‘æ§æ–¹æ¡ˆâ€ï¼Œç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>ä¾µå…¥æ€§ä½ï¼ˆåŠ å‡ è¡Œå°±èƒ½çœ‹åˆ°å¤ç”¨æƒ…å†µï¼‰</li>
<li>æ—¥å¿—æ¸…æ™°ï¼ˆåˆ›å»º / å¤ç”¨ / é€€å‡º / é‡ç½®ï¼‰</li>
<li>èƒ½æŒ‰ <code>reuseId</code> å½’ç±»ç»Ÿè®¡</li>
<li>èƒ½å®šä½â€œå¤ç”¨å¯¼è‡´çš„è„çŠ¶æ€â€é—®é¢˜</li>
</ul>
<hr/>
<h3 data-id="heading-1">1ï¼‰ç›‘æ§ç›®æ ‡ï¼šæˆ‘ä»¬åˆ°åº•æƒ³çœ‹åˆ°ä»€ä¹ˆï¼Ÿ</h3>
<p>æˆ‘å»ºè®®è‡³å°‘æŠŠè¿™ 4 ç±»ä¿¡æ¯æ‰“å‡ºæ¥ï¼š</p>
<ol start="0">
<li><strong>create</strong>ï¼šé¦–æ¬¡åˆ›å»ºï¼ˆä¸æ˜¯å¤ç”¨æ± æ‹¿å‡ºæ¥çš„ï¼‰</li>
<li><strong>reuse</strong>ï¼šä»å¤ç”¨æ± ä¸­å–å‡ºå†åˆ©ç”¨ï¼ˆå…³é”®æŒ‡æ ‡ï¼‰</li>
<li><strong>detach / disappear</strong>ï¼šä»æ ‘ä¸Šç§»é™¤/ä¸å¯è§ï¼ˆè¿›å…¥å¤ç”¨æ± çš„å‰ç½®æ¡ä»¶ï¼‰</li>
<li><strong>state reset</strong>ï¼šå¤ç”¨æ—¶ä½ åšäº†å“ªäº›é‡ç½®ï¼ˆé˜²ä¸²æ•°æ®ï¼‰</li>
</ol>
<p>ç„¶åç»Ÿè®¡ä¸¤ä¸ªæ ¸å¿ƒæŒ‡æ ‡ï¼š</p>
<ul>
<li><code>reuseRate = reuseCount / (createCount + reuseCount)</code></li>
<li><code>activeCount</code>ï¼šå½“å‰åœ¨æ ‘ä¸Šçš„å®ä¾‹æ•°ï¼ˆå¸®åŠ©åˆ¤æ–­åˆ—è¡¨æ»šåŠ¨æ—¶æ˜¯å¦ç¨³å®šï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-2">2ï¼‰æ ¸å¿ƒæ€è·¯ï¼šåšä¸€ä¸ªå…¨å±€ ReusePoolMonitorï¼ˆåªç®¡æ—¥å¿—å’Œè®¡æ•°ï¼‰</h3>
<p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">Â entry/src/main/ets/utils/<span class="hljs-title class_">ReusePoolMonitor</span>.<span class="hljs-property">ts</span>
Â <span class="hljs-comment">// entry/src/main/ets/utils/ReusePoolMonitor.ts</span>
Â <span class="hljs-keyword">type</span> <span class="hljs-title class_">ReuseEvent</span> =
Â   | <span class="hljs-string">'create'</span>
Â   | <span class="hljs-string">'reuse'</span>
Â   | <span class="hljs-string">'appear'</span>
Â   | <span class="hljs-string">'disappear'</span>
Â   | <span class="hljs-string">'reset'</span>;
Â â€‹
Â <span class="hljs-keyword">type</span> <span class="hljs-title class_">MonitorKey</span> = <span class="hljs-built_in">string</span>; <span class="hljs-comment">// é€šå¸¸ç”¨: `${reuseId}:${componentName}`</span>
Â â€‹
Â <span class="hljs-keyword">interface</span> <span class="hljs-title class_">InstanceInfo</span> {
Â   <span class="hljs-attr">instanceId</span>: <span class="hljs-built_in">string</span>; Â  Â  <span class="hljs-comment">// ä½ è‡ªå·±ç”Ÿæˆçš„ id</span>
Â   <span class="hljs-attr">firstSeenAt</span>: <span class="hljs-built_in">number</span>;
Â   <span class="hljs-attr">lastEventAt</span>: <span class="hljs-built_in">number</span>;
Â   lastItemKey?: <span class="hljs-built_in">string</span>; Â  <span class="hljs-comment">// ä¸šåŠ¡æ•°æ® keyï¼ˆä¾‹å¦‚ item.idï¼‰</span>
Â }
Â â€‹
Â <span class="hljs-keyword">interface</span> <span class="hljs-title class_">GroupStats</span> {
Â   <span class="hljs-attr">createCount</span>: <span class="hljs-built_in">number</span>;
Â   <span class="hljs-attr">reuseCount</span>: <span class="hljs-built_in">number</span>;
Â   <span class="hljs-attr">appearCount</span>: <span class="hljs-built_in">number</span>;
Â   <span class="hljs-attr">disappearCount</span>: <span class="hljs-built_in">number</span>;
Â   <span class="hljs-attr">resetCount</span>: <span class="hljs-built_in">number</span>;
Â   <span class="hljs-attr">activeInstanceIds</span>: <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;;
Â   <span class="hljs-attr">instances</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">InstanceInfo</span>&gt;; <span class="hljs-comment">// instanceId -&gt; info</span>
Â }
Â â€‹
Â <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReusePoolMonitor</span> {
Â   <span class="hljs-keyword">private</span> <span class="hljs-attr">groups</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">MonitorKey</span>, <span class="hljs-title class_">GroupStats</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
Â   <span class="hljs-keyword">private</span> <span class="hljs-attr">enabled</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;
Â â€‹
Â   <span class="hljs-title function_">enable</span>(<span class="hljs-params">on: <span class="hljs-built_in">boolean</span></span>) {
Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">enabled</span> = on;
Â   }
Â â€‹
Â   <span class="hljs-keyword">private</span> <span class="hljs-title function_">getGroup</span>(<span class="hljs-attr">key</span>: <span class="hljs-title class_">MonitorKey</span>): <span class="hljs-title class_">GroupStats</span> {
Â  Â   <span class="hljs-keyword">let</span> g = <span class="hljs-variable language_">this</span>.<span class="hljs-property">groups</span>.<span class="hljs-title function_">get</span>(key);
Â  Â   <span class="hljs-keyword">if</span> (!g) {
Â  Â  Â   g = {
Â  Â  Â  Â   <span class="hljs-attr">createCount</span>: <span class="hljs-number">0</span>,
Â  Â  Â  Â   <span class="hljs-attr">reuseCount</span>: <span class="hljs-number">0</span>,
Â  Â  Â  Â   <span class="hljs-attr">appearCount</span>: <span class="hljs-number">0</span>,
Â  Â  Â  Â   <span class="hljs-attr">disappearCount</span>: <span class="hljs-number">0</span>,
Â  Â  Â  Â   <span class="hljs-attr">resetCount</span>: <span class="hljs-number">0</span>,
Â  Â  Â  Â   <span class="hljs-attr">activeInstanceIds</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">string</span>&gt;(),
Â  Â  Â  Â   <span class="hljs-attr">instances</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">InstanceInfo</span>&gt;(),
Â  Â  Â   };
Â  Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">groups</span>.<span class="hljs-title function_">set</span>(key, g);
Â  Â   }
Â  Â   <span class="hljs-keyword">return</span> g;
Â   }
Â â€‹
Â   <span class="hljs-title function_">mark</span>(<span class="hljs-params">
Â  Â   groupKey: MonitorKey,
Â  Â   event: ReuseEvent,
Â  Â   payload: { instanceId: <span class="hljs-built_in">string</span>; itemKey?: <span class="hljs-built_in">string</span>; extra?: <span class="hljs-built_in">string</span> } = { instanceId: <span class="hljs-string">'unknown'</span> }
Â   </span>) {
Â  Â   <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">enabled</span>) <span class="hljs-keyword">return</span>;
Â â€‹
Â  Â   <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
Â  Â   <span class="hljs-keyword">const</span> g = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getGroup</span>(groupKey);
Â â€‹
Â  Â   <span class="hljs-comment">// ç»´æŠ¤å®ä¾‹ä¿¡æ¯</span>
Â  Â   <span class="hljs-keyword">let</span> info = g.<span class="hljs-property">instances</span>.<span class="hljs-title function_">get</span>(payload.<span class="hljs-property">instanceId</span>);
Â  Â   <span class="hljs-keyword">if</span> (!info) {
Â  Â  Â   info = {
Â  Â  Â  Â   <span class="hljs-attr">instanceId</span>: payload.<span class="hljs-property">instanceId</span>,
Â  Â  Â  Â   <span class="hljs-attr">firstSeenAt</span>: now,
Â  Â  Â  Â   <span class="hljs-attr">lastEventAt</span>: now,
Â  Â  Â  Â   <span class="hljs-attr">lastItemKey</span>: payload.<span class="hljs-property">itemKey</span>,
Â  Â  Â   };
Â  Â  Â   g.<span class="hljs-property">instances</span>.<span class="hljs-title function_">set</span>(payload.<span class="hljs-property">instanceId</span>, info);
Â  Â   } <span class="hljs-keyword">else</span> {
Â  Â  Â   info.<span class="hljs-property">lastEventAt</span> = now;
Â  Â  Â   <span class="hljs-keyword">if</span> (payload.<span class="hljs-property">itemKey</span> !== <span class="hljs-literal">undefined</span>) info.<span class="hljs-property">lastItemKey</span> = payload.<span class="hljs-property">itemKey</span>;
Â  Â   }
Â â€‹
Â  Â   <span class="hljs-comment">// ç»Ÿè®¡</span>
Â  Â   <span class="hljs-keyword">switch</span> (event) {
Â  Â  Â   <span class="hljs-keyword">case</span> <span class="hljs-string">'create'</span>:
Â  Â  Â  Â   g.<span class="hljs-property">createCount</span>++;
Â  Â  Â  Â   <span class="hljs-keyword">break</span>;
Â  Â  Â   <span class="hljs-keyword">case</span> <span class="hljs-string">'reuse'</span>:
Â  Â  Â  Â   g.<span class="hljs-property">re_toggleReuseCount</span> ? <span class="hljs-literal">null</span> : <span class="hljs-literal">null</span>; <span class="hljs-comment">// å ä½é¿å…ä½ å¤åˆ¶åè¯¯åˆ ç»“æ„</span>
Â  Â  Â  Â   g.<span class="hljs-property">reuseCount</span>++;
Â  Â  Â  Â   <span class="hljs-keyword">break</span>;
Â  Â  Â   <span class="hljs-keyword">case</span> <span class="hljs-string">'appear'</span>:
Â  Â  Â  Â   g.<span class="hljs-property">appearCount</span>++;
Â  Â  Â  Â   g.<span class="hljs-property">activeInstanceIds</span>.<span class="hljs-title function_">add</span>(payload.<span class="hljs-property">instanceId</span>);
Â  Â  Â  Â   <span class="hljs-keyword">break</span>;
Â  Â  Â   <span class="hljs-keyword">case</span> <span class="hljs-string">'disappear'</span>:
Â  Â  Â  Â   g.<span class="hljs-property">disappearCount</span>++;
Â  Â  Â  Â   g.<span class="hljs-property">activeInstanceIds</span>.<span class="hljs-title function_">delete</span>(payload.<span class="hljs-property">instanceId</span>);
Â  Â  Â  Â   <span class="hljs-keyword">break</span>;
Â  Â  Â   <span class="hljs-keyword">case</span> <span class="hljs-string">'reset'</span>:
Â  Â  Â  Â   g.<span class="hljs-property">resetCount</span>++;
Â  Â  Â  Â   <span class="hljs-keyword">break</span>;
Â  Â   }
Â â€‹
Â  Â   <span class="hljs-comment">// æ—¥å¿—è¾“å‡ºï¼ˆæ ¼å¼å°½é‡â€œäººèƒ½çœ‹æ‡‚â€ï¼‰</span>
Â  Â   <span class="hljs-keyword">const</span> itemPart = payload.<span class="hljs-property">itemKey</span> !== <span class="hljs-literal">undefined</span> ? <span class="hljs-string">` itemKey=<span class="hljs-subst">${payload.itemKey}</span>`</span> : <span class="hljs-string">''</span>;
Â  Â   <span class="hljs-keyword">const</span> extraPart = payload.<span class="hljs-property">extra</span> ? <span class="hljs-string">` <span class="hljs-subst">${payload.extra}</span>`</span> : <span class="hljs-string">''</span>;
Â  Â   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(
Â  Â  Â   <span class="hljs-string">`[ReusableMonitor] [<span class="hljs-subst">${groupKey}</span>] <span class="hljs-subst">${event}</span> instance=<span class="hljs-subst">${payload.instanceId}</span><span class="hljs-subst">${itemPart}</span> active=<span class="hljs-subst">${g.activeInstanceIds.size}</span><span class="hljs-subst">${extraPart}</span>`</span>
Â  Â   );
Â   }
Â â€‹
Â   <span class="hljs-title function_">snapshot</span>(<span class="hljs-params">groupKey?: MonitorKey</span>) {
Â  Â   <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">enabled</span>) <span class="hljs-keyword">return</span>;
Â â€‹
Â  Â   <span class="hljs-keyword">const</span> keys = groupKey ? [groupKey] : <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">groups</span>.<span class="hljs-title function_">keys</span>());
Â  Â   keys.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">k</span>) =&gt;</span> {
Â  Â  Â   <span class="hljs-keyword">const</span> g = <span class="hljs-variable language_">this</span>.<span class="hljs-property">groups</span>.<span class="hljs-title function_">get</span>(k);
Â  Â  Â   <span class="hljs-keyword">if</span> (!g) <span class="hljs-keyword">return</span>;
Â â€‹
Â  Â  Â   <span class="hljs-keyword">const</span> total = g.<span class="hljs-property">createCount</span> + g.<span class="hljs-property">reuseCount</span>;
Â  Â  Â   <span class="hljs-keyword">const</span> reuseRate = total === <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : (g.<span class="hljs-property">reuseCount</span> / total) * <span class="hljs-number">100</span>;
Â â€‹
Â  Â  Â   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(
Â  Â  Â  Â   <span class="hljs-string">`[ReusableMonitor] [<span class="hljs-subst">${k}</span>] SNAPSHOT create=<span class="hljs-subst">${g.createCount}</span> reuse=<span class="hljs-subst">${g.reuseCount}</span> reuseRate=<span class="hljs-subst">${reuseRate.toFixed(
Â  Â  Â  Â  Â   <span class="hljs-number">1</span>
Â  Â  Â  Â   )}</span>% appear=<span class="hljs-subst">${g.appearCount}</span> disappear=<span class="hljs-subst">${g.disappearCount}</span> reset=<span class="hljs-subst">${g.resetCount}</span> active=<span class="hljs-subst">${g.activeInstanceIds.size}</span> knownInstances=<span class="hljs-subst">${g.instances.size}</span>`</span>
Â  Â  Â   );
Â  Â   });
Â   }
Â }
Â â€‹
Â <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> reuseMonitor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReusePoolMonitor</span>();
</code></pre>
<blockquote>
<p>è¯´æ˜ï¼šä¸Šé¢æˆ‘ç”¨çš„æ˜¯â€œæ¨æ–­å¼ç›‘æ§â€ã€‚ä½ åªè¦åœ¨ç”Ÿå‘½å‘¨æœŸé‡Œè°ƒç”¨ <code>reuseMonitor.mark(...)</code>ï¼Œå°±èƒ½çœ‹åˆ°å¤ç”¨æ˜¯å¦å‘ç”Ÿã€å‘ç”Ÿé¢‘ç‡å¦‚ä½•ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">3ï¼‰åœ¨ <code>@Reusable</code> ç»„ä»¶é‡Œæ¥å…¥ç›‘æ§ï¼ˆå…³é”®ï¼šå®ä¾‹ ID + itemKeyï¼‰</h3>
<h4 data-id="heading-4">3.1 ä¸€ä¸ªå¯å¤ç”¨çš„åˆ—è¡¨é¡¹ç»„ä»¶ï¼ˆå¸¦ç›‘æ§æ—¥å¿—ï¼‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">Â <span class="hljs-comment">// entry/src/main/ets/components/BookRow.ets</span>
Â â€‹
Â <span class="hljs-keyword">import</span> { reuseMonitor } from <span class="hljs-string">'../utils/ReusePoolMonitor'</span>;
Â â€‹
Â <span class="hljs-meta">@Reusable</span>
Â <span class="hljs-meta">@Component</span>
Â export struct BookRow {
Â   <span class="hljs-comment">// ä¸šåŠ¡å…¥å‚ï¼šåˆ—è¡¨æ•°æ®</span>
Â   <span class="hljs-meta">@Prop</span> itemId: string = <span class="hljs-string">''</span>
Â   <span class="hljs-meta">@Prop</span> title: string = <span class="hljs-string">''</span>
Â â€‹
Â   <span class="hljs-comment">// ç»™æ¯ä¸ªç»„ä»¶å®ä¾‹ä¸€ä¸ªå›ºå®šçš„ idï¼ˆç”¨äºè¿½è¸ªåŒä¸€ä¸ªå®ä¾‹è¢«å¤ç”¨å¤šå°‘æ¬¡ï¼‰</span>
Â   <span class="hljs-keyword">private</span> instanceId: string = `BookRow#${Math.random().toString(<span class="hljs-number">16</span>).slice(<span class="hljs-number">2</span>)}`;
Â â€‹
Â   <span class="hljs-comment">// ä½ ç»„ä»¶é‡Œå¯èƒ½æœ‰ @Stateï¼Œè¿™å°±æ˜¯æœ€å®¹æ˜“â€œå¤ç”¨ä¸²æ•°æ®â€çš„åœ°æ–¹</span>
Â   <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> highlight: boolean = <span class="hljs-literal">false</span>;
Â â€‹
Â   aboutToAppear() {
Â  Â   <span class="hljs-comment">// è¯´æ˜ï¼šaboutToAppear æ›´åƒâ€œè¿›æ ‘å‰â€ï¼Œä½ å¯ä»¥å½“ä½œ appear</span>
Â  Â   reuseMonitor.mark(<span class="hljs-string">'BookRow:default'</span>, <span class="hljs-string">'appear'</span>, {
Â  Â  Â   instanceId: <span class="hljs-keyword">this</span>.instanceId,
Â  Â  Â   itemKey: <span class="hljs-keyword">this</span>.itemId,
Â  Â   });
Â   }
Â â€‹
Â   aboutToDisappear() {
Â  Â   reuseMonitor.mark(<span class="hljs-string">'BookRow:default'</span>, <span class="hljs-string">'disappear'</span>, {
Â  Â  Â   instanceId: <span class="hljs-keyword">this</span>.instanceId,
Â  Â  Â   itemKey: <span class="hljs-keyword">this</span>.itemId,
Â  Â   });
Â   }
Â â€‹
Â   <span class="hljs-comment">// å¤ç”¨å‘ç”Ÿæ—¶ä¼šèµ°è¿™é‡Œï¼ˆé‡ç‚¹ï¼‰</span>
Â   aboutToReuse(params: Record&lt;string, <span class="hljs-keyword">object</span>&gt;) {
Â  Â   <span class="hljs-comment">// params é‡Œé€šå¸¸ä¼šå¸¦æ–°çš„å…¥å‚ï¼ˆä¸åŒç‰ˆæœ¬/å†™æ³•ä¼šæœ‰å·®å¼‚ï¼Œä½ æŒ‰ä½ é¡¹ç›®å®é™…æ¥å–ï¼‰</span>
Â  Â   <span class="hljs-comment">// è¿™é‡Œæˆ‘ä»¬åªæ¼”ç¤ºï¼šå¤ç”¨æ—¶é‡ç½®çŠ¶æ€ + æ‰“æ—¥å¿—</span>
Â  Â   reuseMonitor.mark(<span class="hljs-string">'BookRow:default'</span>, <span class="hljs-string">'reuse'</span>, {
Â  Â  Â   instanceId: <span class="hljs-keyword">this</span>.instanceId,
Â  Â  Â   itemKey: <span class="hljs-keyword">this</span>.itemId,
Â  Â  Â   extra: <span class="hljs-string">'(before reset)'</span>,
Â  Â   });
Â â€‹
Â  Â   <span class="hljs-comment">// âœ… å¤ç”¨æœ€å…³é”®çš„ä¸€æ­¥ï¼šé‡ç½®æœ¬åœ°çŠ¶æ€ï¼Œé¿å…ä¸²æ•°æ®</span>
Â  Â   <span class="hljs-keyword">this</span>.highlight = <span class="hljs-literal">false</span>;
Â  Â   reuseMonitor.mark(<span class="hljs-string">'BookRow:default'</span>, <span class="hljs-string">'reset'</span>, {
Â  Â  Â   instanceId: <span class="hljs-keyword">this</span>.instanceId,
Â  Â  Â   itemKey: <span class="hljs-keyword">this</span>.itemId,
Â  Â  Â   extra: <span class="hljs-string">'highlight=false'</span>,
Â  Â   });
Â   }
Â â€‹
Â   <span class="hljs-comment">// é¦–æ¬¡åˆ›å»ºæ—¶è®°å½• createï¼ˆä½ å¯ä»¥æ”¾åœ¨ aboutToAppear çš„ç¬¬ä¸€æ¬¡è§¦å‘é‡Œï¼Œè¿™é‡Œç®€å•èµ·è§å†™åœ¨æ„é€ é€»è¾‘é™„è¿‘ä¸å¤ªå¥½åˆ¤æ–­ï¼‰</span>
Â   <span class="hljs-comment">// å®é™…ä¸Šï¼šæˆ‘ä»¬ç”¨ä¸€ä¸ªå°æŠ€å·§ â€”â€” instanceId åˆæ¬¡å‡ºç°æ—¶åœ¨ monitor å†…ä¼šæ–°å¢å®ä¾‹ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠ â€œfirstSeenAtâ€ å½“ create</span>
Â   <span class="hljs-comment">// å¦‚æœä½ ä¸€å®šè¦æ˜ç¡® createï¼Œå¯ä»¥åœ¨ aboutToAppear é‡Œåˆ¤æ–­ä¸€ä¸ª flagã€‚</span>
Â   <span class="hljs-keyword">private</span> createdOnce: boolean = <span class="hljs-literal">false</span>;
Â â€‹
Â   build() {
Â  Â   <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.createdOnce) {
Â  Â  Â   <span class="hljs-keyword">this</span>.createdOnce = <span class="hljs-literal">true</span>;
Â  Â  Â   reuseMonitor.mark(<span class="hljs-string">'BookRow:default'</span>, <span class="hljs-string">'create'</span>, {
Â  Â  Â  Â   instanceId: <span class="hljs-keyword">this</span>.instanceId,
Â  Â  Â  Â   itemKey: <span class="hljs-keyword">this</span>.itemId,
Â  Â  Â   });
Â  Â   }
Â â€‹
Â  Â   Row() {
Â  Â  Â   Text(<span class="hljs-keyword">this</span>.title)
Â  Â  Â  Â   .fontSize(<span class="hljs-number">16</span>)
Â  Â  Â  Â   .fontColor(<span class="hljs-keyword">this</span>.highlight ? <span class="hljs-string">'#2F7BFF'</span> : <span class="hljs-string">'#222'</span>)
Â  Â  Â   Blank()
Â  Â  Â   Text(<span class="hljs-keyword">this</span>.itemId)
Â  Â  Â  Â   .fontSize(<span class="hljs-number">12</span>)
Â  Â  Â  Â   .fontColor(<span class="hljs-string">'#999'</span>)
Â  Â   }
Â  Â   .padding({ left: <span class="hljs-number">16</span>, right: <span class="hljs-number">16</span>, top: <span class="hljs-number">12</span>, bottom: <span class="hljs-number">12</span> })
Â  Â   .backgroundColor(<span class="hljs-string">'#FFF'</span>)
Â  Â   .onClick(() =&gt; {
Â  Â  Â   <span class="hljs-keyword">this</span>.highlight = !<span class="hljs-keyword">this</span>.highlight;
Â  Â   })
Â   }
Â }
</code></pre>
<blockquote>
<p>ä½ ä¼šå‘ç°æˆ‘ç‰¹åˆ«å¼ºè°ƒ <code>@State</code> çš„ resetã€‚ å› ä¸ºå¤ç”¨çš„ bugï¼Œåæœ‰å…«ä¹å°±æ˜¯ï¼š<strong>ä¸Šä¸€ä¸ª item çš„çŠ¶æ€æ®‹ç•™åˆ°äº†ä¸‹ä¸€ä¸ª item</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">4ï¼‰åœ¨åˆ—è¡¨é‡Œä½¿ç”¨ï¼Œå¹¶ä¸”å®šæœŸæ‰“ Snapshotï¼ˆæ›´åƒçœŸå®æ’æŸ¥ï¼‰</h3>
<pre><code class="hljs language-typescript" lang="typescript">Â <span class="hljs-comment">// entry/src/main/ets/pages/ReuseListDemo.ets</span>
Â <span class="hljs-keyword">import</span> { reuseMonitor } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/ReusePoolMonitor'</span>;
Â <span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookRow</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../components/BookRow'</span>;
Â â€‹
Â <span class="hljs-meta">@Entry</span>
Â <span class="hljs-meta">@Component</span>
Â struct <span class="hljs-title class_">ReuseListDemo</span> {
Â   <span class="hljs-meta">@State</span> <span class="hljs-attr">items</span>: <span class="hljs-title class_">Array</span>&lt;{ <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span> }&gt; = []
Â â€‹
Â   <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"/>) {
Â  Â   <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
Â  Â  Â   <span class="hljs-attr">id</span>: <span class="hljs-string">`ID-<span class="hljs-subst">${i}</span>`</span>,
Â  Â  Â   <span class="hljs-attr">title</span>: <span class="hljs-string">`ç¬¬ <span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span> æœ¬ä¹¦ï¼šç¤ºä¾‹æ ‡é¢˜`</span>,
Â  Â   }));
Â â€‹
Â  Â   <span class="hljs-comment">// æ¯éš” 2 ç§’è¾“å‡ºä¸€æ¬¡å¿«ç…§ï¼ˆè°ƒè¯•ç”¨ï¼Œä¸Šçº¿å‰å…³æ‰ï¼‰</span>
Â  Â   <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
Â  Â  Â   reuseMonitor.<span class="hljs-title function_">snapshot</span>(<span class="hljs-string">'BookRow:default'</span>);
Â  Â   }, <span class="hljs-number">2000</span>);
Â   }
Â â€‹
Â   <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
Â  Â   <span class="hljs-title class_">List</span>() {
Â  Â  Â   <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>, <span class="hljs-function">(<span class="hljs-params">it</span>) =&gt;</span> {
Â  Â  Â  Â   <span class="hljs-title class_">ListItem</span>() {
Â  Â  Â  Â  Â   <span class="hljs-title class_">BookRow</span>({ <span class="hljs-attr">itemId</span>: it.<span class="hljs-property">id</span>, <span class="hljs-attr">title</span>: it.<span class="hljs-property">title</span> })
Â  Â  Â  Â  Â  Â   .<span class="hljs-title function_">reuseId</span>(<span class="hljs-string">'BookRow:default'</span>) <span class="hljs-comment">// å¤ç”¨åˆ†ç»„ï¼šåŒç»„æ‰èƒ½å¤ç”¨</span>
Â  Â  Â  Â   }
Â  Â  Â   }, <span class="hljs-function">(<span class="hljs-params">it</span>) =&gt;</span> it.<span class="hljs-property">id</span>) <span class="hljs-comment">// key å¾ˆé‡è¦ï¼šå¸®åŠ©æ¡†æ¶ç¨³å®šè¯†åˆ« item</span>
Â  Â   }
Â  Â   .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
Â  Â   .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
Â  Â   .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F6F7F9'</span>)
Â   }
Â }
</code></pre>
<hr/>
<h3 data-id="heading-6">5ï¼‰ä½ ä¼šçœ‹åˆ°æ€æ ·çš„æ—¥å¿—ï¼Ÿæ€ä¹ˆè¯»æ‰â€œæœ‰ç”¨â€ï¼Ÿ</h3>
<p>ä½ æ»šåŠ¨åˆ—è¡¨æ—¶ï¼Œå¤§è‡´ä¼šçœ‹åˆ°ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Â <span class="hljs-section">[ReusableMonitor]</span> <span class="hljs-section">[BookRow:default]</span> create <span class="hljs-attr">instance</span>=BookRow<span class="hljs-comment">#9af3 itemKey=ID-0 active=1</span>
Â <span class="hljs-section">[ReusableMonitor]</span> <span class="hljs-section">[BookRow:default]</span> appear <span class="hljs-attr">instance</span>=BookRow<span class="hljs-comment">#9af3 itemKey=ID-0 active=1</span>
Â â€‹
Â ...æ»šåŠ¨...
Â â€‹
Â <span class="hljs-section">[ReusableMonitor]</span> <span class="hljs-section">[BookRow:default]</span> disappear <span class="hljs-attr">instance</span>=BookRow<span class="hljs-comment">#9af3 itemKey=ID-0 active=10</span>
Â <span class="hljs-section">[ReusableMonitor]</span> <span class="hljs-section">[BookRow:default]</span> reuse <span class="hljs-attr">instance</span>=BookRow<span class="hljs-comment">#9af3 itemKey=ID-20 active=10 (before reset)</span>
Â <span class="hljs-section">[ReusableMonitor]</span> <span class="hljs-section">[BookRow:default]</span> reset <span class="hljs-attr">instance</span>=BookRow<span class="hljs-comment">#9af3 itemKey=ID-20 active=10 highlight=false</span>
Â <span class="hljs-section">[ReusableMonitor]</span> <span class="hljs-section">[BookRow:default]</span> appear <span class="hljs-attr">instance</span>=BookRow<span class="hljs-comment">#9af3 itemKey=ID-20 active=10</span>
</code></pre>
<p>è¿™è¡Œæ—¥å¿—çš„â€œäººè¯è§£è¯»â€æ˜¯ï¼š</p>
<ul>
<li><code>BookRow#9af3</code> è¿™ä¸ªå®ä¾‹åŸæ¥æ˜¾ç¤º <code>ID-0</code></li>
<li>æ»šå‡ºå±å¹•å <code>disappear</code></li>
<li>å†æ¬¡è¢«æ‹¿å‡ºæ¥å¤ç”¨æ˜¾ç¤º <code>ID-20</code></li>
<li>å¤ç”¨æ—¶æˆ‘ä»¬é‡ç½®äº† highlightï¼Œé¿å…ä¸²æ•°æ®</li>
<li>ç„¶åé‡æ–° appear</li>
</ul>
<p>å¿«ç…§ä¼šè¾“å‡ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Â SNAPSHOT <span class="hljs-attr">create</span>=<span class="hljs-number">12</span> reuse=<span class="hljs-number">180</span> reuseRate=<span class="hljs-number">93.8</span>% appear=... disappear=... reset=<span class="hljs-number">180</span> active=<span class="hljs-number">10</span> knownInstances=<span class="hljs-number">12</span>
</code></pre>
<p>é‡ç‚¹çœ‹ä¸¤ä¸ªæ•°ï¼š</p>
<ul>
<li><code>reuseRate</code>ï¼šè¶Šé«˜è¯´æ˜å¤ç”¨è¶Šå……åˆ†ï¼ˆé€šå¸¸é•¿åˆ—è¡¨ä¼šéå¸¸é«˜ï¼‰</li>
<li><code>knownInstances</code>ï¼šåŸºæœ¬èƒ½è¿‘ä¼¼ç†è§£ä¸ºâ€œæ± å­é‡Œæ›¾ç»åˆ›å»ºè¿‡å¤šå°‘ä¸ªå®ä¾‹â€ï¼ˆä¸ä¼šæ— é™å¢é•¿çš„è¯ï¼Œè¯´æ˜å¤ç”¨ç¨³å®šï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-7">6ï¼‰æœ€å¸¸è§çš„â€œå¤ç”¨ä¸²æ•°æ®â€æ€ä¹ˆç”¨æ—¥å¿—å®šä½ï¼Ÿ</h3>
<h4 data-id="heading-8">ç—‡çŠ¶</h4>
<p>ä½ å‘ç°æŸä¸€è¡Œé«˜äº®äº†ã€æŒ‰é’® disabled äº†ã€è¿›åº¦æ¡åœåœ¨æŸä¸ªå€¼â€¦â€¦ä½†é‚£æ˜¯ä¸Šä¸€æ¡æ•°æ®çš„çŠ¶æ€ã€‚</p>
<h4 data-id="heading-9">å®šä½æ–¹å¼ï¼ˆå¾ˆå¿«ï¼‰</h4>
<ol start="0">
<li>çœ‹æ—¥å¿—é‡ŒåŒä¸€ä¸ª <code>instanceId</code></li>
<li>å®ƒä» <code>itemKeyA</code> reuse åˆ° <code>itemKey=B</code></li>
<li>å¦‚æœä½ æ²¡çœ‹åˆ°å¯¹åº”çš„ <code>reset</code> æ—¥å¿—ï¼ˆæˆ– reset ä¸å®Œæ•´ï¼‰ â†’ 99% å°±æ˜¯çŠ¶æ€æ²¡æ¸…å¹²å‡€</li>
</ol>
<p>æˆ‘ä¸€èˆ¬ä¼šæŠŠ reset å†™å¾—å¾ˆâ€œå•°å—¦â€ï¼Œè°ƒè¯•é˜¶æ®µå®å¯å¤šæ‰“ä¸¤è¡Œï¼š</p>
<ul>
<li>reset highlight</li>
<li>reset progress</li>
<li>reset selected</li>
<li>reset loading</li>
</ul>
<p>è°ƒé€šåå†ç²¾ç®€ã€‚</p>
<hr/>
<h3 data-id="heading-10">7ï¼‰ä¸Šçº¿å»ºè®®ï¼šæ€ä¹ˆä¸å½±å“æ€§èƒ½ï¼Ÿ</h3>
<ul>
<li>ç›‘æ§ç±»é‡ŒåŠ  <code>enable(false)</code> å¼€å…³</li>
<li>æˆ–è€…ç”¨ç¯å¢ƒå˜é‡æ§åˆ¶ï¼ˆDebug å¼€ã€Release å…³ï¼‰</li>
<li><code>setInterval(snapshot)</code> åªåœ¨è°ƒè¯•æ‰“å¼€ï¼Œä¸Šçº¿å¿…é¡»å…³</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">Â reuseMonitor.<span class="hljs-built_in">enable</span>(<span class="hljs-literal">false</span>) <span class="hljs-comment">// release ç¯å¢ƒ</span>
</code></pre>
<hr/>
<h3 data-id="heading-11">8ï¼‰ä¸€å¥æ€»ç»“</h3>
<p>å¤ç”¨æ± ç›‘æ§è¿™ä»¶äº‹ï¼Œè¯´ç™½äº†å°±æ˜¯ï¼š<strong>ä½ æ— æ³•ç›´æ¥çœ‹æ± å­ï¼Œä½†ä½ èƒ½çœ‹â€œå¤ç”¨è¡Œä¸ºâ€</strong> ã€‚ åªè¦æŠŠ <code>create / reuse / disappear / reset</code> è¿™æ¡é“¾è·¯è·‘é€šï¼Œå†é…ä¸ŠæŒ‰ <code>reuseId</code> çš„ç»Ÿè®¡å¿«ç…§ï¼Œæ’æŸ¥æ€§èƒ½å’Œä¸²çŠ¶æ€é—®é¢˜ä¼šçœéå¸¸å¤šæ—¶é—´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡äº†è§£ Cookieã€localStorageã€sessionStorageçš„åŒºåˆ«ä¸å®æˆ˜æ¡ˆä¾‹]]></title>    <link>https://juejin.cn/post/7586498198149365811</link>    <guid>https://juejin.cn/post/7586498198149365811</guid>    <pubDate>2025-12-22T14:24:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586498198149365811" data-draft-id="7586482860104269851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ä¸€æ–‡äº†è§£ Cookieã€localStorageã€sessionStorageçš„åŒºåˆ«ä¸å®æˆ˜æ¡ˆä¾‹"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T14:24:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦‚æœä½ å¥½"/> <meta itemprop="url" content="https://juejin.cn/user/2272012281328215"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ä¸€æ–‡äº†è§£ Cookieã€localStorageã€sessionStorageçš„åŒºåˆ«ä¸å®æˆ˜æ¡ˆä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2272012281328215/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦‚æœä½ å¥½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:24:05.000Z" title="Mon Dec 22 2025 14:24:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€æ–‡äº†è§£ Cookieã€localStorageã€sessionStorageçš„åŒºåˆ«ä¸å®æˆ˜æ¡ˆä¾‹</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæµè§ˆå™¨å­˜å‚¨æ˜¯ä¸å¯æˆ–ç¼ºçš„æ ¸å¿ƒèƒ½åŠ›ï¼Œæ— è®ºæ˜¯ä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€ã€è®°ä½ä¸»é¢˜åå¥½ï¼Œè¿˜æ˜¯æš‚å­˜è¡¨å•ä¸­é—´æ•°æ®ï¼Œéƒ½ç¦»ä¸å¼€å®ƒã€‚è€ŒCookieã€localStorageã€sessionStorageä½œä¸ºæœ€å¸¸ç”¨çš„ä¸‰ç§æµè§ˆå™¨å­˜å‚¨æ–¹æ¡ˆï¼Œå¾ˆå¤šå¼€å‘è€…åœ¨å®é™…é¡¹ç›®ä¸­å®¹æ˜“æ··æ·†å®ƒä»¬çš„ä½¿ç”¨åœºæ™¯ã€‚</p>
<p>æœ¬æ–‡å°†ä»æ ¸å¿ƒç‰¹æ€§å‡ºå‘ï¼Œæ¸…æ™°å¯¹æ¯”ä¸‰è€…çš„åŒºåˆ«ï¼Œå†ç»“åˆVueæ¡†æ¶ç»™å‡ºå¯ç›´æ¥å¤ç”¨çš„å®æˆ˜ä»£ç æ¡ˆä¾‹ï¼Œå¸®ä½ å½»åº•ææ‡‚ä½•æ—¶ç”¨å“ªç§å­˜å‚¨æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”ï¼ˆä¸€å¼ è¡¨çœ‹æ‡‚ï¼‰</h3>
<p>å…ˆé€šè¿‡ä¸€å¼ å¯¹æ¯”è¡¨ï¼Œå¿«é€ŸæŒæ¡ä¸‰è€…çš„æ ¸å¿ƒå·®å¼‚çŸ¥è¯†ç‚¹ï¼š</p>















































<table><thead><tr><th>ç‰¹æ€§</th><th>Cookie</th><th>localStorage</th><th>sessionStorage</th></tr></thead><tbody><tr><td>å­˜å‚¨å®¹é‡</td><td>çº¦ 4KBï¼ˆå®¹é‡è¾ƒå°ï¼Œé€‚åˆå­˜å‚¨å°‘é‡æ•°æ®ï¼‰</td><td>çº¦ 5MBï¼ˆå®¹é‡è¾ƒå¤§ï¼Œå¯å­˜å‚¨æ›´å¤šæœ¬åœ°æ•°æ®ï¼‰</td><td>çº¦ 5MBï¼ˆå®¹é‡è¾ƒå¤§ï¼‰</td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td>å¯æ‰‹åŠ¨è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤éšä¼šè¯ç»“æŸï¼ˆå…³é—­æµè§ˆå™¨ï¼‰æ¸…é™¤</td><td>æ°¸ä¹…å­˜å‚¨ï¼Œé™¤éæ‰‹åŠ¨æ¸…é™¤ï¼ˆæ¸…é™¤æµè§ˆå™¨ç¼“å­˜ã€ä»£ç åˆ é™¤ï¼‰</td><td>ä¼šè¯çº§å­˜å‚¨ï¼Œå…³é—­å½“å‰æ ‡ç­¾é¡µå³æ¸…é™¤ï¼ˆåŒä¸€æµè§ˆå™¨ä¸åŒæ ‡ç­¾é¡µä¸å…±äº«ï¼‰</td></tr><tr><td>ä½œç”¨åŸŸ</td><td>åŒæºï¼ˆåè®®ã€åŸŸåã€ç«¯å£ä¸€è‡´ï¼‰ä¸‹å…±äº«ï¼Œä¸”è‡ªåŠ¨éšæ¯æ¬¡HTTPè¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨</td><td>åŒæºä¸‹å…±äº«ï¼Œä»…é€šè¿‡JSè®¿é—®ï¼Œä¸ä¸»åŠ¨å‘é€ç»™æœåŠ¡å™¨</td><td>åŒæºä¸”åŒæ ‡ç­¾é¡µä¸‹å…±äº«ï¼Œä¸åŒæ ‡ç­¾é¡µå³ä½¿åŒæºä¹Ÿä¸å…±äº«</td></tr><tr><td>æ˜¯å¦è‡ªåŠ¨å‘é€ç»™æœåŠ¡å™¨</td><td>æ˜¯ï¼ˆæ¯æ¬¡è¯·æ±‚éƒ½ä¼šæºå¸¦ï¼Œå¯èƒ½å¢åŠ è¯·æ±‚ä½“ç§¯ï¼‰</td><td>å¦</td><td>å¦</td></tr><tr><td>è®¿é—®æ–¹å¼</td><td>JSå’ŒæœåŠ¡å™¨å‡å¯è®¿é—®</td><td>ä»…JSå¯è®¿é—®</td><td>ä»…JSå¯è®¿é—®</td></tr><tr><td>å…¸å‹ç”¨é€”</td><td>ä¼šè¯ç®¡ç†ã€èº«ä»½éªŒè¯ï¼ˆå¦‚ç™»å½•Tokenï¼‰ã€è®°ä½å¯†ç </td><td>é•¿æœŸä¿å­˜ç”¨æˆ·åå¥½ï¼ˆå¦‚æš—é»‘æ¨¡å¼ï¼‰ã€æœ¬åœ°ç¼“å­˜ä¸æ•æ„Ÿæ•°æ®</td><td>æš‚å­˜å•æ¬¡ä¼šè¯æ•°æ®ï¼ˆå¦‚å¤šæ­¥éª¤è¡¨å•ä¸­é—´å€¼ã€é¡µé¢ä¸´æ—¶çŠ¶æ€ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-2">äºŒã€Vueå®æˆ˜æ¡ˆä¾‹ï¼ˆå¯ç›´æ¥å¤ç”¨ï¼‰</h3>
<p>åœ¨Vueé¡¹ç›®ä¸­ï¼Œä¸åŒå­˜å‚¨æ–¹æ¡ˆçš„ä½¿ç”¨æ–¹å¼ç•¥æœ‰å·®å¼‚ï¼Œä¸‹é¢ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯ï¼Œç»™å‡ºå®Œæ•´çš„ä»£ç ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-3">1. Cookieï¼šé€‚åˆå­˜å‚¨ç™»å½•çŠ¶æ€ç­‰éœ€è¦å’ŒæœåŠ¡å™¨äº¤äº’çš„æ•°æ®</h4>
<p>CookieåŸç”ŸAPIä½¿ç”¨èµ·æ¥ä¸å¤Ÿä¾¿æ·ï¼Œæ¨èä½¿ç”¨ <code>js-cookie</code> åº“ï¼ˆè½»é‡ã€æ˜“ç”¨ï¼‰ï¼Œä¸“é—¨ç”¨äºç®¡ç†Cookieã€‚</p>
<h5 data-id="heading-4">æ­¥éª¤1ï¼šå®‰è£…ä¾èµ–</h5>
<pre><code class="hljs language-css" lang="css">npm install js-cookie <span class="hljs-attr">--save</span>
</code></pre>
<h5 data-id="heading-5">æ­¥éª¤2ï¼šå®æˆ˜ä»£ç ï¼ˆç™»å½•çŠ¶æ€ç®¡ç†ï¼‰</h5>
<p>åœºæ™¯ï¼šç”¨æˆ·ç™»å½•åä¿å­˜Tokenï¼Œé€€å‡ºç™»å½•æ—¶åˆ é™¤Tokenï¼Œé¡µé¢åˆ·æ–°åä¿ç•™ç™»å½•çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç”¨æˆ·ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
      <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"username"</span> 
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ç”¨æˆ·å"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
    &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
      <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> 
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"password"</span> 
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å¯†ç "</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
    &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleLogin"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleLogout"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-logout"</span>&gt;</span>é€€å‡ºç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"token"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-status"</span>&gt;</span>å½“å‰ç™»å½•çŠ¶æ€ï¼šå·²ç™»å½•ï¼ˆTokenï¼š{{ token }}ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-status"</span>&gt;</span>å½“å‰ç™»å½•çŠ¶æ€ï¼šæœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// å¼•å…¥js-cookieåº“</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Cookies</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'js-cookie'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'LoginPage'</span>,
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
      <span class="hljs-comment">// åˆå§‹åŒ–æ—¶ä»Cookieè·å–Tokenï¼Œæ— åˆ™ä¸ºç©º</span>
      <span class="hljs-attr">token</span>: <span class="hljs-title class_">Cookies</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'userToken'</span>) || <span class="hljs-string">''</span>
    };
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">handleLogin</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// æ¨¡æ‹Ÿæ¥å£è¯·æ±‚ç™»å½•ï¼ˆå®é™…é¡¹ç›®ä¸­æ›¿æ¢ä¸ºçœŸå®æ¥å£ï¼‰</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span>) {
        <span class="hljs-keyword">const</span> mockToken = <span class="hljs-string">'mock_user_token_123456'</span>; <span class="hljs-comment">// æ¥å£è¿”å›çš„Token</span>
        <span class="hljs-comment">// è®¾ç½®Cookieï¼škeyä¸ºuserTokenï¼Œå€¼ä¸ºmockTokenï¼Œè¿‡æœŸæ—¶é—´1å¤©</span>
        <span class="hljs-title class_">Cookies</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'userToken'</span>, mockToken, { <span class="hljs-attr">expires</span>: <span class="hljs-number">1</span> });
        <span class="hljs-comment">// æ›´æ–°æœ¬åœ°TokençŠ¶æ€</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">token</span> = mockToken;
        <span class="hljs-title function_">alert</span>(<span class="hljs-string">'ç™»å½•æˆåŠŸï¼'</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼'</span>);
      }
    },
    <span class="hljs-title function_">handleLogout</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// åˆ é™¤Cookie</span>
      <span class="hljs-title class_">Cookies</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'userToken'</span>);
      <span class="hljs-comment">// é‡ç½®çŠ¶æ€</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">token</span> = <span class="hljs-string">''</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span> = <span class="hljs-string">''</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span> = <span class="hljs-string">''</span>;
      <span class="hljs-title function_">alert</span>(<span class="hljs-string">'é€€å‡ºç™»å½•æˆåŠŸï¼'</span>);
    }
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>


</code></pre>
<h5 data-id="heading-6">æ ¸å¿ƒè¯´æ˜</h5>
<ul>
<li>è®¾ç½®Cookieæ—¶ï¼Œ<code>expires: 1</code> è¡¨ç¤º1å¤©åè¿‡æœŸï¼Œä¹Ÿå¯è®¾ç½®ä¸ºå…·ä½“æ—¥æœŸï¼ˆå¦‚ <code>new Date('2025-12-31')</code>ï¼‰ï¼›</li>
<li>åˆ é™¤Cookieæ—¶ï¼Œéœ€ç¡®ä¿ <code>Cookies.remove()</code> çš„keyä¸è®¾ç½®æ—¶ä¸€è‡´ï¼›</li>
<li>é€‚åˆå­˜å‚¨éœ€è¦å’ŒæœåŠ¡å™¨äº¤äº’çš„èº«ä»½ä¿¡æ¯ï¼Œå› ä¸ºCookieä¼šè‡ªåŠ¨éšè¯·æ±‚å‘é€ã€‚</li>
</ul>
<h4 data-id="heading-7">2. localStorageï¼šé€‚åˆé•¿æœŸä¿å­˜ç”¨æˆ·åå¥½æ•°æ®</h4>
<p>localStorageåŸç”ŸAPIå·²è¶³å¤Ÿç®€æ´ï¼Œæ— éœ€é¢å¤–å®‰è£…ä¾èµ–ï¼Œé€‚åˆå­˜å‚¨é•¿æœŸä¸å¤±æ•ˆçš„æœ¬åœ°æ•°æ®ã€‚</p>
<h5 data-id="heading-8">å®æˆ˜ä»£ç ï¼ˆä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ï¼‰</h5>
<p>åœºæ™¯ï¼šç”¨æˆ·åˆ‡æ¢æš—é»‘/äº®è‰²ä¸»é¢˜åï¼Œåˆ·æ–°é¡µé¢ä¾ç„¶ä¿ç•™å½“å‰ä¸»é¢˜è®¾ç½®ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"theme-container"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"theme"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä¸»é¢˜åˆ‡æ¢æ¼”ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰ä¸»é¢˜ï¼š{{ theme === 'light' ? 'äº®è‰²æ¨¡å¼' : 'æš—é»‘æ¨¡å¼' }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"toggleTheme"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"theme-btn"</span>&gt;</span>åˆ‡æ¢ä¸»é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'ThemeSwitch'</span>,
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// åˆå§‹åŒ–æ—¶ä»localStorageè·å–ä¸»é¢˜ï¼Œæ— åˆ™é»˜è®¤äº®è‰²æ¨¡å¼</span>
      <span class="hljs-attr">theme</span>: <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'appTheme'</span>) || <span class="hljs-string">'light'</span>
    };
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">toggleTheme</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// åˆ‡æ¢ä¸»é¢˜çŠ¶æ€</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span> === <span class="hljs-string">'light'</span> ? <span class="hljs-string">'dark'</span> : <span class="hljs-string">'light'</span>;
      <span class="hljs-comment">// ä¿å­˜ä¸»é¢˜åˆ°localStorageï¼ˆæ°¸ä¹…æœ‰æ•ˆï¼Œé™¤éæ‰‹åŠ¨æ¸…é™¤ï¼‰</span>
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'appTheme'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>);
    }
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

</code></pre>
<h5 data-id="heading-9">æ ¸å¿ƒè¯´æ˜</h5>
<ul>
<li>ä½¿ç”¨ <code>localStorage.setItem(key, value)</code> å­˜å‚¨æ•°æ®ï¼Œ<code>localStorage.getItem(key)</code> è·å–æ•°æ®ï¼›</li>
<li>æ•°æ®æ°¸ä¹…ä¿å­˜ï¼Œå³ä½¿å…³é—­æµè§ˆå™¨å†é‡æ–°æ‰“å¼€ï¼Œä¾ç„¶èƒ½è·å–åˆ°ï¼›</li>
<li>é€‚åˆå­˜å‚¨ç”¨æˆ·åå¥½ã€æœ¬åœ°ç¼“å­˜æ•°æ®ç­‰ä¸éœ€è¦å’ŒæœåŠ¡å™¨äº¤äº’çš„é•¿æœŸæ•°æ®ã€‚</li>
</ul>
<h4 data-id="heading-10">3. sessionStorageï¼šé€‚åˆæš‚å­˜ä¼šè¯çº§ä¸´æ—¶æ•°æ®</h4>
<p>sessionStorageçš„APIå’ŒlocalStorageå®Œå…¨ä¸€è‡´ï¼Œä½†ç”Ÿå‘½å‘¨æœŸæ˜¯ä¼šè¯çº§ï¼Œå…³é—­æ ‡ç­¾é¡µåæ•°æ®å³ä¸¢å¤±ã€‚</p>
<h5 data-id="heading-11">å®æˆ˜ä»£ç ï¼ˆå¤šæ­¥éª¤è¡¨å•æš‚å­˜ï¼‰</h5>
<p>åœºæ™¯ï¼šå¤šæ­¥éª¤è¡¨å•ï¼ˆå¦‚æ³¨å†Œè¡¨å•ï¼‰ï¼Œç”¨æˆ·å¡«å†™å®Œç¬¬ä¸€æ­¥å†…å®¹åï¼Œåˆ‡æ¢é¡µé¢å†è¿”å›ï¼Œä¾ç„¶ä¿ç•™å·²å¡«å†™çš„å†…å®¹ï¼ˆå…³é—­æ ‡ç­¾é¡µåä¸¢å¤±ï¼‰ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¤šæ­¥éª¤æ³¨å†Œè¡¨å•ï¼ˆæ­¥éª¤1ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
      <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData.username"</span> 
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ç”¨æˆ·å"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
    &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
      <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span> 
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData.phone"</span> 
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥æ‰‹æœºå·"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
    &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"goToNextStep"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-btn"</span>&gt;</span>ä¸‹ä¸€æ­¥ï¼ˆæš‚å­˜æ•°æ®ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tip"</span>&gt;</span>æç¤ºï¼šå…³é—­å½“å‰æ ‡ç­¾é¡µåï¼Œå·²å¡«å†™å†…å®¹å°†ä¸¢å¤±<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'MultiStepForm'</span>,
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// åˆå§‹åŒ–æ—¶ä»sessionStorageè·å–æš‚å­˜çš„è¡¨å•æ•°æ®ï¼Œæ— åˆ™ä¸ºç©ºå¯¹è±¡</span>
      <span class="hljs-attr">formData</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'step1Form'</span>)) || {
        <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>
      }
    };
  },
  <span class="hljs-attr">watch</span>: {
    <span class="hljs-comment">// ç›‘å¬formDataå˜åŒ–ï¼Œå®æ—¶æš‚å­˜åˆ°sessionStorage</span>
    <span class="hljs-attr">formData</span>: {
      <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ·±åº¦ç›‘å¬å¯¹è±¡å†…éƒ¨å±æ€§å˜åŒ–</span>
      <span class="hljs-title function_">handler</span>(<span class="hljs-params">newVal</span>) {
        <span class="hljs-comment">// sessionStorageåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼Œéœ€å°†å¯¹è±¡è½¬ä¸ºJSONå­—ç¬¦ä¸²</span>
        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'step1Form'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(newVal));
      }
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">goToNextStep</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>.<span class="hljs-property">username</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>.<span class="hljs-property">phone</span>) {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè·³è½¬åˆ°ä¸‹ä¸€æ­¥è¡¨å•ï¼ˆå®é™…é¡¹ç›®ä¸­ç”¨è·¯ç”±è·³è½¬ï¼‰</span>
        <span class="hljs-title function_">alert</span>(<span class="hljs-string">'å·²æš‚å­˜æ­¥éª¤1æ•°æ®ï¼Œè·³è½¬åˆ°æ­¥éª¤2'</span>);
        <span class="hljs-comment">// æ­¤å¤„å¯æ·»åŠ è·¯ç”±è·³è½¬ä»£ç ï¼Œå¦‚ï¼šthis.$router.push('/register-step2')</span>
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¯·å¡«å†™å®Œæ•´ç”¨æˆ·åå’Œæ‰‹æœºå·ï¼'</span>);
      }
    }
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

</code></pre>
<h5 data-id="heading-12">æ ¸å¿ƒè¯´æ˜</h5>
<ul>
<li>APIå’ŒlocalStorageä¸€è‡´ï¼Œä½†æ•°æ®ä»…åœ¨å½“å‰æ ‡ç­¾é¡µæœ‰æ•ˆï¼Œå…³é—­æ ‡ç­¾é¡µæˆ–æ‰“å¼€æ–°æ ‡ç­¾é¡µå‡æ— æ³•è·å–ï¼›</li>
<li>å­˜å‚¨å¯¹è±¡æ—¶ï¼Œéœ€ç”¨ <code>JSON.stringify()</code> è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œè·å–æ—¶ç”¨ <code>JSON.parse()</code> è½¬å›å¯¹è±¡ï¼›</li>
<li>é€‚åˆæš‚å­˜å•æ¬¡ä¼šè¯çš„ä¸´æ—¶æ•°æ®ï¼Œå¦‚å¤šæ­¥éª¤è¡¨å•ã€é¡µé¢ä¸´æ—¶çŠ¶æ€ç­‰ï¼Œæ— éœ€é•¿æœŸä¿ç•™çš„æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-13">ä¸‰ã€æ€»ç»“ï¼šå¦‚ä½•é€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹æ¡ˆï¼Ÿ</h3>
<p>æœ€åç”¨ä¸€å¼ è¡¨å¿«é€Ÿæ¢³ç†ä¸‰ç§æ–¹æ¡ˆçš„Vueä½¿ç”¨åœºæ™¯å’Œæ ¸å¿ƒè¦ç‚¹ï¼Œæ–¹ä¾¿å®é™…å¼€å‘ä¸­å¿«é€Ÿå†³ç­–ï¼š</p>

























<table><thead><tr><th>å­˜å‚¨æ–¹å¼</th><th>Vueä¸­å…¸å‹ä½¿ç”¨åœºæ™¯</th><th>æ ¸å¿ƒè¦ç‚¹</th></tr></thead><tbody><tr><td>Cookie</td><td>ç™»å½•çŠ¶æ€ç®¡ç†ã€èº«ä»½éªŒè¯ï¼ˆTokenï¼‰ã€è®°ä½å¯†ç </td><td>ç”¨js-cookieåº“ç®€åŒ–æ“ä½œï¼Œå¯è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè‡ªåŠ¨éšè¯·æ±‚å‘é€</td></tr><tr><td>localStorage</td><td>ç”¨æˆ·ä¸»é¢˜åå¥½ã€æœ¬åœ°ç¼“å­˜æ•°æ®ã€é•¿æœŸä¿å­˜çš„ä¸æ•æ„Ÿä¿¡æ¯</td><td>åŸç”ŸAPIç®€æ´ï¼Œæ°¸ä¹…å­˜å‚¨ï¼Œéœ€æ‰‹åŠ¨æ¸…é™¤ï¼Œä¸å‘é€ç»™æœåŠ¡å™¨</td></tr><tr><td>sessionStorage</td><td>å¤šæ­¥éª¤è¡¨å•æš‚å­˜ã€é¡µé¢ä¸´æ—¶çŠ¶æ€ã€å•æ¬¡ä¼šè¯æ•°æ®</td><td>APIåŒlocalStorageï¼Œä¼šè¯çº§ç”Ÿå‘½å‘¨æœŸï¼Œå…³é—­æ ‡ç­¾é¡µå³æ¸…é™¤</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[linkå’Œ@importæœ‰ä»€ä¹ˆåŒºåˆ«]]></title>    <link>https://juejin.cn/post/7586500093844111402</link>    <guid>https://juejin.cn/post/7586500093844111402</guid>    <pubDate>2025-12-22T14:24:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586500093844111402" data-draft-id="7586491717873598483" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="linkå’Œ@importæœ‰ä»€ä¹ˆåŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T14:24:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç çŒäºº"/> <meta itemprop="url" content="https://juejin.cn/user/624972624037374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            linkå’Œ@importæœ‰ä»€ä¹ˆåŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/624972624037374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç çŒäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:24:09.000Z" title="Mon Dec 22 2025 14:24:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„å‰ç«¯é—®é¢˜ã€‚<code>&lt;link&gt;</code>Â å’ŒÂ <code>@import</code>Â éƒ½æ˜¯ç”¨æ¥å¼•å…¥å¤–éƒ¨ CSS æ–‡ä»¶çš„æ–¹æ³•ï¼Œä½†å®ƒä»¬åœ¨<strong>åŠ è½½æœºåˆ¶ã€æ€§èƒ½ã€å…¼å®¹æ€§å’Œæ§åˆ¶åŠ›</strong>ä¸Šæœ‰æ˜¾è‘—åŒºåˆ«ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼š<strong>ç°ä»£ Web å¼€å‘ä¸­ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨Â <code>&lt;link&gt;</code>Â æ–¹æ³•ï¼Œé¿å…ä½¿ç”¨Â <code>@import</code>ã€‚</strong></p>
<p>ä¸‹é¢æ˜¯è¯¦ç»†çš„å¯¹æ¯”ï¼š</p>


















































<table><thead><tr><th>ç‰¹æ€§</th><th><code>&lt;link&gt;</code>Â æ ‡ç­¾ (HTML)</th><th><code>@import</code>Â è§„åˆ™ (CSS)</th></tr></thead><tbody><tr><td><strong>å½’å±</strong></td><td><strong>HTML æ ‡ç­¾</strong>ï¼Œä½äºÂ <code>&lt;head&gt;</code>Â ä¸­ã€‚</td><td><strong>CSS è¯­æ³•</strong>ï¼Œå¿…é¡»å†™åœ¨ CSS æ–‡ä»¶æˆ–Â <code>&lt;style&gt;</code>Â æ ‡ç­¾çš„å¼€å¤´ã€‚</td></tr><tr><td><strong>è¯­æ³•</strong></td><td><code>&lt;link rel="stylesheet" href="style.css"&gt;</code></td><td><code>@import url("style.css");</code></td></tr><tr><td><strong>åŠ è½½æœºåˆ¶</strong></td><td><strong>å¹¶è¡ŒåŠ è½½</strong>ã€‚æµè§ˆå™¨åœ¨è§£æ HTML æ—¶é‡åˆ°Â <code>&lt;link&gt;</code>Â ä¼šç«‹å³å‘èµ·å¯¹è¯¥ CSS æ–‡ä»¶çš„è¯·æ±‚ï¼Œä¸ä¼šé˜»å¡ HTML çš„ç»§ç»­è§£æï¼ˆä½†ä¼šé˜»å¡æ¸²æŸ“ï¼Œä»¥ç¡®ä¿æ ·å¼æ­£ç¡®åº”ç”¨ï¼‰ã€‚</td><td><strong>ä¸²è¡ŒåŠ è½½</strong>ã€‚æµè§ˆå™¨éœ€è¦å…ˆä¸‹è½½å¹¶è§£æåŒ…å«Â <code>@import</code>Â çš„ CSS æ–‡ä»¶ï¼Œç„¶åæ‰å‘ç°å¹¶å¼€å§‹ä¸‹è½½è¢«å¯¼å…¥çš„ CSS æ–‡ä»¶ã€‚è¿™ä¼šæ˜¾è‘—å¢åŠ é¡µé¢æ•´ä½“åŠ è½½æ—¶é—´ã€‚</td></tr><tr><td><strong>DOM å¯æ§æ€§</strong></td><td><strong>å¯ä»¥è¢« JavaScript åŠ¨æ€æ“ä½œ</strong>ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡ JS åˆ›å»ºã€ä¿®æ”¹æˆ–åˆ é™¤Â <code>&lt;link&gt;</code>Â å…ƒç´ æ¥åˆ‡æ¢æ ·å¼è¡¨ã€‚</td><td><strong>æ— æ³•ç”¨ JavaScript ç›´æ¥æ§åˆ¶æˆ–åˆ é™¤</strong>ã€‚ä¸€æ—¦é€šè¿‡Â <code>@import</code>Â å¼•å…¥ï¼Œå°±å¾ˆéš¾åŠ¨æ€ä¿®æ”¹ã€‚</td></tr><tr><td><strong>å…¼å®¹æ€§</strong></td><td><strong>å®Œç¾å…¼å®¹æ‰€æœ‰æµè§ˆå™¨</strong>ï¼ˆåŒ…æ‹¬éå¸¸å¤è€çš„æµè§ˆå™¨ï¼‰ã€‚</td><td>CSS2.1 çš„ç‰¹æ€§ã€‚åœ¨Â <strong>IE5+</strong> Â ä¸ŠåŸºæœ¬æ”¯æŒï¼Œä½†ä»æœ‰ç»†å¾®çš„å…¼å®¹æ€§é—®é¢˜ã€‚</td></tr><tr><td><strong>æ€§èƒ½å½±å“</strong></td><td><strong>æ›´ä¼˜</strong>ã€‚å…è®¸å¤šä¸ª CSS æ–‡ä»¶å¹¶è¡Œä¸‹è½½ï¼Œæœ‰åˆ©äºåŠ å¿«é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</td><td><strong>è¾ƒå·®</strong>ã€‚å®¹æ˜“å¼•èµ·<strong>èµ„æºåŠ è½½çš„ä¸²è¡ŒåŒ–</strong>ï¼Œå¯¼è‡´é¡µé¢æ¸²æŸ“å»¶è¿Ÿï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘é€Ÿæ…¢æˆ–æ–‡ä»¶å¤šæ—¶ã€‚</td></tr><tr><td><strong>é¢„åŠ è½½æ‰«æå™¨</strong></td><td><strong>å¯ä»¥è¢«æ•è·</strong>ã€‚ç°ä»£æµè§ˆå™¨çš„â€œé¢„åŠ è½½æ‰«æå™¨â€ä¼šå¿«é€Ÿæ‰«æ HTMLï¼Œæå‰å‘ç°Â <code>&lt;link&gt;</code>Â å¹¶å¼€å§‹ä¸‹è½½èµ„æºã€‚</td><td><strong>æ— æ³•è¢«æ•è·</strong>ã€‚é¢„åŠ è½½æ‰«æå™¨é€šå¸¸ä¸è§£æ CSS æ–‡ä»¶å†…éƒ¨çš„Â <code>@import</code>ï¼Œå› æ­¤æ— æ³•æå‰å‘ç°è¿™äº›èµ„æºã€‚</td></tr><tr><td><strong>ç”¨é€”é™åˆ¶</strong></td><td>ä¸ä»…å¯ä»¥å¼•å…¥ CSSï¼Œè¿˜å¯ä»¥å¼•å…¥ç½‘ç«™å›¾æ ‡ã€é¢„åŠ è½½èµ„æºã€å®šä¹‰ RSS æºç­‰ï¼ˆé€šè¿‡Â <code>rel</code>Â å±æ€§ï¼‰ã€‚</td><td><strong>ä»…ç”¨äºå¼•å…¥ CSS</strong>ã€‚</td></tr></tbody></table>
<h3 data-id="heading-0">æ ¸å¿ƒåŒºåˆ«è¯¦è§£</h3>
<h4 data-id="heading-1">1. åŠ è½½é¡ºåºä¸æ€§èƒ½ï¼ˆæœ€å…³é”®çš„åŒºåˆ«ï¼‰</h4>
<ul>
<li><strong><code>&lt;link&gt;</code></strong> ï¼šå‡è®¾ä½ åœ¨ HTML ä¸­å†™äº†ä¸¤ä¸ªÂ <code>&lt;link&gt;</code>Â æ ‡ç­¾ã€‚æµè§ˆå™¨ä¼š<strong>åŒæ—¶è¯·æ±‚</strong>è¿™ä¸¤ä¸ª CSS æ–‡ä»¶ã€‚å®ƒä»¬å’Œé¡µé¢çš„ HTMLã€å›¾ç‰‡ç­‰èµ„æºä¸€èµ·å¹¶è¡Œä¸‹è½½ã€‚</li>
<li><strong><code>@import</code></strong>ï¼šå‡è®¾åœ¨Â <code>main.css</code>Â æ–‡ä»¶ä¸­å†™äº†Â <code>@import url("imported.css")</code>ã€‚æµè§ˆå™¨å¿…é¡»å…ˆä¸‹è½½Â <code>main.css</code>ï¼Œç„¶åè§£æå®ƒï¼Œè¯»åˆ°Â <code>@import</code>Â è¯­å¥æ—¶ï¼Œæ‰å»ä¸‹è½½Â <code>imported.css</code>ã€‚<strong>è¿™å½¢æˆäº†ä¸€ä¸ªâ€œè¯·æ±‚é“¾â€</strong> ï¼Œä¸¥é‡æ‹–æ…¢é¡µé¢æ¸²æŸ“é€Ÿåº¦ã€‚å¦‚æœÂ <code>imported.css</code>Â é‡ŒåˆÂ <code>@import</code>Â äº†å…¶ä»–æ–‡ä»¶ï¼Œæƒ…å†µä¼šæ›´ç³Ÿã€‚</li>
</ul>
<h4 data-id="heading-2">2. æ¸²æŸ“é˜»å¡</h4>
<p>ä¸¤è€…éƒ½ä¼šé˜»å¡æ¸²æŸ“ï¼Œæµè§ˆå™¨éœ€è¦çŸ¥é“æ ·å¼è§„åˆ™æ‰èƒ½æ­£ç¡®ç»˜åˆ¶é¡µé¢ã€‚ä½†Â <code>@import</code>Â å› ä¸ºå…¶<strong>ä¸²è¡ŒåŠ è½½</strong>çš„ç‰¹æ€§ï¼Œä¼šå¯¼è‡´æµè§ˆå™¨å¼€å§‹æ¸²æŸ“çš„æ—¶é—´ç‚¹æ›´æ™šã€‚</p>
<h4 data-id="heading-3">3. å¦‚ä½•ä½¿ç”¨ä¸ä¹¦å†™ä½ç½®</h4>
<ul>
<li><strong><code>&lt;link&gt;</code></strong> ï¼š å†™åœ¨ HTML çš„Â <code>&lt;head&gt;</code>Â éƒ¨åˆ†ã€‚</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"reset.css"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"global.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<ul>
<li><strong><code>@import</code></strong>ï¼š å†™åœ¨ CSS æ–‡ä»¶æˆ–Â <code>&lt;style&gt;</code>Â å—çš„<strong>æœ€é¡¶ç«¯</strong>ï¼ˆåœ¨å…¶å®ƒè§„åˆ™ä¹‹å‰ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* åœ¨ global.css æ–‡ä»¶ä¸­ */</span>
<span class="hljs-keyword">@import</span> url(<span class="hljs-string">"reset.css"</span>); <span class="hljs-comment">/* å¿…é¡»å†™åœ¨ç¬¬ä¸€è¡Œ */</span>
<span class="hljs-keyword">@import</span> url(<span class="hljs-string">"components.css"</span>);

<span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>; } <span class="hljs-comment">/* è‡ªå·±çš„è§„åˆ™å†™åœ¨ä¸‹é¢ */</span>
</code></pre>
<h3 data-id="heading-4">ç»“è®ºä¸æœ€ä½³å®è·µ</h3>
<p><strong>å°½é‡é¿å…ä½¿ç”¨Â <code>@import</code>ã€‚</strong></p>
<p><strong>ä½¿ç”¨Â <code>&lt;link&gt;</code>Â æ ‡ç­¾æ¥å¼•å…¥æ‰€æœ‰ä¸»è¦çš„ CSS æ–‡ä»¶</strong>ã€‚è¿™æ˜¯æ€§èƒ½æœ€ä½³ã€å…¼å®¹æ€§æœ€å¥½ã€ä¹Ÿæœ€å¯æ§çš„æ–¹å¼ã€‚</p>
<p><strong><code>@import</code>Â çš„åˆç†ä½¿ç”¨åœºæ™¯</strong>ï¼ˆè¾ƒå°‘ï¼‰ï¼š</p>
<ol>
<li><strong>åœ¨ CSS é¢„å¤„ç†å™¨ä¸­</strong>ï¼š åœ¨ Sass/Less æ–‡ä»¶ä¸­ä½¿ç”¨Â <code>@import</code>Â æ¥åˆå¹¶æ¨¡å—æ–‡ä»¶æ˜¯<strong>å¯ä»¥æ¥å—ä¸”æ¨èçš„</strong>ï¼Œå› ä¸ºé¢„å¤„ç†å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå°†è¿™äº›Â <code>@import</code>Â çš„æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„ CSS æ–‡ä»¶è¾“å‡ºç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨æœ€ç»ˆçœ‹åˆ°çš„ä»ç„¶æ˜¯ä¸€ä¸ªç”±Â <code>&lt;link&gt;</code>Â å¼•å…¥çš„å•ä¸€æ–‡ä»¶ï¼Œé¿å…äº†æ€§èƒ½é—®é¢˜ã€‚</li>
<li><strong>éå¸¸ç‰¹æ®Šçš„éœ€æ±‚</strong>ï¼š ä¾‹å¦‚éœ€è¦æ ¹æ®æŸäº›åª’ä½“æŸ¥è¯¢æ¡ä»¶æ¥æœ‰é€‰æ‹©åœ°åŠ è½½æ ·å¼è¡¨ï¼Œä½†åˆå¸Œæœ›å°†è¿™äº›é€»è¾‘å†™åœ¨ CSS å†…ã€‚ä¸è¿‡ï¼Œç°ä»£Â <code>&lt;link&gt;</code>Â æ ‡ç­¾çš„Â <code>media</code>Â å±æ€§ä¹Ÿèƒ½å¾ˆå¥½å®ç°ã€‚</li>
</ol>
<p><strong>æ€§èƒ½ä¼˜åŒ–è¿›é˜¶</strong>ï¼š<br/>
ä¸ºäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå¯ä»¥å°†å¤šä¸ª CSS æ–‡ä»¶åœ¨æ„å»ºé˜¶æ®µï¼ˆä½¿ç”¨ Webpack, Vite, Gulp ç­‰å·¥å…·ï¼‰åˆå¹¶ã€å‹ç¼©ï¼Œç„¶åç”¨ä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªÂ <code>&lt;link&gt;</code>Â æ ‡ç­¾å¼•å…¥ï¼Œå‡å°‘ HTTP è¯·æ±‚æ•°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Figmaç”»å¸ƒåè®®æ­ç§˜ï¼šç»„ä»¶ç³»ç»Ÿçš„è®¾è®¡å“²å­¦]]></title>    <link>https://juejin.cn/post/7586505172815478835</link>    <guid>https://juejin.cn/post/7586505172815478835</guid>    <pubDate>2025-12-22T14:42:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815478835" data-draft-id="7586506307726999562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Figmaç”»å¸ƒåè®®æ­ç§˜ï¼šç»„ä»¶ç³»ç»Ÿçš„è®¾è®¡å“²å­¦"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T14:42:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¬é£è¯´å›¾"/> <meta itemprop="url" content="https://juejin.cn/user/198345371681864"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Figmaç”»å¸ƒåè®®æ­ç§˜ï¼šç»„ä»¶ç³»ç»Ÿçš„è®¾è®¡å“²å­¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/198345371681864/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¬é£è¯´å›¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:42:23.000Z" title="Mon Dec 22 2025 14:42:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ­¤å‰æˆ‘ä»¬ä»‹ç»äº†<strong>ç»„ä»¶å®ä¾‹çš„ SymbolOverrides è¦†ç›–æœºåˆ¶</strong>ï¼Œä½œä¸ºä»Šæ—¥å†…å®¹çš„é“ºå«ï¼Œç°åœ¨æˆ‘ä»¬æ¥æ·±å…¥è§£æä» Overrides åˆ° Props çš„æ¶æ„å“²å­¦ï¼Œå¹¶å°†å…¶ä¸å‰ç«¯å·¥ç¨‹åŒ–æ¦‚å¿µè¿›è¡Œå¯¹æ¯”ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. å®ä¾‹ä¸ªæ€§åŒ–çš„ä¸¤æ¡è·¯å¾„ï¼šOverrides vs Props</h2>
<p>åœ¨Figmaçš„åè®®ä¸­ï¼Œå®ç°â€œå®ä¾‹ä¸ç»„ä»¶ä¸åŒâ€ä¸»è¦æœ‰ä¸¤ç§æœºåˆ¶ï¼Œå®ƒä»¬ä»£è¡¨äº†ä¸¤ç§å®Œå…¨ä¸åŒçš„è®¾è®¡å“²å­¦ï¼š</p>
<h3 data-id="heading-1">ğŸ”§Â <strong>1.1 SymbolOverridesï¼ˆçµæ´»æ€§è®¾è®¡ï¼šç›´æ¥æ“ä½œï¼‰</strong></h3>
<ul>
<li><strong>æœºåˆ¶</strong>ï¼šåŸºäºè·¯å¾„ï¼ˆPathï¼‰ï¼Œç±»ä¼¼äºjQueryçš„<code>$('.parent .child').css(...)</code></li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š</li>
<li>
<ul>
<li><strong>ä¾µå…¥å¼</strong>ï¼šå®ä¾‹å¿…é¡»çŸ¥é“ç»„ä»¶å†…éƒ¨çš„ç»“æ„ï¼ˆGUID Pathï¼‰</li>
<li><strong>æ— é™çµæ´»</strong>ï¼šå¯ä»¥ä¿®æ”¹ç»„ä»¶å†…éƒ¨ä»»ä½•æœªé”å®šçš„èŠ‚ç‚¹ï¼Œæ— éœ€ç»„ä»¶ä½œè€…æ˜¾å¼å…è®¸</li>
</ul>
</li>
<li><strong>æ•°æ®ç»“æ„</strong>ï¼šå­˜å‚¨åœ¨<code>symbolOverrides</code>æ•°ç»„ä¸­ï¼ŒåŒ…å«<code>guidPath</code>å’Œå…·ä½“çš„å±æ€§è¦†ç›–ï¼ˆå¦‚<code>textData</code>ã€<code>fillPaints</code>ï¼‰</li>
</ul>
<h3 data-id="heading-2">ğŸ¯Â <strong>1.2 ComponentPropAssignmentsï¼ˆç°ä»£åŒ–è®¾è®¡ï¼šAPIæ¥å£ï¼‰</strong></h3>
<ul>
<li><strong>æœºåˆ¶</strong>ï¼šåŸºäºå®šä¹‰ï¼ˆDefinitionï¼‰ï¼Œç±»ä¼¼äºReact/Vueçš„<code>&lt;Button label="æäº¤" /&gt;</code></li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š</li>
<li>
<ul>
<li><strong>å°è£…æ€§</strong>ï¼šå®ä¾‹åªé€šè¿‡ç»„ä»¶æš´éœ²çš„â€œæ¥å£â€ï¼ˆPropsï¼‰è¿›è¡Œäº¤äº’ï¼Œä¸å…³å¿ƒå†…éƒ¨å®ç°</li>
<li><strong>å—æ§</strong>ï¼šç»„ä»¶ä½œè€…å†³å®šäº†å“ªäº›å±æ€§å¯ä»¥è¢«ä¿®æ”¹</li>
</ul>
</li>
<li><strong>æ•°æ®ç»“æ„</strong>ï¼šå­˜å‚¨åœ¨<code>componentPropAssignments</code>ä¸­ï¼Œç›´æ¥æ˜ å°„ç»„ä»¶å®šä¹‰çš„å±æ€§å€¼</li>
</ul>
<h3 data-id="heading-3">â“Â <strong>ä¸ºä»€ä¹ˆä¸¤è€…å…±å­˜ï¼Ÿ</strong></h3>
<p>å¦‚æœå®Œå…¨æŒ‰ç…§å‰ç«¯å·¥ç¨‹åŒ–çš„æ€è·¯ï¼Œåº”è¯¥åªä¿ç•™Propsã€‚ä½†åœ¨è®¾è®¡å·¥å…·ä¸­ï¼š</p>
<blockquote>
<p><strong>é¿å…å±æ€§çˆ†ç‚¸</strong>ï¼šå¦‚æœæ¯ä¸ªå¾®å°çš„ä¿®æ”¹éƒ½éœ€è¦å®šä¹‰Propï¼Œå³ä¾§å±æ€§é¢æ¿å°†å˜å¾—ä¸å¯ç»´æŠ¤ã€‚Overridesæä¾›äº†â€œæ‰€è§å³æ‰€å¾—â€çš„è‡ªç”±ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">2. æ•°æ®æµå‘ï¼šæ‰å¹³åŒ– vs å±‚çº§åŒ–</h2>
<p>å‰ç«¯å¼€å‘è€…ä¹ æƒ¯äºProp Drillingï¼ˆå±æ€§å±‚å±‚ä¼ é€’ï¼‰ï¼Œä½†åœ¨Figmaä¸­ï¼Œæ•°æ®æµæ˜¯æ‰å¹³åŒ–çš„ã€‚</p>
<h3 data-id="heading-5">ğŸ¤”Â <strong>2.1 ä¸ºä»€ä¹ˆä¸åšProp Drillingï¼Ÿ</strong></h3>
<p>åœ¨å¯è§†åŒ–å·¥å…·ä¸­ï¼Œå¦‚æœç»„ä»¶AåŒ…å«Bï¼ŒBåŒ…å«Cï¼Œè¦è®©Aæ§åˆ¶Cçš„é¢œè‰²ï¼Œå¼ºåˆ¶å±‚å±‚å®šä¹‰Propsä¼šå¯¼è‡´<strong>äº¤äº’ç¾éš¾</strong>ï¼ˆæ¯å°è£…ä¸€å±‚éƒ½è¦æ‰‹åŠ¨Re-exportæ‰€æœ‰å±æ€§ï¼‰ã€‚</p>
<h3 data-id="heading-6">ğŸ’¡Â <strong>2.2 Figmaçš„è§£å†³æ–¹æ¡ˆ</strong></h3>
<h4 data-id="heading-7"><strong>å±æ€§æš´éœ²ï¼ˆBubblingï¼‰</strong></h4>
<ul>
<li>å¯¹åº”å­—æ®µï¼š<code>propsAreBubbled: true</code></li>
<li>æœºåˆ¶ï¼šå…è®¸å°†æ·±å±‚åµŒå¥—å®ä¾‹çš„å±æ€§ç›´æ¥â€œæå‡â€åˆ°æœ€å¤–å±‚é¢æ¿æ˜¾ç¤ºã€‚è¿™ä¸æ˜¯æ•°æ®ä¼ é€’ï¼Œè€Œæ˜¯æ§åˆ¶æƒæå‡</li>
</ul>
<h4 data-id="heading-8"><strong>å˜é‡ç³»ç»Ÿï¼ˆVariablesï¼‰</strong></h4>
<ul>
<li>ç±»ä¼¼React Context / Vue Provide-Inject</li>
<li>é€šè¿‡ç»‘å®šå…¨å±€å˜é‡ï¼ˆDesign Tokensï¼‰ï¼Œå®ç°è·¨å±‚çº§çš„æ•°æ®å…±äº«ï¼Œè·³è¿‡ä¸­é—´å±‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">3. åº•å±‚æœºåˆ¶ï¼šæ¶ˆè´¹ä¸æ˜ å°„</h2>
<h3 data-id="heading-10"><strong>3.1 parameterConsumptionMap vs componentPropRefs</strong></h3>
<p>è¿™ä¸¤ä¸ªå­—æ®µéƒ½æ¶‰åŠå±æ€§ç»‘å®šï¼Œä½†èŒè´£ä¸åŒï¼š</p>




















<table><thead><tr><th>å­—æ®µ</th><th>èŒè´£</th><th>ä½œç”¨åŸŸ</th></tr></thead><tbody><tr><td><strong>componentPropRefs</strong></td><td>å…ƒæ•°æ®ï¼ˆMetadataï¼‰</td><td>ä¸»è¦ç”¨äºUIæ˜¾ç¤ºï¼ˆå¦‚ç´«è‰²è±å½¢å›¾æ ‡ï¼‰å’Œä¾èµ–è¿½è¸ªã€‚æ˜¯æ—©æœŸçš„ä¸“ç”¨è®¾è®¡</td></tr><tr><td><strong>parameterConsumptionMap</strong></td><td>æ‰§è¡Œï¼ˆExecutionï¼‰</td><td>é€šç”¨çš„æ•°æ®æ¶ˆè´¹æœºåˆ¶ã€‚å®ƒå‘Šè¯‰æ¸²æŸ“å¼•æ“å¦‚ä½•å°†â€œå€¼â€ï¼ˆProps/Variablesï¼‰è§£æå¹¶åº”ç”¨åˆ°å…·ä½“çš„èŠ‚ç‚¹å­—æ®µï¼ˆå¦‚TEXT_DATA, VISIBLE, INSTANCE_SWAPï¼‰</td></tr></tbody></table>
<h3 data-id="heading-11"><strong>3.2 ä¸ºä»€ä¹ˆåµŒå¥—å®ä¾‹çš„Propsåœ¨symbolOverridesé‡Œï¼Ÿ</strong></h3>
<p>å½“ä½ ä¿®æ”¹ä¸€ä¸ªåµŒå¥—ç»„ä»¶çš„Propæ—¶ï¼Œæ•°æ®ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-attr">[{  <span class="hljs-string">"symbolOverrides"</span>:[{<span class="hljs-string">"guidPath"</span>:[...]</span>,<span class="hljs-comment">// 1. å¯»å€ï¼šæ‰¾åˆ°å†…éƒ¨çš„é‚£ä¸ªç»„ä»¶å®ä¾‹ </span>
"<span class="hljs-selector-tag">componentPropAssignments</span>":<span class="hljs-selector-attr">[...]</span><span class="hljs-comment">// 2. èµ‹å€¼ï¼šä¿®æ”¹å®ƒçš„Props</span>
}]
</code></pre>
<ul>
<li>é¡¶å±‚å±æ€§ï¼šç›´æ¥æŒ‚è½½åœ¨å®ä¾‹ä¸Šï¼ˆO(1)è®¿é—®ï¼Œä»£è¡¨â€œæˆ‘è‡ªå·±çš„é…ç½®â€ï¼‰</li>
</ul>

<ul>
<li><strong>åµŒå¥—å±æ€§</strong>ï¼šå¿…é¡»é€šè¿‡<code>symbolOverrides</code>å¯»å€ï¼ˆO(N)æŸ¥æ‰¾ï¼Œä»£è¡¨â€œå¯¹ä»–äººçš„ä¿®æ”¹â€ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-12">4. æ¸²æŸ“æµæ°´çº¿ï¼ˆPipelineï¼‰</h2>
<p>ç†è§£äº†ä¸Šè¿°ç»“æ„ï¼Œå°±èƒ½æ¨å¯¼å‡ºæ¸²æŸ“å¼•æ“çš„æ­£ç¡®å¤„ç†é¡ºåºï¼š</p>
<ol>
<li><strong>å±æ€§è§£æï¼ˆProps Resolutionï¼‰</strong> ï¼šè¯»å–<code>componentPropAssignments</code>ï¼Œç¡®å®šæ‰€æœ‰Propsçš„å€¼</li>
<li><strong>ç»“æ„æ‰©å±•ï¼ˆTree Expansionï¼‰</strong> ï¼š</li>
<li>
<ul>
<li>å…³é”®ç‚¹ï¼šå¿…é¡»å…ˆè§£æPropsï¼Œå› ä¸º<code>INSTANCE_SWAP</code>å±æ€§ä¼šæ”¹å˜å­æ ‘çš„ç»“æ„ï¼ˆå†³å®šåŠ è½½å“ªä¸ªSymbolï¼‰</li>
<li>æ ¹æ®è§£æå‡ºçš„Symbol IDé€’å½’ç”ŸæˆèŠ‚ç‚¹æ ‘</li>
</ul>
</li>
<li><strong>è¦†ç›–åº”ç”¨ï¼ˆApply Overridesï¼‰</strong> ï¼š</li>
<li>
<ul>
<li>æ ‘ç»“æ„ç¡®å®šåï¼Œåˆ©ç”¨<code>parameterConsumptionMap</code>åº”ç”¨éç»“æ„æ€§å±æ€§ï¼ˆæ–‡æœ¬ã€å¯è§æ€§ï¼‰</li>
<li>éå†<code>symbolOverrides</code>ï¼Œé€šè¿‡è·¯å¾„åŒ¹é…åº”ç”¨æ‰‹åŠ¨ä¿®æ”¹çš„æ ·å¼</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-13">5. æ€»ç»“</h2>
<blockquote>
<p>Figmaçš„åè®®è®¾è®¡æ˜¯åœ¨<strong>å·¥ç¨‹è§„èŒƒæ€§ï¼ˆPropsï¼‰</strong> å’Œ<strong>è®¾è®¡çµæ´»æ€§ï¼ˆOverridesï¼‰</strong> ä¹‹é—´å¯»æ‰¾å¹³è¡¡çš„ç»“æœã€‚å®ƒæ²¡æœ‰ç…§æ¬ä»£ç ä¸–ç•Œçš„â€œå•å‘æ•°æ®æµâ€ï¼Œè€Œæ˜¯é€šè¿‡<strong>å±æ€§æå‡</strong>å’Œ<strong>å˜é‡ä¸Šä¸‹æ–‡</strong>è§£å†³äº†å¯è§†åŒ–ç¼–è¾‘ä¸­çš„æ•ˆç‡é—®é¢˜ã€‚</p>
</blockquote>
<hr/>
<p><strong>ğŸ’¡ å…³é”®æ´å¯Ÿ</strong>ï¼š</p>
<ul>
<li>Overridesæ˜¯è®¾è®¡å·¥å…·çš„ç‰¹æœ‰æœºåˆ¶ï¼Œæä¾›ç¼–è¾‘è‡ªç”±</li>
<li>Propså€Ÿé‰´äº†å‰ç«¯ç»„ä»¶åŒ–æ€æƒ³ï¼Œå¼ºè°ƒå°è£…å’Œå¯æ§</li>
<li>æ‰å¹³åŒ–æ•°æ®æµ+å˜é‡ç³»ç»Ÿæ˜¯Figmaåº”å¯¹å¤æ‚æ€§çš„æ ¸å¿ƒæ–¹æ¡ˆ</li>
<li>æ¸²æŸ“é¡ºåºä½“ç°äº†æ•°æ®ç»“æ„å†³å®šç®—æ³•è®¾è®¡çš„ç»å…¸æ€æƒ³</li>
</ul>
<p><strong>ğŸ”® æ€è€ƒå»¶ä¼¸</strong>ï¼šè¿™å¥—æ··åˆæ¶æ„æ˜¯å¦é¢„ç¤ºç€æœªæ¥è®¾è®¡å·¥å…·ä¸å¼€å‘å·¥å…·çš„è¿›ä¸€æ­¥èåˆï¼Ÿåœ¨ä½ä»£ç /æ— ä»£ç å¹³å°ä¸­ï¼Œè¿™ç§å¹³è¡¡è‰ºæœ¯åˆå°†å¦‚ä½•æ¼”è¿›ï¼Ÿ</p>
<hr/>
<blockquote>
<p>æœ¬æ–‡æ·±åº¦è§£æäº†Figmaç»„ä»¶ç³»ç»Ÿçš„åº•å±‚è®¾è®¡å“²å­¦ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ä½ æ›´æ·±åˆ»åœ°ç†è§£ç°ä»£è®¾è®¡å·¥å…·çš„æ¶æ„æ€è€ƒã€‚å¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´ï¼Œè¿™ç§å¯¹æ¯”å­¦ä¹ ä¹Ÿèƒ½åŠ æ·±å¯¹ç»„ä»¶åŒ–æœ¬è´¨çš„ç†è§£ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ Webpack5ï¼šä»æ‰“åŒ…åˆ°çƒ­æ›´æ–°åŸç†]]></title>    <link>https://juejin.cn/post/7586569284551229480</link>    <guid>https://juejin.cn/post/7586569284551229480</guid>    <pubDate>2025-12-23T01:59:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586569284551229480" data-draft-id="7586559672129372212" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ Webpack5ï¼šä»æ‰“åŒ…åˆ°çƒ­æ›´æ–°åŸç†"/> <meta itemprop="keywords" content="å‰ç«¯,Webpack"/> <meta itemprop="datePublished" content="2025-12-23T01:59:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ”¿é‡‡äº‘æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3456520257288974"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ Webpack5ï¼šä»æ‰“åŒ…åˆ°çƒ­æ›´æ–°åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3456520257288974/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ”¿é‡‡äº‘æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T01:59:42.000Z" title="Tue Dec 23 2025 01:59:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b637793da67b4e068460a99d94b333ed~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=4722&amp;h=696&amp;s=276733&amp;e=png&amp;b=fafcff" alt="æ–‡ç« é¡¶éƒ¨.png" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e02b965140a4a3499441e0f1d7b84f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767059982&amp;x-signature=kvLbOfragtPb9sggf1gvtnGLBS4%3D" alt="ä½œè€…å¡ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦æ„å»ºå·¥å…·ï¼Ÿ</h2>
<h4 data-id="heading-1">ä¸€ã€è§£å†³ â€œé«˜çº§è¯­æ³•ä¸æµè§ˆå™¨å…¼å®¹æ€§â€ çš„çŸ›ç›¾</h4>
<p>å‰ç«¯æŠ€æœ¯è¿­ä»£å¿«ï¼ˆå¦‚ ES6+ çš„ <code>async/await</code>ã€ç®­å¤´å‡½æ•°ï¼ŒCSS çš„ <code>grid</code> å¸ƒå±€ï¼‰ï¼Œä½†æ—§æµè§ˆå™¨ï¼ˆå¦‚ IE11ã€Safari 10ï¼‰ä¸æ”¯æŒè¿™äº›æ–°ç‰¹æ€§ã€‚æ„å»ºå·¥å…·é€šè¿‡è½¬è¯‘ï¼ˆTranspileï¼‰å’Œå‰ç¼€æ·»åŠ ï¼ˆPrefixingï¼‰è§£å†³å…¼å®¹é—®é¢˜ï¼š</p>
<ol>
<li>JavaScript è½¬è¯‘</li>
</ol>
<p>å‘è€…ä¼šä½¿ç”¨ ES6+ åŠä»¥ä¸Šè¯­æ³•ï¼ˆå¦‚ç±» <code>class</code>ï¼‰ã€TypeScriptï¼ˆç±»å‹å¢å¼ºçš„ JSï¼‰ã€JSXï¼ˆReact ç»„ä»¶è¯­æ³•ï¼‰ç­‰æé«˜å¼€å‘æ•ˆç‡ï¼Œä½†è¿™äº›è¯­æ³•åœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨æˆ–éƒ¨åˆ†ç°ä»£æµè§ˆå™¨ä¸­æ— æ³•ç›´æ¥è¿è¡Œã€‚æ„å»ºå·¥å…·ï¼ˆé…åˆ Babelã€tsc ç­‰ï¼‰ä¼šå°†è¿™äº›é«˜çº§è¯­æ³•è½¬è¯‘ä¸ºæµè§ˆå™¨å¯è¯†åˆ«çš„ ES5 è¯­æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-css" lang="css">// å¼€å‘æ—¶å†™çš„ ES6 è¯­æ³•
const sum = (<span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">b</span>) =&gt; <span class="hljs-selector-tag">a</span> + <span class="hljs-selector-tag">b</span>;
// æ„å»ºå·¥å…·è½¬è¯‘åï¼ˆå…¼å®¹æ—§æµè§ˆå™¨ï¼‰
<span class="hljs-selector-tag">var</span> sum = function(<span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">b</span>) { return <span class="hljs-selector-tag">a</span> + <span class="hljs-selector-tag">b</span>; };
</code></pre>
<p>2.  CSS å±æ€§æ·»åŠ æµè§ˆå™¨å‰ç¼€</p>
<p>å¼€å‘è€…å¸¸ç”¨ Sass/Less/Stylus ç­‰é¢„å¤„ç†å™¨ï¼ˆæ”¯æŒå˜é‡ã€åµŒå¥—ã€æ··å…¥ç­‰åŠŸèƒ½ï¼‰ç¼–å†™ CSSï¼Œæˆ–ä½¿ç”¨ CSS Modules è§£å†³æ ·å¼å†²çªï¼Œä½†æµè§ˆå™¨åªè®¤è¯†åŸç”Ÿ CSSã€‚æ„å»ºå·¥å…·ï¼ˆé…åˆ <code>sass-loader</code>ã€<code>postcss</code> ç­‰ï¼‰ä¼šå°†é¢„å¤„ç†å™¨è¯­æ³•ç¼–è¯‘ä¸ºåŸç”Ÿ CSSï¼ŒåŒæ—¶é€šè¿‡ <code>autoprefixer</code>è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€ï¼ˆå¦‚ <code>-webkit-</code>ã€<code>-moz-</code>ï¼‰ï¼Œé€‚é…ä¸åŒæµè§ˆå™¨çš„ CSS ç‰¹æ€§æ”¯æŒã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-css" lang="css">// å¼€å‘æ—¶å†™çš„ Sass
$<span class="hljs-attribute">color</span>: red;
<span class="hljs-selector-class">.box</span> {
 Â <span class="hljs-attribute">color</span>: $color;
  &amp;<span class="hljs-selector-pseudo">:hover</span> { <span class="hljs-attribute">color</span>: blue; }
}
// æ„å»ºåç”Ÿæˆçš„ CSSï¼ˆå¸¦å‰ç¼€ï¼‰
<span class="hljs-selector-class">.box</span> { <span class="hljs-attribute">color</span>: red; }
<span class="hljs-selector-class">.box</span><span class="hljs-selector-pseudo">:hover</span> { <span class="hljs-attribute">color</span>: blue; }
<span class="hljs-keyword">@supports</span> (<span class="hljs-attribute">-webkit-appearance</span>: none) { <span class="hljs-selector-class">.box</span> { <span class="hljs-comment">/* é€‚é…webkitå†…æ ¸ */</span> } }
</code></pre>
<h4 data-id="heading-2">äºŒã€å¤„ç† â€œæ¨¡å—åŒ–å¼€å‘ä¸æµè§ˆå™¨åŠ è½½é™åˆ¶â€ çš„çŸ›ç›¾</h4>
<p>å‰ç«¯é¡¹ç›®æ—©å·²ä» â€œå•æ–‡ä»¶â€ å‘å±•ä¸º â€œå¤šæ¨¡å—ç»„åˆâ€ï¼Œä½†æµè§ˆå™¨å¯¹æ¨¡å—åŒ–çš„åŸç”Ÿæ”¯æŒæœ‰é™ï¼Œéœ€è¦æ„å»ºå·¥å…·è¿›è¡Œä¾èµ–ç®¡ç†ä¸æ‰“åŒ…ï¼š</p>
<ol>
<li>
<p>æ¨¡å—åŒ–è¯­æ³•ç»Ÿä¸€ä¸è§£æå‰ç«¯æ¨¡å—åŒ–è§„èŒƒä¼—å¤šï¼ˆES Modules <code>import/export</code>ã€CommonJS <code>require/module.exports</code>ã€AMD ç­‰ï¼‰ï¼Œä¸åŒåº“å¯èƒ½ä½¿ç”¨ä¸åŒè§„èŒƒï¼Œæµè§ˆå™¨åŸç”Ÿæ— æ³•ç»Ÿä¸€å¤„ç†ã€‚æ„å»ºå·¥å…·ä¼šè§£ææ‰€æœ‰æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œå¹¶å°†ä¸åŒè§„èŒƒçš„æ¨¡å—è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼ï¼ˆé€šå¸¸æ˜¯ ES Modules æˆ–æ‰“åŒ…åçš„å•æ–‡ä»¶ï¼‰ï¼Œç¡®ä¿ä»£ç èƒ½æ­£ç¡®è¿è¡Œã€‚</p>
</li>
<li>
<p>ä¾èµ–åˆå¹¶ä¸è·¯å¾„å¤„ç†ä¸€ä¸ªå¤æ‚é¡¹ç›®å¯èƒ½ä¾èµ–æ•°ç™¾ä¸ªæ¨¡å—ï¼ˆå¦‚ä¸šåŠ¡ç»„ä»¶ã€å·¥å…·å‡½æ•°ã€ç¬¬ä¸‰æ–¹åº“ï¼‰ï¼Œè‹¥ç›´æ¥è®©æµè§ˆå™¨åŠ è½½è¿™äº›æ¨¡å—ï¼Œä¼šå¯¼è‡´ï¼š</p>
</li>
</ol>
<ul>
<li>å¤§é‡ç½‘ç»œè¯·æ±‚ï¼ˆæµè§ˆå™¨å¯¹åŒä¸€åŸŸåçš„å¹¶å‘è¯·æ±‚æ•°æœ‰é™ï¼Œé€šå¸¸ 6-8 ä¸ªï¼‰ï¼Œä¸¥é‡æ‹–æ…¢åŠ è½½é€Ÿåº¦ï¼›</li>
<li>æ¨¡å—è·¯å¾„æ··ä¹±ï¼ˆå¦‚ç›¸å¯¹è·¯å¾„ã€åˆ«åè·¯å¾„ <code>@/components</code> ç­‰ï¼Œæµè§ˆå™¨æ— æ³•ç›´æ¥è¯†åˆ«ï¼‰ã€‚</li>
</ul>
<p>æ„å»ºå·¥å…·ä¼šå°†å¤šä¸ªå…³è”æ¨¡å—åˆå¹¶ä¸ºå°‘æ•°å‡ ä¸ª â€œchunkâ€ï¼ˆæ‰“åŒ…äº§ç‰©ï¼‰ï¼Œå¹¶è‡ªåŠ¨å¤„ç†è·¯å¾„è§£æï¼ˆå¦‚å°† <code>@/components</code> æ˜ å°„åˆ°å®é™…ç›®å½•ï¼‰ï¼Œå‡å°‘è¯·æ±‚æ•°å¹¶è§£å†³è·¯å¾„é—®é¢˜ã€‚</p>
<h4 data-id="heading-3">ä¸‰ã€ä¼˜åŒ– â€œå¼€å‘æ•ˆç‡ä¸ç”Ÿäº§æ€§èƒ½â€ çš„çŸ›ç›¾</h4>
<p>å¼€å‘æ—¶ï¼Œæˆ‘ä»¬è¿½æ±‚çš„æ˜¯é«˜æ•ˆçš„è°ƒè¯•å’Œå¿«é€Ÿçš„ä»£ç å˜æ›´åé¦ˆï¼ˆå¼€å‘ä½“éªŒï¼‰ã€‚è€Œç”Ÿäº§ç¯å¢ƒè¿½æ±‚çš„æ˜¯æè‡´çš„åŠ è½½æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚æ„å»ºå·¥å…·é€šè¿‡åŒºåˆ†å¼€å‘æ¨¡å¼ï¼ˆdevelopmentï¼‰ å’Œç”Ÿäº§æ¨¡å¼ï¼ˆproductionï¼‰ï¼Œç”¨ä¸€å¥—é…ç½®å®Œç¾è§£å†³ä¸¤ç§æˆªç„¶ä¸åŒçš„éœ€æ±‚ã€‚</p>
<ol>
<li>å¼€å‘æ¨¡å¼ï¼ˆDevelopmentï¼‰ - è¿½æ±‚é€Ÿåº¦ä¸å¯è°ƒè¯•æ€§</li>
</ol>
<ul>
<li>Source Mapï¼šå°†æ‰“åŒ…å‹ç¼©åçš„ä»£ç æ˜ å°„å›åŸå§‹æºä»£ç ã€‚å½“ä½ åœ¨æµè§ˆå™¨è°ƒè¯•æ—¶ï¼Œçœ‹åˆ°çš„ä»ç„¶æ˜¯æ¸…æ™°å¯è¯»çš„åŸå§‹æ–‡ä»¶ç»“æ„ï¼Œè€Œä¸æ˜¯ä¸€å›¢æ··ä¹±çš„æ‰“åŒ…åä»£ç ï¼Œä½¿å¾—è°ƒè¯•å˜å¾—éå¸¸ç®€å•ã€‚</li>
<li>çƒ­æ›´æ–°ï¼ˆHMRï¼‰ï¼šåªæ›¿æ¢ä¿®æ”¹äº†çš„æ¨¡å—ï¼Œä¿æŒåº”ç”¨å½“å‰çŠ¶æ€ï¼ˆå¦‚è¡¨å•è¾“å…¥ã€æ»šåŠ¨ä½ç½®ï¼‰ï¼Œæ— éœ€æ•´é¡µåˆ·æ–°ï¼Œå®ç°ç§’çº§æ›´æ–°ã€‚</li>
<li>æ›´å¿«çš„æ„å»ºé€Ÿåº¦ï¼šä¼šè·³è¿‡ä»£ç å‹ç¼©ã€Tree Shaking ç­‰è€—æ—¶çš„ä¼˜åŒ–æ­¥éª¤ï¼Œä¿è¯å¼€å‘æ—¶é‡æ–°æ‰“åŒ…çš„é€Ÿåº¦ã€‚</li>
</ul>
<ol start="2">
<li>ç”Ÿäº§æ¨¡å¼ï¼ˆProductionï¼‰ - è¿½æ±‚ä½“ç§¯ä¸æ€§èƒ½</li>
</ol>
<ul>
<li>ä»£ç å‹ç¼©ï¼ˆMinificationï¼‰ï¼šä½¿ç”¨ Terser å‹ç¼© JavaScriptï¼Œcssnano å‹ç¼© CSSï¼Œç§»é™¤æ‰€æœ‰æ³¨é‡Šã€ç©ºæ ¼ã€ç¼©çŸ­å˜é‡åï¼Œèƒ½æ˜¾è‘—å‡å°æ–‡ä»¶ä½“ç§¯ï¼ˆé€šå¸¸å‡å°‘ 60%-70%ï¼‰ã€‚</li>
<li>ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰ï¼šå°†ä»£ç æ‹†åˆ†æˆå¤šä¸ªæŒ‰éœ€åŠ è½½çš„å—ï¼ˆchunkï¼‰ã€‚ç»“åˆåŠ¨æ€å¯¼å…¥ï¼ˆ<code>import()</code>ï¼‰ï¼Œå¯ä»¥å®ç°æ‡’åŠ è½½ï¼Œè®©ç”¨æˆ·åªåŠ è½½å½“å‰é¡µé¢æˆ–è·¯ç”±æ‰€éœ€çš„ä»£ç ï¼Œæå¤§åŠ é€Ÿé¦–å±åŠ è½½æ—¶é—´ã€‚</li>
<li>Tree Shakingï¼šåƒæ‘‡æ ‘ä¸€æ ·ï¼Œé€šè¿‡é™æ€åˆ†ææŠ–è½æœªè¢«ä½¿ç”¨çš„ä»£ç ï¼ˆdead codeï¼‰ï¼Œå¹¶å°†å…¶ä»æœ€ç»ˆæ‰“åŒ…æ–‡ä»¶ä¸­ç§»é™¤ã€‚ä¾‹å¦‚ï¼Œä½ åªå¼•ç”¨äº† Lodash ä¸­çš„ <code>debounce</code> å‡½æ•°ï¼Œæ‰“åŒ…åå°±åªä¼šåŒ…å« <code>debounce</code> åŠå…¶ä¾èµ–ï¼Œè€Œä¸æ˜¯æ•´ä¸ª Lodash åº“ã€‚</li>
<li>èµ„æºä¼˜åŒ–ä¸å‹ç¼©ï¼šè‡ªåŠ¨å‹ç¼©å›¾ç‰‡ã€å°†å°å›¾ç‰‡è½¬ä¸º Base64 å†…è”ã€ä¸ºç°ä»£æµè§ˆå™¨æä¾›æ›´é«˜æ•ˆçš„å›¾ç‰‡æ ¼å¼ï¼ˆå¦‚ WebP/AVIFï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-4">æœ‰å“ªäº›æ„å»ºå·¥å…·ï¼Ÿ</h2>







































































































<table><thead><tr><th>æ„å»ºå·¥å…·</th><th>å¼€å‘è¯­è¨€</th><th>Github Star</th><th>å‘å¸ƒæ—¶é—´</th><th>ä½œè€…</th></tr></thead><tbody><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vite.dev%2F" target="_blank" title="https://cn.vite.dev/" ref="nofollow noopener noreferrer">Vite</a></td><td>TypeScript</td><td>75k</td><td>2020å¹´4æœˆ</td><td>ViteJS</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebpack.js.org%2F" target="_blank" title="https://webpack.js.org/" ref="nofollow noopener noreferrer">Webpack</a></td><td>JavaScript</td><td>65.5k</td><td>2012å¹´3æœˆ</td><td>Facebook</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fparceljs.org%2F" target="_blank" title="https://parceljs.org/" ref="nofollow noopener noreferrer">Parcel</a></td><td>JavaScript</td><td>43.9k</td><td>2017å¹´12æœˆ</td><td>Filament Group</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fesbuild.github.io%2F" target="_blank" title="https://esbuild.github.io/" ref="nofollow noopener noreferrer">esbuild</a></td><td>Go</td><td>39.3k</td><td>2020å¹´</td><td>Evan Wallace</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fgulpjs.com%2F" target="_blank" title="https://gulpjs.com/" ref="nofollow noopener noreferrer">Gulp</a></td><td>JavaScript</td><td>33.1k</td><td>2013å¹´</td><td>Eric Schoffstall</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fswc.rs%2F" target="_blank" title="https://swc.rs/" ref="nofollow noopener noreferrer">swc</a></td><td>Rust</td><td>32.7k</td><td>2017å¹´</td><td>Vercel</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fturborepo.com%2F" target="_blank" title="https://turborepo.com/" ref="nofollow noopener noreferrer">Turbopack</a></td><td>Rust</td><td>28.5k</td><td>2022å¹´10æœˆ</td><td>Vercel</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fnx.dev%2F" target="_blank" title="https://nx.dev/" ref="nofollow noopener noreferrer">Nx</a></td><td>TypeScript</td><td>26.8k</td><td>-</td><td>Nrwl</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Frollupjs.org%2F" target="_blank" title="https://rollupjs.org/" ref="nofollow noopener noreferrer">Rollup</a></td><td>JavaScript</td><td>26k</td><td>2015å¹´</td><td>Rich Harris</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.snowpack.dev%2F" target="_blank" title="https://www.snowpack.dev/" ref="nofollow noopener noreferrer">Snowpack</a></td><td>JavaScript</td><td>19.4k</td><td>2020å¹´5æœˆ</td><td>Pika</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2F" target="_blank" title="https://rolldown.rs/" ref="nofollow noopener noreferrer">Rolldown</a></td><td>Rust</td><td>11.9k</td><td>2024å¹´</td><td>VueJS</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Frspack.rs%2Fzh%2F" target="_blank" title="https://rspack.rs/zh/" ref="nofollow noopener noreferrer">Rspack</a></td><td>Rust</td><td>11.9k</td><td>2023å¹´3æœˆ</td><td>Bytedance</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwmr.dev%2F" target="_blank" title="https://wmr.dev/" ref="nofollow noopener noreferrer">WMR</a></td><td>JavaScript</td><td>4.9k</td><td>-</td><td>Preact</td></tr></tbody></table>
<h2 data-id="heading-5">Webpack å·¥ä½œåŸç†</h2>
<p>åœ¨ä¼—å¤šå‰ç«¯æ„å»ºå·¥å…·ä¸­ï¼ŒWebpack ç”±äºå…¶é«˜åº¦çš„çµæ´»æ€§å’Œå¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä¾ç„¶æ˜¯æœ€å¹¿æ³›ä½¿ç”¨çš„æ‰“åŒ…å·¥å…·ä¹‹ä¸€ã€‚ä¸ Viteã€Parcel ç­‰å·¥å…·ç›¸æ¯”ï¼ŒWebpack æä¾›äº†æ›´ä¸ºç»†è‡´çš„å®šåˆ¶èƒ½åŠ›ï¼Œèƒ½å¤Ÿæ»¡è¶³å¤æ‚é¡¹ç›®çš„éœ€æ±‚ï¼Œå¦‚ä»£ç åˆ†å‰²ã€èµ„æºä¼˜åŒ–å’Œçƒ­æ›´æ–°ç­‰åŠŸèƒ½ã€‚æŒæ¡ Webpack ä¸ä»…æœ‰åŠ©äºæå‡å¼€å‘æ•ˆç‡ï¼Œæ›´èƒ½ä¼˜åŒ–åº”ç”¨æ€§èƒ½ï¼Œå› æ­¤æœ¬æ–‡å°†æ·±å…¥ä»‹ç» Webpack çš„å·¥ä½œåŸç†ã€‚</p>
<h4 data-id="heading-6">ä¸€ã€æ‰“åŒ…è¿‡ç¨‹</h4>
<p>Webpack çš„æ‰“åŒ…æµç¨‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å…³é”®æ­¥éª¤ï¼š</p>
<ol>
<li>è¯»å–é…ç½®æ–‡ä»¶ï¼ŒåŠ è½½æ„å»ºå‚æ•°</li>
</ol>
<p>Webpack CLI å¯åŠ¨åï¼Œä¼šé¦–å…ˆåŠ è½½å¼€å‘è€…æä¾›çš„é…ç½®æ–‡ä»¶<code>webpack.config.js</code>ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>modeã€entryã€output ç­‰åŸºæœ¬é…ç½®</li>
<li>module.rules ä¸­çš„ loader é…ç½®</li>
<li>plugins åˆ—è¡¨</li>
<li>optimization é…ç½®</li>
</ul>
<p>Webpack é‡‡ç”¨Â webpack-cliÂ æ¥è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œå¹¶æœ€ç»ˆè°ƒç”¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">webpack</span> = require(<span class="hljs-string">"webpack"</span>)<span class="hljs-comment">;</span>
webpack(options)
</code></pre>
<p>æ­¤æ—¶ Webpack ä¼šå®Œæˆé…ç½®åˆå¹¶ï¼ˆWebpack å†…éƒ¨ä½¿ç”¨ webpack-merge çš„ç­–ç•¥ï¼‰ï¼Œå°†é»˜è®¤é…ç½®ä¸ç”¨æˆ·é…ç½®æ‹¼æ¥æˆæœ€ç»ˆ options å¯¹è±¡ã€‚</p>
<p>è¿™ä¸€æ­¥çš„ä½œç”¨æ˜¯ç¡®å®š Webpack åç»­æ„å»ºè¿‡ç¨‹æ‰€ä¾èµ–çš„å…¨éƒ¨å…ƒä¿¡æ¯ã€‚</p>
<ol>
<li>åˆ›å»º Compiler å¯¹è±¡ï¼Œåˆå§‹åŒ–ç¼–è¯‘æ€»ä½“è°ƒåº¦å™¨</li>
</ol>
<p>Webpack çš„ä¸»æ§åˆ¶å™¨æ˜¯Â <code>Compiler</code>Â ç±»ï¼ŒCompiler æ˜¯ Webpack ä»å¼€å§‹åˆ°ç»“æŸè´¯ç©¿å§‹ç»ˆçš„å¯¹è±¡ï¼Œå®ƒæ§åˆ¶ç€æ„å»ºç”Ÿå‘½å‘¨æœŸçš„æ¯ä¸€ä¸ªé˜¶æ®µï¼Œå¹¶å°†ç”Ÿå‘½å‘¨æœŸå¼€æ”¾ç»™æ’ä»¶ç³»ç»Ÿï¼ˆåŸºäº Tapableï¼‰ã€‚</p>
<p>Compiler çš„èŒè´£åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç®¡ç†æ•´ä¸ªæ„å»ºç”Ÿå‘½å‘¨æœŸ</li>
<li>è´Ÿè´£è°ƒç”¨æ’ä»¶ã€è§¦å‘é’©å­</li>
<li>ç»Ÿä¸€è°ƒåº¦ Compilationã€æ¨¡å—å·¥å‚ã€Chunk æ„å»ºç­‰æ ¸å¿ƒå†…å®¹</li>
</ul>
<p>ç®€åŒ–åçš„æ ¸å¿ƒç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Compiler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Tapable</span> </span>{
  constructor(options) {
    <span class="hljs-keyword">super</span>();
    <span class="hljs-keyword">this</span>.options = options;
    <span class="hljs-keyword">this</span>.hooks = {
      initialize: <span class="hljs-keyword">new</span> <span class="hljs-type">SyncHook</span>(),
      run: <span class="hljs-keyword">new</span> <span class="hljs-type">AsyncSeriesHook</span>([<span class="hljs-string">"compiler"</span>]),
      compile: <span class="hljs-keyword">new</span> <span class="hljs-type">SyncHook</span>([<span class="hljs-string">"params"</span>]),
      make: <span class="hljs-keyword">new</span> <span class="hljs-type">AsyncParallelHook</span>([<span class="hljs-string">"compilation"</span>]),
      emit: <span class="hljs-keyword">new</span> <span class="hljs-type">AsyncSeriesHook</span>([<span class="hljs-string">"compilation"</span>]),
      done: <span class="hljs-keyword">new</span> <span class="hljs-type">SyncHook</span>([<span class="hljs-string">"stats"</span>]),
      <span class="hljs-comment">// ...</span>
    };
  }

  run(callback) {
    <span class="hljs-keyword">this</span>.hooks.run.callAsync(<span class="hljs-keyword">this</span>, err =&gt; {
      <span class="hljs-keyword">this</span>.compile(onCompiled);
    });
  }

  compile(callback) {
    const compilation = <span class="hljs-keyword">this</span>.newCompilation();
    <span class="hljs-keyword">this</span>.hooks.make.callAsync(compilation, err =&gt; {
      compilation.finish(() =&gt; {
        compilation.seal(callback);
      });
    });
  }
}
</code></pre>
<p><code>compiler.run()</code>Â æ˜¯ WebpackÂ å•æ¬¡æ„å»ºæµç¨‹çš„å¯åŠ¨å‡½æ•°ã€‚å®ƒåšä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>è°ƒåº¦æ„å»ºç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œå¦‚Â <code>beforeRun</code>Â /Â <code>run</code></li>
<li>è°ƒç”¨Â <code>compiler.compile()</code>Â æ‰§è¡ŒçœŸæ­£çš„ç¼–è¯‘é€»è¾‘</li>
<li>è°ƒç”¨Â <code>emit</code>Â /Â <code>afterEmit</code>Â /Â <code>done</code>Â ç­‰é’©å­äº§å‡ºç»“æœ</li>
</ul>
<p>Compiler æ§åˆ¶æ•´ä½“æµç¨‹ï¼Œè€Œ Compilation åˆ™æ§åˆ¶ï¼š</p>
<ul>
<li>æ¨¡å—æ„å»ºï¼ˆæ„å»ºæ¯ä¸€ä¸ª JS/CSS/å›¾ç‰‡ç­‰æ¨¡å—ï¼‰</li>
<li>æ¨¡å—ä¾èµ–åˆ†æ</li>
<li>Chunk æ„å»º</li>
<li>ä»£ç ä¼˜åŒ–ï¼ˆTree Shakingã€SplitChunksï¼‰</li>
<li>ç”Ÿæˆæœ€ç»ˆèµ„æºï¼ˆassetsï¼‰</li>
</ul>
<p>Compilation æ˜¯æ„å»ºçš„â€œå·¥ä½œå•ä½â€ï¼Œè´Ÿè´£æ‰€æœ‰å®é™…çš„æ‰“åŒ…å·¥ä½œã€‚</p>
<ol>
<li>ä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œé€’å½’æŸ¥æ‰¾å’Œç¼–è¯‘æ¨¡å—</li>
</ol>
<p>EntryPlugin ä¼šæ ¹æ® entry é…ç½®å‘ Compilation æ³¨å†Œå…¥å£æ¨¡å—ã€‚Webpack éšåä¼šä»å…¥å£å¼€å§‹é€’å½’è§£æä¾èµ–ï¼Œæ„å»ºæ•´ä¸ªä¾èµ–å›¾ã€‚å½“é‡åˆ°é JS æ¨¡å—æ—¶ï¼Œé€šè¿‡ Loader è¿›è¡Œå¤„ç†ï¼ˆå¦‚å°† TS/LESS/å›¾ç‰‡ç­‰è½¬ä¸ºå¯ç”¨æ¨¡å—ï¼‰ã€‚</p>
<p>Webpack åœ¨æ„å»ºæ¨¡å—æ—¶ï¼Œä¼šæ ¹æ® module.rules åŒ¹é…å¯¹åº”çš„ loaderï¼Œä»å³å‘å·¦ä¾æ¬¡å¯¹æ¨¡å—å†…å®¹è¿›è¡Œè½¬æ¢ã€‚</p>
<p>Loader çš„ä½œç”¨åŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li>Babelï¼šå°† ES6+ è½¬è¯‘ä¸º ES5</li>
<li>css-loaderï¼šå¤„ç† CSS æ–‡ä»¶å†…å®¹</li>
<li>url-loader / file-loaderï¼šå¤„ç†å›¾ç‰‡èµ„æº</li>
<li>vue-loader / ts-loaderï¼šå¤„ç† SFC æˆ– TS</li>
</ul>
<p>æœ€ç»ˆï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½ä¼šè¢«è½¬æ¢æˆ JavaScript å­—ç¬¦ä¸²ä¾›åç»­ AST è§£æã€‚</p>
<ol>
<li>è§£ææ¯ä¸ªæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œæ„å»ºæ¨¡å—å›¾ ModuleGraph</li>
</ol>
<p>webpack æŠŠ loader äº§å‡ºçš„ JS ä»£ç è§£ææˆ ASTï¼Œè¯†åˆ«å‡ºæ‰€æœ‰ä¾èµ–èŠ‚ç‚¹ï¼ˆ<code>import</code>Â /Â <code>require</code>Â /Â <code>import()</code>Â / loader æ’å…¥çš„ä¾èµ–ç­‰ï¼‰ï¼Œå¹¶æŠŠè¿™äº›ä¾èµ–æŠ•å½±åˆ°Â ModuleGraphÂ ä¸Šï¼Œå½¢æˆå¯ä¾›åç»­ä¼˜åŒ–å’Œåˆ†å—çš„æœ‰å‘ä¾èµ–å›¾ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// NormalModule.build() å†…éƒ¨æµç¨‹ï¼ˆç²¾ç®€ï¼‰
runLoaders(resource, loaders, (err, result) =&gt; {
  const <span class="hljs-attr">source</span> = result.result[<span class="hljs-number">0</span>]<span class="hljs-comment">;             // loader è¾“å‡º -&gt; JS å­—ç¬¦ä¸² / Source</span>
  const <span class="hljs-attr">parser</span> = compilation.getParser(<span class="hljs-string">"javascript"</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">ast</span> = parser.parse(source)<span class="hljs-comment">;            // acorn -&gt; AST</span>
  const <span class="hljs-attr">dependencies</span> = parser.collectDependencies(ast)<span class="hljs-comment">; // è§£æäº§ç”Ÿ Dependency å®ä¾‹</span>
  for (const dep of dependencies) {
    const <span class="hljs-attr">resolved</span> = resolver.resolve(dep.request)<span class="hljs-comment">;</span>
    const <span class="hljs-attr">depModule</span> = normalModuleFactory.create(resolved)<span class="hljs-comment">;</span>
    moduleGraph.connect(module, dep, depModule)<span class="hljs-comment">; // å»ºå›¾ï¼šæ¨¡å— -&gt; ä¾èµ– -&gt; ç›®æ ‡æ¨¡å—</span>
  }
})<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li>è§£æå™¨ï¼ˆJavascriptParserï¼‰æ˜¯é€šè¿‡ Tapable hook é€èŠ‚ç‚¹è§¦å‘ã€ç”ŸæˆÂ Â å®ä¾‹ï¼ˆä»¥ä¾¿æ’ä»¶/loader èƒ½ä»‹å…¥è§£æè¿‡ç¨‹ï¼‰ã€‚</li>
</ul>

<ul>
<li>NormalModuleFactory / ResolverÂ è´Ÿè´£æŠŠè¯­æ³•å±‚é¢çš„è¯·æ±‚ï¼ˆrequestï¼‰è§£æåˆ°å…·ä½“è·¯å¾„å¹¶åˆ›å»ºÂ ModuleÂ å®ä¾‹ï¼ŒCompilationÂ å°†è¿™äº›æ–°æ¨¡å—åŠ å…¥æ„å»ºé˜Ÿåˆ—ç›´è‡³é€’å½’å®Œæˆã€‚</li>
</ul>
<ol>
<li>
<p>ä¼˜åŒ–æ¨¡å—</p>
<p>åœ¨æ¨¡å—çº§åˆ«ä¸Šå‡å°‘æœ€ç»ˆè¿è¡Œæ—¶ä»£ç ä½“ç§¯å¹¶æå‡è¿è¡Œæ—¶æ€§èƒ½çš„ç­–ç•¥ï¼ŒåŒ…æ‹¬å‰”é™¤æœªä½¿ç”¨ä»£ç ï¼ˆTree Shakingï¼‰ã€åˆå¹¶æ¨¡å—ä»¥ç¼©çŸ­è°ƒç”¨é“¾ä¸å‡å°‘å‡½æ•°åŒ…è£…å¼€é”€ï¼ˆScope Hoisting / Module Concatenationï¼‰ã€ä»¥åŠå…¶ä»–å°ç²’åº¦ä¼˜åŒ–ï¼ˆå¸¸é‡æŠ˜å ã€dead code elimination äº¤ç»™ Terser ç­‰å‹ç¼©å™¨å®Œæˆï¼‰ã€‚</p>
</li>
<li>
<p>æ ¹æ®æ¨¡å—å›¾ç”Ÿæˆ Chunkï¼Œå¯¹ç”Ÿæˆçš„ä»£ç å—è¿›è¡Œè¿›ä¸€æ­¥ä¼˜åŒ–</p>
</li>
</ol>
<p>Webpack å°†å®Œæˆæ„å»ºçš„æ¨¡å—æ ¹æ®å…¥å£ç‚¹å’Œä¸åŒç±»å‹çš„ä¾èµ–å…³ç³»æ„å»ºå¤šä¸ª Chunkï¼ŒChunk æ˜¯ Webpack æ‰“åŒ…äº§ç‰©çš„åŸºç¡€å•ä½ï¼Œæ¯ä¸ª Chunk å¯¹åº”ä¸€ä¸ªæœ€ç»ˆè¾“å‡ºæ–‡ä»¶ï¼ˆæˆ–å¤šä¸ªæ–‡ä»¶ç»„åˆï¼‰ï¼ŒåŒæ—¶æ‰¿è½½ runtimeã€ä¾èµ–å…³ç³»ã€æ¨¡å—é¡ºåºå’Œå¼‚æ­¥åŠ è½½ä¿¡æ¯ã€‚ChunkGraph ä¼šåœ¨è¿™ä¸€é˜¶æ®µè¢«åˆ›å»ºå¹¶å»ºç«‹ï¼Œå®ƒè®°å½•ï¼š</p>
<ul>
<li>å½“å‰ Chunk åŒ…å«å“ªäº›æ¨¡å—</li>
<li>æ¨¡å—å±äºå“ªäº› Chunk</li>
<li>Chunk ä¸ Chunk ä¹‹é—´çš„å…³ç³»</li>
</ul>
<p>ç”Ÿæˆçš„ Chunk è¿›è¡Œæœ€ç»ˆä¼˜åŒ–ï¼ŒåŒ…æ‹¬æ¸²æŸ“ Chunk å†…éƒ¨ä»£ç ã€å¤„ç†å¼‚æ­¥åŠ è½½å’ŒåŠ¨æ€ importã€åº”ç”¨ä»£ç åˆ†å‰²ç­–ç•¥æå–å…¬å…±æ¨¡å—ã€æ³¨å…¥ runtime é€»è¾‘ã€ç”ŸæˆæŒ‰éœ€åŠ è½½å’Œé¢„åŠ è½½æç¤ºï¼Œä»¥åŠé€šè¿‡ [contenthash] å’Œç‹¬ç«‹ runtime Chunk å®ç°é•¿æœŸç¼“å­˜ï¼Œä»è€Œä½¿è¾“å‡ºæ–‡ä»¶ä½“ç§¯æœ€å°åŒ–ã€åŠ è½½é«˜æ•ˆå¹¶æ”¯æŒæµè§ˆå™¨ç¼“å­˜ä¼˜åŒ–ã€‚</p>
<ol>
<li>ç”Ÿæˆæœ€ç»ˆèµ„æºå¹¶å†™å…¥è¾“å‡ºç›®å½•</li>
</ol>
<p>Webpack æ„å»ºå®Œæˆåä¼šå°†æ‰€æœ‰ Chunk è½¬æ¢ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆassetsï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>main.js</li>
<li>vendors.js</li>
<li>style.css</li>
<li>å›¾ç‰‡ / å­—ä½“ç­‰é™æ€èµ„æº</li>
</ul>
<p>è¾“å‡ºé˜¶æ®µè§¦å‘ Compiler çš„ <code>emit</code> é’©å­ï¼Œéšåå†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">emitAssets</span>(<span class="hljs-params">compilation, callback</span>) {
  <span class="hljs-keyword">const</span> { entries, modules, chunks, assets } = compilation;
  <span class="hljs-keyword">const</span> output = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">output</span>;
    
  <span class="hljs-comment">// è°ƒç”¨ Plugin emit é’©å­</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">emit</span>.<span class="hljs-title function_">call</span>();
  
  <span class="hljs-comment">// è‹¥ output.path ä¸å­˜åœ¨ï¼Œè¿›è¡Œåˆ›å»º</span>
  <span class="hljs-keyword">if</span> (!fs.<span class="hljs-title function_">existsSync</span>(output.<span class="hljs-property">path</span>)) {
    fs.<span class="hljs-title function_">mkdirSync</span>(output.<span class="hljs-property">path</span>);
  }
    
  <span class="hljs-comment">// å°† assets ä¸­çš„å†…å®¹å†™å…¥æ–‡ä»¶ç³»ç»Ÿä¸­</span>
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(assets).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">fileName</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> filePath = path.<span class="hljs-title function_">join</span>(output.<span class="hljs-property">path</span>, fileName);
    fs.<span class="hljs-title function_">writeFileSync</span>(filePath, assets[fileName]);
  });
  
  <span class="hljs-comment">// ç»“æŸä¹‹åè§¦å‘é’©å­</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">hooks</span>.<span class="hljs-property">done</span>.<span class="hljs-title function_">call</span>();
  
  <span class="hljs-title function_">callback</span>(<span class="hljs-literal">null</span>, {
    <span class="hljs-attr">toJSON</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">return</span> {
        entries,
        modules,
        chunks,
        assets,
      };
    },
  });
}
</code></pre>
<h4 data-id="heading-7">äºŒã€çƒ­æ›´æ–°è¿‡ç¨‹</h4>
<p>çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼ŒHot Module Replacementï¼‰æ˜¯æŒ‡å½“æˆ‘ä»¬å¯¹ä»£ç ä¿®æ”¹å¹¶ä¿å­˜åï¼ŒWebpack å°†ä¼šå¯¹ä»£ç è¿›è¡Œé‡æ–°æ‰“åŒ…ï¼Œå¹¶å°†æ–°çš„æ¨¡å—å‘é€åˆ°æµè§ˆå™¨ç«¯ï¼Œæµè§ˆå™¨ç”¨æ–°çš„æ¨¡å—æ›¿æ¢æ‰æ—§çš„æ¨¡å— ï¼Œä»¥å®ç°åœ¨ä¸åˆ·æ–°æµè§ˆå™¨çš„å‰æä¸‹æ›´æ–°é¡µé¢ã€‚</p>
<p>æ•´ä½“æµç¨‹ï¼š</p>
<ul>
<li>é¦–å…ˆæ˜¯ Webpack ç›‘å¬åˆ°æ–‡ä»¶ä¿®æ”¹åï¼Œè¿›è¡Œç¼–è¯‘ï¼Œæ‰“åŒ…å‡ºæ–°çš„æ–‡ä»¶ï¼Œå¾—åˆ°æ–°çš„ hashã€‚</li>
<li>å…¶æ¬¡æ˜¯ webpack-dev-server é€šè¿‡ websocket é€šçŸ¥æµè§ˆå™¨ï¼Œå‘Šè¯‰æµè§ˆå™¨æ–°çš„ hashã€‚</li>
<li>æµè§ˆå™¨æ”¶åˆ°é€šçŸ¥åï¼Œè¯·æ±‚æ–°çš„æ–‡ä»¶ï¼Œæ‹¿åˆ°æ–°çš„æ–‡ä»¶åï¼Œæ›´æ–°é¡µé¢ã€‚</li>
</ul>
<h6 data-id="heading-8">æ–‡ä»¶ç›‘å¬</h6>
<p>Webpack çš„æ–‡ä»¶ç›‘å¬æœºåˆ¶ç”¨äºåœ¨å¼€å‘æ¨¡å¼ä¸‹è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶å˜åŒ–å¹¶è§¦å‘å¢é‡ç¼–è¯‘ã€‚å…¶æ ¸å¿ƒç”±ä¸‰ä¸ªç»„ä»¶æ„æˆï¼š</p>
<ul>
<li>Watchingï¼ˆè°ƒåº¦å±‚ï¼‰</li>
<li>Watchpackï¼ˆæŠ½è±¡ç®¡ç†å±‚ï¼‰</li>
<li>DirectoryWatcherï¼ˆåº•å±‚ç›‘å¬å®ç°å±‚ï¼‰</li>
</ul>
<p>æ•´ä½“åŸºäºÂ å‘å¸ƒâ€“è®¢é˜…æ¨¡å‹ï¼ˆEventEmitterï¼‰Â å®ç°ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯å…¸å‹çš„Â äº‹ä»¶é©±åŠ¨çš„ç›‘å¬ â†’ é€šçŸ¥ â†’ é‡æ–°ç¼–è¯‘ã€‚Webpack é€šè¿‡ä»¥ä¸‹æµç¨‹å®ç°ç›‘å¬ï¼š</p>
<ol>
<li><code>compiler.watch()</code>Â åˆ›å»º Watching å®ä¾‹ï¼Œè´Ÿè´£æ•´ä¸ªç›‘å¬è°ƒåº¦ã€‚</li>
<li>Watching åˆå§‹åŒ–Â Watchpackï¼Œå¹¶è®©å…¶è´Ÿè´£ç›‘å¬æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚</li>
<li>Watchpack å†…éƒ¨ä½¿ç”¨Â DirectoryWatcherÂ ç›‘å¬ç›®å½•å˜åŠ¨ï¼ŒåŒæ—¶ç›‘å¬å•æ–‡ä»¶å˜åŒ–ã€‚</li>
<li>æ–‡ä»¶å˜åŠ¨å‘ç”Ÿæ—¶ï¼ŒDirectoryWatcher å‘å‡ºÂ <code>change</code>Â äº‹ä»¶ã€‚</li>
<li>Watchpack å°†äº‹ä»¶ä¸ŠæŠ¥ç»™ Watchingã€‚</li>
<li>Watching è°ƒç”¨ Webpack çš„å¢é‡ç¼–è¯‘æµç¨‹ï¼Œç”Ÿæˆæ–°çš„æ„å»ºæ–‡ä»¶ã€‚</li>
</ol>
<p>Watching</p>
<p>Watching æ˜¯ Webpack å¯åŠ¨ watch æ—¶æœ€ä¸Šå±‚çš„æ§åˆ¶è€…ï¼Œé€šè¿‡ï¼š</p>
<ul>
<li>åˆ›å»ºå¹¶å¯åŠ¨ Watchpackï¼›</li>
<li>è®¢é˜… Watchpack çš„Â <code>change</code>ã€<code>remove</code>Â äº‹ä»¶ï¼›</li>
<li>è§¦å‘å¢é‡ç¼–è¯‘ï¼›</li>
<li>å°†æ–°çš„ hash ä¼ ç»™ dev-serverï¼Œä½¿æµè§ˆå™¨æ‰§è¡Œ HMR åˆ·æ–°ã€‚</li>
</ul>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Watching</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>){
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">startTime</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    }
    <span class="hljs-title function_">watch</span>(<span class="hljs-params">files</span>){
        <span class="hljs-keyword">let</span> watcher = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watchpack</span>();
        <span class="hljs-keyword">let</span> <span class="hljs-title function_">callback</span> =  (<span class="hljs-params">changes, removals</span>)=&gt;{
             <span class="hljs-comment">// æ‰§è¡Œå„ç§hooks</span>
        }
        watcher.<span class="hljs-title function_">once</span>(<span class="hljs-string">"aggregated"</span>,callback);
        watcher.<span class="hljs-title function_">watch</span>(files, directories, <span class="hljs-variable language_">this</span>.<span class="hljs-property">startTime</span>);
        <span class="hljs-keyword">return</span> watcher;
    }
}
</code></pre>
<p>Watchpack</p>
<p>Watchpack æ˜¯ Webpack æ–‡ä»¶ç›‘å¬åŠŸèƒ½çš„æ ¸å¿ƒæŠ½è±¡å±‚ï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>
<p>ç»Ÿä¸€ç®¡ç†æ‰€æœ‰è¢«ç›‘å¬çš„æ–‡ä»¶å’Œç›®å½•ï¼›</p>
</li>
<li>
<p>ä¸ºæ¯ä¸ªç›®å½•åˆ›å»ºÂ DirectoryWatcherï¼›</p>
</li>
<li>
<p>å†³å®šå…·ä½“ç›‘å¬æ–¹å¼ï¼ˆfs.watchã€fs.watchFileã€è½®è¯¢ï¼‰ï¼›</p>
</li>
<li>
<p>å°†åº•å±‚ç›‘å¬äº‹ä»¶æ±‡æ€»åç»Ÿä¸€å‘å¤–å‘å°„ï¼š</p>
<ul>
<li><code>change</code>ï¼ˆæ–‡ä»¶å˜åŒ–ï¼‰</li>
<li><code>remove</code>ï¼ˆæ–‡ä»¶è¢«åˆ é™¤ï¼‰</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥å®ƒä¸ç›´æ¥ç›‘å¬ï¼Œè€Œæ˜¯ç®¡ç†å¤šä¸ªç›‘å¬è€…ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Watchpack</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">EventEmitter</span>{
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>){
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">fileWatchers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">directoryWatchers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    }
    <span class="hljs-title function_">watch</span>(<span class="hljs-params">files, directories, startTime</span>){
        <span class="hljs-comment">// ä¸ºæ¯ä¸ªæ–‡ä»¶æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ª DirectoryWatcher</span>
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> file <span class="hljs-keyword">of</span> files){
            <span class="hljs-keyword">let</span> watcher = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DirectoryWatcher</span>();
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">fileWatchers</span>.<span class="hljs-title function_">set</span>(file, watcher);
            watcher.<span class="hljs-title function_">on</span>(<span class="hljs-string">"change"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onTimeout</span>);
            watcher.<span class="hljs-title function_">watch</span>(file, startTime);
        }
        <span class="hljs-comment">// for of directories</span>
        <span class="hljs-comment">// bala bala</span>
        
        <span class="hljs-comment">// æºç è¿™é‡Œçš„æ–¹æ³•è°ƒç”¨ï¼Œæ²¡å¤ªæ˜ç™½æ˜¯ä¸ªå•¥æ„æ€ï¼Ÿ</span>
        <span class="hljs-comment">// åé¢è¿˜æœ‰ä¸€ä¸ªwatchEventSource.watch()</span>
        watchEventSource.<span class="hljs-title function_">batch</span>()
    }
    <span class="hljs-title function_">_onTimeout</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> changes = <span class="hljs-variable language_">this</span>.<span class="hljs-property">aggregatedChanges</span>;
        <span class="hljs-keyword">const</span> removals = <span class="hljs-variable language_">this</span>.<span class="hljs-property">aggregatedRemovals</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">"aggregated"</span>, changes, removals);
    }
}
</code></pre>
<p>DirectoryWatcher</p>
<p>DirectoryWatcher æ˜¯æœ€åº•å±‚ã€æœ€æ ¸å¿ƒçš„ç›‘å¬å™¨ï¼Œè´Ÿè´£æ£€æµ‹ï¼š</p>
<ul>
<li>æ–‡ä»¶å†…å®¹ä¿®æ”¹ï¼ˆmtime æ”¹å˜ï¼‰</li>
<li>æ–°æ–‡ä»¶åˆ›å»º</li>
<li>æ–‡ä»¶åˆ é™¤ï¼ˆreaddir ä¸å­˜åœ¨ï¼‰</li>
</ul>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DirectoryWatcher</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">EventEmitter</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>){
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">files</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
       
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">watcher</span> = watchEventSource.<span class="hljs-title function_">watch</span>(file);
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">watcher</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"change"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onWatchEvent</span>);
    }
    <span class="hljs-title function_">watch</span>(<span class="hljs-params">file, startTime</span>){
        <span class="hljs-keyword">let</span> watchers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
        <span class="hljs-keyword">let</span> watcher = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watcher</span>(startTime);
        watchers.<span class="hljs-title function_">add</span>(watcher);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchers</span>.<span class="hljs-title function_">set</span>(file, watchers);     
    }
    <span class="hljs-title function_">onWatchEvent</span>(<span class="hljs-params">eventType, filename</span>){
        fs.<span class="hljs-title function_">lstat</span>(filePath, <span class="hljs-function">(<span class="hljs-params">err, stats</span>)=&gt;</span>{
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setFileTime</span>(filePath, stats.<span class="hljs-property">mtime</span>);
            <span class="hljs-comment">// this.setDirectory(filePath, eventType);</span>
        })
    }
    <span class="hljs-title function_">setFileTime</span>(<span class="hljs-params">filePath, mtime</span>){
        <span class="hljs-comment">// è®°å½•æ–‡ä»¶ä¿¡æ¯</span>
        <span class="hljs-keyword">let</span> safeTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">files</span>.<span class="hljs-title function_">set</span>(filePath, {
            safeTime,
            <span class="hljs-attr">timestamp</span>: mtime
        })
        <span class="hljs-keyword">let</span> watchers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchers</span>.<span class="hljs-title function_">get</span>(filePath)
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> w <span class="hljs-keyword">of</span> watchers) {
           <span class="hljs-keyword">if</span> (w.<span class="hljs-title function_">checkStartTime</span>(safeTime)) {
                <span class="hljs-comment">// æ–‡ä»¶æ›´æ–°åè§¦å‘çš„äº‹ä»¶æº</span>
                w.<span class="hljs-title function_">emit</span>(<span class="hljs-string">"change"</span>, mtime);
            }
        }
       
    }
}
</code></pre>
<ul>
<li>
<p>ä¼˜å…ˆä½¿ç”¨æ“ä½œç³»ç»Ÿäº‹ä»¶ï¼ˆfs.watchï¼‰</p>
</li>
<li>
<p>ç³»ç»Ÿä¸æ”¯æŒæ—¶é€€å›è½®è¯¢ï¼ˆPollingï¼‰</p>
<ul>
<li>é€šè¿‡å‘¨æœŸæ€§çš„Â <code>fs.stat</code>Â + mtime å¯¹æ¯”æ£€æµ‹å˜åŒ–ã€‚</li>
</ul>
</li>
</ul>
<h6 data-id="heading-9">æ¨¡å—ç¼–è¯‘å¤„ç†</h6>
<p>å½“æ–‡ä»¶ç›‘å¬åˆ°å˜åŒ–åï¼ŒWebpack ä¼šè§¦å‘ä¸€æ¬¡å¢é‡ç¼–è¯‘ï¼Œé™¤äº†ä¸æ‰“åŒ…ç±»ä¼¼çš„ç¼–è¯‘å¤–ï¼Œwebpack è¿˜ä¼šå¾€ Compiler æ³¨å…¥ HotModuleReplacementPlugin æ’ä»¶ï¼Œæ’ä»¶å†…éƒ¨åšäº†ä¸‰æ–¹é¢å¤„ç†ï¼š</p>
<ul>
<li>è¯­æ³•è½¬è¯‘ï¼šæ¨¡å—ä»£ç å…è®¸ä½¿ç”¨ <code>module.hot.xxx</code> è¿›è¡Œä¸ªæ€§åŒ–å¤„ç†ï¼Œéœ€è¦å°†è¿™äº›è¯­æ³•å¤„ç†ä¸ºç¬¦åˆè¿è¡Œæ—¶èƒ½åŠ›çš„ä»£ç ï¼›</li>
<li>HMR Runtime Moduleï¼šHMRæ¨¡å¼ä¸‹ä¼šå°† HMR Runtime æ¨¡å—è¿›è¡Œæ³¨å…¥æ“ä½œã€‚</li>
<li>äº§ç‰©ç”Ÿæˆï¼šHMR æ¨¡å¼ä¸‹æ¯æ¬¡å˜æ›´éƒ½ä¼šäº§ç”Ÿ manifest å’Œ update chunks æ–‡ä»¶ï¼Œç¼–è¯‘å™¨éœ€è¦é¢å¤–å¤„ç†è¿™äº›äº§ç”Ÿç”Ÿæˆé€»è¾‘ã€‚</li>
</ul>
<p>è¯­æ³•è½¬è¯‘</p>
<p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œæ¨¡å—é‡Œå¯èƒ½ä¼šç”¨åˆ° HMR APIï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">module</span>.<span class="hljs-property">hot</span>) {
    <span class="hljs-variable language_">module</span>.<span class="hljs-property">hot</span>.<span class="hljs-title function_">accept</span>(<span class="hljs-string">'./foo.js'</span>, <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'foo.js æ›´æ–°äº†'</span>);
    });
}
</code></pre>
<p>HotModuleReplacementPlugin æä¾›äº†è¯­æ³•è½¬ä¹‰èƒ½åŠ›ï¼š</p>
<ul>
<li>
<p>å¯¹æ¨¡å—ä»£ç è¿›è¡Œè§£æï¼Œæ‰¾åˆ°Â <code>module.hot.xxx</code>Â ç›¸å…³è°ƒç”¨ï¼›</p>
<ul>
<li>ä¸»è¦æ›¿æ¢è¯­æ³•æœ‰ module.hotã€module.hot.acceptã€module.hot.decline è¯­æ³•</li>
</ul>
</li>
<li>
<p>å°†è¿™äº›è°ƒç”¨è½¬æ¢æˆè¿è¡Œæ—¶å¯ä»¥è¯†åˆ«çš„ä»£ç ï¼ˆç¬¦åˆ HMR Runtime çº¦å®šï¼‰ï¼›</p>
</li>
<li>
<p>æ³¨å…¥å¿…è¦çš„å›è°ƒé’©å­ï¼Œä¿è¯æ¨¡å—åœ¨è¢«æ›¿æ¢æ—¶èƒ½å¤Ÿæ­£ç¡®è§¦å‘ acceptã€dispose å›è°ƒã€‚</p>
</li>
</ul>
<p>è®©å¼€å‘è€…ä¹¦å†™çš„ HMR API èƒ½å¤Ÿåœ¨æµè§ˆå™¨ç«¯çš„ HMR Runtime ä¸­ç”Ÿæ•ˆï¼Œå®ç°æ¨¡å—çº§åˆ«çš„çƒ­æ›¿æ¢ã€‚</p>
<p>HMR Runtime Module æ³¨å…¥</p>
<p>HMR åœ¨è¿è¡Œæ—¶éœ€è¦ç›¸åº”åŸºç¡€èƒ½åŠ›æ‰èƒ½å¤Ÿè¿è¡Œï¼Œåœ¨ HotModuleReplacementPlugin å†…éƒ¨ä¼šå¾€ç¼–è¯‘å™¨æ³¨å…¥ HotModuleReplacementRuntimeModule ä¿è¯åº”ç”¨èƒ½å¤Ÿæ­£å¸¸æä¾›è¿è¡Œæ—¶èƒ½åŠ›ã€‚</p>
<p>è¯¥ Runtime Module å®ç°äº†ï¼š</p>
<ul>
<li>WebSocket é€šä¿¡ï¼ˆæ¥æ”¶ hash / ok æ¶ˆæ¯ï¼‰ï¼›</li>
<li>è¡¥ä¸æ–‡ä»¶çš„åŠ è½½ï¼ˆhot-update.js / hot-update.jsonï¼‰ï¼›</li>
<li>æ¨¡å—æ›¿æ¢é€»è¾‘ï¼ˆdispose â†’ apply â†’ acceptï¼‰ï¼›</li>
<li>çŠ¶æ€ç®¡ç†ï¼ˆå·²æ›¿æ¢çš„æ¨¡å—ã€æ›´æ–°é˜Ÿåˆ—ç­‰ï¼‰ã€‚</li>
</ul>
<p>ä½œç”¨ï¼šä¿è¯æµè§ˆå™¨ç«¯å¯ä»¥æ­£ç¡®è¯†åˆ« HMR æ¶ˆæ¯ï¼Œæ‹‰å–è¡¥ä¸å¹¶æ‰§è¡Œæ¨¡å—æ›¿æ¢ï¼Œè€Œä¸åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚</p>
<p>manifest åŠ Chunk ç”Ÿæˆ</p>
<p>Compiler æ¯æ¬¡ç¼–è¯‘ä¹‹åéƒ½ä¼šå¾—åˆ°æ¯ä¸ªæ¨¡å—ã€Chunk çš„å“ˆå¸Œå€¼ï¼ŒCompiler é€šè¿‡åˆ¤æ–­æœ¬æ¬¡ç¼–è¯‘çš„äº§ç‰©çš„å“ˆå¸Œå’Œä¸Šæ¬¡ç¼–è¯‘è®°å½•çš„Hashå¾—å‡ºæ¨¡å—å˜æ›´ä¿¡æ¯ï¼ŒHotModuleReplacementPlugin æ ¹æ®æ¨¡å—å˜æ›´ä¿¡æ¯ç”Ÿæˆä¸¤ä»½æ•°æ®ï¼š</p>
<ol>
<li>æ›´æ–°æè¿°<code>manifest.json</code>ï¼šä»¥JSONå½¢å¼æ•°æ®</li>
</ol>
<ul>
<li><code>updateChunkIds</code>ï¼šæ›´æ–°çš„ Chunk Id</li>
<li><code>removedChunkIds</code>ï¼šç§»é™¤çš„ Chunk Id</li>
<li><code>removedModuleIds</code>ï¼šç§»é™¤çš„ Module Id</li>
</ul>
<ol start="2">
<li>æ¨¡å— Chunk äº§ç‰©<code>[key].[newHash].hot-update.js</code>ï¼šåªåŒ…å«æ›´æ–°æ¨¡å—ä»£ç </li>
</ol>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// [key].[newHash].hot-update.js</span>
self[<span class="hljs-string">"webpackHotUpdate_myApp"</span>](<span class="hljs-string">"main"</span>, {
  <span class="hljs-number">0</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>, __webpack_exports__, __webpack_require__</span>) {
    <span class="hljs-comment">// æ–°æ¨¡å—ä»£ç </span>
  },
  <span class="hljs-number">2</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>, __webpack_exports__, __webpack_require__</span>) {
    <span class="hljs-comment">// æ–°æ¨¡å—ä»£ç </span>
  }});
</code></pre>
<p>å½“ Webpack å®Œæˆå¢é‡ç¼–è¯‘åï¼Œä¼šå°†æ–°çš„æ„å»ºäº§ç‰©ä¸æ–°çš„ hash ç”Ÿ æˆåœ¨å†…å­˜ä¸­ï¼Œæ­¤æ—¶ Webpack-dev-server ä¼šé€šè¿‡ WebSocket å°†æ›´æ–°æ¶ˆæ¯æ¨é€ç»™æµè§ˆå™¨ã€‚</p>
<p>Webpack-dev-server çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ä½œä¸ºÂ æµè§ˆå™¨ä¸ç¼–è¯‘å™¨ä¹‹é—´çš„ä¸­é—´å±‚ï¼Œè®©å‰ç«¯é¡¹ç›®åœ¨å¼€å‘é˜¶æ®µæ‹¥æœ‰å®æ—¶æ›´æ–°èƒ½åŠ›ã€‚</p>
<p>åœ¨ä¼ ç»Ÿçš„ LiveReload æ¨¡å¼ä¸‹ï¼Œæ–‡ä»¶å˜æ›´åæµè§ˆå™¨ä¼šè¢«å¼ºåˆ¶åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼›è€Œ HMR åœ¨æ­¤åŸºç¡€ä¸Šæ›´è¿›ä¸€æ­¥ï¼Œåªæ›´æ–°å˜åŒ–çš„æ¨¡å—è€Œä¸åˆ·æ–°æ•´é¡µã€‚è¿™ä¸¤ç§æœºåˆ¶æœ€ç»ˆéƒ½ä¾èµ– Webpack-dev-server æä¾›çš„èƒ½åŠ›ã€‚</p>
<p>ä»æ•´ä½“è®¾è®¡æ¥çœ‹ï¼ŒWebpack-dev-server å¯ä»¥æ‹†åˆ†ä¸ºä¸¤ä¸ªä¸»è¦æ¨¡å—ï¼š</p>
<ul>
<li>
<p>åº”ç”¨é€šä¿¡æ¨¡å—ï¼ˆæ¨é€æ›´æ–°æ¶ˆæ¯ï¼‰</p>
</li>
<li>
<p>é™æ€èµ„æºæœåŠ¡æ¨¡å—ï¼ˆè¿”å›æ„å»ºäº§ç‰©ï¼‰</p>
<ul>
<li>ä½¿ç”¨ express æ¡†æ¶æä¾›é™æ€èµ„æºæœåŠ¡å™¨åŠŸèƒ½</li>
</ul>
</li>
</ul>
<h6 data-id="heading-10">æ›´æ–°é€šçŸ¥</h6>
<p>æœåŠ¡å™¨ä¸æµè§ˆå™¨ä¹‹é—´é€šè¿‡ WebSocket å»ºç«‹é•¿è¿æ¥ï¼Œå¹¶ä¼šä½¿ç”¨é•¿è½®è¯¢ä½œä¸ºå…œåº•æ–¹æ³•ã€‚</p>
<ol>
<li>ç›‘å¬ Webpack ç¼–è¯‘å®Œæˆåï¼Œä¸»åŠ¨è§¦å‘ <code>sendStats</code> æ–¹æ³•</li>
<li>æœ¬åœ°æœåŠ¡ç«¯çš„ WebSocket ä¸»åŠ¨å‘é€ hash å‘½ä»¤å’Œ ok å‘½ä»¤åˆ°æœ¬åœ°æµè§ˆå™¨ client ç«¯</li>
</ol>

<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Server</span> {
 setupHooks() {
     <span class="hljs-comment">// åˆå§‹åŒ–æ—¶æ³¨å†Œdoneçš„ç›‘å¬äº‹ä»¶ï¼Œç¼–è¯‘å®Œæˆåï¼Œè°ƒç”¨sendStatsæ–¹æ³•è¿›è¡ŒwebSocketçš„å‘½ä»¤å‘é€</span>
     <span class="hljs-keyword">this</span>.compiler.hooks.done.tap(
         <span class="hljs-string">"webpack-dev-server"</span>,
         (stats) =&gt; {
             <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.webSocketServer) {
                 <span class="hljs-keyword">this</span>.sendStats(<span class="hljs-keyword">this</span>.webSocketServer.clients, <span class="hljs-keyword">this</span>.getStats(stats));
             }
             <span class="hljs-keyword">this</span>.stats = stats;
         }
     );
 }

 sendStats(clients, stats, force) {
     <span class="hljs-comment">// æ›´æ–°å½“å‰çš„hash</span>
     <span class="hljs-keyword">this</span>.currentHash = stats.hash;
   
     <span class="hljs-comment">// å‘é€ç»™å®¢æˆ·ç«¯å½“å‰çš„hashå€¼</span>
     <span class="hljs-keyword">this</span>.sendMessage(clients, <span class="hljs-string">"hash"</span>, stats.hash);

     <span class="hljs-comment">// å‘é€ç»™å®¢æˆ·ç«¯okçš„æŒ‡ä»¤</span>
     <span class="hljs-keyword">this</span>.sendMessage(clients, <span class="hljs-string">"ok"</span>);
 }
}
</code></pre>
<h6 data-id="heading-11">æ¨¡å—æ›¿æ¢</h6>
<p>å½“æµè§ˆå™¨ç«¯æ”¶åˆ° ok æ¶ˆæ¯åï¼ŒWebpack çš„ HMR Runtime ä¾¿ä¼šå¼€å§‹æ‰§è¡Œæ¨¡å—çƒ­æ›¿æ¢æµç¨‹ã€‚æµè§ˆå™¨ç«¯è°ƒç”¨ <code>emitter</code>å°†æœ€æ–° hash å€¼å‘é€ç»™ HMR runtimeã€‚</p>
<pre><code class="hljs language-ini" lang="ini">import hotEmitter from "webpack/hot/emitter.js"<span class="hljs-comment">;</span>

function reloadApp(_ref, status) {
  var <span class="hljs-attr">hot</span> = _ref.hot, liveReload = _ref.liveReload<span class="hljs-comment">;</span>
  ...
  var <span class="hljs-attr">currentHash</span> = status.currentHash, previousHash = status.previousHash<span class="hljs-comment">;</span>
  ...
  var <span class="hljs-attr">allowToHot</span> = search.indexOf(<span class="hljs-string">"webpack-dev-server-hot=false"</span>) === -<span class="hljs-number">1</span><span class="hljs-comment">;</span>
  if (hot &amp;&amp; allowToHot) {
    log.info("App hot update...")<span class="hljs-comment">;</span>
    hotEmitter.emit("webpackHotUpdate", status.currentHash)<span class="hljs-comment">;</span>
    ...
  }
  ...
}
</code></pre>
<p>HMR runtime ä¼šæ›´æ–° lastHashï¼Œå¹¶åœ¨å¿…è¦æ—¶è°ƒç”¨ <code>check()</code>ï¼Œå‘èµ·æ›´æ–°æ£€æŸ¥</p>
<pre><code class="hljs language-javascript" lang="javascript">hotEmitter.<span class="hljs-title function_">on</span>(<span class="hljs-string">"webpackHotUpdate"</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">currentHash</span>) {
  lastHash = currentHash;
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">upToDate</span>() &amp;&amp; <span class="hljs-variable language_">module</span>.<span class="hljs-property">hot</span>.<span class="hljs-title function_">status</span>() === <span class="hljs-string">"idle"</span>) {
    <span class="hljs-title function_">log</span>(<span class="hljs-string">"info"</span>, <span class="hljs-string">"[HMR] Checking for updates on the server..."</span>);
    <span class="hljs-title function_">check</span>();
  }
});
<span class="hljs-keyword">var</span> check = <span class="hljs-keyword">function</span> <span class="hljs-title function_">check</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">module</span>.<span class="hljs-property">hot</span>
    .<span class="hljs-title function_">check</span>(<span class="hljs-literal">true</span>)
    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">updatedModules</span>) {
      ...
    })
    .<span class="hljs-keyword">catch</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {
      ...
    });
};
</code></pre>
<p><code>module.hot.check</code>æœ€ç»ˆä¼šè§¦å‘<code>hotCheck()</code>æ–¹æ³•</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">hotCheck</span>(<span class="hljs-params">applyOnUpdate</span>) {
  ...
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">setStatus</span>(<span class="hljs-string">"check"</span>)
  .<span class="hljs-title function_">then</span>(__webpack_require__.<span class="hljs-property">hmrM</span>)
  .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">update</span>) {
      ...
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">setStatus</span>(<span class="hljs-string">"prepare"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
              <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(__webpack_require__.<span class="hljs-property">hmrC</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">
              			promises,
              			key
              		</span>) {
                        <span class="hljs-comment">// key = jsonp</span>
              			__webpack_require__.<span class="hljs-property">hmrC</span>[key](
              					update.<span class="hljs-property">c</span>,
              					update.<span class="hljs-property">r</span>,
              					update.<span class="hljs-property">m</span>,
              					promises,
              					currentUpdateApplyHandlers,
              					updatedModules
              				);
              			<span class="hljs-keyword">return</span> promises;
              		},
              	[])
          ).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
              <span class="hljs-keyword">return</span> <span class="hljs-title function_">waitForBlockingPromises</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                  ...
                  <span class="hljs-keyword">return</span> <span class="hljs-title function_">internalApply</span>(applyOnUpdate);
              });
          });
      });
  });
}
__webpack_require__.<span class="hljs-property">hmrC</span>.<span class="hljs-property">jsonp</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">
  chunkIds,
  removedChunks,
  removedModules,
  promises,
  applyHandlers,
  updatedModulesList,
</span>) {
    applyHandlers.<span class="hljs-title function_">push</span>(applyHandler);
    ...
    chunkIds.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">chunkId</span>) {
        <span class="hljs-keyword">if</span> (
        __webpack_require__.<span class="hljs-title function_">o</span>(installedChunks, chunkId) &amp;&amp;
        installedChunks[chunkId] !== <span class="hljs-literal">undefined</span>
        ) {
            promises.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">loadUpdateChunk</span>(chunkId, updatedModulesList));
        }
    });
};
</code></pre>
<p><strong>webpack_require</strong>.hmrM ä¸­ fetch åˆ°æ–°çš„ manifest.json æ–‡ä»¶ï¼Œå®Œæˆåï¼Œè§¦å‘ <strong>webpack_require</strong>.hmrC.jsonp æ–¹æ³•æ‰§è¡Œ</p>
<p>æ‰§è¡Œ <strong>webpack_require</strong>.hmrC.jsonpï¼Œä¼ å…¥ manifest.json æ–‡ä»¶ä¸­è¿”å›çš„keyï¼Œé€šè¿‡ jsonp æ–¹å¼è¯·æ±‚å¾—åˆ° [key].[newHash].hot-update.jsï¼Œæ‰§è¡Œå¯¹åº”çš„ moudle ä»£ç çš„ç¼“å­˜å¹¶ä¸”è§¦å‘å¯¹åº” promise çš„<code>resolve</code>è¯·æ±‚ï¼Œä»è€Œé¡ºåˆ©å›è°ƒ<code>internalApply()</code>æ–¹æ³•</p>
<p><code>internalApply()</code>æ–¹æ³•æ˜¯Â HMR çš„â€œå†…éƒ¨è°ƒåº¦å™¨â€ï¼Œè¿æ¥äº†Â æ£€æŸ¥æ›´æ–°Â å’ŒÂ å®é™…æ›¿æ¢æ¨¡å—Â ä¸¤ä¸ªé˜¶æ®µã€‚æ ¹æ®æ›´æ–°çš„æ¨¡å—å’Œä¾èµ–ä¿¡æ¯ï¼Œå†³å®šå“ªäº›æ¨¡å—å¯ä»¥çƒ­æ›¿æ¢ã€å“ªäº›æ¨¡å—éœ€è¦ disposeï¼Œå¹¶æœ€ç»ˆè°ƒç”¨Â <code>apply()</code>Â æ¥åº”ç”¨æ–°æ¨¡å—</p>
<pre><code class="hljs language-ini" lang="ini">function internalApply(options) {
 // è¿™é‡Œçš„currentUpdateApplyHandlerså­˜å‚¨çš„æ˜¯ä¸Šé¢jsonpè¯·æ±‚jsæ–‡ä»¶æ‰€åˆ›å»ºçš„callback
 var <span class="hljs-attr">results</span> = currentUpdateApplyHandlers.map(function (handler) {
     return handler(options)<span class="hljs-comment">;</span>
 })<span class="hljs-comment">;</span>
 <span class="hljs-attr">currentUpdateApplyHandlers</span> = undefined<span class="hljs-comment">;</span>

 results.forEach(function (result) {
   if (result.dispose) result.dispose()<span class="hljs-comment">;</span>
 })<span class="hljs-comment">;</span>

 var <span class="hljs-attr">outdatedModules</span> = []<span class="hljs-comment">;</span>
 results.forEach(function (result) {
     if (result.apply) {
         // è¿™é‡Œçš„resultçš„æ˜¯ä¸Šé¢jsonpè¯·æ±‚jsæ–‡ä»¶æ‰€åˆ›å»ºçš„callbackæ‰€è¿”å›Objectçš„applyæ–¹æ³•
         var <span class="hljs-attr">modules</span> = result.apply(reportError)<span class="hljs-comment">;</span>
         if (modules) {
             for (var <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; modules.length; i++) {</span>
                 outdatedModules.push(modules<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
             }
         }
     }
 })<span class="hljs-comment">;</span>

 return Promise.all(<span class="hljs-section">[disposePromise, applyPromise]</span>).then(function () {

     return setStatus("idle").then(function () {
         return outdatedModules<span class="hljs-comment">;</span>
     })<span class="hljs-comment">;</span>
 })<span class="hljs-comment">;</span>
}
</code></pre>
<p>æ›¿æ¢çš„æ€»ä½“æ‰§è¡Œé€»è¾‘ï¼š</p>
<ol>
<li>æ ¹æ®webpacké…ç½®æ‹¼æ¥å‡ºå½“å‰ moduleId çš„çƒ­æ›´æ–°ç­–ç•¥ï¼Œæ¯”å¦‚å…è®¸çƒ­æ›´æ–°ï¼Œæ¯”å¦‚ä¸å…è®¸çƒ­æ›´æ–°ç­‰ç­‰</li>
<li>æ ¹æ®çƒ­æ›´æ–°ç­–ç•¥ï¼Œæ‹¼æ¥å¤šä¸ªæ•°æ®ç»“æ„ï¼Œä¸º<code>applay()</code>æ–¹æ³•ä»£ç æœåŠ¡</li>
</ol>

<ol start="3">
<li>ä»<code>internalApply()</code>å¯ä»¥çŸ¥é“ï¼Œæœ€ç»ˆä¼šå…ˆæ‰§è¡Œ<code>result.dispose()</code>ï¼Œç„¶åå†æ‰§è¡Œ<code>result.apply()</code>æ–¹æ³•</li>
</ol>
<p>æ‹¼æ¥æ•°æ®ç»“æ„</p>
<ol>
<li>æ ¹æ®<code>getAffectedModuleEffects(moduleId)</code>æ•´ç†å‡ºè¯¥<code>moduleId</code>çš„çƒ­æ›´æ–°ç­–ç•¥ï¼Œæ˜¯å¦éœ€è¦çƒ­æ›´æ–°</li>
<li>æ ¹æ®å¤šä¸ªå¯¹è±¡æ‹¼å‡‘å‡º<code>dispose</code>å’Œ<code>apply</code>æ–¹æ³•æ‰€éœ€è¦çš„æ•°æ®ç»“æ„</li>
</ol>

<pre><code class="hljs language-ini" lang="ini">function applyHandler(options) {
   <span class="hljs-attr">currentUpdateChunks</span> = undefined<span class="hljs-comment">;</span>

   // at begin all updates modules are outdated
   // the "outdated" status can propagate to parents if they don't accept the children
   var <span class="hljs-attr">outdatedDependencies</span> = {}<span class="hljs-comment">; // ä½¿ç”¨module.hot.acceptéƒ¨ç½²äº†ä¾èµ–å‘ç”Ÿæ›´æ–°åçš„å›è°ƒå‡½æ•°</span>
   var <span class="hljs-attr">outdatedModules</span> = []<span class="hljs-comment">; // å½“å‰è¿‡æœŸéœ€è¦æ›´æ–°çš„modules</span>
   var <span class="hljs-attr">appliedUpdate</span> = {}<span class="hljs-comment">; // å‡†å¤‡æ›´æ–°çš„modules</span>


   for (var moduleId in currentUpdate) {
       var <span class="hljs-attr">newModuleFactory</span> = currentUpdate[moduleId]<span class="hljs-comment">;</span>

       // è·å–ä¹‹å‰çš„é…ç½®ï¼šè¯¥moduleIdæ˜¯å¦å…è®¸çƒ­æ›´æ–°
       var <span class="hljs-attr">result</span> = getAffectedModuleEffects(moduleId)<span class="hljs-comment">;</span>

       var <span class="hljs-attr">doApply</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
       var <span class="hljs-attr">doDispose</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>

       switch (result.type) {
           // ...
           case "accepted":
               if (options.onAccepted) options.onAccepted(result)<span class="hljs-comment">;</span>
               <span class="hljs-attr">doApply</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
               break<span class="hljs-comment">;</span>
           //...
       }
       if (doApply) {
           appliedUpdate<span class="hljs-section">[moduleId]</span> = newModuleFactory<span class="hljs-comment">;</span>
           //...ä»£ç çœç•¥... æ‹¼å‡‘å‡ºoutdatedDependenciesè¿‡æœŸçš„ä¾èµ–ï¼Œä¸ºä¸‹é¢çš„module.hot.accept(moduleId, function() {})åšå‡†å¤‡
       }
       if (doDispose) {
           //...ä»£ç çœç•¥... å¤„ç†é…ç½®ä¸ºdisposeçš„æƒ…å†µ
       }

   }
   <span class="hljs-attr">currentUpdate</span> = undefined<span class="hljs-comment">;</span>

   // æ ¹æ®outdatedModulesæ‹¼å‡‘å‡ºéœ€è¦<span class="hljs-attr">_selfAccepted</span>=<span class="hljs-literal">true</span>ï¼Œå³çƒ­æ›´æ–°æ˜¯é‡æ–°åŠ è½½ä¸€æ¬¡è‡ªå·±çš„moduleçš„æ•°æ®åˆ°outdatedSelfAcceptedModulesä¸­
   var <span class="hljs-attr">outdatedSelfAcceptedModules</span> = []<span class="hljs-comment">;</span>
   for (var <span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; outdatedModules.length; j++) {</span>
       var <span class="hljs-attr">outdatedModuleId</span> = outdatedModules[j]<span class="hljs-comment">;</span>
       // <span class="hljs-attr">__webpack_require__.c</span> = __webpack_module_cache__
       var <span class="hljs-attr">module</span> = __webpack_require__.c[outdatedModuleId]<span class="hljs-comment">;</span>
       if (module &amp;&amp; (module.hot._selfAccepted || module.hot._main) &amp;&amp;
           appliedUpdate<span class="hljs-section">[outdatedModuleId]</span> !== warnUnexpectedRequire &amp;&amp;
           !module.hot._selfInvalidated
       ) {
           // _requireSelf: function () {
           //      <span class="hljs-attr">currentParents</span> = me.parents.slice()<span class="hljs-comment">;</span>
           //      <span class="hljs-attr">currentChildModule</span> = _main ? undefined : moduleId<span class="hljs-comment">;</span>
           //         __webpack_require__(moduleId)<span class="hljs-comment">;</span>
           // },
           outdatedSelfAcceptedModules.push({
               module: outdatedModuleId,
               require: module.hot._requireSelf, // é‡æ–°åŠ è½½è‡ªå·±
               errorHandler: module.hot._selfAccepted
           })<span class="hljs-comment">;</span>
       }
   }

   var moduleOutdatedDependencies<span class="hljs-comment">;</span>

   return {
       dispose: function() {...}
       apply: function(reportError) {...}
   }<span class="hljs-comment">;</span>
}
</code></pre>

<pre><code class="hljs language-ini" lang="ini">function getAffectedModuleEffects(updateModuleId) {
   var <span class="hljs-attr">outdatedModules</span> = [updateModuleId]<span class="hljs-comment">;</span>
   var <span class="hljs-attr">outdatedDependencies</span> = {}<span class="hljs-comment">;</span>

   var <span class="hljs-attr">queue</span> = outdatedModules.map(function (id) {
       return {
           chain: <span class="hljs-section">[id]</span>,
           id: id
       }<span class="hljs-comment">;</span>
   })<span class="hljs-comment">;</span>
   while (queue.length &gt; 0) {
       var <span class="hljs-attr">queueItem</span> = queue.pop()<span class="hljs-comment">;</span>
       var <span class="hljs-attr">moduleId</span> = queueItem.id<span class="hljs-comment">;</span>
       var <span class="hljs-attr">chain</span> = queueItem.chain<span class="hljs-comment">;</span>
       var <span class="hljs-attr">module</span> = __webpack_require__.c[moduleId]<span class="hljs-comment">;</span>
       if (!module || (module.hot._selfAccepted &amp;&amp; !module.hot._selfInvalidated)) { continue<span class="hljs-comment">; }</span>

       // ************ å¤„ç†ä¸çƒ­æ›´æ–°çš„æƒ…å†µ ************
       if (module.hot._selfDeclined) {
           return {
               type: "self-declined",
               chain: chain,
               moduleId: moduleId
           }<span class="hljs-comment">;</span>
       }
       if (module.hot._main) {
           return {
               type: "unaccepted",
               chain: chain,
               moduleId: moduleId
           }<span class="hljs-comment">;</span>
       }
       // ************ å¤„ç†ä¸çƒ­æ›´æ–°çš„æƒ…å†µ ************

       for (var <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; module.parents.length; i++) {</span>
           // <span class="hljs-attr">module.parents</span>=ä¾èµ–è¿™ä¸ªæ¨¡å—çš„modules
           // éå†æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„ modules
           var <span class="hljs-attr">parentId</span> = module.parents[i]<span class="hljs-comment">;</span>
           var <span class="hljs-attr">parent</span> = __webpack_require__.c[parentId]<span class="hljs-comment">;</span>
           if (!parent) continue<span class="hljs-comment">;</span>
           if (parent.hot._declinedDependencies<span class="hljs-section">[moduleId]</span>) {
               // å¦‚æœä¾èµ–è¿™ä¸ªæ¨¡å—çš„parentModuleè®¾ç½®äº†ä¸ç†ä¼šå½“å‰moduleIdçƒ­æ›´æ–°çš„ç­–ç•¥ï¼Œåˆ™ä¸å¤„ç†è¯¥parentModule
               return {
                   type: "declined",
                   chain: chain.concat(<span class="hljs-section">[parentId]</span>),
                   moduleId: moduleId,
                   parentId: parentId
               }<span class="hljs-comment">;</span>
           }
           // å¦‚æœå·²ç»åŒ…å«åœ¨å‡†å¤‡æ›´æ–°çš„é˜Ÿåˆ—ä¸­ï¼Œåˆ™ä¸é‡å¤æ·»åŠ 
           if (outdatedModules.indexOf(parentId) !== -1) continue<span class="hljs-comment">;</span>
           if (parent.hot._acceptedDependencies<span class="hljs-section">[moduleId]</span>) {
               if (!outdatedDependencies<span class="hljs-section">[parentId]</span>)
                   outdatedDependencies<span class="hljs-section">[parentId]</span> = <span class="hljs-section">[]</span><span class="hljs-comment">;</span>
               // TODO è¿™ä¸ªparentModuleè®¾ç½®äº†ç›‘å¬å…¶ä¾èµ–moduleçš„çƒ­æ›´æ–°
               addAllToSet(outdatedDependencies<span class="hljs-section">[parentId]</span>, <span class="hljs-section">[moduleId]</span>)<span class="hljs-comment">;</span>
               continue<span class="hljs-comment">;</span>
           }
           delete outdatedDependencies<span class="hljs-section">[parentId]</span><span class="hljs-comment">;</span>
           outdatedModules.push(parentId)<span class="hljs-comment">; // æ·»åŠ è¯¥parentModuleIdåˆ°é˜Ÿåˆ—ä¸­ï¼Œå‡†å¤‡æ›´æ–°</span>

           // åŠ å…¥è¯¥parentModuleIdåˆ°é˜Ÿåˆ—ä¸­ï¼Œè¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ï¼ŒæŠŠparentModuleçš„ç›¸å…³parentä¹ŸåŠ å…¥åˆ°æ›´æ–°ä¸­
           queue.push({
               chain: chain.concat(<span class="hljs-section">[parentId]</span>),
               id: parentId
           })<span class="hljs-comment">;</span>
       }
   }

   return {
       type: "accepted",
       moduleId: updateModuleId,
       outdatedModules: outdatedModules,
       outdatedDependencies: outdatedDependencies
   }<span class="hljs-comment">;</span>
}

function addAllToSet(a, b) {
   for (var <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; b.length; i++) {</span>
       var <span class="hljs-attr">item</span> = b[i]<span class="hljs-comment">;</span>
       if (a.indexOf(item) === -1) a.push(item)<span class="hljs-comment">;</span>
   }
}
</code></pre>
<p>dispose æ–¹æ³•</p>
<p><code>dispose</code>Â æ–¹æ³•æ˜¯Â HMR æ¨¡å—æ›¿æ¢æµç¨‹ä¸­çš„â€œé”€æ¯æ—§æ¨¡å—â€é˜¶æ®µï¼Œä¸»è¦è´Ÿè´£ï¼š</p>
<ul>
<li>æ¸…ç†ç¼“å­˜ï¼Œå°†æ—§æ¨¡å—ä»æ¨¡å—ç³»ç»Ÿä¸­ç§»é™¤</li>
<li>ç§»é™¤ä¹‹å‰æ³¨å†Œçš„å›è°ƒå‡½æ•°</li>
<li>ç§»é™¤ç›®å‰ module ä¸å…¶å®ƒ module çš„ç»‘å®šå…³ç³»ï¼ˆ parent å’Œ childrenï¼‰ï¼Œé¿å…æ—§æ¨¡å—æ®‹ç•™å½±å“æ–°æ¨¡å—</li>
<li>ä¸ºåç»­çƒ­æ›´æ–°çš„æ¨¡å—æ›¿æ¢ï¼ˆapply é˜¶æ®µï¼‰åšå‡†å¤‡</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">dispose: function () {
   currentUpdateRemovedChunks.forEach(function (chunkId) {
       delete installedChunks<span class="hljs-section">[chunkId]</span><span class="hljs-comment">;</span>
   })<span class="hljs-comment">;</span>
   <span class="hljs-attr">currentUpdateRemovedChunks</span> = undefined<span class="hljs-comment">;</span>

   var idx<span class="hljs-comment">;</span>
   var <span class="hljs-attr">queue</span> = outdatedModules.slice()<span class="hljs-comment">;</span>
   while (queue.length &gt; 0) {
       var <span class="hljs-attr">moduleId</span> = queue.pop()<span class="hljs-comment">;</span>
       var <span class="hljs-attr">module</span> = __webpack_require__.c[moduleId]<span class="hljs-comment">;</span>
       if (!module) continue<span class="hljs-comment">;</span>

       var <span class="hljs-attr">data</span> = {}<span class="hljs-comment">;</span>

       // Call dispose handlers: å›è°ƒæ³¨å†Œçš„disposeHandlers
       var <span class="hljs-attr">disposeHandlers</span> = module.hot._disposeHandlers<span class="hljs-comment">;</span>
       for (<span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; disposeHandlers.length; j++) {</span>
           disposeHandlers<span class="hljs-section">[j]</span>.call(null, data)<span class="hljs-comment">;</span>
       }
       // <span class="hljs-attr">__webpack_require__.hmrD</span> = currentModuleDataç½®ä¸ºç©º
       __webpack_require__.hmrD<span class="hljs-section">[moduleId]</span> = data<span class="hljs-comment">;</span>

       // disable module (this disables requires from this module)
       <span class="hljs-attr">module.hot.active</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>

       // remove module from cache: åˆ é™¤moduleçš„ç¼“å­˜æ•°æ®
       delete __webpack_require__.c<span class="hljs-section">[moduleId]</span><span class="hljs-comment">;</span>

       // when disposing there is no need to call dispose handler: åˆ é™¤å…¶å®ƒæ¨¡å—å¯¹è¯¥moduleIdçš„acceptå›è°ƒ
       delete outdatedDependencies<span class="hljs-section">[moduleId]</span><span class="hljs-comment">;</span>

       // remove "parents" references from all children: 
       // è§£é™¤moduleIdå¼•ç”¨çš„å…¶å®ƒæ¨¡å—è·ŸmoduleIdçš„ç»‘å®šå…³ç³»ï¼Œè·Ÿä¸‹é¢çš„è§£é™¤å…³ç³»æ˜¯äº’ç›¸è¡¥å……çš„
       // ä¸€ä¸ªæ˜¯childrenï¼Œä¸€ä¸ªæ˜¯parent
       for (<span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; module.children.length; j++) {</span>
           var <span class="hljs-attr">child</span> = __webpack_require__.c[module.children[j]]<span class="hljs-comment">;</span>
           if (!child) continue<span class="hljs-comment">;</span>
           <span class="hljs-attr">idx</span> = child.parents.indexOf(moduleId)<span class="hljs-comment">;</span>
           if (idx &gt;= 0) {
               child.parents.splice(idx, 1)<span class="hljs-comment">;</span>
           }
       }
   }

   // remove outdated dependency from module children: 
   // è§£é™¤å¼•ç”¨è¯¥moduleIdçš„æ¨¡å—è·ŸmoduleIdçš„ç»‘å®šå…³ç³»ï¼Œå¯ä»¥ç†è§£ä¸ºmoduleId.parentåˆ é™¤childrenï¼Œè·Ÿä¸Šé¢çš„è§£é™¤å…³ç³»æ˜¯äº’ç›¸è¡¥å……çš„
   // ä¸€ä¸ªæ˜¯childrenï¼Œä¸€ä¸ªæ˜¯parent
   var dependency<span class="hljs-comment">;</span>
   for (var outdatedModuleId in outdatedDependencies) {
       <span class="hljs-attr">module</span> = __webpack_require__.c[outdatedModuleId]<span class="hljs-comment">;</span>
       if (module) {
           <span class="hljs-attr">moduleOutdatedDependencies</span> =
               outdatedDependencies<span class="hljs-section">[outdatedModuleId]</span><span class="hljs-comment">;</span>
           for (<span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; moduleOutdatedDependencies.length; j++) {</span>
               <span class="hljs-attr">dependency</span> = moduleOutdatedDependencies[j]<span class="hljs-comment">;</span>
               <span class="hljs-attr">idx</span> = module.children.indexOf(dependency)<span class="hljs-comment">;</span>
               if (idx &gt;= 0) module.children.splice(idx, 1)<span class="hljs-comment">;</span>
           }
       }

   }
}
</code></pre>
<p>applyæ–¹æ³•</p>
<p><code>apply()</code>æ–¹æ³•æ˜¯HMR æ¨¡å—æ›¿æ¢æµç¨‹ä¸­çš„â€œåŠ è½½æ–°æ¨¡å—â€é˜¶æ®µï¼Œä¸»è¦æ‰§è¡Œçš„é€»è¾‘æ˜¯ï¼š</p>
<ul>
<li>æ›´æ–°å…¨å±€çš„ window.<strong>webpack_require</strong> å¯¹è±¡ï¼Œå­˜å‚¨äº†æ‰€æœ‰è·¯å¾„+å†…å®¹çš„å¯¹è±¡</li>
<li>æ‰§è¡Œ runtime ä»£ç ï¼Œæ¯”å¦‚ <code>_webpack_require__.h = ()=&gt; {"xxxxxhashå€¼"}</code></li>
<li>è§¦å‘ä¹‹å‰ hot.accept éƒ¨ç½²äº†ä¾èµ–å˜åŒ–æ—¶çš„å›è°ƒ callBack</li>
<li>é‡æ–°åŠ è½½æ ‡è¯† _selfAccepted çš„ moduleï¼Œè¿™ç§æ¨¡å—ä¼šé‡æ–° require ä¸€æ¬¡</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">apply: function (reportError) {
   // insert new code
   for (var updateModuleId in appliedUpdate) {
       // <span class="hljs-attr">__webpack_require__.m</span> = __webpack_modules__
       // æ›´æ–°å…¨å±€çš„window.__webpack_require__å¯¹è±¡ï¼Œå­˜å‚¨äº†æ‰€æœ‰è·¯å¾„+å†…å®¹çš„å¯¹è±¡
       __webpack_require__.m<span class="hljs-section">[updateModuleId]</span> = appliedUpdate<span class="hljs-section">[updateModuleId]</span><span class="hljs-comment">;</span>
   }

   // run new runtime modules
   // æ‰§è¡Œruntimeä»£ç ï¼Œæ¯”å¦‚<span class="hljs-attr">_webpack_require__.h</span> = ()=&gt; {<span class="hljs-string">"xxxxxhashå€¼"</span>}
   for (var <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; currentUpdateRuntime.length; i++) {</span>
       currentUpdateRuntime<span class="hljs-section">[i]</span>(__webpack_require__)<span class="hljs-comment">;</span>
   }

   // call accept handlersï¼šè§¦å‘ä¹‹å‰hot.acceptéƒ¨ç½²äº†ä¾èµ–å˜åŒ–æ—¶çš„å›è°ƒcallBack
   for (var outdatedModuleId in outdatedDependencies) {
       var <span class="hljs-attr">module</span> = __webpack_require__.c[outdatedModuleId]<span class="hljs-comment">;</span>
       if (module) {
           <span class="hljs-attr">moduleOutdatedDependencies</span> =
               outdatedDependencies<span class="hljs-section">[outdatedModuleId]</span><span class="hljs-comment">;</span>
           var <span class="hljs-attr">callbacks</span> = []<span class="hljs-comment">;</span>
           var <span class="hljs-attr">errorHandlers</span> = []<span class="hljs-comment">;</span>
           var <span class="hljs-attr">dependenciesForCallbacks</span> = []<span class="hljs-comment">;</span>
           for (var <span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; moduleOutdatedDependencies.length; j++) {</span>
               var <span class="hljs-attr">dependency</span> = moduleOutdatedDependencies[j]<span class="hljs-comment">;</span>
               var <span class="hljs-attr">acceptCallback</span> = module.hot._acceptedDependencies[dependency]<span class="hljs-comment">;</span>
               var <span class="hljs-attr">errorHandler</span> = module.hot._acceptedErrorHandlers[dependency]<span class="hljs-comment">;</span>
               if (acceptCallback) {
                   if (callbacks.indexOf(acceptCallback) !== -1) continue<span class="hljs-comment">;</span>
                   callbacks.push(acceptCallback)<span class="hljs-comment">;</span>
                   errorHandlers.push(errorHandler)<span class="hljs-comment">;</span>
                   dependenciesForCallbacks.push(dependency)<span class="hljs-comment">;</span>
               }
           }
           for (var <span class="hljs-attr">k</span> = <span class="hljs-number">0</span><span class="hljs-comment">; k &lt; callbacks.length; k++) {</span>
               callbacks<span class="hljs-section">[k]</span>.call(null, moduleOutdatedDependencies)<span class="hljs-comment">;</span>
           }
       }
   }

   // Load self accepted modulesï¼šé‡æ–°åŠ è½½æ ‡è¯†_selfAcceptedçš„moduleï¼Œè¿™ç§æ¨¡å—ä¼šé‡æ–°requireä¸€æ¬¡
   for (var <span class="hljs-attr">o</span> = <span class="hljs-number">0</span><span class="hljs-comment">; o &lt; outdatedSelfAcceptedModules.length; o++) {</span>
       var <span class="hljs-attr">item</span> = outdatedSelfAcceptedModules[o]<span class="hljs-comment">;</span>
       var <span class="hljs-attr">moduleId</span> = item.module<span class="hljs-comment">;</span>

       item.require(moduleId)<span class="hljs-comment">;</span>
   }

   return outdatedModules<span class="hljs-comment">;</span>
  }
</code></pre>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>å‰ç«¯æ„å»ºå·¥å…·è®©æ¨¡å—ç®¡ç†ã€èµ„æºæ‰“åŒ…å’Œä¼˜åŒ–å˜å¾—é«˜æ•ˆï¼Œæå‡äº†å¼€å‘ä½“éªŒå’Œåº”ç”¨æ€§èƒ½ã€‚Webpack çš„å·¥ä½œåŸç†å°¤å…¶å€¼å¾—å­¦ä¹ ï¼šä»æ¨¡å—è§£æã€ä¾èµ–å›¾æ„å»ºï¼Œåˆ° Chunk ç”Ÿæˆå’Œçƒ­æ›´æ–°ï¼Œå®ƒå±•ç¤ºäº†ç°ä»£å‰ç«¯æ„å»ºçš„å®Œæ•´æœºåˆ¶ã€‚ç†è§£è¿™äº›åŸç†ä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨å·¥å…·ï¼Œä¹Ÿèƒ½ä¸ºä¼˜åŒ–å‰ç«¯é¡¹ç›®æ‰“ä¸‹åšå®åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆä¸ƒï¼‰]]></title>    <link>https://juejin.cn/post/7586500093844291626</link>    <guid>https://juejin.cn/post/7586500093844291626</guid>    <pubDate>2025-12-22T14:56:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586500093844291626" data-draft-id="7586490798432256063" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆä¸ƒï¼‰"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2025-12-22T14:56:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åå­—è¢«ä½ ä»¬æƒ³å®Œäº†"/> <meta itemprop="url" content="https://juejin.cn/user/3065854916834782"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆä¸ƒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3065854916834782/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åå­—è¢«ä½ ä»¬æƒ³å®Œäº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:56:11.000Z" title="Mon Dec 22 2025 14:56:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆä¸ƒï¼‰</h2>
<p>Flutter: 3.35.7</p>
<p>å‰é¢æˆ‘ä»¬æŠ½å–äº†åŒºåŸŸçš„é…ç½®ï¼Œä¸»è¦å®ç°äº†å¯¹å†…ç½®åŒºåŸŸçš„è‡ªå®šä¹‰ï¼Œç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœæ˜¯æˆ‘ä»¬æƒ³è‡ªå®šä¹‰æŸä¸ªç‰¹å®šåŒºåŸŸå®ç°ç‰¹å®šçš„æ•ˆæœï¼Œç°åœ¨çš„æ•°æ®éƒ½åœ¨éƒ¨ä»¶çš„å†…éƒ¨ï¼Œå¦‚æœä¸èƒ½æå‡åˆ°å¤–éƒ¨ï¼Œé‚£æˆ‘ä»¬ä¸èƒ½ç”±å¤–ç•Œä¼ å…¥è²Œä¼¼ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºåŠŸèƒ½éœ€æ±‚éƒ½ä¸ä¸€æ ·ï¼Œåªæœ‰å°½å¯èƒ½çš„ä»¥æˆ‘ç°åœ¨çš„èƒ½åŠ›å»è¿›è¡Œå°è£…ã€‚å…¶å®å¯¹äºå¤§å¤šæ•°çš„åœºæ™¯ï¼Œä¿®æ”¹å†…ç½®çš„åŒºåŸŸé…ç½®å³å¯ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦è€ƒè™‘è‡ªå®šä¹‰è¿™äº›ï¼Œç„¶è€Œé¢„ç•™ä¸€äº›å£å­å°±å¯ä»¥æå¤§åœ°æ–¹ä¾¿å…¶ä»–äººä½¿ç”¨ã€‚</p>
<p>è¿™é‡Œå°±ç®€å•å®ç°ä¸€ä¸‹è‡ªå®šä¹‰åŒºåŸŸï¼Œä¹‹å‰æˆ‘ä»¬é¢„ç•™äº†è‡ªå®šä¹‰åŒºåŸŸçš„fnï¼Œä½†é‚£åªæ˜¯ä¸€ä¸ªç®€å•çš„å ä½ï¼Œå¦‚æœç”¨æˆ·æƒ³è‡ªå®šä¹‰ä¸€äº›åŒºåŸŸå®ç°éƒ¨åˆ†çš„åŠŸèƒ½ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯å¯¹å½“å‰é€‰ä¸­å…ƒç´ çš„æ“ä½œï¼Œæˆ‘ä»¬å°†å¯ä»¥ç»™å‡ºçš„æ•°æ®ç»™åˆ°ç”¨æˆ·ï¼Œè®©ç”¨æˆ·è‡ªè¡Œè®¡ç®—ï¼Œå¹¶å°†è®¡ç®—å®Œæˆçš„å…ƒç´ è¿”å›ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">typedef</span> AreaFunction = ElementModel <span class="hljs-built_in">Function</span>({
  <span class="hljs-comment">/// <span class="markdown">ç‚¹å‡»çš„åæ ‡</span></span>
  <span class="hljs-keyword">required</span> Offset tapPoint,
  <span class="hljs-comment">/// <span class="markdown">é€‰ä¸­çš„å…ƒç´ </span></span>
  <span class="hljs-keyword">required</span> ElementModel element,
  <span class="hljs-comment">/// <span class="markdown">å®¹å™¨çš„å®½åº¦</span></span>
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> containerWidth,
  <span class="hljs-comment">/// <span class="markdown">å®¹å™¨çš„é«˜åº¦</span></span>
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> containerHeight,
  <span class="hljs-comment">/// <span class="markdown">ç§»åŠ¨çš„åæ ‡</span></span>
  Offset? movePoint,
});
</code></pre>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åŸºäºæ­¤å®ç°ä¸€ä¸ªç®€å•çš„ç‚¹å‡»å°†å…ƒç´ ç§»åŠ¨åˆ°å®¹å™¨ä¸­å¿ƒçš„åŠŸèƒ½ï¼Œç”¨è¿™ä¸ªä¾‹å­æ¥å¤§æ¦‚è¯´æ˜ä¸€ä¸‹è‡ªå®šä¹‰åŒºåŸŸçš„ä½¿ç”¨ã€‚æˆ‘ä»¬ä¹‹å‰å®ç°äº†åˆå§‹åŒ–åŒºåŸŸé…ç½®çš„å‡½æ•°ï¼Œç°åœ¨åŠ å…¥è‡ªå®šä¹‰çš„åŒºåŸŸï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—å¯¹å…¶è¿›è¡Œæ”¹é€ ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">åˆå§‹åŒ–å“åº”åŒºåŸŸ</span></span>
<span class="hljs-keyword">void</span> _initArea() {
  <span class="hljs-comment">// åˆå§‹ä¸ºé…ç½®é‡Œé¢å®šä¹‰çš„</span>
  <span class="hljs-built_in">List</span>&lt;ResponseAreaModel&gt; areaList = [...ConstantsConfig.baseAreaList];

  <span class="hljs-keyword">if</span> (widget.areaConfigList != <span class="hljs-keyword">null</span>) {
    <span class="hljs-comment">// å°†å¤–ç•Œä¼ é€’çš„é…ç½®åˆå¹¶</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> area <span class="hljs-keyword">in</span> widget.areaConfigList!) {
      <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> index = areaList.indexWhere((item) =&gt; item.status == area.status);

      <span class="hljs-comment">// å¦‚æœæ˜¯å†…ç½®çš„åŒºåŸŸï¼Œåˆ™ä¿®æ”¹é…ç½®</span>
      <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">-1</span>) {
        <span class="hljs-comment">// å¦‚æœæ˜¯ä¸ä½¿ç”¨ï¼Œåˆ™ç§»é™¤</span>
        <span class="hljs-keyword">if</span> (area.use == <span class="hljs-keyword">false</span>) {
          areaList.removeAt(index);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// å¦åˆ™è¿›è¡Œä¿®æ”¹é…ç½®</span>
          areaList[index].copyWith(
            xRatio: area.xRatio,
            yRatio: area.yRatio,
            icon: area.icon,
            fn: area.fn,
          );
        }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¦‚æœæ˜¯è‡ªå®šä¹‰çš„åŒºåŸŸï¼Œæˆ‘ä»¬é»˜è®¤è¯¥æœ‰çš„å‚æ•°æ˜¯å­˜åœ¨çš„</span>
        areaList.add(ResponseAreaModel(
          areaWidth: ConstantsConfig.minSize,
          areaHeight: ConstantsConfig.minSize,
          xRatio: area.xRatio!,
          yRatio: area.yRatio!,
          trigger: area.trigger,
          icon: area.icon!,
          status: area.status,
          fn: area.fn,
        ));
      }
    }
  }

  setState(() {
    _areaList = areaList;
  });
}
</code></pre>
<p>é…ç½®ï¼ˆå·²ç»è®©å¤–ç•Œä¼ å…¥ï¼‰ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å¤–ç•Œå®¹å™¨</span>
<span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

<span class="hljs-keyword">late</span> <span class="hljs-built_in">List</span>&lt;CustomAreaConfig&gt; _customAreaList;

<span class="hljs-meta">@override</span>
<span class="hljs-keyword">void</span> initState() {
  <span class="hljs-keyword">super</span>.initState();

  _customAreaList = [
    <span class="hljs-comment">// ä¸ä½¿ç”¨ç¼©æ”¾åŒºåŸŸ</span>
    CustomAreaConfig(
      status: ElementStatus.scale.value,
      use: <span class="hljs-keyword">false</span>,
    ),
    <span class="hljs-comment">// å°†æ—‹è½¬ç§»åˆ°å³ä¸‹è§’</span>
    CustomAreaConfig(
      status: ElementStatus.rotate.value,
      xRatio: <span class="hljs-number">1</span>,
      yRatio: <span class="hljs-number">1</span>,
    ),
    <span class="hljs-comment">// æµ‹è¯•è‡ªå®šä¹‰åŒºåŸŸ</span>
    CustomAreaConfig(
      status: <span class="hljs-string">'center'</span>,
      xRatio: <span class="hljs-number">0</span>,
      yRatio: <span class="hljs-number">1</span>,
      icon: <span class="hljs-string">'assets/images/icon_center.png'</span>,
      trigger: TriggerMethod.down,
      fn: _centerFn,
    ),
  ];
}

<span class="hljs-comment">/// <span class="markdown">æµ‹è¯•è‡ªå®šä¹‰åŒºåŸŸçš„å‡½æ•°</span></span>
ElementModel _centerFn({
  <span class="hljs-comment">/// <span class="markdown">ç‚¹å‡»çš„åæ ‡</span></span>
  <span class="hljs-keyword">required</span> Offset tapPoint,
  <span class="hljs-comment">/// <span class="markdown">é€‰ä¸­çš„å…ƒç´ </span></span>
  <span class="hljs-keyword">required</span> ElementModel element,
  <span class="hljs-comment">/// <span class="markdown">å®¹å™¨çš„å®½åº¦</span></span>
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> containerWidth,
  <span class="hljs-comment">/// <span class="markdown">å®¹å™¨çš„é«˜åº¦</span></span>
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> containerHeight,
  <span class="hljs-comment">/// <span class="markdown">ç§»åŠ¨çš„åæ ‡</span></span>
  Offset? movePoint,
}) {
  <span class="hljs-keyword">return</span> ElementModel(
    id: element.id,
    elementWidth: element.elementWidth,
    elementHeight: element.elementHeight,
  );
}

<span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

Column(
  children: [
    Expanded(
      child: MultipleTransformContainer(
        <span class="hljs-comment">// ä¼ å…¥é…ç½®</span>
        areaConfigList: _customAreaList,
      ),
    ),
  ],
),
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ed2b18dd54640fab244c3a0c26f9998~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020171&amp;x-signature=AnplTG3MLp7X0bvXyyJOg3YmT6c%3D" alt="image01.gif" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å®šä¹‰äº†å·¦ä¸‹è§’ä¸ºè‡ªå®šä¹‰åŒºåŸŸï¼Œå…¶ä»–å†…ç½®çš„åŒºåŸŸé…ç½®ä¹Ÿç”Ÿæ•ˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°è¿™ä¸ªåŒºåŸŸçš„æ–¹æ³•ã€‚åœ¨å®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å¯¹æŒ‰ä¸‹äº‹ä»¶å‡½æ•°ã€ç§»åŠ¨äº‹ä»¶å‡½æ•°å’Œæ›´æ–°å±æ€§å‡½æ•°è¿›è¡Œé€»è¾‘æ–°å¢ï¼Œæ–°å¢å¦‚æœæ˜¯ç‚¹å‡»çš„è‡ªå®šä¹‰åŒºåŸŸï¼Œåˆ™å“åº”è‡ªå®šä¹‰çš„æ–¹æ³•ï¼Œå°†å¿…è¦å‚æ•°ä¼ é€’è¿‡å»ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">å½“å‰å…ƒç´ å±æ€§å˜åŒ–çš„æ—¶å€™æ›´æ–°åˆ—è¡¨ä¸­å¯¹åº”å…ƒç´ çš„å±æ€§</span></span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// <span class="markdown">å› ä¸ºå¯èƒ½æ˜¯è§¦å‘ç”¨æˆ·çš„è‡ªå®šä¹‰åŒºåŸŸï¼Œ</span></span>
<span class="hljs-comment">/// <span class="markdown">æ‰€ä»¥å¦‚æœæ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„åŒºåŸŸï¼Œåˆ™å°†å¯¹åº”å…ƒç´ çš„å±æ€§ä¿®æ”¹æˆç”¨æˆ·è®¡ç®—åçš„å…ƒç´ å±æ€§</span></span>
<span class="hljs-keyword">void</span> _onChange({ElementModel? data}) {
  <span class="hljs-keyword">if</span> (_currentElement == <span class="hljs-keyword">null</span> || _temporary == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-keyword">final</span> ElementModel? tempElement = data ?? _currentElement;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; _elementList.length; i++) {
    <span class="hljs-keyword">final</span> ElementModel item = _elementList[i];

    <span class="hljs-keyword">if</span> (item.id == tempElement?.id) {
      _elementList[i] = item.copyWith(
        x: tempElement?.x,
        y: tempElement?.y,
        elementWidth: tempElement?.elementWidth,
        elementHeight: tempElement?.elementHeight,
        rotationAngle: tempElement?.rotationAngle,
      );
      setState(() {});
      <span class="hljs-keyword">break</span>;
    }
  }
}

<span class="hljs-comment">/// <span class="markdown">å¤„ç†è‡ªå®šä¹‰äº‹ä»¶</span></span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// <span class="markdown">é€šè¿‡å½“å‰çŠ¶æ€[status]æ¥ç¡®å®šæ˜¯å¦æ˜¯è‡ªå®šä¹‰åŒºåŸŸ, å¦‚æœæ˜¯,</span></span>
<span class="hljs-comment">/// <span class="markdown">åˆ™å°†æŒ‰ä¸‹åæ ‡ [tapPoint], ç§»åŠ¨åæ ‡ [movePoint] (å¦‚æœæ˜¯ç§»åŠ¨çŠ¶æ€),</span></span>
<span class="hljs-comment">/// <span class="markdown">å’Œå½“å‰å…ƒç´ [element]ä¼ é€’è¿‡å»ç”¨äºè‡ªå®šä¹‰çš„è®¡ç®—</span></span>
<span class="hljs-keyword">void</span> _onCustomFn({
  <span class="hljs-keyword">required</span> ElementModel element,
  <span class="hljs-keyword">required</span> Offset tapPoint,
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">String?</span> status,
  Offset? movePoint,
}) {
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> index = _areaList.indexWhere((item) =&gt; item.status == status);

  <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">-1</span>) {
    <span class="hljs-keyword">final</span> ResponseAreaModel item = _areaList[index];

    <span class="hljs-keyword">if</span> (item.fn != <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">final</span> ElementModel data = item.fn!(
        tapPoint: tapPoint,
        element: element,
        movePoint: movePoint,
        containerHeight: _containerHeight,
        containerWidth: _containerWidth,
      );
      _onChange(data: data);
    }
  }
}

<span class="hljs-comment">/// <span class="markdown">æŒ‰ä¸‹äº‹ä»¶</span></span>
<span class="hljs-keyword">void</span> _onPanDown(DragDownDetails details) {
  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

  <span class="hljs-comment">// æ–°å¢åˆ¤æ–­</span>
  <span class="hljs-comment">// å¦‚æœå½“å‰æœ‰é€‰ä¸­çš„å…ƒç´ ä¸”å’Œç‚¹å‡»åŒºåŸŸçš„currentElementæ˜¯ä¸€ä¸ªå…ƒç´ </span>
  <span class="hljs-comment">// å¹¶ä¸” temp çš„ statuså¯¹åº”çš„è§¦å‘æ–¹å¼ä¸ºç‚¹å‡»ï¼Œé‚£ä¹ˆå°±å“åº”å¯¹åº”çš„ç‚¹å‡»äº‹ä»¶</span>
  <span class="hljs-keyword">if</span> (currentElement?.id == _currentElement?.id &amp;&amp; temp.trigger == TriggerMethod.down) {
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">Function?</span> fn = _onElementStatus(x: dx, y: dy)[temp.status];

    <span class="hljs-keyword">if</span> (fn != <span class="hljs-keyword">null</span>) {
      fn();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// final int index = _areaList.indexWhere((item) =&gt; item.status == temp.status);</span>
      <span class="hljs-comment">//</span>
      <span class="hljs-comment">// if (index &gt; -1) {</span>
      <span class="hljs-comment">//   final ResponseAreaModel item = _areaList[index];</span>
      <span class="hljs-comment">//</span>
      <span class="hljs-comment">//   if (item.fn != null) {</span>
      <span class="hljs-comment">//     final ElementModel data = item.fn!(</span>
      <span class="hljs-comment">//       tapPoint: Offset(dx, dy),</span>
      <span class="hljs-comment">//       element: currentElement!,</span>
      <span class="hljs-comment">//       containerHeight: _containerHeight,</span>
      <span class="hljs-comment">//       containerWidth: _containerWidth,</span>
      <span class="hljs-comment">//     );</span>
      <span class="hljs-comment">//     _onChange(data: data);</span>
      <span class="hljs-comment">//   }</span>
      <span class="hljs-comment">// }</span>
      <span class="hljs-comment">// æ–°å¢å¤„ç†è‡ªå®šä¹‰å‡½æ•°</span>
      _onCustomFn(
        element: currentElement!,
        tapPoint: Offset(dx, dy),
        status: temp.status,
      );
    }

    <span class="hljs-keyword">if</span> (temp.status == ElementStatus.deleteStatus.value) {
      <span class="hljs-comment">// å› ä¸ºæ˜¯åˆ é™¤ï¼Œå°±ç½®ç©ºé€‰ä¸­ï¼Œè®©ä¸‹é¢ä»£ç æ‰§è¡Œæœ€åçš„æ¸…é™¤</span>
      currentElement = <span class="hljs-keyword">null</span>;
    }
  }

  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>
}

<span class="hljs-comment">/// <span class="markdown">æŒ‰ä¸‹ç§»åŠ¨äº‹ä»¶</span></span>
<span class="hljs-keyword">void</span> _onPanUpdate(DragUpdateDetails details) {
  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

  <span class="hljs-comment">// if (_temporary?.trigger == TriggerMethod.move &amp;&amp; fn != null) fn();</span>
  <span class="hljs-keyword">if</span> (_temporary?.trigger == TriggerMethod.move) {
    <span class="hljs-keyword">if</span> (fn != <span class="hljs-keyword">null</span>) {
      fn();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ–°å¢å¤„ç†è‡ªå®šä¹‰å‡½æ•°</span>
      _onCustomFn(
        element: _currentElement!,
        tapPoint: _startPosition,
        movePoint: Offset(x, y),
        status: _temporary?.status,
      );
    }
  }
}
</code></pre>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ç®€å•å®ç°è‡ªå®šä¹‰åŒºåŸŸçš„åŠŸèƒ½</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">æµ‹è¯•è‡ªå®šä¹‰åŒºåŸŸçš„å‡½æ•°</span></span>
ElementModel _centerFn({
  <span class="hljs-comment">/// <span class="markdown">ç‚¹å‡»çš„åæ ‡</span></span>
  <span class="hljs-keyword">required</span> Offset tapPoint,
  <span class="hljs-comment">/// <span class="markdown">é€‰ä¸­çš„å…ƒç´ </span></span>
  <span class="hljs-keyword">required</span> ElementModel element,
  <span class="hljs-comment">/// <span class="markdown">å®¹å™¨çš„å®½åº¦</span></span>
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> containerWidth,
  <span class="hljs-comment">/// <span class="markdown">å®¹å™¨çš„é«˜åº¦</span></span>
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> containerHeight,
  <span class="hljs-comment">/// <span class="markdown">ç§»åŠ¨çš„åæ ‡</span></span>
  Offset? movePoint,
}) {
  <span class="hljs-comment">// è®¡ç®—å®¹å™¨ä¸­å¿ƒ</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> x = (containerWidth - element.elementWidth) / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> y = (containerHeight - element.elementHeight) / <span class="hljs-number">2</span>;

  <span class="hljs-keyword">return</span> ElementModel(
    id: element.id,
    elementWidth: element.elementWidth,
    elementHeight: element.elementHeight,
    x: x,
    y: y,
    rotationAngle: element.rotationAngle,
  );
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d8d996753f945138299a33c8fbd9206~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020171&amp;x-signature=JD6x2AdRT8K8Zpya8MathoqUbMs%3D" alt="image02.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯¹è‡ªå®šä¹‰åŒºåŸŸåŠäº‹ä»¶åšå‡ºäº†å“åº”ï¼Œè™½ç„¶å¯èƒ½å¾ˆå°‘ä½¿ç”¨ï¼Œä½†å› ä¸ºé¢„ç•™äº†è¿™ä¸ªå£å­è€Œå¤šäº†ä¸€ä¸çµæ´»æ€§ã€‚å¦‚æœè¿˜éœ€è¦å®ç°å…¶ä»–è‡ªå®šä¹‰å¯èƒ½ï¼Œå¯ä»¥æŒ‰ç…§ç±»ä¼¼çš„æ–¹å¼æ¥å®ç°ã€‚</p>
<p>æ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ã€å‰ç«¯å­¦ä¹ å°è¥åœ°ã€‘ï¼Œä¸å®šæ—¶ä¼šåˆ†äº«ä¸€äº›å°åŠŸèƒ½ï½</p>
<p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±ç»“æŸäº†ï¼Œåç»­å°±å¼€å§‹å®ç°å®¹å™¨å±æ€§çš„è®¾ç½®äº†ï¼Œæ¯”å¦‚è¾…åŠ©çº¿ï¼Œæ¯”å¦‚æ’¤é”€è¿˜åŸã€‚æ„Ÿè°¢é˜…è¯»ï½æ‹œæ‹œï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆå…«ï¼‰]]></title>    <link>https://juejin.cn/post/7586540799250874422</link>    <guid>https://juejin.cn/post/7586540799250874422</guid>    <pubDate>2025-12-22T15:02:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586540799250874422" data-draft-id="7586500093844340778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆå…«ï¼‰"/> <meta itemprop="keywords" content="Flutter,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:02:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åå­—è¢«ä½ ä»¬æƒ³å®Œäº†"/> <meta itemprop="url" content="https://juejin.cn/user/3065854916834782"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆå…«ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3065854916834782/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åå­—è¢«ä½ ä»¬æƒ³å®Œäº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:02:09.000Z" title="Mon Dec 22 2025 15:02:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆå…«ï¼‰</h2>
<p>Flutter: 3.35.7</p>
<p>å‰é¢æˆ‘ä»¬å®ç°äº†å…ƒç´ çš„å˜æ¢æ“ä½œï¼Œå•çº¯çš„å˜æ¢æ“ä½œåªæ˜¯ä¸ºäº†åç»­åŠŸèƒ½çš„å®ç°ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¼€å§‹æ‰©å±•å®¹å™¨çš„å±æ€§ã€‚</p>
<p>æˆ‘ä»¬è¦æ–°å¢å®¹å™¨åŠŸèƒ½çš„æ‰©å±•ï¼Œé‚£ä¹ˆå°±è¦åˆ’åˆ†æ–°çš„åŒºåŸŸæ¥å®ç°è¿™éƒ¨åˆ†åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—é‡æ–°è§„åˆ’å’Œè®¡ç®—ã€‚</p>
<p>æœ‰è®¸å¤šæ–¹å¼å®ç°æ‰©å±•åŠŸèƒ½åŒºåŸŸï¼Œç¬¬ä¸€ç§å°±æ˜¯åˆ’åˆ†åŒºåŸŸï¼Œåˆ’åˆ†ä¸‹é¢ä¸ºå±æ€§æ‰©å±•åŒºåŸŸï¼Œå…ƒç´ å˜æ¢åŒºåŸŸåˆ™ä¼šç›¸åº”çš„å‹ç¼©ï¼Œæ‰€ä»¥æ¶‰åŠåˆ°å˜æ¢çš„è®¡ç®—æœ‰ä½¿ç”¨åˆ°å®¹å™¨å®½é«˜å±æ€§çš„éƒ½è¦å˜åŒ–ï¼›ç¬¬äºŒç§å°±æ˜¯å°†åŠŸèƒ½åŒºåŸŸè®¾è®¡æˆä¸€ä¸ªåº•éƒ¨å¼¹æ¡†è¦†ç›–åœ¨å…ƒç´ å˜æ¢åŒºåŸŸï¼Œåœ¨å…ƒç´ å˜æ¢è¿‡ç¨‹ä¸­éšè—ï¼Œæœªå˜æ¢å°±å±•ç¤ºï¼Œè¿™æ ·å°±ä¸ç”¨æ›´æ”¹ï¼Œä¸è¿‡å¾—åˆ¶å®šå¼¹å‡ºæ—¶æœºã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸€ç§ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡Œç ”ç©¶ç¬¬äºŒç§ã€‚</p>
<p>å¸¸é‡æ–°å¢é…ç½®ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">åº•éƒ¨åŠŸèƒ½åŒºåŸŸçš„é«˜åº¦</span></span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">double</span> bottomHeight = <span class="hljs-number">100</span>;
<span class="hljs-comment">/// <span class="markdown">å˜æ¢åŒºåŸŸçš„å·¦å³margin</span></span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">double</span> transformMargin = <span class="hljs-number">20</span>;
</code></pre>
<p>é‡æ–°è®¡ç®—å®½é«˜ã€é‡æ–°è®¾è®¡å¸ƒå±€å’Œæ›´æ”¹å˜æ¢è¿‡ç¨‹ä¸­åº”ç”¨åˆ°å®¹å™¨å®½é«˜çš„è®¡ç®—ï¼ˆå°†å˜æ¢è®¡ç®—ä¸­çš„_containerWidthæ¢æˆ_transformWidthï¼Œ_containerHeightæ¢æˆ_transformHeightï¼‰ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">å˜æ¢åŒºåŸŸçš„å®½</span></span>
<span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> _transformWidth {
  <span class="hljs-keyword">return</span> _width - ConstantsConfig.transformMargin * <span class="hljs-number">2</span>;
}

<span class="hljs-comment">/// <span class="markdown">å˜æ¢åŒºåŸŸçš„é«˜</span></span>
<span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> _transformHeight {
  <span class="hljs-keyword">return</span> _height - ConstantsConfig.bottomHeight;
}

<span class="hljs-comment">/// <span class="markdown">æœ€ç»ˆå®¹å™¨çš„å®½</span></span>
<span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> _width {
  <span class="hljs-keyword">return</span> _containerWidth == <span class="hljs-number">0</span> ? (widget.containerWidth ?? <span class="hljs-built_in">double</span>.infinity) : _containerWidth;
}

<span class="hljs-comment">/// <span class="markdown">æœ€ç»ˆå®¹å™¨çš„é«˜</span></span>
<span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> _height {
  <span class="hljs-keyword">return</span> _containerHeight == <span class="hljs-number">0</span> ? (widget.containerHeight ?? <span class="hljs-built_in">double</span>.infinity) : _containerHeight;
}

SizedBox(
  key: _multipleTransformContainerGlobalKey,
  width: _width,
  height: _height,
  child: _containerWidth == <span class="hljs-number">0</span> || _containerHeight == <span class="hljs-number">0</span> ? <span class="hljs-keyword">null</span> : Column(
    children: [
      <span class="hljs-comment">// å˜æ¢åŒºåŸŸ</span>
      GestureDetector(
        <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>
        child: Container(
          width: _transformWidth,
          height: _transformHeight,
          margin: EdgeInsets.symmetric(
            horizontal: ConstantsConfig.transformMargin,
          ),
          color: Colors.white,
          child: _containerWidth == <span class="hljs-number">0</span> || _containerHeight == <span class="hljs-number">0</span> ? <span class="hljs-keyword">null</span> : Stack(
            <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>
          ),
        ),
      ),
      <span class="hljs-comment">// åº•éƒ¨åŠŸèƒ½åŒºåŸŸ</span>
      Container(
        height: ConstantsConfig.bottomHeight,
        color: Colors.white60,
      ),
    ],
  ),
);
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e59a4852538c435ca23cde93a934c63f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020529&amp;x-signature=W8Mm995kSWN0yuSfGmwGV9HKMWE%3D" alt="image01.png" loading="lazy"/></p>
<p>é¡ºä¾¿å°†ä½¿ç”¨å¤–å±‚çš„å®¹å™¨è®¾ç½®äº†é¡¶éƒ¨è¾¹è·ã€‚</p>
<p>åç»­çš„åŠŸèƒ½æ‰©å±•å°±åœ¨è¿™ä¸ªå°å°çš„åŒºåŸŸä¸Šé¢å®ç°ã€‚è§„åˆ’å®ŒåŒºåŸŸï¼Œæˆ‘ä»¬å°±è¦å¯¹å˜æ¢å…ƒç´ åšå‡ºä¿®æ”¹ï¼Œæ€»ä¸å¯èƒ½ä¸€ç›´æ“ä½œä¸€ä¸ªçŸ©å½¢å§ï¼›æŒ‰ç…§éƒ¨åˆ†ç»éªŒï¼Œè¿™ç§åŠŸèƒ½æ“ä½œçš„å¤§å¤šæ•°æ˜¯å›¾ç‰‡+æ–‡æœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥è¿™ä¸¤ç§æ¥åˆ’åˆ†å…ƒç´ çš„ç±»å‹ä¸ºä¾‹ï¼Œåç»­å¦‚æœæœ‰æ–°çš„ç±»å‹å†å¢åŠ å³å¯ã€‚</p>
<p>æ–°å¢å…ƒç´ ç±»å‹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">enum</span> ElementType {
  <span class="hljs-comment">/// <span class="markdown">å›¾ç‰‡</span></span>
  imageType(type: <span class="hljs-string">'image'</span>),
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬</span></span>
  textType(type: <span class="hljs-string">'text'</span>),;

  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> type;
  <span class="hljs-keyword">const</span> ElementType({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.type});
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ElementModel</span> </span>{
  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

  <span class="hljs-comment">/// <span class="markdown">å…ƒç´ çš„ç±»å‹</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> type;
  <span class="hljs-comment">/// <span class="markdown">å¦‚æœæ˜¯å…ƒç´ æ˜¯å›¾ç‰‡ç±»å‹ï¼Œå›¾ç‰‡çš„path</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> imagePath;
  <span class="hljs-comment">/// <span class="markdown">å¦‚æœå…ƒç´ æ˜¯æ–‡æœ¬ç±»å‹ï¼Œæ–‡æœ¬å±æ€§</span></span>
  <span class="hljs-keyword">final</span> ElementTextOptions? textOptions;

  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>
}

<span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

<span class="hljs-keyword">enum</span> TextAlignType {
  left(type: <span class="hljs-string">'left'</span>, textAlign: TextAlign.left),
  right(type: <span class="hljs-string">'right'</span>, textAlign: TextAlign.right),
  center(type: <span class="hljs-string">'center'</span>, textAlign: TextAlign.center),
  justify(type: <span class="hljs-string">'justify'</span>, textAlign: TextAlign.justify),
  ;

  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> type;
  <span class="hljs-keyword">final</span> TextAlign textAlign;
  <span class="hljs-keyword">const</span> TextAlignType({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.type,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.textAlign,
  });
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ElementTextOptions</span> </span>{
  <span class="hljs-keyword">const</span> ElementTextOptions({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.text,
    <span class="hljs-keyword">this</span>.textHeight = ConstantsConfig.initFontHeight,
    <span class="hljs-keyword">this</span>.fontSize = ConstantsConfig.initFontSize,
    <span class="hljs-keyword">this</span>.fontColor = Colors.black,
    <span class="hljs-keyword">this</span>.fontWeight,
    <span class="hljs-keyword">this</span>.fontFamily,
    <span class="hljs-keyword">this</span>.textAlign = ConstantsConfig.initFontAlign,
    <span class="hljs-keyword">this</span>.letterSpacing,
  });

  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬å†…å®¹</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> text;
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬è¡Œé«˜</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> textHeight;
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬å¤§å°</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> fontSize;
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬é¢œè‰²</span></span>
  <span class="hljs-keyword">final</span> Color fontColor;
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬å­—é‡ï¼ˆ100-1000ï¼Œ1000å°±æ˜¯boldï¼‰</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int?</span> fontWeight;
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬å­—ä½“</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> fontFamily;
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬å¯¹é½æ–¹å¼</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> textAlign;
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬å­—é—´è·</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double?</span> letterSpacing;

  ElementTextOptions copyWith({
    <span class="hljs-built_in">String?</span> text,
    <span class="hljs-built_in">double?</span> textHeight,
    <span class="hljs-built_in">double?</span> fontSize,
    Color? fontColor,
    <span class="hljs-built_in">int?</span> fontWeight,
    <span class="hljs-built_in">String?</span> fontFamily,
    <span class="hljs-built_in">String?</span> textAlign,
    <span class="hljs-built_in">double?</span> letterSpacing,
  }) {
    <span class="hljs-keyword">return</span> ElementTextOptions(
      text: text ?? <span class="hljs-keyword">this</span>.text,
      textHeight: textHeight ?? <span class="hljs-keyword">this</span>.textHeight,
      fontSize: fontSize ?? <span class="hljs-keyword">this</span>.fontSize,
      fontColor: fontColor ?? <span class="hljs-keyword">this</span>.fontColor,
      fontWeight: fontWeight ?? <span class="hljs-keyword">this</span>.fontWeight,
      fontFamily: fontFamily ?? <span class="hljs-keyword">this</span>.fontFamily,
      textAlign: textAlign ?? <span class="hljs-keyword">this</span>.textAlign,
      letterSpacing: letterSpacing ?? <span class="hljs-keyword">this</span>.letterSpacing,
    );
  }
}
</code></pre>
<p>å®šä¹‰å®Œå±æ€§ï¼Œæˆ‘ä»¬å°±å¼€å§‹æ–°å¢å›¾ç‰‡å…ƒç´ ï¼Œåœ¨åŠŸèƒ½åŒºæ–°å¢å›¾ç‰‡é€‰æ‹©æŒ‰é’®ï¼Œä»æœ¬åœ°æ–‡ä»¶ä¸­é€‰æ‹©å›¾ç‰‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—å¢åŠ å›¾ç‰‡é€‰æ‹©æ’ä»¶(image_picker)ï¼Œåœ¨è·å–åˆ°å›¾ç‰‡çš„æ—¶å€™å†å°†éƒ¨åˆ†å¿…è¦ä¿¡æ¯å¡«å……ï¼Œç„¶åå°†é€‰æ‹©çš„å›¾ç‰‡æ·»åŠ åˆ°å…ƒç´ åˆ—è¡¨ä¸­å³å¯ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ImageElementAdd</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> ImageElementAdd({
    <span class="hljs-keyword">super</span>.key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.transformWidth,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.transformHeight,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.addElement,
  });

  <span class="hljs-comment">/// <span class="markdown">å˜æ¢åŒºåŸŸçš„å®½ï¼Œç”¨äºè®¡ç®—é€‰æ‹©å›¾ç‰‡çš„åˆå§‹å®½åº¦</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> transformWidth;
  <span class="hljs-comment">/// <span class="markdown">å˜æ¢åŒºåŸŸçš„é«˜ï¼Œç”¨äºè®¡ç®—é€‰æ‹©å›¾ç‰‡çš„åˆå§‹é«˜åº¦</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> transformHeight;
  <span class="hljs-comment">/// <span class="markdown">æ–°å¢å…ƒç´ æ–¹æ³•ï¼Œç”¨äºå°†é€‰æ‹©çš„å›¾ç‰‡æ·»åŠ åˆ°å…ƒç´ åˆ—è¡¨ä¸­</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Function</span>(ElementModel) addElement;

  <span class="hljs-meta">@override</span>
  State&lt;ImageElementAdd&gt; createState() =&gt; _ImageElementAddState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_ImageElementAddState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">ImageElementAdd</span>&gt; </span>{
  <span class="hljs-comment">/// <span class="markdown">é€‰æ‹©å›¾ç‰‡</span></span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; _imagePicker() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> ImagePicker picker = ImagePicker();
    <span class="hljs-keyword">final</span> XFile? imageFile = <span class="hljs-keyword">await</span> picker.pickImage(source: ImageSource.gallery);

    <span class="hljs-keyword">if</span> (imageFile != <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">final</span> imageInfo = <span class="hljs-keyword">await</span> _loadImageFromFile(imageFile.path);

      widget.addElement(ElementModel(
        id: <span class="hljs-built_in">DateTime</span>.now().millisecondsSinceEpoch,
        elementWidth: imageInfo.$<span class="hljs-number">1</span>,
        elementHeight: imageInfo.$<span class="hljs-number">2</span>,
        type: ElementType.imageType.type,
        imagePath: imageFile.path,
      ));
    }
  }

  <span class="hljs-comment">/// <span class="markdown">ä»æœ¬åœ°æ–‡ä»¶åŠ è½½å›¾ç‰‡å¹¶è·å–å®½é«˜</span></span>
  <span class="hljs-comment">///</span>
  <span class="hljs-comment">/// <span class="markdown">é€šè¿‡[filePath]è·å–è¿™å¼ å›¾ç‰‡çš„å®½é«˜</span></span>
  Future&lt;(<span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>)&gt; _loadImageFromFile(<span class="hljs-built_in">String</span> filePath) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> file = File(filePath);
    <span class="hljs-keyword">final</span> bytes = <span class="hljs-keyword">await</span> file.readAsBytes();
    <span class="hljs-keyword">final</span> codec = <span class="hljs-keyword">await</span> ui.instantiateImageCodec(bytes);
    <span class="hljs-keyword">final</span> frame = <span class="hljs-keyword">await</span> codec.getNextFrame();
    <span class="hljs-keyword">final</span> imageInfo = frame.image;

    <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> imageWidth = imageInfo.width.toDouble();
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> imageHeight = imageInfo.height.toDouble();
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> tempContainerWidth = widget.transformWidth / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> tempContainerHeight = widget.transformHeight / <span class="hljs-number">2</span>;
    <span class="hljs-built_in">double</span> tempWidth = imageWidth;
    <span class="hljs-built_in">double</span> tempHeight = imageHeight;

    <span class="hljs-comment">// ä»¥é•¿è¾¹æ¥è®¾ç½®å›¾ç‰‡çš„æœ€ç»ˆåˆå§‹å®½é«˜</span>
    <span class="hljs-keyword">if</span> (imageWidth &gt;= imageHeight) {
      tempWidth = imageWidth &gt; tempContainerWidth ? tempContainerWidth : imageWidth;
      tempHeight = (tempWidth / imageWidth) * imageHeight;
    } <span class="hljs-keyword">else</span> {
      tempHeight = imageHeight &gt; tempContainerHeight ? tempContainerHeight : imageHeight;
      tempWidth = (tempHeight / imageHeight) * imageWidth;
    }

    <span class="hljs-keyword">return</span> (tempWidth, tempHeight);
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> ElevatedButton(
      onPressed: _imagePicker,
      child: Text(<span class="hljs-string">'å›¾ç‰‡é€‰æ‹©'</span>),
    );
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db57886f6de2439c90d92465ad5384ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020529&amp;x-signature=WYEt4vImxZ3qv0GKYQdt3gUsKrQ%3D" alt="image02.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±ç®€å•å®ç°äº†å›¾ç‰‡å…ƒç´ çš„æ–°å¢ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç®€å•å®ç°æ–‡æœ¬å…ƒç´ çš„æ–°å¢ã€‚æ–‡æœ¬å…ƒç´ å°±éœ€è¦è€ƒè™‘å¤šäº›äº†ï¼Œå› ä¸ºæ¶‰åŠåˆ°æ–‡æœ¬å±æ€§çš„ä¿®æ”¹ï¼Œæ–°å¢çš„æ—¶å€™å°†å¯¹åº”çš„å±æ€§ä¿®æ”¹æ”¾å¼€ï¼Œåç»­ä¹Ÿæ¶‰åŠåˆ°ç¼–è¾‘ï¼Œæ‰€ä»¥å°è£…æˆä¸€ä¸ªéƒ¨ä»¶ï¼Œä¸ºäº†åç»­èƒ½æ›´å¥½çš„å±•ç¤ºï¼Œæˆ‘ä»¬å°è£…æˆä¸€ä¸ªPositionedï¼Œé€šè¿‡æ§åˆ¶çŠ¶æ€æ¥å±•ç¤ºï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TextOptions</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> TextOptions({
    <span class="hljs-keyword">super</span>.key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.transformWidth,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.isShow,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.addElement,
  });

  <span class="hljs-comment">/// <span class="markdown">å˜æ¢åŒºåŸŸçš„å®½ï¼Œç”¨äºè®¡ç®—é€‰æ‹©æ–‡æœ¬å…ƒç´ çš„æœ€å¤§å®½åº¦</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> transformWidth;
  <span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬å…ƒç´ å±æ€§éƒ¨ä»¶æ˜¯å¦å±•ç¤º</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> isShow;
  <span class="hljs-comment">/// <span class="markdown">æ–°å¢å…ƒç´ æ–¹æ³•ï¼Œç”¨äºæ–°å¢æ–‡æœ¬éƒ¨ä»¶</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Function</span>(ElementModel) addElement;

  <span class="hljs-meta">@override</span>
  State&lt;TextOptions&gt; createState() =&gt; _TextOptionsState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_TextOptionsState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">TextOptions</span>&gt; </span>{
  <span class="hljs-comment">/// <span class="markdown">æ–°å¢æ–‡æœ¬å…ƒç´ </span></span>
  <span class="hljs-keyword">void</span> _onAddTextElement(<span class="hljs-built_in">String</span> text) {}

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> AnimatedPositioned(
      duration: <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">100</span>),
      left: <span class="hljs-number">0</span>,
      right: <span class="hljs-number">0</span>,
      bottom: widget.isShow ? <span class="hljs-number">0</span> : -ConstantsConfig.fontOptionsWidgetHeight,
      child: Container(
        padding: EdgeInsets.all(<span class="hljs-number">20</span>),
        color: Colors.white,
        height: ConstantsConfig.fontOptionsWidgetHeight,
        child: TextField(
          style: TextStyle(
            fontSize: <span class="hljs-number">15</span>,
            fontWeight: FontWeight.w600,
            height: <span class="hljs-number">1.333</span>,
          ),
          decoration: InputDecoration(
            isCollapsed: <span class="hljs-keyword">true</span>,
            contentPadding: EdgeInsets.zero,
            border: InputBorder.none,
            counter: <span class="hljs-keyword">const</span> Offstage(),
            hintText: <span class="hljs-string">'è¯·è¾“å…¥'</span>,
            hintStyle: TextStyle(
              fontSize: <span class="hljs-number">15</span>,
              fontWeight: FontWeight.w600,
              height: <span class="hljs-number">1.333</span>,
            ),
          ),
          onSubmitted: _onAddTextElement,
        ),
      ),
    );
  }
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TextElementAdd</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> TextElementAdd({
    <span class="hljs-keyword">super</span>.key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.onShowTextOptions,
  });

  <span class="hljs-comment">/// <span class="markdown">å±•ç¤ºæ–‡æœ¬å±æ€§éƒ¨ä»¶</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">bool</span>) onShowTextOptions;

  <span class="hljs-meta">@override</span>
  State&lt;TextElementAdd&gt; createState() =&gt; _TextElementAddState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_TextElementAddState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">TextElementAdd</span>&gt; </span>{
  <span class="hljs-keyword">void</span> _onShowText() {
    widget.onShowTextOptions(<span class="hljs-keyword">true</span>);
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> ElevatedButton(
      onPressed: _onShowText,
      child: Text(
        <span class="hljs-string">'æ–‡æœ¬'</span>,
        style: TextStyle(
          fontSize: <span class="hljs-number">12</span>,
        ),
      ),
    );
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c8a2e6843e8456a9f2556858a1e4060~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020529&amp;x-signature=KFeSoFScg9UVU9hKUYqCJmezWWA%3D" alt="image03.gif" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±åœ¨è¿™ä¸ªåŸºç¡€ä¸Šå®ç°æ–°å¢æ–‡æœ¬çš„é€»è¾‘ã€‚é¦–å…ˆï¼Œæ–°å¢æ–‡æœ¬çš„æ—¶å€™æˆ‘ä¹Ÿä¹Ÿè¦å¾—åˆ°è¿™ä¸ªå­—ç¬¦ä¸²åº”è¯¥æ‹¥æœ‰çš„å®½é«˜ã€‚é€šè¿‡ flutter æä¾›çš„ TextPainter æ¥è·å–ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">è®¡ç®—æ–‡æœ¬çš„å®½é«˜</span></span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// <span class="markdown">ä¼ å…¥æ–‡æœ¬å­—ç¬¦ä¸²[text]ã€æ–‡æœ¬çš„æ ·å¼[style]å’Œæœ€å¤§çš„å®½åº¦[maxWidth]æ¥è®¡ç®—æ–‡æœ¬çš„å®½é«˜</span></span>
<span class="hljs-keyword">static</span> (<span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>) calculateTextSize({
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">String</span> text,
  <span class="hljs-keyword">required</span> TextStyle style,
  <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> maxWidth
}) {
  <span class="hljs-keyword">if</span> (text.isEmpty) {
    <span class="hljs-keyword">return</span> (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  }

  <span class="hljs-keyword">final</span> TextPainter textPainter = TextPainter(
    text: TextSpan(text: text, style: style),
    textDirection: TextDirection.ltr,
  )..layout(maxWidth: maxWidth);
  <span class="hljs-keyword">final</span> tempWidth = textPainter.width;
  <span class="hljs-keyword">final</span> tempHeight = textPainter.height;
  <span class="hljs-comment">// ä¸èƒ½å°äºæœ€å°å€¼</span>
  <span class="hljs-keyword">final</span> minSize = ConstantsConfig.minSize;

  <span class="hljs-keyword">return</span> (
    tempWidth &lt;= minSize ? minSize : tempWidth,
    tempHeight &lt;= minSize ? minSize : tempHeight
  );
}
</code></pre>
<p>è·å–åˆ°æ–‡æœ¬å…ƒç´ çš„å®½é«˜åï¼Œå°±å¯ä»¥å®ç°æ–°å¢çš„é€»è¾‘äº†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">æ–°å¢æ–‡æœ¬å…ƒç´ </span></span>
<span class="hljs-keyword">void</span> _onAddTextElement(<span class="hljs-built_in">String</span> text) {
  <span class="hljs-comment">// ä¸€äº›åˆå§‹åŒ–çš„æ–‡æœ¬å±æ€§</span>
  TextStyle style = TextStyle(
    fontSize: ConstantsConfig.initFontSize,
    height: ConstantsConfig.initFontHeight,
  );

  <span class="hljs-keyword">final</span> (tempWidth, tempHeight) = TransformUtils.calculateTextSize(
    text: text,
    style: style,
    maxWidth: widget.transformWidth,
  );

  widget.addElement(ElementModel(
    id: <span class="hljs-built_in">DateTime</span>.now().millisecondsSinceEpoch,
    elementHeight: tempHeight,
    elementWidth: tempWidth,
    type: ElementType.textType.type,
    textOptions: ElementTextOptions(text: text),
  ));
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/408f1af88dd3444db8aa4afcdc27d711~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020529&amp;x-signature=i1TCvmzqvF%2Fp6MqD6blgq%2BlIltM%3D" alt="image04.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±ç®€å•å®ç°äº†æ–°å¢æ–‡æœ¬å…ƒç´ ï¼Œä¸‹é¢å°±æ¥è®¾è®¡æ–‡æœ¬å…ƒç´ å±æ€§çš„ä¿®æ”¹ã€‚å› ä¸ºå±æ€§æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨tabæ¥åˆ†å¼€ï¼ˆå‰é¢ç®€å•å°è£…è¿‡ä¸€ä¸ªtabï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ»‘åŠ¨ç»„ä»¶ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ï¼Œæ‰€ä»¥ä½¿ç”¨æ»‘åŠ¨ç»„ä»¶ï¼ˆæˆ‘ä»¬ä»¥è¡Œé«˜å±æ€§ä¸ºä¾‹ï¼Œå…¶ä»–çš„å®ç°ç±»ä¼¼ï¼Œåªæ˜¯ç»“æ„ç¨å¾®è°ƒæ•´å³å¯ï¼‰ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">è®¾ç½®æ–‡æœ¬çš„å±æ€§</span></span>
<span class="hljs-keyword">void</span> _setTextOptions(ElementTextOptions textOptions) {
  <span class="hljs-keyword">if</span> (_currentElement?.type == ElementType.textType.type) {
    TextStyle style = TextStyle(
      fontSize: textOptions.fontSize,
      height: textOptions.textHeight,
      letterSpacing: textOptions.letterSpacing,
      fontWeight: TransformUtils.getFontWeight(
        textOptions.fontWeight,
      ),
    );

    <span class="hljs-keyword">final</span> (tempWidth, tempHeight) = TransformUtils.calculateTextSize(
      text: textOptions.text,
      style: style,
      maxWidth: _currentElement!.elementWidth,
    );

    _currentElement = _currentElement?.copyWith(
      <span class="hljs-comment">// elementWidth: tempWidth,</span>
      elementHeight: tempHeight,
      textOptions: _currentElement?.textOptions?.copyWith(
        text: textOptions.text,
        textHeight: textOptions.textHeight,
        fontSize: textOptions.fontSize,
        fontColor: textOptions.fontColor,
        fontWeight: textOptions.fontWeight,
        fontFamily: textOptions.fontFamily,
        textAlign: textOptions.textAlign,
        letterSpacing: textOptions.letterSpacing,
      ),
    );
    _onChange();
  }
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> _onReduceFontHeight() {
  <span class="hljs-keyword">if</span> (widget.textOptions != <span class="hljs-keyword">null</span> &amp;&amp; widget.textOptions!.textHeight &gt; <span class="hljs-number">0</span>) {
    widget.setTextOptions(
      widget.textOptions!.copyWith(
        textHeight: (
          Decimal.parse(<span class="hljs-string">'<span class="hljs-subst">${widget.textOptions!.textHeight}</span>'</span>) - Decimal.parse(<span class="hljs-string">'0.1'</span>)
        ).toDouble(),
      ),
    );
  }
}

<span class="hljs-keyword">void</span> _onAddFontHeight() {
  <span class="hljs-keyword">if</span> (widget.textOptions != <span class="hljs-keyword">null</span>) {
    widget.setTextOptions(
      widget.textOptions!.copyWith(
        textHeight: (
          Decimal.parse(<span class="hljs-string">'<span class="hljs-subst">${widget.textOptions!.textHeight}</span>'</span>) + Decimal.parse(<span class="hljs-string">'0.1'</span>)
        ).toDouble(),
      ),
    );
  }
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39d5aadcd00d4a049d563047c86252fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020529&amp;x-signature=sN04mTDJWvuKeirxNWtE9rXIwdw%3D" alt="image05.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±ç®€å•å®ç°äº†å±æ€§çš„ä¿®æ”¹ï¼Œæ ·å¼ä»€ä¹ˆçš„åé¢æœ‰æ—¶é—´å†æ…¢æ…¢è°ƒæ•´ï¼Œç°åœ¨åªæ˜¯åŠŸèƒ½ä¸ºä¸»ï¼Œæ¯•ç«ŸçœŸå®çš„å¼€å‘æ€»ä¼šæœ‰UIçš„ã€‚</p>
<p>ä¸‹é¢å¿«é€Ÿé¢„è§ˆä¸€ä¸‹æ–‡æœ¬å±æ€§ä¿®æ”¹çš„å®Œæ•´æ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/564e57efe3764282b952e52c5632f152~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020529&amp;x-signature=QFC9yR2t4GdLb%2F68PpjC6uKZ1g0%3D" alt="image06.gif" loading="lazy"/></p>
<p>å­—ä½“å› ä¸ºéš¾å¾—æ‰¾ç›¸å…³çš„æ‰€ä»¥å°±æš‚æœªå®ç°ã€‚</p>
<p>æ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ã€å‰ç«¯å­¦ä¹ å°è¥åœ°ã€‘ï¼Œä¸å®šæ—¶ä¼šåˆ†äº«ä¸€äº›å°åŠŸèƒ½ï½</p>
<p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«åˆ°æ­¤ç»“æŸäº†ï¼Œæ„Ÿè°¢é˜…è¯»ï½æ‹œæ‹œï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agent è®¾è®¡æ¨¡å¼ - ReAct æ¨¡å¼]]></title>    <link>https://juejin.cn/post/7586555198115151878</link>    <guid>https://juejin.cn/post/7586555198115151878</guid>    <pubDate>2025-12-23T00:07:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586555198115151878" data-draft-id="7586498198149627955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agent è®¾è®¡æ¨¡å¼ - ReAct æ¨¡å¼"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-23T00:07:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­æ´‹"/> <meta itemprop="url" content="https://juejin.cn/user/1099167359835015"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agent è®¾è®¡æ¨¡å¼ - ReAct æ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099167359835015/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­æ´‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T00:07:24.000Z" title="Tue Dec 23 2025 00:07:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,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) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,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) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="tomorrow">.hljs-comment,.hljs-quote{color:#8e908c}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c82829}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5871f}.hljs-attribute{color:#eab700}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#718c00}.hljs-section,.hljs-title{color:#4271ae}.hljs-keyword,.hljs-selector-tag{color:#8959a8}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#4d4d4c}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸Šä¸€ç¯‡æˆ‘ä»¬ä»‹ç»äº† AI åº”ç”¨çš„å‘å±•å†ç¨‹ä»¥åŠ Agent çš„æ•´ä½“æ¦‚å¿µï¼Œè¿™ä¸€ç¯‡å°†é’ˆå¯¹ <strong>ReActï¼ˆReasoning + Actingï¼‰æ¨¡å¼</strong>ï¼Œå¹¶å¯¹å…¶è®¾è®¡æ€æƒ³å’Œå·¥ç¨‹å®ç°è¿›è¡Œä¸€æ¬¡æ›´ä¸ºç³»ç»Ÿã€åå®æˆ˜å‘çš„è®²è§£ã€‚</p>
<p>åœ¨è®²è§£ ReAct ä¹‹å‰ï¼Œæœ‰å¿…è¦å…ˆæ¾„æ¸…ä¸€ä¸ªç»å¸¸è¢«æ··ç”¨çš„é—®é¢˜ï¼š<strong>Agent åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>åœ¨æ—©æœŸä»¥åŠå½“ä¸‹å¤§é‡å·¥ç¨‹å®è·µä¸­ï¼Œä¸åŒ AI åº”ç”¨å¯¹ Agent çš„å®šä¹‰å¹¶ä¸ä¸€è‡´ã€‚å¾ˆå¤šæ‰€è°“çš„ Agentï¼Œæœ¬è´¨ä¸Šæ›´æ¥è¿‘ä¸€ä¸ª<strong>é¢„å…ˆå®šä¹‰å¥½çš„ AI workflow</strong>ï¼šæµç¨‹ã€å·¥å…·ã€ç­–ç•¥éƒ½ç”±åº”ç”¨ä¾§æå‰å›ºåŒ–ï¼Œç”¨æˆ·åªæ˜¯è§¦å‘æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª WebSearch åœºæ™¯å¾€å¾€å°±å¯¹åº”ä¸€ä¸ªã€Œæœç´¢ Agentã€ï¼Œæˆ–è€…é€šè¿‡ç‰¹å®šæç¤ºè¯ï¼ˆå¦‚ <code>/agent</code>ï¼‰æ¥å”¤é†’ä¸€ç»„å›ºå®šçš„æœç´¢å·¥å…·ã€‚</p>
<p>ä»å·¥ç¨‹è§†è§’çœ‹ï¼Œè¿™ç±» Agent æ›´å¤šæ˜¯<strong>èƒ½åŠ›å°è£…ä¸äº§å“æŠ½è±¡</strong>ï¼Œè€Œä¸æ˜¯ç ”ç©¶è¯­å¢ƒä¸­å¼ºè°ƒçš„ã€Œå…·å¤‡è‡ªä¸»å†³ç­–ä¸åé¦ˆèƒ½åŠ›çš„æ™ºèƒ½ä½“ã€ã€‚ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œéšç€æ¦‚å¿µè¢«é¢‘ç¹å¤ç”¨ï¼Œ<code>agent</code> è¿™ä¸ªè¯åœ¨å®é™…è®¨è®ºä¸­é€æ¸å˜å¾—æ¨¡ç³Šï¼Œå•ç‹¬å¬åˆ°å®ƒå·²å¾ˆéš¾å‡†ç¡®åˆ¤æ–­å…¶å…·ä½“èƒ½åŠ›è¾¹ç•Œã€‚</p>
<p>å¦‚æœæš‚æ—¶æŠ›å¼€å‘½åäº‰è®®ï¼Œä»å®ç°å±‚é¢æŠ½è±¡æ¥çœ‹ï¼Œä¸€ä¸ª Agent çš„æ ¸å¿ƒé€»è¾‘å…¶å®éå¸¸ç®€å•ï¼š<strong>ä¸€ä¸ªå—æ§çš„å¾ªç¯ï¼ˆloopï¼‰</strong>ã€‚åœ¨è¿™ä¸ªå¾ªç¯ä¸­ï¼Œæ¨¡å‹ä¸æ–­è·å–ä¸Šä¸‹æ–‡ã€è¿›è¡Œæ¨ç†ã€æ‰§è¡ŒåŠ¨ä½œï¼Œå¹¶æ ¹æ®ç»“æœç»§ç»­è°ƒæ•´è¡Œä¸ºï¼Œç›´åˆ°æ»¡è¶³ç»ˆæ­¢æ¡ä»¶ä¸ºæ­¢ã€‚</p>
<p>åœ¨å·¥ç¨‹å®ç°ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾€å¾€å¯ä»¥è¢«è¿‘ä¼¼ç†è§£ä¸ºï¼š</p>
<ul>
<li>å¤šè½®è°ƒç”¨ LLM</li>
<li>ä¸­é—´å¯èƒ½ä¼´éšå·¥å…·è°ƒç”¨</li>
<li>æœ‰æ˜ç¡®çš„é€€å‡ºæ¡ä»¶ï¼ˆå¦‚ä»»åŠ¡å®Œæˆã€æ­¥æ•°ä¸Šé™ã€token é¢„ç®—ï¼‰</li>
</ul>
<p>åŸºäºè¿™æ ·çš„èƒŒæ™¯ï¼Œå„ç±» Agent è®¾è®¡æ¨¡å¼ï¼ˆä¹Ÿå¯ä»¥ç§°ä¸ºèŒƒå¼æˆ–æ¡†æ¶ï¼‰é€æ­¥å‡ºç°ï¼Œè€Œå…¶ä¸­æœ€ç»å…¸ã€ä¹Ÿæœ€å…·ä»£è¡¨æ€§çš„ï¼Œä¾¿æ˜¯ <strong>ReAct æ¨¡å¼</strong>ã€‚è¯¥æ¨¡å¼æœ€æ—©å‘è¡¨äº 2022 å¹´ï¼Œå…¶ç»“æ„è‡³ä»Šä»è¶³ä»¥æ”¯æ’‘å¤§é‡ä¸­ä½å¤æ‚åº¦çš„ Agent åœºæ™¯ã€‚</p>
<h2 data-id="heading-1">ReAct æ¨¡å¼</h2>
<h3 data-id="heading-2">æ ¸å¿ƒæ€æƒ³</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2d1ed965f844c919ea69313b89065c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5rSL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767053244&amp;x-signature=qL5MuILhjAp6RcO4YY9jaQ2NlTM%3D" alt="" loading="lazy"/></p>
<p>ReAct çš„æå‡ºï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸ºäº†è§£å†³ä¸€ä¸ªæ—©æœŸ LLM åº”ç”¨ä¸­çš„å‰²è£‚é—®é¢˜ï¼š<strong>æ¨ç†ä¸è¡ŒåŠ¨å¾€å¾€æ˜¯åˆ†ç¦»çš„</strong>ã€‚</p>
<p>åœ¨ ReAct å‡ºç°ä¹‹å‰ï¼Œå¸¸è§çš„ä¸¤ç±»æ¨¡å¼åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><strong>Reason-only</strong>ï¼šæ¨¡å‹è¿›è¡Œæ˜¾å¼æ¨ç†ï¼ˆå¦‚ CoTã€Scratchpadï¼‰ï¼Œä½†ä¸ä¸å¤–éƒ¨ç¯å¢ƒäº¤äº’</li>
<li><strong>Act-heavy / Tool-driven</strong>ï¼šæ¨¡å‹é¢‘ç¹è°ƒç”¨å·¥å…·è·å–ä¿¡æ¯ï¼Œä½†æ¨ç†è¿‡ç¨‹å¹¶ä¸æ˜¾å¼å‘ˆç°æˆ–ä¸ä¸è¡ŒåŠ¨äº¤é”™</li>
</ul>
<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™é‡Œçš„åˆ†ç±»æ¥è‡ª ReAct è®ºæ–‡ä¸­çš„æŠ½è±¡å¯¹æ¯”ï¼Œè€Œå¹¶éå¯¹å…·ä½“ç³»ç»Ÿå†…éƒ¨å®ç°çš„ä¸¥æ ¼å­¦æœ¯å½’ç±»ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>SayCan å†…éƒ¨åŒæ ·åŒ…å«æ¨ç†ä¸å¯è¡Œæ€§è¯„ä¼°ï¼Œå¹¶éâ€œæ—  reasoningâ€</li>
<li>WebGPT ä¹Ÿå­˜åœ¨å†…éƒ¨æ¨ç†è¿‡ç¨‹ï¼Œåªæ˜¯æ¨ç†ä¸è¡ŒåŠ¨å¹¶æœªä»¥äº¤é”™å½¢å¼å‘ˆç°ç»™æ¨¡å‹</li>
</ul>
<p>åœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œ<strong>ReActï¼ˆReasoning + Actingï¼‰</strong> çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥æ¦‚æ‹¬ä¸ºä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>åœ¨è¡ŒåŠ¨ä¸­æ€è€ƒï¼Œåœ¨æ€è€ƒä¸­å†³å®šè¡ŒåŠ¨ã€‚</strong></p>
</blockquote>
<p>å®ƒå°è¯•å°†<strong>æ€è€ƒ</strong>å’Œ<strong>è¡ŒåŠ¨</strong>ç»Ÿä¸€åˆ°ä¸€ä¸ªè¿ç»­çš„é—­ç¯ä¸­ï¼Œæ¨¡æ‹Ÿäººç±»è§£å†³é—®é¢˜æ—¶çš„è‡ªç„¶è¿‡ç¨‹ï¼š</p>
<ol>
<li><strong>Thought</strong>ï¼šåˆ†æå½“å‰çŠ¶æ€ä¸ç›®æ ‡</li>
<li><strong>Action</strong>ï¼šåŸºäºåˆ¤æ–­è°ƒç”¨å·¥å…·æˆ–æ‰§è¡Œæ“ä½œ</li>
<li><strong>Observation</strong>ï¼šè§‚å¯Ÿè¡ŒåŠ¨ç»“æœ</li>
<li><strong>Thought</strong>ï¼šæ ¹æ®æ–°ä¿¡æ¯å†æ¬¡æ¨ç†</li>
<li>é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°é—®é¢˜è§£å†³</li>
</ol>
<p>ä»å½¢å¼ä¸Šçœ‹ï¼ŒReAct å¹¶æ²¡æœ‰å¼•å…¥å¤æ‚çš„æ–°ç»„ä»¶ï¼Œè€Œæ˜¯é€šè¿‡ <strong>Thought â†’ Action â†’ Observation</strong> çš„åå¤äº¤æ›¿ï¼Œæ˜¾è‘—æå‡äº†æ¨¡å‹åœ¨å¤šæ­¥ä»»åŠ¡ã€ä¿¡æ¯ä¸å®Œå¤‡ä»»åŠ¡ä¸­çš„è¡¨ç°ç¨³å®šæ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54b2fcf4b5c1480a843b66419e2e2a8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5rSL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767053244&amp;x-signature=sffR0OM%2BhSqLAVWpgOglV802ZW4%3D" alt="" loading="lazy"/></p>
<p>ä¸Šå›¾æ˜¯ ReAct è®ºæ–‡ä¸­çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œä¸»è¦å¯¹æ¯”äº† <strong>Standardã€Reason Onlyã€Act Only ä»¥åŠ ReAct</strong> å››ç§ä¸åŒèŒƒå¼åœ¨åŒä¸€é—®é¢˜ä¸‹çš„è¡¨ç°å·®å¼‚ã€‚Standard æ–¹å¼ç›´æ¥ç»™å‡ºç­”æ¡ˆï¼Œæ—¢ä¸æ˜¾å¼å±•å¼€æ¨ç†ï¼Œä¹Ÿä¸ä¸å¤–éƒ¨ç¯å¢ƒäº¤äº’ï¼›Reason Only è™½ç„¶åœ¨å›ç­”å‰è¿›è¡Œäº†é€æ­¥æ¨ç†ï¼Œä½†æ¨ç†è¿‡ç¨‹å®Œå…¨ä¾èµ–æ¨¡å‹è‡ªèº«çš„çŸ¥è¯†ï¼Œä¸€æ—¦å‰æåˆ¤æ–­é”™è¯¯ï¼Œç»“è®ºä¾¿æ— æ³•è¢«å¤–éƒ¨ä¿¡æ¯çº æ­£ï¼›Act Only åˆ™èƒ½å¤Ÿå¤šè½®è°ƒç”¨æœç´¢ç­‰å·¥å…·è·å–ä¿¡æ¯ï¼Œä½†ç”±äºç¼ºä¹æ˜ç¡®çš„æ¨ç†æŒ‡å¯¼ï¼Œè¡ŒåŠ¨è¿‡ç¨‹è¾ƒä¸ºç›²ç›®ï¼Œæœ€ç»ˆä»ç„¶å¾—å‡ºäº†é”™è¯¯ç»“æœã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒReAct é€šè¿‡å¤šè½® <strong>Thought â†’ Act â†’ Observation</strong> çš„äº¤é”™æ‰§è¡Œï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨è¡ŒåŠ¨ç»“æœçš„åé¦ˆä¸‹ä¸æ–­ä¿®æ­£æ¨ç†è·¯å¾„ï¼Œæœ€ç»ˆåœ¨åç»­è½®æ¬¡ä¸­å¾—åˆ°æ­£ç¡®ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-3">æ ¸å¿ƒå®ç°</h3>
<p>ä»å·¥ç¨‹è§’åº¦çœ‹ï¼ŒReAct çš„å®ç°å¹¶ä¸å¤æ‚ï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸€ä¸ª<strong>å¸¦æœ‰ç»ˆæ­¢æ¡ä»¶çš„å¾ªç¯æ§åˆ¶ç»“æ„</strong>ã€‚å¯ä»¥ç”¨ä¸‹é¢è¿™æ®µé«˜åº¦ç®€åŒ–çš„ä¼ªä»£ç æ¥æ¦‚æ‹¬ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆå®ç°é€»è¾‘</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; maxLoops; i++) {
    <span class="hljs-comment">// 1. æ€è€ƒï¼šLLMåˆ†æå½“å‰æƒ…å†µï¼Œå†³å®šåšä»€ä¹ˆ</span>
    <span class="hljs-keyword">const</span> { thought, action, args, final } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">llmThink</span>();
    
    <span class="hljs-keyword">if</span> (final) {
        <span class="hljs-comment">// ä»»åŠ¡å®Œæˆ</span>
        <span class="hljs-keyword">break</span>;
    }
    
    <span class="hljs-comment">// 2. è¡ŒåŠ¨ï¼šè°ƒç”¨å…·ä½“çš„å·¥å…·</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">callTool</span>(action, args);
    
    <span class="hljs-comment">// 3. è§‚å¯Ÿï¼šå°†ç»“æœä½œä¸ºä¸‹ä¸€æ¬¡æ€è€ƒçš„è¾“å…¥</span>
    context.<span class="hljs-title function_">push</span>(<span class="hljs-string">`è§‚å¯Ÿåˆ°ï¼š<span class="hljs-subst">${result}</span>`</span>);
}
</code></pre>
<p>è¿™æ®µä»£ç å·²ç»åŸºæœ¬è¦†ç›–äº† ReAct çš„æ ¸å¿ƒæœºåˆ¶ï¼š</p>
<ul>
<li><strong>å¾ªç¯é©±åŠ¨</strong>ï¼šæ¨¡å‹åœ¨å¤šè½®ä¸­é€æ­¥é€¼è¿‘ç›®æ ‡</li>
<li><strong>æ¨¡å‹è‡ªå†³ç­–</strong>ï¼šç”± LLM å†³å®šæ˜¯å¦ç»§ç»­ã€æ˜¯å¦è°ƒç”¨å·¥å…·</li>
<li><strong>æ˜¾å¼ç»ˆæ­¢æ¡ä»¶</strong>ï¼šé€šè¿‡ <code>final</code> æˆ–å¾ªç¯ä¸Šé™é¿å…å¤±æ§</li>
</ul>
<p>åœ¨çœŸå®ç³»ç»Ÿä¸­ï¼Œé€šå¸¸è¿˜ä¼šå åŠ æ›´å¤šå®‰å…¨ä¸æˆæœ¬æ§åˆ¶æœºåˆ¶ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æœ€å¤§å¾ªç¯æ¬¡æ•°ï¼ˆmaxLoopsï¼‰</li>
<li>token æˆ–è°ƒç”¨é¢„ç®—</li>
<li>å·¥å…·è°ƒç”¨ç™½åå•</li>
</ul>
<h3 data-id="heading-4">å…·ä½“å®ç°</h3>
<p>ä¸‹é¢å°†ç»“åˆä¸€ä»½å®é™…å¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºä¸€ä¸ªç®€åŒ–ä½†å®Œæ•´çš„ ReAct Agent å®ç°ã€‚</p>
<h4 data-id="heading-5">LLM è°ƒç”¨</h4>
<p>è¿™é‡Œä½¿ç”¨ <code>@ai-sdk</code> å°è£…å¤šå‚å•†æ¨¡å‹è°ƒç”¨ï¼Œç¤ºä¾‹ä¸­æ”¯æŒ OpenAI ä¸ Azure OpenAIã€‚è¯¥éƒ¨åˆ†å±äºåŸºç¡€è®¾æ–½å±‚ï¼Œä¸ ReAct æœ¬èº«å¹¶æ— å¼ºè€¦åˆï¼Œå› æ­¤ä¸å†å±•å¼€å…¶åŸç†ã€‚å…·ä½“çš„ä»‹ç»å’Œä½¿ç”¨æ–¹å¼å¯ä»¥çœ‹æˆ‘ä¹‹å‰å†™çš„è¿™ç¯‡æ–‡ç«  <a href="https://juejin.cn/user/1099167359835015/posts" target="_blank" title="https://juejin.cn/user/1099167359835015/posts">ã€ŠAI å¼€å‘è€…å¿…å¤‡ï¼šVercel AI SDK è½»æ¾æå®šå¤šå‚å•† AI è°ƒç”¨ã€‹</a> ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { generateText } <span class="hljs-keyword">from</span> <span class="hljs-string">"ai"</span>;
<span class="hljs-keyword">import</span> { createOpenAI } <span class="hljs-keyword">from</span> <span class="hljs-string">"@ai-sdk/openai"</span>;
<span class="hljs-keyword">import</span> { createAzure } <span class="hljs-keyword">from</span> <span class="hljs-string">"@ai-sdk/azure"</span>;

<span class="hljs-comment">/**
 * Build a model client from env/config.
 * Supported providers: 'openai', 'azure'.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getModelClient</span>(<span class="hljs-params">options = {}</span>) {
  <span class="hljs-keyword">const</span> {
    provider = process.<span class="hljs-property">env</span>.<span class="hljs-property">AI_PROVIDER</span> || <span class="hljs-string">"openai"</span>,
    apiKey = process.<span class="hljs-property">env</span>.<span class="hljs-property">AI_PROVIDER_API_KEY</span>,
    baseURL = process.<span class="hljs-property">env</span>.<span class="hljs-property">OPENAI_BASE_URL</span> || process.<span class="hljs-property">env</span>.<span class="hljs-property">AZURE_OPENAI_BASE_URL</span>,
    resourceName = process.<span class="hljs-property">env</span>.<span class="hljs-property">AZURE_OPENAI_RESOURCE_NAME</span>, <span class="hljs-comment">// for azure</span>
  } = options;

  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">AI_MOCK</span> === <span class="hljs-string">"1"</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">client</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">model</span>: <span class="hljs-literal">null</span> };
  }

  <span class="hljs-keyword">if</span> (!apiKey) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Missing API key: set AI_PROVIDER_API_KEY"</span>);
  }

  <span class="hljs-keyword">if</span> (provider === <span class="hljs-string">"azure"</span>) {
    <span class="hljs-keyword">const</span> azure = <span class="hljs-title function_">createAzure</span>({ apiKey, resourceName });
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">client</span>: azure, <span class="hljs-attr">model</span>: <span class="hljs-title function_">azure</span>(<span class="hljs-string">"gpt-5"</span>) };
  }

  <span class="hljs-keyword">const</span> openai = <span class="hljs-title function_">createOpenAI</span>({ apiKey, baseURL });
  <span class="hljs-keyword">const</span> modelName = process.<span class="hljs-property">env</span>.<span class="hljs-property">OPENAI_MODEL</span> || <span class="hljs-string">"gpt-4o-mini"</span>;
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">client</span>: openai, <span class="hljs-attr">model</span>: <span class="hljs-title function_">openai</span>(modelName) };
}

<span class="hljs-comment">/**
 * Chat-like step with messages array support.
 * messages: [{ role: 'system'|'user'|'assistant', content: string }]
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">llmChat</span>(<span class="hljs-params">{ messages, schema, options = {} }</span>) {
  <span class="hljs-keyword">const</span> { model } = <span class="hljs-title function_">getModelClient</span>(options);
  <span class="hljs-keyword">const</span> system = messages.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">m</span>) =&gt;</span> m.<span class="hljs-property">role</span> === <span class="hljs-string">"system"</span>)?.<span class="hljs-property">content</span>;

  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateText</span>({
    model,
    system,
    messages,
    ...(schema ? { schema } : {}),
  });
  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>æ ¸å¿ƒä½œç”¨åªæœ‰ä¸€ä¸ªï¼š<strong>ä»¥ Chat å½¢å¼å‘æ¨¡å‹å‘é€ä¸Šä¸‹æ–‡ï¼Œå¹¶è·å¾—ç»“æ„åŒ–è¾“å‡º</strong>ã€‚</p>
<h4 data-id="heading-6">ReAct ä¸»é€»è¾‘</h4>
<p>åœ¨ä¸‹é¢è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å®Œæ•´å®ç°äº†ä¸€ä¸ª ReAct Agent çš„æ ¸å¿ƒå¾ªç¯é€»è¾‘ã€‚é¦–å…ˆé€šè¿‡ system prompt å¯¹æ¨¡å‹çš„è¾“å‡ºå½¢å¼å’Œè¡Œä¸ºè¿›è¡Œå¼ºçº¦æŸï¼Œæ˜ç¡®è¦æ±‚å…¶<strong>ä»…ä»¥ JSON æ ¼å¼è¿”å›ç»“æœ</strong>ï¼Œä¸”åªèƒ½åŒ…å« <code>thought</code>ã€<code>action</code>ã€<code>args</code>ã€<code>final</code> å››ä¸ªå­—æ®µï¼Œå¹¶åˆ†åˆ«çº¦å®šäº†è°ƒç”¨å·¥å…·ä¸ç»“æŸä»»åŠ¡æ—¶çš„è¾“å‡ºè§„èŒƒã€‚ä¸æ­¤åŒæ—¶ï¼Œåœ¨ <code>user</code> æ¶ˆæ¯ä¸­æ˜¾å¼å‘ŠçŸ¥æ¨¡å‹å½“å‰å¯ç”¨çš„ tools åˆ—è¡¨ï¼Œå¹¶é™„å¸¦æ¯ä¸ªå·¥å…·çš„åŠŸèƒ½è¯´æ˜ä¸å‚æ•°å®šä¹‰ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨å¾ªç¯è¿‡ç¨‹ä¸­åŸºäºæ˜ç¡®çš„èƒ½åŠ›è¾¹ç•Œè‡ªä¸»å†³ç­–æ˜¯å¦è¿›è¡Œå·¥å…·è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { llmChat } <span class="hljs-keyword">from</span> <span class="hljs-string">"../llm/provider.js"</span>;
<span class="hljs-keyword">import</span> { callTool, formatToolList } <span class="hljs-keyword">from</span> <span class="hljs-string">"../tools/index.js"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SYSTEM</span> = <span class="hljs-string">`You are a ReAct-style agent.

You must reason and act using the following loop:
Thought â†’ Action â†’ Observation
This loop may repeat multiple times.

Output format rules:
- You MUST respond with a single JSON object
- The JSON object MUST contain only the following keys:
  - thought (string)
  - action (string, optional)
  - args (object, optional)
  - final (string, optional)
- No additional keys are allowed
- Do NOT use Markdown
- Do NOT include any text outside the JSON object

Behavior rules:
- If you need to call a tool, output "thought", "action", and "args"
- If no further action is required, output "thought" and "final"
- When "final" is present, the response is considered complete and no further steps will be taken
- Do NOT include "action" or "args" when returning "final"

Always follow these rules strictly.`</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runReAct</span>(<span class="hljs-params">{ task, maxLoops = <span class="hljs-number">6</span>, options = {} } = {}</span>) {
  <span class="hljs-keyword">const</span> messages = [
    { <span class="hljs-attr">role</span>: <span class="hljs-string">"system"</span>, <span class="hljs-attr">content</span>: <span class="hljs-variable constant_">SYSTEM</span> },
    {
      <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">`Task: <span class="hljs-subst">${task}</span>\nAvailable tools: <span class="hljs-subst">${formatToolList()}</span>`</span>,
    },
  ];

  <span class="hljs-keyword">const</span> trace = [];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; maxLoops; i++) {
    <span class="hljs-keyword">const</span> { text } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">llmChat</span>({ messages, options });
    <span class="hljs-keyword">let</span> parsed;
    <span class="hljs-keyword">try</span> {
      parsed = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(text);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-comment">// console.warn("Parse failed. Text:", text);</span>
      <span class="hljs-comment">// console.warn("Error:", String(e));</span>
      messages.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">role</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-attr">content</span>: text });
      messages.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-attr">content</span>: <span class="hljs-string">`Format error: <span class="hljs-subst">${<span class="hljs-built_in">String</span>(e)}</span>.
        You previously violated the required JSON format.
        This is a strict requirement.

        If the response is not valid JSON or contains extra text, it will be discarded.
        Retry now.`</span>,
      });
      <span class="hljs-keyword">continue</span>;
    }

    trace.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">step</span>: i + <span class="hljs-number">1</span>, <span class="hljs-attr">model</span>: parsed });

    <span class="hljs-keyword">if</span> (parsed.<span class="hljs-property">final</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Final result:"</span>, parsed.<span class="hljs-property">final</span>);
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">final</span>: parsed.<span class="hljs-property">final</span>, trace };
    }

    <span class="hljs-keyword">if</span> (!parsed.<span class="hljs-property">action</span>) {
      messages.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">role</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-attr">content</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(parsed) });
      messages.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-attr">content</span>:
          <span class="hljs-string">"No action provided. Please continue with a tool call or final."</span>,
      });
      <span class="hljs-keyword">continue</span>;
    }

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Action:"</span>, parsed.<span class="hljs-property">action</span>);
    <span class="hljs-keyword">const</span> observation = <span class="hljs-keyword">await</span> <span class="hljs-title function_">callTool</span>(parsed.<span class="hljs-property">action</span>, parsed.<span class="hljs-property">args</span> || {});
    trace[trace.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">observation</span> = observation;
    messages.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">role</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-attr">content</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(parsed) });
    messages.<span class="hljs-title function_">push</span>({
      <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">`Observation: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(observation)}</span>. Continue.`</span>,
    });
  }

  <span class="hljs-keyword">return</span> { <span class="hljs-attr">final</span>: <span class="hljs-string">"Max loops reached without final."</span>, trace };
}

</code></pre>
<h4 data-id="heading-7">Tools</h4>
<p>Tools æŒ‡çš„æ˜¯æ¨¡å‹åœ¨ ReAct å¾ªç¯ä¸­å¯ä»¥è°ƒç”¨çš„å…·ä½“å¤–éƒ¨èƒ½åŠ›æ¥å£ã€‚é€šå¸¸ï¼Œä¸€ä¸ªå·¥å…·ç”±<strong>å·¥å…·åç§°ã€åŠŸèƒ½æè¿°ã€å‚æ•°å®šä¹‰ä»¥åŠå¯¹åº”çš„ handler å®ç°</strong>ç»„æˆã€‚ä¸‹é¢ç¤ºä¾‹ä¸­å®ç°äº†ä¸¤ä¸ªæœ€åŸºç¡€çš„æ–‡ä»¶æ“ä½œå·¥å…·ï¼š<code>readFileTool</code> ç”¨äºè¯»å–æ–‡ä»¶å†…å®¹ï¼Œ<code>writeFileTool</code> ç”¨äºå†™å…¥æ–‡ä»¶ï¼Œä¸¤è€…éƒ½å®Œæ•´æè¿°äº†å·¥å…·åç§°ã€ç”¨é€”ã€å‚æ•° Schema ä»¥åŠå®é™…æ‰§è¡Œé€»è¾‘ã€‚<code>createTool</code> åªæ˜¯ä¸€ä¸ªç”¨äºçº¦å®šå·¥å…·è¾“å‡ºç»“æ„çš„è¾…åŠ©å‡½æ•°ï¼Œæœ¬èº«å¹¶ä¸æ¶‰åŠæ ¸å¿ƒé€»è¾‘ï¼Œä¸»è¦ç”¨äºåœ¨é TS ç¯å¢ƒä¸‹åšåŸºç¡€çš„å‚æ•°æ ¡éªŒã€‚</p>
<p>è¿™é‡Œä½¿ç”¨ <code>zod</code> ä½œä¸ºå‚æ•°æ ¡éªŒå·¥å…·ï¼Œå®ƒå¯ä»¥åœ¨ JS / TS ç¯å¢ƒä¸­ç»Ÿä¸€ä½¿ç”¨ï¼Œé€šè¿‡å®šä¹‰ schema å¹¶åœ¨è¿è¡Œæ—¶æ‰§è¡Œ <code>parse</code> æ ¡éªŒï¼Œæœ‰æ•ˆç¼“è§£æ¨¡å‹å‚æ•°å¹»è§‰é—®é¢˜ï¼›åŒæ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ schema ç”Ÿæˆæ ‡å‡†çš„ JSON Schemaï¼Œä½œä¸ºå·¥å…·å‚æ•°è¯´æ˜æä¾›ç»™æ¨¡å‹ï¼Œä»è€Œå‡å°‘æ‰‹å†™å‚æ•°æè¿°çš„æˆæœ¬ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">"fs/promises"</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">"path"</span>;
<span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">"zod"</span>;
<span class="hljs-keyword">import</span> { createTool } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types.js"</span>;

<span class="hljs-keyword">const</span> readFileSchema = z.<span class="hljs-title function_">object</span>({ <span class="hljs-attr">file</span>: z.<span class="hljs-title function_">string</span>() });
<span class="hljs-keyword">const</span> writeFileSchema = z.<span class="hljs-title function_">object</span>({ <span class="hljs-attr">file</span>: z.<span class="hljs-title function_">string</span>(), <span class="hljs-attr">content</span>: z.<span class="hljs-title function_">string</span>() });

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> readFileTool = <span class="hljs-title function_">createTool</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"read_file"</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">"Read a UTF-8 text file from workspace"</span>,
  <span class="hljs-attr">schema</span>: readFileSchema,
  <span class="hljs-attr">handler</span>: <span class="hljs-keyword">async</span> ({ file }) =&gt; {
    <span class="hljs-keyword">const</span> abs = path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), file);
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">readFile</span>(abs, <span class="hljs-string">"utf-8"</span>);
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">ok</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">content</span>: data };
  },
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> writeFileTool = <span class="hljs-title function_">createTool</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"write_file"</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">"Write a UTF-8 text file to workspace (overwrite)"</span>,
  <span class="hljs-attr">schema</span>: writeFileSchema,
  <span class="hljs-attr">handler</span>: <span class="hljs-keyword">async</span> ({ file, content }) =&gt; {
    <span class="hljs-keyword">const</span> abs = path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), file);
    <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">mkdir</span>(path.<span class="hljs-title function_">dirname</span>(abs), { <span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span> });
    <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">writeFile</span>(abs, content, <span class="hljs-string">"utf-8"</span>);
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">ok</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">`wrote <span class="hljs-subst">${file}</span>`</span> };
  },
});
</code></pre>
<h3 data-id="heading-8">å®é™…æ•ˆæœ</h3>
<p>åŸºäºä¸Šè¿° ReAct å®ç°ï¼Œæˆ‘å°è¯•è®©æ¨¡å‹åœ¨æœ¬åœ°ç¯å¢ƒä¸­å®Œæˆå¤šä¸ªå°æ¸¸æˆçš„ç”Ÿæˆä¸è¿­ä»£ï¼ŒåŒ…æ‹¬ï¼š<code>2048</code>ã€<code>é£æœºå¤§æˆ˜</code>ã€<code>è´ªåƒè›‡</code>ã€<code>äº”å­æ£‹</code>ã€‚ä»ç»“æœæ¥çœ‹ï¼Œæ•´ä½“å®Œæˆåº¦å’Œå¯ç©æ€§éƒ½æ˜æ˜¾ä¼˜äºæˆ‘<a href="https://link.juejin.cn?target=alexpang.cn%2Fleafer-games%2F" target="_blank" title="alexpang.cn/leafer-games/" ref="nofollow noopener noreferrer">æ—©æœŸçº¯æ‰‹å†™çš„ä¸€äº› demo</a>ã€‚å½“ç„¶ï¼Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼š<strong>ReAct å¹¶ä¸ä¼šå‡­ç©ºæå‡æ¨¡å‹èƒ½åŠ›ï¼Œå®ƒæ›´å¤šæ˜¯ä¸€ç§èƒ½åŠ›æ”¾å¤§å™¨ã€‚</strong></p>
<p>æœ€ç»ˆæ•ˆæœåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä»ç„¶ä¾èµ–äºåº•å±‚æ¨¡å‹æœ¬èº«çš„ä»£ç ç”Ÿæˆã€è§„åˆ’ä¸ç†è§£èƒ½åŠ›ï¼Œè€Œ ReAct è´Ÿè´£çš„ï¼Œæ˜¯ä¸ºè¿™äº›èƒ½åŠ›æä¾›ä¸€ä¸ªç¨³å®šçš„æ‰§è¡Œæ¡†æ¶ã€‚</p>
<h4 data-id="heading-9">2048</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af622ebf37304576a7bb9ca20821ac56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5rSL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767053244&amp;x-signature=KANcNJ1zxfeDyYRbdHmQcDFPWK8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">é£æœºå¤§æˆ˜</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7136ce6e72fc48b9881d0e63e0bbcbe0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5rSL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767053244&amp;x-signature=QC%2FvP0NguOuKg5HhWX8DV2OyY14%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-11">è´ªåƒè›‡</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/969ede2823b844219528d2112ed217b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5rSL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767053244&amp;x-signature=w6La6lPHlBabkIcuAYIcm%2FeAoi4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-12">äº”å­æ£‹</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba52da741cba462a9cc56c06a994bc83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5rSL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767053244&amp;x-signature=CPRLifd3j0ktRO%2BX7LZ7z9ITd0U%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">ç»“è¯­</h2>
<p>ReAct å¹¶ä¸æ˜¯æœ€å¤æ‚ã€ä¹Ÿä¸æ˜¯æœ€â€œæ™ºèƒ½â€çš„ Agent æ¨¡å¼ï¼Œä½†å®ƒç»“æ„æ¸…æ™°ã€å®ç°æˆæœ¬ä½ã€å·¥ç¨‹å¯æ§æ€§å¼ºï¼Œæ˜¯ç†è§£å’Œå®è·µ Agent ç³»ç»Ÿéå¸¸åˆé€‚çš„èµ·ç‚¹ã€‚</p>
<p>åœ¨åç»­æ›´å¤æ‚çš„åœºæ™¯ä¸­ï¼Œå¾€å¾€ä¼šåœ¨ ReAct ä¹‹ä¸Šå åŠ ï¼šè§„åˆ’ï¼ˆPlan &amp; Executeï¼‰ã€åæ€ï¼ˆReflectionï¼‰ã€è®°å¿†ä¸é•¿æœŸçŠ¶æ€ï¼Œä½†æ— è®ºå¦‚ä½•ï¼ŒReAct æ‰€ç¡®ç«‹çš„ <strong>æ€è€ƒâ€”è¡ŒåŠ¨â€”åé¦ˆé—­ç¯</strong>ï¼Œä»ç„¶æ˜¯å¤šæ•° Agent ç³»ç»Ÿç»•ä¸å¼€çš„åŸºç¡€ç»“æ„ã€‚</p>
<p>åœ¨ä¸‹ä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬å°†å±•å¼€å¯¹ <strong>P&amp;Eï¼ˆPlan and Executeï¼‰æ¨¡å¼</strong> çš„è¯¦ç»†è§£æï¼Œé‡ç‚¹ä»‹ç»å…¶è®¾è®¡ç†å¿µã€æ‰§è¡Œæµç¨‹åŠå…·ä½“å®ç°æ–¹å¼ã€‚</p>
<blockquote>
<p>æˆ‘å·²å°†ç›¸å…³ä»£ç å¼€æºåˆ° GitHubï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ä¸‹è½½åˆ°æœ¬åœ°åæ‰§è¡Œä¸€ä¸‹ç©ç©ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAlessandro-Pang%2Fagent-desgin-pattern-demo" target="_blank" title="https://github.com/Alessandro-Pang/agent-desgin-pattern-demo" ref="nofollow noopener noreferrer">github.com/Alessandro-â€¦</a></p>
</blockquote>
<h2 data-id="heading-14">ç›¸å…³èµ„æ–™</h2>
<ul>
<li><strong>GitHub ä»“åº“</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAlessandro-Pang%2Fagent-desgin-pattern-demo" target="_blank" title="https://github.com/Alessandro-Pang/agent-desgin-pattern-demo" ref="nofollow noopener noreferrer">github.com/Alessandro-â€¦</a></li>
<li><strong>AI Agent ä»‹ç»:</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fshort.pangcy.cn%2Fu%2F139a9efccce1fce2" target="_blank" title="https://short.pangcy.cn/u/139a9efccce1fce2" ref="nofollow noopener noreferrer">short.pangcy.cn/u/139a9efccâ€¦</a></li>
<li><strong>ReAct æ¨¡å¼</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bohrium.com%2Fpaper%2Fread%3FlibraryId%3D8446066" target="_blank" title="https://www.bohrium.com/paper/read?libraryId=8446066" ref="nofollow noopener noreferrer">www.bohrium.com/paper/read?â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š7 ä¸ªè®©ä½ çš„åº”ç”¨æé€Ÿ 50%+ çš„ V8 å¼•æ“æŠ€å·§]]></title>    <link>https://juejin.cn/post/7586570254860730408</link>    <guid>https://juejin.cn/post/7586570254860730408</guid>    <pubDate>2025-12-23T00:16:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586570254860730408" data-draft-id="7586531677720494115" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š7 ä¸ªè®©ä½ çš„åº”ç”¨æé€Ÿ 50%+ çš„ V8 å¼•æ“æŠ€å·§"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-23T00:16:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š7 ä¸ªè®©ä½ çš„åº”ç”¨æé€Ÿ 50%+ çš„ V8 å¼•æ“æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T00:16:40.000Z" title="Tue Dec 23 2025 00:16:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>JavaScript æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š7 ä¸ªè®©ä½ çš„åº”ç”¨æé€Ÿ 50%+ çš„ V8 å¼•æ“æŠ€å·§</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼ŒJavaScript çš„æ€§èƒ½ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒå’Œä¸šåŠ¡æŒ‡æ ‡ã€‚éšç€åº”ç”¨å¤æ‚åº¦çš„æå‡ï¼Œæ€§èƒ½ç“¶é¢ˆå¾€å¾€éšè—åœ¨ä»£ç çš„åº•å±‚ç»†èŠ‚ä¸­ã€‚V8 å¼•æ“ä½œä¸º Chrome å’Œ Node.js çš„æ ¸å¿ƒ JavaScript æ‰§è¡Œå¼•æ“ï¼Œå…¶å†…éƒ¨ä¼˜åŒ–æœºåˆ¶ä¸ºå¼€å‘è€…æä¾›äº†å·¨å¤§çš„æ€§èƒ½æ½œåŠ›ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æ V8 çš„å·¥ä½œåŸç†ï¼Œæ­ç¤º 7 ä¸ªç»è¿‡å®æˆ˜éªŒè¯çš„ä¼˜åŒ–æŠ€å·§ï¼Œå¸®åŠ©ä½ å°†åº”ç”¨æ€§èƒ½æå‡è‡³å°‘ 50%ã€‚</p>
<h2 data-id="heading-2">V8 å¼•æ“åŸºç¡€æ¶æ„</h2>
<p>åœ¨æ·±å…¥ä¼˜åŒ–æŠ€å·§å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ V8 çš„æ ¸å¿ƒå·¥ä½œæµç¨‹ï¼š</p>
<ol>
<li><strong>è§£æå™¨ï¼ˆParserï¼‰</strong>ï¼šå°† JS ä»£ç è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰</li>
<li><strong>è§£é‡Šå™¨ï¼ˆIgnitionï¼‰</strong>ï¼šç”Ÿæˆå­—èŠ‚ç å¹¶æ‰§è¡Œ</li>
<li><strong>ç¼–è¯‘å™¨ï¼ˆTurboFanï¼‰</strong>ï¼šå°†çƒ­ç‚¹ä»£ç ç¼–è¯‘ä¸ºä¼˜åŒ–åçš„æœºå™¨ç </li>
<li><strong>åƒåœ¾å›æ”¶ï¼ˆOrinocoï¼‰</strong>ï¼šç®¡ç†å†…å­˜åˆ†é…ä¸å›æ”¶</li>
</ol>
<p>è¿™ç§åˆ†å±‚æ¶æ„ä½¿å¾— V8 èƒ½å¤Ÿå¹³è¡¡å¯åŠ¨é€Ÿåº¦å’Œæ‰§è¡Œæ•ˆç‡ï¼ŒåŒæ—¶ä¹Ÿä¸ºæˆ‘ä»¬çš„ä¼˜åŒ–æä¾›äº†æ˜ç¡®çš„æ–¹å‘ã€‚</p>
<hr/>
<h2 data-id="heading-3">Part I: JavaScript Object Optimization</h2>
<h3 data-id="heading-4">Tip #1: Object Shape Consistency (éšè—ç±»ä¼˜åŒ–)</h3>
<p>V8ä½¿ç”¨"éšè—ç±»"ï¼ˆHidden Classï¼‰æœºåˆ¶æ¥åŠ é€Ÿå¯¹è±¡å±æ€§è®¿é—®ã€‚è¿åè¿™ä¸€æœºåˆ¶ä¼šå¯¼è‡´ä¸¥é‡çš„æ€§èƒ½ä¸‹é™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ Bad: Inconsistent property order</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> user = {};
    user.<span class="hljs-property">name</span> = <span class="hljs-string">'John'</span>;
    user.<span class="hljs-property">age</span> = <span class="hljs-number">30</span>;
    <span class="hljs-keyword">return</span> user;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createAdmin</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> admin = {};
    admin.<span class="hljs-property">age</span> = <span class="hljs-number">40</span>;   <span class="hljs-comment">// Different property order!</span>
    admin.<span class="hljs-property">name</span> = <span class="hljs-string">'Jane'</span>;
    <span class="hljs-keyword">return</span> admin;
}

<span class="hljs-comment">// âœ… Good: Consistent property order</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createUserOpt</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">age</span>: <span class="hljs-literal">null</span> };
    user.<span class="hljs-property">name</span> = <span class="hljs-string">'John'</span>;
    user.<span class="hljs-property">age</span> = <span class="hljs-number">30</span>;
    <span class="hljs-keyword">return</span> user;
}
</code></pre>
<p>Benchmarkæµ‹è¯•è¡¨æ˜ï¼šä¸€è‡´çš„å¯¹è±¡ç»“æ„å¯ä½¿å±æ€§è®¿é—®é€Ÿåº¦æå‡3-5å€ã€‚</p>
<h3 data-id="heading-5">Tip #2: Preallocate Arrays for Fixed Collections</h3>
<p>åŠ¨æ€æ‰©å®¹æ•°ç»„ä¼šè§¦å‘V8çš„å­˜å‚¨æ ¼å¼è½¬æ¢ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ Bad: Dynamic growth triggers transition to dictionary mode</span>
<span class="hljs-keyword">const</span> arr = [];
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100000</span>; i++) {
    arr[i] = i; 
}

<span class="hljs-comment">// âœ… Good: Preallocated array maintains fast elements</span>
<span class="hljs-keyword">const</span> arrOpt = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">100000</span>);
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100000</span>; i++) {
    arrOpt[i] = i;
}
</code></pre>
<p>å®æµ‹æ˜¾ç¤ºé¢„åˆ†é…å¤§æ•°ç»„å¯å‡å°‘70%çš„å†…å­˜æ“ä½œè€—æ—¶ã€‚</p>
<hr/>
<h2 data-id="heading-6">Part II: Function Optimization Techniques</h2>
<h3 data-id="heading-7">Tip #3: Avoid Polymorphic Functions</h3>
<p>TurboFanå¯¹å•æ€å‡½æ•°æœ‰ç‰¹æ®Šä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ Bad: Polymorphic function (multiple argument types)</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);       <span class="hljs-comment">// Number addition</span>
<span class="hljs-title function_">add</span>(<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>);   <span class="hljs-comment">// String concatenation </span>

<span class="hljs-comment">// âœ… Good: Monomorphic version</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addNumbers</span>(<span class="hljs-params">a, b</span>) { <span class="hljs-comment">/* numbers only */</span> }
<span class="hljs-keyword">function</span> <span class="hljs-title function_">concatStrings</span>(<span class="hljs-params">a, b</span>) { <span class="hljs-comment">/* strings only */</span> }
</code></pre>
<p>å•ä¸€ç±»å‹å‡½æ•°æ¯”å¤šæ€å‡½æ•°å¿«è¾¾10å€ä»¥ä¸Šã€‚</p>
<h3 data-id="heading-8">Tip #4: Use Inline Caching-Friendly Patterns</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ Bad breaks IC chains due to dynamic lookup</span>
<span class="hljs-keyword">const</span> handlers1 = {};
handlers1[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &gt;<span class="hljs-number">0.5</span> ? <span class="hljs-string">'a'</span>:<span class="hljs-string">'b'</span>] = <span class="hljs-function">() =&gt;</span> {...};

<span class="hljs-comment">// âœ… Good maintains stable IC slots</span>
<span class="hljs-keyword">const</span> handlers2 = { 
   <span class="hljs-title function_">a</span>(<span class="hljs-params"/>){...}, 
   <span class="hljs-title function_">b</span>(<span class="hljs-params"/>){...} 
};
</code></pre>
<p>ç¨³å®šçš„å±æ€§è®¿é—®è·¯å¾„å¯ä½¿æ–¹æ³•è°ƒç”¨æ—¶é—´ä»5nsé™è‡³1nsã€‚</p>
<hr/>
<h2 data-id="heading-9">Part III: Memory &amp; Execution Optimizations</h2>
<h3 data-id="heading-10">Tip #5: Avoid Arguments Leakage in Hot Functions</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ Bad leaks arguments object preventing optimization</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> total=<span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>;i++){
        total+=<span class="hljs-variable language_">arguments</span>[i];
    }
}

<span class="hljs-comment">// âœ… Good rest parameters are optimizable</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sumOpt</span>(<span class="hljs-params">...numbers</span>) {
    <span class="hljs-keyword">return</span> numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">s,n</span>)=&gt;</span>s+n,<span class="hljs-number">0</span>);
}
</code></pre>
<p>ES6å‚æ•°è¯­æ³•å¯ä½¿è®¡ç®—å¯†é›†å‹å‡½æ•°æé€Ÿ40%ã€‚</p>
<h3 data-id="heading-11">Tip #6: Use TypedArrays for Binary Data Processing</h3>
<p>ä¼ ç»Ÿæ•°ç»„å¤„ç†äºŒè¿›åˆ¶æ•°æ®æ•ˆç‡ä½ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ Slow (~120ms per MB processed)</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processBuffer</span>(<span class="hljs-params">buffer</span>) {
   <span class="hljs-keyword">const</span> data=[];
   <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;buffer.<span class="hljs-property">length</span>;i++){
       data.<span class="hljs-title function_">push</span>(buffer[i]*<span class="hljs-number">2</span>);
   }
}

<span class="hljs-comment">// âœ… Fast (~15ms per MB)</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processBufferOpt</span>(<span class="hljs-params">buffer</span>) {
   <span class="hljs-keyword">const</span> view=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer);
   <span class="hljs-keyword">const</span> result=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(view.<span class="hljs-property">length</span>);
   <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;view.<span class="hljs-property">length</span>;i++){
       result[i]=view[i]*<span class="hljs-number">2</span>;
   }
}
</code></pre>
<p>TypedArraysåœ¨å¤„ç†äºŒè¿›åˆ¶æ•°æ®æ—¶æ¯”æ™®é€šæ•°ç»„å¿«çº¦800%ã€‚</p>
<hr/>
<h2 data-id="heading-12">Part IV Advanced Optimization Patterns</h2>
<h3 data-id="heading-13">Tip #7 Leverage Warm-Up Phase Strategically</h3>
<p>V8éœ€è¦"çƒ­èº«"æ‰èƒ½è¾¾åˆ°æœ€ä½³æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/* Benchmarking best practice */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">benchmark</span>(<span class="hljs-params">fn</span>) {
   <span class="hljs-comment">// Warm-up phase (run multiple times before timing)</span>
   <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">100</span>;i++) <span class="hljs-title function_">fn</span>(); 
   
   <span class="hljs-comment">// Actual measurement starts here...</span>
}
</code></pre>
<p>ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ©ç”¨é¢„çƒ­ï¼š</p>
<ul>
<li>SSRæ—¶æå‰æ‰§è¡Œå…³é”®è·¯å¾„å‡½æ•°</li>
<li>Service Workerå®‰è£…é˜¶æ®µåˆå§‹åŒ–æ ¸å¿ƒé€»è¾‘</li>
<li>WebAssemblyæ¨¡å—é¢„ç¼–è¯‘</li>
</ul>
<hr/>
<h2 data-id="heading-14">Conclusion &amp; Further Reading</h2>
<p>æœ¬æ–‡æ­ç¤ºçš„7ä¸ªæŠ€å·§è¦†ç›–äº†ä»å¯¹è±¡è®¾è®¡åˆ°å†…å­˜ç®¡ç†çš„å¤šä¸ªå±‚é¢ã€‚è¦å®ç°æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼Œå…³é”®åœ¨äºç†è§£V8çš„è¡Œä¸ºæ¨¡å¼å¹¶æ®æ­¤ç¼–å†™å¼•æ“å‹å¥½çš„ä»£ç ã€‚</p>
<p>è¦è¿›ä¸€æ­¥æ·±å…¥V8ä¼˜åŒ–æŠ€æœ¯å»ºè®®ç ”ç©¶ï¼š</p>
<ol>
<li>TurboFan JITç¼–è¯‘å™¨çš„ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰</li>
<li>Orinocoåƒåœ¾å›æ”¶å™¨çš„åˆ†ä»£ç­–ç•¥</li>
<li>Ignitionè§£é‡Šå™¨çš„å­—èŠ‚ç è®¾è®¡</li>
</ol>
<p>è®°ä½ï¼šæ‰€æœ‰ä¼˜åŒ–éƒ½åº”åŸºäºå®é™…profileæ•°æ®è¿›è¡Œï¼Œé¿å…è¿‡æ—©æˆ–è¿‡åº¦ä¼˜åŒ–å½±å“ä»£ç å¯ç»´æŠ¤æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æ€§èƒ½ç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯æ€§èƒ½æ£€æµ‹SDK]]></title>    <link>https://juejin.cn/post/7586482860104613915</link>    <guid>https://juejin.cn/post/7586482860104613915</guid>    <pubDate>2025-12-23T00:17:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586482860104613915" data-draft-id="7585555806668226594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ€§èƒ½ç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯æ€§èƒ½æ£€æµ‹SDK"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ç›‘æ§"/> <meta itemprop="datePublished" content="2025-12-23T00:17:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¸€æ ·çš„å°‘å¹´_"/> <meta itemprop="url" content="https://juejin.cn/user/3035079961218551"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ€§èƒ½ç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯æ€§èƒ½æ£€æµ‹SDK
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3035079961218551/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¸€æ ·çš„å°‘å¹´_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T00:17:47.000Z" title="Tue Dec 23 2025 00:17:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»30åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,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");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,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");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><blockquote>
<p>ä½ æ˜¯å¦ä¸€ç›´å¯¹å‰ç«¯<strong>æ€§èƒ½ç›‘æ§</strong>ç³»ç»Ÿçš„åº•å±‚åŸç†å……æ»¡å¥½å¥‡ï¼Ÿ</p>
<p>æƒ³çŸ¥é“é‚£äº› FCPã€LCPã€FID æŒ‡æ ‡æ˜¯å¦‚ä½•è¢«<strong>ç²¾å‡†æ•è·</strong>çš„ï¼Ÿ</p>
<p>é¡µé¢å¡é¡¿ã€èµ„æºåŠ è½½ç¼“æ…¢ã€API è¯·æ±‚è€—æ—¶è¿‡é•¿ï¼Œè¿™äº›éšå½¢æ€æ‰‹æ˜¯å¦‚ä½•è¢« SDK <strong>æªå‡ºæ¥</strong>çš„ï¼Ÿ</p>
<p>ä¸å…¶åªåšå·¥å…·çš„ä½¿ç”¨è€…ï¼Œä¸å¦‚æ·±å…¥åº•å±‚ï¼Œæ¢å¯»èƒŒåçš„å®ç°æœºåˆ¶ã€‚</p>
<p>æœ¬æ–‡å°†ä»åŸç†è§’åº¦åˆ‡å…¥ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ è®¾è®¡å¹¶å®ç°ä¸€ä¸ªè½»é‡çº§ã€åŠŸèƒ½å®Œå¤‡çš„<strong>æ€§èƒ½ç›‘æ§ SDK</strong>ã€‚</p>
</blockquote>
<h2 data-id="heading-0">è¯»å®Œè¿™ç¯‡ï¼Œä½ å°†æ”¶è·ä»€ä¹ˆï¼Ÿ</h2>
<p>é€šè¿‡æ‰‹å†™è¿™ä¸ª SDKï¼Œä½ ä¸ä»…èƒ½è·å¾—ä¸€ä¸ªå¯ç”¨çš„æ€§èƒ½ç›‘æ§å·¥å…·ï¼Œæ›´èƒ½æ·±å…¥æŒæ¡ä»¥ä¸‹æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>æµè§ˆå™¨æ€§èƒ½åº•å±‚ API</strong>ï¼šåˆ«å…‰å¬è¿‡æ²¡ç”¨è¿‡ï¼å¸¦ä½ å½»åº•ææ‡‚ <code>PerformanceObserver</code> åˆ°åº•æ€ä¹ˆç”¨ï¼ŒæŠŠ <code>Resource Timing</code> ã€ <code>Event Timing</code> è¿™äº›åŸç”Ÿ API ç©å‡ºèŠ±æ¥ï¼Œä¸ç”¨é‡è½®å­ä¹Ÿèƒ½ç²¾å‡†æŠ“æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>æŒ‡æ ‡ä½“ç³»å…¨è¦†ç›–</strong>ï¼šç”¨æˆ·è§‰å¾—å¡ï¼Œåˆ°åº•å¡åœ¨å“ªï¼Ÿæ˜¯ä»ç™½å±åˆ°å‡ºå†…å®¹çš„ FCP/LCPï¼Ÿè¿˜æ˜¯å›¾ç‰‡åŠ è½½å¤ªæ…¢ï¼Ÿæˆ–è€…æ˜¯ç‚¹å‡»æŒ‰é’®æ²¡ååº”ï¼Ÿä¸ç®¡æ˜¯ç½‘ç»œè¯·æ±‚æ…¢ï¼Œè¿˜æ˜¯ JS ä»»åŠ¡å¤ªé•¿ï¼Œå’±ä»¬è¿™æ¬¡ä¸€æ¬¡æ€§å…¨æå®šï¼Œç»™ä½“éªŒåšä¸ªä½“æ£€ã€‚</p>
</li>
<li>
<p><strong>SDK æ¶æ„è®¾è®¡å®æˆ˜</strong>ï¼šSDK æ€ä¹ˆå†™æ‰ä¸ä¹±ï¼Ÿé‡‡é›†å½’é‡‡é›†ï¼Œä¸ŠæŠ¥å½’ä¸ŠæŠ¥ï¼Œé…ç½®è¿˜è¦çµæ´»ã€‚å¸¦ä½ è®¾è®¡ä¸€ä¸ªæ’ä»¶åŒ–çš„æ¶æ„ï¼Œæƒ³åŠ åŠŸèƒ½éšæ—¶åŠ ï¼Œä»£ç å¹²å‡€åˆå¥½ç»´æŠ¤ã€‚</p>
</li>
<li>
<p><strong>è½»é‡çº§é»‘ç§‘æŠ€å°è£…</strong>ï¼šåˆ©ç”¨ç®€å•çš„ JS<code>é—­åŒ…</code>ä¸ <code>Proxy</code>ï¼Œå®ç°åŒæ­¥/å¼‚æ­¥å‡½æ•°çš„ç²¾å‡†è€—æ—¶æµ‹é‡ã€‚</p>
</li>
</ol>
<h2 data-id="heading-1">æŒ‡æ ‡æ‰«ç›²ï¼šåˆ«è¢«æŒ‡æ ‡ç¼©å†™å“è·‘äº†</h2>
<p>åœ¨å¼€å§‹æ’¸ä»£ç ä¹‹å‰ï¼Œå’±ä»¬å…ˆçµé­‚æ‹·é—®ä¸€ä¸‹ï¼šåˆ°åº•å•¥å«â€œæ€§èƒ½å¥½â€ï¼Ÿ</p>
<p>è™½è¯´ Google æäº†ä¸€å¥— Core Web Vitals æ ‡å‡†ï¼Œweb-vitals åº“å¯ä»¥ç›´æ¥ç”¨ï¼Œä½†è¿™æ¬¡å’±ä»¬ åä¸ ã€‚ä¸ºå•¥è¦è‡ªè®¨è‹¦åƒæ‰‹å†™ SDKï¼Ÿ</p>
<ol>
<li><strong>åŸç”ŸæŒæ§</strong>ï¼šæˆ‘ä»¬è¦åˆ©ç”¨æµè§ˆå™¨<strong>åŸç”Ÿ API</strong>ï¼Œäº²æ‰‹æŠŠ<strong>å¿«ä¸å¿«ã€å¡ä¸å¡ã€ç¨³ä¸ç¨³</strong>è¿™ä¸‰ä¸ªç»´åº¦çš„â€œçœŸå‡¶â€æŠ“å‡ºæ¥ã€‚</li>
<li><strong>å…¼å®¹æ€§é»‘æ´</strong>ï¼š Web Vitals çš„å¾ˆå¤šé«˜çº§æŒ‡æ ‡ï¼ˆå¦‚ LCPã€CLSï¼‰åœ¨ Firefox æˆ– Safari çš„æ—§ç‰ˆæœ¬ä¸Šå¹¶ä¸å®Œå…¨æ”¯æŒã€‚æ‰‹å†™ SDK è®©æˆ‘ä»¬èƒ½çµæ´»å¤„ç†è¿™äº›<strong>å…¼å®¹æ€§å·®å¼‚</strong>ï¼Œåšåˆ°â€œèƒ½ç›‘æ§çš„ç›‘æ§ï¼Œä¸èƒ½ç›‘æ§çš„é™é»˜â€ï¼Œè€Œä¸æ˜¯ç›´æ¥æŠ¥é”™ã€‚</li>
</ol>
<h3 data-id="heading-2">1. Loading (åŠ è½½)ï¼šåˆ«è®©æˆ‘ç­‰å¤ªä¹…ï¼</h3>
<p>ç”¨æˆ·æœ€æ€•é¢å¯¹ä¸€ç‰‡ç™½å±ã€‚è¿™ä¸ªé˜¶æ®µæˆ‘ä»¬å…³æ³¨ä¸‰ä¸ªç¬é—´ï¼š</p>
<ul>
<li><strong>FP (First Paint) â€”â€” â€œå±å¹•äº®äº†â€</strong>
<ul>
<li><strong>å•¥æ„æ€</strong>ï¼šæµè§ˆå™¨å¼€å§‹æ¸²æŸ“ä»»ä½•ä¸œè¥¿çš„æ—¶åˆ»ï¼ˆå“ªæ€•åªæ˜¯èƒŒæ™¯è‰²ï¼‰ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šä½ æ‰“å¼€ä¸€ä¸ªé¡µé¢ï¼Œå±å¹•ä»çº¯ç™½å˜æˆæµ…ç°è‰²ï¼Œè™½ç„¶å•¥å†…å®¹éƒ½æ²¡æœ‰ï¼Œä½†ä½ çŸ¥é“â€œå®ƒæ´»ç€â€ã€‚</li>
</ul>
</li>
<li><strong>FCP (First Contentful Paint) â€”â€” â€œçœ‹åˆ°ä¸œè¥¿äº†â€</strong>
<ul>
<li><strong>å•¥æ„æ€</strong>ï¼šæµè§ˆå™¨æ¸²æŸ“å‡ºç¬¬ä¸€ä¸ªå†…å®¹ï¼ˆæ–‡å­—ã€å›¾ç‰‡ã€Logoï¼‰çš„æ—¶åˆ»ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šé¡µé¢ä¸Šå‡ºç°äº†ä¸€ä¸ªâ€œLoading...â€çš„æ–‡å­—æˆ–è€…å¯¼èˆªæ çš„ Logoã€‚è¿™æ—¶å€™ä½ ä¼šç¨å¾®å®‰å¿ƒä¸€ç‚¹ï¼Œæ„¿æ„å†ç­‰ä¸¤ç§’ã€‚</li>
</ul>
</li>
<li><strong>LCP (Largest Contentful Paint) â€”â€” â€œä¸»è§’ç™»åœºäº†â€</strong>
<ul>
<li><strong>å•¥æ„æ€</strong>ï¼šè§†å£å†…å¯è§çš„æœ€å¤§å›¾ç‰‡æˆ–æ–‡æœ¬å—æ¸²æŸ“å®Œæˆçš„æ—¶åˆ»ã€‚è¿™æ˜¯ Google æœ€çœ‹é‡çš„åŠ è½½æŒ‡æ ‡ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šä½ æ‰“å¼€æ·˜å®è¯¦æƒ…é¡µï¼Œæ ‡é¢˜å’Œä»·æ ¼éƒ½å‡ºæ¥äº†ï¼Œä½†é‚£å¼ æœ€å¤§çš„å•†å“ä¸»å›¾è¿‡äº† 5 ç§’æ‰åˆ·å‡ºæ¥ã€‚è¿™ 5 ç§’å†…ä½ æ ¹æœ¬ä¸æƒ³ä¹°ï¼Œå› ä¸ºä½ æ²¡çœ‹åˆ°è´§ã€‚LCP å°±æ˜¯è¡¡é‡è¿™ä¸ªâ€œä¸»å›¾â€å¤šä¹…å‡ºæ¥çš„ã€‚</li>
<li><strong>åŠæ ¼çº¿</strong>ï¼š2.5 ç§’å†…ç®—ä¼˜ç§€ï¼Œè¶…è¿‡ 4 ç§’å°±æ˜¯â€œæ…¢å¾—ç¦»è°±â€ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">2. Interaction (äº¤äº’)ï¼šåˆ«å¡å¾—åƒ PPTï¼</h3>
<p>ä¸œè¥¿åŠ è½½å‡ºæ¥äº†ï¼Œç”¨æˆ·å¼€å§‹ç‚¹äº†ï¼Œè¿™æ—¶å€™æœ€æ€•å¡é¡¿ã€‚</p>
<ul>
<li>
<p><strong>FID (First Input Delay) â€”â€” â€œç¬¬ä¸€ä¸‹æ²¡ååº”ï¼Ÿâ€</strong></p>
<ul>
<li><strong>å•¥æ„æ€</strong>ï¼šç”¨æˆ·ç¬¬ä¸€æ¬¡ä¸é¡µé¢äº¤äº’ï¼ˆç‚¹å‡»æŒ‰é’®ã€é“¾æ¥ï¼‰åˆ°æµè§ˆå™¨çœŸæ­£å¼€å§‹å¤„ç†è¿™ä¸ªäº‹ä»¶çš„æ—¶é—´å·®ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šä½ çœ‹åˆ°é¡µé¢åŠ è½½å®Œäº†ï¼Œå…´å¥‹åœ°å»ç‚¹â€œç™»å½•â€æŒ‰é’®ï¼Œç»“æœç‚¹äº†æ²¡ååº”ï¼Œè¿‡äº† 1 ç§’é’ŸæŒ‰é’®æ‰å˜è‰²ã€‚è¿™ç§â€œæŒ‰ä¸‹å»æ²¡æ„Ÿè§‰â€çš„å»¶è¿Ÿï¼Œå°±æ˜¯ FIDã€‚</li>
</ul>
</li>
<li>
<p><strong>INP (Interaction to Next Paint) â€”â€” â€œè¶Šç”¨è¶Šå¡ï¼Ÿâ€</strong></p>
<ul>
<li><strong>å•¥æ„æ€</strong>ï¼šFID çš„å‡çº§ç‰ˆã€‚å®ƒä¸ä»…çœ‹ç¬¬ä¸€ä¸‹ï¼Œè¿˜çœ‹ä½ æµè§ˆå…¨ç¨‹ä¸­æ‰€æœ‰äº¤äº’çš„å»¶è¿Ÿï¼Œå–æœ€æ…¢çš„é‚£å‡ æ¬¡ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šä½ åœ¨å¡«å†™ä¸€ä¸ªé•¿è¡¨å•ï¼Œæ¯è¾“å…¥ä¸€ä¸ªå­—ï¼Œè¾“å…¥æ¡†éƒ½è¦å¡é¡¿ä¸€ä¸‹æ‰èƒ½æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™ç§æŒç»­çš„â€œç²˜æ»æ„Ÿâ€ï¼Œä¼šè®© INP åˆ†æ•°æš´è·Œã€‚</li>
</ul>
</li>
<li>
<p><strong>Long Task (é•¿ä»»åŠ¡) â€”â€” â€œè°åœ¨å µè·¯ï¼Ÿâ€</strong></p>
<ul>
<li>
<p><strong>å•¥æ„æ€</strong>ï¼šä»»ä½•æ‰§è¡Œæ—¶é—´è¶…è¿‡ 50ms çš„ JavaScript ä»»åŠ¡ã€‚</p>
</li>
<li>
<p><strong>åœºæ™¯</strong>ï¼šä¸»çº¿ç¨‹å°±åƒä¸€æ¡å•è¡Œé“ã€‚å¦‚æœå‰é¢æœ‰ä¸€è¾†å¤§å¡è½¦ï¼ˆå¤æ‚çš„ JS è®¡ç®—ï¼‰èµ°äº† 200msï¼Œåé¢çš„å°è½¿è½¦ï¼ˆç‚¹å‡»äº‹ä»¶å“åº”ï¼‰å°±åªèƒ½æ’é˜Ÿç­‰ç€ã€‚æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯æŠŠå¤§å¡è½¦æ‹†æˆ<strong>ä¸€æ”¯çµæ´»çš„å°è½¦é˜Ÿ</strong>ï¼Œæ¯è¾†è½¦ä¹‹é—´ç•™å‡ºç©ºéš™ï¼Œè®©ç´§æ€¥è½¦è¾†ï¼ˆç”¨æˆ·äº¤äº’ï¼‰èƒ½éšæ—¶æ’é˜Ÿé€šè¿‡ã€‚</p>
</li>
<li>
<p><strong>æ³¨</strong>ï¼šé•¿ä»»åŠ¡ä¸å…‰äº¤äº’æœŸä¼šå‡ºç°ï¼ŒåŠ è½½æ—¶ä¹Ÿå¸¸è§ï¼›å®ƒä¼šè®©ç™½å±æ›´ä¹…ã€æŠŠ <code>TBT</code>ï¼ˆæ€»é˜»å¡æ—¶é—´ï¼‰æ‹‰é«˜ã€‚æˆ‘ä»¬å½’åˆ°â€œäº¤äº’â€é‡Œè®²ï¼Œæ˜¯å› ä¸ºå®ƒæœ€ç›´æ¥æ‹–æ…¢çš„æ˜¯ç‚¹å‡»/è¾“å…¥çš„å“åº”ï¼ˆ<code>FID</code>ã€<code>INP</code>ï¼‰ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">3. Visual Stability (è§†è§‰ç¨³å®šæ€§)ï¼šåˆ«ä¹±åŠ¨ï¼</h3>
<p>è¿™å¯èƒ½æ˜¯æœ€è®©äººæŠ“ç‹‚çš„ä½“éªŒã€‚</p>
<ul>
<li><strong>CLS (Cumulative Layout Shift) â€”â€” â€œæ‰‹æ»‘ç‚¹é”™äº†ï¼â€</strong>
<ul>
<li><strong>å•¥æ„æ€</strong>ï¼šé¡µé¢å¸ƒå±€åœ¨åŠ è½½è¿‡ç¨‹ä¸­å‘ç”Ÿæ„å¤–ç§»åŠ¨çš„ç¨‹åº¦ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šä½ æ­£å‡†å¤‡ç‚¹â€œå–æ¶ˆè®¢å•â€ï¼Œçªç„¶é¡¶éƒ¨åŠ è½½å‡ºæ¥ä¸€å¼ å¹¿å‘Šå›¾ï¼ŒæŠŠæ•´ä¸ªé¡µé¢å¾€ä¸‹æŒ¤äº† 50 åƒç´ ï¼Œç»“æœä½ çš„æ‰‹æŒ‡æ­£å¥½ç‚¹åœ¨äº†â€œç«‹å³æ”¯ä»˜â€ä¸Šâ€¦â€¦è¿™ç§å¸ƒå±€çš„æ„å¤–ä½ç§»ï¼Œå°±å« CLSã€‚åˆ†æ•°è¶Šä½ï¼Œé¡µé¢è¶Šç¨³ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">ç³»ç»Ÿæ¶æ„ä¸åŠŸèƒ½è®¾è®¡</h2>
<p>ä¸ºäº†ä¿è¯ SDK çš„è½»é‡æ€§ä¸å¯æ‰©å±•æ€§ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†<strong>åˆ†å±‚æ¶æ„è®¾è®¡</strong>ã€‚æ•´ä¸ªç³»ç»Ÿç”± <strong>æ ¸å¿ƒé‡‡é›†å±‚</strong>ã€<strong>æ•°æ®å¤„ç†å±‚</strong>ã€<strong>æ•°æ®ä¸ŠæŠ¥å±‚</strong> å’Œ <strong>é…ç½®ä¸­å¿ƒ</strong> å››å¤§æ¨¡å—ç»„æˆï¼Œå¹¶é€šè¿‡ç»Ÿä¸€çš„ <code>PerformanceMonitor</code> ç±»è¿›è¡Œè°ƒåº¦ã€‚</p>
<p>*ç®€å•è¯´ï¼Œå°±æ˜¯æŠŠæ´»å„¿åˆ†å¾—æ˜æ˜ç™½ç™½ï¼š<strong>é‡‡é›†æ¨¡å—åªç®¡æŠ“æ•°æ®ï¼Œå¤„ç†æ¨¡å—åªç®¡å¤„ç†æ•°æ®ï¼Œä¸ŠæŠ¥åªç®¡å‘é€æ•°æ®åˆ°æœåŠ¡ç«¯ï¼Œé…ç½®åªç®¡é…ç½®*</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69fbf4592eaa42a48ec9e1167c09b8e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LiA5qC355qE5bCR5bm0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767054012&amp;x-signature=a7zXBXqMnkDvBmyB12waKb6JXag%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">1. æ ¸å¿ƒé‡‡é›†å±‚ (Collectors) â€”â€” ç”¨æˆ·ä½“éªŒä¸‰æ­¥èµ°</h3>
<p>è¿™æ˜¯ SDK çš„å¿ƒè„ã€‚å’±ä»¬ä¸æŒ‰æŠ€æœ¯åˆ†ç±»ï¼ŒæŒ‰<strong>ç”¨æˆ·å®é™…æ„Ÿå—</strong>æ¥åˆ†ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„æºç ç›®å½•å« <code>loading</code>ã€<code>interaction</code>ã€<code>network</code>ï¼‰ï¼š</p>
<ul>
<li>
<p><strong>Step 1: Loading (çœ‹å¾—è§å—ï¼Ÿ)</strong> â€”â€” <code>src/loading</code></p>
<ul>
<li><strong>æ ¸å¿ƒç›®æ ‡</strong>ï¼šç´§ç›¯ç™½å±æ—¶é—´ä¸å…³é”®å†…å®¹æ¸²æŸ“ã€‚</li>
<li><strong>å®ç°æ‰‹æ®µ</strong>ï¼šåˆ©ç”¨ <code>Paint Timing</code> ä¸ <code>Largest Contentful Paint</code> APIï¼Œæ•è· FPã€FCPã€LCP åŠé¡µé¢åŠ è½½å®Œæˆæ—¶æœºã€‚</li>
</ul>
</li>
<li>
<p><strong>Step 2: Interaction &amp; Visual Stability (å¥½ç”¨ä¸”ç¨³å—ï¼Ÿ)</strong> â€”â€” <code>src/interaction</code></p>
<ul>
<li><strong>æ ¸å¿ƒç›®æ ‡</strong>ï¼šåŒæ—¶ç›‘æ§ <strong>äº¤äº’å“åº”é€Ÿåº¦</strong> ä¸ <strong>é¡µé¢è§†è§‰ç¨³å®šæ€§</strong>ã€‚</li>
<li><strong>å®ç°æ‰‹æ®µ</strong>ï¼š
<ul>
<li><strong>äº¤äº’</strong>ï¼šé€šè¿‡ <code>Event Timing</code> ç›‘å¬ç‚¹å‡»/æ»šåŠ¨å»¶è¿Ÿï¼ˆFID/INPï¼‰ï¼Œå¹¶ç”¨ <code>Long Task</code> API æªå‡ºä¸»çº¿ç¨‹é˜»å¡å…ƒå‡¶ã€‚</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šç»“åˆ <code>Layout Shift</code> API è®¡ç®—å¸ƒå±€åç§»ï¼ˆCLSï¼‰ï¼Œé˜²æ­¢é¡µé¢â€œä¹±åŠ¨â€ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Step 3: Network (ä¸ºå•¥æ…¢ï¼Ÿ)</strong> â€”â€” <code>src/network</code></p>
<ul>
<li><strong>æ ¸å¿ƒç›®æ ‡</strong>ï¼šå®šä½èµ„æºåŠ è½½ä¸æ¥å£å“åº”çš„ç“¶é¢ˆã€‚</li>
<li><strong>å®ç°æ‰‹æ®µ</strong>ï¼šå¤ç”¨ <code>Resource Timing</code> æ¥å£ï¼Œæ·±åº¦è§£æé™æ€èµ„æºä¸ XHR/Fetch è¯·æ±‚çš„ DNSã€TCPã€TTFB ç­‰å…³é”®è€—æ—¶ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">2. æ•°æ®å¤„ç†å±‚ (Processor) â€”â€” æ•°æ®æ¸…æ´—å·¥</h3>
<ul>
<li><strong>æ´—æ•°æ®</strong>ï¼šæµè§ˆå™¨åŸç”Ÿçš„ API ç»™çš„æ•°æ®å¤ªæ‚å¤ªä¹±ï¼Œå’±ä»¬å¾—æŠŠå®ƒæ´—æˆå¹²å‡€ç»Ÿä¸€çš„ JSON æ ¼å¼ï¼Œæ–¹ä¾¿åç«¯å­˜ã€‚</li>
<li><strong>åŠ æ–™</strong>ï¼šå…‰çŸ¥é“å¡äº†æ²¡ç”¨ï¼Œè¿˜å¾—çŸ¥é“<strong>å“ªå„¿å¡äº†</strong>ã€‚æ¯”å¦‚ LCP æ…¢ï¼Œæˆ‘ä»¬ä¼šè‡ªåŠ¨æŠŠé‚£ä¸ªæ…¢å…ƒç´ çš„ DOM é€‰æ‹©å™¨åŠ ä¸Šï¼›é•¿ä»»åŠ¡å¡ï¼Œæˆ‘ä»¬ä¼šå°è¯•è§£æå‡ºæ˜¯å“ªä¸ªè„šæœ¬å¹²çš„ã€‚</li>
</ul>
<h3 data-id="heading-8">3. æ•°æ®ä¸ŠæŠ¥å±‚ (Reporter) â€”â€” å¿«é€’å‘˜</h3>
<ul>
<li><strong>ä½¿å‘½å¿…è¾¾</strong>ï¼šç”¨æˆ·éƒ½è¦å…³é¡µé¢äº†ï¼Œæ•°æ®è¿˜æ²¡å‘å‡ºå»ï¼Ÿè¿™æ—¶å€™å°±å¾—ç”¨ <code>Navigator.sendBeacon</code>ï¼Œå®ƒèƒ½ä¿è¯åœ¨é¡µé¢å¸è½½æ—¶ï¼Œæ•°æ®ä¹Ÿèƒ½ç¨³ç¨³åœ°å‘ç»™æœåŠ¡å™¨ã€‚</li>
<li><strong>çœæµæ¨¡å¼</strong>ï¼šå¹³æ—¶ä¸é‡è¦çš„æ—¥å¿—å…ˆæ”’ä¸€æ”’ï¼ˆæ‰¹é‡ä¸ŠæŠ¥ï¼‰ï¼Œå…³é”®çš„æŠ¥é”™ç«‹åˆ»å‘ï¼ˆå®æ—¶ä¸ŠæŠ¥ï¼‰ï¼Œç»™ç”¨æˆ·çš„æµé‡çœç‚¹é’±ã€‚</li>
</ul>
<h3 data-id="heading-9">4. é…ç½®ä¸­å¿ƒ (Configurator) â€”â€” é¥æ§å™¨</h3>
<ul>
<li><strong>éšå¿ƒæ‰€æ¬²</strong>ï¼šé€šè¿‡ <code>options</code> å‚æ•°æ§åˆ¶ã€‚å¼€å‘ç¯å¢ƒæƒ³çœ‹æ—¥å¿—ï¼Ÿå¼€ï¼ç”Ÿäº§ç¯å¢ƒåªæŠ¥é”™è¯¯ï¼Ÿå…³ï¼é‡‡æ ·ç‡è®¾å¤šå°‘ï¼Ÿä½ è¯´äº†ç®—ã€‚</li>
</ul>
<h2 data-id="heading-10"><strong>æ ¸å¿ƒä»£ç å®ç°</strong></h2>
<ol>
<li>
<h3 data-id="heading-11"><strong>ä¸»å…¥å£ (index.ts)</strong></h3>
</li>
</ol>
<p>å…¥å£æ–‡ä»¶è´Ÿè´£å¯¹å¤–æš´éœ²åˆå§‹åŒ–æ–¹æ³•ï¼Œä¸²è”å„ä¸ªæ¨¡å—ã€‚</p>
<ul>
<li>
<p><strong>èŒè´£æ˜ç¡®</strong>ï¼š<code>init()</code> æ–¹æ³•ä¸€é”®å¯åŠ¨æ‰€æœ‰ç›‘æ§ï¼ŒæŒ‰ç”¨æˆ·ä½“éªŒç”Ÿå‘½å‘¨æœŸï¼ˆåŠ è½½ -&gt; äº¤äº’ -&gt; ç½‘ç»œï¼‰ä¾æ¬¡è°ƒç”¨ã€‚</p>
</li>
<li>
<p><strong>é…ç½®ä¸­å¿ƒ</strong>ï¼šæ„é€ å‡½æ•°æ¥æ”¶ <code>options</code>ï¼Œå®ç°é…ç½®åˆå¹¶ï¼ˆå¦‚å¼€å‘æ¨¡å¼å¼€å¯æ—¥å¿—ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å—è§£è€¦</strong>ï¼šä¸ç›´æ¥å†™ç›‘æ§é€»è¾‘ï¼Œè€Œæ˜¯é€šè¿‡ <code>import</code> å¼•å…¥ <code>loading/interaction/network</code> ä¸‰å¤§æ¨¡å—çš„ <code>startXXX</code> å‡½æ•°ï¼Œå„å¸å…¶èŒã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { startFP, startFCP, startLCP, startLoad } <span class="hljs-keyword">from</span> <span class="hljs-string">'./loading'</span>;
<span class="hljs-keyword">import</span> {
  startCLS,
  startFID,
  startInteraction,
  startLongTask,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'./interaction'</span>;
<span class="hljs-keyword">import</span> { startEntries, startRequest } <span class="hljs-keyword">from</span> <span class="hljs-string">'./network'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">log</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å‘æ¨¡å¼ä¸‹å¼€å¯æ—¥å¿—</span>
      ...options,
    };
  }

  <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// 1. é¡µé¢åŠ è½½ä¸æ¸²æŸ“ (Loading &amp; Rendering)</span>
    <span class="hljs-title function_">startFP</span>();
    <span class="hljs-title function_">startFCP</span>();
    <span class="hljs-title function_">startLCP</span>();
    <span class="hljs-title function_">startLoad</span>();

    <span class="hljs-comment">// 2. äº¤äº’å“åº” (Interaction)</span>
    <span class="hljs-title function_">startFID</span>();
    <span class="hljs-title function_">startInteraction</span>(); <span class="hljs-comment">// INP</span>
    <span class="hljs-title function_">startLongTask</span>();

    <span class="hljs-comment">// 3. è§†è§‰ç¨³å®šæ€§ (Visual Stability)</span>
    <span class="hljs-title function_">startCLS</span>();

    <span class="hljs-comment">// 4. èµ„æºä¸ç½‘ç»œ (Resource &amp; Network)</span>
    <span class="hljs-title function_">startEntries</span>();
    <span class="hljs-title function_">startRequest</span>();

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Performance Monitor Initialized'</span>);
  }
}
</code></pre>
<h3 data-id="heading-12"><strong>2. Loading ç›‘æ§ (loading/index.js)</strong></h3>
<p>è¿™éƒ¨åˆ†ä¸»è¦è´Ÿè´£æ•æ‰é¡µé¢ä»ç™½å±åˆ°å†…å®¹å‡ºç°çš„å…³é”®æ—¶åˆ»ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªè¿‡ç¨‹æ‹†è§£ä¸ºä¸‰ä¸ªå…³é”®åŠ¨ä½œï¼š<strong>å˜è‰² (FP)</strong> -&gt; <strong>æœ‰å†…å®¹ (FCP)</strong> -&gt; <strong>ä¸»è§’ç™»åœº (LCP)</strong>ã€‚</p>
<ol>
<li><strong>FP (First Paint)</strong>ï¼šå±å¹•å˜è‰²äº†ï¼ˆä¸ç™½å±äº†ï¼‰ã€‚</li>
<li><strong>FCP (First Contentful Paint)</strong>ï¼šçœ‹è§å­—æˆ–å›¾äº†ï¼ˆæœ‰å†…å®¹äº†ï¼‰ã€‚</li>
<li><strong>LCP (Largest Contentful Paint)</strong>ï¼šä¸»è§’ï¼ˆå¤§å›¾/æ­£æ–‡ï¼‰å‡ºæ¥äº†ã€‚</li>
<li><strong>Load</strong>ï¼šèµ„æºå…¨åŠ è½½å®Œäº†ã€‚</li>
</ol>
<h4 data-id="heading-13"><strong>(1) FP &amp; FCPï¼šå±å¹•ç»ˆäºäº®äº†</strong></h4>
<p><strong>å…ˆè®²é“ç†ï¼š</strong></p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆè¦ä¸€èµ·æŠ“è¿™ä¸¤ä¸ªæŒ‡æ ‡æ˜¯ä¸€èµ·æŠ“çš„ï¼Ÿ</strong> å› ä¸ºå®ƒä¿©åœ¨æµè§ˆå™¨çœ¼é‡Œéƒ½å±äº <code>paint</code>ï¼ˆç»˜åˆ¶ï¼‰ç±»å‹ï¼Œéƒ½æ˜¯â€œç¬¬ä¸€çœ¼â€çš„æ„Ÿè§‰ã€‚</li>
<li><strong>æ€ä¹ˆæŠ“ï¼Ÿ</strong> ç”¨ <code>PerformanceObserver</code> è¹²å®ˆã€‚</li>
<li><strong>é¿å‘æŒ‡å—ï¼ˆBuffered æ ‡å¿—ï¼‰ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªæå…¶å®¹æ˜“è¢«å¿½ç•¥çš„å‚æ•°ï¼
<ul>
<li>SDK åˆå§‹åŒ–å¾€å¾€æ¯”é¡µé¢æ¸²æŸ“æ™šã€‚</li>
<li>å¦‚æœä½ ä¸å¼€å¯ <code>buffered: true</code>ï¼Œå°±åƒä½  10 ç‚¹æ‰å»è¹²å®ˆ 9 ç‚¹çš„æ—¥å‡ºï¼Œæ°¸è¿œè¹²ä¸åˆ°ã€‚</li>
<li>å¼€å¯åï¼Œæµè§ˆå™¨ä¼šæŠŠ<strong>è¿‡å»å‘ç”Ÿè¿‡</strong>çš„æŒ‡æ ‡æ‰“åŒ…è¡¥å‘ç»™ä½ ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ä»£ç å®æˆ˜ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/loading/FP.js (FCP é€»è¾‘å®Œå…¨ä¸€è‡´ï¼Œåªéœ€æ”¹ entry.name)</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startFP</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">entryHandler</span> = (<span class="hljs-params">list</span>) =&gt; {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
      <span class="hljs-comment">// ç­›é€‰ 'first-paint'</span>
      <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">name</span> === <span class="hljs-string">'first-paint'</span>) {
        observer.<span class="hljs-title function_">disconnect</span>(); <span class="hljs-comment">// FP ä¸€è¾ˆå­åªå‘ç”Ÿä¸€æ¬¡ï¼ŒæŠ“åˆ°å°±æ’¤ï¼Œçœå†…å­˜</span>

        <span class="hljs-keyword">const</span> json = entry.<span class="hljs-title function_">toJSON</span>();
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'FP Captured:'</span>, json);

        <span class="hljs-comment">// ä¸ŠæŠ¥æ•°æ®ç»“æ„</span>
        <span class="hljs-keyword">const</span> reportData = {
          ...json,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'performance'</span>,
          <span class="hljs-attr">name</span>: entry.<span class="hljs-property">name</span>,
          <span class="hljs-attr">pageUrl</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>,
        };
      }
    }
  };

  <span class="hljs-comment">// 1. åˆ›å»ºè§‚æµ‹è€…</span>
  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(entryHandler);

  <span class="hljs-comment">// 2. å¼€å§‹è¹²å®ˆ 'paint' é¢‘é“</span>
  <span class="hljs-comment">// buffered: true æ˜¯å…³é”®ï¼Œç¡®ä¿èƒ½æ‹¿åˆ° SDK åˆå§‹åŒ–ä¹‹å‰çš„è®°å½•</span>
  observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'paint'</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });

  <span class="hljs-comment">// 3. è¿”å›æ¸…ç†å‡½æ•°</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> observer.<span class="hljs-title function_">disconnect</span>();
}
</code></pre>
<h4 data-id="heading-14"><strong>(2) LCPï¼šä¸»è§’ç™»åœº</strong></h4>
<p><strong>å…ˆè®²é“ç†ï¼š</strong></p>
<ul>
<li>
<p><strong>ä¸ºä»€ä¹ˆ LCP ä¼šå˜ï¼Ÿ</strong> æµè§ˆå™¨æ¸²æŸ“æ˜¯æ¸è¿›å¼çš„ã€‚å®ƒåˆšç”»äº†ä¸€è¡Œå­—ï¼Œè§‰å¾—æ˜¯ LCPï¼›è¿‡äº†ä¸€ä¼šå›¾ç‰‡åŠ è½½å‡ºæ¥ï¼Œå®ƒåˆè§‰å¾—å›¾ç‰‡æ˜¯ LCPã€‚æ‰€ä»¥ LCP å¯èƒ½ä¼šè§¦å‘å¤šæ¬¡ï¼Œæˆ‘ä»¬é€šå¸¸å–<strong>æœ€åä¸€æ¬¡</strong>ã€‚</p>
</li>
<li>
<p><strong>å…‰æœ‰æ—¶é—´å¤Ÿå—ï¼Ÿ</strong> ä¸å¤Ÿï¼è€æ¿é—®ä½ â€œä¸ºä»€ä¹ˆ LCP æ…¢â€ï¼Œä½ ä¸èƒ½å…‰è¯´â€œæ…¢äº†â€ï¼Œä½ å¾—å‘Šè¯‰ä»–æ˜¯<strong>å“ªå¼ å›¾</strong>æ…¢äº†ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®°å½• <code>element</code> å¹¶è½¬æˆé€‰æ‹©å™¨ã€‚</p>
</li>
</ul>
<p><strong>ä»£ç å®æˆ˜ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/loading/LCP.js</span>
<span class="hljs-keyword">import</span> { getElementSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../util/index'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startLCP</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">entryHandler</span> = (<span class="hljs-params">list</span>) =&gt; {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
      <span class="hljs-keyword">const</span> json = entry.<span class="hljs-title function_">toJSON</span>();
      <span class="hljs-keyword">const</span> reportData = {
        ...json,
        <span class="hljs-attr">lcpTime</span>: entry.<span class="hljs-property">startTime</span>, <span class="hljs-comment">// è®°å½•æ—¶é—´</span>
        <span class="hljs-comment">// æ ¸å¿ƒï¼šåˆ©ç”¨ element å±æ€§è®¡ç®—å‡º CSS é€‰æ‹©å™¨ï¼Œå¸®ä½ å®šä½æ˜¯å“ªä¸ªå…ƒç´ æ…¢</span>
        <span class="hljs-attr">elementSelector</span>: <span class="hljs-title function_">getElementSelector</span>(entry.<span class="hljs-property">element</span>),
        <span class="hljs-attr">type</span>: <span class="hljs-string">'performance'</span>,
        <span class="hljs-attr">name</span>: entry.<span class="hljs-property">name</span>,
        <span class="hljs-attr">pageUrl</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>,
      };
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'LCP Update:'</span>, reportData);
    }
  };

  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(entryHandler);
  <span class="hljs-comment">// åŒæ ·å¼€å¯ bufferedï¼Œé˜²æ­¢æ¼æ‰</span>
  observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'largest-contentful-paint'</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> observer.<span class="hljs-title function_">disconnect</span>();
}
</code></pre>
<h4 data-id="heading-15"><strong>(3) åŠ è½½å®Œæˆ</strong></h4>
<p><strong>å…ˆè®²é“ç†ï¼š</strong></p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆä¸ç”¨ <code>window.onload</code>ï¼Ÿ</strong> ç°åœ¨çš„ SPAï¼ˆå•é¡µåº”ç”¨ï¼‰å’Œæµè§ˆå™¨çš„â€œå¾€è¿”ç¼“å­˜â€ï¼ˆBFCacheï¼‰æœºåˆ¶ï¼Œè®© <code>onload</code> å˜å¾—ä¸é‚£ä¹ˆé è°±ï¼ˆæœ‰æ—¶å€™å›é€€é¡µé¢ä¸ä¼šè§¦å‘ onloadï¼‰ã€‚</li>
<li><strong>ä¸ºä»€ä¹ˆç”¨ <code>pageshow</code>ï¼Ÿ</strong> å®ƒèƒ½è¦†ç›–æ›´å¤šåœºæ™¯ï¼Œæ— è®ºä½ æ˜¯æ–°æ‰“å¼€çš„ï¼Œè¿˜æ˜¯åé€€å›æ¥çš„ï¼Œå®ƒéƒ½ä¼šè§¦å‘ã€‚</li>
<li><strong>ä¸ºä»€ä¹ˆå¥—ä¸€å±‚ <code>requestAnimationFrame</code>ï¼Ÿ</strong> <code>pageshow</code> è§¦å‘æ—¶ï¼Œæµè§ˆå™¨å¯èƒ½è¿˜åœ¨å¿™ç€å¤„ç†æœ€åçš„æ¸²æŸ“ã€‚æˆ‘ä»¬ç”¨ <code>rAF</code> å¾€åç¨ä¸€ç¨ï¼Œè®©ä¸»çº¿ç¨‹å…ˆå–˜å£æ°”ï¼Œè·å–çš„æ—¶é—´æ›´ç²¾å‡†ï¼Œä¹Ÿä¸å½±å“é¡µé¢äº¤äº’ã€‚</li>
</ul>
<p><strong>ä»£ç å®æˆ˜ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/loading/load.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startLoad</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onPageShow</span> = (<span class="hljs-params">event</span>) =&gt; {
    <span class="hljs-comment">// å¾€åæ¨ä¸€å¸§ï¼Œé¿å…æŠ¢å ä¸»çº¿ç¨‹</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      [<span class="hljs-string">'load'</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">type</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> reportData = {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'performance'</span>,
          <span class="hljs-attr">subType</span>: type,
          <span class="hljs-attr">pageUrl</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>,
          <span class="hljs-comment">// è®¡ç®—ç›¸å¯¹æ—¶é—´</span>
          <span class="hljs-attr">startTime</span>: performance.<span class="hljs-title function_">now</span>() - event.<span class="hljs-property">timeStamp</span>,
        };
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Load Captured:'</span>, reportData);
      });
    });
  };

  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'pageshow'</span>, onPageShow, <span class="hljs-literal">true</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'pageshow'</span>, onPageShow, <span class="hljs-literal">true</span>);
  };
}
</code></pre>
<h3 data-id="heading-16"><strong>3. Interaction ç›‘æ§</strong></h3>
<p>äº¤äº’æ€§èƒ½ç›´æ¥å†³å®šäº†ç”¨æˆ·è§‰å¾—ä½ çš„é¡µé¢â€œé¡ºä¸é¡ºæ‰‹â€ã€‚è¿™é‡Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨ <strong>FID/INP (å“åº”é€Ÿåº¦)</strong> å’Œ <strong>Long Task (ä¸»çº¿ç¨‹é˜»å¡)</strong>ã€‚</p>
<h4 data-id="heading-17"><strong>(1) FID &amp; INPï¼šç‚¹å‡»è¦çµæ•</strong></h4>
<p><strong>å…ˆè®¤ä¸ªè„¸ï¼š</strong></p>
<ul>
<li>
<p><strong>FID (First Input Delay)</strong>ï¼š<strong>é¦–æ¬¡è¾“å…¥å»¶è¿Ÿ</strong>ã€‚çœ‹çš„æ˜¯â€œç¬¬ä¸€å°è±¡â€ã€‚ç”¨æˆ·åˆšè¿›é¡µé¢ï¼Œç¬¬ä¸€æ¬¡ç‚¹æŒ‰é’®æˆ–è€…é“¾æ¥æ—¶ï¼Œæµè§ˆå™¨æ˜¯ä¸æ˜¯åœ¨å‘å‘†ï¼Ÿå»¶è¿Ÿäº†å¤šä¹…æ‰ç†ä½ ï¼Ÿ</p>
</li>
<li>
<p><strong>INP (Interaction to Next Paint)</strong>ï¼š<strong>äº¤äº’åˆ°ä¸‹ä¸€æ¬¡ç»˜åˆ¶</strong>ã€‚çœ‹çš„æ˜¯â€œå…¨ç¨‹è¡¨ç°â€ã€‚ä¸ç®¡ä½ æ˜¯åˆšæ¥è¿˜æ˜¯å¿«èµ°ï¼Œåªè¦åœ¨é¡µé¢ä¸Šç‚¹çš„ä»»ä½•ä¸€ä¸‹å¡äº†ï¼ŒINP éƒ½ä¼šè®°ä¸‹æ¥ï¼Œæœ€åå–æœ€æ…¢çš„é‚£å‡ æ¬¡ç®—æ€»è´¦ã€‚</p>
</li>
</ul>
<p><strong>ä¸‰å¥è¯è®²æ˜ç™½</strong></p>
<ul>
<li><strong>ç›¸äº² vs è¿‡æ—¥å­</strong>ï¼šFID å°±åƒç›¸äº²ï¼Œåªè¦ç¬¬ä¸€çœ¼ï¼ˆç¬¬ä¸€æ¬¡äº¤äº’ï¼‰æ²¡é—®é¢˜ï¼Œåé¢æ‹‰èƒ¯å®ƒä¹Ÿä¸ç®¡ï¼›INP å°±åƒè¿‡æ—¥å­ï¼Œæ—¥ä¹…è§äººå¿ƒï¼Œå®ƒä¼šç›¯ç€ä½ å…¨ç¨‹çš„æ¯ä¸€æ¬¡è¡¨ç°ï¼Œå“ªæ€•ä½ å‰é¢è¡¨ç°å†å¥½ï¼Œæœ€åä¸€ä¸‹å¡äº†ï¼Œåˆ†ä¹Ÿé«˜ä¸äº†ã€‚</li>
<li><strong>åªç®¡æ’é˜Ÿ vs å…¨ç¨‹è·Ÿè¸ª</strong>ï¼šFID åªç®¡â€œæ’é˜Ÿæ—¶é—´â€ï¼ˆä½ ç‚¹ä¸‹å»åˆ°æµè§ˆå™¨å¼€å§‹å¤„ç†çš„æ—¶é—´ï¼‰ï¼›INP ç®¡å¾—æ›´å®½ï¼Œå®ƒåŒ…æ‹¬â€œæ’é˜Ÿ + å¤„ç† + æ¸²æŸ“â€çš„å…¨è¿‡ç¨‹ã€‚æ‰€ä»¥ INP æ›´èƒ½ä»£è¡¨ç”¨æˆ·çš„çœŸå®æ„Ÿå—ã€‚</li>
<li><strong>è°åœ¨å µè·¯</strong>ï¼šæƒ³è±¡ä½ å»é¤å…åƒé¥­ï¼ˆç‚¹å‡»ï¼‰ï¼ŒæœåŠ¡å‘˜ï¼ˆä¸»çº¿ç¨‹ï¼‰æ­£å¿™ç€ç»™éš”å£æ¡Œä¸Šèœï¼ˆæ‰§è¡Œ JSï¼‰ï¼Œæ²¡ç©ºç†ä½ ã€‚ä½ ç­‰æœåŠ¡å‘˜è½¬è¿‡èº«æ¥ç†ä½ çš„è¿™æ®µæ—¶é—´ï¼Œå°±æ˜¯ FIDã€‚å¦‚æœæœåŠ¡å‘˜ç†ä½ äº†ï¼Œä½†åšèœæ…¢ï¼ˆå¤„ç†é€»è¾‘å¤æ‚ï¼‰ï¼Œä¸Šèœä¹Ÿæ…¢ï¼ˆæ¸²æŸ“æ…¢ï¼‰ï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹å¤ªä¹…ï¼ŒINP å°±ä¼šç‚¸ã€‚</li>
</ul>
<p><strong>ç›´æ¥ä¸Šä»£ç ï¼šFID</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/interaction/FID.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startFID</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
      <span class="hljs-comment">// æ ¸å¿ƒå…¬å¼ï¼šå¤„ç†å¼€å§‹æ—¶é—´ - ç‚¹å‡»æ—¶é—´ = å»¶è¿Ÿæ—¶é—´</span>
      <span class="hljs-keyword">const</span> delay = entry.<span class="hljs-property">processingStart</span> - entry.<span class="hljs-property">startTime</span>;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'FID:'</span>, delay, entry.<span class="hljs-property">target</span>);
      observer.<span class="hljs-title function_">disconnect</span>(); <span class="hljs-comment">// FID åªçœ‹ç¬¬ä¸€ä¸‹ï¼Œæ‹¿åˆ°å°±æ’¤</span>
    }
  });
  observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'first-input'</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });
}
</code></pre>
<p><strong>ä»£ç æ€ä¹ˆç†è§£ï¼Ÿ</strong></p>
<ul>
<li><code>processingStart - startTime</code>ï¼š<code>startTime</code> æ˜¯ä½ æ‰‹æŒ‡æŒ‰ä¸‹çš„ç¬é—´ï¼Œ<code>processingStart</code> æ˜¯ä»£ç ç»ˆäºå¼€å§‹è·‘çš„ç¬é—´ã€‚è¿™ä¸­é—´çš„å·®å€¼ï¼Œå°±æ˜¯æµè§ˆå™¨å› ä¸ºâ€œå¿™ä¸è¿‡æ¥â€è€Œè®©ç”¨æˆ·ç­‰å¾…çš„æ—¶é—´ã€‚</li>
<li><code>disconnect()</code>ï¼šFID å…¨ç§°æ˜¯ <strong>First</strong> Input Delayï¼Œæ—¢ç„¶æ˜¯ Firstï¼ŒæŠ“åˆ°ä¸€æ¬¡å°±å¯ä»¥æ”¶å·¥äº†ï¼Œçœç‚¹å†…å­˜ã€‚</li>
<li><code>buffered: true</code>ï¼šé˜²æ­¢ SDK åŠ è½½æ™šäº†ã€‚ä¸‡ä¸€ç”¨æˆ·æ‰‹å¿«ï¼Œè„šæœ¬è¿˜æ²¡åŠ è½½å®Œå°±ç‚¹äº†ï¼Œè¿™ä¸ªå‚æ•°èƒ½æŠŠé‚£æ¬¡ç‚¹å‡»è®°å½•è¡¥å‘ç»™ä½ ã€‚</li>
</ul>
<p><strong>ç›´æ¥ä¸Šä»£ç  INPï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/interaction/INP.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startINP</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
      <span class="hljs-comment">// ä¸æ–­æ”¶é›†ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ‰¾æœ€æ…¢çš„é‚£ä¸ª</span>
      <span class="hljs-comment">// è¿™é‡Œåªæ˜¯ç®€å•çš„æ‰“å°ï¼Œå®é™…å¼€å‘ä¸­éœ€è¦ä¸€ä¸ªç®—æ³•æ¥å– top å‡ ä½</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Interaction Latency:'</span>, entry.<span class="hljs-property">duration</span>, entry.<span class="hljs-property">target</span>);
    }
  });
  <span class="hljs-comment">// æ³¨æ„ï¼šINP ç›‘å¬çš„æ˜¯ 'event' ç±»å‹ï¼Œä¸æ˜¯ 'first-input'</span>
  observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'event'</span>, <span class="hljs-attr">durationThreshold</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });
}
</code></pre>
<p><strong>ä»£ç æ€ä¹ˆç†è§£ï¼Ÿ</strong></p>
<ul>
<li><strong>INP ä»£ç </strong>ï¼š<code>type: 'event'</code>ã€‚è¿™é‡Œæˆ‘ä»¬ä¸æ–­ç›‘å¬ï¼Œä¸æ–­æ‰“ logã€‚å®é™…åœºæ™¯é‡Œï¼Œä½ éœ€è¦ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ï¼ŒæŠŠè€—æ—¶æœ€é•¿çš„å‡ æ¬¡äº¤äº’å­˜ä¸‹æ¥ï¼Œæœ€åä¸ŠæŠ¥é‚£ä¸ªæœ€æ…¢çš„ã€‚</li>
<li><strong>durationThreshold: 16</strong>ï¼šè¿™æ˜¯ä¸ªä¼˜åŒ–å‚æ•°ã€‚æ„æ€æ˜¯â€œå°äº 16msï¼ˆä¸€å¸§ï¼‰çš„äº¤äº’æˆ‘å°±ä¸çœ‹äº†â€ï¼Œçœå¾—æ•°æ®å¤ªå¤šåˆ·å±ã€‚</li>
</ul>
<p><strong>è¸©å‘æé†’</strong></p>
<ul>
<li>
<p><strong>åŠæ ¼çº¿åœ¨å“ªï¼Ÿ(Google æ ‡å‡†)</strong></p>
<ul>
<li><strong>FID (ç¬¬ä¸€å°è±¡)</strong>ï¼š<strong>100ms</strong> 100ms ä»¥å†…éƒ½æ˜¯ä¼˜ç§€ï¼Œè¶…è¿‡ 300ms ç”¨æˆ·å°±ä¼šè§‰å¾—â€œç ´ç½‘ç«™æ€ä¹ˆç‚¹ä¸åŠ¨â€ã€‚</li>
<li><strong>INP (å…¨ç¨‹ä½“éªŒ)</strong>ï¼š<strong>200ms</strong> ä»¥å†…ç®—ä¼˜ç§€ï¼Œè¶…è¿‡ <strong>500ms</strong> ç”¨æˆ·å°±æƒ³ç ¸é”®ç›˜äº†ã€‚</li>
</ul>
<p><strong>ä¸ºå•¥ FID å’Œ INP çš„æ ‡å‡†ä¸ä¸€æ ·ï¼Ÿ</strong></p>
<ul>
<li>å› ä¸º <strong>FID åªç®—æ’é˜Ÿæ—¶é—´</strong>ï¼ˆä½ è¿˜åœ¨é—¨å£ç­‰æœåŠ¡å‘˜ï¼‰ï¼Œè€Œ <strong>INP ç®—çš„æ˜¯å…¨å¥—æœåŠ¡æ—¶é—´</strong>ï¼ˆæ’é˜Ÿ + åƒé¥­ + ä¹°å•ï¼‰ã€‚INP åŒ…å«çš„é˜¶æ®µæ›´å¤šï¼ˆå¤„ç† + æ¸²æŸ“ï¼‰ï¼Œæ‰€ä»¥ Google ç»™çš„å®½å®¹åº¦è‡ªç„¶ä¹Ÿæ›´é«˜ã€‚</li>
</ul>
</li>
<li>
<p><strong>INP æ‰æ˜¯æœªæ¥</strong>ï¼šGoogle å·²ç»åœ¨ 2024 å¹´æ­£å¼ç”¨ INP å–ä»£äº† FIDã€‚æƒ³ç›‘æ§ INPï¼ŸæŠŠ <code>type</code> æ”¹æˆ <code>event</code>ï¼Œç„¶ååˆ«æ–­å¼€ (<code>disconnect</code>)ï¼Œä¸€ç›´è®°åˆ°é¡µé¢èµ°äººå°±è¡Œã€‚</p>
</li>
<li>
<p><strong>è°åœ¨å µè·¯</strong>ï¼šé€šå¸¸æ˜¯å› ä¸ºä¸»çº¿ç¨‹åœ¨å¿™ç€æ‰§è¡Œå·¨å¤§çš„ JS è„šæœ¬ï¼ˆLong Taskï¼‰ï¼Œå¯¼è‡´æ²¡ç©ºæ­ç†ç”¨æˆ·çš„ç‚¹å‡»ã€‚</p>
</li>
</ul>
<h4 data-id="heading-18"><strong>(2) Long Taskï¼šä¸»çº¿ç¨‹åˆ«å µè½¦</strong></h4>
<p><strong>å…ˆè®¤ä¸ªè„¸ï¼š</strong></p>
<ul>
<li><strong>Long Task (é•¿ä»»åŠ¡)</strong>ï¼šåªè¦æ‰§è¡Œæ—¶é—´è¶…è¿‡ <strong>50 æ¯«ç§’</strong> çš„ä»»åŠ¡ï¼Œéƒ½å«é•¿ä»»åŠ¡ã€‚</li>
<li><strong>å±å®³</strong>ï¼šæµè§ˆå™¨çš„ä¸»çº¿ç¨‹æ˜¯â€œå•çº¿ç¨‹â€çš„ï¼Œä¸€æ¬¡åªèƒ½å¹²ä¸€ä»¶äº‹ã€‚å¦‚æœä¸€ä¸ªä»»åŠ¡éœ¸å äº†ä¸»çº¿ç¨‹å¤ªä¹…ï¼Œå…¶ä»–çš„ç‚¹å‡»ã€æ»šåŠ¨ã€æ¸²æŸ“å°±éƒ½å¾—æ’é˜Ÿï¼Œç”¨æˆ·å°±ä¼šè§‰å¾—â€œå¡æ­»â€äº†ã€‚</li>
</ul>
<p><strong>ä¸‰å¥è¯è®²æ˜ç™½</strong></p>
<ul>
<li><strong>ç‹¬æœ¨æ¡¥æ•ˆåº”</strong>ï¼šä¸»çº¿ç¨‹å°±åƒä¸€åº§ç‹¬æœ¨æ¡¥ã€‚å¹³æ—¶è¿‡çš„å°è½¦ï¼ˆçŸ­ä»»åŠ¡ï¼‰å¾ˆå¿«ï¼Œå¤§å®¶éƒ½æœ‰è·¯èµ°ã€‚çªç„¶æ¥äº†ä¸€è¾†å¤§å¡è½¦ï¼ˆé•¿ä»»åŠ¡ï¼‰ï¼ŒæŠŠæ¡¥å µå¾—æ­»æ­»çš„ï¼Œåé¢çš„è½¦ï¼ˆç”¨æˆ·äº¤äº’ï¼‰å…¨è¢«å µä½äº†ã€‚</li>
<li><strong>50ms åˆ†ç•Œçº¿</strong>ï¼šä¸ºå•¥æ˜¯ 50msï¼Ÿ
<ul>
<li><strong>100ms æ³•åˆ™</strong>ï¼šå¿ƒç†å­¦ä¸Šï¼Œç”¨æˆ·ç‚¹å‡»å <strong>100ms</strong> å†…æœ‰ååº”å°±ç®—â€œå³æ—¶â€ã€‚</li>
<li><strong>å¯¹åŠåˆ†</strong>ï¼šGoogle æŠŠè¿™ 100ms åˆ‡æˆä¸¤åŠï¼š<strong>50ms ç»™ä½ è·‘ä»£ç </strong>ï¼Œ<strong>50ms ç•™ç»™æµè§ˆå™¨ç”»ç”»</strong>ã€‚è¿™æ ·åŠ èµ·æ¥åˆšå¥½ 100msã€‚</li>
<li><strong>é«˜åˆ·å±æ€ä¹ˆåŠ</strong>ï¼šè™½ç„¶ 120Hz å±å¹•æ¯å¸§åªæœ‰ 8msï¼Œä½†åœ¨ Web æ ‡å‡†é‡Œï¼Œ50ms ä¾ç„¶æ˜¯é‚£ä¸ªå¹³è¡¡äº†â€œä½“éªŒâ€å’Œâ€œä»£ç å¤æ‚åº¦â€çš„å®‰å…¨åŠæ ¼çº¿ã€‚</li>
</ul>
</li>
<li><strong>æŠ“å…ƒå‡¶</strong>ï¼šç›‘æ§ Long Task ä¸å…‰æ˜¯ä¸ºäº†çŸ¥é“â€œå¡äº†â€ï¼Œæ›´æ˜¯ä¸ºäº†çŸ¥é“â€œè°å¡äº†â€ã€‚API ä¼šå‘Šè¯‰ä½ æ˜¯å› ä¸ºå“ªä¸ª iframe æˆ–è€…å“ªä¸ªè„šæœ¬æ–‡ä»¶å¯¼è‡´çš„ã€‚</li>
</ul>
<p><strong>ç›´æ¥ä¸Šä»£ç ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/interaction/longTask.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startLongTask</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
      <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">duration</span> &gt; <span class="hljs-number">50</span>) {
        <span class="hljs-comment">// æŠ“åˆ°ä¸ªæ…¢çš„ï¼çœ‹çœ‹æ˜¯è°</span>
        <span class="hljs-comment">// attribution é‡Œé¢è—ç€â€œç½ªé­ç¥¸é¦–â€çš„åå­—</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'LongTask:'</span>, entry.<span class="hljs-property">duration</span>, entry.<span class="hljs-property">attribution</span>);
      }
    }
  });
  <span class="hljs-comment">// å¼€å¯ç›‘å¬ï¼Œbuffered åŒæ ·é‡è¦</span>
  observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'longtask'</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });
}
</code></pre>
<p><strong>ä»£ç æ€ä¹ˆç†è§£ï¼Ÿ</strong></p>
<ul>
<li><code>entry.duration &gt; 50</code>ï¼šè™½ç„¶ API åªä¼šè¿”å›é•¿ä»»åŠ¡ï¼Œä½†ä¸ºäº†ä¿é™©ï¼ˆæˆ–è€…ä½ æƒ³è®¾ç½®æ›´ä¸¥æ ¼çš„ 100ms é˜ˆå€¼ï¼‰ï¼Œå¯ä»¥å†åˆ¤æ–­ä¸€ä¸‹ã€‚</li>
<li><code>entry.attribution</code>ï¼šè¿™æ˜¯ä¸ªæ•°ç»„ï¼Œé‡Œé¢ä¼šå‘Šè¯‰ä½ è¿™ä¸ªä»»åŠ¡æ¥è‡ªå“ªä¸ª <code>container</code>ï¼ˆæ¯”å¦‚æ˜¯å½“å‰çª—å£ï¼Œè¿˜æ˜¯å¹¿å‘Š iframeï¼‰ï¼Œæœ‰çš„æµè§ˆå™¨è¿˜èƒ½ç²¾ç¡®åˆ° <code>scriptURL</code>ï¼ˆè„šæœ¬æ–‡ä»¶è·¯å¾„ï¼‰ã€‚</li>
</ul>
<p><strong>è¸©å‘æé†’</strong></p>
<ul>
<li><strong>æ‹†åˆ†ä»»åŠ¡</strong>ï¼šé‡åˆ° Long Task å’‹åŠï¼Ÿ<strong>æ‹†ï¼</strong> æŠŠä¸€ä¸ªå¤§å‡½æ•°æ‹†æˆå‡ ä¸ªå°å‡½æ•°ï¼Œç”¨ <code>setTimeout</code> æˆ–è€… <code>requestIdleCallback</code> åˆ†æ‰¹æ‰§è¡Œï¼Œç»™ä¸»çº¿ç¨‹ç•™å‡ºå–˜æ¯çš„æœºä¼šï¼ˆè®©â€œå¤§å¡è½¦â€å˜æˆâ€œå°è½¦é˜Ÿâ€ï¼‰ã€‚</li>
<li><strong>å¹¿å‘ŠèƒŒé”…</strong>ï¼šå¾ˆå¤šæ—¶å€™ä½ ä¼šå‘ç° Long Task éƒ½æ˜¯å¹¿å‘Šè„šæœ¬ï¼ˆiframeï¼‰å¸¦æ¥çš„ã€‚è¿™ç§æ—¶å€™â€¦â€¦ä½ å¯ä»¥ç”©é”…ç»™å¹¿å‘Šå•†ï¼Œæˆ–è€…å»¶è¿ŸåŠ è½½å¹¿å‘Šã€‚</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šè¿™ä¸ª API å…¼å®¹æ€§è¿˜ä¸é”™ï¼Œä½†è¿˜æ˜¯è€è§„çŸ©ï¼ŒSafari å¯èƒ½æ¯”è¾ƒé«˜å†·ï¼ˆè¾ƒæ–°ç‰ˆæœ¬æ‰æ”¯æŒï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-19"><strong>4. Visual Stability (è§†è§‰ç¨³å®šæ€§) ç›‘æ§</strong></h3>
<p>è¿™å¯èƒ½æ˜¯æœ€è®©äººæŠ“ç‹‚çš„ä½“éªŒã€‚</p>
<h4 data-id="heading-20"><strong>CLSï¼šé¡µé¢åˆ«ä¹±åŠ¨</strong></h4>
<ul>
<li><strong>åˆ«å†¤æ‰å¥½äºº</strong>ï¼šç”¨æˆ·ç‚¹äº†ä¸ªæŒ‰é’®å±•å¼€èœå•ï¼Œå¸ƒå±€è‚¯å®šä¼šå˜ï¼Œè¿™å«â€œç¬¦åˆé¢„æœŸâ€</li>
<li><strong>èšæ²™æˆå¡”</strong>ï¼šCLS ä¸æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œå®ƒæ˜¯â€œç§¯åˆ†åˆ¶â€ã€‚ç”¨æˆ·åœ¨é¡µé¢ä¸Šå¾…å¤šä¹…ï¼Œè¿™æœŸé—´æ‰€æœ‰çš„å°æŠ–åŠ¨éƒ½è¦åŠ èµ·æ¥ï¼Œç®—æ€»è´¦ã€‚</li>
<li><strong>ç§‹åç®—è´¦</strong>ï¼šåƒä¸‡åˆ«æŠ–ä¸€ä¸‹æŠ¥ä¸€ä¸‹ï¼CLS æ˜¯â€œé•¿è·‘æ¯”èµ›â€ï¼Œä¸åˆ°ç»ˆç‚¹ï¼ˆé¡µé¢å…³é—­/éšè—ï¼‰ä¸çŸ¥é“æœ€ç»ˆæˆç»©ã€‚å¿…é¡»ç­‰ç”¨æˆ·å…³é¡µé¢æˆ–è€…åˆ‡åå°çš„æ—¶å€™ï¼ŒæŠŠæœ€åçš„æ€»åˆ†ä¸€æ¬¡æ€§æŠ¥ä¸Šå»ã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/interaction/CLS.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startCLS</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> clsValue = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
      <span class="hljs-comment">// æ ¸å¿ƒï¼šå‰”é™¤ç”¨æˆ·äº¤äº’ï¼ˆç‚¹å‡»/è¾“å…¥ï¼‰å¯¼è‡´çš„é¢„æœŸåç§»</span>
      <span class="hljs-keyword">if</span> (!entry.<span class="hljs-property">hadRecentInput</span>) {
        clsValue += entry.<span class="hljs-property">value</span>;
      }
    }
  });
  observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'layout-shift'</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">report</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'CLS Final:'</span>, clsValue);

  <span class="hljs-comment">// åŒé‡ä¿é™©ï¼šå…¼å®¹å„ç±»æµè§ˆå™¨çš„å¸è½½åœºæ™¯</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'pagehide'</span>, report, { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> });
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(
    <span class="hljs-string">'visibilitychange'</span>,
    <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">visibilityState</span> === <span class="hljs-string">'hidden'</span>) <span class="hljs-title function_">report</span>();
    },
    { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> }
  );
}
</code></pre>
<p><strong>ä»£ç æ€ä¹ˆç†è§£ï¼Ÿ</strong></p>
<ul>
<li>
<p><strong>æ€ä¹ˆåŒºåˆ†æ˜¯â€œå¥½åŠ¨â€è¿˜æ˜¯â€œä¹±åŠ¨â€ï¼Ÿ</strong></p>
<p>åˆšåˆšæˆ‘ä»¬è¯´ç”¨æˆ·äº¤äº’ï¼ˆæ¯”å¦‚ç‚¹æŒ‰é’®å±•å¼€èœå•ï¼‰å¯¼è‡´çš„å¸ƒå±€å˜åŒ–ä¸èƒ½ç®— CLSã€‚é‚£æ€ä¹ˆåˆ¤æ–­å‘¢ï¼Ÿ
æµè§ˆå™¨æä¾›äº† <code>hadRecentInput</code> å­—æ®µã€‚åªè¦ç”¨æˆ·æœ€è¿‘ <strong>500ms</strong> å†…æœ‰è¿‡ç‚¹å‡»æˆ–æŒ‰é”®ï¼Œæµè§ˆå™¨å°±ä¼šæŠŠè¿™ä¸ªå­—æ®µæ ‡ä¸º <code>true</code>ã€‚å’±ä»¬ä»£ç é‡Œå¿…é¡»æŠŠè¿™äº›â€œè‰¯æ°‘â€è¿‡æ»¤æ‰ï¼ŒåªæŠ“é‚£äº›â€œè«åå…¶å¦™â€çš„æŠ–åŠ¨ã€‚</p>
</li>
<li>
<p><strong>åˆ†æ•°æ€ä¹ˆç®—ï¼Ÿ</strong></p>
<p><code>entry.value</code> å°±æ˜¯æ¯ä¸€æ¬¡æŠ–åŠ¨çš„åˆ†æ•°ã€‚æ¯”å¦‚ä¸€å¼ å¤§å›¾çªç„¶æ’è¿›æ¥ï¼ŒæŠŠæ–‡å­—æŒ¤ä¸‹å» 100pxï¼Œå¯èƒ½å°±è´¡çŒ®äº† 0.05 åˆ†ã€‚æˆ‘ä»¬è¦åšçš„å°±æ˜¯ä¸€ä¸ªæ— æƒ…çš„â€œåŠ æ³•å™¨â€ï¼ŒæŠŠè¿™äº›åˆ†æ•°å…¨åŠ èµ·æ¥ã€‚</p>
</li>
<li>
<p><strong>ä¸ºå•¥è¦ç›‘å¬ä¸¤ä¸ªå¸è½½äº‹ä»¶ï¼Ÿ</strong></p>
<p><code>visibilitychange</code> å’Œ <code>pagehide</code> éƒ½æ˜¯ç”¨æ¥ç›‘å¬é¡µé¢å…³é—­/éšè—çš„ã€‚ä¸ºå•¥è¦æä¸¤ä¸ªï¼Ÿå› ä¸ºæµè§ˆå™¨è„¾æ°”ä¸ä¸€æ ·ï¼šæœ‰çš„å–œæ¬¢ <code>pagehide</code>ï¼ˆæ¯”å¦‚ Safariï¼‰ï¼Œæœ‰çš„æ¨è <code>visibilitychange</code>ã€‚ä¸ºäº†ä¿è¯æ•°æ®ä¸ä¸¢ï¼Œå’±ä»¬æä¸ªâ€œåŒä¿é™©â€ï¼Œè°å…ˆè§¦å‘å°±ç®—è°çš„ã€‚</p>
<ul>
<li><strong>ä¸ºå•¥ä¸ç”¨ beforeunloadï¼Ÿ</strong>
æ—©å¹´é—´ç¡®å®æµè¡Œç”¨ <code>beforeunload</code> æˆ– <code>unload</code>ï¼Œä½†ç°åœ¨å®ƒä»¬<strong>ä¸é è°±</strong>äº†ï¼Œå°¤å…¶æ˜¯åœ¨æ‰‹æœºä¸Šã€‚ç”¨æˆ·ç›´æ¥åˆ’æ‰ Appã€åˆ‡åå°ï¼Œè¿™äº›äº‹ä»¶ç»å¸¸<strong>ä¸ä¼šè§¦å‘</strong>ã€‚è€Œä¸”å®ƒè¿˜ä¼šé˜»æ­¢æµè§ˆå™¨åšâ€œå¾€è¿”ç¼“å­˜â€ï¼ˆBFCacheï¼‰ï¼Œæ‹–æ…¢é¡µé¢åé€€é€Ÿåº¦ã€‚æ‰€ä»¥ç°åœ¨çš„æ ‡å‡†å§¿åŠ¿å°±æ˜¯ <code>visibilitychange</code> + <code>pagehide</code>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>è¸©å‘æé†’</strong></p>
<ul>
<li>æˆç»©çº¿ï¼šCLS &lt; 0.1 å¾ˆå¥½ï¼Œ&gt; 0.25 éœ€è¦é‡ç‚¹ä¼˜åŒ–</li>
<li>åŠ¨æ€å†…å®¹è¦â€œç•™å‘ä½â€ï¼šéª¨æ¶å±/å›ºå®šå°ºå¯¸ï¼Œèƒ½æ˜æ˜¾é™ä½ä½ç§»</li>
<li>å¹¿å‘Š/æ‡’åŠ è½½å›¾ç‰‡ç»å¸¸æ˜¯å…ƒå‡¶ï¼Œä¼˜å…ˆæ’æŸ¥</li>
</ul>
<h3 data-id="heading-21"><strong>5. Network ç›‘æ§ï¼šæŸ¥æŸ¥è°åœ¨æ‹–åè…¿</strong></h3>
<p><strong>å…ˆè®¤ä¸ªè„¸ï¼š</strong></p>
<ul>
<li><strong>Resource Timing (èµ„æºè®¡æ—¶)</strong>ï¼šä¸“é—¨ç®¡èµ„æºåŠ è½½çš„ã€‚ä¸ç®¡æ˜¯å›¾ç‰‡ã€CSSã€JS æ–‡ä»¶ï¼Œè¿˜æ˜¯æ¥å£è¯·æ±‚ (XHR/Fetch)ï¼Œåªè¦æ˜¯ä»ç½‘ç»œä¸‹è½½çš„ä¸œè¥¿ï¼Œå®ƒéƒ½èƒ½è®°ä¸€ç¬”ã€‚</li>
<li><strong>æ ¸å¿ƒæŒ‡æ ‡</strong>ï¼šé™¤äº†æ€»è€—æ—¶ (<code>duration</code>)ï¼Œè¿˜èƒ½ç»†åˆ° DNS è§£æå¤šä¹…ã€TCP å»ºè¿å¤šä¹…ã€é¦–å­—èŠ‚æ—¶é—´ (TTFB) ç­‰ç­‰ã€‚</li>
</ul>
<p><strong>ä¸‰å¥è¯è®²æ˜ç™½</strong></p>
<ul>
<li><strong>æŸ¥å¿«é€’</strong>ï¼šä½ ä¹°ä¸œè¥¿ï¼ˆè¯·æ±‚èµ„æºï¼‰ï¼Œæƒ³çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¹ˆæ…¢ï¼Ÿæ˜¯å–å®¶å‘è´§æ…¢ï¼ˆTTFBï¼‰ï¼Œè¿˜æ˜¯è·¯ä¸Šå µè½¦ï¼ˆä¸‹è½½æ…¢ï¼‰ï¼ŸResource Timing å°±æ˜¯é‚£ä¸ªè¯¦ç»†çš„ç‰©æµå•ã€‚</li>
<li><strong>ä¸åªæ˜¯å›¾ç‰‡</strong>ï¼šåˆ«è¢«åå­—éª—äº†ï¼Œå®ƒä¸å…‰ç®¡å›¾ç‰‡ CSSï¼Œä½ çš„ <code>fetch</code> è¯·æ±‚ã€<code>axios</code> è¯·æ±‚ï¼Œåªè¦èµ°äº†ç½‘ç»œï¼Œå®ƒéƒ½èƒ½ç›‘æ§åˆ°ã€‚</li>
<li><strong>ä¸¥é˜²æ­»å®ˆ</strong>ï¼šæµè§ˆå™¨ä¸ºäº†å®‰å…¨ï¼Œå¯¹äºè·¨åŸŸçš„èµ„æºï¼ˆæ¯”å¦‚ä½ ç”¨äº†ç™¾åº¦çš„å›¾ç‰‡ï¼‰ï¼Œé»˜è®¤åªå‘Šè¯‰ä½ â€œç”¨äº†å¤šä¹…â€ï¼Œä¸å‘Šè¯‰ä½ â€œæ€ä¹ˆç”¨çš„â€ï¼ˆDNS/TCP ç»†èŠ‚ï¼‰ï¼Œé™¤éå¯¹æ–¹ç»™äº†é€šè¡Œè¯ã€‚</li>
</ul>
<p><strong>ç›´æ¥ä¸Šä»£ç ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startEntries</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> list.<span class="hljs-title function_">getEntries</span>()) {
      <span class="hljs-comment">// resource ç±»å‹åŒ…å«äº† img, script, css, fetch, xmlhttprequest, link ç­‰</span>
      <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">entryType</span> === <span class="hljs-string">'resource'</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
          <span class="hljs-string">'Resource:'</span>,
          entry.<span class="hljs-property">name</span>,
          entry.<span class="hljs-property">initiatorType</span>,
          entry.<span class="hljs-property">duration</span>
        );
      }
    }
  });
  <span class="hljs-comment">// åŒæ ·è®°å¾— buffered: trueï¼Œé˜²æ­¢æ¼æ‰é¡µé¢åˆšå¼€å§‹åŠ è½½çš„é‚£äº›èµ„æº</span>
  observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'resource'</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });
}
</code></pre>
<p><strong>ä»£ç æ€ä¹ˆç†è§£ï¼Ÿ</strong></p>
<ul>
<li><code>entryType === 'resource'</code>ï¼šè¿™ä¸ªé¢‘é“åŒ…ç½—ä¸‡è±¡ã€‚å›¾ç‰‡ (<code>img</code>)ã€æ ·å¼ (<code>css</code>)ã€è„šæœ¬ (<code>script</code>) ç”šè‡³ä½ çš„æ¥å£è°ƒç”¨ (<code>fetch</code>/<code>xmlhttprequest</code>) éƒ½åœ¨è¿™å„¿ã€‚</li>
<li><code>initiatorType</code>ï¼šè¿™ä¸ªå­—æ®µå‘Šè¯‰ä½ èµ„æºæ˜¯è°å‘èµ·çš„ã€‚æ˜¯ <code>&lt;img src="..."&gt;</code> å‘èµ·çš„ï¼Ÿè¿˜æ˜¯ <code>fetch()</code> å‘èµ·çš„ï¼Ÿä¸€çœ‹ä¾¿çŸ¥ã€‚</li>
</ul>
<p><strong>è¿›é˜¶ç”¨æ³•ï¼šç›‘æ§æ¥å£ (API) è€—æ—¶è¯¦æƒ…</strong></p>
<p>æœ‰æ—¶å€™æˆ‘ä»¬ä¸å…³å¿ƒå›¾ç‰‡èµ„æºï¼Œè€Œæ˜¯é‡ç‚¹å…³æ³¨<strong>åç«¯æ¥å£çš„å“åº”è€—æ—¶</strong>ã€‚é€šè¿‡è¿‡æ»¤ <code>fetch</code> å’Œ <code>xmlhttprequest</code>ï¼Œæˆ‘ä»¬ä¸ä»…èƒ½çŸ¥é“æ¥å£æ…¢ä¸æ…¢ï¼Œè¿˜èƒ½çŸ¥é“<strong>æ…¢åœ¨å“ªé‡Œ</strong>ï¼ˆæ˜¯ DNSã€TCP è¿˜æ˜¯æœåŠ¡ç«¯å¤„ç†ï¼‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startRequest</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">entryHandler</span> = (<span class="hljs-params">list</span>) =&gt; {
    <span class="hljs-keyword">const</span> data = list.<span class="hljs-title function_">getEntries</span>();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> entry <span class="hljs-keyword">of</span> data) {
      <span class="hljs-comment">// è¿‡æ»¤å‡º API è¯·æ±‚ (Fetch å’Œ XHR)</span>
      <span class="hljs-keyword">if</span> (
        entry.<span class="hljs-property">initiatorType</span> === <span class="hljs-string">'fetch'</span> ||
        entry.<span class="hljs-property">initiatorType</span> === <span class="hljs-string">'xmlhttprequest'</span>
      ) {
        <span class="hljs-keyword">const</span> reportData = {
          <span class="hljs-attr">name</span>: entry.<span class="hljs-property">name</span>, <span class="hljs-comment">// è¯·æ±‚åœ°å€</span>
          <span class="hljs-attr">type</span>: <span class="hljs-string">'performance'</span>,
          <span class="hljs-attr">subType</span>: entry.<span class="hljs-property">entryType</span>,
          <span class="hljs-attr">sourceType</span>: entry.<span class="hljs-property">initiatorType</span>,
          <span class="hljs-attr">duration</span>: entry.<span class="hljs-property">duration</span>, <span class="hljs-comment">// è¯·æ±‚æ€»è€—æ—¶</span>
          <span class="hljs-attr">dns</span>: entry.<span class="hljs-property">domainLookupEnd</span> - entry.<span class="hljs-property">domainLookupStart</span>, <span class="hljs-comment">// DNS è§£æè€—æ—¶</span>
          <span class="hljs-attr">tcp</span>: entry.<span class="hljs-property">connectEnd</span> - entry.<span class="hljs-property">connectStart</span>, <span class="hljs-comment">// TCP è¿æ¥è€—æ—¶</span>
          <span class="hljs-attr">ttfb</span>: entry.<span class="hljs-property">responseStart</span> - entry.<span class="hljs-property">requestStart</span>, <span class="hljs-comment">// é¦–å­—èŠ‚å“åº”æ—¶é—´ (æœåŠ¡ç«¯å¤„ç†æ—¶é—´)</span>
          <span class="hljs-attr">transferSize</span>: entry.<span class="hljs-property">transferSize</span>, <span class="hljs-comment">// ä¼ è¾“å­—èŠ‚æ•°</span>
          <span class="hljs-attr">startTime</span>: entry.<span class="hljs-property">startTime</span>, <span class="hljs-comment">// è¯·æ±‚å¼€å§‹æ—¶é—´</span>
          <span class="hljs-attr">pageUrl</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>,
        };
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Network Request:'</span>, reportData);
      }
    }
  };

  <span class="hljs-comment">// è¿™é‡Œä¸è°ƒç”¨ disconnect()ï¼Œä»¥ä¾¿æŒç»­ç›‘å¬åç»­äº§ç”Ÿçš„ç½‘ç»œè¯·æ±‚</span>
  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(entryHandler);
  observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'resource'</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });
}
</code></pre>
<p><strong>ä»£ç æ€ä¹ˆç†è§£ï¼Ÿ</strong></p>
<ul>
<li>
<p><strong>TTFB (é¦–å­—èŠ‚æ—¶é—´) â€”â€” â€œå¨å¸ˆåšèœæ…¢â€</strong></p>
<ul>
<li>å…¬å¼ï¼š<code>responseStart - requestStart</code>ã€‚</li>
<li><strong>å¤§ç™½è¯</strong>ï¼šä½ ç‚¹å®Œèœï¼ˆå‘é€è¯·æ±‚ï¼‰åˆ°æœåŠ¡å‘˜ç«¯ä¸Šç¬¬ä¸€ç›˜èœï¼ˆæ”¶åˆ°ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼‰çš„æ—¶é—´ã€‚</li>
<li><strong>è°èƒŒé”…</strong>ï¼šè¿™æ—¶é—´é•¿ï¼Œè¯´æ˜<strong>åç«¯å¤„ç†æ…¢</strong>ï¼ˆæŸ¥æ•°æ®åº“æ…¢ã€ä¸šåŠ¡é€»è¾‘å¤ªå¤æ‚ï¼‰ã€‚è·Ÿç½‘é€Ÿæ²¡å•¥å…³ç³»ï¼Œçº¯ç²¹æ˜¯â€œåå¨â€å¿™ä¸è¿‡æ¥ã€‚èµ¶ç´§æˆªå›¾ç”©ç»™åç«¯å¼€å‘ï¼</li>
</ul>
</li>
<li>
<p><strong>TCP &amp; DNS â€”â€” â€œæ‰¾è·¯å’Œæ‰“æ‹›å‘¼â€</strong></p>
<ul>
<li><strong>DNS</strong>ï¼šå°±åƒæŸ¥ç”µè¯æœ¬ã€‚è¦æŠŠ <code>api.example.com</code> å˜æˆ IP åœ°å€ã€‚å¦‚æœè¿™å—æ…¢ï¼Œè¯´æ˜ç”¨æˆ·ç¦»ä½ çš„æœåŠ¡å™¨å¤ªè¿œï¼Œè¯¥ä¸Š CDN äº†ã€‚</li>
<li><strong>TCP</strong>ï¼šå°±åƒè§é¢æ¡æ‰‹ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¾—å…ˆâ€œæ¡æ‰‹â€å»ºç«‹è¿æ¥æ‰èƒ½è¯´è¯ã€‚å¦‚æœæ˜¯ HTTPSï¼Œè¿˜å¾—å†åŠ ä¸€è½® SSL æ¡æ‰‹ï¼ˆæŸ¥èº«ä»½è¯ï¼‰ã€‚è¿™ä¸€å¥—ä¸‹æ¥ä¹Ÿå¾—è€—ä¸å°‘æ—¶é—´ã€‚</li>
</ul>
</li>
<li>
<p><strong>TransferSize (ä¼ è¾“å¤§å°) â€”â€” â€œè¿è´§é‡â€</strong></p>
<ul>
<li><strong>å¤§ç™½è¯</strong>ï¼šæ¥å£åˆ°åº•åäº†å¤šå°‘æ•°æ®ç»™ä½ ï¼Ÿ</li>
<li><strong>åœºæ™¯</strong>ï¼šæœ‰æ—¶å€™æ¥å£æ…¢ï¼Œä¸æ˜¯å› ä¸ºåç«¯æ…¢ï¼Œè€Œæ˜¯å› ä¸º<strong>æ•°æ®é‡å¤ªå¤§</strong>ã€‚æ¯”å¦‚ä¸€ä¸ªåˆ—è¡¨æ¥å£ï¼Œä¸€ä¸‹å­è¿”å›äº† 10000 æ¡æ•°æ®ï¼Œè¶³è¶³ 5MBã€‚å…‰æ˜¯ä¸‹è½½è¿™ 5MB å°±å¾—å¥½å‡ ç§’ã€‚è¿™æ—¶å€™å°±å¾—è®©åç«¯æâ€œåˆ†é¡µâ€äº†ã€‚</li>
</ul>
</li>
</ul>
<p><strong>è¸©å‘æé†’</strong></p>
<ul>
<li><strong>è·¨åŸŸæ‹¿ä¸åˆ°ç»†èŠ‚</strong>ï¼šè¿™æ˜¯æœ€å¸¸è§çš„å‘ã€‚çœ‹åˆ° DNS æ—¶é—´æ˜¯ 0 åˆ«å¥‡æ€ªï¼Œå…«æˆæ˜¯è·¨åŸŸäº†ä¸”æ²¡åŠ  <code>Timing-Allow-Origin</code> å¤´ã€‚è¿™æ˜¯æµè§ˆå™¨ä¸ºäº†ä¿æŠ¤éšç§ã€‚</li>
<li><strong>åˆ«å…¨æŠ¥</strong>ï¼šä¸€ä¸ªé¡µé¢å¯èƒ½æœ‰ä¸Šç™¾ä¸ªèµ„æºï¼Œå…¨æŠ¥ä¸Šå»æœåŠ¡å™¨å—ä¸äº†ã€‚å»ºè®®è®¾ä¸ªé—¨æ§›ï¼ˆæ¯”å¦‚åªæŠ¥ &gt; 1 ç§’çš„ï¼‰ï¼Œæˆ–è€…åªæŠ¥æ ¸å¿ƒçš„ JS/CSSã€‚</li>
<li><strong>æ¥å£ç›‘æ§</strong>ï¼šå¾ˆå¤šäººä¸çŸ¥é“ <code>fetch</code> è¯·æ±‚ä¹Ÿèƒ½åœ¨è¿™é‡ŒæŠ“åˆ°ã€‚å…¶å®ç”¨å®ƒæ¥ç›‘æ§åç«¯æ¥å£æ€§èƒ½ï¼Œæ¯”è‡ªå·±å°è£… <code>axios</code> æ‹¦æˆªå™¨è¦å‡†å¾—å¤šï¼Œå› ä¸ºå®ƒç®—çš„æ˜¯æµè§ˆå™¨åº•å±‚çš„çœŸå®æ—¶é—´ã€‚</li>
</ul>
<h3 data-id="heading-22"><strong>6. å¿…å¤‡å·¥å…·å‡½æ•°ï¼šå®šä½ç¥å™¨ (util/index.js)</strong></h3>
<p>æœ€åï¼Œæˆ‘ä»¬å¾—æœ‰ä¸ªå·¥å…·èƒ½å¸®æˆ‘ä»¬â€œæŒ‡è·¯â€ã€‚åªå‘Šè¯‰è€æ¿â€œå›¾ç‰‡æ…¢â€æ²¡ç”¨ï¼Œä½ å¾—å‘Šè¯‰ä»–æ˜¯â€œå“ªä¸ªå›¾ç‰‡æ…¢â€ã€‚</p>
<p><code>getElementSelector</code> å°±æ˜¯è¿™ä¸ªâ€œå®šä½ç¥å™¨â€ã€‚å®ƒèƒ½æŠŠä¸€ä¸ª DOM å…ƒç´ è½¬æ¢æˆ CSS é€‰æ‹©å™¨ï¼ˆæ¯”å¦‚ <code>body &gt; div#app &gt; h1</code>ï¼‰ï¼Œè®©ä½ ç›´æ¥åœ¨ä»£ç é‡Œæ‰¾åˆ°å®ƒã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/util/index.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getElementSelector</span>(<span class="hljs-params">element</span>) {
  <span class="hljs-keyword">if</span> (!element || element.<span class="hljs-property">nodeType</span> !== <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;

  <span class="hljs-comment">// å¦‚æœæœ‰ idï¼Œç›´æ¥è¿”å› #id</span>
  <span class="hljs-keyword">if</span> (element.<span class="hljs-property">id</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`#<span class="hljs-subst">${element.id}</span>`</span>;
  }

  <span class="hljs-comment">// é€’å½’å‘ä¸ŠæŸ¥æ‰¾</span>
  <span class="hljs-keyword">let</span> path = [];
  <span class="hljs-keyword">while</span> (element) {
    <span class="hljs-keyword">let</span> name = element.<span class="hljs-property">localName</span>;
    <span class="hljs-keyword">if</span> (!name) <span class="hljs-keyword">break</span>;

    <span class="hljs-comment">// å¦‚æœæœ‰ idï¼Œæ‹¼æ¥ååœæ­¢</span>
    <span class="hljs-keyword">if</span> (element.<span class="hljs-property">id</span>) {
      path.<span class="hljs-title function_">unshift</span>(<span class="hljs-string">`#<span class="hljs-subst">${element.id}</span>`</span>);
      <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-comment">// åŠ ä¸Š class</span>
    <span class="hljs-keyword">let</span> className = element.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'class'</span>);
    <span class="hljs-keyword">if</span> (className) {
      name += <span class="hljs-string">'.'</span> + className.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\s+/</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">'.'</span>);
    }

    path.<span class="hljs-title function_">unshift</span>(name);
    element = element.<span class="hljs-property">parentElement</span>;
  }

  <span class="hljs-keyword">return</span> path.<span class="hljs-title function_">join</span>(<span class="hljs-string">' &gt; '</span>);
}
</code></pre>
<h3 data-id="heading-23"><strong>7. è‡ªå®šä¹‰æŒ‡æ ‡ï¼šä»£ç ç§’è¡¨</strong></h3>
<p>é™¤äº†æµè§ˆå™¨ç»™çš„æŒ‡æ ‡ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬æƒ³çŸ¥é“<strong>æŸä¸ªå…·ä½“å‡½æ•°åˆ°åº•è·‘äº†å¤šä¹…</strong>ï¼Œæˆ–è€…<strong>æ»šåŠ¨åˆ—è¡¨å¡ä¸å¡</strong>ã€‚è¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬è‡ªå·±é€ ä¸ªâ€œç§’è¡¨â€ã€‚</p>
<h4 data-id="heading-24"><strong>(1) å‡½æ•°è€—æ—¶ç›‘æ§ (Wrapper)</strong></h4>
<p><strong>ä¸‰å¥è¯è®²æ˜ç™½</strong></p>
<ul>
<li><strong>ä¸æ”¹ä¸šåŠ¡ä»£ç </strong>ï¼šä¸ç”¨åœ¨æ¯ä¸ªå‡½æ•°é‡Œå†™ <code>start</code> å’Œ <code>end</code>ï¼Œç”¨è¿™ä¸ªâ€œé«˜é˜¶å‡½æ•°â€åŒ…ä¸€ä¸‹å°±è¡Œã€‚</li>
<li><strong>æ”¯æŒå¼‚æ­¥</strong>ï¼šä¸ç®¡æ˜¯æ™®é€šçš„ <code>for</code> å¾ªç¯ï¼Œè¿˜æ˜¯ <code>await</code> æ•°æ®åº“æŸ¥è¯¢ï¼Œéƒ½èƒ½ç›‘æ§ã€‚</li>
<li><strong>è‡ªåŠ¨æŠ“æŠ¥é”™</strong>ï¼šå¦‚æœå‡½æ•°è·‘æŒ‚äº†ï¼Œå®ƒè¿˜èƒ½é¡ºä¾¿æŠŠé”™è¯¯ä¿¡æ¯è®°ä¸‹æ¥ã€‚</li>
</ul>
<p><strong>ç›´æ¥ä¸Šä»£ç ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * åŒæ­¥å‡½æ•°è®¡æ—¶å™¨
 * ç”¨æ³•ï¼šconst newData = timeFunction('å¤„ç†æ•°æ®', processData, rawData);
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">timeFunction</span> = (<span class="hljs-params">name, fn, ...args</span>) =&gt; {
  <span class="hljs-keyword">const</span> start = performance.<span class="hljs-title function_">now</span>();
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">fn</span>(...args);
    <span class="hljs-keyword">const</span> duration = performance.<span class="hljs-title function_">now</span>() - start;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Function [<span class="hljs-subst">${name}</span>]:`</span>, duration.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">'ms'</span>);
    <span class="hljs-keyword">return</span> result;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Function [<span class="hljs-subst">${name}</span>] Error:`</span>, error);
    <span class="hljs-keyword">throw</span> error; <span class="hljs-comment">// åˆ«åæ‰é”™è¯¯ï¼Œç»§ç»­æŠ›å‡º</span>
  }
};

<span class="hljs-comment">/**
 * å¼‚æ­¥å‡½æ•°è®¡æ—¶å™¨ (Promise)
 * ç”¨æ³•ï¼šconst user = await timeAsyncFunction('è·å–ç”¨æˆ·', fetchUser, id);
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">timeAsyncFunction</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">name, fn, ...args</span>) =&gt; {
  <span class="hljs-keyword">const</span> start = performance.<span class="hljs-title function_">now</span>();
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>(...args); <span class="hljs-comment">// ç­‰å¾…å¼‚æ­¥å®Œæˆ</span>
    <span class="hljs-keyword">const</span> duration = performance.<span class="hljs-title function_">now</span>() - start;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Async Function [<span class="hljs-subst">${name}</span>]:`</span>, duration.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">'ms'</span>);
    <span class="hljs-keyword">return</span> result;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Async Function [<span class="hljs-subst">${name}</span>] Error:`</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }
};
</code></pre>
<h4 data-id="heading-25"><strong>(2) æ»šåŠ¨æµç•…åº¦ç›‘æ§</strong></h4>
<p><strong>ä¸‰å¥è¯è®²æ˜ç™½</strong></p>
<ul>
<li><strong>ä¸çœ‹å¸§ç‡çœ‹å»¶è¿Ÿ</strong>ï¼šç®— FPS å¤ªå¤æ‚ã€‚æˆ‘ä»¬å°±çœ‹æœ€æœ´ç´ çš„é“ç†ï¼š<strong>æˆ‘åˆ’äº†ä¸€ä¸‹å±å¹•ï¼Œæµè§ˆå™¨å¤šä¹…æ‰ç”»å‡ºä¸‹ä¸€å¸§ï¼Ÿ</strong></li>
<li><strong>æ­ä¾¿è½¦ (rAF)</strong>ï¼š<code>requestAnimationFrame</code> (rAF) æ˜¯æµè§ˆå™¨çš„â€œæ¸²æŸ“æœ«ç­è½¦â€ã€‚æˆ‘ä»¬åœ¨æ»šåŠ¨äº‹ä»¶é‡Œè·³ä¸Šè¿™è¶Ÿè½¦ï¼Œç­‰è½¦åˆ°ç«™äº†ï¼ˆæ¸²æŸ“å®Œæˆäº†ï¼‰ï¼Œçœ‹çœ‹è¡¨ï¼Œå°±çŸ¥é“è¿™ä¸€è·¯èŠ±äº†å¤šä¹…ã€‚</li>
<li><strong>æŠ½æŸ¥æœºåˆ¶</strong>ï¼šæ»šåŠ¨äº‹ä»¶è§¦å‘é¢‘ç‡æé«˜ï¼ˆä¸€ç§’å‡ ç™¾æ¬¡ï¼‰ã€‚æˆ‘ä»¬æ²¡å¿…è¦æ¬¡æ¬¡éƒ½æŸ¥ï¼Œæ¯éš”åŠç§’ï¼ˆ500msï¼‰æŠ½æŸ¥ä¸€æ¬¡â€œæœ«ç­è½¦â€å‡†ä¸å‡†ç‚¹å°±è¡Œäº†ã€‚</li>
</ul>
<p><strong>ç›´æ¥ä¸Šä»£ç ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/interaction/scroll.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startScroll</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> lastScrollLog = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> scrollMinInterval = <span class="hljs-number">500</span>; <span class="hljs-comment">// msï¼Œé™æµï¼Œæ¯åŠç§’æ£€æŸ¥ä¸€æ¬¡</span>

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onScroll</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> start = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-comment">// æ²¡åˆ°æ—¶é—´å°±åˆ«æŠ˜è…¾ï¼Œçœç‚¹ CPU</span>
    <span class="hljs-keyword">if</span> (start - lastScrollLog &lt; scrollMinInterval) <span class="hljs-keyword">return</span>;

    lastScrollLog = start;

    <span class="hljs-comment">// æ ¸å¿ƒé€»è¾‘ï¼šé¢„çº¦ä¸‹ä¸€å¸§æ¸²æŸ“</span>
    <span class="hljs-comment">// å°±åƒä½ å¯¹æµè§ˆå™¨è¯´ï¼šâ€œå…„å¼Ÿï¼Œç”»å®Œè¿™å¸§å«æˆ‘ä¸€å£°ã€‚â€</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> afterRAF = performance.<span class="hljs-title function_">now</span>();
      <span class="hljs-keyword">const</span> duration = afterRAF - start; <span class="hljs-comment">// è¿™ä¸€å¸§åˆ°åº•èŠ±äº†å¤šä¹…ï¼Ÿ</span>

      <span class="hljs-comment">// 16ms æ˜¯ 60Hz å±å¹•çš„æ ‡å‡†ä¸€å¸§æ—¶é—´</span>
      <span class="hljs-comment">// å¦‚æœè¶…è¿‡ 16msï¼Œè¯´æ˜æµè§ˆå™¨å¿™ä¸è¿‡æ¥äº†ï¼Œè¿™å°±å«â€œæ‰å¸§â€</span>
      <span class="hljs-keyword">if</span> (duration &gt; <span class="hljs-number">16</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Scroll Lag:'</span>, duration.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">'ms'</span>);
      }
    });
  };

  <span class="hljs-comment">// passive: true å‘Šè¯‰æµè§ˆå™¨â€œæˆ‘ä¸é˜»æ­¢æ»šåŠ¨â€ï¼Œèƒ½è®©æ»šåŠ¨æ›´ä¸æ»‘</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, onScroll, { <span class="hljs-attr">passive</span>: <span class="hljs-literal">true</span> });
}
</code></pre>
<p><strong>ä»£ç æ€ä¹ˆç†è§£ï¼Ÿ</strong></p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆè¦ç”¨ <code>requestAnimationFrame</code>ï¼Ÿ</strong>
<ul>
<li>JS æ˜¯å•çº¿ç¨‹çš„ã€‚å½“ä½ è§¦å‘ <code>scroll</code> äº‹ä»¶æ—¶ï¼Œæµè§ˆå™¨å¯èƒ½æ­£å¿™ç€å¤„ç†åˆ«çš„äº‹ï¼ˆæ¯”å¦‚é‡æ’é‡ç»˜ï¼‰ã€‚</li>
<li><code>requestAnimationFrame</code> ä¼šæŠŠä½ çš„ä»£ç æ”¾åˆ°<strong>æµè§ˆå™¨å‡†å¤‡ç”»ä¸‹ä¸€å¸§</strong>çš„æ—¶å€™æ‰§è¡Œã€‚</li>
<li>æ‰€ä»¥ï¼Œ<code>start</code> æ˜¯ä½ è§¦å‘æ»šåŠ¨çš„æ—¶é—´ï¼Œ<code>afterRAF</code> æ˜¯ç”»é¢ç»ˆäºç”»å‡ºæ¥çš„æ—¶é—´ã€‚è¿™ä¿©çš„å·®å€¼ (<code>duration</code>) è¶Šå¤§ï¼Œè¯´æ˜æµè§ˆå™¨å¡å¾—è¶Šä¹…ï¼Œä½ æ„Ÿè§‰åˆ°çš„â€œé¡¿æŒ«æ„Ÿâ€å°±è¶Šå¼ºã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-26">8. æ•°æ®ä¸ŠæŠ¥ï¼ˆsender.tsï¼‰</h3>
<p>æ”¶é›†åˆ°æ•°æ®åï¼Œå¦‚ä½•å‘ç»™åç«¯ï¼Ÿè¿™çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™æš—è—ç„æœºã€‚</p>
<h4 data-id="heading-27">1. æ ¸å¿ƒç—›ç‚¹ï¼šé¡µé¢å…³äº†ï¼Œè¯·æ±‚è¿˜æ²¡å‘å®Œæ€ä¹ˆåŠï¼Ÿ</h4>
<p>ç”¨æˆ·çœ‹å®Œç½‘é¡µç›´æ¥å…³æ‰ï¼ˆæˆ–è€…åˆ·æ–°è·³è½¬ï¼‰ï¼Œè¿™æ—¶å€™æµè§ˆå™¨ä¼šæ— æƒ…åœ°æ€æ‰å½“å‰é¡µé¢è¿›ç¨‹é‡Œæ‰€æœ‰æ­£åœ¨è·‘çš„å¼‚æ­¥è¯·æ±‚ï¼ˆXHR/Fetchï¼‰ã€‚</p>
<p>ç»“æœå°±æ˜¯ï¼š<strong>ç›‘æ§æ•°æ®è¿˜æ²¡å‘å‡ºå»ï¼Œå°±æ­»åœ¨åŠè·¯ä¸Šäº†ã€‚</strong></p>
<h4 data-id="heading-28">2. è§£å†³æ–¹æ¡ˆ</h4>
<p>ä¸ºäº†ç¡®ä¿æ•°æ®å¿…è¾¾ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸€å¥—ç»„åˆæ‹³ï¼š</p>
<ol>
<li>
<p><strong>é¦–é€‰</strong> <strong>Navigator.sendBeacon</strong>ï¼š</p>
<p>å®ƒæ˜¯ä¸“é—¨ä¸ºâ€œé¡µé¢å¸è½½ä¸ŠæŠ¥â€è®¾è®¡çš„ã€‚</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼šæµè§ˆå™¨ä¼šåœ¨åå°é»˜é»˜æŠŠæ•°æ®å‘å®Œï¼Œä¸é˜»å¡é¡µé¢å…³é—­ï¼Œä¹Ÿä¸ä¼šè¢«æ€æ‰ã€‚</p>
</li>
<li>
<p><strong>æ¬¡é€‰</strong> <strong>fetch</strong> <strong>+</strong> <strong>keepalive</strong>ï¼š</p>
<p>å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ Beaconï¼Œæˆ–è€…ä½ éœ€è¦è‡ªå®šä¹‰ Headerï¼ˆBeacon ä¸æ”¯æŒè‡ªå®šä¹‰ Headerï¼‰ï¼Œå°±ç”¨ <strong>fetch</strong> å¹¶å¼€å¯ <strong>keepalive: true</strong>ã€‚</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼šå‘Šè¯‰æµè§ˆå™¨â€œè¿™ä¸ªè¯·æ±‚å¾ˆé‡è¦ï¼Œé¡µé¢å…³äº†ä¹Ÿè¯·å¸®æˆ‘å‘å®Œâ€ã€‚</p>
</li>
</ol>
<h4 data-id="heading-29">3. ä»£ç å®ç°</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendBehaviorData</span> = (<span class="hljs-params">data: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;, url: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-comment">// 1. åŒ…è£…æ•°æ®ï¼šåŠ ä¸Šä¸€äº›å…¬å…±ä¿¡æ¯ï¼ˆæ¯”å¦‚ UserAgentï¼Œå±å¹•åˆ†è¾¨ç‡ç­‰ï¼‰</span>
  <span class="hljs-keyword">const</span> dataToSend = {
    ...data,
    <span class="hljs-attr">userAgent</span>: navigator.<span class="hljs-property">userAgent</span>,
    <span class="hljs-comment">// screenWidth: window.screen.width, // å¯é€‰</span>
  };

  <span class="hljs-comment">// 2. ä¼˜å…ˆä½¿ç”¨ sendBeacon (æœ€ç¨³ï¼Œä¸”ä¸é˜»å¡)</span>
  <span class="hljs-comment">// æ³¨æ„ï¼šsendBeacon ä¸æ”¯æŒè‡ªå®šä¹‰ Content-Typeï¼Œé»˜è®¤æ˜¯ text/plain</span>
  <span class="hljs-comment">// è¿™é‡Œç”¨ Blob å¼ºåˆ¶æŒ‡å®šä¸º application/json</span>
  <span class="hljs-keyword">if</span> (navigator.<span class="hljs-property">sendBeacon</span>) {
    <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(dataToSend)], {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'application/json'</span>,
    });

    <span class="hljs-comment">// sendBeacon è¿”å› true è¡¨ç¤ºè¿›å…¥é˜Ÿåˆ—æˆåŠŸ</span>
    navigator.<span class="hljs-title function_">sendBeacon</span>(url, blob);

    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// 3. é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨ fetch + keepalive</span>
  <span class="hljs-comment">// å³ä½¿é¡µé¢å…³é—­ï¼Œkeepalive ä¹Ÿèƒ½ä¿è¯è¯·æ±‚å‘å‡º</span>
  <span class="hljs-title function_">fetch</span>(url, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(dataToSend),
    <span class="hljs-attr">keepalive</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// &lt;--- å…³é”®å‚æ•°ï¼é˜²æ­¢é¡µé¢å…³é—­æ—¶è¯·æ±‚è¢«æ€</span>
  }).<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä¸ŠæŠ¥å¤±è´¥:'</span>, err);
  });
};
</code></pre>
<hr/>
<h2 data-id="heading-30">3. å·¥ç¨‹åŒ–æ„å»ºé…ç½®</h2>
<p>æ—¢ç„¶æ˜¯ SDKï¼Œæœ€å¥½çš„åˆ†å‘æ–¹å¼å½“ç„¶æ˜¯å‘å¸ƒåˆ° NPMã€‚è¿™æ ·å…¶ä»–é¡¹ç›®åªéœ€è¦ä¸€è¡Œå‘½ä»¤å°±èƒ½æ¥å…¥ä½ çš„å‰ç«¯é”™è¯¯ç›‘æ§ç³»ç»Ÿã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹© <strong>Rollup</strong>å¯¹ä»£ç è¿›è¡Œæ‰“åŒ…ï¼Œå› ä¸ºå®ƒæ¯” Webpack æ›´é€‚åˆæ‰“åŒ…åº“ï¼ˆLibraryï¼‰ï¼Œç”Ÿæˆçš„ä»£ç æ›´ç®€æ´ã€‚</p>
<h3 data-id="heading-31">3.1 package é…ç½® (<code>package.json</code>)</h3>
<p><code>package.json</code> ä¸ä»…ä»…æ˜¯ä¾èµ–ç®¡ç†ï¼Œå®ƒè¿˜å®šä¹‰äº†ä½ çš„åŒ…å¦‚ä½•è¢«å¤–éƒ¨ä½¿ç”¨ã€‚é…ç½®ä¸å½“ä¼šå¯¼è‡´ç”¨æˆ·å¼•å…¥æŠ¥é”™æˆ–æ— æ³•è·å¾—ä»£ç æç¤ºã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"performance-sdk"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A lightweight performance monitoring SDK"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/index.cjs.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/index.esm.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"browser"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/index.umd.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rollup -c"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rollup -c -w"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"keywords"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"performance"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"monitor"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"sdk"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"license"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MIT"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"dist"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"rollup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.9.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@rollup/plugin-typescript"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^11.1.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@rollup/plugin-terser"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.4.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"typescript"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.3.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tslib"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.6.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ğŸ’¡ å…³é”®å­—æ®µè§£è¯»ï¼š</strong></p>
<ul>
<li><strong><code>name</code></strong>: åŒ…çš„â€œèº«ä»½è¯å·â€ã€‚åœ¨ NPM å…¨çƒèŒƒå›´å†…å¿…é¡»å”¯ä¸€ï¼Œå‘å¸ƒå‰è®°å¾—å…ˆå»æœä¸€ä¸‹æœ‰æ²¡æœ‰é‡åã€‚</li>
<li><strong>å…¥å£æ–‡ä»¶â€œä¸‰å‰‘å®¢â€</strong>ï¼ˆå†³å®šäº†åˆ«äººæ€ä¹ˆå¼•ç”¨ä½ çš„åŒ…ï¼‰ï¼š
<ul>
<li><strong><code>main</code></strong>: <strong>CommonJS å…¥å£</strong>ã€‚ç»™ Node.js ç¯å¢ƒæˆ–è€æ—§æ„å»ºå·¥å…·ï¼ˆå¦‚ Webpack 4ï¼‰ä½¿ç”¨çš„ã€‚</li>
<li><strong><code>module</code></strong>: <strong>ESM å…¥å£</strong>ã€‚ç»™ç°ä»£æ„å»ºå·¥å…·ï¼ˆVite, Webpack 5ï¼‰ä½¿ç”¨çš„ã€‚æ”¯æŒ Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰ï¼Œèƒ½å‡å°ä½“ç§¯ã€‚</li>
<li><strong><code>browser</code></strong>: <strong>UMD å…¥å£</strong>ã€‚ç»™æµè§ˆå™¨ç›´æ¥é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾å¼•å…¥ä½¿ç”¨çš„ï¼ˆå¦‚ CDNï¼‰ã€‚</li>
</ul>
</li>
<li><strong><code>files</code></strong>: <strong>å‘å¸ƒç™½åå•</strong>ã€‚æŒ‡å®š <code>npm publish</code> æ—¶åªä¸Šä¼ å“ªäº›æ–‡ä»¶ï¼ˆè¿™é‡Œæˆ‘ä»¬åªä¼ ç¼–è¯‘åçš„ <code>dist</code> ç›®å½•ï¼‰ã€‚æºç ã€æµ‹è¯•ä»£ç ç­‰ä¸éœ€è¦å‘ä¸Šå»ï¼Œä»¥å‡å°åŒ…ä½“ç§¯ã€‚</li>
</ul>
<h3 data-id="heading-32">3.2 TypeScript é…ç½® (<code>tsconfig.json</code>)</h3>
<p>æˆ‘ä»¬éœ€è¦é…ç½® TypeScript å¦‚ä½•ç¼–è¯‘ä»£ç ï¼Œå¹¶ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶ï¼ˆ<code>.d.ts</code>ï¼‰ï¼Œè¿™å¯¹ä½¿ç”¨ TS çš„ç”¨æˆ·éå¸¸å‹å¥½ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"es5"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç¼–è¯‘æˆ ES5ï¼Œå…¼å®¹æ—§æµè§ˆå™¨</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esnext"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä¿ç•™ ES æ¨¡å—è¯­æ³•ï¼Œäº¤ç»™ Rollup å¤„ç†</span>
    <span class="hljs-attr">"declaration"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç”Ÿæˆ .d.ts ç±»å‹æ–‡ä»¶ (å…³é”®ï¼)</span>
    <span class="hljs-attr">"declarationDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹æ–‡ä»¶è¾“å‡ºç›®å½•</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œä»£ç æ›´å¥å£®</span>
    <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span> <span class="hljs-comment">// æŒ‰ Node æ–¹å¼è§£ææ¨¡å—</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/**/*"</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// ç¼–è¯‘ src ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-33">3.3 Rollup æ‰“åŒ…é…ç½® (<code>rollup.config.js</code>)</h3>
<p>ä¸ºäº†å…¼å®¹å„ç§ä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬é…ç½® Rollup è¾“å‡ºä¸‰ç§æ ¼å¼ï¼š</p>
<ol>
<li><strong>ESM (<code>.esm.js</code>)</strong>: ç»™ç°ä»£æ„å»ºå·¥å…·ï¼ˆVite, Webpackï¼‰ä½¿ç”¨ï¼Œæ”¯æŒ Tree Shakingã€‚</li>
<li><strong>CJS (<code>.cjs.js</code>)</strong>: ç»™ Node.js æˆ–æ—§ç‰ˆå·¥å…·ä½¿ç”¨ã€‚</li>
<li><strong>UMD (<code>.umd.js</code>)</strong>: å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾å¼•å…¥ï¼Œä¼šæŒ‚è½½å…¨å±€å˜é‡ã€‚</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> typescript <span class="hljs-keyword">from</span> <span class="hljs-string">'@rollup/plugin-typescript'</span>;
<span class="hljs-keyword">import</span> terser <span class="hljs-keyword">from</span> <span class="hljs-string">'@rollup/plugin-terser'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">input</span>: <span class="hljs-string">'src/index.ts'</span>,
  <span class="hljs-attr">output</span>: [
    { <span class="hljs-attr">file</span>: <span class="hljs-string">'dist/index.cjs.js'</span>, <span class="hljs-attr">format</span>: <span class="hljs-string">'cjs'</span>, <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">true</span> },
    { <span class="hljs-attr">file</span>: <span class="hljs-string">'dist/index.esm.js'</span>, <span class="hljs-attr">format</span>: <span class="hljs-string">'es'</span>, <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">true</span> },
    {
      <span class="hljs-attr">file</span>: <span class="hljs-string">'dist/index.umd.js'</span>,
      <span class="hljs-attr">format</span>: <span class="hljs-string">'umd'</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-string">'PerformanceSDK'</span>,
      <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">terser</span>()],
    },
  ],
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">typescript</span>({
      <span class="hljs-attr">tsconfig</span>: <span class="hljs-string">'./tsconfig.json'</span>,
      <span class="hljs-attr">declaration</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">declarationDir</span>: <span class="hljs-string">'dist'</span>,
    }),
  ],
};
</code></pre>
<h2 data-id="heading-34">4. å‘å¸ƒåˆ° NPM (ä¿å§†çº§æ•™ç¨‹)</h2>
<h3 data-id="heading-35">4.1 å‡†å¤‡å·¥ä½œ</h3>
<ol>
<li><strong>æ³¨å†Œè´¦å·</strong>ï¼šå» <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2F" target="_blank" title="https://www.npmjs.com/" ref="nofollow noopener noreferrer">npmjs.com</a> æ³¨å†Œä¸€ä¸ªè´¦å·ï¼ˆè®°å¾—éªŒè¯é‚®ç®±ï¼Œå¦åˆ™æ— æ³•å‘å¸ƒï¼‰ã€‚</li>
<li><strong>æ£€æŸ¥åŒ…å</strong>ï¼šåœ¨ NPM æœä¸€ä¸‹ä½ çš„ <code>package.json</code> é‡Œçš„ <code>name</code>ï¼Œç¡®ä¿æ²¡æœ‰è¢«å ç”¨ã€‚å¦‚æœä¸å¹¸é‡åï¼Œæ”¹ä¸ªç‹¬ç‰¹çš„åå­—ï¼Œæ¯”å¦‚ <code>performance-sdk-vip</code>ã€‚</li>
</ol>
<h3 data-id="heading-36">4.2 ç»ˆç«¯æ“ä½œä¸‰æ­¥èµ°</h3>
<p>æ‰“å¼€ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ“ä½œï¼š</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šç™»å½• NPM</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm login
</code></pre>
<ul>
<li>è¾“å…¥å‘½ä»¤åæŒ‰å›è½¦ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºç™»å½•é¡µé¢ã€‚</li>
<li>æˆ–è€…åœ¨ç»ˆç«¯æ ¹æ®æç¤ºè¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±éªŒè¯ç ã€‚</li>
<li>ç™»å½•æˆåŠŸåä¼šæ˜¾ç¤º <code>Logged in as &lt;your-username&gt;</code>.</li>
<li><em>æ³¨æ„ï¼šå¦‚æœä½ ä¹‹å‰åˆ‡æ¢è¿‡æ·˜å®æºï¼Œå‘å¸ƒæ—¶å¿…é¡»åˆ‡å›å®˜æ–¹æºï¼š<code>npm config set registry https://registry.npmjs.org/</code></em></li>
</ul>
<p><strong>ç¬¬äºŒæ­¥ï¼šæ‰“åŒ…ä»£ç </strong></p>
<p>ç¡®ä¿ <code>dist</code> ç›®å½•æ˜¯æœ€æ–°çš„ï¼Œä¸è¦å‘å¸ƒç©ºä»£ç ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">npm run build
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šæ­£å¼å‘å¸ƒ</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm publish --access public
</code></pre>
<ul>
<li><code>--access public</code> å‚æ•°ç”¨äºç¡®ä¿å‘å¸ƒçš„åŒ…æ˜¯å…¬å¼€çš„ï¼ˆç‰¹åˆ«æ˜¯å½“åŒ…åå¸¦ <code>@</code> å‰ç¼€æ—¶ï¼‰ã€‚</li>
<li>çœ‹åˆ° <code>+ performance-sdk-vip@1.0.0</code> å­—æ ·ï¼Œæ­å–œä½ ï¼Œå‘å¸ƒæˆåŠŸï¼</li>
</ul>
<p>ç°åœ¨ï¼Œå…¨ä¸–ç•Œçš„å¼€å‘è€…éƒ½å¯ä»¥é€šè¿‡ <code>npm install performance-sdk-vip</code> æ¥ä½¿ç”¨ä½ çš„ä½œå“äº†ï¼</p>
<h2 data-id="heading-37">5. å¦‚ä½•ä½¿ç”¨</h2>
<p>SDK å‘å¸ƒåï¼Œæ”¯æŒå¤šç§å¼•å…¥æ–¹å¼ï¼Œé€‚é…å„ç§å¼€å‘åœºæ™¯ã€‚</p>
<ul>
<li>NPM + ES Modulesï¼ˆæ¨èï¼‰</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">npm install performance-sdk
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PerformanceMonitor</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'performance-sdk'</span>;

<span class="hljs-keyword">const</span> monitor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceMonitor</span>({
  <span class="hljs-comment">/* å¯é€‰ï¼šlog, sampleRate, reportUrl */</span>
});
monitor.<span class="hljs-title function_">init</span>();
</code></pre>
<ul>
<li>CDN ç›´æ¥å¼•å…¥ï¼ˆUMDï¼‰</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/performance-sdk@x.x.x/dist/index.umd.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> monitor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceSDK</span>.<span class="hljs-title class_">PerformanceMonitor</span>({
    <span class="hljs-comment">/* å¯é€‰é…ç½® */</span>
  });
  monitor.<span class="hljs-title function_">init</span>();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-38">6. æ€»ç»“ä¸å±•æœ›</h2>
<p>æ­å–œä½ ï¼åˆ°è¿™é‡Œï¼Œä½ å·²ç»äº²æ‰‹æ‰“é€ äº†ä¸€å¥—<strong>éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨</strong>çš„æ€§èƒ½ç›‘æ§ SDKã€‚</p>
<p>å’±ä»¬å†å›å¤´çœ‹çœ‹è¿™å››å¤§æ”¯æŸ±ï¼š</p>
<ol>
<li><strong>Loading (åŠ è½½)</strong>ï¼šFP/FCP/LCP è´Ÿè´£ç›¯ç€**â€œå¿«ä¸å¿«â€**ã€‚ç™½å±æ—¶é—´çŸ­ï¼Œç”¨æˆ·æ‰æ„¿æ„ç•™ä¸‹æ¥ã€‚</li>
<li><strong>Interaction (äº¤äº’)</strong>ï¼šFID/INP è´Ÿè´£ç›¯ç€**â€œé¡ºä¸é¡ºâ€**ã€‚ç‚¹å‡»æœ‰åé¦ˆï¼Œç”¨æˆ·æ‰è§‰å¾—å¥½ç”¨ã€‚</li>
<li><strong>Visual Stability (ç¨³å®šæ€§)</strong>ï¼šCLS è´Ÿè´£ç›¯ç€**â€œç¨³ä¸ç¨³â€**ã€‚é¡µé¢ä¸ä¹±è·³ï¼Œç”¨æˆ·æ‰ä¸å¿ƒçƒ¦ã€‚</li>
<li><strong>Network (ç½‘ç»œ)</strong>ï¼šResource Timing è´Ÿè´£ç›¯ç€**â€œé€šä¸é€šâ€**ã€‚æ¥å£å“åº”å¿«ï¼Œä½“éªŒæ‰æœ‰åº•æ°”ã€‚</li>
</ol>
<p><strong>ä¸‹ä¸€æ­¥å¯ä»¥ç©ç‚¹å•¥ï¼Ÿ</strong></p>
<p>æ€§èƒ½ç›‘æ§åªæ˜¯å‰ç«¯ç›‘æ§ä½“ç³»çš„<strong>ä¸‰åˆ†ä¹‹ä¸€</strong>ã€‚å¦‚æœä½ æƒ³æ‰“é€ ä¸€ä¸ªæ— æ­»è§’çš„ç›‘æ§ç³»ç»Ÿï¼Œå…‰çœ‹æ€§èƒ½æ˜¯ä¸å¤Ÿçš„ï¼š</p>
<ul>
<li><strong>æŠ¥é”™äº†å’‹åŠï¼Ÿ</strong> JS æŒ‚äº†ã€æ¥å£ 500 äº†ã€èµ„æºåŠ è½½å¤±è´¥äº†â€¦â€¦è¿™äº›éœ€è¦<strong>é”™è¯¯ç›‘æ§</strong>æ¥å…œåº•ã€‚</li>
</ul>
<p>ğŸ‘‰ ä¼ é€é—¨ï¼š
<a href="https://juejin.cn/post/7580674010837549102" target="_blank" title="https://juejin.cn/post/7580674010837549102">ã€Šã€é”™è¯¯ç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯é”™è¯¯ç›‘æ§ SDKã€‹ï¼ˆhttps://juejin.cn/post/7580674010837549102ï¼‰</a></p>
<ul>
<li><strong>ç”¨æˆ·åœ¨å¹²å•¥ï¼Ÿ</strong> ç”¨æˆ·ç‚¹äº†å“ªä¸ªæŒ‰é’®ï¼Ÿåœ¨å“ªä¸ªé¡µé¢åœç•™æœ€ä¹…ï¼Ÿè¿™äº›éœ€è¦<strong>è¡Œä¸ºç›‘æ§</strong>æ¥åˆ†æã€‚</li>
</ul>
<p>ğŸ‘‰ ä¼ é€é—¨ï¼š<a href="https://juejin.cn/post/7583612559443279923" target="_blank" title="https://juejin.cn/post/7583612559443279923">ã€Šã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDKã€‹ï¼ˆhttps://juejin.cn/post/7583612559443279923ï¼‰</a></p>
<p>å½“ç„¶ï¼Œä½ è¿˜å¯ä»¥ç»“åˆï¼š</p>
<ul>
<li><strong>å¯è§†åŒ–å¤§å±</strong>ï¼šå…‰æœ‰æ•°æ®ä¸è¡Œï¼Œå¾—ç”»æˆå›¾è¡¨ï¼ˆECharts/Grafanaï¼‰ã€‚çœ‹ç€æ›²çº¿æ³¢åŠ¨ï¼Œæ‰æœ‰æˆå°±æ„Ÿã€‚</li>
<li><strong>æŠ¥è­¦æœºå™¨äºº</strong>ï¼šLCP è¶…è¿‡ 4 ç§’äº†ï¼Ÿæ¥å£æŠ¥é”™ç‡é£™å‡äº†ï¼Ÿç›´æ¥é’‰é’‰/é£ä¹¦ç¾¤é‡Œ @ å…¨ä½“æˆå‘˜ï¼ŒæŠŠé—®é¢˜æ‰¼æ€åœ¨æ‘‡ç¯®é‡Œã€‚</li>
</ul>
<p>æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€åœº<strong>æ²¡æœ‰ç»ˆç‚¹çš„é©¬æ‹‰æ¾</strong>ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½æ˜¯ä½ æ‰“é€ ä¸“å±ç›‘æ§ç³»ç»Ÿçš„èµ·ç‚¹ã€‚<strong>Happy Coding!</strong></p>
<blockquote>
<p>å¦‚æœè§‰å¾—å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿<strong>ç‚¹èµ</strong>ğŸ‘ <strong>æ”¶è—</strong> â­ <strong>å…³æ³¨</strong> ğŸ”” æ”¯æŒä¸€ä¸‹ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ çŸ¥é“ä¸‰å›½å¿—æˆ˜ç•¥ç‰ˆæ˜¯æ€ä¹ˆå®ç°æ¨ªç«–å±åŠ¨æ€åˆ‡æ¢çš„å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586506307727556618</link>    <guid>https://juejin.cn/post/7586506307727556618</guid>    <pubDate>2025-12-23T00:39:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586506307727556618" data-draft-id="7586504691846103049" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ çŸ¥é“ä¸‰å›½å¿—æˆ˜ç•¥ç‰ˆæ˜¯æ€ä¹ˆå®ç°æ¨ªç«–å±åŠ¨æ€åˆ‡æ¢çš„å—ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-23T00:39:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¿å…ƒç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1972988307323236"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ çŸ¥é“ä¸‰å›½å¿—æˆ˜ç•¥ç‰ˆæ˜¯æ€ä¹ˆå®ç°æ¨ªç«–å±åŠ¨æ€åˆ‡æ¢çš„å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972988307323236/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¿å…ƒç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T00:39:25.000Z" title="Tue Dec 23 2025 00:39:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p><strong>å“ˆå–½å¤§å®¶å¥½</strong>ï¼Œæˆ‘æ˜¯äº¿å…ƒç¨‹åºå‘˜ã€‚</p>
<p><strong>è¯´å®è¯æˆ‘ä¹Ÿä¸çŸ¥é“ä¸‰å›½å¿—æˆ˜ç•¥ç‰ˆæ˜¯æ€ä¹ˆå®ç°æ¨ªç«–å±åŠ¨æ€åˆ‡æ¢çš„ã€‚</strong></p>
<p><strong>ä½†æ˜¯</strong>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹å®ƒçš„æºç æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
<p><strong>ä»€ä¹ˆï¼Ÿæ²¡æœ‰æºç ï¼Ÿ</strong></p>
<p><strong>è¨€å½’æ­£ä¼ </strong>ï¼Œä»Šå¤©å°ä¼™ä¼´ä»¬è·Ÿéšç¬”è€…ï¼Œä¸€èµ·æ¥çœ‹ä¸‹å¦‚ä½•åœ¨<strong>Cocosæ¸¸æˆå¼€å‘ä¸­å®ç°æ¨ªç«–å±åŠ¨æ€åˆ‡æ¢ï¼</strong></p>
<h2 data-id="heading-1">1. æ‹†è§£åˆ†æä¸€ä¸‹</h2>
<p>**ã€Šå­™å­å…µæ³•ã€‹**è¯´å¾—å¥½ï¼Œâ€œçŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ˜ä¸æ®†â€ã€‚</p>
<p><strong>è™½ç„¶</strong>æˆ‘ä»¬æ²¡æœ‰ä¸‰å›½å¿—æˆ˜ç•¥ç‰ˆçš„æºç ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¸¸æˆåˆ†ææ¨æµ‹ä¸€ä¸‹ä¸‰å›½å¿—æˆ˜ç•¥ç‰ˆæ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
<h3 data-id="heading-2">1.æ¨ªç«–å±åŒä¸€å¥—UIå’Œä»£ç </h3>
<p><strong>æˆ‘ä»¬å…ˆçœ‹çœ‹</strong>å½•å±ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fda3b9e0fcc4e679519ba155363ac13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=pMO10Gtp6ue9Jm5Fd%2FmzFhJDJHU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>ä»å½•å±</strong>å½“ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡è‚‰çœ¼çœ‹å‡ºï¼Œåƒè¿™æ ·ç®€å•çš„ä¸€ä¸ªæç¤ºå¼¹æ¡†ï¼Œåœ¨æ¨ªç«–å±ä¸­çš„å°ºå¯¸æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤çŒœæµ‹æ˜¯ä½¿ç”¨çš„æ˜¯åŒä¸€å¥—<code>UI</code>ã€‚</p>
<p>**ä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆç¡®å®šï¼Ÿ**å› ä¸ºæˆ‘æ˜¯ç”¨å°ºå­é‡å‡ºæ¥çš„ï¼Œä¸‹é¢æ˜¯ç«–å±çŠ¶æ€ä¸‹çš„<code>UI</code>å°ºå¯¸ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45c59c3db724402abf155a89775b53dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=m8K9UbNDg450e0DsvvtKcCyMAyA%3D" alt="" loading="lazy"/></p>
<p><strong>è€Œä¸‹é¢</strong>æ˜¯æ¨ªå±çŠ¶æ€ä¸‹çš„<code>UI</code>å°ºå¯¸ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/577fbd10879345eaa6ded5fba907808c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=9IDdAx1Z7gJA0z9tKGIeIS7x4uA%3D" alt="" loading="lazy"/></p>
<p><strong>é€šè¿‡ä¸Šé¢çš„å¯¹æ¯”</strong>ï¼Œ<code>UI</code>å°ºå¯¸æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ¨æ–­ï¼Œå®ƒä»¬ä½¿ç”¨çš„æ˜¯åŒä¸€å¥—<code>UI</code>ã€‚</p>
<p><strong>ä½¿ç”¨åŒä¸€å¥—UI</strong>æ˜¯æœ€ç†æƒ³çš„çŠ¶æ€ï¼Œæˆ‘ä»¬ä¸éœ€è¦åšé¢å¤–çš„å¤„ç†ï¼Œå³å¯åœ¨æ¨ªç«–å±ä¸‹ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-3">2.æ¨ªç«–å±ä½¿ç”¨ä¸¤å¥—UIï¼Œä¸€å¥—ä»£ç </h3>
<p><strong>è¿˜æ˜¯</strong>å…ˆçœ‹çœ‹å½•å±ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ceb62d456bd846c4b44856785668e286~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=WTQJ%2BfQodkDe10SIL0jCVhDB9R8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>é¦–å…ˆæ˜¯</strong>ç«–å±çŠ¶æ€ä¸‹ï¼š</p>
<ul>
<li><strong>å¡ç‰Œå¸ƒå±€</strong>ï¼šå‚ç›´çš„<strong>Scrollview</strong>, é™åˆ¶åˆ—æ•°ä¸º<strong>3</strong>ã€‚</li>
<li><strong>è¿”å›æŒ‰é’®</strong>ï¼šåœ¨å·¦ä¸‹æ–¹ã€‚</li>
<li><strong>æŸ¥è¯¢æ¨¡å—</strong>ï¼šä¸è¿”å›æŒ‰é’®åœ¨åŒä¸€è¡Œã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a76a52fac5714038a8a4321409c924ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=qHu3Vcb5XgM3NOqjFeaitqLVHz4%3D" alt="" loading="lazy"/></p>
<p><strong>æ¥ç€æ˜¯</strong>æ¨ªå±çŠ¶æ€ä¸‹ï¼š</p>
<ul>
<li><strong>å¡ç‰Œå¸ƒå±€</strong>ï¼šå‚ç›´çš„<strong>Scrollview</strong>, é™åˆ¶åˆ—æ•°ä¸º<strong>6</strong>ã€‚</li>
<li><strong>è¿”å›æŒ‰é’®</strong>ï¼šåœ¨å³ä¸Šæ–¹ã€‚</li>
<li><strong>æŸ¥è¯¢æ¨¡å—</strong>ï¼šä¸åŠŸèƒ½æŒ‰é’®åœ¨åŒä¸€è¡Œã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28852b3097fb46abb1d09da813daebae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=YldhR0wk6kQs54PzGOk3VV7Qm%2FA%3D" alt="" loading="lazy"/></p>
<p><strong>é€šè¿‡</strong>ä¸Šè¿°çš„ç®€å•å¯¹æ¯”ï¼Œç¬”è€…æ¨æµ‹æ˜¯ä½¿ç”¨äº†ä¸¤å¥—ä¸åŒçš„<code>UI</code>ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ˜¯åŒä¸€å¥—ï¼Œä¸‹é¢ä¼šè®²åˆ°ã€‚</p>
<p><strong>å¦‚æœ</strong>ä½¿ç”¨çš„æ˜¯ä¸¤å¥—<code>UI</code>ï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶ç»´æŠ¤çš„ä¸œè¥¿å°±æ¯”è¾ƒå¤šäº†ã€‚ä¾‹å¦‚ä¿®æ”¹å¸ƒå±€æˆ–è€…ä¿®æ”¹åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶å¤„ç†æ¨ªç«–å±çš„ç•Œé¢ï¼Œéœ€è¦çš„äººåŠ›ç‰©åŠ›å°±ä¼šæˆå€å¢åŠ ã€‚</p>
<p><strong>ä½†æ˜¯</strong>é€šè¿‡æˆ‘ä»¬å¯¹å‚å•†çš„åˆ¤æ–­ï¼Œè¿™æ˜¯éå¸¸å¯èƒ½çš„ã€‚ç»´æŠ¤å¤šå¥—<code>UI</code>å’Œä»£ç æœ€ä¸»è¦è¦è§£å†³è§„èŒƒå’Œäººå‘˜é—®é¢˜ï¼Œè¦ä¿è¯åŒæ—¶ä¿®æ”¹ï¼Œäº’ä¸å½±å“ã€‚</p>
<h3 data-id="heading-4">3.æ¨ªç«–å±ä½¿ç”¨åŒå¥—UIï¼Œä»£ç é€‚é…</h3>
<p><strong>ä¾æ—§æ˜¯</strong>å…ˆçœ‹çœ‹å½•å±ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c67e20c700c4c87bdad50f4c26c7d09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=eszLEfBhGEGxTskbXBCZL%2BnxP5g%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>ç«–å±</strong>çŠ¶æ€ä¸‹ï¼Œæ´»åŠ¨å›¾æ ‡æ˜¯<strong>2è¡Œ</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fa419b685b04c99a9bf288073eccfe4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=ylZ7BrvsMsfrNS9fTRa3w0Sj2Ck%3D" alt="" loading="lazy"/></p>
<p><strong>æ¨ªå±</strong>çŠ¶æ€ä¸‹ï¼Œæ´»åŠ¨å›¾æ ‡æ˜¯<strong>1è¡Œ</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2f3fb123ee14684a2447b92596b3111~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=GxoHTCkrT14It408n07tR6XSKAM%3D" alt="" loading="lazy"/></p>
<p><strong>åƒ</strong>è¿™ç§ï¼Œ<code>UI</code>å¸ƒå±€åªæœ‰ä¸€ç‚¹ç‚¹ä¸åŒï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡‡ç”¨åŒä¸€å¥—<code>UI</code>ï¼ŒæŠŠä¸åŒçš„éƒ¨åˆ†ï¼Œé€šè¿‡ä»£ç æ ¹æ®æ¨ªç«–å±åˆ¤æ–­ï¼Œè®¾ç½®ä¸åŒçš„å‚æ•°ï¼Œè¿›è¡ŒåŒºåˆ†ã€‚</p>
<p><strong>ç»¼åˆ</strong>ä¸Šé¢ä¸‰ç§æƒ…å†µï¼Œæœ€ç†æƒ³çš„é¡ºåºæ˜¯å…ˆè€ƒè™‘é‡‡ç”¨åŒä¸€å¥—<code>UI</code>å’Œä»£ç ã€‚å…¶æ¬¡æ˜¯åŒä¸€å¥—<code>UI</code>ï¼Œä»£ç å»é€‚é…ä¸åŒçš„å¸ƒå±€ã€‚æœ€åä¸‡ä¸å¾—å·²æ‰é‡‡ç”¨ä¸åŒçš„<code>UI</code>å’Œä¸€å¥—/ä¸¤å¥—ä»£ç ã€‚</p>
<h2 data-id="heading-5">2.å®æˆ˜ä¸€ä¸‹</h2>
<p><strong>æƒ³è¦</strong>åœ¨<code>Cocos</code>æ¸¸æˆå¼€å‘ä¸­å®ç°æ¨ªç«–å±åŠ¨æ€åˆ‡æ¢,æœ€å…³é”®çš„æ­¥éª¤å°±æ˜¯è¦èƒ½çŸ¥é“å½“å‰æ˜¯æ¨ªå±è¿˜æ˜¯ç«–å±ï¼Œä»¥åŠæ¨ªç«–å±åˆ‡æ¢çš„æ—¶æœºã€‚</p>
<p><strong>ä¸‹é¢</strong>å’Œç¬”è€…ä¸€èµ·æ¥å®æˆ˜ä¸€ä¸‹ã€‚</p>
<p><strong>å¼•æ“ç‰ˆæœ¬</strong>ï¼š<code>Cocoscreator 3.8.7</code></p>
<p><strong>ç¼–ç¨‹è¯­è¨€</strong>ï¼š<code>TypeScript</code></p>
<h3 data-id="heading-6">1.èµ„æºå‡†å¤‡</h3>
<p><strong>ä¸ºäº†</strong>æ›´å¥½çš„èŠ‚ç›®æ•ˆæœï¼Œæˆ‘ä»¬â€œå€Ÿç”¨â€(æ‰£)ä¸€ä¸‹èµ„æºï¼Œä»…åšå­¦ä¹ å’Œäº¤æµã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e89b5c6057aa4a1db97ec8b4abaa2c4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=BTxpUUZASo6NzS1ygceaSrFY2bQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">2.UIå‡†å¤‡</h3>
<p><strong>æŠŠèµ„æº</strong>æ‹¼å‡‘æˆç•Œé¢ï¼Œå…¶ä¸­å¦‚æœéœ€è¦ä¸¤å¥—<code>UI</code>çš„ï¼Œåˆ†åˆ«ç”¨<code>_V</code>å’Œ<code>_H</code>æ¥åŒºåˆ†ç«–å±å’Œæ¨ªå±çš„ç•Œé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04efbc36742b4d15a354d3cfd9fa8e99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=TGkADR8QpcI3p%2Fn2J2NfvWC47bI%3D" alt="" loading="lazy"/></p>
<p><strong>ä¾‹å¦‚</strong>ç«–å±ç•Œé¢é•¿è¿™æ ·ï¼Œ<code>1ç§’</code>å®Œæˆæ‹¼UIã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c06268ca00c4a8db7c31ec95c2aaa4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=FoOfVDUOVLk%2BlJM1rBYUOHuPvD8%3D" alt="" loading="lazy"/></p>
<p><strong>æ¨ªå±</strong>ç•Œé¢é•¿è¿™æ ·ï¼ŒèŠ‚ç›®æ•ˆæœï¼Œå®é™…ä¸Šæ²¡æœ‰ä¸€å¼ å›¾ç‰‡å°±èƒ½å®Œæˆç•Œé¢è¿™ä¹ˆè½»æ¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2621b7ae64e842078c91b62ebb805f6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=INS%2BbJjAeTCMD%2Bkabe38%2BPoxrE4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">3.æ ¸å¿ƒä»£ç å®ç°</h3>
<p><strong>ç”±äº</strong>æ–‡ç« ç¯‡å¹…è¾ƒé•¿ï¼Œæœ¬æ¬¡å®æˆ˜åªåˆ—å‡ºæ ¸å¿ƒä»£ç ã€‚</p>
<ul>
<li><strong>ç›‘å¬å±å¹•æ–¹å‘å˜åŒ–</strong>ï¼šé€šè¿‡<code>screen</code>çš„<code>orientation-change</code>äº‹ä»¶è¿›è¡Œç›‘å¬ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d66ca3f1b4ec46bbb96605487674c794~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=GBMshsKYWlGzQoCSUN%2FyhF2Ahbs%3D" alt="" loading="lazy"/></li>
<li><strong>ä¿®æ”¹è®¾è®¡åˆ†è¾¨ç‡</strong>ï¼šå½“å±å¹•å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>view</code>çš„<code>setDesignResolutionSize</code>æ–¹æ³•è¿›è¡Œè®¾ç½®ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcf0cb83d66d487eb5df6693d0f3fffe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=zgrkbqN8p%2BYiRRKLUWy7LTg%2FKqI%3D" alt="" loading="lazy"/></li>
<li><strong>UIé…ç½®</strong>ï¼šé€šè¿‡é…ç½®ç•Œé¢çš„åå­—ã€ç«–å±çš„ç•Œé¢ã€æ¨ªå±çš„ç•Œé¢ã€å±‚çº§å’Œç®¡ç†ç»„ä»¶ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89a80768e00849da96f926d337694e05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=aGLQ4EmIQb3sUpQ3mijc67P%2FTVU%3D" alt="" loading="lazy"/></li>
<li><strong>æ˜¾ç¤ºUI</strong>ï¼šé€šè¿‡æ¨ªç«–å±è·å–é¢„åˆ¶ä½“ã€åŠ¨æ€åŠ è½½é¢„åˆ¶ä½“ã€è‡ªåŠ¨æ·»åŠ ç®¡ç†ç»„ä»¶ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9882d65b1f4c4103b4e2e954c02f1ef3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=7rLeZCjuhDLJDVSv9ir0qNaV78U%3D" alt="" loading="lazy"/></li>
<li><strong>åŒå¥—UIåˆ‡æ¢</strong>ï¼šé€šè¿‡åŸºç±»çš„<code>onOrientationChange</code>æ–¹æ³•é€šçŸ¥ç®¡ç†ç»„ä»¶ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8eb4036026fe4e049258762342c2ffdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=JCDs1SxMMjQWuj2YjakYF0vCfgM%3D" alt="" loading="lazy"/></li>
<li><strong>ä¸åŒUIåˆ‡æ¢</strong>ï¼šåˆ é™¤æ—§çš„ã€æ·»åŠ æ–°çš„ã€æ¢å¤å±‚çº§ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91a19645af8a4bd2b3c7415f9286f5e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=wHmF%2FNPJYwWxlPPJKF7UGgFZPrQ%3D" alt="" loading="lazy"/></li>
<li><strong>åŒUIä»£ç é€‚é…</strong>ï¼šé€šè¿‡<code>onOrientationChange</code>æ—¶é—´è°ƒæ•´å¸ƒå±€ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a05026f88ddb4cdfab60e320a1bcd27f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=OwEdZEuwJOQ%2BOPi8VaAxdiNBTyw%3D" alt="" loading="lazy"/></li>
</ul>
<h3 data-id="heading-9">4.æ•ˆæœæ¼”ç¤º</h3>
<p><strong>æ¨¡æ‹Ÿå™¨</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e565475ea4c4030a937495060bd0835~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=Myi%2Bdx4dN5i8fnDiLH9P%2Fo9fS4Q%3D" alt="" loading="lazy"/></p>
<p><strong>æ‰‹æœº</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7902f3e7f724044ac1bdbae4a6cb08c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055165&amp;x-signature=DEDEI%2FW3uOf9DYWUp%2F1RkTscLus%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-10">ç»“è¯­</h2>
<p>**ä»¥ä¸Šå°±æ˜¯Cocosæ¸¸æˆå¼€å‘ä¸­å®ç°æ¨ªç«–å±åŠ¨æ€åˆ‡æ¢çš„å…¨éƒ¨å†…å®¹ã€‚**æ¯”èµ·æŠ€æœ¯ï¼Œæ¨ªç«–å±åˆ‡æ¢æ›´è€ƒéªŒçš„åº”è¯¥æ˜¯<code>UI</code>çš„è®¾è®¡ã€‚</p>
<p><strong>å°ä¼™ä¼´ä»¬è§‰å¾—æˆ‘çŒœå¯¹äº†å—ï¼Ÿ</strong></p>
<p><strong>æˆ‘æ˜¯"äº¿å…ƒç¨‹åºå‘˜"ï¼Œä¸€ä½æœ‰ç€8å¹´æ¸¸æˆè¡Œä¸šç»éªŒçš„ä¸»ç¨‹ã€‚åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼Œå¸Œæœ›èƒ½ç»™åˆ°æ‚¨å¸®åŠ©, ä¹Ÿå¸Œæœ›é€šè¿‡æ‚¨èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚</strong></p>
<p>AD:ç¬”è€…çº¿ä¸Šçš„å°æ¸¸æˆã€Šæ‰“èºä¸é—¯å…³ã€‹ã€Šè´ªåƒè›‡æŒæœºç»å…¸ã€‹ã€Šé‡åŠ›è¿·å®«çƒã€‹ã€Šå¡«è‰²ä¹‹æ—…ã€‹ã€Šæ–¹å—æŒæœºç»å…¸ã€‹å¤§å®¶å¯ä»¥è‡ªè¡Œç‚¹å‡»æœç´¢ä½“éªŒã€‚</p>
<p>å®ä¸ç›¸ç’ï¼Œæƒ³è¦ä¸ª<strong>èµ</strong>å’Œ<strong>çˆ±å¿ƒ</strong>ï¼è¯·æŠŠè¯¥æ–‡ç« <strong>åˆ†äº«</strong>ç»™ä½ è§‰å¾—æœ‰éœ€è¦çš„å…¶ä»–å°ä¼™ä¼´ã€‚è°¢è°¢ï¼</p>
<p>æ¨èæ–‡ç« ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FXLCknL3fJDubec2GW6KLFA" target="_blank" title="https://mp.weixin.qq.com/s/XLCknL3fJDubec2GW6KLFA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•æ¥å…¥å®‰å“ç©¿å±±ç”²å¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3_VrSld4KnDKY_7hxjSoKg" target="_blank" title="https://mp.weixin.qq.com/s/3_VrSld4KnDKY_7hxjSoKg" ref="nofollow noopener noreferrer">ä½ çŸ¥é“å’Œä¸çŸ¥é“çš„å¾®ä¿¡å°æ¸¸æˆå¸¸ç”¨APIæ•´ç†ï¼Œèµ¶ç´§æ”¶è—ç”¨èµ·æ¥~</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0Lj24VHJ-pL8z82hHqQLiA" target="_blank" title="https://mp.weixin.qq.com/s/0Lj24VHJ-pL8z82hHqQLiA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•å¿«é€Ÿæ¥å…¥æŠ–éŸ³å°æ¸¸æˆå¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ7DusUJA2v1IFZDFtBsueg" target="_blank" title="https://mp.weixin.qq.com/s/Z7DusUJA2v1IFZDFtBsueg" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°å‰²ç»³å­æ¸¸æˆæ•ˆæœ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3BzzFBzeVAO-a6LPTeFTrA" target="_blank" title="https://mp.weixin.qq.com/s/3BzzFBzeVAO-a6LPTeFTrA" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°åŠ¨æ€åˆ‡å‰²æ¨¡å‹ï¼Ÿ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‡ªç”±èŒä¸šè€… 2025 å¹´ç»ˆæ€»ç»“ï¼šè½¬å‹ AI å…¨æ ˆ]]></title>    <link>https://juejin.cn/post/7586555198115266566</link>    <guid>https://juejin.cn/post/7586555198115266566</guid>    <pubDate>2025-12-23T00:41:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586555198115266566" data-draft-id="7582156410320289802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‡ªç”±èŒä¸šè€… 2025 å¹´ç»ˆæ€»ç»“ï¼šè½¬å‹ AI å…¨æ ˆ"/> <meta itemprop="keywords" content="é¢è¯•,å…¨æ ˆ,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-23T00:41:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯åŒè¶Šè€å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1714893868765373"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‡ªç”±èŒä¸šè€… 2025 å¹´ç»ˆæ€»ç»“ï¼šè½¬å‹ AI å…¨æ ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893868765373/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯åŒè¶Šè€å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T00:41:05.000Z" title="Tue Dec 23 2025 00:41:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯åŒè¶Šã€‚å‰ç™¾åº¦ æ»´æ»´ èµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ…•è¯¾ç½‘é‡‘ç‰Œè®²å¸ˆï¼ŒPMPã€‚æˆ‘çš„ä»£è¡¨ä½œæœ‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.wangeditor.com%2F" target="_blank" title="https://www.wangeditor.com/" ref="nofollow noopener noreferrer">wangEditor</a> å¼€æº web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ŒGitHub 18k starï¼Œnpm å‘¨ä¸‹è½½é‡ 20k</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.huashuiai.com%2F" target="_blank" title="https://www.huashuiai.com/" ref="nofollow noopener noreferrer">åˆ’æ°´AI</a> Node å…¨æ ˆ AIGC çŸ¥è¯†åº“ï¼ŒåŒ…æ‹¬ AI å†™ä½œã€å¤šäººååŒç¼–è¾‘ã€‚å¤æ‚ä¸šåŠ¡ï¼ŒçœŸå®ä¸Šçº¿ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mianshipai.com%2F" target="_blank" title="https://www.mianshipai.com/" ref="nofollow noopener noreferrer">å‰ç«¯é¢è¯•æ´¾</a> ç³»ç»Ÿä¸“ä¸šçš„é¢è¯•å¯¼èˆªï¼Œåˆ·é¢˜ï¼Œå†™ç®€å†ï¼Œçœ‹é¢è¯•æŠ€å·§ï¼Œå†…æ¨å·¥ä½œã€‚å¼€æºå…è´¹ã€‚</li>
</ul>
<blockquote>
<p>æˆ‘åœ¨æ­£åœ¨å¼€å‘ä¸€ä¸ª AI Agent æ™ºèƒ½ä½“é¡¹ç›®ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhitalk.chat%2F" target="_blank" title="https://zhitalk.chat/" ref="nofollow noopener noreferrer">æ™ºè¯­</a>ã€‘ä¸€ä¸ªæ™ºèƒ½é¢è¯•å®˜ï¼Œå¯ä»¥ä¼˜åŒ–ç®€å†ã€æ¨¡æ‹Ÿé¢è¯•ã€è§£ç­”é¢˜ç›®ç­‰ã€‚<strong>å³å°†å†…æµ‹</strong>ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å›´è§‚ã€å­¦ä¹ ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å¼€å§‹</h2>
<p>æœ€è¿‘è¿™æ®µæ—¶é—´ä¸€ç›´å¿™äº AI Agent ã€æ™ºè¯­ã€‘é¡¹ç›®çš„å¼€å‘å’Œ wikiï¼Œå¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œæ­£å¥½é¡¹ç›®å³å°†æœ‰ä¸€ä¸ªé˜¶æ®µæ€§çš„æˆæœäº†ï¼Œå³å°†å†…æµ‹ã€‚</p>
<p>ä¹Ÿæ­£å¥½å¹´åº•äº†ï¼ŒæŒ‰æƒ¯ä¾‹è¦å†™ä¸€ä¸ªå¹´ç»ˆæ€»ç»“ï¼Œçœ‹çœ‹ä»Šå¹´è‡ªå·±éƒ½å¹²äº†ç‚¹å•¥ï¼Œæœ‰å•¥æˆé•¿ï¼Œæœ‰å•¥ä¸è¶³ï¼Œæœ‰å•¥æƒ³æ³•ï¼Œæ˜å¹´æœ‰ä»€ä¹ˆè®¡åˆ’ã€‚</p>
<p>PS. æ„Ÿè§‰ä»Šå¹´è¿‡çš„æœ€å¿«ï¼Œä¸€æ™ƒä¸€å¹´äº†ï¼Œæ„Ÿè§‰æ˜¥å¤©å¤å¤©åšçš„ä¸€äº›å·¥ä½œå°±åƒå‰å‡ å¤©åšçš„ä¼¼çš„ã€‚è¿™ç§æ„Ÿè§‰æ˜¯å¥½æ˜¯åå‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">ä¸»é¢˜</h2>
<p>2025 å¹´æœ€é‡è¦çš„ä¸€ä¸ªä¸»é¢˜å°±æ˜¯ï¼š<strong>AI å¸¦æ¥çš„å˜åŒ–å’Œè½¬å‹</strong>ã€‚</p>
<p>è¿™ä¸ä»…ä»…é’ˆå¯¹æˆ‘ï¼Œå¯¹äºæ•´ä¸ªè¡Œä¸šéƒ½æ˜¯è¿™æ ·çš„ã€‚çœ¼çœ‹ç€ AI ç¼–ç¨‹å·¥å…·æ™®åŠï¼Œçœ¼çœ‹ç€å„ä¸ªå¤§æ¨¡å‹å‘å¸ƒï¼Œçœ¼çœ‹ç€å›½å†…å¤–äººäººéƒ½åœ¨è®¨è®º AI ... AI è‡³å°‘åœ¨ç¼–ç¨‹é¢†åŸŸï¼Œæ— å¤„ä¸åœ¨ã€‚</p>
<p>ç¬¬äºŒä¸ªä¸»é¢˜ä¾ç„¶æ˜¯ï¼šæ‹›è˜å¸‚åœºå†·æ·¡ã€‚å°¤å…¶æ˜¯ç°åœ¨è¿™ä¸ªå†¬å¤©ï¼Œçœ‹ä¸åˆ°ä»»ä½•æ´»è·ƒçš„è¿¹è±¡ã€‚å¸Œæœ›æ˜å¹´æ˜¥å¤©èƒ½å†å¥½ä¸€ç‚¹ï¼Œä½†æ˜¯æŒ‰å‰ä¸¤å¹´çš„æƒ…å†µæ¥çœ‹ï¼Œä¹Ÿå¥½ä¸åˆ°å“ªé‡Œå»ã€‚</p>
<p>æ•´ä¸ªè½¯ä»¶äº’è”ç½‘è¡Œä¸šï¼Œé™¤äº† AI å¼€å‘ï¼Œå…¶ä»–æ²¡æœ‰ä»»ä½•å¢é•¿ï¼Œç”šè‡³æ˜¯éƒ½åœ¨å€’é€€ã€‚</p>
<p>åŸºäºè¿™ä¸ªç°çŠ¶ï¼Œæˆ‘ä¸ªäººå·²ç»ä»ä¹‹å‰çš„å‰ç«¯å¼€å‘ï¼Œè½¬å‹ä¸º å…¨æ ˆ å’Œ AI å¼€å‘ã€‚ä» 2024 å¹´åˆå¼€å§‹çš„ã€‚</p>
<p>æˆ‘ä¹Ÿå»ºè®®æ‰€æœ‰çš„å¼€å‘äººå‘˜ï¼Œæ— è®ºä½ ç°åœ¨è½¬è¿˜æ˜¯ä¸è½¬ï¼Œéƒ½è¦çœ‹åˆ°è¿™ä¸ªè½¬å‹çš„å¯èƒ½ï¼Œä¸»åŠ¨å»æ€è€ƒä¸€ä¸‹æœªæ¥çš„è¶‹åŠ¿å’Œå‘å±•ï¼Œå±…å®‰æ€å±ï¼Œæ‰ä¸è‡³äºä»¥åè¢«åŠ¨ã€‚</p>
<h2 data-id="heading-2">å·¥ä½œå†…å®¹</h2>
<p>è‡ªç”±èŒä¸šè¿™å‡ å¹´ï¼Œæˆ‘ä¸€ç›´åšæŒä¸€ä¸ªå¥½ä¹ æƒ¯ï¼šå†™æ—¥æŠ¥ã€å‘¨æŠ¥å’ŒæœˆæŠ¥ï¼Œéšæ—¶è®°å½•å·¥ä½œå†…å®¹ï¼Œæ¢³ç†å·¥ä½œè®¡åˆ’ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dfd0e4b88dcf49698c185dcf9e013c25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055265&amp;x-signature=sWvLmL3fFwHO4P8iwPzClQj5fr0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">é¢è¯•å’¨è¯¢</h3>
<p>ä»Šå¹´ 1v1 é¢è¯•å’¨è¯¢äººæ•°å¹¶ä¸å¤šï¼Œå¹³å‡æ¯å‘¨ 1-2 ä¸ªäººå§ï¼Œæœ€è¿‘å†¬å¤©æ·¡å­£å°±å¾ˆå°‘äº†ã€‚ä½†è¿™è¶³ä»¥è®©æˆ‘æ¥è§¦åˆ°å„ç§æ‰¾å·¥ä½œå’Œé¢è¯•çš„ç¾¤ä½“ï¼ŒåŠæ—¶äº†è§£å¤–é¢çš„æƒ…å†µã€‚</p>
<p>æ•´ä½“çš„æ„Ÿè§‰å°±æ˜¯ï¼Œæ‹›è˜å¸‚åœºè¿˜æ˜¯æ¯”è¾ƒå†·æ·¡ã€‚é™¤äº†å‡ ä¸ªå¤§å‚ã€åæ ¡æ¯•ä¸šçš„ï¼Œå…¶ä»–äººæ²¡æœ‰å‡ ä¸ªèƒ½ç‰¹åˆ«é¡ºåˆ©çš„æ‰¾åˆ°åˆé€‚çš„å·¥ä½œã€‚å¤§éƒ¨åˆ†äººèƒ½æ‰¾åˆ°å·¥ä½œï¼Œä½†è–ªèµ„å¯èƒ½ä¸ä¼šå®Œå…¨ç¬¦åˆé¢„æœŸï¼ŒçœŸå®æœ‰äº›äººåªèƒ½æ‰¾ä¸ªå¤–åŒ…å…ˆå¹²ç€äº†ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘åœ¨é¢è¯•å’¨è¯¢çš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°ç°åœ¨è£¸è¾ã€æˆ–è¢«è£å‘˜æ— å·¥ä½œçš„åŒå­¦ï¼Œæˆ‘éƒ½ä¼šåŠä»–ä»¬å°½å¿«æ‰¾ä¸€ä¸ªå·¥ä½œï¼Œå…ˆå·¥ä½œäº†å†è¯´ï¼Œå°¤å…¶æ˜¯ç§‹å¤©ã€å†¬å¤©è¿™ä¸ªæ—¶èŠ‚ï¼Œä¸è¦æ‹–åˆ°å…ƒæ—¦æˆ–è€…æ˜¥èŠ‚ï¼Œå¦åˆ™è¿™ç§å¤±ä¸šçŠ¶æ€ä¼šéå¸¸å½±å“å¿ƒç†ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯é¢è¯•æ—¶è€ƒå…«è‚¡æ–‡çš„æ¦‚ç‡ä½äº†å¾ˆå¤šï¼Œä¼šæ›´åŠ æ³¨é‡é¡¹ç›®ã€è®¾è®¡å’Œåœºæ™¯é—®é¢˜ï¼Œå³æ›´æ³¨é‡å®è·µèƒ½åŠ›ã€‚</p>
<p>â€œè¢«è£å‘˜â€ç°åœ¨å·²ç»ä¸æ˜¯ä¸€ä¸ªè´¬ä¹‰è¯äº†ï¼Œåªæ˜¯ä¸€ä¸ªä¸­æ€§è¯ï¼Œæ‰€ä»¥é¢è¯•æ—¶åœ¨è¯´ç¦»èŒåŸå› çš„æ—¶å€™ï¼Œå¯ä»¥ç†ç›´æ°”å£®çš„è¯´è¢«è£å‘˜ï¼Œæ²¡æ¯›ç—…ã€‚</p>
<p>ç»å¤§éƒ¨åˆ†åŒå­¦è¿˜æ˜¯æ— æ³•æµç•…çš„ä»‹ç»é¡¹ç›®ï¼Œæ›´åˆ«è¯´é¡¹ç›®éš¾ç‚¹å’Œäº®ç‚¹ã€‚è‡ªå·±åšè¿‡çš„é¡¹ç›®ï¼Œè‡ªå·±æœ€ç†Ÿæ‚‰çš„é¡¹ç›®ï¼Œå´æ— æ³•ç”¨è¯­è¨€è¡¨è¾¾å‡ºæ¥è®©åˆ«äººå¬æ‡‚ï¼Œè¿™æ˜¯ç¨‹åºå‘˜çš„é€šç—…ã€‚é¢è¯•ä¹‹å‰ä¸€å®šè¦æ³¨æ„åˆ»æ„ç»ƒä¹ ã€‚</p>
<p>è¿˜æœ‰ç›¸å½“ä¸€éƒ¨åˆ†åŒå­¦ï¼Œå·¥ä½œå¾ˆå¤šå¹´äº†ï¼Œä¾ç„¶æ˜¯ Vue å·¥ç¨‹å¸ˆï¼Œå…¶ä»–çš„å•¥ä¹Ÿä¸ä¼šï¼ŒæŠ€æœ¯å¹¿åº¦å¤ªå·®äº†ã€‚</p>
<p>åœ¨ AI ç¼–ç¨‹æŒç»­æ™®åŠçš„æƒ…å†µä¸‹ï¼Œæœªæ¥å¯èƒ½å°±ä¸ä¼šåˆ†ä»€ä¹ˆå‰ç«¯ã€åç«¯æŠ€æœ¯æ ˆäº†ï¼Œåœ¨ AI åŠ æŒä¸‹ï¼Œæœªæ¥å¤§å®¶éƒ½æ˜¯â€œé€šç”¨ç¨‹åºå‘˜â€ï¼Œå•¥ä»£ç éƒ½ä¼šå†™ã€‚æŠ€æœ¯å¹¿åº¦æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„è¯é¢˜ã€‚</p>
<h3 data-id="heading-4">å…¨æ ˆå¼€å‘</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.huashuiai.com%2F" target="_blank" title="https://www.huashuiai.com/" ref="nofollow noopener noreferrer">åˆ’æ°´AI</a> ä¹‹å‰æ˜¯åœ¨äºšé©¬é€Š AWS æœåŠ¡å™¨ä¸Šçš„ï¼Œæœ€æ—©åŸŸåä¹Ÿæ²¡æœ‰å¤‡æ¡ˆã€‚ä»Šå¹´æ˜¥å¤©æŠŠåŸŸåå¤‡æ¡ˆäº†ï¼ŒæŠŠæœåŠ¡å™¨è¿ç§»åˆ°äº†å›½å†…ï¼Œè®¿é—®é€Ÿåº¦ç¬é—´å¿«äº†å¥½å‡ å€ã€‚</p>
<p>è¿˜å¢åŠ äº† Sentry çš„é”™è¯¯ç»Ÿè®¡å’Œæ€§èƒ½ç»Ÿè®¡ï¼Œå‘ç°äº†å¥½å‡ ä¸ªçº¿ä¸Šçš„ bug ï¼Œé¢‘ç¹å‡ºç°çš„éƒ½è§£å†³äº†ï¼Œå¹¶è®°å½•åœ¨ wiki ã€‚</p>
<p>å½“æ—¶è¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«çƒ¦äººçš„é—®é¢˜ï¼Œä½¿ç”¨é‚®ä»¶ç™»å½•çš„æ—¶å€™æ€»æ˜¯æŠ¥é”™ï¼Œå°±æ˜¯ä½¿ç”¨ gmail é‚®ä»¶æœåŠ¡ä¸ç¨³å®šï¼Œå›½å†…çš„é‚®ç®±æœåŠ¡ä¹Ÿæ˜¯ä¸€å †é—®é¢˜ã€‚æœ€åç»è¿‡è°ƒç ”ä½¿ç”¨ resend ç¬¬ä¸‰æ–¹æœåŠ¡å‘é‚®ä»¶ï¼Œè‡³ä»Šå¾ˆç¨³å®šã€‚</p>
<p>å¦å¤–ï¼Œè¿˜æŠŠ AI å†™ä½œçš„é¢æ¿æ”¾åœ¨äº†å³ä¾§ï¼Œè¿™æ ·çš„å·¦ã€ä¸­ã€å³ç»“æ„ï¼Œä¹Ÿæ¯”è¾ƒåˆç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c27407bec934549ac2fdd0ba65dd97d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055265&amp;x-signature=Ha42rWNZBqPBmHqE0raa9dIjWhs%3D" alt="image.png" loading="lazy"/></p>
<p>ä»Šå¹´æ‰€æœ‰çš„ 1v1 å’¨è¯¢éƒ½æ˜¯åœ¨ åˆ’æ°´AI å†™çš„æ–‡æ¡£ï¼Œä½¿ç”¨å¤šäººç¼–è¾‘åŠŸèƒ½ï¼Œä¸€è¾¹åœ¨çº¿èŠå¤©ï¼Œä¸€è¾¹è®°å½•ï¼Œæ•ˆæœéå¸¸å¥½ã€‚</p>
<p>ç°åœ¨ç½‘ç«™æœåŠ¡è¿è¡Œåœ¨é˜¿é‡Œäº‘ FC å‡½æ•°è®¡ç®—ï¼ŒååŒç¼–è¾‘çš„ websocket æœåŠ¡è¿è¡Œåœ¨é˜¿é‡Œäº‘ ECS äº‘æœåŠ¡å™¨ï¼Œä¸€ç›´éå¸¸ç¨³å®šã€‚</p>
<p>ä½†æ˜¯æœ€è¿‘ä¹Ÿå‡ºç°äº†æ–°çš„é—®é¢˜</p>
<ul>
<li>é˜¿é‡Œäº‘ FC ä»·æ ¼è°ƒæ•´ï¼Œå¯¼è‡´æˆ‘ç°åœ¨çš„è´¹ç”¨æ¯”ä¹‹å‰å¢åŠ ä¸å°‘</li>
<li>ç°åœ¨ä½¿ç”¨ supabse çš„ postgres æœåŠ¡å™¨ï¼Œå›½å¤–çš„ï¼Œè¿æ¥ä¹Ÿä¸æ˜¯å¾ˆç¨³å®šï¼Œç»å¸¸å‡ºç°æœåŠ¡æŠ¥è­¦</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9779029c7e0947cd9f8399fe6b145c31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055265&amp;x-signature=CpQjkauAQrQ%2BfCJz4y33RIO35do%3D" alt="image.png" loading="lazy"/></p>
<p>æ€»ä¹‹ä¸€å¥è¯ï¼š<strong>çœŸå®ä¸Šçº¿çš„é¡¹ç›®ã€ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæƒ…å†µè¦å¤æ‚å¾ˆå¤šï¼Œç»å†äº†æ‰èƒ½çŸ¥é“ï¼Œè¿™ä¹Ÿæ˜¯çœŸæ­£çš„é¡¹ç›®ç»éªŒã€‚è¿™ä¸æ˜¯æœ¬åœ°å¼€å‘å‡ ä¸ª demo çº¸ä¸Šè°ˆå…µ èƒ½æ¯”çš„ã€‚</strong></p>
<p>æœ€è¿‘å¿™ AI Agent é¡¹ç›®å¼€å‘ï¼Œæˆ‘è¿˜ä¸€ç›´æ²¡ç®¡å®ƒã€‚ç­‰æ˜å¹´ç»§ç»­æ</p>
<ul>
<li>æƒ³åŠæ³•è§£å†³è¿™äº›ä¸ç¨³å®šçš„é—®é¢˜ï¼Œå¦‚æ•°æ®åº“è¿æ¥é—®é¢˜</li>
<li>ç»§ç»­å¢åŠ æ–°åŠŸèƒ½ã€ä¼˜åŒ–æˆ–é‡æ„å½“å‰çš„åŠŸèƒ½</li>
</ul>
<p>åˆ’æ°´AI æ˜¯æˆ‘çš„åç‰‡é¡¹ç›®ï¼Œè¦æŒç»­åšå¥½ã€‚</p>
<h3 data-id="heading-5">AI Agent</h3>
<p>è¿™æ˜¯æˆ‘ä»Šå¹´å¤å¤©æƒ³å‡ºæ¥çš„ä¸€ä¸ªä¸»é¢˜ï¼šAI å¼€å‘å¾ˆç«çˆ†ï¼Œè€Œä¸”ä¸€å®šæ˜¯æœªæ¥è¶‹åŠ¿ï¼Œä½•ä¸è‡ªå·±æä¸€ä¸ªï¼Ÿ</p>
<p>äºæ˜¯æˆ‘å°±å¯åŠ¨äº† AI Agent <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhitalk.chat%2F" target="_blank" title="https://zhitalk.chat/" ref="nofollow noopener noreferrer">æ™ºè¯­</a> é¡¹ç›®ï¼šä¸€ä¸ª AI æ™ºèƒ½é¢è¯•å®˜ï¼Œå¯ä»¥ä¼˜åŒ–ç®€å†ã€æ¨¡æ‹Ÿé¢è¯•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72c187526a134f7b9fdd0916e1127e7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767055265&amp;x-signature=mcydv0l7%2BZqSTKGZINa170Yyu%2Fk%3D" alt="image.png" loading="lazy"/></p>
<p>AI å¼€å‘æ˜¯ä¸€ä¸ªæ–°äº‹ç‰©ï¼Œç›®å‰è¿˜æ²¡æœ‰ä¸€å¥—å®Œå…¨æˆç†Ÿçš„ã€æ™®åŠå¤§ä¼—çš„å¼€å‘æ¡†æ¶å’Œæµç¨‹ã€‚æœ€å¥½çš„å¯èƒ½æ˜¯ langChain å’Œ langGraph ï¼Œä½†å®ƒè‡ªå·±ä¹Ÿè¿˜åœ¨å®Œå–„å’Œè¿›åŒ–ä¸­ã€‚</p>
<p>ä¸ºæ­¤æˆ‘åšäº†å¤§é‡çš„è°ƒç ”å’Œå‡†å¤‡ï¼ŒæŠŠå…³äº AI å¼€å‘ç›¸å…³çš„å¸¸è§æŠ€æœ¯éƒ½çœ‹äº†ä¸€éï¼šLLMï¼Œæç¤ºè¯å·¥ç¨‹ï¼ŒReasoningï¼ŒLangChainï¼ŒReAct Agentï¼ŒRAGï¼ŒVector å‘é‡ï¼Œtoolï¼Œ function-call ï¼ŒMCP sever ç­‰ç­‰ã€‚</p>
<p>å³ä¾¿æ˜¯è¿™æ ·ï¼Œåœ¨çœŸå®å¼€å‘çš„æ—¶å€™è¿˜æ˜¯è¢«å¡ä½äº†ä¸€æ¬¡ï¼Œåæ¥åˆ‡æ¢äº†ä¸€å¥—æŠ€æœ¯æ–¹æ¡ˆæ‰è§„é¿äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>æ‰€ä»¥ï¼Œçœ‹å¤šå°‘èµ„æ–™ï¼Œåšå¤šå°‘ demo éƒ½ä¸å¦‚ä» 0 åšä¸€ä¸ªé¡¹ç›®ï¼Œå¹¶ä¸”çœŸå®å‘å¸ƒä¸Šçº¿ï¼Œæ¥çš„å®åœ¨ã€‚</p>
<p>ä½ çœ‹æ–‡æ¡£å†™ demo å¥½å¥½çš„ï¼Œä¸€åšé¡¹ç›®å¯èƒ½å°±ä¸è¡Œäº†ã€‚ä½ åšé¡¹ç›®æœ¬åœ°è¿è¡Œå¥½å¥½çš„ï¼Œä¸€å‘å¸ƒä¸Šçº¿å°±ä¸è¡Œäº† â€”â€” è¿™å¤ªæ­£å¸¸äº†ã€‚</p>
<p>æœªæ¥é¡¹ç›®å†…æµ‹ã€å…¬æµ‹ã€ä¸Šçº¿ï¼Œåˆ°æ—¶å€™å†å’Œå¤§å®¶åˆ†äº«ã€‚</p>
<p>å’Œã€åˆ’æ°´AIã€‘ä¸€æ ·ï¼Œè¿™ä¸ªã€æ™ºè¯­ã€‘é¡¹ç›®ä¹Ÿä¼šä½œä¸ºæˆ‘åœ¨ AI å¼€å‘é¢†åŸŸçš„åç‰‡é¡¹ç›®ï¼Œæˆ‘ä¹Ÿä¼šæŒç»­åšå¥½ã€‚</p>
<h2 data-id="heading-6">æ˜å¹´è®¡åˆ’</h2>
<p>æ–‡ç« å¼€å¤´è®²åˆ°ï¼Œç°åœ¨é™¤äº† AI æ²¡æœ‰ä»»ä½•å¢é•¿ï¼Œè€Œä¸”æ‹›è˜å¸‚åœºæ•´ä½“å†·æ·¡ã€‚åŸºäºè¿™æ ·çš„å¤§ç¯å¢ƒï¼Œå’Œå¤§å®¶çš„éœ€æ±‚ï¼Œæˆ‘æ˜å¹´æš‚ä¸æ‰“ç®—å¯åŠ¨æ–°é¡¹ç›®ã€‚</p>
<p>è¿™å…¶å®æ­£æ˜¯ä¸€ä¸ªå¥½æœºä¼šï¼Œåˆ©ç”¨è¿™ä¸ªæ—¶æœºï¼ŒæŠŠç°æœ‰çš„ä¸¤ä¸ªé¡¹ç›®ã€å’Œé¢è¯•å’¨è¯¢åšå¥½åšç²¾ï¼Œæ²‰æ·€è‡ªå·±ï¼Œä¿®ç‚¼å†…åŠŸã€‚</p>
<p>æœ‰åŒå­¦å¯èƒ½é—®ï¼šä½ å¿™å¾—è¿‡æ¥å—ï¼Ÿ</p>
<p>å¦‚æœä¸¤ä¸ªé¡¹ç›®åŒæ—¶ä» 0 å¼€å‘ï¼Œé‚£æœ‰ç‚¹å¿™ä¸è¿‡æ¥ã€‚ä½†æ˜å¹´æ˜¯åŒæ—¶ç»´æŠ¤ï¼Œè¿˜æ˜¯å¿™å¾—è¿‡æ¥çš„ï¼Œæ¯•ç«Ÿæˆ‘å…¨èŒåšï¼Œæ—¶é—´æœ‰çš„æ˜¯ã€‚</p>
<p>2026 å¹´ï¼Œä¸è¯´åŠ æ²¹ï¼Œå¤§å®¶èƒ½ç¨³ç¨³çš„åº¦è¿‡å°±å¥½ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™å¼€å‘ï¼šä¸€ä¸ªåº•éƒ¨çš„æ›²çº¿å¯¼èˆª]]></title>    <link>https://juejin.cn/post/7586500093844684842</link>    <guid>https://juejin.cn/post/7586500093844684842</guid>    <pubDate>2025-12-23T00:55:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586500093844684842" data-draft-id="7586491717874237459" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™å¼€å‘ï¼šä¸€ä¸ªåº•éƒ¨çš„æ›²çº¿å¯¼èˆª"/> <meta itemprop="keywords" content="HarmonyOS,Android,iOS"/> <meta itemprop="datePublished" content="2025-12-23T00:55:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜ä¸€é¸£"/> <meta itemprop="url" content="https://juejin.cn/user/1398234520239095"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™å¼€å‘ï¼šä¸€ä¸ªåº•éƒ¨çš„æ›²çº¿å¯¼èˆª
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234520239095/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜ä¸€é¸£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T00:55:23.000Z" title="Tue Dec 23 2025 00:55:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,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) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,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) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¼¼ä¹ç°åœ¨çš„åº”ç”¨ï¼Œåº•éƒ¨å¯¼èˆªéƒ½æ˜¯åƒç¯‡ä¸€å¾‹ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å‡ ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åï¼Œåˆ‡æ¢åˆ‡æ¢å›¾æ ‡ï¼Œæ›´æ”¹æ›´æ”¹é¢œè‰²ï¼Œç¨å¾®å¥½ç‚¹çš„ä¼šå¢åŠ åŠ¨ç”»æ•ˆæœï¼Œä»Šå¤©ï¼Œç»™å¤§å®¶æ¨èä¸€æ¬¾ï¼Œåº•éƒ¨çš„æ›²çº¿å¯¼èˆªï¼Œå®ƒå¯ä»¥è®©åº•éƒ¨å¯¼èˆªçš„å®ç°æ–¹å¼åˆ«å…·ä¸€æ ¼ã€‚</p>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸‹é™æ€æ•ˆæœï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f041a5ca9d4c45a881971553d33c89cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767056123&amp;x-signature=9suh0nqVyaIrkNUlpb4HGhvtOIE%3D" alt="" width="50%" loading="lazy"/></p>
<p>åŠ¨æ€æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9073068a2d4442ce8611c7bcb4925e6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767056123&amp;x-signature=pso7Bbd5T1QpDUHMz4CJ%2Fw%2BZbHw%3D" alt="" width="50%" loading="lazy"/></p>
<p>ç›®å‰ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå®Œæˆäº†åŸºæœ¬çš„æ›²çº¿å½¢å¼æ•ˆæœï¼Œè¿˜æœªè¿½åŠ æ›²çº¿çš„ç§»åŠ¨åŠ¨ç”»ï¼Œåœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¼šåŠ ä¸Šï¼Œé‚£ä¹ˆé’ˆå¯¹è¿™æ ·çš„ä¸€ä¸ªæ›²çº¿å½¢å¼å¯¼èˆªï¼Œå®ƒæ˜¯å¦‚ä½•æ¥å®ç°çš„å‘¢ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨ç®€å•çš„Pathè·¯å¾„ç»˜åˆ¶ã€‚</p>
<p>Pathè·¯å¾„ï¼Œæœ‰ä¸¤ç§æ–¹å¼å®ç°ï¼Œä¸€ç§æ˜¯ç³»ç»Ÿæä¾›çš„Pathç»„ä»¶ï¼Œå¦ä¸€ç§å°±æ˜¯ä½¿ç”¨new drawing.Path()ï¼Œç„¶åä½¿ç”¨canvasæ¥ç»˜åˆ¶ï¼Œä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°ï¼Œçœ‹å¤§å®¶çš„æŠ€æœ¯é€‰å‹ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Pathç»„ä»¶ï¼Œå› ä¸ºåªéœ€è¦è®¾ç½®ç¬¦åˆSVGè·¯å¾„æè¿°è§„èŒƒçš„å‘½ä»¤å­—ç¬¦ä¸²å³å¯å®ç°ã€‚</p>
<h2 data-id="heading-1">SVGè·¯å¾„ä»‹ç»</h2>
<p>SVGè·¯å¾„æ˜¯SVGï¼ˆå¯ç¼©æ”¾çŸ¢é‡å›¾å½¢ï¼‰ä¸­ç”¨äºåˆ›å»ºå¤æ‚å½¢çŠ¶çš„æ ¸å¿ƒå…ƒç´ ï¼Œé€šè¿‡æ•°å­¦æè¿°å®šä¹‰å›¾å½¢è½®å»“ï¼Œæ”¯æŒç›´çº¿ã€æ›²çº¿ã€å¼§çº¿ç­‰å¤šç§å›¾å½¢ç»˜åˆ¶ã€‚â€Œ</p>
<p>ä¾‹å¦‚ï¼Œç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢ï¼Œç›´æ¥åœ¨å±æ€§commandsä¼ é€’SVGè·¯å¾„å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">Path</span>()
        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'210px'</span>)
        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'310px'</span>)
        .<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M100 0 L200 240 L0 240 Z'</span>)
        .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)
        .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)
        .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">3</span>)
</code></pre>
<p>ç›¸å¯¹æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒçš„ç®€å•ï¼Œä¸‹é¢å°±é’ˆå¯¹SVGä¸­çš„ç»˜åˆ¶å‘½ä»¤ï¼Œç®€å•çš„ç½—åˆ—ä¸€ä¸‹ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80e8acfb872f474e95bd047f8b3d2bef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767056123&amp;x-signature=1%2FCDeBxyVgsk%2BOet1aGSYFhgZ4Q%3D" alt="" width="50%" loading="lazy"/></p>
<h2 data-id="heading-2">æ›²çº¿ç»˜åˆ¶</h2>
<p>ç”±äºéœ€è¦ç‚¹å‡»æ—¶ï¼Œè®©æœ¬æŒ‰é’®è¿›è¡Œæ›²çº¿å±•ç¤ºï¼Œæœ‰ä¸¤ä¸ªæ–¹é¢éœ€è¦è€ƒè™‘ï¼Œä¸€æ˜¯æ›²çº¿çš„ä½ç½®ï¼Œç‚¹å‡»ä¸åŒä½ç½®çš„æŒ‰é’®ï¼Œæ›²çº¿å°±ä¼šç§»åŠ¨åˆ°æŒ‡å®šä½ç½®ï¼ŒäºŒæ˜¯æ›²çº¿è¿æ¥ä¹‹å¤„ï¼Œä¿æŒå¹³æ»‘è¿‡æ¸¡ï¼Œä½¿ç”¨ä¸‰æ¬¡è´å¡å°”æ›²çº¿æ®µå®Œæˆã€‚</p>
<p>å®Œæ•´çš„ç»˜åˆ¶æ›²çº¿ä»£ç å¦‚ä¸‹ï¼Œå¤§å®¶å¯ä»¥ä½œä¸ºå‚è€ƒï¼ŒaverageWidthä¸ºæ¯ä¸ªtabæŒ‰é’®çš„å®½åº¦ï¼ŒnavigationSizeä¸ºå¯¼èˆªæ•°é‡ã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"> <span class="hljs-comment">// ç»˜åˆ¶æ›²çº¿çš„å‡½æ•°</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">drawCurve</span>(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-comment">// åˆå§‹ç‚¹ï¼š0,100</span>
    <span class="hljs-keyword">let</span> tagPosition = <span class="hljs-number">0</span>
    <span class="hljs-keyword">let</span> d = <span class="hljs-string">'M 0 '</span> + tagPosition;

    <span class="hljs-comment">// è®¡ç®—æ›²çº¿çš„èµ·å§‹å’Œç»“æŸä½ç½®</span>
    <span class="hljs-keyword">const</span> curveStart = (position - <span class="hljs-number">1</span>) * <span class="hljs-variable language_">this</span>.<span class="hljs-property">averageWidth</span>;
    <span class="hljs-keyword">const</span> curveEnd = position * <span class="hljs-variable language_">this</span>.<span class="hljs-property">averageWidth</span>;

    <span class="hljs-comment">// 0åˆ°æ›²çº¿èµ·å§‹ä½ç½®çš„ç›´çº¿éƒ¨åˆ†</span>
    <span class="hljs-keyword">if</span> (curveStart &gt; <span class="hljs-number">0</span>) {
      d += <span class="hljs-string">' L '</span> + curveStart + <span class="hljs-string">' '</span> + tagPosition;
    }

    <span class="hljs-comment">// æ›²çº¿éƒ¨åˆ†ï¼šä½¿ç”¨ä¸¤ä¸ªä¸‰æ¬¡è´å¡å°”æ›²çº¿æ®µç¡®ä¿å¹³æ»‘è¿æ¥</span>
    <span class="hljs-keyword">const</span> midPoint = (curveStart + curveEnd) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">const</span> controlPoint1X = curveStart + (<span class="hljs-variable language_">this</span>.<span class="hljs-property">averageWidth</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">navigationSize</span>);
    <span class="hljs-keyword">const</span> controlPoint2X = curveEnd - (<span class="hljs-variable language_">this</span>.<span class="hljs-property">averageWidth</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">navigationSize</span>);

    d += <span class="hljs-string">' C '</span> + controlPoint1X + <span class="hljs-string">' '</span> + tagPosition + <span class="hljs-string">' '</span> + controlPoint1X + <span class="hljs-string">' '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">_privateCurveBottom</span> + <span class="hljs-string">' '</span> +
      midPoint +
      <span class="hljs-string">' '</span> +
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_privateCurveBottom</span>;
    d += <span class="hljs-string">' C '</span> + controlPoint2X + <span class="hljs-string">' '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">_privateCurveBottom</span> + <span class="hljs-string">' '</span> + controlPoint2X + <span class="hljs-string">' '</span> + tagPosition + <span class="hljs-string">' '</span> +
      curveEnd +
      <span class="hljs-string">' '</span> + tagPosition;

    <span class="hljs-comment">// æ›²çº¿ç»“æŸä½ç½®åˆ°æœ€å¤§å®½åº¦çš„ç›´çº¿éƒ¨åˆ†</span>
    <span class="hljs-keyword">if</span> (curveEnd &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">_privateMaxWidth</span>) {
      d += <span class="hljs-string">' L '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">_privateMaxWidth</span> + <span class="hljs-string">' '</span> + tagPosition;
    }

    <span class="hljs-comment">// æ–°å¢é—­åˆè·¯å¾„é€»è¾‘</span>
    d += <span class="hljs-string">` V <span class="hljs-subst">${<span class="hljs-variable language_">this</span>._privateCurveBottom}</span>`</span>; <span class="hljs-comment">// å‚ç›´å»¶ä¼¸åˆ°åº•éƒ¨</span>
    d += <span class="hljs-string">' H 0'</span>; <span class="hljs-comment">// æ°´å¹³è¿”å›èµ·ç‚¹</span>
    d += <span class="hljs-string">' Z'</span>;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_privatePathCommands</span> = d

  }
</code></pre>
<h2 data-id="heading-3">å¿«é€Ÿä½¿ç”¨</h2>
<p>å¦‚æœä½ ä¸æƒ³è‡ªå·±å®ç°ï¼Œè€Œæ˜¯æƒ³å¿«é€Ÿçš„ä½¿ç”¨ï¼Œè¿™ä¸ªå·²ç»ä¸ºå¤§å®¶è€ƒè™‘åˆ°äº†ï¼Œç›®å‰å·²ç»ä¸Šä¼ åˆ°åˆ°äº†ä¸­å¿ƒä»“åº“ï¼Œæœ‰éœ€è¦çš„åŒå­¦ï¼Œå¯ä»¥å‰å»ä½“éªŒã€‚</p>
<p>ä¸­å¿ƒä»“åº“åœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fdetail%2F%40abner%252Fcurve_navigation" target="_blank" title="https://ohpm.openharmony.cn/#/cn/detail/@abner%2Fcurve_navigation" ref="nofollow noopener noreferrer">ohpm.openharmony.cn/#/cn/detailâ€¦</a></p>
<h3 data-id="heading-4">ä¾èµ–æ–¹å¼</h3>
<h4 data-id="heading-5">1ã€è¿œç¨‹ä¾èµ–</h4>
<p>æ–¹å¼ä¸€ï¼šåœ¨Terminalçª—å£ä¸­ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ä¸‰æ–¹åŒ…ï¼ŒDevEco Studioä¼šè‡ªåŠ¨åœ¨å·¥ç¨‹çš„oh-package.json5ä¸­è‡ªåŠ¨æ·»åŠ ä¸‰æ–¹åŒ…ä¾èµ–ã€‚</p>
<p><strong>å»ºè®®ï¼šåœ¨ä½¿ç”¨çš„æ¨¡å—è·¯å¾„ä¸‹è¿›è¡Œæ‰§è¡Œå‘½ä»¤ã€‚</strong></p>
<pre><code class="hljs language-TypeScript" lang="TypeScript">ohpm install <span class="hljs-meta">@abner</span>/curve_navigation
</code></pre>
<p>æ–¹å¼äºŒï¼šåœ¨æ¨¡å—çš„oh-package.json5ä¸­è®¾ç½®ä¸‰æ–¹åŒ…ä¾èµ–ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-string">"dependencies"</span>: { <span class="hljs-string">"@abner/curve_navigation"</span>: <span class="hljs-string">"^1.0.1"</span>}
</code></pre>
<h3 data-id="heading-6">ä»£ç ä½¿ç”¨</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title class_">CurveNavigation</span>({
  <span class="hljs-attr">navigationSize</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">//tabæ•°é‡</span>
  <span class="hljs-attr">navigationPaddingBottom</span>: <span class="hljs-title class_">WindowUtils</span>.<span class="hljs-property">windowBottomNavHeight</span>,<span class="hljs-comment">//è·ç¦»åº•éƒ¨è·ç¦»</span>
  <span class="hljs-attr">onPageChange</span>: <span class="hljs-function">(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
    <span class="hljs-comment">//pageæ”¹å˜</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectIndex</span> = position
  },
  <span class="hljs-attr">tabView</span>: <span class="hljs-function">(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
    <span class="hljs-comment">//å¯¼èˆªè§†å›¾</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">tabView</span>(position)
  },
  <span class="hljs-attr">pageView</span>: <span class="hljs-function">(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
    <span class="hljs-comment">//é¡µé¢è§†å›¾</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pageView</span>(position)
  }
})
</code></pre>
<h3 data-id="heading-7">å®Œæ•´æ¡ˆä¾‹</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">tempColorArray</span>: <span class="hljs-title class_">ResourceColor</span>[] = [<span class="hljs-string">"#ffcc80"</span>, <span class="hljs-string">"#ff9323ac"</span>, <span class="hljs-string">"#ff26a965"</span>, <span class="hljs-string">"#ff93d923"</span>, <span class="hljs-string">"#ff11c5de"</span>,]
  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">tabArray</span>: <span class="hljs-title class_">Resource</span>[] =
    [$r(<span class="hljs-string">'sys.symbol.house_fill'</span>), $r(<span class="hljs-string">'sys.symbol.square_fill_grid_2x2'</span>), $r(<span class="hljs-string">'sys.symbol.bell_fill'</span>),
      $r(<span class="hljs-string">'sys.symbol.externaldrive_fill'</span>), $r(<span class="hljs-string">'sys.symbol.person_2_fill'</span>)]

  <span class="hljs-meta">@Builder</span>
  <span class="hljs-title function_">tabView</span>(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectIndex</span> == position) {
      <span class="hljs-title class_">Column</span>() {
        <span class="hljs-title class_">SymbolGlyph</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">tabArray</span>[position])
          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)
          .<span class="hljs-title function_">renderingStrategy</span>(<span class="hljs-title class_">SymbolRenderingStrategy</span>.<span class="hljs-property">SINGLE</span>)
          .<span class="hljs-title function_">fontColor</span>([<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>])
      }
      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)
      .<span class="hljs-title function_">width</span>(<span class="hljs-number">35</span>)
      .<span class="hljs-title function_">height</span>(<span class="hljs-number">35</span>)
      .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">35</span>)
      .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title class_">SymbolGlyph</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">tabArray</span>[position])
        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)
        .<span class="hljs-title function_">renderingStrategy</span>(<span class="hljs-title class_">SymbolRenderingStrategy</span>.<span class="hljs-property">SINGLE</span>)
        .<span class="hljs-title function_">fontColor</span>([<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>])
    }

  }

  <span class="hljs-meta">@Builder</span>
  <span class="hljs-title function_">pageView</span>(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Text</span>(position.<span class="hljs-title function_">toString</span>())
    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
    .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)
    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)
    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">tempColorArray</span>[position])
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">RelativeContainer</span>() {
      <span class="hljs-title class_">CurveNavigation</span>({
        <span class="hljs-attr">navigationSize</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">//tabæ•°é‡</span>
        <span class="hljs-attr">navigationPaddingBottom</span>: <span class="hljs-title class_">WindowUtils</span>.<span class="hljs-property">windowBottomNavHeight</span>,
        <span class="hljs-attr">onPageChange</span>: <span class="hljs-function">(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectIndex</span> = position
        },
        <span class="hljs-attr">tabView</span>: <span class="hljs-function">(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">tabView</span>(position)
        },
        <span class="hljs-attr">pageView</span>: <span class="hljs-function">(<span class="hljs-params">position: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pageView</span>(position)
        }
      })
    }
    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre>
<h4 data-id="heading-8">å±æ€§ä»‹ç»</h4>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b2c5ded8c4647e0a9ef6626693bb82c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5LiA6bij:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767056123&amp;x-signature=YyLI5MEVxt%2FqlxkIPnUgDV5roQ8%3D" alt="" width="70%" loading="lazy"/></p>
<h2 data-id="heading-9">ç›¸å…³æ€»ç»“</h2>
<p>ç›®å‰å”¯ä¸€çš„é—æ†¾æ˜¯ï¼Œæ²¡æœ‰å®ç°æ›²çº¿åœ¨åˆ‡æ¢æ—¶çš„åŠ¨ç”»åç§»ï¼Œè€Œæ˜¯ç›´æ¥çš„åˆ‡æ¢ï¼Œåç»­ä¼šé’ˆå¯¹è¿™å—å†å•ç‹¬çš„å¤„ç†ï¼Œå¤§å®¶å¯ä»¥å…ˆè¿›è¡Œä½¿ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®ä¼ å‚æ˜å¦™ç† ä¸´å±å—å‘½é€¢è½¬æœº]]></title>    <link>https://juejin.cn/post/7586531677720723491</link>    <guid>https://juejin.cn/post/7586531677720723491</guid>    <pubDate>2025-12-23T00:57:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586531677720723491" data-draft-id="7584909732612554787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®ä¼ å‚æ˜å¦™ç† ä¸´å±å—å‘½é€¢è½¬æœº"/> <meta itemprop="keywords" content="Kotlin,Android"/> <meta itemprop="datePublished" content="2025-12-23T00:57:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®ä¼ å‚æ˜å¦™ç† ä¸´å±å—å‘½é€¢è½¬æœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T00:57:57.000Z" title="Tue Dec 23 2025 00:57:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><em>æœ¬ç³»åˆ—ä¸º Android æŠ€æœ¯èŒåœºé¢˜æè™šæ„å°è¯´ï¼Œæ‰€æœ‰ç™»åœºäººç‰©ã€å…¬å¸åç§°ã€ç»„ç»‡æ¶æ„åŠç›¸å…³æƒ…èŠ‚å‡ä¸ºåˆ›ä½œæ‰€éœ€è™šæ„è€Œæ¥ï¼Œè‹¥æœ‰é›·åŒï¼Œçº¯å±å¶ç„¶ã€‚ä¹¦ä¸­æ¶‰åŠçš„æŠ€æœ¯çŸ¥è¯†ç»ä¸“ä¸šæ¢³ç†ï¼Œä»…ä¾›å‚è€ƒã€‚</em></p>
<h2 data-id="heading-0">å…­ï¼‰æ•°æ®ä¼ å‚æ˜å¦™ç† ä¸´å±å—å‘½é€¢è½¬æœº</h2>
<p>ç¬¬äºŒå¤©ä¸€æ—©ï¼ŒåŸ¹è®­å®¤é‡Œé˜³å…‰æ­£å¥½ï¼Œä¸‰ä¸ªå®ä¹ ç”Ÿå´å¯¹ç€æ—å“æ˜¨å¤©å¸ƒç½®çš„é¡¹ç›®ä»»åŠ¡æ„çœ‰ä¸å±•ã€‚</p>
<p>è¿™æ¬¡ä»»åŠ¡çš„æ ¸å¿ƒæ˜¯ç”¨Androidå››å¤§ç»„ä»¶ä¸²è”å„åŠŸèƒ½æ¨¡å—ï¼Œå¯å®é™…å¼€å‘èµ·æ¥ï¼Œä¸å°‘æŠ€æœ¯ç»†èŠ‚éƒ½è®©ä»–ä»¬å¡äº†å£³ã€‚åŸ¹è®­å®¤é‡Œé™æ‚„æ‚„çš„ï¼Œåªæœ‰é¼ æ ‡ç‚¹å‡»å’Œç¿»ç¬”è®°çš„å£°éŸ³ã€‚</p>
<p>é˜¿æ³½å¡åœ¨äº† <code>Activity</code> è·³è½¬åŠŸèƒ½çš„æ‹“å±•éœ€æ±‚ä¸Šï¼Œç¿»æ–‡æ¡£æ—¶å¶ç„¶çœ‹åˆ° <code>Deep link</code> ç›¸å…³å†…å®¹ï¼Œå´å®Œå…¨æ‘¸ä¸ç€å¤´ç»ªã€‚</p>
<p>ä»–çŠ¹è±«äº†å‡ ç§’ï¼Œè¿˜æ˜¯æ‰“å¼€å…¬å¸å†…éƒ¨é€šè®¯è½¯ä»¶â€œQä¹¦â€ï¼Œåœ¨æ—å“åˆ›å»ºçš„å®ä¹ ç”Ÿç­”ç–‘ç¾¤é‡Œå‘å»æé—®æ¶ˆæ¯ã€‚</p>
<p>â€œæ—å“¥ï¼Œæˆ‘åœ¨åšè¿™æ¬¡ä»»åŠ¡é‡Œçš„ <code>Activity</code> è·³è½¬åŠŸèƒ½ï¼Œæƒ³åŠ ä¸ªå¤–éƒ¨å”¤é†’çš„æ‹“å±•ï¼Œç¿»æ–‡æ¡£æ—¶çœ‹åˆ°äº† <code>Deep link</code>ï¼Œä½†æ²¡ææ‡‚å®ƒæ˜¯æ€ä¹ˆå®ç°ä»å¤–éƒ¨ç›´æ¥è·³è½¬åˆ°APPç‰¹å®šé¡µé¢çš„å‘€ï¼Ÿâ€</p>
<p>åŒä¸€æ—¶é—´ï¼Œæ­£åœ¨å·¥ä½å¤„ç†å·¥ä½œçš„æ—å“ï¼Œç›®å…‰æ—©å·²ä¸å—æ§åˆ¶åœ°é£˜å‘ä¸è¿œå¤„æµ‹è¯•åŒºå°å®‰çš„å·¥ä½ã€‚ä»–çš„æ€ç»ªæœ‰äº›é£˜å¿½ï¼Œæ»¡æ˜¯ç»†ç¢çš„å¿µå¤´â€”â€”æ˜¨å¤©ä¸€æ•´å¤©å¿™ç€ç»™å®ä¹ ç”Ÿè®²è§£ï¼Œç«Ÿæ²¡æ€ä¹ˆè§åˆ°å°å®‰ï¼Œæ¡Œä¸ŠQä¹¦å¼¹å‡ºçš„ç¾¤æ¶ˆæ¯æé†’ï¼Œå…¨ç„¶æ²¡å…¥ä»–çš„çœ¼ã€‚</p>
<p>æ­¤æ—¶å°å®‰æ­£ä½å¤´è°ƒè¯•è®¾å¤‡ï¼Œé˜³å…‰è½åœ¨å¥¹çš„å‘é¡¶ï¼Œå‹¾å‹’å‡ºä¸€åœˆæŸ”å’Œçš„å…‰æ™•ã€‚</p>
<p>æ—å“çš„ç›®å…‰åœ¨å¥¹èº«ä¸Šå¤šåœç•™äº†å‡ ç§’ï¼ŒæŒ‡å°–æ— æ„è¯†åœ°æ•²ç€æ¡Œé¢ï¼Œè¿å›å¤æ¶ˆæ¯çš„åŠ¨ä½œéƒ½æ…¢äº†åŠæ‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c6c712a0f5f4619ae94554689ffdef1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767056277&amp;x-signature=JIj5U97d1GgH8Zru9oCa3TxSRHc%3D" alt="1.png" loading="lazy"/></p>
<p>ä»–æ”¶å›ç›®å…‰ï¼Œå¿«é€Ÿåœ¨ç¾¤é‡Œå›å¤é˜¿æ³½ï¼Œè¿˜é™„ä¸Šç®€å•çš„ç¤ºä¾‹ä»£ç è¯´æ˜ã€‚</p>
<p>â€œè¦å®ç° <code>Deep link</code>ï¼Œæ ¸å¿ƒæ˜¯åœ¨ <code>AndroidManifest.xml</code> é‡Œç»™ç›®æ ‡<code>Activity</code> é…ç½® <code>intent-filter</code>ï¼ŒæŒ‡å®šå¯¹åº”çš„åè®®ã€åŸŸåå’Œè·¯å¾„ï¼Œå°±åƒç»™é¡µé¢é…äº†ä¸ªä¸“å±â€˜å¤–éƒ¨é—¨ç‰Œå·â€™ã€‚â€</p>
<p>é˜¿æ³½çœ‹åˆ°ç¾¤é‡Œçš„å›å¤åï¼Œç´§æ¥ç€è¿½é—®ï¼šâ€œæ—å“¥ï¼Œé‚£æµ‹è¯•æ—¶å’‹éªŒè¯ <code>Deep link</code> èƒ½ç”¨å•Šï¼Ÿâ€</p>
<p>æ—å“æŒ‡å°–æ•²é”®ç›˜çš„é€Ÿåº¦æ…¢äº†äº›ï¼Œè¯­æ°”ä¾æ—§å¸¦ç€å‡ åˆ†å¿ƒä¸åœ¨ç„‰ã€‚</p>
<p>â€œç”¨ <code>adb</code> å‘½ä»¤æ¨¡æ‹Ÿå°±è¡Œï¼Œæ–‡æ¡£é‡Œæœ‰ç°æˆçš„å‘½ä»¤æ¨¡æ¿ï¼ŒæŠŠåŒ…åå’Œé“¾æ¥æ›¿æ¢æˆè‡ªå·±çš„ã€‚è‡³äºå¤šè®¾å¤‡å…¼å®¹ï¼Œé‡ç‚¹æµ‹ä¸åŒAndroidç‰ˆæœ¬ã€‚â€</p>
<p>ä»–æ²¡åƒå¾€å¸¸ä¸€æ ·å±•å¼€ä¸¾ä¾‹ï¼Œåªæ¡æ ¸å¿ƒè¦ç‚¹å›å¤ã€‚</p>
<p>é˜¿æ³½å¯¹ç€æ¶ˆæ¯ç¢ç£¨ç‰‡åˆ»ï¼Œèµ¶ç´§åœ¨ç¬”è®°æœ¬ä¸Šåˆ’äº†é‡ç‚¹ã€‚</p>
<p>åšæ–‡å’Œæ™“é›…ä¹Ÿéƒ½çœ‹åˆ°äº†ç¾¤é‡Œçš„å›å¤ï¼Œä¸‰äººä¸€èµ·è®¨è®ºç€ <code>Deep link</code> çš„å®ç°ç»†èŠ‚ï¼Œå„è‡ªå¯¹ç…§æ–‡æ¡£æ¢³ç†è¦ç‚¹ã€‚</p>
<p>æ²¡è¿‡å¤šä¹…ï¼Œæ™“é›…åœ¨ç¾¤é‡Œå‘èµ·æé—®ã€‚</p>
<p>â€œæ—å“¥ï¼Œ<code>Activity</code> çš„ <code>singleTask</code> å’Œ <code>singleInstance</code> å¯åŠ¨æ¨¡å¼ï¼Œæˆ‘å¯¹ç€æ–‡æ¡£çœ‹äº†åŠå¤©è¿˜æ˜¯åˆ†ä¸æ¸…ï¼Œå®ƒä»¬ä¸éƒ½æ˜¯åªæœ‰ä¸€ä¸ªå®ä¾‹å—ï¼Ÿâ€</p>
<p>æ—å“çš„è¯­æ°”æœ‰å‡ åˆ†å¿ƒä¸åœ¨ç„‰ï¼šâ€œæ ¸å¿ƒåŒºåˆ«åœ¨ä»»åŠ¡å½’å±ï¼š<code>singleTask</code> æ˜¯åœ¨å½“å‰ä»»åŠ¡é‡Œä¿æŒå•ä¾‹ï¼›<code>singleInstance</code> ä¼šå•ç‹¬å ä¸€ä¸ªä»»åŠ¡ï¼Œè¯¥ <code>Activity</code> æ‰€åœ¨çš„ä»»åŠ¡æ ˆåªå…è®¸å®ƒè‡ªå·±å­˜åœ¨ï¼Œæ–°å¯åŠ¨çš„å…¶ä»– <code>Activity</code> ä¼šè¢«æ”¾å…¥å…¶ä»–ä»»åŠ¡æ ˆã€‚â€</p>
<p>è€Œåšæ–‡ï¼Œåˆ™å¯¹ä¼ å‚æœ‰ç–‘é—®ï¼šâ€œæ—å“¥ï¼Œ<code>Bundle</code> å’Œ <code>Intent</code> ä¼ å‚æœ‰å•¥åŒºåˆ«å•Šï¼Ÿæ–‡æ¡£é‡Œè¯´å®ƒèƒ½åœ¨ç»„ä»¶é—´ä¼ æ•°æ®ï¼Œæˆ‘å’‹æ„Ÿè§‰ç”¨ <code>Intent.putExtra()</code> ä¹Ÿèƒ½ç›´æ¥ä¼ å‘¢ï¼Ÿâ€</p>
<p>æ—å“æœºæ¢°åœ°å¤è¿°é“ï¼šâ€œ<code>Intent.putExtra()</code> æœ¬è´¨å°±æ˜¯æŠŠæ•°æ®å°è£…è¿› <code>Bundle</code> é‡Œäº†ï¼Œ<code>Bundle</code> æ˜¯ä¸“é—¨çš„é”®å€¼å¯¹ç»“æ„ï¼Œé™¤äº† <code>Activity</code> é—´ä¼ å‚ï¼Œè¿˜èƒ½åœ¨ <code>Fragment</code> é—´ç”¨ <code>setArguments()</code> ä¼ ï¼Œæˆ–è€…åœ¨ <code>onSaveInstanceState()</code> é‡Œä¿å­˜ UI çŠ¶æ€ã€‚â€</p>
<p>å…¶å®ä»–è„‘å­é‡Œé—ªè¿‡äº†â€œå¯å­˜å‚¨ç±»å‹â€è¿™ä¸ªæŠ€æœ¯è¦ç‚¹ï¼Œæœ¬æƒ³è¡¥å……è¯´æ˜å‡ å¥ã€‚</p>
<p>å¯å¿ƒæ€åˆä¸ç”±è‡ªä¸»é£˜åˆ°äº†å°å®‰é‚£è¾¹ï¼Œæ•²é”®ç›˜çš„åŠ¨ä½œä¸€é¡¿ï¼Œæœ€ç»ˆåªæ½¦è‰åœ°ç»“æŸäº†å›å¤ã€‚</p>
<p>é˜¿æ³½èµ¶ç´§åœ¨ç¬”è®°æœ¬ä¸Šåˆ’äº†é‡ç‚¹ç¬¦å·ï¼Œç”Ÿæ€•æ¼äº†å…³é”®ä¿¡æ¯ã€‚å¾…åšæ–‡çš„é—®é¢˜å‘Šä¸€æ®µè½ï¼Œä»–åˆåœ¨ç¾¤é‡Œæé—®ï¼šâ€œæ—å“¥ï¼Œæˆ‘çœ‹åˆ°æ–‡æ¡£é‡Œè®²é…ç½®å˜æ›´ï¼Œè¯´å±å¹•æ—‹è½¬ä¼šé”€æ¯é‡å»º <code>Activity</code>ï¼Œé‚£æ€ä¹ˆé˜²æ­¢ç”¨æˆ·è¾“å…¥çš„å†…å®¹ä¸¢äº†å•Šï¼Ÿâ€</p>
<p>è¿™ä¸ªé—®é¢˜å…¶å®æ˜¯ä¸ªå…³é”®æŠ€æœ¯ç‚¹ï¼Œé¢è¯•å¸¸è€ƒï¼Œä½†æ˜¯æ—å“çš„æ³¨æ„åŠ›å…¨ç„¶ä¸åœ¨è¿™é‡Œï¼Œåªæ˜¯è‰è‰å›åº”ï¼šâ€œä¸¤ç§åŠæ³•ï¼Œè¦ä¹ˆç”¨ <code>onSaveInstanceState()</code> é€šè¿‡ <code>Bundle</code> å­˜ä¸´æ—¶çŠ¶æ€ï¼Œè¦ä¹ˆç”¨ <code>ViewModel</code> ç®¡ç†æ•°æ®ï¼Œå®ƒèƒ½åœ¨ <code>Activity</code> é‡å»ºæ—¶ä¿ç•™æ•°æ®ã€‚ä¹Ÿå¯ä»¥åœ¨ <code>AndroidManifest</code> é‡ŒåŠ  <code>android:configChanges</code> å±æ€§é¿å…é‡å»ºï¼Œä½†å®¹æ˜“å‡ºé—®é¢˜ï¼Œæ…ç”¨ã€‚â€</p>
<p>ä»–æ²¡å±•å¼€è®² <code>onRestoreInstanceState()</code> çš„ç”¨æ³•ï¼Œä¹Ÿæ²¡ç»†è¯´å„æ–¹æ³•çš„é€‚ç”¨åœºæ™¯ã€‚</p>
<p>ä¸‰ä¸ªå®ä¹ ç”Ÿåªå¥½å¯¹ç€æ–‡æ¡£é‡Œçš„ä»£ç ç¤ºä¾‹åå¤ç¢ç£¨ã€‚</p>
<p>æ™“é›…ç ”ç©¶ç‰‡åˆ»åï¼Œåˆåœ¨ç¾¤é‡Œè¿½é—®ï¼šâ€œé‚£ <code>Fragment</code> ä¹‹é—´ä¼ æ•°æ®ï¼Œé™¤äº† <code>Bundle</code> è¿˜æœ‰åˆ«çš„åŠæ³•å—ï¼Ÿæ–‡æ¡£é‡Œæçš„å…±äº« <code>ViewModel</code> å’Œ <code>Fragment Result API</code> æˆ‘å®Œå…¨æ²¡çœ‹æ‡‚ã€‚â€</p>
<p>æ—å“æ•·è¡é“ï¼šâ€œåŒä¸€ä¸ª <code>Activity</code> é‡Œçš„ <code>Fragment</code>ï¼Œç”¨å…±äº« <code>ViewModel</code> æœ€æ–¹ä¾¿ï¼Œé€šè¿‡ <code>activityViewModels()</code> è·å–åŒä¸€ä¸ªå®ä¾‹å°±èƒ½å…±äº«æ•°æ®ï¼›å¦‚æœæ˜¯éœ€è¦è¿”å›ä¸€æ¬¡æ€§ç»“æœçš„ï¼Œæ¯”å¦‚æ‰«æäºŒç»´ç åå›ä¼ ç»“æœï¼Œå°±ç”¨ <code>Fragment Result API</code>ï¼Œç”¨ <code>setFragmentResultListener()</code> æ³¨å†Œç›‘å¬å°±è¡Œã€‚â€</p>
<p>ä»–æ—¢æ²¡æä»£ç ç¤ºä¾‹ï¼Œä¹Ÿæ²¡è§£é‡Šæ ¸å¿ƒåŸç†ã€‚</p>
<p>æ™“é›…æŠŠâ€œå…±äº« <code>ViewModel</code> ä½œç”¨åŸŸâ€è¿™ä¸ªå…³é”®è¯åœˆäº†å‡ºæ¥ï¼Œæ‰“ç®—åç»­è‡ªå·±æŸ¥èµ„æ–™è¡¥å……ã€‚</p>
<p>ä¸´è¿‘ä¸­åˆï¼Œæ—å“å€Ÿå£å»èŒ¶æ°´é—´ï¼Œç»•åˆ°äº†å°å®‰çš„å·¥ä½æ—ã€‚</p>
<p>å°å®‰æ­£å¿™ç€ç»™æµ‹è¯•è®¾å¤‡å……ç”µï¼Œæ¡Œä¸Šæ‘†æ»¡äº†å„å¼å„æ ·çš„æ‰‹æœºå’Œå¹³æ¿ï¼Œæ­£æ˜¯æ˜¨å¤©ä¸‰äººçœ‹åˆ°çš„é‚£ä¸€å¤§å †æµ‹è¯•è®¾å¤‡ã€‚</p>
<p>â€œå°å®‰ï¼Œä¸­åˆä¸€èµ·å»æ¥¼ä¸‹åƒé‚£å®¶æ–°å¼€çš„è½»é£Ÿæ€ä¹ˆæ ·ï¼Ÿå¬è¯´æ²™æ‹‰åšå¾—ä¸é”™ã€‚â€</p>
<p>æ—å“çš„å£°éŸ³å¸¦ç€ä¸€ä¸ä¸æ˜“å¯Ÿè§‰çš„ç´§å¼ ã€‚</p>
<p>å°å®‰æ‰‹ä¸Šçš„åŠ¨ä½œæ²¡åœï¼Œå¤´ä¹Ÿæ²¡æŠ¬åœ°è¯´ï¼šâ€œæˆ‘æ‰‹ä¸Šè¿˜æœ‰å‡ ä¸ªæµ‹è¯•ç”¨ä¾‹æ²¡è·‘å®Œï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½èµ¶å¾—åŠã€‚â€</p>
<p>å¥¹æ²¡æœ‰ç›´æ¥æ‹’ç»ï¼Œæ—å“ç«‹åˆ»æ¥è¯ï¼šâ€œæˆ‘ç­‰ä½ ï¼Œåæ­£æˆ‘ä¹Ÿä¸ç€æ€¥ã€‚â€</p>
<p>å°å®‰æ²¡å†å›åº”ï¼Œåªæ˜¯å˜´è§’æ‚„æ‚„å‹¾äº†ä¸€ä¸‹ï¼Œå¿«å¾—è®©äººä»¥ä¸ºæ˜¯é”™è§‰ã€‚</p>
<p>åäºŒç‚¹åŠï¼Œå°å®‰ç»ˆäºå¤„ç†å®Œæ‰‹å¤´çš„å·¥ä½œï¼Œè·Ÿç€æ—å“ä¸‹äº†æ¥¼ã€‚</p>
<p>è½»é£Ÿåº—äººä¸å¤šï¼Œä¸¤äººæ‰¾äº†ä¸ªé çª—çš„ä½ç½®åä¸‹ã€‚æœåŠ¡å‘˜é€’æ¥èœå•ï¼Œä¸¤äººç®€å•ç‚¹å®Œé¤ã€‚</p>
<p>æ¡Œä¸Šä¸€æ—¶é™·å…¥æ²‰é»˜ï¼Œåªæœ‰çª—å¤–çš„è½¦æµå£°éšçº¦ä¼ æ¥ã€‚</p>
<p>æ—å“æ”¥äº†æ”¥æ‰‹æŒ‡ï¼Œä¸»åŠ¨æ‰“ç ´å®‰é™ã€‚ä»–å¸¦ç€ç‚¹å§”å±ˆçš„è¯­æ°”å¼€äº†å£ï¼šâ€œä½ æ˜¯ä¸çŸ¥é“æˆ‘è¿™ä¸¤å¤©æœ‰å¤šç†¬äººï¼Œæ‰‹ä¸Šæ”’äº†ä¸€å †é¡¹ç›®Bugæ²¡æ¸…ç†ï¼Œè¿˜å¾—ç»™å®ä¹ ç”Ÿæ•´ç†èµ„æ–™ã€å¸ƒç½®ä»»åŠ¡ã€‚ä»Šå¤©ä»–ä»¬åœ¨Qä¹¦ç¾¤é‡Œè¿½ç€é—®å„ç§æŠ€æœ¯é—®é¢˜ï¼Œæˆ‘è„‘å­å…¨ç¨‹éƒ½æ˜¯ä¹±çš„ï¼Œè¿é™ä¸‹å¿ƒæ¥å¥½å¥½ç†ç†æ€è·¯çš„æ—¶é—´éƒ½æ²¡æœ‰ã€‚â€</p>
<p>ä»–çµ®çµ®å¨å¨åœ°è¯´ç€ï¼Œä»å®ä¹ ç”Ÿäº”èŠ±å…«é—¨çš„è¿½é—®ï¼Œè¯´åˆ°è‡ªå·±è¢«å·¥ä½œç¼ å¾—è„±ä¸å¼€èº«çš„çŠ¶æ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/567ca8cdb78143ca86b16234ed84dd52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767056277&amp;x-signature=6UgO8y%2BptdOepVxAFL1o5l3s4TM%3D" alt="2.png" loading="lazy"/></p>
<p>çœ¼ç¥å´ä¸€ç›´æ‚„æ‚„ç•™æ„ç€å°å®‰çš„ååº”ã€‚</p>
<p>å°å®‰èµ·åˆè¿˜ç»´æŒç€å‡ åˆ†ç–ç¦»ï¼Œå®‰é™åœ°å¬ç€ã€‚å¥¹æŒ‡å°–æ— æ„è¯†åœ°æ‘©æŒ²ç€æ°´æ¯è¾¹ç¼˜ï¼Œçœ¼ç¥é‡Œå´è—ç€ç‚¹æ²¡è¯´ç ´çš„æƒ…ç»ªã€‚</p>
<p>å¬ç€å¬ç€ï¼Œå¥¹æ²¡å¿ä½å¼€å£ï¼Œè¯­æ°”é‡Œå¸¦ç€ç‚¹ä¸æ˜“å¯Ÿè§‰çš„é…¸æ„ï¼Œå´åˆè£…å¾—æ¼«ä¸ç»å¿ƒï¼šâ€œæˆ‘çœ‹ä½ å˜´ä¹Ÿä¸ç¬¨å•Šï¼Œç»™æ™“é›…ä»–ä»¬è®²è§£é—®é¢˜çš„æ—¶å€™ï¼Œä¸æ˜¯æŒºè®¤çœŸçš„å˜›ï¼Œç§ç€å€’åƒæ˜¯ä¹åœ¨å…¶ä¸­ï¼Œå“ªæ¥çš„ä»€ä¹ˆè‹¦å¯è¯‰ã€‚â€</p>
<p>è¯é”‹ä¸€è½¬ï¼Œå¥¹åˆå¸¦ä¸Šäº†ç‚¹å·¥ä½œä¸Šçš„ä¸¥è‚ƒï¼Œåƒæ˜¯åœ¨åæ§½å´åˆæ²¡çœŸçš„åŠ¨æ°”ã€‚</p>
<p>â€œå†è¯´æˆ‘è¿™å„¿ï¼Œæ˜¨å¤©æµ‹è¯•ä»»åŠ¡æœ¬å°±å †å¾—æ»¡ï¼Œååè¿˜ä»ä½ è´Ÿè´£çš„æ¨¡å—é‡Œï¼Œæµ‹å‡ºäº†ä¸€å †Bugã€‚æˆ‘ä¼°æ‘¸ç€è¿™ä¸¤å¤©è¿˜å¾—æŸ¥å‡ºä¸å°‘ï¼Œä½ å¯å¾—æŠ“ç´§æ—¶é—´æ”¹ï¼Œåˆ«åˆ°æ—¶å€™è€½è¯¯äº†æ•´ä½“çš„é¡¹ç›®è¿›åº¦ã€‚â€</p>
<p>å¥¹è¯´å®Œï¼Œå‚çœ¸æŠ¿äº†å£æ°´æ¯é‡Œçš„æ°´ã€‚è€³å°–å´æ‚„æ‚„æ³›èµ·ä¸€ç‚¹çº¢ï¼Œæ²¡æ•¢å»çœ‹æ—å“çš„çœ¼ç›ã€‚</p>
<p>æ—å“ä¸€å¬å¥¹è¿™è¯ï¼ŒåŸæœ¬çš„ç´§å¼ æ¶ˆæ•£äº†å¤§åŠï¼Œå´åˆå¤šäº†ç‚¹å°å¿ƒç¿¼ç¿¼çš„æ¬£å–œã€‚</p>
<p>ä»–èµ¶ç´§æ¥è¯ï¼Œè¯­æ°”å¸¦ç€ç‚¹è®¨å¥½åˆä¸å¤±çœŸè¯šï¼šâ€œå“ªå„¿èƒ½ä¹åœ¨å…¶ä¸­å•Šï¼Œè·Ÿä»–ä»¬è®²è§£çº¯å±å·¥ä½œï¼Œè¿˜æ²¡æœ‰ç»™ä½ æ”¹Bugè‡ªåœ¨ã€‚â€</p>
<p>é¡¿äº†é¡¿ï¼Œä»–åˆèµ¶ç´§è¡¨æ€åº¦ï¼šâ€œBugä½ æ”¾å¿ƒï¼Œæˆ‘ä»Šæ™šä¸ŠåŠ ä¸ªç­éƒ½ç»™æ¸…å¹²å‡€ï¼Œç»å¯¹ä¸è€½è¯¯ä½ æµ‹è¯•ã€‚å¯¹äº†ï¼Œä½ æµ‹å‡ºçš„é‚£äº›Bugï¼Œæœ‰æ²¡æœ‰ä¼˜å…ˆçº§ç‰¹åˆ«é«˜çš„ï¼Ÿä½ æŠ½ç©ºè·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘é‡ç‚¹ä¼˜å…ˆæ”¹ï¼Œçœå¾—ä½ åå¤è·‘æµ‹è¯•ç”¨ä¾‹è´¹åŠŸå¤«ã€‚â€</p>
<p>ä¸¤äººè¾¹åƒè¾¹èŠï¼Œè¯é¢˜ä»å·¥ä½œæ…¢æ…¢å»¶ä¼¸åˆ°ç”Ÿæ´»çäº‹ã€‚</p>
<p>å…ˆå‰çš„ç–ç¦»æ„Ÿæ¸æ¸æ¶ˆæ•£ï¼Œæ°”æ°›æ—©å·²æ¢å¤äº†å¾€æ—¥çš„èæ´½ã€‚</p>
<p>ä¸‹åˆä¸€ç‚¹å¤šï¼Œä¸¤äººå›åˆ°å…¬å¸ã€‚</p>
<p>åˆšèµ°åˆ°åŠå…¬åŒºé—¨å£ï¼Œå°±ç¢°åˆ°äº†è€æ¨ã€‚</p>
<p>è€æ¨ç¬‘ç€è¿ä¸Šæ¥ï¼Œéšå£é—®äº†ä¸€å¥ï¼šâ€œå°æ—ï¼Œå°å®‰ï¼Œä¸­åˆå»å“ªå„¿åƒäº†ï¼Ÿâ€</p>
<p>æ—å“å›é“ï¼šâ€œå»æ¥¼ä¸‹æ–°å¼€çš„é‚£å®¶è½»é£Ÿåº—å°äº†å°ï¼Œå‘³é“è¿˜ä¸é”™ã€‚â€</p>
<p>å°å®‰åœ¨ä¸€æ—è½»è½»ç‚¹å¤´é™„å’Œï¼šâ€œå—¯ï¼Œæ²™æ‹‰åšå¾—æŒºæ–°é²œçš„ã€‚â€</p>
<p>å¥¹çš„ç›®å…‰å¿½ç„¶è½åœ¨äº†è€æ¨æ‰‹é‡Œç«¯ç€çš„æªç“·æ¯ä¸Šã€‚æ¯é‡Œæ²‰ç€äº›è¤ç»¿è‰²çš„ä¸œè¥¿ï¼Œçœ‹ç€æœ‰äº›å¥‡ç‰¹ã€‚</p>
<p>å¥¹å¼€å£é—®é“ï¼šâ€œè€æ¨ï¼Œä½ æ¯å­é‡Œè¿™è¤ç»¿è‰²çš„æ˜¯å•¥å‘€ï¼Ÿâ€</p>
<p>è€æ¨æ‰¬äº†æ‰¬æ‰‹é‡Œçš„æ¯å­ï¼Œç¬‘ç€è§£é‡Šï¼šâ€œè¿™æ˜¯æˆ‘è‡ªå·±æ³¡çš„æŠ¹èŒ¶ç¾å¼ï¼Œä»Šå¤©æ‰‹ä¸€æŠ–ï¼ŒæŠ¹èŒ¶æ”¾å¤šäº†ï¼Œé¢œè‰²å°±æˆè¿™æ ·äº†ã€‚â€</p>
<p>ä»–è½»è½»æŠ¿äº†ä¸€å£ï¼Œåˆæ¥ç€è¯´é“ï¼šâ€œå…¶å®ä¸€å¼€å§‹æˆ‘ä¹Ÿè§‰å¾—ï¼ŒæŠ¹èŒ¶å’Œå’–å•¡è¿™ä¿©ä¸œè¥¿æ ¹æœ¬ä¸æ­ï¼Œä¸€ä¸ªæ¸…è‹¦ä¸€ä¸ªé†‡åšï¼Œå’‹æƒ³éƒ½è§‰å¾—ä¼šä¸²å‘³å„¿ã€‚â€</p>
<p>â€œå¯æ¶ä¸ä½æƒ³è¯•è¯•ï¼Œæ²¡æƒ³åˆ°æ³¡å‡ºæ¥è¿˜æŒºåˆæˆ‘èƒƒå£ã€‚â€</p>
<p>è¯´åˆ°è¿™å„¿ï¼Œä»–æ„å‘³æ·±é•¿åœ°çœ‹äº†æ—å“å’Œå°å®‰ä¸€çœ¼ã€‚è¯­æ°”é‡Œå¸¦ç€ç”Ÿæ´»çš„é€šé€ï¼šâ€œå¾ˆå¤šäº‹å„¿éƒ½è¿™æ ·ï¼Œçœ‹ç€ä¸æ­ã€æœ‰éš”é˜‚ï¼Œå¯çœŸè¯´å¼€äº†ï¼Œå°±èæ´½äº†ã€‚â€</p>
<p>å°å®‰é¢†ä¼šäº†å…¶ä¸­çš„éšå–»ï¼Œæ²¡å†åœç•™ï¼Œè½»å£°è¯´äº†å¥â€œè€æ¨æˆ‘ä»¬å…ˆå›å·¥ä½äº†â€ï¼Œä¾¿è½¬èº«å¿«æ­¥èµ°å›äº†æµ‹è¯•åŒºã€‚</p>
<p>æ—å“ä¹Ÿå¬å‡ºäº†è€æ¨è¯é‡Œçš„æ·±æ„ï¼Œè„¸é¢Šå¾®å¾®å‘çƒ«ï¼Œä¸€æ—¶ç«Ÿä¸çŸ¥è¯¥å¦‚ä½•æ¥è¯ã€‚ç‚¹äº†ç‚¹å¤´ï¼Œæœè€æ¨ç¬‘äº†ç¬‘ï¼Œè½¬èº«å¾€åŸ¹è®­å®¤çš„æ–¹å‘èµ°ã€‚</p>
<p>èµ°åˆ°åŸ¹è®­å®¤é—¨å£ï¼Œä»–å¿½ç„¶æƒ³èµ·ä¸Šåˆç»™å®ä¹ ç”Ÿç­”ç–‘æ—¶çš„ç–æ¼ã€‚ä¸ä»…é—æ¼äº† <code>ActivityManager</code> è¿™ä¸ªé‡è¦çŸ¥è¯†ç‚¹ï¼Œå¯¹å±å¹•æ—‹è½¬ç›¸å…³é—®é¢˜çš„è®²è§£ä¹Ÿä¸å¤Ÿé€å½»ã€‚</p>
<p>ä»–ä¾¿å†³å®šä¸‹åˆç»™å®ä¹ ç”Ÿè¡¥å……è®²è§£ä¸€ç•ªã€‚</p>
<p>èµ°è¿›åŸ¹è®­å®¤æ—¶ï¼Œåªè§ä¸‰ä¸ªå®ä¹ ç”Ÿæ—©å·²æ²¡äº†æ¸…æ™¨çš„æ„çœ‰ä¸å±•ï¼Œæ­£å›´ååœ¨ä¸€èµ·å¯¹ç€ä»£ç è°ƒè¯•ï¼Œå…¨ç„¶æ²‰æµ¸åœ¨é¡¹ç›®å®è·µä¸­ã€‚æ—å“è§çŠ¶æ²¡æœ‰è´¸ç„¶æ‰“æ‰°ï¼Œè€Œæ˜¯è½»å’³ä¸€å£°ç¤ºæ„å¤§å®¶æš‚åœï¼Œå¾…ä¸‰äººæŠ¬å¤´æœ›è¿‡æ¥ï¼Œæ‰æ¸©å’Œåœ°å¼€å£ï¼š</p>
<p>â€œä¸Šåˆå¤§å®¶åœ¨Qä¹¦ç¾¤é‡Œé—®çš„é—®é¢˜ï¼Œä¸å°‘çŸ¥è¯†ç‚¹æˆ‘éƒ½æ²¡å±•å¼€ç»†è®²ï¼Œå’±ä»¬ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯å†æ¢³ç†ä¸€éã€‚â€</p>
<p>â€œå¦å¤–ï¼Œè¿˜æœ‰ä¸ª <code>ActivityManager</code> çš„çŸ¥è¯†ç‚¹å¾—è¡¥ä¸€è¡¥ï¼Œå®ƒæ˜¯ç³»ç»ŸæœåŠ¡ï¼Œèƒ½æŸ¥å†…å­˜ä¿¡æ¯ã€è¿è¡Œè¿›ç¨‹ï¼Œè°ƒè¯•æ—¶ç”¨ <code>getMemoryInfo()</code> èƒ½åˆ¤æ–­è®¾å¤‡æ˜¯å¦ä½å†…å­˜ï¼Œé¿å… <code>OOM</code> é—®é¢˜ã€‚â€</p>
<p>æ™“é›…èµ¶ç´§æŠ¬ç¬”åšå¥½è®°å½•å‡†å¤‡ã€‚é¡ºä¾¿é—®é“ï¼šâ€œæ—å“¥ï¼Œä½ è¯´ <code>ActivityManager</code> èƒ½æŸ¥å†…å­˜ä¿¡æ¯ï¼Œé‚£å…·ä½“å’‹è·å–è¿™äº›å†…å­˜æ•°æ®å‘€ï¼Ÿå¼€å‘ä¸­çŸ¥é“è¿™äº›ä¿¡æ¯æœ‰å•¥å®é™…ç”¨å¤„å—ï¼Ÿâ€</p>
<p>æ—å“è®²è§£é“ï¼šâ€œè·å–å†…å­˜ä¿¡æ¯å¾ˆç®€å•ï¼Œå…ˆç”¨<code>getSystemService(Context.ACTIVITY_SERVICE)</code> è·å– <code>ActivityManager</code> å®ä¾‹ï¼Œå†é€šè¿‡ <code>getMemoryInfo()</code> æ–¹æ³•å°±èƒ½æ‹¿åˆ° <code>MemoryInfo</code> å¯¹è±¡ï¼Œé‡Œé¢åŒ…å«æ€»å†…å­˜ã€å¯ç”¨å†…å­˜è¿™äº›å…³é”®æ•°æ®ã€‚â€</p>
<p>æ¥ç€ä»–ä¸¾äº†å¼€å‘ä¸­å¸¸ç”¨çš„ä¾‹å­ï¼šâ€œå®é™…ç”¨å¤„å¯ä¸å°ï¼Œæ¯”å¦‚å’±ä»¬åšè§†é¢‘æ’­æ”¾æˆ–è€…å›¾ç‰‡æµè§ˆç±»åŠŸèƒ½æ—¶ï¼Œèƒ½é€šè¿‡è¿™äº›æ•°æ®åˆ¤æ–­è®¾å¤‡å†…å­˜æ˜¯å¦å……è¶³ã€‚è¦æ˜¯æ£€æµ‹åˆ°å¯ç”¨å†…å­˜è¿‡ä½ï¼Œå°±ä¸»åŠ¨é‡Šæ”¾ä¸€äº›éå¿…è¦çš„ç¼“å­˜èµ„æºï¼Œæ¯”å¦‚æ¸…ç©ºå›¾ç‰‡ç¼“å­˜ã€æš‚åœåå°é¢„åŠ è½½ä»»åŠ¡ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆé¿å… <strong>OOM</strong> å´©æºƒé—®é¢˜ï¼Œæå‡APPçš„ç¨³å®šæ€§ã€‚â€</p>
<p>ä»–è¿˜è¡¥å……äº†æ–‡æ¡£é‡Œçš„æ ¸å¿ƒè¦ç‚¹ï¼šâ€œè¿™ä¸ªæ˜¯å¼€å‘ä¸­å¸¸ç”¨çš„å…³é”®çŸ¥è¯†ç‚¹ï¼Œè®°ä½åˆ«ç”¨å®ƒéšä¾¿æ€å…¶ä»–åº”ç”¨è¿›ç¨‹ï¼Œå®¹æ˜“è§¦å‘ç³»ç»Ÿé™åˆ¶ã€‚â€</p>
<p>è®²è§£å®Œ <code>ActivityManager</code>ï¼Œæ™“é›…åˆé¡ºç€ä¸Šåˆçš„é—®é¢˜è¿½é—®ã€‚</p>
<p>â€œæ—å“¥ï¼Œä¸Šåˆä½ è¯´ç”¨ <code>android:configChanges</code> èƒ½é¿å… <code>Activity</code> é‡å»ºï¼Œå¯è¦æ˜¯çœŸè¿™ä¹ˆåšäº†ï¼Œå±å¹•æ—‹è½¬æ—¶çš„å¸ƒå±€å˜åŒ–è¯¥å’‹å¤„ç†å•Šï¼Ÿæˆ‘çœ‹æ–‡æ¡£é‡Œæäº†<code>onConfigurationChanged</code>ï¼Œä½†æ²¡çœ‹æ˜ç™½å…·ä½“å’‹ç”¨ã€‚â€</p>
<p>æ—å“æ¸…äº†æ¸…å—“å­ï¼Œè¯­æ°”æ¯”ä¸Šåˆè®¤çœŸäº†ä¸å°‘ã€‚</p>
<p>â€œé¦–å…ˆå¾—æ˜ç¡®ï¼Œç»™ <code>Activity</code> é…ç½®<code>android:configChanges</code> å±æ€§åï¼Œç³»ç»Ÿå°±ä¸ä¼šé”€æ¯é‡å»º<code>Activity</code> äº†ï¼Œè€Œæ˜¯ä¼šè°ƒç”¨ <code>onConfigurationChanged()</code> è¿™ä¸ªå›è°ƒæ–¹æ³•ã€‚â€</p>
<p>â€œå’±ä»¬è¦åšçš„ï¼Œå°±æ˜¯åœ¨è¿™ä¸ªæ–¹æ³•é‡Œæ‰‹åŠ¨å¤„ç†é…ç½®å˜åŒ–ï¼Œæ¯”å¦‚å±å¹•æ—‹è½¬åçš„å¸ƒå±€é€‚é…ã€èµ„æºé‡æ–°åŠ è½½è¿™äº›æ“ä½œã€‚â€</p>
<p>è¯´ç€ï¼Œä»–åœ¨ç™½æ¿ä¸Šç®€å•å†™äº†æ®µæ ¸å¿ƒä»£ç æ¡†æ¶ã€‚</p>
<p>â€œä½ ä»¬çœ‹ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šæ¥æ”¶ä¸€ä¸ª <code>Configuration</code> ç±»å‹çš„å‚æ•° <code>newConfig</code>ï¼Œé€šè¿‡å®ƒå°±èƒ½è·å–åˆ°æ–°çš„é…ç½®ä¿¡æ¯ã€‚â€</p>
<p>â€œæ¯”å¦‚åˆ¤æ–­å±å¹•æ–¹å‘ï¼Œå°±ç”¨ <code>newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE</code> è¡¨ç¤ºæ¨ªå±ï¼Œ<code>ORIENTATION_PORTRAIT</code> è¡¨ç¤ºç«–å±ï¼Œæ ¹æ®ä¸åŒæ–¹å‘åŠ è½½å¯¹åº”çš„å¸ƒå±€æ–‡ä»¶å°±è¡Œã€‚â€</p>
<p>ä»–è¿˜è¡¥å……äº†å®é™…å¼€å‘ä¸­çš„æ³¨æ„äº‹é¡¹ã€‚</p>
<p>â€œä¸¾ä¸ªä¾‹å­ï¼Œè¦æ˜¯å’±ä»¬çš„APPæœ‰æ¨ªå±å’Œç«–å±ä¸¤ç§ä¸åŒçš„å¸ƒå±€ï¼Œæ¨ªå±æ˜¯ä¸¤åˆ—å±•ç¤ºï¼Œç«–å±æ˜¯ä¸€åˆ—å±•ç¤ºï¼Œå°±å¯ä»¥åœ¨ <code>onConfigurationChanged()</code> é‡Œï¼Œæ ¹æ®æ–°çš„å±å¹•æ–¹å‘å» <code>findViewById</code> é‡æ–°ç»‘å®šæ§ä»¶ï¼Œæˆ–è€…åˆ‡æ¢ä¸åŒçš„å¸ƒå±€èµ„æºã€‚â€</p>
<p>â€œå¦å¤–ï¼Œåƒå›¾ç‰‡ã€å­—ç¬¦ä¸²è¿™äº›è·Ÿé…ç½®ç›¸å…³çš„èµ„æºï¼Œä¹Ÿå¾—åœ¨è¿™é‡Œé‡æ–°è·å–ï¼Œä¸ç„¶å¯èƒ½ä¼šå‡ºç°èµ„æºé”™ä¹±çš„é—®é¢˜ã€‚â€</p>
<p>è®²åˆ°è¿™å„¿ï¼Œä»–ç‰¹æ„å¼ºè°ƒã€‚</p>
<p>â€œä½†æˆ‘å¿…é¡»å†æé†’ä½ ä»¬ä¸€æ¬¡ï¼Œè¿™ç§æ–¹å¼æ˜¯æœ‰å¼Šç«¯çš„ã€‚æ‰€æœ‰é…ç½®å˜åŒ–çš„å¤„ç†éƒ½å¾—é å’±ä»¬è‡ªå·±æ‰‹åŠ¨å†™ä»£ç ï¼Œæ¯”å¦‚é™¤äº†å±å¹•æ—‹è½¬ï¼Œè¿˜æœ‰å­—ä½“å¤§å°å˜åŒ–ã€è¯­è¨€åˆ‡æ¢è¿™äº›é…ç½®ï¼Œè¦æ˜¯æ¼å¤„ç†äº†ï¼Œå¾ˆå®¹æ˜“å‡ºç°BUGã€‚â€</p>
<p>â€œæ‰€ä»¥éå¿…è¦çš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ä¼˜å…ˆç”¨ <code>ViewModel</code> æ¥ä¿å­˜æ•°æ®ï¼Œè®©ç³»ç»Ÿæ­£å¸¸é”€æ¯é‡å»º <code>Activity</code>ï¼Œè¿™æ ·æ›´çœå¿ƒä¹Ÿæ›´ç¨³å¦¥ã€‚â€</p>
<p>æ—å“æ­£è®²å¾—æŠ•å…¥ï¼ŒåŸ¹è®­å®¤é—¨å£çªç„¶ä¼ æ¥ä¸€é˜µæ€¥ä¿ƒçš„è„šæ­¥å£°â€”â€”ç ”å‘äºŒç»„çš„æŒèˆµäººï¼Œå¼ ç£Šã€‚</p>
<p>â€œæ—å“ï¼Œæœ‰ç´§æ€¥é¡¹ç›®æ”¯æ´ä¸€ä¸‹ã€‚â€å¼ ç£Šè¯­æ°”ç®€çŸ­ï¼Œæ²¡å¤šä½™å¯’æš„ï¼Œâ€œç«‹åˆ»æŠŠæ‰‹å¤´å·¥ä½œäº¤æ¥ä¸€ä¸‹ï¼Œè·Ÿæˆ‘å»ä¼šè®®å®¤ã€‚â€</p>
<p>æ—å“å¿ƒé‡Œå’¯å™”ä¸€ä¸‹ã€‚ä»–ä¸‹æ„è¯†æ‰«è¿‡ä¸‰ä¸ªä¸€è„¸é”™æ„•çš„å®ä¹ ç”Ÿï¼Œåˆšæƒ³å¼€å£è¯¢é—®ï¼Œå°±è¢«å¼ ç£Šçš„çœ¼ç¥åˆ¶æ­¢ã€‚</p>
<p>â€œåˆ«è€½æï¼Œé¡¹ç›®ä¼˜å…ˆçº§æœ€é«˜ã€‚â€å¼ ç£Šè¯´å®Œï¼Œè½¬èº«å°±å¾€é—¨å¤–èµ°ï¼Œåªç•™äº†å¥â€œæˆ‘åœ¨é—¨å£ç­‰ä½ â€ã€‚</p>
<p>æ—å“åƒµåœ¨åŸåœ°ï¼Œå®ä¹ ç”Ÿä»¬é¢é¢ç›¸è§‘ã€‚</p>
<p>å°±åœ¨è¿™æ—¶ï¼Œè€æ¨æ¥åˆ°åŸ¹è®­å®¤ï¼Œèµ°åˆ°æ—å“èº«è¾¹ï¼Œæ‹äº†æ‹ä»–çš„è‚©è†€ï¼Œå‹ä½å£°éŸ³æ‚„æ‚„å®å˜±ï¼šâ€œåˆ«æ…Œï¼Œèµ¶ç´§å»ï¼Œè¿™å¯æ˜¯è¡¨ç°çš„å¥½æœºä¼šï¼Œå¯¹ä½ ä¸‹åŠå¹´è½¬æ­£å¤§æœ‰å¥½å¤„ã€‚å®ä¹ ç”Ÿè¿™è¾¹æˆ‘å¸®ä½ çœ‹ç€ã€‚â€</p>
<p>æ—å“å›è¿‡ç¥ï¼Œå†²è€æ¨åŒ†åŒ†ç‚¹äº†ç‚¹å¤´ï¼Œä¾¿å¿«æ­¥å›å·¥ä½æŠ“äº†ç¬”è®°æœ¬å’Œæ‰‹æœºï¼Œå¿«æ­¥è·Ÿä¸Šå¼ ç£Šçš„è„šæ­¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc4b3b493b3d4de297ab452410ac87be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767056277&amp;x-signature=JV10W102fl%2BtEqmg4mBlJfjZYpU%3D" alt="3.png" loading="lazy"/></p>
<p>èµ°å»Šé‡Œçš„ç¯å…‰æ˜ ç€ä¸¤äººæ€¥ä¿ƒçš„èº«å½±ï¼Œæ—å“æ”¥ç€ç¬”è®°æœ¬çš„æŒ‡å°–å¾®å¾®å‘ç´§ã€‚</p>
<p>ä»–çŸ¥é“ï¼Œå¼ ç£Šäº²è‡ªç‚¹åçš„ç´§æ€¥ä»»åŠ¡ï¼Œä¸€å®šä¸ä¼šç®€å•......</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯]]></title>    <link>https://juejin.cn/post/7586500093844733994</link>    <guid>https://juejin.cn/post/7586500093844733994</guid>    <pubDate>2025-12-23T01:02:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586500093844733994" data-draft-id="7586555198115348486" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯"/> <meta itemprop="keywords" content="Laravel,PHP,åç«¯"/> <meta itemprop="datePublished" content="2025-12-23T01:02:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-23T01:02:52.000Z" title="Tue Dec 23 2025 01:02:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="arduino-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff}.hljs-subst,.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#434f54}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#00979d}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-literal{color:#d35400}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#00979d}.hljs-deletion,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#005c5f}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-comment{color:rgba(149,165,166,.8)}.hljs-meta-keyword{color:#728e00}.hljs-meta{color:#434f54}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-function{color:#728e00}.hljs-number{color:#8a7b52}</style><h2 data-id="heading-0">ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯</h2>
<p><code>Model Context Protocol</code> (MCP) æ­£åœ¨è¿…é€Ÿæˆä¸º AI åŠ©æ‰‹(å¦‚ Claudeã€ChatGPT å’Œ GitHub Copilot)ä¸å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡äº¤äº’çš„æ ‡å‡†æ–¹å¼ã€‚é€šè¿‡ Laravel MCP,ä½ å¯ä»¥å°† Laravel Workflow æµç¨‹æš´éœ²ä¸ºå¯è°ƒç”¨çš„å·¥å…·,ä»»ä½•å…¼å®¹ MCP çš„ AI å®¢æˆ·ç«¯éƒ½å¯ä»¥å‘ç°ã€è°ƒç”¨å’Œç›‘æ§è¿™äº›å·¥å…·ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­,æˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ª MCP æœåŠ¡å™¨,ä½¿ AI å®¢æˆ·ç«¯èƒ½å¤Ÿ:</p>
<ul>
<li>å‘ç°å¯ç”¨çš„å·¥ä½œæµ</li>
<li>å¼‚æ­¥å¯åŠ¨å·¥ä½œæµ</li>
<li>è½®è¯¢çŠ¶æ€å¹¶æ£€ç´¢ç»“æœ</li>
</ul>
<p>è¿™åˆ›å»ºäº†ä¸€ä¸ªå¼ºå¤§çš„æ¨¡å¼,AI ä»£ç†å¯ä»¥ç¼–æ’é•¿æ—¶é—´è¿è¡Œçš„æŒä¹…åŒ–å·¥ä½œæµ,éå¸¸é€‚åˆæ— æ³•åœ¨å•ä¸ªè¯·æ±‚ä¸­å®Œæˆçš„å¤æ‚ä»»åŠ¡ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2025-12%2Flaravel-workflows-mcp-tools-ai-clients" target="_blank" title="https://catchadmin.com/post/2025-12/laravel-workflows-mcp-tools-ai-clients" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥ ä½¿ç”¨ Laravel Workflow ä½œä¸º MCP å·¥å…·æä¾›ç»™ AI å®¢æˆ·ç«¯</a></p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆé€‰æ‹© MCP + Laravel Workflow?</h3>
<p>Laravel Workflow æ“…é•¿æŒä¹…åŒ–ã€æœ‰çŠ¶æ€çš„æ‰§è¡Œã€‚MCP æ“…é•¿ä¸º AI å®¢æˆ·ç«¯æä¾›å¯¹å¤–éƒ¨èƒ½åŠ›çš„ç»“æ„åŒ–è®¿é—®ã€‚ä¸¤è€…ç»“åˆå¯ä»¥å®ç°:</p>
<ul>
<li><strong>å¼‚æ­¥ AI æ“ä½œ</strong>:å¯åŠ¨å·¥ä½œæµ,ç»§ç»­å¯¹è¯,ç¨åæ£€æŸ¥ç»“æœ</li>
<li><strong>å¯é æ‰§è¡Œ</strong>:å·¥ä½œæµå¯ä»¥åœ¨å´©æºƒã€é‡è¯•å’Œé•¿æ—¶é—´ç­‰å¾…ä¸­å­˜æ´»</li>
<li><strong>å¯è§‚å¯Ÿæ€§</strong>:é€šè¿‡ Waterline çš„ä»ªè¡¨æ¿è·Ÿè¸ªæ¯ä¸ªå·¥ä½œæµ</li>
<li><strong>æ— çŠ¶æ€æœåŠ¡å™¨</strong>:MCP æœåŠ¡å™¨ä¸ä¿å­˜çŠ¶æ€ã€‚å®¢æˆ·ç«¯è·Ÿè¸ªå·¥ä½œæµ ID</li>
</ul>
<p>è¿™ç±»ä¼¼äºäººç±»å§”æ´¾ä»»åŠ¡çš„æ–¹å¼:"å¼€å§‹è¿™ä¸ªæŠ¥å‘Š,æˆ‘ç¨åå†æ£€æŸ¥ã€‚"</p>
<h3 data-id="heading-2">æˆ‘ä»¬è¦æ„å»ºä»€ä¹ˆ</h3>
<p>æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå·¥å…·çš„ MCP æœåŠ¡å™¨:</p>





















<table><thead><tr><th>å·¥å…·</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>list_workflows</td><td>å‘ç°å¯ç”¨çš„å·¥ä½œæµå¹¶æŸ¥çœ‹æœ€è¿‘çš„è¿è¡Œè®°å½•</td></tr><tr><td>start_workflow</td><td>å¯åŠ¨å·¥ä½œæµå¹¶è·å–è·Ÿè¸ª ID</td></tr><tr><td>get_workflow_result</td><td>æ£€æŸ¥çŠ¶æ€å¹¶åœ¨å®Œæˆæ—¶æ£€ç´¢è¾“å‡º</td></tr></tbody></table>
<h3 data-id="heading-3">åˆ†æ­¥å®ç°</h3>
<h4 data-id="heading-4">å®‰è£… Laravel MCP</h4>
<pre><code class="hljs language-bash" lang="bash">composer require laravel/mcp
php artisan vendor:publish --tag=ai-routes
</code></pre>
<p>è¿™ä¼šä¸ºä½ æä¾› <code>routes/ai.php</code>,ä½ å°†åœ¨å…¶ä¸­æ³¨å†Œ MCP æœåŠ¡å™¨ã€‚</p>
<h4 data-id="heading-5">åˆ›å»º MCP æœåŠ¡å™¨</h4>
<pre><code class="hljs language-bash" lang="bash">php artisan make:mcp-server WorkflowServer
</code></pre>
<p>ä¸º AI é…ç½®è¯´æ˜:</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">App</span>\<span class="hljs-title class_">Mcp</span>\<span class="hljs-title class_">Servers</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Tools</span>\<span class="hljs-title">GetWorkflowResultTool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Tools</span>\<span class="hljs-title">ListWorkflowsTool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Tools</span>\<span class="hljs-title">StartWorkflowTool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Server</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WorkflowServer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Server</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$name</span> = <span class="hljs-string">'Laravel Workflow Server'</span>;
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$version</span> = <span class="hljs-string">'1.0.0'</span>;

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$instructions</span> = &lt;&lt;&lt;<span class="hljs-string">'MARKDOWN'</span>
        This server allows you to start <span class="hljs-keyword">and</span> monitor Laravel Workflows.

        <span class="hljs-comment">## Typical Usage Pattern</span>

        <span class="hljs-number">1</span>. Call `list_workflows` to see what workflows are available.
        <span class="hljs-number">2</span>. Call `start_workflow` with the workflow name <span class="hljs-keyword">and</span> arguments.
        <span class="hljs-number">3</span>. Store the returned `workflow_id`.
        <span class="hljs-number">4</span>. Call `get_workflow_result` until status is `WorkflowCompletedStatus`.
        <span class="hljs-number">5</span>. Read the `output` field <span class="hljs-keyword">for</span> the result.

        <span class="hljs-comment">## Status Values</span>

        - `WorkflowCreatedStatus` - Workflow has been created
        - `WorkflowPendingStatus` - Queued <span class="hljs-keyword">for</span> execution
        - `WorkflowRunningStatus` - Currently executing
        - `WorkflowWaitingStatus` - <span class="hljs-title function_ invoke__">Waiting</span> (timer, signal, etc.)
        - `WorkflowCompletedStatus` - Finished successfully
        - `WorkflowFailedStatus` - Encountered an error
    MARKDOWN;

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">array</span> <span class="hljs-variable">$tools</span> = [
        <span class="hljs-title class_">ListWorkflowsTool</span>::<span class="hljs-variable language_">class</span>,
        <span class="hljs-title class_">StartWorkflowTool</span>::<span class="hljs-variable language_">class</span>,
        <span class="hljs-title class_">GetWorkflowResultTool</span>::<span class="hljs-variable language_">class</span>,
    ];
}
</code></pre>
<h4 data-id="heading-6">åˆ›å»ºå¯åŠ¨å·¥ä½œæµå·¥å…·</h4>
<pre><code class="hljs language-bash" lang="bash">php artisan make:mcp-tool StartWorkflowTool
</code></pre>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">App</span>\<span class="hljs-title class_">Mcp</span>\<span class="hljs-title class_">Tools</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">JsonSchema</span>\<span class="hljs-title">JsonSchema</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Support</span>\<span class="hljs-title">Arr</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Server</span>\<span class="hljs-title">Tool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">Workflow</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">WorkflowStub</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StartWorkflowTool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Tool</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$description</span> = &lt;&lt;&lt;<span class="hljs-string">'MARKDOWN'</span>
        Start a Laravel Workflow asynchronously <span class="hljs-keyword">and</span> <span class="hljs-keyword">return</span> its workflow ID.
        
        The workflow will execute in the background on the queue. Use the
        `get_workflow_result` tool to poll <span class="hljs-keyword">for</span> status <span class="hljs-keyword">and</span> retrieve results
        once the workflow completes.
    MARKDOWN;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params">Request <span class="hljs-variable">$request</span></span>): <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable">$data</span> = <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">validate</span>([
            <span class="hljs-string">'workflow'</span> =&gt; [<span class="hljs-string">'required'</span>, <span class="hljs-string">'string'</span>],
            <span class="hljs-string">'args'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'array'</span>],
            <span class="hljs-string">'external_id'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'string'</span>, <span class="hljs-string">'max:255'</span>],
        ]);

        <span class="hljs-variable">$workflowKey</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'workflow'</span>];
        <span class="hljs-variable">$args</span> = <span class="hljs-title class_">Arr</span>::<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-variable">$data</span>, <span class="hljs-string">'args'</span>, []);
        <span class="hljs-variable">$externalId</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'external_id'</span>] ?? <span class="hljs-literal">null</span>;

        <span class="hljs-variable">$workflowClass</span> = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">resolveWorkflowClass</span>(<span class="hljs-variable">$workflowKey</span>);

        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$workflowClass</span> === <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">"Unknown workflow: <span class="hljs-subst">{$workflowKey}</span>"</span>);
        }

        <span class="hljs-keyword">if</span> (! <span class="hljs-title function_ invoke__">class_exists</span>(<span class="hljs-variable">$workflowClass</span>) || ! <span class="hljs-title function_ invoke__">is_subclass_of</span>(<span class="hljs-variable">$workflowClass</span>, <span class="hljs-title class_">Workflow</span>::<span class="hljs-variable language_">class</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">"Invalid workflow class: <span class="hljs-subst">{$workflowClass}</span>"</span>);
        }

        <span class="hljs-variable">$stub</span> = <span class="hljs-title class_">WorkflowStub</span>::<span class="hljs-title function_ invoke__">make</span>(<span class="hljs-variable">$workflowClass</span>);
        <span class="hljs-variable">$stub</span>-&gt;<span class="hljs-title function_ invoke__">start</span>(...<span class="hljs-title function_ invoke__">array_values</span>(<span class="hljs-variable">$args</span>));

        <span class="hljs-variable">$status</span> = <span class="hljs-variable">$stub</span>-&gt;<span class="hljs-title function_ invoke__">status</span>();
        <span class="hljs-variable">$statusName</span> = <span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$status</span>) ? <span class="hljs-title function_ invoke__">class_basename</span>(<span class="hljs-variable">$status</span>) : <span class="hljs-title function_ invoke__">class_basename</span>((<span class="hljs-keyword">string</span>) <span class="hljs-variable">$status</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">json</span>([
            <span class="hljs-string">'workflow_id'</span> =&gt; <span class="hljs-variable">$stub</span>-&gt;<span class="hljs-title function_ invoke__">id</span>(),
            <span class="hljs-string">'workflow'</span> =&gt; <span class="hljs-variable">$workflowKey</span>,
            <span class="hljs-string">'status'</span> =&gt; <span class="hljs-variable">$statusName</span>,
            <span class="hljs-string">'external_id'</span> =&gt; <span class="hljs-variable">$externalId</span>,
            <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">'Workflow started. Use get_workflow_result to poll status.'</span>,
        ]);
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resolveWorkflowClass</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$key</span></span>): ?<span class="hljs-title">string</span>
    </span>{
        <span class="hljs-variable">$mapped</span> = <span class="hljs-title function_ invoke__">config</span>(<span class="hljs-string">"workflow_mcp.workflows.<span class="hljs-subst">{$key}</span>"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$mapped</span> !== <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable">$mapped</span>;
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">config</span>(<span class="hljs-string">'workflow_mcp.allow_fqcn'</span>, <span class="hljs-literal">false</span>) &amp;&amp; <span class="hljs-title function_ invoke__">str_contains</span>(<span class="hljs-variable">$key</span>, <span class="hljs-string">'\\'</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable">$key</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">schema</span>(<span class="hljs-params">JsonSchema <span class="hljs-variable">$schema</span></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-variable">$workflows</span> = <span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">', '</span>, <span class="hljs-title function_ invoke__">array_keys</span>(<span class="hljs-title function_ invoke__">config</span>(<span class="hljs-string">'workflow_mcp.workflows'</span>, [])));

        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'workflow'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">string</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">"The workflow to start. Available: <span class="hljs-subst">{$workflows}</span>"</span>),
            <span class="hljs-string">'args'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">object</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Arguments for the workflow execute() method.'</span>),
            <span class="hljs-string">'external_id'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">string</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Optional idempotency key for tracking.'</span>),
        ];
    }
}
</code></pre>
<h4 data-id="heading-7">åˆ›å»ºè·å–ç»“æœå·¥å…·</h4>
<pre><code class="hljs language-bash" lang="bash">php artisan make:mcp-tool GetWorkflowResultTool
</code></pre>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">App</span>\<span class="hljs-title class_">Mcp</span>\<span class="hljs-title class_">Tools</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">StoredWorkflow</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">JsonSchema</span>\<span class="hljs-title">JsonSchema</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Server</span>\<span class="hljs-title">Tool</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">States</span>\<span class="hljs-title">WorkflowCompletedStatus</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">States</span>\<span class="hljs-title">WorkflowFailedStatus</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Workflow</span>\<span class="hljs-title">WorkflowStub</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetWorkflowResultTool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Tool</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$description</span> = &lt;&lt;&lt;<span class="hljs-string">'MARKDOWN'</span>
        Fetch the status <span class="hljs-keyword">and</span>, <span class="hljs-keyword">if</span> completed, the output of a Laravel Workflow.
        
        Use the workflow_id returned by `start_workflow` to check progress.
        Once status is `WorkflowCompletedStatus`, the output field contains the result.
    MARKDOWN;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params">Request <span class="hljs-variable">$request</span></span>): <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable">$data</span> = <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">validate</span>([
            <span class="hljs-string">'workflow_id'</span> =&gt; [<span class="hljs-string">'required'</span>],
        ]);

        <span class="hljs-variable">$workflowId</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'workflow_id'</span>];
        <span class="hljs-variable">$stored</span> = <span class="hljs-title class_">StoredWorkflow</span>::<span class="hljs-title function_ invoke__">find</span>(<span class="hljs-variable">$workflowId</span>);

        <span class="hljs-keyword">if</span> (! <span class="hljs-variable">$stored</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">json</span>([
                <span class="hljs-string">'found'</span> =&gt; <span class="hljs-literal">false</span>,
                <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">"Workflow <span class="hljs-subst">{$workflowId}</span> not found."</span>,
            ]);
        }

        <span class="hljs-variable">$workflow</span> = <span class="hljs-title class_">WorkflowStub</span>::<span class="hljs-title function_ invoke__">load</span>(<span class="hljs-variable">$workflowId</span>);
        <span class="hljs-variable">$status</span> = <span class="hljs-variable">$workflow</span>-&gt;<span class="hljs-title function_ invoke__">status</span>();
        <span class="hljs-variable">$statusName</span> = <span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$status</span>) ? <span class="hljs-title function_ invoke__">class_basename</span>(<span class="hljs-variable">$status</span>) : <span class="hljs-title function_ invoke__">class_basename</span>((<span class="hljs-keyword">string</span>) <span class="hljs-variable">$status</span>);
        <span class="hljs-variable">$running</span> = <span class="hljs-variable">$workflow</span>-&gt;<span class="hljs-title function_ invoke__">running</span>();

        <span class="hljs-variable">$result</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable">$error</span> = <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">if</span> (! <span class="hljs-variable">$running</span> &amp;&amp; <span class="hljs-title function_ invoke__">str_contains</span>(<span class="hljs-variable">$statusName</span>, <span class="hljs-string">'Completed'</span>)) {
            <span class="hljs-variable">$result</span> = <span class="hljs-variable">$workflow</span>-&gt;<span class="hljs-title function_ invoke__">output</span>();
        }

        <span class="hljs-keyword">if</span> (! <span class="hljs-variable">$running</span> &amp;&amp; <span class="hljs-title function_ invoke__">str_contains</span>(<span class="hljs-variable">$statusName</span>, <span class="hljs-string">'Failed'</span>)) {
            <span class="hljs-variable">$exception</span> = <span class="hljs-variable">$stored</span>-&gt;<span class="hljs-title function_ invoke__">exceptions</span>()-&gt;<span class="hljs-title function_ invoke__">latest</span>()-&gt;<span class="hljs-title function_ invoke__">first</span>();
            <span class="hljs-variable">$error</span> = <span class="hljs-variable">$exception</span>?-&gt;exception ?? <span class="hljs-string">'Unknown error'</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>::<span class="hljs-title function_ invoke__">json</span>([
            <span class="hljs-string">'found'</span> =&gt; <span class="hljs-literal">true</span>,
            <span class="hljs-string">'workflow_id'</span> =&gt; <span class="hljs-variable">$workflowId</span>,
            <span class="hljs-string">'status'</span> =&gt; <span class="hljs-variable">$statusName</span>,
            <span class="hljs-string">'running'</span> =&gt; <span class="hljs-variable">$running</span>,
            <span class="hljs-string">'output'</span> =&gt; <span class="hljs-variable">$result</span>,
            <span class="hljs-string">'error'</span> =&gt; <span class="hljs-variable">$error</span>,
            <span class="hljs-string">'created_at'</span> =&gt; <span class="hljs-variable">$stored</span>-&gt;created_at?-&gt;<span class="hljs-title function_ invoke__">toIso8601String</span>(),
            <span class="hljs-string">'updated_at'</span> =&gt; <span class="hljs-variable">$stored</span>-&gt;updated_at?-&gt;<span class="hljs-title function_ invoke__">toIso8601String</span>(),
        ]);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">schema</span>(<span class="hljs-params">JsonSchema <span class="hljs-variable">$schema</span></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'workflow_id'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">string</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'The workflow ID returned by start_workflow.'</span>),
        ];
    }
}
</code></pre>
<h4 data-id="heading-8">åˆ›å»ºåˆ—è¡¨å·¥ä½œæµå·¥å…·</h4>
<pre><code class="hljs language-bash" lang="bash">php artisan make:mcp-tool ListWorkflowsTool
</code></pre>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">App</span>\<span class="hljs-title class_">Mcp</span>\<span class="hljs-title class_">Tools</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">StoredWorkflow</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">JsonSchema</span>\<span class="hljs-title">JsonSchema</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Server</span>\<span class="hljs-title">Tool</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListWorkflowsTool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Tool</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$description</span> = &lt;&lt;&lt;<span class="hljs-string">'MARKDOWN'</span>
        List available workflow types <span class="hljs-keyword">and</span> optionally show recent workflow runs.
        
        Use this to discover what workflows can be started, <span class="hljs-keyword">or</span> to see
        the status of recent executions.
    MARKDOWN;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params">Request <span class="hljs-variable">$request</span></span>): <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable">$data</span> = <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">validate</span>([
            <span class="hljs-string">'show_recent'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'boolean'</span>],
            <span class="hljs-string">'limit'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'integer'</span>, <span class="hljs-string">'min:1'</span>, <span class="hljs-string">'max:50'</span>],
            <span class="hljs-string">'status'</span> =&gt; [<span class="hljs-string">'nullable'</span>, <span class="hljs-string">'string'</span>],
        ]);

        <span class="hljs-variable">$showRecent</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'show_recent'</span>] ?? <span class="hljs-literal">false</span>;
        <span class="hljs-variable">$limit</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'limit'</span>] ?? <span class="hljs-number">10</span>;
        <span class="hljs-variable">$statusFilter</span> = <span class="hljs-variable">$data</span>[<span class="hljs-string">'status'</span>] ?? <span class="hljs-literal">null</span>;

        <span class="hljs-variable">$availableWorkflows</span> = [];
        <span class="hljs-keyword">foreach</span> (<span class="hljs-title function_ invoke__">config</span>(<span class="hljs-string">'workflow_mcp.workflows'</span>, []) <span class="hljs-keyword">as</span> <span class="hljs-variable">$key</span> =&gt; <span class="hljs-variable">$class</span>) {
            <span class="hljs-variable">$availableWorkflows</span>[] = [<span class="hljs-string">'key'</span> =&gt; <span class="hljs-variable">$key</span>, <span class="hljs-string">'class'</span> =&gt; <span class="hljs-variable">$class</span>];
        }

        <span class="hljs-variable">$response</span> = [
            <span class="hljs-string">'available_workflows'</span> =&gt; <span class="hljs-variable">$availableWorkflows</span>,
        ];

        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$showRecent</span>) {
            <span class="hljs-variable">$query</span> = <span class="hljs-title class_">StoredWorkflow</span>::<span class="hljs-title function_ invoke__">query</span>()
                -&gt;<span class="hljs-title function_ invoke__">orderBy</span>(<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'desc'</span>)
                -&gt;<span class="hljs-title function_ invoke__">limit</span>(<span class="hljs-variable">$limit</span>);

            <span class="hljs-keyword">if</span> (<span class="hljs-variable">$statusFilter</span>) {
                <span class="hljs-variable">$query</span>-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>, <span class="hljs-string">'like'</span>, <span class="hljs-string">"%<span class="hljs-subst">{$statusFilter}</span>%"</span>);
            }

            <span class="hljs-variable">$response</span>[<span class="hljs-string">'recent_workflows'</span>] = <span class="hljs-variable">$query</span>-&gt;<span class="hljs-title function_ invoke__">get</span>()-&gt;<span class="hljs-title function_ invoke__">map</span>(function (<span class="hljs-variable">$w</span>) {
                <span class="hljs-variable">$status</span> = <span class="hljs-variable">$w</span>-&gt;status;
                <span class="hljs-variable">$statusName</span> = <span class="hljs-title function_ invoke__">is_object</span>(<span class="hljs-variable">$status</span>) ? <span class="hljs-title function_ invoke__">class_basename</span>(<span class="hljs-variable">$status</span>) : <span class="hljs-title function_ invoke__">class_basename</span>((<span class="hljs-keyword">string</span>) <span class="hljs-variable">$status</span>);

                <span class="hljs-keyword">return</span> [
                    <span class="hljs-string">'id'</span> =&gt; <span class="hljs-variable">$w</span>-&gt;id,
                    <span class="hljs-string">'class'</span> =&gt; <span class="hljs-variable">$w</span>-&gt;<span class="hljs-class"><span class="hljs-keyword">class</span>,
                    '<span class="hljs-title">status</span>' =&gt; $<span class="hljs-title">statusName</span>,
                    '<span class="hljs-title">created_at</span>' =&gt; $<span class="hljs-title">w</span>-&gt;<span class="hljs-title">created_at</span>?-&gt;<span class="hljs-title">toIso8601String</span>(),
                ];
            });
        }

        <span class="hljs-title">return</span> <span class="hljs-title">Response</span>::<span class="hljs-title">json</span>($<span class="hljs-title">response</span>);
    }

    <span class="hljs-title">public</span> <span class="hljs-title">function</span> <span class="hljs-title">schema</span>(<span class="hljs-title">JsonSchema</span> $<span class="hljs-title">schema</span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'show_recent'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">boolean</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Include recent workflow runs in response.'</span>),
            <span class="hljs-string">'limit'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">integer</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Max recent workflows to return (default: 10).'</span>),
            <span class="hljs-string">'status'</span> =&gt; <span class="hljs-variable">$schema</span>-&gt;<span class="hljs-keyword">string</span>()
                -&gt;<span class="hljs-title function_ invoke__">description</span>(<span class="hljs-string">'Filter by status (e.g., "Completed", "Failed").'</span>),
        ];
    }
}
</code></pre>
<h4 data-id="heading-9">é…ç½®å¯ç”¨çš„å·¥ä½œæµ</h4>
<p>åˆ›å»º <code>config/workflow_mcp.php</code> æ¥å°† AI å®¢æˆ·ç«¯å¯ä»¥å¯åŠ¨çš„å·¥ä½œæµåŠ å…¥ç™½åå•:</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">return</span> [
    <span class="hljs-string">'allow_fqcn'</span> =&gt; <span class="hljs-title function_ invoke__">env</span>(<span class="hljs-string">'WORKFLOW_MCP_ALLOW_FQCN'</span>, <span class="hljs-literal">false</span>),

    <span class="hljs-string">'workflows'</span> =&gt; [
        <span class="hljs-string">'simple'</span> =&gt; <span class="hljs-title class_">App\Workflows\Simple\SimpleWorkflow</span>::<span class="hljs-variable language_">class</span>,
        <span class="hljs-string">'prism'</span> =&gt; <span class="hljs-title class_">App\Workflows\Prism\PrismWorkflow</span>::<span class="hljs-variable language_">class</span>,
    ],
];
</code></pre>
<p>è¿™å¯ä»¥é˜²æ­¢ä»»æ„ç±»æ‰§è¡Œã€‚åªæœ‰æ˜ å°„çš„å·¥ä½œæµå¯ä»¥è®¿é—®ã€‚</p>
<h4 data-id="heading-10">æ³¨å†Œ MCP æœåŠ¡å™¨</h4>
<p>æ›´æ–° <code>routes/ai.php</code>:</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Servers</span>\<span class="hljs-title">WorkflowServer</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Mcp</span>\<span class="hljs-title">Facades</span>\<span class="hljs-title">Mcp</span>;

<span class="hljs-title class_">Mcp</span>::<span class="hljs-title function_ invoke__">web</span>(<span class="hljs-string">'/mcp/workflows'</span>, <span class="hljs-title class_">WorkflowServer</span>::<span class="hljs-variable language_">class</span>);
</code></pre>
<h3 data-id="heading-11">è¿æ¥ AI å®¢æˆ·ç«¯</h3>
<h4 data-id="heading-12">VS Code / GitHub Copilot</h4>
<p>åœ¨é¡¹ç›®ä¸­åˆ›å»º <code>.vscode/mcp.json</code>:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"servers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"laravel-workflow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://localhost/mcp/workflows"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ­¤é…ç½®é€‚ç”¨äºæœ¬åœ°å¼€å‘å’Œ GitHub Codespacesã€‚åœ¨ Codespaces ä¸­,VS Code æœåŠ¡å™¨åœ¨å®¹å™¨å†…è¿è¡Œ,å› æ­¤ localhost å¯ä»¥æ­£ç¡®è®¿é—® Laravel æœåŠ¡å™¨,æ— éœ€å…¬å…±ç«¯å£æˆ– <code>*.app.github.dev</code> URLã€‚</p>
<p>é‡æ–°åŠ è½½ VS Code(Cmd/Ctrl+Shift+P â†’ "Developer: Reload Window")å,Copilot å¯ä»¥ç›´æ¥åœ¨èŠå¤©ä¸­ä½¿ç”¨å·¥ä½œæµå·¥å…·ã€‚</p>
<h3 data-id="heading-13">å®é™…ä½¿ç”¨</h3>
<p>è¿æ¥å,ä½ å¯ä»¥ä¸ AI åŠ©æ‰‹è¿›è¡Œè‡ªç„¶å¯¹è¯:</p>
<p><strong>ä½ </strong>:"æœ‰å“ªäº›å·¥ä½œæµå¯ç”¨?"</p>
<p><strong>AI</strong>:è°ƒç”¨ <code>list_workflows</code> "æˆ‘æ‰¾åˆ°äº† 2 ä¸ªå·¥ä½œæµ:simple å’Œ prismã€‚"</p>
<p><strong>ä½ </strong>:"å¯åŠ¨ prism å·¥ä½œæµ"</p>
<p><strong>AI</strong>:è°ƒç”¨ <code>start_workflow</code> "å·²å¯åŠ¨å·¥ä½œæµ ID 42ã€‚æˆ‘ä¼šæ£€æŸ¥å®ƒçš„çŠ¶æ€ã€‚"</p>
<p><strong>AI</strong>:è°ƒç”¨ <code>get_workflow_result</code> "å·¥ä½œæµå·²å®Œæˆ!è¿™æ˜¯ç”Ÿæˆçš„ç”¨æˆ·é…ç½®æ–‡ä»¶:{ name: 'Elena', hobbies: [...] }"</p>
<p>è¿™åˆ›é€ äº†ä¸€ç§æ— ç¼ä½“éªŒ,AI åŠ©æ‰‹å¯ä»¥ç¼–æ’å¤æ‚çš„é•¿æ—¶é—´è¿è¡Œçš„æ“ä½œ,åŒæ—¶è®©ç”¨æˆ·äº†è§£æƒ…å†µã€‚</p>
<h3 data-id="heading-14">è¿™ç§æ¨¡å¼çš„å¼ºå¤§ä¹‹å¤„</h3>
<ul>
<li><strong>æŒä¹…åŒ–</strong>:å·¥ä½œæµå¯ä»¥åœ¨æœåŠ¡å™¨é‡å¯å’Œç½‘ç»œæ•…éšœä¸­å­˜æ´»</li>
<li><strong>å¼‚æ­¥è®¾è®¡</strong>:AI å®¢æˆ·ç«¯ä¸ä¼šé˜»å¡ç­‰å¾…å®Œæˆ</li>
<li><strong>å¯è§‚å¯Ÿ</strong>:æ¯ä¸ªå·¥ä½œæµéƒ½åœ¨ Waterline çš„ä»ªè¡¨æ¿ä¸­è·Ÿè¸ª</li>
<li><strong>å®‰å…¨</strong>:åŸºäºç™½åå•çš„å·¥ä½œæµè®¿é—®é˜²æ­¢ä»»æ„æ‰§è¡Œ</li>
<li><strong>æ— çŠ¶æ€ MCP</strong>:æœåŠ¡å™¨ä¸ä¿å­˜çŠ¶æ€ã€‚å®¢æˆ·ç«¯è·Ÿè¸ªå·¥ä½œæµ ID</li>
</ul>
<h3 data-id="heading-15">åœ¨æµè§ˆå™¨ä¸­ç«‹å³è¯•ç”¨</h3>
<p>æ­¤ MCP é›†æˆå·²åŒ…å«å¹¶é¢„é…ç½®åœ¨ Laravel Workflow Sample App ä¸­ã€‚</p>
<p>è¦è¯•ç”¨:</p>
<ol>
<li>åœ¨ GitHub ä¸Šæ‰“å¼€ sample-app ä»“åº“</li>
<li>ç‚¹å‡» Code â†’ Codespaces â†’ Create codespace on main</li>
<li>ç­‰å¾…ç¯å¢ƒæ„å»º</li>
<li>è®¾ç½®åº”ç”¨å¹¶å¯åŠ¨é˜Ÿåˆ—å·¥ä½œå™¨:</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">php artisan app:init
php artisan queue:work
</code></pre>
<ol start="5">
<li>å¯ç”¨ Laravel Workflow Server MCP å·¥å…·</li>
<li>è®©ä½ çš„ AI åˆ—å‡ºå¹¶è¿è¡Œå·¥ä½œæµ!</li>
</ol>
<h3 data-id="heading-16">æ¥ä¸‹æ¥å¯ä»¥åšä»€ä¹ˆ</h3>
<p>ä½ å¯ä»¥æ‰©å±•æ­¤æ¨¡å¼ä»¥å®ç°:</p>
<ul>
<li><strong>å‚æ•°åŒ–å·¥ä½œæµ</strong>:å°†ç”¨æˆ·è¾“å…¥ä¼ é€’ç»™å·¥ä½œæµå‚æ•°</li>
<li><strong>Webhook é€šçŸ¥</strong>:æ¨é€å®Œæˆäº‹ä»¶è€Œä¸æ˜¯è½®è¯¢</li>
<li><strong>å·¥ä½œæµä¿¡å·</strong>:è®© AI å®¢æˆ·ç«¯å‘ç­‰å¾…çš„å·¥ä½œæµå‘é€ä¿¡å·</li>
<li><strong>è¿›åº¦æµå¼ä¼ è¾“</strong>:ä½¿ç”¨ SSE å®æ—¶æµå¼ä¼ è¾“å·¥ä½œæµè¿›åº¦</li>
<li><strong>å¤šæ­¥éª¤ä»£ç†</strong>:åœ¨å¯¹è¯ä¸­å°†å¤šä¸ªå·¥ä½œæµé“¾æ¥åœ¨ä¸€èµ·</li>
</ul>
<p>Laravel Workflow çš„æŒä¹…åŒ–æ‰§è¡Œä¸ MCP çš„å·¥å…·åè®®ç›¸ç»“åˆ,ä¸ºçœŸæ­£æœ‰èƒ½åŠ›çš„ AI ä»£ç†åˆ›å»ºäº†ä¸€ä¸ªåŸºç¡€,è¿™äº›ä»£ç†å¯ä»¥å¤„ç†ç°å®ä¸–ç•Œçš„å¤æ‚æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯·æ±‚æ´ªå³°æ¥äº†ï¼Œæ€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°? æˆ‘ä»¬æ¥æ·±å…¥çš„èŠä¸€ä¸‹]]></title>    <link>https://juejin.cn/post/7586505172815675443</link>    <guid>https://juejin.cn/post/7586505172815675443</guid>    <pubDate>2025-12-22T17:02:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815675443" data-draft-id="7586550947703373834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯·æ±‚æ´ªå³°æ¥äº†ï¼Œæ€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°? æˆ‘ä»¬æ¥æ·±å…¥çš„èŠä¸€ä¸‹"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-22T17:02:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªç”±ç”Ÿé•¿2024"/> <meta itemprop="url" content="https://juejin.cn/user/1591748569862670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯·æ±‚æ´ªå³°æ¥äº†ï¼Œæ€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°? æˆ‘ä»¬æ¥æ·±å…¥çš„èŠä¸€ä¸‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748569862670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªç”±ç”Ÿé•¿2024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T17:02:52.000Z" title="Mon Dec 22 2025 17:02:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ‘˜è¦ï¼š æœ¬æ–‡ä»¥ç§’æ€åœºæ™¯ä¸ºä¾‹ï¼Œæ·±å…¥æµ…å‡ºè®²è§£æ¶ˆæ¯é˜Ÿåˆ—â€œå‰Šå³°â€åŸç†ï¼Œå¯¹æ¯”æ— é˜Ÿåˆ—ç›´æ¥å†²å‡»ä¸å¼‚æ­¥ç¼“å†²å·®å¼‚ï¼Œæ­ç¤ºç¥¨åŠ¡ç³»ç»Ÿâ€œç–¯ç‹‚åˆ·æ–°â€èƒŒåçš„å¤šå±‚é™æµè®¾è®¡ã€‚ç”¨â€œè“„æ°´æ± â€â€œæ’é˜Ÿå–å·â€ç­‰æ¯”å–»æ‹†è§£æœ¬è´¨ï¼Œå¦è¨€é«˜å¹¶å‘æŠ€æœ¯å·²æˆç†Ÿï¼Œä»·å€¼åœ¨äºç»†èŠ‚ä¸æ¶æ„æ´å¯Ÿã€‚å…¨æ–‡é€šä¿—çœŸå®ï¼Œå…¼é¡¾æŠ€æœ¯ä¸è¡Œä¸šæ€è€ƒï¼Œé€‚åˆåå°å·¥ç¨‹å¸ˆé˜…è¯»ã€‚</p>
</blockquote>
<h2 data-id="heading-0">è¯·æ±‚æ´ªå³°æ¥äº†ï¼Œæ€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°?</h2>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„ç³»ç»Ÿè®¾è®¡é—®é¢˜ã€‚</p>
<p>å’±ä»¬å‰é¢æ’ä¸ªå˜´ï¼Œè¿™äº›æŠ€æœ¯çœŸçš„å¾ˆéš¾å—ï¼Ÿè·Ÿæ™¯åŒºå–ç¥¨é™æµæ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚</p>
<p>å®ƒåªæ˜¯äº’è”ç½‘ä¸šåŠ¡åœºæ™¯ä¸‹çš„ä¸€ç§éœ€è¦ï¼Œå› ä¸ºä»–ä»¬éœ€è¦æ»¡è¶³å¾ˆå¤šç”¨æˆ·åŒæ—¶è®¿é—®ï¼Œå› æ­¤è¿™äº›å¹´æˆä¸ºäº†ä¸€ç§â€œæ˜¾å­¦â€ã€‚ä¸€ä¸ªåå°å¼€å‘å²—ä½JDé‡Œï¼Œæ€»ä¼šå¤šå°‘å¸¦â€œé«˜å¹¶å‘ï¼Œé«˜å¯ç”¨â€å­—çœ¼ï¼Œå®é™…ä¸Šå¼„æ¸…æ¥šæœ¬è´¨ï¼Œä½ ä¹Ÿå°±çŸ¥é“æ€ä¹ˆå›äº‹äº†ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œâ€œå‰Šå³°â€ å°±åƒæ˜¯åœ¨ä½ å®¶é—¨å£ä¿®äº†ä¸€ä¸ªâ€œè“„æ°´æ± â€ï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œå½“æ´ªæ°´ï¼ˆå¤§é‡è¯·æ±‚ï¼‰æ¥çš„æ—¶å€™ï¼Œä½ ä¸ç›´æ¥è®©æ°´å†²è¿›å±‹å­ï¼ˆæœåŠ¡å™¨ï¼‰ï¼Œè€Œæ˜¯å…ˆå­˜è¿›æ± å­é‡Œï¼Œç„¶åå®¶é‡Œç”¨æ°´ç®¡æŒ‰è‡ªå·±èƒ½æ‰¿å—çš„é€Ÿåº¦æ…¢æ…¢æ”¾æ°´ç”¨ã€‚</p>
<p>å¦‚æœä¸è¿™ä¹ˆåšï¼Œå±‹å­ï¼ˆæœåŠ¡å™¨ï¼‰å¯èƒ½ç›´æ¥å°±è¢«å†²å®äº†ï¼ˆå®•æœºï¼‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªå…·ä½“çš„â€œç§’æ€æ´»åŠ¨â€åœºæ™¯ï¼Œæ¥ä¸€æ­¥æ­¥æ‹†è§£æ€ä¹ˆç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥â€œå‰Šå³°â€ã€‚</p>
<h4 data-id="heading-1">ğŸŒŠ ç¬¬ä¸€æ­¥ï¼šç†è§£â€œæ²¡æœ‰å‰Šå³°â€ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h4>
<p>æƒ³è±¡ä¸€ä¸‹åŒåä¸€ï¼Œ10ä¸‡äººåŒæ—¶ç‚¹â€œä¸‹å•â€æŒ‰é’®ã€‚</p>
<ul>
<li><strong>ç›´æ¥å†²å‡»</strong>ï¼šè¿™10ä¸‡ä¸ªè¯·æ±‚ç¬é—´å…¨éƒ¨æ¶Œå‘ä½ çš„è®¢å•æœåŠ¡å™¨ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šæœåŠ¡å™¨æ¯ç§’åªèƒ½å¤„ç†1000ä¸ªè¯·æ±‚ï¼Œç¬é—´è¢«å‹å®ï¼Œç³»ç»Ÿå´©æºƒï¼Œæ‰€æœ‰äººéƒ½ä¹°ä¸äº†ä¸œè¥¿ã€‚</li>
</ul>
<h4 data-id="heading-2">ğŸ§± ç¬¬äºŒæ­¥ï¼šå¼•å…¥â€œæ¶ˆæ¯é˜Ÿåˆ—â€è¿™å µå¢™</h4>
<p>æˆ‘ä»¬è¦åšçš„æ˜¯ <strong>â€œå¼‚æ­¥åŒ–â€<strong>å’Œ</strong>â€œç¼“å†²â€</strong>ã€‚</p>
<h5 data-id="heading-3">1. ç”Ÿäº§è€…ï¼ˆå¿«é€Ÿæ¥æ”¶ï¼Œä¸å¤„ç†ï¼‰</h5>
<p>å½“ç”¨æˆ·çš„è¯·æ±‚ï¼ˆæ¯”å¦‚ç§’æ€ä¸‹å•ï¼‰æ¥äº†ï¼Œä½ çš„WebæœåŠ¡å™¨ï¼ˆç”Ÿäº§è€…ï¼‰åªåšä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>
<p><strong>ç®€å•æ ¡éªŒ</strong>ï¼šæ£€æŸ¥ç”¨æˆ·ç™»å½•çŠ¶æ€ã€éªŒè¯ç å¯¹ä¸å¯¹ï¼ˆè¿™ä¸€æ­¥å¾ˆå¿«ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ‰”è¿›é˜Ÿåˆ—</strong>ï¼šæŠŠä¸‹å•çš„æŒ‡ä»¤ï¼ˆç”¨æˆ·IDã€å•†å“IDï¼‰æ‰“åŒ…æˆä¸€æ¡â€œæ¶ˆæ¯â€ï¼Œæ‰”è¿›**æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆæ¯”å¦‚ RabbitMQã€Kafkaã€RocketMQï¼‰**é‡Œã€‚</p>
</li>
<li>
<p><strong>ç«‹åˆ»å›å¤</strong>ï¼šé©¬ä¸Šå‘Šè¯‰ç”¨æˆ·ï¼šâ€œæ‚¨çš„è¯·æ±‚å·²æ”¶åˆ°ï¼Œè¯·åœ¨è®¢å•é¡µæŸ¥çœ‹ç»“æœâ€ã€‚(è¿™æ˜¯ç†æƒ³çš„ä¼˜é›…å¤„ç†æ–¹å¼ï¼Œç„¶åæˆ‘ä»¬å¾…ä¼šåˆ†æå®é™…æƒ…å†µ)</p>
</li>
</ol>
<blockquote>
<p><strong>å…³é”®ç‚¹</strong>ï¼šWebæœåŠ¡å™¨<strong>ä¸</strong>å»æ‰£åº“å­˜ï¼Œ<strong>ä¸</strong>å»ç®—ä»·æ ¼ï¼Œ<strong>ä¸</strong>å»å‘çŸ­ä¿¡ã€‚å®ƒåªè´Ÿè´£â€œæ”¶å•â€ï¼Œå¤„ç†å®Œå°±ç«‹åˆ»å»æ¥ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚è¿™æ ·WebæœåŠ¡å™¨å°±èƒ½æ‰›ä½æ¯ç§’å‡ ä¸‡çš„è¯·æ±‚ã€‚</p>
</blockquote>
<h5 data-id="heading-4">2. æ¶ˆè´¹è€…ï¼ˆæ…¢æ…¢å¤„ç†ï¼Œç¨³å¦‚è€ç‹—ï¼‰</h5>
<p>è¿™æ—¶å€™ï¼Œä½ çš„åå°æœ‰ä¸€å°ä¸“é—¨çš„â€œè®¢å•å¤„ç†æœºâ€ï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼Œå®ƒä¼šä»æ¶ˆæ¯é˜Ÿåˆ—é‡Œ<strong>ä¸€æ¡ä¸€æ¡</strong>ï¼ˆæˆ–è€…æ‰¹é‡ï¼‰åœ°æ‹¿æ¶ˆæ¯ã€‚</p>
<ul>
<li>å®ƒæŒ‰ç…§è‡ªå·±èˆ’æœçš„é€Ÿåº¦ï¼ˆæ¯”å¦‚æ¯ç§’å¤„ç†1000æ¡ï¼‰å»å¹²æ´»ã€‚</li>
<li>å®ƒå»æ£€æŸ¥åº“å­˜ã€ç”Ÿæˆè®¢å•ã€æ‰£å‡ä½™é¢ã€å‘çŸ­ä¿¡é€šçŸ¥ã€‚</li>
<li>å¦‚æœå¤„ç†å®Œäº†ï¼Œå°±å‘Šè¯‰é˜Ÿåˆ—ï¼šâ€œè¿™æ¡æˆ‘å¹²å®Œäº†ï¼Œåˆ äº†å§â€ã€‚</li>
</ul>
<h4 data-id="heading-5">ğŸ“Š ç¬¬ä¸‰æ­¥ï¼šæ•ˆæœå¯¹æ¯”</h4>






























<table><thead><tr><th align="left">é˜¶æ®µ</th><th align="left">æ²¡æœ‰æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆç›´æ¥å†²ï¼‰</th><th align="left">ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå‰Šå³°ï¼‰</th></tr></thead><tbody><tr><td align="left"><strong>è¯·æ±‚æ¶Œå…¥</strong></td><td align="left">10ä¸‡è¯·æ±‚ç¬é—´ç ¸å‘æœåŠ¡å™¨</td><td align="left">10ä¸‡è¯·æ±‚ç¬é—´æ‰”è¿›é˜Ÿåˆ—ï¼ˆé˜Ÿåˆ—æŠ—ä½ï¼‰</td></tr><tr><td align="left"><strong>æœåŠ¡å™¨å‹åŠ›</strong></td><td align="left">ç¬é—´çˆ†ç‚¸ï¼ŒCPU 100%ï¼Œå®•æœº</td><td align="left">å‹åŠ›å¹³ç¼“ï¼ŒæŒ‰å›ºå®šé€Ÿåº¦æ¶ˆè´¹</td></tr><tr><td align="left"><strong>ç”¨æˆ·ä½“éªŒ</strong></td><td align="left">é¡µé¢æ‰“ä¸å¼€ï¼ŒæŠ¥é”™500</td><td align="left">ç«‹åˆ»å¾—åˆ°â€œå·²å—ç†â€çš„å“åº”</td></tr><tr><td align="left"><strong>æœ€ç»ˆç»“æœ</strong></td><td align="left">å…¨éƒ¨å¤±è´¥</td><td align="left">å‰1000ä¸ªæŠ¢åˆ°çš„äººæˆåŠŸï¼Œåé¢çš„äººå¤±è´¥ï¼ˆä½†ç³»ç»Ÿæ²¡å´©ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-6">ğŸ’» ç¬¬å››æ­¥ï¼šä»£ç é€»è¾‘å¤§æ¦‚æ˜¯æ€æ ·çš„ï¼Ÿ</h4>
<p>ä¸ºäº†è®©ä½ æ›´ç›´è§‚åœ°ç†è§£ï¼Œæˆ‘å†™ä¸€ä¸ªéå¸¸ç®€åŒ–çš„ä¼ªä»£ç ï¼š</p>
<p><strong>1. æ¥æ”¶è¯·æ±‚çš„æ¥å£ï¼ˆç”Ÿäº§è€…ï¼‰</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¿™ä¸ªæ¥å£éå¸¸å¿«ï¼Œåªè´Ÿè´£æŠŠæ¶ˆæ¯æ‰”è¿›é˜Ÿåˆ—</span>
<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/seckill'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">seckill</span>():
    user_id = get_current_user()
    product_id = request.form[<span class="hljs-string">'product_id'</span>]
    
    <span class="hljs-comment"># 1. ç®€å•æ£€æŸ¥ï¼ˆæ¯”å¦‚Redisé‡Œçœ‹è¿˜æœ‰æ²¡æœ‰åº“å­˜ï¼‰</span>
    <span class="hljs-keyword">if</span> redis.decr(<span class="hljs-string">"stock:"</span> + product_id) &lt; <span class="hljs-number">0</span>: <span class="hljs-comment"># å¯¹åº”å•†å“çš„åº“å­˜-1</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"å·²å”®ç½„"</span>
    
    <span class="hljs-comment"># 2. æ ¸å¿ƒæ“ä½œï¼šæŠŠä¸‹å•ä»»åŠ¡æ‰”è¿›æ¶ˆæ¯é˜Ÿåˆ—</span>
    <span class="hljs-comment"># è¿™ä¸€æ­¥éå¸¸å¿«ï¼Œå°±åƒæŠŠä¿¡æ‰”è¿›é‚®ç­’</span>
    mq.send(<span class="hljs-string">"order_queue"</span>, {
        <span class="hljs-string">"user_id"</span>: user_id,
        <span class="hljs-string">"product_id"</span>: product_id
    })
    
    <span class="hljs-comment"># 3. ç«‹åˆ»è¿”å›æˆåŠŸï¼ˆå…¶å®è¿˜æ²¡çœŸæ­£ä¸‹å•ï¼Œåªæ˜¯æ‹¿åˆ°äº†æ’é˜Ÿå·ï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"è¯·æ±‚å·²å—ç†ï¼Œè¯·ç¨åæŸ¥çœ‹è®¢å•"</span>
</code></pre>
<p><strong>2. åå°å¤„ç†ç¨‹åºï¼ˆæ¶ˆè´¹è€…ï¼‰</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¿™ä¸ªç¨‹åºä¸€ç›´åœ¨åå°è·‘ï¼Œé€Ÿåº¦å¯æ§</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">order_consumer</span>():
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        <span class="hljs-comment"># ä»é˜Ÿåˆ—é‡Œæ‹¿æ¶ˆæ¯ï¼ˆå¦‚æœæ²¡æœ‰æ¶ˆæ¯ï¼Œå°±é˜»å¡ç­‰ç€ï¼‰</span>
        msg = mq.receive(<span class="hljs-string">"order_queue"</span>)
        
        <span class="hljs-comment"># æ‹¿åˆ°æ¶ˆæ¯åï¼Œå¼€å§‹çœŸæ­£å¹²æ´»ï¼ˆè¿™ä¸€æ­¥æ…¢ï¼Œä½†æ²¡å…³ç³»ï¼‰</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ï¼šæ‰£åº“å­˜ã€ç”Ÿæˆè®¢å•ã€å‘çŸ­ä¿¡</span>
            service.create_order(msg.user_id, msg.product_id)
            mq.ack(msg) <span class="hljs-comment"># å‘Šè¯‰é˜Ÿåˆ—ï¼šè¿™æ´»å¹²å®Œäº†</span>
        <span class="hljs-keyword">except</span>:
            mq.nack(msg) <span class="hljs-comment"># å‘Šè¯‰é˜Ÿåˆ—ï¼šè¿™æ´»æ²¡å¹²å®Œï¼Œç¨åå†è¯•</span>
</code></pre>
<h4 data-id="heading-7">ğŸ“Œ ä½ è¯¥æ€ä¹ˆç”¨</h4>
<ol>
<li><strong>æ‹†åˆ†æµç¨‹</strong>ï¼šæŠŠä½ çš„ä¸šåŠ¡æ‹†æˆâ€œ<strong>å¿«é€Ÿæ¥æ”¶</strong>â€å’Œâ€œ<strong>æ…¢æ…¢å¹²æ´»</strong>â€ä¸¤éƒ¨åˆ†ã€‚</li>
<li><strong>å¼•å…¥ä¸­é—´ä»¶</strong>ï¼šåœ¨ä¸­é—´åŠ ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ RabbitMQï¼‰ã€‚</li>
<li><strong>å‰ç«¯åªç®¡å‘</strong>ï¼šç”¨æˆ·çš„è¯·æ±‚æ¥äº†ï¼Œæ ¡éªŒå®Œå‚æ•°ï¼Œç«‹åˆ»å‘æ¶ˆæ¯åˆ°é˜Ÿåˆ—ï¼Œç„¶åå°±è¿”å›â€œå¤„ç†ä¸­â€ã€‚</li>
<li><strong>åç«¯æ…¢æ…¢æ”¶</strong>ï¼šç”¨åå°ç¨‹åºä»é˜Ÿåˆ—é‡Œè¯»æ•°æ®ï¼ŒæŒ‰éƒ¨å°±ç­åœ°å¤„ç†ä¸šåŠ¡ã€‚</li>
</ol>
<p>è¿™æ ·ï¼Œæ— è®ºå¤–é¢æœ‰å¤šå°‘å¹¶å‘è¯·æ±‚ï¼Œä½ çš„åç«¯æ•°æ®åº“å’Œæ ¸å¿ƒæœåŠ¡çœ‹åˆ°çš„æµé‡æ°¸è¿œæ˜¯å¹³ç¼“çš„ï¼Œå°±åƒå±±è°·è¢«å‰Šå¹³äº†ä¸€æ ·ã€‚è¿™å°±æ˜¯â€œå‰Šå³°â€ã€‚</p>
<p>åƒæ’é˜Ÿå–å·ä¸€æ ·ï¼Œå› ä¸ºçª—å£æ¥å¾…çš„é€Ÿåº¦æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥è®©äººæ‹¿ä¸ªå·åœ¨é‚£ç­‰ï¼Œä¹Ÿå¾ˆé¤å…é™æµä¸€æ ·ï¼ˆæƒ³æƒ³ä½ å»ä¸€å®¶å¾ˆç«çš„é¤å…ï¼Œç„¶ååšåˆ°é—¨å¤–é¢æ’é˜Ÿçš„æ ·å­ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å†è¯´ä¸ä½“é¢ï¼Œä¸ä¼˜é›…çš„ï¼Œè®©æˆ‘åŒæ¶çš„ï¼Œç°å®ä¸­æ›´å¤šçš„å®ç°æ–¹å¼ã€‚</p>
<p>å¾ˆå¤šæŠ¢ç¥¨çš„æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ¯”å¦‚æ¼”å”±ä¼šé—¨ç¥¨ï¼Œä½ ä¸åœçš„åˆ·æ–°é¡µé¢æŠ¢åˆ°äº†ä¸€å¼ ï¼Œç„¶åï¼Œç­‰ä½ ç‚¹è¿›å»å‡†å¤‡ä»˜æ¬¾ï¼Œåˆå‘Šè¯‰ä½ ï¼Œå¯¹ä¸èµ·ï¼Œå·²ç»è¢«å–å‡ºå»äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæ˜¯æ¥äº†ä¸¤é“é—¨ï¼Œç¬¬ä¸€é“é—¨æ˜¯è¶…é¢æ”¾äººè¿›æ¥ï¼Œç¬¬äºŒé“æ˜¯æ‹¼ä»˜æ¬¾é€Ÿåº¦ã€‚è¿™äº›ç½‘ç«™ä¹‹æ‰€ä»¥è¿™ä¹ˆåšï¼Œæ˜¯ä¸ºäº†å¿«é€Ÿæˆäº¤ï¼Œä¸ç»™ç”¨æˆ·å¤ªå¤šçš„ä»˜æ¬¾æ—¶é—´ã€‚</p>
<p>12306ä¸ä¼šè¿™ä¹ˆåšï¼Œå¦‚æœä½ åˆ·åˆ°äº†ï¼Œå¹¶ä¸”è¿›å…¥åˆ°æ”¯ä»˜é¡µé¢ï¼ŒåŸºæœ¬ä¸Šå°±ç»™ä½ 30åˆ†é’Ÿå·¦å³çš„æ”¯ä»˜æ—¶é—´ï¼Œè¶…æ—¶å–æ¶ˆï¼Œç®—æ˜¯æ¯”è¾ƒä½“é¢çš„ä¸€ç§æ–¹å¼å§ã€‚</p>
<h2 data-id="heading-8">ç–¯ç‹‚æŠ¢ç¥¨åˆ·æ–°é¡µé¢çš„èƒŒå</h2>
<p>å¯¹äºä¸åšæ˜¾ç¤ºçš„å¼‚æ­¥ä»»åŠ¡çš„ç½‘ç«™ï¼Œè®©ç”¨æˆ·ä¸€ç›´åœ¨é¡µé¢åˆ·æ–°ï¼Œå…¶å®æµé‡è¿˜æŒºçˆ†ç‚¸çš„ï¼Œå¾ˆå¤šç”¨æˆ·åˆ·30åˆ†é’Ÿä¹Ÿåˆ·ä¸åˆ°æ–°ç¥¨æ”¾å‡ºæ¥ï¼Œä½†æ˜¯å¾ˆå¤šç¥¨åŠ¡ç§’æ€ç½‘ç«™å°±æ˜¯è®©ç”¨æˆ·ä¸€ç›´åˆ·æ–°ã€‚</p>
<p>äº‹å®ä¸Šï¼Œä¸æ˜¯â€œä¸åšæ’é˜Ÿâ€ï¼Œè€Œæ˜¯æŠŠæ’é˜Ÿé€»è¾‘è—åœ¨äº†å‰ç«¯ + ç½‘å…³ + åç«¯çš„å¤šå±‚é˜²å¾¡ä½“ç³»é‡Œï¼Œå¹¶ä¸”ç”¨äº†å¾ˆå¤šâ€œä¼ªè£…â€å’Œâ€œè¿‡æ»¤â€æ‰‹æ®µã€‚</p>
<p>æ‰€ä»¥ï¼Œæä¸ªé—®é¢˜ï¼Œ<strong>â€œå¾ˆå¤šç¥¨åŠ¡/ç”µå•†ç§’æ€ç¡®å®è®©ç”¨æˆ·ç–¯ç‹‚åˆ·æ–°é¡µé¢ï¼Œçœ‹èµ·æ¥æ²¡åšæ’é˜Ÿï¼Œé‚£ä¸ºä»€ä¹ˆç³»ç»Ÿæ²¡ç‚¸ï¼Ÿâ€</strong></p>
<hr/>
<h4 data-id="heading-9">ğŸ§¨ è¡¨è±¡ vs å®é™…ï¼šç”¨æˆ·â€œåˆ·â€ â‰  è¯·æ±‚çœŸæ‰“åˆ°æ ¸å¿ƒç³»ç»Ÿ</h4>
<p>å½“ç”¨æˆ·åœ¨å¤§éº¦ç½‘ç–¯ç‹‚ç‚¹â€œç«‹å³æŠ¢è´­â€æ—¶ï¼Œ<strong>ç»å¤§å¤šæ•°è¯·æ±‚æ ¹æœ¬åˆ°ä¸äº†è®¢å•æœåŠ¡</strong>ã€‚ç³»ç»Ÿåœ¨å‰é¢è®¾äº†å¤šé“â€œç­›å­â€ï¼š</p>
<h5 data-id="heading-10">âœ… ç¬¬ 1 å±‚ï¼šå‰ç«¯é™æµï¼ˆæœ€å»‰ä»·ï¼‰</h5>
<ul>
<li>æŒ‰é’®ç‚¹å‡»å <strong>ç«‹åˆ»ç¦ç”¨ 1~3 ç§’</strong>ï¼ˆé˜²æ­¢æ‰‹å¿«å…šè¿ç‚¹ï¼‰ï¼›</li>
<li>åŠ  <strong>éªŒè¯ç </strong>ï¼ˆå›¾å½¢ã€æ»‘å—ã€çŸ­ä¿¡ï¼‰ï¼Œè¿‡æ»¤æ‰ 90% çš„æœºå™¨äººï¼›</li>
<li>ç”¨ <strong>æœ¬åœ°å€’è®¡æ—¶</strong> æ§åˆ¶â€œå¼€æŠ¢å‰ä¸èƒ½ç‚¹â€ï¼Œé¿å…æå‰å‹æµ‹ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ ç”¨æˆ·ä»¥ä¸ºè‡ªå·±åœ¨â€œæŠ¢â€ï¼Œå…¶å®åªæ˜¯åœ¨å’Œå‰ç«¯äº¤äº’ã€‚</p>
</blockquote>
<h5 data-id="heading-11">âœ… ç¬¬ 2 å±‚ï¼šCDN + API ç½‘å…³é™æµ</h5>
<ul>
<li>è¯·æ±‚å…ˆåˆ° <strong>CDN æˆ– Nginx / API ç½‘å…³</strong>ï¼ˆå¦‚ Kongã€é˜¿é‡Œäº‘ API Gatewayï¼‰ï¼›</li>
<li>è¿™é‡Œåš <strong>IP é™æµ</strong>ï¼ˆæ¯”å¦‚æ¯ç§’æœ€å¤š 5 æ¬¡è¯·æ±‚ï¼‰ã€<strong>ç”¨æˆ· ID é™æµ</strong>ï¼›</li>
<li>è¶…è¿‡çš„ç›´æ¥è¿”å› <code>429 Too Many Requests</code>ï¼Œä¸è¿›åç«¯ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ 10 ä¸‡ç”¨æˆ·åˆ·ï¼Œå¯èƒ½åªæœ‰ 1 ä¸‡èƒ½ç©¿è¿‡è¿™å±‚ã€‚</p>
</blockquote>
<h5 data-id="heading-12">âœ… ç¬¬ 3 å±‚ï¼šç¼“å­˜é¢„æ£€ï¼ˆRedis å¿«é€Ÿæ‹¦æˆªï¼‰</h5>
<ul>
<li>è¯·æ±‚åˆ°è¾¾ä¸šåŠ¡æœåŠ¡åï¼Œ<strong>ç¬¬ä¸€ä»¶äº‹ä¸æ˜¯æŸ¥æ•°æ®åº“ï¼Œè€Œæ˜¯æŸ¥ Redis</strong>ï¼š
<ul>
<li>å•†å“æ˜¯å¦å·²å”®ç½„ï¼Ÿâ†’ ç›´æ¥è¿”å›â€œå·²æŠ¢å…‰â€ï¼›</li>
<li>ç”¨æˆ·æ˜¯å¦å·²åœ¨æ’é˜Ÿï¼Ÿâ†’ è¿”å›â€œè¯·å‹¿é‡å¤æäº¤â€ï¼›</li>
<li>åº“å­˜æ˜¯å¦ &gt; 0ï¼Ÿâ†’ å¦‚æœä¸º 0ï¼Œç›´æ¥æ‹’ç»ã€‚</li>
</ul>
</li>
<li>è¿™äº›æ“ä½œ <strong>å¾®ç§’çº§å®Œæˆ</strong>ï¼Œä¸æ¶‰åŠå¤æ‚é€»è¾‘ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ åˆè¿‡æ»¤æ‰ 80% çš„æ— æ•ˆè¯·æ±‚ã€‚</p>
</blockquote>
<h5 data-id="heading-13">âœ… ç¬¬ 4 å±‚ï¼šçœŸæ­£çš„â€œæ’é˜Ÿâ€â€”â€”ä½†ç”¨æˆ·ä¸çŸ¥é“</h5>
<ul>
<li>åªæœ‰é€šè¿‡ä»¥ä¸Šæ‰€æœ‰æ£€æŸ¥çš„è¯·æ±‚ï¼Œæ‰ä¼šè¿›å…¥<strong>çœŸæ­£çš„æ’é˜Ÿæœºåˆ¶</strong>ï¼Œæ¯”å¦‚ï¼š
<ul>
<li>å†™å…¥ <strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼ˆå¼‚æ­¥ä¸‹å•ï¼‰ï¼›</li>
<li>æˆ–è¿›å…¥ <strong>Redis åˆ†å¸ƒå¼é˜Ÿåˆ—</strong>ï¼ˆå¦‚ç”¨ List + BLPOPï¼‰ï¼›</li>
<li>ç”šè‡³ç”¨ <strong>ä»¤ç‰Œæ¡¶</strong>ï¼šå¼€æŠ¢ç¬é—´æ”¾å‡º N ä¸ªä»¤ç‰Œï¼ŒæŠ¢åˆ°æ‰èƒ½ç»§ç»­ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>âš ï¸ ä½†è¿™æ—¶å€™ï¼Œ<strong>ç”¨æˆ·å·²ç»æ”¶åˆ°â€œæ’é˜Ÿä¸­â€æˆ–â€œå¤„ç†ä¸­â€çš„æç¤ºäº†</strong>ï¼Œä¸å†ç–¯ç‹‚åˆ·æ–°ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-14">ğŸ­ ä¸ºä»€ä¹ˆè®©ç”¨æˆ·â€œæ„Ÿè§‰åœ¨æŠ¢â€ï¼Ÿ</h4>
<p>è¿™æ˜¯<strong>äº§å“è®¾è®¡ + å¿ƒç†å­¦</strong>çš„ç»“åˆï¼š</p>
<ul>
<li>å¦‚æœç›´æ¥è¯´â€œæ‚¨å·²è¿›å…¥é˜Ÿåˆ—ï¼Œè¯·ç­‰å¾…â€ï¼Œç”¨æˆ·ä¼šè§‰å¾—â€œæ²¡å‚ä¸æ„Ÿâ€ï¼›</li>
<li>è€Œâ€œç–¯ç‹‚ç‚¹å‡» â†’ è½¬åœˆ â†’ æˆåŠŸ/å¤±è´¥â€ çš„åé¦ˆï¼Œè®©äººè§‰å¾—â€œæ˜¯æˆ‘æ‰‹æ…¢äº†â€ï¼Œè€Œä¸æ˜¯â€œç³»ç»Ÿä¸è¡Œâ€ï¼Œè€Œä¸”èƒ½è¥é€ å‡ºè¶…çº§ç«çˆ†çš„åœºé¢ï¼Œç”šè‡³è¥é€ ä¸€ç§å¤±è½çš„æ„Ÿè§‰ï¼Œè®©ç”¨æˆ·å› ä¸ºé”™å¤±æ¼”å‡ºï¼Œæ»‹ç”Ÿå‡ºåŒæ¶æŸå¤±å¿ƒç†ï¼Œä»è€Œæ„¿æ„é«˜ä»·å»å–é»„ç‰›çš„ç¥¨ï¼ˆç³»ç»Ÿçš„è®¾è®¡èƒŒåéƒ½æ˜¯å¿ƒç†å­¦ï¼‰ï¼›</li>
<li>å®é™…ä¸Šï¼Œ<strong>ç‚¹å‡»ç¬¬ 1 æ¬¡ä¹‹åï¼Œåç»­ç‚¹å‡»åŸºæœ¬éƒ½è¢«å‰ç«¯æˆ–ç½‘å…³æ‹¦ä½äº†</strong>ã€‚</li>
</ul>
<blockquote>
<p>ğŸ” å¯ä»¥æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼Œç›‘æ§ Networkï¼š
åœ¨çœŸæ­£çš„ç§’æ€å¼€æŠ¢æ—¶ï¼Œä½ ä¼šå‘ç°<strong>ç¬¬äºŒæ¬¡ç‚¹å‡»æ ¹æœ¬æ²¡å‘è¯·æ±‚</strong>ï¼Œæˆ–è€…è¿”å›äº† 429ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-15">ğŸ†š å¯¹æ¯”ä¸¤ç§æ¨¡å¼</h4>






























<table><thead><tr><th>åœºæ™¯</th><th>â€œè£¸å¥”å¼åˆ·æ–°â€ï¼ˆæ— é˜²æŠ¤ï¼‰</th><th>â€œä¼ªè£…å¼åˆ·æ–°â€ï¼ˆçœŸå®ç§’æ€ç³»ç»Ÿï¼‰</th></tr></thead><tbody><tr><td>ç”¨æˆ·è¡Œä¸º</td><td>æ— é™åˆ·ï¼Œæ¯æ¬¡éƒ½å‘è¯·æ±‚</td><td>åˆ·å¤šæ¬¡ï¼Œä½†å¤šæ•°è¯·æ±‚è¢«æ‹¦æˆª</td></tr><tr><td>åç«¯å‹åŠ›</td><td>ç›´æ¥çˆ†ç‚¸</td><td>99% æµé‡åœ¨è¾¹ç¼˜è¢«æ¶ˆåŒ–</td></tr><tr><td>æ ¸å¿ƒç³»ç»Ÿ</td><td>è¢«å†²å®</td><td>å‡ ä¹æ— æ„Ÿ</td></tr><tr><td>ç”¨æˆ·ä½“éªŒ</td><td>å…¨éƒ¨å¤±è´¥ + æŠ¥é”™</td><td>å°‘æ•°æˆåŠŸ + å¤šæ•°â€œå…¬å¹³å¤±è´¥â€</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-16">âœ… æ€»ç»“ï¼š</h4>
<blockquote>
<p><strong>â€œè®©ç”¨æˆ·åˆ·â€æ˜¯ä¸€ç§ UI å‡è±¡ï¼ŒèƒŒåæ˜¯å±‚å±‚é™æµ + ç¼“å­˜æ‹¦æˆª + å¼‚æ­¥æ’é˜Ÿçš„ç»„åˆæ‹³ã€‚<br/>
çœŸæ­£çš„é«˜å¹¶å‘ç³»ç»Ÿï¼Œç»ä¸ä¼šè®©åŸå§‹æµé‡ç›´è¾¾æ•°æ®åº“æˆ–è®¢å•æœåŠ¡ã€‚</strong></p>
</blockquote>
<p><strong>è¡¨é¢çš„â€œæ··ä¹±â€å…¶å®æ˜¯ç²¾å¿ƒè®¾è®¡çš„â€œæœ‰åºè¿‡æ»¤â€</strong>ã€‚</p>
<h2 data-id="heading-17">å¦‚æœåœ¨æ´ªå³°ä¸­è®©ä¸€æ¬¡è¯·æ±‚åƒå¸¸è§„è¯·æ±‚é‚£æ ·ç›´æ¥æ’é˜Ÿï¼Ÿ</h2>
<p>å¦‚æœè®©è¯·æ±‚åœ¨ Web æœåŠ¡å™¨å‰é¢ç›´æ¥æ’é˜Ÿï¼ˆæ¯”å¦‚ç”¨çº¿ç¨‹æ± ã€è¿æ¥é˜Ÿåˆ—ï¼‰ï¼Œè€Œä¸æ˜¯æ‰”è¿›æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¡Œä¸è¡Œï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼š<strong>çŸ­æœŸå¯ä»¥ï¼Œä½†æ‰›ä¸ä½çœŸæ­£çš„â€œç§’æ€çº§â€é«˜å¹¶å‘ï¼Œè€Œä¸”ä½“éªŒå’Œå¯é æ€§å·®å¾ˆå¤šã€‚</strong></p>
<hr/>
<h4 data-id="heading-18">ğŸ§± å¯¹æ¯”ä¸¤ç§â€œæ’é˜Ÿâ€æ–¹å¼</h4>








































<table><thead><tr><th>ç»´åº¦</th><th><strong>Web å±‚ç›´æ¥æ’é˜Ÿï¼ˆåŒæ­¥é˜»å¡ï¼‰</strong></th><th><strong>æ¶ˆæ¯é˜Ÿåˆ—æ’é˜Ÿï¼ˆå¼‚æ­¥ç¼“å†²ï¼‰</strong></th></tr></thead><tbody><tr><td><strong>æ’é˜Ÿä½ç½®</strong></td><td>åœ¨ Web æœåŠ¡å™¨çš„çº¿ç¨‹/è¿æ¥é˜Ÿåˆ—é‡Œ</td><td>åœ¨ç‹¬ç«‹çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼ˆå¦‚ Kafkaï¼‰é‡Œ</td></tr><tr><td><strong>è¯·æ±‚çŠ¶æ€</strong></td><td>ç”¨æˆ·è¿æ¥ä¸€ç›´æŒ‚ç€ï¼ˆTCP è¿æ¥æœªé‡Šæ”¾ï¼‰</td><td>ç”¨æˆ·ç«‹åˆ»æ”¶åˆ°å“åº”ï¼Œè¿æ¥é‡Šæ”¾</td></tr><tr><td><strong>èµ„æºå ç”¨</strong></td><td>æ¯ä¸ªæ’é˜Ÿè¯·æ±‚å ç”¨å†…å­˜ + çº¿ç¨‹ + è¿æ¥</td><td>åªå ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„ç£ç›˜/å†…å­˜ï¼ŒWeb æ— è´Ÿæ‹…</td></tr><tr><td><strong>å¯æ‰©å±•æ€§</strong></td><td>é˜Ÿåˆ—é•¿åº¦å—é™äºå•æœºèµ„æºï¼ˆé€šå¸¸å‡ ç™¾~å‡ åƒï¼‰</td><td>é˜Ÿåˆ—å¯åˆ†å¸ƒå¼ã€æŒä¹…åŒ–ï¼Œè½»æ¾æ’‘ç™¾ä¸‡çº§</td></tr><tr><td><strong>å®¹ç¾èƒ½åŠ›</strong></td><td>Web æœåŠ¡å™¨ä¸€å´©ï¼Œæ‰€æœ‰æ’é˜Ÿè¯·æ±‚å…¨ä¸¢</td><td>æ¶ˆæ¯æŒä¹…åŒ–ï¼ŒæœåŠ¡é‡å¯åç»§ç»­å¤„ç†</td></tr><tr><td><strong>ç”¨æˆ·ä½“éªŒ</strong></td><td>é¡µé¢å¡æ­»ã€è¶…æ—¶ã€504 Gateway Timeout</td><td>ç«‹åˆ»æç¤ºâ€œå·²å—ç†â€ï¼Œåå°æ…¢æ…¢å¤„ç†</td></tr></tbody></table>
<p>å¾ˆæ—©çš„æ—¶å€™ï¼Œä¸Šå¤§å­¦é€‰è¯¾çš„æ—¶å€™ï¼Œå¤§å®¶èƒ½çœ‹åˆ°ï¼Œæ¯æ¬¡é€‰è¯¾ç³»ç»Ÿå¼€æ”¾çš„æ—¶å€™ï¼Œåˆ·ç€åˆ·ç€ï¼Œé€‰è¯¾ç½‘ç«™å´©äº†ï¼Œè¿™å°±æ˜¯ç›´æ¥ä½¿ç”¨Webå±‚æ’é˜Ÿçš„ç»“æœã€‚</p>
<hr/>
<h4 data-id="heading-19">ğŸŒ° ä¸¾ä¸ªç°å®ä¾‹å­ï¼š</h4>
<p>å‡è®¾ä½ æœ‰ 10 ä¸‡ç”¨æˆ·åŒæ—¶ç‚¹â€œç§’æ€â€ã€‚</p>
<h5 data-id="heading-20">âœ–ï¸ æ–¹æ¡ˆ Aï¼šWeb æœåŠ¡å™¨è‡ªå·±æ’é˜Ÿï¼ˆæ¯”å¦‚ Tomcat çº¿ç¨‹æ± ï¼‰</h5>
<ul>
<li>Tomcat é»˜è®¤æœ€å¤§çº¿ç¨‹æ•° 200ã€‚</li>
<li>å‰ 200 ä¸ªè¯·æ±‚åœ¨å¤„ç†ï¼Œå‰©ä¸‹ 99800 ä¸ªåœ¨æ“ä½œç³»ç»Ÿè¿æ¥é˜Ÿåˆ—æˆ–åå‘ä»£ç†ï¼ˆå¦‚ Nginxï¼‰é‡Œæ’é˜Ÿã€‚</li>
<li>ä½† Nginx çš„ <code>backlog</code> é€šå¸¸ä¹Ÿå°±å‡ åƒã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šå¤§é‡è¯·æ±‚ç›´æ¥è¢«æ‹’ç»ï¼ˆConnection Refusedï¼‰æˆ–è¶…æ—¶ï¼ˆTimeoutï¼‰ï¼Œç”¨æˆ·çœ‹åˆ°â€œç½‘ç»œé”™è¯¯â€ï¼Œç–¯ç‹‚åˆ·æ–° â†’ é›ªå´©ã€‚</li>
</ul>
<h5 data-id="heading-21">âœ”ï¸ æ–¹æ¡ˆ Bï¼šç”¨æ¶ˆæ¯é˜Ÿåˆ—</h5>
<ul>
<li>Web æœåŠ¡å™¨ 1 ç§’å¤„ç† 5000 ä¸ªâ€œæ”¶å•â€è¯·æ±‚ï¼ˆåªæ ¡éªŒ+å…¥é˜Ÿï¼‰ï¼Œå…¨éƒ¨å¿«é€Ÿè¿”å›ã€‚</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—å­˜ä¸‹ 10 ä¸‡æ¡æ¶ˆæ¯ï¼ˆKafka è½»æ¾æ‰›ä½ï¼‰ã€‚</li>
<li>åå°æ¶ˆè´¹è€…ä»¥æ¯ç§’ 1000 æ¡çš„é€Ÿåº¦ç¨³ç¨³å¤„ç†ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šç³»ç»Ÿä¸å´©ï¼Œç”¨æˆ·çŸ¥é“â€œå·²æäº¤â€ï¼Œå³ä½¿æ²¡æŠ¢åˆ°ä¹Ÿè§‰å¾—å…¬å¹³ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-22">âš ï¸ æ›´ä¸¥é‡çš„é—®é¢˜ï¼š<strong>èµ„æºè€—å°½</strong></h4>
<p>åœ¨â€œç›´æ¥æ’é˜Ÿâ€æ¨¡å¼ä¸‹ï¼š</p>
<ul>
<li>æ¯ä¸ª HTTP è¯·æ±‚éƒ½ç»´æŒä¸€ä¸ª TCP è¿æ¥ï¼›</li>
<li>æ¯ä¸ªè¿æ¥å¯èƒ½å¯¹åº”ä¸€ä¸ªçº¿ç¨‹æˆ–åç¨‹ï¼›</li>
<li>10 ä¸‡ä¸ªè¿æ¥ â‰ˆ å‡  GB å†…å­˜ + å¤§é‡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼›</li>
<li>æ“ä½œç³»ç»Ÿå¯èƒ½ç›´æ¥ OOMï¼ˆå†…å­˜æº¢å‡ºï¼‰æˆ–æ— æ³•æ–°å»ºè¿æ¥ã€‚</li>
</ul>
<p>è€Œæ¶ˆæ¯é˜Ÿåˆ—æŠŠâ€œè¯·æ±‚â€ä»â€œæ´»è·ƒè¿æ¥â€å˜æˆäº†â€œé™æ€æ•°æ®â€ï¼Œèµ„æºæ¶ˆè€—å¤©å·®åœ°åˆ«ã€‚</p>
<hr/>
<h4 data-id="heading-23">âœ… ç»“è®ºï¼š</h4>
<blockquote>
<p><strong>â€œåœ¨ Web å±‚ç›´æ¥æ’é˜Ÿâ€æœ¬è´¨ä¸Šè¿˜æ˜¯åŒæ­¥æ¨¡å‹ï¼Œåªæ˜¯æŠŠå´©æºƒæ—¶é—´æ¨è¿Ÿäº†ä¸€ç‚¹ç‚¹ï¼›<br/>
è€Œâ€œæ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°â€æ˜¯çœŸæ­£çš„å¼‚æ­¥è§£è€¦ï¼ŒæŠŠç¬æ—¶å‹åŠ›è½¬åŒ–ä¸ºå¯æŒç»­å¤„ç†çš„ä»»åŠ¡æµã€‚</strong></p>
</blockquote>
<p>æ‰€ä»¥ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ï¼ˆå°¤å…¶æ˜¯ç§’æ€ã€æŠ¢è´­ã€æŠ¢çº¢åŒ…ï¼‰ï¼Œ<strong>å¿…é¡»ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆæˆ–ç±»ä¼¼å¼‚æ­¥æœºåˆ¶ï¼‰åšå‰Šå³°</strong>ï¼Œä¸èƒ½ä¾èµ– Web æœåŠ¡å™¨è‡ªå·±çš„æ’é˜Ÿèƒ½åŠ›ã€‚</p>
<h2 data-id="heading-24">æ’é˜Ÿå–å·çš„æœ´ç´ é€»è¾‘å’Œå¿…è¦æ€§</h2>
<p>ä¸Šé¢è¯´è¿‡ï¼Œè¯·æ±‚é˜Ÿåˆ—å‰Šé”‹å°±åƒåŒ»é™¢å°±è¯Šæ’é˜Ÿå–å·ä¸€æ ·ï¼Œä¹Ÿåƒé“¶è¡ŒæŸœå°å¤„ç†é€»è¾‘ä¸€æ ·ï¼Œå› ä¸ºçª—å£å¤„ç†è¯·æ±‚çš„é€Ÿåº¦æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥è®©äººæ‹¿ä¸ªå·åœ¨é‚£ç­‰ï¼Œ é€»è¾‘éå¸¸çš„æœ´ç´ ã€‚</p>
<p>æ²¡æœ‰å–ç¥¨æœºä¹‹å‰ï¼Œæ‰€æœ‰çš„äººå¿…é¡»åœ¨çª—å£åé¢ç­‰ç€ï¼Œè¿åçš„åœ°æ–¹éƒ½æ²¡æœ‰ï¼Œéš¾å—ä¸éš¾å—ï¼Ÿ</p>
<p>è¿™æ­£æ˜¯æ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°çš„æ ¸å¿ƒæ€æƒ³ï¼Œæˆ‘åœ¨ä¸€ä¸€å¯¹åº”å±•å¼€è¯´æ˜ï¼Œå…¶å®è¿™éƒ¨åˆ†è¿‡äºé€šä¿—ï¼ŒçŸ¥é“æœ¬è´¨çš„å¯ä»¥ç›´æ¥è·³è¿‡äº†ï¼š</p>
<h4 data-id="heading-25">ğŸ« 1. å‰Šé”‹å°±åƒâ€œæ’é˜Ÿå–å·â€</h4>
<ul>
<li><strong>ç”¨æˆ·è¯·æ±‚</strong>ï¼šå°±æ˜¯å»é“¶è¡ŒåŠäº‹çš„<strong>å®¢æˆ·</strong>ã€‚</li>
<li><strong>WebæœåŠ¡å™¨</strong>ï¼šå°±æ˜¯é‚£ä¸ª<strong>å‘å·æœº</strong>ã€‚
<ul>
<li>å®ƒçš„ä»»åŠ¡åªæ˜¯æ£€æŸ¥ä¸€ä¸‹ä½ å¸¦æ²¡å¸¦èº«ä»½è¯ï¼ˆç®€å•æ ¡éªŒï¼‰ï¼Œç„¶åâ€œæ»´â€ä¸€å£°ç»™ä½ ä¸€å¼ å·ï¼ˆå‘æ¶ˆæ¯åˆ°é˜Ÿåˆ—ï¼‰ã€‚</li>
<li>å‘å·æœºé€Ÿåº¦æå¿«ï¼Œä¸€åˆ†é’Ÿèƒ½å‘å‡ ç™¾ä¸ªå·ã€‚</li>
</ul>
</li>
<li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šå°±æ˜¯é‚£ä¸ª<strong>ç­‰å¾…åŒº</strong>ã€‚
<ul>
<li>æ‰€æœ‰æ‹¿åˆ°å·çš„äººéƒ½åœ¨è¿™é‡Œåç€ç­‰ã€‚</li>
</ul>
</li>
<li><strong>åå°æ¶ˆè´¹è€…</strong>ï¼šå°±æ˜¯é‚£ä¸ª<strong>åŠäº‹çª—å£</strong>ã€‚
<ul>
<li>çª—å£çš„é€Ÿåº¦æ˜¯å›ºå®šçš„ï¼Œä¸ç®¡å¤–é¢æ¥äº†å¤šå°‘äººï¼Œçª—å£æ°¸è¿œæ˜¯â€œå«ä¸€ä¸ªï¼ŒåŠä¸€ä¸ªâ€ã€‚</li>
<li>å¦‚æœçª—å£å¿™ä¸è¿‡æ¥ï¼Œå·å°±åœ¨ç­‰å¾…åŒºæ’é˜Ÿï¼Œäººä¸ä¼šå µåœ¨é—¨å£ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-26">ğŸ½ï¸ 2. å°±åƒâ€œé¤å…æ’å·é™æµâ€</h4>
<ul>
<li><strong>é«˜å³°æœŸ</strong>ï¼šå‡ ç™¾äººæ¶Œå‘é¤å…ã€‚</li>
<li><strong>å¦‚æœæ²¡æœ‰é˜Ÿåˆ—</strong>ï¼šæ‰€æœ‰äººéƒ½æŒ¤åœ¨é—¨å£å’Œè¿‡é“é‡Œï¼Œè°ä¹ŸåŠ¨ä¸äº†ï¼ŒæœåŠ¡å‘˜ä¸Šä¸äº†èœï¼Œå¨æˆ¿ä¹Ÿä¹±å¥—äº†ï¼ˆæœåŠ¡å™¨æ­»é”/å´©æºƒï¼‰ã€‚</li>
<li><strong>ä½¿ç”¨é˜Ÿåˆ—</strong>ï¼š
<ul>
<li>é—¨å£æœåŠ¡å‘˜è¯´ï¼šâ€œé‡Œé¢æ»¡äº†ï¼Œæ‚¨æ‹¿ä¸ªå·åœ¨è·¯è¾¹ç­‰å§ã€‚â€ï¼ˆè¯·æ±‚è¢«æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ã€‚</li>
<li>é¤å…é‡Œé¢è¿˜æ˜¯æŒ‰ç…§åŸæœ¬çš„èŠ‚å¥ï¼Œåƒå®Œä¸€æ¡Œç¿»å°ä¸€æ¡Œï¼ˆæ¶ˆè´¹è€…å¤„ç†å®Œä¸€æ¡æ¶ˆæ¯ï¼Œå†å–ä¸‹ä¸€æ¡ï¼‰ã€‚</li>
<li>è™½ç„¶å¤–é¢æ’é˜Ÿçš„äººå¾ˆå¤šï¼Œä½†é¤å…å†…éƒ¨ç§©åºäº•ç„¶ï¼Œä¸ä¼šå› ä¸ºäººå¤šè€Œç˜«ç—ªã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-27">ğŸ¤” è¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</h4>
<ol>
<li>
<p><strong>ç³»ç»Ÿä¸å´©</strong>ï¼šè¿™æ˜¯æœ€å¤§çš„å¥½å¤„ã€‚ä¸ç®¡æµé‡æ˜¯å¹³æ—¶çš„10å€è¿˜æ˜¯100å€ï¼Œä½ çš„æ ¸å¿ƒä¸šåŠ¡å¤„ç†èƒ½åŠ›ï¼ˆæ¶ˆè´¹è€…ï¼‰æ°¸è¿œåœ¨è‡ªå·±çš„èƒ½åŠ›èŒƒå›´å†…å·¥ä½œã€‚ç°å®ä¸­ï¼Œå¦‚æœæ²¡æœ‰å–å·æœºåˆ¶ï¼Œä¸å®‰æ’ç­‰å€™åŒºï¼Œå¤§å®¶ä¸€ç›´æ’ç€é•¿é•¿çš„é˜Ÿåˆ—ï¼Œä½ ä¼šå‘ç°é—¨è¢«å µå®äº†ï¼Œå½±å“æ­£å¸¸çš„åŒè¡Œã€‚</p>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒå¥½</strong>ï¼šç”¨æˆ·è™½ç„¶éœ€è¦ç­‰å¾…ï¼ˆæ¯”å¦‚å»è®¢å•é¡µåˆ·æ–°ï¼‰ï¼Œä½†è‡³å°‘ <strong>ä¸ä¼šçœ‹åˆ°â€œ504ç½‘å…³è¶…æ—¶â€æˆ–è€…â€œæœåŠ¡å™¨å¼€å°å·®äº†â€</strong> è¿™ç§æŠ¥é”™ã€‚ç”¨æˆ·çœ‹åˆ°çš„æ˜¯â€œè¯·æ±‚å·²æäº¤â€ï¼Œå¿ƒé‡Œå°±æœ‰åº•äº†ã€‚</p>
</li>
<li>
<p><strong>é”™å³°å¤„ç†</strong>ï¼šæ¯”å¦‚ç§’æ€æ´»åŠ¨åœ¨0ç‚¹ç»“æŸï¼Œä½†å¤„ç†è®¢å•å¯èƒ½è¦æŒç»­åˆ°å‡Œæ™¨1ç‚¹ã€‚è¿™æ²¡å…³ç³»ï¼Œåªè¦åœ¨å¤©äº®å‰å¤„ç†å®Œå°±è¡Œã€‚æŠŠç¬é—´çš„æ´ªå³°æ‹‰å¹³æˆä¸€ä¸ªç¼“å¡ã€‚</p>
</li>
</ol>
<h4 data-id="heading-28">âš ï¸ éœ€è¦æ³¨æ„çš„â€œå‘â€</h4>
<p>è™½ç„¶è¿™ä¸ªæ¯”å–»å¾ˆå½¢è±¡ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹å°åŒºåˆ«ï¼š</p>
<p><strong>å·ä¸ä¼šè¿‡æœŸ vs. æ¶ˆæ¯ä¼šè¿‡æœŸ/ç§¯å‹</strong></p>
<ul>
<li>åœ¨é¤å…ï¼Œå¦‚æœä½ ç­‰å¤ªä¹…æ²¡å»ï¼Œå·å¯èƒ½ä¼šä½œåºŸã€‚</li>
<li>åœ¨æ¶ˆæ¯é˜Ÿåˆ—é‡Œï¼Œå¦‚æœæ¶ˆè´¹è€…æŒ‚äº†æˆ–è€…å¤„ç†å¤ªæ…¢ï¼Œæ¶ˆæ¯ä¼š<strong>å †ç§¯</strong>ã€‚
<ul>
<li>å¦‚æœç§¯å‹å¤ªå¤šï¼Œé˜Ÿåˆ—å¯èƒ½ä¼šæ»¡ï¼ˆéœ€è¦ç›‘æ§ï¼‰ã€‚</li>
<li>å¦‚æœå¤„ç†å¤ªæ…¢ï¼Œç”¨æˆ·å¯èƒ½è¦ç­‰å¾ˆä¹…æ‰çŸ¥é“è‡ªå·±æ²¡æŠ¢åˆ°ï¼ˆè¿™æ—¶å€™é€šå¸¸éœ€è¦é…åˆâ€œç†”æ–­â€å’Œâ€œé™çº§â€ç­–ç•¥ï¼Œæ¯”å¦‚è¶…è¿‡ä¸€å®šæ•°é‡ç›´æ¥æ‹’ç»è¯·æ±‚ï¼Œå°±åƒé¤å…æ»¡å‘˜äº†ç›´æ¥è¯´â€œä»Šå¤©ä¸è¥ä¸šäº†â€ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ€»ç»“ï¼šæ¶ˆæ¯é˜Ÿåˆ—å°±æ˜¯ä¸€ä¸ªâ€œè§£è€¦â€å’Œâ€œç¼“å†²â€çš„ç¥å™¨ï¼Œå®ƒæŠŠâ€œç¬æ—¶çš„é«˜å¹¶å‘â€è½¬åŒ–ä¸ºäº†â€œæŒç»­çš„å¼‚æ­¥ä»»åŠ¡æµâ€ã€‚</strong></p>
<h2 data-id="heading-29">æœ¬è´¨ä¸Šå½“ä¸‹æ²¡æœ‰å¤ªå¤šæŠ€æœ¯å«é‡ä½†æ˜¯ç»†èŠ‚å¾ˆå¤šçš„å·¥ä½œ</h2>
<p>è€æ˜¯åš·åš·ç€ä»€ä¹ˆé«˜å¹¶å‘ï¼Œé«˜å¯ç”¨ï¼Œç°åœ¨æŠ€æœ¯å·²ç»å¾ˆæˆç†Ÿäº†ï¼Œå†ç»§ç»­æŠ è¿™äº›ï¼Œæ„Ÿè§‰å°±åƒå­”ä¹™å·±ç©¿ç€é‚£ä¸ªé•¿è¢ä¸æ„¿æ„è„±ä¸‹ä¸€æ ·ã€‚</p>
<p>å…¶å®ï¼Œè¿™ç§æŠ€æœ¯æ—¢ç„¶å·²ç»æˆç†Ÿäº†ï¼Œé™¤äº†äº›è®¸ç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œå®ƒçŸ­æœŸæ¥çœ‹ï¼Œä¹Ÿå¾ˆéš¾æœ‰ä»€ä¹ˆæ–°çš„çªç ´äº†ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™ç§â€œæ²¡ä»€ä¹ˆæŠ€æœ¯å«é‡â€çš„æ„Ÿè§‰ï¼Œä¹Ÿæ˜¯ä¼˜ç§€å·¥ç¨‹æ€ç»´çš„æ ¸å¿ƒâ€”â€”å¤§é“è‡³ç®€ã€‚çœŸæ­£çš„æŠ€æœ¯å«é‡ä¸åœ¨äºæŠŠäº‹æƒ…æå¾—å¤šä¹ˆç„ä¹ï¼Œè€Œåœ¨äºç”¨æœ€ç®€å•ã€æœ€ç¨³å®šã€æœ€ä¾¿å®œçš„åŠæ³•ï¼ŒæŠŠé‚£ä¸ªâ€œä¸å¯èƒ½â€çš„é—®é¢˜ç»™è§£å†³äº†ã€‚</p>
<p>è¿™é‡Œé¢çš„â€œæŠ€æœ¯å«é‡â€ï¼Œå…¶å®ä¸åœ¨äºâ€œç”¨äº†é˜Ÿåˆ—â€ï¼Œè€Œåœ¨äºæŠŠç»†èŠ‚å¤„ç†å¥½ï¼š</p>
<h4 data-id="heading-30">ğŸ¯ 1. æŠ€æœ¯å«é‡åœ¨äºâ€œè®¤çŸ¥çš„ç©¿é€åŠ›â€</h4>
<p>å½“æ‰€æœ‰äººéƒ½åœ¨å–Šâ€œæœåŠ¡å™¨è¦ç‚¸äº†ï¼Œå¿«åŠ æœºå™¨â€çš„æ—¶å€™ï¼Œä½ èƒ½ä¸€çœ¼çœ‹ç©¿é—®é¢˜çš„æœ¬è´¨ä¸æ˜¯â€œç®—åŠ›ä¸å¤Ÿâ€ï¼Œè€Œæ˜¯**â€œæµé‡çš„çªå‘æ€§â€å’Œâ€œå¤„ç†èƒ½åŠ›çš„æ’å®šæ€§â€ä¹‹é—´çš„çŸ›ç›¾**ã€‚</p>
<ul>
<li>
<p><strong>éš¾ç‚¹</strong>ï¼šä¸è¢«è¡¨è±¡ï¼ˆCPU 100%ï¼‰è¿·æƒ‘ï¼Œç²¾å‡†å®šä½åˆ°æ˜¯â€œåŒæ­¥é˜»å¡â€å¯¼è‡´äº†é›ªå´©ã€‚</p>
</li>
<li>
<p><strong>æŠ€æœ¯å«é‡</strong>ï¼šè¿™æ˜¯ä¸€ç§<strong>æ¶æ„å±‚é¢çš„æ´å¯ŸåŠ›</strong>ã€‚ä½ çŸ¥é“ç³»ç»Ÿç“¶é¢ˆåœ¨å“ªé‡Œï¼Œä¹ŸçŸ¥é“æ€ä¹ˆç»•è¿‡å»ã€‚</p>
</li>
</ul>
<h4 data-id="heading-31">âš™ï¸ 2. æŠ€æœ¯å«é‡åœ¨äºâ€œå¼‚æ­¥åŒ–â€çš„æ”¹é€ </h4>
<p>çœ‹èµ·æ¥åªæ˜¯åŠ äº†ä¸ªé˜Ÿåˆ—ï¼Œä½†è¦æŠŠä¸€ä¸ªåŸæœ¬â€œç”¨æˆ·ç‚¹äº†æŒ‰é’® -&gt; ç«‹åˆ»æ‰£åº“å­˜ -&gt; ç«‹åˆ»è¿”å›æˆåŠŸâ€çš„åŒæ­¥æµç¨‹ï¼Œæ”¹æˆå¼‚æ­¥çš„ï¼Œè¿™ä¸­é—´å…¨æ˜¯å‘ï¼š</p>
<ul>
<li>
<p><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šç”¨æˆ·ç‚¹äº†ï¼Œä½ è¿”å›â€œæ’é˜Ÿä¸­â€ï¼Œé‚£ç”¨æˆ·æ€ä¹ˆçŸ¥é“æœ€åæˆåŠŸæ²¡ï¼Ÿä½ éœ€è¦è®¾è®¡ä¸€å¥—<strong>çŠ¶æ€æŸ¥è¯¢æœºåˆ¶</strong>ï¼ˆæ¯”å¦‚è®¢å•çŠ¶æ€è½®è¯¢æˆ–WebSocketæ¨é€ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šå¦‚æœæ¶ˆæ¯å‘å‡ºå»äº†ï¼Œç»“æœæ‰£åº“å­˜çš„æ—¶å€™æ•°æ®åº“æŒ‚äº†ï¼Œè¿™æ¡æ¶ˆæ¯ç®—ä¸ç®—ï¼Ÿè¿™å°±æ¶‰åŠåˆ°<strong>æ¶ˆæ¯çš„å¯é æ€§æŠ•é€’</strong>ã€<strong>å¹‚ç­‰æ€§å¤„ç†</strong>ï¼ˆé˜²æ­¢åŒä¸€æ¡æ¶ˆæ¯è¢«é‡å¤æ¶ˆè´¹å¯¼è‡´åº“å­˜æ‰£æˆè´Ÿæ•°ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ­»ä¿¡å¤„ç†</strong>ï¼šå¦‚æœé‚£æ¡æ¶ˆæ¯å› ä¸ºæ•°æ®æ ¼å¼é”™è¯¯ä¸€ç›´å¤„ç†ä¸äº†ï¼Œå®ƒä¼šå¡åœ¨é‚£é‡Œï¼Œä½ éœ€è¦ä¸€ä¸ªâ€œæ­»ä¿¡é˜Ÿåˆ—â€æ¥ä¸“é—¨å¤„ç†è¿™äº›â€œé’‰å­æˆ·â€ã€‚</p>
</li>
</ul>
<h4 data-id="heading-32">ğŸ›¡ï¸ 3. æŠ€æœ¯å«é‡åœ¨äºâ€œå…œåº•â€å’Œâ€œæ²»ç†â€</h4>
<p>â€œæ’é˜Ÿâ€å®¹æ˜“ï¼Œâ€œç»´æŒç§©åºâ€éš¾ã€‚</p>
<ul>
<li>
<p><strong>ç§¯å‹æ€ä¹ˆåŠ</strong>ï¼šå¦‚æœåå°å¤„ç†å¤ªæ…¢ï¼Œé˜Ÿåˆ—é‡Œå †ç§¯äº†å‡ ç™¾ä¸‡æ¡æ¶ˆæ¯ï¼Œå†…å­˜çˆ†äº†æ€ä¹ˆåŠï¼Ÿä½ éœ€è¦<strong>ç›‘æ§å‘Šè­¦</strong>ï¼Œç”šè‡³éœ€è¦<strong>åŠ¨æ€æ‰©å®¹</strong>æ¶ˆè´¹è€…ã€‚</p>
</li>
<li>
<p><strong>ç†”æ–­æœºåˆ¶</strong>ï¼šå¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œä½ æ˜¯æŠŠæ–°æ¥çš„è¯·æ±‚ä¸¢æ‰ï¼Œè¿˜æ˜¯é˜»å¡ä½ï¼Ÿè¿™å°±éœ€è¦è®¾è®¡<strong>é™æµå’Œé™çº§ç­–ç•¥</strong>ã€‚</p>
</li>
<li>
<p><strong>é€‰å‹</strong>ï¼šä½ æ˜¯ç”¨ RabbitMQï¼ˆçµæ´»ä½†ååé‡ä¸€èˆ¬ï¼‰ï¼Œè¿˜æ˜¯ç”¨ Kafkaï¼ˆååé‡å·¨å¤§ä½†å»¶è¿Ÿç¨é«˜ï¼‰ï¼Œè¿˜æ˜¯ç”¨ RocketMQï¼ˆé‡‘èçº§å¯é ï¼‰ï¼Ÿè¿™éœ€è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯åšæƒè¡¡ã€‚</p>
</li>
</ul>
<h4 data-id="heading-33">ğŸ“‰ 4. æŠ€æœ¯å«é‡åœ¨äºâ€œå–èˆâ€</h4>
<p>â€œå‰Šå³°â€å…¶å®ä¹Ÿæ˜¯ä¸€ç§ **â€œæ¬ºéª—â€ **ã€‚ä½ æ˜¯åœ¨ç”¨ <strong>â€œå“åº”æ—¶é—´â€</strong> æ¢å– <strong>â€œç³»ç»Ÿç¨³å®šæ€§â€</strong>ã€‚</p>
<ul>
<li>
<p>æŠ€æœ¯å«é‡åœ¨äºä½ æ¸…æ¥šåœ°çŸ¥é“ï¼š<strong>è®©ç”¨æˆ·ç­‰3ç§’çœ‹åˆ°ç»“æœï¼Œæ¯”è®©ç”¨æˆ·ç«‹åˆ»çœ‹åˆ°é”™è¯¯é¡µé¢è¦å¥½å¾—å¤š</strong>ã€‚</p>
</li>
<li>
<p>è¿™ç§åœ¨<strong>ç”¨æˆ·ä½“éªŒ</strong>å’Œ<strong>ç³»ç»Ÿå¯ç”¨æ€§</strong>ä¹‹é—´åšæƒè¡¡çš„èƒ½åŠ›ï¼Œæ˜¯å·¥ç¨‹å¸ˆä¸ºäº†åŠ¡å®ä¸å¾—ä¸åšçš„å–èˆã€‚</p>
</li>
</ul>
<p>é«˜å¹¶å‘æ˜¯æœ´ç´ è€Œç®€å•çš„ä¸œè¥¿ï¼Œå¹¶ä¸æ˜¯ä»€ä¹ˆå¤æ‚çš„ä¸œè¥¿ï¼Œéš¾åœ¨å…¶é•¿é“¾æ¡ä¸­æœ‰å¾ˆå¤šç»†èŠ‚ï¼Œ éš¾åœ¨ä¸€æ—¦å‡ºäº†é”™ï¼Œéœ€è¦è¢«æ‰£å¥–é‡‘å’Œç»©æ•ˆï¼Œæˆ–è€…é€ æˆä¸¥é‡çš„å·¥ç¨‹äº‹æ•…ï¼Œå› æ­¤éš¾åœ¨ä¸èƒ½å‡ºé”™ã€‚</p>
<h2 data-id="heading-34">æˆç†Ÿå·¥ç§å¸¦æ¥çš„ä»·å€¼ç„¦è™‘</h2>
<p>é«˜å¹¶å‘é«˜å¯ç”¨è¿™ä¸€å¥—,æˆ‘ç§°ä¹‹ä¸ºæˆç†Ÿå·¥ç§ï¼Œæ–°äººè·Ÿç€è€å¸ˆå‚…è®¤çœŸå¹²ä¸Šä¸€ä¸¤æ¬¡å®Œæ•´çš„æµç¨‹ï¼Œä¹Ÿå°±æˆä¸ºäº†æœ‰ç»éªŒçš„è€å¸ˆå‚…ï¼Œå·®ä¸å¤šç†è§£æœ¬è´¨äº†éƒ½çŸ¥é“å’‹å¼„ã€‚</p>
<p>æœ‰çš„æ—¶å€™ï¼Œäº’è”ç½‘è¡Œä¸šçš„è½¯ä»¶å·¥ç¨‹è‡ªå˜²â€œæ¬ç –â€ï¼Œå¯ä»¥ç§°å¾—ä¸Šæ˜¯æ²¡æ³•åé©³äº†ã€‚</p>
<p><strong>è¿™æ˜¯å¯¹â€œè½¯ä»¶å·¥ç¨‹â€ç°çŠ¶æœ€ç²¾å‡†ã€æœ€æ®‹å¿çš„æš´å‡»ã€‚</strong></p>
<p><strong>ä¸€æ—¦ä½ çœ‹é€äº†æœ¬è´¨ï¼Œå‰©ä¸‹çš„çœŸçš„å°±åªæ˜¯â€œä½“åŠ›æ´»â€å’Œâ€œç†Ÿç»ƒå·¥ç§â€ã€‚</strong></p>
<p>è¿™è§¦åŠäº†ç¨‹åºå‘˜è¿™ä¸ªèŒä¸šæœ€æ ¸å¿ƒçš„ç„¦è™‘ä¹‹ä¸€ï¼š<strong>å·¥ä½œçš„â€œå¯æ›¿ä»£æ€§â€</strong>ã€‚</p>
<h4 data-id="heading-35">ğŸ§± 1. å¤§éƒ¨åˆ†å·¥ä½œç¡®å®æ˜¯â€œæ¬ç –â€</h4>
<ul>
<li>
<p><strong>CRUD å·¥ç¨‹å¸ˆ</strong>ï¼šå¢åˆ æ”¹æŸ¥ï¼Œå†™æ¥å£ï¼Œæ‹¼é¡µé¢ã€‚åªè¦æ˜¯ä¸ªæ­£ç»è®¡ç®—æœºæ¯•ä¸šçš„æœ¬ç§‘ç”Ÿï¼Œç»™ä»–ä¸¤ä¸‰ä¸ªæœˆç†Ÿæ‚‰ä¸šåŠ¡ï¼Œç¡®å®èƒ½ä¸Šæ‰‹ã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡é€»è¾‘çš„å †ç Œ</strong>ï¼šå¤§éƒ¨åˆ†å…¬å¸çš„ä»£ç ï¼Œå°±æ˜¯æ¥è¿‘ if-else çš„æ’åˆ—ç»„åˆã€‚è¿™ä¸éœ€è¦å¤©æ‰ï¼Œåªéœ€è¦è€å¿ƒå’Œè®°å¿†åŠ›ã€‚</p>
</li>
<li>
<p><strong>æ¡†æ¶çš„æˆç†Ÿ</strong>ï¼šç°åœ¨å„ç§æ¡†æ¶å¤ªæˆç†Ÿäº†ï¼ŒæŠŠå¾ˆå¤šåº•å±‚ç»†èŠ‚éƒ½å°è£…å¥½äº†ã€‚ä½ åªéœ€è¦æŒ‰ç…§æ–‡æ¡£â€œå¡«ç©ºâ€å°±è¡Œã€‚</p>
</li>
</ul>
<h4 data-id="heading-36">ğŸ§© 2. â€œçŸ¥é“å’‹å¼„â€å’Œâ€œèƒ½å¼„å¥½â€ä¹‹é—´ï¼Œéš”ç€ä¸€æ¡é¸¿æ²Ÿ</h4>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè™½ç„¶â€œæ¢ä¸ªäººèƒ½å¹²â€ï¼Œä½†è¿˜æ˜¯æœ‰ä¸å¯æ›¿ä»£æ€§çš„åŸå› ã€‚<strong>â€œçŸ¥é“â€åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œåé¢çš„å‘ï¼Œæ‰æ˜¯ä½ ç»éªŒçš„ä»·å€¼æ‰€åœ¨ã€‚</strong></p>
<ul>
<li>
<p><strong>å¡«å‘çš„èƒ½åŠ›</strong>ï¼šä½ çŸ¥é“æ€ä¹ˆç”¨æ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°ï¼Œè¿™æ˜¯â€œçŸ¥é“â€ã€‚ä½†å½“æ¶ˆæ¯é˜Ÿåˆ—æŒ‚äº†ã€æ¶ˆæ¯ä¸¢äº†ã€é‡å¤æ¶ˆè´¹äº†ã€ç§¯å‹äº†å‡ åäº¿æ¡äº†ï¼Œé‚£ä¸ªâ€œå·®ä¸å¤šç†è§£æœ¬è´¨â€çš„æ–°äººæ€ä¹ˆåŠï¼Ÿè¿™æ—¶å€™é çš„æ˜¯ä½ debugçš„ç›´è§‰å’Œç»éªŒã€‚</p>
</li>
<li>
<p><strong>ä»£ç çš„â€œæ°”å‘³â€</strong>ï¼šæ–°äººå†™å‡ºçš„ä»£ç èƒ½è·‘ï¼Œä½†å¯èƒ½æ˜¯ä¸€å¨æ„å¤§åˆ©é¢æ¡ï¼ˆSpaghetti Codeï¼‰ï¼Œè€¦åˆåº¦æé«˜ï¼ŒåŠå¹´åè°éƒ½ä¸æ•¢åŠ¨ã€‚ä½ å†™å‡ºçš„ä»£ç ï¼Œç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤ï¼Œæ‰©å±•æ€§å¼ºã€‚è¿™ç§â€œä»£ç æ´ç™–â€å’Œè®¾è®¡èƒ½åŠ›ï¼Œæ˜¯é•¿æœŸè®­ç»ƒå‡ºæ¥çš„ã€‚</p>
</li>
<li>
<p><strong>å¯¹ä¸šåŠ¡çš„ç†è§£</strong>ï¼šä½ ä¸ä»…ä»…æ˜¯åœ¨å†™ä»£ç ï¼Œä½ æ˜¯åœ¨è§£å†³ä¸šåŠ¡é—®é¢˜ã€‚ä½ å¯¹ä¸šåŠ¡çš„æ·±åˆ»ç†è§£ï¼Œè®©ä½ èƒ½è®¾è®¡å‡ºæ›´åˆç†çš„æµç¨‹ï¼Œé¿å…å¾ˆå¤šæ— ç”¨åŠŸã€‚æ–°äººå¾€å¾€åªçœ‹å¾—åˆ°éœ€æ±‚æ–‡æ¡£çš„å­—é¢æ„æ€ã€‚</p>
</li>
<li>
<p><strong>æƒè¡¡çš„è‰ºæœ¯</strong>ï¼šæŠ€æœ¯æ²¡æœ‰é“¶å¼¹ã€‚ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä½ å¾—æƒè¡¡ä¸€è‡´æ€§ã€å¯ç”¨æ€§ã€å¤æ‚åº¦ã€‚è¿™ç§åœ¨å„ç§é™åˆ¶æ¡ä»¶ä¸‹åšæœ€ä¼˜è§£çš„èƒ½åŠ›ï¼Œæ˜¯â€œç»éªŒå€¼â€çš„ç›´æ¥ä½“ç°ã€‚</p>
</li>
</ul>
<h4 data-id="heading-37">ğŸ“Š 3. ç¨‹åºå‘˜çš„ä»·å€¼é‡‘å­—å¡”</h4>
<p>å…¶å®ï¼Œç¨‹åºå‘˜çš„å·¥ä½œå¯ä»¥åˆ†ä¸ºä¸‰å±‚ï¼Œä½ çš„ç„¦è™‘ä¸»è¦æ¥è‡ªäºå¤„äºä¸­é—´å±‚ï¼š</p>
<ul>
<li>
<p><strong>ç¬¬ä¸€å±‚ï¼šåŸºç¡€æ‰§è¡Œå±‚ï¼ˆå¯æ›¿ä»£æ€§é«˜ï¼‰</strong></p>
<ul>
<li>å·¥ä½œå†…å®¹ï¼šå®ç°å…·ä½“çš„æ¥å£ã€é¡µé¢ã€ç®€å•çš„ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>çŠ¶æ€ï¼šå°±æ˜¯â€œæ¢ä¸ªäººä¹Ÿèƒ½å¹²â€ã€‚è¿™æ˜¯çº¯ä½“åŠ›æ´»ï¼Œå·çš„æ˜¯ä»£ç é‡å’ŒåŠ ç­æ—¶é•¿ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¬¬äºŒå±‚ï¼šç³»ç»Ÿè®¾è®¡å±‚ï¼ˆæ ¸å¿ƒç«äº‰åŠ›ï¼‰</strong></p>
<ul>
<li>å·¥ä½œå†…å®¹ï¼šè®¾è®¡æ¶æ„ã€è§£å†³å¤æ‚æŠ€æœ¯éš¾é¢˜ã€ä¼˜åŒ–æ€§èƒ½ã€ä¿éšœç³»ç»Ÿç¨³å®šã€‚</li>
<li>çŠ¶æ€ï¼šè¿™éœ€è¦ç»éªŒå’Œå¤©èµ‹ã€‚ä¸æ˜¯éšä¾¿æ‹‰ä¸ªäººå°±èƒ½è®¾è®¡å‡ºæ·˜å®é‚£ç§çº§åˆ«çš„ç§’æ€ç³»ç»Ÿçš„ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¬¬ä¸‰å±‚ï¼šä¸šåŠ¡/äº§å“å±‚ï¼ˆä¸å¯æ›¿ä»£æ€§ï¼‰</strong></p>
<ul>
<li>å·¥ä½œå†…å®¹ï¼šé€šè¿‡æŠ€æœ¯æ‰‹æ®µåˆ›é€ å•†ä¸šä»·å€¼ï¼Œæˆ–è€…ç”¨æŠ€æœ¯å»æ”¹å˜ä¸€ä¸ªè¡Œä¸šã€‚</li>
<li>çŠ¶æ€ï¼šè¿™æ—¶å€™ä½ å·²ç»ä¸æ˜¯ä¸ªå•çº¯çš„ç¨‹åºå‘˜äº†ï¼Œä½ æ˜¯ä¸ªæ‡‚æŠ€æœ¯çš„ä¸šåŠ¡ä¸“å®¶ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-38">ğŸ’¡ æ‰€ä»¥ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</h4>
<ol>
<li>
<p><strong>ä¸è¦æŠŠâ€œå†™ä»£ç â€å½“æˆä½ çš„æ ¸å¿ƒä»·å€¼</strong>ã€‚ä»£ç åªæ˜¯ä½ å®ç°æƒ³æ³•çš„å·¥å…·ã€‚ä½ çš„æ ¸å¿ƒä»·å€¼æ˜¯ä½ çš„**â€œè§£å†³é—®é¢˜çš„èƒ½åŠ›â€<strong>å’Œ</strong>â€œæ¶æ„æ€ç»´â€**ã€‚</p>
</li>
<li>
<p><strong>å¾€ä¸Šèµ°ï¼Œä¸è¦åœ¨åº•å±‚å·</strong>ã€‚å¤šå»æ€è€ƒç³»ç»Ÿè®¾è®¡ï¼Œå¤šå»äº†è§£ä¸šåŠ¡ï¼Œå¤šå»å­¦ä¹ é‚£äº›â€œé“â€å±‚é¢çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯æ­»ç£•æŸä¸ªæ–°å‡ºçš„æ¡†æ¶è¯­æ³•ã€‚</p>
</li>
<li>
<p><strong>æŠŠè‡ªå·±å½“æˆä¸€ä¸ªâ€œæ‰‹è‰ºäººâ€</strong>ã€‚è™½ç„¶å·¥ä½œå¾ˆå‚»ï¼Œä½†ä½ å¯ä»¥è¿½æ±‚ä»£ç çš„ä¼˜é›…ï¼Œè¿½æ±‚æ¶æ„çš„ç®€æ´ã€‚è¿™ç§<strong>èŒä¸šè‡ªè±ªæ„Ÿ</strong>ï¼Œæ˜¯ä½ å¯¹æŠ—â€œå·¥ä½œæ— æ„ä¹‰æ„Ÿâ€çš„æœ€å¤§æ­¦å™¨ã€‚</p>
</li>
<li>
<p><strong>æ‰¿è®¤å·¥ä½œçš„å¹³å‡¡ï¼Œä½†ä¸æ”¾å¼ƒè‡ªå·±çš„ä¸å‡¡</strong>ã€‚å¤§éƒ¨åˆ†å·¥ä½œç¡®å®æ˜¯å¹³å‡¡çš„ï¼Œä½†è¿™ä¸å¦¨ç¢ä½ åœ¨è¿™ä¸ªå¹³å‡¡çš„å²—ä½ä¸Šï¼Œæˆä¸ºä¸€ä¸ªç‰›é€¼çš„äººã€‚</p>
</li>
</ol>
<h2 data-id="heading-39">æ¦‚è§ˆé«˜å¹¶å‘é«˜å¯ç”¨çš„ä¸‰æ¿æ–§</h2>
<p>æœ€åï¼Œæˆ‘ä»¬æ¥å†æ¬¡å›é¡¾å’Œæ€»ç»“ä¸€ä¸‹äº’è”ç½‘å·¥ä½œåœºæ™¯ä¸­çš„é«˜å¹¶å‘é«˜å¯ç”¨çš„è€ä¸‰æ ·æˆ–è€…ä¸‰æ¿æ–§ã€‚</p>
<p><strong>â€œé«˜å¹¶å‘â€è¿™ä¸‰ä¸ªå­—ï¼Œè¢«å¹å¾—ç¥ä¹å…¶ç¥ï¼Œæå¾—å¥½åƒå¤šä¹ˆé«˜æ·±è«æµ‹ä¼¼çš„ï¼Œå…¶å®å‰¥å¼€é‚£å±‚ç„å­¦å¤–è¡£ï¼Œå†…æ ¸ç¡®å®å°±æ˜¯é‚£â€œè€ä¸‰æ ·â€ã€‚</strong></p>
<p>å¤§å®¶ä¹‹æ‰€ä»¥è§‰å¾—å®ƒå‰å®³ï¼Œå¾€å¾€æ˜¯å› ä¸ºå®ƒæŠŠè¿™â€œè€ä¸‰æ ·â€ç©åˆ°äº†æè‡´ï¼Œå¹¶ä¸”å¤„ç†äº†è¿™ä¸‰æ ·ä¸œè¥¿å¸¦æ¥çš„å„ç§çƒ‚æ‘Šå­ã€‚</p>
<p>æˆ‘ä»¬æŠŠè¿™â€œä¸‰æ¿æ–§â€æ‰’ä¸€æ‰’ï¼Œçœ‹çœ‹å®ƒåˆ°åº•æœ‰å¤šâ€œäº†ä¸èµ·â€ï¼š</p>
<h4 data-id="heading-40">ğŸª“ ç¬¬ä¸€æ–§ï¼šç¼“å­˜ (Cache)</h4>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šå°±æ˜¯ <strong>â€œåˆ«è€é—®æ•°æ®åº“â€</strong>ã€‚</li>
<li><strong>æ“ä½œ</strong>ï¼šæŠŠæ•°æ®æ”¾åœ¨å†…å­˜é‡Œï¼ˆRedis/Memcachedï¼‰æˆ–è€…ç”¨æˆ·èº«è¾¹ï¼ˆCDNï¼‰ã€‚</li>
<li><strong>æŠ€æœ¯å«é‡åœ¨å“ª</strong>ï¼š
<ul>
<li><strong>é¢å­ä¸Š</strong>ï¼šè°éƒ½ä¼š<code>set</code>å’Œ<code>get</code>ã€‚</li>
<li><strong>é‡Œå­ä¸Š</strong>ï¼šç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°æ€ä¹ˆåŠï¼‰ã€ç¼“å­˜å‡»ç©¿ï¼ˆçƒ­ç‚¹Keyå¤±æ•ˆç¬é—´ï¼‰ã€ç¼“å­˜é›ªå´©ï¼ˆå¤§é‡KeyåŒæ—¶å¤±æ•ˆï¼‰ã€æ•°æ®ä¸€è‡´æ€§ï¼ˆæ•°æ®åº“æ”¹äº†ï¼Œç¼“å­˜æ€ä¹ˆåŒæ­¥ï¼‰ã€‚<strong>è§£å†³è¿™äº›â€œå¹¶å‘ç—‡â€æ‰æ˜¯çœŸåŠŸå¤«ã€‚</strong></li>
</ul>
</li>
</ul>
<p>è¿™é‡Œé¢æ¶‰åŠäº†ç¼“å­˜å’Œæ•°æ®å¦‚ä½•åŒæ­¥çš„ç»†èŠ‚é—®é¢˜ã€‚</p>
<h4 data-id="heading-41">ğŸª“ ç¬¬äºŒæ–§ï¼šé™æµ (Rate Limiting)</h4>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šå°±æ˜¯**â€œå¹²ä¸è¿‡æ¥å°±ç›´æ¥æ‹’ç»â€**ã€‚</li>
<li><strong>æ“ä½œ</strong>ï¼šä»¤ç‰Œæ¡¶ã€æ¼æ¡¶ã€è®¡æ•°å™¨ï¼Œæ ¸å¿ƒé€»è¾‘å°±æ˜¯â€œè¶…äº†å°±æ»šâ€ã€‚</li>
<li><strong>æŠ€æœ¯å«é‡åœ¨å“ª</strong>ï¼š
<ul>
<li><strong>é¢å­ä¸Š</strong>ï¼š<code>if (count &gt; limit) return error</code>ã€‚</li>
<li><strong>é‡Œå­ä¸Š</strong>ï¼šæ€ä¹ˆåŠ¨æ€è°ƒæ•´é˜ˆå€¼ï¼Ÿæ˜¯æŒ‰æœºå™¨è´Ÿè½½è°ƒè¿˜æ˜¯æŒ‰ä¸šåŠ¡é‡è¦æ€§è°ƒï¼Ÿæ‹’ç»çš„æ—¶å€™æ€ä¹ˆä¿è¯ç”¨æˆ·ä½“éªŒä¸å´©ï¼Ÿ<strong>åœ¨â€œæ‹’ç»è°â€å’Œâ€œæ‹’ç»å¤šå°‘â€ä¹‹é—´æ‰¾å¹³è¡¡ï¼Œé ç»éªŒã€‚</strong></li>
</ul>
</li>
</ul>
<h4 data-id="heading-42">ğŸª“ ç¬¬ä¸‰æ–§ï¼šå¼‚æ­¥ (æ¶ˆæ¯é˜Ÿåˆ—) / é™çº§ (Degradation)</h4>
<ul>
<li>
<p><strong>æœ¬è´¨</strong>ï¼šå°±æ˜¯ <strong>â€œå‰Šå³°å¡«è°·â€</strong> å’Œ <strong>â€œä¸¢å’ä¿è½¦â€</strong>ã€‚</p>
</li>
<li>
<p><strong>æ“ä½œ</strong>ï¼š</p>
<ul>
<li><strong>å¼‚æ­¥</strong>ï¼šæŠŠåŒæ­¥è°ƒç”¨æ”¹æˆå‘æ¶ˆæ¯ï¼Œè®©è¯·æ±‚æ’é˜Ÿå»ã€‚</li>
<li><strong>é™çº§</strong>ï¼šå¤§ä¿ƒçš„æ—¶å€™ï¼Œè¯„è®ºåŠŸèƒ½å¡ï¼Ÿå…³äº†ï¼æ¨èå•†å“å¡ï¼Ÿå…³äº†ï¼åªè¦ä¸‹å•èƒ½ç”¨å°±è¡Œã€‚</li>
</ul>
</li>
<li>
<p><strong>æŠ€æœ¯å«é‡åœ¨å“ª</strong>ï¼š</p>
<ul>
<li><strong>é¢å­ä¸Š</strong>ï¼šå¼•å…¥ä¸ªMQä¸­é—´ä»¶ï¼Œæˆ–è€…æ³¨é‡Šæ‰å‡ è¡Œä»£ç ã€‚</li>
<li><strong>é‡Œå­ä¸Š</strong>ï¼š
<ul>
<li><strong>å¼‚æ­¥</strong>ï¼šåˆ†å¸ƒå¼äº‹åŠ¡æ€ä¹ˆä¿è¯ï¼Ÿæ¶ˆæ¯ä¸¢äº†æ€ä¹ˆè¡¥å¿ï¼Ÿæ€ä¹ˆä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ï¼Ÿ</li>
<li><strong>é™çº§</strong>ï¼šæ€ä¹ˆåˆ¤æ–­ä»€ä¹ˆæ—¶å€™è¯¥é™çº§ï¼Ÿé™çº§çš„å¼€å…³åœ¨å“ªï¼Ÿé™çº§ä¹‹åæ€ä¹ˆå¿«é€Ÿåˆ‡å›æ¥ï¼Ÿ<strong>è¿™éœ€è¦å¯¹ä¸šåŠ¡é€»è¾‘æå…¶æ¸…æ™°çš„â€œä¼˜å…ˆçº§åˆ’åˆ†â€ã€‚</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<p><strong>å•çœ‹æ¯ä¸€ä¸ªæŠ€æœ¯ç‚¹ï¼Œç¡®å®æ²¡ä»€ä¹ˆäº†ä¸èµ·çš„</strong>ã€‚å¤§å­¦åˆšæ¯•ä¸šçš„å®ä¹ ç”ŸèƒŒèƒŒå…«è‚¡æ–‡ï¼Œéƒ½èƒ½ç»™ä½ è®²å¾—å¤´å¤´æ˜¯é“ã€‚</p>
<p><strong>çœŸæ­£çš„â€œäº†ä¸èµ·â€ï¼ˆæˆ–è€…è¯´â€œæ¶å¿ƒâ€ï¼‰ï¼Œåœ¨äºè¿™å‡ ç‚¹ï¼š</strong></p>
<ol>
<li>
<p><strong>ç»„åˆæ‹³çš„å¤æ‚åº¦</strong>ï¼š
ä¸æ˜¯å•ç”¨ç¼“å­˜ï¼Œä¹Ÿä¸æ˜¯å•ç”¨MQï¼Œè€Œæ˜¯ç¼“å­˜+é™æµ+MQ+é™çº§+ç†”æ–­ï¼ˆç†”æ–­å…¶å®ä¹Ÿç®—é™çº§çš„ä¸€ç§ï¼‰ä¸€èµ·ä¸Šã€‚è¿™å †ä¸œè¥¿äº¤ç»‡åœ¨ä¸€èµ·ï¼Œ<strong>ç³»ç»Ÿçš„å¤æ‚åº¦æ˜¯æŒ‡æ•°çº§ä¸Šå‡çš„</strong>ã€‚ä¸€ä¸ªè¯·æ±‚è¿‡æ¥ï¼Œä½ å¾—çŸ¥é“å®ƒèµ°äº†å“ªæ¡è·¯ï¼Œä¸­é—´å‡ºäº†é—®é¢˜æ€ä¹ˆæ’æŸ¥ã€‚</p>
</li>
<li>
<p><strong>æµ·é‡æ•°æ®çš„ç»†èŠ‚</strong>ï¼š
æœ¬åœ°è·‘ä¸ªDemoï¼Œ1ç§’å¤„ç†10ä¸ªè¯·æ±‚ï¼Œç”¨HashMapå­˜æ•°æ®éƒ½è¡Œã€‚ä½†åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œ1ç§’å‡ ä¸‡è¯·æ±‚ï¼Œè¿™æ—¶å€™<strong>Redisçš„ç½‘ç»œå»¶è¿Ÿã€MQçš„å †ç§¯èƒ½åŠ›ã€æ•°æ®åº“è¿æ¥æ± çš„å¤§å°ã€ç”šè‡³æœåŠ¡å™¨ç½‘å¡çš„å¸¦å®½</strong>ï¼Œéƒ½ä¼šæˆä¸ºç“¶é¢ˆã€‚</p>
<ul>
<li><em>æŠ€æœ¯å«é‡åœ¨äºï¼šä½ å¾—æ‡‚è®¡ç®—æœºä½“ç³»ç»“æ„ï¼Œæ‡‚ç½‘ç»œï¼Œæ‡‚æ“ä½œç³»ç»Ÿï¼Œæ‰èƒ½æŠŠè¿™äº›ç»„ä»¶åœ¨æé™æƒ…å†µä¸‹å‹æ¦¨å‡ºæ€§èƒ½ã€‚</em></li>
</ul>
</li>
<li>
<p><strong>å…œåº•æ–¹æ¡ˆçš„å®Œå¤‡æ€§</strong>ï¼š
æœ€æ€•çš„ä¸æ˜¯ç³»ç»Ÿæ‰›ä¸ä½ï¼Œè€Œæ˜¯**â€œé›ªå´©â€**â€”â€”AæŒ‚äº†æ‹–å®Bï¼ŒBæŒ‚äº†æ‹–å®Cï¼Œæœ€åå…¨æŒ‚ã€‚</p>
<ul>
<li><em>æŠ€æœ¯å«é‡åœ¨äºï¼šä½ å¾—é¢„åˆ¤åˆ°æ‰€æœ‰å¯èƒ½çš„å¤±è´¥ç‚¹ï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªç‚¹éƒ½è®¾ç½®â€œç†”æ–­å™¨â€å’Œâ€œé€ƒç”Ÿé€šé“â€ã€‚è¿™æ˜¯ä¸€ç§æè‡´çš„é˜²å¾¡æ€§ç¼–ç¨‹æ€ç»´ã€‚</em></li>
</ul>
</li>
</ol>
<h4 data-id="heading-43">ğŸ“Œ æ€»ç»“</h4>
<p>é«˜å¹¶å‘é«˜å¯ç”¨ï¼Œå®ƒç¡®å®å°±æ˜¯é‚£å‡ æ‹›ï¼Œ<strong>æ²¡ä»€ä¹ˆäº†ä¸èµ·çš„</strong>ã€‚ä½†è¦æŠŠè¿™å‡ æ‹›åœ¨å‡ ä¸‡å°æœºå™¨ã€å‡ äº¿ç”¨æˆ·ä¸Šè€å¾—æ»´æ°´ä¸æ¼ï¼Œä¸å‡ºä¹±å­ï¼Œè¿™å°±æ˜¯å¤§å‚æ„¿æ„ç»™é«˜è–ªçš„åŸå› ã€‚</p>
<p><strong>å®ƒæœ¬è´¨å°±æ˜¯â€œè€ä¸‰æ ·â€ã€‚ä½†èƒ½æŠŠè¿™â€œè€ä¸‰æ ·â€ä¼ºå€™å¥½çš„äººï¼Œç¡®å®ä¹Ÿä¸å¤šã€‚</strong> è¿™å°±æ˜¯ç°å®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swiftã€SwiftUI ä¸ SwiftDataï¼šèµ°å‘æˆç†Ÿçš„ 2025 -- è‚˜å­çš„ Swift å‘¨æŠ¥ #116]]></title>    <link>https://juejin.cn/post/7586559672128864308</link>    <guid>https://juejin.cn/post/7586559672128864308</guid>    <pubDate>2025-12-22T23:57:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586559672128864308" data-draft-id="7585555806667882530" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swiftã€SwiftUI ä¸ SwiftDataï¼šèµ°å‘æˆç†Ÿçš„ 2025  -- è‚˜å­çš„ Swift å‘¨æŠ¥ #116"/> <meta itemprop="keywords" content="Swift,SwiftUI,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-22T23:57:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸œå¡è‚˜å­"/> <meta itemprop="url" content="https://juejin.cn/user/1548526032528727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swiftã€SwiftUI ä¸ SwiftDataï¼šèµ°å‘æˆç†Ÿçš„ 2025  -- è‚˜å­çš„ Swift å‘¨æŠ¥ #116
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1548526032528727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸œå¡è‚˜å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T23:57:50.000Z" title="Mon Dec 22 2025 23:57:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fe19d80bf7c4fdc937a67db9a914afc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Z2h6IKY5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767052670&amp;x-signature=8%2BAzv2ZvVa3ldLeiG%2FUJb58vMMM%3D" alt="issue116.webp" loading="lazy"/></p>
<h2 data-id="heading-0">Swiftã€SwiftUI ä¸ SwiftDataï¼šèµ°å‘æˆç†Ÿçš„ 2025</h2>
<p>åœ¨è¿‡å»çš„å‡ å¤©é‡Œï¼Œæˆ‘å›é¡¾äº†è¿™ä¸€å¹´æ¥ Swiftã€SwiftUI ä»¥åŠ SwiftData çš„æ¼”è¿›ã€‚æ€»çš„æ„Ÿè§‰æ˜¯ï¼šæƒŠå–œè™½ä¸ç®—å¤šï¼Œä½†â€œæˆç†Ÿæ„Ÿâ€å´åœ¨ä¸ç»æ„é—´æ‰‘é¢è€Œæ¥ã€‚</p>
<p>æ¯‹åº¸ç½®ç–‘ï¼ŒSwift ä»Šå¹´çš„é‡å¤´æˆåœ¨äºæ”¹å–„å¹¶å‘ç¼–ç¨‹çš„ä½“éªŒã€‚å°½ç®¡æ–°å¢çš„é€‰é¡¹å’Œå…³é”®å­—åœ¨çŸ­æœŸå†…åˆç»™å¼€å‘è€…å¸¦æ¥äº†ä¸å°çš„å›°æ‰°ï¼Œä½†ç»è¿‡è¿™å‡ ä¸ªæœˆçš„è®¨è®ºä¸å®è·µï¼Œç¤¾åŒºå·²ç»æ˜¾ç°å‡ºé€æ¸æ€»ç»“å‡ºæ–°èŒƒå¼å®è·µè·¯å¾„çš„è¶‹åŠ¿ã€‚æˆ‘ä¸è®¤ä¸ºæ–°èŒƒå¼è¢«ç¡®ç«‹ä¸”å¹¿æ³›æ¥å—ä¼šæ˜¯ä¸€ä¸ªç®€å•ã€è¿…é€Ÿçš„è¿‡ç¨‹ï¼Œä½†æˆ–è®¸å†è¿‡ä¸€ä¸¤å¹´ï¼Œå¼€å‘è€…å¯¹ Swift çš„è®¨è®ºé‡å¿ƒå°†ä»å¹¶å‘è½¬å‘è·¨å¹³å°ï¼Œå±Šæ—¶ Swift ä¹Ÿå°†è¿ˆå…¥å…¨æ–°çš„å‘å±•é˜¶æ®µã€‚</p>
<p>ä»Šå¹´ SwiftUI çš„æ›´æ–°é‡å¿ƒå¤§å¤šé›†ä¸­åœ¨ Liquid Glass çš„é€‚é…ä¸Šã€‚å—é™äºç³»ç»ŸåˆæœŸçš„å®ç°ï¼Œæ˜¾ç¤ºæ•ˆæœèµ·åˆå¹¶ä¸å°½å¦‚äººæ„ï¼Œä½†åœ¨ iOS 26.2 ç‰ˆæœ¬å‘å¸ƒåï¼Œæ€§èƒ½ä¸ç¨³å®šæ€§éƒ½æœ‰äº†æ˜¾è‘—æ”¹å–„ã€‚å¦ç‡åœ°è¯´ï¼Œå¯¹äºä»Šå¹´ SwiftUI æ²¡æœ‰å¼•å…¥æ›´å¤šé©å‘½æ€§çš„æ–°åŠŸèƒ½ï¼Œæˆ‘ä¸ªäººæ˜¯æŒºé«˜å…´çš„ã€‚è¿™è®©æ¡†æ¶å›¢é˜Ÿå’Œå¼€å‘è€…éƒ½èƒ½è·å¾—ä¸€ç‚¹å–˜æ¯ä¹‹æœºï¼Œå»è¿›ä¸€æ­¥æ¶ˆåŒ–è¿™ä¸ªæ¡†æ¶ã€‚åœ¨ç°é˜¶æ®µï¼Œè§£å†³é—ç•™é—®é¢˜ã€ä¼˜åŒ–æ€§èƒ½ä¸ç¨³å®šæ€§ï¼Œè¿œæ¯”ä¸€å‘³å †ç Œæ–°ç‰¹æ€§æ›´æœ‰æ„ä¹‰ã€‚</p>
<p>â€œå˜åŒ–è¾ƒå°â€åœ¨ SwiftData èº«ä¸Šä½“ç°å¾—å°¤ä¸ºæ˜æ˜¾ã€‚ä½†æˆ‘è®¤ä¸º SwiftData ä»Šå¹´çš„è¡¨ç°å°¤ä¸ºå€¼å¾—è‚¯å®šï¼Œç‰¹åˆ«æ˜¯è®¸å¤šæ”¹è¿›ä¸æ–°åŠŸèƒ½éƒ½å‘ä¸‹é€‚é…åˆ°äº†æ›´æ—©çš„ç³»ç»Ÿç‰ˆæœ¬ã€‚çœŸå¸Œæœ›å®ƒåœ¨ä¸‰å¹´å‰åˆæ¬¡å‘å¸ƒæ—¶ï¼Œå°±èƒ½å…·å¤‡ç°åœ¨çš„çŠ¶æ€ã€‚å°½ç®¡ SwiftData ç›®å‰ä»ç¼ºå¤±ä¸€äº›å…³é”®åŠŸèƒ½ï¼Œä½†å¯¹äºç›¸å½“æ¯”ä¾‹çš„é¡¹ç›®è€Œè¨€ï¼Œå®ƒå·²ç»è¶³ä»¥èƒœä»»ã€‚æœ‰äº†è¿™ä¸ªç¨³å›ºçš„åŸºç¡€ï¼Œå…¶æœªæ¥å‡ å¹´åœ¨æ€§èƒ½ä¸åŠŸèƒ½ä¸Šçš„æé«˜éå¸¸å€¼å¾—æœŸå¾…ã€‚</p>
<p>å¯¹äº 2025 å¹´ Swift ä¸‰ä»¶å¥—çš„äº¤å‡ºçš„ç­”å·ï¼Œæˆ‘ä¸ªäººæ˜¯æ»¡æ„çš„ï¼Œä¸çŸ¥ä½ çš„æ„Ÿå—å¦‚ä½•ï¼Ÿ</p>
<p>è¿™æ˜¯æœ¬å¹´åº¦çš„æœ€åä¸€æœŸå‘¨æŠ¥ï¼Œç”±è¡·æ„Ÿè°¢å„ä½ä¸€å¹´çš„é™ªä¼´ä¸åšçˆ±ã€‚</p>
<p>ç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼ŒHappy Coding!</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-116%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-116/" ref="nofollow noopener noreferrer">æœ¬æœŸå†…å®¹</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-115%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-115/" ref="nofollow noopener noreferrer">å‰ä¸€æœŸå†…å®¹</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2F" target="_blank" title="https://fatbobman.com/zh/weekly/" ref="nofollow noopener noreferrer">å…¨éƒ¨å‘¨æŠ¥åˆ—è¡¨</a></p>
<blockquote>
<p>ğŸš€ <strong>ã€Šè‚˜å­çš„ Swift å‘¨æŠ¥ã€‹</strong></p>
<p>æ¯å‘¨ä¸ºä½ ç²¾é€‰æœ€å€¼å¾—å…³æ³¨çš„ Swiftã€SwiftUI æŠ€æœ¯åŠ¨æ€</p>
<ul>
<li><strong>ğŸ“® ç«‹å³è®¢é˜…</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.fatbobman.com%2Ffatbobman" target="_blank" title="https://weekly.fatbobman.com/fatbobman" ref="nofollow noopener noreferrer">weekly.fatbobman.com</a> è·å–å®Œæ•´å†…å®¹</li>
<li><strong>ğŸ‘¥ åŠ å…¥ç¤¾åŒº</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Finvite%2F7FedN5E2QQ" target="_blank" title="https://discord.com/invite/7FedN5E2QQ" ref="nofollow noopener noreferrer">Discord</a> ä¸ 2000+ å¼€å‘è€…äº¤æµ</li>
<li><strong>ğŸ“š æ·±åº¦æ•™ç¨‹</strong> | <a href="https://link.juejin.cn?target=http%3A%2F%2Ffatbobman.com" target="_blank" title="http://fatbobman.com" ref="nofollow noopener noreferrer">fatbobman.com</a> æ¢ç´¢ 200+ åŸåˆ›æ–‡ç« </li>
</ul>
</blockquote>
<h2 data-id="heading-1">æ´»åŠ¨</h2>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0116-08" target="_blank" title="https://l.fatbobman.com/w0116-08" ref="nofollow noopener noreferrer">iOS Conf SG 2026</a></h3>
<p>ä¸‹ä¸ªæœˆï¼ˆ1 æœˆ 21 æ—¥ - 23 æ—¥ï¼‰ï¼ŒiOS Conf SG å°†åœ¨æ–°åŠ å¡ä¸¾è¡Œã€‚æˆ‘ä¹Ÿå°†å‰å¾€ç°åœºï¼Œå¹¶ä½œä¸ºå˜‰å®¾è¿›è¡Œä¸»é¢˜ä¸º <strong>â€œUsing SwiftUI as a Languageâ€</strong> çš„æ¼”è®²â€”â€”ä¸ä»…å…³äºä»£ç ï¼Œæ›´æ˜¯å…³äºæ€ç»´æ–¹å¼çš„è½¬æ¢ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨é™„è¿‘ï¼Œæˆ–è€…è®¡åˆ’å‰å¾€ï¼Œæ¬¢è¿æ¥ç°åœºæ‰“æ‹›å‘¼ï¼ç»„å§”ä¼šä¸“é—¨ä¸ºæˆ‘çš„è¯»è€…æä¾›äº†ä¼˜æƒ ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fiosconfsg2026" target="_blank" title="https://l.fatbobman.com/iosconfsg2026" ref="nofollow noopener noreferrer">Fatbobman è¯»è€…ä¸“å±ä¹æŠ˜ä¼˜æƒ é“¾æ¥</a></p>
<h2 data-id="heading-3">è¿‘æœŸæ¨è</h2>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Fmy-eight-years-with-cloudkit%2F%3Futm_source%3Dfatbobman%2520weekly%2520issue%2520116%26utm_medium%3Dweb" target="_blank" title="https://fatbobman.com/zh/posts/my-eight-years-with-cloudkit/?utm_source=fatbobman%20weekly%20issue%20116&amp;utm_medium=web" ref="nofollow noopener noreferrer">æˆ‘å’Œ CloudKit çš„è¿™å…«å¹´ï¼šä»å¼€æº IceCream åˆ°å•†ä¸šåº”ç”¨å®æˆ˜</a></h3>
<p>æˆ‘ä¸€ç›´è®¤ä¸ºï¼Œæ‰€è°“çš„è‹¹æœç”Ÿæ€æ˜¯ç”±å¾ˆå¤šçš„ç¡¬ä»¶ã€è½¯ä»¶ã€æœåŠ¡ã€äººæ–‡ã€æ°”è´¨ç­‰ç»¼åˆæ„å»ºèµ·æ¥çš„ã€‚åœ¨è¿™å…¶ä¸­ï¼ŒCloudKit æ— ç–‘æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ã€‚è€Œä¸”å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œç”¨å¥½ CloudKit ä¸ä»…å¯ä»¥ç»™ç”¨æˆ·æ›´å¥½çš„ä½“éªŒï¼Œä¹Ÿèƒ½ä½æˆæœ¬çš„ä¸ºè‡ªå·±çš„åº”ç”¨å¸¦æ¥åˆ›æ–°ã€‚</p>
<p>IceCream ä½œè€… <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fcaiyue5" target="_blank" title="https://x.com/caiyue5" ref="nofollow noopener noreferrer">Cai Yue</a> åˆ†äº«ä»–ä¸ CloudKit å…«å¹´çš„å¼€å‘å†ç¨‹ï¼šä» 2017 å¹´å¼€æº IceCream å¹¶è·å¾— Apple å®˜æ–¹è®¤å¯ï¼Œåˆ°å°† CloudKit åº”ç”¨äº Music Mate å’Œ Setlists ç­‰å•†ä¸šé¡¹ç›®çš„å®æˆ˜ç»éªŒã€‚æ–‡ç« æ·±å…¥æ¢è®¨äº† CloudKit çš„æ ¸å¿ƒä¼˜åŠ¿ã€å…³é”®å±€é™ä»¥åŠè¿›é˜¶ç©æ³•ã€‚</p>
<hr/>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0116-01" target="_blank" title="https://l.fatbobman.com/w0116-01" ref="nofollow noopener noreferrer">Swift 2025 å¹´åº¦æ€»ç»“ (What's new in Swift: December 2025 Edition)</a></h3>
<p>è¿™æ˜¯ä¸€ç¯‡é¢å‘ Swift ç¤¾åŒºçš„å¹´åº¦æ”¶å®˜ç»¼è¿°æ–‡ç« ï¼Œç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Ftimsneath" target="_blank" title="https://x.com/timsneath" ref="nofollow noopener noreferrer">Tim Sneath</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.linkedin.com%2Fin%2Fdavelester-dev%2F" target="_blank" title="https://www.linkedin.com/in/davelester-dev/" ref="nofollow noopener noreferrer">Dave Lester</a> æ’°å†™ï¼Œç³»ç»Ÿå›é¡¾äº† 2025 å¹´ Swift ç”Ÿæ€åœ¨è¯­è¨€ç‰¹æ€§ã€å¹³å°è¦†ç›–ä¸ç¤¾åŒºå»ºè®¾æ–¹é¢çš„å…³é”®è¿›å±•ã€‚</p>
<p>æ–‡ç« ä¸ä»…æ€»ç»“äº† Swift 6.2 åœ¨å¹¶å‘æ¨¡å‹ä¸Šé€šè¿‡æ›´æ¸©å’Œçš„é»˜è®¤ç­–ç•¥é™ä½ä½¿ç”¨é—¨æ§›ï¼ŒåŒæ—¶ç»§ç»­æ¨è¿› C++ äº’æ“ä½œä¸å†…å­˜å®‰å…¨èƒ½åŠ›ï¼›æ›´é‡è¦çš„æ˜¯ï¼Œä» Androidã€WASMã€Windowsã€BSDã€åµŒå…¥å¼åˆ° AWS ç­‰æ–¹å‘çš„æŒç»­æŠ•å…¥ï¼Œåå¤å¼ºåŒ–äº†ä¸€ä¸ªæ¸…æ™°ä¿¡å·â€”â€”Swift å·²ä¸å†åªæ˜¯å›´ç»• Apple å¹³å°å±•å¼€çš„è¯­è¨€ã€‚</p>
<p>æˆ–è®¸ä½ æœªå¿…ä¼šè®¤åŒå…¶ä¸­çš„æ¯ä¸€é¡¹å˜åŒ–ï¼Œä½†åœ¨è¿ˆå…¥ç¬¬äºŒä¸ªåå¹´åçš„ç¬¬ä¸€ä¸ªå¹´å¤´é‡Œï¼ŒSwift ä¾ç„¶äº¤å‡ºäº†ä¸€ä»½ç›¸å½“æ‰å®çš„ç­”å·ã€‚</p>
<hr/>
<h3 data-id="heading-6"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0116-02" target="_blank" title="https://l.fatbobman.com/w0116-02" ref="nofollow noopener noreferrer">å…³äº SwiftUI çš„è®¨è®º (My PM insisted we switch to SwiftUI for a massive legacy app rewrite. The result is exactly what you'd expect)</a></h3>
<p>å‡ å¤©å‰æ— æ„é—´åœ¨ Reddit ä¸Šçœ‹åˆ°çš„å¸–å­ï¼Œä½œè€…å¯¹ PM è½»æ˜“é€‰æ‹© SwiftUI æœ‰æ‰€æŠ±æ€¨ï¼Œè®¤ä¸ºå…¶æ— æ³•èƒœä»»ä»–ä»¬ä¸€ä¸ªä¸ƒå¹´å‰å¼€å‘çš„åº”ç”¨è½¬æ¢ã€‚å¯¹äºè¿™ä¸ªè§‚ç‚¹æˆ‘ä¸ç½®å¯å¦ï¼Œä½†è¯„è®ºåŒºçš„èµ°å‘å´å‡ºä¹æ„æ–™â€”â€”ç»å¤§å¤šæ•°å‚ä¸è€…éƒ½åšå®šåœ°ç«™åœ¨äº† SwiftUI çš„ä¸€è¾¹ã€‚</p>
<p>å¤§é‡å¼€å‘è€…è®¤ä¸ºï¼š</p>
<ul>
<li>SwiftUI æœ¬èº«å·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œé—®é¢˜å‡ºåœ¨å®æ–½æ–¹å¼ä¸Š</li>
<li>åº”è¯¥æ¸è¿›å¼è¿ç§»ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§é‡å†™</li>
<li>é¿å¼€ SwiftUI çš„å¼±é¡¹â€”â€”æ¯”å¦‚å¯ä»¥ä¿ç•™ UIKit å¯¼èˆªï¼Œåªè¿ç§»è§†å›¾å±‚</li>
<li>å¤šä¸ªå¤§å‹é¡¹ç›®ï¼ˆ10+ å¹´å†å²ï¼‰å·²æˆåŠŸå®Œæˆè¿ç§»</li>
</ul>
<p>è¿™ä¸ªå¸–å­å±•ç°äº†ä¸€ä¸ªå‡ºä¹æˆ‘é¢„æ–™çš„ç°å®ï¼šSwiftUI åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­çš„é‡‡ç”¨ç‡æ¯”æˆ‘ä»¬æƒ³è±¡çš„é«˜å¾—å¤šï¼›å¼€å‘è€…ç¤¾åŒºå¯¹ SwiftUI çš„ä¿¡å¿ƒå·²ç»å»ºç«‹ã€‚åœ¨ 2025 å¹´åº•ï¼Œâ€œSwiftUI éš¾å ªå¤§ä»»â€çš„è®ºè°ƒæˆ–è®¸å·²ç»ç«™ä¸ä½è„šäº†ã€‚</p>
<blockquote>
<p>ä½œä¸º SwiftUI æ¡†æ¶çš„æ¨å´‡è€…ï¼Œæˆ‘æ—¢å–œæ¬¢è¯¥æ¡†æ¶ï¼Œä¹Ÿå¾ˆæ¸…æ¥šå®ƒä»æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚å¦‚æœä½ ä»åœ¨çŠ¹è±«æ˜¯å¦åº”è¯¥åœ¨ SwiftUI ä¸Šä¸‹åŠŸå¤«ï¼Œæˆ–è®¸å¯ä»¥çœ‹ä¸€ä¸‹æˆ‘åœ¨å»å¹´å†™çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Fcommon-misconceptions-about-swiftui%2F%3Futm_source%3Dfatbobman%2520weekly%2520issue%2520116%26utm_medium%3Dweb" target="_blank" title="https://fatbobman.com/zh/posts/common-misconceptions-about-swiftui/?utm_source=fatbobman%20weekly%20issue%20116&amp;utm_medium=web" ref="nofollow noopener noreferrer">ã€Šå‡ ä¸ªå¸¸è§çš„å…³äº SwiftUI çš„è¯¯è§£ã€‹</a>â€”â€”è¿™ç¯‡æ–‡ç« è®¨è®ºçš„å¾ˆå¤šè¯¯è§£ï¼Œæ°å¥½åœ¨è¿™æ¬¡ Reddit è®¨è®ºä¸­å¾—åˆ°äº†å°è¯ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0116-03" target="_blank" title="https://l.fatbobman.com/w0116-03" ref="nofollow noopener noreferrer">é Sendable ä¼˜å…ˆè®¾è®¡ (Non-Sendable First Design)</a></h3>
<p>éšç€ Swift 6 æ—¶ä»£çš„åˆ°æ¥ï¼Œå¼€å‘è€…é€æ¸å…»æˆäº†ä¸€ç§æƒ¯æ€§ï¼šè¦ä¹ˆè®©ç±»å‹ç¬¦åˆ <code>Sendable</code>ï¼Œè¦ä¹ˆç»™å®ƒå¥—ä¸Š <code>@MainActor</code> æˆ– <code>actor</code>ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmastodon.social%2F%40mattiem" target="_blank" title="https://mastodon.social/@mattiem" ref="nofollow noopener noreferrer">Matt Massicotte</a> æå‡ºäº†ä¸€ä¸ªæå…·å¯å‘æ€§çš„å“²å­¦ï¼š<strong>â€œé Sendable ä¼˜å…ˆè®¾è®¡â€</strong>ã€‚</p>
<p>è¿™ä¸€æ€è·¯çš„å…³é”®åœ¨äºå¯¹â€œéš”ç¦»ï¼ˆIsolationï¼‰â€çš„é‡æ–°è®¤è¯†ï¼šéš”ç¦»æœ¬èº«æ˜¯ä¸€ç§çº¦æŸã€‚å½“ä¸€ä¸ªç±»å‹è¢«æ ‡è®°ä¸º <code>@MainActor</code>ï¼Œå®ƒå®é™…ä¸Šå°±å¤±å»äº†åœ¨é UI ç¯å¢ƒä¸‹è¿›è¡ŒåŒæ­¥è°ƒç”¨çš„è‡ªç”±åº¦ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¸€ä¸ªééš”ç¦»ã€é Sendable çš„æ™®é€šç±»å‹åè€Œå…·æœ‰æ›´é«˜çš„é€šç”¨æ€§â€”â€”å®ƒå¯ä»¥è¢«ä»»æ„ Actor æŒæœ‰ï¼Œå¹¶åœ¨å…¶å†…éƒ¨å®‰å…¨åœ°è¿›è¡ŒåŒæ­¥è®¿é—®ï¼ŒåŒæ—¶ä¹Ÿæ›´å®¹æ˜“éµå¾ª <code>Equatable</code> ç­‰åŸºç¡€åè®®ï¼Œè€Œæ— éœ€å¤„ç†è·¨éš”ç¦»åŸŸå¸¦æ¥çš„å¤æ‚æ€§ã€‚</p>
<p>éšç€ Swift å¼•å…¥ NonisolatedNonsendingByDefaultï¼Œè¿™ç§â€œé Sendable ä¼˜å…ˆâ€çš„è®¾è®¡è·¯å¾„ä¸å†åƒè¿‡å»é‚£æ ·ç¬¨é‡æˆ–åˆ«æ‰­ï¼Œåè€Œé€æ¸æ˜¾ç°å‡ºå…¶ä¼˜åŠ¿ï¼šä»¥æ›´å°‘çš„éš”ç¦»ã€æ¢å–æ›´æ¸…æ™°çš„è¯­ä¹‰ä¸æ›´ä½çš„æ¶æ„è´Ÿæ‹…ã€‚è¿™æˆ–è®¸å¹¶éé€‚ç”¨äºæ‰€æœ‰åœºæ™¯ï¼Œä½†åœ¨ Swift 6 ä¹‹åï¼Œå®ƒå·²ç»æˆä¸ºä¸€ç§å€¼å¾—è®¤çœŸè€ƒè™‘çš„ã€ç¬¦åˆè¯­è¨€ç›´è§‰çš„â€œå‡æ³•â€æ–¹æ¡ˆã€‚</p>
<hr/>
<h3 data-id="heading-8"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0116-04" target="_blank" title="https://l.fatbobman.com/w0116-04" ref="nofollow noopener noreferrer">ä½¿ç”¨ Registry åŠ é€Ÿä¾èµ–è§£æ (Resolving Swift Packages faster With Registry from Tuist)</a></h3>
<p>ä¼ ç»Ÿçš„ SPM ä¾èµ–è§£ææ˜¯åŸºäº Git URL çš„ï¼ŒXcode éœ€è¦å…‹éš†æ•´ä¸ª Git ä»“åº“æ¥è·å–ç‰ˆæœ¬ä¿¡æ¯å’Œä»£ç ï¼Œè¿™åœ¨ä¾èµ–è¾ƒå¤šï¼ˆå¦‚ Firebaseï¼‰æ—¶éå¸¸è€—æ—¶ã€‚è€Œ Registry æ˜¯è‹¹æœå®šä¹‰çš„å¦ä¸€ç§è§„èŒƒï¼šé€šè¿‡åŒ…çš„æ ‡è¯†ç¬¦ï¼ˆIDï¼‰ç›´æ¥ä¸‹è½½ç‰¹å®šç‰ˆæœ¬çš„å½’æ¡£æ–‡ä»¶ï¼Œè·³è¿‡äº†ç¹é‡çš„ Git æ“ä½œã€‚Tuist æœ€è¿‘å®£å¸ƒå°†å…¶ Swift Package Registry åŠŸèƒ½å‘æ‰€æœ‰å¼€å‘è€…å¼€æ”¾ï¼Œæœ€å¤§çš„å˜åŒ–æ˜¯ç°åœ¨æ— éœ€ç™»å½•æˆ–åˆ›å»º Tuist è´¦å·å³å¯ä½¿ç”¨ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.linkedin.com%2Fin%2Fgamehelper%2F" target="_blank" title="https://www.linkedin.com/in/gamehelper/" ref="nofollow noopener noreferrer">Lee Young-jun</a> å®æµ‹å‘ç°ï¼Œä½¿ç”¨ Registry åï¼Œä¾èµ–è§£æï¼ˆInstallationï¼‰æ—¶é—´ç¼©çŸ­è‡³åŸæ¥çš„çº¦ 35%ï¼›ä½†é¡¹ç›®ç”Ÿæˆä¸æ„å»ºé˜¶æ®µå¹¶æœªè·å¾—åŒç­‰æ”¶ç›Šï¼Œç”šè‡³ç•¥æœ‰å›é€€ã€‚åœ¨ GitHub Actions ä¸­é…åˆç¼“å­˜ä½¿ç”¨æ—¶ï¼ŒäºŒæ¬¡æ„å»ºçš„ä¾èµ–å®‰è£…æ—¶é—´åˆ™ä» 53s é™è‡³ 11sï¼Œä¼˜åŠ¿ä¸»è¦ä½“ç°åœ¨ CI åœºæ™¯ã€‚</p>
<p>æ€»ä½“æ¥çœ‹ï¼ŒTuist Registry å¹¶éâ€œå…¨æµç¨‹åŠ é€Ÿå™¨â€ï¼Œè€Œæ˜¯ä¸€ä¸ªä¸“æ³¨äºä¾èµ–è§£æä¸ç¼“å­˜å‹å¥½æ€§çš„ä¼˜åŒ–ç‚¹ã€‚å¦‚æœä½ çš„é¡¹ç›®ä¾èµ–æ•°é‡åºå¤§ã€CI æˆæœ¬è¾ƒé«˜ï¼Œå®ƒå€¼å¾—ä¼˜å…ˆå°è¯•ã€‚</p>
<hr/>
<h3 data-id="heading-9"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0116-05-1" target="_blank" title="https://l.fatbobman.com/w0116-05-1" ref="nofollow noopener noreferrer">iOS Timer ä¸ DispatchSourceTimer é€‰æ‹©ä¸å®‰å…¨å°è£…æŠ€å·§ï½œæœ‰é™çŠ¶æ€æœºé˜²æ­¢é—ªé€€</a></h3>
<p>å¾ˆå¤šå¼€å‘è€…åœ¨å¤„ç† <code>DispatchSourceTimer</code> æ—¶ï¼Œæœ€å¤´ç–¼çš„å°±æ˜¯å®ƒé‚£â€œæ˜“ç¢â€çš„çŠ¶æ€ï¼šè°ƒç”¨é¡ºåºç¨æœ‰ä¸å¯¹ä¾¿ä¼šå¼•å‘é—ªé€€ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fzhgchgli" target="_blank" title="https://x.com/zhgchgli" ref="nofollow noopener noreferrer">ZhgChgLi</a> åœ¨æœ¬æ–‡ä¸­é’ˆå¯¹è¿™ç§æå…¶æ•æ„Ÿçš„çŠ¶æ€ç®¡ç†æå‡ºäº†å·¥ç¨‹åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚æ–‡ç« è¯¦å°½åˆ—ä¸¾äº†å¯¼è‡´å´©æºƒçš„äº”å¤§å¸¸è§åœºæ™¯ï¼ˆå¦‚é‡å¤ resumeã€suspend çŠ¶æ€ä¸‹ç›´æ¥é‡Šæ”¾ç­‰ï¼‰ï¼Œå¹¶åˆ†äº«äº†å¦‚ä½•åˆ©ç”¨æœ‰é™çŠ¶æ€æœº (FSM) å°è£…æ“ä½œï¼Œä»é€»è¾‘å±‚å±è”½éæ³•è°ƒç”¨ï¼ŒåŒæ—¶é…åˆç§æœ‰ä¸²è¡Œé˜Ÿåˆ—ç¡®ä¿å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„è°ƒç”¨å®‰å…¨ã€‚</p>
<blockquote>
<p>è¿™æ˜¯ä¸€ç¯‡å¼•å¯¼è¯»è€…ä»â€œå†™ä»£ç â€è½¬å‘â€œåšè®¾è®¡â€çš„å®æˆ˜æ¡ˆä¾‹ã€‚å®ƒä¸ä»…è®²æ¸…äº† GCD å®šæ—¶å™¨çš„æ­£ç¡®ä½¿ç”¨æ–¹å¼ï¼Œæ›´å±•ç¤ºäº†å¦‚ä½•å€ŸåŠ©è®¾è®¡æ¨¡å¼ï¼Œå°†ä¸€ä¸ªâ€œå±é™©â€çš„åº•å±‚ APIï¼Œå°è£…ä¸ºè¯­ä¹‰æ¸…æ™°ã€ä½¿ç”¨å®‰å…¨ã€å¯é•¿æœŸç»´æŠ¤çš„å·¥ä¸šçº§ç»„ä»¶ã€‚åœ¨ Swift Concurrency æ—¥ç›Šæˆä¸ºä¸»æµçš„ä»Šå¤©ï¼Œç†è§£å¹¶ä¼˜é›…åœ°å°è£…è¿™äº›åº•å±‚ GCD å·¥å…·ï¼Œä¾ç„¶æ˜¯é«˜çº§ iOS å¼€å‘è€…çš„é‡è¦åŸºæœ¬åŠŸã€‚</p>
</blockquote>
<h2 data-id="heading-10">å·¥å…·</h2>
<h3 data-id="heading-11"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0116-06" target="_blank" title="https://l.fatbobman.com/w0116-06" ref="nofollow noopener noreferrer">ml-sharpï¼šç…§ç‰‡ç§’å˜ 3D åœºæ™¯</a></h3>
<p>è‹¹æœåœ¨ä¸Šå‘¨å¼€æºäº† SHARP (Sharp Monocular View Synthesis)ï¼Œä¸€ä¸ªèƒ½åœ¨ä¸åˆ° 1 ç§’å†…å°†å•å¼  2D ç…§ç‰‡è½¬æ¢ä¸º 3D åœºæ™¯çš„ AI æ¨¡å‹ï¼ˆæ¨¡å‹å¤§å° 2.8 GBï¼‰ã€‚ç›¸æ¯”ä¹‹å‰çš„æœ€ä½³æ¨¡å‹ï¼Œè§†è§‰è´¨é‡æå‡ 25-34%ï¼Œé€Ÿåº¦æå‡ 1000 å€ã€‚</p>
<p>ç¤¾åŒºæ™®éè®¤ä¸º SHARP å¯èƒ½ç”¨äºæœªæ¥ç‰ˆæœ¬çš„ç©ºé—´ç…§ç‰‡åŠŸèƒ½ã€‚ç›®å‰ iOS 26 çš„ Spatial Scenes ä½¿ç”¨ Neural Engine è¿›è¡Œæ·±åº¦é‡å»ºï¼Œè€Œ SHARP é‡‡ç”¨æ›´å…ˆè¿›çš„ 3D Gaussian Splatting æŠ€æœ¯ï¼Œè´¨é‡æ˜¾è‘—æå‡ã€‚</p>
<p>æ¨¡å‹æ”¯æŒ CPU/CUDA/MPS è¿è¡Œï¼Œå·²æœ‰å¼€å‘è€…åœ¨ M1/M2/M3 Mac ä¸ŠæˆåŠŸè¿è¡Œã€‚è¾“å‡ºçš„ .ply æ–‡ä»¶å…¼å®¹å„ç§ 3DGS æŸ¥çœ‹å™¨ï¼ŒVision Pro ç”¨æˆ·å¯é€šè¿‡ Metal Splatter ç›´æ¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FSadlyItsBradley%2Fstatus%2F2001294992145588232" target="_blank" title="https://x.com/SadlyItsBradley/status/2001294992145588232" ref="nofollow noopener noreferrer">æŸ¥çœ‹æ•ˆæœ</a>ã€‚</p>
<p>å°½ç®¡è‹¹æœåœ¨é€šç”¨è¯­è¨€å¤§æ¨¡å‹ä¸Šä¸å¦‚ç«äº‰å¯¹æ‰‹æƒŠè‰³ï¼Œä½†åœ¨å‚ç›´åœºæ™¯çš„ AI æ¨¡å‹ä¸Šï¼Œå‡­å€Ÿç¡¬ä»¶æ·±åº¦æ•´åˆä¸æ˜ç¡®çš„åº”ç”¨å¯¼å‘ï¼Œä¾ç„¶å±•ç°å‡ºå¼ºå¤§çš„ç«äº‰åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-12"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0116-07" target="_blank" title="https://l.fatbobman.com/w0116-07" ref="nofollow noopener noreferrer">MaterialView: çªç ´ NSVisualEffectView é™åˆ¶çš„æ¯›ç»ç’ƒè§†å›¾</a></h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Foskargroth" target="_blank" title="https://x.com/oskargroth" ref="nofollow noopener noreferrer">Oskar Groth</a> (<a href="https://link.juejin.cn?target=https%3A%2F%2Fcindori.com%2Fsensei" target="_blank" title="https://cindori.com/sensei" ref="nofollow noopener noreferrer">Sensei</a> ä½œè€…)å¼€æºäº† MaterialViewï¼Œä¸€ä¸ªèƒ½å¤Ÿçªç ´ <code>NSVisualEffectView</code> é™åˆ¶çš„é«˜åº¦å¯å®šåˆ¶æ¯›ç»ç’ƒè§†å›¾åº“ã€‚é€šè¿‡é€†å‘ Control Center çš„å®ç°ï¼ŒOskar å®ç°äº†å¯¹æ¨¡ç³ŠåŠå¾„ã€é¥±å’Œåº¦ã€äº®åº¦å’Œè‰²è°ƒçš„å®Œå…¨æ§åˆ¶ï¼Œå¹¶æ’°å†™äº†è¯¦ç»†çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Foskargroth.com%2Fblog%2Freverse-engineering-nsvisualeffectview%3Futm_source%3Dfatbobman%2520weekly%2520issue%2520116%26utm_medium%3Dweb" target="_blank" title="https://oskargroth.com/blog/reverse-engineering-nsvisualeffectview?utm_source=fatbobman%20weekly%20issue%20116&amp;utm_medium=web" ref="nofollow noopener noreferrer">æŠ€æœ¯æ–‡ç« </a>è®²è§£å®ç°åŸç†ã€‚</p>
<p>ä¸ç³»ç»ŸåŸç”Ÿæè´¨åªèƒ½â€œé€‰ç±»å‹â€ä¸åŒï¼ŒMaterialView å°†æ¨¡ç³Šæ•ˆæœå½»åº•å‚æ•°åŒ–ï¼Œå…è®¸å¼€å‘è€…ç²¾ç¡®æ§åˆ¶æ¨¡ç³ŠåŠå¾„ã€é¥±å’Œåº¦ã€äº®åº¦ã€tint é¢œè‰²ä¸æ··åˆæ¨¡å¼ï¼Œå¹¶æ”¯æŒ active / inactive / emphasized / accessibility ç­‰çŠ¶æ€é…ç½®ã€‚è¿™ä½¿å¾—å®ƒéå¸¸é€‚åˆç”¨äºä¾§è¾¹æ ã€æµ®å±‚é¢æ¿ã€å·¥å…·çª—å£ç­‰å¯¹è§†è§‰ä¸€è‡´æ€§è¦æ±‚æé«˜çš„åœºæ™¯ã€‚</p>
<p>è¯¥åº“åŒæ—¶æ”¯æŒ SwiftUI ä¸ AppKitï¼Œå¹¶æä¾›äº†ä¸€ä¸ªå¯å®æ—¶è°ƒå‚çš„ Demo Appï¼Œæ–¹ä¾¿å¿«é€Ÿæ¢ç´¢ä¸åŒæè´¨ç»„åˆçš„æ•ˆæœã€‚</p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒä¾èµ–éƒ¨åˆ†æœªå…¬å¼€çš„ Core Animation èƒ½åŠ›ï¼ˆå¦‚ <code>CABackdropLayer</code>ã€<code>CAFilter</code> ç­‰ï¼‰ã€‚å°½ç®¡è¿™äº› API å¤šå¹´æ¥ç›¸å½“ç¨³å®šï¼Œä½†ä»å­˜åœ¨æœªæ¥ç³»ç»Ÿç‰ˆæœ¬å˜åŠ¨çš„æ½œåœ¨é£é™©ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3552aa1b80b2445c944d310ce6f9c1f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Z2h6IKY5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767052670&amp;x-signature=swudm3vB6tfsdI6ioj8Bp0JRzbw%3D" alt="materialview-demo.gif" loading="lazy"/></p>
<h2 data-id="heading-13">å¾€æœŸå†…å®¹</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-115%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-115/" ref="nofollow noopener noreferrer">å‘¨æ—¥å°æ’æ›² - #115</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-114%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-114/" ref="nofollow noopener noreferrer">æŒ–æ˜â€œæ²‰é»˜çš„ä¸“å®¶â€- #114</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhttps%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-113%2F" target="_blank" title="https://https://fatbobman.com/zh/weekly/issue-113/" ref="nofollow noopener noreferrer">å½“ Android æ‰‹æœºã€å¼ºè¡Œå…¼å®¹ã€AirDrop - #113</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-112%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-112/" ref="nofollow noopener noreferrer">æ¯•ä¸š 30 å¹´åŒå­¦ç¾¤ï¼šä¸€åœº AI å¼•å‘çš„â€œçœŸå‡éš¾è¾¨â€å±æœº - #112</a></li>
</ul>
<h2 data-id="heading-14">ğŸ’ æ”¯æŒä¸åé¦ˆ</h2>
<p>å¦‚æœæœ¬æœŸå‘¨æŠ¥å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ï¼š</p>
<ul>
<li>ğŸ‘ <strong>ç‚¹èµ</strong> - è®©æ›´å¤šå¼€å‘è€…çœ‹åˆ°</li>
<li>ğŸ’¬ <strong>è¯„è®º</strong> - åˆ†äº«ä½ çš„çœ‹æ³•æˆ–é—®é¢˜</li>
<li>ğŸ”„ <strong>è½¬å‘</strong> - å¸®åŠ©åŒè¡Œå…±åŒæˆé•¿</li>
</ul>
<hr/>
<blockquote>
<p>ğŸš€ <strong>æ‹“å±• Swift è§†é‡</strong></p>
<ul>
<li><strong>ğŸ“® é‚®ä»¶è®¢é˜…</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.fatbobman.com%2Fwelcome" target="_blank" title="https://weekly.fatbobman.com/welcome" ref="nofollow noopener noreferrer">weekly.fatbobman.com</a> è·å–ç‹¬å®¶æŠ€æœ¯æ´å¯Ÿ</li>
<li><strong>ğŸ‘¥ å¼€å‘è€…ç¤¾åŒº</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Finvite%2F7FedN5E2QQ" target="_blank" title="https://discord.com/invite/7FedN5E2QQ" ref="nofollow noopener noreferrer">Discord</a> å®æ—¶äº¤æµå¼€å‘ç»éªŒ</li>
<li><strong>ğŸ“š åŸåˆ›æ•™ç¨‹</strong> | <a href="https://link.juejin.cn?target=http%3A%2F%2Ffatbobman.com" target="_blank" title="http://fatbobman.com" ref="nofollow noopener noreferrer">fatbobman.com</a> å­¦ä¹  Swift/SwiftUI æœ€ä½³å®è·µ</li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ27ï¼‰Nettyçš„æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586491717874139155</link>    <guid>https://juejin.cn/post/7586491717874139155</guid>    <pubDate>2025-12-22T22:57:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586491717874139155" data-draft-id="7586490798432485439" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ27ï¼‰Nettyçš„æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T22:57:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ27ï¼‰Nettyçš„æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T22:57:06.000Z" title="Mon Dec 22 2025 22:57:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Nettyä¸­ï¼Œæ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨é€šå¸¸æŒ‡çš„æ˜¯åœ¨å¤„ç†ç½‘ç»œè¯·æ±‚å’Œå“åº”æ—¶ï¼Œæ’å…¥åˆ°ChannelPipelineä¸­çš„å„ç§å¤„ç†å™¨ï¼ˆHandlerï¼‰ã€‚è¿™äº›å¤„ç†å™¨å¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ‹¦æˆªã€ä¿®æ”¹ã€è¿‡æ»¤ã€è®°å½•ç­‰æ“ä½œï¼Œç±»ä¼¼äºServletä¸­çš„è¿‡æ»¤å™¨æˆ–Springä¸­çš„æ‹¦æˆªå™¨ã€‚</p>
<h3 data-id="heading-0">1. Nettyçš„æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨æ¦‚è¿°</h3>
<ul>
<li><strong>æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰</strong>ï¼šé€šå¸¸æŒ‡çš„æ˜¯èƒ½å¤Ÿåœ¨è¯·æ±‚æˆ–å“åº”å¤„ç†çš„æŸä¸ªé˜¶æ®µè¿›è¡Œæ‹¦æˆªï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¤„ç†çš„æœºåˆ¶ã€‚åœ¨Nettyä¸­ï¼Œ<code>ChannelHandler</code>å¯ä»¥èµ·åˆ°æ‹¦æˆªå™¨çš„ä½œç”¨ã€‚</li>
<li><strong>è¿‡æ»¤å™¨ï¼ˆFilterï¼‰</strong>ï¼šé€šå¸¸æŒ‡çš„æ˜¯å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€ä¿®æ”¹ç­‰æ“ä½œçš„æœºåˆ¶ã€‚åœ¨Nettyä¸­ï¼Œ<code>ChannelHandler</code>ä¹Ÿå¯ä»¥èµ·åˆ°è¿‡æ»¤å™¨çš„ä½œç”¨ã€‚</li>
</ul>
<h3 data-id="heading-1">2. å¦‚ä½•ä½¿ç”¨æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨</h3>
<p>åœ¨Nettyä¸­ï¼Œæ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨çš„å®ç°ä¸»è¦ä¾èµ–äº<code>ChannelHandler</code>å’Œ<code>ChannelPipeline</code>ã€‚é€šè¿‡å°†ä¸åŒçš„<code>ChannelHandler</code>æ·»åŠ åˆ°<code>ChannelPipeline</code>ä¸­ï¼Œå¯ä»¥å®ç°å„ç§æ‹¦æˆªå’Œè¿‡æ»¤åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">3. ä»£ç ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨Nettyä¸­ä½¿ç”¨æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨ã€‚</p>
<h4 data-id="heading-3">1. å®šä¹‰ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨ï¼Œå®ƒå°†æ¥æ”¶å®¢æˆ·ç«¯çš„æ¶ˆæ¯å¹¶è¿”å›å“åº”ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleServer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoggingHandler</span>()); <span class="hljs-comment">// Logging interceptor</span>
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AuthenticationHandler</span>()); <span class="hljs-comment">// Authentication filter</span>
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleServerHandler</span>()); <span class="hljs-comment">// Main handler</span>
                 }
             });

            b.bind(<span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}
</code></pre>
<h4 data-id="heading-4">2. å®ç°æ‹¦æˆªå™¨ï¼ˆLoggingHandlerï¼‰</h4>
<p><code>LoggingHandler</code>æ˜¯ä¸€ä¸ªç®€å•çš„æ‹¦æˆªå™¨ï¼Œå®ƒåœ¨æ¯æ¬¡æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶è¿›è¡Œæ—¥å¿—è®°å½•ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInboundHandlerAdapter;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInboundHandlerAdapter</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Received message: "</span> + msg);
        <span class="hljs-built_in">super</span>.channelRead(ctx, msg); <span class="hljs-comment">// ç»§ç»­ä¼ é€’æ¶ˆæ¯ç»™ä¸‹ä¸€ä¸ªå¤„ç†å™¨</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<h4 data-id="heading-5">3. å®ç°è¿‡æ»¤å™¨ï¼ˆAuthenticationHandlerï¼‰</h4>
<p><code>AuthenticationHandler</code>æ˜¯ä¸€ä¸ªç®€å•çš„è¿‡æ»¤å™¨ï¼Œå®ƒåœ¨å¤„ç†æ¶ˆæ¯å‰è¿›è¡Œè®¤è¯æ£€æŸ¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInboundHandlerAdapter;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AuthenticationHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInboundHandlerAdapter</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// å‡è®¾ msg æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«ç”¨æˆ·åå’Œå¯†ç </span>
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> (String) msg;
        <span class="hljs-keyword">if</span> (authenticate(message)) {
            <span class="hljs-built_in">super</span>.channelRead(ctx, msg); <span class="hljs-comment">// è®¤è¯é€šè¿‡ï¼Œç»§ç»­ä¼ é€’æ¶ˆæ¯ç»™ä¸‹ä¸€ä¸ªå¤„ç†å™¨</span>
        } <span class="hljs-keyword">else</span> {
            ctx.writeAndFlush(<span class="hljs-string">"Authentication failed"</span>);
            ctx.close();
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">authenticate</span><span class="hljs-params">(String message)</span> {
        <span class="hljs-comment">// ç®€å•çš„è®¤è¯é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"username:password"</span>.equals(message);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<h4 data-id="heading-6">4. å®ç°ä¸»å¤„ç†å™¨ï¼ˆSimpleServerHandlerï¼‰</h4>
<p><code>SimpleServerHandler</code>æ˜¯æœåŠ¡å™¨çš„ä¸»è¦å¤„ç†å™¨ï¼Œå®ƒå¤„ç†ç»è¿‡è®¤è¯çš„æ¶ˆæ¯å¹¶è¿”å›å“åº”ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleServerHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;String&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, String msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Processing message: "</span> + msg);
        ctx.writeAndFlush(<span class="hljs-string">"Hello, "</span> + msg);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<h4 data-id="heading-7">5. å®šä¹‰å®¢æˆ·ç«¯</h4>
<p>å®šä¹‰ä¸€ä¸ªç®€å•çš„å®¢æˆ·ç«¯æ¥æµ‹è¯•æœåŠ¡å™¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.Bootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioSocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.codec.string.StringDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.string.StringEncoder;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleClient</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Bootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bootstrap</span>();
            b.group(group)
             .channel(NioSocketChannel.class)
             .handler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringDecoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleClientHandler</span>());
                 }
             });

            b.connect(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            group.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleClientHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;String&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelActive</span><span class="hljs-params">(ChannelHandlerContext ctx)</span> {
        ctx.writeAndFlush(<span class="hljs-string">"username:password"</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, String msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Received response: "</span> + msg);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°å¦‚ä½•åœ¨Nettyä¸­ä½¿ç”¨æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨ã€‚æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨å¯ä»¥é€šè¿‡å®ç°<code>ChannelHandler</code>æ¥å£å¹¶å°†å…¶æ·»åŠ åˆ°<code>ChannelPipeline</code>ä¸­æ¥å®ç°ã€‚æ‹¦æˆªå™¨ç”¨äºåœ¨å¤„ç†è¯·æ±‚å’Œå“åº”çš„æŸä¸ªé˜¶æ®µè¿›è¡Œæ‹¦æˆªï¼Œè€Œè¿‡æ»¤å™¨åˆ™ç”¨äºå¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤å’Œä¿®æ”¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ28ï¼‰Nettyçš„å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586555198115135494</link>    <guid>https://juejin.cn/post/7586555198115135494</guid>    <pubDate>2025-12-22T22:57:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586555198115135494" data-draft-id="7586500093844537386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ28ï¼‰Nettyçš„å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T22:57:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ28ï¼‰Nettyçš„å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T22:57:56.000Z" title="Mon Dec 22 2025 22:57:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Nettyçš„å†…å­˜ç®¡ç†æœºåˆ¶æ˜¯å…¶é«˜æ€§èƒ½çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚Nettyé€šè¿‡ä¸€å¥—è‡ªå®šä¹‰çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾æœºåˆ¶æ¥æé«˜æ€§èƒ½å¹¶å‡å°‘åƒåœ¾å›æ”¶ï¼ˆGCï¼‰å‹åŠ›ã€‚ä»¥ä¸‹æ˜¯Nettyå†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶æœºåˆ¶çš„è¯¦ç»†ä»‹ç»ã€‚</p>
<h3 data-id="heading-0">1. å†…å­˜ç®¡ç†æœºåˆ¶</h3>
<p>Nettyçš„å†…å­˜ç®¡ç†ä¸»è¦ä¾èµ–äºå…¶<code>ByteBuf</code>ç±»å’Œå†…å­˜æ± æœºåˆ¶ã€‚<code>ByteBuf</code>æ˜¯Nettyçš„æ•°æ®å®¹å™¨ï¼Œç±»ä¼¼äºJavaçš„<code>ByteBuffer</code>ï¼Œä½†å…·æœ‰æ›´å¤šçš„åŠŸèƒ½å’Œæ›´é«˜çš„æ€§èƒ½ã€‚</p>
<h4 data-id="heading-1">1.1 ByteBuf</h4>
<p><code>ByteBuf</code>æ˜¯Nettyä¸­ç”¨äºæ•°æ®è¯»å†™çš„æ ¸å¿ƒç»„ä»¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>å¼•ç”¨è®¡æ•°</strong>ï¼š<code>ByteBuf</code>é‡‡ç”¨å¼•ç”¨è®¡æ•°æ¥ç®¡ç†å†…å­˜ï¼Œå½“å¼•ç”¨è®¡æ•°å½’é›¶æ—¶ï¼Œå†…å­˜ä¼šè¢«é‡Šæ”¾ã€‚</li>
<li><strong>æ± åŒ–æœºåˆ¶</strong>ï¼š<code>ByteBuf</code>å¯ä»¥é€šè¿‡å†…å­˜æ± è¿›è¡Œåˆ†é…å’Œå›æ”¶ï¼Œå‡å°‘äº†é¢‘ç¹çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾æ“ä½œï¼Œæå‡äº†æ€§èƒ½ã€‚</li>
</ul>
<h4 data-id="heading-2">1.2 ByteBufçš„ç±»å‹</h4>
<p><code>ByteBuf</code>æœ‰ä¸¤ç§ä¸»è¦ç±»å‹ï¼š</p>
<ul>
<li><strong>Heap ByteBuf</strong>ï¼šåŸºäºJVMå †å†…å­˜çš„<code>ByteBuf</code>ï¼Œé€‚ç”¨äºéœ€è¦ä¸ä¼ ç»ŸJavaä»£ç äº¤äº’çš„åœºæ™¯ã€‚</li>
<li><strong>Direct ByteBuf</strong>ï¼šåŸºäºç›´æ¥å†…å­˜ï¼ˆå †å¤–å†…å­˜ï¼‰çš„<code>ByteBuf</code>ï¼Œé€‚ç”¨äºç½‘ç»œI/Oæ“ä½œï¼Œå‡å°‘äº†å†…å­˜å¤åˆ¶ï¼Œæé«˜äº†æ€§èƒ½ã€‚</li>
</ul>
<h3 data-id="heading-3">2. å†…å­˜æ± æœºåˆ¶</h3>
<p>Nettyé€šè¿‡å†…å­˜æ± æ¥æé«˜å†…å­˜åˆ†é…å’Œé‡Šæ”¾çš„æ•ˆç‡ã€‚å†…å­˜æ± æœºåˆ¶ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªç»„ä»¶ï¼š</p>
<ul>
<li><strong>PooledByteBufAllocator</strong>ï¼šå†…å­˜æ± åˆ†é…å™¨ï¼Œç”¨äºç®¡ç†<code>ByteBuf</code>çš„åˆ†é…å’Œå›æ”¶ã€‚</li>
<li><strong>Arena</strong>ï¼šå†…å­˜æ± ä¸­çš„å†…å­˜åŒºåŸŸï¼Œè´Ÿè´£å…·ä½“çš„å†…å­˜åˆ†é…å’Œå›æ”¶æ“ä½œã€‚</li>
<li><strong>Chunk</strong>ï¼šå†…å­˜æ± ä¸­çš„å†…å­˜å—ï¼Œæ¯ä¸ªChunkåŒ…å«å¤šä¸ªPageã€‚</li>
<li><strong>Page</strong>ï¼šå†…å­˜æ± ä¸­çš„åŸºæœ¬åˆ†é…å•ä½ï¼Œæ¯ä¸ªPageåŒ…å«å¤šä¸ªSubpageã€‚</li>
<li><strong>Subpage</strong>ï¼šå†…å­˜æ± ä¸­çš„æœ€å°åˆ†é…å•ä½ã€‚</li>
</ul>
<h3 data-id="heading-4">3. å¼•ç”¨è®¡æ•°å’Œåƒåœ¾å›æ”¶æœºåˆ¶</h3>
<p>Nettyé€šè¿‡å¼•ç”¨è®¡æ•°æ¥ç®¡ç†<code>ByteBuf</code>çš„ç”Ÿå‘½å‘¨æœŸã€‚æ¯æ¬¡åˆ†é…ä¸€ä¸ª<code>ByteBuf</code>æ—¶ï¼Œå¼•ç”¨è®¡æ•°ä¸º1ã€‚å½“è°ƒç”¨<code>ByteBuf.release()</code>æ–¹æ³•æ—¶ï¼Œå¼•ç”¨è®¡æ•°å‡1ï¼Œå½“å¼•ç”¨è®¡æ•°å½’é›¶æ—¶ï¼Œå†…å­˜ä¼šè¢«é‡Šæ”¾ã€‚</p>
<h3 data-id="heading-5">4. ä»£ç ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº†Nettyçš„å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶æœºåˆ¶ã€‚</p>
<h4 data-id="heading-6">1. ä½¿ç”¨PooledByteBufAllocatoråˆ†é…å’Œé‡Šæ”¾å†…å­˜</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.buffer.ByteBuf;
<span class="hljs-keyword">import</span> io.netty.buffer.PooledByteBufAllocator;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ByteBufExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªPooledByteBufAllocator</span>
        <span class="hljs-type">PooledByteBufAllocator</span> <span class="hljs-variable">allocator</span> <span class="hljs-operator">=</span> PooledByteBufAllocator.DEFAULT;

        <span class="hljs-comment">// åˆ†é…ä¸€ä¸ªByteBuf</span>
        <span class="hljs-type">ByteBuf</span> <span class="hljs-variable">buf</span> <span class="hljs-operator">=</span> allocator.buffer(<span class="hljs-number">256</span>);

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨ByteBufè¿›è¡Œè¯»å†™æ“ä½œ</span>
            buf.writeInt(<span class="hljs-number">42</span>);
            <span class="hljs-type">int</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> buf.readInt();
            System.out.println(<span class="hljs-string">"Read value: "</span> + value);

            <span class="hljs-comment">// æ£€æŸ¥å¼•ç”¨è®¡æ•°</span>
            System.out.println(<span class="hljs-string">"Reference count: "</span> + buf.refCnt());
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// é‡Šæ”¾ByteBuf</span>
            buf.release();
            System.out.println(<span class="hljs-string">"Reference count after release: "</span> + buf.refCnt());
        }
    }
}
</code></pre>
<h4 data-id="heading-7">2. ä½¿ç”¨Direct ByteBufè¿›è¡Œç½‘ç»œI/Oæ“ä½œ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.codec.string.StringDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.string.StringEncoder;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NettyServer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringDecoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleServerHandler</span>());
                 }
             });

            b.bind(<span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> io.netty.buffer.ByteBuf;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleServerHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;String&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, String msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Received message: "</span> + msg);

        <span class="hljs-comment">// åˆ†é…ä¸€ä¸ªDirect ByteBuf</span>
        <span class="hljs-type">ByteBuf</span> <span class="hljs-variable">buf</span> <span class="hljs-operator">=</span> ctx.alloc().directBuffer();
        buf.writeBytes((<span class="hljs-string">"Echo: "</span> + msg).getBytes());

        <span class="hljs-comment">// å‘é€å“åº”</span>
        ctx.writeAndFlush(buf);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<h3 data-id="heading-8">5. å†…å­˜æ³„æ¼æ£€æµ‹</h3>
<p>Nettyæä¾›äº†å†…å­˜æ³„æ¼æ£€æµ‹æœºåˆ¶ï¼Œå¸®åŠ©å¼€å‘è€…å‘ç°å’Œè§£å†³å†…å­˜æ³„æ¼é—®é¢˜ã€‚å¯ä»¥é€šè¿‡è®¾ç½®<code>io.netty.leakDetection.level</code>ç³»ç»Ÿå±æ€§æ¥å¯ç”¨å†…å­˜æ³„æ¼æ£€æµ‹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryLeakDetectionExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// å¯ç”¨é«˜çº§åˆ«çš„å†…å­˜æ³„æ¼æ£€æµ‹</span>
        System.setProperty(<span class="hljs-string">"io.netty.leakDetection.level"</span>, <span class="hljs-string">"paranoid"</span>);

        <span class="hljs-type">PooledByteBufAllocator</span> <span class="hljs-variable">allocator</span> <span class="hljs-operator">=</span> PooledByteBufAllocator.DEFAULT;
        <span class="hljs-type">ByteBuf</span> <span class="hljs-variable">buf</span> <span class="hljs-operator">=</span> allocator.buffer(<span class="hljs-number">256</span>);

        <span class="hljs-comment">// å¿˜è®°é‡Šæ”¾ByteBufï¼Œæ¨¡æ‹Ÿå†…å­˜æ³„æ¼</span>
        <span class="hljs-comment">// buf.release();</span>

        <span class="hljs-comment">// è§¦å‘GCï¼ŒæŸ¥çœ‹å†…å­˜æ³„æ¼æ£€æµ‹æ—¥å¿—</span>
        System.gc();
    }
}
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°Nettyçš„å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶æœºåˆ¶çš„å·¥ä½œåŸç†ã€‚Nettyé€šè¿‡<code>ByteBuf</code>å’Œå†…å­˜æ± æœºåˆ¶æ¥æé«˜å†…å­˜åˆ†é…å’Œé‡Šæ”¾çš„æ•ˆç‡ï¼Œå¹¶é€šè¿‡å¼•ç”¨è®¡æ•°å’Œå†…å­˜æ³„æ¼æ£€æµ‹æ¥ç®¡ç†å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™äº›æœºåˆ¶å…±åŒç¡®ä¿äº†Nettyçš„é«˜æ€§èƒ½å’Œä½GCå¼€é”€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ç¯‡æå®š dotnet efï¼šEF Core å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7586570254860582952</link>    <guid>https://juejin.cn/post/7586570254860582952</guid>    <pubDate>2025-12-22T22:58:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586570254860582952" data-draft-id="7586518130761728040" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ç¯‡æå®š dotnet efï¼šEF Core å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2025-12-22T22:58:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ç¯‡æå®š dotnet efï¼šEF Core å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T22:58:00.000Z" title="Mon Dec 22 2025 22:58:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">åŸºç¡€çŸ¥è¯†</h3>

























<table><thead><tr><th>é¡¹ç›®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>EF Core</strong></td><td>.NET çš„ ORM æ¡†æ¶ï¼Œæ”¯æŒ Code Firstã€Database Firstã€‚</td></tr><tr><td><strong>dotnet ef</strong></td><td>ä¸€ä¸ª <strong>CLI å·¥å…·</strong>ï¼Œç”¨äºç®¡ç† EF Core è¿ç§»ã€æ•°æ®åº“æ“ä½œã€‚</td></tr><tr><td><strong>å®‰è£…æ–¹å¼</strong></td><td>é€šå¸¸å®‰è£…åœ¨é¡¹ç›®ä¸­ï¼ˆæ¨èï¼‰ï¼š<br/><code>dotnet add package Microsoft.EntityFrameworkCore.Design</code><br/>å…¨å±€å·¥å…·ï¼š<code>dotnet tool install --global dotnet-ef</code></td></tr><tr><td><strong>ä½¿ç”¨ä½ç½®</strong></td><td>åœ¨åŒ…å« <code>*.csproj</code> çš„ç›®å½•æ‰§è¡Œï¼Œæˆ–è€…ä½¿ç”¨ <code>--project</code> æŒ‡å®šé¡¹ç›®è·¯å¾„ã€‚</td></tr></tbody></table>
<blockquote>
<p>åœ¨æ‰§è¡Œä»»ä½• dotnet ef å‘½ä»¤å‰ï¼Œéœ€è¦åœ¨ csproj ä¸­åŒ…å« Microsoft.EntityFrameworkCore.Design åŒ…ã€‚</p>
</blockquote>
<h3 data-id="heading-1">å‘½ä»¤æ€»è§ˆ</h3>




























































<table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th><th>å…¸å‹åœºæ™¯</th></tr></thead><tbody><tr><td><code>dotnet ef migrations add</code></td><td>æ·»åŠ æ–°çš„æ•°æ®åº“è¿ç§»</td><td>å¢åŠ æˆ–ä¿®æ”¹å®ä½“æ¨¡å‹å</td></tr><tr><td><code>dotnet ef migrations list</code></td><td>æŸ¥çœ‹å·²æœ‰è¿ç§»</td><td>ç¡®è®¤æ•°æ®åº“ç‰ˆæœ¬</td></tr><tr><td><code>dotnet ef migrations remove</code></td><td>åˆ é™¤æœ€æ–°è¿ç§»</td><td>å›æ»šåˆšæ·»åŠ ä½†æœªåº”ç”¨çš„è¿ç§»</td></tr><tr><td><code>dotnet ef migrations script</code></td><td>ç”Ÿæˆ SQL è„šæœ¬</td><td>æ‰‹å·¥æ‰§è¡Œè¿ç§»</td></tr><tr><td><code>dotnet ef database update</code></td><td>æ›´æ–°æ•°æ®åº“åˆ°æŒ‡å®šè¿ç§»</td><td>åŒæ­¥æ•°æ®åº“ä¸æ¨¡å‹</td></tr><tr><td><code>dotnet ef database drop</code></td><td>åˆ é™¤æ•°æ®åº“</td><td>é‡ç½®å¼€å‘ç¯å¢ƒ</td></tr><tr><td><code>dotnet ef dbcontext info</code></td><td>æŸ¥çœ‹ DbContext ä¿¡æ¯</td><td>è°ƒè¯•ä¸Šä¸‹æ–‡é…ç½®</td></tr><tr><td><code>dotnet ef dbcontext list</code></td><td>åˆ—å‡ºå¯ç”¨ DbContext</td><td>å¤šä¸Šä¸‹æ–‡é¡¹ç›®</td></tr><tr><td><code>dotnet ef dbcontext scaffold</code></td><td>æ ¹æ®ç°æœ‰æ•°æ®åº“ç”Ÿæˆå®ä½“</td><td>Database First é€†å‘å·¥ç¨‹</td></tr><tr><td><code>dotnet ef dbcontext optimize</code></td><td>é¢„ç”Ÿæˆæ¨¡å‹å¿«ç…§ä»¥æå‡å¯åŠ¨é€Ÿåº¦</td><td>é«˜æ€§èƒ½åœºæ™¯</td></tr></tbody></table>
<h3 data-id="heading-2">å¸¸ç”¨å‘½ä»¤è¯¦è§£ + ç¤ºä¾‹</h3>
<h4 data-id="heading-3">åˆ›å»ºè¿ç§»</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations add InitialCreate
</code></pre>
<p>åœ¨ <code>Migrations</code>/ ç›®å½•ä¸‹ç”Ÿæˆï¼š</p>
<ul>
<li>
<p><code>YYYYMMDDHHMMSS_InitialCreate.cs</code>ï¼šè¿ç§»ä»£ç </p>
</li>
<li>
<p><code>AppDbContextModelSnapshot.cs</code>ï¼šæ¨¡å‹å¿«ç…§æ–‡ä»¶</p>
</li>
</ul>
<p>å¸¸ç”¨å‚æ•°ï¼š</p>






























<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>--project</code></td><td>æŒ‡å®šå¯åŠ¨é¡¹ç›®</td><td><code>--project ./MyApp</code></td></tr><tr><td><code>--startup-project</code></td><td>æŒ‡å®šåŒ…å« <code>Program.cs</code> çš„å¯åŠ¨é¡¹ç›®</td><td><code>--startup-project ./MyApp.Web</code></td></tr><tr><td><code>--context</code></td><td>æŒ‡å®š DbContext</td><td><code>--context AppDbContext</code></td></tr><tr><td><code>--output-dir</code></td><td>æŒ‡å®šè¿ç§»æ–‡ä»¶å¤¹</td><td><code>--output-dir Data/Migrations</code></td></tr></tbody></table>
<blockquote>
<p>åœ¨å¤šé¡¹ç›®æ¶æ„ä¸­ï¼ˆå¦‚åˆ†ç¦» <code>DAL</code>/å¯åŠ¨é¡¹ç›®ï¼‰ï¼ŒåŠ¡å¿…åŒæ—¶æŒ‡å®š <code>--project</code> å’Œ <code>--startup-project</code>ã€‚</p>
</blockquote>
<h4 data-id="heading-4">åº”ç”¨è¿ç§»</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef database update
</code></pre>
<ul>
<li>
<p>å°†æ•°æ®åº“æ›´æ–°åˆ°æœ€æ–°è¿ç§»ã€‚</p>
</li>
<li>
<p>å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºã€‚</p>
</li>
</ul>
<p>å¯æŒ‡å®šç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">dotnet ef database update InitialCreate
</code></pre>
<p>å°†æ•°æ®åº“å›æ»šåˆ°æŒ‡å®šè¿ç§»ï¼ˆæˆ–å‡çº§åˆ°æŸä¸ªä¸­é—´ç‰ˆæœ¬ï¼‰ã€‚</p>
<h4 data-id="heading-5">æŸ¥çœ‹è¿ç§»</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations list
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">20250922121212_InitialCreate
20250923104530_AddUserTable
</code></pre>
<h4 data-id="heading-6">åˆ é™¤è¿ç§»</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations remove
</code></pre>
<ul>
<li>
<p>åˆ é™¤æœ€æ–°è¿ç§»æ–‡ä»¶ã€‚</p>
</li>
<li>
<p>ä»…é™æœªæ‰§è¡Œ <code>database update</code> çš„è¿ç§»ã€‚</p>
</li>
</ul>
<h4 data-id="heading-7">ç”Ÿæˆ SQL è„šæœ¬</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations script
</code></pre>
<ul>
<li>
<p>ç”Ÿæˆä»åˆå§‹æ•°æ®åº“åˆ°æœ€æ–°è¿ç§»çš„ <code>SQL</code> è„šæœ¬ã€‚</p>
</li>
<li>
<p>å¯æŒ‡å®šèµ·æ­¢è¿ç§»ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-shell" lang="shell">dotnet ef migrations script InitialCreate AddUserTable -o update.sql
</code></pre>
<h4 data-id="heading-8">åˆ é™¤æ•°æ®åº“</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef database drop
</code></pre>
<ul>
<li>
<p>äº¤äº’å¼ç¡®è®¤ååˆ é™¤æ•°æ®åº“ã€‚</p>
</li>
<li>
<p>å¯åŠ  <code>--force</code> è·³è¿‡ç¡®è®¤ã€‚</p>
</li>
</ul>
<h4 data-id="heading-9">æŸ¥çœ‹ DbContext ä¿¡æ¯</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef dbcontext info
</code></pre>
<p>è¾“å‡ºæ•°æ®åº“æä¾›ç¨‹åºã€è¿æ¥å­—ç¬¦ä¸²ç­‰ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-10">åˆ—å‡º DbContext</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef dbcontext list
</code></pre>
<p>ç”¨äºå¤šä¸Šä¸‹æ–‡é¡¹ç›®ï¼Œå¯å¿«é€Ÿç¡®è®¤å¯ç”¨çš„ <code>DbContext</code>ã€‚</p>
<h4 data-id="heading-11">æ•°æ®åº“é€†å‘ç”Ÿæˆå®ä½“ (Database First)</h4>
<pre><code class="hljs language-shell" lang="shell">dotnet ef dbcontext scaffold \
"Server=localhost;Database=MyDb;User Id=sa;Password=Passw0rd;" \
Microsoft.EntityFrameworkCore.SqlServer \
--output-dir Models --context MyDbContext
</code></pre>
<p>å¸¸ç”¨å‚æ•°ï¼š</p>





























<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--schema</code></td><td>æŒ‡å®šæ•°æ®åº“æ¨¡å¼</td></tr><tr><td><code>--table</code></td><td>æŒ‡å®šè¡¨ï¼ˆå¯å¤šæ¬¡æŒ‡å®šï¼‰</td></tr><tr><td><code>--context-dir</code></td><td>æŒ‡å®š DbContext æ–‡ä»¶å¤¹</td></tr><tr><td><code>--force</code></td><td>è¦†ç›–å·²æœ‰æ–‡ä»¶</td></tr><tr><td><code>--use-database-names</code></td><td>ä¿ç•™æ•°æ®åº“åŸå§‹å‘½åï¼ˆä¸åš PascalCase è½¬æ¢ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-12">æ¨¡å‹é¢„ç¼–è¯‘ä¼˜åŒ–</h4>
<p><code>EF Core 6+</code> æä¾›ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">dotnet ef dbcontext optimize
</code></pre>
<ul>
<li>
<p>åœ¨ç¼–è¯‘æ—¶é¢„ç”Ÿæˆæ¨¡å‹å…ƒæ•°æ®ï¼Œæå‡å¯åŠ¨é€Ÿåº¦ã€‚</p>
</li>
<li>
<p>é€‚åˆå¤§å‹æ•°æ®åº“æˆ–é«˜æ€§èƒ½åœºæ™¯ã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">å¼€å‘å¸¸ç”¨æµç¨‹ç¤ºä¾‹</h3>
<h4 data-id="heading-14">Code First å¼€å‘æµç¨‹</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">1. æ·»åŠ åˆå§‹è¿ç§»</span>
dotnet ef migrations add InitialCreate
<span class="hljs-meta prompt_">
# </span><span class="bash">2. åˆ›å»º/æ›´æ–°æ•°æ®åº“</span>
dotnet ef database update
<span class="hljs-meta prompt_">
# </span><span class="bash">3. ä¿®æ”¹å®ä½“æ¨¡å‹åç”Ÿæˆæ–°è¿ç§»</span>
dotnet ef migrations add AddUserTable
<span class="hljs-meta prompt_">
# </span><span class="bash">4. åº”ç”¨åˆ°æ•°æ®åº“</span>
dotnet ef database update
</code></pre>
<h4 data-id="heading-15">Database First å¼€å‘æµç¨‹</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">ä»ç°æœ‰æ•°æ®åº“ç”Ÿæˆå®ä½“ä¸ä¸Šä¸‹æ–‡</span>
dotnet ef dbcontext scaffold \
"Server=localhost;Database=MyDb;User Id=sa;Password=Passw0rd;" \
Microsoft.EntityFrameworkCore.SqlServer \
--output-dir Models
</code></pre>
<h3 data-id="heading-16">å¸¸è§é—®é¢˜ä¸æŠ€å·§</h3>





























<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>æ‰¾ä¸åˆ° <code>dotnet ef</code> å‘½ä»¤</strong></td><td><code>dotnet tool install --global dotnet-ef</code></td></tr><tr><td><strong>æç¤ºæ‰¾ä¸åˆ° DbContext</strong></td><td>æ£€æŸ¥ <code>--startup-project</code> æˆ– <code>--context</code> æ˜¯å¦æŒ‡å®šæ­£ç¡®</td></tr><tr><td><strong>è·¨é¡¹ç›®è°ƒç”¨å¤±è´¥</strong></td><td>ä½¿ç”¨ <code>--project</code> æŒ‡å®šåŒ…å«è¿ç§»çš„ç±»åº“é¡¹ç›®ï¼Œ<code>--startup-project</code> æŒ‡å®šå¯åŠ¨é¡¹ç›®</td></tr><tr><td><strong>æ•°æ®åº“è¿æ¥ä¸ç”Ÿæ•ˆ</strong></td><td>æ£€æŸ¥ <code>Program.cs</code> ä¸­ <code>UseSqlServer/UseNpgsql</code> é…ç½®</td></tr><tr><td><strong>ç”Ÿäº§ç¯å¢ƒæ‰‹åŠ¨éƒ¨ç½²</strong></td><td>ä½¿ç”¨ <code>dotnet ef migrations script</code> ç”Ÿæˆ SQL å¹¶åœ¨ DBA å®¡æ ¸åæ‰§è¡Œ</td></tr></tbody></table>
<h3 data-id="heading-17">æ€»ç»“</h3>





























<table><thead><tr><th>å‘½ä»¤</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td><code>dotnet ef migrations add</code></td><td><strong>åˆ›å»ºè¿ç§»</strong></td></tr><tr><td><code>dotnet ef database update</code></td><td><strong>åŒæ­¥æ•°æ®åº“</strong></td></tr><tr><td><code>dotnet ef migrations list</code></td><td><strong>æŸ¥çœ‹è¿ç§»å†å²</strong></td></tr><tr><td><code>dotnet ef dbcontext scaffold</code></td><td><strong>é€†å‘å·¥ç¨‹</strong></td></tr><tr><td><code>dotnet ef migrations script</code></td><td><strong>ç”Ÿæˆ SQL è„šæœ¬</strong></td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çŸ­æ€è€ƒç¬¬261å¤©ï¼Œæµªè´¹æ—¶é—´çš„åä¸ªä½æ•ˆè¡Œä¸ºï¼Œçœ‹çœ‹ä½ ä¸­äº†å‡ ä¸ªï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586500093844455466</link>    <guid>https://juejin.cn/post/7586500093844455466</guid>    <pubDate>2025-12-22T16:24:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586500093844455466" data-draft-id="7586490798432354367" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çŸ­æ€è€ƒç¬¬261å¤©ï¼Œæµªè´¹æ—¶é—´çš„åä¸ªä½æ•ˆè¡Œä¸ºï¼Œçœ‹çœ‹ä½ ä¸­äº†å‡ ä¸ªï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-22T16:24:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜ç æ­Œ"/> <meta itemprop="url" content="https://juejin.cn/user/764915820529831"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çŸ­æ€è€ƒç¬¬261å¤©ï¼Œæµªè´¹æ—¶é—´çš„åä¸ªä½æ•ˆè¡Œä¸ºï¼Œçœ‹çœ‹ä½ ä¸­äº†å‡ ä¸ªï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/764915820529831/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜ç æ­Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T16:24:31.000Z" title="Mon Dec 22 2025 16:24:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æœ‰æ²¡å‘ç°è‡ªå·±æ—¶é—´æ€»ä¸å¤Ÿç”¨ï¼Œä½†åˆè¯´ä¸æ¸…éƒ½æµªè´¹åœ¨å“ªäº†ï¼Ÿ2026å¹´å¿«è¦æ¥äº†ï¼Œæ€»ç»“ä¸€ä¸‹ç æ­Œè§‰å¾—æµªè´¹æ—¶é—´çš„åä¸ªä½æ•ˆè¡Œä¸ºï¼Œçœ‹çœ‹ä½ ä¸­äº†å‡ ä¸ªï¼Ÿ</p>
<h3 data-id="heading-0">1ã€è¿‡åˆ†å®Œç¾</h3>
<p>æ€»æƒ³ç€åšåˆ°å®Œç¾å†å‘å‡ºæ¥ï¼Ÿè¦é†’é†’äº†ï¼ç­‰ä½ å‘å¸ƒçš„æ—¶å€™ï¼Œäººå®¶æ—©å°±å·²ç»è¿­ä»£å‡ è½®äº†ã€‚</p>
<p>ç å“¥å‰æ®µæ—¶é—´åšçš„AIå¯¼èˆªç½‘ç«™å°±æœ‰è¿™ç§æ„Ÿè§‰ï¼Œæ€»æƒ³æŠŠæ‰€æœ‰åŠŸèƒ½éƒ½åšå®Œäº†å†å‘å¸ƒæ’ä»¶å¸‚åœºï¼Œå…¶å®å®ŒæˆMVPåŠŸèƒ½å°±å¯ä»¥ç›´æ¥æ‰”å¸‚åœºéªŒè¯äº†ã€‚è¿­ä»£ï¼å®Œç¾ã€‚</p>
<p>ç ´å±€ï¼šæçŸ­æ—¶é—´å®ŒæˆMVPæ‰”åˆ°å¸‚åœºï¼Œå…ˆå®Œæˆå†ä¼˜åŒ–ï¼Œä¸å‘å¸ƒæ°¸è¿œæ˜¯0ã€‚</p>
<h3 data-id="heading-1">2ã€è¿‡åº¦å‡†å¤‡</h3>
<p>æ”¶è—äº†å·¨å¤šåšå®¢æˆ–aiçƒ­ç‚¹ï¼Œåšäº†å¥½å¤šè®¡åˆ’è¡¨ï¼Œç„¶åå‘Šè¯‰è‡ªå·±"è¿˜æ²¡å‡†å¤‡å¥½"ï¼Ÿ</p>
<p>ç æ­Œå¹´åˆå°±æœ‰è®¡åˆ’æ‰“é€ è‡ªå·±çš„IPï¼Œæƒ³äº†éå¸¸å¤šï¼Œä¹Ÿå‡†å¤‡äº†éå¸¸ä¹…ï¼Œä¸€ç›´æ²¡è¸å‡ºç¬¬ä¸€æ­¥ã€‚</p>
<p>ç ´å±€ï¼š72å°æ—¶å†…å¿…é¡»è¿ˆå‡ºç¬¬ä¸€æ­¥ï¼Œæœ‰ç¬¬ä¸€æ­¥æ‰æœ‰ç¬¬äºŒæ­¥ï¼Œåˆ«æƒ³ç€ä¸€æ­¥ç™»å¤©ï¼</p>
<h3 data-id="heading-2">3ã€æŒ‡æœ›åˆ«äºº</h3>
<p>ç­‰é¢†å¯¼ç»™æœºä¼šã€ç­‰è´µäººç›¸åŠ©...æœ€æ‰å¿ƒçš„çœŸç›¸æ˜¯ï¼šæ²¡äººæ¯”ä½ æ›´åœ¨ä¹ä½ çš„äººç”Ÿ</p>
<p>ç ´å±€ï¼šæŠŠ"è°èƒ½å¸®æˆ‘"æ”¹æˆ"æˆ‘æ€ä¹ˆæå®š"</p>
<h3 data-id="heading-3">4ã€é—²èŠå…«å¦</h3>
<p>ä¸€å¤©å…«å¦2å°æ—¶=ä¸€å¹´æµªè´¹730å°æ—¶ï¼ä¸å…¶è®¨è®ºåˆ«äººï¼Œä¸å¦‚æå‡è‡ªå·±</p>
<p>ç ´å±€ï¼šå¯¹è¯åå‘å…«å¦æ—¶ç«‹åˆ»é—®è‡ªå·±"è¿™è·Ÿæˆ‘æœ‰å…³ç³»å—"</p>
<h3 data-id="heading-4">5ã€ åˆ·çŸ­è§†é¢‘</h3>
<p>æœ€éšè”½çš„æ—¶é—´é»‘æ´ï¼æ›´å¯æ€•çš„æ˜¯å®ƒåœ¨é™ä½ä½ çš„ä¸“æ³¨åŠ›å’Œæ·±åº¦æ€è€ƒèƒ½åŠ›ï¼Œä»¥å‰èƒ½çœ‹å®Œä¸€æœ¬ä¹¦ï¼Œç°åœ¨1000å­—éƒ½çœ‹ä¸ä¸‹å»</p>
<p>ç ´å±€ï¼šæ¯å¤©é™åˆ¶30åˆ†é’Ÿï¼Œåˆ†ä¸¤æ¬¡åˆ·</p>
<h3 data-id="heading-5">6ã€åå¤æ¯”ä»·</h3>
<p>ä¸ºçœå‡ å—é’±æ¯”ä»·åŠå°æ—¶ï¼Ÿä½ çš„æ—¶é—´ä¸å€¼é’±å—ï¼Ÿèƒ½ç”¨é’±è§£å†³çš„åˆ«ç”¨æ—¶é—´æŠ˜è…¾ğŸ’°</p>
<p>ç ´å±€ï¼š100å…ƒå†…å¯¹æ¯”ä¸è¶…è¿‡5åˆ†é’Ÿ</p>
<h3 data-id="heading-6">7ï¸ã€é¢‘ç¹åˆ‡æ¢ä»»åŠ¡</h3>
<p>äººè„‘ä¸æ˜¯CPUï¼æ¯æ¬¡åˆ‡æ¢ä»»åŠ¡=æµªè´¹23åˆ†é’Ÿä¸“æ³¨åŠ›æ¢å¤æ—¶é—´</p>
<p>ç ´å±€ï¼šç•ªèŒ„å·¥ä½œæ³•ï¼Œä¸€æ¬¡åªåšä¸€ä»¶äº‹</p>
<h3 data-id="heading-7">8ã€ä¸åˆ‡å®é™…çš„å¹»æƒ³</h3>
<p>å¹»æƒ³èº«ä½“å¥åº·ç„¶åç»§ç»­åƒé›¶é£Ÿåƒæ³¡é¢ï¼Ÿå¹»æƒ³å’Œç›®æ ‡çš„åŒºåˆ«æ˜¯ï¼šç›®æ ‡æœ‰è¡ŒåŠ¨è®¡åˆ’</p>
<p>ç ´å±€ï¼šæŠŠå¹»æƒ³æ‹†è§£æˆä»Šå¤©å°±èƒ½åšçš„ç¬¬ä¸€æ­¥ï¼Œæ¯”å¦‚æ™šä¸Šè·‘è·‘æ­¥</p>
<h3 data-id="heading-8">9ã€å†…è€—çº ç»“</h3>
<p>åå¤æƒ³"å¦‚æœå½“åˆé‚£æ ·åš"...è¿‡å»å·²ç»“æŸï¼Œæœªæ¥æ²¡å‘ç”Ÿï¼Œä½ åªèƒ½æŒæ§ç°åœ¨</p>
<p>ç ´å±€ï¼šå‘ç°å†…è€—æ—¶ç«‹åˆ»èµ·èº«åš2åˆ†é’Ÿå°äº‹</p>
<h3 data-id="heading-9">10ã€æ— æ•ˆç¤¾äº¤</h3>
<p>å‚åŠ å°¬èŠé¥­å±€ç»´æŠ¤å¡‘æ–™äººè„‰ï¼Ÿ5ä¸ªæ·±äº¤å¥½å‹èƒœè¿‡500ä¸ªç‚¹èµä¹‹äº¤</p>
<p>ç ´å±€ï¼šæ¯æ¬¡ç¤¾äº¤å‰é—®è‡ªå·±"æˆ‘çœŸå¿ƒæƒ³å»å—ï¼Ÿä¸å»ä¼šæ€æ ·ï¼Ÿ"</p>
<blockquote>
<p>çœ‹å®Œæ‰å¿ƒæ²¡ï¼Œä½ ä¸­äº†å‡ ä¸ªï¼Ÿç æ­Œèµ·ç ä¸­äº†5ä¸ªï¼Œå…¶å®ä¸ç”¨ä¸€æ¬¡æ”¹æ‰æ‰€æœ‰é—®é¢˜ï¼Œ
ä»æœ€å®¹æ˜“çš„é‚£ä¸ªå¼€å§‹æ”¹ï¼Œä¸€ä¸ªæœˆæå®šä¸€ä¸ªå°±å¤Ÿäº†ï¼Œå‘ç°é—®é¢˜æ‰æ˜¯è§£å†³é—®é¢˜çš„ç¬¬ä¸€æ­¥ï¼
2026å¹´ï¼Œæ”¹æ‰åä¹ æƒ¯ã€å¤šæ€è€ƒã€æŒç»­è¾“å‡ºã€èµ·ç ç”¨aiå¹²åä¸ªé¡¹ç›®ï¼Œç«‹ä¸ªflag ï¼</p>
</blockquote>
<p>æˆ‘æ˜¯â€<strong>ç¨‹åºå‘˜ç æ­Œ</strong>â€œï¼Œ<strong>å…¨ç½‘æ˜µç§°ç»Ÿä¸€</strong>ï¼Œ10+å¹´å¤§å‚ç¨‹åºå‘˜ç»éªŒï¼Œåœ¨èŒåœºï¼Œç©å‰¯ä¸šï¼Œç›®æ ‡å‰¯ä¸šå¹´æ”¶å…¥ç™¾ä¸‡ï¼Œæ¢ç´¢å¯å¤åˆ©å¯å¤åˆ¶çš„ä¸€äººä¼ä¸šç©æ³•ï¼Œ<strong>å¯å»gzhå›´è§‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ ä»¥ä¸º Props åªæ˜¯ä¼ å‚ï¼Ÿ ä¸ï¼Œå®ƒæ˜¯ React ç»„ä»¶è®¾è®¡çš„â€œçµé­‚ç³»ç»Ÿâ€]]></title>    <link>https://juejin.cn/post/7586493936677814312</link>    <guid>https://juejin.cn/post/7586493936677814312</guid>    <pubDate>2025-12-22T16:55:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936677814312" data-draft-id="7586559672128372788" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ ä»¥ä¸º Props åªæ˜¯ä¼ å‚ï¼Ÿ ä¸ï¼Œå®ƒæ˜¯ React ç»„ä»¶è®¾è®¡çš„â€œçµé­‚ç³»ç»Ÿâ€"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-22T16:55:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½å…°åœ°ç©ºç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/191753514127514"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ ä»¥ä¸º Props åªæ˜¯ä¼ å‚ï¼Ÿ ä¸ï¼Œå®ƒæ˜¯ React ç»„ä»¶è®¾è®¡çš„â€œçµé­‚ç³»ç»Ÿâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/191753514127514/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½å…°åœ°ç©ºç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T16:55:21.000Z" title="Mon Dec 22 2025 16:55:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>90% çš„ React åˆå­¦è€…ï¼Œéƒ½ä½ä¼°äº† Propsã€‚</strong><br/>
ä»–ä»¬ä»¥ä¸ºå®ƒåªæ˜¯â€œä»çˆ¶ç»„ä»¶å¾€å­ç»„ä»¶ä¼ ç‚¹æ•°æ®â€ã€‚</p>
</blockquote>
<p>ä½†çœŸæ­£å†™è¿‡å¤æ‚ç»„ä»¶ã€è®¾è®¡è¿‡é€šç”¨ç»„ä»¶çš„äººéƒ½çŸ¥é“ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>Props å†³å®šäº†ä¸€ä¸ªç»„ä»¶â€œå¥½ä¸å¥½ç”¨â€ï¼Œè€Œä¸æ˜¯â€œèƒ½ä¸èƒ½ç”¨â€ã€‚</strong></p>
</blockquote>
<p>è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ä¸è®² API æ¸…å•ã€ä¸èƒŒæ¦‚å¿µï¼Œ<br/>
è€Œæ˜¯å›´ç»• <strong>Props ç³»ç»Ÿçš„ 5 ä¸ªæ ¸å¿ƒèƒ½åŠ›</strong>ï¼Œä¸€æ¬¡æ€§è®²é€ React ç»„ä»¶åŒ–çš„åº•å±‚é€»è¾‘ï¼š</p>
<ul>
<li>Props ä¼ é€’</li>
<li>Props è§£æ„</li>
<li>é»˜è®¤å€¼ï¼ˆdefaultProps / é»˜è®¤å‚æ•°ï¼‰</li>
<li>ç±»å‹æ ¡éªŒï¼ˆPropTypesï¼‰</li>
<li>children æ’æ§½æœºåˆ¶ï¼ˆReact çš„æ ¸æ­¦å™¨ï¼‰</li>
</ul>
<p>ğŸ‘‰ çœ‹å®Œä½ ä¼šæ˜ç™½ï¼š<br/>
<strong>React çœŸæ­£å‰å®³çš„ä¸æ˜¯ JSXï¼Œè€Œæ˜¯ Props è®¾è®¡ã€‚</strong></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€Props çš„æœ¬è´¨ï¼šç»„ä»¶çš„â€œå¯¹å¤–æ¥å£â€</h2>
<p>å…ˆæŠ›ä¸€ä¸ªç»“è®ºï¼š</p>
<blockquote>
<p><strong>React ç»„ä»¶ â‰ˆ ä¸€ä¸ªå‡½æ•° + ä¸€å¥— Props æ¥å£</strong></p>
</blockquote>
<p>æ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„ç»„ä»¶ ğŸ‘‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Greeting</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, {props.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
}
</code></pre>
<p>ä½¿ç”¨æ—¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;Greeting <span class="hljs-attr">name</span>=<span class="hljs-string">"ç™½å…°åœ°"</span> /&gt;
</code></pre>
<p>å¾ˆå¤šäººåˆ°è¿™é‡Œå°±åœäº†ï¼Œä½†é—®é¢˜æ˜¯ï¼š</p>
<blockquote>
<p>â“<code>name</code> åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
</blockquote>
<p>ç­”æ¡ˆæ˜¯ï¼š</p>
<blockquote>
<p><strong>name ä¸æ˜¯å˜é‡ï¼Œæ˜¯ç»„ä»¶å¯¹å¤–æš´éœ²çš„èƒ½åŠ›ã€‚</strong></p>
</blockquote>
<p>Props æœ¬è´¨ä¸Šæ˜¯ï¼š</p>
<ul>
<li>çˆ¶ç»„ä»¶ ğŸ‘‰ å­ç»„ä»¶çš„<strong>è¾“å…¥</strong></li>
<li>ç»„ä»¶ä½œè€… ğŸ‘‰ ä½¿ç”¨è€…çš„<strong>çº¦å®š</strong></li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€Props è§£æ„ï¼šä¸æ˜¯è¯­æ³•ç³–ï¼Œè€Œæ˜¯â€œè®¾è®¡å£°æ˜â€</h2>
<p>å¯¹æ¯”ä¸¤ç§å†™æ³• ğŸ‘‡</p>
<h3 data-id="heading-2">âŒ ä¸æ¨è</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Greeting</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, {props.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-3">âœ… æ¨è</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Greeting</span>(<span class="hljs-params">{ name }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, {name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
}
</code></pre>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p><strong>è§£æ„ä¸æ˜¯ä¸ºäº†å°‘å†™å­—ï¼Œè€Œæ˜¯ä¸ºäº†è¡¨è¾¾æ„å›¾ã€‚</strong></p>
</blockquote>
<p>å½“ä½ çœ‹åˆ°å‡½æ•°ç­¾åï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Greeting</span>(<span class="hljs-params">{ name, message, showIcon }</span>) {}
</code></pre>
<p>ä½ ç«‹åˆ»å°±çŸ¥é“ï¼š</p>
<ul>
<li>è¿™ä¸ªç»„ä»¶â€œéœ€è¦ä»€ä¹ˆâ€</li>
<li>ç»„ä»¶çš„â€œè¾“å…¥è¾¹ç•Œâ€åœ¨å“ªé‡Œ</li>
</ul>
<p>ğŸ‘‰ <strong>å¥½çš„ç»„ä»¶ï¼Œä»å‡½æ•°ç­¾åå°±èƒ½è¯»æ‡‚ã€‚</strong></p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€Props é»˜è®¤å€¼ï¼šç»„ä»¶â€œå¥å£®æ€§â€çš„ç¬¬ä¸€æ­¥</h2>
<p>çœ‹è¿™ä¸ªç»„ä»¶ ğŸ‘‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Greeting</span>(<span class="hljs-params">{ name, message }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, {name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{message}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>å¦‚æœä½¿ç”¨è€…è¿™ä¹ˆå†™ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;Greeting <span class="hljs-attr">name</span>=<span class="hljs-string">"ç©ºç“¶"</span> /&gt;
</code></pre>
<p>ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p><code>message === undefined</code></p>
</blockquote>
<p>è¿™æ—¶å€™å°±è½®åˆ° <strong>é»˜è®¤å€¼</strong> å‡ºåœºäº†ã€‚</p>
<hr/>
<h3 data-id="heading-5">æ–¹å¼ä¸€ï¼šdefaultPropsï¼ˆç»å…¸ï¼‰</h3>
<pre><code class="hljs language-css" lang="css">Greeting<span class="hljs-selector-class">.defaultProps</span> = {
  message: <span class="hljs-string">'Welcome!'</span>
}
</code></pre>
<h3 data-id="heading-6">æ–¹å¼äºŒï¼šè§£æ„é»˜è®¤å€¼ï¼ˆæ›´æ¨èï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Greeting</span>(<span class="hljs-params">{ name, message = <span class="hljs-string">'Welcome!'</span> }</span>) {}
</code></pre>
<blockquote>
<p>ğŸ’¡<strong>é»˜è®¤å€¼ä¸æ˜¯å…œåº•ï¼Œè€Œæ˜¯ç»„ä»¶è®¾è®¡çš„ä¸€éƒ¨åˆ†ã€‚</strong></p>
</blockquote>
<p>å®ƒä»£è¡¨çš„æ˜¯ï¼š</p>
<ul>
<li>â€œåœ¨ä½ ä¸é…ç½®çš„æƒ…å†µä¸‹â€</li>
<li>â€œç»„ä»¶åº”è¯¥è¡¨ç°æˆä»€ä¹ˆæ ·â€</li>
</ul>
<hr/>
<h2 data-id="heading-7">å››ã€Props ç±»å‹æ ¡éªŒï¼šç»„ä»¶çš„â€œè‡ªè¯´æ˜æ–‡æ¡£â€</h2>
<p>æ¥çœ‹ä¸€æ®µå¾ˆå¤šäººå¿½ç•¥ã€ä½†éå¸¸å€¼é’±çš„ä»£ç  ğŸ‘‡</p>
<pre><code class="hljs language-csharp" lang="csharp">import PropTypes <span class="hljs-keyword">from</span> <span class="hljs-string">'prop-types'</span>

Greeting.propTypes = {
  name: PropTypes.<span class="hljs-built_in">string</span>.isRequired,
  message: PropTypes.<span class="hljs-built_in">string</span>,
  showIcon: PropTypes.<span class="hljs-built_in">bool</span>,
}
</code></pre>
<p>å¾ˆå¤šäººä¼šè¯´ï¼š</p>
<blockquote>
<p>â€œè¿™ä¸æ˜¯å¯æœ‰å¯æ— å—ï¼Ÿâ€</p>
</blockquote>
<p>ä½†åœ¨çœŸå®é¡¹ç›®é‡Œï¼Œå®ƒè§£å†³çš„æ˜¯ï¼š</p>
<ul>
<li>âŒ å‚æ•°ä¼ é”™æ²¡äººå‘ç°</li>
<li>âŒ æ–°äººä¸çŸ¥é“ç»„ä»¶æ€ä¹ˆç”¨</li>
<li>âŒ ç»„ä»¶ä¸€å¤šï¼Œå…¨é çŒœ</li>
</ul>
<hr/>
<h3 data-id="heading-8">ğŸ” PropTypes çš„çœŸæ­£ä»·å€¼</h3>
<blockquote>
<p><strong>ä¸æ˜¯é˜² bugï¼Œè€Œæ˜¯â€œé™ä½ç†è§£æˆæœ¬â€ã€‚</strong></p>
</blockquote>
<p>å½“ä½ çœ‹åˆ° propTypesï¼Œå°±ç­‰äºçœ‹åˆ°ä¸€ä»½è¯´æ˜ä¹¦ï¼š</p>
<ul>
<li>å“ªäº› props å¿…é¡»ä¼ ï¼Ÿ</li>
<li>å“ªäº›æ˜¯å¯é€‰ï¼Ÿ</li>
<li>ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ</li>
</ul>
<p>ğŸ‘‰ <strong>ä¸€ä¸ªæ²¡æœ‰ propTypes çš„é€šç”¨ç»„ä»¶ï¼Œæœ¬è´¨ä¸Šæ˜¯â€œé»‘ç›’â€ã€‚</strong></p>
<hr/>
<h2 data-id="heading-9">äº”ã€childrenï¼šReact Props ç³»ç»Ÿçš„â€œç‹ç‚¸â€</h2>
<p>å¦‚æœåªèƒ½é€‰ä¸€ä¸ª Props æœºåˆ¶ï¼Œæˆ‘ä¼šæ¯«ä¸çŠ¹è±«é€‰ï¼š</p>
<blockquote>
<p>ğŸ§¨ <strong>children</strong></p>
</blockquote>
<p>æ¥çœ‹ä¸€ä¸ª Card ç»„ä»¶ ğŸ‘‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Card</span> = (<span class="hljs-params">{ children, className = <span class="hljs-string">''</span> }</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">card</span> ${<span class="hljs-attr">className</span>}`}&gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>ä½¿ç”¨æ—¶ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Card</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"user-card"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¼ ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æŸ¥çœ‹è¯¦æƒ…<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
</code></pre>
<p>è¿™é‡Œå‘ç”Ÿäº†ä¸€ä»¶éå¸¸é‡è¦çš„äº‹æƒ…ï¼š</p>
<blockquote>
<p><strong>ç»„ä»¶ä¸å†å…³å¿ƒâ€œå†…å®¹æ˜¯ä»€ä¹ˆâ€ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-10">ğŸ§  children çš„è®¾è®¡å“²å­¦</h3>
<blockquote>
<p><strong>ç»„ä»¶è´Ÿè´£â€œéª¨æ¶â€ï¼Œä½¿ç”¨è€…è´Ÿè´£â€œå¡«å……â€ã€‚</strong></p>
</blockquote>
<ul>
<li>Card åªè´Ÿè´£ï¼šè¾¹æ¡†ã€é˜´å½±ã€é—´è·</li>
<li>children å†³å®šï¼šå±•ç¤ºä»€ä¹ˆå†…å®¹</li>
</ul>
<p>è¿™è®©ç»„ä»¶å…·å¤‡äº†ä¸¤ä¸ªç‰¹æ€§ï¼š</p>
<ul>
<li>âœ… é«˜åº¦å¤ç”¨</li>
<li>âœ… æ°¸ä¸è¿‡æœŸ</li>
</ul>
<hr/>
<h2 data-id="heading-11">å…­ã€children + Props = é€šç”¨ç»„ä»¶çš„ç»ˆæå½¢æ€</h2>
<p>å†çœ‹ä¸€ä¸ªæ›´é«˜çº§çš„ä¾‹å­ï¼šModal ğŸ‘‡</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Modal</span> <span class="hljs-attr">HeaderComponent</span>=<span class="hljs-string">{MyHeader}</span> <span class="hljs-attr">FooterComponent</span>=<span class="hljs-string">{MyFooter}</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªå¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½ å¯ä»¥åœ¨è¿™é‡Œæ˜¾ç¤ºä»»ä½• JSX<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span>
</code></pre>
<p>Modal çš„å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Modal</span>(<span class="hljs-params">{ HeaderComponent, FooterComponent, children }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HeaderComponent</span> /&gt;</span>
      {children}
      <span class="hljs-tag">&lt;<span class="hljs-name">FooterComponent</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>è¿™èƒŒåæ˜¯ä¸€ä¸ªéå¸¸é«˜çº§çš„æ€æƒ³ï¼š</p>
<blockquote>
<p><strong>Props ä¸åªæ˜¯æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»„ä»¶ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-12">ä¸ƒã€è¯·è®°ä½è¿™ 5 æ¡ Props è®¾è®¡é“å¾‹</h2>
<blockquote>
<p>ğŸ”¥ å¦‚æœä½ åªèƒ½è®°ä½ä¸€æ®µè¯ï¼Œè¯·è®°ä½è¿™é‡Œ</p>
</blockquote>
<ol>
<li>Props æ˜¯ç»„ä»¶çš„â€œå¯¹å¤–æ¥å£â€ï¼Œä¸æ˜¯éšä¾¿ä¼ çš„å˜é‡</li>
<li>è§£æ„ Propsï¼Œæ˜¯åœ¨å£°æ˜ç»„ä»¶çš„èƒ½åŠ›è¾¹ç•Œ</li>
<li>é»˜è®¤å€¼ï¼Œå†³å®šç»„ä»¶çš„â€œåŸºç¡€ä½“éªŒâ€</li>
<li>ç±»å‹æ ¡éªŒï¼Œè®©ç»„ä»¶è‡ªå¸¦è¯´æ˜ä¹¦</li>
<li>childrenï¼Œè®©ç»„ä»¶ä»â€œå¯ç”¨â€å˜æˆâ€œå¥½ç”¨â€</li>
</ol>
<hr/>
<h2 data-id="heading-13">å…«ã€å†™åœ¨æœ€å</h2>
<p>å½“ä½ çœŸæ­£ç†è§£ Props ä¹‹åï¼Œä½ ä¼šå‘ç°ï¼š</p>
<ul>
<li>React ä¸åªæ˜¯ UI åº“</li>
<li>å®ƒåœ¨æ•™ä½ <strong>å¦‚ä½•è®¾è®¡ API</strong></li>
<li>å¦‚ä½•è®©åˆ«äººâ€œç”¨å¾—çˆ½â€</li>
</ul>
<blockquote>
<p><strong>Props å†™å¾—å¥½ä¸å¥½ï¼Œå†³å®šäº†ä¸€ä¸ªäºº React æ°´å¹³çš„ä¸Šé™ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonç¯å¢ƒå®‰è£…]]></title>    <link>https://juejin.cn/post/7586493936677732392</link>    <guid>https://juejin.cn/post/7586493936677732392</guid>    <pubDate>2025-12-22T15:16:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936677732392" data-draft-id="7586493936677716008" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonç¯å¢ƒå®‰è£…"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:16:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æ³¥ç§è·èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289442030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonç¯å¢ƒå®‰è£…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289442030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æ³¥ç§è·èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:16:34.000Z" title="Mon Dec 22 2025 15:16:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Anacondaï¼šå¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†</h2>
<h3 data-id="heading-1">ä¸€ã€ä¸‹è½½æ¸ é“é€‰æ‹©ï¼šä¼˜å…ˆé•œåƒæºï¼Œè§„é¿å®˜æ–¹ç—›ç‚¹</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anaconda.com%2Fdownload%2Fsuccess" target="_blank" title="https://www.anaconda.com/download/success" ref="nofollow noopener noreferrer">Anaconda å®˜æ–¹ä¸‹è½½</a>å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>éœ€ç™»å½•è´¦å·æ‰èƒ½ä¸‹è½½ï¼›</li>
<li>æœåŠ¡å™¨åœ¨å¢ƒå¤–ï¼Œä¸‹è½½æ…¢ã€‚</li>
</ol>
<p><strong>æ¨èä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmirrors.tuna.tsinghua.edu.cn%2Fanaconda%2Farchive%2F" target="_blank" title="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/" ref="nofollow noopener noreferrer">æ¸…åé•œåƒæº</a></strong>ï¼Œæ— éœ€ç™»å½•ï¼Œä¸‹è½½å¿«ã€‚</p>
<h3 data-id="heading-2">äºŒã€ç‰ˆæœ¬é€‰æ‹©å…³é”®ï¼šä»¥å‘å¸ƒæ—¥æœŸä¸ºå‡†ï¼Œä¼˜å…ˆæœ€æ–°ç‰ˆ</h3>
<p>æ³¨æ„ï¼šä¸è¦é€‰ç½‘é¡µæœ€åº•éƒ¨ç‰ˆæœ¬ï¼Œéœ€æŒ‰ã€Œå‘å¸ƒæ—¥æœŸã€é€‰æœ€æ–°ç‰ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8abfa762ea74bdfb015f629cd3d45ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5rOl56eN6I236Iqx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767021393&amp;x-signature=mPosae3%2FVJ%2F9in9BvWROqqptRJE%3D" alt="" loading="lazy"/></p>
<p>æ ¸å¿ƒï¼šä»¥å‘å¸ƒæ—¥æœŸåˆ¤æ–­ç‰ˆæœ¬ï¼Œä¼˜å…ˆæœ€æ–°ç‰ˆï¼Œé¿å…æ—§ç‰ˆå…¼å®¹æ€§é”™è¯¯ã€å®‰è£…å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€æ§åˆ¶å°ä½¿ç”¨å‰ç½®ï¼šé…ç½®ç¯å¢ƒå˜é‡</h3>
<p>Anaconda å®‰è£…åéœ€é…ç½®ç¯å¢ƒå˜é‡ï¼Œå¦åˆ™æ— æ³•ç›´æ¥ä½¿ç”¨ conda å‘½ä»¤ã€‚</p>
<h4 data-id="heading-4">3.1 ç¯å¢ƒå˜é‡é…ç½®æ­¥éª¤</h4>
<ol>
<li>è¿›å…¥ï¼šè®¾ç½® â†’ ç³»ç»Ÿ â†’ å…³äº â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡ã€‚</li>
<li>ç¼–è¾‘ Path å˜é‡ï¼Œæ–°å¢ç¯å¢ƒå˜é‡è·¯å¾„ã€‚</li>
<li>ä¿å­˜ï¼Œé‡å¯æ§åˆ¶å°ç”Ÿæ•ˆã€‚</li>
</ol>
<h4 data-id="heading-5">3.2 é»˜è®¤ç¯å¢ƒå˜é‡è·¯å¾„ï¼ˆå‚è€ƒï¼‰</h4>
<p>é»˜è®¤è·¯å¾„ï¼ˆéœ€æ ¹æ®å®é™…å®‰è£…ç›®å½•è°ƒæ•´ï¼‰ï¼š</p>
<pre><code class="hljs language-text" lang="text">C:\ProgramData\anaconda3
C:\ProgramData\anaconda3\Scripts
C:\ProgramData\anaconda3\Library\bin
</code></pre>
<h4 data-id="heading-6">3.3 å®‰è£…ä¸é…ç½®éªŒè¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æµ‹æ˜¯å¦æ­£ç¡®å®‰è£…conda</span>
conda --version 
</code></pre>
<blockquote>
<p>æç¤ºï¼šè‹¥æç¤ºâ€œconda ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤â€ï¼Œæ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®æˆ–é‡å¯æ§åˆ¶å°ã€‚</p>
</blockquote>
<h2 data-id="heading-7">uvï¼šæ–°ä¸€ä»£é«˜æ€§èƒ½PythonåŒ…ç®¡ç†å™¨</h2>
<p>uv ç”± Astral å…¬å¸åŸºäº Rust å¼€å‘ï¼Œå…¼å®¹ pip ä½¿ç”¨ä¹ æƒ¯ï¼Œæ ¸å¿ƒä¼˜åŠ¿ä¸º<strong>å®‰è£…é€Ÿåº¦æå¿«ã€å†…å­˜å ç”¨ä½ã€å†…ç½®è™šæ‹Ÿç¯å¢ƒç®¡ç†</strong>ï¼Œæ˜¯ pip/venv çš„é«˜æ•ˆæ›¿ä»£æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-8">ä¸€ã€å®‰è£…uvï¼šä¼˜å…ˆé•œåƒæºï¼Œè§„é¿ä¸‹è½½è¶…æ—¶</h3>
<p>ç›´æ¥ä»å®˜æ–¹æºå®‰è£…æ˜“å› ç½‘ç»œé—®é¢˜è¶…æ—¶ï¼Œæ¨èä½¿ç”¨å›½å†…é•œåƒæºï¼ŒWindows/macOS/Linux é€šç”¨ã€‚</p>
<h4 data-id="heading-9">1.1 é•œåƒæºå®‰è£…å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¸…åPyPIé•œåƒå®‰è£…ï¼ˆæ¨èï¼‰</span>
pip3 install uv -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<h4 data-id="heading-10">1.2 å®‰è£…éªŒè¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬å·ï¼Œæ­£å¸¸æ˜¾ç¤ºåˆ™å®‰è£…æˆåŠŸ</span>
uv --version
</code></pre>
<blockquote>
<p>æç¤ºï¼šè‹¥Windowsç³»ç»Ÿæç¤ºâ€œuv ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤â€ï¼Œéœ€æ£€æŸ¥Pythonçš„Scriptsç›®å½•ï¼ˆå¦‚C:\ProgramData\anaconda3\Scriptsï¼‰æ˜¯å¦åŠ å…¥ç¯å¢ƒå˜é‡ï¼Œæˆ–é‡å¯ç»ˆç«¯ã€‚</p>
</blockquote>
<h3 data-id="heading-11">äºŒã€é¡¹ç›®ä¸­ä½¿ç”¨uv</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆå§‹åŒ–é¡¹ç›®</span>
uv init project_demo
</code></pre>
<p>é…ç½®é¡¹ç›®uvé•œåƒé…ç½®ï¼Œé…ç½®<code>pyproject.toml</code>æ–‡ä»¶</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[project]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"project_demo"</span>
<span class="hljs-attr">version</span> = <span class="hljs-string">"0.1.0"</span>
<span class="hljs-attr">requires-python</span> = <span class="hljs-string">"&gt;=3.13"</span>

<span class="hljs-section">[tool.uv]</span>
<span class="hljs-attr">index-url</span> = <span class="hljs-string">"https://pypi.tuna.tsinghua.edu.cn/simple"</span>

</code></pre>
<h3 data-id="heading-12">ä¸‰ã€å¸¸è§é—®é¢˜è§£å†³</h3>
<h4 data-id="heading-13">3.1 å®‰è£…æ—¶æƒé™ä¸è¶³</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ========== æ–¹å¼1ï¼šä»…å½“å‰ç”¨æˆ·å®‰è£…ï¼ˆæ— éœ€ç®¡ç†å‘˜æƒé™ï¼‰ ==========</span>
<span class="hljs-comment"># ç‰¹ç‚¹ï¼šå®‰è£…åˆ°å½“å‰ç”¨æˆ·ä¸“å±ç›®å½•ï¼Œä¸å½±å“å…¶ä»–ç”¨æˆ·ï¼Œæ— éœ€ç®¡ç†å‘˜æƒé™</span>
<span class="hljs-comment"># æ³¨æ„ï¼šå®‰è£…åéœ€æ‰‹åŠ¨å°†ä¸Šè¿°è·¯å¾„æ·»åŠ åˆ°ã€Œç”¨æˆ·ç¯å¢ƒå˜é‡Pathã€ï¼Œå¦åˆ™æ— æ³•ç›´æ¥ä½¿ç”¨uvå‘½ä»¤</span>
pip3 install --user uv -i https://pypi.tuna.tsinghua.edu.cn/simple

<span class="hljs-comment"># ========== æ–¹å¼2ï¼šå…¨å±€å®‰è£…ï¼ˆæ‰€æœ‰ç”¨æˆ·å¯ç”¨ï¼Œæ¨èï¼‰ ==========</span>
<span class="hljs-comment"># ç‰¹ç‚¹ï¼šå®‰è£…åˆ°Pythonå…¨å±€ç›®å½•ï¼Œæ‰€æœ‰ç™»å½•è¯¥ç”µè„‘çš„ç”¨æˆ·å‡å¯ä½¿ç”¨ï¼Œéœ€ç®¡ç†å‘˜æƒé™</span>
<span class="hljs-comment"># å‰ç½®æ“ä½œï¼šå¿…é¡»å³é”®ã€Œå‘½ä»¤æç¤ºç¬¦ã€â†’ã€Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€åæ‰§è¡Œæ­¤å‘½ä»¤</span>
pip3 install uv -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<h2 data-id="heading-14">Ruffï¼šä»£ç æ ¼å¼åŒ–å·¥å…·</h2></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Andrej Karpathy:2025å¹´å¤§æ¨¡å‹å‘å±•æ€»ç»“]]></title>    <link>https://juejin.cn/post/7586491717873860627</link>    <guid>https://juejin.cn/post/7586491717873860627</guid>    <pubDate>2025-12-22T15:19:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586491717873860627" data-draft-id="7585502118459752467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Andrej Karpathy:2025å¹´å¤§æ¨¡å‹å‘å±•æ€»ç»“"/> <meta itemprop="keywords" content="GitHub,åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:19:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èµ›åšä¸œå“¥CyberFD"/> <meta itemprop="url" content="https://juejin.cn/user/4323692639162087"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Andrej Karpathy:2025å¹´å¤§æ¨¡å‹å‘å±•æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4323692639162087/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èµ›åšä¸œå“¥CyberFD
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:19:40.000Z" title="Mon Dec 22 2025 15:19:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e4eeee8cdc7439f805c86d3ae6e6b8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LWb5Y2a5Lic5ZOlQ3liZXJGRA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767021580&amp;x-signature=QHf8ELuCJNP9jnX0rHzMZAgEZFw%3D" alt="image.png" loading="lazy"/></p>
<p>2025 å¹´ï¼Œæ— ç–‘æ˜¯å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰é¢†åŸŸçš„ä¸€å¹´ï¼ŒæŠ€æœ¯è¿›å±•è¿…é€Ÿä¸”å……æ»¡å˜é©ã€‚ä»è®­ç»ƒæ–¹æ³•çš„åˆ›æ–°åˆ°å…¨æ–°åº”ç”¨å±‚æ¬¡çš„è¯ç”Ÿï¼Œè¡Œä¸šæ ¼å±€å‘ç”Ÿäº†æ·±åˆ»çš„å˜åŒ–ã€‚AI é¢†åŸŸç¬¬ä¸€ KOL <strong>Andrej Karpathy</strong> å‘è¡¨è‡ªå·±é’ˆå¯¹ 2025 å¹´ AI å‘å±•çš„å›é¡¾</p>
<p>æˆ‘å°†ä»æˆ‘ä¸ªäººè§’åº¦ï¼Œåˆ†ææ–‡ç« ä¸­æåˆ°çš„å…³é”®æŠ€æœ¯ã€è¶‹åŠ¿å’Œå®é™…åº”ç”¨ï¼Œè·Ÿç€ä¸€èµ·å›é¡¾ä¸€ä¸‹ 2025 å¹´çš„ AI ä¹‹è·¯</p>
<h3 data-id="heading-0">1. RLVRï¼šå¯éªŒè¯å¥–åŠ±ä¸‹çš„â€œæ¨ç†æ—¶åˆ»â€</h3>
<p>åœ¨ 2025 å¹´åˆï¼Œå¤§æ¨¡å‹çš„æ ‡å‡†ç”Ÿäº§çº¿è¿˜æ˜¯â€œé¢„è®­ç»ƒï¼ˆPretrainingï¼‰+ æŒ‡ä»¤å¾®è°ƒï¼ˆSFTï¼‰+ äººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼‰â€ã€‚è¿™å¥—æµç¨‹è™½ç„¶ç¨³å®šï¼Œä½†æ½œåŠ›å·²è¿‘è§¦é¡¶ã€‚</p>
<p>ä»Šå¹´ï¼Œ<strong>RLVRï¼ˆåŸºäºå¯éªŒè¯å¥–åŠ±çš„å¼ºåŒ–å­¦ä¹ ï¼‰</strong> Â æ­£å¼å…¥åœºï¼Œæˆä¸ºå¤§æ¨¡å‹è®­ç»ƒçš„æ–°æ ‡é…ã€‚é€šè¿‡åœ¨æ•°å­¦ã€ä»£ç ç­‰å…·å¤‡â€œå®¢è§‚çœŸç†æ ‡å‡†â€çš„ç¯å¢ƒä¸­è¿›è¡Œå¼ºåŒ–å­¦ä¹ ï¼Œæ¨¡å‹è‡ªå‘æ¼”åŒ–å‡ºäº†ç±»ä¼¼äººç±»çš„â€œæ¨ç†â€èƒ½åŠ›ã€‚å®ƒä»¬å­¦ä¼šäº†è‡ªæˆ‘çº é”™ã€æ­¥éª¤æ‹†è§£ä»¥åŠå¤šè·¯å¾„å°è¯•ã€‚</p>
<p><strong>æ ¸å¿ƒå˜åŒ–ï¼š</strong></p>
<ul>
<li><strong>DeepSeek R1 ä¸ OpenAI o1/o3</strong>Â è¯æ˜äº†è¿™ä¸€ç‚¹ï¼šæ¨ç†ä¸å†æ˜¯å•çº¯çš„æ–‡æœ¬æ¨¡ä»¿ï¼Œè€Œæ˜¯ä¼˜åŒ–ç›®æ ‡é©±åŠ¨ä¸‹çš„ç­–ç•¥å‘ç°ã€‚</li>
<li><strong>ç®—åŠ›åˆ†é…é‡æ„</strong>ï¼šè¿‡å»ç®—åŠ›ä¸»è¦å †åœ¨é¢„è®­ç»ƒé˜¶æ®µï¼Œç°åœ¨å¤§é‡ç®—åŠ›å‘ RLVR å€¾æ–œã€‚ä¸šå†…å‘ç°ï¼Œåœ¨å¯éªŒè¯é¢†åŸŸï¼ŒRL çš„æŠ•å…¥äº§å‡ºæ¯”ï¼ˆCapability/$ï¼‰æé«˜ã€‚</li>
<li><strong>æ–° Scaling Law</strong>ï¼šæˆ‘ä»¬æ‹¥æœ‰äº†ä¸€ä¸ªæ§åˆ¶æ¨¡å‹èƒ½åŠ›çš„æ–°æ—‹é’®â€”â€”<strong>æ¨ç†æ—¶ç®—åŠ›ï¼ˆTest-time computeï¼‰</strong> ã€‚é€šè¿‡å¢åŠ æ¨¡å‹çš„â€œæ€è€ƒæ—¶é—´â€ï¼Œæ€§èƒ½å¯ä»¥å®ç°éçº¿æ€§å¢é•¿ã€‚</li>
</ul>
<h3 data-id="heading-1">2. â€œå¬å”¤å¹½çµâ€è€Œéâ€œé©¯åŒ–åŠ¨ç‰©â€ï¼šå‚å·®ä¸é½çš„æ™ºèƒ½</h3>
<p>2025 å¹´ï¼Œæˆ‘ä»¬ç»ˆäºçœ‹æ¸…äº† AI æ™ºèƒ½çš„åº•è‰²ï¼šæˆ‘ä»¬ä¸æ˜¯åœ¨â€œå…»è‚²åŠ¨ç‰©â€ï¼Œè€Œæ˜¯åœ¨â€œå¬å”¤å¹½çµâ€ã€‚</p>
<p>äººç±»å¤§è„‘çš„è¿›åŒ–æ˜¯ä¸ºäº†åœ¨ä¸›æ—ä¸­ç”Ÿå­˜ï¼Œè€Œ LLM çš„ç¥ç»å…ƒæ˜¯ä¸ºäº†æ¨¡æ‹Ÿäººç±»æ–‡æœ¬ã€è§£å†³æ•°å­¦è°œé¢˜ã€åœ¨ LM Arena ä¸­åšå–äººç±»çš„å¥½æ„Ÿã€‚è¿™ç§å®Œå…¨ä¸åŒçš„åº•å±‚é€»è¾‘ï¼Œå¯¼è‡´äº†Â  <strong>â€œé”¯é½¿çŠ¶æ™ºèƒ½â€ï¼ˆJagged Intelligenceï¼‰</strong> Â çš„å‡ºç°ï¼šæ¨¡å‹å¯èƒ½åœ¨é‡å­ç‰©ç†é¢†åŸŸæ˜¯å¤©æ‰ï¼Œä½†åœ¨å¤„ç†ç®€å•çš„é€»è¾‘é™·é˜±æˆ–é˜²å¾¡è¶Šç‹±æ”»å‡»æ—¶ï¼Œå´åƒä¸ªå¿ƒæ™ºä¸å…¨çš„å°å­¦ç”Ÿã€‚</p>
<p><strong>å…³äº Benchmark çš„å¹»ç­ï¼š</strong> Â ç”±äº RLVR çš„æ™®åŠï¼Œåˆ·æ¦œï¼ˆBenchmaxxingï¼‰å˜å¾—ç©ºå‰ç®€å•ã€‚åªè¦ç¯å¢ƒå¯éªŒè¯ï¼Œæ¨¡å‹å°±èƒ½é€šè¿‡ RL å¿«é€Ÿè¦†ç›–è¿™äº›çŸ¥è¯†ç›²ç‚¹ã€‚</p>
<p>ç°åœ¨çš„å…±è¯†æ˜¯ï¼š<strong>é«˜åˆ†ä¸ä»£è¡¨ AGI</strong>ã€‚ä¸€äº›å®éªŒå®¤æ­£åœ¨é€šè¿‡åˆ¶é€ å¤§é‡åˆæˆæ•°æ®æ¥â€œä¿®å‰ªâ€è¿™äº›æ™ºèƒ½é”¯é½¿ï¼Œè¯•å›¾è®©æ¨¡å‹åœ¨æŸäº›ç‰¹å®šé¢†åŸŸå‘ˆç°å‡ºè¶…è¶Šå¸¸äººçš„ç»Ÿæ²»åŠ›ã€‚</p>
<h3 data-id="heading-2">3.Â <strong>Cursor ä¸ LLM åº”ç”¨çš„æ–°å±‚æ¬¡</strong></h3>
<p>Cursor çš„çˆ†å‘æ­ç¤ºäº†ä¸€ä¸ªæ®‹é…·ä½†æ¸…æ™°çš„ç°å®ï¼šçº¯åŒ…è£…ï¼ˆWrapperï¼‰æ²¡æœ‰æœªæ¥ï¼Œä½†<strong>æ·±åº¦å‚ç›´çš„ç¼–æ’å±‚ï¼ˆOrchestration Layerï¼‰</strong> å¤§æœ‰å¯ä¸ºã€‚</p>
<p>ç°åœ¨çš„å¼€å‘è€…ä¸å†åªæ˜¯è°ˆè®ºâ€œæ¥å…¥ APIâ€ï¼Œè€Œæ˜¯è®¨è®ºâ€œåšä¸€ä¸ª X è¡Œä¸šçš„ Cursorâ€ã€‚è¿™ç±»åº”ç”¨çš„æ ¸å¿ƒç«äº‰åŠ›åœ¨äºï¼š</p>
<ul>
<li><strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰</strong> ï¼šå¦‚ä½•æ›´ç²¾å‡†åœ°å–‚å…¥æ•°æ®ã€‚</li>
<li><strong>å¤æ‚ä»»åŠ¡ç¼–æ’</strong>ï¼šå°† LLM è°ƒç”¨ä¸²è”æˆå¤æ‚çš„ DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰ï¼Œåœ¨æ€§èƒ½ä¸æˆæœ¬é—´èµ°é’¢ä¸ã€‚</li>
<li><strong>åŸç”Ÿ GUI ä¸äº¤äº’</strong>ï¼šä¸å†ä»…ä»…æ˜¯å¯¹è¯æ¡†ï¼Œè€Œæ˜¯ä¸ºç‰¹å®šåœºæ™¯å®šåˆ¶çš„æ“ä½œç•Œé¢ã€‚</li>
<li><strong>è‡ªä¸»æƒæ»‘å—ï¼ˆAutonomy Sliderï¼‰</strong> ï¼šè®©ç”¨æˆ·åœ¨â€œè¾…åŠ©æ‰§è¡Œâ€ä¸â€œå…¨è‡ªåŠ¨ä»£ç†â€ä¹‹é—´è‡ªç”±åˆ‡æ¢ã€‚</li>
</ul>
<p>ä»äº§å“è§†è§’æ¥çœ‹ï¼Œå¤§æ¨¡å‹å‚å•†è´Ÿè´£äº¤ä»˜â€œé€šæ‰å¤§å­¦ç”Ÿâ€ï¼Œè€Œå‚ç›´ App è´Ÿè´£å°†è¿™äº›å¤§å­¦ç”Ÿç»„ç»‡æˆä¸“ä¸šçš„ã€å¯äº¤ä»˜ä¸šåŠ¡ä»·å€¼çš„â€œä¸“ä¸šå›¢é˜Ÿâ€ã€‚</p>
<h3 data-id="heading-3">4. Claude Codeï¼šå›å½’ Localhost çš„ Agent</h3>
<p>Claude Codeï¼ˆCCï¼‰çš„å‡ºç°ï¼Œç»™â€œä»€ä¹ˆæ‰æ˜¯çœŸæ­£çš„ Agentâ€æ‰“äº†ä¸ªæ ·ã€‚ä¸ OpenAI æ‰§ç€äºäº‘ç«¯å®¹å™¨ï¼ˆCloud-basedï¼‰çš„æ€è·¯ä¸åŒï¼ŒCC é€‰æ‹©è¿è¡Œåœ¨ç”¨æˆ·çš„<strong>æœ¬åœ°ç¯å¢ƒï¼ˆLocalhostï¼‰</strong> ã€‚</p>
<p>è¿™ç§â€œæ¥åœ°æ°”â€çš„åšæ³•è§£å†³äº†ä¸¤ä¸ªç—›ç‚¹ï¼š<strong>éšç§ä¸ä¸Šä¸‹æ–‡</strong>ã€‚</p>
<p>Agent å¯ä»¥ç›´æ¥è¯»å–ä½ çš„ç§æœ‰ä»£ç åº“ã€è°ƒç”¨æœ¬åœ°ç¼–è¯‘å™¨ã€æ„Ÿå—ä½ çš„å¼€å‘ç¯å¢ƒã€‚</p>
<p>å®ƒä¸å†æ˜¯æµè§ˆå™¨é‡Œä¸€ä¸ªå†°å†·çš„ç½‘é¡µï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œä½â€åœ¨ä½ ç”µè„‘é‡Œçš„<strong>æ•°å­—ç²¾çµ</strong>ï¼Œä¸ä½ å¹¶è‚©ä½œæˆ˜ã€‚è¿™æ ‡å¿—ç€ AI äº¤äº’èŒƒå¼çš„è½¬ç§»ï¼šä»â€œå»ä¸­å¿ƒåŒ–çš„äº‘æœåŠ¡â€å›å½’åˆ°â€œä¸ªæ€§åŒ–çš„æœ¬åœ°åŠ©æ‰‹â€ã€‚</p>
<h3 data-id="heading-4">5. Vibe Codingï¼šä»£ç çš„â€œå¿«æ¶ˆå“åŒ–â€</h3>
<p>2025 å¹´ï¼Œâ€œVibe Codingâ€ï¼ˆæ°›å›´æ„Ÿç¼–ç¨‹ï¼‰ä»ä¸€ä¸ªæ¨ç‰¹çƒ­æ¢—å˜æˆäº†ç°å®ã€‚ å½“ AI çš„ç”Ÿæˆèƒ½åŠ›è·¨è¿‡ä¸´ç•Œç‚¹ï¼Œç¼–ç¨‹çš„é—¨æ§›å´©å¡Œäº†ã€‚ä½ ä¸éœ€è¦ç²¾é€š Rust æˆ– C++ï¼Œåªè¦é€»è¾‘æ¸…æ™°ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€å°±èƒ½æŒ‡æŒ¥ AI ç¼–ç»‡å‡ºå¤æ‚çš„ç¨‹åºã€‚</p>
<p>è¿™å¸¦æ¥äº†è½¯ä»¶ç”Ÿäº§é€»è¾‘çš„å·¨å˜ï¼š</p>
<ul>
<li><strong>ä»£ç ä¸å†â€œæ˜‚è´µâ€</strong> ï¼šè¿‡å»å†™ä¸€ä¸ªå·¥å…·éœ€è¦æƒè¡¡ ROIï¼Œç°åœ¨ä»£ç æ˜¯å»‰ä»·çš„ã€ç¬æ—¶çš„ã€ç”¨å®Œå³å¼ƒçš„ã€‚</li>
<li><strong>äººäººéƒ½æ˜¯å¼€å‘è€…</strong>ï¼šè¿™ç§æŠ€æœ¯æ‰©æ•£è®©æ™®é€šäººçš„è·ç›Šè¿œè¶…ä¸“ä¸šäººå£«ï¼Œå®ƒæ‰“ç ´äº†æŠ€èƒ½å£å’ã€‚</li>
<li><strong>è½¯ä»¶åœ°è²Œé‡å¡‘</strong>ï¼šæˆ‘ä»¬ä¼šçœ‹åˆ°å¤§é‡â€œä¸€æ¬¡æ€§è½¯ä»¶â€æˆ–â€œæåº¦ä¸ªæ€§åŒ–è½¯ä»¶â€çš„è¯ç”Ÿã€‚</li>
</ul>
<h3 data-id="heading-5">6. Nano Banana ä¸ LLM çš„å›¾å½¢ç•Œé¢</h3>
<p>2025 å¹´ï¼Œ<strong>Google Gemini Nano Banana</strong> çš„æ¨å‡ºå±•ç¤ºäº† LLM çš„å¦ä¸€ä¸ªé©å‘½æ€§è¿›å±•ã€‚</p>
<p>åœ¨è¿‡å»çš„è®¡ç®—æœºå‘å±•å†ç¨‹ä¸­ï¼Œå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ä¸ºè®¡ç®—æœºæ“ä½œæä¾›äº†ç›´è§‚å’Œé«˜æ•ˆçš„äº¤äº’æ–¹å¼ã€‚åŒæ ·ï¼Œ</p>
<p>LLM çš„å›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰ä¹Ÿå¼€å§‹å´­éœ²å¤´è§’ï¼Œå‘ˆç°å‡ºå¤šç§å½¢å¼çš„äº’åŠ¨æ–¹å¼ï¼Œå¦‚å›¾åƒç”Ÿæˆã€ä¿¡æ¯å›¾è¡¨ã€å¹»ç¯ç‰‡å’Œè§†é¢‘ç­‰ã€‚è¿™ç§å›¾å½¢åŒ–çš„äº¤äº’æ¨¡å¼ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ›´åŠ è‡ªç„¶åœ°ä¸ LLM è¿›è¡Œäº’åŠ¨ã€‚</p>
<p><strong>Nano Banana</strong> çš„å‡ºç°åªæ˜¯è¿™ä¸€è¶‹åŠ¿çš„å¼€å§‹ï¼Œå®ƒé€šè¿‡å›¾åƒç”Ÿæˆã€æ–‡æœ¬ç”Ÿæˆå’ŒçŸ¥è¯†æ•´åˆçš„ç»“åˆï¼Œé¢„ç¤ºäº†æœªæ¥ LLM å›¾å½¢ç•Œé¢å¯èƒ½çš„å¤šæ ·æ€§ã€‚</p>
<p>æœ€ç»ˆï¼ŒLLM å¯èƒ½ä¸å†ä»…ä»…æ˜¯é€šè¿‡æ–‡æœ¬è¾“å…¥æ¥è¿›è¡Œäº¤äº’ï¼Œè€Œæ˜¯é€šè¿‡æ›´åŠ ç›´è§‚å’Œè§†è§‰åŒ–çš„æ–¹å¼ä¸ç”¨æˆ·æ²Ÿé€šã€‚</p>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>2025 å¹´å¯¹äº LLM é¢†åŸŸæ¥è¯´ï¼Œæ˜¯å……æ»¡å˜é©çš„ä¸€å¹´ã€‚ä»Â <strong>RLVR</strong> çš„å¼•å…¥åˆ°Â <strong>Vibe Coding</strong> çš„æ™®åŠï¼Œä»<strong>æœ¬åœ° AI Agent</strong> åˆ°Â <strong>LLM åº”ç”¨çš„å±‚æ¬¡åŒ–å‘å±•</strong>ï¼ŒæŠ€æœ¯çš„æ¯ä¸€æ¬¡çªç ´éƒ½ä¸ºæœªæ¥çš„äººå·¥æ™ºèƒ½å‘å±•å¥ å®šäº†æ›´æ·±çš„åŸºç¡€ã€‚è™½ç„¶ LLM çš„èƒ½åŠ›å·²ç»å–å¾—äº†æ˜¾è‘—è¿›å±•ï¼Œä½†ä»æŠ€æœ¯çš„æ·±åº¦å’Œå®é™…åº”ç”¨çš„å¹¿åº¦æ¥çœ‹ï¼ŒLLM é¢†åŸŸä»ç„¶æœ‰ç€å·¨å¤§çš„å‘å±•ç©ºé—´ã€‚åœ¨æœªæ¥ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æœŸå¾…æŠ€æœ¯è¿›æ­¥çš„åŠ é€Ÿï¼Œè¿˜å°†è§è¯ AI ä¸æˆ‘ä»¬çš„ç”Ÿæ´»ã€å·¥ä½œæ–¹å¼æ›´åŠ ç´§å¯†åœ°èåˆã€‚</p>
<h3 data-id="heading-7">æœ€åï¼Œè°ˆè°ˆå¯¹ AI äº§å“è½åœ°çš„å¯å‘</h3>
<ol>
<li><strong>ä»â€œå¯¹è¯æ¡†â€æ€ç»´è½¬å‘â€œAgent ç¼–æ’â€æ€ç»´</strong>ï¼šä¸è¦å†æ‰§ç€äºå¦‚ä½•è°ƒä¼˜ Prompt è®©æ¨¡å‹å›ç­”å¾—æ›´å¥½ï¼Œè€Œè¦æ€è€ƒå¦‚ä½•æ„å»ºä¸€å¥—é—­ç¯çš„åé¦ˆç¯å¢ƒï¼ˆVerifiable Environmentï¼‰ï¼Œåˆ©ç”¨ RL çš„æ€è·¯è®©æ¨¡å‹åœ¨ç‰¹å®šä¸šåŠ¡åœºæ™¯ä¸‹è¿›è¡Œâ€œè‡ªæˆ‘è¿›åŒ–â€ï¼Œä¸ä¸€å®šæ˜¯æŠ€æœ¯ä¸Šé—­ç¯ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸šåŠ¡ä¸Šçš„é—­ç¯ï¼Œåªè¦èƒ½æŒç»­æ¨åŠ¨ Agent åº”ç”¨è¿­ä»£è¿›æ­¥ã€‚</li>
<li><strong>æŠ“ä½â€œæœ¬åœ°åŒ–ä¸Šä¸‹æ–‡â€çš„æœºä¼š</strong>ï¼šClaude Code çš„æˆåŠŸæé†’æˆ‘ä»¬ï¼ŒçœŸæ­£çš„æ€æ‰‹çº§ Agent å¯èƒ½ä¸éœ€è¦è·‘åœ¨äº‘ç«¯ï¼Œè€Œæ˜¯éœ€è¦æ·±åº¦åµŒå…¥ç”¨æˆ·çš„å·¥ä½œæµå’Œæœ¬åœ°æ•°æ®ã€‚ç§åŸŸæ•°æ®å’Œæœ¬åœ°ç¯å¢ƒçš„æ“ä½œæƒï¼Œæ˜¯å¯¹æŠ—å¤§æ¨¡å‹å‚å•†â€œæ”¶å‰²â€çš„æŠ¤åŸæ²³ã€‚</li>
<li><strong>é‡æ–°å®šä¹‰è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šå¦‚æœä»£ç å·²ç»å˜æˆâ€œç¬æ—¶ä¸”å…è´¹â€çš„èµ„æºï¼Œæˆ‘ä»¬çš„é‡å¿ƒåº”ä»â€œå¦‚ä½•äº¤ä»˜ç¨³å®šçš„åŠŸèƒ½â€è½¬å‘â€œå¦‚ä½•æä¾›æ›´ç²¾å‡†çš„äº¤äº’æ„å›¾ç†è§£â€ã€‚åœ¨ Vibe Coding æ—¶ä»£ï¼Œ<strong>å®¡ç¾ã€é€»è¾‘æŠ½è±¡èƒ½åŠ›å’Œå¯¹ç”¨æˆ·ç—›ç‚¹çš„æ´å¯Ÿ</strong>ï¼Œæ¯”å·¥ç¨‹å®ç°èƒ½åŠ›æ›´é‡è¦ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0b370270b274e06b06f33b50df1e1aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LWb5Y2a5Lic5ZOlQ3liZXJGRA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767021580&amp;x-signature=mwZac1G6k4%2Bay8%2FMRzTIEtT700I%3D" alt="Gemini_Generated_Image_1vsa881vsa881vsa.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ç³Ÿç³•ï¼Œæˆ‘å®ç°çš„k8s informerå¥½åƒæ˜¯ä¾æ‰˜ç­”è¾©]]></title>    <link>https://juejin.cn/post/7586493936677748776</link>    <guid>https://juejin.cn/post/7586493936677748776</guid>    <pubDate>2025-12-22T15:26:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936677748776" data-draft-id="7586452779713757199" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ç³Ÿç³•ï¼Œæˆ‘å®ç°çš„k8s informerå¥½åƒæ˜¯ä¾æ‰˜ç­”è¾©"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:26:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ‰æ€åº¦çš„ä¸‹ç­‰é©¬"/> <meta itemprop="url" content="https://juejin.cn/user/448256476727662"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ç³Ÿç³•ï¼Œæˆ‘å®ç°çš„k8s informerå¥½åƒæ˜¯ä¾æ‰˜ç­”è¾©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/448256476727662/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ‰æ€åº¦çš„ä¸‹ç­‰é©¬
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:26:00.000Z" title="Mon Dec 22 2025 15:26:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ğŸ’¡ ç³Ÿç³•ï¼Œk8s informeræˆ‘å¥½åƒæ‹‰ä¸€å¨å¤§çš„</p>
<p>è¿‘æ®µæ—¶é—´åœ¨åšäº‘åŸç”ŸAIç®—åŠ›å¹³å°ï¼Œä¹‹å‰æåˆ°ä½¿ç”¨k8s informeræœºåˆ¶ç®¡æ§å¤šæ¸ é“æäº¤çš„è®­ç»ƒä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef3cb59b054145cdb776d48bbb1bc73b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=IaCER33kcRxWBnOwtOQTv66DDC8%3D" alt="" loading="lazy"/></p>
<p>ä¸Šé¢ç¬¬4ç‚¹ï¼š</p>
<p>informerä¼šç›‘å¬é€šè¿‡cliå’Œç½‘é¡µportalæäº¤çš„jobï¼Œ å›æ˜¾åˆ°portalå¹³å°ï¼Œå¹¶åœ¨jobå‘ç”ŸçŠ¶æ€å˜æ›´æ—¶é€šçŸ¥ç”¨æˆ·ã€‚</p>
<h2 data-id="heading-0">1. informeræ˜¯å®ç°å£°æ˜å¼controllerè®¾è®¡çš„æ ¸å¿ƒ</h2>
<p>k8sé‡‡ç”¨å£°æ˜å¼è®¾è®¡ï¼Œ ä»¥ç»“æœä¸ºå¯¼å‘ï¼Œ å®ç°è¿™ä¸€å…³é”®èƒ½åŠ›çš„ç»„ä»¶æ˜¯k8så„ç§controllerï¼š</p>
<p>å®šä¹‰æŸå¯¹è±¡çš„æœŸæœ›çŠ¶æ€ï¼Œå®æ—¶ç›‘æ§å¹¶è¾¾æˆè¿™ä¸ªçŠ¶æ€ï¼ˆè°ƒè°Reconcileï¼‰ å°±æ˜¯æ§åˆ¶å™¨åšçš„äº‹æƒ…ï¼Œ No signal was sent. No webhook firedã€‚</p>
<p>informeræ˜¯k8s client-goåº“çš„ä¸€éƒ¨åˆ†ï¼š</p>
<ul>
<li>â‘  ç›‘å¬èµ„æº</li>
<li>â‘¡å¹¶æœ¬åœ°ç¼“å­˜</li>
<li>â‘¢é€šçŸ¥ä¸Šå±‚åº”ç”¨å‘ç”Ÿäº†ä¸€äº›äº‹ä»¶ï¼ˆjobåˆ›å»ºã€job pendingã€jobè¿è¡Œã€jobå®Œæˆ/å¤±è´¥ï¼‰</li>
</ul>
<p>å‡å°‘äº†apiserverçš„è°ƒç”¨æµé‡ã€ä¼˜åŒ–æ€§èƒ½ã€ååº”å¼è‡ªåŠ¨åŒ–è¿ç»´  ï¼ˆæˆ‘å½“å‰çš„éœ€æ±‚æœ‰ç‚¹ç±»ä¼¼äºååº”å¼è‡ªåŠ¨åŒ–è¿ç»´ğŸ˜„ï¼‰ã€‚</p>
<h2 data-id="heading-1">2. informeræ ¸å¿ƒä½¿ç”¨æµç¨‹</h2>
<p>è¿è¡Œä¸€ä¸ªå®Œæ•´çš„informerï¼š list ---&gt; watch ---&gt; cache---&gt; reactã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/476a993690e64441820c0ba4081ff831~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=ywCbAvZ%2FlkWNsTS5lpGUurHsMLI%3D" alt="" loading="lazy"/></p>
<p>â‘  ä»apiserveræ‹‰å–æŒ‡å®šçš„gvrèµ„æº, å½¢æˆé¦–æ¬¡èµ„æºå¿«ç…§</p>
<p>â‘¡ æŒç»­ç›‘å¬èµ„æºçš„å˜æ›´äº‹ä»¶è¿›deltaFIFOé˜Ÿåˆ—ï¼Œè¿™é‡Œæ˜¯é€šè¿‡HTTP/1.1 çš„<code>Chunked Transfer Encoding</code>ï¼ˆåˆ†å—ä¼ è¾“ç¼–ç ï¼‰æ¥å®ç°çš„</p>
<p>â‘¢ é€šè¿‡ä¸Šè¿°â‘ â‘¡ä¸¤æ­¥å¾—åˆ°èµ„æºçš„æœ€æ–°çŠ¶æ€å¹¶ç¼“å­˜ï¼Œæ³¨æ„ï¼Œç¼“å­˜çš„æ˜¯èµ„æºå¯¹è±¡ï¼Œè€Œä¸æ˜¯èµ„æºå˜æ›´äº‹ä»¶ï¼Œ å¦å¤–æ˜¯çº¿ç¨‹å®‰å…¨çš„å­˜å‚¨ã€‚</p>
<p>â‘£ äº‹ä»¶å¤„ç†ï¼Œåº”ç”¨åœ¨ä¸šåŠ¡å±‚é¢çš„åŠ¨ä½œï¼Œå¯ä»¥å†™æ—¥å¿—ï¼Œå¯ä»¥åšcontrollerçš„ReconcileåŠ¨ä½œã€‚</p>
<p>å¼€å‘è€…ä¸»è¦è€ƒé‡åœ¨<code>reactï¼ˆEventHandlerï¼‰</code>é˜¶æ®µï¼Œå…¶ä½™èƒ½åŠ›client-go sdkä¼šæä¾›ã€‚</p>
<p>apiserver--&gt;reflector(æ‹‰å–/ç›‘å¬)--&gt;DeltaFiFO(é˜Ÿåˆ—)--&gt; Processï¼ˆå¤„ç†ï¼‰--&gt;Handlerï¼ˆç”¨æˆ·ä»£ç ï¼‰</p>
<h3 data-id="heading-2">2.1 Watchæœºåˆ¶ï¼š chunked transfer encoding</h3>
<p>åˆ†å—ä¼ è¾“èƒ½åŠ›æ˜¯http1.1 å¸¸è§åŠŸèƒ½ï¼Œä¸éœ€è¦åƒwebsocketé‚£æ ·å‡çº§åè®®åˆ°å¸§æ ¼å¼ï¼Œhttpè¿æ¥ä¸­æ¯ä¸ªäº‹ä»¶æ˜¯ç‹¬ç«‹çš„ï¼Œç›´åˆ°è¿æ¥å…³é—­ã€‚</p>
<p>è¯·æ±‚spiserveræ—¶æŸ¥è¯¢å‚æ•°åŠ ä¸Š<code>watch=true</code>, ä¼šæç¤ºæœåŠ¡å™¨æœ¬æ¬¡æ˜¯ç›‘å¬è¯·æ±‚
å“åº”æ ¸å¿ƒç‰¹å¾æ˜¯å“åº”å¤´åŒ…å«<code>Transfer-Encoding: chunked</code></p>
<p>éªŒè¯</p>
<pre><code class="hljs language-ini" lang="ini">ç»ˆç«¯1ï¼škubectl proxy <span class="hljs-attr">--port</span>=<span class="hljs-number">8081</span>  ï¼š åœ¨ä¸»æœºä¸Š<span class="hljs-number">8081</span>ç«¯å£ä»£ç†aiserveræœåŠ¡

ç»ˆç«¯2ï¼š curl "http://localhost:8081/api/v1/namespaces/team-a/pods?<span class="hljs-attr">watch</span>=<span class="hljs-literal">true</span><span class="hljs-string">"  --verbose
</span></code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0446b2f795744d23bc2aae0bd08b379e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=ZFqBrnPN3X7na%2Fros5xmpWAtf7I%3D" alt="" loading="lazy"/></p>
<p>åœ¨client-go sdkä¸­ä¼šä¸ºinformer watchå»ºç«‹ç¨³å®šçš„é•¿è¿æ¥ï¼ˆæ–­çº¿é‡è¿ã€é‡è¯•ç­‰ï¼‰</p>
<h2 data-id="heading-3">3. ä¸€ä¸ªå¸¸è§„çš„informerå®è·µ</h2>
<p>åˆ©ç”¨kubeconfigåˆ›å»ºinformerï¼ˆç»‘å®šgvrï¼‰ï¼Œ å¯åŠ¨informerï¼ˆå¸¦ç»ˆæ­¢ä¿¡é“ï¼‰</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"time"</span>

	v1 <span class="hljs-string">"k8s.io/api/core/v1"</span>
	<span class="hljs-string">"k8s.io/apimachinery/pkg/fields"</span>
	<span class="hljs-string">"k8s.io/client-go/kubernetes"</span>
	<span class="hljs-string">"k8s.io/client-go/tools/cache"</span>
	<span class="hljs-string">"k8s.io/client-go/tools/clientcmd"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	config, _ := clientcmd.BuildConfigFromFlags(<span class="hljs-string">""</span>, <span class="hljs-string">"/home/user/.kube/config"</span>)
	clientset, _ := kubernetes.NewForConfig(config)

	podInformer := cache.NewSharedIndexInformer(
		cache.NewListWatchFromClient(
			clientset.CoreV1().RESTClient(),
			<span class="hljs-string">"pods"</span>,
			v1.NamespaceAll,
			fields.Everything(),
		),
		&amp;v1.Pod{},
		time.Minute*<span class="hljs-number">10</span>, <span class="hljs-comment">// resync å‘¨æœŸ</span>
		cache.Indexers{ <span class="hljs-comment">// cacheä¸Šçš„å¿«é€Ÿè¿‡æ»¤å™¨</span>
			<span class="hljs-string">"byNode"</span>: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(obj <span class="hljs-keyword">interface</span>{})</span></span> ([]<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
				pod := obj.(*v1.Pod)
				<span class="hljs-keyword">return</span> []<span class="hljs-type">string</span>{pod.Spec.NodeName}, <span class="hljs-literal">nil</span>
			}},
	)

	podInformer.AddEventHandler(cache.ResourceEventHandlerFuncs{
		DeleteFunc: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(obj <span class="hljs-keyword">interface</span>{})</span></span> {
			pod := obj.(*v1.Pod)
			fmt.Printf(<span class="hljs-string">"[DELETED] Pod: %s/%s\n"</span>, pod.Namespace, pod.Name)
		},
	})

	<span class="hljs-comment">// å¯åŠ¨ informer (å¿…é¡»åœ¨ç‹¬ç«‹goroutineä¸­ï¼Œå› ä¸ºRunæ–¹æ³•æ˜¯åŒæ­¥æ–¹æ³•)</span>
	stopCh := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})
	<span class="hljs-keyword">defer</span> <span class="hljs-built_in">close</span>(stopCh)
	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		fmt.Println(<span class="hljs-string">"Starting PodInformer..."</span>)
		podInformer.Run(stopCh) <span class="hljs-comment">// åŒæ­¥æ–¹æ³•ï¼Œä¼šé˜»å¡ç›´åˆ° stopCh å…³é—­</span>
		fmt.Println(<span class="hljs-string">"PodInformer stopped"</span>)
	}()

	<span class="hljs-comment">//  ç­‰å¾…ç¼“å­˜åŒæ­¥å°±ç»ª</span>
	<span class="hljs-keyword">if</span> !cache.WaitForCacheSync(stopCh, podInformer.HasSynced) {
		<span class="hljs-built_in">panic</span>(<span class="hljs-string">"failed to wait for cache sync"</span>)
	}
	&lt;-stopCh
}
</code></pre>
<ul>
<li>
<p>informeræœ‰<code>resync</code>æœºåˆ¶ï¼š å‘¨æœŸæ€§é‡æ”¾æ•°æ®ï¼Œç›®çš„æ˜¯ä¸ºä¸šåŠ¡æä¾›è¡¥å¿æœºä¼šï¼Œä¸Šé¢è®¾ç½®äº†10åˆ†é’Ÿé‡æ”¾å‘¨æœŸ, =0æˆ–è€…ä¸è®¾ç½®åˆ™ä¸é‡æ”¾ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>cache.NewListWatchFromClient</code>è®¾ç½®äº†informerçš„<code>local cache</code>ï¼Œ å¼€å‘è€…å¯ä»¥ç›´æ¥æŠŠ<code>local cache</code>å½“æˆç›‘å¬å¯¹è±¡çš„é›†åˆ,client-goä¼šç¡®ä¿local cacheæ­£ç¡®åæ˜ å½“å‰çš„èµ„æºå¯¹è±¡ã€‚</p>
</li>
<li>
<p><code>informer.Run(stopCh)</code> æ˜¯ä¸€ä¸ªåŒæ­¥çš„å‡½æ•°ï¼ŒæŒç»­æ‰§è¡Œlist-watch-cache-reactè¿™ä¸ªå¼•æ“ï¼Œ åœ¨åº”ç”¨å±‚é¢éœ€è¦ä»¥å­goroutineå½¢å¼ï¼Œclient-goå¦æœ‰informerå·¥å‚ï¼ŒinformerFactory.Start(stopCh) å†…éƒ¨ä¹Ÿæ˜¯å¯åç¨‹ï¼Œè¿™é‡Œä¹Ÿè¦è®¤è¯†åˆ°ä¿¡é“stopChåœ¨golangä¸­çš„é€šä¿¡ä½œç”¨ã€‚</p>
</li>
</ul>
<blockquote>
<p>ä¸ºåŠ å¿«è¿™ä¸ªinformer cacheè®¿é—®é€Ÿåº¦ï¼Œè¿˜å¯ä»¥ç»™è¿™ä¸ªcacheåŠ ä¸Šç´¢å¼•å™¨<code>Indexers</code>, åé¢å¯ç›´æ¥ä½¿ç”¨ç´¢å¼•å™¨è®¿é—®cacheã€‚</p>
</blockquote>
<h3 data-id="heading-4">3.1 æ‹‰äº†ä¸€å¨å¤§çš„</h3>
<p>å¦‚æœæŠŠä¸šåŠ¡éœ€æ±‚éƒ½åšåœ¨EventHandleré‡Œé¢ï¼Œé•¿æ­¤ä»¥å¾€ä¼šæ‹‰ä¸€å¨å¤§çš„ã€‚</p>
<p>é¦–å…ˆè¿™æ˜¯ä¸€ä¸ª<strong>äº‹ä»¶é˜Ÿåˆ—æ¶ˆè´¹æ¨¡å‹</strong>ï¼ŒAdd/Update/Deleteå˜æ›´äº‹ä»¶æ˜¯ä»ä¸€ä¸ªå«<code>deltaFIFO</code>é˜Ÿåˆ—ä¸­popå‡ºæ¥çš„ï¼Œ æ—¢ç„¶æ˜¯é˜Ÿåˆ—æ¨¡å‹ï¼Œé‚£ä¹ˆé˜Ÿåˆ—æ¶ˆè´¹çš„é«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€å¯æ‰©å±•é—®é¢˜å°±é¿å…ä¸äº†ï¼š</p>
<ul>
<li>
<p>äº‹ä»¶éœ€è¦åŒæ­¥æŒ¨ä¸ªå¤„ç†ï¼Œå¦åˆ™æ§åˆ¶å™¨ä¾§æ‹¿åˆ°çš„æœ€ç»ˆèµ„æºçŠ¶æ€å¯èƒ½ä¸å¯¹ï¼Œé‚£ä¹ˆè¿™ç§æŒ¨ä¸ªå¤„ç†ä¹Ÿå°±è°ˆä¸ä¸Šé«˜æ€§èƒ½ã€‚</p>
</li>
<li>
<p>ä½†æ˜¯åº”ç”¨åˆæ˜¯å¤šå®ä¾‹éƒ¨ç½²ï¼Œ å¤šä¸ªinformeréƒ½èµ°åŒæ ·çš„list-watch-cache-reactæµç¨‹ï¼Œ å®¢è§‚ä¸Šå›´ç»•informer deltaFIIOåˆå½¢æˆå¤šç”Ÿäº§è€…=&gt;å¤šæ¶ˆè´¹è€…æ¨¡å‹ï¼Œè¿™ç§å±€é¢EventHandlerå°±è¦è€ƒé‡å¹‚ç­‰å’Œèµ„æºä¸€è‡´æ€§é—®é¢˜ã€‚</p>
</li>
<li>
<p>é˜Ÿåˆ—å¸¸è§„çš„é«˜å¯ç”¨è€ƒé‡ï¼šâ‘  æ¶ˆè´¹è€…å®•æœºæ—¶äº‹ä»¶ä¸¢å¤±  â‘¡ æ¶ˆè´¹å¤±è´¥å¦‚ä½•é‡è¯•ï¼ˆé‡è¯•åˆæœ‰å¹‚ç­‰æ€§é—®é¢˜ï¼‰</p>
</li>
<li>
<p>informeræœ‰<code>resync</code>æœºåˆ¶ï¼šä¼šå¯¹<code>local cache</code>ä¸­çš„èµ„æºæ„é€ <code>onUpdateäº‹ä»¶</code>ï¼Œä¹Ÿä¼šèµ°EventHandler, æ‰€ä»¥EventHandleråšçš„å¾ˆé‡ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚</p>
</li>
</ul>
<p>å¦‚æœä¸šåŠ¡é€»è¾‘å¾ˆé‡æˆ–è€…å¼ºä¾èµ–é‡è¯•ï¼Œæ¨èä¸Š<code>[workQueue](https://pkg.go.dev/k8s.io/client-go@v0.35.0/util/workqueue "workQueue")</code>, æ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>
<p>å…¬å¹³ï¼šæŒ‰æ·»åŠ é¡ºåºå¤„ç†å…ƒç´ </p>
</li>
<li>
<p>å…ƒç´ å»é‡ï¼šå•ä¸ªitemä¸ä¼šè¢«å¹¶å‘æ¶ˆè´¹å¤šæ¬¡ï¼›å¦‚æœä¸€ä¸ªitemåœ¨æ¶ˆè´¹å‰è¢«å¤šæ¬¡æ·»åŠ ï¼Œå®ƒåªä¼šè¢«æ¶ˆè´¹ä¸€æ¬¡</p>
</li>
<li>
<p>å¤šä¸ªæ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ï¼Œ æ”¯æŒæ¶ˆè´¹æ—¶é‡æ’</p>
</li>
<li>
<p>å…³é—­é€šçŸ¥</p>
</li>
</ul>
<h2 data-id="heading-5">4. <a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40dhruvbhl%2Finformers-listers-workqueues-the-brain-behind-your-controller-f5b0967026de" title="https://medium.com/@dhruvbhl/informers-listers-workqueues-the-brain-behind-your-controller-f5b0967026de" target="_blank" ref="nofollow noopener noreferrer">controllerè°ƒè°è®¾è®¡</a></h2>
<p>å­¦ä¹ controllerçš„è®¾è®¡ï¼šé™¤äº†informerï¼Œè¿˜æä¾›äº†é¢å¤–çš„å·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…é«˜æ•ˆæ„ŸçŸ¥æœ€æ–°çš„èµ„æºï¼Œæ‰§è¡Œè°ƒè°å·¥ä½œã€‚</p>





















<table><thead><tr><th>package</th><th>role</th></tr></thead><tbody><tr><td>informer</td><td>Eyes(watch and cache them)</td></tr><tr><td>lister</td><td>Memory(read from lcoal cache)</td></tr><tr><td>workQueue</td><td>task list (reconcile work)</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c74090dc69b149aa8a9bde5fb46954d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=Advz76wzZDH8D7%2BUx6mo7FqEYio%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> PodController <span class="hljs-keyword">struct</span> {
	clientset kubernetes.Interface
	queue     workqueue.TypedRateLimitingInterface[<span class="hljs-type">string</span>]
	informer  cache.SharedIndexInformer
	indexer   cache.Indexer
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewPodController</span><span class="hljs-params">(clientset kubernetes.Interface)</span></span> *PodController {
	<span class="hljs-comment">// åˆ›å»º Pod informer</span>
	podInformer := cache.NewSharedIndexInformer(
		cache.NewListWatchFromClient(
			clientset.CoreV1().RESTClient(),
			<span class="hljs-string">"pods"</span>,
			v1.NamespaceAll,
			fields.Everything(),
		),
		&amp;v1.Pod{},
		time.Minute*<span class="hljs-number">10</span>, <span class="hljs-comment">// resync å‘¨æœŸ</span>
		cache.Indexers{
			<span class="hljs-string">"byNode"</span>: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(obj <span class="hljs-keyword">interface</span>{})</span></span> ([]<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
				pod := obj.(*v1.Pod)
				<span class="hljs-keyword">return</span> []<span class="hljs-type">string</span>{pod.Spec.NodeName}, <span class="hljs-literal">nil</span>
			}},
	)

	<span class="hljs-comment">// åˆ›å»ºæ§åˆ¶å™¨</span>
	controller := &amp;PodController{
		clientset: clientset,
		queue: workqueue.NewTypedRateLimitingQueue(
			workqueue.DefaultTypedControllerRateLimiter[<span class="hljs-type">string</span>]( <span class="hljs-string">"string"</span>),
		),
		informer: podInformer,
		indexer:  podInformer.GetIndexer(),
	}

	<span class="hljs-comment">// æ³¨å†Œäº‹ä»¶å¤„ç†å™¨</span>
	podInformer.AddEventHandler(cache.ResourceEventHandlerFuncs{
		AddFunc:    controller.handleAdd,
		UpdateFunc: controller.handleUpdate,
		DeleteFunc: controller.handleDelete,
	})

	<span class="hljs-keyword">return</span> controller
}
</code></pre>
<h3 data-id="heading-6">â‘   Informers: The Eyes on the Cluster</h3>
<p>informeræ˜¯ä¸€ä¸ªç®¡é“ï¼Œå½“å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¯¥informerç®¡é“å¯ç¡®ä¿ï¼š</p>
<ul>
<li>æœ¬åœ°ç¼“å­˜local cacheå·²æ›´æ–°</li>
<li>ä»»ä½•å·²æ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åº(add/update/delete)éƒ½ä¼šæ”¶åˆ°é€šçŸ¥</li>
</ul>
<p>informerä¸ä¼šç›´æ¥è°ƒç”¨æ§åˆ¶å™¨çš„Reconcileæ–¹æ³•ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºçš„å”¯ä¸€å·¥ä½œæ˜¯å°†<code>key (namespace/name)</code>å…¥é˜Ÿï¼ˆworkQueueï¼‰</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆä½¿ç”¨keyï¼Ÿ<br/>
èµ„æºå¯¹è±¡å˜åŒ–å¾ˆå¿«â†’é”®æ›´ç¨³å®šâ†’æ›´é€‚åˆæ•°æ®å»é‡ã€‚</p>
</blockquote>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *PodController)</span></span> handleAdd(obj <span class="hljs-keyword">interface</span>{}) {
	key, err := cache.MetaNamespaceKeyFunc(obj)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		klog.Errorf(<span class="hljs-string">"Couldn't get key for object %+v: %v"</span>, obj, err)
		<span class="hljs-keyword">return</span>
	}
	c.queue.Add(key)
}
</code></pre>
<h3 data-id="heading-7">â‘¡ keyä¸€æ—¦å…¥é˜Ÿï¼Œå°±ç”±workQueueæ¥ç®¡</h3>
<ul>
<li>å»é‡</li>
<li>é‡è¯•ã€å‡ºé˜Ÿæ¶ˆè´¹å¤±è´¥é‡æ’ï¼š é˜Ÿåˆ—è¡Œä¸ºå¢å¼ºç³»ç»Ÿå¯ç”¨æ€§</li>
<li>é™é€Ÿï¼š å¼¹æ€§è®¾è®¡ï¼Œå¢å¼ºå¯ç”¨æ€§å’Œæ•ˆç‡</li>
</ul>
<h3 data-id="heading-8">â‘¢ listerï¼šå…¶å®å°±æ˜¯Indexersç´¢å¼•å™¨</h3>
<p>ä½¿ç”¨listerä»local cache è¯»å–æœ€æ–°çš„èµ„æºçŠ¶æ€ï¼ˆä¸éœ€è¦ä»api serverè¯»å–ï¼‰ï¼Œ</p>
<p>æœ€ç»ˆæ‰§è¡Œæ§åˆ¶å™¨çš„<code>Reconcile</code>é€»è¾‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fc780e25aa74e5ba84a0ced3fec39df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=nTm3E%2BgwCeEeeCqnTnpAWdBz568%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡<code>workQueue</code>å°†æ¶æ„ä»åŸºäºèµ„æºäº‹ä»¶çš„é˜Ÿåˆ—è½¬æ¢ä¸ºåŸºäºèµ„æºçš„é˜Ÿåˆ— ã€‚</p>
<p>æ³¨æ„ï¼šè¿™ä¸ªæ—¶å€™çš„workQueueæœ‰äº‹ä»¶å‹ç¼©çš„æ•ˆæœï¼š åœ¨è¢«æ¶ˆè´¹ä¹‹å‰ï¼Œå¦‚æœè¯¥èµ„æºæœ‰å¤šä¸ªå˜æ›´äº‹ä»¶ï¼Œåªä¼šä¿ç•™é¦–æ¬¡å…¥é˜Ÿï¼ˆæ›´æ–°æ—¶é—´æˆ³ï¼‰ã€‚</p>
<p>Controllerä¸å…³å¿ƒå¯¹è±¡å¦‚ä½•åˆ°è¾¾å½“å‰çŠ¶æ€ï¼Œåªå…³å¿ƒå½“å‰çŠ¶æ€æ˜¯å¦ä¸æœŸæœ›çŠ¶æ€ä¸€è‡´ï¼Œå¹¶é‡‡å–è¡ŒåŠ¨ä½¿å…¶ä¸€è‡´ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *PodController)</span></span> Run(workers <span class="hljs-type">int</span>, stopCh &lt;-<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{}) {
	<span class="hljs-keyword">defer</span> c.queue.ShutDown()

	klog.Info(<span class="hljs-string">"Starting Pod controller"</span>)

	<span class="hljs-keyword">go</span> c.informer.Run(stopCh)

	<span class="hljs-keyword">if</span> !cache.WaitForCacheSync(stopCh, c.informer.HasSynced) {
		klog.Error(<span class="hljs-string">"Timed out waiting for caches to sync"</span>)
		<span class="hljs-keyword">return</span>
	}

	<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; workers; i++ {
		<span class="hljs-keyword">go</span> wait.Until(c.runWorker, time.Second, stopCh)
	}

	&lt;-stopCh
	klog.Info(<span class="hljs-string">"Stopping Pod controller"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *PodController)</span></span> runWorker() {
	<span class="hljs-keyword">for</span> c.processNextWorkItem() {
	}
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *PodController)</span></span> processNextWorkItem() <span class="hljs-type">bool</span> {
	key, quit := c.queue.Get()
	<span class="hljs-keyword">if</span> quit {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
	}

	<span class="hljs-keyword">defer</span> c.queue.Done(key)

	err := c.syncPod(key)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		klog.Errorf(<span class="hljs-string">"Error syncing pod %s: %v"</span>, key, err)
		c.queue.AddRateLimited(key)
		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
	}

	c.queue.Forget(key)
	<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	<span class="hljs-comment">// åˆ›å»º clientset</span>
	<span class="hljs-comment">// config, _ := rest.InClusterConfig()</span>

	homepath := homedir.HomeDir()
	kubeconfig := filepath.Join(homepath, <span class="hljs-string">".kube"</span>, <span class="hljs-string">"config"</span>)
	config, err := clientcmd.BuildConfigFromFlags(<span class="hljs-string">""</span>, kubeconfig) <span class="hljs-comment">// é›†ç¾¤å¤–è®¤è¯è®¿é—® apiserver</span>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		klog.Errorf(<span class="hljs-string">"Error building kubeconfig: %v"</span>, err)
	}
	clientset, _ := kubernetes.NewForConfig(config)

	controller := NewPodController(clientset)
	stopCh := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})
	controller.Run(<span class="hljs-number">3</span>, stopCh)
}
</code></pre>
<hr/>
<h3 data-id="heading-9">4.1  å±ä¸Šé›•èŠ±</h3>
<p>ä¸Šæ–‡äº§ç”Ÿçš„"ä¸€å¨å¤§çš„"æ˜¯ä¸€ä¸ªé‡åº¦çš„äº‹ä»¶å¤„ç†è¡Œä¸ºï¼šsyncåˆ°mysqlå¹¶åšå‡ºé€šçŸ¥ã€‚</p>
<p>å’±å°±ç¼ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨workQueueï¼Œ ä½†æ˜¯æœ¬æ¬¡éœ€æ±‚è¦è·Ÿè¸ªæ¯æ¬¡çŠ¶æ€å˜æ›´ï¼Œäºæ˜¯è¦è§„é¿workQueueçš„äº‹ä»¶å‹ç¼©è¡Œä¸ºã€‚</p>
<p>äºæ˜¯æœ¬æ¬¡å°†(åŸèµ„æºkey+ èµ„æºç‰ˆæœ¬+ èµ„æºçŠ¶æ€)æ•´ä½“ä½œä¸ºå…¥é˜Ÿå…ƒç´ ã€‚</p>
<pre><code class="hljs language-css" lang="css"> item := QueueItem{
        Key:     fmt.<span class="hljs-built_in">Sprintf</span>(<span class="hljs-string">"%s/%s"</span>, pod.Namespace, pod.Name),
        Version: pod.ResourceVersion,
        Status ï¼š pod.Statusï¼Œ
    }
</code></pre>
<p>åˆ©ç”¨é˜Ÿåˆ—å‰Šå³°å¡«è°·ï¼Œæ»¡è¶³äº†ä¸šåŠ¡çš„éœ€æ±‚å’Œé«˜å¯ç”¨ã€å¯æ‰©å±•è¦æ±‚ã€‚</p>
<p>æ³¨æ„å‡ºé˜Ÿæ¶ˆè´¹æ—¶ä»è¦ä¿è¯å¹‚ç­‰æ“ä½œï¼Œ å¯é‡‡ç”¨ï¼ˆèµ„æºkey+èµ„æºversion) ä½œä¸ºå¹‚ç­‰é”®å®ç°å¹‚ç­‰çš„åˆ¤å®šã€‚</p>
<p>è¿™å°±æ˜¯æŸä¼ä¸šé¡¹ç›®å±ä¸Šé›•èŠ±çš„ç»å†ï¼Œ è€é¸Ÿè½»å–·ã€‚</p>
<p>ğŸ¤– ğŸš€ ğŸ‘‘ ğŸ› ï¸ ğŸ’¡ ğŸŒŸ ğŸ¤– â˜• ğŸ”— ğŸ“„ ğŸ“– ğŸŒ ğŸ’¼ ğŸ—£ï¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å¾®ä¿¡å…¬ä¼—å·&å°ç¨‹åºçš„SDKå‰–æJSBridge]]></title>    <link>https://juejin.cn/post/7586505172815626291</link>    <guid>https://juejin.cn/post/7586505172815626291</guid>    <pubDate>2025-12-22T15:31:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815626291" data-draft-id="7586550947703291914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å¾®ä¿¡å…¬ä¼—å·&amp;å°ç¨‹åºçš„SDKå‰–æJSBridge"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:31:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ¢¦plus"/> <meta itemprop="url" content="https://juejin.cn/user/2875978149798093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å¾®ä¿¡å…¬ä¼—å·&amp;å°ç¨‹åºçš„SDKå‰–æJSBridge
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978149798093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ¢¦plus
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:31:55.000Z" title="Mon Dec 22 2025 15:31:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»å¾®ä¿¡å…¬ä¼—å·&amp;å°ç¨‹åºçš„SDKå‰–æJSBridge</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨ç§»åŠ¨äº’è”ç½‘æ—¶ä»£,Hybridåº”ç”¨å·²æˆä¸ºä¸»æµå¼€å‘æ¨¡å¼ä¹‹ä¸€ã€‚JSBridgeä½œä¸ºè¿æ¥JavaScriptä¸Nativeçš„æ ¸å¿ƒæ¡¥æ¢,è®©Webé¡µé¢èƒ½å¤Ÿè°ƒç”¨åŸç”Ÿèƒ½åŠ›,å®ç°äº†è·¨å¹³å°å¼€å‘çš„å®Œç¾å¹³è¡¡ã€‚å¾®ä¿¡ä½œä¸ºå›½å†…æœ€å¤§çš„è¶…çº§åº”ç”¨,å…¶å…¬ä¼—å·JSSDKå’Œå°ç¨‹åºæ¶æ„ä¸ºæˆ‘ä»¬æä¾›äº†ç»ä½³çš„JSBridgeå®è·µæ¡ˆä¾‹ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æè¿™ä¸¤å¥—SDKçš„å®ç°åŸç†,å¸®åŠ©è¯»è€…ç†è§£JSBridgeçš„æœ¬è´¨ä¸è®¾è®¡æ€æƒ³ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€JSBridgeæ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-3">1.1 ä»€ä¹ˆæ˜¯JSBridge</h4>
<p>JSBridgeæ˜¯JavaScriptä¸Nativeä¹‹é—´çš„é€šä¿¡æ¡¥æ¢,å®ƒå»ºç«‹äº†åŒå‘æ¶ˆæ¯é€šé“,ä½¿å¾—:</p>
<ul>
<li><strong>JavaScriptè°ƒç”¨Native</strong>: Webé¡µé¢å¯ä»¥è°ƒç”¨åŸç”Ÿèƒ½åŠ›(ç›¸æœºã€åœ°ç†ä½ç½®ã€æ”¯ä»˜ç­‰)</li>
<li><strong>Nativeè°ƒç”¨JavaScript</strong>: åŸç”Ÿä»£ç å¯ä»¥å‘Webé¡µé¢ä¼ é€’æ•°æ®æˆ–è§¦å‘äº‹ä»¶</li>
</ul>
<h4 data-id="heading-4">1.2 JSBridgeé€šä¿¡æ¶æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph WebViewå±‚
        A[JavaScriptä»£ç ]
    end

    subgraph JSBridgeå±‚
        B[æ¶ˆæ¯é˜Ÿåˆ—]
        C[åè®®è§£æå™¨]
    end

    subgraph Nativeå±‚
        D[åŸç”ŸAPI Handler]
        E[ç³»ç»Ÿèƒ½åŠ›]
    end

    A --&gt;|å‘èµ·è°ƒç”¨| B
    B --&gt;|è§£æåè®®| C
    C --&gt;|è½¬å‘è¯·æ±‚| D
    D --&gt;|è°ƒç”¨èƒ½åŠ›| E
    E --&gt;|è¿”å›ç»“æœ| D
    D --&gt;|å›è°ƒ| C
    C --&gt;|æ‰§è¡Œcallback| A

    style A fill:#e1f5ff
    style E fill:#fff4e1
    style C fill:#f0f0f0
</code></pre>
<h4 data-id="heading-5">1.3 é€šä¿¡æ–¹å¼å¯¹æ¯”</h4>
<p>JSBridgeä¸»è¦æœ‰ä¸‰ç§å®ç°æ–¹å¼:</p>





























<table><thead><tr><th>æ–¹å¼</th><th>åŸç†</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>URL Schemaæ‹¦æˆª</td><td>é€šè¿‡iframe.srcè§¦å‘ç‰¹å®šåè®®</td><td>å…¼å®¹æ€§å¥½,iOS/Androidé€šç”¨</td><td>æœ‰URLé•¿åº¦é™åˆ¶,ä¸æ”¯æŒåŒæ­¥è¿”å›</td></tr><tr><td>æ³¨å…¥API</td><td>Nativeå‘WebViewæ³¨å…¥å…¨å±€å¯¹è±¡</td><td>è°ƒç”¨ç®€å•ç›´æ¥</td><td>Android 4.2ä»¥ä¸‹æœ‰å®‰å…¨é£é™©</td></tr><tr><td>MessageHandler</td><td>WKWebViewçš„postMessageæœºåˆ¶</td><td>æ€§èƒ½å¥½,å®‰å…¨æ€§é«˜</td><td>ä»…iOSå¯ç”¨</td></tr></tbody></table>
<h3 data-id="heading-6">äºŒã€å¾®ä¿¡å…¬ä¼—å·JSSDKå®ç°åŸç†</h3>
<h4 data-id="heading-7">2.1 JSSDKæ¶æ„è®¾è®¡</h4>
<p>å¾®ä¿¡å…¬ä¼—å·çš„JSSDKåŸºäºWeixinJSBridgeå°è£…,æä¾›äº†æ›´å®‰å…¨å’Œæ˜“ç”¨çš„æ¥å£ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant H5 as H5é¡µé¢
    participant SDK as wx-JSSDK
    participant Bridge as WeixinJSBridge
    participant Native as å¾®ä¿¡å®¢æˆ·ç«¯

    H5-&gt;&gt;SDK: è°ƒç”¨wx.config()
    SDK-&gt;&gt;Native: è¯·æ±‚ç­¾åéªŒè¯
    Native--&gt;&gt;SDK: è¿”å›éªŒè¯ç»“æœ

    H5-&gt;&gt;SDK: è°ƒç”¨wx.chooseImage()
    SDK-&gt;&gt;Bridge: invoke('chooseImage', params)
    Bridge-&gt;&gt;Native: è½¬å‘è°ƒç”¨è¯·æ±‚
    Native-&gt;&gt;Native: æ‰“å¼€ç›¸å†Œé€‰æ‹©
    Native--&gt;&gt;Bridge: è¿”å›å›¾ç‰‡æ•°æ®
    Bridge--&gt;&gt;SDK: è§¦å‘å›è°ƒ
    SDK--&gt;&gt;H5: success(res)
</code></pre>
<h4 data-id="heading-8">2.2 JSSDKåˆå§‹åŒ–æµç¨‹</h4>
<p><strong>JSSDKçš„åˆå§‹åŒ–éœ€è¦å®Œæˆé…ç½®éªŒè¯å’ŒreadyçŠ¶æ€å‡†å¤‡:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­¥éª¤1: å¼•å…¥JSSDK</span>
&lt;script src=<span class="hljs-string">"https://res.wx.qq.com/open/js/jweixin-1.6.0.js"</span>&gt;&lt;/script&gt;

<span class="hljs-comment">// æ­¥éª¤2: é…ç½®æƒé™éªŒè¯</span>
wx.<span class="hljs-title function_">config</span>({
  <span class="hljs-attr">debug</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">appId</span>: <span class="hljs-string">'your-app-id'</span>,
  <span class="hljs-attr">timestamp</span>: <span class="hljs-number">1234567890</span>,
  <span class="hljs-attr">nonceStr</span>: <span class="hljs-string">'random-string'</span>,
  <span class="hljs-attr">signature</span>: <span class="hljs-string">'sha1-signature'</span>,
  <span class="hljs-attr">jsApiList</span>: [<span class="hljs-string">'chooseImage'</span>, <span class="hljs-string">'uploadImage'</span>, <span class="hljs-string">'getLocation'</span>]
});

<span class="hljs-comment">// æ­¥éª¤3: ç›‘å¬readyäº‹ä»¶</span>
wx.<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// é…ç½®æˆåŠŸåæ‰èƒ½è°ƒç”¨API</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'JSSDKåˆå§‹åŒ–å®Œæˆ'</span>);
});

wx.<span class="hljs-title function_">error</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é…ç½®å¤±è´¥:'</span>, res);
});
</code></pre>
<p><strong>é…ç½®éªŒè¯æµç¨‹è¯´æ˜:</strong></p>
<ol>
<li><strong>è·å–ç­¾å</strong>: åç«¯é€šè¿‡jsapi_ticketå’Œå½“å‰URLç”ŸæˆSHA1ç­¾å</li>
<li><strong>å‰ç«¯é…ç½®</strong>: å°†ç­¾åç­‰å‚æ•°ä¼ å…¥wx.config()</li>
<li><strong>å®¢æˆ·ç«¯éªŒè¯</strong>: å¾®ä¿¡å®¢æˆ·ç«¯æ ¡éªŒç­¾åçš„åˆæ³•æ€§</li>
<li><strong>æˆæƒå®Œæˆ</strong>: éªŒè¯é€šè¿‡åè§¦å‘readyäº‹ä»¶</li>
</ol>
<h4 data-id="heading-9">2.3 WeixinJSBridgeåº•å±‚æœºåˆ¶</h4>
<p><strong>WeixinJSBridgeæ˜¯å¾®ä¿¡å†…éƒ¨æä¾›çš„åŸç”Ÿæ¥å£,ä¸å¯¹å¤–å…¬å¼€ä½†å¯ä»¥ç›´æ¥ä½¿ç”¨:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æµ‹WeixinJSBridgeæ˜¯å¦ready</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">onBridgeReady</span>(<span class="hljs-params"/>) {
  <span class="hljs-title class_">WeixinJSBridge</span>.<span class="hljs-title function_">invoke</span>(
    <span class="hljs-string">'getBrandWCPayRequest'</span>,
    {
      <span class="hljs-attr">appId</span>: <span class="hljs-string">'wx123456'</span>,
      <span class="hljs-attr">timeStamp</span>: <span class="hljs-string">'1234567890'</span>,
      <span class="hljs-attr">nonceStr</span>: <span class="hljs-string">'randomstring'</span>,
      <span class="hljs-attr">package</span>: <span class="hljs-string">'prepay_id=xxx'</span>,
      <span class="hljs-attr">signType</span>: <span class="hljs-string">'MD5'</span>,
      <span class="hljs-attr">paySign</span>: <span class="hljs-string">'signature'</span>
    },
    <span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
      <span class="hljs-keyword">if</span> (res.<span class="hljs-property">err_msg</span> === <span class="hljs-string">'get_brand_wcpay_request:ok'</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¯ä»˜æˆåŠŸ'</span>);
      }
    }
  );
}

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">WeixinJSBridge</span> === <span class="hljs-string">'undefined'</span>) {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'WeixinJSBridgeReady'</span>, onBridgeReady, <span class="hljs-literal">false</span>);
} <span class="hljs-keyword">else</span> {
  <span class="hljs-title function_">onBridgeReady</span>();
}
</code></pre>
<p><strong>WeixinJSBridgeä¸wx JSSDKçš„å…³ç³»:</strong></p>
<ul>
<li><code>WeixinJSBridge</code>: åº•å±‚åŸç”Ÿæ¥å£,ç›´æ¥ç”±å¾®ä¿¡å®¢æˆ·ç«¯æ³¨å…¥,æ— éœ€å¼•å…¥å¤–éƒ¨JS</li>
<li><code>wx JSSDK</code>: åŸºäºWeixinJSBridgeçš„é«˜çº§å°è£…,æä¾›ç»Ÿä¸€çš„APIè§„èŒƒå’Œå®‰å…¨éªŒè¯</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[H5é¡µé¢] --&gt;|å¼•å…¥jweixin.js| B[wx JSSDK]
    B --&gt;|å°è£…è°ƒç”¨| C[WeixinJSBridge]
    C --&gt;|Nativeæ³¨å…¥| D[å¾®ä¿¡å®¢æˆ·ç«¯]
    D --&gt;|ç³»ç»Ÿèƒ½åŠ›| E[&amp;#34;ç›¸æœºã€æ”¯ä»˜ã€å®šä½ç­‰&amp;#34;]

    style B fill:#07c160
    style C fill:#ff9800
    style D fill:#576b95
</code></pre>
<h4 data-id="heading-10">2.4 å…¸å‹APIè°ƒç”¨ç¤ºä¾‹</h4>
<p><strong>ä»¥é€‰æ‹©å›¾ç‰‡ä¸ºä¾‹,å±•ç¤ºå®Œæ•´çš„è°ƒç”¨é“¾è·¯:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å°è£…å›¾ç‰‡é€‰æ‹©åŠŸèƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">selectImages</span>(<span class="hljs-params">count = <span class="hljs-number">9</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    wx.<span class="hljs-title function_">chooseImage</span>({
      <span class="hljs-attr">count</span>: count,          <span class="hljs-comment">// æœ€å¤šé€‰æ‹©æ•°é‡</span>
      <span class="hljs-attr">sizeType</span>: [<span class="hljs-string">'original'</span>, <span class="hljs-string">'compressed'</span>],
      <span class="hljs-attr">sourceType</span>: [<span class="hljs-string">'album'</span>, <span class="hljs-string">'camera'</span>],
      <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
        <span class="hljs-keyword">const</span> localIds = res.<span class="hljs-property">localIds</span>; <span class="hljs-comment">// è¿”å›æœ¬åœ°å›¾ç‰‡IDåˆ—è¡¨</span>
        <span class="hljs-title function_">resolve</span>(localIds);
      },
      <span class="hljs-attr">fail</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) {
        <span class="hljs-title function_">reject</span>(err);
      }
    });
  });
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
wx.<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> imageIds = <span class="hljs-keyword">await</span> <span class="hljs-title function_">selectImages</span>(<span class="hljs-number">5</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å·²é€‰æ‹©å›¾ç‰‡:'</span>, imageIds);

    <span class="hljs-comment">// ç»§ç»­ä¸Šä¼ å›¾ç‰‡</span>
    <span class="hljs-title function_">uploadImages</span>(imageIds);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é€‰æ‹©å¤±è´¥:'</span>, error);
  }
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">uploadImages</span>(<span class="hljs-params">localIds</span>) {
  localIds.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">localId</span> =&gt;</span> {
    wx.<span class="hljs-title function_">uploadImage</span>({
      <span class="hljs-attr">localId</span>: localId,
      <span class="hljs-attr">isShowProgressTips</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
        <span class="hljs-keyword">const</span> serverId = res.<span class="hljs-property">serverId</span>; <span class="hljs-comment">// æœåŠ¡å™¨ç«¯å›¾ç‰‡ID</span>
        <span class="hljs-comment">// å°†serverIdå‘é€ç»™åç«¯ä¿å­˜</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸Šä¼ æˆåŠŸ:'</span>, serverId);
      }
    });
  });
}
</code></pre>
<h3 data-id="heading-11">ä¸‰ã€å¾®ä¿¡å°ç¨‹åºåŒçº¿ç¨‹æ¶æ„</h3>
<h4 data-id="heading-12">3.1 å°ç¨‹åºæ¶æ„è®¾è®¡</h4>
<p><strong>å¾®ä¿¡å°ç¨‹åºé‡‡ç”¨åŒçº¿ç¨‹æ¨¡å‹,å°†æ¸²æŸ“å±‚ä¸é€»è¾‘å±‚å®Œå…¨éš”ç¦»:</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph æ¸²æŸ“å±‚[æ¸²æŸ“å±‚ View - WebView]
        A[WXMLæ¨¡æ¿]
        B[WXSSæ ·å¼]
        C[ç»„ä»¶ç³»ç»Ÿ]
    end

    subgraph é€»è¾‘å±‚[é€»è¾‘å±‚ AppService - JSCore]
        D[JavaScriptä»£ç ]
        E[å°ç¨‹åºAPI - wxå¯¹è±¡]
        F[æ•°æ®ç®¡ç†]
    end

    subgraph ç³»ç»Ÿå±‚[Native - å¾®ä¿¡å®¢æˆ·ç«¯]
        G[JSBridge]
        H[ç½‘ç»œè¯·æ±‚]
        I[æ–‡ä»¶ç³»ç»Ÿ]
        J[è®¾å¤‡èƒ½åŠ›]
    end

    A -.-&gt;|æ•°æ®ç»‘å®š| F
    C -.-&gt;|äº‹ä»¶è§¦å‘| D
    D --&gt;|setData| G
    G --&gt;|æ›´æ–°è§†å›¾| A
    E --&gt;|è°ƒç”¨èƒ½åŠ›| G
    G --&gt;|è½¬å‘è¯·æ±‚| H
    G --&gt;|è½¬å‘è¯·æ±‚| I
    G --&gt;|è½¬å‘è¯·æ±‚| J

    style æ¸²æŸ“å±‚ fill:#e3f2fd
    style é€»è¾‘å±‚ fill:#f3e5f5
    style ç³»ç»Ÿå±‚ fill:#fff3e0
</code></pre>
<p><strong>æ¶æ„è®¾è®¡çš„æ ¸å¿ƒä¼˜åŠ¿:</strong></p>
<ol>
<li><strong>å®‰å…¨éš”ç¦»</strong>: é€»è¾‘å±‚æ— æ³•ç›´æ¥æ“ä½œDOM,é˜²æ­¢XSSæ”»å‡»</li>
<li><strong>å¤šWebViewæ”¯æŒ</strong>: æ¯ä¸ªé¡µé¢ç‹¬ç«‹WebView,æ”¯æŒå¤šé¡µé¢å¹¶å­˜</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>: é€»è¾‘å±‚ä½¿ç”¨JSCore,ä¸åŠ è½½DOM/BOM,æ‰§è¡Œæ›´å¿«</li>
</ol>
<h4 data-id="heading-13">3.2 å°ç¨‹åºJSBridgeé€šä¿¡æœºåˆ¶</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Logic as é€»è¾‘å±‚&lt;br/&gt;(JSCore)
    participant Bridge as JSBridge
    participant Native as Nativeå±‚
    participant View as æ¸²æŸ“å±‚&lt;br/&gt;(WebView)

    Note over Logic,View: åœºæ™¯1: æ•°æ®æ›´æ–°
    Logic-&gt;&gt;Bridge: setData({key: value})
    Bridge-&gt;&gt;Native: åºåˆ—åŒ–æ•°æ®
    Native-&gt;&gt;View: ä¼ é€’Virtual DOM diff
    View-&gt;&gt;View: æ›´æ–°é¡µé¢æ¸²æŸ“

    Note over Logic,View: åœºæ™¯2: äº‹ä»¶å“åº”
    View-&gt;&gt;Bridge: bindtapäº‹ä»¶è§¦å‘
    Bridge-&gt;&gt;Native: åºåˆ—åŒ–äº‹ä»¶å¯¹è±¡
    Native-&gt;&gt;Logic: è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°
    Logic-&gt;&gt;Logic: æ‰§è¡Œä¸šåŠ¡é€»è¾‘

    Note over Logic,View: åœºæ™¯3: APIè°ƒç”¨
    Logic-&gt;&gt;Bridge: wx.request(options)
    Bridge-&gt;&gt;Native: è½¬å‘ç½‘ç»œè¯·æ±‚
    Native-&gt;&gt;Native: å‘èµ·HTTPè¯·æ±‚
    Native--&gt;&gt;Bridge: è¿”å›å“åº”æ•°æ®
    Bridge--&gt;&gt;Logic: è§¦å‘successå›è°ƒ
</code></pre>
<h4 data-id="heading-14">3.3 æ•°æ®é€šä¿¡å®ç°</h4>
<p><strong>setDataæ˜¯å°ç¨‹åºä¸­æœ€æ ¸å¿ƒçš„é€šä¿¡API,ç”¨äºé€»è¾‘å±‚å‘æ¸²æŸ“å±‚ä¼ é€’æ•°æ®:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Page</span>({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">userInfo</span>: {},
    <span class="hljs-attr">items</span>: []
  },

  <span class="hljs-attr">onLoad</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é€šè¿‡setDataæ›´æ–°æ•°æ®,è§¦å‘è§†å›¾æ›´æ–°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
      <span class="hljs-attr">userInfo</span>: {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
        <span class="hljs-attr">avatar</span>: <span class="hljs-string">'https://example.com/avatar.jpg'</span>
      },
      <span class="hljs-attr">items</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    });
  },

  <span class="hljs-comment">// ä¼˜åŒ–å»ºè®®: åªæ›´æ–°å˜åŒ–çš„å­—æ®µ</span>
  <span class="hljs-attr">updateUserName</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">newName</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
      <span class="hljs-string">'userInfo.name'</span>: newName  <span class="hljs-comment">// ä½¿ç”¨è·¯å¾„è¯­æ³•,å‡å°‘æ•°æ®ä¼ è¾“</span>
    });
  },

  <span class="hljs-comment">// é¿å…é¢‘ç¹setData</span>
  <span class="hljs-attr">handleScroll</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒ: æ¯æ¬¡æ»šåŠ¨éƒ½setData</span>
    <span class="hljs-comment">// this.setData({ scrollTop: e.detail.scrollTop });</span>

    <span class="hljs-comment">// æ­£ç¡®åšæ³•: èŠ‚æµå¤„ç†</span>
    <span class="hljs-built_in">clearTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTimer</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTimer</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({ <span class="hljs-attr">scrollTop</span>: e.<span class="hljs-property">detail</span>.<span class="hljs-property">scrollTop</span> });
    }, <span class="hljs-number">100</span>);
  }
});
</code></pre>
<p><strong>setDataåº•å±‚æµç¨‹:</strong></p>
<ol>
<li><strong>åºåˆ—åŒ–æ•°æ®</strong>: å°†JSå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²</li>
<li><strong>é€šè¿‡JSBridgeå‘é€</strong>: Nativeå±‚æ¥æ”¶æ•°æ®</li>
<li><strong>ä¼ é€’åˆ°æ¸²æŸ“å±‚</strong>: Nativeå°†æ•°æ®è½¬å‘åˆ°WebView</li>
<li><strong>Virtual DOM Diff</strong>: è®¡ç®—å·®å¼‚å¹¶æ›´æ–°è§†å›¾</li>
</ol>
<h4 data-id="heading-15">3.4 å°ç¨‹åºAPIè°ƒç”¨æœºåˆ¶</h4>
<p><strong>å°ç¨‹åºçš„wxå¯¹è±¡æ˜¯Nativeæ³¨å…¥çš„JSBridgeæ¥å£:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç½‘ç»œè¯·æ±‚ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUserData</span>(<span class="hljs-params">userId</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    wx.<span class="hljs-title function_">request</span>({
      <span class="hljs-attr">url</span>: <span class="hljs-string">`https://api.example.com/user/<span class="hljs-subst">${userId}</span>`</span>,
      <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
      <span class="hljs-attr">header</span>: {
        <span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
      },
      <span class="hljs-title function_">success</span>(<span class="hljs-params">res</span>) {
        <span class="hljs-keyword">if</span> (res.<span class="hljs-property">statusCode</span> === <span class="hljs-number">200</span>) {
          <span class="hljs-title function_">resolve</span>(res.<span class="hljs-property">data</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${res.statusCode}</span>`</span>));
        }
      },
      <span class="hljs-title function_">fail</span>(<span class="hljs-params">err</span>) {
        <span class="hljs-title function_">reject</span>(err);
      }
    });
  });
}

<span class="hljs-comment">// ä½¿ç”¨async/awaitä¼˜åŒ–</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadUserInfo</span>(<span class="hljs-params"/>) {
  wx.<span class="hljs-title function_">showLoading</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">'åŠ è½½ä¸­...'</span> });

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> userData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchUserData</span>(<span class="hljs-number">123</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({ <span class="hljs-attr">userInfo</span>: userData });
  } <span class="hljs-keyword">catch</span> (error) {
    wx.<span class="hljs-title function_">showToast</span>({
      <span class="hljs-attr">title</span>: <span class="hljs-string">'åŠ è½½å¤±è´¥'</span>,
      <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>
    });
  } <span class="hljs-keyword">finally</span> {
    wx.<span class="hljs-title function_">hideLoading</span>();
  }
}
</code></pre>
<p><strong>APIè°ƒç”¨æµç¨‹å›¾:</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[å°ç¨‹åºè°ƒç”¨ wx.request] --&gt; B{JSBridgeæ£€æŸ¥}
    B --&gt;|å‚æ•°æ ¡éªŒ| C[åºåˆ—åŒ–è¯·æ±‚å‚æ•°]
    C --&gt; D[Nativeæ¥ç®¡ç½‘ç»œè¯·æ±‚]
    D --&gt; E[ç³»ç»Ÿå‘èµ·HTTPè¯·æ±‚]
    E --&gt; F{è¯·æ±‚ç»“æœ}
    F --&gt;|æˆåŠŸ| G[å›è°ƒsuccesså‡½æ•°]
    F --&gt;|å¤±è´¥| H[å›è°ƒfailå‡½æ•°]
    G --&gt; I[è¿”å›æ•°æ®åˆ°é€»è¾‘å±‚]
    H --&gt; I
    I --&gt; J[completeå‡½æ•°æ‰§è¡Œ]

    style A fill:#07c160
    style D fill:#ff9800
    style E fill:#2196f3
</code></pre>
<h3 data-id="heading-16">å››ã€è‡ªå®šä¹‰JSBridgeå®ç°</h3>
<h4 data-id="heading-17">4.1 åŸºç¡€å®ç°æ–¹æ¡ˆ</h4>
<p><strong>åŸºäºURL Schemaæ‹¦æˆªå®ç°ä¸€ä¸ªç®€å•çš„JSBridge:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">JSBridge</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span> = {};
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackId</span> = <span class="hljs-number">0</span>;

    <span class="hljs-comment">// æ³¨å†Œå…¨å±€å›è°ƒå¤„ç†å‡½æ•°</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">_handleMessageFromNative</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_handleCallback</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
  }

  <span class="hljs-comment">// JavaScriptè°ƒç”¨Native</span>
  <span class="hljs-title function_">callNative</span>(<span class="hljs-params">method, params = {}, callback</span>) {
    <span class="hljs-keyword">const</span> cbId = <span class="hljs-string">`cb_<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.callbackId++}</span>`</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>[cbId] = callback;

    <span class="hljs-keyword">const</span> schema = <span class="hljs-string">`jsbridge://<span class="hljs-subst">${method}</span>?params=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(
      <span class="hljs-built_in">JSON</span>.stringify(params)
    )}</span>&amp;callbackId=<span class="hljs-subst">${cbId}</span>`</span>;

    <span class="hljs-comment">// åˆ›å»ºéšè—iframeè§¦å‘schema</span>
    <span class="hljs-keyword">const</span> iframe = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'iframe'</span>);
    iframe.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    iframe.<span class="hljs-property">src</span> = schema;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(iframe);

    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(iframe);
    }, <span class="hljs-number">100</span>);
  }

  <span class="hljs-comment">// Nativeå›è°ƒJavaScript</span>
  <span class="hljs-title function_">_handleCallback</span>(<span class="hljs-params">callbackId, result</span>) {
    <span class="hljs-keyword">const</span> callback = <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>[callbackId];
    <span class="hljs-keyword">if</span> (callback) {
      <span class="hljs-title function_">callback</span>(result);
      <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>[callbackId];
    }
  }

  <span class="hljs-comment">// æ³¨å†Œå¯è¢«Nativeè°ƒç”¨çš„æ–¹æ³•</span>
  <span class="hljs-title function_">registerHandler</span>(<span class="hljs-params">name, handler</span>) {
    <span class="hljs-variable language_">this</span>[name] = handler;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> bridge = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSBridge</span>();

<span class="hljs-comment">// è°ƒç”¨Nativeæ–¹æ³•</span>
bridge.<span class="hljs-title function_">callNative</span>(<span class="hljs-string">'getLocation'</span>, {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'wgs84'</span>
}, <span class="hljs-keyword">function</span>(<span class="hljs-params">location</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ç½®ä¿¡æ¯:'</span>, location);
});

<span class="hljs-comment">// æ³¨å†Œä¾›Nativeè°ƒç”¨çš„æ–¹æ³•</span>
bridge.<span class="hljs-title function_">registerHandler</span>(<span class="hljs-string">'updateTitle'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">title</span>) {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = title;
});
</code></pre>
<h4 data-id="heading-18">4.2 Promiseé£æ ¼å°è£…</h4>
<p><strong>å°†å›è°ƒé£æ ¼æ”¹é€ ä¸ºPromise,æå‡å¼€å‘ä½“éªŒ:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ModernJSBridge</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">JSBridge</span> {
  <span class="hljs-title function_">invoke</span>(<span class="hljs-params">method, params = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callNative</span>(method, params, <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (result.<span class="hljs-property">code</span> === <span class="hljs-number">0</span>) {
          <span class="hljs-title function_">resolve</span>(result.<span class="hljs-property">data</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(result.<span class="hljs-property">message</span>));
        }
      });
    });
  }
}

<span class="hljs-comment">// ç°ä»£åŒ–ä½¿ç”¨æ–¹å¼</span>
<span class="hljs-keyword">const</span> bridge = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModernJSBridge</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserLocation</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> location = <span class="hljs-keyword">await</span> bridge.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'getLocation'</span>, {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'wgs84'</span>
    });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»åº¦:'</span>, location.<span class="hljs-property">longitude</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çº¬åº¦:'</span>, location.<span class="hljs-property">latitude</span>);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–ä½ç½®å¤±è´¥:'</span>, error.<span class="hljs-property">message</span>);
  }
}
</code></pre>
<h4 data-id="heading-19">4.3 Nativeç«¯å®ç°(ä»¥Androidä¸ºä¾‹)</h4>
<p><strong>Androidç«¯éœ€è¦æ‹¦æˆªWebViewçš„URLè¯·æ±‚å¹¶è§£æåè®®:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿™æ˜¯ä¼ªä»£ç ç¤ºæ„,ç”¨JavaScriptè¯­æ³•æè¿°Androidçš„WebViewClienté€»è¾‘</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">JSBridgeWebViewClient</span> {
  <span class="hljs-title function_">shouldOverrideUrlLoading</span>(<span class="hljs-params">view, url</span>) {
    <span class="hljs-comment">// æ‹¦æˆªè‡ªå®šä¹‰åè®®</span>
    <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'jsbridge://'</span>)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleJSBridgeUrl</span>(url);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‹¦æˆªå¤„ç†,ä¸åŠ è½½URL</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// æ­£å¸¸åŠ è½½</span>
  }

  <span class="hljs-title function_">handleJSBridgeUrl</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-comment">// è§£æ: jsbridge://getLocation?params=xxx&amp;callbackId=cb_1</span>
    <span class="hljs-keyword">const</span> urlObj = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(url);
    <span class="hljs-keyword">const</span> method = urlObj.<span class="hljs-property">hostname</span>;  <span class="hljs-comment">// getLocation</span>
    <span class="hljs-keyword">const</span> params = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(
      <span class="hljs-built_in">decodeURIComponent</span>(urlObj.<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'params'</span>))
    );
    <span class="hljs-keyword">const</span> callbackId = urlObj.<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'callbackId'</span>);

    <span class="hljs-comment">// è°ƒç”¨åŸç”Ÿèƒ½åŠ›</span>
    <span class="hljs-keyword">switch</span>(method) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'getLocation'</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLocation</span>(params, <span class="hljs-function">(<span class="hljs-params">location</span>) =&gt;</span> {
          <span class="hljs-comment">// å›è°ƒJavaScript</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callJS</span>(callbackId, {
            <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">data</span>: location
          });
        });
        <span class="hljs-keyword">break</span>;
    }
  }

  <span class="hljs-title function_">callJS</span>(<span class="hljs-params">callbackId, result</span>) {
    <span class="hljs-keyword">const</span> script = <span class="hljs-string">`window._handleMessageFromNative('<span class="hljs-subst">${callbackId}</span>', <span class="hljs-subst">${
      <span class="hljs-built_in">JSON</span>.stringify(result)
    }</span>)`</span>;
    webView.evaluateJavascript(script, <span class="hljs-literal">null</span>);
  }

  <span class="hljs-title function_">getLocation</span>(<span class="hljs-params">params, callback</span>) {
    <span class="hljs-comment">// è°ƒç”¨Android LocationManagerè·å–ä½ç½®</span>
    <span class="hljs-comment">// è¿™é‡Œæ˜¯ä¼ªä»£ç ,å®é™…éœ€è¦åŸç”ŸJava/Kotlinå®ç°</span>
    <span class="hljs-keyword">const</span> location = {
      <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.404</span>,
      <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.915</span>
    };
    <span class="hljs-title function_">callback</span>(location);
  }
}
</code></pre>
<h3 data-id="heading-20">äº”ã€æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-21">5.1 æ€§èƒ½ä¼˜åŒ–è¦ç‚¹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[JSBridgeæ€§èƒ½ä¼˜åŒ–] --&gt; B[é€šä¿¡ä¼˜åŒ–]
    A --&gt; C[æ•°æ®ä¼˜åŒ–]
    A --&gt; D[è°ƒç”¨ä¼˜åŒ–]
    A --&gt; E[å†…å­˜ç®¡ç†]

    B --&gt; B1[å‡å°‘é€šä¿¡é¢‘æ¬¡]
    B --&gt; B2[æ‰¹é‡ä¼ è¾“æ•°æ®]
    B --&gt; B3[ä½¿ç”¨å¢é‡æ›´æ–°]
    B --&gt; B4[é¿å…å¤§æ•°æ®ä¼ è¾“]

    C --&gt; C1[JSONåºåˆ—åŒ–ä¼˜åŒ–]
    C --&gt; C2[æ•°æ®å‹ç¼©]
    C --&gt; C3[æƒ°æ€§åŠ è½½]
    C --&gt; C4[ç¼“å­˜æœºåˆ¶]

    D --&gt; D1[å¼‚æ­¥éé˜»å¡]
    D --&gt; D2[è¶…æ—¶å¤„ç†]
    D --&gt; D3[å¤±è´¥é‡è¯•]
    D --&gt; D4[é™çº§æ–¹æ¡ˆ]

    E --&gt; E1[åŠæ—¶é‡Šæ”¾å›è°ƒ]
    E --&gt; E2[é¿å…å†…å­˜æ³„æ¼]
    E --&gt; E3[é™åˆ¶é˜Ÿåˆ—é•¿åº¦]

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
    style E fill:#ffe0b2
</code></pre>
<h4 data-id="heading-22">5.2 æœ€ä½³å®è·µ</h4>
<p><strong>1. åˆç†ä½¿ç”¨setData(å°ç¨‹åºåœºæ™¯):</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸å¥½çš„åšæ³•</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
    [<span class="hljs-string">`items[<span class="hljs-subst">${i}</span>]`</span>]: data[i]
  });  <span class="hljs-comment">// 100æ¬¡é€šä¿¡</span>
}

<span class="hljs-comment">// å¥½çš„åšæ³•</span>
<span class="hljs-keyword">const</span> updates = {};
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  updates[<span class="hljs-string">`items[<span class="hljs-subst">${i}</span>]`</span>] = data[i];
}
<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(updates);  <span class="hljs-comment">// 1æ¬¡é€šä¿¡</span>
</code></pre>
<p><strong>2. å®ç°è¶…æ—¶ä¸é”™è¯¯å¤„ç†:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeJSBridge</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ModernJSBridge</span> {
  <span class="hljs-title function_">invoke</span>(<span class="hljs-params">method, params = {}, timeout = <span class="hljs-number">5000</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([
      <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">invoke</span>(method, params),
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`è°ƒç”¨<span class="hljs-subst">${method}</span>è¶…æ—¶`</span>));
        }, timeout);
      })
    ]);
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> bridge.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'slowMethod'</span>, {}, <span class="hljs-number">3000</span>);
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-keyword">if</span> (error.<span class="hljs-property">message</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'è¶…æ—¶'</span>)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯·æ±‚è¶…æ—¶,è¯·æ£€æŸ¥ç½‘ç»œ'</span>);
  }
}
</code></pre>
<p><strong>3. æƒé™ä¸å®‰å…¨æ£€æŸ¥:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// JSSDKå®‰å…¨æœ€ä½³å®è·µ</span>
<span class="hljs-keyword">const</span> secureConfig = {
  <span class="hljs-comment">// 1. ç­¾ååœ¨åç«¯ç”Ÿæˆ,å‰ç«¯ä¸æš´éœ²secret</span>
  <span class="hljs-attr">getSignature</span>: <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/wechat/signature'</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ url })
    });
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  },

  <span class="hljs-comment">// 2. åŠ¨æ€é…ç½®jsApiList,æŒ‰éœ€æˆæƒ</span>
  <span class="hljs-attr">init</span>: <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> signature = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getSignature</span>(location.<span class="hljs-property">href</span>);
    wx.<span class="hljs-title function_">config</span>({
      ...signature,
      <span class="hljs-attr">jsApiList</span>: [<span class="hljs-string">'chooseImage'</span>]  <span class="hljs-comment">// åªç”³è¯·éœ€è¦çš„æƒé™</span>
    });
  }
};
</code></pre>
<h3 data-id="heading-23">å…­ã€è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-24">6.1 è°ƒè¯•æµç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[å¼€å‘é˜¶æ®µ] --&gt; B{å¯ç”¨debugæ¨¡å¼}
    B --&gt;|wx.config debug:true| C[æŸ¥çœ‹vconsoleæ—¥å¿—]
    B --&gt;|Chrome DevTools| D[æ–­ç‚¹è°ƒè¯•]

    C --&gt; E[æ£€æŸ¥APIè°ƒç”¨]
    D --&gt; E

    E --&gt; F{å®šä½é—®é¢˜}
    F --&gt;|ç­¾åé”™è¯¯| G[æ£€æŸ¥åç«¯ç­¾åé€»è¾‘]
    F --&gt;|APIè°ƒç”¨å¤±è´¥| H[æ£€æŸ¥æƒé™é…ç½®]
    F --&gt;|é€šä¿¡å¼‚å¸¸| I[æ£€æŸ¥JSBridgeå®ç°]

    G --&gt; J[ä¿®å¤å¹¶é‡æµ‹]
    H --&gt; J
    I --&gt; J

    style B fill:#ff9800
    style F fill:#f44336
    style J fill:#4caf50
</code></pre>
<h4 data-id="heading-25">6.2 å¸¸è§é—®é¢˜æ’æŸ¥</h4>
<p><strong>1. å¾®ä¿¡JSSDKç­¾åå¤±è´¥:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è°ƒè¯•ç­¾åé—®é¢˜</span>
wx.<span class="hljs-title function_">config</span>({
  <span class="hljs-attr">debug</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// å¼€å¯è°ƒè¯•æ¨¡å¼</span>
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
});

wx.<span class="hljs-title function_">error</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é…ç½®å¤±è´¥è¯¦æƒ…:'</span>, res);
  <span class="hljs-comment">// å¸¸è§é”™è¯¯:</span>
  <span class="hljs-comment">// invalid signature - ç­¾åé”™è¯¯,æ£€æŸ¥URLæ˜¯å¦ä¸€è‡´(ä¸å«#hash)</span>
  <span class="hljs-comment">// invalid url domain - åŸŸåæœªé…ç½®åˆ°ç™½åå•</span>
});

<span class="hljs-comment">// æ£€æŸ¥ç‚¹:</span>
<span class="hljs-comment">// 1. ç¡®ä¿URLä¸åŒ…å«hashéƒ¨åˆ†</span>
<span class="hljs-keyword">const</span> url = location.<span class="hljs-property">href</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'#'</span>)[<span class="hljs-number">0</span>];

<span class="hljs-comment">// 2. ç¡®ä¿timestampæ˜¯æ•´æ•°</span>
<span class="hljs-keyword">const</span> timestamp = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() / <span class="hljs-number">1000</span>);

<span class="hljs-comment">// 3. ç¡®ä¿ç­¾åç®—æ³•æ­£ç¡®(SHA1)</span>
<span class="hljs-comment">// ç­¾ååŸä¸²: jsapi_ticket=xxx&amp;noncestr=xxx&amp;timestamp=xxx&amp;url=xxx</span>
</code></pre>
<p><strong>2. å°ç¨‹åºsetDataæ€§èƒ½é—®é¢˜:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¼€å¯æ€§èƒ½ç›‘æ§</span>
wx.<span class="hljs-title function_">setEnableDebug</span>({
  <span class="hljs-attr">enableDebug</span>: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// ç›‘æ§setDataæ€§èƒ½</span>
<span class="hljs-keyword">const</span> perfObserver = wx.<span class="hljs-title function_">createPerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> {
  entries.<span class="hljs-title function_">getEntries</span>().<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">entry</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">entryType</span> === <span class="hljs-string">'render'</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¸²æŸ“è€—æ—¶:'</span>, entry.<span class="hljs-property">duration</span>);
    }
  });
});

perfObserver.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">entryTypes</span>: [<span class="hljs-string">'render'</span>, <span class="hljs-string">'script'</span>] });
</code></pre>
<h3 data-id="heading-26">ä¸ƒã€æ€»ç»“</h3>
<p>JSBridgeä½œä¸ºHybridå¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯,é€šè¿‡å»ºç«‹JavaScriptä¸Nativeçš„é€šä¿¡æ¡¥æ¢,å®ç°äº†WebæŠ€æœ¯ä¸åŸç”Ÿèƒ½åŠ›çš„å®Œç¾èåˆã€‚æœ¬æ–‡é€šè¿‡å‰–æå¾®ä¿¡å…¬ä¼—å·JSSDKå’Œå°ç¨‹åºSDK,æ·±å…¥ç†è§£äº†ä»¥ä¸‹å…³é”®ç‚¹:</p>
<ol>
<li><strong>é€šä¿¡æœºåˆ¶</strong>: URL Schemaæ‹¦æˆªã€APIæ³¨å…¥ã€MessageHandlerä¸‰ç§ä¸»æµæ–¹å¼</li>
<li><strong>æ¶æ„è®¾è®¡</strong>: å¾®ä¿¡å°ç¨‹åºçš„åŒçº¿ç¨‹æ¨¡å‹æä¾›äº†å®‰å…¨æ€§å’Œæ€§èƒ½çš„æœ€ä½³å¹³è¡¡</li>
<li><strong>å®ç°åŸç†</strong>: ä»JSSDKçš„ç­¾åéªŒè¯åˆ°å°ç¨‹åºçš„setDataæœºåˆ¶,ç†è§£äº†å®Œæ•´çš„è°ƒç”¨é“¾è·¯</li>
<li><strong>æœ€ä½³å®è·µ</strong>: æ€§èƒ½ä¼˜åŒ–ã€é”™è¯¯å¤„ç†ã€å®‰å…¨é˜²æŠ¤ç­‰å·¥ç¨‹åŒ–ç»éªŒ</li>
</ol>
<p>æŒæ¡JSBridgeåŸç†ä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨å¾®ä¿¡ç”Ÿæ€çš„å„ç§èƒ½åŠ›,ä¹Ÿä¸ºæ„å»ºè‡ªå·±çš„Hybridæ¡†æ¶æä¾›äº†åšå®çš„ç†è®ºåŸºç¡€ã€‚åœ¨å®é™…é¡¹ç›®ä¸­,åº”æ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„å®ç°æ–¹æ¡ˆ,å¹¶æŒç»­å…³æ³¨æ€§èƒ½ä¸å®‰å…¨,æ‰“é€ æ›´ä¼˜è´¨çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-27">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fzz_jesse%2Farticle%2Fdetails%2F131297966" target="_blank" title="https://blog.csdn.net/zz_jesse/article/details/131297966" ref="nofollow noopener noreferrer">ä»å¾®ä¿¡JS-SDKè®¤è¯†JSBridge - CSDN</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F429774488" target="_blank" title="https://zhuanlan.zhihu.com/p/429774488" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åºæ¸²æŸ“å±‚ä¸é€»è¾‘å±‚ç‹¬ç«‹åŠJSBridgeåŸç†åˆ†æ - çŸ¥ä¹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_89241768%2Farticle%2Fdetails%2F149710338" target="_blank" title="https://blog.csdn.net/2401_89241768/article/details/149710338" ref="nofollow noopener noreferrer">JSBridgeåŸç†ä¸å®ç°å…¨è§£æ - CSDN</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rootsense.com.cn%2Fh5%2Fsmart%2Fdeveloping%2F241.htm" target="_blank" title="https://www.rootsense.com.cn/h5/smart/developing/241.htm" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åºåŸºç¡€æ¶æ„æµ…æ - ROOTSENSE</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascript.plainenglish.io%2Fwhat-is-jsbridge-f72f3c0987f1" target="_blank" title="https://javascript.plainenglish.io/what-is-jsbridge-f72f3c0987f1" ref="nofollow noopener noreferrer">What is JSBridge - JavaScript in Plain English</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F818505" target="_blank" title="https://developer.aliyun.com/article/818505" ref="nofollow noopener noreferrer">ä¸€æ–‡è¯¦è§£JSBridgeå®ç°åŸç† - é˜¿é‡Œäº‘</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter å¼€å‘å®æˆ˜ï¼šè§£å†³åä¸º HarmonyOS ä»»åŠ¡åˆ—è¡¨ä¸æ˜¾ç¤º App åç§°çš„ç»ˆææŒ‡å—]]></title>    <link>https://juejin.cn/post/7586540799250989110</link>    <guid>https://juejin.cn/post/7586540799250989110</guid>    <pubDate>2025-12-22T15:56:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586540799250989110" data-draft-id="7586500093844439082" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter å¼€å‘å®æˆ˜ï¼šè§£å†³åä¸º HarmonyOS ä»»åŠ¡åˆ—è¡¨ä¸æ˜¾ç¤º App åç§°çš„ç»ˆææŒ‡å—"/> <meta itemprop="keywords" content="Flutter,Android,åä¸º"/> <meta itemprop="datePublished" content="2025-12-22T15:56:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨å¤œå¯»æ™´å¤©"/> <meta itemprop="url" content="https://juejin.cn/user/1943592288391496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter å¼€å‘å®æˆ˜ï¼šè§£å†³åä¸º HarmonyOS ä»»åŠ¡åˆ—è¡¨ä¸æ˜¾ç¤º App åç§°çš„ç»ˆææŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592288391496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨å¤œå¯»æ™´å¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:56:23.000Z" title="Mon Dec 22 2025 15:56:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,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) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜èƒŒæ™¯</h2>
<p>åœ¨ Flutter åº”ç”¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„å…¼å®¹æ€§é—®é¢˜ï¼šåœ¨éƒ¨åˆ† <strong>åä¸ºæ‰‹æœºï¼ˆHarmonyOS 4.2.0ï¼Œå¦‚ Mate 30 Pro 5Gï¼‰</strong> ä¸Šï¼Œåº”ç”¨è¿è¡Œæ—¶çš„<strong>æœ€è¿‘ä»»åŠ¡åˆ—è¡¨ï¼ˆOverview Screenï¼‰<strong>ä¸­ï¼Œåªæ˜¾ç¤ºåº”ç”¨å›¾æ ‡ï¼Œå´</strong>ä¸æ˜¾ç¤ºåº”ç”¨åç§°ï¼ˆApp Nameï¼‰</strong>ã€‚</p>
<p>è™½ç„¶æˆ‘ä»¬åœ¨ <code>AndroidManifest.xml</code> ä¸­æ­£ç¡®é…ç½®äº† <code>android:label</code>ï¼Œä½†åœ¨ HarmonyOS ç³»ç»Ÿä¸Šä¾ç„¶æ— æ•ˆã€‚è¿™ä¸ä»…å½±å“ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿå¯èƒ½å¯¼è‡´åº”ç”¨åœ¨å®¡æ ¸æ—¶è¢«æ‹’ï¼ˆå¦‚åä¸ºåº”ç”¨å¸‚åœºå®¡æ ¸æŒ‡å—ç¬¬ 2.19 é¡¹ï¼‰ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜åˆ†æ</h2>
<p>ç»è¿‡å¤šæ¬¡æ’æŸ¥ä¸å°è¯•ï¼Œæˆ‘ä»¬å‘ç°è¯¥é—®é¢˜ä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªå› ç´ å…±åŒå¯¼è‡´ï¼š</p>
<ol>
<li><strong>Flutter å¼•æ“åˆå§‹åŒ–å¹²æ‰°</strong>ï¼šFlutterActivity åˆå§‹åŒ–è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡ç½®çª—å£å±æ€§ï¼Œå¯¼è‡´åŸç”Ÿçš„æ ‡ç­¾è®¾ç½®è¢«è¦†ç›–ã€‚</li>
<li><strong>API å…¼å®¹æ€§</strong>ï¼šAndroid ä¸åŒç‰ˆæœ¬å¯¹ <code>TaskDescription</code>ï¼ˆä»»åŠ¡æè¿°ï¼‰çš„ API æ”¯æŒä¸åŒã€‚HarmonyOS åŸºäºè¾ƒæ–°çš„ Android ç‰ˆæœ¬ï¼Œå¯¹æ—§ç‰ˆ APIï¼ˆå¦‚åŸºäº Bitmap çš„è®¾ç½®ï¼‰å¯èƒ½å…¼å®¹æ€§ä¸ä½³ã€‚</li>
<li><strong>èµ„æºåŠ è½½æœºåˆ¶</strong>ï¼šç›´æ¥ç¡¬ç¼–ç å­—ç¬¦ä¸²å¯èƒ½å¯¼è‡´ç¼–ç æˆ–åŠ è½½å¤±è´¥ï¼Œå¿…é¡»è§„èŒƒä½¿ç”¨ <code>strings.xml</code> èµ„æºã€‚</li>
<li><strong>æ—¶åºé—®é¢˜</strong>ï¼šä»…åœ¨ <code>onCreate</code> ä¸­è®¾ç½®å¯èƒ½è¿‡æ—©ï¼Œåº”ç”¨å¯åŠ¨åçš„æŸäº›ç³»ç»Ÿå›è°ƒå¯èƒ½ä¼šå†æ¬¡åˆ·æ–°ä»»åŠ¡çŠ¶æ€ï¼Œå¯¼è‡´è®¾ç½®å¤±æ•ˆã€‚</li>
</ol>
<h2 data-id="heading-2">è§£å†³æ–¹æ¡ˆï¼šä¸‰çº§åŠ å›ºç­–ç•¥</h2>
<p>ä¸ºäº†å½»åº•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€å¥—â€œç»„åˆæ‹³â€æ–¹æ¡ˆï¼Œä»èµ„æºé…ç½®åˆ°åŸç”Ÿä»£ç å±‚å±‚åŠ å›ºã€‚</p>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šè§„èŒƒåŒ–èµ„æºé…ç½®</h3>
<p>é¦–å…ˆï¼Œç¡®ä¿ <code>AndroidManifest.xml</code> ä¸­ä¸ä½¿ç”¨ç¡¬ç¼–ç ï¼Œè€Œæ˜¯å¼•ç”¨èµ„æºæ–‡ä»¶ã€‚</p>
<p><strong>1. å®šä¹‰ <code>strings.xml</code></strong>
åœ¨ <code>android/app/src/main/res/values/strings.xml</code> å’Œ <code>values-zh/strings.xml</code> ä¸­æ˜ç¡®å®šä¹‰åº”ç”¨åï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"app_name"</span>&gt;</span>æ‚¨çš„åº”ç”¨åç§°<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
</code></pre>
<p><strong>2. é…ç½® <code>AndroidManifest.xml</code></strong>
ç¡®ä¿ <code>application</code> å’Œ <code>activity</code> èŠ‚ç‚¹éƒ½å¼•ç”¨äº†è¯¥èµ„æºï¼Œå¹¶é…ç½® <code>localeConfig</code>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">application</span>
    <span class="hljs-attr">android:label</span>=<span class="hljs-string">"@string/app_name"</span>
    <span class="hljs-attr">android:localeConfig</span>=<span class="hljs-string">"@xml/locales_config"</span>
    <span class="hljs-attr">...</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MainActivity"</span>
        <span class="hljs-attr">android:label</span>=<span class="hljs-string">"@string/app_name"</span>
        <span class="hljs-attr">...</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>
</code></pre>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šåŸç”Ÿä»£ç å¼ºåˆ¶å¹²é¢„ (Kotlin)</h3>
<p>è¿™æ˜¯è§£å†³é—®é¢˜çš„æ ¸å¿ƒã€‚æˆ‘ä»¬éœ€è¦åœ¨ <code>MainActivity.kt</code> ä¸­æ‰‹åŠ¨è®¾ç½® <code>TaskDescription</code>ã€‚æˆ‘ä»¬é‡‡ç”¨äº† <strong>â€œä¸‰çº§åŠ å›ºâ€</strong> ç­–ç•¥ï¼š</p>
<ol>
<li><strong>å¤šç”Ÿå‘½å‘¨æœŸè®¾ç½®</strong>ï¼šåœ¨ <code>onCreate</code>ï¼ˆåˆ›å»ºæ—¶ï¼‰å’Œ <code>onResume</code>ï¼ˆå¯è§æ—¶ï¼‰éƒ½è¿›è¡Œè®¾ç½®ã€‚</li>
<li><strong>å»¶è¿Ÿè®¾ç½®</strong>ï¼šåœ¨ <code>onResume</code> åå»¶è¿Ÿ 1 ç§’å†æ¬¡å¼ºåˆ¶åˆ·æ–°ï¼Œé˜²æ­¢è¢« Flutter å¼•æ“åç»­é€»è¾‘è¦†ç›–ã€‚</li>
<li><strong>API è‡ªé€‚åº”</strong>ï¼šé’ˆå¯¹ Android 9.0+ ä½¿ç”¨èµ„æº ID æ–¹å¼ï¼ˆæ›´ç¨³å®šï¼‰ï¼Œæ—§ç‰ˆæœ¬ä½¿ç”¨ Bitmap æ–¹å¼ã€‚</li>
</ol>
<p><strong>å®Œæ•´ä»£ç å®ç° (<code>MainActivity.kt</code>)ï¼š</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.your.<span class="hljs-keyword">package</span>.name

<span class="hljs-keyword">import</span> android.app.ActivityManager
<span class="hljs-keyword">import</span> android.graphics.BitmapFactory
<span class="hljs-keyword">import</span> android.os.Build
<span class="hljs-keyword">import</span> android.os.Bundle
<span class="hljs-keyword">import</span> android.os.Handler
<span class="hljs-keyword">import</span> android.os.Looper
<span class="hljs-keyword">import</span> android.util.Log
<span class="hljs-keyword">import</span> io.flutter.embedding.android.FlutterActivity

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">FlutterActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        <span class="hljs-comment">// 1. åˆå§‹åŒ–æ—¶å°è¯•è®¾ç½®</span>
        updateTaskDescription()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onResume</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onResume()
        <span class="hljs-comment">// 2. ç•Œé¢å¯è§æ—¶å†æ¬¡è®¾ç½®</span>
        updateTaskDescription()
        
        <span class="hljs-comment">// 3. å…³é”®ä¿®å¤ï¼šå»¶è¿Ÿ 1 ç§’å†æ¬¡è®¾ç½®</span>
        <span class="hljs-comment">// é˜²æ­¢ Flutter å¼•æ“åœ¨å¯åŠ¨å®Œæˆåé‡ç½®äº†çª—å£å±æ€§ï¼Œå¯¼è‡´ä¹‹å‰çš„è®¾ç½®å¤±æ•ˆ</span>
        Handler(Looper.getMainLooper()).postDelayed({
            updateTaskDescription()
        }, <span class="hljs-number">1000</span>)
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateTaskDescription</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> appName = getString(R.string.app_name)
            
            <span class="hljs-comment">// å°è¯•è®¾ç½®çª—å£æ ‡é¢˜ï¼Œä½œä¸ºä¸€ç§è¡¥å……æ‰‹æ®µ</span>
            <span class="hljs-keyword">try</span> {
                title = appName
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                <span class="hljs-comment">// å¿½ç•¥è®¾ç½® title å¤±è´¥</span>
            }

            <span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {
                <span class="hljs-comment">// Android 9 (API 28) åŠä»¥ä¸Šï¼šç›´æ¥ä½¿ç”¨èµ„æº IDï¼Œæ›´ç¨³å®š</span>
                <span class="hljs-comment">// ç¬¬ä¸‰ä¸ªå‚æ•° 0 è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤é¢œè‰²</span>
                <span class="hljs-keyword">val</span> taskDescription = ActivityManager.TaskDescription(appName, R.mipmap.launcher_icon, <span class="hljs-number">0</span>)
                setTaskDescription(taskDescription)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {
                <span class="hljs-comment">// Android 5.0 è‡³ 8.1ï¼šä½¿ç”¨ Bitmap è§£ç </span>
                <span class="hljs-keyword">val</span> icon = BitmapFactory.decodeResource(resources, R.mipmap.launcher_icon)
                <span class="hljs-keyword">val</span> taskDescription = ActivityManager.TaskDescription(appName, icon)
                setTaskDescription(taskDescription)
            }
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            Log.e(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Failed to update TaskDescription"</span>, e)
        }
    }
}
</code></pre>
<h2 data-id="heading-5">å°ç»“</h2>
<p>åä¸º HarmonyOS ç³»ç»Ÿå¯¹åº”ç”¨å…ƒæ•°æ®çš„è¯»å–æœºåˆ¶è¾ƒä¸ºä¸¥æ ¼ã€‚é€šè¿‡åœ¨åŸç”Ÿå±‚ä¸»åŠ¨è°ƒç”¨ <code>setTaskDescription</code>ï¼Œå¹¶é…åˆ <strong>å»¶è¿Ÿæ‰§è¡Œ</strong> ç­–ç•¥ï¼Œæˆ‘ä»¬æˆåŠŸç»•è¿‡äº†ç³»ç»Ÿæˆ–æ¡†æ¶å±‚é¢çš„å¹²æ‰°ï¼Œç¡®ä¿äº†åº”ç”¨åç§°åœ¨æœ€è¿‘ä»»åŠ¡åˆ—è¡¨ä¸­æ­£ç¡®æ˜¾ç¤ºã€‚</p>
<p>å¦‚æœæ‚¨çš„ Flutter åº”ç”¨ä¹Ÿé‡åˆ°äº†ç±»ä¼¼é—®é¢˜ï¼Œä¸å¦¨å°è¯•ä¸Šè¿°æ–¹æ¡ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» v5 åˆ° v6ï¼šè¿™æ¬¡ Ant Design å‡çº§çœŸçš„é¦™]]></title>    <link>https://juejin.cn/post/7586338196302577710</link>    <guid>https://juejin.cn/post/7586338196302577710</guid>    <pubDate>2025-12-22T14:18:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586338196302577710" data-draft-id="7586504691845660681" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» v5 åˆ° v6ï¼šè¿™æ¬¡ Ant Design å‡çº§çœŸçš„é¦™"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-22T14:18:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€å°å’"/> <meta itemprop="url" content="https://juejin.cn/user/1943592286564045"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» v5 åˆ° v6ï¼šè¿™æ¬¡ Ant Design å‡çº§çœŸçš„é¦™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592286564045/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€å°å’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:18:56.000Z" title="Mon Dec 22 2025 14:18:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025 å¹´ 11 æœˆåº•ï¼ŒAnt Design æ­£å¼å‘å¸ƒäº† v6 ç‰ˆæœ¬ã€‚</p>
<p>å›é¡¾è¿‡å»ï¼Œä» v3 åˆ° v4 çš„æ–­å´–å¼å‡çº§ï¼Œåˆ° v5 å¼•å…¥ CSS-in-JS å¸¦æ¥çš„å¿ƒæ™ºè´Ÿæ‹…å’Œæ€§èƒ½å‹åŠ›ï¼Œå¾ˆå¤šå‰ç«¯åŒå­¦ä¸€æåˆ°â€œå‡çº§â€å°±æ¡ä»¶åå°„èˆ¬æŠ¤ä½å‘é™…çº¿ã€‚ä½†è¿™ä¸€æ¬¡ï¼ŒAnt Design å›¢é˜Ÿæ˜æ˜¾å¬åˆ°äº†ç¤¾åŒºçš„å‘¼å£°ã€‚</p>
<p>v6 æ²¡æœ‰ä¸ºäº†â€œåˆ›æ–°â€è€Œæå¤§åˆ€é˜”æ–§çš„é‡æ„ï¼Œè€Œæ˜¯èšç„¦äº<strong>è§£å†³é•¿æœŸç—›ç‚¹</strong>ã€<strong>æå‡å¼€å‘ä½“éªŒ</strong>å’Œ<strong>å¹³æ»‘è¿ç§»</strong>ã€‚æœ¬æ–‡ç»“åˆä¸€çº¿ä¸šåŠ¡å¼€å‘ä¸­çš„çœŸå®åœºæ™¯ï¼ŒèŠèŠ v6 çš„æ ¸å¿ƒå˜åŒ–ï¼Œä»¥åŠè¿™æ¬¡å‡çº§åˆ°åº•å€¼ä¸å€¼å¾—å‡ã€‚</p>
<h2 data-id="heading-0">æ ·å¼è¦†ç›–ä¸å†æ˜¯â€œç„å­¦â€</h2>
<p>ä½ ä¸€å®šæ·±æœ‰ä½“ä¼šï¼šè®¾è®¡å¸ˆè¦æ±‚æ”¹ <code>Select</code> ä¸‹æ‹‰æ¡†èƒŒæ™¯è‰²ã€è°ƒæ•´ <code>Modal</code> å¤´éƒ¨å†…è¾¹è·ï¼Œæˆ–è€…ç»™ <code>Table</code> çš„æŸä¸ªå•å…ƒæ ¼åŠ ç‰¹æ®Šæ ·å¼ã€‚åœ¨ v5 åŠä¹‹å‰ï¼Œä½ åªèƒ½æ‰“å¼€æ§åˆ¶å°ï¼Œä¸€å±‚å±‚æ‰’ DOM ç»“æ„ï¼Œæ‰¾åˆ°ç±»ä¼¼ <code>.ant-select-selector</code> çš„ classï¼Œç„¶åç”¨ <code>:global</code> æˆ– <code>!important</code> æš´åŠ›è¦†ç›–ã€‚ä¸€æ—¦ç»„ä»¶åº“å†…éƒ¨ DOM å¾®è°ƒï¼Œä½ çš„æ ·å¼å°±å´©äº†ã€‚</p>
<p><strong>å…¨é‡ DOM è¯­ä¹‰åŒ– + ç»†ç²’åº¦ classNames / styles API</strong><br/>
v6 å¯¹æ‰€æœ‰ç»„ä»¶è¿›è¡Œäº† <strong>DOM è¯­ä¹‰åŒ–æ”¹é€ </strong>ï¼ˆå¦‚ç”¨ <code>&lt;header&gt;</code>ã€<code>&lt;main&gt;</code> ç­‰ä»£æ›¿æ— æ„ä¹‰çš„ <code>&lt;div&gt;</code>ï¼‰ï¼Œæ›´é‡è¦çš„æ˜¯å¼•å…¥äº†å¤æ•°å½¢å¼çš„ <code>classNames</code> å’Œ <code>styles</code> å±æ€§ï¼Œè®©ä½ ç›´æ¥é€šè¿‡è¯­ä¹‰åŒ–çš„ key æ¥å®šåˆ¶å…³é”®åŒºåŸŸã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// v6 å†™æ³•ï¼šç²¾å‡†ã€å®‰å…¨ã€å¥å£®</span>
&lt;<span class="hljs-title class_">Modal</span>
  title=<span class="hljs-string">"ä¸šåŠ¡é…ç½®"</span>
  open={<span class="hljs-literal">true</span>}
  classNames={{
    <span class="hljs-attr">header</span>: <span class="hljs-string">'my-modal-header'</span>,
    <span class="hljs-attr">body</span>: <span class="hljs-string">'my-modal-body'</span>,
    <span class="hljs-attr">footer</span>: <span class="hljs-string">'my-modal-footer'</span>,
    <span class="hljs-attr">mask</span>: <span class="hljs-string">'glass-blur-mask'</span>, <span class="hljs-comment">// ç”šè‡³èƒ½ç›´æ¥æ§åˆ¶é®ç½©</span>
    <span class="hljs-attr">content</span>: <span class="hljs-string">'my-modal-content'</span>,
  }}
  styles={{
    <span class="hljs-attr">header</span>: { <span class="hljs-attr">borderBottom</span>: <span class="hljs-string">'1px solid #eee'</span>, <span class="hljs-attr">padding</span>: <span class="hljs-string">'16px 24px'</span> },
    <span class="hljs-attr">body</span>: { <span class="hljs-attr">padding</span>: <span class="hljs-string">'24px'</span> },
  }}
&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹åŒºåŸŸ...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
&lt;/<span class="hljs-title class_">Modal</span>&gt;
</code></pre>
<p><strong>v5 vs v6 å¯¹æ¯”ï¼ˆModal å¤´éƒ¨æ ·å¼å®šåˆ¶ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// v5ï¼ˆhack å†™æ³•ï¼Œæ˜“å´©ï¼‰</span>
<span class="hljs-keyword">import</span> { <span class="hljs-variable language_">global</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>; <span class="hljs-comment">// æˆ–ç›´æ¥å†™ less</span>
:<span class="hljs-title function_">global</span>(<span class="hljs-params">.ant-modal-header</span>) {
  border-<span class="hljs-attr">bottom</span>: 1px solid #eee !important;
}
</code></pre>
<p><strong>v6 æŠ€æœ¯ä»·å€¼</strong></p>
<ul>
<li><strong>ä¸å†ä¾èµ–å†…éƒ¨ class å</strong>ï¼šå®˜æ–¹æ‰¿è¯ºè¿™äº› keyï¼ˆå¦‚ headerã€bodyï¼‰çš„å­˜åœ¨ï¼Œå³ä½¿æœªæ¥ DOM ç»“æ„å˜åŒ–ï¼Œä½ çš„æ ·å¼ä¾ç„¶æœ‰æ•ˆã€‚</li>
<li><strong>æ”¯æŒåŠ¨æ€æ ·å¼</strong>ï¼š<code>styles</code> å±æ€§æ¥å—å¯¹è±¡ï¼Œæ–¹ä¾¿ç»“åˆä¸»é¢˜æˆ– props åŠ¨æ€ç”Ÿæˆã€‚</li>
</ul>
<h2 data-id="heading-1">åŸç”Ÿ CSS å˜é‡å…¨é¢å›å½’</h2>
<p>v5 çš„ CSS-in-JS æ–¹æ¡ˆè™½ç„¶è§£å†³äº†æŒ‰éœ€åŠ è½½å’ŒåŠ¨æ€ä¸»é¢˜ï¼Œä½†åœ¨å¤§å‹åå°ç³»ç»Ÿé‡Œï¼Œè¿è¡Œæ—¶ç”Ÿæˆæ ·å¼çš„ JS å¼€é”€ä»ç„¶æ˜æ˜¾ï¼Œå°¤å…¶åœ¨ä½ç«¯è®¾å¤‡ä¸Šåˆ‡æ¢ä¸»é¢˜æˆ–è·¯ç”±æ—¶å®¹æ˜“æ‰å¸§ã€é—ªçƒã€‚</p>
<p><strong>v6 çš„è§£æ³•ï¼šé›¶è¿è¡Œæ—¶ï¼ˆZero-runtimeï¼‰CSS å˜é‡æ¨¡å¼</strong><br/>
å½»åº•æŠ›å¼ƒ CSS-in-JSï¼Œé»˜è®¤ä½¿ç”¨åŸç”Ÿ CSS Variablesï¼ˆCustom Propertiesï¼‰ã€‚</p>
<ul>
<li><strong>ä½“ç§¯æ›´å°</strong>ï¼šCSS æ–‡ä»¶æ˜¾è‘—å‡å°ï¼ˆå®˜æ–¹ç§°éƒ¨åˆ†åœºæ™¯ä¸‹å‡å°‘ 30%+ï¼‰ã€‚</li>
<li><strong>å“åº”æ›´å¿«</strong>ï¼šä¸»é¢˜åˆ‡æ¢åªéœ€ä¿®æ”¹ CSS å˜é‡å€¼ï¼Œæµè§ˆå™¨åŸç”Ÿå¤„ç†ï¼Œæ¯«ç§’çº§ç”Ÿæ•ˆï¼Œæ— éœ€é‡æ–°ç”Ÿæˆå“ˆå¸Œç±»åã€‚</li>
<li><strong>æš—é»‘æ¨¡å¼å‹å¥½</strong>ï¼šç›´æ¥é€šè¿‡ <code>--antd-color-primary</code> ç­‰å˜é‡å®ç°å…¨å±€ä¸»é¢˜åˆ‡æ¢ã€‚</li>
</ul>
<p>è¿™å¯¹éœ€è¦æ”¯æŒå¤šå“ç‰Œè‰²ã€æš—é»‘æ¨¡å¼çš„ SaaS å¹³å°æ¥è¯´ï¼Œæ˜¯å·¨å¤§çš„æ€§èƒ½çº¢åˆ©ã€‚</p>
<h2 data-id="heading-2">é«˜é¢‘åœºæ™¯å®˜æ–¹æ¥ç®¡</h2>
<p>ç€‘å¸ƒæµå¸ƒå±€ã€Drawer æ‹–æ‹½è°ƒæ•´å¤§å°ã€InputNumber åŠ å‡æŒ‰é’®ç­‰ï¼Œéƒ½æ˜¯ä¸šåŠ¡ä¸­å¸¸è§éœ€æ±‚ï¼Œä½†ä¹‹å‰å¾€å¾€éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“æˆ–è‡ªå·±æ‰‹å†™ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬å’Œæ‰“åŒ…ä½“ç§¯ã€‚</p>
<p><strong>v6 çš„è§£æ³•ï¼šæ–°å¢å®ç”¨ç»„ä»¶ &amp; äº¤äº’ä¼˜åŒ–</strong></p>
<ul>
<li><strong>Masonry ç€‘å¸ƒæµ</strong>ï¼ˆå†…ç½®ï¼‰</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Masonry</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Masonry</span> <span class="hljs-attr">columns</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">xs:</span> <span class="hljs-attr">1</span>, <span class="hljs-attr">sm:</span> <span class="hljs-attr">2</span>, <span class="hljs-attr">md:</span> <span class="hljs-attr">3</span>, <span class="hljs-attr">lg:</span> <span class="hljs-attr">4</span> }} <span class="hljs-attr">gutter</span>=<span class="hljs-string">{16}</span>&gt;</span>
  {items.map(item =&gt; (
    <span class="hljs-tag">&lt;<span class="hljs-name">Card</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span> <span class="hljs-attr">cover</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{item.cover}</span> /&gt;</span>} {...item} /&gt;
  ))}
<span class="hljs-tag">&lt;/<span class="hljs-name">Masonry</span>&gt;</span></span>
</code></pre>
<ul>
<li><strong>Drawer æ”¯æŒæ‹–æ‹½</strong>ï¼šåŸç”Ÿæ”¯æŒæ‹–æ‹½æ”¹å˜å®½åº¦ï¼Œæ— éœ€è‡ªå·±å†™ resize é€»è¾‘ã€‚</li>
<li><strong>InputNumber æ”¯æŒ spinner æ¨¡å¼</strong>ï¼šåŠ å‡æŒ‰é’®ç›´æ¥åœ¨è¾“å…¥æ¡†ä¸¤ä¾§ï¼Œåƒè´­ç‰©è½¦é‚£æ ·ã€‚</li>
<li><strong>å…¶ä»–</strong>ï¼šTooltip æ”¯æŒå¹³ç§»ï¼ˆpanningï¼‰ã€å¼¹å±‚é»˜è®¤æ”¯æŒæ¨¡ç³Šè’™å±‚ï¼ˆblur maskï¼‰ç­‰äº¤äº’ä¼˜åŒ–ã€‚</li>
</ul>
<p>è¿™äº›è¡¥é½äº†ä¸šåŠ¡é«˜é¢‘åœºæ™¯ï¼Œå‡å°‘äº†â€œè‡ªå·±é€ è½®å­â€çš„ç—›è‹¦ã€‚</p>
<h2 data-id="heading-3">å‡çº§å»ºè®®ï¼šè¿™æ¬¡çœŸçš„â€œå¹³æ»‘â€å—ï¼Ÿ</h2>
<p><strong>v6 è¿ç§»å…³é”®äº‹å®</strong></p>
<ul>
<li><strong>React ç‰ˆæœ¬è¦æ±‚</strong>ï¼šå¿…é¡»å‡çº§åˆ° <strong>React 18+</strong>ï¼ˆä¸å†æ”¯æŒ React 17 åŠä»¥ä¸‹ï¼‰ã€‚</li>
<li><strong>ç ´åæ€§å˜æ›´</strong>ï¼šéƒ¨åˆ† API è¢«åºŸå¼ƒï¼ˆå¦‚ <code>bordered</code> â†’ <code>variant</code>ã€<code>headStyle</code> â†’ <code>styles.header</code> ç­‰ï¼‰ï¼Œv7 å°†å½»åº•ç§»é™¤ã€‚</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šv5 é¡¹ç›®ç»å¤§å¤šæ•°ä¸šåŠ¡é€»è¾‘ä»£ç æ— éœ€æ”¹åŠ¨ï¼Œä½†è‹¥å¤§é‡ä½¿ç”¨äº†æ·±å±‚ hack æ ·å¼ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ã€‚</li>
<li><strong>æ¨èå·¥å…·</strong>ï¼šå®˜æ–¹æä¾› Codemod è¿ç§»è„šæœ¬ï¼Œå¯è‡ªåŠ¨åŒ–å¤„ç†å¤§éƒ¨åˆ†åºŸå¼ƒ APIã€‚</li>
</ul>
<p><strong>å»ºè®®</strong></p>
<ol>
<li><strong>æ–°é¡¹ç›®</strong>ï¼šç›´æ¥ä¸Š v6ï¼Œäº«å—æ›´å¥½çš„æ€§èƒ½ã€ä½“éªŒå’Œæœªæ¥ç»´æŠ¤æ€§ã€‚</li>
<li><strong>v5 é¡¹ç›®</strong>ï¼šå…ˆåœ¨ dev åˆ†æ”¯å°è¯•å‡çº§ã€‚æ— å¤§é‡ hack æ ·å¼çš„è¯ï¼Œæˆæœ¬å¾ˆä½ã€‚</li>
<li><strong>v4 åŠæ›´è€é¡¹ç›®</strong>ï¼šè·¨åº¦è¾ƒå¤§ï¼Œå»ºè®®å…ˆé€æ­¥è¿ç§»åˆ° v5ï¼Œå†å‡ v6ï¼›æˆ–åœ¨æ–°æ¨¡å—ä¸­ä½¿ç”¨ v6ï¼ˆé…åˆå¾®å‰ç«¯æˆ–åŒ…éš”ç¦»ï¼‰ã€‚</li>
<li><strong>å‡çº§å‰æ£€æŸ¥</strong>ï¼š
<ul>
<li>ç¡®è®¤ React â‰¥ 18</li>
<li>è¿è¡Œå®˜æ–¹ Codemod</li>
<li>éªŒè¯ç›®æ ‡æµè§ˆå™¨æ”¯æŒ CSS å˜é‡ï¼ˆIE å½»åº•ä¸æ”¯æŒï¼‰</li>
</ul>
</li>
</ol>
<h2 data-id="heading-4">æ€»ç»“</h2>
<p>Ant Design v6 æ˜¯ä¸€æ¬¡**â€œè¿”ç’å½’çœŸâ€**çš„å‡çº§ã€‚å®ƒæŠŠæ§åˆ¶æƒè¿˜ç»™å¼€å‘è€…ï¼ˆè¯­ä¹‰åŒ– APIï¼‰ï¼Œç”¨ç°ä»£æµè§ˆå™¨ç‰¹æ€§è§£å†³æ€§èƒ½é—®é¢˜ï¼ˆé›¶è¿è¡Œæ—¶ CSS å˜é‡ï¼‰ï¼Œå¹¶è¡¥é½äº†ä¸šåŠ¡é«˜é¢‘ç»„ä»¶ã€‚</p>
<p><strong>å‡çº§æ ¸å¿ƒæ”¶ç›Š</strong></p>
<ul>
<li>æ›´å°‘çš„ hack ä»£ç ï¼Œæ›´å¥å£®çš„æ ·å¼</li>
<li>æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼ˆä¸»é¢˜åˆ‡æ¢ã€æ¸²æŸ“é€Ÿåº¦ï¼‰</li>
<li>å®˜æ–¹æ¥ç®¡é«˜é¢‘ä¸šåŠ¡ç»„ä»¶ï¼Œå‡å°‘ç¬¬ä¸‰æ–¹ä¾èµ–</li>
<li>å¹³æ»‘è¿ç§»è·¯å¾„ï¼ŒçœŸæ­£é™ä½äº†â€œå‡çº§ç«è‘¬åœºâ€çš„é£é™©</li>
</ul>
<p>å¯¹äºä¸šåŠ¡å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼š<strong>æ›´å°‘çš„åŠ ç­ã€æ›´å¿«çš„é¡µé¢ã€æ›´æ—©ä¸‹ç­</strong>ã€‚</p>
<p><strong>å‚è€ƒé“¾æ¥</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Freact%2Fmigration-v6-cn%2F" target="_blank" title="https://ant.design/docs/react/migration-v6-cn/" ref="nofollow noopener noreferrer">Ant Design v6 è¿ç§»æŒ‡å—</a>ï¼ˆä¸­æ–‡ï¼‰ / <a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Freact%2Fmigration-v6" target="_blank" title="https://ant.design/docs/react/migration-v6" ref="nofollow noopener noreferrer">English</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Fblog%2Fsemantic-beauty-cn%2F" target="_blank" title="https://ant.design/docs/blog/semantic-beauty-cn/" ref="nofollow noopener noreferrer">è¯­ä¹‰åŒ–æ›´æ–°è¯´æ˜</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fchangelog-cn%2F" target="_blank" title="https://ant.design/changelog-cn/" ref="nofollow noopener noreferrer">æ›´æ–°æ—¥å¿— (Changelog)</a>ï¼ˆä¸­æ–‡ï¼‰ / <a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fchangelog" target="_blank" title="https://ant.design/changelog" ref="nofollow noopener noreferrer">English</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GIS æ•°æ®è½¬æ¢ï¼šä½¿ç”¨ GDAL å°† TXT è½¬æ¢ä¸º Shp æ•°æ®]]></title>    <link>https://juejin.cn/post/7586540799250710582</link>    <guid>https://juejin.cn/post/7586540799250710582</guid>    <pubDate>2025-12-22T14:31:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586540799250710582" data-draft-id="7586490798432141375" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GIS æ•°æ®è½¬æ¢ï¼šä½¿ç”¨ GDAL å°† TXT è½¬æ¢ä¸º Shp æ•°æ®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T14:31:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GISä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/4346787284915481"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GIS æ•°æ®è½¬æ¢ï¼šä½¿ç”¨ GDAL å°† TXT è½¬æ¢ä¸º Shp æ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4346787284915481/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GISä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:31:48.000Z" title="Mon Dec 22 2025 14:31:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>â</p>
<p>TXT ä½œä¸ºä¸€ç§æ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å­˜å‚¨ä¸€äº›ç®€å•å‡ ä½•æ•°æ®ã€‚åœ¨ GIS å¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦è¿›è¡Œæ•°æ®çš„è½¬æ¢å¤„ç†ï¼Œå…¶ä¸­å¸¸è§çš„ä¾¿æ˜¯å°† TXT è½¬æ¢ä¸º Shp æ•°æ®è¿›è¡Œå±•ç¤ºã€‚</p>
</blockquote>
<p>æœ¬ç¯‡æ•™ç¨‹åœ¨ä¹‹å‰ä¸€ç³»åˆ—æ–‡ç« çš„åŸºç¡€ä¸Šè®²è§£</p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">GDAL ç®€ä»‹</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">GDAL ä¸‹è½½å®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">GDAL å¼€å‘èµ·æ­¥</a></li>
</ul>
<p>å¦‚å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®ä»ä»¥ä¸Šå†…å®¹å¼€å§‹ã€‚</p>
<h2 data-id="heading-1">1. å¼€å‘ç¯å¢ƒ</h2>
<p>æœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>æ—¶é—´ï¼š<code>2025å¹´</code></p>
<p>ç³»ç»Ÿï¼š<code>Windows 11</code></p>
<p>Pythonï¼š<code>3.11.7</code></p>
<p>GDALï¼š<code>3.11.1</code></p>
<h2 data-id="heading-2">2. æ•°æ®å‡†å¤‡</h2>
<p><code>TXT</code>ï¼ˆçº¯æ–‡æœ¬æ–‡ä»¶ï¼‰æ˜¯ä¸€ç§æœ€åŸºæœ¬çš„æ–‡ä»¶æ ¼å¼ï¼Œä»…å­˜å‚¨æ— æ ¼å¼çš„æ–‡æœ¬æ•°æ®ï¼Œé€‚ç”¨äºå„ç§åœºæ™¯ï¼ˆå¦‚æ•°æ®äº¤æ¢ã€æ—¥å¿—è®°å½•ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰ã€‚</p>
<p><strong>å¦‚ä¸‹æ˜¯å…¨å›½çœä¼šåŸå¸‚äººå£ TXT æ–‡æœ¬ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust">ID,Name,Longitude,Latitude,Population
<span class="hljs-number">1</span>,Beijing,<span class="hljs-number">116.40</span>,<span class="hljs-number">39.90</span>,<span class="hljs-number">2171</span>ä¸‡
<span class="hljs-number">2</span>,Shanghai,<span class="hljs-number">121.47</span>,<span class="hljs-number">31.23</span>,<span class="hljs-number">2487</span>ä¸‡
<span class="hljs-number">3</span>,Guangzhou,<span class="hljs-number">113.26</span>,<span class="hljs-number">23.12</span>,<span class="hljs-number">1868</span>ä¸‡
<span class="hljs-number">4</span>,Shenzhen,<span class="hljs-number">114.05</span>,<span class="hljs-number">22.55</span>,<span class="hljs-number">1756</span>ä¸‡
<span class="hljs-number">5</span>,Tianjin,<span class="hljs-number">117.20</span>,<span class="hljs-number">39.08</span>,<span class="hljs-number">1373</span>ä¸‡
<span class="hljs-number">6</span>,Chongqing,<span class="hljs-number">106.50</span>,<span class="hljs-number">29.53</span>,<span class="hljs-number">3205</span>ä¸‡
<span class="hljs-number">7</span>,Chengdu,<span class="hljs-number">104.06</span>,<span class="hljs-number">30.67</span>,<span class="hljs-number">2094</span>ä¸‡
<span class="hljs-number">8</span>,Wuhan,<span class="hljs-number">114.30</span>,<span class="hljs-number">30.60</span>,<span class="hljs-number">1121</span>ä¸‡
<span class="hljs-number">9</span>,Hangzhou,<span class="hljs-number">120.15</span>,<span class="hljs-number">30.28</span>,<span class="hljs-number">1194</span>ä¸‡
<span class="hljs-number">10</span>,Nanjing,<span class="hljs-number">118.78</span>,<span class="hljs-number">32.04</span>,<span class="hljs-number">931</span>ä¸‡
<span class="hljs-number">11</span>,Xi<span class="hljs-symbol">'an</span>,<span class="hljs-number">108.93</span>,<span class="hljs-number">34.27</span>,<span class="hljs-number">1295</span>ä¸‡
<span class="hljs-number">12</span>,Changsha,<span class="hljs-number">112.97</span>,<span class="hljs-number">28.20</span>,<span class="hljs-number">839</span>ä¸‡
<span class="hljs-number">13</span>,Zhengzhou,<span class="hljs-number">113.62</span>,<span class="hljs-number">34.75</span>,<span class="hljs-number">1260</span>ä¸‡
<span class="hljs-number">14</span>,Harbin,<span class="hljs-number">126.63</span>,<span class="hljs-number">45.75</span>,<span class="hljs-number">1076</span>ä¸‡
<span class="hljs-number">15</span>,Shenyang,<span class="hljs-number">123.43</span>,<span class="hljs-number">41.80</span>,<span class="hljs-number">831</span>ä¸‡
<span class="hljs-number">16</span>,Qingdao,<span class="hljs-number">120.38</span>,<span class="hljs-number">36.07</span>,<span class="hljs-number">1007</span>ä¸‡
<span class="hljs-number">17</span>,Dalian,<span class="hljs-number">121.62</span>,<span class="hljs-number">38.92</span>,<span class="hljs-number">745</span>ä¸‡
<span class="hljs-number">18</span>,Xiamen,<span class="hljs-number">118.08</span>,<span class="hljs-number">24.48</span>,<span class="hljs-number">516</span>ä¸‡
<span class="hljs-number">19</span>,Ningbo,<span class="hljs-number">121.55</span>,<span class="hljs-number">29.88</span>,<span class="hljs-number">854</span>ä¸‡
<span class="hljs-number">20</span>,Hefei,<span class="hljs-number">117.28</span>,<span class="hljs-number">31.86</span>,<span class="hljs-number">937</span>ä¸‡
<span class="hljs-number">21</span>,Fuzhou,<span class="hljs-number">119.30</span>,<span class="hljs-number">26.08</span>,<span class="hljs-number">829</span>ä¸‡
<span class="hljs-number">22</span>,Jinan,<span class="hljs-number">117.00</span>,<span class="hljs-number">36.67</span>,<span class="hljs-number">920</span>ä¸‡
<span class="hljs-number">23</span>,Taiyuan,<span class="hljs-number">112.55</span>,<span class="hljs-number">37.87</span>,<span class="hljs-number">530</span>ä¸‡
<span class="hljs-number">24</span>,Changchun,<span class="hljs-number">125.35</span>,<span class="hljs-number">43.88</span>,<span class="hljs-number">906</span>ä¸‡
<span class="hljs-number">25</span>,Kunming,<span class="hljs-number">102.72</span>,<span class="hljs-number">25.04</span>,<span class="hljs-number">846</span>ä¸‡
<span class="hljs-number">26</span>,Nanning,<span class="hljs-number">108.37</span>,<span class="hljs-number">22.82</span>,<span class="hljs-number">874</span>ä¸‡
<span class="hljs-number">27</span>,Lanzhou,<span class="hljs-number">103.82</span>,<span class="hljs-number">36.06</span>,<span class="hljs-number">435</span>ä¸‡
<span class="hljs-number">28</span>,Yinchuan,<span class="hljs-number">106.27</span>,<span class="hljs-number">38.47</span>,<span class="hljs-number">285</span>ä¸‡
<span class="hljs-number">29</span>,Xining,<span class="hljs-number">101.77</span>,<span class="hljs-number">36.62</span>,<span class="hljs-number">263</span>ä¸‡
<span class="hljs-number">30</span>,UrÃ¼mqi,<span class="hljs-number">87.62</span>,<span class="hljs-number">43.82</span>,<span class="hljs-number">405</span>ä¸‡
<span class="hljs-number">31</span>,Lhasa,<span class="hljs-number">91.11</span>,<span class="hljs-number">29.65</span>,<span class="hljs-number">86</span>ä¸‡
<span class="hljs-number">32</span>,Haikou,<span class="hljs-number">110.20</span>,<span class="hljs-number">20.05</span>,<span class="hljs-number">287</span>ä¸‡
</code></pre>
<h2 data-id="heading-3">3. å¯¼å…¥ä¾èµ–</h2>
<p><code>TXT</code>ä½œä¸ºä¸€ç§çŸ¢é‡æ•°æ®æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨çŸ¢é‡åº“<code>OGR</code>è¿›è¡Œå¤„ç†ï¼Œä»¥å®ç°<code>TXT</code>æ•°æ®ä»æ–‡æœ¬æ ¼å¼è½¬æ¢ä¸º<code>Shp</code>æ ¼å¼ã€‚å…¶ä¸­è¿˜æ¶‰åŠåæ ‡å®šä¹‰ï¼Œæ‰€ä»¥è¿˜éœ€è¦å¼•å…¥<code>osr</code>æ¨¡å—ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">from</span>Â osgeoÂ <span class="hljs-keyword">import</span>Â ogr,osr
<span class="hljs-keyword">import</span>Â os
<span class="hljs-keyword">import</span>Â csv
</code></pre>
<h2 data-id="heading-4">4. æ•°æ®è¯»å–ä¸è½¬æ¢</h2>
<p>å®šä¹‰ä¸€ä¸ªæ–¹æ³•<code>Txt2Shp(txtPath,shpPath,encoding="UTF-8")</code>ç”¨äºå°†<code>TXT</code>æ•°æ®è½¬æ¢ä¸º<code>Shp</code>æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šå°†Â TXTÂ æ–‡ä»¶è½¬æ¢ä¸ºÂ ShapfileÂ æ–‡ä»¶
å‚æ•°ï¼š
Â Â Â Â -txtPathï¼šTXTÂ æ–‡ä»¶è·¯å¾„
Â Â Â Â -shpPathï¼šShpÂ æ–‡ä»¶è·¯å¾„
Â Â Â Â -encodingï¼šTXTÂ æ–‡ä»¶ç¼–ç 
"""</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">Txt2Shp</span>(<span class="hljs-params">txtPath,shpPath,encoding=<span class="hljs-string">"UTF-8"</span></span>)
</code></pre>
<p>åœ¨è¿›è¡Œ<code>TXT</code>æ•°æ®æ ¼å¼è½¬æ¢ä¹‹å‰ï¼Œéœ€è¦æ£€æŸ¥æ•°æ®è·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚</p>
<pre><code class="hljs language-lua" lang="lua">#Â æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
<span class="hljs-keyword">if</span>Â <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.exists(txtPath):
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"TXTÂ æ–‡ä»¶å­˜åœ¨ã€‚"</span>)
<span class="hljs-keyword">else</span>:
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"TXTÂ æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°é€‰æ‹©æ–‡ä»¶ï¼"</span>)
Â Â Â Â <span class="hljs-keyword">return</span>
</code></pre>
<p>é€šè¿‡<code>GetDriverByName</code>è·å–<code>Shp</code>æ•°æ®é©±åŠ¨ï¼Œå¹¶ä½¿ç”¨<code>os.path.exists</code>æ–¹æ³•æ£€æŸ¥<code>Shp</code>æ–‡ä»¶æ˜¯å¦å·²ç»åˆ›å»ºï¼Œå¦‚æœå­˜åœ¨åˆ™å°†å…¶åˆ é™¤ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â æ³¨å†Œæ‰€æœ‰é©±åŠ¨</span>
ogr.RegisterAll()

<span class="hljs-comment">#Â æ·»åŠ Shpæ•°æ®æº</span>
shpDriverÂ =Â ogr.GetDriverByName(<span class="hljs-string">'ESRIÂ Shapefile'</span>)

<span class="hljs-keyword">if</span>Â os.path.exists(shpPath):
Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â shpDriver.DeleteDataSource(shpPath)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡ä»¶å·²åˆ é™¤ï¼"</span>)
Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡ä»¶åˆ é™¤å‡ºé”™ï¼š<span class="hljs-subst">{e}</span>"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">False</span>
</code></pre>
<p>æ¥ç€åˆ›å»º<code>Shp</code>æ•°æ®æºå’Œç©ºé—´å‚è€ƒï¼Œæ•°æ®åæ ‡ç³»è¿™é‡Œå®šä¹‰ä¸º4326ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â åˆ›å»ºShpæ•°æ®æº</span>
shpDataSourceÂ =Â shpDriver.CreateDataSource(shpPath)
<span class="hljs-keyword">if</span>Â shpDataSourceÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ— æ³•åˆ›å»ºShpæ•°æ®æºï¼Œè¯·æ£€æŸ¥æ–‡ä»¶ï¼"</span>)
Â Â Â Â <span class="hljs-keyword">return</span>Â false
<span class="hljs-comment">#Â åˆ›å»ºç©ºé—´å‚è€ƒ</span>
spatialReferenceÂ =Â osr.SpatialReference()
spatialReference.ImportFromEPSG(<span class="hljs-number">4326</span>)
</code></pre>
<p>ä¹‹åé€šè¿‡æ•°æ®æºæ–¹æ³•<code>CreateLayer</code>åˆ›å»º<code>Shp</code>å›¾å±‚ï¼Œä½¿ç”¨å›¾å±‚æ–¹æ³•<code>CreateField</code>æ·»åŠ å±æ€§å­—æ®µï¼Œéœ€è¦å®šä¹‰å±æ€§åç§°ä»¥åŠå±æ€§å­—æ®µç±»å‹ã€‚</p>
<pre><code class="hljs language-less" lang="less">#Â åˆ›å»ºå›¾å±‚
<span class="hljs-selector-tag">shpLayer</span>Â =Â <span class="hljs-selector-tag">shpDataSource</span><span class="hljs-selector-class">.CreateLayer</span>(<span class="hljs-string">"points"</span>,spatialReference,ogr.wkbPoint)

#Â æ·»åŠ å›¾å±‚å­—æ®µ
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"ID"</span>,ogr.OFTString))
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"Name"</span>,ogr.OFTString))
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"Longitude"</span>,ogr.OFTReal))
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"Latitude"</span>,ogr.OFTReal))
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"Population"</span>,ogr.OFTString))
</code></pre>
<p>è¯»å–<code>TXT</code>æ•°æ®å¹¶å°†å…¶è½¬æ¢ä¸º<code>Shapefile</code>æ•°æ®ï¼Œåœ¨æ‰“å¼€æ•°æ®æ—¶ï¼Œæ ¹æ®<code>TXT</code>æ–‡ä»¶å±æ€§ï¼Œä½¿ç”¨é€—å·åˆ†éš”ç¬¦è¿›è¡Œè¯»å–å¹¶è·³è¿‡è¡¨å¤´è¡Œæ•°æ®ã€‚ä¹‹åæ ¹æ®è¡Œæ•°æ®è¿›è¡Œå±æ€§éå†ï¼Œå°†è¯»å–çš„å­—æ®µå€¼å’Œå‡ ä½•å±æ€§å†™å…¥åˆ°è¦ç´ å¯¹è±¡ä¸­ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â è¯»å–TXTæ–‡ä»¶</span>
<span class="hljs-keyword">with</span>Â <span class="hljs-built_in">open</span>(txtPath,<span class="hljs-string">"r"</span>,encoding=encoding)Â <span class="hljs-keyword">as</span>Â txtFile:
Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®é€—å·åˆ†éš”ç¬¦è¿›è¡Œè¯»å–</span>
Â Â Â Â readerÂ =Â csv.reader(txtFile,delimiter=<span class="hljs-string">","</span>)
Â Â Â Â <span class="hljs-comment">#Â è·³è¿‡è¡¨å¤´</span>
Â Â Â Â headerÂ =Â <span class="hljs-built_in">next</span>(reader)
Â Â Â Â <span class="hljs-comment">#Â éå†è®°å½•</span>
Â Â Â Â <span class="hljs-keyword">for</span>Â rowÂ <span class="hljs-keyword">in</span>Â reader:
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¦ç´ è®°å½•ï¼š<span class="hljs-subst">{row}</span>"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºè¦ç´ </span>
Â Â Â Â Â Â Â Â featureÂ =Â ogr.Feature(shpLayer.GetLayerDefn())

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®å›¾å±‚å­—æ®µå†™å…¥å±æ€§</span>
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"ID"</span>,<span class="hljs-built_in">str</span>(row[<span class="hljs-number">0</span>]))
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"Name"</span>,<span class="hljs-built_in">str</span>(row[<span class="hljs-number">1</span>]))
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"Longitude"</span>,<span class="hljs-built_in">float</span>(row[<span class="hljs-number">2</span>]))
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"Latitude"</span>,<span class="hljs-built_in">float</span>(row[<span class="hljs-number">3</span>]))
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"Population"</span>,<span class="hljs-built_in">str</span>(row[<span class="hljs-number">4</span>]))

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºå‡ ä½•å¯¹è±¡</span>
Â Â Â Â Â Â Â Â wktÂ =Â <span class="hljs-string">f"POINT(<span class="hljs-subst">{<span class="hljs-built_in">float</span>(row[<span class="hljs-number">2</span>])}</span>Â <span class="hljs-subst">{<span class="hljs-built_in">float</span>(row[<span class="hljs-number">3</span>])}</span>)"</span>
Â Â Â Â Â Â Â Â pointGeomÂ =Â ogr.CreateGeometryFromWkt(wkt)

Â Â Â Â Â Â Â Â feature.SetGeometry(pointGeom)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å°†è¦ç´ æ·»åŠ åˆ°å›¾å±‚</span>
Â Â Â Â Â Â Â Â shpLayer.CreateFeature(feature)
Â Â Â Â Â Â Â Â featureÂ =Â <span class="hljs-literal">None</span>

CreateCpgFile2Encode(shpPath,encoding)
<span class="hljs-comment">#Â é‡Šæ”¾æ•°æ®èµ„æºÂ Â Â Â Â Â Â Â </span>
shpDataSourceÂ =Â <span class="hljs-literal">None</span>
</code></pre>
<p>å…¶ä¸­<code>CreateCpgFile2Encode</code>æ–¹æ³•ç”¨äºåˆ›å»ºå­—ç¬¦ç¼–ç æ–‡ä»¶ï¼Œåç¼€åä¸º<code>.cpg</code>ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šåˆ›å»º.cpgæ–‡ä»¶æŒ‡å®šå­—ç¬¦ç¼–ç 
å‚æ•°ï¼š
Â Â Â Â -shpPathï¼šShpæ–‡ä»¶è·¯å¾„
Â Â Â Â -encodingï¼šShpæ–‡ä»¶å­—ç¬¦ç¼–ç 
"""</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">CreateCpgFile2Encode</span>(<span class="hljs-params">shpPath,encoding</span>):
Â Â Â Â fileNameÂ =Â os.path.splitext(shpPath)[<span class="hljs-number">0</span>]
Â Â Â Â cpgFileÂ =Â fileNameÂ +Â <span class="hljs-string">".cpg"</span>

Â Â Â Â <span class="hljs-keyword">with</span>Â <span class="hljs-built_in">open</span>(cpgFile,<span class="hljs-string">"w"</span>,encoding=encoding)Â <span class="hljs-keyword">as</span>Â f:
Â Â Â Â Â Â Â Â f.write(encoding)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æˆåŠŸåˆ›å»ºç¼–ç æ–‡ä»¶:Â <span class="hljs-subst">{cpgFile}</span>"</span>)
</code></pre>
<p>ç¨‹åºæˆåŠŸè½¬æ¢æ•°æ®æ˜¾ç¤ºå¦‚ä¸‹ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10f03e53d8b14f8eaf79549da9f969af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767018708&amp;x-signature=Y%2BNBTLQrPFbuh%2Be4RsqBhfLAL8c%3D" alt="" loading="lazy"/></p>
<p>ä½¿ç”¨<code>ArcMap</code>æ‰“å¼€æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/074a8d3ab9434bd880ada8a55ab50ce1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767018708&amp;x-signature=t61QtbAYKXmOoT6IH%2BK%2BunaGRF8%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flinkæºç é˜…è¯»ï¼šWatermarkæœºåˆ¶]]></title>    <link>https://juejin.cn/post/7586505172815495219</link>    <guid>https://juejin.cn/post/7586505172815495219</guid>    <pubDate>2025-12-22T14:46:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815495219" data-draft-id="7586504691845775369" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flinkæºç é˜…è¯»ï¼šWatermarkæœºåˆ¶"/> <meta itemprop="keywords" content="Flink,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2025-12-22T14:46:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢å‘Googleç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1063982986695374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flinkæºç é˜…è¯»ï¼šWatermarkæœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1063982986695374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢å‘Googleç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:46:58.000Z" title="Mon Dec 22 2025 14:46:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰é¢æˆ‘ä»¬å·²ç»æ¢³ç†äº† Flink çŠ¶æ€å’Œ Checkpoint ç›¸å…³çš„æºç ã€‚ä»æœ¬æ–‡å¼€å§‹ï¼Œæˆ‘ä»¬å†æ¥å…³æ³¨å¦å¤–å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå³æ—¶é—´ã€Watermark å’Œçª—å£ã€‚</p>
<h3 data-id="heading-0">å†™åœ¨å‰é¢</h3>
<p>åœ¨ Flink ä¸­ Watermark æ˜¯ç”¨æ¥è§£å†³æ•°æ®ä¹±åºé—®é¢˜çš„ï¼Œå®ƒä¹Ÿæ˜¯çª—å£å…³é—­çš„è§¦å‘æ¡ä»¶ã€‚å¯¹äº Watermark çš„æ¦‚å¿µå’Œç”¨æ³•è¿˜ä¸ç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥å…ˆé˜…è¯»<a href="https://link.juejin.cn?target=https%3A%2F%2Fjackeyzhe.github.io%2F2025%2F06%2F30%2FFlink%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B0%25EF%25BC%259A%25E6%2597%25B6%25E9%2597%25B4%25E4%25B8%258EWatermark%2F" target="_blank" title="https://jackeyzhe.github.io/2025/06/30/Flink%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%9A%E6%97%B6%E9%97%B4%E4%B8%8EWatermark/" ref="nofollow noopener noreferrer">Flinkå­¦ä¹ ç¬”è®°ï¼šæ—¶é—´ä¸Watermark</a>ä¸€æ–‡ã€‚ä¸‹é¢æˆ‘ä»¬è¿›å…¥æ­£é¢˜ï¼Œå¼€å§‹æ¢³ç† Watermark ç›¸å…³çš„æºç ã€‚</p>
<h3 data-id="heading-1">Watermark å®šä¹‰</h3>
<p>Watermark çš„å®šä¹‰éå¸¸ç®€å•ï¼Œå®ƒç»§æ‰¿äº† <code>StreamElement</code> ç±»ï¼Œå†…éƒ¨åªæœ‰ä¸€ä¸ª timestamp å˜é‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PublicEvolving</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Watermark</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">StreamElement</span> {

    <span class="hljs-comment">/** The watermark that signifies end-of-event-time. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Watermark</span> <span class="hljs-variable">MAX_WATERMARK</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watermark</span>(Long.MAX_VALUE);

    <span class="hljs-comment">/** The watermark that signifies is used before any actual watermark has been generated. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Watermark</span> <span class="hljs-variable">UNINITIALIZED</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watermark</span>(Long.MIN_VALUE);

    <span class="hljs-comment">// ------------------------------------------------------------------------</span>

    <span class="hljs-comment">/** The timestamp of the watermark in milliseconds. */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> timestamp;

    <span class="hljs-comment">/** Creates a new watermark with the given timestamp in milliseconds. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Watermark</span><span class="hljs-params">(<span class="hljs-type">long</span> timestamp)</span> {
        <span class="hljs-built_in">this</span>.timestamp = timestamp;
    }

    <span class="hljs-comment">/** Returns the timestamp associated with this {<span class="hljs-doctag">@link</span> Watermark} in milliseconds. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getTimestamp</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> timestamp;
    }

    <span class="hljs-comment">// ------------------------------------------------------------------------</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span> == o
                || o != <span class="hljs-literal">null</span>
                        &amp;&amp; o.getClass() == <span class="hljs-built_in">this</span>.getClass()
                        &amp;&amp; ((Watermark) o).timestamp == timestamp;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> (<span class="hljs-type">int</span>) (timestamp ^ (timestamp &gt;&gt;&gt; <span class="hljs-number">32</span>));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Watermark @ "</span> + timestamp;
    }
}
</code></pre>
<h3 data-id="heading-2">Watermark å¤„ç†è¿‡ç¨‹</h3>
<p>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ Watermark çš„ç”Ÿæˆæ–¹æ³•ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">SingleOutputStreamOperator&lt;Event&gt; <span class="hljs-attr">withTimestampsAndWatermarks</span> = source
        .assignTimestampsAndWatermarks(
                WatermarkStrategy.forBoundedOutOfOrderness(Duration.ofSeconds(20))
        )<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-3">åˆå§‹åŒ–</h4>
<p>åœ¨å®šä¹‰ Watermark çš„æ—¶å€™ï¼Œæˆ‘ä»¬è°ƒç”¨ assignTimestampsAndWatermarks æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-type">SingleOutputStreamOperator</span>&lt;<span class="hljs-type">T</span>&gt; assignTimestampsAndWatermarks(
        <span class="hljs-type">WatermarkStrategy</span>&lt;<span class="hljs-type">T</span>&gt; watermarkStrategy) {
    <span class="hljs-keyword">final</span> <span class="hljs-type">WatermarkStrategy</span>&lt;<span class="hljs-type">T</span>&gt; cleanedStrategy <span class="hljs-operator">=</span> clean(watermarkStrategy);
    <span class="hljs-comment">// match parallelism to input, to have a 1:1 source -&gt; timestamps/watermarks relationship</span>
    <span class="hljs-comment">// and chain</span>
    <span class="hljs-keyword">final</span> int inputParallelism <span class="hljs-operator">=</span> getTransformation().getParallelism();
    <span class="hljs-keyword">final</span> <span class="hljs-type">TimestampsAndWatermarksTransformation</span>&lt;<span class="hljs-type">T</span>&gt; transformation <span class="hljs-operator">=</span>
            new <span class="hljs-type">TimestampsAndWatermarksTransformation</span>&lt;&gt;(
                    <span class="hljs-string">"Timestamps/Watermarks"</span>,
                    inputParallelism,
                    getTransformation(),
                    cleanedStrategy,
                    <span class="hljs-literal">false</span>);
    getExecutionEnvironment().addOperator(transformation);
    <span class="hljs-keyword">return</span> new <span class="hljs-type">SingleOutputStreamOperator</span>&lt;&gt;(getExecutionEnvironment(), transformation);
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•æ¥æ”¶äº†ä¸€ä¸ª WatermarkStrategy å‚æ•°ï¼ŒæŠŠå®ƒå°è£…åˆ° TimestampsAndWatermarksTransformation ä¸­ä¹‹åï¼Œå°±æ·»åŠ åˆ° transformations åˆ—è¡¨ä¸­äº†ã€‚åœ¨ç”Ÿæˆ StreamGraph çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè°ƒç”¨æ¯ä¸ª transformation çš„ transform æ–¹æ³•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c0920d6ef954cfebbd21e82caec352b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019617&amp;x-signature=o4HDvIbnF0FMPCn3rJFzH1z2dEM%3D" alt="transform" loading="lazy"/></p>
<p>é€šè¿‡è¿™ä¸ªè°ƒç”¨é“¾è·¯ï¼Œåˆ›å»ºå‡ºäº† TimestampsAndWatermarksOperatorFactoryï¼Œåœ¨åˆå§‹åŒ– StreamTask æ—¶ï¼Œä¼šè°ƒç”¨ <code>TimestampsAndWatermarksOperatorFactory.createStreamOperator</code> æ–¹æ³•æ¥åˆ›å»º TimestampsAndWatermarksOperatorï¼Œå¹¶è°ƒç”¨å®ƒçš„ open æ–¹æ³•ã€‚</p>
<p>åœ¨è¿™ä¸ª open æ–¹æ³•ä¸­ï¼Œä¸»è¦æ˜¯ç”Ÿæˆ timestampAssigner å’Œ watermarkGeneratorã€‚timestampAssigner æ˜¯ç”¨äºæå–æ—¶é—´æˆ³ï¼ŒwatermarkGenerator æ˜¯ç”¨äºç”Ÿæˆ Watermarkã€‚</p>
<p>ç”Ÿæˆå®Œæˆä¹‹åæ³¨å†Œäº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåˆ°æŒ‡å®šæ—¶é—´åä¼šè°ƒç”¨ onProcessingTime æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">public void <span class="hljs-built_in">onProcessingTime</span>(long timestamp) throws Exception {
    watermarkGenerator<span class="hljs-selector-class">.onPeriodicEmit</span>(wmOutput);

    final long now = <span class="hljs-built_in">getProcessingTimeService</span>()<span class="hljs-selector-class">.getCurrentProcessingTime</span>();
    <span class="hljs-built_in">getProcessingTimeService</span>()<span class="hljs-selector-class">.registerTimer</span>(now + watermarkInterval, this);
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•çš„é€»è¾‘ä¹Ÿå¾ˆç®€å•ï¼Œå…ˆå‘é€åˆ›å»ºå¹¶å‘é€ Watermarkï¼Œç„¶åå†æ³¨å†Œä¸€ä¸ªå®šæ—¶å™¨ã€‚</p>
<h4 data-id="heading-4">å‘é€ Watermark</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/849537fb82f2428a9e6f354166bc984a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019617&amp;x-signature=Q9U8zY0irzZ%2FXBuYc4IwxU8BhUM%3D" alt="emitWatermark" loading="lazy"/></p>
<p>æˆ‘ä»¬ä»¥ BoundedOutOfOrdernessWatermarks ä¸ºä¾‹ï¼Œå®ƒå‘ä¸‹æ¸¸å‘é€äº†ä¸€ä¸ª Watermarkï¼Œæ—¶é—´æˆ³ä¸º maxTimestamp - outOfOrdernessMillis - 1ï¼ˆmaxTimestamp æ˜¯å½“å‰æœ€å¤§çš„äº‹ä»¶æ—¶é—´æˆ³ï¼ŒoutOfOrdernessMillis æ˜¯æˆ‘ä»¬å®šä¹‰çš„å‘¨æœŸæ—¶é—´æ¯«ç§’å€¼ï¼‰ã€‚éšååœ¨ WatermarkEmitter.emitWatermark æ–¹æ³•ä¸­ï¼Œæ›´æ–°äº†å½“å‰ Watermark çš„å€¼ã€‚æœ€å RecordWriterOutput.emitWatermark åˆ™æ˜¯å‘ä¸‹æ¸¸å¹¿æ’­å½“å‰çš„ Watermarkã€‚</p>
<h4 data-id="heading-5">ä¸‹æ¸¸å¤„ç†</h4>
<p>ä¸‹æ¸¸å¤„ç†æ–¹æ³•æˆ‘ä»¬ä» <code>StreamOneInputProcessor.processInput</code> å…¥æ‰‹ï¼Œå…ˆæ¥çœ‹å…·ä½“çš„è°ƒç”¨é“¾è·¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47b303cc67ec47a09609ba5245c80c4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019617&amp;x-signature=nDd1rjWpLmI7VtcAyN%2FF1peSqO0%3D" alt="processWatermark" loading="lazy"/></p>
<p>åœ¨ inputWatermark æ–¹æ³•ä¸­ï¼Œå…ˆæ˜¯å¯¹ alignedSubpartitionStatuses è¿›è¡Œè°ƒæ•´ï¼ŒalignedSubpartitionStatuses è¿™ä¸ªå˜é‡ä¸»è¦æ˜¯ç”¨æ¥è·å–æœ€å°çš„ Watermarkã€‚æœ€åè°ƒç”¨äº† <code>findAndOutputNewMinWatermarkAcrossAlignedSubpartitions</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä¼šè·å–åˆ°æ‰€æœ‰ä¸Šæ¸¸æœ€å°çš„ Watermarkï¼Œå¦‚æœå®ƒå¤§äºæœ€è¿‘å‘é€çš„ä¸€ä¸ª Watermarkï¼Œå°±ä¼šå‘ä¸‹æ¸¸å‘é€ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">emitWatermark</span><span class="hljs-params">(Watermark watermark)</span> throws Exception </span>{
    watermarkGauge.<span class="hljs-built_in">setCurrentWatermark</span>(watermark.<span class="hljs-built_in">getTimestamp</span>());
    <span class="hljs-keyword">operator</span>.<span class="hljs-built_in">processWatermark</span>(watermark);
}
</code></pre>
<p>è¿™ä¸ªå‘é€æ–¹æ³•ä¸­ï¼Œè°ƒç”¨äº† <code>operator.processWatermark</code>ï¼Œæˆ‘ä»¬æ¥ç€çœ‹è¿™ä¸ªå¤„ç†æ–¹æ³•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7ef73c2e5d74e5bb1ab37c51992a0ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019617&amp;x-signature=3h9jC4RjjTX6lbtfWAemX2W6Ywk%3D" alt="advanceWatermark" loading="lazy"/></p>
<p>åœ¨ tryAdvanceWatermark æ–¹æ³•ä¸­å¦‚æœ Watermark çš„æ—¶é—´å¤§äº eventTimeTimersQueue é˜Ÿåˆ—ä¸­å¤´èŠ‚ç‚¹çš„æ—¶é—´ï¼Œé‚£ä¹ˆå¯¹ eventTimeTimersQueue è¿™ä¸ªé˜Ÿåˆ—è¿›è¡Œå‡ºé˜Ÿæ“ä½œï¼Œè¿™ä¸ªæ“ä½œæ„å‘³ç€è§¦å‘äº†çª—å£è®¡ç®—ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">public boolean tryAdvanceWatermark(
        long time, InternalTimeServiceManager.ShouldStopAdvancingFn shouldStopAdvancingFn)
        throws Exception {
    <span class="hljs-attr">currentWatermark</span> = time<span class="hljs-comment">;</span>
    InternalTimer&lt;K, N&gt; timer<span class="hljs-comment">;</span>
    boolean <span class="hljs-attr">interrupted</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
    while ((<span class="hljs-attr">timer</span> = eventTimeTimersQueue.peek()) != null
            &amp;&amp; timer.getTimestamp() &lt;= time
            &amp;&amp; !cancellationContext.isCancelled()
            &amp;&amp; !interrupted) {
        keyContext.setCurrentKey(timer.getKey())<span class="hljs-comment">;</span>
        eventTimeTimersQueue.poll()<span class="hljs-comment">;</span>
        triggerTarget.onEventTime(timer)<span class="hljs-comment">;</span>
        taskIOMetricGroup.getNumFiredTimers().inc()<span class="hljs-comment">;</span>
        // Check if we should stop advancing after at least one iteration to guarantee progress
        // and prevent a potential <span class="hljs-attr">starvation.
        interrupted</span> = shouldStopAdvancingFn.test()<span class="hljs-comment">;</span>
    }
    return !interrupted<span class="hljs-comment">;</span>
}
</code></pre>
<p>ä¹‹å Watermark å°±éšç€æ•°æ®æµä¸€ç›´åˆ° sink èŠ‚ç‚¹ï¼Œåœ¨ StreamSink ä¸­ï¼Œæ”¯æŒç”¨æˆ·è‡ªå·±å®ç°æ–¹æ³•å‘ sink ä¸­å†™å…¥ Watermarkï¼Œé™¤æ­¤ä¹‹å¤–ä»€ä¹ˆä¹Ÿä¸åšã€‚</p>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>æœ¬æ–‡æˆ‘ä»¬ä¸€èµ·æ¢³ç†äº† Watermark ç›¸å…³çš„æºç ï¼Œä» Watermark çš„å®šä¹‰ï¼Œåˆ° Watermark çš„å¤„ç†è¿‡ç¨‹ã€‚å¤„ç†è¿‡ç¨‹åˆ†æˆäº†åˆå§‹åŒ–ã€ä¸Šæ¸¸å‘é€å’Œä¸‹æ¸¸å¤„ç†ä¸‰éƒ¨åˆ†ã€‚åœ¨ä¸‹æ¸¸å¤„ç†éƒ¨åˆ†ï¼Œå…³äºè§¦å‘çª—å£è®¡ç®—çš„éƒ¨åˆ†æˆ‘ä»¬ç®€å•å¸¦è¿‡äº†ï¼Œåé¢ä¼šå†è¯¦ç»†ä»‹ç»è¿™éƒ¨åˆ†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ2ï¼‰ï¼šRegex åŸºç¡€è¯­æ³•ä¸å¸¸ç”¨ API å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7586505172815511603</link>    <guid>https://juejin.cn/post/7586505172815511603</guid>    <pubDate>2025-12-22T14:51:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815511603" data-draft-id="7584824891595341860" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ2ï¼‰ï¼šRegex åŸºç¡€è¯­æ³•ä¸å¸¸ç”¨ API å…¨è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯,C#,æ­£åˆ™è¡¨è¾¾å¼"/> <meta itemprop="datePublished" content="2025-12-22T14:51:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒ›é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/950397795841032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ2ï¼‰ï¼šRegex åŸºç¡€è¯­æ³•ä¸å¸¸ç”¨ API å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/950397795841032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒ›é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:51:09.000Z" title="Mon Dec 22 2025 14:51:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€IsMatch å…¥é—¨</h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Text.RegularExpressions;

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-built_in">string</span> input = <span class="hljs-string">"2025-12-18"</span>;
        <span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"^\d{4}-\d{2}-\d{2}$"</span>;

        <span class="hljs-built_in">bool</span> isValid = Regex.IsMatch(input, pattern);
        Console.WriteLine(isValid); <span class="hljs-comment">// True</span>
    }
}
</code></pre>
<p><strong>è§£æï¼š</strong>ï¼š</p>
<ul>
<li><code>pattern</code> æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œ<code>@"..."</code> æ˜¯ C# çš„é€å­—å­—ç¬¦ä¸²å­—é¢é‡ã€‚</li>
<li><code>^</code> å’Œ <code>$</code>ï¼šé”šç‚¹ï¼Œè¡¨ç¤ºâ€œä»å¤´åˆ°å°¾æ•´ä¸²åŒ¹é…â€</li>
<li><code>\d{4}</code>ï¼š4 ä½æ•°å­—ã€‚</li>
<li><code>-</code>ï¼šå­—é¢é‡â€œ-â€ã€‚</li>
<li><code>Regex.IsMatch</code>ï¼šçœ‹å­—ç¬¦ä¸²ä¸­æ˜¯ä¸æ˜¯â€œæ»¡è¶³è¿™ä¸ªæ¨¡å¼â€ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€C# Regex çš„ 5 ä¸ªæ ¸å¿ƒæ–¹æ³•</h2>
<p>åœ¨ <code>System.Text.RegularExpressions.Regex</code> é‡Œï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯è¿™ 5 ä¸ªæ–¹æ³•ï¼š</p>
<ol>
<li><code>IsMatch</code></li>
<li><code>Match</code></li>
<li><code>Matches</code></li>
<li><code>Replace</code></li>
<li><code>Split</code></li>
</ol>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€Regex.IsMatchï¼šæœ€å¸¸ç”¨çš„â€œåˆ¤æ–­æ˜¯å¦åŒ¹é…â€</h2>
<p><code>IsMatch</code> æ˜¯è¡¨å•æ ¡éªŒã€è¾“å…¥åˆæ³•æ€§æ£€æŸ¥ä¸­ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">bool</span> isEmail = Regex.IsMatch(email, pattern);
</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"Order12345"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\d{3}"</span>;

<span class="hljs-built_in">bool</span> has3Digits = Regex.IsMatch(input, pattern); <span class="hljs-comment">// True</span>
</code></pre>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>é»˜è®¤åªè¦â€œåŒ…å«â€æ»¡è¶³ pattern çš„å­ä¸²ï¼Œå°±è¿”å› trueï¼Œå¹¶ä¸è¦æ±‚æ•´ä¸ªå­—ç¬¦ä¸²éƒ½å®Œå…¨åŒ¹é…ã€‚</li>
<li>å¦‚æœä½ æƒ³â€œæ•´ä¸ªå­—ç¬¦ä¸²å¿…é¡»ç¬¦åˆè¿™ä¸ªè§„åˆ™â€ï¼Œè¦åœ¨ pattern å¤–é¢åŠ ä¸Š <code>^</code> å’Œ <code>$</code>ï¼š</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åªå…è®¸ç”± 3~5 ä½æ•°å­—ç»„æˆï¼Œä¸å…è®¸å¤šä¸€ä¸ªå­—ç¬¦</span>
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"^\d{3,5}$"</span>;
</code></pre>
<hr/>
<h2 data-id="heading-3">å››ã€Regex.Matchï¼šè·å–ç¬¬ä¸€ä¸ªåŒ¹é…</h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> text = <span class="hljs-string">"My phone is 123-456-7890."</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\d{3}-\d{3}-\d{4}"</span>;

Match match = Regex.Match(text, pattern);
<span class="hljs-keyword">if</span> (match.Success)
{
    Console.WriteLine(match.Value);  <span class="hljs-comment">// "123-456-7890"</span>
    Console.WriteLine(match.Index);  <span class="hljs-comment">// èµ·å§‹ç´¢å¼•</span>
    Console.WriteLine(match.Length); <span class="hljs-comment">// åŒ¹é…çš„é•¿åº¦</span>
}
</code></pre>
<p>å¸¸ç”¨æˆå‘˜ï¼š</p>
<ul>
<li><code>match.Success</code>ï¼šæ˜¯å¦åŒ¹é…æˆåŠŸã€‚</li>
<li><code>match.Value</code>ï¼šåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ã€‚</li>
<li><code>match.Index</code>ï¼šåŒ¹é…åœ¨åŸæ–‡æœ¬ä¸­çš„èµ·å§‹ä½ç½®ï¼ˆä» 0 å¼€å§‹ï¼‰ã€‚</li>
<li><code>match.Length</code>ï¼šé•¿åº¦ã€‚</li>
</ul>
<p><code>Regex.Match</code> ä¹Ÿæœ‰å¸¦èµ·å§‹ä½ç½®ã€å¸¦ <code>RegexOptions</code> çš„é‡è½½ï¼š</p>
<hr/>
<h2 data-id="heading-4">äº”ã€Regex.Matchesï¼šè·å–æ‰€æœ‰åŒ¹é…ç»“æœï¼ˆå¤šä¸ªï¼‰</h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> text = <span class="hljs-string">"ID: 100, 200, 300"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\d+"</span>;

MatchCollection matches = Regex.Matches(text, pattern);
<span class="hljs-keyword">foreach</span> (Match m <span class="hljs-keyword">in</span> matches)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{m.Value}</span> at <span class="hljs-subst">{m.Index}</span>"</span>);
}
<span class="hljs-comment">// è¾“å‡º:</span>
<span class="hljs-comment">// 100 at 4</span>
<span class="hljs-comment">// 200 at 9</span>
<span class="hljs-comment">// 300 at 14</span>
</code></pre>
<p><strong>è§£æï¼š</strong></p>
<ul>
<li>è¿”å›çš„æ˜¯ä¸€ä¸ª <code>MatchCollection</code>ï¼Œå¯ä»¥ <code>foreach</code> éå†ã€‚</li>
<li>æ¯ä¸ª <code>Match</code> å’Œå‰é¢ä¸€æ ·ï¼Œæœ‰ <code>Value</code>ã€<code>Index</code>ã€<code>Groups</code> ç­‰å±æ€§ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">å…­ã€Regex.Replaceï¼šæŒ‰æ¨¡å¼æœç´¢å¹¶æ›¿æ¢</h2>
<p><code>Regex.Replace</code> å’Œå­—ç¬¦ä¸²çš„ <code>Replace</code> å¾ˆåƒï¼Œä½†æ”¯æŒæ¨¡å¼åŒ¹é…ã€‚</p>
<h3 data-id="heading-6">1. å›ºå®šå­—ç¬¦ä¸²æ›¿æ¢åŒ¹é…å†…å®¹</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"2025/12/18"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"/"</span>;

<span class="hljs-built_in">string</span> result = Regex.Replace(input, pattern, <span class="hljs-string">"-"</span>);
Console.WriteLine(result); <span class="hljs-comment">// "2025-12-18"</span>
</code></pre>
<p>è¿™ç›¸å½“äºâ€œæŠŠæ‰€æœ‰ <code>/</code> éƒ½æ¢æˆ <code>-</code>â€ï¼Œå’Œ <code>input.Replace("/", "-")</code> ç±»ä¼¼ï¼Œä½† pattern å¯ä»¥å†™å¾—æ›´å¤æ‚ã€‚</p>
<h3 data-id="heading-7">2.ç”¨æ•è·ç»„é‡æ’å†…å®¹</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"2025-12-18"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"(\d{4})-(\d{2})-(\d{2})"</span>;

<span class="hljs-comment">// æŠŠ yyyy-MM-dd æ”¹æˆ dd/MM/yyyy</span>
<span class="hljs-built_in">string</span> result = Regex.Replace(input, pattern, <span class="hljs-string">"$3/$2/$1"</span>);
<span class="hljs-comment">// result: "18/12/2025"</span>
</code></pre>
<p><strong>è§£æï¼š</strong></p>
<p>è¿™é‡Œçš„ <code>$1</code>ã€<code>$2</code>ã€<code>$3</code> æ˜¯æ•è·ç»„</p>
<h3 data-id="heading-8">3. æ›´é«˜çº§çš„ <code>MatchEvaluator</code> ç‰ˆæœ¬</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"Price: 100 USD, 200 USD"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"(\d+)\s*USD"</span>;

<span class="hljs-built_in">string</span> result = Regex.Replace(input, pattern, m =&gt;
{
    <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span> = <span class="hljs-built_in">int</span>.Parse(m.Groups[<span class="hljs-number">1</span>].Value);
    <span class="hljs-built_in">int</span> converted = (<span class="hljs-built_in">int</span>)(<span class="hljs-keyword">value</span> * <span class="hljs-number">7.2</span>); <span class="hljs-comment">// å‡è®¾æ±‡ç‡</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">$"<span class="hljs-subst">{converted}</span> CNY"</span>;
});

Console.WriteLine(result);
<span class="hljs-comment">// "Price: 720 CNY, 1440 CNY"</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">ä¸ƒã€Regex.Splitï¼šæŒ‰â€œæ¨¡å¼â€åˆ‡å‰²å­—ç¬¦ä¸²</h2>
<blockquote>
<p>å¯ä»¥å®ç°å¤šåˆ†éš”ç¬¦çš„åˆ‡å‰²</p>
</blockquote>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"apple, banana; cherry|date"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"[,;|]\s*"</span>; <span class="hljs-comment">// é€—å·ï¼›åˆ†å·ï¼›ç«–çº¿ + å¯é€‰ç©ºç™½</span>

<span class="hljs-built_in">string</span>[] parts = Regex.Split(input, pattern);

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> p <span class="hljs-keyword">in</span> parts)
{
    Console.WriteLine(p);
}
<span class="hljs-comment">// apple</span>
<span class="hljs-comment">// banana</span>
<span class="hljs-comment">// cherry</span>
<span class="hljs-comment">// date</span>
</code></pre>
<hr/>
<h2 data-id="heading-10">å…«ã€æ­£åˆ™åŸºç¡€è¯­æ³•ï¼ˆä¸€ï¼‰ï¼šå­—é¢å­—ç¬¦ä¸è½¬ä¹‰</h2>
<h3 data-id="heading-11">1. å­—é¢å­—ç¬¦</h3>
<p>ç»å¤§å¤šæ•°æ™®é€šå­—ç¬¦åœ¨æ­£åˆ™é‡Œå°±æ˜¯å­—é¢æ„æ€ï¼š</p>
<ul>
<li>æ¨¡å¼ï¼š<code>abc</code> â†’ åŒ¹é…æ–‡æœ¬ä¸­å‡ºç°çš„ <code>abc</code>ã€‚</li>
<li>æ¨¡å¼ï¼š<code>hello</code> â†’ åŒ¹é…æ–‡æœ¬ä¸­å‡ºç°çš„ <code>hello</code>ã€‚</li>
</ul>
<h3 data-id="heading-12">2. ç‰¹æ®Šå­—ç¬¦ï¼ˆå…ƒå­—ç¬¦ï¼‰</h3>
<p>è¿™äº›å­—ç¬¦åœ¨æ­£åˆ™ä¸­æœ‰ç‰¹æ®Šå«ä¹‰ï¼š</p>
<ul>
<li><code>.</code> <code>^</code> <code>$</code> <code>*</code> <code>+</code> <code>?</code> <code>(</code> <code>)</code> <code>[</code> <code>]</code> <code>{</code> <code>}</code> <code>\</code> <code>|</code></li>
</ul>
<p>å¦‚æœä½ è¦åŒ¹é…å…¶ä¸­ä»»æ„ä¸€ä¸ªâ€œå­—é¢æ„ä¹‰ä¸Šçš„â€å­—ç¬¦ï¼Œå°±è¦ç”¨ <code>\</code> è½¬ä¹‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>åŒ¹é…ä¸€ä¸ªç‚¹å· <code>.</code> â†’ æ¨¡å¼ <code>\.</code></li>
<li>åŒ¹é…ä¸€ä¸ªæ˜Ÿå· <code>*</code> â†’ æ¨¡å¼ <code>\*</code></li>
<li>åŒ¹é…ä¸€å¯¹æ‹¬å· <code>(abc)</code> â†’ æ¨¡å¼ <code>\(</code> + <code>abc</code> + <code>\)</code></li>
</ul>
<p>åœ¨ C# ä¸­é…åˆé€å­—å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\."</span>;   <span class="hljs-comment">// åŒ¹é… "."</span>
<span class="hljs-built_in">string</span> pattern2 = <span class="hljs-string">@"\*"</span>;  <span class="hljs-comment">// åŒ¹é… "*"</span>
</code></pre>
<p>å¦‚æœä¸ç”¨ <code>@</code>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">"\\."</span>;   <span class="hljs-comment">// C# å­—ç¬¦ä¸²é‡Œå†™æˆ "\\." æ‰è¡¨ç¤ºä¸€ä¸ªåæ–œæ +ç‚¹</span>
</code></pre>
<p>å®è·µä¸­å‡ ä¹æ‰€æœ‰æ­£åˆ™å­—ç¬¦ä¸²éƒ½ç”¨ <code>@""</code>ï¼Œå¯ä»¥å°‘ä¸€åŠåæ–œæ ã€‚</p>
<hr/>
<h2 data-id="heading-13">ä¹ã€æ­£åˆ™åŸºç¡€è¯­æ³•ï¼ˆäºŒï¼‰ï¼šé¢„å®šä¹‰å­—ç¬¦ç±» \d / \w / \s</h2>
<p>é¢„å®šä¹‰å­—ç¬¦ç±»æ˜¯æ­£åˆ™é‡Œæœ€å¸¸ç”¨çš„å·¥å…·ï¼Œå®ƒä»¬ä»£è¡¨ä¸€ç±»å­—ç¬¦ã€‚</p>
<h3 data-id="heading-14">1. <code>\d</code> / <code>\D</code>ï¼šæ•°å­—ä¸éæ•°å­—</h3>
<ul>
<li><code>\d</code>ï¼šdigitï¼ŒåŒ¹é… 0â€“9 çš„ä»»æ„ä¸€ä½æ•°å­—ï¼Œç›¸å½“äº <code>[0-9]</code>ã€‚</li>
<li><code>\D</code>ï¼šéæ•°å­—ï¼Œç›¸å½“äº <code>[^0-9]</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\d+"</span>;
</code></pre>
<h3 data-id="heading-15">2. <code>\w</code> / <code>\W</code>ï¼šå•è¯å­—ç¬¦ä¸éå•è¯å­—ç¬¦</h3>
<ul>
<li><code>\w</code>ï¼šwordï¼ŒåŒ¹é…å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œç›¸å½“äº <code>[A-Za-z0-9_]</code>ã€‚</li>
<li><code>\W</code>ï¼šé <code>\w</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šåŒ¹é…â€œå•è¯â€ï¼ˆä¸€ä¸²å­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\w+"</span>;
</code></pre>
<h3 data-id="heading-16">3. <code>\s</code> / <code>\S</code>ï¼šç©ºç™½å­—ç¬¦ä¸éç©ºç™½å­—ç¬¦</h3>
<ul>
<li><code>\s</code>ï¼šspaceï¼ŒåŒ¹é…ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç­‰æ‰€æœ‰ç©ºç™½å­—ç¬¦ã€‚</li>
<li><code>\S</code>ï¼šéç©ºç™½ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\s+"</span>; <span class="hljs-comment">// åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªç©ºç™½</span>
</code></pre>
<h2 data-id="heading-17">ç»“è¯­</h2>
<p><strong>ç‚¹ä¸ªèµï¼Œå…³æ³¨æˆ‘è·å–æ›´å¤šå®ç”¨ C# æŠ€æœ¯å¹²è´§ï¼å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè®°å¾—æ”¶è—æœ¬æ–‡</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹´ç»ˆæ€»ç»“ - 2025 æ•…äº‹é›†]]></title>    <link>https://juejin.cn/post/7586555198114906118</link>    <guid>https://juejin.cn/post/7586555198114906118</guid>    <pubDate>2025-12-22T14:51:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586555198114906118" data-draft-id="7581669438577492004" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹´ç»ˆæ€»ç»“ - 2025 æ•…äº‹é›†"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-22T14:51:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jimmy"/> <meta itemprop="url" content="https://juejin.cn/user/1996368846261294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹´ç»ˆæ€»ç»“ - 2025 æ•…äº‹é›†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1996368846261294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jimmy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:51:56.000Z" title="Mon Dec 22 2025 14:51:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ“• å¦‚æœæ‚¨åˆšå¥½ç‚¹äº†è¿›æ¥ï¼Œå´ä¸æƒ³å®Œæ•´é˜…è¯»è¯¥æ–‡ç« ä½†åˆæƒ³çŸ¥é“å®ƒè®°å½•äº†ä»€ä¹ˆã€‚å¯è·³åˆ°æ–‡æœ«<strong>æ€»ç»“</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-0">å‰è¨€</h3>
<p>æ—¶éš”<strong>å››ä¸ªæœˆ</strong>ï¼Œå†æ‰§ç¬”å³å°†è¿›å…¥äº†æ–°çš„ä¸€å¹´ <strong>2026</strong> å¹´...</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d39e86c88d24a34a1e6be79e2176d15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=FWtDt6c58P4%2Bkncx8T%2BYdbbOqcs%3D" alt="2025 &amp; 2026" loading="lazy"/></p>
<p>æ—¶é—´åƒå¾€å¸¸ä¸€æ ·æ— å£°æ¯åœ°æµåŠ¨ï¼Œå·²è¿‘å¹´å°¾ï¼Œåœ¨è¿‡å»çš„ <strong>2025</strong> å¹´ï¼Œä¸‰ç™¾å¤šå¤©æ—¶é—´é‡Œé¢ï¼Œå‘ç”Ÿäº†å¾ˆå¤šçš„äº‹æƒ…ï¼Œæˆ–å–œï¼Œæˆ–æ‚²ï¼Œæˆ–é™ï¼Œæˆ–é—¹...æ­¤æ—¶ï¼Œç¯äº®ç€ï¼Œçª—å¤–å¶å°”æœ‰è¿œå¤„æ±½è½¦çš„æ²™æ²™å£°ã€‚æˆ‘åœ¨å…¶ä¸­ï¼Œå¼€å§‹å›é¡¾å¹¶è®°å½•æ’è¿›å¿ƒåº•çš„ç¬é—´å’Œæ„Ÿå—ã€‚</p>
<h3 data-id="heading-1">ä½ å¥½ï¼Œä¸–ç•Œ</h3>
<p>è¿˜æ˜¯<strong>ç†Ÿæ‚‰çš„å››æœˆä»½</strong>çš„ä¸€å¤©å‡Œæ™¨ï¼Œè€å¦ˆè·Ÿæˆ‘åœ¨èµ°å»Šé‡Œè¸±æ­¥~</p>
<p>éšç€æ¸…è„†çš„å“­å£°å“èµ·ï¼ŒäºŒå®å¦‚æœŸè€Œè‡³ã€‚è¿‡äº†æ®µæ—¶é—´ï¼ŒæŠ¤å£«å‡ºæ¥æŠ¥å‡º<strong>æ¯å¥³å¹³å®‰</strong>æ˜¯æˆ‘ä»¬å¬åˆ°çš„æ­¤åˆ»æœ€è®©äººå¿ƒå®‰çš„è¯è¯­ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¯´æ˜¯<strong>ç†Ÿæ‚‰çš„å››æœˆä»½</strong>ï¼Œå› ä¸ºè€å¤§ä¹Ÿæ˜¯å››æœˆä»½å‡ºç”Ÿçš„</p>
</blockquote>
<p>å› ä¸ºè€å©†åœ¨å·¥ä½œæ—¥å‡Œæ™¨åˆ†å¨©ï¼Œæ‰€ä»¥æˆ‘çš„ä¼‘é™ªäº§çš„å•ä¹Ÿå…ˆæäº¤äº†ã€‚åœ¨æ”¶åˆ°è€å©†äº§åæ— éœ€æˆ‘ååŠ©äº‹æƒ…çš„è¯è¯­åï¼Œæˆ‘æ’¤é”€äº†é™ªäº§å•ï¼Œå±é¢ å±é¢ åœ°å»ä¸Šç­èµšå¥¶ç²‰é’±äº†ğŸ˜„</p>
<p>å—¯ï¼Œä»<a href="https://juejin.cn/post/7338255194608255003#heading-2" target="_blank" title="https://juejin.cn/post/7338255194608255003#heading-2">å‡†å¥¶çˆ¸</a>åˆ°é¦–æ¬¡<a href="https://juejin.cn/post/7455315760274751507#heading-2" target="_blank" title="https://juejin.cn/post/7455315760274751507#heading-2">å–œå½“çˆ¹</a>è‡³ä»Šï¼ŒçŸ­çŸ­ä¸‰å¹´æ—¶é—´é‡Œé¢ï¼Œè‡ªå·±å·²ç»æ˜¯ä¸¤ä¸ªå°å­©çš„çˆ¸çˆ¸ï¼ŒçœŸæ˜¯ä¸€ä¸ªè®©è‡ªå·±æ„æƒ³ä¸åˆ°çš„é€Ÿåº¦ã€‚</p>
<p>è‡ªä»å½“äº†çˆ¶æ¯ä¹‹åï¼Œæˆ‘ä»¬æ›´åŠ æ‡‚å¾—è‡ªå·±çˆ¶æ¯çš„<strong>æ— ç§ä¸”ä¼Ÿå¤§</strong>ï¼Œå­©å­çš„<strong>å¤©çœŸå’Œæ— çŸ¥</strong>ã€‚</p>
<p>ç›¸å¯¹äºç¬¬ä¸€æ¬¡å–œå½“çˆ¹æ—¶å€™ï¼Œè‡ªå·±æ…Œå¼ æ— æªï¼Œè€å¦ˆè¾›è‹¦åœ°å¿™å‰å¿™åï¼Œæ‰‹æ…Œè„šä¹±ã€‚æœ‰äº†ç¬¬ä¸€æ¬¡çš„ç»éªŒï¼Œæˆ‘ä»¬å¯¹äºäºŒå®çš„å¤„ç†è¿˜æ˜¯æŒºç¨³å®šï¼š</p>
<ul>
<li>åœ¨é¢„äº§æœŸä¸´è¿‘çš„ä¸¤ä¸‰å¤©ï¼Œæˆ‘ä»¬å‡†å¤‡å¥½äº†å¤§åŒ…å°åŒ…çš„å¾…äº§åŒ… -&gt; <strong>alway stand by</strong></li>
<li>äº§åçš„ä¸‰å¤©æ—¶é—´ï¼Œè¯·æŠ¤å·¥ç…§çœ‹è€å©†å’Œæ–°ç”Ÿå„¿ï¼Œè€å¦ˆåœ¨æ—è¾¹é™ªåŒï¼Œè€çˆ¸åœ¨å®¶ç…§çœ‹å¤§å®</li>
<li>å‡ºé™¢åï¼Œè€å©†å’ŒäºŒå®ç›´æ¥æœˆå­ä¸­å¿ƒåæœˆå­ã€‚è€å¦ˆå’Œæˆ‘åœ¨å®¶ç…§çœ‹å¤§å®ï¼Œå‘¨æœ«æœˆå­ä¸­å¿ƒçœ‹äºŒå®</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62c883b4c9074c5da6ad03bacd1fdb8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=ZSaUqYEJcLROtBKwLUAb75q2txU%3D" alt="daughters in nursing room" loading="lazy"/></p>
<p align="center">ğŸ‘†å³å°†å‡ºæœˆå­ä¸­å¿ƒï¼Œå¤§å®å’ŒäºŒå®çš„åˆå½±ğŸ‘†</p>
<h3 data-id="heading-2">åœ¨æ—¥å¸¸é‡Œæ¥åŠ›çš„æˆ‘ä»¬</h3>
<p>æ¯å¤©ï¼Œæˆ‘ä»¬éƒ½è§‰å¾—æ—¶é—´ä¸å¤Ÿç”¨ï¼Œèƒ½ç•™å‡ºäº›è®¸ç©ºé—´å’Œæ—¶é—´æ¥æ”¾æ¾ï¼Œå·²ç»å¾ˆæ»¡è¶³ğŸ˜Œ</p>
<h4 data-id="heading-3">è€å©†æ¥å›å¥”æ³¢çš„å·¥ä½œæ—¥</h4>
<p>åœ¨ä¼‘å®Œä¸‰ä¸ªå¤šæœˆçš„äº§å‡ä¹‹åï¼Œè€å©†å°±å»å¤å·¥äº†ã€‚å› ä¸ºäºŒå®è¿˜å°ï¼Œè€å©†ä¼šæ¯å¤©ä¸­åˆéƒ½å›æ¥å“ºä¹³ã€‚ä»å°å­©ä¸‰ä¸ªå¤šæœˆåˆ°ä¸ƒä¸ªå¤šæœˆï¼Œé›·æ‰“ä¸åŠ¨ï¼Œå…¬å¸å’Œå®¶ä¸¤å¤´è·‘ã€‚</p>
<p>é‚£ä¸€å°å°ç”µé©´ï¼Œéš”ä¸‰å·®äº”å°±éœ€è¦å»å……ç”µã€‚å°å°ç”µé©´ï¼Œå·²ç»è¶…å‡ºäº†å®ƒçš„ä»·å€¼~</p>
<p>å¥½ä¸å®¹æ˜“ï¼Œè®©äºŒå®æ–­å¥¶äº†ã€‚æ–­å¥¶æ˜¯ä»¶å¾ˆç—›è‹¦çš„äº‹æƒ…ï¼Œè¦ç†¬å¤œï¼Œæ¶¨å¥¶èƒ¸ç—›ç­‰ã€‚æˆ‘è¿˜è®°å¾—åœ¨æˆåŠŸæ–­å¥¶åçš„é‚£å¤©æ™šä¸Šï¼Œè€å©†è¿˜ç‰¹æ„å«æˆ‘å‡ºå»ä¹°ç“¶é…’å›æ¥åº†ç¥ä¸€ä¸‹âœ¨</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e41ff5a6b3ca429ab84f20485e7acbb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=Ik%2BylNdo7wMSNSpt%2F3sWpBmx0R4%3D" alt="beer" loading="lazy"/></p>
<p align="center">ğŸ‘†5%-8% vol çš„é¸¡å°¾é…’ğŸ‘†</p>
<p>è™½ç„¶äºŒå®æ–­å¥¶äº†ï¼Œä½†æ˜¯è€å©†åœ¨å·¥ä½œä¸å¿™çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šä¸­åˆå›æ¥çœ‹çœ‹ã€‚ç”¨æˆ‘è€å©†çš„è¯è¯´ï¼š<strong>æœ‰ç‚¹è®¨åŒï¼Œä½†æ˜¯åˆæœ‰ç‚¹èˆä¸å¾—äºŒå®</strong>ã€‚</p>
<h4 data-id="heading-4">å·¥ä½œæ—¥ï¼Œçˆ·çˆ·å¥¶å¥¶çš„æ—¶å…‰</h4>
<p>è€å©†è·Ÿæˆ‘ï¼Œå·¥ä½œæ—¥éƒ½éœ€è¦ä¸Šç­ï¼Œå—¯~èµšå¥¶ç²‰é’±ğŸ˜€</p>
<p>ç„¶åï¼Œä¸¤ä¸ªå®å®ï¼Œå·¥ä½œæ—¥çš„æ—¶å€™ä¸»è¦ç»™çˆ·çˆ·å’Œå¥¶å¥¶å¸¦ã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œä¸¤ä¸ªå®å®éƒ½éœ€è¦å¥¶å¥¶æŠ±ï¼Œè¿™å¯è‹¦äº†å¥¶å¥¶çš„è…°æ¿å­äº†ã€‚çˆ·çˆ·æ›´å¤šçš„æ—¶å€™ï¼Œæ˜¯å……å½“äº†å¨å¸ˆçš„è§’è‰²ï¼Œä¿è¯ä¸€å®¶äººçš„ä¸‰é¤ä¼™é£Ÿï¼Œå—¯~<strong>è€çˆ¸çš„å¨è‰ºçœŸå¥½</strong>ğŸ‘</p>
<p>çˆ·çˆ·å¥¶å¥¶ä¸€å¤©ä¸‹æ¥çš„æµç¨‹ï¼šæ—©ä¸Šå¸¦å¨ƒå‡ºå»æ™’å¤ªé˜³ï¼Œé›å¨ƒï¼ˆä¸»è¦æ˜¯è®©å¤§å®åŠ¨èµ·æ¥ï¼Œä¸­åˆå¥½ç¡è§‰ï¼‰ï¼›ä¸­åˆå–‚é¥­ï¼Œåˆä¼‘ï¼ˆå¤§å®ä¸€èˆ¬ä¸­åˆä¼‘æ¯ä¸¤ä¸ªé’Ÿï¼Œä¸‹åˆä¸‰æˆ–å››ç‚¹èµ·æ¥ï¼‰ï¼›ä¸‹åˆæ´—æ¾¡ï¼ˆæ€•å†·ç€å°å­©ï¼Œä¸€èˆ¬å¤©é»‘å‰æ´—å®Œï¼‰ï¼Œå–‚é¥­ï¼Œé™ªç©ï¼›æ™šä¸Šï¼Œç­‰è€å©†å’Œæˆ‘ä¸‹ç­å›æ¥ï¼Œçˆ·çˆ·å’Œå¥¶å¥¶æ‰æœ‰ç©ºé—²çš„æ—¶é—´ã€‚ä¸€èˆ¬è¿™ä¸ªæ—¶å€™ï¼Œçˆ·çˆ·å°±å–œæ¬¢ä¸‹æ¥¼å»å‘¨è¾¹é€›ï¼Œå¥¶å¥¶å°±ä¼šèººç€åºŠä¸Šç›´ä¸€ä¸‹è…°æ¿å­ï¼ˆæœ‰æ—¶ä¼šè·Ÿçˆ·çˆ·ä¸‹æ¥¼é€›è¡—ï¼‰ã€‚å·¥ä½œæ—¥çš„æ—¶å€™ï¼Œå¦‚æœå¥¶å¥¶æ™šä¸Šæ²¡æœ‰å‡ºå»é€›è¡—ï¼Œé‚£ä¹ˆï¼Œä¼šåœ¨ä¹ç‚¹å¤šå–‚å®Œå¥¶ç»™å¤§å®ï¼Œå¥¶å¥¶ä¼šå“„å¤§å®ç¡è§‰ï¼›å¦‚æœå¥¶å¥¶å¤–å‡ºï¼Œé‚£ä¹ˆæˆ‘å°±ä¼šå“„å¤§å®ç¡è§‰ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1890196a31384edcb04b256d1b9bd94a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=%2BVtv%2BxavORCaHUjeAo5AkApEtUE%3D" alt="mother's birthday" loading="lazy"/></p>
<p align="center">ğŸ‘†å¥¶å¥¶ç”Ÿæ—¥çš„æ—¶å€™ï¼Œä¸¤å®å’Œçˆ·çˆ·å¥¶å¥¶åˆå½±ğŸ‘†</p>
<h4 data-id="heading-5">ä¼‘æ¯æ—¥ï¼Œæˆ‘ä»¬çš„æ—¶å…‰</h4>
<p><strong>å·¥ä½œæ—¥ï¼Œç­ä¸Šå®Œäº†ï¼›ä¼‘æ¯æ—¥ï¼Œè¯¥å¸¦å¨ƒäº†</strong>ã€‚çˆ·çˆ·å¥¶å¥¶ä¼‘æ¯æ—¥æ”¾å‡ï¼Œæƒ³å»å“ªé‡Œå°±å»å“ªé‡Œï¼Œæ”¾æ¾æ”¾æ¾ã€‚</p>
<p>ä¼‘æ¯æ—¥å¸¦å¨ƒï¼Œæˆ‘ä»¬çš„å®—æ—¨å°±æ˜¯ï¼š<strong>å°½é‡è®©å¨ƒå¤šåŠ¨</strong>ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åŸºæœ¬éƒ½ä¼šå¤–å‡ºã€‚å¿™å¿™ç¢Œç¢Œï¼Œå—¯ï¼Œæˆ‘ä»¬åˆ†äº«ä¸¤ä»¶äº‹æƒ…ï¼š</p>
<p>æˆ‘è¿˜è®°å¾—ï¼ŒæŸä¸ªå‘¨æœ«ï¼Œæˆ‘ä»¬åœ¨å•†åœºé€›äº†ä¸€å¤©ï¼Œè®©å¤§å®åœ¨å•†åœºé‡Œé¢èµ°ï¼Œå¥¹é€›å¾—è´¼å¼€å¿ƒï¼ˆè¿™å¯ä¸ï¼Œé€›å¾—æœ‰å¤šç´¯ï¼Œç¡å¾—æœ‰å¤šé¦™ï¼‰ï¼Œæ¨ç€äºŒå®ã€‚ä¸­åˆç›´æ¥åœ¨å•†åœºé‡Œé¢è§£å†³åƒé¥­çš„é—®é¢˜ï¼Œå¤§å®ç›´æ¥åœ¨å©´å„¿è½¦ä¸Šè§£å†³äº†åˆç¡çš„äº‹æƒ…ï¼ŒäºŒå®åˆ™æ˜¯è¢«è€å©†æˆ–è€…æˆ‘èƒŒåœ¨èº«ä¸Šç¡è§‰ã€‚æ¯å©´å®¤æ²¡äººçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šåœ¨é‡Œé¢å°æ†©ä¸€ä¼šã€‚ç­‰ä¸¤å®é†’æ¥ä¹‹åï¼Œå†é€›ä¸€ä¸‹ï¼Œ<strong>ä¸€å¤©çš„æ—¶é—´è¿‡å¾—æ…¢ä½†æ˜¯åˆå¾ˆå¿«</strong>ã€‚</p>
<p>ä»Šå¹´çš„å›½åº†è¿ç€ä¸­ç§‹ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªé•¿å‡æœŸé‡Œé¢ï¼Œä¼šå¸¦ä»–ä»¬åœ¨å°åŒºé‡Œé¢éœ²è¥ï¼ˆåœ¨è‰åªä¸Šé“ºä¸€å«å­ï¼‰ï¼Œè®©å¥¹ä»¬è‡ªå·±ç©ã€‚å¤§å®èµ°è·¯çš„å¹´çºªï¼Œè¿™é‡Œèµ°é‚£é‡Œèµ°ï¼Œæˆ‘å¾—<strong>å±é¢ å±é¢ </strong>è·Ÿå¥¹åé¢ï¼Œä»è¿™é‡ŒæŠŠå¥¹æŠ±è¿‡æ¥é‚£é‡Œï¼Œä»é‚£è¾¹æŠŠå¥¹å“„è¿‡æ¥è¿™è¾¹ï¼Œ<strong>çœŸæƒ³æ‹¿æ¡é“¾å­ç»‘ç€å¥¹</strong>ã€‚ç›¸åï¼ŒäºŒå®å°±æ·¡å®šå¤šäº†ï¼Œåªèƒ½åœ¨é‚£å—å¸ƒé‚£é‡Œçˆ¬æ¥çˆ¬å»ï¼Œè¢«å¥¹å¦ˆå¦ˆé™åˆ¶ç€ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0be16f71224949b9911866ea57997786~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=gGHOOW9RyDB75S1OU4r6XyjPB%2FE%3D" alt="Mid-Autumn Festival" loading="lazy"/></p>
<p align="center">ğŸ‘†ä¸­ç§‹èŠ‚å½“æ™šï¼Œåœ¨å“„ä¸¤å¨ƒç¡ç€åï¼Œè€å©†è·Ÿæˆ‘åœ¨é˜³å°æ‹œæœˆğŸ‘†</p>
<h3 data-id="heading-6">æ²¡æœ‰æƒŠå–œçš„å·¥ä½</h3>
<p>ç›¸å¯¹äºä¸Šä¸€å¹´å·¥ä½œçš„æƒŠå“ï¼Œä»Šå¹´çš„å·¥ä½œå¯ä»¥ç”¨æ²¡æœ‰æƒŠå–œæ¥å½¢å®¹ã€‚</p>
<blockquote>
<p>è‡³äºä¸ºä»€ä¹ˆè¯´ä¸Šä¸€å¹´æ˜¯æƒŠå“ï¼Œä»Šå¹´æ²¡æœ‰æƒŠå–œã€‚åé¢æœ‰æ—¶é—´ï¼Œä¼šå‡ºä¸€ç¯‡æ–‡ç« æ¥åˆ†äº«ä¸‹ã€‚</p>
</blockquote>
<p>ç®€ç®€å•å•çš„å·¥ä½ï¼Œä¸€æ°´æ¯ï¼Œä¸€è®°äº‹æœ¬ï¼Œä¸€å°å¼ç”µè„‘ï¼Œä¸€ç»¿æ¤ã€‚å±è‚¡ä¸€åï¼Œä¸€æ•´å¤©å—–ä¸€ä¸‹å°±è¿‡å»äº†~</p>
<p>åœ¨å…¬å¸ï¼Œè®©æˆ‘æ´»è·ƒèµ·æ¥çš„ï¼Œå°±æ˜¯<strong>ä¸­åˆ</strong>åƒé¥­çš„æ—¶å€™ã€‚æˆ‘ä»¬çš„å°å›¢ä½“ï¼ˆä¸€å®‰å“ï¼Œä¸€äº§å“å’Œæˆ‘ï¼‰å¼€è½¦å»å‘¨è¾¹åƒé¥­ã€‚è¿™æ®µæ—¶é—´ï¼Œæ˜¯æˆ‘ä»¬å” å—‘çš„æ—¶é—´ï¼Œæ— æ‹˜æ— æŸï¼Œå³ä½¿æˆ‘ä»¬å¶å°”ä¼šæµªè´¹æ‰åˆä¼‘çš„æ—¶é—´ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯è§‰å¾—æŒºä¸é”™çš„ï¼Œæ—¶é—´èŠ±å¾—å€¼...</p>
<p>å·¥ä½œä¸Šç³Ÿå¿ƒçš„äº‹åæ ¹æ‰‹æŒ‡å¯æ•°ä¸è¿‡æ¥ï¼Œè§¦åŠ¨ä¸”æ¸©æš–äº†å¿ƒçªçš„äº‹æƒ…å±ˆæŒ‡å¯æ•°ã€‚</p>
<p>è®°å¾—æ‹›è¿›æ¥çš„ä¸€ä¸ªæ–°äººï¼Œæˆ‘å¸¦äº†ä»–å‡ å¤©ï¼Œæœ€åå…¥èŒçŸ­çŸ­å‡ å¤©è¢«æŸäººæ¶å¿ƒè€Œç¦»èŒäº†ã€‚ä»–ç¦»èŒçš„å‰ä¸€å¤©ï¼Œç‚¹äº†ä¸€æ¯å¥¶èŒ¶ç»™æˆ‘ï¼Œè™½ç„¶è‡ªå·±å˜´é‡Œé¢è¯´ç€åˆ«å®¢æ°”ï¼Œä½†æ˜¯å¿ƒé‡Œé¢æš–æš–çš„ã€‚ä»–æ‰è¿›æ¥çŸ­çŸ­å‡ å¤©å°±èµ°äººäº†ï¼Œè‡ªå·±å¿ƒé‡Œè«åç”Ÿæ°”ï¼šä¸ºä»€ä¹ˆæˆ‘è‡ªå·±æ‹›çš„äººï¼Œè‡ªå·±å¸¦ç€ç†Ÿæ‚‰é¡¹ç›®åï¼Œä¸€è½¬æ‰‹å°±è¢«æ¶å¿ƒåˆ°è¦ç¦»èŒäº†ï¼Ÿï¼Ÿï¼Ÿæœ€ç»ˆä»–å´è¿˜<strong>æ¸©æŸ”åœ°</strong>ä»¥è‡ªæˆ‘é—®é¢˜ä½œç¦»èŒçš„åŸå› ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1645ba344d694632bb38142173e05302~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=WhCPiwcJ8giirpRx5VskgCYb8oI%3D" alt="colleague communication" loading="lazy"/></p>
<p align="center">ğŸ‘†ç‚¹äº†ä»½å¥¶èŒ¶æ”¾æˆ‘æ¡Œé¢åçš„å¯¹è¯ğŸ‘†</p>
<h3 data-id="heading-7">æŠŠæ˜å¤©è½»è½»æ”¾è¿›å¿ƒé‡Œ</h3>
<p><strong>2026 å¹´</strong>æ‚„ç„¶å°†è‡³ã€‚åœ¨å¯¹æ–°çš„ä¸€å¹´æœ‰æ‰€å±•æœ›ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸‹<a href="https://juejin.cn/post/7455315760274751507" target="_blank" title="https://juejin.cn/post/7455315760274751507">å¹´ç»ˆæ€»ç»“ - 2024 æ•…äº‹é›†</a>ä¸­ç«‹ä¸‹çš„ä¸¤ä¸ª <code>Flags</code> å’Œå®Œæˆçš„æƒ…å†µï¼š</p>























<table><thead><tr><th>åºå·</th><th>ç›®æ ‡</th><th>å®é™…</th><th>å®Œæˆç‡</th></tr></thead><tbody><tr><td>1</td><td>åˆ†äº«æ–‡ç«  <strong>20+</strong> ç¯‡</td><td>åˆ†äº«æ–‡ç«  <strong>18</strong> ç¯‡</td><td>90%</td></tr><tr><td>2</td><td>é”»ç‚¼ <strong>30+</strong> æ¬¡</td><td>é”»ç‚¼ <strong>32</strong> æ¬¡</td><td>107%</td></tr></tbody></table>
<p>å—¯~ ç›®æ ‡å®Œæˆç‡è¿˜ä¸èµ–ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac82e714d32c46ed967524500f9d5155~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=xqUjmOxcHSg73xV4%2BQ8mJEWUHXA%3D" alt="do execise" loading="lazy"/></p>
<p align="center">ğŸ‘†æ¯æ¬¡é”»ç‚¼æˆ‘éƒ½ä¼šåœ¨æœ‹å‹åœˆè®°å½•ï¼Œæ¯æ¬¡è€—æ—¶ 45 åˆ†é’Ÿå·¦å³ğŸ‘†</p>
<p>å¯¹äºåˆ†äº«æ–‡ç« ï¼Œä¸€å¼€å§‹å°±æ˜¯<strong>ç§‰æ‰¿ç€è®°å½•è‡ªå·±åœ¨å·¥ä½œä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œæ–¹ä¾¿è‡ªå·±å’Œå…¶ä»–äººæŸ¥æ‰¾çš„å®—æ—¨</strong>æ¥è¿›è¡Œè®°å½•ï¼Œåé¢æ˜¯å› ä¸ºå¹³å°æäº†å¥–åŠ±è€Œè¿›è¡Œçš„ä¸€äº›åˆ›ä½œã€‚è€Œç°åœ¨ï¼Œéšç€ <code>chatgpt</code>, <code>deepseek</code> ç­‰å¤§è¯­è¨€æ¨¡å‹çš„æœºå™¨äººæ¨ªç©ºå‡ºä¸–ï¼Œæµ…æ˜¾çš„åˆ†äº«å’Œé—®é¢˜çš„è®°å½•éƒ½æ˜¾å¾—<strong>é¸¡è‚‹</strong>ã€‚æ‰€ä»¥ï¼Œåœ¨ 2026 æ–°çš„ä¸€å¹´å†…ï¼Œæ–‡ç« çš„åˆ†äº«è¦æ›´åŠ æœ‰ç›®çš„æ€§å’Œå®é™…çš„æ„ä¹‰ã€‚2026 å¹´ï¼Œè°çŸ¥é“ä¼šæœ‰å‡ ç¯‡æ–‡ç« ä¼šå‡ºç‚‰ï¼Œä¹Ÿè®¸ä¸€ç¯‡ï¼Œä¹Ÿè®¸åç¯‡ï¼Œä¹Ÿè®¸äºŒåç¯‡ï¼Œä¹Ÿè®¸é›¶ç¯‡ã€‚</p>
<p>å¯¹äºé”»ç‚¼ï¼Œè¿™æ˜¯æˆ‘é•¿æœŸéœ€è¦åšæŒçš„ä¸€ä»¶äº‹æƒ…ï¼Œä¹Ÿæ˜¯æœ€å¥½é‡åŒ–çš„äº‹æƒ…ã€‚åœ¨æ–°çš„ä¸€å¹´é‡Œé¢ï¼Œé”»ç‚¼çš„æ¬¡æ•°éœ€ <code>35+</code> ã€‚</p>
<p>ä¸ºäººçˆ¶æ¯ï¼Œä¸ºäººå„¿å¥³ã€‚æˆ‘ä»¬éƒ½æœ‰è‡ªå·±çš„é‚£ä»½è´£ä»»ï¼Œ2026 å¹´ï¼Œå¸Œæœ›è‡ªå·±æ›´å¤šçš„æ—¶é—´æ˜¯å›å½’å®¶åº­ - å»å¬å¬å­©å­çš„æ¬¢å£°ç¬‘è¯­ï¼Œå»çœ‹çœ‹çˆ¸å¦ˆè„¸ä¸Šçš„ç¬‘å®¹ï¼Œå»ä½“éªŒå¤§å®¶èšåœ¨ä¸€èµ·çƒ­çƒ­é—¹é—¹çš„æ°›å›´ <strong>and more</strong></p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70f2a49cb51b43b499d1f06286512f40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=WexaN1iOl67dRdstSurrcOlWPN8%3D" alt="family gathering" loading="lazy"/></p>
<p align="center">ğŸ‘†è€çˆ¸ç”Ÿæ—¥ï¼Œå¤§å§ï¼ŒäºŒå§å¤§å®¶çš„å¨ƒèšåœ¨ä¸€èµ·ğŸ‘†</p>
<h3 data-id="heading-8">æ€»ç»“</h3>
<p><strong>2025</strong> å¹´ï¼Œç®€ç®€å•å•å´å¿™å¿™ç¢Œç¢ŒğŸ‘‡ï¼š</p>
<p>åœ¨ç”Ÿæ´»æ–¹é¢ï¼Œæ¬¢è¿äºŒå®åŠ å…¥å¤§å®¶åº­ã€‚è¿™è®©æˆ‘ä»¬æ¥ä¸‹æ¥çš„ä¸€å¹´æ—¶é—´é‡Œé¢ï¼Œæ—¶é—´å®‰æ’æ›´åŠ å……å®ç´§å‡‘ï¼Œæ›´æ„Ÿå—åˆ°å½“çˆ¹å¦ˆçš„ä¸å®¹æ˜“ï¼Œæ„Ÿæ©è‡ªå·±çš„çˆ¶æ¯åœ¨ä»¥å‰é‚£å¹´ä»£å«è¾›èŒ¹è‹¦å¸¦å¤§äº†æˆ‘ä»¬ä¸‰å§å¼Ÿã€‚åœ¨å·¥ä½œæ–¹é¢ï¼Œæ²¡æœ‰å¤ªå¤šæƒ³è®°å½•çš„ä¸œè¥¿ï¼Œå¹³å¹³æ·¡æ·¡åœ°æ‰“å¡ä¸Šä¸‹ç­ã€‚</p>
<p>å±•æœ› <strong>2026</strong>ï¼Œè¿˜æ˜¯ç»™è‡ªå·±åˆ¶å®šäº†é”»ç‚¼æ¬¡æ•°çš„é‡åŒ–ç›®æ ‡ã€‚åœ¨è¿™ä¸ªäººå·¥æ™ºèƒ½é€æ¸æˆç†Ÿçš„ç¯å¢ƒä¸‹ï¼Œå¸Œæœ›è‡ªå·±èƒ½å¤Ÿä½¿ç”¨å®ƒæå‡å·¥ä½œæ•ˆç‡å’Œå¸®åŠ©è‡ªå·±æˆé•¿ã€‚åœ¨ <strong>2026</strong> å¹´ï¼Œè‡ªå·±çš„é‡å¿ƒä¼šæ”¾åœ¨å®¶åº­è¿™è¾¹ï¼Œå»æ„Ÿå—å­©å­çš„æˆé•¿å’Œå®¶çš„æ°›å›´ã€‚</p>
<p align="right"><b>å®Œæˆäºä¸­å›½å¹¿ä¸œçœå¹¿å·å¸‚</b></p>
<p align="right"><b>2025 å¹´ 12 æœˆ 22 æ—¥</b></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¬ä¸€å¬æŠ€æœ¯é¢è¯•å®˜çš„å¿ƒè·¯å†ç¨‹ï¼šä»–ä»¬ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼Œä¹Ÿä¼šè¡¨ç°ä¸å¦‚äººæ„]]></title>    <link>https://juejin.cn/post/7586490798432239679</link>    <guid>https://juejin.cn/post/7586490798432239679</guid>    <pubDate>2025-12-22T14:54:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586490798432239679" data-draft-id="7586491717873778707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¬ä¸€å¬æŠ€æœ¯é¢è¯•å®˜çš„å¿ƒè·¯å†ç¨‹ï¼šä»–ä»¬ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼Œä¹Ÿä¼šè¡¨ç°ä¸å¦‚äººæ„"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T14:54:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uzong"/> <meta itemprop="url" content="https://juejin.cn/user/372082495985181"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¬ä¸€å¬æŠ€æœ¯é¢è¯•å®˜çš„å¿ƒè·¯å†ç¨‹ï¼šä»–ä»¬ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼Œä¹Ÿä¼šè¡¨ç°ä¸å¦‚äººæ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/372082495985181/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uzong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:54:23.000Z" title="Mon Dec 22 2025 14:54:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¬ä¸€å¬æŠ€æœ¯é¢è¯•å®˜çš„å¿ƒè·¯å†ç¨‹ï¼šä»–ä»¬ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼Œä¹Ÿä¼šè¡¨ç°ä¸å¦‚äººæ„</h2>
<p>å¾ˆå¤šäººä»¥ä¸ºï¼Œååœ¨é¢è¯•æ¡Œå¯¹é¢çš„æŠ€æœ¯é¢è¯•å®˜ï¼Œæ‰‹æ¡ç”Ÿæ€å¤§æƒï¼Œåªéœ€â€œè€ƒå€’â€å€™é€‰äººä¾¿ç®—å®Œæˆä»»åŠ¡ã€‚ä½†å…¶å®ï¼ŒçœŸæ­£ä¼˜ç§€çš„é¢è¯•å®˜ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†è®¾å¡ï¼Œè€Œæ˜¯ä¸ºäº†â€œå‘ç°â€â€”â€”å‘ç°é‚£äº›æœ‰æ½œåŠ›ã€èƒ½ä¸å›¢é˜Ÿé•¿æœŸå…±æˆé•¿çš„äººã€‚</p>
<p>æˆ‘åšæŠ€æœ¯é¢è¯•å®˜å·²æœ‰å¤šå¹´ï¼Œä»æœ€åˆç…§æœ¬å®£ç§‘åœ°é—®å…«è‚¡æ–‡ï¼Œåˆ°å¦‚ä»Šæ›´å…³æ³¨å€™é€‰äººçš„æ€ç»´æ¨¡å¼ã€åä½œæ„è¯†å’Œæˆé•¿è½¨è¿¹ï¼Œè¿™ä¸€è·¯èµ°æ¥ï¼Œè‡ªå·±ä¹Ÿåœ¨ä¸æ–­è¢«é‡å¡‘ã€‚ä»Šå¤©æƒ³å’Œå¤§å®¶èŠèŠï¼Œä¸€ä¸ªçœŸå®ã€æœ‰è¡€æœ‰è‚‰çš„æŠ€æœ¯é¢è¯•å®˜ï¼Œåœ¨è¿™åœºåŒå‘å¥”èµ´ä¸­ï¼Œæ˜¯å¦‚ä½•è‡ªæˆ‘æˆé•¿çš„ï¼Œåˆé‡åˆ°äº†å“ªäº›ç“¶é¢ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0838d1d70de34b66bd5d604c05cd6092~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=subt5pHAdKdhqR58LBOSQnmBDAY%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-1">é¢è¯•å®˜çš„ç¬¬ä¸€è¯¾ï¼šå‡†å¤‡ã€æ°›å›´ä¸åé¦ˆ</h3>
<p>æˆä¸ºåˆæ ¼é¢è¯•å®˜çš„åŸºç¡€ï¼Œè¿œä¸æ­¢â€œä¼šå†™ä»£ç â€ã€‚</p>
<ul>
<li><strong>å‡†å¤‡å……åˆ†</strong>ï¼šæå‰é˜…è¯»ç®€å†ï¼Œè®¾è®¡æœ‰é’ˆå¯¹æ€§çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯ä¸´æ—¶èµ·æ„é—®â€œä½ ç”¨è¿‡ Redis å—ï¼Ÿâ€</li>
<li><strong>è¥é€ å®‰å…¨æ°›å›´</strong>ï¼šè®©å€™é€‰äººæ”¾æ¾ä¸‹æ¥ï¼Œæ‰èƒ½çœ‹åˆ°çœŸå®çš„æ°´å¹³ã€‚ç´§å¼ ä¹‹ä¸‹ï¼Œå†ä¼˜ç§€çš„äººä¹Ÿå¯èƒ½è¯­æ— ä¼¦æ¬¡ã€‚</li>
<li><strong>åŠæ—¶åé¦ˆ</strong>ï¼šé¢è¯•ç»“æŸä¸æ˜¯ç»ˆç‚¹ã€‚å¿«é€Ÿè®°å½•å…³é”®è§‚å¯Ÿç‚¹ï¼Œä¸å›¢é˜Ÿå…±äº«è¯„ä¼°ï¼Œé¿å…ä¸»è§‚åå·®ç´¯ç§¯ã€‚</li>
</ul>
<p>è¿™äº›çœ‹ä¼¼åŸºç¡€çš„è¦æ±‚ï¼Œæ°æ°æ˜¯åŒºåˆ†â€œèµ°è¿‡åœºâ€å’Œâ€œçœŸè¯†äººâ€çš„åˆ†æ°´å²­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b309f381031b40508c5cf2836d4931c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=Gkt4w591vunnqeWXdvxkQVeAKsA%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">å½“å€™é€‰äººè‡ªç§°â€œæ¶æ„å¸ˆâ€ï¼ŒæœŸå¾…å€¼å°±å˜äº†</h3>
<p>æœ‰ä¸€æ¬¡ï¼Œä¸€ä½å€™é€‰äººç®€å†ä¸Šå†™ç€â€œä¸»å¯¼è¿‡åƒä¸‡çº§ç”¨æˆ·ç³»ç»Ÿçš„æ¶æ„è®¾è®¡â€ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘å¯¹ä»–çš„æ•´ä½“è¦æ±‚è‡ªç„¶æé«˜äº†â€”â€”ä¸ä»…è¦çœ‹æŠ€æœ¯æ·±åº¦ï¼Œè¿˜è¦çœ‹ç³»ç»Ÿæ€§æ€ç»´ã€æƒè¡¡èƒ½åŠ›ã€ç”šè‡³å¯¹ä¸šåŠ¡çš„ç†è§£ã€‚</p>
<p>å¦‚æœå®é™…è¡¨ç°ä¸æ ‡ç­¾ä¸¥é‡ä¸ç¬¦ï¼Œè½å·®æ„Ÿä¼šè®©æ•´ä¸ªé¢è¯•ä½“éªŒå˜å¾—å°´å°¬ã€‚è¿™ç§â€œé«˜å¼€ä½èµ°â€çš„æƒ…å†µï¼Œå¾€å¾€æ¯”å¹³åº¸æ›´ä»¤äººå¤±æœ›ã€‚å› ä¸ºè¿™ä¸åªæ˜¯èƒ½åŠ›é—®é¢˜ï¼Œæ›´æ˜¯è¯šä¿¡ä¸è‡ªæˆ‘è®¤çŸ¥çš„é—®é¢˜ã€‚</p>
<p>åè¿‡æ¥ï¼Œå½“é‡åˆ°çœŸæ­£æ€ç»´ç¼œå¯†ã€è¡¨è¾¾æ¸…æ™°ã€è‡ªä¿¡è€Œä¸è‡ªè´Ÿçš„å€™é€‰äººæ—¶ï¼Œé‚£ç§äº¤æµæœ¬èº«å°±æ˜¯ä¸€ç§æ»‹å…»ã€‚å³ä½¿æœ€ç»ˆä»–é€‰æ‹©äº†åˆ«å®¶å…¬å¸ï¼Œæˆ‘ä¹Ÿå¸¸ä¼šæƒ³ï¼šâ€œå’Œè¿™æ ·çš„äººèŠä¸€å°æ—¶ï¼Œèƒœè¿‡è‡ªå·±é—·å¤´å†™ä¸‰å¤©ä»£ç ã€‚â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f68d5d24c87e4923b0c50c36dedbab9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=4EQODW16XkdpU%2FiftU0xrId49j0%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-3">åŒå‘é€‰æ‹©ï¼Œä»æ¥ä¸æ˜¯å®¢å¥—è¯</h3>
<p>è¶Šæ¥è¶Šå¤šçš„ä¼˜ç§€äººæ‰åœ¨é¢è¯•ä¸­å±•ç°å‡ºå¼ºçƒˆçš„ä¸»ä½“æ„è¯†ã€‚ä»–ä»¬ä¸ä»…å›ç­”é—®é¢˜ï¼Œä¹Ÿåœ¨è¯„ä¼°æˆ‘ä»¬ï¼šå›¢é˜Ÿæ˜¯å¦ä¸“ä¸šï¼ŸæŠ€æœ¯æ°›å›´æ˜¯å¦å¼€æ”¾ï¼ŸLeader æ˜¯å¦å€¼å¾—è¿½éšï¼Ÿ</p>
<p>æ›¾æœ‰ä¸€ä½å€™é€‰äººåæ¥å‘Šè¯‰æˆ‘ï¼šâ€œä¹‹æ‰€ä»¥é€‰æ‹©ä½ ä»¬ï¼Œæ˜¯å› ä¸ºå’Œä½ é‚£è½®é¢è¯•èŠå¾—å¾ˆé€ï¼Œæ„Ÿè§‰ä½ ä»¬çœŸçš„åœ¨è®¤çœŸåšäº‹ã€‚â€ è¿™å¥è¯è®©æˆ‘æ¬£æ…°å¾ˆä¹…â€”â€”åŸæ¥æˆ‘çš„æé—®æ–¹å¼ã€å€¾å¬æ€åº¦ï¼Œç”šè‡³å¯¹æŠ€æœ¯ç»†èŠ‚çš„è¿½é—®ï¼Œéƒ½åœ¨æ— å½¢ä¸­ä¼ é€’ç€å›¢é˜Ÿçš„â€œå‘³é“â€ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿæœ‰é—æ†¾ã€‚æœ‰äº›é€šè¿‡å…¨éƒ¨é¢è¯•çš„å€™é€‰äººï¼Œæœ€ç»ˆå»äº†è–ªèµ„æ›´é«˜ã€å¹³å°æ›´å¤§çš„å…¬å¸ã€‚æˆ‘ä»¬å°Šé‡ä»–ä»¬çš„é€‰æ‹©ï¼Œä¹Ÿæ‰¿è®¤ï¼šäººæ‰æµåŠ¨æœ¬å°±æ˜¯å¸‚åœºçš„å¸¸æ€ã€‚ä½†æ¯ä¸€æ¬¡é«˜è´¨é‡çš„å¯¹è¯ï¼Œéƒ½æ˜¯ä¸€æ¬¡è‡ªæˆ‘æ ¡å‡†çš„æœºä¼šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e47baca48b7e4e1692738c896958ef18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=eMCpKn60SNtp2H%2Bjd1y44m3rHEw%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-4">è­¦æƒ•é‚£äº›â€œæ»‘å¤´â€çš„å¥—è·¯</h3>
<p>ä¸æ˜¯æ‰€æœ‰å€™é€‰äººéƒ½åœ¨çœŸè¯šäº¤æµã€‚æœ‰äº›äººæ“…é•¿æŠŠå…·ä½“é—®é¢˜å¼•å‘æŠ½è±¡æ–¹æ³•è®ºï¼šâ€œè¿™ä¸ªé—®é¢˜å…³é”®åœ¨äºé¡¶å±‚è®¾è®¡â€â€œæˆ‘ä»¬è¦å»ºç«‹é•¿æ•ˆæœºåˆ¶â€â€¦â€¦å¬èµ·æ¥é«˜å±‹å»ºç“´ï¼Œå®åˆ™å›é¿æŠ€æœ¯ç»†èŠ‚ã€‚</p>
<p>è¿™ç±»â€œèŒåœºè€æ²¹æ¡â€ï¼Œå¾€å¾€ç¼ºä¹çœŸæ­£çš„å·¥ç¨‹æ‰‹æ„Ÿã€‚ä»–ä»¬ç”¨è¯æœ¯æ©ç›–èƒ½åŠ›çš„ç©ºæ´ï¼Œç”¨æµç¨‹ä»£æ›¿æ€è€ƒã€‚ä½œä¸ºé¢è¯•å®˜ï¼Œå¿…é¡»ç»ƒå°±ä¸€åŒâ€œå»å™ªâ€çš„è€³æœµâ€”â€”åœ¨åä¸½è¾è—»ä¸­æ•æ‰çœŸå®ä¿¡å·ã€‚</p>
<hr/>
<h3 data-id="heading-5">å·¥å…·ç®±é‡Œçš„å®ç”¨æ–¹æ³•</h3>
<p>è¿™äº›å¹´ï¼Œæˆ‘é€æ¸ç§¯ç´¯äº†ä¸€äº›æœ‰æ•ˆçš„è€ƒå¯Ÿæ‰‹æ®µï¼š</p>
<ul>
<li><strong>æƒ…æ™¯æ¨¡æ‹Ÿ</strong>ï¼šæ¯”å¦‚â€œç°åœ¨çŸ­é“¾ç³»ç»Ÿå´©æºƒäº†ï¼Œå®¢æˆ·æŠ•è¯‰ä¸æ–­ï¼Œä½ å¦‚ä½•åœ¨10åˆ†é’Ÿå†…å®šä½å¹¶ç¼“è§£ï¼Ÿâ€</li>
<li><strong>ä»£ç è¯„å®¡è§†è§’</strong>ï¼šä¸åªçœ‹å¯¹é”™ï¼Œæ›´çœ‹å€™é€‰äººæ˜¯å¦å…³æ³¨å¯ç»´æŠ¤æ€§ã€è¾¹ç•Œæ¡ä»¶ã€æ—¥å¿—è®¾è®¡ç­‰å·¥ç¨‹ç»†èŠ‚ã€‚</li>
<li><strong>ç»„åˆæ‹³è¿½é—®</strong>ï¼šä¸€ä¸ªé—®é¢˜è¿ç¯æ·±æŒ–ï¼Œç›´åˆ°è§¦åŠåº•å±‚é€»è¾‘ã€‚æ¯”å¦‚ä»â€œä½ æ€ä¹ˆä¼˜åŒ–æ¥å£æ€§èƒ½ï¼Ÿâ€ä¸€è·¯é—®åˆ°ç¼“å­˜ç­–ç•¥ã€æ•°æ®åº“ç´¢å¼•ã€ç½‘ç»œä¼ è¾“å¼€é”€ã€‚</li>
</ul>
<p>å¯¹äºèµ„æ·±å€™é€‰äººï¼Œæˆ‘ä»¬æ›´çœ‹é‡ç³»ç»Ÿæ€§ã€å…¨å±€è§‚ï¼Œè€ŒéæŸä¸ª API çš„ç”¨æ³•ã€‚</p>
<hr/>
<h3 data-id="heading-6">å¸¸è§è¯¯åŒºï¼šåˆ«è¢«æ ‡ç­¾ç»‘æ¶</h3>
<ul>
<li>è¿‡åº¦è¿·ä¿¡â€œå¤§å‚èƒŒæ™¯â€æˆ–â€œåæ ¡å­¦å†â€ï¼›</li>
<li>è¢«ç²¾å¿ƒåŒ…è£…çš„é¡¹ç›®ç»å†è¿·æƒ‘ï¼›</li>
<li>æ— æ„è¯†åœ°å› å¹´é¾„ã€æ€§åˆ«ã€å­¦å†äº§ç”Ÿåè§ã€‚</li>
</ul>
<p>çœŸæ­£çš„è¯„ä¼°ï¼Œåº”å›å½’åˆ°â€œè¿™ä¸ªäººèƒ½ä¸èƒ½è§£å†³é—®é¢˜ã€æ„¿ä¸æ„¿æ„åä½œã€æœ‰æ²¡æœ‰æŒç»­æˆé•¿çš„æ„æ„¿â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2d637a4aacd43c4923c7e56b228e937~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=kkBWCiyGb%2B5EGt78HeN7F%2Fa2dic%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-7">å…­ä¸ªæ ¸å¿ƒç»´åº¦ï¼Œç¼ºä¸€ä¸å¯</h3>
<ol>
<li><strong>æŠ€æœ¯èƒ½åŠ›</strong>ï¼šä¸è€ƒæ­»è®°ç¡¬èƒŒï¼Œè€Œçœ‹è§£é¢˜æ€è·¯ä¸ä¼˜åŒ–è¿‡ç¨‹ã€‚é¼“åŠ±â€œè¾¹å†™è¾¹è®²â€ï¼Œæš´éœ²æ€ç»´è·¯å¾„ã€‚</li>
<li><strong>é—®é¢˜è§£å†³</strong>ï¼šç”¨å¼€æ”¾æ€§é—®é¢˜è§‚å¯Ÿå…¶æ‹†è§£ã€å‡è®¾ã€éªŒè¯çš„èƒ½åŠ›ã€‚STAR åŸåˆ™å¾ˆæœ‰æ•ˆã€‚</li>
<li><strong>å­¦ä¹ æ½œåŠ›</strong>ï¼šé—®â€œæœ€è¿‘å­¦äº†ä»€ä¹ˆæ–°æŠ€æœ¯ï¼Ÿâ€çœ‹ä»–æ˜¯å¦ä¸»åŠ¨æ¢ç´¢ã€æ€»ç»“ã€åˆ†äº«ã€‚</li>
<li><strong>æ²Ÿé€šåä½œ</strong>ï¼šèƒ½å¦æ¸…æ™°è¡¨è¾¾ï¼Ÿæ˜¯å¦ä¸»åŠ¨ç¡®è®¤éœ€æ±‚ï¼Ÿé¢å¯¹åˆ†æ­§å¦‚ä½•å¤„ç†ï¼Ÿ</li>
<li><strong>è´£ä»»å¿ƒ</strong>ï¼šåœ¨é¡¹ç›®ä¸­æ˜¯â€œæˆ‘æ¨åŠ¨äº†â€è¿˜æ˜¯â€œæˆ‘ä»¬åšäº†â€ï¼Ÿå¤±è´¥æ—¶æ˜¯å¦ç”©é”…ï¼Ÿ</li>
<li><strong>æ–‡åŒ–åŒ¹é…</strong>ï¼šä»–ç†æƒ³ä¸­çš„å›¢é˜Ÿæ˜¯ä»€ä¹ˆæ ·ï¼Ÿæ˜¯å¦è®¤åŒæˆ‘ä»¬çš„èŠ‚å¥ä¸ä»·å€¼è§‚ï¼Ÿ</li>
</ol>
<p>æ‰€è°“â€œå¯¹å‘³â€ï¼Œå…¶å®å°±æ˜¯è¿™äº›ç»´åº¦ç»¼åˆä½œç”¨ä¸‹çš„ç›´è§‰åˆ¤æ–­â€”â€”ä½†å®ƒå¿…é¡»å»ºç«‹åœ¨æ‰å®çš„è§‚å¯Ÿä¹‹ä¸Šï¼Œè€Œéç„å­¦ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/844a7c8c1ba74c3e946d41f73fe81575~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=ZBhdPCdYN7vwyGDC3DvdxWMKPLU%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-8">ä¸åŒå²—ä½ï¼Œä¸åŒè§†è§’</h3>
<p>ä½œä¸ºå›¢é˜Ÿè´Ÿè´£äººï¼Œæˆ‘å¸¸è¦é¢è¯•å‰ç«¯ã€æµ‹è¯•ã€äº§å“ç­‰éåç«¯è§’è‰²ã€‚è¿™æ—¶ï¼ŒæŠ€æœ¯ç»†èŠ‚åè€Œé€€å±…å…¶æ¬¡ï¼Œæ›´å…³æ³¨ï¼š</p>
<ul>
<li>é€»è¾‘æ˜¯å¦ä¸¥è°¨ï¼Ÿ</li>
<li>åˆ†ææ˜¯å¦é€å½»ï¼Ÿ</li>
<li>è¡¨è¾¾æ˜¯å¦æ¸…æ™°ï¼Ÿ</li>
<li>æ˜¯å¦å…·å¤‡ç»“æ„åŒ–æ€ç»´ã€æŠ½è±¡èƒ½åŠ›å’Œæ‰¹åˆ¤æ€§æ€è€ƒï¼Ÿ</li>
</ul>
<p>æ¯”å¦‚é—®å‰ç«¯ï¼šâ€œä½ å¦‚ä½•ä»æ”¶åˆ°ä¸€ä¸ªçº¿ä¸Š bug åˆ°æœ€ç»ˆé—­ç¯ï¼Ÿâ€ çœ‹çš„æ˜¯å…¨æµç¨‹æ„è¯†ï¼Œè€Œéåªä¼šè°ƒæ ·å¼ã€‚</p>
<hr/>
<h3 data-id="heading-9">é«˜é˜¶è¯†äººï¼šå‹åŠ›ã€æ²‰é»˜ä¸å¤±è´¥</h3>
<p>çœŸæ­£è€ƒéªŒä¸€ä¸ªäººçš„ï¼Œä¸æ˜¯é¡ºå¢ƒä¸­çš„è¡¨ç°ï¼Œè€Œæ˜¯é€†å¢ƒä¸­çš„ååº”ã€‚</p>
<ul>
<li><strong>å‹åŠ›æµ‹è¯•</strong>ï¼šæ•…æ„è´¨ç–‘æ–¹æ¡ˆï¼Œâ€œå¤ªå¤æ‚äº†ï¼Œæœ‰æ²¡æœ‰æ›´ç®€å•çš„ï¼Ÿâ€ è§‚å¯Ÿå…¶æ˜¯å¦æ…Œä¹±ã€é˜²å¾¡ï¼Œè¿˜æ˜¯å†·é™è°ƒæ•´ã€‚</li>
<li><strong>æ²‰é»˜å‹è¿«</strong>ï¼šåœ¨å…³é”®å›ç­”åä¿æŒå®‰é™ï¼Œçœ‹ä»–æ˜¯å¦ä¼šä¸»åŠ¨è¡¥å……ã€åæ€â€”â€”è¿™æ˜¯ ownership çš„ä½“ç°ã€‚</li>
<li><strong>å¤±è´¥å¤ç›˜</strong>ï¼šæ¯”èµ·æˆåŠŸæ¡ˆä¾‹ï¼Œæˆ‘æ›´çˆ±é—®ï¼šâ€œä½ åšè¿‡æœ€å¤±è´¥çš„æŠ€æœ¯å†³ç­–æ˜¯ä»€ä¹ˆï¼Ÿâ€<br/>
ä¼˜ç§€è€…ä¼šå¦ç„¶æ‰¿è®¤é”™è¯¯ï¼Œåˆ†ææ ¹å› ï¼Œå¹¶æ¨åŠ¨ç³»ç»Ÿæ€§æ”¹è¿›ï¼ˆå¦‚å¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰ã€‚</li>
</ul>
<p>è¿™äº›æ–¹æ³•ï¼Œé€‚ç”¨äºä¸­é«˜çº§å²—ä½ï¼Œèƒ½æœ‰æ•ˆåŒºåˆ†â€œæ‰§è¡Œè€…â€å’Œâ€œä¸»å¯¼è€…â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/853f4059e5c943439a0c6cc87a738cb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=Te7oyVNjioYBsPkqkztfKDs4yPU%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-10">é¢è¯•å®˜çš„ç“¶é¢ˆï¼šæˆ‘ä»¬ä¹Ÿåœ¨æŒ£æ‰</h3>
<p>åˆ«ä»¥ä¸ºé¢è¯•å®˜æ€»æ˜¯æ¸¸åˆƒæœ‰ä½™ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬åŒæ ·é¢ä¸´è¯¸å¤šå›°å¢ƒï¼š</p>
<ol>
<li><strong>è¯„ä¼°ç»´åº¦å•ä¸€</strong>ï¼šåªçœ‹ç¼–ç ï¼Œå¿½ç•¥åä½œã€æˆé•¿æ€§ï¼›</li>
<li><strong>ä¸»è§‚åè§</strong>ï¼šå‡­æ„Ÿè§‰æ‰“åˆ†ï¼Œç¼ºä¹ä¸€è‡´æ€§ï¼›</li>
<li><strong>çŸ¥è¯†æ»å</strong>ï¼šå¯¹æ–°å…´æŠ€æœ¯ä¸ç†Ÿï¼Œé—®é¢˜é™ˆæ—§ï¼›</li>
<li><strong>è§’è‰²å±€é™</strong>ï¼šåªå½“â€œå®ˆé—¨äººâ€ï¼Œå¿½è§†å€™é€‰äººä½“éªŒï¼›</li>
<li><strong>ç¼ºä¹æ–¹æ³•è®º</strong>ï¼šé¢è¯•éšæ„ï¼Œè¯„åˆ†æ¨¡ç³Šï¼›</li>
<li><strong>ç²¾åŠ›æ¯ç«­</strong>ï¼šæ¯å‘¨é¢10+äººï¼ŒåæœŸæ ‡å‡†æ¾åŠ¨ï¼›</li>
<li><strong>åŸ¹è®­ç¼ºå¤±</strong>ï¼šä¸ä¼šè¿½é—®ï¼Œå¬ä¸å‡ºçœŸå‡ï¼›</li>
<li><strong>é¢†åŸŸç›²åŒº</strong>ï¼šè·¨å²—é¢è¯•æ—¶åŠ›ä¸ä»å¿ƒï¼›</li>
<li><strong>æ€ç»´å›ºåŒ–</strong>ï¼šåªæ‰¾â€œåƒè‡ªå·±çš„äººâ€ï¼Œæ‰¼æ€å¤šæ ·æ€§ï¼›</li>
<li><strong>å†³ç­–ç–²åŠ³</strong>ï¼šå› æ€¥æ‹›è€Œâ€œå°†å°±â€ï¼ŒåŸ‹ä¸‹éšæ‚£ã€‚</li>
</ol>
<p>è¿™äº›é—®é¢˜ï¼Œæ¯ä¸€ä¸ªéƒ½å¯èƒ½è®©ä¸€æ¬¡æœ¬è¯¥ç²¾å‡†çš„è¯„ä¼°ï¼Œå˜æˆä¸€åœºè¯¯åˆ¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4eb8466bab2946b9bb581990c9f40a93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=GquzLvuKl3RCeZbej%2BdIPMGSZEI%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-11">å¦‚ä½•çªç ´ï¼Ÿä¸‰ä¸ªæ–¹å‘</h3>
<ol>
<li><strong>å»ºç«‹ç»“æ„åŒ–è¯„ä¼°æ¡†æ¶</strong><br/>
ä¸åŒèŒçº§ï¼Œæƒé‡ä¸åŒã€‚åˆçº§é‡åŸºç¡€ä¸å­¦ä¹ åŠ›ï¼Œé«˜çº§é‡ç³»ç»Ÿè®¾è®¡ä¸å½±å“åŠ›ã€‚ä¸å²—ä½èƒœä»»åŠ›æ¨¡å‹å¯¹é½ã€‚</li>
<li><strong>æ‹¥æŠ±è¡Œä¸ºé¢è¯•ä¸æƒ…å¢ƒæ¨¡æ‹Ÿ</strong><br/>
å°‘é—®â€œRedis æœ‰å‡ ç§æ•°æ®ç±»å‹â€ï¼Œå¤šé—®â€œè¯·è®²ä¸€ä¸ªä½ è§£å†³è¿‡çš„æœ€å¤æ‚æŠ€æœ¯éš¾é¢˜â€ã€‚ç”¨çœŸå®åœºæ™¯ä»£æ›¿çŸ¥è¯†é—®ç­”ã€‚</li>
<li><strong>æŒç»­å­¦ä¹ ï¼Œåå“ºå›¢é˜Ÿ</strong><br/>
å®šæœŸç ”ç©¶è¡Œä¸šè¶‹åŠ¿ï¼Œå‚ä¸æŠ€æœ¯åˆ†äº«ã€‚æŠŠé¢è¯•ä¸­å‘ç°çš„å…±æ€§é—®é¢˜ï¼ˆå¦‚å¤šæ•°äººä¸æ‡‚å¯è§‚æµ‹æ€§ï¼‰ï¼Œè½¬åŒ–ä¸ºå›¢é˜Ÿèƒ½åŠ›å»ºè®¾è®®é¢˜ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/176ce52ff1d64de7a89980ea39879836~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=2aGZrJN51yaNIgXjV22W631qTtU%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-12">æœ€åå‡ å¥å¿ƒé‡Œè¯</h3>
<ul>
<li><strong>å®å¯é”™è¿‡ï¼Œä¸è¦é”™æ‹›</strong>ã€‚ä¸€ä¸ªä¸åˆé€‚çš„äººï¼Œå¯¹å›¢é˜Ÿçš„ä¼¤å®³è¿œå¤§äºç©ºç¼ºã€‚</li>
<li><strong>å¼ºè€…å¸å¼•å¼ºè€…</strong>ã€‚ä½ æé—®çš„è´¨é‡ï¼Œä»£è¡¨å›¢é˜Ÿçš„ä¸“ä¸šæ°´å‡†ã€‚</li>
<li><strong>é¢è¯•æ˜¯é•œå­</strong>ã€‚ä½ åœ¨è¯„ä¼°åˆ«äººï¼Œåˆ«äººä¹Ÿåœ¨è¯„ä¼°ä½ ã€‚æ¯ä¸€æ¬¡å¯¹è¯ï¼Œéƒ½æ˜¯ç»„ç»‡å½¢è±¡çš„æŠ•å°„ã€‚</li>
</ul>
<p>æŠ€æœ¯é¢è¯•å®˜ï¼Œä¸è¯¥æ˜¯å†·å†°å†°çš„ç­›é€‰æœºå™¨ï¼Œè€Œåº”æ˜¯äººæ‰ä¸ç»„ç»‡ä¹‹é—´çš„æ¡¥æ¢ã€‚è¿™æ¡è·¯æ²¡æœ‰ç»ˆç‚¹ï¼Œåªæœ‰æŒç»­ç²¾è¿›ã€‚</p>
<p>æ¯•ç«Ÿï¼Œ<strong>è¯†äººï¼Œç»ˆç©¶æ˜¯ä¸€åœºå¯¹è‡ªæˆ‘çš„ä¿®è¡Œ</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ²¡å¼€æŒ‚ï¼è‹±ä¼Ÿè¾¾å¼€æºâ€œé€šç©åƒæ¬¾æ¸¸æˆâ€çš„AIæ¨¡å‹ï¼Œåªä¸ºç»™æœºå™¨äººé€ ä¸ªè„‘å­]]></title>    <link>https://juejin.cn/post/7586518130761367592</link>    <guid>https://juejin.cn/post/7586518130761367592</guid>    <pubDate>2025-12-22T15:01:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586518130761367592" data-draft-id="7586493936677699624" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ²¡å¼€æŒ‚ï¼è‹±ä¼Ÿè¾¾å¼€æºâ€œé€šç©åƒæ¬¾æ¸¸æˆâ€çš„AIæ¨¡å‹ï¼Œåªä¸ºç»™æœºå™¨äººé€ ä¸ªè„‘å­"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-22T15:01:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ²¡å¼€æŒ‚ï¼è‹±ä¼Ÿè¾¾å¼€æºâ€œé€šç©åƒæ¬¾æ¸¸æˆâ€çš„AIæ¨¡å‹ï¼Œåªä¸ºç»™æœºå™¨äººé€ ä¸ªè„‘å­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:01:50.000Z" title="Mon Dec 22 2025 15:01:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœè¯´ChatGPTè¯»å®Œäº†äººç±»äº’è”ç½‘æ‰€æœ‰çš„ä¹¦ï¼Œé‚£ä¹ˆè‹±ä¼Ÿè¾¾åˆšåˆšå¼€æºçš„NitroGenï¼Œå°±æ˜¯é‚£ä¸ªåœ¨ç½‘å§é‡Œæ³¡äº†4ä¸‡ä¸ªå°æ—¶ã€çœ‹éäº†æ‰€æœ‰å¤§ç¥æ“ä½œçš„â€œè¶…çº§ç©å®¶â€ã€‚</p>
<p>å°±åœ¨æœ€è¿‘ï¼Œè‹±ä¼Ÿè¾¾è”åˆæ–¯å¦ç¦ã€åŠ å·ç†å·¥æäº†ä¸ªå¤§åŠ¨ä½œï¼Œæ­£å¼å¼€æºäº†åä¸ºNitroGençš„è§†è§‰-åŠ¨ä½œåŸºç¡€æ¨¡å‹ã€‚è¿™ä¸€æ‰‹æ“ä½œç›´æ¥åœ¨AIåœˆå’Œæ¸¸æˆåœˆç‚¸äº†é”…ã€‚è¿™å¯ä¸æ˜¯é‚£ç§åªä¼šè·‘å›ºå®šè„šæœ¬çš„ç®€é™‹å¤–æŒ‚ï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸæ­£é•¿äº†çœ¼ç›ã€ä¼šæ€è€ƒã€èƒ½æ“ä½œæ‰‹æŸ„çš„é€šç”¨æ™ºèƒ½ä½“ã€‚</p>
<p>å¾ˆå¤šäººç¬¬ä¸€ååº”æ˜¯ï¼šè‹±ä¼Ÿè¾¾è¿™æ˜¯è¦æä¸ªå…¨èƒ½ä»£ç»ƒï¼Ÿå…¶å®ï¼Œè¿™ç›˜æ£‹ä¸‹å¾—æ¯”ä½ æƒ³è±¡çš„è¦å¤§å¾—å¤šã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fasdafsdgfg-1024x429.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/asdafsdgfg-1024x429.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a746944751e045deaec88fa5df53b3e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020509&amp;x-signature=FEfP4HDDEoLVCAFQINhM4VZWMZI%3D" alt="asdafsdgfg" loading="lazy"/></a></p>
<p><strong>å®ƒå‡­ä»€ä¹ˆèƒ½é€šå…³ä¸€åƒæ¬¾æ¸¸æˆï¼Ÿ</strong></p>
<p>ä»¥å¾€çš„æ¸¸æˆAIï¼Œå¤§å¤šæ˜¯â€œä¸“æ‰â€ã€‚ä¸‹å›´æ£‹çš„AlphaGoä¸ä¼šæ‰“æ˜Ÿé™…ï¼Œæ‰“Dotaçš„OpenAI Fiveä¸ä¼šç©è¶…çº§é©¬é‡Œå¥¥ã€‚ä½†NitroGenä¸»æ‰“å°±æ˜¯ä¸€ä¸ªâ€œå…¨èƒ½â€ã€‚</p>
<p>å®ƒçš„è®­ç»ƒæ•°æ®å ªç§°ææ€–ï¼š40,000å°æ—¶çš„å…¬å¼€æ¸¸æˆè§†é¢‘ï¼Œè¦†ç›–äº†è¶…è¿‡1,000æ¬¾æ¸¸æˆã€‚ä»ã€Šå·«å¸ˆ3ã€‹è¿™ç§å¤æ‚çš„3Aå¤§ä½œï¼Œåˆ°ã€Šèµ›åšæœ‹å…‹2077ã€‹çš„éœ“è™¹å¤œæ™¯ï¼Œå†åˆ°å„ç§æ¨ªç‰ˆè·³è·ƒå°æ¸¸æˆï¼Œå®ƒå…¨éƒ½è¦ã€‚</p>
<p>ä½†æœ€ç»çš„ä¸æ˜¯æ•°æ®é‡ï¼Œè€Œæ˜¯å®ƒâ€œå·å¸ˆâ€çš„æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“è®­ç»ƒAIæœ€è´µçš„æ˜¯äººå·¥æ ‡æ³¨æ•°æ®ã€‚è‹±ä¼Ÿè¾¾çš„ç ”ç©¶å›¢é˜Ÿè¿™æ¬¡æƒ³äº†ä¸ªå¤©æ‰èˆ¬çš„ç‚¹å­ï¼šä»–ä»¬ä¸“é—¨å»æ‰¾é‚£äº›å¸¦æœ‰â€œæ‰‹æŸ„æŒ‰é”®æ˜¾ç¤ºå±‚â€çš„æ¸¸æˆç›´æ’­å½•åƒã€‚é€šè¿‡ç®—æ³•ï¼ŒæŠŠè§†é¢‘é‡Œç©å®¶æŒ‰ä¸‹çš„é”®ä½è‡ªåŠ¨æå–å‡ºæ¥ï¼Œç›´æ¥å¯¹åº”åˆ°å½“æ—¶çš„æ¸¸æˆç”»é¢ä¸Šã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸ä»…çœäº†å·¨é¢çš„äººå·¥è´¹ï¼Œè¿˜ç›´æ¥è®©AIå­¦ä¼šäº†äººç±»é«˜æ‰‹çš„æ“ä½œé€»è¾‘ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fdafsdgdfg-1024x322.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/dafsdgdfg-1024x322.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3016330c2cba46e48c2320edf6bd3667~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020509&amp;x-signature=UiQ3rT9t8Vt8FlGEoRmbqWp3yNM%3D" alt="dafsdgdfg" loading="lazy"/></a></p>
<p><strong>è¿™ä¸åªæ˜¯ç©æ¸¸æˆï¼Œè¿™æ˜¯æœºå™¨äººçš„æ¨¡æ‹Ÿè€ƒ</strong></p>
<p>NitroGençš„å„ç§æŠ€æœ¯æŒ‡æ ‡ç¡®å®äº®çœ¼ã€‚æ¯”å¦‚å®ƒçš„æ¶æ„é­”æ”¹è‡ªè‹±ä¼Ÿè¾¾çš„æœºå™¨äººæ¨¡å‹GR00Tï¼Œå®ƒæ˜¯çº¯è§†è§‰é©±åŠ¨çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåƒäººä¸€æ ·ç›¯ç€å±å¹•çœ‹åƒç´ ï¼Œç„¶åè¾“å‡ºæ‰‹æŸ„æŒ‡ä»¤ï¼Œè€Œä¸æ˜¯å»è¯»å–æ¸¸æˆåå°å†…å­˜æ•°æ®ä½œå¼Šã€‚</p>
<p>åœ¨æµ‹è¯•ä¸­ï¼Œå³ä¾¿æŠŠNitroGenæ‰”åˆ°ä¸€ä¸ªå®ƒä»æœªè§è¿‡çš„å…¨æ–°æ¸¸æˆé‡Œï¼Œç¨å¾®ç»™ç‚¹æ•°æ®å¾®è°ƒä¸€ä¸‹ï¼Œå®ƒçš„ä¸Šæ‰‹é€Ÿåº¦æ¯”ä»é›¶è®­ç»ƒçš„æ¨¡å‹å¿«å¾—å¤šï¼Œä»»åŠ¡æˆåŠŸç‡æœ€é«˜èƒ½æå‡52%ã€‚è¿™æ„å‘³ç€å®ƒå·²ç»æŒæ¡äº†ä¸€å¥—é€šç”¨çš„â€œæ¸¸æˆè¯­æ³•â€ã€‚</p>
<p>ä½†å¦‚æœä½ ä»¥ä¸ºé»„ä»å‹‹èŠ±å¤§é’±æè¿™ä¸ªåªæ˜¯ä¸ºäº†åœ¨æ¸¸æˆé‡Œè™èœï¼Œé‚£å°±æ ¼å±€å°äº†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Ffsdgfdgdfg-1024x377.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/fsdgfdgdfg-1024x377.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10f0feb7064a4acaa14ae0869d81503f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020509&amp;x-signature=4brbTowW%2FXwkoF7%2BXu9Ibd6q8WI%3D" alt="fsdgfdgdfg" loading="lazy"/></a></p>
<p>è‹±ä¼Ÿè¾¾æœºå™¨äººæ€»ç›‘Jim Fanç›´æ¥ç‚¹ç ´äº†å¤©æœºï¼šç”µå­æ¸¸æˆæ˜¯è®­ç»ƒâ€œå…·èº«æ™ºèƒ½â€æœ€å®Œç¾çš„æ¨¡æ‹Ÿå®‡å®™ã€‚</p>
<p>ç°å®ä¸–ç•Œå¤ªå¤æ‚ã€å®¹é”™ç‡å¤ªä½ï¼Œä½ ä¸èƒ½è®©ä¸€ä¸ªåˆšå‡ºå‚çš„æœºå™¨äººå»å¨æˆ¿ç»ƒåˆ‡èœï¼Œåˆ‡åˆ°æ‰‹æˆ–è€…çƒ§äº†å¨æˆ¿ä»£ä»·å¤ªå¤§ã€‚ä½†æ¸¸æˆä¸–ç•Œç‰©ç†è§„åˆ™è‡ªæ´½ã€åé¦ˆå³æ—¶ã€‚å¦‚æœä¸€ä¸ªAIèƒ½å­¦ä¼šåœ¨ã€Šèµ›åšæœ‹å…‹ã€‹é‡Œå¼€è½¦ã€åœ¨ã€Šå¤å¢“ä¸½å½±ã€‹é‡Œæ”€å²©ã€åœ¨ã€Šæˆ‘çš„ä¸–ç•Œã€‹é‡Œåˆæˆå·¥å…·ï¼Œé‚£ä¹ˆè¿™ç§å¯¹ç¯å¢ƒçš„æ„ŸçŸ¥åŠ›ã€å†³ç­–åŠ›ï¼Œæ˜¯å¯ä»¥è¿ç§»åˆ°ç°å®ä¸–ç•Œçš„æœºå™¨äººèº«ä¸Šçš„ã€‚</p>
<p>NitroGenå°±æ˜¯è‹±ä¼Ÿè¾¾ç»™æœªæ¥æœºå™¨äººå‡†å¤‡çš„â€œå¤§è„‘é¢„æ¼”â€ã€‚</p>
<p><strong>å¼€æºçš„æ„ä¹‰ï¼šå…·èº«æ™ºèƒ½çš„GPTæ—¶åˆ»ï¼Ÿ</strong></p>
<p>æœ€è®©å¼€å‘è€…å…´å¥‹çš„æ˜¯ï¼Œè‹±ä¼Ÿè¾¾è¿™æ¬¡éå¸¸æ•äº®ã€‚</p>
<p>é¡¹ç›®ä¸»é¡µã€è®ºæ–‡ã€ä»£ç ä»“åº“ã€ç”šè‡³è¿é¢„è®­ç»ƒçš„æ¨¡å‹æƒé‡å’Œé‚£4ä¸‡å°æ—¶å¤„ç†è¿‡çš„æ•°æ®é›†ï¼Œå…¨éƒ¨åœ¨Hugging Faceä¸Šå¼€æºäº†ã€‚è¿™æ„å‘³ç€ï¼Œå…¨çƒçš„ç ”ç©¶è€…ä¸éœ€è¦å†å»é‡å¤é€ è½®å­ï¼Œç›´æ¥å¯ä»¥åœ¨NitroGençš„åŸºç¡€ä¸Šï¼Œå»è®­ç»ƒé’ˆå¯¹ç‰¹å®šæ¸¸æˆçš„è¶…å¼ºAIï¼Œæˆ–è€…æ˜¯éªŒè¯æ–°çš„æœºå™¨äººç®—æ³•ã€‚</p>
<p>æˆ‘ä»¬æ­£åœ¨è§è¯ä¸€ä¸ªæœ‰è¶£çš„è½¬æŠ˜ç‚¹ï¼šä»¥å‰æˆ‘ä»¬æ•™AIç©æ¸¸æˆæ˜¯ä¸ºäº†å¨±ä¹ï¼Œç°åœ¨AIç©æ¸¸æˆï¼Œæ˜¯ä¸ºäº†å­¦ä¼šå¦‚ä½•åœ¨è¿™ä¸ªç‰©ç†ä¸–ç•Œä¸­ç”Ÿå­˜å’Œå·¥ä½œã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Frghtyhyth-1024x446.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/rghtyhyth-1024x446.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7f0729babac4705ae882b12ea197925~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020509&amp;x-signature=CmONyIjEwircIPq38Ojl1LXNd7M%3D" alt="rghtyhyth" loading="lazy"/></a></p>
<p>å¯¹äºNitroGenæ¥è¯´ï¼Œé€šå…³ä¸€åƒæ¬¾æ¸¸æˆåªæ˜¯çƒ­èº«ï¼Œå®ƒçš„æ˜Ÿè¾°å¤§æµ·ï¼Œæ˜¯èµ°å‡ºå±å¹•ï¼Œèµ°è¿›ç°å®ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ±‚1~nçš„ç´¯åŠ å’Œ]]></title>    <link>https://juejin.cn/post/7586479864272224262</link>    <guid>https://juejin.cn/post/7586479864272224262</guid>    <pubDate>2025-12-22T13:04:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864272224262" data-draft-id="7586479864272191494" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ±‚1~nçš„ç´¯åŠ å’Œ"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2025-12-22T13:04:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ozyzo"/> <meta itemprop="url" content="https://juejin.cn/user/458965109710202"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ±‚1~nçš„ç´¯åŠ å’Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/458965109710202/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ozyzo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:04:39.000Z" title="Mon Dec 22 2025 13:04:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»£ç å¦‚ä¸‹:</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-comment">// è®¡ç®—1-nçš„å’Œ</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">sum</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> {
    <span class="hljs-type">int</span> result = <span class="hljs-number">0</span>;
    <span class="hljs-comment">// å¾ªç¯ç´¯åŠ 1åˆ°n</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
        result += i;
    }
    <span class="hljs-comment">// è¾“å‡ºç»“æœï¼ˆä¿®æ­£åŸprintfçš„é”™è¯¯æ ¼å¼ï¼‰</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"1åˆ°%dçš„å’Œæ˜¯ï¼š%d\n"</span>, n, result);
}

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-type">int</span> n;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¯·è¾“å…¥nçš„å€¼ï¼š"</span>);
    <span class="hljs-comment">// è¯»å–ç”¨æˆ·è¾“å…¥çš„n</span>
    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);
    <span class="hljs-comment">// è°ƒç”¨sumå‡½æ•°è®¡ç®—å¹¶è¾“å‡º</span>
    sum(n);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h2 data-id="heading-1">è¿è¡Œç»“æœå¦‚ä¸‹:</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c37c9f0096542d2a6a487e39235b1b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3p5em8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013479&amp;x-signature=UXBRuJ5hkWUrLk5muq2fSSIyYLw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠ | ç¬¬ 64 æœŸï¼ˆ2025å¹´12.1-12.21ï¼‰]]></title>    <link>https://juejin.cn/post/7586479864272273414</link>    <guid>https://juejin.cn/post/7586479864272273414</guid>    <pubDate>2025-12-22T13:10:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864272273414" data-draft-id="7586540799250251830" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠ | ç¬¬ 64 æœŸï¼ˆ2025å¹´12.1-12.21ï¼‰"/> <meta itemprop="keywords" content="åç«¯,.NET"/> <meta itemprop="datePublished" content="2025-12-22T13:10:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠ | ç¬¬ 64 æœŸï¼ˆ2025å¹´12.1-12.21ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:10:25.000Z" title="Mon Dec 22 2025 13:10:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c18034479dd44be9df41606958a5cb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=tbm%2Br6zqJBf9Ps8QxXvc3OippyE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠï¼Œä½ çš„æ¯å‘¨æŠ€æœ¯æŒ‡å—é’ˆï¼è®°å½•ã€è¿½è¸ªC#/.NET/.NET Coreé¢†åŸŸã€ç”Ÿæ€çš„æ¯å‘¨æœ€æ–°ã€æœ€å®ç”¨ã€æœ€æœ‰ä»·å€¼çš„æŠ€æœ¯æ–‡ç« ã€ç¤¾åŒºåŠ¨æ€ã€ä¼˜è´¨é¡¹ç›®å’Œå­¦ä¹ èµ„æºç­‰ã€‚è®©ä½ æ—¶åˆ»ç«™åœ¨æŠ€æœ¯å‰æ²¿ï¼ŒåŠ©åŠ›æŠ€æœ¯æˆé•¿ä¸è§†é‡æ‹“å®½ã€‚</p>
<blockquote>
<p>æ¬¢è¿æŠ•ç¨¿ã€æ¨èæˆ–è‡ªèä¼˜è´¨æ–‡ç« ã€é¡¹ç›®ã€å­¦ä¹ èµ„æºç­‰ã€‚</p>
</blockquote>
<ul>
<li><strong>ğŸ†æŠ€æœ¯å‰æ²¿å‘¨åˆŠGiteeå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fysgdaydayup%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetWeekly.md" target="_blank" title="https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md" ref="nofollow noopener noreferrer">gitee.com/ysgdaydayupâ€¦</a></li>
<li><strong>ğŸ“°æŠ€æœ¯å‰æ²¿å‘¨åˆŠGitHubå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetWeekly.md" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
</ul>
<h2 data-id="heading-1">ç²¾é€‰ 8 ä¸ª .NET å¼€å‘å®ç”¨çš„ç±»åº“ï¼Œæ•ˆç‡æå‡åˆ©å™¨ï¼</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> ç²¾é€‰ 8 ä¸ª .NET å¼€å‘å®ç”¨çš„ç±»åº“ï¼Œ.NET å¼€å‘æ•ˆç‡æå‡åˆ©å™¨ï¼</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FhzHCwM3BaUyZO9HCqODIEQ" target="_blank" title="https://mp.weixin.qq.com/s/hzHCwM3BaUyZO9HCqODIEQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/hzHCwM3Baâ€¦</a></li>
</ul>
<h2 data-id="heading-2">Visual Studio 2026 æ­£å¼ç‰ˆä¸‹è½½ä¸å®‰è£…è¯¦ç»†æ•™ç¨‹ï¼ˆé™„å¸¦äº§å“å¯†é’¥ï¼‰ï¼</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> æœ€è¿‘å‘ç°å¾ˆå¤šå°ä¼™ä¼´åé¦ˆ Visual Studio 2026 å®‰è£…å ç”¨ç£ç›˜ç©ºé—´è¾ƒå¤§ï¼Œä»Šå¤©å¤§å§šå‡ºä¸€æœŸ Visual Studio 2026 æ­£å¼ç‰ˆä¸‹è½½ä¸å®‰è£…è¯¦ç»†æ•™ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»…é€‰æ‹©æ‰€éœ€çš„å·¥ä½œè´Ÿè·ã€ç»„ä»¶ã€è¯­è¨€åŒ…æ¥èŠ‚çœå®‰è£…æ—¶é—´å’Œç£ç›˜ç©ºé—´ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°æœ‰éœ€è¦çš„å°ä¼™ä¼´ï¼</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FwbZiTPjhKlFOeU3MgIbq0A" target="_blank" title="https://mp.weixin.qq.com/s/wbZiTPjhKlFOeU3MgIbq0A" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/wbZiTPjhKâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5bec5194a6847dd8a6612728d7534da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=beuGr7t0BNoShQG5abTy1Zpl07o%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">ä¸€ä¸ª .NET å¼€æºå…è´¹ã€åŠŸèƒ½å¼ºå¤§çš„ UI è‡ªåŠ¨åŒ–åº“</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> FlaUI æ˜¯ä¸€ä¸ª .NET å¼€æºå…è´¹ï¼ˆMIT licenseï¼‰ã€åŠŸèƒ½å¼ºå¤§ çš„ UI è‡ªåŠ¨åŒ–åº“ï¼Œä¸“ä¸º Windows æ¡Œé¢åº”ç”¨ç¨‹åºï¼ˆå¦‚ Win32ã€WinFormsã€WPFã€Store Apps ç­‰åº”ç”¨ï¼‰çš„è‡ªåŠ¨åŒ–æµ‹è¯•è€Œè®¾è®¡ã€‚è¯¥é¡¹ç›®åŸºäº Microsoft çš„åŸç”Ÿ UI Automation åº“æ„å»ºï¼Œå¹¶ä½œä¸ºè¿™äº›åº“çš„å°è£…å™¨ï¼Œæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œçµæ´»çš„ APIï¼Œä»¥ä¾¿å¼€å‘è€…èƒ½å¤Ÿé«˜æ•ˆåœ°ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPE4S-fUyeG7U8Z78NYu6Rw" target="_blank" title="https://mp.weixin.qq.com/s/PE4S-fUyeG7U8Z78NYu6Rw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/PE4S-fUyeâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32a1862e16614ae6af955676f6a1b8f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=9nHePQq6%2BbqtwefHAnqEEGD2n%2BI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">Newtonsoft.Json ä¸ System.Text.Json å¤šæ€ååºåˆ—åŒ–çš„å®‰å…¨æ€§å·®å¼‚è§£æ</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> å¤šæ€ååºåˆ—åŒ–æ˜¯å¤„ç†ç»§æ‰¿ç»“æ„å¯¹è±¡åºåˆ—åŒ–çš„å¸¸è§éœ€æ±‚ï¼Œä½†ä¸åŒ JSON åºåˆ—åŒ–åº“çš„å®ç°æœºåˆ¶å·®å¼‚ä¼šå¸¦æ¥æ˜¾è‘—çš„å®‰å…¨é£é™©ã€‚å¾®è½¯ CA2326 è§„åˆ™æ˜ç¡®è­¦ç¤ºï¼šé¿å…ä½¿ç”¨éå®‰å…¨çš„ JsonSerializerSettings é…ç½®ï¼ˆå¦‚ Newtonsoft.Json çš„ TypeNameHandling é None å€¼ï¼‰ï¼Œå¦åˆ™å¯èƒ½å¼•å‘ç±»å‹æ³¨å…¥æ”»å‡»ã€‚æœ¬æ–‡å°†å¯¹æ¯” Newtonsoft.Json ä¸ System.Text.Json åœ¨å¤šæ€ååºåˆ—åŒ–ä¸­çš„å®ç°å·®å¼‚ï¼Œé‡ç‚¹åˆ†æå®‰å…¨æ€§é—®é¢˜ï¼Œå¹¶é€šè¿‡ä»£ç å®ä¾‹éªŒè¯ä¸¤è€…çš„å®‰å…¨è¡¨ç°ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2FMeteorSeed%2Fp%2F19366736" target="_blank" title="https://www.cnblogs.com/MeteorSeed/p/19366736" ref="nofollow noopener noreferrer">www.cnblogs.com/MeteorSeed/â€¦</a></li>
</ul>
<h2 data-id="heading-5">.NET å’Œ .NET Framework 2025 å¹´ 12 æœˆæœåŠ¡å‘å¸ƒæ›´æ–°</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> æ¬¢è¿æ¥åˆ°æˆ‘ä»¬ 2025 å¹´ 12 æœˆçš„è”åˆ.NET æœåŠ¡æ›´æ–°ã€‚è®©æˆ‘ä»¬è¿›å…¥.NET å’Œ.NET Framework çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè¿™é‡Œç®€è¦ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬æœåŠ¡ç‰ˆæœ¬ä¸­çš„æ–°å†…å®¹ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevblogs.microsoft.com%2Fdotnet%2Fdotnet-and-dotnet-framework-december-2025-servicing-updates%2F" target="_blank" title="https://devblogs.microsoft.com/dotnet/dotnet-and-dotnet-framework-december-2025-servicing-updates/" ref="nofollow noopener noreferrer">devblogs.microsoft.com/dotnet/dotnâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa88f8829d994a3daa2219d1eabfe653~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=DEiUCskPWwRJTqa6WL6FbutDs08%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">å¦‚ä½•æ„å»ºå¸¦æœ‰.NET MAUI çš„ iOS å°éƒ¨ä»¶</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> æˆ‘æ˜¯ä¸€å.NET å¼€å‘è€…ï¼Œä¸»è¦ä¸“æ³¨äº.NET MAUI åˆ° ASP.NET åç«¯æœåŠ¡ã€‚å› ä¸ºæˆ‘æœ€è¿‘å¤§é‡æ¥è§¦å°éƒ¨ä»¶ï¼Œé‡åˆ°äº†è®¸å¤šéšœç¢å’Œæå…¶æœ‰é™çš„æ–‡æ¡£ï¼Œæˆ‘å†³å®šå†™è¿™ç¯‡æ–‡ç« ï¼Œå±•ç¤ºç”¨ .NET MAUI æ„å»ºå®Œæ•´å°éƒ¨ä»¶æ˜¯å®Œå…¨å¯èƒ½çš„ã€‚è€Œä¸”è¿˜èƒ½ä»¥ç±»ä¼¼åŸç”Ÿå¼€å‘ç¯å¢ƒçš„ä¸“ä¸šæ–¹å¼å®Œæˆï¼Œä¸ç”¨æ‹…å¿ƒæ¯æ¬¡æ–°æ„å»ºæˆ–æ›´æ–°éƒ½ä¼šè®©ä¸€åˆ‡å´©æºƒã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevblogs.microsoft.com%2Fdotnet%2Fhow-to-build-ios-widgets-with-dotnet-maui" target="_blank" title="https://devblogs.microsoft.com/dotnet/how-to-build-ios-widgets-with-dotnet-maui" ref="nofollow noopener noreferrer">devblogs.microsoft.com/dotnet/how-â€¦</a></li>
</ul>
<h2 data-id="heading-7">.NET 10 ç½‘ç»œæ”¹è¿›</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> å’Œæ¯æ¬¡ç‰ˆæœ¬ä¸€æ ·ï¼Œæˆ‘ä»¬ä¼šå‘å¸ƒä¸€ç¯‡å…³äº.NET ç½‘ç»œé¢†åŸŸæ–°é¢–æœ‰è¶£å˜åŒ–å’Œæ–°å¢å†…å®¹çš„åšå®¢æ–‡ç« ã€‚è¿™æ¬¡ï¼Œæˆ‘ä»¬å°†è®¨è®º HTTP æ”¹è¿›ã€æ–°çš„ Web å¥—æ¥å­— APIã€ å®‰å…¨å˜æ›´ä»¥åŠè®¸å¤šç½‘ç»œåŸè¯­çš„ç‹¬ç‰¹æ–°å¢å†…å®¹ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevblogs.microsoft.com%2Fdotnet%2Fdotnet-10-networking-improvements%2F" target="_blank" title="https://devblogs.microsoft.com/dotnet/dotnet-10-networking-improvements/" ref="nofollow noopener noreferrer">devblogs.microsoft.com/dotnet/dotnâ€¦</a></li>
</ul>
<h2 data-id="heading-8">åˆ†äº« 4 æ¬¾åŸºäº C# ç¼–å†™ã€å®ç”¨ã€å¼€æºçš„ Visual Studio æ‰©å±•æ’ä»¶</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> EFCore.Visualizer æ˜¯ä¸€æ¬¾å¯ä»¥ç›´æ¥åœ¨ Visual Studio ä¸­æŸ¥çœ‹ EF Core æŸ¥è¯¢è®¡åˆ’è°ƒè¯•å™¨å¯è§†åŒ–å·¥å…·ï¼ˆå¸®åŠ©å¼€å‘è€…åˆ†æå’Œä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½ï¼‰ï¼Œç›®å‰ï¼Œè¯¥å¯è§†åŒ–å·¥å…·æ”¯æŒ SQL Serverã€PostgreSQLã€SQLiteã€MySQL å’Œ Oracleã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FDTX-UAZhle9dxnD4MjebCw" target="_blank" title="https://mp.weixin.qq.com/s/DTX-UAZhle9dxnD4MjebCw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/DTX-UAZhlâ€¦</a></li>
</ul>
<h2 data-id="heading-9">å®Œç¾å¤åˆ»ï¼ä¸€ä¸ªåŸºäº C# å’Œ WPF å¼€æºçš„ç½‘æ˜“äº‘éŸ³ä¹å®¢æˆ·ç«¯</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> MusicApp æ˜¯ä¸€ä¸ªåŸºäº C# å’Œ WPF æŠ€æœ¯å¼€å‘çš„æ¨¡ä»¿ç½‘æ˜“äº‘éŸ³ä¹ç•Œé¢çš„éŸ³ä¹åº”ç”¨é¡¹ç›®ã€‚è¯¥é¡¹ç›®æ—¨åœ¨é€šè¿‡å®è·µå­¦ä¹  WPF å¼€å‘ï¼Œéå¸¸é€‚åˆ WPF å…¥é—¨å­¦ä¹ è€…ä½œä¸ºå…¥é—¨å‚è€ƒé¡¹ç›®ï¼Œæœ¬é¡¹ç›®å·²å®ç°åŸºæœ¬éŸ³ä¹æ’­æ”¾åŠŸèƒ½ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FCIWd7qx-S95Xv02pZCBpgw" target="_blank" title="https://mp.weixin.qq.com/s/CIWd7qx-S95Xv02pZCBpgw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/CIWd7qx-Sâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5577a160dfbd42e7825b6b44621a20ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=yzB8ZR8Gfrp9rd5fXTyWmKzHZQQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">ä¸€æ¬¾åŸºäº .NET å’Œ Quartz.NET å¼€æºçš„ä»»åŠ¡è°ƒåº¦ Web ç•Œé¢ç®¡ç†</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> quartzui æ˜¯ä¸€æ¬¾åŸºäº Quartz.NET 3.0ï¼ˆåå‡çº§è‡³3.2.4ï¼‰çš„ä»»åŠ¡è°ƒåº¦ Web ç•Œé¢ç®¡ç†å·¥å…·ï¼Œä¸“ä¸ºç®€åŒ–ä»»åŠ¡è°ƒåº¦ç®¡ç†è€Œè®¾è®¡ã€‚è¯¥é¡¹ç›®æ”¯æŒé€šè¿‡ Web ç•Œé¢è¿›è¡Œä»»åŠ¡è°ƒåº¦é…ç½®ã€ç›‘æ§åŠç®¡ç†ï¼Œæå¤§åœ°æé«˜äº†ä»»åŠ¡è°ƒåº¦çš„ä¾¿æ·æ€§å’Œæ•ˆç‡ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqByA7G0EFVY0S2J5l9in1A" target="_blank" title="https://mp.weixin.qq.com/s/qByA7G0EFVY0S2J5l9in1A" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/qByA7G0EFâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8827d7380d3e435cb6c607dab03ac266~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=zGdgMYZxP7niQ9nwg7lU2yDkDvg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">ä¸€ä¸ª WPF å¼€æºã€å…è´¹çš„ SVG å›¾åƒæŸ¥çœ‹æ§ä»¶</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> SVGImage æ˜¯ä¸€ä¸ªä¸º WPFï¼ˆWindows Presentation Foundationï¼‰åº”ç”¨ç¨‹åºè®¾è®¡ã€å¼€æºï¼ˆMIT licenseï¼‰ã€å…è´¹çš„ SVGï¼ˆScalable Vector Graphicsï¼‰å›¾åƒæŸ¥çœ‹æ§ä»¶ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F69x0B6jhYja58Ze0NSi9ew" target="_blank" title="https://mp.weixin.qq.com/s/69x0B6jhYja58Ze0NSi9ew" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/69x0B6jhYâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c873b94c37a4d6481b010baffa29bf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=Lb%2FIouUqQnD81fXFPOJ%2Bogo8HWc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-12">ä¸€ä¸ªåŸºäº .NET + Vue3 å¼€æºã€å…è´¹ã€ç²¾ç¾çš„é€šç”¨ä¸šåŠ¡å‹åå°ç®¡ç†ç³»ç»Ÿ</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> SimpleAdmin æ˜¯ä¸€ä¸ªåŸºäº .NET + Vue3 å¼€å‘çš„é€šç”¨ä¸šåŠ¡å‹åå°ç®¡ç†ç³»ç»Ÿï¼Œé€‚ç”¨äºå„ç±»éœ€è¦åå°ç®¡ç†åŠŸèƒ½çš„ä¼ä¸šçº§åº”ç”¨ã€ç½‘ç«™åå°ã€æ•°æ®ç›‘æ§å¹³å°ç­‰åœºæ™¯ã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½æ¨¡å—å’Œç²¾ç¾çš„ç”¨æˆ·ç•Œé¢ï¼Œèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ­å»ºèµ·ç¨³å®šã€é«˜æ•ˆçš„åå°ç®¡ç†ç³»ç»Ÿï¼Œæå‡å¼€å‘æ•ˆç‡å’Œç®¡ç†æ°´å¹³ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQV2B3et6Df9FrU3RzYDWrQ" target="_blank" title="https://mp.weixin.qq.com/s/QV2B3et6Df9FrU3RzYDWrQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/QV2B3et6Dâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa5ce0b0518c49f08876cfb464c7dac6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=ZVcsolptxeStNzt%2FUAaS5Mt4yy0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">ç²¾é€‰ 6 æ¬¾å¼€æºçš„ WinForm UI æ§ä»¶åº“ï¼Œè½»æ¾è®©ä½ çš„è€ç‰Œ WinForm åº”ç”¨ç„•ç„¶ä¸€æ–°ï¼</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> ä»Šå¤©å¤§å§šç»™å¤§å®¶åˆ†äº« 6 æ¬¾å¼€æºçš„ WinForm UI æ§ä»¶åº“ï¼Œè½»æ¾è®©ä½ çš„è€ç‰Œ WinForm åº”ç”¨ç„•ç„¶ä¸€æ–°ï¼</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fl4ccmjKzodcwhxYDRTdukg" target="_blank" title="https://mp.weixin.qq.com/s/l4ccmjKzodcwhxYDRTdukg" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/l4ccmjKzoâ€¦</a></li>
</ul>
<h2 data-id="heading-14">å…¨é¢æ”¯æŒå›½äº§åŒ–ï¼C# å¼€æºè·¨å¹³å° UI æ¡†æ¶ï¼Œæ”¯æŒ Windowsã€Macã€Linux</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> CPFï¼ˆCross-Platform Frameworkï¼‰Â æ˜¯ä¸€æ¬¾åŸºäº C# å¼€å‘çš„å¼€æºè·¨å¹³å° UI æ¡†æ¶ï¼Œä¸“æ³¨äºå›½äº§åŒ–é€‚é…ä¸å…¨å¹³å°æ”¯æŒï¼ˆWindows/macOS/Linuxï¼‰ã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæä¾›é«˜æ€§èƒ½çš„æ¸²æŸ“å¼•æ“ä¸ä¸°å¯Œçš„æ§ä»¶åº“ï¼Œæ—¨åœ¨è§£å†³å›½äº§æ“ä½œç³»ç»Ÿç”Ÿæ€ä¸­ç¼ºä¹æˆç†Ÿ C# UI è§£å†³æ–¹æ¡ˆçš„ç—›ç‚¹ï¼ŒåŒæ—¶å…¼å®¹ä¸»æµå›½é™…å¹³å°ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqbmUS5gT1be6ZWpYm0FRPw" target="_blank" title="https://mp.weixin.qq.com/s/qbmUS5gT1be6ZWpYm0FRPw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/qbmUS5gT1â€¦</a></li>
</ul>
<h2 data-id="heading-15">ä¸€ä¸ªåŸºäº .NET å¼€æºã€é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å¥—æ¥å­—æœåŠ¡å™¨åº”ç”¨ç¨‹åºæ¡†æ¶</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> SuperSocket æ˜¯ä¸€ä¸ªç”¨äº .NET çš„é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å¥—æ¥å­—æœåŠ¡å™¨åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚å®ƒä¸ºå¼€å‘è€…æä¾›äº†æ„å»ºè‡ªå®šä¹‰ç½‘ç»œé€šä¿¡åº”ç”¨ç¨‹åºçš„å¼ºå¤§æ¶æ„ï¼Œæ”¯æŒåŒ…æ‹¬ TCPã€UDP å’Œ WebSocket åœ¨å†…çš„å¤šç§åè®®ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FoNA-dDh80e-WI__9Itf2JA" target="_blank" title="https://mp.weixin.qq.com/s/oNA-dDh80e-WI__9Itf2JA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/oNA-dDh80â€¦</a></li>
</ul>
<h2 data-id="heading-16">C#AIç³»åˆ—(7):ä»é›¶å¼€å§‹LLMä¹‹Tokenizerå®ç°</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> LLMåªåšä¸€ä¸ªäº‹æƒ…ï¼Œå°±æ˜¯åƒæ‰tokenåå‡ºtokenï¼Œtokenæ˜¯LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰çš„åŸºæœ¬å…ƒç´ ã€‚tokenä¸LLMçš„å…³ç³»ï¼Œç›¸å½“äºä¹é«˜ç§¯æœ¨ä¸ä¹é«˜å·¥å‚ï¼Œæˆ‘çš„ä¸–ç•Œæ–¹å—ä¸æˆ‘çš„ä¸–ç•Œæ¸¸æˆã€‚é‚£ä¹ˆtokenåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰äººç¿»è¯‘æˆä»¤ç‰Œï¼Œæœ‰äººç¿»è¯‘æˆè¯æºã€‚æˆ‘ä»¬ä¸å¦¨æ¢ä¸ªæ¦‚å¿µç†è§£ï¼Œtokenå°±æ˜¯æœ€å°æ“ä½œã€æœ€å°ä¿¡æ¯å•å…ƒçš„æ„æ€ã€‚è¿™ä¸ªæœ€å°æ˜¯ç›¸å¯¹äºLLMè¦å¤„ç†çš„åŸå§‹æ–‡æœ¬æ¥è¯´çš„ã€‚ä¸¾ä¸ªæ —å­ï¼Œå½“ä¸€ä¸ªå¥å­æ–‡æœ¬è¾“å…¥åˆ°ç”µè„‘ä¸­ï¼Œå¤©ç„¶å°±å°±å…·æœ‰å­—ç¬¦çº§åˆ«çš„åˆ‡åˆ†ã€‚å¦‚æœä¸æ‰“ç®—ç»§ç»­æ‹†åˆ†æˆ–ç»„åˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œå°†ç°æœ‰è¿™äº›å­—ç¬¦è½¬æ¢ä¸ºæ•´æ•°æ•°ç»„ï¼Œç§°ä¸ºç¼–ç è¿‡ç¨‹ã€‚ç¼–ç åæ•°ç»„å†…çš„å…ƒç´ å°±æ˜¯tokenï¼Œå…ƒç´ å–å€¼å°±ç­‰äºtokenå–å€¼ã€‚LLMå¯ä»¥åƒæ‰è¿™ä¸ªtokenæ•°ç»„ï¼Œå¹¶åå‡ºæ–°æ•°ç»„ã€‚å¯¹è¿™ä¸ªæ–°æ•°ç»„æŒ‰å‰å‰è¿°çš„æ˜ å°„è¿›è¡Œé€†è½¬æ¢ï¼Œç§°ä¸ºè§£ç è¿‡ç¨‹ã€‚è§£ç åæˆ‘ä»¬å°±èƒ½å¾—åˆ°äººç±»å¯ä»¥ç†è§£çš„æ–‡æœ¬äº†ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fluojin765%2Fp%2F19378939" target="_blank" title="https://www.cnblogs.com/luojin765/p/19378939" ref="nofollow noopener noreferrer">www.cnblogs.com/luojin765/pâ€¦</a></li>
</ul>
<h2 data-id="heading-17">.NET10 New feature æ–°å¢åŠŸèƒ½ä»‹ç»-JITç¼–è¯‘å™¨æ”¹è¿›</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> é¦–å…ˆ.NET10æ˜¯ä¸€ä¸ªLTSç‰ˆæœ¬ï¼Œå¾®è½¯å®˜æ–¹æ”¯æŒ3å¹´ï¼Œæ‰€ä»¥ä½œä¸ºæœ€æ–°çš„ä¸»åŠ›ç‰ˆæœ¬ï¼Œå¯ä»¥å°½å¿«å‡çº§ä½¿ç”¨ã€‚ä»Šå¤©æˆ‘ä»¬è¯¦ç»†ä»‹ç»ä¸€ä¸‹.NET 10çš„ä¸€äº›æ–°åŠŸèƒ½-JITç¼–è¯‘å™¨æ”¹è¿›ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Ftianqing%2Fp%2F19378803" target="_blank" title="https://www.cnblogs.com/tianqing/p/19378803" ref="nofollow noopener noreferrer">www.cnblogs.com/tianqing/p/â€¦</a></li>
</ul>
<h2 data-id="heading-18">.Neté€šè¿‡EFCoreå’Œä»“å‚¨æ¨¡å¼å®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§å¹¶ä¸”ç›¸å…³æƒé™é…ç½®åŠ¨æ€ç”Ÿæˆ</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> .Neté€šè¿‡EFCoreå’Œä»“å‚¨æ¨¡å¼å®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§å¹¶ä¸”ç›¸å…³æƒé™é…ç½®åŠ¨æ€ç”Ÿæˆã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fnet-kevin-li%2Fp%2F19368351" target="_blank" title="https://www.cnblogs.com/net-kevin-li/p/19368351" ref="nofollow noopener noreferrer">www.cnblogs.com/net-kevin-lâ€¦</a></li>
</ul>
<h2 data-id="heading-19">OpenCVSharpï¼šHOGè¡Œäººæ£€æµ‹</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> HOGè¡Œäººæ£€æµ‹æ˜¯ä¸€ç§åŸºäºæ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾ç‰¹å¾çš„è®¡ç®—æœºè§†è§‰ç›®æ ‡æ£€æµ‹æŠ€æœ¯ï¼Œå®ƒé€šè¿‡è®¡ç®—å›¾åƒå±€éƒ¨åŒºåŸŸçš„æ¢¯åº¦æ–¹å‘ç›´æ–¹å›¾æ¥æè¿°ç›®æ ‡çš„å¤–è§‚å½¢çŠ¶ç‰¹å¾ã€‚è¯¥ç®—æ³•é¦–å…ˆå°†å›¾åƒåˆ†å‰²ä¸ºå°çš„è¿é€šåŒºåŸŸï¼ˆç»†èƒå•å…ƒï¼‰ï¼Œè®¡ç®—æ¯ä¸ªå•å…ƒå†…åƒç´ çš„æ¢¯åº¦æ–¹å‘å¹¶ç”Ÿæˆç›´æ–¹å›¾ï¼Œç„¶åå°†ç›¸é‚»çš„ç»†èƒå•å…ƒç»„åˆæˆå—å¹¶å¯¹å—å†…çš„ç›´æ–¹å›¾è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œæœ€ç»ˆå½¢æˆèƒ½å¤Ÿæœ‰æ•ˆæè¿°è¡Œäººè½®å»“å’Œå½¢çŠ¶çš„ç‰¹å¾å‘é‡ã€‚è¿™äº›ç‰¹å¾å‘é‡è¢«è¾“å…¥åˆ°é¢„å…ˆè®­ç»ƒå¥½çš„SVMåˆ†ç±»å™¨ä¸­ï¼Œåˆ¤æ–­å›¾åƒåŒºåŸŸæ˜¯å¦åŒ…å«è¡Œäººï¼Œå¹¶é€šè¿‡å¤šå°ºåº¦æ‰«æç­–ç•¥åœ¨ä¸åŒå¤§å°çš„çª—å£ä¸­æœç´¢ç›®æ ‡ï¼Œä»è€Œå®ç°å¯¹å›¾åƒä¸­è¡Œäººçš„å‡†ç¡®æ£€æµ‹å’Œå®šä½ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fmingupupu%2Fp%2F19365183" target="_blank" title="https://www.cnblogs.com/mingupupu/p/19365183" ref="nofollow noopener noreferrer">www.cnblogs.com/mingupupu/pâ€¦</a></li>
</ul>
<h2 data-id="heading-20">OpenCVSharpï¼šå­¦ä¹ äººè„¸æ£€æµ‹ä¾‹å­</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> OpenCVSharpå…³äºäººè„¸æ£€æµ‹æä¾›äº†ä¸¤ä¸ªä¾‹å­ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨çº§è”åˆ†ç±»å™¨å¦ä¸€ä¸ªæ˜¯ä½¿ç”¨DNNæ¨¡å‹ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fmingupupu%2Fp%2F19363129" target="_blank" title="https://www.cnblogs.com/mingupupu/p/19363129" ref="nofollow noopener noreferrer">www.cnblogs.com/mingupupu/pâ€¦</a></li>
</ul>
<h2 data-id="heading-21">Aspire 13ï¼šä».NET ç¼–æ’å·¥å…·åˆ°çœŸæ­£çš„å¤šè¯­è¨€äº‘åŸç”Ÿåº”ç”¨å¹³å°</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> Aspire 13 çš„å‘å¸ƒæ ‡å¿—ç€å¾®è½¯äº‘åŸç”Ÿå¼€å‘å·¥å…·é“¾çš„ä¸€ä¸ªå†³å®šæ€§è½¬æŠ˜ç‚¹ã€‚é€šè¿‡æ­£å¼å»é™¤ ".NET" å‰ç¼€å¹¶æ›´åä¸º "Aspire"ï¼Œè¯¥å¹³å°å·²ä»ä¸€ä¸ªä»¥.NET ä¸ºä¸­å¿ƒçš„ç¼–æ’å™¨æ¼”å˜ä¸ºä¸€ä¸ªå¹¿æ³›çš„ã€å¤šè¯­è¨€é€šç”¨çš„åº”ç”¨å¹³å° 1ã€‚è¿™ä¸€æˆ˜ç•¥è½¬å˜çš„æ ¸å¿ƒåœ¨äºå°† Python å’Œ JavaScript (Node.js) æå‡ä¸ºä¸.NET åŒç­‰çš„ä¸€ç­‰å…¬æ°‘ï¼Œå½»åº•è§£å†³äº†ç°ä»£åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘ä¸­è·¨è¯­è¨€åä½œçš„ç¢ç‰‡åŒ–ç—›ç‚¹ 2ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æ Aspire 13 çš„æ¶æ„å˜é©ï¼Œé‡ç‚¹é˜è¿°å…¶å¦‚ä½•é€šè¿‡æ ‡å‡†åŒ–çš„ "AppHost" æ¨¡å‹æ¥ç»Ÿä¸€ç®¡ç†å¼‚æ„å¾®æœåŠ¡çš„ç”Ÿå‘½å‘¨æœŸã€‚æˆ‘ä»¬å°†è¯¦ç»†æ¢è®¨æ–°å¢çš„ Aspire.Hosting.Python åŒ…åŠå…¶å¯¹ Python ç”Ÿæ€ç³»ç»Ÿï¼ˆå¦‚ uv åŒ…ç®¡ç†å™¨ã€ASGI æ ‡å‡†ã€è™šæ‹Ÿç¯å¢ƒï¼‰çš„æ·±åº¦é›†æˆï¼›åˆ†æåŸºäº OpenTelemetry (OTLP) çš„ç»Ÿä¸€å¯è§‚æµ‹æ€§æ¶æ„å¦‚ä½•æ¶ˆé™¤è¯­è¨€é—´çš„ç›‘æ§å£å’ï¼›å¹¶æ­ç¤º Aspire 13 å¦‚ä½•é€šè¿‡æ™ºèƒ½åŒ–çš„ç¯å¢ƒå˜é‡æ³¨å…¥å’Œè‡ªåŠ¨åŒ–çš„ Dockerfile ç”Ÿæˆï¼Œé‡å¡‘äº†ä»æœ¬åœ°å¼€å‘åˆ°ç”Ÿäº§éƒ¨ç½²çš„å®Œæ•´å·¥ä½œæµ 1ã€‚æ­¤å¤–ï¼Œæœ¬æ–‡è¿˜å°†å®¡è§†è¿™ä¸€ç‰ˆæœ¬å¯¹åº•å±‚åŸºç¡€è®¾æ–½çš„è¦æ±‚ï¼ŒåŒ…æ‹¬å¯¹.NET 10 SDK çš„ä¾èµ–ä»¥åŠå…¨æ–°çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†å·¥å…· aspire do çš„å¼•å…¥ 2ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fshanyou%2Fp%2F19360467" target="_blank" title="https://www.cnblogs.com/shanyou/p/19360467" ref="nofollow noopener noreferrer">www.cnblogs.com/shanyou/p/1â€¦</a></li>
</ul>
<h2 data-id="heading-22">ç”¨ .NET æœ€å°åŒ– API æ„å»ºé«˜æ€§èƒ½ API</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> åœ¨å½“ä»Šå¿«é€Ÿå‘å±•çš„åº”ç”¨å¼€å‘é¢†åŸŸï¼Œæ„å»ºå¿«é€Ÿã€å¯æ‰©å±•ä¸”å¯ç»´æŠ¤çš„APIå·²æˆä¸ºç°ä»£åº”ç”¨çš„å…³é”®è¦æ±‚ã€‚éšç€.NETæŠ€æœ¯çš„ä¸æ–­æ¼”è¿›ï¼Œå¾®è½¯æ¨å‡ºäº†æœ€å°åŒ–API(Minimal APIs)è¿™ä¸€åˆ›æ–°æ¶æ„ï¼Œæ—¨åœ¨ç®€åŒ–APIå¼€å‘æµç¨‹åŒæ—¶æ˜¾è‘—æå‡æ€§èƒ½ã€‚æœ€å°åŒ–APIé€šè¿‡å‡å°‘æ¨¡æ¿ä»£ç ã€ä¼˜åŒ–å¯åŠ¨æ—¶é—´ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘è€Œéæ¡†æ¶å¤æ‚æ€§ï¼Œä¸ºæ„å»ºé«˜æ€§èƒ½APIæä¾›äº†å…¨æ–°çš„è§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨.NETä¸­çš„æœ€å°åŒ–APIæ¶æ„æ„å»ºé«˜æ€§èƒ½APIï¼Œé€šè¿‡ç®€æ´çš„ä»£ç ç¤ºä¾‹å’Œå®ç”¨å»ºè®®ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡è¿™ä¸€ç°ä»£APIå¼€å‘æ–¹æ³•ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fpowertoolsteam%2Fp%2F19360421" target="_blank" title="https://www.cnblogs.com/powertoolsteam/p/19360421" ref="nofollow noopener noreferrer">www.cnblogs.com/powertoolstâ€¦</a></li>
</ul>
<h2 data-id="heading-23">2025å¹´ WebTransport ç”Ÿæ€æ·±åº¦ç ”ç©¶ï¼šJavaScript å®¢æˆ·ç«¯ä¸.NET 10 SignalR çš„æ¼”è¿›ä¸èåˆ</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> åœ¨å®æ—¶ç½‘ç»œé€šä¿¡é¢†åŸŸï¼Œ2025å¹´æ ‡å¿—ç€ä»ä¼ ç»Ÿçš„åŸºäº TCP çš„ WebSocket åè®®å‘åŸºäº UDP å’Œ QUIC çš„ä¸‹ä¸€ä»£ä¼ è¾“åè®®â€”â€”WebTransport çš„å…³é”®è½¬å‹æœŸã€‚æœ¬æŠ¥å‘Šæ—¨åœ¨é’ˆå¯¹ WebTransport åœ¨ JavaScript å®¢æˆ·ç«¯ç”Ÿæ€ç³»ç»Ÿä¸­çš„æ”¯æŒç°çŠ¶ï¼Œä»¥åŠå¾®è½¯.NET 10 æ¡†æ¶ä¸‹ ASP.NET Core SignalR å¯¹è¯¥åè®®çš„æœåŠ¡ç«¯å®ç°èƒ½åŠ›ï¼Œè¿›è¡Œè¯¦å°½çš„åŸºå‡†æµ‹è¯•ä¸æ¶æ„åˆ†æã€‚ç ”ç©¶æ˜¾ç¤ºï¼Œæˆªè‡³ 2025 å¹´ç¬¬å››å­£åº¦ï¼ŒWebTransport çš„ç”Ÿæ€å‘ˆç°å‡ºæ˜¾è‘—çš„â€œä¸¤æåˆ†åŒ–â€ç‰¹å¾ã€‚åœ¨å®¢æˆ·ç«¯æ–¹é¢ï¼Œä»¥ Chrome å’Œ Firefox ä¸ºä»£è¡¨çš„æµè§ˆå™¨é˜µè¥å·²ç»å®ç°äº†é«˜åº¦æˆç†Ÿä¸”ç¨³å®šçš„æ”¯æŒï¼Œä¸ä»…å®Œå…¨éµå¾ª W3C æ ‡å‡†ï¼Œæ›´åœ¨æµæ§åˆ¶å’Œæ‹¥å¡ç®¡ç†ä¸Šè¡¨ç°ä¼˜å¼‚ï¼›ç„¶è€Œï¼ŒApple çš„ WebKit å†…æ ¸ï¼ˆSafariï¼‰ä¾æ—§æ˜¯æ™®åŠçš„æœ€å¤§é˜»ç¢ï¼Œä»…åœ¨å®éªŒæ€§ç‰ˆæœ¬ä¸­æœ‰é™åº¦å¼€æ”¾ã€‚åœ¨æœåŠ¡ç«¯æ–¹é¢ï¼Œéšç€.NET 10 çš„å‘å¸ƒï¼ŒASP.NET Core SignalR å°† WebTransport ä»â€œå®éªŒæ€§é¢„è§ˆâ€æ­£å¼æ¨è¿›è‡³â€œç”Ÿäº§å°±ç»ªâ€é˜¶æ®µï¼Œå°½ç®¡å…¶å¯¹åº•å±‚æ“ä½œç³»ç»Ÿï¼ˆå¦‚ Windows Server 2022/2025 å’Œç‰¹å®š Linux å‘è¡Œç‰ˆï¼‰çš„ä¾èµ–ä¾ç„¶æ„æˆäº†éƒ¨ç½²é—¨æ§›ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fshanyou%2Fp%2F19355053" target="_blank" title="https://www.cnblogs.com/shanyou/p/19355053" ref="nofollow noopener noreferrer">www.cnblogs.com/shanyou/p/1â€¦</a></li>
</ul>
<h2 data-id="heading-24">OpenCVSharpï¼šäº†è§£å‡ ç§ç‰¹å¾æ£€æµ‹</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> å‰é¢å·²ç»ä»‹ç»è¿‡äº†OpenCVSharpä¸­å°è£…çš„å‡ ä¸ªç‰¹å¾æ£€æµ‹ç®—æ³•ï¼Œå…¶å®é‡Œé¢è¿˜æœ‰å¾ˆå¤šç‰¹å¾æ£€æµ‹ç®—æ³•ï¼Œä¸å†ä¸€ç¯‡ä¸€ç¯‡åœ°ä»‹ç»äº†ï¼Œå…¶å®ƒçš„éƒ½æ”¾åœ¨è¿™ä¸€ç¯‡ï¼Œç®€å•è¿‡ä¸€ä¸‹ï¼Œæœ‰ç‚¹å°è±¡å³å¯ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fmingupupu%2Fp%2F19352075" target="_blank" title="https://www.cnblogs.com/mingupupu/p/19352075" ref="nofollow noopener noreferrer">www.cnblogs.com/mingupupu/pâ€¦</a></li>
</ul>
<h2 data-id="heading-25">C#AIç³»åˆ—(6): C#ç¦»çº¿å®ç°é«˜æ•ˆOCR</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> å®ç°OCRï¼Œæˆ‘ä»¬ç›´æ¥ä»Tesseractï¼ˆApache 2.0ï¼Œstar 71.4Kï¼‰å¼€å§‹ã€‚Tesseract æ˜¯ç›®å‰æœ€æ´»è·ƒã€æœ€ç²¾ç¡®çš„å¼€æº OCRï¼ˆå…‰å­¦å­—ç¬¦è¯†åˆ«ï¼‰å¼•æ“ä¹‹ä¸€ï¼Œç”± Google ç»´æŠ¤ã€‚å®ƒèƒ½æŠŠå›¾ç‰‡ä¸­çš„å°åˆ·æˆ–æ‰‹å†™æ–‡å­—è½¬æ¢æˆå¯ç¼–è¾‘çš„çº¯æ–‡æœ¬ã€PDFã€HTML ç­‰å¤šç§æ ¼å¼ï¼Œæ”¯æŒåŒ…æ‹¬ä¸­æ–‡ç­‰ 100 å¤šç§è¯­è¨€ã€‚Tesseract 4 ä»¥åå¼•å…¥åŸºäºæ·±åº¦å­¦ä¹ çš„ LSTM ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå¯¹æ•´è¡Œæ–‡å­—è¿›è¡Œè¯†åˆ«ï¼Œå‡†ç¡®ç‡å¤§å¹…æå‡ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fluojin765%2Fp%2F19346320" target="_blank" title="https://www.cnblogs.com/luojin765/p/19346320" ref="nofollow noopener noreferrer">www.cnblogs.com/luojin765/pâ€¦</a></li>
</ul>
<h2 data-id="heading-26">OpenCVSharpï¼šå­¦ä¹ è¿é€šæ€§æ£€æµ‹çš„ä½¿ç”¨</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> è¿é€šæ€§æ£€æµ‹æ˜¯è®¡ç®—æœºè§†è§‰ä¸­çš„ä¸€ç§åŸºç¡€å›¾åƒå¤„ç†æŠ€æœ¯ï¼Œç”¨äºè¯†åˆ«å’Œæ ‡è®°äºŒå€¼å›¾åƒä¸­ç›¸äº’è¿æ¥çš„åƒç´ åŒºåŸŸã€‚ç®€å•æ¥è¯´ï¼Œå®ƒèƒ½å¤Ÿæ‰¾å‡ºå›¾åƒä¸­æ‰€æœ‰ç‹¬ç«‹çš„"è¿é€šåŒºåŸŸ"ï¼ˆå³åƒç´ ä¹‹é—´ç›¸äº’è¿æ¥å½¢æˆçš„åŒºåŸŸï¼‰ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fmingupupu%2Fp%2F19344713" target="_blank" title="https://www.cnblogs.com/mingupupu/p/19344713" ref="nofollow noopener noreferrer">www.cnblogs.com/mingupupu/pâ€¦</a></li>
</ul>
<h2 data-id="heading-27">WPFä¸ªäººæ–‡æ¡£ï¼ˆä¸€ï¼‰â€”â€” åŸºç¡€è¯­æ³•&amp;ç»„ä»¶ç¯‡</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> WPFä¸ªäººæ–‡æ¡£ï¼ˆä¸€ï¼‰â€”â€” åŸºç¡€è¯­æ³•&amp;ç»„ä»¶ç¯‡ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fleaf-7-scouts%2Fp%2F19336808" target="_blank" title="https://www.cnblogs.com/leaf-7-scouts/p/19336808" ref="nofollow noopener noreferrer">www.cnblogs.com/leaf-7-scouâ€¦</a></li>
</ul>
<h2 data-id="heading-28">.Netå¾®æœåŠ¡ç½‘å…³æ³¨å†Œå’Œç®¡ç†ï¼ˆåŸºäºConsul + Nginxå®ç°ï¼‰</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒAPIç½‘å…³ä½œä¸ºè¯·æ±‚å…¥å£ï¼Œè´Ÿè´£è·¯ç”±è½¬å‘ã€è´Ÿè½½å‡è¡¡ã€è®¤è¯é‰´æƒç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚Consulæä¾›æœåŠ¡æ³¨å†Œä¸å‘ç°èƒ½åŠ›ï¼ŒNginxä½œä¸ºé«˜æ€§èƒ½åå‘ä»£ç†ï¼ŒäºŒè€…ç»“åˆå¯å®ç°åŠ¨æ€ç½‘å…³ç®¡ç†ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fnet-kevin-li%2Fp%2F19332353" target="_blank" title="https://www.cnblogs.com/net-kevin-li/p/19332353" ref="nofollow noopener noreferrer">www.cnblogs.com/net-kevin-lâ€¦</a></li>
</ul>
<h2 data-id="heading-29">.NET 10 ç½‘ç»œæ”¹è¿›ï¼šHTTPã€å®‰å…¨ä¸ç½‘ç»œåŸè¯­çš„å…¨é¢å‡çº§</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> éšç€.NET 10çš„å‘å¸ƒï¼Œå¾®è½¯åœ¨ç½‘ç»œæŠ€æœ¯æ ˆä¸Šå¸¦æ¥äº†ä¸€ç³»åˆ—ä»¤äººå…´å¥‹çš„æ”¹è¿›å’Œæ–°å¢åŠŸèƒ½ã€‚è¿™äº›æ”¹è¿›è¦†ç›–äº†HTTPåè®®å¤„ç†ã€WebSockets APIã€å®‰å…¨å¢å¼ºä»¥åŠç½‘ç»œåŸºç¡€åŸè¯­ç­‰å¤šä¸ªæ–¹é¢ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™äº›æŠ€æœ¯æ”¹è¿›ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£å’Œåˆ©ç”¨.NET 10åœ¨ç½‘ç»œç¼–ç¨‹æ–¹é¢çš„æœ€æ–°èƒ½åŠ›ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fpowertoolsteam%2Fp%2F19330426" target="_blank" title="https://www.cnblogs.com/powertoolsteam/p/19330426" ref="nofollow noopener noreferrer">www.cnblogs.com/powertoolstâ€¦</a></li>
</ul>
<h2 data-id="heading-30">C#å®ç°ä¸‰è±MCé€šè®¯åè®®åº“ï¼ˆ4Cå¸§-æ ¼å¼1ï¼‰</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> æ ¹æ®ä¸‰è±çš„ Melsec é€šè®¯åè®®(æœ¬æ–‡ç§°MCåè®®)æ‰‹å†Œå†…å®¹ï¼Œä½¿ç”¨ä¸²å£å®ç°äº† PC ä¸ PLC çš„é€šè®¯ï¼Œèƒ½å¤Ÿé€šè¿‡QnAå…¼å®¹4Cå¸§çš„æ ¼å¼1å®ç° PC è¯»å†™ PLC çš„è½¯å…ƒä»¶å­˜å‚¨å™¨å†…å®¹(å¼‚æ­¥æ–¹æ³•)ï¼Œæœ€åç”¨ä¸€ä¸ª C#æ§åˆ¶å°é¡¹ç›®æµ‹è¯•äº†é€šè®¯åº“åŠŸèƒ½ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fdragonet-Z%2Fp%2F19318911" target="_blank" title="https://www.cnblogs.com/dragonet-Z/p/19318911" ref="nofollow noopener noreferrer">www.cnblogs.com/dragonet-Z/â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>