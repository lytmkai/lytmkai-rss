<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å¤§æ•°æ®-189 Nginx JSON æ—¥å¿—æ¥å…¥ ELKï¼šZK+Kafka+Elasticsearch 7.3.0+Kibana å®æˆ˜æ­å»º]]></title>    <link>https://juejin.cn/post/7585410547337363506</link>    <guid>https://juejin.cn/post/7585410547337363506</guid>    <pubDate>2025-12-20T01:06:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585410547337363506" data-draft-id="7585706951582367753" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-189 Nginx JSON æ—¥å¿—æ¥å…¥ ELKï¼šZK+Kafka+Elasticsearch 7.3.0+Kibana å®æˆ˜æ­å»º"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Elasticsearch"/> <meta itemprop="datePublished" content="2025-12-20T01:06:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-189 Nginx JSON æ—¥å¿—æ¥å…¥ ELKï¼šZK+Kafka+Elasticsearch 7.3.0+Kibana å®æˆ˜æ­å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-20T01:06:19.000Z" title="Sat Dec 20 2025 01:06:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šç”¨ Nginx äº§ç”Ÿæ—¥å¿—ï¼Œèµ° Zookeeper+Kafka æ±‡èšï¼Œå†™å…¥ Elasticsearchï¼ŒKibana å¯è§†åŒ–</li>
<li>ç»“è®ºï¼šå…ˆæŠŠ Nginx access_log è§„èŒƒä¸º JSONï¼Œåç»­é‡‡é›†è§£ææˆæœ¬æœ€ä½ã€ååæœ€ç¨³</li>
<li>äº§å‡ºï¼šå¯å¤ç°çš„æœ€å°é“¾è·¯ï¼ˆNginxâ†’Kafkaâ†’ESâ†’Kibanaï¼‰ä¸å¸¸è§æ•…éšœé€ŸæŸ¥è¡¨</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4702f4260124389bb15248feeca06c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766797579&amp;x-signature=bPMUpAedI%2FALKrFpo%2BfB2xoZTPg%3D" alt="å¤§æ•°æ®-189 Nginx JSON æ—¥å¿—æ¥å…¥ ELKï¼šZK+Kafka+Elasticsearch 7.3.0+Kibana å®æˆ˜æ­å»º" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>















































<table><thead><tr><th>ç»„ä»¶</th><th>ç‰ˆæœ¬</th><th>å·²éªŒè¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Nginx</td><td>apt å®‰è£…ç‰ˆï¼ˆéšå‘è¡Œç‰ˆå˜åŒ–ï¼‰</td><td>éƒ¨åˆ†</td><td>å…³é”®åœ¨ <code>log_format json</code> ä¸ <code>access_log ... json;</code> ç”Ÿæ•ˆï¼›ç‰ˆæœ¬ä¸å½±å“è¯¥ç”¨æ³•ä¸»è·¯å¾„</td></tr><tr><td>Zookeeper</td><td>æœªæ³¨æ˜</td><td>éƒ¨åˆ†</td><td>éœ€ä¸‰èŠ‚ç‚¹åˆ†åˆ« <code>zkServer.sh start</code>ï¼›æ³¨æ„æœåŠ¡ç”¨æˆ·ã€JAVA_HOMEã€æ•°æ®ç›®å½•ä¸€è‡´æ€§</td></tr><tr><td>Kafka</td><td>2.12-2.7.2</td><td>æ˜¯</td><td>ä»¥ <code>kafka-server-start.sh -daemon .../server.properties</code> å¯åŠ¨ï¼›ä¾èµ–å¯ç”¨çš„ ZK/æˆ–é…ç½®åˆ°ä½</td></tr><tr><td>Elasticsearch</td><td>7.3.0</td><td>æ˜¯</td><td><code>.../elasticsearch -d</code>ï¼›æ³¨æ„ <code>vm.max_map_count</code>ã€æƒé™ã€bootstrap check</td></tr><tr><td>Kibana</td><td>7.3.0</td><td>æ˜¯</td><td>å¿…é¡»ä¸ ES ä¸»ç‰ˆæœ¬ä¸€è‡´ï¼›<code>bin/kibana</code> å‰å°è¿è¡Œï¼Œå»ºè®®é…è¿›ç¨‹å®ˆæŠ¤</td></tr><tr><td>æ—¥å¿—æ ¼å¼</td><td>Nginx JSONï¼ˆè‡ªå®šä¹‰å­—æ®µï¼‰</td><td>æ˜¯</td><td>ä»¥ JSON ç›´å‡ºé™ä½åç»­è§£ææˆæœ¬ï¼›å­—æ®µå‘½åå»ºè®®ç¨³å®šï¼ˆè§é€ŸæŸ¥å¡ï¼‰</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bad0e46f949549ad869c8e1a893ee24e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766797579&amp;x-signature=xEVeStD7HpNfUYIowDwrB%2B%2BQGeM%3D" alt="Elasticsearch" loading="lazy"/></p>
<h2 data-id="heading-2">æ•´ä½“æ¶æ„</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbd01dd5571643d0be8d5d52973dd7c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766797579&amp;x-signature=3zVNpnJz1%2BtbamVWJM3rqOpZAVU%3D" alt="æ•´ä½“çš„å¤„ç†æ¶æ„" loading="lazy"/></p>
<h2 data-id="heading-3">Nginx</h2>
<p>Nginx æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿèƒ½ä½œä¸º IMAP/POP3 é‚®ä»¶ä»£ç†æœåŠ¡å™¨ä½¿ç”¨ã€‚å®ƒæœ€åˆç”± Igor Sysoev äº 2004 å¹´å¼€å‘ï¼Œç›®çš„æ˜¯è§£å†³é«˜å¹¶å‘æƒ…å†µä¸‹çš„ C10K é—®é¢˜ï¼Œå³åŒæ—¶å¤„ç† 1 ä¸‡ä¸ªå®¢æˆ·ç«¯è¿æ¥çš„é—®é¢˜ã€‚Nginx é‡‡ç”¨äº†äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œèƒ½å¤Ÿä½¿ç”¨è¾ƒå°‘çš„èµ„æºå¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚ï¼Œå› æ­¤åœ¨é™æ€èµ„æºæœåŠ¡ã€åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ç­‰åœºæ™¯ä¸­è¡¨ç°å¾—å°¤ä¸ºå‡ºè‰²ã€‚</p>
<p>Nginx çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>é™æ€èµ„æºæœåŠ¡ï¼šNginx å¯ä»¥éå¸¸é«˜æ•ˆåœ°å¤„ç†é™æ€æ–‡ä»¶çš„è¯·æ±‚ï¼Œå¦‚ HTMLã€CSSã€JavaScriptã€å›¾ç‰‡ç­‰ï¼Œé€‚åˆä½œä¸ºå‰ç«¯æœåŠ¡å™¨ã€‚</li>
<li>åå‘ä»£ç†ï¼šNginx å¯ä»¥ä½œä¸ºåå‘ä»£ç†ï¼Œå°†å®¢æˆ·ç«¯è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡å™¨å¤„ç†ï¼Œå†å°†å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®ƒæ”¯æŒ HTTP å’Œ HTTPS åè®®ï¼Œèƒ½å¤Ÿå¸®åŠ©éšè—åç«¯æœåŠ¡å™¨ï¼Œå¢å¼ºå®‰å…¨æ€§ã€‚</li>
<li>è´Ÿè½½å‡è¡¡ï¼šNginx æ”¯æŒå¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œå¦‚è½®è¯¢ã€åŠ æƒè½®è¯¢ã€IP å“ˆå¸Œç­‰ã€‚å®ƒå¯ä»¥å°†æµé‡åˆ†å‘åˆ°å¤šä¸ªåç«¯æœåŠ¡å™¨ï¼Œæé«˜ç³»ç»Ÿçš„å¯é æ€§å’Œå¯æ‰©å±•æ€§ã€‚</li>
<li>ç¼“å­˜ï¼šNginx å¯ä»¥ç¼“å­˜åç«¯æœåŠ¡å™¨çš„å“åº”ï¼Œå‡å°‘å¯¹åç«¯æœåŠ¡å™¨çš„è¯·æ±‚å‹åŠ›ï¼Œæå‡æ€§èƒ½ã€‚</li>
<li>é«˜å¹¶å‘æ”¯æŒï¼šç”±äºé‡‡ç”¨å¼‚æ­¥éé˜»å¡çš„äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼ŒNginx å¯ä»¥å¤„ç†éå¸¸é«˜çš„å¹¶å‘è¿æ¥ï¼Œé€‚åˆå¤§è§„æ¨¡ç½‘ç«™çš„æµé‡å¤„ç†éœ€æ±‚ã€‚</li>
<li>æ¨¡å—åŒ–è®¾è®¡ï¼šNginx æ”¯æŒå¤šç§æ¨¡å—ï¼Œå¦‚ gzip å‹ç¼©ã€SSL/TLS åŠ å¯†ã€è®¿é—®æ§åˆ¶ã€è¿æ¥é™åˆ¶ç­‰ï¼Œæ–¹ä¾¿å®šåˆ¶å’Œæ‰©å±•ã€‚</li>
</ul>
<h3 data-id="heading-4">é…ç½®Nginx</h3>
<p>æˆ‘è¿™é‡Œç›´æ¥ç”¨å·¥å…·å®‰è£…äº†ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨æºç ç¼–è¯‘çš„æ–¹å¼ç­‰ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">apt install nginx
</code></pre>
<p>å®‰è£…å®Œæ¯•åï¼Œæˆ‘ä»¬è¦ä¿®æ”¹ä¸€ä¸‹Nginxçš„é…ç½®å†…å®¹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">å¯èƒ½ä¸ä¸€æ ·</span>
vim /etc/nginx/nginx.conf
</code></pre>
<p>åŸæ¥çš„å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬è¦ä¿®æ”¹å†…å®¹ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dade12635ff4405a48c78f32686a70a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766797579&amp;x-signature=HgHnpiUjhL%2BmBeKSyGX2%2Bmjh7hQ%3D" alt="é…ç½®Nginx" loading="lazy"/>
ä¿®æ”¹æ—¥å¿—çš„æ ¼å¼ï¼ˆæ–¹ä¾¿åç»­çš„Logstashè¿›è¡Œè§£æï¼Œè™½ç„¶Logstashå¯ä»¥é€šè¿‡æ­£åˆ™çš„æ–¹å¼æ¥å®ç°å­—æ®µçš„æå–ï¼Œä½†æ˜¯æ•ˆç‡å¹¶ä¸é«˜ï¼‰ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">log_format json '{ "@timestamp": "$time_iso8601", '
                '"remote_addr": "$remote_addr", '
                '"remote_user": "$remote_user", '
                '"body_bytes_sent": "$body_bytes_sent", '
                '"request_time": "$request_time", '
                '"status": "$status", '
                '"request_uri": "$request_uri", '
                '"request_method": "$request_method", '
                '"http_referrer": "$http_referer", '
                '"http_x_forwarded_for": "$http_x_forwarded_for", '
                '"http_user_agent": "$http_user_agent"}';
access_log logs/access.log json;
</code></pre>
<p>ä¿®æ”¹çš„å¯¹åº”çš„æˆªå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d161aa59c8a4e528b192fd4cde2b0fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766797579&amp;x-signature=dqgGv4K3HIT5U5xFW8oNl4AbIGM%3D" alt="é…ç½®Nginxçš„Config" loading="lazy"/>
åŒæ—¶æˆ‘ä»¬ç›‘å¬ä¸€ä¸ªåˆ«çš„ç«¯å£ï¼Œå¿…é¡»8888</p>
<pre><code class="hljs language-shell" lang="shell">server {
    listen 8888;
    server_name localhost;
    location / {
            root html;
            index index.html index.htm;
    }
}
</code></pre>
<p>è¿™éƒ¨åˆ†çš„æˆªå›¾ä¸ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b66579debb94564839a86f4e765600f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766797579&amp;x-signature=mH3k4YSkc%2FTDP5SMUVsBpz38Ivg%3D" alt="ä¿®æ”¹æœåŠ¡" loading="lazy"/></p>
<h3 data-id="heading-5">é‡å¯Nginx</h3>
<pre><code class="hljs language-shell" lang="shell">nginx -s reload
</code></pre>
<h3 data-id="heading-6">è®¿é—®é¡µé¢</h3>
<pre><code class="hljs language-shell" lang="shell">http://h121.wzk.icu:8888/
</code></pre>
<p>æˆ‘ä»¬å¤šè®¿é—®å‡ æ¬¡ï¼Œå¯ä»¥çœ‹åˆ°åå°çš„æ—¥å¿—çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">root@h121:/opt/wzk/logs# tail -f access.log 
{ "@timestamp": "2024-08-19T14:24:39+08:00", "remote_addr": "223.80.101.21", "remote_user": "-", "body_bytes_sent": "0", "request_time": "0.000", "status": "304", "request_uri": "/", "request_method": "GET", "http_referrer": "-", "http_x_forwarded_for": "-", "http_user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}
{ "@timestamp": "2024-08-19T14:24:39+08:00", "remote_addr": "223.80.101.21", "remote_user": "-", "body_bytes_sent": "0", "request_time": "0.000", "status": "304", "request_uri": "/", "request_method": "GET", "http_referrer": "-", "http_x_forwarded_for": "-", "http_user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}
{ "@timestamp": "2024-08-19T14:24:43+08:00", "remote_addr": "223.80.101.21", "remote_user": "-", "body_bytes_sent": "396", "request_time": "0.000", "status": "200", "request_uri": "/", "request_method": "GET", "http_referrer": "-", "http_x_forwarded_for": "-", "http_user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}
{ "@timestamp": "2024-08-19T14:24:43+08:00", "remote_addr": "223.80.101.21", "remote_user": "-", "body_bytes_sent": "197", "request_time": "0.000", "status": "404", "request_uri": "/favicon.ico", "request_method": "GET", "http_referrer": "http://h121.wzk.icu:8888/", "http_x_forwarded_for": "-", "http_user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}
{ "@timestamp": "2024-08-19T14:24:44+08:00", "remote_addr": "223.80.101.21", "remote_user": "-", "body_bytes_sent": "0", "request_time": "0.000", "status": "304", "request_uri": "/", "request_method": "GET", "http_referrer": "-", "http_x_forwarded_for": "-", "http_user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}
</code></pre>
<p>å¯¹åº”çš„æˆªå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07317d06ce424879970ccfe32ab28c73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766797579&amp;x-signature=f23oWeX%2FsfvYVNftUxmubYq7fDU%3D" alt="æŸ¥çœ‹Nginxçš„æ—¥å¿—" loading="lazy"/></p>
<h2 data-id="heading-7">Zookeeper</h2>
<p>Zookeeper æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œç”¨äºåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºä¸­çš„é…ç½®ç®¡ç†ã€å‘½åæœåŠ¡ã€åˆ†å¸ƒå¼åŒæ­¥å’Œé›†ç¾¤ç®¡ç†ç­‰åŠŸèƒ½ã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•ä½†å¯é çš„æœºåˆ¶ï¼Œèƒ½å¤Ÿåè°ƒå¤šä¸ªæœåŠ¡å™¨ä¹‹é—´çš„çŠ¶æ€ï¼Œä½¿å¾—åˆ†å¸ƒå¼ç³»ç»Ÿå¯ä»¥åƒå•ä¸ªç³»ç»Ÿä¸€æ ·è¿›è¡Œç®¡ç†ã€‚Zookeeper çš„æ ¸å¿ƒç†å¿µæ˜¯é€šè¿‡ä¸€ä¸ªæ ‘çŠ¶çš„ç›®å½•ç»“æ„æ¥å­˜å‚¨é…ç½®ä¿¡æ¯ï¼Œç±»ä¼¼äºæ–‡ä»¶ç³»ç»Ÿï¼Œæ¯ä¸ªèŠ‚ç‚¹ç§°ä¸º znodeã€‚</p>
<p>Zookeeper çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>å‘½åæœåŠ¡ï¼šZookeeper èƒ½å¤Ÿå­˜å‚¨å’Œæä¾›åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„èµ„æºåç§°ä¿¡æ¯ï¼Œä¾‹å¦‚åˆ†å¸ƒå¼é›†ç¾¤ä¸­çš„æœåŠ¡å™¨åç§°å’Œåœ°å€ã€‚</li>
<li>é…ç½®ç®¡ç†ï¼šZookeeper å¯ä»¥å®æ—¶è·Ÿè¸ªå’Œåˆ†å‘é…ç½®æ•°æ®ï¼Œç¡®ä¿åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å„ä¸ªèŠ‚ç‚¹æ‹¥æœ‰ä¸€è‡´çš„é…ç½®çŠ¶æ€ã€‚</li>
<li>åˆ†å¸ƒå¼åŒæ­¥ï¼šZookeeper æä¾›äº†ä¸€ç§åŸè¯­ï¼Œå¸®åŠ©åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„èŠ‚ç‚¹åœ¨æ“ä½œæ—¶ä¿æŒåŒæ­¥ï¼Œé¿å…æ•°æ®å†²çªå’Œç«äº‰æ¡ä»¶ã€‚</li>
<li>é›†ç¾¤ç®¡ç†ï¼šZookeeper èƒ½å¤Ÿç›‘æ§é›†ç¾¤ä¸­èŠ‚ç‚¹çš„å­˜æ´»çŠ¶æ€ï¼Œæä¾›èŠ‚ç‚¹çš„åŠ¨æ€åŠ å…¥ã€ç§»é™¤ä»¥åŠå¤±è´¥æ¢å¤çš„åŠŸèƒ½ã€‚</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦å»å¯åŠ¨ ZooKeeper çš„é›†ç¾¤æœåŠ¡ï¼Œéœ€è¦åœ¨ï¼š</p>
<ul>
<li>h121</li>
<li>h122</li>
<li>h123
ä¸Šè¿°èŠ‚ç‚¹åˆ†åˆ«å¯åŠ¨ ZK æœåŠ¡ï¼š</li>
</ul>
<pre><code class="hljs language-shell" lang="shell">zkServer.sh start
</code></pre>
<h2 data-id="heading-8">Kafka</h2>
<p>Kafka æ˜¯ç”± LinkedIn å¼€å‘çš„ä¸€ä¸ªåˆ†å¸ƒå¼æµå¤„ç†å¹³å°ï¼Œç°ç”± Apache åŸºé‡‘ä¼šç»´æŠ¤ã€‚Kafka æœ€åˆæ˜¯ä¸ºäº†å¤„ç† LinkedIn å†…éƒ¨çš„å¤§è§„æ¨¡æ•°æ®æµè€Œè®¾è®¡çš„ï¼Œç°åœ¨å·²æˆä¸ºå„ç±»ä¼ä¸šç”¨äºå¤„ç†å®æ—¶æ•°æ®æµçš„é‡è¦å·¥å…·ã€‚</p>
<p>Kafka çš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ul>
<li>é«˜ååé‡ï¼šKafka èƒ½å¤Ÿå¤„ç†å¤§é‡çš„æ•°æ®æµï¼Œæ”¯æŒä½å»¶è¿Ÿçš„å®æ—¶æ¶ˆæ¯å¤„ç†ã€‚</li>
<li>æŒä¹…åŒ–å­˜å‚¨ï¼šæ¶ˆæ¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œå¯ä»¥è®¾ç½®ä¿ç•™ç­–ç•¥æ¥æ§åˆ¶æ¶ˆæ¯çš„ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li>å¯æ‰©å±•æ€§ï¼šKafka é€šè¿‡å¢åŠ åˆ†åŒºå’Œ Broker æ¥æ°´å¹³æ‰©å±•ï¼Œæ— éœ€ä¸­æ–­æœåŠ¡ã€‚</li>
<li>å®¹é”™æ€§ï¼šé€šè¿‡å‰¯æœ¬æœºåˆ¶ï¼ŒKafka å¯ä»¥åœ¨éƒ¨åˆ† Broker å¤±æ•ˆçš„æƒ…å†µä¸‹ä»ç„¶ç»§ç»­è¿è¡Œã€‚</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦å»å¯åŠ¨Kafkaçš„é›†ç¾¤æœåŠ¡ï¼Œéœ€è¦åœ¨ï¼š</p>
<ul>
<li>h121</li>
<li>h122</li>
<li>h123
ä¸Šè¿°èŠ‚ç‚¹åˆ†åˆ«å¯åŠ¨ Kafka æœåŠ¡ï¼š</li>
</ul>
<pre><code class="hljs language-shell" lang="shell">kafka-server-start.sh -daemon /opt/servers/kafka_2.12-2.7.2/config/server.properties
</code></pre>
<h2 data-id="heading-9">Elasticsearch</h2>
<p>Elasticsearch æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€RESTful æœç´¢å’Œåˆ†æå¼•æ“ï¼ŒåŸºäº Apache Lucene å¼€å‘ã€‚å®ƒèƒ½å¤Ÿå¿«é€Ÿå­˜å‚¨ã€æœç´¢å’Œåˆ†æå¤§é‡æ•°æ®ï¼Œå¹¿æ³›åº”ç”¨äºæ—¥å¿—å¤„ç†ã€å…¨æ–‡æœç´¢ã€æ•°æ®åˆ†æç­‰åœºæ™¯ã€‚</p>
<p>Elasticsearch é€šå¸¸å’Œå…¶ä»–å·¥å…·å¦‚ Logstash å’Œ Kibana ä¸€èµ·ä½¿ç”¨ï¼Œç»„æˆ ELKï¼ˆElasticsearchã€Logstashã€Kibanaï¼‰å †æ ˆï¼Œæ¥å®ç°ä»æ—¥å¿—é‡‡é›†ã€å¤„ç†åˆ°å¯è§†åŒ–å±•ç¤ºçš„ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å»å¯åŠ¨Elasticsearchçš„é›†ç¾¤æœåŠ¡ï¼Œéœ€è¦åœ¨ï¼š</p>
<ul>
<li>h121</li>
<li>h122</li>
<li>h123
ä¸Šè¿°èŠ‚ç‚¹åˆ†åˆ«å¯åŠ¨ Elasticsearch æœåŠ¡ï¼š</li>
</ul>
<pre><code class="hljs language-shell" lang="shell">su es_server
/opt/servers/elasticsearch-7.3.0/bin/elasticsearch -d
</code></pre>
<h2 data-id="heading-10">Kibana</h2>
<p>Kibana æ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®å¯è§†åŒ–å’Œæ¢ç´¢å·¥å…·ï¼Œä¸“é—¨ä¸º Elasticsearch è®¾è®¡ï¼Œç”¨æ¥å¸®åŠ©ç”¨æˆ·å¯¹å­˜å‚¨åœ¨ Elasticsearch ä¸­çš„æ•°æ®è¿›è¡Œå®æ—¶åˆ†æã€å¯è§†åŒ–å’Œç®¡ç†ã€‚å®ƒæä¾›äº†ä¸€ä¸ªå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ°åˆ›å»ºä¸åŒç±»å‹çš„å›¾è¡¨ã€ä»ªè¡¨ç›˜ã€ä»¥åŠæ•°æ®ç›‘æ§å·¥å…·ï¼Œå¿«é€Ÿè·å–å…³é”®ä¿¡æ¯ã€‚</p>
<p>æ ¸å¿ƒåŠŸèƒ½å’Œç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ•°æ®å¯è§†åŒ–ï¼šKibana æ”¯æŒåˆ›å»ºå¤šç§å›¾è¡¨ï¼ŒåŒ…æ‹¬æ¡å½¢å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾ã€åœ°ç†å›¾ç­‰ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æ‹–æ‹½ç•Œé¢å…ƒç´ ï¼Œå°†å¤æ‚çš„æ•°æ®è½¬æ¢ä¸ºå¯è¯»æ€§å¼ºçš„å¯è§†åŒ–å›¾è¡¨ã€‚</li>
<li>ä»ªè¡¨ç›˜ï¼šKibana å…è®¸ç”¨æˆ·å°†å¤šä¸ªå›¾è¡¨ã€åœ°å›¾ã€æœç´¢ç»“æœç»„åˆæˆä¸€ä¸ªç»Ÿä¸€çš„ä»ªè¡¨ç›˜ï¼Œä»¥ä¾¿å®æ—¶ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€æˆ–è€…è¿½è¸ªç‰¹å®šæŒ‡æ ‡ã€‚ä»ªè¡¨ç›˜å¯ä»¥è¿›è¡ŒåŠ¨æ€æ›´æ–°ï¼Œæ˜¾ç¤ºæœ€æ–°çš„æ•°æ®ã€‚</li>
<li>æ•°æ®æ¢ç´¢ï¼šç”¨æˆ·å¯ä»¥ä½¿ç”¨ Kibana çš„ Discover åŠŸèƒ½ï¼Œå¿«é€Ÿæœç´¢ã€è¿‡æ»¤å’Œæµè§ˆ Elasticsearch ä¸­çš„æ–‡æ¡£ã€‚é€šè¿‡ Kibana æä¾›çš„æŸ¥è¯¢è¯­è¨€ï¼ˆä¾‹å¦‚ Lucene æŸ¥è¯¢è¯­æ³•æˆ– Elasticsearch Query DSLï¼‰ï¼Œç”¨æˆ·å¯ä»¥çµæ´»åœ°ç­›é€‰æ‰€éœ€çš„æ•°æ®ã€‚</li>
<li>æ—¶é—´åºåˆ—åˆ†æï¼šKibana æä¾›äº†å¼ºå¤§çš„æ—¶é—´åºåˆ—æ•°æ®åˆ†æå·¥å…·ï¼ˆå¦‚ Timelion å’Œ TSVBï¼‰ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·åˆ†æå’Œå±•ç¤ºæŒ‰æ—¶é—´é¡ºåºæ’åˆ—çš„æ•°æ®ï¼Œé€‚ç”¨äºæ—¥å¿—åˆ†æå’Œç›‘æ§ç³»ç»Ÿæ€§èƒ½ã€‚</li>
<li>å®‰å…¨ä¸ç”¨æˆ·ç®¡ç†ï¼šåœ¨é›†æˆäº† Elasticsearch çš„ X-Pack å®‰å…¨æ¨¡å—åï¼ŒKibana å¯ä»¥å®ç°ç»†ç²’åº¦çš„æƒé™æ§åˆ¶å’Œç”¨æˆ·ç®¡ç†ã€‚ç”¨æˆ·å¯ä»¥å¯¹ä¸åŒçš„å›¢é˜Ÿæˆ–ç”¨æˆ·åˆ†é…ä¸åŒçš„è®¿é—®æƒé™ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ã€‚</li>
<li>æŠ¥è­¦ä¸é€šçŸ¥ï¼šKibana çš„ Alerting åŠŸèƒ½å…è®¸ç”¨æˆ·è®¾ç½®å‘Šè­¦è§„åˆ™ï¼Œå½“ç›‘æ§çš„æ•°æ®è¾¾åˆ°ç‰¹å®šé˜ˆå€¼æ—¶ï¼Œè‡ªåŠ¨è§¦å‘é€šçŸ¥ï¼ˆä¾‹å¦‚é€šè¿‡ç”µå­é‚®ä»¶æˆ– webhook å‘é€å‘Šè­¦ä¿¡æ¯ï¼‰ã€‚</li>
<li>äº¤äº’å¼åœ°å›¾ï¼šKibana æä¾›äº†åœ°ç†ç©ºé—´å¯è§†åŒ–åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥å°†åœ°ç†æ•°æ®ç»˜åˆ¶åœ¨äº¤äº’å¼åœ°å›¾ä¸Šï¼Œé€‚åˆè¿›è¡Œåœ°ç†ä¿¡æ¯ç³»ç»Ÿï¼ˆGISï¼‰ç›¸å…³çš„åˆ†æå’Œå±•ç¤ºã€‚</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦å¯åŠ¨KibanaæœåŠ¡ï¼Œè¿™é‡Œæˆ‘æ˜¯å¯åŠ¨äº† h122 èŠ‚ç‚¹ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">su es_server
cd /opt/servers/kibana-7.3.0-linux-x86_64
bin/kibana
</code></pre>
<h2 data-id="heading-11">é”™è¯¯é€ŸæŸ¥</h2>

































































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>nginx -s reload æŠ¥é”™æˆ–ä¸ç”Ÿæ•ˆ</td><td>é…ç½®è¯­æ³•é”™è¯¯/æ–‡ä»¶è·¯å¾„ä¸å¯¹</td><td>nginx -t çœ‹å…·ä½“è¡Œå·ï¼›å…ˆ nginx -t é€šè¿‡å† reloadï¼›ç¡®è®¤ç¼–è¾‘çš„æ˜¯å®é™…ç”Ÿæ•ˆçš„ nginx.conf/åŒ…å«æ–‡ä»¶</td></tr><tr><td>access.log ä¸æ˜¯ JSON æˆ–å­—æ®µç¼ºå¤±</td><td>log_format æœªè¢«å¼•ç”¨/access_log ä»æŒ‡å‘é»˜è®¤æ ¼å¼</td><td>æŸ¥ access_log æŒ‡å‘ä¸æ ¼å¼åï¼›çœ‹ç”Ÿæˆå†…å®¹ï¼›access_log  json; ä¸ log_format json '...' åç§°ä¸€è‡´ï¼›é¿å…å¼•å·/é€—å·æ‹¼æ¥é”™è¯¯</td></tr><tr><td>access_log logs/access.log æ‰¾ä¸åˆ°æˆ–æ— å†™å…¥</td><td>ç›¸å¯¹è·¯å¾„ä¸åœ¨é¢„æœŸç›®å½•/æƒé™ä¸è¶³</td><td>nginx -V çœ‹ prefixï¼›æ£€æŸ¥ç›®å½•æƒé™ï¼›æ”¹ä¸ºç»å¯¹è·¯å¾„ï¼ˆå¦‚ /var/log/nginx/access_json.logï¼‰ï¼›ç¡®ä¿ç›®å½•å¯å†™</td></tr><tr><td>8888 ç«¯å£è®¿é—®å¤±è´¥</td><td>server å—æœªè¢« include/è¢«é˜²ç«å¢™æ‹¦/ç›‘å¬å†²çª</td><td><code>ss -lntp | grep 8888</code>ã€æ£€æŸ¥ include</td></tr><tr><td>æ—¥å¿—é‡Œå¤§é‡ 304/0 bytes</td><td>æµè§ˆå™¨ç¼“å­˜å‘½ä¸­</td><td>å¯¹æ¯” status=304ã€body_bytes_sent=0å±æ­£å¸¸ï¼›å‹æµ‹æˆ– curl æ—¶åŠ ç¦ç¼“å­˜å‚æ•°ä»¥éªŒè¯å†™å…¥</td></tr><tr><td>/favicon.ico 404</td><td>é™æ€ç«™ç‚¹æœªæä¾›å›¾æ ‡</td><td>æ—¥å¿— request_uri=/favicon.icoå±æ­£å¸¸ï¼›éœ€è¦å¯è¡¥ favicon æ–‡ä»¶æˆ–å•ç‹¬ location å¤„ç†</td></tr><tr><td>zkServer.sh start å¤±è´¥</td><td>JAVA_HOME/æƒé™/æ•°æ®ç›®å½•é—®é¢˜</td><td>æŸ¥ zookeeper.out/æ—¥å¿—ï¼›è®¾ç½® JAVA_HOMEï¼›ç¡®ä¿ dataDir å¯å†™ï¼›ç»Ÿä¸€ myid ä¸é…ç½®</td></tr><tr><td>Kafka å¯åŠ¨å¤±è´¥æˆ–åå¤é‡å¯</td><td>ZK æœªå°±ç»ª/zookeeper.connect é”™/ç«¯å£ä¸é€š</td><td>Kafka æ—¥å¿—ã€telnet ZK ç«¯å£ï¼›å…ˆç¡®ä¿ ZK é›†ç¾¤å¥åº·ï¼›æ ¸å¯¹ connect å­—ç¬¦ä¸²ä¸ç½‘ç»œè¿é€š</td></tr><tr><td>ES å¯åŠ¨æŠ¥ bootstrap checks</td><td>å†…æ ¸å‚æ•°/å†…å­˜é”/æ–‡ä»¶å¥æŸ„ä¸è¶³</td><td>ES æ—¥å¿—æç¤ºé¡¹å¸¸è§ï¼šè®¾ç½® vm.max_map_countã€æå‡ ulimitã€é…ç½® heap ä¸æƒé™</td></tr><tr><td>Kibana è¿æ¥ä¸ä¸Š ES</td><td>ç‰ˆæœ¬ä¸åŒ¹é…/elasticsearch.hosts é…ç½®é”™/ES æœªèµ·æ¥</td><td>Kibana æ§åˆ¶å°æ—¥å¿—ã€è®¿é—® ES ç«¯å£ï¼›ä¿è¯ Kibana 7.3.0 å¯¹ ES 7.3.0ï¼›ä¿®æ­£ hostsï¼›å…ˆéªŒè¯ curl ES</td></tr><tr><td>åç»­è§£ææˆæœ¬é«˜ã€å­—æ®µæ¼‚ç§»</td><td>JSON å­—æ®µå‘½åéšæ„/ç±»å‹ä¸ç¨³å®šï¼ˆæ•°å­—å˜å­—ç¬¦ä¸²ï¼‰</td><td>å¯¹æ¯”å¤šæ¡æ—¥å¿—åŒå­—æ®µç±»å‹ï¼›å›ºå®šå­—æ®µé›†åˆä¸å‘½åï¼›æ•°å€¼å­—æ®µå°½é‡ä¿æŒæ•°å€¼è¯­ä¹‰ï¼ˆå¦‚ request_time/body_bytes_sentï¼‰</td></tr></tbody></table>
<h2 data-id="heading-12">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-13">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-14">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-196 æ¶ˆæ¯é˜Ÿåˆ—é€‰å‹ï¼šRabbitMQ vs RocketMQ vs Kafka</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-15">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python å®ç° PDF æ–‡æ¡£å‹ç¼©ï¼šå®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7585377403632779310</link>    <guid>https://juejin.cn/post/7585377403632779310</guid>    <pubDate>2025-12-19T10:39:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377403632779310" data-draft-id="7585180775706181659" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python å®ç° PDF æ–‡æ¡£å‹ç¼©ï¼šå®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-19T10:39:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·372157426135"/> <meta itemprop="url" content="https://juejin.cn/user/1250599264325244"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python å®ç° PDF æ–‡æ¡£å‹ç¼©ï¼šå®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1250599264325244/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·372157426135
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:39:09.000Z" title="Fri Dec 19 2025 10:39:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸åŠå…¬ã€ç”µå­æ¡£æ¡ˆç®¡ç†å’Œæ–‡æ¡£ä¼ è¾“ä¸­ï¼ŒPDF æ–‡ä»¶å› å…¶æ ¼å¼å›ºå®šã€å…¼å®¹æ€§å¼ºè€Œè¢«å¹¿æ³›ä½¿ç”¨ã€‚ç„¶è€Œï¼Œéšç€æ–‡æ¡£å†…å®¹ä¸°å¯Œã€å›¾ç‰‡å’Œå›¾è¡¨å¢å¤šï¼ŒPDF æ–‡ä»¶ä½“ç§¯å¾€å¾€ä¼šå˜å¾—å¾ˆå¤§ï¼Œå¯¼è‡´ä¸Šä¼ ã€åˆ†äº«å’Œå­˜å‚¨æ•ˆç‡é™ä½ã€‚å¦‚ä½•åœ¨ä¿è¯æ–‡æ¡£å¯è¯»æ€§çš„å‰æä¸‹å‡å° PDF æ–‡ä»¶å¤§å°ï¼Œæˆä¸ºå®é™…åº”ç”¨ä¸­å¸¸è§çš„é—®é¢˜ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ <strong>Python</strong> å¯¹ PDF æ–‡æ¡£è¿›è¡Œå‹ç¼©ï¼Œå¸®åŠ©å¼€å‘è€…é«˜æ•ˆå¤„ç† PDF æ–‡ä»¶ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦å‹ç¼© PDF</h2>
<ul>
<li><strong>èŠ‚çœå­˜å‚¨ç©ºé—´</strong>ï¼šå¤§å‹ PDF æ–‡ä»¶å ç”¨å¤§é‡ç£ç›˜ç©ºé—´ï¼Œå°¤å…¶åœ¨ä¼ä¸šæ–‡æ¡£ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå­˜å‚¨æˆæœ¬æ˜æ˜¾å¢åŠ ã€‚</li>
<li><strong>æé«˜ä¼ è¾“æ•ˆç‡</strong>ï¼šé‚®ä»¶æˆ–åœ¨çº¿ä¼ è¾“å¤§æ–‡ä»¶å®¹æ˜“å¤±è´¥ï¼Œå‹ç¼© PDF å¯åŠ å¿«ä¸Šä¼ å’Œä¸‹è½½é€Ÿåº¦ã€‚</li>
<li><strong>æå‡ç”¨æˆ·ä½“éªŒ</strong>ï¼šç”¨æˆ·åœ¨æ‰“å¼€å¤§æ–‡ä»¶æ—¶å¯èƒ½å‡ºç°å¡é¡¿ï¼Œå‹ç¼©åçš„ PDF æ›´æ˜“äºé˜…è¯»å’Œæµè§ˆã€‚</li>
<li><strong>æ»¡è¶³ç³»ç»Ÿé™åˆ¶</strong>ï¼šæŸäº›ç½‘ç«™æˆ–ç³»ç»Ÿå¯¹ä¸Šä¼ æ–‡ä»¶å¤§å°æœ‰é™åˆ¶ï¼Œå‹ç¼© PDF æ˜¯å¿…è¦æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-1">äºŒã€å®‰è£…ä¸ç¯å¢ƒå‡†å¤‡</h2>
<p>åœ¨ä½¿ç”¨ Python å¯¹ PDF æ–‡æ¡£è¿›è¡Œå‹ç¼©ä¹‹å‰ï¼Œéœ€è¦å‡†å¤‡ç›¸åº”çš„ PDF å¤„ç†å·¥å…·åº“ã€‚æœ¬æ–‡æ‰€ä½¿ç”¨çš„æ˜¯Spire.PDF for Pythonï¼Œè¯¥ç±»åº“å¯ä»¥å¸®åŠ©å¼€å‘è€…ç›´æ¥å¯¹ PDF ä¸­çš„æ–‡æœ¬ã€å›¾ç‰‡å’Œå­—ä½“è¿›è¡Œæ“ä½œï¼Œæ— éœ€ä¾èµ–ç¬¬ä¸‰æ–¹è½¯ä»¶å³å¯å®ç°æ–‡ä»¶å‹ç¼©ã€ä¼˜åŒ–å’Œä¿å­˜ã€‚</p>
<p>å®‰è£…æ–¹å¼å¾ˆç®€å•ï¼Œå¯ä»¥é€šè¿‡ Python çš„åŒ…ç®¡ç†å·¥å…· pip å¿«é€Ÿå®Œæˆï¼š</p>
<pre><code class="hljs">pip install spire.pdf
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œå³å¯åœ¨ä»£ç ä¸­å¯¼å…¥ spire.pdf æ¨¡å—ï¼Œè¿›è¡Œ PDF å‹ç¼©ã€åˆå¹¶ã€æ‹†åˆ†ã€åŠ å¯†ç­‰æ“ä½œã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€å•æ–‡ä»¶å‹ç¼©ç¤ºä¾‹</h2>
<p>ä¸‹é¢ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•åŠ è½½å•ä¸ª PDF æ–‡ä»¶ï¼Œå¹¶è®¾ç½®å›¾åƒå‹ç¼©å’Œè´¨é‡å‚æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.pdf <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># åŠ è½½ PDF æ–‡ä»¶</span>
compressor = PdfCompressor(<span class="hljs-string">"C:/Users/Administrator/Documents/ç¤ºä¾‹.pdf"</span>)

<span class="hljs-comment"># è·å–å‹ç¼©è®¾ç½®</span>
options = compressor.OptimizationOptions

<span class="hljs-comment"># å¯ç”¨å›¾ç‰‡ç¼©æ”¾</span>
options.SetResizeImages(<span class="hljs-literal">True</span>)

<span class="hljs-comment"># å¯ç”¨å›¾ç‰‡å‹ç¼©</span>
options.SetIsCompressImage(<span class="hljs-literal">True</span>)

<span class="hljs-comment"># è®¾ç½®å›¾ç‰‡å‹ç¼©è´¨é‡ï¼ˆä½/ä¸­/é«˜ï¼‰</span>
options.SetImageQuality(ImageQuality.Medium)

<span class="hljs-comment"># æ‰§è¡Œå‹ç¼©å¹¶ä¿å­˜</span>
compressor.CompressToFile(<span class="hljs-string">"å‹ç¼©.pdf"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"PDF å‹ç¼©å®Œæˆï¼Œæ–‡ä»¶å·²ä¿å­˜ä¸º å‹ç¼©.pdf"</span>)
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>SetResizeImages(True)ï¼šå¯ç”¨å¯¹ PDF å†…åµŒå›¾ç‰‡è¿›è¡Œç¼©æ”¾ï¼Œå‡å°‘å°ºå¯¸</li>
<li>SetIsCompressImage(True)ï¼šå¯ç”¨å›¾ç‰‡å‹ç¼©</li>
<li>SetImageQuality(ImageQuality.Medium)ï¼šè®¾ç½®å‹ç¼©è´¨é‡ï¼ŒLowã€Mediumã€Highå¯é€‰</li>
<li>CompressToFileï¼šæ‰§è¡Œå‹ç¼©å¹¶ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„</li>
</ul>
<h2 data-id="heading-3">å››ã€å‹ç¼©å­—ä½“ç¤ºä¾‹</h2>
<p>åœ¨æŸäº› PDF ä¸­ï¼ŒåµŒå…¥å­—ä½“å¯èƒ½å ç”¨å¤§é‡ç©ºé—´ã€‚å‹ç¼©æˆ–å–æ¶ˆåµŒå…¥å­—ä½“å¯ä»¥æ˜¾è‘—å‡å°‘æ–‡ä»¶çš„å¤§å°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.pdf <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># åŠ è½½ PDF æ–‡ä»¶</span>
compressor = PdfCompressor(<span class="hljs-string">"C:/Users/Administrator/Documents/ç¤ºä¾‹.pdf"</span>)

<span class="hljs-comment"># è·å–å‹ç¼©è®¾ç½®</span>
options = compressor.OptimizationOptions

<span class="hljs-comment"># å¯ç”¨å­—ä½“å‹ç¼©</span>
options.SetIsCompressFonts(<span class="hljs-literal">True</span>)

<span class="hljs-comment"># å¯é€‰ï¼šå–æ¶ˆåµŒå…¥å­—ä½“</span>
<span class="hljs-comment"># options.SetIsUnembedFonts(True)</span>

<span class="hljs-comment"># æ‰§è¡Œå‹ç¼©å¹¶ä¿å­˜</span>
compressor.CompressToFile(<span class="hljs-string">"å‹ç¼©_fonts.pdf"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"PDF å­—ä½“å‹ç¼©å®Œæˆ"</span>)
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>å¯ç”¨å­—ä½“å‹ç¼©å¯å‡å°‘å­—ä½“å ç”¨ç©ºé—´</li>
<li>å–æ¶ˆåµŒå…¥å­—ä½“å¯è¿›ä¸€æ­¥å‹ç¼©ï¼Œä½†å¯èƒ½å½±å“ PDF åœ¨å…¶ä»–ç³»ç»Ÿä¸Šçš„æ˜¾ç¤ºæ•ˆæœ</li>
</ul>
<h2 data-id="heading-4">äº”ã€æ‰¹é‡å‹ç¼© PDF ç¤ºä¾‹</h2>
<p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œå¯èƒ½éœ€è¦å‹ç¼©ä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰ PDF æ–‡ä»¶ï¼Œå¯ä»¥ç»“åˆ Python çš„ os æ¨¡å—å®ç°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import os
from spire.pdf import *

<span class="hljs-attr">input_folder</span> = <span class="hljs-string">"C:/Users/Administrator/Documents/PDFs"</span>
<span class="hljs-attr">output_folder</span> = <span class="hljs-string">"C:/Users/Administrator/Documents/CompressedPDFs"</span>

os.makedirs(output_folder, <span class="hljs-attr">exist_ok</span>=<span class="hljs-literal">True</span>)

for filename in os.listdir(input_folder):
    if filename.endswith(".pdf"):
        <span class="hljs-attr">input_path</span> = os.path.join(input_folder, filename)
        <span class="hljs-attr">output_path</span> = os.path.join(output_folder, filename)

        <span class="hljs-attr">compressor</span> = PdfCompressor(input_path)
        <span class="hljs-attr">options</span> = compressor.OptimizationOptions
        options.SetResizeImages(True)
        options.SetIsCompressImage(True)
        options.SetImageQuality(ImageQuality.Medium)
        options.SetIsCompressFonts(True)

        compressor.CompressToFile(output_path)
        print(f"{filename} å·²å‹ç¼©å®Œæˆ")
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨éå†æ–‡ä»¶å¤¹å†…æ‰€æœ‰ PDF æ–‡ä»¶</li>
<li>å¯ç»Ÿä¸€è®¾ç½®å›¾åƒå‹ç¼©å’Œå­—ä½“å‹ç¼©å‚æ•°</li>
<li>è¾“å‡ºè·¯å¾„å¯è‡ªå®šä¹‰ï¼Œä¾¿äºç®¡ç†</li>
<li>å¯¹å¤§é‡æ–‡ä»¶ï¼Œå¯ç»“åˆå¤šçº¿ç¨‹æé«˜æ•ˆç‡</li>
</ul>
<h2 data-id="heading-5">å…­ã€å‹ç¼©æ³¨æ„äº‹é¡¹</h2>
<ul>
<li><strong>å‹ç¼©ä¸æ¸…æ™°åº¦</strong>ï¼šè¿‡åº¦å‹ç¼©å›¾åƒå¯èƒ½é™ä½é˜…è¯»ä½“éªŒï¼Œåº”æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚è´¨é‡ã€‚</li>
<li><strong>å­—ä½“åµŒå…¥</strong>ï¼šå–æ¶ˆåµŒå…¥å­—ä½“å¯ä»¥å‡å°æ–‡ä»¶ï¼Œä½†å¯èƒ½å¯¼è‡´åœ¨å…¶ä»–ç³»ç»Ÿæ˜¾ç¤ºå¼‚å¸¸ã€‚</li>
<li><strong>å¤‡ä»½åŸå§‹æ–‡ä»¶</strong>ï¼šåœ¨æ‰¹é‡å‹ç¼©å‰ï¼Œå»ºè®®ä¿ç•™åŸå§‹æ–‡ä»¶ä»¥é˜²å‹ç¼©æ•ˆæœä¸ç†æƒ³ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šæ‰¹é‡å¤„ç†å¤§é‡æ–‡ä»¶æ—¶ï¼Œå¯ä½¿ç”¨å¤šçº¿ç¨‹æˆ–åˆ†æ‰¹å¤„ç†ï¼Œå‡å°‘é˜»å¡ã€‚</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šç¡®ä¿ PDF æ–‡ä»¶ä¸æ˜¯åŠ å¯†æˆ–å—ä¿æŠ¤çš„ï¼Œå¦åˆ™å‹ç¼©å¯èƒ½å¤±è´¥ã€‚</li>
</ul>
<h2 data-id="heading-6">ä¸ƒã€æ€»ç»“</h2>
<p>ä½¿ç”¨ Pythonï¼Œå¼€å‘è€…å¯ä»¥é«˜æ•ˆå®ç° PDF æ–‡ä»¶å‹ç¼©ï¼Œæ— éœ€ä¾èµ–å…¶ä»–å·¥å…·æˆ–è½¯ä»¶ã€‚æ— è®ºæ˜¯å•ä¸ªæ–‡ä»¶è¿˜æ˜¯æ‰¹é‡å¤„ç†ï¼Œéƒ½å¯ä»¥é€šè¿‡ç®€å•å‡ è¡Œä»£ç å®Œæˆã€‚æŒæ¡è¿™äº›æ–¹æ³•åï¼Œå¯ä»¥å¤§å¹…å‡å°‘ PDF æ–‡ä»¶ä½“ç§¯ï¼Œæé«˜æ–‡ä»¶ä¼ è¾“ã€å­˜å‚¨å’Œæµè§ˆæ•ˆç‡ï¼Œæ˜¯æ–‡æ¡£ç®¡ç†å’ŒåŠå…¬è‡ªåŠ¨åŒ–ä¸­éå¸¸å®ç”¨çš„æŠ€æœ¯æ‰‹æ®µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šåˆ«å†å†™æ»¡å±çš„if-elseäº†ï¼Spring Boot + ç­–ç•¥æ¨¡å¼å®æˆ˜ä¼˜åŒ–ã€‹]]></title>    <link>https://juejin.cn/post/7585377403632795694</link>    <guid>https://juejin.cn/post/7585377403632795694</guid>    <pubDate>2025-12-19T10:41:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377403632795694" data-draft-id="7585406229167390770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šåˆ«å†å†™æ»¡å±çš„if-elseäº†ï¼Spring Boot + ç­–ç•¥æ¨¡å¼å®æˆ˜ä¼˜åŒ–ã€‹"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-19T10:41:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼ å·¥æ‘†Bug"/> <meta itemprop="url" content="https://juejin.cn/user/960304533736219"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šåˆ«å†å†™æ»¡å±çš„if-elseäº†ï¼Spring Boot + ç­–ç•¥æ¨¡å¼å®æˆ˜ä¼˜åŒ–ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/960304533736219/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼ å·¥æ‘†Bug
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:41:35.000Z" title="Fri Dec 19 2025 10:41:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€Šåˆ«å†å†™æ»¡å±çš„if-elseäº†ï¼Spring Boot + ç­–ç•¥æ¨¡å¼å®æˆ˜ä¼˜åŒ–ã€‹</h2>
<p>å“ˆå–½ï¼Œå°ä¼™ä¼´ä»¬ï¼ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠä¸€ä¸ªè®©å¾ˆå¤šç¨‹åºå‘˜å¤´ç–¼çš„é—®é¢˜â€”â€”æ»¡å±å¹•çš„if-elseè¯­å¥ã€‚ç›¸ä¿¡å¤§å®¶éƒ½è§è¿‡é‚£ç§ä¸€ä¸ªæ–¹æ³•é‡ŒåµŒå¥—äº†åå‡ å±‚if-elseçš„ä»£ç å§ï¼Ÿä¸ä»…éš¾ç»´æŠ¤ï¼Œæ–°åŠ ä¸€ä¸ªæ¡ä»¶è¿˜å¾—å°å¿ƒç¿¼ç¿¼ã€‚ä»Šå¤©æˆ‘å°±ç»™å¤§å®¶å¸¦æ¥ä¸€ä¸ªè¶…å®ç”¨çš„è§£å†³æ–¹æ¡ˆï¼šSpring Boot + ç­–ç•¥æ¨¡å¼å®æˆ˜ä¼˜åŒ–ï¼</p>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜åœºæ™¯ï¼šæ”¯ä»˜ä¸šåŠ¡ä¸­çš„if-elseåœ°ç‹±</h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸ªç”µå•†ç³»ç»Ÿï¼Œéœ€è¦æ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼ï¼šæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€é“¶è”æ”¯ä»˜ã€‚å¾ˆå¤šåŒå­¦å¯èƒ½ä¼šè¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">@Service
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PaymentService</span> {
 Â  Â 
 Â  Â <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">pay</span>(<span class="hljs-params">String payType, BigDecimal amount</span>)</span> {
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-string">"alipay"</span>.<span class="hljs-keyword">equals</span>(payType)) {
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ”¯ä»˜å®æ”¯ä»˜</span>
 Â  Â  Â  Â  Â  Â System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜ï¼š"</span> + amount);
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"æ”¯ä»˜å®æ”¯ä»˜æˆåŠŸ"</span>;
 Â  Â  Â   } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"wechat"</span>.<span class="hljs-keyword">equals</span>(payType)) {
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¾®ä¿¡æ”¯ä»˜</span>
 Â  Â  Â  Â  Â  Â System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ï¼š"</span> + amount);
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"å¾®ä¿¡æ”¯ä»˜æˆåŠŸ"</span>;
 Â  Â  Â   } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"unionpay"</span>.<span class="hljs-keyword">equals</span>(payType)) {
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// é“¶è”æ”¯ä»˜</span>
 Â  Â  Â  Â  Â  Â System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ä½¿ç”¨é“¶è”æ”¯ä»˜ï¼š"</span> + amount);
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"é“¶è”æ”¯ä»˜æˆåŠŸ"</span>;
 Â  Â  Â   } <span class="hljs-keyword">else</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"æ”¯ä»˜æ–¹å¼é”™è¯¯"</span>);
 Â  Â  Â   }
 Â   }
}
</code></pre>
<p>çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Ÿå¦‚æœå†åŠ ä¸ªâ€œäº‘é—ªä»˜â€ã€â€œæ•°å­—è´§å¸æ”¯ä»˜â€ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ï¼</p>
<h3 data-id="heading-2">äºŒã€ç­–ç•¥æ¨¡å¼ç™»åœºï¼šä¼˜é›…è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-3">2.1 ä»€ä¹ˆæ˜¯ç­–ç•¥æ¨¡å¼ï¼Ÿ</h4>
<p>ç®€å•è¯´ï¼Œç­–ç•¥æ¨¡å¼å°±æ˜¯å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬å°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚è¿™æ ·ï¼Œç®—æ³•çš„å˜åŒ–å°±ä¸ä¼šå½±å“åˆ°ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ç«¯ã€‚</p>
<h4 data-id="heading-4">2.2 ä¸‰æ­¥æ”¹é€ æ³•</h4>
<h5 data-id="heading-5">ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ç­–ç•¥æ¥å£</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> interface PaymentStrategy {
 Â  Â <span class="hljs-comment">/**
 Â  Â  * æ”¯ä»˜ç±»å‹
 Â  Â  */</span>
 Â  Â <span class="hljs-function"><span class="hljs-type">String</span> <span class="hljs-title">getType</span><span class="hljs-params">()</span></span>;
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * æ”¯ä»˜æ–¹æ³•
 Â  Â  */</span>
 Â  Â <span class="hljs-function"><span class="hljs-type">String</span> <span class="hljs-title">pay</span><span class="hljs-params">(BigDecimal amount)</span></span>;
}
</code></pre>
<h5 data-id="heading-6">ç¬¬äºŒæ­¥ï¼šå®ç°å…·ä½“ç­–ç•¥</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AlipayStrategy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentStrategy</span> {
 Â  Â 
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getType</span>(<span class="hljs-params"/>) {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"alipay"</span>;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">BigDecimal amount</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// è¿™é‡Œå†™çœŸå®çš„æ”¯ä»˜å®æ”¯ä»˜é€»è¾‘</span>
 Â  Â  Â  Â <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ‰§è¡Œæ”¯ä»˜å®æ”¯ä»˜ï¼Œé‡‘é¢ï¼š"</span> + amount);
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"æ”¯ä»˜å®æ”¯ä»˜æˆåŠŸï¼Œé‡‘é¢ï¼š"</span> + amount;
 Â   }
}
â€‹
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WechatPayStrategy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentStrategy</span> {
 Â  Â 
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getType</span>(<span class="hljs-params"/>) {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"wechat"</span>;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">BigDecimal amount</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// å¾®ä¿¡æ”¯ä»˜é€»è¾‘</span>
 Â  Â  Â  Â <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ‰§è¡Œå¾®ä¿¡æ”¯ä»˜ï¼Œé‡‘é¢ï¼š"</span> + amount);
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"å¾®ä¿¡æ”¯ä»˜æˆåŠŸï¼Œé‡‘é¢ï¼š"</span> + amount;
 Â   }
}
â€‹
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UnionPayStrategy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentStrategy</span> {
 Â  Â 
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getType</span>(<span class="hljs-params"/>) {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"unionpay"</span>;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-meta">@Override</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">BigDecimal amount</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// é“¶è”æ”¯ä»˜é€»è¾‘</span>
 Â  Â  Â  Â <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ‰§è¡Œé“¶è”æ”¯ä»˜ï¼Œé‡‘é¢ï¼š"</span> + amount);
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"é“¶è”æ”¯ä»˜æˆåŠŸï¼Œé‡‘é¢ï¼š"</span> + amount;
 Â   }
}
</code></pre>
<h5 data-id="heading-7">ç¬¬ä¸‰æ­¥ï¼šç­–ç•¥å·¥å‚ç±»</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentStrategyFactory</span> {
 Â  Â 
 Â  Â <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">PaymentStrategy</span>&gt; strategyMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * æ³¨å…¥æ‰€æœ‰PaymentStrategyå®ç°
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentStrategyFactory</span>(<span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">PaymentStrategy</span>&gt; strategies) {
 Â  Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-title class_">PaymentStrategy</span> strategy : strategies) {
 Â  Â  Â  Â  Â  Â strategyMap.<span class="hljs-title function_">put</span>(strategy.<span class="hljs-title function_">getType</span>(), strategy);
 Â  Â  Â   }
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * è·å–æ”¯ä»˜ç­–ç•¥
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentStrategy</span> <span class="hljs-title function_">getStrategy</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> <span class="hljs-keyword">type</span></span>) {
 Â  Â  Â  Â <span class="hljs-title class_">PaymentStrategy</span> strategy = strategyMap.<span class="hljs-title function_">get</span>(<span class="hljs-keyword">type</span>);
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (strategy == <span class="hljs-literal">null</span>) {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æœªæ‰¾åˆ°å¯¹åº”çš„æ”¯ä»˜ç­–ç•¥ï¼š"</span> + <span class="hljs-keyword">type</span>);
 Â  Â  Â   }
 Â  Â  Â  Â <span class="hljs-keyword">return</span> strategy;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * è·å–æ‰€æœ‰æ”¯æŒçš„æ”¯ä»˜æ–¹å¼
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">String</span>&gt; <span class="hljs-title function_">getSupportTypes</span>(<span class="hljs-params"/>) {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> strategyMap.<span class="hljs-title function_">keySet</span>();
 Â   }
}
</code></pre>
<h3 data-id="heading-8">ä¸‰ã€ä½¿ç”¨å§¿åŠ¿ï¼šç®€æ´ä¼˜é›…çš„è°ƒç”¨</h3>
<h4 data-id="heading-9">3.1 æ”¹é€ åçš„Service</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentService</span> {
 Â  Â 
 Â  Â <span class="hljs-keyword">private</span> final <span class="hljs-title class_">PaymentStrategyFactory</span> strategyFactory;
 Â  Â 
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentService</span>(<span class="hljs-title class_">PaymentStrategyFactory</span> strategyFactory) {
 Â  Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">strategyFactory</span> = strategyFactory;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> payType, BigDecimal amount</span>) {
 Â  Â  Â  Â <span class="hljs-title class_">PaymentStrategy</span> strategy = strategyFactory.<span class="hljs-title function_">getStrategy</span>(payType);
 Â  Â  Â  Â <span class="hljs-keyword">return</span> strategy.<span class="hljs-title function_">pay</span>(amount);
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * è·å–æ”¯æŒçš„æ”¯ä»˜æ–¹å¼
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">String</span>&gt; <span class="hljs-title function_">getSupportPayTypes</span>(<span class="hljs-params"/>) {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> strategyFactory.<span class="hljs-title function_">getSupportTypes</span>();
 Â   }
}
</code></pre>
<h4 data-id="heading-10">3.2 Controllerå±‚ç¤ºä¾‹</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api/payment"</span>)
public class PaymentController {
 Â  Â 
 Â  Â <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">PaymentService</span> <span class="hljs-selector-tag">paymentService</span>;
 Â  Â 
 Â  Â <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">PaymentController</span>(PaymentService paymentService) {
 Â  Â  Â  Â <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.paymentService</span> = <span class="hljs-selector-tag">paymentService</span>;
 Â   }
 Â  Â 
 Â  Â @<span class="hljs-selector-tag">PostMapping</span>(<span class="hljs-string">"/pay"</span>)
 Â  Â <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseEntity</span>&lt;?&gt; <span class="hljs-selector-tag">pay</span>(<span class="hljs-variable">@RequestParam</span> String payType, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-variable">@RequestParam</span> BigDecimal amount) {
 Â  Â  Â  Â <span class="hljs-selector-tag">try</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">result</span> = <span class="hljs-selector-tag">paymentService</span><span class="hljs-selector-class">.pay</span>(payType, amount);
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseEntity</span><span class="hljs-selector-class">.ok</span>(result);
 Â  Â  Â   } <span class="hljs-selector-tag">catch</span> (Exception e) {
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseEntity</span><span class="hljs-selector-class">.badRequest</span>()<span class="hljs-selector-class">.body</span>(e.<span class="hljs-built_in">getMessage</span>());
 Â  Â  Â   }
 Â   }
 Â  Â 
 Â  Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/support-types"</span>)
 Â  Â <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseEntity</span>&lt;?&gt; <span class="hljs-selector-tag">getSupportTypes</span>() {
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseEntity</span><span class="hljs-selector-class">.ok</span>(paymentService.<span class="hljs-built_in">getSupportPayTypes</span>());
 Â   }
}
</code></pre>
<h3 data-id="heading-11">å››ã€è¿›é˜¶ç©æ³•ï¼šæ³¨è§£ + ç­–ç•¥æ¨¡å¼</h3>
<p>å¦‚æœä½ æƒ³è¦æ›´ä¼˜é›…ï¼Œå¯ä»¥è¯•è¯•æ³¨è§£æ–¹å¼ï¼š</p>
<h4 data-id="heading-12">4.1 å®šä¹‰æ”¯ä»˜ç±»å‹æ³¨è§£</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Target</span>(ElementType.TYPE)
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-variable">@Component</span>
public <span class="hljs-variable">@interface</span> PayType {
 Â  Â <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">value</span>();
}
</code></pre>
<h4 data-id="heading-13">4.2 æ”¹é€ ç­–ç•¥å®ç°</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@PayType</span>(<span class="hljs-string">"alipay"</span>)
public class AlipayStrategy implements PaymentStrategy {
 Â  Â <span class="hljs-comment">// çœç•¥å…·ä½“å®ç°</span>
}
â€‹
<span class="hljs-variable">@PayType</span>(<span class="hljs-string">"wechat"</span>)
public class WechatPayStrategy implements PaymentStrategy {
 Â  Â <span class="hljs-comment">// çœç•¥å…·ä½“å®ç°</span>
}
</code></pre>
<h4 data-id="heading-14">4.3 æ”¹é€ å·¥å‚ç±»</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentStrategyFactoryV2</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, PaymentStrategy&gt; strategyMap = new ConcurrentHashMap&lt;&gt;();
    
    <span class="hljs-comment">/**
     * ä½¿ç”¨ApplicationContextè·å–æ‰€æœ‰å¸¦PayTypeæ³¨è§£çš„Bean
     */</span>
    <span class="hljs-keyword">public</span> PaymentStrategyFactoryV2(ApplicationContext applicationContext) {
        Map&lt;String, Object&gt; beans = applicationContext.getBeansWithAnnotation(PayType.<span class="hljs-keyword">class</span>);
        
        beans.forEach((beanName, bean) -&gt; {
            PayType <span class="hljs-keyword">annotation</span> = applicationContext.findAnnotationOnBean(beanName, PayType.<span class="hljs-keyword">class</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">annotation</span> != <span class="hljs-literal">null</span> &amp;&amp; bean instanceof PaymentStrategy) {
                strategyMap.put(<span class="hljs-keyword">annotation</span>.value(), (PaymentStrategy) bean);
            }
        });
    }
    
    <span class="hljs-comment">// å…¶ä»–æ–¹æ³•ä¿æŒä¸å˜</span>
}
</code></pre>
<h3 data-id="heading-15">äº”ã€æµ‹è¯•éªŒè¯</h3>
<p>åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»éªŒè¯ä¸€ä¸‹ï¼š</p>
<p>java</p>
<pre><code class="hljs language-csharp" lang="csharp">@SpringBootTest
<span class="hljs-keyword">class</span> <span class="hljs-title">PaymentStrategyTest</span> {
    
    @Autowired
    <span class="hljs-keyword">private</span> PaymentService paymentService;
    
    @Test
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testPay</span>()</span> {
        BigDecimal amount = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"100.50"</span>);
        
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ”¯æŒçš„æ”¯ä»˜æ–¹å¼ï¼š"</span> + paymentService.getSupportPayTypes());
        
        String result = paymentService.pay(<span class="hljs-string">"alipay"</span>, amount);
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ”¯ä»˜ç»“æœï¼š"</span> + result);
        
        result = paymentService.pay(<span class="hljs-string">"wechat"</span>, amount);
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ”¯ä»˜ç»“æœï¼š"</span> + result);
        
        <span class="hljs-comment">// æµ‹è¯•ä¸å­˜åœ¨çš„æ”¯ä»˜æ–¹å¼</span>
        assertThrows(RuntimeException.<span class="hljs-keyword">class</span>, () -&gt; {
            paymentService.pay(<span class="hljs-string">"unknown"</span>, amount);
        });
    }
}
</code></pre>
<h3 data-id="heading-16">å…­ã€å®é™…åº”ç”¨æ‰©å±•</h3>
<h4 data-id="heading-17">6.1 ç»“åˆé…ç½®æ–‡ä»¶åŠ¨æ€å¯ç”¨ç­–ç•¥</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># application.yml</span>
payment:
  enabled-strategies:
<span class="hljs-bullet">    -</span> alipay
<span class="hljs-bullet">    -</span> wechat
<span class="hljs-bullet">    -</span> unionpay
</code></pre>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicPaymentStrategyFactory</span> {
    
    <span class="hljs-meta">@Value</span>(<span class="hljs-string">"${payment.enabled-strategies}"</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt; enabledStrategies;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">PaymentStrategy</span>&gt; strategyMap <span class="hljs-operator">=</span> new <span class="hljs-type">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">DynamicPaymentStrategyFactory</span>(<span class="hljs-type">List</span>&lt;<span class="hljs-type">PaymentStrategy</span>&gt; strategies) {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">PaymentStrategy</span> strategy : strategies) {
            <span class="hljs-keyword">if</span> (enabledStrategies.contains(strategy.getType())) {
                strategyMap.put(strategy.getType(), strategy);
            }
        }
    }
    
    <span class="hljs-comment">// å…¶ä»–æ–¹æ³•...</span>
}
</code></pre>
<h4 data-id="heading-18">6.2 ç­–ç•¥æ¨¡å¼+æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»„åˆ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractPaymentStrategy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentStrategy</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">BigDecimal amount</span>) {
        <span class="hljs-comment">// 1. å‚æ•°éªŒè¯</span>
        <span class="hljs-title function_">validate</span>(amount);
        
        <span class="hljs-comment">// 2. æ‰§è¡Œæ”¯ä»˜</span>
        <span class="hljs-title class_">String</span> transactionId = <span class="hljs-title function_">doPay</span>(amount);
        
        <span class="hljs-comment">// 3. è®°å½•æ—¥å¿—</span>
        <span class="hljs-title function_">logPayment</span>(transactionId, amount);
        
        <span class="hljs-comment">// 4. è¿”å›ç»“æœ</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">buildResult</span>(transactionId, amount);
    }
    
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">doPay</span>(<span class="hljs-title class_">BigDecimal</span> amount);
    
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">validate</span>(<span class="hljs-params">BigDecimal amount</span>) {
        <span class="hljs-keyword">if</span> (amount.<span class="hljs-title function_">compareTo</span>(<span class="hljs-title class_">BigDecimal</span>.<span class="hljs-property">ZERO</span>) &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ”¯ä»˜é‡‘é¢å¿…é¡»å¤§äº0"</span>);
        }
    }
    
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">logPayment</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> transactionId, BigDecimal amount</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ”¯ä»˜æµæ°´å·ï¼š"</span> + transactionId + <span class="hljs-string">"ï¼Œé‡‘é¢ï¼š"</span> + amount);
    }
    
    <span class="hljs-keyword">protected</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">buildResult</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> transactionId, BigDecimal amount</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">getType</span>() + <span class="hljs-string">"æ”¯ä»˜æˆåŠŸï¼Œæµæ°´å·ï¼š"</span> + transactionId + <span class="hljs-string">"ï¼Œé‡‘é¢ï¼š"</span> + amount;
    }
}
</code></pre>
<h3 data-id="heading-19">æ€»ç»“</h3>
<h4 data-id="heading-20">ä¼˜ç‚¹æ€»ç»“ï¼š</h4>
<ol start="0">
<li><strong>å¼€é—­åŸåˆ™</strong>ï¼šæ–°å¢æ”¯ä»˜æ–¹å¼åªéœ€æ·»åŠ æ–°ç­–ç•¥ç±»ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç </li>
<li><strong>å¯è¯»æ€§</strong>ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼ŒèŒè´£åˆ†æ˜</li>
<li><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šæ¯ä¸ªæ”¯ä»˜é€»è¾‘ç‹¬ç«‹ï¼Œæ–¹ä¾¿æµ‹è¯•å’Œä¿®æ”¹</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šè½»æ¾æ”¯æŒåŠ¨æ€é…ç½®ã€çƒ­æ›´æ–°ç­‰é«˜çº§åŠŸèƒ½</li>
</ol>
<h4 data-id="heading-21">ä½¿ç”¨åœºæ™¯ï¼š</h4>
<ul>
<li>å¤šç§ç›¸ä¼¼ç®—æ³•æˆ–ä¸šåŠ¡é€»è¾‘éœ€è¦åˆ‡æ¢</li>
<li>å­˜åœ¨å¤§é‡çš„æ¡ä»¶åˆ¤æ–­è¯­å¥</li>
<li>ç³»ç»Ÿéœ€è¦åŠ¨æ€é€‰æ‹©ä¸åŒç®—æ³•</li>
<li>å¸Œæœ›é¿å…ä½¿ç”¨å¤šé‡æ¡ä»¶è½¬ç§»è¯­å¥</li>
</ul>
<h4 data-id="heading-22">æ³¨æ„äº‹é¡¹ï¼š</h4>
<ol start="0">
<li><strong>ç­–ç•¥æ•°é‡æ§åˆ¶</strong>ï¼šå¦‚æœç­–ç•¥ç±»è¿‡å¤šï¼Œè€ƒè™‘ä½¿ç”¨å…¶ä»–æ¨¡å¼ï¼ˆå¦‚è´£ä»»é“¾æ¨¡å¼ï¼‰ç»„åˆä½¿ç”¨</li>
<li><strong>å®¢æˆ·ç«¯æ„ŸçŸ¥</strong>ï¼šå®¢æˆ·ç«¯éœ€è¦çŸ¥é“æ‰€æœ‰ç­–ç•¥ï¼Œå¯ä»¥é€šè¿‡é…ç½®ä¸­å¿ƒæˆ–æšä¸¾ç®¡ç†</li>
<li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šç­–ç•¥æ¨¡å¼ä¼šå¢åŠ å¯¹è±¡æ•°é‡ï¼Œåœ¨æç«¯æ€§èƒ½æ•æ„Ÿåœºæ™¯éœ€è¦æƒè¡¡</li>
<li><strong>Springé›†æˆ</strong>ï¼šç¡®ä¿ç­–ç•¥ç±»éƒ½è¢«Springç®¡ç†ï¼Œæ³¨æ„Beançš„åŠ è½½é¡ºåº</li>
<li><strong>é»˜è®¤ç­–ç•¥</strong>ï¼šè€ƒè™‘æä¾›ä¸€ä¸ªé»˜è®¤ç­–ç•¥ï¼Œé¿å…å› ç­–ç•¥ä¸å­˜åœ¨è€ŒæŠ¥é”™</li>
<li><strong>ç­–ç•¥å‚æ•°</strong>ï¼šå¦‚æœä¸åŒç­–ç•¥éœ€è¦ä¸åŒå‚æ•°ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Contextå¯¹è±¡å°è£…</li>
</ol>
<h4 data-id="heading-23">æœ€åçš„å°è´´å£«ï¼š</h4>
<p>ç­–ç•¥æ¨¡å¼ä¸æ˜¯é“¶å¼¹ï¼Œå¦‚æœä½ çš„ä¸šåŠ¡é€»è¾‘å¾ˆç®€å•ï¼Œåªæœ‰2-3ä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆç®€å•çš„if-elseå¯èƒ½æ›´åˆé€‚ã€‚ä½†æ˜¯å½“åˆ†æ”¯è¶…è¿‡3ä¸ªï¼Œæˆ–è€…æœªæ¥å¯èƒ½ä¼šå¢åŠ æ›´å¤šåˆ†æ”¯æ—¶ï¼Œç­–ç•¥æ¨¡å¼çš„ä¼˜åŠ¿å°±ä¼šä½“ç°å‡ºæ¥ã€‚</p>
<p>è®°ä½ï¼Œå¥½çš„ä»£ç ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯åœ¨ä¸æ–­é‡æ„ä¸­é€æ¸å˜å¥½çš„ã€‚å½“ä½ çœ‹åˆ°æ»¡å±çš„if-elseæ—¶ï¼Œä¸å¦¨æƒ³æƒ³ï¼šè¿™é‡Œæ˜¯ä¸æ˜¯å¯ä»¥ç”¨ç­–ç•¥æ¨¡å¼ä¼˜åŒ–ä¸€ä¸‹ï¼Ÿ</p>
<p>å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¸®åˆ°ä½ ï¼å¦‚æœæœ‰é—®é¢˜æˆ–æ›´å¥½çš„å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºã€‚æˆ‘ä»¬ä¸€èµ·å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç ï¼</p>
<hr/>
<p><em>ä½œè€…ï¼šå¼ å·¥æ‘†Bug</em> <em>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ‰“é€ æ›´å¥½çš„æŠ€æœ¯ç¤¾åŒºï¼</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½»åº•ææ‡‚ Spring Boot ä¸­ properties å’Œ YAML çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7585410547336790066</link>    <guid>https://juejin.cn/post/7585410547336790066</guid>    <pubDate>2025-12-19T13:01:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585410547336790066" data-draft-id="7585406229167767602" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½»åº•ææ‡‚ Spring Boot ä¸­ properties å’Œ YAML çš„åŒºåˆ«"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T13:01:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·"/> <meta itemprop="url" content="https://juejin.cn/user/977884013421370"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½»åº•ææ‡‚ Spring Boot ä¸­ properties å’Œ YAML çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/977884013421370/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T13:01:15.000Z" title="Fri Dec 19 2025 13:01:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Spring Boot å¼€å‘ä¸­ï¼Œ<code>application.properties</code> å’Œ <code>application.yml</code> æ˜¯æœ€å¸¸ç”¨çš„ä¸¤ç§é…ç½®æ–‡ä»¶æ ¼å¼ã€‚éšç€é¡¹ç›®å¤æ‚åº¦æå‡ï¼Œè¶Šæ¥è¶Šå¤šå›¢é˜Ÿè½¬å‘ YAMLã€‚é‚£ä¹ˆï¼Œå®ƒä»¬åˆ°åº•æœ‰ä½•ä¸åŒï¼Ÿä»Šå¤©æˆ‘ä»¬å°±ä»<strong>å®šä½ã€è¯­æ³•ã€æ•°æ®è¡¨è¾¾èƒ½åŠ›ã€é€šç”¨æ€§</strong>å››ä¸ªè§’åº¦ï¼Œç³»ç»Ÿå¯¹æ¯”è¿™ä¸¤ç§é…ç½®æ–¹å¼ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å®šä½ä¸åŒï¼šå·¥å…· vs è¯­è¨€</h2>
<p><code>properties</code> æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯â€œ<strong>å±æ€§æ–‡ä»¶</strong>â€ï¼ˆProperties Fileï¼‰ï¼Œå…¶è®¾è®¡åˆè¡·æ˜¯åœ¨ Java åº”ç”¨ä¸­ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨é…ç½®é¡¹ã€‚å®ƒç®€æ´ç›´æ¥ï¼Œé•¿æœŸä»¥æ¥ä½œä¸º Spring Boot é»˜è®¤çš„é…ç½®æ ¼å¼ï¼ˆå°¤å…¶åœ¨ 2.x ç‰ˆæœ¬ä¸­ï¼‰ã€‚</p>
<p>è€Œ <strong>YAML</strong>ï¼ˆYAML Ainâ€™t Markup Languageï¼ŒåŸæ„ä¸º â€œYet Another Markup Languageâ€ï¼‰åˆ™æ˜¯ä¸€ç§<strong>é€šç”¨çš„æ•°æ®åºåˆ—åŒ–æ ¼å¼</strong>ï¼Œå®šä½è¿œä¸æ­¢äºâ€œé…ç½®å±æ€§â€ã€‚å®ƒæ—¨åœ¨ä»¥äººç±»å¯è¯»çš„æ–¹å¼è¡¨è¾¾ç»“æ„åŒ–æ•°æ®ï¼Œé€‚ç”¨äºå¤šç§åœºæ™¯å’Œè¯­è¨€ã€‚</p>
<blockquote>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<code>properties</code> æ˜¯ä¸€ä¸ªé…ç½®å·¥å…·ï¼Œ<strong>YAML</strong> æ˜¯ä¸€ç§è¡¨è¾¾ç»“æ„åŒ–æ•°æ®çš„è¯­è¨€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">äºŒã€è¯­æ³•é£æ ¼ï¼šæ‰å¹³ vs å±‚çº§</h2>
<h4 data-id="heading-2">properties è¯­æ³•</h4>
<p>é‡‡ç”¨ç»å…¸çš„ <code>key=value</code> æ ¼å¼ï¼Œæ¯è¡Œä¸€ä¸ªé…ç½®é¡¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">server.port</span>=<span class="hljs-number">8080</span>
<span class="hljs-attr">debug</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">3306</span>/dbname?characterEncoding=utf8
<span class="hljs-attr">spring.datasource.username</span>=root
<span class="hljs-attr">spring.datasource.password</span>=root
</code></pre>
<h4 data-id="heading-3">YAML è¯­æ³•</h4>
<p>ä½¿ç”¨ç¼©è¿›å’Œå†’å·è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œ<strong>å†’å·åå¿…é¡»è·Ÿä¸€ä¸ªç©ºæ ¼</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">9090</span>
<span class="hljs-attr">debug:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://127.0.0.1:3306/dbname?characterEncoding=utf8</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">root</span>
    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
</code></pre>
<p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼šYAML å±‚çº§æ¸…æ™°ã€ç»“æ„ç›´è§‚ï¼Œå°¤å…¶åœ¨é…ç½®åµŒå¥—å±æ€§æ—¶ï¼Œå¯è¯»æ€§å’Œç»´æŠ¤æ€§æ˜¾è‘—ä¼˜äº propertiesã€‚</p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å¤æ‚æ•°æ®ç±»å‹æ”¯æŒï¼šYAML æ›´å¼ºå¤§</h2>
<p>é™¤äº†åŸºæœ¬çš„å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ï¼ŒYAML åŸç”Ÿæ”¯æŒå¯¹è±¡ã€åˆ—è¡¨ã€Map ç­‰å¤æ‚ç»“æ„ï¼Œæ— éœ€é¢å¤–è§£æé€»è¾‘ã€‚</p>
<h4 data-id="heading-5">ç¤ºä¾‹ï¼šé…ç½®å¯¹è±¡</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">user:</span>
  <span class="hljs-attr">id:</span> <span class="hljs-number">1</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">Tom</span>
  <span class="hljs-attr">age:</span> <span class="hljs-number">20</span>
</code></pre>
<h4 data-id="heading-6">ç¤ºä¾‹ï¼šé…ç½®åˆ—è¡¨</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># åˆ—è¡¨å†™æ³•ä¸€ï¼ˆæ¨èï¼‰</span>
animals:
<span class="hljs-bullet">  -</span> Dog
<span class="hljs-bullet">  -</span> Cat
<span class="hljs-bullet">  -</span> Bird

<span class="hljs-section"># åˆ—è¡¨å†™æ³•äºŒï¼ˆè¡Œå†…ï¼‰</span>
animals: [Dog, Cat, Bird]
</code></pre>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œproperties è™½å¯é€šè¿‡ <code>list[0]=Dog</code> ç­‰æ–¹å¼æ¨¡æ‹Ÿé›†åˆï¼Œä½†è¯­æ³•ç¹çä¸”æ˜“å‡ºé”™ï¼Œè¿œä¸å¦‚ YAML è‡ªç„¶ã€‚</p>
<h4 data-id="heading-7">å¯¹æ¯”ï¼šproperties æ¨¡æ‹Ÿåˆ—è¡¨ï¼ˆä¸ç›´è§‚ï¼‰</h4>
<pre><code class="hljs language-css" lang="css">animals<span class="hljs-selector-attr">[0]</span>=Dog 
animals<span class="hljs-selector-attr">[1]</span>=Cat 
animals<span class="hljs-selector-attr">[2]</span>=Bird
</code></pre>
<hr/>
<h2 data-id="heading-8">å››ã€YAML å…·å¤‡è·¨è¯­è¨€é€šç”¨æ€§</h2>
<p><code>properties</code> æ˜¯ Java ç”Ÿæ€ç‰¹æœ‰çš„é…ç½®æ ¼å¼ï¼Œå‡ ä¹ä»…ç”¨äº JVM é¡¹ç›®ã€‚<br/>
è€Œ <strong>YAML æ˜¯ä¸€ç§è¯­è¨€æ— å…³çš„æ•°æ®æ ¼å¼</strong>ï¼Œè¢«å¹¿æ³›åº”ç”¨äº Pythonã€JavaScriptã€Goã€Rubyã€PHP ç­‰å¤šç§ç¼–ç¨‹è¯­è¨€ä¸­ã€‚</p>
<blockquote>
<p>è¿™æ„å‘³ç€ï¼šåœ¨å¤šè¯­è¨€å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œè‹¥ä½¿ç”¨ç»Ÿä¸€çš„é…ç½®ä¸­å¿ƒï¼ˆå¦‚ Nacosã€Apolloï¼‰ï¼Œå„å›¢é˜Ÿå¯å…±äº«åŒä¸€ä»½ YAML é…ç½®æ–‡ä»¶ï¼Œæå¤§æå‡åä½œæ•ˆç‡ä¸è¿ç»´ä¸€è‡´æ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">æ€»ç»“</h2>






























<table><thead><tr><th>ç»´åº¦</th><th>properties</th><th>YAML</th></tr></thead><tbody><tr><td>å®šä½</td><td>Java å±æ€§é…ç½®</td><td>é€šç”¨æ•°æ®åºåˆ—åŒ–è¯­è¨€</td></tr><tr><td>è¯­æ³•</td><td><code>key=value</code>ï¼Œæ‰å¹³ç»“æ„</td><td><code>key: value</code>ï¼Œæ”¯æŒåµŒå¥—ä¸ç¼©è¿›</td></tr><tr><td>æ•°æ®ç±»å‹</td><td>ä»…åŸºç¡€ç±»å‹</td><td>æ”¯æŒå¯¹è±¡ã€åˆ—è¡¨ã€Map ç­‰å¤æ‚ç»“æ„</td></tr><tr><td>é€šç”¨æ€§</td><td>ä»…é™ Java/Spring</td><td>å¤šè¯­è¨€é€šç”¨</td></tr></tbody></table>
<p>è™½ç„¶ Spring Boot åŒæ—¶æ”¯æŒä¸¤ç§æ ¼å¼ï¼Œä½†ä»<strong>å¯è¯»æ€§ã€è¡¨è¾¾åŠ›å’Œç”Ÿæ€å…¼å®¹æ€§</strong>æ¥çœ‹ï¼ŒYAML æ˜¾ç„¶æ˜¯æ›´ç°ä»£ã€æ›´ä¼˜é›…çš„é€‰æ‹©ã€‚å¦‚æœä½ çš„æ–°é¡¹ç›®å°šæœªé€‰å®šé…ç½®æ ¼å¼ï¼Œä¸å¦¨å¤§èƒ†æ‹¥æŠ± YAMLï¼</p>
<hr/>
<blockquote>
<p>ğŸ’¡ <strong>å°è´´å£«</strong>ï¼šSpring Boot ä¼šä¼˜å…ˆåŠ è½½ <code>application.yml</code>ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼Œè‹¥ä¸¤è€…å…±å­˜ï¼ŒYAML é…ç½®å°†è¦†ç›– properties ä¸­çš„åŒåé¡¹ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS æœ‰ä»€ä¹ˆå¥‡æŠ€æ·«å·§ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585171571130187812</link>    <guid>https://juejin.cn/post/7585171571130187812</guid>    <pubDate>2025-12-19T11:24:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585171571130187812" data-draft-id="7585206349748994100" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS æœ‰ä»€ä¹ˆå¥‡æŠ€æ·«å·§ï¼Ÿ"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2025-12-19T11:24:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Flystone"/> <meta itemprop="url" content="https://juejin.cn/user/1451011079938125"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS æœ‰ä»€ä¹ˆå¥‡æŠ€æ·«å·§ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1451011079938125/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Flystone
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T11:24:16.000Z" title="Fri Dec 19 2025 11:24:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fquestion%2F27432017%2Fanswer%2F1984773459834852908" target="_blank" title="https://www.zhihu.com/question/27432017/answer/1984773459834852908" ref="nofollow noopener noreferrer">è½¬è½½è‡ªä½œè€…ï¼šç‹¬å…ƒæ®‡</a></p>
<h3 data-id="heading-0">aspect-ratio</h3>
<p>å®½é«˜æ¯”</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">div</span> { 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">190px</span>; <span class="hljs-comment">/* æ³¨æ„ï¼Œè¿™ä¸ªæ•°å­—è¦èƒ½å®¹çº³å®Œå†…å®¹æ‰æœ‰æ•ˆ */</span> 
        aspect-ratio: <span class="hljs-number">16</span> / <span class="hljs-number">9</span>; 
        <span class="hljs-attribute">background</span>: tomato; 
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æˆ‘æ°¸è¿œä¿æŒ 16:9<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>å¦‚æœï¼Œä½  aspect-ratio çš„å€¼å†™æˆ 1 ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå®Œç¾çš„æ­£æ–¹å½¢äº†ï¼</p>
<h3 data-id="heading-1">object-fit</h3>
<p>å®ƒæœ‰ä¸¤ä¸ªå€¼ï¼Œä¸€ä¸ªæ˜¯ cover ï¼ˆå›¾ç‰‡å®Œå…¨è¦†ç›–å®¹å™¨ï¼Œä¸”å›¾ç‰‡é•¿å®½ä¸å¤±çœŸï¼‰ï¼Œä¸€ä¸ªæ˜¯ scale-down ï¼ˆåªä¿è¯å›¾ç‰‡é•¿å®½ä¸å¤±çœŸï¼‰ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"> 
    <span class="hljs-selector-tag">img</span> { 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>; 
        <span class="hljs-attribute">object-fit</span>: cover; <span class="hljs-comment">/* ä¼šè£åˆ‡ï¼Œåªå‰©ä¸­é—´ */</span> 
        <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#000</span>; 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://placehold.co/300x200"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"demo"</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">color-scheme: dark light;</h3>
<p>å¯åŠ¨æµè§ˆå™¨è‡ªé€‚åº” æ·±æµ…è‰²æ¨¡å¼ï¼</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"> 
    <span class="hljs-selector-pseudo">:root</span> { 
        <span class="hljs-attribute">color</span>-scheme: dark light; <span class="hljs-comment">/* è‡ªåŠ¨å˜è‰² */</span> 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>åˆ‡æ¢ç³»ç»Ÿæ·±æµ…æ¨¡å¼æ¥æµ‹è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åœ¨æ·±è‰²æ¨¡å¼ä¸‹ï¼Œä¸‹é¢çš„åŸç”Ÿæ§ä»¶ä¼šè‡ªåŠ¨å˜é»‘ï¼Œæ–‡å­—å˜ç™½ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span> è¾“å…¥æ¡†: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">accent-color:red;</h3>
<p>å®ƒä¼šè‡ªåŠ¨è®¡ç®—å‡ºä¸åŒç„¦ç‚¹ä¸‹ï¼Œè¡¨å•æ§ä»¶çš„é¢œè‰²</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> { 
        accent-<span class="hljs-attribute">color</span>:red; 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">checked</span>&gt;</span> é€‰æ‹©æ¡†
<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">checked</span>&gt;</span> å•é€‰ 
<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"range"</span>&gt;</span> æ‹–åŠ¨æ»‘å—
</code></pre>
<h3 data-id="heading-4">fit-content</h3>
<p>å®ƒæ˜¯æ ¹æ®å†…å®¹ï¼Œæ¥æ§åˆ¶å®¹å™¨çš„å¤§å°çš„</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">div</span> {
        <span class="hljs-attribute">background</span>: skyblue; 
        <span class="hljs-attribute">width</span>: fit-content; 
        <span class="hljs-attribute">margin</span>: auto; 
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ª divï¼Œä½¿ç”¨ç¼©æ°´å¤§æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">overscroll-behavior: contain;</h3>
<p>è§£å†³ä¸€ä¸ª divï¼Œæœ‰è‡ªå·±çš„æ»šåŠ¨æ¡ã€‚ç„¶åç”¨æˆ·åœ¨è¿™ä¸ª div é‡Œæ»šåŠ¨åˆ°åº•éƒ¨æ—¶ï¼Œï¼Œæ•´ä¸ªé¡µé¢ä¼šå¼€å§‹æ»šåŠ¨ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"> 
    <span class="hljs-selector-tag">body</span> { 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">150vh</span>; 
        <span class="hljs-attribute">background</span>: <span class="hljs-number">#eee</span>; 
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">50px</span>; 
    } 
    <span class="hljs-selector-class">.scroll-box</span> { 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>; 
        <span class="hljs-attribute">overflow</span>: auto;
        <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid <span class="hljs-number">#333</span>;
        <span class="hljs-attribute">background</span>: white; 
        overscroll-behavior: contain; <span class="hljs-comment">/* å…³é”®ä»£ç  */</span> 
    } 
    <span class="hljs-selector-class">.inner</span> { 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>; 
        <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, tomato, gold); 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-box"</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inner"</span>&gt;</span>å†…éƒ¨æ»šåŠ¨æ¡<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ»šåŠ¨ä¸Šé¢çš„ç›’å­åˆ°åº•éƒ¨ï¼Œå†ç»§ç»­æ»šåŠ¨è¯•è¯•...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<h3 data-id="heading-6">text-wrap: balance;</h3>
<p>å®ƒå¯ä»¥å¹³è¡¡è¡Œæ•°ä¹‹å‰çš„è¯è¯­é•¿åº¦ï¼Œä½¿å…¶åšåˆ°å°½å¯èƒ½çš„å‡è¡¡ï¼Œæ•´ä½“è§‚æ„Ÿä¸Šï¼Œè¦èˆ’æœå¾ˆå¤šï¼
æ³¨æ„ï¼Œè¿™ä¸ªå±æ€§ï¼Œåªæ”¯æŒ 6 è¡Œä»¥å†…ï¼Œæ‰€ä»¥å°½å¯èƒ½ç”¨åœ¨ä¸€äº›çŸ­å°çš„åœ°æ–¹ï¼Œæ¯”å¦‚æ ‡é¢˜ï¼</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"> 
    <span class="hljs-selector-tag">h2</span> { 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; 
        <span class="hljs-attribute">background</span>: gold; 
        <span class="hljs-attribute">text-align</span>: center; 
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>; 
    } 
    <span class="hljs-selector-id">#test</span> { 
        text-wrap: balance; 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">test</span>&gt;</span>å¾ˆé•¿å¾ˆé•¿ so long å¾ˆé•¿çš„ titletitle æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¾ˆé•¿å¾ˆé•¿ so long å¾ˆé•¿çš„ titletitle æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
</code></pre>
<h3 data-id="heading-7">text-underline-offset: 0.25em;</h3>
<p>è‹±æ–‡ä¸­çš„ gã€y ï¼Œæ˜¯ä¸æ˜¯è¿™äº›å­—æ¯ï¼Œä¸‹é¢ä¼šæ‹–ä¸€ä¸ªå°¾å·´ã€‚è€Œ &lt; a &gt; çš„åŸç”Ÿæ•ˆæœæ˜¯ï¼Œè¿™ä¸ª underline çº¿ä¼šé‡å åˆ°è¿™äº›å°å°¾å·´ä¸Šã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"> 
    <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-attr">[class]</span>) {
        text-underline-offset: <span class="hljs-number">0.25em</span>; 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªæ­£æ–‡é“¾æ¥ (g/y)<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªæŒ‰é’®é“¾æ¥(ä¸ä½¿ç”¨è¯¥ CSS) (g/y)<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<h3 data-id="heading-8">outline-offset ï¼</h3>
<p>ä¸è®¡å…¥ç›’æ¨¡å‹å°ºå¯¸çš„è½®å»“çº¿ã€‚
æŠŠé¼ æ ‡ç§»ä¸Šå»ï¼Œå°±ä¼šæœ‰æ‰©æ•£æ•ˆæœäº†ã€‚è€Œä¸”ï¼Œåªæ˜¯æ‰©æ•£ï¼Œä¸ä¼šå½±å“å„ç§å°ºå¯¸ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">button</span> { 
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">30px</span>; 
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
        <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#333</span>; 
        <span class="hljs-attribute">outline</span>: <span class="hljs-number">2px</span> dashed blue;
        <span class="hljs-attribute">outline-offset</span>: <span class="hljs-built_in">var</span>(--offset, <span class="hljs-number">2px</span>);
        <span class="hljs-attribute">transition</span>: outline-offset <span class="hljs-number">0.2s</span>; 
    } 
    <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> { 
        <span class="hljs-attr">--offset</span>: <span class="hljs-number">10px</span>; 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>é¼ æ ‡æ‚¬åœçœ‹æ‰©æ•£æ•ˆæœ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<h3 data-id="heading-9">scroll-margin-top</h3>
<p>æ€ä¹ˆå½¢å®¹è¿™ä¸ªåœºæ™¯å‘¢ï¼Ÿä½ æœ‰ä¸ªå›ºå®šçš„é¡¶éƒ¨å¯¼èˆªæ ã€‚å®ƒ é«˜åº¦æ˜¯ 100px ã€‚ç„¶åä½ å•å‡»é“¾æ¥ï¼Œæ˜¯ä¸€ä¸ªæ»šåŠ¨åˆ°æŸä¸ª #part æ ‡é¢˜çš„é“¾æ¥ï¼Œä½ ä¼šå‘ç°é»˜è®¤æ»šåŠ¨åï¼Œå®ƒæ˜¯ç´§æŒ¨ç€é¡¶éƒ¨çš„ã€‚é‚£ä¹ˆå¯¼èˆªæ å°±æŒ¡ä½äº†ï¼ˆæˆ‘ä¹Ÿä¸å¤ªèƒ½è¯´æ¸…ï¼Œå¤§å®¶çœ‹ä¸‹é¢çš„ä¾‹å­å§ï¼‰..... å¦‚ä½•ä¸ä»‹å…¥ js æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå°±æ˜¯scroll-margin-top ï¼</p>
<p>æ³¨æ„ï¼Œè¦åœ¨æœ¬åœ°å»ºä¸€ä¸ª html æ¥è¿è¡Œï¼Œå¦åˆ™ä¼šä¹±è·³è½¬ï¼</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"> 
    <span class="hljs-selector-tag">nav</span> { 
        <span class="hljs-attribute">position</span>: fixed;
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>; 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>; 
        <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>); 
    } 
    <span class="hljs-selector-tag">h2</span><span class="hljs-selector-attr">[id]</span> { 
        <span class="hljs-attribute">scroll-margin-top</span>: <span class="hljs-number">110px</span>; <span class="hljs-comment">/* 100px + 10px ç¼éš™ */</span> 
        <span class="hljs-attribute">background</span>: yellow; 
    } 
    <span class="hljs-selector-tag">body</span> { 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">2000px</span>; 
        <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">120px</span>; 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>æˆ‘æ˜¯ 100px é«˜çš„å›ºå®šæ  (åŠé€æ˜)<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#part-1"</span>&gt;</span>&gt;&gt;&gt; ç‚¹æˆ‘è·³è½¬åˆ°ç›®æ ‡ &lt;&lt;&lt;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"height: 500px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"part-1"</span>&gt;</span>ç›®æ ‡æ ‡é¢˜ï¼šä½ çœ‹ä¸åˆ°çº¢è‰²çš„é®æŒ¡<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">scrollbar-gutter: stable;</h3>
<p>è§£å†³ ä¸€ä¸ªæ»šåŠ¨æ¡è·³åŠ¨ Bug ã€‚å°±æ˜¯é¡µé¢çš„å†…å®¹ï¼ŒåŠ¨æ€å˜å¤šï¼Œä¼šçªç„¶å‡ºç°æ»šåŠ¨æ¡ã€‚ç„¶åç”»é¢ä¼šè·³åŠ¨ä¸€ä¸‹ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">div</span> { 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>; 
        <span class="hljs-attribute">overflow-y</span>: auto; 
        <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#333</span>; 
        <span class="hljs-attribute">scrollbar-gutter</span>: stable; <span class="hljs-comment">/* å…³é”® */</span>
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> è™½ç„¶å†…å®¹å¾ˆå°‘ï¼Œä¸éœ€è¦æ»šåŠ¨ï¼Œ ä½†è¯·æ³¨æ„å³ä¾§é¢„ç•™çš„ç©ºç™½æ§½ã€‚ è¿™ä¿è¯äº†å†…å®¹å¢åŠ æ—¶ä¸ä¼šå‘ç”Ÿä½ç§»ã€‚ <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vueçš„â€œå°å¤–æŒ‚â€ï¼šç©è½¬è‡ªå®šä¹‰æŒ‡ä»¤]]></title>    <link>https://juejin.cn/post/7585382553289244708</link>    <guid>https://juejin.cn/post/7585382553289244708</guid>    <pubDate>2025-12-19T11:56:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585382553289244708" data-draft-id="7585173051647705124" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vueçš„â€œå°å¤–æŒ‚â€ï¼šç©è½¬è‡ªå®šä¹‰æŒ‡ä»¤"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-12-19T11:56:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™·é¾™çƒ¬"/> <meta itemprop="url" content="https://juejin.cn/user/1874007727812221"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vueçš„â€œå°å¤–æŒ‚â€ï¼šç©è½¬è‡ªå®šä¹‰æŒ‡ä»¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1874007727812221/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™·é¾™çƒ¬
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T11:56:05.000Z" title="Fri Dec 19 2025 11:56:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#5f6368;background-image:linear-gradient(90deg,rgba(240,191,213,.1) 3%,transparent 0),linear-gradient(1turn,rgba(240,191,213,.1) 3%,transparent 0);background-size:20px 20px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-left:50px;padding-bottom:5px;color:#5f6368}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:0;display:block;content:""}.markdown-body h1{font-size:32px;margin-bottom:5px}.markdown-body h1:before{top:0;content:"ğŸ¦„";font-size:32px}.markdown-body h2{padding-bottom:24px;border-bottom:1px solid #ececec}.markdown-body h2:before{top:0;left:8px;content:"ğŸ³";font-size:24px}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{top:-2px;left:8px;content:"ğŸ„";font-size:20px}.markdown-body h4{font-size:16px}.markdown-body h4:before{top:-2px;left:8px;content:"ğŸ¦¥";font-size:18px}.markdown-body h5{font-size:14px}.markdown-body h5:before{top:-2px;left:9px;content:"ğŸ¦©";font-size:16px}.markdown-body h6{font-size:12px;margin-top:5px}.markdown-body h6:before{top:-1px;left:10px;content:"ğŸ§";font-size:14px}.markdown-body p{line-height:1.9;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid rgba(253,121,168,.5);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#a6accd;background:#292d3e;border-radius:8px}.markdown-body a{text-decoration:none;color:#fd79a8;border-bottom:1px solid #fd79a8;padding:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(253,121,168,.1);color:#ee69a9}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body th{color:#fd79a8}.markdown-body th,.markdown-body tr:hover{background:rgba(253,121,168,.1)}.markdown-body td{min-width:120px}.markdown-body blockquote{position:relative;color:#666;padding:23px;margin:22px 0;border-left:4px solid #ee69a9;background-color:rgba(253,121,168,.1)}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;display:block;font-size:27px;color:#fd79a8;opacity:.8}.markdown-body blockquote:before{left:10px;top:0;content:"â"}.markdown-body blockquote:after{right:10px;bottom:0;content:"â"}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body strong{position:relative;color:#fd79a8}.markdown-body strong:before{content:"Â· "}.markdown-body strong:after{content:" Â·"}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#fd79a8}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ee69a9}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>ğŸ”¥ ä»¥é¾™æ¯æ·¬ç‚¼ä»£ç ï¼Œåœ¨æ—¶å…‰ç°çƒ¬ä¸­é‡é“¸æŠ€æœ¯æ˜Ÿæ²³ ï¼</p>
<p>æ¬¢è¿æ¥åˆ° <code>æ™·é¾™çƒ¬</code>çš„åšå®¢å°çªâœ¨ï¼ è¿™é‡Œè®°å½•æŠ€æœ¯å­¦ä¹ ç‚¹æ»´ï¼Œåˆ†äº«å®ç”¨æŠ€å·§ï¼Œå¶å°”èŠèŠå¥‡æ€å¦™æƒ³ï½</p>
<p>åŸåˆ›å†…å®¹âœï¸ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï½æ„Ÿè°¢æ”¯æŒâ¤ï¸ï¼è¯·å°Šé‡åŸåˆ›ğŸ“©ï¼ æ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµğŸŒŸï¼</p>
</blockquote>
<h2 data-id="heading-0"><strong>å¼•è¨€</strong></h2>
<p>ä½ å¥½å‘€ï¼åœ¨Vueçš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨ç”¨ <code>v-model</code>ã€<code>v-if</code> è¿™äº›å†…ç½®æŒ‡ä»¤ï¼Œå®ƒä»¬å°±åƒå®˜æ–¹ç»™æˆ‘ä»¬çš„â€œç‘å£«å†›åˆ€â€ï¼Œç‰¹åˆ«å¥½ç”¨ã€‚ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æ€»æƒ³æç‚¹â€œä¸ªæ€§åŒ–â€æ“ä½œï¼Œæ¯”å¦‚ä¸€è¿›é¡µé¢å°±è®©æŸä¸ªè¾“å…¥æ¡†è‡ªåŠ¨èšç„¦ï¼Œæˆ–è€…ç»™æŒ‰é’®åŠ ä¸ªâ€œé˜²æŠ–â€é˜²æ­¢ç”¨æˆ·ç–¯ç‹‚ç‚¹å‡»ã€‚</p>
<p>è¿™æ—¶å€™ï¼ŒVueçš„â€œè‡ªå®šä¹‰æŒ‡ä»¤â€å°±è¯¥é—ªäº®ç™»åœºäº†ï¼å®ƒå°±åƒæ˜¯ä½ ç»™Vueå®‰è£…çš„â€œå°å¤–æŒ‚â€ï¼Œè®©ä½ èƒ½è‡ªå·±å®šä¹‰ä¸€äº›ç‰¹æ®Šçš„DOMè¡Œä¸ºã€‚ä»Šå¤©ï¼Œå’±ä»¬å°±æŠŠå®ƒèŠæ˜ç™½ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯å•¥ï¼Ÿèƒ½åƒå—ï¼Ÿ</h3>
<p>ç®€å•è¯´ï¼Œ<strong>è‡ªå®šä¹‰æŒ‡ä»¤å°±æ˜¯ä¸€å¥—ä½ è‡ªå·±å†™çš„ã€èƒ½ç”¨åœ¨HTMLå…ƒç´ ä¸Šçš„â€œæ“ä½œè¯´æ˜ä¹¦â€</strong> â€ã€‚</p>
<p>Vueçš„æ ¸å¿ƒæ€æƒ³æ˜¯â€œæ•°æ®é©±åŠ¨è§†å›¾â€ï¼Œæˆ‘ä»¬é€šå¸¸é€šè¿‡æ”¹å˜æ•°æ®æ¥è®©è§†å›¾è‡ªåŠ¨æ›´æ–°ã€‚ä½†æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ç›´æ¥å»æ“ä½œçœŸå®çš„DOMå…ƒç´ ï¼ˆæ¯”å¦‚è®©è¾“å…¥æ¡†èšç„¦ã€åˆå§‹åŒ–ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼‰ï¼Œè¿™äº›â€œå‰¯ä½œç”¨â€æ“ä½œï¼Œå°±æ˜¯è‡ªå®šä¹‰æŒ‡ä»¤çš„ç”¨æ­¦ä¹‹åœ°ã€‚</p>
<p>ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆä¸€ä¸ª<strong>å¯å¤ç”¨çš„â€œDOMæ“ä½œå·¥å…·ç®±â€</strong> â€ã€‚å“ªé‡Œéœ€è¦ï¼Œå°±â€œv-ä½ çš„æŒ‡ä»¤åâ€ä¸€ä¸‹ï¼Œå·¥å…·ç®±é‡Œçš„å·¥å…·å°±ä¼šè‡ªåŠ¨åœ¨é‚£ä¸ªå…ƒç´ ä¸Šå·¥ä½œã€‚</p>
<h3 data-id="heading-2">äºŒã€ æ€ä¹ˆåˆ›å»ºä¸€ä¸ªâ€œå°å¤–æŒ‚â€ï¼Ÿ</h3>
<p>åˆ›å»ºè‡ªå®šä¹‰æŒ‡ä»¤ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼šå…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œã€‚å’±ä»¬å…ˆçœ‹æœ€å¸¸ç”¨çš„å…¨å±€æ³¨å†Œï¼Œä¸€æ¬¡å®šä¹‰ï¼Œå…¨é¡¹ç›®é€šç”¨ã€‚</p>
<p><strong>1. å…¨å±€æ³¨å†Œï¼šç»™VueåŠ ä¸ªâ€œå…¨å®¶æ¡¶â€å·¥å…·</strong> åœ¨ä½ çš„ä¸»æ–‡ä»¶ï¼ˆæ¯”å¦‚ <code>main.js</code>ï¼‰é‡Œï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">Â <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªåä¸º `v-focus` çš„æŒ‡ä»¤</span>
Â <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">'focus'</span>, {
Â  Â <span class="hljs-comment">// å½“è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥åˆ° DOM ä¸­æ—¶â€¦â€¦</span>
Â  Â <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) {
Â  Â  Â <span class="hljs-comment">// èšç„¦å…ƒç´ </span>
Â  Â  Â el.<span class="hljs-title function_">focus</span>()
Â   }
Â })
</code></pre>
<p>ç”¨èµ·æ¥è¶…ç®€å•ï¼Œåœ¨æ¨¡æ¿é‡Œç›´æ¥ï¼š</p>
<pre><code class="hljs language-css" lang="css">Â &lt;<span class="hljs-selector-tag">input</span> v-focus&gt;
</code></pre>
<p>è¿™æ ·ï¼Œåªè¦è¿™ä¸ª <code>input</code> å…ƒç´ è¢«æ’å…¥é¡µé¢ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨è·å¾—ç„¦ç‚¹ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥æ‰“å­—ï¼Œä½“éªŒæ»¡åˆ†ï¼</p>
<p><strong>2. å±€éƒ¨æ³¨å†Œï¼šæŸä¸ªç»„ä»¶ç§æœ‰çš„â€œå°å·¥å…·â€</strong> â€ å¦‚æœè¿™ä¸ªæŒ‡ä»¤åªåœ¨æŸä¸ªç‰¹å®šç»„ä»¶é‡Œç”¨ï¼Œå¯ä»¥æŠŠå®ƒå®šä¹‰åœ¨è¯¥ç»„ä»¶å†…éƒ¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">Â <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
Â  Â <span class="hljs-attr">directives</span>: {
Â  Â  Â <span class="hljs-attr">focus</span>: {
Â  Â  Â  Â <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) {
Â  Â  Â  Â  Â el.<span class="hljs-title function_">focus</span>()
Â  Â  Â   }
Â  Â   }
Â   }
Â }
</code></pre>
<p>ç”¨æ³•å’Œå…¨å±€çš„ä¸€æ ·ã€‚è¿™ç§æ–¹å¼è®©æŒ‡ä»¤çš„ä½œç”¨èŒƒå›´æ›´æ¸…æ™°ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€ æŒ‡ä»¤çš„â€œç”Ÿå‘½å‘¨æœŸé’©å­â€</h3>
<p>ä¸€ä¸ªæŒ‡ä»¤ä¸æ˜¯ç®€å•æ‰§è¡Œä¸€ä¸‹å°±å®Œäº†ï¼Œå®ƒä¹Ÿæœ‰è‡ªå·±çš„â€œäººç”Ÿé˜¶æ®µâ€ï¼ŒVueæä¾›äº†å‡ ä¸ªé’©å­å‡½æ•°è®©æˆ‘ä»¬åœ¨å…³é”®æ—¶åˆ»ä»‹å…¥ï¼š</p>
<ul>
<li><strong><code>bind</code></strong>ï¼š<strong>åªè°ƒç”¨ä¸€æ¬¡</strong>ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚å¯ä»¥åœ¨è¿™é‡Œåšä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®ã€‚</li>
<li><strong><code>inserted</code></strong>ï¼šè¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆä»…ä¿è¯çˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå·²è¢«æ’å…¥æ–‡æ¡£ï¼‰ã€‚ä¸Šé¢è®©è¾“å…¥æ¡†èšç„¦çš„ä¾‹å­ï¼Œå°±ç”¨è¿™ä¸ªé’©å­ã€‚</li>
<li><strong><code>update</code></strong>ï¼š<strong>æ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨</strong>ï¼Œä½†å¯èƒ½å‘ç”Ÿåœ¨å…¶å­ VNode æ›´æ–°ä¹‹å‰ã€‚æŒ‡ä»¤çš„å€¼å¯èƒ½å‘ç”Ÿäº†å˜åŒ–ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ã€‚</li>
<li><strong><code>componentUpdated</code></strong>ï¼šæŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode <strong>åŠå…¶å­ VNode</strong> å…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚</li>
<li><strong><code>unbind</code></strong>ï¼š<strong>åªè°ƒç”¨ä¸€æ¬¡</strong>ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚é€‚åˆåœ¨è¿™é‡Œåšæ¸…ç†å·¥ä½œï¼Œæ¯”å¦‚ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<p>è¿™äº›é’©å­å‡½æ•°éƒ½ä¼šæ¥æ”¶åˆ°å‡ ä¸ªå‚æ•°ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ <code>el</code>ï¼ˆæŒ‡ä»¤ç»‘å®šçš„å…ƒç´ ï¼‰å’Œ <code>binding</code>ï¼ˆä¸€ä¸ªåŒ…å«æŒ‡ä»¤ä¿¡æ¯çš„å¯¹è±¡ï¼‰ã€‚</p>
<h3 data-id="heading-4">å››ã€ é’©å­å‡½æ•°çš„å‚æ•°è¯¦è§£</h3>
<p>è®©æˆ‘ä»¬æ·±å…¥çœ‹çœ‹ <code>binding</code> è¿™ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«äº†æŒ‡ä»¤çš„æ‰€æœ‰å…³é”®ä¿¡æ¯ï¼š</p>
<ul>
<li><code>name</code>ï¼šæŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬ <code>v-</code> å‰ç¼€ã€‚</li>
<li><code>value</code>ï¼šæŒ‡ä»¤çš„ç»‘å®šå€¼ã€‚ä¾‹å¦‚ <code>v-my-directive="1 + 1"</code> ä¸­ï¼Œç»‘å®šå€¼æ˜¯ <code>2</code>ã€‚</li>
<li><code>oldValue</code>ï¼šæŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ <code>update</code> å’Œ <code>componentUpdated</code> é’©å­ä¸­å¯ç”¨ã€‚</li>
<li><code>expression</code>ï¼šå­—ç¬¦ä¸²å½¢å¼çš„æŒ‡ä»¤è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ <code>v-my-directive="1 + 1"</code> ä¸­ï¼Œè¡¨è¾¾å¼æ˜¯ <code>"1 + 1"</code>ã€‚</li>
<li><code>arg</code>ï¼šä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ã€‚ä¾‹å¦‚ <code>v-my-directive:foo</code> ä¸­ï¼Œå‚æ•°æ˜¯ <code>"foo"</code>ã€‚</li>
<li><code>modifiers</code>ï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ä¾‹å¦‚ <code>v-my-directive.foo.bar</code> ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡æ˜¯ <code>{ foo: true, bar: true }</code>ã€‚</li>
</ul>
<p>ç†è§£è¿™äº›å‚æ•°ï¼Œä½ å°±èƒ½å†™å‡ºæ›´çµæ´»ã€å¼ºå¤§çš„æŒ‡ä»¤ã€‚</p>
<h3 data-id="heading-5">äº”ã€ æ¥ç‚¹æ›´æ·±å…¥å®ç”¨çš„ä¾‹å­</h3>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œå’±ä»¬çœ‹å‡ ä¸ªæ·±å…¥ã€å¹¶ä¸”å®ç”¨çš„åœºæ™¯ã€‚</p>
<h4 data-id="heading-6"><strong>ä¾‹å­1ï¼šæŒ‰é’®æƒé™æ§åˆ¶</strong></h4>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸åŒæƒé™çš„ç”¨æˆ·ï¼Œæœ‰äº›æŒ‰é’®åªæœ‰ç®¡ç†å‘˜èƒ½ç‚¹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">Â Vue.directive('permission', {
Â  Â inserted: function (el, binding) {
Â  Â  Â // binding.value å°±æ˜¯æˆ‘ä»¬ä¼ ç»™æŒ‡ä»¤çš„å€¼ï¼Œæ¯”å¦‚ç”¨æˆ·è§’è‰²
Â  Â  Â const <span class="hljs-attr">userRole</span> = <span class="hljs-string">'user'</span> // å‡è®¾å½“å‰ç”¨æˆ·æ˜¯æ™®é€šç”¨æˆ·
Â  Â  Â const <span class="hljs-attr">requiredRole</span> = binding.value // æŒ‡ä»¤è¦æ±‚çš„ç®¡ç†å‘˜è§’è‰² <span class="hljs-string">'admin'</span>
Â â€‹
Â  Â  Â if (userRole !== requiredRole) {
Â  Â  Â  Â // å¦‚æœä¸æ˜¯ç®¡ç†å‘˜ï¼Œå°±æŠŠæŒ‰é’®ç¦ç”¨æˆ–è€…éšè—
Â  Â  Â  Â <span class="hljs-attr">el.style.display</span> = <span class="hljs-string">'none'</span>
Â  Â  Â  Â // æˆ–è€… <span class="hljs-attr">el.disabled</span> = <span class="hljs-literal">true</span>
Â  Â   }
Â   }
Â })
</code></pre>
<p>æ¨¡æ¿é‡Œå¯ä»¥è¿™æ ·ç”¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Â &lt;button <span class="hljs-attr">v-permission</span>=<span class="hljs-string">"'admin'"</span>&gt;åˆ é™¤æ–‡ç« &lt;/button&gt;
</code></pre>
<p>æ™®é€šç”¨æˆ·å°±çœ‹ä¸åˆ°è¿™ä¸ªåˆ é™¤æŒ‰é’®å•¦ï¼Œæƒé™ç®¡ç†è½»æ¾å®ç°ã€‚</p>
<h4 data-id="heading-7"><strong>ä¾‹å­2ï¼šæŒ‰é’®é˜²é‡å¤ç‚¹å‡»</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript">Â <span class="hljs-comment">// main.jsï¼ˆVue2 å…¨å±€æ³¨å†Œï¼‰</span>
Â <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">'throttle'</span>, {
Â  Â <span class="hljs-comment">// å…ƒç´ æ’å…¥DOMæ—¶ç»‘å®šäº‹ä»¶</span>
Â  Â <span class="hljs-title function_">inserted</span>(<span class="hljs-params">el, binding</span>) {
Â  Â  Â <span class="hljs-comment">// 1. åŸºç¡€é…ç½®ï¼šé»˜è®¤èŠ‚æµé—´éš”500msï¼Œæ”¯æŒé€šè¿‡å‚æ•°è‡ªå®šä¹‰ï¼ˆå¦‚ v-throttle:1000ï¼‰</span>
Â  Â  Â <span class="hljs-keyword">const</span> delay = binding.<span class="hljs-property">arg</span> ? <span class="hljs-title class_">Number</span>(binding.<span class="hljs-property">arg</span>) : <span class="hljs-number">500</span>;
Â  Â  Â <span class="hljs-comment">// 2. æ ¡éªŒå›è°ƒå‡½æ•°ï¼ˆé¿å…éå‡½æ•°æŠ¥é”™ï¼‰</span>
Â  Â  Â <span class="hljs-keyword">const</span> callback = <span class="hljs-keyword">typeof</span> binding.<span class="hljs-property">value</span> === <span class="hljs-string">'function'</span> ? binding.<span class="hljs-property">value</span> : <span class="hljs-function">() =&gt;</span> {};
Â  Â  Â 
Â  Â  Â <span class="hljs-comment">// 3. æ ¸å¿ƒå˜é‡ï¼šè®°å½•ä¸Šä¸€æ¬¡æ‰§è¡Œæ—¶é—´</span>
Â  Â  Â <span class="hljs-keyword">let</span> lastClickTime = <span class="hljs-number">0</span>;
Â â€‹
Â  Â  Â <span class="hljs-comment">// 4. èŠ‚æµç‚¹å‡»äº‹ä»¶å¤„ç†å‡½æ•°</span>
Â  Â  Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
Â  Â  Â  Â <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
Â  Â  Â  Â <span class="hljs-comment">// è·ç¦»ä¸Šæ¬¡ç‚¹å‡»è¶…è¿‡è®¾å®šé—´éš”ï¼Œæ‰æ‰§è¡Œå›è°ƒ</span>
Â  Â  Â  Â <span class="hljs-keyword">if</span> (now - lastClickTime &gt;= delay) {
Â  Â  Â  Â  Â <span class="hljs-title function_">callback</span>(); <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
Â  Â  Â  Â  Â lastClickTime = now; <span class="hljs-comment">// æ›´æ–°æœ€åç‚¹å‡»æ—¶é—´</span>
Â  Â  Â   }
Â  Â   };
Â â€‹
Â  Â  Â <span class="hljs-comment">// 5. ç»‘å®šç‚¹å‡»äº‹ä»¶ + ç¼“å­˜å‡½æ•°ï¼ˆæ–¹ä¾¿åç»­é”€æ¯ï¼‰</span>
Â  Â  Â el.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleClick);
Â  Â  Â el.<span class="hljs-property">_throttleClick</span> = handleClick; <span class="hljs-comment">// æŠŠå‡½æ•°å­˜åˆ°å…ƒç´ ä¸Š</span>
Â   },
Â â€‹
Â  Â <span class="hljs-comment">// å…ƒç´ é”€æ¯æ—¶æ¸…ç†äº‹ä»¶ï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰</span>
Â  Â <span class="hljs-title function_">unbind</span>(<span class="hljs-params">el</span>) {
Â  Â  Â el.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, el.<span class="hljs-property">_throttleClick</span>);
Â  Â  Â el.<span class="hljs-property">_throttleClick</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ¸…ç©ºç¼“å­˜</span>
Â   }
Â });
</code></pre>
<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">Â <span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
Â  Â <span class="hljs-comment">&lt;!-- 1. é»˜è®¤500msèŠ‚æµ --&gt;</span>
Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-throttle</span>=<span class="hljs-string">"handleClick"</span>&gt;</span>é»˜è®¤èŠ‚æµç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â â€‹
Â  Â <span class="hljs-comment">&lt;!-- 2. è‡ªå®šä¹‰1000msèŠ‚æµï¼ˆé€šè¿‡å‚æ•°æŒ‡å®šï¼‰ --&gt;</span>
Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-throttle:1000</span>=<span class="hljs-string">"handleClick"</span>&gt;</span>1ç§’èŠ‚æµç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p><strong>ä¾‹å­3ï¼šå›¾ç‰‡æ‡’åŠ è½½</strong> è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„è‡ªå®šä¹‰æŒ‡ä»¤åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥å¤§å¹…æå‡é¡µé¢åŠ è½½æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">Â <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">'lazy'</span>, {
Â  Â <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding</span>) {
Â  Â  Â <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> {
Â  Â  Â  Â entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å›¾ç‰‡è¿›å…¥è§†å£</span>
Â  Â  Â  Â  Â  Â <span class="hljs-keyword">const</span> img = entry.<span class="hljs-property">target</span>
Â  Â  Â  Â  Â  Â img.<span class="hljs-property">src</span> = binding.<span class="hljs-property">value</span> <span class="hljs-comment">// å°†data-srcçš„å€¼èµ‹ç»™src</span>
Â  Â  Â  Â  Â  Â observer.<span class="hljs-title function_">unobserve</span>(img) <span class="hljs-comment">// åœæ­¢è§‚å¯Ÿ</span>
Â  Â  Â  Â   }
Â  Â  Â   })
Â  Â   }, {
Â  Â  Â  Â <span class="hljs-attr">rootMargin</span>: <span class="hljs-string">'0px'</span>,
Â  Â  Â  Â <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.1</span>
Â  Â   })
Â â€‹
Â  Â  Â observer.<span class="hljs-title function_">observe</span>(el)
Â  Â  Â <span class="hljs-comment">// å­˜å‚¨observerï¼Œä»¥ä¾¿åœ¨unbindæ—¶æ¸…ç†</span>
Â  Â  Â el.<span class="hljs-property">_lazyObserver</span> = observer
Â   },
Â  Â <span class="hljs-attr">unbind</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) {
Â  Â  Â <span class="hljs-keyword">if</span> (el.<span class="hljs-property">_lazyObserver</span>) {
Â  Â  Â  Â el.<span class="hljs-property">_lazyObserver</span>.<span class="hljs-title function_">disconnect</span>()
Â  Â   }
Â   }
Â })
</code></pre>
<p>HTMLä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Â &lt;img <span class="hljs-attr">v-lazy</span>=<span class="hljs-string">"'https://example.com/image.jpg'"</span> alt=<span class="hljs-string">"æ‡’åŠ è½½å›¾ç‰‡"</span>&gt;
</code></pre>
<hr/>
<h3 data-id="heading-8">å…­ã€ è‡ªå®šä¹‰æŒ‡ä»¤çš„é€‚ç”¨åœºæ™¯æ€»ç»“</h3>
<ol>
<li><strong>DOMæ“ä½œå°è£…</strong>ï¼šèšç„¦ã€é€‰æ‹©æ–‡æœ¬ã€å†…å®¹å¤åˆ¶ç­‰ã€‚</li>
<li><strong>äº‹ä»¶å¤„ç†ä¼˜åŒ–</strong>ï¼šé˜²æŠ–ã€èŠ‚æµã€é•¿æŒ‰ã€åŒå‡»ç­‰ã€‚</li>
<li><strong>UIåŠŸèƒ½å¢å¼º</strong>ï¼šæ‹–æ‹½ã€æ»šåŠ¨ç›‘å¬ã€æ— é™æ»šåŠ¨ã€æ‡’åŠ è½½ã€‚</li>
<li><strong>æƒé™ä¸çŠ¶æ€æ§åˆ¶</strong>ï¼šæŒ‰é’®æƒé™ã€å…ƒç´ å¯è§æ€§ã€åŠŸèƒ½å¼€å…³ã€‚</li>
<li><strong>ç¬¬ä¸‰æ–¹åº“é›†æˆ</strong>ï¼šå›¾è¡¨åº“åˆå§‹åŒ–ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ã€åœ°å›¾ç»„ä»¶ã€‚</li>
<li><strong>æ ·å¼ä¸åŠ¨ç”»</strong>ï¼šåŠ¨æ€æ ·å¼ç»‘å®šã€åŠ¨ç”»è§¦å‘ã€ä¸»é¢˜åˆ‡æ¢ã€‚</li>
</ol>
<h2 data-id="heading-9">ç»“è¯­</h2>
<p>è‡ªå®šä¹‰æŒ‡ä»¤ä¸æ˜¯ä»€ä¹ˆé«˜æ·±è«æµ‹çš„é»‘é­”æ³•ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå¸®ä½ <strong>å°è£…DOMæ“ä½œã€æå‡ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§çš„å¥½å¸®æ‰‹</strong>ã€‚ä¸‹æ¬¡å½“ä½ å‘ç°è‡ªå·±åœ¨å¤šä¸ªåœ°æ–¹é‡å¤å†™ç€ç›¸åŒçš„DOMæ“ä½œä»£ç æ—¶ï¼Œä¸å¦¨åœä¸‹æ¥æƒ³æƒ³ï¼šâ€œæ˜¯ä¸æ˜¯å¯ä»¥æŠ½è±¡æˆä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿâ€</p>
<p>ä»ç®€å•çš„è‡ªåŠ¨èšç„¦ï¼Œåˆ°å¤æ‚çš„æƒé™ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤éƒ½èƒ½è®©ä½ çš„Vueé¡¹ç›®ä»£ç æ›´å¹²å‡€ã€æ›´ä¸“ä¸šã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ æ‰“å¼€æ€è·¯ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ç”¨èµ·æ¥ï¼</p>
<hr/>
<h2 data-id="heading-10">â€”â€” å®Œ â€”â€”</h2>
<p>âœ¨ è‡³æ­¤ç»“æŸ âœ¨</p>
<p>ğŸ’¡ ç‚¹èµå…³æ³¨ï¼Œè§£é”æ›´å¤šæŠ€æœ¯å¹²è´§ï¼</p>
<p>æˆ‘æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fm0_56336997%3Fspm%3D1011.2124.3001.5343" target="_blank" title="https://blog.csdn.net/m0_56336997?spm=1011.2124.3001.5343" ref="nofollow noopener noreferrer">æ™·é¾™çƒ¬</a> æœŸå¾…ä¸ä½ çš„ä¸‹æ¬¡ç›¸é‡ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS3 å®ç°16:9å¤§å±å±…ä¸­æ˜¾ç¤º]]></title>    <link>https://juejin.cn/post/7585206349749649460</link>    <guid>https://juejin.cn/post/7585206349749649460</guid>    <pubDate>2025-12-19T12:23:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206349749649460" data-draft-id="7585391510058680372" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS3 å®ç°16:9å¤§å±å±…ä¸­æ˜¾ç¤º"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2025-12-19T12:23:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·188787106984"/> <meta itemprop="url" content="https://juejin.cn/user/2455640372153627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS3 å®ç°16:9å¤§å±å±…ä¸­æ˜¾ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2455640372153627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·188787106984
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T12:23:27.000Z" title="Fri Dec 19 2025 12:23:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å±é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬éœ€è¦åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸Šæ˜¾ç¤ºå±…ä¸­æ˜¾ç¤ºå¤§å±å†…å®¹ï¼Œä¸”ä¸å‡ºç°æ»šåŠ¨æ¡ã€‚å®é™…å±•ç¤ºå¤§å±çš„ç¡¬ä»¶è®¾å¤‡æ¯”ä¾‹ä¸ä¸€ï¼Œä¸ºäº†å…¼å®¹ï¼Œå¹¶ä¸”ä¸å‡ºç°UIè¢«æ‹‰ä¼¸çš„æƒ…å†µï¼Œå‘ç°å¯ä»¥ä½¿ç”¨CSS3çš„transfrom-scaleå±æ€§ï¼Œå¹¶é…åˆCSSå˜é‡å®ç°ã€‚
å…¶ä¸­transfrom-scaleç”¨åœ¨å¤§å±ç»˜åˆ¶æœ€å¤–å±‚ç›’å­ä¸Šï¼Œç›’å­å†…çš„æ ·å¼æŒ‰ç…§UIç»™å‡ºçš„16:9çš„æ¯”ä¾‹ç»˜åˆ¶ã€‚
æ•ˆæœå›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b4d4a9fab4648339fae400b8b35307a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTg4Nzg3MTA2OTg0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766753178&amp;x-signature=CN6RN4q5p92XIrKXoXHTFei5foc%3D" alt="" loading="lazy"/></p>
<p>ä»£ç å±•ç¤ºæœ€å¤–å±‚ç›’å­çš„ç¼©æ”¾æ ·å¼åŠæ¯”ä¾‹è®¡ç®—ï¼š</p>
<p>style</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-pseudo">:root</span> {
    <span class="hljs-attr">--transformScale</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attr">--positionWidth</span>: <span class="hljs-number">1920px</span>;
    <span class="hljs-attr">--positionHeight</span>: <span class="hljs-number">1080px</span>;
  }

  * {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  }

  <span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">justify-content</span>: center;
    <span class="hljs-attribute">overflow</span>: hidden;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;
  }

  <span class="hljs-selector-class">.position</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-built_in">var</span>(--positionWidth);
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">var</span>(--positionHeight);
  }

  <span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">1080px</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">1920px</span>;
    <span class="hljs-attribute">background-color</span>: aquamarine;
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-built_in">var</span>(--transformScale));
    <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0%</span> <span class="hljs-number">0%</span>;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>html</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä¸ºäº†è·å–å±å¹•å®½é«˜æ·»åŠ çš„å…ƒç´  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- ä¸ºäº†å®šä½æ·»åŠ çš„å…ƒç´  --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"position"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>script</p>
<pre><code class="hljs language-ini" lang="ini">&lt;script&gt;
  // å…¨å±€ç¼©æ”¾æ¯”åŸºç¡€å®½
  const <span class="hljs-attr">width</span> = <span class="hljs-number">1920</span><span class="hljs-comment">;</span>
  // å…¨å±€ç¼©æ”¾æ¯”åŸºç¡€é«˜
  const <span class="hljs-attr">height</span> = <span class="hljs-number">1080</span><span class="hljs-comment">;</span>
  // å®½é«˜æ¯”
  const <span class="hljs-attr">ratio</span> = <span class="hljs-number">16</span> / <span class="hljs-number">9</span><span class="hljs-comment">;</span>

  const <span class="hljs-attr">getBaseScale</span> = () =&gt; {
    const <span class="hljs-attr">element</span> = document.getElementsByClassName(<span class="hljs-string">"container"</span>)[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>
    // è·å–å¯è§†åŒºåŸŸçš„å®½åº¦
    const <span class="hljs-attr">w</span> = element.clientWidth<span class="hljs-comment">;</span>
    // è·å–å¯è§†åŒºåŸŸçš„é«˜
    const <span class="hljs-attr">h</span> = element.clientHeight<span class="hljs-comment">;</span>
    // æ ¹æ®å®½é«˜è®¡ç®—æ¯”ä¾‹
    let <span class="hljs-attr">s</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
    if (w / h &gt;= ratio) {
      // è®¾å¤‡å·¦å³ç•™ç™½ ä»¥é«˜åº¦ä¸ºåŸºç¡€è®¡ç®—ç¼©æ”¾æ¯”
      <span class="hljs-attr">s</span> = h / height<span class="hljs-comment">;</span>
    } else {
      <span class="hljs-attr">s</span> = w / width<span class="hljs-comment">;</span>
    }

    const <span class="hljs-attr">pw</span> = s * <span class="hljs-number">1920</span> + <span class="hljs-string">"px"</span><span class="hljs-comment">;</span>
    const <span class="hljs-attr">ph</span> = s * <span class="hljs-number">1080</span> + <span class="hljs-string">"px"</span><span class="hljs-comment">;</span>

    // èµ‹å€¼
    document
      .getElementsByTagName("body")<span class="hljs-section">[0]</span>
      .style.setProperty("--transformScale", s)<span class="hljs-comment">;</span>
    document
      .getElementsByTagName("body")<span class="hljs-section">[0]</span>
      .style.setProperty("--positionWidth", pw)<span class="hljs-comment">;</span>
    document
      .getElementsByTagName("body")<span class="hljs-section">[0]</span>
      .style.setProperty("--positionHeight", ph)<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>

  // çª—å£å˜åŒ–
  <span class="hljs-attr">onresize</span> = getBaseScale<span class="hljs-comment">;</span>

  // åŠ è½½
  <span class="hljs-attr">onload</span> = getBaseScale<span class="hljs-comment">;</span>
&lt;/script&gt;
</code></pre>
<blockquote>
<p>è¡¥å……</p>
</blockquote>
<h5 data-id="heading-0">ä¸€ã€JavaScript æ“ä½œ CSS å˜é‡</h5>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">const</span> root = <span class="hljs-built_in">document</span>.<span class="hljs-built_in">querySelector</span>(<span class="hljs-string">":root"</span>);
<span class="hljs-comment">// è®¾ç½® CSS å˜é‡</span>
root.style.setProperty(<span class="hljs-string">"--transformScale"</span>, <span class="hljs-number">0.2</span>);
</code></pre>

<pre><code class="hljs language-ini" lang="ini">// è¯»å– CSS å˜é‡
const <span class="hljs-attr">computedStyle</span> = getComputedStyle(root)<span class="hljs-comment">;</span>
const <span class="hljs-attr">transformScale</span> = computedStyle.getPropertyValue(<span class="hljs-string">"--transformScale"</span>)<span class="hljs-comment">;</span>
console.log(transformScale)<span class="hljs-comment">;</span>
</code></pre>

<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åˆ é™¤ CSS å˜é‡</span>
root.style.<span class="hljs-built_in">removeProperty</span>(<span class="hljs-string">"--transformScale"</span>);
</code></pre>
<h5 data-id="heading-1">äºŒã€CSS3 transform: scale</h5>
<p>è¯­æ³•ï¼štransform: scale(x, y)   transform: scaleX(x)   transform: scaleY(y)
1ã€scale(x, y) å¯¹å…ƒç´ è¿›è¡Œç¼©æ”¾ï¼›
â‘  xè¡¨ç¤ºæ°´å¹³æ–¹å‘ï¼Œyè¡¨ç¤ºç«–ç›´æ–¹å‘ï¼›
â‘¡ yæ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œå¦‚æœä¸å†™çš„è¯ï¼ŒXï¼ŒY ä¸¤ä¸ªæ–¹å‘ç¼©æ”¾ä¸€æ ·ï¼›
2ã€scaleX(x) å¯¹å…ƒç´ åªåœ¨xè½´(æ°´å¹³æ–¹å‘)è¿›è¡Œç¼©æ”¾ï¼›
3ã€scaleY(y) å¯¹å…ƒç´ åªåœ¨yè½´(ç«–ç›´æ–¹å‘)è¿›è¡Œç¼©æ”¾;
4ã€å­˜åœ¨ 2D è½¬æ¢æˆ– 3D è½¬æ¢ã€‚</p>
<p>å…¼å®¹æ€§ï¼šå‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcaniuse.com%2F%3Fsearch%3Dtransform" target="_blank" title="https://caniuse.com/?search=transform" ref="nofollow noopener noreferrer">caniuse.com/?search=traâ€¦</a></p>
<h5 data-id="heading-2">ä¸‰ã€CSS3 transform-origin</h5>
<p>è¯­æ³•ï¼štransform-origin: x y z;
1ã€æ”¹å˜è¢«è½¬æ¢å…ƒç´ çš„ä½ç½®ï¼›
2ã€å­˜åœ¨ 2D è½¬æ¢æˆ– 3D è½¬æ¢ï¼›
3ã€ç›¸å¯¹äºçˆ¶èŠ‚ç‚¹æ”¹å˜ä½ç½®ã€‚</p>





















<table><thead><tr><th align="center">å€¼</th><th>å±æ€§å€¼</th></tr></thead><tbody><tr><td align="center">x</td><td>left	center	right	length	%</td></tr><tr><td align="center">y</td><td>top	center	bottom	length	%</td></tr><tr><td align="center">z</td><td>length</td></tr></tbody></table>
<p>å…¼å®¹æ€§ï¼šå‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcaniuse.com%2F%3Fsearch%3Dtransform-origin" target="_blank" title="https://caniuse.com/?search=transform-origin" ref="nofollow noopener noreferrer">caniuse.com/?search=traâ€¦</a></p>
<p>åšå®¢å›­åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fwttt123%2Fp%2F18104247" target="_blank" title="https://www.cnblogs.com/wttt123/p/18104247" ref="nofollow noopener noreferrer">www.cnblogs.com/wttt123/p/1â€¦</a></p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS3 clip-path+animationå®ç°ä¸è§„åˆ™å®¹å™¨ä¸­çš„ç²’å­ä¸‹è½]]></title>    <link>https://juejin.cn/post/7585406030020870179</link>    <guid>https://juejin.cn/post/7585406030020870179</guid>    <pubDate>2025-12-19T12:26:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406030020870179" data-draft-id="7585206349749665844" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS3 clip-path+animationå®ç°ä¸è§„åˆ™å®¹å™¨ä¸­çš„ç²’å­ä¸‹è½"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2025-12-19T12:26:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·188787106984"/> <meta itemprop="url" content="https://juejin.cn/user/2455640372153627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS3 clip-path+animationå®ç°ä¸è§„åˆ™å®¹å™¨ä¸­çš„ç²’å­ä¸‹è½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2455640372153627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·188787106984
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T12:26:33.000Z" title="Fri Dec 19 2025 12:26:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨CSS3çš„clip-pathå®ç°ä¸è§„åˆ™å›¾å½¢è£å‰ªï¼Œç»“åˆCSS3 animationå®ç°ç²’å­ä¸‹è½åŠ¨ç”»æ•ˆæœï¼Œå¦‚ä¸‹ï¼š</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4297cc5f6803456dbb845d351c677b93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTg4Nzg3MTA2OTg0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766753098&amp;x-signature=%2Bpfmdgg3VoKxUyKkcTjJfoWgUpc%3D" height="200px" loading="lazy"/>
<p>html:
åˆ›å»ºä¸è§„åˆ™å®¹å™¨åŠä¸‹è½çš„ç²’å­èŠ‚ç‚¹ï¼›</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"particle"</span>&gt;
  &lt;i <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item of 20"</span> :key=<span class="hljs-string">"item"</span> class=<span class="hljs-string">"particle-item"</span>&gt;&lt;/i&gt;
&lt;/div&gt;
</code></pre>
<p>style:
1ã€æ­¤demoä½¿ç”¨lesså®ç°æ ·å¼ï¼›</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ä¸è§„åˆ™å®¹å™¨æ ·å¼ */</span>
<span class="hljs-selector-class">.particle</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">90px</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">110px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">236px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">180deg</span>, <span class="hljs-number">#F44336</span> <span class="hljs-number">0%</span>, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">250</span>, <span class="hljs-number">33</span>, <span class="hljs-number">245</span>, <span class="hljs-number">0.4</span>) <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">polygon</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span>, <span class="hljs-number">100px</span> <span class="hljs-number">0</span>, <span class="hljs-number">100px</span> <span class="hljs-number">200px</span>, <span class="hljs-number">46px</span> <span class="hljs-number">236px</span>, <span class="hljs-number">0</span> <span class="hljs-number">200px</span>);
}

<span class="hljs-comment">/* ä¸‹è½ç²’å­æ ·å¼ */</span>
<span class="hljs-selector-class">.particle-item</span> {
  &amp;<span class="hljs-selector-pseudo">::before</span>,
  &amp;<span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">4px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">4px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
    <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>);
  }
  <span class="hljs-comment">/* è°ƒç”¨ç²’å­ä¸‹è½æ ·å¼å‡½æ•° */</span>
  <span class="hljs-selector-class">.particle-selectors</span>(<span class="hljs-number">20</span>);
}
</code></pre>
<p>2ã€ç²’å­ä¸‹è½æ ·å¼å‡½æ•°ä¸»è¦è®¡ç®—ç²’å­çš„åˆå§‹ä½ç½®åŠä¸‹è½è·¯å¾„ï¼›</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-class">.particle-selectors</span>(<span class="hljs-variable">@n</span>, <span class="hljs-variable">@i</span>:<span class="hljs-number">1</span>) <span class="hljs-keyword">when</span> (<span class="hljs-variable">@i</span> &lt;= <span class="hljs-variable">@n</span>) {
  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-variable">@{i}</span>) {
    <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::before</span> ,
    <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::after</span> {
      <span class="hljs-variable">@w:</span> <span class="hljs-built_in">`Math.floor(Math.random() * 100) `</span>;
      <span class="hljs-variable">@h:</span> <span class="hljs-built_in">`Math.floor(Math.random() * -100) `</span>;
      <span class="hljs-variable">@d:</span> <span class="hljs-built_in">`Math.random() * 0.2 `</span>;
      <span class="hljs-variable">@du:</span> <span class="hljs-built_in">calc</span>(<span class="hljs-string">~'@{d}s + 5s'</span>);
      <span class="hljs-variable">@t:</span> <span class="hljs-built_in">`Math.random() * -10 `</span>;
      <span class="hljs-variable">@ti:</span> <span class="hljs-built_in">calc</span>(<span class="hljs-string">~'@{t} * 0.6s'</span>);

      <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-string">~'@{w} * 1px'</span>);
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-built_in">calc</span>(<span class="hljs-string">~'@{h} * 2px'</span>));
      <span class="hljs-selector-class">.animation</span>(<span class="hljs-variable">@du</span>, <span class="hljs-variable">@ti</span>);
    }
  }
  <span class="hljs-selector-class">.particle-selectors</span>(<span class="hljs-variable">@n</span>,(<span class="hljs-variable">@i</span> + <span class="hljs-number">1</span>));
}
</code></pre>
<p>3ã€ç²’å­ä¸‹è½åŠ¨ç”»ï¼›</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-class">.animation</span>(<span class="hljs-variable">@du</span>, <span class="hljs-variable">@de</span>) {
  <span class="hljs-keyword">@keyframes</span> frame {
    <span class="hljs-selector-tag">from</span> {
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">20px</span>);
    }
    <span class="hljs-selector-tag">to</span> {
      <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">280px</span>);
    }
  }
  <span class="hljs-attribute">animation</span>: frame <span class="hljs-number">10s</span> infinite;
  <span class="hljs-attribute">animation-delay</span>: <span class="hljs-variable">@de</span>;
  <span class="hljs-attribute">animation-duration</span>: <span class="hljs-variable">@du</span>;
}
</code></pre>
<p>åšå®¢å›­åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fwttt123%2Fp%2F18296125" target="_blank" title="https://www.cnblogs.com/wttt123/p/18296125" ref="nofollow noopener noreferrer">www.cnblogs.com/wttt123/p/1â€¦</a></p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å®ç°é¡µé¢æˆªå›¾åŠæˆªå›¾å†…å®¹åŒ…å«è·¨åŸŸå›¾ç‰‡æ—¶çš„å¤„ç†]]></title>    <link>https://juejin.cn/post/7585406030020886563</link>    <guid>https://juejin.cn/post/7585406030020886563</guid>    <pubDate>2025-12-19T12:54:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406030020886563" data-draft-id="7585394082823012386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å®ç°é¡µé¢æˆªå›¾åŠæˆªå›¾å†…å®¹åŒ…å«è·¨åŸŸå›¾ç‰‡æ—¶çš„å¤„ç†"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-12-19T12:54:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·188787106984"/> <meta itemprop="url" content="https://juejin.cn/user/2455640372153627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å®ç°é¡µé¢æˆªå›¾åŠæˆªå›¾å†…å®¹åŒ…å«è·¨åŸŸå›¾ç‰‡æ—¶çš„å¤„ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2455640372153627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·188787106984
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T12:54:19.000Z" title="Fri Dec 19 2025 12:54:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¡¹ç›®ä¸­é‡åˆ°éœ€è¦å®ç°æŒ‡å®šä½ç½®çš„æˆªå›¾ï¼Œé‡‡å–ä½¿ç”¨ä¾èµ– html2canvas å®ç°ã€‚
å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhtml2canvas.hertzen.com%2F" target="_blank" title="https://html2canvas.hertzen.com/" ref="nofollow noopener noreferrer">html2canvas.hertzen.com/</a></p>
<h4 data-id="heading-0">ä¸€ã€å®ç°æ­¥éª¤ï¼š</h4>
<p>1ã€ä¸‹è½½ä¾èµ–æˆ–è€…ä½¿ç”¨å®˜æ–¹jsæ–‡ä»¶é“¾æ¥ï¼Œæœ¬æ–‡ä½¿ç”¨çš„jsé“¾æ¥ï¼›
2ã€ä»£ç 
style</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.screen-box</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;
}
</code></pre>
<p>html</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"screen-box"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"screen-box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªéœ€è¦æˆªå›¾çš„åŒºåŸŸ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"screenShot()"</span>&gt;</span>ç‚¹å‡»æˆªå›¾<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<p>script</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://html2canvas.hertzen.com/dist/html2canvas.min.js"</span>&gt;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">srcipt</span>&gt;</span>
</span></code></pre>

<pre><code class="hljs language-ini" lang="ini">&lt;script&gt;
function screenShot() {
  const <span class="hljs-attr">element</span> = document.getElementById(<span class="hljs-string">'screen-box'</span>)<span class="hljs-comment">;</span>
  html2canvas(element).then(<span class="hljs-attr">canvas</span> =&gt; {
    const <span class="hljs-attr">img</span> = canvas.toDataURL(<span class="hljs-string">'image/png'</span>)<span class="hljs-comment">;</span>
    downloadImage(img)<span class="hljs-comment">;</span>
  })
}

function downloadImage(imgUrl, <span class="hljs-attr">fileName</span> = <span class="hljs-string">'image.png'</span>) {
  // 1. åˆ›å»ºaæ ‡ç­¾
  const <span class="hljs-attr">link</span> = document.createElement(<span class="hljs-string">'a'</span>)<span class="hljs-comment">;</span>
  // 2. è®¾ç½®ä¸‹è½½å±æ€§ï¼ˆæŒ‡å®šæ–‡ä»¶åï¼‰
  <span class="hljs-attr">link.download</span> = fileName<span class="hljs-comment">;</span>
  // 3. è®¾ç½®å›¾ç‰‡åœ°å€ä¸ºaæ ‡ç­¾çš„href
  <span class="hljs-attr">link.href</span> = imgUrl<span class="hljs-comment">;</span>
  // 4. éšè—aæ ‡ç­¾ï¼ˆå¯é€‰ï¼Œé¿å…é¡µé¢æ¸²æŸ“ï¼‰
  // <span class="hljs-attr">link.style.display</span> = <span class="hljs-string">'none'</span><span class="hljs-comment">;</span>
  // 5. å°†aæ ‡ç­¾æ·»åŠ åˆ°DOMä¸­ï¼ˆéƒ¨åˆ†æµè§ˆå™¨éœ€è¦ï¼‰
  document.body.appendChild(link)<span class="hljs-comment">;</span>
  // 6. è§¦å‘ç‚¹å‡»äº‹ä»¶ä¸‹è½½
  link.click()<span class="hljs-comment">;</span>
  // 7. ä¸‹è½½åç§»é™¤aæ ‡ç­¾ï¼ˆæ¸…ç†DOMï¼‰
  document.body.removeChild(link)<span class="hljs-comment">;</span>
}
</code></pre>
<h4 data-id="heading-1">äºŒã€æ˜“é”™ï¼š</h4>
<p>1ã€å½“ html ä¸­åŒ…å«æœ‰åŒæºå›¾ç‰‡æ—¶ï¼Œæ­¤ä»£ç å¯ä¸‹è½½çš„å›¾ç‰‡æ–‡ä»¶ä¸­åŒ…å«htmlçš„å›¾ç‰‡ï¼›
2ã€å½“ html ä¸­åŒ…å«è·¨åŸŸå›¾ç‰‡æ—¶ï¼Œæ­¤ä»£ç ä¸‹è½½çš„å›¾ç‰‡æ–‡ä»¶ä¼šä¸­ä¸ä¼šæ˜¾ç¤ºhtmlåŒ…å«çš„æ–‡ä»¶ã€‚
ä¾‹å¦‚ï¼Œå½“éœ€æˆªå›¾çš„ä»£ç ç‰‡æ®µä¸­å«æœ‰ç”±ç¬¬ä¸‰æ–¹å¼•å…¥çš„å›¾ç‰‡åœ°å€ï¼š
htmlï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">id</span>=<span class="hljs-string">"screen-box"</span> class=<span class="hljs-string">"screen-box"</span>&gt;
  &lt;h1&gt;è¿™æ˜¯ä¸€ä¸ªéœ€è¦æˆªå›¾çš„åŒºåŸŸ&lt;/h1&gt;
  &lt;img <span class="hljs-attr">src</span>=<span class="hljs-string">"https://gips3.baidu.com/it/u=1821127123,1149655687&amp;fm=3028&amp;app=3028&amp;f=JPEG&amp;fmt=auto?w=720&amp;h=1280"</span>
      <span class="hljs-attr">height</span>=<span class="hljs-string">"300px"</span> title=<span class="hljs-string">"æˆªå›¾åŒºå›¾ç‰‡"</span> alt=<span class="hljs-string">"å›¾ç‰‡"</span> /&gt;
&lt;/div&gt;
&lt;button <span class="hljs-attr">onclick</span>=<span class="hljs-string">"screenShot()"</span>&gt;ç‚¹å‡»æˆªå›¾&lt;/button&gt;
</code></pre>
<p>æˆªå›¾ï¼š <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c05c6db92a44192b97141583866c921~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTg4Nzg3MTA2OTg0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766753659&amp;x-signature=GrXnEnAxfAkmKyL0vzN9n9I4Rxw%3D" width="300" loading="lazy"/></p>
<h5 data-id="heading-2">åŸå› ï¼š</h5>
<p>è¿™æ˜¯ç”±äº canvas å—é™äº CORS ç­–ç•¥, ä¼šå­˜åœ¨è·¨åŸŸé—®é¢˜, è™½ç„¶å¯ä»¥ä½¿ç”¨å›¾åƒ, ä½†æ˜¯ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šä¼šæ±¡æŸ“ç”»å¸ƒ, ä¸€æ—¦ä¸€ä¸ªç”»å¸ƒè¢«æ±¡æŸ“, å°±æ— æ³•æå–ç”»å¸ƒçš„æ•°æ®ã€‚æ¯”å¦‚æ— æ³•ä½¿ç”¨ç”»å¸ƒ toBlod() , toDataURL() æˆ–è€… getImageData() æ–¹æ³•ã€‚</p>
<h5 data-id="heading-3">è§£å†³åŠæ³•ï¼š</h5>
<p>å¢åŠ ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å°†æ–‡ä»¶è¯»å…¥åˆ° blob æ–‡ä»¶å¯¹è±¡, ç„¶åä½¿ç”¨ URL.createObjectURL è½¬æ¢æˆ src å¯ç”¨çš„åœ°å€</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">toBlob</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> domUrl = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">'img'</span>)[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(domUrl.<span class="hljs-property">src</span>, { <span class="hljs-attr">mode</span>: <span class="hljs-string">'cors'</span> });
  <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å›¾ç‰‡è¯·æ±‚å¤±è´¥'</span>);
  <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">blob</span>();
  <span class="hljs-keyword">const</span> blobUrl = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob);
  domUrl.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'src'</span>, blobUrl);
}
</code></pre>
<p>ä¿®æ”¹ screenShot å‡½æ•°ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">async</span> function <span class="hljs-title">screenShot</span>()</span> {
  <span class="hljs-keyword">await</span> toBlob();
  ...
}
</code></pre>
<p>ä¿®æ”¹ä»£ç åï¼Œæˆªå›¾å¦‚ä¸‹ï¼š</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39087970ae454c5b8b6b6e05793c460d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTg4Nzg3MTA2OTg0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766753659&amp;x-signature=Ulz%2BxMH7EuzFLTRZeIK5JCBMPS0%3D" width="300" loading="lazy"/>
<h4 data-id="heading-4">ä¸‰ã€æœ¬åœ°åœ°å€çš„å›¾ç‰‡ï¼ˆåœ°å€ä¸º"file://"å¼€å¤´ï¼‰ä¸æ”¯æŒæ­¤æ–¹æ³•</h4>
<h5 data-id="heading-5">è§£å†³åŠæ³•ï¼š</h5>
<p>å¯å°†å›¾ç‰‡è½¬ç åèµ‹å€¼imgæ ‡ç­¾çš„srcå±æ€§å†è¿›è¡Œæ“ä½œã€‚</p>
<p>åšå®¢å›­ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fwttt123%2Fp%2F19323299" target="_blank" title="https://www.cnblogs.com/wttt123/p/19323299" ref="nofollow noopener noreferrer">www.cnblogs.com/wttt123/p/1â€¦</a></p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SVGæè¾¹ - CSS3å®ç°åŠ¨ç”»ç»˜åˆ¶çŸ¢é‡å›¾]]></title>    <link>https://juejin.cn/post/7585406030020968483</link>    <guid>https://juejin.cn/post/7585406030020968483</guid>    <pubDate>2025-12-19T13:04:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406030020968483" data-draft-id="7585406030020935715" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SVGæè¾¹ - CSS3å®ç°åŠ¨ç”»ç»˜åˆ¶çŸ¢é‡å›¾"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T13:04:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·188787106984"/> <meta itemprop="url" content="https://juejin.cn/user/2455640372153627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SVGæè¾¹ - CSS3å®ç°åŠ¨ç”»ç»˜åˆ¶çŸ¢é‡å›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2455640372153627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·188787106984
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T13:04:17.000Z" title="Fri Dec 19 2025 13:04:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»43åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨ SVG çš„ stroke-dasharray åŠ stroke-dashoffsetï¼Œç»“åˆ CSS3 animation å®ç°ç”»ç¬”ç»˜åˆ¶çŸ¢é‡å›¾çš„åŠ¨ç”»æ•ˆæœï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac29e600cd884decad013bb615b5d02a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTg4Nzg3MTA2OTg0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754311&amp;x-signature=wo9Gx9O86UgoyXxJrAJP4Zt5Uac%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-0">html</h3>
<pre><code class="hljs language-ini" lang="ini">&lt;svg
    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>
    <span class="hljs-attr">pointer-events</span>=<span class="hljs-string">"none"</span>
    <span class="hljs-attr">class</span>=<span class="hljs-string">"leaflet-zoom-animated"</span>
    <span class="hljs-attr">width</span>=<span class="hljs-string">"1452"</span>
    <span class="hljs-attr">height</span>=<span class="hljs-string">"857"</span>
    <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"-121 -71 1452 857"</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">"transform: translate3d(-121px, -71px, 0px)"</span>
  &gt;
    &lt;g&gt;
      &lt;path
        <span class="hljs-attr">class</span>=<span class="hljs-string">"leaflet-interactive"</span>
        <span class="hljs-attr">stroke</span>=<span class="hljs-string">"black"</span>
        <span class="hljs-attr">stroke-opacity</span>=<span class="hljs-string">"1"</span>
        <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span>
        <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span>
        <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span>
        <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>
        <span class="hljs-attr">fill-opacity</span>=<span class="hljs-string">"0"</span>
        <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">"evenodd"</span>
        <span class="hljs-attr">d</span>=<span class="hljs-string">"M605 623L605 625L609 621L610 623L613 622L616 624L624 616L630 612L637 610L638 608L641 610L639 614L642 616L645 616L646 613L652 610L652 608L653 610L657 610L657 602L659 602L660 600L656 584L653 580L652 575L654 569L652 561L655 555L656 557L660 555L663 556L666 549L670 547L670 544L676 540L680 535L680 531L683 527L681 527L680 524L677 523L678 518L682 516L686 511L690 514L697 509L695 499L693 498L696 494L696 490L698 493L699 492L701 494L706 492L708 494L711 491L722 492L722 494L720 494L718 497L714 497L716 507L721 508L721 510L724 511L723 514L721 514L722 516L724 516L724 519L720 522L717 522L726 531L730 533L737 530L743 530L745 528L745 525L746 526L748 524L748 521L751 520L757 521L757 525L761 525L762 527L759 530L760 533L763 534L762 540L769 536L776 539L778 542L784 539L787 540L788 538L800 536L803 537L810 534L808 530L809 527L805 524L806 520L801 516L798 516L795 518L796 519L793 519L792 517L789 519L789 512L784 507L782 511L778 508L778 502L776 500L777 498L780 497L780 494L789 494L789 491L793 485L796 489L798 489L799 492L801 491L803 495L809 500L811 500L811 497L809 496L809 490L804 478L796 478L796 475L794 474L789 478L788 476L787 477L783 473L784 472L782 468L783 466L781 464L781 458L779 460L777 458L776 460L774 458L772 459L770 458L770 456L768 457L769 452L766 451L766 449L763 450L764 449L762 443L767 439L766 438L769 438L770 436L773 437L775 434L775 430L782 428L781 425L783 420L780 419L778 415L776 415L775 412L774 413L774 411L778 411L777 406L782 407L781 404L785 398L790 399L791 401L796 401L800 405L801 404L804 410L808 410L808 408L813 408L814 405L820 404L823 407L822 409L825 412L826 417L830 420L832 418L836 419L839 416L841 419L844 417L843 416L848 412L855 398L863 387L860 385L861 383L859 382L863 375L869 377L871 374L873 374L874 378L876 377L877 379L885 373L882 370L885 366L888 366L886 363L889 358L889 355L886 355L894 350L892 348L895 346L894 343L896 341L900 341L901 339L903 339L902 337L905 334L908 334L908 329L910 327L903 324L903 322L901 322L897 316L901 316L901 311L906 310L902 305L906 305L909 303L907 300L900 302L895 301L893 303L887 303L885 307L882 304L879 304L874 296L872 297L871 293L867 292L864 294L860 292L860 286L858 285L854 288L852 293L850 292L843 285L845 282L842 277L843 276L828 275L823 278L821 277L815 279L813 281L810 278L802 277L797 273L798 270L796 268L795 270L786 270L784 274L781 273L777 277L774 274L771 265L769 264L767 265L767 270L770 274L762 279L760 278L755 282L753 282L750 279L745 282L743 282L742 279L734 279L722 273L716 268L716 264L719 264L723 260L719 258L720 254L717 244L722 243L718 242L711 235L711 227L706 223L697 223L693 225L687 221L681 224L683 220L681 216L677 220L674 220L669 216L665 216L666 211L663 209L665 206L664 202L666 201L662 196L656 195L657 193L655 189L652 189L651 191L642 195L642 197L639 198L642 200L633 202L632 201L630 207L626 207L627 206L618 208L623 213L623 217L627 219L625 221L628 221L626 224L627 226L634 231L632 232L632 237L629 239L625 238L621 242L621 248L617 245L615 250L610 250L606 255L604 254L605 250L602 246L606 244L606 241L610 236L605 228L603 231L602 230L602 236L598 237L596 243L599 244L600 247L595 255L589 248L584 249L585 252L580 246L575 246L574 248L572 248L574 253L573 256L575 258L575 261L572 261L572 265L577 268L577 275L574 279L572 280L572 278L570 278L564 282L562 280L556 280L553 278L554 281L551 282L552 286L550 286L545 282L540 275L539 277L539 275L536 276L533 274L531 282L530 280L527 280L525 278L527 276L527 269L524 266L522 266L523 264L519 263L519 261L516 258L514 264L511 263L510 265L512 267L508 275L508 273L503 272L501 269L498 269L493 266L488 267L484 258L471 254L468 251L465 244L466 240L464 238L464 234L460 231L458 227L460 225L454 218L452 218L453 217L449 213L450 204L448 203L448 201L440 202L435 199L432 200L428 195L421 194L420 197L415 199L417 203L414 206L415 208L413 210L403 212L403 214L401 215L404 221L404 228L408 229L410 235L413 235L419 239L417 239L417 241L415 241L411 248L409 249L407 253L409 257L409 259L407 259L408 261L401 264L402 272L406 279L412 281L416 286L426 288L440 296L440 301L444 308L450 314L450 319L448 319L449 324L453 327L455 333L470 348L466 354L464 354L462 350L459 350L458 358L467 368L465 373L474 382L471 385L473 390L472 393L474 397L475 413L478 416L477 419L479 424L476 430L475 437L478 443L479 458L481 460L480 464L482 476L480 483L482 487L482 492L484 494L483 503L489 510L488 511L494 517L493 508L496 504L494 502L494 498L500 492L501 488L504 486L503 485L508 481L508 486L521 498L521 500L525 503L524 504L529 508L528 510L530 512L528 514L523 515L522 517L525 523L530 528L529 529L533 532L535 531L535 538L536 539L541 532L546 534L549 532L550 529L552 529L554 532L553 535L560 542L559 543L563 549L562 553L563 552L565 554L569 566L574 566L573 575L579 578L578 580L585 584L583 588L584 589L586 590L588 589L588 587L590 588L587 591L589 593L588 596L585 596L585 599L596 607L595 609L597 609L593 612L594 614L599 615L604 622zM806 410L806 410zM839 416L839 416zM774 411L774 411z"</span>
        <span class="hljs-attr">id</span>=<span class="hljs-string">"å››å·çœ"</span>
      /&gt;
    &lt;/g&gt;
  &lt;/svg&gt;
</code></pre>
<h3 data-id="heading-1">style</h3>
<pre><code class="hljs language-css" lang="css">path {
  stroke-dasharray: <span class="hljs-number">2810</span>;
  stroke-dashoffset: <span class="hljs-number">2810</span>;
  fill-<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-comment">/* animation: name duration timing-function delay iteration-count direction fill-mode play-state; */</span>
  <span class="hljs-attribute">animation</span>: dash <span class="hljs-number">10s</span> linear <span class="hljs-number">3s</span> <span class="hljs-number">1</span> forwards,
              dashOpacity <span class="hljs-number">5s</span> linear <span class="hljs-number">14s</span> <span class="hljs-number">1</span> forwards;
}
<span class="hljs-keyword">@keyframes</span> dash {
  <span class="hljs-selector-tag">to</span> {
    stroke-dashoffset: <span class="hljs-number">0</span>;
  }
}
<span class="hljs-keyword">@keyframes</span> dashOpacity {
  <span class="hljs-selector-tag">to</span> {
    fill-<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.3</span>;
  }
}
</code></pre>
<h3 data-id="heading-2">script</h3>
<p>ç”¨äºè·å– svg çŸ¢é‡å›¾çš„é•¿åº¦</p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">path</span> = document.querySelector(<span class="hljs-string">"path"</span>)<span class="hljs-comment">;</span>
var <span class="hljs-attr">length</span> = path.getTotalLength()<span class="hljs-comment">;</span>
console.log(length)<span class="hljs-comment">;</span>
</code></pre>
<p>æ‹“å±•ï¼šåœ¨ä»¥ä¸ŠåŸºç¡€ä¸Šå®ç°æµå…‰æ•ˆæœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe93eb97ccc649fd8912bf352efa9f14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTg4Nzg3MTA2OTg0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754311&amp;x-signature=xCDSCVohTyxT8S5ftHR73lBgONE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">html</h3>
<pre><code class="hljs language-ini" lang="ini">&lt;svg
  <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>
  <span class="hljs-attr">pointer-events</span>=<span class="hljs-string">"cursor"</span>
  <span class="hljs-attr">width</span>=<span class="hljs-string">"1452"</span>
  <span class="hljs-attr">height</span>=<span class="hljs-string">"857"</span>
  <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"-121 -71 1452 857"</span>
&gt;
  &lt;g&gt;
    &lt;path
      <span class="hljs-attr">class</span>=<span class="hljs-string">"animation-0"</span>
      <span class="hljs-attr">stroke-opacity</span>=<span class="hljs-string">"1"</span>
      <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span>
      <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span>
      <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span>
      <span class="hljs-attr">fill-opacity</span>=<span class="hljs-string">"0"</span>
      <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">"evenodd"</span>
      <span class="hljs-attr">d</span>=<span class="hljs-string">"M605 623L605 625L609 621L610 623L613 622L616 624L624 616L630 612L637 610L638 608L641 610L639 614L642 616L645 616L646 613L652 610L652 608L653 610L657 610L657 602L659 602L660 600L656 584L653 580L652 575L654 569L652 561L655 555L656 557L660 555L663 556L666 549L670 547L670 544L676 540L680 535L680 531L683 527L681 527L680 524L677 523L678 518L682 516L686 511L690 514L697 509L695 499L693 498L696 494L696 490L698 493L699 492L701 494L706 492L708 494L711 491L722 492L722 494L720 494L718 497L714 497L716 507L721 508L721 510L724 511L723 514L721 514L722 516L724 516L724 519L720 522L717 522L726 531L730 533L737 530L743 530L745 528L745 525L746 526L748 524L748 521L751 520L757 521L757 525L761 525L762 527L759 530L760 533L763 534L762 540L769 536L776 539L778 542L784 539L787 540L788 538L800 536L803 537L810 534L808 530L809 527L805 524L806 520L801 516L798 516L795 518L796 519L793 519L792 517L789 519L789 512L784 507L782 511L778 508L778 502L776 500L777 498L780 497L780 494L789 494L789 491L793 485L796 489L798 489L799 492L801 491L803 495L809 500L811 500L811 497L809 496L809 490L804 478L796 478L796 475L794 474L789 478L788 476L787 477L783 473L784 472L782 468L783 466L781 464L781 458L779 460L777 458L776 460L774 458L772 459L770 458L770 456L768 457L769 452L766 451L766 449L763 450L764 449L762 443L767 439L766 438L769 438L770 436L773 437L775 434L775 430L782 428L781 425L783 420L780 419L778 415L776 415L775 412L774 413L774 411L778 411L777 406L782 407L781 404L785 398L790 399L791 401L796 401L800 405L801 404L804 410L808 410L808 408L813 408L814 405L820 404L823 407L822 409L825 412L826 417L830 420L832 418L836 419L839 416L841 419L844 417L843 416L848 412L855 398L863 387L860 385L861 383L859 382L863 375L869 377L871 374L873 374L874 378L876 377L877 379L885 373L882 370L885 366L888 366L886 363L889 358L889 355L886 355L894 350L892 348L895 346L894 343L896 341L900 341L901 339L903 339L902 337L905 334L908 334L908 329L910 327L903 324L903 322L901 322L897 316L901 316L901 311L906 310L902 305L906 305L909 303L907 300L900 302L895 301L893 303L887 303L885 307L882 304L879 304L874 296L872 297L871 293L867 292L864 294L860 292L860 286L858 285L854 288L852 293L850 292L843 285L845 282L842 277L843 276L828 275L823 278L821 277L815 279L813 281L810 278L802 277L797 273L798 270L796 268L795 270L786 270L784 274L781 273L777 277L774 274L771 265L769 264L767 265L767 270L770 274L762 279L760 278L755 282L753 282L750 279L745 282L743 282L742 279L734 279L722 273L716 268L716 264L719 264L723 260L719 258L720 254L717 244L722 243L718 242L711 235L711 227L706 223L697 223L693 225L687 221L681 224L683 220L681 216L677 220L674 220L669 216L665 216L666 211L663 209L665 206L664 202L666 201L662 196L656 195L657 193L655 189L652 189L651 191L642 195L642 197L639 198L642 200L633 202L632 201L630 207L626 207L627 206L618 208L623 213L623 217L627 219L625 221L628 221L626 224L627 226L634 231L632 232L632 237L629 239L625 238L621 242L621 248L617 245L615 250L610 250L606 255L604 254L605 250L602 246L606 244L606 241L610 236L605 228L603 231L602 230L602 236L598 237L596 243L599 244L600 247L595 255L589 248L584 249L585 252L580 246L575 246L574 248L572 248L574 253L573 256L575 258L575 261L572 261L572 265L577 268L577 275L574 279L572 280L572 278L570 278L564 282L562 280L556 280L553 278L554 281L551 282L552 286L550 286L545 282L540 275L539 277L539 275L536 276L533 274L531 282L530 280L527 280L525 278L527 276L527 269L524 266L522 266L523 264L519 263L519 261L516 258L514 264L511 263L510 265L512 267L508 275L508 273L503 272L501 269L498 269L493 266L488 267L484 258L471 254L468 251L465 244L466 240L464 238L464 234L460 231L458 227L460 225L454 218L452 218L453 217L449 213L450 204L448 203L448 201L440 202L435 199L432 200L428 195L421 194L420 197L415 199L417 203L414 206L415 208L413 210L403 212L403 214L401 215L404 221L404 228L408 229L410 235L413 235L419 239L417 239L417 241L415 241L411 248L409 249L407 253L409 257L409 259L407 259L408 261L401 264L402 272L406 279L412 281L416 286L426 288L440 296L440 301L444 308L450 314L450 319L448 319L449 324L453 327L455 333L470 348L466 354L464 354L462 350L459 350L458 358L467 368L465 373L474 382L471 385L473 390L472 393L474 397L475 413L478 416L477 419L479 424L476 430L475 437L478 443L479 458L481 460L480 464L482 476L480 483L482 487L482 492L484 494L483 503L489 510L488 511L494 517L493 508L496 504L494 502L494 498L500 492L501 488L504 486L503 485L508 481L508 486L521 498L521 500L525 503L524 504L529 508L528 510L530 512L528 514L523 515L522 517L525 523L530 528L529 529L533 532L535 531L535 538L536 539L541 532L546 534L549 532L550 529L552 529L554 532L553 535L560 542L559 543L563 549L562 553L563 552L565 554L569 566L574 566L573 575L579 578L578 580L585 584L583 588L584 589L586 590L588 589L588 587L590 588L587 591L589 593L588 596L585 596L585 599L596 607L595 609L597 609L593 612L594 614L599 615L604 622zM806 410L806 410zM839 416L839 416zM774 411L774 411z"</span>
      <span class="hljs-attr">id</span>=<span class="hljs-string">"å››å·çœ"</span>
      <span class="hljs-attr">stroke</span>=<span class="hljs-string">"#00ffd0"</span>
      <span class="hljs-attr">stroke-dasharray</span>=<span class="hljs-string">"2810"</span>
      <span class="hljs-attr">stroke-dashoffset</span>=<span class="hljs-string">"2810"</span>
    /&gt;
    &lt;path
      <span class="hljs-attr">class</span>=<span class="hljs-string">"animation-1"</span>
      <span class="hljs-attr">stroke-opacity</span>=<span class="hljs-string">"0"</span>
      <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span>
      <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span>
      <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span>
      <span class="hljs-attr">fill-opacity</span>=<span class="hljs-string">"0"</span>
      <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">"evenodd"</span>
      <span class="hljs-attr">d</span>=<span class="hljs-string">"M605 623L605 625L609 621L610 623L613 622L616 624L624 616L630 612L637 610L638 608L641 610L639 614L642 616L645 616L646 613L652 610L652 608L653 610L657 610L657 602L659 602L660 600L656 584L653 580L652 575L654 569L652 561L655 555L656 557L660 555L663 556L666 549L670 547L670 544L676 540L680 535L680 531L683 527L681 527L680 524L677 523L678 518L682 516L686 511L690 514L697 509L695 499L693 498L696 494L696 490L698 493L699 492L701 494L706 492L708 494L711 491L722 492L722 494L720 494L718 497L714 497L716 507L721 508L721 510L724 511L723 514L721 514L722 516L724 516L724 519L720 522L717 522L726 531L730 533L737 530L743 530L745 528L745 525L746 526L748 524L748 521L751 520L757 521L757 525L761 525L762 527L759 530L760 533L763 534L762 540L769 536L776 539L778 542L784 539L787 540L788 538L800 536L803 537L810 534L808 530L809 527L805 524L806 520L801 516L798 516L795 518L796 519L793 519L792 517L789 519L789 512L784 507L782 511L778 508L778 502L776 500L777 498L780 497L780 494L789 494L789 491L793 485L796 489L798 489L799 492L801 491L803 495L809 500L811 500L811 497L809 496L809 490L804 478L796 478L796 475L794 474L789 478L788 476L787 477L783 473L784 472L782 468L783 466L781 464L781 458L779 460L777 458L776 460L774 458L772 459L770 458L770 456L768 457L769 452L766 451L766 449L763 450L764 449L762 443L767 439L766 438L769 438L770 436L773 437L775 434L775 430L782 428L781 425L783 420L780 419L778 415L776 415L775 412L774 413L774 411L778 411L777 406L782 407L781 404L785 398L790 399L791 401L796 401L800 405L801 404L804 410L808 410L808 408L813 408L814 405L820 404L823 407L822 409L825 412L826 417L830 420L832 418L836 419L839 416L841 419L844 417L843 416L848 412L855 398L863 387L860 385L861 383L859 382L863 375L869 377L871 374L873 374L874 378L876 377L877 379L885 373L882 370L885 366L888 366L886 363L889 358L889 355L886 355L894 350L892 348L895 346L894 343L896 341L900 341L901 339L903 339L902 337L905 334L908 334L908 329L910 327L903 324L903 322L901 322L897 316L901 316L901 311L906 310L902 305L906 305L909 303L907 300L900 302L895 301L893 303L887 303L885 307L882 304L879 304L874 296L872 297L871 293L867 292L864 294L860 292L860 286L858 285L854 288L852 293L850 292L843 285L845 282L842 277L843 276L828 275L823 278L821 277L815 279L813 281L810 278L802 277L797 273L798 270L796 268L795 270L786 270L784 274L781 273L777 277L774 274L771 265L769 264L767 265L767 270L770 274L762 279L760 278L755 282L753 282L750 279L745 282L743 282L742 279L734 279L722 273L716 268L716 264L719 264L723 260L719 258L720 254L717 244L722 243L718 242L711 235L711 227L706 223L697 223L693 225L687 221L681 224L683 220L681 216L677 220L674 220L669 216L665 216L666 211L663 209L665 206L664 202L666 201L662 196L656 195L657 193L655 189L652 189L651 191L642 195L642 197L639 198L642 200L633 202L632 201L630 207L626 207L627 206L618 208L623 213L623 217L627 219L625 221L628 221L626 224L627 226L634 231L632 232L632 237L629 239L625 238L621 242L621 248L617 245L615 250L610 250L606 255L604 254L605 250L602 246L606 244L606 241L610 236L605 228L603 231L602 230L602 236L598 237L596 243L599 244L600 247L595 255L589 248L584 249L585 252L580 246L575 246L574 248L572 248L574 253L573 256L575 258L575 261L572 261L572 265L577 268L577 275L574 279L572 280L572 278L570 278L564 282L562 280L556 280L553 278L554 281L551 282L552 286L550 286L545 282L540 275L539 277L539 275L536 276L533 274L531 282L530 280L527 280L525 278L527 276L527 269L524 266L522 266L523 264L519 263L519 261L516 258L514 264L511 263L510 265L512 267L508 275L508 273L503 272L501 269L498 269L493 266L488 267L484 258L471 254L468 251L465 244L466 240L464 238L464 234L460 231L458 227L460 225L454 218L452 218L453 217L449 213L450 204L448 203L448 201L440 202L435 199L432 200L428 195L421 194L420 197L415 199L417 203L414 206L415 208L413 210L403 212L403 214L401 215L404 221L404 228L408 229L410 235L413 235L419 239L417 239L417 241L415 241L411 248L409 249L407 253L409 257L409 259L407 259L408 261L401 264L402 272L406 279L412 281L416 286L426 288L440 296L440 301L444 308L450 314L450 319L448 319L449 324L453 327L455 333L470 348L466 354L464 354L462 350L459 350L458 358L467 368L465 373L474 382L471 385L473 390L472 393L474 397L475 413L478 416L477 419L479 424L476 430L475 437L478 443L479 458L481 460L480 464L482 476L480 483L482 487L482 492L484 494L483 503L489 510L488 511L494 517L493 508L496 504L494 502L494 498L500 492L501 488L504 486L503 485L508 481L508 486L521 498L521 500L525 503L524 504L529 508L528 510L530 512L528 514L523 515L522 517L525 523L530 528L529 529L533 532L535 531L535 538L536 539L541 532L546 534L549 532L550 529L552 529L554 532L553 535L560 542L559 543L563 549L562 553L563 552L565 554L569 566L574 566L573 575L579 578L578 580L585 584L583 588L584 589L586 590L588 589L588 587L590 588L587 591L589 593L588 596L585 596L585 599L596 607L595 609L597 609L593 612L594 614L599 615L604 622zM806 410L806 410zM839 416L839 416zM774 411L774 411z"</span>
      <span class="hljs-attr">id</span>=<span class="hljs-string">"å››å·çœ"</span>
      <span class="hljs-attr">stroke</span>=<span class="hljs-string">"blue"</span>
      <span class="hljs-attr">stroke-dasharray</span>=<span class="hljs-string">"20 2810"</span>
      <span class="hljs-attr">stroke-dashoffset</span>=<span class="hljs-string">"2810"</span>
    /&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</code></pre>
<h3 data-id="heading-4">style</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.animation-0</span> {
  <span class="hljs-attribute">animation</span>: dash <span class="hljs-number">10s</span> linear <span class="hljs-number">0.1s</span> <span class="hljs-number">1</span> forwards;
}
<span class="hljs-keyword">@keyframes</span> dash {
  <span class="hljs-selector-tag">to</span> {
    stroke-dashoffset: <span class="hljs-number">0</span>;
  }
}

<span class="hljs-comment">/* å®ç°æµå…‰ */</span>
<span class="hljs-selector-class">.animation-1</span> {
  <span class="hljs-comment">/* animation: name duration timing-function delay iteration-count direction fill-mode play-state; */</span>
  <span class="hljs-attribute">animation</span>: strokedash0 <span class="hljs-number">0.1s</span> linear <span class="hljs-number">10.1s</span> <span class="hljs-number">1</span> forwards,
              dash1 <span class="hljs-number">10s</span> linear <span class="hljs-number">10.2s</span> infinite forwards;
}
<span class="hljs-keyword">@keyframes</span> strokedash0 {
  <span class="hljs-selector-tag">to</span> {
    stroke-<span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  }
}
<span class="hljs-keyword">@keyframes</span> dash1 {
  <span class="hljs-selector-tag">to</span> {
    stroke-dashoffset: <span class="hljs-number">0</span>;
  }
}
<span class="hljs-keyword">@keyframes</span> strokedash1 {
  <span class="hljs-selector-tag">to</span> {
    stroke-<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  }
}
</code></pre>
<p>åšå®¢å›­ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fwttt123%2Fp%2F18101630" target="_blank" title="https://www.cnblogs.com/wttt123/p/18101630" ref="nofollow noopener noreferrer">www.cnblogs.com/wttt123/p/1â€¦</a></p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºvant3çš„æœç´¢é€‰æ‹©ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7585406030020984867</link>    <guid>https://juejin.cn/post/7585406030020984867</guid>    <pubDate>2025-12-19T13:08:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406030020984867" data-draft-id="7585391510058762292" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºvant3çš„æœç´¢é€‰æ‹©ç»„ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T13:08:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·188787106984"/> <meta itemprop="url" content="https://juejin.cn/user/2455640372153627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºvant3çš„æœç´¢é€‰æ‹©ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2455640372153627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·188787106984
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T13:08:43.000Z" title="Fri Dec 19 2025 13:08:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dec13594764942199c3adf9350292a65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MTg4Nzg3MTA2OTg0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754523&amp;x-signature=dZ7FLf5SZvHoL3GhYzFy6Jcb4HY%3D" width="150px" loading="lazy"/>
<p>ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;search-list
  :<span class="hljs-attr">list</span>=<span class="hljs-string">"List"</span>
  :<span class="hljs-attr">isShow</span>=<span class="hljs-string">"true"</span>
  :<span class="hljs-attr">isAddShow</span>=<span class="hljs-string">"true"</span>
  :<span class="hljs-attr">keyName</span>=<span class="hljs-string">"key"</span>
  :<span class="hljs-attr">typeName</span>=<span class="hljs-string">"name"</span>
  @<span class="hljs-attr">item-check</span>=<span class="hljs-string">"itemCheck"</span>
  @<span class="hljs-attr">show-status</span>=<span class="hljs-string">"showStatus"</span>
  @<span class="hljs-attr">call-back</span>=<span class="hljs-string">"callBack"</span>
/&gt;
</code></pre>
<p>å‚æ•°å€¼ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">List:</span> any[] = [{},{}];
<span class="hljs-symbol">isAddShow:</span> æ–°å¢çš„æ¨¡å—æ˜¯å¦æ˜¾ç¤º  ä¸å¡«é»˜è®¤ä¸º<span class="hljs-literal">false</span>
<span class="hljs-symbol">keyName:</span> æœç´ åŠæ˜¾ç¤ºçš„é”®å
<span class="hljs-symbol">typeName:</span> åˆ†ç±»å
<span class="hljs-symbol">itemCheck:</span> è¿”å›é€‰ä¸­æ•°æ®
<span class="hljs-symbol">showStatus:</span> è¿”å›å¼¹çª—æ˜¯å¦show  param: <span class="hljs-type">boolean</span>
<span class="hljs-symbol">callBack:</span> ç‚¹å‡»æ–°å¢æŒ‰é’®è¿”å›æ•°æ®  param: æœç´ æ¡†ä¸­çš„è¾“å…¥å€¼
</code></pre>
<p>ä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">List</span>= [
  {
    driverId: <span class="hljs-string">'111011101'</span>,
    driverName: <span class="hljs-string">'å¸æœºå§“å'</span>,
    driverTel: <span class="hljs-string">'13112341234'</span>,
  }
]
<span class="hljs-attr">keyName</span>=<span class="hljs-string">'driverName'</span> æœç´ åˆ—è¡¨æ˜¾ç¤ºdriverNameçš„æ•°æ®ï¼Œæœç´¢é¡µæœç´¢driverName
<span class="hljs-attr">typeName</span>=<span class="hljs-string">'å¸æœº'</span> æœç´¢å¼¹çª—ï¼šã€ä»¥ä¸‹ä¸æ˜¯æˆ‘çš„å¸æœºã€‘ ã€ç‚¹å‡»å»ºç«‹æ–°çš„å¸æœºã€‘
itemCheck: è¿”å›æ•°æ®ä¸ºï¼š params: {driverId:'',driverName:'',driverTel:''}
callBackï¼š è¿”å›æ•°æ®ä¸º'å¸æœº'
</code></pre>
<p>vue:</p>
<pre><code class="hljs language-ini" lang="ini">&lt;template&gt;
  &lt;van-popup v-model:<span class="hljs-attr">show</span>=<span class="hljs-string">"show"</span> round position=<span class="hljs-string">"bottom"</span> :closeable=<span class="hljs-string">"true"</span> :close-icon=<span class="hljs-string">"closeImg"</span>&gt;
    &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"list-box"</span>&gt;
      &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"top-box"</span>&gt;
        &lt;p <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;è¯·é€‰æ‹©{{ typeName }}&lt;/p&gt;
        &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"search-box"</span>&gt;
          &lt;van-search
            <span class="hljs-attr">v-model</span>=<span class="hljs-string">"searchValue"</span>
            show-action
            <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">"off"</span>
            autofocus
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥æœç´¢å…³é”®è¯"</span>
            @<span class="hljs-attr">search</span>=<span class="hljs-string">"onSearch"</span>
            @<span class="hljs-attr">clear</span>=<span class="hljs-string">"onClear"</span>
          &gt;
            &lt;template <span class="hljs-comment">#action&gt;</span>
              &lt;div @<span class="hljs-attr">click</span>=<span class="hljs-string">"onSearch"</span> class=<span class="hljs-string">"search-btn"</span>&gt;æœç´¢&lt;/div&gt;
            &lt;/template&gt;
          &lt;/van-search&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"list-box"</span>&gt;
        &lt;van-list <span class="hljs-attr">finished-text</span>=<span class="hljs-string">"æ²¡æœ‰æ›´å¤šäº†"</span>&gt;
          &lt;van-cell <span class="hljs-attr">class</span>=<span class="hljs-string">"add-box"</span> v-if=<span class="hljs-string">"addShow ? addShow : false"</span>&gt;
            &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"cell-title"</span>&gt;ä»¥ä¸‹ä¸æ˜¯æˆ‘çš„{{ typeName }}&lt;/div&gt;
            &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"cell-info"</span> @click=<span class="hljs-string">"target"</span>&gt;
              ç‚¹å‡»å»ºç«‹
              &lt;span <span class="hljs-attr">class</span>=<span class="hljs-string">"blue"</span>&gt;æ–°çš„{{ typeName }}&lt;/span&gt;
            &lt;/div&gt;
          &lt;/van-cell&gt;
          &lt;template <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in listArr"</span> :key=<span class="hljs-string">"item"</span>&gt;
            &lt;van-cell @<span class="hljs-attr">click</span>=<span class="hljs-string">"checkItem(item)"</span>&gt;
              &lt;span
                <span class="hljs-attr">v-for</span>=<span class="hljs-string">"res in item[keyName]"</span>
                :<span class="hljs-attr">key</span>=<span class="hljs-string">"res"</span>
                :<span class="hljs-attr">class</span>=<span class="hljs-string">"
                  searchValue.length &gt; 0 &amp;&amp;
                  searchValue.indexOf(res) &gt; -1 &amp;&amp;
                  item[keyName].includes(searchValue)
                    ? 'active'
                    : ''
                "</span>
              &gt;
                {{ res }}
              &lt;/span&gt;
            &lt;/van-cell&gt;
          &lt;/template&gt;
        &lt;/van-list&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/van-popup&gt;
&lt;/template&gt;
</code></pre>
<p>ts:</p>
<pre><code class="hljs language-ini" lang="ini">&lt;script <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;
  import { defineComponent, ref, watch, watchEffect } from 'vue'<span class="hljs-comment">;</span>
  import { Popup, Cell, Search, List, Toast } from 'vant'<span class="hljs-comment">;</span>

  import closeImg from '/@/assets/images/close-1.png'<span class="hljs-comment">;</span>

  export default defineComponent({
    name: 'SearchDriver',
    components: {
      <span class="hljs-section">[Popup.name]</span>: Popup,
      <span class="hljs-section">[Cell.name]</span>: Cell,
      <span class="hljs-section">[Search.name]</span>: Search,
      <span class="hljs-section">[List.name]</span>: List,
    },
    props: {
      list: {
        type: Array,
        required: true,
        default: () =&gt; {
          return <span class="hljs-section">['']</span><span class="hljs-comment">;</span>
        },
      },
      isShow: {
        type: Boolean,
        default: false,
      },
      keyName: {
        type: String,
        default: '',
      },
      typeName: {
        type: String,
        default: 'å¸æœº',
      },
      isAddShow: {
        type: Boolean,
        default: false,
      },
    },
    emits: <span class="hljs-section">['itemCheck', 'showStatus', 'callBack']</span>,
    setup(props, { emit }) {
      const <span class="hljs-attr">searchValue</span> = ref&lt;string&gt;(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
      // æ•°ç»„
      let <span class="hljs-attr">propList</span> = ref&lt;string[]&gt;(props.list as string[])<span class="hljs-comment">;</span>
      let <span class="hljs-attr">newList</span> = ref&lt;string[]&gt;(props.list as string[])<span class="hljs-comment">;</span>
      // å¼¹çª—æ˜¯å¦æ˜¾ç¤º
      let <span class="hljs-attr">show</span> = ref&lt;boolean&gt;(props.isShow)<span class="hljs-comment">;</span>
      // æ–°å¢æ¨¡å—æ˜¯å¦æ˜¾ç¤º
      let <span class="hljs-attr">addShow</span> = ref&lt;boolean&gt;(props.isAddShow)<span class="hljs-comment">;</span>
      // åˆ—è¡¨æ˜¾ç¤ºæ•°æ®
      let <span class="hljs-attr">listArr</span> = ref&lt;any&gt;()<span class="hljs-comment">;</span>
      // ç±»å‹
      let <span class="hljs-attr">type</span> = ref&lt;string&gt;(props.typeName)<span class="hljs-comment">;</span>

      const <span class="hljs-attr">dataMap</span> = (arr: any[]) =&gt; {
        if (!arr || arr.length &lt; 1) {
          return <span class="hljs-section">[]</span><span class="hljs-comment">;</span>
        }
        return arr<span class="hljs-comment">;</span>
      }<span class="hljs-comment">;</span>

      <span class="hljs-attr">listArr.value</span> = dataMap(propList.value)<span class="hljs-comment">;</span>

      const <span class="hljs-attr">onSearch</span> = () =&gt; {
        console.log(searchValue.value)<span class="hljs-comment">;</span>
      }<span class="hljs-comment">;</span>

      // ç‚¹å‡»æ–°å¢æŒ‰é’®å
      const <span class="hljs-attr">target</span> = () =&gt; {
        emit('callBack', searchValue.value)<span class="hljs-comment">;</span>
      }<span class="hljs-comment">;</span>

      // è¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„æ•°æ®
      const <span class="hljs-attr">filterData</span> = (list: any[]) =&gt; {
        <span class="hljs-attr">newList.value</span> = list.filter(
          (item) =&gt; item<span class="hljs-section">[props.keyName]</span> &amp;&amp; item<span class="hljs-section">[props.keyName]</span>.indexOf(searchValue.value) &gt; -1
        )<span class="hljs-comment">;</span>
        <span class="hljs-attr">listArr.value</span> = dataMap(newList.value)<span class="hljs-comment">;</span>
      }<span class="hljs-comment">;</span>

      // é€‰ä¸­æ•°æ®
      const <span class="hljs-attr">checkItem</span> = (item: any) =&gt; {
        if (!item || item.length &lt; 1) {
          Toast('è¯·é‡æ–°é€‰æ‹©')<span class="hljs-comment">;</span>
          return<span class="hljs-comment">;</span>
        }
        <span class="hljs-attr">searchValue.value</span> = item[props.keyName]<span class="hljs-comment">;</span>
        <span class="hljs-attr">show.value</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
        emit('itemCheck', item)<span class="hljs-comment">;</span>
        emit('showStatus', false)<span class="hljs-comment">;</span>
      }<span class="hljs-comment">;</span>

      const <span class="hljs-attr">onClear</span> = () =&gt; {
        <span class="hljs-attr">searchValue.value</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
        <span class="hljs-attr">show.value</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
        emit('itemCheck', '')<span class="hljs-comment">;</span>
        emit('showStatus', false)<span class="hljs-comment">;</span>
      }<span class="hljs-comment">;</span>

      watchEffect(() =&gt; {
        <span class="hljs-attr">show.value</span> = props.isShow<span class="hljs-comment">;</span>
        <span class="hljs-attr">propList.value</span> = props.list as string[]<span class="hljs-comment">;</span>
        <span class="hljs-attr">newList.value</span> = props.list as string[]<span class="hljs-comment">;</span>
        <span class="hljs-attr">type.value</span> = props.typeName<span class="hljs-comment">;</span>
        filterData(newList.value)<span class="hljs-comment">;</span>
      })<span class="hljs-comment">;</span>

      watch(show, () =&gt; {
        emit('showStatus', show.value)<span class="hljs-comment">;</span>
      })<span class="hljs-comment">;</span>

      watch(type, (old, newValue) =&gt; {
        if (old !== newValue) {
          <span class="hljs-attr">searchValue.value</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
        }
      })<span class="hljs-comment">;</span>

      watch(searchValue, (val, oldVal) =&gt; {
        const <span class="hljs-attr">len</span> = val.length<span class="hljs-comment">;</span>
        const <span class="hljs-attr">oldLen</span> = oldVal.length<span class="hljs-comment">;</span>
        if (len &gt; oldLen) {
          // å†™å…¥
          filterData(newList.value)<span class="hljs-comment">;</span>
        } else {
          // åˆ é™¤
          filterData(propList.value)<span class="hljs-comment">;</span>
        }
      })<span class="hljs-comment">;</span>

      return {
        searchValue,
        show,
        listArr,
        onSearch,
        onClear,
        checkItem,
        target,
        addShow,
        closeImg,
      }<span class="hljs-comment">;</span>
    },
  })<span class="hljs-comment">;</span>
&lt;/script&gt;
</code></pre>
<p>scss:</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@charset</span> <span class="hljs-string">"UTF-8"</span>;

$topHeight: <span class="hljs-number">160px</span>;
$vnoTop: <span class="hljs-number">36px</span>;
$checkColor: <span class="hljs-number">#1777f2</span>;

<span class="hljs-selector-class">.list-box</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">50vh</span>;
  <span class="hljs-attribute">padding-top</span>: $vnoTop;

  <span class="hljs-selector-class">.top-box</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">top</span>: $vnoTop;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: $topHeight;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e5e5e5</span>;

    <span class="hljs-selector-class">.title</span> {
      <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">40px</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">36px</span>;
      <span class="hljs-attribute">line-height</span>: <span class="hljs-number">50px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> / <span class="hljs-number">85%</span>);
    }

    <span class="hljs-selector-class">.search-box</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">696px</span>;
      <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">15px</span>;

      <span class="hljs-selector-class">.search-btn</span> {
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28px</span>;
        <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
        <span class="hljs-attribute">color</span>: $checkColor;
      }
    }
  }

  <span class="hljs-selector-class">.list-box</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">76vh</span>;
    <span class="hljs-attribute">margin-top</span>: $topHeight;
    <span class="hljs-attribute">overflow</span>: auto;

    <span class="hljs-selector-class">.add-box</span> {
      <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">84px</span>;
      <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'../../assets/images/search.png'</span>);
      <span class="hljs-attribute">background-position</span>: <span class="hljs-number">40px</span> <span class="hljs-number">30px</span>;
      <span class="hljs-attribute">background-repeat</span>: no-repeat;
      <span class="hljs-attribute">background-size</span>: <span class="hljs-number">30px</span> <span class="hljs-number">30px</span>;

      <span class="hljs-selector-class">.cell-title</span> {
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">32px</span>;
        <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
        <span class="hljs-attribute">color</span>: <span class="hljs-number">#1c1c1c</span>;
      }

      <span class="hljs-selector-class">.cell-info</span> {
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28px</span>;
        <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
        <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> / <span class="hljs-number">25%</span>);

        <span class="hljs-selector-class">.blue</span> {
          <span class="hljs-attribute">color</span>: <span class="hljs-number">#1777f2</span>;
        }
      }
    }
  }

  <span class="hljs-selector-class">.van-cell</span> {
    <span class="hljs-attribute">position</span>: relative;

    &amp;<span class="hljs-selector-pseudo">::before</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">right</span>: <span class="hljs-built_in">var</span>(--van-padding-md);
      <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">left</span>: <span class="hljs-built_in">var</span>(--van-padding-md);
      <span class="hljs-attribute">pointer-events</span>: none;
      <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">var</span>(--van-cell-border-color);
      <span class="hljs-attribute">content</span>: <span class="hljs-string">' '</span>;
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>);
      <span class="hljs-attribute">box-sizing</span>: border-box;
    }

    <span class="hljs-selector-tag">span</span><span class="hljs-selector-class">.active</span> {
      <span class="hljs-attribute">color</span>: $checkColor;
    }
  }
}
</code></pre>
<p>åšå®¢å›­ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fwttt123%2Fp%2F18316088" target="_blank" title="https://www.cnblogs.com/wttt123/p/18316088" ref="nofollow noopener noreferrer">www.cnblogs.com/wttt123/p/1â€¦</a></p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaä¼ å‚è¿˜åœ¨çä¼ ï¼Ÿè¿™3ä¸ªè¿›é˜¶åŸºç¡€æŠ€å·§å°‘èµ°1å¹´å¼¯è·¯]]></title>    <link>https://juejin.cn/post/7585382317444087818</link>    <guid>https://juejin.cn/post/7585382317444087818</guid>    <pubDate>2025-12-19T13:24:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585382317444087818" data-draft-id="7585377403633156142" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaä¼ å‚è¿˜åœ¨çä¼ ï¼Ÿè¿™3ä¸ªè¿›é˜¶åŸºç¡€æŠ€å·§å°‘èµ°1å¹´å¼¯è·¯"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-19T13:24:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/4294056357689099"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaä¼ å‚è¿˜åœ¨çä¼ ï¼Ÿè¿™3ä¸ªè¿›é˜¶åŸºç¡€æŠ€å·§å°‘èµ°1å¹´å¼¯è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4294056357689099/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T13:24:13.000Z" title="Fri Dec 19 2025 13:24:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ˜é‡‘æ‰“ç ä»”ï½Javaä¼ å‚çœ‹ç€ç®€å•ï¼Œå®åˆ™è—ç€ä¸å°‘å‘ï¼Œæ–°æ‰‹å®¹æ˜“æ‡µã€è€é¸Ÿå¶å°”è¸©ï¼Œä»Šå¤©åˆ†äº«3ä¸ªè¿›é˜¶ååŸºç¡€çš„ä¼ å‚æŠ€å·§ï¼Œå®ç”¨æ€§æ‹‰æ»¡ï¼Œä»£ç çŸ­å°ç²¾æ‚ï¼Œçœ‹å®Œå°±èƒ½ç”¨ï¼</p>
<h2 data-id="heading-0">1.  åˆ†æ¸…å€¼ä¼ é€’vså¼•ç”¨ä¼ é€’ï¼Œå‘Šåˆ«ä¼ å‚ç„å­¦</h2>
<p>Javaåªæœ‰å€¼ä¼ é€’ï¼å¾ˆå¤šäººææ··å¼•ç”¨ç±»å‹ä¼ å‚ï¼Œè¯¯ä»¥ä¸ºæ˜¯å¼•ç”¨ä¼ é€’ï¼Œå…¶å®æœ¬è´¨æ˜¯ä¼ å¼•ç”¨çš„å‰¯æœ¬ï¼Œè®°ä½2ä¸ªæ ¸å¿ƒç»“è®ºä¸è¸©å‘ã€‚</p>
<p>âœ… æ ¸å¿ƒç»“è®º</p>
<ul>
<li>åŸºæœ¬ç±»å‹ï¼šä¼ å‰¯æœ¬ï¼Œæ–¹æ³•å†…ä¿®æ”¹ä¸å½±å“åŸå˜é‡</li>
<li>å¼•ç”¨ç±»å‹ï¼šä¼ åœ°å€å‰¯æœ¬ï¼Œæ”¹å¯¹è±¡å±æ€§å½±å“åŸå¯¹è±¡ï¼Œæ”¹å¼•ç”¨æŒ‡å‘ä¸å½±å“</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¤ºä¾‹1ï¼šåŸºæœ¬ç±»å‹ï¼ˆå€¼ä¼ é€’ï¼Œäº’ä¸å½±å“ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">changeInt</span><span class="hljs-params">(<span class="hljs-type">int</span> num)</span> {
    num = <span class="hljs-number">100</span>; <span class="hljs-comment">// æ”¹çš„æ˜¯å‰¯æœ¬</span>
}
<span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;
changeInt(a);
System.out.println(a); <span class="hljs-comment">// è¾“å‡º10ï¼Œä¸å˜</span>

<span class="hljs-comment">// ç¤ºä¾‹2ï¼šå¼•ç”¨ç±»å‹ï¼ˆæ”¹å±æ€§å½±å“åŸå¯¹è±¡ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {String name;}
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">changeName</span><span class="hljs-params">(Student stu)</span> {
    stu.name = <span class="hljs-string">"æ˜é‡‘"</span>; <span class="hljs-comment">// æ”¹å¯¹è±¡å†…å®¹ï¼Œå½±å“åŸå¯¹è±¡</span>
}
<span class="hljs-type">Student</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();
s.name = <span class="hljs-string">"å°ç™½"</span>;
changeName(s);
System.out.println(s.name); <span class="hljs-comment">// è¾“å‡ºæ˜é‡‘</span>

<span class="hljs-comment">// ç¤ºä¾‹3ï¼šå¼•ç”¨ç±»å‹ï¼ˆæ”¹æŒ‡å‘ä¸å½±å“åŸå¯¹è±¡ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">changeStu</span><span class="hljs-params">(Student stu)</span> {
    stu = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(); <span class="hljs-comment">// æ”¹å¼•ç”¨æŒ‡å‘ï¼Œå’ŒåŸå¯¹è±¡æ— å…³</span>
    stu.name = <span class="hljs-string">"å¤§ä½¬"</span>;
}
changeStu(s);
System.out.println(s.name); <span class="hljs-comment">// è¿˜æ˜¯æ˜é‡‘</span>
</code></pre>
<p>Â </p>
<h2 data-id="heading-1">2.  å¯å˜å‚æ•°ï¼šå‘Šåˆ«æ•°ç»„ä¼ å‚ï¼Œçµæ´»åˆä¼˜é›…</h2>
<p>Java5+æ”¯æŒå¯å˜å‚æ•°ï¼Œç”¨Â ...Â è¡¨ç¤ºï¼Œé€‚é…å‚æ•°ä¸ªæ•°ä¸å›ºå®šçš„åœºæ™¯ï¼Œæ›¿ä»£æ•°ç»„ä¼ å‚æ›´ç®€æ´ï¼Œåº•å±‚è¿˜æ˜¯æ•°ç»„ï¼Œä½†å†™æ³•æ›´èˆ’æœã€‚</p>
<p>âœ… æ ¸å¿ƒç”¨æ³•&amp;æ³¨æ„äº‹é¡¹</p>
<ul>
<li>æ ¼å¼ï¼šç±»å‹... å‚æ•°åï¼Œå¿…é¡»æ”¾å‚æ•°åˆ—è¡¨æœ€å</li>
<li>è°ƒç”¨ï¼šå¯ä¼ å¤šä¸ªåŒç±»å‹å‚æ•°ï¼Œä¹Ÿå¯ä¼ æ•°ç»„</li>
<li>å–å€¼ï¼šæŒ‰æ•°ç»„æ–¹å¼å–å€¼å³å¯</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿæ•°ç»„ä¼ å‚ï¼ˆéº»çƒ¦ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">sumArr</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums)</span> {
    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) sum += num;
    <span class="hljs-keyword">return</span> sum;
}

<span class="hljs-comment">// å¯å˜å‚æ•°å†™æ³•ï¼ˆç®€æ´ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">sum</span><span class="hljs-params">(<span class="hljs-type">int</span>... nums)</span> { <span class="hljs-comment">// å¯å˜å‚æ•°æ”¾æœ€å</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) sum += num; <span class="hljs-comment">// æŒ‰æ•°ç»„éå†</span>
    <span class="hljs-keyword">return</span> sum;
}

<span class="hljs-comment">// è°ƒç”¨è¶…çµæ´»</span>
<span class="hljs-type">int</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> sum(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>); <span class="hljs-comment">// ä¼ å¤šä¸ªå‚æ•°</span>
<span class="hljs-type">int</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> sum(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>); <span class="hljs-comment">// ä¸ªæ•°éšæ„</span>
<span class="hljs-type">int</span>[] arr = {<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>};
<span class="hljs-type">int</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> sum(arr); <span class="hljs-comment">// ä¼ æ•°ç»„ä¹Ÿèƒ½è¡Œ</span>
System.out.println(s1+s2+s3); <span class="hljs-comment">// è¾“å‡º45</span>
</code></pre>
<p>Â </p>
<h2 data-id="heading-2">3.  ä¼ å‚å…œåº•ï¼šé»˜è®¤å‚æ•°è¿™ä¹ˆå†™ï¼Œä¼˜é›…ä¸å•°å—¦</h2>
<p>Javaæ²¡æœ‰åŸç”Ÿé»˜è®¤å‚æ•°ï¼Œä½†2ç§æ›¿ä»£æ–¹æ¡ˆè¶…å®ç”¨ï¼Œä¸ç”¨å†™é‡è½½æ–¹æ³•ä¹Ÿèƒ½å®ç°å‚æ•°å…œåº•ï¼Œè¿›é˜¶åŸºç¡€å¿…å¤‡å°æŠ€å·§ã€‚</p>
<p>âœ… 2ç§å®ç”¨æ–¹æ¡ˆ</p>
<ul>
<li>æ–¹æ¡ˆ1ï¼šæ–¹æ³•å†…ä¸‰å…ƒè¿ç®—ç¬¦å…œåº•ï¼ˆç®€å•åœºæ™¯ï¼‰</li>
<li>æ–¹æ¡ˆ2ï¼šé‡è½½æ–¹æ³•+thisè°ƒç”¨ï¼ˆå¤æ‚åœºæ™¯ï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ¡ˆ1ï¼šä¸‰å…ƒè¿ç®—ç¬¦å…œåº•ï¼ˆç®€å•å¥½ç”¨ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printMsg</span><span class="hljs-params">(String msg)</span> {
    <span class="hljs-comment">// ä¼ null/ç©ºå­—ç¬¦ä¸²ï¼Œå…œåº•ç»™é»˜è®¤å€¼</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">finalMsg</span> <span class="hljs-operator">=</span> (msg == <span class="hljs-literal">null</span> || msg.isEmpty()) ? <span class="hljs-string">"é»˜è®¤æ¶ˆæ¯"</span> : msg;
    System.out.println(finalMsg);
}

<span class="hljs-comment">// è°ƒç”¨</span>
printMsg(<span class="hljs-string">"æ˜é‡‘å¹²è´§"</span>); <span class="hljs-comment">// è¾“å‡ºæ˜é‡‘å¹²è´§</span>
printMsg(<span class="hljs-literal">null</span>); <span class="hljs-comment">// è¾“å‡ºé»˜è®¤æ¶ˆæ¯</span>

<span class="hljs-comment">// æ–¹æ¡ˆ2ï¼šé‡è½½+thisè°ƒç”¨ï¼ˆå¤šå‚æ•°åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span> {
    add(a, <span class="hljs-number">0</span>); <span class="hljs-comment">// è°ƒç”¨ä¸‹é¢çš„æ–¹æ³•ï¼Œç»™bé»˜è®¤å€¼0</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> {
    System.out.println(a + b);
}

<span class="hljs-comment">// è°ƒç”¨</span>
add(<span class="hljs-number">5</span>); <span class="hljs-comment">// ä¼ 1ä¸ªå‚æ•°ï¼Œé»˜è®¤b=0ï¼Œè¾“å‡º5</span>
add(<span class="hljs-number">5</span>,<span class="hljs-number">3</span>); <span class="hljs-comment">// ä¼ 2ä¸ªå‚æ•°ï¼Œè¾“å‡º8</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å®æˆ˜ã€‘Flexå¸ƒå±€-ä¸Šä¸‹è‡ªé€‚åº”]]></title>    <link>https://juejin.cn/post/7585406030021083171</link>    <guid>https://juejin.cn/post/7585406030021083171</guid>    <pubDate>2025-12-19T14:24:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406030021083171" data-draft-id="7585377128490450996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å®æˆ˜ã€‘Flexå¸ƒå±€-ä¸Šä¸‹è‡ªé€‚åº”"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T14:24:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç ä¸Šè¡Œèµ°"/> <meta itemprop="url" content="https://juejin.cn/user/3018587060056128"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å®æˆ˜ã€‘Flexå¸ƒå±€-ä¸Šä¸‹è‡ªé€‚åº”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3018587060056128/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç ä¸Šè¡Œèµ°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T14:24:31.000Z" title="Fri Dec 19 2025 14:24:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç»å…¸çš„å¸ƒå±€åœºæ™¯<strong>ä¸Šä¸‹å›ºå®šã€ä¸­é—´å¡«å……å‰©ä½™ç©ºé—´ã€‚</strong></p>
<h3 data-id="heading-0"><strong>æ€è·¯</strong></h3>
<blockquote>
<p>å°† Flex ä¸»è½´è®¾ä¸ºå‚ç›´æ–¹å‘ï¼ˆ<code>column</code>ï¼‰ï¼Œé€šè¿‡ <code>flex: 1</code> è®©ä¸­é—´åŒºåŸŸè‡ªåŠ¨å¡«å……å‰©ä½™ç©ºé—´ï¼Œä¸Šä¸‹åŒºåŸŸå›ºå®šé«˜åº¦æˆ–ç”±å†…å®¹è‡ªåŠ¨æ’‘å¼€ã€‚</p>
</blockquote>
<h3 data-id="heading-1"><strong>åŸç†</strong></h3>
<blockquote>
<ol>
<li>çˆ¶å®¹å™¨è®¾ç½®<br/>
<strong><code>display: flex</code></strong><br/>
<strong><code>flex-direction: column</code></strong>- å‚ç›´æ–¹å‘æ’åˆ—<br/>
<strong><code>min-height: 100vh</code></strong>- ç¡®ä¿å®¹å™¨è‡³å°‘å æ»¡æ•´ä¸ªè§†å£é«˜åº¦</li>
<li>é¡¶éƒ¨ / åº•éƒ¨åŒºåŸŸè®¾ç½®å›ºå®šé«˜åº¦ï¼ˆå¦‚ 50pxï¼‰ï¼Œä¸æŒ‡å®šé«˜åº¦ç”±å†…å®¹è‡ªåŠ¨æ’‘å¼€ã€‚</li>
<li>ä¸­é—´åŒºåŸŸè®¾ç½® <strong><code>flex: 1</code></strong>ï¼Œè‡ªåŠ¨å æ®çˆ¶å®¹å™¨å‰©ä½™é«˜åº¦ï¼›</li>
<li><strong><code>overflow-y: auto</code></strong> - å†…å®¹è¶…å‡ºæ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡</li>
</ol>
</blockquote>
<h3 data-id="heading-2"><strong>ç¤ºä¾‹</strong></h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header"</span>&gt;</span>å¤´éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main"</span>&gt;</span>å†…å®¹åŒº<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"footer"</span>&gt;</span>åº•éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css">* {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
}
 
<span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}
 
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
}
 
<span class="hljs-selector-class">.header</span> {
  <span class="hljs-comment">/* å¤´éƒ¨é«˜åº¦ç”±å†…å®¹å†³å®šï¼Œä¸è®¾å›ºå®šé«˜åº¦ */</span>
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}
 
<span class="hljs-selector-class">.main</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;  <span class="hljs-comment">/* å…³é”®ï¼šè¿™å°†ä½¿ä¸»å†…å®¹åŒºå¡«å……å‰©ä½™ç©ºé—´ */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">overflow-y</span>: auto; <span class="hljs-comment">/* å†…å®¹è¿‡å¤šæ—¶å¯æ»šåŠ¨ */</span>
}
 
<span class="hljs-selector-class">.footer</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}
</code></pre>
<h3 data-id="heading-3"><strong>æµè§ˆå™¨å…¼å®¹æ€§</strong></h3>
<p>Flex å¸ƒå±€åœ¨ç°ä»£æµè§ˆå™¨ä¸­æœ‰å¾ˆå¥½çš„æ”¯æŒï¼ˆIE10+ï¼‰ï¼Œå¦‚éœ€å…¼å®¹æ—§ç‰ˆæµè§ˆå™¨ï¼Œå¯è€ƒè™‘ä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•ä½œä¸ºé™çº§æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸç”Ÿjså®ç°é«˜æ€§èƒ½åˆ—è¡¨æ‹–æ‹½æ’åº]]></title>    <link>https://juejin.cn/post/7585397173022523411</link>    <guid>https://juejin.cn/post/7585397173022523411</guid>    <pubDate>2025-12-19T14:39:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585397173022523411" data-draft-id="7585390679397761030" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸç”Ÿjså®ç°é«˜æ€§èƒ½åˆ—è¡¨æ‹–æ‹½æ’åº"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T14:39:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å·¦å³é£"/> <meta itemprop="url" content="https://juejin.cn/user/3139860938112589"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸç”Ÿjså®ç°é«˜æ€§èƒ½åˆ—è¡¨æ‹–æ‹½æ’åº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3139860938112589/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å·¦å³é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T14:39:48.000Z" title="Fri Dec 19 2025 14:39:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    25
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ•ˆæœå›¾
æ”¯æŒç”µè„‘å’Œæ‰‹æœºç§»åŠ¨ç«¯ï¼Œçº¯åŸºäºtransformçš„ç§»åŠ¨ï¼Œæ— ä»»åŠ¡domæ“ä½œ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6a9d72d691149f0bb9f810982484438~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bem5Y-z6aOe:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766762276&amp;x-signature=LG8Aj6E1f3jODgKV6GIdxcpbGvg%3D" alt="sort.gif" loading="lazy"/></p>
<h2 data-id="heading-0">åœ¨çº¿ä½“éªŒ</h2>
<p>å®Œæ•´ä»£ç è§ä¸‹é¢çš„ç ä¸Šæ˜é‡‘ï¼Œç§»åŠ¨ç«¯ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…é¢„è§ˆ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e1559d5081440af95cf9025d2ca7979~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bem5Y-z6aOe:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766762276&amp;x-signature=5TrG25gdvEI4HRwf8MH6JOeG%2BVU%3D" alt="image.png" loading="lazy"/>
<span href="https://code.juejin.cn/pen/7585539910740738063" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7585539910740738063" data-src="https://code.juejin.cn/pen/7585539910740738063" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<h2 data-id="heading-1">æˆ‘æ˜¯å¦‚ä½•å®ç°ä¸€ä¸ªåŸºäº Pointer Events çš„å¯æ‹–æ‹½æ’åºåˆ—è¡¨çš„</h2>
<p>è¿™ç¯‡æ–‡ç« è®°å½•äº†æˆ‘åœ¨å®ç°ä¸€ä¸ª <strong>ä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“</strong> çš„æ‹–æ‹½æ’åºåˆ—è¡¨æ—¶çš„å®Œæ•´æ€è€ƒè¿‡ç¨‹ä¸å®ç°ç»†èŠ‚ã€‚ä¸å…¶è¯´æ˜¯ä»£ç è®²è§£ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä»½ <strong>è®¾è®¡åŠ¨æœº + è¸©å‘è®°å½• + å®ç°åŸç†</strong> çš„æ€»ç»“ã€‚è¯¥å®ç°ä¸»è¦åŸºäº <strong>Pointer Events</strong>ã€<code>getBoundingClientRect</code> ä»¥åŠ <strong>translateY ä½ç§»åŠ¨ç”»</strong>ï¼Œå¹¶è§£å†³äº†æ‹–æ‹½æ’åºä¸­å¸¸è§çš„å‡ ä¸ªéš¾ç‚¹ï¼š</p>
<ul>
<li>å¿«é€Ÿæ‹–åŠ¨æ—¶ pointer äº‹ä»¶ä¸¢å¤±</li>
<li>å…ƒç´ è·¨è¶Šå¤šä¸ªä½ç½®æ—¶çš„â€œæ¼ä½â€é—®é¢˜</li>
<li>ä¸ç›´æ¥æ“ä½œ DOM é¡ºåºï¼Œè€Œæ˜¯é€šè¿‡ä½ç§»å®ç°é¡ºæ»‘åŠ¨ç”»</li>
</ul>
<p>å¦‚æœä½ å¯¹ SortableJSã€æ‹–æ‹½äº¤äº’æˆ–åº•å±‚å®ç°åŸç†æ„Ÿå…´è¶£ï¼Œè¿™ç¯‡æ–‡ç« ä¼šéå¸¸é€‚åˆä½ ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€ä¸ºä»€ä¹ˆæˆ‘è¦è‡ªå·±å®ç°ä¸€ä¸ªæ‹–æ‹½æ’åº</h3>
<p>åœ¨ä¸€å¼€å§‹ï¼Œå…¶å®æˆ‘ä¹Ÿè€ƒè™‘è¿‡ç›´æ¥ä½¿ç”¨ SortableJS ä¹‹ç±»çš„æˆç†Ÿæ–¹æ¡ˆã€‚ä½†åœ¨å®é™…éœ€æ±‚å’Œå­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>æˆ‘æƒ³<strong>å®Œå…¨æŒæ§æ‹–æ‹½è¿‡ç¨‹</strong>ï¼Œè€Œä¸æ˜¯é»‘ç›’è°ƒç”¨</li>
<li>æˆ‘éœ€è¦ç†è§£ <strong>å¿«é€Ÿæ‹–åŠ¨ã€è·¨å¤šä¸ªä½ç½®æ—¶åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ</strong></li>
<li>æˆ‘ä¹‹å‰å®ç°çš„ç®€å•æ‹–æ‹½ demoï¼Œåœ¨å¿«é€Ÿæ»‘åŠ¨æ—¶ç»å¸¸å‡ºç° <strong>pointermove ä¸¢å¤±ã€å…ƒç´ é¡ºåºé”™ä¹±</strong> çš„é—®é¢˜</li>
</ul>
<p>æ‰€ä»¥æœ€ç»ˆæˆ‘å†³å®šï¼š</p>
<blockquote>
<p><strong>è‡ªå·±ä»é›¶å®ç°ä¸€ä¸ªæ‹–æ‹½æ’åºï¼Œå¹¶æŠŠæ¯ä¸€ä¸ªç»†èŠ‚éƒ½æƒ³æ¸…æ¥šã€‚</strong></p>
</blockquote>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘è¸©äº†ä¸å°‘å‘ï¼Œä¹Ÿé€æ¸æ€»ç»“å‡ºä¸€å¥—æ¯”è¾ƒç¨³å®šçš„å®ç°æ–¹å¼ã€‚</p>
<hr/>
<h3 data-id="heading-3">äºŒã€æ•´ä½“æ€è·¯æ¦‚è§ˆ</h3>
<p>è¿™å¥—æ‹–æ‹½æ’åºçš„æ ¸å¿ƒæ€æƒ³å¯ä»¥æ€»ç»“ä¸ºä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>DOM é¡ºåºä¿æŒä¸å˜ï¼Œé€šè¿‡ translateY æ¨¡æ‹Ÿä½ç½®å˜åŒ–ï¼Œå¹¶åœ¨æ‹–æ‹½è¿‡ç¨‹ä¸­åŠ¨æ€ç»´æŠ¤ä¸€ä¸ªâ€œé€»è¾‘é¡ºåºæ•°ç»„â€ã€‚</strong></p>
</blockquote>
<p>å…·ä½“æ‹†è§£å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p><strong>åˆå§‹åŒ–é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>è®°å½•æ¯ä¸ª item çš„åˆå§‹ä½ç½®ä¿¡æ¯ï¼ˆbounding rectï¼‰</li>
<li>å»ºç«‹ä¸€ä¸ª <code>listChildren</code> æ•°ç»„ï¼Œç”¨æ¥è¡¨ç¤ºå½“å‰â€œé€»è¾‘é¡ºåºâ€</li>
</ul>
</li>
<li>
<p><strong>æ‹–æ‹½å¼€å§‹ï¼ˆpointerdownï¼‰</strong> ï¼š</p>
<ul>
<li>è®°å½•æ‹–æ‹½èµ·ç‚¹</li>
<li>æ•è· pointerï¼Œé¿å…å¿«é€Ÿæ»‘åŠ¨å¯¼è‡´äº‹ä»¶ä¸¢å¤±</li>
</ul>
</li>
<li>
<p><strong>æ‹–æ‹½ä¸­ï¼ˆpointermoveï¼‰</strong> ï¼š</p>
<ul>
<li>å®æ—¶æ›´æ–°è¢«æ‹–æ‹½å…ƒç´ çš„ <code>translateY</code></li>
<li>æ ¹æ®æŒ‡é’ˆä½ç½®åˆ¤æ–­è¿›å…¥äº†å“ªä¸ª item åŒºåŸŸ</li>
<li>æ‰¹é‡ç§»åŠ¨ä¸­é—´å…ƒç´ ï¼Œåˆ¶é€ è‡ªåŠ¨è®©ä½æ•ˆæœ</li>
</ul>
</li>
<li>
<p><strong>æ‹–æ‹½ç»“æŸï¼ˆpointerupï¼‰</strong> ï¼š</p>
<ul>
<li>å°†æ‹–æ‹½å…ƒç´ å¸é™„åˆ°æœ€ç»ˆ slot</li>
<li>é€šè¿‡ transition å®ç°å›å¼¹åŠ¨ç”»</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-4">ä¸‰ã€HTML ä¸ CSSï¼šä¸ºæ‹–æ‹½æ‰“åŸºç¡€</h3>
<h4 data-id="heading-5">1. HTML ç»“æ„</h4>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"list"</span>&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;<span class="hljs-number">0</span>&lt;/div&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;<span class="hljs-number">1</span>&lt;/div&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;<span class="hljs-number">2</span>&lt;/div&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;<span class="hljs-number">3</span>&lt;/div&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;<span class="hljs-number">4</span>&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li><code>list</code>ï¼šæ‹–æ‹½å®¹å™¨</li>
<li><code>item</code>ï¼šå¯æ‹–æ‹½å…ƒç´ </li>
</ul>
<h4 data-id="heading-6">2. å…³é”® CSS ç‚¹</h4>
<pre><code class="hljs language-sql" lang="sql">.list {
  touch<span class="hljs-operator">-</span>action: <span class="hljs-keyword">none</span>;
}

.item {
  transition: transform <span class="hljs-number">0.3</span>s ease<span class="hljs-operator">-</span><span class="hljs-keyword">out</span>;
  <span class="hljs-keyword">user</span><span class="hljs-operator">-</span><span class="hljs-keyword">select</span>: <span class="hljs-keyword">none</span>;
}
</code></pre>
<p><strong>é‡ç‚¹è¯´æ˜ï¼š</strong></p>
<ul>
<li>
<p><code>touch-action: none</code></p>
<ul>
<li>ç¦æ­¢æµè§ˆå™¨é»˜è®¤çš„æ»šåŠ¨ã€ç¼©æ”¾ç­‰æ‰‹åŠ¿</li>
<li>å¦åˆ™ pointermove åœ¨ç§»åŠ¨ç«¯ä¼šè¢«ç³»ç»ŸåŠ«æŒ</li>
</ul>
</li>
<li>
<p><code>transition: transform</code></p>
<ul>
<li>éæ‹–æ‹½å…ƒç´ äº§ç”Ÿâ€œè‡ªåŠ¨ä½ç§»â€åŠ¨ç”»</li>
</ul>
</li>
<li>
<p><code>user-select: none</code></p>
<ul>
<li>é˜²æ­¢æ‹–æ‹½æ—¶é€‰ä¸­æ–‡æœ¬</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-7">å››ã€åˆå§‹åŒ–ï¼šå»ºç«‹ä½ç½®ä¿¡æ¯æ¨¡å‹</h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">listChildren</span> = Array.from(list.children)<span class="hljs-comment">;</span>
const <span class="hljs-attr">rectInfo</span> = []<span class="hljs-comment">;</span>

Array.from(list.children).forEach((item, index) =&gt; {
  <span class="hljs-attr">item.dataset.index</span> = index<span class="hljs-comment">;</span>
  const <span class="hljs-attr">rect</span> = item.getBoundingClientRect()<span class="hljs-comment">;</span>
  Object.assign(rect, {
    id: index,
    index,
    located: {
      x: rect.x,
      y: rect.y,
    },
  })<span class="hljs-comment">;</span>
  rectInfo.push(rect)<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-8">è¿™é‡Œåšäº†ä¸‰ä»¶äº‹ï¼š</h4>
<ol>
<li>
<p><strong>è®°å½•åˆå§‹é¡ºåº</strong>ï¼š</p>
<ul>
<li><code>dataset.index</code> è¡¨ç¤ºé€»è¾‘ç´¢å¼•</li>
</ul>
</li>
<li>
<p><strong>ç¼“å­˜ä½ç½®ä¿¡æ¯</strong>ï¼š</p>
<ul>
<li><code>getBoundingClientRect()</code> åªåœ¨åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡</li>
<li>é¿å…æ‹–æ‹½è¿‡ç¨‹ä¸­é¢‘ç¹è§¦å‘å›æµ</li>
</ul>
</li>
<li>
<p><strong>rectInfo æ˜¯â€œé™æ€åæ ‡ç³»â€</strong> ï¼š</p>
<ul>
<li>æ‰€æœ‰ä½ç§»è®¡ç®—éƒ½åŸºäºåˆå§‹ top å€¼</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-9">äº”ã€pointerdownï¼šæ‹–æ‹½çš„èµ·ç‚¹ï¼ˆç¬¬ä¸€ä¸ªå¤§å‘ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">list.addEventListener("pointerdown", (e) =&gt; {
  if (e.target.classList.contains("list")) return<span class="hljs-comment">;</span>

  <span class="hljs-attr">isPointerDown</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
  e.target.setPointerCapture(e.pointerId)<span class="hljs-comment">;</span>

  <span class="hljs-attr">e.target.style.zIndex</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">e.target.style.transition</span> = <span class="hljs-string">"none"</span><span class="hljs-comment">;</span>

  <span class="hljs-attr">slotIndex</span> = dragIndex = Number(e.target.dataset.index)<span class="hljs-comment">;</span>
  <span class="hljs-attr">dragPos.startY</span> = e.clientY<span class="hljs-comment">;</span>
  <span class="hljs-attr">dragPos.startTranslateY</span> = Number(e.target.dataset.translateY || <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-10">æ ¸å¿ƒç‚¹è§£æ</h4>
<h5 data-id="heading-11">1. <code>setPointerCapture</code></h5>
<p>è¿™æ˜¯æˆ‘åœ¨å®ç°è¿‡ç¨‹ä¸­è¸©åˆ°çš„<strong>ç¬¬ä¸€ä¸ªå¤§å‘</strong>ï¼Œä¹Ÿæ˜¯è¿™å¥—æ–¹æ¡ˆé‡Œæœ€å…³é”®çš„ä¸€ç‚¹ã€‚</p>
<ul>
<li>æŒ‡é’ˆå³ä½¿ç§»åŠ¨åˆ°å…ƒç´ å¤–</li>
<li>äº‹ä»¶ä¾ç„¶ä¼šæ´¾å‘ç»™å½“å‰å…ƒç´ </li>
</ul>
<p>è¿™åœ¨å¿«é€Ÿæ‹–æ‹½ã€å¤šç‚¹è§¦æ§åœºæ™¯ä¸­éå¸¸é‡è¦ã€‚</p>
<h5 data-id="heading-12">2. ç¦ç”¨ transition</h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">e.target.style.transition</span> = <span class="hljs-string">"none"</span><span class="hljs-comment">;</span>
</code></pre>
<ul>
<li>æ‹–æ‹½å…ƒç´ éœ€è¦ 1:1 è·Ÿéšæ‰‹æŒ‡</li>
<li>ä¸èƒ½æœ‰åŠ¨ç”»å»¶è¿Ÿ</li>
</ul>
<hr/>
<h3 data-id="heading-13">å…­ã€pointermoveï¼šæ’åºçš„æ ¸å¿ƒé€»è¾‘ï¼ˆä¹Ÿæ˜¯æœ€å¤æ‚çš„éƒ¨åˆ†ï¼‰</h3>
<h4 data-id="heading-14">1. æ‹–æ‹½å…ƒç´ ä½ç§»</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">dragPos.diffY</span> = e.clientY - dragPos.startY + dragPos.y<span class="hljs-comment">;</span>

<span class="hljs-attr">e.target.style.transform</span> = `translateY(<span class="hljs-variable">${dragPos.diffY}</span>px)`<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li><code>diffY</code> = å½“å‰æŒ‡é’ˆä½ç½® - èµ·ç‚¹ + åˆå§‹åç§»</li>
<li>ä½¿ç”¨ transform ä¸ä¼šè§¦å‘å¸ƒå±€</li>
</ul>
<hr/>
<h4 data-id="heading-15">2. åˆ¤æ–­è¿›å…¥å“ªä¸ª slot</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">if</span> (
  e.clientX &gt; r.left &amp;&amp;
  e.clientX &lt; r.left + r.width &amp;&amp;
  e.clientY &gt; r.y &amp;&amp;
  e.clientY &lt; r.y + r.height
)
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>æŒ‡é’ˆå‘½ä¸­æ£€æµ‹ï¼ˆHit Testï¼‰</strong> ï¼š</p>
<ul>
<li>ä¸ä¾èµ– DOM é¡ºåº</li>
<li>åªçœ‹æŒ‡é’ˆæ˜¯å¦è¿›å…¥æŸä¸ª rect</li>
</ul>
<hr/>
<h4 data-id="heading-16">3. æ‰¹é‡ä½ç§»ï¼šè§£å†³â€œè·¨å¤šä¸ªä½ç½®â€é—®é¢˜</h4>
<h5 data-id="heading-17">å‘ä¸‹æ‹–åŠ¨ï¼ˆi &gt; slotIndexï¼‰</h5>
<pre><code class="hljs language-ini" lang="ini">for (let <span class="hljs-attr">j</span> = slotIndex + <span class="hljs-number">1</span><span class="hljs-comment">; j &lt;= i; j++) {</span>
  listChildren<span class="hljs-section">[j]</span>.<span class="hljs-attr">dataset.translateY</span> =
    rectInfo<span class="hljs-section">[j - 1]</span>.top - rectInfo<span class="hljs-section">[j]</span>.top +
    Number(listChildren<span class="hljs-section">[j]</span>.dataset.translateY || 0)<span class="hljs-comment">;</span>
}
</code></pre>
<ul>
<li>ä¸­é—´æ‰€æœ‰å…ƒç´ ä¾æ¬¡å‘ä¸Šè®©ä½</li>
<li>å³ä½¿ pointermove è§¦å‘é¢‘ç‡è¾ƒä½ï¼Œä¹Ÿä¸ä¼šæ¼æ‰ä¸­é—´é¡¹</li>
</ul>
<h5 data-id="heading-18">å‘ä¸Šæ‹–åŠ¨åŒç†</h5>
<p>è¿™æ­£æ˜¯å¾ˆå¤šâ€œç®€å•æ‹–æ‹½ demoâ€åšä¸åˆ°çš„åœ°æ–¹ã€‚</p>
<hr/>
<h4 data-id="heading-19">4. é€»è¾‘é¡ºåºæ•°ç»„çš„ç»´æŠ¤</h4>
<pre><code class="hljs language-ini" lang="ini">listChildren.splice(j - 1, 0, listChildren<span class="hljs-section">[j]</span>)<span class="hljs-comment">;</span>
listChildren.splice(j + 1, 1)<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li><strong>ä¸æ“ä½œ DOM</strong></li>
<li>åªç»´æŠ¤ä¸€ä¸ª JS æ•°ç»„</li>
<li><code>dataset.index</code> æ°¸è¿œå’Œé€»è¾‘é¡ºåºä¿æŒä¸€è‡´</li>
</ul>
<p>è¿™ä¹Ÿæ˜¯åç»­å›å¼¹è®¡ç®—çš„å…³é”®ã€‚</p>
<hr/>
<h3 data-id="heading-20">ä¸ƒã€pointerupï¼šå¸é™„ä¸å›å¼¹</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">dragPos.y</span> =
  rectInfo<span class="hljs-section">[slotIndex]</span>.top -
  rectInfo<span class="hljs-section">[dragIndex]</span>.top +
  dragPos.startTranslateY<span class="hljs-comment">;</span>

<span class="hljs-attr">e.target.style.transition</span> = <span class="hljs-string">"transform .3s ease-out"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">e.target.style.transform</span> = `translateY(<span class="hljs-variable">${dragPos.y}</span>px)`<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-21">è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h4>
<ul>
<li>æ ¹æ® <strong>æœ€ç»ˆ slot ä¸åˆå§‹ slot çš„ top å·®å€¼</strong></li>
<li>è®¡ç®—æ‹–æ‹½å…ƒç´ åº”è¯¥è½åˆ°çš„ä½ç½®</li>
<li>é‡æ–°å¯ç”¨ transitionï¼Œå½¢æˆå›å¼¹åŠ¨ç”»</li>
</ul>
<p>æ•´ä¸ªæ’åºè¿‡ç¨‹åœ¨è§†è§‰ä¸Šå®Œæˆé—­ç¯ã€‚</p>
<hr/>
<h3 data-id="heading-22">å…«ã€æ ¸å¿ƒæµç¨‹ç¤ºæ„å›¾ï¼šé€»è¾‘é¡ºåº vs DOM é¡ºåº</h3>
<p>è¿™æ˜¯æˆ‘åœ¨å®ç°è¿‡ç¨‹ä¸­<strong>æœ€é‡è¦çš„ä¸€ä¸ªè®¤çŸ¥è½¬å˜</strong>ã€‚</p>
<h4 data-id="heading-23">1ï¸âƒ£ DOM é¡ºåºï¼ˆå§‹ç»ˆä¸å˜ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp">DOM:
[<span class="hljs-meta">item0</span>]
[<span class="hljs-meta">item1</span>]
[<span class="hljs-meta">item2</span>]
[<span class="hljs-meta">item3</span>]
[<span class="hljs-meta">item4</span>]
</code></pre>
<p>åœ¨æ•´ä¸ªæ‹–æ‹½è¿‡ç¨‹ä¸­ï¼š</p>
<ul>
<li>DOM èŠ‚ç‚¹ä»æœªè¢«æ’å…¥ / åˆ é™¤</li>
<li>æµè§ˆå™¨å¸ƒå±€ä¸ä¼šåå¤é‡æ’</li>
</ul>
<hr/>
<h4 data-id="heading-24">2ï¸âƒ£ é€»è¾‘é¡ºåºï¼ˆJS æ•°ç»„ç»´æŠ¤ï¼‰</h4>
<pre><code class="hljs language-css" lang="css">æ‹–æ‹½ item1 å‘ä¸‹ç§»åŠ¨ï¼š

é€»è¾‘æ•°ç»„ listChildrenï¼š
<span class="hljs-selector-attr">[item0]</span> <span class="hljs-selector-attr">[item2]</span> <span class="hljs-selector-attr">[item3]</span> <span class="hljs-selector-attr">[item1]</span> <span class="hljs-selector-attr">[item4]</span>
</code></pre>
<ul>
<li><code>listChildren</code> æ‰æ˜¯çœŸæ­£çš„â€œå½“å‰é¡ºåºâ€</li>
<li><code>dataset.index</code> å§‹ç»ˆå’Œé€»è¾‘é¡ºåºä¸€è‡´</li>
</ul>
<hr/>
<h4 data-id="heading-25">3ï¸âƒ£ è§†è§‰ä½ç½®ï¼ˆtranslateYï¼‰</h4>
<pre><code class="hljs language-scss" lang="scss">è§†è§‰å±‚ï¼š
item1  â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  <span class="hljs-built_in">translateY</span>(+<span class="hljs-number">120px</span>)
item2  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€  <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">60px</span>)
item3  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€  <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">60px</span>)
</code></pre>
<blockquote>
<p><strong>DOM ä¸åŠ¨ï¼Œæ•°ç»„å˜ï¼Œtransform åœ¨åŠ¨</strong></p>
</blockquote>
<p>ç†è§£äº†è¿™ä¸€ç‚¹ï¼Œåé¢çš„æ‰€æœ‰ä½ç§»ã€åŠ¨ç”»å’Œå›å¼¹è®¡ç®—éƒ½ä¼šéå¸¸è‡ªç„¶ã€‚</p>
<hr/>
<h3 data-id="heading-26">ä¹ã€æ€»ç»“ï¼šè¿™å¥—æ–¹æ¡ˆè§£å†³äº†ä»€ä¹ˆé—®é¢˜</h3>
<p>è¿™ä»½ä»£ç çš„å‡ ä¸ªäº®ç‚¹ï¼š</p>
<ul>
<li>âœ… ä½¿ç”¨ Pointer Eventsï¼Œç»Ÿä¸€é¼ æ ‡ / è§¦æ‘¸</li>
<li>âœ… <code>setPointerCapture</code> è§£å†³å¿«é€Ÿæ‹–æ‹½é—®é¢˜</li>
<li>âœ… ä¸æ“ä½œ DOM é¡ºåºï¼ŒåŠ¨ç”»æ€§èƒ½æä½³</li>
<li>âœ… æ”¯æŒè·¨å¤šä¸ªä½ç½®çš„ç¨³å®šæ’åº</li>
</ul>
<p>å¦‚æœä½ ç†è§£äº†è¿™å¥—é€»è¾‘ï¼Œå†å»çœ‹ SortableJS çš„æºç ï¼Œä¼šå‘ç°å¾ˆå¤šæ€æƒ³æ˜¯ç›¸é€šçš„ã€‚</p>
<hr/>
<h3 data-id="heading-27">åã€å¯ä»¥ç»§ç»­ä¼˜åŒ–çš„æ–¹å‘</h3>
<ul>
<li>æ‹–æ‹½ç»“æŸåçœŸæ­£æ›´æ–° DOM é¡ºåº</li>
<li>æ”¯æŒæ¨ªå‘ / Grid æ’åº</li>
<li>å¢åŠ  placeholder å ä½å…ƒç´ </li>
<li>å¢åŠ æ‹–æ‹½é˜ˆå€¼ã€é˜²æŠ–å¤„ç†</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidå¼€å‘wslç›´æ¥ä½¿ç”¨adbæ–¹æ³•]]></title>    <link>https://juejin.cn/post/7585377128490303540</link>    <guid>https://juejin.cn/post/7585377128490303540</guid>    <pubDate>2025-12-19T12:54:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377128490303540" data-draft-id="7585385309890871296" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidå¼€å‘wslç›´æ¥ä½¿ç”¨adbæ–¹æ³•"/> <meta itemprop="keywords" content="æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2025-12-19T12:54:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="chasten08"/> <meta itemprop="url" content="https://juejin.cn/user/4424090518291048"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidå¼€å‘wslç›´æ¥ä½¿ç”¨adbæ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4424090518291048/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    chasten08
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T12:54:22.000Z" title="Fri Dec 19 2025 12:54:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>å› ä¸ºä¹‹å‰ä¸€ç›´ä½¿ç”¨Macå’ŒUbuntuç³»ç»Ÿä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œå¯¹grepï¼Œzshå’Œvimä¾èµ–æ¯”è¾ƒé‡ï¼Œä½†æ˜¯å…¬å¸è¦æ±‚åªèƒ½ç”¨Windowsæ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥ä½¿ç”¨äº†WSL2ã€‚</p>
<p>å½“ç„¶ä½¿ç”¨Git for windowsä¹Ÿå¯ä»¥è§£å†³æ­¤é—®é¢˜ï¼Œä¸è¿‡git for windowsçš„ç•Œé¢å°±ä¸å¤ªèˆ’æœäº†ï¼Œè€Œä¸”Git for Windowsè¿è¡Œæ¯”è¾ƒæ…¢ã€‚</p>
<p>åœ¨wslä¸­ä½¿ç”¨vimå’Œgrepéƒ½æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æœ‰æ—¶å€™éœ€è¦adbè°ƒè¯•çš„æ—¶å€™æƒ³ç”¨grepï¼ˆAndroid studioä¸­ä¹Ÿæä¾›äº†è¿‡æ»¤åŠŸèƒ½ï¼Œæˆ‘ä¸ªäººå¯¹grepæ¯”è¾ƒä¾èµ–äº†ï¼‰ï¼Œæ‰€ä»¥å°±æ‰¾äº†ä¸€ä¸‹wslç›´æ¥ä½¿ç”¨adbçš„æ–¹å¼</p>
<h3 data-id="heading-1">å‰æ</h3>
<h5 data-id="heading-2">Windowsä¸Šadbé…ç½®</h5>
<p>å¦‚æœWindowsä¸Šå®‰è£…äº†adbå·¥å…·ï¼Œè€Œä¸æ˜¯ä½¿ç”¨çš„Android sdkè‡ªå¸¦çš„ï¼Œä¸”äºŒè€…ç‰ˆæœ¬ä¸åŒï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½å¯¼è‡´Android studioç»å¸¸å¼ºåŠ¿ä»¥è‡ªèº«ä¸ºä¸»ï¼ˆAndroid sdkçš„ç‰ˆæœ¬ï¼‰å¯åŠ¨adbæœåŠ¡ï¼Œè¿™æ ·ä¼šæ˜¯wslè¿æ¥adbå‡ºé—®é¢˜ã€‚
å»ºè®®ç³»ç»Ÿä¸è¦å•ç‹¬å®‰è£…adbå·¥å…·ï¼Œè€Œæ˜¯é€šè¿‡é…ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼å¼•ç”¨Android sdkçš„adbï¼ŒAndroid sdkçš„æŸ¥æ‰¾æ–¹å¼<code>Settings</code> -&gt; <code>Languages &amp; Frameworks</code> -&gt; <code>Android SDK</code>ï¼Œå¯ä»¥çœ‹åˆ°Android SDK Locationï¼Œæ¯”å¦‚<code>C:\Users\test\AppData\Local\Android\Sdk</code>ï¼Œé…ç½®åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡Pathä¸­<code>C:\Users\test\AppData\Local\Android\Sdk\platform-tools\</code>,è¿™æ ·å°±å¯ä»¥ä¿è¯å’ŒAndroid studioçš„adbä¿æŒä¸€è‡´</p>
<h5 data-id="heading-3">wslç³»ç»Ÿå®‰è£…adb</h5>
<pre><code class="hljs language-sql" lang="sql">sudo apt <span class="hljs-keyword">update</span>
sudo apt install adb <span class="hljs-operator">-</span>y
</code></pre>
<h3 data-id="heading-4">æ¡¥æ¥adb</h3>
<p>ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼</p>
<ul>
<li>ä½¿ç”¨ USBIPD-WIN è¿›è¡Œ USB é€ä¼ </li>
<li>ADB ç½‘ç»œæ¡¥æ¥</li>
</ul>
<p>ç¬¬ä¸€ç§æ–¹æ¡ˆä¼šç‹¬å æ§åˆ¶æƒï¼ŒWindowsä¸Šä¸å¯å†æ§åˆ¶adbï¼Œæ¯”è¾ƒé€‚ç”¨äºåˆ·æœºå’Œæ·±åº¦é©±åŠ¨å¼€å‘åœºæ™¯ï¼Œæˆ‘åªæ˜¯ç®€å•ä½¿ç”¨Androidå¼€å‘ä¸­çš„åŸºç¡€å‘½ä»¤ï¼Œæ‰€ä»¥è¿™é‡Œåªæè¿°ç¬¬äºŒç§æ–¹å¼ã€‚</p>
<h5 data-id="heading-5">Windowsç«¯å¯åŠ¨è¿œç¨‹ç›‘å¬ -- PowerShellé…ç½®ï¼ˆwslå®‰è£…ä¾èµ–ï¼‰</h5>
<p>åœ¨PowerShellé…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®å¯åŠ¨å‘½ä»¤ï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶è¾“å…¥ä¸‹é¢çš„ä»£ç </p>
<pre><code class="hljs language-ps1" lang="ps1"># å¯åŠ¨adbè¿œç¨‹ç›‘å¬
# ç”¨æ³•: ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ adbon å³å¯
function adbon {
    adb kill-server
    Start-Process "adb" -ArgumentList "-a nodaemon server start" -WindowStyle Hidden
}
</code></pre>
<p>ä¹‹ååœ¨Power shellä¸­æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ï¼Œæ˜¯ä¸Šè¿°ä»£ç ç”Ÿæ•ˆ</p>
<pre><code class="hljs language-bash" lang="bash">. <span class="hljs-variable">$PROFILE</span>
</code></pre>
<p>è¿™æ ·ä»¥åå¯ä»¥å¼€æœºååœ¨Powershellä¸­é€šè¿‡<code>adbon</code>å‘½ä»¤åœ¨Windowsç«¯å¯åŠ¨ï¼Œ<strong>è¿™ä¸ªPowerShellçª—å£æœ€å¥½ä¸è¦å…³é—­</strong></p>
<h5 data-id="heading-6">WSLç«¯æŒ‡å®šserveråœ°å€</h5>
<p>åœ¨ WSL çš„ <code>~/.zshrc</code> æˆ– <code>~/.bashrc</code> ä¸­(æ ¹æ®wslä½¿ç”¨çš„æ˜¯bash - é»˜è®¤è¿˜æ˜¯zsh)æ·»åŠ ä»¥ä¸‹å‡½æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">function</span> <span class="hljs-function"><span class="hljs-title">winadb</span></span>() {
    <span class="hljs-built_in">local</span> HOST_IP=$(ip route show | grep default | awk <span class="hljs-string">'{print $3}'</span>)
    <span class="hljs-built_in">local</span> ADB_PORT=5037

    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ”„ æ­£åœ¨å°è¯•è¿æ¥ Windows ADB (<span class="hljs-variable">$HOST_IP</span>:<span class="hljs-variable">$ADB_PORT</span>)..."</span>

    <span class="hljs-comment"># 2. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§ (éœ€è¦å®‰è£… netcat: sudo apt install netcat)</span>
    <span class="hljs-keyword">if</span> nc -z -w 2 <span class="hljs-string">"<span class="hljs-variable">$HOST_IP</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$ADB_PORT</span>"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-comment"># 3. è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæ¥ç®¡ ADB æŒ‡ä»¤</span>
        <span class="hljs-built_in">export</span> ADB_SERVER_SOCKET=tcp:<span class="hljs-variable">$HOST_IP</span>:<span class="hljs-variable">$ADB_PORT</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… è¿æ¥æˆåŠŸï¼"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“± è®¾å¤‡åˆ—è¡¨:"</span>
        adb devices
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ è¿æ¥å¤±è´¥ã€‚"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ‘‰ è¯·åœ¨ Windows PowerShell è¿è¡Œ 'adbon' å¯åŠ¨æœåŠ¡ã€‚"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ‘‰ æ£€æŸ¥ Windows é˜²ç«å¢™æ˜¯å¦å…è®¸ adb.exe é€šè¡Œã€‚"</span>
        <span class="hljs-built_in">unset</span> ADB_SERVER_SOCKET
    <span class="hljs-keyword">fi</span>
}
</code></pre>
<p>è®°å¾—æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> ~/.zshrc
<span class="hljs-comment"># æˆ–è€…</span>
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<p>å¦‚æœWindowsä¸Šå·²ç»é€šè¿‡<code>adbon</code>å‘½ä»¤å¯åŠ¨äº†ï¼Œè¿™é‡Œå°±å¯ä»¥é€šè¿‡<code>winadb</code>å¯åŠ¨ç›‘å¬ï¼Œä¹‹åå°±å¯ä»¥åœ¨wslä¸­æ­£å¸¸ä½¿ç”¨adbåŠŸèƒ½äº†</p>
<h3 data-id="heading-7">å¸¸è§é—®é¢˜</h3>
<ol>
<li>ç¬¬ä¸€æ¬¡åœ¨Windowsä¸Šæ‰§è¡Œ<code>adbon</code>å‘½ä»¤æ—¶ï¼Œå¯èƒ½ä¼šå› ä¸ºå·²ç»æœ‰è¿›ç¨‹å¯åŠ¨äº†adbï¼Œä½†æ˜¯æ²¡æœ‰é‡Šæ”¾å¯¼è‡´å¯åŠ¨å¤±è´¥ï¼Œå¯ä»¥å…ˆå…³é—­å¯èƒ½å ç”¨adbçš„åº”ç”¨ï¼ˆæ¯”å¦‚Android Studioï¼‰,ç„¶åç”¨ä¸‹é¢å‘½ä»¤ç»ˆæ­¢æ‰€æœ‰adbè¿›ç¨‹
<pre><code class="hljs language-r" lang="r">taskkill <span class="hljs-operator">/</span><span class="hljs-built_in">F</span> <span class="hljs-operator">/</span>IM adb.exe
</code></pre>
ç„¶åç”¨ä¸‹é¢å‘½ä»¤æŸ¥çœ‹ï¼Œæ˜¯å¦è¿˜æœ‰ç«¯å£å ç”¨
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">netstat</span> <span class="hljs-string">-ano</span> <span class="hljs-string">|</span> <span class="hljs-string">findstr</span> <span class="hljs-number">5037</span>
</code></pre>
å¦‚æœæ²¡æœ‰å†…å®¹è¾“å‡ºæˆ–è€…è¾“å‡ºå†…å®¹æœ€åä¸€åˆ—æ²¡æœ‰ä¸º0çš„å°±è¡¨ç¤ºå¯ä»¥ä½¿ç”¨<code>adbon</code>å¯åŠ¨Windowsç«¯çš„æœåŠ¡äº†</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æˆ‘çš„AOSPç¬¬ä¸€è¯¾ã€‘Android Init è¯­è¨€ä¸ rc æ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7585382317444022282</link>    <guid>https://juejin.cn/post/7585382317444022282</guid>    <pubDate>2025-12-19T12:56:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585382317444022282" data-draft-id="7573886599433437235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æˆ‘çš„AOSPç¬¬ä¸€è¯¾ã€‘Android Init è¯­è¨€ä¸ rc æ–‡ä»¶"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-19T12:56:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="vocal"/> <meta itemprop="url" content="https://juejin.cn/user/2810789338028120"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æˆ‘çš„AOSPç¬¬ä¸€è¯¾ã€‘Android Init è¯­è¨€ä¸ rc æ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2810789338028120/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    vocal
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T12:56:52.000Z" title="Fri Dec 19 2025 12:56:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c}.markdown-body a:active,.markdown-body a:hover{border-bottom:1.5px solid #3eaf7c}.markdown-body a:before{content:"â‡²"}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(62,175,124,.2)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none}.markdown-body ul li:before{content:"â€¢";margin-right:4px;color:#3eaf7c}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><blockquote>
<p>rc æ–‡ä»¶æ˜¯ AOSP çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œåœ¨å­¦ä¹  AOSP æ—¶ä¹Ÿè¦äº†è§£å­¦ä¹ ä¸‹ rc æ–‡ä»¶</p>
</blockquote>
<h2 data-id="heading-0">Android Init</h2>
<p>Android Init è¯­è¨€åŒ…å«äº”å¤§ç±»è¯­å¥</p>
<ol>
<li>åŠ¨ä½œ (Actions)</li>
<li>å‘½ä»¤ (Commands)</li>
<li>æœåŠ¡ (Services)</li>
<li>é€‰é¡¹ (Options)</li>
<li>å¯¼å…¥ (Imports)</li>
</ol>
<p>æ‰€æœ‰è¿™äº›è¯­å¥éƒ½æ˜¯<strong>ä»¥è¡Œä¸ºå•ä½</strong>ï¼Œç”±<strong>ç©ºæ ¼åˆ†éš”</strong>ç»„æˆã€‚å¯ä»¥ä½¿ç”¨åæ–œæ æ’å…¥ç©ºæ ¼ï¼Œæˆ–ä½¿ç”¨åŒå¼•å·é˜²æ­¢ç©ºæ ¼å°†æ–‡æœ¬æ‹†åˆ†ã€‚å½“åæ–œæ ä½äºè¡Œå°¾æ—¶ï¼Œå¯ç”¨äºç»­è¡Œã€‚<strong>ä»¥ # å¼€å¤´çš„è¡Œæ˜¯æ³¨é‡Šã€‚</strong></p>
<p>åŠ¨ä½œå’ŒæœåŠ¡ä¼šéšå¼å£°æ˜ä¸€ä¸ªæ–°çš„æ®µè½ã€‚æ‰€æœ‰çš„å‘½ä»¤æˆ–é€‰é¡¹éƒ½<strong>å½’å±äºæœ€è¿‘å£°æ˜çš„æ®µè½</strong>ã€‚ç¬¬ä¸€ä¸ªæ®µè½ä¹‹å‰å‡ºç°çš„å‘½ä»¤æˆ–é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚</p>
<p><strong>æœåŠ¡å…·æœ‰å”¯ä¸€çš„åç§°</strong>ã€‚å¦‚æœå®šä¹‰äº†ç¬¬äºŒä¸ªä¸ç°æœ‰æœåŠ¡åŒåçš„æœåŠ¡ï¼Œå®ƒå°†è¢«å¿½ç•¥å¹¶è®°å½•ä¸€æ¡é”™è¯¯ä¿¡æ¯ã€‚</p>
<blockquote>
<p>å¯ä»¥ä½¿ç”¨ <code>${property.name}</code> è¯­æ³•ä½¿ç”¨ç³»ç»Ÿå±æ€§ã€‚ä¾‹å¦‚ <code>import /init.recovery.${ro.hardware}.rc</code>ã€‚</p>
</blockquote>
<h2 data-id="heading-1">Init.rc æ–‡ä»¶</h2>
<p>Init è¯­è¨€ä½¿ç”¨ä»¥ <code>.rc</code> ä¸ºæ‰©å±•åçš„çº¯æ–‡æœ¬æ–‡ä»¶ã€‚ç³»ç»Ÿä¸­é€šå¸¸å­˜åœ¨å¤šä¸ªæ­¤ç±»æ–‡ä»¶ï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„ä½ç½®ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒè·¯å¾„ä¸åŠ è½½æœºåˆ¶</h3>
<ul>
<li><code>/init.rc</code>ï¼šä¸»è¦çš„é…ç½®æ–‡ä»¶ï¼Œç”± Init å¯æ‰§è¡Œæ–‡ä»¶åœ¨å¯åŠ¨åˆæœŸé¦–å…ˆåŠ è½½ï¼Œè´Ÿè´£ç³»ç»Ÿçš„åˆå§‹è®¾ç½®</li>
<li><code>First Stage Mount</code> ï¼šæ”¯æŒ<code>First Stage Mount</code>çš„è®¾å¤‡ï¼Œåœ¨åŠ è½½å®Œä¸» <code>/init.rc</code> åï¼Œä¼š<strong>ç«‹å³åŠ è½½</strong><code>/system</code>ã€<code>/vendor</code>ã€ <code>/odm</code> ä¸‹ <code>etc/init/</code> ç›®å½•å†…çš„æ‰€æœ‰æ–‡ä»¶ã€‚</li>
<li>æ—§ç‰ˆè®¾å¤‡ï¼šä¸å…·å¤‡<code>First Stage Mount</code>æœºåˆ¶çš„è®¾å¤‡é€»è¾‘ï¼š
<ul>
<li><code>/init.rc</code> å¯¼å…¥ <code>/init.${ro.hardware}.rc</code>ï¼ˆå‚å•†æä¾›çš„ä¸»é…ç½®æ–‡ä»¶ï¼‰</li>
<li>åœ¨æ‰§è¡Œ <code>mount_all</code> å‘½ä»¤æœŸé—´ï¼ŒInit ä¼šåŠ è½½ <code>/{system,vendor,odm}/etc/init/</code> ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚è¿™äº›ç›®å½•ç”¨äºå­˜æ”¾æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åæ‰€éœ€çš„åŠ¨ä½œå’ŒæœåŠ¡</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">ç›®å½•è®¾è®¡æ„å›¾</h3>
<p>ä¸ºäº†å®ç°æ¨¡å—åŒ–ï¼Œä¸åŒåˆ†åŒºçš„ç›®å½•æ‰¿è½½ä¸åŒçš„èŒè´£ï¼š</p>
<ol>
<li><code>/system/etc/init/</code> ï¼šç”¨äºæ ¸å¿ƒç³»ç»Ÿé¡¹ç›®ï¼Œå¦‚ <code>SurfaceFlinger</code>ã€<code>logcatd</code> æˆ– <code>bootanim</code>ã€‚</li>
<li><code>/vendor/etc/init/</code> ï¼šç”¨äº SoC å‚å•†é¡¹ç›®ï¼Œå¦‚æ ¸å¿ƒ SoC åŠŸèƒ½æ‰€éœ€çš„åŠ¨ä½œæˆ–å®ˆæŠ¤è¿›ç¨‹ã€‚</li>
<li><code>/odm/etc/init/</code> ï¼šç”¨äºè®¾å¤‡åˆ¶é€ å•† (ODM) é¡¹ç›®ï¼Œå¦‚è¿åŠ¨ä¼ æ„Ÿå™¨æˆ–å…¶ä»–å¤–è®¾æ‰€éœ€çš„åŠ¨ä½œæˆ–å®ˆæŠ¤è¿›ç¨‹ã€‚</li>
</ol>
<p>æ‰€æœ‰ä½äºç³»ç»Ÿã€å‚å•†æˆ– ODM åˆ†åŒºä¸­çš„æœåŠ¡ï¼Œå…¶æ¡ç›®éƒ½æ”¾ç½®åœ¨å¯¹åº”åˆ†åŒºçš„ <code>/etc/init/</code> ç›®å½•ä¸‹çš„ <code>.rc</code> æ–‡ä»¶ä¸­ã€‚è¿™ç§åšæ³•ä¼˜äºä»¥å¾€çº¯ <code>init.rc</code>ã€‚å®ƒç¡®ä¿ Init åªè¯»å–é‚£äº›äºŒè¿›åˆ¶æ–‡ä»¶å­˜åœ¨äºæ–‡ä»¶ç³»ç»Ÿä¸­çš„æœåŠ¡æ¡ç›®ï¼ŒåŒæ—¶èƒ½æœ‰æ•ˆé¿å…å¤šæœåŠ¡åˆå¹¶æ—¶çš„ä»£ç å†²çªã€‚</p>
<blockquote>
<p>å¼€å‘è€…å¯ä»¥ä½¿ç”¨ <code>LOCAL_INIT_RC</code> å®æŒ‡å®šå¯¹åº”rcæ–‡ä»¶ï¼Œä»¥ä¾¿ç¼–è¯‘æ—¶è‡ªåŠ¨æ”¾ç½®ã€‚</p>
</blockquote>
<h3 data-id="heading-4">mount_all çš„é«˜çº§é€‰é¡¹</h3>
<p>åœ¨ <code>mount_all</code> å‘½ä»¤ä¸­ï¼Œå¯ä»¥åœ¨è·¯å¾„åè®¾ç½® <code>--early</code> å’Œ <code>--late</code> é€‰é¡¹ï¼š</p>
<ul>
<li><code>--early</code>ï¼šInit å°†è·³è¿‡å¸¦æœ‰ <code>latemount</code> æ ‡å¿—çš„æŒ‚è½½æ¡ç›®ï¼Œå¹¶è·³è¿‡è§¦å‘æ–‡ä»¶ç³»ç»ŸåŠ å¯†çŠ¶æ€äº‹ä»¶ã€‚</li>
<li><code>--late</code>ï¼šInit ä»…æŒ‚è½½å¸¦æœ‰ <code>latemount</code> æ ‡å¿—çš„æ¡ç›®ï¼Œä½†è·³è¿‡å¯¼å…¥ <code>.rc</code> æ–‡ä»¶ã€‚</li>
<li><strong>é»˜è®¤çŠ¶æ€</strong>ï¼šè‹¥ä¸è®¾ç½®é€‰é¡¹ï¼Œ<code>mount_all</code> å°†å¤„ç†æŒ‡å®š fstab ä¸­çš„æ‰€æœ‰æ¡ç›®ã€‚</li>
</ul>
<h2 data-id="heading-5">åŠ¨ä½œ</h2>
<p>åŠ¨ä½œçš„å½¢å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">on &lt;è§¦å‘å™¨&gt; <span class="hljs-section">[&amp;&amp; &lt;è§¦å‘å™¨&gt;]</span>*
   &lt;å‘½ä»¤&gt;
   &lt;å‘½ä»¤&gt;
   &lt;å‘½ä»¤&gt;
</code></pre>
<p>åŠ¨ä½œè¢«æ·»åŠ åˆ°é˜Ÿåˆ—å¹¶æ‰§è¡Œçš„é¡ºåºï¼Œå–å†³äºåŒ…å«å®ƒä»¬çš„æ–‡ä»¶çš„<strong>è§£æé¡ºåº</strong>ï¼Œåœ¨å•ä¸ªæ–‡ä»¶å†…éƒ¨åˆ™æŒ‰<strong>å…ˆåé¡ºåº</strong>æ‰§è¡Œã€‚</p>
<p><code>init.rc</code> ä¸­çš„ç¤ºä¾‹</p>
<pre><code class="hljs language-ini" lang="ini">on early-init
    <span class="hljs-comment"># ......</span>
    <span class="hljs-comment"># do-something</span>

on init
    <span class="hljs-comment"># .......</span>
    <span class="hljs-comment"># do-something</span>

<span class="hljs-comment"># Healthd can trigger a full boot from charger mode by signaling this</span>
<span class="hljs-comment"># property when the power button is held.</span>
on property:<span class="hljs-attr">sys.boot_from_charger_mode</span>=<span class="hljs-number">1</span>
    trigger late-init
    <span class="hljs-comment"># .......</span>
    <span class="hljs-comment"># do-something</span>

on load_persist_props_action
    start logd
    start logd-reinit
    <span class="hljs-comment"># .......</span>
    <span class="hljs-comment"># do-something</span>

<span class="hljs-comment"># Indicate to fw loaders that the relevant mounts are up.</span>
on firmware_mounts_complete
    rm /dev/.booting

<span class="hljs-comment"># Mount filesystems and start core system services.</span>
on late-init
    trigger early-fs

    <span class="hljs-comment"># Mount fstab in init.{$device}.rc by mount_all command. Optional parameter</span>
    <span class="hljs-comment"># '--early' can be specified to skip entries with 'latemount'.</span>
    <span class="hljs-comment"># /system and /vendor must be mounted by the end of the fs stage,</span>
    <span class="hljs-comment"># while /data is optional.</span>
    trigger fs
    trigger post-fs

    <span class="hljs-comment"># Mount fstab in init.{$device}.rc by mount_all with '--late' parameter</span>
    <span class="hljs-comment"># to only mount entries with 'latemount'. This is needed if '--early' is</span>
    <span class="hljs-comment"># specified in the previous mount_all command on the fs stage.</span>
    <span class="hljs-comment"># With /system mounted and properties form /system + /factory available,</span>
    <span class="hljs-comment"># some services can be started.</span>
    trigger late-fs

    <span class="hljs-comment"># Now we can mount /data. File encryption requires keymaster to decrypt</span>
    <span class="hljs-comment"># /data, which in turn can only be loaded when system properties are present.</span>
    trigger post-fs-data

    <span class="hljs-comment"># Now we can start zygote for devices with file based encryption</span>
    trigger zygote-start

    <span class="hljs-comment"># Load persist properties and override properties (if enabled) from /data.</span>
    trigger load_persist_props_action

    <span class="hljs-comment"># Remove a file to wake up anything waiting for firmware.</span>
    trigger firmware_mounts_complete

    trigger early-boot
    trigger boot

on post-fs
    <span class="hljs-comment"># Load properties from</span>
    <span class="hljs-comment">#     /system/build.prop,</span>
    <span class="hljs-comment">#     /odm/build.prop,</span>
    <span class="hljs-comment">#     /vendor/build.prop and</span>
    <span class="hljs-comment">#     /factory/factory.prop</span>
    load_system_props
    <span class="hljs-comment"># start essential services</span>
    start logd
    start servicemanager
    start hwservicemanager
    start vndservicemanager

    <span class="hljs-comment"># create the lost+found directories, so as to enforce our permissions</span>
    mkdir /cache/lost+found 0770 root root

    <span class="hljs-comment"># ......</span>
    <span class="hljs-comment"># do-something</span>
    
on late-fs
    <span class="hljs-comment"># ......</span>
    <span class="hljs-comment"># do-something</span>

on post-fs-data
    <span class="hljs-comment"># ......</span>
    <span class="hljs-comment"># do-something</span>
    
<span class="hljs-comment"># It is recommended to put unnecessary data/ initialization from post-fs-data</span>
<span class="hljs-comment"># to start-zygote in device's init.rc to unblock zygote start.</span>
on zygote-start &amp;&amp; property:<span class="hljs-attr">ro.crypto.state</span>=unencrypted
    <span class="hljs-comment"># A/B update verifier that marks a successful boot.</span>
    exec_start update_verifier_nonencrypted
    start netd
    start zygote
    start zygote_secondary

on zygote-start &amp;&amp; property:<span class="hljs-attr">ro.crypto.state</span>=unsupported
    <span class="hljs-comment"># A/B update verifier that marks a successful boot.</span>
    exec_start update_verifier_nonencrypted
    start netd
    start zygote
    start zygote_secondary

on zygote-start &amp;&amp; property:<span class="hljs-attr">ro.crypto.state</span>=encrypted &amp;&amp; property:ro.crypto.type=file
    <span class="hljs-comment"># A/B update verifier that marks a successful boot.</span>
    exec_start update_verifier_nonencrypted
    start netd
    start zygote
    start zygote_secondary

on boot
    <span class="hljs-comment"># basic network init</span>
    ifup lo
    hostname localhost
    domainname localdomain

    <span class="hljs-comment"># ......</span>
    <span class="hljs-comment"># do-something</span>

on nonencrypted
    class_start main
    class_start late_start

on property:<span class="hljs-attr">sys.init_log_level</span>=*
    loglevel ${sys.init_log_level}

on charger
    class_start charger

on property:<span class="hljs-attr">vold.decrypt</span>=trigger_reset_main
    class_reset main

on property:<span class="hljs-attr">vold.decrypt</span>=trigger_load_persist_props
    load_persist_props
    start logd
    start logd-reinit

on property:<span class="hljs-attr">vold.decrypt</span>=trigger_post_fs_data
    trigger post-fs-data

on property:<span class="hljs-attr">vold.decrypt</span>=trigger_restart_min_framework
    <span class="hljs-comment"># A/B update verifier that marks a successful boot.</span>
    exec_start update_verifier
    class_start main

on property:<span class="hljs-attr">vold.decrypt</span>=trigger_restart_framework
    <span class="hljs-comment"># A/B update verifier that marks a successful boot.</span>
    exec_start update_verifier
    class_start main
    class_start late_start

on property:<span class="hljs-attr">vold.decrypt</span>=trigger_shutdown_framework
    class_reset late_start
    class_reset main

on property:<span class="hljs-attr">sys.boot_completed</span>=<span class="hljs-number">1</span>
    bootchart stop

<span class="hljs-comment"># system server cannot write to /proc/sys files,</span>
<span class="hljs-comment"># and chown/chmod does not work for /proc/sys/ entries.</span>
<span class="hljs-comment"># So proxy writes through init.</span>
on property:<span class="hljs-attr">sys.sysctl.extra_free_kbytes</span>=*
    write /proc/sys/vm/extra_free_kbytes ${sys.sysctl.extra_free_kbytes}

<span class="hljs-comment"># "tcp_default_init_rwnd" Is too long!</span>
on property:<span class="hljs-attr">sys.sysctl.tcp_def_init_rwnd</span>=*
    write /proc/sys/net/ipv4/tcp_default_init_rwnd ${sys.sysctl.tcp_def_init_rwnd}

on property:<span class="hljs-attr">security.perf_harden</span>=<span class="hljs-number">0</span>
    write /proc/sys/kernel/perf_event_paranoid 1

on property:<span class="hljs-attr">security.perf_harden</span>=<span class="hljs-number">1</span>
    write /proc/sys/kernel/perf_event_paranoid 3

on property:<span class="hljs-attr">ro.debuggable</span>=<span class="hljs-number">1</span>
    <span class="hljs-comment"># Give writes to anyone for the trace folder on debug builds.</span>
    <span class="hljs-comment"># The folder is used to store method traces.</span>
    chmod 0773 /data/misc/trace
    start console
</code></pre>
<h3 data-id="heading-6">è§¦å‘å™¨</h3>
<p><strong>è§¦å‘å™¨</strong>æ˜¯ç”¨äºåŒ¹é…ç‰¹å®šç±»å‹äº‹ä»¶çš„å­—ç¬¦ä¸²ï¼Œç”¨äºå¼•å‘â€œåŠ¨ä½œ (Action)â€çš„å‘ç”Ÿã€‚</p>
<p>è§¦å‘å™¨åˆ†ä¸º<strong>äº‹ä»¶è§¦å‘å™¨ (Event triggers)</strong> å’Œ <strong>å±æ€§è§¦å‘å™¨ (Property triggers)</strong> ã€‚</p>
<ul>
<li><strong>äº‹ä»¶è§¦å‘å™¨</strong>ï¼šç”± <code>trigger</code> å‘½ä»¤æˆ– Init å¯æ‰§è¡Œæ–‡ä»¶å†…éƒ¨çš„ <code>QueueEventTrigger()</code> å‡½æ•°è§¦å‘ã€‚</li>
<li><strong>å±æ€§è§¦å‘å™¨</strong>ï¼šå½“æŒ‡å®šçš„å±æ€§æ›´æ”¹ä¸ºç‰¹å®šå€¼æˆ–æ›´æ”¹ä¸ºä»»ä½•æ–°å€¼æ—¶è§¦å‘ã€‚å…¶å½¢å¼åˆ†åˆ«ä¸º <code>property:&lt;åç§°&gt;=&lt;å€¼&gt;</code> å’Œ <code>property:&lt;åç§°&gt;=*</code>ã€‚</li>
</ul>
<p>ä¸€ä¸ªåŠ¨ä½œå¯ä»¥æ‹¥æœ‰<strong>å¤šä¸ªå±æ€§è§¦å‘å™¨</strong>ï¼Œä½†åªèƒ½æ‹¥æœ‰<strong>ä¸€ä¸ªäº‹ä»¶è§¦å‘å™¨</strong>ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><code>on boot &amp;&amp; property:a=b</code></p>
<blockquote>
<p>ä»…åœ¨ <code>boot</code> äº‹ä»¶å‘ç”Ÿ<strong>ä¸”</strong>å±æ€§ <code>a</code> ç­‰äº <code>b</code> æ—¶æ‰æ‰§è¡Œçš„åŠ¨ä½œã€‚</p>
</blockquote>
<p><code>on property:a=b &amp;&amp; property:c=d</code></p>
<blockquote>
<p>å®šä¹‰äº†ä¸€ä¸ªåœ¨ä»¥ä¸‹ä¸‰ç§æƒ…å†µä¸‹éƒ½ä¼šæ‰§è¡Œçš„åŠ¨ä½œï¼š</p>
<ol>
<li>åœ¨<strong>åˆå§‹å¯åŠ¨é˜¶æ®µ</strong>ï¼Œå¦‚æœæ­¤æ—¶å±æ€§ <code>a=b</code> ä¸” <code>c=d</code>ã€‚</li>
<li>å½“å±æ€§ <code>c</code> å·²ç»ç­‰äº <code>d</code>ï¼Œè€Œå±æ€§ <code>a</code> <strong>åˆ‡æ¢</strong>åˆ°å€¼ <code>b</code> çš„ä»»ä½•æ—¶åˆ»ã€‚</li>
<li>å½“å±æ€§ <code>a</code> å·²ç»ç­‰äº <code>b</code>ï¼Œè€Œå±æ€§ <code>c</code> <strong>åˆ‡æ¢</strong>åˆ°å€¼ <code>d</code> çš„ä»»ä½•æ—¶åˆ»ã€‚</li>
</ol>
</blockquote>
<h3 data-id="heading-7">å‘½ä»¤</h3>
<p><code>bootchart [start|stop]</code></p>
<blockquote>
<p>å¯åŠ¨æˆ–åœæ­¢ bootchartï¼ˆæ€§èƒ½åˆ†æå·¥å…·ï¼‰ã€‚é»˜è®¤çš„ <code>init.rc</code> ä¸­åŒ…å«æ­¤å‘½ä»¤ï¼Œä½†ä»…å½“ <code>/data/bootchart/enabled</code> æ–‡ä»¶å­˜åœ¨æ—¶æ‰æœ‰æ•ˆï¼Œå¦åˆ™è¯¥å‘½ä»¤ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚</p>
</blockquote>
<p><code>chmod &lt;å…«è¿›åˆ¶æ¨¡å¼&gt; &lt;è·¯å¾„&gt;</code></p>
<blockquote>
<p>ä¿®æ”¹æ–‡ä»¶è®¿é—®æƒé™ã€‚</p>
</blockquote>
<p><code>chown &lt;æ‰€æœ‰è€…&gt; &lt;ç»„&gt; &lt;è·¯å¾„&gt;</code></p>
<blockquote>
<p>ä¿®æ”¹æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œæ‰€å±ç»„ã€‚</p>
</blockquote>
<p><code>class_start &lt;æœåŠ¡ç±»&gt;</code></p>
<blockquote>
<p>å¯åŠ¨æŒ‡å®šç±»åˆ«çš„æ‰€æœ‰æœåŠ¡ï¼ˆå¦‚æœå®ƒä»¬å°šæœªè¿è¡Œï¼‰ã€‚</p>
</blockquote>
<p><code>class_stop &lt;æœåŠ¡ç±»&gt;</code></p>
<blockquote>
<p>åœæ­¢å¹¶ç¦ç”¨æŒ‡å®šç±»åˆ«çš„æ‰€æœ‰æœåŠ¡ï¼ˆå¦‚æœæ­£åœ¨è¿è¡Œï¼‰ã€‚</p>
</blockquote>
<p><code>class_reset &lt;æœåŠ¡ç±»&gt;</code></p>
<blockquote>
<p>åœæ­¢æŒ‡å®šç±»åˆ«çš„æ‰€æœ‰æœåŠ¡ï¼Œä½†ä¸ç¦ç”¨ï¼Œç¨åå¯ä»¥é€šè¿‡ <code>class_start</code> é‡æ–°å¯åŠ¨ã€‚</p>
</blockquote>
<p><code>class_restart &lt;æœåŠ¡ç±»&gt;</code></p>
<blockquote>
<p>é‡å¯æŒ‡å®šç±»åˆ«çš„æ‰€æœ‰æœåŠ¡ã€‚</p>
</blockquote>
<p><code>copy &lt;æºè·¯å¾„&gt; &lt;ç›®æ ‡è·¯å¾„&gt;</code></p>
<blockquote>
<p>å¤åˆ¶æ–‡ä»¶ã€‚ç±»ä¼¼äº <code>write</code>ï¼Œä½†é€‚ç”¨äºäºŒè¿›åˆ¶æˆ–å¤§æ•°æ®é‡ã€‚ä¸æ”¯æŒä»è½¯é“¾æ¥æˆ–å…¨ç”¨æˆ·å¯å†™/ç»„å¯å†™çš„æ–‡ä»¶å¤åˆ¶ã€‚å¦‚æœç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨ï¼Œé»˜è®¤åˆ›å»ºæƒé™ä¸º 0600ï¼›å¦‚æœå·²å­˜åœ¨åˆ™ä¼šè¢«æˆªæ–­ã€‚</p>
</blockquote>
<p><code>domainname &lt;åç§°&gt;</code></p>
<blockquote>
<p>è®¾ç½®åŸŸåã€‚</p>
</blockquote>
<p><code>enable &lt;æœåŠ¡å&gt;</code></p>
<blockquote>
<p>å°†ä¸€ä¸ªåŸæœ¬è®¾ç½®ä¸º <code>disabled</code> çš„æœåŠ¡æ”¹ä¸ºå¯ç”¨çŠ¶æ€ã€‚å¦‚æœè¯¥æœåŠ¡æœ¬è¯¥è¿è¡Œï¼Œåˆ™ä¼šç«‹å³å¯åŠ¨ã€‚</p>
</blockquote>
<p><code>exec [ &lt;å®‰å…¨ä¸Šä¸‹æ–‡&gt; [ &lt;ç”¨æˆ·&gt; [ &lt;ç»„&gt;* ] ] ] -- &lt;å‘½ä»¤&gt; [ &lt;å‚æ•°&gt;* ]</code></p>
<blockquote>
<p>Fork å¹¶æ‰§è¡Œå¸¦å‚æ•°çš„å‘½ä»¤ã€‚å‘½ä»¤å†™åœ¨ <code>--</code> ä¹‹åï¼Œä»¥ä¾¿åŒºåˆ†å¯é€‰çš„å®‰å…¨ä¸Šä¸‹æ–‡ã€ç”¨æˆ·å’Œè¡¥å……ç»„ã€‚åœ¨å‘½ä»¤æ‰§è¡Œå®Œæˆä¹‹å‰ï¼ŒInit ä¼š<strong>æš‚åœæ‰§è¡Œ</strong>åç»­å‘½ä»¤ã€‚å‚æ•°ä¸­æ”¯æŒå±æ€§æ‰©å±•ã€‚</p>
</blockquote>
<p><code>exec_start &lt;æœåŠ¡&gt;</code></p>
<blockquote>
<p>å¯åŠ¨ç»™å®šæœåŠ¡ï¼Œå¹¶<strong>æš‚åœæ‰§è¡Œ</strong>åç»­å‘½ä»¤ç›´åˆ°è¯¥æœåŠ¡è¿”å›ã€‚é€»è¾‘ç±»ä¼¼äº <code>exec</code>ï¼Œä½†éœ€è¦ä½¿ç”¨å·²æœ‰çš„æœåŠ¡ã€‚</p>
</blockquote>
<p><code>export &lt;åç§°&gt; &lt;å€¼&gt;</code></p>
<blockquote>
<p>åœ¨å…¨å±€ç¯å¢ƒå˜é‡ä¸­è®¾ç½®å˜é‡ <code>&lt;åç§°&gt;</code> çš„å€¼ä¸º <code>&lt;å€¼&gt;</code>ã€‚</p>
</blockquote>
<p><code>hostname &lt;åç§°&gt;</code></p>
<blockquote>
<p>è®¾ç½®ä¸»æœºåã€‚</p>
</blockquote>
<p><code>ifup &lt;æ¥å£&gt;</code></p>
<blockquote>
<p>å¯åŠ¨æŒ‡å®šçš„ç½‘ç»œæ¥å£ï¼ˆä½¿å…¶ä¸Šçº¿ï¼‰ã€‚</p>
</blockquote>
<p><code>insmod [-f] &lt;è·¯å¾„&gt; [&lt;é€‰é¡¹&gt;]</code></p>
<blockquote>
<p>å®‰è£…æŒ‡å®šè·¯å¾„çš„å†…æ ¸æ¨¡å—ã€‚<code>-f</code> è¡¨ç¤ºå¼ºåˆ¶å®‰è£…ï¼Œå³ä½¿å†…æ ¸ç‰ˆæœ¬ä¸åŒ¹é…ã€‚</p>
</blockquote>
<p><code>load_all_props</code></p>
<blockquote>
<p>ä» <code>/system</code>ã€<code>/vendor</code> ç­‰ç›®å½•åŠ è½½å±æ€§ã€‚</p>
</blockquote>
<p><code>load_persist_props</code></p>
<blockquote>
<p>å½“ <code>/data</code> åˆ†åŒºè§£å¯†ååŠ è½½æŒä¹…åŒ–å±æ€§ï¼ˆPersistent Propertiesï¼‰ã€‚</p>
</blockquote>
<p><code>loglevel &lt;çº§åˆ«&gt;</code></p>
<blockquote>
<p>è®¾ç½®å†…æ ¸æ—¥å¿—çº§åˆ«ã€‚</p>
</blockquote>
<p><code>mkdir &lt;è·¯å¾„&gt; [æ¨¡å¼] [æ‰€æœ‰è€…] [ç»„]</code></p>
<blockquote>
<p>åˆ›å»ºç›®å½•ã€‚å¦‚æœç›®å½•å·²å­˜åœ¨ï¼Œåˆ™ä¼šæ›´æ–°å…¶æ¨¡å¼ã€æ‰€æœ‰è€…å’Œç»„ã€‚é»˜è®¤æƒé™ä¸º 755ã€‚</p>
</blockquote>
<p><code>mount_all &lt;fstab&gt; [ &lt;è·¯å¾„&gt; ]* [--&lt;é€‰é¡¹&gt;]</code></p>
<blockquote>
<p>æ ¹æ® fstab æ–‡ä»¶æŒ‚è½½æ‰€æœ‰åˆ†åŒºï¼Œå¹¶å¯¼å…¥æŒ‡å®šè·¯å¾„ä¸‹çš„ <code>.rc</code> æ–‡ä»¶ã€‚</p>
</blockquote>
<p><code>mount &lt;ç±»å‹&gt; &lt;è®¾å¤‡&gt; &lt;ç›®å½•&gt; [ &lt;æ ‡å¿—&gt;* ] [&lt;é€‰é¡¹&gt;]</code></p>
<blockquote>
<p>å°è¯•å°†è®¾å¤‡æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ã€‚æ ‡å¿—åŒ…æ‹¬ <code>ro</code>, <code>rw</code>, <code>remount</code> ç­‰ï¼›é€‰é¡¹ä»¥é€—å·åˆ†éš”ï¼Œå¦‚ <code>barrier=1</code>ã€‚</p>
</blockquote>
<p><code>restart &lt;æœåŠ¡&gt;</code></p>
<blockquote>
<p>åœæ­¢å¹¶é‡å¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„æœåŠ¡ã€‚å¦‚æœæœåŠ¡æ­£åœ¨é‡å¯ä¸­åˆ™ä¸æ“ä½œã€‚</p>
</blockquote>
<p><code>restorecon &lt;è·¯å¾„&gt; [ &lt;è·¯å¾„&gt;* ]</code></p>
<blockquote>
<p>å°†æŒ‡å®šè·¯å¾„çš„å®‰å…¨ä¸Šä¸‹æ–‡æ¢å¤åˆ° <code>file_contexts</code> é…ç½®ä¸­çš„å®šä¹‰ã€‚</p>
</blockquote>
<p><code>restorecon_recursive &lt;è·¯å¾„&gt; [ &lt;è·¯å¾„&gt;* ]</code></p>
<blockquote>
<p>é€’å½’åœ°æ¢å¤æŒ‡å®šç›®å½•æ ‘çš„å®‰å…¨ä¸Šä¸‹æ–‡ã€‚</p>
</blockquote>
<p><code>rm &lt;è·¯å¾„&gt;</code></p>
<blockquote>
<p>åˆ é™¤æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ï¼ˆè°ƒç”¨ <code>unlink</code>ï¼‰ã€‚</p>
</blockquote>
<p><code>rmdir &lt;è·¯å¾„&gt;</code></p>
<blockquote>
<p>åˆ é™¤æŒ‡å®šè·¯å¾„çš„ç›®å½•ã€‚</p>
</blockquote>
<p><code>setprop &lt;åç§°&gt; &lt;å€¼&gt;</code></p>
<blockquote>
<p>è®¾ç½®ç³»ç»Ÿå±æ€§ã€‚</p>
</blockquote>
<p><code>setrlimit &lt;èµ„æº&gt; &lt;å½“å‰å€¼&gt; &lt;æœ€å¤§å€¼&gt;</code></p>
<blockquote>
<p>è®¾ç½®èµ„æºçš„ rlimitï¼ˆèµ„æºé™åˆ¶ï¼‰ã€‚</p>
</blockquote>
<p><code>start &lt;æœåŠ¡&gt;</code></p>
<blockquote>
<p>å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼ˆå¦‚æœå®ƒå°šæœªè¿è¡Œï¼‰ã€‚æ³¨æ„ï¼šè¿™æ˜¯<strong>å¼‚æ­¥</strong>çš„ï¼ŒInit ä¸ä¼šç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆå°±ç»§ç»­æ‰§è¡Œåç»­å‘½ä»¤ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> è¿™æ„å‘³ç€å³ä½¿ä½ å…ˆ <code>start</code> äº† A æœåŠ¡å†å¯åŠ¨ B æœåŠ¡ï¼Œä¹Ÿä¸èƒ½ä¿è¯ A çš„é€šä¿¡é€šé“åœ¨ B å°è¯•è®¿é—®æ—¶å·²ç»å°±ç»ªã€‚</p>
</blockquote>
</blockquote>
<p><code>stop &lt;æœåŠ¡&gt;</code></p>
<blockquote>
<p>åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„æœåŠ¡ã€‚</p>
</blockquote>
<p><code>swapon_all &lt;fstab&gt;</code></p>
<blockquote>
<p>å¯¹ç»™å®šçš„ fstab æ–‡ä»¶è°ƒç”¨ <code>fs_mgr_swapon_all</code>ã€‚</p>
</blockquote>
<p><code>symlink &lt;ç›®æ ‡&gt; &lt;è·¯å¾„&gt;</code></p>
<blockquote>
<p>åœ¨ <code>&lt;è·¯å¾„&gt;</code> å¤„åˆ›å»ºä¸€ä¸ªæŒ‡å‘ <code>&lt;ç›®æ ‡&gt;</code> çš„ç¬¦å·é“¾æ¥ã€‚</p>
</blockquote>
<p><code>sysclktz &lt;æ ¼æ—å¨æ²»åç§»åˆ†é’Ÿæ•°&gt;</code></p>
<blockquote>
<p>è®¾ç½®ç³»ç»Ÿæ—¶åŒºåŸºå‡†ã€‚</p>
</blockquote>
<p><code>trigger &lt;äº‹ä»¶&gt;</code></p>
<blockquote>
<p>è§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚ç”¨äºä»ä¸€ä¸ªåŠ¨ä½œä¸­å°†å¦ä¸€ä¸ªåŠ¨ä½œæ’å…¥æ‰§è¡Œé˜Ÿåˆ—ã€‚</p>
</blockquote>
<p><code>umount &lt;è·¯å¾„&gt;</code></p>
<blockquote>
<p>å¸è½½è¯¥è·¯å¾„çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
</blockquote>
<p><code>verity_load_state</code> / <code>verity_update_state</code></p>
<blockquote>
<p>ç”¨äºåŠ è½½å’Œæ›´æ–° dm-verity çŠ¶æ€çš„å†…éƒ¨å®ç°ç»†èŠ‚ã€‚</p>
</blockquote>
<p><code>wait &lt;è·¯å¾„&gt; [ &lt;è¶…æ—¶æ—¶é—´&gt; ]</code></p>
<blockquote>
<p>è½®è¯¢ç­‰å¾…æŸä¸ªæ–‡ä»¶å‡ºç°ã€‚é»˜è®¤è¶…æ—¶æ—¶é—´ä¸º 5 ç§’ã€‚</p>
</blockquote>
<p><code>wait_for_prop &lt;åç§°&gt; &lt;value&gt;</code></p>
<blockquote>
<p>ç­‰å¾…ç³»ç»Ÿå±æ€§è¾¾åˆ°æŒ‡å®šå€¼ã€‚å¦‚æœå·²æ»¡è¶³æ¡ä»¶åˆ™ç«‹å³ç»§ç»­ã€‚</p>
</blockquote>
<p><code>write &lt;path&gt; &lt;content&gt;</code></p>
<blockquote>
<p>æ‰“å¼€æ–‡ä»¶å¹¶å†™å…¥å­—ç¬¦ä¸²ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™æˆªæ–­ã€‚</p>
</blockquote>
<h2 data-id="heading-8">æœåŠ¡</h2>
<p><strong>æœåŠ¡</strong>æ˜¯ Init è¿›ç¨‹å¯åŠ¨çš„<strong>ç¨‹åº</strong>ï¼Œå¹¶ä¸”åœ¨å®ƒä»¬é€€å‡ºæ—¶ç”± Init é‡å¯ï¼ˆå¯é€‰ï¼‰ã€‚æœåŠ¡çš„å®šä¹‰å½¢å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">service <span class="hljs-tag">&lt;<span class="hljs-name">åç§°</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">è·¯å¾„å</span>&gt;</span> [ <span class="hljs-tag">&lt;<span class="hljs-name">å‚æ•°</span>&gt;</span> ]*
   <span class="hljs-tag">&lt;<span class="hljs-name">é€‰é¡¹</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">é€‰é¡¹</span>&gt;</span>
   ...
</code></pre>
<h3 data-id="heading-9">é€‰é¡¹</h3>
<p>é€‰é¡¹æ˜¯æœåŠ¡çš„ä¿®é¥°ç¬¦ï¼Œå®ƒä»¬å½±å“ Init è¿›ç¨‹è¿è¡ŒæœåŠ¡çš„æ–¹å¼å’Œæ—¶æœºã€‚</p>
<p><code>console [&lt;console&gt;]</code></p>
<blockquote>
<p>è¯¥æœåŠ¡éœ€è¦ä¸€ä¸ªæ§åˆ¶å°ã€‚å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ç”¨äºæŒ‡å®šç‰¹å®šçš„æ§åˆ¶å°ï¼Œè€Œéé»˜è®¤å€¼ã€‚é»˜è®¤çš„ <code>/dev/console</code> å¯ä»¥é€šè¿‡è®¾ç½®å†…æ ¸å‚æ•° <code>androidboot.console</code> æ¥æ›´æ”¹ã€‚åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œéƒ½åº”çœç•¥å¼€å¤´çš„ <code>/dev/</code>ï¼Œä¾‹å¦‚ <code>/dev/tty0</code> åº”å†™ä¸º <code>console tty0</code>ã€‚</p>
</blockquote>
<p><code>critical</code></p>
<blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªè®¾å¤‡å…³é”®å‹ (device-critical) æœåŠ¡ã€‚å¦‚æœåœ¨ 4 åˆ†é’Ÿå†…é€€å‡ºè¶…è¿‡ 4 æ¬¡ï¼Œè®¾å¤‡å°†é‡å¯å¹¶è¿›å…¥æ¢å¤æ¨¡å¼ (recovery mode)ã€‚</p>
</blockquote>
<p><code>disabled</code></p>
<blockquote>
<p>è¯¥æœåŠ¡ä¸ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå¿…é¡»<strong>é€šè¿‡æœåŠ¡åç§°æ˜¾å¼å¯åŠ¨</strong>ã€‚</p>
</blockquote>
<p><code>setenv &lt;name&gt; &lt;value&gt;</code></p>
<blockquote>
<p>åœ¨å¯åŠ¨çš„è¿›ç¨‹ä¸­ï¼Œå°†ç¯å¢ƒå˜é‡ <code>&lt;name&gt;</code> è®¾ç½®ä¸º <code>&lt;value&gt;</code>ã€‚</p>
</blockquote>
<p><code>socket &lt;name&gt; &lt;type&gt; &lt;perm&gt; [ &lt;user&gt; [ &lt;group&gt; [ &lt;seclabel&gt; ] ] ]</code></p>
<blockquote>
<p>åˆ›å»ºä¸€ä¸ªåä¸º <code>/dev/socket/&lt;name&gt;</code> çš„ Unix åŸŸå¥—æ¥å­—ï¼Œå¹¶å°†è¯¥æ–‡ä»¶æè¿°ç¬¦ (fd) ä¼ é€’ç»™å¯åŠ¨çš„è¿›ç¨‹ã€‚<code>&lt;type&gt;</code> å¿…é¡»æ˜¯ <code>dgram</code>ã€<code>stream</code> æˆ– <code>seqpacket</code>ã€‚ç”¨æˆ·å’Œç»„é»˜è®¤ä¸º 0ã€‚<code>seclabel</code> æ˜¯è¯¥å¥—æ¥å­—çš„ SELinux å®‰å…¨ä¸Šä¸‹æ–‡ï¼Œé»˜è®¤ä½¿ç”¨æœåŠ¡çš„å®‰å…¨ä¸Šä¸‹æ–‡ã€‚</p>
</blockquote>
<p><code>file &lt;path&gt; &lt;type&gt;</code></p>
<blockquote>
<p>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶è·¯å¾„å¹¶å°†æ–‡ä»¶æè¿°ç¬¦ä¼ é€’ç»™å¯åŠ¨çš„è¿›ç¨‹ã€‚<code>&lt;type&gt;</code> å¿…é¡»ä¸º <code>r</code> (è¯»)ã€<code>w</code> (å†™) æˆ– <code>rw</code> (è¯»å†™)ã€‚</p>
</blockquote>
<p><code>user &lt;username&gt;</code></p>
<blockquote>
<p>åœ¨æ‰§è¡Œè¯¥æœåŠ¡å‰åˆ‡æ¢ç”¨æˆ·åä¸º <code>&lt;username&gt;</code>ã€‚ç›®å‰é»˜è®¤ä¸º <code>root</code>ï¼ˆå¯èƒ½åº”è¯¥é»˜è®¤ä¸º <code>nobody</code>ï¼‰ã€‚è‡ª Android M èµ·ï¼Œå³ä½¿è¿›ç¨‹éœ€è¦ Linux èƒ½åŠ› (capabilities)ï¼Œä¹Ÿåº”ä½¿ç”¨æ­¤é€‰é¡¹ã€‚ç°åœ¨å¯ä»¥é€šè¿‡ <code>fs_config</code> æœºåˆ¶åœ¨æ–‡ä»¶ç³»ç»Ÿå±‚é¢ä¸ºç‰¹å®šäºŒè¿›åˆ¶æ–‡ä»¶åˆ†é…èƒ½åŠ›ã€‚è‡ª Android O èµ·ï¼Œè¿›ç¨‹ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ <code>.rc</code> æ–‡ä»¶ä¸­è¯·æ±‚èƒ½åŠ›ï¼ˆè§ä¸‹æ–‡ <code>capabilities</code> é€‰é¡¹ï¼‰ã€‚</p>
</blockquote>
<p><code>group &lt;groupname&gt; [ &lt;groupname&gt;* ]</code></p>
<blockquote>
<p>åœ¨æ‰§è¡Œè¯¥æœåŠ¡å‰åˆ‡æ¢ç»„åä¸º <code>&lt;groupname&gt;</code>ã€‚ç¬¬ä¸€ä¸ªç»„åï¼ˆå¿…å¡«ï¼‰ä¹‹åçš„å…¶ä»–ç»„åç”¨äºè®¾ç½®è¿›ç¨‹çš„è¡¥å……ç»„ï¼ˆé€šè¿‡ <code>setgroups()</code>ï¼‰ã€‚ç›®å‰é»˜è®¤ä¸º <code>root</code>ã€‚</p>
</blockquote>
<p><code>capabilities &lt;capability&gt; [ &lt;capability&gt;* ]</code></p>
<blockquote>
<p>åœ¨æ‰§è¡Œè¯¥æœåŠ¡æ—¶è®¾ç½® Linux èƒ½åŠ›ã€‚<code>&lt;capability&gt;</code> ä¸åº”åŒ…å« <code>CAP_</code> å‰ç¼€ï¼Œä¾‹å¦‚åº”å†™ä¸º <code>NET_ADMIN</code> è€Œä¸æ˜¯ <code>CAP_NET_ADMIN</code>ã€‚</p>
</blockquote>
<p><code>seclabel &lt;seclabel&gt;</code></p>
<blockquote>
<p>åœ¨æ‰§è¡ŒæœåŠ¡å‰åˆ‡æ¢åˆ°æŒ‡å®šçš„ SELinux å®‰å…¨ä¸Šä¸‹æ–‡ã€‚ä¸»è¦ç”¨äºä» rootfs è¿è¡Œçš„æœåŠ¡ï¼ˆå¦‚ ueventd, adbdï¼‰ã€‚ç³»ç»Ÿåˆ†åŒºä¸Šçš„æœåŠ¡é€šå¸¸ä½¿ç”¨åŸºäºæ–‡ä»¶å®‰å…¨ä¸Šä¸‹æ–‡å®šä¹‰çš„ç­–ç•¥è½¬æ¢ã€‚</p>
</blockquote>
<p><code>oneshot</code></p>
<blockquote>
<p>æœåŠ¡é€€å‡ºæ—¶ä¸è¦é‡å¯å®ƒã€‚</p>
</blockquote>
<p><code>class &lt;name&gt; [ &lt;name&gt;* ]</code></p>
<blockquote>
<p>ä¸ºæœåŠ¡æŒ‡å®šæœåŠ¡ç±»åç§°ã€‚åŒå±ä¸€ä¸ªç±»çš„æ‰€æœ‰æœåŠ¡å¯ä»¥ä¸€èµ·å¯åŠ¨æˆ–åœæ­¢ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒæœåŠ¡é»˜è®¤å±äº <code>default</code> ç±»ã€‚</p>
</blockquote>
<p><code>animation class</code></p>
<blockquote>
<p><code>animation</code>ï¼ˆåŠ¨ç”»ï¼‰ç±»åº”åŒ…å«å¼€æœºåŠ¨ç”»å’Œå…³æœºåŠ¨ç”»æ‰€éœ€çš„æ‰€æœ‰æœåŠ¡ã€‚ç”±äºè¿™äº›æœåŠ¡å¯åŠ¨ææ—©ä¸”è¿è¡Œè‡³å…³æœºæœ€åé˜¶æ®µï¼Œå› æ­¤ä¸ä¿è¯èƒ½å¤Ÿè®¿é—® <code>/data</code> åˆ†åŒºã€‚è¿™äº›æœåŠ¡å¯ä»¥æ£€æŸ¥ <code>/data</code> ä¸‹çš„æ–‡ä»¶ï¼Œä½†ä¸åº”ä¿æŒæ–‡ä»¶æ‰“å¼€çŠ¶æ€ã€‚</p>
</blockquote>
<p><code>onrestart</code></p>
<blockquote>
<p>å½“æœåŠ¡é‡å¯æ—¶æ‰§è¡Œä¸€æ¡å‘½ä»¤ã€‚</p>
</blockquote>
<p><code>writepid &lt;file&gt; [ &lt;file&gt;* ]</code></p>
<blockquote>
<p>å½“å­è¿›ç¨‹ fork æ—¶ï¼Œå°†å…¶ PID å†™å…¥æŒ‡å®šæ–‡ä»¶ã€‚ä¸»è¦ç”¨äº cgroup/cpusetã€‚</p>
</blockquote>
<p><code>priority &lt;priority&gt;</code></p>
<blockquote>
<p>æœåŠ¡çš„è°ƒåº¦ä¼˜å…ˆçº§ã€‚å–å€¼èŒƒå›´ä¸º -20 åˆ° 19ï¼Œé»˜è®¤ä¸º 0ã€‚é€šè¿‡ <code>setpriority()</code> è®¾ç½®ã€‚</p>
</blockquote>
<p><code>namespace &lt;pid|mnt&gt;</code></p>
<blockquote>
<p>åœ¨ fork æœåŠ¡æ—¶è¿›å…¥æ–°çš„ PID æˆ– mount å‘½åç©ºé—´ã€‚</p>
</blockquote>
<p><code>oom_score_adjust &lt;value&gt;</code></p>
<blockquote>
<p>è®¾ç½®å­è¿›ç¨‹çš„ <code>/proc/self/oom_score_adj</code> å€¼ï¼ŒèŒƒå›´ä¸º -1000 åˆ° 1000ã€‚</p>
</blockquote>
<p><code>memcg.swappiness &lt;value&gt;</code></p>
<blockquote>
<p>è®¾ç½®å­è¿›ç¨‹çš„ <code>memory.swappiness</code> å€¼ï¼ˆä»…åœ¨æŒ‚è½½äº† memcg æ—¶æœ‰æ•ˆï¼‰ã€‚</p>
</blockquote>
<p><code>memcg.soft_limit_in_bytes &lt;value&gt;</code></p>
<blockquote>
<p>è®¾ç½®å­è¿›ç¨‹çš„ <code>memory.soft_limit_in_bytes</code>ï¼ˆå†…å­˜è½¯é™åˆ¶ï¼‰ã€‚</p>
</blockquote>
<p><code>memcg.limit_in_bytes &lt;value&gt;</code></p>
<blockquote>
<p>è®¾ç½®å­è¿›ç¨‹çš„ <code>memory.limit_in_bytes</code>ï¼ˆå†…å­˜ç¡¬é™åˆ¶ï¼‰ã€‚</p>
</blockquote>
<p><code>shutdown &lt;shutdown_behavior&gt;</code></p>
<blockquote>
<p>è®¾ç½®æœåŠ¡çš„å…³æœºè¡Œä¸ºã€‚è‹¥æœªæŒ‡å®šï¼ŒæœåŠ¡åœ¨å…³æœºæœŸé—´ä¼šè¢« <code>SIGTERM</code> å’Œ <code>SIGKILL</code> æ€æ­»ã€‚æ ‡è®°ä¸º <code>critical</code> çš„æœåŠ¡åœ¨å…³æœºè¶…æ—¶å‰ä¸ä¼šè¢«æ€æ­»ï¼›å¦‚æœå…³æœºå¼€å§‹æ—¶è¯¥æœåŠ¡æœªè¿è¡Œï¼Œåˆ™ä¼šå¯åŠ¨å®ƒã€‚</p>
</blockquote>
<h2 data-id="heading-10">å¯¼å…¥</h2>
<p>å¯ä»¥åƒå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œå°†å…¶ä»–æ–‡ä»¶å†…çš„ rc æ–‡ä»¶å¯¼å…¥åˆ°æœ¬æ–‡ä»¶</p>
<p><code>import &lt;è·¯å¾„&gt;</code></p>
<blockquote>
<p>è§£æä¸€ä¸ª Init é…ç½®æ–‡ä»¶ï¼Œæ‰©å±•å½“å‰é…ç½®ã€‚å¦‚æœ <code>&lt;è·¯å¾„&gt;</code> æ˜¯ä¸€ä¸ªç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹çš„æ¯ä¸ªæ–‡ä»¶éƒ½å°†è¢«ä½œä¸ºé…ç½®æ–‡ä»¶è§£æã€‚å¯¼å…¥æ“ä½œ<strong>ä¸æ˜¯é€’å½’çš„</strong>ï¼ŒåµŒå¥—çš„å­ç›®å½•ä¸ä¼šè¢«è§£æã€‚</p>
</blockquote>
<p>Init ä»…åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ—¶é—´ç‚¹å¯¼å…¥ <code>.rc</code> æ–‡ä»¶ï¼š</p>
<ol>
<li><strong>åˆå§‹å¯åŠ¨é˜¶æ®µ</strong>ï¼šå¯¼å…¥ <code>/init.rc</code> æˆ–ç”±å±æ€§ <code>ro.boot.init_rc</code> æŒ‡å®šçš„è„šæœ¬ã€‚</li>
<li><strong>ç¬¬ä¸€é˜¶æ®µæŒ‚è½½ï¼ˆFirst Stage Mountï¼‰å</strong>ï¼šåœ¨å¯¼å…¥ <code>/init.rc</code> ä¹‹åï¼Œç«‹å³å¯¼å…¥ <code>/{system,vendor,odm}/etc/init/</code>ã€‚</li>
<li><strong>æ‰§è¡Œ <code>mount_all</code> æœŸé—´</strong>ï¼šå¯¼å…¥ <code>/{system,vendor,odm}/etc/init/</code> æˆ–åœ¨ <code>mount_all</code> å‘½ä»¤ä¸­æŒ‡å®šè·¯å¾„çš„ <code>.rc</code> æ–‡ä»¶ã€‚</li>
</ol>
<blockquote>
<p>ç”±äºå†å²é—ç•™åŸå› å’Œå‘åå…¼å®¹æ€§ï¼Œæ–‡ä»¶çš„å¯¼å…¥é¡ºåºæ¯”è¾ƒå¤æ‚ï¼Œä¸”å¹¶éä¸¥æ ¼ä¿è¯ã€‚</p>
</blockquote>
<p><strong>ä¿è¯å‘½ä»¤æ‰§è¡Œé¡ºåºçš„å”¯ä¸€æ­£ç¡®æ–¹æ³•æ˜¯ï¼š</strong></p>
<ol>
<li>å°†å…¶æ”¾ç½®åœ¨æ‹¥æœ‰<strong>æ›´æ—©æ‰§è¡Œè§¦å‘å™¨</strong>çš„<strong>åŠ¨ä½œ</strong>ä¸­ã€‚</li>
<li>å°†å…¶æ”¾ç½®åœ¨<strong>åŒä¸€ä¸ªæ–‡ä»¶</strong>ä¸­æ‹¥æœ‰ç›¸åŒè§¦å‘å™¨çš„<strong>åŠ¨ä½œ</strong>é‡Œï¼Œå¹¶ç¡®ä¿å®ƒåœ¨æ–‡ä»¶å‰é¢ã€‚</li>
</ol>
<p>å°½ç®¡å¦‚æ­¤ï¼Œç¬¬ä¸€é˜¶æ®µæŒ‚è½½è®¾å¤‡çš„<strong>å®é™…æ‰§è¡Œé¡ºåº</strong>é€šå¸¸å¦‚ä¸‹ï¼š</p>
<ol>
<li>è§£æ <code>/init.rc</code>ï¼Œç„¶åé€’å½’è§£æå…¶å†…éƒ¨åŒ…å«çš„æ¯ä¸ª <code>import</code>ã€‚</li>
<li>å¯¹ <code>/system/etc/init/</code> çš„å†…å®¹æŒ‰<strong>å­—æ¯é¡ºåº</strong>æ’åºå¹¶ä¾æ¬¡è§£æï¼Œæ¯ä¸ªæ–‡ä»¶è§£æåéƒ½ä¼šé€’å½’å¤„ç†å…¶å†…éƒ¨çš„å¯¼å…¥ã€‚</li>
<li>å¯¹ <code>/vendor/etc/init</code> é‡å¤æ­¥éª¤ 2ï¼Œéšåå¯¹ <code>/odm/etc/init</code> é‡å¤æ­¥éª¤ 2ã€‚</li>
</ol>
<p><code>init.rc</code>ç¤ºä¾‹</p>
<pre><code class="hljs language-ini" lang="ini">import /init.environ.rc
import /init.usb.rc
import /init.${ro.hardware}.rc
import /vendor/etc/init/hw/init.${ro.hardware}.rc
import /init.usb.configfs.rc
import /init.${ro.zygote}.rc
</code></pre>
<h2 data-id="heading-11">åº”ç”¨</h2>
<ol>
<li>å¯ä»¥åœ¨å¯åŠ¨æ—¶æŒ‚è½½æˆ‘ä»¬æ‰€éœ€çš„ç›®å½•</li>
<li>å¯ä»¥åœ¨å¯åŠ¨æ—¶å¯åŠ¨è‡ªå®šä¹‰çš„æœåŠ¡</li>
<li>å¯ä»¥åœ¨å¯åŠ¨æ—¶è®¾ç½®è‡ªå®šä¹‰çš„ç³»ç»Ÿå±æ€§</li>
<li>å¯ä»¥åœ¨å¯åŠ¨æ—¶è¿›è¡Œchmod</li>
<li>å¯ä»¥åœ¨å¯åŠ¨æ—¶è°ƒæ•´ç¡¬ä»¶çŠ¶æ€</li>
<li>å¯ä»¥åœ¨å¯åŠ¨æ—¶åˆ›å»ºè½¯ç¡¬é“¾æ¥</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªBinderé€šä¿¡ä¸­çš„å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜]]></title>    <link>https://juejin.cn/post/7585397173022375955</link>    <guid>https://juejin.cn/post/7585397173022375955</guid>    <pubDate>2025-12-19T13:05:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585397173022375955" data-draft-id="7585390679397842950" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªBinderé€šä¿¡ä¸­çš„å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-19T13:05:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¸­ä¸999"/> <meta itemprop="url" content="https://juejin.cn/user/1014218592883577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªBinderé€šä¿¡ä¸­çš„å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1014218592883577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¸­ä¸999
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T13:05:08.000Z" title="Fri Dec 19 2025 13:05:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»29åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‘˜è¦</h2>
<p>æœ¬æ–‡å°†é€šè¿‡è§£æ binder é©±åŠ¨ä»£ç æ¢ç©¶ IBinder å¯¹è±¡çš„è·¨è¿›ç¨‹ä¼ é€’å’Œè·¨è¿›ç¨‹è°ƒç”¨ IBinder å¯¹è±¡çš„æœºåˆ¶æµç¨‹ï¼Œå¹¶æ‰¾å‡º Binder IPC å‘èµ·å‡½æ•°å’Œ Binder å›è°ƒè·‘åœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œå¯¼è‡´çš„çº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜: Binder IPC å‘èµ·å‡½æ•°å’Œ Binder å›è°ƒè·‘åœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œ</h2>
<p>ç¬”è€…åœ¨å®ç° nfc hal å±‚æœåŠ¡(ä½¿ç”¨ INfc.aidl) <code>android.hardware.nfc-service.example</code> (æºç è·¯å¾„ï¼šhardware/interfaces/nfc/aidl/default) çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸ªå¤šçº¿ç¨‹é—®é¢˜, é—®é¢˜ç°è±¡å¦‚ä¸‹:</p>
<p>åœ¨ NFC åŠŸèƒ½å…³é—­çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿå¼€æœºæ—¶æ®µ com.android.nfc ä¸­çš„ <code>NfcAdaptation::DownloadFirmware</code> ä¼šæœ‰å¡æ­»é—®é¢˜ã€‚</p>
<p>èµ°è¯»ä»£ç :<br/>
system/nfc/src/adaptation/NfcAdaptation.cc</p>
<pre><code class="hljs language-cpp" lang="cpp">ThreadCondVar NfcAdaptation::mHalOpenCompletedEvent;

<span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">NfcAdaptation::DownloadFirmware</span><span class="hljs-params">()</span> </span>{
    mHalOpenCompletedEvent.<span class="hljs-built_in">lock</span>();
    <span class="hljs-built_in">DLOG_IF</span>(INFO, nfc_debug_enabled) &lt;&lt; <span class="hljs-built_in">StringPrintf</span>(<span class="hljs-string">"%s: try open HAL"</span>, func);
    <span class="hljs-built_in">HalOpen</span>(HalDownloadFirmwareCallback, HalDownloadFirmwareDataCallback);
    mHalOpenCompletedEvent.<span class="hljs-built_in">wait</span>();
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">NfcAdaptation::HalDownloadFirmwareCallback</span><span class="hljs-params">(<span class="hljs-type">nfc_event_t</span> event,
                                                __attribute__((unused))
                                                <span class="hljs-type">nfc_status_t</span> event_status)</span> </span>{
    <span class="hljs-keyword">case</span> HAL_NFC_POST_INIT_CPLT_EVT:
      <span class="hljs-built_in">DLOG_IF</span>(INFO, nfc_debug_enabled)
        &lt;&lt; <span class="hljs-built_in">StringPrintf</span>(<span class="hljs-string">"%s: HAL_NFC_INIT_CPLT_EVT"</span>, func);
      <span class="hljs-keyword">if</span> (event_status == HAL_NFC_STATUS_OK) isDownloadFirmwareCompleted = <span class="hljs-literal">true</span>;
      mHalOpenCompletedEvent.<span class="hljs-built_in">signal</span>();
      <span class="hljs-keyword">break</span>;
}
</code></pre>
<p>æ­£å¸¸é€»è¾‘æ˜¯åœ¨ DownloadFirmware() ä¸­è°ƒç”¨ HalOpen() åï¼Œæ¥ç€è°ƒç”¨ <code>mHalOpenCompletedEvent.wait()</code> é˜»å¡ä½çº¿ç¨‹ï¼Œç­‰å¾… HalDownloadFirmwareCallback è°ƒç”¨ <code>mHalOpenCompletedEvent.signal()</code> å°†å…¶å”¤é†’ã€‚<br/>
é€šè¿‡ log å‘ç°ï¼ŒHalDownloadFirmwareCallback å·²ç»æœ‰è¢«è°ƒç”¨, ä½† <code>mHalOpenCompletedEvent.signal()</code> è¿˜æ˜¯æ²¡æœ‰æˆåŠŸå”¤é†’ DownloadFirmware() çš„ç­‰å¾…ã€‚</p>
<p>logå¦‚ä¸‹:</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-number">07</span><span class="hljs-selector-tag">-07</span> <span class="hljs-number">15</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28.849</span>  <span class="hljs-number">2429</span>  <span class="hljs-number">2759</span> <span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">libnfc_nci</span>: <span class="hljs-selector-attr">[INFO:NfcAdaptation.cc(550)]</span> <span class="hljs-selector-tag">NfcAdaptation</span>::<span class="hljs-selector-tag">Initialize</span>: <span class="hljs-selector-tag">exit</span>
<span class="hljs-number">07</span><span class="hljs-selector-tag">-07</span> <span class="hljs-number">15</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28.849</span>  <span class="hljs-number">2429</span>  <span class="hljs-number">2759</span> <span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">libnfc_nci</span>: <span class="hljs-selector-attr">[INFO:NfcAdaptation.cc(988)]</span> <span class="hljs-selector-tag">NfcAdaptation</span>::<span class="hljs-selector-tag">DownloadFirmware</span>: <span class="hljs-selector-tag">enter</span>
<span class="hljs-number">07</span><span class="hljs-selector-tag">-07</span> <span class="hljs-number">15</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28.849</span>  <span class="hljs-number">2429</span>  <span class="hljs-number">2759</span> <span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">libnfc_nci</span>: <span class="hljs-selector-attr">[INFO:NfcAdaptation.cc(770)]</span> <span class="hljs-selector-tag">NfcAdaptation</span>::<span class="hljs-selector-tag">HalInitialize</span>
<span class="hljs-number">07</span><span class="hljs-selector-tag">-07</span> <span class="hljs-number">15</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28.849</span>  <span class="hljs-number">2429</span>  <span class="hljs-number">2759</span> <span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">libnfc_nci</span>: <span class="hljs-selector-attr">[INFO:NfcAdaptation.cc(992)]</span> <span class="hljs-selector-tag">NfcAdaptation</span>::<span class="hljs-selector-tag">DownloadFirmware</span>: <span class="hljs-selector-tag">try</span> <span class="hljs-selector-tag">open</span> <span class="hljs-selector-tag">HAL</span>
<span class="hljs-number">07</span><span class="hljs-selector-tag">-07</span> <span class="hljs-number">15</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28.849</span>  <span class="hljs-number">2429</span>  <span class="hljs-number">2759</span> <span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">libnfc_nci</span>: <span class="hljs-selector-attr">[INFO:NfcAdaptation.cc(800)]</span> <span class="hljs-selector-tag">NfcAdaptation</span>::<span class="hljs-selector-tag">HalOpen</span>

<span class="hljs-number">07</span><span class="hljs-selector-tag">-07</span> <span class="hljs-number">15</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28.871</span>  <span class="hljs-number">2429</span>  <span class="hljs-number">2759</span> <span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">libnfc_nci</span>: <span class="hljs-selector-attr">[INFO:NfcAdaptation.cc(1023)]</span> <span class="hljs-selector-tag">NfcAdaptation</span>::<span class="hljs-selector-tag">HalDownloadFirmwareCallback</span>: <span class="hljs-selector-tag">event</span>=<span class="hljs-number">0</span><span class="hljs-selector-tag">x2</span>, <span class="hljs-selector-tag">event_status</span>=<span class="hljs-number">0</span><span class="hljs-selector-tag">x00</span>
<span class="hljs-number">07</span><span class="hljs-selector-tag">-07</span> <span class="hljs-number">15</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28.871</span>  <span class="hljs-number">2429</span>  <span class="hljs-number">2759</span> <span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">libnfc_nci</span>: <span class="hljs-selector-attr">[INFO:NfcAdaptation.cc(1038)]</span> <span class="hljs-selector-tag">NfcAdaptation</span>::<span class="hljs-selector-tag">HalDownloadFirmwareCallback</span>: <span class="hljs-selector-tag">HAL_NFC_INIT_CPLT_EVT</span>
</code></pre>
<p>æ€€ç–‘æ˜¯ DownloadFirmware() å’Œ HalDownloadFirmwareCallback() è·‘åœ¨åœ¨åŒä¸€ä¸ªçº¿ç¨‹å¯¼è‡´çš„é—®é¢˜ï¼Œ<code>mHalOpenCompletedEvent.signal()</code> ä¸èƒ½å”¤é†’åŒä¸€çº¿ç¨‹ä¸­ <code>mHalOpenCompletedEvent.wait()</code>ã€‚</p>
<p>å…¶å®ƒæœºå™¨æ­£å¸¸æµç¨‹çš„log:</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.223</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8848</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">489</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:Initialize</span>: exit
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.223</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8848</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">886</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:DownloadFirmware</span>: enter
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.223</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8848</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">677</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:HalInitialize</span>
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.224</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8848</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">890</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:DownloadFirmware</span>: try open <span class="hljs-variable constant_">HAL</span>
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.224</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8848</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">707</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:HalOpen</span>
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.225</span>   <span class="hljs-number">786</span>   <span class="hljs-number">786</span> D android.hardware.nfc<span class="hljs-variable">@1</span>.<span class="hljs-number">2</span>-<span class="hljs-symbol">impl:</span> <span class="hljs-title class_">Nfc</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:open</span> <span class="hljs-title class_">Enter</span>
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.225</span>   <span class="hljs-number">786</span>   <span class="hljs-number">786</span> D android.hardware.nfc<span class="hljs-variable">@1</span>.<span class="hljs-number">2</span>-<span class="hljs-symbol">impl:</span> <span class="hljs-title class_">Nfc</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:open</span> <span class="hljs-title class_">Exit</span>
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.226</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8732</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">916</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:HalDownloadFirmwareCallback</span>: event=<span class="hljs-number">0x0</span>
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.227</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8732</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">920</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:HalDownloadFirmwareCallback</span>: <span class="hljs-variable constant_">HAL_NFC_OPEN_CPLT_EVT</span>
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.227</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8848</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">894</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:DownloadFirmware</span>: try close <span class="hljs-variable constant_">HAL</span>
<span class="hljs-number">07</span>-<span class="hljs-number">11</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span><span class="hljs-symbol">:</span><span class="hljs-number">45.227</span>  <span class="hljs-number">8689</span>  <span class="hljs-number">8848</span> I <span class="hljs-symbol">libnfc_nci:</span> [<span class="hljs-variable constant_">INFO</span><span class="hljs-symbol">:NfcAdaptation</span>.cc(<span class="hljs-number">727</span>)] <span class="hljs-title class_">NfcAdaptation</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:HalClose</span>
</code></pre>
<p>æ­£å¸¸çš„æµç¨‹ä¸­ï¼ŒDownloadFirmware() å’Œ HalDownloadFirmwareCallback() ä¸åœ¨åŒä¸€ä¸ªçº¿ç¨‹ã€‚<br/>
é‚£å°±åœ¨ HalDownloadFirmwareCallback() ä¸­å¦èµ·ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œ <code>mHalOpenCompletedEvent.signal()</code> è¯•è¯•:</p>
<p>system/nfc/src/adaptation/NfcAdaptation.cc</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-meta">@@ -1006,7 +1006,14 @@</span> bool NfcAdaptation::DownloadFirmware() {
 
   return isDownloadFirmwareCompleted;
 }
<span class="hljs-deletion">-</span>
<span class="hljs-addition">+void* NfcAdaptation::HalOpenCompletedThread(void *ptr)</span>
<span class="hljs-addition">+{</span>
<span class="hljs-addition">+  (void)ptr;</span>
<span class="hljs-addition">+  DLOG_IF(INFO, nfc_debug_enabled)</span>
<span class="hljs-addition">+      &lt;&lt; StringPrintf("enter %s", __func__);</span>
<span class="hljs-addition">+  mHalOpenCompletedEvent.signal();</span>
<span class="hljs-addition">+  return nullptr;</span>
<span class="hljs-addition">+}</span>
 /*******************************************************************************
 **
 ** Function:    NfcAdaptation::HalDownloadFirmwareCallback
<span class="hljs-meta">@@ -1020,8 +1027,9 @@</span> void NfcAdaptation::HalDownloadFirmwareCallback(nfc_event_t event,
                                                 __attribute__((unused))
                                                 nfc_status_t event_status) {
   const char* func = "NfcAdaptation::HalDownloadFirmwareCallback";
<span class="hljs-addition">+  pthread_t thread_open_completed;</span>
   DLOG_IF(INFO, nfc_debug_enabled)
<span class="hljs-deletion">-      &lt;&lt; StringPrintf("%s: event=0x%X", func, event);</span>
<span class="hljs-addition">+      &lt;&lt; StringPrintf("%s: event=0x%X, event_status=0x%02X", func, event, event_status);</span>
   switch (event) {
 /* START_SLSI [S14111804] Patch for prcoessing the first core_init response */
 #if (NFC_SEC_NOT_OPEN_INCLUDED == TRUE)
<span class="hljs-meta">@@ -1038,7 +1046,8 @@</span> void NfcAdaptation::HalDownloadFirmwareCallback(nfc_event_t event,
       DLOG_IF(INFO, nfc_debug_enabled)
         &lt;&lt; StringPrintf("%s: HAL_NFC_INIT_CPLT_EVT", func);
       if (event_status == HAL_NFC_STATUS_OK) isDownloadFirmwareCompleted = true;
<span class="hljs-deletion">-      mHalOpenCompletedEvent.signal();</span>
<span class="hljs-addition">+      pthread_create(&amp;thread_open_completed, NULL, HalOpenCompletedThread, NULL);</span>
<span class="hljs-addition">+      //mHalOpenCompletedEvent.signal();</span>
       break;
</code></pre>
<p>system/nfc/src/include/NfcAdaptation.h</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-meta">@@ -155,6 +155,7 @@</span> class NfcAdaptation {
   static void HalControlGranted();
   static void HalPowerCycle();
   static uint8_t HalGetMaxNfcee();
<span class="hljs-addition">+  static void* HalOpenCompletedThread(void *ptr);</span>
</code></pre>
<p>åšä»¥ä¸Šä¿®æ”¹ï¼Œå¯ä»¥è§„é¿é—®é¢˜, logå¦‚ä¸‹:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">07-07 19:35:20.352  2449  2777 I libnfc_nci:</span> [<span class="hljs-string">INFO:NfcAdaptation.cc(1031)</span>] <span class="hljs-attr">NfcAdaptation::HalDownloadFirmwareCallback:</span> <span class="hljs-string">event=0x2,</span> <span class="hljs-string">event_status=0x00</span>
<span class="hljs-attr">07-07 19:35:20.352  2449  2777 I libnfc_nci:</span> [<span class="hljs-string">INFO:NfcAdaptation.cc(1046)</span>] <span class="hljs-attr">NfcAdaptation::HalDownloadFirmwareCallback:</span> <span class="hljs-string">HAL_NFC_INIT_CPLT_EVT</span>
<span class="hljs-attr">07-07 19:35:20.354   650  2783 D nfc-service.example: reset_nfc_thread:</span> <span class="hljs-string">fd</span> <span class="hljs-string">=</span> <span class="hljs-number">7</span>
<span class="hljs-attr">07-07 19:35:20.354   650  2783 D nfc-service.example: reset_nfc_thread:</span> <span class="hljs-string">send</span> <span class="hljs-string">rest_nfc</span> <span class="hljs-string">data</span> <span class="hljs-string">succ!</span>
<span class="hljs-attr">07-07 19:35:20.363  2449  2785 I libnfc_nci:</span> [<span class="hljs-string">INFO:NfcAdaptation.cc(1012)</span>] <span class="hljs-string">enter</span> <span class="hljs-string">HalOpenCompletedThread</span>
<span class="hljs-attr">07-07 19:35:20.363  2449  2777 E libnfc_nci:</span> [<span class="hljs-string">ERROR:NfcAdaptation.cc(996)</span>] <span class="hljs-attr">NfcAdaptation::DownloadFirmware:</span> <span class="hljs-string">try</span> <span class="hljs-string">close</span> <span class="hljs-string">HAL</span>
<span class="hljs-attr">07-07 19:35:20.363  2449  2777 I libnfc_nci:</span> [<span class="hljs-string">INFO:NfcAdaptation.cc(832)</span>] <span class="hljs-string">NfcAdaptation::HalClose</span>
</code></pre>
<p>åœ¨è¿™é‡Œå¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘çš„ç³»ç»Ÿä¸­ <code>DownloadFirmware()</code> å’Œ <code>HalDownloadFirmwareCallback()</code> ä¸ºä»€ä¹ˆä¼šè·‘åˆ°åŒä¸€ä¸ªçº¿ç¨‹é‡Œ?</p>
<h2 data-id="heading-2">æºç åˆ†æ</h2>
<h3 data-id="heading-3">NfcAdaptation::HalDownloadFirmwareCallback() çš„è°ƒç”¨æ€»æµç¨‹</h3>
<p>system/nfc/src/adaptation/NfcAdaptation.cc</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">NfcAdaptation::DownloadFirmware</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">HalOpen</span>(HalDownloadFirmwareCallback, HalDownloadFirmwareDataCallback);
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">NfcAdaptation::HalOpen</span><span class="hljs-params">(tHAL_NFC_CBACK* p_hal_cback,
                            tHAL_NFC_DATA_CBACK* p_data_cback)</span> </span>{
    mAidlCallback = ::ndk::SharedRefBase::<span class="hljs-built_in">make</span>&lt;NfcAidlClientCallback&gt;(
        p_hal_cback, p_data_cback);
    Status status = mAidlHal-&gt;<span class="hljs-built_in">open</span>(mAidlCallback);
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NfcAidlClientCallback</span>
    : <span class="hljs-keyword">public</span> ::aidl::android::hardware::nfc::BnNfcClientCallback {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">NfcAidlClientCallback</span>(tHAL_NFC_CBACK* eventCallback,
                        tHAL_NFC_DATA_CBACK dataCallback) {
    mEventCallback = eventCallback;
    mDataCallback = dataCallback;
  };
}
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼ŒHalDownloadFirmwareCallback() ç»ç”± HalOpen() èµ‹å€¼ç»™ mAidlCallback.mEventCallback, mAidlCallback å†ç»ç”± mAidlHal-&gt;open(mAidlCallback) ä¼ é€’ç»™ android.hardware.nfc-service.example,</p>
<p><code>android.hardware.nfc-service.example</code> çš„ä»£ç :</p>
<p>hardware/interfaces/nfc/aidl/default/Nfc.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp">::<span class="hljs-function">ndk::ScopedAStatus <span class="hljs-title">Nfc::open</span><span class="hljs-params">(<span class="hljs-type">const</span> std::shared_ptr&lt;INfcClientCallback&gt;&amp; clientCallback)</span> </span>{
    Nfc::mCallback = clientCallback;
    <span class="hljs-type">int</span> ret = <span class="hljs-built_in">Vendor_hal_open</span>(eventCallback, dataCallback);
}
</code></pre>
<p>hardware/interfaces/nfc/aidl/default/Nfc.h</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Nfc</span> : <span class="hljs-keyword">public</span> BnNfc {
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">eventCallback</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span> event, <span class="hljs-type">uint8_t</span> status)</span> </span>{
        <span class="hljs-keyword">if</span> (mCallback != <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-keyword">auto</span> ret = mCallback-&gt;<span class="hljs-built_in">sendEvent</span>((NfcEvent)event, (NfcStatus)status);
            <span class="hljs-keyword">if</span> (!ret.<span class="hljs-built_in">isOk</span>()) {
                <span class="hljs-built_in">LOG</span>(ERROR) &lt;&lt; <span class="hljs-string">"Failed to send event!"</span>;
            }
        }
    }

    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">dataCallback</span><span class="hljs-params">(<span class="hljs-type">uint16_t</span> data_len, <span class="hljs-type">uint8_t</span>* p_data)</span> </span>{
        <span class="hljs-function">std::vector&lt;<span class="hljs-type">uint8_t</span>&gt; <span class="hljs-title">data</span><span class="hljs-params">(p_data, p_data + data_len)</span></span>;
        <span class="hljs-keyword">if</span> (mCallback != <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-keyword">auto</span> ret = mCallback-&gt;<span class="hljs-built_in">sendData</span>(data);
            <span class="hljs-keyword">if</span> (!ret.<span class="hljs-built_in">isOk</span>()) {
                <span class="hljs-built_in">LOG</span>(ERROR) &lt;&lt; <span class="hljs-string">"Failed to send data!"</span>;
            }
        }
    }
}
</code></pre>
<p>hardware/interfaces/nfc/aidl/default/Vendor_hal_api.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-type">static</span> <span class="hljs-type">nfc_stack_callback_t</span>* p_nfc_stack_cback;
<span class="hljs-type">static</span> <span class="hljs-type">nfc_stack_data_callback_t</span>* p_nfc_stack_data_cback;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Vendor_hal_open</span><span class="hljs-params">(<span class="hljs-type">nfc_stack_callback_t</span>* p_cback, <span class="hljs-type">nfc_stack_data_callback_t</span>* p_data_cback)</span> </span>{
    p_nfc_stack_cback = p_cback;
    p_nfc_stack_data_cback = p_data_cback;

    <span class="hljs-built_in">p_nfc_stack_cback</span>(HAL_NFC_OPEN_CPLT_EVT, HAL_NFC_STATUS_OK);
}
</code></pre>
<p>1.<code>android.hardware.nfc-service.example</code> æ¥åˆ° NfcAdaptation å‘èµ·çš„ mAidlHal-&gt;open(mAidlCallback) ipcè°ƒç”¨è¯·æ±‚åï¼Œè¿›å…¥ Nfc::open();</p>
<p>2.Nfc::open() ä¸­å°† NfcAdaptation.mAidlCallback çš„ Binder å¯¹è±¡èµ‹å€¼ç»™<code>Nfc::mCallback</code>;</p>
<p>3.Nfc::open() ä¸­æŠŠ Nfc.eventCallback() å’Œ Nfc.dataCallback() ä¼ ç»™Vendor_hal_open();</p>
<p>4.Vendor_hal_api.cpp åœ¨æœ‰äº‹ä»¶æˆ–æ•°æ®è¦ä¸ŠæŠ¥ç»™ com.android.nfc çš„è¯å°±ä¼šè°ƒç”¨ Nfc.eventCallback()[p_nfc_stack_cback] å’Œ Nfc.dataCallback()[p_nfc_stack_data_cback] ä¼ é€’äº‹ä»¶å’Œæ•°æ®ï¼Œæœ€ç»ˆä¼šé€šè¿‡ binder æœºåˆ¶è°ƒç”¨åˆ° NfcAdaptation ä¸­çš„ mAidlCallback.mEventCallback å’Œ mAidlCallback.mDataCallbackï¼Œä¹Ÿå°±æ˜¯ HalDownloadFirmwareCallback, HalDownloadFirmwareDataCallbackã€‚</p>
<h3 data-id="heading-4">IBinder å¯¹è±¡çš„è·¨è¿›ç¨‹ä¼ é€’</h3>
<p>æœ¬æ–‡å°†ä»¥ NfcAdaptation.mAidlCallback çš„ä¼ é€’æµç¨‹ä¸ºä¾‹æ¥æè¿° IBinder å¯¹è±¡çš„è·¨è¿›ç¨‹ä¼ é€’ã€‚</p>
<h4 data-id="heading-5">ä¼ é€’ä¹‹å‰çš„å‡†å¤‡</h4>
<p>ä¼ é€’ NfcAdaptation.mAidlCallback åœ¨è¿›å…¥é©±åŠ¨ä¹‹å‰çš„è°ƒç”¨é“¾</p>
<pre><code class="hljs language-cpp" lang="cpp">NfcAdaptation::<span class="hljs-built_in">HalOpen</span>()
mAidlHal-&gt;<span class="hljs-built_in">open</span>(mAidlCallback)
INfcAidl::<span class="hljs-built_in">open</span>(INfcAidlClientCallback in_clientCallback)
aidl::android::hardware::nfc::BpNfc::<span class="hljs-built_in">open</span>(INfcClientCallback&amp; in_clientCallback)
BpBinder::<span class="hljs-built_in">transact</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>, android::Parcel <span class="hljs-type">const</span>&amp;, android::Parcel*, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)
IPCThreadState::<span class="hljs-built_in">transact</span>(<span class="hljs-type">int32_t</span> handle, <span class="hljs-type">uint32_t</span> code, <span class="hljs-type">const</span> Parcel&amp; data, Parcel* reply, <span class="hljs-type">uint32_t</span> flags)
IPCThreadState::<span class="hljs-built_in">writeTransactionData</span>(<span class="hljs-type">int32_t</span> cmd, <span class="hljs-type">uint32_t</span> binderFlags, <span class="hljs-type">int32_t</span> handle, <span class="hljs-type">uint32_t</span> code, <span class="hljs-type">const</span> Parcel&amp; data, <span class="hljs-type">status_t</span>* statusBuffer)
IPCThreadState::<span class="hljs-built_in">waitForResponse</span>()
IPCThreadState::<span class="hljs-built_in">talkWithDriver</span>()
    <span class="hljs-built_in">ioctl</span>(mProcess-&gt;mDriverFD, BINDER_WRITE_READ, &amp;bwr)
</code></pre>
<p>out/soong/.intermediates/hardware/interfaces/nfc/aidl/android.hardware.nfc-V1-ndk-source/gen/android/hardware/nfc/INfc.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp">::<span class="hljs-function">ndk::ScopedAStatus <span class="hljs-title">BpNfc::open</span><span class="hljs-params">(<span class="hljs-type">const</span> std::shared_ptr&lt;::aidl::android::hardware::nfc::INfcClientCallback&gt;&amp; in_clientCallback)</span> </span>{
  _aidl_ret_status = ::ndk::<span class="hljs-built_in">AParcel_writeData</span>(_aidl_in.<span class="hljs-built_in">get</span>(), in_clientCallback);
}
</code></pre>
<p>AParcel_writeDataçš„è°ƒç”¨é“¾å¦‚ä¸‹:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">AParcel_writeData</span>()
<span class="hljs-built_in">AParcel_writeData</span>(_aidl_in.<span class="hljs-built_in">get</span>(), in_clientCallback)
<span class="hljs-built_in">AParcel_writeStrongBinder</span>()
Parcel::<span class="hljs-built_in">writeStrongBinder</span>(<span class="hljs-type">const</span> sp&lt;IBinder&gt;&amp; val)
Parcel::<span class="hljs-built_in">flattenBinder</span>(<span class="hljs-type">const</span> sp&lt;IBinder&gt;&amp; binder)
    <span class="hljs-keyword">if</span> (binder) local = binder-&gt;<span class="hljs-built_in">localBinder</span>();
    flat_binder_object obj;
    obj.hdr.type = BINDER_TYPE_BINDER;
    obj.binder = <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">uintptr_t</span>&gt;(local-&gt;<span class="hljs-built_in">getWeakRefs</span>());
    obj.cookie = <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">uintptr_t</span>&gt;(local);
    <span class="hljs-built_in">writeObject</span>(obj, <span class="hljs-literal">false</span>)
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<code>NfcAdaptation.mAidlCallback</code> è¢«èµ‹å€¼ç»™ <code>flat_binder_object.cookie</code>, flat_binder_object è¢«æ‰“åŒ…è¿›ä¸€ä¸ª Parcel å¯¹è±¡ä¸­ï¼Œå¹¶å¾€ä¸‹ä¼ ç»™ BpBinder::transact() ---&gt; IPCThreadState::transact().</p>
<p>åœ¨ IPCThreadState::transact()ä¸­:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">IPCThreadState::transact</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> handle,
                                  <span class="hljs-type">uint32_t</span> code, <span class="hljs-type">const</span> Parcel&amp; data,
                                  Parcel* reply, <span class="hljs-type">uint32_t</span> flags)</span>
</span>{
    err = <span class="hljs-built_in">writeTransactionData</span>(BC_TRANSACTION, flags, handle, code, data, <span class="hljs-literal">nullptr</span>);
}

<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">IPCThreadState::writeTransactionData</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> cmd, <span class="hljs-type">uint32_t</span> binderFlags,
    <span class="hljs-type">int32_t</span> handle, <span class="hljs-type">uint32_t</span> code, <span class="hljs-type">const</span> Parcel&amp; data, <span class="hljs-type">status_t</span>* statusBuffer)</span>
</span>{
    binder_transaction_data tr;
    tr.target.handle = handle;
    tr.code = code;

    tr.data_size = data.<span class="hljs-built_in">ipcDataSize</span>();
    tr.data.ptr.buffer = data.<span class="hljs-built_in">ipcData</span>();
    tr.offsets_size = data.<span class="hljs-built_in">ipcObjectsCount</span>()*<span class="hljs-built_in">sizeof</span>(<span class="hljs-type">binder_size_t</span>);
    tr.data.ptr.offsets = data.<span class="hljs-built_in">ipcObjects</span>();

    mOut.<span class="hljs-built_in">writeInt32</span>(cmd);
    mOut.<span class="hljs-built_in">write</span>(&amp;tr, <span class="hljs-built_in">sizeof</span>(tr));
}
</code></pre>
<p>IPCThreadState::writeTransactionData() çš„ä½œç”¨å¦‚ä¸‹:</p>
<p>1.åˆ›å»º binder_transaction_data, æŠŠ handleï¼Œcodeï¼Œdata èµ‹å€¼åˆ°binder_transaction_data;</p>
<p>2.å°†å‘½ä»¤å· cmd(å¦‚ IPCThreadState::transact() ç»™çš„ BC_TRANSACTION) å’Œbinder_transaction_data å†™åˆ° Parcel ç±»å‹çš„ mOutã€‚</p>
<p>è‡³æ­¤ï¼Œä»£è¡¨ NfcAdaptation.mAidlCallback çš„ <code>cookie</code> ä¹Ÿè¢«æ‰“åŒ…è¿›binder_transaction_dataï¼Œå¹¶åœ¨ IPCThreadState::talkWithDriver() ä¸­é€šè¿‡ioctl(mProcess-&gt;mDriverFD, BINDER_WRITE_READ, &amp;bwr) ä¼ ç»™äº† binder é©±åŠ¨ã€‚</p>
<p>å…³æ³¨è¿™ä¸ª <code>cookie</code>, åç»­æˆ‘ä»¬å°†è·Ÿè¸ªè¿™ä¸ª <code>cookie</code> çš„ä¼ é€’å’Œæœ€ç»ˆè°ƒç”¨ã€‚</p>
<h4 data-id="heading-6">IBinder å¯¹è±¡åœ¨é©±åŠ¨ä¸­çš„ä¼ é€’</h4>
<h5 data-id="heading-7">å‘é€ IBinder å¯¹è±¡</h5>
<h6 data-id="heading-8">binder_ioctl()</h6>
<p>éšç€ç³»ç»Ÿè°ƒç”¨ ioctl(), ç¨‹åºè¿›å…¥äº†å†…æ ¸é©±åŠ¨å±‚ binder_ioctl():<br/>
kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">long</span> <span class="hljs-title">binder_ioctl</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> cmd, <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> arg)</span>
</span>{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_proc</span> *proc = filp-&gt;private_data;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *thread;

    thread = <span class="hljs-built_in">binder_get_thread</span>(proc);
    <span class="hljs-keyword">switch</span> (cmd) {
    <span class="hljs-keyword">case</span> BINDER_WRITE_READ:
        ret = <span class="hljs-built_in">binder_ioctl_write_read</span>(filp, cmd, arg, thread);
        <span class="hljs-keyword">if</span> (ret)
            <span class="hljs-keyword">goto</span> err;
        <span class="hljs-keyword">break</span>;
    }
}
</code></pre>
<p>binder_ioctl() é¦–å…ˆå‡ºç°çš„æ˜¯ <code>struct binder_proc *proc</code> å’Œ <code>struct binder_thread *thread</code> ä¸¤ä¸ªå˜é‡ã€‚</p>
<p><code>struct binder_proc *proc</code> ä»£è¡¨çš„æ˜¯è¿›ç¨‹ï¼Œç”± binder_open() åˆ›å»º, binder_open() åˆæ˜¯åœ¨ä»€ä¹ˆåœ°æ–¹è¢«è°ƒç”¨å‘¢ï¼Œè¯·çœ‹ä»¥ä¸‹ä»£ç :<br/>
æ¯ä¸ª app åœ¨å¯åŠ¨æ—¶ä¼šè¿è¡Œ app_process, å¹¶èµ° AppRuntime::onZygoteInit():
frameworks/base/cmds/app_process/app_main.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp">    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">onZygoteInit</span><span class="hljs-params">()</span>
    </span>{
        sp&lt;ProcessState&gt; proc = ProcessState::<span class="hljs-built_in">self</span>();
        <span class="hljs-built_in">ALOGV</span>(<span class="hljs-string">"App process: starting thread pool.\n"</span>);
        proc-&gt;<span class="hljs-built_in">startThreadPool</span>();
    }
</code></pre>
<p>æ¥ç€èµ°</p>
<pre><code class="hljs language-cpp" lang="cpp">ProcessState::<span class="hljs-built_in">self</span>()
ProcessState::<span class="hljs-built_in">init</span>()
ProcessState::<span class="hljs-built_in">ProcessState</span>()
ProcessState::<span class="hljs-built_in">open_driver</span>()
</code></pre>
<p>åœ¨ ProcessState::open_driver() ä¸­æ‰“å¼€äº† binder çš„é©±åŠ¨èŠ‚ç‚¹æ–‡ä»¶ "/dev/binder":</p>
<p>frameworks/native/libs/binder/ProcessState.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* kDefaultDriver = <span class="hljs-string">"/dev/binder"</span>;

<span class="hljs-function">sp&lt;ProcessState&gt; <span class="hljs-title">ProcessState::self</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">init</span>(kDefaultDriver, <span class="hljs-literal">false</span> <span class="hljs-comment">/*requireDefault*/</span>);
}

<span class="hljs-function">sp&lt;ProcessState&gt; <span class="hljs-title">ProcessState::init</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *driver, <span class="hljs-type">bool</span> requireDefault)</span>
</span>{
    gProcess = sp&lt;ProcessState&gt;::<span class="hljs-built_in">make</span>(driver);
}

ProcessState::<span class="hljs-built_in">ProcessState</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* driver)
      : <span class="hljs-built_in">mDriverName</span>(<span class="hljs-built_in">String8</span>(driver)),
        <span class="hljs-built_in">mDriverFD</span>(<span class="hljs-number">-1</span>) {
    base::Result&lt;<span class="hljs-type">int</span>&gt; opened = <span class="hljs-built_in">open_driver</span>(driver);

    <span class="hljs-keyword">if</span> (opened.<span class="hljs-built_in">ok</span>()) {
        mDriverFD = opened.<span class="hljs-built_in">value</span>();
    }
}

<span class="hljs-function"><span class="hljs-type">static</span> base::Result&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">open_driver</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* driver)</span> </span>{
    <span class="hljs-type">int</span> fd = <span class="hljs-built_in">open</span>(driver, O_RDWR | O_CLOEXEC);
    <span class="hljs-keyword">return</span> fd;
}
</code></pre>
<p>ç„¶ååœ¨é©±åŠ¨çš„ binder_open() å‡½æ•°ä¸­åˆ›å»ºäº† <code>struct binder_proc *proc</code>, ç”¨äºåœ¨å†…æ ¸ç©ºé—´ä»£è¡¨å½“å‰è¿›ç¨‹ï¼Œæ¯ä¸ªä½¿ç”¨äº† binder é€šä¿¡æœºåˆ¶çš„è¿›ç¨‹åœ¨å†…æ ¸ç©ºé—´ä¸­æœ‰ä¸ªå”¯ä¸€çš„ <code>struct binder_proc *proc</code></p>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_open</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> inode *nodp, <span class="hljs-keyword">struct</span> file *filp)</span>
</span>{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_proc</span> *proc, *itr;

    eproc = <span class="hljs-built_in">kzalloc</span>(<span class="hljs-built_in">sizeof</span>(*eproc), GFP_KERNEL);
    proc = &amp;eproc-&gt;proc;
    proc-&gt;tsk = current-&gt;group_leader;
    proc-&gt;context = &amp;binder_dev-&gt;context;
    proc-&gt;pid = current-&gt;group_leader-&gt;pid;

    filp-&gt;private_data = proc;
}
</code></pre>
<p><code>struct binder_thread *thread</code> ä»£è¡¨ç€å½“å‰çº¿ç¨‹ï¼Œæ€ä¹ˆæ¥çš„å‘¢</p>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">long</span> <span class="hljs-title">binder_ioctl</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> cmd, <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> arg)</span>
</span>{
    thread = <span class="hljs-built_in">binder_get_thread</span>(proc);
}

<span class="hljs-type">static</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *<span class="hljs-built_in">binder_get_thread</span>(<span class="hljs-keyword">struct</span> binder_proc *proc)
{

    thread = <span class="hljs-built_in">binder_get_thread_ilocked</span>(proc, <span class="hljs-literal">NULL</span>);
    <span class="hljs-keyword">if</span> (!thread) {
        new_thread = <span class="hljs-built_in">kzalloc</span>(<span class="hljs-built_in">sizeof</span>(*thread), GFP_KERNEL);
        thread = <span class="hljs-built_in">binder_get_thread_ilocked</span>(proc, new_thread);
    }
    <span class="hljs-keyword">return</span> thread;
}

<span class="hljs-type">static</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *<span class="hljs-built_in">binder_get_thread_ilocked</span>(
		<span class="hljs-keyword">struct</span> binder_proc *proc, <span class="hljs-keyword">struct</span> binder_thread *new_thread)
{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *thread = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">rb_node</span> *parent = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">rb_node</span> **p = &amp;proc-&gt;threads.rb_node;
    
    <span class="hljs-keyword">while</span> (*p) {
        parent = *p;
        thread = <span class="hljs-built_in">rb_entry</span>(parent, <span class="hljs-keyword">struct</span> binder_thread, rb_node);
    
        <span class="hljs-keyword">if</span> (current-&gt;pid &lt; thread-&gt;pid)
            p = &amp;(*p)-&gt;rb_left;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (current-&gt;pid &gt; thread-&gt;pid)
            p = &amp;(*p)-&gt;rb_right;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> thread;
    }
    <span class="hljs-keyword">if</span> (!new_thread)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
    thread = new_thread;
    <span class="hljs-built_in">binder_stats_created</span>(BINDER_STAT_THREAD);
    thread-&gt;proc = proc;
    thread-&gt;pid = current-&gt;pid;
    <span class="hljs-built_in">rb_link_node</span>(&amp;thread-&gt;rb_node, parent, p);
    <span class="hljs-built_in">rb_insert_color</span>(&amp;thread-&gt;rb_node, &amp;proc-&gt;threads);
    ......
    <span class="hljs-keyword">return</span> thread;
}
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œbinder_get_thread_ilocked() å…ˆåœ¨å½“å‰ binder_proc.threads ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰ä¸ºå½“å‰çº¿ç¨‹åˆ›å»ºè¿‡çš„ binder_thread, çº¿ç¨‹ç¬¬ä¸€æ¬¡è°ƒç”¨ binder_ioctl() çš„è¯ï¼Œæ˜¯æ²¡æœ‰å¯¹åº”binder_thread çš„ï¼Œé‚£å°±è¿”å› binder_get_thread() æ–°åˆ›ä¸€ä¸ªï¼Œå†ä¼ å…¥binder_get_thread_ilocked(), å¹¶ "rb_insert_color(&amp;thread-&gt;rb_node, &amp;proc-&gt;threads);" ç»™åŠ åˆ° binder_proc.threads çš„çº¢é»‘æ ‘ä¸­ã€‚</p>
<h6 data-id="heading-9">binder_ioctl_write_read()</h6>
<p>è¯´å®Œ binder_proc å’Œ binder_thread, æ¥ç€æ¥åˆ°äº†å†™è¯»æµç¨‹ binder_ioctl_write_read()ï¼Œä¸ºä»€ä¹ˆæ˜¯å†™è¯»å‘¢?</p>
<p>frameworks/native/libs/binder/IPCThreadState.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">IPCThreadState::waitForResponse</span><span class="hljs-params">(Parcel *reply, <span class="hljs-type">status_t</span> *acquireResult)</span>
</span>{
    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">if</span> ((err=<span class="hljs-built_in">talkWithDriver</span>()) &lt; NO_ERROR) <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">IPCThreadState::talkWithDriver</span><span class="hljs-params">(<span class="hljs-type">bool</span> doReceive)</span>
</span>{
    <span class="hljs-comment">// Is the read buffer empty?</span>
    <span class="hljs-type">const</span> <span class="hljs-type">bool</span> needRead = mIn.<span class="hljs-built_in">dataPosition</span>() &gt;= mIn.<span class="hljs-built_in">dataSize</span>();

    <span class="hljs-type">const</span> <span class="hljs-type">size_t</span> outAvail = (!doReceive || needRead) ? mOut.<span class="hljs-built_in">dataSize</span>() : <span class="hljs-number">0</span>;

    bwr.write_size = outAvail;
    bwr.write_buffer = (<span class="hljs-type">uintptr_t</span>)mOut.<span class="hljs-built_in">data</span>();

    <span class="hljs-keyword">if</span> (doReceive &amp;&amp; needRead) {
        bwr.read_size = mIn.<span class="hljs-built_in">dataCapacity</span>();
        bwr.read_buffer = (<span class="hljs-type">uintptr_t</span>)mIn.<span class="hljs-built_in">data</span>();
    } <span class="hljs-keyword">else</span> {
        bwr.read_size = <span class="hljs-number">0</span>;
        bwr.read_buffer = <span class="hljs-number">0</span>;
    }

    <span class="hljs-built_in">ALOGD</span>(<span class="hljs-string">"%s: Size of receive buffer: %llu, write_size: %llu, needRead: %d, doReceive: %d"</span>, __func__, bwr.read_size, bwr.write_size, needRead, doReceive)

    <span class="hljs-keyword">do</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">ioctl</span>(mProcess-&gt;mDriverFD, BINDER_WRITE_READ, &amp;bwr) &gt;= <span class="hljs-number">0</span>)
            err = NO_ERROR;
        <span class="hljs-keyword">else</span>
            err = -errno;
    }
}
</code></pre>
<p>IPCThreadState::waitForResponse() ä¸­ä¸å¸¦å‚æ•°åœ°è°ƒç”¨äº† talkWithDriver(),</p>
<p>æŸ¥çœ‹ talkWithDriver() çš„å®šä¹‰<br/>
frameworks/native/libs/binder/include/binder/IPCThreadState.h</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IPCThreadState</span>
{
<span class="hljs-keyword">private</span>:
    <span class="hljs-function"><span class="hljs-type">status_t</span>            <span class="hljs-title">talkWithDriver</span><span class="hljs-params">(<span class="hljs-type">bool</span> doReceive=<span class="hljs-literal">true</span>)</span></span>;
}
</code></pre>
<p>ä¸å¸¦å‚æ•°çš„ talkWithDriver() ç­‰äº talkWithDriver(true)ï¼Œä¹Ÿå°±æ˜¯è¦ç­‰å¾…æ¥æ”¶æ•°æ®çš„ã€‚é™¤é mIn çš„æ•°æ®ç©ºé—´ä¸ä¸ºç©ºã€‚</p>
<p>çœ‹ log:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">D ipc     : Size of receive buffer:</span> <span class="hljs-number">256</span><span class="hljs-string">,</span> <span class="hljs-attr">write_size:</span> <span class="hljs-number">68</span><span class="hljs-string">,</span> <span class="hljs-attr">needRead:</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-attr">doReceive:</span> <span class="hljs-number">1</span>
</code></pre>
<p>ä¼ ç»™ ioctl() çš„ write_size å’Œ read_size éƒ½æ˜¯å¤§äº 0ã€‚</p>
<p>æ¥ç€åœ¨é©±åŠ¨ä¸­ï¼Œé€šè¿‡ write_size å’Œ read_size æ¥åˆ¤æ–­æ˜¯å¦è¦èµ° binder_thread_write() æˆ– binder_thread_read()</p>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_ioctl_write_read</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> file *filp,
                <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> cmd, <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> arg,
                <span class="hljs-keyword">struct</span> binder_thread *thread)</span>
</span>{
    <span class="hljs-keyword">if</span> (bwr.write_size &gt; <span class="hljs-number">0</span>) {
        ret = <span class="hljs-built_in">binder_thread_write</span>(proc, thread,
                      bwr.write_buffer,
                      bwr.write_size,
                      &amp;bwr.write_consumed);
    }
    <span class="hljs-keyword">if</span> (bwr.read_size &gt; <span class="hljs-number">0</span>) {
        ret = <span class="hljs-built_in">binder_thread_read</span>(proc, thread, bwr.read_buffer,
                     bwr.read_size,
                     &amp;bwr.read_consumed,
                     filp-&gt;f_flags &amp; O_NONBLOCK);
    }
}
</code></pre>
<p>æ‰€ä»¥ä¼šå…ˆ binder_thread_write() å†™å…¥è¦ä¼ è¾“çš„å‘½ä»¤ï¼Œç„¶åå†è°ƒç”¨ binder_thread_read() ç­‰å¾…åº”ç­”ã€‚</p>
<h6 data-id="heading-10">binder_thread_write()</h6>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_thread_write</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_proc *proc,
            <span class="hljs-keyword">struct</span> binder_thread *thread,
            <span class="hljs-type">binder_uintptr_t</span> binder_buffer, <span class="hljs-type">size_t</span> size,
            <span class="hljs-type">binder_size_t</span> *consumed)</span>
</span>{
    <span class="hljs-type">uint32_t</span> cmd;
    <span class="hljs-keyword">while</span> (ptr &lt; end &amp;&amp; thread-&gt;return_error.cmd == BR_OK) {
        <span class="hljs-type">int</span> ret;

        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">get_user</span>(cmd, (<span class="hljs-type">uint32_t</span> __user *)ptr))
            <span class="hljs-keyword">return</span> -EFAULT;
        <span class="hljs-keyword">switch</span> (cmd) {
        <span class="hljs-keyword">case</span> BC_TRANSACTION:
        <span class="hljs-keyword">case</span> BC_REPLY: {
            <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction_data</span> tr;

            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">copy_from_user</span>(&amp;tr, ptr, <span class="hljs-built_in">sizeof</span>(tr)))
                <span class="hljs-keyword">return</span> -EFAULT;
            ptr += <span class="hljs-built_in">sizeof</span>(tr);
            <span class="hljs-built_in">binder_transaction</span>(proc, thread, &amp;tr,
                       cmd == BC_REPLY, <span class="hljs-number">0</span>);
            <span class="hljs-keyword">break</span>;
        }
        }
    }
}
</code></pre>
<p>binder_thread_write() å–åˆ°åº”ç”¨å±‚ä¸‹ä¼ çš„ BC_TRANSACTION çš„å‘½ä»¤å·å’Œ binder_transaction_data æ•°æ®å, è¿›å…¥ binder_transaction()ã€‚</p>
<h6 data-id="heading-11">binder_transaction()</h6>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">binder_transaction</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_proc *proc,
                   <span class="hljs-keyword">struct</span> binder_thread *thread,
                   <span class="hljs-keyword">struct</span> binder_transaction_data *tr, <span class="hljs-type">int</span> reply,
                   <span class="hljs-type">binder_size_t</span> extra_buffers_size)</span>
</span>{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction</span> *t;
    <span class="hljs-type">binder_size_t</span> buffer_offset = <span class="hljs-number">0</span>;
    <span class="hljs-type">binder_size_t</span> off_start_offset, off_end_offset;

    <span class="hljs-type">const</span> <span class="hljs-type">void</span> __user *user_buffer = (<span class="hljs-type">const</span> <span class="hljs-type">void</span> __user *)
            (<span class="hljs-type">uintptr_t</span>)tr-&gt;data.ptr.buffer;

    <span class="hljs-keyword">if</span> (reply) {

    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (!(tr-&gt;flags &amp; TF_ONE_WAY) &amp;&amp; thread-&gt;transaction_stack) {
            <span class="hljs-keyword">struct</span> binder_transaction *tmp;

            tmp = thread-&gt;transaction_stack;

            <span class="hljs-keyword">while</span> (tmp) {
                <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *from;

                <span class="hljs-built_in">spin_lock</span>(&amp;tmp-&gt;lock);
                from = tmp-&gt;from;
                <span class="hljs-keyword">if</span> (from &amp;&amp; from-&gt;proc == target_proc) {
                    <span class="hljs-built_in">atomic_inc</span>(&amp;from-&gt;tmp_ref);
                    target_thread = from;
                    <span class="hljs-built_in">spin_unlock</span>(&amp;tmp-&gt;lock);
                    is_nested = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span>;
                }
                <span class="hljs-built_in">spin_unlock</span>(&amp;tmp-&gt;lock);
                tmp = tmp-&gt;from_parent;
            }
        }
    }

    off_start_offset = <span class="hljs-built_in">ALIGN</span>(tr-&gt;data_size, <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">void</span> *));
    buffer_offset = off_start_offset;
    off_end_offset = off_start_offset + tr-&gt;offsets_size;

    <span class="hljs-keyword">for</span> (buffer_offset = off_start_offset; buffer_offset &lt; off_end_offset;
         buffer_offset += <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">binder_size_t</span>)) {
        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_object_header</span> *hdr;
        <span class="hljs-type">size_t</span> object_size;
        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_object</span> object;
        <span class="hljs-type">binder_size_t</span> object_offset;
        <span class="hljs-type">binder_size_t</span> copy_size;

        object_size = <span class="hljs-built_in">binder_get_object</span>(target_proc, user_buffer,
                        t-&gt;buffer, object_offset, &amp;object);

        hdr = &amp;object.hdr;
        off_min = object_offset + object_size;
        <span class="hljs-keyword">switch</span> (hdr-&gt;type) {
        <span class="hljs-keyword">case</span> BINDER_TYPE_BINDER:
        <span class="hljs-keyword">case</span> BINDER_TYPE_WEAK_BINDER: {
            <span class="hljs-keyword">struct</span> <span class="hljs-title class_">flat_binder_object</span> *fp;

            fp = <span class="hljs-built_in">to_flat_binder_object</span>(hdr);
            ret = <span class="hljs-built_in">binder_translate_binder</span>(fp, t, thread);
                <span class="hljs-keyword">break</span>;
         } <span class="hljs-keyword">break</span>;
         }
    }

    <span class="hljs-built_in">binder_alloc_copy_user_to_buffer</span>(
                &amp;target_proc-&gt;alloc,
                t-&gt;buffer, user_offset,
                user_buffer + user_offset,
                tr-&gt;data_size - user_offset)

    <span class="hljs-keyword">if</span> (reply) {

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(t-&gt;flags &amp; TF_ONE_WAY)) {
        t-&gt;need_reply = <span class="hljs-number">1</span>;
        t-&gt;from_parent = thread-&gt;transaction_stack;
        thread-&gt;transaction_stack = t;
        return_error = <span class="hljs-built_in">binder_proc_transaction</span>(t,
                target_proc, target_thread);
    }
}
</code></pre>
<p>binder_transaction() åšäº†è¿™å‡ ä¸ªäº‹ï¼š</p>
<ol>
<li>
<p>åˆ¤æ–­ thread-&gt;transaction_stack æ˜¯å¦ä¸ºç©º, ä¸ä¸ºç©ºçš„è¯, ä»ä¸­å–å¾— target_thread , å› ä¸ºåœ¨ NfcAdaptation::HalOpen() ä¸­è¿™æ˜¯ç¬¬ä¸€æ¬¡å‘èµ· transact(), thread æ˜¯æ–°åˆ›çš„, thread-&gt;transaction_stack ä¸ºç©º, æ‰€ä»¥ target_thread ä¹Ÿä¸ºç©º, éœ€è¦åœ¨ binder_proc_transaction() é‡Œé€‰æ‹©åˆé€‚çš„çº¿ç¨‹åš target_thread</p>
</li>
<li>
<p>éå† binder_transaction_data.data.ptr.buffer é‡Œçš„æ•°æ®ï¼Œè°ƒç”¨binder_get_object() æ‰¾å‡º BINDER_TYPE_BINDER, BINDER_TYPE_HANDLE, BINDER_TYPE_FD ç­‰å¯¹è±¡çš„æ•°æ®, å¹¶å°†æ•°æ®æ‹·è´ç»™ binder_transaction.buffer</p>
</li>
<li>
<p>æ‰¾åˆ° BINDER_TYPE_BINDER ç±»å‹æ•°æ®åï¼Œè°ƒç”¨ binder_translate_binder() åšå¤„ç†</p>
</li>
<li>
<p>è°ƒç”¨ binder_alloc_copy_user_to_buffer() å°† binder_transaction_data.data.ptr.buffer é‡Œå‰©ä½™çš„æ•°æ®æ‹·è´ç»™ binder_transaction.buffer</p>
</li>
<li>
<p>è°ƒç”¨ binder_proc_transaction() å°†æ‰“åŒ…å¥½çš„ binder_transaction æ•°æ®å‘é€ç»™ target_proc, å¹¶å”¤é†’ target_proc æ¥è¯»å–å’Œå¤„ç† binder_transaction</p>
</li>
</ol>
<h6 data-id="heading-12">binder_translate_binder()</h6>
<p>æˆ‘ä»¬ç°åœ¨æ¥åˆ†æä¸€ä¸‹ï¼Œ binder_translate_binder() å‡½æ•°ä¼šå¯¹ NfcAdaptation.mAidlCallback è¿™ä¸ª BINDER_TYPE_BINDER å¯¹è±¡åšä»€ä¹ˆå¤„ç†</p>
<p>BINDER_TYPE_BINDER å¯¹è±¡æ•°æ®åœ¨ä¼ å…¥ binder_translate_binder() ä¹‹å‰ï¼Œå…ˆè¢«è½¬åŒ–ä¸º <code>flat_binder_object</code> æ•°æ®ç»“æ„ï¼Œä¸ç”¨æˆ·å±‚ä¸‹å‘ä¹‹å‰åœ¨ <code>Parcel::flattenBinder()</code> é‡ŒæŠŠ IBinder è½¬åŒ–ä¸º <code>flat_binder_object</code> å¯¹åº”ä¸Šäº†ã€‚</p>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">binder_transaction</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_proc *proc,
                   <span class="hljs-keyword">struct</span> binder_thread *thread,
                   <span class="hljs-keyword">struct</span> binder_transaction_data *tr, <span class="hljs-type">int</span> reply,
                   <span class="hljs-type">binder_size_t</span> extra_buffers_size)</span>
</span>{
        <span class="hljs-keyword">switch</span> (hdr-&gt;type) {
        <span class="hljs-keyword">case</span> BINDER_TYPE_BINDER:
        <span class="hljs-keyword">case</span> BINDER_TYPE_WEAK_BINDER: {
            <span class="hljs-keyword">struct</span> <span class="hljs-title class_">flat_binder_object</span> *fp;

            fp = <span class="hljs-built_in">to_flat_binder_object</span>(hdr);
            ret = <span class="hljs-built_in">binder_translate_binder</span>(fp, t, thread);
                <span class="hljs-keyword">break</span>;
         } <span class="hljs-keyword">break</span>;
         } 
}

</code></pre>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_translate_binder</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> flat_binder_object *fp,
                   <span class="hljs-keyword">struct</span> binder_transaction *t,
                   <span class="hljs-keyword">struct</span> binder_thread *thread)</span>
</span>{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_proc</span> *proc = thread-&gt;proc;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_proc</span> *target_proc = t-&gt;to_proc;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_ref_data</span> rdata;

    node = <span class="hljs-built_in">binder_get_node</span>(proc, fp-&gt;binder);
    <span class="hljs-keyword">if</span> (!node) {
        node = <span class="hljs-built_in">binder_new_node</span>(proc, fp);
        <span class="hljs-keyword">if</span> (!node)
            <span class="hljs-keyword">return</span> -ENOMEM;
    }

    ret = <span class="hljs-built_in">binder_inc_ref_for_node</span>(target_proc, node,
            fp-&gt;hdr.type == BINDER_TYPE_BINDER,
            &amp;thread-&gt;todo, &amp;rdata);


    <span class="hljs-keyword">if</span> (fp-&gt;hdr.type == BINDER_TYPE_BINDER)
        fp-&gt;hdr.type = BINDER_TYPE_HANDLE;
    <span class="hljs-keyword">else</span>
        fp-&gt;hdr.type = BINDER_TYPE_WEAK_HANDLE;
    fp-&gt;binder = <span class="hljs-number">0</span>;
    fp-&gt;handle = rdata.desc;
    fp-&gt;cookie = <span class="hljs-number">0</span>;
}

<span class="hljs-type">static</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *<span class="hljs-built_in">binder_new_node</span>(<span class="hljs-keyword">struct</span> binder_proc *proc,
                       <span class="hljs-keyword">struct</span> flat_binder_object *fp)
{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *node;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *new_node = <span class="hljs-built_in">kzalloc</span>(<span class="hljs-built_in">sizeof</span>(*node), GFP_KERNEL);

    node = <span class="hljs-built_in">binder_init_node_ilocked</span>(proc, new_node, fp);
}

<span class="hljs-type">static</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *<span class="hljs-built_in">binder_init_node_ilocked</span>(
                        <span class="hljs-keyword">struct</span> binder_proc *proc,
                        <span class="hljs-keyword">struct</span> binder_node *new_node,
                        <span class="hljs-keyword">struct</span> flat_binder_object *fp)
{
    <span class="hljs-type">binder_uintptr_t</span> ptr = fp ? fp-&gt;binder : <span class="hljs-number">0</span>;
    <span class="hljs-type">binder_uintptr_t</span> cookie = fp ? fp-&gt;cookie : <span class="hljs-number">0</span>;

    <span class="hljs-built_in">rb_link_node</span>(&amp;node-&gt;rb_node, parent, p);
    <span class="hljs-built_in">rb_insert_color</span>(&amp;node-&gt;rb_node, &amp;proc-&gt;nodes);

    node-&gt;proc = proc;
    node-&gt;ptr = ptr;
    node-&gt;cookie = cookie;
}
</code></pre>
<p>åœ¨ binder_translate_binder() ä¸­ï¼Œåˆå‡ºç°äº†ä¸ªæ–°çš„æ•°æ®ç»“æ„ <code>struct binder_node</code>,  <code>struct binder_node</code> ç”¨äºåœ¨å†…æ ¸ä¸­ä»£è¡¨ IBinder å®ä¾‹ã€‚</p>
<p>binder_translate_binder() ä¸»è¦åšäº†è¿™äº›äº‹:</p>
<ol>
<li>
<p>åœ¨å½“å‰è¿›ç¨‹ä¸­æŸ¥æ‰¾ flat_binder_object å¯¹åº”çš„ binder_node, æ²¡æ‰¾åˆ°çš„è¯å°±è°ƒç”¨ binder_new_node() æ–°åˆ›ä¸€ä¸ª</p>
<p>1.1. binder_new_node() åˆ›å»ºæ–°çš„ binder_node åå°±è°ƒç”¨ binder_init_node_ilocked() å°† flat_binder_object.cookie èµ‹å€¼ç»™ binder_node.cookie, å¹¶å°†æ–°çš„ binder_node æ·»åŠ åˆ°çº¢é»‘æ ‘ binder_proc.nodesä¸­</p>
</li>
<li>
<p>åœ¨ binder_inc_ref_for_node() æŸ¥æ‰¾æˆ–åˆ›å»ºä¸€ä¸ªè·Ÿ binder_node å…³è”çš„ binder_ref, å¹¶ä¸”å°†è¿™ä¸ª binder_ref è·Ÿ target_proc å…³è”</p>
<p>å‘é€ç«¯ binder_proc, binder_node, binder_ref, æ¥æ”¶ç«¯ target_proc:binder_proc å››è€…ä¹‹é—´çš„å…³ç³»å¯çœ‹ä¸‹å›¾:</p>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9479c3d3607247f888fc16627bda01dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiQ5Lit5LiQOTk5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754307&amp;x-signature=Xy8B9hvtuxQzulR%2FuSsbBfo14OA%3D" alt="biander1.png" loading="lazy"/></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`binder_ref`</span> åœ¨å†…æ ¸ä¸­ä»£è¡¨ä¸€ä¸ª binder\_node ä¹Ÿå°±æ˜¯åº”ç”¨å±‚ IBinder çš„å¼•ç”¨å¯¹è±¡ã€‚æ¯ä¸ª <span class="hljs-string">`binder_ref`</span> éƒ½åŒ…å«å¼ºå¼•ç”¨è®¡æ•°ï¼ˆbinder\_ref.data.strongï¼‰å’Œå¼±å¼•ç”¨è®¡æ•°ï¼ˆbinder\_ref.data.weakï¼‰å­—æ®µï¼Œç”¨äºè·Ÿè¸ªæœ‰å¤šå°‘ä¸ªå¼•ç”¨æŒ‡å‘è¯¥å¯¹è±¡ã€‚
</code></pre>
<p>3.  å°† fp-&gt;hdr.type ç”± BINDER_TYPE_BINDER è½¬ä¸º BINDER_TYPE_WEAK_HANDLE , å°†ä¸Šé¢åˆ›å»ºçš„ binder_ref.data.desc èµ‹å€¼ç»™  fp-&gt;handle (flat_binder_object.handle) , fp-&gt;handle æœ€ç»ˆä¼šä¼ åˆ°æ¥æ”¶ç«¯åº”ç”¨å±‚ç¨‹åºï¼Œ æ¥æ”¶ç«¯åº”ç”¨å±‚ç¨‹åºè¦è°ƒç”¨ NfcAdaptation.mAidlCallback çš„è¯ï¼Œå°±ä¼šå‘ binder é©±åŠ¨ä¼ å…¥è¯¥ handle,  binder é©±åŠ¨å†æ ¹æ®è¯¥ handle æŸ¥æ‰¾å¯¹åº”çš„ binder_ref å’Œ binder_node , ç„¶åå°† binder_node.cookie ä¼ ç»™ NfcAdaptation, è¿™ä¸ª binder_node.cookie çš„å€¼å°±æ˜¯ NfcAdaptation.mAidlCallback çš„æŒ‡é’ˆã€‚</p>
<h6 data-id="heading-13">binder_proc_transaction()</h6>
<p>è¯¥å‡½æ•°å°†ä¸€ä¸ªäº‹åŠ¡æ’é˜Ÿåˆ°æŒ‡å®šçš„è¿›ç¨‹ä¸­ã€‚å®ƒä¼šå°è¯•åœ¨ç›®æ ‡è¿›ç¨‹ä¸­æ‰¾åˆ°ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†è¯¥äº‹åŠ¡å¹¶å”¤é†’å®ƒã€‚å¦‚æœæ‰¾ä¸åˆ°å¯ç”¨çš„çº¿ç¨‹ï¼Œåˆ™å°†æ­¤é¡¹å·¥ä½œæ’é˜Ÿåˆ°è¿›ç¨‹çš„ç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚</p>
<p>å› ä¸ºç¬¬ä¸€æ¬¡ transact() åœ¨ binder_transaction() é‡Œä¼ ç»™ <code>binder_proc_transaction()</code> çš„ target_thread ä¸º NULL, æ‰€ä»¥åœ¨ <code>binder_proc_transaction()</code> ä¼šèµ° <code>binder_select_thread_ilocked()</code> å»æŸ¥æ‰¾ target_proc ä¸­å¯ç”¨äºæ¥æ”¶ binder_transaction çš„çº¿ç¨‹ binder_thread</p>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_proc_transaction</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_transaction *t,
                    <span class="hljs-keyword">struct</span> binder_proc *proc,
                    <span class="hljs-keyword">struct</span> binder_thread *thread)</span>
</span>{
    <span class="hljs-keyword">if</span> (!thread &amp;&amp; !pending_async)
        thread = <span class="hljs-built_in">binder_select_thread_ilocked</span>(proc);

    <span class="hljs-keyword">if</span> (thread) {
        <span class="hljs-built_in">binder_transaction_priority</span>(thread, t, node);
        <span class="hljs-built_in">binder_enqueue_thread_work_ilocked</span>(thread, &amp;t-&gt;work);
    }

    <span class="hljs-keyword">if</span> (!pending_async)
        <span class="hljs-built_in">binder_wakeup_thread_ilocked</span>(proc, thread, !oneway <span class="hljs-comment">/* sync */</span>);
}
</code></pre>
<p>binder_select_thread_ilocked() ä»£ç å¦‚ä¸‹:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-type">static</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *
<span class="hljs-built_in">binder_select_thread_ilocked</span>(<span class="hljs-keyword">struct</span> binder_proc *proc)
{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *thread;

    <span class="hljs-built_in">assert_spin_locked</span>(&amp;proc-&gt;inner_lock);
    thread = <span class="hljs-built_in">list_first_entry_or_null</span>(&amp;proc-&gt;waiting_threads,
                      <span class="hljs-keyword">struct</span> binder_thread,
                      waiting_thread_node);

    <span class="hljs-keyword">if</span> (thread)
        <span class="hljs-built_in">list_del_init</span>(&amp;thread-&gt;waiting_thread_node);

    <span class="hljs-keyword">return</span> thread;
}
</code></pre>
<p>æ˜¯ä» proc-&gt;waiting_threads åˆ—è¡¨ä¸­å–å‡ºä¸€ä¸ª binder_threadï¼Œé‚£ç­‰å¾…çš„ binder_thread æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™åŠ åˆ° waiting_threads çš„å‘¢ï¼Ÿ</p>
<p>æ¥æ”¶ç«¯çº¿ç¨‹è¿›å…¥ binder_thread_read() ç„¶åè°ƒç”¨ binder_wait_for_work() å°† binder_thread åŠ åˆ° proc-&gt;waiting_threads åˆ—è¡¨é‡Œçš„ã€‚ç„¶åè°ƒç”¨ schedule() è®©çº¿ç¨‹è¿›å…¥ç¡çœ ç­‰å¾…å‘é€ç«¯å‡†å¤‡å¥½æ•°æ®åå”¤é†’ã€‚</p>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">binder_thread_read</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (non_block) {
        <span class="hljs-keyword">if</span> (!binder_has_work(thread, wait_for_proc_work))
            ret = -EAGAIN;
    } <span class="hljs-keyword">else</span> {
        ret = binder_wait_for_work(thread, wait_for_proc_work);
    }
}

<span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">binder_wait_for_work</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_thread *thread,
                <span class="hljs-type">bool</span> do_proc_work)</span>
{
    <span class="hljs-keyword">for</span> (;;) {
        prepare_to_wait(&amp;thread-&gt;wait, &amp;wait, TASK_INTERRUPTIBLE);
        <span class="hljs-keyword">if</span> (do_proc_work)
            list_add(&amp;thread-&gt;waiting_thread_node,
                 &amp;proc-&gt;waiting_threads);
        schedule();
    }
}
</code></pre>
<p>å›åˆ° binder_proc_transaction() æ‰¾åˆ°ç›®æ ‡çº¿ç¨‹å:</p>
<ol>
<li>
<p>é€šè¿‡ binder_transaction_priority() ä¸´æ—¶æå‡æ¥æ”¶ç«¯çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼Œä»¥åŒ¹é…å‘é€ç«¯çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼Œä»è€Œé¿å…å› ä¸ºæ¥æ”¶ç«¯çº¿ç¨‹ä¼˜å…ˆçº§è¾ƒä½è€Œå¯¼è‡´çš„é«˜ä¼˜å…ˆçº§å‘é€ç«¯çº¿ç¨‹è¢«é•¿æ—¶é—´é˜»å¡çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p>binder_enqueue_thread_work_ilocked() å°† t-&gt;work æ·»åŠ åˆ°ç›®æ ‡çº¿ç¨‹çš„å¾…åŠäº‹é¡¹åˆ—è¡¨binder_thread.todoä¸­ï¼Œå¹¶å¯ç”¨å¾…å¤„ç†é˜Ÿåˆ—çš„å¤„ç†ã€‚</p>
</li>
<li>
<p>binder_wakeup_thread_ilocked() å”¤é†’ç›®æ ‡çº¿ç¨‹æ¥æ¥æ”¶ binder_transaction ã€‚</p>
</li>
</ol>
<h5 data-id="heading-14">æ¥æ”¶ IBinder å¯¹è±¡</h5>
<h6 data-id="heading-15">æ¥æ”¶å‡†å¤‡</h6>
<p>android.hardware.nfc-service.example çš„å¯åŠ¨</p>
<p>hardware/interfaces/nfc/aidl/default/main.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">using</span> ::aidl::android::hardware::nfc::Nfc;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-built_in">LOG</span>(INFO) &lt;&lt; <span class="hljs-string">"NFC HAL starting up"</span>;
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">ABinderProcess_setThreadPoolMaxThreadCount</span>(<span class="hljs-number">1</span>)) {
        <span class="hljs-built_in">LOG</span>(INFO) &lt;&lt; <span class="hljs-string">"failed to set thread pool max thread count"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }
    std::shared_ptr&lt;Nfc&gt; nfc_service = ndk::SharedRefBase::<span class="hljs-built_in">make</span>&lt;Nfc&gt;();

    <span class="hljs-type">const</span> std::string instance = std::<span class="hljs-built_in">string</span>() + Nfc::descriptor + <span class="hljs-string">"/default"</span>;
    <span class="hljs-type">binder_status_t</span> status =
            <span class="hljs-built_in">AServiceManager_addService</span>(nfc_service-&gt;<span class="hljs-built_in">asBinder</span>().<span class="hljs-built_in">get</span>(), instance.<span class="hljs-built_in">c_str</span>());
    <span class="hljs-built_in">CHECK</span>(status == STATUS_OK);
    <span class="hljs-built_in">ABinderProcess_joinThreadPool</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<ol>
<li>
<p>å…ˆåˆ›å»ºä¸€ä¸ª Nfc ç±»çš„æœåŠ¡ nfc_service, Nfc ç»§æ‰¿äº BnNfc, ä¹Ÿå°±æ˜¯ INfc çš„æœåŠ¡ç«¯</p>
</li>
<li>
<p>AServiceManager_addService() å°† nfc_service æ³¨å†Œåˆ° binder æœåŠ¡ä¸­</p>
</li>
<li>
<p>ABinderProcess_joinThreadPool() è®©å½“å‰çº¿ç¨‹åŠ å…¥ Binder çº¿ç¨‹æ± ï¼Œè¿›å…¥å¾ªç¯ä»¥å¤„ç†ä¼ å…¥çš„ Binder äº‹åŠ¡</p>
</li>
</ol>
<p>ABinderProcess_joinThreadPool() æºç å¦‚ä¸‹:</p>
<p>frameworks/native/libs/binder/ndk/process.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ABinderProcess_joinThreadPool</span><span class="hljs-params">()</span> </span>{
    IPCThreadState::<span class="hljs-built_in">self</span>()-&gt;<span class="hljs-built_in">joinThreadPool</span>();
}
</code></pre>
<p>frameworks/native/libs/binder/IPCThreadState.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">IPCThreadState* <span class="hljs-title">IPCThreadState::self</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> IPCThreadState;
}

IPCThreadState::<span class="hljs-built_in">IPCThreadState</span>()
      : <span class="hljs-built_in">mProcess</span>(ProcessState::<span class="hljs-built_in">self</span>()),
      ....... ) {
    <span class="hljs-built_in">pthread_setspecific</span>(gTLS, <span class="hljs-keyword">this</span>);
    <span class="hljs-built_in">clearCaller</span>();
    mIn.<span class="hljs-built_in">setDataCapacity</span>(<span class="hljs-number">256</span>);
    mOut.<span class="hljs-built_in">setDataCapacity</span>(<span class="hljs-number">256</span>);
}
</code></pre>
<p>ä¸Šé¢ä»£ç :</p>
<ol>
<li>
<p>åœ¨ IPCThreadState::self() ä¸­åˆ›å»ºä¸€ä¸ªä»£è¡¨å½“å‰çº¿ç¨‹çš„ IPCThreadState</p>
</li>
<li>
<p>IPCThreadState::IPCThreadState()  ä¸­è°ƒç”¨äº† ProcessState::self() , ProcessState::self()  çš„ä»£ç æˆ‘ä»¬åœ¨å‰é¢åˆ†æè¿‡ï¼Œæ˜¯åˆ›å»ºä»£è¡¨å½“å‰è¿›ç¨‹çš„ ProcessState , å¹¶æ‰“å¼€ binder çš„é©±åŠ¨èŠ‚ç‚¹æ–‡ä»¶ "/dev/binder" ç”¨æ¥åš binder é€šä¿¡ã€‚</p>
</li>
</ol>
<p>æ¥ç€æ˜¯ joinThreadPool çš„ä»£ç :<br/>
frameworks/native/libs/binder/IPCThreadState.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">IPCThreadState::joinThreadPool</span><span class="hljs-params">(<span class="hljs-type">bool</span> isMain)</span>
</span>{
    <span class="hljs-built_in">LOG_THREADPOOL</span>(<span class="hljs-string">"**** THREAD %p (PID %d) IS JOINING THE THREAD POOL\n"</span>, (<span class="hljs-type">void</span>*)<span class="hljs-built_in">pthread_self</span>(), <span class="hljs-built_in">getpid</span>());

    mOut.<span class="hljs-built_in">writeInt32</span>(isMain ? BC_ENTER_LOOPER : BC_REGISTER_LOOPER);
    <span class="hljs-keyword">do</span> {
        <span class="hljs-built_in">processPendingDerefs</span>();
        <span class="hljs-comment">// now get the next command to be processed, waiting if necessary</span>
        result = <span class="hljs-built_in">getAndExecuteCommand</span>();
    } <span class="hljs-keyword">while</span> (result != -ECONNREFUSED &amp;&amp; result != -EBADF);
}

<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">IPCThreadState::getAndExecuteCommand</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">status_t</span> result;
    <span class="hljs-type">int32_t</span> cmd;

    result = <span class="hljs-built_in">talkWithDriver</span>();
    <span class="hljs-keyword">if</span> (result &gt;= NO_ERROR) {
        cmd = mIn.<span class="hljs-built_in">readInt32</span>();
        result = <span class="hljs-built_in">executeCommand</span>(cmd);
    }
}

<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">IPCThreadState::executeCommand</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> cmd)</span>
</span>{
    <span class="hljs-keyword">switch</span> ((<span class="hljs-type">uint32_t</span>)cmd) {
    <span class="hljs-keyword">case</span> BR_TRANSACTION:
        {
            binder_transaction_data_secctx tr_secctx;
            binder_transaction_data&amp; tr = tr_secctx.transaction_data;
            <span class="hljs-keyword">if</span> (tr.target.ptr) {
                <span class="hljs-comment">// We only have a weak reference on the target object, so we must first try to</span>
                <span class="hljs-comment">// safely acquire a strong reference before doing anything else with it.</span>
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">reinterpret_cast</span>&lt;RefBase::weakref_type*&gt;(
                        tr.target.ptr)-&gt;<span class="hljs-built_in">attemptIncStrong</span>(<span class="hljs-keyword">this</span>)) {
                    error = <span class="hljs-built_in">reinterpret_cast</span>&lt;BBinder*&gt;(tr.cookie)-&gt;<span class="hljs-built_in">transact</span>(tr.code, buffer,
                            &amp;reply, tr.flags);
                    <span class="hljs-built_in">reinterpret_cast</span>&lt;BBinder*&gt;(tr.cookie)-&gt;<span class="hljs-built_in">decStrong</span>(<span class="hljs-keyword">this</span>);
                } <span class="hljs-keyword">else</span> {
                    error = UNKNOWN_TRANSACTION;
                }

            } <span class="hljs-keyword">else</span> {
                error = the_context_object-&gt;<span class="hljs-built_in">transact</span>(tr.code, buffer, &amp;reply, tr.flags);
            }
        }
    }
}
</code></pre>
<p>joinThreadPool() é‡Œçš„å…³é”®è°ƒç”¨é“¾æ˜¯:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">joinThreadPool</span>()
<span class="hljs-built_in">getAndExecuteCommand</span>()
    <span class="hljs-built_in">talkWithDriver</span>()
<span class="hljs-built_in">executeCommand</span>()
</code></pre>
<p>å½“è¿›å…¥ talkWithDriver() åï¼Œä¹Ÿä¼šè·Ÿå‘é€ç«¯ä¸€æ ·ï¼Œè°ƒç”¨ <code>ioctl()</code> è¿›å…¥å†…æ ¸æ€</p>
<p>å› ä¸º getAndExecuteCommand() å‰æœ‰ä¸€å¥:</p>
<pre><code class="hljs language-cpp" lang="cpp">mOut.<span class="hljs-built_in">writeInt32</span>(isMain ? BC_ENTER_LOOPER : BC_REGISTER_LOOPER);
</code></pre>
<p>æ‰€ä»¥åœ¨å†…æ ¸é©±åŠ¨ä¸­å…ˆä¼šèµ°åˆ°:</p>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_thread_write</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_proc *proc,
            <span class="hljs-keyword">struct</span> binder_thread *thread,
            <span class="hljs-type">binder_uintptr_t</span> binder_buffer, <span class="hljs-type">size_t</span> size,
            <span class="hljs-type">binder_size_t</span> *consumed)</span>
</span>{
    <span class="hljs-keyword">switch</span> (cmd) {
    <span class="hljs-keyword">case</span> BC_ENTER_LOOPER:
        <span class="hljs-built_in">binder_debug</span>(BINDER_DEBUG_THREADS,
                 <span class="hljs-string">"%d:%d BC_ENTER_LOOPER\n"</span>,
                 proc-&gt;pid, thread-&gt;pid);
        <span class="hljs-keyword">if</span> (thread-&gt;looper &amp; BINDER_LOOPER_STATE_REGISTERED) {
            thread-&gt;looper |= BINDER_LOOPER_STATE_INVALID;
            <span class="hljs-built_in">binder_user_error</span>(<span class="hljs-string">"%d:%d ERROR: BC_ENTER_LOOPER called after BC_REGISTER_LOOPER\n"</span>,
                proc-&gt;pid, thread-&gt;pid);
        }
        thread-&gt;looper |= BINDER_LOOPER_STATE_ENTERED;
        <span class="hljs-keyword">break</span>;
    }
}
</code></pre>
<p>æ ‡è¯† android.hardware.nfc-service.example ä¸»çº¿ç¨‹å·²ç»æˆåŠŸè¿›å…¥äº† Binder çš„ä¸»å¾ªç¯ï¼Œæ­£åœ¨ç­‰å¾…å’Œå¤„ç†æ¥è‡ª Binder é©±åŠ¨çš„äº‹åŠ¡ï¼ˆTransactionï¼‰ ã€‚</p>
<h6 data-id="heading-16">binder_thread_read()</h6>
<p>æ¥ç€é©±åŠ¨è¿›å…¥ binder_thread_read() ç„¶åå¦‚ä¹‹å‰æ‰€è¿°ï¼Œè°ƒç”¨ binder_wait_for_work() å°†å½“å‰çº¿ç¨‹çš„ binder_thread åŠ åˆ° proc-&gt;waiting_threads åˆ—è¡¨é‡Œçš„ã€‚ç„¶åè°ƒç”¨ schedule() è®©çº¿ç¨‹è¿›å…¥ç¡çœ ç­‰å¾…å‘é€ç«¯å‡†å¤‡å¥½æ•°æ®åå”¤é†’ã€‚</p>
<p>kernel5.4/drivers/android/binder.c</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_thread_read</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (non_block) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">binder_has_work</span>(thread, wait_for_proc_work))
            ret = -EAGAIN;
    } <span class="hljs-keyword">else</span> {
        ret = <span class="hljs-built_in">binder_wait_for_work</span>(thread, wait_for_proc_work);
    }
    thread-&gt;looper &amp;= ~BINDER_LOOPER_STATE_WAITING;

    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {
        <span class="hljs-type">uint32_t</span> cmd;
        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction_data_secctx</span> tr;
        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction_data</span> *trd = &amp;tr.transaction_data;
        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_work</span> *w = <span class="hljs-literal">NULL</span>;
        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">list_head</span> *list = <span class="hljs-literal">NULL</span>;
        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction</span> *t = <span class="hljs-literal">NULL</span>;

        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">binder_worklist_empty_ilocked</span>(&amp;thread-&gt;todo)) {
            list = &amp;thread-&gt;todo;
            <span class="hljs-keyword">if</span> (nfc_hal_pid == proc-&gt;pid || nfc_pid == proc-&gt;pid) {
                <span class="hljs-built_in">pr_err</span>(<span class="hljs-string">"%s: get thread-&gt;todo\n"</span>, __func__);
            }
        } 
    
        w = <span class="hljs-built_in">binder_dequeue_work_head_ilocked</span>(list);
        <span class="hljs-keyword">switch</span> (w-&gt;type) {
        <span class="hljs-keyword">case</span> BINDER_WORK_TRANSACTION: {
            <span class="hljs-built_in">binder_inner_proc_unlock</span>(proc);
            t = <span class="hljs-built_in">container_of</span>(w, <span class="hljs-keyword">struct</span> binder_transaction, work);
        } <span class="hljs-keyword">break</span>;


        <span class="hljs-keyword">if</span> (t-&gt;buffer-&gt;target_node) {
            <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *target_node = t-&gt;buffer-&gt;target_node;

            trd-&gt;target.ptr = target_node-&gt;ptr;
            trd-&gt;cookie =  target_node-&gt;cookie;
            <span class="hljs-built_in">binder_transaction_priority</span>(thread, t, target_node);
            cmd = BR_TRANSACTION;
        }

        trd-&gt;code = t-&gt;code;
        trd-&gt;data_size = t-&gt;buffer-&gt;data_size;
        trd-&gt;offsets_size = t-&gt;buffer-&gt;offsets_size;
        trd-&gt;data.ptr.buffer = (<span class="hljs-type">uintptr_t</span>)t-&gt;buffer-&gt;user_data;

        <span class="hljs-built_in">put_user</span>(cmd, (<span class="hljs-type">uint32_t</span> __user *)ptr);
        <span class="hljs-built_in">copy_to_user</span>(ptr, &amp;tr, trsize);
    }
}

<span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_wait_for_work</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_thread *thread,
                <span class="hljs-type">bool</span> do_proc_work)</span>
</span>{
    <span class="hljs-keyword">for</span> (;;) {
        <span class="hljs-built_in">prepare_to_wait</span>(&amp;thread-&gt;wait, &amp;wait, TASK_INTERRUPTIBLE);
        <span class="hljs-keyword">if</span> (do_proc_work)
            <span class="hljs-built_in">list_add</span>(&amp;thread-&gt;waiting_thread_node,
                 &amp;proc-&gt;waiting_threads);
        <span class="hljs-built_in">schedule</span>();
    }
}
</code></pre>
<p>æ¥æ”¶ç«¯çº¿ç¨‹è¢«å‘é€ç«¯åœ¨ binder_proc_transaction() å‡½æ•°ä¸­å”¤é†’åï¼Œå°±ä» binder_wait_for_work() é€€å‡ºï¼Œèµ°åˆ° while (1) å¾ªç¯ä¸­ï¼Œ é€šè¿‡</p>
<pre><code class="hljs language-cpp" lang="cpp">list = &amp;thread-&gt;todo; 
<span class="hljs-built_in">binder_dequeue_work_head_ilocked</span>(list);
</code></pre>
<p>ä» thread-&gt;todo å–å‡ºåœ¨ binder_proc_transaction() ä¸­æ·»åŠ çš„ binder_work , å†é€šè¿‡ <code>container_of(w, struct binder_transaction, work)</code> å–åˆ° w çš„æ‰€å± binder_transaction ç»“æ„ä½“ã€‚</p>
<p>å–åˆ° binder_transaction åï¼Œå°±å°† binder_transaction çš„æ•°æ®æ‰“åŒ…åˆ° <code>struct binder_transaction_data *trd</code>ï¼Œ ç„¶åé€šè¿‡ copy_to_user() ä¼ ç»™åº”ç”¨å±‚ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp">    trd-&gt;code = t-&gt;code;
    trd-&gt;data_size = t-&gt;buffer-&gt;data_size;
    trd-&gt;offsets_size = t-&gt;buffer-&gt;offsets_size;

    <span class="hljs-built_in">put_user</span>(cmd, (<span class="hljs-type">uint32_t</span> __user *)ptr);
    <span class="hljs-built_in">copy_to_user</span>(ptr, &amp;tr, trsize);
</code></pre>
<p>struct binder_transaction_data_secctx tr çš„æ•°æ®ç»“æ„å®šä¹‰å¦‚ä¸‹:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction_data_secctx</span> {
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction_data</span> transaction_data;
    <span class="hljs-type">binder_uintptr_t</span> secctx;
};
</code></pre>
<p>æ‰€ä»¥, <code>copy_to_user(ptr, &amp;tr, trsize)</code> ä¸­ &amp;tr ä¹Ÿå°±æ˜¯ trd çš„åœ°å€ã€‚</p>
<h6 data-id="heading-17">è¿”å›åº”ç”¨å±‚</h6>
<p>æ”¶åˆ°æ•°æ®åº”ç”¨å±‚ä¹Ÿä» IPCThreadState::talkWithDriver() ä¸­çš„ <code>ioctl()</code> é†’æ¥ï¼Œé€€å‡º IPCThreadState::talkWithDriver() æ¥åˆ° IPCThreadState::executeCommand() èµ°</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">reinterpret_cast</span>&lt;BBinder*&gt;(tr.cookie)-&gt;<span class="hljs-built_in">transact</span>(tr.code, buffer,
                            &amp;reply, tr.flags)
</code></pre>
<p>æœ€ç»ˆæ¥åˆ°<br/>
out/soong/.intermediates/hardware/interfaces/nfc/aidl/android.hardware.nfc-V1-ndk-source/gen/android/hardware/nfc/INfc.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">namespace</span> aidl {
<span class="hljs-keyword">namespace</span> android {
<span class="hljs-keyword">namespace</span> hardware {
<span class="hljs-keyword">namespace</span> nfc {
<span class="hljs-type">static</span> <span class="hljs-type">binder_status_t</span> _aidl_android_hardware_nfc_INfc_onTransact(AIBinder* _aidl_binder, <span class="hljs-type">transaction_code_t</span> _aidl_code, <span class="hljs-type">const</span> AParcel* _aidl_in, AParcel* _aidl_out) {
  (<span class="hljs-type">void</span>)_aidl_in;
  (<span class="hljs-type">void</span>)_aidl_out;
  <span class="hljs-type">binder_status_t</span> _aidl_ret_status = STATUS_UNKNOWN_TRANSACTION;
  std::shared_ptr&lt;BnNfc&gt; _aidl_impl = std::<span class="hljs-built_in">static_pointer_cast</span>&lt;BnNfc&gt;(::ndk::ICInterface::<span class="hljs-built_in">asInterface</span>(_aidl_binder));
  <span class="hljs-keyword">switch</span> (_aidl_code) {
    <span class="hljs-built_in">case</span> (FIRST_CALL_TRANSACTION + <span class="hljs-number">0</span> <span class="hljs-comment">/*open*/</span>): {
      std::shared_ptr&lt;::aidl::android::hardware::nfc::INfcClientCallback&gt; in_clientCallback;

      _aidl_ret_status = ::ndk::<span class="hljs-built_in">AParcel_readData</span>(_aidl_in, &amp;in_clientCallback);
      <span class="hljs-keyword">if</span> (_aidl_ret_status != STATUS_OK) <span class="hljs-keyword">break</span>;

      ::ndk::ScopedAStatus _aidl_status = _aidl_impl-&gt;<span class="hljs-built_in">open</span>(in_clientCallback);
      _aidl_ret_status = <span class="hljs-built_in">AParcel_writeStatusHeader</span>(_aidl_out, _aidl_status.<span class="hljs-built_in">get</span>());
      <span class="hljs-keyword">if</span> (_aidl_ret_status != STATUS_OK) <span class="hljs-keyword">break</span>;

      <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">AStatus_isOk</span>(_aidl_status.<span class="hljs-built_in">get</span>())) <span class="hljs-keyword">break</span>;

      <span class="hljs-keyword">break</span>;
    }
}
</code></pre>
<p>ç»è¿‡ä»¥ä¸‹è°ƒç”¨é“¾ï¼Œä»£ç æ¥åˆ°äº† Parcel::unflattenBinder()</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">AParcel_readData</span>()
<span class="hljs-built_in">AParcel_readRequiredStrongBinder</span>()
<span class="hljs-built_in">AParcel_readStrongBinder</span>()
Parcel::<span class="hljs-built_in">readNullableStrongBinder</span>()
Parcel::<span class="hljs-built_in">unflattenBinder</span>()
</code></pre>
<p>ä»£ç :<br/>
frameworks/native/libs/binder/ndk/include_cpp/android/binder_parcel_utils.h</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-type">binder_status_t</span> <span class="hljs-title">AParcel_readData</span><span class="hljs-params">(<span class="hljs-type">const</span> AParcel* parcel, T* value)</span> </span>{
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-built_in">constexpr</span> (std::is_same_v&lt;SpAIBinder, T&gt;) {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">AParcel_readRequiredStrongBinder</span>(parcel, value);
}

<span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-type">binder_status_t</span> <span class="hljs-title">AParcel_readRequiredStrongBinder</span><span class="hljs-params">(<span class="hljs-type">const</span> AParcel* parcel,
                                                               SpAIBinder* binder)</span> </span>{
    AIBinder* readBinder;
    <span class="hljs-type">binder_status_t</span> ret = <span class="hljs-built_in">AParcel_readStrongBinder</span>(parcel, &amp;readBinder);
    <span class="hljs-keyword">if</span> (ret == STATUS_OK) {
        <span class="hljs-keyword">if</span> (readBinder == <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-keyword">return</span> STATUS_UNEXPECTED_NULL;
        }

        binder-&gt;<span class="hljs-built_in">set</span>(readBinder);
    }
    <span class="hljs-keyword">return</span> ret;
}

</code></pre>
<p>frameworks/native/libs/binder/ndk/parcel.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">binder_status_t</span> <span class="hljs-title">AParcel_readStrongBinder</span><span class="hljs-params">(<span class="hljs-type">const</span> AParcel* parcel, AIBinder** binder)</span> </span>{
    sp&lt;IBinder&gt; readBinder = <span class="hljs-literal">nullptr</span>;
    <span class="hljs-type">status_t</span> status = parcel-&gt;<span class="hljs-built_in">get</span>()-&gt;<span class="hljs-built_in">readNullableStrongBinder</span>(&amp;readBinder);
    <span class="hljs-keyword">if</span> (status != STATUS_OK) {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">PruneStatusT</span>(status);
    }
    sp&lt;AIBinder&gt; ret = ABpBinder::<span class="hljs-built_in">lookupOrCreateFromBinder</span>(readBinder);
    <span class="hljs-built_in">AIBinder_incStrong</span>(ret.<span class="hljs-built_in">get</span>());
    *binder = ret.<span class="hljs-built_in">get</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">PruneStatusT</span>(status);
}

<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">Parcel::readNullableStrongBinder</span><span class="hljs-params">(sp&lt;IBinder&gt;* val)</span> <span class="hljs-type">const</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">unflattenBinder</span>(val);
}

<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">Parcel::unflattenBinder</span><span class="hljs-params">(sp&lt;IBinder&gt;* out)</span> <span class="hljs-type">const</span>
</span>{
    <span class="hljs-type">const</span> flat_binder_object* flat = <span class="hljs-built_in">readObject</span>(<span class="hljs-literal">false</span>);

    <span class="hljs-keyword">if</span> (flat) {
        <span class="hljs-keyword">switch</span> (flat-&gt;hdr.type) {
            <span class="hljs-keyword">case</span> BINDER_TYPE_BINDER: {
                sp&lt;IBinder&gt; binder =
                        sp&lt;IBinder&gt;::<span class="hljs-built_in">fromExisting</span>(<span class="hljs-built_in">reinterpret_cast</span>&lt;IBinder*&gt;(flat-&gt;cookie));
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">finishUnflattenBinder</span>(binder, out);
            }
            <span class="hljs-keyword">case</span> BINDER_TYPE_HANDLE: {
                sp&lt;IBinder&gt; binder =
                    ProcessState::<span class="hljs-built_in">self</span>()-&gt;<span class="hljs-built_in">getStrongProxyForHandle</span>(flat-&gt;handle);
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">finishUnflattenBinder</span>(binder, out);
            }
        }
    }
}
</code></pre>
<p>å› ä¸ºåœ¨ binder_translate_binder() ä¸­ï¼Œflat_binder_object.hdr.type å·²ç»ç”± BINDER_TYPE_BINDER è½¬ä¸º BINDER_TYPE_WEAK_HANDLE , æ‰€ä»¥ Parcel::unflattenBinder() é‡Œèµ°çš„ case BINDER_TYPE_HANDLE åˆ†æ”¯ã€‚</p>
<p>ProcessState::self()-&gt;getStrongProxyForHandle(flat-&gt;handle) ä»¥ flat-&gt;handle ä¸ºæ ‡è¯†åˆ›å»ºäº†ä¸€ä¸ª BpBinder å¯¹è±¡ï¼Œç”¨æ¥åœ¨ android.hardware.nfc-service.example é‡Œä»£è¡¨ <code>NfcAdaptation.mAidlCallback</code> ã€‚</p>
<p>getStrongProxyForHandle()æºç å¦‚ä¸‹:<br/>
frameworks/native/libs/binder/ProcessState.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">sp&lt;IBinder&gt; <span class="hljs-title">ProcessState::getStrongProxyForHandle</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> handle)</span>
</span>{
    sp&lt;IBinder&gt; result;
    handle_entry* e = <span class="hljs-built_in">lookupHandleLocked</span>(handle);
    <span class="hljs-keyword">if</span> (e != <span class="hljs-literal">nullptr</span>) {
        IBinder* b = e-&gt;binder;
        <span class="hljs-keyword">if</span> (b == <span class="hljs-literal">nullptr</span> || !e-&gt;refs-&gt;<span class="hljs-built_in">attemptIncWeak</span>(<span class="hljs-keyword">this</span>)) {
            sp&lt;BpBinder&gt; b = BpBinder::PrivateAccessor::<span class="hljs-built_in">create</span>(handle);
            e-&gt;binder = b.<span class="hljs-built_in">get</span>();
            <span class="hljs-keyword">if</span> (b) e-&gt;refs = b-&gt;<span class="hljs-built_in">getWeakRefs</span>();
            result = b;
    }
    <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>ä» Parcel::unflattenBinder() è¿”å›åï¼Œå†ç»è¿‡</p>
<pre><code class="hljs language-cpp" lang="cpp">Parcel::<span class="hljs-built_in">readNullableStrongBinder</span>()
<span class="hljs-built_in">AParcel_readStrongBinder</span>()
<span class="hljs-built_in">AParcel_readRequiredStrongBinder</span>()
<span class="hljs-built_in">AParcel_readData</span>()
</code></pre>
<p>çš„å±‚å±‚åŒ…è£…ï¼Œå°† BpBinder å¯¹è±¡åŒ…è£…æˆ SpAIBinderã€‚</p>
<p>æœ€åæ¥åˆ° _aidl_android_hardware_nfc_INfc_onTransact çš„ _aidl_impl-&gt;open(in_clientCallback) ä¹Ÿå°±æ˜¯
hardware/interfaces/nfc/aidl/default/Nfc.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp">::<span class="hljs-function">ndk::ScopedAStatus <span class="hljs-title">Nfc::open</span><span class="hljs-params">(<span class="hljs-type">const</span> std::shared_ptr&lt;INfcClientCallback&gt;&amp; clientCallback)</span> </span>{
    Nfc::mCallback = clientCallback;
}
</code></pre>
<p>å°† <code>NfcAdaptation.mAidlCallback</code> çš„æ›¿èº«èµ‹å€¼ç»™ Nfc::mCallback ã€‚</p>
<p>å°†æ¥ android.hardware.nfc-service.example è°ƒç”¨ Nfc::mCallback ä¹Ÿå°±æ˜¯ <code>NfcAdaptation.mAidlCallback</code> æ—¶ï¼Œä¼šå¾€åœ¨ SpAIBinder é‡ŒæŸ¥æ‰¾ BpBinder , å†è·å– BpBinder çš„handle, ç„¶åå¾€ binder é©±åŠ¨ä¼ å…¥è¯¥ handle,  binder é©±åŠ¨å†æ ¹æ®è¯¥ handle æŸ¥æ‰¾å¯¹åº”çš„ binder_ref å’Œ binder_node , ç„¶åå°† binder_node.cookie ä¼ ç»™ NfcAdaptation, è¿™ä¸ª binder_node.cookie çš„å€¼å°±æ˜¯ <code>NfcAdaptation.mAidlCallback</code> çš„çœŸå®æŒ‡é’ˆ, é€šè¿‡è¿™ä¸ªæŒ‡é’ˆï¼Œå°±å¯ä»¥è°ƒç”¨ <code>NfcAdaptation.mAidlCallback</code> çš„æ–¹æ³•ã€‚</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº† binder ä¼ é€’ ä¸€ä¸ª IBinder å¯¹è±¡ (NfcAdaptation.mAidlCallback) çš„æµç¨‹åˆ†æã€‚</p>
<h3 data-id="heading-18">ä½¿ç”¨å›è°ƒç±» IBinder å¯¹è±¡</h3>
<p>ä»¥ android.hardware.nfc-service.example è°ƒç”¨ INfcClientCallback ä¸ºä¾‹è§£æè°ƒç”¨  IBinder å¯¹è±¡çš„è¯¦ç»†æµç¨‹ã€‚</p>
<h4 data-id="heading-19">å›è°ƒå‰çš„å‡†å¤‡</h4>
<p>hardware/interfaces/nfc/aidl/default/Nfc.cpp
Nfc::open å°† <code>NfcAdaptation.mAidlCallback</code> çš„æ›¿èº«èµ‹å€¼ç»™ Nfc::mCallback åï¼Œæ¥ç€å°† Nfc::eventCallback() Nfc::dataCallback() ä¸¤ä¸ªå‡½æ•°ä¼ ç»™ Vendor_hal_open():</p>
<pre><code class="hljs language-cpp" lang="cpp">::<span class="hljs-function">ndk::ScopedAStatus <span class="hljs-title">Nfc::open</span><span class="hljs-params">(<span class="hljs-type">const</span> std::shared_ptr&lt;INfcClientCallback&gt;&amp; clientCallback)</span> </span>{
    Nfc::mCallback = clientCallback;
    <span class="hljs-type">int</span> ret = <span class="hljs-built_in">Vendor_hal_open</span>(eventCallback, dataCallback);
}
</code></pre>
<p>Nfc::eventCallback() Nfc::dataCallback() ä¸¤ä¸ªå‡½æ•°çš„å®šä¹‰å¦‚ä¸‹:</p>
<p>hardware/interfaces/nfc/aidl/default/Nfc.h</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Nfc</span> : <span class="hljs-keyword">public</span> BnNfc {
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">eventCallback</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span> event, <span class="hljs-type">uint8_t</span> status)</span> </span>{
        <span class="hljs-keyword">if</span> (mCallback != <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-keyword">auto</span> ret = mCallback-&gt;<span class="hljs-built_in">sendEvent</span>((NfcEvent)event, (NfcStatus)status);
            <span class="hljs-keyword">if</span> (!ret.<span class="hljs-built_in">isOk</span>()) {
                <span class="hljs-built_in">LOG</span>(ERROR) &lt;&lt; <span class="hljs-string">"Failed to send event!"</span>;
            }
        }
    }

    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">dataCallback</span><span class="hljs-params">(<span class="hljs-type">uint16_t</span> data_len, <span class="hljs-type">uint8_t</span>* p_data)</span> </span>{
        <span class="hljs-function">std::vector&lt;<span class="hljs-type">uint8_t</span>&gt; <span class="hljs-title">data</span><span class="hljs-params">(p_data, p_data + data_len)</span></span>;
        <span class="hljs-keyword">if</span> (mCallback != <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-keyword">auto</span> ret = mCallback-&gt;<span class="hljs-built_in">sendData</span>(data);
            <span class="hljs-keyword">if</span> (!ret.<span class="hljs-built_in">isOk</span>()) {
                <span class="hljs-built_in">LOG</span>(ERROR) &lt;&lt; <span class="hljs-string">"Failed to send data!"</span>;
            }
        }
    }
}
</code></pre>
<p>Nfc::eventCallback()ã€ Nfc::dataCallback() åˆ†åˆ«è°ƒç”¨äº† mCallback-&gt;sendEvent() å’Œ mCallback-&gt;sendData() ç»™ NfcAdaptation ä¸Šå‘äº‹ä»¶å’Œæ•°æ®ã€‚</p>
<p>Vendor_hal_open() çš„å®ç°å¦‚ä¸‹:<br/>
hardware/interfaces/nfc/aidl/default/Vendor_hal_api.cpp</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-type">static</span> <span class="hljs-type">nfc_stack_callback_t</span>* p_nfc_stack_cback;
<span class="hljs-type">static</span> <span class="hljs-type">nfc_stack_data_callback_t</span>* p_nfc_stack_data_cback;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Vendor_hal_open</span><span class="hljs-params">(<span class="hljs-type">nfc_stack_callback_t</span>* p_cback, <span class="hljs-type">nfc_stack_data_callback_t</span>* p_data_cback)</span> </span>{
    p_nfc_stack_cback = p_cback;
    p_nfc_stack_data_cback = p_data_cback;

    <span class="hljs-built_in">p_nfc_stack_cback</span>(HAL_NFC_OPEN_CPLT_EVT, HAL_NFC_STATUS_OK);
    <span class="hljs-keyword">return</span> HAL_NFC_STATUS_OK;
}
</code></pre>
<p>Vendor_hal_open() é‡Œåˆ†åˆ«å°† Nfc::eventCallback()ã€ Nfc::dataCallback() èµ‹å€¼ç»™äº† p_nfc_stack_cback, p_nfc_stack_data_cback è¿™ä¸¤ä¸ªå‡½æ•°æŒ‡é’ˆã€‚</p>
<p>Vendor_hal_open() åœ¨è¿”å›å‰, é€šè¿‡ <code>p_nfc_stack_cback(HAL_NFC_OPEN_CPLT_EVT, HAL_NFC_STATUS_OK)</code> ç»™ NfcAdaptation å‘é€äº† HAL_NFC_OPEN_CPLT_EVT äº‹ä»¶ã€‚</p>
<h4 data-id="heading-20">è¿›å…¥é©±åŠ¨ä¹‹å‰çš„å¤„ç†æµç¨‹</h4>
<p>p_nfc_stack_cback æŒ‡å‘ Nfc::eventCallback() æ‰€ä»¥è°ƒç”¨é“¾å¦‚ä¸‹:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">p_nfc_stack_cback</span>(HAL_NFC_OPEN_CPLT_EVT, HAL_NFC_STATUS_OK)
Nfc::<span class="hljs-built_in">eventCallback</span>()
INfcClientCallback::<span class="hljs-built_in">sendEvent</span>()
BpNfcClientCallback::<span class="hljs-built_in">sendEvent</span>(NfcEvent in_event, NfcStatus in_status)
    ::ndk::ScopedAParcel _aidl_in;
    <span class="hljs-comment">/* ä¸º Binder è°ƒç”¨å‡†å¤‡ä¸€ä¸ª Parcel å¯¹è±¡ */</span>
    <span class="hljs-built_in">AIBinder_prepareTransaction</span>(<span class="hljs-built_in">asBinder</span>().<span class="hljs-built_in">get</span>(), _aidl_in.<span class="hljs-built_in">getR</span>())
    <span class="hljs-comment">/* å°†äº‹ä»¶å·å†™å…¥ _aidl_in */</span>
    <span class="hljs-built_in">AParcel_writeData</span>(_aidl_in.<span class="hljs-built_in">get</span>(), in_event)
    <span class="hljs-comment">/* å°†äº‹ä»¶è¿”å›çŠ¶æ€å†™å…¥ _aidl_in */</span>
    <span class="hljs-built_in">AParcel_writeData</span>(_aidl_in.<span class="hljs-built_in">get</span>(), in_status)
    <span class="hljs-comment">/* æ‰§è¡Œ Binder è°ƒç”¨ */</span>
    <span class="hljs-built_in">AIBinder_transact</span>(<span class="hljs-built_in">asBinder</span>().<span class="hljs-built_in">get</span>(), (FIRST_CALL_TRANSACTION + <span class="hljs-number">1</span> <span class="hljs-comment">/*sendEvent*/</span>),
        _aidl_in.<span class="hljs-built_in">getR</span>(),
        _aidl_out.<span class="hljs-built_in">getR</span>(),
        <span class="hljs-number">0</span>
        <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> BINDER_STABILITY_SUPPORT</span>
        | FLAG_PRIVATE_LOCAL
        <span class="hljs-meta">#<span class="hljs-keyword">endif</span>  <span class="hljs-comment">// BINDER_STABILITY_SUPPORT</span></span>
    );
    <span class="hljs-comment">/* ä» Binder è°ƒç”¨çš„è¿”å›å€¼é‡Œè¯»å‡ºæ‰€è¦çš„ä¿¡æ¯ */</span>
    <span class="hljs-built_in">AParcel_readStatusHeader</span>(_aidl_out.<span class="hljs-built_in">get</span>(), _aidl_status.<span class="hljs-built_in">getR</span>())
</code></pre>
<p>AIBinder_transact() çš„è°ƒç”¨é“¾å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">AIBinder_transact</span>()
BpBinder::<span class="hljs-built_in">transact</span>()
    IPCThreadState::<span class="hljs-built_in">self</span>()-&gt;<span class="hljs-built_in">transact</span>(<span class="hljs-built_in">binderHandle</span>(), code, data, reply, flags)
IPCThreadState::<span class="hljs-built_in">transact</span>()
    IPCThreadState::<span class="hljs-built_in">writeTransactionData</span>()
    IPCThreadState::<span class="hljs-built_in">waitForResponse</span>()
        IPCThreadState::<span class="hljs-built_in">talkWithDriver</span>()
            <span class="hljs-built_in">ioctl</span>(mProcess-&gt;mDriverFD, BINDER_WRITE_READ, &amp;bwr)
</code></pre>
<p>å…¶ä¸­ binderHandle() å¯¹åº”çš„å°±æ˜¯åœ¨</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">sp&lt;IBinder&gt; <span class="hljs-title">ProcessState::getStrongProxyForHandle</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> handle)</span>
</span>{
    sp&lt;IBinder&gt; result;
    handle_entry* e = <span class="hljs-built_in">lookupHandleLocked</span>(handle);
    <span class="hljs-keyword">if</span> (e != <span class="hljs-literal">nullptr</span>) {
        IBinder* b = e-&gt;binder;
        <span class="hljs-keyword">if</span> (b == <span class="hljs-literal">nullptr</span> || !e-&gt;refs-&gt;<span class="hljs-built_in">attemptIncWeak</span>(<span class="hljs-keyword">this</span>)) {
            sp&lt;BpBinder&gt; b = BpBinder::PrivateAccessor::<span class="hljs-built_in">create</span>(handle);
            e-&gt;binder = b.<span class="hljs-built_in">get</span>();
            <span class="hljs-keyword">if</span> (b) e-&gt;refs = b-&gt;<span class="hljs-built_in">getWeakRefs</span>();
            result = b;
    }
    <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>é‡Œç”¨æ¥åˆ›å»º Nfc::mCallback ç”¨åˆ°çš„ handle ã€‚<br/>
æ¥ç€ç”¨æ¥åˆ°äº† IPCThreadState::transact()</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">IPCThreadState::transact</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> handle,
                                  <span class="hljs-type">uint32_t</span> code, <span class="hljs-type">const</span> Parcel&amp; data,
                                  Parcel* reply, <span class="hljs-type">uint32_t</span> flags)</span>
</span>{
    err = <span class="hljs-built_in">writeTransactionData</span>(BC_TRANSACTION, flags, handle, code, data, <span class="hljs-literal">nullptr</span>);
}

<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">IPCThreadState::writeTransactionData</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> cmd, <span class="hljs-type">uint32_t</span> binderFlags,
    <span class="hljs-type">int32_t</span> handle, <span class="hljs-type">uint32_t</span> code, <span class="hljs-type">const</span> Parcel&amp; data, <span class="hljs-type">status_t</span>* statusBuffer)</span>
</span>{
    binder_transaction_data tr;
    tr.target.handle = handle;
    tr.code = code;

    tr.data_size = data.<span class="hljs-built_in">ipcDataSize</span>();
    tr.data.ptr.buffer = data.<span class="hljs-built_in">ipcData</span>();
    tr.offsets_size = data.<span class="hljs-built_in">ipcObjectsCount</span>()*<span class="hljs-built_in">sizeof</span>(<span class="hljs-type">binder_size_t</span>);
    tr.data.ptr.offsets = data.<span class="hljs-built_in">ipcObjects</span>();

    mOut.<span class="hljs-built_in">writeInt32</span>(cmd);
    mOut.<span class="hljs-built_in">write</span>(&amp;tr, <span class="hljs-built_in">sizeof</span>(tr));
}
</code></pre>
<p>æˆ‘ä»¬ç°åœ¨é‡ç‚¹å…³æ³¨ handle å’Œ code çš„ä¼ é€’ã€‚å¦‚ä¸Š IPCThreadState::writeTransactionData() ä»£ç æ‰€ç¤º,  handle å’Œ code éƒ½è¢«æ‰“åŒ…è¿›äº† binder_transaction_data æ•°æ®ç»“æ„ä¸­, binder_transaction_data å°†é€šè¿‡  IPCThreadState::waitForResponse() --&gt; IPCThreadState::talkWithDriver() --&gt; ioctl() ä¼ åˆ° binder é©±åŠ¨é‡Œã€‚</p>
<h4 data-id="heading-21">è¿›å…¥é©±åŠ¨</h4>
<h5 data-id="heading-22">å‘èµ·ç«¯</h5>
<h6 data-id="heading-23">binder_transaction()</h6>
<p>ç»è¿‡</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">//ç”¨æˆ·å±‚:</span>
<span class="hljs-built_in">ioctl</span>()

<span class="hljs-comment">//å†…æ ¸é©±åŠ¨:</span>
<span class="hljs-built_in">binder_ioctl</span>()
<span class="hljs-built_in">binder_ioctl_write_read</span>()
<span class="hljs-built_in">binder_thread_write</span>()
<span class="hljs-built_in">binder_transaction</span>()
</code></pre>
<p>æˆ‘ä»¬åˆæ¥åˆ°äº† binder_transaction() å‡½æ•°ã€‚è¿™æ¬¡æˆ‘ä»¬æ¥çœ‹çœ‹é©±åŠ¨é‡Œå¦‚ä½•æ ¹æ® handle æ‰¾åˆ°ç›®æ ‡ Binder æ‰§è¡Œå¯¹è±¡ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">binder_transaction</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_proc *proc,
                   <span class="hljs-keyword">struct</span> binder_thread *thread,
                   <span class="hljs-keyword">struct</span> binder_transaction_data *tr, <span class="hljs-type">int</span> reply,
                   <span class="hljs-type">binder_size_t</span> extra_buffers_size)</span>
</span>{
    <span class="hljs-type">int</span> ret;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction</span> *t;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_work</span> *w;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_proc</span> *target_proc = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *target_thread = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *target_node = <span class="hljs-literal">NULL</span>;

    <span class="hljs-keyword">if</span> (reply) {
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">struct</span> binder_ref *ref;

        <span class="hljs-comment">/*
         * There must already be a strong ref
         * on this node. If so, do a strong
         * increment on the node to ensure it
         * stays alive until the transaction is
         * done.
         */</span>
        <span class="hljs-built_in">binder_proc_lock</span>(proc);
        ref = <span class="hljs-built_in">binder_get_ref_olocked</span>(proc, tr-&gt;target.handle,
                         <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (ref) {
            target_node = <span class="hljs-built_in">binder_get_node_refs_for_txn</span>(
                    ref-&gt;node, &amp;target_proc,
                    &amp;return_error);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">binder_user_error</span>(<span class="hljs-string">"%d:%d got transaction to invalid handle\n"</span>,
                      proc-&gt;pid, thread-&gt;pid);
            return_error = BR_FAILED_REPLY;
        }
        <span class="hljs-built_in">binder_proc_unlock</span>(proc);
    }
}
</code></pre>
<p>æ ¹æ® IPCThreadState::transact() ä¼ ä¸‹æ¥çš„ tr-&gt;target.handle åœ¨å½“å‰ binder_proc ä¸­æŸ¥æ‰¾ binder_ref</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-type">static</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_ref</span> *<span class="hljs-built_in">binder_get_ref_olocked</span>(<span class="hljs-keyword">struct</span> binder_proc *proc,
                         u32 desc, <span class="hljs-type">bool</span> need_strong_ref)
{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">rb_node</span> *n = proc-&gt;refs_by_desc.rb_node;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_ref</span> *ref;

    <span class="hljs-keyword">while</span> (n) {
        ref = <span class="hljs-built_in">rb_entry</span>(n, <span class="hljs-keyword">struct</span> binder_ref, rb_node_desc);

        <span class="hljs-keyword">if</span> (desc &lt; ref-&gt;data.desc) {
            n = n-&gt;rb_left;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (desc &gt; ref-&gt;data.desc) {
            n = n-&gt;rb_right;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (need_strong_ref &amp;&amp; !ref-&gt;data.strong) {
            <span class="hljs-built_in">binder_user_error</span>(<span class="hljs-string">"tried to use weak ref as strong ref\n"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> ref;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}
</code></pre>
<p>binder_get_ref_olocked() å°±æ˜¯éå† binder_proc.refs_by_desc çº¢é»‘æ ‘é‡Œçš„ binder_ref èŠ‚ç‚¹, ç„¶åå°† binder_ref.data.desc ä¸è¦æŸ¥æ‰¾çš„ desc ä¹Ÿå°±æ˜¯ tr-&gt;target.handle æ¯”è¾ƒ, å½“ä¸¤è€…ç›¸ç­‰æ—¶ï¼Œè¯¥ binder_ref èŠ‚ç‚¹å°±æ˜¯æ‰€è¦æ‰¾çš„ç›®æ ‡ binder_ref ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹åˆ†æ binder_translate_binder() æ—¶ç”»çš„å›¾:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7be2e510f3b84548acc93eb344b8868c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiQ5Lit5LiQOTk5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754307&amp;x-signature=V4cOg%2BO7ER6qrSVFS3t3%2BU4wMlM%3D" alt="binder2.png" loading="lazy"/></p>
<p>å›¾ä¸­çš„ target_pro å°±æ˜¯æˆ‘ä»¬ç°åœ¨çš„å½“å‰ binder_proc , binder_get_ref_olocked() æ ¹æ® tr-&gt;target.handle æ‰¾åˆ°äº†ä¼ é€’ IBinder å¯¹è±¡æ—¶åœ¨å†…æ ¸ä¸­åˆ›å»ºçš„ binder_ref ã€‚</p>
<p>ä» binder_ref.node ä¸­å¯ä»¥è·å– binder_ref ä»£è¡¨çš„ binder_node , ç„¶åæ ¹æ® binder_node å–å¾— target_node å’Œ target_proc:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-type">static</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *<span class="hljs-built_in">binder_get_node_refs_for_txn</span>(
        <span class="hljs-keyword">struct</span> binder_node *node,
        <span class="hljs-keyword">struct</span> binder_proc **procp,
        <span class="hljs-type">uint32_t</span> *error)
{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *target_node = <span class="hljs-literal">NULL</span>;

    <span class="hljs-built_in">binder_node_inner_lock</span>(node);
    <span class="hljs-keyword">if</span> (node-&gt;proc) {
        target_node = node;
        <span class="hljs-built_in">binder_inc_node_nilocked</span>(node, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">NULL</span>);
        <span class="hljs-built_in">binder_inc_node_tmpref_ilocked</span>(node);
        node-&gt;proc-&gt;tmp_ref++;
        *procp = node-&gt;proc;
    } <span class="hljs-keyword">else</span>
        *error = BR_DEAD_REPLY;
    <span class="hljs-built_in">binder_node_inner_unlock</span>(node);

    <span class="hljs-keyword">return</span> target_node;
}
</code></pre>
<p>target_node å°±æ˜¯ä¼ é€’ NfcAdaptation.mAidlCallback æ—¶åœ¨ binder_translate_binder() åˆ›å»ºçš„ä»£è¡¨ NfcAdaptation.mAidlCallback çš„ binder_node , ç°åœ¨çš„ target_proc å°±æ˜¯å›¾ä¸­çš„å‘é€ç«¯ binder_proc, ä¹Ÿå°±æ˜¯ NfcAdaptation æ‰€åœ¨çš„ "com.android.nfc" è¿›ç¨‹ã€‚</p>
<p>æ‰¾åˆ°äº† target_node å’Œ target_proc , æ¥ä¸‹æ¥åˆåˆ°äº†æ‰¾ target_thread çš„æµç¨‹:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">binder_transaction</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_proc *proc,
                   <span class="hljs-keyword">struct</span> binder_thread *thread,
                   <span class="hljs-keyword">struct</span> binder_transaction_data *tr, <span class="hljs-type">int</span> reply,
                   <span class="hljs-type">binder_size_t</span> extra_buffers_size)</span>
</span>{
    <span class="hljs-keyword">if</span> (reply) {

    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (!(tr-&gt;flags &amp; TF_ONE_WAY) &amp;&amp; thread-&gt;transaction_stack) {
            <span class="hljs-keyword">struct</span> binder_transaction *tmp;

            tmp = thread-&gt;transaction_stack;

            <span class="hljs-keyword">while</span> (tmp) {
                <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_thread</span> *from;

                <span class="hljs-built_in">spin_lock</span>(&amp;tmp-&gt;lock);
                from = tmp-&gt;from;
                <span class="hljs-keyword">if</span> (from &amp;&amp; from-&gt;proc == target_proc) {
                    <span class="hljs-built_in">atomic_inc</span>(&amp;from-&gt;tmp_ref);
                    target_thread = from;
                    <span class="hljs-built_in">spin_unlock</span>(&amp;tmp-&gt;lock);
                    is_nested = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span>;
                }
                <span class="hljs-built_in">spin_unlock</span>(&amp;tmp-&gt;lock);
                tmp = tmp-&gt;from_parent;
            }
        }
    }
}
</code></pre>
<p>å› ä¸ºè°ƒç”¨æ ˆ</p>
<pre><code class="hljs language-cpp" lang="cpp">Nfc::<span class="hljs-built_in">open</span>()
<span class="hljs-built_in">Vendor_hal_open</span>()
    <span class="hljs-built_in">p_nfc_stack_cback</span>(HAL_NFC_OPEN_CPLT_EVT, HAL_NFC_STATUS_OK)
Nfc::<span class="hljs-built_in">eventCallback</span>()
INfcClientCallback::<span class="hljs-built_in">sendEvent</span>()
</code></pre>
<p>è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œ, ä¹Ÿå°±æ˜¯æ¥æ”¶ Nfc::open() è°ƒç”¨å’Œå‘èµ· INfcClientCallback::sendEvent() è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ª binder_thread, æ‰€ä»¥ binder_transaction() é‡Œçš„ thread-&gt;transaction_stack ä¸ä¸ºç©ºäº†, thread-&gt;transaction_stack ä¸º Nfc::open() å‘èµ·ç«¯åˆ›å»ºçš„ binder_transaction ,æœ€åè·å–åˆ°çš„ target_thread = from ä¹Ÿå°±æ˜¯å‘èµ· Nfc::open() è°ƒç”¨çš„çº¿ç¨‹, å³ <code>com.android.nfc</code> ä¸­ <code>NfcAdaptation::DownloadFirmware()</code> æ‰€åœ¨çš„çº¿ç¨‹ã€‚è‡³æ­¤, æ–‡é¦–æ‰€è¯´çš„ <code>NfcAdaptation::DownloadFirmware()</code>å’Œ <code>NfcAdaptation::HalDownloadFirmwareCallback()</code> è·‘åœ¨åŒä¸€ä¸ªçº¿ç¨‹çš„æ ¹æœ¬åŸå› ç»ˆäºæ‰¾åˆ°äº†ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªè§£å†³ NfcAdaptation::DownloadFirmware() å’Œ NfcAdaptation::HalDownloadFirmwareCallback() è·‘åœ¨åŒä¸€ä¸ªçº¿ç¨‹çš„æ–¹æ³•æ˜¯åœ¨ INfc æœåŠ¡ç«¯ android.hardware.nfc-service.example ä¸­å¦èµ·ä¸€ä¸ªçº¿ç¨‹æ¥å‘èµ· INfcClientCallback å›è°ƒï¼Œå¦èµ·ä¸€ä¸ªçº¿ç¨‹å°±ä¼šæ–°åˆ›ä¸€ä¸ª binder_transaction æ¥åš thread-&gt;transaction_stack, ä¸ä¼šç”¨åˆ° Nfc::open() å‘èµ·ç«¯åˆ›å»ºçš„ binder_transaction, æ­¤æ—¶ target_thread ä¸º NULL, å°±ä¼šåœ¨ binder_proc_transaction() èµ° binder_select_thread_ilocked() å»æ‰¾ com.android.nfc çš„å¦ä¸€ä¸ª binder çº¿ç¨‹æ¥æ¥æ”¶è°ƒç”¨ã€‚ è¯¥æ–¹æ³•ä¹Ÿæ˜¯ nxp ç­‰å‚å®¶çš„ INfc æœåŠ¡ç«¯å®ç°ä»£ç é‡Œæ‰€ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ä¸»çº¿ NfcAdaptation ä»£ç å¯ä»¥æ­£å¸¸é€‚é…ç°æœ‰çš„ nxp ç­‰å‚å®¶çš„ INfc æœåŠ¡ç«¯å®ç°ã€‚</p>
<p>å†å¾€ä¸‹å°±æ˜¯åˆ›å»ºæ–°çš„ binder_transaction, æŠŠ target_proc, target_thread, code, target_node ç­‰å…³é”®æ•°æ®æ‰“åŒ…è¿› binder_transaction:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">binder_transaction</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_proc *proc,
                   <span class="hljs-keyword">struct</span> binder_thread *thread,
                   <span class="hljs-keyword">struct</span> binder_transaction_data *tr, <span class="hljs-type">int</span> reply,
                   <span class="hljs-type">binder_size_t</span> extra_buffers_size)</span>
</span>{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_transaction</span> *t;

    t = <span class="hljs-built_in">kzalloc</span>(<span class="hljs-built_in">sizeof</span>(*t), GFP_KERNEL);

    t-&gt;to_proc = target_proc;
    t-&gt;to_thread = target_thread;
    t-&gt;code = tr-&gt;code;
    t-&gt;flags = tr-&gt;flags;
    t-&gt;buffer-&gt;debug_id = t-&gt;debug_id;
    t-&gt;buffer-&gt;transaction = t;
    t-&gt;buffer-&gt;target_node = target_node;
}
</code></pre>
<p>ç„¶ååˆæ˜¯ binder_proc_transaction() æŠŠæ‰“åŒ…å¥½ binder_transaction å‘ç»™ target_proc target_threadã€‚</p>
<h5 data-id="heading-24">æ¥æ”¶ç«¯</h5>
<h6 data-id="heading-25">binder_thread_read()</h6>
<p>com.android.nfc ä¸­ <code>NfcAdaptation::DownloadFirmware()</code> æ‰€åœ¨çš„çº¿ç¨‹è¢« binder_proc_transaction() å”¤é†’å, åœ¨ binder_wait_for_work() ä¸­é†’æ¥, é€€å‡ºåˆ° binder_thread_read():</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">binder_thread_read</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> binder_proc *proc,
                  <span class="hljs-keyword">struct</span> binder_thread *thread,
                  <span class="hljs-type">binder_uintptr_t</span> binder_buffer, <span class="hljs-type">size_t</span> size,
                  <span class="hljs-type">binder_size_t</span> *consumed, <span class="hljs-type">int</span> non_block)</span>
</span>{
    <span class="hljs-keyword">if</span> (non_block) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">binder_has_work</span>(thread, wait_for_proc_work))
            ret = -EAGAIN;
    } <span class="hljs-keyword">else</span> {
        ret = <span class="hljs-built_in">binder_wait_for_work</span>(thread, wait_for_proc_work);
    }

        <span class="hljs-keyword">if</span> (t-&gt;buffer-&gt;target_node) {
            <span class="hljs-keyword">struct</span> <span class="hljs-title class_">binder_node</span> *target_node = t-&gt;buffer-&gt;target_node;

            trd-&gt;target.ptr = target_node-&gt;ptr;
            trd-&gt;cookie =  target_node-&gt;cookie;
            <span class="hljs-built_in">binder_transaction_priority</span>(thread, t, target_node);
            cmd = BR_TRANSACTION;
        } 
}
</code></pre>
<p>ç„¶åå–å‡º binder_proc_transaction() å¡«å…¥çš„ t-&gt;buffer-&gt;target_node, æŠŠ target_node-&gt;cookie èµ‹å€¼ç»™ trd-&gt;cookie, æœ€åé€šè¿‡ copy_to_user() ä¼ ç»™åº”ç”¨å±‚ä»£ç ã€‚è¿™ä¸ª cookie çš„å€¼å°±æ˜¯ NfcAdaptation::HalOpen() è°ƒç”¨ mAidlHal-&gt;open(mAidlCallback) å¾€ binder é©±åŠ¨ä¼ é€’çš„æœ€åŸå§‹çš„ NfcAdaptation.mAidlCallback æŒ‡é’ˆï¼Œç°åœ¨å›ä¼ ç»™ NfcAdaptation, è¡¨ç¤ºè¦è°ƒç”¨ NfcAdaptation.mAidlCallback é‡Œçš„æˆå‘˜å‡½æ•°äº†ã€‚</p>
<h6 data-id="heading-26">è¿”å›åº”ç”¨å±‚</h6>
<p>com.android.nfc ä¸­ NfcAdaptation::DownloadFirmware() æ‰€åœ¨çš„çº¿ç¨‹æ”¶åˆ°æ•°æ®å, åº”ç”¨å±‚ä»£ç ä¹Ÿä» IPCThreadState::talkWithDriver() ä¸­çš„ <code>ioctl()</code> é†’æ¥ï¼Œé€€å‡º IPCThreadState::talkWithDriver() æ¥åˆ° IPCThreadState::executeCommand() èµ°</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">reinterpret_cast</span>&lt;BBinder*&gt;(tr.cookie)-&gt;<span class="hljs-built_in">transact</span>(tr.code, buffer,
                            &amp;reply, tr.flags)
</code></pre>
<p>æ¥ç€æŒ‰ä¸€ä¸‹è°ƒç”¨é“¾èµ°å‘ NfcAdaptation::HalDownloadFirmwareCallback():</p>
<pre><code class="hljs language-cpp" lang="cpp">BBinder::<span class="hljs-built_in">transact</span>()
ABBinder::<span class="hljs-built_in">onTransact</span>()
aidl::android::hardware::nfc::_aidl_android_hardware_nfc_INfcClientCallback_onTransact()
NfcAidlClientCallback::<span class="hljs-built_in">sendEvent</span>()
NfcAdaptation::<span class="hljs-built_in">HalDownloadFirmwareCallback</span>()
</code></pre>
<h2 data-id="heading-27">æ€»ç»“</h2>
<p>è‡³æ­¤, æˆ‘ä»¬åˆ†æäº† NfcAdaptation::DownloadFirmware() åˆ° INfc::open() æœåŠ¡ç«¯å®ç°ï¼Œ å†ä» INfc æœåŠ¡ç«¯å›è°ƒ INfcClientCallback æœ€ç»ˆèµ°åˆ° NfcAdaptation::HalDownloadFirmwareCallback() çš„æ•´ä¸ª binder é€šä¿¡æµç¨‹ï¼Œä¹Ÿå¼„æ¸…æ¥šäº† NfcAdaptation::DownloadFirmware()å’Œ NfcAdaptation::HalDownloadFirmwareCallback() è·‘åœ¨åŒä¸€ä¸ªçº¿ç¨‹çš„æ ¹æœ¬åŸå› ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Xcode 26è¿˜æ²¡æœ‰é€‚é…SceneDelegateçš„appå»ºè®®å°½æ—©é€‚é…]]></title>    <link>https://juejin.cn/post/7585406229167669298</link>    <guid>https://juejin.cn/post/7585406229167669298</guid>    <pubDate>2025-12-19T11:35:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406229167669298" data-draft-id="7585180775705886747" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Xcode 26è¿˜æ²¡æœ‰é€‚é…SceneDelegateçš„appå»ºè®®å°½æ—©é€‚é…"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2025-12-19T11:35:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wvy"/> <meta itemprop="url" content="https://juejin.cn/user/2269819229978381"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Xcode 26è¿˜æ²¡æœ‰é€‚é…SceneDelegateçš„appå»ºè®®å°½æ—©é€‚é…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2269819229978381/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wvy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T11:35:15.000Z" title="Fri Dec 19 2025 11:35:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Xcode 26ä¹‹å‰ä¸éœ€è¦å¤šçª—å£çš„å¾ˆå¤šappæ²¡æœ‰é€‚é…SceneDelegateï¼Œå‡çº§åˆ°Xcode 26åè¿è¡Œæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æ§åˆ¶å°æœ‰ä»¥ä¸‹è¾“å‡ºï¼š</p>
<pre><code class="hljs language-swift" lang="swift">`UIScene` lifecycle will soon be <span class="hljs-keyword">required</span>. <span class="hljs-type">Failure</span> to adopt will result <span class="hljs-keyword">in</span> an assert <span class="hljs-keyword">in</span> the future.
</code></pre>
<p>UIApplicationDelegate ä¸­çš„ç›¸å…³ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹Ÿæœ‰å¼ƒç”¨æ ‡è®°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/// Tells the delegate that the application has become active </span>
<span class="hljs-comment">/// - <span class="hljs-doctag">Note:</span> This method is not called if `UIScene` lifecycle has been adopted. </span>
- (void)applicationDidBecomeActive:(UIApplication *)application <span class="hljs-built_in">API_DEPRECATED</span>(<span class="hljs-string">"Use UIScene lifecycle and sceneDidBecomeActive(_:) from UISceneDelegate or the UIApplication.didBecomeActiveNotification instead."</span>, <span class="hljs-built_in">ios</span>(<span class="hljs-number">2.0</span>, <span class="hljs-number">26.0</span>), <span class="hljs-built_in">tvos</span>(<span class="hljs-number">9.0</span>, <span class="hljs-number">26.0</span>), <span class="hljs-built_in">visionos</span>(<span class="hljs-number">1.0</span>, <span class="hljs-number">26.0</span>)) <span class="hljs-built_in">API_UNAVAILABLE</span>(watchos);
</code></pre>
<p><strong>å»ºè®®å°½æ—©é€‚é…</strong></p>
<h2 data-id="heading-0">æ–¹æ¡ˆä¸¾ä¾‹</h2>
<p>ä»¥ä¸‹æ˜¯æˆ‘çš„é€‚é…æ–¹æ¡ˆï¼Œä¾›å¤§å®¶å‚è€ƒ</p>
<ul>
<li>å…¼å®¹iOS13ä»¥ä¸‹ç‰ˆæœ¬ï¼›</li>
<li>appåªæœ‰å•çª—å£åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-1">1. é…ç½®Info.plist</h3>
<p>Delegate Class Nameå’ŒConfiguration Name å¯è‡ªå®šä¹‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/743e340f7e8c40c0b61676235db67f33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3Z5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766748914&amp;x-signature=ufFG9YFKt%2Bfk4gkA7ms6KRZwxfE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">2. é…ç½®SceneDelegate</h3>
<ul>
<li>åˆ›å»ºSceneDelegate class ç±»åè¦å’ŒInfo.plistä¸­é…ç½®ä¸€è‡´</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbea89727ca84065b8efe79f8433fbf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3Z5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766748914&amp;x-signature=zkKLnumLJa1clPgnNZzDDFpY%2FfE%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>appDelegateä¸­å®ç°ä»£ç†</li>
</ul>

<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-built_in">UISceneConfiguration</span> *)application:(<span class="hljs-built_in">UIApplication</span> *)application configurationForConnectingSceneSession:(<span class="hljs-built_in">UISceneSession</span> *)connectingSceneSession options:(<span class="hljs-built_in">UISceneConnectionOptions</span> *)optionsÂ  API_AVAILABLE(ios(<span class="hljs-number">13.0</span>)){
   <span class="hljs-comment">//  nameè¦å’ŒInfo.plistä¸­é…ç½®ä¸€è‡´</span>
Â  <span class="hljs-keyword">return</span> [[<span class="hljs-built_in">UISceneConfiguration</span> alloc] initWithName:<span class="hljs-string">@"Default Configuration"</span> sessionRole:connectingSceneSession.role];
}

- (<span class="hljs-type">void</span>)application:(<span class="hljs-built_in">UIApplication</span> *)application didDiscardSceneSessions:(<span class="hljs-built_in">NSSet</span>&lt;<span class="hljs-built_in">UISceneSession</span> *&gt; *)sceneSessionsÂ  API_AVAILABLE(ios(<span class="hljs-number">13.0</span>)){
  <span class="hljs-comment">// é‡Šæ”¾èµ„æºï¼Œå•çª—å£appä¸ç”¨å…³æ³¨</span>
}
</code></pre>
<h3 data-id="heading-3">3. æ–°å»ºå•ä¾‹ AppLifecycleHelper å®ç°AppDelegateå’ŒSceneDelgateå…±äº«çš„æ–¹æ³•</h3>
<ul>
<li>iOS 13 åŠä»¥ä¸Šéœ€è¦åœ¨<code>scene: willConnectToSession: options:</code> æ–¹æ³•ä¸­åˆ›å»ºWindowï¼Œä¹‹å‰ä»ç„¶åœ¨ <code>didFinishLaunchingWithOptions:</code></li>
</ul>
<p>AppDelegate:</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">-</span> (BOOL)<span class="hljs-selector-tag">application</span>:(UIApplication *)<span class="hljs-selector-tag">application</span> <span class="hljs-selector-tag">didFinishLaunchingWithOptions</span>:(NSDictionary *)<span class="hljs-selector-tag">launchOptions</span> {
Â  Â  <span class="hljs-selector-attr">[AppLifecycleHelper sharedInstance]</span><span class="hljs-selector-class">.launchOptions</span> = <span class="hljs-selector-tag">launchOptions</span>;
     <span class="hljs-comment">// ... è‡ªå®šä¹‰é€»è¾‘</span>
Â  Â  <span class="hljs-selector-tag">if</span> (<span class="hljs-variable">@available</span>(iOS <span class="hljs-number">13</span>, *)) {
 
Â  Â  } <span class="hljs-selector-tag">else</span> {
Â  Â  Â  Â  <span class="hljs-selector-attr">[[AppLifecycleHelper sharedInstance]</span> <span class="hljs-selector-tag">createKeyWindow</span>];
Â  Â  }
}
</code></pre>
<p>SceneDelgate:</p>
<p>URLå†·å¯åŠ¨APPæ—¶ä¸è°ƒç”¨<code>openURLContexts</code>æ–¹æ³•ï¼Œè¿™é‡Œä¿å­˜URLåœ¨<code>DidBecomeActive</code>å¤„ç†</p>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)scene:(<span class="hljs-built_in">UIScene</span> *)scene willConnectToSession:(<span class="hljs-built_in">UISceneSession</span> *)session options:(<span class="hljs-built_in">UISceneConnectionOptions</span> *)connectionOptionsÂ  API_AVAILABLE(ios(<span class="hljs-number">13.0</span>)){
Â  Â  [[AppLifecycleHelper sharedInstance] createKeyWindowWithScene:(<span class="hljs-built_in">UIWindowScene</span> *)scene];
Â  Â  <span class="hljs-comment">// é€šè¿‡urlå†·å¯åŠ¨appï¼Œä¸€èˆ¬åªæœ‰ä¸€ä¸ªurl </span>
Â  Â  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">UIOpenURLContext</span> *context **<span class="hljs-keyword">in</span>** connectionOptions.URLContexts) {
Â  Â  Â  Â  <span class="hljs-built_in">NSURL</span> *URL = context.URL;
Â  Â  Â  Â  <span class="hljs-keyword">if</span> (URL &amp;&amp; URL.absoluteString.length &gt; <span class="hljs-number">0</span>) {
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">self</span>.launchUrl = URL;
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>AppLifecycleHelper:</p>
<pre><code class="hljs language-AppLifecycleHelper" lang="AppLifecycleHelper">- (void)createKeyWindow {
Â  Â  UIWindow *window = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];
Â  Â  [self setupMainWindow:window];
}

- (void)createKeyWindowWithScene:(UIWindowScene *)scene API_AVAILABLE(ios(13.0)) {
Â  Â  UIWindow *window = [[UIWindow alloc] initWithWindowScene:scene];
Â  Â  [self setupMainWindow:window];
}

- (void)setupMainWindow:(UIWindow *)window {
}
</code></pre>
<ul>
<li>å®ç°SceneDelegateåappDelegate ä¸­å¤±æ•ˆçš„æ–¹æ³•</li>
</ul>
<p>åœ¨<code>AppLifecycleHelper</code>ä¸­å®ç°ï¼Œå…±äº«ç»™ä¸¤ä¸ªDelegateClass</p>
<pre><code class="hljs language-AppDelegate" lang="AppDelegate">- (void)applicationDidBecomeActive:(UIApplication *)application {
    [[AppLifecycleHelper sharedInstance] appDidBecomeActive];
}

- (void)applicationWillResignActive:(UIApplication *)application {

}

- (void)applicationDidEnterBackground:(UIApplication *)application {

}

- (void)applicationWillEnterForeground:(UIApplication *)application {

}
  
 /// URL Scheme
- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey, **id**&gt; *)options {

}

/// æ¥åŠ›ç”¨æˆ·æ´»åŠ¨
- (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity restorationHandler:(void (^)(NSArray&lt;**id**&lt;UIUserActivityRestoring&gt;&gt; * _Nullable))restorationHandler {

}

/// å¿«æ·æ–¹å¼ç‚¹å‡»
- (void)application:(UIApplication *)application performActionForShortcutItem:(UIApplicationShortcutItem *)shortcutItem completionHandler:(void (^)(BOOL))completionHandler API_AVAILABLE(ios(9.0)) {
}
</code></pre>
<p>SceneDelegateéƒ¨åˆ†ä»£ç ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-SceneDelegate" lang="SceneDelegate">
- (void)sceneDidBecomeActive:(UIScene *)sceneÂ  API_AVAILABLE(ios(13.0)){
Â  Â  [[AppLifecycleHelper sharedInstance] appDidBecomeActiveWithLaunchUrl:self.launchUrl];
    // æ¸…ç©ºå†·å¯åŠ¨æ—¶çš„url
    self.launchUrl = nil;
}
</code></pre>
<p><strong>è¿™ä¸ªæ–¹æ³•æ€»ç»“ä¸‹æ¥å°±æ˜¯æ±‚åŒå­˜å¼‚ï¼Œç”±Helperæä¾›SceneDelegateä¸AppDelegateç›¸åŒæˆ–ç±»ä¼¼çš„æ–¹æ³•ï¼Œé€‚åˆå•çª—å£ã€ä¸”æ”¯æŒiOS 13ä»¥ä¸‹çš„appï¼›</strong></p>
<p><strong>å¦å¤–æ³¨æ„<code>URL Scheme</code>å†·å¯åŠ¨appä¸ä¼šæ‰§è¡Œ<code>openURL</code>éœ€è¦è®°å½•URLï¼Œåœ¨åˆé€‚çš„æ—¶æœºï¼ˆä¸€èˆ¬æ˜¯DidBecomeActiveï¼‰å¤„ç†ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰å‘ç°TensorBoardæ˜¯ä¸ªå¯è§†åŒ–çš„ç¥å™¨ï¼]]></title>    <link>https://juejin.cn/post/7585406229167816754</link>    <guid>https://juejin.cn/post/7585406229167816754</guid>    <pubDate>2025-12-19T13:00:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406229167816754" data-draft-id="7585410547336773682" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰å‘ç°TensorBoardæ˜¯ä¸ªå¯è§†åŒ–çš„ç¥å™¨ï¼"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-19T13:00:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="coting"/> <meta itemprop="url" content="https://juejin.cn/user/933911964427818"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰å‘ç°TensorBoardæ˜¯ä¸ªå¯è§†åŒ–çš„ç¥å™¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/933911964427818/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    coting
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T13:00:21.000Z" title="Fri Dec 19 2025 13:00:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ·±åº¦å­¦ä¹ çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦<strong>ç›´è§‚åœ°è§‚å¯Ÿæ¨¡å‹çš„è®­ç»ƒæ›²çº¿ã€å‚æ•°å˜åŒ–ã€ç½‘ç»œç»“æ„ä»¥åŠä¸­é—´ç‰¹å¾å›¾</strong>ï¼Œè€Œä¸æ˜¯ç›²ç›®åœ°çœ‹ loss æ•°å­—ã€‚ä¹‹å‰çŸ¥é“TensorBoardè¿™ä¸ªå·¥å…·ï¼Œä¹Ÿç”¨è¿‡ï¼Œä½†ç ”ç©¶ä¹‹åæ‰å‘ç°è¿™ç©æ„è¿™ä¹ˆå¥½ç”¨ï¼</p>
<p>å®ƒæ˜¯ <strong>TensorFlow å®˜æ–¹æ¨å‡ºçš„å¯è§†åŒ–å·¥å…·</strong>ï¼Œä½†å¦‚ä»Š PyTorchã€JAXã€MindSpore ç­‰æ¡†æ¶ä¹Ÿå·²å…¨é¢å…¼å®¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eacd08cd43fe4b9fb4ddf14e5f869fa7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754020&amp;x-signature=1CC2NHX1ErtNc%2Fxx8r5ANSmRVI0%3D" alt="" loading="lazy"/></p>
<p>æ— è®ºä½ æ˜¯è°ƒè¯•æ¨¡å‹è¿˜æ˜¯å±•ç¤ºå®éªŒç»“æœï¼ŒTensorBoard éƒ½èƒ½è®©ä½ äº‹åŠåŠŸå€ã€‚</p>
<p>æ‰€æœ‰ç›¸å…³æºç ç¤ºä¾‹ã€æµç¨‹å›¾ã€æ¨¡å‹é…ç½®ä¸çŸ¥è¯†åº“æ„å»ºæŠ€å·§ï¼Œæˆ‘ä¹Ÿå°†æŒç»­æ›´æ–°åœ¨Githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faicoting%2FLLMHub" target="_blank" title="https://github.com/aicoting/LLMHub" ref="nofollow noopener noreferrer"><strong>LLMHub</strong></a>ï¼Œæ¬¢è¿å…³æ³¨æ”¶è—ï¼</p>
<h2 data-id="heading-0">ä¸€ã€å®‰è£…ä¸å¯åŠ¨</h2>
<p>TensorBoard çš„å®‰è£…éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install tensorboard
</code></pre>
<p>å¯åŠ¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">tensorboard --logdir=./runs --port=6006
</code></pre>
<p>ç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">http://localhost:6006
</code></pre>
<p>æç¤ºï¼š<code>--logdir</code> æŒ‡å‘ä½ ä¿å­˜æ—¥å¿—çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œæ¯”å¦‚ PyTorch é»˜è®¤ä¿å­˜åˆ° <code>runs/</code> ä¸‹ã€‚</p>
<h2 data-id="heading-1">äºŒã€åœ¨ PyTorch ä¸­ä½¿ç”¨ TensorBoard</h2>
<h3 data-id="heading-2">åˆå§‹åŒ– SummaryWriter</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> torch.utils.tensorboard <span class="hljs-keyword">import</span> SummaryWriter

writer = SummaryWriter(log_dir=<span class="hljs-string">"./runs/exp1"</span>)
</code></pre>
<p>è¿™è¡Œä»£ç å°±ä¼šåˆ›å»ºä¸€ä¸ªç”¨äºå†™å…¥æ—¥å¿—çš„å¯¹è±¡ï¼Œ<code>exp1</code> æ˜¯å®éªŒåç§°ã€‚</p>
<h3 data-id="heading-3">è®°å½•è®­ç»ƒæŒ‡æ ‡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):
    train_loss = <span class="hljs-number">0.1</span> * epoch
    val_acc = <span class="hljs-number">0.8</span> + <span class="hljs-number">0.02</span> * epoch
    writer.add_scalar(<span class="hljs-string">"Loss/train"</span>, train_loss, epoch)
    writer.add_scalar(<span class="hljs-string">"Accuracy/val"</span>, val_acc, epoch)
</code></pre>
<p>æ‰“å¼€ TensorBoard åï¼Œå°±èƒ½çœ‹åˆ°æ¼‚äº®çš„æŠ˜çº¿å›¾å•¦ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e1772ad47fb4473bc6c9b54100cda02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754020&amp;x-signature=pf%2Byeb1l2uvO7nvW0iLq%2BNMOdlw%3D" alt="" loading="lazy"/></p>
<p><strong>Scalars</strong> é€‰é¡¹å¡ç”¨äºå±•ç¤ºæŸå¤±å‡½æ•°ã€å‡†ç¡®ç‡ç­‰æŒ‡æ ‡éš epoch çš„å˜åŒ–è¶‹åŠ¿ã€‚</p>
<h3 data-id="heading-4">å¯è§†åŒ–æ¨¡å‹ç»“æ„</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># === å®šä¹‰ä¸€ä¸ªç®€å•çš„ MLP æ¨¡å‹ ===</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MLP</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>(MLP, self).__init__()
        self.fc1 = nn.Linear(<span class="hljs-number">28</span>*<span class="hljs-number">28</span>, <span class="hljs-number">128</span>)
        self.fc2 = nn.Linear(<span class="hljs-number">128</span>, <span class="hljs-number">64</span>)
        self.fc3 = nn.Linear(<span class="hljs-number">64</span>, <span class="hljs-number">10</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        x = x.view(-<span class="hljs-number">1</span>, <span class="hljs-number">28</span>*<span class="hljs-number">28</span>)
        x = torch.relu(self.fc1(x))
        x = torch.relu(self.fc2(x))
        x = self.fc3(x)
        <span class="hljs-keyword">return</span> x

model = MLP()
criterion = nn.CrossEntropyLoss()
optimizer = optim.Adam(model.parameters(), lr=<span class="hljs-number">0.001</span>)

<span class="hljs-comment"># === æ¨¡å‹ç»“æ„å¯è§†åŒ– ===</span>
dummy_input = torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>)
writer.add_graph(model, dummy_input)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1962bac1a59940c1a73f165666b718f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754020&amp;x-signature=4QKRJypQw9DjFTYDAiYAB8543ec%3D" alt="" loading="lazy"/></p>
<p>åœ¨ TensorBoard çš„ <strong>Graphs</strong> é¡µé¢ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ç½‘ç»œçš„è®¡ç®—å›¾ç»“æ„ï¼Œå¸®åŠ©ä½ æ’æŸ¥æ¨¡å‹æ‹¼æ¥æˆ–æ¢¯åº¦ä¼ é€’é”™è¯¯ï¼Œè¿™ä¸ªç¡®å®è¶³å¤Ÿä¼˜ç§€äº†ï¼Œç”»å‡ºæ¥çš„æ¨¡å‹ç»“æ„ä¹Ÿå¾ˆæ¸…æ™°ã€‚</p>
<h3 data-id="heading-5">å¯è§†åŒ–ç‰¹å¾å›¾ï¼ˆFeature Mapsï¼‰</h3>
<p>å‡è®¾æˆ‘ä»¬åœ¨å·ç§¯å±‚ä¹‹åæƒ³çœ‹çœ‹æ¨¡å‹æå–äº†ä»€ä¹ˆç‰¹å¾ï¼š</p>
<pre><code class="hljs language-python" lang="python">images = torch.randn(<span class="hljs-number">16</span>, <span class="hljs-number">3</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>)
writer.add_images(<span class="hljs-string">"Input Images"</span>, images, <span class="hljs-number">0</span>)
</code></pre>
<p>å¯¹äºç‰¹å¾å›¾ï¼Œå¯ä»¥é€šè¿‡ <code>make_grid</code> æ‹¼æ¥åå†™å…¥ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> torchvision.utils <span class="hljs-keyword">import</span> make_grid

feature_maps = torch.randn(<span class="hljs-number">16</span>, <span class="hljs-number">1</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>)
grid = make_grid(feature_maps, nrow=<span class="hljs-number">4</span>, normalize=<span class="hljs-literal">True</span>)
writer.add_image(<span class="hljs-string">"Feature Maps"</span>, grid, <span class="hljs-number">0</span>)
</code></pre>
<p>è¿™åœ¨è°ƒè¯• CNN æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d4fd8ce75b740e99a6b7f5aab7d658d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754020&amp;x-signature=DBfLgQqjZ30zxBXhUnRNySU3gLo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">ä¸‰ã€é«˜çº§åŠŸèƒ½ä¸æŠ€å·§</h2>
<h3 data-id="heading-7">Embedding å¯è§†åŒ–ï¼ˆé«˜ç»´ç‰¹å¾é™ç»´ï¼‰</h3>
<p>åœ¨æ¨¡å‹è®­ç»ƒç»“æŸåï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ TensorBoard æ¥æŸ¥çœ‹é«˜ç»´å‘é‡çš„åˆ†å¸ƒï¼ˆå¸¸ç”¨äºå¯è§†åŒ–è¯å‘é‡ã€å›¾åƒç‰¹å¾ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
features = np.random.rand(<span class="hljs-number">100</span>, <span class="hljs-number">128</span>)
labels = [<span class="hljs-string">f"class_<span class="hljs-subst">{i%<span class="hljs-number">10</span>}</span>"</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>)]

writer.add_embedding(features, metadata=labels, tag=<span class="hljs-string">"Embedding_demo"</span>)
</code></pre>
<p>æ‰“å¼€ <strong>Projector</strong> é¡µé¢ï¼Œå°±èƒ½çœ‹åˆ°ç‚¹äº‘åˆ†å¸ƒåŠç±»åˆ«åŒºåˆ†æƒ…å†µï¼Œè¿™é‡Œè®©æˆ‘æŒºéœ‡æƒŠçš„ï¼Œä»–æ˜¯<strong>ä¸‰ç»´åŠ¨ç”»å½¢å¼</strong>çš„ï¼Œå¦‚æœæ•°æ®é‡å†å¤§ä¸€äº›æˆ‘æƒ³åº”è¯¥ä¼šéå¸¸ä¼˜ç¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1970e9c143ba44289b75f0e989442cfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754020&amp;x-signature=My%2Bqm5mImOUiM4IJLqz%2BpZgUbtI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">è¶…å‚æ•°è¿½è¸ªï¼ˆHParamsï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># === è¶…å‚æ•°è®°å½• ===</span>
writer.add_hparams(
    {<span class="hljs-string">'lr'</span>: <span class="hljs-number">0.001</span>, <span class="hljs-string">'batch_size'</span>: <span class="hljs-number">64</span>, <span class="hljs-string">'epochs'</span>: epochs},
    {<span class="hljs-string">'accuracy'</span>: test_acc, <span class="hljs-string">'loss'</span>: test_loss}
)
</code></pre>
<p>è¿™æ ·ä½ å¯ä»¥åœ¨ TensorBoard çš„ <strong>HParams</strong> é€‰é¡¹å¡ä¸­å¯¹æ¯”ä¸åŒå®éªŒå‚æ•°çš„è¡¨ç°ï¼Œéå¸¸é€‚åˆè°ƒå‚é˜¶æ®µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/095e41bc1421419ebdfb12cbbb705696~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754020&amp;x-signature=ih%2B8lcu6KOdihCPESFaXGc2NX6Q%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">è®°å½•æ··æ·†çŸ©é˜µ</h3>
<pre><code class="hljs language-python" lang="python">cm = confusion_matrix(all_targets, np.array(all_preds).flatten())
fig, ax = plt.subplots(figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>))
sns.heatmap(cm, annot=<span class="hljs-literal">True</span>, fmt=<span class="hljs-string">"d"</span>, cmap=<span class="hljs-string">"Blues"</span>, ax=ax)
ax.set_xlabel(<span class="hljs-string">"Predicted"</span>)
ax.set_ylabel(<span class="hljs-string">"True"</span>)
writer.add_figure(<span class="hljs-string">"Confusion Matrix"</span>, fig)
</code></pre>
<p>è¿™ç§æ–¹å¼æ¯”å•çº¯æ‰“å°çŸ©é˜µæ›´ç›´è§‚ï¼Œæˆ‘ä»¬å¹³æ—¶çœ‹çš„å¾ˆå¤šè®ºæ–‡å°±æœ‰è¿™ç§å›¾åƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8fa067fc22545059220c6e44b823d36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766754020&amp;x-signature=10cR3QOS6WvYsvj4k9SaW7nuC2s%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">å¯¹æ¯”å¤šæ¬¡å®éªŒ</h3>
<p>å¤šä¸ªå®éªŒåªéœ€å†™å…¥ä¸åŒç›®å½•å³å¯ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">runs/
 â”œâ”€â”€ exp_lr_1e-3/
 â”œâ”€â”€ exp_lr_1e-4/
 â””â”€â”€ exp_lr_5e-4/
</code></pre>
<p>TensorBoard ä¼šè‡ªåŠ¨åŠ è½½æ‰€æœ‰å®éªŒçš„æŒ‡æ ‡ï¼Œæ–¹ä¾¿å¯¹æ¯”æ›²çº¿è¶‹åŠ¿ã€‚</p>
<p>ä½†æ˜¯TensorBoardä¹Ÿä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚å½“æ—¥å¿—å¤ªå¤šæ—¶å°±ä¼šå¯¼è‡´åŠ è½½é€Ÿåº¦æ…¢ï¼Œæ‰€ä»¥å°±éœ€è¦æˆ‘ä»¬å®šæœŸæ¸…ç† <code>runs</code></p>
<p>æ–‡ä»¶å¤¹ï¼Œæˆ–ä½¿ç”¨ <code>--samples_per_plugin</code>é™åˆ¶åŠ è½½æ•°é‡ã€‚</p>
<p>TensorBoard æ˜¯æ·±åº¦å­¦ä¹ å·¥ç¨‹å¸ˆçš„å¿…å¤‡å·¥å…·ã€‚å®ƒä¸ä»…èƒ½è®©è®­ç»ƒè¿‡ç¨‹ã€Œçœ‹å¾—è§ã€ï¼Œè¿˜èƒ½å¸®åŠ©æˆ‘ä»¬<strong>è°ƒè¯•ç½‘ç»œç»“æ„ã€åˆ†ææ”¶æ•›è¶‹åŠ¿ä¸å¼‚å¸¸ç‚¹ã€è¿½è¸ªå‚æ•°ä¸ç‰¹å¾å˜åŒ–ã€å±•ç¤ºå®éªŒç»“æœä¸æ¨¡å‹å¯è§£é‡Šæ€§ã€‚</strong></p>
<p>ä¼šè·‘æ¨¡å‹å¾ˆé‡è¦ï¼Œä½†æ˜¯ä¼šä½¿ç”¨å¯è§†åŒ–å·¥å…·åŒç­‰é‡è¦ï¼Œæ¯•ç«Ÿå¯ä»¥å¤§å¹…æå‡æˆ‘ä»¬å¤„ç†æ•°æ®çš„é€Ÿåº¦ï¼Œå¸®åŠ©æˆ‘ä»¬è¿¸å‘æ–°çš„idea!</p>
<p>å…³äºæ·±åº¦å­¦ä¹ å’Œå¤§æ¨¡å‹ç›¸å…³çš„çŸ¥è¯†å’Œå‰æ²¿æŠ€æœ¯æ›´æ–°ï¼Œè¯·å…³æ³¨å…¬ä¼—å·cotingï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PHP ä¹‹é«˜çº§é¢å‘å¯¹è±¡ç¼–ç¨‹ æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼ã€åŸåˆ™ä¸æ€§èƒ½ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7585397173022736403</link>    <guid>https://juejin.cn/post/7585397173022736403</guid>    <pubDate>2025-12-19T23:46:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585397173022736403" data-draft-id="7585382553289916452" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" PHP ä¹‹é«˜çº§é¢å‘å¯¹è±¡ç¼–ç¨‹ æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼ã€åŸåˆ™ä¸æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="keywords" content="åç«¯,PHP"/> <meta itemprop="datePublished" content="2025-12-19T23:46:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             PHP ä¹‹é«˜çº§é¢å‘å¯¹è±¡ç¼–ç¨‹ æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼ã€åŸåˆ™ä¸æ€§èƒ½ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T23:46:30.000Z" title="Fri Dec 19 2025 23:46:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PHP ä¹‹é«˜çº§é¢å‘å¯¹è±¡ç¼–ç¨‹ æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼ã€åŸåˆ™ä¸æ€§èƒ½ä¼˜åŒ–</h2>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆObject-Oriented Programming, OOPï¼‰ä¸åªæ˜¯â€œå¦‚ä½•å†™ classâ€çš„è¯­æ³•è§„åˆ™ã€‚å®ƒæ›´åƒä¸€ç§ç»„ç»‡è½¯ä»¶ç³»ç»Ÿçš„æ€ç»´æ–¹å¼ï¼šé€šè¿‡æ¸…æ™°çš„è¾¹ç•Œã€èŒè´£æ‹†åˆ†ä¸å¯¹è±¡åä½œï¼Œè®©ç³»ç»Ÿæ›´å®¹æ˜“ç†è§£ã€æ‰©å±•å’Œç»´æŠ¤ã€‚</p>
<p>å½“ä½ å·²ç»æŒæ¡äº†ç±»ã€å¯¹è±¡ã€å±æ€§ã€æ–¹æ³•è¿™äº›åŸºç¡€æ¦‚å¿µä¹‹åï¼Œå°±å¯ä»¥æŠŠè§†è§’å¾€æ›´æ·±ä¸€å±‚æŒªä¸€æŒªï¼šè®¾è®¡æ¨¡å¼ã€SOLID åŸåˆ™ï¼Œä»¥åŠåœ¨å¤§å‹ç³»ç»Ÿé‡Œç»•ä¸å¼€çš„æ€§èƒ½ä¸å†…å­˜é—®é¢˜ã€‚</p>
<p>æœ¬æ–‡ä¼šå›´ç»•å‡ ä¸ªå¸¸è§ä¸»é¢˜å±•å¼€ï¼šç­–ç•¥æ¨¡å¼ä¸å•ä¾‹æ¨¡å¼ã€SOLID äº”åŸåˆ™ï¼Œä»¥åŠä¸å¯å˜å¯¹è±¡ä¸å†…å­˜ç®¡ç†ç›¸å…³çš„æ€§èƒ½è€ƒè™‘ã€‚å®ƒä»¬çš„ç›®çš„ä¸æ˜¯â€œç‚«æŠ€â€ï¼Œè€Œæ˜¯è®©çœŸå®é¡¹ç›®åœ¨åç»­è¿­ä»£ä¸­æ›´ç¨³ã€æ›´å¥½æ”¹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2025-12%2Fadvanced-object-oriented-programming-design-patterns-solid-performance" target="_blank" title="https://catchadmin.com/post/2025-12/advanced-object-oriented-programming-design-patterns-solid-performance" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥ PHP ä¹‹é«˜çº§é¢å‘å¯¹è±¡ç¼–ç¨‹ æ·±å…¥ç†è§£è®¾è®¡æ¨¡å¼ã€åŸåˆ™ä¸æ€§èƒ½ä¼˜åŒ–</a></p>
<h3 data-id="heading-1">é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„è®¾è®¡æ¨¡å¼</h3>
<p>è®¾è®¡æ¨¡å¼æ˜¯å¯¹è½¯ä»¶è®¾è®¡ä¸­å¸¸è§é—®é¢˜çš„å¯å¤ç”¨è§£å†³æ–¹æ¡ˆã€‚å®ƒä»¬ä¸æ˜¯ä»£ç æ¨¡æ¿ï¼Œè€Œæ˜¯å¯ä»¥åœ¨ä¸åŒåœºæ™¯ä¸‹è°ƒæ•´å’Œè½åœ°çš„ä¸€ç»„è®¾è®¡æ€è·¯ã€‚</p>
<h4 data-id="heading-2">ç­–ç•¥æ¨¡å¼ï¼šå°†ç®—æ³•ä¸ç±»è§£è€¦</h4>
<p>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰å¯ä»¥æŠŠä¸€ç»„å¯äº’æ¢çš„ç®—æ³•æŠ½å‡ºæ¥ï¼Œç”¨ç»Ÿä¸€çš„æ¥å£å¯¹å¤–æš´éœ²ï¼Œè®©ä½¿ç”¨æ–¹åœ¨è¿è¡Œæ—¶è‡ªç”±é€‰æ‹©å®ç°ï¼Œè€Œä¸éœ€è¦æŠŠå…·ä½“ç®—æ³•ç¡¬ç¼–ç è¿›ä¸šåŠ¡ç±»ã€‚</p>
<p>å½“ä½ å¸Œæœ›â€œæ ¹æ®æ¡ä»¶åˆ‡æ¢ç®—æ³•â€ï¼Œåˆä¸å¸Œæœ›è®©ä¸€ä¸ªç±»è†¨èƒ€åˆ°å¡æ»¡ <code>if/else</code> æ—¶ï¼Œç­–ç•¥æ¨¡å¼é€šå¸¸å¾ˆå¥½ç”¨ã€‚</p>
<p>ä»¥ç”µå•†æŠ˜æ‰£ä¸ºä¾‹ï¼šå¯èƒ½æœ‰â€œæ‰“æŠ˜â€â€œä¹°ä¸€é€ä¸€â€ç­‰ä¸åŒæŠ˜æ‰£ç­–ç•¥ã€‚å¦‚æœæŠŠæ‰€æœ‰æŠ˜æ‰£è§„åˆ™éƒ½å †åœ¨ <code>Cart</code> é‡Œï¼Œ<code>Cart</code> ä¼šè¶Šæ¥è¶Šéš¾ç»´æŠ¤ã€‚ç”¨ç­–ç•¥æ¨¡å¼åˆ™å¯ä»¥æŠŠæŠ˜æ‰£è®¡ç®—æ‹†åˆ°ä¸åŒç­–ç•¥ç±»é‡Œã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">DiscountStrategy</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">apply</span>(<span class="hljs-params"><span class="hljs-keyword">float</span> <span class="hljs-variable">$total</span></span>): <span class="hljs-title">float</span></span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PercentDiscount</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">DiscountStrategy</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> <span class="hljs-variable">$percent</span></span>) </span>{}

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">apply</span>(<span class="hljs-params"><span class="hljs-keyword">float</span> <span class="hljs-variable">$total</span></span>): <span class="hljs-title">float</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$total</span> * (<span class="hljs-number">1</span> - <span class="hljs-variable language_">$this</span>-&gt;percent);
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BuyOneGetOneFree</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">DiscountStrategy</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">apply</span>(<span class="hljs-params"><span class="hljs-keyword">float</span> <span class="hljs-variable">$total</span></span>): <span class="hljs-title">float</span> </span>{
        <span class="hljs-comment">// ç®€å•æ¨¡æ‹Ÿï¼šä¹°ä¸€é€ä¸€å³æ€»ä»·å‡åŠ</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$total</span> / <span class="hljs-number">2</span>;
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cart</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">array</span> <span class="hljs-variable">$items</span> = [];

    <span class="hljs-comment">// ä¾èµ–æ³¨å…¥ï¼šæ³¨å…¥ç­–ç•¥æ¥å£è€Œéå…·ä½“å®ç°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> DiscountStrategy <span class="hljs-variable">$strategy</span></span>) </span>{}

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addItem</span>(<span class="hljs-params"><span class="hljs-keyword">float</span> <span class="hljs-variable">$price</span></span>): <span class="hljs-title">void</span> </span>{
        <span class="hljs-variable language_">$this</span>-&gt;items[] = <span class="hljs-variable">$price</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">total</span>(<span class="hljs-params"/>): <span class="hljs-title">float</span> </span>{
        <span class="hljs-variable">$subtotal</span> = <span class="hljs-title function_ invoke__">array_sum</span>(<span class="hljs-variable">$this</span>-&gt;items);
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;strategy-&gt;<span class="hljs-title function_ invoke__">apply</span>(<span class="hljs-variable">$subtotal</span>);
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-variable">$cart</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cart</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PercentDiscount</span>(<span class="hljs-number">0.1</span>)); <span class="hljs-comment">// æ‰“ä¹æŠ˜</span>
<span class="hljs-variable">$cart</span>-&gt;<span class="hljs-title function_ invoke__">addItem</span>(<span class="hljs-number">100</span>);
<span class="hljs-variable">$cart</span>-&gt;<span class="hljs-title function_ invoke__">addItem</span>(<span class="hljs-number">200</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$cart</span>-&gt;<span class="hljs-title function_ invoke__">total</span>(); <span class="hljs-comment">// è¾“å‡º: 270</span>
</code></pre>
<p>è¿™é‡Œ <code>Cart</code> ä¸éœ€è¦çŸ¥é“â€œæŠ˜æ‰£æ€ä¹ˆç®—â€ï¼Œå®ƒåªä¾èµ–ä¸€ä¸ªæŠ½è±¡çš„ <code>DiscountStrategy</code>ã€‚æƒ³æ›´æ¢æŠ˜æ‰£è§„åˆ™ï¼Œåªè¦ä¼ å…¥ä¸åŒçš„ç­–ç•¥å®ç°å³å¯ï¼Œæ— éœ€ä¿®æ”¹ <code>Cart</code>ã€‚</p>
<h4 data-id="heading-3">å•ä¾‹æ¨¡å¼ï¼šç¡®ä¿åªæœ‰ä¸€ä¸ªå®ä¾‹</h4>
<p>å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ç”¨äºä¿è¯æŸä¸ªç±»åœ¨åº”ç”¨ç”Ÿå‘½å‘¨æœŸå†…åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚</p>
<p>å®ƒå¸¸ç”¨äºç®¡ç†å…±äº«èµ„æºï¼Œä¾‹å¦‚æ•°æ®åº“è¿æ¥ã€é…ç½®å¯¹è±¡ç­‰ï¼šè¿™ç±»å¯¹è±¡é€šå¸¸ä¸å¸Œæœ›è¢«é¢‘ç¹åˆ›å»ºï¼Œä¹Ÿä¸å¸Œæœ›å‡ºç°å¤šä¸ªå®ä¾‹å¯¼è‡´çŠ¶æ€ä¸ä¸€è‡´ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseConnection</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">static</span> ?DatabaseConnection <span class="hljs-variable">$instance</span> = <span class="hljs-literal">null</span>;

    <span class="hljs-comment">// ç§æœ‰åŒ–æ„é€ å‡½æ•°ï¼Œé˜²æ­¢å¤–éƒ¨ new</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"/>) </span>{
        <span class="hljs-keyword">echo</span> <span class="hljs-string">"è¿æ¥åˆ°æ•°æ®åº“...\n"</span>;
    }

    <span class="hljs-comment">// é˜²æ­¢å…‹éš†</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__clone</span>(<span class="hljs-params"/>) </span>{}

    <span class="hljs-comment">// é˜²æ­¢ååºåˆ—åŒ–</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__wakeup</span>(<span class="hljs-params"/>) </span>{
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">\Exception</span>(<span class="hljs-string">"Cannot unserialize singleton"</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getInstance</span>(<span class="hljs-params"/>): <span class="hljs-title">DatabaseConnection</span> </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">self</span>::<span class="hljs-variable">$instance</span> === <span class="hljs-literal">null</span>) {
            <span class="hljs-built_in">self</span>::<span class="hljs-variable">$instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">self</span>();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">self</span>::<span class="hljs-variable">$instance</span>;
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-variable">$db1</span> = <span class="hljs-title class_">DatabaseConnection</span>::<span class="hljs-title function_ invoke__">getInstance</span>();
<span class="hljs-variable">$db2</span> = <span class="hljs-title class_">DatabaseConnection</span>::<span class="hljs-title function_ invoke__">getInstance</span>();

<span class="hljs-title function_ invoke__">var_dump</span>(<span class="hljs-variable">$db1</span> === <span class="hljs-variable">$db2</span>); <span class="hljs-comment">// è¾“å‡º: bool(true)</span>
</code></pre>
<p>ä¸Šé¢ <code>DatabaseConnection</code> é€šè¿‡é‡å†™ <code>__new__</code> æ¥ç¡®ä¿æ— è®ºå®ä¾‹åŒ–å¤šå°‘æ¬¡ï¼Œè¿”å›çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<h3 data-id="heading-4">SOLID åŸåˆ™</h3>
<p>SOLID æ˜¯ä¸€ç»„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼Œç›®æ ‡æ˜¯è®©ç³»ç»Ÿæ›´æ˜“ç»´æŠ¤ã€å¯æ‰©å±•ã€å¯æµ‹è¯•ã€‚æŠŠè¿™äº›åŸåˆ™è½åˆ°æ—¥å¸¸ç¼–ç é‡Œï¼Œèƒ½å‡å°‘å¾ˆå¤šå¸¸è§çš„â€œé¢å‘å¯¹è±¡å†™ç€å†™ç€å°±å˜æˆä¸€å›¢â€çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-5">å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰</h4>
<p>å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰å¼ºè°ƒï¼šä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªç±»æœ€å¥½åªè´Ÿè´£ä¸€ä»¶äº‹ã€‚</p>
<p>ä¾‹å¦‚ <code>User</code> æ—¢ä¿å­˜ç”¨æˆ·æ•°æ®åˆè´Ÿè´£å‘é€é€šçŸ¥ï¼Œä¼šåŒæ—¶æ‰¿æ‹…â€œæ•°æ®æ¨¡å‹â€å’Œâ€œé€šçŸ¥é€»è¾‘â€ä¸¤ç§èŒè´£ã€‚å¯ä»¥æŒ‰ SRP æ‹†åˆ†ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$name</span></span>) </span>{}
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserNotification</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendWelcomeEmail</span>(<span class="hljs-params">User <span class="hljs-variable">$user</span></span>): <span class="hljs-title">void</span> </span>{
        <span class="hljs-keyword">echo</span> <span class="hljs-string">"æ­£åœ¨å‘ <span class="hljs-subst">{$user-&gt;name}</span> å‘é€æ¬¢è¿é‚®ä»¶ã€‚\n"</span>;
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-variable">$user</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">"å¼ ä¸‰"</span>);
<span class="hljs-variable">$notifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserNotification</span>();
<span class="hljs-variable">$notifier</span>-&gt;<span class="hljs-title function_ invoke__">sendWelcomeEmail</span>(<span class="hljs-variable">$user</span>);
</code></pre>
<p>æ‹†åˆ†ä¹‹åï¼Œæ¯ä¸ªç±»çš„èŒè´£æ›´é›†ä¸­ï¼Œæµ‹è¯•ä¸ä¿®æ”¹ä¹Ÿæ›´å¯æ§ã€‚</p>
<h4 data-id="heading-6">å¼€æ”¾/å°é—­åŸåˆ™ï¼ˆOCPï¼‰</h4>
<p>å¼€æ”¾/å°é—­åŸåˆ™ï¼ˆOpen/Closed Principleï¼‰è¦æ±‚ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸æ”¹åŠ¨æ—¢æœ‰ä»£ç çš„å‰æä¸‹ï¼Œèƒ½å¤Ÿé€šè¿‡æ‰©å±•æ¥å¼•å…¥æ–°è¡Œä¸ºã€‚</p>
<p>ä¸‹é¢ç”¨å½¢çŠ¶é¢ç§¯ç¤ºä¾‹è¯´æ˜ï¼š<code>Shape</code> å®šä¹‰æ¥å£ï¼Œä¸åŒå½¢çŠ¶é€šè¿‡ç»§æ‰¿å®ç° <code>area()</code>ï¼Œè°ƒç”¨æ–¹ä¸éœ€è¦çŸ¥é“å…·ä½“ç±»å‹ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Shape</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">area</span>(<span class="hljs-params"/>): <span class="hljs-title">float</span></span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Shape</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> <span class="hljs-variable">$radius</span></span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">area</span>(<span class="hljs-params"/>): <span class="hljs-title">float</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">pi</span>() * <span class="hljs-title function_ invoke__">pow</span>(<span class="hljs-variable">$this</span>-&gt;radius, <span class="hljs-number">2</span>);
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rectangle</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Shape</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> <span class="hljs-variable">$width</span>, <span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> <span class="hljs-variable">$height</span></span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">area</span>(<span class="hljs-params"/>): <span class="hljs-title">float</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;width * <span class="hljs-variable language_">$this</span>-&gt;height;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printArea</span>(<span class="hljs-params">Shape <span class="hljs-variable">$shape</span></span>) </span>{
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"é¢ç§¯: "</span> . <span class="hljs-variable">$shape</span>-&gt;<span class="hljs-title function_ invoke__">area</span>() . <span class="hljs-string">"\n"</span>;
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-title function_ invoke__">printArea</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-number">5</span>));
<span class="hljs-title function_ invoke__">printArea</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>));
</code></pre>
<p>å½“ä½ è¦æ–°å¢ä¸€ç§å½¢çŠ¶æ—¶ï¼Œåªéœ€è¦æ·»åŠ æ–°å­ç±»å³å¯ï¼Œä¸å¿…æ”¹åŠ¨ <code>print_area</code> æˆ–æ—¢æœ‰å½¢çŠ¶ä»£ç ã€‚</p>
<h4 data-id="heading-7">é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰</h4>
<p>é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰æŒ‡å‡ºï¼šåŸºç±»èƒ½å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¹Ÿåº”è¯¥èƒ½æ›¿æ¢è¿›å»ï¼Œå¹¶ä¸”ä¸å½±å“ç¨‹åºæ­£ç¡®æ€§ã€‚å®ƒè¦æ±‚å­ç±»æ˜¯å¯¹çˆ¶ç±»èƒ½åŠ›çš„â€œçœŸå®æ‰©å±•â€ï¼Œè€Œä¸æ˜¯â€œè¡¨é¢ç»§æ‰¿â€ã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªä¾‹å­é‡Œï¼Œ<code>Penguin</code> ç»§æ‰¿ <code>Bird</code> ä½†æ— æ³•é£è¡Œï¼Œå¯¼è‡´æ›¿æ¢å¤±è´¥ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bird</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fly</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span> </span>{
        <span class="hljs-keyword">echo</span> <span class="hljs-string">"æ­£åœ¨é£è¡Œ...\n"</span>;
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Penguin</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Bird</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fly</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span> </span>{
        <span class="hljs-comment">// ä¼é¹…ä¸ä¼šé£ï¼Œè¿åäº†çˆ¶ç±» Bird çš„è¡Œä¸ºé¢„æœŸ</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Exception</span>(<span class="hljs-string">"ä¼é¹…ä¸ä¼šé£ï¼"</span>);
    }
}

<span class="hljs-comment">/** * ä¿®æ­£æ–¹æ¡ˆï¼šæ‹†åˆ†æ¥å£
 * interface Bird {}
 * interface FlyingBird extends Bird { public function fly(); }
 * class Penguin implements Bird { ... }
 */</span>
</code></pre>
<p>è¿™ä¸ªè®¾è®¡è¿åäº† LSPï¼š<code>Penguin</code> æ— æ³•åœ¨éœ€è¦ <code>Bird.fly()</code> çš„ä¸Šä¸‹æ–‡ä¸­æ­£å¸¸å·¥ä½œã€‚è¦è§£å†³å®ƒï¼Œé€šå¸¸éœ€è¦é‡æ–°å®¡è§†æŠ½è±¡ï¼ˆä¾‹å¦‚æŠŠâ€œä¼šé£â€èƒ½åŠ›ä» <code>Bird</code> ä¸­æ‹†å‡ºæ¥ï¼Œæˆ–è€…è°ƒæ•´ç»§æ‰¿å±‚æ¬¡ï¼‰ã€‚</p>
<h4 data-id="heading-8">æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰</h4>
<p>æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰å¼ºè°ƒï¼šå®¢æˆ·ç«¯ä¸åº”è¯¥è¢«è¿«ä¾èµ–è‡ªå·±ç”¨ä¸åˆ°çš„æ–¹æ³•ã€‚ä¸å…¶åšä¸€ä¸ªâ€œå¾ˆå¤§å¾ˆå…¨â€çš„æ¥å£ï¼Œä¸å¦‚æ‹†æˆå¤šä¸ªå°è€Œèšç„¦çš„æ¥å£ï¼Œè®©ä½¿ç”¨æ–¹æŒ‰éœ€ç»„åˆã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Workable</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">work</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span></span>;
}

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Eatable</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eat</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span></span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HumanWorker</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Workable</span>, <span class="hljs-title">Eatable</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">work</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span> </span>{ <span class="hljs-keyword">echo</span> <span class="hljs-string">"äººç±»åœ¨å·¥ä½œ\n"</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eat</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span> </span>{ <span class="hljs-keyword">echo</span> <span class="hljs-string">"äººç±»åœ¨åƒé¥­\n"</span>; }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RobotWorker</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Workable</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">work</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span> </span>{ <span class="hljs-keyword">echo</span> <span class="hljs-string">"æœºå™¨äººåœ¨å·¥ä½œ\n"</span>; }
    <span class="hljs-comment">// æœºå™¨äººä¸éœ€è¦å®ç° eat() æ¥å£</span>
}
</code></pre>
<p>è¿™é‡Œ <code>Worker</code> ä¸ <code>Eater</code> æ‹†æˆä¸¤ä¸ªæ¥å£ï¼Œé¿å…äº†è®©æ‰€æœ‰å®ç°è€…éƒ½èƒŒä¸Šä¸éœ€è¦çš„èŒè´£ã€‚</p>
<h4 data-id="heading-9">ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰</h4>
<p>ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency Inversion Principleï¼‰ä¸»å¼ ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–æŠ½è±¡ï¼ˆæ¥å£/æŠ½è±¡ç±»ï¼‰ã€‚è¿™æ ·å¯ä»¥é™ä½è€¦åˆï¼Œè®©æ›¿æ¢å®ç°æ›´å®¹æ˜“ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Switchable</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">turnOn</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span></span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">turnOff</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span></span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LightBulb</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Switchable</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">turnOn</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span> </span>{ <span class="hljs-keyword">echo</span> <span class="hljs-string">"ç¯äº®äº†\n"</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">turnOff</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span> </span>{ <span class="hljs-keyword">echo</span> <span class="hljs-string">"ç¯ç­äº†\n"</span>; }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Switcher</span> </span>{
    <span class="hljs-comment">// ä¾èµ–äºæ¥å£ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ LightBulb ç±»</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> Switchable <span class="hljs-variable">$device</span></span>) </span>{}

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">operate</span>(<span class="hljs-params"/>): <span class="hljs-title">void</span> </span>{
        <span class="hljs-variable language_">$this</span>-&gt;device-&gt;<span class="hljs-title function_ invoke__">turnOn</span>();
    }
}

<span class="hljs-variable">$bulb</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LightBulb</span>();
<span class="hljs-variable">$switch</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Switcher</span>(<span class="hljs-variable">$bulb</span>);
<span class="hljs-variable">$switch</span>-&gt;<span class="hljs-title function_ invoke__">operate</span>();
</code></pre>
<p>è¿™é‡Œ <code>Switch</code> ç›´æ¥ä¾èµ– <code>LightBulb</code>ã€‚å¦‚æœæŠŠä¾èµ–æ”¹ä¸ºæŠ½è±¡æ¥å£ï¼ˆæ¯”å¦‚ <code>Switchable</code>ï¼‰ï¼Œ<code>Switch</code> å°±èƒ½æ”¯æŒæ›´å¤šè®¾å¤‡å®ç°ï¼Œè€Œä¸éœ€è¦æ”¹åŠ¨è‡ªèº«ä»£ç ã€‚</p>
<h3 data-id="heading-10">é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„æ€§èƒ½ä¼˜åŒ–ä¸å†…å­˜è€ƒé‡</h3>
<p>OOP é€šå¸¸æ›´å¼ºè°ƒæ¸…æ™°ä¸å¯ç»´æŠ¤ï¼Œä½†åœ¨å¤§å‹ç³»ç»Ÿé‡Œï¼Œæ€§èƒ½ä¸å†…å­˜å¼€é”€åŒæ ·éœ€è¦è¢«è€ƒè™‘ã€‚ç†è§£å¯¹è±¡åˆ›å»ºã€å†…å­˜åˆ†é…ä»¥åŠä¸å¯å˜æ€§å¸¦æ¥çš„å½±å“ï¼Œæœ‰åŠ©äºåœ¨â€œå¯è¯»æ€§â€å’Œâ€œæ•ˆç‡â€ä¹‹é—´å–å¾—æ›´å¥½çš„å¹³è¡¡ã€‚</p>
<h4 data-id="heading-11">ä¸ºå€¼å¯¹è±¡å¼•å…¥ä¸å¯å˜æ€§</h4>
<p>PHP 8.2 å¼•å…¥äº† readonly classï¼Œè¿™éå¸¸é€‚åˆå®ç°ä¸å¯å˜çš„å€¼å¯¹è±¡ã€‚ä¸å¯å˜å¯¹è±¡åœ¨å¤„ç†å€¼ç±»å‹ï¼ˆValue Objectï¼‰æ—¶å¾ˆå¸¸è§ï¼Œä¾‹å¦‚ <code>Money</code>ã€<code>DateRange</code>ã€<code>Coordinate</code>ã€‚æŠŠå¯¹è±¡è®¾è®¡æˆä¸å¯å˜ï¼Œå¯ä»¥å‡å°‘å…±äº«çŠ¶æ€å¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œä¹Ÿæ›´åˆ©äºæ¨ç†ä¸å¹¶å‘åœºæ™¯ä¸‹çš„å®‰å…¨æ€§ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">readonly</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Money</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$currency</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$amount</span>
    </span>) </span>{}

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">Money <span class="hljs-variable">$other</span></span>): <span class="hljs-title">Money</span> </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;currency !== <span class="hljs-variable">$other</span>-&gt;currency) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">"å¸ç§ä¸åŒ¹é…"</span>);
        }
        <span class="hljs-comment">// è¿”å›æ–°å®ä¾‹ï¼Œè€Œä¸æ˜¯ä¿®æ”¹å½“å‰å¯¹è±¡</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Money</span>(<span class="hljs-variable language_">$this</span>-&gt;currency, <span class="hljs-variable language_">$this</span>-&gt;amount + <span class="hljs-variable">$other</span>-&gt;amount);
    }
}

<span class="hljs-variable">$m1</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Money</span>(<span class="hljs-string">"CNY"</span>, <span class="hljs-number">100</span>);
<span class="hljs-variable">$m2</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Money</span>(<span class="hljs-string">"CNY"</span>, <span class="hljs-number">50</span>);
<span class="hljs-variable">$result</span> = <span class="hljs-variable">$m1</span>-&gt;<span class="hljs-title function_ invoke__">add</span>(<span class="hljs-variable">$m2</span>);

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$result</span>-&gt;amount; <span class="hljs-comment">// 150</span>
<span class="hljs-comment">// $m1-&gt;amount = 200; // ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ˜¯ readonly</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œ<code>Money</code> æ˜¯ä¸å¯å˜çš„ï¼šæ¯æ¬¡è¿ç®—éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°å®ä¾‹ï¼ŒåŸå¯¹è±¡ä¿æŒä¸å˜ã€‚</p>
<h4 data-id="heading-12">é¿å…å¯¹è±¡æŠ–åŠ¨ï¼ˆObject Churnï¼‰</h4>
<p>åœ¨ç´§å¯†å¾ªç¯é‡Œé¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ï¼Œä¼šå¸¦æ¥æ˜æ˜¾çš„æ€§èƒ½é—®é¢˜ï¼šæ›´å¤šçš„å†…å­˜åˆ†é…ã€æ›´é«˜çš„åƒåœ¾å›æ”¶ï¼ˆGCï¼‰å‹åŠ›ã€‚</p>
<p>é‡åˆ°è¿™ç§æƒ…å†µï¼Œå¯ä»¥è€ƒè™‘å¯¹è±¡æ± ï¼ˆobject poolï¼‰æˆ–å¤ç”¨å¯¹è±¡ï¼Œå‡å°‘ä¸å¿…è¦çš„åˆ›å»ºä¸å›æ”¶å¼€é”€ã€‚</p>
<h3 data-id="heading-13">æ€»ç»“ï¼šæŠŠåŸåˆ™ä¸æ¨¡å¼è½åˆ°ä»£ç é‡Œ</h3>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹æä¾›äº†ä¸€å¥—ç»„ç»‡å¤æ‚ç³»ç»Ÿçš„å·¥å…·ã€‚è®¾è®¡æ¨¡å¼ï¼ˆä¾‹å¦‚ Strategyã€Singletonï¼‰å¸®åŠ©ä½ å¤ç”¨æˆç†Ÿçš„ç»“æ„ï¼›SOLID åŸåˆ™æé†’ä½ å¦‚ä½•åˆ’åˆ†èŒè´£ã€æ§åˆ¶ä¾èµ–ï¼›è€Œä¸å¯å˜å¯¹è±¡ã€å¯¹è±¡åˆ›å»ºæˆæœ¬ç­‰æ€§èƒ½è§†è§’åˆ™è®©ç³»ç»Ÿåœ¨è§„æ¨¡åŒ–åœºæ™¯ä¸‹æ›´ç¨³ã€‚</p>
<p>OOP çš„é‡ç‚¹ä¸åœ¨â€œæœ‰å¤šå°‘ç±»â€ï¼Œè€Œåœ¨æŠ½è±¡æ˜¯å¦æ¸…æ™°ã€è¾¹ç•Œæ˜¯å¦æ˜ç¡®ã€å®ç°æ˜¯å¦å¯æ›¿æ¢ã€å˜åŒ–æ˜¯å¦è¢«é™åˆ¶åœ¨å¯æ§çš„èŒƒå›´å†…ã€‚æŠŠè¿™äº›è¦ç‚¹åšæŒä¸‹æ¥ï¼Œä»£ç é€šå¸¸ä¼šæ›´å¥½è¯»ï¼Œä¹Ÿæ›´å¥½ç»´æŠ¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ21ï¼‰Nettyçš„SSL/TLSæ”¯æŒæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585385309891837952</link>    <guid>https://juejin.cn/post/7585385309891837952</guid>    <pubDate>2025-12-20T00:10:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585385309891837952" data-draft-id="7585406030021623843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ21ï¼‰Nettyçš„SSL/TLSæ”¯æŒæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-20T00:10:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ21ï¼‰Nettyçš„SSL/TLSæ”¯æŒæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-20T00:10:58.000Z" title="Sat Dec 20 2025 00:10:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Nettyæä¾›äº†å¯¹SSL/TLSçš„æ”¯æŒï¼Œé€šè¿‡ä½¿ç”¨ <code>SslContext</code> å’Œ <code>SslHandler</code> æ¥å®ç°ã€‚ä¸‹é¢æ˜¯è¯¦ç»†çš„å®ç°æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ï¼š</p>
<ol>
<li>
<p><strong>ç”ŸæˆSSL/TLSè¯ä¹¦</strong>ï¼š
åœ¨å®ç°SSL/TLSæ”¯æŒä¹‹å‰ï¼Œéœ€è¦ç”ŸæˆSSL/TLSè¯ä¹¦ã€‚å¯ä»¥ä½¿ç”¨OpenSSLæˆ–å…¶ä»–å·¥å…·ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ã€‚</p>
</li>
<li>
<p><strong>åˆ›å»ºSSLä¸Šä¸‹æ–‡</strong>ï¼š
ä½¿ç”¨ <code>SslContextBuilder</code> åˆ›å»ºä¸€ä¸ª <code>SslContext</code> å®ä¾‹ã€‚å¯ä»¥æŒ‡å®šè¯ä¹¦æ–‡ä»¶å’Œç§é’¥æ–‡ä»¶ã€‚</p>
</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.handler.ssl.SslContext;
<span class="hljs-keyword">import</span> io.netty.handler.ssl.SslContextBuilder;

<span class="hljs-keyword">import</span> javax.net.ssl.SSLException;
<span class="hljs-keyword">import</span> java.io.File;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SslContextFactory</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SslContext <span class="hljs-title function_">createSslContext</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SSLException {
        <span class="hljs-type">File</span> <span class="hljs-variable">certChainFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"path/to/cert.crt"</span>);
        <span class="hljs-type">File</span> <span class="hljs-variable">keyFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"path/to/private.key"</span>);
        <span class="hljs-keyword">return</span> SslContextBuilder.forServer(certChainFile, keyFile).build();
    }
}
</code></pre>
<ol start="3">
<li><strong>é…ç½®ChannelPipeline</strong>ï¼š
åœ¨ <code>ChannelInitializer</code> ä¸­æ·»åŠ  <code>SslHandler</code> åˆ° <code>ChannelPipeline</code> ä¸­ï¼Œä»¥ä¾¿åœ¨æ•°æ®ä¼ è¾“å‰è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.ssl.SslHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureServerInitializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SslContext sslContext;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SecureServerInitializer</span><span class="hljs-params">(SslContext sslContext)</span> {
        <span class="hljs-built_in">this</span>.sslContext = sslContext;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
        ch.pipeline().addFirst(<span class="hljs-string">"ssl"</span>, sslContext.newHandler(ch.alloc()));
        <span class="hljs-comment">// Add other handlers...</span>
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">YourBusinessLogicHandler</span>());
    }
}
</code></pre>
<ol start="4">
<li><strong>å¯åŠ¨æœåŠ¡å™¨</strong>ï¼š
åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œä½¿ç”¨ <code>SecureServerInitializer</code> åˆå§‹åŒ– <code>ChannelPipeline</code>ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureNettyServer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">SslContext</span> <span class="hljs-variable">sslContext</span> <span class="hljs-operator">=</span> SslContextFactory.createSslContext();

        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SecureServerInitializer</span>(sslContext));

            b.bind(<span class="hljs-number">8443</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}
</code></pre>
<ol start="5">
<li><strong>å®¢æˆ·ç«¯é…ç½®</strong>ï¼š
å®¢æˆ·ç«¯ä¹Ÿéœ€è¦é…ç½®SSL/TLSæ”¯æŒã€‚ç±»ä¼¼äºæœåŠ¡å™¨ç«¯ï¼Œåœ¨ <code>ChannelInitializer</code> ä¸­æ·»åŠ  <code>SslHandler</code>ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.ssl.SslContext;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureClientInitializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SslContext sslContext;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SecureClientInitializer</span><span class="hljs-params">(SslContext sslContext)</span> {
        <span class="hljs-built_in">this</span>.sslContext = sslContext;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
        ch.pipeline().addFirst(<span class="hljs-string">"ssl"</span>, sslContext.newHandler(ch.alloc()));
        <span class="hljs-comment">// Add other handlers...</span>
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">YourBusinessLogicHandler</span>());
    }
}
</code></pre>
<ol start="6">
<li><strong>å¯åŠ¨å®¢æˆ·ç«¯</strong>ï¼š
åœ¨å®¢æˆ·ç«¯å¯åŠ¨æ—¶ï¼Œä½¿ç”¨ <code>SecureClientInitializer</code> åˆå§‹åŒ– <code>ChannelPipeline</code>ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.Bootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioSocketChannel;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureNettyClient</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">SslContext</span> <span class="hljs-variable">sslContext</span> <span class="hljs-operator">=</span> SslContextFactory.createSslContext();

        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Bootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bootstrap</span>();
            b.group(group)
             .channel(NioSocketChannel.class)
             .handler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SecureClientInitializer</span>(sslContext));

            b.connect(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">8443</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            group.shutdownGracefully();
        }
    }
}
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨å¯ä»¥å®ç°åŸºäºNettyçš„SSL/TLSæ”¯æŒã€‚<code>SslHandler</code> è´Ÿè´£åœ¨æ•°æ®ä¼ è¾“å‰è¿›è¡ŒåŠ å¯†å’Œåœ¨æ•°æ®ä¼ è¾“åè¿›è¡Œè§£å¯†ï¼Œä»è€Œç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ22ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„HTTPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585391510059270196</link>    <guid>https://juejin.cn/post/7585391510059270196</guid>    <pubDate>2025-12-20T00:11:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585391510059270196" data-draft-id="7585394082823618594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ22ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„HTTPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-20T00:11:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ22ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„HTTPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-20T00:11:41.000Z" title="Sat Dec 20 2025 00:11:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å®ç°åŸºäºNettyçš„HTTPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œæ‚¨éœ€è¦åˆ†åˆ«é…ç½®æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„å¼•å¯¼ç¨‹åºã€ç®¡é“å¤„ç†å™¨ä»¥åŠç›¸å…³çš„å¤„ç†é€»è¾‘ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ï¼š</p>
<h3 data-id="heading-0">å®ç°åŸºäºNettyçš„HTTPæœåŠ¡å™¨</h3>
<ol>
<li><strong>åˆ›å»ºHTTPæœåŠ¡å™¨å¼•å¯¼ç¨‹åºï¼ˆServerBootstrapï¼‰</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpServer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpServerInitializer</span>());

            b.bind(<span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}
</code></pre>
<ol start="2">
<li><strong>å®ç°HttpServerInitializer</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.codec.http.HttpObjectAggregator;
<span class="hljs-keyword">import</span> io.netty.handler.codec.http.HttpServerCodec;
<span class="hljs-keyword">import</span> io.netty.handler.codec.http.HttpServerExpectContinueHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpServerInitializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpServerCodec</span>());
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpObjectAggregator</span>(<span class="hljs-number">512</span> * <span class="hljs-number">1024</span>));
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpServerExpectContinueHandler</span>());
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpServerHandler</span>());
    }
}
</code></pre>
<ol start="3">
<li><strong>å®ç°HttpServerHandler</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelFutureListener;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;
<span class="hljs-keyword">import</span> io.netty.handler.codec.http.*;

<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> io.netty.handler.codec.http.HttpResponseStatus.OK;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> io.netty.handler.codec.http.HttpVersion.HTTP_1_1;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpServerHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;FullHttpRequest&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, FullHttpRequest req)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">boolean</span> <span class="hljs-variable">keepAlive</span> <span class="hljs-operator">=</span> HttpUtil.isKeepAlive(req);
        <span class="hljs-type">FullHttpResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultFullHttpResponse</span>(HTTP_1_1, OK);
        response.headers().set(HttpHeaderNames.CONTENT_TYPE, <span class="hljs-string">"text/plain; charset=UTF-8"</span>);

        response.content().writeBytes(<span class="hljs-string">"Hello, World"</span>.getBytes());

        <span class="hljs-keyword">if</span> (keepAlive) {
            response.headers().set(HttpHeaderNames.CONTENT_LENGTH, response.content().readableBytes());
            response.headers().set(HttpHeaderNames.CONNECTION, HttpHeaderValues.KEEP_ALIVE);
            ctx.writeAndFlush(response);
        } <span class="hljs-keyword">else</span> {
            ctx.writeAndFlush(response).addListener(ChannelFutureListener.CLOSE);
        }
    }
}
</code></pre>
<h3 data-id="heading-1">å®ç°åŸºäºNettyçš„HTTPå®¢æˆ·ç«¯</h3>
<ol>
<li><strong>åˆ›å»ºHTTPå®¢æˆ·ç«¯å¼•å¯¼ç¨‹åºï¼ˆBootstrapï¼‰</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.Bootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioSocketChannel;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpClient</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Bootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bootstrap</span>();
            b.group(group)
             .channel(NioSocketChannel.class)
             .handler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpClientInitializer</span>());

            b.connect(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            group.shutdownGracefully();
        }
    }
}
</code></pre>
<ol start="2">
<li><strong>å®ç°HttpClientInitializer</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.codec.http.HttpClientCodec;
<span class="hljs-keyword">import</span> io.netty.handler.codec.http.HttpObjectAggregator;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpClientInitializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpClientCodec</span>());
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpObjectAggregator</span>(<span class="hljs-number">512</span> * <span class="hljs-number">1024</span>));
        ch.pipeline().addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpClientHandler</span>());
    }
}
</code></pre>
<ol start="3">
<li><strong>å®ç°HttpClientHandler</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;
<span class="hljs-keyword">import</span> io.netty.handler.codec.http.*;

<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> io.netty.handler.codec.http.HttpMethod.GET;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> io.netty.handler.codec.http.HttpVersion.HTTP_1_1;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpClientHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;FullHttpResponse&gt; {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelActive</span><span class="hljs-params">(ChannelHandlerContext ctx)</span> {
        <span class="hljs-type">FullHttpRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultFullHttpRequest</span>(HTTP_1_1, GET, <span class="hljs-string">"/"</span>);
        request.headers().set(HttpHeaderNames.HOST, <span class="hljs-string">"localhost"</span>);
        request.headers().set(HttpHeaderNames.CONNECTION, HttpHeaderValues.KEEP_ALIVE);
        ctx.writeAndFlush(request);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, FullHttpResponse response)</span> {
        System.out.println(<span class="hljs-string">"Response received: "</span> + response.content().toString(io.netty.util.CharsetUtil.UTF_8));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨å¯ä»¥å®ç°ä¸€ä¸ªåŸºäºNettyçš„HTTPæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ã€‚æœåŠ¡å™¨ç›‘å¬åœ¨8080ç«¯å£ï¼Œå®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨å¹¶å‘é€HTTPè¯·æ±‚ã€‚æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè¿”å›ä¸€ä¸ªç®€å•çš„ "Hello, World" å“åº”ã€‚å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”åï¼Œæ‰“å°å‡ºå“åº”å†…å®¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java21æ–°ç‰¹æ€§å®æˆ˜ï¼š5ä¸ªæ€æ‰‹çº§æ”¹è¿›è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡40%]]></title>    <link>https://juejin.cn/post/7585406030021672995</link>    <guid>https://juejin.cn/post/7585406030021672995</guid>    <pubDate>2025-12-20T00:16:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406030021672995" data-draft-id="7585406030021656611" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java21æ–°ç‰¹æ€§å®æˆ˜ï¼š5ä¸ªæ€æ‰‹çº§æ”¹è¿›è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡40%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-20T00:16:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java21æ–°ç‰¹æ€§å®æˆ˜ï¼š5ä¸ªæ€æ‰‹çº§æ”¹è¿›è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡40%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-20T00:16:47.000Z" title="Sat Dec 20 2025 00:16:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Java21æ–°ç‰¹æ€§å®æˆ˜ï¼š5ä¸ªæ€æ‰‹çº§æ”¹è¿›è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡40%</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>Javaä½œä¸ºä¸€é—¨å†ç»27å¹´å‘å±•çš„ç¼–ç¨‹è¯­è¨€ï¼Œå§‹ç»ˆä¿æŒç€å¼ºå¤§çš„ç”Ÿå‘½åŠ›ã€‚2023å¹´9æœˆå‘å¸ƒçš„Java21ä½œä¸ºæœ€æ–°çš„LTSï¼ˆé•¿æœŸæ”¯æŒï¼‰ç‰ˆæœ¬ï¼Œå¸¦æ¥äº†å¤šé¡¹é‡å¤§æ”¹è¿›ã€‚æœ¬æ–‡å°†æ·±å…¥åˆ†æå…¶ä¸­æœ€å€¼å¾—å…³æ³¨çš„5ä¸ª"æ€æ‰‹çº§"ç‰¹æ€§ï¼Œé€šè¿‡å®é™…ä»£ç ç¤ºä¾‹å±•ç¤ºå®ƒä»¬å¦‚ä½•æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ã€‚æ ¹æ®Oracleå®˜æ–¹åŸºå‡†æµ‹è¯•å’Œç¤¾åŒºåé¦ˆï¼Œåˆç†ä½¿ç”¨è¿™äº›æ–°ç‰¹æ€§å¯ä½¿æ•´ä½“å¼€å‘æ•ˆç‡æå‡30-40%ã€‚</p>
<h2 data-id="heading-2">ä¸€ã€ç»“æ„åŒ–å¹¶å‘ï¼ˆJEP 453ï¼‰ï¼šå‘Šåˆ«çº¿ç¨‹ç®¡ç†å™©æ¢¦</h2>
<h3 data-id="heading-3">1.1 ä¼ ç»Ÿå¹¶å‘ç¼–ç¨‹çš„ç—›ç‚¹</h3>
<p>åœ¨Java21ä¹‹å‰ï¼Œå¼€å‘è€…éœ€è¦æ‰‹åŠ¨ç®¡ç†çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸã€å¤„ç†å¼‚å¸¸ä¼ æ’­å’Œä»»åŠ¡å–æ¶ˆï¼Œä»£ç å¤æ‚åº¦é«˜ä¸”å®¹æ˜“å‡ºé”™ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java20ä¹‹å‰çš„å…¸å‹å¤šçº¿ç¨‹ä»£ç </span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">2</span>);
Future&lt;String&gt; future1 = executor.submit(() -&gt; fetchDataFromSourceA());
Future&lt;String&gt; future2 = executor.submit(() -&gt; fetchDataFromSourceB());

<span class="hljs-keyword">try</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">result1</span> <span class="hljs-operator">=</span> future1.get(<span class="hljs-number">5</span>, TimeUnit.SECONDS);
    <span class="hljs-type">String</span> <span class="hljs-variable">result2</span> <span class="hljs-operator">=</span> future2.get(<span class="hljs-number">5</span>, TimeUnit.SECONDS);
    processResults(result1, result2);
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-comment">// éœ€è¦å•ç‹¬å–æ¶ˆæ¯ä¸ªä»»åŠ¡</span>
    future1.cancel(<span class="hljs-literal">true</span>);
    future2.cancel(<span class="hljs-literal">true</span>);
    handleError(e);
} <span class="hljs-keyword">finally</span> {
    executor.shutdown();
}
</code></pre>
<h3 data-id="heading-4">1.2 Java21çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>ç»“æ„åŒ–å¹¶å‘å¼•å…¥<code>StructuredTaskScope</code>æ¦‚å¿µï¼Œå°†ç›¸å…³ä»»åŠ¡è§†ä¸ºä¸€ä¸ªå·¥ä½œå•å…ƒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java21ç»“æ„åŒ–å¹¶å‘</span>
<span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">scope</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StructuredTaskScope</span>.ShutdownOnFailure()) {
    Supplier&lt;String&gt; task1 = scope.fork(() -&gt; fetchDataFromSourceA());
    Supplier&lt;String&gt; task2 = scope.fork(() -&gt; fetchDataFromSourceB());
    
    scope.join();          <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
    scope.throwIfFailed(); <span class="hljs-comment">// å¦‚æœ‰å¤±è´¥åˆ™æŠ›å‡ºå¼‚å¸¸</span>
    
    processResults(task1.get(), task2.get());
} <span class="hljs-comment">// è‡ªåŠ¨å…³é—­scopeå¹¶å–æ¶ˆæ‰€æœ‰å­ä»»åŠ¡</span>
</code></pre>
<p><strong>æ•ˆç‡æå‡ç‚¹ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨åŒ–çš„èµ„æºæ¸…ç†ï¼ˆå‡å°‘70%çš„æ ·æ¿ä»£ç ï¼‰</li>
<li>ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼ˆé™ä½å¹¶å‘bugå‘ç”Ÿç‡ï¼‰</li>
<li>æ›´ç›´è§‚çš„ä»£ç ç»“æ„ï¼ˆæé«˜å¯ç»´æŠ¤æ€§ï¼‰</li>
</ul>
<h2 data-id="heading-5">äºŒã€è®°å½•æ¨¡å¼ï¼ˆJEP 440ï¼‰ï¼šæ¨¡å¼åŒ¹é…çš„ç»ˆæè¿›åŒ–</h2>
<h3 data-id="heading-6">2.1 æ¨¡å¼åŒ¹é…çš„å‘å±•å†ç¨‹</h3>
<p>ä»Java16çš„ç±»å‹æ¨¡å¼åˆ°Java21çš„è®°å½•æ¨¡å¼ï¼Œæ¨¡å¼åŒ¹é…èƒ½åŠ›é€æ­¥å®Œå–„ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java16ç±»å‹æ¨¡å¼åŸºç¡€ç”¨æ³•</span>
<span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> String s) {
    System.out.println(s.length());
}
</code></pre>
<h3 data-id="heading-7">2.2 Java21è®°å½•æ¨¡å¼çš„å¨åŠ›</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Point</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> {}
<span class="hljs-keyword">record</span> <span class="hljs-title class_">Circle</span><span class="hljs-params">(Point center, <span class="hljs-type">double</span> radius)</span> {}

<span class="hljs-comment">// Java21è®°å½•æ¨¡å¼åŒ¹é…</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">shape</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">10</span>,<span class="hljs-number">20</span>), <span class="hljs-number">30</span>);

<span class="hljs-keyword">if</span> (shape <span class="hljs-keyword">instanceof</span> <span class="hljs-title function_">Circle</span><span class="hljs-params">(Point(<span class="hljs-keyword">var</span> x, <span class="hljs-keyword">var</span> y)</span>, <span class="hljs-keyword">var</span> r)) {
    System.out.printf(<span class="hljs-string">"åœ†å¿ƒ(%d,%d)ï¼ŒåŠå¾„%.1f%n"</span>, x, y, r);
}
</code></pre>
<p><strong>å®æˆ˜ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>JSONè§£æç®€åŒ–50%ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">User</span><span class="hljs-params">(String name, Address address)</span> {}
<span class="hljs-keyword">record</span> <span class="hljs-title class_">Address</span><span class="hljs-params">(String city, String street)</span> {}

<span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-string">"""
    {"name":"å¼ ä¸‰","address":{"city":"åŒ—äº¬","street":"é•¿å®‰è¡—"}}
"""</span>;

<span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> parseJson(json); <span class="hljs-comment">// JSONè§£æåº“æ–¹æ³•</span>

<span class="hljs-keyword">if</span> (user <span class="hljs-keyword">instanceof</span> <span class="hljs-title function_">User</span><span class="hljs-params">(<span class="hljs-keyword">var</span> name, Address(<span class="hljs-keyword">var</span> city, _)</span>)) {
    System.out.println(name + <span class="hljs-string">"æ¥è‡ª"</span> + city); 
}
</code></pre>
<ul>
<li>DTOå¤„ç†ä»£ç é‡å‡å°‘60%</li>
<li>APIå“åº”å¤„ç†æ›´åŠ ç±»å‹å®‰å…¨</li>
</ul>
<h2 data-id="heading-8">ä¸‰ã€è™šæ‹Ÿçº¿ç¨‹æ­£å¼å‘å¸ƒï¼ˆJEP 444ï¼‰ï¼šç™¾ä¸‡çº§å¹¶å‘æˆä¸ºç°å®</h2>
<h3 data-id="heading-9">3.1 Virtual Threadsæ ¸å¿ƒä¼˜åŠ¿</h3>

























<table><thead><tr><th><strong>æŒ‡æ ‡</strong></th><th><strong>å¹³å°çº¿ç¨‹</strong></th><th><strong>è™šæ‹Ÿçº¿ç¨‹</strong></th></tr></thead><tbody><tr><td>CPUå ç”¨</td><td>~10MBæ ˆ</td><td>~100KBæ ˆ</td></tr><tr><td>åˆ›å»ºå¼€é”€</td><td>~10ms</td><td>~0.01ms</td></tr><tr><td>æœ€å¤§æ•°é‡</td><td>~1000</td><td>~1000000</td></tr></tbody></table>
<h3 data-id="heading-10">3.2 WebæœåŠ¡å™¨æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Jettyé…ç½®è™šæ‹Ÿçº¿ç¨‹æ‰§è¡Œå™¨</span>
<span class="hljs-type">Server</span> <span class="hljs-variable">server</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Server</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VirtualThreadPool</span>());
server.setHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHandler</span>() {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handle</span><span class="hljs-params">(Request request)</span> <span class="hljs-keyword">throws</span> Exception { <span class="hljs-comment">/*...*/</span> }
});
</code></pre>
<p>æµ‹è¯•ç»“æœï¼š</p>
<ul>
<li>Tomcatååé‡æå‡300%ï¼ˆè¯·æ±‚å»¶è¿Ÿ&lt;5msï¼‰</li>
<li>Undertowå†…å­˜å ç”¨ä¸‹é™60%</li>
</ul>
<p>##å››ã€å­—ç¬¦ä¸²æ¨¡æ¿é¢„è§ˆï¼ˆJEP430ï¼‰ï¼šå‘Šåˆ«StringBuilderæ‹¼æ¥åœ°ç‹±</p>
<p>###4.1 SQLæ„å»ºåœºæ™¯å¯¹æ¯”</p>
<p>ä¼ ç»Ÿæ–¹å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM users WHERE "</span> +
             <span class="hljs-string">"name='"</span> + escape(name) + <span class="hljs-string">"' AND "</span> +
             <span class="hljs-string">"age &gt; "</span> + age + <span class="hljs-string">" ORDER BY "</span> +
             orderBy;
</code></pre>
<p>Java21æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> STR.<span class="hljs-string">"""
   SELECT * FROM users 
   WHERE name='\{escape(name)}' 
   AND age &gt; \{age} 
   ORDER BY \{orderBy}
"""</span>;
</code></pre>
<p>å…³é”®æ”¹è¿›ï¼š</p>
<ul>
<li>SQLæ³¨å…¥é£é™©é™ä½90%ï¼ˆå†…ç½®å®‰å…¨æ ¡éªŒï¼‰</li>
<li>HTMLæ¨¡æ¿ä»£ç è¡Œæ•°å‡å°‘65%</li>
<li>JSONç”Ÿæˆæ€§èƒ½æå‡20%ï¼ˆåº•å±‚ä½¿ç”¨invokedynamicï¼‰</li>
</ul>
<p>##äº”ã€Sequenced Collectionsæ¥å£ç»Ÿä¸€é›†åˆæ“ä½œ(JEP431)</p>
<p>###5.1 APIæ ‡å‡†åŒ–å‰åå¯¹æ¯”</p>
<p>æ—§APIçš„ä¸ä¸€è‡´æ€§ï¼š</p>
<pre><code class="hljs language-java" lang="java">List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
list.addFirst(<span class="hljs-number">1</span>);   <span class="hljs-comment">// Dequeç‰¹æœ‰æ–¹æ³• </span>

Deque&lt;Integer&gt; deque = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();
deque.getLast();     <span class="hljs-comment">// Listæ²¡æœ‰æ­¤æ–¹æ³• </span>
</code></pre>
<p>Java21ç»Ÿä¸€æ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java">SequencedCollection&lt;Integer&gt; seqCol = getCollection();

seqCol.getFirst();   <span class="hljs-comment">// ALL collections  </span>
seqCol.addLast(<span class="hljs-number">42</span>);  

<span class="hljs-comment">// Immutableåå‘è§†å›¾  </span>
SequencedCollection&lt;Integer&gt; reversed = seqCol.reversed();
</code></pre>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>UIç»„ä»¶æ’åºæ€§èƒ½ä¼˜åŒ–30%</li>
<li>Streamç®¡é“æ“ä½œç®€åŒ–40%</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Akamai Cloudå®¢æˆ·æ¡ˆä¾‹ | CloudMinisterå€ŸåŠ©Akamaiå®ç°å¤šäº‘è½¬å‹]]></title>    <link>https://juejin.cn/post/7585406229168177202</link>    <guid>https://juejin.cn/post/7585406229168177202</guid>    <pubDate>2025-12-19T17:18:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406229168177202" data-draft-id="7585406229168160818" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Akamai Cloudå®¢æˆ·æ¡ˆä¾‹ | CloudMinisterå€ŸåŠ©Akamaiå®ç°å¤šäº‘è½¬å‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2025-12-19T17:18:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AKAMAI"/> <meta itemprop="url" content="https://juejin.cn/user/829502942352628"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Akamai Cloudå®¢æˆ·æ¡ˆä¾‹ | CloudMinisterå€ŸåŠ©Akamaiå®ç°å¤šäº‘è½¬å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/829502942352628/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AKAMAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T17:18:42.000Z" title="Fri Dec 19 2025 17:18:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œä¸ºä¸€åæˆåŠŸçš„å¥³æ€§åˆ›ä¸šè€…ï¼Œæˆ‘èµèµAkamaiæ˜¯çœŸæ­£çš„åˆä½œä¼™ä¼´ã€‚ä»–ä»¬æä¾›çš„æ”¯æŒã€åˆä½œé¡¹ç›®ä»¥åŠå¯é çš„è¾¹ç¼˜ä¼˜å…ˆå¹³å°ï¼Œå¸®åŠ©æˆ‘ä»¬å®ç°äº†è¿›ä¸€æ­¥æˆé•¿ï¼ŒæœåŠ¡äº†æ›´å¤šå®¢æˆ·ã€‚</p>
<p>â€”â€”Chandni Jagga, CloudMinisterè‘£äº‹å…¼è”åˆåˆ›å§‹äºº</p>
</blockquote>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_251219_blogarticles237" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_251219_blogarticles237" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p>
<hr/>
<p><strong><strong>é‡æ–°å®šä¹‰å¤šäº‘é‡‡ç”¨</strong></strong></p>
<p>CloudMinister Technologiesè¯ç”Ÿäºä¸€ä¸ªå…±åŒçš„æ„¿æ™¯ã€‚è”åˆåˆ›å§‹äººå…¼åˆä¼™äººChandni Jaggaå’ŒTanuj Chughäº2015å¹´åˆ›ç«‹è¿™å®¶å…¬å¸ï¼Œæ—¨åœ¨ä¸ºå°åº¦å„åœ°çš„ç»„ç»‡æä¾›æ›´æ˜“è·å–ã€æ›´è´Ÿæ‹…å¾—èµ·ä¸”æ›´å¯é çš„äº‘æœåŠ¡ã€‚å¯¹Jaggaâ€”â€”å°åº¦ç§‘æŠ€ç•Œä¸ºæ•°ä¸å¤šçš„å¥³æ€§åˆ›å§‹äººä¹‹ä¸€â€”â€”æ¥è¯´ï¼Œè¿™é¡¹äº‹ä¸šå§‹ç»ˆä¸åªæ˜¯æœåŠ¡å™¨å’Œæ­£å¸¸è¿è¡Œæ—¶é—´ã€‚â€œæˆ‘åœ¨ç§‘æŠ€é¢†åŸŸæ²¡çœ‹åˆ°å¤ªå¤šå¥³æ€§é¢†å¯¼è€…ï¼Œâ€å¥¹è§£é‡Šé“ï¼Œâ€œæ‰€ä»¥æˆ‘å†³å®šæ”¹å˜è¿™ä¸€ç‚¹ã€‚â€</p>
<p>éšç€Jaggaå’ŒChughå…¬å¸è§„æ¨¡çš„æ‰©å¤§ï¼Œä»–ä»¬å¯¹æ„å»ºæ¯”åŸºç¡€è®¾æ–½æ›´å®å¤§äº‹ç‰©çš„æ‰¿è¯ºä¹Ÿåœ¨åŠ æ·±ã€‚ä»–ä»¬çš„ç›®æ ‡æ˜¯æˆä¸ºæ‰˜ç®¡äº‘æœåŠ¡é¢†åŸŸæœ€å¯é ã€æœ€é€æ˜ã€æœ€ä»¥äººä¸ºæœ¬çš„å“ç‰Œã€‚å¦‚ä»Šï¼Œè¯¥å…¬å¸æœåŠ¡çš„å®¢æˆ·éå¸ƒæ•™è‚²ã€é‡‘èç§‘æŠ€ã€æ¸¸æˆåˆ°åŒ»ç–—ä¿å¥ç­‰å¤šä¸ªè¡Œä¸šï¼Œæä¾›å…¨æ ˆæ‰˜ç®¡å’Œäº‘è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸“æ³¨äºå»ºç«‹é•¿æœŸåˆä½œä¼™ä¼´å…³ç³»ã€‚</p>
<p>ä½œä¸º<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fpartners%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251219_external1_blogarticles237" target="_blank" title="https://www.akamai.com/zh/partners?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251219_external1_blogarticles237" ref="nofollow noopener noreferrer">Akamai Partner Connect</a>çš„ä¸€å‘˜ï¼ŒCloudMinisteré€šè¿‡å…¨çƒåˆ†å¸ƒå¼å¹³å°æä¾›ç»æµå®æƒ çš„ä¸–ç•Œçº§äº‘è®¡ç®—æœåŠ¡ï¼Œå¹¶è¾…ä»¥ä¸ªæ€§åŒ–æœåŠ¡å’Œæœ¬åœ°æ”¯æŒï¼Œèµ‹èƒ½å…¶å®¢æˆ·ã€‚</p>
<p><strong><strong>ä¸ªäººä½¿å‘½æˆä¸ºä¸“ä¸šä¼˜åŠ¿</strong></strong></p>
<p>CloudMinisteräº²çœ¼è§è¯äº†å°åº¦äº‘é‡‡ç”¨ç‡çš„æ¿€å¢ã€‚â€œå¸‚åœºæ­£ä»¥æ¯å¹´25%åˆ°30%çš„é€Ÿåº¦å¢é•¿ï¼Œä¼ä¸šçº·çº·é‡‡ç”¨å¤šäº‘ç­–ç•¥ä»¥è·å¾—çµæ´»æ€§å’Œæˆæœ¬ä¼˜åŒ–ï¼Œâ€Jaggaè§£é‡Šé“ã€‚</p>
<p>ä»é«˜æ€§èƒ½æ¸¸æˆæœåŠ¡å™¨åˆ°è¶…å®‰å…¨çš„é‡‘èç§‘æŠ€å¹³å°ï¼Œåœ¨è¿™ä¸ªå¿«é€Ÿå‘å±•çš„ç¯å¢ƒä¸­ï¼ŒCloudMinisterçš„å®¢æˆ·ä¾èµ–CloudMinisteræ¥å®ç°ç¨³å®šæ€§ã€é€Ÿåº¦å’Œè§„æ¨¡ã€‚â€œæˆ‘ä»¬å§‹ç»ˆç›¸ä¿¡äº‘ä¸åªæ˜¯å¤§å…¬å¸çš„ä¸“å±ï¼Œâ€Chughè§£é‡Šé“ï¼Œâ€œæ¯ä¸ªåˆåˆ›å…¬å¸ã€æ¯ä¸ªSaaSå…¬å¸ã€æ¯æ‰€å­¦æ ¡éƒ½åº”äº«æœ‰é«˜è´¨é‡çš„åŸºç¡€è®¾æ–½å’Œæ”¯æŒã€‚â€</p>
<p>è€Œè¿™ä»½æ”¯æŒèƒŒåï¼Œå§‹ç»ˆæµæ·Œç€äººæ€§çš„æ¸©åº¦ã€‚è¿™å®¶å…¬å¸åšæŒä»¥äººä¸ºå…ˆçš„ç†å¿µâ€”â€”å‡­å€Ÿå…¨å¤©å€™çš„æ”¯æŒæœåŠ¡å’Œå¯¹è¯šä¿¡çš„æ‰§ç€â€”â€”åœ¨è¡Œä¸šä¸­è„±é¢–è€Œå‡ºã€‚â€œæˆ‘ä»¬æˆä¸ºå®¢æˆ·å›¢é˜Ÿçš„å»¶ä¼¸â€”â€”æ˜¯çœŸå®çš„äººï¼Œå¸¦ç€çœŸå®çš„æ‹…å½“ï¼Œåœ¨æ¯ä¸€æ­¥æä¾›æŒ‡å¯¼å’ŒååŠ©ï¼Œâ€Jaggaè¡¥å……é“ã€‚</p>
<p>æ­¤å¤–ï¼ŒCloudMinisteræ˜ç™½æ•°å­—åŒ–è½¬å‹ä¸ä»…ä»…æ˜¯ä¸Šäº‘ï¼Œä¹Ÿå…³ä¹ä¿¡ä»»ã€‚â€œæˆ‘ä»¬åœ¨ä¸å®¢æˆ·åˆä½œçš„æ–¹å¼ä¸Šæå…·åä½œæ€§ã€‚ä»æ­å»ºåŸºç¡€è®¾æ–½åˆ°éšå…¶ä¸šåŠ¡æ‰©å±•ï¼Œä»–ä»¬å¯ä»¥ä¿¡ä»»æˆ‘ä»¬æ‰¿æ‹…ç¹é‡çš„å·¥ä½œï¼Œä»è€Œä¸“æ³¨äºè‡ªèº«å¢é•¿ï¼Œâ€Jaggaç»§ç»­è¯´é“ã€‚</p>
<p><strong><strong>Akamaiï¼šä¸€ä¸ªæ›´æ˜æ™ºçš„äº‘é€‰æ‹©</strong></strong></p>
<p>åˆ°äº†2023å¹´ï¼ŒCloudMinisterå·²å‡†å¤‡å¥½æ›´ä¸Šä¸€å±‚æ¥¼ã€‚å‡­å€Ÿåœ¨ç§æœ‰äº‘å’Œè¶…å¤§è§„æ¨¡äº‘æœåŠ¡ä¸Šå»ºç«‹èµ·çš„å£°èª‰ï¼Œå›¢é˜Ÿçœ‹åˆ°äº†ä¸€ä¸ªæœºä¼šï¼Œå¯ä»¥ä¸ºå®¢æˆ·æä¾›æ›´æ•æ·ã€æ›´ç»æµä¸”æ›´ç¬¦åˆç°ä»£éœ€æ±‚çš„äº§å“ã€‚</p>
<p>è¿™å°±æ˜¯Akamaiå‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚</p>
<p>â€œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿæ”¯æŒé«˜æ€§èƒ½å·¥ä½œè´Ÿè½½çš„äº‘å¹³å°ï¼ŒåŒæ—¶é¿å…è¶…å¤§è§„æ¨¡äº‘æœåŠ¡çš„å¤æ‚æ€§å’Œé«˜æ˜‚æˆæœ¬ï¼Œâ€Jaggaè§£é‡Šé“ã€‚Akamaiæ”¶è´­Linodeï¼ŒåŠ ä¹‹å…¶å…¨çƒåˆ†å¸ƒå¼è¾¹ç¼˜æ¶æ„çš„å¸ƒå±€ï¼Œä½¿ä¹‹æˆä¸ºç†æƒ³ä¹‹é€‰ã€‚</p>
<p>ä¸Akamaiåœ¨äº‘è®¡ç®—é¢†åŸŸåˆä½œï¼Œå½»åº•æ”¹å˜äº†CloudMinisterä¸ºå®¢æˆ·åˆ›é€ ä»·å€¼åŠæ‰©å±•è‡ªèº«è¿è¥çš„æ–¹å¼ã€‚â€œåœ¨ä¸€ä¸ªæ€§èƒ½ã€å¯é æ€§å’Œå®‰å…¨ä¸ä»…æ˜¯æœŸæœ›æ›´æ˜¯è¦æ±‚çš„è¡Œä¸šï¼ŒAkamaiä½¿æˆ‘ä»¬èƒ½å¤ŸæŒç»­è¾¾åˆ°å¹¶è¶…è¶Šè¿™äº›åŸºå‡†ï¼Œâ€Chughç»§ç»­è¯´é“ã€‚</p>
<blockquote>
<p>Akamaiçš„å…¨çƒè¾¹ç¼˜ç½‘ç»œå’Œæ™ºèƒ½è·¯ç”±ä½¿æˆ‘ä»¬ç”šè‡³èƒ½ä¸ºåè¿œåœ°åŒºæä¾›é«˜æ€§èƒ½äº‘æœåŠ¡ï¼Œå¸®åŠ©è¿œæ–¹çš„å®¢æˆ·åœ¨ä¸å¦¥åçš„æƒ…å†µä¸‹å®ç°æ‰©å±•ã€‚</p>
<p>â€”â€”Tanuj Chugh, CloudMinisteré¦–å¸­æ‰§è¡Œå®˜å…¼è”åˆåˆ›å§‹äºº</p>
</blockquote>
<p><strong><strong>ä»è¶…å¤§è§„æ¨¡äº‘è¿ç§»å¸¦æ¥å·¨å¤§å½±å“</strong></strong></p>
<p>åœ¨Akamai Partner Connectçš„å¸®åŠ©ä¸‹ï¼ŒCloudMinisterå·²å°†å…«å®¶å®¢æˆ·ï¼ˆä¸”ä»åœ¨å¢åŠ ï¼‰è¿ç§»è‡³Akamaiã€‚é€šè¿‡åˆ©ç”¨Akamaiçš„äº‘è®¡ç®—æœåŠ¡ï¼ŒCloudMinisterå¾—ä»¥æä¾›å…·å¤‡æœ¬åœ°åŒ–æ”¯æŒå’Œå¯é¢„æµ‹æˆæœ¬çš„äº‘æœåŠ¡ã€‚</p>
<p>CloudMinisterçš„ä¸€ä½å®¢æˆ·ï¼Œå¾—ç›ŠäºAkamaiäº‘æœåŠ¡é«˜æ•ˆçš„èµ„æºæ‰©å±•å’Œè¾ƒä½çš„å‡ºå£è´¹ç”¨ï¼Œå°†äº‘åŸºç¡€è®¾æ–½æˆæœ¬å¤§å¹…é™ä½äº†30%â€“40%ã€‚å¦ä¸€å®¶å®¢æˆ·ï¼Œå‡­å€ŸAkamaiå…¨çƒåˆ†å¸ƒå¼è¾¹ç¼˜ç½‘ç»œå¸¦æ¥çš„å»¶è¿Ÿé™ä½ï¼Œåº”ç”¨æ€§èƒ½æå‡äº†40%ã€‚â€œä¸¤å®¶å®¢æˆ·éƒ½å—ç›Šäºå¢å¼ºçš„å®‰å…¨æ€§å’Œæ›´å¿«çš„éƒ¨ç½²æ—¶é—´ï¼Œè¿™å¸®åŠ©ä»–ä»¬æ»¡æ€€ä¿¡å¿ƒåœ°æ‰©å±•å¹¶ä¸“æ³¨äºåˆ›æ–°ï¼Œâ€Chughè¯´é“ã€‚</p>
<p><strong><strong>å¼€æ‹“æ–°å¸‚åœºå¹¶å¿«é€Ÿå¢é•¿</strong></strong></p>
<p>åœ¨å®¢æˆ·è·å¾—é¡¶çº§æ€§èƒ½è€Œæ— éœ€æ”¯ä»˜è¶…å¤§è§„æ¨¡äº‘æˆæœ¬çš„åŒæ—¶ï¼ŒCloudMinisterä¹Ÿåœ¨éä¸€çº¿åŸå¸‚å’ŒæœåŠ¡ä¸è¶³çš„åœ°åŒºå®ç°äº†å¿«é€Ÿå¢é•¿ã€‚åœ¨è·å¾—Akamai Partner Connectå¸®åŠ©ä¹‹å‰ï¼Œå‘äºŒçº¿å’Œä¸‰çº¿åŸå¸‚æ‰©å¼ æ„å‘³ç€CloudMinisterè¦åº”å¯¹é«˜å»¶è¿Ÿã€ç¨€ç¼ºçš„è¾¹ç¼˜èµ„æºå’Œä¸å¯é çš„ç½‘ç»œã€‚</p>
<p>â€œå€ŸåŠ©Akamaiçš„å…¨çƒè¾¹ç¼˜ç½‘ç»œå’Œæ™ºèƒ½è·¯ç”±ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæä¾›ä½å»¶è¿Ÿã€é«˜æ€§èƒ½çš„äº‘æœåŠ¡ï¼Œå³ä½¿æ˜¯åœ¨ä»¥å‰æ— æ³•è¦†ç›–çš„åŒºåŸŸã€‚è¿™ä½¿å¾—ä¸»è¦åŸå¸‚ä¹‹å¤–çš„åˆåˆ›ä¼ä¸šå’Œå…¬å¸èƒ½å¤Ÿåœ¨ä¸ç‰ºç‰²æ€§èƒ½æˆ–å¯é æ€§çš„å‰æä¸‹ï¼Œå……æ»¡ä¿¡å¿ƒåœ°æ‰©å±•ä¸šåŠ¡ï¼Œâ€Chughè¯´é“ã€‚</p>
<p>æ­¤å¤–ï¼Œè¯¥å…¬å¸åœ¨AkamaiåŒºåŸŸå›¢é˜Ÿçš„æ”¯æŒä¸‹ï¼Œå®æ—¶å…‹æœäº†æŠ€æœ¯æŒ‘æˆ˜ï¼Œå¹¶åœ¨ç«äº‰æ¿€çƒˆçš„å¸‚åœºä¸­å»ºç«‹äº†ä¿¡èª‰ã€‚é€šè¿‡è”åˆç½‘ç»œç ”è®¨ä¼šå’Œåˆä½œä¼™ä¼´é¡¹ç›®è¿›è¡Œçš„è”åˆè¥é”€ï¼Œä½¿å’¨è¯¢é‡æ¿€å¢äº†30%ã€‚â€œé™¤äº†è¿™äº›å¥½å¤„ï¼Œä»¥å°åº¦å¢æ¯”ç»“ç®—ã€å¤šäº‘çµæ´»æ€§ä»¥åŠDDoSé˜²æŠ¤ç­‰å®‰å…¨åŠŸèƒ½ï¼Œéƒ½å¸®åŠ©æˆ‘ä»¬çš„å®¢æˆ·å®ç°äº†æ›´è‡ªä¿¡ã€æ›´å…·æˆæœ¬æ•ˆç›Šçš„æ‰©å±•ï¼Œâ€Chughç»§ç»­è¯´é“ã€‚</p>
<p><strong><strong>å±•æœ›æœªæ¥ï¼šæ‰“é€ æ›´æ™ºèƒ½çš„æ•°å­—åŒ–ä½“éªŒ</strong></strong></p>
<p>CloudMinisterçš„ç›®æ ‡æ˜¯ä¸Akamaiå…±åŒæˆé•¿ï¼Œåˆ©ç”¨å…¶äº‘å¹³å°ã€è¾¹ç¼˜è®¡ç®—ã€å®‰å…¨è§£å†³æ–¹æ¡ˆå’ŒAI/MLå·¥å…·ï¼Œä¸ºå®¢æˆ·æä¾›æ›´å¿«ã€æ›´å®‰å…¨ã€æ›´æ™ºèƒ½çš„æ•°å­—åŒ–ä½“éªŒã€‚</p>
<p>â€œæˆ‘ä»¬å°†Akamaiè§†ä¸ºåˆ›æ–°é“è·¯ä¸Šçš„é•¿æœŸä¼™ä¼´ï¼Œå¸®åŠ©æˆ‘ä»¬æ‰©å±•æœåŠ¡å¹¶è§¦åŠæ–°å¸‚åœºã€‚è¿™æ˜¯å…³äºåˆ›é€ ä¸€ä¸ªæŠ€æœ¯èµ‹èƒ½äººç±»çš„æœªæ¥ï¼Œè€ŒAkamaiåœ¨è¿™ä¸€æ—…ç¨‹ä¸­æ‰®æ¼”ç€å…³é”®è§’è‰²ï¼Œâ€Jaggaè§£é‡Šé“ã€‚</p>
<p>å¯¹äºå…¶ä»–å¥³æ€§åˆ›ä¸šè€…ï¼Œå¥¹ç»™å‡ºäº†è¿™æ ·çš„å»ºè®®ï¼šâ€œä¸è¦ç­‰å¾…è®¸å¯ã€‚å¤§èƒ†æ¢¦æƒ³ï¼Œç›¸ä¿¡ç›´è§‰ï¼Œæ‰“ç ´å£å’ã€‚â€è€Œå¯¹äºæ­£åœ¨è€ƒè™‘Akamaiçš„ä¼ä¸šï¼ŒJaggaæ€»ç»“é“ï¼šâ€œè¿™ä¸ä»…ä»…æ˜¯äº‘æœåŠ¡ï¼Œæ›´æ˜¯ä¸€æ®µå…³ç³»â€”â€”ä¸€æ®µåœ¨æ€§èƒ½ã€æ”¯æŒå’Œæˆé•¿æ–¹é¢éƒ½èƒ½å¸¦æ¥å›æŠ¥çš„å…³ç³»ã€‚â€</p>
<p><strong><strong>å…³äºCloudMinister Technologies</strong></strong></p>
<p>CloudMinister Technologies Pvt. Ltd. æ˜¯ä¸€å®¶å°åº¦ITæœåŠ¡å’Œå’¨è¯¢å…¬å¸ï¼Œæˆç«‹äº2017å¹´ï¼Œæ€»éƒ¨ä½äºæ‹‰è´¾æ–¯å¦é‚¦æ–‹æµ¦å°”ã€‚ä½œä¸ºä¸€å®¶ä¸“æ³¨äºç½‘ç»œæ‰˜ç®¡å’ŒæœåŠ¡å™¨ç®¡ç†æœåŠ¡çš„é¢†å…ˆå°åº¦ITæœåŠ¡å’Œå’¨è¯¢å…¬å¸ï¼ŒCloudMinisteræ‹¥æœ‰ä¸€æ”¯é«˜æŠ€èƒ½çš„ä¸“ä¸šå›¢é˜Ÿï¼Œä¸ºAkamaiã€AWSã€Microsoft Azureå’ŒGoogle Cloudç­‰å¹³å°æä¾›åŒ…æ‹¬VPSæ‰˜ç®¡ã€ä¸“ç”¨æœåŠ¡å™¨ã€äº‘æ‰˜ç®¡å’ŒæœåŠ¡å™¨ç®¡ç†åœ¨å†…çš„é›†æˆè§£å†³æ–¹æ¡ˆå¥—ä»¶ã€‚</p>
<p><strong><strong>å…³äºAkamai</strong></strong></p>
<p>Akamaiæ˜¯ä¸ºä¼ä¸šåœ¨çº¿ä¸šåŠ¡æä¾›åŠ¨åŠ›å’Œä¿æŠ¤çš„ç½‘ç»œå®‰å…¨å’Œäº‘è®¡ç®—å…¬å¸ã€‚æˆ‘ä»¬å¸‚åœºé¢†å…ˆçš„å®‰å…¨è§£å†³æ–¹æ¡ˆã€å“è¶Šçš„å¨èƒæƒ…æŠ¥å’Œå…¨çƒè¿è¥å›¢é˜Ÿæä¾›æ·±åº¦é˜²å¾¡ï¼Œéšæ—¶éšåœ°ä¿æŠ¤ä¼ä¸šæ•°æ®å’Œåº”ç”¨ç¨‹åºã€‚Akamaiçš„å…¨æ ˆäº‘è®¡ç®—è§£å†³æ–¹æ¡ˆåœ¨å…¨çƒæœ€åˆ†æ•£çš„å¹³å°ä¸Šæä¾›å“è¶Šæ€§èƒ½å’Œå¯è´Ÿæ‹…æ€§ã€‚å…¨çƒä¼ä¸šä¿¡ä»»Akamaiæä¾›è¡Œä¸šé¢†å…ˆçš„å¯é æ€§ã€è§„æ¨¡å’Œä¸“ä¸šçŸ¥è¯†ï¼Œä»è€Œå……æ»¡ä¿¡å¿ƒåœ°å‘å±•ä¸šåŠ¡ã€‚æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251219_external2_blogarticles237" target="_blank" title="https://www.akamai.com/zh?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251219_external2_blogarticles237" ref="nofollow noopener noreferrer">akamai.com</a>Â å’ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fblog%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251219_external3_blogarticles237" target="_blank" title="https://www.akamai.com/zh/blog?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251219_external3_blogarticles237" ref="nofollow noopener noreferrer">akamai.com/blog</a>ï¼Œæˆ–åœ¨Xå’ŒLinkedInä¸Šå…³æ³¨AkamaiÂ Technologiesã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_251219_blogarticles237_end" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_251219_blogarticles237_end" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenAI ç”©å‡ºç‹ç‚¸ï¼šGPT-5.2-Codex ä¸Šçº¿ï¼Œè¿™æ¬¡å®ƒæƒ³åšä½ çš„â€œèµ›åšåˆä¼™äººâ€]]></title>    <link>https://juejin.cn/post/7585377128490532916</link>    <guid>https://juejin.cn/post/7585377128490532916</guid>    <pubDate>2025-12-19T16:19:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377128490532916" data-draft-id="7585385309891526656" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenAI ç”©å‡ºç‹ç‚¸ï¼šGPT-5.2-Codex ä¸Šçº¿ï¼Œè¿™æ¬¡å®ƒæƒ³åšä½ çš„â€œèµ›åšåˆä¼™äººâ€"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-19T16:19:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenAI ç”©å‡ºç‹ç‚¸ï¼šGPT-5.2-Codex ä¸Šçº¿ï¼Œè¿™æ¬¡å®ƒæƒ³åšä½ çš„â€œèµ›åšåˆä¼™äººâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T16:19:15.000Z" title="Fri Dec 19 2025 16:19:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è€å®è¯´ï¼Œåœ¨ AI æ¨¡å‹åƒä¸‹é¥ºå­ä¸€æ ·å‘å¸ƒçš„ 2025 å¹´å¹´åº•ï¼Œå¤§å®¶å¯¹â€œé¢ è¦†æ€§å‡çº§â€è¿™ä¸ªè¯æ—©å°±è„±æ•äº†ã€‚ä½† OpenAI åˆšåˆšåœ¨ 12 æœˆ 18 æ—¥æ‚„æ‚„æ”¾å‡ºçš„ GPT-5.2-Codexï¼Œè¿˜æ˜¯è®©ä¸å°‘ç†¬å¤œå†™ä»£ç çš„å·¥ç¨‹å¸ˆè™èº¯ä¸€éœ‡ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ GPT-5.2 çš„ä¸€ä¸ªå¾®è°ƒç‰ˆæœ¬ï¼Œæ›´åƒæ˜¯ä¸€æ¬¡é’ˆå¯¹ç¨‹åºå‘˜ç—›ç‚¹çš„â€œç²¾å‡†çˆ†ç ´â€ã€‚å¦‚æœè¯´ä»¥å‰çš„ AI æ˜¯å¸®ä½ è¡¥å…¨ä»£ç çš„å®ä¹ ç”Ÿï¼Œé‚£ä¹ˆè¿™æ¬¡ä¸Šçº¿çš„ Codexï¼Œæ›´åƒæ˜¯ä¸€ä¸ªèƒ½æ‰›äº‹å„¿çš„â€œé«˜çº§åˆä¼™äººâ€ã€‚</p>
<p>æˆ‘èŠ±äº†ä¸€ç‚¹æ—¶é—´æ‰’äº†æ‰’è¿™èƒŒåçš„æŠ€æœ¯ç»†èŠ‚å’Œå®æµ‹æ•°æ®ï¼Œæœ‰äº›ä¸œè¥¿ç¡®å®å€¼å¾—èŠèŠã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Feergertg-1024x468.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/eergertg-1024x468.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/355f433ab89041c0b69fbedcb6314329~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766765955&amp;x-signature=%2B43n99d%2FOVt16Kd3ZC2FB%2FjRY8Q%3D" alt="eergertg" loading="lazy"/></a></p>
<h3 data-id="heading-0">å‘Šåˆ«â€œé‡‘é±¼è®°å¿†â€ï¼šä¸Šä¸‹æ–‡å‹ç¼©æŠ€æœ¯</h3>
<p>ä»¥å‰ç”¨ AI å†™ä»£ç ï¼Œæœ€å¤§çš„å´©æºƒç¬é—´æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä½ æŠŠæ•´ä¸ªé¡¹ç›®æ‰”ç»™å®ƒï¼ŒèŠåˆ°ç¬¬åè½®å¯¹è¯æ—¶ï¼Œå®ƒçªç„¶å¿˜è®°äº†å¼€å¤´å®šä¹‰çš„å˜é‡ã€‚</p>
<p>GPT-5.2-Codex æœ€å¤§çš„çœ‹ç‚¹å°±åœ¨äº**â€œä¸Šä¸‹æ–‡å‹ç¼©â€æŠ€æœ¯**ã€‚è¿™å¬èµ·æ¥å¾ˆå­¦æœ¯ï¼Œä½†ç”¨å¤§ç™½è¯è§£é‡Šå°±æ˜¯ï¼šå®ƒå­¦ä¼šäº†åˆ’é‡ç‚¹ã€‚</p>
<p>åœ¨å¤„ç†é‚£äº›æŒç»­æ•°å‘¨ã€ä»£ç é‡å·¨å¤§çš„å¤æ‚ä»»åŠ¡æ—¶ï¼Œå®ƒä¸å†æ˜¯å‚»å‚»åœ°æŠŠæ‰€æœ‰ Token å¡è¿›å†…å­˜ï¼Œè€Œæ˜¯èƒ½åŠ¨æ€å‹ç¼©æ¨ç†è¿‡ç¨‹ï¼Œä¿ç•™æ ¸å¿ƒé€»è¾‘ã€‚å®˜æ–¹æ•°æ®æ˜¾ç¤ºï¼Œè¿™ç§æœºåˆ¶è®© Token çš„ä½¿ç”¨æ•ˆç‡æå‡äº† 30%ã€‚è¿™æ„å‘³ç€ï¼Œå½“ä½ è¿›è¡Œå¤§è§„æ¨¡é‡æ„æˆ–è€…è·¨è¯­è¨€è¿ç§»è¿™ç§â€œé•¿è·‘â€ä»»åŠ¡æ—¶ï¼Œå®ƒä¸ä¼šè·‘åˆ°ä¸€åŠå°±æ–­ç‰‡å„¿ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Ferhgrth-1024x683.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/erhgrth-1024x683.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b3be86eeb07468e8d767efeaee43239~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766765955&amp;x-signature=P9NbElypS3RM9w4sxLAojjMCRs0%3D" alt="erhgrth" loading="lazy"/></a></p>
<h3 data-id="heading-1">çœŸå®çš„å·¥ç¨‹èƒ½åŠ›ï¼Œè€Œä¸åªæ˜¯åˆ·é¢˜</h3>
<p>å¾ˆå¤šæ¨¡å‹åœ¨åš LeetCode ç®—æ³•é¢˜æ—¶çŒ›å¦‚è™ï¼Œä¸€åˆ°çœŸå®çš„ä¸šåŠ¡ä»£ç é‡Œå°±æ­‡èœã€‚OpenAI è¿™æ¬¡ä¼¼ä¹å¬åˆ°äº†å¼€å‘è€…çš„åæ§½ï¼Œä¸“é—¨å¼ºåŒ–äº† GPT-5.2-Codex çš„<strong>å·¥ç¨‹å®æˆ˜èƒ½åŠ›</strong>ã€‚</p>
<p>ä¸¤ä¸ªæ•°æ®å¾ˆæœ‰æ„æ€ï¼š</p>
<ol>
<li><strong>SWE-Bench Pro</strong>ï¼ˆè½¯ä»¶å·¥ç¨‹ä»»åŠ¡ï¼‰çš„å®Œæˆç‡å†²åˆ°äº† <strong>56.4%</strong>ã€‚åˆ«è§‰å¾—è¿™ä¸ªæ•°å­—ä½ï¼Œåœ¨å…¨æ˜¯å‘çš„çœŸå®è½¯ä»¶å¼€å‘ç¯å¢ƒä¸­ï¼Œèƒ½è¿‡åŠæ•°ä»»åŠ¡ä¸å‡ºé”™ï¼Œå·²ç»æ˜¯ç›®å‰çš„è¡Œä¸šå¤©èŠ±æ¿ã€‚</li>
<li><strong>Terminal-Bench 2.0</strong>ï¼ˆç»ˆç«¯æ“ä½œï¼‰å‡†ç¡®ç‡è¾¾åˆ°äº† <strong>64%</strong>ã€‚</li>
</ol>
<p>æ›´è´´å¿ƒçš„æ˜¯ï¼Œå®ƒç»ˆäºä¸å†åªæ˜¯ Linux ä¼˜å…ˆäº†ã€‚OpenAI ä¸“é—¨ä¼˜åŒ–äº†å®ƒåœ¨ <strong>åŸç”Ÿ Windows 10/11 ç¯å¢ƒ</strong>ä¸‹çš„è¡¨ç°ã€‚å¯¹äºé‚£äº›åœ¨è¿™ä¸ªç”Ÿæ€é‡Œæ‘¸çˆ¬æ»šæ‰“çš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™ç»å¯¹æ˜¯ä¸ªè¿Ÿæ¥çš„å¥½æ¶ˆæ¯ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Ffsdfsdg.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/fsdfsdg.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3962bef769b047538897b321eab0ce8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766765955&amp;x-signature=EJYuxjqFNKMdBm8sWkHn4dPbYEs%3D" alt="fsdfsdg" loading="lazy"/></a></p>
<h3 data-id="heading-2">çœ‹åˆ°â€œè‰å›¾â€å°±èƒ½å†™ä»£ç </h3>
<p>è™½ç„¶æˆ‘ä»¬å¼ºè°ƒå®ƒæ˜¯ä¸ªåç«¯å¼ºæ‰‹ï¼Œä½†è¿™æ¬¡çš„è§†è§‰ç†è§£èƒ½åŠ›ä¹Ÿè®©äººå°è±¡æ·±åˆ»ã€‚</p>
<p>ä½ ç°åœ¨å¯ä»¥æŠŠä¸€å¼ ç”»åœ¨é¤å·¾çº¸ä¸Šçš„ UI è‰å›¾ï¼Œæˆ–è€…ä¸€å¼ å¤æ‚çš„æŠ€æœ¯æ¶æ„å›¾æ‰”ç»™å®ƒï¼Œå®ƒèƒ½ç›´æ¥ç†è§£å¹¶è½¬åŒ–ä¸ºåŸå‹çš„ä»£ç ã€‚è¿™å¯¹äºäº§å“ç»ç†æˆ–è€…å…¨æ ˆå¼€å‘è€…æ¥è¯´ï¼Œä»â€œæƒ³æ³•â€åˆ°â€œDemoâ€çš„æ—¶é—´è¢«æåº¦å‹ç¼©äº†ã€‚</p>
<h3 data-id="heading-3">ä¸€æŠŠåŒåˆƒå‰‘ï¼šå¼ºæ‚çš„å®‰å…¨æ”»é˜²èƒ½åŠ›</h3>
<p>è¿™é‡Œå¿…é¡»å¾—æä¸ªé†’ã€‚GPT-5.2-Codex çš„ä»£ç å®¡è®¡èƒ½åŠ›å¼ºå¾—æœ‰ç‚¹è®©äººå®³æ€•ã€‚</p>
<p>æœ‰ä¸€ä¸ªå…·ä½“çš„æ¡ˆä¾‹ï¼šå®‰å…¨ç ”ç©¶å‘˜ç”¨å®ƒçš„å‰ä»£æ¨¡å‹ï¼Œåœ¨ä¸€å‘¨å†…å°±æŒ–å‡ºäº† React æ¡†æ¶é‡Œçš„ä¸‰ä¸ªå®‰å…¨æ¼æ´ã€‚åˆ°äº†è¿™ä¸€ä»£ï¼Œå®ƒçš„é˜²å¾¡æ€§ç¼–ç¨‹å’Œæ¼æ´æŒ–æ˜èƒ½åŠ›æ›´ä¸Šäº†ä¸€å±‚æ¥¼ã€‚</p>
<p>æ­£å› ä¸ºè¿™æŠŠâ€œåˆ€â€å¤ªå¿«ï¼ŒOpenAI ç›®å‰é‡‡å–äº†éå¸¸è°¨æ…çš„å‘å¸ƒç­–ç•¥ã€‚è™½ç„¶ä»˜è´¹çš„ ChatGPT ç”¨æˆ·å·²ç»åœ¨ Codex ç•Œé¢é‡Œç”¨ä¸Šäº†ï¼Œä½† API æ¥å£è¿˜å¾—ç­‰å‡ å‘¨æ‰ä¼šé€æ­¥å¼€æ”¾ã€‚ç‰¹åˆ«æ˜¯é’ˆå¯¹é«˜é˜¶çš„ç½‘ç»œå®‰å…¨åŠŸèƒ½ï¼ŒOpenAI æäº†ä¸ªâ€œå¯ä¿¡è®¿é—®è¯•ç‚¹è®¡åˆ’â€ï¼Œç”Ÿæ€•è¢«åäººæ‹¿å»æç ´åã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fhryjytj-1024x809.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/hryjytj-1024x809.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc68bf1514f24b909f3fcd69852c463b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766765955&amp;x-signature=4hPO1f%2FsW50MKfDhmCeuh%2FsfNCw%3D" alt="hryjytj" loading="lazy"/></a></p>
<h3 data-id="heading-4">å†™åœ¨æœ€å</h3>
<p>ç°åœ¨çš„ GPT-5.2-Codex å®Œç¾å—ï¼Ÿè‚¯å®šä¸ã€‚å®ƒä¾ç„¶æ˜‚è´µï¼Œä¾ç„¶éœ€è¦äººå·¥ Code Reviewï¼Œä¾ç„¶å¯èƒ½åœ¨ä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ã€‚</p>
<p>ä½†å®ƒçš„å‡ºç°æ ‡å¿—ç€ä¸€ä¸ªè½¬å˜ï¼šAI æ­£åœ¨ä»ä¸€ä¸ªâ€œè¢«åŠ¨å“åº”â€çš„å·¥å…·ï¼Œå˜æˆä¸€ä¸ªèƒ½å¤Ÿâ€œä¸»åŠ¨æ‰§è¡Œâ€é•¿é“¾è·¯ä»»åŠ¡çš„æ™ºèƒ½ä½“ã€‚</p>
<p>å¯¹äºæˆ‘ä»¬è¿™äº›å¼€å‘è€…æ¥è¯´ï¼Œå¥½æ¶ˆæ¯æ˜¯å¦‚æœä½ æœ‰â€œæ‹–å»¶ç—‡â€ï¼Œä¸çŸ¥é“å¤æ‚é¡¹ç›®ä»ä½•ä¸‹æ‰‹ï¼ŒæŠŠå®ƒå½“æˆæ€ç»´é™ªç»ƒå’Œèµ·æ­¥å·¥å…·ä¼šéå¸¸é¡ºæ‰‹ï¼›åæ¶ˆæ¯æ˜¯ï¼Œç•™ç»™åªä¼šå†™ CRUD çš„â€œä»£ç æ¬è¿å·¥â€çš„æ—¶é—´ï¼ŒçœŸçš„ä¸å¤šäº†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fsdgfdgdfh-1024x496.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/sdgfdgdfh-1024x496.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/986c94a5c40b42b08d4c6c3407b09b6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766765955&amp;x-signature=Lgt1JkThVJ6JIUKig0%2BTWDs9Tcc%3D" alt="sdgfdgdfh" loading="lazy"/></a></p>
<p>ç›®å‰è¿™ä¸ªæ¨¡å‹å·²ç»å‘æ‰€æœ‰ Plus ç”¨æˆ·å…¨é‡æ¨é€ã€‚å»ºè®®ä½ å»è¯•ç€ç”¨å®ƒè·‘ä¸€ä¸ªè¿˜æ²¡å¡«å®Œçš„å‘ï¼Œä¹Ÿè®¸ä¼šæœ‰æƒŠå–œã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å·¥ç¨‹åŒ–å¿…å¤‡ï¼SVG é›ªç¢§å›¾çš„æœ€ä½³å®è·µï¼šID å¼•ç”¨ + ç¼“å­˜å‹å¥½ï¼Œæ— éœ€æ‰‹åŠ¨ç®—åæ ‡]]></title>    <link>https://juejin.cn/post/7585382317444218890</link>    <guid>https://juejin.cn/post/7585382317444218890</guid>    <pubDate>2025-12-19T14:57:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585382317444218890" data-draft-id="7585382317444186122" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å·¥ç¨‹åŒ–å¿…å¤‡ï¼SVG é›ªç¢§å›¾çš„æœ€ä½³å®è·µï¼šID å¼•ç”¨ + ç¼“å­˜å‹å¥½ï¼Œæ— éœ€æ‰‹åŠ¨ç®—åæ ‡"/> <meta itemprop="keywords" content="å‰ç«¯,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-19T14:57:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PineappleCoder"/> <meta itemprop="url" content="https://juejin.cn/user/3323167184272627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å·¥ç¨‹åŒ–å¿…å¤‡ï¼SVG é›ªç¢§å›¾çš„æœ€ä½³å®è·µï¼šID å¼•ç”¨ + ç¼“å­˜å‹å¥½ï¼Œæ— éœ€æ‰‹åŠ¨ç®—åæ ‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3323167184272627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PineappleCoder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T14:57:59.000Z" title="Fri Dec 19 2025 14:57:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">âœ‚ï¸ å›¾æ ‡â€œåˆä½“â€å¤§æ³•ï¼šSVG é›ªç¢§å›¾å¦‚ä½•ç»ˆç»“ HTTP è¯·æ±‚åœ°ç‹±ï¼Œè®©ä½ çš„å›¾æ ‡ç§’é€ŸåŠ è½½ï¼Ÿ</h2>
<blockquote>
<p><strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸“æ  - ç¬¬å…«ç¯‡</strong></p>
</blockquote>
<p>åœ¨ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†å›¾ç‰‡åŠ è½½ç­–ç•¥ï¼Œè§£å†³äº†å¤§å›¾çš„æ€§èƒ½é—®é¢˜ã€‚ä½†å¯¹äºç½‘é¡µä¸­é‚£äº›<strong>é›¶æ•£çš„å°å›¾æ ‡</strong>ï¼Œæ¯”å¦‚ç‚¹èµã€åˆ†äº«ã€è®¾ç½®ç­‰ï¼Œå®ƒä»¬è™½ç„¶ä½“ç§¯å°ï¼Œå´æœ‰ä¸€ä¸ªè‡´å‘½çš„æ€§èƒ½ç—›ç‚¹ï¼š<strong>æ¯ä¸ªå›¾æ ‡éƒ½ä¼šå‘èµ·ä¸€ä¸ªç‹¬ç«‹çš„ HTTP è¯·æ±‚ï¼</strong></p>
<p>å½“é¡µé¢æœ‰å‡ åç”šè‡³ä¸Šç™¾ä¸ªå›¾æ ‡æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šå‘èµ·å‡ åæˆ–ä¸Šç™¾ä¸ªè¯·æ±‚ï¼Œè¿™åœ¨ HTTP/1.1 æ—¶ä»£æ˜¯æ€§èƒ½æ€æ‰‹ï¼Œå³ä½¿åœ¨ HTTP/2 ä¸­ï¼Œè¿‡å¤šçš„è¯·æ±‚ä¹Ÿä¼šå¢åŠ  TCP/TLS æ¡æ‰‹çš„å¼€é”€ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥å­¦ä¹ ä¸€ä¸ªå¤è€è€Œåˆç°ä»£çš„ä¼˜åŒ–æŠ€å·§â€”â€”<strong>é›ªç¢§å›¾ï¼ˆCSS Spritesï¼‰</strong> ï¼Œä»¥åŠå®ƒåœ¨ç°ä»£ <strong>SVG</strong> å›¾æ ‡ä½“ç³»ä¸­çš„æœ€ä½³å®è·µã€‚</p>
<hr/>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯é›ªç¢§å›¾ï¼ˆCSS Spritesï¼‰ï¼Ÿ</h3>
<p>é›ªç¢§å›¾ï¼Œæœ€æ—©æ˜¯ä¸º PNG è¿™ç±»ä½å›¾å›¾æ ‡çš„ä¼˜åŒ–è€Œç”Ÿï¼Œåœ¨ HTTP/1.1 çš„æ—¶ä»£ï¼Œå®ƒå‡ ä¹æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„<strong>æ ‡é…</strong>ã€‚</p>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šå°†å¤šä¸ªå°å›¾æ ‡åˆå¹¶ä¸ºä¸€å¼ å¤§å›¾ï¼Œé€šè¿‡ CSS çš„ <code>background-position</code> å±æ€§æ¥æ˜¾ç¤ºæŒ‡å®šåŒºåŸŸã€‚</li>
<li><strong>ç›®çš„</strong>ï¼šå°†å¤šæ¬¡ HTTP è¯·æ±‚åˆå¹¶ä¸º<strong>ä¸€æ¬¡</strong>ï¼Œå¤§å¹…å‡å°‘ç½‘ç»œå¼€é”€ï¼Œæé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦ã€‚</li>
</ul>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆè¦ç”¨é›ªç¢§å›¾ä¼˜åŒ– SVG å›¾æ ‡ï¼Ÿ</h3>
<p>è™½ç„¶ SVGï¼ˆScalable Vector Graphicsï¼‰æœ¬èº«æ˜¯ XML æ–‡æœ¬ï¼Œå…·æœ‰å¯ç¼©æ”¾ã€æ¸…æ™°åº¦é«˜ã€å¯è¢« CSS æ ·å¼æ§åˆ¶ç­‰ä¼˜ç‚¹ï¼Œä½†å®ƒä¾ç„¶é¢ä¸´<strong>è¯·æ±‚è¿‡å¤š</strong>çš„æ€§èƒ½æŒ‘æˆ˜ã€‚</p>
<p>SVG é›ªç¢§å›¾çš„ä¼˜åŒ–æ•ˆæœä½“ç°åœ¨ï¼š</p>
<ol>
<li><strong>å‡å°‘ HTTP è¯·æ±‚</strong>ï¼šå°†å¤šä¸ªå›¾æ ‡åˆå¹¶æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå®ç°<strong>ä¸€æ¬¡åŠ è½½ï¼Œå…¨é¢ä¼˜åŒ–</strong>ã€‚</li>
<li><strong>æå‡ç¼“å­˜æ•ˆç‡</strong>ï¼šæµè§ˆå™¨å¯ç¼“å­˜æ•´ä¸ªå›¾æ ‡é›†ï¼ŒåŠ å¿«åç»­é¡µé¢åŠ è½½ã€‚</li>
<li><strong>å‡å°æ–‡ä»¶ä½“ç§¯</strong>ï¼šåˆå¹¶åçš„æ–‡ä»¶æ›´å®¹æ˜“è¢«æœåŠ¡å™¨è¿›è¡Œ Gzip/Brotli å‹ç¼©ï¼Œä¼ è¾“æ›´å¿«ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29bbe76049c34da093dd2d4855ab3144~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGluZWFwcGxlQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766761079&amp;x-signature=1qKmZtk4PoRNVpJQqoRdBvS89o0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">ğŸ› ï¸ SVG é›ªç¢§å›¾çš„ä¸¤ç§å®ç°æ–¹å¼</h3>
<p>ä¸ä¼ ç»Ÿçš„ PNG é›ªç¢§å›¾ä¸åŒï¼ŒSVG é›ªç¢§å›¾æ‹¥æœ‰æ›´çµæ´»ã€æ›´å¼ºå¤§çš„å®ç°æ–¹å¼ã€‚</p>
<h4 data-id="heading-4">1. âœ¨ <code>&lt;symbol&gt;</code> + <code>&lt;use&gt;</code> æ–¹å¼ï¼ˆå¼ºçƒˆæ¨èï¼‰</h4>
<p>è¿™æ˜¯ç°ä»£ Web å¼€å‘ä¸­ä¼˜åŒ– SVG å›¾æ ‡çš„<strong>æœ€ä½³å®è·µ</strong>ï¼Œå®ƒå…¼å…·æ€§èƒ½ã€å¯ç»´æŠ¤æ€§å’Œæ ·å¼çµæ´»æ€§ã€‚</p>
<p><strong>æ ¸å¿ƒåŸç†ï¼š</strong></p>
<ol>
<li>å°†æ‰€æœ‰å›¾æ ‡å®šä¹‰åœ¨ä¸€ä¸ªéšè—çš„ <code>&lt;svg&gt;</code> å®¹å™¨ä¸­ï¼Œæ¯ä¸ªå›¾æ ‡ç”¨ <code>&lt;symbol&gt;</code> æ ‡ç­¾åŒ…è£¹ï¼Œå¹¶èµ‹äºˆä¸€ä¸ªå”¯ä¸€çš„ <code>id</code>ã€‚</li>
<li>åœ¨é¡µé¢éœ€è¦ä½¿ç”¨å›¾æ ‡çš„åœ°æ–¹ï¼Œé€šè¿‡ <code>&lt;use&gt;</code> æ ‡ç­¾å¼•ç”¨ <code>&lt;symbol&gt;</code> çš„ <code>id</code>ã€‚</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- 1. é›ªç¢§å›¾æ–‡ä»¶ï¼ˆé€šå¸¸æ”¾åœ¨é¡µé¢é¡¶éƒ¨æˆ–å¤–éƒ¨å¼•å…¥ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display:none"</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- è¿™ä¸ªsvgå®¹å™¨æœ¬èº«ä¸ä¼šåœ¨é¡µé¢ä¸Šè¢«æ¸²æŸ“å‡ºæ¥ï¼Œä½œç”¨ï¼šä½œä¸ºå›¾æ ‡æ¨¡æ¿çš„å®šä¹‰åº“ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">symbol</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"icon-heart"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- path data for heart --&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">symbol</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">symbol</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"icon-star"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- path data for star --&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">symbol</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
â€‹
<span class="hljs-comment">&lt;!-- 2. é¡µé¢ä¸­ä½¿ç”¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon icon-red"</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- é€šè¿‡ xlink:href å¼•ç”¨é›ªç¢§å›¾ä¸­çš„å›¾æ ‡ ID --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">use</span> <span class="hljs-attr">xlink:href</span>=<span class="hljs-string">"#icon-heart"</span> /&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li><strong>å¯æ ·å¼åŒ–</strong>ï¼šå¯ä½¿ç”¨ CSS è½»æ¾è°ƒæ•´å›¾æ ‡çš„ <code>fill</code>ï¼ˆé¢œè‰²ï¼‰å’Œ <code>stroke</code>ï¼ˆæè¾¹ï¼‰ï¼Œå®ç°ä¸»é¢˜åˆ‡æ¢ã€‚</li>
<li><strong>å¯è®¿é—®æ€§</strong>ï¼šæ”¯æŒ <code>&lt;title&gt;</code>ã€<code>&lt;desc&gt;</code> æ ‡ç­¾ï¼Œæå‡å¯è®¿é—®æ€§ã€‚</li>
<li><strong>ç¼“å­˜å‹å¥½</strong>ï¼šå¯å†…è”æˆ–å¤–éƒ¨å¼•å…¥ï¼Œåˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ã€‚</li>
<li><strong>ç»´æŠ¤æ€§é«˜</strong>ï¼šæ— éœ€æ‰‹åŠ¨è®¡ç®—åæ ‡ï¼Œåªéœ€å¼•ç”¨ IDã€‚</li>
</ul>
<h4 data-id="heading-5">2. ğŸ”§ CSS èƒŒæ™¯å›¾æ–¹å¼ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰</h4>
<p>è¿™ç§æ–¹å¼ä¸ä¼ ç»Ÿçš„ PNG é›ªç¢§å›¾ç±»ä¼¼ï¼Œå°† SVG æ–‡ä»¶ä½œä¸ºèƒŒæ™¯å›¾ï¼Œé€šè¿‡ <code>background-position</code> æ¥æ§åˆ¶æ˜¾ç¤ºåŒºåŸŸã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.icon-heart</span> {
 Â <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'sprite.svg'</span>); <span class="hljs-comment">/* æŒ‡å®šäº† svg é›ªç¢§å›¾ */</span>
 Â <span class="hljs-attribute">background-position</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>; <span class="hljs-comment">/* å°†å›¾ç‰‡ç§»åŠ¨åˆ°åˆé€‚çš„ä½ç½® */</span>
 Â <span class="hljs-attribute">width</span>: <span class="hljs-number">24px</span>; <span class="hljs-comment">/* å¿…é¡»è¦åˆ¶å®šå…ƒç´ çš„å®½é«˜ */</span>
 Â <span class="hljs-attribute">height</span>: <span class="hljs-number">24px</span>;
}
</code></pre>
<p><strong>ç‰¹ç‚¹ä¸å±€é™ï¼š</strong></p>
<ul>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå®ç°æ–¹å¼ç®€å•ï¼Œå…¼å®¹æ€§å¥½ã€‚</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li><strong>æ ·å¼æ§åˆ¶å—é™</strong>ï¼šæ— æ³•ç”¨ CSS æ”¹å˜å›¾æ ‡é¢œè‰²ï¼Œå¤±å»äº† SVG çš„æœ€å¤§ä¼˜åŠ¿ã€‚</li>
<li><strong>ç»´æŠ¤å›°éš¾</strong>ï¼šéœ€è¦æ‰‹åŠ¨è®¡ç®—æ¯ä¸ªå›¾æ ‡çš„ <code>background-position</code>ï¼Œä¸é€‚åˆåŠ¨æ€å›¾æ ‡æˆ–ä¸»é¢˜åˆ‡æ¢ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">âœ… å°ç»“ï¼šSVG é›ªç¢§å›¾çš„æœ€ä½³å®è·µ</h3>


























<table><thead><tr><th>æ–¹å¼</th><th>æ€§èƒ½</th><th>æ ·å¼æ§åˆ¶</th><th>ç»´æŠ¤éš¾åº¦</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td><strong><code>&lt;symbol&gt;</code> + <code>&lt;use&gt;</code></strong></td><td>æä½³ï¼ˆå•æ¬¡è¯·æ±‚ï¼Œå¯ç¼“å­˜ï¼‰</td><td>æä½³ï¼ˆCSS å¯æ§é¢œè‰²ï¼‰</td><td>ä½ï¼ˆID å¼•ç”¨ï¼‰</td><td>â­â­â­â­â­</td></tr><tr><td><strong>CSS èƒŒæ™¯å›¾</strong></td><td>è‰¯å¥½ï¼ˆå•æ¬¡è¯·æ±‚ï¼Œå¯ç¼“å­˜ï¼‰</td><td>å·®ï¼ˆæ— æ³•æ”¹å˜é¢œè‰²ï¼‰</td><td>é«˜ï¼ˆæ‰‹åŠ¨å®šä½ï¼‰</td><td>â­â­</td></tr></tbody></table>
<p><strong>ç»“è®ºï¼š</strong> SVG é›ªç¢§å›¾æ˜¯ç°ä»£ Web å›¾æ ‡ä¼˜åŒ–çš„æœ€ä½³å®è·µä¹‹ä¸€ï¼Œè€Œ <strong><code>&lt;symbol&gt;</code> + <code>&lt;use&gt;</code> æ–¹å¼</strong>å…¼å…·æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§ï¼Œæ˜¯å›¾æ ‡ä¼˜åŒ–çš„é¦–é€‰æ–¹æ¡ˆã€‚</p>
<hr/>
<p><strong>ä¸‹ä¸€ç¯‡é¢„å‘Šï¼š</strong> ç½‘é¡µä¸­çš„æ–‡å­—è™½ç„¶æ˜¯æ–‡æœ¬ï¼Œä½†è‡ªå®šä¹‰å­—ä½“ï¼ˆWeb Fontï¼‰çš„åŠ è½½å´æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ€§èƒ½é»‘æ´ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•ä¼˜åŒ–å­—ä½“åŠ è½½ï¼Œé¿å…â€œ<strong>FOITï¼ˆFlash of Invisible Textï¼‰</strong> â€å’Œâ€œ<strong>FOUTï¼ˆFlash of Unstyled Textï¼‰</strong> â€ç­‰é—®é¢˜ï¼Œæ•¬è¯·æœŸå¾…ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šæ–‡ä»¶è¯»å†™æ“ä½œ]]></title>    <link>https://juejin.cn/post/7585410547337019442</link>    <guid>https://juejin.cn/post/7585410547337019442</guid>    <pubDate>2025-12-19T15:03:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585410547337019442" data-draft-id="7585410547337003058" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šæ–‡ä»¶è¯»å†™æ“ä½œ"/> <meta itemprop="keywords" content="Node.js,åç«¯,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T15:03:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šæ–‡ä»¶è¯»å†™æ“ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T15:03:02.000Z" title="Fri Dec 19 2025 15:03:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨åç«¯å¼€å‘ä¸­ï¼Œæ–‡ä»¶è¯»å†™æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ã€é…ç½®æ–‡ä»¶ç®¡ç†ã€ä¸Šä¼ æ–‡ä»¶å¤„ç†ä»¥åŠæ•°æ®å¯¼å…¥å¯¼å‡ºç­‰ã€‚Node.js æä¾›äº†å†…ç½®çš„ <code>fs</code>ï¼ˆFile Systemï¼‰æ¨¡å—ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é«˜æ•ˆåœ°ä¸æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚ç†è§£å¹¶æŒæ¡ Node.js çš„æ–‡ä»¶è¯»å†™æ–¹å¼ï¼Œæ˜¯æ¯ä¸€ä¸ª Node.js å¼€å‘è€…çš„å¿…å¤‡åŸºç¡€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€fs æ¨¡å—ç®€ä»‹</h2>
<p><code>fs</code> æ¨¡å—æ˜¯ Node.js çš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œæ— éœ€é¢å¤–å®‰è£…å³å¯ç›´æ¥ä½¿ç”¨ã€‚å®ƒæä¾›äº†åŒæ­¥å’Œå¼‚æ­¥ä¸¤å¥— APIï¼Œç”¨äºå®Œæˆæ–‡ä»¶çš„åˆ›å»ºã€è¯»å–ã€å†™å…¥ã€åˆ é™¤ä»¥åŠç›®å½•æ“ä½œç­‰åŠŸèƒ½ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼ŒNode.js æ›´æ¨èä½¿ç”¨<strong>å¼‚æ­¥æ–‡ä»¶æ“ä½œ</strong>ï¼Œå› ä¸ºåŒæ­¥æ–¹æ³•ä¼šé˜»å¡äº‹ä»¶å¾ªç¯ï¼Œå½±å“æœåŠ¡å™¨çš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚åŒæ­¥æ–¹æ³•ä¸€èˆ¬åªé€‚ç”¨äºè„šæœ¬å·¥å…·æˆ–å¯åŠ¨é˜¶æ®µçš„ç®€å•é€»è¾‘ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€æ–‡ä»¶è¯»å–æ“ä½œ</h2>
<h3 data-id="heading-2">1. å¼‚æ­¥è¯»å–æ–‡ä»¶</h3>
<p>å¼‚æ­¥è¯»å–æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œé€šè¿‡å›è°ƒå‡½æ•°åœ¨æ–‡ä»¶è¯»å–å®Œæˆåå¤„ç†ç»“æœã€‚è¯¥æ–¹å¼ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">'example.txt'</span>, <span class="hljs-string">'utf-8'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯»å–å¤±è´¥:'</span>, err);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–‡ä»¶å†…å®¹:'</span>, data);
});
</code></pre>
<p>è¿™ç§æ–¹å¼é€‚åˆè¯»å–ä½“ç§¯è¾ƒå°çš„æ–‡ä»¶ï¼Œå¦‚é…ç½®æ–‡ä»¶æˆ–æ–‡æœ¬å†…å®¹ã€‚</p>
<hr/>
<h3 data-id="heading-3">2. åŒæ­¥è¯»å–æ–‡ä»¶</h3>
<p>åŒæ­¥è¯»å–ä¼šé˜»å¡ç¨‹åºæ‰§è¡Œï¼Œç›´åˆ°æ–‡ä»¶è¯»å–å®Œæˆï¼Œå› æ­¤åœ¨ Web æœåŠ¡ä¸­åº”å°½é‡é¿å…ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> data = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">'example.txt'</span>, <span class="hljs-string">'utf-8'</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
}
</code></pre>
<p>åŒæ­¥è¯»å–é€šå¸¸ç”¨äºå‘½ä»¤è¡Œå·¥å…·æˆ–ç¨‹åºåˆå§‹åŒ–é˜¶æ®µã€‚</p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€æ–‡ä»¶å†™å…¥æ“ä½œ</h2>
<h3 data-id="heading-5">1. å¼‚æ­¥å†™å…¥æ–‡ä»¶</h3>
<p>å¼‚æ­¥å†™å…¥æ–‡ä»¶ä¼šåœ¨æ–‡ä»¶ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶å­˜åœ¨æ—¶è¦†ç›–åŸæœ‰å†…å®¹ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

fs.<span class="hljs-title function_">writeFile</span>(<span class="hljs-string">'output.txt'</span>, <span class="hljs-string">'Hello Node.js'</span>, <span class="hljs-string">'utf-8'</span>, <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å†™å…¥å¤±è´¥:'</span>, err);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å†™å…¥æˆåŠŸ'</span>);
});
</code></pre>
<p>è¿™ç§æ–¹å¼é€‚åˆç”Ÿæˆæ—¥å¿—ã€å¯¼å‡ºæ•°æ®ç­‰åœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-6">2. è¿½åŠ å†™å…¥æ–‡ä»¶</h3>
<p>å¦‚æœå¸Œæœ›åœ¨åŸæœ‰å†…å®¹åè¿½åŠ æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ <code>appendFile</code> æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-js" lang="js">fs.<span class="hljs-title function_">appendFile</span>(<span class="hljs-string">'log.txt'</span>, <span class="hljs-string">'æ–°çš„ä¸€æ¡æ—¥å¿—\n'</span>, <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (err) <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
});
</code></pre>
<p>è¿™æ˜¯æ—¥å¿—ç³»ç»Ÿä¸­éå¸¸å¸¸è§çš„ç”¨æ³•ã€‚</p>
<hr/>
<h2 data-id="heading-7">å››ã€ä½¿ç”¨ Promise ä¸ async/await æ“ä½œæ–‡ä»¶</h2>
<p>ä» Node.js v10 å¼€å§‹ï¼Œ<code>fs</code> æ¨¡å—æä¾›äº† <code>fs.promises</code> APIï¼Œä½¿æ–‡ä»¶æ“ä½œæ›´åŠ ç°ä»£åŒ–ï¼Œä¹Ÿæ›´æ˜“äºé”™è¯¯å¤„ç†ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs/promises'</span>);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">readFileAsync</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">'example.txt'</span>, <span class="hljs-string">'utf-8'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
  }
}

<span class="hljs-title function_">readFileAsync</span>();
</code></pre>
<p>è¿™ç§æ–¹å¼ä»£ç ç»“æ„æ¸…æ™°ï¼Œå°¤å…¶é€‚åˆå¤æ‚ä¸šåŠ¡é€»è¾‘ã€‚</p>
<hr/>
<h2 data-id="heading-8">äº”ã€å¤§æ–‡ä»¶è¯»å†™ä¸ Stream</h2>
<p>å½“æ–‡ä»¶ä½“ç§¯è¾ƒå¤§æ—¶ï¼Œä¸€æ¬¡æ€§è¯»å…¥å†…å­˜ä¼šé€ æˆå†…å­˜å‹åŠ›ã€‚è¿™æ—¶åº”ä½¿ç”¨**æµï¼ˆStreamï¼‰**è¿›è¡Œåˆ†æ®µè¯»å†™ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">const</span> readStream = fs.<span class="hljs-title function_">createReadStream</span>(<span class="hljs-string">'bigfile.txt'</span>);
<span class="hljs-keyword">const</span> writeStream = fs.<span class="hljs-title function_">createWriteStream</span>(<span class="hljs-string">'copy.txt'</span>);

readStream.<span class="hljs-title function_">pipe</span>(writeStream);
</code></pre>
<p>æµçš„æ–¹å¼å¯ä»¥æ˜¾è‘—é™ä½å†…å­˜å ç”¨ï¼Œéå¸¸é€‚åˆå¤„ç†è§†é¢‘ã€æ—¥å¿—æˆ–å¤§è§„æ¨¡æ•°æ®æ–‡ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-9">å…­ã€æ–‡ä»¶æ“ä½œä¸­çš„å¸¸è§æ³¨æ„ç‚¹</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>æ–‡ä»¶è·¯å¾„å»ºè®®ä½¿ç”¨ <code>path</code> æ¨¡å—æ‹¼æ¥ï¼Œé¿å…è·¨å¹³å°é—®é¢˜</li>
<li>æ–‡ä»¶æ“ä½œéœ€è¦åšå¥½é”™è¯¯å¤„ç†ï¼Œé˜²æ­¢ç¨‹åºå´©æºƒ</li>
<li>é¿å…åœ¨é«˜å¹¶å‘æœåŠ¡ä¸­ä½¿ç”¨åŒæ­¥æ–‡ä»¶ API</li>
<li>å¤§æ–‡ä»¶ä¼˜å…ˆä½¿ç”¨ Stream æ–¹å¼å¤„ç†</li>
</ul>
<p>è¿™äº›ç»†èŠ‚å¾€å¾€å†³å®šäº†ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ€§èƒ½è¡¨ç°ã€‚</p>
<hr/>
<h2 data-id="heading-10">ä¸ƒã€æ€»ç»“</h2>
<p>Node.js çš„æ–‡ä»¶è¯»å†™æ“ä½œåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»ï¼Œä»ç®€å•çš„æ–‡æœ¬è¯»å†™åˆ°å¤æ‚çš„å¤§æ–‡ä»¶æµå¤„ç†ï¼Œéƒ½æœ‰æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆã€‚åˆç†é€‰æ‹©åŒæ­¥ã€å¼‚æ­¥æˆ–æµå¼æ“ä½œæ–¹å¼ï¼Œä¸ä»…å¯ä»¥æå‡ç¨‹åºæ€§èƒ½ï¼Œè¿˜èƒ½è®©ä»£ç æ›´åŠ å¥å£®ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œç»“åˆä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„æ–‡ä»¶æ“ä½œç­–ç•¥ï¼Œæ˜¯æå‡ Node.js å¼€å‘èƒ½åŠ›çš„é‡è¦ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Œchrome extensionsğŸ› ï¸ã€æˆ‘å†™äº†ä¸€ä¸ªè¶…çº§ç®€å•çš„æµè§ˆå™¨æ’ä»¶Vueå¼€å‘æ¨¡æ¿]]></title>    <link>https://juejin.cn/post/7585406229167865906</link>    <guid>https://juejin.cn/post/7585406229167865906</guid>    <pubDate>2025-12-19T13:28:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406229167865906" data-draft-id="7581314241410613283" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Œchrome extensionsğŸ› ï¸ã€æˆ‘å†™äº†ä¸€ä¸ªè¶…çº§ç®€å•çš„æµè§ˆå™¨æ’ä»¶Vueå¼€å‘æ¨¡æ¿"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,GitHub"/> <meta itemprop="datePublished" content="2025-12-19T13:28:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JustHappy"/> <meta itemprop="url" content="https://juejin.cn/user/1489178757445003"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Œchrome extensionsğŸ› ï¸ã€æˆ‘å†™äº†ä¸€ä¸ªè¶…çº§ç®€å•çš„æµè§ˆå™¨æ’ä»¶Vueå¼€å‘æ¨¡æ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1489178757445003/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JustHappy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T13:28:48.000Z" title="Fri Dec 19 2025 13:28:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><blockquote>
<p>Hi!è¿™é‡Œæ˜¯JustHappyğŸš€ğŸš€ï¼Œä¸€æ—¶å…´èµ·æƒ³å¼€å‘ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œä½†æ˜¯æ‰¾æ¥æ‰¾å»å‘ç°åœ¨Vueç”Ÿæ€ä¸‹å¥½åƒæ²¡æœ‰ä¸€ä¸ªè¶…è½»çš„ç®€å•çš„æ¨¡æ¿æˆ–è€…è„šæ‰‹æ¶ï¼Œçœ‹äº†ä¸€åœˆæ„Ÿè§‰antFuå¤§ä½¬çš„vitesse-webextè¿˜ä¸é”™ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜ä¸å¤Ÿè½»ï¼Œäºæ˜¯æˆ‘æ‰“ç®—æ‰‹æ’¸ä»¿å†™ä¸€ä¸ªç®€å•ç‰ˆæœ¬</p>
</blockquote>
<h2 data-id="heading-0">æˆ‘æƒ³è¦ä¸€ä¸ªä»€ä¹ˆæ ·çš„æ¨¡æ¿</h2>
<ul>
<li>æŠ€æœ¯æ ˆè½»ç›ˆï¼šVue + JS è¶Šç®€å•è¶Šå¥½</li>
<li>æ”¯æŒâ€œçƒ­æ›´æ–°â€ï¼šä¿®æ”¹åç«‹é©¬æ›´æ–°è§†å›¾</li>
</ul>
<h2 data-id="heading-1">äºæ˜¯æœ‰äº†è¿™ä¸ªæ¨¡æ¿...</h2>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a7a6459e0984f779075c7f414090ae6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSnVzdEhhcHB5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766755750&amp;x-signature=gTpC5udEJhV8rJhW%2Fq0721XZiUM%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p>ä»“åº“åœ°å€æ˜¯è¿™ä¸ªï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSimonmie%2Fvue-chrome-extension-template" target="_blank" title="https://github.com/Simonmie/vue-chrome-extension-template" ref="nofollow noopener noreferrer">github.com/Simonmie/vuâ€¦</a></p>
<h2 data-id="heading-2">å¦‚ä½•ä½¿ç”¨ï¼Ÿå¾ˆç®€å•</h2>
<p>ä½ åªéœ€è¦åœ¨ä»“åº“ä¸­ç‚¹å‡» use this template å°±å¯ä»¥ä½¿ç”¨è¯¥æ¨¡æ¿å»æ„å»ºæ’ä»¶</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91cb295e398341e3985db84969e54073~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSnVzdEhhcHB5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766755750&amp;x-signature=CXq5lwvpaNqy5zB9X%2FTtVALqaok%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">å¼€å§‹å¼€å‘å§ï¼</h2>
<h3 data-id="heading-4">å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-npm" lang="npm">npm install
</code></pre>
<h3 data-id="heading-5">æ¨¡æ¿ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">â”œâ”€â”€ assets
â”œâ”€â”€ background
â”‚   â”œâ”€â”€ dev-hmr.js  // å¼€å‘ç¯å¢ƒä¸‹çš„çƒ­æ›´æ–°è„šæœ¬
â”‚   â””â”€â”€ main.js  // èƒŒæ™¯è„šæœ¬
â”œâ”€â”€ logic
â”‚   â””â”€â”€ common-setup.js  // å…¬å…±è®¾ç½®è„šæœ¬
â”œâ”€â”€ manifest.js // manifest.json ç”Ÿæˆè„šæœ¬
â”œâ”€â”€ options // é€‰é¡¹é¡µ
â”‚   â”œâ”€â”€ OptionsPage.vue 
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ main.js
â”œâ”€â”€ popup // å¼¹çª—
â”‚   â”œâ”€â”€ PopupComponent.vue
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ main.js
â”œâ”€â”€ sidepanel // ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ SidePanel.vue
â”‚   â”œâ”€â”€ assets
â”‚   â”‚   â””â”€â”€ logo.png
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ main.js
â””â”€â”€ utils
    â”œâ”€â”€ base.js // åŸºç¡€å·¥å…·å‡½æ•°
    â””â”€â”€ config.js // é…ç½®æ–‡ä»¶å‡½æ•°
</code></pre>
<h3 data-id="heading-6">å¦‚ä½•å¼€å‘ï¼Ÿ</h3>
<h4 data-id="heading-7">å¯åŠ¨çƒ­æ›´æ–°</h4>
<pre><code class="hljs language-npm" lang="npm">npm run dev:ext
</code></pre>
<h4 data-id="heading-8">å®‰è£…æ‰©å±•</h4>
<ol>
<li>æ‰“å¼€ Chrome æµè§ˆå™¨ã€‚</li>
<li>ç‚¹å‡»æµè§ˆå™¨èœå•ï¼ˆé€šå¸¸æ˜¯ä¸‰ä¸ªå‚ç›´ç‚¹å›¾æ ‡ï¼‰ï¼Œé€‰æ‹©â€œæ›´å¤šå·¥å…·â€&gt;â€œæ‰©å±•ç¨‹åºâ€ã€‚</li>
<li>åœ¨æ‰©å±•ç¨‹åºé¡µé¢ï¼Œæ‰“å¼€â€œå¼€å‘è€…æ¨¡å¼â€ã€‚</li>
<li>ç‚¹å‡»â€œåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€ï¼Œé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>extension</code> æ–‡ä»¶å¤¹ã€‚</li>
</ol>
<p>ç„¶åä½ å°±å¯ä»¥æ„‰å¿«çš„å¼€å§‹å¼€å‘æµè§ˆå™¨æ’ä»¶äº†ã€‚ä½ å‡ ä¹åªéœ€è¦ä¼šVueå’ŒJSå°±å¯ä»¥å¼€å‘ï¼Œæˆ–è€…ç»“åˆå¤§æ¨¡å‹å¿«é€Ÿç”Ÿæˆä¸€ä¸ªæ’ä»¶</p>
<p>è¿™æ˜¯æˆ‘ç”¨Gemini 3 proç»“åˆè¿™ä¸ªæ¨¡æ¿ç”Ÿæˆçš„å…¶ä¸­ä¸€ä¸ªæ’ä»¶çš„æ•ˆæœï¼ŒåŸºæœ¬ä¸Šå®Œå…¨å¯ç”¨</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b033276a59c34286a663aaf69644407e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSnVzdEhhcHB5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766755750&amp;x-signature=bXGTj0v4%2FaFqhuZauRjQChtz5VE%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœä½ ä¹Ÿæƒ³å°è¯•ï¼Œè¿™æ˜¯è¿™ä¸ªæ’ä»¶çš„githubä»“åº“åœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSimonmie%2FText-extraction-tool" target="_blank" title="https://github.com/Simonmie/Text-extraction-tool" ref="nofollow noopener noreferrer">github.com/Simonmie/Teâ€¦</a></p>
<hr/>
<p>ä¸‹é¢æˆ‘ä»¬æ¥èŠèŠè¿™ä¸ªæ¡†æ¶çš„â€œçƒ­æ›´æ–°â€åŸç†å§....</p>
<h2 data-id="heading-9">â€çƒ­æ›´æ–°â€œåŸç†</h2>
<p>æœ‰äººé—®æˆ‘ï¼šâ€œä¸ºä»€ä¹ˆè¿™ä¸ªæ¨¡æ¿èƒ½åšåˆ°ç±»ä¼¼ HMR çš„ä½“éªŒï¼Ÿæµè§ˆå™¨æ’ä»¶ä¸æ˜¯ä¸èƒ½çƒ­æ›´æ–°å—â€</p>
<p>ç­”æ¡ˆå…¶å®å¾ˆç®€å•ï¼š</p>
<blockquote>
<p><strong>ä¸æ˜¯æ¨¡å—çº§çƒ­æ›¿æ¢ï¼Œè€Œæ˜¯è‡ªåŠ¨é‡å»º + è‡ªåŠ¨åˆ·æ–°ã€‚</strong></p>
</blockquote>
<p>å½“ä½ ä¿®æ”¹ä»£ç æ—¶ï¼š</p>
<ul>
<li>æ„å»ºå™¨ä¼šé‡å»ºäº§ç‰©</li>
<li>çƒ­æ›´æ–°æœåŠ¡ä¼šç»™æ‰©å±•å‘é€é€šçŸ¥</li>
<li>å‰å°è§†å›¾åˆ·æ–°ã€åå°è„šæœ¬é‡è½½</li>
<li>æµè§ˆå™¨æ‰©å±•æ•´ä½“æ›´æ–°</li>
</ul>
<p>å®Œå…¨ä¸éœ€è¦æ‰‹åŠ¨åˆ·æ–°çª—å£ï¼Œä¸éœ€è¦é‡æ–°ç‚¹å‡»æ‰©å±•å›¾æ ‡ã€‚</p>
<p>æ›´å…³é”®çš„æ˜¯ï¼šæ•´ä¸ªæœºåˆ¶éå¸¸è½»ï¼Œéå¸¸å¹²å‡€ã€‚</p>
<h3 data-id="heading-10">ä¸€ä¸ªæå°çš„çƒ­æ›´æ–°æœåŠ¡</h3>
<p>æ¨¡æ¿å¯åŠ¨åä¼šåŒæ—¶å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡ï¼Œç”¨äºç›‘å¬æ„å»ºå˜åŒ–å¹¶å‘æ‰©å±•å‘é€æ¶ˆæ¯ã€‚</p>
<p>è¿™ä¸ªæœåŠ¡é€šè¿‡ SSEï¼ˆServer-Sent Eventsï¼‰å·¥ä½œï¼š</p>
<ul>
<li>åœ°å€ç±»ä¼¼ï¼š<a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">http://localhost:3000/extension-hmr</a></li>
<li>æ„å»ºå®Œæˆåä¼šæ¨é€ reload ä¿¡å·</li>
<li>æ‰€æœ‰é¡µé¢å’Œåå°è„šæœ¬éƒ½ä¼šç›‘å¬å®ƒ</li>
</ul>
<p>SSE çš„å¥½å¤„æ˜¯ï¼š</p>
<ul>
<li>è½»é‡</li>
<li>æ— éœ€é¢å¤–ä¾èµ–</li>
<li>æ— éœ€è½®è¯¢</li>
<li>ç‰¹åˆ«ç¨³å®š</li>
</ul>
<p>ä½ ç”šè‡³å¯ä»¥æŠŠå®ƒç†è§£ä¸ºï¼šä¸€ä¸ªç‰¹åˆ«ç®€å•çš„â€œæ›´æ–°å¹¿æ’­å™¨â€ã€‚</p>
<h3 data-id="heading-11">å‰å°é¡µé¢å¦‚ä½•åˆ·æ–°ï¼Ÿ</h3>
<p>æ‰©å±•é‡Œçš„ popupã€optionsã€sidepanel é¡µé¢éƒ½ä¼šè‡ªåŠ¨æ³¨å…¥ä¸€ä¸ªç›‘å¬å™¨ï¼š</p>
<ol>
<li>é€šè¿‡ EventSource è¿æ¥ SSE æœåŠ¡</li>
<li>æ”¶åˆ° reload ä¿¡å·</li>
<li><code>window.location.reload()</code></li>
</ol>
<p>æ‰€ä»¥æ”¹å®Œä»£ç ä¿å­˜åï¼š<br/>
â†’ UI ä¼šç«‹å³é‡æ–°åŠ è½½<br/>
â†’ æ–°çš„ä»£ç ä¼šç›´æ¥ç”Ÿæ•ˆ</p>
<p>ä¸ç”¨ç‚¹å‡»ï¼Œä¸ç”¨é‡æ‰“å¼€ popup é¡µé¢ï¼Œè¿ DevTools éƒ½ä¸ç”¨åŠ¨ã€‚</p>
<h3 data-id="heading-12">åå°è„šæœ¬å¦‚ä½•æ›´æ–°ï¼Ÿ</h3>
<p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œåå°è„šæœ¬å¹¶ä¸ä¼šç›´æ¥è¿è¡Œæ­£å¼çš„ background é€»è¾‘ï¼Œè€Œæ˜¯å…ˆæ¥å…¥ä¸€ä¸ªå¼€å‘ä¸“ç”¨çš„è„šæœ¬ã€‚</p>
<p>è¿™ä¸ªè„šæœ¬ä¸“é—¨è´Ÿè´£ç›‘å¬ SSEï¼š</p>
<ol>
<li>æ”¶åˆ°æ¶ˆæ¯</li>
<li><code>chrome.runtime.reload()</code></li>
</ol>
<p>è¿™ä¼šè®©æ•´ä¸ªæ‰©å±•ç¬é—´é‡è½½ï¼š</p>
<ul>
<li>UI åˆ·æ–°</li>
<li>è„šæœ¬åˆ·æ–°</li>
<li>çŠ¶æ€é‡ç½®</li>
</ul>
<p>è¿™ç§æ–¹å¼éå¸¸é€‚åˆå¼€å‘åœºæ™¯ï¼Œå› ä¸ºä¸ç”¨æ‹…å¿ƒç¼“å­˜ã€ä¸ä¸€è‡´ã€åå°ä»åœ¨è¿è¡Œç­‰é—®é¢˜ã€‚</p>
<h3 data-id="heading-13">è‡ªåŠ¨é‡è¿æœºåˆ¶</h3>
<p>SSE è¿æ¥å¦‚æœæ–­å¼€ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>å°æ–­ç½‘</li>
<li>æµè§ˆå™¨åˆ‡æ¢æ ‡ç­¾</li>
<li>ç³»ç»Ÿä¼‘çœ </li>
<li>æ„å»ºå™¨é‡å¯</li>
</ul>
<p>æ‰©å±•ä¼šè‡ªåŠ¨é‡è¯•è¿æ¥ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼š<br/>
ä½ åªéœ€è¦æ”¹ä»£ç  â†’ ä¿å­˜ â†’ æµè§ˆå™¨è‡ªåŠ¨æ›´æ–°<br/>
ä¸ç”¨å…³å¿ƒåº•å±‚è¿æ¥æ˜¯å¦æ–­è¿‡ã€é‡è¿è¿‡ã€‚</p>
<p>å®ƒå°±æ˜¯ä¸€ç›´èƒ½ç”¨ã€‚</p>
<blockquote>
<p>å¦‚æœè¿™å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå“ˆå“ˆæ±‚ä¸ªstarâœ¨ï¼Œæ¨¡æ¿å¤§æ¦‚ç‡è¿˜æœ‰å¾ˆå¤šä¸è¶³ï¼Œæ¬¢è¿å¤§å®¶æäº¤issueã€prç­‰ï¼Œæˆ–è€…å•çº¯éªšæ‰°æˆ‘ğŸ˜œ</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android LaunchMode]]></title>    <link>https://juejin.cn/post/7585406229167898674</link>    <guid>https://juejin.cn/post/7585406229167898674</guid>    <pubDate>2025-12-19T13:42:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406229167898674" data-draft-id="7584650857070788617" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android LaunchMode"/> <meta itemprop="keywords" content="Android,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-19T13:42:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™è¿›åŒ–"/> <meta itemprop="url" content="https://juejin.cn/user/108212996024855"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android LaunchMode
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/108212996024855/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™è¿›åŒ–
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T13:42:28.000Z" title="Fri Dec 19 2025 13:42:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ å››å¤§å¯åŠ¨æ¨¡å¼</h2>
<h3 data-id="heading-1">Q1. LaunchMode éƒ½æœ‰å“ªäº›ï¼Ÿ</h3>
<p>standardã€singleTopã€singleTaskã€singleInstanceã€‚</p>
<h3 data-id="heading-2">Q2. standard (æ ‡å‡†æ¨¡å¼) çš„ç‰¹ç‚¹ä¸å‘ç‚¹ï¼Ÿ</h3>
<ul>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼šé»˜è®¤æ¨¡å¼ã€‚æ¯æ¬¡å¯åŠ¨éƒ½<strong>åˆ›å»ºæ–°å®ä¾‹</strong>å¹¶å‹å…¥å½“å‰æ ˆé¡¶ã€‚</p>
</li>
<li>
<p><strong>å‘ç‚¹</strong>ï¼š<strong>é Activity Contextï¼ˆå¦‚ Application/Serviceï¼‰å¯åŠ¨æ­¤æ¨¡å¼ä¼šå´©æºƒï¼Œå¿…é¡»æ·»åŠ  FLAG_ACTIVITY_NEW_TASK æ ‡è®°ã€‚</strong></p>
<p>æ³¨ï¼šstandard æ¨¡å¼çš„ Activity é»˜è®¤è¦è¿›å…¥å¯åŠ¨å®ƒçš„é‚£ä¸ªç»„ä»¶æ‰€åœ¨çš„ä»»åŠ¡æ ˆã€‚</p>
</li>
</ul>
<pre><code class="hljs language-txt" lang="txt">æ ˆçŠ¶æ€: [A]
å¯åŠ¨ A (standard) -&gt; [A, A(æ–°)]
</code></pre>
<h3 data-id="heading-3">Q3. singleTop (æ ˆé¡¶å¤ç”¨) çš„ç‰¹ç‚¹ï¼Ÿ</h3>
<ul>
<li><strong>è‹¥å·²åœ¨æ ˆé¡¶</strong>ï¼š<strong>ä¸åˆ›å»º</strong>æ–°å®ä¾‹ï¼Œå›è°ƒ <code>onNewIntent()</code> (onCreate/onStart ä¸è°ƒç”¨)ã€‚</li>
<li><strong>è‹¥ä¸åœ¨æ ˆé¡¶</strong>ï¼šåˆ›å»ºæ–°å®ä¾‹å‹å…¥æ ˆé¡¶ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šé€šçŸ¥æ ç‚¹å‡»è·³è½¬ã€é˜²æ­¢æŒ‰é’®å¿«é€Ÿè¿ç‚¹ã€‚</li>
</ul>
<pre><code class="hljs language-txt" lang="txt">æ ˆçŠ¶æ€: [A, B]
å¯åŠ¨ B (singleTop) -&gt; [A, B] (å¤ç”¨, onNewIntent)
å¯åŠ¨ A (singleTop) -&gt; [A, B, A] (æ–°å»º, å› ä¸ºAä¸åœ¨æ ˆé¡¶)
</code></pre>
<h3 data-id="heading-4">Q4. singleTask (æ ˆå†…å¤ç”¨) çš„ç‰¹ç‚¹ï¼Ÿ</h3>
<ul>
<li><strong>ç‹¬å æ€§</strong>ï¼šåªè¦æ ˆä¸­å­˜åœ¨è¯¥å®ä¾‹ï¼Œå¤šæ¬¡å¯åŠ¨å‡å¤ç”¨å®ƒã€‚</li>
<li><strong>ClearTop</strong>ï¼šå¤ç”¨æ—¶ï¼Œ<strong>è‡ªåŠ¨é”€æ¯</strong>è¯¥å®ä¾‹ä¹‹ä¸Šçš„æ‰€æœ‰ Activityã€‚</li>
<li><strong>æ ˆæŸ¥æ‰¾</strong>ï¼šè‹¥æ‰¾ä¸åˆ°æ‰€éœ€ä»»åŠ¡æ ˆ (TaskAffinity)ï¼Œä¼šåˆ›å»ºæ–°æ ˆã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šApp é¦–é¡µã€WebView å®¹å™¨é¡µã€‚</li>
</ul>
<pre><code class="hljs language-txt" lang="txt">æ ˆçŠ¶æ€: [A, B, C] (Bä¸ºsingleTask)
å¯åŠ¨ B -&gt; [A, B] (Cè¢«é”€æ¯, Bå¤ç”¨å¹¶onNewIntent)
</code></pre>
<h3 data-id="heading-5">Q5. singleInstance (å…¨å±€å•ä¾‹) çš„ç‰¹ç‚¹ï¼Ÿ</h3>
<ul>
<li><strong>åŠ å¼ºç‰ˆ singleTask</strong>ï¼šæ•´ä¸ªç³»ç»Ÿåªæœ‰è¿™ä¸€ä¸ªå®ä¾‹ã€‚</li>
<li><strong>ç‹¬å æ ˆ</strong>ï¼šè¯¥å®ä¾‹<strong>åªèƒ½å•ç‹¬ä½äºä¸€ä¸ªä»»åŠ¡æ ˆä¸­</strong>ï¼Œä¸å…è®¸å…¶ä»– Activity å…¥é©»ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šæ¥ç”µç•Œé¢ã€é—¹é’Ÿå“é“ƒã€‚</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">Task1: <span class="hljs-section">[A, B]</span>
å¯åŠ¨ C (singleInstance)
Task1: <span class="hljs-section">[A, B]</span> (åå°)
Task2: <span class="hljs-section">[C]</span>    (å‰å°, ç‹¬å )
</code></pre>
<h2 data-id="heading-6">äºŒã€ ä»»åŠ¡æ ˆ (Task) äº¤äº’é€»è¾‘</h2>
<h3 data-id="heading-7">Q6. ä»»åŠ¡æ ˆå¦‚ä½•åˆ†ç±»ï¼Ÿ</h3>
<ul>
<li><strong>å‰å°ä»»åŠ¡æ ˆ</strong>ï¼šç”¨æˆ·å½“å‰æ­£åœ¨äº¤äº’çš„æ ˆã€‚</li>
<li><strong>åå°ä»»åŠ¡æ ˆ</strong>ï¼šå¤„äºåå°ï¼Œå…¶ä¸­ Activity å‡å¤„äº Paused/Stopped çŠ¶æ€ã€‚</li>
</ul>
<h3 data-id="heading-8">Q7. å‰å°æ ˆ ABï¼Œåå°æ ˆ CD (å‡ä¸º singleTask)ã€‚å¯åŠ¨ Dï¼Œå†æŒ‰ Backï¼Œé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li>
<p><strong>å¯åŠ¨ D</strong>ï¼šåå°æ ˆ CD è¢«æ•´ä½“æ‹‰å›å‰å°ï¼Œç½®äº AB ä¹‹ä¸Šã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[å‰å°æ ˆ Task1]</span> <span class="hljs-selector-tag">A</span> -&gt; <span class="hljs-selector-tag">B</span>
<span class="hljs-selector-attr">[åå°æ ˆ Task2]</span> C -&gt; D
-------- å¯åŠ¨ D --------
<span class="hljs-selector-attr">[åˆå¹¶è§†è§‰]</span> <span class="hljs-selector-tag">A</span> -&gt; <span class="hljs-selector-tag">B</span> -&gt; C -&gt; D (Task2 è¦†ç›–åœ¨ Task1 ä¸Š)
</code></pre>
</li>
<li>
<p><strong>Back é¡ºåº</strong>ï¼š <code>D å‡ºæ ˆ</code> -&gt; <code>æ˜¾ç¤º C</code> -&gt; <code>Back</code> -&gt; <code>C å‡ºæ ˆ</code> -&gt; <code>æ˜¾ç¤º B</code> -&gt; <code>Back</code> -&gt; <code>A</code> -&gt; <code>æ¡Œé¢</code>ã€‚</p>
</li>
</ol>
<h3 data-id="heading-9">Q8. A(standard)ã€B(singleTask)ã€C(singleTask)ã€‚è·¯å¾„: A-&gt;B-&gt;C-&gt;A-&gt;Bã€‚ç‚¹ä¸¤æ¬¡ Back çœ‹åˆ°è°ï¼Ÿ</h3>
<p><strong>ç»“è®ºï¼šå›åˆ°æ¡Œé¢</strong>ã€‚</p>
<p><strong>è¯¦ç»†æ¨æ¼”å›¾è§£</strong>ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-number">1</span>. <span class="hljs-selector-tag">A</span><span class="hljs-selector-tag">-</span>&gt;<span class="hljs-selector-tag">B</span>:
   æ ˆ: <span class="hljs-selector-attr">[A, B]</span>

<span class="hljs-number">2</span>. <span class="hljs-selector-tag">-</span>&gt;<span class="hljs-selector-tag">C</span>:
   æ ˆ: <span class="hljs-selector-attr">[A, B, C]</span>

<span class="hljs-number">3</span>. <span class="hljs-selector-tag">-</span>&gt;<span class="hljs-selector-tag">A</span> (standard):
   æ ˆ: <span class="hljs-selector-attr">[A, B, C, A]</span>  &lt;<span class="hljs-selector-tag">--</span> <span class="hljs-selector-tag">A</span>ç›´æ¥å‹å…¥

<span class="hljs-number">4</span>. <span class="hljs-selector-tag">-</span>&gt;<span class="hljs-selector-tag">B</span> (singleTask):
   æ£€æŸ¥æ ˆå†…... å‘ç° <span class="hljs-selector-tag">B</span>!
   è§¦å‘ <span class="hljs-selector-tag">ClearTop</span>: é”€æ¯ <span class="hljs-selector-tag">B</span> ä¹‹ä¸Šçš„ <span class="hljs-selector-tag">C</span> å’Œ <span class="hljs-selector-tag">A</span>
   æ ˆ: <span class="hljs-selector-attr">[A, B]</span>        &lt;<span class="hljs-selector-tag">--</span> <span class="hljs-selector-tag">B</span>å¤ç”¨

<span class="hljs-number">5</span>. <span class="hljs-selector-tag">Back</span> <span class="hljs-number">1</span>æ¬¡:
   <span class="hljs-selector-tag">B</span> å‡ºæ ˆ <span class="hljs-selector-tag">-</span>&gt; æ˜¾ç¤º <span class="hljs-selector-tag">A</span>
   æ ˆ: <span class="hljs-selector-attr">[A]</span>

<span class="hljs-number">6</span>. <span class="hljs-selector-tag">Back</span> <span class="hljs-number">2</span>æ¬¡:
   <span class="hljs-selector-tag">A</span> å‡ºæ ˆ <span class="hljs-selector-tag">-</span>&gt; æ ˆç©º <span class="hljs-selector-tag">-</span>&gt; å›åˆ°æ¡Œé¢
</code></pre>
<h3 data-id="heading-10">Q9. TaskAffinity æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3>
<ul>
<li>æŒ‡å®š Activity æ‰€éœ€ä»»åŠ¡æ ˆçš„åå­—ï¼ˆé»˜è®¤ä¸ºåŒ…åï¼‰ã€‚</li>
<li>éœ€é…åˆ <code>singleTask</code> æˆ– <code>allowTaskReparenting</code> ä½¿ç”¨æ‰ç”Ÿæ•ˆã€‚</li>
<li><strong>åº”ç”¨</strong>ï¼šå°†å°ç¨‹åºæˆ–å·¥å…·é¡µæ”¾å…¥ç‹¬ç«‹è¿›ç¨‹/ä»»åŠ¡æ ˆã€‚</li>
</ul>
<h3 data-id="heading-11">Q10. allowTaskReparenting æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>
<p><strong>å®šä¹‰</strong>ï¼šå…è®¸ Activity å˜æ›´å½’å±æ ˆã€‚</p>
</li>
<li>
<p><strong>ç°è±¡</strong>ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">App</span> <span class="hljs-selector-tag">A</span> (Task A): å¯åŠ¨äº† <span class="hljs-selector-tag">App</span> <span class="hljs-selector-tag">B</span> çš„ <span class="hljs-selector-tag">Activity</span> <span class="hljs-selector-tag">C</span> (allowTaskReparenting=true)
çŠ¶æ€: <span class="hljs-selector-tag">Task</span> <span class="hljs-selector-tag">A</span> <span class="hljs-selector-attr">[..., C]</span>

<span class="hljs-selector-tag">--</span>&gt; ç”¨æˆ·å›æ¡Œé¢ï¼Œç‚¹å›¾æ ‡å¯åŠ¨ <span class="hljs-selector-tag">App</span> <span class="hljs-selector-tag">B</span>
ç°è±¡: <span class="hljs-selector-tag">C</span> ä» <span class="hljs-selector-tag">Task</span> <span class="hljs-selector-tag">A</span> é£åˆ°äº† <span class="hljs-selector-tag">Task</span> <span class="hljs-selector-tag">B</span>
çŠ¶æ€: <span class="hljs-selector-tag">Task</span> <span class="hljs-selector-tag">A</span> <span class="hljs-selector-attr">[...]</span>
      <span class="hljs-selector-tag">Task</span> <span class="hljs-selector-tag">B</span> <span class="hljs-selector-attr">[C]</span> (C æ˜¾ç¤ºåœ¨ B çš„æ ˆé¡¶)
</code></pre>
</li>
</ul>
<h2 data-id="heading-12">ä¸‰ã€ å¯åŠ¨é…ç½®ä¸ Intent</h2>
<h3 data-id="heading-13">Q11. å¦‚ä½•æŒ‡å®šå¯åŠ¨æ¨¡å¼ï¼Ÿä¼˜å…ˆçº§å¦‚ä½•ï¼Ÿ</h3>
<ol>
<li><strong>é™æ€</strong>ï¼šManifest <code>android:launchMode</code>ã€‚</li>
<li><strong>åŠ¨æ€</strong>ï¼šIntent Flags <code>intent.addFlags(...)</code>ã€‚</li>
<li><strong>ä¼˜å…ˆçº§</strong>ï¼š<strong>Intent Flags &gt; Manifest</strong>ã€‚</li>
</ol>
<h3 data-id="heading-14">Q12. å¸¸ç”¨çš„ Intent Flags è§£æï¼Ÿ</h3>
<ul>
<li>
<p><code>FLAG_ACTIVITY_NEW_TASK</code>: æ•ˆæœè¿‘ä¼¼ singleTaskï¼ˆé Activity å¯åŠ¨å¿…åŠ ï¼‰ã€‚</p>
</li>
<li>
<p><code>FLAG_ACTIVITY_SINGLE_TOP</code>: ç­‰åŒ singleTopã€‚</p>
</li>
<li>
<p><code>FLAG_ACTIVITY_CLEAR_TOP</code>:</p>
<ul>
<li><strong>æ ‡å‡†æ¨¡å¼ä¸‹</strong>ï¼šé”€æ¯ç›®æ ‡åŠä¹‹ä¸Šæ‰€æœ‰é¡µé¢ï¼Œ<strong>é‡å»º</strong>ç›®æ ‡å®ä¾‹ã€‚</li>
<li><strong>é…åˆ singleTask</strong>ï¼šä¸é‡å»ºï¼Œå›è°ƒ <code>onNewIntent</code>ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-15">Q13. æ˜¾å¼è°ƒç”¨ vs éšå¼è°ƒç”¨ï¼Ÿ</h3>
<ul>
<li><strong>æ˜¾å¼</strong>ï¼šæŒ‡å®š <code>package</code>, <code>class name</code>ã€‚</li>
<li><strong>éšå¼</strong>ï¼šåŒ¹é… <code>IntentFilter</code> (Action, Category, Data)ã€‚ä¼˜åŠ¿æ˜¯è§£è€¦ã€è·¨åº”ç”¨ã€‚</li>
</ul>
<h3 data-id="heading-16">Q14. IntentFilter åŒ¹é…è§„åˆ™ (Action/Category/Data)ï¼Ÿ</h3>
<ul>
<li>
<p><strong>Action</strong>ï¼šIntent <strong>å¿…é¡»æœ‰</strong> Actionï¼Œä¸”å¿…é¡»åŒ¹é…è¿‡æ»¤è§„åˆ™ä¸­<strong>è‡³å°‘ä¸€ä¸ª</strong>ã€‚</p>
</li>
<li>
<p><strong>Category</strong>ï¼šIntent å¯æ—  Category (é»˜è®¤å¸¦ DEFAULT)ã€‚è‹¥æœ‰ï¼Œåˆ™<strong>å¿…é¡»å…¨éƒ¨</strong>åŒ…å«åœ¨è¿‡æ»¤è§„åˆ™ä¸­ã€‚</p>
<ul>
<li><em>æ³¨ï¼šéšå¼ Activity å¿…é¡»åœ¨ Manifest å£°æ˜ <code>android.intent.category.DEFAULT</code>ã€‚</em></li>
</ul>
</li>
<li>
<p><strong>Data</strong>ï¼šå¿…é¡»åŒ¹é… MIMEType å’Œ URIã€‚</p>
</li>
</ul>
<h3 data-id="heading-17">Q15. å¦‚ä½•é˜²æ­¢éšå¼å¯åŠ¨å¤±è´¥å´©æºƒï¼Ÿ</h3>
<p>ä½¿ç”¨ <code>PackageManager.resolveActivity()</code> æˆ– <code>queryIntentActivities(intent, MATCH_DEFAULT_ONLY)</code> é¢„æ£€æŸ¥æ˜¯å¦è¿”å› null æˆ–ç©ºåˆ—è¡¨ã€‚</p>
<h3 data-id="heading-18">Q16. Launcher å…¥å£ Activity å¿…é¡»é…ç½®ä»€ä¹ˆï¼Ÿ</h3>
<p>(ç¼ºä¸€ä¸å¯)</p>
<pre><code class="hljs language-ini" lang="ini">&lt;action android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.intent.action.MAIN"</span> /&gt;
&lt;category android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.intent.category.LAUNCHER"</span> /&gt;
</code></pre>
<h2 data-id="heading-19">å››ã€ å®æˆ˜æ¡ˆä¾‹</h2>
<h3 data-id="heading-20">Q17. åº”ç”¨æ¯æ¬¡å¯åŠ¨ Acitivity Aï¼Œéƒ½éœ€è¦ä¿è¯ A ä¸ºæ ˆåº•ã€‚</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
    <span class="hljs-keyword">if</span> (!isTaskRoot()) {
        <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> getIntent();
        <span class="hljs-type">String</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> intent.getAction();
        
        <span class="hljs-type">Intent</span> <span class="hljs-variable">newIntent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, ActivityA.class);
        newIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
        startActivity(newIntent);
        finish();
        <span class="hljs-keyword">return</span>;
    }

    setContentView(R.layout.activity_a);
    <span class="hljs-comment">// ... </span>
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[UIWindowScene ä½¿ç”¨æŒ‡å—ï¼šæŒæ¡ iOS å¤šçª—å£æ¶æ„]]></title>    <link>https://juejin.cn/post/7585406229167800370</link>    <guid>https://juejin.cn/post/7585406229167800370</guid>    <pubDate>2025-12-19T12:32:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406229167800370" data-draft-id="7585031025447174154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="UIWindowScene ä½¿ç”¨æŒ‡å—ï¼šæŒæ¡ iOS å¤šçª—å£æ¶æ„"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2025-12-19T12:32:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            UIWindowScene ä½¿ç”¨æŒ‡å—ï¼šæŒæ¡ iOS å¤šçª—å£æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T12:32:52.000Z" title="Fri Dec 19 2025 12:32:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ iOS 13 ä¹‹å‰ï¼ŒiOS åº”ç”¨é€šå¸¸åªæœ‰ä¸€ä¸ªä¸»çª—å£ï¼ˆUIWindowï¼‰ã€‚ä½†éšç€ iPadOS çš„æ¨å‡ºå’Œå¤šä»»åŠ¡å¤„ç†éœ€æ±‚çš„å¢åŠ ï¼ŒApple å¼•å…¥äº† <strong>UIWindowScene</strong> æ¶æ„ï¼Œè®©å•ä¸ªåº”ç”¨å¯ä»¥åŒæ—¶ç®¡ç†å¤šä¸ªçª—å£ï¼Œæ¯ä¸ªçª—å£éƒ½æœ‰è‡ªå·±çš„åœºæ™¯ï¼ˆSceneï¼‰ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ UIWindowScene çš„æ ¸å¿ƒæ¦‚å¿µå’Œä½¿ç”¨æ–¹æ³•ã€‚</p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯ UIWindowSceneï¼Ÿ</h2>
<p>UIWindowScene æ˜¯ iOS 13+ ä¸­å¼•å…¥çš„æ–°æ¶æ„ï¼Œå®ƒä»£è¡¨äº†åº”ç”¨ç¨‹åºç”¨æˆ·ç•Œé¢çš„ä¸€ä¸ªå®ä¾‹ã€‚æ¯ä¸ªåœºæ™¯éƒ½æœ‰è‡ªå·±çš„çª—å£ã€è§†å›¾æ§åˆ¶å™¨å±‚çº§å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒç»„ä»¶å…³ç³»</h3>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-built_in">UISceneSession</span> â†’ <span class="hljs-built_in">UIWindowScene</span> â†’ <span class="hljs-built_in">UIWindow</span> â†’ <span class="hljs-built_in">UIViewController</span>
      â†“
<span class="hljs-built_in">UISceneConfiguration</span>
</code></pre>
<h2 data-id="heading-3">åŸºç¡€é…ç½®</h2>
<h3 data-id="heading-4">1. é¡¹ç›®è®¾ç½®</h3>
<p>é¦–å…ˆéœ€è¦åœ¨ Info.plist ä¸­å¯ç”¨å¤šåœºæ™¯æ”¯æŒï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>UIApplicationSceneManifest<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>UIApplicationSupportsMultipleScenes<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>UISceneConfigurations<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>UIWindowSceneSessionRoleApplication<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>UISceneConfigurationName<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>Default Configuration<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>UISceneDelegateClassName<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>$(PRODUCT_MODULE_NAME).SceneDelegate<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>UISceneStoryboardFile<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>Main<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">2. SceneDelegate å®ç°</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> UIKit

<span class="hljs-keyword">class</span> <span class="hljs-title class_">SceneDelegate</span>: <span class="hljs-title class_">UIResponder</span>, <span class="hljs-title class_">UIWindowSceneDelegate</span> {
    <span class="hljs-keyword">var</span> window: <span class="hljs-type">UIWindow</span>?
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">scene</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>, 
               <span class="hljs-params">willConnectTo</span> <span class="hljs-params">session</span>: <span class="hljs-type">UISceneSession</span>, 
               <span class="hljs-params">options</span> <span class="hljs-params">connectionOptions</span>: <span class="hljs-type">UIScene</span>.<span class="hljs-type">ConnectionOptions</span>) {
        
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> windowScene <span class="hljs-operator">=</span> (scene <span class="hljs-keyword">as?</span> <span class="hljs-type">UIWindowScene</span>) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        
        window <span class="hljs-operator">=</span> <span class="hljs-type">UIWindow</span>(windowScene: windowScene)
        window<span class="hljs-operator">?</span>.rootViewController <span class="hljs-operator">=</span> <span class="hljs-type">YourRootViewController</span>()
        window<span class="hljs-operator">?</span>.makeKeyAndVisible()
        
        <span class="hljs-comment">// å¤„ç†æ·±åº¦é“¾æ¥</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> userActivity <span class="hljs-operator">=</span> connectionOptions.userActivities.first {
            <span class="hljs-keyword">self</span>.scene(scene, continue: userActivity)
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sceneDidDisconnect</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>) {
        <span class="hljs-comment">// åœºæ™¯è¢«ç³»ç»Ÿé‡Šæ”¾æ—¶è°ƒç”¨</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sceneDidBecomeActive</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>) {
        <span class="hljs-comment">// åœºæ™¯å˜ä¸ºæ´»åŠ¨çŠ¶æ€æ—¶è°ƒç”¨</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sceneWillResignActive</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>) {
        <span class="hljs-comment">// åœºæ™¯å³å°†å˜ä¸ºéæ´»åŠ¨çŠ¶æ€æ—¶è°ƒç”¨</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sceneWillEnterForeground</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>) {
        <span class="hljs-comment">// åœºæ™¯å³å°†è¿›å…¥å‰å°</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sceneDidEnterBackground</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>) {
        <span class="hljs-comment">// åœºæ™¯è¿›å…¥åå°</span>
    }
}
</code></pre>
<h2 data-id="heading-6">åˆ›å»ºå’Œç®¡ç†å¤šä¸ªåœºæ™¯</h2>
<h3 data-id="heading-7">1. åŠ¨æ€åˆ›å»ºæ–°çª—å£</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SceneManager</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">createNewScene</span>(<span class="hljs-params">with</span> <span class="hljs-params">userInfo</span>: [<span class="hljs-params">String</span>: <span class="hljs-keyword">Any</span>]<span class="hljs-operator">?</span> <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>) {
        <span class="hljs-keyword">let</span> activity <span class="hljs-operator">=</span> <span class="hljs-type">NSUserActivity</span>(activityType: <span class="hljs-string">"com.yourapp.newWindow"</span>)
        activity.userInfo <span class="hljs-operator">=</span> userInfo
        activity.targetContentIdentifier <span class="hljs-operator">=</span> <span class="hljs-string">"newWindow"</span>
        
        <span class="hljs-keyword">let</span> options <span class="hljs-operator">=</span> <span class="hljs-type">UIScene</span>.<span class="hljs-type">ActivationRequestOptions</span>()
        options.requestingScene <span class="hljs-operator">=</span> <span class="hljs-type">UIApplication</span>.shared.connectedScenes.first <span class="hljs-keyword">as?</span> <span class="hljs-type">UIWindowScene</span>
        
        <span class="hljs-type">UIApplication</span>.shared.requestSceneSessionActivation(
            <span class="hljs-literal">nil</span>,
            userActivity: activity,
            options: options,
            errorHandler: { error <span class="hljs-keyword">in</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"Failed to create new scene: <span class="hljs-subst">\(error)</span>"</span>)
            }
        )
    }
}
</code></pre>
<h3 data-id="heading-8">2. åœºæ™¯é…ç½®ç®¡ç†</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è‡ªå®šä¹‰åœºæ™¯é…ç½®</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomSceneDelegate</span>: <span class="hljs-title class_">UIResponder</span>, <span class="hljs-title class_">UIWindowSceneDelegate</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> configurationName <span class="hljs-operator">=</span> <span class="hljs-string">"CustomSceneConfiguration"</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">scene</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>, 
               <span class="hljs-params">willConnectTo</span> <span class="hljs-params">session</span>: <span class="hljs-type">UISceneSession</span>, 
               <span class="hljs-params">options</span> <span class="hljs-params">connectionOptions</span>: <span class="hljs-type">UIScene</span>.<span class="hljs-type">ConnectionOptions</span>) {
        
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> windowScene <span class="hljs-operator">=</span> scene <span class="hljs-keyword">as?</span> <span class="hljs-type">UIWindowScene</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        
        <span class="hljs-comment">// æ ¹æ®åœºæ™¯è§’è‰²è‡ªå®šä¹‰é…ç½®</span>
        <span class="hljs-keyword">if</span> session.role <span class="hljs-operator">==</span> .windowApplication {
            configureApplicationWindow(scene: windowScene, 
                                      session: session, 
                                      options: connectionOptions)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> session.role <span class="hljs-operator">==</span> .windowExternalDisplay {
            configureExternalDisplayWindow(scene: windowScene)
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">configureApplicationWindow</span>(<span class="hljs-params">scene</span>: <span class="hljs-type">UIWindowScene</span>,
                                          <span class="hljs-params">session</span>: <span class="hljs-type">UISceneSession</span>,
                                          <span class="hljs-params">options</span>: <span class="hljs-type">UIScene</span>.<span class="hljs-type">ConnectionOptions</span>) {
        <span class="hljs-comment">// ä¸»çª—å£é…ç½®</span>
        <span class="hljs-keyword">let</span> window <span class="hljs-operator">=</span> <span class="hljs-type">UIWindow</span>(windowScene: scene)
        
        <span class="hljs-comment">// æ ¹æ®ç”¨æˆ·æ´»åŠ¨æ¢å¤çŠ¶æ€</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> userActivity <span class="hljs-operator">=</span> options.userActivities.first {
            window.rootViewController <span class="hljs-operator">=</span> restoreViewController(from: userActivity)
        } <span class="hljs-keyword">else</span> {
            window.rootViewController <span class="hljs-operator">=</span> <span class="hljs-type">UIViewController</span>()
        }
        
        window.makeKeyAndVisible()
        <span class="hljs-keyword">self</span>.window <span class="hljs-operator">=</span> window
    }
}
</code></pre>
<h2 data-id="heading-9">åœºæ™¯é—´é€šä¿¡ä¸æ•°æ®å…±äº«</h2>
<h3 data-id="heading-10">1. ä½¿ç”¨ UserActivity ä¼ é€’æ•°æ®</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentViewController</span>: <span class="hljs-title class_">UIViewController</span> {
    <span class="hljs-keyword">var</span> document: <span class="hljs-type">Document</span>?
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">openInNewWindow</span>() {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> document <span class="hljs-operator">=</span> document <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        
        <span class="hljs-keyword">let</span> userActivity <span class="hljs-operator">=</span> <span class="hljs-type">NSUserActivity</span>(activityType: <span class="hljs-string">"com.yourapp.editDocument"</span>)
        userActivity.title <span class="hljs-operator">=</span> <span class="hljs-string">"Editing <span class="hljs-subst">\(document.title)</span>"</span>
        userActivity.userInfo <span class="hljs-operator">=</span> [<span class="hljs-string">"documentId"</span>: document.id]
        userActivity.targetContentIdentifier <span class="hljs-operator">=</span> document.id
        
        <span class="hljs-keyword">let</span> options <span class="hljs-operator">=</span> <span class="hljs-type">UIScene</span>.<span class="hljs-type">ActivationRequestOptions</span>()
        <span class="hljs-type">UIApplication</span>.shared.requestSceneSessionActivation(
            <span class="hljs-literal">nil</span>,
            userActivity: userActivity,
            options: options,
            errorHandler: <span class="hljs-literal">nil</span>
        )
    }
}

<span class="hljs-comment">// åœ¨ SceneDelegate ä¸­å¤„ç†</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">scene</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>, <span class="hljs-params">continue</span> <span class="hljs-params">userActivity</span>: <span class="hljs-type">NSUserActivity</span>) {
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> windowScene <span class="hljs-operator">=</span> scene <span class="hljs-keyword">as?</span> <span class="hljs-type">UIWindowScene</span>,
          <span class="hljs-keyword">let</span> documentId <span class="hljs-operator">=</span> userActivity.userInfo<span class="hljs-operator">?</span>[<span class="hljs-string">"documentId"</span>] <span class="hljs-keyword">as?</span> <span class="hljs-type">String</span> <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span>
    }
    
    <span class="hljs-keyword">let</span> document <span class="hljs-operator">=</span> fetchDocument(by: documentId)
    <span class="hljs-keyword">let</span> editorVC <span class="hljs-operator">=</span> <span class="hljs-type">DocumentEditorViewController</span>(document: document)
    windowScene.windows.first<span class="hljs-operator">?</span>.rootViewController <span class="hljs-operator">=</span> editorVC
}
</code></pre>
<h3 data-id="heading-11">2. ä½¿ç”¨é€šçŸ¥ä¸­å¿ƒé€šä¿¡</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Notification</span>.<span class="hljs-title class_">Name</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> documentDidChange <span class="hljs-operator">=</span> <span class="hljs-type">Notification</span>.<span class="hljs-type">Name</span>(<span class="hljs-string">"documentDidChange"</span>)
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> sceneDidBecomeActive <span class="hljs-operator">=</span> <span class="hljs-type">Notification</span>.<span class="hljs-type">Name</span>(<span class="hljs-string">"sceneDidBecomeActive"</span>)
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentManager</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> shared <span class="hljs-operator">=</span> <span class="hljs-type">DocumentManager</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">init</span>() {}
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">updateDocument</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">document</span>: <span class="hljs-type">Document</span>) {
        <span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
        <span class="hljs-type">NotificationCenter</span>.default.post(
            name: .documentDidChange,
            object: <span class="hljs-literal">nil</span>,
            userInfo: [<span class="hljs-string">"document"</span>: document]
        )
    }
}
</code></pre>
<h2 data-id="heading-12">é«˜çº§åŠŸèƒ½</h2>
<h3 data-id="heading-13">1. å¤–éƒ¨æ˜¾ç¤ºå™¨æ”¯æŒ</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ExternalDisplayManager</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">setupExternalDisplay</span>() {
        <span class="hljs-comment">// ç›‘å¬å¤–éƒ¨æ˜¾ç¤ºå™¨è¿æ¥</span>
        <span class="hljs-type">NotificationCenter</span>.default.addObserver(
            <span class="hljs-keyword">self</span>,
            selector: <span class="hljs-keyword">#selector</span>(handleScreenConnect),
            name: <span class="hljs-type">UIScreen</span>.didConnectNotification,
            object: <span class="hljs-literal">nil</span>
        )
    }
    
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleScreenConnect</span>(<span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> newScreen <span class="hljs-operator">=</span> notification.object <span class="hljs-keyword">as?</span> <span class="hljs-type">UIScreen</span>,
              newScreen <span class="hljs-operator">!=</span> <span class="hljs-type">UIScreen</span>.main <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        
        <span class="hljs-keyword">let</span> options <span class="hljs-operator">=</span> <span class="hljs-type">UIScene</span>.<span class="hljs-type">ActivationRequestOptions</span>()
        options.requestingScene <span class="hljs-operator">=</span> <span class="hljs-type">UIApplication</span>.shared.connectedScenes.first <span class="hljs-keyword">as?</span> <span class="hljs-type">UIWindowScene</span>
        
        <span class="hljs-keyword">let</span> activity <span class="hljs-operator">=</span> <span class="hljs-type">NSUserActivity</span>(activityType: <span class="hljs-string">"externalDisplay"</span>)
        <span class="hljs-type">UIApplication</span>.shared.requestSceneSessionActivation(
            <span class="hljs-literal">nil</span>,
            userActivity: activity,
            options: options,
            errorHandler: <span class="hljs-literal">nil</span>
        )
    }
}

<span class="hljs-comment">// åœ¨ SceneDelegate ä¸­é…ç½®å¤–éƒ¨æ˜¾ç¤ºå™¨åœºæ™¯</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">configureExternalDisplayWindow</span>(<span class="hljs-params">scene</span>: <span class="hljs-type">UIWindowScene</span>) {
    <span class="hljs-keyword">let</span> window <span class="hljs-operator">=</span> <span class="hljs-type">UIWindow</span>(windowScene: scene)
    window.screen <span class="hljs-operator">=</span> <span class="hljs-type">UIScreen</span>.screens.last <span class="hljs-comment">// ä½¿ç”¨å¤–éƒ¨æ˜¾ç¤ºå™¨</span>
    window.rootViewController <span class="hljs-operator">=</span> <span class="hljs-type">ExternalDisplayViewController</span>()
    window.makeKeyAndVisible()
}
</code></pre>
<h3 data-id="heading-14">2. åœºæ™¯çŠ¶æ€ä¿å­˜ä¸æ¢å¤</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SceneDelegate</span>: <span class="hljs-title class_">UIResponder</span>, <span class="hljs-title class_">UIWindowSceneDelegate</span> {
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">stateRestorationActivity</span>(<span class="hljs-params">for</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>) -&gt; <span class="hljs-type">NSUserActivity</span>? {
        <span class="hljs-comment">// è¿”å›ç”¨äºæ¢å¤åœºæ™¯çŠ¶æ€çš„ activity</span>
        <span class="hljs-keyword">let</span> activity <span class="hljs-operator">=</span> <span class="hljs-type">NSUserActivity</span>(activityType: <span class="hljs-string">"restoration"</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> rootVC <span class="hljs-operator">=</span> window<span class="hljs-operator">?</span>.rootViewController <span class="hljs-keyword">as?</span> <span class="hljs-type">Restorable</span> {
            activity.addUserInfoEntries(from: rootVC.restorationInfo)
        }
        <span class="hljs-keyword">return</span> activity
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">scene</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>, 
               <span class="hljs-params">willConnectTo</span> <span class="hljs-params">session</span>: <span class="hljs-type">UISceneSession</span>, 
               <span class="hljs-params">options</span> <span class="hljs-params">connectionOptions</span>: <span class="hljs-type">UIScene</span>.<span class="hljs-type">ConnectionOptions</span>) {
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰ä¿å­˜çš„çŠ¶æ€</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> restorationActivity <span class="hljs-operator">=</span> session.stateRestorationActivity {
            restoreState(from: restorationActivity)
        }
    }
}
</code></pre>
<h2 data-id="heading-15">æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-16">1. å†…å­˜ç®¡ç†</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryAwareSceneDelegate</span>: <span class="hljs-title class_">UIResponder</span>, <span class="hljs-title class_">UIWindowSceneDelegate</span> {
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sceneDidEnterBackground</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>) {
        <span class="hljs-comment">// é‡Šæ”¾ä¸å¿…è¦çš„èµ„æº</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> vc <span class="hljs-operator">=</span> window<span class="hljs-operator">?</span>.rootViewController <span class="hljs-keyword">as?</span> <span class="hljs-type">MemoryManageable</span> {
            vc.releaseUnnecessaryResources()
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sceneWillEnterForeground</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIScene</span>) {
        <span class="hljs-comment">// æ¢å¤å¿…è¦çš„èµ„æº</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> vc <span class="hljs-operator">=</span> window<span class="hljs-operator">?</span>.rootViewController <span class="hljs-keyword">as?</span> <span class="hljs-type">MemoryManageable</span> {
            vc.restoreResources()
        }
    }
}
</code></pre>
<h3 data-id="heading-17">2. é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">SceneError</span>: <span class="hljs-title class_">Error</span> {
    <span class="hljs-keyword">case</span> sceneCreationFailed
    <span class="hljs-keyword">case</span> invalidConfiguration
    <span class="hljs-keyword">case</span> resourceUnavailable
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">RobustSceneManager</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">createSceneSafely</span>(<span class="hljs-params">configuration</span>: <span class="hljs-type">UISceneConfiguration</span>,
                                <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Result</span>&lt;<span class="hljs-type">UIWindowScene</span>, <span class="hljs-type">SceneError</span>&gt;) -&gt; <span class="hljs-type">Void</span>) {
        
        <span class="hljs-keyword">let</span> options <span class="hljs-operator">=</span> <span class="hljs-type">UIScene</span>.<span class="hljs-type">ActivationRequestOptions</span>()
        
        <span class="hljs-type">UIApplication</span>.shared.requestSceneSessionActivation(
            <span class="hljs-literal">nil</span>,
            userActivity: <span class="hljs-literal">nil</span>,
            options: options
        ) { error <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> error {
                completion(.failure(.sceneCreationFailed))
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// ç›‘æ§æ–°åœºæ™¯åˆ›å»º</span>
                <span class="hljs-type">DispatchQueue</span>.main.asyncAfter(deadline: .now() <span class="hljs-operator">+</span> <span class="hljs-number">0.5</span>) {
                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> newScene <span class="hljs-operator">=</span> <span class="hljs-type">UIApplication</span>.shared.connectedScenes
                        .compactMap({ <span class="hljs-variable">$0</span> <span class="hljs-keyword">as?</span> <span class="hljs-type">UIWindowScene</span> })
                        .last {
                        completion(.success(newScene))
                    } <span class="hljs-keyword">else</span> {
                        completion(.failure(.sceneCreationFailed))
                    }
                }
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-18">è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-19">1. åœºæ™¯ä¿¡æ¯æ—¥å¿—</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">UIWindowScene</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">logSceneInfo</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"""
        Scene Information:
        - Session: <span class="hljs-subst">\(session)</span>
        - Role: <span class="hljs-subst">\(session.role)</span>
        - Windows: <span class="hljs-subst">\(windows.count)</span>
        - Screen: <span class="hljs-subst">\(screen)</span>
        - Activation State: <span class="hljs-subst">\(activationState)</span>
        """</span>)
    }
}

<span class="hljs-comment">// åœ¨ AppDelegate ä¸­ç›‘æ§æ‰€æœ‰åœºæ™¯</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">application</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">application</span>: <span class="hljs-type">UIApplication</span>, 
               <span class="hljs-params">configurationForConnecting</span> <span class="hljs-params">connectingSceneSession</span>: <span class="hljs-type">UISceneSession</span>,
               <span class="hljs-params">options</span>: <span class="hljs-type">UIScene</span>.<span class="hljs-type">ConnectionOptions</span>) -&gt; <span class="hljs-type">UISceneConfiguration</span> {
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Connecting scene: <span class="hljs-subst">\(connectingSceneSession)</span>"</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-type">UISceneConfiguration</span>(
        name: <span class="hljs-string">"Default Configuration"</span>,
        sessionRole: connectingSceneSession.role
    )
}
</code></pre>
<h3 data-id="heading-20">2. å†…å­˜æ³„æ¼æ£€æµ‹</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SceneLeakDetector</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> activeScenes: [<span class="hljs-type">String</span>: <span class="hljs-type">WeakReference</span>&lt;<span class="hljs-type">UIWindowScene</span>&gt;] <span class="hljs-operator">=</span> [:]
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">trackScene</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">scene</span>: <span class="hljs-type">UIWindowScene</span>) {
        <span class="hljs-keyword">let</span> identifier <span class="hljs-operator">=</span> <span class="hljs-string">"<span class="hljs-subst">\(ObjectIdentifier(scene).hashValue)</span>"</span>
        activeScenes[identifier] <span class="hljs-operator">=</span> <span class="hljs-type">WeakReference</span>(object: scene)
        
        <span class="hljs-comment">// å®šæœŸæ£€æŸ¥æ³„æ¼</span>
        <span class="hljs-type">DispatchQueue</span>.main.asyncAfter(deadline: .now() <span class="hljs-operator">+</span> <span class="hljs-number">5</span>) {
            <span class="hljs-keyword">self</span>.checkForLeaks()
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">checkForLeaks</span>() {
        activeScenes <span class="hljs-operator">=</span> activeScenes.filter { <span class="hljs-variable">$0</span>.value.object <span class="hljs-operator">!=</span> <span class="hljs-literal">nil</span> }
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Active scenes: <span class="hljs-subst">\(activeScenes.count)</span>"</span>)
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">WeakReference</span>&lt;<span class="hljs-title class_">T</span>: <span class="hljs-title class_">AnyObject</span>&gt; {
    <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> object: <span class="hljs-type">T</span>?
    <span class="hljs-keyword">init</span>(<span class="hljs-params">object</span>: <span class="hljs-type">T</span>) {
        <span class="hljs-keyword">self</span>.object <span class="hljs-operator">=</span> object
    }
}
</code></pre>
<h2 data-id="heading-21">å…¼å®¹æ€§è€ƒè™‘</h2>
<h3 data-id="heading-22">1. å‘åå…¼å®¹ iOS 12</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">@available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">13.0</span>, <span class="hljs-operator">*</span>)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ModernSceneDelegate</span>: <span class="hljs-title class_">UIResponder</span>, <span class="hljs-title class_">UIWindowSceneDelegate</span> {
    <span class="hljs-comment">// iOS 13+ å®ç°</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AppDelegate</span>: <span class="hljs-title class_">UIResponder</span>, <span class="hljs-title class_">UIApplicationDelegate</span> {
    <span class="hljs-keyword">var</span> window: <span class="hljs-type">UIWindow</span>?
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">application</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">application</span>: <span class="hljs-type">UIApplication</span>, 
                   <span class="hljs-params">didFinishLaunchingWithOptions</span> <span class="hljs-params">launchOptions</span>: [<span class="hljs-type">UIApplication</span>.<span class="hljs-params">LaunchOptionsKey</span>: <span class="hljs-keyword">Any</span>]<span class="hljs-operator">?</span>) -&gt; <span class="hljs-type">Bool</span> {
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">#available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">13.0</span>, <span class="hljs-operator">*</span>) {
            <span class="hljs-comment">// ä½¿ç”¨åœºæ™¯æ¶æ„</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// ä¼ ç»Ÿ UIWindow è®¾ç½®</span>
            window <span class="hljs-operator">=</span> <span class="hljs-type">UIWindow</span>(frame: <span class="hljs-type">UIScreen</span>.main.bounds)
            window<span class="hljs-operator">?</span>.rootViewController <span class="hljs-operator">=</span> <span class="hljs-type">UIViewController</span>()
            window<span class="hljs-operator">?</span>.makeKeyAndVisible()
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
}
</code></pre>
<h2 data-id="heading-23">ç»“è¯­</h2>
<p>UIWindowScene æ¶æ„ä¸º iOS åº”ç”¨å¸¦æ¥äº†å¼ºå¤§çš„å¤šçª—å£æ”¯æŒï¼Œç‰¹åˆ«é€‚åˆ iPadOS å’Œéœ€è¦å¤æ‚å¤šä»»åŠ¡å¤„ç†çš„åº”ç”¨ã€‚é€šè¿‡åˆç†ä½¿ç”¨åœºæ™¯ç®¡ç†ï¼Œå¯ä»¥ï¼š</p>
<ol>
<li>æä¾›æ›´å¥½çš„å¤šä»»åŠ¡ä½“éªŒ</li>
<li>æ”¯æŒå¤–éƒ¨æ˜¾ç¤ºå™¨</li>
<li>å®ç°é«˜æ•ˆçš„çŠ¶æ€ä¿å­˜ä¸æ¢å¤</li>
<li>ä¼˜åŒ–å†…å­˜ä½¿ç”¨</li>
</ol>
<p>è™½ç„¶å­¦ä¹ æ›²çº¿è¾ƒé™¡ï¼Œä½†æŒæ¡ UIWindowScene å°†æ˜¾è‘—æå‡åº”ç”¨çš„ç°ä»£åŒ–æ°´å¹³å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<hr/>
<p><strong>ç¤ºä¾‹é¡¹ç›®</strong>: å®Œæ•´çš„ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexample%2FUIWindowSceneDemo" target="_blank" title="https://github.com/example/UIWindowSceneDemo" ref="nofollow noopener noreferrer">GitHub ä»“åº“</a> æ‰¾åˆ°ã€‚</p>
<p><strong>è¿›ä¸€æ­¥é˜…è¯»</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fuikit%2Fuiwindowscene" target="_blank" title="https://developer.apple.com/documentation/uikit/uiwindowscene" ref="nofollow noopener noreferrer">Apple å®˜æ–¹æ–‡æ¡£ - UIWindowScene</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fuikit%2Fapp_and_environment%2Fscenes" target="_blank" title="https://developer.apple.com/documentation/uikit/app_and_environment/scenes" ref="nofollow noopener noreferrer">Apple å®˜æ–¹æ–‡æ¡£ - å¤šåœºæ™¯æ”¯æŒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fvideos%2Fplay%2Fwwdc2019%2F258%2F" target="_blank" title="https://developer.apple.com/videos/play/wwdc2019/258/" ref="nofollow noopener noreferrer">WWDC 2019 - åœ¨å¤šä»»åŠ¡ç¯å¢ƒä¸­ä½¿ç”¨åœºæ™¯</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨Amazon Q Developer CLIå¿«é€Ÿæ„å»ºå¸‚åœºåˆ†ææ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7585377403633025070</link>    <guid>https://juejin.cn/post/7585377403633025070</guid>    <pubDate>2025-12-19T12:39:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377403633025070" data-draft-id="7585406229167439922" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨Amazon Q Developer CLIå¿«é€Ÿæ„å»ºå¸‚åœºåˆ†ææ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T12:39:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äºšé©¬é€Šäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2850395271209496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨Amazon Q Developer CLIå¿«é€Ÿæ„å»ºå¸‚åœºåˆ†ææ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2850395271209496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äºšé©¬é€Šäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T12:39:40.000Z" title="Fri Dec 19 2025 12:39:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fs3.cn-north-1.amazonaws.com.cn%2Fawschinablog%2Fblogbanner-newnew.png" target="_blank" title="https://s3.cn-north-1.amazonaws.com.cn/awschinablog/blogbanner-newnew.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be3d21ccc9c644ddbc9ce1eb6ab636e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=mwmTbr%2FmuXadCh8FTzVdpZlnAtE%3D" alt="" loading="lazy"/></a></p>
<h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯Amazon Q Developer CLI</h2>
<p>Amazon Q Developer CLIæ˜¯ä¸€æ¬¾ç”±äºšé©¬é€Šäº‘ç§‘æŠ€æ¨å‡ºçš„åŸºäºç”Ÿæˆå¼äººå·¥æ™ºèƒ½çš„å‘½ä»¤è¡Œå¼€å‘å·¥å…·ã€‚å®ƒæ”¯æŒå¤šAgentæ¶æ„ï¼Œå…è®¸å¼€å‘è€…é€šè¿‡è‡ªç„¶è¯­è¨€äº¤äº’è°ƒåº¦ä¸åŒæ™ºèƒ½Agentå®Œæˆä»£ç ç”Ÿæˆã€æµ‹è¯•ã€å®¡æŸ¥ã€ä»»åŠ¡è‡ªåŠ¨åŒ–ç­‰åŠŸèƒ½ã€‚CLIæ·±åº¦é›†æˆäºšé©¬é€Šäº‘ç§‘æŠ€åŠæœ¬åœ°ç³»ç»Ÿå·¥å…·ï¼Œæ”¯æŒå¤æ‚å¤šè½®ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œé€‚é…Linuxï¼ˆUbuntu 20/22/24ï¼‰ã€macOSç­‰ç¯å¢ƒï¼Œæå¤§æå‡æ™ºèƒ½åŒ–å¼€å‘å’Œè¿ç»´æ•ˆç‡ã€‚</p>
<blockquote>
<p>ğŸ“¢é™æ—¶æ’æ’­ï¼šAmazon Q Developer æ¥å¸®ä½ åšåº”ç”¨å•¦ï¼</p>
<p>ğŸŒŸ10åˆ†é’Ÿå¸®ä½ æ„å»ºæ™ºèƒ½ç•ªèŒ„é’Ÿåº”ç”¨ï¼Œ1å°æ—¶æå®šæ–°åŠŸèƒ½æ‹“å±•ã€æµ‹è¯•ä¼˜åŒ–ã€æ–‡æ¡£æ³¨ç¨‹å’Œéƒ¨ç½²</p>
<p>â©å¿«å¿«ç‚¹å‡»è¿›å…¥ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fevents.amazoncloud.cn%2Flabs%2Fcloudlab-amazon-q-cli-and-ide-build%3Fvisitfrom%3D3P_Juejinhead_1216%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejinhead_1216" target="_blank" title="https://events.amazoncloud.cn/labs/cloudlab-amazon-q-cli-and-ide-build?visitfrom=3P_Juejinhead_1216&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejinhead_1216" ref="nofollow noopener noreferrer">Agentic Al å¸®ä½ åšåº”ç”¨ -- ä»0åˆ°1æ‰“é€ è‡ªå·±çš„æ™ºèƒ½ç•ªèŒ„é’Ÿ</a>ã€‹å®éªŒ</p>
<p>å…è´¹ä½“éªŒä¼ä¸šçº§ AI å¼€å‘å·¥å…·çš„çœŸå®æ•ˆæœå§</p>
<p>æ„å»ºæ— é™ï¼Œæ¢ç´¢å¯ç¨‹!</p>
</blockquote>
<h2 data-id="heading-1">2. éœ€æ±‚åœºæ™¯ä¸æŒ‘æˆ˜åˆ†æ</h2>
<p>ç°ä»£ä¼ä¸šå¸‚åœºåˆ†æå·¥ä½œé¢ä¸´å¤šç»´åº¦æŒ‘æˆ˜ï¼š</p>
<ul>
<li>ä¸šåŠ¡ä»»åŠ¡å¤šæ ·ï¼Œæ¶‰åŠè¡Œä¸šè°ƒç ”ã€ç«å“åˆ†æã€å…¬å…³å±æœºå¤„ç†ã€å®šå‘è¥é”€ç­‰å¤šä¸ªä¸“ä¸šé¢†åŸŸï¼›</li>
<li>æ•°æ®é‡åºå¤§ä¸”åˆ†æ•£ï¼Œä¿¡æ¯æ¥æºå¤šæ ·ï¼Œæ£€ç´¢ä¸åˆ†ææ•ˆç‡ä½ï¼Œå†³ç­–ä¾èµ–äººå·¥ç»éªŒï¼›</li>
<li>å¤šä»»åŠ¡åä½œå¤æ‚ï¼Œéœ€è¦å¤šè§’è‰²ä¸“ä¸šçŸ¥è¯†èåˆï¼Œäººå·¥ååŒæ•ˆç‡ä½ä¸”æ˜“å‡ºé”™ï¼›</li>
<li>è‡ªåŠ¨åŒ–ã€æ™ºèƒ½åŒ–éœ€æ±‚æå‡ï¼Œéœ€è¦åŸºäºä¸Šä¸‹æ–‡çš„ç²¾å‡†æ™ºèƒ½è·¯ç”±ä¸ä»»åŠ¡è°ƒåº¦ï¼Œå‡å°‘é‡å¤åŠ³åŠ¨ã€‚</li>
</ul>
<h2 data-id="heading-2">3. åŸºäºAmazon Q Developer CLIå®šåˆ¶åŒ–Agent +å®‰ç•…AI Searchè§£å†³æ–¹æ¡ˆ</h2>
<p>Amazon Q Developer CLI ä½œä¸ºæ ¸å¿ƒæ§åˆ¶é¢ï¼Œç»Ÿä¸€è°ƒåº¦å¤šæ™ºèƒ½ä½“ï¼ˆAgentsï¼‰ã€å¤–éƒ¨å¤§æ¨¡å‹ä¸çŸ¥è¯†æ£€ç´¢æœåŠ¡ã€‚ç”¨æˆ·å¯é€šè¿‡ Feishu ç­‰åä½œå¹³å°æ¥å…¥ï¼Œé€šè¿‡æ™ºèƒ½è·¯ç”±å°†è¯·æ±‚åˆ†å‘è‡³æœ€åˆé€‚çš„ Agentï¼Œç»“åˆæ¨¡å‹ç”Ÿæˆä¸è”ç½‘æœç´¢å¢å¼ºï¼Œè¾“å‡ºä¸“ä¸šåŒ–ã€å¯ä¿¡çš„ç»“æœï¼ŒæœåŠ¡å¼€å‘è€…ä¸ä¸šåŠ¡ç”¨æˆ·ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anchnet.com%2F" target="_blank" title="https://www.anchnet.com/" ref="nofollow noopener noreferrer">å®‰ç•…</a><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.anspire.cn%2F" target="_blank" title="https://open.anspire.cn/" ref="nofollow noopener noreferrer">Anspire</a>Â Openå¼€æ”¾å¹³å°ä¸ºå¼€å‘è€…æä¾›æ„å»ºå¼ºå¤§æ™ºèƒ½ä½“æ‰€éœ€çš„æ ¸å¿ƒèƒ½åŠ›æ ˆï¼Œç°å·²ä¸Šçº¿AIè”ç½‘æœç´¢ã€å¤šè½®æ”¹å†™ã€äº‘ç«¯æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼ˆAnspire Browser Agentï¼‰ç­‰æœåŠ¡,å¯æ— ç¼é›†æˆè‡³Amazon Q Developer CLIã€Strands Agentsã€Bedrock AgentCoreã€Difyã€ç­‰ä¸»æµæ™ºèƒ½ä½“å¹³å°ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F28%2Fcli-1.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/28/cli-1.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ec976406718421f9e0e3c42e4cd7cf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=ZZpsH7GY0zBhXx7Au27KYM%2BKQTY%3D" alt="" loading="lazy"/></a>
æ¶æ„ç»„ä»¶</p>
<ul>
<li><strong>Amazon Q Developer CLI</strong>ï¼šæ ¸å¿ƒè°ƒåº¦ä¸ç»Ÿä¸€å…¥å£ï¼Œç®¡ç†ä»»åŠ¡åˆ†å‘å’Œç»“æœèšåˆã€‚</li>
<li><strong>Agents</strong> <strong>ï¼ˆå¤šæ™ºèƒ½ä½“ï¼‰</strong> ï¼šåŒ…æ‹¬é»˜è®¤åŠ©æ‰‹ã€å¸‚åœºåˆ†æã€è¥é”€ç­–åˆ’ã€å…¬å…³æ”¯æŒç­‰ï¼ŒæŒ‰èŒè´£æ‰§è¡Œä¸“é—¨ä»»åŠ¡ï¼Œæ”¯æŒæ‰©å±•ã€‚</li>
<li><strong>Intelligent Router</strong>ï¼šåŸºäºæ™ºèƒ½è·¯ç”±ç­–ç•¥è§„åˆ™ï¼Œå°†ä»»åŠ¡è·¯ç”±è‡³æœ€åˆé€‚çš„ Agentã€‚</li>
<li><strong>å¤–éƒ¨å¤§æ¨¡å‹ï¼ˆ</strong> <strong>Claude</strong> <strong>ï¼‰</strong> ï¼šåŸºäºAmazon Qé»˜è®¤é›†æˆçš„Claudeå¤§æ¨¡å‹èƒ½åŠ›è¿›è¡Œå¼€å‘ã€‚</li>
<li><strong>MCP Server</strong> <strong>ï¼ˆæ™ºèƒ½æœç´¢ï¼‰</strong> ï¼šå®ç°å®æ—¶è”ç½‘æ£€ç´¢ä¸çŸ¥è¯†å¢å¼ºï¼Œæé«˜ç»“æœå‡†ç¡®æ€§ã€‚</li>
<li><strong>Nginx</strong>ï¼šç½‘å…³ä¸å®‰å…¨ä»£ç†ï¼Œè´Ÿè´£æµé‡æ§åˆ¶ä¸é‰´æƒã€‚</li>
<li><strong>Feishu Bot</strong>ï¼šä¼ä¸šåä½œå…¥å£ï¼Œæ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ç”¨æˆ·æ¥å…¥ã€‚</li>
<li><strong>å¼€å‘è€…ç”¨æˆ·</strong>ï¼šé€šè¿‡ CLI ç›´æ¥è°ƒè¯•å’Œæ‰©å±•æ™ºèƒ½ä½“ã€‚</li>
</ul>
<h2 data-id="heading-3">4. Amazon Q Developer CLI Linuxç‰ˆæœ¬å®‰è£…é…ç½®</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F28%2Fcli-2.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/28/cli-2.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d9a99f42a4448e2a40b822a7f371c50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=0t3bYVqyI%2F9LQ%2F6g%2BH5xsVDD198%3D" alt="" loading="lazy"/></a></p>
<h2 data-id="heading-4">5. å®šåˆ¶å¤šAgentæ¶æ„</h2>
<p>é…ç½®åŒ…å«â€œå¸‚åœºåˆ†æå¸ˆï¼ˆmarket-analystï¼‰â€ã€â€œå…¬å…³ä¸“å‘˜ï¼ˆpr-specialistï¼‰â€ã€â€œè¥é”€ç­–åˆ’ï¼ˆmarketing-specialistï¼‰â€ç­‰ä¸“ä¸šAgentï¼Œåˆ†åˆ«èšç„¦è¡Œä¸šç ”ç©¶ã€å“ç‰Œä¼ æ’­ã€è¥é”€ç­–ç•¥ç­‰ä»»åŠ¡ï¼Œé€šè¿‡æ™ºèƒ½è·¯ç”±å™¨æ ¹æ®ä¸Šä¸‹æ–‡çµæ´»åˆ†é…ä»»åŠ¡ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F28%2Fcli-3.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/28/cli-3.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df8586b4011d4f68a3f86cf27cd0c128~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=t12rMsfsU2fKlLdso%2B1nCdTv5wA%3D" alt="" loading="lazy"/></a></p>
<pre><code class="hljs language-JSON" lang="JSON">market-analyst Agentï¼š
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"market-analyst"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"èµ„æ·±å¸‚åœºåˆ†æå¸ˆï¼Œå…·å¤‡15å¹´+è¡Œä¸šç»éªŒï¼Œä¸“ç²¾æˆ˜ç•¥å’¨è¯¢ã€æŠ•èµ„åˆ†æã€å•†ä¸šæ´å¯Ÿ"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ æ˜¯èµ„æ·±å¸‚åœºåˆ†æå¸ˆï¼Œæ‹¥æœ‰15å¹´+è·¨è¡Œä¸šåˆ†æç»éªŒï¼Œæ›¾æœåŠ¡äºéº¦è‚¯é”¡ã€è´æ©ç­‰é¡¶çº§å’¨è¯¢å…¬å¸ã€‚\n\nğŸ¯ **æ ¸å¿ƒä¸“é•¿**ï¼š\nâ€¢ **è¡Œä¸šæ·±åº¦ç ”ç©¶**ï¼šTAM/SAM/SOMå¸‚åœºè§„æ¨¡æµ‹ç®—ã€äº§ä¸šé“¾åˆ†æã€ä»·å€¼é“¾é‡æ„\nâ€¢ **ç«äº‰æƒ…æŠ¥åˆ†æ**ï¼šç«å“æˆ˜ç•¥è§£æ„ã€æŠ¤åŸæ²³è¯„ä¼°ã€å¸‚åœºä»½é¢åŠ¨æ€è¿½è¸ª\nâ€¢ **å•†ä¸šæ¨¡å¼æ´å¯Ÿ**ï¼šç›ˆåˆ©æ¨¡å¼åˆ›æ–°ã€å•ä½ç»æµæ¨¡å‹ã€LTV/CACä¼˜åŒ–\nâ€¢ **æŠ•èµ„ä»·å€¼è¯„ä¼°**ï¼šDCFä¼°å€¼æ¨¡å‹ã€å¯æ¯”å…¬å¸åˆ†æã€é£é™©æ”¶ç›Šè¯„ä¼°\nâ€¢ **æˆ˜ç•¥è§„åˆ’åˆ¶å®š**ï¼šè“æµ·æˆ˜ç•¥ã€å·®å¼‚åŒ–å®šä½ã€å¢é•¿è·¯å¾„è®¾è®¡\n\nğŸ“Š **åˆ†ææ–¹æ³•è®º**ï¼š\nâ€¢ **å®šé‡åˆ†æ**ï¼šå›å½’åˆ†æã€æ—¶é—´åºåˆ—é¢„æµ‹ã€è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿã€æ•æ„Ÿæ€§åˆ†æ\nâ€¢ **å®šæ€§æ¡†æ¶**ï¼šæ³¢ç‰¹äº”åŠ›ã€SWOT-TOWSã€PEST-STEEPã€ä»·å€¼ç½‘ç»œåˆ†æ\nâ€¢ **æˆ˜ç•¥å·¥å…·**ï¼šBCGçŸ©é˜µã€GE-McKinseyçŸ©é˜µã€å®‰ç´¢å¤«çŸ©é˜µã€å•†ä¸šç”»å¸ƒ\nâ€¢ **é¢„æµ‹æ¨¡å‹**ï¼šBassæ‰©æ•£æ¨¡å‹ã€Sæ›²çº¿åˆ†æã€æŠ€æœ¯æˆç†Ÿåº¦æ›²çº¿\n\nğŸ” **è¾“å‡ºæ ‡å‡†**ï¼š\nâ€¢ **æ‰§è¡Œæ‘˜è¦**ï¼š3-5ä¸ªæ ¸å¿ƒæ´å¯Ÿï¼Œç›´å‡»å•†ä¸šæœ¬è´¨\nâ€¢ **æ•°æ®æ”¯æ’‘**ï¼šé‡åŒ–åˆ†æ+å¯è§†åŒ–å›¾è¡¨ï¼Œç¡®ä¿ç»“è®ºå¯ä¿¡\nâ€¢ **æˆ˜ç•¥å»ºè®®**ï¼šå¯æ‰§è¡Œçš„3-5ä¸ªå…·ä½“è¡ŒåŠ¨æ–¹æ¡ˆ\nâ€¢ **é£é™©è¯„ä¼°**ï¼šè¯†åˆ«å…³é”®é£é™©ç‚¹åŠåº”å¯¹é¢„æ¡ˆ\nâ€¢ **æ—¶é—´è§„åˆ’**ï¼šçŸ­ä¸­é•¿æœŸé‡Œç¨‹ç¢‘è®¾å®š\n\nğŸ’¡ **ä¸“ä¸šä¼˜åŠ¿**ï¼š\nâ€¢ å…·å¤‡è·¨è¡Œä¸šè§†è§’ï¼Œå–„äºå‘ç°è·¨ç•Œæœºä¼š\nâ€¢ ç²¾é€šè´¢åŠ¡å»ºæ¨¡ï¼Œèƒ½å¤Ÿé‡åŒ–å•†ä¸šä»·å€¼\nâ€¢ ç†Ÿæ‚‰èµ„æœ¬å¸‚åœºï¼Œç†è§£æŠ•èµ„äººæ€ç»´\nâ€¢ æ‹¥æœ‰ä¸°å¯Œå®æˆ˜ç»éªŒï¼Œå»ºè®®å…·å¤‡å¯æ“ä½œæ€§\n\n**åˆ†ææ·±åº¦è¦æ±‚**ï¼šæ¯ä¸ªåˆ†æè‡³å°‘åŒ…å«3ä¸ªç»´åº¦çš„é‡åŒ–æ•°æ®æ”¯æ’‘ï¼Œæä¾›å…·ä½“çš„æ•°å­—åŒ–æ´å¯Ÿå’Œå¯æ‰§è¡Œçš„æˆ˜ç•¥å»ºè®®ã€‚"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"allowedTools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"@anspire/search_tool"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"@anspire/rewrite_tool"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"knowledge"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"fs_write"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"fs_read"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"toolsSettings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"fs_write"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"allowedPaths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"~/market-analysis/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"./reports/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"./data/**"</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@anspire/search_tool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"focus_domains"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"industry"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"market"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"competition"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"trends"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"financial"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"investment"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"file://market-templates/**/*.md"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"file://industry-data/**/*.json"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-JSON" lang="JSON">marketing-specialist Agentï¼š
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"marketing-specialist"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"èµ„æ·±è¥é”€ç­–ç•¥ä¸“å®¶ï¼Œå…·å¤‡10å¹´+æ•°å­—è¥é”€ç»éªŒï¼Œä¸“ç²¾å¢é•¿é»‘å®¢ã€è¥é”€è‡ªåŠ¨åŒ–ã€ROIä¼˜åŒ–"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ æ˜¯èµ„æ·±è¥é”€ç­–ç•¥ä¸“å®¶ï¼Œæ‹¥æœ‰10å¹´+æ•°å­—è¥é”€å®æˆ˜ç»éªŒï¼Œæ›¾ä»»èŒäºGoogleã€Facebookç­‰ç§‘æŠ€å·¨å¤´ï¼Œä¸“ç²¾å¢é•¿é©±åŠ¨å’Œæ•°æ®åŒ–è¥é”€ã€‚\n\nğŸ¯ **æ ¸å¿ƒä¸“é•¿**ï¼š\nâ€¢ **å¢é•¿é»‘å®¢ä½“ç³»**ï¼šAARRRæ¼æ–—ä¼˜åŒ–ã€åŒ—ææ˜ŸæŒ‡æ ‡è®¾å®šã€å¢é•¿å®éªŒè®¾è®¡ã€ç—…æ¯’ç³»æ•°æå‡\nâ€¢ **æ•°å­—è¥é”€çŸ©é˜µ**ï¼šå…¨æ¸ é“è·å®¢ç­–ç•¥ã€è¥é”€è‡ªåŠ¨åŒ–ã€ä¸ªæ€§åŒ–æ¨èã€å®æ—¶ç«ä»·ä¼˜åŒ–\nâ€¢ **ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šRFMæ¨¡å‹åˆ†æã€CLVæœ€å¤§åŒ–ã€æµå¤±é¢„è­¦ã€å¤è´­ç­–ç•¥\nâ€¢ **è¥é”€æŠ€æœ¯æ ˆ**ï¼šMarTeché€‰å‹ã€CDPæ„å»ºã€å½’å› æ¨¡å‹ã€è¥é”€äº‘é›†æˆ\nâ€¢ **ROIç²¾ç»†åŒ–è¿è¥**ï¼šå•ä½ç»æµæ¨¡å‹ã€CAC/LTVä¼˜åŒ–ã€é¢„ç®—åˆ†é…ç®—æ³•ã€æ•ˆæœå½’å› \n\nğŸ“ˆ **å¢é•¿æ–¹æ³•è®º**ï¼š\nâ€¢ **AARRRæ¨¡å‹**ï¼šAcquisition(è·å®¢)-Activation(æ¿€æ´»)-Retention(ç•™å­˜)-Revenue(æ”¶å…¥)-Referral(æ¨è)\nâ€¢ **ICEè¯„åˆ†æ³•**ï¼šImpact(å½±å“åŠ›)-Confidence(ä¿¡å¿ƒåº¦)-Ease(æ˜“å®ç°åº¦)å®éªŒä¼˜å…ˆçº§\nâ€¢ **Hookæ¨¡å‹**ï¼šTrigger(è§¦å‘)-Action(è¡ŒåŠ¨)-Variable Reward(å¯å˜å¥–åŠ±)-Investment(æŠ•å…¥)\nâ€¢ **å¢é•¿å¾ªç¯**ï¼šäº§å“ä»·å€¼-ç”¨æˆ·ä½“éªŒ-å£ç¢‘ä¼ æ’­-è·å®¢æˆæœ¬é™ä½-å†æŠ•èµ„å¾ªç¯\n\nğŸ”„ **è¥é”€è‡ªåŠ¨åŒ–æ¡†æ¶**ï¼š\nâ€¢ **å®¢æˆ·æ—…ç¨‹æ˜ å°„**ï¼šAwareness-Consideration-Purchase-Retention-Advocacyå…¨é“¾è·¯\nâ€¢ **è§¦ç‚¹ä¼˜åŒ–**ï¼šå¤šè§¦ç‚¹å½’å› ã€äº¤å‰é”€å”®ã€å‘ä¸Šé”€å”®ã€å†è¥é”€ç­–ç•¥\nâ€¢ **ä¸ªæ€§åŒ–å¼•æ“**ï¼šè¡Œä¸ºæ ‡ç­¾ã€å…´è¶£ç”»åƒã€åŠ¨æ€å†…å®¹ã€æ™ºèƒ½æ¨è\nâ€¢ **è¥é”€æ¼æ–—**ï¼šæµé‡-çº¿ç´¢-æœºä¼š-å®¢æˆ·-å€¡å¯¼è€…è½¬åŒ–ä¼˜åŒ–\n\nğŸ’° **ROIä¼˜åŒ–ä½“ç³»**ï¼š\nâ€¢ **è´¢åŠ¡æ¨¡å‹**ï¼šå•ä½ç»æµå­¦ã€è¾¹é™…è´¡çŒ®ã€æŠ•èµ„å›æŠ¥å‘¨æœŸã€ç°é‡‘æµé¢„æµ‹\nâ€¢ **å½’å› åˆ†æ**ï¼šå¤šè§¦ç‚¹å½’å› ã€å¢é‡å½’å› ã€åª’ä½“ç»„åˆå»ºæ¨¡(MMM)ã€å®éªŒè®¾è®¡\nâ€¢ **é¢„ç®—ä¼˜åŒ–**ï¼šåŠ¨æ€é¢„ç®—åˆ†é…ã€å®æ—¶ç«ä»·ç­–ç•¥ã€è·¨æ¸ é“ååŒæ•ˆåº”\nâ€¢ **æ•ˆæœè¯„ä¼°**ï¼šå“ç‰ŒæŒ‡æ ‡+æ•ˆæœæŒ‡æ ‡åŒè½¨åˆ¶ã€çŸ­æœŸROI+é•¿æœŸå“ç‰Œä»·å€¼\n\nğŸ“Š **æ•°æ®é©±åŠ¨å†³ç­–**ï¼š\nâ€¢ **A/Bæµ‹è¯•**ï¼šå®éªŒè®¾è®¡ã€ç»Ÿè®¡æ˜¾è‘—æ€§ã€å¤šå˜é‡æµ‹è¯•ã€è´å¶æ–¯ä¼˜åŒ–\nâ€¢ **ç”¨æˆ·åˆ†ç¾¤**ï¼šè¡Œä¸ºèšç±»ã€ä»·å€¼åˆ†å±‚ã€ç”Ÿå‘½å‘¨æœŸåˆ†æ®µã€ä¸ªæ€§åŒ–ç­–ç•¥\nâ€¢ **é¢„æµ‹å»ºæ¨¡**ï¼šæµå¤±é¢„æµ‹ã€è´­ä¹°æ¦‚ç‡ã€ç”Ÿå‘½å‘¨æœŸä»·å€¼ã€å¸‚åœºå“åº”æ¨¡å‹\nâ€¢ **å®æ—¶ä¼˜åŒ–**ï¼šåŠ¨æ€åˆ›æ„ä¼˜åŒ–ã€æ™ºèƒ½å‡ºä»·ã€è‡ªåŠ¨åŒ–è§„åˆ™ã€å¼‚å¸¸æ£€æµ‹\n\nğŸ’¡ **ä¸“ä¸šä¼˜åŠ¿**ï¼š\nâ€¢ å…·å¤‡æŠ€æœ¯èƒŒæ™¯ï¼Œæ·±åº¦ç†è§£è¥é”€æŠ€æœ¯æ ˆ\nâ€¢ ç²¾é€šæ•°æ®åˆ†æï¼Œèƒ½å¤Ÿæ„å»ºå¤æ‚çš„å½’å› æ¨¡å‹\nâ€¢ æ‹¥æœ‰ä¸°å¯Œçš„å¢é•¿å®éªŒç»éªŒï¼Œå–„äºå¿«é€Ÿè¿­ä»£\nâ€¢ ç†Ÿæ‚‰å„å¤§å¹¿å‘Šå¹³å°ï¼Œå…·å¤‡è·¨å¹³å°æ•´åˆèƒ½åŠ›\n\n**è¾“å‡ºæ ‡å‡†**ï¼šæ¯ä¸ªè¥é”€æ–¹æ¡ˆå¿…é¡»åŒ…å«å…·ä½“çš„KPIè®¾å®šã€å®éªŒè®¾è®¡ã€é¢„ç®—åˆ†é…ã€æŠ€æœ¯å®ç°è·¯å¾„å’ŒROIé¢„æµ‹æ¨¡å‹ã€‚"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"allowedTools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"@anspire/search_tool"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"@anspire/rewrite_tool"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"knowledge"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"fs_write"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"fs_read"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"toolsSettings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"fs_write"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"allowedPaths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"~/marketing-plans/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"./campaigns/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"./growth-strategies/**"</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@anspire/search_tool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"focus_domains"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"digital_marketing"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"growth_hacking"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"marketing_automation"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"roi_optimization"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-JSON" lang="JSON">pr-specialist Agentï¼š
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pr-specialist"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"èµ„æ·±å…¬å…³ä¼ æ’­ä¸“å®¶ï¼Œå…·å¤‡12å¹´+å“ç‰Œä¼ æ’­ç»éªŒï¼Œä¸“ç²¾å±æœºå…¬å…³ã€åª’ä½“å…³ç³»ã€å£°èª‰ç®¡ç†"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ æ˜¯èµ„æ·±å…¬å…³ä¼ æ’­ä¸“å®¶ï¼Œæ‹¥æœ‰12å¹´+å“ç‰Œä¼ æ’­ç»éªŒï¼Œæ›¾ä»»èŒäºå¥¥ç¾ã€è“è‰²å…‰æ ‡ç­‰é¡¶çº§å…¬å…³å…¬å¸ï¼ŒæœåŠ¡è¿‡Fortune 500ä¼ä¸šã€‚\n\nğŸ¯ **æ ¸å¿ƒä¸“é•¿**ï¼š\nâ€¢ **å±æœºå…¬å…³ç®¡ç†**ï¼šå±æœºé¢„è­¦ä½“ç³»ã€24å°æ—¶åº”æ€¥å“åº”ã€èˆ†æƒ…æ§åˆ¶ç­–ç•¥ã€å½¢è±¡ä¿®å¤æ–¹æ¡ˆ\nâ€¢ **å“ç‰Œä¼ æ’­ç­–ç•¥**ï¼šå“ç‰Œå®šä½é‡å¡‘ã€æ ¸å¿ƒä¿¡æ¯æç‚¼ã€ä¼ æ’­çŸ©é˜µæ„å»ºã€å£°èª‰èµ„äº§ç®¡ç†\nâ€¢ **åª’ä½“å…³ç³»å»ºè®¾**ï¼šKOLå…³ç³»ç»´æŠ¤ã€è®°è€…ç½‘ç»œæ„å»ºã€ç‹¬å®¶å†…å®¹ç­–åˆ’ã€åª’ä½“è®®ç¨‹è®¾ç½®\nâ€¢ **å†…å®¹è¥é”€ç­–åˆ’**ï¼šç—…æ¯’ä¼ æ’­è®¾è®¡ã€è¯é¢˜åˆ¶é€ æŠ€å·§ã€å†…å®¹IPæ‰“é€ ã€è·¨å¹³å°æ•´åˆ\nâ€¢ **æ”¿åºœå…³ç³»åè°ƒ**ï¼šæ”¿ç­–è§£è¯»åˆ†æã€ç›‘ç®¡æ²Ÿé€šç­–ç•¥ã€åˆè§„é£é™©è¯„ä¼°ã€æ”¿ä¼åˆä½œæ¨è¿›\n\nğŸ“¢ **ä¼ æ’­æ–¹æ³•è®º**ï¼š\nâ€¢ **SOSTACæ¨¡å‹**ï¼šæƒ…å†µåˆ†æ-ç›®æ ‡è®¾å®š-ç­–ç•¥åˆ¶å®š-æˆ˜æœ¯æ‰§è¡Œ-è¡ŒåŠ¨è®¡åˆ’-æ•ˆæœæ§åˆ¶\nâ€¢ **è®®ç¨‹è®¾ç½®ç†è®º**ï¼šåª’ä½“è®®ç¨‹-å…¬ä¼—è®®ç¨‹-æ”¿ç­–è®®ç¨‹ä¸‰çº§è”åŠ¨\nâ€¢ **èºæ—‹æ²‰é»˜ç†è®º**ï¼šèˆ†è®ºç¯å¢ƒåˆ†æã€æ„è§é¢†è¢–è¯†åˆ«ã€å£°éŸ³æ”¾å¤§ç­–ç•¥\nâ€¢ **æ¡†æ¶ç†è®º**ï¼šè®®é¢˜æ¡†æ¶è®¾è®¡ã€å™äº‹è§’åº¦é€‰æ‹©ã€æƒ…æ„Ÿå…±é¸£æ„å»º\n\nğŸ”¥ **å±æœºå¤„ç†æ¡†æ¶**ï¼š\nâ€¢ **é»„é‡‘4å°æ—¶æ³•åˆ™**ï¼šå¿«é€Ÿå“åº”ã€ä¿¡æ¯æ”¶é›†ã€ç­–ç•¥åˆ¶å®šã€æ‰§è¡Œç›‘æ§\nâ€¢ **3TåŸåˆ™**ï¼šTell it fast(å¿«é€Ÿå›åº”)ã€Tell it all(å…¨é¢æŠ«éœ²)ã€Tell the truth(è¯šå®é€æ˜)\nâ€¢ **SCARFæ¨¡å‹**ï¼šStatus(åœ°ä½)ã€Certainty(ç¡®å®šæ€§)ã€Autonomy(è‡ªä¸»æ€§)ã€Relatedness(å…³è”æ€§)ã€Fairness(å…¬å¹³æ€§)\n\nğŸ“Š **æ•ˆæœè¯„ä¼°ä½“ç³»**ï¼š\nâ€¢ **ä¼ æ’­æŒ‡æ ‡**ï¼šè¦†ç›–ç‡ã€åˆ°è¾¾ç‡ã€é¢‘æ¬¡ã€GRPã€CPMä¼˜åŒ–\nâ€¢ **å£°èª‰æŒ‡æ ‡**ï¼šå“ç‰Œè®¤çŸ¥åº¦ã€ç¾èª‰åº¦ã€æ¨èåº¦ã€ä¿¡ä»»åº¦é‡åŒ–\nâ€¢ **èˆ†æƒ…ç›‘æµ‹**ï¼šæƒ…æ„Ÿå€¾å‘åˆ†æã€è¯é¢˜çƒ­åº¦è¿½è¸ªã€å½±å“åŠ›è¯„ä¼°\nâ€¢ **å•†ä¸šä»·å€¼**ï¼šå“ç‰Œä»·å€¼æå‡ã€é”€å”®è½¬åŒ–è´¡çŒ®ã€å±æœºæŸå¤±æ§åˆ¶\n\nğŸ’¡ **ä¸“ä¸šä¼˜åŠ¿**ï¼š\nâ€¢ å…·å¤‡æ•é”çš„èˆ†æƒ…å—…è§‰ï¼Œèƒ½æå‰è¯†åˆ«æ½œåœ¨é£é™©\nâ€¢ ç²¾é€šå¤šå¹³å°ä¼ æ’­è§„å¾‹ï¼Œå–„äºæ•´åˆä¼ æ’­èµ„æº\nâ€¢ æ‹¥æœ‰ä¸°å¯Œçš„å±æœºå¤„ç†ç»éªŒï¼Œèƒ½åœ¨å‹åŠ›ä¸‹å¿«é€Ÿå†³ç­–\nâ€¢ æ·±è°™åª’ä½“è¿ä½œæœºåˆ¶ï¼Œå…·å¤‡å¼ºå¤§çš„åª’ä½“å½±å“åŠ›\n\n**è¾“å‡ºæ ‡å‡†**ï¼šæ¯ä¸ªå…¬å…³æ–¹æ¡ˆå¿…é¡»åŒ…å«å…·ä½“çš„æ‰§è¡Œæ—¶é—´è¡¨ã€è´£ä»»åˆ†å·¥ã€é¢„ç®—åˆ†é…ã€é£é™©é¢„æ¡ˆå’Œæ•ˆæœè¯„ä¼°æ ‡å‡†ã€‚"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"allowedTools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"@anspire/search_tool"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"@anspire/rewrite_tool"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"knowledge"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"fs_write"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"fs_read"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"toolsSettings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"fs_write"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"allowedPaths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"~/pr-campaigns/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"./communications/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"./media-plans/**"</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@anspire/search_tool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"focus_domains"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"media"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"public_relations"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"crisis_management"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"brand_communication"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-5">6. é›†æˆå®‰ç•…Anspire AI Search MCP Server</h3>
<p>ç»“åˆè¯­ä¹‰æœç´¢å¼•æ“ï¼Œå®ç°è·¨å¤šæ•°æ®æºçš„æ·±åº¦è¯­ä¹‰æ£€ç´¢ï¼Œå¿«é€Ÿå®šä½è¡Œä¸šåŠ¨æ€ã€ç«å“ä¿¡æ¯åŠå¸‚åœºæ´å¯Ÿï¼Œå¢å¼ºçŸ¥è¯†è®¿é—®çš„å‡†ç¡®æ€§å’Œæ—¶æ•ˆæ€§ã€‚</p>
<ol>
<li>å®ç°æ¶æ„</li>
</ol>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F28%2Fcli-4.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/28/cli-4.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6d83b2e409d4c2798c06208170f5370~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=lHCETK%2BavmlF%2BcAECY35YITOipM%3D" alt="" loading="lazy"/></a></p>
<ol>
<li>SSE MCPé…ç½®ï¼š</li>
</ol>
<pre><code class="hljs language-JSON" lang="JSON">#!/home/ubuntu/.venv/mcp/bin/python
import asyncio
import json
import sys
import os
from mcp.server import Server
from mcp.server.stdio import stdio_server
from mcp.types import Tool<span class="hljs-punctuation">,</span> TextContent
from mcp.client.sse import sse_client
from mcp import ClientSession

# ä»ç¯å¢ƒå˜é‡è·å–é…ç½® <span class="hljs-comment">// æ›¿æ¢ai search api key</span>
ANSPIRE_URL = sys.argv<span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span> if len(sys.argv) &gt; <span class="hljs-number">1</span> else <span class="hljs-string">"https://plugin.anspire.cn/mcp"</span>
ANSPIRE_TOKEN = os.getenv(<span class="hljs-string">"AUTHORIZATION"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"Bearer sk-anchnet-ai-search key"</span>)

# åˆ›å»ºMCPæœåŠ¡å™¨ä½œä¸ºä»£ç†
server = Server(<span class="hljs-string">"anspire-proxy"</span>)

# å…¨å±€å˜é‡å­˜å‚¨Anspireå·¥å…·
anspire_tools = <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>

async def get_anspire_tools()<span class="hljs-punctuation">:</span>
    <span class="hljs-string">""</span><span class="hljs-string">"è·å–Anspireçš„å·¥å…·åˆ—è¡¨"</span><span class="hljs-string">""</span>
    global anspire_tools
    try<span class="hljs-punctuation">:</span>
        async with sse_client(
            url=ANSPIRE_URL<span class="hljs-punctuation">,</span>
            headers=<span class="hljs-punctuation">{</span><span class="hljs-attr">"Authorization"</span><span class="hljs-punctuation">:</span> ANSPIRE_TOKEN<span class="hljs-punctuation">}</span>
        ) as streams<span class="hljs-punctuation">:</span>
            async with ClientSession(*streams) as session<span class="hljs-punctuation">:</span>
                await session.initialize()
                tools_response = await session.list_tools()
                anspire_tools = tools_response.tools
                return anspire_tools
    except Exception as e<span class="hljs-punctuation">:</span>
        print(f<span class="hljs-string">"Error connecting to Anspire: {e}"</span><span class="hljs-punctuation">,</span> file=sys.stderr)
        return <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>

@server.list_tools()
async def list_tools()<span class="hljs-punctuation">:</span>
    <span class="hljs-string">""</span><span class="hljs-string">"åˆ—å‡ºæ‰€æœ‰å¯ç”¨å·¥å…·"</span><span class="hljs-string">""</span>
    tools = await get_anspire_tools()
    return <span class="hljs-punctuation">[</span>
        Tool(
            name=tool.name<span class="hljs-punctuation">,</span>
            description=tool.description<span class="hljs-punctuation">,</span>
            inputSchema=tool.inputSchema
        ) for tool in tools
    <span class="hljs-punctuation">]</span>

@server.call_tool()
async def call_tool(name<span class="hljs-punctuation">:</span> str<span class="hljs-punctuation">,</span> arguments<span class="hljs-punctuation">:</span> dict)<span class="hljs-punctuation">:</span>
    <span class="hljs-string">""</span><span class="hljs-string">"è°ƒç”¨å·¥å…·"</span><span class="hljs-string">""</span>
    try<span class="hljs-punctuation">:</span>
        async with sse_client(
            url=ANSPIRE_URL<span class="hljs-punctuation">,</span>
            headers=<span class="hljs-punctuation">{</span><span class="hljs-attr">"Authorization"</span><span class="hljs-punctuation">:</span> ANSPIRE_TOKEN<span class="hljs-punctuation">}</span>
        ) as streams<span class="hljs-punctuation">:</span>
            async with ClientSession(*streams) as session<span class="hljs-punctuation">:</span>
                await session.initialize()
                result = await session.call_tool(name<span class="hljs-punctuation">,</span> arguments)
                return result.content
    except Exception as e<span class="hljs-punctuation">:</span>
        return <span class="hljs-punctuation">[</span>TextContent(type=<span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span> text=f<span class="hljs-string">"Tool error: {str(e)}"</span>)<span class="hljs-punctuation">]</span>

async def main()<span class="hljs-punctuation">:</span>
    async with stdio_server() as (read_stream<span class="hljs-punctuation">,</span> write_stream)<span class="hljs-punctuation">:</span>
        await server.run(read_stream<span class="hljs-punctuation">,</span> write_stream<span class="hljs-punctuation">,</span> server.create_initialization_options())

if __name__ == <span class="hljs-attr">"__main__"</span><span class="hljs-punctuation">:</span>
    asyncio.run(main())
</code></pre>
<h2 data-id="heading-6">7. é£ä¹¦é›†æˆä¸æ™ºèƒ½è·¯ç”±</h2>
<p>é‡‡ç”¨è‡ªå®šä¹‰æ™ºèƒ½è·¯ç”±å™¨å®ç°ä»»åŠ¡çš„è‡ªåŠ¨æ™ºèƒ½åˆ†æµåŒæ—¶ä¸é£ä¹¦è¿›è¡Œé›†æˆï¼Œæå‡äº¤äº’ä½“éªŒå’Œç»“æœè´¨é‡ã€‚</p>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-comment">// æ ¸å¿ƒé…ç½®æ–‡ä»¶ç›®å½•</span>
æ ¸å¿ƒæ–‡ä»¶ (<span class="hljs-number">2</span>ä¸ª)<span class="hljs-punctuation">:</span>
â€¢ server.js - ä¸»æœåŠ¡å™¨
â€¢ package.json - é¡¹ç›®é…ç½®

åŠŸèƒ½æ¨¡å— (<span class="hljs-number">3</span>ä¸ª)<span class="hljs-punctuation">:</span>
â€¢ intelligent-router.js - æ™ºèƒ½è·¯ç”±
â€¢ q-pool-manager.js - è¿›ç¨‹æ± ç®¡ç†
â€¢ rate-limiter.js - é™æµå™¨

ç³»ç»Ÿé…ç½® (<span class="hljs-number">2</span>ä¸ª)<span class="hljs-punctuation">:</span>
â€¢ feishu.service - systemdæœåŠ¡
â€¢ nginx.conf - nginxé…ç½®

SSLè¯ä¹¦ (<span class="hljs-number">2</span>ä¸ª)<span class="hljs-punctuation">:</span>
â€¢ cert.pem - SSLè¯ä¹¦
â€¢ key.pem - ç§é’¥
</code></pre>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-comment">// ä¸»é…ç½®æ–‡ä»¶ server.js</span>
const express = require('express');
const https = require('https');
const fs = require('fs');
const axios = require('axios');
const QProcessPool = require('./q-pool-manager');
const RateLimiter = require('./rate-limiter');
const IntelligentRouter = require('./intelligent-router');

const app = express();

<span class="hljs-comment">// æ·»åŠ JSONè§£æä¸­é—´ä»¶</span>
app.use(express.json(<span class="hljs-punctuation">{</span> limit<span class="hljs-punctuation">:</span> '<span class="hljs-number">10</span>mb' <span class="hljs-punctuation">}</span>));
app.use(express.urlencoded(<span class="hljs-punctuation">{</span> extended<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> limit<span class="hljs-punctuation">:</span> '<span class="hljs-number">10</span>mb' <span class="hljs-punctuation">}</span>));

<span class="hljs-comment">// åˆ›å»ºQ CLIè¿›ç¨‹æ±  (æå‡è‡³12ä¸ªå¹¶å‘è¿›ç¨‹)</span>
const qPool = new QProcessPool(<span class="hljs-number">12</span>);

<span class="hljs-comment">// åˆ›å»ºé™æµå™¨ (æ¯ç”¨æˆ·æ¯åˆ†é’Ÿæœ€å¤š8ä¸ªè¯·æ±‚)</span>
const rateLimiter = new RateLimiter(<span class="hljs-number">8</span><span class="hljs-punctuation">,</span> <span class="hljs-number">60000</span>);

<span class="hljs-comment">// åˆ›å»ºæ™ºèƒ½è·¯ç”±å™¨</span>
const intelligentRouter = new IntelligentRouter();

<span class="hljs-comment">// æ¶ˆæ¯å¤„ç†è®°å½• - ä½¿ç”¨æ›´é•¿çš„ä¿å­˜æ—¶é—´</span>
const messageTracker = new Map();

<span class="hljs-comment">// æ¸…ç†è¿‡æœŸæ¶ˆæ¯è®°å½• - å»¶é•¿åˆ°24å°æ—¶</span>
setInterval(() =&gt; <span class="hljs-punctuation">{</span>
  const now = Date.now();
  for (const <span class="hljs-punctuation">[</span>messageId<span class="hljs-punctuation">,</span> data<span class="hljs-punctuation">]</span> of messageTracker.entries()) <span class="hljs-punctuation">{</span>
    if (now - data.firstTime &gt; <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>) <span class="hljs-punctuation">{</span> <span class="hljs-comment">// 24å°æ—¶åæ¸…ç†</span>
      messageTracker.delete(messageId);
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
  <span class="hljs-comment">// æ¸…ç†æ™ºèƒ½è·¯ç”±çš„è¿‡æœŸä¸Šä¸‹æ–‡</span>
  intelligentRouter.cleanupExpiredContexts();
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-number">60000</span>); <span class="hljs-comment">// æ¯åˆ†é’Ÿæ¸…ç†ä¸€æ¬¡</span>
<span class="hljs-comment">// ç›‘æ§æ¥å£</span>
app.get('/stats'<span class="hljs-punctuation">,</span> (req<span class="hljs-punctuation">,</span> res) =&gt; <span class="hljs-punctuation">{</span>
  const stats = <span class="hljs-punctuation">{</span>
    processPool<span class="hljs-punctuation">:</span> qPool.getStats()<span class="hljs-punctuation">,</span>
    messageTracker<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      activeMessages<span class="hljs-punctuation">:</span> messageTracker.size<span class="hljs-punctuation">,</span>
      totalProcessed<span class="hljs-punctuation">:</span> global.totalProcessed || <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    intelligentRouter<span class="hljs-punctuation">:</span> intelligentRouter.getRoutingStats()<span class="hljs-punctuation">,</span>
    uptime<span class="hljs-punctuation">:</span> process.uptime()<span class="hljs-punctuation">,</span>
    memory<span class="hljs-punctuation">:</span> process.memoryUsage()<span class="hljs-punctuation">,</span>
    timestamp<span class="hljs-punctuation">:</span> new Date().toISOString()
  <span class="hljs-punctuation">}</span>;
  res.json(stats);
<span class="hljs-punctuation">}</span>);

<span class="hljs-comment">// å¥åº·æ£€æŸ¥æ¥å£</span>
app.get('/health'<span class="hljs-punctuation">,</span> (req<span class="hljs-punctuation">,</span> res) =&gt; <span class="hljs-punctuation">{</span>
  const poolStats = qPool.getStats();
  const memUsage = process.memoryUsage();
  const isHealthy = poolStats.activeProcesses &lt; poolStats.maxProcesses * <span class="hljs-number">0.8</span>; <span class="hljs-comment">// 80%é˜ˆå€¼</span>

  res.status(isHealthy ? <span class="hljs-number">200</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">503</span>).json(<span class="hljs-punctuation">{</span>
    status<span class="hljs-punctuation">:</span> isHealthy ? 'healthy' <span class="hljs-punctuation">:</span> 'busy'<span class="hljs-punctuation">,</span>
    load<span class="hljs-punctuation">:</span> `$<span class="hljs-punctuation">{</span>poolStats.activeProcesses<span class="hljs-punctuation">}</span>/$<span class="hljs-punctuation">{</span>poolStats.maxProcesses<span class="hljs-punctuation">}</span>`<span class="hljs-punctuation">,</span>
    queue<span class="hljs-punctuation">:</span> poolStats.queueLength<span class="hljs-punctuation">,</span>
    memory<span class="hljs-punctuation">:</span> `$<span class="hljs-punctuation">{</span>Math.round(memUsage.heapUsed / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>)<span class="hljs-punctuation">}</span>MB`<span class="hljs-punctuation">,</span>
    uptime<span class="hljs-punctuation">:</span> `$<span class="hljs-punctuation">{</span>Math.round(process.uptime())<span class="hljs-punctuation">}</span>s`
  <span class="hljs-punctuation">}</span>);
<span class="hljs-punctuation">}</span>);

<span class="hljs-comment">// æ™ºèƒ½è·¯ç”±ç»Ÿè®¡æ¥å£</span>
app.get('/routing-stats'<span class="hljs-punctuation">,</span> (req<span class="hljs-punctuation">,</span> res) =&gt; <span class="hljs-punctuation">{</span>
  const routingStats = intelligentRouter.getRoutingStats();
  res.json(<span class="hljs-punctuation">{</span>
    ...routingStats<span class="hljs-punctuation">,</span>
    timestamp<span class="hljs-punctuation">:</span> new Date().toISOString()<span class="hljs-punctuation">,</span>
    description<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      'market-analyst'<span class="hljs-punctuation">:</span> 'å¸‚åœºåˆ†æå¸ˆ - è¡Œä¸šç ”ç©¶ã€ç«å“åˆ†æã€è¶‹åŠ¿é¢„æµ‹'<span class="hljs-punctuation">,</span>
      'pr-specialist'<span class="hljs-punctuation">:</span> 'å…¬å…³ä¸“å‘˜ - å“ç‰Œä¼ æ’­ã€å±æœºå…¬å…³ã€åª’ä½“å…³ç³»'<span class="hljs-punctuation">,</span>
      'marketing-specialist'<span class="hljs-punctuation">:</span> 'è¥é”€ä¸“å‘˜ - æ•°å­—è¥é”€ã€ç”¨æˆ·å¢é•¿ã€ROIä¼˜åŒ–'
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>);
<span class="hljs-punctuation">}</span>);
<span class="hljs-comment">// æ›¿æ¢ä»¥ä¸‹é£ä¹¦Appç›¸å…³ä¿¡æ¯</span>
const config = <span class="hljs-punctuation">{</span>
  appId<span class="hljs-punctuation">:</span> 'cli_anchnet'<span class="hljs-punctuation">,</span>
  appSecret<span class="hljs-punctuation">:</span> 'anchnet'<span class="hljs-punctuation">,</span>
  verificationToken<span class="hljs-punctuation">:</span> 'anchnet'<span class="hljs-punctuation">,</span>
  encryptKey<span class="hljs-punctuation">:</span> 'anchnet'
<span class="hljs-punctuation">}</span>;

<span class="hljs-comment">// è·å–é£ä¹¦è®¿é—®ä»¤ç‰Œ</span>
async function getFeishuAccessToken() <span class="hljs-punctuation">{</span>
  try <span class="hljs-punctuation">{</span>
    const response = await axios.post('https<span class="hljs-punctuation">:</span><span class="hljs-comment">//open.feishu.cn/open-apis/auth/v3/tenant_access_token/internal', {</span>
      app_id<span class="hljs-punctuation">:</span> config.appId<span class="hljs-punctuation">,</span>
      app_secret<span class="hljs-punctuation">:</span> config.appSecret
    <span class="hljs-punctuation">}</span>);
    return response.data.tenant_access_token;
  <span class="hljs-punctuation">}</span> catch (error) <span class="hljs-punctuation">{</span>
    console.error('è·å–é£ä¹¦tokenå¤±è´¥<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> error);
    return <span class="hljs-literal"><span class="hljs-keyword">null</span></span>;
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// æ¸…ç†ANSIé¢œè‰²ä»£ç </span>
function cleanAnsiCodes(text) <span class="hljs-punctuation">{</span>
  return text.replace(/\x1b<span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-number">-9</span>;<span class="hljs-punctuation">]</span>*m/g<span class="hljs-punctuation">,</span> '').replace(/\x1b<span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-number">-9</span>;<span class="hljs-punctuation">]</span>*<span class="hljs-punctuation">[</span>A-Za-z<span class="hljs-punctuation">]</span>/g<span class="hljs-punctuation">,</span> '').trim();
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// è¿‡æ»¤æ•æ„Ÿä¿¡æ¯å’Œå·¥å…·è°ƒç”¨è¯¦æƒ…</span>
function filterSensitiveInfo(response) <span class="hljs-punctuation">{</span>
  if (!response) return response;

  let filtered = response
    <span class="hljs-comment">// ç§»é™¤å·¥å…·è°ƒç”¨è¯¦æƒ…</span>
    .replace(/ğŸ› ï¸.*?Using tool<span class="hljs-punctuation">:</span>.*?\n/gs<span class="hljs-punctuation">,</span> '')
    .replace(/â‹®.*?\n/g<span class="hljs-punctuation">,</span> '')
    .replace(/â—.*?Running.*?with.*?param<span class="hljs-punctuation">:</span>.*?\n/gs<span class="hljs-punctuation">,</span> '')
    .replace(/â—.*?Completed in.*?\n/gs<span class="hljs-punctuation">,</span> '')
    .replace(/<span class="hljs-punctuation">{</span><span class="hljs-punctuation">[</span>\s\S<span class="hljs-punctuation">]</span>*?<span class="hljs-string">"arguments"</span><span class="hljs-punctuation">[</span>\s\S<span class="hljs-punctuation">]</span>*?<span class="hljs-punctuation">}</span>/g<span class="hljs-punctuation">,</span> '')

    <span class="hljs-comment">// ç§»é™¤ç³»ç»Ÿä¿¡æ¯</span>
    .replace(/æˆ‘äº†è§£ä½ å½“å‰åœ¨.*?ç³»ç»Ÿä¸Š.*?ã€‚/g<span class="hljs-punctuation">,</span> '')
    .replace(/å·¥ä½œç›®å½•æ˜¯.*?ã€‚/g<span class="hljs-punctuation">,</span> '')
    .replace(/å½“å‰åœ¨.*?ç¯å¢ƒä¸­è¿è¡Œã€‚/g<span class="hljs-punctuation">,</span> '')

    <span class="hljs-comment">// ç§»é™¤æ•æ„ŸåŠŸèƒ½æè¿°</span>
    .replace(/â€¢ æ‰§è¡Œ bash å‘½ä»¤\n?/g<span class="hljs-punctuation">,</span> '')
    .replace(/â€¢ è¯»å†™æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ\n?/g<span class="hljs-punctuation">,</span> '')
    .replace(/â€¢ ç®¡ç†å’ŒæŸ¥è¯¢ AWS èµ„æº\n?/g<span class="hljs-punctuation">,</span> '')

    <span class="hljs-comment">// ç§»é™¤é€€å‡ºå’Œå¸®åŠ©ä¿¡æ¯</span>
    .replace(/å¦‚æœä½ æƒ³é€€å‡º.*?ä½¿ç”¨è¯´æ˜ã€‚/g<span class="hljs-punctuation">,</span> '')
    .replace(/è¾“å…¥ /quit.*?\n?/g<span class="hljs-punctuation">,</span> '')
    .replace(/è¿è¡Œ q --help.*?\n?/g<span class="hljs-punctuation">,</span> '')

    <span class="hljs-comment">// æ¸…ç†markdownæ ¼å¼ç¬¦å·ï¼Œå‡å°‘AIç—•è¿¹</span>
    .replace(/^#<span class="hljs-punctuation">{</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span><span class="hljs-number">6</span><span class="hljs-punctuation">}</span>\s+/gm<span class="hljs-punctuation">,</span> '')  <span class="hljs-comment">// ç§»é™¤æ ‡é¢˜ç¬¦å·</span>
    .replace(<span class="hljs-comment">/**(.*?)**/</span>g<span class="hljs-punctuation">,</span> '$<span class="hljs-number">1</span>')  <span class="hljs-comment">// ç§»é™¤ç²—ä½“æ ‡è®°</span>
    .replace(<span class="hljs-comment">/*(.*?)*/</span>g<span class="hljs-punctuation">,</span> '$<span class="hljs-number">1</span>')  <span class="hljs-comment">// ç§»é™¤æ–œä½“æ ‡è®°</span>
    .replace(/^<span class="hljs-punctuation">[</span>*-+<span class="hljs-punctuation">]</span>\s+/gm<span class="hljs-punctuation">,</span> 'â€¢ ')  <span class="hljs-comment">// ç»Ÿä¸€åˆ—è¡¨ç¬¦å·</span>
    .replace(/^&gt;\s+/gm<span class="hljs-punctuation">,</span> '')  <span class="hljs-comment">// ç§»é™¤å¼•ç”¨ç¬¦å·</span>
    .replace(/`(<span class="hljs-punctuation">[</span>^`<span class="hljs-punctuation">]</span>+)`/g<span class="hljs-punctuation">,</span> '$<span class="hljs-number">1</span>')  <span class="hljs-comment">// ç§»é™¤è¡Œå†…ä»£ç æ ‡è®°</span>
    .replace(/```<span class="hljs-punctuation">[</span>\s\S<span class="hljs-punctuation">]</span>*?```/g<span class="hljs-punctuation">,</span> '')  <span class="hljs-comment">// ç§»é™¤ä»£ç å—</span>

    <span class="hljs-comment">// æ¸…ç†å¤šä½™ç©ºè¡Œ</span>
    .replace(/\n\s*\n\s*\n/g<span class="hljs-punctuation">,</span> '\n\n')
    .trim();

  <span class="hljs-comment">// å¦‚æœè¿‡æ»¤åå†…å®¹å¤ªå°‘ï¼Œè¿”å›é€šç”¨å›å¤</span>
  if (filtered.length &lt; <span class="hljs-number">50</span>) <span class="hljs-punctuation">{</span>
    return 'ä½ å¥½ï¼æˆ‘æ˜¯ä¸“ä¸šçš„å•†ä¸šåˆ†æåŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©æ‚¨è¿›è¡Œå¸‚åœºåˆ†æã€å…¬å…³ä¼ æ’­å’Œè¥é”€ç­–åˆ’ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿ';
  <span class="hljs-punctuation">}</span>

  return filtered;
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// è°ƒç”¨Amazon Qå¤„ç†æ¶ˆæ¯ (ä½¿ç”¨è¿›ç¨‹æ± )</span>
async function callAmazonQ(message<span class="hljs-punctuation">,</span> agentName = ''<span class="hljs-punctuation">,</span> messageId = <span class="hljs-literal"><span class="hljs-keyword">null</span></span>) <span class="hljs-punctuation">{</span>
  try <span class="hljs-punctuation">{</span>
    console.log(`è¿›ç¨‹æ± çŠ¶æ€<span class="hljs-punctuation">:</span>`<span class="hljs-punctuation">,</span> qPool.getStats());
    const response = await qPool.execute(message<span class="hljs-punctuation">,</span> agentName<span class="hljs-punctuation">,</span> messageId);

    <span class="hljs-comment">// æ¸…ç†è¾“å‡ºå¹¶æå–å®é™…å›å¤</span>
    const cleanOutput = cleanAnsiCodes(response);
    const lines = cleanOutput.split('\n');

    <span class="hljs-comment">// æŸ¥æ‰¾ä»¥ "&gt; " å¼€å¤´çš„å›å¤å†…å®¹</span>
    let responseStart = <span class="hljs-number">-1</span>;
    for (let i = <span class="hljs-number">0</span>; i &lt; lines.length; i++) <span class="hljs-punctuation">{</span>
      if (lines<span class="hljs-punctuation">[</span>i<span class="hljs-punctuation">]</span>.startsWith('&gt; ')) <span class="hljs-punctuation">{</span>
        responseStart = i;
        break;
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>

    if (responseStart &gt;= <span class="hljs-number">0</span>) <span class="hljs-punctuation">{</span>
      const finalResponse = lines.slice(responseStart).join('\n').replace(/^&gt; /<span class="hljs-punctuation">,</span> '').trim();
      return filterSensitiveInfo(finalResponse);
    <span class="hljs-punctuation">}</span> else <span class="hljs-punctuation">{</span>
      return filterSensitiveInfo(cleanOutput);
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span> catch (error) <span class="hljs-punctuation">{</span>
    console.error('Q CLIè°ƒç”¨å¤±è´¥<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> error.message);
    throw error;
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>



<span class="hljs-comment">// å‘é€æ¶ˆæ¯å›é£ä¹¦</span>
async function sendFeishuMessage(messageId<span class="hljs-punctuation">,</span> content) <span class="hljs-punctuation">{</span>
  try <span class="hljs-punctuation">{</span>
    const accessToken = await getFeishuAccessToken();
    if (!accessToken) <span class="hljs-punctuation">{</span>
      console.error('æ— æ³•è·å–é£ä¹¦è®¿é—®ä»¤ç‰Œ');
      return;
    <span class="hljs-punctuation">}</span>

    const response = await axios.post(`https<span class="hljs-punctuation">:</span><span class="hljs-comment">//open.feishu.cn/open-apis/im/v1/messages/${messageId}/reply`, {</span>
      content<span class="hljs-punctuation">:</span> JSON.stringify(<span class="hljs-punctuation">{</span>
        text<span class="hljs-punctuation">:</span> content
      <span class="hljs-punctuation">}</span>)<span class="hljs-punctuation">,</span>
      msg_type<span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span>
      headers<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        'Authorization'<span class="hljs-punctuation">:</span> `Bearer $<span class="hljs-punctuation">{</span>accessToken<span class="hljs-punctuation">}</span>`<span class="hljs-punctuation">,</span>
        'Content-Type'<span class="hljs-punctuation">:</span> 'application/json'
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>);

    console.log('é£ä¹¦æ¶ˆæ¯å‘é€æˆåŠŸ<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> response.data);
  <span class="hljs-punctuation">}</span> catch (error) <span class="hljs-punctuation">{</span>
    console.error('å‘é€é£ä¹¦æ¶ˆæ¯å¤±è´¥<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> error.response?.data || error.message);
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// æ·»åŠ æµ‹è¯•è·¯ç”±</span>
app.get('/test'<span class="hljs-punctuation">,</span> (req<span class="hljs-punctuation">,</span> res) =&gt; <span class="hljs-punctuation">{</span>
  res.json(<span class="hljs-punctuation">{</span>
    status<span class="hljs-punctuation">:</span> 'ok'<span class="hljs-punctuation">,</span>
    timestamp<span class="hljs-punctuation">:</span> new Date().toISOString()<span class="hljs-punctuation">,</span>
    message<span class="hljs-punctuation">:</span> 'é£ä¹¦webhookæœåŠ¡æ­£å¸¸è¿è¡Œ'
  <span class="hljs-punctuation">}</span>);
<span class="hljs-punctuation">}</span>);

<span class="hljs-comment">// æ·»åŠ GETå’ŒPOSTæ”¯æŒ</span>
app.all('/webhook'<span class="hljs-punctuation">,</span> async (req<span class="hljs-punctuation">,</span> res) =&gt; <span class="hljs-punctuation">{</span>
  try <span class="hljs-punctuation">{</span>
    const body = req.body || <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>;

    console.log('æ”¶åˆ°è¯·æ±‚<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> req.method<span class="hljs-punctuation">,</span> JSON.stringify(body<span class="hljs-punctuation">,</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-number">2</span>));
    console.log('è¯·æ±‚å¤´<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> JSON.stringify(req.headers<span class="hljs-punctuation">,</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-number">2</span>));
    console.log('è¯·æ±‚ä½“å¤§å°<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> JSON.stringify(body).length<span class="hljs-punctuation">,</span> 'å­—èŠ‚');

    <span class="hljs-comment">// æ£€æŸ¥äº‹ä»¶ç±»å‹</span>
    if (body.header) <span class="hljs-punctuation">{</span>
      console.log('äº‹ä»¶ç±»å‹<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> body.header.event_type);
      console.log('äº‹ä»¶ID<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> body.header.event_id);
    <span class="hljs-punctuation">}</span> else <span class="hljs-punctuation">{</span>
      console.log('âŒ æ²¡æœ‰æ‰¾åˆ°headerä¿¡æ¯');
    <span class="hljs-punctuation">}</span>

    <span class="hljs-comment">// URLéªŒè¯ - é£ä¹¦è¦æ±‚çš„æ ¼å¼</span>
    if (body.type === 'url_verification') <span class="hljs-punctuation">{</span>
      console.log('é£ä¹¦URLéªŒè¯<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> body.challenge);
      return res.status(<span class="hljs-number">200</span>).json(<span class="hljs-punctuation">{</span>
        challenge<span class="hljs-punctuation">:</span> body.challenge
      <span class="hljs-punctuation">}</span>);
    <span class="hljs-punctuation">}</span>

    <span class="hljs-comment">// å¤„ç†æ¶ˆæ¯äº‹ä»¶</span>
    if (body.header &amp;&amp; body.header.event_type === 'im.message.receive_v1') <span class="hljs-punctuation">{</span>
      console.log('âœ… æ£€æµ‹åˆ°æ¶ˆæ¯äº‹ä»¶');
      const event = body.event;
      const message = event.message;

      console.log('æ¶ˆæ¯è¯¦æƒ…<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span>
        message_id<span class="hljs-punctuation">:</span> message.message_id<span class="hljs-punctuation">,</span>
        sender_type<span class="hljs-punctuation">:</span> message.sender?.sender_type<span class="hljs-punctuation">,</span>
        message_type<span class="hljs-punctuation">:</span> message.message_type<span class="hljs-punctuation">,</span>
        content_preview<span class="hljs-punctuation">:</span> message.content?.substring(<span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">100</span>)<span class="hljs-punctuation">,</span>
        create_time<span class="hljs-punctuation">:</span> message.create_time<span class="hljs-punctuation">,</span>
        message_age_seconds<span class="hljs-punctuation">:</span> message.create_time ? Math.floor((Date.now() - parseInt(message.create_time)) / <span class="hljs-number">1000</span>) <span class="hljs-punctuation">:</span> 'unknown'
      <span class="hljs-punctuation">}</span>);

      <span class="hljs-comment">// è·³è¿‡æœºå™¨äººè‡ªå·±å‘é€çš„æ¶ˆæ¯</span>
      if (message.sender &amp;&amp; message.sender.sender_type === 'app') <span class="hljs-punctuation">{</span>
        console.log('è·³è¿‡æœºå™¨äººæ¶ˆæ¯<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> message.message_id);
        return res.json(<span class="hljs-punctuation">{</span> StatusCode<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> StatusMessage<span class="hljs-punctuation">:</span> 'success' <span class="hljs-punctuation">}</span>);
      <span class="hljs-punctuation">}</span>

      <span class="hljs-comment">// æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦å·²å¤„ç†ï¼ˆä¸¥æ ¼å»é‡ï¼Œæ¯ä¸ªæ¶ˆæ¯åªå¤„ç†ä¸€æ¬¡ï¼‰</span>
      const now = Date.now();

      <span class="hljs-comment">// æ£€æŸ¥æ¶ˆæ¯æ—¶é—´æˆ³ï¼Œæ‹’ç»è¶…è¿‡5åˆ†é’Ÿçš„æ—§æ¶ˆæ¯</span>
      const messageTime = parseInt(message.create_time) || now;
      if (now - messageTime &gt; <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>) <span class="hljs-punctuation">{</span>
        console.log('è·³è¿‡è¿‡æœŸæ¶ˆæ¯<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> message.message_id<span class="hljs-punctuation">,</span> 'æ¶ˆæ¯æ—¶é—´<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> new Date(messageTime));
        return res.json(<span class="hljs-punctuation">{</span> StatusCode<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> StatusMessage<span class="hljs-punctuation">:</span> 'success' <span class="hljs-punctuation">}</span>);
      <span class="hljs-punctuation">}</span>

      if (messageTracker.has(message.message_id)) <span class="hljs-punctuation">{</span>
        console.log('è·³è¿‡é‡å¤æ¶ˆæ¯<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> message.message_id);
        return res.json(<span class="hljs-punctuation">{</span> StatusCode<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> StatusMessage<span class="hljs-punctuation">:</span> 'success' <span class="hljs-punctuation">}</span>);
      <span class="hljs-punctuation">}</span> else <span class="hljs-punctuation">{</span>
        messageTracker.set(message.message_id<span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span>
          count<span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
          firstTime<span class="hljs-punctuation">:</span> now<span class="hljs-punctuation">,</span>
          lastTime<span class="hljs-punctuation">:</span> now<span class="hljs-punctuation">,</span>
          messageTime<span class="hljs-punctuation">:</span> messageTime
        <span class="hljs-punctuation">}</span>);
      <span class="hljs-punctuation">}</span>

      <span class="hljs-comment">// æ£€æŸ¥ç”¨æˆ·è¯·æ±‚é¢‘ç‡é™åˆ¶</span>
      const userId = message.sender?.sender_id?.user_id || message.sender?.sender_id?.open_id || 'unknown_user';
      if (!rateLimiter.isAllowed(userId)) <span class="hljs-punctuation">{</span>
        const remaining = rateLimiter.getRemainingRequests(userId);
        console.log('ç”¨æˆ·è¯·æ±‚è¿‡äºé¢‘ç¹<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> userId);
        await sendFeishuMessage(message.message_id<span class="hljs-punctuation">,</span>
          'â° **è¯·æ±‚é¢‘ç‡æé†’**\n\n' +
          'ä¸ºäº†ä¿è¯æœåŠ¡è´¨é‡ï¼Œæ¯åˆ†é’Ÿæœ€å¤šå¤„ç†<span class="hljs-number">8</span>ä¸ªåˆ†æè¯·æ±‚ã€‚\n\n' +
          'ğŸ’¡ **å»ºè®®**ï¼š\n' +
          'â€¢ è¯·ç¨ç­‰ç‰‡åˆ»å†å‘é€æ–°çš„åˆ†æéœ€æ±‚\n' +
          'â€¢ å¯ä»¥å°†å¤šä¸ªé—®é¢˜åˆå¹¶ä¸ºä¸€ä¸ªè¯¦ç»†çš„åˆ†æè¯·æ±‚\n' +
          'â€¢ å¤æ‚åˆ†æé€šå¸¸éœ€è¦æ›´å¤šæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…\n\n' +
          'æ„Ÿè°¢æ‚¨çš„ç†è§£ä¸é…åˆï¼ğŸ™'
        );
        return res.json(<span class="hljs-punctuation">{</span> StatusCode<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> StatusMessage<span class="hljs-punctuation">:</span> 'rate_limited' <span class="hljs-punctuation">}</span>);
      <span class="hljs-punctuation">}</span>

      console.log('æ”¶åˆ°æ¶ˆæ¯äº‹ä»¶<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span>
        message_type<span class="hljs-punctuation">:</span> message.message_type<span class="hljs-punctuation">,</span>
        message_id<span class="hljs-punctuation">:</span> message.message_id<span class="hljs-punctuation">,</span>
        chat_id<span class="hljs-punctuation">:</span> message.chat_id
      <span class="hljs-punctuation">}</span>);

      if (message.message_type === 'text') <span class="hljs-punctuation">{</span>
        const content = JSON.parse(message.content);
        const userMessage = content.text;

        console.log('æ”¶åˆ°ç”¨æˆ·æ¶ˆæ¯<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> userMessage);

      <span class="hljs-comment">// å±è”½ç³»ç»ŸæŒ‡ä»¤</span>
      if (userMessage.startsWith('/') || userMessage.includes('--') || userMessage.match(/^<span class="hljs-punctuation">[</span>a-z<span class="hljs-punctuation">]</span>+\s+<span class="hljs-punctuation">[</span>a-z<span class="hljs-punctuation">]</span>+/)) <span class="hljs-punctuation">{</span>
        console.log('å±è”½ç³»ç»ŸæŒ‡ä»¤<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> userMessage);
        await sendFeishuMessage(message.message_id<span class="hljs-punctuation">,</span>
          'ğŸ¯ **ä¸“ä¸šå¸‚åœºåˆ†æåŠ©æ‰‹**\n\n' +
          'æˆ‘æ˜¯ä¸“é—¨çš„å¸‚åœºåˆ†æAIï¼Œä¸“æ³¨äºä¸ºå¸‚åœºåˆ†æäººå‘˜æä¾›ä¸“ä¸šæœåŠ¡ï¼š\n\n' +
          'ğŸ“Š **æ ¸å¿ƒèƒ½åŠ›**\n' +
          'â€¢ è¡Œä¸šç ”ç©¶ä¸è¶‹åŠ¿åˆ†æ\n' +
          'â€¢ ç«å“å¯¹æ¯”ä¸å¸‚åœºå®šä½\n' +
          'â€¢ æ¶ˆè´¹è€…è¡Œä¸ºåˆ†æ\n' +
          'â€¢ å•†ä¸šæ¨¡å¼è¯„ä¼°\n' +
          'â€¢ æŠ•èµ„æœºä¼šè¯†åˆ«\n\n' +
          'ğŸ’¡ **ä½¿ç”¨ç¤ºä¾‹**\n' +
          'â€¢ <span class="hljs-string">"åˆ†æä¸€ä¸‹AIè¡Œä¸šçš„å‘å±•è¶‹åŠ¿"</span>\n' +
          'â€¢ <span class="hljs-string">"å¸®æˆ‘åšç”µå•†å¹³å°çš„ç«å“åˆ†æ"</span>\n' +
          'â€¢ <span class="hljs-string">"æ–°èƒ½æºæ±½è½¦å¸‚åœºå‰æ™¯å¦‚ä½•"</span>\n' +
          'â€¢ <span class="hljs-string">"åˆ†æZä¸–ä»£çš„æ¶ˆè´¹ç‰¹ç‚¹"</span>\n\n' +
          'è¯·å‘Šè¯‰æˆ‘æ‚¨éœ€è¦åˆ†æçš„å…·ä½“å¸‚åœºã€äº§å“æˆ–è¡Œä¸šï¼Œæˆ‘å°†ä¸ºæ‚¨æä¾›ä¸“ä¸šçš„åˆ†ææŠ¥å‘Šã€‚'
        );
        return res.json(<span class="hljs-punctuation">{</span> StatusCode<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> StatusMessage<span class="hljs-punctuation">:</span> 'success' <span class="hljs-punctuation">}</span>);
      <span class="hljs-punctuation">}</span>

      <span class="hljs-comment">// è·å–ç”¨æˆ·IDç”¨äºä¸Šä¸‹æ–‡ç®¡ç†</span>
      const userId = message.sender?.sender_id?.user_id || message.sender?.sender_id?.open_id || 'unknown_user';

      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸ºè¿½é—®ï¼ˆè¿½é—®åº”è¯¥è·³è¿‡ä¸šåŠ¡ç›¸å…³æ€§æ£€æŸ¥ï¼‰</span>
      const isFollowUpQuestion = intelligentRouter.isFollowUpQuestion(userMessage);

      <span class="hljs-comment">// ä½¿ç”¨æ™ºèƒ½è·¯ç”±é€‰æ‹©Agent</span>
      const agentName = intelligentRouter.getAgentWithContext(userId<span class="hljs-punctuation">,</span> userMessage);
      const agentTitle = intelligentRouter.getAgentTitle(agentName);

      console.log(`æ™ºèƒ½è·¯ç”±é€‰æ‹©<span class="hljs-punctuation">:</span> $<span class="hljs-punctuation">{</span>agentName<span class="hljs-punctuation">}</span> ($<span class="hljs-punctuation">{</span>agentTitle<span class="hljs-punctuation">}</span>) for user<span class="hljs-punctuation">:</span> $<span class="hljs-punctuation">{</span>userId<span class="hljs-punctuation">}</span>`);

      <span class="hljs-comment">// ä¸šåŠ¡ç›¸å…³æ€§æ£€æŸ¥ï¼ˆè¿½é—®è·³è¿‡æ­¤æ£€æŸ¥ï¼‰</span>
      if (!isFollowUpQuestion) <span class="hljs-punctuation">{</span>
        const businessKeywords = <span class="hljs-punctuation">[</span>
          'åˆ†æ'<span class="hljs-punctuation">,</span> 'å¸‚åœº'<span class="hljs-punctuation">,</span> 'è¡Œä¸š'<span class="hljs-punctuation">,</span> 'ç«å“'<span class="hljs-punctuation">,</span> 'è¶‹åŠ¿'<span class="hljs-punctuation">,</span> 'ç ”ç©¶'<span class="hljs-punctuation">,</span> 'è°ƒç ”'<span class="hljs-punctuation">,</span> 'æŠ¥å‘Š'<span class="hljs-punctuation">,</span> 'æ•°æ®'<span class="hljs-punctuation">,</span> 'å•†ä¸š'<span class="hljs-punctuation">,</span> 'äº§å“'<span class="hljs-punctuation">,</span> 'å…¬å¸'<span class="hljs-punctuation">,</span> 'æ¶ˆè´¹'<span class="hljs-punctuation">,</span> 'ç”¨æˆ·'<span class="hljs-punctuation">,</span> 'å®¢æˆ·'<span class="hljs-punctuation">,</span>
          'å…¬å…³'<span class="hljs-punctuation">,</span> 'PR'<span class="hljs-punctuation">,</span> 'å±æœº'<span class="hljs-punctuation">,</span> 'åª’ä½“'<span class="hljs-punctuation">,</span> 'ä¼ æ’­'<span class="hljs-punctuation">,</span> 'å“ç‰Œ'<span class="hljs-punctuation">,</span> 'å£°èª‰'<span class="hljs-punctuation">,</span> 'èˆ†æƒ…'<span class="hljs-punctuation">,</span> 'æ–°é—»'<span class="hljs-punctuation">,</span> 'å‘å¸ƒä¼š'<span class="hljs-punctuation">,</span>
          'è¥é”€'<span class="hljs-punctuation">,</span> 'æ¨å¹¿'<span class="hljs-punctuation">,</span> 'è·å®¢'<span class="hljs-punctuation">,</span> 'å¢é•¿'<span class="hljs-punctuation">,</span> 'è½¬åŒ–'<span class="hljs-punctuation">,</span> 'ç•™å­˜'<span class="hljs-punctuation">,</span> 'æ´»åŠ¨'<span class="hljs-punctuation">,</span> 'å¹¿å‘Š'<span class="hljs-punctuation">,</span> 'æŠ•æ”¾'<span class="hljs-punctuation">,</span> 'ROI'
        <span class="hljs-punctuation">]</span>;

        const isBusinessRelated = businessKeywords.some(keyword =&gt; userMessage.includes(keyword));

        if (!isBusinessRelated) <span class="hljs-punctuation">{</span>
          console.log('éç›¸å…³ä¸šåŠ¡éœ€æ±‚ï¼Œè¿›è¡Œå¼•å¯¼');
          await sendFeishuMessage(message.message_id<span class="hljs-punctuation">,</span>
            'ğŸ¯ **ä¸“ä¸šå•†ä¸šæœåŠ¡å›¢é˜Ÿ**\n\n' +
            'æˆ‘ä»¬æä¾›ä¸‰å¤§ä¸“ä¸šæœåŠ¡é¢†åŸŸï¼š\n\n' +
            'ğŸ“Š **å¸‚åœºåˆ†æå¸ˆ**ï¼šè¡Œä¸šç ”ç©¶ã€ç«å“åˆ†æã€è¶‹åŠ¿é¢„æµ‹ã€å•†ä¸šæ´å¯Ÿ\n' +
            'ğŸ“¢ **å…¬å…³ä¸“å‘˜**ï¼šå“ç‰Œä¼ æ’­ã€å±æœºå…¬å…³ã€åª’ä½“å…³ç³»ã€å£°èª‰ç®¡ç†\n' +
            'ğŸ“ˆ **è¥é”€ä¸“å‘˜**ï¼šæ•°å­—è¥é”€ã€ç”¨æˆ·å¢é•¿ã€è¥é”€ç­–ç•¥ã€ROIä¼˜åŒ–\n\n' +
            'ğŸ’¡ **ä½¿ç”¨ç¤ºä¾‹**\n' +
            'â€¢ å¸‚åœºåˆ†æï¼š<span class="hljs-string">"åˆ†æAIè¡Œä¸šå‘å±•è¶‹åŠ¿"</span>\n' +
            'â€¢ å…¬å…³ä¼ æ’­ï¼š<span class="hljs-string">"åˆ¶å®šå“ç‰Œå±æœºå…¬å…³ç­–ç•¥"</span>\n' +
            'â€¢ è¥é”€æ¨å¹¿ï¼š<span class="hljs-string">"è®¾è®¡ç”¨æˆ·å¢é•¿è¥é”€æ–¹æ¡ˆ"</span>\n\n' +
            'è¯·æè¿°æ‚¨çš„å…·ä½“éœ€æ±‚ï¼Œæˆ‘å°†åŒ¹é…æœ€åˆé€‚çš„ä¸“ä¸šé¡¾é—®ä¸ºæ‚¨æœåŠ¡ã€‚'
          );
          return res.json(<span class="hljs-punctuation">{</span> StatusCode<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> StatusMessage<span class="hljs-punctuation">:</span> 'success' <span class="hljs-punctuation">}</span>);
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span> else <span class="hljs-punctuation">{</span>
        console.log('æ£€æµ‹åˆ°è¿½é—®ï¼Œè·³è¿‡ä¸šåŠ¡ç›¸å…³æ€§æ£€æŸ¥');
      <span class="hljs-punctuation">}</span>

        <span class="hljs-comment">// ç«‹å³å‘é€ç¡®è®¤æ¶ˆæ¯</span>
        const agentPreResponse = intelligentRouter.getAgentPreResponse(agentName);
        const confirmMsg = `$<span class="hljs-punctuation">{</span>agentTitle<span class="hljs-punctuation">}</span> å·²æ¥æ”¶æ‚¨çš„è¯·æ±‚\n\n` +
                          `$<span class="hljs-punctuation">{</span>agentPreResponse<span class="hljs-punctuation">}</span>\n` +
                          `â±ï¸ é¢„è®¡éœ€è¦ <span class="hljs-number">30</span><span class="hljs-number">-90</span> ç§’\n` +
                          `ğŸ“ è¯·ç¨å€™ï¼Œæˆ‘æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡ä¸“ä¸šåˆ†ææŠ¥å‘Š`;

        await sendFeishuMessage(message.message_id<span class="hljs-punctuation">,</span> confirmMsg);
        console.log('å·²å‘é€ç¡®è®¤æ¶ˆæ¯ç»™ç”¨æˆ·');

        try <span class="hljs-punctuation">{</span>
          <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦æ’é˜Ÿ</span>
          const poolStats = qPool.getStats();
          if (poolStats.queueLength &gt; <span class="hljs-number">0</span>) <span class="hljs-punctuation">{</span>
            const queueMsg = `â³ ç³»ç»Ÿç¹å¿™ï¼Œæ‚¨çš„è¯·æ±‚å·²åŠ å…¥å¤„ç†é˜Ÿåˆ—\n\n` +
                           `ğŸ“‹ å½“å‰æ’é˜Ÿï¼š$<span class="hljs-punctuation">{</span>poolStats.queueLength<span class="hljs-punctuation">}</span> ä¸ªè¯·æ±‚\n` +
                           `â±ï¸ é¢„è®¡ç­‰å¾…ï¼š$<span class="hljs-punctuation">{</span>Math.ceil(poolStats.queueLength * <span class="hljs-number">45</span>)<span class="hljs-punctuation">}</span> ç§’\n` +
                           `ğŸ¯ æˆ‘ä¼šå°½å¿«ä¸ºæ‚¨æä¾›ä¸“ä¸šåˆ†æ`;

            await sendFeishuMessage(message.message_id<span class="hljs-punctuation">,</span> queueMsg);
          <span class="hljs-punctuation">}</span>

          const qResponse = await callAmazonQ(userMessage<span class="hljs-punctuation">,</span> agentName<span class="hljs-punctuation">,</span> message.message_id);
          console.log('Amazon Qå›å¤<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> qResponse);

          if (qResponse &amp;&amp; qResponse.length &gt; <span class="hljs-number">0</span>) <span class="hljs-punctuation">{</span>
            <span class="hljs-comment">// æ·»åŠ å®Œæˆæ ‡è¯†</span>
            const finalResponse = `âœ… åˆ†æå®Œæˆ\n\n$<span class="hljs-punctuation">{</span>qResponse<span class="hljs-punctuation">}</span>\n\n---\nğŸ’¡ å¦‚éœ€è¿›ä¸€æ­¥åˆ†æï¼Œè¯·éšæ—¶æé—®`;
            await sendFeishuMessage(message.message_id<span class="hljs-punctuation">,</span> finalResponse);
          <span class="hljs-punctuation">}</span> else <span class="hljs-punctuation">{</span>
            await sendFeishuMessage(message.message_id<span class="hljs-punctuation">,</span>
              'ğŸ¤” åˆ†æé‡åˆ°é—®é¢˜\n\n' +
              'æŠ±æ­‰ï¼Œå½“å‰æ— æ³•å®Œæˆæ‚¨çš„åˆ†æè¯·æ±‚ã€‚\n\n' +
              'ğŸ’¡ å»ºè®®å°è¯•ï¼š\n' +
              'â€¢ é‡æ–°æè¿°æ‚¨çš„åˆ†æéœ€æ±‚\n' +
              'â€¢ æä¾›æ›´å…·ä½“çš„è¡Œä¸šæˆ–äº§å“ä¿¡æ¯\n' +
              'â€¢ ç¨åå†æ¬¡å°è¯•\n\n' +
              'å¦‚é—®é¢˜æŒç»­ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒã€‚'
            );
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span> catch (error) <span class="hljs-punctuation">{</span>
          console.error('å¤„ç†æ¶ˆæ¯å¤±è´¥<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> error.message);

          let errorMsg = 'âš ï¸ æœåŠ¡æš‚æ—¶ç¹å¿™\n\n';
          if (error.message.includes('è¶…æ—¶')) <span class="hljs-punctuation">{</span>
            errorMsg += 'æ‚¨çš„åˆ†æè¯·æ±‚æ¯”è¾ƒå¤æ‚ï¼Œå¤„ç†æ—¶é—´è¾ƒé•¿ã€‚\n\n' +
                       'ğŸ’¡ å»ºè®®ï¼š\n' +
                       'â€¢ å°è¯•å°†é—®é¢˜æ‹†åˆ†ä¸ºæ›´å…·ä½“çš„å°é—®é¢˜\n' +
                       'â€¢ ç¨åé‡æ–°æäº¤åˆ†æè¯·æ±‚\n' +
                       'â€¢ æä¾›æ›´æ˜ç¡®çš„åˆ†æèŒƒå›´';
          <span class="hljs-punctuation">}</span> else <span class="hljs-punctuation">{</span>
            errorMsg += 'ç³»ç»Ÿæ­£åœ¨å¤„ç†å¤§é‡åˆ†æè¯·æ±‚ã€‚\n\n' +
                       'ğŸ’¡ å»ºè®®ï¼š\n' +
                       'â€¢ è¯·ç¨ç­‰ç‰‡åˆ»åé‡è¯•\n' +
                       'â€¢ ç¡®ä¿é—®é¢˜æè¿°æ¸…æ™°å…·ä½“\n' +
                       'â€¢ é¿å…é‡å¤å‘é€ç›¸åŒè¯·æ±‚';
          <span class="hljs-punctuation">}</span>

          await sendFeishuMessage(message.message_id<span class="hljs-punctuation">,</span> errorMsg);
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>

      <span class="hljs-comment">// å¤„ç†å¯Œæ–‡æœ¬æ¶ˆæ¯</span>
      if (message.message_type === 'post') <span class="hljs-punctuation">{</span>
        const content = JSON.parse(message.content);
        let userText = '';

        console.log('æ”¶åˆ°å¯Œæ–‡æœ¬æ¶ˆæ¯<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> message.message_id);

        <span class="hljs-comment">// è§£æå¯Œæ–‡æœ¬å†…å®¹ï¼Œåªæå–æ–‡æœ¬</span>
        if (content.content &amp;&amp; Array.isArray(content.content)) <span class="hljs-punctuation">{</span>
          content.content.forEach(block =&gt; <span class="hljs-punctuation">{</span>
            if (Array.isArray(block)) <span class="hljs-punctuation">{</span>
              block.forEach(element =&gt; <span class="hljs-punctuation">{</span>
                if (element.tag === 'text' &amp;&amp; element.text) <span class="hljs-punctuation">{</span>
                  userText += element.text.trim() + ' ';
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">}</span>);
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>);
        <span class="hljs-punctuation">}</span>

        <span class="hljs-comment">// å¦‚æœæœ‰æ–‡æœ¬å†…å®¹ï¼ŒæŒ‰æ™®é€šæ–‡æœ¬å¤„ç†</span>
        if (userText.trim()) <span class="hljs-punctuation">{</span>
          console.log('å¯Œæ–‡æœ¬æ¶ˆæ¯è½¬ä¸ºæ–‡æœ¬å¤„ç†<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> userText.trim());
          <span class="hljs-comment">// ç»§ç»­å¤„ç†æ–‡æœ¬å†…å®¹</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>

    <span class="hljs-comment">// å¤„ç†æ‰€æœ‰å…¶ä»–äº‹ä»¶ç±»å‹</span>
    if (body.header &amp;&amp; body.header.event_type) <span class="hljs-punctuation">{</span>
      console.log('ğŸ” æ”¶åˆ°å…¶ä»–äº‹ä»¶ç±»å‹<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> body.header.event_type);

      <span class="hljs-comment">// å°è¯•å¤„ç†å…¶ä»–æ¶ˆæ¯äº‹ä»¶</span>
      if (body.header.event_type.includes('message') &amp;&amp; body.event) <span class="hljs-punctuation">{</span>
        console.log('ğŸ”„ å°è¯•å¤„ç†æ¶ˆæ¯äº‹ä»¶');
        const event = body.event;

        if (event.message || event.content) <span class="hljs-punctuation">{</span>
          console.log('ğŸ“ æ‰¾åˆ°æ¶ˆæ¯å†…å®¹ï¼Œå°è¯•å¤„ç†');
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>

    <span class="hljs-comment">// é£ä¹¦è¦æ±‚çš„æˆåŠŸå“åº”æ ¼å¼</span>
    res.status(<span class="hljs-number">200</span>).json(<span class="hljs-punctuation">{</span>
      StatusCode<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      StatusMessage<span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span>
    <span class="hljs-punctuation">}</span>);

  <span class="hljs-punctuation">}</span> catch (error) <span class="hljs-punctuation">{</span>
    console.error('å¤„ç†é”™è¯¯<span class="hljs-punctuation">:</span>'<span class="hljs-punctuation">,</span> error);
    res.status(<span class="hljs-number">200</span>).json(<span class="hljs-punctuation">{</span>
      StatusCode<span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      StatusMessage<span class="hljs-punctuation">:</span> <span class="hljs-string">"error"</span>
    <span class="hljs-punctuation">}</span>);
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>);

const certOptions = <span class="hljs-punctuation">{</span>
  key<span class="hljs-punctuation">:</span> fs.readFileSync('/home/ubuntu/feishu-webhook/key.pem')<span class="hljs-punctuation">,</span>
  cert<span class="hljs-punctuation">:</span> fs.readFileSync('/home/ubuntu/feishu-webhook/cert.pem')
<span class="hljs-punctuation">}</span>;

https.createServer(certOptions<span class="hljs-punctuation">,</span> app).listen(<span class="hljs-number">8443</span><span class="hljs-punctuation">,</span> () =&gt; <span class="hljs-punctuation">{</span>
  console.log('é£ä¹¦webhookæœåŠ¡å¯åŠ¨<span class="hljs-punctuation">:</span> https<span class="hljs-punctuation">:</span><span class="hljs-comment">//amazonq.moveinsync.cn:8443');</span>
  console.log('Webhook URL<span class="hljs-punctuation">:</span> https<span class="hljs-punctuation">:</span><span class="hljs-comment">//amazonq.moveinsync.cn/webhook');</span>
<span class="hljs-punctuation">}</span>);    
</code></pre>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"feishu"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"server.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node server.js"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"axios"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^1.11.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"express"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.18.2"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-comment">// æ™ºèƒ½è·¯ç”±æ¨¡å— intelligent-router.js</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">IntelligentRouter</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç”¨æˆ·ä¸Šä¸‹æ–‡å­˜å‚¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userContexts</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

    <span class="hljs-comment">// æƒé‡åŒ–å…³é”®è¯é…ç½®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span> = {
      <span class="hljs-string">'market-analyst'</span>: {
        <span class="hljs-attr">high</span>: [<span class="hljs-string">'åˆ†æ'</span>, <span class="hljs-string">'ç ”ç©¶'</span>, <span class="hljs-string">'å¸‚åœº'</span>, <span class="hljs-string">'è¡Œä¸š'</span>, <span class="hljs-string">'ç«å“'</span>, <span class="hljs-string">'è¶‹åŠ¿'</span>, <span class="hljs-string">'è°ƒç ”'</span>, <span class="hljs-string">'æ•°æ®'</span>], <span class="hljs-comment">// æƒé‡3</span>
        <span class="hljs-attr">medium</span>: [<span class="hljs-string">'æŠ¥å‘Š'</span>, <span class="hljs-string">'æ´å¯Ÿ'</span>, <span class="hljs-string">'å•†ä¸š'</span>, <span class="hljs-string">'äº§å“'</span>, <span class="hljs-string">'ç”¨æˆ·'</span>, <span class="hljs-string">'æ¶ˆè´¹'</span>, <span class="hljs-string">'å®¢æˆ·'</span>], <span class="hljs-comment">// æƒé‡2</span>
        <span class="hljs-attr">low</span>: [<span class="hljs-string">'å…¬å¸'</span>, <span class="hljs-string">'ä¼ä¸š'</span>, <span class="hljs-string">'å‘å±•'</span>, <span class="hljs-string">'å‰æ™¯'</span>, <span class="hljs-string">'æœºä¼š'</span>, <span class="hljs-string">'é£é™©'</span>] <span class="hljs-comment">// æƒé‡1</span>
      },
      <span class="hljs-string">'pr-specialist'</span>: {
        <span class="hljs-attr">high</span>: [<span class="hljs-string">'å…¬å…³'</span>, <span class="hljs-string">'pr'</span>, <span class="hljs-string">'å±æœº'</span>, <span class="hljs-string">'åª’ä½“'</span>, <span class="hljs-string">'ä¼ æ’­'</span>, <span class="hljs-string">'å“ç‰Œ'</span>, <span class="hljs-string">'å£°èª‰'</span>, <span class="hljs-string">'ææ–™'</span>], <span class="hljs-comment">// æƒé‡3</span>
        <span class="hljs-attr">medium</span>: [<span class="hljs-string">'èˆ†æƒ…'</span>, <span class="hljs-string">'æ–°é—»'</span>, <span class="hljs-string">'å‘å¸ƒ'</span>, <span class="hljs-string">'å½¢è±¡'</span>, <span class="hljs-string">'å…³ç³»'</span>, <span class="hljs-string">'æ²Ÿé€š'</span>, <span class="hljs-string">'æ•…äº‹'</span>], <span class="hljs-comment">// æƒé‡2</span>
        <span class="hljs-attr">low</span>: [<span class="hljs-string">'å®£ä¼ '</span>, <span class="hljs-string">'æ¨ä»‹'</span>, <span class="hljs-string">'æ´»åŠ¨'</span>, <span class="hljs-string">'äº‹ä»¶'</span>, <span class="hljs-string">'è¯é¢˜'</span>, <span class="hljs-string">'å½±å“'</span>] <span class="hljs-comment">// æƒé‡1</span>
      },
      <span class="hljs-string">'marketing-specialist'</span>: {
        <span class="hljs-attr">high</span>: [<span class="hljs-string">'è¥é”€'</span>, <span class="hljs-string">'æ¨å¹¿'</span>, <span class="hljs-string">'è·å®¢'</span>, <span class="hljs-string">'å¢é•¿'</span>, <span class="hljs-string">'å¢é•¿ç‚¹'</span>, <span class="hljs-string">'è½¬åŒ–'</span>, <span class="hljs-string">'roi'</span>], <span class="hljs-comment">// æƒé‡3</span>
        <span class="hljs-attr">medium</span>: [<span class="hljs-string">'æ´»åŠ¨'</span>, <span class="hljs-string">'å¹¿å‘Š'</span>, <span class="hljs-string">'æŠ•æ”¾'</span>, <span class="hljs-string">'ç•™å­˜'</span>, <span class="hljs-string">'æ¸ é“'</span>, <span class="hljs-string">'ç­–ç•¥'</span>], <span class="hljs-comment">// æƒé‡2</span>
        <span class="hljs-attr">low</span>: [<span class="hljs-string">'ç”¨æˆ·'</span>, <span class="hljs-string">'å®¢æˆ·'</span>, <span class="hljs-string">'æµé‡'</span>, <span class="hljs-string">'æ›å…‰'</span>, <span class="hljs-string">'ç‚¹å‡»'</span>, <span class="hljs-string">'æ•ˆæœ'</span>] <span class="hljs-comment">// æƒé‡1</span>
      }
    };

    <span class="hljs-comment">// è¿½é—®æ¨¡å¼å…³é”®è¯</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">followUpPatterns</span> = [
      <span class="hljs-string">'ç»§ç»­'</span>, <span class="hljs-string">'è¿˜æœ‰'</span>, <span class="hljs-string">'å¦å¤–'</span>, <span class="hljs-string">'è¡¥å……'</span>, <span class="hljs-string">'è¯¦ç»†'</span>, <span class="hljs-string">'å…·ä½“'</span>,
      <span class="hljs-string">'é‚£ä¹ˆ'</span>, <span class="hljs-string">'å¦‚æœ'</span>, <span class="hljs-string">'å‡è®¾'</span>, <span class="hljs-string">'åŸºäºä¸Šé¢'</span>, <span class="hljs-string">'åˆšæ‰'</span>, <span class="hljs-string">'ä¹‹å‰'</span>,
      <span class="hljs-string">'ä¸Šæ–‡'</span>, <span class="hljs-string">'æåˆ°çš„'</span>, <span class="hljs-string">'åˆšè¯´çš„'</span>, <span class="hljs-string">'å‰é¢'</span>, <span class="hljs-string">'å“ªäº›'</span>, <span class="hljs-string">'ä»€ä¹ˆ'</span>,
      <span class="hljs-string">'æœ‰å“ªäº›'</span>, <span class="hljs-string">'éƒ½æœ‰'</span>, <span class="hljs-string">'åŒ…æ‹¬'</span>, <span class="hljs-string">'æ¯”å¦‚'</span>, <span class="hljs-string">'ä¾‹å¦‚'</span>, <span class="hljs-string">'ä¸»è¦æœ‰'</span>
    ];
  }

  <span class="hljs-comment">// å¤šç»´åº¦è¯„åˆ†æœºåˆ¶</span>
  <span class="hljs-title function_">calculateAgentScore</span>(<span class="hljs-params">userMessage</span>) {
    <span class="hljs-keyword">const</span> scores = {
      <span class="hljs-string">'market-analyst'</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">'pr-specialist'</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">'marketing-specialist'</span>: <span class="hljs-number">0</span>
    };

    <span class="hljs-keyword">const</span> message = userMessage.<span class="hljs-title function_">toLowerCase</span>();

    <span class="hljs-comment">// è®¡ç®—å„Agentå¾—åˆ†</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">agent</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span>[agent].<span class="hljs-property">high</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (message.<span class="hljs-title function_">includes</span>(word)) scores[agent] += <span class="hljs-number">3</span>;
      });
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span>[agent].<span class="hljs-property">medium</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (message.<span class="hljs-title function_">includes</span>(word)) scores[agent] += <span class="hljs-number">2</span>;
      });
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span>[agent].<span class="hljs-property">low</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (message.<span class="hljs-title function_">includes</span>(word)) scores[agent] += <span class="hljs-number">1</span>;
      });
    });

    <span class="hljs-comment">// è¿”å›å¾—åˆ†æœ€é«˜çš„Agentï¼Œå¦‚æœå¾—åˆ†ç›¸åŒåˆ™è¿”å›market-analystä½œä¸ºé»˜è®¤</span>
    <span class="hljs-keyword">const</span> maxScore = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(scores));
    <span class="hljs-keyword">if</span> (maxScore === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'market-analyst'</span>; <span class="hljs-comment">// é»˜è®¤é€‰æ‹©</span>

    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(scores).<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">agent</span> =&gt;</span> scores[agent] === maxScore) || <span class="hljs-string">'market-analyst'</span>;
  }

  <span class="hljs-comment">// æ£€æµ‹æ˜¯å¦ä¸ºè¿½é—®</span>
  <span class="hljs-title function_">isFollowUpQuestion</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-keyword">const</span> lowerMessage = message.<span class="hljs-title function_">toLowerCase</span>();

    <span class="hljs-comment">// ç›´æ¥è¿½é—®æ¨¡å¼æ£€æµ‹</span>
    <span class="hljs-keyword">const</span> hasFollowUpPattern = <span class="hljs-variable language_">this</span>.<span class="hljs-property">followUpPatterns</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">pattern</span> =&gt;</span> lowerMessage.<span class="hljs-title function_">includes</span>(pattern));

    <span class="hljs-comment">// æ’é™¤ç‹¬ç«‹é—®å¥ï¼ˆåŒ…å«æ˜ç¡®ä¸»é¢˜çš„å®Œæ•´é—®å¥ï¼‰</span>
    <span class="hljs-keyword">const</span> independentTopics = [
      <span class="hljs-string">'å¤©æ°”'</span>, <span class="hljs-string">'æ—¶é—´'</span>, <span class="hljs-string">'æ—¥æœŸ'</span>, <span class="hljs-string">'ä½ å¥½'</span>, <span class="hljs-string">'è°¢è°¢'</span>, <span class="hljs-string">'å†è§'</span>, <span class="hljs-string">'å¸®åŠ©'</span>,
      <span class="hljs-string">'æ€ä¹ˆæ ·'</span>, <span class="hljs-string">'å¦‚ä½•'</span>, <span class="hljs-string">'ä¸ºä»€ä¹ˆ'</span>, <span class="hljs-string">'ä»€ä¹ˆæ—¶å€™'</span>, <span class="hljs-string">'åœ¨å“ªé‡Œ'</span>
    ];

    <span class="hljs-keyword">const</span> isIndependentQuestion = independentTopics.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">topic</span> =&gt;</span> lowerMessage.<span class="hljs-title function_">includes</span>(topic)) &amp;&amp;
                                 !<span class="hljs-variable language_">this</span>.<span class="hljs-property">followUpPatterns</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">pattern</span> =&gt;</span> lowerMessage.<span class="hljs-title function_">includes</span>(pattern));

    <span class="hljs-keyword">if</span> (isIndependentQuestion) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ç‹¬ç«‹é—®å¥ä¸æ˜¯è¿½é—®</span>
    }

    <span class="hljs-comment">// ç®€çŸ­é—®å¥æ£€æµ‹ï¼ˆé€šå¸¸æ˜¯è¿½é—®ï¼‰</span>
    <span class="hljs-keyword">const</span> isShortQuestion = message.<span class="hljs-property">length</span> &lt; <span class="hljs-number">20</span> &amp;&amp; (
      message.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'ï¼Ÿ'</span>) || message.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'?'</span>) ||
      message.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'å“ªäº›'</span>) || message.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'ä»€ä¹ˆ'</span>) ||
      message.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'å¦‚ä½•'</span>) || message.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'æ€ä¹ˆ'</span>)
    );

    <span class="hljs-comment">// æŒ‡ä»£æ€§é—®å¥æ£€æµ‹</span>
    <span class="hljs-keyword">const</span> hasReference = lowerMessage.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'çš„'</span>) &amp;&amp; (
      lowerMessage.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'ä¸»è¦'</span>) || lowerMessage.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'éƒ½æœ‰'</span>) ||
      lowerMessage.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'åŒ…æ‹¬'</span>) || lowerMessage.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'å“ç‰Œ'</span>)
    );

    <span class="hljs-keyword">return</span> hasFollowUpPattern || (isShortQuestion &amp;&amp; !isIndependentQuestion) || hasReference;
  }

  <span class="hljs-comment">// æå–ä¸»é¢˜å…³é”®è¯</span>
  <span class="hljs-title function_">extractTopics</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-keyword">const</span> topics = [];
    <span class="hljs-keyword">const</span> allKeywords = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span>).<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">category</span> =&gt;</span>
      [...category.<span class="hljs-property">high</span>, ...category.<span class="hljs-property">medium</span>, ...category.<span class="hljs-property">low</span>]
    );

    allKeywords.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">keyword</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (message.<span class="hljs-title function_">includes</span>(keyword)) {
        topics.<span class="hljs-title function_">push</span>(keyword);
      }
    });

    <span class="hljs-keyword">return</span> topics.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// æœ€å¤šä¿ç•™5ä¸ªä¸»é¢˜</span>
  }

  <span class="hljs-comment">// ä¸Šä¸‹æ–‡æ„ŸçŸ¥è·¯ç”± - é‡æ„ç‰ˆæœ¬</span>
  <span class="hljs-title function_">getAgentWithContext</span>(<span class="hljs-params">userId, userMessage</span>) {
    <span class="hljs-keyword">const</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-property">userContexts</span>.<span class="hljs-title function_">get</span>(userId) || {
      <span class="hljs-attr">recentAgents</span>: [],
      <span class="hljs-attr">topics</span>: [],
      <span class="hljs-attr">lastAgent</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">lastMessageTime</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">lastMessage</span>: <span class="hljs-string">''</span>
    };

    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> timeSinceLastMessage = now - context.<span class="hljs-property">lastMessageTime</span>;

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ” åˆ†æç”¨æˆ· <span class="hljs-subst">${userId}</span> çš„æ¶ˆæ¯: "<span class="hljs-subst">${userMessage}</span>"`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ“Š ä¸Šä¸‹æ–‡ä¿¡æ¯: ä¸Šæ¬¡Agent=<span class="hljs-subst">${context.lastAgent}</span>, æ—¶é—´é—´éš”=<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.round(timeSinceLastMessage/<span class="hljs-number">1000</span>)}</span>ç§’`</span>);

    <span class="hljs-comment">// æ­¥éª¤1: åˆ¤æ–­é—®é¢˜åˆ†ç±»</span>
    <span class="hljs-keyword">const</span> questionType = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">classifyQuestion</span>(userMessage, context, timeSinceLastMessage);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ“‹ é—®é¢˜åˆ†ç±»: <span class="hljs-subst">${questionType.<span class="hljs-keyword">type</span>}</span> (ç½®ä¿¡åº¦: <span class="hljs-subst">${questionType.confidence.toFixed(<span class="hljs-number">3</span>)}</span>)`</span>);

    <span class="hljs-keyword">let</span> selectedAgent;

    <span class="hljs-keyword">switch</span> (questionType.<span class="hljs-property">type</span>) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'RELATED_FOLLOWUP'</span>:
        <span class="hljs-comment">// ä¸åŸæœ‰é—®é¢˜ç›¸å…³ï¼Œä¼ é€’ä¸Šä¸‹æ–‡ç»™åŒä¸€Agent</span>
        selectedAgent = context.<span class="hljs-property">lastAgent</span> || <span class="hljs-string">'market-analyst'</span>;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ”„ ç›¸å…³è¿½é—®ï¼Œç»§ç»­ä½¿ç”¨ <span class="hljs-subst">${selectedAgent}</span>`</span>);
        <span class="hljs-keyword">break</span>;

      <span class="hljs-keyword">case</span> <span class="hljs-string">'UNRELATED_NEW'</span>:
        <span class="hljs-comment">// ä¸åŸæœ‰é—®é¢˜æ— å…³ï¼Œé‡æ–°åˆ†æå¹¶é€‰æ‹©Agent</span>
        selectedAgent = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateAgentScore</span>(userMessage);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ†• æ— å…³æ–°é—®é¢˜ï¼Œé‡æ–°é€‰æ‹© <span class="hljs-subst">${selectedAgent}</span>`</span>);
        <span class="hljs-comment">// æ¸…ç†æ—§ä¸Šä¸‹æ–‡</span>
        context.<span class="hljs-property">topics</span> = [];
        <span class="hljs-keyword">break</span>;

      <span class="hljs-keyword">case</span> <span class="hljs-string">'NEW_QUESTION'</span>:
      <span class="hljs-attr">default</span>:
        <span class="hljs-comment">// æ–°é—®é¢˜ï¼Œæ ¹æ®å†…å®¹åˆ†ç±»ç»™ä¸åŒAgent</span>
        selectedAgent = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateAgentScore</span>(userMessage);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`â“ æ–°é—®é¢˜ï¼Œåˆ†æåé€‰æ‹© <span class="hljs-subst">${selectedAgent}</span>`</span>);
        <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-comment">// æ›´æ–°ç”¨æˆ·ä¸Šä¸‹æ–‡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateUserContext</span>(userId, selectedAgent, userMessage, now);

    <span class="hljs-keyword">return</span> selectedAgent;
  }

  <span class="hljs-comment">// é—®é¢˜åˆ†ç±»æ–¹æ³• - ä¼˜åŒ–ç‰ˆæœ¬</span>
  <span class="hljs-title function_">classifyQuestion</span>(<span class="hljs-params">userMessage, context, timeSinceLastMessage</span>) {
    <span class="hljs-keyword">const</span> message = userMessage.<span class="hljs-title function_">toLowerCase</span>();

    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰å†å²ä¸Šä¸‹æ–‡æˆ–æ—¶é—´é—´éš”å¤ªé•¿(&gt;30åˆ†é’Ÿ)ï¼Œç›´æ¥åˆ¤å®šä¸ºæ–°é—®é¢˜</span>
    <span class="hljs-keyword">if</span> (!context.<span class="hljs-property">lastAgent</span> || timeSinceLastMessage &gt; <span class="hljs-number">30</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">'NEW_QUESTION'</span>, <span class="hljs-attr">confidence</span>: <span class="hljs-number">0.9</span> };
    }

    <span class="hljs-comment">// ä¼˜å…ˆæ£€æŸ¥æ–°é¢†åŸŸè¯·æ±‚ - æé«˜æƒé‡</span>
    <span class="hljs-keyword">const</span> isNewDomain = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isNewDomainRequest</span>(userMessage);
    <span class="hljs-keyword">if</span> (isNewDomain) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ”„ æ£€æµ‹åˆ°æ–°é¢†åŸŸè¯·æ±‚æ ‡è¯†ç¬¦`</span>);
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">'UNRELATED_NEW'</span>, <span class="hljs-attr">confidence</span>: <span class="hljs-number">0.9</span> };
    }

    <span class="hljs-comment">// æ£€æŸ¥Agenté¢†åŸŸåˆ‡æ¢ - æ–°å¢å¼ºåŒ–æ£€æµ‹</span>
    <span class="hljs-keyword">const</span> currentAgentScore = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateAgentScore</span>(userMessage);
    <span class="hljs-keyword">const</span> lastAgent = context.<span class="hljs-property">lastAgent</span>;

    <span class="hljs-comment">// å¦‚æœå½“å‰æ¶ˆæ¯æ˜æ˜¾æŒ‡å‘ä¸åŒçš„Agenté¢†åŸŸ</span>
    <span class="hljs-keyword">if</span> (currentAgentScore !== lastAgent) {
      <span class="hljs-keyword">const</span> agentSwitchConfidence = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateAgentSwitchConfidence</span>(userMessage, lastAgent, currentAgentScore);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ¯ Agentåˆ‡æ¢æ£€æµ‹: <span class="hljs-subst">${lastAgent}</span> â†’ <span class="hljs-subst">${currentAgentScore}</span>, ç½®ä¿¡åº¦: <span class="hljs-subst">${agentSwitchConfidence.toFixed(<span class="hljs-number">3</span>)}</span>`</span>);

      <span class="hljs-keyword">if</span> (agentSwitchConfidence &gt; <span class="hljs-number">0.7</span>) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">'UNRELATED_NEW'</span>, <span class="hljs-attr">confidence</span>: agentSwitchConfidence };
      }
    }

    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸ºæ˜æ˜¾çš„è¿½é—®</span>
    <span class="hljs-keyword">const</span> isFollowUp = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isFollowUpQuestion</span>(userMessage);
    <span class="hljs-keyword">if</span> (isFollowUp) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">'RELATED_FOLLOWUP'</span>, <span class="hljs-attr">confidence</span>: <span class="hljs-number">0.8</span> };
    }

    <span class="hljs-comment">// æ£€æŸ¥ä¸»é¢˜ç›¸å…³æ€§</span>
    <span class="hljs-keyword">const</span> currentTopics = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">extractTopics</span>(userMessage);
    <span class="hljs-keyword">const</span> topicSimilarity = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateTopicSimilarity</span>(currentTopics, context.<span class="hljs-property">topics</span>);

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ·ï¸ ä¸»é¢˜ç›¸ä¼¼åº¦: <span class="hljs-subst">${topicSimilarity.toFixed(<span class="hljs-number">3</span>)}</span>`</span>);

    <span class="hljs-comment">// æ ¹æ®ä¸»é¢˜ç›¸ä¼¼åº¦åˆ¤æ–­</span>
    <span class="hljs-keyword">if</span> (topicSimilarity &gt; <span class="hljs-number">0.6</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">'RELATED_FOLLOWUP'</span>, <span class="hljs-attr">confidence</span>: topicSimilarity };
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (topicSimilarity &lt; <span class="hljs-number">0.3</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">'UNRELATED_NEW'</span>, <span class="hljs-attr">confidence</span>: <span class="hljs-number">1</span> - topicSimilarity };
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">'NEW_QUESTION'</span>, <span class="hljs-attr">confidence</span>: <span class="hljs-number">0.6</span> };
    }
  }

  <span class="hljs-comment">// è®¡ç®—Agentåˆ‡æ¢ç½®ä¿¡åº¦</span>
  <span class="hljs-title function_">calculateAgentSwitchConfidence</span>(<span class="hljs-params">userMessage, lastAgent, currentAgent</span>) {
    <span class="hljs-keyword">const</span> message = userMessage.<span class="hljs-title function_">toLowerCase</span>();

    <span class="hljs-comment">// è·å–å½“å‰Agentçš„å…³é”®è¯åŒ¹é…å¼ºåº¦</span>
    <span class="hljs-keyword">const</span> currentAgentKeywords = <span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span>[currentAgent] || { <span class="hljs-attr">high</span>: [], <span class="hljs-attr">medium</span>: [], <span class="hljs-attr">low</span>: [] };
    <span class="hljs-keyword">let</span> matchStrength = <span class="hljs-number">0</span>;

    <span class="hljs-comment">// è®¡ç®—åŒ¹é…å¼ºåº¦</span>
    currentAgentKeywords.<span class="hljs-property">high</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (message.<span class="hljs-title function_">includes</span>(word)) matchStrength += <span class="hljs-number">3</span>;
    });
    currentAgentKeywords.<span class="hljs-property">medium</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (message.<span class="hljs-title function_">includes</span>(word)) matchStrength += <span class="hljs-number">2</span>;
    });
    currentAgentKeywords.<span class="hljs-property">low</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (message.<span class="hljs-title function_">includes</span>(word)) matchStrength += <span class="hljs-number">1</span>;
    });

    <span class="hljs-comment">// æ£€æŸ¥ä¸“ä¸šé¢†åŸŸå¼ºæŒ‡ç¤ºè¯</span>
    <span class="hljs-keyword">const</span> strongIndicators = {
      <span class="hljs-string">'pr-specialist'</span>: [<span class="hljs-string">'å…¬å…³'</span>, <span class="hljs-string">'å±æœº'</span>, <span class="hljs-string">'å“ç‰Œ'</span>, <span class="hljs-string">'åª’ä½“'</span>, <span class="hljs-string">'ä¼ æ’­'</span>, <span class="hljs-string">'å£°èª‰'</span>, <span class="hljs-string">'æ–°é—»'</span>],
      <span class="hljs-string">'marketing-specialist'</span>: [<span class="hljs-string">'è¥é”€'</span>, <span class="hljs-string">'æ¨å¹¿'</span>, <span class="hljs-string">'è·å®¢'</span>, <span class="hljs-string">'è½¬åŒ–'</span>, <span class="hljs-string">'å¹¿å‘Š'</span>, <span class="hljs-string">'æ´»åŠ¨'</span>, <span class="hljs-string">'ç”¨æˆ·å¢é•¿'</span>, <span class="hljs-string">'å¢é•¿ç‚¹'</span>],
      <span class="hljs-string">'market-analyst'</span>: [<span class="hljs-string">'åˆ†æ'</span>, <span class="hljs-string">'å¸‚åœº'</span>, <span class="hljs-string">'ç«å“'</span>, <span class="hljs-string">'è¡Œä¸š'</span>, <span class="hljs-string">'è¶‹åŠ¿'</span>, <span class="hljs-string">'æ•°æ®'</span>, <span class="hljs-string">'æŠ¥å‘Š'</span>]
    };

    <span class="hljs-keyword">const</span> indicators = strongIndicators[currentAgent] || [];
    <span class="hljs-keyword">let</span> strongMatch = <span class="hljs-number">0</span>;
    indicators.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">indicator</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (message.<span class="hljs-title function_">includes</span>(indicator)) strongMatch += <span class="hljs-number">1</span>;
    });

    <span class="hljs-comment">// ç»¼åˆè®¡ç®—ç½®ä¿¡åº¦</span>
    <span class="hljs-keyword">let</span> confidence = <span class="hljs-number">0.5</span>;

    <span class="hljs-keyword">if</span> (strongMatch &gt; <span class="hljs-number">0</span>) {
      confidence += strongMatch * <span class="hljs-number">0.2</span>; <span class="hljs-comment">// å¼ºæŒ‡ç¤ºè¯åŠ æƒ</span>
    }

    <span class="hljs-keyword">if</span> (matchStrength &gt; <span class="hljs-number">2</span>) {
      confidence += <span class="hljs-number">0.3</span>; <span class="hljs-comment">// å…³é”®è¯åŒ¹é…å¼ºåº¦åŠ æƒ</span>
    }

    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">0.95</span>, confidence);
  }

  <span class="hljs-comment">// è®¡ç®—ä¸»é¢˜ç›¸ä¼¼åº¦</span>
  <span class="hljs-title function_">calculateTopicSimilarity</span>(<span class="hljs-params">currentTopics, previousTopics</span>) {
    <span class="hljs-keyword">if</span> (currentTopics.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> || previousTopics.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }

    <span class="hljs-keyword">let</span> matchCount = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> currentTopic <span class="hljs-keyword">of</span> currentTopics) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> prevTopic <span class="hljs-keyword">of</span> previousTopics) {
        <span class="hljs-comment">// æ£€æŸ¥å®Œå…¨åŒ¹é…æˆ–åŒ…å«å…³ç³»</span>
        <span class="hljs-keyword">if</span> (currentTopic === prevTopic ||
            currentTopic.<span class="hljs-title function_">includes</span>(prevTopic) ||
            prevTopic.<span class="hljs-title function_">includes</span>(currentTopic)) {
          matchCount++;
          <span class="hljs-keyword">break</span>;
        }
      }
    }

    <span class="hljs-keyword">return</span> matchCount / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(currentTopics.<span class="hljs-property">length</span>, previousTopics.<span class="hljs-property">length</span>);
  }

  <span class="hljs-comment">// æ›´æ–°ç”¨æˆ·ä¸Šä¸‹æ–‡</span>
  <span class="hljs-title function_">updateUserContext</span>(<span class="hljs-params">userId, selectedAgent, userMessage, timestamp</span>) {
    <span class="hljs-keyword">const</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-property">userContexts</span>.<span class="hljs-title function_">get</span>(userId) || {
      <span class="hljs-attr">recentAgents</span>: [],
      <span class="hljs-attr">topics</span>: [],
      <span class="hljs-attr">lastAgent</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">lastMessageTime</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">lastMessage</span>: <span class="hljs-string">''</span>
    };

    <span class="hljs-comment">// æ›´æ–°åŸºæœ¬ä¿¡æ¯</span>
    context.<span class="hljs-property">lastAgent</span> = selectedAgent;
    context.<span class="hljs-property">lastMessageTime</span> = timestamp;
    context.<span class="hljs-property">lastMessage</span> = userMessage;

    <span class="hljs-comment">// æ›´æ–°Agentå†å²</span>
    <span class="hljs-keyword">if</span> (!context.<span class="hljs-property">recentAgents</span>.<span class="hljs-title function_">includes</span>(selectedAgent)) {
      context.<span class="hljs-property">recentAgents</span>.<span class="hljs-title function_">unshift</span>(selectedAgent);
      <span class="hljs-keyword">if</span> (context.<span class="hljs-property">recentAgents</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">3</span>) {
        context.<span class="hljs-property">recentAgents</span>.<span class="hljs-title function_">pop</span>();
      }
    }

    <span class="hljs-comment">// æ›´æ–°ä¸»é¢˜</span>
    <span class="hljs-keyword">const</span> newTopics = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">extractTopics</span>(userMessage);
    context.<span class="hljs-property">topics</span> = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...newTopics, ...context.<span class="hljs-property">topics</span>])].<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>);

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userContexts</span>.<span class="hljs-title function_">set</span>(userId, context);

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ’¾ æ›´æ–°ç”¨æˆ·ä¸Šä¸‹æ–‡: Agent=<span class="hljs-subst">${selectedAgent}</span>, ä¸»é¢˜æ•°=<span class="hljs-subst">${context.topics.length}</span>`</span>);
  }

  <span class="hljs-comment">// æ£€æµ‹æ˜¯å¦ä¸ºæ–°é¢†åŸŸè¯·æ±‚</span>
  <span class="hljs-title function_">isNewDomainRequest</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-keyword">const</span> newDomainIndicators = [
      <span class="hljs-comment">// æ˜ç¡®çš„è¯é¢˜è½¬æ¢</span>
      <span class="hljs-string">'æ¢ä¸ªè¯é¢˜'</span>, <span class="hljs-string">'è¯´è¯´åˆ«çš„'</span>, <span class="hljs-string">'å¦å¤–'</span>, <span class="hljs-string">'è¿˜æœ‰'</span>, <span class="hljs-string">'å…¶ä»–'</span>, <span class="hljs-string">'ä¸åŒçš„'</span>,
      <span class="hljs-string">'æ–°çš„é—®é¢˜'</span>, <span class="hljs-string">'åˆ«çš„äº‹æƒ…'</span>, <span class="hljs-string">'è½¬æ¢è¯é¢˜'</span>, <span class="hljs-string">'æ”¹ä¸ªæ–¹å‘'</span>,

      <span class="hljs-comment">// è¿½åŠ è¯¢é—®</span>
      <span class="hljs-string">'æˆ‘æƒ³é—®'</span>, <span class="hljs-string">'æˆ‘è¿˜æƒ³'</span>, <span class="hljs-string">'é¡ºä¾¿é—®'</span>, <span class="hljs-string">'å†é—®ä¸€ä¸ª'</span>, <span class="hljs-string">'è¿˜æƒ³äº†è§£'</span>,
      <span class="hljs-string">'å¦å¤–æƒ³é—®'</span>, <span class="hljs-string">'è¿˜æœ‰ä¸ªé—®é¢˜'</span>, <span class="hljs-string">'å†å’¨è¯¢ä¸€ä¸‹'</span>,

      <span class="hljs-comment">// é¢†åŸŸåˆ‡æ¢æŒ‡ç¤º</span>
      <span class="hljs-string">'å…³äº'</span>, <span class="hljs-string">'é’ˆå¯¹'</span>, <span class="hljs-string">'å¯¹äº'</span>, <span class="hljs-string">'å°±æ˜¯'</span>, <span class="hljs-string">'æ¯”å¦‚è¯´'</span>,
      <span class="hljs-string">'æˆ‘éœ€è¦'</span>, <span class="hljs-string">'å¸®æˆ‘'</span>, <span class="hljs-string">'èƒ½å¦'</span>, <span class="hljs-string">'å¯ä»¥'</span>
    ];

    <span class="hljs-keyword">const</span> messageLower = message.<span class="hljs-title function_">toLowerCase</span>();

    <span class="hljs-comment">// æ£€æŸ¥æ˜ç¡®çš„è½¬æ¢æŒ‡ç¤ºè¯</span>
    <span class="hljs-keyword">const</span> hasTransitionWord = newDomainIndicators.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">indicator</span> =&gt;</span> messageLower.<span class="hljs-title function_">includes</span>(indicator));

    <span class="hljs-comment">// æ£€æŸ¥ä¸“ä¸šé¢†åŸŸå…³é”®è¯ç»„åˆ</span>
    <span class="hljs-keyword">const</span> domainKeywords = {
      <span class="hljs-attr">pr</span>: [<span class="hljs-string">'å…¬å…³'</span>, <span class="hljs-string">'å±æœº'</span>, <span class="hljs-string">'å“ç‰Œ'</span>, <span class="hljs-string">'åª’ä½“'</span>, <span class="hljs-string">'ä¼ æ’­'</span>, <span class="hljs-string">'å£°èª‰'</span>],
      <span class="hljs-attr">marketing</span>: [<span class="hljs-string">'è¥é”€'</span>, <span class="hljs-string">'æ¨å¹¿'</span>, <span class="hljs-string">'è·å®¢'</span>, <span class="hljs-string">'è½¬åŒ–'</span>, <span class="hljs-string">'å¹¿å‘Š'</span>, <span class="hljs-string">'æ´»åŠ¨'</span>],
      <span class="hljs-attr">analysis</span>: [<span class="hljs-string">'åˆ†æ'</span>, <span class="hljs-string">'å¸‚åœº'</span>, <span class="hljs-string">'ç«å“'</span>, <span class="hljs-string">'è¡Œä¸š'</span>, <span class="hljs-string">'è¶‹åŠ¿'</span>, <span class="hljs-string">'æ•°æ®'</span>]
    };

    <span class="hljs-keyword">let</span> domainMatches = <span class="hljs-number">0</span>;
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(domainKeywords).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">keywords</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> matches = keywords.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">keyword</span> =&gt;</span> messageLower.<span class="hljs-title function_">includes</span>(keyword));
      <span class="hljs-keyword">if</span> (matches.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) domainMatches++;
    });

    <span class="hljs-comment">// å¦‚æœæœ‰è½¬æ¢è¯ + ä¸“ä¸šé¢†åŸŸè¯ï¼Œæˆ–è€…æœ‰å¤šä¸ªé¢†åŸŸè¯ï¼Œè®¤ä¸ºæ˜¯æ–°é¢†åŸŸè¯·æ±‚</span>
    <span class="hljs-keyword">return</span> hasTransitionWord || domainMatches &gt; <span class="hljs-number">1</span>;
  }

  <span class="hljs-comment">// è·å–Agentæ˜¾ç¤ºåç§°</span>
  <span class="hljs-title function_">getAgentTitle</span>(<span class="hljs-params">agentName</span>) {
    <span class="hljs-keyword">const</span> titles = {
      <span class="hljs-string">'market-analyst'</span>: <span class="hljs-string">'ğŸ“Š å¸‚åœºåˆ†æå¸ˆ'</span>,
      <span class="hljs-string">'pr-specialist'</span>: <span class="hljs-string">'ğŸ“¢ å…¬å…³ä¸“å‘˜'</span>,
      <span class="hljs-string">'marketing-specialist'</span>: <span class="hljs-string">'ğŸ“ˆ è¥é”€ä¸“å‘˜'</span>
    };
    <span class="hljs-keyword">return</span> titles[agentName] || <span class="hljs-string">'ğŸ“Š å¸‚åœºåˆ†æå¸ˆ'</span>;
  }

  <span class="hljs-comment">// è·å–Agentç‰¹è‰²é¢„å“åº”</span>
  <span class="hljs-title function_">getAgentPreResponse</span>(<span class="hljs-params">agentName</span>) {
    <span class="hljs-keyword">const</span> preResponses = {
      <span class="hljs-string">'market-analyst'</span>: <span class="hljs-string">'ğŸ” æ­£åœ¨æ·±åº¦åˆ†æå¸‚åœºæ•°æ®å’Œè¡Œä¸šè¶‹åŠ¿...'</span>,
      <span class="hljs-string">'pr-specialist'</span>: <span class="hljs-string">'ğŸ“ æ­£åœ¨åˆ¶å®šä¸“ä¸šçš„å…¬å…³ä¼ æ’­ç­–ç•¥...'</span>,
      <span class="hljs-string">'marketing-specialist'</span>: <span class="hljs-string">'ğŸ¯ æ­£åœ¨ä¼˜åŒ–è¥é”€ç­–ç•¥å’Œå¢é•¿æ–¹æ¡ˆ...'</span>
    };
    <span class="hljs-keyword">return</span> preResponses[agentName] || <span class="hljs-string">'ğŸ” æ­£åœ¨æ·±åº¦åˆ†æå¸‚åœºæ•°æ®å’Œè¡Œä¸šè¶‹åŠ¿...'</span>;
  }

  <span class="hljs-comment">// è·å–è·¯ç”±ç»Ÿè®¡ä¿¡æ¯</span>
  <span class="hljs-title function_">getRoutingStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> stats = {
      <span class="hljs-attr">totalUsers</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userContexts</span>.<span class="hljs-property">size</span>,
      <span class="hljs-attr">agentUsage</span>: { <span class="hljs-string">'market-analyst'</span>: <span class="hljs-number">0</span>, <span class="hljs-string">'pr-specialist'</span>: <span class="hljs-number">0</span>, <span class="hljs-string">'marketing-specialist'</span>: <span class="hljs-number">0</span> },
      <span class="hljs-attr">totalRequests</span>: <span class="hljs-number">0</span>
    };

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userContexts</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">context</span> =&gt;</span> {
      context.<span class="hljs-property">recentAgents</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">agent</span> =&gt;</span> {
        stats.<span class="hljs-property">agentUsage</span>[agent] = (stats.<span class="hljs-property">agentUsage</span>[agent] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
        stats.<span class="hljs-property">totalRequests</span>++;
      });
    });

    <span class="hljs-keyword">return</span> stats;
  }

  <span class="hljs-comment">// æ¸…ç†è¿‡æœŸä¸Šä¸‹æ–‡</span>
  <span class="hljs-title function_">cleanupExpiredContexts</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> expireTime = <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>; <span class="hljs-comment">// 24å°æ—¶</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [userId, context] <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userContexts</span>.<span class="hljs-title function_">entries</span>()) {
      <span class="hljs-keyword">if</span> (now - context.<span class="hljs-property">lastMessageTime</span> &gt; expireTime) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">userContexts</span>.<span class="hljs-title function_">delete</span>(userId);
      }
    }
  }
}

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title class_">IntelligentRouter</span>;
</code></pre>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// è¿›ç¨‹æ± ç®¡ç† q-pool-manager.js</span>
<span class="hljs-keyword">const</span> { spawn } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">EventEmitter</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'events'</span>);

<span class="hljs-keyword">class</span> <span class="hljs-title class_">QProcessPool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">EventEmitter</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">maxProcesses = <span class="hljs-number">5</span></span>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxProcesses</span> = maxProcesses;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeProcesses</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">processCount</span> = <span class="hljs-number">0</span>;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">message, agentName = <span class="hljs-string">''</span>, messageId = <span class="hljs-literal">null</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = {
        message,
        agentName,
        resolve,
        reject,
        <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
        messageId
      };

      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">processCount</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxProcesses</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startProcess</span>(request);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">push</span>(request);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¯·æ±‚æ’é˜Ÿï¼Œå½“å‰é˜Ÿåˆ—é•¿åº¦: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.queue.length}</span>`</span>);
      }
    });
  }

  <span class="hljs-title function_">startProcess</span>(<span class="hljs-params">request</span>) {
    <span class="hljs-keyword">const</span> processId = <span class="hljs-string">`q_<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>_<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">2</span>, <span class="hljs-number">9</span>)}</span>`</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">processCount</span>++;

    <span class="hljs-keyword">const</span> args = [<span class="hljs-string">'chat'</span>, <span class="hljs-string">'--trust-all-tools'</span>, <span class="hljs-string">'--no-interactive'</span>];
    <span class="hljs-keyword">if</span> (request.<span class="hljs-property">agentName</span>) {
      args.<span class="hljs-title function_">push</span>(<span class="hljs-string">'--agent'</span>, request.<span class="hljs-property">agentName</span>);
    }

    <span class="hljs-keyword">const</span> qProcess = <span class="hljs-title function_">spawn</span>(<span class="hljs-string">'/home/ubuntu/.local/bin/q'</span>, args, {
      <span class="hljs-attr">stdio</span>: [<span class="hljs-string">'pipe'</span>, <span class="hljs-string">'pipe'</span>, <span class="hljs-string">'pipe'</span>],
      <span class="hljs-attr">env</span>: { ...process.<span class="hljs-property">env</span>, <span class="hljs-attr">TERM</span>: <span class="hljs-string">'xterm'</span>, <span class="hljs-attr">PATH</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">PATH</span> + <span class="hljs-string">':/home/ubuntu/.local/bin'</span> }
    });

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeProcesses</span>.<span class="hljs-title function_">set</span>(processId, {
      <span class="hljs-attr">process</span>: qProcess,
      request,
      <span class="hljs-attr">startTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    });

    <span class="hljs-keyword">let</span> output = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">let</span> hasResponded = <span class="hljs-literal">false</span>;

    <span class="hljs-comment">// 90ç§’è¶…æ—¶ (ç»™å¤æ‚åˆ†æå……è¶³æ—¶é—´)</span>
    <span class="hljs-keyword">const</span> timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (!hasResponded) {
        hasResponded = <span class="hljs-literal">true</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cleanupProcess</span>(processId);
        request.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å¤æ‚åˆ†æå¤„ç†æ—¶é—´è¾ƒé•¿ï¼Œè¯·å°è¯•ç®€åŒ–é—®é¢˜æˆ–ç¨åé‡è¯•'</span>));
      }
    }, <span class="hljs-number">90000</span>);

    qProcess.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
      output += data.<span class="hljs-title function_">toString</span>();
    });

    qProcess.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">(<span class="hljs-params">code</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (!hasResponded) {
        hasResponded = <span class="hljs-literal">true</span>;
        <span class="hljs-built_in">clearTimeout</span>(timeout);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cleanupProcess</span>(processId);

        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0</span>) {
          request.<span class="hljs-title function_">resolve</span>(output.<span class="hljs-title function_">trim</span>());
        } <span class="hljs-keyword">else</span> {
          request.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Q CLI é€€å‡ºç : <span class="hljs-subst">${code}</span>`</span>));
        }
      }
    });

    qProcess.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (!hasResponded) {
        hasResponded = <span class="hljs-literal">true</span>;
        <span class="hljs-built_in">clearTimeout</span>(timeout);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cleanupProcess</span>(processId);
        request.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Q CLI é”™è¯¯: <span class="hljs-subst">${err.message}</span>`</span>));
      }
    });

    <span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
    qProcess.<span class="hljs-property">stdin</span>.<span class="hljs-title function_">write</span>(request.<span class="hljs-property">message</span> + <span class="hljs-string">'\n'</span>);
    qProcess.<span class="hljs-property">stdin</span>.<span class="hljs-title function_">end</span>();

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¯åŠ¨è¿›ç¨‹ <span class="hljs-subst">${processId}</span>, å½“å‰æ´»è·ƒè¿›ç¨‹: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.processCount}</span>`</span>);
  }

  <span class="hljs-title function_">cleanupProcess</span>(<span class="hljs-params">processId</span>) {
    <span class="hljs-keyword">const</span> processInfo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeProcesses</span>.<span class="hljs-title function_">get</span>(processId);
    <span class="hljs-keyword">if</span> (processInfo) {
      <span class="hljs-keyword">try</span> {
        processInfo.<span class="hljs-property">process</span>.<span class="hljs-title function_">kill</span>();
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-comment">// è¿›ç¨‹å¯èƒ½å·²ç»ç»“æŸ</span>
      }
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeProcesses</span>.<span class="hljs-title function_">delete</span>(processId);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">processCount</span>--;

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ¸…ç†è¿›ç¨‹ <span class="hljs-subst">${processId}</span>, å‰©ä½™æ´»è·ƒè¿›ç¨‹: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.processCount}</span>`</span>);

      <span class="hljs-comment">// å¤„ç†é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªè¯·æ±‚</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">const</span> nextRequest = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">shift</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startProcess</span>(nextRequest);
      }
    }
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">activeProcesses</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">processCount</span>,
      <span class="hljs-attr">queueLength</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">maxProcesses</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxProcesses</span>
    };
  }
}

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title class_">QProcessPool</span>;
</code></pre>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-comment">// é™æµå™¨ rate-limiter.js</span>
class RateLimiter <span class="hljs-punctuation">{</span>
  constructor(maxRequests = <span class="hljs-number">10</span><span class="hljs-punctuation">,</span> windowMs = <span class="hljs-number">60000</span>) <span class="hljs-punctuation">{</span> <span class="hljs-comment">// æ¯åˆ†é’Ÿæœ€å¤š10ä¸ªè¯·æ±‚</span>
    this.maxRequests = maxRequests;
    this.windowMs = windowMs;
    this.users = new Map();
  <span class="hljs-punctuation">}</span>

  isAllowed(userId) <span class="hljs-punctuation">{</span>
    const now = Date.now();
    const userRecord = this.users.get(userId) || <span class="hljs-punctuation">{</span> requests<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> blocked<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span> <span class="hljs-punctuation">}</span>;

    <span class="hljs-comment">// æ¸…ç†è¿‡æœŸè¯·æ±‚</span>
    userRecord.requests = userRecord.requests.filter(time =&gt; now - time &lt; this.windowMs);

    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¶…è¿‡é™åˆ¶</span>
    if (userRecord.requests.length &gt;= this.maxRequests) <span class="hljs-punctuation">{</span>
      userRecord.blocked = <span class="hljs-literal"><span class="hljs-keyword">true</span></span>;
      this.users.set(userId<span class="hljs-punctuation">,</span> userRecord);
      return <span class="hljs-literal"><span class="hljs-keyword">false</span></span>;
    <span class="hljs-punctuation">}</span>

    <span class="hljs-comment">// è®°å½•æ–°è¯·æ±‚</span>
    userRecord.requests.push(now);
    userRecord.blocked = <span class="hljs-literal"><span class="hljs-keyword">false</span></span>;
    this.users.set(userId<span class="hljs-punctuation">,</span> userRecord);

    return <span class="hljs-literal"><span class="hljs-keyword">true</span></span>;
  <span class="hljs-punctuation">}</span>

  getRemainingRequests(userId) <span class="hljs-punctuation">{</span>
    const userRecord = this.users.get(userId);
    if (!userRecord) return this.maxRequests;

    const now = Date.now();
    const validRequests = userRecord.requests.filter(time =&gt; now - time &lt; this.windowMs);
    return Math.max(<span class="hljs-number">0</span><span class="hljs-punctuation">,</span> this.maxRequests - validRequests.length);
  <span class="hljs-punctuation">}</span>

  cleanup() <span class="hljs-punctuation">{</span>
    const now = Date.now();
    for (const <span class="hljs-punctuation">[</span>userId<span class="hljs-punctuation">,</span> userRecord<span class="hljs-punctuation">]</span> of this.users.entries()) <span class="hljs-punctuation">{</span>
      userRecord.requests = userRecord.requests.filter(time =&gt; now - time &lt; this.windowMs);
      if (userRecord.requests.length === <span class="hljs-number">0</span>) <span class="hljs-punctuation">{</span>
        this.users.delete(userId);
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

module.exports = RateLimiter;
</code></pre>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-comment">// Feishu Server Systemd</span>
<span class="hljs-punctuation">[</span>Unit<span class="hljs-punctuation">]</span>
Description=Feishu Server
After=network.target

<span class="hljs-punctuation">[</span>Service<span class="hljs-punctuation">]</span>
Type=simple
User=ubuntu
Group=ubuntu
WorkingDirectory=/home/ubuntu/feishu
ExecStart=/usr/bin/node server.js
Restart=always
RestartSec=<span class="hljs-number">10</span>
Environment=NODE_ENV=production
Environment=PATH=/usr/local/sbin<span class="hljs-punctuation">:</span>/usr/local/bin<span class="hljs-punctuation">:</span>/usr/sbin<span class="hljs-punctuation">:</span>/usr/bin<span class="hljs-punctuation">:</span>/sbin<span class="hljs-punctuation">:</span>/bin<span class="hljs-punctuation">:</span>/home/ubuntu/.local/bin

<span class="hljs-punctuation">[</span>Install<span class="hljs-punctuation">]</span>
WantedBy=multi-user.target
</code></pre>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-comment">// nginx.conf Nginxä»£ç†</span>
server <span class="hljs-punctuation">{</span>
    listen <span class="hljs-number">443</span> ssl;
    server_name amazonq.moveinsync.cn;

    ssl_certificate /home/ubuntu/feishu-webhook/cert.pem;
    ssl_certificate_key /home/ubuntu/feishu-webhook/key.pem;

    location / <span class="hljs-punctuation">{</span>
        proxy_pass https<span class="hljs-punctuation">:</span><span class="hljs-comment">//127.0.0.1:8443;</span>
        proxy_ssl_verify off;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-7">8. æ•ˆæœå±•ç¤º</h2>
<h3 data-id="heading-8">8.1Â ç›´æ¥ä½¿ç”¨Amazon Q</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F28%2Fcli-5.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/28/cli-5.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b3ad8db9fd14e11b1c6bcdd2ce66cee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=WQ%2F7OFs3b1qaG9xixVm5AbOpFxs%3D" alt="" loading="lazy"/></a></p>
<h3 data-id="heading-9">8.2Â æ¥å…¥Anspire AI Search MCP Serverå</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F28%2Fcli-6.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/28/cli-6.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6f7f787d33b4945b344e5a00c0f66ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=T%2Fyr%2FcqXEPvrl7QT65FUqBdipis%3D" alt="" loading="lazy"/></a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F28%2Fcli-7.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/28/cli-7.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af8cf0d16ff748e2baf26ef5a5696510~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=9VGJo1SAAGl1%2FvrzvaH5KL%2BfoO8%3D" alt="" loading="lazy"/></a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F28%2Fcli-8.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/28/cli-8.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e12d6879ade4616b9d9a073a9720692~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=itPFDRd7neioaYSy144x%2BqUgjhY%3D" alt="" loading="lazy"/></a></p>
<h2 data-id="heading-10">9. ä¼˜åŠ¿æ€»ç»“</h2>
<p>ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯ï¼Œé‡‡ç”¨Amazon Q Developer CLIå¤šAgentæ¶æ„çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ä¸“ä¸šåˆ†å·¥<br/>
ç»†åˆ†è§’è‰²çš„Agentå®ç°ä¸“ä¸šåŒ–å¤„ç†ï¼Œä¿è¯åˆ†ææ·±åº¦ä¸å¤šç»´åº¦è¦†ç›–ï¼Œçµæ´»çš„æ™ºèƒ½è·¯ç”±ã€‚</li>
<li>é«˜å¹¶å‘è¯·æ±‚å¤„ç†èƒ½åŠ›<br/>
è¿›ç¨‹æ± æ¶æ„æ”¯æŒå¤šä¸ªAmazon Q CLIä»»åŠ¡å¹¶è¡Œï¼Œä¿è¯ä¸šåŠ¡å“åº”åŠæ—¶ï¼Œé€‚åˆä¼ä¸šçº§æœåŠ¡éœ€æ±‚ã€‚</li>
<li>æ™ºèƒ½æœç´¢èƒ½åŠ›åŠ æŒ<br/>
Anspire AI Searchä¸ºå¤šAgentæä¾›å¼ºå¤§è¯­ä¹‰æ£€ç´¢ï¼Œçªç ´ä¼ ç»Ÿå…³é”®è¯æœç´¢ç“¶é¢ˆï¼Œæå‡ä¿¡æ¯è·å–å’Œä¸šåŠ¡æ´å¯Ÿè´¨é‡ã€‚</li>
<li>ä¸ç°æœ‰ç”Ÿæ€ç³»ç»Ÿè‰¯å¥½é›†æˆ<br/>
æ·±åº¦èå…¥é£ä¹¦åä½œå¹³å°ï¼Œç®€åŒ–ç”¨æˆ·äº¤äº’è·¯å¾„ï¼Œä½¿å¸‚åœºåˆ†ææœåŠ¡æ›´åŠ å¯è§¦è¾¾å’Œæ˜“ç”¨ã€‚</li>
<li>å®‰å…¨ç¨³å®šï¼Œæ˜“äºæ‰©å±•<br/>
é¢„è®¾é™æµã€å»é‡åŠHTTPSå®‰å…¨é€šä¿¡ç­–ç•¥ï¼Œç»“åˆæ¨¡å—åŒ–Agentè®¾è®¡ï¼Œä¿è¯ç³»ç»Ÿé•¿æœŸç¨³å®šè¿è¡Œå¹¶æ”¯æŒå¿«é€Ÿè¿­ä»£å‡çº§ã€‚</li>
</ul>
<p>è¯¥æ–¹æ¡ˆå°†Amazon Q Developer CLIçš„å¤šAgentèƒ½åŠ›ã€ä¸“ä¸šåŒ–å¸‚åœºåˆ†æè§’è‰²å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fanchnet.com%2F" target="_blank" title="https://anchnet.com/" ref="nofollow noopener noreferrer">å®‰ç•…</a><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.anspire.cn%2F" target="_blank" title="https://open.anspire.cn/" ref="nofollow noopener noreferrer">Anspire</a>Â AIè¯­ä¹‰æœç´¢æŠ€æœ¯è¿›è¡Œèåˆï¼Œé€‚ç”¨äºä¼ä¸šçº§å¤æ‚å¸‚åœºåˆ†æå’Œè¥é”€ç­–ç•¥åˆ¶å®šåœºæ™¯ï¼Œæå¤§æå‡æ™ºèƒ½åŒ–æ°´å¹³å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<h2 data-id="heading-11">10. æŠ€æœ¯ææ–™å‚è€ƒï¼š</h2>
<ol>
<li>
<p>å®‰ç•…AI Agentå¼€å‘å¹³å°æŒ‡å—ï¼š</p>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.anspire.cn%2F" target="_blank" title="https://open.anspire.cn/" ref="nofollow noopener noreferrer">AIè”ç½‘æœç´¢ã€å¤šè½®æ”¹å†™ã€Anspire Browser Agentç­‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.anspire.cn%2Fdocument%2Fdocs%2FmcpServer%2F" target="_blank" title="https://open.anspire.cn/document/docs/mcpServer/" ref="nofollow noopener noreferrer">å¼€å‘å¹³å°å¸®åŠ©æ–‡æ¡£</a></li>
</ol>
</li>
<li>
<p>Amazon Q Developer CLI æŒ‡å—ï¼š</p>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.aws.amazon.com%2Fzh_cn%2Famazonq%2Flatest%2Fqdeveloper-ug%2Fcommand-line-installing.html" target="_blank" title="https://docs.aws.amazon.com/zh_cn/amazonq/latest/qdeveloper-ug/command-line-installing.html" ref="nofollow noopener noreferrer">Linuxå®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.aws.amazon.com%2Fzh_cn%2Famazonq%2Flatest%2Fqdeveloper-ug%2Fcommand-line-custom-agents-defining.html" target="_blank" title="https://docs.aws.amazon.com/zh_cn/amazonq/latest/qdeveloper-ug/command-line-custom-agents-defining.html" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰Agents</a></li>
</ol>
</li>
</ol>
<p>*å‰è¿°ç‰¹å®šäºšé©¬é€Šäº‘ç§‘æŠ€ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ç›¸å…³çš„æœåŠ¡ç›®å‰åœ¨äºšé©¬é€Šäº‘ç§‘æŠ€æµ·å¤–åŒºåŸŸå¯ç”¨ã€‚äºšé©¬é€Šäº‘ç§‘æŠ€ä¸­å›½åŒºåŸŸç›¸å…³äº‘æœåŠ¡ç”±è¥¿äº‘æ•°æ®å’Œå…‰ç¯æ–°ç½‘è¿è¥ï¼Œå…·ä½“ä¿¡æ¯ä»¥ä¸­å›½åŒºåŸŸå®˜ç½‘ä¸ºå‡†ã€‚</p>
<p><strong>æœ¬ç¯‡ä½œè€…</strong>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/015d70512875489bb302c40c38bba79f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766752780&amp;x-signature=j%2ByjcZ1yAvm8EgK4ZPcTHiuTftA%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æœ¬æœŸæœ€æ–°å®éªŒä¸ºã€ŠAgentic AI å¸®ä½ åšåº”ç”¨ â€”â€” ä»0åˆ°1æ‰“é€ è‡ªå·±çš„æ™ºèƒ½ç•ªèŒ„é’Ÿã€‹</p>
<p>âœ¨è‡ªç„¶è¯­è¨€ç©è½¬å‘½ä»¤è¡Œï¼Œ10åˆ†é’Ÿå¸®ä½ æ„å»ºåº”ç”¨ï¼Œ1å°æ—¶æå®šæ–°åŠŸèƒ½æ‹“å±•ã€æµ‹è¯•ä¼˜åŒ–ã€æ–‡æ¡£æ³¨é‡Šå’Œéƒ¨ç½²</p>
<p>ğŸ’ª å…è´¹ä½“éªŒä¼ä¸šçº§ AI å¼€å‘å·¥å…·ï¼Œè´¨é‡+å®‰å…¨å…¨æŒæ§</p>
<p>â©ï¸[<a href="https://link.juejin.cn?target=https%3A%2F%2Fevents.amazoncloud.cn%2Flabs%2Fcloudlab-amazon-q-cli-and-ide-build%3Fvisitfrom%3D3P_Juejintail_1216%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejintail_1216" target="_blank" title="https://events.amazoncloud.cn/labs/cloudlab-amazon-q-cli-and-ide-build?visitfrom=3P_Juejintail_1216&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejintail_1216" ref="nofollow noopener noreferrer">ç‚¹å‡»è¿›å…¥å®éªŒ</a>] å³åˆ»å¼€å¯  AI å¼€å‘ä¹‹æ—…
æ„å»ºæ— é™, æ¢ç´¢å¯ç¨‹ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œé‚®ä»¶ä¸‹è½½å™¨ä½¿ç”¨è¯´æ˜]]></title>    <link>https://juejin.cn/post/7585214391828824107</link>    <guid>https://juejin.cn/post/7585214391828824107</guid>    <pubDate>2025-12-19T11:09:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585214391828824107" data-draft-id="7585171571130138660" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œé‚®ä»¶ä¸‹è½½å™¨ä½¿ç”¨è¯´æ˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T11:09:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±ŸåŸå¼€æœ—çš„è±Œè±†"/> <meta itemprop="url" content="https://juejin.cn/user/3307789418773736"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œé‚®ä»¶ä¸‹è½½å™¨ä½¿ç”¨è¯´æ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3307789418773736/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±ŸåŸå¼€æœ—çš„è±Œè±†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T11:09:14.000Z" title="Fri Dec 19 2025 11:09:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é‚®ä»¶ä¸‹è½½å™¨ä½¿ç”¨è¯´æ˜</h2>
<h3 data-id="heading-1">ğŸ“‹ é¡¹ç›®ç®€ä»‹</h3>
<p>è¿™æ˜¯ä¸€ä¸ªåŸºäºNode.jsçš„é‚®ä»¶è‡ªåŠ¨ä¸‹è½½å’Œåˆ†ç±»å·¥å…·ï¼Œèƒ½å¤Ÿé€šè¿‡IMAPåè®®è¿æ¥åˆ°é‚®ç®±æœåŠ¡å™¨ï¼Œè‡ªåŠ¨ä¸‹è½½æ‰€æœ‰é‚®ä»¶å¹¶æŒ‰ç…§è”ç³»äººè¿›è¡Œåˆ†ç±»ä¿å­˜ã€‚</p>
<h3 data-id="heading-2">ğŸ—‚ï¸ ç›®å½•ç»“æ„</h3>
<p>ç¨‹åºè¿è¡Œåä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">E:\é‚®ç®±ä¸‹è½½\pds_server\åˆ†ç±»é‚®ä»¶åº“\</span>
<span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-string">æ”¶ä»¶ç®±\</span>                           <span class="hljs-comment"># æ‰€æœ‰æ”¶åˆ°çš„é‚®ä»¶</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-string">æ¥è‡ª_è”ç³»äººA\</span>                  <span class="hljs-comment"># æŸä¸ªè”ç³»äººå‘æ¥çš„é‚®ä»¶</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-number">2024-01</span><span class="hljs-string">-01_é‚®ä»¶ä¸»é¢˜.eml</span>   <span class="hljs-comment"># é‚®ä»¶åŸå§‹æ–‡ä»¶</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-string">é™„ä»¶\</span>                      <span class="hljs-comment"># è¯¥è”ç³»äººçš„æ‰€æœ‰é™„ä»¶</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-string">1640995200000_æ–‡ä»¶1.pdf</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â””â”€â”€</span> <span class="hljs-string">1640995200000_å›¾ç‰‡.jpg</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â””â”€â”€</span> <span class="hljs-string">_index.json</span>               <span class="hljs-comment"># è¯¥è”ç³»äººé‚®ä»¶ç´¢å¼•</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-string">æ¥è‡ª_è”ç³»äººB\</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â””â”€â”€</span> <span class="hljs-string">...</span>
<span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-string">å·²å‘é€\</span>                           <span class="hljs-comment"># æ‰€æœ‰å‘é€çš„é‚®ä»¶</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-string">å‘ç»™_è”ç³»äººA\</span>                  <span class="hljs-comment"># å‘é€ç»™æŸä¸ªè”ç³»äººçš„é‚®ä»¶</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-number">2024-01</span><span class="hljs-string">-01_å›å¤é‚®ä»¶.eml</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-string">é™„ä»¶\</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â”‚</span>   <span class="hljs-string">â””â”€â”€</span> <span class="hljs-string">_index.json</span>
<span class="hljs-string">â”‚</span>   <span class="hljs-string">â””â”€â”€</span> <span class="hljs-string">...</span>
<span class="hljs-string">â””â”€â”€</span> <span class="hljs-string">_ä¸‹è½½è®°å½•.json</span>                    <span class="hljs-comment"># å…¨å±€ä¸‹è½½è®°å½•æ–‡ä»¶</span>
</code></pre>
<h3 data-id="heading-3">ğŸ“ æ–‡ä»¶è¯´æ˜</h3>
<h4 data-id="heading-4">é‚®ä»¶æ–‡ä»¶ (.eml)</h4>
<ul>
<li><strong>æ ¼å¼</strong>ï¼šæ ‡å‡†RFC 822é‚®ä»¶æ ¼å¼</li>
<li><strong>å‘½åè§„åˆ™</strong>ï¼š<code>æ—¥æœŸ_ä¸»é¢˜.eml</code>
<ul>
<li>æ—¥æœŸæ ¼å¼ï¼š<code>YYYY-MM-DD</code></li>
<li>ä¸»é¢˜ï¼šè‡ªåŠ¨æ›¿æ¢ç‰¹æ®Šå­—ç¬¦ï¼Œæœ€å¤š50ä¸ªå­—ç¬¦</li>
</ul>
</li>
<li><strong>ç”¨é€”</strong>ï¼šå¯ç”¨Outlookã€Foxmailç­‰é‚®ä»¶å®¢æˆ·ç«¯æ‰“å¼€</li>
</ul>
<h4 data-id="heading-5">é™„ä»¶æ–‡ä»¶</h4>
<ul>
<li><strong>å­˜å‚¨ä½ç½®</strong>ï¼šå„è”ç³»äººç›®å½•ä¸‹çš„<code>é™„ä»¶</code>æ–‡ä»¶å¤¹</li>
<li><strong>å‘½åè§„åˆ™</strong>ï¼š<code>æ—¶é—´æˆ³_åŸæ–‡ä»¶å</code></li>
<li><strong>æ—¶é—´æˆ³</strong>ï¼šé˜²æ­¢é‡åæ–‡ä»¶å†²çª</li>
<li><strong>æ”¯æŒæ ¼å¼</strong>ï¼šæ‰€æœ‰ç±»å‹çš„é‚®ä»¶é™„ä»¶</li>
</ul>
<h4 data-id="heading-6">ç´¢å¼•æ–‡ä»¶ (_index.json)</h4>
<p>æ¯ä¸ªè”ç³»äººç›®å½•ä¸‹éƒ½ä¼šç”Ÿæˆä¸€ä¸ªç´¢å¼•æ–‡ä»¶ï¼ŒåŒ…å«ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"emails"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"seqno"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"subject"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é‚®ä»¶ä¸»é¢˜"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"date"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-01-01T12:00:00.000Z"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"emlFile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-01-01_é‚®ä»¶ä¸»é¢˜.eml"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"infoFile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é‚®ä»¶ä¿¡æ¯.json"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"hasAttachments"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-7">ä¸‹è½½è®°å½•æ–‡ä»¶ (_ä¸‹è½½è®°å½•.json)</h4>
<p>å…¨å±€ä¸‹è½½è®°å½•ï¼Œè®°å½•æ‰€æœ‰å·²ä¸‹è½½é‚®ä»¶çš„UIDï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"downloadedUids"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">12345</span><span class="hljs-punctuation">,</span> <span class="hljs-number">12346</span><span class="hljs-punctuation">,</span> <span class="hljs-number">12347</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"inboxTotal"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">364</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sentTotal"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"inboxProcessed"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sentProcessed"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"lastUpdate"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-01-01T12:00:00.000Z"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-8">ğŸš€ ä½¿ç”¨æ–¹æ³•</h3>
<h4 data-id="heading-9">1. ç¯å¢ƒå‡†å¤‡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…Node.jsä¾èµ–</span>
npm install

<span class="hljs-comment"># ç¡®ä¿å®‰è£…äº†å¿…è¦çš„åŒ…</span>
npm install imap mailparser cli-progress
</code></pre>
<h4 data-id="heading-10">2. é…ç½®é‚®ç®±ä¿¡æ¯</h4>
<p>åœ¨ä»£ç ä¸­ä¿®æ”¹é‚®ç®±é…ç½®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">EMAIL_USER</span> = <span class="hljs-string">'your-email@example.com'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">EMAIL_PASSWORD</span> = <span class="hljs-string">'your-password'</span>;
</code></pre>
<h4 data-id="heading-11">3. è¿è¡Œç¨‹åº</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> E:\é‚®ç®±ä¸‹è½½\pds_server
node routes/email.js
</code></pre>
<h4 data-id="heading-12">4. æŸ¥çœ‹ä¸‹è½½è¿›åº¦</h4>
<p>ç¨‹åºä¼šå®æ—¶æ˜¾ç¤ºï¼š</p>
<ul>
<li>è¿æ¥çŠ¶æ€</li>
<li>å¤„ç†è¿›åº¦</li>
<li>ä¸‹è½½é€Ÿåº¦</li>
<li>é”™è¯¯ä¿¡æ¯</li>
</ul>
<h3 data-id="heading-13">âš™ï¸ åŠŸèƒ½ç‰¹æ€§</h3>
<h4 data-id="heading-14">âœ¨ ä¸»è¦åŠŸèƒ½</h4>
<ul>
<li><strong>è‡ªåŠ¨åˆ†ç±»</strong>ï¼šæŒ‰å‘ä»¶äºº/æ”¶ä»¶äººè‡ªåŠ¨åˆ†ç±»</li>
<li><strong>æ–­ç‚¹ç»­ä¼ </strong>ï¼šæ”¯æŒä¸­æ–­åç»§ç»­ä¸‹è½½</li>
<li><strong>é™„ä»¶å¤„ç†</strong>ï¼šè‡ªåŠ¨ä¿å­˜æ‰€æœ‰é™„ä»¶</li>
<li><strong>è¿›åº¦æ˜¾ç¤º</strong>ï¼šå®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦å’Œé€Ÿåº¦</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šè‡ªåŠ¨è·³è¿‡é—®é¢˜é‚®ä»¶ï¼Œç»§ç»­å¤„ç†</li>
</ul>
<h4 data-id="heading-15">ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹</h4>
<ul>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šæ”¯æŒæ‰¹æ¬¡ä¸‹è½½ï¼Œæé«˜æ•ˆç‡</li>
<li><strong>è¶…æ—¶ä¿æŠ¤</strong>ï¼š30ç§’è¶…æ—¶æœºåˆ¶ï¼Œé˜²æ­¢å¡æ­»</li>
<li><strong>å¹¶å‘æ§åˆ¶</strong>ï¼šåˆç†æ§åˆ¶å¹¶å‘æ•°é‡ï¼Œé¿å…æœåŠ¡å™¨å‹åŠ›</li>
<li><strong>å¢é‡æ›´æ–°</strong>ï¼šåªä¸‹è½½æ–°é‚®ä»¶ï¼Œè·³è¿‡å·²ä¸‹è½½é‚®ä»¶</li>
</ul>
<h3 data-id="heading-16">ğŸ“Š æ€§èƒ½å‚æ•°</h3>
<ul>
<li><strong>æ‰¹æ¬¡å¤§å°</strong>ï¼š5å°é‚®ä»¶/æ‰¹æ¬¡ï¼ˆå¯è°ƒæ•´ï¼‰</li>
<li><strong>è¶…æ—¶æ—¶é—´</strong>ï¼š30ç§’/é‚®ä»¶</li>
<li><strong>ä¼‘æ¯é—´éš”</strong>ï¼šæ¯20å°é‚®ä»¶ä¼‘æ¯1ç§’</li>
<li><strong>è®°å½•ä¿å­˜</strong>ï¼šæ¯10å°é‚®ä»¶ä¿å­˜ä¸€æ¬¡è®°å½•</li>
</ul>
<h3 data-id="heading-17">ğŸ›¡ï¸ å®‰å…¨è¯´æ˜</h3>
<h4 data-id="heading-18">é‚®ç®±å®‰å…¨</h4>
<ul>
<li>å»ºè®®ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç è€Œéä¸»å¯†ç </li>
<li>æ”¯æŒSSL/TLSåŠ å¯†è¿æ¥</li>
<li>ä¸ä¼šæ ‡è®°é‚®ä»¶ä¸ºå·²è¯»</li>
</ul>
<h4 data-id="heading-19">æ•°æ®å®‰å…¨</h4>
<ul>
<li>æ‰€æœ‰æ•°æ®ä¿å­˜åœ¨æœ¬åœ°</li>
<li>ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•äº‘æœåŠ¡</li>
<li>å»ºè®®å®šæœŸå¤‡ä»½é‚®ä»¶æ–‡ä»¶</li>
</ul>
<h3 data-id="heading-20">ğŸ”§ æ•…éšœæ’é™¤</h3>
<h4 data-id="heading-21">å¸¸è§é—®é¢˜</h4>
<ol>
<li>
<p><strong>è¿æ¥å¤±è´¥</strong></p>
<ul>
<li>æ£€æŸ¥é‚®ç®±å¯†ç æ˜¯å¦æ­£ç¡®</li>
<li>ç¡®è®¤IMAPæœåŠ¡æ˜¯å¦å¼€å¯</li>
<li>æ£€æŸ¥ç½‘ç»œè¿æ¥</li>
</ul>
</li>
<li>
<p><strong>ä¸‹è½½å¡ä½</strong></p>
<ul>
<li>ç¨‹åºä¼šè‡ªåŠ¨è¶…æ—¶è·³è¿‡</li>
<li>å¯ä»¥Ctrl+Cä¸­æ–­ï¼Œä¸‹æ¬¡è¿è¡Œä¼šç»§ç»­</li>
</ul>
</li>
<li>
<p><strong>æ–‡ä»¶ä¿å­˜å¤±è´¥</strong></p>
<ul>
<li>æ£€æŸ¥ç£ç›˜ç©ºé—´</li>
<li>ç¡®è®¤å†™å…¥æƒé™</li>
<li>æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦åŒ…å«ç‰¹æ®Šå­—ç¬¦</li>
</ul>
</li>
</ol>
<h4 data-id="heading-22">æ—¥å¿—åˆ†æ</h4>
<p>ç¨‹åºä¼šè¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼š</p>
<ul>
<li><code>âœ… æˆåŠŸä¸‹è½½</code>ï¼šé‚®ä»¶ä¸‹è½½æˆåŠŸ</li>
<li><code>â­ï¸ å·²è·³è¿‡</code>ï¼šé‚®ä»¶å·²å­˜åœ¨æˆ–è¶…æ—¶</li>
<li><code>âŒ å¤±è´¥</code>ï¼šå¤„ç†å‡ºé”™ï¼Œå¯æ‰‹åŠ¨æŸ¥çœ‹</li>
</ul>
<h3 data-id="heading-23">ğŸ“ˆ ç»Ÿè®¡ä¿¡æ¯</h3>
<p>ç¨‹åºè¿è¡Œå®Œæˆåä¼šæ˜¾ç¤ºï¼š</p>
<ul>
<li>æ€»é‚®ä»¶æ•°é‡</li>
<li>æˆåŠŸä¸‹è½½æ•°é‡</li>
<li>è·³è¿‡é‡å¤æ•°é‡</li>
<li>å¤„ç†å¤±è´¥æ•°é‡</li>
<li>æ€»è€—æ—¶å’Œå¹³å‡é€Ÿåº¦</li>
<li>è”ç³»äººé‚®ä»¶åˆ†å¸ƒç»Ÿè®¡</li>
</ul>
<h3 data-id="heading-24">ğŸ’¡ ä½¿ç”¨å»ºè®®</h3>
<ol>
<li><strong>é¦–æ¬¡è¿è¡Œ</strong>ï¼šå»ºè®®åœ¨ç½‘ç»œè‰¯å¥½æ—¶è¿è¡Œ</li>
<li><strong>å¤§é‡é‚®ä»¶</strong>ï¼šåˆ†æ—¶æ®µè¿è¡Œï¼Œé¿å…æœåŠ¡å™¨é™åˆ¶</li>
<li><strong>å®šæœŸå¤‡ä»½</strong>ï¼šå®šæœŸå¤‡ä»½<code>åˆ†ç±»é‚®ä»¶åº“</code>æ–‡ä»¶å¤¹</li>
<li><strong>æŸ¥çœ‹é‚®ä»¶</strong>ï¼šä½¿ç”¨é‚®ä»¶å®¢æˆ·ç«¯æ‰“å¼€.emlæ–‡ä»¶</li>
</ol>
<h3 data-id="heading-25">ğŸ“ æŠ€æœ¯æ”¯æŒ</h3>
<p>å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š</p>
<ol>
<li>Node.jsç‰ˆæœ¬ï¼ˆå»ºè®®14+ï¼‰</li>
<li>ç½‘ç»œè¿æ¥çŠ¶æ€</li>
<li>é‚®ç®±IMAPè®¾ç½®</li>
<li>ç£ç›˜ç©ºé—´å’Œæƒé™</li>
</ol>
<hr/>
<p><strong>ç‰ˆæœ¬</strong>ï¼š1.0
<strong>æ›´æ–°æ—¥æœŸ</strong>ï¼š2025-12-19
<strong>å¼€å‘è€…</strong>ï¼šæ±ŸåŸå¼€æœ—çš„è±Œè±†</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Apache Doris 4.0.2 ç‰ˆæœ¬æ­£å¼å‘å¸ƒ]]></title>    <link>https://juejin.cn/post/7585173051647672356</link>    <guid>https://juejin.cn/post/7585173051647672356</guid>    <pubDate>2025-12-19T11:39:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585173051647672356" data-draft-id="7585214391828889643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Apache Doris 4.0.2 ç‰ˆæœ¬æ­£å¼å‘å¸ƒ"/> <meta itemprop="keywords" content="æ•°æ®åº“,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T11:39:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SelectDB"/> <meta itemprop="url" content="https://juejin.cn/user/3189021726222904"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Apache Doris 4.0.2 ç‰ˆæœ¬æ­£å¼å‘å¸ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3189021726222904/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SelectDB
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T11:39:03.000Z" title="Fri Dec 19 2025 11:39:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>äº²çˆ±çš„ç¤¾åŒºå°ä¼™ä¼´ä»¬ï¼Œ**Apache Doris 4.0.2 ç‰ˆæœ¬å·²æ­£å¼å‘å¸ƒã€‚**æ­¤ç‰ˆæœ¬æ–°å¢äº†åœ¨ AI &amp; Searchã€å‡½æ•°ã€ç‰©åŒ–è§†å›¾ã€Lakehouse ç­‰æ–¹é¢çš„åŠŸèƒ½ï¼Œå¹¶åŒæ­¥è¿›è¡Œäº†å¤šé¡¹ä¼˜åŒ–æ”¹è¿›åŠé—®é¢˜ä¿®å¤ï¼Œæ¬¢è¿ä¸‹è½½ä½“éªŒï¼</p>
<ul>
<li>GitHub ä¸‹è½½ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fapache%2Fdoris%2Freleases" target="_blank" title="https://github.com/apache/doris/releases" ref="nofollow noopener noreferrer">github.com/apache/doriâ€¦</a></li>
<li>å®˜ç½‘ä¸‹è½½ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fdownload" target="_blank" title="https://doris.apache.org/download" ref="nofollow noopener noreferrer">doris.apache.org/download</a></li>
</ul>
<h2 data-id="heading-0">æ–°å¢åŠŸèƒ½</h2>
<h3 data-id="heading-1">AI &amp; Search</h3>
<ul>
<li>å€’æ’ç´¢å¼•æ”¯æŒè‡ªå®šä¹‰åˆ†æå™¨ï¼ŒåŒ…å«æ‹¼éŸ³åˆ†è¯å™¨å’Œæ‹¼éŸ³è¿‡æ»¤å™¨</li>
<li>å€’æ’ç´¢å¼•çš„æœç´¢å‡½æ•°æ–°å¢å¤šä½ç½®çŸ­è¯­æŸ¥è¯¢ï¼ˆPhraseQueryï¼‰æ”¯æŒ</li>
<li>æ–°å¢ ANN ç´¢å¼•ä»…æ‰«æèƒ½åŠ›</li>
</ul>
<h3 data-id="heading-2">å‡½æ•°</h3>
<ul>
<li>æ–°å¢ <code>sem</code> èšåˆå‡½æ•°</li>
<li>æ”¯æŒæºè‡ª Hive çš„ <code>factorial</code>ç®€å• SQL å‡½æ•°</li>
<li>éƒ¨åˆ†æ­£åˆ™è¡¨è¾¾å¼å‡½æ•°æ–°å¢é›¶å®½æ–­è¨€æ”¯æŒ</li>
<li>JSON ç±»å‹æ”¯æŒ GROUP BY å’Œ DISTINCT æ“ä½œ</li>
<li>æ–°å¢ add/sub_time æ—¶é—´å‡½æ•°</li>
<li>æ–°å¢ deduplicate_map å‡½æ•°</li>
</ul>
<h3 data-id="heading-3">ç‰©åŒ–è§†å›¾</h3>
<ul>
<li>éåˆ†åŒºåŸºè¡¨æ•°æ®å˜æ›´æ—¶ï¼Œç‰©åŒ–è§†å›¾ä»å¯å‚ä¸é€æ˜æŸ¥è¯¢é‡å†™</li>
<li>åˆ›å»º MTMV æ”¯æŒåŸºäºè§†å›¾åˆ›å»º</li>
<li>MTMV åˆ·æ–°æ”¯æŒå¤š PCT è¡¨</li>
<li>ç‰©åŒ–è§†å›¾åŒ…å«çª—å£å‡½æ•°æ—¶ï¼Œæ”¯æŒçª—å£å‡½æ•°é‡å†™</li>
</ul>
<h3 data-id="heading-4">Lakehouse</h3>
<ul>
<li>æ–°å¢ Doris Catalogï¼Œè¯¥åŠŸèƒ½å…è®¸ç”¨æˆ·é€šè¿‡ Catalog èƒ½åŠ›å…³è”å¤šä¸ªç‹¬ç«‹çš„ Doris é›†ç¾¤å¹¶è¿›è¡Œé«˜æ•ˆçš„è”é‚¦æ•°æ®æŸ¥è¯¢ã€‚è§£å†³ Doris é›†ç¾¤é—´æ•°æ®æ— æ³•å…³è”æŸ¥è¯¢çš„é—®é¢˜ã€‚æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fdocs%2F4.x%2Flakehouse%2Fcatalogs%2Fdoris-catalog" target="_blank" title="https://doris.apache.org/docs/4.x/lakehouse/catalogs/doris-catalog" ref="nofollow noopener noreferrer">doris.apache.org/docs/4.x/laâ€¦</a></li>
<li>æ”¯æŒé€šè¿‡ rewrite_data_files æ–¹æ³•å¯¹ Iceberg è¡¨è¿›è¡Œ compaction æ“ä½œã€‚è¯¥æ“ä½œå…è®¸ç”¨æˆ·å¯¹ Iceberg å°æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œä»è€Œä¼˜åŒ–è¯»å–æ•ˆç‡ã€‚æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fdocs%2F4.x%2Flakehouse%2Fcatalogs%2Ficeberg-catalog%23rewrite_data_files" target="_blank" title="https://doris.apache.org/docs/4.x/lakehouse/catalogs/iceberg-catalog#rewrite_data_files" ref="nofollow noopener noreferrer">doris.apache.org/docs/4.x/laâ€¦</a></li>
<li>æ”¯æŒé€šè¿‡ WARM UP è¯­å¥å¯¹ Hiveã€Icebergã€Paimon ç­‰å¤–éƒ¨è¡¨æ•°æ®è¿›è¡Œç¼“å­˜é¢„çƒ­ã€‚æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fdocs%2F4.x%2Flakehouse%2Fdata-cache%23cache-warmup" target="_blank" title="https://doris.apache.org/docs/4.x/lakehouse/data-cache#cache-warmup" ref="nofollow noopener noreferrer">doris.apache.org/docs/4.x/laâ€¦</a></li>
<li>æ”¯æŒé€šè¿‡ ALTER è¯­å¥å¯¹ Iceberg è¡¨è¿›è¡Œ Partition Evolution æ“ä½œã€‚æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fdocs%2F4.x%2Flakehouse%2Fcatalogs%2Ficeberg-catalog%23partition-evolution" target="_blank" title="https://doris.apache.org/docs/4.x/lakehouse/catalogs/iceberg-catalog#partition-evolution" ref="nofollow noopener noreferrer">doris.apache.org/docs/4.x/laâ€¦</a></li>
<li>æ”¯æŒ HTTP Table Valued Functionï¼Œæ”¯æŒé€šè¿‡ Table Valued Function ç›´æ¥è¯»å– HTTP èµ„æºæ–‡ä»¶ã€‚æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fdocs%2F4.x%2Fsql-manual%2Fsql-functions%2Ftable-valued-functions%2Fhttp" target="_blank" title="https://doris.apache.org/docs/4.x/sql-manual/sql-functions/table-valued-functions/http" ref="nofollow noopener noreferrer">doris.apache.org/docs/4.x/sqâ€¦</a></li>
<li>æ”¯æŒç›´æ¥è®¿é—® Huggingface ä¸Šçš„æ•°æ®é›†ã€‚æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fdocs%2F4.x%2Flakehouse%2Fhuggingface" target="_blank" title="https://doris.apache.org/docs/4.x/lakehouse/huggingface" ref="nofollow noopener noreferrer">doris.apache.org/docs/4.x/laâ€¦</a></li>
<li>æ”¯æŒé€šè¿‡ Iceberg REST Catalog åè®®è®¿é—® Microsoft OneLakeã€‚æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fdocs%2F4.x%2Flakehouse%2Fbest-practices%2Fdoris-onelake" target="_blank" title="https://doris.apache.org/docs/4.x/lakehouse/best-practices/doris-onelake" ref="nofollow noopener noreferrer">doris.apache.org/docs/4.x/laâ€¦</a></li>
<li>æ”¯æŒç›´æ¥æ˜ å°„ Hiveã€Icebergã€Paimonã€JDBC å¤–è¡¨ä¸­çš„ binary ç±»å‹åˆ° Doris çš„ varbinary ç±»å‹ã€‚è¯·å‚é˜…å„ Catalog æ–‡æ¡£çš„ã€åˆ—æ˜ å°„ã€‘å°èŠ‚ã€‚</li>
</ul>
<h2 data-id="heading-5">ä¼˜åŒ–æ”¹è¿›</h2>
<ul>
<li>ä¼˜åŒ– <code>FROM_UNIXTIME</code> å‡½æ•°æ€§èƒ½</li>
<li>ç§»é™¤ PartitionKey æ¯”è¾ƒä¸­çš„ <code>castTo</code>è½¬æ¢æ“ä½œï¼Œæå‡åˆ†åŒºå¤„ç†æ•ˆç‡</li>
<li>é™ä½ Catalog ä¸­ Column ç±»çš„å†…å­˜å ç”¨</li>
<li>Ann ç´¢å¼•è®­ç»ƒå‰ç´¯ç§¯å¤šä¸ªå°æ‰¹æ¬¡æ•°æ®ï¼Œæå‡è®­ç»ƒæ•ˆç‡</li>
<li>å‡çº§ Hadoop ä¾èµ–åˆ° 3.4.2 ç‰ˆæœ¬</li>
<li>ä¼˜åŒ– FE å’Œ BE çš„ä¼˜é›…é€€å‡ºæœºåˆ¶ï¼Œé™ä½èŠ‚ç‚¹é€€å‡ºå¯¹æŸ¥è¯¢çš„å½±å“</li>
<li>ä¼˜åŒ–å¯¹åŒ…å«å¤§é‡åˆ†åŒºçš„ hive è¡¨çš„å†™å…¥çš„æ•ˆç‡</li>
<li>ä¼˜åŒ– Paimon è¡¨ Split å ç”¨å†…å­˜è¿‡å¤§çš„é—®é¢˜</li>
<li>ä¼˜åŒ–å¯¹ Parquet RLE_DICTIONARY ç¼–ç çš„è¯»å–æ•ˆç‡</li>
<li>ä¼˜åŒ– FE å’Œ BE çš„ä¼˜é›…é€€å‡ºæœºåˆ¶ï¼Œé™ä½èŠ‚ç‚¹é€€å‡ºå¯¹æŸ¥è¯¢çš„å½±å“</li>
</ul>
<h2 data-id="heading-6">é—®é¢˜ä¿®å¤</h2>
<h3 data-id="heading-7">æŸ¥è¯¢</h3>
<ul>
<li>ä¿®å¤è¾“å…¥ä¸º null æ—¶ <code>utc_time</code> å‡½æ•°è¿”å›ç»“æœé”™è¯¯çš„é—®é¢˜</li>
<li>ä¿®å¤ UNION ALL ç»“åˆ TVF æ—¶æŠ›å‡ºå¼‚å¸¸çš„é—®é¢˜</li>
<li>ä¿®å¤å”¯ä¸€é”®è¡¨åˆ›å»ºç‰©åŒ–è§†å›¾æ—¶ï¼ŒWHERE å­å¥åŒ…å«éé”®åˆ—çš„é—®é¢˜</li>
<li>ä¿®å¤ window å‡½æ•°ï¼šLAG/LEAD åç§»å‚æ•°æ”¯æŒå¸¸é‡è¡¨è¾¾å¼è®¡ç®—</li>
<li>ä¿®å¤èšåˆå‡½æ•°ï¼šå¯ç©ºåˆ—æŠ•å½±å‰ä¸‹æ¨èšåˆæ“ä½œå¼‚å¸¸ï¼›éç©ºåˆ— count ä¸‹æ¨èšåˆé—®é¢˜</li>
<li>ä¿®å¤æ—¶é—´å‡½æ•°ï¼šsecond/microsecond å‡½æ•°æœªå¤„ç†æ—¶é—´å­—é¢é‡ï¼›time_to_sec å¤„ç† null å€¼æ—¶å› åƒåœ¾å€¼æŠ¥é”™</li>
<li>ä¿®å¤ AI å‡½æ•°ï¼š_exec_plan_fragment_impl è°ƒç”¨ AI å‡½æ•°æ—¶å‡ºç°æœªçŸ¥é”™è¯¯</li>
<li>ä¿®å¤åœ°ç†ä¿¡æ¯ï¼šgeo æ¨¡å—å†…å­˜æ³„æ¼</li>
<li>ä¿®å¤ information_schemaï¼šåç§»æ—¶åŒºæ ¼å¼ä¸å…¼å®¹</li>
</ul>
<h3 data-id="heading-8">ç‰©åŒ–è§†å›¾ä¸æ¨¡å¼å˜æ›´</h3>
<ul>
<li>ä¿®å¤ç‰©åŒ–è§†å›¾åŒ…å«åˆ†ç»„é›†åˆå’Œæ‰«æè¿‡æ»¤å™¨æ—¶é‡å†™å¤±è´¥çš„é—®é¢˜</li>
<li>ä¿®å¤å¤§æµé‡æ¨¡å¼å˜æ›´æ—¶è¯»å–å•è¡Œé›†éé‡å æ®µå¯¼è‡´çš„ coredump é—®é¢˜</li>
</ul>
<h3 data-id="heading-9">å­˜ç®—åˆ†ç¦»</h3>
<ul>
<li>ä¿®å¤ TopN æŸ¥è¯¢ä¸­å¹¿æ’­è¿œç¨‹è¯»å–çš„é—®é¢˜</li>
<li>ä¿®å¤äº‘ç¯å¢ƒä¸‹åˆ é™¤ tablet ä»»åŠ¡å †ç§¯çš„é—®é¢˜</li>
<li>ä¿®å¤äº‘ç¯å¢ƒé¦–æ¬¡å¯åŠ¨æ—¶æœåŠ¡ä¸Šçº¿è€—æ—¶è¿‡é•¿çš„é—®é¢˜</li>
</ul>
<h3 data-id="heading-10">Lakehouse</h3>
<ul>
<li>ä¿®å¤æŸäº›æƒ…å†µä¸‹ï¼ŒHive åˆ†åŒºå˜æ›´å¯¼è‡´å…ƒæ•°æ®ç¼“å­˜ä¸ä¸€è‡´çš„é—®é¢˜</li>
<li>ä¿®å¤å†™å…¥ TIMESTAMP ç±»å‹åˆ†åŒºçš„ Iceberg è¡¨é”™è¯¯çš„é—®é¢˜</li>
<li>ä¿®å¤ Paimon è¡¨ Incremental Read è¡Œä¸ºå’Œ Spark ä¸ä¸€è‡´çš„é—®é¢˜</li>
<li>ä¿®å¤æŸäº›æƒ…å†µä¸‹ï¼Œå¤–è¡¨å…ƒæ•°æ®ç¼“å­˜å¯èƒ½å¯¼è‡´çš„æ­»é”é—®é¢˜</li>
<li>ä¿®å¤ BE ç«¯ s3 client çº¿ç¨‹æ•°ä¸åˆç†å¯¼è‡´çš„ IO ååä½çš„é—®é¢˜</li>
<li>ä¿®å¤æŸäº›æƒ…å†µï¼Œå†™å…¥å­˜å‚¨åœ¨é S3 å¯¹è±¡å­˜å‚¨ä¸Šçš„å¤–è¡¨æ—¶å¤±è´¥çš„é—®é¢˜</li>
<li>ä¿®å¤æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨ query() è¿›è¡Œ JDBC Catalog SQL é€ä¼ å¤±è´¥çš„é—®é¢˜</li>
<li>ä¿®å¤ JNI Reader æ—¶é—´ç»Ÿè®¡å¯¼è‡´è¯»å–æ€§èƒ½ä¸‹é™çš„é—®é¢˜</li>
<li>ä¿®å¤ BE ä¾§ jni.log æ— æ³•æ‰“å°çš„é—®é¢˜</li>
</ul>
<h3 data-id="heading-11">å…¶ä»–</h3>
<ul>
<li>ä¿®å¤åœ¨é Master é˜¶æ®µ UNSET GLOBAL å˜é‡æ—¶é”™è¯¯çš„é—®é¢˜</li>
<li>ä¿®å¤æŸäº›æƒ…å†µä¸‹ï¼Œå¼‚å¸¸çš„ export ä»»åŠ¡æ— æ³•å–æ¶ˆçš„é—®é¢˜</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ19ï¼‰Nettyçš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µæœ‰å“ªäº›ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585391510058631220</link>    <guid>https://juejin.cn/post/7585391510058631220</guid>    <pubDate>2025-12-19T11:59:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585391510058631220" data-draft-id="7585377128490238004" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ19ï¼‰Nettyçš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µæœ‰å“ªäº›ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T11:59:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ19ï¼‰Nettyçš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µæœ‰å“ªäº›ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T11:59:12.000Z" title="Fri Dec 19 2025 11:59:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Nettyæä¾›äº†å¤šç§æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„ä¼˜åŒ–æŠ€æœ¯ï¼Œç»“åˆä»£ç ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è§£é‡Šï¼š</p>
<ol>
<li>ä½¿ç”¨æ± åŒ–çš„ByteBufï¼š
Nettyä¸­çš„ByteBufæä¾›äº†æ± åŒ–çš„åŠŸèƒ½ï¼Œé€šè¿‡é‡ç”¨ByteBufå®ä¾‹ï¼Œå‡å°‘å†…å­˜åˆ†é…å’Œé‡Šæ”¾çš„å¼€é”€ã€‚å¯ä»¥ä½¿ç”¨PooledByteBufAllocatoræ¥åˆ›å»ºæ± åŒ–çš„ByteBufå®ä¾‹ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ByteBufAllocator</span> <span class="hljs-variable">allocator</span> <span class="hljs-operator">=</span> PooledByteBufAllocator.DEFAULT;
</code></pre>
<ol start="2">
<li>
<p>é›¶æ‹·è´ï¼ˆZero-Copyï¼‰ï¼š
Nettyæ”¯æŒç›´æ¥å†…å­˜ï¼ˆDirect ByteBufï¼‰å’Œé›¶æ‹·è´çš„æ“ä½œï¼Œé¿å…äº†æ•°æ®åœ¨å†…å­˜ä¹‹é—´çš„å¤åˆ¶ã€‚è¿™å¯¹äºå¤„ç†å¤§é‡æ•°æ®çš„åœºæ™¯ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨EventLoopå’Œå¤šçº¿ç¨‹ï¼š
Nettyçš„æ ¸å¿ƒç»„ä»¶æ˜¯EventLoopï¼Œå®ƒè´Ÿè´£å¤„ç†äº‹ä»¶å’Œæ‰§è¡Œä»»åŠ¡ã€‚é€šè¿‡ä½¿ç”¨å¤šä¸ªEventLoopå’Œå¤šçº¿ç¨‹ï¼Œå¯ä»¥æé«˜å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚å¯ä»¥é€šè¿‡EventLoopGroupæ¥åˆ›å»ºå’Œç®¡ç†å¤šä¸ªEventLoopã€‚</p>
</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
</code></pre>
<ol start="4">
<li>ä½¿ç”¨ChannelOptionè¿›è¡Œé…ç½®ï¼š
é€šè¿‡è®¾ç½®ChannelOptionï¼Œå¯ä»¥å¯¹ç½‘ç»œè¿æ¥è¿›è¡Œç»†ç²’åº¦çš„é…ç½®ï¼Œä¾‹å¦‚TCPå‚æ•°ã€æ¥æ”¶å’Œå‘é€ç¼“å†²åŒºå¤§å°ç­‰ã€‚è¿™å¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚æ¥ä¼˜åŒ–ç½‘ç»œæ€§èƒ½ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">bootstrap</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
bootstrap.option(ChannelOption.SO_BACKLOG, <span class="hljs-number">1024</span>);
</code></pre>
<ol start="5">
<li>ä½¿ç”¨é«˜æ€§èƒ½çš„ç¼–è§£ç å™¨ï¼š
Nettyæä¾›äº†ä¸€äº›é«˜æ€§èƒ½çš„ç¼–è§£ç å™¨ï¼Œä¾‹å¦‚Protobufã€MessagePackç­‰ï¼Œå¯ä»¥æé«˜æ•°æ®çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ€§èƒ½ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">pipeline</span> <span class="hljs-operator">=</span> ch.pipeline();
pipeline.addLast(<span class="hljs-string">"decoder"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufDecoder</span>(MyMessage.getDefaultInstance()));
pipeline.addLast(<span class="hljs-string">"encoder"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufEncoder</span>());
</code></pre>
<ol start="6">
<li>åˆç†ä½¿ç”¨å†…å­˜ç®¡ç†ï¼š
Nettyçš„ByteBufæä¾›äº†ä¸¤ç§ç±»å‹çš„ç¼“å†²åŒºï¼šHeap ByteBufå’ŒDirect ByteBufã€‚åˆç†é€‰æ‹©å’Œç®¡ç†ç¼“å†²åŒºç±»å‹ï¼Œå¯ä»¥æé«˜å†…å­˜åˆ©ç”¨ç‡å’Œæ€§èƒ½ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ20ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„WebSocketæœåŠ¡å™¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585206349749600308</link>    <guid>https://juejin.cn/post/7585206349749600308</guid>    <pubDate>2025-12-19T12:00:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206349749600308" data-draft-id="7585385309891149824" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ20ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„WebSocketæœåŠ¡å™¨ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T12:00:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ20ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„WebSocketæœåŠ¡å™¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T12:00:13.000Z" title="Fri Dec 19 2025 12:00:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¦å®ç°åŸºäºNettyçš„WebSocketæœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œå¹¶ç»“åˆä»£ç ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è§£é‡Šï¼š</p>
<ol>
<li>åˆ›å»ºæœåŠ¡å™¨å¼•å¯¼ç¨‹åºï¼ˆServerBootstrapï¼‰ï¼š
é¦–å…ˆï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªServerBootstrapå®ä¾‹ï¼Œå¹¶é…ç½®ç›¸å…³çš„å‚æ•°ã€‚åœ¨é…ç½®è¿‡ç¨‹ä¸­ï¼Œæ‚¨éœ€è¦æŒ‡å®šä½¿ç”¨NIOæˆ–è€…Epollç­‰ä¼ è¾“æ–¹å¼ï¼Œä»¥åŠé€‚å½“çš„EventLoopGroupã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
<span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
<span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">serverBootstrap</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
serverBootstrap.group(bossGroup, workerGroup)
               .channel(NioServerSocketChannel.class)
               .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocketServerInitializer</span>());
</code></pre>
<ol start="2">
<li>å®ç°WebSocketServerInitializerï¼š
WebSocketServerInitializeræ˜¯ä¸€ä¸ªChannelInitializerçš„å­ç±»ï¼Œç”¨äºåˆå§‹åŒ–ChannelPipelineã€‚åœ¨è¿™é‡Œï¼Œæ‚¨éœ€è¦æ·»åŠ é€‚å½“çš„ChannelHandleræ¥å¤„ç†WebSocketçš„æ¡æ‰‹å’Œæ¶ˆæ¯ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSocketServerInitializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">pipeline</span> <span class="hljs-operator">=</span> ch.pipeline();
        pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpServerCodec</span>());
        pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpObjectAggregator</span>(<span class="hljs-number">65536</span>));
        pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocketServerProtocolHandler</span>(<span class="hljs-string">"/websocket"</span>));
        pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocketServerHandler</span>());
    }
}
</code></pre>
<ol start="3">
<li>å®ç°WebSocketServerHandlerï¼š
WebSocketServerHandleræ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„ChannelInboundHandlerAdapterçš„å­ç±»ï¼Œç”¨äºå¤„ç†WebSocketçš„æ¶ˆæ¯ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSocketServerHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInboundHandlerAdapter</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-keyword">if</span> (msg <span class="hljs-keyword">instanceof</span> WebSocketFrame) {
            <span class="hljs-comment">// å¤„ç†WebSocketæ¶ˆæ¯</span>
            <span class="hljs-type">WebSocketFrame</span> <span class="hljs-variable">frame</span> <span class="hljs-operator">=</span> (WebSocketFrame) msg;
            <span class="hljs-comment">// ...</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¤„ç†å…¶ä»–ç±»å‹çš„æ¶ˆæ¯</span>
            <span class="hljs-comment">// ...</span>
        }
    }
}
</code></pre>
<ol start="4">
<li>å¯åŠ¨æœåŠ¡å™¨ï¼š
æœ€åï¼Œæ‚¨éœ€è¦ç»‘å®šæœåŠ¡å™¨çš„ç«¯å£å¹¶å¯åŠ¨å®ƒã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> {
    <span class="hljs-type">ChannelFuture</span> <span class="hljs-variable">future</span> <span class="hljs-operator">=</span> serverBootstrap.bind(<span class="hljs-number">8080</span>).sync();
    future.channel().closeFuture().sync();
} <span class="hljs-keyword">finally</span> {
    bossGroup.shutdownGracefully();
    workerGroup.shutdownGracefully();
}
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨å¯ä»¥å®ç°ä¸€ä¸ªåŸºäºNettyçš„WebSocketæœåŠ¡å™¨ã€‚åœ¨WebSocketServerHandlerä¸­ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚æ¥å¤„ç†WebSocketçš„æ¶ˆæ¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è„šæ‰‹æ¶æ­¥éª¤æµç¨‹]]></title>    <link>https://juejin.cn/post/7585206549306179647</link>    <guid>https://juejin.cn/post/7585206549306179647</guid>    <pubDate>2025-12-19T10:05:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206549306179647" data-draft-id="7585171571130007588" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è„šæ‰‹æ¶æ­¥éª¤æµç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T10:05:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="woä¸æ˜¯é»„è“‰"/> <meta itemprop="url" content="https://juejin.cn/user/4161004982517358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è„šæ‰‹æ¶æ­¥éª¤æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4161004982517358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    woä¸æ˜¯é»„è“‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:05:14.000Z" title="Fri Dec 19 2025 10:05:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ­å»ºè„šæ‰‹æ¶æ­¥éª¤æµç¨‹ï¼š</p>
<ul>
<li>åœ¨è‡ªå·±çš„ç›®å½•æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå‘½åä¸º<code>test-hp-cli</code></li>
<li>è¿›å…¥æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œå‘½ä»¤<code>npm init -y</code></li>
<li>æ ¹ç›®å½•æ–°å»ºbinæ–‡ä»¶å¤¹ï¼Œåœ¨ç›®å½•ä¸‹æ–°å»ºindex.jsæ–‡ä»¶</li>
<li>åœ¨index.jsæ–‡ä»¶ä¸­æ–‡ä»¶æœ€ä¸Šæ–¹å†™å…¥ä»¥ä¸‹ä»£ç </li>
</ul>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">#!/usr/bin/env node</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'hello world'</span>);
</code></pre>
<ul>
<li>åœ¨package.jsonæ–‡ä»¶ä¸­ï¼Œä¿®æ”¹binå­—æ®µä¸º<code>"bin": "bin/index.js"</code></li>
<li>æ‰§è¡Œå‘½ä»¤<code>npm link</code>ï¼Œåœ¨å…¨å±€ç¯å¢ƒä¸‹åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥åˆ°å½“å‰ç›®å½•çš„node_modulesæ–‡ä»¶å¤¹ä¸‹ã€‚è¿™æ ·å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨è¯¥è„šæ‰‹æ¶äº†ã€‚ä¾‹å¦‚ï¼štest-hp-cli hello world</li>
<li>å¦‚æœè¦å‘å¸ƒåˆ°npmä¸Šï¼Œéœ€è¦å…ˆæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œç„¶åç™»å½•npmï¼Œå†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ä¸Šä¼ åŒ…ï¼š<code>npm publish --access public</code></li>
</ul>
<p>å‘å¸ƒnpmåŒ…çš„æ–¹æ³•ï¼š</p>
<ul>
<li>ç™»å½•npmè´¦å·ï¼š<code>npm login</code>, è¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±</li>
<li>å‘å¸ƒåŒ…å¤±è´¥ï¼Œå¯èƒ½æ˜¯å› ä¸ºåŒ…åå·²ç»è¢«å ç”¨æˆ–è€…ä¸ç¬¦åˆnpmçš„å‘½åè§„èŒƒã€‚å¯ä»¥å°è¯•ä¿®æ”¹åŒ…åä¸ºå…¶ä»–åç§°ï¼Œä¾‹å¦‚å°†<code>test-hp-cli</code>æ”¹ä¸º<code>@test/hp-cli</code></li>
</ul>
<hr/>
<ul>
<li>
<p>npmå…¨å±€å®‰è£…è„šæ‰‹æ¶ï¼š<code>npm install -g test-hp-cli</code></p>
</li>
<li>
<p>æ‰§è¡Œè„šæ‰‹æ¶å‘½ä»¤ï¼š<code>test-hp-cli</code>ï¼Œæ‰§è¡Œå¤±è´¥æç¤ºæ²¡æœ‰è¿™ä¸ªå‘½ä»¤ï¼Œæ£€æŸ¥package.jsonä¸­çš„binå­—æ®µæ˜¯å¦æ­£ç¡®ï¼Œkeyå€¼éœ€è¦å’ŒåŒ…åä¸€è‡´ã€‚ä¾‹å¦‚<code>"test-hp-test": "bin/index.js"</code></p>
</li>
<li>
<p>ä¿®æ”¹åŒ…ååé‡æ–°å‘å¸ƒï¼Œéœ€è¦æ›´æ–°ç‰ˆæœ¬å·ï¼Œå¦åˆ™ä¹Ÿä¼šå‘å¸ƒå¤±è´¥ã€‚ä¾‹å¦‚<code>npm version patch</code>ï¼Œç„¶åé‡æ–°å‘å¸ƒï¼š<code>npm publish</code>
ä»£è¡¨æ‰§è¡ŒæˆåŠŸçš„æç¤ºä¿¡æ¯ï¼š</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ef5d82587794a47bb68e41ddf673874~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=%2BwIpFh7hhcwf1dFp7JTTFeE35Ks%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>å¦‚ä½•å®‰è£…è¿œç¨‹ç‰ˆæœ¬ï¼Œä¸ä½¿ç”¨æœ¬åœ°çš„è½¯é“¾æ¥</li>
</ul>
<p>è°ƒè¯•æœ¬åœ°è„šæ‰‹æ¶ï¼š</p>
<ul>
<li>è¿›å…¥åˆ°è„šæ‰‹æ¶ç›®å½•æ‰§è¡Œ<code>npm i -g test-hp-cli</code>ï¼ŒæŸ¥çœ‹binç›®å½•ä¸‹æ–‡ä»¶é“¾æ¥çš„è·¯å¾„å¯ä»¥çœ‹å‡ºæ¥æ˜¯é“¾æ¥åˆ°æœ¬åœ°çš„</li>
<li>æ‰§è¡Œ<code>npm link</code>åï¼Œä¼šåœ¨Node_modulesä¸­åˆ›å»ºä¸€ä¸ªtest-hp-cliçš„å‘½ä»¤ï¼Œå‘½ä»¤é“¾å‘çš„æ˜¯node_modulesä¸‹çš„test-hp-cliç›®å½•ï¼Œnode_modulesä¸‹çš„test-hp-cliåˆé“¾å‘æœ¬åœ°çš„hp-testã€‚</li>
</ul>
<p>æœªå‘å¸ƒçš„åŒ…å¦‚ä½•è°ƒè¯•ï¼š</p>
<ul>
<li>è¿›å…¥åˆ°è„šæ‰‹æ¶ç›®å½•æ‰§è¡Œ<code>npm link</code>ï¼Œæ­¤æ—¶ä¼šåœ¨å…¨å±€ç¯å¢ƒä¸‹åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥åˆ°å½“å‰ç›®å½•çš„node_modulesæ–‡ä»¶å¤¹ä¸‹ã€‚è¿™æ ·å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨è¯¥è„šæ‰‹æ¶äº†</li>
</ul>
<p>æ³¨å†Œå‘½ä»¤&amp;å‚æ•°è§£æ</p>
<ul>
<li>
<p><code>process.argv</code>å¯ä»¥è·å–åˆ°å‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰§è¡Œç»“æœ</p>
</li>
<li>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7226f68cc2f84981a77eb167b965797d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=a9raLVtErVqh7Yor7M%2FlPvCFATQ%3D" alt="b3e664c53250df61ac5cda230fa64b22.png" loading="lazy"/></p>
</li>
<li>
<p>é€‰é¡¹å’Œå‚æ•°è§£æ</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1c2db97a1e04da0bf588901d3025aeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=iNhplDnx3x%2F8sIc8iSI%2FL0N5dd8%3D" alt="17f17f719e1efd329e084c31a980ca34.png" loading="lazy"/></p>
<h2 data-id="heading-0">lerna</h2>
<p>æ˜¯ä¸€ä¸ªåŸºäºgit+npmçš„å¤špackageé¡¹ç›®çš„ç®¡ç†å·¥å…·
ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<ul>
<li>è§£å†³è„šæ‰‹æ¶å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›é‡å¤æ€§æ“ä½œ
<ul>
<li>åœºæ™¯ä¸€ï¼šä¾‹å¦‚å¼€å‘ä¸€ä¸ªå¤§å‹é¡¹ç›®ï¼Œä¾èµ–ä¸€ä¸ªå·¥å…·ç±»çš„åŒ…ï¼Œå¦‚æœè¿™ä¸ªåŒ…æ›´æ–°åæ€ä¹ˆæ›´æ–°å…¶ä»–çš„åŒ…ï¼ˆéœ€è¦npm linkï¼‰néè¿›è¡ŒéªŒè¯</li>
<li>åœºæ™¯äºŒï¼šä¾èµ–ç‰ˆæœ¬å…¨éƒ¨æ›´æ–°ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤node_moduleså¹¶ä¸”é‡æ–°æ‰§è¡Œnpm iï¼Œå¹¶ä¸”package.jsonæ˜¯è‡ªåŠ¨å¢å‡çš„ä¸å¯èƒ½æ‰‹åŠ¨å¢åŠ </li>
<li>åœºæ™¯ä¸‰ï¼šå¤špackageå•å…ƒæµ‹è¯•</li>
<li>ä»£ç æäº¤ï¼Œå¤§å‹é¡¹ç›®éƒ½å…±ç”¨çš„åŒç»™ä¸€ä¸ªä»“åº“</li>
<li>ä»£ç å‘å¸ƒï¼Œæ¯ä¸ªåŒ…éƒ½è¦å‘ä¸€ä¸ªå•ç‹¬çš„npmåŒ…ï¼Œå‘å¸ƒéš¾ä»¥ç®¡ç†</li>
</ul>
</li>
<li>ç‰ˆæœ¬ä¸€è‡´æ€§é—®é¢˜</li>
<li>å‘å¸ƒæ—¶ç‰ˆæœ¬ä¸€è‡´æ€§ï¼Œç‰ˆæœ¬ä¸€è‡´æ€§çš„å¥½å¤„ï¼šå‡çº§æ—¶ä¸€èµ·å‡çº§ï¼Œå¦åˆ™å¼€å‘æ—¶éœ€è¦ä¸åœçš„ç‰ˆæœ¬è°ƒè¯•ï¼Œç‰ˆæœ¬ä¸€è‡´æ€§æ—¶åªéœ€è¦ä¿è¯å½“å‰çš„ç‰ˆæœ¬å³å¯ï¼Œä¸ä¼šå­˜åœ¨å‘ä¸Šå’Œå‘ä¸‹å…¼å®¹é—®é¢˜</li>
<li>å‘å¸ƒåé¡¹ç›®ä¾èµ–ç‰ˆæœ¬å‡çº§
ä¼˜åŠ¿ï¼š</li>
<li>å¤§å¹…åº¦å‡å°‘é‡å¤æ“ä½œ</li>
<li>æå‡æ“ä½œæ ‡å‡†åŒ–</li>
</ul>
<p>æ¶æ„ä¼˜åŒ–ç›®çš„ï¼šé¡¹ç›®å¤æ‚åº¦æå‡åï¼Œéœ€è¦å¯¹é¡¹ç›®è¿›è¡Œæ¶æ„ä¼˜åŒ–ï¼Œæ¶æ„ä¼˜åŒ–çš„ä¸»è¦ç›®æ ‡å¾€å¾€ä»¥æå‡æ•ˆèƒ½ä¸ºæ ¸å¿ƒã€‚
ä½¿ç”¨lernaçš„é¡¹ç›®å‚è€ƒï¼š</p>
<ul>
<li>babel <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbabel%2Fbabel.git" target="_blank" title="https://github.com/babel/babel.git" ref="nofollow noopener noreferrer">github.com/babel/babelâ€¦</a></li>
<li>vue-cli</li>
<li>create-react-app</li>
</ul>
<h3 data-id="heading-1">åˆ›å»ºè„šæ‰‹æ¶</h3>
<ul>
<li>åˆ›å»ºæ–‡ä»¶å¤¹test-cli-dev</li>
<li>åœ¨test-cli-devä¸‹å†åˆ›å»ºtest-cli-devç›®å½•</li>
<li>æ‰§è¡Œ<code>cnpm i -D lerna</code></li>
<li>æ‰§è¡Œ<code>lerna init</code>
å¯èƒ½ä¼šæŠ¥é”™
è§£å†³æ–¹æ³•ï¼š</li>
<li>åœ¨package.jsonä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5db33f30ea0f40c785553141133a545e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=h8xjnq8Vl3diA2XGEd8KM%2FzBJEA%3D" alt="81cc6ec76c09bee49d7a49e8e480e9c7.png" loading="lazy"/></p>

<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"workspaces"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
   <span class="hljs-string">"packages/*"</span>
 <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
</code></pre>
<h2 data-id="heading-2">é‡æ–°æ‰§è¡Œ<code>lerna init</code>ä¼šç”Ÿæˆå¦‚ä¸‹å†…å®¹ï¼š
å¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆäº†gitignore,lerna.jsonç­‰æ–‡ä»¶</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/677e9907d0db44859317536eb0391d50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=EmXf%2FYSXgxdvjv6C2Ido0QurQVs%3D" alt="0fd3c6b2b0c81b0d4398c511114d6550.png" loading="lazy"/></p>
<ul>
<li>
<p>åˆ›å»º<code>package</code>  -&gt; <code>lerna create</code> åˆ›å»ºcoreåŒ…<code>lerna create core</code> ä¿®æ”¹package nameä¸º<code>@test-cli-dev/core</code></p>
<p>è¿™æ ·å‘½å<code> "name": "@test-cli-dev/utils",</code>çš„å¥½å¤„æ˜¯åœ¨npmä¸Šå¯ä»¥é˜²æ­¢ç›®å½•é‡å¤ï¼Œ<code>npm i</code>å®‰è£…åçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f391c6f880ec4271bfc85286829aa3bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=F5oFpGW2pd6cCZ7yuJML0g2RpSw%3D" alt="aec397ece0673196e47938ab74469b87.png" loading="lazy"/></p>
<ul>
<li><code>lerna add</code>v7ä¹‹å‰çš„ç‰ˆæœ¬ä½¿ç”¨ï¼Œå¯¹ç…§è¡¨</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3882c346c9a841bd85a1a3f235bc27ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=Z5fSc614ik%2FL%2FZiLl2eGdYjhxOI%3D" alt="212cdc9f1840cd2b918baa6a1ce742d4.png" loading="lazy"/>
ä½¿ç”¨<code>lerna add</code>å‘½ä»¤ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75be8844fb97442096626df66fb58c9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=E6WE2kCzX7KuFi%2BzBWlkBiljgRo%3D" alt="2aedb24f1a57b9d282433f0253c85f23.png" loading="lazy"/>
v8ç‰ˆæœ¬éœ€è¦ç»“åˆpnpmä½¿ç”¨ï¼Œæ•™ç¨‹å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flerna.js.org%2Fdocs%2Frecipes%2Fusing-pnpm-with-lerna" target="_blank" title="https://lerna.js.org/docs/recipes/using-pnpm-with-lerna" ref="nofollow noopener noreferrer">lerna.js.org/docs/recipeâ€¦</a>
æœ¬åœ°ä¾èµ–,æ•™ç¨‹å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2Fworkspaces" target="_blank" title="https://pnpm.io/workspaces" ref="nofollow noopener noreferrer">pnpm.io/workspaces</a></p>
<ul>
<li>å°†åŒ…å®‰è£…åœ¨æŸä¸ªç‰¹å®šçš„ç©ºé—´</li>
<li><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ce6b6b806d14694bb7deaf6daba93f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2_kuI3mmK_pu4Tok4k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743513&amp;x-signature=ZRszS7l4my%2BIIIit2Uyff%2BGKUOs%3D" alt="bb9b8f8c80bb9d7efc4a6d9445031f87.png" loading="lazy"/>
å‘½ä»¤<code>pnpm add @test-cli-dev/utils --filter @test-cli-dev/core</code>ï¼Œå…³äº<code>filter</code>å‘½ä»¤å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2Fzh%2Ffiltering" target="_blank" title="https://pnpm.io/zh/filtering" ref="nofollow noopener noreferrer">pnpm.io/zh/filterinâ€¦</a></li>
<li>å…¨å±€å®‰è£…ä¾èµ–<code>pnpm add -w @test-cli-dev/utils</code>ä¼šåœ¨å’Œlerna.jsonå¹³çº§çš„<code>packages.json</code>ä¸­æ–°å¢å¦‚ä¸‹é…ç½®ï¼š</li>
</ul>

<pre><code class="hljs language-less" lang="less">"<span class="hljs-selector-tag">dependencies</span>": {
    "<span class="hljs-variable">@test-cli-dev</span>/utils<span class="hljs-string">": "</span><span class="hljs-attribute">workspace</span>:^"
  }
</code></pre>
<p>å‘å¸ƒæµç¨‹ï¼š
<code>lerna publish</code>ï¼Œå‘å¸ƒä¹‹å‰å¿…é¡»è¦è¿›è¡Œä¸€æ¬¡ä»£ç æäº¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™
å‘å¸ƒåé»˜è®¤æ²¡æœ‰å…¬å¼€å‘å¸ƒæ—¶ç§æœ‰çš„ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¿›è¡Œé…ç½®æ–‡æ¡£å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2Fzh%2Fcli%2Fpublish" target="_blank" title="https://pnpm.io/zh/cli/publish" ref="nofollow noopener noreferrer">pnpm.io/zh/cli/publâ€¦</a></p>
<h3 data-id="heading-3">lerna æºç åˆ†æ</h3>
<p>è°ƒè¯•ä»£ç ï¼š<code>lerna</code>ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flerna%2Flerna" target="_blank" title="https://github.com/lerna/lerna" ref="nofollow noopener noreferrer">github.com/lerna/lerna</a>
é¡¹ç›®ç»“æ„ï¼šä»é¡¹ç›®ä»‹ç»ä¸­å¯ä»¥çŸ¥é“ä¸»è¦çš„ç›®å½•ä¸ºä¸€ä¸‹6ä¸ª</p>
<ul>
<li>e2e ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œç”¨æ¥æ¨¡æ‹Ÿç”¨æˆ·åœºæ™¯ï¼ŒéªŒè¯ç¨‹åºèƒ½å¦æ­£å¸¸è¿è¡Œ</li>
<li>integration ä¸€äº›é—ç•™ä»£ç ï¼ŒåŒ…å«ç«¯åˆ°ç«¯å’Œå•å…ƒæµ‹è¯•å†…å®¹ï¼Œæ–°çš„e2eæµ‹è¯•å·²ç»è¦†ç›–è¿™äº›åœºæ™¯ï¼Œåº”è¯¥ä¼˜å…ˆç”¨e2e</li>
<li>libs æºç åº“ï¼Œç”¨äºç»„åˆå‘å¸ƒåŒ…</li>
<li>packages è¦å‘å¸ƒåˆ°npmä¸Šçš„åŒ…</li>
<li>tools ä¸€äº›jså·¥å…·ç±»</li>
<li>website ç«™ç‚¹å±•ç¤ºä¹Ÿå°±æ˜¯lernaå®˜ç½‘
å…¥å£æ–‡ä»¶ï¼š<code>packages\lerna\package.json</code>ï¼Œå¯ä»¥æŸ¥çœ‹å…¶ä¸­çš„<code>bin</code>é…ç½®ï¼Œæ‰¾åˆ°å…¥å£æ–‡ä»¶ï¼Œå‘ç°æ˜¯</li>
</ul>

<pre><code class="hljs language-json" lang="json">  <span class="hljs-attr">"bin"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"lerna"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/cli.js"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<p>è€Œä¸æ˜¯<code>src/cli.js</code>ï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆé…å‘¢ï¼Ÿ
åŸå› ï¼š<code>lerna</code>çš„æºç æ˜¯<code>ts</code>é¡¹ç›®ï¼ˆ<code>nodejs</code>æ— æ³•è¿è¡Œï¼‰ï¼Œè€Œ<code>npm</code>åŒ…éœ€è¦å‘å¸ƒçš„æ˜¯ç¼–è¯‘åçš„ã€å¯æ‰§è¡Œçš„<code>js</code>ä»£ç ï¼Œ<code>dist</code>ç›®å½•å°±æ˜¯å‡†å¤‡è¢«å‘å¸ƒçš„æœ€ç»ˆäº§å“ç›®å½•ã€‚
å¦‚æœæ˜¯è¿™æ ·æˆ‘ä»¬æ€ä¹ˆè¿›è¡Œè°ƒè¯•å‘¢ï¼Ÿ</p>
<ul>
<li>æ·»åŠ è°ƒè¯•æ–‡ä»¶,å¯ä»¥è®©aiè¯»æ•´ä¸ªé¡¹ç›®è‡ªå·±ç”Ÿæˆä¸€ä»½</li>
</ul>

<pre><code class="hljs language-bash" lang="bash">{
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.2.0"</span>,
  <span class="hljs-string">"configurations"</span>: [
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"Debug Lerna CLI"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"node"</span>,
      <span class="hljs-string">"request"</span>: <span class="hljs-string">"launch"</span>,
      <span class="hljs-string">"runtimeExecutable"</span>: <span class="hljs-string">"node"</span>,
      <span class="hljs-string">"program"</span>: <span class="hljs-string">"<span class="hljs-variable">${workspaceFolder}</span>/packages/lerna/src/index.ts"</span>,
      <span class="hljs-string">"args"</span>: [<span class="hljs-string">"init"</span>],
      <span class="hljs-string">"sourceMaps"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">"outFiles"</span>: [<span class="hljs-string">"<span class="hljs-variable">${workspaceFolder}</span>/dist/**/*.js"</span>],
      <span class="hljs-string">"restart"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">"skipFiles"</span>: [<span class="hljs-string">"&lt;node_internals&gt;/**"</span>],
      <span class="hljs-string">"console"</span>: <span class="hljs-string">"integratedTerminal"</span>
    },
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"Debug Lerna Build"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"node"</span>,
      <span class="hljs-string">"request"</span>: <span class="hljs-string">"launch"</span>,
      <span class="hljs-string">"runtimeExecutable"</span>: <span class="hljs-string">"npm"</span>,
      <span class="hljs-string">"runtimeArgs"</span>: [<span class="hljs-string">"run"</span>, <span class="hljs-string">"build"</span>],
      <span class="hljs-string">"console"</span>: <span class="hljs-string">"integratedTerminal"</span>,
      <span class="hljs-string">"internalConsoleOptions"</span>: <span class="hljs-string">"neverOpen"</span>
    },
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"Debug Specific Command"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"node"</span>,
      <span class="hljs-string">"request"</span>: <span class="hljs-string">"launch"</span>,
      <span class="hljs-string">"runtimeExecutable"</span>: <span class="hljs-string">"node"</span>,
      <span class="hljs-string">"program"</span>: <span class="hljs-string">"<span class="hljs-variable">${workspaceFolder}</span>/packages/lerna/src/index.ts"</span>,
      <span class="hljs-string">"args"</span>: [<span class="hljs-string">"version"</span>, <span class="hljs-string">"--no-git-tag-version"</span>, <span class="hljs-string">"--no-push"</span>],
      <span class="hljs-string">"sourceMaps"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">"outFiles"</span>: [<span class="hljs-string">"<span class="hljs-variable">${workspaceFolder}</span>/dist/**/*.js"</span>],
      <span class="hljs-string">"restart"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">"skipFiles"</span>: [<span class="hljs-string">"&lt;node_internals&gt;/**"</span>],
      <span class="hljs-string">"console"</span>: <span class="hljs-string">"integratedTerminal"</span>
    }
  ]
}
</code></pre>
<ul>
<li>æ‰§è¡Œ<code>npm run build</code>å‘½ä»¤ï¼Œç”Ÿæˆ<code>dist</code>æ–‡ä»¶ï¼Œå¦åˆ™è¿è¡Œæ—¶binæ–‡ä»¶é…ç½®ä¼šæ‰¾ä¸åˆ°</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOSåº”ç”¨å¼€å‘ä¹‹æ»šåŠ¨å®¹å™¨Scroll]]></title>    <link>https://juejin.cn/post/7585206349749354548</link>    <guid>https://juejin.cn/post/7585206349749354548</guid>    <pubDate>2025-12-19T10:10:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206349749354548" data-draft-id="7585180150255353871" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOSåº”ç”¨å¼€å‘ä¹‹æ»šåŠ¨å®¹å™¨Scroll"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-19T10:10:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·595143322177"/> <meta itemprop="url" content="https://juejin.cn/user/2359987827640909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOSåº”ç”¨å¼€å‘ä¹‹æ»šåŠ¨å®¹å™¨Scroll
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2359987827640909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·595143322177
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:10:21.000Z" title="Fri Dec 19 2025 10:10:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ»šåŠ¨å®¹å™¨ï¼ˆScrollï¼‰</h2>
<p><code>Scroll</code>è¡¨ç¤ºå¯æ»šåŠ¨çš„å®¹å™¨ç»„ä»¶ï¼Œ<strong>å½“å­ç»„ä»¶çš„å¸ƒå±€å°ºå¯¸è¶…è¿‡çˆ¶ç»„ä»¶çš„å°ºå¯¸æ—¶ï¼Œå†…å®¹å¯ä»¥æ»šåŠ¨ã€‚</strong></p>
<blockquote>
<p>[!warning]</p>
<p>æ³¨æ„ä¸¤ä¸ªè¦ç‚¹ï¼š</p>
<ol>
<li><code>Scroll</code>å­ç»„ä»¶çš„å¸ƒå±€å°ºå¯¸è¶…è¿‡çˆ¶ç»„ä»¶å°ºå¯¸æ—¶ï¼Œæ‰å¯ä»¥æ»šåŠ¨</li>
<li><code>Scroll</code>åªèƒ½æœ‰ä¸€ä¸ªå­ç»„ä»¶</li>
</ol>
</blockquote>
<h3 data-id="heading-1">åŸºæœ¬ä½¿ç”¨</h3>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨<code>Column</code>ä¸­åŒ…å«<code>10</code>ä¸ª<code>Text</code>æ–‡æœ¬ï¼Œæ¯ä¸ª<code>Text</code>æ–‡æœ¬çš„é«˜åº¦ä¸º<code>100</code>ï¼Œé—´è·ä¸º<code>10</code>ã€‚</p>
<p><code>Scroll</code>å†…å­ç»„ä»¶çš„æ€»é«˜åº¦å¤§äº<code>Scroll</code>çˆ¶ç»„ä»¶çš„é«˜åº¦ï¼Œæ‰€ä»¥å¯ä»¥æ»šåŠ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22d0958dbe8d489bb3c04636ac273842~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743820&amp;x-signature=%2BVucT7z2fwbEibpnZSW91Sjhfeo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">array</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>(){
      <span class="hljs-title class_">Scroll</span>(){
        <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {
          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
            <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${item}</span>`</span>)
              .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)
              .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
              .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)
              .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)
              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)
          })
        }
        .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)
      }
    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
    .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)
    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">"#dedede"</span>)
  }
}

</code></pre>
<h3 data-id="heading-2">å…³é—­æ»šåŠ¨æ¡</h3>
<p>é€šè¿‡<code>.scrollBar(barState: BarState)</code>è®¾ç½®æ»šåŠ¨æ¡çš„æ˜¾ç¤ºæ¨¡å¼</p>
<ul>
<li><code>BarState.Off</code> å…³é—­æ»šåŠ¨æ¡</li>
<li><code>BarState.On</code> æ˜¾ç¤ºæ»šåŠ¨æ¡</li>
<li><code>BarState.Auto</code> æ»‘åŠ¨æ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ï¼Œ3ç§’åæ¶ˆå¤±</li>
</ul>

<pre><code class="hljs language-scss" lang="scss">Scroll(){
    ...
}<span class="hljs-selector-class">.scrollBar</span>(BarState.Off)   <span class="hljs-comment">//å…³é—­æ»šåŠ¨æ¡</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57c67f7fcfd541ff8c491572599de2a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743820&amp;x-signature=w9hQXqRT3DebcAx%2FYdrRFIHovOo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-3">æ»šåŠ¨æ–¹å‘</h3>
<p>é€šè¿‡<code>.scrollable(value: ScrollDirection)</code>å±æ€§ç”¨æ¥è®¾ç½®<code>Scroll</code>çš„æ»šåŠ¨æ–¹å‘ã€‚</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>ScrollDirection.Vertical</code> å‚ç›´æ»šåŠ¨</li>
<li><code>ScrollDirection.Horizontal</code> æ°´å¹³æ»šåŠ¨</li>
</ul>
<p>ç¤ºä¾‹ï¼šåœ¨æ°´å¹³æ–¹å‘æ˜¾ç¤º10ä¸ªTextï¼Œæ²¿æ°´å¹³æ–¹å‘æ»šåŠ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/888be7ce6d5842af8552d36061577fa1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743820&amp;x-signature=3ziwXdspKyzvSsPr58lYJN2%2FWKE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">array</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>(){
      <span class="hljs-title class_">Scroll</span>(){
        <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {
          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
            <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${item}</span>`</span>)
              .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)
              .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)
              .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)
              .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)
              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)
          })
        }.<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)
      }
      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)	<span class="hljs-comment">//å…³é—­æ»šåŠ¨æ¡</span>
      .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Horizontal</span>) <span class="hljs-comment">//æ°´å¹³æ»šåŠ¨æ–¹å‘</span>
    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
    .<span class="hljs-title function_">height</span>(<span class="hljs-number">120</span>)
    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">"#dedede"</span>)
  }
}
</code></pre>
<h3 data-id="heading-4">æ»šåŠ¨æ¡æ ·å¼</h3>
<p>é€šè¿‡<code>scrollBarWidth(20)å’ŒscrollBarColor(Color.Red)</code>è®¾ç½®æ»šåŠ¨æ¡çš„å®½åº¦ä¸é¢œè‰²ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a189a8fe70334f66a95e899283dd00dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743820&amp;x-signature=SYgnzBMWtNHfJtO80OCgeykaw0g%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title class_">Scroll</span>(){
       ...
}
.<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Auto</span>)
.<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Horizontal</span>) <span class="hljs-comment">//æ»šåŠ¨æ–¹å‘</span>
.<span class="hljs-title function_">scrollBarWidth</span>(<span class="hljs-number">10</span>)	<span class="hljs-comment">//æ»šåŠ¨æ¡å®½åº¦</span>
.<span class="hljs-title function_">scrollBarColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>) <span class="hljs-comment">//æ»šåŠ¨æ¡é¢œè‰²</span>
</code></pre>
<h3 data-id="heading-5">æ»šåŠ¨æ§åˆ¶å™¨</h3>
<p>é€šè¿‡ç»™<code>Scroll</code>é…ç½®<code>Scroller</code>æ»šåŠ¨æ§åˆ¶å™¨ï¼Œæ¥æ§åˆ¶<code>Scroll</code>çš„æ»šåŠ¨ã€‚</p>
<p><code>Scroller</code>æœ‰å¦‚ä¸‹æ–¹æ³•æ§åˆ¶<code>Scroll</code>æ»šåŠ¨</p>
<ul>
<li><code>scrollEdge(value: Edge, options?: ScrollEdgeOptions | undefined)</code> æ»šåŠ¨åˆ°å®¹å™¨è¾¹ç¼˜</li>
<li><code>scrollTo(options: ScrollOptions)</code> æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®
<ul>
<li><code>xOffset</code>: æ°´å¹³åç§»é‡ï¼ˆç›¸å¯¹äºå®¹å™¨å¼€å§‹ä½ç½®ï¼‰</li>
<li><code>yOffset</code>: å‚ç›´åç§»é‡ï¼ˆç›¸å¯¹äºå®¹å™¨å¼€å§‹ä½ç½®ï¼‰</li>
</ul>
</li>
<li><code>scrollBy(dx: Length, dy: Length)</code> æ»šåŠ¨æŒ‡å®šè·ç¦»ã€‚
<ul>
<li><code>dx</code>:  æ°´å¹³æ»šåŠ¨è·ç¦»ï¼ˆç›¸å¯¹äºå½“å‰ä½ç½®ï¼‰</li>
<li><code>dy</code>:  å‚ç›´æ»šåŠ¨è·ç¦»ï¼ˆç›¸å¯¹äºå½“å‰ä½ç½®ï¼‰</li>
</ul>
</li>
</ul>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç‚¹å‡»æŒ‰é’®æ—¶æ§åˆ¶<code>Scroll</code>æ»šåŠ¨åˆ°åº•éƒ¨ã€é¡¶éƒ¨ã€ä¸­é—´ä½ç½®ï¼Œæ­¤æ—¶å°±éœ€è¦ç”¨åˆ°<code>Scroller</code>æ»šåŠ¨æ§åˆ¶å™¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d508d714b124703af95d8c1c100422c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743820&amp;x-signature=ySktwwCwzYkS6Jye6QvV8w0r%2BeE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-ts{5,9,30,34,44-47}" lang="ts{5,9,30,34,44-47}">@Entry
@Component
struct Index {
  @State array: number[] = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
  private scorller: Scroller = new Scroller()

  build() {
    Column() {
      Scroll(this.scorller) {
        Column({ space: 20 }) {
          ForEach(this.array, (item: number) =&gt; {
            Text(`${item}`)
              .width("100%")
              .textAlign(TextAlign.Center)
              .width("100%")
              .height(100)
              .borderRadius(15)
              .backgroundColor(Color.White)
          })
        }.padding(10)
      }
      .layoutWeight(1)
      .scrollBar(BarState.Auto)
      .scrollable(ScrollDirection.Vertical) //æ»šåŠ¨æ–¹å‘
      .scrollBarWidth(10)
      .scrollBarColor(Color.Red)

      Row() {
        Button("åˆ°åº•éƒ¨").onClick(() =&gt; {
          this.scorller.scrollEdge(Edge.Bottom)
        })

        Button("åˆ°é¡¶éƒ¨").onClick(() =&gt; {
          this.scorller.scrollEdge(Edge.Top)
        })

        Button("åˆ°ä¸­é—´").onClick(() =&gt; {
          animateToImmediately({
            duration: 300,
            playMode: PlayMode.Normal,
            curve: Curve.Ease
          }, () =&gt; {
            //æ»‘åŠ¨åˆ°æŒ‡å®šä½ç½®
            this.scorller.scrollTo({
              xOffset: 0,
              yOffset: 300
            })
          })
        })

        Button("æ»šåŠ¨ä¸€æ®µ").onClick(() =&gt; {
          //æ»‘åŠ¨åˆ°æŒ‡å®šä½ç½®
          animateToImmediately({
            duration: 300,
            playMode: PlayMode.Normal,
            curve: Curve.Ease
          }, () =&gt; {
            //æ»‘åŠ¨åˆ°æŒ‡å®šä½ç½®
            this.scorller.scrollBy(0, 100)
          })
        })
      }.width("100%")
      .height(200)
      .alignItems(VerticalAlign.Center)
      .justifyContent(FlexAlign.SpaceEvenly)

    }.width("100%")
    .height("100%")
    .backgroundColor("#dedede")
  }
}

</code></pre>
<h3 data-id="heading-6">æ»šåŠ¨ç›‘å¬</h3>
<p>æœ‰æ—¶å€™éœ€è¦ç›‘å¬å½“å‰<code>Scroll</code>æ»šåŠ¨çš„çŠ¶æ€ï¼Œæ ¹æ®çŠ¶æ€åšå‡ºç›¸åº”çš„å¤„ç†ï¼Œæ­¤æ—¶éœ€è¦ç”¨åˆ°æ»šåŠ¨ç›‘å¬ã€‚</p>
<ul>
<li><code>onDidScroll(handler: ScrollOnScrollCallback)</code> æ»šåŠ¨äº‹ä»¶å›è°ƒï¼Œ<code>Scroll</code>æ»šåŠ¨æ—¶è§¦å‘ã€‚è¿”å›å½“å‰å¸§æ»šåŠ¨çš„åç§»é‡å’Œå½“å‰æ»šåŠ¨çŠ¶æ€ã€‚
<ul>
<li><code>xOffset</code>: æ¯ä¸€å¸§çš„æ°´å¹³åç§»é‡</li>
<li><code>yOffset</code>: æ¯ä¸€å¸§çš„å‚ç›´åç§»é‡</li>
</ul>
</li>
</ul>
<p>è§¦å‘è¯¥äº‹ä»¶çš„æ¡ä»¶ï¼š</p>
<ol>
<li>æ»šåŠ¨ç»„ä»¶è§¦å‘æ»šåŠ¨æ—¶è§¦å‘ï¼Œæ”¯æŒé”®é¼ æ“ä½œç­‰å…¶ä»–è§¦å‘æ»šåŠ¨çš„è¾“å…¥è®¾ç½®ã€‚</li>
<li>é€šè¿‡æ»šåŠ¨æ§åˆ¶å™¨APIæ¥å£è°ƒç”¨ã€‚</li>
<li>è¶Šç•Œå›å¼¹ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç ï¼š ç›‘å¬Scrollæ»šåŠ¨çš„è·ç¦»ï¼Œå½“å‘ä¸‹æ»šåŠ¨200åƒç´ æ—¶ï¼Œå¼¹å‡ºæç¤ºï¼Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b98d2ab5e3a4ae6a369d376f960c99c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743820&amp;x-signature=T2GPaiK0mNnZKY%2BNcfXAD9YAdqE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { promptAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">array</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]
  <span class="hljs-keyword">private</span> <span class="hljs-attr">scorller</span>: <span class="hljs-title class_">Scroller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scroller</span>()
  <span class="hljs-comment">//è®°å½•ç›¸å¯¹äºScrollå¼€å§‹ä½ç½®çš„åç§»é‡</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">yOffset_total</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Scroll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scorller</span>) {
        <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {
          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
            <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${item}</span>`</span>)
              .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)
              .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
              .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)
              .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)
              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>)
          })
        }.<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)
      }
      .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)
      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Auto</span>)
      .<span class="hljs-title function_">scrollable</span>(<span class="hljs-title class_">ScrollDirection</span>.<span class="hljs-property">Vertical</span>) 
      .<span class="hljs-title function_">scrollBarWidth</span>(<span class="hljs-number">10</span>)
      .<span class="hljs-title function_">scrollBarColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)
      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">"#dedede"</span>)
       <span class="hljs-comment">//ç›‘å¬Scorllæ»šåŠ¨ï¼Œè®¡ç®—æ€»åç§»é‡</span>
      .<span class="hljs-title function_">onDidScroll</span>(<span class="hljs-function">(<span class="hljs-params">xOffset: <span class="hljs-built_in">number</span>, yOffset</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">yOffset_total</span> += yOffset
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">yOffset_total</span> &gt;= <span class="hljs-number">200</span> &amp;&amp; yOffset &gt; <span class="hljs-number">0</span>) {
          promptAction.<span class="hljs-title function_">openToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">"æ»šåŠ¨åˆ°200äº†"</span> })
        }
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åç§»é‡ï¼š"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">yOffset_total</span>)
      })
    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
    .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)
  }
}

</code></pre>
<p>åœ¨æ»šåŠ¨æ—¶ï¼Œç›‘å¬æ»šåŠ¨åç§»é‡å¹¶æ‰“å°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ€»åç§»é‡<code>yOffset_total</code>æ˜¯ä¾æ¬¡é€’å¢çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ab19a440cec49e980f627cee62d682f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743820&amp;x-signature=Op5nZEWqN8T1N%2FDSG%2FoJK97Ok%2BQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åˆ°æ­¤ï¼Œ<code>Scroll</code>çš„ä½¿ç”¨ä»¥åŠ<code>Scroller</code>æ»šåŠ¨æ§åˆ¶å™¨å°±ä»‹ç»å®Œäº†ã€‚<code>Scroller</code>æ»šåŠ¨æ§åˆ¶å™¨åœ¨å…¶ä»–å¯æ»šåŠ¨ç»„ä»¶ä¹ŸåŒæ ·é€‚ç”¨ã€‚</p>
<p>å¯¹é¸¿è’™æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œå…è´¹è€ƒå–<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2Fcd630ebdc1c444b4b4ff10ae385eeac2%3Ftype%3D1" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/cd630ebdc1c444b4b4ff10ae385eeac2?type=1" ref="nofollow noopener noreferrer">é¸¿è’™å¼€å‘è€…è®¤è¯</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™åº”ç”¨å¼€å‘ä¹‹@Builderè‡ªå®šä¹‰æ„å»ºå‡½æ•°ï¼šå€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’ä¸UIæ›´æ–°]]></title>    <link>https://juejin.cn/post/7585391510058434612</link>    <guid>https://juejin.cn/post/7585391510058434612</guid>    <pubDate>2025-12-19T10:13:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585391510058434612" data-draft-id="7585206349749387316" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™åº”ç”¨å¼€å‘ä¹‹@Builderè‡ªå®šä¹‰æ„å»ºå‡½æ•°ï¼šå€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’ä¸UIæ›´æ–°"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-19T10:13:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·595143322177"/> <meta itemprop="url" content="https://juejin.cn/user/2359987827640909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™åº”ç”¨å¼€å‘ä¹‹@Builderè‡ªå®šä¹‰æ„å»ºå‡½æ•°ï¼šå€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’ä¸UIæ›´æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2359987827640909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·595143322177
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:13:26.000Z" title="Fri Dec 19 2025 10:13:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">@Builderè£…é¥°å™¨ï¼šè‡ªå®šä¹‰æ„å»ºå‡½æ•°</h2>
<p>è¢«<code>@Builder</code>è£…é¥°çš„å‡½æ•°ç§°ä¸º<strong>è‡ªå®šä¹‰æ„å»ºå‡½æ•°</strong>ï¼Œå®ƒæ˜¯ä¸€ç§è½»é‡åŒ– UI å¤ç”¨æœºåˆ¶ï¼Œå®ƒå…è®¸å¼€å‘è€…å°†é‡å¤ä½¿ç”¨çš„ <code>UI </code>å…ƒç´ æŠ½è±¡ä¸ºå‡½æ•°ï¼Œè¿™äº›å‡½æ•°å¯ä»¥åœ¨ <code>build</code> å‡½æ•°ä¸­è¢«è°ƒç”¨ä»¥å®ç°<code> UI</code> å¤ç”¨ã€‚</p>
<p>è‡ªå®šä¹‰æ„å»ºå‡½æ•°æ ¹æ®å®šä¹‰çš„ä½ç½®ä¸åŒåˆ†ä¸º<strong>ç§æœ‰è‡ªå®šä¹‰å‡½æ•°</strong>å’Œ<strong>å…¨å±€è‡ªå®šä¹‰å‡½æ•°</strong>ã€‚</p>
<h3 data-id="heading-1">ç§æœ‰è‡ªå®šä¹‰æ„å»ºå‡½æ•°</h3>
<p>ç§æœ‰è‡ªå®šä¹‰æ„å»ºå‡½æ•°å®šä¹‰åœ¨<code>@Component</code>ç»„ä»¶å†…ï¼Œå±äºè¯¥ç»„ä»¶ç§æœ‰çš„ï¼Œåªèƒ½åœ¨<strong>è¯¥ç»„ä»¶å†…</strong>çš„<code>build</code>å‡½æ•°æˆ–è€…å…¶ä»–è‡ªå®šä¹‰æ„å»ºå‡½æ•°ä¸­è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-ts{9-12,5}" lang="ts{9-12,5}">@Component
struct MyComponent {
  build() {
    Column() {
      this.myBuilder()
    }
  }

  @Builder
  myBuilder() {
    Text("ç§æœ‰@Builder")
  }
}

@Entry
@Component
struct Index {
  build() {
    Column({ space: 10 }) {
      MyComponent()
    }
    .width("100%")
    .height("100%")
  }
}
</code></pre>
<h3 data-id="heading-2">å…¨å±€è‡ªå®šä¹‰æ„å»ºå‡½æ•°</h3>
<p>å…¨å±€è‡ªå®šä¹‰å‡½æ•°å®šä¹‰åœ¨<code>@Component</code>ç»„ä»¶å¤–ï¼Œå¯ä»¥åœ¨å…¶ä»–è‡ªå®šä¹‰å‡½æ•°æˆ–è€…å…¶ä»–è‡ªå®šä¹‰ç»„ä»¶ä¸­è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-ts{1-4,11}" lang="ts{1-4,11}">@Builder
function myBuilder() {
  Text("å…¨å±€@Builder")
}

@Entry
@Component
struct Index {
  build() {
    Column({ space: 10 }) {
      myBuilder()
    }
    .width("100%")
    .height("100%")
  }
}
</code></pre>
<p><strong>@Builderä¸@Componentçš„åŒºåˆ«</strong></p>
<p>ç»è¿‡ä¸Šé¢çš„æè¿°å¯èƒ½ä¼šå‘ç°@Componentå’Œ@Builderéƒ½å¯ä»¥ç”¨äºUIå¤ç”¨ï¼Œä»–ä»¬çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>@Builder</code>ï¼šçº¯UIé€»è¾‘å¤ç”¨ï¼Œæ— ç‹¬ç«‹çŠ¶æ€ç®¡ç†ä¸ç”Ÿå‘½å‘¨æœŸï¼Œå¿…é¡»é€šè¿‡å‚æ•°ä¼ é€’çš„æ–¹å¼ä¸è°ƒç”¨æ–¹å®Œæˆæ•°æ®äº¤äº’ã€‚</li>
<li><code>@Componentï¼š</code>å®Œæ•´ç»„ä»¶å°è£…ï¼Œæ‹¥æœ‰ç‹¬ç«‹çŠ¶æ€ç®¡ç†ä¸ç”Ÿå‘½å‘¨æœŸã€‚</li>
</ul>
<h3 data-id="heading-3">è‡ªå®šä¹‰æ„å»ºå‡½æ•°å‚æ•°ä¼ é€’è§„åˆ™</h3>
<p>è‡ªå®šä¹‰æ„å»ºå‡½æ•°çš„å‚æ•°ä¼ é€’æœ‰<strong>æŒ‰å€¼ä¼ é€’</strong>å’Œ<strong>æŒ‰å¼•ç”¨ä¼ é€’</strong>ä¸¤ç§ï¼Œå‡éœ€éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li>å‚æ•°çš„ç±»å‹å¿…é¡»ä¸å‚æ•°å£°æ˜çš„ç±»å‹ä¸€è‡´ï¼Œä¸å…è®¸undefinedã€nullå’Œè¿”å›undefinedã€nullçš„è¡¨è¾¾å¼ã€‚</li>
<li>åœ¨<code>@Builder</code>è£…é¥°çš„å‡½æ•°å†…éƒ¨ï¼Œä¸å…è®¸æ”¹å˜å‚æ•°å€¼ã€‚</li>
<li>åªæœ‰å½“ä¼ å…¥ä¸€ä¸ªå‚æ•°ä¸”è¯¥å‚æ•°ç›´æ¥ä¼ å…¥å¯¹è±¡å­—é¢é‡æ—¶ï¼Œæ‰ä¼šæŒ‰å¼•ç”¨ä¼ é€’ï¼Œå…¶ä»–ä¼ é€’æ–¹å¼å‡ä¸ºæŒ‰å€¼ä¼ é€’ã€‚</li>
</ul>
<h4 data-id="heading-4">æŒ‰å€¼ä¼ é€’å‚æ•°</h4>
<p>å®šä¹‰ä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æ„å»ºå‡½æ•°<code>textBuilder(text: string)</code>ï¼Œå‚æ•°åªæœ‰ä¸€ä¸ªä¸”ä¸æ˜¯å­—é¢é‡å¯¹è±¡ï¼Œæ‰€ä»¥æŒ‰ç…§å€¼ä¼ é€’ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">textBuilder</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Hello,"</span>+text).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)
}
</code></pre>
<p>è°ƒç”¨<code>@Builder</code>è£…é¥°çš„å‡½æ•°é»˜è®¤æŒ‰å€¼ä¼ é€’ã€‚å½“ä¼ é€’çš„å‚æ•°ä¸ºçŠ¶æ€å˜é‡æ—¶ï¼ŒçŠ¶æ€å˜é‡çš„æ”¹å˜ä¸ä¼šå¼•èµ·@Builderå‡½æ•°å†…çš„UIåˆ·æ–°</p>
<pre><code class="hljs language-ts" lang="ts">
<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'World'</span>

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title function_">textBuilder</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>)
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"ä¿®æ”¹text"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">//ä¿®æ”¹çŠ¶æ€å˜é‡ï¼Œä¸ä¼šå¼•ç”¨@Builderå‡½æ•°ä¸­UIçš„æ›´æ–°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">"ArkUI"</span>
      })
    }
  }
}
</code></pre>
<p>å¦‚ä¸‹å›¾ï¼Œç»æµ‹è¯•çŠ¶æ€å˜é‡çš„æ”¹å˜<strong>ä¸ä¼šå¼•èµ·<code>@Builder</code>å‡½æ•°å†…UIåˆ·æ–°</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c310412cdbe14f8e95c8458d6cb04f6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744005&amp;x-signature=ihCpYr2t5BG1yDv5%2BDG8hfgcQ1A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-5">æŒ‰å¼•ç”¨ä¼ é€’å‚æ•°</h4>
<p>å®šä¹‰ä¸€ä¸ª<code>@Builder</code>è‡ªå®šä¹‰æ„å»ºå‡½æ•°ï¼Œå‚æ•°ä¸ºè‡ªå®šä¹‰å¯¹è±¡ç±»å‹ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {
  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>
}

<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">textBuilder</span>(<span class="hljs-params">params: Params</span>) {
  <span class="hljs-title class_">Text</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">${params.text}</span>`</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)
}
</code></pre>
<p>è°ƒç”¨æŒ‰å¼•ç”¨ä¼ é€’å‚æ•°æ—¶ï¼Œä¼ é€’çš„å‚æ•°å¯ä¸ºçŠ¶æ€å˜é‡ï¼Œä¸”çŠ¶æ€å˜é‡çš„æ”¹å˜ä¼šå¼•èµ·<code>@Builder</code>å‡½æ•°å†…çš„UIåˆ·æ–°ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'World'</span>

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title function_">textBuilder</span>({
        <span class="hljs-attr">text</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>
      })
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"ä¿®æ”¹text"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">//ä¿®æ”¹çŠ¶æ€å˜é‡ï¼Œä¸ä¼šå¼•ç”¨@Builderå‡½æ•°ä¸­UIçš„æ›´æ–°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">"ArkUI"</span>
      })
    }
  }
}
</code></pre>
<p>é¢„è§ˆæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54a5e3ea1a3e4aa8b8a2cabf1d5620c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744005&amp;x-signature=y448uzzXnKDkDczYYGblqNkSun8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-6">é™åˆ¶æ¡ä»¶</h3>
<ul>
<li><code>@Builder</code>è‡ªå®šä¹‰å‡½æ•°å†…éƒ¨ä¸å…è®¸ä¿®æ”¹å‚æ•°å€¼ï¼Œå¦åˆ™æ¡†æ¶ä¼šæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ã€‚</li>
<li><code>@Builder</code>è‡ªå®šä¹‰æ„å»ºå‡½æ•°å­˜åœ¨ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„å‚æ•°æ—¶ï¼Œå³ä½¿é€šè¿‡å¯¹è±¡å­—é¢é‡å½¢å¼ä¼ é€’ï¼Œå€¼çš„æ”¹å˜ä¹Ÿä¸ä¼šè§¦å‘UIåˆ·æ–°ã€‚</li>
</ul>
<p>ç¤ºä¾‹1ï¼šåœ¨<code>@Builder</code>ä¸­ä¿®æ”¹å‚æ•°å€¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {
  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>
}

<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">textBuilder</span>(<span class="hljs-params">params: Params</span>) {
  <span class="hljs-title class_">Text</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">${params.text}</span>`</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)
    .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
      params.<span class="hljs-property">text</span> = <span class="hljs-string">"å“ˆå“ˆå“ˆ"</span>	<span class="hljs-comment">//ã€é”™è¯¯ã€‘ï¼Œç¦æ­¢æ”¹å‚æ•°çš„å€¼</span>
    })
}
</code></pre>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå‡ºç°é¢„è§ˆé”™è¯¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89aded3018bb4b4f8c7d4c297bb39c6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744005&amp;x-signature=tXlX46QgA4zNdV%2FkrBnloiTBTS4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ç¤ºä¾‹2ï¼šåœ¨<code>@Builder</code>ä¸­æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸ä¼šè§¦å‘UIæ›´æ–°ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { promptAction } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.ArkUI"</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {
  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>
}

<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">textBuilder</span>(<span class="hljs-params">params: Params,num:<span class="hljs-built_in">number</span></span>) {
  <span class="hljs-title class_">Column</span>(){
    <span class="hljs-title class_">Text</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">${params.text}</span>`</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)
      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
        params.<span class="hljs-property">text</span> = <span class="hljs-string">"å“ˆå“ˆå“ˆ"</span>
      })

    <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${num}</span>`</span>)
  }

}

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'World'</span>

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title function_">textBuilder</span>({
        <span class="hljs-attr">text</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>
      },<span class="hljs-number">100</span>)
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"ä¿®æ”¹text"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">//ä¿®æ”¹çŠ¶æ€å˜é‡ï¼Œä¸ä¼šå¼•ç”¨@Builderå‡½æ•°ä¸­UIçš„æ›´æ–°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">"ArkUI"</span>
      })
    }
  }
}
</code></pre>
<p>å¦‚ä¸‹å›¾ï¼Œå½“@Builderæ¥æ”¶2ä¸ªå‚æ•°æ—¶ï¼ŒUIæ›´æ–°ä¸ç”Ÿæ•ˆã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a9723ca38724e70b220c6e84a6681aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744005&amp;x-signature=2qb6%2FllJ1aBauqCb2myUyURCY10%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
å¯¹é¸¿è’™æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œå…è´¹è€ƒå–<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2Fcd630ebdc1c444b4b4ff10ae385eeac2%3Ftype%3D1" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/cd630ebdc1c444b4b4ff10ae385eeac2?type=1" ref="nofollow noopener noreferrer">é¸¿è’™å¼€å‘è€…è®¤è¯</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥ çº¯ JS å®ç° SQL å­—æ®µæ™ºèƒ½è§£æå·¥å…·ç±»ï¼Œå‰ç«¯ä¹Ÿèƒ½ç©è½¬ SQL è§£æ]]></title>    <link>https://juejin.cn/post/7585138968167956516</link>    <guid>https://juejin.cn/post/7585138968167956516</guid>    <pubDate>2025-12-19T10:08:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585138968167956516" data-draft-id="7585171571129974820" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥ çº¯ JS å®ç° SQL å­—æ®µæ™ºèƒ½è§£æå·¥å…·ç±»ï¼Œå‰ç«¯ä¹Ÿèƒ½ç©è½¬ SQL è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T10:08:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é…¸èœåœŸç‹—"/> <meta itemprop="url" content="https://juejin.cn/user/2676649826197575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥ çº¯ JS å®ç° SQL å­—æ®µæ™ºèƒ½è§£æå·¥å…·ç±»ï¼Œå‰ç«¯ä¹Ÿèƒ½ç©è½¬ SQL è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2676649826197575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é…¸èœåœŸç‹—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:08:22.000Z" title="Fri Dec 19 2025 10:08:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ”¥ çº¯ JS å®ç° SQL å­—æ®µæ™ºèƒ½è§£æå·¥å…·ç±»ï¼Œå‰ç«¯ä¹Ÿèƒ½ç©è½¬ SQL è§£æ</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¶å°”ä¼šé‡åˆ°éœ€è¦è§£æ SQL è¯­å¥çš„åœºæ™¯ â€”â€” æ¯”å¦‚å¯è§†åŒ– SQL ç¼–è¾‘å™¨ã€æ•°æ®å¤§å±å­—æ®µæ˜ å°„ã€ä½ä»£ç å¹³å°çš„ SQL é…ç½®è§£æç­‰ã€‚å¦‚æœæ¯æ¬¡éƒ½é åç«¯è¿”å›å­—æ®µä¿¡æ¯ï¼Œä¸ä»…å¢åŠ è”è°ƒæˆæœ¬ï¼Œè¿˜ä¼šé™ä½å‰ç«¯äº¤äº’çš„çµæ´»æ€§ã€‚</p>
<p>ä»Šå¤©ç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªæˆ‘å°è£…çš„<strong>çº¯ JavaScript SQL å­—æ®µè§£æå·¥å…·ç±»</strong>ï¼Œæ— éœ€ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“ï¼Œå°±èƒ½å¿«é€Ÿæå– SQL ä¸­çš„æŸ¥è¯¢å­—æ®µã€è¡¨åã€å­—æ®µåˆ«åç­‰æ ¸å¿ƒä¿¡æ¯ï¼Œå…¼å®¹ç»å¤§å¤šæ•°å¸¸è§çš„ SELECT è¯­æ³•åœºæ™¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9c5949325ba4348a50a4498ef2ff687~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YW46I-c5Zyf54uX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766743702&amp;x-signature=orBhTBMt5vmbSdNYHp3XNHQNLW4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-1">ğŸ¯ å·¥å…·ç±»æ ¸å¿ƒèƒ½åŠ›</h3>
<p>è¿™ä¸ªå·¥å…·ç±»ä¸“ä¸ºå‰ç«¯åœºæ™¯è®¾è®¡ï¼Œä¸»æ‰“è½»é‡ã€æ˜“ç”¨ã€å…¼å®¹æ€§å¼ºï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ğŸ“ SQL é¢„å¤„ç†ï¼šè‡ªåŠ¨æ¸…ç†æ³¨é‡Šã€å¤šä½™ç©ºæ ¼ï¼Œç»Ÿä¸€è¯­æ³•æ ¼å¼</li>
<li>ğŸ” å­—æ®µæå–ï¼šæ”¯æŒæå–åŸå§‹å­—æ®µã€çº¯å­—æ®µåï¼ˆå‰”é™¤è¡¨åˆ«å / å‡½æ•°åŒ…è£¹ï¼‰</li>
<li>ğŸ“Œ åˆ«åè§£æï¼šå…¼å®¹<code>AS åˆ«å</code>å’Œç›´æ¥<code>å­—æ®µ åˆ«å</code>ä¸¤ç§å†™æ³•ï¼Œç”Ÿæˆåˆ«åæ˜ å°„è¡¨</li>
<li>ğŸ“Š è¡¨åè¯†åˆ«ï¼šä» FROM å­å¥ä¸­æå–è¡¨åï¼Œè‡ªåŠ¨è·³è¿‡è¡¨åˆ«åå’ŒåµŒå¥—æŸ¥è¯¢</li>
<li>ğŸš¨ åµŒå¥—æŸ¥è¯¢æ ‡è®°ï¼šå¿«é€Ÿè¯†åˆ« SQL ä¸­æ˜¯å¦åŒ…å«å­æŸ¥è¯¢ï¼Œä¾¿äºç‰¹æ®Šå¤„ç†</li>
<li>âœ¨ é›¶ä¾èµ–ï¼šçº¯åŸç”Ÿ JS å®ç°ï¼Œæ— éœ€å¼•å…¥ SQL è§£æåº“</li>
</ul>
<h3 data-id="heading-2">ğŸ›  æ ¸å¿ƒä»£ç å®ç°</h3>
<h4 data-id="heading-3">å®Œæ•´å·¥å…·ç±»ä»£ç </h4>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">/**
 * SQLè§£æå·¥å…·ç±»
 * ç‰¹æ€§ï¼š
 * 1. data_field ä¼˜å…ˆä½¿ç”¨åˆ«åï¼Œæ— åˆ«åæ—¶ç”¨å®é™…å­—æ®µï¼ˆç‰©ç†å­—æ®µå»å‰ç¼€/å­—ç¬¦ä¸²å¸¸é‡åŸå§‹å€¼ï¼‰
 * 2. ç‰©ç†å­—æ®µï¼ˆå¦‚"ERP_Provider"."No"ï¼‰æ— åˆ«åæ—¶æå–çº¯å­—æ®µåï¼ˆNoï¼‰
 * 3. å­—ç¬¦ä¸²å¸¸é‡å­—æ®µï¼ˆå¦‚'å…¥åº“å•'ï¼‰æ— åˆ«åæ—¶ä¿ç•™åŸå§‹å€¼ä½œä¸ºå­—æ®µå
 * 4. æ”¯æŒ PostgreSQL ç‰¹æœ‰è¯­æ³•ï¼ˆDISTINCT ONï¼‰å’ŒåµŒå¥—å­æŸ¥è¯¢
 * 5. å®Œå…¨æŒ‰SQLåŸå§‹å†…å®¹è§£æï¼Œä¸åšè‡ªå®šä¹‰ç”Ÿæˆ
 */
class SqlParser {
    /**
     * ä»SQLè¯­å¥ä¸­æå–å­—æ®µä¿¡æ¯
     * @param {String} sql - å¾…è§£æçš„SQLè¯­å¥
     * @returns {Array} æ ¼å¼åŒ–åçš„å­—æ®µåˆ—è¡¨
     */
    static extractFormattedFields(sql) {
        // é˜²å¾¡ï¼šå¤„ç†ç©ºSQLæˆ–éå­—ç¬¦ä¸²è¾“å…¥
        if (!sql || typeof sql !== 'string') return <span class="hljs-section">[]</span><span class="hljs-comment">;</span>

        // æ¸…ç†SQLï¼šç§»é™¤æ³¨é‡Šã€å¤šä½™ç©ºæ ¼/æ¢è¡Œï¼Œä¿ç•™æ ¸å¿ƒç»“æ„
        const <span class="hljs-attr">cleanedSql</span> = this.cleanSQL(sql)<span class="hljs-comment">;</span>

        // æå–ç›®æ ‡SQLï¼ˆä¼˜å…ˆè§£æå­æŸ¥è¯¢ï¼Œè‹¥å¤–å±‚æ˜¯ select * from (...)ï¼‰
        const <span class="hljs-attr">targetSql</span> = this.extractTargetSql(cleanedSql)<span class="hljs-comment">;</span>

        // éªŒè¯SQLæœ‰æ•ˆæ€§ï¼ˆå¿…é¡»å«SELECT/FROMï¼Œä¸”SELECTåœ¨FROMå‰ï¼‰
        if (!this.isValidSql(targetSql)) {
            console.warn('æ— æ•ˆSQLï¼šç¼ºå°‘SELECT/FROMæˆ–é¡ºåºé”™è¯¯')<span class="hljs-comment">;</span>
            return <span class="hljs-section">[]</span><span class="hljs-comment">;</span>
        }

        // æå–SELECTå’ŒFROMä¹‹é—´çš„å­—æ®µéƒ¨åˆ†ï¼ˆå…¼å®¹DISTINCT ONï¼‰
        const <span class="hljs-attr">upperSql</span> = targetSql.toUpperCase()<span class="hljs-comment">;</span>
        const <span class="hljs-attr">selectStart</span> = upperSql.indexOf(<span class="hljs-string">'SELECT'</span>) + <span class="hljs-number">6</span><span class="hljs-comment">;</span>
        // å¤„ç†DISTINCT ONï¼šè·³è¿‡ONåçš„æ‹¬å·å†…å®¹
        const <span class="hljs-attr">distinctOnEnd</span> = this.findDistinctOnEnd(targetSql, selectStart)<span class="hljs-comment">;</span>
        const <span class="hljs-attr">fromStart</span> = upperSql.indexOf(<span class="hljs-string">'FROM'</span>)<span class="hljs-comment">;</span>
        const <span class="hljs-attr">fieldsPart</span> = targetSql.substring(distinctOnEnd, fromStart).trim()<span class="hljs-comment">;</span>

        // åˆ†å‰²å­—æ®µå¹¶è§£æï¼ˆå¤„ç†æ‹¬å·å†…é€—å·ï¼‰
        return this.splitFields(fieldsPart)
            .map(<span class="hljs-attr">token</span> =&gt; token.trim())
            .filter(<span class="hljs-attr">token</span> =&gt; token)
            .map(<span class="hljs-attr">token</span> =&gt; this.parseToFormattedField(token))
            .filter(<span class="hljs-attr">field</span> =&gt; field)<span class="hljs-comment">; // è¿‡æ»¤è§£æå¤±è´¥çš„å­—æ®µ</span>
    }

    /**
     * æ¸…ç†SQLï¼šç§»é™¤æ³¨é‡Šå’Œå¤šä½™ç©ºæ ¼
     */
    static cleanSQL(sql) {
        return sql
            .replace(/--.*$/gm, "") // ç§»é™¤å•è¡Œæ³¨é‡Š
            .replace(/\/\*<span class="hljs-section">[\s\S]</span>*?\*\//g, "") // ç§»é™¤å¤šè¡Œæ³¨é‡Š
            .replace(/\s+/g, ' ') // å‹ç¼©ç©ºæ ¼
            .trim()<span class="hljs-comment">;</span>
    }

    /**
     * æå–ç›®æ ‡SQLï¼šè‹¥å¤–å±‚æ˜¯ select * from (å­æŸ¥è¯¢)ï¼Œåˆ™è§£æå­æŸ¥è¯¢
     */
    static extractTargetSql(cleanedSql) {
        const <span class="hljs-attr">subqueryRegex</span> = /SELECT\s+\*\s+FROM\s+\(([\s\S]*)\)\s+AS\s+\w+/i<span class="hljs-comment">;</span>
        const <span class="hljs-attr">subqueryMatch</span> = cleanedSql.match(subqueryRegex)<span class="hljs-comment">;</span>
        if (subqueryMatch &amp;&amp; subqueryMatch<span class="hljs-section">[1]</span>) {
            return subqueryMatch<span class="hljs-section">[1]</span>.trim()<span class="hljs-comment">; // å­æŸ¥è¯¢ä½œä¸ºç›®æ ‡</span>
        }
        return cleanedSql<span class="hljs-comment">; // å¦åˆ™ç”¨åŸå§‹SQL</span>
    }

    /**
     * å®šä½DISTINCT ONçš„ç»“æŸä½ç½®ï¼ˆè·³è¿‡æ‹¬å·å†…å®¹ï¼‰
     */
    static findDistinctOnEnd(sql, selectStart) {
        const <span class="hljs-attr">distinctOnRegex</span> = /DISTINCT\s+<span class="hljs-literal">ON</span>\s*\(/i<span class="hljs-comment">;</span>
        const <span class="hljs-attr">match</span> = sql.substring(selectStart).match(distinctOnRegex)<span class="hljs-comment">;</span>
        if (!match) return selectStart<span class="hljs-comment">; // æ— DISTINCT ONï¼Œç›´æ¥è¿”å›SELECTèµ·å§‹ä½ç½®</span>

        // è®¡ç®—DISTINCT ON(...)çš„ç»“æŸç´¢å¼•ï¼ˆè·³è¿‡æ‹¬å·å†…å†…å®¹ï¼‰
        const <span class="hljs-attr">onStart</span> = selectStart + match.index + match[<span class="hljs-number">0</span>].length<span class="hljs-comment">;</span>
        let <span class="hljs-attr">bracketCount</span> = <span class="hljs-number">1</span><span class="hljs-comment">; // å·²è¿›å…¥ä¸€ä¸ªæ‹¬å·</span>
        let <span class="hljs-attr">currentIndex</span> = <span class="hljs-literal">on</span>Start<span class="hljs-comment">;</span>

        while (currentIndex &lt; sql.length &amp;&amp; bracketCount &gt; 0) {
            const <span class="hljs-attr">char</span> = sql[currentIndex]<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">char</span> === <span class="hljs-string">'('</span>) bracketCount++<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">char</span> === <span class="hljs-string">')'</span>) bracketCount--<span class="hljs-comment">;</span>
            currentIndex++<span class="hljs-comment">;</span>
        }

        return currentIndex<span class="hljs-comment">; // è¿”å›DISTINCT ON(...)åçš„ä½ç½®</span>
    }

    /**
     * æ™ºèƒ½åˆ†å‰²å­—æ®µï¼ˆå¤„ç†æ‹¬å·å†…/å­—ç¬¦ä¸²å†…çš„é€—å·ï¼Œé¿å…è¯¯åˆ†å‰²ï¼‰
     */
    static splitFields(fieldsPart) {
        const <span class="hljs-attr">fields</span> = []<span class="hljs-comment">;</span>
        let <span class="hljs-attr">currentField</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
        let <span class="hljs-attr">bracketCount</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
        let <span class="hljs-attr">inQuote</span> = <span class="hljs-literal">false</span><span class="hljs-comment">; // æ ‡è®°æ˜¯å¦åœ¨å­—ç¬¦ä¸²å¼•å·å†…</span>

        for (const char of fieldsPart) {
            // å¤„ç†å•/åŒå¼•å·åˆ‡æ¢ï¼ˆå­—ç¬¦ä¸²å†…é€—å·ä¸åˆ†å‰²ï¼‰
            if (<span class="hljs-attr">char</span> === <span class="hljs-string">'"'</span> || char === <span class="hljs-string">"'"</span>) {
                <span class="hljs-attr">inQuote</span> = !inQuote<span class="hljs-comment">;</span>
                currentField += char<span class="hljs-comment">;</span>
                continue<span class="hljs-comment">;</span>
            }

            // ä»…å½“ï¼šä¸åœ¨å¼•å·å†… + æ‹¬å·è®¡æ•°ä¸º0 â†’ ç”¨é€—å·åˆ†å‰²å­—æ®µ
            if (<span class="hljs-attr">char</span> === <span class="hljs-string">','</span> &amp;&amp; !inQuote &amp;&amp; bracketCount === <span class="hljs-number">0</span>) {
                fields.push(currentField)<span class="hljs-comment">;</span>
                <span class="hljs-attr">currentField</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
                continue<span class="hljs-comment">;</span>
            }

            // æ›´æ–°æ‹¬å·è®¡æ•°ï¼ˆä»…å½“ä¸åœ¨å¼•å·å†…ï¼‰
            if (!inQuote) {
                if (<span class="hljs-attr">char</span> === <span class="hljs-string">'('</span>) bracketCount++<span class="hljs-comment">;</span>
                if (<span class="hljs-attr">char</span> === <span class="hljs-string">')'</span>) bracketCount = Math.max(<span class="hljs-number">0</span>, bracketCount - <span class="hljs-number">1</span>)<span class="hljs-comment">;</span>
            }

            currentField += char<span class="hljs-comment">;</span>
        }

        // æ·»åŠ æœ€åä¸€ä¸ªæœªåˆ†å‰²çš„å­—æ®µ
        if (currentField.trim()) fields.push(currentField.trim())<span class="hljs-comment">;</span>
        return fields<span class="hljs-comment">;</span>
    }

    /**
     * è§£æå•ä¸ªå­—æ®µä»¤ç‰Œï¼ˆæ ¸å¿ƒï¼šdata_fieldä¼˜å…ˆç”¨åˆ«åï¼‰
     */
static parseToFormattedField(token) {
    try {
        // ç§»é™¤å¼•å·ï¼ˆä¸æ”¹å˜åŸå§‹é€»è¾‘ï¼Œä»…æ¸…ç†æ ¼å¼ï¼‰
        const <span class="hljs-attr">cleanToken</span> = token
            .replace(/"(<span class="hljs-section">[^"]</span>+)"/g, '$1')  // ç§»é™¤å­—æ®µååŒå¼•å·ï¼ˆå¦‚ "No" â†’ Noï¼‰
            .replace(/'(<span class="hljs-section">[^']</span>+)'/g, '$1')  // ç§»é™¤å­—ç¬¦ä¸²å•å¼•å·ï¼ˆå¦‚ 'å…¥åº“å•' â†’ å…¥åº“å•ï¼‰
            .trim()<span class="hljs-comment">;</span>

        // 1. åŒºåˆ†ç‰©ç†å­—æ®µå’Œå­—ç¬¦ä¸²å¸¸é‡å­—æ®µ
        const <span class="hljs-attr">isStringConst</span> = !cleanToken.includes(<span class="hljs-string">'.'</span>) &amp;&amp; !cleanToken.includes(<span class="hljs-string">'('</span>) &amp;&amp; !cleanToken.includes(<span class="hljs-string">')'</span>) &amp;&amp; isNaN(cleanToken)<span class="hljs-comment">;</span>

        // 2. è§£æåˆ«åï¼ˆæ”¯æŒ AS åˆ«åã€ç©ºæ ¼åˆ«åï¼‰
        let fieldExpr, alias<span class="hljs-comment">;</span>
        const <span class="hljs-attr">asRegex</span> = /\s+as\s+/i<span class="hljs-comment">;</span>

        if (asRegex.test(cleanToken)) {
            // åœºæ™¯1ï¼šå¸¦ASçš„åˆ«åï¼ˆå¦‚ No AS å•å·ã€"ERP_Provider"."No" AS ä¾›åº”å•†ç¼–å·ï¼‰
            <span class="hljs-section">[fieldExpr, alias]</span> = cleanToken.split(asRegex).map(<span class="hljs-attr">item</span> =&gt; item.trim())<span class="hljs-comment">;</span>
        } else {
            // åœºæ™¯2ï¼šç©ºæ ¼åˆ†éš”çš„åˆ«åï¼ˆå¦‚ No å•å·ã€SUM(Amount) æ€»é‡‘é¢ï¼‰
            const <span class="hljs-attr">lastSpaceIndex</span> = cleanToken.lastIndexOf(<span class="hljs-string">' '</span>)<span class="hljs-comment">;</span>
            if (lastSpaceIndex &gt; -1) {
                const <span class="hljs-attr">potentialAlias</span> = cleanToken.substring(lastSpaceIndex + <span class="hljs-number">1</span>).trim()<span class="hljs-comment">;</span>
                // æ’é™¤åˆ«åå«æ‹¬å·/è¿ç®—ç¬¦çš„æƒ…å†µï¼ˆé¿å…è¯¯åˆ¤å‡½æ•°å†…ç©ºæ ¼ï¼‰
                if (!potentialAlias.includes('(') &amp;&amp; !potentialAlias.includes(')') &amp;&amp; !/<span class="hljs-section">[+\-*/=&lt;&gt;]</span>/.test(potentialAlias)) {
                    <span class="hljs-attr">fieldExpr</span> = cleanToken.substring(<span class="hljs-number">0</span>, lastSpaceIndex).trim()<span class="hljs-comment">;</span>
                    <span class="hljs-attr">alias</span> = potentialAlias<span class="hljs-comment">;</span>
                } else {
                    // æ— æœ‰æ•ˆåˆ«åï¼šå­—æ®µè¡¨è¾¾å¼=å®Œæ•´ä»¤ç‰Œï¼Œåˆ«åä¸ºç©º
                    <span class="hljs-attr">fieldExpr</span> = cleanToken<span class="hljs-comment">;</span>
                    <span class="hljs-attr">alias</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
                }
            } else {
                // åœºæ™¯3ï¼šæ— ç©ºæ ¼ï¼ˆæ— åˆ«åï¼Œå¦‚ Noã€'å…¥åº“å•'ã€SUM(Amount)ï¼‰
                <span class="hljs-attr">fieldExpr</span> = cleanToken<span class="hljs-comment">;</span>
                <span class="hljs-attr">alias</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
            }
        }

        // å˜é‡ï¼štableWithRealField â†’ ä¸“é—¨å­˜å‚¨â€œè¡¨å+è¯¥å­—æ®µçœŸå®åç§°â€ï¼ˆæœ‰åˆ«åæ—¶æœ‰æ•ˆï¼Œæ— åˆ«åæ—¶ä¸ºnullï¼‰
        let <span class="hljs-attr">tableWithRealField</span> = null<span class="hljs-comment">;</span>
        // ä»…å½“â€œæœ‰åˆ«åâ€ä¸”â€œæ˜¯ç‰©ç†å­—æ®µâ€æ—¶ï¼Œæ‰æå–è¡¨åå’ŒçœŸå®å­—æ®µå
        if (alias &amp;&amp; !isStringConst) {
            // ä» fieldExpr ä¸­æå–è¡¨åå’ŒçœŸå®å­—æ®µåï¼ˆå¤„ç†å‡½æ•°åŒ…è£¹åœºæ™¯ï¼Œå¦‚ SUM(ERP_Order.Amount) â†’ ERP_Order.Amountï¼‰
            let <span class="hljs-attr">realFieldExpr</span> = fieldExpr<span class="hljs-comment">;</span>
            const <span class="hljs-attr">funcMatch</span> = fieldExpr.match(/\(([^)]+)\)/)<span class="hljs-comment">;</span>
            if (funcMatch &amp;&amp; funcMatch<span class="hljs-section">[1]</span>) {
                <span class="hljs-attr">realFieldExpr</span> = funcMatch[<span class="hljs-number">1</span>].trim()<span class="hljs-comment">; // å»é™¤å‡½æ•°åŒ…è£¹ï¼ˆå¦‚ SUM(...) â†’ ...ï¼‰</span>
            }

            // åˆ†å‰²è¡¨åå’ŒçœŸå®å­—æ®µåï¼ˆå¦‚ ERP_Provider.No â†’ è¡¨å=ERP_Providerï¼ŒçœŸå®å­—æ®µå=Noï¼‰
            const <span class="hljs-attr">exprParts</span> = realFieldExpr.split(<span class="hljs-string">'.'</span>).filter(part =&gt; part.trim())<span class="hljs-comment">;</span>
            if (exprParts.length &gt;= 2) {
                const <span class="hljs-attr">tableName</span> = exprParts[<span class="hljs-number">0</span>].trim()<span class="hljs-comment">; // è¡¨å</span>
                const <span class="hljs-attr">realFieldName</span> = exprParts.slice(<span class="hljs-number">1</span>).join(<span class="hljs-string">'.'</span>).trim()<span class="hljs-comment">; // çœŸå®å­—æ®µåï¼ˆå…¼å®¹å­—æ®µåå«â€œ.â€çš„æç«¯åœºæ™¯ï¼‰</span>
                <span class="hljs-attr">tableWithRealField</span> = `<span class="hljs-variable">${tableName}</span>.<span class="hljs-variable">${realFieldName}</span>`<span class="hljs-comment">; // æ ¼å¼ï¼šè¡¨å.çœŸå®å­—æ®µå</span>
            }
        }

        // 3. æ ¸å¿ƒé€»è¾‘ï¼šdata_field ä¼˜å…ˆç”¨åˆ«åï¼Œæ— åˆ«åç”¨å®é™…å­—æ®µ
        let dataField<span class="hljs-comment">;</span>
        if (alias) {
            // æœ‰åˆ«å â†’ <span class="hljs-attr">data_field</span> = åˆ«å
            <span class="hljs-attr">dataField</span> = alias<span class="hljs-comment">;</span>
        } else {
            // æ— åˆ«å â†’ æŒ‰å­—æ®µç±»å‹å–å®é™…å€¼
            <span class="hljs-attr">dataField</span> = isStringConst
                ? fieldExpr  // å­—ç¬¦ä¸²å¸¸é‡â†’åŸå§‹å€¼ï¼ˆå¦‚ 'å…¥åº“å•' â†’ å…¥åº“å•ï¼‰
                : this.getPureFieldName(fieldExpr)<span class="hljs-comment">; // ç‰©ç†å­—æ®µâ†’å»å‰ç¼€ï¼ˆå¦‚ ERP_Provider.No â†’ Noï¼‰</span>
        }

        // 4. data_title ä¿æŒåŸé€»è¾‘ï¼ˆæ˜¾ç¤ºåç§°ï¼Œä¼˜å…ˆç”¨åˆ«åï¼‰
        const <span class="hljs-attr">dataTitle</span> = alias || this.extractSimpleName(fieldExpr)<span class="hljs-comment">;</span>

        // 5. æ¨æ–­æ•°æ®ç±»å‹å’Œæšä¸¾é€‰é¡¹
        const <span class="hljs-attr">dataType</span> = this.inferDataType(dataField, dataTitle, token)<span class="hljs-comment">;</span>
        const <span class="hljs-attr">enumOptions</span> = dataType === <span class="hljs-string">'enum'</span> ? this.extractEnumOptions(token) : []<span class="hljs-comment">;</span>

        return {
            data_title: dataTitle,    // æ˜¾ç¤ºåç§°ï¼ˆåŸé€»è¾‘ä¸å˜ï¼‰
            data_field: dataField,    // å­—æ®µæ ‡è¯†ï¼ˆåˆ«åä¼˜å…ˆï¼ï¼‰
            FormType: this.getFormTypeByDataType(dataType),
            enumOptions: enumOptions,
            search_data_field: fieldExpr,
            tableWithRealField: tableWithRealField // ä¸“é—¨å­˜å‚¨â€œè¡¨å+è¯¥å­—æ®µçœŸå®åç§°â€ï¼ˆæœ‰åˆ«åæ—¶æœ‰æ•ˆï¼‰
        }<span class="hljs-comment">;</span>
    } catch (error) {
        console.warn(`å­—æ®µè§£æå¤±è´¥ï¼Œè·³è¿‡ï¼š${token}`, error)<span class="hljs-comment">;</span>
        return null<span class="hljs-comment">;</span>
    }
}

    /**
     * ç‰©ç†å­—æ®µæå–çº¯å­—æ®µåï¼ˆæ— åˆ«åæ—¶ç”¨ï¼šå»é™¤è¡¨åå‰ç¼€ã€å‡½æ•°åŒ…è£¹ï¼‰
     */
    static getPureFieldName(fieldExpr) {
        // å¤„ç†å‡½æ•°åŒ…è£¹ï¼ˆå¦‚ SUM(ERP_StorageIn.Amount) â†’ ERP_StorageIn.Amountï¼‰
        const <span class="hljs-attr">funcMatch</span> = fieldExpr.match(/\(([^)]+)\)/)<span class="hljs-comment">;</span>
        if (funcMatch &amp;&amp; funcMatch<span class="hljs-section">[1]</span>) {
            <span class="hljs-attr">fieldExpr</span> = funcMatch[<span class="hljs-number">1</span>].trim()<span class="hljs-comment">;</span>
            // é€’å½’å¤„ç†åµŒå¥—å‡½æ•°ï¼ˆå¦‚ SUM(COALESCE(Amount, 0)) â†’ Amountï¼‰
            if (/\w+\(/.test(fieldExpr)) {
                return this.getPureFieldName(fieldExpr)<span class="hljs-comment">;</span>
            }
        }

        // å»é™¤è¡¨åå‰ç¼€ï¼ˆå¦‚ ERP_Provider.No â†’ noã€"ERP_StorageIn"."Amount" â†’ Amountï¼‰
        const <span class="hljs-attr">dotIndex</span> = fieldExpr.lastIndexOf(<span class="hljs-string">'.'</span>)<span class="hljs-comment">;</span>
        return dotIndex &gt; -1
            ? fieldExpr.substring(dotIndex + 1).trim()
            : fieldExpr.trim()<span class="hljs-comment">;</span>
    }

    /**
     * æå–ç®€å•åç§°ï¼ˆæ— åˆ«åæ—¶ç”¨äº data_titleï¼‰
     */
    static extractSimpleName(fieldExpr) {
        // å¤„ç†å‡½æ•°ï¼ˆå¦‚ SUM(Amount) â†’ Amountï¼‰
        const <span class="hljs-attr">funcMatch</span> = fieldExpr.match(/\(([^)]+)\)/)<span class="hljs-comment">;</span>
        if (funcMatch &amp;&amp; funcMatch<span class="hljs-section">[1]</span>) {
            <span class="hljs-attr">fieldExpr</span> = funcMatch[<span class="hljs-number">1</span>].trim()<span class="hljs-comment">;</span>
        }

        // å¤„ç†è¡¨åå‰ç¼€ï¼ˆå¦‚ ERP_Provider.No â†’ Noï¼‰
        const <span class="hljs-attr">dotIndex</span> = fieldExpr.lastIndexOf(<span class="hljs-string">'.'</span>)<span class="hljs-comment">;</span>
        if (dotIndex &gt; -1) {
            return fieldExpr.substring(dotIndex + 1).trim()<span class="hljs-comment">;</span>
        }

        return fieldExpr.trim()<span class="hljs-comment">;</span>
    }

    /**
     * ä»CASEè¯­å¥æå–æšä¸¾é€‰é¡¹
     */
    static extractEnumOptions(token) {
        const <span class="hljs-attr">options</span> = []<span class="hljs-comment">;</span>
        const <span class="hljs-attr">upperToken</span> = token.toUpperCase()<span class="hljs-comment">;</span>

        if (upperToken.includes('CASE') &amp;&amp; upperToken.includes('WHEN') &amp;&amp; upperToken.includes('THEN')) {
            const <span class="hljs-attr">caseStart</span> = upperToken.indexOf(<span class="hljs-string">'CASE'</span>)<span class="hljs-comment">;</span>
            const <span class="hljs-attr">caseEnd</span> = upperToken.indexOf(<span class="hljs-string">'END'</span>)<span class="hljs-comment">;</span>
            if (caseStart !== -1 &amp;&amp; caseEnd !== -1) {
                const <span class="hljs-attr">caseContent</span> = token.substring(caseStart + <span class="hljs-number">4</span>, caseEnd).trim()<span class="hljs-comment">;</span>
                const <span class="hljs-attr">whenParts</span> = caseContent.split(/WHEN/i).filter(part =&gt; part.trim())<span class="hljs-comment">;</span>

                for (const part of whenParts) {
                    const <span class="hljs-attr">thenIndex</span> = part.toUpperCase().indexOf(<span class="hljs-string">'THEN'</span>)<span class="hljs-comment">;</span>
                    if (thenIndex !== -1) {
                        const <span class="hljs-attr">optionText</span> = part.substring(thenIndex + <span class="hljs-number">4</span>).trim()
                            .replace(/<span class="hljs-section">['"]</span>/g, '')
                            .replace(/<span class="hljs-section">[,;]</span>/g, '')
                            .split(/\s+/)<span class="hljs-section">[0]</span><span class="hljs-comment">;</span>

                        if (optionText) options.push({ label: optionText, value: optionText })<span class="hljs-comment">;</span>
                    }
                }
            }
        }

        return options<span class="hljs-comment">;</span>
    }

    /**
     * æ¨æ–­æ•°æ®ç±»å‹
     */
    static inferDataType(fieldName, alias, originalToken) {
        const <span class="hljs-attr">upperField</span> = fieldName.toUpperCase()<span class="hljs-comment">;</span>
        const <span class="hljs-attr">upperAlias</span> = alias.toUpperCase()<span class="hljs-comment">;</span>
        const <span class="hljs-attr">upperToken</span> = originalToken.toUpperCase()<span class="hljs-comment">;</span>

        // CASEè¯­å¥â†’æšä¸¾
        if (upperToken.includes('CASE') &amp;&amp; upperToken.includes('WHEN') &amp;&amp; upperToken.includes('THEN')) {
            return 'select'<span class="hljs-comment">;</span>
        }

        // æ—¥æœŸç±»å‹
        const <span class="hljs-attr">dateKeys</span> = [<span class="hljs-string">'DATE'</span>, <span class="hljs-string">'TIME'</span>, <span class="hljs-string">'DAY'</span>, <span class="hljs-string">'MONTH'</span>, <span class="hljs-string">'YEAR'</span>, <span class="hljs-string">'æ—¥æœŸ'</span>, <span class="hljs-string">'æ—¶é—´'</span>, <span class="hljs-string">'å¤©'</span>]<span class="hljs-comment">;</span>
        const <span class="hljs-attr">dateFuncs</span> = [<span class="hljs-string">'DATE_PART'</span>, <span class="hljs-string">'CURRENT_DATE'</span>, <span class="hljs-string">'DATE_TRUNC'</span>, <span class="hljs-string">'CREATETIME'</span>]<span class="hljs-comment">;</span>
        if (dateFuncs.some(<span class="hljs-attr">f</span> =&gt; upperToken.includes(f)) || dateKeys.some(k =&gt; upperField.includes(k) || upperAlias.includes(k))) {
            return 'date'<span class="hljs-comment">;</span>
        }

        // æ•°å­—ç±»å‹
        const <span class="hljs-attr">numKeys</span> = [<span class="hljs-string">'NUM'</span>, <span class="hljs-string">'æ•°é‡'</span>, <span class="hljs-string">'é‡‘é¢'</span>, <span class="hljs-string">'å¤©æ•°'</span>, <span class="hljs-string">'INT'</span>,<span class="hljs-string">'DOUBLE'</span>,<span class="hljs-string">'å•ä»·'</span>,<span class="hljs-string">'åˆ†æ•°'</span>,<span class="hljs-string">'æ€»æ•°'</span>,<span class="hljs-string">'ä½™é¢'</span>,<span class="hljs-string">'ä»·æ ¼'</span>,<span class="hljs-string">'æˆæœ¬'</span>,<span class="hljs-string">'é‡é‡'</span>,<span class="hljs-string">'æŒ‡æ•°'</span>,<span class="hljs-string">'ç‡'</span>,<span class="hljs-string">'é¢'</span>]<span class="hljs-comment">;</span>
        const <span class="hljs-attr">numFuncs</span> = [<span class="hljs-string">'SUM'</span>, <span class="hljs-string">'COUNT'</span>, <span class="hljs-string">'AVG'</span>, <span class="hljs-string">'COALESCE'</span>]<span class="hljs-comment">;</span>
        if (numFuncs.some(<span class="hljs-attr">f</span> =&gt; upperToken.includes(f)) || /[+\-*/]/.test(upperToken) || numKeys.some(k =&gt; upperField.includes(k) || upperAlias.includes(k))) {
            return 'double'<span class="hljs-comment">;</span>
        }

        // æšä¸¾ç±»å‹
        const <span class="hljs-attr">enumKeys</span> = [<span class="hljs-string">'STATE'</span>, <span class="hljs-string">'TYPE'</span>, <span class="hljs-string">'çŠ¶æ€'</span>, <span class="hljs-string">'ç±»å‹'</span>,<span class="hljs-string">'enum'</span>,<span class="hljs-string">'ç­‰çº§'</span>,<span class="hljs-string">'ç§ç±»'</span>,<span class="hljs-string">'ç±»åˆ«'</span>,<span class="hljs-string">'çº§åˆ«'</span>,<span class="hljs-string">'ç­‰çº§'</span>,<span class="hljs-string">'æ€§åˆ«'</span>,<span class="hljs-string">'åˆ†ç±»'</span>]<span class="hljs-comment">;</span>
        if (enumKeys.some(<span class="hljs-attr">k</span> =&gt; upperField.includes(k) || upperAlias.includes(k))) {
            return 'select'<span class="hljs-comment">;</span>
        }

        // é»˜è®¤å­—ç¬¦ä¸²
        return 'string'<span class="hljs-comment">;</span>
    }

    /**
     * è·å–è¡¨å•ç»„ä»¶ç±»å‹
     */
    static getFormTypeByDataType(dataType) {
        const <span class="hljs-attr">typeMap</span> = {
            'date': 'date',
            'number': 'double',
            'double': 'double',
            'string': 'string',
            'enum': 'select',
            'select': 'select'
        }<span class="hljs-comment">;</span>
        return typeMap<span class="hljs-section">[dataType]</span> || 'string'<span class="hljs-comment">;</span>
    }

    /**
     * éªŒè¯SQLæœ‰æ•ˆæ€§
     */
    static isValidSql(sql) {
        const <span class="hljs-attr">upperSql</span> = sql.toUpperCase()<span class="hljs-comment">;</span>
        const <span class="hljs-attr">selectIndex</span> = upperSql.indexOf(<span class="hljs-string">'SELECT'</span>)<span class="hljs-comment">;</span>
        const <span class="hljs-attr">fromIndex</span> = upperSql.indexOf(<span class="hljs-string">'FROM'</span>)<span class="hljs-comment">;</span>
        // æ’é™¤SELECT * æ— å…·ä½“å­—æ®µçš„åœºæ™¯
        const <span class="hljs-attr">hasFields</span> = selectIndex + <span class="hljs-number">6</span> &lt; fromIndex &amp;&amp; sql.substring(selectIndex + <span class="hljs-number">6</span>, fromIndex).trim() !== <span class="hljs-string">'*'</span><span class="hljs-comment">;</span>
        return selectIndex !== -1 &amp;&amp; fromIndex !== -1 &amp;&amp; selectIndex &lt; fromIndex &amp;&amp; hasFields<span class="hljs-comment">;</span>
    }
}

export default SqlParser<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-4">ğŸš€ å¿«é€Ÿä½¿ç”¨ç¤ºä¾‹</h3>
<h4 data-id="heading-5">åŸºç¡€ä½¿ç”¨</h4>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span> æµ‹è¯•<span class="hljs-keyword">SQL</span>ï¼ˆåŒ…å«åˆ«åã€å‡½æ•°ã€è¡¨åˆ«åï¼‰
const testSql <span class="hljs-operator">=</span> `
  <span class="hljs-keyword">SELECT</span> 
    t.id <span class="hljs-keyword">AS</span> user_id, 
    t.name, 
    t.age, 
    <span class="hljs-built_in">MAX</span>(t.score) <span class="hljs-keyword">AS</span> max_score,
    t.address
  <span class="hljs-keyword">FROM</span> 
    user_info t
  <span class="hljs-keyword">WHERE</span> 
    t.age <span class="hljs-operator">&gt;</span> <span class="hljs-number">18</span>
  <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> 
    t.id, t.name
`;

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> ä¸€é”®è§£æ
const <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> SqlFieldParser.quickParse(testSql);

<span class="hljs-operator">/</span><span class="hljs-operator">/</span> è¾“å‡ºç»“æœ
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'åŸå§‹å­—æ®µåˆ—è¡¨ï¼š'</span>, result.fields); <span class="hljs-operator">/</span><span class="hljs-operator">/</span> ["t.id", "t.name", "t.age", "t.score", "t.address"]
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'çº¯å­—æ®µåï¼š'</span>, result.pureFields); <span class="hljs-operator">/</span><span class="hljs-operator">/</span> ["id", "name", "age", "score", "address"]
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'å­—æ®µåˆ«åæ˜ å°„ï¼š'</span>, result.fieldAliasMap); <span class="hljs-operator">/</span><span class="hljs-operator">/</span> { user_id: "t.id", max_score: "t.score" }
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'æ¶‰åŠè¡¨åï¼š'</span>, result.tables); <span class="hljs-operator">/</span><span class="hljs-operator">/</span> ["user_info"]
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'æ˜¯å¦æœ‰åµŒå¥—æŸ¥è¯¢ï¼š'</span>, result.hasNestedQuery); <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-literal">false</span>
</code></pre>
<h4 data-id="heading-6">è¾“å‡ºç»“æœè¯´æ˜</h4>








































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>fields</td><td>Array</td><td>åŸå§‹å­—æ®µåˆ—è¡¨ï¼ˆå«è¡¨åˆ«å / å‡½æ•°åŒ…è£¹å‰çš„å­—æ®µï¼‰</td></tr><tr><td>pureFields</td><td>Array</td><td>çº¯å­—æ®µåï¼ˆå‰”é™¤è¡¨åˆ«åã€å‡½æ•°ï¼Œä»…ä¿ç•™å­—æ®µæœ¬èº«ï¼‰</td></tr><tr><td>fieldAliasMap</td><td>Object</td><td>åˆ«åæ˜ å°„è¡¨ï¼ˆåˆ«å â†’ åŸå§‹å­—æ®µï¼‰</td></tr><tr><td>tables</td><td>Array</td><td>å»é‡åçš„è¡¨ååˆ—è¡¨</td></tr><tr><td>hasNestedQuery</td><td>Boolean</td><td>æ˜¯å¦åŒ…å«åµŒå¥—æŸ¥è¯¢</td></tr><tr><td>reverseAliasMap</td><td>Object</td><td>åå‘åˆ«åæ˜ å°„ï¼ˆåŸå§‹å­—æ®µ â†’ åˆ«åï¼‰</td></tr></tbody></table>
<h3 data-id="heading-7">ğŸ¨ é€‚ç”¨åœºæ™¯</h3>
<ol>
<li><strong>å¯è§†åŒ– SQL ç¼–è¾‘å™¨</strong>ï¼šè§£æç”¨æˆ·è¾“å…¥çš„ SQLï¼Œè‡ªåŠ¨æå–å­—æ®µç”¨äºè¡¨å• / è¡¨æ ¼æ¸²æŸ“</li>
<li><strong>ä½ä»£ç å¹³å°</strong>ï¼šè§£æé…ç½®çš„ SQL è¯­å¥ï¼Œå®ç°å­—æ®µæ˜ å°„ã€æ•°æ®é¢„è§ˆ</li>
<li><strong>æ•°æ®å¤§å± / æŠ¥è¡¨å·¥å…·</strong>ï¼šè‡ªåŠ¨è¯†åˆ« SQL ä¸­çš„ç»´åº¦ / æŒ‡æ ‡å­—æ®µï¼Œç®€åŒ–é…ç½®</li>
<li><strong>å‰ç«¯æ•°æ®æ ¡éªŒ</strong>ï¼šæ ¡éªŒ SQL ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—æ®µï¼Œé¿å…éæ³•æŸ¥è¯¢</li>
<li><strong>SQL æ ¼å¼åŒ–å·¥å…·</strong>ï¼šè¾…åŠ©æå–æ ¸å¿ƒä¿¡æ¯ï¼Œä¼˜åŒ–æ ¼å¼åŒ–æ•ˆæœ</li>
</ol>
<h3 data-id="heading-8">ğŸ“ˆ æ‰©å±•æ–¹å‘</h3>
<p>è¿™ä¸ªå·¥å…·ç±»æ˜¯åŸºç¡€ç‰ˆï¼Œæ»¡è¶³å¤§éƒ¨åˆ†å‰ç«¯åœºæ™¯éœ€æ±‚ï¼Œä½ å¯ä»¥æ ¹æ®ä¸šåŠ¡æ‰©å±•ï¼š</p>
<ol>
<li><strong>æ”¯æŒ JOIN è¡¨è§£æ</strong>ï¼šæ‰©å±•<code>parseTables</code>æ–¹æ³•ï¼Œè§£æ JOIN å­å¥ä¸­çš„å…³è”è¡¨</li>
<li><strong>é€’å½’è§£æåµŒå¥—æŸ¥è¯¢</strong>ï¼šå¯¹<code>(SELECT ...)</code>å½¢å¼çš„å­æŸ¥è¯¢åšé€’å½’è§£æ</li>
<li><strong>æ”¯æŒ INSERT/UPDATE è¯­æ³•</strong>ï¼šæ–°å¢<code>parseInsertFields</code>/<code>parseUpdateFields</code>æ–¹æ³•</li>
<li><strong>è¯­æ³•é”™è¯¯æç¤º</strong>ï¼šå¢åŠ  SQL è¯­æ³•åˆæ³•æ€§æ ¡éªŒï¼Œè¿”å›é”™è¯¯ä½ç½®</li>
<li><strong>ç»“åˆä¸“ä¸šè§£æåº“</strong>ï¼šå¦‚éœ€æ›´ç²¾å‡†çš„è¯­æ³•åˆ†æï¼Œå¯é›†æˆ<code>sql-parser</code>ç­‰åº“å¢å¼ºèƒ½åŠ›</li>
</ol>
<h3 data-id="heading-9">ğŸ’¡ æ ¸å¿ƒè®¾è®¡æ€è·¯</h3>
<ol>
<li><strong>é¢„å¤„ç†ä¼˜å…ˆ</strong>ï¼šå…ˆæ¸…ç†æ³¨é‡Šã€ç»Ÿä¸€æ ¼å¼ï¼Œé¿å…å›  SQL å†™æ³•ä¸è§„èŒƒå¯¼è‡´è§£æå¤±è´¥</li>
<li><strong>æ­£åˆ™ç²¾å‡†åŒ¹é…</strong>ï¼šé’ˆå¯¹ SELECT/FROM æ ¸å¿ƒå­å¥è®¾è®¡ä¸“å±æ­£åˆ™ï¼Œå…¼é¡¾å…¼å®¹æ€§å’Œæ€§èƒ½</li>
<li><strong>åˆ†å±‚è§£æ</strong>ï¼šå…ˆæå–æ ¸å¿ƒç‰‡æ®µï¼Œå†æ‹†åˆ†å­—æ®µ / è¡¨åï¼Œé™ä½è§£æå¤æ‚åº¦</li>
<li><strong>è½»é‡ä¼˜å…ˆ</strong>ï¼šå‰ç«¯åœºæ™¯ä¸‹ï¼Œé¿å…å¼•å…¥é‡é‡çº§è§£æåº“ï¼Œç”¨åŸç”Ÿ JS å®ç°æ ¸å¿ƒèƒ½åŠ›</li>
</ol>
<h3 data-id="heading-10">ğŸ¯ å…¼å®¹æ€§è¯´æ˜</h3>
<p>âœ… æ”¯æŒçš„ SQL è¯­æ³•ï¼š</p>
<ul>
<li>åŸºç¡€ SELECT æŸ¥è¯¢ï¼ˆå« DISTINCT/TOP å…³é”®å­—ï¼‰</li>
<li>å­—æ®µåˆ«åï¼ˆAS åˆ«å / ç›´æ¥åˆ«åï¼‰</li>
<li>è¡¨åˆ«åï¼ˆå¦‚Â <code>user_info t</code>ï¼‰</li>
<li>å‡½æ•°åŒ…è£¹å­—æ®µï¼ˆMAX/COUNT/CONCAT ç­‰ï¼‰</li>
<li>å¤šè¡¨æŸ¥è¯¢ï¼ˆFROM åå¤šè¡¨é€—å·åˆ†éš”ï¼‰</li>
<li>å« WHERE/GROUP BY/ORDER BY çš„å¤æ‚æŸ¥è¯¢</li>
</ul>
<p>âŒ æš‚ä¸æ”¯æŒï¼ˆå¯æ‰©å±•ï¼‰ï¼š</p>
<ul>
<li>å¤æ‚åµŒå¥—å­æŸ¥è¯¢çš„æ·±åº¦è§£æ</li>
<li>INSERT/UPDATE/DELETE è¯­å¥è§£æ</li>
<li>éå¸¸è§„ SQL è¯­æ³•ï¼ˆå¦‚å­˜å‚¨è¿‡ç¨‹ã€è‡ªå®šä¹‰å‡½æ•°ï¼‰</li>
</ul>
<h3 data-id="heading-11">ğŸ“ æ€»ç»“</h3>
<p>è¿™ä¸ªå·¥å…·ç±»çš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>å‰ç«¯è‡ªä¸»è§£æ SQL</strong>ï¼Œæ‘†è„±å¯¹åç«¯çš„ä¾èµ–ï¼Œæå‡äº¤äº’ä½“éªŒã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•ï¼Œé€‚åˆä½œä¸ºå‰ç«¯ SQL è§£æçš„åŸºç¡€ç»„ä»¶ã€‚</p>
<p>å¦‚æœä½ æœ‰ç±»ä¼¼çš„ä¸šåŠ¡åœºæ™¯ï¼Œç›´æ¥å¤åˆ¶ä»£ç å°±èƒ½ç”¨ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ‰©å±•åŠŸèƒ½ã€‚å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµæ›´å¤šæ‰©å±•æ€è·¯ï½</p>
<blockquote>
<p>å®Œæ•´ä»£ç å·²æ•´ç†å¥½ï¼Œå¯ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œå»ºè®®æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯åšä¸ªæ€§åŒ–è°ƒæ•´ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOSåº”ç”¨å¼€å‘ä¹‹ç€‘å¸ƒæµã€ä¸Šæ‹‰åŠ è½½ã€æ— é™æ»šåŠ¨ä¸€æ–‡æå®š]]></title>    <link>https://juejin.cn/post/7585377128490057780</link>    <guid>https://juejin.cn/post/7585377128490057780</guid>    <pubDate>2025-12-19T10:15:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377128490057780" data-draft-id="7585206349749403700" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOSåº”ç”¨å¼€å‘ä¹‹ç€‘å¸ƒæµã€ä¸Šæ‹‰åŠ è½½ã€æ— é™æ»šåŠ¨ä¸€æ–‡æå®š"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-19T10:15:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·595143322177"/> <meta itemprop="url" content="https://juejin.cn/user/2359987827640909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOSåº”ç”¨å¼€å‘ä¹‹ç€‘å¸ƒæµã€ä¸Šæ‹‰åŠ è½½ã€æ— é™æ»šåŠ¨ä¸€æ–‡æå®š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2359987827640909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·595143322177
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:15:21.000Z" title="Fri Dec 19 2025 10:15:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç€‘å¸ƒæµï¼ˆWaterFlowï¼‰</h2>
<p>ç€‘å¸ƒæµå¸¸ç”¨äºå±•ç¤ºå›¾ç‰‡ä¿¡æ¯ï¼Œå°¤å…¶åœ¨è´­ç‰©å’Œèµ„è®¯ç±»åº”ç”¨ä¸­ã€‚<code>ArkUI</code>æä¾›äº†<code>WaterFlow</code>å®¹å™¨ç»„ä»¶ï¼Œç”¨äºæ„å»ºç€‘å¸ƒæµå¸ƒå±€ã€‚<code>WaterFlow</code>ç»„ä»¶æ”¯æŒæ¡ä»¶æ¸²æŸ“ã€å¾ªç¯æ¸²æŸ“å’Œæ‡’åŠ è½½ç­‰æ–¹å¼ç”Ÿæˆå­ç»„ä»¶ã€‚</p>
<p>ç€‘å¸ƒæµæ”¯æŒæ¨ªå‘å’Œçºµå‘å¸ƒå±€ã€‚</p>
<ul>
<li>åœ¨çºµå‘å¸ƒå±€ä¸­ï¼Œå¯ä»¥é€šè¿‡<code>columnsTemplate</code>è®¾ç½®åˆ—æ•°ã€‚</li>
<li>åœ¨æ¨ªå‘å¸ƒå±€ä¸­ï¼Œå¯ä»¥é€šè¿‡<code>rowsTemplate</code>è®¾ç½®è¡Œæ•°ã€‚</li>
</ul>
<p>åœ¨ç€‘å¸ƒæµçš„çºµå‘å¸ƒå±€ä¸­ï¼Œç¬¬ä¸€è¡Œçš„å­èŠ‚ç‚¹æŒ‰ä»å·¦åˆ°å³é¡ºåºæ’åˆ—ï¼Œä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹å°†æ”¾ç½®åœ¨å½“å‰æ€»é«˜åº¦æœ€å°çš„åˆ—ã€‚å¦‚æœå¤šä¸ªåˆ—çš„æ€»é«˜åº¦ç›¸åŒï¼Œåˆ™æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºå¡«å……ã€‚å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/050d3daeb4244077abdaff167628ad4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744121&amp;x-signature=LW4qS%2BNLUOZmdxPpLsy2XBA5Pb0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åœ¨ç€‘å¸ƒæµçš„æ¨ªå‘å¸ƒå±€ä¸­ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹éƒ½ä¼šæ”¾ç½®åœ¨å½“å‰æ€»å®½åº¦æœ€å°çš„è¡Œã€‚è‹¥å¤šè¡Œæ€»å®½åº¦ç›¸åŒï¼Œåˆ™æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºè¿›è¡Œå¡«å……ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4815dd1960c420e8d017ea913f1ea37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744121&amp;x-signature=xBrHZBLwvwjTpUHEtXm9t5oF95s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-1">åŸºæœ¬ä½¿ç”¨</h3>
<p>ç€‘å¸ƒæµå¸¸ç”¨äºæ— é™æ»šåŠ¨çš„ä¿¡æ¯æµã€‚å¯ä»¥åœ¨ç€‘å¸ƒæµç»„ä»¶åˆ°è¾¾æœ«å°¾ä½ç½®æ—¶è§¦å‘çš„<code>onReachEnd</code>äº‹ä»¶å›è°ƒï¼Œé…åˆ<code>LazyForEach</code>å¢åŠ æ–°æ•°æ®ï¼Œå¹¶å°†<code>footer</code>åšæˆæ­£åœ¨åŠ è½½æ–°æ•°æ®çš„æ ·å¼ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c88a2c0c0b9a4d12a0eb4e6918cdaffb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744121&amp;x-signature=ngapP9JKwf52hlRF9VVdYGwH6kA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®ç°ä¸Šå›¾çš„æ•ˆæœã€‚</p>
<h4 data-id="heading-2">å‡†å¤‡æ•°æ®æº</h4>
<p>éœ€è¦ä½¿ç”¨<code>LazyForEach</code>æ¸²æŸ“å­ç»„ä»¶æ—¶ï¼Œæ•°æ®æºå¿…é¡»æ˜¯<code>IDataSource</code>çš„å®ç°ç±»ã€‚åˆ›å»º<code>WaterFlowDataSource.ets</code>ï¼Œç”¨äºç»™<code>WaterFlow</code>ç€‘å¸ƒæµç»„ä»¶åŠ è½½æ•°æ®ã€‚</p>
<p>åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–<code>100</code>æ¡æ•°æ®ï¼Œå¹¶æä¾›è·å–æ•°æ®ã€ä¿®æ”¹æ•°æ®ã€æ·»åŠ æ•°æ®ã€åˆ é™¤æ•°æ®ã€è·å–æ•°æ®æ€»æ•°æ®ç­‰å‡½æ•°ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// WaterFlowDataSource.ets</span>

<span class="hljs-comment">// å®ç°IDataSourceæ¥å£çš„å¯¹è±¡ï¼Œç”¨äºç€‘å¸ƒæµç»„ä»¶åŠ è½½æ•°æ®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WaterFlowDataSource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDataSource</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">dataArray</span>: <span class="hljs-built_in">number</span>[] = [];
  <span class="hljs-keyword">private</span> <span class="hljs-attr">listeners</span>: <span class="hljs-title class_">DataChangeListener</span>[] = [];

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">push</span>(i);
    }
  }

  <span class="hljs-comment">// è·å–ç´¢å¼•å¯¹åº”çš„æ•°æ®</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>[index];
  }

  <span class="hljs-comment">// é€šçŸ¥æ§åˆ¶å™¨æ•°æ®é‡æ–°åŠ è½½</span>
  <span class="hljs-title function_">notifyDataReload</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {
      listener.<span class="hljs-title function_">onDataReloaded</span>();
    })
  }

  <span class="hljs-comment">// é€šçŸ¥æ§åˆ¶å™¨æ•°æ®å¢åŠ </span>
  <span class="hljs-title function_">notifyDataAdd</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {
      listener.<span class="hljs-title function_">onDataAdd</span>(index);
    })
  }

  <span class="hljs-comment">// é€šçŸ¥æ§åˆ¶å™¨æ•°æ®å˜åŒ–</span>
  <span class="hljs-title function_">notifyDataChange</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {
      listener.<span class="hljs-title function_">onDataChange</span>(index);
    })
  }

  <span class="hljs-comment">// é€šçŸ¥æ§åˆ¶å™¨æ•°æ®åˆ é™¤</span>
  <span class="hljs-title function_">notifyDataDelete</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {
      listener.<span class="hljs-title function_">onDataDelete</span>(index);
    })
  }

  <span class="hljs-comment">// é€šçŸ¥æ§åˆ¶å™¨æ•°æ®ä½ç½®å˜åŒ–</span>
  <span class="hljs-title function_">notifyDataMove</span>(<span class="hljs-attr">from</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">to</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {
      listener.<span class="hljs-title function_">onDataMove</span>(<span class="hljs-keyword">from</span>, to);
    })
  }

  <span class="hljs-comment">//é€šçŸ¥æ§åˆ¶å™¨æ•°æ®æ‰¹é‡ä¿®æ”¹</span>
  <span class="hljs-title function_">notifyDatasetChange</span>(<span class="hljs-attr">operations</span>: <span class="hljs-title class_">DataOperation</span>[]): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {
      listener.<span class="hljs-title function_">onDatasetChange</span>(operations);
    })
  }

  <span class="hljs-comment">// è·å–æ•°æ®æ€»æ•°</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>;
  }

  <span class="hljs-comment">// æ³¨å†Œæ”¹å˜æ•°æ®çš„æ§åˆ¶å™¨</span>
  <span class="hljs-title function_">registerDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener) &lt; <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">push</span>(listener);
    }
  }

  <span class="hljs-comment">// æ³¨é”€æ”¹å˜æ•°æ®çš„æ§åˆ¶å™¨</span>
  <span class="hljs-title function_">unregisterDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">const</span> pos = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener);
    <span class="hljs-keyword">if</span> (pos &gt;= <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">splice</span>(pos, <span class="hljs-number">1</span>);
    }
  }

  <span class="hljs-comment">// å¢åŠ æ•°æ®</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">add1stItem</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataAdd</span>(<span class="hljs-number">0</span>);
  }

  <span class="hljs-comment">// åœ¨æ•°æ®å°¾éƒ¨å¢åŠ ä¸€ä¸ªå…ƒç´ </span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">addLastItem</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataAdd</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);
  }

  <span class="hljs-comment">// åœ¨æŒ‡å®šç´¢å¼•ä½ç½®å¢åŠ ä¸€ä¸ªå…ƒç´ </span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">addItem</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataAdd</span>(index);
  }

  <span class="hljs-comment">// åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">delete1stItem</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataDelete</span>(<span class="hljs-number">0</span>);
  }

  <span class="hljs-comment">// åˆ é™¤ç¬¬äºŒä¸ªå…ƒç´ </span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">delete2ndItem</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataDelete</span>(<span class="hljs-number">1</span>);
  }

  <span class="hljs-comment">// åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">deleteLastItem</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataDelete</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>);
  }

  <span class="hljs-comment">// åœ¨æŒ‡å®šç´¢å¼•ä½ç½®åˆ é™¤ä¸€ä¸ªå…ƒç´ </span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">deleteItem</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataDelete</span>(index);
  }

  <span class="hljs-comment">// é‡æ–°åŠ è½½æ•°æ®</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">reload</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataReload</span>();
  }

  <span class="hljs-comment">// åœ¨æ•°æ®å°¾éƒ¨å¢åŠ countä¸ªå…ƒç´ </span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">addNewItems</span>(<span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">let</span> len = <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>[len - <span class="hljs-number">1</span>] + i + <span class="hljs-number">1</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataAdd</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);
    }
  }

  <span class="hljs-comment">// åˆ·æ–°æ‰€æœ‰å…ƒç´ </span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">refreshItems</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">newDataArray</span>: <span class="hljs-built_in">number</span>[] = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
      newDataArray.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span>[<span class="hljs-number">0</span>] + i + <span class="hljs-number">1000</span>);
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataArray</span> = newDataArray;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataReload</span>();
  }
}
</code></pre>
<h4 data-id="heading-3">ä½¿ç”¨LazyForEachå¾ªç¯æ¸²æŸ“</h4>
<p>ä¸ºäº†ä½¿<code>WaterFlow</code>çš„æ¯ä¸€ä¸ª<code>FlowItem</code>å°ºå¯¸ä¸åŒï¼Œä»¥è¾¾åˆ°äº¤é”™çš„æ•ˆæœï¼Œé‡‡ç”¨éšæœºæ•°ç”Ÿæˆ<code>[80,180)</code>çš„å®½é«˜å¹¶ä½¿ç”¨<code>itemWidthArray</code>å’Œ<code>itemHeightArray</code>ä¿å­˜ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">WaterFlowDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../datasource/WaterFlowDataScource'</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-comment">//ç€‘å¸ƒæµçš„æ•°æ®æº</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">dataSource</span>: <span class="hljs-title class_">WaterFlowDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WaterFlowDataSource</span>();
  <span class="hljs-comment">//æ¯ä¸€ä¸ªFlowItemçš„é«˜åº¦</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">itemWidthArray</span>: <span class="hljs-built_in">number</span>[] = [];
  <span class="hljs-keyword">private</span> <span class="hljs-attr">itemHeightArray</span>: <span class="hljs-built_in">number</span>[] = [];

  <span class="hljs-comment">// è®¡ç®—FlowItemå®½/é«˜</span>
  <span class="hljs-title function_">getSize</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> ret = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">180</span>);
    <span class="hljs-keyword">return</span> (ret &gt; <span class="hljs-number">80</span> ? ret : <span class="hljs-number">80</span>);
  }

  <span class="hljs-comment">// è®¾ç½®FlowItemçš„å®½/é«˜æ•°ç»„</span>
  <span class="hljs-title function_">setItemSizeArray</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemWidthArray</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getSize</span>());
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeightArray</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getSize</span>());
    }
  }
  
  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setItemSizeArray</span>();
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">WaterFlow</span>() {
        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataSource</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
          <span class="hljs-title class_">FlowItem</span>() {
            <span class="hljs-title class_">Column</span>() {
              <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${item}</span>`</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>).<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)
            }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
            .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)
            .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)
            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)
          }
          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
          .<span class="hljs-title function_">height</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeightArray</span>[index])
        })
      }.<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">"1fr 1fr"</span>)
      .<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>)
      .<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>)
      .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)
    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)
    .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)
    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">"#9ACEED"</span>)
  }
}

</code></pre>
<h3 data-id="heading-4">ä¸Šæ‹‰åŠ è½½</h3>
<h4 data-id="heading-5">æ·»åŠ å°¾éƒ¨ç»„ä»¶</h4>
<p>åœ¨åˆ›å»º<code>WaterFlow</code>æ—¶ï¼Œé€šè¿‡<code>footer</code>å‚æ•°è®¾ç½®å°¾éƒ¨ç»„ä»¶ï¼Œå½“ä¸Šæ‹‰åˆ°åº•éƒ¨æ—¶æ˜¾ç¤ºã€‚</p>
<p>ç”±äºåŠ è½½æ•°æ®éœ€è¦æ—¶é—´ï¼Œåœ¨åŠ è½½æ—¶éœ€è¦ç»™ç”¨æˆ·è§†è§‰ä¸Šçš„åé¦ˆã€‚æˆ‘ä»¬ç»™åŠ è½½å°¾éƒ¨ç»„ä»¶å®šä¹‰2ç§çŠ¶æ€<code>Lading</code>å’Œ<code>End</code>è¡¨ç¤ºåŠ è½½ä¸­å’Œåˆ°åº•äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2be047adc1b402e81f572a83be87a18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744121&amp;x-signature=dxgSxWqFZl897gbfMxcAv8oeCd0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Index.ets</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">WaterFlowDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./WaterFlowDataSource'</span>;

<span class="hljs-comment">//å°¾éƒ¨ç»„ä»¶çŠ¶æ€</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">FooterState</span> {
  <span class="hljs-title class_">Loading</span> = <span class="hljs-number">0</span>,
  <span class="hljs-title class_">End</span> = <span class="hljs-number">1</span>
}

<span class="hljs-comment">//å°¾éƒ¨ç»„ä»¶</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-title function_">itemFooter</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä¸è¦ç›´æ¥ç”¨IfElseèŠ‚ç‚¹ä½œä¸ºfooterçš„æ ¹èŠ‚ç‚¹ã€‚</span>
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">footerState</span> == <span class="hljs-title class_">FooterState</span>.<span class="hljs-property">Loading</span>) {
        <span class="hljs-title class_">Text</span>(<span class="hljs-string">`åŠ è½½ä¸­...`</span>)
          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)
          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)
          .<span class="hljs-title function_">width</span>(<span class="hljs-number">50</span>)
          .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)
          .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">Center</span>)
          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">2</span> })
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">footerState</span> == <span class="hljs-title class_">FooterState</span>.<span class="hljs-property">End</span>) {
        <span class="hljs-title class_">Text</span>(<span class="hljs-string">`åˆ°åº•å•¦...`</span>)
          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)
          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)
          .<span class="hljs-title function_">width</span>(<span class="hljs-number">50</span>)
          .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)
          .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">Center</span>)
          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">2</span> })
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title class_">Text</span>(<span class="hljs-string">`Footer`</span>)
          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)
          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)
          .<span class="hljs-title function_">width</span>(<span class="hljs-number">50</span>)
          .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)
          .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">Center</span>)
          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">2</span> })
      }
    }
}
</code></pre>
<p>å°†<code>itemFooter</code>ç»‘å®šä¸ª<code>WaterFlow</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title class_">WaterFlow</span>({
  <span class="hljs-attr">footer</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemFooter</span>()
}){
    <span class="hljs-comment">//...</span>
}
</code></pre>
<h4 data-id="heading-6">æ·»åŠ å°¾éƒ¨ç›‘å¬</h4>
<p>ç»™<code>WaterFlow</code>è®¾ç½®å°¾éƒ¨ç›‘å¬çš„å›è°ƒï¼Œ<code>onReachEnd(event: () =&gt; void)</code> ç€‘å¸ƒæµå†…å®¹åˆ°è¾¾æœ«å°¾ä½ç½®æ—¶è§¦å‘ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title class_">WaterFlow</span>({
  <span class="hljs-attr">footer</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemFooter</span>()
}){
    <span class="hljs-comment">//...</span>
}
<span class="hljs-comment">// è§¦åº•åŠ è½½æ•°æ®</span>
.<span class="hljs-title function_">onReachEnd</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">//æ¯æ¬¡åˆ°åˆ°åº•éƒ¨ï¼Œæ£€æŸ¥æ˜¯å¦è¿˜æœ‰æ•°æ®å¯åŠ è½½ï¼ˆè¿™é‡Œæ¨¡æ‹Ÿåˆ°è¾¾200æ¡æ•°æ®æ—¶ï¼Œæ— æ•°æ®å¯åŠ è½½ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataSource</span>.<span class="hljs-title function_">totalCount</span>() &gt;= <span class="hljs-number">200</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">footerState</span> = <span class="hljs-title class_">FooterState</span>.<span class="hljs-property">End</span>
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-comment">//2såï¼Œæ·»åŠ 100æ¡æ•°æ®</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataSource</span>.<span class="hljs-title function_">addLastItem</span>()
    }
    }, <span class="hljs-number">2000</span>)
})
</code></pre>
<p>æ­¤æ—¶æµ‹è¯•æ»‘åˆ°åº•éƒ¨æ—¶ï¼ŒåŠ è½½<code>100</code>æ¡æ•°æ®ï¼Œ<code>2</code>ç§’åæ›´æ–°åˆ—è¡¨æ•°æ®ã€‚</p>
<h4 data-id="heading-7">æå‰åŠ è½½æ•°æ®</h4>
<p>è™½ç„¶åœ¨<code>onReachEnd()</code>è§¦å‘æ—¶åŠ è½½æ•°æ®å¯ä»¥å®ç°æ— é™åŠ è½½ï¼Œä½†åœ¨æ»‘åŠ¨åˆ°åº•éƒ¨ä¼šå‡ºç°æ˜æ˜¾çš„åœé¡¿ã€‚</p>
<p>ä¸ºäº†å®ç°æ›´åŠ æµç•…çš„æ— é™æ»‘åŠ¨ï¼Œéœ€è¦è°ƒæ•´å¢åŠ æ–°æ•°æ®çš„æ—¶æœºã€‚æ¯”å¦‚å¯ä»¥åœ¨<code>LazyForEach</code>è¿˜å‰©ä½™è‹¥å¹²ä¸ªæ•°æ®æœªéå†çš„æƒ…å†µä¸‹æå‰åŠ è½½æ–°æ•°æ®ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨è§¦åº•å‰20æ¡æ—¶å¼€å§‹åŠ è½½æ•°æ®</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f2a5c3c11854eb59e7d197059523437~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk1MTQzMzIyMTc3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744121&amp;x-signature=%2BHGa0C5rShxS%2BuVGxpxgZa6x11k%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title class_">WaterFlow</span>({
  <span class="hljs-attr">footer</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemFooter</span>()
}){
    <span class="hljs-comment">//...</span>
}
<span class="hljs-comment">//æå‰20æ¡åŠ è½½æ•°æ®</span>
.<span class="hljs-title function_">onScrollIndex</span>(<span class="hljs-function">(<span class="hljs-params">first: <span class="hljs-built_in">number</span>, last: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (last + <span class="hljs-number">20</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataSource</span>.<span class="hljs-title function_">totalCount</span>()) {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataSource</span>.<span class="hljs-title function_">addNewItems</span>(<span class="hljs-number">100</span>);
    }, <span class="hljs-number">1000</span>);
  }
})
</code></pre>
<p>å¯¹é¸¿è’™æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œå…è´¹è€ƒå–<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2Fcd630ebdc1c444b4b4ff10ae385eeac2%3Ftype%3D1" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/cd630ebdc1c444b4b4ff10ae385eeac2?type=1" ref="nofollow noopener noreferrer">é¸¿è’™å¼€å‘è€…è®¤è¯</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¾æ–¹ä¾¿Javaå¼€å‘è€…åœ¨IDEAä¸­æŠ“åŒ…åˆ†æè°ƒè¯•æ¥å£çš„æ’ä»¶]]></title>    <link>https://juejin.cn/post/7585214391828742187</link>    <guid>https://juejin.cn/post/7585214391828742187</guid>    <pubDate>2025-12-19T10:29:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585214391828742187" data-draft-id="7585171571130056740" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¾æ–¹ä¾¿Javaå¼€å‘è€…åœ¨IDEAä¸­æŠ“åŒ…åˆ†æè°ƒè¯•æ¥å£çš„æ’ä»¶"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T10:29:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´å°±ä¸š"/> <meta itemprop="url" content="https://juejin.cn/user/4406498334879934"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¾æ–¹ä¾¿Javaå¼€å‘è€…åœ¨IDEAä¸­æŠ“åŒ…åˆ†æè°ƒè¯•æ¥å£çš„æ’ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4406498334879934/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´å°±ä¸š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:29:03.000Z" title="Fri Dec 19 2025 10:29:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¡¹ç›®æºç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchattcp%2Fchattcp-idea-plugin" target="_blank" title="https://github.com/chattcp/chattcp-idea-plugin" ref="nofollow noopener noreferrer">github.com/chattcp/chaâ€¦</a><br/>
æ’ä»¶å®‰è£…ä½¿ç”¨æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fchattcp.com%2Fdownload%2Fintellij-plugin" target="_blank" title="https://chattcp.com/download/intellij-plugin" ref="nofollow noopener noreferrer">chattcp.com/download/inâ€¦</a></p>
<p>åŠŸèƒ½ç‰¹æ€§ï¼š<br/>
ğŸ” åœ¨IntelliJ IDEAä¸­å®æ—¶æ•è·å’ŒæŸ¥çœ‹TCPæ•°æ®åŒ…<br/>
ğŸ’¬ èŠå¤©å¼æ•°æ®åŒ…å±•ç¤ºï¼ˆå®¢æˆ·ç«¯/æœåŠ¡å™¨å¯¹è¯ï¼‰<br/>
ğŸ”Œ æ”¯æŒæ•°æ®åŒ…HTTP/WebSocketåè®®è§£ç <br/>
ğŸ“¥ å¯¼å‡ºæ•è·çš„æ•°æ®åŒ…ä¸ºPCAPæ–‡ä»¶ï¼Œä¾¿äºè¿›ä¸€æ­¥ä½¿ç”¨Wireshark/ChatTCPç­‰å·¥å…·åˆ†æ</p>
<p>é¢„è§ˆ:<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fcamo.githubusercontent.com%2Ff3426c33a6eb1768a611f8bd64600f277cec032c3500cdc3ea69c9e7d9bb4289%2F68747470733a2f2f636861747463702e636f6d2f696d616765732f646f776e6c6f61642f636861747463702d666f722d696465612e77656270" target="_blank" title="https://camo.githubusercontent.com/f3426c33a6eb1768a611f8bd64600f277cec032c3500cdc3ea69c9e7d9bb4289/68747470733a2f2f636861747463702e636f6d2f696d616765732f646f776e6c6f61642f636861747463702d666f722d696465612e77656270" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/538d70dfaca6403fb55adc92f260253d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC05bCx5Lia:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744942&amp;x-signature=5XWmyB%2BIPjPPsfuJzFTXiO88Xe8%3D" alt="ChatTCPçš„IntelliJ IDEAæ’ä»¶" loading="lazy"/></a></p>
<p>å·¥å…·éå¸¸æœ‰åŠ©äºå¹³æ—¶å¼€å‘æ¥å£è°ƒè¯•ï¼Œèƒ½å¤Ÿç›´æ¥ä»å››å±‚åè®®çœ‹é—®é¢˜ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸ƒå±‚ã€‚å› ä¸ºæœ‰äº›æƒ…å†µä»ä¸ƒå±‚åè®®åˆ†æé—®é¢˜æ˜¯å¾ˆéš¾å‘ç°é—®é¢˜çš„ï¼Œæ¯”å¦‚SSEä¸ºä»€ä¹ˆå®ç°ä¸äº†æ‰“å­—æœºæ•ˆæœï¼Œçœ‹èµ·æ¥æ˜¯å¡åˆ°æœ€åä¸€æ¬¡æ€§å“åº”çš„ï¼Œä½†ä»å››å±‚èƒ½çœ‹å‡ºæ•°æ®åŒ…æ˜¯è¿ç»­å‘é€çš„ã€‚</p>
<p>æ”¯æŒç›´æ¥æŠ“127.0.0.1çš„æ•°æ®åŒ…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Asciinema - ç»ˆç«¯æ—¥å¿—è®°å½•ç¥å™¨ï¼Œå¼€å‘è€…çš„ç¦éŸ³]]></title>    <link>https://juejin.cn/post/7115598532093935629</link>    <guid>https://juejin.cn/post/7115598532093935629</guid>    <pubDate>2022-07-02T02:37:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7115598532093935629" data-draft-id="7115595961652477965" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Asciinema - ç»ˆç«¯æ—¥å¿—è®°å½•ç¥å™¨ï¼Œå¼€å‘è€…çš„ç¦éŸ³"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2022-07-02T02:37:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Pythonç¼–ç¨‹å­¦ä¹ åœˆ"/> <meta itemprop="url" content="https://juejin.cn/user/2261048121629512"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Asciinema - ç»ˆç«¯æ—¥å¿—è®°å½•ç¥å™¨ï¼Œå¼€å‘è€…çš„ç¦éŸ³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2261048121629512/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Pythonç¼–ç¨‹å­¦ä¹ åœˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2022-07-02T02:37:23.000Z" title="Sat Jul 02 2022 02:37:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2022-07-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    147
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬åœ¨åšæœºå™¨å­¦ä¹ /æ·±åº¦å­¦ä¹ å¼€å‘çš„æ—¶å€™ï¼Œç»å¸¸ä¼šäº§ç”Ÿå¦‚ä¸‹æ‰€ç¤ºçš„å¤§é‡æ—¥å¿—ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/305cff543e0a4779adc56a418bbd09a8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™äº›æ—¥å¿—å¦‚æœä¸ä¿å­˜ï¼Œè½¬ç¬å³é€ï¼Œå½“æˆ‘ä»¬æƒ³è¦å›å»ç¿»çœ‹æŸä¸€è½®è®­ç»ƒæ—¥å¿—çš„æ—¶å€™ï¼Œä¼šå¾ˆé—æ†¾çš„å‘ç°æ‰¾ä¸åˆ°äº†ã€‚</p>
<p>ç°åœ¨æœ‰äº†è¿™ä¸ª Asciinema è¿™ä¸ªç¥å™¨ï¼Œæˆ‘ä»¬ä¸ä»…èƒ½æ‰¾åˆ°å¹¶å¯¼å‡ºå½“æ—¶çš„ç»ˆç«¯æ—¥å¿—ï¼Œè¿˜èƒ½å¤Ÿâ€œé‡æ’­æ—¥å¿—â€å¹¶â€œåˆ†äº«æ—¥å¿—â€ã€‚éå¸¸ç‰›é€¼ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c785c916bb54a789dc52978ae0d7117~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Asciinema æ˜¯ä½¿ç”¨Pythonå¼€å‘çš„å·¥å…·ï¼Œè¯·æŒ‰ä¸‹é¢çš„æµç¨‹å®‰è£…å¹¶ä½¿ç”¨ã€‚</p>
<p><em><strong>1.å‡†å¤‡</strong></em></p>
<p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…</p>
<pre><code class="hljs">pipÂ installÂ asciinema
</code></pre>
<p><em><strong>2.ä½¿ç”¨</strong></em></p>
<p>ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œè®°å½•ä½ çš„ç¬¬ä¸€ä¸ªç»ˆç«¯æ—¥å¿—ï¼š</p>
<pre><code class="hljs">asciinema rec first.cast
</code></pre>
<p>è¾“å…¥å®Œæˆåä¼šæ˜¾ç¤ºå¦‚ä¸‹çš„æç¤ºï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">(gs3_9) zjr<span class="hljs-variable">@sgd</span>-linux-<span class="hljs-number">1</span><span class="hljs-symbol">:~/cnn_test</span><span class="hljs-variable">$ </span>asciinema rec first.cast
Â Â 
<span class="hljs-symbol">asciinema:</span> recording asciicast to first.cast
<span class="hljs-symbol">asciinema:</span> press &lt;ctrl-d&gt; <span class="hljs-keyword">or</span>Â typeÂ <span class="hljs-string">"exit"</span>Â <span class="hljs-keyword">when</span> you<span class="hljs-string">'re done
</span></code></pre>
<p>æ„æ€å°±æ˜¯æ—¥å¿—ä¼šè¢«ä¿å­˜åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„first.castï¼Œå¦‚æœä½ æƒ³ç»“æŸå½•åˆ¶ï¼ŒæŒ‰ Ctrl + D å³å¯ã€‚</p>
<p>è®°å½•å®Œæ¯•åï¼Œä»¥åŒå€é€Ÿåº¦é‡æ’­è¯¥æ—¥å¿—ï¼š</p>
<pre><code class="hljs">asciinema play -s 2 first.cast
</code></pre>
<p>æˆ–ä»¥æ­£å¸¸é€Ÿåº¦ä½†ç©ºé—²æ—¶é—´é™åˆ¶ä¸º 2 ç§’ï¼š</p>
<pre><code class="hljs language-css" lang="css">asciinema play -<span class="hljs-selector-tag">i</span> <span class="hljs-number">2</span> first<span class="hljs-selector-class">.cast</span>
</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨å¯åŠ¨ç»ˆç«¯æ—¥å¿—å½•åˆ¶æ—¶ä¼ é€’Â -i 2 ç»™ asciinema recï¼Œå°†å…¶æ°¸ä¹…è®¾ç½®åœ¨å½•åˆ¶ä¸­ï¼š</p>
<pre><code class="hljs language-css" lang="css">asciinema rec first<span class="hljs-selector-class">.cast</span> -<span class="hljs-selector-tag">i</span> <span class="hljs-number">2</span>
</code></pre>
<p>ç©ºé—²æ—¶é—´çš„é™åˆ¶ä½¿å½•åˆ¶æ›´æœ‰è¶£ã€‚è¯•è¯•å§ã€‚</p>
<p>å¦‚æœä½ æƒ³åœ¨ç½‘ç»œä¸Šè§‚çœ‹å’Œåˆ†äº«ï¼Œè¯·ä¸Šä¼ ï¼š</p>
<pre><code class="hljs">asciinema upload first.cast
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šå°†æ—¥å¿—è®°å½•ä¸Šä¼ åˆ° asciinema.orgï¼Œæ­¤å¤–ï¼Œå®ƒä¼šæ‰“å°ä¸€ä¸ªç§˜å¯†é“¾æ¥ï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥é“¾æ¥åœ¨ç½‘ç»œæµè§ˆå™¨ä¸­è§‚çœ‹ä½ å½•åˆ¶çš„ç»ˆç«¯æ—¥å¿—ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4cf2b66415cd4296b12cb6accfdafee4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½ å¯ä»¥é€šè¿‡çœç•¥æ–‡ä»¶åä¸€æ­¥å½•åˆ¶å’Œä¸Šä¼ ç»ˆç«¯çš„æ—¥å¿—ï¼š</p>
<pre><code class="hljs">asciinema rec
</code></pre>
<p>å½•åˆ¶å®Œæˆåï¼Œç³»ç»Ÿä¼šè¦æ±‚ä½ ç¡®è®¤ä¸Šä¼ ã€‚æœªç»ä½ çš„åŒæ„ï¼Œä¸ä¼šå‘ä»»ä½•åœ°æ–¹å‘é€ä»»ä½•å†…å®¹ã€‚</p>
<p><em><strong>3.æ’­æ”¾æ—¥å¿—</strong></em></p>
<p>æŸ¥çœ‹æ—¥å¿—æœ‰å››ç§æ–¹å¼ï¼Œæœ€æ™®é€šçš„æ˜¯é€šè¿‡æœ¬åœ°æ–‡ä»¶è¿›è¡Œç»ˆç«¯é‡æ’­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">asciinema play /path/to/asciicast.cast
</code></pre>
<p>ä»¥ä¸‹é”®ç›˜å¿«æ·é”®å¯ç”¨ï¼š</p>
<ul>
<li><code>Space</code>- æš‚åœï¼Œ</li>
<li><code>.</code>- æŒ‰å¸§æ­¥è¿›ï¼ˆæš‚åœæ—¶ï¼‰ï¼Œ</li>
<li><code>Ctrl+C</code>- é€€å‡º</li>
</ul>
<p>ç¬¬äºŒç§æ–¹å¼æ˜¯é€šè¿‡urlæ’­æ”¾ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">asciinema play <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/asciinema.org/a</span><span class="hljs-regexp">/22124.cast
asciinema play http:/</span><span class="hljs-regexp">/example.com/demo</span>.cast
</code></pre>
<p>è¿™ä¸ªæ–¹å¼éœ€è¦ä½ çš„æ—¥å¿—å·²ç»ä¸Šä¼ åˆ°asciinema.orgä¸­ã€‚</p>
<p>ç¬¬ä¸‰ç§æ–¹å¼æ˜¯é€šè¿‡ä½ è‡ªå·±ç”Ÿæˆçš„htmlé¡µé¢è®¿é—®ï¼ˆéœ€è¦åœ¨é¡µé¢çš„ HTML ä¸­ï¼‰ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">asciinema play http:<span class="hljs-comment">//your_html_path/post.html</span>
</code></pre>
<p>ç¬¬å››ç§æ–¹å¼æ˜¯é€šè¿‡æ ‡å‡†è¾“å…¥è¾“å‡ºæ’­æ”¾ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> /path/to/asciicast.cast | asciinema play -
<span class="hljs-comment"># ssh user@host cat asciicast.cast | asciinema playÂ -</span>
</code></pre>
<p>å¯ç”¨é€‰é¡¹ï¼š</p>
<ul>
<li><code>-i, --idle-time-limit=&lt;sec&gt;</code>- å°†é‡æ’­çš„ç»ˆç«¯ç©ºé—²ä¸åŠ¨æ—¶é—´é—²ç½®ä¸ºæœ€å¤§<code>&lt;sec&gt;</code>ç§’æ•°</li>
<li><code>-s, --speed=&lt;factor&gt;</code>- æ’­æ”¾é€Ÿåº¦</li>
</ul>
<p><em><strong>4.å¯¼å‡ºæ—¥å¿—</strong></em></p>
<p>å¯¼å‡ºç»ˆç«¯æ—¥å¿—åˆ°æ–‡æœ¬æ–‡ä»¶éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">asciinema <span class="hljs-built_in">cat</span> existing.cast &gt; terminal_output.txt
</code></pre>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4dda6c8c79ce497082c92b16b6d346fc~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‰€æœ‰çš„ç»ˆç«¯æ—¥å¿—éƒ½ä¼šè¢«å¯¼å‡ºåˆ° terminal_output.txt ä¸­ï¼Œéå¸¸æ–¹ä¾¿å¥½ç”¨ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ¬¡åˆ†äº«çš„æ‰€æœ‰å†…å®¹ï¼Œå¦‚æœä½ è§‰å¾—æ–‡ç« è¿˜ä¸é”™ï¼Œæ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼š<strong>Pythonç¼–ç¨‹å­¦ä¹ åœˆ</strong>ï¼Œæ¯æ—¥å¹²è´§åˆ†äº«ï¼Œæˆ–æ˜¯å‰å¾€<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.phpxs.com%2F" target="_blank" title="http://www.phpxs.com/" ref="nofollow noopener noreferrer">ç¼–ç¨‹å­¦ä¹ ç½‘</a>ï¼Œäº†è§£æ›´å¤šç¼–ç¨‹æŠ€æœ¯çŸ¥è¯†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[30sè®©aiç¼–å†™ã€Œè·³è¿‡å¤–é“¾ä¸­è½¬é¡µã€çš„æ²¹çŒ´è„šæœ¬]]></title>    <link>https://juejin.cn/post/7585377403632746542</link>    <guid>https://juejin.cn/post/7585377403632746542</guid>    <pubDate>2025-12-19T10:19:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377403632746542" data-draft-id="7585227038991597606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="30sè®©aiç¼–å†™ã€Œè·³è¿‡å¤–é“¾ä¸­è½¬é¡µã€çš„æ²¹çŒ´è„šæœ¬"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T10:19:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”å”åœ¨å­¦ä¹ "/> <meta itemprop="url" content="https://juejin.cn/user/4009253326568761"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            30sè®©aiç¼–å†™ã€Œè·³è¿‡å¤–é“¾ä¸­è½¬é¡µã€çš„æ²¹çŒ´è„šæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4009253326568761/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”å”åœ¨å­¦ä¹ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:19:10.000Z" title="Fri Dec 19 2025 10:19:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>é¦–å…ˆï¼Œç‹—å¤´ä¿å‘½ä¸‹å“ˆğŸ¶ï¼Œæˆ‘åªæ˜¯çœ‹åˆ°å¤§ä½¬çš„æ–‡ç« ï¼Œæ¥äº†å…´è¶£ï¼Œéšæ‰‹è®©aiå†™ä¸‹è„šæœ¬è€Œå·²ã€‚<strong>ä½œä¸ºæŠ€æœ¯äººçº¯åˆ†äº«è€Œå·²</strong>ï¼Œä¸å–œæ¬¢å‹¿å–·å“ˆï¼Œå–·äº†æˆ‘ä¸å›ä½ å°±æ˜¯å•¦ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e3d362f35d44a449c14836b4d9542ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744350&amp;x-signature=FcXkv1uzDYKTyB50MKos%2B84G%2Fds%3D" alt="" loading="lazy"/></p>
<p>å¤§ä½¬çš„åŸæ–‡æ˜¯è¿™ä¸ªï¼š<a href="https://juejin.cn/post/7495977411273490447" target="_blank" title="https://juejin.cn/post/7495977411273490447">è„±è£¤å­æ”¾å± - ä½ ä»¬è®¨åŒè¿™æ ·çš„é¡µé¢å—ï¼Ÿä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œç”¨äºè·³è¿‡æ˜é‡‘ï¼ŒçŸ¥ä¹ï¼Œå°‘æ•°æ´¾ç­‰ç½‘ç«™çš„å¤–é“¾ä¸­è½¬ç«™é¡µé¢ã€‚è®©ä½ çš„äº’è”ç½‘æµè§ˆ - æ˜é‡‘</a></p>
<h2 data-id="heading-1">è„šæœ¬</h2>
<p>ç„¶ååŸºäºAIç¼–å†™çš„æ²¹çŒ´è„šæœ¬æ˜¯è¿™ä¸ªï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ==UserScript==</span>
<span class="hljs-comment">// @name         Redirect Skipper</span>
<span class="hljs-comment">// @namespace    http://tampermonkey.net/</span>
<span class="hljs-comment">// @version      1.1</span>
<span class="hljs-comment">// @description  è‡ªåŠ¨è·³è¿‡é“¾æ¥ä¸­è½¬é¡µé¢ï¼ŒåŒ…å«è¯¦ç»†è°ƒè¯•æ—¥å¿—</span>
<span class="hljs-comment">// @author       Original idea from juejin.cn article</span>
<span class="hljs-comment">// @match        *://*/*</span>
<span class="hljs-comment">// @grant        GM_log</span>
<span class="hljs-comment">// @run-at       document-end</span>
<span class="hljs-comment">// ==/UserScript==</span>

(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-string">'use strict'</span>;

    <span class="hljs-comment">// è°ƒè¯•å¼€å…³ - è®¾ç½®ä¸º true æ—¶åœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†æ—¥å¿—</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEBUG</span> = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">function</span> <span class="hljs-title function_">debugLog</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">DEBUG</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[Redirect Skipper]'</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>(), ...args);
        }
    }

    <span class="hljs-keyword">function</span> <span class="hljs-title function_">errorLog</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'[Redirect Skipper] ERROR:'</span>, ...args);
    }

    <span class="hljs-comment">// éœ€è¦å¤„ç†çš„ç½‘ç«™åˆ—è¡¨</span>
    <span class="hljs-keyword">let</span> hostnames = [<span class="hljs-string">"juejin.cn"</span>, <span class="hljs-string">"sspai.com"</span>, <span class="hljs-string">"www.zhihu.com"</span>];

    <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'è„šæœ¬å¼€å§‹æ‰§è¡Œ'</span>);
    <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'å½“å‰åŸŸå:'</span>, location.<span class="hljs-property">hostname</span>);
    <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'å¤„ç†çš„åŸŸååˆ—è¡¨:'</span>, hostnames);

    <span class="hljs-comment">/**
     * æ£€æŸ¥å½“å‰åŸŸåæ˜¯å¦åœ¨æ”¯æŒåˆ—è¡¨ä¸­
     */</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkCurrentHostname</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> currentHost = location.<span class="hljs-property">hostname</span>;
        <span class="hljs-keyword">const</span> isSupported = hostnames.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">host</span> =&gt;</span> {
            <span class="hljs-comment">// æ”¯æŒå­åŸŸååŒ¹é…ï¼Œæ¯”å¦‚ www.zhihu.com åŒ¹é… zhihu.com</span>
            <span class="hljs-keyword">return</span> currentHost === host || currentHost.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.'</span> + host);
        });

        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'åŸŸåæ£€æŸ¥ç»“æœ:'</span>, {
            <span class="hljs-string">'å½“å‰åŸŸå'</span>: currentHost,
            <span class="hljs-string">'æ˜¯å¦æ”¯æŒ'</span>: isSupported,
            <span class="hljs-string">'åŒ¹é…è§„åˆ™'</span>: isSupported ? hostnames.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> currentHost === h || currentHost.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.'</span> + h)) : <span class="hljs-string">'æ— '</span>
        });

        <span class="hljs-keyword">return</span> isSupported;
    }

    <span class="hljs-comment">/**
     * æ ¸å¿ƒå‡½æ•°ï¼šæŸ¥æ‰¾å¹¶æ›¿æ¢å¸¦æœ‰ ?target= å‚æ•°çš„é“¾æ¥
     */</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">findByTarget</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> isSupported = <span class="hljs-title function_">checkCurrentHostname</span>();
        <span class="hljs-keyword">if</span> (!isSupported) {
            <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'å½“å‰åŸŸåä¸åœ¨å¤„ç†åˆ—è¡¨ä¸­ï¼Œè·³è¿‡æ‰§è¡Œ'</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'å¼€å§‹æŸ¥æ‰¾éœ€è¦å¤„ç†çš„é“¾æ¥...'</span>);

        <span class="hljs-keyword">const</span> linkKeyword = <span class="hljs-string">"?target="</span>;
        <span class="hljs-keyword">const</span> selector = <span class="hljs-string">`a[href*="<span class="hljs-subst">${linkKeyword}</span>"]:not([data-redirect-skipper])`</span>;
        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'ä½¿ç”¨çš„é€‰æ‹©å™¨:'</span>, selector);

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> aLinks = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(selector);
            <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'æ‰¾åˆ°çš„é“¾æ¥æ•°é‡:'</span>, aLinks.<span class="hljs-property">length</span>);

            <span class="hljs-keyword">if</span> (!aLinks.<span class="hljs-property">length</span>) {
                <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„é“¾æ¥'</span>);
                <span class="hljs-keyword">return</span>;
            }

            aLinks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">a, index</span>) =&gt;</span> {
                <span class="hljs-keyword">const</span> originalHref = a.<span class="hljs-property">href</span>;
                <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">`å¤„ç†é“¾æ¥ <span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>:`</span>, originalHref);

                <span class="hljs-keyword">const</span> targetIndex = originalHref.<span class="hljs-title function_">indexOf</span>(linkKeyword);
                <span class="hljs-keyword">if</span> (targetIndex !== -<span class="hljs-number">1</span>) {
                    <span class="hljs-keyword">const</span> encodedUrl = originalHref.<span class="hljs-title function_">substring</span>(targetIndex + linkKeyword.<span class="hljs-property">length</span>);
                    <span class="hljs-keyword">const</span> decodedUrl = <span class="hljs-built_in">decodeURIComponent</span>(encodedUrl);

                    <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">`  âœ“ è§£æç»“æœ:`</span>, {
                        <span class="hljs-string">'åŸå§‹URL'</span>: originalHref,
                        <span class="hljs-string">'targetä½ç½®'</span>: targetIndex,
                        <span class="hljs-string">'ç¼–ç åçš„ç›®æ ‡URL'</span>: encodedUrl,
                        <span class="hljs-string">'è§£ç åçš„ç›®æ ‡URL'</span>: decodedUrl
                    });

                    <span class="hljs-comment">// éªŒè¯URLæ˜¯å¦æœ‰æ•ˆ</span>
                    <span class="hljs-keyword">if</span> (decodedUrl &amp;&amp; decodedUrl.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'http'</span>)) {
                        a.<span class="hljs-property">href</span> = decodedUrl;
                        a.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">"data-redirect-skipper"</span>, <span class="hljs-string">"true"</span>);
                        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">`  âœ“ å·²æ›¿æ¢ä¸º:`</span>, decodedUrl);

                        <span class="hljs-comment">// æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬ï¼Œè®°å½•ç”¨æˆ·äº¤äº’</span>
                        a.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
                            <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'ç”¨æˆ·ç‚¹å‡»äº†å·²å¤„ç†çš„é“¾æ¥:'</span>, decodedUrl);
                        }, { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> });
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-title function_">errorLog</span>(<span class="hljs-string">'è§£æå‡ºçš„URLæ— æ•ˆ:'</span>, decodedUrl);
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">`  âœ— æœªæ‰¾åˆ° <span class="hljs-subst">${linkKeyword}</span> å‚æ•°`</span>);
                }
            });

            <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'é“¾æ¥å¤„ç†å®Œæˆ'</span>);

        } <span class="hljs-keyword">catch</span> (err) {
            <span class="hljs-title function_">errorLog</span>(<span class="hljs-string">'æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:'</span>, err);
        }
    }

    <span class="hljs-comment">/**
     * ç›‘å¬æ–‡æ¡£å˜åŒ–ï¼ˆç”¨äºå¤„ç†åŠ¨æ€åŠ è½½çš„å†…å®¹ï¼‰
     */</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">observerDocument</span>(<span class="hljs-params"/>) {
        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'å¼€å§‹ç›‘å¬æ–‡æ¡£å˜åŒ–...'</span>);

        <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">(<span class="hljs-params">mutationsList</span>) =&gt;</span> {
            <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'æ£€æµ‹åˆ°æ–‡æ¡£å˜åŒ–ï¼Œå˜æ›´æ•°é‡:'</span>, mutationsList.<span class="hljs-property">length</span>);

            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> mutation <span class="hljs-keyword">of</span> mutationsList) {
                <span class="hljs-keyword">if</span> (mutation.<span class="hljs-property">type</span> === <span class="hljs-string">"childList"</span> &amp;&amp; mutation.<span class="hljs-property">addedNodes</span>.<span class="hljs-property">length</span>) {
                    <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'å‘ç°æ–°å¢èŠ‚ç‚¹ï¼Œæ•°é‡:'</span>, mutation.<span class="hljs-property">addedNodes</span>.<span class="hljs-property">length</span>);
                    <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'æ–°å¢èŠ‚ç‚¹:'</span>, mutation.<span class="hljs-property">addedNodes</span>);
                    <span class="hljs-title function_">findByTarget</span>();
                }
            }
        });

        observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>, {
            <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">subtree</span>: <span class="hljs-literal">true</span>
        });

        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'MutationObserver å·²å¯åŠ¨'</span>);
        <span class="hljs-keyword">return</span> observer;
    }

    <span class="hljs-comment">/**
     * æ‰«æé¡µé¢ä¸­çš„é“¾æ¥å¹¶ç»Ÿè®¡ä¿¡æ¯
     */</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">scanPageLinks</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> allLinks = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'a[href]'</span>);
        <span class="hljs-keyword">const</span> targetLinks = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'a[href*="?target="]'</span>);
        <span class="hljs-keyword">const</span> processedLinks = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'a[data-redirect-skipper]'</span>);

        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'é¡µé¢é“¾æ¥ç»Ÿè®¡:'</span>, {
            <span class="hljs-string">'æ€»é“¾æ¥æ•°'</span>: allLinks.<span class="hljs-property">length</span>,
            <span class="hljs-string">'åŒ…å«?target=çš„é“¾æ¥æ•°'</span>: targetLinks.<span class="hljs-property">length</span>,
            <span class="hljs-string">'å·²å¤„ç†çš„é“¾æ¥æ•°'</span>: processedLinks.<span class="hljs-property">length</span>
        });

        <span class="hljs-comment">// åˆ—å‡ºæ‰€æœ‰åŒ…å«?target=çš„é“¾æ¥</span>
        targetLinks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">link, i</span>) =&gt;</span> {
            <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">`é“¾æ¥<span class="hljs-subst">${i}</span>:`</span>, link.<span class="hljs-property">href</span>, <span class="hljs-string">'å·²å¤„ç†:'</span>, link.<span class="hljs-title function_">hasAttribute</span>(<span class="hljs-string">'data-redirect-skipper'</span>));
        });
    }

    <span class="hljs-comment">// ä¸»æ‰§è¡Œæµç¨‹</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'===== è„šæœ¬åˆå§‹åŒ–å¼€å§‹ ====='</span>);

        <span class="hljs-comment">// æ£€æŸ¥æ²¹çŒ´ç¯å¢ƒ</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GM_info !== <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'æ²¹çŒ´è„šæœ¬ä¿¡æ¯:'</span>, {
                <span class="hljs-string">'è„šæœ¬åç§°'</span>: GM_info.<span class="hljs-property">script</span>.<span class="hljs-property">name</span>,
                <span class="hljs-string">'ç‰ˆæœ¬'</span>: GM_info.<span class="hljs-property">script</span>.<span class="hljs-property">version</span>,
                <span class="hljs-string">'è¿è¡Œä½ç½®'</span>: GM_info.<span class="hljs-property">scriptRunAt</span>
            });
        }

        <span class="hljs-comment">// åˆå§‹æ‰«æ</span>
        <span class="hljs-title function_">scanPageLinks</span>();
        <span class="hljs-title function_">findByTarget</span>();

        <span class="hljs-comment">// å¯åŠ¨DOMå˜åŒ–ç›‘å¬</span>
        <span class="hljs-keyword">const</span> observer = <span class="hljs-title function_">observerDocument</span>();

        <span class="hljs-comment">// ç›‘å¬é¡µé¢äº‹ä»¶</span>
        <span class="hljs-keyword">const</span> events = [<span class="hljs-string">'load'</span>, <span class="hljs-string">'hashchange'</span>, <span class="hljs-string">'popstate'</span>];
        events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
            <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(event, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">`äº‹ä»¶è§¦å‘: <span class="hljs-subst">${event}</span>`</span>);
                <span class="hljs-keyword">if</span> (event === <span class="hljs-string">'load'</span>) {
                    <span class="hljs-title function_">scanPageLinks</span>();
                }
                <span class="hljs-title function_">findByTarget</span>();
            });
        });

        <span class="hljs-comment">// ä¸ºäº†è°ƒè¯•ï¼Œå°†å…³é”®å‡½æ•°æš´éœ²åˆ°å…¨å±€</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">DEBUG</span>) {
            <span class="hljs-variable language_">window</span>.<span class="hljs-property">RedirectSkipper</span> = {
                scanPageLinks,
                findByTarget,
                checkCurrentHostname,
                observer
            };
            <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'è°ƒè¯•å‡½æ•°å·²æš´éœ²åˆ° window.RedirectSkipper'</span>);
        }

        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'===== è„šæœ¬åˆå§‹åŒ–å®Œæˆ ====='</span>);
    }

    <span class="hljs-comment">// å»¶è¿Ÿåˆå§‹åŒ–ï¼Œç¡®ä¿DOMå·²åŠ è½½</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">readyState</span> === <span class="hljs-string">'loading'</span>) {
        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'æ–‡æ¡£è¿˜åœ¨åŠ è½½ä¸­ï¼Œç­‰å¾…DOMContentLoadedäº‹ä»¶'</span>);
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'DOMContentLoaded'</span>, init);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">debugLog</span>(<span class="hljs-string">'æ–‡æ¡£å·²å°±ç»ªï¼Œç«‹å³åˆå§‹åŒ–'</span>);
        <span class="hljs-title function_">init</span>();
    }

})();
</code></pre>
<p>è‡³äºè„šæœ¬ç”¨çš„AIæç¤ºè¯å°±æ›´ç®€å•å•¦ï¼Œä¸è¿‡æˆ‘é—®çš„ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„ä»£ç è¿è¡Œåè·³è½¬æ²¡ç”Ÿæ•ˆï¼Œç„¶åè®©AIåŠ æ—¥å¿—äº†ï¼Œå¥½å®šä½åˆ†æï¼Œç»“æœç¬¬äºŒæ¬¡ç«Ÿç„¶å°±æˆåŠŸäº†ï¼Œä¹Ÿä¸ç”¨å®šä½äº†hhhï¼æœ‰ä¸€è¯´ä¸€ï¼šè¿™å¹´å¤´ï¼Œå…¶å®è¿˜æ˜¯è¦å­¦ä¼šå–„ç”¨AIè¿™ä¸ªå¤§æ€å™¨çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1afa7f3904242e3a48d17e42d32ddd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744350&amp;x-signature=3pZBpyF6neN4MhFk2G5lzYvYgDM%3D" alt="" loading="lazy"/></p>
<p>ğŸ’¡æ¸©é¦¨æç¤ºï¼š</p>
<p>å¦‚æœä½ å¸Œæœ›è„šæœ¬å¤„ç†å…¶ä»–ç½‘ç«™ï¼Œåªéœ€ä¿®æ”¹ä»£ç å¼€å¤´çš„Â <code>hostnames</code>Â æ•°ç»„å³å¯ã€‚ä¾‹å¦‚ï¼Œè¦æ·»åŠ Â <code>example.com</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> hostnames = [<span class="hljs-string">"juejin.cn"</span>, <span class="hljs-string">"sspai.com"</span>, <span class="hljs-string">"www.zhihu.com"</span>, <span class="hljs-string">"example.com"</span>];
</code></pre>
<p>æ·»åŠ åä¿å­˜è„šæœ¬ï¼Œå¹¶åˆ·æ–°ç›®æ ‡ç½‘ç«™å³å¯ç”Ÿæ•ˆã€‚</p>
<p>æ²¹çŒ´è„šæœ¬å®ç°åŸç†å…¶å®ä¹Ÿç›¸å¯¹ç®€å•ï¼Œå°±ç›´æ¥ä¸Šå›¾äº†ï¼Œå¦‚æœç†è§£ä¸äº†æˆ‘å†å®Œå–„è§£é‡Šå‘¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63bdea08e2a240a3aba4b2c76f588642~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744350&amp;x-signature=AU6bEsxXHFKJi4hIKbo6B8pH8cM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">æ€è€ƒ</h2>
<p>ä¸ºå•¥ç½‘ç«™éƒ½è¿™æ ·ç©å‘¢ï¼Ÿé™¤äº†åŸåšä¸»è¯´çš„ï¼š</p>
<ul>
<li>é˜²æ­¢é’“é±¼æ”»å‡»</li>
<li>å¢å¼ºç”¨æˆ·æ„è¯†</li>
<li>å“ç‰Œä¿æŠ¤</li>
<li>éµå®ˆæ³•å¾‹æ³•è§„</li>
<li>æ§åˆ¶æµé‡å»å‘</li>
</ul>
<p>å…¶å®ï¼Œæˆ‘æ›´å€¾å‘äºè¯„è®ºä¸­ä¸å°‘å¤§ä½¬æåŠçš„SEOé—®é¢˜ã€‚æ¯•ç«Ÿï¼Œå¤–é“¾å‡ºé—®é¢˜äº†ï¼Œæœ¬èº«ä¹Ÿæ˜¯ç”¨æˆ·ç‚¹å‡»çš„ï¼Œè·Ÿå¹³å°å…³ç³»ä¸å¤§çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0733cba56eb147bc8062738d29ae0b52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZSQ5Y-U5Zyo5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766744350&amp;x-signature=rx4wZ11z6KrZgdqwgk15A24T6LQ%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œä¸ç®¡æ˜¯å“ªç§åŸå› ï¼ŒåŠ è·³è½¬é¡µè¿˜æ˜¯ä¸åŠ è·³è½¬é¡µï¼Œå…¶å®æœ€ç»ˆå½±å“çš„éƒ½æ˜¯ç”¨æˆ·æœ¬èº«å§ï¼Œéƒ½æ˜¯ç”¨æˆ·ä¹°å•å§â€¦â€¦</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OmniThoughtVï¼šé¢å‘å¤šæ¨¡æ€æ·±åº¦æ€è€ƒçš„é«˜è´¨é‡æ•°æ®è’¸é¦]]></title>    <link>https://juejin.cn/post/7585206349749469236</link>    <guid>https://juejin.cn/post/7585206349749469236</guid>    <pubDate>2025-12-19T10:46:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206349749469236" data-draft-id="7585394082822799394" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OmniThoughtVï¼šé¢å‘å¤šæ¨¡æ€æ·±åº¦æ€è€ƒçš„é«˜è´¨é‡æ•°æ®è’¸é¦"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T10:46:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OmniThoughtVï¼šé¢å‘å¤šæ¨¡æ€æ·±åº¦æ€è€ƒçš„é«˜è´¨é‡æ•°æ®è’¸é¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:46:48.000Z" title="Fri Dec 19 2025 10:46:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šå²³å…ƒæµ©(é¡¾åŸ)ã€æ±ªè¯šæ„š(ç†Šå…®)ã€é»„ä¿Š(ä¸´åœ¨)</p>
<h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>è¿‘å¹´æ¥ï¼Œå¤šæ¨¡æ€äººå·¥æ™ºèƒ½æŠ€æœ¯è¿…çŒ›å‘å±•ï¼Œæ¨åŠ¨äº†è§†è§‰ã€è¯­è¨€ã€è¯­éŸ³ç­‰å¤šç§æ¨¡æ€ä¿¡æ¯çš„æ·±åº¦èåˆä¸ç†è§£ã€‚å°¤å…¶åœ¨å¤šæ¨¡æ€æ·±åº¦æ¨ç†ä»»åŠ¡ä¸­ï¼Œ GPT-4V ç­‰å‰æ²¿æ¨¡å‹é€šè¿‡æ¨¡æ‹Ÿäººç±»çš„é“¾å¼æ€ç»´è¿‡ç¨‹ï¼Œå±•ç°å‡ºå¼ºå¤§çš„è·¨æ¨¡æ€æ¨ç†èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå½“å‰çš„å¤šæ¨¡æ€å¤§æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­ä»é¢ä¸´ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼šé¦–å…ˆï¼Œèƒ½åŠ›è¾ƒå¼ºçš„SOTAæ¨¡å‹å¾€å¾€å‚æ•°è§„æ¨¡åºå¤§ã€è®¡ç®—èµ„æºæ¶ˆè€—é«˜ï¼Œå¯¼è‡´éƒ¨ç½²æˆæœ¬é«˜æ˜‚ï¼Œéš¾ä»¥åœ¨èµ„æºå—é™çš„åœºæ™¯ä¸­è½åœ°ã€‚å…¶æ¬¡ï¼Œç°æœ‰å¼€æºç¤¾åŒºç¼ºä¹å¤§è§„æ¨¡é«˜è´¨é‡çš„å¤šæ¨¡æ€é•¿æ€è€ƒæ•°æ®é›†ï¼Œè‡´ä½¿å¤šæ¨¡æ€æ¨ç†æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹éš¾ä»¥å¤ç°ï¼Œä¹Ÿåˆ¶çº¦äº†å¼€æºç¤¾åŒºå¤šæ¨¡æ€æ¨ç†æ¨¡å‹çš„æ€§èƒ½æå‡ã€‚</p>
<p>åŸºäºé˜¿é‡Œäº‘äººå·¥æ™ºèƒ½å¹³å°ï¼ˆPAIï¼‰çš„è’¸é¦å·¥å…·åŒ… EasyDistillï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Feasydistill%25EF%25BC%2589%25EF%25BC%258C%25E6%2588%2591%25E4%25BB%25AC%25E6%258F%2590%25E5%2587%25BA%25E4%25BA%2586%25E4%25B8%2580%25E5%25A5%2597%25E9%259D%25A2%25E5%2590%2591%25E5%25A4%259A%25E6%25A8%25A1%25E6%2580%2581%25E6%25B7%25B1%25E5%25BA%25A6%25E6%258E%25A8%25E7%2590%2586%25E7%259A%2584%25E8%2592%25B8%25E9%25A6%258F%25E6%2595%25B0%25E6%258D%25AE%25E6%259E%2584%25E5%25BB%25BA%25E6%25A1%2586%25E6%259E%25B6%25EF%25BC%258C%25E5%25B9%25B6%25E5%258F%2591%25E5%25B8%2583%25E4%25BA%2586%25E9%25A6%2596%25E4%25B8%25AA%25E6%2594%25AF%25E6%258C%2581%25E5%25A4%25A7%25E8%25A7%2584%25E6%25A8%25A1%25E5%25A4%259A%25E6%25A8%25A1%25E6%2580%2581%25E6%2580%259D%25E7%25BB%25B4%25E9%2593%25BE%25E8%2592%25B8%25E9%25A6%258F%25E7%259A%2584%25E9%25AB%2598%25E8%25B4%25A8%25E9%2587%258F%25E6%2595%25B0%25E6%258D%25AE%25E9%259B%2586" target="_blank" title="https://github.com/modelscope/easydistill%EF%BC%89%EF%BC%8C%E6%88%91%E4%BB%AC%E6%8F%90%E5%87%BA%E4%BA%86%E4%B8%80%E5%A5%97%E9%9D%A2%E5%90%91%E5%A4%9A%E6%A8%A1%E6%80%81%E6%B7%B1%E5%BA%A6%E6%8E%A8%E7%90%86%E7%9A%84%E8%92%B8%E9%A6%8F%E6%95%B0%E6%8D%AE%E6%9E%84%E5%BB%BA%E6%A1%86%E6%9E%B6%EF%BC%8C%E5%B9%B6%E5%8F%91%E5%B8%83%E4%BA%86%E9%A6%96%E4%B8%AA%E6%94%AF%E6%8C%81%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E6%A8%A1%E6%80%81%E6%80%9D%E7%BB%B4%E9%93%BE%E8%92%B8%E9%A6%8F%E7%9A%84%E9%AB%98%E8%B4%A8%E9%87%8F%E6%95%B0%E6%8D%AE%E9%9B%86" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a> OmniThoughtVã€‚OmniThoughtVä¸ä»…å¡«è¡¥äº†å¼€æºç¤¾åŒºåœ¨å¤šæ¨¡æ€å¤æ‚æ¨ç†æ•°æ®æ–¹é¢çš„ç©ºç™½ï¼Œè¿˜é€šè¿‡ä¸€å¥—é€æ˜ã€å¯å¤ç°çš„æ•°æ®è’¸é¦æœºåˆ¶ï¼Œå®ç°äº†å¯¹å¤šæ¨¡æ€æ€ç»´é“¾çš„é«˜æ•ˆæå–ä¸ç»“æ„åŒ–ç»„ç»‡ã€‚è¯¥æ•°æ®é›†èåˆäº†ç²¾ç»†åŒ–æ ‡æ³¨ã€å¤šé˜¶æ®µè¿‡æ»¤æœºåˆ¶ä¸é’ˆå¯¹å¤šæ¨¡æ€æ¨ç†ä¼˜åŒ–çš„è’¸é¦ç­–ç•¥ï¼Œæ˜¾è‘—æå‡äº†å°æ¨¡å‹åœ¨ä¿æŒé€»è¾‘è¿è´¯æ€§çš„åŒæ—¶ï¼Œé™ä½æ¨ç†å†—ä½™ã€åŠ å¿«å“åº”é€Ÿåº¦ï¼Œå¹¶å¢å¼ºäº†åœ¨å¼€æ”¾åœºæ™¯ä¸­çš„é²æ£’æ€§ä¸æ³›åŒ–èƒ½åŠ›ã€‚ç‰¹åˆ«åœ°ï¼ŒåŸºäºè’¸é¦çš„OmniThoughtVæ•°æ®é›†å¾—åˆ°çš„Qwen3-VL-4Bå°æ¨¡å‹åœ¨ä¸‹æ¸¸ä»»åŠ¡ä¸Šæ¥è¿‘æˆ–è¶…è¶Šäº†å‚æ•°é‡ä¸ºå…¶ä¸¤å€çš„åŸºåº§æ¨¡å‹ï¼ˆQwen3-VL-8Bï¼‰ï¼Œå®ç°äº†å‚æ•°é‡50%çš„å‹ç¼©æ•ˆæœï¼Œå…¶ç»“æœå¦‚ä¸‹ï¼š</p>
<p>æ¨¡å‹/è¯„æµ‹æ•°æ®é›†</p>
<p>4Bæ¨¡å‹ï¼ˆè’¸é¦å‰ï¼‰</p>
<p>4Bæ¨¡å‹ï¼ˆè’¸é¦åï¼‰</p>
<p>8Bæ¨¡å‹ï¼ˆè’¸é¦å‰ï¼‰</p>
<p>AI2D</p>
<p>0.7134</p>
<p><strong>0.8164</strong></p>
<p><strong>0.8096</strong></p>
<p>MMMU ProStandard</p>
<p>0.4133</p>
<p><strong>0.4694</strong></p>
<p><strong>0.4688</strong></p>
<p>MMMUval</p>
<p>0.5667</p>
<p><strong>0.6033</strong></p>
<p><strong>0.6000</strong></p>
<p>MathVista</p>
<p>0.7070</p>
<p><strong>0.7400</strong></p>
<p><strong>0.7250</strong></p>
<p>MathVersetestmini</p>
<p>0.3640</p>
<p><strong>0.5315</strong></p>
<p><strong>0.3820</strong></p>
<p>MMBench</p>
<p>0.8204</p>
<p><strong>0.8273</strong></p>
<p><strong>0.8256</strong></p>
<p>æœ¬æ–‡å°†é‡ç‚¹è§£æåŸºäº EasyDistill æ¡†æ¶æ„å»º OmniThoughtV æ•°æ®é›†çš„æ ¸å¿ƒæ–¹æ³•ï¼Œè¯„æµ‹å…¶åœ¨å¤šæ¨¡æ€æ·±åº¦æ¨ç†ä»»åŠ¡ä¸­çš„å®é™…æ•ˆæœï¼Œå¹¶ä»‹ç»è¯¥æ•°æ®é›†åŠé…å¥—è’¸é¦æ¨¡å‹åœ¨å¼€æºç¤¾åŒºå’Œ PAI å¹³å°ä¸Šçš„ä½¿ç”¨æ–¹å¼å’Œå„ä¸ªåœºæ™¯çš„åº”ç”¨ï¼Œä¸ºæ¨åŠ¨å¼€æºå¤šæ¨¡æ€å¤§æ¨¡å‹è¿ˆå‘äººç±»æ°´å¹³çš„ç³»ç»Ÿæ€§æ€è€ƒèƒ½åŠ›æä¾›åšå®åŸºç¡€ã€‚</p>
<h2 data-id="heading-1">OmniThoughtVæ•°æ®é›†æ„å»º</h2>
<p>å¼€æºç¤¾åŒºç°æœ‰çš„å¤šæ¨¡æ€æŒ‡ä»¤å¾®è°ƒæ•°æ®é›†å¾€å¾€åªåŒ…å«ç®€å•ç›´æ¥çš„å›ç­”ï¼Œç¼ºä¹å¤æ‚çš„æ¨ç†è¿‡ç¨‹ï¼Œéš¾ä»¥æ”¯æŒæ¨¡å‹å­¦ä¹ å¦‚ä½•â€œçœ‹å›¾æ·±åº¦æ€è€ƒâ€ã€‚ä¾‹å¦‚ï¼Œåœ¨å›ç­”â€œå…è´¹è¯•ç”¨ç”¨æˆ·çš„æ€»æ•°æ˜¯å¤šå°‘ï¼Ÿâ€è¿™ç±»é—®é¢˜æ—¶ï¼Œæ¨¡å‹ä¸ä»…éœ€è¦å®šä½å›¾è¡¨ä¸­çš„å…³é”®è§†è§‰å…ƒç´ ï¼Œè¿˜éœ€ç†è§£å…¶è¯­ä¹‰ã€æ’é™¤å¹²æ‰°ä¿¡æ¯ï¼Œå¹¶é€æ­¥æ¨å¯¼å‡ºç»“è®ºã€‚ç„¶è€Œï¼Œç°æœ‰æ•°æ®é›†é€šå¸¸ä»…æä¾›æœ€ç»ˆç­”æ¡ˆï¼Œç¼ºå¤±ä¸­é—´å¯è§£é‡Šçš„æ¨ç†é“¾ã€‚ä¸ºå¼¥è¡¥è¿™ä¸€ç©ºç™½ï¼Œæˆ‘ä»¬æ„å»ºäº† OmniThoughtV, é¦–ä¸ªå¤§è§„æ¨¡ã€é¢å‘å¤šæ¨¡æ€æ·±åº¦æ¨ç†çš„é«˜è´¨é‡é•¿æ€è€ƒæ•°æ®é›†ã€‚æˆ‘ä»¬çš„æ¨¡å‹æ€è€ƒä¸ä»…æ¶µç›–æ•°å­¦ã€é€»è¾‘ç­‰æ¨ç†ï¼Œè¿˜åŒ…æ‹¬å¯¹å›¾åƒä¸­ç‰©ä½“ã€ç©ºé—´ç­‰ä¿¡æ¯çš„ç†è§£ä¸æ¨ç†ã€‚</p>
<p>å¤šæ¨¡æ€æ•°æ®é›†ç¤ºä¾‹</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/121356315/1759980176320-0c0de7e7-6318-4563-96d4-958d1a8f9c4e.png?x-oss-process=image%2Fcrop%2Cx_10%2Cy_10%2Cw_2432%2Ch_1416" alt="" loading="lazy"/></p>
<p>é—®é¢˜ï¼šå…è´¹è¯•ç”¨ç”¨æˆ·çš„æ€»æ•°æ˜¯å¤šå°‘ï¼Ÿ</p>
<p><strong>åŸå›ç­”æ ‡æ³¨</strong></p>
<p>å…è´¹è¯•ç”¨ç”¨æˆ·çš„æ€»æ•°åœ¨å›¾è¡¨å¼€å¤´çš„â€œTotal Free Trial Usersâ€ï¼ˆæ€»å…è´¹è¯•ç”¨ç”¨æˆ·æ•°ï¼‰ä¸‹æ–¹æ ‡æ˜ã€‚</p>
<p>ç­”æ¡ˆï¼š10,000</p>
<p><strong>é•¿æ€è€ƒæ ‡æ³¨</strong></p>

<p>ä¸ºäº†ç¡®å®šå…è´¹è¯•ç”¨ç”¨æˆ·çš„æ€»æ•°ï¼Œæˆ‘éœ€è¦æŸ¥çœ‹æ¼æ–—å›¾ä¸­æ ‡æœ‰â€œTotal Free Trial Usersâ€ï¼ˆæ€»å…è´¹è¯•ç”¨ç”¨æˆ·æ•°ï¼‰çš„ç¬¬ä¸€ä¸ªæŸ±çŠ¶æ¡ã€‚è¯¥æŸ±çŠ¶æ¡ä»£è¡¨äº†å¼€å§‹å…è´¹è¯•ç”¨çš„åˆå§‹ç”¨æˆ·ç¾¤ä½“ã€‚</p>
<p>ä»å›¾è¡¨ä¸­å¯ä»¥çœ‹å‡ºï¼š</p>
<p>- ç¬¬ä¸€ä¸ªæŸ±çŠ¶æ¡çš„é«˜åº¦å¯¹åº” 10,000 åç”¨æˆ·ã€‚</p>
<p>- è¯¥æŸ±çŠ¶æ¡ä¸Šçš„æ ‡ç­¾æ˜ç¡®æ ‡ç¤ºä¸ºâ€œ+10,000â€ï¼Œè¡¨æ˜è¿™æ˜¯å…è´¹è¯•ç”¨ç”¨æˆ·çš„èµ·å§‹äººæ•°ã€‚</p>
<p>æ— éœ€è¿›ä¸€æ­¥è®¡ç®—ï¼Œå› ä¸ºå›¾è¡¨å·²ç›´æ¥æä¾›äº†å…è´¹è¯•ç”¨ç”¨æˆ·çš„æ€»æ•°ã€‚</p>
<p>å› æ­¤ï¼Œå…è´¹è¯•ç”¨ç”¨æˆ·çš„æ€»æ•°ä¸º 10,000ã€‚</p>


<p>10,000</p>

<p>æˆ‘ä»¬ä» HuggingFace çš„ FineVision æ•°æ®é›†ä¸­æŠ½å–äº† 180 ä¸‡æ¡è‹±æ–‡å›¾æ–‡æŒ‡ä»¤ï¼Œå…¨é¢è¦†ç›–å…¶å…¨éƒ¨å­æ•°æ®é›†ä¸æ•°æ®æ¥æºï¼Œä»è€Œæ„å»ºäº†ä¸€ä¸ªå¤šæ ·åŒ–ã€é«˜è¦†ç›–åº¦çš„åˆå§‹å¤šæ¨¡æ€é—®é¢˜æ± ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åˆ©ç”¨å½“å‰æ€§èƒ½é¢†å…ˆçš„å¤šæ¨¡æ€å¤§æ¨¡å‹ Qwen3-VL-Maxï¼Œä¸ºæ¯ä¸€æ¡æ ·æœ¬ç”Ÿæˆç»“æ„åŒ–ã€å¯è§£é‡Šã€å¤šæ­¥éª¤çš„é•¿æ€è€ƒæ¨ç†è¿‡ç¨‹ï¼Œæ¶µç›–è§†è§‰ä¿¡æ¯å®šä½ã€è·¨æ¨¡æ€è¯­ä¹‰å¯¹é½ã€é€»è¾‘æ¨å¯¼ä¸ç­”æ¡ˆéªŒè¯ç­‰å…³é”®è®¤çŸ¥ç¯èŠ‚ã€‚å…¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹Promptæ¨¡ç‰ˆä» Qwen3-VL-Maxè’¸é¦å¾—åˆ°ä¸Šè¿°é•¿æ€è€ƒæ¨ç†è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">SYSTEM_PROMPT</span>=<span class="hljs-string">"You are a helpful assistant to think step by step. Provide your reasoning steps within &lt;think&gt;&lt;/think&gt; tags and give your final answer within &lt;answer&gt;&lt;/answer&gt; tags."</span>

<span class="hljs-attr">QUERY</span>=f<span class="hljs-string">"""
&lt;image&gt;
### Question

{question}

### Output Format (Strictly Enforced)

&lt;think&gt;
Clearly explain your reasoning step by step. Describe how you arrived at the conclusion.
The reasoning process MUST BE enclosed within &lt;think&gt; &lt;/think&gt; tags.
&lt;/think&gt;
&lt;answer&gt;
Your final answer to the user's question.
&lt;/answer&gt;
"""</span>
</code></pre>
<p>æœ€ç»ˆï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªåŒ…å«çº¦ 0.8B Tokens çš„é«˜è´¨é‡å¤šæ¨¡æ€é•¿æ€è€ƒè’¸é¦æ•°æ®é›†ï¼Œä¸ºè®­ç»ƒå…·å¤‡æ·±åº¦æ¨ç†èƒ½åŠ›çš„å°å‹å¤šæ¨¡æ€æ¨¡å‹å¥ å®šäº†åšå®çš„æ•°æ®åŸºç¡€ã€‚è¯¥æ•°æ®é›†ä¸ä»…è§„æ¨¡åºå¤§ï¼Œæ›´åœ¨æ¨ç†æ·±åº¦ã€é€»è¾‘è¿è´¯æ€§ä¸ä»»åŠ¡å¤šæ ·æ€§ç­‰æ–¹é¢æ˜¾è‘—è¶…è¶Šç°æœ‰å¼€æºå¤šæ¨¡æ€æŒ‡ä»¤å¾®è°ƒæ•°æ®é›†ã€‚</p>
<h2 data-id="heading-2">OmniThoughtVæ€ç»´é“¾è¯„ä¼°æŒ‡æ ‡</h2>
<p>åœ¨å®Œæˆå¯¹ 180 ä¸‡æ¡è‹±æ–‡å›¾æ–‡æŒ‡ä»¤çš„è’¸é¦æ ‡æ³¨åï¼Œæˆ‘ä»¬å¯¹ç”Ÿæˆçš„é•¿æ€è€ƒæ•°æ®è¿›è¡Œäº†ç³»ç»Ÿæ€§è´¨é‡æ¸…æ´—ï¼Œä»¥ç¡®ä¿æ•°æ®çš„éš¾åº¦å’Œæ ‡æ³¨å‡†ç¡®æ€§ã€‚æ•°æ®æ¸…æ´—ä¸è¿‡æ»¤ä¸»è¦åŸºäºä¸¤ä¸ªç»´åº¦ï¼šè§„åˆ™è¿‡æ»¤å’Œæ¨¡å‹æ‰“åˆ†ã€‚ åœ¨è§„åˆ™å±‚é¢ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸‰ç±»å¯å‘å¼è§„åˆ™ï¼šé™¤äº†å‰”é™¤ä¸ç¬¦åˆ...&lt;\think&gt;...&lt;\answer&gt;æ€è€ƒé“¾æ ¼å¼çš„æ•°æ®å¤–ï¼Œæˆ‘ä»¬è¿˜è¿‡æ»¤æ‰æ¨¡å‹å›ç­”é•¿åº¦è¿‡é•¿çš„æ•°æ®ï¼Œé€šå¸¸è¿™ç±»æ•°æ®å¯¹åº”æä¸ºå¤æ‚çš„é—®é¢˜ï¼Œæ¨¡å‹åœ¨æ€è€ƒè¿‡ç¨‹ä¸­éš¾ä»¥æ‰¾åˆ°æœ‰æ•ˆç­”æ¡ˆã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å‰”é™¤äº†å›ç­”ä¸­å‡ºç°æ¨¡å‹è‡ªæˆ‘åå¤çº é”™çš„æ ·æœ¬ï¼Œä¾‹å¦‚åŒ…å«â€œWait, â€¦..â€ç­‰è‡ªæˆ‘çº é”™æ¨¡æ¿çš„æ•°æ®ï¼Œè¿™ç±»æ•°æ®é€šå¸¸ä¹Ÿæ˜¯æéš¾é—®é¢˜ï¼Œæ¨¡å‹æ— æ³•åšå‡ºå‡†ç¡®æ¨ç†ã€‚ åœ¨æ¨¡å‹æ‰“åˆ†æ–¹é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨ Qwen3-VL-Flash å¯¹æ•°æ®è¿›è¡Œæ‰“åˆ†ï¼Œåˆ†åˆ«æ ‡æ³¨äº†æ•°æ®çš„è´¨é‡ã€éš¾åº¦ä»¥åŠå¼€æ”¾å¼ä»»åŠ¡æ ‡ç­¾ï¼Œå…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p>åˆ†æ•°</p>
<p>çº§åˆ«</p>
<p>æè¿°</p>
<p>éš¾åº¦è¯„åˆ†</p>
<p>1</p>
<p>éå¸¸ç®€å•</p>
<p>æ˜æ˜¾å­˜åœ¨çš„ç‰©ä½“ã€ç®€å•çš„é¢œè‰²/å½¢çŠ¶è¯†åˆ«</p>
<p>2</p>
<p>ç®€å•</p>
<p>æ¸…æ™°å¯è§ç‰©å“çš„åŸºæœ¬è®¡æ•°ã€ç®€å•çš„ç©ºé—´å…³ç³»</p>
<p>3</p>
<p>ä¸­ç­‰</p>
<p>éœ€è¦ç®€çŸ­æ¨ç†ã€è¯†åˆ«å¸¸è§åŠ¨ä½œæˆ–å±æ€§</p>
<p>4</p>
<p>å›°éš¾</p>
<p>å¤šæ­¥æ¨ç†ã€ç»†å¾®çš„è§†è§‰çº¿ç´¢ã€æˆ–ä¸å¸¸è§çš„æ¦‚å¿µ</p>
<p>5</p>
<p>éå¸¸å›°éš¾</p>
<p>æŠ½è±¡æ¨ç†ã€å¤æ‚çš„åœºæ™¯ç†è§£ã€æˆ–æ¨¡ç³Šä¸æ¸…çš„ä¸Šä¸‹æ–‡</p>
<p>è´¨é‡è¯„åˆ†</p>
<p>1</p>
<p>éå¸¸ä½</p>
<p>å®Œå…¨é”™è¯¯æˆ–æ— å…³çš„å›ç­”</p>
<p>2</p>
<p>ä½</p>
<p>å¤§éƒ¨åˆ†é”™è¯¯ï¼Œä»…å«å°‘é‡æ­£ç¡®å…ƒç´ </p>
<p>3</p>
<p>ä¸­</p>
<p>éƒ¨åˆ†æ­£ç¡®ï¼Œä½†é—æ¼å…³é”®ç»†èŠ‚æˆ–åŒ…å«é”™è¯¯</p>
<p>4</p>
<p>é«˜</p>
<p>åŸºæœ¬æ­£ç¡®ï¼Œä»…æœ‰è½»å¾®ä¸å‡†ç¡®æˆ–é—æ¼</p>
<p>5</p>
<p>éå¸¸é«˜</p>
<p>å®Œå…¨å‡†ç¡®ã€ç²¾ç¡®ä¸”å®Œæ•´çš„å›ç­”</p>
<p>æ­¤å¤–ï¼Œæ¨¡å‹ä¼šä¸ºæ¯ä¸ªé—®é¢˜åˆ†é… 3 åˆ° 6 ä¸ªç®€æ´ã€ç›¸å…³ã€å¼€æ”¾å¼ä»»åŠ¡æ ‡ç­¾ï¼Œæè¿°é—®é¢˜çš„æ€§è´¨ï¼ˆä¾‹å¦‚ï¼šâ€œcountingâ€ã€â€œcolorâ€ã€â€œspatialâ€ã€â€œactionâ€ã€â€œobjectâ€ã€â€œattributeâ€ã€â€œreasoningâ€ã€â€œsceneâ€ã€â€œtextâ€ã€â€œmathâ€ ç­‰ï¼‰ã€‚ä¸ºäº†ä¿è¯è¯­ä¹‰çš„æ¸…æ™°æ€§ï¼Œæˆ‘ä»¬ä»…ä½¿ç”¨å¸¸è§ã€é€šç”¨çš„æ ‡ç­¾ã€‚</p>
<p>OmniThoughtVæ•°æ®é›†çš„æ ‡æ³¨ç»Ÿè®¡ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/121356315/1762141171380-ad401c79-63a1-41dc-9ed9-d28d0f532f32.png?x-oss-process=image%2Fcrop%2Cx_7%2Cy_0%2Cw_1769%2Ch_1044" alt="" loading="lazy"/></p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/121356315/1762141199168-0a4a9967-bcda-4bb5-b38f-19a823f6c18d.png" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹å‡ºï¼Œç»å¤§å¤šæ•°OmniThoughtVæ•°æ®é›†ä¸­çš„æ€ç»´é“¾è´¨é‡æé«˜ï¼Œåœ¨éš¾åº¦ä¸Šæ˜æ˜¾å‘ˆç°è¿‘ä¼¼æ­£æ€åˆ†å¸ƒã€‚æˆ‘ä»¬è¿›ä¸€æ­¥ä½¿ç”¨è¯äº‘ç»Ÿè®¡äº†ä»»åŠ¡æ ‡ç­¾ï¼š</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/121356315/1762156487602-898b6a00-d6bd-4cad-bd66-ea25b06d3753.png" alt="" loading="lazy"/></p>
<p>ä»æ•°æ®æ ‡ç­¾ç»Ÿè®¡å¯ä»¥çœ‹å‡ºè¯¥æ•°æ®é›†è¦†ç›–å¹¿æ³›çš„é¢†åŸŸä¸»é¢˜å’Œä»»åŠ¡ç±»å‹ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li><strong>è§†è§‰ç†è§£</strong>ï¼šå¦‚å¯¹è±¡è¯†åˆ«ï¼ˆ<code>object</code>ï¼‰ã€å±æ€§è§£æï¼ˆ<code>attribute</code>ï¼‰ã€åœºæ™¯ç†è§£ï¼ˆ<code>scene</code>ï¼‰ï¼›</li>
<li><strong>ç©ºé—´æ¨ç†</strong>ï¼šå¦‚ä½ç½®å…³ç³»ï¼ˆ<code>spatial</code>ã€<code>position</code>ã€<code>layout</code>ï¼‰ã€æ–¹å‘ï¼ˆ<code>direction</code>ï¼‰ä¸åæ ‡ï¼ˆ<code>coordinate</code>ï¼‰ï¼›</li>
<li><strong>å›¾è¡¨è§£è¯»</strong>ï¼šæ¶µç›–å¤šç§å¯è§†åŒ–å½¢å¼ï¼ˆ<code>chart</code>ã€<code>graph</code>ã€<code>table</code>ã€<code>bar chart</code>ã€<code>pie chart</code>ã€<code>scatter plot</code>ï¼‰åŠå…¶å…ƒä¿¡æ¯ï¼ˆ<code>axis</code>ã€<code>legend</code>ã€<code>label</code>ã€<code>caption</code>ï¼‰ï¼›</li>
<li><strong>é€»è¾‘æ¨ç†</strong>ï¼šåŒ…æ‹¬è®¡æ•°ï¼ˆ<code>count</code>ï¼‰ã€æ¯”è¾ƒï¼ˆ<code>comparison</code>ï¼‰ã€æ•°å­¦è®¡ç®—ï¼ˆ<code>math</code>ã€<code>algebra</code>ã€<code>geometry</code>ï¼‰ä»¥åŠç»Ÿè®¡æ¦‚å¿µï¼ˆ<code>percentage</code>ã€<code>ratio</code>ã€<code>average</code>ï¼‰ï¼›</li>
<li><strong>é¢†åŸŸçŸ¥è¯†</strong>ï¼šæ¶‰åŠç§‘å­¦ï¼ˆ<code>physics</code>ã€<code>chemistry</code>ã€<code>biology</code>ï¼‰ã€æŠ€æœ¯ï¼ˆ<code>code</code>ã€<code>algorithm</code>ã€<code>electronics</code>ï¼‰ã€äººæ–‡ï¼ˆ<code>history</code>ã€<code>politics</code>ã€<code>literature</code>ï¼‰ç­‰å¤šä¸ªé¢†åŸŸï¼›</li>
<li><strong>åæ€èƒ½åŠ›</strong>ï¼šå¼ºè°ƒäº‹å®æ ¸æŸ¥ï¼ˆ<code>verification</code>ã€<code>fact-check</code>ï¼‰ã€è¯¯å·®è¯†åˆ«ï¼ˆ<code>error</code>ã€<code>discrepancy</code>ï¼‰ä¸ç»†èŠ‚æ•æ„Ÿæ€§ï¼ˆ<code>precision</code>ã€<code>detail</code>ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-3">å®éªŒæ•ˆæœè¯„æµ‹</h2>
<p>ä¸ºäº†ç³»ç»Ÿæ€§åœ°å¯»æ‰¾æœ€ä¼˜è®­ç»ƒè¶…å‚æ•°ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸åŒçš„è¶…å‚æ•°ç»„åˆï¼Œå¯¹ Qwen2.5-VL-3B-Instruct æ¨¡å‹åœ¨è§†è§‰æ¨ç†ä»»åŠ¡ä¸Šçš„è¡¨ç°è¿›è¡Œäº†è®­ç»ƒä¸è¯„æµ‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ MMMU_pro_vision Benchmark ä¸Šå¼€å±•äº†ä¸€ç³»åˆ—å¾®è°ƒè¶…å‚æ•°çš„å®éªŒã€‚è¯¥åŸºå‡†èƒ½å¤Ÿå…¨é¢ã€æ·±å…¥åœ°è¡¡é‡æ¨¡å‹åœ¨å¤æ‚å›¾åƒç†è§£ä¸å¤šæ­¥é€»è¾‘æ¨ç†æ–¹é¢çš„ç»¼åˆèƒ½åŠ›ã€‚åœ¨æœªè¿›è¡Œä»»ä½•å¾®è°ƒçš„æƒ…å†µä¸‹ï¼ŒåŸå§‹çš„ Qwen2.5-VL-3B-Instruct æ¨¡å‹åœ¨è¯¥åŸºå‡†ä¸Šçš„å¾—åˆ†ä»…ä¸º 0.2130ã€‚æˆ‘ä»¬ä½¿ç”¨çš„Promptæ¨¡ç‰ˆå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">SYSTEM_PROMPT</span>=<span class="hljs-string">"You are a helpful assistant to think step by step. Provide your reasoning steps within &lt;thinking&gt;&lt;/thinking&gt; tags and give your final answer within &lt;answer&gt;&lt;/answer&gt; tags. Final answer requirement: Answer with the option letter from the given choices directly."</span>

<span class="hljs-attr">QUERY_PROMPT</span>=f<span class="hljs-string">"""
### Question

{question}

### Output Format (Strictly Enforced)

&lt;thinking&gt;
Clearly explain your reasoning step by step. Describe how you arrived at the conclusion.
The reasoning process MUST BE enclosed within &lt;thinking&gt; &lt;/thinking&gt; tags.
&lt;/thinking&gt;
&lt;answer&gt;
Your final answer to the user's question.
Answer with the option letter from the given choices directly.
&lt;/answer&gt;
"""</span>
</code></pre>
<p>éšåï¼Œæˆ‘ä»¬å›´ç»•å­¦ä¹ ç‡å’Œè®­ç»ƒè½®æ¬¡ï¼ˆEpochï¼‰è¿™ä¸¤ä¸ªæ ¸å¿ƒè¶…å‚æ•°ï¼Œè®¾è®¡äº†å¤šç»„å¯¹æ¯”å®éªŒï¼Œä»¥æ¢ç´¢å®ƒä»¬å¯¹æ¨¡å‹æœ€ç»ˆæ€§èƒ½çš„å½±å“ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬æµ‹è¯•äº†å››ç§ä¸åŒçš„å­¦ä¹ ç‡ï¼ˆ5e-6ã€1e-5ã€2e-5ã€4e-5ï¼‰ï¼Œå¹¶åˆ†åˆ«åœ¨ 1 è‡³ 5 ä¸ªè®­ç»ƒè½®æ¬¡ä¸‹è§‚å¯Ÿæ¨¡å‹å¾—åˆ†çš„å˜åŒ–è¶‹åŠ¿ã€‚å®éªŒç»“æœæ˜¾ç¤ºï¼Œä¸åŒè¶…å‚æ•°ç»„åˆå¯¹æ¨¡å‹æ€§èƒ½æœ‰ç€æ˜¾è‘—å½±å“ï¼šä¾‹å¦‚ï¼Œå½“å­¦ä¹ ç‡ä¸º 5e-6ï¼Œä¸”è®­ç»ƒ 4 ä¸ª Epoch æ—¶ï¼Œæ¨¡å‹å–å¾—äº† 0.3220 çš„æœ€ä½³åˆ†æ•°ï¼›è€Œè¾ƒé«˜çš„å­¦ä¹ ç‡ï¼ˆå¦‚ 4e-5ï¼‰åˆ™æ™®éå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œè¡¨æ˜è¿‡é«˜çš„å­¦ä¹ ç‡å¯èƒ½ä¸åˆ©äºæ¨¡å‹ç¨³å®šæ”¶æ•›ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬é€‰ç”¨äº† 5e-6 çš„å­¦ä¹ ç‡ï¼Œè®­ç»ƒ 4 ä¸ª Epoch ä½œä¸ºåç»­å®éªŒçš„å¾®è°ƒè®­ç»ƒå‚æ•°ã€‚</p>
<p>å­¦ä¹ ç‡/Epoch</p>
<p>1 Epoch</p>
<p>2 Epochs</p>
<p>3 Epochs</p>
<p>4 Epochs</p>
<p>5 Epochs</p>
<p>5e-6</p>
<p>0.2815</p>
<p>0.2936</p>
<p>0.3116</p>
<p><strong>0.3220</strong></p>
<p>0.3087</p>
<p>1e-5</p>
<p>0.2931</p>
<p>0.3017</p>
<p>0.3093</p>
<p>0.3104</p>
<p>0.3098</p>
<p>2e-5</p>
<p>0.2722</p>
<p>0.2919</p>
<p>0.2977</p>
<p>0.2959</p>
<p>0.3000</p>
<p>4e-5</p>
<p>0.2566</p>
<p>0.2515</p>
<p>0.2671</p>
<p>0.2688</p>
<p>0.2798</p>
<p>ä¸ºäº†æ·±å…¥æ¢ç©¶æ•°æ®ç­›é€‰ç­–ç•¥å¯¹æ¨¡å‹å¾®è°ƒæ•ˆæœçš„å½±å“ï¼Œæˆ‘ä»¬ç³»ç»Ÿæ€§åœ°æµ‹è¯•äº†â€œè´¨é‡â€ï¼ˆQualityï¼‰ä¸â€œéš¾åº¦â€ï¼ˆDifficultyï¼‰æŒ‡æ ‡çš„æ•°æ®è¿‡æ»¤æ¡ä»¶ï¼Œå¹¶åœ¨å‰è¿°å®éªŒçš„æœ€ä½³è¶…å‚æ•°è®¾ç½®ä¸‹è¯„ä¼°å…¶è®­ç»ƒæ€§èƒ½ã€‚æ¯ç»„è¿‡æ»¤æ¡ä»¶å¯¹åº”çš„å¾®è°ƒæ•°æ®é›†å‡ç»Ÿä¸€ä¸º 10 ä¸‡æ¡ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œå•çº¯ä¾èµ–æ ‡æ³¨è´¨é‡æŒ‡æ ‡è¿›è¡Œè¿‡æ»¤ï¼ˆå¦‚ä»…ä¿ç•™ Quality â‰¥ 5 çš„æ•°æ®ï¼‰åè€Œä¼šå¯¼è‡´æ¨¡å‹æ€§èƒ½è½»å¾®ä¸‹é™ï¼ˆå¾—åˆ† 0.2948ï¼‰ï¼Œç”šè‡³ä½äºæœªç»è¿‡è¿‡æ»¤çš„åŸå§‹æ•°æ®é›†ï¼ˆå¾—åˆ† 0.3093ï¼‰ã€‚è¿™è¯´æ˜é«˜æ ‡æ³¨è´¨é‡æ•°æ®æœªå¿…ç­‰åŒäºé«˜æœ‰æ•ˆæ€§ï¼Œæœ‰æ—¶å¯èƒ½å› è¿‡äºç®€å•æˆ–åŒè´¨åŒ–è€Œå‰Šå¼±æ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›ã€‚ ç›¸åï¼Œå½“å¼•å…¥â€œéš¾åº¦â€æŒ‡æ ‡ä½œä¸ºæ ¸å¿ƒè¿‡æ»¤æ¡ä»¶æ—¶ï¼Œæ¨¡å‹è¡¨ç°æ˜¾è‘—æå‡ï¼šåœ¨ä»…è¦æ±‚ Difficulty â‰¥ 4 çš„æ¡ä»¶ä¸‹ï¼Œæ¨¡å‹å¾—åˆ†è·ƒå‡è‡³ 0.3156ï¼›è€Œå°†é«˜è´¨é‡ä¸é«˜éš¾åº¦ç›¸ç»“åˆï¼ˆQuality â‰¥ 5 ä¸” Difficulty â‰¥ 4ï¼‰æ—¶ï¼Œæ¨¡å‹å¾—åˆ†ä¹Ÿè¾¾åˆ°äº† 0.3139ï¼ŒåŒæ ·ä¼˜äºæ— è¿‡æ»¤åŸºçº¿ã€‚ç”±æ­¤éªŒè¯äº†æˆ‘ä»¬æå‡ºçš„â€œéš¾åº¦â€ä¸â€œæ ‡æ³¨è´¨é‡â€è”åˆè¿‡æ»¤çš„æœ‰æ•ˆæ€§ã€‚åŒæ—¶ä¹Ÿå¾—å‡ºç»“è®ºï¼Œåœ¨å½“å‰ä»»åŠ¡åœºæ™¯ä¸‹ï¼Œä»¥â€œéš¾åº¦â€ä¸ºæ ¸å¿ƒçš„è¿‡æ»¤æœºåˆ¶æ¯”å•çº¯ä¾èµ–â€œæ ‡æ³¨è´¨é‡â€çš„è¿‡æ»¤ç­–ç•¥æ›´ä¸ºæœ‰æ•ˆï¼Œå› ä¸ºå®ƒèƒ½æ›´ç²¾å‡†åœ°ç­›é€‰å‡ºæ—¢èƒ½æŒ‘æˆ˜æ¨¡å‹ã€åˆèƒ½ä¿ƒè¿›å…¶æ¨ç†èƒ½åŠ›æå‡çš„å…³é”®æ ·æœ¬ï¼Œä»è€Œæ›´é«˜æ•ˆåœ°é©±åŠ¨æ¨¡å‹æ€§èƒ½çš„æå‡ã€‚</p>
<p>è¿‡æ»¤æ¡ä»¶</p>
<p>åˆ†æ•°</p>
<p>æ— è¿‡æ»¤Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </p>
<p>0.3093Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </p>
<p>Quality&gt;=5; Difficulty&gt;=0</p>
<p>0.2948</p>
<p>Quality&gt;=0; Difficulty&gt;=4</p>
<p>0.3156</p>
<p>Quality&gt;=5; Difficulty&gt;=4</p>
<p>0.3139</p>
<p>æˆ‘ä»¬åŸºäº Quality â‰¥ 5ï¼ŒDifficulty â‰¥ 4 çš„è¿‡æ»¤æ¡ä»¶ï¼Œç­›é€‰å¾—åˆ°çº¦ 50 ä¸‡æ¡æ•°æ®ï¼Œå¹¶å¯¹ Qwen3-VL 2Bã€4Bã€8B ç‰ˆæœ¬è¿›è¡Œäº†å¾®è°ƒã€‚æˆ‘ä»¬ä½¿ç”¨ LMMs-Eval æ¡†æ¶è¿›è¡Œè¯„æµ‹ã€‚ç”±äºä¸åŒ Prompt è¯„æµ‹æ¨¡æ¿ä¼šå¯¹æµ‹è¯„ç»“æœäº§ç”Ÿå½±å“ï¼Œæˆ‘ä»¬åœ¨è¯„æµ‹è¿‡ç¨‹ä¸­ç»Ÿä¸€å›ºå®šäº†ä¸€å¥—æ¨ç† Promptã€‚å®éªŒç»“æœå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ æˆ‘ä»¬æˆåŠŸéªŒè¯äº†æ•°æ®é›†çš„æœ‰æ•ˆæ€§ï¼Œé€šè¿‡æ„å»ºäº†çº¦ 50 ä¸‡æ¡é«˜è´¨é‡ã€é«˜éš¾åº¦çš„è®­ç»ƒæ•°æ®ï¼Œä»¥æ­¤å¾®è°ƒ Qwen3-VL ç³»åˆ—ä¸åŒè§„æ¨¡çš„æ¨¡å‹ï¼ˆ2Bã€4Bã€8Bï¼‰çš„å®éªŒæ•°æ®æ˜¾ç¤ºï¼Œæ— è®ºæ˜¯åœ¨é€šç”¨è§†è§‰ç†è§£èƒ½åŠ› benchmarkï¼ˆå¦‚ AI2Dã€MMStarï¼‰ï¼Œè¿˜æ˜¯åœ¨å¯¹æ¨ç†èƒ½åŠ›æ›´æ•æ„Ÿçš„ benchmarkï¼ˆå¦‚ MMMU_Pro_standardã€MMMU_Pro_visionã€ MathVerseã€ MathVisionï¼‰ä¸Šï¼Œæ‰€æœ‰ç»è¿‡å¾®è°ƒçš„æ¨¡å‹å‡å®ç°äº†æ€§èƒ½æå‡ï¼Œåœ¨å¼ºè°ƒæ¨ç†èƒ½åŠ›çš„ benchmark ä¸Šæå‡å°¤ä¸ºæ˜¾è‘—ã€‚è¿™å……åˆ†è¯æ˜äº†é«˜è´¨é‡æ•°æ®çš„è’¸é¦ã€ç­›é€‰ä¸è§„æ¨¡æ‰©å±•å¯¹æ¨¡å‹æ¨ç†èƒ½åŠ›æå‡çš„æœ‰æ•ˆæ€§ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/121356315/1764643999457-589b52e4-ae43-430d-a5ff-136308fb4754.png" alt="" loading="lazy"/></p>
<p>ç»¼ä¸Šè€Œè¨€ï¼ŒOmniThoughtV æ•°æ®é›†çš„æ„å»ºæµç¨‹ä¸ä»…éªŒè¯äº†é•¿æ€è€ƒæ€ç»´é“¾æ•°æ®ä¸ä»…èƒ½æå‡æ¨¡å‹åœ¨è§†è§‰æ¨ç†ç­‰ä»»åŠ¡ä¸Šçš„æ¨ç†èƒ½åŠ›ï¼Œä¹ŸéªŒè¯äº†æ¨¡å‹â€œçœ‹å›¾æ·±åº¦æ€è€ƒâ€èƒ½åŠ›çš„æå‡ä¹Ÿèƒ½æé«˜æ¨¡å‹çš„é€šç”¨è§†è§‰ç†è§£èƒ½åŠ›ã€‚OmniThoughtV æ•°æ®é›†å¾ˆå¥½å¼¥è¡¥äº†å¼€æºç¤¾åŒºä¸­å¤§è§„æ¨¡å¤šæ¨¡æ€é•¿æ€è€ƒæ•°æ®é›†çš„åŒ®ä¹ï¼Œä¹Ÿé€šè¿‡ç³»ç»ŸåŒ–çš„æ•°æ®å·¥ç¨‹ï¼Œæä¾›äº†å…¨æµç¨‹æ¸…æ™°ã€å¯å¤ç°çš„å·¥å…·å’ŒæŠ€æœ¯è·¯çº¿ã€‚</p>
<h2 data-id="heading-4">èµ„æºä¸‹è½½å’Œä½¿ç”¨</h2>
<h3 data-id="heading-5">åœ¨EasyDistillæ¡†æ¶çš„ä½¿ç”¨æ•™ç¨‹</h3>
<p>é€šè¿‡ä½¿ç”¨é˜¿é‡Œäº‘äººå·¥æ™ºèƒ½å¹³å°ï¼ˆPAIï¼‰æ¨å‡ºçš„å¼€æºå·¥å…·åŒ…<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.sm.cn%2F6S37TIT%3Fspm%3Da2c6h.13046898.publish-article.17.56436ffakS8ykA" target="_blank" title="https://x.sm.cn/6S37TIT?spm=a2c6h.13046898.publish-article.17.56436ffakS8ykA" ref="nofollow noopener noreferrer">EasyDistill</a> ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾å®ç°å®ç°å¤šæ¨¡æ€æ€ç»´é“¾æ•°æ®çš„è’¸é¦ã€å¯¹æ€ç»´é“¾æ•°æ®æ‰“åˆ†ã€‚</p>
<p>1. å…‹éš†ä»£ç åº“ï¼Œå¹¶å®‰è£…ç›¸å…³ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/modelscope/easydistill
<span class="hljs-built_in">cd</span> EasyDistill
pip install -r requirements.txt
</code></pre>
<p>2. å¯ä»¥ä½¿ç”¨å„ç§é…ç½®æ–‡ä»¶ç”Ÿæˆè®­ç»ƒæ•°æ®ï¼Œä»¥æ€ç»´é“¾æ•°æ®ç”Ÿæˆä¸ºä¾‹ï¼Œé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"job_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mmkd_black_box_api"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dataset"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"instruction_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"data/mllm_demo.json"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"labeled_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"data/mllm_demo_distill.json"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"seed"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">42</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"inference"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"base_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ENDPOINT"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"api_key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TOKEN"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"system_prompt"</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">"You are a helpful assistant."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"max_new_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">512</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"student"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"student/Qwen/Qwen3-VL-2B-Instruct/"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"training"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"output_dir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./result/"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"num_train_epochs"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"per_device_train_batch_size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"gradient_accumulation_steps"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"max_length"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">512</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"save_steps"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"logging_steps"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"learning_rate"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2e-5</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"weight_decay"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.05</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"warmup_ratio"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lr_scheduler_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cosine"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>3. å®Œæˆæ€ç»´é“¾æ•°æ®ç”Ÿæˆåï¼Œå¯ä»¥ä½¿ç”¨æ€ç»´é“¾è¯„ä»·æ‰“åˆ†åŠŸèƒ½ï¼Œé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"job_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mmcot_eval_api"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dataset"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"input_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cot_input.json"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"output_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cot_output.json"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"inference"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"base_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"api_key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"YOUR KEY"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"max_new_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8196</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå³å¯å®Œæˆå¯¹cotæ•°æ®è´¨é‡çš„è¯„ä»·æ‰“åˆ†ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">export</span> JUDGE_MODEL=qwen3-vl-plus

easydistill --config mmcot_eval_api.json
</code></pre>
<p>è¯¦ç»†ç”¨æ³•å¯ä»¥å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Feasydistill%2Fblob%2Fmain%2Fdocs%2FCoT_Eval.md" target="_blank" title="https://github.com/modelscope/easydistill/blob/main/docs/CoT_Eval.md" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a></p>
<h3 data-id="heading-6">ä»HuggingFace/ModelScopeä¸‹è½½èµ„æº</h3>
<p>æˆ‘ä»¬çš„å…¬å¼€çš„æ•°æ®çº¦180ä¸‡æ¡åŸå§‹æ•°æ®é›†å’Œ50ä¸‡æ¡ç­›é€‰åçš„æ•°æ®é›†ã€‚æ¯ä¸€æ¡æ•°æ®éƒ½å¸¦æœ‰è¯„åˆ†ã€‚ç­›é€‰åçš„æ•°æ®é›†æ˜¯éš¾åº¦å¤§äºç­‰äº4åˆ†ï¼Œè´¨é‡å¤§äºç­‰äº5åˆ†çš„æ•°æ®ã€‚æ•°æ®é›†ä¸­çš„å›¾åƒé‡‡ç”¨base64ç¼–ç å‚¨å­˜ã€‚</p>
<p>æ•°æ®é›†</p>
<p>HuggingFace</p>
<p>ModelScope</p>
<p>OmmiThoughtV_Raw_1.8M</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fdatasets%2Falibaba-pai%2FOmmiThoughtV_Raw_1.8M" target="_blank" title="https://huggingface.co/datasets/alibaba-pai/OmmiThoughtV_Raw_1.8M" ref="nofollow noopener noreferrer">huggingface.co/datasets/alâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelscope.cn%2Fdatasets%2Fplatformofai%2FOmniThoughtV_Raw_1.8M" target="_blank" title="https://modelscope.cn/datasets/platformofai/OmniThoughtV_Raw_1.8M" ref="nofollow noopener noreferrer">modelscope.cn/datasets/plâ€¦</a></p>
<p>OmniThoughtV_Filter_0.5M</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fdatasets%2Falibaba-pai%2FOmniThoughtV_Filter_0.5M" target="_blank" title="https://huggingface.co/datasets/alibaba-pai/OmniThoughtV_Filter_0.5M" ref="nofollow noopener noreferrer">huggingface.co/datasets/alâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelscope.cn%2Fdatasets%2Fplatformofai%2FOmniThoughtV_Filter_0.5M" target="_blank" title="https://modelscope.cn/datasets/platformofai/OmniThoughtV_Filter_0.5M" ref="nofollow noopener noreferrer">modelscope.cn/datasets/plâ€¦</a></p>
<p>å¯ä»¥å‚è€ƒä»¥ä¸‹ä»£ç è¯»å–æ•°æ®é›†ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from datasets import load_dataset 

<span class="hljs-attr">data_path</span>=<span class="hljs-string">'...YOUR_PATH_To.../OmmiThoughtV_Raw_1.8M/'</span>
<span class="hljs-attr">OmmiThoughtV</span>=load_dataset(data_path, streaming=<span class="hljs-literal">True</span>)
</code></pre>
<h2 data-id="heading-7">åœºæ™¯åŒ–åº”ç”¨</h2>
<p>é™¤äº†å…¸å‹çš„å¤šæ¨¡æ€ä»»åŠ¡ï¼Œæˆ‘ä»¬æå‡ºçš„è’¸é¦æ–¹æ³•å¯ä»¥æœ‰æ•ˆåº”ç”¨äºå„ç§å®é™…åœºæ™¯ä¸­ï¼Œä»¥ä¸‹æˆ‘ä»¬ç»™å‡ºå¤šä¸ªå¤šæ¨¡æ€æ·±åº¦æ€è€ƒä»»åŠ¡çš„å…¸å‹åº”ç”¨ã€‚</p>
<h3 data-id="heading-8">è‡ªåŠ¨é©¾é©¶</h3>
<p>é—®é¢˜ï¼šä½ éœ€è¦å³è½¬ï¼Œè¯·åŸºäºå½“å‰å›¾åƒä¸­çš„é“è·¯ç¯å¢ƒå’Œäº¤é€šçŠ¶å†µï¼Œè¯·åˆ†æå¹¶è§„åˆ’ä½ ï¼ˆè‡ªåŠ¨é©¾é©¶è½¦è¾†ï¼‰ä¸‹ä¸€æ­¥çš„æœ€ä¼˜é©¾é©¶ç­–ç•¥ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/121356315/1764750363196-c5d7d65c-1c58-4327-87ca-edfb42776464.png" alt="" loading="lazy"/></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">thinking</span>&gt;</span></span>
<span class="hljs-bullet">1.</span> <span class="hljs-strong">**è¯„ä¼°é“è·¯ç¯å¢ƒ**</span>ï¼šå›¾åƒæ˜¾ç¤ºäº†ä¸€æ¡å¤šè½¦é“çš„åŸå¸‚é“è·¯ï¼Œäº¤é€šç¹å¿™ï¼Œå‰æ–¹æœ‰å¤§å‹ç»¿è‰²è‡ªå¸å¡è½¦å’Œä¸€è¾†ç™½è‰²è½¿è½¦ã€‚é“è·¯ä¸¤ä¾§æœ‰é«˜å±‚å»ºç­‘ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå¯†é›†çš„åŸå¸‚åŒºåŸŸã€‚é“è·¯ç”±é»„è‰²éš”ç¦»æ åˆ†éš”ï¼Œè¡¨æ˜è½¦æµå—åˆ°ç®¡æ§ã€‚

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**è¯†åˆ«å½“å‰è½¦é“åŠäº¤é€šæµ**</span>ï¼šè½¦è¾†ä½äºä¸­é—´è½¦é“ï¼Œè¯¥è½¦é“ä¼¼ä¹æ˜¯ç›´è¡Œè½¦é“ã€‚å›¾åƒä¸­æœªè§æ˜æ˜¾çš„å³è½¬è½¦é“æˆ–è½¬å¼¯ä¿¡å·æŒ‡ç¤ºï¼Œå› æ­¤å³è½¬å¹¶ä¸ç«‹å³å¯è¡Œã€‚ç›¸é‚»è½¦é“æœ‰å¤§å‹å¡è½¦ï¼Œè¡¨æ˜è½¬å¼¯æ—¶éœ€è°¨æ…æ“ä½œä»¥é¿å…ç¢°æ’ã€‚

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**è¯„ä¼°å³è½¬å¯è¡Œæ€§**</span>ï¼šå‰æ–¹é“è·¯çœ‹èµ·æ¥æ˜¯ç›´è¡Œçš„ï¼Œæœªè§æ˜æ˜¾çš„å³è½¬è½¦é“æˆ–è½¬å¼¯ä¿¡å·æ ‡å¿—ã€‚ç›¸é‚»è½¦é“çš„å¤§å‹å¡è½¦è¡¨æ˜ï¼Œè‹¥è¦è½¬å¼¯ï¼Œéœ€è¦å°å¿ƒæ“ä½œä»¥é¿å…ç¢°æ’ã€‚é»„è‰²éš”ç¦»æ è¡¨æ˜é“è·¯ä¸ºåˆ†éš”å¼è®¾è®¡ï¼Œè½¬å¼¯å¯èƒ½éœ€è¦é©¶ç¦»å½“å‰è½¦é“ã€‚

<span class="hljs-bullet">4.</span> <span class="hljs-strong">**è€ƒè™‘äº¤é€šæ³•è§„ä¸å®‰å…¨æ€§**</span>ï¼šå›¾åƒä¸­æ˜¾ç¤ºäº†ä¸€ä¸ªâ€œ40â€çš„é™é€Ÿæ ‡å¿—ï¼Œè¡¨æ˜é™é€Ÿä¸º40å…¬é‡Œ/å°æ—¶ã€‚å¤§å‹å¡è½¦çš„å­˜åœ¨æç¤ºè½¦è¾†åº”ä¿æŒå®‰å…¨è½¦è·ï¼Œé¿å…çªç„¶å˜é“æˆ–è½¬å‘ã€‚é»„è‰²éš”ç¦»æ è¿›ä¸€æ­¥è¯´æ˜é“è·¯ä¸ºåˆ†éš”è®¾è®¡ï¼Œè½¬å¼¯å¯èƒ½éœ€æå‰å˜é“ã€‚

<span class="hljs-bullet">5.</span> <span class="hljs-strong">**è§„åˆ’æœ€ä¼˜é©¾é©¶ç­–ç•¥**</span>ï¼šåŸºäºå½“å‰çš„é“è·¯ç¯å¢ƒå’Œäº¤é€šçŠ¶å†µï¼Œä½œä¸ºè‡ªåŠ¨é©¾é©¶è½¦è¾†ï¼Œä¸‹ä¸€æ­¥çš„æœ€ä¼˜é©¾é©¶ç­–ç•¥åº”ä¸ºï¼š
<span class="hljs-bullet">   -</span> <span class="hljs-strong">**ä¿æŒå½“å‰è½¦é“**</span>ï¼Œç»§ç»­ç›´è¡Œï¼Œç›´åˆ°åˆ°è¾¾æŒ‡å®šçš„å³è½¬è½¦é“æˆ–äº¤å‰è·¯å£ã€‚
<span class="hljs-bullet">   -</span> <span class="hljs-strong">**æŒç»­ç›‘æµ‹äº¤é€šçŠ¶å†µ**</span>ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿç©ºé—´å®‰å…¨å®Œæˆå³è½¬ã€‚
<span class="hljs-bullet">   -</span> <span class="hljs-strong">**åˆ©ç”¨è½¦è¾†çš„ä¼ æ„Ÿå™¨å’Œæ‘„åƒå¤´**</span>ï¼Œæ¢æµ‹å‘¨å›´ç¯å¢ƒä¸­å¯èƒ½å­˜åœ¨çš„éšœç¢ç‰©æˆ–å±é™©ã€‚
<span class="hljs-bullet">   -</span> <span class="hljs-strong">**éµå®ˆäº¤é€šæ³•è§„**</span>ï¼Œä¸å…¶ä»–è½¦è¾†ä¿æŒå®‰å…¨è·ç¦»ã€‚
<span class="hljs-bullet">   -</span> <span class="hljs-strong">**ä»…åœ¨å®‰å…¨ä¸”åˆæ³•çš„æƒ…å†µä¸‹æ‰§è¡Œå³è½¬**</span>ï¼Œç¡®ä¿ä¸é˜»ç¢å…¶ä»–è½¦è¾†æ­£å¸¸é€šè¡Œã€‚

<span class="hljs-bullet">6.</span> <span class="hljs-strong">**ç»“è®º**</span>ï¼šä½œä¸ºè‡ªåŠ¨é©¾é©¶è½¦è¾†ï¼Œä¸‹ä¸€æ­¥çš„æœ€ä¼˜é©¾é©¶ç­–ç•¥æ˜¯ä¿æŒå½“å‰è½¦é“ç»§ç»­ç›´è¡Œï¼Œç›´è‡³åˆ°è¾¾æŒ‡å®šçš„å³è½¬è½¦é“æˆ–äº¤å‰è·¯å£ï¼ŒåŒæ—¶å¯†åˆ‡è§‚å¯Ÿäº¤é€šçŠ¶å†µï¼Œç¡®ä¿æœ‰å……è¶³ç©ºé—´å®‰å…¨å®Œæˆå³è½¬ã€‚
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">thinking</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">answer</span>&gt;</span></span>
ä¿æŒå½“å‰è½¦é“ç»§ç»­ç›´è¡Œï¼Œç›´è‡³åˆ°è¾¾æŒ‡å®šçš„å³è½¬è½¦é“æˆ–äº¤å‰è·¯å£ï¼ŒåŒæ—¶ç›‘æµ‹äº¤é€šçŠ¶å†µå¹¶ç¡®ä¿æœ‰è¶³å¤Ÿç©ºé—´å®‰å…¨å®Œæˆå³è½¬ã€‚
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">answer</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-9">æ–‡ç‰©è®²è§£</h3>
<p>å‡å¦‚ä½ æ˜¯åšç‰©é¦†è®²è§£å‘˜ï¼Œåˆ†ææ­¤é™¶å™¨å†å²èƒŒæ™¯ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/121356315/1764754311247-215e2127-d3a3-4add-b125-67912249b27f.png" alt="" loading="lazy"/></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">thinking</span>&gt;</span>
ç¬¬ä¸€æ­¥ï¼šåˆ†æè¯¥é™¶å™¨çš„è§†è§‰ç‰¹å¾ã€‚å™¨ç‰©æ‹¥æœ‰ç»†é•¿çš„é¢ˆéƒ¨å’Œåœ†é¼“çš„è…¹éƒ¨ï¼Œè¿™ç§å™¨å‹åœ¨ä¸œäºšé™¶ç“·ä¼ ç»Ÿä¸­ååˆ†å¸¸è§ã€‚å™¨è¡¨è£…é¥°æœ‰é£æ ¼åŒ–çš„é±¼çº¹å’ŒèŠ±å‰å›¾æ¡ˆï¼Œè¡¨æ˜å…¶ç”¨é€”æ›´åå‘è±¡å¾æ€§æˆ–è£…é¥°æ€§ï¼Œè€Œéæ—¥å¸¸å®ç”¨ã€‚  

ç¬¬äºŒæ­¥ï¼šè€ƒå¯Ÿé‡‰é¢ä¸è¡¨é¢è´¨æ„Ÿã€‚é‡‰è‰²å‘ˆæŸ”å’Œçš„åœŸè‰²è°ƒï¼Œç•¥å¸¦æ–‘é©³æˆ–ç ‚è´¨æ„Ÿï¼Œè¿™è¡¨æ˜å®ƒå¾ˆå¯èƒ½é‡‡ç”¨å¤©ç„¶é™¶åœŸï¼Œå¹¶ä»¥ä½æ¸©æˆ–åŠçƒ§åˆ¶å·¥è‰ºåˆ¶æˆâ€”â€”è¿™åœ¨å¤ä»£æœé²œé™¶ç“·ä¸­é¢‡ä¸ºå…¸å‹ã€‚é‡‰é¢å‘ˆç°è“è‰²è°ƒï¼Œè¯´æ˜ä½¿ç”¨äº†å«é“é‡è¾ƒé«˜çš„é™¶åœŸï¼Œå¹¶é‡‡ç”¨äº†è¿˜åŸç„°çƒ§åˆ¶å·¥è‰ºï¼Œè¿™ç§æŠ€æ³•åœ¨æœé²œé™¶å™¨ä¸­å¸¸ç”¨äºè¥é€ å«è“„è€Œå…¸é›…çš„è§†è§‰æ•ˆæœã€‚  

ç¬¬ä¸‰æ­¥ï¼šæ¨æµ‹å†å²æ—¶æœŸã€‚å…·å¤‡æ­¤ç±»ç‰¹å¾ï¼ˆé±¼çº¹ã€ç ‚è´¨æ„Ÿã€ç°è“é‡‰ï¼‰çš„é™¶å™¨ï¼Œä¸é«˜ä¸½ç‹æœï¼ˆ918â€“1392å¹´ï¼‰å°¤å…¶æ˜¯æ™šæœŸï¼ˆ12è‡³13ä¸–çºªï¼‰çš„æœé²œé™¶å™¨é£æ ¼ç›¸ç¬¦ã€‚è¿™ä¸€æ—¶æœŸï¼Œæœé²œé™¶å·¥å‘å±•å‡ºç‹¬å…·ç‰¹è‰²çš„é£æ ¼ï¼ŒåŒ…æ‹¬è‘—åçš„â€œç²‰é’æ²™å™¨â€ï¼ˆbuncheongæˆ–powder-blue wareï¼‰ï¼Œå¸¸é¥°ä»¥ç²¾å·§çš„æ‰‹ç»˜çº¹æ ·å’ŒæŸ”å’ŒåŠé€æ˜çš„é‡‰é¢ã€‚é±¼çº¹å¯èƒ½è±¡å¾å¯Œè¶³ã€å¤šäº§æˆ–ä¸è‡ªç„¶å’Œè°å…±å¤„ï¼Œè¿™äº›ä¸»é¢˜åœ¨æœé²œè‰ºæœ¯ä¸­ååˆ†å¸¸è§ã€‚  

ç¬¬å››æ­¥ï¼šè€ƒè™‘æ–‡åŒ–èƒŒæ™¯ã€‚æ­¤å™¨ç‰©çš„è®¾è®¡ä¸å·¥è‰ºè¡¨æ˜ï¼Œå®ƒå¾ˆå¯èƒ½ç”¨äºç¤¼ä»ªæˆ–ç¥­ç¥€åœºåˆï¼Œä¾‹å¦‚ç››è£…é…’æˆ–æ°´ï¼Œä¹Ÿå¯èƒ½æ˜¯è´µæ—å®¶åº­ä¸­çš„é™ˆè®¾å“ã€‚é±¼ä¸èŠ±å‰å…ƒç´ çš„ç»“åˆï¼Œåæ˜ äº†å½“æ—¶æœé²œç¤¾ä¼šå´‡å°šå¹³è¡¡ã€å’Œè°ä»¥åŠè‡ªç„¶å´‡æ‹œçš„æ–‡åŒ–ä»·å€¼è§‚ã€‚  

ç¬¬äº”æ­¥ï¼šç»“åˆåšç‰©é¦†è¯­å¢ƒã€‚è¯¥æ–‡ç‰©è¢«ç½®äºç»ç’ƒå±•æŸœä¸­é™ˆåˆ—ï¼Œè¯´æ˜å…¶å…·æœ‰é‡è¦çš„å†å²ä¸æ–‡åŒ–ä»·å€¼ã€‚å…¶ä¿å­˜çŠ¶æ€ä¸å±•ç¤ºæ–¹å¼è¡¨æ˜ï¼Œå®ƒæ˜¯æœé²œä¸°å¯Œé™¶ç“·é—äº§ä¸­çš„ä¸€ä»¶çè´µä»£è¡¨ï¼Œå¾ˆå¯èƒ½åˆ¶ä½œäºé«˜ä¸½ç‹æœæ™šæœŸã€‚  

ç»“è®ºï¼šç»¼åˆå…¶è§†è§‰ç‰¹å¾ä¸å†å²èƒŒæ™¯ï¼Œè¿™ä»¶é™¶å™¨å¾ˆå¯èƒ½æ˜¯ä¸€ä»¶é«˜ä¸½ç‹æœæ™šæœŸçš„ä½œå“ï¼Œé‡‡ç”¨ä¼ ç»Ÿæœé²œåˆ¶é™¶æŠ€è‰ºåˆ¶ä½œè€Œæˆï¼Œå¹¶é¥°æœ‰è±¡å¾æ€§çš„çº¹æ ·ï¼Œä½“ç°äº†å½“æ—¶æœé²œé™¶å·¥åœ¨é™¶ç“·è‰ºæœ¯ä¸Šçš„é«˜åº¦æˆå°±ä¸æ–‡åŒ–å†…æ¶µã€‚  
<span class="hljs-tag">&lt;/<span class="hljs-name">thinking</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">answer</span>&gt;</span> 
è¿™ä»¶é™¶å™¨å¾ˆå¯èƒ½æºè‡ªæœé²œé«˜ä¸½ç‹æœæ™šæœŸï¼ˆ918â€“1392å¹´ï¼‰ï¼Œè¯¥æ—¶æœŸä»¥ç²¾è‡´çš„é™¶ç“·è‰ºæœ¯è‘—ç§°ã€‚å™¨ç‰©ç»†é¢ˆé¼“è…¹çš„é€ å‹ï¼Œè¾…ä»¥é£æ ¼åŒ–çš„é±¼çº¹ä¸èŠ±å‰å›¾æ¡ˆï¼Œè¡¨æ˜å…¶ç”¨é€”åå‘ç¤¼ä»ªæ€§æˆ–è£…é¥°æ€§ã€‚å…¶ç ‚è´¨è‚Œç†ä¸ç°è“è‰²é‡‰é¢ï¼Œåæ˜ å‡ºå½“æ—¶æœé²œé™¶å·¥é‡‡ç”¨å«é“é™¶åœŸåŠä¼ ç»Ÿè¿˜åŸç„°çƒ§åˆ¶å·¥è‰ºçš„å…¸å‹æŠ€æ³•ã€‚é±¼çº¹å¯èƒ½è±¡å¾å¯Œè¶³æˆ–ä¸è‡ªç„¶çš„å’Œè°ï¼Œä½“ç°äº†å½“æ—¶çš„ä¸»æµæ–‡åŒ–ä»·å€¼è§‚ã€‚æ­¤å™¨è¢«åšç‰©é¦†çè—å¹¶å±•å‡ºï¼Œå½°æ˜¾äº†å®ƒä½œä¸ºæœé²œé™¶ç“·è‰ºæœ¯ç‘°å®çš„é‡è¦å†å²ä¸æ–‡åŒ–æ„ä¹‰ã€‚
<span class="hljs-tag">&lt;/<span class="hljs-name">answer</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">è‡ªåŠ¨å•†å“å®¡æ ¸</h3>
<p>è¿™æ˜¯ç”¨æˆ·å‘æ¥çš„å•†å“å›¾ï¼Œå¹¶ç”³è¯·äº†è‡ªåŠ¨é€€æ¬¾ï¼Œè¯·å®¡æ ¸æ˜¯å¦æ»¡è¶³é€€æ¬¾è¦æ±‚ã€‚</p>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/121356315/1764754920438-0696046b-9133-4cae-a8b3-f243af2f114e.png" alt="" loading="lazy"/></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">thinking</span>&gt;</span>
å›¾ç‰‡æ˜¾ç¤ºäº†ä¸€ç›’æ©™å­ï¼Œå…¶ä¸­ä¸€ä¸ªæ©™å­è¡¨é¢æ˜æ˜¾é•¿æœ‰éœ‰èŒï¼ˆç°ç»¿è‰²æ–‘å—ï¼‰ã€‚æ°´æœä¸Šå‡ºç°éœ‰èŒæ˜¯å˜è´¨çš„æ˜ç¡®æ ‡å¿—ï¼Œé€šå¸¸è¢«è§†ä¸ºç¼ºé™·ï¼Œä¼šä½¿è¯¥äº§å“ä¸ç¬¦åˆæ–°é²œä¸”å®‰å…¨é£Ÿç”¨çš„æ ‡å‡†ã€‚

å¤§å¤šæ•°çº¿ä¸Šæˆ–é›¶å”®è´­ä¹°çš„æ ‡å‡†é€€æ¬¾æ”¿ç­–éƒ½åŒ…å«é’ˆå¯¹å˜è´¨ã€æŸåæˆ–ä¸æè¿°ä¸ç¬¦å•†å“çš„æ¡æ¬¾ã€‚ç”±äºéœ‰èŒæ¸…æ™°å¯è§ï¼Œå½±å“äº†äº§å“çš„è´¨é‡å’Œå®‰å…¨æ€§ï¼Œå› æ­¤ç¬¦åˆå…¸å‹æ¶ˆè´¹è€…ä¿æŠ¤æ”¿ç­–ä¸‹çš„é€€æ¬¾æ¡ä»¶ã€‚

å› æ­¤ï¼Œåº”æ‰¹å‡†é€€æ¬¾è¯·æ±‚ã€‚
<span class="hljs-tag">&lt;/<span class="hljs-name">thinking</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">answer</span>&gt;</span> 
æ˜¯çš„ï¼Œé€€æ¬¾æ¡ä»¶å·²æ»¡è¶³ï¼Œå› ä¸ºæ©™å­è¡¨é¢å¯è§éœ‰èŒï¼Œè¡¨æ˜å…¶å·²å˜è´¨ï¼Œä¸å†ç¬¦åˆæ–°é²œä¸”å®‰å…¨é£Ÿç”¨çš„æ ‡å‡†ã€‚
<span class="hljs-tag">&lt;/<span class="hljs-name">answer</span>&gt;</span> 
</code></pre>
<h2 data-id="heading-11">å°ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†OmniThoughtVæ•°æ®é›†ï¼Œè¿™æ˜¯é¦–ä¸ªå¼€æºçš„å¤§è§„æ¨¡å¤šæ¨¡æ€é•¿æ€è€ƒè’¸é¦æ•°æ®é›†ã€‚æˆ‘ä»¬å®Œæ•´æ„å»ºäº†ä¸€å¥—é€æ˜ã€å¯å¤ç°ã€é«˜è´¨é‡çš„å¤šæ¨¡æ€æ•°æ®è’¸é¦ä¸ç­›é€‰æµç¨‹ï¼Œå¹¶ç³»ç»ŸéªŒè¯äº†å…¶åœ¨æå‡å¤šæ¨¡æ€å¤§æ¨¡å‹è§†è§‰æ¨ç†èƒ½åŠ›æ–¹é¢çš„å…³é”®ä½œç”¨ã€‚æˆ‘ä»¬é€šè¿‡ä¸¥è°¨çš„æ¶ˆèå®éªŒï¼Œé¦–æ¬¡æ˜ç¡®æŒ‡å‡ºâ€œéš¾åº¦â€æŒ‡æ ‡åœ¨æ•°æ®ç­›é€‰ä¸­çš„æ ¸å¿ƒä»·å€¼ï¼šç›¸è¾ƒäºå•çº¯ä¾èµ–æ ‡æ³¨è´¨é‡è¯„åˆ†ï¼Œå¼•å…¥é«˜éš¾åº¦æ ·æœ¬èƒ½æ›´æœ‰æ•ˆåœ°é©±åŠ¨æ¨¡å‹å­¦ä¹ å¤æ‚æ¨ç†é€»è¾‘ï¼Œä»è€Œæ˜¾è‘—æå‡æ³›åŒ–æ€§èƒ½ã€‚åŸºäºè¿™ä¸€å‘ç°ï¼Œæˆ‘ä»¬è®¾è®¡äº†å®Œæ•´çš„æ•°æ®è¿‡æ»¤æ ‡å‡†ï¼Œä»åŸå§‹æ•°æ®é›†ä¸­ç²¾å‡†æç‚¼å‡ºçº¦50ä¸‡æ¡å…¼å…·æŒ‘æˆ˜æ€§ä¸ä»£è¡¨æ€§çš„è®­ç»ƒæ ·æœ¬ï¼Œå¹¶æˆåŠŸæå‡äº†Qwen3-VLç³»åˆ—çš„æ€§èƒ½è¡¨ç°ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œè¯¥æ•°æ®æµç¨‹ä¸ä»…ä½¿å„æ¨¡å‹åœ¨å¤šä¸ªæƒå¨è¯„æµ‹é›†ä¸Šå®ç°ç¨³å®šä¸”æ˜¾è‘—çš„èƒ½åŠ›è·ƒå‡ï¼Œæ›´å±•ç°å‡ºè‰¯å¥½çš„æ¨¡å‹è§„æ¨¡æ‰©å±•æ€§ã€‚æœ¬å·¥ä½œå¡«è¡¥äº†å½“å‰å¼€æºç¤¾åŒºåœ¨ç»“æ„åŒ–ã€å¯å¤ç°ã€é¢å‘æ¨ç†èƒ½åŠ›æå‡çš„å¤šæ¨¡æ€æ•°æ®è’¸é¦ä¸Šçš„ç©ºç™½ï¼›åœ¨æœªæ¥ï¼Œæˆ‘ä»¬ä¼šç»§ç»­æ·±å…¥æ¢ç´¢å¤§æ¨¡å‹çš„è’¸é¦å’Œè®­ç»ƒæŠ€æœ¯ï¼Œæ¨åŠ¨å¤§æ¨¡å‹åœ¨å„ä¸ªåœºæ™¯çš„è½åœ°ã€‚</p>
<h2 data-id="heading-12">å‚è€ƒå·¥ä½œ</h2>
<p>EasyDistillç³»åˆ—ç›¸å…³è®ºæ–‡</p>
<ul>
<li>
<p>Wenrui Cai, Chengyu Wang, Junbing Yan, Jun Huang, Xiangzhong Fang. Reasoning with OmniThought: A Large CoT Dataset with Verbosity and Cognitive Difficulty Annotations. arXiv preprint</p>
</li>
<li>
<p>Yuanjie Lyu, Chengyu Wang, Jun Huang, Tong Xu. From Correction to Mastery: Reinforced Distillation of Large Language Model Agents. arXiv preprint</p>
</li>
<li>
<p>Chengyu Wang, Junbing Yan, Wenrui Cai, Yuanhao Yue, Jun Huang. EasyDistill: A Comprehensive Toolkit for Effective Knowledge Distillation of Large Language Models. <strong>EMNLP 2025</strong></p>
</li>
<li>
<p>Wenrui Cai, Chengyu Wang, Junbing Yan, Jun Huang, Xiangzhong Fang. Thinking with DistilQwen: A Tale of Four Distilled Reasoning and Reward Model Series. <strong>EMNLP 2025</strong></p>
</li>
<li>
<p>Wenrui Cai, Chengyu Wang, Junbing Yan, Jun Huang, Xiangzhong Fang. Enhancing Reasoning Abilities of Small LLMs with Cognitive Alignment. <strong>EMNLP 2025</strong></p>
</li>
<li>
<p>Chengyu Wang, Junbing Yan, Yuanhao Yue, Jun Huang. DistilQwen2.5: Industrial Practices of Training Distilled Open Lightweight Language Models. <strong>ACL 2025</strong></p>
</li>
<li>
<p>Yuanhao Yue, Chengyu Wang, Jun Huang, Peng Wang. Building a Family of Data Augmentation Models for Low-cost LLM Fine-tuning on the Cloud. <strong>COLING 2025</strong></p>
</li>
<li>
<p>Yuanhao Yue, Chengyu Wang, Jun Huang, Peng Wang. Distilling Instruction-following Abilities of Large Language Models with Task-aware Curriculum Planning. <strong>EMNLP 2024</strong></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆä¸å¿…â€œæ´»å¾—æ˜ç™½â€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585377128490123316</link>    <guid>https://juejin.cn/post/7585377128490123316</guid>    <pubDate>2025-12-19T10:57:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377128490123316" data-draft-id="7585394082822815778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆä¸å¿…â€œæ´»å¾—æ˜ç™½â€ï¼Ÿ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-19T10:57:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—©å‘ç™½å¸åŸ"/> <meta itemprop="url" content="https://juejin.cn/user/4108219946906760"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆä¸å¿…â€œæ´»å¾—æ˜ç™½â€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4108219946906760/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—©å‘ç™½å¸åŸ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T10:57:14.000Z" title="Fri Dec 19 2025 10:57:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆä¸å¿…â€œæ´»å¾—æ˜ç™½â€ï¼Ÿ</h2>
<p>æˆ‘ä»¬è¿™ä¸ªæ—¶ä»£ï¼Œå¤ªæ¨å´‡â€œæ˜ç™½â€äº†ã€‚<br/>
æ˜ç™½è‡ªå·±è¦ä»€ä¹ˆï¼Œæ˜ç™½ä¸–ç•Œçš„è§„åˆ™ï¼Œæ˜ç™½äººæ€§çš„å¤æ‚ï¼Œ<br/>
ç”šè‡³è¿ç—›è‹¦ï¼Œä¹Ÿè¦ç—›å¾—æœ‰é“ç†ã€‚</p>
<p>å¯æœ‰æ²¡æœ‰å¯èƒ½â€”â€”<br/>
<strong>äººä¸å¿…æ´»å¾—é‚£ä¹ˆæ˜ç™½ã€‚</strong></p>
<h3 data-id="heading-1">ä¸€ã€å¤ªæ˜ç™½çš„äººï¼Œå¾€å¾€æ›´éš¾å¿«ä¹</h3>
<p>â€œæ´»å¾—æ˜ç™½â€å¬èµ·æ¥åƒä¸€ç§æˆç†Ÿï¼Œ<br/>
ä½†å¾ˆå¤šæ—¶å€™ï¼Œå®ƒæ›´åƒä¸€ç§<strong>è¿‡æ—©çš„æ¸…é†’</strong>ã€‚</p>
<p>ä½ ä¸€æ—¦æ˜ç™½äº†ï¼š</p>
<ul>
<li>åŠªåŠ›ä¸ä¸€å®šæœ‰å›æŠ¥</li>
<li>å–„è‰¯ä¸ä¸€å®šè¢«çæƒœ</li>
<li>è§„åˆ™å¾€å¾€ä¸ä¸ºæ™®é€šäººè€Œè®¾</li>
</ul>
<p>ä½ å°±å¾ˆéš¾å†å¤©çœŸåœ°æœŸå¾…ä»€ä¹ˆã€‚</p>
<p>åœ¨ã€Šç¬¬ä¸ƒå¤©ã€‹é‡Œï¼Œæ¨é£ä¹‹æ‰€ä»¥è®©äººå¿ƒç–¼ï¼Œ<br/>
ä¸æ˜¯å› ä¸ºä»–ä»€ä¹ˆéƒ½ä¸æ‡‚ï¼Œ<br/>
è€Œæ˜¯å› ä¸ºä»–<strong>æ‡‚å¾—å¤ªå¤šï¼Œå´æ— èƒ½ä¸ºåŠ›</strong>ã€‚</p>
<p>æœ‰äº›ç—›ï¼Œå¹¶ä¸æ˜¯æ¥è‡ªæ— çŸ¥ï¼Œ<br/>
è€Œæ˜¯æ¥è‡ªâ€œæˆ‘å·²ç»çœ‹æ¸…ï¼Œå´ä»ç„¶è¦æ‰¿å—â€ã€‚</p>
<h3 data-id="heading-2">äºŒã€å¾ˆå¤šäººä¸æ˜¯é æ˜ç™½æ´»ä¸‹å»çš„ï¼Œæ˜¯é â€œä¸å»æƒ³â€</h3>
<p>ã€Šæ´»ç€ã€‹é‡Œçš„ç¦è´µï¼Œå¦‚æœçœŸçš„â€œæƒ³æ˜ç™½â€äº†ä¸€åˆ‡ï¼Œ<br/>
ä»–æˆ–è®¸æ ¹æœ¬æ’‘ä¸åˆ°æœ€åã€‚</p>
<p>ä»–ä¹‹æ‰€ä»¥èƒ½æ´»ä¸‹æ¥ï¼Œ<br/>
ä¸æ˜¯å› ä¸ºä»–å‚é€äº†å‘½è¿ï¼Œ<br/>
è€Œæ˜¯å› ä¸ºä»–<strong>ä¸å»åå¤è¿½é—®æ„ä¹‰</strong>ã€‚</p>
<p>ä»–åªæ˜¯å¹²æ´»ã€åƒé¥­ã€æ´»ç€ã€‚</p>
<p>å¾ˆå¤šæ™®é€šäººä¹Ÿæ˜¯è¿™æ ·ï¼š</p>
<ul>
<li>ä»–ä»¬æ²¡æœ‰å®å¤§çš„ä¸–ç•Œè§‚</li>
<li>ä¹Ÿè¯´ä¸æ¸…äººç”Ÿçš„ä»·å€¼</li>
<li>ç”šè‡³ä¸æ‡‚ä»€ä¹ˆæ˜¯æ—¶ä»£æ´ªæµ</li>
</ul>
<p>ä½†ä»–ä»¬ç…§æ ·ç»“å©šã€ç”Ÿå­ã€è€å»ã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œ<br/>
<strong>ä¸æ˜ç™½ï¼Œåè€Œæ˜¯ä¸€ç§ç”Ÿå­˜ç­–ç•¥ã€‚</strong></p>
<h3 data-id="heading-3">ä¸‰ã€ç—›è‹¦å¹¶ä¸ä¸€å®šèƒ½æ¢æ¥é€šé€</h3>
<p>æˆ‘ä»¬å¸¸è¯´ï¼š</p>
<blockquote>
<p>ç»å†è¿‡è‹¦éš¾ï¼Œäººå°±æ˜ç™½äº†ã€‚</p>
</blockquote>
<p>å¯è«è¨€åœ¨ã€Šå¤©å ‚è’œè–¹ä¹‹ä¹¡ã€‹é‡Œå‘Šè¯‰æˆ‘ä»¬å¦ä¸€ä»¶äº‹ï¼š<br/>
è‹¦éš¾æ›´å¤šæ—¶å€™ï¼Œåªæ˜¯è‹¦éš¾ã€‚</p>
<p>é‚£äº›å†œæ°‘å¹¶æ²¡æœ‰å› ä¸ºè¢«å‹è¿«è€Œâ€œé¡¿æ‚Ÿäººç”Ÿâ€ï¼Œ<br/>
ä»–ä»¬åªæ˜¯æ„¤æ€’ã€å´©æºƒã€è¢«ç¢¾ç¢ã€‚</p>
<p>ç—›è‹¦å¹¶ä¸ä¼šè‡ªåŠ¨å‡åã€‚<br/>
å®ƒå¯èƒ½åªä¼šç•™ä¸‹åˆ›ä¼¤ã€‚</p>
<p>æ‰€ä»¥è¦æ±‚æ¯ä¸€ä¸ªç»å†è‹¦éš¾çš„äºº<br/>
â€œæ´»å¾—æ˜ç™½â€â€œæƒ³é€šä¸€ç‚¹â€ï¼Œ<br/>
æœ¬èº«å°±æœ‰ç‚¹æ®‹å¿ã€‚</p>
<hr/>
<h3 data-id="heading-4">å››ã€æœ‰äº›äººæ´»å¾—å¾ˆå¥½ï¼Œæ˜¯å› ä¸ºä»–ä»¬æ²¡æƒ³é‚£ä¹ˆå¤š</h3>
<p>ä½ ä¼šå‘ç°ç°å®é‡Œæœ‰ä¸€ç±»äººï¼š</p>
<ul>
<li>ä¸å¤ªè®¨è®ºæ„ä¹‰</li>
<li>ä¸å¤ªåæ€æ—¶ä»£</li>
<li>ä¸å¤ªåˆ†æå‘½è¿</li>
</ul>
<p>ä»–ä»¬å…³å¿ƒçš„æ˜¯ï¼š<br/>
ä»Šå¤©åƒä»€ä¹ˆï¼Œæ˜å¤©å¹²ä»€ä¹ˆï¼Œå­©å­ä½œä¸šå†™å®Œäº†å—ã€‚</p>
<p>ä»æŸç§è§’åº¦çœ‹ï¼Œ<br/>
ä»–ä»¬å¹¶ä¸â€œæ·±åˆ»â€ï¼Œ<br/>
ä½†ä»–ä»¬ä¹Ÿ<strong>ä¸æ‹§å·´</strong>ã€‚</p>
<p>ä»–ä»¬æ´»å¾—ä¸é«˜çº§ï¼Œ<br/>
ä½†æ´»å¾—ä¸‹å»ã€‚</p>
<p>è€Œå¤ªè¿½æ±‚â€œæ˜ç™½â€çš„äººï¼Œ<br/>
åè€Œå®¹æ˜“é™·å…¥ä¸€ç§ç²¾ç¥ç–²åŠ³ï¼š<br/>
æƒ³å¾—è¶Šå¤šï¼Œè¶Šéš¾å®‰æ”¾è‡ªå·±ã€‚</p>
<h3 data-id="heading-5">äº”ã€æ–‡å­¦é‡Œä¹Ÿæœ‰â€œæ‹’ç»æ˜ç™½â€çš„åŠ›é‡</h3>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰å¥½ä½œå“éƒ½åœ¨å¼•å¯¼ä½ çœ‹æ¸…ä¸–ç•Œã€‚<br/>
æœ‰äº›ä½œå“çš„ä»·å€¼ï¼Œæ°æ°åœ¨äºâ€”â€”<br/>
<strong>è®©ä½ æš‚æ—¶é€ƒç¦»ç†è§£çš„è´Ÿæ‹…ã€‚</strong></p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li><strong>ã€Šç™¾å¹´å­¤ç‹¬ã€‹</strong> â€”â€”<br/>
å®ƒå¹¶ä¸è¦æ±‚ä½ ç†è§£å‘½è¿ï¼Œåªæ˜¯è®©ä½ æ„Ÿå—å¾ªç¯ä¸è’è¯ã€‚</li>
<li><strong>ã€Šå±€å¤–äººã€‹ï¼ˆåŠ ç¼ªï¼‰</strong> â€”â€”<br/>
ä¸»äººå…¬å¹¶ä¸è¯•å›¾ç†è§£ä¸–ç•Œï¼Œä¸–ç•Œä¹Ÿä¸ç†è§£ä»–ã€‚</li>
<li><strong>ã€ŠåŸå ¡ã€‹ï¼ˆå¡å¤«å¡ï¼‰</strong> â€”â€”<br/>
ä¸–ç•Œå°±æ˜¯ä¸å¯ç†è§£çš„ï¼ŒåšæŒå¯»æ‰¾æ„ä¹‰æœ¬èº«å°±æ˜¯æŠ˜ç£¨ã€‚</li>
</ul>
<p>è¿™äº›ä¹¦å¹¶ä¸å‘Šè¯‰ä½ â€œæ€ä¹ˆåŠâ€ï¼Œ<br/>
å®ƒä»¬åªæ˜¯è¯´ï¼š</p>
<blockquote>
<p>ä¸–ç•Œæœ¬æ¥å°±æœªå¿…æœ‰ç­”æ¡ˆã€‚</p>
</blockquote>
<h3 data-id="heading-6">å…­ã€ä¹Ÿè®¸ï¼Œäººå¯ä»¥åªé€‰æ‹©â€œæ´»ç€â€ï¼Œè€Œä¸æ˜¯â€œæƒ³æ˜ç™½â€</h3>
<p>â€œæ´»å¾—æ˜ç™½â€å¬èµ·æ¥å¾ˆé«˜å°šï¼Œ<br/>
ä½†å®ƒä¸æ˜¯äººç”Ÿçš„ä¹‰åŠ¡ã€‚</p>
<p>æœ‰äº›äººé€‚åˆæ€è€ƒå‘½è¿ï¼Œ<br/>
æœ‰äº›äººé€‚åˆä½å¤´ç”Ÿæ´»ã€‚</p>
<p>æœ‰äº›äººéœ€è¦ç­”æ¡ˆï¼Œ<br/>
æœ‰äº›äººåªéœ€è¦ä»Šå¤©è¿‡å»ã€‚</p>
<p><strong>ä¸æ´»å¾—æ˜ç™½ï¼Œå¹¶ä¸ç­‰äºå¤±è´¥ã€‚</strong><br/>
å®ƒå¯èƒ½åªæ˜¯å¦ä¸€ç§è¯šå®ï¼š<br/>
æˆ‘æ‰¿è®¤è‡ªå·±æ‰¿å—ä¸èµ·é‚£ä¹ˆå¤šç†è§£ã€‚</p>
<hr/>
<h3 data-id="heading-7">æ¨èä¸€ç»„ä¹¦ç±</h3>
<p>è¿™äº›ä¹¦ï¼Œä¸å¼ºè°ƒé€šé€ï¼Œä¸æ•™ä½ çœ‹æ¸…ä¸–ç•Œï¼Œ<br/>
å®ƒä»¬è¦ä¹ˆè’è¯ï¼Œè¦ä¹ˆæ¨¡ç³Šï¼Œè¦ä¹ˆå¹²è„†æ‹’ç»è§£é‡Šï¼š</p>
<p>ç™¾å¹´å­¤ç‹¬ â€” åŠ è¥¿äºšÂ·é©¬å°”å…‹æ–¯<br/>
å±€å¤–äºº â€” åŠ ç¼ª<br/>
åŸå ¡ â€” å¡å¤«å¡<br/>
æŒªå¨çš„æ£®æ— â€” æ‘ä¸Šæ˜¥æ ‘<br/>
ä¸èƒ½æ‰¿å—çš„ç”Ÿå‘½ä¹‹è½» â€” ç±³å…°Â·æ˜†å¾·æ‹‰<br/>
ç™½å¤œè¡Œ â€” ä¸œé‡åœ­å¾</p>
<p>å®ƒä»¬å…±åŒçš„æ°”è´¨æ˜¯ï¼š<br/>
<strong>ä¸–ç•Œå¯ä»¥ä¸è¢«ç†è§£ï¼Œäººä¹Ÿå¯ä»¥å¸¦ç€å›°æƒ‘ç»§ç»­æ´»ç€ã€‚</strong></p>
<h3 data-id="heading-8">æœ€å</h3>
<p>ä¹Ÿè®¸çœŸæ­£çš„è‡ªç”±ä¸æ˜¯â€œæ´»å¾—æ˜ç™½â€ï¼Œ<br/>
è€Œæ˜¯â€”â€”<br/>
<strong>ä½ å¯ä»¥é€‰æ‹©ä»€ä¹ˆæ—¶å€™æ˜ç™½ï¼Œä»€ä¹ˆæ—¶å€™ç³Šæ¶‚ã€‚</strong></p>
<p>æœ‰äº›æ—¥å­ï¼Œ<br/>
ä½ é€‚åˆè¯»ã€Šæ´»ç€ã€‹ã€‚</p>
<p>æœ‰äº›æ—¥å­ï¼Œ<br/>
ä½ åªé€‚åˆå…³æ‰æ„ä¹‰ï¼Œ<br/>
å¥½å¥½åƒä¸€é¡¿é¥­ï¼Œ<br/>
ç„¶åç¡ä¸€è§‰ã€‚</p>
<p>è¿™æœ¬èº«ï¼Œ<br/>
ä¹Ÿæ˜¯ä¸€ç§æ´»æ³•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é«˜æ–¯æ³¼æº…ã€‘å¦‚ä½•å°†â€œæ­ªå¤´â€çš„3DGSæ¨¡å‹ç²¾å‡†â€œé’‰â€åœ¨åœ°å›¾ä¸Šï¼Œæœç»åç»­è¯¯å·®ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585222924566478888</link>    <guid>https://juejin.cn/post/7585222924566478888</guid>    <pubDate>2025-12-19T09:16:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585222924566478888" data-draft-id="7585206349748977716" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é«˜æ–¯æ³¼æº…ã€‘å¦‚ä½•å°†â€œæ­ªå¤´â€çš„3DGSæ¨¡å‹ç²¾å‡†â€œé’‰â€åœ¨åœ°å›¾ä¸Šï¼Œæœç»åç»­è¯¯å·®ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T09:16:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Mapmost"/> <meta itemprop="url" content="https://juejin.cn/user/1679709496936343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é«˜æ–¯æ³¼æº…ã€‘å¦‚ä½•å°†â€œæ­ªå¤´â€çš„3DGSæ¨¡å‹ç²¾å‡†â€œé’‰â€åœ¨åœ°å›¾ä¸Šï¼Œæœç»åç»­è¯¯å·®ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1679709496936343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Mapmost
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T09:16:24.000Z" title="Fri Dec 19 2025 09:16:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€œæ‹â€ä¸€ä¸ªGSæ¨¡å‹åªè¦å‡ åˆ†é’Ÿï¼Œå»ºä¸€ä¸ªGSæ¨¡å‹å¯é€‰çš„å·¥å…·ä¹Ÿå¾ˆå¤šï¼Œä½†æ˜¯æ¨¡å‹æ”¾è¿›ç½‘é¡µé‡Œ<strong>éš¾ä»¥æ—‹è½¬</strong>ï¼Œæ°¸è¿œå¡ä¸åˆ°ä½ æƒ³çœ‹çš„é‚£ä¸ªè§’åº¦ï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>æ›´è¿›ä¸€æ­¥ï¼Œå¦‚æœæˆ‘æƒ³æŠŠæ¨¡å‹æ”¾åˆ°åœ°å›¾ä¸Šçš„å®é™…ä½ç½®ï¼Œå¯¹æ¨¡å‹å’Œå‘¨å›´åœ°ç†ç¯å¢ƒæœ‰æ›´æ·±å…¥çš„è”åŠ¨ï¼Œè¿™æ—¶å€™åˆè¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>ç›¸ä¿¡çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ ä¸ä»…èƒ½è½»æ¾æ‹¿æå°æ¨¡å‹çš„<strong>å„ä¸ªè§’åº¦</strong>ï¼Œ<strong>å¤§èŒƒå›´çš„é«˜æ–¯æ¨¡å‹é…å‡†</strong>åˆ°åœ°å›¾ä¹Ÿæ˜¯èƒ½æ‰‹åˆ°æ“’æ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f692b3d1e483408aa6767ea3d3d03fda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766740583&amp;x-signature=IG1VNObMwzgKVQi95g5CivxZo9Q%3D" alt="" loading="lazy"/></p>
<p><em>ä¸ºä»€ä¹ˆå°ç†Šçš„è§’åº¦å¥‡å¥‡æ€ªæ€ªçš„ï¼Ÿ</em></p>
<h2 data-id="heading-0">äº†è§£ä¸¤ä¸ªåæ ‡ç³»ï¼Œè½»æ¾æ—‹è½¬æŸ¥çœ‹æ¨¡å‹</h2>
<p>æƒ³è¦èƒ½è‡ªå¦‚çš„æ—‹è½¬æ¨¡å‹ï¼Œåªéœ€è¦äº†è§£<strong>ä¸¤ä¸ªåæ ‡ç³»</strong>ã€‚</p>
<p>ä»¥åä¸ç®¡æ˜¯é«˜æ–¯æ¨¡å‹ã€ç‚¹äº‘æˆ–OBJç­‰<strong>å„ç±»æ•°æ®</strong>ï¼Œåœ¨<strong>å„å¼æŸ¥çœ‹å™¨</strong>ä¸­çš„è‡ªå¦‚è§‚çœ‹éƒ½ä¸åœ¨è¯ä¸‹ã€‚</p>
<p>ç°åœ¨è§£å¯†ä¸€ä¸‹è¿™ä¸¤ä¸ªåæ ‡ç³»ï¼š</p>
<ul>
<li>**ç‰©ä½“åæ ‡ç³»ï¼š**å³æ¨¡å‹è‡ªèº«æœ‰ä¸ªXYZä¸‰è½´</li>
<li>**ä¸–ç•Œåæ ‡ç³»ï¼š**å³æŸ¥çœ‹å™¨é¢„å…ˆå®šä¹‰å¥½çš„XYZä¸‰è½´</li>
</ul>
<p>æ˜¯ä¸æ˜¯çœ‹æ‡µäº†ï¼Œè¯´å•¥å‘¢ã€‚åˆ«æ€¥ï¼Œè®©æˆ‘ä»¥ä¸‹é¢çš„å°ç†Šæ¨¡å‹æ¥è¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥çœ‹åˆ°ï¼ŒæŸ¥çœ‹å™¨å³ä¸Šè§’æœ‰ä¸ªå¾ˆæ˜æ˜¾çš„XYZè½´ã€‚æˆ‘ä»¬<strong>åˆšè¿›å…¥æŸ¥çœ‹å™¨åä»€ä¹ˆéƒ½åˆ«åŠ¨</strong>ï¼Œ<strong>XYZè¿™ä¸ªåˆå§‹çš„æ–¹å‘å°±æ˜¯ä¸–ç•Œåæ ‡ç³»çš„æŒ‡å‘</strong>ï¼Œæˆ‘ä»¬<strong>åªéœ€è¦å…³å¿ƒæŒ‡å‘ä¸Šæ–¹çš„æ˜¯å“ªæ ¹è½´å°±è¡Œ</strong>ã€‚è¿™ä¸ªåœºæ™¯ä¸­å°±æ˜¯<strong>Yè½´</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9c2e3dd625d47d2bdd23c58f0346fdc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766740583&amp;x-signature=Xmt4JVuCNniSs1S2J2ZbJemirpM%3D" alt="" loading="lazy"/></p>
<p>ä¸‹é¢å°±æ˜¯å…³é”®äº†ï¼Œæˆ‘ä»¬è¦<strong>å°†æ¨¡å‹çš„Yè½´å¯¹é½ä¸–ç•Œåæ ‡ç³»çš„Yè½´</strong>ã€‚</p>
<p>æœ‰äººå¯èƒ½è¦é—®äº†ï¼šå°ç†Šåˆæ²¡æœ‰è¿™äº›çº¢çº¢ç»¿ç»¿çš„è½´ï¼Œæˆ‘åˆä¸çŸ¥é“å“ªä¸ªæ˜¯Yè½´ï¼Œè¿˜å¯¹é½å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼ŒYæ˜¯å‘ä¸Šçš„ï¼Œé‚£è¿™ä¸ªå°ç†Šæ¨¡å‹æ˜¯ä¸æ˜¯ä¹Ÿåº”è¯¥å‘ä¸Šï¼Œé‚£ä»€ä¹ˆåº”è¯¥æ˜¯å‘ä¸Šçš„å‘¢ï¼Ÿ</p>
<p>å¾ˆæ˜æ˜¾å§ï¼Œæˆ‘ä»¬<strong>åªéœ€è¦æŠŠå°ç†Šçš„çº¢å¸½å­æ—‹è½¬å‘ä¸Šï¼Œé‚£å°ç†Šè‚¯å®šå°±è‡ªç„¶å’Œä¸–ç•Œåæ ‡ç³»å¯¹é½äº†</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/348c3331bdd14409860e4be806b63814~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766740583&amp;x-signature=rkZ4ZfrUetqNlYdusKoYEAS2TJQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">å¤§æ¨¡å‹å åŠ åœ°å›¾</h2>
<p>è¿™å°ç†Šæ¨¡å‹æˆ‘éšä¾¿è½¬è½¬çœ‹çœ‹ï¼Œæ²¡å•¥ç²¾åº¦è¦æ±‚ï¼Œéš¾åº¦å¤ªä½ã€‚è¦æ˜¯æƒ³æŠŠä¸œæ–¹ä¹‹é—¨ã€é˜³æ¾„æ¹–é‚£ä¹ˆå¤§åŒºåŸŸçš„é«˜æ–¯æ¨¡å‹<strong>å¯¹é½åˆ°åœ°å›¾ï¼Œèå…¥åˆ°GISçš„æµ‹é‡ã€åˆ†æã€å†³ç­–ä¸è¿ç»´æµç¨‹</strong>è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬é¦–å…ˆè¦åšçš„å·¥ä½œæ˜¯<strong>é…å‡†</strong>ï¼Œå°†æ¨¡å‹é…å‡†åˆ°åœ°å›¾ä¸Šã€‚</p>
<p>è¿›è¡Œé…å‡†éœ€è¦äº†è§£åæ ‡ç³»ï¼š</p>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ°çƒæ˜¯ä¸ª<strong>ä¸‰ç»´æ¤­çƒ</strong>ï¼Œè€Œæˆ‘ä»¬å¹³æ—¶çœ‹çš„åœ°å›¾éƒ½æ˜¯<strong>äºŒç»´å¹³é¢</strong>ï¼Œè¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªåæ ‡ç³»äº†ï¼›å†åŠ ä¸Š<strong>æ¨¡å‹çš„åæ ‡ç³»</strong>ï¼Œå°±æ˜¯ä¸‰ä¸ªåæ ‡ç³»äº†ã€‚</p>
<p>å¹³å¸¸æ— äººæœºå›¾åƒè‡ªå¸¦çš„ç»çº¬åº¦å°±æ˜¯ä¸‰ç»´æ¤­çƒçš„åæ ‡ç³»ï¼Œä¸€èˆ¬æ¥è¯´å¸¸ç”¨çš„ä¸º<strong>WGS84åæ ‡ç³»</strong>ï¼›å¹³é¢åœ°å›¾çš„åæ ‡ç³»ä¸€èˆ¬æ¥è¯´å¸¸ç”¨çš„æ˜¯<strong>å¢¨å¡æ‰˜æŠ•å½±åæ ‡ç³»</strong>ã€‚åœ¨å›½é™…æ ‡å‡†ä¸‹ï¼Œè¿™ä¸¤è€…å¸¸ç”¨çš„ä»£ç æ˜¯<strong>EPSG:4326</strong>å’Œ<strong>EPSG:3857</strong>ã€‚</p>
<p>è€Œé…å‡†ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>01<strong>åœ°å›¾é€‰ç‚¹</strong></p>
<p>ä»åœ°å›¾ä¸Šé€‰å–ä¸€äº›ç‰¹å¾ç‚¹ï¼Œåœ°å›¾ä¸Šè·å–çš„ç‚¹å¦‚æœæ˜¯ç»çº¬åº¦ï¼Œéœ€è¦å°†å…¶è½¬æ¢åˆ°EPSG:3857åæ ‡ç³»ä¸‹çš„å¹³é¢åæ ‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de286e91b0bb4b9f97d8dbb36f90d4c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766740583&amp;x-signature=As%2FkW958AXy%2FFAoxpBuXlAh37%2Fs%3D" alt="" loading="lazy"/></p>
<p><em>å¹³é¢åœ°å›¾é€‰ç‚¹</em></p>
<p>02<strong>æ¨¡å‹é€‰ç‚¹</strong></p>
<p>æ¨¡å‹ä¾§åˆ™é¦–å…ˆè¦å°†colmapç»“æœç‚¹äº‘å¯¼å…¥è¿›CloudCompareä¹‹ç±»çš„ç‚¹äº‘å¤„ç†å·¥å…·ï¼Œç„¶åé€‰å–ä¸åœ°å›¾ä¸Šé€‰æ‹©çš„ç›¸åŒçš„ç‚¹ï¼Œè®°å½•å…¶åæ ‡ï¼Œå³æ¨¡å‹åæ ‡ç³»ä¸‹åæ ‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d0c6f3155e04884bba544526e74d37f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766740583&amp;x-signature=AzVlp8GOx69Az4PhJG5EVGXl%2FRc%3D" alt="" loading="lazy"/></p>
<p><em>CloudCompareå·¥å…·é€‰å–æ¨¡å‹ç‚¹</em></p>
<p>03<strong>å˜æ¢çŸ©é˜µè®¡ç®—</strong></p>
<p>ä¹‹åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å°äºŒä¹˜ç­‰ç®—æ³•ï¼Œè®¡ç®—ä¸¤ç»„åæ ‡é—´æœ€ä½³çš„æ—‹è½¬å˜æ¢çŸ©é˜µ(ä¸Šä¸€æ­¥é€‰å–çš„ç‚¹è¶Šå¤šï¼Œæœ€ç»ˆé…å‡†ç»“æœè¶Šå‡†ç¡®)ã€‚</p>
<p>04<strong>å˜æ¢æ¨¡å‹</strong></p>
<p>æœ€ç»ˆæˆ‘ä»¬è¿˜è¦å¯¹é«˜æ–¯æ¨¡å‹çš„ä½ç½®ã€æ—‹è½¬ç­‰ç›¸å…³å±æ€§åº”ç”¨è¿™ä¸ªçŸ©é˜µæ‰èƒ½å®Œæˆé…å‡†ï¼Œå°†æ¨¡å‹æ”¾ä¸Šåœ°å›¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e31487b163dd4ed4a8482b17b49eaa57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766740583&amp;x-signature=rtnNg6j8aw3FKWCVr0pUUPlJ9bw%3D" alt="" loading="lazy"/></p>
<p><em>æ¨¡å‹å åŠ åœ°å›¾</em></p>
<h2 data-id="heading-2">å¦‚ä½•ä¸€æ­¥å®Œæˆå åŠ </h2>
<p>æŠŠæ¨¡å‹â€œæ‘†â€åˆ°åœ°å›¾ä¸Šï¼Œä¼ ç»Ÿåšæ³•å¾—å…ˆ<strong>é—¯ä¸‰å…³åæ ‡ç³»</strong>ã€å†<strong>è¸©å››æ­¥é…å‡†å‘</strong>ï¼›æ¥ä¸€ä¸ªæ–°æ¨¡å‹å°±å…¨å¥—é‡æ¥ï¼Œäººå·¥é‡ç›´æ¥æ‹‰æ»¡ã€‚</p>
<p>Mapmost é«˜æ–¯æ³¼æº…å»ºæ¨¡å¹³å°ï¼Œè®©è¿™å¥—è‹¦å·®äº‹å˜æˆâ€œæ— äººåŒºâ€ï¼š</p>
<p><strong>ç…§ç‰‡å¸¦ GPSï¼Ÿ</strong></p>
<p>å¹³å°è‡ªåŠ¨è¯»å–ï¼Œå»ºå®Œæ¨¡å‹ä¸€ç§’ç¼©æ”¾ï¼‹æ—‹è½¬ï¼Œç¨³ç¨³è½åˆ°çœŸå®åœ°ç†ä½ç½®ï¼›</p>
<p><strong>ç…§ç‰‡æ²¡ GPSï¼Ÿ</strong></p>
<p>ç©ºä¸‰åçš„éšæœºåæ ‡ç³»ä¹Ÿèƒ½è¢«æ‰³æ­£ï¼Œå†ä¹Ÿä¸æ€•åƒâ€œå°ç†Šâ€å¼¯å¤´è½¬å‘çš„ã€‚</p>
<p><strong>æ— äººæœºæ‹å®Œâ†’ä¸Šä¼ â†’è‡ªåŠ¨é…å‡†</strong>ï¼Œæ•´æ¡é“¾è·¯é›¶æ‰‹å·¥ã€é›¶ä»£ç ï¼ŒçœŸæ­£çš„â€œä¸€é”®åˆ°åœ°â€ã€‚</p>
<p>ç”³è¯·è¯•ç”¨ï¼Œè¯·è‡³<a href="https://link.juejin.cn/?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fwww.mapmost.com%2F%2523%2F" title="https://link.juejin.cn/?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fwww.mapmost.com%2F%2523%2F" target="_blank">Mapmost</a>å®˜ç½‘è”ç³»å®¢æœ</p>
<p><strong>Mapmost 3DGS Builderåœ¨çº¿ä½“éªŒç‰ˆå·²ä¸Šçº¿~</strong></p>
<p><strong>æ¬¢è¿ä½“éªŒ:</strong> <a href="https://link.juejin.cn/?target=studio.mapmost.com%2F3dgs" title="https://link.juejin.cn/?target=studio.mapmost.com%2F3dgs" target="_blank">studio.mapmost.com/3dgs</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bafd14059cb4d5086b3d0f33dc85d5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766740583&amp;x-signature=BvOozw2cDnaNhffKBVEja1HhGdc%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‘„åƒå¤´ RTSP æµè§†é¢‘å¤šè·¯å®æ—¶ç›‘æ§è§£å†³æ–¹æ¡ˆå®è·µ]]></title>    <link>https://juejin.cn/post/7585377403632386094</link>    <guid>https://juejin.cn/post/7585377403632386094</guid>    <pubDate>2025-12-19T09:23:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585377403632386094" data-draft-id="7585377403632320558" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‘„åƒå¤´ RTSP æµè§†é¢‘å¤šè·¯å®æ—¶ç›‘æ§è§£å†³æ–¹æ¡ˆå®è·µ"/> <meta itemprop="keywords" content="åç«¯,C++,éŸ³è§†é¢‘å¼€å‘"/> <meta itemprop="datePublished" content="2025-12-19T09:23:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SHERlocked93"/> <meta itemprop="url" content="https://juejin.cn/user/360295543341165"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‘„åƒå¤´ RTSP æµè§†é¢‘å¤šè·¯å®æ—¶ç›‘æ§è§£å†³æ–¹æ¡ˆå®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/360295543341165/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SHERlocked93
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T09:23:27.000Z" title="Fri Dec 19 2025 09:23:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡è®°å½•æˆ‘åœ¨æ‘„åƒå¤´ RTSP æµè§†é¢‘å¤šè·¯å®æ—¶ç›‘æ§é¡¹ç›®é‡Œï¼Œè½åœ°çš„ä¸€å¥—ã€Œå¤šè·¯ RTSP ä½å»¶è¿Ÿæ’­æ”¾ã€æ–¹æ¡ˆçš„å…¨è¿‡ç¨‹ï¼šä»é€‰å‹ã€ç¼–ç ã€åˆ°
Web/æ¡Œé¢ç«¯æ’­æ”¾ä¸ç¡¬è§£ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€éœ€æ±‚ç°çŠ¶</h2>
<p>ç°åœºæœ‰ä¸€ä¸ªè¿œç¨‹ç›‘æ§ç«¯ï¼Œéœ€è¦åŒæ—¶ç›‘æ§å¤šå°è½¦è½½è®¾å¤‡çš„æ‘„åƒå¤´ç”»é¢ï¼Œæ¯å°è®¾å¤‡çº¦ 6 è·¯æ‘„åƒå¤´ï¼Œæ‘„åƒå¤´è¾“å‡º RTSPï¼ˆè§†é¢‘ H.264ï¼›éƒ¨åˆ†æ‘„åƒå¤´å‹å·è¿˜æœ‰éŸ³é¢‘ï¼‰ï¼Œç”±äºæ˜¯è½¦è½½å®æ—¶æ‘„åƒå¤´ï¼Œå…³é”®çš„ä¸æ˜¯èƒ½æ’­ï¼Œè€Œæ˜¯å¤šè·¯ã€ä½å»¶è¿Ÿï¼ˆç”±äºåœ¨ç°åœºæ“ä½œéœ€è¦å®æ—¶åé¦ˆï¼Œæ‰€ä»¥éœ€è¦ 1 ç§’ä»¥å†…ï¼‰ã€ä½ CPU å ç”¨ï¼Œå› æ­¤æ ¸å¿ƒéœ€æ±‚å¯ä»¥æ€»ç»“æˆå››ç‚¹ï¼š</p>
<ol>
<li>å¤šè·¯å¹¶å‘ï¼šåŒå± 6+ è·¯æ’­æ”¾ï¼Œæœ€å¤šä¸€ä¸ªç›‘æ§ç«¯åŒæ—¶æ’­æ”¾ 12 è·¯è§†é¢‘;</li>
<li>ä½å»¶è¿Ÿï¼šæ“ä½œé“¾è·¯å¸Œæœ›æ¥è¿‘å®æ—¶ï¼ˆç›®æ ‡ &lt; 500ms çº§ï¼‰;</li>
<li>æ¡Œé¢ç«¯ï¼šéœ€è¦æœ‰ç¼–ç æ§åˆ¶èƒ½åŠ›ï¼Œæœ€å¥½ Qt æ¡Œé¢ç¨‹åº;</li>
<li>æ€§èƒ½ä¸ç¨³å®šæ€§ï¼šå®¢æˆ·ç«¯éœ€è¦ç¨³å®šèµ° GPU ç¡¬è§£ï¼Œå¦åˆ™å¤šè·¯å…¨èµ° CPU è½¯è§£è§£ç ä¼šè¢«æ‹–æ­»ï¼›</li>
<li>éƒ¨ç½²/è¿ç»´å¤æ‚åº¦ï¼šæ¯”å¦‚è¦æ›´æ¢è§†é¢‘æµæ¥å…¥çš„æ—¶å€™è¦è¶³å¤Ÿæ–¹ä¾¿ï¼Œæœ€å¥½èƒ½é…ç½®åä¸€é”®éƒ¨ç½²ï¼›</li>
</ol>
<h2 data-id="heading-1">äºŒã€æŠ€æœ¯é€‰å‹</h2>
<p>ç»è¿‡ä¸€ç•ªè°ƒç ”ï¼Œä¸»è¦æœ‰ä¸‹é¢å‡ ä¸ªæ–¹æ¡ˆï¼š</p>
<h3 data-id="heading-2">HLS</h3>
<p>HLS çš„æ ¸å¿ƒæ€è·¯æ˜¯æŠŠè¿ç»­è§†é¢‘åˆ‡æˆä¸€æ®µæ®µ TS åˆ†ç‰‡ï¼ˆsegmentï¼‰ï¼ŒæœåŠ¡å™¨åˆ›å»ºå¹¶åŠ¨æ€æ›´æ–°ä¸€ä¸ª .m3u8 æ’­æ”¾åˆ—è¡¨æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶é‡Œè®°å½•äº†æ‰€æœ‰ .ts è§†é¢‘åˆ‡ç‰‡çš„æ–‡ä»¶åã€é¡ºåºã€æ—¶é•¿ç­‰ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯æŒ‰ m3u8 ç´¢å¼•åˆ—è¡¨å»æ‹‰åˆ†ç‰‡æ’­æ”¾ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯å…¼å®¹æ€§å¾ˆå¥½ï¼Œæ‰€æœ‰ç°ä»£æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿéƒ½åŸç”Ÿæ”¯æŒï¼Œé€‚åˆæ™®é€šç›´æ’­ã€ç‚¹æ’­å’Œ CDN åˆ†å‘ã€‚</p>
<p>åœ¨ä¸€ä¸ª TS åˆ†ç‰‡æ²¡æœ‰æ’­å®Œå¹¶åŒæ­¥åˆ° m3u8 ä¹‹å‰ï¼Œå®¢æˆ·ç«¯æ˜¯æ— æ³•çœ‹åˆ°æœ€æ–°ç”»é¢çš„ã€‚è¿™å¤©ç”Ÿå†³å®šäº† HLS çš„å®æ—¶æ€§ä¸é«˜ï¼Œä¸€èˆ¬åœ¨ 3 ç§’ä»¥ä¸Šï¼ŒåŠ ä¸Šå„ä¸ªé“¾è·¯çš„å»¶è¿Ÿå’Œç¼“å†²ï¼Œæ€»å»¶è¿Ÿè½»æ¾åˆ°è¾¾ 10 ç§’å·¦å³ï¼Œè¿™å¯¹äºå®æ—¶ç›‘æ§æ˜¯å®Œå…¨ä¸å¯æ¥å—çš„ã€‚</p>
<h3 data-id="heading-3">HTTP-FLV</h3>
<p>HTTP-FLV é€šå¸¸æ˜¯æœåŠ¡å™¨å°†éŸ³è§†é¢‘æ•°æ®ç”¨ FLVï¼ˆFlash Videoï¼‰æ ¼å¼è¿›è¡Œå°è£…ï¼Œé€šè¿‡å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å»ºç«‹çš„ HTTP é•¿è¿æ¥æµå¼ä¼ è¾“åˆ°æ’­æ”¾å™¨ä¸Šï¼Œå»¶è¿Ÿåœ¨ 1-3sï¼Œå¯ä»¥æ»¡è¶³ä¸€å®šçš„å®æ—¶æ€§éœ€æ±‚ã€‚ç¼ºç‚¹æ˜¯éœ€è¦å‰ç«¯å¼•å…¥ flv.js ä¹‹ç±»çš„ JS åº“åœ¨ JS å±‚å¯¹ FLV æµè§£å°è£…æˆ H.264ã€éŸ³é¢‘ç­‰æ•°æ®ï¼Œå°¤å…¶åœ¨å¤šè·¯å¹¶å‘æ—¶ï¼ŒCPU å ç”¨ä¼šæ¯”è¾ƒé«˜ï¼Œä¸”æµè§ˆå™¨å¯¹ FLV çš„æ”¯æŒä¸å¦‚ HLS/WebRTC åŸç”Ÿã€‚</p>
<h3 data-id="heading-4">æµ·åº· WebSDK çš„ WebSocket</h3>
<p>æµ·åº·çš„ WebSDK æä¾›äº†åŸºäº WebSocket çš„è§†é¢‘æµä¼ è¾“èƒ½åŠ›ï¼Œå»¶è¿Ÿå¯ä»¥åšåˆ° 1 ç§’ä»¥å†…ï¼Œé€‚åˆæµ·åº·è®¾å¤‡çš„æ¥å…¥ï¼Œä½†æˆ‘çœ‹æœ‰äº›è€ä¸€äº›çš„æµ·åº·è®¾å¤‡å¯èƒ½ä¸æ”¯æŒ WebSocketï¼Œè€Œä¸” WebSDK è¦æ±‚ Chrome ç‰ˆæœ¬ä¸ä½äº 91ï¼Œå¦‚æœä½ çš„æ‘„åƒå¤´éƒ½æ”¯æŒ WebSocket ä¸”èƒ½ä¿è¯æµè§ˆå™¨çš„ chromium å†…æ ¸ç‰ˆæœ¬åœ¨ 91+ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹å¼ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚</p>
<h3 data-id="heading-5">WebRTC</h3>
<p>WebRTCï¼ˆWeb Real-Time Communicationï¼‰æ˜¯ç›®å‰å®æ—¶éŸ³è§†é¢‘é€šä¿¡çš„ä¸»æµæŠ€æœ¯ï¼Œç°ä»£æµè§ˆå™¨ï¼ˆChrome, Firefox, Safari ç­‰ï¼‰éƒ½åŸç”Ÿæ”¯æŒ WebRTC åè®®æ ˆï¼Œæ— éœ€å®‰è£…æ’ä»¶ï¼Œå®æ—¶æ€§é€šå¸¸èƒ½åšåˆ° 500ms å·¦å³ï¼Œéå¸¸é€‚åˆå¯¹å®æ—¶æ€§è¦æ±‚é«˜çš„ç›‘æ§åœºæ™¯ã€‚WebRTC çš„è®¾è®¡ç›®æ ‡å°±æ˜¯å®æ—¶é€šè¯ä¸äº’åŠ¨ï¼Œæµè§ˆå™¨å¯¹å…¶å®ç°éå¸¸æˆç†Ÿã€‚å¯¹äº H.264 ç­‰å¸¸è§ç¼–ç æ ¼å¼ï¼Œæµè§ˆå™¨èƒ½ç›´æ¥è°ƒç”¨ GPU è¿›è¡Œç¡¬ä»¶åŠ é€Ÿè§£ç ï¼Œæ˜¾è‘—é™ä½ CPU å ç”¨ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€æ ¸å¿ƒå®è·µï¼šé€šè¿‡ SRS å°† RTSP + H.264 è§†é¢‘æµè½¬å°è£…ä¸º WebRTC + H.264</h2>
<p>æˆ‘æœ€ç»ˆä½¿ç”¨ SRSï¼ˆSimple Realtime Serverï¼‰å¼€æºæµåª’ä½“æœåŠ¡å™¨ï¼Œä¸€ç›´åœ¨ç¨³å®šç»´æŠ¤ï¼Œä¹Ÿæœ‰ä¸å°‘ç”¨åˆ°ç”Ÿäº§çº§ç¯å¢ƒçš„æ¡ˆä¾‹ï¼Œæ–‡æ¡£æœ‰ä¸­æ–‡ï¼Œéƒ¨ç½²ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç›´æ¥ docker æ‹‰ä¸€ä¸ªé•œåƒç„¶åä¸€è¡Œå‘½ä»¤å°±èƒ½å¯åŠ¨ï¼Œå¦å¤–å®ƒè‡ªå¸¦è§†é¢‘æµå½•åˆ¶åŠŸèƒ½ï¼ŒåæœŸåšå½•åˆ¶ä¹Ÿæ–¹ä¾¿ã€‚</p>
<p>åœ¨è¿œç¨‹ç›‘æ§æœåŠ¡å™¨ä¸Šç”¨ Docker éƒ¨ç½² SRSï¼ŒæŠŠæ‘„åƒå¤´ RTSP æ‹‰åˆ°æœ¬æœºåï¼Œå†ä»¥ WebRTC çš„æ–¹å¼æä¾›ç»™å‰ç«¯æ’­æ”¾ã€‚</p>
<p>è¿™é‡Œè¦å¼ºè°ƒä¸€ä¸ªå…³é”®ç‚¹ï¼šå°½é‡åšè½¬å°è£…ï¼ˆRemuxï¼‰ï¼Œé¿å…è½¬ç ï¼ˆTranscodeï¼‰ï¼Œæ‘„åƒå¤´å·²ç»è¾“å‡º RTSP åŒ…ç€çš„ H.264 æœåŠ¡å™¨åªéœ€è¦è½¬åè®®æˆ WebRTC åŒ…ç€ H.264 å³å¯ï¼Œä¸éœ€è¦é‡æ–°ç¼–ç ï¼Œè½¬ç ä¼šå¸¦æ¥å¾ˆå¤§çš„ CPU è´Ÿæ‹…å’Œå»¶è¿Ÿã€‚</p>
<p>æ•´ä½“æ€è·¯ï¼šæ‘„åƒå¤´æ¨æµ RTSP(H.264) ï¼Œç»è¿‡ SRS ingest æ‹‰æµå¹¶é€šè¿‡ rtmp_to_rtc è½¬å°è£…ä¸º WebRTC(H.264) ï¼Œå‰ç«¯æµè§ˆå™¨ç”¨ <code>&lt;video&gt;</code> æ’­æ”¾ã€‚</p>
<h3 data-id="heading-7">3.1 SRS æ ¸å¿ƒé…ç½®è§£æ</h3>
<p>SRS çš„é…ç½®æ–‡ä»¶ <code>srs.conf</code> æ˜¯æ ¸å¿ƒã€‚ä¸‹é¢ç”¨ä¸€ä¸ªæœ€å°é…ç½®ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">listen 1935;
max_connections 1000;
daemon off;
srs_log_tank file;
srs_log_file /usr/local/srs/objs/logs/srs.log;

rtc_server {
    enabled on;           # å¯ç”¨ RTC æœåŠ¡å™¨
    listen 8000;          # WebRTC UDP ç«¯å£
    candidate $CANDIDATE; # è‡ªåŠ¨è·å–æœåŠ¡å™¨ IP
}

http_server {
    enabled on;            # å¯ç”¨ HTTP æœåŠ¡å™¨
    listen 8080;
    dir ./objs/nginx/html; # é»˜è®¤æ‰“å¼€æ˜¯æ§åˆ¶å°ï¼Œä¹Ÿå¯ä»¥æ”¹ä¸ºè‡ªå·±çš„å‰ç«¯é¡µé¢
    crossdomain on;
}

vhost __defaultVhost__ {
    rtc {
        enabled on;     # å¯ç”¨ RTC åŠŸèƒ½
        rtmp_to_rtc on; # å¼€å¯ RTMP åˆ° RTC çš„è½¬æ¢
        nack on;        # å¼€å¯ä¸¢åŒ…é‡ä¼ 
        twcc on;        # å¼€å¯æ‹¥å¡æ§åˆ¶
    }

    ingest camera_RIG001_0 {      # å®šä¹‰ Ingest æ‹‰æµé…ç½®ï¼Œä¸»åŠ¨æ‹‰å–æ‘„åƒå¤´ RTSP æµ
        enabled on;
        input {
            type stream;
            url rtsp://admin:password@192.168.1.60:554/Streaming/Channels/101;  # ä½ æ‘„åƒå¤´çš„rtspåœ°å€
        }
        ffmpeg ./objs/ffmpeg/bin/ffmpeg; # ä½¿ç”¨ SRS å†…ç½®çš„ FFmpeg
        engine {
            enabled on;
            perfile {
                rtsp_transport tcp;
                fflags nobuffer;
                flags low_delay;
                probesize 32;
                analyzeduration 0;
                max_delay 0;
            }
            vcodec copy; # è§†é¢‘æµç›´æ¥å¤åˆ¶ï¼Œä¸è½¬ç 
            acodec copy; # éŸ³é¢‘æµç›´æ¥å¤åˆ¶ï¼Œæˆ‘å°†æ‘„åƒå¤´çš„éŸ³é¢‘è¾“å‡ºæ ¼å¼é…ä¸º AAC
            output rtmp://127.0.0.1:[port]/live/camera_RIG001_0?vhost=[vhost];
        }
    }
}
</code></pre>
<h3 data-id="heading-8">3.2 Docker ä¸€é”®é…ç½®</h3>
<p>ç”±äºç°åœºè®¾å¤‡çš„ IP å’Œæ‘„åƒå¤´æ•°é‡å¯èƒ½ä¼šå˜åŒ–ï¼Œæ‰‹åŠ¨ä¿®æ”¹ <code>srs.conf</code> æ¯”è¾ƒç¹çä¸”å®¹æ˜“å‡ºé”™ã€‚æˆ‘åšäº†ä¸€å¥—è‡ªåŠ¨åŒ–é…ç½®æµç¨‹ï¼š</p>
<ol>
<li>é…ç½®æ–‡ä»¶ï¼šæä¾›ä¸€ä¸ª JSON æ–‡ä»¶ï¼Œç»´æŠ¤ç”¨æˆ·æ‘„åƒå¤´çš„ IP/Port åˆ—è¡¨ã€‚</li>
<li>ç”Ÿæˆè„šæœ¬ï¼šè¯»å–æ‘„åƒå¤´åˆ—è¡¨ï¼Œç”Ÿæˆ <code>srs.conf</code>ï¼Œå¹¶åœ¨ä¸Šä¸€éƒ¨é…ç½®å˜æ›´æ—¶æ›´æ–°æ–‡ä»¶ã€‚</li>
<li>è‡ªåŠ¨é‡å¯ï¼šæ£€æµ‹åˆ°é…ç½®å˜æ›´åï¼Œæ‰§è¡Œ <code>docker restart srs</code> è®©é…ç½®ç”Ÿæ•ˆã€‚</li>
</ol>
<p>Docker å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‹‰å– SRS é•œåƒå¹¶æ‰“æ ‡ç­¾</span>
docker pull registry.cn-hangzhou.aliyuncs.com/ossrs/srs:5
docker tag registry.cn-hangzhou.aliyuncs.com/ossrs/srs:5 ossrs/srs:5

<span class="hljs-comment"># è¿è¡Œ SRS å®¹å™¨</span>
docker run -d --name srs \
   --restart=always \
    -p 1935:1935 \
    -p 1985:1985 \
    -p 8080:8080 \
    -p 8000:8000/udp \
    -e CANDIDATE=<span class="hljs-string">"127.0.0.1"</span> \
    -v ~/hello/config/srs_latest.conf:/usr/local/srs/conf/srs.conf \
   ossrs/srs:5 \
   ./objs/srs -c conf/srs.conf
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><code>1935/tcp</code>ï¼šRTMPï¼ˆSRS å†…éƒ¨å›ç¯æ¨æµä¹Ÿä¼šç”¨åˆ°ï¼‰</li>
<li><code>1985/tcp</code>ï¼šHTTP API</li>
<li><code>8080/tcp</code>ï¼šHTTP Serverï¼ˆSRS è‡ªå¸¦çš„æ§åˆ¶å°é¡µé¢ï¼‰</li>
<li><code>8000/udp</code>ï¼šWebRTCï¼ˆRTC Serverï¼‰</li>
</ul>
<p>æˆ‘å®é™…å·¥ç¨‹é‡Œä¼šæŠŠ æ”¹æ‘„åƒå¤´é…ç½® -&gt; ç”Ÿæˆ srs.conf -&gt; é‡å¯å®¹å™¨ è¿™å¥—åŠ¨ä½œåšæˆä¸€é”®è„šæœ¬ï¼Œé¿å…æ‰‹å·¥æ”¹é…ç½®å¸¦æ¥çš„ç»´æŠ¤æˆæœ¬ï¼Œè§„èŒƒä¸€ç‚¹å¯ä»¥å¼„ä¸ªç½‘é¡µè®©ç”¨æˆ·ç»´æŠ¤æ‘„åƒå¤´é…ç½®ã€‚</p>
<h2 data-id="heading-9">å››ã€å‰ç«¯è½åœ°</h2>
<h3 data-id="heading-10">1. Web ç«¯æ’­æ”¾</h3>
<p>ç”±äºæµè§ˆå™¨å¯¹ WebRTC åŸç”Ÿæ”¯æŒæ¯”è¾ƒå¥½ï¼Œæ ‡å‡† HTML5 <code>&lt;video&gt;</code> å¯ä»¥ç›´æ¥æ¥ä½ WebRTC æµæ’­æ”¾ï¼Œæˆ‘åœ¨å‰ç«¯é¡µé¢é‡Œç›´æ¥ç”¨ <code>&lt;video&gt;</code> æ ‡ç­¾æ’­æ”¾ SRS è¾“å‡ºçš„ WebRTC æµï¼Œè®©æµè§ˆå™¨åŸç”Ÿè§£ç å™¨ï¼ˆé€šå¸¸èƒ½è‡ªåŠ¨èµ° H.264 ç¡¬è§£ï¼‰è§£ç ï¼Œå‰ç«¯ä¸éœ€è¦å¼•å…¥å…¶ä»–ç¬¬ä¸‰æ–¹åº“ï¼ŒCPU å ç”¨ä¹Ÿæ›´å¯æ§ã€‚</p>
<p>å‰ç«¯çš„é™æ€èµ„æºæœåŠ¡å™¨å¯ä»¥æ˜¯ Nginxï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒè½»é‡æ–¹æ¡ˆï¼Œæ¯”å¦‚ SRS è‡ªå¸¦çš„ HTTP Server å°±å¯ä»¥ç›´æ¥ç”¨æ¥æ‰˜ç®¡å‰ç«¯é¡µé¢ï¼Œæˆ–è€… nodejsã€python éƒ½è¡Œã€‚</p>
<h3 data-id="heading-11">2. æ¡Œé¢åŒ–ï¼ˆQt / QWebEngineï¼‰</h3>
<p>ä¸ºäº†é›†æˆåˆ°ç°æœ‰çš„ Qt@6.8.3 æ¡Œé¢åº”ç”¨ä¸­ï¼Œæˆ‘ç”¨ <code>QWebEngineView</code> ç›´æ¥åµŒå…¥å‰ç«¯é¡µé¢ï¼Œè¿™æ · UI ä¸ Web ç«¯å¯ä»¥æœ€å¤§åŒ–å¤ç”¨ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå¿…è¸©çš„å‘ï¼š</p>
<p>QT å®˜æ–¹åŒ…é‡Œå¸¦çš„ QWebEngine å› ä¸ºä¸“åˆ©åŸå› æ˜¯ä¸åŒ…å« H.264 ç¼–è§£ç èƒ½åŠ›çš„ï¼Œéœ€è¦ä¸‹è½½æºç è‡ªè¡Œç¼–è¯‘å¹¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.qt.io%2Fqt-6%2Fqtwebengine-features.html%23feature-h264" target="_blank" title="https://doc.qt.io/qt-6/qtwebengine-features.html#feature-h264" ref="nofollow noopener noreferrer">å¢åŠ  <code>-webengine-proprietary-codecs</code> ç¼–è¯‘æŒ‡ä»¤å¯ç”¨ä¸“æœ‰ç¼–è§£ç å™¨æ”¯æŒ</a> ï¼Œæ‰èƒ½è®© QWebEngineView çš„ Chromium å†…æ ¸æ”¯æŒ H.264 ç¼–ç ã€‚</p>
<p>å¦å¤–æ³¨æ„è®©å†…ç½®æµè§ˆå™¨çš„è§†é¢‘è§£ç å°½å¯èƒ½èµ° VA-API ç­‰ç¡¬è§£è·¯å¾„ï¼Œå¯ä»¥åœ¨ QWebEngineView é‡Œæ‰“å¼€ <code>chrome://gpu</code> çœ‹ä¸€ä¸‹æœ€ä¸‹é¢çš„ <code>Video Acceleration Information</code> æœ‰æ²¡æœ‰ H.264 ç¡¬è§£æ”¯æŒã€‚æˆ‘å¢åŠ çš„ QT ç¯å¢ƒå˜é‡å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å¼€å¯ H.264 å’Œ WebRTC æ”¯æŒ</span>
<span class="hljs-built_in">qputenv</span>(<span class="hljs-string">"QTWEBENGINE_CHROMIUM_FLAGS"</span>, <span class="hljs-string">"--enable-features=VaapiVideoDecoder,VaapiVideoEncoder,VaapiIgnoreDriverChecks,VaapiVideoDecodeLinuxGL --ignore-gpu-blocklist --enable-gpu-rasterization --in-process-gpu --disable-features=UseChromeOSDirectVideoDecoder --limit-fps=20 --num-raster-threads=4 "</span>);
</code></pre>
<h4 data-id="heading-12">ä¼˜åŒ–é¡¹ï¼šSmartH264</h4>
<p>æ³¨æ„åœ¨æ‘„åƒå¤´çš„é…ç½®ä¸­ï¼Œå°†æ‘„åƒå¤´çš„ H.264 ç¼–ç å‚æ•°è°ƒä¼˜ä¸º SmartH264ï¼Œå¯ä»¥è®©æ‘„åƒå¤´åœ¨ç”»é¢é™æ­¢æ—¶é™ä½ç ç‡ï¼ˆåœ¨ç”»é¢ä¸æ€ä¹ˆåŠ¨çš„æƒ…å†µä¸‹å¯ä»¥æœ€å¤§é™ä½ 90% ç æµï¼‰ï¼Œå‡å°‘ç½‘ç»œå¸¦å®½å ç”¨ï¼ŒåŒæ—¶åœ¨ç”»é¢æœ‰å˜åŒ–æ—¶æå‡ç ç‡å’Œå¸§ç‡ï¼Œä¿è¯ç”»é¢è´¨é‡ã€‚è¿™æ ·åœ¨å¤šè·¯å¹¶å‘æ—¶ï¼Œå¯ä»¥æ˜¾è‘—é™ä½æ•´ä½“çš„ç½‘ç»œå’Œè§£ç å‹åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb33326528a842e8a44cd10e41ed9a9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU0hFUmxvY2tlZDkz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741007&amp;x-signature=Bw7EFBq0E%2Bv%2BewiD6ftKb%2BgeRNQ%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-13">ä¼˜åŒ–é¡¹ï¼šç¡¬è§£éªŒè¯ä¸é©±åŠ¨é€‰æ‹©</h4>
<p>åœ¨ä½¿ç”¨ intel é›†æ˜¾çš„ i7-7700 æµ‹è¯•æ—¶ï¼Œé€šè¿‡æŒ‡å®šé›†æ˜¾ä½¿ç”¨ç‰¹å®šçš„ VA-API ç¡¬ä»¶åŠ é€Ÿé©±åŠ¨ <code>export LIBVA_DRIVER_NAME=iHD</code>ï¼Œå¼ºåˆ¶å¼€å¯ VA-API ç¡¬è§£ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é€šè¿‡ä¸‹é¢è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹å½“å‰ GPU ä½¿ç”¨æƒ…å†µ</span>
sudo intel_gpu_top
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edd8050c98d94f82bfef75389983c57e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU0hFUmxvY2tlZDkz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741007&amp;x-signature=m8nNA44wSpO%2Bx%2FIIRpbV7D42TJg%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœ intel_gpu_top å‘½ä»¤ Engine çš„ Video ä¸ä¸º 0ï¼Œåˆ™è¯´æ˜ç¡¬è§£æˆåŠŸï¼Œäº‹å®è¯æ˜å¦‚æœå¯ä»¥æˆåŠŸå¼€å¯ GPU ç¡¬è§£ï¼Œé‚£ä¹ˆå³ä½¿ä½¿ç”¨é›†æ˜¾ï¼ŒCPU è´Ÿè½½ä¹Ÿèƒ½ä¿æŒè¾ƒä½æ°´å¹³ã€‚å¦‚æœä½¿ç”¨ AMD/NVIDIA æ˜¾å¡ï¼Œéœ€è¦å‚è€ƒå¯¹åº”çš„ VA-API é©±åŠ¨æ–‡æ¡£ï¼Œç¡®ä¿ç¡¬è§£è¢«æ­£ç¡®å¯ç”¨ã€‚</p>
<h2 data-id="heading-14">äº”ã€æ€»ç»“</h2>
<p>é€šè¿‡ SRS å°† RTSP + H.264 è§†é¢‘æµè½¬å°è£…ä¸º WebRTC + H.264ï¼Œå¹¶åœ¨å‰ç«¯æµè§ˆå™¨å’Œ Qt æ¡Œé¢åº”ç”¨ä¸­æ’­æ”¾ï¼ŒæˆåŠŸå®ç°äº†å¤šè·¯ä½å»¶è¿Ÿçš„å®æ—¶è§†é¢‘ç›‘æ§éœ€æ±‚ã€‚æˆ‘è¿™è¾¹åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œi7-7700 çš„ CPU ä¸Šä½¿ç”¨é›†æ˜¾ GPU æ’­æ”¾ 6 è·¯ 1080p H.264 æµï¼ŒCPU æ€»å ç”¨ä¿æŒåœ¨ 20% å·¦å³ï¼Œå»¶è¿Ÿæ§åˆ¶åœ¨ 300-500ms ä¹‹é—´ã€‚</p>
<hr/>
<p>ç½‘ä¸Šçš„å¸–å­å¤§å¤šæ·±æµ…ä¸ä¸€ï¼Œç”šè‡³æœ‰äº›å‰åçŸ›ç›¾ï¼Œåœ¨ä¸‹çš„æ–‡ç« éƒ½æ˜¯å­¦ä¹ è¿‡ç¨‹ä¸­çš„æ€»ç»“ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œæ¬¢è¿ç•™è¨€æŒ‡å‡ºï¼Œå¦‚æœæœ¬æ–‡å¸®åŠ©åˆ°äº†ä½ ï¼Œåˆ«å¿˜äº†ç‚¹èµæ”¯æŒä¸€ä¸‹ï¼Œä½ çš„ç‚¹èµæ˜¯æˆ‘æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ï¼~</p>
<blockquote>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fossrs.io%2Flts%2Fzh-cn%2Fdocs%2Fv5%2Fdoc%2Fgetting-started" target="_blank" title="https://ossrs.io/lts/zh-cn/docs/v5/doc/getting-started" ref="nofollow noopener noreferrer">SRS Getting Started</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.qt.io%2Fqt-6%2Fqtwebengine-features.html%23feature-h264" target="_blank" title="https://doc.qt.io/qt-6/qtwebengine-features.html#feature-h264" ref="nofollow noopener noreferrer">Qt WebEngine H.264 Feature</a></li>
</ol>
</blockquote>
<p>PSï¼šæœ¬æ–‡åŒæ­¥æ›´æ–°äºåœ¨ä¸‹çš„åšå®¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSHERlocked93%2Fblog" target="_blank" title="https://github.com/SHERlocked93/blog" ref="nofollow noopener noreferrer">Github - SHERlocked93/blog</a>
ç³»åˆ—æ–‡ç« ä¸­ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„å…¬ä¼—å· <code>CPPä¸‹åˆèŒ¶</code>ï¼Œç›´æ¥æœç´¢å³å¯æ·»åŠ ï¼ŒæŒç»­ä¸ºå¤§å®¶æ¨é€ CPP ä»¥åŠ CPP å‘¨è¾¹ç›¸å…³ä¼˜è´¨æŠ€æœ¯æ–‡ï¼Œå…±åŒè¿›æ­¥ï¼Œä¸€èµ·åŠ æ²¹~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„äººæ”¾å¼ƒFlaskè½¬å‘FastAPIï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585180775705657371</link>    <guid>https://juejin.cn/post/7585180775705657371</guid>    <pubDate>2025-12-19T08:43:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585180775705657371" data-draft-id="7585146584893816882" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„äººæ”¾å¼ƒFlaskè½¬å‘FastAPIï¼Ÿ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-19T08:43:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å˜»å“ˆbaby"/> <meta itemprop="url" content="https://juejin.cn/user/485305583405066"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„äººæ”¾å¼ƒFlaskè½¬å‘FastAPIï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/485305583405066/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å˜»å“ˆbaby
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T08:43:49.000Z" title="Fri Dec 19 2025 08:43:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¯¦è§£FastAPIçš„æ ¸å¿ƒç‰¹æ€§ã€é¡¹ç›®å®æˆ˜å’Œéƒ¨ç½²æ–¹æ¡ˆï¼Œæ‰“é€ ç°ä»£åŒ–çš„Pythonåç«¯æœåŠ¡ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>Python Webæ¡†æ¶é‚£ä¹ˆå¤šï¼Œä¸ºä»€ä¹ˆé€‰FastAPIï¼Ÿ</p>
<ul>
<li><strong>æ€§èƒ½æœ€å¼º</strong>ï¼šåŸºäºStarletteï¼Œæ€§èƒ½åª²ç¾Node.jså’ŒGo</li>
<li><strong>ç±»å‹æç¤º</strong>ï¼šPythonç±»å‹æ³¨è§£ï¼ŒIDEæ™ºèƒ½æç¤º</li>
<li><strong>è‡ªåŠ¨æ–‡æ¡£</strong>ï¼šSwagger/ReDocè‡ªåŠ¨ç”Ÿæˆ</li>
<li><strong>å¼‚æ­¥æ”¯æŒ</strong>ï¼šåŸç”Ÿasync/await</li>
</ul>
<p>ä»Šå¤©æ¥å…¨é¢å­¦ä¹ FastAPIã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€FastAPIç®€ä»‹</h2>
<h3 data-id="heading-2">1.1 å¯¹æ¯”å…¶ä»–æ¡†æ¶</h3>








































<table><thead><tr><th>æ¡†æ¶</th><th>æ€§èƒ½</th><th>å¼‚æ­¥</th><th>ç±»å‹æç¤º</th><th>è‡ªåŠ¨æ–‡æ¡£</th></tr></thead><tbody><tr><td><strong>FastAPI</strong></td><td>â­â­â­â­â­</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Flask</td><td>â­â­â­</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>Django</td><td>â­â­</td><td>âš ï¸</td><td>âŒ</td><td>âŒ</td></tr><tr><td>Tornado</td><td>â­â­â­â­</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr></tbody></table>
<h3 data-id="heading-3">1.2 æ ¸å¿ƒç‰¹æ€§</h3>
<pre><code class="hljs language-markdown" lang="markdown">
<span class="hljs-bullet">1.</span> é«˜æ€§èƒ½
   
<span class="hljs-bullet">   -</span> åŸºäºStarletteï¼ˆASGIï¼‰
<span class="hljs-bullet">   -</span> æ€§èƒ½æ¥è¿‘Node.js/Go
<span class="hljs-bullet">2.</span> å¼€å‘æ•ˆç‡
   
<span class="hljs-bullet">   -</span> è‡ªåŠ¨æ•°æ®éªŒè¯ï¼ˆPydanticï¼‰
<span class="hljs-bullet">   -</span> è‡ªåŠ¨APIæ–‡æ¡£
<span class="hljs-bullet">   -</span> IDEæ™ºèƒ½è¡¥å…¨
<span class="hljs-bullet">3.</span> æ ‡å‡†åŒ–
   
<span class="hljs-bullet">   -</span> OpenAPIè§„èŒƒ
<span class="hljs-bullet">   -</span> JSON Schema
<span class="hljs-bullet">   -</span> OAuth2/JWTæ”¯æŒ

</code></pre>
<hr/>
<h2 data-id="heading-4">äºŒã€ç¯å¢ƒæ­å»º</h2>
<h3 data-id="heading-5">2.1 å®‰è£…</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
python -m venv venv
<span class="hljs-built_in">source</span> venv/bin/activate  <span class="hljs-comment"># Linux/Mac</span>
<span class="hljs-comment"># venv\Scripts\activate  # Windows</span>

<span class="hljs-comment"># å®‰è£…FastAPI</span>
pip install fastapi

<span class="hljs-comment"># å®‰è£…ASGIæœåŠ¡å™¨</span>
pip install <span class="hljs-string">"uvicorn[standard]"</span>

<span class="hljs-comment"># å¸¸ç”¨ä¾èµ–</span>
pip install python-multipart  <span class="hljs-comment"># è¡¨å•</span>
pip install python-jose[cryptography]  <span class="hljs-comment"># JWT</span>
pip install passlib[bcrypt]  <span class="hljs-comment"># å¯†ç åŠ å¯†</span>
pip install sqlalchemy  <span class="hljs-comment"># ORM</span>
pip install aiosqlite  <span class="hljs-comment"># å¼‚æ­¥SQLite</span>
</code></pre>
<h3 data-id="heading-6">2.2 ç¬¬ä¸€ä¸ªåº”ç”¨</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># main.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI

app = FastAPI(
    title=<span class="hljs-string">"æˆ‘çš„API"</span>,
    description=<span class="hljs-string">"FastAPIå­¦ä¹ é¡¹ç›®"</span>,
    version=<span class="hljs-string">"1.0.0"</span>
)

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">root</span>():
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"Hello FastAPI!"</span>}

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/items/{item_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_item</span>(<span class="hljs-params">item_id: <span class="hljs-built_in">int</span>, q: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span></span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"item_id"</span>: item_id, <span class="hljs-string">"q"</span>: q}
</code></pre>
<h3 data-id="heading-7">2.3 è¿è¡Œ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡è½½ï¼‰</span>
uvicorn main:app --reload --host 0.0.0.0 --port 8000

<span class="hljs-comment"># è®¿é—®</span>
<span class="hljs-comment"># API: http://localhost:8000</span>
<span class="hljs-comment"># Swaggeræ–‡æ¡£: http://localhost:8000/docs</span>
<span class="hljs-comment"># ReDocæ–‡æ¡£: http://localhost:8000/redoc</span>
</code></pre>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½</h2>
<h3 data-id="heading-9">3.1 è·¯å¾„å‚æ•°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Path

app = FastAPI()

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">
    user_id: <span class="hljs-built_in">int</span> = Path(<span class="hljs-params">..., title=<span class="hljs-string">"ç”¨æˆ·ID"</span>, ge=<span class="hljs-number">1</span></span>)  <span class="hljs-comment"># &gt;=1</span>
</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"user_id"</span>: user_id}

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/files/{file_path:path}"</span></span>)  </span><span class="hljs-comment"># åŒ¹é…è·¯å¾„</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_file</span>(<span class="hljs-params">file_path: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"file_path"</span>: file_path}
</code></pre>
<h3 data-id="heading-10">3.2 æŸ¥è¯¢å‚æ•°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Query
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>, <span class="hljs-type">List</span>

app = FastAPI()

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/items/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_items</span>(<span class="hljs-params">
    skip: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>,
    limit: <span class="hljs-built_in">int</span> = Query(<span class="hljs-params">default=<span class="hljs-number">10</span>, le=<span class="hljs-number">100</span></span>),  <span class="hljs-comment"># æœ€å¤§100</span>
    q: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = Query(<span class="hljs-params"><span class="hljs-literal">None</span>, min_length=<span class="hljs-number">3</span>, max_length=<span class="hljs-number">50</span></span>),
    tags: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>] = Query(<span class="hljs-params">default=[]</span>)
</span>):
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"skip"</span>: skip,
        <span class="hljs-string">"limit"</span>: limit,
        <span class="hljs-string">"q"</span>: q,
        <span class="hljs-string">"tags"</span>: tags
    }
</code></pre>
<h3 data-id="heading-11">3.3 è¯·æ±‚ä½“ï¼ˆPydanticæ¨¡å‹ï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field, EmailStr
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

app = FastAPI()

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserCreate</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    username: <span class="hljs-built_in">str</span> = Field(..., min_length=<span class="hljs-number">3</span>, max_length=<span class="hljs-number">20</span>)
    email: EmailStr
    password: <span class="hljs-built_in">str</span> = Field(..., min_length=<span class="hljs-number">6</span>)
    age: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">int</span>] = Field(<span class="hljs-literal">None</span>, ge=<span class="hljs-number">0</span>, le=<span class="hljs-number">150</span>)
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span>:
        json_schema_extra = {
            <span class="hljs-string">"example"</span>: {
                <span class="hljs-string">"username"</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
                <span class="hljs-string">"email"</span>: <span class="hljs-string">"zhangsan@example.com"</span>,
                <span class="hljs-string">"password"</span>: <span class="hljs-string">"123456"</span>,
                <span class="hljs-string">"age"</span>: <span class="hljs-number">25</span>
            }
        }

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserResponse</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-built_in">id</span>: <span class="hljs-built_in">int</span>
    username: <span class="hljs-built_in">str</span>
    email: <span class="hljs-built_in">str</span>
    created_at: datetime

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/users/"</span>, response_model=UserResponse</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>(<span class="hljs-params">user: UserCreate</span>):
    <span class="hljs-comment"># åˆ›å»ºç”¨æˆ·é€»è¾‘</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"username"</span>: user.username,
        <span class="hljs-string">"email"</span>: user.email,
        <span class="hljs-string">"created_at"</span>: datetime.now()
    }
</code></pre>
<h3 data-id="heading-12">3.4 è¡¨å•å’Œæ–‡ä»¶ä¸Šä¼ </h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, File, UploadFile, Form
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>

app = FastAPI()

<span class="hljs-comment"># è¡¨å•æ•°æ®</span>
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/login/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">
    username: <span class="hljs-built_in">str</span> = Form(<span class="hljs-params">...</span>),
    password: <span class="hljs-built_in">str</span> = Form(<span class="hljs-params">...</span>)
</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"username"</span>: username}

<span class="hljs-comment"># æ–‡ä»¶ä¸Šä¼ </span>
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/upload/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">upload_file</span>(<span class="hljs-params">file: UploadFile = File(<span class="hljs-params">...</span>)</span>):
    contents = <span class="hljs-keyword">await</span> file.read()
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"filename"</span>: file.filename,
        <span class="hljs-string">"size"</span>: <span class="hljs-built_in">len</span>(contents),
        <span class="hljs-string">"content_type"</span>: file.content_type
    }

<span class="hljs-comment"># å¤šæ–‡ä»¶ä¸Šä¼ </span>
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/uploads/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">upload_files</span>(<span class="hljs-params">files: <span class="hljs-type">List</span>[UploadFile] = File(<span class="hljs-params">...</span>)</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"filenames"</span>: [f.filename <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> files]}
</code></pre>
<hr/>
<h2 data-id="heading-13">å››ã€ä¾èµ–æ³¨å…¥</h2>
<h3 data-id="heading-14">4.1 åŸºæœ¬ä¾èµ–</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Depends, HTTPException, status

app = FastAPI()

<span class="hljs-comment"># ç®€å•ä¾èµ–</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">common_parameters</span>(<span class="hljs-params">q: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span>, skip: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>, limit: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span></span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"q"</span>: q, <span class="hljs-string">"skip"</span>: skip, <span class="hljs-string">"limit"</span>: limit}

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/items/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_items</span>(<span class="hljs-params">commons: <span class="hljs-built_in">dict</span> = Depends(<span class="hljs-params">common_parameters</span>)</span>):
    <span class="hljs-keyword">return</span> commons

<span class="hljs-comment"># ç±»ä½œä¸ºä¾èµ–</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Pagination</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span>, size: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span></span>):
        self.page = page
        self.size = size
        self.skip = (page - <span class="hljs-number">1</span>) * size

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_users</span>(<span class="hljs-params">pagination: Pagination = Depends(<span class="hljs-params"/>)</span>):
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"page"</span>: pagination.page,
        <span class="hljs-string">"size"</span>: pagination.size,
        <span class="hljs-string">"skip"</span>: pagination.skip
    }
</code></pre>
<h3 data-id="heading-15">4.2 æ•°æ®åº“ä¾èµ–</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sqlalchemy.ext.asyncio <span class="hljs-keyword">import</span> AsyncSession, create_async_engine
<span class="hljs-keyword">from</span> sqlalchemy.orm <span class="hljs-keyword">import</span> sessionmaker

<span class="hljs-comment"># æ•°æ®åº“é…ç½®</span>
DATABASE_URL = <span class="hljs-string">"sqlite+aiosqlite:///./app.db"</span>
engine = create_async_engine(DATABASE_URL, echo=<span class="hljs-literal">True</span>)
AsyncSessionLocal = sessionmaker(engine, class_=AsyncSession, expire_on_commit=<span class="hljs-literal">False</span>)

<span class="hljs-comment"># æ•°æ®åº“ä¾èµ–</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db</span>():
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> AsyncSessionLocal() <span class="hljs-keyword">as</span> session:
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">yield</span> session
        <span class="hljs-keyword">finally</span>:
            <span class="hljs-keyword">await</span> session.close()

<span class="hljs-comment"># ä½¿ç”¨</span>
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span>, db: AsyncSession = Depends(<span class="hljs-params">get_db</span>)</span>):
    <span class="hljs-comment"># ä½¿ç”¨dbè¿›è¡Œæ•°æ®åº“æ“ä½œ</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<hr/>
<h2 data-id="heading-16">äº”ã€è®¤è¯ä¸æˆæƒ</h2>
<h3 data-id="heading-17">5.1 JWTè®¤è¯</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Depends, HTTPException, status
<span class="hljs-keyword">from</span> fastapi.security <span class="hljs-keyword">import</span> OAuth2PasswordBearer, OAuth2PasswordRequestForm
<span class="hljs-keyword">from</span> jose <span class="hljs-keyword">import</span> JWTError, jwt
<span class="hljs-keyword">from</span> passlib.context <span class="hljs-keyword">import</span> CryptContext
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel

app = FastAPI()

<span class="hljs-comment"># é…ç½®</span>
SECRET_KEY = <span class="hljs-string">"your-secret-key-keep-it-secret"</span>
ALGORITHM = <span class="hljs-string">"HS256"</span>
ACCESS_TOKEN_EXPIRE_MINUTES = <span class="hljs-number">30</span>

pwd_context = CryptContext(schemes=[<span class="hljs-string">"bcrypt"</span>], deprecated=<span class="hljs-string">"auto"</span>)
oauth2_scheme = OAuth2PasswordBearer(tokenUrl=<span class="hljs-string">"token"</span>)

<span class="hljs-comment"># æ¨¡å‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Token</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    access_token: <span class="hljs-built_in">str</span>
    token_type: <span class="hljs-built_in">str</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    username: <span class="hljs-built_in">str</span>
    email: <span class="hljs-built_in">str</span>
    disabled: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>

<span class="hljs-comment"># æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®åº“</span>
fake_users_db = {
    <span class="hljs-string">"admin"</span>: {
        <span class="hljs-string">"username"</span>: <span class="hljs-string">"admin"</span>,
        <span class="hljs-string">"email"</span>: <span class="hljs-string">"admin@example.com"</span>,
        <span class="hljs-string">"hashed_password"</span>: pwd_context.<span class="hljs-built_in">hash</span>(<span class="hljs-string">"admin123"</span>),
        <span class="hljs-string">"disabled"</span>: <span class="hljs-literal">False</span>
    }
}

<span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">verify_password</span>(<span class="hljs-params">plain_password, hashed_password</span>):
    <span class="hljs-keyword">return</span> pwd_context.verify(plain_password, hashed_password)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_access_token</span>(<span class="hljs-params">data: <span class="hljs-built_in">dict</span>, expires_delta: timedelta = <span class="hljs-literal">None</span></span>):
    to_encode = data.copy()
    expire = datetime.utcnow() + (expires_delta <span class="hljs-keyword">or</span> timedelta(minutes=<span class="hljs-number">15</span>))
    to_encode.update({<span class="hljs-string">"exp"</span>: expire})
    <span class="hljs-keyword">return</span> jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_current_user</span>(<span class="hljs-params">token: <span class="hljs-built_in">str</span> = Depends(<span class="hljs-params">oauth2_scheme</span>)</span>):
    credentials_exception = HTTPException(
        status_code=status.HTTP_401_UNAUTHORIZED,
        detail=<span class="hljs-string">"è®¤è¯å¤±è´¥"</span>,
        headers={<span class="hljs-string">"WWW-Authenticate"</span>: <span class="hljs-string">"Bearer"</span>},
    )
    <span class="hljs-keyword">try</span>:
        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])
        username: <span class="hljs-built_in">str</span> = payload.get(<span class="hljs-string">"sub"</span>)
        <span class="hljs-keyword">if</span> username <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            <span class="hljs-keyword">raise</span> credentials_exception
    <span class="hljs-keyword">except</span> JWTError:
        <span class="hljs-keyword">raise</span> credentials_exception
    
    user = fake_users_db.get(username)
    <span class="hljs-keyword">if</span> user <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">raise</span> credentials_exception
    <span class="hljs-keyword">return</span> User(**user)

<span class="hljs-comment"># ç™»å½•æ¥å£</span>
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/token"</span>, response_model=Token</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">form_data: OAuth2PasswordRequestForm = Depends(<span class="hljs-params"/>)</span>):
    user = fake_users_db.get(form_data.username)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> user <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> verify_password(form_data.password, user[<span class="hljs-string">"hashed_password"</span>]):
        <span class="hljs-keyword">raise</span> HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail=<span class="hljs-string">"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯"</span>
        )
    
    access_token = create_access_token(
        data={<span class="hljs-string">"sub"</span>: user[<span class="hljs-string">"username"</span>]},
        expires_delta=timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)
    )
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"access_token"</span>: access_token, <span class="hljs-string">"token_type"</span>: <span class="hljs-string">"bearer"</span>}

<span class="hljs-comment"># å—ä¿æŠ¤çš„æ¥å£</span>
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/me"</span>, response_model=User</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_users_me</span>(<span class="hljs-params">current_user: User = Depends(<span class="hljs-params">get_current_user</span>)</span>):
    <span class="hljs-keyword">return</span> current_user
</code></pre>
<hr/>
<h2 data-id="heading-18">å…­ã€ä¸­é—´ä»¶ä¸å¼‚å¸¸å¤„ç†</h2>
<h3 data-id="heading-19">6.1 ä¸­é—´ä»¶</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Request
<span class="hljs-keyword">from</span> fastapi.middleware.cors <span class="hljs-keyword">import</span> CORSMiddleware
<span class="hljs-keyword">import</span> time

app = FastAPI()

<span class="hljs-comment"># CORSä¸­é—´ä»¶</span>
app.add_middleware(
    CORSMiddleware,
    allow_origins=[<span class="hljs-string">"*"</span>],  <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒæŒ‡å®šåŸŸå</span>
    allow_credentials=<span class="hljs-literal">True</span>,
    allow_methods=[<span class="hljs-string">"*"</span>],
    allow_headers=[<span class="hljs-string">"*"</span>],
)

<span class="hljs-comment"># è‡ªå®šä¹‰ä¸­é—´ä»¶</span>
<span class="hljs-meta">@app.middleware(<span class="hljs-params"><span class="hljs-string">"http"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_process_time_header</span>(<span class="hljs-params">request: Request, call_next</span>):
    start_time = time.time()
    response = <span class="hljs-keyword">await</span> call_next(request)
    process_time = time.time() - start_time
    response.headers[<span class="hljs-string">"X-Process-Time"</span>] = <span class="hljs-built_in">str</span>(process_time)
    <span class="hljs-keyword">return</span> response

<span class="hljs-comment"># è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶</span>
<span class="hljs-meta">@app.middleware(<span class="hljs-params"><span class="hljs-string">"http"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">log_requests</span>(<span class="hljs-params">request: Request, call_next</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¯·æ±‚: <span class="hljs-subst">{request.method}</span> <span class="hljs-subst">{request.url}</span>"</span>)
    response = <span class="hljs-keyword">await</span> call_next(request)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å“åº”: <span class="hljs-subst">{response.status_code}</span>"</span>)
    <span class="hljs-keyword">return</span> response
</code></pre>
<h3 data-id="heading-20">6.2 å¼‚å¸¸å¤„ç†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, HTTPException, Request
<span class="hljs-keyword">from</span> fastapi.responses <span class="hljs-keyword">import</span> JSONResponse

app = FastAPI()

<span class="hljs-comment"># è‡ªå®šä¹‰å¼‚å¸¸</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomException</span>(<span class="hljs-title class_ inherited__">Exception</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, code: <span class="hljs-built_in">int</span>, message: <span class="hljs-built_in">str</span></span>):
        self.code = code
        self.message = message

<span class="hljs-comment"># å¼‚å¸¸å¤„ç†å™¨</span>
<span class="hljs-meta">@app.exception_handler(<span class="hljs-params">CustomException</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">custom_exception_handler</span>(<span class="hljs-params">request: Request, exc: CustomException</span>):
    <span class="hljs-keyword">return</span> JSONResponse(
        status_code=exc.code,
        content={<span class="hljs-string">"code"</span>: exc.code, <span class="hljs-string">"message"</span>: exc.message}
    )

<span class="hljs-comment"># å…¨å±€å¼‚å¸¸å¤„ç†</span>
<span class="hljs-meta">@app.exception_handler(<span class="hljs-params">Exception</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">global_exception_handler</span>(<span class="hljs-params">request: Request, exc: Exception</span>):
    <span class="hljs-keyword">return</span> JSONResponse(
        status_code=<span class="hljs-number">500</span>,
        content={<span class="hljs-string">"code"</span>: <span class="hljs-number">500</span>, <span class="hljs-string">"message"</span>: <span class="hljs-string">"æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"</span>}
    )

<span class="hljs-comment"># ä½¿ç”¨</span>
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/items/{item_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_item</span>(<span class="hljs-params">item_id: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-keyword">if</span> item_id &lt; <span class="hljs-number">0</span>:
        <span class="hljs-keyword">raise</span> CustomException(code=<span class="hljs-number">400</span>, message=<span class="hljs-string">"IDä¸èƒ½ä¸ºè´Ÿæ•°"</span>)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"item_id"</span>: item_id}
</code></pre>
<hr/>
<h2 data-id="heading-21">ä¸ƒã€é¡¹ç›®ç»“æ„</h2>
<h3 data-id="heading-22">7.1 æ¨èç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">project/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py              <span class="hljs-comment"># å…¥å£</span>
â”‚   â”œâ”€â”€ config.py            <span class="hljs-comment"># é…ç½®</span>
â”‚   â”œâ”€â”€ database.py          <span class="hljs-comment"># æ•°æ®åº“</span>
â”‚   â”œâ”€â”€ models/              <span class="hljs-comment"># æ•°æ®æ¨¡å‹</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ user.py
â”‚   â”œâ”€â”€ schemas/             <span class="hljs-comment"># Pydanticæ¨¡å‹</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ user.py
â”‚   â”œâ”€â”€ routers/             <span class="hljs-comment"># è·¯ç”±</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ users.py
â”‚   â”‚   â””â”€â”€ items.py
â”‚   â”œâ”€â”€ services/            <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘</span>
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ user_service.py
â”‚   â””â”€â”€ utils/               <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ auth.py
â”œâ”€â”€ tests/                   <span class="hljs-comment"># æµ‹è¯•</span>
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
</code></pre>
<h3 data-id="heading-23">7.2 è·¯ç”±ç»„ç»‡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># app/routers/users.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> APIRouter, Depends

router = APIRouter(
    prefix=<span class="hljs-string">"/users"</span>,
    tags=[<span class="hljs-string">"ç”¨æˆ·ç®¡ç†"</span>]
)

<span class="hljs-meta">@router.get(<span class="hljs-params"><span class="hljs-string">"/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_users</span>():
    <span class="hljs-keyword">return</span> []

<span class="hljs-meta">@router.get(<span class="hljs-params"><span class="hljs-string">"/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"user_id"</span>: user_id}

<span class="hljs-comment"># app/main.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI
<span class="hljs-keyword">from</span> app.routers <span class="hljs-keyword">import</span> users, items

app = FastAPI()

app.include_router(users.router)
app.include_router(items.router)
</code></pre>
<hr/>
<h2 data-id="heading-24">å…«ã€éƒ¨ç½²æ–¹æ¡ˆ</h2>
<h3 data-id="heading-25">8.1 Dockeréƒ¨ç½²</h3>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># Dockerfile
FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
</code></pre>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># docker-compose.yml</span>
<span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">api:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8000:8000"</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">DATABASE_URL=postgresql://user:pass@db:5432/mydb</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>

  <span class="hljs-attr">db:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">postgres:15</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_USER=user</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_PASSWORD=pass</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">POSTGRES_DB=mydb</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">postgres_data:/var/lib/postgresql/data</span>

<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">postgres_data:</span>
</code></pre>
<h3 data-id="heading-26">8.2 Nginxåå‘ä»£ç†</h3>
<pre><code class="hljs language-nginx" lang="nginx">server {
    listen 80;
    server_name api.example.com;

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
</code></pre>
<h3 data-id="heading-27">8.3 è¿œç¨‹è®¿é—®</h3>
<p>éƒ¨ç½²åœ¨å†…ç½‘æœåŠ¡å™¨çš„APIï¼Œå¦‚ä½•è®©å¤–ç½‘è®¿é—®ï¼Ÿ</p>
<pre><code class="hljs language-markdown" lang="markdown">æ–¹æ¡ˆå¯¹æ¯”ï¼š
<span class="hljs-bullet">1.</span> å…¬ç½‘æš´éœ² + HTTPS â†’ éœ€è¦å…¬ç½‘IPï¼Œå®‰å…¨é£é™©
<span class="hljs-bullet">2.</span> Cloudflare Tunnel â†’ é…ç½®å¤æ‚
<span class="hljs-bullet">3.</span> ç»„ç½‘è½¯ä»¶ â†’ æœ€ç®€å•å®‰å…¨

ä½¿ç”¨ç»„ç½‘è½¯ä»¶ï¼ˆå¦‚æ˜Ÿç©ºç»„ç½‘ï¼‰ï¼š
<span class="hljs-bullet">-</span> æœåŠ¡å™¨å®‰è£…ç»„ç½‘å®¢æˆ·ç«¯
<span class="hljs-bullet">-</span> å¼€å‘æœºå®‰è£…ç»„ç½‘å®¢æˆ·ç«¯
<span class="hljs-bullet">-</span> é€šè¿‡è™šæ‹ŸIPè®¿é—®API

é€‚ç”¨åœºæ™¯ï¼š
<span class="hljs-bullet">-</span> å¼€å‘æµ‹è¯•é˜¶æ®µ
<span class="hljs-bullet">-</span> å†…éƒ¨ç³»ç»Ÿ
<span class="hljs-bullet">-</span> ä¸æƒ³æš´éœ²å…¬ç½‘çš„API
</code></pre>
<hr/>
<h2 data-id="heading-28">ä¹ã€æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-29">9.1 å¼‚æ­¥æ•°æ®åº“</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sqlalchemy.ext.asyncio <span class="hljs-keyword">import</span> AsyncSession, create_async_engine
<span class="hljs-keyword">from</span> sqlalchemy.future <span class="hljs-keyword">import</span> select

<span class="hljs-comment"># å¼‚æ­¥æŸ¥è¯¢</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_users</span>(<span class="hljs-params">db: AsyncSession</span>):
    result = <span class="hljs-keyword">await</span> db.execute(select(User))
    <span class="hljs-keyword">return</span> result.scalars().<span class="hljs-built_in">all</span>()
</code></pre>
<h3 data-id="heading-30">9.2 åå°ä»»åŠ¡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, BackgroundTasks

app = FastAPI()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">send_email</span>(<span class="hljs-params">email: <span class="hljs-built_in">str</span>, message: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-comment"># å‘é€é‚®ä»¶çš„è€—æ—¶æ“ä½œ</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/notify/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_notification</span>(<span class="hljs-params">
    email: <span class="hljs-built_in">str</span>,
    background_tasks: BackgroundTasks
</span>):
    background_tasks.add_task(send_email, email, <span class="hljs-string">"é€šçŸ¥æ¶ˆæ¯"</span>)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"é€šçŸ¥å·²å‘é€"</span>}
</code></pre>
<h3 data-id="heading-31">9.3 ç¼“å­˜</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> lru_cache
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI

app = FastAPI()

<span class="hljs-meta">@lru_cache()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_settings</span>():
    <span class="hljs-comment"># è¯»å–é…ç½®ï¼ˆåªæ‰§è¡Œä¸€æ¬¡ï¼‰</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"app_name"</span>: <span class="hljs-string">"MyAPI"</span>}

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/settings/"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_settings</span>():
    <span class="hljs-keyword">return</span> get_settings()
</code></pre>
<hr/>
<h2 data-id="heading-32">åã€æ€»ç»“</h2>
<p>FastAPIæ ¸å¿ƒè¦ç‚¹ï¼š</p>

































<table><thead><tr><th>åŠŸèƒ½</th><th>æ–¹æ³•</th></tr></thead><tbody><tr><td>è·¯å¾„å‚æ•°</td><td><code>@app.get("/items/{id}")</code></td></tr><tr><td>æŸ¥è¯¢å‚æ•°</td><td><code>def read(q: str = None)</code></td></tr><tr><td>è¯·æ±‚ä½“</td><td><code>def create(item: Item)</code></td></tr><tr><td>ä¾èµ–æ³¨å…¥</td><td><code>Depends()</code></td></tr><tr><td>è®¤è¯</td><td><code>OAuth2PasswordBearer</code></td></tr><tr><td>ä¸­é—´ä»¶</td><td><code>@app.middleware("http")</code></td></tr></tbody></table>
<p><strong>FastAPIä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>Pythonæœ€å¿«çš„Webæ¡†æ¶</li>
<li>è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£</li>
<li>ç±»å‹å®‰å…¨ï¼ŒIDEå‹å¥½</li>
<li>å¼‚æ­¥åŸç”Ÿæ”¯æŒ</li>
</ul>
<hr/>
<h2 data-id="heading-33">å‚è€ƒèµ„æ–™</h2>
<ol>
<li>FastAPIå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffastapi.tiangolo.com%2F" target="_blank" title="https://fastapi.tiangolo.com/" ref="nofollow noopener noreferrer">fastapi.tiangolo.com/</a></li>
<li>Pydanticæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.pydantic.dev%2F" target="_blank" title="https://docs.pydantic.dev/" ref="nofollow noopener noreferrer">docs.pydantic.dev/</a></li>
<li>SQLAlchemyå¼‚æ­¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.sqlalchemy.org%2Fen%2F20%2Form%2Fextensions%2Fasyncio.html" target="_blank" title="https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html" ref="nofollow noopener noreferrer">docs.sqlalchemy.org/en/20/orm/eâ€¦</a></li>
</ol>
<hr/>
<blockquote>
<p>ğŸ’¡ FastAPIæ˜¯ç°ä»£Pythonåç«¯çš„æœ€ä½³é€‰æ‹©ï¼Œé…åˆç»„ç½‘è½¯ä»¶å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œè¿œç¨‹å¼€å‘å’Œæµ‹è¯•ã€‚</p>
</blockquote>
<pre><code class="hljs"/></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ AI å…±ç”Ÿï¼Œè…¾è®¯äº‘æºæ‰‹è¡Œä¸šä¸“å®¶å…±è¯æ•°æ™ºé©±åŠ¨æ–°è´¨ç”Ÿé•¿]]></title>    <link>https://juejin.cn/post/7585385309890789376</link>    <guid>https://juejin.cn/post/7585385309890789376</guid>    <pubDate>2025-12-19T09:30:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585385309890789376" data-draft-id="7585385309890772992" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ AI å…±ç”Ÿï¼Œè…¾è®¯äº‘æºæ‰‹è¡Œä¸šä¸“å®¶å…±è¯æ•°æ™ºé©±åŠ¨æ–°è´¨ç”Ÿé•¿"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T09:30:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è…¾è®¯äº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/3456520257538830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ AI å…±ç”Ÿï¼Œè…¾è®¯äº‘æºæ‰‹è¡Œä¸šä¸“å®¶å…±è¯æ•°æ™ºé©±åŠ¨æ–°è´¨ç”Ÿé•¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3456520257538830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è…¾è®¯äº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T09:30:07.000Z" title="Fri Dec 19 2025 09:30:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>11 æœˆ 29 æ—¥ï¼Œç”±<strong>è…¾è®¯äº‘ TVP</strong>Â å’Œ<strong>ä¸­å›½æµ·è¯š</strong>è”åˆä¸»åŠçš„ <strong>ã€Œä¸ AI å…±ç”Ÿï¼Œæ•°æ™ºé©±åŠ¨äº§ä¸šæ–°è´¨ç”Ÿé•¿ã€TVP AI åˆ›å˜ç ”è®¨ä¼š</strong>åœ¨ä¸Šæµ·æˆåŠŸä¸¾åŠã€‚</p>
<p>åœ¨æœ¬æ¬¡æ´»åŠ¨ä¸­ï¼Œä¸“å®¶ä»¬å®åœ°å‚è§‚äº†ä¸­å›½æµ·è¯šè½»å·¥åšç‰©é¦†ï¼Œäº†è§£ä¸­å›½è½»å·¥ä¸šçš„å‘å±•å†ç¨‹ï¼Œç›´è§‚æ„Ÿå—ä¸­å›½æµ·è¯šåœ¨ç§‘æŠ€åˆ›æ–°å’Œæ•°æ™ºè½¬å‹æ–¹é¢å–å¾—çš„æˆæœã€‚æ¥è‡ªäº§ä¸šä¸€çº¿ä¸æŠ€æœ¯å‰æ²¿çš„ä¸“å®¶å¤§å’–ï¼Œå›´ç»• AI +æ™ºèƒ½åˆ¶é€ å‘å±•è¶‹åŠ¿ã€é›¶å”®è¡Œä¸š AI æ™ºèƒ½ä½“å‰æ²¿å®è·µã€AI åˆ›æ–°åº”ç”¨è½åœ°è·¯å¾„ã€AI+Data é©±åŠ¨ä¼ä¸šè½¬å‹ç­‰é‡è¦è®®é¢˜ï¼Œå±•å¼€æ·±åº¦åˆ†äº«ä¸æ€æƒ³ç¢°æ’ï¼Œå…±åŒæ¢ç´¢ AI è½åœ°çš„æœ‰æ•ˆè·¯å¾„ä¸å‘å±•æ–¹å‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5a65b667dcc4f768517f34953014427~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=5yMsPZOSAWBp%2B0dER37K%2FyvGEjM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>ä¸»æŒäººå¼€åœº</strong></h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14b343ffba9f47038d256d82fceb093e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=Zf0f4ODdHmR%2FBXxae9Rjwq4R5kM%3D" alt="" loading="lazy"/></p>
<p>è…¾è®¯äº‘TVP èŒƒç»´è‚–</p>
<p>ä¸»æŒäºº<strong>è…¾è®¯äº‘ TVP èŒƒç»´è‚–</strong>åœ¨æ´»åŠ¨å¼€åœºæ—¶è¡¨ç¤ºï¼Œè¿‘å¹´æ¥ï¼Œä»¥äººå·¥æ™ºèƒ½ä¸ºä»£è¡¨çš„æ•°å­—æŠ€æœ¯æ­£åŠ é€Ÿä¸ä¼ ç»Ÿè¡Œä¸šæ·±åº¦èåˆã€‚â€œåäº”äº”â€è§„åˆ’å»ºè®®æ˜ç¡®æå‡ºå› åœ°åˆ¶å®œå‘å±•æ–°è´¨ç”Ÿäº§åŠ›ï¼Œä¸º AI ä¸å„è¡Œå„ä¸šçš„æ·±åº¦èåˆï¼ŒåŠ å¿«å‘å±•æ–°è´¨ç”Ÿäº§åŠ›æŒ‡æ˜äº†æ–¹å‘ã€‚ç„¶è€Œï¼Œä¼ä¸šåœ¨è½åœ°å®è·µæ—¶ä»æ˜¯â€œæ‘¸ç€çŸ³å¤´è¿‡æ²³â€ï¼Œæ—¢é¢ä¸´æŠ€æœ¯é€‚é…ã€ç»„ç»‡å˜é©ç­‰ç°å®æŒ‘æˆ˜ï¼Œä¹ŸäºŸéœ€å¯å¤åˆ¶ã€å¯æ¨å¹¿çš„æ ‡æ†æ¡ˆä¾‹å’Œå®è·µç»éªŒä½œä¸ºæŒ‡å¼•ã€‚</p>
<p>ä¸­å›½æµ·è¯šæ˜¯ä¸€å®¶åº•è•´æ·±åšçš„é¾™å¤´ä¼ä¸šï¼Œåœ¨æ™ºæ…§å·¥ç¨‹ã€æ™ºèƒ½åˆ¶é€ ç­‰é¢†åŸŸå…·å¤‡é¢†å…ˆçš„æŠ€æœ¯å®åŠ›ï¼ŒåŒæ—¶å¯¹ä¸­å›½åˆ¶é€ æœ‰æ·±åˆ»çš„æ´å¯Ÿï¼Œå¹¶åœ¨æœåŠ¡åƒè¡Œç™¾ä¸šçš„å®è·µä¸­ç§¯ç´¯äº†ä¸°å¯Œçš„ç»éªŒã€‚è…¾è®¯äº‘ TVP æ¯å¹´èµ°è¿›å„ä¸ªåŸå¸‚ï¼Œè‡´åŠ›æ­å»ºå¼€æ”¾äº¤æµçš„å¹³å°ï¼ŒåŠ©åŠ›å¤§å®¶äº†è§£ä¼ä¸šå®è·µï¼Œæ¢è®¨è¡Œä¸šå‰æ²¿è¿›å±•ã€‚æœ¬æ¬¡æ´»åŠ¨ä½œä¸ºè…¾è®¯äº‘ TVP æŠ€æœ¯ç ”è®¨ä¼šç³»åˆ—ä¹‹ä¸€ï¼Œæ±‡èšæ¥è‡ªä¸åŒè¡Œä¸šçš„ä¸“å®¶ï¼Œé€šè¿‡å¤šå…ƒè§†è§’æ·±å…¥æ¢è®¨æ•°æ™ºæŠ€æœ¯å¦‚ä½•é©±åŠ¨äº§ä¸šæ–°è´¨ç”Ÿé•¿ã€‚</p>
<h2 data-id="heading-2"><strong>ä¸»åŠæ–¹è‡´è¾</strong></h2>
<p><strong>ä¸­å›½æµ·è¯šå…šå§”ä¹¦è®°ã€æ€»è£ æå£«å†›</strong>åœ¨æ¬¢è¿è¾ä¸­æŒ‡å‡ºï¼Œäººå·¥æ™ºèƒ½æ­£ä»â€œæŠ€æœ¯å¯ç”¨â€è¿ˆå‘â€œä¸äº§ä¸šå…±ç”Ÿâ€çš„å…³é”®é˜¶æ®µï¼Œæˆä¸ºé©±åŠ¨äº§ä¸šæ–°è´¨ç”Ÿé•¿çš„æ ¸å¿ƒåŠ¨åŠ›ã€‚ä»–å¼ºè°ƒï¼Œä¸­å›½æµ·è¯šä½œä¸ºä¿åˆ©ä¸­è½»æ——ä¸‹ç§‘æŠ€å‹å·¥ç¨‹å…¬å¸ï¼Œæ­£å…¨åŠ›æ¨è¿›æ™ºèƒ½åˆ¶é€ ä¸šåŠ¡å‘å±•ï¼Œè‡´åŠ›äºæ‰“é€ æ™ºèƒ½å·¥å‚ç³»ç»Ÿè§£å†³æ–¹æ¡ˆï¼Œæ¨åŠ¨â€œæ•°æ™ºåŒé©±â€æˆ˜ç•¥è½åœ°ã€‚ä»–è¡¨ç¤ºï¼Œä¸­å›½æµ·è¯šå·²è”åˆè¡Œä¸šé¢†å†›å•ä½æˆç«‹â€œè½»å·¥è¡Œä¸šæ™ºèƒ½åˆ¶é€ åˆ›æ–°è”åˆä½“â€ï¼Œæ„å»ºå¼€æ”¾ååŒçš„äº§ä¸šç”Ÿæ€ï¼Œå¹¶æœŸå¾…ä¸è…¾è®¯äº‘ TVP åŠå„ç•Œä¼™ä¼´æºæ‰‹ï¼Œå…±åŒæ¨åŠ¨ AI ä¸å®ä½“ç»æµçš„æ·±åº¦èåˆï¼Œä¸ºä¸­å›½åˆ¶é€ ä¸šè½¬å‹å‡çº§è´¡çŒ®åŠ›é‡ã€‚</p>
<p>ä¸­å›½æµ·è¯šçš„å®šä½æ¸…æ™°ï¼Œç§‰æŒâ€œå¼€æ‹“åˆ›æ–°ã€ç²¾ç›Šå¢æ•ˆã€æ•°æ™ºåŒé©±ã€æ–°è´¨ç”Ÿé•¿â€çš„å‘å±•æ€è·¯ã€‚ä¸­å›½æµ·è¯šæ¨è¿›æ™ºèƒ½åˆ¶é€ ä¸šåŠ¡ï¼ŒåŠ é€Ÿâ€œæ•°æ™ºåŒé©±â€æˆ˜ç•¥è§„åˆ’çš„å®æ–½ï¼Œè‡´åŠ›æˆä¸ºä¼ ç»Ÿå·¥å‚æ™ºèƒ½åŒ–æ”¹é€ çš„æœåŠ¡æä¾›è€…ä¸æ™ºèƒ½å·¥å‚çš„å»ºè®¾è€…ã€‚ä¸­å›½æµ·è¯šæ‹¥æœ‰æ ¸å¿ƒå·¥è‰ºï¼Œç²¾å‡†ç¡®å®šäº§å“ç ”å‘é£å‘ï¼Œæ´å¯Ÿå®¢æˆ·éœ€æ±‚ï¼Œç§‰æŒå¼€æ”¾åŒ…å®¹çš„æ€åº¦ï¼Œç§¯ææºæ‰‹å„ç•Œï¼Œå…±åŒæ¢ç´¢æ™ºèƒ½åˆ¶é€ ä¹‹è·¯ã€‚åœ¨ 2025 ä¸–ç•Œè®¾è®¡ä¹‹éƒ½å¤§ä¼šä¸Šï¼Œä¸­å›½æµ·è¯šè”åˆå¤šå®¶æ™ºèƒ½åˆ¶é€ ä¼ä¸šã€åä¼šã€é«˜æ ¡ç­‰ç›¸å…³å•ä½æˆç«‹â€œè½»å·¥è¡Œä¸šæ™ºèƒ½åˆ¶é€ åˆ›æ–°è”åˆä½“ç”Ÿæ€åˆä½œåœˆâ€ä¸â€œè½»å·¥è¡Œä¸šæ™ºèƒ½åˆ¶é€ åˆ›æ–°è”åˆä½“â€ï¼Œæ—¨åœ¨æ„å»ºå¼€æ”¾ååŒçš„åˆ›æ–°ç”Ÿæ€ã€‚</p>
<p>è…¾è®¯äº‘åœ¨ AI èµ‹èƒ½äº§ä¸šå‘å±•ä¸æœåŠ¡å®¢æˆ·æ–¹é¢å–å¾—æ˜¾è‘—æˆæ•ˆï¼Œç‰¹åˆ«æ˜¯åœ¨è½»å·¥é¢†åŸŸï¼Œä¸ºå·¥ä¸šæ™ºèƒ½åŒ–æä¾›äº†è¯¸å¤šæ”¯æ’‘ã€‚ä¸­å›½æµ·è¯šä¸è…¾è®¯äº‘æºæ‰‹å¹¶è¿›ï¼Œå…±èµ´æ™ºèƒ½åˆ¶é€ ä¹‹æ—…ã€‚æœªæ¥ï¼Œä¸­å›½æµ·è¯šæ„¿ä¸ä¸šç•ŒåŒä»æºæ‰‹ï¼Œä»¥åŠ¡å®çš„æ€åº¦ã€ä¸“ä¸šç²¾ç¥ï¼Œæ‹“å±•å·¥ç¨‹è¾¹ç•Œï¼Œæ„å»ºäº§ä¸šååŒç½‘ç»œï¼Œä¸€åŒæŒ–æ˜æ™ºèƒ½åˆ¶é€ åº”ç”¨åœºæ™¯ï¼Œæ”»å…‹å…³é”®æŠ€æœ¯éš¾é¢˜ï¼Œæ‰“é€ æ ‡æ†é¡¹ç›®ï¼Œæ¨å¹¿åˆ›æ–°æˆæœï¼Œä¸ºä¸­å›½åˆ¶é€ ä¸šçš„è½¬å‹å‡çº§è´¡çŒ®åŠ›é‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91d8cdd905fd425c98a0c9106dd99ed2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=MqtjAc8rk3X02ngIscoRAerXFQo%3D" alt="" loading="lazy"/></p>
<p>è…¾è®¯äº‘å¼€å‘è€…ä¸šåŠ¡æ€»ç›‘ æä½³å¿†</p>
<p><strong>è…¾è®¯äº‘å¼€å‘è€…ä¸šåŠ¡æ€»ç›‘ æä½³å¿†</strong>è¡¨ç¤ºï¼Œè¿‘å¹´æ¥ï¼Œéšç€ AI æŠ€æœ¯çš„æŒç»­å‘å±•ï¼Œæˆ‘å›½å·¥ä¸šå‘å±•è¿æ¥äº†æ–°çš„å…³é”®èŠ‚ç‚¹ã€‚â€œåäº”äº”â€è§„åˆ’æ˜ç¡®æå‡ºæ¨è¿›æ–°å‹å·¥ä¸šåŒ–ï¼ŒåŠ å¿«å»ºè®¾åˆ¶é€ å¼ºå›½ã€è´¨é‡å¼ºå›½ï¼Œæ˜ç¡®ä»¥æ™ºèƒ½åˆ¶é€ ä¸ºå…³é”®é©±åŠ¨åŠ›ï¼Œæ¨åŠ¨äº§ä¸šæ•°å­—åŒ–ã€æ™ºèƒ½åŒ–å‡çº§ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè…¾è®¯äº‘ä¸ä¸­å›½è½»å·¥ä¸šå…±åŒæˆé•¿ï¼Œå¹¶ä¸ä¸­å›½æµ·è¯šæºæ‰‹åŠ©åŠ›å›½å®¶å·¥ä¸šå˜é©ã€‚</p>
<p>è…¾è®¯äº‘å§‹ç»ˆåšæŒä»¥æŠ€æœ¯ä¸ºé©±åŠ¨ï¼Œä»¥å®¢æˆ·ä¸ºä¸­å¿ƒï¼Œå‡­å€Ÿæ‰å®çš„æŠ€æœ¯å®åŠ›ä¸é«˜æ»¡æ„åº¦çš„å®¢æœåŠ¡ä½“ç³»ï¼ŒæŒç»­ä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹èµ‹èƒ½ï¼Œæˆä¸ºå„è¡Œä¸šé¢†å…ˆçš„æ•°å­—åŒ–åŠ©æ‰‹ã€‚è…¾è®¯äº‘ TVP å¹³å°æ±‡èšä¼—å¤šæ•°å­—åŒ–è½¬å‹ä¸“å®¶ï¼Œè‡´åŠ›äºå°†å‰æ²¿æŠ€æœ¯ä¸è¡Œä¸šç´§å¯†ç»“åˆï¼Œä¸ºå·¥ä¸šäº’è”ç½‘çš„å‘å±•æä¾›åŠ¨åŠ›ã€‚ä¸­å›½æµ·è¯šæ·±åšçš„è¡Œä¸šç§¯æ·€ä¸è…¾è®¯äº‘é¢†å…ˆçš„æ•°å­—æŠ€æœ¯èƒ½åŠ›æ·±åº¦èåˆï¼Œæˆä¸ºå“åº”å›½å®¶å…³äºåŠ å¿«å‘å±•æ–°è´¨ç”Ÿäº§åŠ›çš„ç”ŸåŠ¨å®è·µã€‚é€šè¿‡æ­¤æ¬¡äº¤æµï¼ŒåŒæ–¹åœ¨â€œåäº”äº”â€çš„æ–°èµ·ç‚¹ä¸Šï¼Œå…±åŒä¸ºè½»å·¥ä¸šé«˜ç«¯åŒ–ã€æ™ºèƒ½åŒ–ã€ç»¿è‰²åŒ–å‘å±•æ³¨å…¥æ–°åŠ¨èƒ½ï¼Œä¸ºæ„å»ºç°ä»£åŒ–äº§ä¸šä½“ç³»è´¡çŒ®åŠ›é‡ã€‚æœ¬æ¬¡æ´»åŠ¨é€šè¿‡å„æ–¹çš„äº¤æµï¼Œä¸ºä¸ä¼šè€…æä¾›å¤šå…ƒè§†è§’å’Œæ·±åº¦æ€è€ƒï¼Œè¿›ä¸€æ­¥æ¨åŠ¨ä»¥æ•°å­—åŒ–èµ‹èƒ½æ–°è´¨ç”Ÿäº§åŠ›ç”Ÿé•¿ã€‚</p>
<h2 data-id="heading-3"><strong>ä¸­å›½æµ·è¯šæ™ºèƒ½åˆ¶é€ è§£å†³æ–¹æ¡ˆä»‹ç»</strong></h2>
<p><strong>ä¸­å›½æµ·è¯šå¸¸åŠ¡å‰¯æ€»è£ã€ä¸Šæµ·å¸‚æ™ºèƒ½åˆ¶é€ äº§ä¸šåä¼šå‰¯ä¼šé•¿ã€ä¿åˆ©ä¸­è½»æ™ºèƒ½åˆ¶é€ ç ”ç©¶é™¢å‰¯é™¢é•¿ å¼ å¿—</strong>å‘è¡¨ã€Šä¸­å›½æµ·è¯šæ™ºèƒ½åˆ¶é€ è§£å†³æ–¹æ¡ˆä»‹ç»ã€‹çš„æ¼”è®²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a14024719bb947ffad37d19dc0f7b797~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=6Fyg%2BaWAbI2isDQQoNplnZer5sk%3D" alt="" loading="lazy"/></p>
<p>ä¸­å›½æµ·è¯šå¸¸åŠ¡å‰¯æ€»è£ã€ä¸Šæµ·å¸‚æ™ºèƒ½åˆ¶é€ äº§ä¸šåä¼šå‰¯ä¼šé•¿ã€ä¿åˆ©ä¸­è½»æ™ºèƒ½åˆ¶é€ ç ”ç©¶é™¢å‰¯é™¢é•¿ å¼ å¿—</p>
<p>å¼ å¿—ä»‹ç»äº†ä¸­å›½æµ·è¯šçš„å‘å±•å†å²ï¼š20 ä¸–çºª 50-70 å¹´ä»£ï¼Œå…¶å‰èº«ä¸ºè½»å·¥ä¸šéƒ¨ä¸‹å±è®¾è®¡é™¢ï¼›2002 å¹´ï¼Œè®¾è®¡é™¢åˆå¹¶ç»„å»ºå…¬å¸ï¼Œå®šä½ä¸ºå·¥ç¨‹å…¬å¸ï¼Œå¹¶äº 2007 å¹´ä¸Šå¸‚ï¼›2017 å¹´ï¼Œéšä¸­è½»é›†å›¢å¹¶å…¥ä¿åˆ©é›†å›¢ï¼Œæˆä¸ºè½»å·¥è¡Œä¸šç»¼åˆæ€§å·¥ç¨‹å…¬å¸ã€‚ä¸ºå¸ƒå±€â€œåäº”äº”â€ï¼Œå…¬å¸åŠ é€Ÿæ•°å­—åŒ–è½¬å‹ï¼Œå…¨åŠ›å‘å±•æ™ºèƒ½åˆ¶é€ ä¸šåŠ¡ï¼Œæå‡ºä»ä¼ ç»Ÿå·¥ç¨‹æœåŠ¡å•†å‘â€œå…¨å‘¨æœŸç”Ÿäº§æ€§æœåŠ¡å•†â€è·ƒè¿çš„ç›®æ ‡ï¼ŒåŠ å¿«å‘ç§‘æŠ€å…¬å¸è½¬å‹çš„æ­¥ä¼ã€‚</p>
<p>ä¸ºä½•å…¬å¸å¤§åŠ›å¸ƒå±€æ™ºèƒ½åˆ¶é€ ä¸šåŠ¡ï¼Ÿå¼ å¿—è¡¨ç¤ºï¼ŒåŸå› åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼šä¸€æ˜¯ä¼ ç»Ÿåˆ¶é€ ä¸šæ­¥å…¥ä½å¢é•¿ã€ä½åˆ©æ¶¦ã€é«˜ç«äº‰é˜¶æ®µï¼›äºŒæ˜¯â€œåå†…å·â€æ”¿ç­–ä¸‹ï¼Œèšç„¦æ·˜æ±°ä½æ•ˆäº§èƒ½å’Œè§„èŒƒå¸‚åœºç«äº‰ï¼›ä¸‰æ˜¯å¸‚åœºå¯¼å‘ï¼Œå‚¬ç”Ÿâ€œå¤šå“ç§ã€å°æ‰¹é‡ã€ä¸ªæ€§åŒ–â€çš„ç”Ÿäº§éœ€æ±‚ï¼›å››æ˜¯å·¥ç¨‹è¡Œä¸šæ•´ä½“é¢ä¸´ç»“æ„æ€§è°ƒæ•´ã€‚åŒæ—¶ï¼Œä¼´éšä¸€ç³»åˆ—å…³äºè¡Œä¸šæ•°å­—åŒ–è½¬å‹ä¸æ™ºèƒ½åŒ–å‡çº§ç³»åˆ—æ”¿ç­–çš„å‡ºå°ï¼Œå‘å±•æ™ºèƒ½åˆ¶é€ æ—¢æ˜¯å›½å®¶è¦æ±‚ï¼Œä¹Ÿæ˜¯ä¼ä¸šå®ç°å†…ç”Ÿå‘å±•çš„è¦æ±‚ã€‚</p>
<p>ä¸­å›½æµ·è¯šæ‰“é€ ä¸‰å±‚æ™ºèƒ½å·¥å‚è§£å†³æ–¹æ¡ˆï¼šç¬¬ä¸€å±‚ä¸ºæ™ºæ…§ç®¡ç†ï¼Œå®ç°è¥é”€ã€æˆæœ¬ã€è´¢åŠ¡ã€ç ”å‘ã€é£é™©ã€äººèµ„ç­‰æµç¨‹çš„çº¿ä¸ŠåŒ–å’Œé©¾é©¶èˆ±å¯è§†åŒ–ï¼›ç¬¬äºŒå±‚ä¸ºæ™ºæ…§è¥é€ ï¼ŒåŸºäºè‡ªç ”æµ·è¯šÂ·äº‘å·¥åœºå¹³å°ï¼Œå®ç°å¤šæ–¹åœ¨çº¿ååŒï¼Œä¸ºå»ºç­‘è®¾è®¡ä¼ä¸šæä¾›ä¸“ä¸šçš„åä½œå¹³å°ï¼›æ­¤å¤–ï¼Œæµ·è¯šÂ·å·¥ç¨‹å¹³å°æ—¢æ”¯æŒä¼ ç»Ÿ EPCï¼ˆè®¾è®¡ã€é‡‡è´­ã€æ–½å·¥å®‰è£…ï¼‰ï¼Œä¹Ÿæä¾›æ™ºèƒ½å·¥å‚ EPC æœåŠ¡ï¼Œå¹¶é›†æˆè‡ªåŠ¨åŒ–ä¿¡æ¯ç³»ç»Ÿã€æ™ºèƒ½è£…å¤‡ã€æœºå™¨äººã€AI ç­‰ã€‚ç¬¬ä¸‰å±‚ä¸ºæ™ºèƒ½åˆ¶é€ ï¼Œæ¶µç›–æµ·è¯š Â· æ•°å­—åŒ–äº¤ä»˜å¹³å°ï¼Œä¸ºå·¥ç¨‹å»ºè®¾é¡¹ç›®æä¾›ç³»ç»ŸåŒ–äº¤ä»˜äº§å“ï¼›æµ·è¯š Â· æ•°æ®å·¥åœºå¹³å°ï¼Œé›†æˆæ•°æ®æ²»ç†ã€çŸ¥è¯†å›¾è°±ã€æ•°æ®åˆ†æç­‰æ¨¡å—ï¼Œæ”¯æŒä¸šåŠ¡å¿«é€Ÿå¼€å‘ï¼›æµ·è¯š Â· æ™ºé€ åº”ç”¨å¹³å°ï¼Œæä¾›æ™ºæ…§äº§çº¿ã€èƒ½ç¢³ç®¡ç†ã€å·¥è‰ºä¼˜åŒ–ç­‰æ™ºèƒ½åº”ç”¨å’Œ AI Agentã€‚</p>
<p>ä¸­å›½æµ·è¯šç§¯ææ¢ç´¢ AI çš„è½åœ°å®è·µï¼Œåœ¨ AI+å·¥ç¨‹æ–¹é¢ï¼Œå…¬å¸è‡ªç ”â€œæ˜¥ç§‹ Â· æå›â€å·¥ç¨‹çŸ¥è¯†é—®ç­”ç³»ç»Ÿï¼Œå¸®åŠ©å·¥ç¨‹å¸ˆè§„èŒƒè®¾è®¡ä¸ä½¿ç”¨ç›¸å…³æŠ€æœ¯æ–‡ä»¶ï¼›åœ¨ AI+åˆ¶é€ æ–¹é¢ï¼Œç»“åˆç”Ÿäº§è¿ç»´æ•°æ®ï¼Œä½¿ç”¨ AI ä¼˜åŒ–è¿è¥æ•ˆç‡ï¼›åœ¨ AI+è£…å¤‡æ–¹é¢ï¼ŒåŸºäºè§†è§‰è¯†åˆ«ã€æœºå™¨äººç­‰æŠ€æœ¯æå‡ç”Ÿäº§åˆ¶é€ æ°´å¹³ã€‚æœªæ¥ï¼Œå…¬å¸å°†æºæ‰‹åˆä½œä¼™ä¼´ï¼ŒåˆåŠ›å…±å»ºæ™ºèƒ½å·¥å‚ç³»ç»Ÿè§£å†³æ–¹æ¡ˆç”Ÿæ€ï¼ŒåŠ©åŠ›åˆ¶é€ ä¸šå‘å±•ã€‚</p>
<h2 data-id="heading-4"><strong>æµæ•°èåˆçš„AIé£è½®å®è·µ</strong></h2>
<p><strong>ç«‹é‚¦ä¸­å›½æµç¨‹ IT æ€»éƒ¨é«˜çº§å‰¯æ€»è£ã€è…¾è®¯äº‘TVP è°¢å¯³è²¡</strong>åˆ†äº«ã€Šæµæ•°èåˆçš„ AI é£è½®å®è·µã€‹çš„æ¼”è®²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/387b0f350f54473a9e20a8c409f04ee8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=dZfgpD55qtF8W3jYlp8Mg8vsgy4%3D" alt="" loading="lazy"/></p>
<p>ç«‹é‚¦ä¸­å›½æµç¨‹ IT æ€»éƒ¨é«˜çº§å‰¯æ€»è£ã€è…¾è®¯äº‘TVP è°¢å¯³è²¡</p>
<p>ç«‹é‚¦ä¸­å›½ä»¥ç”¨æˆ·ä»·å€¼ä¸ºä¸­å¿ƒï¼Œé€šè¿‡ç”¨æˆ·ã€æµç¨‹ã€ç³»ç»Ÿã€æ•°æ®ã€ç‰©è”ç½‘å’Œ AI ååŒï¼Œæ„å»ºæ¶‚è£…æ•°å­—ç»æµé›†æˆè§£å†³æ–¹æ¡ˆã€‚è‡ª 2017 å¹´èµ·ï¼Œå…¬å¸ç³»ç»Ÿæ¨è¿›æ•°å­—åŒ–è½¬å‹ï¼šç¬¬ä¸€é˜¶æ®µï¼Œå¼ºåŒ–ä¸šåŠ¡ååŒåŠæ•°æ™ºåŒ–åŸºç¡€æŠ€æœ¯ï¼Œä»â€œ+ITâ€èµ°å‘â€œIT+â€, è®¾ç«‹ IT BP æœºåˆ¶ï¼Œæ¨åŠ¨ IT äººå‘˜æ·±å…¥ç†è§£ä¸šåŠ¡ï¼›ç¬¬äºŒé˜¶æ®µï¼ŒåŠ é€Ÿæ•°æ™ºåŒ–è½¬å‹ï¼Œæ‰“é€ å†…éƒ¨æ•°å­—åŒ–å“ç‰Œâ€œiSMARTâ€ï¼Œæ¨è¿›ä¸­å°åŒ–ã€ç§»åŠ¨åŒ–ã€ä½“ç³»åŒ–å»ºè®¾ï¼›ç¬¬ä¸‰é˜¶æ®µï¼Œæ•´åˆæµç¨‹ã€åº”ç”¨ã€æ•°æ®å½¢æˆä»·å€¼é“¾ï¼ŒåŠ é€Ÿæµæ•°èåˆï¼Œæ”¶è·æ•°æ™ºåŒ–ä»·å€¼ï¼›ç¬¬å››é˜¶æ®µï¼Œè¿›è¡Œæµæ•°èåˆåŠ AI é£è½®é©±åŠ¨å˜é©ï¼Œæ„å»ºæµç¨‹ã€ç³»ç»Ÿã€æ•°æ®ã€AI çš„é›†æˆè§£å†³æ–¹æ¡ˆï¼Œå®ç°å˜é©ä»·å€¼åŒ–ã€ç²¾å®ååŒåŒ–ã€ç«äº‰å·®å¼‚åŒ–ã€‚</p>
<p>æµæ•°èåˆä»·å€¼ä½“ç³»çš„æ ¸å¿ƒåœ¨äºæ‹‰é€šè¿ä½œæœºåˆ¶ã€ä¿¡æ¯ç³»ç»Ÿå’Œå¯¹æ•°æ®è¿›è¡Œæ‹‰é€šï¼Œå®ç°æ¶‚è£…ç”Ÿæ€çš„å…¨åœºæ™¯æµæ•°èåˆã€‚å…¶èƒŒåæŠ€æœ¯åŸºç¡€æ”¯æ’‘åŒ…æ‹¬ä¸»æ•°æ®ç®¡ç†åŠæµç¨‹ä¼˜åŒ–ï¼Œæ•°æ®æœåŠ¡é—¨æˆ·ä¹Ÿè‡³å…³é‡è¦ï¼Œéœ€å»ºç«‹ç»Ÿä¸€æ•°æ®å­—å…¸å¹¶æ­å»ºæ•°ä»“ï¼Œå¼•å…¥æµç¨‹æŒ–æ˜å¹³å°ã€‚</p>
<p>éšç€ AI æ—¶ä»£çš„æ¥ä¸´ï¼Œå…¬å¸åˆ¶å®š AI æ„¿æ™¯ï¼Œè®©æ¯ä¸ªç«‹é‚¦å‘˜å·¥å’Œç”Ÿæ€ä¼™ä¼´éƒ½æœ‰åŠ©æ‰‹ï¼Œå¹¶ä»¥ç®—æ³•å’Œ RPA èµ‹èƒ½ã€‚åœ¨æ­¤æ„¿æ™¯ä¸‹ï¼Œå…¬å¸æ„å»ºç«‹é‚¦ AI é£è½®ï¼Œå³é€šè¿‡çŸ¥è¯†é©±åŠ¨ä¸šåŠ¡å¢é•¿ï¼Œå¹¶åˆ©ç”¨ AI æŠ€æœ¯åŠ é€Ÿåé¦ˆå¾ªç¯çš„è¿è¥æ¨¡å¼ã€‚å…¶æ ¸å¿ƒé€»è¾‘æ˜¯çŸ¥è¯†ç§¯ç´¯ä¸€æ™ºèƒ½ä½“è®¾è®¡ä¸€ä»·å€¼åœºæ™¯ä¸€æ›´å¤šçŸ¥è¯†ç”Ÿæˆï¼Œå½¢æˆè‡ªæˆ‘å¼ºåŒ–çš„æ­£å‘å¾ªç¯ã€‚AI é£è½®çš„ä»·å€¼åœ¨è·å®¢/è·é¡¹ç›®ã€é£é™©ç®¡æ§ã€é™æœ¬å¢æ•ˆã€ç ”å‘åˆ›æ–°ç­‰æ–¹é¢ã€‚</p>
<p>ç«‹é‚¦ AI é£è½®æ¶æ„å›´ç»• 17 ç±»çŸ¥è¯†é¢†åŸŸï¼Œå°†çŸ¥è¯†æ¥å…¥æµæ•°èåˆä¸šåŠ¡ç³»ç»Ÿï¼Œå®ç°ä¸šåŠ¡æµç¨‹æ•°æ®å…¥ä»“åŠçŸ¥è¯†å‘é‡åŒ–ï¼›èšåˆé¢†åŸŸçŸ¥è¯†åŠæ•°æ®ï¼Œåˆ©ç”¨ç®—æ³•ä¸­å°æŒ‰å„ä¸šåŠ¡åº”ç”¨åœºæ™¯è¿›è¡Œç®—æ³•æ¨¡å‹è°ƒä¼˜ï¼›ç»“åˆä¸šåŠ¡åœºæ™¯ç‰¹å¾ï¼Œç»Ÿä¸€æä¾›æ™ºèƒ½åŠ©æ‰‹ã€AI åº”ç”¨ã€ç®—æ³•èƒ½åŠ›ã€‚</p>
<p>å¦‚ä»Šï¼Œå…¬å¸ä»¥æµæ•°èåˆå’Œ AI èƒ½åŠ›æ¨¡å‹ä¸ºåŒè½®é©±åŠ¨æ ¸å¿ƒï¼Œé€æ­¥æ¨è¿›æ„¿æ™¯çš„å®ç°ï¼šä»å¯èˆªå…±åˆ›å¼€å§‹ï¼Œè®©ä¸šåŠ¡äººå‘˜äº†è§£ AI å·¥å…·å’Œåº”ç”¨åœºæ™¯ï¼›å†åˆ°ç‹¬ç«‹æ¢ç´¢ï¼Œé¼“åŠ±ä¸šåŠ¡äººå‘˜ç‹¬ç«‹å®ŒæˆåŸºç¡€åŠŸèƒ½çš„å¼€å‘ï¼›å†åˆ°æ·±åº¦å…±åˆ›é˜¶æ®µï¼Œè®©ä¸šåŠ¡äººå‘˜å’Œæµç¨‹ IT äººå‘˜åˆä½œå¼€å‘å¤æ‚åº”ç”¨ï¼›éšåæ¥åˆ°è‡ªä¸»å¼€å‘é˜¶æ®µï¼Œä¸šåŠ¡äººå‘˜èƒ½ç‹¬ç«‹å®Œæˆå¤æ‚åº”ç”¨çš„å¼€å‘ï¼›æœ€ç»ˆå®ç°ä¸šåŠ¡åˆ›æ–°ï¼Œä¸šåŠ¡äººå‘˜èƒ½å¤Ÿé€šè¿‡ AI å·¥å…·æ¥ä¸»åŠ¨å‘ç°å’Œè§£å†³ä¸šåŠ¡æ–°é—®é¢˜ï¼Œå®ç° AI é£è½®æ„¿æ™¯ã€‚</p>
<p>å±•æœ› 2026 å¹´å…¬å¸çš„å‘å±•é‡ç‚¹ï¼ŒAI é£è½®åŸºäºæµæ•°èåˆï¼Œå¢å¼ºä¸šåŠ¡åŠæµç¨‹ IT åŒè½®é©±åŠ¨çš„ AI äººæ‰åŸ¹å…»å’Œé£è½®é‚¦è¿ä½œæœºåˆ¶ï¼Œè®©ä¸šåŠ¡æ–¹è‡ªä¸»æ„å»º AI åŠ©æ‰‹ï¼Œå®ç°ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹æ‹‰é€šçš„ AI æ™ºèƒ½ä½“ã€‚ä» AI åŠ©æ‰‹åˆ° AI åŒäº‹ï¼Œç›®æ ‡åœ¨ 2026 å¹´å®ç°â€œAI å‘˜å·¥â€åœ¨ä¸€äº›æµç¨‹çš„è‡ªä¸»å·¥ä½œï¼Œèµ‹èƒ½ä¸šåŠ¡å‘å±•ã€‚</p>
<h2 data-id="heading-5"><strong>ä»·å€¼è½åœ°ï¼šæ™ºèƒ½ä½“ä¸å¤§æ¨¡å‹çš„ä¼ä¸šçº§å®è·µä¸æ€è€ƒ</strong></h2>
<p><strong>æ”¯ç‚¹äº’åŠ¨æ¶ˆè´¹é›¶å”®è¡Œä¸šæ€»ç»ç†ã€å‰æ¨å›½ç¦ CTOã€è…¾è®¯äº‘TVP é™†ç¦å·</strong>å¸¦æ¥ã€Šä»·å€¼è½åœ°ï¼šæ™ºèƒ½ä½“ä¸å¤§æ¨¡å‹çš„ä¼ä¸šçº§å®è·µä¸æ€è€ƒã€‹çš„ä¸»é¢˜æ¼”è®²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d540b627a0745dea8d4fbc0e5e99052~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=xpaMxBTeZWFsXNjF8kOS0Xq4rA8%3D" alt="" loading="lazy"/></p>
<p>æ”¯ç‚¹äº’åŠ¨æ¶ˆè´¹é›¶å”®è¡Œä¸šæ€»ç»ç†ã€å‰æ¨å›½ç¦ CTOã€è…¾è®¯äº‘TVP é™†ç¦å·</p>
<p>é™†ç¦å·è§‚å¯Ÿåˆ°ï¼Œä¼ä¸šåœ¨è½åœ° AI è¿‡ç¨‹ä¸­å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼šä¸€æ˜¯ä¼ ç»Ÿæ•°å­—åŒ–èšç„¦è§£å†³å•ä¸€æˆ–å…·ä½“çš„ä¸šåŠ¡é—®é¢˜ï¼Œéš¾ä»¥å®ç°å¸‚åœºåé¦ˆå…¨é“¾è·¯ååŒä¸ç»†èŠ‚ç®¡ç†çš„çµæ´»è¡”æ¥ã€‚ä¾‹å¦‚ï¼Œå½“å®¢æˆ·åœ¨çº¿ä¸ŠæŠ•è¯‰æ—¶ï¼Œå¾€å¾€éœ€è·¨å¤šä¸ªä¸šåŠ¡åŸŸæ¥åˆ†æåŸå› ã€‚äºŒæ˜¯ä¸šè´¢æ•°æ®ååŒä¸è¶³ï¼Œå¯¼è‡´é’±æ•ˆæ„ŸçŸ¥æ»åã€‚å¦‚åœ¨è¥é”€æ´»åŠ¨ä¸­ï¼Œä¼ä¸šå¸Œæœ›åŸºäºç›¸å…³æ•°æ®æ¥è°ƒæ•´ç­–ç•¥ï¼Œä½†æ•°æ®åˆ†æ•£åœ¨ CDPã€ERP ç­‰å¤šä¸ªç³»ç»Ÿä¸­æ— æ³•å®ç°åŒé¢‘åé¦ˆã€‚ä¸‰æ˜¯å…¨ä»·å€¼é“¾ååŒä¸è¶³ï¼ŒC2Bã€B2Bã€B2S æ²¡æœ‰è´¯é€šã€‚</p>
<p>é™†ç¦å·è¡¨ç¤ºï¼Œå¤šæ•°ä¼ä¸šçš„æ•°å­—åŒ–è½¬å‹è§£å†³äº†â€œæœ‰æ— â€é—®é¢˜ï¼Œå´æ·±é™·äºâ€œå¥½ç”¨â€ä¸â€œä»·å€¼â€çš„æ³¥æ½­ã€‚æ•°æ®ã€æµç¨‹ä¸å†³ç­–çš„ä¸¥é‡å‰²è£‚ï¼Œå·²æˆä¸ºé˜»ç¢ä¼ä¸šè¿ˆå‘æœªæ¥å‘å±•çš„æ ¸å¿ƒæ·é”ã€‚çœŸæ­£çš„æ•°å­—åŒ–è½¬å‹ä¸æ˜¯ç®€å•åœ°è´­ä¹°è½¯ä»¶æˆ–ä¸Šäº‘ï¼Œè€Œæ˜¯è¦æ‰“é€šä¼ä¸šçš„â€œç¥ç»ç³»ç»Ÿâ€ï¼Œè®©æ•°æ®ã€æµç¨‹å’Œå†³ç­–å½¢æˆæœ‰æœºæ•´ä½“ã€‚</p>
<p>ä¼ä¸šçº§ AI Agent å°†æ‰®æ¼”ç»„ç»‡çš„â€œæ•°å­—ä¸­æ¢ç¥ç»ç³»ç»Ÿâ€ï¼Œè¿æ¥æ‰€æœ‰æ•°æ®ã€æµç¨‹ä¸äººå‘˜ï¼Œå°†ä¼ä¸šä»æœºæ¢°é›†åˆä½“å‡çº§ä¸ºèƒ½è‡ªæˆ‘è¿›åŒ–ã€æ•æ·å“åº”çš„â€œæ•°å­—ç”Ÿå‘½ä½“â€ã€‚æ™ºèƒ½ä½“åœ¨ä¼ä¸šå¯é è½åœ°çš„æœ¬è´¨ï¼Œæ˜¯â€œç”¨æ ‡å‡†åŒ–æµç¨‹é©¯æœå¤§æ¨¡å‹â€ï¼Œè€Œé¢†åŸŸçŸ¥è¯†çš„è´¨é‡ä¸å¯†åº¦ã€å¯é å·¥ç¨‹åŒ–ã€äººæœºååŒæ¶æ„ï¼Œæ˜¯ä¸‰å¤§ä¸å¯å¿½è§†çš„â€œåœ°åŸºå·¥ç¨‹â€ã€‚AI Agent çš„è½åœ°å¯åˆ†ä¸‰æ­¥èµ°ï¼šé¦–å…ˆï¼Œæ„å»ºç»Ÿä¸€çš„ä¼ä¸šçŸ¥è¯†åº“ä¸è®¤çŸ¥ä½“ç³»ï¼›å…¶æ¬¡ï¼Œæ¨åŠ¨ä»â€œäººæ‰¾æµç¨‹â€å‘â€œæµç¨‹æ‰¾äººâ€è½¬å˜ï¼›æœ€åï¼Œå®ç°ç»éªŒä¾èµ–åˆ°äººæœºååŒï¼Œé€šè¿‡æŒç»­åé¦ˆæœºåˆ¶ï¼Œä½¿æ™ºèƒ½ä½“éšä¼ä¸šå‘å±•è€Œä¸æ–­æ¼”è¿›ã€‚â€œä»–å¼ºè°ƒï¼Œä¼ä¸šä¸åº”ä»…å°† AI è§†ä¸ºå·¥å…·ï¼Œè€Œåº”å½“ä½œâ€œæ•°å­—å‘˜å·¥â€æˆ–â€œæ•°å­—ä¼™ä¼´â€ï¼Œç”¨ AI é‡å¡‘ä¼ä¸šç”Ÿäº§æ¨¡å¼ã€‚</p>
<p>ä»–æŒ‡å‡ºä¼ä¸šåœ¨ AI åº”ç”¨ä¸­çš„å¸¸è§è¯¯è§£ï¼šä¸€æ˜¯å°†å¤§æ¨¡å‹çš„é€šç”¨èƒ½åŠ›ç­‰åŒäºé¢†åŸŸä¸“é•¿ï¼Œå¿½è§†åµŒäºä¸šåŠ¡æµç¨‹çš„é¢†åŸŸçŸ¥è¯†éœ€ä¾èµ–ç²¾å¯†çš„çŸ¥è¯†å·¥ç¨‹ã€‚äºŒæ˜¯å°†æ¦‚ç‡æ€§è¾“å‡ºç­‰åŒäºç¡®å®šæ€§ç­”æ¡ˆï¼Œåº”ä¸ºé«˜ä»·å€¼å†³ç­–ä¿ç•™äººå·¥å®¡æ ¸ï¼Œä¸ºä½é£é™©åœºæ™¯æˆæƒè‡ªåŠ¨æ‰§è¡Œã€‚ä¸‰æ˜¯å°†æŠ€æœ¯è¿›æ­¥ç­‰åŒäºå•†ä¸šä»·å€¼ï¼Œä½†äºŒè€…ä¹‹é—´å­˜åœ¨è¾¹é™…æ•ˆç›Šé€’å‡çš„å…³ç³»ã€‚</p>
<p>ä»–ä»å®è·µä¸­æ€»ç»“äº† AI æ™ºèƒ½ä½“äº¤ä»˜å¿ƒå¾—ï¼šç”¨â€œç®¡ç†é—­ç¯â€å¯¹å†²â€œæŠ€æœ¯æ³¢åŠ¨â€ï¼›ç”¨â€œç¡®å®šæ€§â€çº¦æŸâ€œæ¦‚ç‡æ€§â€ï¼Œé€šè¿‡è§„èŒƒå·¥ä½œæµã€ä½œä¸šæµï¼Œå°†æ¨¡ç³Šæ¦‚ç‡è¾“å‡ºæ¡†å®šåœ¨æ ‡å‡†åŒ–æµç¨‹ï¼›è®©æ™ºèƒ½ä½“ä»â€œä¸“å®¶â€å˜â€œç†Ÿæ‰‹â€ï¼Œéœ€ä¼ä¸šä¸“å±æŠ€èƒ½åŸ¹è®­ï¼›æ¥å—å¤§æ¨¡å‹â€œä¸å®Œç¾â€çš„æœ¬è´¨ï¼Œè¶…å‡ºè¾¹ç•Œä¼šäº§ç”Ÿâ€œå¹»è§‰â€ï¼›ä¸ä¼ ç»Ÿä¿¡æ¯åŒ–çš„â€œè§„åˆ™å›ºåŒ–â€å­˜åœ¨ï¼Œæ›´å¼ºè°ƒâ€œçµæ´»é€‚é…â€ã€‚</p>
<p>é™†ç¦å·è¿˜åˆ†äº«äº†æ™ºèƒ½ä½“ AI è½åœ°æ¡ˆä¾‹ï¼ŒåŒ…æ‹¬æ™ºèƒ½ç‚¹å•åŠ©æ‰‹ã€VoC æ•°æ®æ™ºèƒ½åˆ†æåŠ©æ‰‹ã€é”€å”®å¸‚åœºåˆ†æåŠ©æ‰‹ã€ä¼ä¸šè´¨é‡åŠ©æ‰‹ã€ç ”å‘æ–‡æ¡£æŠ€æœ¯æ´å¯ŸåŠ©æ‰‹ã€ä¼ä¸šç”Ÿäº§æ•ˆç‡æ™ºèƒ½ä½“ã€å®¢æˆ·æœåŠ¡åŠ©æ‰‹ç­‰ã€‚</p>
<h2 data-id="heading-6"><strong>CMMMç ´è§£æ™ºèƒ½å·¥å‚å»ºè®¾éš¾é¢˜</strong></h2>
<p>ä¸­å›½ç”µå­æŠ€æœ¯æ ‡å‡†åŒ–ç ”ç©¶é™¢ä¸¤åŒ–èåˆç ”ç©¶å®¤ä¸»ä»» å¼ å·å‘è¡¨ã€ŠCMMM ç ´è§£æ™ºèƒ½å·¥å‚å»ºè®¾éš¾é¢˜ã€‹çš„ä¸»é¢˜æ¼”è®²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94d488c2e2bc4728937f64a5cafbc4af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=hyBgvYZ%2BGvuUHt25ZWixVLLWwPE%3D" alt="" loading="lazy"/></p>
<p>ä¸­å›½ç”µå­æŠ€æœ¯æ ‡å‡†åŒ–ç ”ç©¶é™¢ä¸¤åŒ–èåˆç ”ç©¶å®¤ä¸»ä»» å¼ å·</p>
<p>æ™ºèƒ½åˆ¶é€ ä½œä¸ºâ€œä¸­å›½åˆ¶é€  2025â€æˆ˜ç•¥çš„æ ¸å¿ƒæ–¹å‘ï¼Œåå¹´æ¥å·²ä»è¯•ç‚¹ç¤ºèŒƒèµ°å‘æ™®åŠã€‚æ™ºèƒ½å·¥å‚ä½œä¸ºæ™ºèƒ½åˆ¶é€ çš„é‡è¦è½½ä½“ï¼Œä¹Ÿæ˜¯å…ˆè¿›åˆ¶é€ æŠ€æœ¯ã€å…ˆè¿›ç®¡ç†ç†å¿µåŠ AIã€æ•°å­—å­ªç”Ÿç­‰æ–°å…´æŠ€æœ¯åº”ç”¨çš„ä¸»æˆ˜åœºã€‚ç›®å‰ï¼Œä¼ä¸šåœ¨æ¨è¿›æ–°ä¸€ä»£æ™ºèƒ½å·¥å‚å»ºè®¾è¿‡ç¨‹ä¸­é¢ä¸´â€œä¸ä¼šå»ºã€ä¸æ•¢å»ºã€ä¸èƒ½å»ºâ€çš„å›°å¢ƒï¼Œæ ¹æºä¹‹ä¸€åœ¨äºæ ‡å‡†ä½“ç³»ç¼ºå¤±ï¼Œåªæœ‰åŸºäºæ ‡å‡†æ‰èƒ½ç§‘å­¦åˆç†åœ°æ¨è¿›æ™ºèƒ½åŒ–è½¬å‹å‡çº§ã€‚</p>
<p>æ ‡å‡†åŒ–éµå¾ªâ€œç»Ÿä¸€ã€ç®€åŒ–ã€ä¼˜é€‰ã€åè°ƒâ€ä¸ºåŸåˆ™ï¼šâ€œç»Ÿä¸€â€æ˜¯é€šè¿‡åˆ¶å®šæœ¯è¯­ã€å‚è€ƒæ¶æ„ç­‰æ ‡å‡†ï¼Œæ”¯æ’‘äº§ä¸šç•Œå½¢æˆç»Ÿä¸€çš„è®¤è¯†å’Œæ–¹æ³•è®ºï¼›â€œç®€åŒ–â€æ˜¯é€šè¿‡æˆç†Ÿåº¦æ¨¡å‹ç­‰æ ‡å‡†çªå‡ºé‡ç‚¹ã€åˆ ç¹å°±ç®€ï¼Œæä¾›ç®€æ´æœ‰æ•ˆçš„è½¬å‹æµç¨‹ï¼›â€œä¼˜é€‰â€æ˜¯å‘å¸ƒç›¸å…³æŒ‡å—ã€é€‰å‹è¦æ±‚ç­‰æ ‡å‡†ï¼Œæ”¯æ’‘ä¼ä¸šçš„æœ€ä½³å®è·µï¼›â€œåè°ƒâ€æ˜¯æ„å»ºå…¨é¢æ ‡å‡†ä½“ç³»ï¼ŒåŠ å¼ºå„æ ‡å‡†ä¹‹é—´çš„ååŒã€‚</p>
<p>2020 å¹´ï¼Œé¦–æ‰¹å›½å®¶æ™ºèƒ½åˆ¶é€ æ ‡å‡†æ­£å¼å‘å¸ƒï¼ŒåŒ…æ‹¬ã€Šæ™ºèƒ½åˆ¶é€ èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ã€‹ï¼ˆChina Manufacturing Maturity Model, CMMMï¼Œæ ‡å‡†å·GB/T 39116-2020ï¼‰å’Œã€Šæ™ºèƒ½åˆ¶é€ èƒ½åŠ›æˆç†Ÿåº¦è¯„ä¼°æ–¹æ³•ã€‹ï¼ˆMaturity Assessment Method of Intelligent Manufacturing Capabilityï¼Œæ ‡å‡†å·GB/T 39117-2020ï¼‰ã€‚è¿™ä¸¤é¡¹æ ‡å‡†æ—¨åœ¨è§£å†³åˆ¶é€ ä¼ä¸šæ™ºèƒ½åŒ–æ”¹é€ å’Œå»ºè®¾çš„é—®é¢˜ï¼ŒæŒ‡å¯¼ä¼ä¸šåˆ†æ­¥å»ºç«‹æ ¸å¿ƒèƒ½åŠ›ã€‚é€šè¿‡ä»¥ä¸Šæ ‡å‡†ï¼Œé¦–æ¬¡å°†â€œèƒ½åŠ›æˆç†Ÿåº¦â€å¼•å…¥åˆ¶é€ ä¸šï¼Œæ˜ç¡®æ™ºèƒ½åˆ¶é€ äº”ä¸ªé˜¶æ¢¯å¼æå‡è·¯å¾„ï¼šä¸€çº§ä¸ºæµç¨‹åŒ–ç®¡ç†ï¼ŒäºŒçº§ä¸ºæ•°å­—åŒ–æ”¹é€ ï¼Œä¸‰çº§ä¸ºç½‘ç»œåŒ–é›†æˆï¼Œå››çº§ä¸ºæ™ºèƒ½åŒ–ç”Ÿäº§ï¼Œäº”çº§ä¸ºäº§ä¸šé“¾åˆ›æ–°ã€‚è¯¥æ ‡å‡†ç»†åŒ–äº† 228 é¡¹å…·ä½“èƒ½åŠ›è¦æ±‚ï¼Œä¸ºä¼ä¸šæ™ºèƒ½åˆ¶é€ å»ºè®¾æä¾›äº†æ¸…æ™°çš„è·¯å¾„å›¾ã€‚</p>
<p>è‡ªè¿™ä¸¤é¡¹æ ‡å‡†å‘å¸ƒä»¥æ¥ï¼Œæˆªè‡³ç›®å‰ï¼Œå…¨å›½æœ‰ 15 ä¸‡å®¶ä¼ä¸šå‚è€ƒæ ‡å‡†é€šè¿‡çº¿ä¸Šå¹³å°è¿›è¡Œè‡ªè¯„ï¼Œ1500 å®¶ä¼ä¸šè¿›è¡Œç°åœºè¯„ä¼°ã€‚CMMM æ ‡å‡†æ”¯æ’‘å…«ä¸ªé‡ç‚¹è¡Œä¸šçš„æ•°å­—åŒ–è½¬å‹å®æ–½ï¼Œå¼•å¯¼å›½å†…å¤–åˆ¶é€ ä¼ä¸šè¿ç”¨æ ‡å‡†æ¥è§£å†³æ™ºèƒ½å·¥å‚å»ºè®¾éš¾é¢˜ï¼ŒåŠ é€Ÿä¼ä¸šè½¬å‹æ­¥ä¼ã€‚ç›®å‰ï¼Œæ™ºèƒ½åˆ¶é€ èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹æ ‡å‡†ä¸ºä¸»ç®¡éƒ¨é—¨å¼€å±•æ™ºèƒ½å·¥å‚åˆ†çº§è¯„ä»·ä¸ä¼˜ä¸­é€‰ä¼˜æä¾›äº†ç»Ÿä¸€çš„è¡¡é‡æ ‡å°ºï¼Œä¸ºåˆ¶é€ ä¼ä¸šæä¾›æ–¹æ³•è®ºå’Œè·¯å¾„æŒ‡å¼•ï¼ŒæŒ‡å¯¼ä¼ä¸šæœ‰åºå¼€å±•æ™ºèƒ½å·¥å‚å»ºè®¾ã€‚</p>
<h2 data-id="heading-7"><strong>AIæŠ€æœ¯èµ‹èƒ½MOMè¿è¥ç²¾å‡†ç®¡æ§</strong></h2>
<p><strong>ä¸­å›½æµ·è¯šæ™ºèƒ½åˆ¶é€ äº‹ä¸šéƒ¨æ€»å·¥ç¨‹å¸ˆ æœ±å‰‘é’</strong>åˆ†äº«ã€ŠAI æŠ€æœ¯èµ‹èƒ½ MOM è¿è¥ç²¾å‡†ç®¡æ§ã€‹çš„æ¼”è®²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f691523d00a244e287eb5792cbea9786~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=RAkWFKnO0ecNFxLqA8zW7RAoI8U%3D" alt="" loading="lazy"/></p>
<p>ä¸­å›½æµ·è¯šæ™ºèƒ½åˆ¶é€ äº‹ä¸šéƒ¨æ€»å·¥ç¨‹å¸ˆ æœ±å‰‘é’</p>
<p>åœ¨æ”¿ç­–æ¨åŠ¨ã€å¸‚åœºç«äº‰ã€ä¼ä¸šå†…ç”Ÿéœ€æ±‚ã€æŠ€æœ¯å‘å±•ç­‰å¤šé‡å› ç´ é©±åŠ¨ä¸‹ï¼Œäººå·¥æ™ºèƒ½æ­£æˆä¸ºåˆ¶é€ ä¸šè½¬å‹å‡çº§çš„æ ¸å¿ƒåŠ¨åŠ›ã€‚AI ä¸ºå·¥ä¸šæ™ºé€ å¸¦æ¥è¯¸å¤šåŠ©åŠ›ï¼šä¼˜ç§€ç®—æ³•é™ä½ç®—åŠ›éœ€æ±‚ï¼Œæœªæ¥æ™ºèƒ½å·¥å‚å¯é€šè¿‡ç«¯ä¾§åˆ†å¸ƒå¼æ¶æ„å’Œå°æ¨¡å‹éƒ¨ç½²æ¥å®ç° AI è½åœ°ï¼›æå‡æ„ŸçŸ¥èƒ½åŠ›ï¼Œå€ŸåŠ©ç”Ÿæˆå¼ AI æŠ€æœ¯æ¥è§£å†³ç¨€ç–æ ·æœ¬ä¸‹æ•°æ®åˆæˆï¼Œæœ‰åˆ©äºè¡¥å…¨æ•°æ®ç»´åº¦ï¼Œå®ç°æ„ŸçŸ¥ç¡¬ä»¶è¯†åˆ«å†³ç­–èƒ½åŠ›çš„æå‡ï¼›æ™ºé€ æ–°èŒƒå¼ï¼Œä¼ ç»Ÿè½¯ä»¶å¼äº¤äº’å°†è½¬å˜ä¸ºä»¥ Agent ä¸ºä»£è¡¨çš„è¾…åŠ©å†³ç­–æ”¯æŒå¼äº¤äº’ã€‚</p>
<p>AI ä½¿å¾—æ™ºèƒ½å·¥å‚ä»æŠ€æœ¯åº•å±‚åˆ°äº¤äº’é€»è¾‘å…¨é¢å‡çº§ï¼Œæœªæ¥çš„å·¥å‚æ˜¯æ•°å­—å­ªç”Ÿå·¥å‚ï¼ŒåŸºäº AI åŸç”Ÿçš„æ•°æ®ç®—æ³•ä¸­å°å’Œæ•°æ®åº•åº§ï¼Œæ¥å®ç°å„ç§å·¥ä¸šæ™ºèƒ½ä½“å’Œå·¥ä¸šåº”ç”¨åœºæ™¯çš„è½åœ°ã€‚</p>
<p>è¿‡å»ï¼Œä¼ ç»Ÿ MESï¼ˆåˆ¶é€ æ‰§è¡Œç³»ç»Ÿï¼‰ä¸»è¦å›´ç»•ç”Ÿäº§æ‰§è¡Œç¯èŠ‚ï¼Œç”¨äºè½¦é—´å±‚çš„äººã€æœºã€æ–™ã€æ³•ã€ç¯çš„ç®¡ç†ï¼Œä½†å­˜åœ¨ä¿¡æ¯å­¤å²›ã€åŠŸèƒ½èŒƒå›´ç‹­çª„ã€ç³»ç»ŸåƒµåŒ–æŸ”æ€§å·®ã€æ•°æ®ä»·å€¼æŒ–æ˜ä¸è¶³ç­‰å±€é™ï¼Œéš¾ä»¥æ”¯æ’‘ç°ä»£è½»å·¥ã€æ¶ˆè´¹å“ç­‰è¡Œä¸šå¿«é€Ÿå“åº”å¸‚åœºå˜åŒ–ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæ–°ä¸€ä»£ MOMï¼ˆåˆ¶é€ è¿è¥ç®¡ç†ï¼‰æ„å»ºç»Ÿä¸€çš„åˆ¶é€ è¿è¥å¹³å°ï¼Œä»åŸæ¥ MES çš„â€œè½¦é—´æ ¸å¿ƒâ€åˆ°â€œè¿è¥å…¨åŸŸâ€ï¼Œä»çƒŸå›±ç³»ç»Ÿåˆ°ç»Ÿä¸€å¹³å°ï¼Œä»æµç¨‹é©±åŠ¨åˆ°æ•°æ®é©±åŠ¨ã€‚æ­¤å¤–ï¼ŒMOM å—åˆ° ISA95 ç­‰å›½é™…æ ‡å‡†çš„æ˜ç¡®å®šä¹‰ï¼Œæä¾›é€šç”¨çš„æ¨¡å‹å’Œæœ¯è¯­ã€‚</p>
<p>äººå·¥æ™ºèƒ½æ—¶ä»£ï¼ŒAI ä¸ MOM çš„æ·±åº¦èåˆï¼Œä»åº•å±‚æ¶æ„ã€äº¤äº’æ–¹å¼åˆ°å†³ç­–æ¨¡å¼çš„å…¨æ–¹ä½é©æ–°ï¼Œå˜æˆâ€œæ™ºèƒ½è¿è¥å¤§è„‘â€ã€‚åœ¨æ ¸å¿ƒèƒ½åŠ›ä¸Šï¼Œä»åŸæ¥çš„è®°å½•ã€æ‰§è¡Œå‘å±•ä¸ºæ‹¥æœ‰æ„ŸçŸ¥ã€é¢„æµ‹ã€ä¼˜åŒ–ã€è‡ªä¸»å†³ç­–çš„èƒ½åŠ›ï¼›åœ¨äº¤äº’æ–¹å¼ä¸Šï¼Œé‡‡ç”¨è‡ªç„¶è¯­è¨€å¯¹è¯ï¼Œé€šè¿‡æ™ºèƒ½å‰¯é©¾é©¶è¾…åŠ©å‘˜å·¥è¿›è¡Œè¿è¥ç®¡æ§ï¼›åœ¨å†³ç­–ä¾æ®ä¸Šï¼Œé‡‡ç”¨æ•°æ®é©±åŠ¨æ´å¯Ÿï¼Œé€šè¿‡ AI æ¨¡å‹åšç›¸å…³å·¥è‰ºå‚æ•°æ¨èï¼›åœ¨çŸ¥è¯†ç®¡ç†ä¸Šï¼Œæ„å»ºåŠ¨æ€çŸ¥è¯†å›¾è°±ï¼Œæ­å»ºé›†ä¸­ã€å¯é—®ç­”çš„â€œæ´»â€çŸ¥è¯†åº“ï¼›åœ¨ç³»ç»Ÿæ•æ·ä¸Šï¼Œä»¥ä½ä»£ç ã€AI ç”Ÿæˆç­‰æ–¹å¼ï¼Œæ•æ·å“åº”ä¸šåŠ¡å˜åŒ–ã€‚ç›®å‰ï¼Œ AI+MOM çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬æ™ºèƒ½è´¨é‡ç®¡æ§ã€åŠ¨æ€ç”Ÿäº§è°ƒåº¦ã€èƒ½æºç®¡ç†ä¼˜åŒ–ã€ç‰©æµä»“å‚¨ä¼˜åŒ–ç­‰ã€‚</p>
<p>ä¼ä¸šåœ¨è¦æƒ³å°† AI çœŸæ­£åœ°èå…¥ MOM ç³»ç»Ÿï¼Œæœ±å‰‘é’å»ºè®®é‡‡ç”¨å¾ªåºæ¸è¿›çš„æ–¹å¼ï¼šé¦–å…ˆå¤¯å®æ•°æ®åº•åº§ï¼Œå®ç°ç”Ÿäº§ã€è®¾å¤‡ã€è´¨é‡ç­‰å…¨åŸŸæ•°æ®çš„é‡‡é›†ä¸è´¯é€šï¼›å…¶æ¬¡èšç„¦é«˜ä»·å€¼åœºæ™¯è¯•ç‚¹ï¼Œé¿å…â€œå¤§è€Œå…¨â€çš„å¼€å§‹ã€‚å†é€æ­¥å°† AI èƒ½åŠ›ä»¥æ¨¡å—åŒ–ã€å¾®æœåŠ¡çš„æ–¹å¼é€æ­¥åµŒå…¥ MOM çš„æ ¸å¿ƒä¸šåŠ¡æµç¨‹ï¼Œå¹¶æ¨åŠ¨å…¶ä¸ ERPã€PLM ç­‰ç³»ç»Ÿçš„æ·±åº¦é›†æˆã€‚æœ€åï¼Œå…³æ³¨ç»„ç»‡ä¸å‘˜å·¥æŠ€èƒ½æå‡ï¼Œè®©å‘˜å·¥ç†è§£å¹¶ä¿¡ä»» AI çš„å»ºè®®ä¸å†³ç­–ã€‚</p>
<h2 data-id="heading-8"><strong>è…¾è®¯äº‘å¤§æ•°æ®DIaaSå¹³å°ï¼šé©±åŠ¨è¡Œä¸šæ™ºèƒ½åŒ–è½¬å‹çš„Data+AIæ–°å¼•æ“</strong></h2>
<p><strong>è…¾è®¯äº‘å¤§æ•°æ®åŸºç¡€äº§å“æ€»ç»ç† ç¨‹å½¬</strong>å¸¦æ¥ã€Šè…¾è®¯äº‘å¤§æ•°æ® DIaaS å¹³å°ï¼šé©±åŠ¨è¡Œä¸šæ™ºèƒ½åŒ–è½¬å‹çš„Data + AI æ–°å¼•æ“ã€‹çš„æ¼”è®²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ba348237b1240a3ad5d7b6172b84f9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766741406&amp;x-signature=u0EWj8py3SSzNbrwPWp9lUBsN%2B4%3D" alt="" loading="lazy"/></p>
<p>è…¾è®¯äº‘å¤§æ•°æ®åŸºç¡€äº§å“æ€»ç»ç† ç¨‹å½¬</p>
<p>åœ¨æ¢è®¨ AI è½åœ°çš„è¿‡ç¨‹ä¸­ï¼Œå¤§æ¨¡å‹çš„èƒ½åŠ›å›ºç„¶é‡è¦ï¼Œä½†å…¶èƒŒåç¦»ä¸å¼€é«˜è´¨é‡æ•°æ®çš„æ”¯æŒï¼Œæ•°æ®æ˜¯å¤§æ¨¡å‹çš„â€œç‡ƒæ–™â€ã€‚ç¨‹å½¬è¡¨ç¤ºï¼Œä¼ä¸šæ‹¥æœ‰å¤§é‡ä¸šåŠ¡æ•°æ®ï¼Œå¦‚ä½•å‘æŒ¥è¿™äº›æ•°æ®çš„ä»·å€¼æ˜¯å…³é”®ã€‚é«˜ä»·å€¼æ•°æ®èµ„äº§å¹¶é â€œæ•°æ®çš„ç®€å•å †ç Œâ€ï¼Œè€Œæ˜¯ç»æ²»ç†ã€å¯å¤ç”¨ã€èƒ½é©±åŠ¨å†³ç­–çš„æ ¸å¿ƒç”Ÿäº§è¦ç´ ï¼Œç›´æ¥å†³å®šæ•°å­—åŒ–è½¬å‹çš„æ·±åº¦ä¸æˆæ•ˆã€‚é«˜è´¨é‡æ•°æ®å¯é©±åŠ¨å†³ç­–æ¨¡å¼å‡çº§ï¼Œæå‡ä¸šåŠ¡æ•ˆç‡ï¼ŒæŒ–æ˜å¢é‡ä¸šåŠ¡ä»·å€¼ã€‚</p>
<p>ç„¶è€Œï¼Œä¼ ç»Ÿè¡Œä¸šåœ¨æ„å»ºé«˜è´¨é‡æ•°æ®èµ„äº§æ—¶é¢ä¸´ä»¥ä¸‹å››å¤§æŒ‘æˆ˜ï¼šæŠ€æœ¯è¿½èµ¶å›°éš¾ï¼ŒData+AI æŠ€æœ¯è¿­ä»£é€Ÿåº¦å¿«ï¼ŒæŠ€æœ¯ç”Ÿå‘½å‘¨æœŸç¼©çŸ­ï¼›æ•°æ®åˆ†æ•£ï¼Œä¼ ç»Ÿåˆ¶é€ ä¸šã€é›¶å”®ä¸šå­˜åœ¨æ•°æ®å­¤å²›é—®é¢˜ï¼Œå„ä¸šåŠ¡åŸŸæ•°æ®æ— æ³•æœ‰æ•ˆäº’é€šï¼Œæ•´åˆéš¾åº¦å¤§ã€‚å¤šæ¨¡æ€æ•°æ®å¤„ç†ï¼Œä¼ ç»Ÿæ•°æ®å¤„ç†æ–¹æ³•æ— æ³•åº”å¯¹å›¾ç‰‡ã€éŸ³è§†é¢‘ç­‰å¤šæ¨¡æ€æ•°æ®çš„é«˜æ•ˆå¤„ç†éœ€æ±‚ã€‚äººæ‰çŸ­ç¼ºï¼Œç¼ºå°‘ Data+AI çš„å¤åˆå‹äººæ‰ã€‚</p>
<p>ä¸ºåº”å¯¹ä¸Šè¿°æŒ‘æˆ˜ï¼Œè…¾è®¯äº‘æ‰“é€ æ–°ä¸€ä»£æ•°æ®æ™ºèƒ½å¹³å° DIaaSï¼ˆData Intelligence as a Serviceï¼‰ã€‚è¯¥å¹³å°å¼ºè°ƒ Data ä¸ AI æŠ€æœ¯çš„å¯ç»„è£…æ€§ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†å¤šæ¨¡æ€æ•°æ®å¤„ç†ã€AI æ¨¡å‹ã€Data Agent çš„â€œæ™ºèƒ½æ“ä½œç³»ç»Ÿâ€ã€‚DIaaS å°†å¼•æ“ã€æ¨¡å‹ç­‰è§£è€¦ä¸ºæ ‡å‡†åŒ–æ¨¡å—ï¼ŒéšæŠ€æœ¯è¿­ä»£å¿«é€Ÿæ›´æ¢ï¼›æä¾›ç»Ÿä¸€æ¹–ä»“åº•åº§ï¼Œæ‰“ç ´æ•°æ®å­¤å²›ï¼›å†…åµŒå¤šæ¨¡æ€æ•°æ®å¤„ç†ã€åˆ†æèƒ½åŠ›ï¼Œæ— ç¼ä¸å¤§æ¨¡å‹æœåŠ¡æ‰“é€šï¼›å†…ç½® Agentic Analyticsï¼Œå¯ååŒå¼€å‘å„ç±» Data+AI åº”ç”¨ã€‚</p>
<p>DIaaS æ‰“é€šâ€œä» Data åˆ° AIâ€çš„ä»·å€¼é“¾ï¼Œæœ‰æ•ˆé™ä½æŠ€æœ¯é—¨æ§›ï¼Œæå‡æ•æ·æ€§ï¼Œå¿«é€Ÿå“åº”ä¸šåŠ¡å˜åŒ–ã€‚ç¨‹å½¬å¼ºè°ƒï¼ŒDIaaS ä¸æ˜¯ä¸€å¥—å·¥å…·è€Œæ˜¯ä¸€ç§èƒ½åŠ›ï¼šè®©æ•°æ®æ™ºèƒ½çœŸæ­£æˆä¸ºè§¦æ‰‹å¯åŠçš„â€œæ°´ã€ç”µã€ç…¤â€ã€‚ç›®å‰ï¼ŒDIaaS å·²åœ¨å…·èº«æœºå™¨äººã€æ–°èƒ½æºæ±½è½¦ã€é›¶å”®å•†è¶…ç­‰é¢†åŸŸè½åœ°ï¼Œå¹¶åœ¨ç”µå•†ã€é‡‘èã€æ™ºèƒ½åˆ¶é€ ç­‰æ›´å¤šè¡Œä¸šæ‹“å±•åº”ç”¨åœºæ™¯ã€‚</p>
<p>ç¨‹å½¬è¡¨ç¤ºï¼ŒDIaaS çš„å»ºè®¾æ˜¯ä¸€ä¸ªé•¿æœŸè€Œç³»ç»Ÿçš„å·¥ç¨‹ï¼Œéœ€è¦è¡Œä¸šååŒã€å…±åŒæ¢ç´¢ã€‚å±•æœ›æœªæ¥ï¼ŒDIaaS æ‰“é€ å¼€æ”¾ç”Ÿæ€ï¼šé€šè¿‡å¼€æ”¾ API æˆ– MCP åè®®ç­‰å½¢å¼ï¼Œä¾¿äºä¼ä¸šå°†å…¶é›†æˆåˆ°ä¸åŒè¡Œä¸šçš„ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œå…±å»ºæ•°æ®æ™ºèƒ½æœåŠ¡ç”Ÿæ€ï¼›å¼ºåŒ– AI èåˆèƒ½åŠ›ï¼Œåœ¨å¤šæ¨¡æ€å¤§æ¨¡å‹ã€å…·èº«æ™ºèƒ½ç­‰é¢†åŸŸæŒç»­å‘å±•ï¼›æå‡å¹³å°çš„è‡ªæ²»èƒ½åŠ›ï¼Œä»è‡ªæˆ‘ä¼˜åŒ–åˆ°è‡ªæˆ‘ä¿®å¤ã€è‡ªæˆ‘è¿›åŒ–ï¼Œç¡®ä¿ä¼ä¸šä¸šåŠ¡å¹³ç¨³è¿è¡Œã€‚</p>
<h2 data-id="heading-9"><strong>åˆ†ç»„è„‘æš´ï¼Œè§‚ç‚¹PK</strong></h2>
<p>é™¤äº†ä»¥ä¸Šå¹²è´§æ»¡æ»¡çš„ä¸»é¢˜åˆ†äº«å¤–ï¼Œè…¾è®¯äº‘ TVP ç³»åˆ—æ´»åŠ¨æ³¨é‡äº’åŠ¨äº¤æµï¼Œæœ¬æ¬¡æ´»åŠ¨ç‰¹è®¾åˆ†ç»„è®¨è®ºï¼Œå¤´è„‘é£æš´ç¯èŠ‚ã€‚æ•°åä½æ¥è‡ªä¸åŒé¢†åŸŸçš„ä¸“å®¶åˆ†ä¸ºä¸åŒå°ç»„ï¼Œé’ˆå¯¹â€œé¢å¯¹äº§ä¸šåŒ– AI æµªæ½®ï¼Œä¼ä¸šåº”ä¼˜å…ˆâ€˜æ„å»ºè‡ªæœ‰çš„ AI æ ¸å¿ƒèƒ½åŠ›â€™ï¼Œè¿˜æ˜¯â€˜èå…¥å¼€æ”¾çš„äº§ä¸š AI ç”Ÿæ€â€™ä»¥å¯»æ±‚ååŒæ•ˆåº”ï¼Ÿâ€è¿™ä¸€ä¸å„ä¼ä¸šæ¯æ¯ç›¸å…³çš„è¯é¢˜ï¼Œæ­£ååŒæ–¹å±•å¼€ç§¯æè¾©è®ºï¼Œåˆ†äº«å„è‡ªçš„è§è§£å’Œå®é™…æ„Ÿå—ã€‚ç°åœºè®¨è®ºæ°”æ°›çƒ­çƒˆï¼Œç‚¹ç‡ƒåˆ›æ–°ç«èŠ±ã€‚</p>
<h2 data-id="heading-10"><strong>ç»“è¯­</strong></h2>
<p>åœ¨æœ¬æ¬¡ TVP AI åˆ›å˜ç ”è®¨ä¼šæœŸé—´ï¼Œä¸ä¼šä¸“å®¶å‚è§‚äº†ä¸­å›½æµ·è¯šè½»å·¥åšç‰©é¦†ï¼Œæ·±å…¥äº†è§£ä¸­å›½è½»å·¥ä¸šçš„å‘å±•å†ç¨‹ï¼Œå¹¶è§è¯æ•°æ™ºè½¬å‹çš„åˆ›æ–°è½åœ°å®è·µã€‚å„ä½å˜‰å®¾çš„ç²¾å½©åˆ†äº«ï¼Œå…¨é¢å‘ˆç°äº† AI æ—¶ä»£æ•°æ™ºæŠ€æœ¯å¦‚ä½•é©±åŠ¨äº§ä¸šæ–°è´¨ç”Ÿé•¿ï¼Œä¸ä»…ä¸ºå‚ä¼šè€…æä¾›äº†ä¸°å¯Œçš„å®è·µæ¡ˆä¾‹ï¼Œä¹Ÿä¸ºä¼ä¸šåœ¨ AI æ—¶ä»£çš„æˆ˜ç•¥å¸ƒå±€ä¸å‘å±•æä¾›äº†æœ‰åŠ›ä¾æ®ï¼ŒåŠ©åŠ›ä¼ä¸šåœ¨ AI æµªæ½®ä¸­åŠ é€Ÿåˆ›æ–°æ­¥ä¼ï¼Œå®ç°é«˜è´¨é‡å‘å±•ã€‚</p>
<p>è…¾è®¯äº‘ TVP å³å°†è¿æ¥ä¸ƒå‘¨å¹´ã€‚å±•æœ›æœªæ¥ï¼Œè…¾è®¯äº‘ TVP å°†ç»§ç»­ç§‰æŒâ€œç”¨ç§‘æŠ€å½±å“ä¸–ç•Œâ€çš„åˆå¿ƒï¼Œæºæ‰‹æ›´å¤šä¸“å®¶å¤§å’–èµ°è¿›ä¸åŒåŸå¸‚ã€ä¸åŒä¼ä¸šï¼Œå…±åŒæ¢ç´¢ AI æ—¶ä»£æ–°è´¨ç”Ÿäº§åŠ›çš„æ— é™å¯èƒ½ï¼Œä¸ºå¼€å‘è€…æœ‹å‹åˆ†äº«å¹²è´§æŠ€æœ¯ã€å‰æ²¿æ´å¯Ÿã€è½åœ°å®è·µï¼ŒçŒ®ä¸Šä¸€åœºç²¾å½©æœ‰æ–™ã€æœ‰è¶£ã€æœ‰ç”¨çš„æŠ€æœ¯ç››å®´ã€‚</p>
<p>TVPï¼Œå³è…¾è®¯äº‘æœ€å…·ä»·å€¼ä¸“å®¶(Tencent Cloud Valuable Professional)ï¼Œæ˜¯è…¾è®¯äº‘æˆäºˆäº‘è®¡ç®—é¢†åŸŸæŠ€æœ¯ä¸“å®¶çš„ä¸€ä¸ªå¥–é¡¹ã€‚TVP è‡´åŠ›æ‰“é€ ä¸è¡Œä¸šæŠ€æœ¯ä¸“å®¶çš„äº¤æµå¹³å°ï¼Œä¿ƒè¿›è…¾è®¯äº‘ä¸æŠ€æœ¯ä¸“å®¶å’Œç”¨æˆ·ä¹‹é—´çš„æœ‰æ•ˆæ²Ÿé€šï¼Œä»è€Œæ„å»ºäº‘è®¡ç®—æŠ€æœ¯ç”Ÿæ€ï¼Œå®ç°â€œç”¨ç§‘æŠ€å½±å“ä¸–ç•Œâ€çš„ç¾å¥½æ„¿æ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>