<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ä»é›¶ä¸Šæ‰‹ NestJS + PostgreSQLï¼šæ‰“é€ ç±»å‹å®‰å…¨ã€æ¨¡å—åŒ–çš„ä¼ä¸šçº§åç«¯æœåŠ¡]]></title>    <link>https://juejin.cn/post/7596905015367106560</link>    <guid>https://juejin.cn/post/7596905015367106560</guid>    <pubDate>2026-01-19T14:42:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596905015367106560" data-draft-id="7596869784538742784" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ä»é›¶ä¸Šæ‰‹ NestJS + PostgreSQLï¼šæ‰“é€ ç±»å‹å®‰å…¨ã€æ¨¡å—åŒ–çš„ä¼ä¸šçº§åç«¯æœåŠ¡"/> <meta itemprop="keywords" content="åç«¯,NestJS,TypeScript"/> <meta itemprop="datePublished" content="2026-01-19T14:42:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ €ç§‹666"/> <meta itemprop="url" content="https://juejin.cn/user/2566698322650307"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ä»é›¶ä¸Šæ‰‹ NestJS + PostgreSQLï¼šæ‰“é€ ç±»å‹å®‰å…¨ã€æ¨¡å—åŒ–çš„ä¼ä¸šçº§åç«¯æœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2566698322650307/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ €ç§‹666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:42:15.000Z" title="Mon Jan 19 2026 14:42:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ Node.js ç”Ÿæ€ä¸­ï¼ŒExpress è™½çµæ´»ä½†æ˜“â€œçƒ‚å°¾â€â€”â€”éšç€é¡¹ç›®è†¨èƒ€ï¼Œä»£ç é€æ¸å˜æˆâ€œæ„å¤§åˆ©é¢æ¡â€ã€‚è€Œ <strong>NestJS</strong> çš„å‡ºç°ï¼Œæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹ã€‚</p>
<p>å®ƒåŸºäº TypeScript æ„å»ºï¼Œèåˆäº† Angular çš„ä¾èµ–æ³¨å…¥ä¸æ¨¡å—åŒ–æ€æƒ³ï¼Œæä¾›äº†ä¸€å¥—<strong>ä¼ä¸šçº§çš„å¼€å‘èŒƒå¼</strong>ï¼šç»“æ„æ¸…æ™°ã€ç±»å‹å®‰å…¨ã€æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚æœ¬æ–‡å°†å¸¦ä½ ï¼š</p>
<p>âœ… ä»é›¶åˆå§‹åŒ–é¡¹ç›®<br/>
âœ… æ·±å…¥ç†è§£æ ¸å¿ƒä¸‰è¦ç´ ï¼ˆModule/Controller/Serviceï¼‰<br/>
âœ… å¿«é€Ÿé›†æˆ PostgreSQL å®ç°æŒä¹…åŒ–<br/>
âœ… å°è£…æ•°æ®åº“è¿æ¥å¹¶ä¿éšœå®‰å…¨æ€§<br/>
âœ… æŒæ¡å…³é”®è¯­æ³•ç³–ä¸å·¥ç¨‹åŒ–æŠ€å·§</p>
<p>å…¨ç¨‹é«˜èƒ½ï¼Œæ— åºŸè¯ï¼ŒåŠ©ä½ å¿«é€Ÿå†™å‡ºâ€œåˆ«äººçœ‹äº†éƒ½è¯´ä¸“ä¸šâ€çš„åç«¯ä»£ç ï¼</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ç¯å¢ƒå‡†å¤‡ &amp; åˆå§‹åŒ–é¡¹ç›®</h3>
<p>ç¡®ä¿å·²å®‰è£… Node.jsï¼ˆå»ºè®® v18+ LTSï¼‰ï¼Œç„¶åå…¨å±€å®‰è£… NestJS CLIï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g @nestjs/cli
</code></pre>
<p>åˆ›å»ºé¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">nest new nestjs-pg-demo
</code></pre>
<p>é€‰æ‹© <code>npm</code> æˆ–ä½ å–œæ¬¢çš„åŒ…ç®¡ç†å™¨ã€‚CLI è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†ç»“æ„ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">src/
â”œâ”€â”€ main.ts          <span class="hljs-comment"># å…¥å£æ–‡ä»¶</span>
â”œâ”€â”€ app.<span class="hljs-keyword">module</span>.ts    <span class="hljs-comment"># æ ¹æ¨¡å—</span>
â”œâ”€â”€ app.controller.ts
â””â”€â”€ app.service.ts
</code></pre>
<p>å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm run start:dev
</code></pre>
<p>è®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A3000" target="_blank" title="http://localhost:3000" ref="nofollow noopener noreferrer">http://localhost:3000</a> çœ‹åˆ° â€œHello Worldâ€ è¡¨ç¤ºæˆåŠŸï¼</p>
<p>ğŸ’¡ <strong>å°çŸ¥è¯†</strong>ï¼šNest é»˜è®¤ä½¿ç”¨ Express ä½œä¸ºåº•å±‚ HTTP å¼•æ“ï¼Œæ€§èƒ½è¶³å¤Ÿï¼›è‹¥è¿½æ±‚æè‡´æ€§èƒ½å¯åˆ‡æ¢ä¸º Fastifyï¼ˆé€šè¿‡ <code>@nestjs/platform-fastify</code>ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€NestJS ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µè¯¦è§£ï¼ˆå¿…æ‡‚ï¼ï¼‰</h3>
<p>NestJS éµå¾ªâ€œå…³æ³¨ç‚¹åˆ†ç¦»â€ï¼Œä¸‰å¤§ç»„ä»¶å„å¸å…¶èŒï¼š</p>

























<table><thead><tr><th>ç»„ä»¶</th><th>èŒè´£</th><th>ç±»æ¯”å‰ç«¯</th></tr></thead><tbody><tr><td>Module</td><td>åŠŸèƒ½æ¨¡å—å®¹å™¨ï¼Œç»„ç»‡ä»£ç å•å…ƒ</td><td>Vue ä¸­çš„æ¨¡å—åˆ’åˆ†</td></tr><tr><td>Controller</td><td>å¤„ç† HTTP è¯·æ±‚ï¼Œå®šä¹‰è·¯ç”±</td><td>è·¯ç”±æ§åˆ¶å™¨</td></tr><tr><td>Service</td><td>å°è£…ä¸šåŠ¡é€»è¾‘ï¼Œä¸å¤„ç†è¯·æ±‚</td><td>Vuex Store / Service å±‚</td></tr></tbody></table>
<h4 data-id="heading-3">âœ… ä½¿ç”¨ CLI å¿«é€Ÿç”Ÿæˆ Todo æ¨¡å—</h4>
<p>æˆ‘ä»¬æ¥åšä¸€ä¸ªç®€å•çš„ <code>todos</code> CRUD åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">nest g module todos      <span class="hljs-comment"># ç”Ÿæˆæ¨¡å—</span>
nest g controller todos --no-spec   <span class="hljs-comment"># æ§åˆ¶å™¨ï¼ˆè·³è¿‡æµ‹è¯•ï¼‰</span>
nest g service todos --no-spec      <span class="hljs-comment"># æœåŠ¡</span>
</code></pre>
<p>è‡ªåŠ¨ç”Ÿæˆçš„ <code>todos.module.ts</code> å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/todos/todos.module.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TodosController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./todos.controller'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TodosService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./todos.service'</span>;

<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">TodosController</span>],
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">TodosService</span>],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TodosModule</span> {}
</code></pre>
<p>è®°å¾—åœ¨ <code>AppModule</code> ä¸­å¯¼å…¥å®ƒï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/app.module.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.controller'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.service'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TodosModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./todos/todos.module'</span>;

<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">TodosModule</span>], <span class="hljs-comment">// âœ… å¯¼å…¥åŠŸèƒ½æ¨¡å—</span>
  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">AppController</span>],
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">AppService</span>],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppModule</span> {}
</code></pre>
<p>ğŸ“Œ <strong>é‡ç‚¹ç†è§£</strong>ï¼š</p>
<ul>
<li><code>@Module()</code> è£…é¥°å™¨æ˜¯æ•´ä¸ªåº”ç”¨çš„â€œç»„è£…å™¨â€</li>
<li><code>imports</code>: å¼•å…¥å…¶ä»–æ¨¡å—</li>
<li><code>controllers</code>: å½“å‰æ¨¡å—æš´éœ²çš„è·¯ç”±</li>
<li><code>providers</code>: å¯è¢«æ³¨å…¥çš„æœåŠ¡ï¼ˆæ”¯æŒ DIï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-4">ä¸‰ã€å…ˆåšå†…å­˜ç‰ˆ CRUD â€”â€” å¿«é€ŸéªŒè¯æµç¨‹</h3>
<p>ä¸ºäº†å…ˆè·‘é€šé€»è¾‘ï¼Œæˆ‘ä»¬å…ˆç”¨æ•°ç»„æ¨¡æ‹Ÿæ•°æ®å­˜å‚¨ã€‚</p>
<h4 data-id="heading-5">1. å®šä¹‰æ¥å£ &amp; åˆ›å»º Service</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/todos/todos.service.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Todo</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">completed</span>: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TodosService</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">todos</span>: <span class="hljs-title class_">Todo</span>[] = [{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹  NestJS'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> }];
  <span class="hljs-keyword">private</span> idCounter = <span class="hljs-number">2</span>;

  <span class="hljs-title function_">findAll</span>(): <span class="hljs-title class_">Todo</span>[] {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>;
  }

  <span class="hljs-title function_">create</span>(<span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Todo</span> {
    <span class="hljs-keyword">const</span> todo = { <span class="hljs-attr">id</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">idCounter</span>++, title, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">push</span>(todo);
    <span class="hljs-keyword">return</span> todo;
  }

  <span class="hljs-title function_">delete</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">id</span> === id);
    <span class="hljs-keyword">if</span> (index === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
}
</code></pre>
<p>ğŸ“Œ <code>@Injectable()</code> æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p>å®ƒæ ‡è®°è¿™ä¸ªç±»å¯ä»¥è¢« Nest çš„ä¾èµ–æ³¨å…¥ç³»ç»Ÿç®¡ç†ã€‚å³ä½¿æ²¡æ˜¾å¼å†™ <code>@Injectable()</code>ï¼Œåªè¦è¢«æ¨¡å—å¼•ç”¨ä¹Ÿèƒ½å·¥ä½œï¼Œä½†åŠ ä¸Šæ›´è§„èŒƒï¼Œå°¤å…¶å½“ä½ éœ€è¦ç”¨åˆ°æ³¨å…¥å…¶ä»–æœåŠ¡æ—¶ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-6">2. ç¼–å†™ Controller æ¥æ”¶è¯·æ±‚</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/todos/todos.controller.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Controller</span>, <span class="hljs-title class_">Get</span>, <span class="hljs-title class_">Post</span>, <span class="hljs-title class_">Body</span>, <span class="hljs-title class_">Delete</span>, <span class="hljs-title class_">Param</span>, <span class="hljs-title class_">ParseIntPipe</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TodosService</span>, <span class="hljs-title class_">Todo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./todos.service'</span>;

<span class="hljs-meta">@Controller</span>(<span class="hljs-string">'todos'</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TodosController</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> todosService: TodosService</span>) {}

  <span class="hljs-meta">@Get</span>()
  <span class="hljs-title function_">getAll</span>(): <span class="hljs-title class_">Todo</span>[] {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">todosService</span>.<span class="hljs-title function_">findAll</span>();
  }

  <span class="hljs-meta">@Post</span>()
  <span class="hljs-title function_">add</span>(<span class="hljs-meta">@Body</span>(<span class="hljs-string">'title'</span>) <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Todo</span> {
    <span class="hljs-keyword">if</span> (!title?.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ ‡é¢˜ä¸èƒ½ä¸ºç©º'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">todosService</span>.<span class="hljs-title function_">create</span>(title);
  }

  <span class="hljs-meta">@Delete</span>(<span class="hljs-string">':id'</span>)
  <span class="hljs-title function_">remove</span>(<span class="hljs-params"><span class="hljs-meta">@Param</span>(<span class="hljs-string">'id'</span>, ParseIntPipe) id: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">success</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">todosService</span>.<span class="hljs-title function_">delete</span>(id) };
  }
}
</code></pre>
<p>ğŸ¯ å…³é”®è¯­æ³•è§£æï¼š</p>





























<table><thead><tr><th>è£…é¥°å™¨</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>@Controller('todos')</code></td><td>å®šä¹‰åŸºç¡€è·¯å¾„ <code>/todos</code></td></tr><tr><td><code>@Get()</code> â†’ <code>GET /todos</code></td><td>è·å–åˆ—è¡¨</td></tr><tr><td><code>@Post()</code> â†’ <code>POST /todos</code></td><td>æ·»åŠ ä»»åŠ¡</td></tr><tr><td><code>@Body('title')</code></td><td>æå– JSON è¯·æ±‚ä½“ä¸­çš„å­—æ®µ</td></tr><tr><td><code>@Param('id', ParseIntPipe)</code></td><td>è‡ªåŠ¨å°† URL å‚æ•°è½¬æˆæ•´æ•°ï¼Œå¤±è´¥æŠ›é”™</td></tr></tbody></table>
<p>ğŸ§  <strong>ParseIntPipe å¹²äº†å•¥ï¼Ÿ</strong></p>
<blockquote>
<p>åŸç”Ÿ Node ä¸­ <code>req.params.id</code> æ˜¯å­—ç¬¦ä¸² <code>'1'</code>ï¼Œä½ éœ€è¦æ‰‹åŠ¨ <code>parseInt</code>ã€‚è€Œ <code>ParseIntPipe</code> ä¼šè‡ªåŠ¨è½¬æ¢ï¼Œå¹¶åœ¨æ ¡éªŒå¤±è´¥æ—¶è¿”å› 400 é”™è¯¯ï¼Œæå‡å¥å£®æ€§ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">å››ã€æ¥å…¥ PostgreSQLï¼šå‘Šåˆ«å†…å­˜ï¼Œèµ°å‘ç”Ÿäº§</h3>
<p>ç°åœ¨æˆ‘ä»¬å°†æ•°æ®æŒä¹…åŒ–åˆ° PostgreSQLã€‚</p>
<h4 data-id="heading-8">1. å®‰è£…ä¾èµ–</h4>
<pre><code class="hljs language-bash" lang="bash">npm install pg dotenv
npm install -D @types/pg
</code></pre>
<h4 data-id="heading-9">2. é…ç½®ç¯å¢ƒå˜é‡ <code>.env</code></h4>
<pre><code class="hljs language-env" lang="env">DB_HOST=localhost
DB_PORT=5432
DB_USER=your_user
DB_PASSWORD=your_password
DB_NAME=nest_demo
PORT=3000
</code></pre>
<p>åœ¨ <code>main.ts</code> å¼€å¤´åŠ è½½é…ç½®ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/main.ts</span>
<span class="hljs-keyword">import</span> { config } <span class="hljs-keyword">from</span> <span class="hljs-string">'dotenv'</span>;
<span class="hljs-title function_">config</span>(); <span class="hljs-comment">// åŠ è½½ .env æ–‡ä»¶</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NestFactory</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.module'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-keyword">await</span> <span class="hljs-title class_">NestFactory</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">AppModule</span>);
  <span class="hljs-keyword">await</span> app.<span class="hljs-title function_">listen</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">PORT</span> || <span class="hljs-number">3000</span>);
}
<span class="hljs-title function_">bootstrap</span>();
</code></pre>
<hr/>
<h4 data-id="heading-10">3. å°è£… DatabaseModuleï¼ˆæ¨èåšæ³•ï¼‰</h4>
<p>æˆ‘ä»¬è¦æŠŠæ•°æ®åº“è¿æ¥åšæˆä¸€ä¸ª<strong>å…¨å±€å…±äº«çš„è¿æ¥æ± </strong>ï¼Œé¿å…é‡å¤åˆ›å»ºã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/database/database.module.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Global</span>, <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Pool</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'pg'</span>;

<span class="hljs-meta">@Global</span>() <span class="hljs-comment">// ğŸŒ æ ‡è®°ä¸ºå…¨å±€æ¨¡å—ï¼Œå…¶ä»–æ¨¡å—æ— éœ€å† import</span>
<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">providers</span>: [
    {
      <span class="hljs-attr">provide</span>: <span class="hljs-string">'PG_CONNECTION'</span>, <span class="hljs-comment">// è‡ªå®šä¹‰ä»¤ç‰Œå</span>
      <span class="hljs-attr">useValue</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pool</span>({
        <span class="hljs-attr">user</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_USER</span>,
        <span class="hljs-attr">host</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_HOST</span>,
        <span class="hljs-attr">database</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_NAME</span>,
        <span class="hljs-attr">password</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span>,
        <span class="hljs-attr">port</span>: <span class="hljs-built_in">parseInt</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PORT</span>, <span class="hljs-number">10</span>),
      }),
    },
  ],
  <span class="hljs-attr">exports</span>: [<span class="hljs-string">'PG_CONNECTION'</span>], <span class="hljs-comment">// âš ï¸ è®©å¤–éƒ¨èƒ½æ‹¿åˆ°è¿™ä¸ªè¿æ¥</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseModule</span> {}
</code></pre>
<p>ğŸ“Œ <strong>ä¸ºä»€ä¹ˆç”¨ <code>@Global()</code>ï¼Ÿ</strong></p>
<blockquote>
<p>å¦‚æœä½ ä¸åŠ ï¼Œæ¯ä¸ªéœ€è¦æ•°æ®åº“çš„æ¨¡å—éƒ½å¾—æ‰‹åŠ¨å¯¼å…¥ <code>DatabaseModule</code>ï¼Œå¾ˆéº»çƒ¦ã€‚åŠ ä¸Šååªéœ€ä¸€æ¬¡æ³¨å†Œï¼Œå¤„å¤„å¯ç”¨ã€‚</p>
</blockquote>
<p>åˆ«å¿˜äº†åœ¨ <code>AppModule</code> ä¸­å¼•å…¥ä¸€æ¬¡ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/app.module.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DatabaseModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./database/database.module'</span>;

<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">DatabaseModule</span>, <span class="hljs-title class_">TodosModule</span>],
  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">AppController</span>],
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">AppService</span>],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppModule</span> {}
</code></pre>
<hr/>
<h4 data-id="heading-11">4. æ”¹é€  TodosService ä½¿ç”¨ PG æŸ¥è¯¢</h4>
<p>å…ˆåœ¨æ•°æ®åº“ä¸­å»ºè¡¨ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> todos (
  id SERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
  title <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  completed <span class="hljs-type">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">false</span>
);
</code></pre>
<p>ç„¶åæ”¹é€ æœåŠ¡å±‚ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/todos/todos.service.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span>, <span class="hljs-title class_">Inject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;

<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TodosService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-meta">@Inject</span>(<span class="hljs-string">'PG_CONNECTION'</span>) <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> db: Pool</span>) {}

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">findAll</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">query</span>(<span class="hljs-string">'SELECT * FROM todos ORDER BY id'</span>);
    <span class="hljs-keyword">return</span> res.<span class="hljs-property">rows</span>; <span class="hljs-comment">// è¿”å›ç»“æœæ•°ç»„</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">title: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">query</span>(
      <span class="hljs-string">'INSERT INTO todos (title) VALUES ($1) RETURNING *'</span>,
      [title]
    );
    <span class="hljs-keyword">return</span> res.<span class="hljs-property">rows</span>[<span class="hljs-number">0</span>];
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">query</span>(<span class="hljs-string">'DELETE FROM todos WHERE id = $1'</span>, [id]);
    <span class="hljs-keyword">return</span> res.<span class="hljs-property">rowCount</span> &gt; <span class="hljs-number">0</span>; <span class="hljs-comment">// æ˜¯å¦æœ‰è¡Œè¢«åˆ é™¤</span>
  }
}
</code></pre>
<p>ğŸ”‘ <strong>é‡ç‚¹æ¥äº†ï¼šSQL æ³¨å…¥é˜²æŠ¤ï¼</strong></p>
<p>âŒ é”™è¯¯å†™æ³•ï¼ˆæ‹¼æ¥ SQLï¼‰ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">db.<span class="hljs-title function_">query</span>(<span class="hljs-string">`DELETE FROM todos WHERE id = <span class="hljs-subst">${id}</span>`</span>); <span class="hljs-comment">// å±é™©ï¼å¯èƒ½è¢«æ³¨å…¥</span>
</code></pre>
<p>âœ… æ­£ç¡®åšæ³•ï¼ˆå‚æ•°åŒ–æŸ¥è¯¢ï¼‰ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">db.<span class="hljs-title function_">query</span>(<span class="hljs-string">'DELETE FROM todos WHERE id = $1'</span>, [id]); <span class="hljs-comment">// å®‰å…¨ âœ”ï¸</span>
</code></pre>
<blockquote>
<p><code>$1</code>, <code>$2</code> æ˜¯ PostgreSQL å ä½ç¬¦ï¼Œé…åˆå‚æ•°æ•°ç»„ä½¿ç”¨ï¼Œä»æ ¹æœ¬ä¸Šé˜²æ­¢ SQL æ³¨å…¥æ”»å‡»ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-12">5. æ·»åŠ æ•°æ®åº“å¥åº·æ£€æŸ¥æ¥å£</h4>
<p>æ–¹ä¾¿è°ƒè¯•è¿æ¥æ˜¯å¦æ­£å¸¸ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/app.controller.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Controller</span>, <span class="hljs-title class_">Get</span>, <span class="hljs-title class_">Inject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;

<span class="hljs-meta">@Controller</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppController</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-meta">@Inject</span>(<span class="hljs-string">'PG_CONNECTION'</span>) <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> db: <span class="hljs-built_in">any</span></span>) {}

  <span class="hljs-meta">@Get</span>(<span class="hljs-string">'db-test'</span>)
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">testDb</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">query</span>(<span class="hljs-string">'SELECT 1'</span>);
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">status</span>: <span class="hljs-string">'âœ… æ•°æ®åº“è¿æ¥æˆåŠŸï¼'</span> };
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">status</span>: <span class="hljs-string">'âŒ è¿æ¥å¤±è´¥'</span>, <span class="hljs-attr">error</span>: err.<span class="hljs-property">message</span> };
    }
  }
}
</code></pre>
<p>è®¿é—® <code>/db-test</code> å³å¯çœ‹åˆ°è¿æ¥çŠ¶æ€ã€‚</p>
<hr/>
<h3 data-id="heading-13">äº”ã€æ€»ç»“ &amp; ä¸‹ä¸€æ­¥è¿›é˜¶å»ºè®®ï¼ˆå†²æ¦œåŠ åˆ†é¡¹ï¼ï¼‰</h3>
<p>ä½ å·²ç»å®Œæˆäº†ä»¥ä¸‹å…³é”®èƒ½åŠ›æ„å»ºï¼š</p>
<p>âœ… æ­å»º NestJS å·¥ç¨‹éª¨æ¶<br/>
âœ… ç†è§£æ¨¡å—åŒ–æ¶æ„è®¾è®¡<br/>
âœ… å®ç°ä¾èµ–æ³¨å…¥ä¸å…¨å±€æ¨¡å—å°è£…<br/>
âœ… å®‰å…¨åœ°æ“ä½œ PostgreSQL æ•°æ®åº“<br/>
âœ… æŒæ¡è£…é¥°å™¨ã€ç®¡é“ã€å‚æ•°åŒ–æŸ¥è¯¢ç­‰æ ¸å¿ƒè¯­æ³•</p>
<hr/>
<h4 data-id="heading-14">ğŸš€ æ˜é‡‘è¯»è€…å…³å¿ƒçš„â€œä¸‹ä¸€æ­¥æ€ä¹ˆåšâ€ï¼Ÿ</h4>





























<table><thead><tr><th>ç›®æ ‡</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ›´é«˜æ•ˆå†™æ•°æ®åº“</td><td>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Ftypeorm.io%2F" target="_blank" title="https://typeorm.io/" ref="nofollow noopener noreferrer">TypeORM</a> æˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.prisma.io%2F" target="_blank" title="https://www.prisma.io/" ref="nofollow noopener noreferrer">Prisma</a>ï¼Œå‘Šåˆ«æ‰‹å†™ SQL</td></tr><tr><td>è¯·æ±‚æ ¡éªŒè‡ªåŠ¨åŒ–</td><td>å¼•å…¥ <code>class-validator</code> + <code>ValidationPipe</code>ï¼Œè‡ªåŠ¨æ‹¦æˆªéæ³•è¾“å…¥</td></tr><tr><td>ç»Ÿä¸€é”™è¯¯å“åº”</td><td>ä½¿ç”¨ <code>@UseFilters()</code> + <code>HttpExceptionFilter</code> å…¨å±€æ•è·å¼‚å¸¸</td></tr><tr><td>è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£</td><td>é›†æˆ <code>@nestjs/swagger</code>ï¼Œä¸€é”®ç”Ÿæˆ API æ–‡æ¡£é¡µé¢</td></tr><tr><td>æå‡å¼€å‘ä½“éªŒ</td><td>ä½¿ç”¨ DTO åˆ†ç¦»æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œå¢å¼ºç±»å‹æç¤º</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-15">ğŸ’¬ æœ€åè¯´ä¸€å¥çœŸå¿ƒè¯</h4>
<blockquote>
<p><strong>NestJS ä¸åªæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œæ›´æ˜¯ä¸€ç§ç¼–ç¨‹æ€ç»´çš„å‡çº§ã€‚</strong></p>
</blockquote>
<p>å½“ä½ å¼€å§‹ç”¨â€œæ¨¡å—â€ç»„ç»‡åŠŸèƒ½ã€â€œæœåŠ¡â€å°è£…é€»è¾‘ã€â€œæ³¨å…¥â€ç®¡ç†ä¾èµ–æ—¶ï¼Œä½ å°±å·²ç»è„±ç¦»äº†â€œè„šæœ¬å°å­â€çš„é˜¶æ®µï¼Œè¿ˆå‘çœŸæ­£çš„<strong>å·¥ç¨‹åŒ–å¼€å‘</strong>ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¥é”€æ´»åŠ¨ä»â€œèƒ½è·‘â€åˆ°â€œä¸æ»‘â€çš„è¿›åŒ–]]></title>    <link>https://juejin.cn/post/7596906473306046514</link>    <guid>https://juejin.cn/post/7596906473306046514</guid>    <pubDate>2026-01-19T10:51:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596906473306046514" data-draft-id="7595466990111572008" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¥é”€æ´»åŠ¨ä»â€œèƒ½è·‘â€åˆ°â€œä¸æ»‘â€çš„è¿›åŒ–"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,CSS"/> <meta itemprop="datePublished" content="2026-01-19T10:51:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Mh"/> <meta itemprop="url" content="https://juejin.cn/user/712139267641950"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¥é”€æ´»åŠ¨ä»â€œèƒ½è·‘â€åˆ°â€œä¸æ»‘â€çš„è¿›åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139267641950/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Mh
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T10:51:51.000Z" title="Mon Jan 19 2026 10:51:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨æ—¥å¸¸çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦å¤åˆ»æŸäº›ç»å…¸çš„éœ€æ±‚â€”â€”â€”â€” æ—¢è¦é«˜åº¦è¿˜åŸä¼˜è´¨çš„äº¤äº’ä½“éªŒï¼Œåˆè¦é€‚é…ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ã€‚æ¯”å¦‚ï¼šæœ€è¿‘å…¬å¸è®©æˆ‘åšä¸€ä¸ªå¾·å›½å†¬å­£å£å‘³è¥é”€æ´»åŠ¨ï¼Œå…·ä½“çš„äº¤äº’å‚è€ƒç½‘æ˜“äº‘ä¸ƒå¤•è¥é”€æ´»åŠ¨ï¼Œç”±äºå…¬å¸çš„ä»£ç æ˜¯nuxtå®ç°çš„å¹¶æ”¯æŒå¤–ç½‘è®¿é—®ï¼Œæ‰€æœ‰æˆ‘æ‰“ç®—ç”¨reacté‡æ–°å¤ç°ä¸€ä¸‹è¿™ä¸ªæ´»åŠ¨ï¼ˆç´ æä½¿ç”¨ç½‘æ˜“äº‘çš„ä¸ƒå¤•æ´»åŠ¨ä¸­çš„ç´ æï¼‰ã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯è§’åº¦æ‹†è§£å¤åˆ»è¿‡ç¨‹ä¸­çš„æ ¸å¿ƒæ€è·¯å’Œè¸©å‘ç»éªŒã€‚</p>
<h2 data-id="heading-1">ç½‘æ˜“äº‘ä¸ƒå¤•æ´»åŠ¨é¡µé¢</h2>
<p>è¿™é‡Œæ˜¯ç½‘æ˜“äº‘ä¸ƒå¤•æ´»åŠ¨é¡µé¢åŸåœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fy.music.163.com%2Fg%2Fyida%2F2024love%2FC_g607j64ar2%3Fapp_version%3D9.4.05%26dlt%3D0846%26userid%3D1810128822%26page%3D1ba8b6833ac04d0890e9d5baefca24b4" target="_blank" title="https://y.music.163.com/g/yida/2024love/C_g607j64ar2?app_version=9.4.05&amp;dlt=0846&amp;userid=1810128822&amp;page=1ba8b6833ac04d0890e9d5baefca24b4" ref="nofollow noopener noreferrer">ç½‘æ˜“äº‘ä¸ƒå¤•æ´»åŠ¨</a> ä¾›å¤§å®¶è¿›è¡Œå‚è€ƒï¼Œæœ¬æ¬¡ä¸»è¦èšç„¦çš„æ˜¯<strong>é—®ç­”æ´»åŠ¨æ¨¡å—</strong>çš„å†…å®¹ï¼Œå¯¹äºç»“æœé¡µé¢æš‚ä¸è¿›è¡Œå¼€å‘ï¼Œå¦‚æœ‰ä¾µæƒå’Œå†’çŠ¯ä¹‹å¤„ï¼Œæ•¬è¯·è°…è§£ã€‚</p>
<h2 data-id="heading-2">æŠ€æœ¯æ‹†è§£</h2>
<p>åœ¨æ•´ä¸ªå¤åˆ»ä¸ƒå¤•æ´»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œæœ€æ ¸å¿ƒçš„éš¾ç‚¹åœ¨äºï¼š<strong>å¦‚ä½•å¤§é‡é«˜æ¸…å›¾ç‰‡åˆ‡æ¢çš„è¿‡ç¨‹ä¸­ï¼Œä¿æŒåŠ¨ç”»çš„è¿è´¯æ€§ä¸”ä¸ä¼šå¡é¡¿ï¼Ÿ</strong></p>
<h2 data-id="heading-3">åˆç‰ˆ</h2>
<p><strong>å®šä½ï¼šå¿«é€Ÿå®ç°åŠŸèƒ½åŸå‹ï¼Œä½†å­˜åœ¨æ˜æ˜¾çš„æ€§èƒ½å’Œä½“éªŒç“¶é¢ˆã€‚</strong></p>
<p>æ ¸å¿ƒä»£ç å±•ç¤º</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Index</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [currentStep, setCurrentStep] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBeginTesting</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCurrentStep</span>(<span class="hljs-number">1</span>);
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAnsweringQuestion</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCurrentStep</span>(<span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> a + <span class="hljs-number">1</span>);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"first-edition-container"</span>&gt;</span>
      {questionList.map((item, index) =&gt; {
        return (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">step-content</span> <span class="hljs-attr">step</span>${<span class="hljs-attr">index</span>} ${<span class="hljs-attr">currentStep</span> !== <span class="hljs-string">index</span> ? '<span class="hljs-attr">fade-item</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">fade-enter-done</span>'}`}
            <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>
          &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"image-bg"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{item.imgSrc}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> /&gt;</span>
            {index === 0 &amp;&amp; (
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleBeginTesting}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"begin-testing"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            )}
            {!!item.question1 &amp;&amp; (
              <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleAnsweringQuestion}</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">"question question1"</span>
                <span class="hljs-attr">src</span>=<span class="hljs-string">{item.question1}</span>
                <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>
              /&gt;</span>
            )}
            {!!item.question2 &amp;&amp; (
              <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleAnsweringQuestion}</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">"question question2"</span>
                <span class="hljs-attr">src</span>=<span class="hljs-string">{item.question2}</span>
                <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>
              /&gt;</span>
            )}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        );
      })}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// åŠ¨ç”»éƒ¨åˆ†</span>
<span class="hljs-selector-class">.first-edition-container</span> <span class="hljs-selector-class">.fade-item</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  -webkit-<span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-in-out;
  -o-<span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-in-out;
  -moz-<span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-in-out;
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-in-out;
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">10</span>;
}

<span class="hljs-selector-class">.first-edition-container</span> <span class="hljs-selector-class">.fade-enter-done</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  -webkit-<span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-in-out;
  -o-<span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-in-out;
  -moz-<span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-in-out;
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> ease-in-out;
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">100</span>;
}
</code></pre>
<h4 data-id="heading-4">ä»¥ä¸‹æ˜¯åˆç‰ˆçš„è¯¦ç»†ä»£ç åˆ†æï¼š</h4>
<p><strong>1. æ ¸å¿ƒé€»è¾‘</strong></p>
<ul>
<li>
<p>å…¨é‡æŒ‚è½½ï¼šé€šè¿‡ questionList.map ä¸€æ¬¡æ€§å°†æ‰€æœ‰é¢˜ç›®æ¸²æŸ“åˆ° DOM æ ‘ä¸­ã€‚</p>
</li>
<li>
<p>çŠ¶æ€åˆ‡æ¢ï¼šä»…ä¾é ä¸€ä¸ª currentStep å˜é‡ï¼Œé…åˆ CSS ç±»åï¼ˆfade-item vs fade-enter-doneï¼‰æ¥æ§åˆ¶é¢˜ç›®çš„æ˜¾ç¤ºä¸éšè—ã€‚</p>
</li>
<li>
<p>é€»è¾‘ç®€å•ï¼šå‡½æ•°ç»„ä»¶å†…éƒ¨åªæœ‰æœ€åŸºç¡€çš„ useStateï¼Œæ²¡æœ‰å¤æ‚çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</p>
</li>
</ul>
<p><strong>2. ç¼ºé™·</strong></p>
<ul>
<li>
<p>é¦–å±æ¸²æŸ“å‹åŠ›è¾ƒå¤§ï¼š ç”±äºé‡‡ç”¨å…¨é‡æ¸²æŸ“æ¨¡å¼ï¼Œç½‘ç«™ä¸€æ‰“å¼€åŠ è½½æ‰€æœ‰çš„å›¾ç‰‡èµ„æºï¼Œåœ¨å¼±ç½‘çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¦–å±åŠ è½½æ—¶é—´è¿‡é•¿ï¼Œç™½å±ç­‰æƒ…å†µã€‚</p>
</li>
<li>
<p>ç¼ºä¹åŠ¨ç”»çš„ç²¾ç»†åº¦ï¼šä»£ç ä¸­ä»…é€šè¿‡ç®€å•çš„ç±»åå»æ§åˆ¶ opacity çš„å˜åŒ–ï¼Œåœ¨ç½‘æ˜“äº‘çš„åŸç‰ˆäº¤äº’ä¸­ï¼ŒèƒŒæ™¯å›¾ã€é—®é¢˜1ã€é—®é¢˜2æ˜¯ç”±å…ˆåé¡ºåºçš„é˜¶æ¢¯å¼æ·¡å…¥ã€‚</p>
</li>
</ul>
<h3 data-id="heading-5">åˆç‰ˆ--æ•ˆæœå±•ç¤º</h3>
<p><span href="https://code.juejin.cn/pen/7595789985958068250" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7595789985958068250" data-src="https://code.juejin.cn/pen/7595789985958068250" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<h2 data-id="heading-6">è¿›é˜¶ç‰ˆ</h2>
<p>å®šä½ï¼š<strong>ä»â€œç®€å•çš„ UI åˆ‡æ¢â€è½¬å‘äº†â€œç²¾ç»†åŒ–äº¤äº’æ§åˆ¶â€</strong>ã€‚</p>
<p>æ ¸å¿ƒä»£ç å±•ç¤º</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">StepItem</span> = (<span class="hljs-params">{ item, index, isActive, onBegin, onAnswer }</span>) =&gt; {
  <span class="hljs-comment">// åŠ¨ç”»çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> [imageOpacity, setImageOpacity] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [question1Opacity, setQuestion1Opacity] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [question2Opacity, setQuestion2Opacity] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// å›¾ç‰‡åŠ è½½å®Œæˆæ ‡å¿—</span>
  <span class="hljs-keyword">const</span> [imageLoaded, setImageLoaded] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-comment">// åŠ¨ç”»å®Œæˆæ ‡å¿—</span>
  <span class="hljs-keyword">const</span> imageAnimationDone = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> question1AnimationDone = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-comment">// å½“ç»„ä»¶å˜ä¸ºæ¿€æ´»çŠ¶æ€æ—¶å¼€å§‹åŠ¨ç”»</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (isActive) {
      <span class="hljs-comment">// é‡ç½®åŠ¨ç”»çŠ¶æ€</span>
      <span class="hljs-title function_">setImageOpacity</span>(<span class="hljs-number">0</span>);
      <span class="hljs-title function_">setQuestion1Opacity</span>(<span class="hljs-number">0</span>);
      <span class="hljs-title function_">setQuestion2Opacity</span>(<span class="hljs-number">0</span>);
      imageAnimationDone.<span class="hljs-property">current</span> = <span class="hljs-literal">false</span>;
      question1AnimationDone.<span class="hljs-property">current</span> = <span class="hljs-literal">false</span>;
    }
  }, [isActive]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> question1Timer = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> question2Timer = <span class="hljs-literal">null</span>;

    <span class="hljs-comment">// å¦‚æœçŠ¶æ€æœªæ¿€æ´»æˆ–è€…å›¾ç‰‡æ²¡æœ‰åŠ è½½å®Œæˆç›´æ¥ç»ˆæ­¢</span>
    <span class="hljs-keyword">if</span> (!isActive || !imageLoaded) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">runImageAnimation</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-title function_">setImageOpacity</span>(<span class="hljs-number">1</span>);
      imageAnimationDone.<span class="hljs-property">current</span> = <span class="hljs-literal">true</span>;
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">runQuestion1Animation</span> = (<span class="hljs-params"/>) =&gt; {
      question1Timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (!item.<span class="hljs-property">question1</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// æ— question1 â†’ ç»ˆæ­¢</span>
        <span class="hljs-title function_">setQuestion1Opacity</span>(<span class="hljs-number">1</span>);
        question1AnimationDone.<span class="hljs-property">current</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-title function_">runQuestion2Animation</span>(); <span class="hljs-comment">// æ‰§è¡Œå®Œquestion1ï¼Œå†æ‰§è¡Œquestion2</span>
      }, <span class="hljs-number">500</span>);
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">runQuestion2Animation</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">if</span> (!item.<span class="hljs-property">question2</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// æ— question2 â†’ ç»ˆæ­¢</span>
      question2Timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">setQuestion2Opacity</span>(<span class="hljs-number">1</span>);
      }, <span class="hljs-number">500</span>);
    };

    <span class="hljs-comment">// æ‰§è¡Œå›¾ç‰‡åŠ¨ç”»</span>
    <span class="hljs-title function_">runImageAnimation</span>();
    <span class="hljs-comment">// æ‰§è¡Œé—®é¢˜1åŠ¨ç”»</span>
    <span class="hljs-title function_">runQuestion1Animation</span>();

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-built_in">clearTimeout</span>(question1Timer);
      <span class="hljs-built_in">clearTimeout</span>(question2Timer);
    };
  }, [isActive, imageLoaded, item.<span class="hljs-property">question1</span>, item.<span class="hljs-property">question2</span>]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">step-content</span> <span class="hljs-attr">step</span>${<span class="hljs-attr">index</span>} ${<span class="hljs-attr">isActive</span> ? '<span class="hljs-attr">fade-enter-done</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">fade-item</span>'}`}
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">"image-bg"</span>
        <span class="hljs-attr">src</span>=<span class="hljs-string">{item.imgSrc}</span>
        <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">opacity:</span> <span class="hljs-attr">imageOpacity</span> }}
        <span class="hljs-attr">onLoad</span>=<span class="hljs-string">{()</span> =&gt;</span> setImageLoaded(true)}
      /&gt;
      {index === 0 &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onBegin}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"begin-testing"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
      {!!item.question1 &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onAnswer}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"question question1"</span>
          <span class="hljs-attr">src</span>=<span class="hljs-string">{item.question1}</span>
          <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">opacity:</span> <span class="hljs-attr">question1Opacity</span> }}
        /&gt;</span>
      )}
      {!!item.question2 &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onAnswer}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"question question2"</span>
          <span class="hljs-attr">src</span>=<span class="hljs-string">{item.question2}</span>
          <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">opacity:</span> <span class="hljs-attr">question2Opacity</span> }}
        /&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Index</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [currentStep, setCurrentStep] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBeginTesting</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCurrentStep</span>(<span class="hljs-number">1</span>);
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAnsweringQuestion</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCurrentStep</span>(<span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> a + <span class="hljs-number">1</span>);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"second-edition-container"</span>&gt;</span>
      {questionList.map((item, index) =&gt; {
        return (
          <span class="hljs-tag">&lt;<span class="hljs-name">StepItem</span>
            <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>
            <span class="hljs-attr">item</span>=<span class="hljs-string">{item}</span>
            <span class="hljs-attr">index</span>=<span class="hljs-string">{index}</span>
            <span class="hljs-attr">isActive</span>=<span class="hljs-string">{currentStep</span> === <span class="hljs-string">index}</span>
            <span class="hljs-attr">onBegin</span>=<span class="hljs-string">{handleBeginTesting}</span>
            <span class="hljs-attr">onAnswer</span>=<span class="hljs-string">{handleAnsweringQuestion}</span>
          /&gt;</span>
        );
      })}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// åŠ¨ç”»éƒ¨åˆ†</span>
<span class="hljs-selector-class">.second-edition-container</span> <span class="hljs-selector-class">.fade-item</span> {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">10</span>;
}

<span class="hljs-selector-class">.second-edition-container</span> <span class="hljs-selector-class">.fade-enter-done</span> {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">100</span>;
}
</code></pre>
<h4 data-id="heading-7">ä»¥ä¸‹æ˜¯è¿›é˜¶ç‰ˆçš„è¯¦ç»†ä»£ç åˆ†æï¼š</h4>
<p><strong>1. æ ¸å¿ƒæ”¹è¿›ï¼šæ—¶åºæ§åˆ¶åŠ¨ç”»</strong></p>
<ul>
<li>é€šè¿‡ setTimeout é“¾å¼è°ƒç”¨ï¼Œæ¨¡æ‹Ÿäº†ç½‘æ˜“äº‘åŸç‰ˆä¸­ç´ æé”™è½æœ‰è‡´çš„å…¥åœºæ•ˆæœã€‚</li>
</ul>
<p><strong>2. å¼•å…¥å›¾ç‰‡åŠ è½½ç›‘æµ‹</strong></p>
<ul>
<li>åˆç‰ˆä¸­åŠ¨ç”»æ˜¯éš DOM æŒ‚è½½ç›´æ¥è§¦å‘çš„ï¼Œè€Œè¿›é˜¶ç‰ˆå¢åŠ äº† imageLoaded çŠ¶æ€ï¼Œé€šè¿‡ onLoad äº‹ä»¶ç¡®ä¿å›¾ç‰‡èµ„æºçœŸå®ä¸‹è½½å®Œæˆåæ‰å¯åŠ¨é€æ˜åº¦åŠ¨ç”»ã€‚</li>
</ul>
<p><strong>3. ç»„ä»¶åŒ–æ‹†åˆ†</strong></p>
<ul>
<li>å°†æ¯ä¸€é“é¢˜é€»è¾‘å°è£…åœ¨ StepItem ä¸­ï¼Œæ¯ä¸ª StepItem ç»´æŠ¤è‡ªå·±çš„ opacity çŠ¶æ€ï¼Œé€»è¾‘äº’ä¸å¹²æ‰°ï¼Œçˆ¶ç»„ä»¶åªè´Ÿè´£ç»´æŠ¤ currentStep è¿›åº¦ï¼ŒèŒè´£å•ä¸€åŒ–ã€‚</li>
</ul>
<p><strong>4. å­˜åœ¨çš„ä¸è¶³</strong></p>
<ul>
<li>æ€§èƒ½ç“¶é¢ˆï¼ˆå…¨é‡æ¸²æŸ“ä¾ç„¶å­˜åœ¨ï¼‰ï¼š è™½ç„¶æŠ½ç¦»äº†ç»„ä»¶ï¼Œä½† Index é‡Œä¾ç„¶åœ¨ map å…¨é‡æ¸²æŸ“æ‰€æœ‰çš„ StepItemã€‚</li>
</ul>
<h3 data-id="heading-8">è¿›é˜¶ç‰ˆ--æ•ˆæœå±•ç¤º</h3>
<p><span href="https://code.juejin.cn/pen/7595792784619995162" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7595792784619995162" data-src="https://code.juejin.cn/pen/7595792784619995162" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<h2 data-id="heading-9">æœ€ç»ˆç‰ˆ</h2>
<p>å®šä½ï¼š<strong>ä¸ä»…éœ€è¦å®Œç¾çš„è§†è§‰æ•ˆæœï¼Œè¿˜éœ€è¦æ·±å…¥åˆ°äº† React æ€§èƒ½ä¼˜åŒ–åº•å±‚ã€‚</strong></p>
<p>æ ¸å¿ƒä»£ç å±•ç¤º</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">StepItem</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ item, index, isActive, onBegin, onAnswer }</span>) =&gt;</span> {
  <span class="hljs-comment">// åˆå¹¶åŠ¨ç”»çŠ¶æ€ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå‡å°‘çŠ¶æ€æ›´æ–°æ¬¡æ•°</span>
  <span class="hljs-keyword">const</span> [animationState, setAnimationState] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">imageOpacity</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">question1Opacity</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">question2Opacity</span>: <span class="hljs-number">0</span>,
  });
  <span class="hljs-keyword">const</span> [imageLoaded, setImageLoaded] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> imageRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-comment">// å½“ç»„ä»¶å˜ä¸ºæ¿€æ´»çŠ¶æ€æ—¶é‡ç½®åŠ¨ç”»çŠ¶æ€</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (isActive) {
      <span class="hljs-title function_">setAnimationState</span>({
        <span class="hljs-attr">imageOpacity</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">question1Opacity</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">question2Opacity</span>: <span class="hljs-number">0</span>,
      });
      <span class="hljs-title function_">setImageLoaded</span>(<span class="hljs-literal">false</span>);
    }
    <span class="hljs-comment">// æ£€æŸ¥å›¾ç‰‡æ˜¯å¦å·²ç»åŠ è½½å®Œæˆï¼ˆå¤„ç†ç¼“å­˜æƒ…å†µï¼‰</span>
    <span class="hljs-keyword">if</span> (isActive &amp;&amp; imageRef.<span class="hljs-property">current</span>) {
      <span class="hljs-comment">// å¦‚æœå›¾ç‰‡å·²ç»åŠ è½½å®Œæˆï¼ˆä»ç¼“å­˜ä¸­ï¼‰ï¼Œç«‹å³è®¾ç½®åŠ è½½çŠ¶æ€</span>
      <span class="hljs-keyword">if</span> (imageRef.<span class="hljs-property">current</span>.<span class="hljs-property">complete</span> &amp;&amp; imageRef.<span class="hljs-property">current</span>.<span class="hljs-property">naturalHeight</span> !== <span class="hljs-number">0</span>) {
        <span class="hljs-title function_">setImageLoaded</span>(<span class="hljs-literal">true</span>);
      }
    }
  }, [isActive]);

  <span class="hljs-comment">// å¤„ç†åŠ¨ç”»åºåˆ—</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (!isActive || !imageLoaded) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">const</span> timers = [];

    <span class="hljs-comment">// ç«‹å³æ˜¾ç¤ºå›¾ç‰‡</span>
    <span class="hljs-title function_">setAnimationState</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> ({ ...prev, <span class="hljs-attr">imageOpacity</span>: <span class="hljs-number">1</span> }));

    <span class="hljs-comment">// å»¶è¿Ÿæ˜¾ç¤º question1</span>
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">question1</span>) {
      <span class="hljs-keyword">const</span> question1Timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">setAnimationState</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> ({ ...prev, <span class="hljs-attr">question1Opacity</span>: <span class="hljs-number">1</span> }));

        <span class="hljs-comment">// question1 æ˜¾ç¤ºåï¼Œå»¶è¿Ÿæ˜¾ç¤º question2</span>
        <span class="hljs-keyword">if</span> (item.<span class="hljs-property">question2</span>) {
          <span class="hljs-keyword">const</span> question2Timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-title function_">setAnimationState</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> ({ ...prev, <span class="hljs-attr">question2Opacity</span>: <span class="hljs-number">1</span> }));
          }, <span class="hljs-number">500</span>);
          timers.<span class="hljs-title function_">push</span>(question2Timer);
        }
      }, <span class="hljs-number">500</span>);
      timers.<span class="hljs-title function_">push</span>(question1Timer);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      timers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">timer</span> =&gt;</span> <span class="hljs-built_in">clearTimeout</span>(timer));
    };
  }, [isActive, imageLoaded, item.<span class="hljs-property">question1</span>, item.<span class="hljs-property">question2</span>]);

  <span class="hljs-keyword">const</span> handleImageLoad = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setImageLoaded</span>(<span class="hljs-literal">true</span>);
  }, []);

  <span class="hljs-keyword">const</span> stepClassName = <span class="hljs-title function_">useMemo</span>(
    <span class="hljs-function">() =&gt;</span>
      <span class="hljs-string">`step-content step<span class="hljs-subst">${index}</span> <span class="hljs-subst">${isActive ? <span class="hljs-string">'fade-enter-done'</span> : <span class="hljs-string">'fade-item'</span>}</span>`</span>,
    [index, isActive]
  );

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{stepClassName}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
        <span class="hljs-attr">ref</span>=<span class="hljs-string">{imageRef}</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">"image-bg"</span>
        <span class="hljs-attr">src</span>=<span class="hljs-string">{item.imgSrc}</span>
        <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">opacity:</span> <span class="hljs-attr">animationState.imageOpacity</span> }}
        <span class="hljs-attr">onLoad</span>=<span class="hljs-string">{handleImageLoad}</span>
      /&gt;</span>
      {index === 0 &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onBegin}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"begin-testing"</span> /&gt;</span>}
      {item.question1 &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onAnswer}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"question question1"</span>
          <span class="hljs-attr">src</span>=<span class="hljs-string">{item.question1}</span>
          <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">opacity:</span> <span class="hljs-attr">animationState.question1Opacity</span> }}
        /&gt;</span>
      )}
      {item.question2 &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onAnswer}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"question question2"</span>
          <span class="hljs-attr">src</span>=<span class="hljs-string">{item.question2}</span>
          <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">opacity:</span> <span class="hljs-attr">animationState.question2Opacity</span> }}
        /&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
});

<span class="hljs-title class_">StepItem</span>.<span class="hljs-property">displayName</span> = <span class="hljs-string">'StepItem'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Index</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [currentStep, setCurrentStep] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> handleBeginTesting = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCurrentStep</span>(<span class="hljs-number">1</span>);
  }, []);

  <span class="hljs-keyword">const</span> handleAnsweringQuestion = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCurrentStep</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>);
  }, []);

  <span class="hljs-keyword">const</span> renderedItems = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> questionList
      .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({ item, index }))
      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">{ index }</span>) =&gt;</span> index &lt;= currentStep + <span class="hljs-number">1</span>);
  }, [currentStep]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"third-edition-container"</span>&gt;</span>
      {renderedItems.map(({ item, index }) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">StepItem</span>
          <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>
          <span class="hljs-attr">item</span>=<span class="hljs-string">{item}</span>
          <span class="hljs-attr">index</span>=<span class="hljs-string">{index}</span>
          <span class="hljs-attr">isActive</span>=<span class="hljs-string">{currentStep</span> === <span class="hljs-string">index}</span>
          <span class="hljs-attr">onBegin</span>=<span class="hljs-string">{handleBeginTesting}</span>
          <span class="hljs-attr">onAnswer</span>=<span class="hljs-string">{handleAnsweringQuestion}</span>
        /&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<h4 data-id="heading-10">ä»¥ä¸‹æ˜¯æœ€ç»ˆç‰ˆçš„è¯¦ç»†ä»£ç åˆ†æï¼š</h4>
<p><strong>1. æ€§èƒ½ä¼˜åŒ–ç»„åˆ</strong></p>
<ul>
<li>React.memo + useCallbackï¼šé€šè¿‡è®°å¿†åŒ–ç»„ä»¶å’ŒæŒä¹…åŒ–å‡½æ•°å¼•ç”¨ï¼Œç¡®ä¿å½“ currentStep å˜åŒ–æ—¶ï¼Œåªæœ‰â€œå½“å‰æ´»è·ƒé¢˜â€å’Œâ€œä¸‹ä¸€é¢˜â€ä¼šè§¦å‘å¿…è¦çš„é‡ç»˜ï¼Œå…¶ä»–å·²åŠ è½½çš„é¢˜ç›®å®Œå…¨é™æ­¢ã€‚</li>
</ul>
<p><strong>2. çŠ¶æ€å¯¹è±¡åŒ–</strong></p>
<ul>
<li>å°†ä¸‰ä¸ªç‹¬ç«‹çš„ opacity çŠ¶æ€åˆå¹¶ä¸º animationState å¯¹è±¡ã€‚è¿™æ„å‘³ç€åŸæœ¬éœ€è¦ä¸‰æ¬¡ setStateï¼ˆè§¦å‘ä¸‰æ¬¡æ¸²æŸ“ï¼‰çš„æ“ä½œï¼Œç°åœ¨åªéœ€ä¸€æ¬¡å³å¯å®Œæˆã€‚</li>
</ul>
<p><strong>3. å›¾ç‰‡é¢„åŠ è½½ä¸ç¼“å­˜ç­–ç•¥</strong></p>
<ul>
<li><code>.filter(({ index }) =&gt; index &lt;= currentStep + 1)</code> è¿™ä¸€è¡Œä»£ç å®ç°äº†â€œåªåŠ è½½çœ‹è¿‡çš„â€å’Œâ€œæå‰åŠ è½½ä¸‹ä¸€é¢˜â€ã€‚è¿™æ—¢èŠ‚çœäº†é¦–å±æµé‡ï¼Œåˆä¿è¯äº†åˆ‡æ¢æ—¶çš„ç¬é—´å‘ˆç°ã€‚</li>
</ul>
<h3 data-id="heading-11">æœ€ç»ˆç‰ˆ--æ•ˆæœå±•ç¤º</h3>
<p><span href="https://code.juejin.cn/pen/7597005376978386970" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7597005376978386970" data-src="https://code.juejin.cn/pen/7597005376978386970" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>ä»æœ€åˆçš„ä¸€ä¸ª map ä¸€æŠŠæ¢­ï¼Œåˆ°æœ€åå¼•å…¥ React.memoã€èµ„æºé¢„åŠ è½½ä»¥åŠå¯¹ç¼“å­˜æœºåˆ¶çš„æ·±åº¦æ‰“ç£¨ã€‚ä»å¥½ç”¨â€™å’Œâ€˜ä¸æ»‘â€™çš„èƒŒåæ˜¯æå…¶ä¸¥è°¨çš„æ€§èƒ½ç®¡ç†ã€‚å¸Œæœ›è¿™ä»½è¿›é˜¶ä¹‹è·¯èƒ½ç»™ä½ ä¸€äº›å¯å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Compose Navigation 3 å‘å¸ƒåˆè¦é‡æ–°å­¦äº†]]></title>    <link>https://juejin.cn/post/7596890557546528814</link>    <guid>https://juejin.cn/post/7596890557546528814</guid>    <pubDate>2026-01-20T01:48:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596890557546528814" data-draft-id="7596983314805964850" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Compose Navigation 3 å‘å¸ƒåˆè¦é‡æ–°å­¦äº†"/> <meta itemprop="keywords" content="Android,Android Jetpack"/> <meta itemprop="datePublished" content="2026-01-20T01:48:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é»„æ—æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/3985057546510423"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Compose Navigation 3 å‘å¸ƒåˆè¦é‡æ–°å­¦äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3985057546510423/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é»„æ—æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T01:48:57.000Z" title="Tue Jan 20 2026 01:48:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>2025 å¹´ 5 æœˆï¼ŒGoogle åœ¨ I/O å¤§ä¼šä¸Šæ­£å¼å‘å¸ƒäº† <strong>Jetpack Navigation 3</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªä»é›¶å¼€å§‹ä¸“ä¸º Compose æ„å»ºçš„å…¨æ–°å¯¼èˆªåº“ã€‚2026 å¹´ 1 æœˆï¼ŒJetBrains å‘å¸ƒçš„ Compose Multiplatform 1.10.0 ä¹Ÿæ­£å¼é›†æˆäº† Navigation 3ï¼Œæ ‡å¿—ç€è¿™ä¸€æ–¹æ¡ˆå·²è¿›å…¥ç”Ÿäº§å°±ç»ªé˜¶æ®µã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦ Navigation 3ï¼Ÿ</h2>
<p>è€ç‰ˆ Jetpack Navigation è¯ç”Ÿäº 2018 å¹´ï¼Œé‚£æ—¶ Jetpack Compose è¿˜æœªé—®ä¸–ã€‚å°½ç®¡åæ¥å¢åŠ äº† Compose æ”¯æŒï¼Œä½†å…¶æ ¸å¿ƒè®¾è®¡ç†å¿µä¸ Compose çš„å£°æ˜å¼ç¼–ç¨‹æ¨¡å‹å­˜åœ¨æ ¹æœ¬å†²çªï¼š</p>
<p><strong>Navigation 2 çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>â€¢ è¿”å›æ ˆæ˜¯ä¸ª"é»‘ç›’"ï¼Œåªèƒ½é—´æ¥è§‚å¯ŸçŠ¶æ€</li>
<li>â€¢ å•ç›®çš„åœ°çº¦æŸï¼Œéš¾ä»¥å®ç°è‡ªé€‚åº”å¤šçª—æ ¼å¸ƒå±€</li>
<li>â€¢ å¤æ‚çš„ XML å¯¼èˆªå›¾é…ç½®</li>
<li>â€¢ ä¸ Compose çš„çŠ¶æ€ç®¡ç†æ–¹å¼æ ¼æ ¼ä¸å…¥</li>
</ul>
<p><strong>Navigation 3 çš„è®¾è®¡å“²å­¦ï¼š</strong></p>
<ul>
<li>â€¢ <strong>å¼€å‘è€…æ‹¥æœ‰è¿”å›æ ˆ</strong>ï¼šä¸å†æ˜¯åº“å†…éƒ¨ç®¡ç†ï¼Œè€Œæ˜¯ä½ å®Œå…¨æŒæ§</li>
<li>â€¢ <strong>æœ€å°åŒ–å¹²é¢„</strong>ï¼šæä¾›å¯ç»„åˆçš„æ„å»ºå—ï¼Œè€Œéä¸€ä½“åŒ–æ–¹æ¡ˆ</li>
<li>â€¢ <strong>æ¨¡å—åŒ–ç»„ä»¶</strong>ï¼šæ›´å°çš„ã€å¯ç»„åˆçš„é›¶ä»¶ï¼Œä¾¿äºè‡ªå®šä¹‰</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fdd9e7714e248c2bebd0cbb00b574ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6buE5p6X5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478537&amp;x-signature=iE4jwV9KquBOzTmE%2BtXF4xOsfxY%3D" alt="nav3_comparison.png" loading="lazy"/></p>
<h2 data-id="heading-1">å¿«é€Ÿä¸Šæ‰‹ï¼šä¸‰æ­¥æ„å»ºå¯¼èˆª</h2>
<h3 data-id="heading-2">å®šä¹‰ç›®çš„åœ° Key</h3>
<p>Navigation 3 ä½¿ç”¨ Kotlin çš„ data class æˆ– data object ä½œä¸ºè·¯ç”±æ ‡è¯†ï¼Œå‚æ•°ç›´æ¥å†…åµŒå…¶ä¸­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span>Â kotlinx.serialization.Serializable
<span class="hljs-keyword">import</span>Â androidx.navigation3.runtime.NavKey

<span class="hljs-comment">//Â æ— å‚æ•°é¡µé¢</span>
<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span>Â <span class="hljs-keyword">object</span>Â HomeÂ :Â NavKey

<span class="hljs-comment">//Â å¸¦å‚æ•°é¡µé¢Â -Â å‚æ•°ç›´æ¥å®šä¹‰åœ¨Â dataÂ classÂ ä¸­</span>
<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">ProductDetail</span>(
Â Â Â Â <span class="hljs-keyword">val</span>Â productId:Â String,
Â Â Â Â <span class="hljs-keyword">val</span>Â source:Â StringÂ =Â <span class="hljs-string">"home"</span>Â Â <span class="hljs-comment">//Â æ”¯æŒé»˜è®¤å€¼</span>
)Â :Â NavKey

<span class="hljs-comment">//Â å¤æ‚å‚æ•°ä¹Ÿä¸åœ¨è¯ä¸‹</span>
<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">UserProfile</span>(
Â Â Â Â <span class="hljs-keyword">val</span>Â userId:Â <span class="hljs-built_in">Long</span>,
Â Â Â Â <span class="hljs-keyword">val</span>Â showEditButton:Â <span class="hljs-built_in">Boolean</span>Â =Â <span class="hljs-literal">false</span>
)Â :Â NavKey
</code></pre>
<h3 data-id="heading-3">åˆ›å»ºè¿”å›æ ˆ</h3>
<p>è¿”å›æ ˆå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯å˜åˆ—è¡¨ï¼Œå¯¼èˆªæ“ä½œ = åˆ—è¡¨æ“ä½œï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span>Â <span class="hljs-title">AppNavigation</span><span class="hljs-params">()</span></span>Â {
Â Â Â Â <span class="hljs-comment">//Â è¿”å›æ ˆÂ -Â å°±æ˜¯ä¸ªæ™®é€šåˆ—è¡¨ï¼</span>
Â Â Â Â <span class="hljs-keyword">val</span>Â backStackÂ =Â rememberÂ {
Â Â Â Â Â Â Â Â mutableStateListOf&lt;NavKey&gt;(Home)
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">//Â å¯¼èˆªåˆ°æ–°é¡µé¢Â =Â æ·»åŠ å…ƒç´ </span>
Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">fun</span>Â <span class="hljs-title">navigateTo</span><span class="hljs-params">(destination:Â <span class="hljs-type">NavKey</span>)</span></span>Â {
Â Â Â Â Â Â Â Â backStack.add(destination)
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">//Â è¿”å›Â =Â ç§»é™¤æœ€åä¸€ä¸ªå…ƒç´ </span>
Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">fun</span>Â <span class="hljs-title">goBack</span><span class="hljs-params">()</span></span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (backStack.sizeÂ &gt;Â <span class="hljs-number">1</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â backStack.removeAt(backStack.lastIndex)
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">//Â å¸¦å‚æ•°è·³è½¬ç¤ºä¾‹</span>
Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">fun</span>Â <span class="hljs-title">openProduct</span><span class="hljs-params">(productId:Â <span class="hljs-type">String</span>)</span></span>Â {
Â Â Â Â Â Â Â Â backStack.add(ProductDetail(
Â Â Â Â Â Â Â Â Â Â Â Â productIdÂ =Â productId,
Â Â Â Â Â Â Â Â Â Â Â Â sourceÂ =Â <span class="hljs-string">"catalog"</span>
Â Â Â Â Â Â Â Â ))
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-4">æ˜¾ç¤ºå¯¼èˆªå†…å®¹</h3>
<p>ä½¿ç”¨ <code>NavDisplay</code> å°†è¿”å›æ ˆæ¸²æŸ“ä¸º UIï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Composable</span>
funÂ AppNavigation()Â {
Â Â Â Â valÂ backStackÂ =Â rememberÂ {Â mutableStateListOf&lt;NavKey&gt;(Home)Â }

Â Â Â Â <span class="hljs-built_in">NavDisplay</span>(
Â Â Â Â Â Â Â Â backStackÂ =Â backStack,
Â Â Â Â Â Â Â Â onBackÂ =Â {Â backStack.removeLastOrNull()Â },
Â Â Â Â Â Â Â Â entryProviderÂ =Â {Â keyÂ -&gt;
Â Â Â Â Â Â Â Â Â Â Â Â whenÂ (key)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â isÂ HomeÂ -&gt;Â <span class="hljs-built_in">NavEntry</span>(key)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">HomeScreen</span>(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â onProductClickÂ =Â {Â idÂ -&gt;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â backStack.add(ProductDetail(id))
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â isÂ ProductDetailÂ -&gt;Â <span class="hljs-built_in">NavEntry</span>(key)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å‚æ•°ç›´æ¥ä»Â keyÂ ä¸­è·å–</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">ProductScreen</span>(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â productIdÂ =Â key.productId,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sourceÂ =Â key.source,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â onBackÂ =Â {Â backStack.removeLastOrNull()Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â isÂ UserProfileÂ -&gt;Â <span class="hljs-built_in">NavEntry</span>(key)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">ProfileScreen</span>(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â userIdÂ =Â key.userId,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â editableÂ =Â key.showEditButton
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ -&gt;Â <span class="hljs-built_in">NavEntry</span>(Unit)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Text("æœªçŸ¥é¡µé¢")
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â )
}
</code></pre>
<h2 data-id="heading-5">å‚æ•°ä¼ é€’ï¼šå‘Šåˆ«å­—ç¬¦ä¸²æ‹¼æ¥</h2>
<p>Navigation 3 çš„å‚æ•°ä¼ é€’æ–¹å¼æ˜¯å…¶æœ€å¤§çš„æ”¹è¿›ä¹‹ä¸€ã€‚å‚æ•°ç›´æ¥å®šä¹‰åœ¨è·¯ç”±çš„ data class ä¸­ï¼Œç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æœŸæ£€æŸ¥ã€‚</p>
<h3 data-id="heading-6">åŸºç¡€å‚æ•°ä¼ é€’</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//Â å®šä¹‰å¸¦å‚æ•°çš„è·¯ç”±</span>
<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">OrderDetail</span>(
Â Â Â Â <span class="hljs-keyword">val</span>Â orderId:Â String,
Â Â Â Â <span class="hljs-keyword">val</span>Â fromNotification:Â <span class="hljs-built_in">Boolean</span>Â =Â <span class="hljs-literal">false</span>
)Â :Â NavKey

<span class="hljs-comment">//Â è·³è½¬æ—¶ä¼ å‚</span>
backStack.add(OrderDetail(
Â Â Â Â orderIdÂ =Â <span class="hljs-string">"ORD-2024-001"</span>,
Â Â Â Â fromNotificationÂ =Â <span class="hljs-literal">true</span>
))

<span class="hljs-comment">//Â ç›®æ ‡é¡µé¢ç›´æ¥ä½¿ç”¨</span>
<span class="hljs-keyword">is</span>Â OrderDetailÂ -&gt;Â NavEntry(key)Â {
Â Â Â Â OrderDetailScreen(
Â Â Â Â Â Â Â Â orderIdÂ =Â key.orderId,Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ç›´æ¥è®¿é—®</span>
Â Â Â Â Â Â Â Â isFromNotificationÂ =Â key.fromNotification
Â Â Â Â )
}
</code></pre>
<h3 data-id="heading-7">å¤æ‚å¯¹è±¡ä¼ é€’</h3>
<p>å¯¹äºå¤æ‚ç±»å‹ï¼Œå¯ä»¥åºåˆ—åŒ–ä¼ é€’æˆ–ä½¿ç”¨ ID æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">//Â æ–¹å¼ä¸€ï¼šä¼ é€’å¯åºåˆ—åŒ–å¯¹è±¡</span>
<span class="hljs-variable">@Serializable</span>
dataÂ classÂ <span class="hljs-built_in">CheckoutScreen</span>(
Â Â Â Â valÂ <span class="hljs-attribute">items</span>:Â List&lt;CartItem&gt;,
Â Â Â Â valÂ <span class="hljs-attribute">couponCode</span>:Â String?Â =Â null
)Â :Â NavKey

<span class="hljs-comment">//Â æ–¹å¼äºŒï¼šä¼ é€’Â IDï¼Œåœ¨ç›®æ ‡é¡µé¢è·å–å®Œæ•´æ•°æ®ï¼ˆæ¨èï¼‰</span>
<span class="hljs-variable">@Serializable</span>
dataÂ classÂ <span class="hljs-built_in">CheckoutScreen</span>(
Â Â Â Â valÂ <span class="hljs-attribute">cartId</span>:Â String
)Â :Â NavKey

<span class="hljs-comment">//Â ç›®æ ‡é¡µé¢é€šè¿‡Â ViewModelÂ è·å–æ•°æ®</span>
isÂ CheckoutScreenÂ -&gt;Â <span class="hljs-built_in">NavEntry</span>(key)Â {
Â Â Â Â <span class="hljs-selector-tag">val</span>Â <span class="hljs-selector-tag">viewModel</span>:Â <span class="hljs-selector-tag">CheckoutViewModel</span>Â =Â <span class="hljs-selector-tag">viewModel</span>()
Â Â Â Â <span class="hljs-selector-tag">LaunchedEffect</span>(key.cartId)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">viewModel</span><span class="hljs-selector-class">.loadCart</span>(key.cartId)
Â Â Â Â }
Â Â Â Â <span class="hljs-selector-tag">CheckoutContent</span>(viewModel)
}
</code></pre>
<h2 data-id="heading-8">ViewModel é›†æˆ</h2>
<p>Navigation 3 æä¾›äº†å¼€ç®±å³ç”¨çš„ ViewModel ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//Â æ·»åŠ ä¾èµ–</span>
<span class="hljs-built_in">implementation</span>("androidx.lifecycle:lifecycle-viewmodel-navigation3:<span class="hljs-number">2.10</span>.<span class="hljs-number">0</span>")

<span class="hljs-comment">//Â é…ç½®Â NavDisplay</span>
<span class="hljs-built_in">NavDisplay</span>(
Â Â Â Â backStackÂ =Â backStack,
Â Â Â Â onBackÂ =Â {Â backStack.removeLastOrNull()Â },
Â Â Â Â entryDecoratorsÂ =Â <span class="hljs-built_in">listOf</span>(
Â Â Â Â Â Â Â Â rememberSavedStateNavEntryDecorator(),Â Â Â Â Â <span class="hljs-comment">//Â çŠ¶æ€ä¿å­˜</span>
Â Â Â Â Â Â Â Â <span class="hljs-built_in">rememberViewModelStoreNavEntryDecorator</span>()Â Â <span class="hljs-comment">//Â ViewModelÂ ä½œç”¨åŸŸ</span>
Â Â Â Â ),
Â Â Â Â entryProviderÂ =Â {Â keyÂ -&gt;
Â Â Â Â Â Â Â Â whenÂ (key)Â {
Â Â Â Â Â Â Â Â Â Â Â Â isÂ ProductDetailÂ -&gt;Â <span class="hljs-built_in">NavEntry</span>(key)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ViewModelÂ è‡ªåŠ¨ç»‘å®šåˆ°Â NavEntryÂ ç”Ÿå‘½å‘¨æœŸ</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â valÂ viewModel:Â ProductViewModelÂ =Â <span class="hljs-built_in">viewModel</span>()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">ProductScreen</span>(viewModel)
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â }
)
</code></pre>
<p>ViewModel ä¼šåœ¨å¯¹åº”çš„ NavEntry ä»è¿”å›æ ˆç§»é™¤æ—¶è‡ªåŠ¨æ¸…ç†ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†ã€‚</p>
<h2 data-id="heading-9">åŠ¨ç”»ä¸è¿‡æ¸¡æ•ˆæœ</h2>
<p>Navigation 3 å†…ç½®äº†å¹³æ»‘çš„è½¬åœºåŠ¨ç”»ï¼Œæ”¯æŒé¢„æµ‹æ€§è¿”å›æ‰‹åŠ¿ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">  NavDisplay(
Â Â Â Â <span class="hljs-attr">backStack</span>Â =Â backStack,
Â Â Â Â <span class="hljs-attr">onBack</span>Â =Â {Â backStack.removeLastOrNull()Â },
Â Â Â Â <span class="hljs-attr">entryProvider</span>Â =Â entryProvider,
Â Â Â Â //Â è‡ªå®šä¹‰åŠ¨ç”»
Â Â Â Â <span class="hljs-attr">transitionSpec</span>Â =Â {
Â Â Â Â Â Â Â Â slideInHorizontallyÂ {Â itÂ }Â togetherWithÂ slideOutHorizontallyÂ {Â -itÂ }
Â Â Â Â }
)
</code></pre>
<h2 data-id="heading-10">å¯¹è¯æ¡†ä¸åº•éƒ¨å¼¹çª—</h2>
<pre><code class="hljs language-ini" lang="ini">//Â å®šä¹‰å¯¹è¯æ¡†è·¯ç”±
@Serializable
dataÂ classÂ ConfirmDialog(valÂ message:Â String)Â :Â NavKey

//Â ä½¿ç”¨Â DialogSceneStrategy
NavDisplay(
Â Â Â Â <span class="hljs-attr">backStack</span>Â =Â backStack,
Â Â Â Â <span class="hljs-attr">sceneStrategy</span>Â =Â rememberÂ {Â DialogSceneStrategy()Â },
Â Â Â Â <span class="hljs-attr">entryProvider</span>Â =Â {Â keyÂ -&gt;
Â Â Â Â Â Â Â Â whenÂ (key)Â {
Â Â Â Â Â Â Â Â Â Â Â Â isÂ ConfirmDialogÂ -&gt;Â NavEntry(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">key</span>Â =Â key,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">metadata</span>Â =Â DialogSceneStrategy.dialog()Â Â //Â æ ‡è®°ä¸ºå¯¹è¯æ¡†
Â Â Â Â Â Â Â Â Â Â Â Â )Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â AlertDialog(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">onDismissRequest</span>Â =Â {Â backStack.removeLastOrNull()Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">title</span>Â =Â {Â Text(<span class="hljs-string">"ç¡®è®¤"</span>)Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">text</span>Â =Â {Â Text(key.message)Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">confirmButton</span>Â =Â {Â /*Â ...Â */Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â }
)
</code></pre>
<h2 data-id="heading-11">ä¸ Navigation 2 çš„æ ¸å¿ƒå·®å¼‚</h2>













































<table><thead><tr><th>æ–¹é¢</th><th>Navigation 2</th><th>Navigation 3</th></tr></thead><tbody><tr><td><strong>è®¾è®¡ç›®æ ‡</strong></td><td>Views &amp; Compose å…¼å®¹</td><td>ä»… Compose</td></tr><tr><td><strong>è¿”å›æ ˆç®¡ç†</strong></td><td>åº“å†…éƒ¨ç®¡ç†ï¼ˆé»‘ç›’ï¼‰</td><td>å¼€å‘è€…å®Œå…¨æŒæ§</td></tr><tr><td><strong>è·¯ç”±å®šä¹‰</strong></td><td>å­—ç¬¦ä¸²æˆ– NavGraphBuilder DSL</td><td>data class/object</td></tr><tr><td><strong>å‚æ•°ä¼ é€’</strong></td><td>SafeArgs / Bundle</td><td>ç›´æ¥å±æ€§è®¿é—®</td></tr><tr><td><strong>çŠ¶æ€æ§åˆ¶</strong></td><td>NavController</td><td>NavigationState + Navigator</td></tr><tr><td><strong>å¤šçª—æ ¼å¸ƒå±€</strong></td><td>éœ€è¦é¢å¤–å¤„ç†</td><td>åŸç”Ÿ Scene æ”¯æŒ</td></tr><tr><td><strong>åµŒå¥—å¯¼èˆª</strong></td><td>æ”¯æŒå¤šå±‚åµŒå¥—</td><td>ç›®å‰ä»…æ”¯æŒå•å±‚</td></tr></tbody></table>
<h2 data-id="heading-12">è¿ç§»å»ºè®®</h2>
<p>å¦‚æœä½ æ­£åœ¨è€ƒè™‘è¿ç§»åˆ° Navigation 3ï¼š</p>
<p><strong>é€‚åˆè¿ç§»çš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>â€¢ çº¯ Compose åº”ç”¨</li>
<li>â€¢ éœ€è¦è‡ªé€‚åº”å¸ƒå±€ï¼ˆæ‰‹æœº/å¹³æ¿/æ¡Œé¢ï¼‰</li>
<li>â€¢ å¸Œæœ›æ›´å¥½åœ°æ§åˆ¶å¯¼èˆªçŠ¶æ€</li>
<li>â€¢ æ–°é¡¹ç›®æˆ–é‡æ„é¡¹ç›®</li>
</ul>
<p><strong>æš‚æ—¶è§‚æœ›çš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>â€¢ ä¾èµ–å¤æ‚æ·±åº¦é“¾æ¥</li>
<li>â€¢ éœ€è¦å¤šå±‚åµŒå¥—å¯¼èˆª</li>
<li>â€¢ View ä¸ Compose æ··åˆåº”ç”¨</li>
<li>â€¢ å¯¹ç¨³å®šæ€§è¦æ±‚æé«˜çš„ç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<h2 data-id="heading-13">æ€»ç»“</h2>
<p>Navigation 3 ä»£è¡¨äº† Android å¯¼èˆªæ–¹æ¡ˆçš„ä¸€æ¬¡èŒƒå¼è½¬å˜ã€‚å®ƒæŠ›å¼ƒäº†è€ç‰ˆæœ¬çš„å†å²åŒ…è¢±ï¼Œå®Œå…¨æ‹¥æŠ± Compose çš„å£°æ˜å¼ç†å¿µã€‚è™½ç„¶ç›®å‰è¿˜æœ‰äº›åŠŸèƒ½å°šæœªå®Œå–„ï¼ˆå¦‚æ·±åº¦é“¾æ¥ï¼‰ï¼Œä½†å…¶æ¸…æ™°çš„ API è®¾è®¡å’Œå¯¹å¼€å‘è€…çš„ä¿¡ä»»ï¼Œè®©å¯¼èˆªé€»è¾‘å˜å¾—å‰æ‰€æœªæœ‰çš„é€æ˜å’Œå¯æ§ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å¼€å‘æ–°çš„ Compose åº”ç”¨ï¼ŒNavigation 3 ç»å¯¹å€¼å¾—ä¸€è¯•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†ä¹±ç”¨ useMemo äº†ï¼React æ€§èƒ½ä¼˜åŒ–ä¸‰å¤§ç¼“å­˜ Hook å¯¹æ¯” + ä¸ Vue computed çš„æœ¬è´¨åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7596865421612138550</link>    <guid>https://juejin.cn/post/7596865421612138550</guid>    <pubDate>2026-01-19T11:14:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596865421612138550" data-draft-id="7596883689826844735" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†ä¹±ç”¨ useMemo äº†ï¼React æ€§èƒ½ä¼˜åŒ–ä¸‰å¤§ç¼“å­˜ Hook å¯¹æ¯” + ä¸ Vue computed çš„æœ¬è´¨åŒºåˆ«"/> <meta itemprop="keywords" content="React.js,å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-19T11:14:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…¨æ ˆæ‰“æ€ªæ—¥è®°"/> <meta itemprop="url" content="https://juejin.cn/user/2269028453720813"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†ä¹±ç”¨ useMemo äº†ï¼React æ€§èƒ½ä¼˜åŒ–ä¸‰å¤§ç¼“å­˜ Hook å¯¹æ¯” + ä¸ Vue computed çš„æœ¬è´¨åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2269028453720813/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…¨æ ˆæ‰“æ€ªæ—¥è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T11:14:06.000Z" title="Mon Jan 19 2026 11:14:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨ review ä»£ç æ—¶ï¼Œå‘ç°ä¸å°‘åŒå­¦å¯¹Â <code>useMemo</code>Â çš„ä½¿ç”¨å­˜åœ¨è¯¯è§£ï¼š</p>
<ul>
<li>æœ‰çš„åœ°æ–¹è¯¥ç”¨ä¸ç”¨ï¼Œå¯¼è‡´æ€§èƒ½æµªè´¹ï¼›</li>
<li>æœ‰çš„åœ°æ–¹æ»¥ç”¨ï¼Œåè€Œå¢åŠ å¼€é”€ï¼›</li>
<li>æ›´æœ‰äººæŠŠå®ƒå’ŒÂ <code>useRef</code>ã€<code>useCallback</code>Â æ··ä¸ºä¸€è°ˆâ€¦â€¦</li>
</ul>
<p>ä»Šå¤©ï¼Œæˆ‘å°±ç”¨<strong>ä¸€ä¸ªç®€å•ä¾‹å­ + ä¸‰å¤§å¯¹æ¯” + ä¸€ä¸ªçµé­‚æ‹·é—®</strong>ï¼Œå¸¦ä½ å½»åº•ææ‡‚Â <code>useMemo</code>Â çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ï¼</p>
<h3 data-id="heading-0">ä¸€ã€å…ˆçœ‹ä¸€ä¸ªç»å…¸åœºæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦ useMemoï¼Ÿ</h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè¿˜æœ‰ä¸€ä¸ªâ€œåˆ‡æ¢ä¸»é¢˜â€æŒ‰é’®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab945f7316694ca99ac99dd4597517ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWo5qCI5omT5oCq5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769426045&amp;x-signature=y338FC%2FDCzRQx63HBXalLJDN69I%3D" alt="carbon (3).png" loading="lazy"/></p>
<p>é—®é¢˜æ¥äº†ï¼š<strong>å½“æˆ‘ç‚¹å‡»â€œåˆ‡æ¢ä¸»é¢˜â€æ—¶ï¼Œ<code>squared</code>Â ä¼šé‡æ–°è®¡ç®—å—ï¼Ÿ</strong></p>
<p>âœ… ç­”æ¡ˆæ˜¯ï¼š<strong>ä¼šï¼</strong><br/>
å› ä¸ºæ¯æ¬¡çŠ¶æ€æ›´æ–°éƒ½ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ‰§è¡Œï¼Œ<code>count * count</code>Â å°±ä¼šè¢«é‡å¤è®¡ç®—ã€‚</p>
<p>è™½ç„¶ä¹˜æ³•å¾ˆå¿«ï¼Œä½†å¦‚æœè¿™æ˜¯ä¸ªå¤æ‚æ“ä½œï¼ˆå¦‚æ’åºã€æ ¼å¼åŒ–ã€æ·±åº¦å…‹éš†ï¼‰ï¼Œå°±ä¼šé€ æˆ<strong>ä¸å¿…è¦çš„æ€§èƒ½æŸè€—</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-1">äºŒã€useMemoï¼šåªåœ¨ä¾èµ–å˜åŒ–æ—¶æ‰è®¡ç®—</h3>
<p>è§£å†³æ–¹æ¡ˆå°±æ˜¯ â€”â€”Â <strong><code>useMemo</code></strong>ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c84009f486a64b6db8e08d7b0f897e2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWo5qCI5omT5oCq5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769426045&amp;x-signature=h7Hvqf%2Bs0ZIxCUcnhEWnl7FAO%2FE%3D" alt="carbon (4).png" loading="lazy"/></p>
<p>ç°åœ¨ï¼š</p>
<ul>
<li>ç‚¹å‡»Â  <strong>+1</strong>Â â†’ é‡æ–°è®¡ç®— âœ…</li>
<li>ç‚¹å‡»Â <strong>åˆ‡æ¢ä¸»é¢˜</strong>Â â†’ ä¸è®¡ç®— âŒï¼ˆæ§åˆ¶å°æ— æ—¥å¿—ï¼‰</li>
</ul>
<blockquote>
<p>âœ¨Â <code>useMemo</code>Â çš„ä½œç”¨ï¼š<strong>ç¼“å­˜è®¡ç®—ç»“æœï¼Œä¾èµ–ä¸å˜å°±ä¸é‡ç®—ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€ä¸‰å¤§ç¼“å­˜ Hook å¯¹æ¯”ï¼šåˆ«å†æ··ç”¨äº†ï¼</h3>
<p>å¾ˆå¤šåŒå­¦åˆ†ä¸æ¸…Â <code>useMemo</code>ã€<code>useCallback</code>ã€<code>useRef</code>ï¼Œå…¶å®å®ƒä»¬<strong>ç›®æ ‡å®Œå…¨ä¸åŒ</strong>ï¼š</p>





























<table><thead><tr><th>Hook</th><th>ç¼“å­˜ä»€ä¹ˆï¼Ÿ</th><th>å…¸å‹ç”¨é€”</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>useRef</code></td><td>ä¸€ä¸ªå¯å˜å®¹å™¨ï¼ˆ<code>.current</code>ï¼‰</td><td>å­˜ DOM å¼•ç”¨ã€å®šæ—¶å™¨ IDã€è·¨æ¸²æŸ“å˜é‡</td><td><code>{ current: T }</code></td></tr><tr><td><code>useCallback</code></td><td>å‡½æ•°</td><td>é˜²æ­¢å‡½æ•°é‡å»ºå¯¼è‡´å­ç»„ä»¶é‡æ¸²æŸ“</td><td><code>Function</code></td></tr><tr><td><code>useMemo</code></td><td>ä»»æ„å€¼ï¼ˆå¯¹è±¡/æ•°ç»„/è®¡ç®—ç»“æœï¼‰</td><td>é¿å…é‡å¤æ‰§è¡Œæ˜‚è´µè®¡ç®—</td><td><code>T</code></td></tr></tbody></table>
<h4 data-id="heading-3">ğŸ’¡ ä¸€å¥è¯åŒºåˆ†ï¼š</h4>
<ul>
<li>æƒ³ç¼“å­˜<strong>ä¸€ä¸ªå€¼</strong>ï¼ˆä¸æ˜¯å‡½æ•°ï¼‰â†’Â <code>useMemo</code></li>
<li>æƒ³ç¼“å­˜<strong>ä¸€ä¸ªå‡½æ•°</strong>Â â†’Â <code>useCallback</code></li>
<li>æƒ³å­˜ä¸€ä¸ª<strong>ä¸è§¦å‘æ¸²æŸ“çš„å˜é‡</strong>Â â†’Â <code>useRef</code></li>
</ul>
<blockquote>
<p>âš ï¸ å¸¸è§è¯¯åŒºï¼š<br/>
â€œæˆ‘ç”¨Â <code>useRef</code>Â å­˜è®¡ç®—ç»“æœä¸å°±è¡Œäº†ï¼Ÿâ€<br/>
â†’ æŠ€æœ¯ä¸Šå¯è¡Œï¼Œä½†ä½ å¾—æ‰‹åŠ¨åˆ¤æ–­ä¾èµ–æ˜¯å¦å˜åŒ–ï¼Œ<strong>ææ˜“å‡ºé”™ä¸”ä¸å¯ç»´æŠ¤</strong>ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">å››ã€çµé­‚æ‹·é—®ï¼šReact çš„ useMemo vs Vue çš„ computedï¼Ÿ</h3>
<p>å¾ˆå¤šä» Vue è½¬ React çš„åŒå­¦ä¼šé—®ï¼š</p>
<blockquote>
<p>â€œ<code>useMemo</code>Â æ˜¯ä¸æ˜¯å°±ç­‰äº Vue çš„Â <code>computed</code>ï¼Ÿâ€</p>
</blockquote>
<p><strong>ç­”æ¡ˆæ˜¯ï¼šç›¸ä¼¼ï¼Œä½†åº•å±‚æœºåˆ¶å®Œå…¨ä¸åŒï¼</strong></p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Vue <code>computed</code></th><th>React <code>useMemo</code></th></tr></thead><tbody><tr><td>å“åº”å¼åŸç†</td><td>è‡ªåŠ¨ä¾èµ–è¿½è¸ªï¼ˆProxy åŠ«æŒï¼‰</td><td>æ‰‹åŠ¨å£°æ˜ä¾èµ–ï¼ˆä¾èµ–æ•°ç»„ï¼‰</td></tr><tr><td>æ›´æ–°ç²’åº¦</td><td>ç»†ç²’åº¦ï¼ˆåªæ›´æ–°ç”¨åˆ°çš„æ•°æ®ï¼‰</td><td>ç»„ä»¶çº§ï¼ˆæ•´ä¸ªå‡½æ•°é‡æ‰§è¡Œï¼‰</td></tr><tr><td>æ˜¯å¦è‡ªåŠ¨ç¼“å­˜</td><td>âœ… æ˜¯</td><td>âœ… æ˜¯ï¼ˆä½†éœ€æ‰‹åŠ¨å†™ï¼‰</td></tr><tr><td>å¿ƒæ™ºæ¨¡å‹</td><td>â€œæ•°æ®å˜äº†ï¼Œè§†å›¾è‡ªåŠ¨è·Ÿä¸Šâ€</td><td>â€œçŠ¶æ€å˜äº†ï¼Œæˆ‘é‡æ–°æè¿° UIâ€</td></tr></tbody></table>
<blockquote>
<p>ğŸŒ° ä¸¾ä¸ªä¾‹å­ï¼š<br/>
åœ¨ Vue ä¸­ï¼Œä½ å†™Â <code>computed: { fullName() { return this.firstName + this.lastName } }</code>ï¼Œæ¡†æ¶<strong>è‡ªåŠ¨çŸ¥é“</strong>å®ƒä¾èµ–Â <code>firstName</code>Â å’ŒÂ <code>lastName</code>ã€‚<br/>
è€Œåœ¨ React ä¸­ï¼Œä½ å¿…é¡»<strong>æ˜¾å¼å†™å‡º</strong>Â <code>[firstName, lastName]</code>ï¼Œå¦åˆ™ä¼šç”¨æ—§å€¼ï¼</p>
</blockquote>
<p>âœ… æ‰€ä»¥ï¼š</p>
<ul>
<li><strong>Vue çš„ computed æ›´â€œæ™ºèƒ½â€</strong></li>
<li><strong>React çš„ useMemo æ›´â€œæ˜¾å¼å¯æ§â€</strong></li>
</ul>
<hr/>
<h3 data-id="heading-5">äº”ã€ä½¿ç”¨ useMemo çš„ 3 ä¸ªæœ€ä½³å®è·µ</h3>
<ol>
<li>
<p><strong>ä¸è¦è¿‡æ—©ä¼˜åŒ–</strong><br/>
ç®€å•è®¡ç®—ï¼ˆå¦‚Â <code>a + b</code>ï¼‰ä¸éœ€è¦Â <code>useMemo</code>ï¼Œåè€Œå¢åŠ å†…å­˜å¼€é”€ã€‚</p>
</li>
<li>
<p><strong>ä¾èµ–æ•°ç»„å¿…é¡»å†™å…¨</strong><br/>
æ¼æ‰ä¾èµ–ä¼šå¯¼è‡´â€œstale closureâ€ï¼ˆé—­åŒ…é™·é˜±ï¼‰ï¼Œç”¨ ESLint æ’ä»¶Â <code>exhaustive-deps</code>Â è‡ªåŠ¨æ£€æŸ¥ã€‚</p>
</li>
<li>
<p><strong>ä¸»è¦ç”¨äºä»¥ä¸‹åœºæ™¯</strong>ï¼š</p>
<ul>
<li>æ˜‚è´µçš„è®¡ç®—ï¼ˆæ’åºã€è¿‡æ»¤ã€æ ¼å¼åŒ–ï¼‰</li>
<li>åˆ›å»ºæ–°å¯¹è±¡/æ•°ç»„ï¼ˆé¿å…å­ç»„ä»¶å› å¼•ç”¨å˜åŒ–é‡æ¸²æŸ“ï¼‰</li>
<li>ä¼ é€’ props ç»™Â <code>React.memo</code>Â åŒ…è£¹çš„å­ç»„ä»¶</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-6">å…­ã€æ€»ç»“</h3>
<ul>
<li><code>useMemo</code>Â ä¸æ˜¯ä¸‡èƒ½è¯ï¼Œä½†å®ƒæ˜¯<strong>æ€§èƒ½ä¼˜åŒ–çš„å…³é”®å·¥å…·</strong>ã€‚</li>
<li>å®ƒå’ŒÂ <code>useCallback</code>ã€<code>useRef</code>Â å„å¸å…¶èŒï¼Œ<strong>ä¸è¦æ··ç”¨</strong>ã€‚</li>
<li>ä¸ Vue çš„Â <code>computed</code>Â ç›¸æ¯”ï¼ŒReact æ›´å¼ºè°ƒ<strong>æ˜¾å¼ä¾èµ–å£°æ˜</strong>ï¼Œè¿™æ˜¯å‡½æ•°å¼æ€ç»´çš„æ ¸å¿ƒã€‚</li>
</ul>
<blockquote>
<p>ğŸ”‘Â <strong>è®°ä½</strong>ï¼š<br/>
<strong>â€œuseMemo ç¼“å­˜çš„æ˜¯å€¼ï¼ŒuseCallback ç¼“å­˜çš„æ˜¯å‡½æ•°ï¼ŒuseRef å­˜çš„æ˜¯ç›’å­ã€‚â€</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šæ·±å…¥ç†è§£ JavaScriptï¼šä¸ºä»€ä¹ˆåŸºæœ¬ç±»å‹ string ä¹Ÿèƒ½è°ƒç”¨ .lengthï¼Ÿã€‹]]></title>    <link>https://juejin.cn/post/7596883689826943039</link>    <guid>https://juejin.cn/post/7596883689826943039</guid>    <pubDate>2026-01-19T11:35:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596883689826943039" data-draft-id="7596883689826926655" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šæ·±å…¥ç†è§£ JavaScriptï¼šä¸ºä»€ä¹ˆåŸºæœ¬ç±»å‹ string ä¹Ÿèƒ½è°ƒç”¨ .lengthï¼Ÿã€‹"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2026-01-19T11:35:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·80110532256"/> <meta itemprop="url" content="https://juejin.cn/user/1927884034804425"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šæ·±å…¥ç†è§£ JavaScriptï¼šä¸ºä»€ä¹ˆåŸºæœ¬ç±»å‹ string ä¹Ÿèƒ½è°ƒç”¨ .lengthï¼Ÿã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1927884034804425/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·80110532256
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T11:35:24.000Z" title="Mon Jan 19 2026 11:35:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h4 data-id="heading-0">å‰è¨€</h4>
<p>åœ¨æ—¥å¸¸çš„ JavaScript å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¸å­—ç¬¦ä¸²æ‰“äº¤é“ã€‚è®¿é—®å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯å†åŸºç¡€ä¸è¿‡çš„æ“ä½œäº†ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">str</span> = <span class="hljs-string">"hello"</span><span class="hljs-comment">;</span>
console.log(str.length)<span class="hljs-comment">; // 5</span>
</code></pre>
<p>è¿™æ®µä»£ç çœ‹èµ·æ¥å¹³å¹³æ— å¥‡ï¼Œä½†ä½ æ˜¯å¦æ›¾æƒ³è¿‡è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š<code>str</code> æ˜¯ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆprimitive typeï¼‰<code>string</code>ï¼Œè€Œæˆ‘ä»¬çŸ¥é“åŸºæœ¬æ•°æ®ç±»å‹æœ¬èº«æ˜¯ä¸èƒ½æ‹¥æœ‰å±æ€§å’Œæ–¹æ³•çš„ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆ <code>str.length</code> å´èƒ½æ­£å¸¸å·¥ä½œå‘¢ï¼Ÿ</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ­å¼€è¿™ä¸ªçœ‹ä¼¼ç®€å•æ“ä½œèƒŒåçš„ç§˜å¯†â€”â€”<strong>è‡ªåŠ¨è£…ç®±ï¼ˆAutoboxingï¼‰</strong> ã€‚</p>
<h4 data-id="heading-1">ä¸€ã€JavaScript æ•°æ®ç±»å‹çš„åˆ†ç±»</h4>
<p>åœ¨æ·±å…¥äº†è§£ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ JavaScript çš„æ•°æ®ç±»å‹ã€‚å®ƒä»¬ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p>
<ol>
<li>
<p><strong>åŸºæœ¬æ•°æ®ç±»å‹ (Primitives)</strong> :</p>
<ul>
<li><code>number</code></li>
<li><code>string</code></li>
<li><code>boolean</code></li>
<li><code>null</code></li>
<li><code>undefined</code></li>
<li><code>symbol</code> (ES6 æ–°å¢)</li>
<li><code>bigint</code> (ES2020 æ–°å¢)</li>
<li><strong>ç‰¹ç‚¹</strong>: åŸºæœ¬ç±»å‹çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œå¹¶ä¸”æœ¬èº«æ²¡æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¼•ç”¨ç±»å‹ (Objects)</strong> :</p>
<ul>
<li><code>Object</code></li>
<li><code>Array</code></li>
<li><code>Function</code></li>
<li><code>Date</code></li>
<li><code>RegExp</code></li>
<li>åŒ…æ‹¬ <code>String</code>, <code>Number</code>, <code>Boolean</code> ç­‰åŒ…è£…å¯¹è±¡</li>
<li><strong>ç‰¹ç‚¹</strong>: å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯å˜çš„ï¼Œæ‹¥æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-2">äºŒã€String å¯¹è±¡ vs. string åŸºæœ¬ç±»å‹</h4>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>new String()</code> è¯­æ³•æ—¶ï¼Œåˆ›å»ºçš„æ˜¯ä¸€ä¸ª <code>String</code> å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> primitiveStr = <span class="hljs-string">"hello"</span>;        <span class="hljs-comment">// åŸºæœ¬ç±»å‹ string</span>
<span class="hljs-keyword">const</span> stringObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"hello"</span>); <span class="hljs-comment">// String å¯¹è±¡</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> primitiveStr); <span class="hljs-comment">// "string"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> stringObj);    <span class="hljs-comment">// "object"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(stringObj)); <span class="hljs-comment">// "[object String]"</span>
</code></pre>
<p>æ˜¾ç„¶ï¼Œ<code>stringObj</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒè‡ªç„¶æ‹¥æœ‰ <code>.length</code> å±æ€§ï¼Œè¿™å¾ˆå¥½ç†è§£ã€‚</p>
<p>é‚£ä¹ˆï¼Œé—®é¢˜å°±å›åˆ°äº†æœ€åˆçš„ç–‘é—®ï¼šä¸ºä»€ä¹ˆ <code>primitiveStr</code> è¿™ä¸ªåŸºæœ¬ç±»å‹ä¹Ÿèƒ½è®¿é—® <code>.length</code>ï¼Ÿ</p>
<h4 data-id="heading-3">ä¸‰ã€æ­ç§˜ï¼šè‡ªåŠ¨è£…ç®± (Autoboxing)</h4>
<p>ç­”æ¡ˆå°±åœ¨ JavaScript å¼•æ“ä¸ºæˆ‘ä»¬é»˜é»˜æ‰§è¡Œçš„â€œè‡ªåŠ¨è£…ç®±â€è¿‡ç¨‹ã€‚</p>
<p>å½“ä½ çš„ä»£ç è¯•å›¾è®¿é—®ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹å€¼çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼ˆä¾‹å¦‚ <code>primitiveStr.length</code> æˆ– <code>primitiveStr.toUpperCase()</code>ï¼‰ï¼ŒJavaScript å¼•æ“ä¼šæŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li><strong>ä¸´æ—¶åˆ›å»ºå¯¹è±¡</strong>: å¼•æ“ä¼šæ ¹æ®åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä¸´æ—¶åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„åŒ…è£…å¯¹è±¡ã€‚å¯¹äº <code>string</code>ï¼Œåˆ™åˆ›å»º <code>String</code> å¯¹è±¡ï¼›å¯¹äº <code>number</code>ï¼Œåˆ™åˆ›å»º <code>Number</code> å¯¹è±¡ï¼›å¯¹äº <code>boolean</code>ï¼Œåˆ™åˆ›å»º <code>Boolean</code> å¯¹è±¡ã€‚</li>
<li><strong>å§”æ‰˜æ“ä½œ</strong>: å¼•æ“å°†è¯·æ±‚çš„å±æ€§æˆ–æ–¹æ³•è°ƒç”¨å§”æ‰˜ç»™è¿™ä¸ªæ–°åˆ›å»ºçš„ä¸´æ—¶å¯¹è±¡ã€‚</li>
<li><strong>è¿”å›ç»“æœ</strong>: æ“ä½œå®Œæˆåï¼Œå°†ç»“æœè¿”å›ã€‚</li>
<li><strong>é”€æ¯å¯¹è±¡</strong>: è¿™ä¸ªä¸´æ—¶åˆ›å»ºçš„åŒ…è£…å¯¹è±¡éšå³è¢«é”€æ¯ã€‚</li>
</ol>
<p><strong>ç”¨ä»£ç æ¥æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å½“æ‰§è¡Œ primitiveStr.length æ—¶ï¼Œå¼•æ“å†…éƒ¨å¤§è‡´åšäº†è¿™äº›äº‹ï¼š</span>
<span class="hljs-keyword">const</span> tempStrObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(primitiveStr); <span class="hljs-comment">// 1. åˆ›å»ºä¸´æ—¶ String å¯¹è±¡</span>
<span class="hljs-keyword">const</span> length = tempStrObj.<span class="hljs-property">length</span>;            <span class="hljs-comment">// 2. åœ¨ä¸´æ—¶å¯¹è±¡ä¸Šè°ƒç”¨ .length</span>
<span class="hljs-comment">// tempStrObj è¢«é”€æ¯                        // 4. é”€æ¯ä¸´æ—¶å¯¹è±¡</span>
<span class="hljs-comment">// console.log(length); // 5               // 3. è¿”å›ç»“æœ</span>
</code></pre>
<p>æ­£æ˜¯å› ä¸ºè¿™ä¸ªä¸´æ—¶çš„ <code>String</code> å¯¹è±¡çš„å­˜åœ¨ï¼Œæˆ‘ä»¬æ‰èƒ½åœ¨åŸºæœ¬ç±»å‹ <code>string</code> ä¸Šè®¿é—®åˆ° <code>.length</code> å±æ€§ä»¥åŠå…¶ä»–å­—ç¬¦ä¸²æ–¹æ³•ï¼ˆå¦‚ <code>toUpperCase</code>, <code>substring</code>, <code>indexOf</code> ç­‰ï¼‰ã€‚</p>
<h4 data-id="heading-4">å››ã€å®è·µéªŒè¯</h4>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥æ›´ç›´è§‚åœ°æ„Ÿå— <code>string</code> åŸºæœ¬ç±»å‹å’Œ <code>String</code> å¯¹è±¡çš„åŒºåˆ«ä¸è”ç³»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> strBasic = <span class="hljs-string">"hello world"</span>;
<span class="hljs-keyword">const</span> strObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"hello world"</span>);

<span class="hljs-comment">// ä¸¤è€…éƒ½èƒ½è®¿é—® .length</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strBasic.<span class="hljs-property">length</span>); <span class="hljs-comment">// 11 - é€šè¿‡è‡ªåŠ¨è£…ç®±è®¿é—®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strObj.<span class="hljs-property">length</span>);   <span class="hljs-comment">// 11 - ç›´æ¥è®¿é—®å¯¹è±¡å±æ€§</span>

<span class="hljs-comment">// ä¸¤è€…éƒ½èƒ½è°ƒç”¨å­—ç¬¦ä¸²æ–¹æ³•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strBasic.<span class="hljs-title function_">toUpperCase</span>()); <span class="hljs-comment">// "HELLO WORLD" - è‡ªåŠ¨è£…ç®±åè°ƒç”¨</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strObj.<span class="hljs-title function_">toUpperCase</span>());   <span class="hljs-comment">// "HELLO WORLD" - ç›´æ¥è°ƒç”¨å¯¹è±¡æ–¹æ³•</span>

<span class="hljs-comment">// typeof æ£€æŸ¥</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> strBasic); <span class="hljs-comment">// "string"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> strObj);   <span class="hljs-comment">// "object"</span>

<span class="hljs-comment">// è·å–åŸå§‹å€¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strObj.<span class="hljs-title function_">valueOf</span>()); <span class="hljs-comment">// "hello world" - String å¯¹è±¡çš„æ–¹æ³•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strObj + <span class="hljs-string">""</span>);      <span class="hljs-comment">// "hello world" - éšå¼ç±»å‹è½¬æ¢</span>
</code></pre>
<h4 data-id="heading-5">äº”ã€æ³¨æ„äº‹é¡¹</h4>
<ol>
<li><strong>æ€§èƒ½</strong>: è‡ªåŠ¨è£…ç®±æ˜¯ä¸€ä¸ªéšå¼çš„ã€çŸ­æš‚çš„è¿‡ç¨‹ã€‚è™½ç„¶å®ƒæ–¹ä¾¿äº†æˆ‘ä»¬ç¼–ç¨‹ï¼Œä½†é¢‘ç¹åœ°è®¿é—®åŸºæœ¬ç±»å‹ä¸Šçš„å±æ€§/æ–¹æ³•å¯èƒ½ä¼šå¸¦æ¥å¾®å°çš„æ€§èƒ½å¼€é”€ï¼ˆå› ä¸ºæ¶‰åŠå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ï¼‰ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ç§å¼€é”€å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</li>
<li><strong>é¿å…ä½¿ç”¨åŒ…è£…å¯¹è±¡åˆ›å»ºåŸºæœ¬ç±»å‹</strong>: åº”è¯¥å§‹ç»ˆä½¿ç”¨å­—é¢é‡æ–¹å¼åˆ›å»ºåŸºæœ¬ç±»å‹ï¼ˆ<code>let str = "hello"</code>ï¼‰ï¼Œè€Œä¸æ˜¯æ„é€ å‡½æ•°æ–¹å¼ï¼ˆ<code>let str = new String("hello")</code>ï¼‰ã€‚åè€…åˆ›å»ºçš„æ˜¯å¯¹è±¡ï¼Œä¸ä»…æ€§èƒ½è¾ƒå·®ï¼Œè¿˜å¯èƒ½å¯¼è‡´ä¸€äº›æ„æƒ³ä¸åˆ°çš„è¡Œä¸ºï¼Œå°¤å…¶æ˜¯åœ¨å¸ƒå°”åˆ¤æ–­æ—¶ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å±é™©ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> falsyStrObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">""</span>); <span class="hljs-comment">// ç©ºå­—ç¬¦ä¸²å¯¹è±¡</span>
<span class="hljs-keyword">if</span> (falsyStrObj) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"This will print!"</span>); <span class="hljs-comment">// å³ä½¿å­—ç¬¦ä¸²ä¸ºç©ºï¼Œå¯¹è±¡æœ¬èº«æ˜¯ truthyï¼</span>
}

<span class="hljs-comment">// æ­£ç¡®ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> falsyStr = <span class="hljs-string">""</span>; <span class="hljs-comment">// ç©ºå­—ç¬¦ä¸²åŸºæœ¬ç±»å‹</span>
<span class="hljs-keyword">if</span> (falsyStr) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"This will NOT print."</span>); <span class="hljs-comment">// ç©ºå­—ç¬¦ä¸²åŸºæœ¬ç±»å‹æ˜¯ falsy</span>
}
</code></pre>
<h4 data-id="heading-6">å…­ã€æ€»ç»“</h4>
<p>é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼š</p>
<ul>
<li>JavaScript çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ <code>string</code>, <code>number</code>, <code>boolean</code>ï¼‰æœ¬èº«æ²¡æœ‰å±æ€§å’Œæ–¹æ³•ã€‚</li>
<li><code>String</code>, <code>Number</code>, <code>Boolean</code> æ˜¯å¯¹åº”çš„<strong>åŒ…è£…å¯¹è±¡</strong>ï¼Œæ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„å±æ€§å’Œæ–¹æ³•ã€‚</li>
<li>å½“æˆ‘ä»¬è®¿é—®åŸºæœ¬ç±»å‹å€¼çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼ŒJavaScript å¼•æ“ä¼šæ‰§è¡Œ<strong>è‡ªåŠ¨è£…ç®±</strong>ï¼Œä¸´æ—¶å°†å…¶è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œæ“ä½œå®Œæ¯•åç«‹å³é”€æ¯ä¸´æ—¶å¯¹è±¡ã€‚</li>
<li>è¿™ä¸ªæœºåˆ¶è®©æˆ‘ä»¬èƒ½å¤Ÿæ–¹ä¾¿åœ°åœ¨åŸºæœ¬ç±»å‹ä¸Šä½¿ç”¨å„ç§æ–¹æ³•ï¼Œè€Œæ— éœ€æ‰‹åŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚</li>
</ul>
<p>ç†è§£â€œè‡ªåŠ¨è£…ç®±â€è¿™ä¸€æ ¸å¿ƒæ¦‚å¿µï¼Œæœ‰åŠ©äºæˆ‘ä»¬æ›´æ·±åˆ»åœ°è®¤è¯† JavaScript çš„è¿è¡Œæœºåˆ¶ï¼Œå†™å‡ºæ›´ä¸¥è°¨ã€é«˜æ•ˆçš„ä»£ç ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¾å›¢ LongCat-Flash-Thinking-2601 å‘å¸ƒï¼Œå·¥å…·è°ƒç”¨èƒ½åŠ›ç™»é¡¶å¼€æº SOTAï¼]]></title>    <link>https://juejin.cn/post/7596919439019868169</link>    <guid>https://juejin.cn/post/7596919439019868169</guid>    <pubDate>2026-01-20T01:43:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596919439019868169" data-draft-id="7596966040921391110" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¾å›¢ LongCat-Flash-Thinking-2601 å‘å¸ƒï¼Œå·¥å…·è°ƒç”¨èƒ½åŠ›ç™»é¡¶å¼€æº SOTAï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-20T01:43:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3509296845313741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¾å›¢ LongCat-Flash-Thinking-2601 å‘å¸ƒï¼Œå·¥å…·è°ƒç”¨èƒ½åŠ›ç™»é¡¶å¼€æº SOTAï¼
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/6930512966122995712/posts" data-v-d326b38e=""><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/47ccb42d726640a7889ba1e64ae203e6~tplv-k3u1fbpfcp-watermark.image" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/6930512966122995712/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ" class="title" data-v-d326b38e="">ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2026-01-20T01:43:04.000Z" title="Tue Jan 20 2026 01:43:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2026-01-20
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»7åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              ç¾å›¢å°ç¼– @ç¾å›¢
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥ï¼Œç¾å›¢ LongCat å›¢é˜Ÿæ­£å¼å¯¹å¤–å‘å¸ƒå¹¶å¼€æº LongCat-Flash-Thinking-2601ã€‚ä½œä¸ºå·²å‘å¸ƒçš„ LongCat-Flash-Thinking æ¨¡å‹çš„å‡çº§ç‰ˆï¼ŒLongCat-Flash-Thinking-2601 åœ¨ Agentic Searchï¼ˆæ™ºèƒ½ä½“æœç´¢ï¼‰ã€Agentic Tool Useï¼ˆæ™ºèƒ½ä½“å·¥å…·è°ƒç”¨ï¼‰ã€TIRï¼ˆå·¥å…·äº¤äº’æ¨ç†ï¼‰ç­‰æ ¸å¿ƒè¯„æµ‹åŸºå‡†ä¸Šï¼Œå‡è¾¾åˆ°å¼€æºæ¨¡å‹ SOTA æ°´å¹³ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b2999574354499e91105f2768f6024a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478184&amp;x-signature=4T7JbhzCpG7%2FvS1LiL3i4hpkteY%3D" alt="" loading="lazy"/></p>
<p>è¯¥æ¨¡å‹å°¤å…¶åœ¨å·¥å…·è°ƒç”¨ä¸Šè¡¨ç°å‡ºå“è¶Šçš„æ³›åŒ–èƒ½åŠ›ï¼Œåœ¨ä¾èµ–å·¥å…·è°ƒç”¨çš„éšæœºå¤æ‚ä»»åŠ¡ä¸­æ€§èƒ½è¶…è¶Šäº† Claudeï¼Œå¯å¤§å¹…åº¦é™ä½çœŸå®åœºæ™¯ä¸‹æ–°å·¥å…·çš„é€‚é…è®­ç»ƒæˆæœ¬ï¼›åŒæ—¶å®ƒæ˜¯é¦–ä¸ªå®Œæ•´å¼€æºå¹¶æ”¯æŒåœ¨çº¿å…è´¹ä½“éªŒã€Œé‡æ€è€ƒæ¨¡å¼ã€çš„æ¨¡å‹ï¼ŒåŒæ—¶å¯åŠ¨ 8 ä¸ªå¤§è„‘é£é€Ÿè¿è½¬ï¼Œç¡®ä¿æ€è€ƒå‘¨å…¨ã€å†³ç­–å¯é ã€‚</p>
<p>ç›®å‰è¯¥åŠŸèƒ½å·²ç»å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Flongcat.ai" target="_blank" title="https://longcat.ai" ref="nofollow noopener noreferrer">longcat.ai</a> ç½‘ç«™å…è´¹ä½“éªŒï¼ˆä»…é€‰æ‹©æ·±åº¦æ€è€ƒåŠŸèƒ½æ—¶ä¼šè§¦å‘é‡æ€è€ƒæ¨¡å¼ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d2b11c782fc4ac6b8113f53c7822529~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478184&amp;x-signature=iYjVRDw0F3QxwP%2BUUEhfX130UFk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">01 åˆ›æ–°çš„ã€Œé‡æ€è€ƒã€æ¨¡å¼ï¼šè®©æ¨¡å‹å­¦ä¼šâ€œæ·±æ€ç†Ÿè™‘â€</h2>
<p>å…¨æ–°å‡çº§çš„ã€Œé‡æ€è€ƒã€æ¨¡å¼ï¼Œè®©æ¨¡å‹å­¦ä¼šäº†â€œæ·±æ€ç†Ÿè™‘â€å†è¡ŒåŠ¨ï¼Œé‡åˆ°é«˜éš¾åº¦é—®é¢˜æ—¶ï¼Œæ¨¡å‹ä¼šæŠŠæ€è€ƒè¿‡ç¨‹æ‹†æˆå¹¶è¡Œæ€è€ƒå’Œæ€»ç»“å½’çº³ä¸¤æ­¥æ¥åšï¼š</p>
<p>å¹¶è¡Œæ€è€ƒé˜¶æ®µï¼Œæ¨¡å‹ä¼šåŒæ—¶ç‹¬ç«‹æ¢³ç†å‡ºå¥½å‡ æ¡æ¨ç†è·¯å¾„ï¼Œå°±è·Ÿäººé¢å¯¹éš¾é¢˜æ—¶ä¼šç¢ç£¨ä¸åŒè§£æ³•ä¸€ä¸ªé“ç†ï¼Œè¿˜ä¼šç‰¹æ„ä¿è¯æ€è·¯çš„å¤šæ ·æ€§ï¼Œç”Ÿæ€•æ¼æ‰æœ€ä¼˜è§£ï¼›</p>
<p>æ€»ç»“å½’çº³é˜¶æ®µï¼Œå¯¹å¤šæ¡è·¯å¾„è¿›è¡Œæ¢³ç†ã€ä¼˜åŒ–ä¸åˆæˆï¼Œå¹¶å°†ä¼˜åŒ–ç»“æœé‡æ–°è¾“å…¥ï¼Œå½¢æˆé—­ç¯è¿­ä»£æ¨ç†ï¼Œæ¨åŠ¨æ€è€ƒæŒç»­æ·±åŒ–ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜ä¸“é—¨è®¾è®¡äº†é¢å¤–çš„å¼ºåŒ–å­¦ä¹ ç¯èŠ‚ï¼Œé’ˆå¯¹æ€§æ‰“ç£¨æ¨¡å‹çš„æ€»ç»“å½’çº³èƒ½åŠ›ï¼Œè®© LongCat-Flash-Thinking-2601 çœŸæ­£å®ç°â€œæƒ³æ¸…æ¥šå†è¡ŒåŠ¨â€ã€‚</p>
<h2 data-id="heading-1">02 æ™ºèƒ½ä½“å·¥å…·è°ƒç”¨èƒ½åŠ›ç™»é¡¶å¼€æº SOTA</h2>
<p>ç»è¿‡å…¨é¢ä¸¥è°¨çš„è¯„ä¼°æ˜¾ç¤ºï¼ŒLongCat-Flash-Thinking-2601 æ¨¡å‹åœ¨ç¼–ç¨‹ã€æ•°å­¦æ¨ç†ã€æ™ºèƒ½ä½“å·¥å…·è°ƒç”¨ã€æ™ºèƒ½ä½“æœç´¢ç»´åº¦è¡¨ç°å…¨é¢é¢†å…ˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98cec7057fb94bb998c63782187feb91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478184&amp;x-signature=RXG4VeL5fiqwRaC9YQfhX9EbT3g%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ç¼–ç¨‹èƒ½åŠ›</strong>ï¼šLongCat-Flash-Thinking-2601 åœ¨ LCB è¯„æµ‹ä¸­å–å¾— 82.8 åˆ†ï¼ŒOIBench EN è¯„æµ‹è· 47.7 åˆ†ï¼Œæˆç»©å¤„äºåŒç±»æ¨¡å‹ç¬¬ä¸€æ¢¯é˜Ÿï¼Œå±•ç°å‡ºæ‰å®çš„ä»£ç åŸºç¡€èƒ½åŠ›ã€‚</li>
<li><strong>æ•°å­¦æ¨ç†èƒ½åŠ›</strong>ï¼šåœ¨å¼€å¯é‡æ€è€ƒæ¨¡å¼åè¡¨ç°çªå‡ºï¼ŒLongCat-Flash-Thinking-2601 åœ¨ AIME-25 è¯„æµ‹ä¸­è· 100.0 åˆ†ï¼ˆæ»¡åˆ†ï¼‰ï¼ŒIMO-AnswerBench ä¸­ä»¥ 86.8 åˆ†è¾¾åˆ°å½“å‰ SOTAã€‚</li>
<li><strong>æ™ºèƒ½ä½“å·¥å…·è°ƒç”¨èƒ½åŠ›</strong>ï¼šåœ¨ Ï„Â²-Bench è¯„æµ‹ä¸­æ‹¿åˆ° 88.2 åˆ†ï¼ŒVitaBench è¯„æµ‹ä¸­è·å¾— 29.3 åˆ†ï¼Œå‡è·å¾—å¼€æº SOTA æ°´å¹³ï¼Œåœ¨å¤šé¢†åŸŸå·¥å…·è°ƒç”¨åœºæ™¯ä¸‹è¡¨ç°ä¼˜å¼‚ï¼Œé€‚é…å®é™…åº”ç”¨éœ€æ±‚ã€‚</li>
<li><strong>æ™ºèƒ½ä½“æœç´¢èƒ½åŠ›</strong>ï¼šåœ¨ BrowseComp ä»»åŠ¡ä¸­å–å¾— 73.1 åˆ†ï¼ˆå…¨æ¨¡å‹æœ€ä¼˜ï¼‰ï¼ŒRW Search è¯„æµ‹è· 79.5 åˆ†ï¼ŒLongCat-Flash-Thinking-2601 å…·å¤‡å¼ºåŠ²çš„ä¿¡æ¯æ£€ç´¢ä¸åœºæ™¯é€‚é…èƒ½åŠ›ï¼Œè¾¾åˆ°å¼€æºé¢†å…ˆæ°´å¹³ã€‚</li>
</ul>
<p>åŒæ—¶ï¼Œ<strong>ä¸ºäº†æ›´å¥½çš„æµ‹è¯•æ™ºèƒ½ä½“æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§å…¨æ–°çš„è¯„æµ‹æ–¹æ³•</strong>â€”â€”é€šè¿‡æ„å»ºä¸€å¥—è‡ªåŠ¨åŒ–ä»»åŠ¡åˆæˆæµç¨‹ï¼Œæ”¯æŒç”¨æˆ·åŸºäºç»™å®šå…³é”®è¯ï¼Œä¸ºä»»æ„åœºæ™¯éšæœºç”Ÿæˆå¤æ‚ä»»åŠ¡ã€‚æ¯ä¸ªç”Ÿæˆçš„ä»»åŠ¡éƒ½é…å¤‡äº†å¯¹åº”çš„å·¥å…·é›†ä¸å¯æ‰§è¡Œç¯å¢ƒã€‚ç”±äºè¿™ç±»ç¯å¢ƒä¸­çš„å·¥å…·é…ç½®å…·æœ‰é«˜åº¦éšæœºæ€§ï¼Œæˆ‘ä»¬é€šè¿‡è¯„ä¼°æ¨¡å‹åœ¨è¯¥ç±»ç¯å¢ƒä¸­çš„æ€§èƒ½è¡¨ç°ï¼Œæ¥è¡¡é‡å…¶æ³›åŒ–èƒ½åŠ›ã€‚å®éªŒç»“æœè¡¨æ˜ï¼ŒLongCat-Flash-Thinking-2601 åœ¨ç»å¤§å¤šæ•°ä»»åŠ¡ä¸­ä¿æŒé¢†å…ˆæ€§èƒ½ï¼Œå°è¯äº†å…¶åœ¨æ™ºèƒ½ä½“åœºæ™¯ä¸‹å¼ºå¤§çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-2">03 æ ¸å¿ƒæŠ€æœ¯çªç ´ï¼šæ—¢èƒ½â€œæ‰“ç¡¬ä»—â€ä¹Ÿèƒ½â€œæŠ—å¹²æ‰°â€</h2>
<h3 data-id="heading-3">3.1 ç¯å¢ƒæ‰©å±•ä¸å¤šç¯å¢ƒå¼ºåŒ–å­¦ä¹  ï¼šä»â€œé¶åœºâ€åˆ°â€œå®æˆ˜â€</h3>
<p>ä¼ ç»Ÿæ™ºèƒ½ä½“å¤§å¤šåªåœ¨å‡ ä¸ªç®€å•æ¨¡æ‹Ÿç¯å¢ƒé‡Œè®­ç»ƒï¼Œå°±åƒå£«å…µåªç»ƒè¿‡é¶åœºï¼Œåˆ°äº†çœŸå®â€œæˆ˜åœºâ€å°±æ‰é“¾å­ã€‚è€ŒåŸºäºâ€œç¯å¢ƒæ‰©å±•+å¤šç¯å¢ƒå¼ºåŒ–å­¦ä¹ â€æ ¸å¿ƒæŠ€æœ¯ï¼Œä¸ºæ¨¡å‹æ‰“é€ äº†å¤šæ ·åŒ–çš„â€œé«˜å¼ºåº¦ç»ƒå…µåœºâ€ï¼Œæ„å»ºäº†å¤šå¥—é«˜è´¨é‡è®­ç»ƒç¯å¢ƒï¼Œæ¯å¥—é›†æˆ 60 ä½™ç§å·¥å…·å¹¶å½¢æˆå¯†é›†ä¾èµ–å…³ç³»å›¾è°±ä¸å¤æ‚è”åŠ¨ï¼Œæ”¯æ’‘èµ·é«˜åº¦å¤æ‚çš„ä»»åŠ¡åœºæ™¯ã€‚å®éªŒè¯æ˜ï¼Œ<strong>è®­ç»ƒç¯å¢ƒè¶Šä¸°å¯Œï¼Œæ¨¡å‹åœ¨æœªçŸ¥åœºæ™¯ä¸­çš„æ³›åŒ–èƒ½åŠ›è¶Šå¼º</strong>ã€‚å¾—ç›Šäºè¿™å¥—æ–¹æ¡ˆï¼ŒLongCat-Flash-Thinking-2601 åœ¨æ™ºèƒ½ä½“æœç´¢ã€æ™ºèƒ½ä½“å·¥å…·è°ƒç”¨ç­‰æ ¸å¿ƒåŸºå‡†æµ‹è¯•ä¸­ç¨³å±…å‰åˆ—ã€‚å°¤å…¶åœ¨å¤æ‚éšæœºçš„åˆ†å¸ƒå¤–ä»»åŠ¡ä¸­æ€§èƒ½ä¼˜äº Claudeã€‚</p>
<p>åŒæ—¶æˆ‘ä»¬é’ˆå¯¹æ€§æ‰©å±• <strong>è‡ªç ”å¼ºåŒ–å­¦ä¹ åŸºç¡€è®¾æ–½ï¼ˆDORAï¼‰</strong>ï¼Œåœ¨ä¿ç•™åŸæœ‰é«˜æ•ˆå¼‚æ­¥è®­ç»ƒç‰¹æ€§çš„åŸºç¡€ä¸Šå®ç°å¤§è§„æ¨¡å¤šç¯å¢ƒæ™ºèƒ½ä½“çš„ç¨³å®šå¹¶è¡Œè®­ç»ƒï¼Œé€šè¿‡å‡è¡¡æ­é…å¤šç¯å¢ƒä»»åŠ¡ã€æŒ‰éš¾åº¦ä¸è®­ç»ƒè¿›åº¦æ™ºèƒ½åˆ†é…ç®—åŠ›ï¼Œæœ€å¤§åŒ–æå‡è®­ç»ƒæ•ˆç‡ä¸èµ„æºåˆ©ç”¨ç‡ï¼Œç­‘ç‰¢èƒ½åŠ›æ ¹åŸºã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜ä»å¤æ‚åº¦ã€å¤šæ ·æ€§åŒç»´åº¦ä¸¥æ§è®­ç»ƒä»»åŠ¡ï¼Œé…å¥—ä¸“å±æ•°æ®åº“åŠä¼˜åŒ–æ–¹æ¡ˆï¼Œæœç»æ¨¡å‹â€œåç§‘â€ä¸è®­ç»ƒæ¼æ´ï¼Œè®©è¿™å¥—å…¨æµç¨‹æ–¹æ¡ˆæŒç»­èµ‹èƒ½æ¨¡å‹ï¼Œç¨³å±…æ™ºèƒ½ä½“èƒ½åŠ›ç¬¬ä¸€æ¢¯é˜Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d6d5ec68f314521803563c3dd7e14c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478184&amp;x-signature=x4N2SgZXBYDydXTlT4dhJ7JrzkE%3D" alt="ç¨³å®šä¸Šæ¶¨çš„å¤šç¯å¢ƒæ··åˆå¼ºåŒ–å­¦ä¹ è®­ç»ƒæ›²çº¿" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74b20c82e22f4af9b033f490e6998148~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478184&amp;x-signature=vjUjafKNZd9%2FKhvb4KbrYjk64IQ%3D" alt="å¤šç¯å¢ƒå¼ºåŒ–å­¦ä¹ è®­ç»ƒä¸‹ä¸åŒ OOD æµ‹è¯•é›†ä¸Šçš„ RL Scaling è¡¨ç°" loading="lazy"/></p>
<h3 data-id="heading-4">3.2 å™ªå£°ç¯å¢ƒä¸‹çš„ç¨³å¥è®­ç»ƒï¼šè®©æ™ºèƒ½ä½“æ›´â€œæŠ—é€ â€</h3>
<p>ç°å®ä¸–ç•Œçš„æ™ºèƒ½ä½“ç¯å¢ƒå……æ»¡ä¸ç¡®å®šæ€§ï¼ŒAPI è°ƒç”¨å¤±è´¥ã€è¿”å›å¼‚å¸¸ä¿¡æ¯ã€è§‚æµ‹æ•°æ®ä¸å®Œæ•´ç­‰â€œå™ªå£°â€é—®é¢˜ï¼Œææ˜“å¯¼è‡´æ¨¡å‹å†³ç­–å¤±è¯¯ã€‚ä¸ºæ­¤ï¼Œ<strong>æˆ‘ä»¬åœ¨è®­ç»ƒæ•°æ®çš„è¿‡ç¨‹ä¸­ä¸»åŠ¨æ³¨å…¥å¤šç±»å™ªå£°</strong>ï¼Œæ¨¡æ‹Ÿ API çš„è°ƒç”¨å¤±è´¥ã€è¿”å›é”™è¯¯ä¿¡æ¯ã€æ•°æ®ç¼ºå¤±ç­‰åœºæ™¯ï¼Œå¹¶ç”¨è¯¾ç¨‹å­¦ä¹ ï¼ˆCurriculum Learningï¼‰çš„æ–¹å¼å¾ªåºæ¸è¿›å»åšæ¨¡å‹çš„è®­ç»ƒï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é€æ­¥å¢åŠ å™ªå£°çš„ç±»å‹ä¸å¼ºåº¦â€”â€”å¦‚æœç±»æ¯”æˆæ•™å°å­©éª‘è½¦ï¼Œæˆ‘ä»¬é¦–å…ˆåœ¨å¹³å¦è·¯é¢åšç»ƒä¹ ï¼Œç­‰æŠ€èƒ½æˆç†Ÿåå†é€æ­¥å¢åŠ è·¯é¢çš„å¤æ‚åº¦ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¸¦å™ªå£°ç¯å¢ƒä¸‹æœªç»è¿‡ç¨³å¥è®­ç»ƒçš„æ¨¡å‹çš„è¡¨ç°ä¼šå‡ºç°å¤§å¹…è¡°å‡ï¼ŒClaude ä¹Ÿæ— æ³•é€‚åº”å…¨éƒ¨çš„å™ªå£°ç±»å‹ã€‚è€Œç»è¿‡è¿™å¥—ç³»ç»ŸåŒ–çš„æŠ—å¹²æ‰°è®­ç»ƒï¼ŒLongCat-Flash-Thinking-2601ï¼ˆTraining w/ Noise ç»„ï¼‰æ‹¥æœ‰äº†æå¼ºçš„ç¯å¢ƒé€‚åº”èƒ½åŠ›ï¼Œå“ªæ€•åœ¨å¤æ‚ã€ä¸ç†æƒ³çš„åœºæ™¯ä¸­ï¼Œä¹Ÿèƒ½ç¨³å®šå‘æŒ¥ã€é«˜æ•ˆå®Œæˆä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58755c4cbdea4781826364cdbbf874cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478184&amp;x-signature=CfkI9n%2FvqIwmiPNVOMFWt7zVSoE%3D" alt="å¸¦å™ªå£° / æ— å™ªå£°è¯„æµ‹é›†ä¸‹çš„æ¨¡å‹è¡¨ç°å¯¹æ¯”" loading="lazy"/></p>
<h2 data-id="heading-5">å¼€æºä¸éƒ¨ç½²ï¼šä½é—¨æ§›æ¥å…¥ï¼ŒåŠ é€Ÿæ™ºèƒ½ä½“åº”ç”¨è½åœ°</h2>
<p>ä¸ºé™ä½å¼€å‘è€…ä½¿ç”¨é—¨æ§›ï¼Œç¾å›¢ LongCat å›¢é˜ŸåŒæ­¥å¼€æ”¾æ¨¡å‹æƒé‡ã€æ¨ç†ä»£ç ä¸åœ¨çº¿ä½“éªŒèƒ½åŠ›ï¼Œæ”¯æŒä»å¿«é€Ÿè¯•ç”¨è‡³æ·±åº¦å¼€å‘çš„å…¨æµç¨‹éœ€æ±‚ï¼š</p>
<p><strong>å¼€æºå¹³å°</strong></p>
<ul>
<li><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmeituan-longcat%2FLongCat-Flash-Thinking-2601" target="_blank" title="https://github.com/meituan-longcat/LongCat-Flash-Thinking-2601" ref="nofollow noopener noreferrer">github.com/meituan-lonâ€¦</a></li>
<li><strong>Hugging Face</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fmeituan-longcat%2FLongCat-Flash-Thinking-2601" target="_blank" title="https://huggingface.co/meituan-longcat/LongCat-Flash-Thinking-2601" ref="nofollow noopener noreferrer">huggingface.co/meituan-lonâ€¦</a></li>
<li><strong>ModelScope</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.modelscope.cn%2Fmodels%2Fmeituan-longcat%2FLongCat-Flash-Thinking-2601" target="_blank" title="https://www.modelscope.cn/models/meituan-longcat/LongCat-Flash-Thinking-2601" ref="nofollow noopener noreferrer">www.modelscope.cn/models/meitâ€¦</a></li>
</ul>
<p><strong>åœ¨çº¿ä½“éªŒä¸è°ƒç”¨</strong></p>
<ul>
<li><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flongcat.ai" target="_blank" title="https://longcat.ai" ref="nofollow noopener noreferrer">longcat.ai</a></li>
<li><strong>API å¼€æ”¾å¹³å°</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flongcat.chat%2Fplatform%2Fusage" target="_blank" title="https://longcat.chat/platform/usage" ref="nofollow noopener noreferrer">longcat.chat/platform/usâ€¦</a></li>
</ul>
<p>æ¬¢è¿å¼€å‘è€…ä¸‹è½½ã€éƒ¨ç½²å¹¶ä½“éªŒ LongCat-Flash-Thinking-2601ï¼ŒåŒæ—¶ä¹Ÿæ¬¢è¿æ‚¨åœ¨ LongCat API å¼€æ”¾å¹³å°ç”³è¯·å…è´¹è°ƒç”¨é¢åº¦ã€‚å¦‚æœæ‚¨åœ¨æ™ºèƒ½ä½“å¼€å‘ã€å¤§æ¨¡å‹æ¨ç†ä¼˜åŒ–ç­‰é¢†åŸŸæœ‰åˆä½œæƒ³æ³•æˆ–åé¦ˆï¼Œæˆ‘ä»¬æœŸå¾…ä¸æ‚¨äº¤æµã€‚</p>
<p>| å…³æ³¨ã€Œç¾å›¢æŠ€æœ¯å›¢é˜Ÿã€å¾®ä¿¡å…¬ä¼—å·ï¼Œåœ¨å…¬ä¼—å·èœå•æ å¯¹è¯æ¡†å›å¤ã€2024å¹´è´§ã€‘ã€ã€2023å¹´è´§ã€‘ã€ã€2022å¹´è´§ã€‘ã€ã€2021å¹´è´§ã€‘ã€ã€2020å¹´è´§ã€‘ã€ã€2019å¹´è´§ã€‘ã€ã€2018å¹´è´§ã€‘ã€ã€2017å¹´è´§ã€‘ç­‰å…³é”®è¯ï¼Œå¯æŸ¥çœ‹ç¾å›¢æŠ€æœ¯å›¢é˜Ÿå†å¹´æŠ€æœ¯æ–‡ç« åˆé›†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06862b52013c4c1bbb99d38d901d3988~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478184&amp;x-signature=jD8rljAd6d2a5ky3z0sRw4nqB4s%3D" alt="" loading="lazy"/></p>
<p>| æœ¬æ–‡ç³»ç¾å›¢æŠ€æœ¯å›¢é˜Ÿå‡ºå“ï¼Œè‘—ä½œæƒå½’å±ç¾å›¢ã€‚æ¬¢è¿å‡ºäºåˆ†äº«å’Œäº¤æµç­‰éå•†ä¸šç›®çš„è½¬è½½æˆ–ä½¿ç”¨æœ¬æ–‡å†…å®¹ï¼Œæ•¬è¯·æ³¨æ˜â€œå†…å®¹è½¬è½½è‡ªç¾å›¢æŠ€æœ¯å›¢é˜Ÿâ€ã€‚æœ¬æ–‡æœªç»è®¸å¯ï¼Œä¸å¾—è¿›è¡Œå•†ä¸šæ€§è½¬è½½æˆ–è€…ä½¿ç”¨ã€‚ä»»ä½•å•†ç”¨è¡Œä¸ºï¼Œè¯·å‘é€é‚®ä»¶è‡³ <a href="https://link.juejin.cn?target=mailto%3Atech%40meituan.com" target="_blank" title="mailto:tech@meituan.com" ref="nofollow noopener noreferrer">tech@meituan.com</a> ç”³è¯·æˆæƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºSpringCloud + ElasticSearch + Redis + RabbitMQ æ„å»ºé«˜æ€§èƒ½ç”µå•†æœç´¢å’Œä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7596906923892064266</link>    <guid>https://juejin.cn/post/7596906923892064266</guid>    <pubDate>2026-01-19T11:47:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596906923892064266" data-draft-id="7596845113281003529" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºSpringCloud + ElasticSearch + Redis + RabbitMQ æ„å»ºé«˜æ€§èƒ½ç”µå•†æœç´¢å’Œä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ"/> <meta itemprop="keywords" content="åç«¯,RabbitMQ"/> <meta itemprop="datePublished" content="2026-01-19T11:47:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‰æ°´ä¸æ»´"/> <meta itemprop="url" content="https://juejin.cn/user/283045639753100"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºSpringCloud + ElasticSearch + Redis + RabbitMQ æ„å»ºé«˜æ€§èƒ½ç”µå•†æœç´¢å’Œä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/283045639753100/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‰æ°´ä¸æ»´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T11:47:46.000Z" title="Mon Jan 19 2026 11:47:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºSpringCloud + Elasticsearch + Redis + RabbitMQ æ„å»ºé«˜æ€§èƒ½ç”µå•†æœç´¢ä¸ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ</h2>
<p>åœ¨ç”µå•†å¹³å°çš„æ ¸å¿ƒé“¾è·¯ä¸­ï¼Œæœç´¢ä¸æ¨èç›´æ¥å†³å®šäº†ç”¨æˆ·ä½“éªŒä¸è½¬åŒ–æ•ˆç‡ã€‚ä¼ ç»Ÿæ•°æ®åº“æœç´¢é¢ä¸´ç²¾å‡†åº¦ä½ã€å“åº”ç¼“æ…¢ã€æ¨èåŒè´¨åŒ–ç­‰é—®é¢˜ï¼Œè€Œæ¶ˆæ¯é˜Ÿåˆ—çš„å¼•å…¥èƒ½æœ‰æ•ˆè§£å†³æ•°æ®å®æ—¶åŒæ­¥ã€ç³»ç»Ÿè§£è€¦ç­‰å…³é”®è¯‰æ±‚ã€‚æœ¬æ–‡å°†åŸºäº <strong>SpringCloud + ElasticSearch + Redis + RabbitMQ</strong> æŠ€æœ¯æ ˆï¼Œä»æ¶æ„è®¾è®¡ã€æ ¸å¿ƒå®ç°åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œå®Œæ•´æ‹†è§£ä¸€å¥—å¯è½åœ°çš„ç”µå•†å®æ—¶æœç´¢ä¸ä¸ªæ€§åŒ–æ¨èæ–¹æ¡ˆï¼Œé‡ç‚¹çªå‡º RabbitMQ åœ¨æ•°æ®åŒæ­¥ã€äº‹ä»¶åˆ†å‘ä¸­çš„æ ¸å¿ƒä½œç”¨ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ç³»ç»Ÿç—›ç‚¹ä¸æ ¸å¿ƒç›®æ ‡</h3>
<h4 data-id="heading-2">1. ä¼ ç»Ÿæ–¹æ¡ˆçš„æ ¸å¿ƒç—›ç‚¹</h4>
<ul>
<li>æœç´¢ç²¾å‡†åº¦ä¸è¶³ï¼šç”¨æˆ·æœç´¢ â€œåä¸ºæ‰‹æœºâ€ å´è¿”å›æ— å…³å•†å“ï¼Œå¤šå­—æ®µåŒ¹é…èƒ½åŠ›è–„å¼±ï¼›</li>
<li>å“åº”é€Ÿåº¦ç¼“æ…¢ï¼šæ•°æ®åº“å…¨è¡¨æ‰«æå¯¼è‡´æœç´¢è€—æ—¶è¶… 3 ç§’ï¼Œç”¨æˆ·ç›´æ¥æµå¤±ï¼›</li>
<li>æ¨èç¼ºä¹ä¸ªæ€§åŒ–ï¼šåƒç¯‡ä¸€å¾‹çš„å•†å“åˆ—è¡¨ï¼Œæ— æ³•è´´åˆç”¨æˆ·å…´è¶£åå¥½ï¼›</li>
<li>æ•°æ®åŒæ­¥æ»åï¼šå•†å“ä¸Šä¸‹æ¶ã€ä»·æ ¼å˜æ›´æ— æ³•å®æ—¶åæ˜ åˆ°æœç´¢ç»“æœï¼›</li>
<li>ç³»ç»Ÿè€¦åˆä¸¥é‡ï¼šå•†å“æœåŠ¡ä¸æœç´¢æœåŠ¡ç›´æ¥ä¾èµ–ï¼Œæ‰©å±•æ€§å·®ï¼Œæ•…éšœä¼ å¯¼é£é™©é«˜ã€‚</li>
</ul>
<h4 data-id="heading-3">2. ç³»ç»Ÿæ ¸å¿ƒç›®æ ‡</h4>
<ul>
<li>é«˜æ€§èƒ½ï¼šæœç´¢å“åº”æ—¶é—´æ§åˆ¶åœ¨æ¯«ç§’çº§ï¼Œæ”¯æŒæ¯ç§’åƒçº§å¹¶å‘ï¼›</li>
<li>é«˜ç²¾å‡†ï¼šæ”¯æŒå…¨æ–‡æœç´¢ã€æ¨¡ç³ŠåŒ¹é…ã€åˆ†ç±»è¿‡æ»¤ã€æœç´¢å»ºè®®ï¼Œç²¾å‡†è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼›</li>
<li>ä¸ªæ€§åŒ–ï¼šåŸºäºç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œå®ç° â€œåƒäººåƒé¢â€ çš„æ¨èæ•ˆæœï¼›</li>
<li>å®æ—¶æ€§ï¼šå•†å“æ•°æ®å˜æ›´å®æ—¶åŒæ­¥è‡³æœç´¢å¼•æ“ï¼Œæ•°æ®å»¶è¿Ÿä½äº 1 ç§’ï¼›</li>
<li>é«˜å¯ç”¨ï¼šåˆ†å¸ƒå¼æ¶æ„è®¾è®¡ï¼ŒæœåŠ¡è§£è€¦ï¼Œæ”¯æŒæ¨ªå‘æ‰©å±•ï¼Œæ•…éšœéš”ç¦»ã€‚</li>
</ul>
<h3 data-id="heading-4">äºŒã€æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-5">1. æ ¸å¿ƒæŠ€æœ¯æ ˆé€‰å‹</h4>













































<table><thead><tr><th>æŠ€æœ¯ç»„ä»¶</th><th>ç‰ˆæœ¬é€‰æ‹©</th><th>æ ¸å¿ƒä½œç”¨</th></tr></thead><tbody><tr><td>SpringCloud</td><td>2023.0.0</td><td>å¾®æœåŠ¡æ¶æ„åº•åº§ï¼Œæä¾›æœåŠ¡æ³¨å†Œå‘ç°ã€è´Ÿè½½å‡è¡¡ã€ç½‘å…³è·¯ç”±ç­‰èƒ½åŠ›</td></tr><tr><td>Elasticsearch</td><td>7.x</td><td>å…¨æ–‡æœç´¢ä¸åˆ†æå¼•æ“ï¼Œæ”¯æ’‘å¤šå­—æ®µæ£€ç´¢ã€æ¨¡ç³ŠåŒ¹é…ã€æœç´¢å»ºè®®ç­‰æ ¸å¿ƒåŠŸèƒ½</td></tr><tr><td>Redis</td><td>6.x</td><td>é«˜é€Ÿç¼“å­˜ç»„ä»¶ï¼Œç¼“å­˜çƒ­ç‚¹å•†å“ã€ç”¨æˆ·è¡Œä¸ºã€æ¨èç»“æœï¼Œé™ä½åº•å±‚å­˜å‚¨è®¿é—®å‹åŠ›</td></tr><tr><td>RabbitMQ</td><td>3.12.x</td><td>æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ç°å•†å“æ•°æ®å®æ—¶åŒæ­¥ã€ç”¨æˆ·è¡Œä¸ºé‡‡é›†ã€ç³»ç»Ÿè§£è€¦ä¸æ•…éšœéš”ç¦»</td></tr><tr><td>MySQL</td><td>8.x</td><td>ä¸»æ•°æ®å­˜å‚¨ï¼ŒæŒä¹…åŒ–å•†å“åŸºç¡€ä¿¡æ¯ã€ç”¨æˆ·è¡Œä¸ºæ˜ç»†ã€è®¢å•æ•°æ®ç­‰æ ¸å¿ƒä¸šåŠ¡æ•°æ®</td></tr><tr><td>SpringBoot</td><td>3.2.x</td><td>å¾®æœåŠ¡å¼€å‘æ¡†æ¶ï¼Œç®€åŒ–é…ç½®ä¸å¼€å‘æµç¨‹</td></tr><tr><td>IK Analyzer</td><td>7.17.0</td><td>ä¸­æ–‡åˆ†è¯å™¨ï¼Œæå‡ä¸­æ–‡æœç´¢çš„ç²¾å‡†åº¦</td></tr></tbody></table>
<h4 data-id="heading-6">2. æ•´ä½“æ¶æ„è®¾è®¡</h4>
<p>ç³»ç»Ÿé‡‡ç”¨ â€œäº‹ä»¶é©±åŠ¨ + å¾®æœåŠ¡â€ æ¶æ„ï¼ŒåŸºäº RabbitMQ å®ç°æ ¸å¿ƒé“¾è·¯è§£è€¦ï¼Œæ•´ä½“åˆ†ä¸ºäº”å¤§æ ¸å¿ƒæ¨¡å—ï¼Œå½¢æˆ â€œæ•°æ®é‡‡é›† - å®æ—¶åŒæ­¥ - ç²¾å‡†æ£€ç´¢ - ä¸ªæ€§åŒ–æ¨è - ç¼“å­˜åŠ é€Ÿâ€ çš„å®Œæ•´é—­ç¯ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74233a0ffbc54440b22e7fee22cf4b74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5rC05LiN5ru0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769428065&amp;x-signature=qOEUYAKxVjPDyyXFzS87Dpov7Tw%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-7">æ ¸å¿ƒé“¾è·¯è¯´æ˜</h5>
<ol>
<li><strong>æ•°æ®é‡‡é›†é“¾è·¯</strong>ï¼šç”¨æˆ·è¡Œä¸ºï¼ˆæµè§ˆã€è´­ä¹°ã€æ”¶è—ï¼‰é€šè¿‡ RabbitMQ å¼‚æ­¥é‡‡é›†ï¼Œå­˜å‚¨è‡³ Redisï¼ˆç¼“å­˜ï¼‰ä¸ MySQLï¼ˆæŒä¹…åŒ–ï¼‰ï¼›</li>
<li><strong>æ•°æ®åŒæ­¥é“¾è·¯</strong>ï¼šå•†å“æœåŠ¡è§¦å‘å˜æ›´äº‹ä»¶ï¼Œé€šè¿‡ RabbitMQ è·¯ç”±è‡³å•†å“åŒæ­¥é˜Ÿåˆ—ï¼Œç”±æ¶ˆè´¹ç«¯åŒæ­¥è‡³ Elasticsearchï¼Œå¤±è´¥æ¶ˆæ¯è¿›å…¥æ­»ä¿¡é˜Ÿåˆ—é‡è¯•ï¼›</li>
<li><strong>æœç´¢æ£€ç´¢é“¾è·¯</strong>ï¼šç”¨æˆ·æœç´¢è¯·æ±‚ç» API ç½‘å…³è·¯ç”±è‡³æœç´¢æœåŠ¡ï¼Œé€šè¿‡ Elasticsearch å®ç°ç²¾å‡†æ£€ç´¢ä¸æœç´¢å»ºè®®ï¼›</li>
<li><strong>ä¸ªæ€§åŒ–æ¨èé“¾è·¯</strong>ï¼šæ¨èæœåŠ¡è¯»å– Redis ä¸­çš„ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œç»“åˆååŒè¿‡æ»¤ä¸å†…å®¹æ¨èç®—æ³•ï¼Œç”Ÿæˆä¸ªæ€§åŒ–æ¨èåˆ—è¡¨ï¼›</li>
<li><strong>ç¼“å­˜åŠ é€Ÿé“¾è·¯</strong>ï¼šRedis ç¼“å­˜çƒ­ç‚¹å•†å“ã€æœç´¢ç»“æœã€æ¨èåˆ—è¡¨ï¼Œç¼©çŸ­å“åº”æ—¶é—´ï¼Œæå‡ç³»ç»Ÿååé‡ã€‚</li>
</ol>
<h3 data-id="heading-8">ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½å®ç°</h3>
<h4 data-id="heading-9">1. æ•°æ®æ¨¡å‹è®¾è®¡</h4>
<h5 data-id="heading-10">1.1 Elasticsearch å•†å“æ–‡æ¡£æ¨¡å‹</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Document(indexName = "products")</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductDocument</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> String id;

    <span class="hljs-comment">// å•†å“åç§°ï¼Œåˆ†è¯+æƒé‡æå‡ï¼Œæœç´¢ä¼˜å…ˆçº§æœ€é«˜</span>
    <span class="hljs-meta">@Field(type = FieldType.Text, analyzer = "ik_max_word", searchAnalyzer = "ik_smart")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-comment">// å•†å“æè¿°ï¼Œåˆ†è¯ç´¢å¼•</span>
    <span class="hljs-meta">@Field(type = FieldType.Text, analyzer = "ik_max_word")</span>
    <span class="hljs-keyword">private</span> String description;

    <span class="hljs-comment">// åˆ†ç±»ï¼Œkeywordç±»å‹ä¸åˆ†è¯ï¼Œç”¨äºç²¾ç¡®è¿‡æ»¤</span>
    <span class="hljs-meta">@Field(type = FieldType.Keyword)</span>
    <span class="hljs-keyword">private</span> String category;

    <span class="hljs-comment">// å“ç‰Œï¼Œkeywordç±»å‹ä¸åˆ†è¯</span>
    <span class="hljs-meta">@Field(type = FieldType.Keyword)</span>
    <span class="hljs-keyword">private</span> String brand;

    <span class="hljs-comment">// ä»·æ ¼ï¼Œæ•°å€¼ç±»å‹ç”¨äºèŒƒå›´æŸ¥è¯¢ä¸æ’åº</span>
    <span class="hljs-meta">@Field(type = FieldType.Double)</span>
    <span class="hljs-keyword">private</span> BigDecimal price;

    <span class="hljs-comment">// å•†å“å›¾ç‰‡URL</span>
    <span class="hljs-meta">@Field(type = FieldType.Keyword)</span>
    <span class="hljs-keyword">private</span> String imageUrl;

    <span class="hljs-comment">// é”€é‡ï¼Œç”¨äºçƒ­é—¨æ’åº</span>
    <span class="hljs-meta">@Field(type = FieldType.Long)</span>
    <span class="hljs-keyword">private</span> Long salesVolume;

    <span class="hljs-comment">// è¯„åˆ†ï¼Œç”¨äºä¼˜è´¨å•†å“æ’åº</span>
    <span class="hljs-meta">@Field(type = FieldType.Float)</span>
    <span class="hljs-keyword">private</span> Float rating;

    <span class="hljs-comment">// æ ‡ç­¾ï¼Œå¤šå€¼keyword</span>
    <span class="hljs-meta">@Field(type = FieldType.Keyword)</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; tags;

    <span class="hljs-comment">// åˆ›å»ºæ—¶é—´</span>
    <span class="hljs-meta">@Field(type = FieldType.Date)</span>
    <span class="hljs-keyword">private</span> Date createTime;

    <span class="hljs-comment">// æ›´æ–°æ—¶é—´</span>
    <span class="hljs-meta">@Field(type = FieldType.Date)</span>
    <span class="hljs-keyword">private</span> Date updateTime;

    <span class="hljs-comment">// æœç´¢å»ºè®®å­—æ®µï¼Œç”¨äºè‡ªåŠ¨è¡¥å…¨</span>
    <span class="hljs-meta">@CompletionField</span>
    <span class="hljs-keyword">private</span> Completion suggest;

    <span class="hljs-comment">// æ„å»ºæœç´¢å»ºè®®æ•°æ®</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">buildSuggest</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.suggest = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Completion</span>(ImmutableMap.of(
                <span class="hljs-string">"input"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-built_in">this</span>.name, <span class="hljs-built_in">this</span>.brand},
                <span class="hljs-string">"weight"</span>, <span class="hljs-number">1</span>
        ));
    }
}
</code></pre>
<h5 data-id="heading-11">1.2 æ ¸å¿ƒ DTO ä¸äº‹ä»¶æ¨¡å‹</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å•†å“DTO</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductDTO</span> {
    <span class="hljs-keyword">private</span> String id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> BigDecimal price;
    <span class="hljs-keyword">private</span> String imageUrl;
    <span class="hljs-keyword">private</span> String category;
    <span class="hljs-keyword">private</span> String brand;
    <span class="hljs-keyword">private</span> Long salesVolume;
    <span class="hljs-keyword">private</span> Float rating;
}

<span class="hljs-comment">// æœç´¢è¯·æ±‚å‚æ•°</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SearchRequest</span> {
    <span class="hljs-keyword">private</span> String keyword;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">page</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
    <span class="hljs-keyword">private</span> String category;
    <span class="hljs-keyword">private</span> String sortField;
    <span class="hljs-keyword">private</span> String sortOrder;
    <span class="hljs-keyword">private</span> String userId;
}

<span class="hljs-comment">// å•†å“å˜æ›´äº‹ä»¶</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-meta">@NoArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductChangeEvent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> String productId;
    <span class="hljs-keyword">private</span> Product product;
    <span class="hljs-keyword">private</span> EventType eventType; <span class="hljs-comment">// CREATE/UPDATE/DELETE</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">EventType</span> {
        CREATE, UPDATE, DELETE
    }
}

<span class="hljs-comment">// ç”¨æˆ·è¡Œä¸ºäº‹ä»¶</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-meta">@NoArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserBehaviorEvent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> String userId;
    <span class="hljs-keyword">private</span> String productId;
    <span class="hljs-keyword">private</span> String behaviorType; <span class="hljs-comment">// VIEW/BUY/COLLECT</span>
    <span class="hljs-keyword">private</span> String category;
    <span class="hljs-keyword">private</span> String brand;
    <span class="hljs-keyword">private</span> Date createTime;
}
</code></pre>
<h4 data-id="heading-12">2. RabbitMQ é…ç½®ï¼ˆæ ¸å¿ƒï¼‰</h4>
<p>å®ç°äº¤æ¢æœºã€é˜Ÿåˆ—ã€ç»‘å®šå…³ç³»é…ç½®ï¼Œä»¥åŠæ¶ˆæ¯ç”Ÿäº§è€… / æ¶ˆè´¹è€…æ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RabbitMQConfig</span> {

    <span class="hljs-comment">// äº¤æ¢æœºåç§°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PRODUCT_EXCHANGE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product.exchange"</span>;
    <span class="hljs-comment">// å•†å“åŒæ­¥é˜Ÿåˆ—</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PRODUCT_SYNC_QUEUE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product.sync.queue"</span>;
    <span class="hljs-comment">// ç”¨æˆ·è¡Œä¸ºé˜Ÿåˆ—</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">USER_BEHAVIOR_QUEUE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user.behavior.queue"</span>;
    <span class="hljs-comment">// æ­»ä¿¡é˜Ÿåˆ—</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEAD_LETTER_QUEUE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"dead.letter.queue"</span>;
    <span class="hljs-comment">// æ­»ä¿¡äº¤æ¢æœº</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEAD_LETTER_EXCHANGE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"dead.letter.exchange"</span>;

    <span class="hljs-comment">// 1. å£°æ˜äº¤æ¢æœºï¼ˆtopicç±»å‹ï¼Œæ”¯æŒè·¯ç”±é”®åŒ¹é…ï¼‰</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> TopicExchange <span class="hljs-title function_">productExchange</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// durable:æŒä¹…åŒ–ï¼ŒautoDelete:ä¸è‡ªåŠ¨åˆ é™¤</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TopicExchange</span>(PRODUCT_EXCHANGE, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>);
    }

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> TopicExchange <span class="hljs-title function_">deadLetterExchange</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TopicExchange</span>(DEAD_LETTER_EXCHANGE, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>);
    }

    <span class="hljs-comment">// 2. å£°æ˜é˜Ÿåˆ—ï¼ˆå•†å“åŒæ­¥é˜Ÿåˆ—ï¼Œç»‘å®šæ­»ä¿¡äº¤æ¢æœºï¼‰</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Queue <span class="hljs-title function_">productSyncQueue</span><span class="hljs-params">()</span> {
        Map&lt;String, Object&gt; args = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-comment">// ç»‘å®šæ­»ä¿¡äº¤æ¢æœº</span>
        args.put(<span class="hljs-string">"x-dead-letter-exchange"</span>, DEAD_LETTER_EXCHANGE);
        <span class="hljs-comment">// æ­»ä¿¡è·¯ç”±é”®</span>
        args.put(<span class="hljs-string">"x-dead-letter-routing-key"</span>, <span class="hljs-string">"sync.failed"</span>);
        <span class="hljs-comment">// æ¶ˆæ¯è¿‡æœŸæ—¶é—´ï¼ˆ10ç§’ï¼‰</span>
        args.put(<span class="hljs-string">"x-message-ttl"</span>, <span class="hljs-number">10000</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Queue</span>(PRODUCT_SYNC_QUEUE, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, args);
    }

    <span class="hljs-comment">// ç”¨æˆ·è¡Œä¸ºé˜Ÿåˆ—</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Queue <span class="hljs-title function_">userBehaviorQueue</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Queue</span>(USER_BEHAVIOR_QUEUE, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>);
    }

    <span class="hljs-comment">// æ­»ä¿¡é˜Ÿåˆ—</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Queue <span class="hljs-title function_">deadLetterQueue</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Queue</span>(DEAD_LETTER_QUEUE, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>);
    }

    <span class="hljs-comment">// 3. ç»‘å®šå…³ç³»ï¼šäº¤æ¢æœº -&gt; å•†å“åŒæ­¥é˜Ÿåˆ—</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Binding <span class="hljs-title function_">productSyncBinding</span><span class="hljs-params">(Queue productSyncQueue, TopicExchange productExchange)</span> {
        <span class="hljs-keyword">return</span> BindingBuilder.bind(productSyncQueue)
                .to(productExchange)
                .with(<span class="hljs-string">"product.sync"</span>); <span class="hljs-comment">// è·¯ç”±é”®</span>
    }

    <span class="hljs-comment">// ç»‘å®šå…³ç³»ï¼šäº¤æ¢æœº -&gt; ç”¨æˆ·è¡Œä¸ºé˜Ÿåˆ—</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Binding <span class="hljs-title function_">userBehaviorBinding</span><span class="hljs-params">(Queue userBehaviorQueue, TopicExchange productExchange)</span> {
        <span class="hljs-keyword">return</span> BindingBuilder.bind(userBehaviorQueue)
                .to(productExchange)
                .with(<span class="hljs-string">"user.behavior"</span>); <span class="hljs-comment">// è·¯ç”±é”®</span>
    }

    <span class="hljs-comment">// ç»‘å®šå…³ç³»ï¼šæ­»ä¿¡äº¤æ¢æœº -&gt; æ­»ä¿¡é˜Ÿåˆ—</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Binding <span class="hljs-title function_">deadLetterBinding</span><span class="hljs-params">(Queue deadLetterQueue, TopicExchange deadLetterExchange)</span> {
        <span class="hljs-keyword">return</span> BindingBuilder.bind(deadLetterQueue)
                .to(deadLetterExchange)
                .with(<span class="hljs-string">"sync.failed"</span>); <span class="hljs-comment">// æ­»ä¿¡è·¯ç”±é”®</span>
    }

    <span class="hljs-comment">// 4. æ¶ˆæ¯ç”Ÿäº§è€…æ¨¡æ¿ï¼ˆJSONåºåˆ—åŒ–ï¼‰</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RabbitTemplate <span class="hljs-title function_">rabbitTemplate</span><span class="hljs-params">(ConnectionFactory connectionFactory)</span> {
        <span class="hljs-type">RabbitTemplate</span> <span class="hljs-variable">rabbitTemplate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RabbitTemplate</span>(connectionFactory);
        <span class="hljs-comment">// æ¶ˆæ¯åºåˆ—åŒ–æ–¹å¼ï¼šJSON</span>
        rabbitTemplate.setMessageConverter(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Jackson2JsonMessageConverter</span>());
        <span class="hljs-comment">// å¼€å¯ç¡®è®¤æœºåˆ¶ï¼ˆç¡®ä¿æ¶ˆæ¯åˆ°è¾¾äº¤æ¢æœºï¼‰</span>
        rabbitTemplate.setConfirmCallback((correlationData, ack, cause) -&gt; {
            <span class="hljs-keyword">if</span> (!ack) {
                log.error(<span class="hljs-string">"æ¶ˆæ¯å‘é€è‡³äº¤æ¢æœºå¤±è´¥ï¼Œcause: {}"</span>, cause);
            }
        });
        <span class="hljs-comment">// å¼€å¯è¿”å›æœºåˆ¶ï¼ˆç¡®ä¿æ¶ˆæ¯åˆ°è¾¾é˜Ÿåˆ—ï¼‰</span>
        rabbitTemplate.setReturnsCallback(returned -&gt; {
            log.error(<span class="hljs-string">"æ¶ˆæ¯å‘é€è‡³é˜Ÿåˆ—å¤±è´¥ï¼ŒroutingKey: {}, replyText: {}"</span>,
                    returned.getRoutingKey(), returned.getReplyText());
        });
        <span class="hljs-keyword">return</span> rabbitTemplate;
    }

    <span class="hljs-comment">// 5. æ¶ˆæ¯æ¶ˆè´¹è€…é…ç½®ï¼ˆJSONååºåˆ—åŒ–ï¼‰</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> SimpleRabbitListenerContainerFactory <span class="hljs-title function_">rabbitListenerContainerFactory</span><span class="hljs-params">(ConnectionFactory connectionFactory)</span> {
        <span class="hljs-type">SimpleRabbitListenerContainerFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleRabbitListenerContainerFactory</span>();
        factory.setConnectionFactory(connectionFactory);
        factory.setMessageConverter(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Jackson2JsonMessageConverter</span>());
        <span class="hljs-comment">// å¹¶å‘æ¶ˆè´¹è€…æ•°é‡</span>
        factory.setConcurrentConsumers(<span class="hljs-number">3</span>);
        factory.setMaxConcurrentConsumers(<span class="hljs-number">5</span>);
        <span class="hljs-comment">// æ¯æ¬¡æ‹‰å–æ¶ˆæ¯æ•°é‡</span>
        factory.setPrefetchCount(<span class="hljs-number">10</span>);
        <span class="hljs-keyword">return</span> factory;
    }
}
</code></pre>
<h4 data-id="heading-13">3. å•†å“æœç´¢æœåŠ¡å®ç°</h4>
<h5 data-id="heading-14">3.1 æœç´¢æ¥å£æ§åˆ¶å™¨</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api/search")</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductSearchController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductSearchService productSearchService;

    <span class="hljs-comment">/**
     * å•†å“æœç´¢æ¥å£ï¼ˆæ”¯æŒå…³é”®è¯ã€åˆ†ç±»ã€æ’åºï¼‰
     */</span>
    <span class="hljs-meta">@GetMapping("/products")</span>
    <span class="hljs-keyword">public</span> Result&lt;PageResult&lt;ProductDTO&gt;&gt; <span class="hljs-title function_">searchProducts</span><span class="hljs-params">(
            <span class="hljs-meta">@RequestParam</span> String keyword,
            <span class="hljs-meta">@RequestParam(defaultValue = "0")</span> <span class="hljs-type">int</span> page,
            <span class="hljs-meta">@RequestParam(defaultValue = "20")</span> <span class="hljs-type">int</span> size,
            <span class="hljs-meta">@RequestParam(required = false)</span> String category,
            <span class="hljs-meta">@RequestParam(required = false)</span> String sortField,
            <span class="hljs-meta">@RequestParam(required = false)</span> String sortOrder,
            HttpServletRequest request)</span> {
        
        <span class="hljs-comment">// ä»è¯·æ±‚å¤´è·å–ç”¨æˆ·IDï¼ˆç”¨äºä¸ªæ€§åŒ–æ¨èï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> request.getHeader(<span class="hljs-string">"X-User-ID"</span>);

        <span class="hljs-comment">// æ„å»ºæœç´¢è¯·æ±‚å‚æ•°</span>
        <span class="hljs-type">SearchRequest</span> <span class="hljs-variable">requestParams</span> <span class="hljs-operator">=</span> SearchRequest.builder()
                .keyword(keyword)
                .page(page)
                .size(size)
                .category(category)
                .sortField(sortField)
                .sortOrder(sortOrder)
                .userId(userId)
                .build();

        <span class="hljs-comment">// æ‰§è¡Œæœç´¢</span>
        PageResult&lt;ProductDTO&gt; result = productSearchService.search(requestParams);
        <span class="hljs-keyword">return</span> Result.success(result);
    }

    <span class="hljs-comment">/**
     * æœç´¢å»ºè®®æ¥å£ï¼ˆè‡ªåŠ¨è¡¥å…¨ï¼‰
     */</span>
    <span class="hljs-meta">@GetMapping("/suggest")</span>
    <span class="hljs-keyword">public</span> Result&lt;List&lt;String&gt;&gt; <span class="hljs-title function_">getSearchSuggestions</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> String keyword)</span> {
        List&lt;String&gt; suggestions = productSearchService.getSuggestions(keyword);
        <span class="hljs-keyword">return</span> Result.success(suggestions);
    }
}
</code></pre>
<h5 data-id="heading-15">3.2 æœç´¢æœåŠ¡æ ¸å¿ƒé€»è¾‘</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductSearchService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ElasticsearchRestTemplate elasticsearchTemplate;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductRecommendationService recommendationService;

    <span class="hljs-comment">/**
     * æ‰§è¡Œå•†å“æœç´¢ï¼ˆæ£€ç´¢+ä¸ªæ€§åŒ–æ¨èï¼‰
     */</span>
    <span class="hljs-keyword">public</span> PageResult&lt;ProductDTO&gt; <span class="hljs-title function_">search</span><span class="hljs-params">(SearchRequest request)</span> {
        <span class="hljs-comment">// 1. æ„å»ºElasticsearchæŸ¥è¯¢æ¡ä»¶</span>
        <span class="hljs-type">NativeSearchQuery</span> <span class="hljs-variable">searchQuery</span> <span class="hljs-operator">=</span> buildSearchQuery(request);

        <span class="hljs-comment">// 2. æ‰§è¡ŒESæœç´¢</span>
        SearchHits&lt;ProductDocument&gt; searchHits = elasticsearchTemplate.search(
                searchQuery, ProductDocument.class);

        <span class="hljs-comment">// 3. è½¬æ¢æœç´¢ç»“æœä¸ºDTO</span>
        List&lt;ProductDTO&gt; productList = searchHits.getSearchHits().stream()
                .map(hit -&gt; convertToProductDTO(hit.getContent()))
                .collect(Collectors.toList());

        <span class="hljs-comment">// 4. å¯¹ç™»å½•ç”¨æˆ·åº”ç”¨ä¸ªæ€§åŒ–æ¨èï¼ˆæ··åˆæœç´¢ç»“æœä¸æ¨èç»“æœï¼‰</span>
        <span class="hljs-keyword">if</span> (StringUtils.hasText(request.getUserId())) {
            productList = recommendationService.personalizeProducts(productList, request.getUserId());
        }

        <span class="hljs-comment">// 5. è®°å½•æœç´¢æŒ‡æ ‡ï¼ˆç”¨äºçƒ­é—¨æœç´¢è¯åˆ†æï¼‰</span>
        recordSearchMetrics(request.getKeyword(), productList.size());

        <span class="hljs-comment">// 6. æ„å»ºåˆ†é¡µç»“æœ</span>
        <span class="hljs-keyword">return</span> PageResult.&lt;ProductDTO&gt;builder()
                .data(productList)
                .total(searchHits.getTotalHits())
                .page(request.getPage())
                .size(request.getSize())
                .build();
    }

    <span class="hljs-comment">/**
     * æ„å»ºESæœç´¢æŸ¥è¯¢ï¼ˆå¤šå­—æ®µ+è¿‡æ»¤+æ’åºï¼‰
     */</span>
    <span class="hljs-keyword">private</span> NativeSearchQuery <span class="hljs-title function_">buildSearchQuery</span><span class="hljs-params">(SearchRequest request)</span> {
        <span class="hljs-type">BoolQueryBuilder</span> <span class="hljs-variable">boolQuery</span> <span class="hljs-operator">=</span> QueryBuilders.boolQuery();

        <span class="hljs-comment">// å…³é”®è¯æœç´¢ï¼šå¤šå­—æ®µåŒ¹é…ï¼ˆåç§°æƒé‡3ï¼Œæè¿°æƒé‡2ï¼Œå“ç‰Œ/åˆ†ç±»æƒé‡1ï¼‰</span>
        <span class="hljs-keyword">if</span> (StringUtils.hasText(request.getKeyword())) {
            <span class="hljs-type">MultiMatchQueryBuilder</span> <span class="hljs-variable">multiMatchQuery</span> <span class="hljs-operator">=</span> QueryBuilders.multiMatchQuery(
                    request.getKeyword(),
                    <span class="hljs-string">"name^3"</span>,  <span class="hljs-comment">// å•†å“åç§°æƒé‡æœ€é«˜</span>
                    <span class="hljs-string">"description^2"</span>,
                    <span class="hljs-string">"brand"</span>,
                    <span class="hljs-string">"category"</span>
            ).type(MultiMatchQueryBuilder.Type.BEST_FIELDS)
             .fuzziness(Fuzziness.AUTO); <span class="hljs-comment">// æ”¯æŒæ¨¡ç³Šæœç´¢ï¼ˆå®¹é”™è¾“å…¥é”™è¯¯ï¼‰</span>
            boolQuery.must(multiMatchQuery);
        }

        <span class="hljs-comment">// åˆ†ç±»è¿‡æ»¤</span>
        <span class="hljs-keyword">if</span> (StringUtils.hasText(request.getCategory())) {
            boolQuery.filter(QueryBuilders.termQuery(<span class="hljs-string">"category.keyword"</span>, request.getCategory()));
        }

        <span class="hljs-comment">// æ„å»ºæŸ¥è¯¢æ„å»ºå™¨</span>
        <span class="hljs-type">NativeSearchQueryBuilder</span> <span class="hljs-variable">queryBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NativeSearchQueryBuilder</span>()
                .withQuery(boolQuery)
                .withPageable(PageRequest.of(request.getPage(), request.getSize()));

        <span class="hljs-comment">// æ’åºé…ç½®ï¼ˆä¼˜å…ˆæŒ‰ç”¨æˆ·æŒ‡å®šå­—æ®µæ’åºï¼Œé»˜è®¤æŒ‰ç›¸å…³æ€§æ’åºï¼‰</span>
        <span class="hljs-keyword">if</span> (StringUtils.hasText(request.getSortField())) {
            <span class="hljs-type">SortOrder</span> <span class="hljs-variable">sortOrder</span> <span class="hljs-operator">=</span> <span class="hljs-string">"desc"</span>.equalsIgnoreCase(request.getSortOrder()) 
                    ? SortOrder.DESC : SortOrder.ASC;
            queryBuilder.withSort(SortBuilders.fieldSort(request.getSortField()).order(sortOrder));
        } <span class="hljs-keyword">else</span> {
            queryBuilder.withSort(SortBuilders.scoreSort().order(SortOrder.DESC));
        }

        <span class="hljs-keyword">return</span> queryBuilder.build();
    }

    <span class="hljs-comment">/**
     * è·å–æœç´¢å»ºè®®ï¼ˆåŸºäºESçš„Completion Suggesterï¼‰
     */</span>
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getSuggestions</span><span class="hljs-params">(String keyword)</span> {
        <span class="hljs-comment">// æ„å»ºæœç´¢å»ºè®®å™¨</span>
        <span class="hljs-type">CompletionSuggestionBuilder</span> <span class="hljs-variable">suggestionBuilder</span> <span class="hljs-operator">=</span> SuggestBuilders
                .completionSuggestion(<span class="hljs-string">"suggest"</span>)
                .prefix(keyword)
                .size(<span class="hljs-number">10</span>); <span class="hljs-comment">// è¿”å›Top10å»ºè®®</span>

        <span class="hljs-comment">// æ„å»ºå»ºè®®è¯·æ±‚</span>
        <span class="hljs-type">SuggestBuilder</span> <span class="hljs-variable">suggestBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SuggestBuilder</span>()
                .addSuggestion(<span class="hljs-string">"product_suggest"</span>, suggestionBuilder);

        <span class="hljs-type">SearchRequest</span> <span class="hljs-variable">searchRequest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SearchRequest</span>(<span class="hljs-string">"products"</span>);
        searchRequest.source(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SearchSourceBuilder</span>().suggest(suggestBuilder));

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰§è¡Œå»ºè®®æŸ¥è¯¢</span>
            <span class="hljs-type">SearchResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> elasticsearchTemplate.getElasticsearchRestClient()
                    .search(searchRequest, RequestOptions.DEFAULT);

            <span class="hljs-comment">// è§£æå»ºè®®ç»“æœ</span>
            <span class="hljs-type">Suggest</span> <span class="hljs-variable">suggest</span> <span class="hljs-operator">=</span> response.getSuggest();
            <span class="hljs-type">CompletionSuggestion</span> <span class="hljs-variable">suggestion</span> <span class="hljs-operator">=</span> suggest.getSuggestion(<span class="hljs-string">"product_suggest"</span>);
            <span class="hljs-keyword">return</span> suggestion.getEntries().stream()
                    .flatMap(entry -&gt; entry.getOptions().stream())
                    .map(option -&gt; option.getText().toString())
                    .collect(Collectors.toList());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"è·å–æœç´¢å»ºè®®å¤±è´¥ï¼Œkeyword: {}"</span>, keyword, e);
            <span class="hljs-keyword">return</span> Collections.emptyList();
        }
    }

    <span class="hljs-comment">// è¾…åŠ©æ–¹æ³•ï¼šè®°å½•æœç´¢æŒ‡æ ‡ã€DTOè½¬æ¢ï¼ˆç•¥ï¼ŒåŒå‰æ–‡Kafkaæ–¹æ¡ˆï¼‰</span>
}
</code></pre>
<h4 data-id="heading-16">4. ä¸ªæ€§åŒ–æ¨èæœåŠ¡å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRecommendationService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ElasticsearchRestTemplate elasticsearchTemplate;

    <span class="hljs-comment">/**
     * ä¸ªæ€§åŒ–å•†å“æ¨èï¼ˆæ··åˆååŒè¿‡æ»¤+å†…å®¹æ¨èï¼‰
     */</span>
    <span class="hljs-keyword">public</span> List&lt;ProductDTO&gt; <span class="hljs-title function_">personalizeProducts</span><span class="hljs-params">(List&lt;ProductDTO&gt; baseProducts, String userId)</span> {
        <span class="hljs-comment">// 1. è·å–ç”¨æˆ·è¡Œä¸ºå†å²ï¼ˆä¼˜å…ˆä»Redisç¼“å­˜è·å–ï¼‰</span>
        List&lt;UserBehaviorEvent&gt; userBehaviors = getUserBehaviors(userId);
        <span class="hljs-keyword">if</span> (userBehaviors.isEmpty()) {
            <span class="hljs-keyword">return</span> baseProducts; <span class="hljs-comment">// æ— è¡Œä¸ºæ•°æ®æ—¶ç›´æ¥è¿”å›æœç´¢ç»“æœ</span>
        }

        <span class="hljs-comment">// 2. ååŒè¿‡æ»¤æ¨èï¼šåŸºäºç›¸ä¼¼ç”¨æˆ·çš„åå¥½æ¨è</span>
        List&lt;String&gt; cfRecommendIds = collaborativeFilteringRecommend(userId, userBehaviors);

        <span class="hljs-comment">// 3. å†…å®¹æ¨èï¼šåŸºäºç”¨æˆ·åå¥½çš„åˆ†ç±»/å“ç‰Œæ¨è</span>
        List&lt;String&gt; contentRecommendIds = contentBasedRecommend(userBehaviors);

        <span class="hljs-comment">// 4. åˆå¹¶æ¨èç»“æœï¼ˆå»é‡ï¼Œä¿æŒé¡ºåºï¼‰</span>
        Set&lt;String&gt; allRecommendIds = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashSet</span>&lt;&gt;();
        allRecommendIds.addAll(cfRecommendIds);
        allRecommendIds.addAll(contentRecommendIds);

        <span class="hljs-comment">// 5. è·å–æ¨èå•†å“è¯¦æƒ…</span>
        List&lt;ProductDTO&gt; recommendProducts = getProductDetails(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(allRecommendIds));

        <span class="hljs-comment">// 6. æ··åˆæœç´¢ç»“æœä¸æ¨èç»“æœï¼ˆå»é‡ï¼Œé™åˆ¶æ€»æ•°50ï¼‰</span>
        <span class="hljs-keyword">return</span> blendSearchAndRecommendations(baseProducts, recommendProducts);
    }

    <span class="hljs-comment">/**
     * ä»Redisè·å–ç”¨æˆ·è¡Œä¸ºå†å²ï¼ˆç”±RabbitMQæ¶ˆè´¹ç«¯å†™å…¥ï¼‰
     */</span>
    <span class="hljs-keyword">private</span> List&lt;UserBehaviorEvent&gt; <span class="hljs-title function_">getUserBehaviors</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:behaviors:"</span> + userId;
        <span class="hljs-type">Object</span> <span class="hljs-variable">cachedBehaviors</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(cacheKey);
        
        <span class="hljs-keyword">if</span> (cachedBehaviors != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> (List&lt;UserBehaviorEvent&gt;) cachedBehaviors;
        }

        <span class="hljs-comment">// ç¼“å­˜æœªå‘½ä¸­ï¼Œä»æ•°æ®åº“åŠ è½½ï¼ˆå®é™…é¡¹ç›®ä¸­å®ç°DBæŸ¥è¯¢é€»è¾‘ï¼‰</span>
        List&lt;UserBehaviorEvent&gt; dbBehaviors = loadUserBehaviorsFromDB(userId);
        
        <span class="hljs-comment">// ç¼“å­˜åˆ°Redisï¼Œæœ‰æ•ˆæœŸ1å°æ—¶</span>
        redisTemplate.opsForValue().set(cacheKey, dbBehaviors, Duration.ofHours(<span class="hljs-number">1</span>));
        <span class="hljs-keyword">return</span> dbBehaviors;
    }

    <span class="hljs-comment">// å…¶ä»–æ ¸å¿ƒæ–¹æ³•ï¼ˆååŒè¿‡æ»¤ã€å†…å®¹æ¨èã€ç»“æœæ··åˆç­‰ï¼Œç•¥ï¼ŒåŒå‰æ–‡Kafkaæ–¹æ¡ˆï¼‰</span>
}
</code></pre>
<h4 data-id="heading-17">5. RabbitMQ æ¶ˆæ¯ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å®ç°</h4>
<h5 data-id="heading-18">5.1 æ¶ˆæ¯ç”Ÿäº§è€…ï¼ˆå•†å“æœåŠ¡ã€ç”¨æˆ·è¡Œä¸ºé‡‡é›†æœåŠ¡ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å•†å“å˜æ›´äº‹ä»¶ç”Ÿäº§è€…</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductEventProducer</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RabbitTemplate rabbitTemplate;

    <span class="hljs-comment">/**
     * å‘é€å•†å“å˜æ›´äº‹ä»¶åˆ°RabbitMQ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendProductChangeEvent</span><span class="hljs-params">(ProductChangeEvent event)</span> {
        <span class="hljs-keyword">try</span> {
            rabbitTemplate.convertAndSend(
                    RabbitMQConfig.PRODUCT_EXCHANGE,
                    <span class="hljs-string">"product.sync"</span>, <span class="hljs-comment">// è·¯ç”±é”®</span>
                    event,
                    correlationData -&gt; {
                        <span class="hljs-comment">// è®¾ç½®æ¶ˆæ¯IDï¼Œç”¨äºç¡®è®¤æœºåˆ¶</span>
                        correlationData.getId();
                        <span class="hljs-keyword">return</span> correlationData;
                    }
            );
            log.info(<span class="hljs-string">"å•†å“å˜æ›´äº‹ä»¶å‘é€æˆåŠŸï¼ŒproductId: {}, eventType: {}"</span>,
                    event.getProductId(), event.getEventType());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"å•†å“å˜æ›´äº‹ä»¶å‘é€å¤±è´¥ï¼ŒproductId: {}"</span>, event.getProductId(), e);
            <span class="hljs-comment">// å¤±è´¥æ—¶å¯æœ¬åœ°æŒä¹…åŒ–ï¼Œåç»­é‡è¯•</span>
        }
    }
}

<span class="hljs-comment">// ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ç”Ÿäº§è€…</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserBehaviorProducer</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RabbitTemplate rabbitTemplate;

    <span class="hljs-comment">/**
     * å‘é€ç”¨æˆ·è¡Œä¸ºäº‹ä»¶åˆ°RabbitMQ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendUserBehaviorEvent</span><span class="hljs-params">(UserBehaviorEvent event)</span> {
        <span class="hljs-keyword">try</span> {
            rabbitTemplate.convertAndSend(
                    RabbitMQConfig.PRODUCT_EXCHANGE,
                    <span class="hljs-string">"user.behavior"</span>, <span class="hljs-comment">// è·¯ç”±é”®</span>
                    event
            );
            log.info(<span class="hljs-string">"ç”¨æˆ·è¡Œä¸ºäº‹ä»¶å‘é€æˆåŠŸï¼ŒuserId: {}, behaviorType: {}"</span>,
                    event.getUserId(), event.getBehaviorType());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"ç”¨æˆ·è¡Œä¸ºäº‹ä»¶å‘é€å¤±è´¥ï¼ŒuserId: {}"</span>, event.getUserId(), e);
        }
    }
}
</code></pre>
<h5 data-id="heading-19">5.2 æ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆæ ¸å¿ƒæ•°æ®åŒæ­¥é€»è¾‘ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ESåŒæ­¥æ¶ˆè´¹ç«¯ï¼šæ¶ˆè´¹å•†å“å˜æ›´äº‹ä»¶ï¼ŒåŒæ­¥è‡³Elasticsearch</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductSyncConsumer</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ElasticsearchRestTemplate elasticsearchTemplate;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;

    <span class="hljs-comment">/**
     * æ¶ˆè´¹å•†å“åŒæ­¥é˜Ÿåˆ—æ¶ˆæ¯
     */</span>
    <span class="hljs-meta">@RabbitListener(queues = RabbitMQConfig.PRODUCT_SYNC_QUEUE)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumeProductSyncEvent</span><span class="hljs-params">(ProductChangeEvent event)</span> {
        log.info(<span class="hljs-string">"æ”¶åˆ°å•†å“åŒæ­¥äº‹ä»¶ï¼ŒproductId: {}, eventType: {}"</span>,
                event.getProductId(), event.getEventType());

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">switch</span> (event.getEventType()) {
                <span class="hljs-keyword">case</span> CREATE:
                <span class="hljs-keyword">case</span> UPDATE:
                    <span class="hljs-comment">// åŒæ­¥å•†å“åˆ°ES</span>
                    syncProductToES(event.getProduct());
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> DELETE:
                    <span class="hljs-comment">// ä»ESåˆ é™¤å•†å“</span>
                    deleteProductFromES(event.getProductId());
                    <span class="hljs-keyword">break</span>;
            }

            <span class="hljs-comment">// è§¦å‘ç¼“å­˜å¤±æ•ˆï¼ˆä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼‰</span>
            invalidateProductCache(event.getProductId());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"å•†å“åŒæ­¥ESå¤±è´¥ï¼ŒproductId: {}"</span>, event.getProductId(), e);
            <span class="hljs-comment">// æŠ›å‡ºå¼‚å¸¸ï¼Œæ¶ˆæ¯å°†è¢«å‘é€åˆ°æ­»ä¿¡é˜Ÿåˆ—</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AmqpRejectAndDontRequeueException</span>(<span class="hljs-string">"å•†å“åŒæ­¥å¤±è´¥ï¼Œè¿›å…¥æ­»ä¿¡é˜Ÿåˆ—"</span>, e);
        }
    }

    <span class="hljs-comment">/**
     * åŒæ­¥å•†å“åˆ°Elasticsearch
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">syncProductToES</span><span class="hljs-params">(Product product)</span> {
        <span class="hljs-type">ProductDocument</span> <span class="hljs-variable">doc</span> <span class="hljs-operator">=</span> convertToProductDocument(product);
        doc.buildSuggest(); <span class="hljs-comment">// æ„å»ºæœç´¢å»ºè®®æ•°æ®</span>
        elasticsearchTemplate.save(doc);
        log.info(<span class="hljs-string">"å•†å“åŒæ­¥åˆ°ESæˆåŠŸï¼ŒproductId: {}"</span>, product.getId());
    }

    <span class="hljs-comment">// è¾…åŠ©æ–¹æ³•ï¼šä»ESåˆ é™¤å•†å“ã€ç¼“å­˜å¤±æ•ˆã€DTOè½¬æ¢ï¼ˆç•¥ï¼‰</span>
}

<span class="hljs-comment">// ç”¨æˆ·è¡Œä¸ºæ¶ˆè´¹ç«¯ï¼šæ¶ˆè´¹ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ï¼Œå­˜å‚¨è‡³Redisä¸MySQL</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserBehaviorConsumer</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserBehaviorMapper userBehaviorMapper;

    <span class="hljs-comment">/**
     * æ¶ˆè´¹ç”¨æˆ·è¡Œä¸ºé˜Ÿåˆ—æ¶ˆæ¯
     */</span>
    <span class="hljs-meta">@RabbitListener(queues = RabbitMQConfig.USER_BEHAVIOR_QUEUE)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumeUserBehaviorEvent</span><span class="hljs-params">(UserBehaviorEvent event)</span> {
        log.info(<span class="hljs-string">"æ”¶åˆ°ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ï¼ŒuserId: {}, productId: {}, behaviorType: {}"</span>,
                event.getUserId(), event.getProductId(), event.getBehaviorType());

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. å­˜å‚¨åˆ°MySQLï¼ˆæŒä¹…åŒ–ï¼‰</span>
            <span class="hljs-type">UserBehaviorPO</span> <span class="hljs-variable">po</span> <span class="hljs-operator">=</span> convertToPO(event);
            userBehaviorMapper.insert(po);

            <span class="hljs-comment">// 2. ç¼“å­˜åˆ°Redisï¼ˆä¾›æ¨èæœåŠ¡ä½¿ç”¨ï¼‰</span>
            updateUserBehaviorCache(event);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"ç”¨æˆ·è¡Œä¸ºå­˜å‚¨å¤±è´¥ï¼ŒuserId: {}"</span>, event.getUserId(), e);
            <span class="hljs-comment">// å¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚å†³å®šæ˜¯å¦é‡è¯•ï¼Œæ­¤å¤„ç›´æ¥ä¸¢å¼ƒï¼ˆæˆ–è¿›å…¥æ­»ä¿¡é˜Ÿåˆ—ï¼‰</span>
        }
    }

    <span class="hljs-comment">/**
     * æ›´æ–°ç”¨æˆ·è¡Œä¸ºRedisç¼“å­˜
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUserBehaviorCache</span><span class="hljs-params">(UserBehaviorEvent event)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:behaviors:"</span> + event.getUserId();
        List&lt;UserBehaviorEvent&gt; behaviors = (List&lt;UserBehaviorEvent&gt;) redisTemplate.opsForValue().get(cacheKey);
        
        <span class="hljs-keyword">if</span> (behaviors == <span class="hljs-literal">null</span>) {
            behaviors = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        }
        
        <span class="hljs-comment">// æ·»åŠ æ–°è¡Œä¸ºï¼Œé™åˆ¶ç¼“å­˜æœ€è¿‘100æ¡</span>
        behaviors.add(event);
        <span class="hljs-keyword">if</span> (behaviors.size() &gt; <span class="hljs-number">100</span>) {
            behaviors = behaviors.subList(behaviors.size() - <span class="hljs-number">100</span>, behaviors.size());
        }
        
        redisTemplate.opsForValue().set(cacheKey, behaviors, Duration.ofHours(<span class="hljs-number">1</span>));
    }

    <span class="hljs-comment">// è¾…åŠ©æ–¹æ³•ï¼šPOè½¬æ¢ï¼ˆç•¥ï¼‰</span>
}

<span class="hljs-comment">// æ­»ä¿¡é˜Ÿåˆ—æ¶ˆè´¹ç«¯ï¼šé‡è¯•å¤±è´¥çš„å•†å“åŒæ­¥æ¶ˆæ¯</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DeadLetterConsumer</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductSyncConsumer productSyncConsumer;

    <span class="hljs-comment">/**
     * æ¶ˆè´¹æ­»ä¿¡é˜Ÿåˆ—æ¶ˆæ¯ï¼ˆé‡è¯•3æ¬¡åæ”¾å¼ƒï¼‰
     */</span>
    <span class="hljs-meta">@RabbitListener(queues = RabbitMQConfig.DEAD_LETTER_QUEUE)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumeDeadLetterEvent</span><span class="hljs-params">(ProductChangeEvent event, <span class="hljs-meta">@Header(AmqpHeaders.DELIVERY_TAG)</span> <span class="hljs-type">long</span> deliveryTag)</span> {
        log.info(<span class="hljs-string">"æ”¶åˆ°æ­»ä¿¡é˜Ÿåˆ—æ¶ˆæ¯ï¼ŒproductId: {}, eventType: {}"</span>,
                event.getProductId(), event.getEventType());

        <span class="hljs-comment">// è·å–é‡è¯•æ¬¡æ•°ï¼ˆä»æ¶ˆæ¯å±æ€§ä¸­è·å–ï¼‰</span>
        <span class="hljs-type">Integer</span> <span class="hljs-variable">retryCount</span> <span class="hljs-operator">=</span> (Integer) redisTemplate.opsForValue().get(<span class="hljs-string">"retry:count:"</span> + event.getProductId());
        retryCount = retryCount == <span class="hljs-literal">null</span> ? <span class="hljs-number">1</span> : retryCount + <span class="hljs-number">1</span>;

        <span class="hljs-keyword">if</span> (retryCount &lt;= <span class="hljs-number">3</span>) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// é‡è¯•åŒæ­¥é€»è¾‘</span>
                productSyncConsumer.consumeProductSyncEvent(event);
                <span class="hljs-comment">// é‡è¯•æˆåŠŸï¼Œåˆ é™¤é‡è¯•è®¡æ•°</span>
                redisTemplate.delete(<span class="hljs-string">"retry:count:"</span> + event.getProductId());
                log.info(<span class="hljs-string">"æ­»ä¿¡æ¶ˆæ¯é‡è¯•æˆåŠŸï¼ŒproductId: {}, retryCount: {}"</span>, event.getProductId(), retryCount);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-comment">// é‡è¯•å¤±è´¥ï¼Œæ›´æ–°é‡è¯•è®¡æ•°ï¼Œç­‰å¾…ä¸‹æ¬¡é‡è¯•ï¼ˆå¯è®¾ç½®å»¶è¿Ÿï¼‰</span>
                redisTemplate.opsForValue().set(<span class="hljs-string">"retry:count:"</span> + event.getProductId(), retryCount, Duration.ofMinutes(<span class="hljs-number">5</span>));
                log.error(<span class="hljs-string">"æ­»ä¿¡æ¶ˆæ¯é‡è¯•å¤±è´¥ï¼ŒproductId: {}, retryCount: {}"</span>, event.getProductId(), retryCount, e);
                <span class="hljs-comment">// æŠ›å‡ºå¼‚å¸¸ï¼Œæ¶ˆæ¯å°†é‡æ–°å…¥é˜Ÿï¼ˆæˆ–æ ¹æ®ç­–ç•¥ä¸¢å¼ƒï¼‰</span>
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AmqpRejectAndDontRequeueException</span>(<span class="hljs-string">"é‡è¯•å¤±è´¥"</span>, e);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// é‡è¯•æ¬¡æ•°è¶…è¿‡3æ¬¡ï¼Œè®°å½•æ—¥å¿—å¹¶ä¸¢å¼ƒ</span>
            log.error(<span class="hljs-string">"æ­»ä¿¡æ¶ˆæ¯é‡è¯•æ¬¡æ•°è€—å°½ï¼ŒproductId: {}, è¯·äººå·¥å¤„ç†"</span>, event.getProductId());
            <span class="hljs-comment">// æ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯ï¼Œä¸å†é‡è¯•</span>
            <span class="hljs-comment">// channel.basicAck(deliveryTag, false);</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-20">6. ç¼“å­˜ä¼˜åŒ–ç­–ç•¥å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductCacheService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ElasticsearchRestTemplate elasticsearchTemplate;

    <span class="hljs-comment">/**
     * è·å–å•†å“è¯¦æƒ…ï¼ˆç¼“å­˜ä¼˜å…ˆï¼‰
     */</span>
    <span class="hljs-keyword">public</span> ProductDTO <span class="hljs-title function_">getProductDetail</span><span class="hljs-params">(String productId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:detail:"</span> + productId;

        <span class="hljs-comment">// 1. ä»Redisç¼“å­˜è·å–</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">cachedProduct</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(cacheKey);
        <span class="hljs-keyword">if</span> (cachedProduct != <span class="hljs-literal">null</span>) {
            log.debug(<span class="hljs-string">"ä»ç¼“å­˜è·å–å•†å“è¯¦æƒ…ï¼ŒproductId: {}"</span>, productId);
            <span class="hljs-keyword">return</span> (ProductDTO) cachedProduct;
        }

        <span class="hljs-comment">// 2. ç¼“å­˜æœªå‘½ä¸­ï¼Œä»ESè·å–</span>
        <span class="hljs-type">ProductDocument</span> <span class="hljs-variable">doc</span> <span class="hljs-operator">=</span> elasticsearchTemplate.findById(productId, ProductDocument.class);
        <span class="hljs-keyword">if</span> (doc == <span class="hljs-literal">null</span>) {
            log.warn(<span class="hljs-string">"å•†å“ä¸å­˜åœ¨ï¼ŒproductId: {}"</span>, productId);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }

        <span class="hljs-comment">// 3. è½¬æ¢ä¸ºDTOå¹¶ç¼“å­˜ï¼ˆæœ‰æ•ˆæœŸ30åˆ†é’Ÿï¼‰</span>
        <span class="hljs-type">ProductDTO</span> <span class="hljs-variable">productDTO</span> <span class="hljs-operator">=</span> convertToProductDTO(doc);
        redisTemplate.opsForValue().set(cacheKey, productDTO, Duration.ofMinutes(<span class="hljs-number">30</span>));
        log.debug(<span class="hljs-string">"å•†å“è¯¦æƒ…ç¼“å­˜æˆåŠŸï¼ŒproductId: {}"</span>, productId);

        <span class="hljs-keyword">return</span> productDTO;
    }

    <span class="hljs-comment">/**
     * è·å–çƒ­é—¨å•†å“åˆ—è¡¨ï¼ˆç¼“å­˜+å®šæ—¶æ›´æ–°ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> List&lt;ProductDTO&gt; <span class="hljs-title function_">getHotProducts</span><span class="hljs-params">(<span class="hljs-type">int</span> count)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"product:hot:"</span> + count;

        <span class="hljs-comment">// 1. ä»ç¼“å­˜è·å–</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">cachedHotProducts</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(cacheKey);
        <span class="hljs-keyword">if</span> (cachedHotProducts != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> (List&lt;ProductDTO&gt;) cachedHotProducts;
        }

        <span class="hljs-comment">// 2. ä»ESæŸ¥è¯¢çƒ­é—¨å•†å“ï¼ˆæŒ‰é”€é‡é™åºï¼‰</span>
        <span class="hljs-type">NativeSearchQuery</span> <span class="hljs-variable">searchQuery</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NativeSearchQueryBuilder</span>()
                .withQuery(QueryBuilders.rangeQuery(<span class="hljs-string">"salesVolume"</span>).gt(<span class="hljs-number">0</span>))
                .withSort(SortBuilders.fieldSort(<span class="hljs-string">"salesVolume"</span>).order(SortOrder.DESC))
                .withPageable(PageRequest.of(<span class="hljs-number">0</span>, count))
                .build();

        SearchHits&lt;ProductDocument&gt; hits = elasticsearchTemplate.search(searchQuery, ProductDocument.class);
        List&lt;ProductDTO&gt; hotProducts = hits.getSearchHits().stream()
                .map(hit -&gt; convertToProductDTO(hit.getContent()))
                .collect(Collectors.toList());

        <span class="hljs-comment">// 3. ç¼“å­˜ç»“æœï¼ˆæœ‰æ•ˆæœŸ10åˆ†é’Ÿï¼Œå®šæ—¶æ›´æ–°ï¼‰</span>
        redisTemplate.opsForValue().set(cacheKey, hotProducts, Duration.ofMinutes(<span class="hljs-number">10</span>));
        log.info(<span class="hljs-string">"çƒ­é—¨å•†å“ç¼“å­˜æˆåŠŸï¼Œcount: {}"</span>, count);

        <span class="hljs-keyword">return</span> hotProducts;
    }

    <span class="hljs-comment">// è¾…åŠ©æ–¹æ³•ï¼šDTOè½¬æ¢ã€ç¼“å­˜é¢„çƒ­ï¼ˆç•¥ï¼‰</span>
}
</code></pre>
<h4 data-id="heading-21">7. æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">application:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">product-search-service</span>
  <span class="hljs-comment"># å¾®æœåŠ¡æ³¨å†Œå‘ç°ï¼ˆåŸºäºNacosï¼‰</span>
  <span class="hljs-attr">cloud:</span>
    <span class="hljs-attr">nacos:</span>
      <span class="hljs-attr">discovery:</span>
        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:8848</span>
  <span class="hljs-comment"># Elasticsearché…ç½®</span>
  <span class="hljs-attr">data:</span>
    <span class="hljs-attr">elasticsearch:</span>
      <span class="hljs-attr">repositories:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">client:</span>
        <span class="hljs-attr">reactive:</span>
          <span class="hljs-attr">connection-timeout:</span> <span class="hljs-string">5s</span>
          <span class="hljs-attr">socket-timeout:</span> <span class="hljs-string">60s</span>
      <span class="hljs-attr">uris:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">http://127.0.0.1:9200</span>
  <span class="hljs-comment"># Redisé…ç½®</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">password:</span>
    <span class="hljs-attr">lettuce:</span>
      <span class="hljs-attr">pool:</span>
        <span class="hljs-attr">max-active:</span> <span class="hljs-number">200</span>
        <span class="hljs-attr">max-idle:</span> <span class="hljs-number">50</span>
        <span class="hljs-attr">min-idle:</span> <span class="hljs-number">10</span>
        <span class="hljs-attr">max-wait:</span> <span class="hljs-string">2000ms</span>
  <span class="hljs-comment"># RabbitMQé…ç½®</span>
  <span class="hljs-attr">rabbitmq:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">5672</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">guest</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">guest</span>
    <span class="hljs-attr">virtual-host:</span> <span class="hljs-string">/</span>
    <span class="hljs-comment"># ç”Ÿäº§è€…ç¡®è®¤é…ç½®</span>
    <span class="hljs-attr">publisher-confirm-type:</span> <span class="hljs-string">correlated</span>
    <span class="hljs-attr">publisher-returns:</span> <span class="hljs-literal">true</span>
    <span class="hljs-comment"># æ¶ˆè´¹è€…é…ç½®</span>
    <span class="hljs-attr">listener:</span>
      <span class="hljs-attr">simple:</span>
        <span class="hljs-attr">acknowledge-mode:</span> <span class="hljs-string">auto</span> <span class="hljs-comment"># è‡ªåŠ¨ç¡®è®¤æ¶ˆæ¯</span>
        <span class="hljs-attr">retry:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># å¼€å¯é‡è¯•</span>
          <span class="hljs-attr">max-attempts:</span> <span class="hljs-number">3</span> <span class="hljs-comment"># æœ€å¤§é‡è¯•æ¬¡æ•°</span>
          <span class="hljs-attr">initial-interval:</span> <span class="hljs-string">1000ms</span> <span class="hljs-comment"># åˆå§‹é‡è¯•é—´éš”</span>

<span class="hljs-comment"># Elasticsearchç´¢å¼•ä¼˜åŒ–é…ç½®</span>
<span class="hljs-attr">elasticsearch:</span>
  <span class="hljs-attr">index:</span>
    <span class="hljs-attr">number-of-shards:</span> <span class="hljs-number">3</span> <span class="hljs-comment"># åˆ†ç‰‡æ•°ï¼ˆæ ¹æ®é›†ç¾¤èŠ‚ç‚¹æ•°è°ƒæ•´ï¼‰</span>
    <span class="hljs-attr">number-of-replicas:</span> <span class="hljs-number">1</span> <span class="hljs-comment"># å‰¯æœ¬æ•°ï¼ˆä¿éšœé«˜å¯ç”¨ï¼‰</span>
    <span class="hljs-attr">refresh-interval:</span> <span class="hljs-string">30s</span> <span class="hljs-comment"># ç´¢å¼•åˆ·æ–°é—´éš”ï¼ˆæå‡å†™å…¥æ€§èƒ½ï¼‰</span>

<span class="hljs-comment"># æœåŠ¡ç«¯å£</span>
<span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8082</span>

<span class="hljs-comment"># æ—¥å¿—é…ç½®</span>
<span class="hljs-attr">logging:</span>
  <span class="hljs-attr">level:</span>
    <span class="hljs-attr">org.springframework.amqp.rabbit.core:</span> <span class="hljs-string">INFO</span>
    <span class="hljs-attr">com.example.search:</span> <span class="hljs-string">INFO</span>
</code></pre>
<h3 data-id="heading-22">å››ã€RabbitMQ æ–¹æ¡ˆæ ¸å¿ƒä¼˜åŠ¿ä¸æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-23">1. ç›¸æ¯” Kafka æ–¹æ¡ˆçš„å·®å¼‚åŒ–ä¼˜åŠ¿</h4>
<ul>
<li><strong>æ¶ˆæ¯å¯é æ€§æ›´é«˜</strong>ï¼šRabbitMQ æ”¯æŒæ¶ˆæ¯ç¡®è®¤ï¼ˆç”Ÿäº§è€…ç¡®è®¤ + æ¶ˆè´¹è€…ç¡®è®¤ï¼‰ã€æ­»ä¿¡é˜Ÿåˆ—ã€æ¶ˆæ¯é‡è¯•ï¼Œé€‚åˆå¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼›</li>
<li><strong>è·¯ç”±æ›´çµæ´»</strong>ï¼šæ”¯æŒ topicã€directã€fanout ç­‰å¤šç§äº¤æ¢æœºç±»å‹ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚ç²¾å‡†è·¯ç”±æ¶ˆæ¯ï¼›</li>
<li><strong>éƒ¨ç½²ä¸è¿ç»´æ›´è½»é‡</strong>ï¼šå•èŠ‚ç‚¹éƒ¨ç½²å³å¯æ»¡è¶³ä¸­å°è§„æ¨¡ç”µå•†éœ€æ±‚ï¼Œé…ç½®ç®€å•ï¼Œæ•…éšœæ’æŸ¥ä¾¿æ·ï¼›</li>
<li><strong>å»¶è¿Ÿé˜Ÿåˆ—åŸç”Ÿæ”¯æŒ</strong>ï¼šé€šè¿‡æ­»ä¿¡é˜Ÿåˆ— + TTL å¯è½»æ¾å®ç°å»¶è¿Ÿé‡è¯•ï¼Œæ— éœ€é¢å¤–æ’ä»¶ã€‚</li>
</ul>
<h4 data-id="heading-24">2. ç³»ç»Ÿæ ¸å¿ƒä¼˜åŠ¿</h4>
<ul>
<li><strong>é«˜æ€§èƒ½æ£€ç´¢</strong>ï¼šElasticsearch æ¯«ç§’çº§å“åº” + Redis ç¼“å­˜ï¼Œæœç´¢å“åº”æ—¶é—´æ§åˆ¶åœ¨ 100ms ä»¥å†…ï¼›</li>
<li><strong>ç²¾å‡†æœç´¢ä½“éªŒ</strong>ï¼šå¤šå­—æ®µæƒé‡åŒ¹é… + ä¸­æ–‡åˆ†è¯ + æ¨¡ç³Šæœç´¢ï¼Œå¤§å¹…æå‡æœç´¢ç²¾å‡†åº¦ï¼›</li>
<li><strong>ä¸ªæ€§åŒ–æ¨è</strong>ï¼šåŸºäºç”¨æˆ·è¡Œä¸ºçš„ååŒè¿‡æ»¤ + å†…å®¹æ¨èï¼Œæ¨èå‡†ç¡®ç‡æå‡ 30%+ï¼›</li>
<li><strong>å®æ—¶æ•°æ®åŒæ­¥</strong>ï¼šRabbitMQ å¼‚æ­¥é€šä¿¡ï¼Œå•†å“æ•°æ®å˜æ›´åŒæ­¥å»¶è¿Ÿä½äº 1 ç§’ï¼›</li>
<li><strong>ç³»ç»Ÿè§£è€¦ä¸é«˜å¯ç”¨</strong>ï¼šæœåŠ¡é—´é€šè¿‡æ¶ˆæ¯é€šä¿¡ï¼Œæ•…éšœéš”ç¦»ï¼Œå•ä¸ªæœåŠ¡ä¸‹çº¿ä¸å½±å“æ•´ä½“é“¾è·¯ã€‚</li>
</ul>
<h4 data-id="heading-25">3. å…³é”®æ€§èƒ½ä¼˜åŒ–ç‚¹</h4>
<ul>
<li>
<p><strong>RabbitMQ ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>åˆç†è®¾ç½®é˜Ÿåˆ—å¹¶å‘æ¶ˆè´¹è€…æ•°é‡ï¼ˆ3-5 ä¸ªï¼‰ï¼Œé¿å…æ¶ˆè´¹ç“¶é¢ˆï¼›</li>
<li>å¼€å¯æ¶ˆæ¯æ‰¹é‡å‘é€ä¸æ¶ˆè´¹ï¼Œå‡å°‘ç½‘ç»œ IO å¼€é”€ï¼›</li>
<li>é˜Ÿåˆ—ç»‘å®šæ­»ä¿¡äº¤æ¢æœºï¼Œé¿å…æ¶ˆæ¯ä¸¢å¤±ï¼ŒåŒæ—¶æ§åˆ¶é‡è¯•æ¬¡æ•°é˜²æ­¢æ­»å¾ªç¯ï¼›</li>
</ul>
</li>
<li>
<p><strong>ES ä¼˜åŒ–</strong>ï¼šåˆç†è®¾ç½®åˆ†ç‰‡ä¸å‰¯æœ¬æ•°ï¼Œè°ƒæ•´ç´¢å¼•åˆ·æ–°é—´éš”ï¼Œä¼˜åŒ–æŸ¥è¯¢è¯­å¥ï¼ˆé¿å…å…¨ç´¢å¼•æ‰«æï¼‰ï¼›</p>
</li>
<li>
<p><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šå¤šçº§ç¼“å­˜è®¾è®¡ï¼Œç¼“å­˜é¢„çƒ­ä¸ä¸»åŠ¨å¤±æ•ˆç»“åˆï¼Œæå‡ç¼“å­˜å‘½ä¸­ç‡è‡³ 90%+ï¼›</p>
</li>
<li>
<p><strong>ä»£ç ä¼˜åŒ–</strong>ï¼šé¿å…é‡å¤æŸ¥è¯¢ï¼Œä½¿ç”¨æµå¼å¤„ç†ï¼Œå‡å°‘å¯¹è±¡åˆ›å»ºï¼Œæå‡ä»£ç æ‰§è¡Œæ•ˆç‡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-26">äº”ã€ç”Ÿäº§éƒ¨ç½²æ³¨æ„äº‹é¡¹</h3>
<h4 data-id="heading-27">1. RabbitMQ éƒ¨ç½²å»ºè®®</h4>
<ul>
<li><strong>ç¯å¢ƒé…ç½®</strong>ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®® 3 èŠ‚ç‚¹é›†ç¾¤éƒ¨ç½²ï¼ˆé•œåƒé˜Ÿåˆ—æ¨¡å¼ï¼‰ï¼Œä¿éšœé«˜å¯ç”¨ï¼›</li>
<li><strong>èµ„æºé…ç½®</strong>ï¼šCPU 2-4 æ ¸ï¼Œå†…å­˜ 4-8GBï¼Œç£ç›˜é€‰æ‹© SSDï¼Œé¿å…æ¶ˆæ¯å†™å…¥å»¶è¿Ÿï¼›</li>
<li><strong>æŒä¹…åŒ–é…ç½®</strong>ï¼šå¼€å¯é˜Ÿåˆ—ä¸æ¶ˆæ¯æŒä¹…åŒ–ï¼Œé˜²æ­¢æœåŠ¡é‡å¯åæ¶ˆæ¯ä¸¢å¤±ï¼›</li>
<li><strong>é™æµé…ç½®</strong>ï¼šé€šè¿‡ <code>prefetchCount</code> æ§åˆ¶æ¶ˆè´¹è€…æ¯æ¬¡æ‹‰å–æ¶ˆæ¯æ•°é‡ï¼Œé¿å…æ¶ˆè´¹ç«¯è¿‡è½½ã€‚</li>
</ul>
<h4 data-id="heading-28">2. æ•°æ®ä¸€è‡´æ€§ä¿éšœ</h4>
<ul>
<li>é‡‡ç”¨ â€œäº‹ä»¶é©±åŠ¨ + æœ€ç»ˆä¸€è‡´æ€§â€ æ–¹æ¡ˆï¼Œå•†å“å˜æ›´äº‹ä»¶é€šè¿‡ RabbitMQ å¼‚æ­¥åŒæ­¥ï¼Œå¤±è´¥æ—¶è¿›å…¥æ­»ä¿¡é˜Ÿåˆ—é‡è¯•ï¼›</li>
<li>ç¼“å­˜ä¸ ES/MySQL åŒæ­¥é‡‡ç”¨ â€œæ›´æ–°åå¤±æ•ˆâ€ ç­–ç•¥ï¼Œé¿å…ç¼“å­˜è„æ•°æ®ï¼›</li>
<li>å…³é”®ä¸šåŠ¡ï¼ˆå¦‚è®¢å•åˆ›å»ºï¼‰å¯é€šè¿‡æœ¬åœ°æ¶ˆæ¯è¡¨ + RabbitMQ å®ç°å¯é æ¶ˆæ¯æŠ•é€’ã€‚</li>
</ul>
<h4 data-id="heading-29">3. ç›‘æ§ä¸å‘Šè­¦</h4>
<ul>
<li>æ¥å…¥ Prometheus + Grafana ç›‘æ§ RabbitMQ é˜Ÿåˆ—é•¿åº¦ã€æ¶ˆæ¯å †ç§¯é‡ã€æ¶ˆè´¹é€Ÿç‡ï¼›</li>
<li>é…ç½®å…³é”®æŒ‡æ ‡å‘Šè­¦ï¼ˆå¦‚é˜Ÿåˆ—å †ç§¯è¶… 1000 æ¡ã€æ¶ˆè´¹å¤±è´¥ç‡è¶… 5%ï¼‰ï¼›</li>
<li>æ—¥å¿—æ”¶é›†é‡‡ç”¨ ELK æ ˆï¼Œä¾¿äºæ’æŸ¥æ¶ˆæ¯å‘é€ / æ¶ˆè´¹å¼‚å¸¸ã€‚</li>
</ul>
<h3 data-id="heading-30">å…­ã€æ€»ç»“</h3>
<p>æœ¬æ–‡åŸºäº <strong>SpringCloud + Elasticsearch + Redis + RabbitMQ</strong> æŠ€æœ¯æ ˆï¼Œå®Œæ•´å®ç°äº†ä¸€å¥—é«˜æ€§èƒ½ç”µå•†å®æ—¶æœç´¢ä¸ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿï¼Œé‡ç‚¹çªå‡ºäº† RabbitMQ åœ¨æ•°æ®åŒæ­¥ã€äº‹ä»¶åˆ†å‘ã€ç³»ç»Ÿè§£è€¦ä¸­çš„æ ¸å¿ƒä½œç”¨ã€‚è¯¥æ–¹æ¡ˆé€‚åˆä¸­å°è§„æ¨¡ç”µå•†å¹³å°ï¼Œå…·æœ‰éƒ¨ç½²è½»é‡ã€å¯é æ€§é«˜ã€å¼€å‘æˆæœ¬ä½ç­‰ä¼˜åŠ¿ï¼Œå¯å¿«é€Ÿè½åœ°å¹¶è§£å†³ä¼ ç»Ÿæœç´¢æ¨èæ–¹æ¡ˆçš„æ ¸å¿ƒç—›ç‚¹ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯æ ¹æ®ä¸šåŠ¡è§„æ¨¡çµæ´»æ‰©å±•ï¼šå°å‹ç”µå•†å¯ç®€åŒ–éƒ¨ç½²ï¼ˆå•èŠ‚ç‚¹ RabbitMQ + ES å•èŠ‚ç‚¹ï¼‰ï¼Œä¸­å¤§å‹ç”µå•†å¯å‡çº§ä¸º RabbitMQ é›†ç¾¤ + ES åˆ†ç‰‡é›†ç¾¤ + Redis é›†ç¾¤ï¼Œè¿›ä¸€æ­¥æå‡ç³»ç»Ÿååé‡ä¸å¯ç”¨æ€§ã€‚é€šè¿‡ä¸æ–­ä¼˜åŒ–æœç´¢ç®—æ³•ã€æ¨èç­–ç•¥ä¸æ¶ˆæ¯é˜Ÿåˆ—é…ç½®ï¼Œå¯æŒç»­æå‡ç”¨æˆ·ä½“éªŒä¸å¹³å°è½¬åŒ–æ•ˆç‡</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutteräº‹ä»¶é˜²æŠ–æ•´ç†ï¼ˆåˆç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7596845113281249289</link>    <guid>https://juejin.cn/post/7596845113281249289</guid>    <pubDate>2026-01-19T12:08:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596845113281249289" data-draft-id="7596687697756504074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutteräº‹ä»¶é˜²æŠ–æ•´ç†ï¼ˆåˆç‰ˆï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-19T12:08:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–ç«ç®­çš„å°ç”·å­©"/> <meta itemprop="url" content="https://juejin.cn/user/4457847613830523"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutteräº‹ä»¶é˜²æŠ–æ•´ç†ï¼ˆåˆç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4457847613830523/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–ç«ç®­çš„å°ç”·å­©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T12:08:00.000Z" title="Mon Jan 19 2026 12:08:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. <strong>å¸¸è§éœ€è¦é˜²æŠ–çš„äº‹ä»¶ç±»å‹</strong></h2>
<h3 data-id="heading-1">a) ç”¨æˆ·äº¤äº’äº‹ä»¶</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆé˜²æ­¢é‡å¤æäº¤ï¼‰</span>
ElevatedButton(
  onPressed: debounce(() {
    <span class="hljs-comment">// æäº¤è¡¨å•ã€è·³è½¬é¡µé¢ç­‰</span>
  }),
)

<span class="hljs-comment">// æœç´¢æ¡†è¾“å…¥</span>
TextField(
  onChanged: debounce((value) {
    <span class="hljs-comment">// æœç´¢è¯·æ±‚</span>
  }),
)

<span class="hljs-comment">// æ»šåŠ¨ç›‘å¬</span>
ScrollController().addListener(debounce(() {
  <span class="hljs-comment">// åŠ è½½æ›´å¤š</span>
}))
</code></pre>
<h3 data-id="heading-2">b) ç³»ç»Ÿäº‹ä»¶</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// çª—å£å¤§å°å˜åŒ–</span>
Window.onMetricsChanged = debounce(() {
  <span class="hljs-comment">// é‡æ–°å¸ƒå±€</span>
});

<span class="hljs-comment">// é”®ç›˜äº‹ä»¶</span>
RawKeyboard.instance.addListener(debounce((event) {
  <span class="hljs-comment">// é”®ç›˜å¤„ç†</span>
}));
</code></pre>
<h2 data-id="heading-3">2. <strong>é˜²æŠ–å®ç°æ–¹æ¡ˆ</strong></h2>
<h3 data-id="heading-4">æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ç°æœ‰åº“</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># pubspec.yaml</span>
<span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">flutter_debounce:</span> <span class="hljs-string">^2.0.0</span>
</code></pre>
<h3 data-id="heading-5">æ–¹æ¡ˆäºŒï¼šè‡ªå®šä¹‰é˜²æŠ–å·¥å…·ç±»</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Debouncer</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Duration</span> delay;
  Timer? _timer;
  
  Debouncer({<span class="hljs-keyword">this</span>.delay = <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">500</span>)});
  
  <span class="hljs-keyword">void</span> call(<span class="hljs-keyword">void</span> <span class="hljs-built_in">Function</span>() action) {
    _timer?.cancel();
    _timer = Timer(delay, action);
  }
  
  <span class="hljs-keyword">void</span> dispose() {
    _timer?.cancel();
  }
}

<span class="hljs-comment">// æ‰©å±•æ–¹æ³•ï¼Œæ–¹ä¾¿ä½¿ç”¨</span>
<span class="hljs-keyword">extension</span> FunctionExtensions <span class="hljs-keyword">on</span> <span class="hljs-built_in">Function</span> {
  VoidCallback debounce([<span class="hljs-built_in">Duration</span> delay = <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">300</span>)]) {
    <span class="hljs-keyword">final</span> debouncer = Debouncer(delay: delay);
    <span class="hljs-keyword">return</span> () =&gt; debouncer.call(() =&gt; <span class="hljs-keyword">this</span>());
  }
}
</code></pre>
<h3 data-id="heading-6">æ–¹æ¡ˆä¸‰ï¼šå¸¦å‚æ•°çš„é˜²æŠ–</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParamDebouncer</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Duration</span> delay;
  Timer? _timer;
  <span class="hljs-keyword">void</span> <span class="hljs-built_in">Function</span>(T)? _callback;
  
  ParamDebouncer({<span class="hljs-keyword">this</span>.delay = <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">300</span>)});
  
  <span class="hljs-keyword">void</span> run(T value, <span class="hljs-keyword">void</span> <span class="hljs-built_in">Function</span>(T) callback) {
    _callback = callback;
    _timer?.cancel();
    _timer = Timer(delay, () {
      <span class="hljs-keyword">if</span> (_callback != <span class="hljs-keyword">null</span>) {
        _callback!(value);
      }
    });
  }
  
  <span class="hljs-keyword">void</span> dispose() {
    _timer?.cancel();
  }
}
</code></pre>
<h2 data-id="heading-7">3. <strong>ä¸åŒç±»å‹äº‹ä»¶çš„é˜²æŠ–ç­–ç•¥</strong></h2>



































<table><thead><tr><th>äº‹ä»¶ç±»å‹</th><th>æ¨èé˜²æŠ–æ—¶é—´</th><th>æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td><strong>æŒ‰é’®ç‚¹å‡»</strong></td><td>300-500ms</td><td>é˜²æ­¢é‡å¤æäº¤ï¼Œä½†è¦ç¡®ä¿ç”¨æˆ·ä½“éªŒ</td></tr><tr><td><strong>æœç´¢è¾“å…¥</strong></td><td>500-800ms</td><td>æ ¹æ®æœç´¢APIå“åº”æ—¶é—´è°ƒæ•´</td></tr><tr><td><strong>æ»šåŠ¨ç›‘å¬</strong></td><td>150-300ms</td><td>é¿å…é¢‘ç¹è®¡ç®—ï¼Œä½†è¦ä¿æŒæµç•…æ€§</td></tr><tr><td><strong>çª—å£è°ƒæ•´</strong></td><td>300-500ms</td><td>é¿å…é¢‘ç¹é‡ç»˜</td></tr><tr><td><strong>æ‰‹åŠ¿æ‹–æ‹½</strong></td><td>100-200ms</td><td>ä¿æŒå“åº”æ€§</td></tr></tbody></table>
<h2 data-id="heading-8">4. <strong>é›†æˆåˆ°ç°æœ‰é¡¹ç›®çš„æ­¥éª¤</strong></h2>
<h3 data-id="heading-9">æ­¥éª¤1ï¼šè¯†åˆ«éœ€è¦é˜²æŠ–çš„åœºæ™¯</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ£€æŸ¥ä»¥ä¸‹å¸¸è§åœºæ™¯ï¼š</span>
<span class="hljs-comment">// 1. è¡¨å•æäº¤æŒ‰é’®</span>
<span class="hljs-comment">// 2. æœç´¢æ¡†å®æ—¶æœç´¢</span>
<span class="hljs-comment">// 3. æ— é™æ»šåŠ¨åŠ è½½æ›´å¤š</span>
<span class="hljs-comment">// 4. å¤æ‚çš„onChangedå›è°ƒ</span>
<span class="hljs-comment">// 5. é¢‘ç¹è§¦å‘çš„äº‹ä»¶ç›‘å¬å™¨</span>
</code></pre>
<h3 data-id="heading-10">æ­¥éª¤2ï¼šåˆ›å»ºé˜²æŠ–åŒ…è£…å™¨</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DebouncedWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> Widget child;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Duration</span> debounceDelay;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">Type</span>, <span class="hljs-built_in">Duration</span>&gt; eventSpecificDelays;
  
  <span class="hljs-keyword">const</span> DebouncedWidget({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.child,
    <span class="hljs-keyword">this</span>.debounceDelay = <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">300</span>),
    <span class="hljs-keyword">this</span>.eventSpecificDelays = <span class="hljs-keyword">const</span> {},
  });
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// ä½¿ç”¨InheritedWidgetæˆ–Providerä¼ é€’debouncer</span>
    <span class="hljs-keyword">return</span> child;
  }
}
</code></pre>
<h3 data-id="heading-11">æ­¥éª¤3ï¼šä½¿ç”¨Mixinç®€åŒ–é˜²æŠ–é›†æˆ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">mixin</span> DebounceMixin&lt;T <span class="hljs-keyword">extends</span> StatefulWidget&gt; <span class="hljs-keyword">on</span> State&lt;T&gt; {
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, Timer&gt; _timers = {};
  
  <span class="hljs-keyword">void</span> debounce(
    <span class="hljs-built_in">String</span> key,
    VoidCallback callback, {
    <span class="hljs-built_in">Duration</span> delay = <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">300</span>),
  }) {
    _timers[key]?.cancel();
    _timers[key] = Timer(delay, () {
      callback();
      _timers.remove(key);
    });
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _timers.values.forEach((timer) =&gt; timer.cancel());
    _timers.clear();
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<h2 data-id="heading-12">5. <strong>å®é™…åº”ç”¨ç¤ºä¾‹</strong></h2>
<h3 data-id="heading-13">ç¤ºä¾‹1ï¼šé˜²æŠ–æœç´¢</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _SearchPageState createState() =&gt; _SearchPageState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_SearchPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">SearchPage</span>&gt; </span>{
  <span class="hljs-keyword">final</span> Debouncer _searchDebouncer = Debouncer(
    delay: <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">500</span>),
  );
  <span class="hljs-keyword">final</span> TextEditingController _controller = TextEditingController();
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> TextField(
      controller: _controller,
      onChanged: (value) {
        _searchDebouncer(() {
          _performSearch(value);
        });
      },
    );
  }
  
  <span class="hljs-keyword">void</span> _performSearch(<span class="hljs-built_in">String</span> query) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// APIè°ƒç”¨</span>
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _searchDebouncer.dispose();
    _controller.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<h3 data-id="heading-14">ç¤ºä¾‹2ï¼šé˜²æŠ–æŒ‰é’®</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DebouncedButton</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> VoidCallback onPressed;
  <span class="hljs-keyword">final</span> Widget child;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Duration</span> debounceDuration;
  
  <span class="hljs-keyword">const</span> DebouncedButton({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.onPressed,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.child,
    <span class="hljs-keyword">this</span>.debounceDuration = <span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">500</span>),
  });
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> ElevatedButton(
      onPressed: () {
        Debouncer(delay: debounceDuration).call(onPressed);
      },
      child: child,
    );
  }
}
</code></pre>
<h2 data-id="heading-15">6. <strong>æ³¨æ„äº‹é¡¹</strong></h2>
<ol>
<li>
<p><strong>å†…å­˜æ³„æ¼</strong></p>
<ul>
<li>ç¡®ä¿åœ¨Stateçš„disposeä¸­å–æ¶ˆæ‰€æœ‰Timer</li>
<li>ä½¿ç”¨<code>cancel</code>è€Œä¸æ˜¯<code>dispose</code>ï¼ˆå¦‚æœTimerä¸æ”¯æŒdisposeï¼‰</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒ</strong></p>
<ul>
<li>é˜²æŠ–æ—¶é—´ä¸å®œè¿‡é•¿ï¼Œå¦åˆ™ä¼šæ„Ÿè§‰å¡é¡¿</li>
<li>å¯¹äºç«‹å³åé¦ˆçš„æ“ä½œï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»åŠ¨ç”»ï¼‰ä¸åº”ä½¿ç”¨é˜²æŠ–</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•</strong></p>
<pre><code class="hljs language-dart" lang="dart">test(<span class="hljs-string">'é˜²æŠ–åŠŸèƒ½æµ‹è¯•'</span>, () <span class="hljs-keyword">async</span> {
  <span class="hljs-built_in">int</span> callCount = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">final</span> debounced = Debouncer(delay: <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">100</span>));
  
  debounced(() =&gt; callCount++);
  debounced(() =&gt; callCount++);
  
  <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">150</span>));
  expect(callCount, <span class="hljs-number">1</span>);
});
</code></pre>
</li>
<li>
<p><strong>é…ç½®åŒ–</strong></p>
<ul>
<li>é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†ä¸åŒç¯å¢ƒçš„é˜²æŠ–æ—¶é—´</li>
<li>æ”¯æŒå¼€å‘ç¯å¢ƒä¸‹ç¦ç”¨é˜²æŠ–ä»¥ä¾¿è°ƒè¯•</li>
</ul>
</li>
</ol>
<h2 data-id="heading-16">7. <strong>æ€§èƒ½ç›‘æ§</strong></h2>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ·»åŠ é˜²æŠ–å‰åçš„æ€§èƒ½å¯¹æ¯”</span>
<span class="hljs-keyword">void</span> _monitorPerformance() {
  <span class="hljs-keyword">final</span> stopwatch = <span class="hljs-built_in">Stopwatch</span>();
  
  <span class="hljs-comment">// é˜²æŠ–å‰</span>
  stopwatch.start();
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    _expensiveOperation();
  }
  <span class="hljs-built_in">print</span>(<span class="hljs-string">'é˜²æŠ–å‰: <span class="hljs-subst">${stopwatch.elapsedMilliseconds}</span>ms'</span>);
  
  <span class="hljs-comment">// é˜²æŠ–å</span>
  stopwatch.reset();
  <span class="hljs-keyword">final</span> debouncer = Debouncer(delay: <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">10</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    debouncer(() =&gt; _expensiveOperation());
  }
  <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">200</span>));
  <span class="hljs-built_in">print</span>(<span class="hljs-string">'é˜²æŠ–å: <span class="hljs-subst">${stopwatch.elapsedMilliseconds}</span>ms'</span>);
}
</code></pre>
<p>å»ºè®®å…ˆä»æœ€å½±å“æ€§èƒ½çš„åœ°æ–¹å¼€å§‹æ·»åŠ é˜²æŠ–ï¼Œé€æ­¥æ‰©å±•åˆ°å…¶ä»–äº‹ä»¶ï¼ŒåŒæ—¶æ³¨æ„æµ‹è¯•ä¸åŒè®¾å¤‡ä¸Šçš„è¡¨ç°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[shopify ä»githubè·å–ä¸»é¢˜æ–‡ä»¶æ—¶ï¼Œassetsæ–‡ä»¶ä¸­çš„å­æ–‡ä»¶å¤¹æœªè·å–åˆ°]]></title>    <link>https://juejin.cn/post/7596883689827074111</link>    <guid>https://juejin.cn/post/7596883689827074111</guid>    <pubDate>2026-01-19T12:12:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596883689827074111" data-draft-id="7596926832912531519" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="shopify ä»githubè·å–ä¸»é¢˜æ–‡ä»¶æ—¶ï¼Œassetsæ–‡ä»¶ä¸­çš„å­æ–‡ä»¶å¤¹æœªè·å–åˆ°"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-19T12:12:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mrleolg"/> <meta itemprop="url" content="https://juejin.cn/user/4318537403346743"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            shopify ä»githubè·å–ä¸»é¢˜æ–‡ä»¶æ—¶ï¼Œassetsæ–‡ä»¶ä¸­çš„å­æ–‡ä»¶å¤¹æœªè·å–åˆ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4318537403346743/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mrleolg
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T12:12:05.000Z" title="Mon Jan 19 2026 12:12:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä» GitHub åŒæ­¥ Shopify ä¸»é¢˜ä»£ç æ—¶ï¼Œ<code>assets</code> æ–‡ä»¶å¤¹ä¸‹çš„å­æ–‡ä»¶å¤¹ï¼ˆæ¯”å¦‚ <code>assets/images/</code>ã€<code>assets/icons/</code>ï¼‰æ²¡æœ‰è¢«åŒæ­¥åˆ° Shopify åº—é“ºï¼Œè¿™å¹¶é GitHub åŒæ­¥çš„é—®é¢˜ï¼Œè€Œæ˜¯ <strong>Shopify ä¸»é¢˜ç³»ç»Ÿçš„åº•å±‚é™åˆ¶</strong> â€”â€” Shopify ä¸æ”¯æŒ <code>assets</code> æ–‡ä»¶å¤¹ä¸‹çš„åµŒå¥—å­æ–‡ä»¶å¤¹ï¼Œåªä¼šè¯†åˆ« <code>assets</code> æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå­æ–‡ä»¶å¤¹åŠå…¶ä¸­çš„å†…å®¹ä¼šè¢«ç›´æ¥å¿½ç•¥ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€æ ¸å¿ƒåŸå› ï¼šShopify å¯¹ assets æ–‡ä»¶å¤¹çš„å¼ºåˆ¶è§„åˆ™</h3>
<p>Shopify ä¸»é¢˜çš„ <code>assets</code> ç›®å½•æ˜¯ç‰¹æ®Šçš„é™æ€èµ„æºç›®å½•ï¼Œæœ‰ä¸¥æ ¼é™åˆ¶ï¼š</p>
<ul>
<li>âœ… ä»…è¯†åˆ« <code>assets</code> <strong>æ ¹ç›®å½•</strong> ä¸‹çš„æ–‡ä»¶ï¼ˆå¦‚ <code>assets/banner.jpg</code>ã€<code>assets/cart-icon.svg</code>ï¼‰ï¼›</li>
<li>âŒ å®Œå…¨å¿½ç•¥ <code>assets</code> ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹ï¼ˆå¦‚ <code>assets/images/</code>ã€<code>assets/css/</code>ã€<code>assets/icons/</code>ï¼‰ï¼ŒåŒæ­¥æ—¶ä¸ä¼šè¯»å–è¿™äº›å­æ–‡ä»¶å¤¹é‡Œçš„ä»»ä½•æ–‡ä»¶ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ GitHub ä»“åº“é‡Œæœ‰ <code>assets/images/banner.jpg</code>ï¼Œä½†åŒæ­¥åˆ° Shopify åå´çœ‹ä¸åˆ°çš„åŸå›  â€”â€” Shopify ç›´æ¥è·³è¿‡äº† <code>images</code> å­æ–‡ä»¶å¤¹ã€‚</p>
<h3 data-id="heading-1">äºŒã€è§£å†³æ–¹æ¡ˆï¼šæ‰å¹³åŒ– assets ç»“æ„ï¼ˆå”¯ä¸€å¯è¡Œæ–¹æ¡ˆï¼‰</h3>
<p>éœ€è¦è°ƒæ•´ GitHub ä»“åº“çš„æ–‡ä»¶ç»“æ„ï¼Œå°†å­æ–‡ä»¶å¤¹é‡Œçš„å›¾ç‰‡ / æ–‡ä»¶ç§»åˆ° <code>assets</code> æ ¹ç›®å½•ï¼Œå¹¶ç”¨<strong>å‘½åå‰ç¼€</strong>åŒºåˆ†åŸåˆ†ç±»ï¼ˆæ¯”å¦‚ <code>images/banner.jpg</code> â†’ <code>banner-image.jpg</code>ï¼‰ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-2">1. æœ¬åœ°è°ƒæ•´æ–‡ä»¶ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. è¿›å…¥æœ¬åœ° Shopify ä¸»é¢˜ç›®å½• </span>
<span class="hljs-built_in">cd</span> /ä½ çš„æœ¬åœ°ä¸»é¢˜è·¯å¾„ 

<span class="hljs-comment"># 2. å°† assets/images ä¸‹çš„æ–‡ä»¶ç§»åˆ° assets æ ¹ç›®å½•ï¼Œå¹¶é‡å‘½åï¼ˆåŠ å‰ç¼€åŒºåˆ†ï¼‰ </span>
<span class="hljs-built_in">mv</span> assets/images/banner.jpg assets/banner-image.jpg 
<span class="hljs-built_in">mv</span> assets/images/product-card.png assets/product-card-image.png

<span class="hljs-comment"># 3. åˆ é™¤ç©ºçš„å­æ–‡ä»¶å¤¹ï¼ˆå¯é€‰ï¼‰ </span>
<span class="hljs-built_in">rm</span> -rf assets/images

</code></pre>
<h4 data-id="heading-3">2. ä¿®æ­£ Liquid ä¸­çš„å›¾ç‰‡å¼•ç”¨è·¯å¾„</h4>
<pre><code class="hljs language-liquid" lang="liquid">å› ä¸ºæ–‡ä»¶è·¯å¾„å˜äº†ï¼Œéœ€è¦åŒæ­¥ä¿®æ”¹ Liquid é‡Œçš„ `asset_url` å¼•ç”¨ï¼š

&lt;!-- åŸé”™è¯¯å†™æ³•ï¼ˆå¼•ç”¨å­æ–‡ä»¶å¤¹ï¼‰ --&gt; 
&lt;img src="{{ 'images/banner.jpg' | asset_url }}" alt="banner"&gt; 

&lt;!-- æ–°æ­£ç¡®å†™æ³•ï¼ˆæ‰å¹³åŒ–åï¼‰ --&gt; 
&lt;img src="{{ 'banner-image.jpg' | asset_url }}" alt="banner"&gt;

</code></pre>
<ol start="3">
<li>æ¨é€åˆ° GitHub å¹¶é‡æ–°åŒæ­¥åˆ° Shopify</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æäº¤æ–‡ä»¶ç»“æ„ä¿®æ”¹åˆ° GitHub </span>
git add assets/ git commit -m <span class="hljs-string">"fix: æ‰å¹³åŒ–assetsæ–‡ä»¶å¤¹ï¼Œé€‚é…Shopifyè§„åˆ™"</span> 
git push origin main 

<span class="hljs-comment"># 2. ç”¨ Shopify CLI é‡æ–°åŒæ­¥åˆ°åº—é“ºï¼ˆå¼ºåˆ¶è¦†ç›–ï¼‰ </span>
shopify theme push --force

</code></pre>
<h4 data-id="heading-4">4. éªŒè¯æ˜¯å¦åŒæ­¥æˆåŠŸ</h4>
<ul>
<li>æ‰“å¼€ GitHub ä»“åº“ï¼Œç¡®è®¤ <code>assets</code> æ ¹ç›®å½•ä¸‹æœ‰é‡å‘½ååçš„å›¾ç‰‡æ–‡ä»¶ï¼ˆå¦‚ <code>banner-image.jpg</code>ï¼‰ï¼›</li>
<li>è¿›å…¥ Shopify åå° â†’ åœ¨çº¿å•†åº— â†’ ä¸»é¢˜ â†’ ç¼–è¾‘ä»£ç  â†’ å·¦ä¾§ <code>Assets</code> æ–‡ä»¶å¤¹ï¼Œèƒ½çœ‹åˆ°è¿™äº›æ–‡ä»¶å³åŒæ­¥æˆåŠŸï¼›</li>
<li>åˆ·æ–°åº—é“ºé¡µé¢ï¼Œå›¾ç‰‡å³å¯æ­£å¸¸æ˜¾ç¤ºã€‚</li>
</ul>
<h3 data-id="heading-5">ä¸‰ã€è¿›é˜¶ä¼˜åŒ–ï¼šä¿æŒæœ¬åœ°å¼€å‘çš„æ–‡ä»¶å¤¹ç»“æ„ï¼ˆå¯é€‰ï¼‰</h3>
<p>å¦‚æœæœ¬åœ°å¼€å‘æ—¶æƒ³ä¿ç•™ <code>assets/images/</code> ç­‰å­æ–‡ä»¶å¤¹ï¼ˆæ–¹ä¾¿åˆ†ç±»ç®¡ç†ï¼‰ï¼Œå¯é€šè¿‡ <strong>æ„å»ºè„šæœ¬</strong> è‡ªåŠ¨æ‰å¹³åŒ–æ–‡ä»¶ï¼Œé¿å…æ‰‹åŠ¨é‡å‘½åï¼š</p>
<ol>
<li>æœ¬åœ°åˆ›å»º <code>scripts/build-assets.sh</code> è„šæœ¬ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash </span>
<span class="hljs-comment"># è‡ªåŠ¨å°† assets/*/ ä¸‹çš„æ–‡ä»¶å¤åˆ¶åˆ° assets æ ¹ç›®å½•ï¼ŒåŠ å‰ç¼€ </span>
<span class="hljs-built_in">cp</span> assets/images/*.jpg assets/ --suffix=-image 
<span class="hljs-built_in">cp</span> assets/icons/*.svg assets/ --suffix=-icon

</code></pre>
<ol start="2">
<li>å¼€å‘å®Œæˆåï¼Œå…ˆæ‰§è¡Œè„šæœ¬æ‰å¹³åŒ–æ–‡ä»¶ï¼Œå†æäº¤åˆ° GitHubï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰§è¡Œè„šæœ¬ </span>
bash scripts/build-assets.sh 

<span class="hljs-comment"># æäº¤åˆ° GitHub </span>
git add assets/ 
git commit -m <span class="hljs-string">"build: æ‰å¹³åŒ–assetsæ–‡ä»¶"</span> 
git push origin main

</code></pre>
<h3 data-id="heading-6">å››ã€å…³é”®æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>ç¦æ­¢åœ¨ assets å»ºå­æ–‡ä»¶å¤¹</strong>ï¼šè¿™æ˜¯ Shopify çš„ç¡¬è§„åˆ™ï¼Œæ— è®ºé€šè¿‡ GitHub åŒæ­¥è¿˜æ˜¯æ‰‹åŠ¨ä¸Šä¼ ï¼Œå­æ–‡ä»¶å¤¹éƒ½ä¸ä¼šè¢«è¯†åˆ«ï¼›</li>
<li><strong>å‘½åè§„èŒƒ</strong>ï¼šæ‰å¹³åŒ–åæ–‡ä»¶å‘½åç”¨ã€ŒåŠŸèƒ½ + ç±»å‹ + åç¼€ã€ï¼ˆå¦‚ <code>product-card-image.jpg</code>ï¼‰ï¼Œé¿å…é‡åï¼›</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šè‹¥æœ‰å¤§é‡å­æ–‡ä»¶å¤¹æ–‡ä»¶ï¼Œå¯æ‰¹é‡é‡å‘½åï¼ˆå¦‚ç”¨ Python/Shell è„šæœ¬ï¼‰ï¼Œé¿å…æ‰‹åŠ¨æ“ä½œå‡ºé”™ï¼›</li>
<li><strong>ç¬¬ä¸‰æ–¹å·¥å…·åŒæ­¥</strong>ï¼šè‹¥ç”¨ Syncifyã€Gitify ç­‰å·¥å…·åŒæ­¥ï¼ŒåŒæ ·éµå¾ªæ­¤è§„åˆ™ â€”â€” ä»…åŒæ­¥ assets æ ¹ç›®å½•æ–‡ä»¶ã€‚</li>
</ol>
<h3 data-id="heading-7">æ€»ç»“</h3>
<ol>
<li>Shopify ä¸æ”¯æŒ <code>assets</code> æ–‡ä»¶å¤¹ä¸‹çš„å­æ–‡ä»¶å¤¹ï¼Œæ˜¯å›¾ç‰‡æ— æ³•åŒæ­¥çš„æ ¸å¿ƒåŸå› ï¼›</li>
<li>å”¯ä¸€è§£å†³æ–¹æ¡ˆæ˜¯<strong>æ‰å¹³åŒ– assets ç»“æ„</strong>ï¼šå°†å­æ–‡ä»¶å¤¹æ–‡ä»¶ç§»åˆ° assets æ ¹ç›®å½•ï¼Œç”¨å‘½åå‰ç¼€åŒºåˆ†åˆ†ç±»ï¼›</li>
<li>ä¿®æ­£ Liquid ä¸­çš„ <code>asset_url</code> å¼•ç”¨è·¯å¾„ï¼Œé‡æ–°æ¨é€ GitHub å¹¶åŒæ­¥åˆ° Shopify å³å¯è§£å†³å›¾ç‰‡ä¸æ˜¾ç¤ºé—®é¢˜ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[A2UIåè®®ï¼šä¸€ä¸ªAgentä¸UIç•Œé¢ä¹‹é—´çš„ç¿»è¯‘å™¨]]></title>    <link>https://juejin.cn/post/7596975035437760521</link>    <guid>https://juejin.cn/post/7596975035437760521</guid>    <pubDate>2026-01-20T01:53:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596975035437760521" data-draft-id="7596975035437744137" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="A2UIåè®®ï¼šä¸€ä¸ªAgentä¸UIç•Œé¢ä¹‹é—´çš„ç¿»è¯‘å™¨"/> <meta itemprop="keywords" content="Agent,LLM,Gemini"/> <meta itemprop="datePublished" content="2026-01-20T01:53:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·±åº¦å­¦ä¹ æœºå™¨"/> <meta itemprop="url" content="https://juejin.cn/user/486421344552179"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            A2UIåè®®ï¼šä¸€ä¸ªAgentä¸UIç•Œé¢ä¹‹é—´çš„ç¿»è¯‘å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/486421344552179/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·±åº¦å­¦ä¹ æœºå™¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T01:53:23.000Z" title="Tue Jan 20 2026 01:53:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èŠå¤©æ¨¡å¼åœ¨Agentåº”ç”¨ä¸­çš„å±€é™æ€§</h2>
<p>å¦‚æœä½ å¯¹AI Agentæœ‰æ‰€äº†è§£ï¼Œä¸€å®šä¼šæœ‰ä¸€ä¸ªå¼ºçƒˆçš„æ„Ÿå—ï¼Œéšç€LLMèƒ½åŠ›è¶Šæ¥è¶Šå¼ºï¼Œç”Ÿæ€è¶Šæ¥è¶Šä¸°å¯Œï¼ŒAgentä¹Ÿè¶Šæ¥è¶Šèªæ˜ï¼Œä½†ç”¨æˆ·äº¤äº’æ–¹å¼å´è¿˜åœç•™åœ¨æœ€åŸºç¡€çš„èŠå¤©æ¡†æ¨¡å¼ã€‚</p>
<p>æ— è®ºæ˜¯ LangChainã€LangGraphï¼Œè¿˜æ˜¯ AutoGenæˆ–è€…å…¶ä»–Agentæ¡†æ¶ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥æ„å»ºå…·å¤‡è§„åˆ’ã€è®°å¿†ã€å·¥å…·è°ƒç”¨èƒ½åŠ›çš„ Agentã€‚ä½†å½“ä»»åŠ¡ä¸€æ—¦æ¶‰åŠç”¨æˆ·è¾“å…¥å¤šä¸ªå­—æ®µã€é€‰æ‹©é…ç½®ã€åˆ†æ­¥éª¤æ“ä½œæ—¶ï¼ŒAgent å¾€å¾€ä¼šé€€åŒ–æˆè¾“å‡ºä¸€å¤§æ®µè¯´æ˜æ–‡å­—ï¼Œç„¶åå†ç”±ç”¨æˆ·æ‰‹åŠ¨å»å¡«å†™ã€é€‰æ‹©æˆ–è€…è¿›è¡Œå…·ä½“çš„æ“ä½œã€‚å¯¹äºAgentå’Œç”¨æˆ·è€Œè¨€ï¼Œå­˜åœ¨ç€å¤©ç„¶çš„äº¤äº’å£å’ï¼ŒGoogleåœ¨å»å¹´å¹´åº•æå‡ºå¹¶å¼€æºçš„ A2UIï¼ˆAgent-to-User Interfaceï¼‰ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…è®¸è®© Agent ç›´æ¥ç”Ÿæˆç•Œé¢ï¼Œè€Œä¸ä»…ä»…æ˜¯æ–‡æœ¬ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0ee8243db17482fa8e4027287f2d6db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5a2m5Lmg5py65Zmo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478802&amp;x-signature=F2NVLOmDlHiC0L%2FCFDNUjpKV1ys%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<h2 data-id="heading-1">äºŒã€A2UIçš„æœ¬è´¨ï¼Œä¸€ä¸ªåè®®è€Œéæ¡†æ¶</h2>
<h2 data-id="heading-2">1. ä¸€ç§å£°æ˜å¼UIåè®®</h2>
<p>A2UIçš„æ ¸å¿ƒä¸æ˜¯Reactã€Vue æˆ–Flutterç»„ä»¶ï¼Œè€Œæ˜¯ä¸€å¥—å£°æ˜å¼UIåè®®ã€‚ä¸ä»¥å¾€çš„è¾“å‡ºä¸åŒï¼ŒAgentä¸å†è¾“å‡º HTML/JSXï¼Œè€Œæ˜¯è¾“å‡ºç±»ä¼¼ä¸‹é¢çš„ç»“æ„åŒ–JSONï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  "surfaceUpdate": {
    "surfaceId": <span class="hljs-string">"main"</span>,
    <span class="hljs-string">"components"</span>: [
      {
        "id": <span class="hljs-string">"name"</span>,
        <span class="hljs-string">"component"</span>: {
          "type": <span class="hljs-string">"TextField"</span>,
          <span class="hljs-string">"props"</span>: { "<span class="hljs-selector-tag">label</span>": <span class="hljs-string">"å§“å"</span> }
        }
      }
    ]
  }
}
</code></pre>
<p>è€Œå‰ç«¯åªè´Ÿè´£ä¸€ä»¶äº‹ï¼Œå°±æ˜¯æŠŠç»„ä»¶çš„ç»“æ„åŒ–æè¿°æ˜ å°„æˆçœŸå®çš„æœ¬åœ° UIã€‚</p>
<h2 data-id="heading-3">2. å®‰å…¨æ€§å¯æ§</h2>
<p>ä¸ºä»€ä¹ˆä¸è®© Agent ç›´æ¥å†™å‰ç«¯ä»£ç ï¼Ÿè¿™æ˜¯ A2UI éå¸¸é‡è¦çš„ä¸€ç‚¹è®¾è®¡å“²å­¦ï¼š</p>
<p>â— Agentç”Ÿæˆ HTML/JSä»£ç ï¼šå­˜åœ¨å®‰å…¨é£é™©ï¼Œé£é™©ä¸å¯é </p>
<p>â— Agentç”Ÿæˆç»“æ„åŒ–JSONï¼šå‰ç«¯åªæ¸²æŸ“ç™½åå•ç»„ä»¶ï¼Œé£é™©æ›´åŠ å¯æ§</p>
<p>Googleå®˜æ–¹çš„è¡¨è¿°è¯´è¿™æ ·è®¾è®¡ä½¿å¾—Agentçš„è¾“å‡ºåƒæ•°æ®ä¸€æ ·å®‰å…¨ï¼Œåƒä»£ç ä¸€æ ·è¡¨è¾¾ã€‚</p>
<h2 data-id="heading-4">3. è·¨å¹³å°æ¸²æŸ“</h2>
<p>A2UI çš„ç»„ä»¶æ˜¯æŠ½è±¡çš„ï¼Œä¸€æ¬¡ç”Ÿæˆï¼Œå¤šç«¯æ¸²æŸ“ï¼ŒAgent å®Œå…¨ä¸å…³å¿ƒå‰ç«¯æŠ€æœ¯æ ˆï¼Œåªæè¿°â€œæˆ‘è¦ä¸€ä¸ªè¾“å…¥æ¡† + ä¸€ä¸ªæŒ‰é’®â€å³å¯æ¸²æŸ“å‡ºåˆé€‚çš„UIç•Œé¢ã€‚</p>

























<table><thead><tr><th>å¹³å°</th><th>æ¸²æŸ“æ–¹å¼</th></tr></thead><tbody><tr><td>Web</td><td>React / Angular / Lit</td></tr><tr><td>iOS</td><td>SwiftUI</td></tr><tr><td>Android</td><td>Compose</td></tr><tr><td>Flutter</td><td>Widget</td></tr></tbody></table>
<h2 data-id="heading-5">4. ä¸æ¨¡å‹è§£è€¦</h2>
<p>A2UIæ˜¯ä¸€ç§åè®®ï¼Œé‚£ä¹ˆå®ƒå°±ä¸æ˜¯å¿…é¡»ä¸Geminiæ¨¡å‹ç»‘å®šã€‚A2UIå¯¹æ¨¡å‹çš„è¦æ±‚åªæœ‰ä¸€ä¸ªï¼š èƒ½ä¸èƒ½ç¨³å®šè¾“å‡ºç»“æ„åŒ– JSONã€‚æ‰€ä»¥å¯¹äºå¸¸è§çš„æ¨¡å‹ä»¥åŠMaaSæä¾›å•†ï¼Œæ¯”å¦‚ï¼š</p>
<p>â— OpenAI</p>
<p>â— Claude</p>
<p>â— Gemini</p>
<p>â— å…¶ä»–æ¨¡å‹/APIæä¾›å•†</p>
<p>éƒ½å®Œå…¨å¯ä»¥ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€æŠ€æœ¯åŸç†</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/515998ba9646455696a5c07d7150023e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5a2m5Lmg5py65Zmo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478802&amp;x-signature=ZojTGPZ1odIqC%2F%2BDWv6hOg0KQ8s%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<p>A2UIä¸»è¦æœ‰ä¸‰å±‚æ¶æ„ï¼Œæ¯ä¸€å±‚éƒ½æœ‰æ¸…æ™°çš„åˆ†å·¥ã€‚</p>
<h2 data-id="heading-7">1. åè®®å±‚ï¼šAgent-to-UI Communication</h2>
<p>æ¯”å¦‚Agentå¯èƒ½ä¼šç”Ÿæˆå¸¦å¦‚ä¸‹ç»“æ„çš„Jsonè¾“å‡ºï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"surfaceUpdate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"surfaceId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"restaurant-search"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"components"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"search-form"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Form"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TextField"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"placeholder"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æœç´¢é¤å…..."</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Button"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æœç´¢"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-8">2. æ¸²æŸ“å±‚ï¼šFramework-Agnostic Rendering</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99a9912b709349c4954a427ddca7eb1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5a2m5Lmg5py65Zmo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478802&amp;x-signature=oJPDPS31jB9rV3rYQW%2FLLUFF%2FVc%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å›¾ç‰‡æ³¨é‡Šï¼Œä¸è¶…è¿‡ 140 å­—ï¼ˆå¯é€‰ï¼‰</p>
<p>å®¢æˆ·ç«¯ä¸Agentä¹‹é—´æ˜¯æœ‰é¢„å…ˆå®šä¹‰å¥½çš„æ¸²æŸ“é€»è¾‘ï¼Œå½“å®¢æˆ·ç«¯æ”¶åˆ°Agentå‘é€æ¥çš„å¸¦æœ‰ç‰¹æ®Šæ ¼å¼çš„Jsonæ—¶ï¼Œä¼šå¯¹å…¶ä¸­æœ‰æ•ˆéƒ¨åˆ†è¿›è¡Œæ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®¢æˆ·ç«¯æ¸²æŸ“é€»è¾‘ï¼ˆä¼ªä»£ç ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A2UIRenderer</span> {
  <span class="hljs-title function_">render</span>(<span class="hljs-params">component, container</span>) {
    <span class="hljs-keyword">switch</span>(component.<span class="hljs-property">type</span>) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'TextField'</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextInput</span>(component.<span class="hljs-property">props</span>);
      <span class="hljs-keyword">case</span> <span class="hljs-string">'Button'</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Button</span>(component.<span class="hljs-property">props</span>);
      <span class="hljs-keyword">case</span> <span class="hljs-string">'Form'</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Form</span>(component.<span class="hljs-property">children</span>);
      <span class="hljs-comment">// æ›´å¤šç»„ä»¶...</span>
    }
  }
}
</code></pre>
<h2 data-id="heading-9">3. æ•°æ®å±‚ï¼šåŒå‘æ•°æ®åŒæ­¥</h2>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dataModelUpdate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"surfaceId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"restaurant-search"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"contents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"searchResults"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"valueArray"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"valueMap"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
              <span class="hljs-punctuation">{</span><span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"valueString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å·é¦™é˜"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-punctuation">{</span><span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rating"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"valueNumber"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4.5</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-punctuation">{</span><span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cuisine"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"valueString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å·èœ"</span><span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">]</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-10">å››ã€å¿«é€Ÿå¼€å§‹</h2>
<h2 data-id="heading-11">1. ç¯å¢ƒå‡†å¤‡</h2>
<p>åœ¨å¼€å§‹ä½¿ç”¨A2UIä¹‹å‰ï¼Œç¡®ä¿å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆéœ€è¦16.0+ï¼‰</span>
node --version

<span class="hljs-comment"># æ£€æŸ¥npmç‰ˆæœ¬</span>
npm --version
</code></pre>
<h2 data-id="heading-12">2. å®‰è£…æ­¥éª¤</h2>
<h3 data-id="heading-13">æ–¹æ³•1ï¼šä½¿ç”¨å®˜æ–¹æ¨¡æ¿</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†å®˜æ–¹å¿«é€Ÿå¼€å§‹æ¨¡æ¿</span>
git <span class="hljs-built_in">clone</span> https://github.com/google/A2UI.git
<span class="hljs-built_in">cd</span> A2UI/examples/quick-start

<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
npm install

<span class="hljs-comment"># å¯åŠ¨å¼€å‘æœåŠ¡å™¨</span>
npm start
</code></pre>
<h3 data-id="heading-14">æ–¹æ³•2ï¼šé›†æˆåˆ°ç°æœ‰é¡¹ç›®</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…A2UIæ ¸å¿ƒåº“</span>
npm install @google/a2ui

<span class="hljs-comment"># å®‰è£…æ¸²æŸ“å™¨ï¼ˆä»¥Reactä¸ºä¾‹ï¼‰</span>
npm install @google/a2ui-react

<span class="hljs-comment"># å®‰è£…ç±»å‹å®šä¹‰</span>
npm install -D @types/a2ui
</code></pre>
<h2 data-id="heading-15">äº”ã€ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹</h2>
<p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„â€Hello Worldâ€åº”ç”¨ï¼š</p>
<h2 data-id="heading-16">1. åˆ›å»ºAgent</h2>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-comment">// agent/hello-agent.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-type">A2UIAgent</span> } from '<span class="hljs-meta">@google</span>/a2ui';

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloAgent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">A2UIAgent</span> </span>{
  async handleMessage(userInput) {
    <span class="hljs-keyword">return</span> {
      surfaceUpdate: {
        surfaceId: <span class="hljs-string">"hello-world"</span>,
        components: [
          {
            id: <span class="hljs-string">"greeting-container"</span>,
            component: {
              <span class="hljs-class"><span class="hljs-keyword">type</span></span>: <span class="hljs-string">"Card"</span>,
              props: {
                title: <span class="hljs-string">"A2UIé—®å€™"</span>,
                variant: <span class="hljs-string">"elevated"</span>
              },
              children: [
                {
                  <span class="hljs-class"><span class="hljs-keyword">type</span></span>: <span class="hljs-string">"Text"</span>,
                  props: {
                    content: `ä½ å¥½ï¼æ‚¨è¾“å…¥çš„æ˜¯ï¼š${userInput}`,
                    size: <span class="hljs-string">"large"</span>
                  }
                },
                {
                  <span class="hljs-class"><span class="hljs-keyword">type</span></span>: <span class="hljs-string">"Button"</span>,
                  props: {
                    text: <span class="hljs-string">"å†æ¬¡é—®å€™"</span>,
                    action: <span class="hljs-string">"greet_again"</span>
                  }
                }
              ]
            }
          }
        ]
      }
    };
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-type">HelloAgent</span>;
</code></pre>
<h2 data-id="heading-17">2. åˆ›å»ºå®¢æˆ·ç«¯æ¸²æŸ“å™¨</h2>
<pre><code class="hljs language-ini" lang="ini">// client/App.jsx
import React, { useState } from 'react'<span class="hljs-comment">;</span>
import { A2UIRenderer } from '@google/a2ui-react'<span class="hljs-comment">;</span>
import HelloAgent from './agent/hello-agent'<span class="hljs-comment">;</span>

function App() {
  const <span class="hljs-section">[messages, setMessages]</span> = useState(<span class="hljs-section">[]</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-section">[userInput, setUserInput]</span> = useState('')<span class="hljs-comment">;</span>

  const <span class="hljs-attr">agent</span> = new HelloAgent()<span class="hljs-comment">;</span>

  const <span class="hljs-attr">handleSendMessage</span> = async () =&gt; {
    const <span class="hljs-attr">response</span> = await agent.handleMessage(userInput)<span class="hljs-comment">;</span>
    setMessages(<span class="hljs-attr">prev</span> =&gt; [...prev, response])<span class="hljs-comment">;</span>
    setUserInput('')<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>

  return (
    &lt;div <span class="hljs-attr">classname</span>=<span class="hljs-string">"app"</span>&gt;
      &lt;main <span class="hljs-attr">classname</span>=<span class="hljs-string">"chat-container"</span>&gt;
        {messages.map((message, index) =&gt; (
          &lt;a2uirenderer <span class="hljs-attr">key</span>=<span class="hljs-string">"{index}"</span> surfaceupdate=<span class="hljs-string">"{message.surfaceUpdate}"</span> <span class="hljs-literal">on</span>action=<span class="hljs-string">"{(action,"</span> data)=<span class="hljs-string">""</span>&gt; {
              console.log('Action triggered:', action, data)<span class="hljs-comment">;</span>
              if (<span class="hljs-attr">action</span> === <span class="hljs-string">'greet_again'</span>) {
                handleSendMessage()<span class="hljs-comment">;</span>
              }
            }}
          /&gt;
        ))}
      &lt;/a2uirenderer&gt;&lt;/main&gt;
      &lt;footer <span class="hljs-attr">classname</span>=<span class="hljs-string">"input-container"</span>&gt;
        &lt;input <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> value=<span class="hljs-string">"{userInput}"</span> <span class="hljs-literal">on</span>change=<span class="hljs-string">"{(e)"</span> ==<span class="hljs-string">""</span>&gt; setUserInput(e.target.value)}
          <span class="hljs-attr">onKeyPress</span>={(e) =&gt; e.key === <span class="hljs-string">'Enter'</span> &amp;&amp; handleSendMessage()}
          <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¾“å…¥æ¶ˆæ¯..."</span>
        /&gt;
        &lt;button <span class="hljs-attr">onclick</span>=<span class="hljs-string">"{handleSendMessage}"</span>&gt;å‘é€&lt;/button&gt;
      &lt;/footer&gt;
    &lt;/div&gt;
  )<span class="hljs-comment">;</span>
}

export default App<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-18">å…­ã€å…³äºA2UIçš„ä¸€äº›ç–‘é—®</h2>
<h2 data-id="heading-19">1. å‰ç«¯éœ€è¦å¼•å…¥A2UIå®˜æ–¹npmåŒ…å—ï¼Ÿ</h2>
<p>ä¸ç”¨ã€‚åªéœ€è¦åœ¨ç°æœ‰ React é¡¹ç›®ä¸­ï¼ŒåŠ ä¸€å±‚ã€ŒA2UI Rendererã€å°±è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ChatMessage</span>(<span class="hljs-params">{ msg }</span>) {
  <span class="hljs-keyword">if</span> (msg.<span class="hljs-property">type</span> === <span class="hljs-string">"text"</span>) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Bubble</span>&gt;</span>{msg.content}<span class="hljs-tag">&lt;/<span class="hljs-name">Bubble</span>&gt;</span></span>;
  <span class="hljs-keyword">if</span> (msg.<span class="hljs-property">type</span> === <span class="hljs-string">"a2ui"</span>) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">A2UIRenderer</span> <span class="hljs-attr">surface</span>=<span class="hljs-string">{msg.surfaceUpdate}</span> /&gt;</span></span>;
}
</code></pre>
<p>A2UIå®˜æ–¹ SDK æœ¬è´¨ä¸Šä¹Ÿæ˜¯åœ¨åšè¿™ä»¶äº‹ï¼Œåªæ˜¯å¸®ä½ å°è£…å¥½äº†ã€‚</p>
<h2 data-id="heading-20">2. LLM ä¸€å®šè¦è¾“å‡ºç‰¹æ®Š JSONå—ï¼Ÿ</h2>
<p>æ˜¯çš„ï¼Œè¿™æ˜¯ A2UI çš„å…³é”®ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€æ‰€æœ‰å›å¤éƒ½è¦ä»¥A2UIçš„æ ¼å¼è¿”å›ã€‚çœŸå®ä¸šåŠ¡ä¸­æ›´åˆç†çš„æ–¹å¼æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ä¾æ—§ä»¥ä¼ ç»Ÿçš„æ–‡æœ¬å½¢å¼è¿”å›ï¼Œåªæœ‰å½“éœ€è¦ç”¨æˆ·æ“ä½œçš„æ—¶å€™æ‰æ¸²æŸ“ä¸ºA2UIçš„æ ¼å¼ã€‚</p>
<h2 data-id="heading-21">ä¸ƒã€æ€»ç»“</h2>
<p>åœ¨ç¬”è€…çœ‹æ¥ï¼ŒA2UIçš„æ„ä¹‰ä¸åªæ˜¯å¤šäº†ä¸€ç§UIæ–¹æ¡ˆï¼Œè€Œæ˜¯åœ¨äºå®ƒè¡¥é½äº†Agentä»æ€è€ƒåˆ°æ‰§è¡Œçš„æœ€åä¸€ç¯ã€‚å¯¹äºAgentçš„å¼€å‘è€…æ¥è¯´ï¼Œå¯èƒ½ä¸å†éœ€è¦å»å†™å„ç§ä¸šåŠ¡ç›¸å…³çš„ç•Œé¢ï¼Œè€Œæ˜¯å¯ä»¥ä¸“æ³¨äºè®¾è®¡Agentèƒ½åŠ›è¾¹ç•Œã€‚è€ŒAgentçš„ç»ˆæå½¢æ€ï¼Œä¸å†æ˜¯èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯ä¼šè‡ªå·±æ­ç•Œé¢çš„æ™ºèƒ½ç³»ç»Ÿã€‚ A2UIï¼Œå¯èƒ½æ­£æ˜¯è¿™ä¸ªæ–¹å‘ä¸Šéå¸¸å…³é”®çš„ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS-ç»§æ‰¿çš„æ¼”è¿›ä¹‹è·¯ï¼ˆä»åŸå‹é“¾åˆ°ç»„åˆç»§æ‰¿ï¼‰]]></title>    <link>https://juejin.cn/post/7596883689827270719</link>    <guid>https://juejin.cn/post/7596883689827270719</guid>    <pubDate>2026-01-19T14:00:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596883689827270719" data-draft-id="7596926832912793663" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS-ç»§æ‰¿çš„æ¼”è¿›ä¹‹è·¯ï¼ˆä»åŸå‹é“¾åˆ°ç»„åˆç»§æ‰¿ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-19T14:00:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS-ç»§æ‰¿çš„æ¼”è¿›ä¹‹è·¯ï¼ˆä»åŸå‹é“¾åˆ°ç»„åˆç»§æ‰¿ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:00:37.000Z" title="Mon Jan 19 2026 14:00:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>JavaScript çš„ç»§æ‰¿ä¸åƒç±»ç±»å‹è¯­è¨€ï¼ˆå¦‚ Javaï¼‰é‚£æ ·ç›´è§‚ã€‚å®ƒæ˜¯é€šè¿‡åŸå‹é“¾æœºåˆ¶å®ç°çš„ã€‚ç†è§£å„ç§ç»§æ‰¿æ–¹å¼çš„æ¼”è¿›è¿‡ç¨‹ï¼Œä¸ä»…èƒ½å¸®ä½ åº”å¯¹é¢è¯•ï¼Œæ›´èƒ½è®©ä½ æ·±å…¥ç†è§£ JS çš„åº•å±‚è®¾è®¡ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ åŸå‹é“¾ç»§æ‰¿ï¼ˆPrototype Chain Inheritanceï¼‰</h2>
<p>è¿™æ˜¯æœ€åŸºæœ¬çš„ç»§æ‰¿æ–¹å¼ã€‚</p>
<ul>
<li><strong>å®ç°</strong>ï¼š<code>Child.prototype = new Father();</code></li>
</ul>
<h3 data-id="heading-2">ä¼˜ç‚¹</h3>
<ul>
<li>çˆ¶ç±»æ„é€ å‡½æ•°å†…éƒ¨çš„å±æ€§ã€æ–¹æ³•ä»¥åŠçˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•ï¼Œå­ç±»éƒ½èƒ½è®¿é—®ã€‚</li>
</ul>
<h3 data-id="heading-3">ç¼ºç‚¹ï¼ˆè‡´å‘½ä¼¤ï¼‰</h3>
<ol>
<li><strong>å¼•ç”¨å±æ€§å…±äº«</strong>ï¼šçˆ¶ç±»ä¸­å¦‚æœæœ‰å¼•ç”¨ç±»å‹å±æ€§ï¼ˆå¦‚ <code>Array</code>ï¼‰ï¼Œä¸€ä¸ªå­ç±»ä¿®æ”¹äº†å®ƒï¼Œæ‰€æœ‰å­ç±»éƒ½ä¼šè·Ÿç€å˜ã€‚</li>
<li><strong>æ— æ³•ä¼ å‚</strong>ï¼šåˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-4">äºŒã€ å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆConstructor Stealingï¼‰</h2>
<p>ä¸ºäº†è§£å†³ä¼ å‚å’Œå¼•ç”¨å…±äº«é—®é¢˜ï¼Œå‡ºç°äº†è¿™ç§æ–¹å¼ã€‚</p>
<ul>
<li><strong>å®ç°</strong>ï¼šåœ¨å­ç±»æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ <code>Father.call(this, ...args)</code>ã€‚</li>
</ul>
<h3 data-id="heading-5">ä¼˜ç‚¹</h3>
<ol>
<li><strong>ç‹¬ç«‹æ€§</strong>ï¼šæ¯ä¸ªå­ç±»å®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§å‰¯æœ¬ï¼Œäº’ä¸å¹²æ‰°ã€‚</li>
<li><strong>å¯ä¼ å‚</strong>ï¼šå¯ä»¥å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ã€‚</li>
</ol>
<h3 data-id="heading-6">ç¼ºç‚¹</h3>
<ul>
<li><strong>æ–¹æ³•æ— æ³•å¤ç”¨</strong>ï¼šåªèƒ½ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°å†…çš„å±æ€§ï¼Œ<strong>æ— æ³•ç»§æ‰¿çˆ¶ç±»åŸå‹ï¼ˆprototypeï¼‰ä¸Šçš„æ–¹æ³•</strong>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ ç»„åˆç»§æ‰¿ï¼ˆCombination Inheritanceï¼‰â­</h2>
<p>è¿™æ˜¯æœ€å¸¸ç”¨çš„ç»§æ‰¿æ–¹å¼ï¼Œå®ƒç»“åˆäº†å‰ä¸¤è€…çš„ä¼˜ç‚¹ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šå…ˆå°†å­ç±»æ„é€ å‡½æ•°çš„protypeæŒ‡å‘ä¸ºçˆ¶ç±»æ„é€ å‡½æ•°çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¤§è‡´æ­¥éª¤å’ŒåŸå‹é“¾ç»§æ‰¿ä¸€æ ·ï¼Œåªæ˜¯å¤šäº†åœ¨å­ç±»æ„é€ å‡½æ•°é‡Œé¢è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°çš„è¿‡ç¨‹ï¼Œå¯æ€»ç»“ä¸ºç”¨æ„é€ å‡½æ•°ç»§æ‰¿å±æ€§ï¼Œç”¨åŸå‹é“¾ç»§æ‰¿æ–¹æ³•ã€‚</li>
<li><strong>æ·±åº¦åˆ†æ</strong>ï¼šç»„åˆç»§æ‰¿å­ç±»çš„å®ä¾‹å±æ€§å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œè€Œæ–¹æ³•åˆ™å®šä¹‰åœ¨æ„é€ å‡½æ•°çš„æ–°åŸå‹ä¸­ï¼ŒåŒæ—¶å°†æ–°åŸå‹çš„constructoræŒ‡å‘æ„é€ å‡½æ•°ï¼ˆä¸ºä»€ä¹ˆéœ€è¦å°†constructæŒ‡å‘æ„é€ å‡½æ•°ï¼Œå› ä¸ºå¦‚æœä¸æŒ‡å‘æ„é€ å‡½æ•°çš„è¯ï¼Œé€šè¿‡newç±»æ„é€ å‡½æ•° æ„é€ å‡ºæ¥è¿™ä¸ªå®ä¾‹å¯¹è±¡æ˜¯æ²¡æœ‰constructorå±æ€§çš„ï¼Œæˆ‘ä»¬è¦æ‰¾å­ç±»constructoræ—¶ï¼Œä¼šé€šè¿‡åŸå‹é“¾ç›´æ¥æ‰¾åˆ°çˆ¶ç±»çš„constructorå±æ€§ï¼Œè€Œçˆ¶ç±»çš„constructorå±æ€§æ˜¯æŒ‡å‘çˆ¶ç±»æ„é€ å‡½æ•°çš„ï¼‰</li>
<li><strong>åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab96008be56b4309815e354eac9b98c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769436036&amp;x-signature=5%2B85PtrIQ8VDWUefxtvukhq8YEQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">ä»£ç å®æˆ˜</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Father</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">nums</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
}
<span class="hljs-title class_">Father</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-comment">// 1. ç»§æ‰¿å±æ€§ï¼ˆæ„é€ å‡½æ•°ç»§æ‰¿ï¼‰</span>
    <span class="hljs-title class_">Father</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name); 
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}

<span class="hljs-comment">// 2. ç»§æ‰¿æ–¹æ³•ï¼ˆåŸå‹é“¾ç»§æ‰¿ï¼‰</span>
<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Father</span>();
<span class="hljs-comment">// 3. ä¿®å¤ constructor æŒ‡å‘</span>
<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>; 

<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayAge</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span>);
}

<span class="hljs-keyword">const</span> child1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'ouyang'</span>, <span class="hljs-number">16</span>);
child1.<span class="hljs-property">nums</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">5</span>); 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child1.<span class="hljs-property">nums</span>); <span class="hljs-comment">// [1, 2, 3, 4, 5]</span>

<span class="hljs-keyword">const</span> child2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">'hudie'</span>, <span class="hljs-number">18</span>); 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child2.<span class="hljs-property">nums</span>); <span class="hljs-comment">// [1, 2, 3, 4] (äº’ä¸å½±å“ï¼)</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">äº”ã€ é¢è¯•æ¨¡æ‹Ÿé¢˜</h2>
<h3 data-id="heading-10">Q1ï¼šä¸ºä»€ä¹ˆ JavaScript çš„ç»§æ‰¿è¦è®¾è®¡åŸå‹é“¾ï¼Ÿ</h3>
<p><strong>å‚è€ƒå›ç­”ï¼š</strong> åŸå‹é“¾å®ç°äº†<strong>å±æ€§å’Œæ–¹æ³•çš„å…±äº«</strong>ã€‚å¦‚æœä¸ä½¿ç”¨åŸå‹é“¾ï¼Œæ¯ä¸ªå®ä¾‹éƒ½è¦å•ç‹¬å­˜å‚¨ä¸€ä»½æ–¹æ³•ï¼Œä¼šé€ æˆæå¤§çš„å†…å­˜æµªè´¹ã€‚åŸå‹é“¾å…è®¸æ‰€æœ‰å®ä¾‹å…±äº«åŒä¸€å¥—æ–¹æ³•ï¼ˆå­˜å‚¨åœ¨ <code>prototype</code> ä¸­ï¼‰ï¼ŒåŒæ—¶é€šè¿‡æ„é€ å‡½æ•°ä¿è¯æ¯ä¸ªå®ä¾‹æœ‰ç‹¬ç«‹çš„å±æ€§ã€‚</p>
<h3 data-id="heading-11">Q2ï¼š<code>new Father()</code> å’Œ <code>Object.create(Father.prototype)</code> åœ¨ç»§æ‰¿æ—¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<p><strong>å‚è€ƒå›ç­”ï¼š</strong></p>
<ol>
<li><code>new Father()</code> ä¼šæ‰§è¡Œ <code>Father</code> æ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç ï¼Œå¹¶å°†å±æ€§æŒ‚è½½åˆ°åŸå‹ä¸Šã€‚</li>
<li><code>Object.create(Father.prototype)</code> åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå…¶åŸå‹æŒ‡å‘ <code>Father.prototype</code>ï¼Œä½†<strong>ä¸ä¼šæ‰§è¡Œ Father çš„æ„é€ å‡½æ•°</strong>ã€‚è¿™é¿å…äº†å­ç±»åŸå‹ä¸Šå‡ºç°ä¸å¿…è¦çš„çˆ¶ç±»å®ä¾‹å±æ€§ï¼Œæ€§èƒ½æ›´ä¼˜ã€‚</li>
</ol>
<h3 data-id="heading-12">Q3ï¼šES6 çš„ <code>extends</code> ç»§æ‰¿å’Œç»„åˆç»§æ‰¿æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<p><strong>å‚è€ƒå›ç­”ï¼š</strong></p>
<ol>
<li><strong>åº•å±‚æœºåˆ¶</strong>ï¼šES5 ç»§æ‰¿æ˜¯å…ˆåˆ›å»ºå­ç±»å®ä¾‹ <code>this</code>ï¼Œå†å°†çˆ¶ç±»å±æ€§æ·»åŠ åˆ° <code>this</code> ä¸Šï¼›ES6 ç»§æ‰¿æ˜¯å…ˆåˆ›å»ºçˆ¶ç±»å®ä¾‹ <code>this</code>ï¼ˆé€šè¿‡ <code>super()</code>ï¼‰ï¼Œå†ç”¨å­ç±»æ„é€ å‡½æ•°ä¿®æ”¹ <code>this</code>ã€‚</li>
<li><strong>é™æ€æ–¹æ³•ç»§æ‰¿</strong>ï¼šES6 çš„ <code>extends</code> å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼ˆ<code>static</code>ï¼‰ï¼Œè€Œ ES5 çš„ç»„åˆç»§æ‰¿éœ€è¦æ‰‹åŠ¨å¤„ç†æ‰èƒ½å®ç°ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS-BOMæ ¸å¿ƒwindowå¯¹è±¡]]></title>    <link>https://juejin.cn/post/7596896373053767743</link>    <guid>https://juejin.cn/post/7596896373053767743</guid>    <pubDate>2026-01-19T14:10:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596896373053767743" data-draft-id="7596865421612548150" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS-BOMæ ¸å¿ƒwindowå¯¹è±¡"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-19T14:10:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS-BOMæ ¸å¿ƒwindowå¯¹è±¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:10:53.000Z" title="Mon Jan 19 2026 14:10:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œ<code>window</code> å¯¹è±¡æ‰®æ¼”ç€åŒé‡è§’è‰²ï¼šå®ƒæ—¢æ˜¯ JavaScript è®¿é—®æµè§ˆå™¨çª—å£çš„æ¥å£ï¼Œåˆæ˜¯ ECMAScript è§„å®šçš„ <strong>Global å¯¹è±¡</strong>ã€‚ç†è§£ <code>window</code> çš„å±æ€§ä¸æ–¹æ³•ï¼Œæ˜¯æŒæ¡æµè§ˆå™¨ç¯å¢ƒå¼€å‘çš„ç¬¬ä¸€æ­¥ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ Window å¯¹è±¡çš„åŒé‡èº«ä»½</h2>
<ol>
<li><strong>æµè§ˆå™¨çª—å£æ¥å£</strong>ï¼šæ§åˆ¶çª—å£å¤§å°ã€ä½ç½®ã€å¯¼èˆªç­‰ã€‚</li>
<li><strong>å…¨å±€ä½œç”¨åŸŸ</strong>ï¼šé€šè¿‡ <code>var</code> å£°æ˜çš„å˜é‡ã€å‡½æ•°éƒ½ä¼šå˜æˆ <code>window</code> çš„å±æ€§ï¼ˆæ³¨æ„ï¼š<code>let</code> å’Œ <code>const</code> ä¸ä¼šï¼‰ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-2">äºŒã€ çª—å£å±‚çº§ï¼šTop ä¸ Parent çš„å¥¥ç§˜</h2>
<p>åœ¨å¤„ç† <code>&lt;iframe&gt;</code> åµŒå¥—æˆ–å¤šçª—å£åœºæ™¯æ—¶ï¼Œç²¾ç¡®å®šä½çª—å£å±‚çº§è‡³å…³é‡è¦ã€‚</p>
<ul>
<li><strong><code>window.top</code></strong>ï¼šå§‹ç»ˆæŒ‡å‘æœ€å¤–å±‚çš„æµè§ˆå™¨çª—å£ï¼ˆå³æœ€é¡¶å±‚çš„æ¡†æ¶ï¼‰ã€‚</li>
<li><strong><code>window.parent</code></strong>ï¼šæŒ‡å‘å½“å‰çª—å£çš„ç›´æ¥ä¸Šå±‚çª—å£ã€‚å¦‚æœå½“å‰çª—å£æœ¬èº«å°±æ˜¯é¡¶å±‚ï¼Œåˆ™ <code>parent</code> ç­‰äº <code>self</code>ã€‚</li>
<li><strong><code>window.self</code></strong>ï¼šæŒ‡å‘å½“å‰çª—å£ï¼Œä¸ <code>window</code> ç­‰ä»·ã€‚</li>
</ul>
<blockquote>
<p><strong>åŒæºé™åˆ¶</strong>ï¼šåªæœ‰åœ¨åŒæºï¼ˆåè®®ã€åŸŸåã€ç«¯å£ä¸€è‡´ï¼‰çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½é€šè¿‡è¿™äº›å±æ€§è®¿é—®çˆ¶çª—å£çš„ DOM æˆ–å˜é‡ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€ çª—å£å°ºå¯¸ï¼šInner vs Outer</h2>
<p>å¾ˆå¤šå¼€å‘è€…åˆ†ä¸æ¸…è¿™ä¸¤ç»„å±æ€§çš„åŒºåˆ«ï¼Œçœ‹å›¾æœ€ç›´è§‚ï¼š</p>




















<table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŒ…å«å†…å®¹</strong></th><th><strong>å¤‡æ³¨</strong></th></tr></thead><tbody><tr><td><strong><code>innerWidth / innerHeight</code></strong></td><td>ä»…é¡µé¢è§†å›¾åŒºåŸŸï¼ˆViewportï¼‰</td><td>ä¸å«å·¥å…·æ ã€è¾¹æ¡†ï¼Œ<strong>åŒ…å«</strong>æ»šåŠ¨æ¡</td></tr><tr><td><strong><code>outerWidth / outerHeight</code></strong></td><td>æ•´ä¸ªæµè§ˆå™¨çª—å£</td><td>åŒ…å«åœ°å€æ ã€æ ‡ç­¾æ ã€ä¾§è¾¹æ ã€çª—å£è¾¹æ¡†</td></tr></tbody></table>
<blockquote>
<p><strong>æç¤º</strong>ï¼šç”±äºä¸åŒæµè§ˆå™¨çš„ UI ç»„ä»¶ï¼ˆå¦‚ä¾§è¾¹æ ã€æ”¶è—å¤¹ï¼‰å ç”¨ç©ºé—´ä¸åŒï¼Œ<code>outer</code> ç³»åˆ—çš„å€¼åœ¨å„å¹³å°å·®å¼‚è¾ƒå¤§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">å››ã€ çª—å£å¯¼èˆªä¸å¼¹çª—æ§åˆ¶ï¼šwindow.open</h2>
<p><code>window.open(url, name, features, replace)</code> æ˜¯æ§åˆ¶é¡µé¢è·³è½¬çš„åˆ©å™¨ã€‚</p>
<h3 data-id="heading-5">1. å‚æ•°ç»†èŠ‚</h3>
<ul>
<li><strong><code>name</code></strong>ï¼šè¿™æ˜¯ä¸€ä¸ªéšè—çš„â€œé»‘ç§‘æŠ€â€ã€‚è‹¥å·²å­˜åœ¨åŒåçª—å£ï¼Œæµè§ˆå™¨ä¼šåœ¨è¯¥çª—å£åŠ è½½ URLï¼Œè€Œä¸æ˜¯æ–°å»ºæ ‡ç­¾é¡µã€‚è¿™å¸¸ç”¨äºå•é¡µé¢åº”ç”¨ä¸­çš„è·¨çª—å£é€šä¿¡ã€‚</li>
<li><strong><code>features</code></strong>ï¼šå­—ç¬¦ä¸²æ ¼å¼ï¼Œå¦‚ <code>"width=400,height=300,top=100,left=100"</code>ã€‚</li>
<li><strong><code>replace</code></strong>ï¼šå¸ƒå°”å€¼ã€‚å¦‚æœä¸º <code>true</code>ï¼Œæ–°é¡µé¢å°†æ›¿æ¢å½“å‰é¡µåœ¨å†å²è®°å½•ï¼ˆHistoryï¼‰ä¸­çš„ä½ç½®ï¼Œç”¨æˆ·ç‚¹å‡»â€œåé€€â€æ— æ³•å›åˆ°åŸé¡µé¢ã€‚</li>
</ul>
<h3 data-id="heading-6">2. å®‰å…¨æ€§ä¸æ‹¦æˆªå¤„ç†</h3>
<p>ç”±äºå¹¿å‘Šå¼¹çª—æ»¥ç”¨ï¼Œç°ä»£æµè§ˆå™¨å¯¹ <code>window.open</code> æœ‰ä¸¥æ ¼é™åˆ¶ï¼š<strong>åªæœ‰ç”±ç”¨æˆ·æ“ä½œï¼ˆå¦‚ç‚¹å‡»äº‹ä»¶ï¼‰è§¦å‘çš„å¼¹çª—æ‰ä¼šè¢«å…è®¸ã€‚</strong></p>
<p><strong>æœ€ä½³å®è·µæ£€æµ‹ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å°è¯•æ‰“å¼€æ–°çª—å£</span>
<span class="hljs-keyword">let</span> popup = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(<span class="hljs-string">'https://juejin.cn'</span>, <span class="hljs-string">'_blank'</span>);

<span class="hljs-comment">// æ£€æµ‹æ˜¯å¦è¢«æ‹¦æˆªï¼ˆæŸäº›æ’ä»¶ä¼šå¯¼è‡´ popup ä¸º nullï¼ŒæŸäº›æµè§ˆå™¨ä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">if</span> (popup == <span class="hljs-literal">null</span> || popup.<span class="hljs-property">closed</span> || <span class="hljs-keyword">typeof</span> popup.<span class="hljs-property">closed</span> === <span class="hljs-string">'undefined'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'å¼¹çª—è¢«æµè§ˆå™¨æ‹¦æˆªï¼Œè¯·å¼•å¯¼ç”¨æˆ·æ‰‹åŠ¨å¼€å¯æƒé™ï¼'</span>);
  }
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å¼¹çª—è¢«æ‹¦æˆªæˆ–å‘ç”Ÿè·¨åŸŸé”™è¯¯'</span>);
}
</code></pre>
<hr/>
<h2 data-id="heading-7">å…­ã€ é¢è¯•æ¨¡æ‹Ÿé¢˜</h2>
<h3 data-id="heading-8">Q1ï¼š<code>window.onload</code> å’Œ <code>DOMContentLoaded</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<p><strong>å‚è€ƒå›ç­”ï¼š</strong></p>
<ul>
<li><code>DOMContentLoaded</code>ï¼šå½“ HTML æ–‡æ¡£è¢«å®Œå…¨åŠ è½½å’Œè§£æå®Œæˆæ—¶è§¦å‘ï¼Œ<strong>ä¸éœ€è¦ç­‰å¾…</strong>æ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶çš„å®ŒæˆåŠ è½½ã€‚</li>
<li><code>window.onload</code>ï¼šç­‰æ•´ä¸ªé¡µé¢æ‰€æœ‰èµ„æºï¼ˆåŒ…æ‹¬å›¾ç‰‡ã€Flashã€CSSç­‰ï¼‰<strong>å…¨éƒ¨åŠ è½½å®Œæˆ</strong>åæ‰è§¦å‘ã€‚</li>
<li><strong>æ€§èƒ½å»ºè®®</strong>ï¼šé€šå¸¸å»ºè®®å°†è„šæœ¬é€»è¾‘æ”¾åœ¨ <code>DOMContentLoaded</code> ä¸­ä»¥æå‡å“åº”é€Ÿåº¦ã€‚</li>
</ul>
<h3 data-id="heading-9">Q2ï¼šå¦‚ä½•é€šè¿‡ JS åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦åœ¨ iframe ä¸­è¿è¡Œï¼Ÿ</h3>
<p>å‚è€ƒå›ç­”ï¼š</p>
<p>å¯ä»¥é€šè¿‡æ¯”è¾ƒ window.self å’Œ window.topï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">self</span> !== <span class="hljs-variable language_">window</span>.<span class="hljs-property">top</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å½“å‰é¡µé¢è¿è¡Œåœ¨ iframe ä¸­'</span>);
}
</code></pre>
<h3 data-id="heading-10">Q3ï¼šä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä½¿ç”¨å˜é‡å <code>name</code>ï¼Ÿ</h3>
<p>å‚è€ƒå›ç­”ï¼š</p>
<p>å› ä¸º window.name æ˜¯ä¸€ä¸ªå†…ç½®çš„ç‰¹æ®Šå±æ€§ã€‚å®ƒæœ‰ä¸€ä¸ªç‰¹æ€§ï¼šå³ä½¿é¡µé¢åˆ·æ–°æˆ–è·³è½¬åˆ°å¦ä¸€ä¸ªåŸŸåï¼Œwindow.name çš„å€¼ä¹Ÿä¼šæŒä¹…å­˜åœ¨ï¼ˆç›´åˆ°çª—å£å…³é—­ï¼‰ã€‚å¦‚æœä½ åœ¨å…¨å±€å®šä¹‰äº† var name = 'test'ï¼Œå®é™…ä¸Šæ˜¯åœ¨ä¿®æ”¹è¿™ä¸ªå†…ç½®å±æ€§ï¼Œå¯èƒ½ä¼šå¼•å‘æ„å¤–çš„è¡Œä¸ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue 3 ä¸­çš„Â defineModelï¼šç®€åŒ–çˆ¶å­ç»„ä»¶é€šä¿¡çš„æ–°åˆ©å™¨]]></title>    <link>https://juejin.cn/post/7596905751110533183</link>    <guid>https://juejin.cn/post/7596905751110533183</guid>    <pubDate>2026-01-19T14:12:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596905751110533183" data-draft-id="7596905751110500415" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue 3 ä¸­çš„Â defineModelï¼šç®€åŒ–çˆ¶å­ç»„ä»¶é€šä¿¡çš„æ–°åˆ©å™¨"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-19T14:12:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©æ–‡å®¶"/> <meta itemprop="url" content="https://juejin.cn/user/141198021370855"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue 3 ä¸­çš„Â defineModelï¼šç®€åŒ–çˆ¶å­ç»„ä»¶é€šä¿¡çš„æ–°åˆ©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/141198021370855/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©æ–‡å®¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:12:33.000Z" title="Mon Jan 19 2026 14:12:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue 3 ä¸­çš„ <code>defineModel</code>ï¼šç®€åŒ–çˆ¶å­ç»„ä»¶é€šä¿¡çš„æ–°åˆ©å™¨</h2>
<blockquote>
<p><strong>å‘å¸ƒæ—¶é—´</strong>ï¼š2026å¹´1æœˆ<br/>
<strong>é€‚ç”¨ç‰ˆæœ¬</strong>ï¼šVue 3.4+ï¼ˆ<code>defineModel</code> è‡ª 3.4 èµ·ç¨³å®šå¯ç”¨ï¼‰<br/>
<strong>å…³é”®è¯</strong>ï¼šVue 3ã€defineModelã€åŒå‘ç»‘å®šã€ç»„ä»¶é€šä¿¡ã€Composition API</p>
</blockquote>
<p>åœ¨ Vue 3 çš„æ¼”è¿›è¿‡ç¨‹ä¸­ï¼Œå®˜æ–¹å›¢é˜Ÿä¸æ–­è‡´åŠ›äºæå‡å¼€å‘ä½“éªŒå’Œä»£ç ç®€æ´æ€§ã€‚å…¶ä¸­ï¼Œ<code>defineModel</code> æ˜¯ä¸€ä¸ªå€¼å¾—å…³æ³¨çš„æ–°ç‰¹æ€§â€”â€”å®ƒæå¤§ç®€åŒ–äº†çˆ¶å­ç»„ä»¶ä¹‹é—´å®ç°â€œv-modelâ€åŒå‘ç»‘å®šçš„æµç¨‹ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ç†è§£ <code>defineModel</code> çš„ä½¿ç”¨åœºæ™¯ã€ä¼˜åŠ¿ï¼Œå¹¶é€šè¿‡å®é™…ç¤ºä¾‹å±•ç¤ºå…¶å¼ºå¤§ä¹‹å¤„ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¼ ç»Ÿ v-model åœ¨ç»„ä»¶ä¸­çš„å®ç°æ–¹å¼</h3>
<p>åœ¨ Vue 3.4 ä¹‹å‰ï¼Œè‹¥è¦åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­æ”¯æŒ <code>v-model</code>ï¼Œé€šå¸¸éœ€è¦æ‰‹åŠ¨å£°æ˜ <code>props</code> å’Œ <code>emit</code>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- MyInput.vue --&gt;
&lt;script setup&gt;
const props = defineProps({
  modelValue: String
})

const emit = defineEmits(['update:modelValue'])

function updateValue(value) {
  emit('update:modelValue', value)
}
&lt;/script&gt;

&lt;template&gt;
  &lt;input 
    :value="modelValue" 
    @input="updateValue($event.target.value)" 
  /&gt;
&lt;/template&gt;
</code></pre>
<p>çˆ¶ç»„ä»¶ä½¿ç”¨æ—¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;MyInput v-model="message" /&gt;
&lt;/template&gt;
</code></pre>
<p>è™½ç„¶é€»è¾‘æ¸…æ™°ï¼Œä½†æ ·æ¿ä»£ç è¾ƒå¤šï¼Œå°¤å…¶æ˜¯å½“ç»„ä»¶éœ€è¦æ”¯æŒå¤šä¸ª <code>v-model</code>ï¼ˆå¦‚ <code>v-model:title</code>ã€<code>v-model:content</code>ï¼‰æ—¶ï¼Œä»£ç ä¼šè¿…é€Ÿè†¨èƒ€ã€‚</p>
<h3 data-id="heading-2">äºŒã€<code>defineModel</code> çš„è¯ç”Ÿï¼šæ›´ç®€æ´çš„åŒå‘ç»‘å®š</h3>
<p>ä» Vue 3.4 å¼€å§‹ï¼Œ<code>defineModel</code> ä½œä¸ºå®ï¼ˆmacroï¼‰è¢«å¼•å…¥ï¼Œå®ƒè‡ªåŠ¨å¤„ç† <code>props</code> å£°æ˜ä¸ <code>emit</code> è§¦å‘ï¼Œè®©ä½ åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚</p>
<h4 data-id="heading-3">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- MyInput.vue --&gt;
&lt;script setup&gt;
const model = defineModel()
&lt;/script&gt;

&lt;template&gt;
  &lt;input v-model="model" /&gt;
&lt;/template&gt;
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼<code>defineModel()</code> è¿”å›ä¸€ä¸ªå“åº”å¼å¼•ç”¨ï¼ˆrefï¼‰ï¼Œå…¶å€¼ç­‰åŒäº <code>modelValue</code> propï¼Œå¹¶åœ¨èµ‹å€¼æ—¶è‡ªåŠ¨è§¦å‘ <code>update:modelValue</code> äº‹ä»¶ã€‚</p>
<h4 data-id="heading-4">æ”¯æŒå‘½åæ¨¡å‹</h4>
<p>ä½ ä¹Ÿå¯ä»¥ä¸º <code>v-model</code> æŒ‡å®šåç§°ï¼Œå®ç°å¤šæ¨¡å‹ç»‘å®šï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- UserForm.vue --&gt;
&lt;script setup&gt;
const name = defineModel('name')
const email = defineModel('email')
&lt;/script&gt;

&lt;template&gt;
  &lt;input v-model="name" placeholder="å§“å" /&gt;
  &lt;input v-model="email" placeholder="é‚®ç®±" /&gt;
&lt;/template&gt;
</code></pre>
<p>çˆ¶ç»„ä»¶ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;UserForm v-model:name="userName" v-model:email="userEmail" /&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-5">ç±»å‹å®‰å…¨ï¼ˆé…åˆ TypeScriptï¼‰</h4>
<p><code>defineModel</code> å®Œå…¨æ”¯æŒ TypeScript ç±»å‹æ¨å¯¼ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> model = defineModel&lt;<span class="hljs-built_in">string</span>&gt;({ <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> })
<span class="hljs-comment">// model çš„ç±»å‹æ˜¯ Ref&lt;string&gt;</span>
</code></pre>
<p>ä½ è¿˜å¯ä»¥ä¼ å…¥é€‰é¡¹é…ç½®é»˜è®¤å€¼ã€æ ¡éªŒè§„åˆ™ç­‰ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> count = defineModel&lt;<span class="hljs-built_in">number</span>&gt;({
  <span class="hljs-attr">default</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">validator</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> value &gt;= <span class="hljs-number">0</span>
})
</code></pre>
<h3 data-id="heading-6">ä¸‰ã€ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-7">1. è¡¨å•æ§ä»¶å°è£…</h4>
<p>å¦‚è¾“å…¥æ¡†ã€å¼€å…³ã€é€‰æ‹©å™¨ç­‰éœ€è¦åŒå‘ç»‘å®šçš„ UI ç»„ä»¶ã€‚</p>
<h4 data-id="heading-8">2. å¯ç¼–è¾‘çš„å¡ç‰‡æˆ–åˆ—è¡¨é¡¹</h4>
<p>ä¾‹å¦‚ä¸€ä¸ªå¯ç¼–è¾‘æ ‡é¢˜çš„ä»»åŠ¡å¡ç‰‡ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
const title = defineModel('title')
&lt;/script&gt;

&lt;template&gt;
  &lt;div class="card"&gt;
    &lt;input v-model="title" /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-9">3. å¤æ‚è¡¨å•çš„å­æ¨¡å—</h4>
<p>å°†å¤§è¡¨å•æ‹†åˆ†ä¸ºå¤šä¸ªå­ç»„ä»¶ï¼Œæ¯ä¸ªå­ç»„ä»¶é€šè¿‡ <code>defineModel</code> ç®¡ç†è‡ªå·±çš„çŠ¶æ€ï¼Œé¿å…å±‚å±‚ä¼ é€’ <code>v-model</code> çš„ç¹çã€‚</p>
<h3 data-id="heading-10">å››ã€ä¼˜åŠ¿æ€»ç»“</h3>





























<table><thead><tr><th>ä¼˜åŠ¿</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>âœ… <strong>å‡å°‘æ ·æ¿ä»£ç </strong></td><td>æ— éœ€æ‰‹åŠ¨å£°æ˜ <code>props</code> å’Œ <code>emit</code>ï¼Œä¸€è¡Œä»£ç æå®šåŒå‘ç»‘å®š</td></tr><tr><td>âœ… <strong>æå‡å¯è¯»æ€§</strong></td><td>é€»è¾‘æ›´èšç„¦ï¼Œç»„ä»¶æ„å›¾ä¸€ç›®äº†ç„¶</td></tr><tr><td>âœ… <strong>å¤©ç„¶æ”¯æŒå¤šæ¨¡å‹</strong></td><td>è½»æ¾å®ç° <code>v-model:foo</code>ã€<code>v-model:bar</code></td></tr><tr><td>âœ… <strong>ç±»å‹å‹å¥½</strong></td><td>ä¸ TypeScript æ— ç¼é›†æˆï¼Œæ”¯æŒç±»å‹æ³¨è§£å’Œæ ¡éªŒ</td></tr><tr><td>âœ… <strong>ç¬¦åˆç›´è§‰</strong></td><td><code>v-model="xxx"</code> ç›´æ¥æ˜ å°„åˆ° <code>defineModel('xxx')</code>ï¼Œå¿ƒæ™ºè´Ÿæ‹…ä½</td></tr></tbody></table>
<h3 data-id="heading-11">äº”ã€æ³¨æ„äº‹é¡¹</h3>
<ul>
<li><code>defineModel</code> ä»…åœ¨ <code>&lt;script setup&gt;</code> ä¸­å¯ç”¨ã€‚</li>
<li>è‹¥éœ€å…¼å®¹ Vue 3.3 æˆ–æ›´ä½ç‰ˆæœ¬ï¼Œä»éœ€ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼ã€‚</li>
<li>åœ¨æŸäº›éœ€è¦ç²¾ç»†æ§åˆ¶æ›´æ–°æ—¶æœºçš„åœºæ™¯ï¼ˆå¦‚é˜²æŠ–ã€æ ¼å¼åŒ–è¾“å…¥ï¼‰ï¼Œå¯èƒ½ä»éœ€æ‰‹åŠ¨å¤„ç† <code>emit</code>ï¼Œä½†å¤§å¤šæ•°æƒ…å†µä¸‹ <code>defineModel</code> å·²è¶³å¤Ÿã€‚</li>
</ul>
<h3 data-id="heading-12">å…­ã€ç»“è¯­</h3>
<p><code>defineModel</code> æ˜¯ Vue 3.4 å¸¦æ¥çš„ä¸€ä¸ªâ€œå°è€Œç¾â€çš„æ”¹è¿›ï¼Œå®ƒä½“ç°äº† Vue å›¢é˜Ÿå¯¹å¼€å‘è€…ä½“éªŒçš„æŒç»­ä¼˜åŒ–ã€‚é€šè¿‡å‡å°‘é‡å¤ä»£ç ã€æå‡è¡¨è¾¾åŠ›ï¼Œè®©ç»„ä»¶å¼€å‘æ›´åŠ æ„‰æ‚¦é«˜æ•ˆã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Vue 3.4+ï¼Œä¸å¦¨åœ¨ä¸‹ä¸€ä¸ªç»„ä»¶ä¸­å°è¯• <code>defineModel</code>â€”â€”ä½ ä¼šå‘ç°ï¼ŒåŸæ¥åŒå‘ç»‘å®šå¯ä»¥å¦‚æ­¤ç®€å•ï¼</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fcore%2Freleases%2Ftag%2Fv3.4.0" target="_blank" title="https://github.com/vuejs/core/releases/tag/v3.4.0" ref="nofollow noopener noreferrer">Vue 3.4 Release Notes</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fapi%2Fsfc-script-setup.html%23definemodel" target="_blank" title="https://vuejs.org/api/sfc-script-setup.html#definemodel" ref="nofollow noopener noreferrer">Vue å®˜æ–¹æ–‡æ¡£ - defineModel</a></li>
</ul>
<blockquote>
<p>ä½œè€…ï¼šæŸå‰ç«¯å·¥ç¨‹å¸ˆ<br/>
åŸåˆ›å†…å®¹ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµä½ çš„ä½¿ç”¨å¿ƒå¾—ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 å“åº”å¼ç³»ç»Ÿâ€”â€”computed å’Œ watch]]></title>    <link>https://juejin.cn/post/7596905751110664255</link>    <guid>https://juejin.cn/post/7596905751110664255</guid>    <pubDate>2026-01-19T14:27:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596905751110664255" data-draft-id="7596905751110647871" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 å“åº”å¼ç³»ç»Ÿâ€”â€”computed å’Œ watch"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2026-01-19T14:27:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç§€ç§€ä¸åªä¼šå‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/1410009035452887"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 å“åº”å¼ç³»ç»Ÿâ€”â€”computed å’Œ watch
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1410009035452887/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç§€ç§€ä¸åªä¼šå‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:27:30.000Z" title="Mon Jan 19 2026 14:27:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å­¦è¿‡ä¸Šä¸€èŠ‚ refã€reactiveã€effect åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¢ç©¶å“åº”å¼å˜é‡çš„ä½¿ç”¨â€”â€”computed å’Œ watch ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€computed å’Œ watch æ¦‚è¿°</h2>
<p>æ‰€æœ‰å“åº”å¼é€»è¾‘éƒ½ä¼šä¾èµ– effect æ‰§è¡Œï¼Œcomputed / watch / render æœ¬è´¨éƒ½æ˜¯ effectã€‚</p>
<blockquote>
<ul>
<li>effectï¼šä¾èµ– stateã€‚</li>
<li>depï¼šè¢«å¤–éƒ¨ effect ä¾èµ–ã€‚</li>
</ul>
</blockquote>
<ul>
<li>â€‹<strong>computed</strong>â€‹ï¼š<em>å¸¦ç¼“å­˜çš„ã€æƒ°æ€§çš„ã€åŸºäºä¾èµ–çš„æ´¾ç”Ÿ effect</em></li>
<li>â€‹<strong>watch</strong>â€‹ï¼š<em>ä¸»åŠ¨ç›‘å¬æ•°æ®å˜åŒ–çš„å‰¯ä½œç”¨è°ƒåº¦å™¨</em></li>
</ul>
<p>ä¸€å¥è¯æ€»ç»“äºŒè€…çš„ç”±æ¥ï¼š</p>
<blockquote>
<p><strong>å‰¯ä½œç”¨ï¼ˆwatchï¼‰ä¸å¯ç¼“å­˜ï¼Œæ´¾ç”Ÿå€¼ï¼ˆcomputedï¼‰å¿…é¡»ç¼“å­˜</strong></p>
</blockquote>
<ul>
<li>computedï¼š <code>_dirty + scheduler</code></li>
<li>watch / watchEffectï¼š ç›´æ¥æ‰§è¡Œå‰¯ä½œç”¨</li>
</ul>
<h2 data-id="heading-1">äºŒã€computed çš„åº•å±‚å®ç°</h2>
<h3 data-id="heading-2">2.1 computed çš„æ ¸å¿ƒç»“æ„</h3>
<p>æºç ä¸­ <code>computed</code> è¿”å›çš„æ˜¯ä¸€ä¸ª â€‹<strong>ComputedRefImpl å®ä¾‹</strong>â€‹ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ComputedRefImpl</span> {
  _value
  dep
  effect
  _dirty = <span class="hljs-literal">true</span>
}
</code></pre>
<blockquote>
<p>å¯ä»¥ç†è§£ä¸ºï¼š<strong>computed = ref + effect + dirty æ ‡è®°</strong></p>
</blockquote>
<h3 data-id="heading-3">2.2 computed çš„åˆ›å»ºæµç¨‹</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">computed</span>(<span class="hljs-params">getter</span>) {
  <span class="hljs-keyword">const</span> cRef = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComputedRefImpl</span>(getter)
  <span class="hljs-keyword">return</span> cRef
}
</code></pre>
<p>æ„é€ å‡½æ•°å†…éƒ¨æ ¸å¿ƒé€»è¾‘ï¼ˆç®€åŒ–ï¼‰ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">effect</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactiveEffect</span>(getter, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">return</span> <span class="hljs-title function_">getter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span>), <span class="hljs-comment">// getterï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æˆ‘ä»¬ computed è°ƒç”¨æ˜¯ä¼ é€’çš„ fn å‚æ•°</span>
  <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">// setter</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span> = <span class="hljs-literal">true</span>
      <span class="hljs-title function_">triggerRefValue</span>(<span class="hljs-variable language_">this</span>)
    }
  }
})
</code></pre>
<blockquote>
<p>ğŸš¨ <strong>â€‹computed è‡ªå·±ä¸ä¼šé‡æ–°è®¡ç®—ï¼Œâ€‹</strong>å®ƒåªä¼šåœ¨ã€Œä¾èµ–å˜äº†ï¼ˆcomputedEffect.schedulerï¼‰ã€æ—¶ï¼ŒæŠŠ <code>_dirty</code> æ ‡è®°ä¸º <code>true</code>ã€‚</p>
<p>è€ŒçœŸæ­£é‡æ–°è®¡ç®—æ˜¯åœ¨ effect() æ—¶ï¼Œè§¦å‘äº†å“åº”å¼å˜é‡çš„ getterï¼ˆå¹¶ä¸”ä¸ºè„æ•°æ®ï¼‰ï¼Œç„¶åæ‰è®¡ç®— computedEffect.run() ã€‚</p>
</blockquote>
<h3 data-id="heading-4">2.3 computed.value çš„ getter</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>() {
  <span class="hljs-title function_">trackRefValue</span>(<span class="hljs-variable language_">this</span>)

  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span> = <span class="hljs-literal">false</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">effect</span>.<span class="hljs-title function_">run</span>()
  }

  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span>
}
</code></pre>
<h4 data-id="heading-5">2.3.1 ä¾èµ–æ”¶é›†çš„æ˜¯ã€Œcomputed æœ¬èº«ã€</h4>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title function_">trackRefValue</span>(<span class="hljs-variable language_">this</span>)
</code></pre>
<blockquote>
<p>ä¾èµ–é¦–å…ˆæ”¶é›†çš„ä¸æ˜¯ track getter é‡Œçš„å“åº”å¼æ•°æ®ï¼Œè€Œæ˜¯ï¼š<strong>â€œè°ç”¨åˆ°äº†è¿™ä¸ª computedâ€</strong></p>
</blockquote>
<h4 data-id="heading-6">2.3.2 computed æ˜¯æƒ°æ€§æ‰§è¡Œçš„</h4>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">effect</span>.<span class="hljs-title function_">run</span>()
}
</code></pre>
<ul>
<li>ä¾èµ–å˜äº†<strong>ä¸ä¼šç«‹åˆ»</strong>é‡æ–°è®¡ç®—</li>
<li><strong>åªæœ‰ â€‹<code>.value</code><strong>â€‹</strong>â€‹ è¢«è®¿é—®æ—¶æ‰é‡æ–°ç®—</strong></li>
</ul>
<h4 data-id="heading-7">2.3.3 computed ä¸€å®šæœ‰ç¼“å­˜</h4>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span> = <span class="hljs-literal">false</span>
<span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span>
</code></pre>
<p>åªè¦ä¾èµ–æ²¡å˜ï¼Œå¤šæ¬¡è®¿é—® <code>computedValue.value</code>ï¼Œ<strong>getter åªæ‰§è¡Œä¸€æ¬¡ã€‚</strong></p>
<h3 data-id="heading-8">2.4 computed çš„å®Œæ•´æ‰§è¡Œé“¾è·¯</h3>
<pre><code class="hljs language-Plain" lang="Plain">state.a æ”¹å˜
   â†“
computed.effect.scheduler æ‰§è¡Œ
   â†“
_dirty = trueï¼ˆä¸ä¼šç«‹åˆ»ç®—ï¼‰
   â†“
ä¸‹ä¸€æ¬¡è®¿é—® computed.value
   â†“
effect.run() â†’ é‡æ–°è®¡ç®—ï¼ˆâ€œè¢«åŠ¨â€è®¡ç®—ï¼‰
</code></pre>
<h3 data-id="heading-9">2.5 computed ç»“åˆå“åº”å¼å˜é‡çš„æ‰§è¡Œè¿‡ç¨‹</h3>
<h4 data-id="heading-10">2.5.1 è¿‡ç¨‹æ¦‚è¿°</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> })

<span class="hljs-keyword">const</span> c = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> state.<span class="hljs-property">a</span> + <span class="hljs-number">1</span>)

<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c.<span class="hljs-property">value</span>)
})
</code></pre>
<pre><code class="hljs language-JavaScript" lang="JavaScript">state.<span class="hljs-property">a</span>++
 â†“
trigger state.<span class="hljs-property">a</span>.<span class="hljs-property">dep</span>
 â†“
computed.<span class="hljs-property">effect</span>.<span class="hljs-property">scheduler</span>
 â†“
computed.<span class="hljs-property">_dirty</span> = <span class="hljs-literal">true</span>
 â†“
trigger computed.<span class="hljs-property">dep</span>
 â†“
render effect run
 â†“
computed.<span class="hljs-property">value</span> è¢«è®¿é—®
 â†“
computed.<span class="hljs-property">effect</span>.<span class="hljs-title function_">run</span>()  â† çœŸæ­£è®¡ç®—
</code></pre>
<blockquote>
<p>çœ‹ä¼¼å¾ˆå¤æ‚ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ª å‰¯ä½œç”¨æ”¶é›†è§¦å‘çš„åµŒå¥—é€»è¾‘ã€‚</p>
<p><strong>â€‹ğŸ«¡ä¸€å¥è¯æ€»ç»“ï¼šâ€‹</strong>å…¨å±€ effect æ‰§è¡Œï¼Œæ”¶é›†ä¾èµ–â€œå“åº”å¼å˜é‡â€ï¼ˆcomputed å˜é‡ + ref/reactive å˜é‡ï¼‰ï¼Œç„¶å computed å“åº”å¼å˜é‡åˆä¾èµ–äº ref/reactive å˜é‡ï¼ŒæŠŠä»–ä»¬æ”¶é›†åˆ° computed å˜é‡è‡ªèº«çš„ effect ä¸­ã€‚ç„¶åä¸€æ—¦  ref/reactive å˜é‡æ›´æ–°ï¼Œé‚£ä¹ˆé¦–å…ˆè§¦å‘è‡ªèº« trigger æ›´æ–°ï¼Œç„¶åè¢«ä¾èµ–çš„ computed effect çš„ trigger æ›´æ–°ï¼Œè¿›è€Œæœ€ç»ˆçš„ computed å˜é‡æ›´æ–°ï¼ˆâ€œæ‡’æ›´æ–°â€ï¼šç”¨åˆ°çš„æ—¶å€™æ‰ runï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-11">2.5.2 è¿‡ç¨‹è®²è§£</h4>
<blockquote>
<p>computed å’Œ ref/reactive å®ä¾‹åˆå§‹åŒ–è¿‡ç¨‹ä¹‹å‰å·²ç»è¯¦ç»†è®²è§£è¿‡ï¼Œè¿™é‡Œä¸å†é‡å¤è®²è§£ã€‚</p>
</blockquote>
<p>computed ä¾èµ–æ”¶é›†è¿‡ç¨‹ï¼š</p>
<ol>
<li>effect æ‰§è¡Œï¼Œè®¿é—® computed.value</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript">effect
   â†“
computed.<span class="hljs-property">dep</span>.<span class="hljs-title function_">add</span>(effect)
</code></pre>
<ol start="2">
<li>computed.effect.run()ï¼Œè§¦å‘ computed çš„ getterï¼Œè¿›è€Œè§¦å‘ <code>state(.a)</code> çš„ getter</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript">state.<span class="hljs-property">a</span>
  â†“
computed.<span class="hljs-property">effect</span>
  â†“
computed.<span class="hljs-property">dep</span>
  â†“
effect
</code></pre>
<ol start="3">
<li><code>state.a</code> æ”¹å˜ï¼Œè§¦å‘ <code>state.a</code> çš„ trigger</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title function_">trigger</span>(target, <span class="hljs-string">'a'</span>)
=&gt;  dep = state.<span class="hljs-property">a</span>.<span class="hljs-property">dep</span>
=&gt;  computed.<span class="hljs-property">effect</span>
</code></pre>
<ol start="4">
<li>æ‰§è¡Œ computed.effect.schedulerï¼ˆæ­¤æ—¶å¹¶ä¸æ˜¯ runï¼ï¼‰</li>
</ol>
<blockquote>
<p>å†…éƒ¨æ‰§è¡Œ scheduler çš„æ—¶å€™ï¼Œä¹‹åä¼šå›å¤´æ‰§è¡Œ _effect.run() ï¼Œä¹Ÿå°±ç›¸å½“äºæ‰§è¡Œäº† fn() ã€‚</p>
</blockquote>
<pre><code class="hljs language-JavaScript" lang="JavaScript">scheduler = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span> = <span class="hljs-literal">true</span> <span class="hljs-comment">// æ‰“æ ‡è®°</span>
    <span class="hljs-title function_">triggerRefValue</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-comment">// é lazy ä¸‹æ‰èƒ½åœ¨è¿™é‡Œå†…éƒ¨æ‰§è¡Œ run</span>
  }
}
</code></pre>
<ol start="5">
<li>triggerRefValue(this) ç­‰ä»·äº</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript">computed.<span class="hljs-property">dep</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">effect</span> =&gt;</span> effect.<span class="hljs-title function_">run</span>()) <span class="hljs-comment">// é€šçŸ¥â€œè°ä¾èµ– computedâ€</span>
</code></pre>
<ol start="6">
<li>render effect é‡æ–°æ‰§è¡Œï¼Œå†æ¬¡è®¿é—® computed.value</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c.<span class="hljs-property">value</span>)
})
<span class="hljs-comment">// ç„¶åæ‰è®¿é—® computed.value</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_dirty</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">effect</span>.<span class="hljs-title function_">run</span>() <span class="hljs-comment">// computed è¿™æ—¶å€™æ‰çœŸæ­£é‡æ–°è®¡ç®—</span>
}
</code></pre>
<h4 data-id="heading-12">2.5.3 è¯¯åŒºè§£ç­”</h4>
<ol>
<li>ä¸ºä»€ä¹ˆ computed ä¸ç›´æ¥ runï¼Ÿ</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript">âŒ å¦‚æœ state æ”¹ä¸€æ¬¡ï¼Œcomputed ç«‹åˆ»ç®—ä¸€æ¬¡ï¼š
å¤šä¸ª state è¿ç»­å˜æ›´ â†’ é‡å¤è®¡ç®—
computed å¯èƒ½æ ¹æœ¬æ²¡äººç”¨
âœ… å»¶è¿Ÿåˆ° .<span class="hljs-property">value</span> è®¿é—®ï¼š
æƒ°æ€§
åˆå¹¶æ›´æ–°
æ€§èƒ½æœ€ä¼˜
</code></pre>
<ol start="2">
<li>ä¸ºä»€ä¹ˆ computed éœ€è¦è‡ªå·±çš„ depï¼Ÿ</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> c.<span class="hljs-property">value</span>)
å¦‚æœ computed æ²¡æœ‰ depï¼š
å¤–éƒ¨ effect æ— æ³•è¢«è§¦å‘
computed æ›´æ–°æ— æ³•ä¼ æ’­
computed æœ¬èº«å°±æ˜¯ä¸€ä¸ªâ€œå¯ä¾èµ–å¯¹è±¡â€
</code></pre>
<h3 data-id="heading-13">2.6 computed ä¸ºä»€ä¹ˆä¸ç›´æ¥åšå‰¯ä½œç”¨ï¼Ÿ</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(state.<span class="hljs-property">count</span>)
})
</code></pre>
<p>effect æ˜¯å‰¯ä½œç”¨å‡½æ•°ï¼Œè€Œ computed ç›¸è¾ƒäº effect çš„åŒºåˆ«ï¼š</p>
<ul>
<li>computed <strong>å¯èƒ½æ°¸è¿œä¸æ‰§è¡Œ</strong></li>
<li>computed <strong>å¯èƒ½è¢«ç¼“å­˜</strong></li>
<li>computed <strong>åªä¿è¯ value æ­£ç¡®ï¼Œä¸ä¿è¯å‰¯ä½œç”¨æ‰§è¡Œ</strong></li>
</ul>
<p>å› æ­¤ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥æŠŠ computed ä½œä¸ºå‰¯ä½œç”¨å‡½æ•°ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-14">ä¸‰ã€watch çš„åº•å±‚å®ç°</h2>
<h3 data-id="heading-15">3.1 watch çš„æœ¬è´¨</h3>
<blockquote>
<p><strong>watch = æ‰‹åŠ¨åˆ›å»º effect + è‡ªå®šä¹‰ scheduler</strong></p>
</blockquote>
<p>Vue3 ä¸­æ‰€æœ‰ watch/watchEffect æœ€ç»ˆéƒ½ä¼šèµ°åˆ°ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title function_">doWatch</span>(source, cb, options)
</code></pre>
<h3 data-id="heading-16">3.2 watch çš„ effect æ˜¯â€œéæƒ°æ€§â€çš„</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">const</span> effect = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactiveEffect</span>(getter, scheduler)
</code></pre>
<ul>
<li>watch çš„ effect <strong>é»˜è®¤ç«‹åˆ»æ”¶é›†ä¾èµ–</strong></li>
<li>åç»­åªè¦ä¾èµ–å˜ï¼Œå°±è¿›å…¥ scheduler</li>
</ul>
<h3 data-id="heading-17">3.3 watch çš„ getter æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Ÿ</h3>
<h4 data-id="heading-18">æƒ…å†µä¸€ï¼šwatch ref</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title function_">watch</span>(count, cb)
</code></pre>
<p>getter å®é™…æ˜¯ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript">() =&gt; count.<span class="hljs-property">value</span>
</code></pre>
<h4 data-id="heading-19">æƒ…å†µäºŒï¼šwatch reactive</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title function_">watch</span>(state, cb)
</code></pre>
<p>getter å®é™…æ˜¯ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript">() =&gt; <span class="hljs-title function_">traverse</span>(state) <span class="hljs-comment">// æ·±åº¦ï¼ˆdeepï¼‰ç›‘å¬æ¯ä¸€ä¸ªå±æ€§ï¼Œå¼ºåˆ¶è§¦å‘æ‰€æœ‰ getter â†’ æ”¶é›†æ‰€æœ‰ä¾èµ–</span>
</code></pre>
<h3 data-id="heading-20">3.4 watch çš„ schedulerï¼ˆçœŸæ­£æ‰§è¡Œ cbï¼‰</h3>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">job</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> newValue = effect.<span class="hljs-title function_">run</span>()
  <span class="hljs-title function_">cb</span>(newValue, oldValue) <span class="hljs-comment">// åœ¨ä¸‹æ¬¡è§¦å‘æ›´æ–°æ—¶ï¼Œå¯¹å›è°ƒå‡½æ•°åšè°ƒåº¦æ‰§è¡Œ</span>
  oldValue = newValue
}
</code></pre>
<p>è°ƒåº¦æ—¶æœºç”± <code>flush</code> å†³å®šï¼š</p>
<h3 data-id="heading-21">3.5 watch vs watchEffect çš„åŒºåˆ«</h3>
<blockquote>
<p>éå¸¸å»ºè®®ç›´æ¥çœ‹æºç ï¼Œè¿™é‡Œ AI ç”±äºä¸äº†è§£æºç ï¼Œç»å¸¸ä¼šäº§ç”Ÿä¸€äº›è¯¯å¯¼æ€§çš„â€œå‘è¨€â€ã€‚</p>
</blockquote>
<blockquote>
<p><strong>watchEffect æœ¬è´¨æ˜¯ï¼šæ²¡æœ‰å›è°ƒå‡½æ•°ï¼Œåªæœ‰ source(fn) çš„ watchã€‚</strong></p>
</blockquote>
<p>watch çš„å‰¯ä½œç”¨ä¸æ˜¯ getterï¼Œè€Œæ˜¯ cb</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">job = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> newValue = effect.<span class="hljs-title function_">run</span>()
  <span class="hljs-title function_">cb</span>(newValue, oldValue)
}
</code></pre>
<p>ä¾èµ–æ”¶é›†å’Œå‰¯ä½œç”¨æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title function_">watch</span>(
  <span class="hljs-function">() =&gt;</span> state.<span class="hljs-property">a</span>,
  <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> { <span class="hljs-comment">/* å‰¯ä½œç”¨ */</span> }
)
ä¾èµ–æ”¶é›†ï¼š
effect.<span class="hljs-title function_">run</span>()
 â†“
æ‰§è¡Œ getterï¼š() =&gt; state.<span class="hljs-property">a</span>
 â†“
<span class="hljs-title function_">track</span>(state, <span class="hljs-string">'a'</span>)

å‰¯ä½œç”¨æ‰§è¡Œï¼š
state.<span class="hljs-property">a</span> æ”¹å˜
 â†“
trigger
 â†“
scheduler
 â†“
<span class="hljs-title function_">job</span>()
 â†“
<span class="hljs-title function_">cb</span>(newVal, oldVal)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TypeScript æ³›å‹å®Œå…¨æŒ‡å—ï¼šå†™æ³•ã€å››å¤§åº”ç”¨åœºæ™¯ä¸é«˜çº§ç”¨æ³•]]></title>    <link>https://juejin.cn/post/7596919439019245577</link>    <guid>https://juejin.cn/post/7596919439019245577</guid>    <pubDate>2026-01-19T14:39:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596919439019245577" data-draft-id="7596904122865549363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TypeScript æ³›å‹å®Œå…¨æŒ‡å—ï¼šå†™æ³•ã€å››å¤§åº”ç”¨åœºæ™¯ä¸é«˜çº§ç”¨æ³•"/> <meta itemprop="keywords" content="TypeScript,Vue.js"/> <meta itemprop="datePublished" content="2026-01-19T14:39:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦‚æœä½ å¥½"/> <meta itemprop="url" content="https://juejin.cn/user/2272012281328215"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TypeScript æ³›å‹å®Œå…¨æŒ‡å—ï¼šå†™æ³•ã€å››å¤§åº”ç”¨åœºæ™¯ä¸é«˜çº§ç”¨æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2272012281328215/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦‚æœä½ å¥½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:39:12.000Z" title="Mon Jan 19 2026 14:39:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TypeScript æ³›å‹å®Œå…¨æŒ‡å—ï¼šå†™æ³•ã€å››å¤§åº”ç”¨åœºæ™¯ä¸é«˜çº§ç”¨æ³•</h2>
<blockquote>
<p>æ³›å‹æ˜¯ TypeScript ä¸­ä¸€ç§ã€Œç±»å‹åŒ–çš„å˜é‡ã€ï¼Œå®ƒä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨æ—¶æ‰ç¡®å®šç±»å‹ã€‚ç®€å•æ¥è¯´ï¼Œæ³›å‹å°±åƒä¸€ä¸ªã€Œç±»å‹å ä½ç¬¦ã€ï¼Œå¯ä»¥åœ¨å‡½æ•°ã€æ¥å£ã€ç±»ã€ç±»å‹åˆ«åä¸­è¢«å¤ç”¨ï¼Œä»è€Œå®ç°<strong>ä¸€å¥—ä»£ç é€‚é…å¤šç§ç±»å‹</strong>ï¼ŒåŒæ—¶é¿å… <code>any</code> ç±»å‹å¸¦æ¥çš„ç±»å‹ä¿¡æ¯ä¸¢å¤±ã€‚</p>
</blockquote>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šå¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½å¤Ÿè¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒåŒæ—¶æ”¯æŒæ•°å­—æ•°ç»„ã€å­—ç¬¦ä¸²æ•°ç»„ç­‰å¤šç§ç±»å‹ï¼Œä¸ç”¨æ³›å‹çš„è¯ï¼Œè¦ä¹ˆå†™å¤šä¸ªé‡è½½å‡½æ•°ï¼Œè¦ä¹ˆä½¿ç”¨ <code>any</code> ç±»å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¼Šç«¯ï¼šä¸¢å¤±ç±»å‹æ ¡éªŒï¼Œè¿”å›å€¼ä¸º any ç±»å‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getFirst</span>(<span class="hljs-params">arr: <span class="hljs-built_in">any</span>[]</span>): <span class="hljs-built_in">any</span> {
  <span class="hljs-keyword">return</span> arr[<span class="hljs-number">0</span>];
}

<span class="hljs-keyword">const</span> str = <span class="hljs-title function_">getFirst</span>([<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>]); <span class="hljs-comment">// ç±»å‹ä¸º anyï¼Œæ— æ³•è·å¾—è‡ªåŠ¨è¡¥å…¨</span>
<span class="hljs-keyword">const</span> num = <span class="hljs-title function_">getFirst</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// ç±»å‹ä¸º anyï¼Œå­˜åœ¨ç±»å‹å®‰å…¨é£é™©</span>
</code></pre>
<p>è€Œä½¿ç”¨æ³›å‹ï¼Œæˆ‘ä»¬å¯ä»¥å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ³›å‹åŸºç¡€å†™æ³•ï¼šç”¨ &lt;T&gt; å®šä¹‰ç±»å‹å‚æ•°ï¼ŒT å¯çœ‹ä½œä»»æ„åˆæ³•çš„ç±»å‹å˜é‡å</span>
<span class="hljs-keyword">function</span> getFirst&lt;T&gt;(<span class="hljs-attr">arr</span>: T[]): T {
  <span class="hljs-keyword">return</span> arr[<span class="hljs-number">0</span>];
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œä¹Ÿå¯æ˜¾å¼æŒ‡å®šç±»å‹</span>
<span class="hljs-keyword">const</span> str = <span class="hljs-title function_">getFirst</span>([<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>]); <span class="hljs-comment">// è‡ªåŠ¨æ¨å¯¼ T ä¸º stringï¼Œè¿”å›å€¼ç±»å‹ä¸º string</span>
<span class="hljs-keyword">const</span> num = getFirst&lt;<span class="hljs-built_in">number</span>&gt;([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// æ˜¾å¼æŒ‡å®š T ä¸º numberï¼Œè¿”å›å€¼ç±»å‹ä¸º number</span>
</code></pre>
<p>è¿™é‡Œçš„ <code>&lt;T&gt;</code> å°±æ˜¯æ³›å‹çš„æ ¸å¿ƒæ ‡è¯†ï¼Œ<code>T</code>ï¼ˆType çš„ç¼©å†™ï¼Œä¹Ÿå¯ä»¥ç”¨ Uã€Vã€Data ç­‰ä»»æ„åˆæ³•åç§°ï¼‰å°±æ˜¯æˆ‘ä»¬å®šä¹‰çš„ã€Œç±»å‹å‚æ•°ã€ï¼Œå®ƒä¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶è¢«å…·ä½“çš„ç±»å‹æ›¿ä»£ï¼Œä»è€Œå®ç°ã€Œä¸€æ¬¡å®šä¹‰ï¼Œå¤šç±»å‹å¤ç”¨ã€ã€‚</p>
<h3 data-id="heading-1">äºŒã€æ³›å‹çš„å››å¤§æ ¸å¿ƒåº”ç”¨åœºæ™¯</h3>
<p>æ³›å‹çš„åº”ç”¨åœºæ™¯ä¸»è¦é›†ä¸­åœ¨<strong>å‡½æ•°ã€æ¥å£ã€ç±»ã€ç±»å‹åˆ«å</strong>è¿™å››ä¸ªæ–¹é¢ï¼Œä¸‹é¢é€ä¸€æ‹†è§£æ¯ç§åœºæ™¯çš„å†™æ³•ä¸å®æˆ˜ç”¨æ³•ã€‚</p>
<h4 data-id="heading-2">åœºæ™¯ 1ï¼šæ³›å‹å‡½æ•°ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>æ³›å‹å‡½æ•°æ˜¯æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„åœºæ™¯ï¼Œæ ¸å¿ƒå†™æ³•æ˜¯ã€Œåœ¨å‡½æ•°ååæ·»åŠ  <code>&lt;ç±»å‹å‚æ•°&gt;</code>ã€ï¼Œç±»å‹å‚æ•°å¯ä»¥åœ¨å‡½æ•°çš„å‚æ•°ã€è¿”å›å€¼ã€å†…éƒ¨å˜é‡ä¸­ä½¿ç”¨ã€‚</p>
<h5 data-id="heading-3">åŸºç¡€å†™æ³•</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å•ä¸ªç±»å‹å‚æ•°</span>
<span class="hljs-keyword">function</span> wrapValue&lt;T&gt;(<span class="hljs-attr">value</span>: T): { <span class="hljs-attr">value</span>: T } {
  <span class="hljs-keyword">return</span> { value };
}

<span class="hljs-comment">// å¤šä¸ªç±»å‹å‚æ•°ï¼ˆæ”¯æŒå®šä¹‰å¤šä¸ªæ³›å‹å˜é‡ï¼Œç”¨é€—å·åˆ†éš”ï¼‰</span>
<span class="hljs-keyword">function</span> mergeObjects&lt;U, V&gt;(<span class="hljs-attr">obj1</span>: U, <span class="hljs-attr">obj2</span>: V): U &amp; V {
  <span class="hljs-keyword">return</span> { ...obj1, ...obj2 };
}

<span class="hljs-comment">// å®æˆ˜ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> wrapped = wrapValue&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-literal">true</span>); <span class="hljs-comment">// è¿”å› { value: boolean }</span>
<span class="hljs-keyword">const</span> merged = <span class="hljs-title function_">mergeObjects</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> }, { <span class="hljs-attr">age</span>: <span class="hljs-number">28</span> }); <span class="hljs-comment">// è¿”å› { name: string; age: number }</span>
</code></pre>
<h5 data-id="heading-4">å…³é”®ç‰¹æ€§ï¼šç±»å‹å‚æ•°çš„é»˜è®¤å€¼</h5>
<p>å’Œå‡½æ•°å‚æ•°å¯ä»¥è®¾ç½®é»˜è®¤å€¼ä¸€æ ·ï¼Œæ³›å‹çš„ç±»å‹å‚æ•°ä¹Ÿå¯ä»¥è®¾ç½®é»˜è®¤å€¼ã€‚å½“ä½¿ç”¨æ³›å‹æ—¶æ²¡æœ‰æ˜¾å¼æŒ‡å®šç±»å‹å‚æ•°ï¼Œä¸” TypeScript æ— æ³•è‡ªåŠ¨æ¨å¯¼æ—¶ï¼Œä¼šä½¿ç”¨è¿™ä¸ªé»˜è®¤å€¼ã€‚</p>
<p><strong>è¯­æ³•ï¼š<code>&lt;T = é»˜è®¤ç±»å‹&gt;</code></strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¸ºç±»å‹å‚æ•° T è®¾ç½®é»˜è®¤å€¼ string</span>
<span class="hljs-keyword">function</span> getFirst&lt;T = <span class="hljs-built_in">string</span>&gt;(<span class="hljs-attr">arr</span>: T[]): T {
  <span class="hljs-keyword">return</span> arr[<span class="hljs-number">0</span>];
}

<span class="hljs-comment">// æœªæ˜¾å¼æŒ‡å®šç±»å‹ï¼Œä¸”æ— æ³•æ¨å¯¼å…·ä½“ç±»å‹æ—¶ï¼Œä½¿ç”¨é»˜è®¤å€¼ string</span>
<span class="hljs-keyword">const</span> defaultVal = <span class="hljs-title function_">getFirst</span>([]); <span class="hljs-comment">// T ä¸º stringï¼Œè¿”å›å€¼ç±»å‹ä¸º string</span>

<span class="hljs-comment">// è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œè¦†ç›–é»˜è®¤å€¼</span>
<span class="hljs-keyword">const</span> numVal = <span class="hljs-title function_">getFirst</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// T ä¸º numberï¼Œè¿”å›å€¼ç±»å‹ä¸º number</span>
</code></pre>
<h4 data-id="heading-5">åœºæ™¯ 2ï¼šæ³›å‹æ¥å£</h4>
<p>å½“æ¥å£éœ€è¦æ”¯æŒå¤šç§ç±»å‹çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œæ³›å‹æ¥å£å¯ä»¥è®©æ¥å£å…·å¤‡æ›´å¼ºçš„å¤ç”¨æ€§ã€‚æ ¸å¿ƒå†™æ³•æ˜¯ã€Œåœ¨æ¥å£ååæ·»åŠ  <code>&lt;ç±»å‹å‚æ•°&gt;</code>ã€ï¼Œç±»å‹å‚æ•°å¯ç”¨äºæ¥å£çš„å±æ€§ã€æ–¹æ³•å‚æ•°å’Œè¿”å›å€¼ã€‚</p>
<h5 data-id="heading-6">åŸºç¡€å†™æ³•</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ³›å‹æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Result</span>&lt;T&gt; {
  <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">data</span>: T; <span class="hljs-comment">// ç”¨æ³›å‹ T å®šä¹‰ data å±æ€§çš„ç±»å‹</span>
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶æŒ‡å®šå…·ä½“ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">UserResult</span> = <span class="hljs-title class_">Result</span>&lt;{ <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ArticleResult</span> = <span class="hljs-title class_">Result</span>&lt;{ <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> }&gt;;

<span class="hljs-comment">// å®æˆ˜åº”ç”¨ï¼šæ¥å£è¿”å›å€¼ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">userRes</span>: <span class="hljs-title class_">UserResult</span> = {
  <span class="hljs-attr">code</span>: <span class="hljs-number">200</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·æ±‚æˆåŠŸ"</span>,
  <span class="hljs-attr">data</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> }
};

<span class="hljs-keyword">const</span> <span class="hljs-attr">articleRes</span>: <span class="hljs-title class_">ArticleResult</span> = {
  <span class="hljs-attr">code</span>: <span class="hljs-number">200</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·æ±‚æˆåŠŸ"</span>,
  <span class="hljs-attr">data</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"TypeScript æ³›å‹æŒ‡å—"</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"æ³›å‹çš„å››å¤§åº”ç”¨åœºæ™¯..."</span> }
};
</code></pre>
<h5 data-id="heading-7">æ³›å‹æ¥å£ä¸å‡½æ•°ç»“åˆï¼ˆå¸¸ç”¨å®æˆ˜åœºæ™¯ï¼‰</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ³›å‹æ¥å£ï¼ˆæè¿°å‡½æ•°ç±»å‹ï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">RequestFunction</span>&lt;T&gt; {
  (<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Result</span>&lt;T&gt;&gt;;
}

<span class="hljs-comment">// å®ç°è¯¥æ¥å£çš„å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">getUserInfo</span>: <span class="hljs-title class_">RequestFunction</span>&lt;{ <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }&gt; = <span class="hljs-keyword">async</span> (url) =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
  <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>();
};
</code></pre>
<h5 data-id="heading-8">å¸¦é»˜è®¤å€¼çš„æ³›å‹æ¥å£</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¸ºæ³›å‹æ¥å£è®¾ç½®é»˜è®¤å€¼</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Pagination</span>&lt;T = <span class="hljs-built_in">unknown</span>&gt; {
  <span class="hljs-attr">page</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">size</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">total</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">list</span>: T[];
}

<span class="hljs-comment">// æœªæŒ‡å®šç±»å‹ï¼Œä½¿ç”¨é»˜è®¤å€¼ unknown</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">defaultPagination</span>: <span class="hljs-title class_">Pagination</span> = {
  <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">size</span>: <span class="hljs-number">10</span>,
  <span class="hljs-attr">total</span>: <span class="hljs-number">100</span>,
  <span class="hljs-attr">list</span>: []
};

<span class="hljs-comment">// æŒ‡å®šå…·ä½“ç±»å‹ï¼Œè¦†ç›–é»˜è®¤å€¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">userPagination</span>: <span class="hljs-title class_">Pagination</span>&lt;{ <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }&gt; = {
  <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">size</span>: <span class="hljs-number">10</span>,
  <span class="hljs-attr">total</span>: <span class="hljs-number">100</span>,
  <span class="hljs-attr">list</span>: [{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> }]
};
</code></pre>
<h4 data-id="heading-9">åœºæ™¯ 3ï¼šæ³›å‹ç±»</h4>
<p>æ³›å‹ç±»é€‚ç”¨äºã€Œç±»çš„å±æ€§ã€æ–¹æ³•éœ€è¦æ”¯æŒå¤šç§ç±»å‹ã€çš„åœºæ™¯ï¼Œæ¯”å¦‚æ•°æ®å®¹å™¨ã€é˜Ÿåˆ—ã€æ ˆç­‰ã€‚æ ¸å¿ƒå†™æ³•æ˜¯ã€Œåœ¨ç±»ååæ·»åŠ  <code>&lt;ç±»å‹å‚æ•°&gt;</code>ã€ï¼Œç±»å‹å‚æ•°å¯ç”¨äºç±»çš„å±æ€§ã€æ„é€ å‡½æ•°ã€å®ä¾‹æ–¹æ³•ã€‚</p>
<h5 data-id="heading-10">åŸºç¡€å†™æ³•</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ³›å‹ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span>&lt;T&gt; {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">items</span>: T[] = [];

  <span class="hljs-comment">// å…¥æ ˆæ–¹æ³•</span>
  <span class="hljs-title function_">push</span>(<span class="hljs-attr">item</span>: T): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(item);
  }

  <span class="hljs-comment">// å‡ºæ ˆæ–¹æ³•</span>
  <span class="hljs-title function_">pop</span>(): T | <span class="hljs-literal">undefined</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">pop</span>();
  }

  <span class="hljs-comment">// è·å–æ ˆé¡¶å…ƒç´ </span>
  <span class="hljs-title function_">peek</span>(): T | <span class="hljs-literal">undefined</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
  }
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶æŒ‡å®šå…·ä½“ç±»å‹</span>
<span class="hljs-keyword">const</span> numberStack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;<span class="hljs-built_in">number</span>&gt;();
numberStack.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>);
numberStack.<span class="hljs-title function_">push</span>(<span class="hljs-number">2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numberStack.<span class="hljs-title function_">pop</span>()); <span class="hljs-comment">// 2ï¼ˆç±»å‹ä¸º number | undefinedï¼‰</span>

<span class="hljs-keyword">const</span> stringStack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;<span class="hljs-built_in">string</span>&gt;();
stringStack.<span class="hljs-title function_">push</span>(<span class="hljs-string">"a"</span>);
stringStack.<span class="hljs-title function_">push</span>(<span class="hljs-string">"b"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(stringStack.<span class="hljs-title function_">peek</span>()); <span class="hljs-comment">// "b"ï¼ˆç±»å‹ä¸º string | undefinedï¼‰</span>
</code></pre>
<h5 data-id="heading-11">å¸¦é»˜è®¤å€¼çš„æ³›å‹ç±»</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¸ºæ³›å‹ç±»è®¾ç½®é»˜è®¤å€¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Container</span>&lt;T = <span class="hljs-built_in">string</span>&gt; {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">data</span>: T;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">data: T</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
  }

  <span class="hljs-title function_">getData</span>(): T {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>;
  }
}

<span class="hljs-comment">// æœªæŒ‡å®šç±»å‹ï¼Œä½¿ç”¨é»˜è®¤å€¼ string</span>
<span class="hljs-keyword">const</span> defaultContainer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Container</span>(<span class="hljs-string">"hello"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(defaultContainer.<span class="hljs-title function_">getData</span>()); <span class="hljs-comment">// "hello"ï¼ˆç±»å‹ä¸º stringï¼‰</span>

<span class="hljs-comment">// æŒ‡å®šå…·ä½“ç±»å‹ï¼Œè¦†ç›–é»˜è®¤å€¼</span>
<span class="hljs-keyword">const</span> numberContainer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Container</span>&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">123</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numberContainer.<span class="hljs-title function_">getData</span>()); <span class="hljs-comment">// 123ï¼ˆç±»å‹ä¸º numberï¼‰</span>
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šæ³›å‹ç±»åªä½œç”¨äºå®ä¾‹éƒ¨åˆ†ï¼Œé™æ€å±æ€§å’Œé™æ€æ–¹æ³•æ— æ³•ä½¿ç”¨ç±»çš„æ³›å‹å‚æ•°ï¼ˆå› ä¸ºé™æ€æˆå‘˜å±äºç±»æœ¬èº«ï¼Œè€Œæ³›å‹å‚æ•°æ˜¯åœ¨å®ä¾‹åŒ–æ—¶ç¡®å®šçš„ï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-12">åœºæ™¯ 4ï¼šæ³›å‹ç±»å‹åˆ«å</h4>
<p>ç±»å‹åˆ«åï¼ˆ<code>type</code>ï¼‰æ˜¯ TypeScript ä¸­å®šä¹‰è‡ªå®šä¹‰ç±»å‹çš„é‡è¦æ–¹å¼ï¼Œæ³›å‹ç±»å‹åˆ«åå¯ä»¥è®©è‡ªå®šä¹‰ç±»å‹å…·å¤‡æ›´å¼ºçš„çµæ´»æ€§ï¼Œæ ¸å¿ƒå†™æ³•æ˜¯ã€Œåœ¨ç±»å‹åˆ«ååæ·»åŠ  <code>&lt;ç±»å‹å‚æ•°&gt;</code>ã€ã€‚</p>
<h5 data-id="heading-13">åŸºç¡€å†™æ³•</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ³›å‹ç±»å‹åˆ«å</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Pair</span>&lt;T&gt; = [T, T]; <span class="hljs-comment">// å…ƒç»„ç±»å‹ï¼Œä¸¤ä¸ªå…ƒç´ ç±»å‹ç›¸åŒ</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Optional</span>&lt;T&gt; = T | <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// å¯é€‰ç±»å‹ï¼ŒT æˆ– undefined</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">RecordMap</span>&lt;K <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>, V&gt; = { [key <span class="hljs-keyword">in</span> K]: V }; <span class="hljs-comment">// æ˜ å°„ç±»å‹</span>

<span class="hljs-comment">// ä½¿ç”¨æ—¶æŒ‡å®šå…·ä½“ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NumberPair</span> = <span class="hljs-title class_">Pair</span>&lt;<span class="hljs-built_in">number</span>&gt;; <span class="hljs-comment">// [number, number]</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">OptionalString</span> = <span class="hljs-title class_">Optional</span>&lt;<span class="hljs-built_in">string</span>&gt;; <span class="hljs-comment">// string | undefined</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">UserMap</span> = <span class="hljs-title class_">RecordMap</span>&lt;<span class="hljs-built_in">number</span>, { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> }&gt;; <span class="hljs-comment">// { [key: number]: { name: string; age: number } }</span>

<span class="hljs-comment">// å®æˆ˜åº”ç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">pair</span>: <span class="hljs-title class_">NumberPair</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];
<span class="hljs-keyword">const</span> <span class="hljs-attr">optionalStr</span>: <span class="hljs-title class_">OptionalString</span> = <span class="hljs-string">"hello"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">userMap</span>: <span class="hljs-title class_">UserMap</span> = {
  <span class="hljs-number">1</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">28</span> },
  <span class="hljs-number">2</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">"æå››"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> }
};
</code></pre>
<h5 data-id="heading-14">å¸¦é»˜è®¤å€¼çš„æ³›å‹ç±»å‹åˆ«å</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¸ºæ³›å‹ç±»å‹åˆ«åè®¾ç½®é»˜è®¤å€¼</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ResponseData</span>&lt;T = { [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">unknown</span> }&gt; = {
  <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">data</span>: T;
};

<span class="hljs-comment">// æœªæŒ‡å®šç±»å‹ï¼Œä½¿ç”¨é»˜è®¤å€¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">defaultResponse</span>: <span class="hljs-title class_">ResponseData</span> = {
  <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">data</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> }
};

<span class="hljs-comment">// æŒ‡å®šå…·ä½“ç±»å‹ï¼Œè¦†ç›–é»˜è®¤å€¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">userResponse</span>: <span class="hljs-title class_">ResponseData</span>&lt;{ <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }&gt; = {
  <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">data</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> }
};
</code></pre>
<h3 data-id="heading-15">ä¸‰ã€é«˜çº§ç”¨æ³•ï¼šç±»å‹å‚æ•°çš„çº¦æŸæ¡ä»¶</h3>
<p>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ³›å‹å‚æ•°æ˜¯ã€Œä»»æ„ç±»å‹ã€ï¼Œè€Œæ˜¯å¸Œæœ›å®ƒæ»¡è¶³ä¸€å®šçš„çº¦æŸæ¡ä»¶ï¼ˆæ¯”å¦‚æ‹¥æœ‰æŸä¸ªå±æ€§ã€å®ç°æŸä¸ªæ¥å£ï¼‰ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨ <code>extends</code> å…³é”®å­—æ¥çº¦æŸæ³›å‹å‚æ•°ï¼Œè¿™å°±æ˜¯ã€Œæ³›å‹çº¦æŸã€ã€‚</p>
<h4 data-id="heading-16">åŸºç¡€çº¦æŸï¼šextends å…³é”®å­—</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºçº¦æŸæ¡ä»¶</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">HasLength</span> {
  <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// çº¦æŸ T å¿…é¡»å®ç° HasLength æ¥å£ï¼ˆå³ T å¿…é¡»æ‹¥æœ‰ length å±æ€§ï¼‰</span>
<span class="hljs-keyword">function</span> getLength&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HasLength</span>&gt;(<span class="hljs-attr">value</span>: T): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> value.<span class="hljs-property">length</span>;
}

<span class="hljs-comment">// åˆæ³•ï¼šstring æ‹¥æœ‰ length å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getLength</span>(<span class="hljs-string">"hello"</span>)); <span class="hljs-comment">// 5</span>

<span class="hljs-comment">// åˆæ³•ï¼šæ•°ç»„æ‹¥æœ‰ length å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getLength</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])); <span class="hljs-comment">// 3</span>

<span class="hljs-comment">// åˆæ³•ï¼šè‡ªå®šä¹‰å¯¹è±¡æ‹¥æœ‰ length å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getLength</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"æµ‹è¯•"</span> })); <span class="hljs-comment">// 10</span>

<span class="hljs-comment">// ä¸åˆæ³•ï¼šnumber æ²¡æœ‰ length å±æ€§ï¼Œç¼–è¯‘æŠ¥é”™</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getLength</span>(<span class="hljs-number">123</span>)); <span class="hljs-comment">// Error: Argument of type 'number' is not assignable to parameter of type 'HasLength'</span>
</code></pre>
<h4 data-id="heading-17">æ³›å‹çº¦æŸä¸é»˜è®¤å€¼ç»“åˆ</h4>
<p>æ³›å‹çº¦æŸå’Œé»˜è®¤å€¼å¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œè¯­æ³•é¡ºåºä¸ºã€Œ<code>&lt;T extends çº¦æŸç±»å‹ = é»˜è®¤ç±»å‹&gt;</code>ã€ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">HasId</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// çº¦æŸ T å¿…é¡»å®ç° HasId æ¥å£ï¼ŒåŒæ—¶è®¾ç½®é»˜è®¤å€¼</span>
<span class="hljs-keyword">function</span> getId&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HasId</span> = { <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }&gt;(<span class="hljs-attr">obj</span>: T): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> obj.<span class="hljs-property">id</span>;
}

<span class="hljs-comment">// æœªæŒ‡å®šç±»å‹ï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼ˆæ»¡è¶³ HasId çº¦æŸï¼‰</span>
<span class="hljs-keyword">const</span> defaultId = <span class="hljs-title function_">getId</span>({ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> }); <span class="hljs-comment">// 1</span>

<span class="hljs-comment">// æŒ‡å®šå…·ä½“ç±»å‹ï¼ˆæ»¡è¶³ HasId çº¦æŸï¼‰</span>
<span class="hljs-keyword">const</span> customId = <span class="hljs-title function_">getId</span>({ <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">28</span> }); <span class="hljs-comment">// 2</span>
</code></pre>
<h4 data-id="heading-18">å¸¸ç”¨çº¦æŸï¼šçº¦æŸä¸ºå¯¹è±¡ã€å­—ç¬¦ä¸²/æ•°å­—å­—é¢é‡</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// çº¦æŸ T ä¸ºå¯¹è±¡ç±»å‹</span>
<span class="hljs-keyword">function</span> getProperty&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>, K <span class="hljs-keyword">extends</span> keyof T&gt;(<span class="hljs-attr">obj</span>: T, <span class="hljs-attr">key</span>: K): T[K] {
  <span class="hljs-keyword">return</span> obj[key];
}

<span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">28</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getProperty</span>(user, <span class="hljs-string">"name"</span>)); <span class="hljs-comment">// "å¼ ä¸‰"ï¼ˆç±»å‹ä¸º stringï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getProperty</span>(user, <span class="hljs-string">"age"</span>)); <span class="hljs-comment">// 28ï¼ˆç±»å‹ä¸º numberï¼‰</span>

<span class="hljs-comment">// çº¦æŸ K ä¸º "success" | "error" å­—é¢é‡ç±»å‹</span>
<span class="hljs-keyword">function</span> createMessage&lt;K <span class="hljs-keyword">extends</span> <span class="hljs-string">"success"</span> | <span class="hljs-string">"error"</span> = <span class="hljs-string">"success"</span>&gt;(<span class="hljs-attr">type</span>: K): { <span class="hljs-attr">type</span>: K; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> } {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-keyword">type</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-keyword">type</span> === <span class="hljs-string">"success"</span> ? <span class="hljs-string">"æ“ä½œæˆåŠŸ"</span> : <span class="hljs-string">"æ“ä½œå¤±è´¥"</span>
  };
}

<span class="hljs-keyword">const</span> successMsg = <span class="hljs-title function_">createMessage</span>(); <span class="hljs-comment">// { type: "success"; content: string }</span>
<span class="hljs-keyword">const</span> errorMsg = <span class="hljs-title function_">createMessage</span>(<span class="hljs-string">"error"</span>); <span class="hljs-comment">// { type: "error"; content: string }</span>
</code></pre>
<h3 data-id="heading-19">å››ã€æ³›å‹ä½¿ç”¨æ€»ç»“ä¸æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>æ³›å‹çš„æ ¸å¿ƒä»·å€¼</strong>ï¼šå¤ç”¨ä»£ç ã€ä¿ç•™ç±»å‹ä¿¡æ¯ã€é¿å… <code>any</code> ç±»å‹ï¼Œå®ç°ã€Œçµæ´»ä¸å®‰å…¨å¹¶å­˜ã€ã€‚</li>
<li><strong>å››å¤§åº”ç”¨åœºæ™¯ä¼˜å…ˆçº§</strong>ï¼šæ³›å‹å‡½æ•° &gt; æ³›å‹æ¥å£ &gt; æ³›å‹ç±»å‹åˆ«å &gt; æ³›å‹ç±»ï¼ˆç±»çš„æ³›å‹ä½¿ç”¨åœºæ™¯ç›¸å¯¹æœ‰é™ï¼‰ã€‚</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼š
<ul>
<li>ç±»å‹å‚æ•°å‘½åå°½é‡è¯­ä¹‰åŒ–ï¼ˆå¦‚ <code>T</code> è¡¨ç¤ºé€šç”¨ç±»å‹ï¼Œ<code>U</code>/<code>V</code> è¡¨ç¤ºè¾…åŠ©ç±»å‹ï¼Œ<code>K</code> è¡¨ç¤ºé”®ç±»å‹ï¼Œ<code>V</code> è¡¨ç¤ºå€¼ç±»å‹ï¼‰ã€‚</li>
<li>å¯¹äºæœ‰å¸¸ç”¨ç±»å‹çš„åœºæ™¯ï¼Œè®¾ç½®æ³›å‹é»˜è®¤å€¼ï¼Œæå‡ä»£ç æ˜“ç”¨æ€§ã€‚</li>
<li>å½“éœ€è¦é™åˆ¶æ³›å‹èŒƒå›´æ—¶ï¼Œä½¿ç”¨ <code>extends</code> è¿›è¡Œçº¦æŸï¼Œé¿å…éæ³•ç±»å‹ä¼ å…¥ã€‚</li>
<li>é¿å…è¿‡åº¦æ³›å‹åŒ–ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°åªéœ€è¦æ”¯æŒä¸€ç§æˆ–ä¸¤ç§å›ºå®šç±»å‹ï¼Œæ— éœ€ä½¿ç”¨æ³›å‹ï¼Œç›´æ¥å®šä¹‰å…·ä½“ç±»å‹å³å¯ã€‚</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TypeScript Enum ç±»å‹å…¥é—¨ï¼šä»åŸºç¡€åˆ°å®æˆ˜]]></title>    <link>https://juejin.cn/post/7596890557545955374</link>    <guid>https://juejin.cn/post/7596890557545955374</guid>    <pubDate>2026-01-19T14:47:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596890557545955374" data-draft-id="7596904122865614899" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TypeScript Enum ç±»å‹å…¥é—¨ï¼šä»åŸºç¡€åˆ°å®æˆ˜"/> <meta itemprop="keywords" content="TypeScript"/> <meta itemprop="datePublished" content="2026-01-19T14:47:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦‚æœä½ å¥½"/> <meta itemprop="url" content="https://juejin.cn/user/2272012281328215"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TypeScript Enum ç±»å‹å…¥é—¨ï¼šä»åŸºç¡€åˆ°å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2272012281328215/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦‚æœä½ å¥½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:47:06.000Z" title="Mon Jan 19 2026 14:47:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ Enumï¼Ÿ</h2>
<p>Enum æ˜¯ TypeScript æä¾›çš„<strong>è‡ªå®šä¹‰ç±»å‹</strong>ï¼Œç”¨æ¥å®šä¹‰<strong>ä¸€ç»„æœ‰åå­—çš„å¸¸é‡é›†åˆ</strong>ã€‚</p>
<p>ç®€å•è¯´ï¼Œå°±æ˜¯ç»™ä¸€å †å›ºå®šçš„å€¼èµ·ä¸ªå¥½è®°çš„åå­—ï¼Œæ›¿ä»£ä»£ç é‡Œçš„ã€Œé­”æ³•å€¼ã€ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¸ç”¨æšä¸¾ï¼šç›´æ¥å†™å€¼ï¼Œåˆ«äººçœ‹ä¸æ‡‚ 200 å•¥æ„æ€</span>
<span class="hljs-keyword">const</span> successCode = <span class="hljs-number">200</span>;

<span class="hljs-comment">// ç”¨æšä¸¾ï¼šè¯­ä¹‰æ¸…æ™°ï¼Œä¸€çœ‹å°±æ‡‚</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">HttpStatus</span> {
  <span class="hljs-title class_">Success</span> = <span class="hljs-number">200</span>,
  <span class="hljs-title class_">Error</span> = <span class="hljs-number">500</span>
}
</code></pre>
<p>æšä¸¾çš„æ ¸å¿ƒå¥½å¤„ï¼š</p>
<ol>
<li><strong>å¯è¯»æ€§é«˜</strong>ï¼šä¸ç”¨çŒœæ•°å­—/å­—ç¬¦ä¸²ä»£è¡¨çš„å«ä¹‰</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šå†™é”™å€¼ä¼šç›´æ¥æŠ¥é”™</li>
<li><strong>æ˜“ç»´æŠ¤</strong>ï¼šå¸¸é‡é›†ä¸­ç®¡ç†ï¼Œæ”¹ä¸€å¤„å°±è¡Œ</li>
</ol>
<h2 data-id="heading-1">äºŒã€Enum çš„ä¸¤ç§å¸¸ç”¨ç±»å‹</h2>
<p>TypeScript é‡Œæœ€å¸¸ç”¨çš„æ˜¯ <strong>æ•°å­—æšä¸¾</strong> å’Œ <strong>å­—ç¬¦ä¸²æšä¸¾</strong>ï¼Œå¼‚æ„æšä¸¾ï¼ˆæ•°å­—+å­—ç¬¦ä¸²æ··åˆï¼‰åŸºæœ¬ä¸ç”¨ï¼Œè¿™é‡Œä¸å±•å¼€ã€‚</p>
<h3 data-id="heading-2">1. æ•°å­—æšä¸¾</h3>
<p>æšä¸¾æˆå‘˜çš„å€¼æ˜¯æ•°å­—ï¼Œæ”¯æŒ<strong>è‡ªåŠ¨é€’å¢</strong>å’Œ<strong>åå‘æ˜ å°„</strong>ã€‚</p>
<h4 data-id="heading-3">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ˜¾å¼èµ‹å€¼ï¼šæ¯ä¸ªæˆå‘˜æŒ‡å®šæ•°å­—</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">Weekday</span> {
  <span class="hljs-title class_">Monday</span> = <span class="hljs-number">1</span>,
  <span class="hljs-title class_">Tuesday</span> = <span class="hljs-number">2</span>,
  <span class="hljs-title class_">Wednesday</span> = <span class="hljs-number">3</span>
}

<span class="hljs-comment">// ä½¿ç”¨ï¼šç›´æ¥é€šè¿‡ æšä¸¾å.æˆå‘˜å å–å€¼</span>
<span class="hljs-keyword">const</span> today = <span class="hljs-title class_">Weekday</span>.<span class="hljs-property">Monday</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(today); <span class="hljs-comment">// è¾“å‡º 1</span>
</code></pre>
<h4 data-id="heading-4">è‡ªåŠ¨é€’å¢ï¼ˆè¶…æ–¹ä¾¿ï¼‰</h4>
<p>å¦‚æœä¸ç»™æˆå‘˜èµ‹å€¼ï¼ŒTypeScript ä¼šä» <code>0</code> å¼€å§‹è‡ªåŠ¨åŠ  1ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// éšå¼é€’å¢ï¼šLeft=0, Right=1, Top=2, Bottom=3</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> {
  <span class="hljs-title class_">Left</span>,
  <span class="hljs-title class_">Right</span>,
  <span class="hljs-title class_">Top</span>,
  <span class="hljs-title class_">Bottom</span>
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Direction</span>.<span class="hljs-property">Right</span>); <span class="hljs-comment">// è¾“å‡º 1</span>
</code></pre>
<h4 data-id="heading-5">åå‘æ˜ å°„ï¼ˆæ•°å­—æšä¸¾ä¸“å±ï¼‰</h4>
<p>æ•°å­—æšä¸¾å¯ä»¥<strong>é€šè¿‡å€¼æŸ¥åå­—</strong>ï¼Œè¿™æ˜¯å­—ç¬¦ä¸²æšä¸¾æ²¡æœ‰çš„ç‰¹æ€§ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Weekday</span> {
  <span class="hljs-title class_">Monday</span> = <span class="hljs-number">1</span>
}

<span class="hljs-comment">// æ­£å‘ï¼šåå­— â†’ å€¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Weekday</span>.<span class="hljs-property">Monday</span>); <span class="hljs-comment">// 1</span>
<span class="hljs-comment">// åå‘ï¼šå€¼ â†’ åå­—</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Weekday</span>[<span class="hljs-number">1</span>]); <span class="hljs-comment">// "Monday"</span>
</code></pre>
<h3 data-id="heading-6">2. å­—ç¬¦ä¸²æšä¸¾</h3>
<p>æšä¸¾æˆå‘˜çš„å€¼æ˜¯å­—ç¬¦ä¸²ï¼Œ<strong>å¿…é¡»æ‰‹åŠ¨èµ‹å€¼</strong>ï¼Œä¸æ”¯æŒè‡ªåŠ¨é€’å¢å’Œåå‘æ˜ å°„ã€‚</p>
<h4 data-id="heading-7">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ¯ä¸ªæˆå‘˜éƒ½è¦å†™å­—ç¬¦ä¸²å€¼</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">UserRole</span> {
  <span class="hljs-title class_">Admin</span> = <span class="hljs-string">"ADMIN"</span>,
  <span class="hljs-title class_">Editor</span> = <span class="hljs-string">"EDITOR"</span>,
  <span class="hljs-title class_">Viewer</span> = <span class="hljs-string">"VIEWER"</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> role = <span class="hljs-title class_">UserRole</span>.<span class="hljs-property">Admin</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(role); <span class="hljs-comment">// è¾“å‡º "ADMIN"</span>

<span class="hljs-comment">// å­—ç¬¦ä¸²æšä¸¾æ²¡æœ‰åå‘æ˜ å°„ï¼Œä¸‹é¢ä»£ç ä¼šæŠ¥é”™</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">UserRole</span>[<span class="hljs-string">"ADMIN"</span>]); <span class="hljs-comment">// undefined</span>
</code></pre>
<h4 data-id="heading-8">æ ¸å¿ƒä¼˜åŠ¿ï¼šå¯è¯»æ€§æ›´å¼º</h4>
<p>è°ƒè¯•æ—¶ç›´æ¥èƒ½çœ‹åˆ°å­—ç¬¦ä¸²å€¼ï¼Œæ¯”æ•°å­—æ›´ç›´è§‚ã€‚æ¯”å¦‚æ‰“å°æ—¥å¿—ï¼Œ<code>ADMIN</code> æ¯” <code>1</code> å¥½ç†è§£å¤šäº†ã€‚</p>
<h2 data-id="heading-9">ä¸‰ã€é«˜çº§å°æŠ€å·§ï¼šå¸¸é‡æšä¸¾ï¼ˆconst enumï¼‰</h2>
<p>åœ¨æšä¸¾å‰åŠ  <code>const</code>ï¼Œå°±æ˜¯<strong>å¸¸é‡æšä¸¾</strong>ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šç¼–è¯‘åä¸ä¼šç”Ÿæˆé¢å¤–ä»£ç ï¼Œç›´æ¥æŠŠå€¼ã€ŒåµŒå…¥ã€åˆ°ä½¿ç”¨çš„åœ°æ–¹ï¼Œä½“ç§¯æ›´å°ã€é€Ÿåº¦æ›´å¿«ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¸¸é‡æšä¸¾</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Color</span> {
  <span class="hljs-title class_">Red</span> = <span class="hljs-string">"RED"</span>,
  <span class="hljs-title class_">Green</span> = <span class="hljs-string">"GREEN"</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> myColor = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>;
</code></pre>
<h4 data-id="heading-10">ç¼–è¯‘åå¯¹æ¯”ï¼ˆçœ‹æ‡‚å°±è¡Œï¼‰</h4>
<ul>
<li>æ™®é€šæšä¸¾ï¼šä¼šç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œå å†…å­˜</li>
<li>å¸¸é‡æšä¸¾ï¼šç›´æ¥å˜æˆ <code>const myColor = "GREEN"</code>ï¼Œæ²¡æœ‰å¤šä½™ä»£ç </li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šå¸¸é‡æšä¸¾<strong>ä¸æ”¯æŒåå‘æ˜ å°„</strong>ï¼Œé€‚åˆåªéœ€è¦å–å€¼çš„åœºæ™¯ã€‚</p>
</blockquote>
<h2 data-id="heading-11">å››ã€å®æˆ˜åœºæ™¯ï¼šæšä¸¾åˆ°åº•æ€ä¹ˆç”¨ï¼Ÿ</h2>
<p>æšä¸¾åœ¨é¡¹ç›®é‡Œåˆ°å¤„èƒ½ç”¨ï¼Œä¸¾ä¸¤ä¸ªæœ€å¸¸è§çš„ä¾‹å­ã€‚</p>
<h3 data-id="heading-12">åœºæ™¯ 1ï¼šç®¡ç†æ¥å£çŠ¶æ€ç </h3>
<p>åç«¯è¿”å›çš„çŠ¶æ€ç ï¼Œç”¨æšä¸¾ç»Ÿä¸€ç®¡ç†ï¼Œå†ä¹Ÿä¸ç”¨è®°æ•°å­—äº†ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰çŠ¶æ€ç æšä¸¾</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">ApiStatus</span> {
  <span class="hljs-title class_">Success</span> = <span class="hljs-number">200</span>,
  <span class="hljs-title class_">NoAuth</span> = <span class="hljs-number">401</span>,
  <span class="hljs-title class_">ServerError</span> = <span class="hljs-number">500</span>
}

<span class="hljs-comment">// æ¥å£è¯·æ±‚ååˆ¤æ–­çŠ¶æ€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleResult</span>(<span class="hljs-params">code: ApiStatus</span>) {
  <span class="hljs-keyword">switch</span>(code) {
    <span class="hljs-keyword">case</span> <span class="hljs-title class_">ApiStatus</span>.<span class="hljs-property">Success</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¯·æ±‚æˆåŠŸ"</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-title class_">ApiStatus</span>.<span class="hljs-property">NoAuth</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¯·å…ˆç™»å½•"</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-title class_">ApiStatus</span>.<span class="hljs-property">ServerError</span>:
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æœåŠ¡å™¨å‡ºé”™äº†"</span>);
      <span class="hljs-keyword">break</span>;
  }
}

<span class="hljs-comment">// è°ƒç”¨å‡½æ•°</span>
<span class="hljs-title function_">handleResult</span>(<span class="hljs-title class_">ApiStatus</span>.<span class="hljs-property">NoAuth</span>); <span class="hljs-comment">// è¾“å‡º "è¯·å…ˆç™»å½•"</span>
</code></pre>
<h3 data-id="heading-13">åœºæ™¯ 2ï¼šåšä¸‹æ‹‰æ¡†é€‰é¡¹ï¼ˆå‰ç«¯å¸¸ç”¨ï¼‰</h3>
<p>Vue/React é‡Œçš„ä¸‹æ‹‰æ¡†é€‰é¡¹ï¼Œç”¨æšä¸¾å®šä¹‰ï¼Œé¿å…ç¡¬ç¼–ç ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ€§åˆ«æšä¸¾</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">Gender</span> {
  <span class="hljs-title class_">Male</span> = <span class="hljs-string">"MALE"</span>,
  <span class="hljs-title class_">Female</span> = <span class="hljs-string">"FEMALE"</span>
}

<span class="hljs-comment">// è½¬æˆå‰ç«¯æ¡†æ¶éœ€è¦çš„é€‰é¡¹æ ¼å¼</span>
<span class="hljs-keyword">const</span> genderOptions = [
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"ç”·"</span>, <span class="hljs-attr">value</span>: <span class="hljs-title class_">Gender</span>.<span class="hljs-property">Male</span> },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"å¥³"</span>, <span class="hljs-attr">value</span>: <span class="hljs-title class_">Gender</span>.<span class="hljs-property">Female</span> }
];

<span class="hljs-comment">// Vue é‡Œç”¨</span>
<span class="hljs-comment">// &lt;el-select v-model="gender"&gt;</span>
<span class="hljs-comment">//   &lt;el-option v-for="item in genderOptions" :key="item.value" :label="item.label" :value="item.value" /&gt;</span>
<span class="hljs-comment">// &lt;/el-select&gt;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é«˜å¹¶å‘ä¸‹æ˜¯å…ˆå†™æ•°æ®åº“ï¼Œè¿˜æ˜¯å…ˆå†™ç¼“å­˜ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596975035437809673</link>    <guid>https://juejin.cn/post/7596975035437809673</guid>    <pubDate>2026-01-20T01:57:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596975035437809673" data-draft-id="7596955804260319282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é«˜å¹¶å‘ä¸‹æ˜¯å…ˆå†™æ•°æ®åº“ï¼Œè¿˜æ˜¯å…ˆå†™ç¼“å­˜ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-20T01:57:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä¸‰è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/465848661970824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é«˜å¹¶å‘ä¸‹æ˜¯å…ˆå†™æ•°æ®åº“ï¼Œè¿˜æ˜¯å…ˆå†™ç¼“å­˜ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848661970824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä¸‰è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T01:57:07.000Z" title="Tue Jan 20 2026 01:57:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è‹ä¸‰ï¼Œåˆè·Ÿå¤§å®¶è§é¢äº†</p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>æ•°æ®åº“å’Œç¼“å­˜ï¼ˆæ¯”å¦‚ï¼šredisï¼‰åŒå†™æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªè·Ÿå¼€å‘è¯­è¨€æ— å…³çš„å…¬å…±é—®é¢˜ã€‚å°¤å…¶åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œè¿™ä¸ªé—®é¢˜å˜å¾—æ›´åŠ ä¸¥é‡ã€‚</p>
<p>æˆ‘å¾ˆè´Ÿè´£çš„å‘Šè¯‰ä½ ï¼Œè¯¥é—®é¢˜æ— è®ºåœ¨é¢è¯•ï¼Œè¿˜æ˜¯å·¥ä½œä¸­é‡åˆ°çš„æ¦‚ç‡éå¸¸å¤§ï¼Œæ‰€ä»¥éå¸¸æœ‰å¿…è¦è·Ÿå¤§å®¶ä¸€èµ·æ¢è®¨ä¸€ä¸‹ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« æˆ‘ä¼šä»æµ…å…¥æ·±ï¼Œè·Ÿå¤§å®¶ä¸€èµ·èŠèŠï¼Œæ•°æ®åº“å’Œç¼“å­˜åŒå†™æ•°æ®ä¸€è‡´æ€§é—®é¢˜å¸¸è§çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™äº›æ–¹æ¡ˆä¸­å¯èƒ½å­˜åœ¨çš„å‘ï¼Œä»¥åŠæœ€ä¼˜æ–¹æ¡ˆæ˜¯ä»€ä¹ˆã€‚</p>
<h2 data-id="heading-1">1. å¸¸è§æ–¹æ¡ˆ</h2>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¼“å­˜çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æå‡æŸ¥è¯¢çš„æ€§èƒ½ã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·ä½¿ç”¨ç¼“å­˜çš„ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b21b34cd40dd40c38b6836e0e57f5511~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=oW%2BL2k3oLHGnEziVUWxOu3WHh7A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>ç”¨æˆ·è¯·æ±‚è¿‡æ¥ä¹‹åï¼Œå…ˆæŸ¥ç¼“å­˜æœ‰æ²¡æœ‰æ•°æ®ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥è¿”å›ã€‚</li>
<li>å¦‚æœç¼“å­˜æ²¡æ•°æ®ï¼Œå†ç»§ç»­æŸ¥æ•°æ®åº“ã€‚</li>
<li>å¦‚æœæ•°æ®åº“æœ‰æ•°æ®ï¼Œåˆ™å°†æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®ï¼Œæ”¾å…¥ç¼“å­˜ä¸­ï¼Œç„¶åè¿”å›è¯¥æ•°æ®ã€‚</li>
<li>å¦‚æœæ•°æ®åº“ä¹Ÿæ²¡æ•°æ®ï¼Œåˆ™ç›´æ¥è¿”å›ç©ºã€‚</li>
</ol>
<p>è¿™æ˜¯ç¼“å­˜éå¸¸å¸¸è§çš„ç”¨æ³•ã€‚ä¸€çœ¼çœ‹ä¸Šå»ï¼Œå¥½åƒæ²¡æœ‰å•¥é—®é¢˜ã€‚</p>
<p>ä½†ä½ å¿½ç•¥äº†ä¸€ä¸ªéå¸¸é‡è¦çš„ç»†èŠ‚ï¼š<strong>å¦‚æœæ•°æ®åº“ä¸­çš„æŸæ¡æ•°æ®ï¼Œæ”¾å…¥ç¼“å­˜ä¹‹åï¼Œåˆç«‹é©¬è¢«æ›´æ–°äº†ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•æ›´æ–°ç¼“å­˜å‘¢ï¼Ÿ</strong></p>
<p>ä¸æ›´æ–°ç¼“å­˜è¡Œä¸è¡Œï¼Ÿ</p>
<p>ç­”ï¼šå½“ç„¶ä¸è¡Œï¼Œå¦‚æœä¸æ›´æ–°ç¼“å­˜ï¼Œåœ¨å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´å†…ï¼ˆå†³å®šäºç¼“å­˜çš„è¿‡æœŸæ—¶é—´ï¼‰ï¼Œç”¨æˆ·è¯·æ±‚ä»ç¼“å­˜ä¸­è·å–åˆ°çš„éƒ½å¯èƒ½æ˜¯æ—§å€¼ï¼Œè€Œéæ•°æ®åº“çš„æœ€æ–°å€¼ã€‚è¿™ä¸æ˜¯æœ‰æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Ÿ</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ›´æ–°ç¼“å­˜å‘¢ï¼Ÿ</p>
<p>ç›®å‰æœ‰ä»¥ä¸‹4ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li>å…ˆå†™ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“</li>
<li>å…ˆå†™æ•°æ®åº“ï¼Œå†å†™ç¼“å­˜</li>
<li>å…ˆåˆ ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“</li>
<li>å…ˆå†™æ•°æ®åº“ï¼Œå†åˆ ç¼“å­˜</li>
</ol>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯¦ç»†è¯´è¯´è¿™4ç§æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-2">2. å…ˆå†™ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“</h2>
<p>å¯¹äºæ›´æ–°ç¼“å­˜çš„æ–¹æ¡ˆï¼Œå¾ˆå¤šäººç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å¯èƒ½æ˜¯åœ¨å†™æ“ä½œä¸­ç›´æ¥æ›´æ–°ç¼“å­˜ï¼ˆå†™ç¼“å­˜ï¼‰ï¼Œæ›´ç›´æ¥æ˜äº†ã€‚</p>
<p>é‚£ä¹ˆï¼Œé—®é¢˜æ¥äº†ï¼šåœ¨å†™æ“ä½œä¸­ï¼Œåˆ°åº•æ˜¯å…ˆå†™ç¼“å­˜ï¼Œè¿˜æ˜¯å…ˆå†™æ•°æ®åº“å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬åœ¨è¿™é‡Œå…ˆèŠèŠå…ˆå†™ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“çš„æƒ…å†µï¼Œå› ä¸ºå®ƒçš„é—®é¢˜æœ€ä¸¥é‡ã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0ab2f9ad42f4af8bac0903d24439ea3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=UUJQfRjlKciAMYyXKc%2FqhOGPYL0%3D" alt="å›¾ç‰‡" loading="lazy"/>æŸä¸€ä¸ªç”¨æˆ·çš„æ¯ä¸€æ¬¡å†™æ“ä½œï¼Œå¦‚æœåˆšå†™å®Œç¼“å­˜ï¼Œçªç„¶ç½‘ç»œå‡ºç°äº†å¼‚å¸¸ï¼Œå¯¼è‡´å†™æ•°æ®åº“å¤±è´¥äº†ã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f60b1f0ce462490b85207b2797fec9c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=EjXu9eeDiM8P1DxJCV%2FMDhedjjc%3D" alt="å›¾ç‰‡" loading="lazy"/>å…¶ç»“æœæ˜¯ç¼“å­˜æ›´æ–°æˆäº†æœ€æ–°æ•°æ®ï¼Œä½†æ•°æ®åº“æ²¡æœ‰ï¼Œè¿™æ ·ç¼“å­˜ä¸­çš„æ•°æ®ä¸å°±å˜æˆè„æ•°æ®äº†ï¼Ÿå¦‚æœæ­¤æ—¶è¯¥ç”¨æˆ·çš„æŸ¥è¯¢è¯·æ±‚ï¼Œæ­£å¥½è¯»å–åˆ°è¯¥æ•°æ®ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸ºè¯¥æ•°æ®åœ¨æ•°æ®åº“ä¸­æ ¹æœ¬ä¸å­˜åœ¨ï¼Œè¿™ä¸ªé—®é¢˜éå¸¸ä¸¥é‡ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç¼“å­˜çš„ä¸»è¦ç›®çš„æ˜¯æŠŠæ•°æ®åº“çš„æ•°æ®ä¸´æ—¶ä¿å­˜åœ¨å†…å­˜ï¼Œä¾¿äºåç»­çš„æŸ¥è¯¢ï¼Œæå‡æŸ¥è¯¢é€Ÿåº¦ã€‚</p>
<p>ä½†å¦‚æœæŸæ¡æ•°æ®ï¼Œåœ¨æ•°æ®åº“ä¸­éƒ½ä¸å­˜åœ¨ï¼Œä½ ç¼“å­˜è¿™ç§â€œ<code>å‡æ•°æ®</code>â€åˆæœ‰å•¥æ„ä¹‰å‘¢ï¼Ÿ</p>
<p>å› æ­¤ï¼Œå…ˆå†™ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“çš„æ–¹æ¡ˆæ˜¯ä¸å¯å–çš„ï¼Œåœ¨å®é™…å·¥ä½œä¸­ç”¨å¾—ä¸å¤šã€‚</p>
<h2 data-id="heading-3">3. å…ˆå†™æ•°æ®åº“ï¼Œå†å†™ç¼“å­˜</h2>
<p>æ—¢ç„¶ä¸Šé¢çš„æ–¹æ¡ˆè¡Œä¸é€šï¼Œæ¥ä¸‹æ¥ï¼ŒèŠèŠå…ˆå†™æ•°æ®åº“ï¼Œå†å†™ç¼“å­˜çš„æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆåœ¨ä½å¹¶å‘ç¼–ç¨‹ä¸­æœ‰äººåœ¨ç”¨ï¼ˆæˆ‘çŒœçš„ï¼‰ã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d40cd80cad94ce2ac5cb8822eeb9a42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=GKu4eT1SWwoTtB%2FVmnQikJJu%2FkI%3D" alt="å›¾ç‰‡" loading="lazy"/>ç”¨æˆ·çš„å†™æ“ä½œï¼Œå…ˆå†™æ•°æ®åº“ï¼Œå†å†™ç¼“å­˜ï¼Œå¯ä»¥é¿å…ä¹‹å‰â€œå‡æ•°æ®â€çš„é—®é¢˜ã€‚ä½†å®ƒå´å¸¦æ¥äº†æ–°çš„é—®é¢˜ã€‚</p>
<p>ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p>
<h3 data-id="heading-4">3.1 å†™ç¼“å­˜å¤±è´¥äº†</h3>
<p>å¦‚æœæŠŠå†™æ•°æ®åº“å’Œå†™ç¼“å­˜æ“ä½œï¼Œæ”¾åœ¨åŒä¸€ä¸ªäº‹åŠ¡å½“ä¸­ï¼Œå½“å†™ç¼“å­˜å¤±è´¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå†™å…¥æ•°æ®åº“çš„æ•°æ®è¿›è¡Œå›æ»šã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ccf1c4d61d544cdb311997433958611~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=zFHmKRdspwzsDglx13TkmHUuyG0%3D" alt="å›¾ç‰‡" loading="lazy"/>å¦‚æœæ˜¯å¹¶å‘é‡æ¯”è¾ƒå°ï¼Œå¯¹æ¥å£æ€§èƒ½è¦æ±‚ä¸å¤ªé«˜çš„ç³»ç»Ÿï¼Œå¯ä»¥è¿™ä¹ˆç©ã€‚</p>
<p>ä½†å¦‚æœåœ¨é«˜å¹¶å‘çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå†™æ•°æ®åº“å’Œå†™ç¼“å­˜ï¼Œéƒ½å±äºè¿œç¨‹æ“ä½œã€‚ä¸ºäº†é˜²æ­¢å‡ºç°å¤§äº‹åŠ¡ï¼Œé€ æˆçš„æ­»é”é—®é¢˜ï¼Œé€šå¸¸å»ºè®®å†™æ•°æ®åº“å’Œå†™ç¼“å­˜ä¸è¦æ”¾åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´åœ¨è¯¥æ–¹æ¡ˆä¸­ï¼Œå¦‚æœå†™æ•°æ®åº“æˆåŠŸäº†ï¼Œä½†å†™ç¼“å­˜å¤±è´¥äº†ï¼Œæ•°æ®åº“ä¸­å·²å†™å…¥çš„æ•°æ®ä¸ä¼šå›æ»šã€‚</p>
<p>è¿™å°±ä¼šå‡ºç°ï¼šæ•°æ®åº“æ˜¯<code>æ–°æ•°æ®</code>ï¼Œè€Œç¼“å­˜æ˜¯<code>æ—§æ•°æ®</code>ï¼Œä¸¤è¾¹<code>æ•°æ®ä¸ä¸€è‡´</code>çš„æƒ…å†µã€‚</p>
<h3 data-id="heading-5">3.1 é«˜å¹¶å‘ä¸‹çš„é—®é¢˜</h3>
<p>å‡è®¾åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸­ï¼Œé’ˆå¯¹åŒä¸€ä¸ªç”¨æˆ·çš„åŒä¸€æ¡æ•°æ®ï¼Œæœ‰ä¸¤ä¸ªå†™æ•°æ®è¯·æ±‚ï¼šaå’Œbï¼Œå®ƒä»¬åŒæ—¶è¯·æ±‚åˆ°ä¸šåŠ¡ç³»ç»Ÿã€‚</p>
<p>å…¶ä¸­è¯·æ±‚aè·å–çš„æ˜¯æ—§æ•°æ®ï¼Œè€Œè¯·æ±‚bè·å–çš„æ˜¯æ–°æ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7517022ca904cb797cd412db97c46f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=fcS3QHIsdYXfkpkr3FF0XuwHUr8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>è¯·æ±‚aå…ˆè¿‡æ¥ï¼Œåˆšå†™å®Œäº†æ•°æ®åº“ã€‚ä½†ç”±äºç½‘ç»œåŸå› ï¼Œå¡é¡¿äº†ä¸€ä¸‹ï¼Œè¿˜æ²¡æ¥å¾—åŠå†™ç¼“å­˜ã€‚</li>
<li>è¿™æ—¶å€™è¯·æ±‚bè¿‡æ¥äº†ï¼Œå…ˆå†™äº†æ•°æ®åº“ã€‚</li>
<li>æ¥ä¸‹æ¥ï¼Œè¯·æ±‚bé¡ºåˆ©å†™äº†ç¼“å­˜ã€‚</li>
<li>æ­¤æ—¶ï¼Œè¯·æ±‚aå¡é¡¿ç»“æŸï¼Œä¹Ÿå†™äº†ç¼“å­˜ã€‚</li>
</ol>
<p>å¾ˆæ˜¾ç„¶ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­ï¼Œè¯·æ±‚båœ¨ç¼“å­˜ä¸­çš„<code>æ–°æ•°æ®</code>ï¼Œè¢«è¯·æ±‚açš„<code>æ—§æ•°æ®</code>è¦†ç›–äº†ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼šåœ¨é«˜å¹¶å‘åœºæ™¯ä¸­ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå…ˆå†™æ•°æ®åº“ï¼Œå†å†™ç¼“å­˜çš„æ“ä½œï¼Œå¯èƒ½ä¼šå‡ºç°æ•°æ®åº“æ˜¯æ–°å€¼ï¼Œè€Œç¼“å­˜ä¸­æ˜¯æ—§å€¼ï¼Œä¸¤è¾¹æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<h3 data-id="heading-6">3.2 æµªè´¹ç³»ç»Ÿèµ„æº</h3>
<p>è¯¥æ–¹æ¡ˆè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜å°±æ˜¯ï¼šæ¯ä¸ªå†™æ“ä½œï¼Œå†™å®Œæ•°æ®åº“ï¼Œä¼šé©¬ä¸Šå†™ç¼“å­˜ï¼Œæ¯”è¾ƒ<code>æµªè´¹ç³»ç»Ÿèµ„æº</code>ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿ</p>
<p>ä½ å¯ä»¥è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå†™çš„ç¼“å­˜ï¼Œå¹¶ä¸æ˜¯ç®€å•çš„æ•°æ®å†…å®¹ï¼Œè€Œæ˜¯è¦ç»è¿‡éå¸¸å¤æ‚çš„è®¡ç®—å¾—å‡ºçš„æœ€ç»ˆç»“æœã€‚è¿™æ ·æ¯å†™ä¸€æ¬¡ç¼“å­˜ï¼Œéƒ½éœ€è¦ç»è¿‡ä¸€æ¬¡éå¸¸å¤æ‚çš„è®¡ç®—ï¼Œä¸æ˜¯éå¸¸æµªè´¹ç³»ç»Ÿèµ„æºå—ï¼Ÿ</p>
<p>å°¤å…¶æ˜¯<code>cpu</code>å’Œ<code>å†…å­˜</code>èµ„æºã€‚</p>
<p>è¿˜æœ‰äº›ä¸šåŠ¡åœºæ™¯æ¯”è¾ƒç‰¹æ®Šï¼š<code>å†™å¤šè¯»å°‘</code>ã€‚</p>
<p>å¦‚æœåœ¨è¿™ç±»ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæ¯ä¸ªç”¨çš„å†™æ“ä½œï¼Œéƒ½éœ€è¦å†™ä¸€æ¬¡ç¼“å­˜ï¼Œæœ‰ç‚¹å¾—ä¸å¿å¤±ã€‚</p>
<p>ç”±æ­¤å¯è§ï¼Œåœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸­ï¼Œå…ˆå†™æ•°æ®åº“ï¼Œå†å†™ç¼“å­˜ï¼Œè¿™å¥—æ–¹æ¡ˆé—®é¢˜æŒºå¤šçš„ï¼Œä¹Ÿä¸å¤ªå»ºè®®ä½¿ç”¨ã€‚</p>
<p>å¦‚æœä½ å·²ç»ç”¨äº†ï¼Œèµ¶ç´§çœ‹çœ‹è¸©å‘äº†æ²¡ï¼Ÿ</p>
<h2 data-id="heading-7">4. å…ˆåˆ ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“</h2>
<p>é€šè¿‡ä¸Šé¢çš„å†…å®¹æˆ‘ä»¬å¾—çŸ¥ï¼Œå¦‚æœç›´æ¥æ›´æ–°ç¼“å­˜çš„é—®é¢˜å¾ˆå¤šã€‚</p>
<p>é‚£ä¹ˆï¼Œä¸ºä½•æˆ‘ä»¬ä¸èƒ½æ¢ä¸€ç§æ€è·¯ï¼šä¸å»ç›´æ¥<code>æ›´æ–°ç¼“å­˜</code>ï¼Œè€Œæ”¹ä¸º<code>åˆ é™¤ç¼“å­˜</code>å‘¢ï¼Ÿ</p>
<p>åˆ é™¤ç¼“å­˜æ–¹æ¡ˆï¼ŒåŒæ ·æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>å…ˆåˆ ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“</li>
<li>å…ˆå†™æ•°æ®åº“ï¼Œå†åˆ ç¼“å­˜</li>
</ol>
<p>æˆ‘ä»¬ä¸€èµ·å…ˆçœ‹çœ‹ï¼šå…ˆåˆ ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“çš„æƒ…å†µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec397d7144254e8d9fa39438f79706c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=MS0qYIVHBiFjErDIXg0%2Fh%2Fv%2FhO0%3D" alt="å›¾ç‰‡" loading="lazy"/>è¯´ç™½äº†ï¼Œåœ¨ç”¨æˆ·çš„å†™æ“ä½œä¸­ï¼Œå…ˆæ‰§è¡Œåˆ é™¤ç¼“å­˜æ“ä½œï¼Œå†å»å†™æ•°æ®åº“ã€‚è¿™å¥—æ–¹æ¡ˆï¼Œå¯ä»¥æ˜¯å¯ä»¥ï¼Œä½†ä¹Ÿä¼šæœ‰ä¸€æ ·é—®é¢˜ã€‚</p>
<h3 data-id="heading-8">4.1 é«˜å¹¶å‘ä¸‹çš„é—®é¢˜</h3>
<p>å‡è®¾åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸­ï¼ŒåŒä¸€ä¸ªç”¨æˆ·çš„åŒä¸€æ¡æ•°æ®ï¼Œæœ‰ä¸€ä¸ªè¯»æ•°æ®è¯·æ±‚cï¼Œè¿˜æœ‰å¦ä¸€ä¸ªå†™æ•°æ®è¯·æ±‚dï¼ˆä¸€ä¸ªæ›´æ–°æ“ä½œï¼‰ï¼ŒåŒæ—¶è¯·æ±‚åˆ°ä¸šåŠ¡ç³»ç»Ÿã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aafcb1ecde5e4175960f7647dfc86685~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=%2BEorghdKkk4FqtdQ67ZsEPqdyKM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>è¯·æ±‚då…ˆè¿‡æ¥ï¼ŒæŠŠç¼“å­˜åˆ é™¤äº†ã€‚ä½†ç”±äºç½‘ç»œåŸå› ï¼Œå¡é¡¿äº†ä¸€ä¸‹ï¼Œè¿˜æ²¡æ¥å¾—åŠå†™æ•°æ®åº“ã€‚</li>
<li>è¿™æ—¶è¯·æ±‚cè¿‡æ¥äº†ï¼Œå…ˆæŸ¥ç¼“å­˜å‘ç°æ²¡æ•°æ®ï¼Œå†æŸ¥æ•°æ®åº“ï¼Œæœ‰æ•°æ®ï¼Œä½†æ˜¯æ—§å€¼ã€‚</li>
<li>è¯·æ±‚cå°†æ•°æ®åº“ä¸­çš„æ—§å€¼ï¼Œæ›´æ–°åˆ°ç¼“å­˜ä¸­ã€‚</li>
<li>æ­¤æ—¶ï¼Œè¯·æ±‚då¡é¡¿ç»“æŸï¼ŒæŠŠæ–°å€¼å†™å…¥æ•°æ®åº“ã€‚</li>
</ol>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­ï¼Œè¯·æ±‚dçš„æ–°å€¼å¹¶æ²¡æœ‰è¢«è¯·æ±‚cå†™å…¥ç¼“å­˜ï¼ŒåŒæ ·ä¼šå¯¼è‡´ç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<p>é‚£ä¹ˆï¼Œè¿™ç§åœºæ™¯çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œèƒ½å¦è§£å†³å‘¢ï¼Ÿ</p>
<h3 data-id="heading-9">4.2 ç¼“å­˜åŒåˆ </h3>
<p>åœ¨ä¸Šé¢çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸€ä¸ªè¯»æ•°æ®è¯·æ±‚ï¼Œä¸€ä¸ªå†™æ•°æ®è¯·æ±‚ã€‚å½“å†™æ•°æ®è¯·æ±‚æŠŠç¼“å­˜åˆ äº†ä¹‹åï¼Œè¯»æ•°æ®è¯·æ±‚ï¼Œå¯èƒ½æŠŠå½“æ—¶ä»æ•°æ®åº“æŸ¥è¯¢å‡ºæ¥çš„æ—§å€¼ï¼Œå†™å…¥ç¼“å­˜å½“ä¸­ã€‚</p>
<p>æœ‰äººè¯´è¿˜ä¸å¥½åŠï¼Œè¯·æ±‚dåœ¨å†™å®Œæ•°æ®åº“ä¹‹åï¼ŒæŠŠç¼“å­˜é‡æ–°åˆ ä¸€æ¬¡ä¸å°±è¡Œäº†ï¼Ÿ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8dead9a62924d649a661603f3da2006~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=QCRVA2GKoilqFifUoscrAZXU4r0%3D" alt="å›¾ç‰‡" loading="lazy"/>è¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„<code>ç¼“å­˜åŒåˆ </code>ï¼Œå³åœ¨å†™æ•°æ®åº“ä¹‹å‰åˆ é™¤ä¸€æ¬¡ï¼Œå†™å®Œæ•°æ®åº“åï¼Œå†åˆ é™¤ä¸€æ¬¡ã€‚</p>
<p>è¯¥æ–¹æ¡ˆæœ‰ä¸ªéå¸¸å…³é”®çš„åœ°æ–¹æ˜¯ï¼šç¬¬äºŒæ¬¡åˆ é™¤ç¼“å­˜ï¼Œå¹¶éç«‹é©¬å°±åˆ ï¼Œè€Œæ˜¯è¦åœ¨ä¸€å®šçš„<code>æ—¶é—´é—´éš”</code>ä¹‹åã€‚</p>
<p>æˆ‘ä»¬å†é‡æ–°å›é¡¾ä¸€ä¸‹ï¼Œé«˜å¹¶å‘ä¸‹ä¸€ä¸ªè¯»æ•°æ®è¯·æ±‚ï¼Œä¸€ä¸ªå†™æ•°æ®è¯·æ±‚å¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„äº§ç”Ÿè¿‡ç¨‹ï¼š</p>
<ol>
<li>è¯·æ±‚då…ˆè¿‡æ¥ï¼ŒæŠŠç¼“å­˜åˆ é™¤äº†ã€‚ä½†ç”±äºç½‘ç»œåŸå› ï¼Œå¡é¡¿äº†ä¸€ä¸‹ï¼Œè¿˜æ²¡æ¥å¾—åŠå†™æ•°æ®åº“ã€‚</li>
<li>è¿™æ—¶è¯·æ±‚cè¿‡æ¥äº†ï¼Œå…ˆæŸ¥ç¼“å­˜å‘ç°æ²¡æ•°æ®ï¼Œå†æŸ¥æ•°æ®åº“ï¼Œæœ‰æ•°æ®ï¼Œä½†æ˜¯æ—§å€¼ã€‚</li>
<li>è¯·æ±‚cå°†æ•°æ®åº“ä¸­çš„æ—§å€¼ï¼Œæ›´æ–°åˆ°ç¼“å­˜ä¸­ã€‚</li>
<li>æ­¤æ—¶ï¼Œè¯·æ±‚då¡é¡¿ç»“æŸï¼ŒæŠŠæ–°å€¼å†™å…¥æ•°æ®åº“ã€‚</li>
<li>ä¸€æ®µæ—¶é—´ä¹‹åï¼Œæ¯”å¦‚ï¼š500msï¼Œè¯·æ±‚då°†ç¼“å­˜åˆ é™¤ã€‚</li>
</ol>
<p>è¿™æ ·æ¥çœ‹ç¡®å®å¯ä»¥è§£å†³ç¼“å­˜ä¸ä¸€è‡´é—®é¢˜ã€‚</p>
<p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸€å®šè¦é—´éš”ä¸€æ®µæ—¶é—´ä¹‹åï¼Œæ‰èƒ½åˆ é™¤ç¼“å­˜å‘¢ï¼Ÿ</p>
<p>è¯·æ±‚då¡é¡¿ç»“æŸï¼ŒæŠŠæ–°å€¼å†™å…¥æ•°æ®åº“åï¼Œè¯·æ±‚cå°†æ•°æ®åº“ä¸­çš„æ—§å€¼ï¼Œæ›´æ–°åˆ°ç¼“å­˜ä¸­ã€‚</p>
<p>æ­¤æ—¶ï¼Œå¦‚æœè¯·æ±‚dåˆ é™¤å¤ªå¿«ï¼Œåœ¨è¯·æ±‚cå°†æ•°æ®åº“ä¸­çš„æ—§å€¼æ›´æ–°åˆ°ç¼“å­˜ä¹‹å‰ï¼Œå°±å·²ç»æŠŠç¼“å­˜åˆ é™¤äº†ï¼Œè¿™æ¬¡åˆ é™¤å°±æ²¡ä»»ä½•æ„ä¹‰ã€‚å¿…é¡»è¦åœ¨è¯·æ±‚cæ›´æ–°ç¼“å­˜ä¹‹åï¼Œå†åˆ é™¤ç¼“å­˜ï¼Œæ‰èƒ½æŠŠæ—§å€¼åŠæ—¶åˆ é™¤äº†ã€‚</p>
<p>æ‰€ä»¥éœ€è¦åœ¨è¯·æ±‚dä¸­åŠ ä¸€ä¸ªæ—¶é—´é—´éš”ï¼Œç¡®ä¿è¯·æ±‚cï¼Œæˆ–è€…ç±»ä¼¼äºè¯·æ±‚cçš„å…¶ä»–è¯·æ±‚ï¼Œå¦‚æœåœ¨ç¼“å­˜ä¸­è®¾ç½®äº†æ—§å€¼ï¼Œæœ€ç»ˆéƒ½èƒ½å¤Ÿè¢«è¯·æ±‚dåˆ é™¤æ‰ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœç¬¬äºŒæ¬¡åˆ é™¤ç¼“å­˜æ—¶ï¼Œåˆ é™¤å¤±è´¥äº†è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>è¿™é‡Œå…ˆç•™ç‚¹æ‚¬å¿µï¼Œåé¢ä¼šè¯¦ç»†è¯´ã€‚</p>
<h2 data-id="heading-10">5. å…ˆå†™æ•°æ®åº“ï¼Œå†åˆ ç¼“å­˜</h2>
<p>ä»å‰é¢å¾—çŸ¥ï¼Œå…ˆåˆ ç¼“å­˜ï¼Œå†å†™æ•°æ®åº“ï¼Œåœ¨å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯èƒ½ä¼šå‡ºç°ç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬åªèƒ½å¯„å¸Œæœ›äºæœ€åçš„æ–¹æ¡ˆäº†ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é‡ç‚¹çœ‹çœ‹å…ˆå†™æ•°æ®åº“ï¼Œå†åˆ ç¼“å­˜çš„æ–¹æ¡ˆã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e459b9d9abb4c72b558f94dad661d07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=jAxAMY7EYCeOYEUlMOxzsFv%2BeGI%3D" alt="å›¾ç‰‡" loading="lazy"/>åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸­ï¼Œæœ‰ä¸€ä¸ªè¯»æ•°æ®è¯·æ±‚ï¼Œæœ‰ä¸€ä¸ªå†™æ•°æ®è¯·æ±‚ï¼Œæ›´æ–°è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>è¯·æ±‚eå…ˆå†™æ•°æ®åº“ï¼Œç”±äºç½‘ç»œåŸå› å¡é¡¿äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰æ¥å¾—åŠåˆ é™¤ç¼“å­˜ã€‚</li>
<li>è¯·æ±‚fæŸ¥è¯¢ç¼“å­˜ï¼Œå‘ç°ç¼“å­˜ä¸­æœ‰æ•°æ®ï¼Œç›´æ¥è¿”å›è¯¥æ•°æ®ã€‚</li>
<li>è¯·æ±‚eåˆ é™¤ç¼“å­˜ã€‚</li>
</ol>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œåªæœ‰è¯·æ±‚fè¯»äº†ä¸€æ¬¡æ—§æ•°æ®ï¼Œåæ¥æ—§æ•°æ®è¢«è¯·æ±‚eåŠæ—¶åˆ é™¤äº†ï¼Œçœ‹èµ·æ¥é—®é¢˜ä¸å¤§ã€‚</p>
<p>ä½†å¦‚æœæ˜¯è¯»æ•°æ®è¯·æ±‚å…ˆè¿‡æ¥å‘¢ï¼Ÿ</p>
<ol>
<li>è¯·æ±‚fæŸ¥è¯¢ç¼“å­˜ï¼Œå‘ç°ç¼“å­˜ä¸­æœ‰æ•°æ®ï¼Œç›´æ¥è¿”å›è¯¥æ•°æ®ã€‚</li>
<li>è¯·æ±‚eå…ˆå†™æ•°æ®åº“ã€‚</li>
<li>è¯·æ±‚eåˆ é™¤ç¼“å­˜ã€‚</li>
</ol>
<p>è¿™ç§æƒ…å†µçœ‹èµ·æ¥ä¹Ÿæ²¡é—®é¢˜å‘€ï¼Ÿ</p>
<p>ç­”ï¼šå¯¹çš„ã€‚</p>
<p>ä½†å°±æ€•å‡ºç°ä¸‹é¢è¿™ç§æƒ…å†µï¼Œå³ç¼“å­˜è‡ªå·±å¤±æ•ˆäº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a4eef2c748b415f847bcd4f43089a8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=bb3%2FaZzzHnXKveHWdIPWpBoi7W0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>ç¼“å­˜è¿‡æœŸæ—¶é—´åˆ°äº†ï¼Œè‡ªåŠ¨å¤±æ•ˆã€‚</li>
<li>è¯·æ±‚fæŸ¥è¯¢ç¼“å­˜ï¼Œå‘ç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®ï¼ŒæŸ¥è¯¢æ•°æ®åº“çš„æ—§å€¼ï¼Œä½†ç”±äºç½‘ç»œåŸå› å¡é¡¿äº†ï¼Œæ²¡æœ‰æ¥å¾—åŠæ›´æ–°ç¼“å­˜ã€‚</li>
<li>è¯·æ±‚eå…ˆå†™æ•°æ®åº“ï¼Œæ¥ç€åˆ é™¤äº†ç¼“å­˜ã€‚</li>
<li>è¯·æ±‚fæ›´æ–°æ—§å€¼åˆ°ç¼“å­˜ä¸­ã€‚</li>
</ol>
<p>è¿™æ—¶ï¼Œç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®åŒæ ·å‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µäº†ã€‚</p>
<p>ä½†è¿™ç§æƒ…å†µè¿˜æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œéœ€è¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰å¯ä»¥ï¼š</p>
<ol>
<li>ç¼“å­˜åˆšå¥½è‡ªåŠ¨å¤±æ•ˆã€‚</li>
<li>è¯·æ±‚fä»æ•°æ®åº“æŸ¥å‡ºæ—§å€¼ï¼Œæ›´æ–°ç¼“å­˜çš„è€—æ—¶ï¼Œæ¯”è¯·æ±‚eå†™æ•°æ®åº“ï¼Œå¹¶ä¸”åˆ é™¤ç¼“å­˜çš„è¿˜é•¿ã€‚</li>
</ol>
<p>æˆ‘ä»¬éƒ½çŸ¥é“æŸ¥è¯¢æ•°æ®åº“çš„é€Ÿåº¦ï¼Œä¸€èˆ¬æ¯”å†™æ•°æ®åº“è¦å¿«ï¼Œæ›´ä½•å†µå†™å®Œæ•°æ®åº“ï¼Œè¿˜è¦åˆ é™¤ç¼“å­˜ã€‚æ‰€ä»¥ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå†™æ•°æ®è¯·æ±‚æ¯”è¯»æ•°æ®æƒ…å†µè€—æ—¶æ›´é•¿ã€‚</p>
<p>ç”±æ­¤å¯è§ï¼Œç³»ç»ŸåŒæ—¶æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶çš„æ¦‚ç‡éå¸¸å°ã€‚</p>
<blockquote>
<p>æ¨èå¤§å®¶ä½¿ç”¨å…ˆå†™æ•°æ®åº“ï¼Œå†åˆ ç¼“å­˜çš„æ–¹æ¡ˆï¼Œè™½è¯´ä¸èƒ½100%é¿å…æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œä½†å‡ºç°è¯¥é—®é¢˜çš„æ¦‚ç‡ï¼Œç›¸å¯¹äºå…¶ä»–æ–¹æ¡ˆæ¥è¯´æ˜¯æœ€å°çš„ã€‚</p>
</blockquote>
<p>ä½†åœ¨è¯¥æ–¹æ¡ˆä¸­ï¼Œå¦‚æœåˆ é™¤ç¼“å­˜å¤±è´¥äº†è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<h2 data-id="heading-11">6. åˆ ç¼“å­˜å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</h2>
<p>å…¶å®å…ˆå†™æ•°æ®åº“ï¼Œå†åˆ ç¼“å­˜çš„æ–¹æ¡ˆï¼Œè·Ÿç¼“å­˜åŒåˆ çš„æ–¹æ¡ˆä¸€æ ·ï¼Œæœ‰ä¸€ä¸ªå…±åŒçš„é£é™©ç‚¹ï¼Œå³ï¼šå¦‚æœç¼“å­˜åˆ é™¤å¤±è´¥äº†ï¼Œä¹Ÿä¼šå¯¼è‡´ç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®ä¸ä¸€è‡´ã€‚</p>
<p>é‚£ä¹ˆï¼Œåˆ é™¤ç¼“å­˜å¤±è´¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>ç­”ï¼šéœ€è¦åŠ <code>é‡è¯•æœºåˆ¶</code>ã€‚</p>
<p>åœ¨æ¥å£ä¸­å¦‚æœæ›´æ–°äº†æ•°æ®åº“æˆåŠŸäº†ï¼Œä½†æ›´æ–°ç¼“å­˜å¤±è´¥äº†ï¼Œå¯ä»¥ç«‹åˆ»é‡è¯•3æ¬¡ã€‚å¦‚æœå…¶ä¸­æœ‰ä»»ä½•ä¸€æ¬¡æˆåŠŸï¼Œåˆ™ç›´æ¥è¿”å›æˆåŠŸã€‚å¦‚æœ3æ¬¡éƒ½å¤±è´¥äº†ï¼Œåˆ™å†™å…¥æ•°æ®åº“ï¼Œå‡†å¤‡åç»­å†å¤„ç†ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ åœ¨æ¥å£ä¸­ç›´æ¥<code>åŒæ­¥é‡è¯•</code>ï¼Œè¯¥æ¥å£å¹¶å‘é‡æ¯”è¾ƒé«˜çš„æ—¶å€™ï¼Œå¯èƒ½æœ‰ç‚¹å½±å“æ¥å£æ€§èƒ½ã€‚</p>
<p>è¿™æ—¶ï¼Œå°±éœ€è¦æ”¹æˆ<code>å¼‚æ­¥é‡è¯•</code>äº†ã€‚</p>
<p>å¼‚æ­¥é‡è¯•æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>æ¯æ¬¡éƒ½å•ç‹¬èµ·ä¸€ä¸ªçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹ä¸“é—¨åšé‡è¯•çš„å·¥ä½œã€‚ä½†å¦‚æœåœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤ªå¤šçš„çº¿ç¨‹ï¼Œå¯¼è‡´ç³»ç»ŸOOMé—®é¢˜ï¼Œä¸å¤ªå»ºè®®ä½¿ç”¨ã€‚</li>
<li>å°†é‡è¯•çš„ä»»åŠ¡äº¤ç»™çº¿ç¨‹æ± å¤„ç†ï¼Œä½†å¦‚æœæœåŠ¡å™¨é‡å¯ï¼Œéƒ¨åˆ†æ•°æ®å¯èƒ½ä¼šä¸¢å¤±ã€‚</li>
<li>å°†é‡è¯•æ•°æ®å†™è¡¨ï¼Œç„¶åä½¿ç”¨elastic-jobç­‰å®šæ—¶ä»»åŠ¡è¿›è¡Œé‡è¯•ã€‚</li>
<li>å°†é‡è¯•çš„è¯·æ±‚å†™å…¥mqç­‰æ¶ˆæ¯ä¸­é—´ä»¶ä¸­ï¼Œåœ¨mqçš„consumerä¸­å¤„ç†ã€‚</li>
<li>è®¢é˜…mysqlçš„binlogï¼Œåœ¨è®¢é˜…è€…ä¸­ï¼Œå¦‚æœå‘ç°äº†æ›´æ–°æ•°æ®è¯·æ±‚ï¼Œåˆ™åˆ é™¤ç›¸åº”çš„ç¼“å­˜ã€‚</li>
</ol>
<h2 data-id="heading-12">7. å®šæ—¶ä»»åŠ¡</h2>
<p>ä½¿ç”¨<code>å®šæ—¶ä»»åŠ¡é‡è¯•</code>çš„å…·ä½“æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ol>
<li>å½“ç”¨æˆ·æ“ä½œå†™å®Œæ•°æ®åº“ï¼Œä½†åˆ é™¤ç¼“å­˜å¤±è´¥äº†ï¼Œéœ€è¦å°†ç”¨æˆ·æ•°æ®å†™å…¥é‡è¯•è¡¨ä¸­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/995835168d7f485cb54bb622672732d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=HXfoRmVzZ5Va3fW3nXTH%2F3kvIZQ%3D" alt="å›¾ç‰‡" loading="lazy"/></li>
<li>åœ¨å®šæ—¶ä»»åŠ¡ä¸­ï¼Œå¼‚æ­¥è¯»å–é‡è¯•è¡¨ä¸­çš„ç”¨æˆ·æ•°æ®ã€‚é‡è¯•è¡¨éœ€è¦è®°å½•ä¸€ä¸ªé‡è¯•æ¬¡æ•°å­—æ®µï¼Œåˆå§‹å€¼ä¸º0ã€‚ç„¶åé‡è¯•5æ¬¡ï¼Œä¸æ–­åˆ é™¤ç¼“å­˜ï¼Œæ¯é‡è¯•ä¸€æ¬¡è¯¥å­—æ®µå€¼+1ã€‚å¦‚æœå…¶ä¸­æœ‰ä»»æ„ä¸€æ¬¡æˆåŠŸäº†ï¼Œåˆ™è¿”å›æˆåŠŸã€‚å¦‚æœé‡è¯•äº†5æ¬¡ï¼Œè¿˜æ˜¯å¤±è´¥ï¼Œåˆ™æˆ‘ä»¬éœ€è¦åœ¨é‡è¯•è¡¨ä¸­è®°å½•ä¸€ä¸ªå¤±è´¥çš„çŠ¶æ€ï¼Œç­‰å¾…åç»­è¿›ä¸€æ­¥å¤„ç†ã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0973d052f4c54511b1adb25371eeeea4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=93QpTtwVH4h%2B65jrs3unUR7g%2FBI%3D" alt="å›¾ç‰‡" loading="lazy"/></li>
<li>åœ¨é«˜å¹¶å‘åœºæ™¯ä¸­ï¼Œå®šæ—¶ä»»åŠ¡æ¨èä½¿ç”¨<code>elastic-job</code>ã€‚ç›¸å¯¹äºxxl-jobç­‰å®šæ—¶ä»»åŠ¡ï¼Œå®ƒå¯ä»¥åˆ†ç‰‡å¤„ç†ï¼Œæå‡å¤„ç†é€Ÿåº¦ã€‚åŒæ—¶æ¯ç‰‡çš„é—´éš”å¯ä»¥è®¾ç½®æˆï¼š1,2,3,5,7ç§’ç­‰ã€‚</li>
</ol>
<p>å¦‚æœå¤§å®¶å¯¹å®šæ—¶ä»»åŠ¡æ¯”è¾ƒæ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwNjMwMTgzMQ%3D%3D%26mid%3D2247490314%26idx%3D1%26sn%3D29ddf0c1e99675b86cdfc082556a69a9%26chksm%3Dc0ebc3e2f79c4af43cf8582d41b0bc3ede57986cc6c115b103b586a2c7bddb4475555e919b20%26token%3D751314179%26lang%3Dzh_CN%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247490314&amp;idx=1&amp;sn=29ddf0c1e99675b86cdfc082556a69a9&amp;chksm=c0ebc3e2f79c4af43cf8582d41b0bc3ede57986cc6c115b103b586a2c7bddb4475555e919b20&amp;token=751314179&amp;lang=zh_CN&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å­¦ä¼šè¿™10ç§å®šæ—¶ä»»åŠ¡ï¼Œæˆ‘æœ‰ç‚¹é£˜äº†</a>ã€‹ï¼Œé‡Œé¢åˆ—å‡ºäº†ç›®å‰æœ€ä¸»æµçš„å®šæ—¶ä»»åŠ¡ã€‚</p>
<p>ä½¿ç”¨å®šæ—¶ä»»åŠ¡é‡è¯•çš„è¯ï¼Œæœ‰ä¸ªç¼ºç‚¹å°±æ˜¯å®æ—¶æ€§æ²¡é‚£ä¹ˆé«˜ï¼Œå¯¹äºå®æ—¶æ€§è¦æ±‚ç‰¹åˆ«é«˜çš„ä¸šåŠ¡åœºæ™¯ï¼Œè¯¥æ–¹æ¡ˆä¸å¤ªé€‚ç”¨ã€‚ä½†æ˜¯å¯¹äºä¸€èˆ¬åœºæ™¯ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨ä¸€ç”¨çš„ã€‚</p>
<p>ä½†å®ƒæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜ç‚¹ï¼Œå³æ•°æ®æ˜¯è½åº“çš„ï¼Œä¸ä¼šä¸¢æ•°æ®ã€‚</p>
<h2 data-id="heading-13">8. mq</h2>
<p>åœ¨é«˜å¹¶å‘çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œmqï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰æ˜¯å¿…ä¸å¯å°‘çš„æŠ€æœ¯ä¹‹ä¸€ã€‚å®ƒä¸ä»…å¯ä»¥å¼‚æ­¥è§£è€¦ï¼Œè¿˜èƒ½å‰Šå³°å¡«è°·ã€‚å¯¹ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ã€‚</p>
<p>å¯¹mqæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwNjMwMTgzMQ%3D%3D%26mid%3D2247490326%26idx%3D1%26sn%3D8acb7c030591932e4ddce5502fbc1382%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247490326&amp;idx=1&amp;sn=8acb7c030591932e4ddce5502fbc1382&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">mqçš„é‚£äº›ç ´äº‹å„¿</a>ã€‹ã€‚</p>
<p>mqçš„ç”Ÿäº§è€…ï¼Œç”Ÿäº§äº†æ¶ˆæ¯ä¹‹åï¼Œé€šè¿‡æŒ‡å®šçš„topicå‘é€åˆ°mqæœåŠ¡å™¨ã€‚ç„¶åmqçš„æ¶ˆè´¹è€…ï¼Œè®¢é˜…è¯¥topicçš„æ¶ˆæ¯ï¼Œè¯»å–æ¶ˆæ¯æ•°æ®ä¹‹åï¼Œåšä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚</p>
<p>ä½¿ç”¨<code>mqé‡è¯•</code>çš„å…·ä½“æ–¹æ¡ˆå¦‚ä¸‹ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4280390ccd794a27b6a9486335dc0199~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=GWifS5qmt8kB%2ByHjV447rWtYwe8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>å½“ç”¨æˆ·æ“ä½œå†™å®Œæ•°æ®åº“ï¼Œä½†åˆ é™¤ç¼“å­˜å¤±è´¥äº†ï¼Œäº§ç”Ÿä¸€æ¡mqæ¶ˆæ¯ï¼Œå‘é€ç»™mqæœåŠ¡å™¨ã€‚</li>
<li>mqæ¶ˆè´¹è€…è¯»å–mqæ¶ˆæ¯ï¼Œé‡è¯•5æ¬¡åˆ é™¤ç¼“å­˜ã€‚å¦‚æœå…¶ä¸­æœ‰ä»»æ„ä¸€æ¬¡æˆåŠŸäº†ï¼Œåˆ™è¿”å›æˆåŠŸã€‚å¦‚æœé‡è¯•äº†5æ¬¡ï¼Œè¿˜æ˜¯å¤±è´¥ï¼Œåˆ™å†™å…¥<code>æ­»ä¿¡é˜Ÿåˆ—</code>ä¸­ã€‚</li>
<li>æ¨èmqä½¿ç”¨<code>rocketmq</code>ï¼Œé‡è¯•æœºåˆ¶å’Œæ­»ä¿¡é˜Ÿåˆ—é»˜è®¤æ˜¯æ”¯æŒçš„ã€‚ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œè€Œä¸”è¿˜æ”¯æŒé¡ºåºæ¶ˆæ¯ï¼Œå»¶è¿Ÿæ¶ˆæ¯å’Œäº‹åŠ¡æ¶ˆæ¯ç­‰å¤šç§ä¸šåŠ¡åœºæ™¯ã€‚</li>
</ol>
<p>å½“ç„¶åœ¨è¯¥æ–¹æ¡ˆä¸­ï¼Œåˆ é™¤ç¼“å­˜å¯ä»¥å®Œå…¨èµ°å¼‚æ­¥ã€‚å³ç”¨æˆ·çš„å†™æ“ä½œï¼Œåœ¨å†™å®Œæ•°æ®åº“ä¹‹åï¼Œä¸ç”¨ç«‹åˆ»åˆ é™¤ä¸€æ¬¡ç¼“å­˜ã€‚è€Œç›´æ¥å‘é€mqæ¶ˆæ¯ï¼Œåˆ°mqæœåŠ¡å™¨ï¼Œç„¶åæœ‰mqæ¶ˆè´¹è€…å…¨æƒè´Ÿè´£åˆ é™¤ç¼“å­˜çš„ä»»åŠ¡ã€‚</p>
<p>å› ä¸ºmqçš„å®æ—¶æ€§è¿˜æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå› æ­¤æ”¹è‰¯åçš„æ–¹æ¡ˆä¹Ÿæ˜¯ä¸€ç§ä¸é”™çš„é€‰æ‹©ã€‚</p>
<h2 data-id="heading-14">9. binlog</h2>
<p>å‰é¢æˆ‘ä»¬èŠè¿‡çš„ï¼Œæ— è®ºæ˜¯å®šæ—¶ä»»åŠ¡ï¼Œè¿˜æ˜¯mqï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œåšé‡è¯•æœºåˆ¶ï¼Œå¯¹ä¸šåŠ¡éƒ½æœ‰ä¸€å®šçš„ä¾µå…¥æ€§ã€‚</p>
<p>åœ¨ä½¿ç”¨å®šæ—¶ä»»åŠ¡çš„æ–¹æ¡ˆä¸­ï¼Œéœ€è¦åœ¨ä¸šåŠ¡ä»£ç ä¸­å¢åŠ é¢å¤–é€»è¾‘ï¼Œå¦‚æœåˆ é™¤ç¼“å­˜å¤±è´¥ï¼Œéœ€è¦å°†æ•°æ®å†™å…¥é‡è¯•è¡¨ã€‚</p>
<p>è€Œä½¿ç”¨mqçš„æ–¹æ¡ˆä¸­ï¼Œå¦‚æœåˆ é™¤ç¼“å­˜å¤±è´¥äº†ï¼Œéœ€è¦åœ¨ä¸šåŠ¡ä»£ç ä¸­å‘é€mqæ¶ˆæ¯åˆ°mqæœåŠ¡å™¨ã€‚</p>
<p>å…¶å®ï¼Œè¿˜æœ‰ä¸€ç§æ›´ä¼˜é›…çš„å®ç°ï¼Œå³<code>ç›‘å¬binlog</code>ï¼Œæ¯”å¦‚ä½¿ç”¨ï¼š<code>canal</code>ç­‰ä¸­é—´ä»¶ã€‚</p>
<p>å…·ä½“æ–¹æ¡ˆå¦‚ä¸‹ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9430430455cb4e91a0291fc3d89eea25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=z1U%2BxZNcznP5kJq3ToyKo%2Bncz3U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>åœ¨ä¸šåŠ¡æ¥å£ä¸­å†™æ•°æ®åº“ä¹‹åï¼Œå°±ä¸ç®¡äº†ï¼Œç›´æ¥è¿”å›æˆåŠŸã€‚</li>
<li>mysqlæœåŠ¡å™¨ä¼šè‡ªåŠ¨æŠŠå˜æ›´çš„æ•°æ®å†™å…¥binlogä¸­ã€‚</li>
<li>binlogè®¢é˜…è€…è·å–å˜æ›´çš„æ•°æ®ï¼Œç„¶ååˆ é™¤ç¼“å­˜ã€‚</li>
</ol>
<p>è¿™å¥—æ–¹æ¡ˆä¸­ä¸šåŠ¡æ¥å£ç¡®å®ç®€åŒ–äº†ä¸€äº›æµç¨‹ï¼Œåªç”¨å…³å¿ƒæ•°æ®åº“æ“ä½œå³å¯ï¼Œè€Œåœ¨binlogè®¢é˜…è€…ä¸­åšç¼“å­˜åˆ é™¤å·¥ä½œã€‚</p>
<p>ä½†å¦‚æœåªæ˜¯æŒ‰ç…§å›¾ä¸­çš„æ–¹æ¡ˆè¿›è¡Œåˆ é™¤ç¼“å­˜ï¼Œåªåˆ é™¤äº†ä¸€æ¬¡ï¼Œä¹Ÿå¯èƒ½ä¼šå¤±è´¥ã€‚</p>
<p>å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p>
<p>ç­”ï¼šè¿™å°±éœ€è¦åŠ ä¸Šå‰é¢èŠè¿‡çš„<code>é‡è¯•æœºåˆ¶</code>äº†ã€‚å¦‚æœåˆ é™¤ç¼“å­˜å¤±è´¥ï¼Œå†™å…¥é‡è¯•è¡¨ï¼Œä½¿ç”¨å®šæ—¶ä»»åŠ¡é‡è¯•ã€‚æˆ–è€…å†™å…¥mqï¼Œè®©mqè‡ªåŠ¨é‡è¯•ã€‚</p>
<p>åœ¨è¿™é‡Œæ¨èä½¿ç”¨<code>mqè‡ªåŠ¨é‡è¯•æœºåˆ¶</code>ã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6cb348461b341228da1a0998b4f3766~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769479027&amp;x-signature=T8Hq%2Fs%2BdTKMkMkuSPLhtSDSHp98%3D" alt="å›¾ç‰‡" loading="lazy"/>åœ¨binlogè®¢é˜…è€…ä¸­å¦‚æœåˆ é™¤ç¼“å­˜å¤±è´¥ï¼Œåˆ™å‘é€ä¸€æ¡mqæ¶ˆæ¯åˆ°mqæœåŠ¡å™¨ï¼Œåœ¨mqæ¶ˆè´¹è€…ä¸­è‡ªåŠ¨é‡è¯•5æ¬¡ã€‚å¦‚æœæœ‰ä»»æ„ä¸€æ¬¡æˆåŠŸï¼Œåˆ™ç›´æ¥è¿”å›æˆåŠŸã€‚å¦‚æœé‡è¯•5æ¬¡åè¿˜æ˜¯å¤±è´¥ï¼Œåˆ™è¯¥æ¶ˆæ¯è‡ªåŠ¨è¢«æ”¾å…¥æ­»ä¿¡é˜Ÿåˆ—ï¼Œåé¢å¯èƒ½éœ€è¦äººå·¥ä»‹å…¥ã€‚</p>
<h2 data-id="heading-15">æœ€åè¯´ä¸€å¥(æ±‚å…³æ³¨ï¼Œåˆ«ç™½å«–æˆ‘)</h2>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…æœ‰æ‰€å¯å‘çš„è¯ï¼Œå¸®å¿™å…³æ³¨ä¸€ä¸‹æˆ‘çš„åŒåå…¬ä¼—å·ï¼šè‹ä¸‰è¯´æŠ€æœ¯ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œæœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>æ±‚ä¸€é”®ä¸‰è¿ï¼šç‚¹èµã€è½¬å‘ã€åœ¨çœ‹ã€‚</p>
<p>å…³æ³¨å…¬ä¼—å·ï¼šã€è‹ä¸‰è¯´æŠ€æœ¯ã€‘ï¼Œåœ¨å…¬ä¼—å·ä¸­å›å¤ï¼šè¿›å¤§å‚ï¼Œå¯ä»¥å…è´¹è·å–æˆ‘æœ€è¿‘æ•´ç†çš„10ä¸‡å­—çš„é¢è¯•å®å…¸ï¼Œå¥½å¤šå°ä¼™ä¼´é è¿™ä¸ªå®å…¸æ‹¿åˆ°äº†å¤šå®¶å¤§å‚çš„offerã€‚</p>
<p>æ›´å¤šé¡¹ç›®å®æˆ˜ï¼šsusan.net.cn/project</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIè¾…åŠ©ç ”å‘çš„è½åœ°å®è·µï¼šå·¥å…·ã€æ•ˆç‡ä¸æˆé•¿]]></title>    <link>https://juejin.cn/post/7596932640727056419</link>    <guid>https://juejin.cn/post/7596932640727056419</guid>    <pubDate>2026-01-20T01:54:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596932640727056419" data-draft-id="7594655863547527220" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIè¾…åŠ©ç ”å‘çš„è½åœ°å®è·µï¼šå·¥å…·ã€æ•ˆç‡ä¸æˆé•¿"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-20T01:54:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ”¿é‡‡äº‘æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3456520257288974"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIè¾…åŠ©ç ”å‘çš„è½åœ°å®è·µï¼šå·¥å…·ã€æ•ˆç‡ä¸æˆé•¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3456520257288974/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ”¿é‡‡äº‘æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T01:54:33.000Z" title="Tue Jan 20 2026 01:54:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»35åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b637793da67b4e068460a99d94b333ed~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=4722&amp;h=696&amp;s=276733&amp;e=png&amp;b=fafcff" alt="æ–‡ç« é¡¶éƒ¨.png" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75673793cb9e4e8e961d830824affd4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=bi8BWlMHR8C%2Fp0vZ0RE8aMixmDg%3D" alt="ä½œè€…å¡ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-0">AIè¾…åŠ©ç ”å‘çš„è½åœ°å®è·µï¼šå·¥å…·ã€æ•ˆç‡ä¸æˆé•¿</h2>
<h3 data-id="heading-1">å¼•è¨€ï¼šAIè¾…åŠ©ç ”å‘çš„æ„ä¹‰</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ad08daf14d74f249070642fcf1b51cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=otT8BqvW8KEDN5gJtCiDSMPXXs0%3D" alt="image.png" loading="lazy"/></p>
<p>ç°å¦‚ä»Šï¼Œéšç€ä¼ä¸šå†…éƒ¨ç³»ç»Ÿä¸æ–­æ¼”è¿›ã€ä¸šåŠ¡å¤æ‚åº¦çš„æŒç»­æ”€å‡ï¼Œç ”å‘å›¢é˜Ÿæ‰€é¢ä¸´çš„æŒ‘æˆ˜å·²è¿œè¶…ä»¥å¾€ï¼šéœ€æ±‚å˜åŒ–æ›´å¿«ã€åä½œé“¾è·¯æ›´é•¿ã€äº§å“äº¤ä»˜èŠ‚å¥æ›´ç´§å‡‘ã€‚åœ¨è¿™æ ·çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿåœ¨æ—¥å¸¸å·¥ä½œå®è·µä¸­ä¸æ–­é‡åˆ°å¤§é‡å¯è‡ªåŠ¨åŒ–ã€å¯ææ•ˆçš„ç¯èŠ‚ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>é‡å¤æ€§çš„ä»£ç ç¼–å†™</li>
<li>ä»£ç è§„èŒƒæ£€æŸ¥</li>
<li>æ–‡æ¡£çŸ¥è¯†çš„æ£€ç´¢</li>
<li>å„ç±»å·¥å…·çš„æ„å»º</li>
<li>......</li>
</ul>
<p>è¿™äº›å·¥ä½œå†…å®¹éšç€é¡¹ç›®æ¨è¿›ä¸æ–­ç´¯ç§¯ï¼Œé€æ¸æˆä¸ºå½±å“æ•´ä½“äº¤ä»˜è´¨é‡çš„éšå½¢æˆæœ¬ã€‚</p>
<p>ä¼ ç»Ÿçš„ç ”å‘ä¸»è¦ä¾é ç»éªŒå’ŒäººåŠ›è¿›è¡Œæ¨è¿›ï¼Œè€ŒÂ AIÂ çš„åŠ å…¥ï¼Œä»¿ä½›ä¸ºæ¯ä½å·¥ç¨‹å¸ˆé…å¤‡äº†ä¸€ä½â€œæŠ€æœ¯åˆä¼™äººâ€â€”å®ƒèƒ½åœ¨æ¶æ„ã€è®¾è®¡ã€æ–‡æ¡£ã€ç¼–ç ã€è°ƒè¯•ç­‰å¤šä¸ªç¯èŠ‚ç»™æˆ‘ä»¬åé¦ˆï¼Œå‡å°‘æˆ‘ä»¬çš„å·¥ä½œé‡ï¼Œå°†æ›´å¤šç²¾åŠ›æŠ•å…¥åˆ°æ›´å…·åˆ›é€ æ€§çš„å·¥ä½œä¸­ã€‚(ç®€å•æ¥è¯´ï¼Œè„æ´»ç´¯æ´»äº¤ç»™Â AIï¼Œæˆ‘ä»¬è´Ÿè´£æŠŠæ§å¤§æ–¹å‘)</p>
<p>AIÂ è¾…åŠ©ç ”å‘çš„æ„ä¹‰ï¼Œä¸ä»…åœ¨äºæå‡æ•ˆç‡ï¼Œæ›´åœ¨äºè®©æŠ€æœ¯å›¢é˜Ÿåœ¨å¤æ‚åº¦ä¸æ–­æå‡çš„æ—¶ä»£ä»èƒ½ä¿æŒé«˜å“è´¨ä¸æŒç»­æ¼”è¿›çš„èƒ½åŠ›ã€‚å®è·µä¸­ä¹Ÿä¸æ–­è¯æ˜ï¼Œå–„ç”¨Â AIÂ çš„ç ”å‘æ–¹å¼ï¼Œèƒ½å¤Ÿæ˜¾è‘—é™ä½å¼€å‘æˆæœ¬ã€ç¼©çŸ­äº¤ä»˜å‘¨æœŸï¼Œå¹¶æå‡æ•´ä½“äº§èƒ½ã€‚</p>
<blockquote>
<p>å¯¹äºç»å¤§å¤šæ•°å¼€å‘è€…æ¥è¯´ï¼Œæ“…é•¿ä½¿ç”¨AIèƒ½èŠ‚çœæœ€å°‘50%çš„å¼€å‘æˆæœ¬ã€‚</p>
</blockquote>
<p>æ¥ä¸‹æ¥ï¼Œæœ¬æ–‡å°†ä»â€œå·¥å…·å®è·µâ€ä¸â€œä¸ªäººæˆé•¿â€ä¸¤ä¸ªç»´åº¦ï¼Œåˆ†äº«æˆ‘åœ¨Â AIÂ è¾…åŠ©ç ”å‘æ–¹é¢çš„è½åœ°ç»éªŒä¸æ€è€ƒï¼Œå¸Œæœ›èƒ½ä¸ºå¤§å®¶å¸¦æ¥ä¸€äº›å‚è€ƒä¸å¯å‘ã€‚</p>
<blockquote>
<p>ğŸ’¡æç¤ºï¼šæœ¬æ–‡å°†ä¸æ¶‰åŠä»»ä½•å…·ä½“çš„ä»£ç å®ç°æˆ–æŠ€æœ¯ç»†èŠ‚ï¼Œè¿™äº›å†…å®¹ä¹Ÿä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´ä¹‹å†…ã€‚æœ¬æ–‡å°†ä»…ä»å¼€å‘è€…è§†è§’å‡ºå‘ï¼Œåˆ†äº«åœ¨å®é™…ç ”å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•å€ŸåŠ©Â AIÂ è¾…åŠ©å®Œæˆéœ€æ±‚åˆ†æã€èƒ½åŠ›è§„åˆ’ä¸æ–¹æ¡ˆæ¢³ç†ç­‰å·¥ä½œæ–¹æ³•ã€‚</p>
</blockquote>
<h3 data-id="heading-2">ä¸€ã€ä¼ä¸šçº§ <code>VSCode</code> æ’ä»¶å¼€å‘å®è·µ</h3>
<h4 data-id="heading-3">1.1ã€èƒŒæ™¯ä¸ç—›ç‚¹</h4>
<p>åœ¨å‰ç«¯å¼€å‘ä½“ç³»ä¸æ–­æ¼”è¿›çš„ä»Šå¤©ï¼Œ<code>API</code>Â å·²ç»æˆä¸ºè´¯ç©¿ä¸šåŠ¡ã€é¡µé¢ä¸æœåŠ¡ä¹‹é—´çš„å…³é”®çº½å¸¦ã€‚ä½†æˆ‘ä»¬åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåœ¨æ¥å£ç®¡ç†ä¸Šä»é¢ä¸´è¯¸å¤šç—›ç‚¹ï¼Œè¿™é‡Œä»¥æˆ‘å¹³æ—¶å¼€å‘çš„å¼€å‘ç»å†ä¸ºä¾‹ï¼š</p>
<ul>
<li><strong>æ¥å£æ¥æºåˆ†æ•£</strong>ï¼šé¡¹ç›®ä¾èµ–çš„æ¥å£å¾€å¾€å­˜æ”¾åœ¨Â <code>YAPI</code>Â æˆ–ç¬¬ä¸‰æ–¹æ–‡æ¡£å¹³å°ä¸­ï¼ŒæŸ¥æ‰¾ä¸æ ¸å¯¹æˆæœ¬é«˜ã€‚</li>
<li><strong>ç±»å‹ç»´æŠ¤æˆæœ¬é«˜</strong>ï¼š<code>TypeScript</code>Â è™½ç„¶æå‡äº†ç±»å‹å®‰å…¨ï¼Œä½†è¿™ä¹Ÿæ„å‘³ç€æ¯æ¬¡æ¥å…¥æ–°æ¥å£ã€è°ƒæ•´å­—æ®µç»“æ„æ—¶ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æ‰‹åŠ¨è¡¥å……/ä¿®æ”¹å¯¹åº”çš„è¯·æ±‚ä¸å“åº”ç±»å‹ã€‚</li>
<li><strong>é‡å¤æ€§åŠ³åŠ¨é¢‘ç¹</strong>ï¼šæ¥å£ç»“æ„å˜æ›´åï¼Œå¼€å‘è€…ä¸å¾—ä¸åå¤åŒæ­¥æ–‡æ¡£ã€æ›´æ–°ç±»å‹æ–‡ä»¶ã€è°ƒæ•´è°ƒç”¨æ–¹å¼ï¼Œè¿™ç±»æœºæ¢°æ“ä½œæ—¢è€—æ—¶ä¹Ÿå®¹æ˜“é—æ¼ã€‚</li>
<li><strong>ç»„ä»¶åº“ä½¿ç”¨ç¼ºä¹â€œæ‰€è§å³æ‰€å¾—â€çš„æç¤ºä½“éªŒ</strong>ï¼šåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼ŒæŸ¥ç»„ä»¶å±æ€§ã€æŸ¥ç”¨æ³•ã€æŸ¥æ–‡æ¡£ä¹Ÿæ˜¯é«˜é¢‘åŠ¨ä½œï¼Œä½†åœ¨ç¼–è¾‘å™¨ä¸­å¹¶æ²¡æœ‰ç»Ÿä¸€çš„è¡¥å…¨ã€æç¤ºä¸è·³è½¬èƒ½åŠ›ã€‚</li>
</ul>
<p><strong>ç¹ççš„æ¥å£å®šä¹‰</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ˜¯å¦å¼€å¯æ™ºèƒ½ä½“-queryè¯·æ±‚å‚æ•°
 * <span class="hljs-doctag">@url</span> https://yapi.xxx.com/project/0000/interface/api/817314
 * <span class="hljs-doctag">@updateDate</span> 2025-08-21 15:23:33
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IApiProjectJudgementAiAgentIsOpenGetReqQuery</span> {
  id?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ˜¯å¦å¼€å¯æ™ºèƒ½ä½“-å“åº”ä½“
 * <span class="hljs-doctag">@url</span> https://yapi.xxx.com/project/0000/interface/api/817314
 * <span class="hljs-doctag">@updateDate</span> 2025-08-21 15:23:33
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IApiProjectJudgementAiAgentIsOpenGetResBody</span> {
  success?: <span class="hljs-built_in">boolean</span>;
  result?: <span class="hljs-built_in">boolean</span>;
  code?: <span class="hljs-built_in">string</span>;
  message?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ˜¯å¦å¼€å¯æ™ºèƒ½ä½“
 * <span class="hljs-doctag">@url</span> https://yapi.xxx.com/project/0000/interface/api/817314
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">apiProjectJudgementAiAgentIsOpenGet</span>(<span class="hljs-params">
  params: IApiProjectJudgementAiAgentIsOpenGetReqQuery,
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">IApiProjectJudgementAiAgentIsOpenGetResBody</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(<span class="hljs-string">'/api/project/judgement/ai/agent/isopen'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'get'</span>,
    params,
  });
}
</code></pre>
<p><strong>ç»„ä»¶å±æ€§æŸ¥çœ‹</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/201119c2de454575b1938553b95007f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=i36t3TiFG%2F3IoYP%2F%2BJsgR4GpmWY%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™äº›é—®é¢˜å åŠ åœ¨ä¸€èµ·ï¼Œè®©æœ¬è¯¥â€œè§„èŒƒé«˜æ•ˆâ€çš„Â <code>API</code>Â ç®¡ç†æµç¨‹å˜å¾—çç¢ä½æ•ˆï¼Œç”šè‡³å½±å“å›¢é˜Ÿæ•´ä½“çš„å¼€å‘ä½“éªŒä¸äº¤ä»˜è´¨é‡ã€‚</p>
<p>åŸºäºè¿™æ ·çœŸå®ä¸”åå¤å‡ºç°çš„å¼€å‘ç—›ç‚¹ï¼Œæˆ‘ä»¬å†³å®šå¼€å‘ä¸€æ¬¾Â <code>VSCode</code>Â æ’ä»¶ï¼Œé€šè¿‡å·¥å…·åŒ–çš„æ–¹å¼è§£å†³è¿™äº›å·¥ç¨‹ä¸­çš„â€œéšæ€§æˆæœ¬â€ï¼Œç»Ÿä¸€æ¥å£æ¥æºã€å‡å°‘é‡å¤åŠ³åŠ¨ï¼Œå¹¶è¡¥é½ç¼–è¾‘å™¨å†…çš„æç¤ºèƒ½åŠ›ï¼Œä»è€Œæå‡æ•´ä¸ªå›¢é˜Ÿçš„ç ”å‘æ•ˆç‡ã€‚</p>
<blockquote>
<p>åŒæ—¶ï¼Œéšç€Â AIÂ æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œå¼€å‘äººå‘˜åœ¨æ—¥å¸¸å·¥ä½œä¸­å·²æŒç»­ã€é«˜é¢‘åœ°æ¥è§¦å¹¶æ·±å…¥ä½¿ç”¨å„ç±»Â AIÂ å·¥å…·ã€‚åŸºäºè¿™ä¸€é•¿æœŸå®è·µä¸åé¦ˆæ²‰æ·€ï¼Œæˆ‘ä»¬é€æ­¥æ€»ç»“å¹¶å½¢æˆäº†ä¸€å¥—é€‚ç”¨äºå½“å‰é˜¶æ®µçš„ç ”å‘åä½œæµç¨‹ï¼Œç”¨ä»¥åœ¨ä¿éšœå·¥ç¨‹è´¨é‡ä¸å¯æ§æ€§çš„å‰æä¸‹ï¼Œå……åˆ†å‘æŒ¥Â AIÂ çš„è¾…åŠ©ä»·å€¼ã€‚</p>
</blockquote>
<h4 data-id="heading-4">1.2ã€è¾…åŠ©ç ”å‘æµç¨‹</h4>
<p>ä¸‹å›¾ä¸ºç®€æ˜“æµç¨‹å±•ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a503041784374e81be627b3e72c7e594~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=TC79H5%2BG5WWJ2rim%2BCxpD%2BUTkR0%3D" alt="image" loading="lazy"/></p>
<h5 data-id="heading-5">1.2.1ã€é˜¶æ®µä¸€ï¼šAIÂ ä¸»å¯¼ã€äººå·¥è¾…åŠ©ï¼ˆæ–¹æ¡ˆç”Ÿæˆé˜¶æ®µï¼‰</h5>
<p>æœ¬é˜¶æ®µçš„æ ¸å¿ƒç›®æ ‡æ˜¯<strong>å¿«é€Ÿå½¢æˆç»“æ„åŒ–ã€å¯è¯„å®¡çš„æ•´ä½“æ–¹æ¡ˆ</strong>ï¼Œé€šè¿‡Â AIÂ çš„å½’çº³ä¸å‘æ•£èƒ½åŠ›é™ä½å‰æœŸè®¾è®¡æˆæœ¬ï¼Œç”±äººå·¥å¯¹å…³é”®å†³ç­–è¿›è¡ŒæŠŠæ§ä¸ä¿®æ­£ã€‚</p>
<ol>
<li><strong>éœ€æ±‚åˆ†æ</strong>ï¼šæ˜ç¡®ç”¨æˆ·ç—›ç‚¹ã€ç›®æ ‡ç”¨æˆ·ã€æ ¸å¿ƒåŠŸèƒ½å’Œç•Œé¢è®¾è®¡ã€‚</li>
<li><strong>æŠ€æœ¯æ–¹æ¡ˆ/è§„åˆ’</strong>ï¼šåˆ©ç”¨Â AIÂ å½’çº³æ•´ç†æ¶æ„ã€æ¨¡å—åˆ’åˆ†ã€æŠ€æœ¯é€‰å‹ï¼Œç”Ÿæˆæ–¹æ¡ˆæ–‡æ¡£ã€‚</li>
<li><strong>å®ç°æ­¥éª¤è§„åˆ’</strong>ï¼šåŸºäºéœ€æ±‚åˆ†æä¸æŠ€æœ¯æ–¹æ¡ˆï¼Œå°†åŠŸèƒ½æ‹†è§£ä¸ºå¯æ‰§è¡Œä»»åŠ¡ï¼Œå®‰æ’åˆé€‚çš„å¼€å‘æµç¨‹ã€‚</li>
</ol>
<h5 data-id="heading-6">1.2.2ã€é˜¶æ®µäºŒï¼šäººå·¥ä¸»å¯¼ã€AIÂ è¾…åŠ©ï¼ˆå®æ–½ä¸éªŒè¯é˜¶æ®µï¼‰</h5>
<p>æœ¬é˜¶æ®µçš„æ ¸å¿ƒç›®æ ‡æ˜¯<strong>é«˜è´¨é‡è½åœ°æ–¹æ¡ˆå¹¶æå‡ç ”å‘æ•ˆç‡</strong>ï¼Œç”±äººå·¥ä¸»å¯¼è®¾è®¡ä¸å†³ç­–ï¼ŒAIÂ ä½œä¸ºæ•ˆç‡å·¥å…·å‚ä¸æ‰§è¡Œå±‚é¢å·¥ä½œã€‚</p>
<ol>
<li><strong>ç¼–ç å®ç°</strong>ï¼šäººå·¥æ ¹æ®æ—¢å®šçš„å®ç°æ­¥éª¤ä¸æŠ€æœ¯æ–¹æ¡ˆï¼Œä¸»å¯¼æ ¸å¿ƒé€»è¾‘ä¸å…³é”®æ¨¡å—çš„å¼€å‘ã€‚
<ul>
<li>AIÂ è¾…åŠ©å®Œæˆä»¥ä¸‹å·¥ä½œï¼š
<ul>
<li>é‡å¤æ€§ä»£ç æˆ–æ ·æ¿ä»£ç ç”Ÿæˆ</li>
<li>ä»£ç ç»“æ„æ•´ç†ä¸å¯è¯»æ€§ä¼˜åŒ–</li>
<li>å¸¸è§é—®é¢˜æ’æŸ¥ä¸å®ç°å»ºè®®æä¾›</li>
</ul>
</li>
</ul>
</li>
<li><strong>åŠŸèƒ½æµ‹è¯•</strong>ï¼šåŠŸèƒ½å¼€å‘å®Œæˆåï¼Œè¿›è¡Œç³»ç»Ÿæ€§çš„æµ‹è¯•ä¸éªŒè¯ã€‚</li>
</ol>
<h5 data-id="heading-7">ä¸ºä»€ä¹ˆé˜¶æ®µäºŒï¼Œä¸äº¤ç»™Â AIÂ æ¥å®Œæˆä¸»è¦çš„å¼€å‘å·¥ä½œå‘¢ï¼Ÿ</h5>
<p>å°½ç®¡Â AIÂ åœ¨ä»£ç ç”Ÿæˆä¸å®ç°å±‚é¢å·²ç»å…·å¤‡ä¸€å®šèƒ½åŠ›ï¼Œä½†åœ¨å½“å‰é˜¶æ®µï¼Œä»ä¸é€‚åˆä½œä¸ºä¼ä¸šçº§é¡¹ç›®çš„ä¸»è¦å¼€å‘ä¸»ä½“ï¼ŒåŸå› ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<p><strong>1ã€ä¼ä¸šçº§æ’ä»¶å¯¹ç¨³å®šæ€§ä¸å¯ç»´æŠ¤æ€§çš„è¦æ±‚æ›´é«˜</strong></p>
<p>è¯¥æ’ä»¶å±äºä¼ä¸šå†…éƒ¨é•¿æœŸä½¿ç”¨çš„å·¥å…·ï¼Œè€Œéä¸€æ¬¡æ€§æˆ–ä¸ªäººæ€§è´¨é¡¹ç›®ã€‚åœ¨æ­¤ç±»åœºæ™¯ä¸‹ï¼Œä»£ç ä¸ä»…éœ€è¦â€œå¯è¿è¡Œâ€ï¼Œæ›´éœ€è¦å…·å¤‡ï¼š</p>
<ul>
<li>æ¸…æ™°çš„ç»“æ„ä¸ä¸€è‡´çš„è®¾è®¡é£æ ¼</li>
<li>å¯é¢„æµ‹çš„è¡Œä¸ºä¸æ˜ç¡®çš„è¾¹ç•Œçº¦æŸ</li>
<li>ä¾¿äºåç»­ç»´æŠ¤ã€æ‰©å±•ä¸äº¤æ¥çš„å·¥ç¨‹è´¨é‡</li>
</ul>
<p>è¿™äº›èƒ½åŠ›ç›®å‰ä»é«˜åº¦ä¾èµ–äººå·¥ç»éªŒä¸æ•´ä½“æ¶æ„æŠŠæ§ï¼Œéš¾ä»¥å®Œå…¨äº¤ç”±Â AIÂ è‡ªåŠ¨å®Œæˆ</p>
<p><strong>2ã€AIÂ ç”Ÿæˆä»£ç çš„è´¨é‡ä¸ä¸€è‡´æ€§ä»å­˜åœ¨ä¸ç¡®å®šæ€§</strong></p>
<p>ç°é˜¶æ®µÂ AIÂ å¤„äºå¿«é€Ÿæ¼”è¿›é˜¶æ®µï¼Œç”Ÿæˆä»£ç åœ¨ä»¥ä¸‹æ–¹é¢å­˜åœ¨å®¢è§‚é£é™©ï¼š</p>
<ul>
<li>å®ç°æ–¹å¼ä¸ç»Ÿä¸€ï¼Œé£æ ¼å’Œè§„èŒƒéš¾ä»¥é•¿æœŸä¿æŒä¸€è‡´</li>
<li>å¯¹ä¸šåŠ¡ä¸Šä¸‹æ–‡ç†è§£ä¸å®Œæ•´ï¼Œå®¹æ˜“å¼•å…¥éšæ€§é€»è¾‘é—®é¢˜</li>
<li>å¯¹è¾¹ç•Œæ¡ä»¶ã€å¼‚å¸¸å¤„ç†å’Œæç«¯åœºæ™¯è¦†ç›–ä¸è¶³</li>
</ul>
<p>è¿™äº›é—®é¢˜åœ¨çŸ­æœŸå†…å¯èƒ½ä¸æ˜æ˜¾ï¼Œä½†ä¼šæ˜¾è‘—å¢åŠ åç»­ç»´æŠ¤å’ŒäºŒæ¬¡å¼€å‘æˆæœ¬</p>
<p><strong>3ã€å¼€å‘è¿‡ç¨‹æœ¬èº«æ˜¯å›¢é˜Ÿèƒ½åŠ›å»ºè®¾çš„é‡è¦ç»„æˆéƒ¨åˆ†</strong></p>
<p>å¯¹äºå›¢é˜Ÿè€Œè¨€ï¼Œå¼€å‘ä¸ä»…æ˜¯äº¤ä»˜ç»“æœçš„è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯ï¼š</p>
<ul>
<li>æ²‰æ·€ä¸šåŠ¡ç†è§£ä¸æŠ€æœ¯ç»éªŒ</li>
<li>æå‡ç³»ç»Ÿè®¾è®¡ä¸é—®é¢˜æ‹†è§£èƒ½åŠ›</li>
<li>åŸ¹å…»å¯¹ç³»ç»Ÿå…¨å±€çš„æŒæ§èƒ½åŠ›</li>
</ul>
<p>å¦‚æœæ ¸å¿ƒå¼€å‘å·¥ä½œå®Œå…¨äº¤ç”±Â AIÂ æ‰§è¡Œï¼Œå°†å‰Šå¼±å›¢é˜Ÿå¯¹ä»£ç å’Œç³»ç»Ÿçš„â€œæ‰€æœ‰æƒâ€å’Œç†è§£æ·±åº¦ï¼Œé•¿æœŸæ¥çœ‹ä¸åˆ©äºæŠ€æœ¯èƒ½åŠ›çš„ç§¯ç´¯</p>
<p><strong>4ã€è´£ä»»å½’å±ä¸é£é™©æ§åˆ¶éœ€è¦æ˜ç¡®çš„äººå·¥ä¸»ä½“</strong></p>
<p>åœ¨ä¼ä¸šç¯å¢ƒä¸­ï¼Œä»£ç è´¨é‡ã€ç³»ç»Ÿç¨³å®šæ€§å’Œå®‰å…¨é£é™©æœ€ç»ˆéƒ½éœ€è¦ç”±å…·ä½“å›¢é˜Ÿå’Œè´£ä»»äººæ‰¿æ‹…ã€‚</p>
<p>å½“å‰é˜¶æ®µï¼Œç”±äººå·¥ä¸»å¯¼å…³é”®å¼€å‘å†³ç­–ä¸å®ç°ï¼Œæ›´æœ‰åˆ©äºï¼š</p>
<ul>
<li>æ˜ç¡®é—®é¢˜è´£ä»»è¾¹ç•Œ</li>
<li>å¿«é€Ÿå®šä½ä¸ä¿®å¤ç¼ºé™·</li>
<li>åœ¨å‡ºç°é£é™©æ—¶è¿›è¡Œå¯æ§è°ƒæ•´</li>
</ul>
<h4 data-id="heading-8">1.3ã€æ’ä»¶èƒ½åŠ›è§„åˆ’ï¼ˆéœ€æ±‚åˆ†æï¼‰</h4>
<p>åœ¨æ˜ç¡®äº†Â APIÂ ç®¡ç†ä¸ç»„ä»¶ä½¿ç”¨ä¸Šçš„æ ¸å¿ƒç—›ç‚¹ä¹‹åï¼Œæˆ‘ä»¬å¹¶æœªç«‹å³è¿›è¡ŒåŠŸèƒ½è®¾è®¡ï¼Œè€Œæ˜¯å…ˆå°†é—®é¢˜è¿›ä¸€æ­¥æŠ½è±¡ï¼Œå€ŸåŠ©Â AIÂ è®©å…¶ä»æ›´é«˜çš„è§†è§’ç»™å‡ºå¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>åœ¨å®è·µä¸­æˆ‘ä»¬å‘ç°ï¼ŒAIÂ åœ¨ä¿¡æ¯çš„æ•´åˆã€éœ€æ±‚æ‹†è§£å’Œæ–¹æ¡ˆå‘æ•£ä¸Šå…·æœ‰å¾ˆæ˜æ˜¾çš„ä¼˜åŠ¿ã€‚å› æ­¤ï¼Œåœ¨è§„åˆ’æˆ‘ä»¬çš„äº§å“æ—¶ï¼Œä¸€ä¸ªå…³é”®çš„å‰ææ˜¯ï¼š</p>
<p>å°†è‡ªå·±çš„é—®é¢˜æè¿°æ¸…æ¥šï¼Œè€Œæ˜¯ä¸æ˜¯æ€¥äºè®©Â AIÂ ç»™å‡ºç­”æ¡ˆã€‚</p>
<h5 data-id="heading-9">1.3.1ã€AIÂ è¾…åŠ©è§„åˆ’éœ€æ±‚åˆ†æ</h5>
<p>åœ¨ä½¿ç”¨Â AIÂ è§„åˆ’æ’ä»¶èƒ½åŠ›æ—¶ï¼Œä½ åº”è¯¥å…ˆå°†è‡ªå·±çš„ä¸šåŠ¡èƒŒæ™¯ä¸ç—›ç‚¹æŠ›ç»™å®ƒï¼Œå¼•å¯¼Â AIÂ è¿›ä¸€æ­¥è§£æä½ çš„éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä»¥ä¸‹æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">æˆ‘æƒ³è®¾è®¡å¹¶å¼€å‘ä¸€æ¬¾VSCodeæ’ä»¶ï¼Œç”¨äºè§£å†³ä¼ä¸šå†…éƒ¨APIç®¡ç†éš¾é¢˜ï¼Œè§£å†³å‰ç«¯å¼€å‘åœ¨è·å–APIä¿¡æ¯ä¸Šçš„ç¹çï¼Œéš¾ç‚¹å¦‚ä¸‹ï¼š

<span class="hljs-bullet">1.</span> æ¥å£æ¥æºäº YAPI å¹³å°ä¸­ï¼Œå¼€å‘éœ€è¦åå¤æ ¸å¯¹(æ¥å£æ›´æ–°åéœ€è¦äººä¸ºä¿®æ”¹ç­‰)
<span class="hljs-bullet">2.</span> ç±»å‹ç»´æŠ¤å›°éš¾ï¼Œé¡¹ç›®æ™®éä½¿ç”¨ TypeScript æ¥ä¿è¯ç±»å‹å®‰å…¨ï¼Œæ¯æ¬¡æ¥å…¥æ–°æ¥å£ã€è°ƒæ•´å­—æ®µç»“æ„æ—¶ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æ‰‹åŠ¨è¡¥å……/ä¿®æ”¹å¯¹åº”çš„è¯·æ±‚ä¸å“åº”ç±»å‹
<span class="hljs-bullet">3.</span> å†…éƒ¨ç»„ä»¶åº“æ–‡æ¡£æŸ¥è¯¢é¢‘ç¹ï¼Œå¼€å‘è€…é€šå¸¸éœ€è¦ä¸€è¾¹æ’°å†™ä»£ç ï¼Œä¸€è¾¹æŸ¥è¯¢ç»„ä»¶API

æ ¹æ®ä»¥ä¸Šå†…å®¹ï¼Œæ•´ç†ä¸€ä»½éœ€æ±‚åˆ†ææ–‡æ¡£ã€‚
</code></pre>
<p>è¿™é‡Œçš„å…³é”®å¹¶ä¸åœ¨äºæç¤ºè¯æœ¬èº«æ˜¯å¦â€œé«˜çº§â€ï¼Œè€Œåœ¨äºï¼šæç¤ºè¯æ˜¯å¦å®Œæ•´å¹¶è¯¦ç»†è¿˜åŸäº†å¼€å‘åœºæ™¯ä¸‹çš„é—®é¢˜ä¸çº¦æŸã€‚åªæœ‰åœ¨è¾“å…¥è¶³å¤Ÿæ¸…æ™°ã€å…·ä½“çš„å‰æä¸‹ï¼ŒAIÂ æ‰èƒ½ç»™å‡ºçœŸæ­£æœ‰ä»·å€¼çš„åˆ†æç»“æœã€‚</p>
<blockquote>
<p>âš ï¸æç¤ºï¼šå½“ä½ å€ŸåŠ©Â AIÂ å®Œæˆä¸€ä¸ªä»Â 0Â åˆ°Â 1Â çš„å·¥ç¨‹æ—¶ï¼Œåº”è¯¥å…ˆä»ä¸€ä¸ªæœ€å°å¯è¡Œäº§å“ï¼ˆ<code>MVP</code>ï¼‰å¼€å§‹ã€‚</p>
</blockquote>
<p>åœ¨æ„å»ºå·¥å…·ç±»äº§å“æ—¶ï¼Œæœ€å…³é”®çš„ä¸æ˜¯ä¸€æ¬¡æ€§å®ç°æ‰€æœ‰èƒ½åŠ›ï¼Œè€Œæ˜¯å…ˆæ‰“é€ èƒ½è·‘é€šæ ¸å¿ƒä»·å€¼é“¾è·¯çš„Â MVPï¼šéªŒè¯æ€è·¯æ˜¯å¦æˆç«‹ã€æŠ€æœ¯è·¯çº¿æ˜¯å¦å¯è¡Œã€ä½¿ç”¨ä½“éªŒæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚åªæœ‰å½“æœ€å°ç‰ˆæœ¬ç¨³å®šåï¼Œå†é€æ­¥æ‰©å±•åŠŸèƒ½ï¼Œæ‰èƒ½é¿å…è¿‡åº¦è®¾è®¡å’Œæ— æ•ˆæŠ•å…¥ï¼Œè®©æ•´ä¸ªå·¥ç¨‹ä¿æŒæ¸…æ™°ã€å¯æ§å’Œé«˜è´¨é‡è¿­ä»£ã€‚</p>
<blockquote>
<p>âš ï¸å»ºè®®ï¼šéœ€æ±‚åˆ†æä»¥åŠç›¸å…³è®¾è®¡æ–‡æ¡£ä¸­ä¸åº”åŒ…å«ä»£ç å®ç°æˆ–å…·ä½“æŠ€æœ¯ç»†èŠ‚ï¼Œæ–‡æ¡£å†…å®¹åº”é‡ç‚¹æè¿°éœ€æ±‚ç›®æ ‡ã€è®¾è®¡æ€è·¯å’Œä¸šåŠ¡ä»·å€¼ã€‚ï¼ˆå³ä½¿æ˜¯æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£ä¸­ä¹Ÿåº”è¯¥è¿™æ ·è§„èŒƒï¼‰</p>
</blockquote>
<h5 data-id="heading-10">1.3.2ã€éœ€æ±‚åˆ†ææ€»ç»“</h5>
<blockquote>
<p>AIÂ ç»™å‡ºçš„ç»“è®ºå¹¶ä¸ç­‰åŒäºæœ€ç»ˆæ–¹æ¡ˆï¼Œå…¶è¾“å‡ºç»“æœæ—¢ä¸èƒ½ä¿è¯æ˜¯æœ€ä¼˜è§£ï¼Œä¹Ÿä¸ä¸€å®šå®Œå…¨æ­£ç¡®ã€‚å°¤å…¶åœ¨éœ€æ±‚åˆ†æä¸æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡ç­‰é˜¶æ®µï¼ŒAIÂ æ›´é€‚åˆä½œä¸ºè¾…åŠ©å†³ç­–å·¥å…·ï¼Œè€Œéç»“è®ºæ¥æºã€‚å¼€å‘è€…ä»éœ€ä¿æŒå¿…è¦çš„åˆ¤æ–­ä¸æ ¡éªŒæ„è¯†ï¼Œç»“åˆå®é™…ä¸šåŠ¡èƒŒæ™¯ä¸å·¥ç¨‹çº¦æŸï¼Œå¯¹Â AIÂ çš„è¾“å‡ºè¿›è¡Œå–èˆä¸ä¿®æ­£ã€‚ç›¸å…³æ–‡æ¡£ä¹Ÿä¸å¯èƒ½ä¸€æ¬¡æˆå‹ï¼Œé€šå¸¸éœ€è¦åœ¨å®è·µè¿‡ç¨‹ä¸­ä¸æ–­è¿­ä»£ä¸å®Œå–„ã€‚</p>
</blockquote>
<p>ä»¥æœ¬æ¬¡éœ€æ±‚åˆ†æä¸ºä¾‹ï¼Œåœ¨åŸºäºæç¤ºè¯ç”Ÿæˆçš„â€œç•Œé¢è®¾è®¡è¦ç‚¹â€ä¸­ï¼Œä¾¿è¯†åˆ«å‡ºéœ€è¦è°ƒæ•´çš„åœ°æ–¹ï¼šå¯¹äºä¼ä¸šå†…éƒ¨é¡¹ç›®è€Œè¨€ï¼Œæ’ä»¶é€šå¸¸ç”±å¤šäººåä½œå¼€å‘å’Œé•¿æœŸç»´æŠ¤ï¼Œç›¸å…³é…ç½®ç†åº”å…·å¤‡å¯å…±äº«æ€§å’Œä¸€è‡´æ€§ï¼Œå› æ­¤æ›´é€‚åˆä»¥é¡¹ç›®çº§é…ç½®çš„å½¢å¼å­˜åœ¨ï¼Œå¹¶éšé¡¹ç›®æµè½¬.</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da3876e625984dbfa2f17ea1d5b7c40a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=zxPANmj%2F%2F%2FLnVwfAUqWomca0%2B4c%3D" alt="image.png" loading="lazy"/></p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å°†é—®é¢˜ä¹ŸæŠ›ç»™AIï¼Œè®©å®ƒä¿®æ”¹ä¸€ä¸‹ç•Œé¢äº¤äº’ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">@docs/éœ€æ±‚åˆ†ææ–‡æ¡£.md:61-80 è¿™é‡Œçš„ç•Œé¢è®¾è®¡ä¸åˆç†ï¼Œé¡¹ç›®ç”±å¤šäººè¿›è¡Œå¼€å‘ç»´æŠ¤ï¼Œé…ç½®éœ€è¦å¯ä»¥å…±äº«ï¼Œé‚£ä¹ˆå°±ä¸åº”è¯¥ä½œä¸ºæ’ä»¶çš„é¢æ¿è®¾ç½®ï¼Œè€Œæ˜¯åº”è¯¥æ˜¯é¡¹ç›®çº§çš„ï¼Œè·Ÿéšé¡¹ç›®æ¥èµ°
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aee7fe9217b74ddf88831a31251b109f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=jhpnp8w%2FkluuSk%2FyVc8xuxe1WVA%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå€ŸåŠ©Â AIÂ å¯¹é—®é¢˜çš„å½’çº³å’Œèƒ½åŠ›æŠ½è±¡ï¼Œæˆ‘ä»¬é€æ­¥æ˜ç¡®äº†ä¸€ä¸ªå¯è½åœ°ã€å¯è¿­ä»£çš„æ’ä»¶èƒ½åŠ›æ–¹å‘ï¼Œå¹¶ä»¥æ­¤ä¸ºåŸºç¡€è¿›è¡Œäº†åŠŸèƒ½è§„åˆ’ä¸åç»­å·¥ç¨‹å®ç°ã€‚</p>
<p><strong>æœ€ç»ˆæ’ä»¶çš„æ ¸å¿ƒèƒ½åŠ›èšç„¦åœ¨ä¸‰å¤§æ¨¡å—</strong>ï¼š</p>
<ul>
<li><strong>ä¸€é”®æ‹‰å–Â YAPI</strong>Â 
<ul>
<li>è‡ªåŠ¨ç”ŸæˆÂ <code>TS</code>Â ç±»å‹ï¼ˆæ ¸å¿ƒï¼‰</li>
<li>æ¥å£ç±»å‹æ›´æ–°æç¤ºï¼ˆæ ¸å¿ƒï¼‰</li>
</ul>
</li>
<li><strong>ç»„ä»¶Â APIÂ æ™ºèƒ½æç¤º</strong>
<ul>
<li>å±æ€§è¡¥å…¨</li>
<li>æ‚¬æµ®æç¤º</li>
<li>è‡ªåŠ¨åŒ–æµç¨‹ï¼šè‡ªåŠ¨è·å–ç»„ä»¶æ•°æ®æº</li>
</ul>
</li>
<li><strong>é’‰é’‰é€šçŸ¥æ•´åˆ</strong>
<ul>
<li>å¼‚å¸¸ã€åé¦ˆä¿¡æ¯å®æ—¶æ¨é€</li>
</ul>
</li>
</ul>
<h5 data-id="heading-11">1.3.3ã€éœ€æ±‚åˆ†ææ–‡æ¡£æ¨¡ç‰ˆ</h5>
<p>è¿™é‡Œç»™å‡ºæˆ‘æ‰€æ¨èçš„ä¸€ä¸ªéœ€æ±‚åˆ†ææ–‡æ¡£çš„æ ¼å¼ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒå€Ÿé‰´ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># äº§å“åç§°</span>

<span class="hljs-section">## 1ã€é¡¹ç›®èƒŒæ™¯</span>
ç®€å•ä»‹ç»ä¸€ä¸‹é¡¹ç›®çš„èƒŒæ™¯ä¸ç—›ç‚¹ï¼Œä»¥åŠæœŸæœ›è§£å†³çš„é—®é¢˜æˆ–è€…è¾¾åˆ°çš„æ•ˆæœã€‚

<span class="hljs-section">## 2ã€ç›®æ ‡ç”¨æˆ·</span>

| ç”¨æˆ·ç±»å‹ | ä½¿ç”¨åœºæ™¯ |
|---------|---------|
| å‰ç«¯å¼€å‘äººå‘˜ | å¼€å‘è¿‡ç¨‹æ—¶xxx |
| æµ‹è¯•äººå‘˜ | æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹æ—¶éœ€è¦xxx |
| äº§å“ç»ç† | æ¼”ç¤ºäº§å“åŠŸèƒ½æ—¶éœ€è¦xxx |
| æ—¥å¸¸åŠå…¬äººå‘˜ | å¤„ç†xxx |

<span class="hljs-section">## 3ã€æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚</span>

ä»‹ç»ä¸€ä¸‹é¡¹ç›®æƒ³è¦å®ç°çš„å„ä¸ªåŠŸèƒ½ç‚¹ï¼Œä»¥åŠç›¸å…³çš„æè¿°ç­‰ä¿¡æ¯

<span class="hljs-section">### 3.1ã€åŠŸèƒ½æ¦‚è§ˆ</span>

<span class="hljs-section">### 3.2ã€åŠŸèƒ½è¯´æ˜</span>

...

<span class="hljs-section">## 4ã€ç•Œé¢è®¾è®¡è¦ç‚¹</span>

æœ¬èŠ‚ç”¨äºæè¿°ä¸»è¦ç•Œé¢å½¢æ€ä¸äº¤äº’ç»“æ„ï¼Œä¸è¦æ±‚æœ€ç»ˆ UI è®¾è®¡ç¨¿ï¼Œå¯é€šè¿‡ç»“æ„ç¤ºæ„å¸®åŠ©ç†è§£åŠŸèƒ½å¸ƒå±€

\<span class="hljs-code">`\`</span>\`markdown
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¬ APIç®¡ç†å·¥å…·                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ æ¥å£åˆ—è¡¨                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“ æµ‹è¯•æ¥å£1                    â”‚â”‚
â”‚  â”‚    /example/form               â”‚â”‚
â”‚  â”‚    2024-01-15 10:30            â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ ğŸ“ æµ‹è¯•æ¥å£2                    â”‚â”‚
â”‚  â”‚    /example/login              â”‚â”‚
â”‚  â”‚    2024-01-14 16:20            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\<span class="hljs-code">`\`</span>\`
ç»“æ„å›¾ä»…ç”¨äºè¾…åŠ©ç†è§£ï¼Œä¸ä½œä¸ºæœ€ç»ˆäº¤ä»˜ç‰©

<span class="hljs-section">## 5ã€æŠ€æœ¯çº¦æŸä¸é™åˆ¶</span>

ä»éœ€æ±‚å±‚é¢è¯´æ˜å¯èƒ½å­˜åœ¨çš„é™åˆ¶æ¡ä»¶ï¼Œä¾‹å¦‚ï¼šä½¿ç”¨ç¯å¢ƒé™åˆ¶ï¼ˆä»…é™æŸäº›ç¼–è¾‘å™¨æˆ–å¹³å°ï¼‰ã€æ•°æ®æ¥æºä¾èµ–ã€æƒé™æˆ–å®‰å…¨ç›¸å…³çº¦æŸ

æœ¬èŠ‚ä¸æ¶‰åŠå…·ä½“æŠ€æœ¯æ–¹æ¡ˆæˆ–å®ç°æ–¹å¼ã€‚

<span class="hljs-section">## 6ã€åç»­è¿­ä»£æ–¹å‘</span>

æè¿°å¯èƒ½çš„åç»­æ¼”è¿›æ–¹å‘ï¼Œç”¨äºè¾…åŠ©å†³ç­–ä¸è§„åˆ’ï¼šåŠŸèƒ½å¢å¼ºæ–¹å‘ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–æ–¹å‘ã€ä¸å…¶ä»–å·¥å…·æˆ–ç³»ç»Ÿçš„è”åŠ¨å¯èƒ½æ€§

æœ¬èŠ‚å†…å®¹ä¸ä¸€å®šå¯è¡Œï¼Œéœ€åœ¨åç»­é˜¶æ®µè¯„ä¼°å¯è¡Œæ€§

<span class="hljs-section">## 7ã€å…¶ä»–è¯´æ˜</span>
ä¾‹å¦‚ï¼Œä¸“ä¸šæœ¯è¯­ã€ä¿®è®¢çš„è®°å½•ç­‰ç­‰
</code></pre>
<h5 data-id="heading-12">1.3.4ã€è§„åˆ™å®šåˆ¶è§„èŒƒÂ AIÂ è¾“å‡º</h5>
<p>AIç¼–è¾‘å™¨<code>Cursor</code>ã€<code>Trae</code>ç­‰å¯ä»¥é€šè¿‡å®šåˆ¶è§„åˆ™ï¼Œè®©Â AIÂ çš„è¾“å‡ºæ›´ç¬¦åˆç”¨æˆ·çš„ä¸ªæ€§åŒ–è¦æ±‚ã€‚é€šè¿‡å®šåˆ¶è§„åˆ™ï¼Œè®©Â AIÂ çš„å›ç­”ä»¥æˆ‘ä»¬æƒ³è¦çš„æ¨¡ç‰ˆè¾“å‡ºã€‚</p>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs%2Fcontext%2Frules%23cursor" target="_blank" title="https://cursor.com/cn/docs/context/rules#cursor" ref="nofollow noopener noreferrer">cursor.com/cn/docs/conâ€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.trae.cn%2Fide%2Frules" target="_blank" title="https://docs.trae.cn/ide/rules" ref="nofollow noopener noreferrer">docs.trae.cn/ide/rules:Â â€¦</a></p>
</li>
</ul>
<p>è¿™é‡Œä»¥<code>Cursor</code>ä¸ºä¾‹ï¼š</p>
<p><strong>ï¼ˆ1ï¼‰åˆ›å»ºè§„åˆ™æ–‡ä»¶</strong></p>
<p>æ‰“å¼€Â <code>Cursor</code>Â è®¾ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c8d5efff64a41b7b3ce1acb0710a80b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=mk7GLgDdeqd4%2BOe1m6kcV5NTL8w%3D" alt="image.png" loading="lazy"/></p>
<p>è¿›å…¥è§„åˆ™é¢æ¿ï¼Œæ‰¾åˆ°é¡¹ç›®è§„åˆ™ï¼Œç‚¹å‡»<code>AddÂ Rule</code>æ–°å¢è§„åˆ™ï¼Œé€‰æ‹©è‡ªå®šä¹‰è§„åˆ™</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac06660a0c71491885eb22da0bf93607~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=wfO6kgueMT1jLNOUSHVD9cKvF80%3D" alt="image.png" loading="lazy"/></p>
<p>è¾“å…¥åˆæ³•çš„è§„åˆ™åç§°åï¼Œå›è½¦åˆ›å»ºï¼Œå³å¯åœ¨æ ¹ç›®å½•ä¸‹çœ‹åˆ°è§„åˆ™æ–‡ä»¶</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0ae57180c41483fada22b8f0cae7998~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=KOD59ufnMfCGkXitWz6crXZEfqc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c786e318f12f4202a89908ac68b2ec26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=eE4YJzVZdh1ruwr3rXobzKHWYPA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ï¼ˆ2ï¼‰ç¼–è¾‘è§„åˆ™ï¼š</strong></p>
<p>ç¼–è¾‘æ–°åˆ›å»ºçš„è§„åˆ™æ–‡ä»¶<code>xxxx.mdc</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56878ba71f724f41b9d967978da9707e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=dCx26wDBe5SbOUWTovq%2FmKKG6Rc%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘æ‰€ä½¿ç”¨çš„è§„åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
description: éœ€æ±‚åˆ†ææ–‡æ¡£è§„åˆ™
globs: <span class="hljs-emphasis">*.md
alwaysApply: true
---

# éœ€æ±‚åˆ†ææ–‡æ¡£è§„èŒƒ

## è§’è‰²å®šä½
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æŠ€æœ¯æ–‡æ¡£åŠ©æ‰‹ï¼Œä¸¥æ ¼éµå¾ªæ–‡æ¡£ç»“æ„ï¼Œæä¾›å®Œæ•´çš„ä¿¡æ¯ã€‚

## æ–‡æ¡£ç»“æ„æ¨¡ç‰ˆ

# [äº§å“åç§°]-éœ€æ±‚åˆ†ææ–‡æ¡£

&gt; ç®€è¦ç»™å‡ºä¸€ä¸ªç¬¦åˆå½“å‰éœ€æ±‚è¯­å¢ƒçš„äº§å“åç§°ï¼Œè‹¥ç”¨æˆ·å·²æä¾›åˆ™ç›´æ¥ä½¿ç”¨ã€‚

## 1ã€é¡¹ç›®èƒŒæ™¯

ç®€å•ä»‹ç»ä¸€ä¸‹é¡¹ç›®çš„èƒŒæ™¯ä¸ç—›ç‚¹ï¼Œä»¥åŠæœŸæœ›è§£å†³çš„é—®é¢˜æˆ–è€…è¾¾åˆ°çš„æ•ˆæœã€‚

## 2ã€ç›®æ ‡ç”¨æˆ·

| ç”¨æˆ·ç±»å‹ | ä½¿ç”¨åœºæ™¯ |
|---------|---------|

## 3ã€æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚

ä»‹ç»ä¸€ä¸‹é¡¹ç›®æƒ³è¦å®ç°çš„å„ä¸ªåŠŸèƒ½ç‚¹ï¼Œä»¥åŠç›¸å…³çš„æè¿°ç­‰ä¿¡æ¯

### 3.1ã€åŠŸèƒ½æ¦‚è§ˆ

### 3.2ã€xxåŠŸèƒ½

### 3.3ã€yyåŠŸèƒ½

...

## 4ã€ç•Œé¢è®¾è®¡è¦ç‚¹

æœ¬èŠ‚ç”¨äºæè¿°ä¸»è¦ç•Œé¢å½¢æ€ä¸äº¤äº’ç»“æ„ï¼Œä½¿ç”¨`ASCII`å­—ç¬¦ï¼Œé€šè¿‡ç»“æ„ç¤ºæ„å¸®åŠ©ç†è§£åŠŸèƒ½å¸ƒå±€

\`\`\`markdown
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¬ xxå·¥å…·                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
......
\`\`\`
ç»“æ„å›¾ä»…ç”¨äºè¾…åŠ©ç†è§£ï¼Œä¸ä½œä¸ºæœ€ç»ˆäº¤ä»˜ç‰©

## 5ã€æŠ€æœ¯çº¦æŸä¸é™åˆ¶

ä»éœ€æ±‚å±‚é¢è¯´æ˜å¯èƒ½å­˜åœ¨çš„é™åˆ¶æ¡ä»¶ï¼Œä¾‹å¦‚ï¼šä½¿ç”¨ç¯å¢ƒé™åˆ¶ï¼ˆä»…é™æŸäº›ç¼–è¾‘å™¨æˆ–å¹³å°ï¼‰ã€æ•°æ®æ¥æºä¾èµ–ã€æƒé™æˆ–å®‰å…¨ç›¸å…³çº¦æŸ

æœ¬èŠ‚ä¸æ¶‰åŠå…·ä½“æŠ€æœ¯æ–¹æ¡ˆæˆ–å®ç°æ–¹å¼ã€‚

## 6ã€åç»­è¿­ä»£æ–¹å‘

æè¿°å¯èƒ½çš„åç»­æ¼”è¿›æ–¹å‘ï¼Œç”¨äºè¾…åŠ©å†³ç­–ä¸è§„åˆ’ï¼šåŠŸèƒ½å¢å¼ºæ–¹å‘ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–æ–¹å‘ã€ä¸å…¶ä»–å·¥å…·æˆ–ç³»ç»Ÿçš„è”åŠ¨å¯èƒ½æ€§

æœ¬èŠ‚å†…å®¹ä¸ä¸€å®šå¯è¡Œï¼Œéœ€åœ¨åç»­é˜¶æ®µè¯„ä¼°å¯è¡Œæ€§

## 7ã€å…¶ä»–è¯´æ˜
ä¾‹å¦‚ï¼Œä¸“ä¸šæœ¯è¯­ã€ä¿®è®¢çš„è®°å½•ç­‰ç­‰

### ä¸“ä¸šæœ¯è¯­
| æœ¯è¯­ | è¯´æ˜ |
|-----|------|

### ä¿®è®¢è®°å½•
| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®è®¢å†…å®¹ | ä½œè€… |
|-----|------|---------|-----|
</span></code></pre>
<p>æ›´å¤šè§„åˆ™å¯ä»¥æ ¹æ®éœ€è¦åœ¨<code>githubä¸Š</code>æŸ¥æ‰¾ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsearch%3Fq%3DCursor%2520rules%26type%3Drepositories" target="_blank" title="https://github.com/search?q=Cursor%20rules&amp;type=repositories" ref="nofollow noopener noreferrer">github.com/search?q=Cuâ€¦</a></p>
<blockquote>
<p>ğŸ’¡æç¤ºï¼šè§„åˆ™çš„æ ¼å¼å¹¶æ²¡æœ‰ä»€ä¹ˆå¼ºåˆ¶è¦æ±‚ï¼Œä½ å¯ä»¥æŒ‰ä½ çš„æƒ³æ³•éšæ„è¾“å…¥ï¼ŒAIÂ æ¨¡å‹ä¼šè‡ªå·±å»è¯»å–å¹¶è§£æä½ çš„è§„åˆ™ã€‚</p>
</blockquote>
<p>å½“éœ€æ±‚åˆ†ææ–‡æ¡£è®¾è®¡å¥½åï¼Œæ¥ä¸‹æ¥å°±åº”è¯¥è€ƒè™‘å…·ä½“å¦‚ä½•å®ç°ï¼Œä»¥åŠè§„åˆ’ä¸€ä¸‹å®ç°çš„æ­¥éª¤ã€‚</p>
<h4 data-id="heading-13">1.4ã€æŠ€æœ¯è®¾è®¡ä¸è§„åˆ’ï¼ˆæŠ€æœ¯æ–¹æ¡ˆÂ +Â å…·ä½“å®ç°æ­¥éª¤ï¼‰</h4>
<p>åœ¨æ¢ç´¢å¯è¡Œçš„å®ç°æ–¹å‘ä¸èƒ½åŠ›è½åœ°è·¯å¾„æ—¶ï¼Œæˆ‘ä»¬äº¦å¯ä»¥å€ŸåŠ©Â AIÂ åœ¨ä¿¡æ¯å½’çº³ã€å¯¹æ¯”åˆ†æä¸ç»“æ„åŒ–è¡¨è¾¾æ–¹é¢çš„ä¼˜åŠ¿ï¼Œä½œä¸ºç ”å‘å‰æœŸçš„é‡è¦è¾…åŠ©å·¥å…·ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¿«çš„æ”¶é›†ä¿¡æ¯ã€åˆ†æå¯è¡Œè·¯çº¿ã€‚</p>
<p>ä¸‹é¢æˆ‘ä¼šå…ˆç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œæˆ‘ä»¬å›¢é˜Ÿåœ¨å€ŸåŠ©Â AIÂ è®¾è®¡æŠ€æœ¯æ–¹æ¡ˆæ—¶çš„æœ€ä½³å®è·µæ–¹å¼ã€‚</p>
<h5 data-id="heading-14">1.4.1ã€AIÂ è¾…åŠ©çš„æœ€ä½³å®è·µ</h5>
<p>ä¸€ç§è¡Œä¹‹æœ‰æ•ˆçš„å®è·µæ–¹å¼æ˜¯ï¼š</p>
<ol>
<li><strong>æä¾›å‚è€ƒèµ„æ–™ç»™AIï¼ˆè¿™ä¸€è¿‡ç¨‹ä¹Ÿå¯ä»¥ç›´æ¥è®©Â AIÂ å®Œæˆï¼‰</strong>
<ul>
<li>å¸‚é¢ä¸Šå·²æœ‰çš„åŒç±»äº§å“ã€è§£å†³æ–¹æ¡ˆé“¾æ¥</li>
<li>ç›¸å…³æ–‡ä»¶ã€æ–‡æ¡£ç­‰ä¸Šä¸‹æ–‡ï¼ˆä¾‹å¦‚éœ€æ±‚åˆ†ææ–‡æ¡£ã€YApiå®˜æ–¹æ–‡æ¡£ï¼‰</li>
</ul>
</li>
<li><strong>å¼•å¯¼Â AIÂ è¿›è¡Œæ•´ä½“åˆ†æ</strong>
<ul>
<li>å¯¹æ¯”æ€»ç»“ä¸åŒäº§å“çš„åŠŸèƒ½åˆ’åˆ†å’Œèƒ½åŠ›ä¾§é‡ç‚¹</li>
<li>æç‚¼å…±æ€§ä¸å·®å¼‚</li>
<li>æŠ½è±¡å‡ºé€šç”¨çš„èƒ½åŠ›æ¨¡å‹æˆ–æ¶æ„ç»“æ„</li>
</ul>
</li>
<li><strong>è¾“å‡ºè¾…åŠ©æˆæœ</strong>
<ul>
<li>ç³»ç»Ÿæ¶æ„ç¤ºæ„å›¾</li>
<li>åŠŸèƒ½æ¨¡å—æ‹†åˆ†å»ºè®®</li>
<li>æŠ€æœ¯å®ç°æ€è·¯æ¦‚è§ˆ</li>
</ul>
</li>
</ol>
<blockquote>
<p>âš ï¸Â æç¤ºï¼šAIÂ è¾“å‡ºä»…ä½œä¸ºå‚è€ƒï¼Œä¸ä»£è¡¨æœ€ç»ˆæ–¹æ¡ˆï¼Œå¼€å‘è€…ä»éœ€ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯è¿›è¡Œåˆ¤æ–­ä¸ä¼˜åŒ–ã€‚</p>
</blockquote>
<h5 data-id="heading-15">1.4.2ã€æ’ä»¶æŠ€æœ¯æ¶æ„æ¦‚è§ˆ</h5>
<p>ç»“åˆå¸‚é¢ä¸Šå·²æœ‰çš„æ’ä»¶èƒ½åŠ›å’Œéœ€æ±‚åˆ†æåï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©Â AIÂ ç”Ÿæˆä¸€ä»½çš„æŠ€æœ¯æ¶æ„å›¾ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">+-------------------------------------------------------------+
|                    VS Code æ’ä»¶å‰ç«¯ï¼ˆWebviewï¼‰                |
|                     React + Messaging                       |
|                                                             |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   |
|  â”‚   ä¸»ç•Œé¢æ¨¡å—        â”‚    â”‚  åˆå§‹åŒ–é…ç½®æ¨¡å—               â”‚   |
|  â”‚ (å…¥å£ + å¸ƒå±€)       â”‚    â”‚ (é¦–æ¬¡ä½¿ç”¨æŒ‡å¼•ã€Tokené…ç½®ç­‰)    â”‚   |
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   |
|           â”‚                           â”‚                     |
|           â–¼                           â–¼                     |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   |
|  â”‚  æ•°æ®æ£€ç´¢æ¨¡å—       â”‚    â”‚   æ•°æ®çŠ¶æ€ç®¡ç†ï¼ˆHookï¼‰         â”‚   |
|  â”‚ï¼ˆæœç´¢ | ç¼“å­˜ | ç­›é€‰ï¼‰â”‚    â”‚ - å…³é”®è¯ç¼“å­˜                  â”‚  |
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ - æœç´¢è¯·æ±‚å°è£…                â”‚   |
|           â”‚               â”‚ - æ¥å£è¿”å›é¢„å¤„ç†              â”‚   |
|           â–¼               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” |
|  â”‚                   API æ ‘å±•ç¤ºæ¨¡å—                         â”‚ |
|  â”‚ï¼ˆæ¥å£æ ‘ç»“æ„ã€æ¥å£é¡¹å±•ç¤ºã€äº¤äº’æ“ä½œï¼‰                          â”‚ |
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ |
|          â”‚        â”‚        â”‚                               |
|          â–¼        â–¼        â–¼                               |
|   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” |
|   â”‚ æ¥å£é¡¹UI  â”‚ â”‚ é…ç½®ä¸­å¿ƒ â”‚â”‚ å‰ç«¯æ•°æ®å¤„ç†é€»è¾‘                â”‚ |
|   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ |
|                                                             |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” |
|  â”‚ å¯å±•å¼€å®¹å™¨ç»„ä»¶ï¼ˆæŠ˜å /å±•å¼€å†…å®¹åŒºï¼‰                            â”‚ |
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ |
|                                                             |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” |
|  â”‚ æ‰¹é‡å¤„ç†è¿›åº¦æ¨¡å—ï¼ˆæ‰¹é‡ç”Ÿæˆä»£ç è¿›åº¦å±•ç¤ºï¼‰                      â”‚ |
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ |
+-------------------------------------------------------------+
<span class="hljs-code">           â”‚
           â”‚    VS Code Extension Messagingï¼ˆåŒå‘é€šä¿¡ï¼‰
           â–¼
+-------------------------------------------------------------+
|                      VS Code æ’ä»¶åç«¯                        |
|                    (Extension Host Runtime)                 |
|                                                             |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” |
|  â”‚                    YAPI æ•°æ®æœåŠ¡å±‚                       â”‚ |
|  â”‚ - è·å–é¡¹ç›®åˆ—è¡¨                                           â”‚ |
|  â”‚ - æŸ¥è¯¢æ¥å£è¯¦æƒ…                                           â”‚ |
|  â”‚ - æ¥å£å˜æ›´æ£€æµ‹                                           â”‚ |
|  â”‚ - Token æ ¡éªŒ                                            â”‚ |
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ |
|                                                             |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” |
|  â”‚                     ä»£ç ç”Ÿæˆå¼•æ“                         â”‚ |
|  â”‚ - æ ¹æ®æ¥å£ç»“æ„ç”Ÿæˆ TypeScript ç±»å‹/æ–¹æ³•                    â”‚ |
|  â”‚ - å†™å…¥æ–‡ä»¶ç³»ç»Ÿ                                           â”‚ |
|  â”‚ - è°ƒç”¨æ ¼å¼åŒ–å·¥å…·ï¼ˆå¦‚ Prettierï¼‰                           â”‚ |
|  â”‚ - è‡ªåŠ¨æ‰“å¼€/æ›´æ–°æ–‡ä»¶                                      â”‚ |
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ |
+-------------------------------------------------------------+
           â”‚
           â”‚ HTTP è°ƒç”¨ï¼ˆYAPI API v1/v2ï¼‰
           â–¼
+-------------------------+
|        YAPI æœåŠ¡ç«¯       |
+-------------------------+
</span>
</code></pre>
<p>å€ŸåŠ©è¯¥æ¶æ„å›¾ï¼Œå¯ä»¥è¾…åŠ©æˆ‘ä»¬ç†è§£åŒç±»å‹æ’ä»¶çš„å®ç°åŸç†ï¼Œå¸®åŠ©æˆ‘ä»¬æ¢³ç†å…¶ä¸­å…³é”®ç‚¹ã€‚</p>
<p>è¯¥ç¯èŠ‚å¹¶ä¸å±€é™äºæ­¤ï¼Œæ—¥å¸¸æˆ‘ä»¬åœ¨é˜…è¯»ä¸‰æ–¹åº“çš„æºç æ—¶ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©Â AIÂ å¿«é€Ÿäº†è§£è®¾è®¡æ¶æ„ï¼Œå¹¶åŸºäºè¯¥è®¾è®¡æ¶æ„é˜…è¯»å…³é”®èŠ‚ç‚¹æºç ã€‚</p>
<h5 data-id="heading-16">1.4.3ã€AIÂ è¾…åŠ©ç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆ</h5>
<p>ä¸‹é¢æˆ‘ç®€å•æ•´ç†äº†ä¸€ä¸‹æç¤ºè¯ï¼Œæˆ‘ä»¬éœ€è¦å°†éœ€æ±‚åˆ†ææ–‡æ¡£ç­‰ç›¸å…³èµ„æ–™éƒ½æä¾›ç»™Â AIã€‚</p>
<ul>
<li>å¦‚æœä½¿ç”¨Â <strong>AIÂ ç¼–è¾‘å™¨</strong>ï¼ˆè¿™é‡Œä»¥<code>Cursor</code>ä¸ºä¾‹ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">è¯·æ ¹æ® @éœ€æ±‚åˆ†ææ–‡æ¡£.mdï¼Œ@YApiï¼Œhttps://github.com/zhixiaoqiang/yapi2codeç”Ÿæˆä¸€ä»½æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£ã€‚

æ³¨æ„ï¼Œè¿™åªæ˜¯ä¸€ä¸ªæŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£ï¼Œä¸éœ€è¦å†™å…·ä½“çš„ä»£ç å®ç°ï¼Œåªéœ€è¦å†™æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡å³å¯ã€‚

ç»“æœå¸®æˆ‘ä¿å­˜åˆ° æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£.md ä¸­
</code></pre>
<ul>
<li>å¦‚æœä½¿ç”¨Â <strong>æ™ºèƒ½ä½“å¯¹è¯</strong>å½¢å¼ï¼š</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">è¯·æ ¹æ®å‰é¢çš„éœ€æ±‚åˆ†ææ–‡æ¡£å’Œç›¸å…³å‚è€ƒèµ„æ–™ï¼Œç”Ÿæˆä¸€ä»½ VSCode æ’ä»¶æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£ï¼Œä»…åŒ…å«æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡ï¼Œä¸æ¶‰åŠä»£ç å®ç°ã€‚
</code></pre>
<blockquote>
<p>ğŸ’¡Â æç¤ºï¼šæœ¬æ–‡ç¤ºä¾‹ä»…æ¼”ç¤º<strong>æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡æµç¨‹</strong>ï¼Œé‡ç‚¹åœ¨äºå¦‚ä½•å€ŸåŠ©Â AIÂ è¾…åŠ©æ•´ç†æŠ€æœ¯æ–¹æ¡ˆï¼Œè€Œéå…·ä½“ç¼–ç å®ç°ã€‚</p>
</blockquote>
<p>ç”Ÿæˆçš„æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># äº§å“åç§° - æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£</span>

<span class="hljs-section">## 1ã€åŠŸèƒ½è¦ç‚¹åˆ†æ</span>
ä»‹ç»ä¸€ä¸‹å°†æ ¸å¿ƒåŠŸèƒ½æ‹†è§£åçš„å„ä¸ªæ¨¡å—ï¼Œä¾‹å¦‚ï¼šæ¥å£åˆ—è¡¨æ¨¡å—ã€è®¾ç½®æ¨¡å—

<span class="hljs-section">## 2ã€æŠ€æœ¯æ¶æ„è®¾è®¡</span>
ç³»ç»Ÿæ¶æ„å›¾å›¾ä¾‹ä»¥åŠç›¸å…³è¯´æ˜

<span class="hljs-section">## 3ã€æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆ</span>
ä»‹ç»ä¸€ä¸‹é¡¹ç›®çš„æ ¸å¿ƒæŠ€æœ¯ç‚¹ï¼ŒæŠ€æœ¯éš¾ç‚¹/æŠ€æœ¯äº®ç‚¹

<span class="hljs-section">## 4ã€ä¸šç•Œæ–¹æ¡ˆè°ƒç ”</span>
ä¸šç•Œç±»ä¼¼äº§å“æ–¹æ¡ˆè°ƒç ”ç»“æœï¼Œå‚è€ƒä»·å€¼ç­‰ä¿¡æ¯

<span class="hljs-section">## 5ã€é¡¹ç›®è§„èŒƒè®¾è®¡</span>

<span class="hljs-section">### ä»£ç ç»„ç»‡è§„èŒƒ</span>
\<span class="hljs-code">`\`</span>\`markdown
src/
â”œâ”€â”€ views/                  # è§†å›¾æ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â””â”€â”€ services/
â”œâ”€â”€ components/             # å…¬ç”¨ç»„ä»¶æ¨¡å—
â”‚   â”œâ”€â”€ ...
â”œâ”€â”€ hooks/                  # å…¬ç”¨Hook
â”‚   â”œâ”€â”€ ...
â”œâ”€â”€ utils/                  # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ ...
â””â”€â”€ package.json
\<span class="hljs-code">`\`</span>\`

<span class="hljs-section">### è®¾è®¡åŸåˆ™</span>
| åŸåˆ™ | è¯´æ˜ | å®è·µæ–¹å¼ |
|-----|------|---------|
| <span class="hljs-strong">**å•ä¸€èŒè´£**</span> | æ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä»¶äº‹ | æ‹†åˆ†ç‹¬ç«‹çš„ Service å’Œ Module |
| <span class="hljs-strong">**å¼€é—­åŸåˆ™**</span> | å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ | ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€æ’ä»¶æœºåˆ¶ |
| <span class="hljs-strong">**ä¾èµ–å€’ç½®**</span> | ä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç° | å®šä¹‰ Interfaceï¼Œä½¿ç”¨ä¾èµ–æ³¨å…¥ |
| <span class="hljs-strong">**æœ€å°çŸ¥è¯†**</span> | æ¨¡å—é—´ä¿æŒæœ€å°ä¾èµ– | ... |

<span class="hljs-section">### æµ‹è¯•ç­–ç•¥</span>
| æµ‹è¯•ç±»å‹ | è¦†ç›–èŒƒå›´ | å·¥å…· |
|---------|---------|-----|
| <span class="hljs-strong">**å•å…ƒæµ‹è¯•**</span> | æ ¸å¿ƒé€»è¾‘ã€å·¥å…·å‡½æ•° | Vitest / Jest |
| <span class="hljs-strong">**é›†æˆæµ‹è¯•**</span> | æ¨¡å—é—´äº¤äº’ | Vitest / Jest |
| <span class="hljs-strong">**E2E æµ‹è¯•**</span> | å®Œæ•´ç”¨æˆ·æµç¨‹ | Playwright |
| <span class="hljs-strong">**æ‰‹åŠ¨æµ‹è¯•**</span> | UI äº¤äº’ã€è¾¹ç•Œåœºæ™¯ | - |

<span class="hljs-section">## 6ã€æŠ€æœ¯é€‰å‹æ€»ç»“</span>

<span class="hljs-section">### æ ¸å¿ƒæŠ€æœ¯æ ˆ</span>
| ç±»åˆ« | é€‰å‹ | è¯´æ˜ |
|-----|------|-----|
| <span class="hljs-strong">**è¯­è¨€**</span> | TypeScript | ç±»å‹å®‰å…¨ï¼Œæé«˜ä»£ç è´¨é‡ |
| <span class="hljs-strong">**UI æ¡†æ¶**</span> | React 18 | ç»„ä»¶åŒ–å¼€å‘ï¼Œç”Ÿæ€ä¸°å¯Œ |

<span class="hljs-section">### å¼€å‘ä¸è´¨é‡ä¿éšœ</span>
| ç±»åˆ« | é€‰å‹ | è¯´æ˜ |
|-----|------|-----|
| <span class="hljs-strong">**ä»£ç è§„èŒƒ**</span> | ESLint + Prettier | ç»Ÿä¸€ä»£ç é£æ ¼ |
| <span class="hljs-strong">**Git è§„èŒƒ**</span> | Conventional Commits | è§„èŒƒåŒ–æäº¤ä¿¡æ¯ |

<span class="hljs-section">## 7ã€é£é™©è¯„ä¼°ä¸åº”å¯¹</span>
è¯´æ˜å¯èƒ½å­˜åœ¨çš„é£é™©ï¼Œä¾‹å¦‚æŸä¸ªæ ¸å¿ƒèƒ½åŠ›çš„å®ç°ï¼Œä»¥åŠç›¸å…³å½±å“å’Œå¦‚ä½•åº”å¯¹

<span class="hljs-section">## 8ã€å…¶ä»–å†…å®¹</span>
ä¸“ä¸šæœ¯è¯­ã€ä¿®è®¢è®°å½•ç­‰

</code></pre>
<h5 data-id="heading-17">1.4.4ã€æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£æ¨¡ç‰ˆ</h5>
<p>åŒæ ·çš„ï¼ŒæŠ€æœ¯æ–¹æ¡ˆè§„åˆ™æ¨¡ç‰ˆå¦‚ä¸‹ï¼ˆ<code>Cursor</code>ç›´æ¥ä½¿ç”¨ï¼‰</p>
<pre><code class="hljs language-markdown" lang="markdown">---
description: æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£è§„åˆ™
globs: <span class="hljs-emphasis">*.md
alwaysApply: true
---

# æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£è§„èŒƒ

## è§’è‰²å®šä½
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æŠ€æœ¯æ–‡æ¡£åŠ©æ‰‹ï¼Œä¸¥æ ¼éµå¾ªæ–‡æ¡£ç»“æ„ï¼Œæä¾›å®Œæ•´çš„ä¿¡æ¯ã€‚

## æ–‡æ¡£ç»“æ„æ¨¡ç‰ˆ

# [äº§å“åç§°]-æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£

## 1ã€åŠŸèƒ½è¦ç‚¹åˆ†æ

ä»‹ç»ä¸€ä¸‹å°†æ ¸å¿ƒåŠŸèƒ½æ‹†è§£åçš„å„ä¸ªæ¨¡å—

### 1.1ã€xxæ¨¡å—
| åŠŸèƒ½ç‚¹ | æŠ€æœ¯è¦ç‚¹ | å¤æ‚åº¦ |
|-------|---------|--------|

## 2ã€æŠ€æœ¯æ¶æ„è®¾è®¡

&gt; [ç®€å•è¯´æ˜ä¸€ä¸‹ï¼Œæ•´ä½“çš„æŠ€æœ¯æ¶æ„è®¾è®¡ï¼Œé‡‡ç”¨äº†ä»€ä¹ˆæ¶æ„/æ¨¡å¼/...]

### 2.1ã€æ•´ä½“æ¶æ„
ä½¿ç”¨`ASCII`å­—ç¬¦ï¼Œé€šè¿‡ç»“æ„ç¤ºæ„æè¿°æ¶æ„è®¾è®¡
\`\`\`markdown
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       åŸºç¡€å±‚ (Infrastructure)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ é€šä¿¡         â”‚  â”‚   å­˜å‚¨      â”‚  â”‚     Utils           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### 2.2ã€æ¨¡å—åˆ’åˆ†
| æ¨¡å—åç§° | èŒè´£æè¿° | æ‰€åœ¨å±‚çº§ |
|---------|---------|---------|

## 3ã€æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆ
ä»‹ç»ä¸€ä¸‹é¡¹ç›®çš„æ ¸å¿ƒæŠ€æœ¯ç‚¹ï¼ŒæŠ€æœ¯éš¾ç‚¹/æŠ€æœ¯äº®ç‚¹

## 4ã€ä¸šç•Œæ–¹æ¡ˆè°ƒç ”
ä¸šç•Œç±»ä¼¼äº§å“æ–¹æ¡ˆè°ƒç ”ç»“æœï¼Œå‚è€ƒä»·å€¼ç­‰ä¿¡æ¯

### 4.1ã€ç›¸å…³å¼€æºé¡¹ç›®
| é¡¹ç›® | ç±»å‹ | ä¸»è¦ç”¨é€” | å‚è€ƒä»·å€¼ |
|-----|------|---------|---------|

### 4.2ã€xxé¡¹ç›®æ–¹æ¡ˆåˆ†æ
...

## 5ã€é¡¹ç›®è§„èŒƒè®¾è®¡

### 5.1ã€ä»£ç ç»„ç»‡è§„èŒƒ
\`\`\`markdown
src/
â”œâ”€â”€ views/                  # è§†å›¾æ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â””â”€â”€ services/
â”œâ”€â”€ components/             # å…¬ç”¨ç»„ä»¶æ¨¡å—
â”‚   â”œâ”€â”€ ...
â”œâ”€â”€ hooks/                  # å…¬ç”¨Hook
â”‚   â”œâ”€â”€ ...
â”œâ”€â”€ utils/                  # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ ...
â””â”€â”€ package.json
\`\`\`

### 5.2ã€è®¾è®¡åŸåˆ™
| åŸåˆ™ | è¯´æ˜ | å®è·µæ–¹å¼ |
|-----|------|---------|

### 5.3ã€æµ‹è¯•ç­–ç•¥
| æµ‹è¯•ç±»å‹ | è¦†ç›–èŒƒå›´ | å·¥å…· |
|---------|---------|-----|

## 6ã€æŠ€æœ¯é€‰å‹æ€»ç»“

### 6.1ã€æ ¸å¿ƒæŠ€æœ¯æ ˆ
| ç±»åˆ« | é€‰å‹ | è¯´æ˜ |
|-----|------|-----|

### 6.2ã€å¼€å‘ä¸è´¨é‡ä¿éšœ
| ç±»åˆ« | é€‰å‹ | è¯´æ˜ |
|-----|------|-----|

## 7ã€é£é™©è¯„ä¼°ä¸åº”å¯¹

&gt;åˆ†ç‚¹è¯´æ˜å¯èƒ½å­˜åœ¨çš„é£é™©ï¼Œä¾‹å¦‚æŸä¸ªæ ¸å¿ƒèƒ½åŠ›çš„å®ç°ï¼Œä»¥åŠç›¸å…³å½±å“å’Œå¦‚ä½•åº”å¯¹

æœ€åä»¥è¡¨æ ¼å½¢å¼å±•ç¤º
| é£é™© | å½±å“ | æ¦‚ç‡ | åº”å¯¹æªæ–½ |
|-----|------|-----|---------|

## 8ã€å…¶ä»–å†…å®¹
ä¾‹å¦‚ï¼Œä¸“ä¸šæœ¯è¯­ã€ä¿®è®¢çš„è®°å½•ç­‰ç­‰

### ä¸“ä¸šæœ¯è¯­
| æœ¯è¯­ | è¯´æ˜ |
|-----|------|

### ä¿®è®¢è®°å½•
| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®è®¢å†…å®¹ | ä½œè€… |
|-----|------|---------|-----|
</span></code></pre>
<h5 data-id="heading-18">1.4.5ã€AIÂ è¾…åŠ©å®ç°æ­¥éª¤è§„åˆ’</h5>
<p>æç¤ºè¯å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·ä½ æ ¹æ® @docs/éœ€æ±‚åˆ†ææ–‡æ¡£.md @docs/æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£.md ï¼Œå¸®æˆ‘è§„åˆ’ä¸€ä¸‹é¡¹ç›®çš„å…·ä½“å®ç°æ­¥éª¤ã€‚

æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š
1ã€å¼€å‘äººåŠ›ä¸º2äººï¼Œå‡ä¸ºå‰ç«¯å¼€å‘
2ã€å¼€å‘ä¸æ˜¯å…¨å¤©æŠ•å…¥ï¼Œä½ å¯ä»¥æŒ‰ç…§äººå‡3.0å·¥æ—¶è®¡ç®—ï¼Œéå·¥ä½œæ—¥ä¸ç®—ã€‚
3ã€å¯ä»¥åˆ†é˜¶æ®µå®ç°ï¼Œä»¥ä¸€ä¸ªå¯è¿è¡Œçš„Demoåˆ’åˆ†

å†…å®¹å¸®æˆ‘å†™å…¥åˆ° å®ç°æ­¥éª¤è§„åˆ’æ–‡æ¡£.mdä¸­ 
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cddc245d8be748b0bfe41be3335e5fdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=7J2x%2F6RxTws5XwqAH3e1vmo31zA%3D" alt="image.png" loading="lazy"/></p>
<p>ä»¥ä¸Šå†…å®¹ä»…ä½œä¸ºä¸€ä¸ªç®€è¦ç¤ºä¾‹ï¼Œå®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­å¯æ ¹æ®å„è‡ªçš„ä¸šåŠ¡èƒŒæ™¯ä¸é¡¹ç›®ç‰¹ç‚¹çµæ´»ç¼–å†™å’Œè°ƒæ•´æç¤ºè¯ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå€ŸåŠ©Â AIÂ çš„è¾…åŠ©ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç›¸å¯¹é«˜æ•ˆåœ°å®Œæˆé˜¶æ®µåˆ’åˆ†ä¸æµç¨‹è§„åˆ’ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œç ”å‘å·¥ä½œå³å¯æŒ‰ç…§æ—¢å®šè§„åˆ’å¾ªåºæ¨è¿›ï¼Œåœ¨æ¯ä¸ªé˜¶æ®µç»“åˆå®é™…æƒ…å†µè¿›è¡ŒéªŒè¯ä¸è°ƒæ•´ï¼Œä»è€Œé€æ­¥æ¨åŠ¨é¡¹ç›®è½åœ°ã€‚</p>
<hr/>
<p>è‡³äºâ€œé˜¶æ®µäºŒï¼šäººå·¥ä¸»å¯¼ã€AIÂ è¾…åŠ©â€è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹ï¼Œè¿™é‡Œå°±ä¸å¤šåšä»‹ç»ï¼Œç›¸ä¿¡å¤§å®¶åœ¨å¹³æ—¶çš„å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿç»å¸¸ä¼šå€ŸåŠ©Â AIÂ æ¥è¾…åŠ©å¼€å‘ï¼Œä¾‹å¦‚Â ä»£ç Â <code>TAB</code>Â è¡¥å…¨ã€å€ŸåŠ© <code>Agent</code> ç”Ÿæˆå·¥å…·å‡½æ•°ç­‰ç­‰ã€‚</p>
<h4 data-id="heading-19">1.5ã€å®è·µæˆæœ</h4>
<p>åœ¨ç¡®å®šç›®æ ‡ä¹‹åï¼Œæ•´ä¸ªå®è·µè¿‡ç¨‹åœ¨Â AIÂ çš„æŒç»­è¾…åŠ©ä¸‹ï¼Œé€æ­¥å®Œå–„ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å®Œæˆäº†è¿™æ ·çš„æ’ä»¶èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>åŠŸèƒ½ç‚¹ä¸€ï¼šè‡ªåŠ¨ç”Ÿæˆä»£ç ï¼ˆè‡ªåŠ¨ç”Ÿæˆã€æ’å…¥å…‰æ ‡æ‰€åœ¨ä½ç½®ï¼‰</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/417ccce413aa49edb1ff9b29155d5ee5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=PbcEU0oF2p4jh3Qybsw9%2BzQdCPE%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8af151cb7af440079c4ac62bd43eb0cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=OGnL1YbsvZ0kATwU9bUcrIy5W6w%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p><strong>åŠŸèƒ½ç‚¹äºŒï¼šæ¥å£ç®¡ç†ï¼ˆç­›é€‰ã€åˆ·æ–°ã€çŠ¶æ€æ›´æ–°æç¤ºï¼‰</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82f9a2713db142ec8e5cc5771ac5000d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=9r1ejYrHlBLYxGYglA7BePqX3BE%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cc4b8a6c8b344f395454e4c94b7c334~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=prtN5wW1%2BgX398h%2B0j5YGo0JEuk%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p><strong>åŠŸèƒ½ç‚¹ä¸‰ï¼šAPIåˆ†æ</strong></p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bef93160af4c4d929efb816bc40f81c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=8BenwsRjJ9hLt3NfKruh%2B3InEG0%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10fa2b5f01564af68225b7ff65a44fa9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=lfmmkc4s6FO4udlQzjQ1JnuVpB8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åŠŸèƒ½ç‚¹å››ï¼šç»„ä»¶ä¿¡æ¯æç¤ºï¼ˆå±æ€§è¡¥å…¨ã€ç»„ä»¶åŠå±æ€§æç¤ºï¼‰</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d22e5a69e73e4cea89f7163d02b8a050~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=5S6v%2Fbwco4YF5LDUeIS7nj2E3u0%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bb5fde82096491cbd0112b461a60ef8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=rRLnxZftOvKVfy9X%2FXiR8padup0%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56b90e908f8b4ccfad4470f0871c38cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=J8EGKHyyMbClWF7JEkrQ1NKNBAk%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>åœ¨è¿™ä¸€å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ·±åº¦å¼•å…¥å¹¶ç³»ç»Ÿæ€§åœ°ç»“åˆäº†Â AIÂ èƒ½åŠ›ï¼Œåœ¨ä¸¥æ ¼ä¿éšœäº¤ä»˜è´¨é‡çš„å‰æä¸‹æ¨è¿›ä¸å®Œæˆç›¸å…³å·¥ä½œã€‚åŒæ—¶ï¼Œä¹Ÿåœ¨å®è·µä¸­æ²‰æ·€å¹¶æ€»ç»“äº†ä¸€å¥—è¡Œä¹‹æœ‰æ•ˆçš„Â AIÂ è¾…åŠ©ç ”å‘ç»éªŒã€‚</p>
</blockquote>
<h4 data-id="heading-20">1.6ã€AIÂ è¾…åŠ©ç ”å‘å°ç»“</h4>
<ol>
<li>AIÂ åœ¨è§„åˆ’ä¸ä¿¡æ¯æ•´ç†æ–¹é¢å…·å¤‡å¤©ç„¶ä¼˜åŠ¿</li>
<li>AIÂ æ˜¯ç ”å‘è¿‡ç¨‹ä¸­çš„åä½œåŠ©æ‰‹ï¼Œè€Œéäººå·¥ç¼–ç çš„å®Œå…¨æ›¿ä»£</li>
<li>æ•ˆç‡æå‡å°†åå‘æ¨åŠ¨å›¢é˜Ÿå¯¹Â AIÂ çš„æ›´æ·±åº¦ä½¿ç”¨</li>
<li>é«˜è´¨é‡æç¤ºè¯æ˜¯å‘æŒ¥Â AIÂ ä»·å€¼çš„å…³é”®å‰æ</li>
<li>æ–°å·¥ç¨‹åº”å§‹ç»ˆåšæŒâ€œæ–‡æ¡£å…ˆè¡Œâ€çš„ç ”å‘åŸåˆ™</li>
<li>å¯¹Â AIÂ ç”Ÿæˆçš„å†…å®¹ä¸€å®šè¦ä»”ç»†åˆ¤åˆ«ï¼Œä¸è¦å…¨ç›˜æ¥å—</li>
</ol>
<h3 data-id="heading-21">äºŒã€AIÂ èµ‹èƒ½ä¸ªäººæˆé•¿</h3>
<p>åœ¨é¢å¯¹é™Œç”Ÿå´åˆå……æ»¡å¸å¼•åŠ›çš„æŠ€æœ¯æˆ–çŸ¥è¯†é¢†åŸŸæ—¶ï¼Œå¾ˆå¤šäººæˆ–è®¸éƒ½æœ‰è¿‡ç±»ä¼¼çš„ä½“éªŒï¼šå¿ƒç”Ÿå…´è¶£ï¼Œå´ä¸€æ—¶ä¸çŸ¥ä»ä½•å…¥æ‰‹ï¼›æ¸´æœ›äº²æ‰‹åšå‡ºä¸€äº›æˆæœï¼Œå´åˆè¢«è¾ƒé«˜çš„å­¦ä¹ æˆæœ¬å’Œé—¨æ§›æ‰€åŠé€€ã€‚<br/>
è€Œéšç€Â AIÂ æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œè¿™ç§â€œæƒ³åšå´ä¸æ•¢åšâ€çš„å±€é¢æ­£åœ¨è¢«é€æ­¥æ‰“ç ´ã€‚è·¨é¢†åŸŸæ¢ç´¢ä¸å†æ˜¯å°‘æ•°ä¸“ä¸šäººå£«çš„ä¸“åˆ©ï¼Œè¶Šæ¥è¶Šå¤šéç§‘ç­èƒŒæ™¯çš„å¼€å‘è€…ï¼Œå€ŸåŠ©Â AIÂ æˆåŠŸå®Œæˆäº†ç½‘é¡µã€AppÂ ä¹ƒè‡³å®Œæ•´äº§å“çš„æ­å»ºï¼›ä¹Ÿæœ‰è¶Šæ¥è¶Šå¤šä»ä¸šè€…ï¼Œé€šè¿‡Â AIÂ å®ç°äº†è·¨ä¸“ä¸šã€è·¨é¢†åŸŸçš„èƒ½åŠ›æ‹“å±•ä¸æŠ€èƒ½å‡çº§ã€‚</p>
<p>æˆ‘è‡ªå·±ä¹Ÿæ·±æœ‰åŒæ„Ÿã€‚å¹³æ—¶åœ¨æµè§ˆæŠ€æœ¯å†…å®¹æˆ–è§†é¢‘æ—¶ï¼Œå¸¸å¸¸ä¼šè¢«ä¸€äº›æ–°é¢–çš„æŠ€æœ¯åº”ç”¨æˆ–åˆ›æ„ä½œå“æ‰€å¸å¼•ï¼Œçœ¼å‰ä¸€äº®çš„åŒæ—¶ï¼Œä¹Ÿä¸å…äº§ç”Ÿä¸€ä¸ªæƒ³æ³•ï¼šæœ‰ä¸€å¤©ï¼Œè‡ªå·±æ˜¯å¦ä¹Ÿèƒ½åšå‡ºç±»ä¼¼çš„äº§å“ï¼Ÿè€ŒÂ AIï¼Œæ­£åœ¨è®©è¿™ç§æƒ³æ³•å˜å¾—å‰æ‰€æœªæœ‰åœ°å¯è¡Œã€‚</p>
<hr/>
<p>ä¸‹é¢çš„æ¡ˆä¾‹ï¼Œæ­£æ˜¯æˆ‘åœ¨Â AIÂ çš„è¾…åŠ©ä¸‹é€æ­¥æ¢ç´¢æœªçŸ¥é¢†åŸŸã€ä¸æ–­æ‹“å±•èƒ½åŠ›è¾¹ç•Œçš„å®è·µè¿‡ç¨‹ã€‚åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œæˆ‘å€ŸåŠ©Â AIÂ å®Œæˆäº†ä¸€ä¸ªç®€æ˜“ç‰ˆÂ Demoï¼Œä¸ä»…éªŒè¯äº†æƒ³æ³•çš„å¯è¡Œæ€§ï¼Œä¹Ÿæ”¶è·äº†ä¸å°‘æ–°çš„è®¤çŸ¥ä¸ç»éªŒã€‚ä¸‹é¢ä¸€èµ·æ¥çœ‹çœ‹è¿™ä¸ªè¿‡ç¨‹å§ã€‚</p>
<h4 data-id="heading-22">2.1ã€å°è¯•åŸå› ä¸ç›®æ ‡</h4>
<h5 data-id="heading-23">2.1.1ã€å°è¯•åŸå› </h5>
<p>ä¸€æ–¹é¢ï¼Œ3DÂ å¯è§†åŒ–ä¸€ç›´æ˜¯æˆ‘ä¸ªäººæ„Ÿå…´è¶£ä½†è¾ƒå°‘å®é™…æ¶‰è¶³çš„æŠ€æœ¯æ–¹å‘ã€‚ç›¸è¾ƒäºå¸¸è§„çš„Â WebÂ é¡µé¢å¼€å‘ï¼Œ3DÂ åœºæ™¯åœ¨ç©ºé—´è¡¨è¾¾ã€ä¿¡æ¯ç»„ç»‡å’Œäº¤äº’ä½“éªŒä¸Šå…·å¤‡æ›´å¼ºçš„è¡¨ç°åŠ›ï¼Œä½†åŒæ—¶ä¹Ÿä¼´éšç€æ›´é«˜çš„å­¦ä¹ æˆæœ¬å’ŒæŠ€æœ¯é—¨æ§›ï¼Œè¿™ä½¿å¾—æˆ‘é•¿æœŸåœç•™åœ¨â€œæ„Ÿå…´è¶£å´æœªçœŸæ­£å…¥æ‰‹â€çš„é˜¶æ®µã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œæˆ‘å¸Œæœ›å€ŸåŠ©è¿™æ¬¡å®è·µï¼ŒéªŒè¯Â AIÂ åœ¨è·¨é¢†åŸŸå­¦ä¹ ä¸æ¢ç´¢ä¸­çš„å®é™…ä»·å€¼ã€‚åœ¨å¹¶éç³»ç»ŸæŒæ¡Â 3DÂ å›¾å½¢å­¦ã€<code>Three.js</code>Â ç­‰ç›¸å…³çŸ¥è¯†çš„å‰æä¸‹ï¼ŒAIÂ æ˜¯å¦èƒ½å¤Ÿåœ¨æ–¹æ¡ˆæ‹†è§£ã€æŠ€æœ¯é€‰å‹ã€å®ç°è·¯å¾„è§„åˆ’ä»¥åŠå…·ä½“ç¼–ç è¿‡ç¨‹ä¸­ï¼ŒæŒç»­æä¾›æœ‰æ•ˆæ”¯æŒï¼Œå¸®åŠ©æˆ‘å®Œæˆä¸€ä¸ªâ€œä»Â 0Â åˆ°Â 1â€çš„å¯è¿è¡Œæˆæœï¼Œæ˜¯æˆ‘éå¸¸å…³å¿ƒçš„é—®é¢˜ã€‚</p>
<h5 data-id="heading-24">2.1.2ã€ç›®æ ‡è®¾å®š</h5>
<p>åŸºäºä¸Šè¿°èƒŒæ™¯ï¼Œè¿™æ¬¡å°è¯•å¹¶æœªè¿½æ±‚å¤æ‚æˆ–é«˜åº¦å®Œæ•´çš„äº§å“å½¢æ€ï¼Œè€Œæ˜¯èšç„¦äºä¸€ä¸ª<strong>æ¸…æ™°ã€å¯è½åœ°ã€å¯éªŒè¯çš„æœ€å°ç›®æ ‡</strong>ï¼š</p>
<ul>
<li>æ„å»ºä¸€ä¸ªÂ <strong>3DÂ å»ºç­‘å¯è§†åŒ–é¡µé¢</strong>ï¼Œä»¥å¤šæ¥¼å±‚å»ºç­‘ä¸ºè½½ä½“ï¼›</li>
<li>æ”¯æŒæ¥¼å±‚åˆ‡æ¢ä¸å±•ç¤ºæ§åˆ¶ï¼Œå¯æŒ‰éœ€æŸ¥çœ‹å½“å‰æ¥¼å±‚æˆ–æ•´ä½“ç»“æ„ï¼›</li>
<li>åœ¨æ¥¼å±‚ä¸­ä»¥åŒºåŸŸå½¢å¼å‘ˆç°åŠŸèƒ½åˆ†åŒºä¿¡æ¯ï¼ˆå¦‚åŠå…¬åŒºã€ç”µæ¢¯é—´ç­‰ï¼‰ï¼Œå¹¶é€šè¿‡é¢œè‰²æˆ–æ ‡æ³¨è¿›è¡ŒåŒºåˆ†ï¼›</li>
<li>é€šè¿‡è¿™ä¸€Â Demoï¼ŒéªŒè¯åœ¨Â AIÂ è¾…åŠ©ä¸‹ï¼Œè‡ªå·±æ˜¯å¦èƒ½å¤Ÿï¼š
<ul>
<li>å¿«é€Ÿç†è§£é™Œç”Ÿé¢†åŸŸçš„æ ¸å¿ƒæ¦‚å¿µï¼›</li>
<li>å°†æŠ½è±¡æƒ³æ³•é€æ­¥æ‹†è§£ä¸ºå¯å®ç°çš„æŠ€æœ¯æ–¹æ¡ˆï¼›</li>
<li>æœ€ç»ˆäº§å‡ºä¸€ä¸ªå…·å¤‡åŸºç¡€äº¤äº’ä¸å±•ç¤ºä»·å€¼çš„å®é™…æˆæœã€‚</li>
</ul>
</li>
</ul>
<p>ä»ç»“æœæ¥çœ‹ï¼Œè¿™ä¸ªÂ 3DÂ å»ºç­‘Â DemoÂ ä¸ä»…å¸®åŠ©æˆ‘å®Œæˆäº†å¯¹Â 3DÂ æŠ€æœ¯çš„åˆæ­¥â€œç ´å†°â€ï¼Œä¹Ÿè®©æˆ‘æ›´åŠ ç›´è§‚åœ°æ„Ÿå—åˆ°ï¼š<strong>AIÂ æ­£åœ¨æ˜¾è‘—é™ä½è·¨é¢†åŸŸæ¢ç´¢çš„è¯•é”™æˆæœ¬ï¼Œä½¿â€œå…ˆåšå‡ºæ¥ï¼Œå†é€æ­¥ä¼˜åŒ–â€æˆä¸ºä¸€ç§ç°å®å¯è¡Œçš„å­¦ä¹ è·¯å¾„ã€‚</strong></p>
<h4 data-id="heading-25">2.2ã€å®è·µæˆæœ</h4>
<p>åœ¨æ˜ç¡®ç›®æ ‡ä¹‹åï¼Œæ•´ä¸ªå®è·µè¿‡ç¨‹å¹¶éä¸€æ¬¡æ€§å®Œæˆï¼Œè€Œæ˜¯åœ¨Â AIÂ çš„æŒç»­è¾…åŠ©ä¸‹ï¼Œé€æ­¥æ¨è¿›å’Œå®Œå–„ã€‚æœ€ç»ˆï¼Œæˆ‘å®Œæˆäº†ä¸€ä¸ªå…·å¤‡åŸºç¡€äº¤äº’èƒ½åŠ›çš„Â 3DÂ å»ºç­‘å¯è§†åŒ–Â Demoã€‚</p>
<ul>
<li><strong>åŠŸèƒ½ä¸€ï¼šæ•´ä½“é¢„è§ˆ</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/925160895a0246d6ae968e901890b0e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=mUO2hbpVtECtaMIRNhBbOkzknXA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>åŠŸèƒ½äºŒï¼šå…¶å®ƒæ¥¼å±‚é€æ˜åŒ–</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a9d0812dcdd4475bd6d7e9e691491e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=41QahfIUFMkZN31ZzU4%2Ba6%2BF9E8%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>åŠŸèƒ½ä¸‰ï¼šå•æ¥¼å±‚é¢„è§ˆ</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/880102495e6b4d7f96cba64000b38fb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=oW2d6xvRoHeeZMqKFP%2B6lQdWFLU%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶å®ç°è¿‡ç¨‹ä¹Ÿæ¸…æ™°åœ°ä½“ç°äº†Â AIÂ åœ¨ä¸åŒé˜¶æ®µæ‰€å‘æŒ¥çš„ä»·å€¼ï¼Œä¸‹é¢æˆ‘ä¸ºå¤§å®¶ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p>
<h5 data-id="heading-26">2.2.1ã€é¡¹ç›®æ­å»ºè¿‡ç¨‹</h5>
<p>ä¸‹å›¾å±•ç¤ºäº†æˆ‘åœ¨æ•´ä¸ªé¡¹ç›®æ­å»ºè¿‡ç¨‹ä¸­ï¼Œä¸Â AIÂ çš„ä¸»è¦å¯¹è¯ä¸æ¨è¿›è®°å½•ã€‚æ•´ä½“é¡¹ç›®ä»é›¶å¼€å§‹åˆ°å¯ç”¨Â DemoÂ äº§å‡ºï¼Œå¤§çº¦èŠ±è´¹äº†Â <strong>2Â å¤©æ—¶é—´</strong>å®Œæˆï¼ˆç•Œé¢ä¸åŠŸèƒ½ä»¥éªŒè¯æ€è·¯ä¸ºä¸»ï¼Œæ•´ä½“åç®€æ´ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a503b8c150bf459491eaaa95066a697a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pS_6YeH5LqR5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478873&amp;x-signature=omb0slg7hO%2F6AROjlP5lpgo12u4%3D" alt="image.png" loading="lazy"/></p>
<p>ä»è®°å½•ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å¹¶æœªé‡‡ç”¨â€œè¾¹å†™ä»£ç è¾¹è¯•é”™â€çš„æ–¹å¼ï¼Œè€Œæ˜¯<strong>ä¸¥æ ¼éµå¾ªã€Œæ–‡æ¡£å…ˆè¡Œã€çš„åŸåˆ™</strong>æ¥æ¨è¿›æ•´ä¸ªé¡¹ç›®ã€‚å…·ä½“æµç¨‹å¯ä»¥æŠ½è±¡ä¸ºä¸€æ¡ç›¸å¯¹é€šç”¨çš„å®è·µé“¾è·¯ï¼š</p>
<blockquote>
<p>â€œAIÂ åˆ†æéœ€æ±‚â€Â -&gt;Â â€œç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆä¸å®ç°è·¯å¾„â€Â -&gt;Â â€œé¡µé¢ä¸äº¤äº’è®¾è®¡â€Â -&gt;Â â€œé¡¹ç›®åˆå§‹åŒ–â€Â -&gt;Â â€œæŒ‰æ­¥éª¤åˆ†é˜¶æ®µå®ç°åŠŸèƒ½â€Â -&gt;Â â€œæµ‹è¯•ä¸é—®é¢˜ä¿®å¤â€Â -&gt;Â â€œä¼˜åŒ–ä¸å®Œå–„â€</p>
</blockquote>
<p>åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ï¼ŒAIÂ æ‰¿æ‹…äº†ä»éœ€æ±‚åˆ†æã€æ–¹æ¡ˆè®¾è®¡åˆ°å…·ä½“å®ç°çš„ä¸»è¦è¾“å‡ºå·¥ä½œï¼›è€Œæˆ‘æ›´å¤šæ‰®æ¼”çš„æ˜¯<strong>éœ€æ±‚æ ¡éªŒè€…ä¸æ–¹å‘å†³ç­–è€…</strong>çš„è§’è‰²ï¼ŒæŒç»­åˆ¤æ–­Â AIÂ ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå¹¶åœ¨å¿…è¦æ—¶è¿›è¡Œè°ƒæ•´ä¸æ”¶æ•›ã€‚</p>
<p>è¿™ç§æ¨¡å¼ä½¿æˆ‘èƒ½å¤Ÿåœ¨ä¸ç†Ÿæ‚‰Â 3DÂ æŠ€æœ¯ç»†èŠ‚çš„å‰æä¸‹ï¼Œä¾ç„¶ä¿æŒå¯¹æ•´ä½“æ¶æ„å’Œäº§å“å½¢æ€çš„æ§åˆ¶ï¼Œä»è€Œé¡ºåˆ©å®Œæˆä¸€æ¬¡ä»Â 0Â åˆ°Â 1Â çš„å®Œæ•´å®è·µã€‚</p>
<h5 data-id="heading-27">2.2.2ã€æµç¨‹è§£æ</h5>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°è¯´æ˜è¿™ä¸€å®è·µè¿‡ç¨‹ï¼Œæˆ‘å°†ä¸Šè¿°é“¾è·¯è¿›ä¸€æ­¥æ‹†è§£ä¸ºä»¥ä¸‹äº”ä¸ªé˜¶æ®µï¼š</p>
<p><strong>1ï¼‰æ–‡æ¡£ä¸Â UIÂ è®¾è®¡é˜¶æ®µ</strong></p>
<p>åœ¨çœŸæ­£è¿›å…¥å®ç°ä¹‹å‰ï¼Œæˆ‘é¦–å…ˆå°†è‡ªå·±çš„æƒ³æ³•ã€ç›®æ ‡ä¸é¢„æœŸæ•ˆæœå®Œæ•´åœ°äº¤ç»™Â AIï¼Œç”±å…¶è¿›è¡Œéœ€æ±‚åˆ†æå¹¶äº§å‡ºåˆæ­¥çš„æŠ€æœ¯æ–¹æ¡ˆä¸å®ç°æ€è·¯ã€‚</p>
<p>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œè¿™ä¸€é˜¶æ®µ<strong>å¹¶ä¸æ˜¯â€œå®Œå…¨æ”¾æ‰‹â€</strong>ï¼Œè€Œæ˜¯éœ€è¦æˆ‘ä»¬æ·±åº¦å‚ä¸å’ŒæŒç»­æ ¡éªŒï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ˜¯å¦ç¬¦åˆæœ€åˆè®¾å®šçš„ç›®æ ‡è¾¹ç•Œï¼›</li>
<li>æŠ€æœ¯æ–¹æ¡ˆæ˜¯å¦è¿‡åº¦è®¾è®¡ï¼›</li>
<li>UIÂ ä¸äº¤äº’æ˜¯å¦å…·å¤‡å®é™…å¯è¡Œæ€§ã€‚</li>
</ul>
<p>è¿™ä¸€è¿‡ç¨‹æœ¬è´¨ä¸Šæ˜¯<strong>å°†æ¨¡ç³Šæƒ³æ³•ä¸æ–­ç»“æ„åŒ–ã€å…·ä½“åŒ–</strong>çš„è¿‡ç¨‹ã€‚</p>
<blockquote>
<p>ğŸ’¡Tipsï¼šè¯¥é˜¶æ®µæ˜¯æ•´ä¸ªè®¾è®¡ä¸­æœ€ä¸ºé‡è¦çš„ä¸€ç¯ï¼Œå®ƒå½±å“ç€æˆ‘ä»¬çš„æ•´ä½“è®¾è®¡é“¾è·¯ã€‚</p>
</blockquote>
<p><strong>2ï¼‰é¡¹ç›®åˆå§‹åŒ–</strong></p>
<p>åœ¨é¡¹ç›®åˆå§‹åŒ–é˜¶æ®µï¼ŒAIÂ æ›´å¤šåœ°æ‰¿æ‹…äº†â€œæŠ€æœ¯è´Ÿè´£äººâ€çš„è§’è‰²ï¼Œè´Ÿè´£æ•´ä½“å·¥ç¨‹éª¨æ¶çš„æ­å»ºï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li>3DÂ åœºæ™¯åˆå§‹åŒ–é€»è¾‘ï¼›</li>
<li>æ¸²æŸ“å¾ªç¯ä¸åŸºç¡€æ›´æ–°æœºåˆ¶ï¼›</li>
<li>æ¨¡å—ä¸èµ„æºçš„ç»„ç»‡æ–¹å¼ã€‚</li>
</ul>
<p>è¿™ä¸€é˜¶æ®µçš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š<strong>å¿«é€Ÿå»ºç«‹ä¸€ä¸ªå¯æŒç»­è¿­ä»£çš„å·¥ç¨‹åŸºç¡€</strong>ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±è¿½æ±‚å®Œæ•´åŠŸèƒ½ã€‚</p>
<p><strong>3ï¼‰æ ¸å¿ƒÂ 3DÂ åœºæ™¯æ­å»º</strong></p>
<p>åœ¨å…·å¤‡åŸºç¡€å·¥ç¨‹ç»“æ„åï¼Œå®è·µè¿›å…¥åˆ°Â 3DÂ åœºæ™¯æœ¬èº«çš„æ„å»ºé˜¶æ®µã€‚AIÂ é’ˆå¯¹Â 3DÂ åœºæ™¯ä¸­è¾ƒä¸ºå…³é”®çš„åŸºç¡€èƒ½åŠ›æä¾›äº†è¾ƒä¸ºç³»ç»Ÿçš„æŒ‡å¯¼ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ç›¸æœºï¼ˆ<code>Camera</code>ï¼‰çš„ç±»å‹é€‰æ‹©ä¸å‚æ•°é…ç½®ï¼›</li>
<li>å…‰æºï¼ˆ<code>Light</code>ï¼‰çš„ç»„åˆæ–¹å¼ä¸åŸºç¡€ç…§æ˜ç­–ç•¥ï¼›</li>
<li>æ§åˆ¶å™¨ï¼ˆ<code>Controls</code>ï¼‰çš„ä½¿ç”¨åœºæ™¯ä¸äº¤äº’é™åˆ¶ã€‚</li>
</ul>
<p>å€ŸåŠ©è¿™äº›æŒ‡å¯¼ï¼Œæˆ‘èƒ½å¤Ÿåœ¨ä¸æ·±å…¥å›¾å½¢å­¦åŸç†çš„å‰æä¸‹ï¼Œå¿«é€Ÿæ­å»ºå‡ºä¸€ä¸ª<strong>å¯è§‚å¯Ÿã€å¯æ“ä½œã€ç»“æ„æ¸…æ™°</strong>çš„ä¸‰ç»´ç©ºé—´ç¯å¢ƒã€‚</p>
<p><strong>4ï¼‰äº¤äº’èƒ½åŠ›è¡¥é½</strong></p>
<p>åœ¨å®ŒæˆåŸºç¡€å±•ç¤ºåï¼Œé‡ç‚¹å¼€å§‹è½¬å‘äº¤äº’èƒ½åŠ›çš„è¡¥é½ã€‚AIÂ åœ¨è¿™ä¸€é˜¶æ®µååŠ©æˆ‘é€æ­¥å¼•å…¥å¹¶å®Œå–„äº†ä»¥ä¸‹å…³é”®èƒ½åŠ›ï¼š</p>
<ul>
<li>åŸºäºÂ <strong>Raycasting</strong>Â çš„ç‚¹å‡»ä¸å‘½ä¸­æ£€æµ‹ï¼›</li>
<li>åŸºäºÂ <strong>HTMLÂ Overlay</strong>Â çš„åŒºåŸŸæ ‡ç­¾å±•ç¤ºç­–ç•¥ä¸ä½ç½®è®¡ç®—ï¼›</li>
<li>åŒºåŸŸæ‚¬åœé«˜äº®æ•ˆæœï¼ˆçº¿æ¡†è½®å»“ï¼‰ï¼›</li>
<li>æ¥¼å±‚ä¸åŒºåŸŸä¹‹é—´çš„å±‚çº§å…³ç³»ç®¡ç†ï¼›</li>
<li>æ¥¼å±‚åˆ‡æ¢ã€æ˜¾ç¤ºæ§åˆ¶åŠçŠ¶æ€åŒæ­¥é€»è¾‘ã€‚</li>
</ul>
<p>éšç€è¿™äº›èƒ½åŠ›é€æ­¥è½åœ°ï¼Œæ•´ä¸ªÂ DemoÂ ä¹Ÿä»â€œé™æ€æ¨¡å‹å±•ç¤ºâ€æ¼”è¿›ä¸ºä¸€ä¸ª<strong>å¯æ¢ç´¢ã€å¯äº¤äº’çš„Â 3DÂ å»ºç­‘åœºæ™¯</strong>ã€‚</p>
<p><strong>5ï¼‰ä¼˜åŒ–å®Œå–„</strong></p>
<p>åœ¨åŠŸèƒ½åŸºæœ¬æˆå‹åï¼Œæœ€åä¸€ä¸ªé˜¶æ®µèšç„¦äºä½“éªŒä¸ç¨³å®šæ€§çš„ä¼˜åŒ–ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ€§èƒ½ä¸æ¸²æŸ“æ•ˆæœçš„åŸºç¡€ä¼˜åŒ–ï¼›</li>
<li>äº¤äº’åé¦ˆä¸è§†è§‰è¡¨ç°çš„è°ƒæ•´ï¼›</li>
<li>é—®é¢˜ä¿®å¤ä¸é€»è¾‘æ”¶æ•›ã€‚</li>
</ul>
<p>è¿™ä¸€é˜¶æ®µè™½ç„¶ä¸å†å¼•å…¥æ–°çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œä½†å¯¹äºÂ DemoÂ çš„â€œå¯ç”¨æ€§â€å’Œå®Œæ•´åº¦èµ·åˆ°äº†å†³å®šæ€§ä½œç”¨ã€‚</p>
<h4 data-id="heading-28">2.3ã€æœ€ç»ˆæ”¶è·</h4>
<p>å›é¡¾æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿™æ¬¡å®è·µæ›´åƒæ˜¯ä¸€åœº<strong>æ–¹æ³•è®ºéªŒè¯</strong>ï¼š</p>
<blockquote>
<p>åœ¨Â AIÂ çš„æŒç»­è¾…åŠ©ä¸‹ï¼Œé€šè¿‡ã€Œæ–‡æ¡£é©±åŠ¨Â +Â å°æ­¥è¿­ä»£Â +Â äººå·¥æ ¡éªŒã€çš„æ–¹å¼ï¼Œå³ä½¿é¢å¯¹é™Œç”Ÿé¢†åŸŸï¼Œä¹Ÿèƒ½å¤Ÿåœ¨è¾ƒçŸ­æ—¶é—´å†…å®Œæˆä¸€æ¬¡å¯è½åœ°çš„æŠ€æœ¯æ¢ç´¢ã€‚</p>
</blockquote>
<p>å…·ä½“æ¥çœ‹ï¼Œè¿™æ¬¡å®è·µå¸¦æ¥çš„æ”¶è·ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<h5 data-id="heading-29">2.3.1ã€å¯¹Â AIÂ èƒ½åŠ›è¾¹ç•Œçš„æ›´æ¸…æ™°è®¤çŸ¥</h5>
<p>åœ¨å®è·µä¹‹å‰ï¼Œæˆ‘æ›´å¤šæ˜¯å°†Â AIÂ è§†ä¸ºâ€œé—®é¢˜è§£ç­”å·¥å…·â€æˆ–â€œä»£ç è¡¥å…¨åŠ©æ‰‹â€ï¼›è€Œåœ¨è¿™æ¬¡å®Œæ•´é¡¹ç›®è¿‡ç¨‹ä¸­ï¼ŒAIÂ æ›´åƒæ˜¯ä¸€ä¸ª<strong>éšæ—¶å¯è°ƒç”¨çš„æŠ€æœ¯åˆä½œè€…</strong>ï¼Œèƒ½å¤Ÿåœ¨éœ€æ±‚åˆ†æã€æ–¹æ¡ˆæ‹†è§£ã€æŠ€æœ¯é€‰å‹ä»¥åŠå…·ä½“å®ç°ä¸Šæä¾›æŒç»­æ”¯æŒã€‚</p>
<p>åŒæ—¶ï¼Œè¿™æ¬¡å®è·µä¹Ÿè®©æˆ‘æ›´æ¸…æ™°åœ°è®¤è¯†åˆ°Â AIÂ çš„è¾¹ç•Œï¼šAIÂ å¹¶ä¸èƒ½æ›¿ä»£äººçš„åˆ¤æ–­ä¸å†³ç­–ï¼Œä½†<strong>å¯ä»¥æ˜¾è‘—é™ä½è¯•é”™æˆæœ¬å’Œèµ·æ­¥é—¨æ§›</strong>ï¼Œå°¤å…¶åœ¨è·¨é¢†åŸŸæ¢ç´¢ä¸­ä»·å€¼å°¤ä¸ºæ˜æ˜¾ã€‚</p>
<h5 data-id="heading-30">2.3.2ã€éªŒè¯äº†ä¸€ç§å¯å¤ç”¨çš„è·¨é¢†åŸŸå®è·µè·¯å¾„</h5>
<p>é€šè¿‡è¿™æ¬¡å®è·µï¼Œæˆ‘éªŒè¯äº†ä¸€æ¡åœ¨é™Œç”Ÿé¢†åŸŸä¸­è¡Œä¹‹æœ‰æ•ˆçš„é€šç”¨è·¯å¾„ï¼š</p>
<ul>
<li>å…ˆæ˜ç¡®ç›®æ ‡ä¸è¾¹ç•Œï¼Œè€Œéè¿½æ±‚ä¸€æ¬¡æ€§â€œåšå¤§åšå…¨â€ï¼›</li>
<li>ä»¥æ–‡æ¡£å’Œæ–¹æ¡ˆä¸ºå…ˆå¯¼ï¼Œé™ä½ç›´æ¥ç¼–ç å¸¦æ¥çš„ä¸ç¡®å®šæ€§ï¼›</li>
<li>å°†å¤æ‚é—®é¢˜æ‹†è§£ä¸ºå¤šä¸ªå¯éªŒè¯çš„å°æ­¥éª¤ï¼›</li>
<li>åœ¨æ¯ä¸€æ­¥ç”±äººæ¥åšæœ€ç»ˆåˆ¤æ–­ä¸æ”¶æ•›ã€‚</li>
</ul>
<p>è¿™ä¸€æ¨¡å¼å¹¶ä¸ä¾èµ–å…·ä½“æŠ€æœ¯æ ˆï¼Œå¯¹åç»­æ¢ç´¢å…¶ä»–æŠ€æœ¯æ–¹å‘åŒæ ·å…·å¤‡å‚è€ƒä»·å€¼ã€‚</p>
<h5 data-id="heading-31">2.3.3ã€å¯¹â€œå­¦ä¹ æˆæœ¬â€çš„è®¤çŸ¥å‘ç”Ÿè½¬å˜</h5>
<p>è¿‡å»åœ¨é¢å¯¹ä¸ç†Ÿæ‚‰é¢†åŸŸæ—¶ï¼Œå¾€å¾€ä¼šè¢«â€œéœ€è¦è¡¥é½å¤§é‡å‰ç½®çŸ¥è¯†â€æ‰€åŠé€€ï¼›è€Œè¿™æ¬¡å®è·µè®©æˆ‘æ„è¯†åˆ°ï¼Œåœ¨Â AIÂ çš„è¾…åŠ©ä¸‹ï¼Œ<strong>å­¦ä¹ ä¸å¿…ç­‰åˆ°å®Œå…¨ç†è§£æ‰€æœ‰åŸç†ä¹‹åæ‰å¼€å§‹åŠ¨æ‰‹</strong>ã€‚</p>
<p>é€šè¿‡â€œå…ˆåšå‡ºæ¥ï¼Œå†é€æ­¥ç†è§£â€çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨å®è·µä¸­åå‘è¡¥é½è®¤çŸ¥ï¼Œè¿™åœ¨æ•ˆç‡å’Œå¿ƒç†è´Ÿæ‹…ä¸Šéƒ½æ›´å¯æ§ã€‚</p>
<h5 data-id="heading-32">2.3.4ã€ä»â€œæ˜¯å¦èƒ½åšåˆ°â€åˆ°â€œæ˜¯å¦å€¼å¾—å»åšâ€</h5>
<p>æœ€ç»ˆå®Œæˆçš„Â DemoÂ æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œä½†å®ƒèµ·åˆ°çš„å…³é”®ä½œç”¨åœ¨äºï¼šå®ƒè®©æˆ‘ä»â€œæˆ‘èƒ½ä¸èƒ½åšÂ 3DÂ ç›¸å…³çš„ä¸œè¥¿â€ï¼Œè½¬å˜ä¸ºâ€œåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œè¿™ç±»æŠ€æœ¯å€¼å¾—è¢«å¼•å…¥å’Œä½¿ç”¨â€ã€‚</p>
<p>è¿™ç§è§†è§’çš„è½¬å˜ï¼Œæ¯”å•çº¯æŒæ¡æŸä¸ªå…·ä½“æŠ€æœ¯ç‚¹æ›´æœ‰ä»·å€¼ã€‚</p>
<h3 data-id="heading-33">ä¸‰ã€AIè¾…åŠ©ç ”å‘çš„æ–¹æ³•è®ºæ€»ç»“</h3>
<p>ç»¼åˆå‰æ–‡çš„å®è·µè¿‡ç¨‹ä¸ç»“æœï¼Œè¿™æ¬¡Â 3DÂ å»ºç­‘Â DemoÂ çš„æ¢ç´¢ï¼Œæœ¬è´¨ä¸Šå¹¶ä¸æ˜¯ä¸€æ¬¡å•ç‚¹æŠ€æœ¯å°è¯•ï¼Œè€Œæ˜¯ä¸€æ¬¡å¯¹Â <strong>AIÂ è¾…åŠ©ç ”å‘æ–¹æ³•è®º</strong>çš„ç³»ç»ŸéªŒè¯ã€‚</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘é€æ­¥æ€»ç»“å‡ºä¸€å¥—ç›¸å¯¹ç¨³å®šã€å¯å¤ç”¨çš„åä½œæ¨¡å¼ã€‚</p>
<h4 data-id="heading-34">3.1ã€è®©Â AIÂ åšç»“æ„æ€§å·¥ä½œ</h4>
<p>åœ¨é¡¹ç›®åˆæœŸï¼Œ<strong>ç»“æ„æ€§å·¥ä½œæ˜¯æœ€é€‚åˆäº¤ç»™Â AIÂ çš„éƒ¨åˆ†</strong>ã€‚è¿™ç±»å·¥ä½œé€šå¸¸å…·å¤‡ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>ä¿¡æ¯é‡å¤§ï¼Œä½†å•ç‚¹å†³ç­–æˆæœ¬ä¸é«˜ï¼›</li>
<li>éœ€è¦æ•´ä½“è§†è§’ï¼Œè€Œéå±€éƒ¨å®ç°ç»†èŠ‚ï¼›</li>
<li>å®¹æ˜“å› ä¸ºç»éªŒä¸è¶³è€Œèµ°å¼¯è·¯ã€‚</li>
</ul>
<p>å…·ä½“åŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li>éœ€æ±‚æ‹†è§£ä¸åŠŸèƒ½æ¨¡å—åˆ’åˆ†ï¼›</li>
<li>æŠ€æœ¯æ–¹æ¡ˆä¸å®ç°è·¯å¾„è®¾è®¡ï¼›</li>
<li>é¡¹ç›®ç›®å½•ç»“æ„ä¸å·¥ç¨‹éª¨æ¶è§„åˆ’ï¼›</li>
<li>ä¸åŒæ–¹æ¡ˆä¹‹é—´çš„ä¼˜åŠ£å¯¹æ¯”ï¼›</li>
</ul>
<p>AIÂ åœ¨è¿™ä¸€é˜¶æ®µçš„ä»·å€¼ï¼Œå¹¶ä¸åœ¨äºâ€œä¸€å®šç»™å‡ºæœ€ä¼˜è§£â€ï¼Œè€Œåœ¨äº<strong>å¿«é€Ÿæ„å»ºä¸€ä¸ªå®Œæ•´ä¸”å¯è®¨è®ºçš„ç»“æ„</strong>ï¼Œè®©ç ”å‘èƒ½å¤Ÿå°½æ—©è¿›å…¥â€œåˆ¤æ–­ä¸ä¿®æ­£â€é˜¶æ®µï¼Œè€Œä¸æ˜¯é•¿æœŸåœç•™åœ¨ç©ºæƒ³ä¸­ã€‚</p>
<h4 data-id="heading-35">3.2ã€è®©Â AIÂ åšé‡å¤æ€§ä¸æœºæ¢°æ€§å·¥ä½œ</h4>
<p>åœ¨è¿›å…¥å…·ä½“å®ç°åï¼ŒAIÂ éå¸¸é€‚åˆæ‰¿æ‹…<strong>é‡å¤æ€§å¼ºã€æ¨¡å¼ç›¸å¯¹å›ºå®šçš„å·¥ä½œ</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æ¨¡æ¿ä»£ç ã€åŸºç¡€é…ç½®ä¸æ ·æ¿é€»è¾‘ç”Ÿæˆï¼›</li>
<li>APIÂ ä½¿ç”¨ç¤ºä¾‹ã€è°ƒç”¨æ–¹å¼æ¢³ç†ï¼›</li>
<li>å·²çŸ¥æ–¹æ¡ˆçš„å®ç°è½åœ°ï¼›</li>
<li>æ–‡æ¡£è¡¥å…¨ã€æ­¥éª¤æ•´ç†ä¸è¯´æ˜ç¼–å†™ã€‚</li>
</ul>
<p>è¿™äº›å·¥ä½œæœ¬èº«å¹¶ä¸ä½“ç°ç ”å‘çš„æ ¸å¿ƒä»·å€¼ï¼Œä½†å´å¤§é‡æ¶ˆè€—æ—¶é—´ä¸ç²¾åŠ›ã€‚<br/>
å°†å®ƒä»¬äº¤ç”±Â AIÂ å®Œæˆï¼Œå¯ä»¥æ˜¾è‘—æå‡æ¨è¿›æ•ˆç‡ï¼Œä½¿äººèƒ½å¤ŸæŠŠæ³¨æ„åŠ›é›†ä¸­åœ¨<strong>çœŸæ­£éœ€è¦æ€è€ƒå’Œåˆ¤æ–­çš„éƒ¨åˆ†</strong>ã€‚</p>
<h4 data-id="heading-36">3.3ã€ä½ è´Ÿè´£åˆ¤æ–­ä¸ä¼˜åŒ–ï¼ˆæ–¹å‘æŠŠæ§ï¼‰</h4>
<p>æ— è®ºÂ AIÂ åœ¨è¾“å‡ºå±‚é¢å¤šä¹ˆé«˜æ•ˆï¼Œ<strong>æ–¹å‘åˆ¤æ–­ä¸è´¨é‡æŠŠæ§å§‹ç»ˆå¿…é¡»ç”±äººæ¥å®Œæˆ</strong>ã€‚<br/>
åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘æ‰¿æ‹…çš„æ ¸å¿ƒèŒè´£ä¸»è¦é›†ä¸­åœ¨ä¸‰ç‚¹ï¼š</p>
<ul>
<li>åˆ¤æ–­Â AIÂ ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯å¦ç¬¦åˆçœŸå®éœ€æ±‚ï¼›</li>
<li>è¯†åˆ«æ˜¯å¦å­˜åœ¨è¿‡åº¦è®¾è®¡æˆ–æŠ€æœ¯å†—ä½™ï¼›</li>
<li>åœ¨å¤šç§å¯è¡Œè·¯å¾„ä¸­åšå–èˆä¸æ”¶æ•›ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼ŒAIÂ è´Ÿè´£â€œç»™å¯èƒ½æ€§â€ï¼Œè€Œäººè´Ÿè´£â€œåšé€‰æ‹©â€ã€‚<br/>
ä¸€æ—¦è¿™ä¸€è§’è‰²åˆ†å·¥å‘ç”Ÿé”™ä½ï¼ŒAIÂ è¾…åŠ©ç ”å‘å°±å¾ˆå®¹æ˜“æ¼”å˜ä¸ºâ€œæ— æ§åˆ¶çš„å †ç Œâ€ï¼Œåè€Œå¢åŠ å¤æ‚åº¦ã€‚</p>
<h4 data-id="heading-37">3.4ã€æ¶‰åŠæœªçŸ¥é¢†åŸŸæ—¶</h4>
<p>åœ¨é¢å¯¹é™Œç”Ÿæˆ–è·¨é¢†åŸŸæŠ€æœ¯æ—¶ï¼ŒAIÂ çš„ä½¿ç”¨æ–¹å¼éœ€è¦è¿›ä¸€æ­¥è°ƒæ•´ã€‚ç»“åˆæœ¬æ¬¡å®è·µï¼Œæˆ‘æ€»ç»“å‡ºå‡ ç‚¹å°¤ä¸ºé‡è¦çš„ç»éªŒï¼š</p>
<ul>
<li><strong>å…ˆè§£å†³â€œèƒ½ä¸èƒ½è·‘èµ·æ¥â€ï¼Œå†è¿½æ±‚â€œæ˜¯å¦è¶³å¤Ÿä¼˜é›…â€</strong>ï¼›</li>
<li>ä¸å¿…ä¸€å¼€å§‹å°±è¡¥é½æ‰€æœ‰ç†è®ºçŸ¥è¯†ï¼Œè€Œæ˜¯åœ¨å®è·µä¸­åå‘å­¦ä¹ ï¼›</li>
<li>å°†ç›®æ ‡æ‹†è§£ä¸ºå¤šä¸ªâ€œå¯éªŒè¯çš„å°æˆæœâ€ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å®Œæˆï¼›</li>
<li>å¯¹Â AIÂ è¾“å‡ºä¿æŒâ€œå‚è€ƒè€Œéæƒå¨â€çš„å¿ƒæ€ã€‚</li>
</ul>
<p>è¿™ç§ç­–ç•¥çš„æ ¸å¿ƒï¼Œåœ¨äº<strong>é™ä½è¿›å…¥é—¨æ§›ä¸å¿ƒç†è´Ÿæ‹…</strong>ã€‚<br/>
AIÂ å¹¶ä¸æ˜¯è®©äººâ€œè·³è¿‡å­¦ä¹ â€ï¼Œè€Œæ˜¯è®©å­¦ä¹ è·¯å¾„ä»â€œå…ˆç†è§£å®Œå†åŠ¨æ‰‹â€ï¼Œè½¬å˜ä¸ºâ€œåœ¨åŠ¨æ‰‹ä¸­é€æ­¥ç†è§£â€ã€‚</p>
<h3 data-id="heading-38">å››ã€ç»“è¯­</h3>
<p>ä»æ•´ä½“æ¥çœ‹ï¼ŒAIÂ è¾…åŠ©ç ”å‘å¹¶ä¸æ˜¯ç®€å•çš„â€œç”¨Â AIÂ å†™ä»£ç â€ï¼Œè€Œæ˜¯ä¸€ç§<strong>åˆ†å·¥æ˜ç¡®ã€è´£ä»»æ¸…æ™°çš„äººæœºåä½œæ¨¡å¼</strong>ï¼š</p>
<ul>
<li>AIÂ æ“…é•¿å‘æ•£ã€æ•´ç†ã€ç”Ÿæˆï¼›</li>
<li>äººç±»æ“…é•¿åˆ¤æ–­ã€å–èˆã€æ”¶æ•›ï¼›</li>
</ul>
<p>å½“äºŒè€…è¾¹ç•Œæ¸…æ™°ã€èŒè´£æ˜ç¡®æ—¶ï¼ŒAIÂ æ‰èƒ½çœŸæ­£æˆä¸ºç ”å‘æ•ˆç‡çš„æ”¾å¤§å™¨ï¼Œè€Œä¸æ˜¯æ–°çš„å¤æ‚åº¦æ¥æºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¿å®¶ç¿Œï¼šä»å¼€æºå°‘å¹´åˆ° OpenAI æ ¸å¿ƒç ”ç©¶å‘˜çš„é•¿æœŸä¸»ä¹‰ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7596955804260286514</link>    <guid>https://juejin.cn/post/7596955804260286514</guid>    <pubDate>2026-01-20T01:54:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596955804260286514" data-draft-id="7596955804260270130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¿å®¶ç¿Œï¼šä»å¼€æºå°‘å¹´åˆ° OpenAI æ ¸å¿ƒç ”ç©¶å‘˜çš„é•¿æœŸä¸»ä¹‰ä¹‹è·¯"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-20T01:54:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="akå•Š"/> <meta itemprop="url" content="https://juejin.cn/user/237916932030253"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¿å®¶ç¿Œï¼šä»å¼€æºå°‘å¹´åˆ° OpenAI æ ¸å¿ƒç ”ç©¶å‘˜çš„é•¿æœŸä¸»ä¹‰ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/237916932030253/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    akå•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T01:54:37.000Z" title="Tue Jan 20 2026 01:54:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¿å®¶ç¿Œï¼šä»å¼€æºå°‘å¹´åˆ° OpenAI æ ¸å¿ƒç ”ç©¶å‘˜çš„é•¿æœŸä¸»ä¹‰ä¹‹è·¯</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1df95116754c4cfc950748d2e8e7b851~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWvllYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478877&amp;x-signature=Q%2FgR5Fh5rTPUW0RfSXD7UXWNwHI%3D" alt="image1.png" loading="lazy"/></p>
<p><em>æ¨¡å‹å¼€å‘ä¸‰é˜¶æ®µï¼šé¢„è®­ç»ƒâ€”åè®­ç»ƒâ€”RLHFï¼ˆç¤ºæ„ï¼‰</em></p>
<p>ä½œä¸º Tianshouï¼ˆå¤©æˆï¼‰å¼ºåŒ–å­¦ä¹ æ¡†æ¶çš„ä½œè€…å’Œ OpenAI GPT-4 åè®­ç»ƒï¼ˆPost-trainingï¼‰å›¢é˜Ÿçš„æ ¸å¿ƒæˆå‘˜ï¼Œç¿å®¶ç¿Œï¼ˆJiayi Wengï¼‰çš„æˆé•¿è·¯å¾„æœ¬èº«å°±æ˜¯ä¸€éƒ¨å…³äºâ€œå¦‚ä½•æ„å»ºå½±å“åŠ›â€çš„æ¡ˆä¾‹ã€‚åœ¨ WhynotTV çš„è¿™æœŸè®¿è°ˆä¸­ï¼Œä»–åˆ†äº«äº†ä»æ¸…åã€CMU åˆ° OpenAI çš„æŠ€æœ¯è¿›é˜¶ï¼Œå¹¶æ‹†è§£äº†å¼ºåŒ–å­¦ä¹ ã€å·¥ä¸šçº§åŸºç¡€è®¾æ–½ï¼ˆInfraï¼‰ä»¥åŠå¼€æºç¤¾åŒºèƒŒåçš„é€»è¾‘ã€‚è¿™æ—¢æ˜¯å¯¹å‰æ²¿æŠ€æœ¯çš„è§‚å¯Ÿï¼Œä¹Ÿæ˜¯ä¸€ä»½åœ¨ä¸ç¡®å®šæ€§ä¸­æŠ•èµ„æœªæ¥çš„è¡ŒåŠ¨å‚è€ƒã€‚</p>
<h3 data-id="heading-1">æ—©æœŸç»å†ï¼šæŠ•èµ„æœªæ¥ä¸æ‰“ç ´ä¿¡æ¯å·®</h3>
<p>ç¿å®¶ç¿Œçš„â€œé•¿æœŸä¸»ä¹‰â€åœ¨ç«¥å¹´æ—¶æœŸä¾¿å·²æ˜¾ç°ã€‚æ—©æœŸæ¥è§¦è®¡ç®—æœºæ—¶ï¼Œä»–æ›´å…³æ³¨èƒ½åœ¨æœªæ¥åå¤ä½¿ç”¨çš„èƒ½åŠ›æ„å»ºï¼›åœ¨é«˜ä¸­ä¿¡æ¯å­¦ç«èµ›é˜¶æ®µï¼Œä»–æ•é”ä½“ä¼šåˆ°â€œä¿¡æ¯å·®â€çš„å½±å“ï¼Œç†è§£é«˜è´¨é‡è®­ç»ƒèµ„æºçš„é‡è¦æ€§ã€‚</p>
<p>åœ¨æ¸…åå°±è¯»æœŸé—´ï¼Œä»–é€‰æ‹©ä»¥å¼€æºçš„æ–¹å¼é™ä½ä¿¡æ¯å£å’ï¼šå°†ä½œä¸šã€ç¬”è®°ä¸æ•´ç†åçš„èµ„æ–™å‘å¸ƒåˆ° GitHubã€‚æœ€åˆçš„åŠ¨æœºæ˜¯åˆ†äº«ï¼Œä½†éšæ—¶é—´ç§¯ç´¯ä¸ºä¸ªäººä¿¡èª‰ä¸ç¤¾åŒºå½±å“åŠ›ã€‚å¼€æºä¸ä»…æ˜¯ä»£ç å…±äº«ï¼Œæ›´æ˜¯æ€æƒ³ä¸æ–¹æ³•çš„â€œè”ç½‘â€ã€‚</p>
<h3 data-id="heading-2">å¼€æºå“²å­¦ï¼šæŠŠå·¥å…·å½“ä½œä¸€ç§â€œæ…ˆå–„â€</h3>
<p>ä»æ—©æœŸèµ„æ–™åˆ†äº«åˆ°æ‰“é€  Tianshouï¼ˆå¤©æˆï¼‰æ¡†æ¶ï¼Œç¿å®¶ç¿Œå°†â€œå½±å“åŠ›â€è½åœ¨å¯è¢«åå¤ä½¿ç”¨çš„å·¥å…·ä¸Šï¼š</p>
<ul>
<li>Tianshou ä½œä¸ºå¼ºåŒ–å­¦ä¹ åº“ï¼Œè¡¥è¶³äº†å½“æ—¶ PyTorch ç”Ÿæ€åœ¨ RL æ–¹é¢çš„ç©ºç™½ï¼Œä»¥å·¥ç¨‹åŒ–å“è´¨æœåŠ¡ç ”ç©¶ä¸å®è·µã€‚</li>
<li>tuixue online ä½œä¸ºç­¾è¯æŸ¥è¯¢å·¥å…·ï¼Œä»å®é™…é—®é¢˜å‡ºå‘é™ä½æ±‚è§£æˆæœ¬ã€‚</li>
</ul>
<p>å…¶æ ¸å¿ƒä»·å€¼è§‚æ˜¯è¿½æ±‚ Impactï¼ˆå½±å“åŠ›ï¼‰ï¼šå·¥ä½œæ˜¯å¦åˆ‡å®è§£å†³é—®é¢˜ã€èŠ‚çº¦ç¤¾ä¼šæ€»æˆæœ¬ã€‚æŠŠå†™ä»£ç ã€åšå·¥å…·å½“ä½œâ€œå…¬å…±åŸºç¡€è®¾æ–½â€çš„å»ºè®¾ï¼Œæ„æˆäº†é•¿æœŸçš„ä¸ªäººæŠ¤åŸæ²³ã€‚</p>
<h3 data-id="heading-3">å¼ºåŒ–å­¦ä¹ ä¸åè®­ç»ƒï¼šå®šä¹‰ä¸æŒ‘æˆ˜</h3>
<p>åœ¨å¤§æ¨¡å‹å·¥ä¸šåŒ–åœºæ™¯ä¸­ï¼Œåè®­ç»ƒï¼ˆPost-trainingï¼‰æ˜¯æ‰¿æ¥é¢„è®­ç»ƒèƒ½åŠ›å¹¶å¯¹é½äººç±»åå¥½çš„å…³é”®é˜¶æ®µã€‚</p>
<p><strong>å…³é”®æœ¯è¯­è§£æ</strong></p>
<ul>
<li><strong>é¢„è®­ç»ƒï¼ˆPre-trainingï¼‰</strong>ï¼šè®©æ¨¡å‹ä¹ å¾—æµ·é‡ä¸–ç•ŒçŸ¥è¯†ï¼Œè§£å†³â€œæ‡‚ä¸æ‡‚â€ã€‚</li>
<li><strong>åè®­ç»ƒï¼ˆPost-trainingï¼‰</strong>ï¼šæ¿€å‘æ¨¡å‹èƒ½åŠ›å¹¶å¯¹é½äººç±»ä»·å€¼è§‚ï¼Œè§£å†³â€œå¥½ä¸å¥½ç”¨â€ã€‚</li>
<li><strong>RLHFï¼ˆReinforcement Learning from Human Feedbackï¼‰</strong>ï¼šä»¥äººç±»åé¦ˆä¸ºä¿¡å·ï¼Œé€šè¿‡å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–æ¨¡å‹è¡Œä¸ºã€‚</li>
</ul>
<p>ç„¶è€Œï¼Œå°†è¿™äº›æ–¹æ³•ä»å®éªŒå®¤æ¨å‘å·¥ä¸šçº§ï¼Œè¿˜é¢ä¸´ä¸‰ç±»æ ¸å¿ƒæŒ‘æˆ˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc866b8f9cc44511a5c9194e5339d35c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWvllYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478877&amp;x-signature=CTQWuOdByDjCyjuE5Wvkv2CGfp0%3D" alt="image2.png" loading="lazy"/></p>
<p><em>å·¥ä¸šçº§åè®­ç»ƒçš„ä¸‰ç±»æŒ‘æˆ˜ï¼ˆç¤ºæ„ï¼‰ï¼šæ•°æ®ä¸åå¥½å»ºæ¨¡ã€ç®—æ³•ç¨³å®šæ€§ã€è§„æ¨¡åŒ–åŸºç¡€è®¾æ–½</em></p>
<ol>
<li><strong>æ•°æ®ä¸åå¥½å»ºæ¨¡çš„å¤æ‚æ€§</strong>ï¼šäººç±»åå¥½æ¨¡ç³Šä¸”éš¾é‡åŒ–ï¼Œæ„å»ºé«˜è´¨é‡å¥–åŠ±æ¨¡å‹ï¼ˆReward Modelï¼‰æ˜¯é¦–è¦éš¾é¢˜ã€‚</li>
<li><strong>ç®—æ³•çš„ç¨³å®šæ€§</strong>ï¼šå¼ºåŒ–å­¦ä¹ å¯¹è¶…å‚æ•°æ•æ„Ÿï¼Œæ˜“å‡ºç°ä¸æ”¶æ•›æˆ–æ€§èƒ½éœ‡è¡ï¼›åœ¨è¶…å¤§è§„æ¨¡è®­ç»ƒä¸­é—®é¢˜è¢«æ”¾å¤§ã€‚</li>
<li><strong>è§„æ¨¡åŒ–åŸºç¡€è®¾æ–½ï¼ˆInfraï¼‰</strong>ï¼šå½“å‚æ•°é‡ä¸å¹¶å‘è§„æ¨¡å¾ˆå¤§æ—¶ï¼ŒGPU ååŒã€åˆ†å¸ƒå¼é€šä¿¡ä¸å¯å¤ç°å®éªŒè¿­ä»£æˆä¸ºå†³å®šå› ç´ ã€‚</li>
</ol>
<h3 data-id="heading-4">ç»„ç»‡ä¸äº§å“ï¼šäººæ‰å¯†åº¦ä¸ç¡®å®šæ€§</h3>
<p>2022 å¹´åŠ å…¥ OpenAI çš„ç›´è§‚æ„Ÿå—æ˜¯äººæ‰å¯†åº¦é«˜ã€å±‚çº§æ‰å¹³ï¼Œä¸ªä½“èƒ½ç‹¬å½“ä¸€é¢ï¼Œæ²Ÿé€šæˆæœ¬ä½ã€‚å›é¡¾ ChatGPT çš„æˆåŠŸï¼Œå†…éƒ¨å¯¹ç¼©æ”¾å®šå¾‹ï¼ˆScaling Lawsï¼‰çš„ä¿¡å¿µä¸å¯¹å·¥ç¨‹æè‡´çš„è¿½æ±‚ï¼Œä½¿â€œè§„æ¨¡åŒ–è¿­ä»£ + é«˜å¯†åº¦å›¢é˜Ÿâ€æˆä¸ºèƒ½åŠ›æ¶Œç°çš„å¯é¢„è§å¼•æ“ã€‚</p>
<h3 data-id="heading-5">æœªæ¥è§‚å¯Ÿï¼šç“¶é¢ˆä¸æ–¹å‘</h3>
<p>æœªæ¥ 5â€“10 å¹´å€¼å¾—å…³æ³¨çš„æ–¹å‘ï¼š</p>
<ol>
<li><strong>æ¨ç†èƒ½åŠ›ï¼ˆReasoningï¼‰</strong>ï¼šçªç ´â€œæ¦‚ç‡é¢„æµ‹â€çš„å±€é™ï¼Œå‘æ›´æ·±å±‚çš„è§„åˆ’ä¸é€»è¾‘è¿ˆè¿›ã€‚</li>
<li><strong>ä¸–ç•Œæ¨¡å‹ï¼ˆWorld Modelsï¼‰</strong>ï¼šä»æ–‡æœ¬ç»Ÿè®¡èµ°å‘å¯¹ç‰©ç†ä¸–ç•Œæ›´çœŸå®çš„å»ºæ¨¡ï¼Œæ”¯æ’‘æœºå™¨äººä¸å®ä½“ç»æµã€‚</li>
<li><strong>æ•°æ®è´¨é‡ä¸äº¤äº’å¼å­¦ä¹ </strong>ï¼šåœ¨é«˜è´¨é‡æ–‡æœ¬è¶‹äºæ¯ç«­èƒŒæ™¯ä¸‹ï¼Œåˆ©ç”¨åˆæˆæ•°æ®ä¸ç¯å¢ƒäº¤äº’è·å–æ–°ä¿¡å·ã€‚</li>
<li><strong>æˆæœ¬ç»“æ„</strong>ï¼šé™ä½æ¨ç†æˆæœ¬ï¼Œè®©èƒ½åŠ›å¯è¢«å¹¿æ³›ã€å¯æŒç»­åœ°ä½¿ç”¨ã€‚</li>
</ol>
<h3 data-id="heading-6">å¼€æ”¾ä¸æ²»ç†çš„ç°å®è€ƒé¢˜</h3>
<p>å…³äºâ€œæ˜¯å¦è¶³å¤Ÿå¼€æ”¾â€çš„è®¨è®ºï¼Œæœ¬è´¨æ˜¯å¼€æ”¾ç ”ç©¶ä¸å®‰å…¨/å•†ä¸šåŒ–ä¹‹é—´çš„å¼ åŠ›ã€‚ä¸ºäº†å®ç°å®å¤§ä½¿å‘½ï¼Œå¿…é¡»ä¾èµ–ç®—åŠ›ä¸èµ„é‡‘æŠ•å…¥ï¼Œå•†ä¸šåŒ–æ˜¯å®ç°è·¯å¾„çš„ä¸€éƒ¨åˆ†ã€‚äººäº‹ä¸æµåŠ¨åœ¨é«˜é€Ÿå‘å±•ä¸­éš¾ä»¥é¿å…ï¼Œå…³é”®åœ¨äºæŠ€æœ¯è·¯çº¿ä¸æ²»ç†å®è·µèƒ½å¦æŒç»­æ¨è¿›ã€‚</p>
<h3 data-id="heading-7">è·¯å¾„å»ºè®®ï¼šç»™èµ°åœ¨è·¯ä¸Šçš„äºº</h3>
<p>ç»“åˆä¸ªäººç»å†ï¼Œç»™æŠ€æœ¯ä»ä¸šè€…çš„å‡ ç‚¹å»ºè®®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d21536c20d646179af590753c5467b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWvllYo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769478877&amp;x-signature=BDrZPCicUhQs%2Fs7BR37E12sdmPk%3D" alt="image3.png" loading="lazy"/></p>
<p><em>è¡ŒåŠ¨è·¯å¾„ï¼ˆç¤ºæ„ï¼‰ï¼šå·¥ç¨‹èƒ½åŠ›â€”å¼€æºæ æ†â€”é•¿æœŸä¸»ä¹‰</em></p>
<ul>
<li><strong>é‡è§†å·¥ç¨‹èƒ½åŠ›ï¼ˆEngineeringï¼‰</strong>ï¼šä¼˜ç§€ç®—æ³•ç¦»ä¸å¼€æ‰å®çš„å·¥ç¨‹ä¸åŸºç¡€è®¾æ–½èƒ½åŠ›ã€‚</li>
<li><strong>ç”¨å¼€æºå»ºç«‹æ æ†</strong>ï¼šé€šè¿‡é«˜è´¨é‡å¼€æºé¡¹ç›®æˆ–æŠ€æœ¯è¾“å‡ºç§¯ç´¯ä¿¡èª‰ä¸è¿æ¥ã€‚</li>
<li><strong>ä¿æŒé•¿æœŸä¸»ä¹‰</strong>ï¼šå›´ç»•æœ‰é•¿æœŸä»·å€¼çš„æ–¹å‘æ·±è€•ï¼Œä»¥ç³»ç»Ÿæ€§ç§¯ç´¯å¯¹æŠ—çŸ­æœŸç„¦è™‘ã€‚</li>
</ul>
<h3 data-id="heading-8">ç»“è¯­</h3>
<p>ä»æ¸…åå›­çš„å¼€æºå°‘å¹´åˆ°ç¡…è°·é£æš´ä¸­å¿ƒçš„ç ”ç©¶å®è·µè€…ï¼Œç¿å®¶ç¿Œçš„è·¯å¾„è¯´æ˜ï¼šæŒç»­åˆ†äº«ã€å·¥ç¨‹è½åœ°ä¸é•¿æœŸæŠ•å…¥ï¼Œèƒ½æ„æˆå¯æŒç»­çš„å½±å“åŠ›ï¼›ä¸å…¶è¿½é€é£å£ï¼Œä¸å¦‚æ‰“ç£¨å·¥å…·ã€è§£å†³çœŸæ­£é‡è¦çš„é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android 15 æ˜¾ç¤ºå­ç³»ç»Ÿæ·±åº¦è§£æ(ä¸‰)ï¼šVsyncæœºåˆ¶ä¸æ˜¾ç¤ºæ€§èƒ½ä¼˜åŒ–å®æˆ˜]]></title>    <link>https://juejin.cn/post/7596906923892228106</link>    <guid>https://juejin.cn/post/7596906923892228106</guid>    <pubDate>2026-01-19T13:33:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596906923892228106" data-draft-id="7596906473306292274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android 15 æ˜¾ç¤ºå­ç³»ç»Ÿæ·±åº¦è§£æ(ä¸‰)ï¼šVsyncæœºåˆ¶ä¸æ˜¾ç¤ºæ€§èƒ½ä¼˜åŒ–å®æˆ˜"/> <meta itemprop="keywords" content="Android,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2026-01-19T13:33:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android 15 æ˜¾ç¤ºå­ç³»ç»Ÿæ·±åº¦è§£æ(ä¸‰)ï¼šVsyncæœºåˆ¶ä¸æ˜¾ç¤ºæ€§èƒ½ä¼˜åŒ–å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T13:33:06.000Z" title="Mon Jan 19 2026 13:33:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨å‰ä¸¤ç¯‡æ–‡ç« ä¸­,æˆ‘ä»¬æ·±å…¥åˆ†æäº†SurfaceFlingerçš„æ ¸å¿ƒæœºåˆ¶å’Œå›¾å½¢ç¼“å†²åŒºç®¡ç†ã€‚æœ¬æ–‡å°†ç»§ç»­æ¢è®¨Androidæ˜¾ç¤ºç³»ç»Ÿä¸­æœ€å…³é”®çš„åŒæ­¥æœºåˆ¶â€”â€”Vsync(å‚ç›´åŒæ­¥),ä»¥åŠå¦‚ä½•åŸºäºVsyncæ„å»ºæµç•…çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>Vsyncæ˜¯Androidæ˜¾ç¤ºç³»ç»Ÿçš„"å¿ƒè·³",å®ƒåƒä¸€ä¸ªç²¾å‡†çš„èŠ‚æ‹å™¨,åè°ƒç€åº”ç”¨ç»˜åˆ¶ã€ç³»ç»Ÿåˆæˆã€å±å¹•æ˜¾ç¤ºä¸‰ä¸ªç¯èŠ‚çš„å®Œç¾é…åˆã€‚ç†è§£Vsyncæœºåˆ¶,æ˜¯æŒæ¡Androidæ€§èƒ½ä¼˜åŒ–çš„å…³é”®ã€‚</p>
<p>æœ¬æ–‡å°†åŸºäº<strong>Android 15 (AOSP)å®é™…æºç </strong>,æ·±å…¥åˆ†æä»¥ä¸‹æ ¸å¿ƒå†…å®¹:</p>
<ul>
<li>Vsyncä¿¡å·çš„äº§ç”Ÿä¸åˆ†å‘æœºåˆ¶</li>
<li>Choreographerå¦‚ä½•åè°ƒåº”ç”¨ä¾§æ¸²æŸ“</li>
<li>ä¸‰é‡ç¼“å†²å¦‚ä½•å‡å°‘æ‰å¸§</li>
<li>ä½¿ç”¨Systrace/Perfettoè¯Šæ–­æ€§èƒ½é—®é¢˜çš„å®Œæ•´å®æˆ˜</li>
</ul>
<blockquote>
<p><strong>ç³»åˆ—å¯¼èˆª</strong>: è¿™æ˜¯"Android 15 æ ¸å¿ƒå­ç³»ç»Ÿæ·±åº¦è§£æ"ç³»åˆ—çš„ç¬¬3ç¯‡æ–‡ç« ã€‚å»ºè®®å…ˆé˜…è¯»å‰ä¸¤ç¯‡äº†è§£æ˜¾ç¤ºç³»ç»ŸåŸºç¡€ã€‚</p>
</blockquote>
<h2 data-id="heading-1">ä¸€ã€Vsyncå‚ç›´åŒæ­¥æœºåˆ¶</h2>
<h3 data-id="heading-2">1.1 Vsyncçš„ä½œç”¨</h3>
<p>åœ¨ä¼ ç»Ÿçš„CRTæ˜¾ç¤ºå™¨æ—¶ä»£,ç”µå­æªä»å±å¹•å·¦ä¸Šè§’å¼€å§‹,é€è¡Œæ‰«æåˆ°å³ä¸‹è§’,å®Œæˆä¸€å¸§ç”»é¢çš„æ˜¾ç¤ºã€‚å½“ç”µå­æªå›åˆ°èµ·ç‚¹å‡†å¤‡ä¸‹ä¸€å¸§æ—¶,ä¼šå‘å‡ºä¸€ä¸ª"å‚ç›´åŒæ­¥ä¿¡å·"(Vsync),å‘Šè¯‰ç³»ç»Ÿ"ç°åœ¨å¯ä»¥å®‰å…¨åœ°æ›´æ–°å¸§ç¼“å†²äº†"ã€‚</p>
<p>è™½ç„¶ç°ä»£LCD/OLEDæ˜¾ç¤ºå™¨æ²¡æœ‰ç”µå­æª,ä½†Vsyncçš„æ¦‚å¿µè¢«å®Œæ•´ä¿ç•™ä¸‹æ¥,æˆä¸ºåŒæ­¥æ¸²æŸ“ç®¡çº¿çš„å…³é”®æœºåˆ¶ã€‚</p>
<p><strong>Vsyncè§£å†³çš„æ ¸å¿ƒé—®é¢˜</strong>:</p>
<ol>
<li>
<p><strong>ç”»é¢æ’•è£‚(Screen Tearing)</strong></p>
<ul>
<li>é—®é¢˜:GPUæ¸²æŸ“é€Ÿåº¦å¿«äºDisplayåˆ·æ–°,å¯¼è‡´ä¸€å¸§ç”»é¢æ˜¾ç¤ºäº†ä¸Šä¸‹ä¸¤ä¸ªä¸åŒçš„å†…å®¹</li>
<li>è§£å†³:Vsyncç¡®ä¿GPUæ¸²æŸ“å’ŒDisplayåˆ·æ–°åŒæ­¥è¿›è¡Œ</li>
</ul>
</li>
<li>
<p><strong>èµ„æºæµªè´¹</strong></p>
<ul>
<li>é—®é¢˜:GPUç›²ç›®é«˜é€Ÿæ¸²æŸ“,æµªè´¹CPU/GPUèµ„æºå’Œç”µé‡</li>
<li>è§£å†³:Vsyncè®©æ¸²æŸ“æŒ‰éœ€è¿›è¡Œ,æ¯ä¸ªVsyncå‘¨æœŸæœ€å¤šæ¸²æŸ“ä¸€å¸§</li>
</ul>
</li>
<li>
<p><strong>æµç¨‹åè°ƒ</strong></p>
<ul>
<li>é—®é¢˜:åº”ç”¨ç»˜åˆ¶ã€SurfaceFlingeråˆæˆã€Displayæ˜¾ç¤ºä¸‰ä¸ªç¯èŠ‚éœ€è¦ç²¾ç¡®é…åˆ</li>
<li>è§£å†³:Vsyncä½œä¸ºå…¨å±€æ—¶é’Ÿ,åè°ƒä¸‰è€…çš„å·¥ä½œèŠ‚å¥</li>
</ul>
</li>
</ol>
<h3 data-id="heading-3">1.2 Vsyncä¿¡å·çš„äº§ç”Ÿ</h3>
<p>Android 15çš„Vsyncä¿¡å·æœ‰ä¸¤ä¸ªæ¥æº:ç¡¬ä»¶Vsyncå’Œè½¯ä»¶Vsyncã€‚</p>
<h4 data-id="heading-4">ç¡¬ä»¶Vsync</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30b8e4841ca44b7db7aa5553f26bd1a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769434385&amp;x-signature=He5EirS%2FDVCeaEp2bOKE6XlbI%2Fo%3D" alt="03-01-vsync-generation-distribution.png" loading="lazy"/></p>
<p><strong>ç¡¬ä»¶Vsyncçš„äº§ç”Ÿè·¯å¾„</strong>:</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-attribute">Display</span> Driver â†’ HWC (IComposerCallback::onVsync) â†’
SurfaceFlinger â†’ VSyncReactor â†’ VsyncSchedule
</code></pre>
<p>ç¡¬ä»¶Vsyncæ˜¯Display Driveråœ¨æ¯æ¬¡å®Œæˆä¸€å¸§æ‰«æåå‘å‡ºçš„çœŸå®ä¿¡å·,é€šè¿‡HWC 3.0çš„å›è°ƒæ¥å£ä¸ŠæŠ¥ç»™SurfaceFlingerã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹HWCå›è°ƒçš„æºç (ä½äº<code>hardware/interfaces/graphics/composer/aidl/android/hardware/graphics/composer3/IComposerCallback.aidl</code>):</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IComposerCallback</span> {
    <span class="hljs-comment">/**
     * ç¡¬ä»¶Vsyncå›è°ƒ
     * <span class="hljs-doctag">@param</span> display å‘ç”ŸVsyncçš„æ˜¾ç¤ºè®¾å¤‡ID
     * <span class="hljs-doctag">@param</span> timestamp Vsyncæ—¶é—´æˆ³(çº³ç§’)
     * <span class="hljs-doctag">@param</span> vsyncPeriodNanos Vsyncå‘¨æœŸ(çº³ç§’)
     */</span>
    oneway <span class="hljs-keyword">void</span> <span class="hljs-title function_">onVsync</span><span class="hljs-params">(<span class="hljs-type">long</span> display, <span class="hljs-type">long</span> timestamp, <span class="hljs-type">int</span> vsyncPeriodNanos)</span>;

    <span class="hljs-comment">/**
     * çƒ­æ’æ‹”å›è°ƒ
     */</span>
    oneway <span class="hljs-keyword">void</span> <span class="hljs-title function_">onHotplug</span><span class="hljs-params">(<span class="hljs-type">long</span> display, <span class="hljs-type">boolean</span> connected)</span>;

    <span class="hljs-comment">/**
     * åˆ·æ–°ç‡æ”¹å˜å›è°ƒ
     */</span>
    oneway <span class="hljs-keyword">void</span> <span class="hljs-title function_">onRefresh</span><span class="hljs-params">(<span class="hljs-type">long</span> display)</span>;
}
</code></pre>
<h4 data-id="heading-5">è½¯ä»¶Vsync</h4>
<p>ç¡¬ä»¶Vsyncè™½ç„¶å‡†ç¡®,ä½†é¢‘ç¹çš„ä¸­æ–­ä¼šå¸¦æ¥æ€§èƒ½å¼€é”€ã€‚Androidé‡‡ç”¨äº†ä¸€ç§èªæ˜çš„ä¼˜åŒ–ç­–ç•¥:</p>
<ol>
<li><strong>åˆå§‹é˜¶æ®µ</strong>: ä½¿ç”¨ç¡¬ä»¶Vsyncé‡‡æ ·,å»ºç«‹Vsyncæ¨¡å‹</li>
<li><strong>ç¨³å®šé˜¶æ®µ</strong>: å…³é—­ç¡¬ä»¶Vsync,ä½¿ç”¨<strong>VSyncPredictor</strong>åŸºäºå†å²æ•°æ®é¢„æµ‹ä¸‹ä¸€æ¬¡Vsync</li>
<li><strong>æ ¡å‡†é˜¶æ®µ</strong>: å®šæœŸä½¿ç”¨ç¡¬ä»¶Vsyncæ ¡å‡†é¢„æµ‹æ¨¡å‹</li>
</ol>
<p>è¿™ç§æ··åˆç­–ç•¥å…¼é¡¾äº†å‡†ç¡®æ€§å’Œæ€§èƒ½ã€‚</p>
<p><strong>VSyncPredictorçš„æ ¸å¿ƒé€»è¾‘</strong>(æºç ä½äº<code>frameworks/native/services/surfaceflinger/Scheduler/VSyncPredictor.cpp</code>):</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">VSyncPredictor</span> : <span class="hljs-keyword">public</span> VsyncTracker {
    <span class="hljs-comment">// å†å²Vsyncæ—¶é—´æˆ³é˜Ÿåˆ—</span>
    std::deque&lt;<span class="hljs-type">nsecs_t</span>&gt; mTimestamps;

    <span class="hljs-comment">// é¢„æµ‹ä¸‹ä¸€æ¬¡Vsyncæ—¶é—´</span>
    <span class="hljs-function"><span class="hljs-type">nsecs_t</span> <span class="hljs-title">nextAnticipatedVSyncTimeFrom</span><span class="hljs-params">(<span class="hljs-type">nsecs_t</span> timePoint)</span> </span>{
        <span class="hljs-comment">// åŸºäºå†å²æ•°æ®è®¡ç®—Vsyncå‘¨æœŸ</span>
        <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> period = <span class="hljs-built_in">currentPeriod</span>();

        <span class="hljs-comment">// æ‰¾åˆ°timePointä¹‹åæœ€è¿‘çš„Vsyncæ—¶åˆ»</span>
        <span class="hljs-keyword">return</span> timePoint + period - (timePoint % period);
    }

    <span class="hljs-comment">// æ·»åŠ ç¡¬ä»¶Vsyncé‡‡æ ·,æ ¡å‡†æ¨¡å‹</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addVsyncTimestamp</span><span class="hljs-params">(<span class="hljs-type">nsecs_t</span> timestamp)</span> </span>{
        mTimestamps.<span class="hljs-built_in">push_back</span>(timestamp);

        <span class="hljs-comment">// ä¿ç•™æœ€è¿‘Nä¸ªæ ·æœ¬(é€šå¸¸20ä¸ª)</span>
        <span class="hljs-keyword">if</span> (mTimestamps.<span class="hljs-built_in">size</span>() &gt; mHistorySize) {
            mTimestamps.<span class="hljs-built_in">pop_front</span>();
        }

        <span class="hljs-comment">// é‡æ–°è®¡ç®—å‘¨æœŸ(å»é™¤å¼‚å¸¸å€¼)</span>
        <span class="hljs-built_in">recalculatePeriod</span>();
    }
};
</code></pre>
<h3 data-id="heading-6">1.3 Vsyncåˆ†å‘æœºåˆ¶</h3>
<p>SurfaceFlingeræ”¶åˆ°Vsyncä¿¡å·å,éœ€è¦åˆ†å‘ç»™ä¸¤ç±»æ¶ˆè´¹è€…:åº”ç”¨è¿›ç¨‹å’ŒSurfaceFlingerè‡ªå·±ã€‚ä½†è¿™ä¸¤è€…çš„éœ€æ±‚ä¸åŒ:</p>
<ul>
<li><strong>åº”ç”¨è¿›ç¨‹</strong>: éœ€è¦æå‰æ”¶åˆ°Vsync,ä»¥ä¾¿æœ‰è¶³å¤Ÿæ—¶é—´ç»˜åˆ¶(é€šå¸¸æå‰2ms)</li>
<li><strong>SurfaceFlinger</strong>: å‡†æ—¶æ”¶åˆ°Vsync,ç«‹å³å¼€å§‹åˆæˆ</li>
</ul>
<p>è¿™å°±æ˜¯<strong>Vsync Phase Offset</strong>(ç›¸ä½åç§»)æœºåˆ¶ã€‚</p>
<h4 data-id="heading-7">EventThread: App-Vsync vs SF-Vsync</h4>
<p>Androidç»´æŠ¤äº†ä¸¤ä¸ªEventThread:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// frameworks/native/services/surfaceflinger/SurfaceFlinger.cpp</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SurfaceFlinger::init</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// åˆ›å»ºapp-vsyncçš„EventThread,å¸¦-2ms offset</span>
    mAppConnectionHandle = mScheduler-&gt;<span class="hljs-built_in">createConnection</span>(
            <span class="hljs-string">"app"</span>, mFrameTimeline-&gt;<span class="hljs-built_in">getTokenManager</span>(),
            <span class="hljs-comment">/* workDuration */</span> configs.late.appWorkDuration,
            <span class="hljs-comment">/* readyDuration */</span> configs.late.sfWorkDuration);

    <span class="hljs-comment">// åˆ›å»ºsf-vsyncçš„EventThread,0ms offset</span>
    mSfConnectionHandle = mScheduler-&gt;<span class="hljs-built_in">createConnection</span>(
            <span class="hljs-string">"sf"</span>, mFrameTimeline-&gt;<span class="hljs-built_in">getTokenManager</span>(),
            <span class="hljs-comment">/* workDuration */</span> configs.late.sfWorkDuration,
            <span class="hljs-comment">/* readyDuration */</span> Duration::<span class="hljs-built_in">fromNs</span>(<span class="hljs-number">0</span>));
}
</code></pre>
<p><strong>æ—¶åºå…³ç³»</strong>:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">çœŸå®Vsyncæ—¶åˆ»: T0</span>
  â†“
<span class="hljs-section">App-Vsyncè§¦å‘: T0 - 2ms (æå‰è§¦å‘)</span>
  â†“ (åº”ç”¨æœ‰2msæ—¶é—´å¼€å§‹ç»˜åˆ¶)
<span class="hljs-section">çœŸå®Vsyncåˆ°è¾¾: T0</span>
  â†“
<span class="hljs-section">SF-Vsyncè§¦å‘: T0 (å‡†æ—¶è§¦å‘)</span>
  â†“
SurfaceFlingerå¼€å§‹åˆæˆ
</code></pre>
<p>è¿™ä¸ª2msçš„æå‰é‡æ˜¯å¯é…ç½®çš„,å–å†³äºè®¾å¤‡æ€§èƒ½å’Œå±å¹•åˆ·æ–°ç‡ã€‚</p>
<h4 data-id="heading-8">EventThreadæºç åˆ†æ</h4>
<p>EventThreadè´Ÿè´£æ¥æ”¶Vsyncä¿¡å·å¹¶åˆ†å‘ç»™æ³¨å†Œçš„æ¶ˆè´¹è€…(æºç ä½äº<code>frameworks/native/services/surfaceflinger/Scheduler/EventThread.h</code>):</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EventThread</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// åˆ›å»ºEventConnectionä¾›åº”ç”¨è¿æ¥</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> sp&lt;EventThreadConnection&gt; <span class="hljs-title">createEventConnection</span><span class="hljs-params">(
            EventRegistrationFlags eventRegistration = {})</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;

    <span class="hljs-comment">// Vsyncå›è°ƒ,ç”±VsyncScheduleè§¦å‘</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onVsync</span><span class="hljs-params">(<span class="hljs-type">nsecs_t</span> vsyncTime, <span class="hljs-type">nsecs_t</span> wakeupTime, <span class="hljs-type">nsecs_t</span> readyTime)</span></span>;

<span class="hljs-keyword">private</span>:
    <span class="hljs-comment">// çº¿ç¨‹ä¸»å¾ªç¯</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">threadMain</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-comment">// ç­‰å¾…Vsyncä¿¡å·</span>
            <span class="hljs-built_in">waitForVsyncSignal</span>();

            <span class="hljs-comment">// åˆ†å‘ç»™æ‰€æœ‰æ³¨å†Œçš„Connection</span>
            <span class="hljs-built_in">dispatchVsyncEvent</span>();
        }
    }

    <span class="hljs-comment">// å·²æ³¨å†Œçš„è¿æ¥åˆ—è¡¨</span>
    std::vector&lt;sp&lt;EventThreadConnection&gt;&gt; mConnections;
};
</code></pre>
<p>åº”ç”¨é€šè¿‡<code>DisplayEventReceiver</code>è¿æ¥åˆ°EventThread:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åº”ç”¨ä¾§ä»£ç (Choreographerå†…éƒ¨)</span>
mDisplayEventReceiver = <span class="hljs-keyword">new</span> <span class="hljs-built_in">DisplayEventReceiver</span>(
        Looper.<span class="hljs-built_in">myLooper</span>(), vsyncSource, configChanged);
</code></pre>
<blockquote>
<p><strong>å…³é”®è¦ç‚¹</strong>:</p>
<ul>
<li>ç¡¬ä»¶Vsyncå‡†ç¡®ä½†å¼€é”€å¤§,è½¯ä»¶Vsyncé¢„æµ‹æ•ˆç‡é«˜</li>
<li>Phase Offsetè®©åº”ç”¨æå‰æ”¶åˆ°Vsync,æœ‰æ›´å¤šæ—¶é—´ç»˜åˆ¶</li>
<li>EventThreadæ˜¯Vsyncåˆ†å‘çš„ä¸­æ¢,ç»´æŠ¤æ‰€æœ‰æ¶ˆè´¹è€…è¿æ¥</li>
</ul>
</blockquote>
<h3 data-id="heading-9">1.4 Android 15çš„Vsyncä¼˜åŒ–</h3>
<p>Android 15åœ¨Vsyncæœºåˆ¶ä¸Šè¿›è¡Œäº†å¤šé¡¹ä¼˜åŒ–:</p>
<p><strong>1. åŠ¨æ€åˆ·æ–°ç‡æ”¯æŒ(Variable Refresh Rate)</strong></p>
<p>Android 15æ”¯æŒæ ¹æ®å†…å®¹åŠ¨æ€è°ƒæ•´åˆ·æ–°ç‡:</p>
<ul>
<li>é™æ€å†…å®¹: é™ä½åˆ°30Hzæˆ–æ›´ä½,èŠ‚çœç”µé‡</li>
<li>åŠ¨ç”»/è§†é¢‘: æå‡åˆ°90Hz/120Hz,ä¿è¯æµç•…</li>
<li>æ¸¸æˆ: åŒ¹é…æ¸¸æˆå¸§ç‡,å‡å°‘judder</li>
</ul>
<p><strong>2. Vsyncé¢„æµ‹ç®—æ³•æ”¹è¿›</strong></p>
<p>å¼•å…¥æœºå™¨å­¦ä¹ æ¨¡å‹,åŸºäºå†å²æ•°æ®æ›´å‡†ç¡®åœ°é¢„æµ‹Vsync:</p>
<ul>
<li>è€ƒè™‘æ¸©åº¦å˜åŒ–å¯¹Displayåˆ·æ–°ç‡çš„å½±å“</li>
<li>è‡ªé€‚åº”è°ƒæ•´é¢„æµ‹çª—å£å¤§å°</li>
<li>æ›´å¿«åœ°æ£€æµ‹å’Œé€‚åº”åˆ·æ–°ç‡å˜åŒ–</li>
</ul>
<p><strong>3. VRRé…ç½®æ”¯æŒ</strong></p>
<p>æ–°å¢<code>VrrConfig</code>é…ç½®,å…è®¸HALå±‚ç²¾ç¡®æ§åˆ¶åˆ·æ–°ç‡:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">VrrConfig</span> {
    <span class="hljs-comment">// é€šçŸ¥SurfaceFlingerä¸‹ä¸€å¸§çš„æœŸæœ›presentæ—¶é—´</span>
    <span class="hljs-type">int</span> notifyExpectedPresentTime;
    <span class="hljs-comment">// æœ€å°å¸§é—´éš”(çº³ç§’)</span>
    <span class="hljs-type">int</span> minFrameInterval;
}
</code></pre>
<h2 data-id="heading-10">äºŒã€Choreographerä¸åº”ç”¨ä¾§æ¸²æŸ“</h2>
<h3 data-id="heading-11">2.1 Choreographerå·¥ä½œåŸç†</h3>
<p>Choreographer(ç¼–èˆè€…)æ˜¯Androidåœ¨åº”ç”¨ä¾§ä¸Vsyncäº¤äº’çš„æ¡¥æ¢,å®ƒåè°ƒè¾“å…¥ã€åŠ¨ç”»ã€ç»˜åˆ¶çš„æ‰§è¡Œæ—¶æœº,ç¡®ä¿å®ƒä»¬éƒ½åœ¨æ­£ç¡®çš„Vsyncè¾¹ç•Œä¸Šå‘ç”Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fe03c4d68e54146a39b87160fc0737b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769434385&amp;x-signature=DJYA9wSXuhyBf225pIDfP1xluZY%3D" alt="03-02-choreographer-workflow.png" loading="lazy"/></p>
<h4 data-id="heading-12">Choreographerçš„åˆå§‹åŒ–</h4>
<p>Choreographeré‡‡ç”¨çº¿ç¨‹æœ¬åœ°å•ä¾‹æ¨¡å¼,æ¯ä¸ªLooperçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„Choreographer:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// frameworks/base/core/java/android/view/Choreographer.java</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Choreographer</span> {
    <span class="hljs-comment">// ThreadLocalå­˜å‚¨,æ¯ä¸ªçº¿ç¨‹ä¸€ä¸ªå®ä¾‹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;Choreographer&gt; sThreadInstance =
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;Choreographer&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> Choreographer <span class="hljs-title function_">initialValue</span><span class="hljs-params">()</span> {
            <span class="hljs-type">Looper</span> <span class="hljs-variable">looper</span> <span class="hljs-operator">=</span> Looper.myLooper();
            <span class="hljs-keyword">if</span> (looper == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"The current thread must have a looper!"</span>);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Choreographer</span>(looper, VSYNC_SOURCE_APP);
        }
    };

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Choreographer</span><span class="hljs-params">(Looper looper, <span class="hljs-type">int</span> vsyncSource)</span> {
        mLooper = looper;
        mHandler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameHandler</span>(looper);

        <span class="hljs-comment">// åˆ›å»ºDisplayEventReceiveræ¥æ”¶Vsync</span>
        mDisplayEventReceiver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameDisplayEventReceiver</span>(looper, vsyncSource);
    }
}
</code></pre>
<h3 data-id="heading-13">2.2 VSYNC â†’ doFrame â†’ drawçš„é“¾è·¯</h3>
<p>è®©æˆ‘ä»¬è·Ÿè¸ªä¸€ä¸ªå®Œæ•´çš„å¸§æ˜¯å¦‚ä½•ä»Vsyncä¿¡å·åˆ°è¾¾å±å¹•çš„:</p>
<h4 data-id="heading-14">æ­¥éª¤1: Vsyncåˆ°è¾¾</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FrameDisplayEventReceiver</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">DisplayEventReceiver</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onVsync</span><span class="hljs-params">(<span class="hljs-type">long</span> timestampNanos, <span class="hljs-type">long</span> physicalDisplayId,
                       <span class="hljs-type">int</span> frame, VsyncEventData vsyncEventData)</span> {
        <span class="hljs-comment">// Vsyncå›è°ƒåœ¨Displayçº¿ç¨‹,éœ€è¦åˆ‡æ¢åˆ°ä¸»çº¿ç¨‹</span>
        <span class="hljs-type">Message</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> Message.obtain(mHandler, MSG_DO_FRAME);
        msg.setAsynchronous(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// å¼‚æ­¥æ¶ˆæ¯,ä¼˜å…ˆå¤„ç†</span>
        mHandler.sendMessageAtTime(msg, timestampNanos / TimeUtils.NANOS_PER_MS);
    }
}
</code></pre>
<h4 data-id="heading-15">æ­¥éª¤2: doFrameæ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">doFrame</span><span class="hljs-params">(<span class="hljs-type">long</span> frameTimeNanos, <span class="hljs-type">int</span> frame, DisplayEventReceiver.VsyncEventData vsyncEventData)</span> {
    <span class="hljs-comment">// æ£€æŸ¥æ‰å¸§</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">jitterNanos</span> <span class="hljs-operator">=</span> frameTimeNanos - mLastFrameTimeNanos;
    <span class="hljs-keyword">if</span> (jitterNanos &gt;= mFrameIntervalNanos) {
        <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">skippedFrames</span> <span class="hljs-operator">=</span> jitterNanos / mFrameIntervalNanos;
        <span class="hljs-keyword">if</span> (skippedFrames &gt; SKIPPED_FRAME_WARNING_LIMIT) {
            Log.i(TAG, <span class="hljs-string">"Skipped "</span> + skippedFrames + <span class="hljs-string">" frames!  "</span>
                    + <span class="hljs-string">"The application may be doing too much work on its main thread."</span>);
        }
    }

    mLastFrameTimeNanos = frameTimeNanos;

    <span class="hljs-comment">// ä¾æ¬¡æ‰§è¡Œ4ç§ç±»å‹çš„Callback</span>
    doCallbacks(Choreographer.CALLBACK_INPUT, frameTimeNanos);     <span class="hljs-comment">// è¾“å…¥äº‹ä»¶</span>
    doCallbacks(Choreographer.CALLBACK_ANIMATION, frameTimeNanos); <span class="hljs-comment">// åŠ¨ç”»</span>
    doCallbacks(Choreographer.CALLBACK_TRAVERSAL, frameTimeNanos); <span class="hljs-comment">// éå†(ç»˜åˆ¶)</span>
    doCallbacks(Choreographer.CALLBACK_COMMIT, frameTimeNanos);    <span class="hljs-comment">// æäº¤</span>
}
</code></pre>
<h4 data-id="heading-16">æ­¥éª¤3: Viewéå†</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// CALLBACK_TRAVERSALä¼šè§¦å‘ViewRootImplçš„performTraversals</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">performTraversals</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// æµ‹é‡</span>
    <span class="hljs-keyword">if</span> (mFirst || windowShouldResize) {
        performMeasure(childWidthMeasureSpec, childHeightMeasureSpec);
    }

    <span class="hljs-comment">// å¸ƒå±€</span>
    <span class="hljs-keyword">if</span> (didLayout) {
        performLayout(lp, mWidth, mHeight);
    }

    <span class="hljs-comment">// ç»˜åˆ¶</span>
    <span class="hljs-keyword">if</span> (!cancelDraw) {
        performDraw();
    }
}
</code></pre>
<h4 data-id="heading-17">æ­¥éª¤4: ç¡¬ä»¶åŠ é€Ÿç»˜åˆ¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performDraw</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (mAttachInfo.mThreadedRenderer != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// ä½¿ç”¨RenderThreadè¿›è¡Œç¡¬ä»¶åŠ é€Ÿç»˜åˆ¶</span>
        mAttachInfo.mThreadedRenderer.draw(mView, mAttachInfo, <span class="hljs-built_in">this</span>);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// è½¯ä»¶ç»˜åˆ¶(å¾ˆå°‘ä½¿ç”¨)</span>
        draw(fullRedrawNeeded);
    }
}
</code></pre>
<p><strong>ThreadedRenderer</strong>(RenderThread)æ˜¯Androidçš„GPUæ¸²æŸ“çº¿ç¨‹,å®ƒä¸UIçº¿ç¨‹å¹¶è¡Œå·¥ä½œ:</p>
<ul>
<li>UI Thread: æ„å»ºDisplayList(ç»˜åˆ¶æŒ‡ä»¤åˆ—è¡¨)</li>
<li>RenderThread: æ‰§è¡ŒDisplayList,è°ƒç”¨OpenGL/Vulkanè¿›è¡ŒGPUæ¸²æŸ“</li>
</ul>
<h3 data-id="heading-18">2.3 å¸§ç‡æ§åˆ¶æœºåˆ¶</h3>
<p>Choreographeræä¾›äº†çµæ´»çš„å¸§ç‡æ§åˆ¶:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¯·æ±‚ä¸‹ä¸€æ¬¡Vsyncå›è°ƒ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postFrameCallback</span><span class="hljs-params">(FrameCallback callback)</span> {
    postFrameCallbackDelayed(callback, <span class="hljs-number">0</span>);
}

<span class="hljs-comment">// å»¶è¿ŸNæ¯«ç§’åè¯·æ±‚Vsyncå›è°ƒ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postFrameCallbackDelayed</span><span class="hljs-params">(FrameCallback callback, <span class="hljs-type">long</span> delayMillis)</span> {
    postCallbackDelayedInternal(CALLBACK_ANIMATION, callback, FRAME_CALLBACK_TOKEN, delayMillis);
}

<span class="hljs-comment">// è®¾ç½®Vsyncé€Ÿç‡(é™é¢‘)</span>
<span class="hljs-comment">// rate=2è¡¨ç¤ºæ¯2ä¸ªVsyncæ‰§è¡Œä¸€æ¬¡(30fps on 60Hz display)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setVsyncRate</span><span class="hljs-params">(<span class="hljs-type">int</span> rate)</span> {
    mFPSDivisor = rate;
}
</code></pre>
<h3 data-id="heading-19">2.4 æ‰å¸§æ£€æµ‹ä¸å›è°ƒ</h3>
<p>Choreographerå†…ç½®äº†æ‰å¸§æ£€æµ‹æœºåˆ¶:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">doFrame</span><span class="hljs-params">(<span class="hljs-type">long</span> frameTimeNanos, <span class="hljs-type">int</span> frame, DisplayEventReceiver.VsyncEventData vsyncEventData)</span> {
    <span class="hljs-comment">// è®¡ç®—è·ç¦»ä¸Šä¸€å¸§çš„æ—¶é—´å·®</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">jitterNanos</span> <span class="hljs-operator">=</span> frameTimeNanos - mLastFrameTimeNanos;

    <span class="hljs-comment">// å¦‚æœè¶…è¿‡ä¸€ä¸ªVsyncå‘¨æœŸ,è¯´æ˜æ‰å¸§äº†</span>
    <span class="hljs-keyword">if</span> (jitterNanos &gt;= mFrameIntervalNanos) {
        <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">skippedFrames</span> <span class="hljs-operator">=</span> jitterNanos / mFrameIntervalNanos;

        <span class="hljs-comment">// è¶…è¿‡é˜ˆå€¼(é»˜è®¤30å¸§),è¾“å‡ºè­¦å‘Šæ—¥å¿—</span>
        <span class="hljs-keyword">if</span> (skippedFrames &gt;= SKIPPED_FRAME_WARNING_LIMIT) {
            Log.i(TAG, <span class="hljs-string">"Skipped "</span> + skippedFrames + <span class="hljs-string">" frames!  "</span>
                    + <span class="hljs-string">"The application may be doing too much work on its main thread."</span>);
        }

        <span class="hljs-comment">// è®°å½•åˆ°FrameMetrics,ä¾›æ€§èƒ½åˆ†æ</span>
        mFrameMetrics.addJank(skippedFrames);
    }
}
</code></pre>
<p>åº”ç”¨å¯ä»¥é€šè¿‡<code>Window.addOnFrameMetricsAvailableListener()</code>ç›‘å¬æ‰å¸§äº‹ä»¶:</p>
<pre><code class="hljs language-java" lang="java">window.addOnFrameMetricsAvailableListener(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Window</span>.OnFrameMetricsAvailableListener() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFrameMetricsAvailable</span><span class="hljs-params">(Window window, FrameMetrics frameMetrics, <span class="hljs-type">int</span> dropCountSinceLastInvocation)</span> {
            <span class="hljs-comment">// frameMetricsåŒ…å«è¯¦ç»†çš„å¸§è€—æ—¶æ•°æ®</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">totalDuration</span> <span class="hljs-operator">=</span> frameMetrics.getMetric(FrameMetrics.TOTAL_DURATION);
            <span class="hljs-keyword">if</span> (totalDuration &gt; <span class="hljs-number">16_000_000</span>) {  <span class="hljs-comment">// 16ms in nanoseconds</span>
                Log.w(TAG, <span class="hljs-string">"Slow frame detected: "</span> + totalDuration / <span class="hljs-number">1_000_000</span> + <span class="hljs-string">"ms"</span>);
            }
        }
    },
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Handler</span>(Looper.getMainLooper())
);
</code></pre>
<blockquote>
<p><strong>æ€§èƒ½ä¼˜åŒ–æç¤º</strong>:</p>
<ul>
<li>Choreographerçš„å›è°ƒæ‰§è¡Œåœ¨UIçº¿ç¨‹,å¿…é¡»å¿«é€Ÿå®Œæˆ(&lt; 16ms)</li>
<li>è€—æ—¶æ“ä½œåº”æ”¾åˆ°åå°çº¿ç¨‹æˆ–RenderThread</li>
<li>ä½¿ç”¨<code>postFrameCallback</code>å¯ä»¥ç²¾ç¡®æ§åˆ¶åŠ¨ç”»æ‰§è¡Œæ—¶æœº</li>
</ul>
</blockquote>
<h2 data-id="heading-20">ä¸‰ã€ä¸‰é‡ç¼“å†²ä¸å¸§ç‡ä¼˜åŒ–</h2>
<h3 data-id="heading-21">3.1 åŒç¼“å†²çš„å±€é™æ€§</h3>
<p>åœ¨ç†è§£ä¸‰é‡ç¼“å†²ä¹‹å‰,å…ˆçœ‹çœ‹åŒç¼“å†²ä¸ºä»€ä¹ˆä¸å¤Ÿç”¨ã€‚</p>
<p><strong>åŒç¼“å†²æ¨¡å‹</strong>:</p>
<ul>
<li>Buffer A: å½“å‰Displayæ­£åœ¨æ‰«ææ˜¾ç¤º</li>
<li>Buffer B: App/GPUæ­£åœ¨ç»˜åˆ¶</li>
</ul>
<p><strong>é—®é¢˜åœºæ™¯</strong>:</p>
<p>å‡è®¾Appç»˜åˆ¶ä¸€å¸§éœ€è¦15ms(æ¥è¿‘16msçš„é™åˆ¶):</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">Vsync</span> <span class="hljs-number">0</span> (T0):
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Display</span>: æ˜¾ç¤º<span class="hljs-selector-tag">Buffer</span> <span class="hljs-selector-tag">A</span>
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">App</span>: ç»˜åˆ¶<span class="hljs-selector-tag">Buffer</span> <span class="hljs-selector-tag">B</span> (è€—æ—¶<span class="hljs-number">15ms</span>)

<span class="hljs-selector-tag">Vsync</span> <span class="hljs-number">1</span> (T16ms):
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Display</span>: æ˜¾ç¤º<span class="hljs-selector-tag">Buffer</span> <span class="hljs-selector-tag">B</span> (åˆšå®Œæˆçš„)
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">App</span>: æƒ³ç»˜åˆ¶<span class="hljs-selector-tag">Buffer</span> <span class="hljs-selector-tag">A</span>,ä½†<span class="hljs-selector-tag">A</span>è¿˜åœ¨è¢«<span class="hljs-selector-tag">Display</span>ä½¿ç”¨ âŒ
  <span class="hljs-selector-tag">-</span> ç»“æœ: <span class="hljs-selector-tag">App</span>é˜»å¡ç­‰å¾…,è¿™ä¸€å¸§æ‰äº†

<span class="hljs-selector-tag">Vsync</span> <span class="hljs-number">2</span> (T32ms):
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Display</span>: è¿˜åœ¨æ˜¾ç¤º<span class="hljs-selector-tag">Buffer</span> <span class="hljs-selector-tag">B</span> (å› ä¸ºæ²¡æœ‰æ–°å†…å®¹)
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">App</span>: <span class="hljs-selector-tag">Buffer</span> <span class="hljs-selector-tag">A</span>è¢«é‡Šæ”¾,å¼€å§‹ç»˜åˆ¶
</code></pre>
<p><strong>é—®é¢˜æ ¹æº</strong>: åªæœ‰2ä¸ªBuffer,ä½†éœ€è¦3ä¸ªè§’è‰²åŒæ—¶ä½¿ç”¨:</p>
<ol>
<li>Displayæ­£åœ¨æ˜¾ç¤ºä¸€ä¸ª</li>
<li>SurfaceFlingeræ­£åœ¨åˆæˆä¸€ä¸ª</li>
<li>Appæƒ³è¦ç»˜åˆ¶ä¸€ä¸ª</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b026351ae3144691a7c2e3b550f173c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769434385&amp;x-signature=z8ofMIaTYgJFtuOju41%2FvnZ0GMw%3D" alt="03-03-double-vs-triple-buffering.png" loading="lazy"/></p>
<h3 data-id="heading-22">3.2 ä¸‰é‡ç¼“å†²çš„å¼•å…¥</h3>
<p>ä¸‰é‡ç¼“å†²å¢åŠ äº†ç¬¬ä¸‰ä¸ªBuffer,è§£å†³äº†ä¸Šè¿°é—®é¢˜:</p>
<p><strong>ä¸‰é‡ç¼“å†²æ¨¡å‹</strong>:</p>
<ul>
<li>Buffer A: Displayæ­£åœ¨æ˜¾ç¤º</li>
<li>Buffer B: SurfaceFlingeræ­£åœ¨åˆæˆ</li>
<li>Buffer C: Appå¯ä»¥è‡ªç”±ç»˜åˆ¶</li>
</ul>
<p><strong>ä¼˜åŒ–åçš„æ—¶åº</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown">Vsync 0 (T0):
<span class="hljs-bullet">  -</span> Display: æ˜¾ç¤ºBuffer A
<span class="hljs-bullet">  -</span> SurfaceFlinger: åˆæˆBuffer B
<span class="hljs-bullet">  -</span> App: ç»˜åˆ¶Buffer C âœ“

Vsync 1 (T16ms):
<span class="hljs-bullet">  -</span> Display: æ˜¾ç¤ºBuffer B
<span class="hljs-bullet">  -</span> SurfaceFlinger: åˆæˆBuffer C
<span class="hljs-bullet">  -</span> App: ç»˜åˆ¶Buffer A âœ“ (å·²è¢«Displayé‡Šæ”¾)

Vsync 2 (T32ms):
<span class="hljs-bullet">  -</span> Display: æ˜¾ç¤ºBuffer C
<span class="hljs-bullet">  -</span> SurfaceFlinger: åˆæˆBuffer A
<span class="hljs-bullet">  -</span> App: ç»˜åˆ¶Buffer B âœ“
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>:</p>
<ul>
<li>âœ“ Appå§‹ç»ˆæœ‰å¯ç”¨Buffer,æ— éœ€ç­‰å¾…</li>
<li>âœ“ 100%çš„Vsyncåˆ©ç”¨ç‡,æµç•…åº¦å¤§å¹…æå‡</li>
<li>âœ“ å³ä½¿å¶å°”è¶…è¿‡16ms,ä¹Ÿèƒ½å¿«é€Ÿæ¢å¤</li>
</ul>
<p><strong>ä»£ä»·</strong>:</p>
<ul>
<li>âš  å†…å­˜å ç”¨å¢åŠ 33% (3ä¸ªBuffer vs 2ä¸ª)</li>
<li>âš  å»¶è¿Ÿå¢åŠ 1å¸§ (ä»è¾“å…¥åˆ°æ˜¾ç¤ºçš„å»¶è¿Ÿ)</li>
</ul>
<h3 data-id="heading-23">3.3 BufferQueueçš„maxAcquiredBufferCount</h3>
<p>ä¸‰é‡ç¼“å†²é€šè¿‡é…ç½®BufferQueueçš„maxAcquiredBufferCountå®ç°:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// frameworks/native/libs/gui/BufferQueueProducer.cpp</span>
<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">BufferQueueProducer::setMaxDequeuedBufferCount</span><span class="hljs-params">(<span class="hljs-type">int</span> maxDequeuedBuffers)</span> </span>{
    <span class="hljs-comment">// maxDequeuedBuffers = 2: åŒç¼“å†² (Appæœ€å¤šæŒæœ‰2ä¸ªBuffer)</span>
    <span class="hljs-comment">// maxDequeuedBuffers = 3: ä¸‰é‡ç¼“å†² (Appæœ€å¤šæŒæœ‰3ä¸ªBuffer)</span>

    <span class="hljs-keyword">if</span> (maxDequeuedBuffers &lt; <span class="hljs-number">1</span> || maxDequeuedBuffers &gt; BufferQueueDefs::NUM_BUFFER_SLOTS - <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span> BAD_VALUE;
    }

    <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mCore-&gt;mMutex)</span></span>;
    mCore-&gt;mMaxDequeuedBufferCount = maxDequeuedBuffers;
    <span class="hljs-keyword">return</span> NO_ERROR;
}
</code></pre>
<p><strong>é»˜è®¤é…ç½®</strong> (Android 15):</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// frameworks/native/services/surfaceflinger/SurfaceFlinger.cpp</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SurfaceFlinger::setUpHWComposer</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// é»˜è®¤ä¸‰é‡ç¼“å†²</span>
    mMaxAcquiredBufferCount = <span class="hljs-number">3</span>;
}
</code></pre>
<blockquote>
<p><strong>å†…å­˜å ç”¨æƒè¡¡</strong>:</p>
<ul>
<li>1080p RGBA_8888 Buffer: çº¦8MB</li>
<li>ä¸‰é‡ç¼“å†²é¢å¤–å¼€é”€: 8MB</li>
<li>å¯¹äºç°ä»£æ‰‹æœº(8GB+ RAM),è¿™ä¸ªå¼€é”€å¯ä»¥æ¥å—</li>
</ul>
</blockquote>
<h3 data-id="heading-24">3.4 Android 15çš„BufferQueueä¼˜åŒ–</h3>
<p>Android 15è¿›ä¸€æ­¥ä¼˜åŒ–äº†BufferQueue:</p>
<p><strong>1. åŠ¨æ€ç¼“å†²åŒºæ•°é‡è°ƒæ•´</strong></p>
<p>æ ¹æ®åœºæ™¯åŠ¨æ€è°ƒæ•´Bufferæ•°é‡:</p>
<ul>
<li>é™æ€å†…å®¹: ä½¿ç”¨2ä¸ªBuffer,èŠ‚çœå†…å­˜</li>
<li>åŠ¨ç”»/æ»‘åŠ¨: ä½¿ç”¨3ä¸ªBuffer,ä¿è¯æµç•…</li>
<li>é‡åº¦æ¸¸æˆ: å¯é…ç½®4ä¸ªBuffer (é€šè¿‡<code>setMaxDequeuedBufferCount(4)</code>)</li>
</ul>
<p><strong>2. æ›´æ™ºèƒ½çš„Bufferé‡Šæ”¾ç­–ç•¥</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å½“Bufferåœ¨é˜Ÿåˆ—ä¸­åœç•™è¿‡ä¹…,ä¸»åŠ¨é‡Šæ”¾</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">BufferQueueCore::releaseOldBuffers</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-type">const</span> <span class="hljs-type">nsecs_t</span> now = <span class="hljs-built_in">systemTime</span>();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; slot : mSlots) {
        <span class="hljs-keyword">if</span> (slot.mBufferState == BufferSlot::ACQUIRED &amp;&amp;
            now - slot.mAcquiredTime &gt; kMaxAcquiredBufferAge) {
            <span class="hljs-comment">// è¶…è¿‡é˜ˆå€¼(å¦‚500ms),ä¸»åŠ¨é‡Šæ”¾</span>
            <span class="hljs-built_in">releaseBuffer</span>(slot);
        }
    }
}
</code></pre>
<p><strong>3. å¸§ç‡æ„ŸçŸ¥çš„Bufferç®¡ç†</strong></p>
<p>VRRåœºæ™¯ä¸‹,æ ¹æ®å½“å‰å¸§ç‡åŠ¨æ€è°ƒæ•´Bufferè¶…æ—¶æ—¶é—´:</p>
<ul>
<li>60Hz: è¶…è¿‡33msæœªä½¿ç”¨çš„Bufferé‡Šæ”¾</li>
<li>30Hz: è¶…è¿‡66msæœªä½¿ç”¨çš„Bufferé‡Šæ”¾</li>
</ul>
<h2 data-id="heading-25">å››ã€æ˜¾ç¤ºæ€§èƒ½é—®é¢˜è¯Šæ–­å®æˆ˜</h2>
<h3 data-id="heading-26">4.1 å¸¸è§æ€§èƒ½é—®é¢˜ç±»å‹</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­,æ˜¾ç¤ºæ€§èƒ½é—®é¢˜ä¸»è¦åˆ†ä¸ºä¸‰å¤§ç±»:</p>
<p><strong>1. UI Threadè€—æ—¶</strong></p>
<ul>
<li>ç—‡çŠ¶: ä¸»çº¿ç¨‹æ‰§è¡Œæ—¶é—´è¿‡é•¿,å¯¼è‡´æ— æ³•åŠæ—¶å“åº”Vsync</li>
<li>åŸå› :
<ul>
<li>è¿‡åº¦ç»˜åˆ¶(Overdraw)</li>
<li>å¸ƒå±€å±‚çº§è¿‡æ·±</li>
<li>ä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œ(ç½‘ç»œ/IO/å¤æ‚è®¡ç®—)</li>
</ul>
</li>
</ul>
<p><strong>2. RenderThreadè€—æ—¶</strong></p>
<ul>
<li>ç—‡çŠ¶: GPUæ¸²æŸ“é€Ÿåº¦è·Ÿä¸ä¸Š</li>
<li>åŸå› :
<ul>
<li>å¤æ‚Shaderè®¡ç®—</li>
<li>å¤§é‡çº¹ç†ä¸Šä¼ </li>
<li>Alphaæ··åˆè¿‡å¤š</li>
</ul>
</li>
</ul>
<p><strong>3. SurfaceFlingerè€—æ—¶</strong></p>
<ul>
<li>ç—‡çŠ¶: ç³»ç»Ÿåˆæˆå»¶è¿Ÿ</li>
<li>åŸå› :
<ul>
<li>Layeræ•°é‡è¿‡å¤š(&gt; 30ä¸ª)</li>
<li>ç¡¬ä»¶Overlayèµ„æºä¸è¶³,å¤§é‡CLIENTåˆæˆ</li>
<li>HWCåˆæˆç­–ç•¥ä¸ä½³</li>
</ul>
</li>
</ul>
<h3 data-id="heading-27">4.2 å·¥å…·é“¾ä½¿ç”¨</h3>
<h4 data-id="heading-28">Systraceåˆ†æVsync/SurfaceFlinger/RenderThread</h4>
<p><strong>Systrace</strong>æ˜¯Androidæœ€å¼ºå¤§çš„æ€§èƒ½åˆ†æå·¥å…·,å¯ä»¥å®Œæ•´å±•ç¤ºæ¸²æŸ“ç®¡çº¿çš„æ¯ä¸ªç¯èŠ‚ã€‚</p>
<p><strong>æŠ“å–trace</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŠ“å–5ç§’çš„trace,å…³æ³¨graphics/view/sched/freq</span>
python systrace.py gfx view <span class="hljs-built_in">sched</span> freq -b 32768 -t 5 -o trace.html

<span class="hljs-comment"># å‚æ•°è¯´æ˜:</span>
<span class="hljs-comment"># gfx: Graphicsç›¸å…³äº‹ä»¶(SurfaceFlinger/HWC/BufferQueue)</span>
<span class="hljs-comment"># view: Viewç³»ç»Ÿäº‹ä»¶(measure/layout/draw)</span>
<span class="hljs-comment"># sched: çº¿ç¨‹è°ƒåº¦äº‹ä»¶</span>
<span class="hljs-comment"># freq: CPUé¢‘ç‡å˜åŒ–</span>
<span class="hljs-comment"># -b 32768: bufferå¤§å°32MB,é¿å…æ•°æ®ä¸¢å¤±</span>
<span class="hljs-comment"># -t 5: æŠ“å–5ç§’</span>
</code></pre>
<p><strong>åˆ†æå…³é”®Track</strong>:</p>
<ol>
<li>
<p><strong>surfaceflinger Track</strong></p>
<ul>
<li>æŸ¥çœ‹<code>onMessageReceived</code>: åˆæˆå¾ªç¯è§¦å‘</li>
<li>æŸ¥çœ‹<code>handleMessageRefresh</code>: å®é™…åˆæˆè€—æ—¶</li>
<li>ç›®æ ‡: &lt; 2ms</li>
</ul>
</li>
<li>
<p><strong>UI Thread Track</strong> (åº”ç”¨ä¸»çº¿ç¨‹)</p>
<ul>
<li>æŸ¥çœ‹<code>Choreographer#doFrame</code>: æ˜¯å¦åŠæ—¶å“åº”Vsync</li>
<li>æŸ¥çœ‹<code>performTraversals</code>: measure/layout/drawè€—æ—¶</li>
<li>æŸ¥çœ‹<code>draw</code>: æ˜¯å¦æœ‰æ…¢é€ŸView</li>
<li>ç›®æ ‡: &lt; 10ms</li>
</ul>
</li>
<li>
<p><strong>RenderThread Track</strong></p>
<ul>
<li>æŸ¥çœ‹<code>syncFrameState</code>: DisplayListåŒæ­¥</li>
<li>æŸ¥çœ‹<code>flush drawing commands</code>: GPUå‘½ä»¤æäº¤</li>
<li>ç›®æ ‡: &lt; 4ms</li>
</ul>
</li>
</ol>
<p><strong>å…¸å‹é—®é¢˜pattern</strong>:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Pattern 1:</span> <span class="hljs-string">UI</span> <span class="hljs-string">Threadé˜»å¡</span>
<span class="hljs-string">------------------------------------------------------------</span>
<span class="hljs-attr">UI Thread:</span>  <span class="hljs-string">|=======doFrame(20ms)========|</span>  <span class="hljs-string">âŒ</span> <span class="hljs-string">è¶…è¿‡16ms</span>
<span class="hljs-attr">RenderThread:</span>         [<span class="hljs-string">idle</span>]
<span class="hljs-attr">SurfaceFlinger:</span>       [<span class="hljs-string">idle</span>]
<span class="hljs-string">â†’</span> <span class="hljs-string">é—®é¢˜:</span> <span class="hljs-string">UI</span> <span class="hljs-string">Threadè€—æ—¶è¿‡é•¿,æ£€æŸ¥æ˜¯å¦æœ‰è€—æ—¶Viewæˆ–ä¸»çº¿ç¨‹IO</span>

<span class="hljs-attr">Pattern 2:</span> <span class="hljs-string">RenderThreadæ…¢</span>
<span class="hljs-string">------------------------------------------------------------</span>
<span class="hljs-attr">UI Thread:</span>  <span class="hljs-string">|==doFrame(8ms)==|</span>
<span class="hljs-attr">RenderThread:</span>        <span class="hljs-string">|========flush(15ms)=========|</span>  <span class="hljs-string">âŒ</span>
<span class="hljs-attr">SurfaceFlinger:</span>             [<span class="hljs-string">waiting</span>]
<span class="hljs-string">â†’</span> <span class="hljs-string">é—®é¢˜:</span> <span class="hljs-string">GPUæ¸²æŸ“æ…¢,æ£€æŸ¥Overdrawå’ŒShaderå¤æ‚åº¦</span>

<span class="hljs-attr">Pattern 3:</span> <span class="hljs-string">æ‰å¸§(Jank)</span>
<span class="hljs-string">------------------------------------------------------------</span>
<span class="hljs-attr">Vsync 0:</span>  <span class="hljs-string">Appç»˜åˆ¶</span>
<span class="hljs-attr">Vsync 1:</span>  <span class="hljs-string">Appç»˜åˆ¶å®Œæˆ</span> <span class="hljs-string">â†’</span> <span class="hljs-string">SFåˆæˆ</span> <span class="hljs-string">â†’</span> <span class="hljs-string">Display</span>
<span class="hljs-attr">Vsync 2:</span>  [<span class="hljs-string">æ²¡æœ‰æ–°å†…å®¹</span>,<span class="hljs-string">Displayé‡å¤ä¸Šä¸€å¸§</span>]  <span class="hljs-string">âŒ</span> <span class="hljs-string">Jank</span>
<span class="hljs-string">â†’</span> <span class="hljs-string">é—®é¢˜:</span> <span class="hljs-string">Appè¶…è¿‡1ä¸ªVsyncå‘¨æœŸæ‰å®Œæˆç»˜åˆ¶</span>
</code></pre>
<h4 data-id="heading-29">GPUå‘ˆç°æ¨¡å¼åˆ†æ</h4>
<p>GPUå‘ˆç°æ¨¡å¼æ˜¯å¿«é€Ÿå®šä½é—®é¢˜çš„åˆ©å™¨:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å¯GPUå‘ˆç°æ¡å½¢å›¾</span>
adb shell setprop debug.hwui.profile <span class="hljs-literal">true</span>

<span class="hljs-comment"># æˆ–è€…é€šè¿‡è®¾ç½®ç•Œé¢</span>
è®¾ç½® â†’ å¼€å‘è€…é€‰é¡¹ â†’ GPUå‘ˆç°æ¨¡å¼åˆ†æ â†’ åœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸ºæ¡å½¢å›¾
</code></pre>
<p><strong>æ¡å½¢å›¾è§£è¯»</strong>:</p>
<p>æ¯æ ¹æŸ±å­ä»£è¡¨ä¸€å¸§,ä»ä¸‹åˆ°ä¸Šåˆ†ä¸ºå¤šæ®µ,é¢œè‰²å«ä¹‰:</p>
<ul>
<li><strong>ç»¿è‰²</strong>(swap buffers): Buffer swapæ—¶é—´</li>
<li><strong>è“è‰²</strong>(command issue): GPUå‘½ä»¤æäº¤</li>
<li><strong>çº¢è‰²</strong>(sync &amp; upload): çº¹ç†ä¸Šä¼ å’ŒåŒæ­¥</li>
<li><strong>æ©™è‰²</strong>(measure/layout): æµ‹é‡å’Œå¸ƒå±€</li>
<li><strong>è“è‰²</strong>(animation): åŠ¨ç”»è®¡ç®—</li>
<li><strong>çº¢è‰²</strong>(input handling): è¾“å…¥äº‹ä»¶å¤„ç†</li>
<li><strong>æ©™è‰²</strong>(misc/vsync delay): å…¶ä»–æ‚é¡¹</li>
</ul>
<p><strong>åˆ¤æ–­æ ‡å‡†</strong>:</p>
<ul>
<li>ç»¿è‰²æ¨ªçº¿: 16msé˜ˆå€¼(60fps)</li>
<li>æŸ±å­è¶…è¿‡ç»¿çº¿: æ‰å¸§</li>
<li>æŸ±å­è¿‡é«˜: ä¸¥é‡æ€§èƒ½é—®é¢˜</li>
</ul>
<h4 data-id="heading-30">dumpsys gfxinfo</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æŒ‡å®šåº”ç”¨çš„å¸§ç‡ç»Ÿè®¡</span>
adb shell dumpsys gfxinfo &lt;package_name&gt;

<span class="hljs-comment"># æŸ¥çœ‹æœ€è¿‘120å¸§çš„è¯¦ç»†æ•°æ®</span>
adb shell dumpsys gfxinfo &lt;package_name&gt; framestats
</code></pre>
<p><strong>å…³é”®æŒ‡æ ‡</strong>:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Stats since:</span> <span class="hljs-string">512345678ns</span>
<span class="hljs-attr">Total frames rendered:</span> <span class="hljs-number">1543</span>
<span class="hljs-attr">Janky frames:</span> <span class="hljs-number">89</span> <span class="hljs-string">(5.77%)</span>
<span class="hljs-attr">90th percentile:</span> <span class="hljs-string">14ms</span>
<span class="hljs-attr">95th percentile:</span> <span class="hljs-string">18ms</span>
<span class="hljs-attr">99th percentile:</span> <span class="hljs-string">26ms</span>

<span class="hljs-attr">Number Missed Vsync:</span> <span class="hljs-number">23</span>
<span class="hljs-attr">Number High input latency:</span> <span class="hljs-number">5</span>
<span class="hljs-attr">Number Slow UI thread:</span> <span class="hljs-number">34</span>
<span class="hljs-attr">Number Slow bitmap uploads:</span> <span class="hljs-number">8</span>
<span class="hljs-attr">Number Slow draw:</span> <span class="hljs-number">12</span>
</code></pre>
<p><strong>æŒ‡æ ‡å«ä¹‰</strong>:</p>
<ul>
<li>Janky frames: æ‰å¸§æ•°é‡å’Œæ¯”ä¾‹,ç›®æ ‡&lt; 1%</li>
<li>90th/95th/99th percentile: å¸§æ—¶é—´åˆ†ä½æ•°,90th &lt; 16msä¸ºä¼˜ç§€</li>
<li>Missed Vsync: æœªèƒ½åŠæ—¶å“åº”Vsyncçš„æ¬¡æ•°</li>
<li>Slow UI thread: UIçº¿ç¨‹è¶…æ—¶æ¬¡æ•°</li>
</ul>
<h3 data-id="heading-31">4.3 æ¡ˆä¾‹1: ä¸¢å¸§é—®é¢˜å®šä½ä¸ä¼˜åŒ–</h3>
<p><strong>é—®é¢˜ç°è±¡</strong>:
ç”¨æˆ·åé¦ˆæŸRecyclerViewæ»‘åŠ¨æ—¶æ˜æ˜¾å¡é¡¿ã€‚</p>
<p><strong>æ­¥éª¤1: GPUå‘ˆç°æ¨¡å¼å¿«é€Ÿæ£€æŸ¥</strong></p>
<p>å¼€å¯GPUå‘ˆç°æ¡å½¢å›¾,æ»‘åŠ¨åˆ—è¡¨,è§‚å¯Ÿåˆ°:</p>
<ul>
<li>å¾ˆå¤šæŸ±å­è¶…è¿‡ç»¿çº¿(16ms)</li>
<li>æ©™è‰²éƒ¨åˆ†(measure/layout)ç‰¹åˆ«é•¿</li>
</ul>
<p><strong>æ­¥éª¤2: Systraceæ·±åº¦åˆ†æ</strong></p>
<pre><code class="hljs language-bash" lang="bash">python systrace.py gfx view -b 32768 -t 5 -o trace.html
</code></pre>
<p>æ‰“å¼€trace.html,æ‰¾åˆ°UI Threadçš„doFrame:</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">UI</span> <span class="hljs-selector-tag">Thread</span>:
  <span class="hljs-selector-tag">Choreographer</span><span class="hljs-selector-id">#doFrame</span>                <span class="hljs-selector-attr">[16.2ms]</span>
    â”œâ”€ <span class="hljs-selector-tag">CALLBACK_INPUT</span>                  <span class="hljs-selector-attr">[0.3ms]</span>
    â”œâ”€ <span class="hljs-selector-tag">CALLBACK_ANIMATION</span>              <span class="hljs-selector-attr">[0.5ms]</span>
    â””â”€ <span class="hljs-selector-tag">CALLBACK_TRAVERSAL</span>              <span class="hljs-selector-attr">[15.4ms]</span>  âŒ è¶…æ—¶
        â””â”€ <span class="hljs-selector-tag">ViewRootImpl</span><span class="hljs-selector-class">.performTraversals</span>
            â”œâ”€ <span class="hljs-selector-tag">performMeasure</span>          <span class="hljs-selector-attr">[12.1ms]</span>  âŒ æ…¢
            â”‚   â””â”€ <span class="hljs-selector-tag">RecyclerView</span><span class="hljs-selector-class">.measure</span>
            â”‚       â””â”€ <span class="hljs-selector-tag">LinearLayoutManager</span><span class="hljs-selector-class">.onMeasure</span>
            â”‚           â””â”€ éå†æ‰€æœ‰<span class="hljs-selector-tag">child</span>,æ¯ä¸ª<span class="hljs-selector-tag">child</span> <span class="hljs-number">0.5ms</span> Ã— <span class="hljs-number">25</span>ä¸ª = <span class="hljs-number">12.5ms</span>
            â”œâ”€ <span class="hljs-selector-tag">performLayout</span>           <span class="hljs-selector-attr">[2.8ms]</span>
            â””â”€ <span class="hljs-selector-tag">performDraw</span>             <span class="hljs-selector-attr">[0.5ms]</span>
</code></pre>
<p><strong>æ ¹æœ¬åŸå› </strong>: RecyclerViewçš„æ¯ä¸ªitemå¸ƒå±€å±‚çº§è¿‡æ·±,å¯¼è‡´measureè€—æ—¶è¿‡é•¿ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>:</p>
<ol>
<li>ä½¿ç”¨ConstraintLayoutæ‰å¹³åŒ–itemå¸ƒå±€:</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä¼˜åŒ–å‰: 3å±‚åµŒå¥— --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">RelativeLayout</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">RelativeLayout</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¼˜åŒ–å: 1å±‚ConstraintLayout --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span> <span class="hljs-attr">app:layout_constraintTop_toTopOf</span>=<span class="hljs-string">"parent"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span> <span class="hljs-attr">app:layout_constraintTop_toBottomOf</span>=<span class="hljs-string">"@id/image"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span>
</code></pre>
<ol start="2">
<li>é¿å…åœ¨onBindViewHolderä¸­æ‰§è¡Œå¤æ‚è®¡ç®—:</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼˜åŒ–å‰</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onBindViewHolder</span><span class="hljs-params">(ViewHolder holder, <span class="hljs-type">int</span> position)</span> {
    <span class="hljs-type">Data</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> items.get(position);
    holder.textView.setText(formatData(data));  <span class="hljs-comment">// æ¯æ¬¡bindéƒ½è®¡ç®—</span>
}

<span class="hljs-comment">// ä¼˜åŒ–å</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onBindViewHolder</span><span class="hljs-params">(ViewHolder holder, <span class="hljs-type">int</span> position)</span> {
    <span class="hljs-type">Data</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> items.get(position);
    holder.textView.setText(data.getFormattedText());  <span class="hljs-comment">// é¢„è®¡ç®—ç¼“å­˜</span>
}
</code></pre>
<p><strong>ä¼˜åŒ–æ•ˆæœ</strong>:</p>
<ul>
<li>measureè€—æ—¶: 12.1ms â†’ 3.2ms</li>
<li>æ€»å¸§æ—¶é—´: 16.2ms â†’ 7.5ms</li>
<li>æ‰å¸§ç‡: 35% â†’ 2%</li>
</ul>
<h3 data-id="heading-32">4.4 æ¡ˆä¾‹2: æ»‘åŠ¨å¡é¡¿åˆ†æ</h3>
<p><strong>é—®é¢˜ç°è±¡</strong>:
æŸé¡µé¢åŒ…å«å¤§é‡å›¾ç‰‡,æ»‘åŠ¨æ—¶ä¸¥é‡å¡é¡¿ã€‚</p>
<p><strong>æ­¥éª¤1: Systraceåˆ†æ</strong></p>
<p>å‘ç°RenderThreadçš„<code>flush drawing commands</code>è€—æ—¶ç‰¹åˆ«é•¿(18ms),GPUæ˜¯ç“¶é¢ˆã€‚</p>
<p><strong>æ­¥éª¤2: æ£€æŸ¥Overdraw</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å¯Overdrawæ£€æµ‹</span>
adb shell setprop debug.hwui.overdraw show
</code></pre>
<p>å±å¹•æ˜¾ç¤ºå¤§ç‰‡çº¢è‰²åŒºåŸŸ(4x+è¿‡åº¦ç»˜åˆ¶),é—®é¢˜ç¡®è®¤:å¤§é‡å›¾ç‰‡é‡å ç»˜åˆ¶ã€‚</p>
<p><strong>æ ¹æœ¬åŸå› </strong>:
é¡µé¢ä½¿ç”¨FrameLayoutå †å å¤šå±‚èƒŒæ™¯,æ¯ä¸ªitemåˆæœ‰åŠé€æ˜é®ç½©,å¯¼è‡´ä¸¥é‡Overdrawã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>:</p>
<ol>
<li>ç§»é™¤ä¸å¿…è¦çš„èƒŒæ™¯:</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä¼˜åŒ–å‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">FrameLayout</span> <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/white"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span> <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/placeholder"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">FrameLayout</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¼˜åŒ–å: ç§»é™¤FrameLayoutèƒŒæ™¯ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">FrameLayout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span> <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/placeholder"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">FrameLayout</span>&gt;</span>
</code></pre>
<ol start="2">
<li>ä½¿ç”¨clipRectå‡å°‘ç»˜åˆ¶åŒºåŸŸ:</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDraw</span><span class="hljs-params">(Canvas canvas)</span> {
    <span class="hljs-comment">// åªç»˜åˆ¶å¯è§åŒºåŸŸ</span>
    canvas.clipRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, getWidth(), getHeight());
    <span class="hljs-built_in">super</span>.onDraw(canvas);
}
</code></pre>
<ol start="3">
<li>ä½¿ç”¨ç¡¬ä»¶å±‚ç¼“å­˜å¤æ‚View:</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¯¹äºä¸ç»å¸¸å˜åŒ–çš„å¤æ‚View,ç¼“å­˜ä¸ºçº¹ç†</span>
view.setLayerType(View.LAYER_TYPE_HARDWARE, <span class="hljs-literal">null</span>);
</code></pre>
<p><strong>ä¼˜åŒ–æ•ˆæœ</strong>:</p>
<ul>
<li>Overdraw: 4x+ â†’ 2x</li>
<li>RenderThread flush: 18ms â†’ 5ms</li>
<li>æ»‘åŠ¨å¸§ç‡: 35fps â†’ 58fps</li>
</ul>
<h3 data-id="heading-33">4.5 æ¡ˆä¾‹3: å¯åŠ¨é»‘å±é—®é¢˜æ’æŸ¥</h3>
<p><strong>é—®é¢˜ç°è±¡</strong>:
Appå¯åŠ¨æ—¶,ç™½å±/é»‘å±æŒç»­2ç§’ã€‚</p>
<p><strong>æ­¥éª¤1: Systraceåˆ†æå†·å¯åŠ¨</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨Appå‰å…ˆå¼€å§‹æŠ“trace</span>
python systrace.py gfx view am sm -b 32768 -t 10 -o cold_start.html &amp;
adb shell am start -W com.example.app/.MainActivity
</code></pre>
<p><strong>åˆ†æç»“æœ</strong>:</p>
<pre><code class="hljs language-ini" lang="ini">ActivityManager:
  startActivity                         <span class="hljs-section">[50ms]</span>

App Process (com.example.app):
  bindApplication                       <span class="hljs-section">[1200ms]</span>  âŒ å¯åŠ¨æ…¢
    â”œâ”€ Application.onCreate             <span class="hljs-section">[800ms]</span>   âŒ è¶…æ—¶
    â”‚   â””â”€ åˆå§‹åŒ–ç¬¬ä¸‰æ–¹SDK               <span class="hljs-section">[750ms]</span>   âŒ æ ¹æœ¬åŸå› 
    â””â”€ Activity.onCreate                <span class="hljs-section">[350ms]</span>
        â””â”€ setContentView                <span class="hljs-section">[300ms]</span>

  performTraversals (ç¬¬ä¸€æ¬¡ç»˜åˆ¶)       <span class="hljs-section">[150ms]</span>

SurfaceFlinger:
  createSurface                         <span class="hljs-section">[20ms]</span>

Total cold start time: 1.7s  âŒ
</code></pre>
<p><strong>æ ¹æœ¬åŸå› </strong>:
Application.onCreateä¸­åŒæ­¥åˆå§‹åŒ–äº†å¤šä¸ªç¬¬ä¸‰æ–¹SDK(å¹¿å‘Š/ç»Ÿè®¡/æ¨é€),é˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>:</p>
<ol>
<li>å»¶è¿Ÿåˆå§‹åŒ–éå…³é”®SDK:</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Application</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onCreate();

        <span class="hljs-comment">// å…³é”®SDK: ç«‹å³åˆå§‹åŒ–</span>
        CrashReport.initCrashReport(<span class="hljs-built_in">this</span>);

        <span class="hljs-comment">// éå…³é”®SDK: å»¶è¿Ÿåˆ°é¦–å±ç»˜åˆ¶å®Œæˆå</span>
        Choreographer.getInstance().postFrameCallback(frameTimeNanos -&gt; {
            initNonCriticalSDKs();
        });
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initNonCriticalSDKs</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// åå°çº¿ç¨‹åˆå§‹åŒ–</span>
        Executors.newSingleThreadExecutor().execute(() -&gt; {
            initAdSDK();
            initAnalyticsSDK();
            initPushSDK();
        });
    }
}
</code></pre>
<ol start="2">
<li>ä½¿ç”¨å¯åŠ¨çª—å£(Splash Screen)æ”¹å–„æ„ŸçŸ¥:</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- themes.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"AppTheme.Launcher"</span>&gt;</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowBackground"</span>&gt;</span>@drawable/launch_screen<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-comment">&lt;!-- AndroidManifest.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MainActivity"</span>
    <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@style/AppTheme.Launcher"</span>&gt;</span>
</code></pre>
<p><strong>ä¼˜åŒ–æ•ˆæœ</strong>:</p>
<ul>
<li>Application.onCreate: 800ms â†’ 80ms</li>
<li>æ€»å†·å¯åŠ¨æ—¶é—´: 1.7s â†’ 0.4s</li>
<li>ç”¨æˆ·æ„ŸçŸ¥: é»‘å±2ç§’ â†’ ç«‹å³æ˜¾ç¤ºå“ç‰Œé¡µ</li>
</ul>
<h2 data-id="heading-34">äº”ã€æ˜¾ç¤ºå­ç³»ç»Ÿè°ƒä¼˜æœ€ä½³å®è·µ</h2>
<p>åŸºäºå‰é¢çš„åˆ†æ,æ€»ç»“ä»¥ä¸‹æœ€ä½³å®è·µ:</p>
<h3 data-id="heading-35">5.1 å‡å°‘è¿‡åº¦ç»˜åˆ¶</h3>
<p><strong>ç›®æ ‡</strong>: Overdraw &lt; 2x</p>
<p><strong>æ–¹æ³•</strong>:</p>
<ol>
<li>ç§»é™¤ä¸å¿…è¦çš„èƒŒæ™¯</li>
<li>ä½¿ç”¨<code>&lt;merge&gt;</code>æ ‡ç­¾å‡å°‘å¸ƒå±€å±‚çº§</li>
<li>ä½¿ç”¨clipRectç²¾ç¡®æ§åˆ¶ç»˜åˆ¶åŒºåŸŸ</li>
<li>é¿å…é€æ˜å›¾å±‚å åŠ </li>
</ol>
<p><strong>æ£€æŸ¥å·¥å…·</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">adb shell setprop debug.hwui.overdraw show
</code></pre>
<h3 data-id="heading-36">5.2 ä¼˜åŒ–Layeræ•°é‡</h3>
<p><strong>ç›®æ ‡</strong>: å±å¹•Layeræ•°é‡&lt; 20ä¸ª</p>
<p><strong>æ–¹æ³•</strong>:</p>
<ol>
<li>åˆå¹¶å¤šä¸ªå°Viewä¸ºä¸€ä¸ªè‡ªå®šä¹‰View</li>
<li>ä½¿ç”¨TextureView/SurfaceViewæ›¿ä»£å¤šä¸ªæ™®é€šView(è§†é¢‘/æ¸¸æˆåœºæ™¯)</li>
<li>é¿å…ä¸å¿…è¦çš„Viewå±‚çº§</li>
</ol>
<p><strong>æ£€æŸ¥å·¥å…·</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">adb shell dumpsys SurfaceFlinger --list | <span class="hljs-built_in">wc</span> -l
</code></pre>
<h3 data-id="heading-37">5.3 åˆç†ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ</h3>
<p><strong>æ–¹æ³•</strong>:</p>
<ol>
<li>é»˜è®¤å¼€å¯ç¡¬ä»¶åŠ é€Ÿ(Android 15é»˜è®¤è¡Œä¸º)</li>
<li>å¯¹äºä¸æ”¯æŒç¡¬ä»¶åŠ é€Ÿçš„ç»˜åˆ¶æ“ä½œ(å¦‚æ–‡å­—è·¯å¾„),ä½¿ç”¨è½¯ä»¶å±‚:</li>
</ol>
<pre><code class="hljs language-java" lang="java">view.setLayerType(View.LAYER_TYPE_SOFTWARE, <span class="hljs-literal">null</span>);
</code></pre>
<ol start="3">
<li>å¯¹äºé™æ€å¤æ‚View,ä½¿ç”¨ç¡¬ä»¶å±‚ç¼“å­˜:</li>
</ol>
<pre><code class="hljs language-java" lang="java">view.setLayerType(View.LAYER_TYPE_HARDWARE, <span class="hljs-literal">null</span>);
<span class="hljs-comment">// æ›´æ–°åæ¸…é™¤ç¼“å­˜</span>
view.setLayerType(View.LAYER_TYPE_NONE, <span class="hljs-literal">null</span>);
</code></pre>
<h3 data-id="heading-38">5.4 é¿å…UIçº¿ç¨‹è€—æ—¶æ“ä½œ</h3>
<p><strong>æ–¹æ³•</strong>:</p>
<ol>
<li>ç½‘ç»œ/IOæ“ä½œå¿…é¡»åœ¨åå°çº¿ç¨‹</li>
<li>å¤æ‚è®¡ç®—ä½¿ç”¨AsyncTask/Kotlin Coroutines</li>
<li>RecyclerViewé¢„åŠ è½½å’Œç¼“å­˜</li>
<li>å›¾ç‰‡åŠ è½½ä½¿ç”¨Glide/Coilç­‰åº“(è‡ªåŠ¨ç®¡ç†çº¿ç¨‹)</li>
</ol>
<h3 data-id="heading-39">5.5 Android 15æ–°ç‰¹æ€§çš„åº”ç”¨å»ºè®®</h3>
<p><strong>1. åˆ©ç”¨åŠ¨æ€åˆ·æ–°ç‡</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é’ˆå¯¹é™æ€å†…å®¹,è¯·æ±‚é™ä½åˆ·æ–°ç‡</span>
<span class="hljs-type">Surface</span> <span class="hljs-variable">surface</span> <span class="hljs-operator">=</span> getSurface();
surface.setFrameRate(<span class="hljs-number">30.0f</span>, Surface.FRAME_RATE_COMPATIBILITY_DEFAULT);

<span class="hljs-comment">// é’ˆå¯¹æ¸¸æˆ,è¯·æ±‚é«˜åˆ·æ–°ç‡</span>
surface.setFrameRate(<span class="hljs-number">120.0f</span>, Surface.FRAME_RATE_COMPATIBILITY_DEFAULT);
</code></pre>
<p><strong>2. ä½¿ç”¨æœ€æ–°çš„Graphics API</strong></p>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨Vulkanæ›¿ä»£OpenGL ES(æ¸¸æˆåœºæ™¯)</li>
<li>ä½¿ç”¨RenderEffect APIå®ç°é«˜æ€§èƒ½æ¨¡ç³Šæ•ˆæœ</li>
<li>ä½¿ç”¨PixelCopy APIé«˜æ•ˆæˆªå›¾</li>
</ul>
<p><strong>3. å¯ç”¨Canvasç°ä»£åŒ–</strong></p>
<p>Android 15çš„Canvas APIç»è¿‡é‡å†™,æ€§èƒ½æå‡30%+:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªåŠ¨å¯ç”¨(Android 15é»˜è®¤)</span>
<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å¯ç”¨</span>
<span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= <span class="hljs-number">35</span>) {
    Log.i(TAG, <span class="hljs-string">"Using modernized Canvas implementation"</span>);
}
</code></pre>
<h2 data-id="heading-40">æ€»ç»“</h2>
<p>æœ¬æ–‡æ·±å…¥åˆ†æäº†Android 15æ˜¾ç¤ºç³»ç»Ÿçš„VsyncåŒæ­¥æœºåˆ¶å’Œæ€§èƒ½ä¼˜åŒ–:</p>
<ol>
<li><strong>Vsyncæ˜¯æ˜¾ç¤ºç³»ç»Ÿçš„å¿ƒè·³</strong>,åè°ƒåº”ç”¨ç»˜åˆ¶ã€ç³»ç»Ÿåˆæˆã€å±å¹•æ˜¾ç¤ºä¸‰ä¸ªç¯èŠ‚</li>
<li><strong>ç¡¬ä»¶Vsyncå’Œè½¯ä»¶Vsyncç»“åˆ</strong>,åœ¨å‡†ç¡®æ€§å’Œæ€§èƒ½ä¹‹é—´å–å¾—å¹³è¡¡</li>
<li><strong>Phase Offsetæœºåˆ¶</strong>è®©åº”ç”¨æå‰æ”¶åˆ°Vsync,æœ‰æ›´å¤šæ—¶é—´ç»˜åˆ¶</li>
<li><strong>Choreographeræ˜¯åº”ç”¨ä¾§ä¸Vsyncçš„æ¡¥æ¢</strong>,åè°ƒè¾“å…¥ã€åŠ¨ç”»ã€ç»˜åˆ¶çš„æ‰§è¡Œæ—¶æœº</li>
<li><strong>ä¸‰é‡ç¼“å†²é€šè¿‡å¢åŠ ä¸€ä¸ªBuffer</strong>,å½»åº•è§£å†³åŒç¼“å†²çš„ç­‰å¾…é—®é¢˜,ä»£ä»·æ˜¯å†…å­˜å¢åŠ 33%</li>
<li><strong>Systrace/Perfettoæ˜¯æ€§èƒ½åˆ†æçš„æœ€å¼ºå·¥å…·</strong>,å¯ä»¥å®Œæ•´å±•ç¤ºæ¸²æŸ“ç®¡çº¿çš„æ¯ä¸ªç¯èŠ‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–çš„å…³é”®æ˜¯å®šä½ç“¶é¢ˆ</strong>:UI Thread/RenderThread/SurfaceFlinger,å¯¹ç—‡ä¸‹è¯</li>
</ol>
<p>æŒæ¡è¿™äº›åŸç†å’Œå·¥å…·,å°±èƒ½å¤Ÿ:</p>
<ul>
<li>è¯Šæ–­å’Œè§£å†³å„ç±»æ˜¾ç¤ºæ€§èƒ½é—®é¢˜</li>
<li>æ„å»ºæµç•…çš„ç”¨æˆ·ä½“éªŒ(ç¨³å®š60fps+)</li>
<li>åœ¨æ€§èƒ½å’ŒåŠŸè€—ä¹‹é—´å–å¾—æœ€ä¼˜å¹³è¡¡</li>
<li>ä¸ºåç»­çš„æ·±åº¦ä¼˜åŒ–å’Œé—®é¢˜æ’æŸ¥æ‰“ä¸‹åšå®åŸºç¡€</li>
</ul>
<h2 data-id="heading-41">å‚è€ƒèµ„æº</h2>
<h3 data-id="heading-42">æºç è·¯å¾„(AOSP 15)</h3>
<pre><code class="hljs language-bash" lang="bash">frameworks/native/services/surfaceflinger/Scheduler/  <span class="hljs-comment"># Vsyncè°ƒåº¦</span>
frameworks/base/core/java/android/view/Choreographer.java  <span class="hljs-comment"># Choreographer</span>
frameworks/native/libs/gui/BufferQueue*.cpp  <span class="hljs-comment"># BufferQueue</span>
</code></pre>
<h3 data-id="heading-43">å®˜æ–¹æ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdocs%2Fcore%2Fgraphics%2Farchitecture" target="_blank" title="https://source.android.com/docs/core/graphics/architecture" ref="nofollow noopener noreferrer">Graphics Architecture</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Fperformance%2Fvitals%2Frender" target="_blank" title="https://developer.android.com/topic/performance/vitals/render" ref="nofollow noopener noreferrer">Slow rendering</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Fperformance%2Frendering%2Finspect-gpu-rendering" target="_blank" title="https://developer.android.com/topic/performance/rendering/inspect-gpu-rendering" ref="nofollow noopener noreferrer">Profile GPU rendering</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Fperformance%2Ftracing" target="_blank" title="https://developer.android.com/topic/performance/tracing" ref="nofollow noopener noreferrer">Systrace</a></li>
</ul>
<h3 data-id="heading-44">æ¨èé˜…è¯»</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fplaylist%3Flist%3DPLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE" target="_blank" title="https://www.youtube.com/playlist?list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE" ref="nofollow noopener noreferrer">Android Performance Patterns</a></li>
</ul>
<h3 data-id="heading-45">è°ƒè¯•å‘½ä»¤é€ŸæŸ¥</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># GPUå‘ˆç°æ¨¡å¼</span>
adb shell setprop debug.hwui.profile <span class="hljs-literal">true</span>

<span class="hljs-comment"># Overdrawæ£€æµ‹</span>
adb shell setprop debug.hwui.overdraw show

<span class="hljs-comment"># SystraceæŠ“å–</span>
python systrace.py gfx view <span class="hljs-built_in">sched</span> freq -b 32768 -t 5 -o trace.html

<span class="hljs-comment"># æŸ¥çœ‹å¸§ç‡ç»Ÿè®¡</span>
adb shell dumpsys gfxinfo &lt;package&gt;

<span class="hljs-comment"># æŸ¥çœ‹SurfaceFlingerçŠ¶æ€</span>
adb shell dumpsys SurfaceFlinger

<span class="hljs-comment"># æŸ¥çœ‹Vsyncä¿¡æ¯</span>
adb shell dumpsys SurfaceFlinger --vsync-info

<span class="hljs-comment"># å¼ºåˆ¶GPUåˆæˆ</span>
adb shell setprop debug.sf.disable_hwc 1

<span class="hljs-comment"># æ˜¾ç¤ºVsyncä¿¡æ¯</span>
adb shell setprop debug.sf.show_cpu 1
</code></pre>
<hr/>
<h3 data-id="heading-46">ç³»åˆ—æ–‡ç« </h3>
<ul>
<li><a href="https://juejin.cn/post/7596187471773499401" target="_blank" title="https://juejin.cn/post/7596187471773499401">ä¸Šä¸€ç¯‡ï¼šAndroid 15 æ˜¾ç¤ºå­ç³»ç»Ÿæ·±åº¦è§£æ(äºŒ)ï¼šå›¾å½¢ç¼“å†²åŒºç®¡ç†ä¸HWCç¡¬ä»¶åˆæˆ</a></li>
</ul>
<hr/>
<p><em>æ¬¢è¿æ¥æˆ‘ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†å’Œæœ‰è¶£çš„äº§å“</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰‘æŒ‡offer-65ã€çŸ©é˜µä¸­çš„è·¯å¾„]]></title>    <link>https://juejin.cn/post/7596906473306865714</link>    <guid>https://juejin.cn/post/7596906473306865714</guid>    <pubDate>2026-01-20T00:16:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596906473306865714" data-draft-id="7595873251165274153" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" å‰‘æŒ‡offer-65ã€çŸ©é˜µä¸­çš„è·¯å¾„"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-20T00:16:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SevenCoding"/> <meta itemprop="url" content="https://juejin.cn/user/3261615728242467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             å‰‘æŒ‡offer-65ã€çŸ©é˜µä¸­çš„è·¯å¾„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3261615728242467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SevenCoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T00:16:37.000Z" title="Tue Jan 20 2026 00:16:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¢˜ç›®æè¿°</h2>
<p>è¯·è®¾è®¡â¼€ä¸ªå‡½æ•°ï¼Œâ½¤æ¥åˆ¤æ–­åœ¨â¼€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨â¼€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚è·¯å¾„å¯ä»¥ä»çŸ©é˜µä¸­çš„ä»»æ„â¼€ä¸ªæ ¼â¼¦å¼€å§‹ï¼Œæ¯â¼€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ï¼Œå‘å³ï¼Œå‘ä¸Šï¼Œå‘ä¸‹ç§»åŠ¨â¼€ä¸ªæ ¼â¼¦ã€‚å¦‚æœâ¼€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µä¸­çš„æŸâ¼€ä¸ªæ ¼â¼¦ï¼Œåˆ™è¯¥è·¯å¾„ä¸èƒ½å†è¿›â¼Šè¯¥æ ¼â¼¦ã€‚ ä¾‹å¦‚çŸ©é˜µï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cad8021c9eb4b839b1074b0d1395249~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769472997&amp;x-signature=jnxT2roLKGns4rcGon1m7fpuFWA%3D" alt="" loading="lazy"/></p>
<p>ä¸­åŒ…å«â¼€æ¡å­—ç¬¦ä¸² " bcced " çš„è·¯å¾„ï¼Œä½†æ˜¯çŸ©é˜µä¸­ä¸åŒ…å« " abcb " è·¯å¾„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„ç¬¬â¼€ä¸ªå­—ç¬¦ bå æ®äº†çŸ©é˜µä¸­çš„ç¬¬â¼€â¾ç¬¬â¼†ä¸ªæ ¼â¼¦ä¹‹åï¼Œè·¯å¾„ä¸èƒ½å†æ¬¡è¿›â¼Šè¯¥æ ¼â¼¦ã€‚</p>
<p>ç¤ºä¾‹1</p>
<p>è¾“â¼Šï¼š<code>[[a,b,c,e],[s,f,c,s],[a,d,e,e]],"abcced"</code>
è¿”å›å€¼ï¼š<code>true</code></p>
<h2 data-id="heading-1">æ€è·¯åŠè§£ç­”</h2>
<h3 data-id="heading-2">DFSå›æº¯</h3>
<p>ä¸»è¦çš„æ€è·¯æ˜¯å¯¹äºæ¯â¼€ä¸ªå­—ç¬¦ä¸ºèµ·ç‚¹ï¼Œé€’å½’å‘å››å‘¨æ‹“å±•ï¼Œç„¶åé‡åˆ°ä¸åŒ¹é…è¿”å› false ï¼ŒåŒ¹é…åˆ™æ¥ç€åŒ¹é…ç›´åˆ°å®Œæˆï¼Œâ¾¥â¾¯åŒ…å«äº† å›æº¯ çš„æ€æƒ³ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>é’ˆå¯¹æ¯â¼€ä¸ªå­—ç¬¦ä¸ºèµ·ç‚¹ï¼Œåˆå§‹åŒ–â¼€ä¸ªå’ŒçŸ©é˜µâ¼€æ ·â¼¤â¼©çš„æ ‡è¯†æ•°ç»„ï¼Œæ ‡è¯†è¯¥ä½ç½®æ˜¯å¦è¢«è®¿é—®è¿‡ï¼Œâ¼€å¼€å§‹é»˜è®¤æ˜¯false ã€‚</p>
<ol>
<li>å¦‚æœå½“å‰çš„å­—ç¬¦ç´¢å¼•å·²ç»è¶…è¿‡äº†å­—ç¬¦ä¸²â»“åº¦ï¼Œè¯´æ˜å‰â¾¯å·²ç»å®Œå…¨åŒ¹é…æˆåŠŸï¼Œç›´æ¥è¿”å› true</li>
<li>å¦‚æœâ¾ç´¢å¼•å’Œåˆ—ç´¢å¼•ï¼Œä¸åœ¨æœ‰æ•ˆçš„èŒƒå›´å†…ï¼Œæˆ–è€…æ”¹ä½ç½®å·²ç»æ ‡è¯†è¢«è®¿é—®ï¼Œç›´æ¥è¿”å› false</li>
<li>å¦åˆ™å°†å½“å‰æ ‡è¯†ç½®ä¸ºå·²ç»è®¿é—®è¿‡</li>
<li>å¦‚æœçŸ©é˜µå½“å‰ä½ç½®çš„å­—ç¬¦å’Œå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œé‚£ä¹ˆå°±å­—ç¬¦ä¸²çš„ç´¢å¼•åŠ â¼€ï¼Œé€’å½’åˆ¤æ–­å‘¨è¾¹çš„å››ä¸ªï¼Œåªè¦â¼€ä¸ªçš„ç»“æœä¸º true ï¼Œå°±è¿”å› true ï¼Œå¦åˆ™å°†è¯¥ä½ç½®ç½®ä¸ºæ²¡æœ‰è®¿é—®è¿‡ï¼ˆç›¸å½“äºå›æº¯ï¼Œé€€å›ä¸Šâ¼€æ­¥ï¼‰ï¼Œè¿”å› false ã€‚çŸ©é˜µå½“å‰ä½ç½®çš„å­—ç¬¦å’Œå­—ç¬¦ä¸²ä¸ç›¸ç­‰ï¼Œå¦åˆ™åŒæ ·ä¹Ÿæ˜¯å°†è¯¥ä½ç½®ç½®ä¸ºæ²¡æœ‰è®¿é—®è¿‡ï¼ˆç›¸å½“äºå›æº¯ï¼Œé€€å›ä¸Šâ¼€æ­¥ï¼‰ï¼Œè¿”å› false ã€‚</li>
</ol>
<p>â½å¦‚æŸ¥æ‰¾ bcced :</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc55e3729dee4b55b52e73401da65eec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2V2ZW5Db2Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769472997&amp;x-signature=FfKIpLj2oiPcBqWuPONgEDh6u9g%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasPath</span><span class="hljs-params">(<span class="hljs-type">char</span>[][] matrix, String word)</span> {
        <span class="hljs-comment">// write code here</span>
        <span class="hljs-keyword">if</span> (matrix == <span class="hljs-literal">null</span> || word == <span class="hljs-literal">null</span> || word.length() == <span class="hljs-number">0</span>) {
        	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; matrix.length; i++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; matrix[<span class="hljs-number">0</span>].length; j++) {
                <span class="hljs-type">boolean</span>[][] flags = <span class="hljs-keyword">new</span> <span class="hljs-title class_">boolean</span>[matrix.length][matrix[<span class="hljs-number">0</span>].length];
                
                <span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> judge(i, j, matrix, flags, word, <span class="hljs-number">0</span>);
                <span class="hljs-keyword">if</span> (result) {
                	<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
   }
    
   <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">int</span> i, <span class="hljs-type">int</span> j, <span class="hljs-type">char</span>[][] matrix, <span class="hljs-type">boolean</span>[][] flags, String words, <span class="hljs-type">int</span> index)</span> {
        <span class="hljs-keyword">if</span> (index &gt;= words.length()) {
        	<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
       
        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || j &lt; <span class="hljs-number">0</span> || i &gt;= matrix.length || j &gt;= matrix[<span class="hljs-number">0</span>].length || flags[i][j]) {
        	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        flags[i][j] = <span class="hljs-literal">true</span>;
        
        <span class="hljs-keyword">if</span> (matrix[i][j] == words.charAt(index)) {
            <span class="hljs-keyword">if</span> (judge(i - <span class="hljs-number">1</span>, j, matrix, flags, words, index + <span class="hljs-number">1</span>)
            || judge(i + <span class="hljs-number">1</span>, j, matrix, flags, words, index + <span class="hljs-number">1</span>)
            || judge(i, j + <span class="hljs-number">1</span>, matrix, flags, words, index + <span class="hljs-number">1</span>)
            || judge(i, j - <span class="hljs-number">1</span>, matrix, flags, words, index + <span class="hljs-number">1</span>)) {
            	<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                flags[i][j] = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        	}
        } <span class="hljs-keyword">else</span> {
            flags[i][j] = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(3^k Ã— m Ã— n)ï¼Œå…¶ä¸­kä¸ºå•è¯é•¿åº¦ï¼Œmã€nä¸ºçŸ©é˜µå°ºå¯¸ã€‚æ¯ä¸ªç‚¹æœ‰3ä¸ªæ–¹å‘å¯é€‰ï¼ˆä¸èƒ½å›é€€ï¼‰</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(k)ï¼Œé€’å½’æ ˆæ·±åº¦å’Œvisitedæ•°ç»„ç©ºé—´</li>
</ul>
<h3 data-id="heading-3">æ–¹å‘æ•°ç»„ä¼˜åŒ–</h3>
<p>ä½¿ç”¨é¢å¤–çš„è®¿é—®æ ‡è®°æ•°ç»„æ¥è®°å½•è·¯å¾„çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">exist</span><span class="hljs-params">(<span class="hljs-type">char</span>[][] board, String word)</span> {
        <span class="hljs-keyword">if</span> (board == <span class="hljs-literal">null</span> || board.length == <span class="hljs-number">0</span> || board[<span class="hljs-number">0</span>].length == <span class="hljs-number">0</span> || word == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> board.length, n = board[<span class="hljs-number">0</span>].length;
        <span class="hljs-type">boolean</span>[][] visited = <span class="hljs-keyword">new</span> <span class="hljs-title class_">boolean</span>[m][n];
        <span class="hljs-type">char</span>[] words = word.toCharArray();
        
        <span class="hljs-comment">// éå†çŸ©é˜µä¸­çš„æ¯ä¸ªå•å…ƒæ ¼ä½œä¸ºèµ·å§‹ç‚¹</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; m; i++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; n; j++) {
                <span class="hljs-keyword">if</span> (dfs(board, visited, words, i, j, <span class="hljs-number">0</span>)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(<span class="hljs-type">char</span>[][] board, <span class="hljs-type">boolean</span>[][] visited, <span class="hljs-type">char</span>[] word, <span class="hljs-type">int</span> i, <span class="hljs-type">int</span> j, <span class="hljs-type">int</span> index)</span> {
        <span class="hljs-comment">// ç»ˆæ­¢æ¡ä»¶1ï¼šæ‰¾åˆ°å®Œæ•´è·¯å¾„</span>
        <span class="hljs-keyword">if</span> (index == word.length) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-comment">// ç»ˆæ­¢æ¡ä»¶2ï¼šè¶Šç•Œæˆ–å·²è®¿é—®æˆ–å­—ç¬¦ä¸åŒ¹é…</span>
        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt;= board.length || j &lt; <span class="hljs-number">0</span> || j &gt;= board[<span class="hljs-number">0</span>].length || 
            visited[i][j] || board[i][j] != word[index]) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        <span class="hljs-comment">// æ ‡è®°å½“å‰å•å…ƒæ ¼ä¸ºå·²è®¿é—®</span>
        visited[i][j] = <span class="hljs-literal">true</span>;
        
        <span class="hljs-comment">// å‘å››ä¸ªæ–¹å‘è¿›è¡ŒDFSæœç´¢</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> dfs(board, visited, word, i + <span class="hljs-number">1</span>, j, index + <span class="hljs-number">1</span>) ||  <span class="hljs-comment">// å‘ä¸‹</span>
                       dfs(board, visited, word, i - <span class="hljs-number">1</span>, j, index + <span class="hljs-number">1</span>) ||  <span class="hljs-comment">// å‘ä¸Š</span>
                       dfs(board, visited, word, i, j + <span class="hljs-number">1</span>, index + <span class="hljs-number">1</span>) ||  <span class="hljs-comment">// å‘å³</span>
                       dfs(board, visited, word, i, j - <span class="hljs-number">1</span>, index + <span class="hljs-number">1</span>);    <span class="hljs-comment">// å‘å·¦</span>
        
        <span class="hljs-comment">// å›æº¯ï¼šæ¢å¤è®¿é—®çŠ¶æ€</span>
        visited[i][j] = <span class="hljs-literal">false</span>;
        
        <span class="hljs-keyword">return</span> found;
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(3^k Ã— m Ã— n)ï¼Œå…¶ä¸­kä¸ºå•è¯é•¿åº¦ï¼Œmã€nä¸ºçŸ©é˜µå°ºå¯¸ã€‚æ¯ä¸ªç‚¹æœ‰3ä¸ªæ–¹å‘å¯é€‰ï¼ˆä¸èƒ½å›é€€ï¼‰</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(k)ï¼Œé€’å½’æ ˆæ·±åº¦å’Œvisitedæ•°ç»„ç©ºé—´</li>
</ul>
<p>æ—¶é—´ç©ºé—´å¤æ‚åº¦ä¸æ–¹æ³•ä¸€ç›¸åŒï¼Œä½†ä»£ç æ›´æ˜“æ‰©å±•ï¼ˆå¦‚éœ€è¦å…«æ–¹å‘ç§»åŠ¨æ—¶åªéœ€ä¿®æ”¹DIRECTIONSæ•°ç»„ï¼‰</p>
<h3 data-id="heading-4">åŸåœ°æ ‡è®°ä¼˜åŒ–ï¼ˆæœ€ä¼˜ï¼‰</h3>
<p>é€šè¿‡ä¿®æ”¹åŸçŸ©é˜µæ¥æ ‡è®°è®¿é—®çŠ¶æ€ï¼ŒèŠ‚çœç©ºé—´ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">exist</span><span class="hljs-params">(<span class="hljs-type">char</span>[][] board, String word)</span> {
        <span class="hljs-keyword">if</span> (board == <span class="hljs-literal">null</span> || board.length == <span class="hljs-number">0</span> || word == <span class="hljs-literal">null</span> || word.length() == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        <span class="hljs-type">char</span>[] words = word.toCharArray();
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; board.length; i++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; board[<span class="hljs-number">0</span>].length; j++) {
                <span class="hljs-keyword">if</span> (dfsOptimized(board, words, i, j, <span class="hljs-number">0</span>)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dfsOptimized</span><span class="hljs-params">(<span class="hljs-type">char</span>[][] board, <span class="hljs-type">char</span>[] word, <span class="hljs-type">int</span> i, <span class="hljs-type">int</span> j, <span class="hljs-type">int</span> index)</span> {
        <span class="hljs-comment">// è¾¹ç•Œæ£€æŸ¥å’Œå­—ç¬¦åŒ¹é…æ£€æŸ¥</span>
        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt;= board.length || j &lt; <span class="hljs-number">0</span> || j &gt;= board[<span class="hljs-number">0</span>].length || 
            board[i][j] != word[index]) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        <span class="hljs-comment">// æ‰¾åˆ°å®Œæ•´è·¯å¾„</span>
        <span class="hljs-keyword">if</span> (index == word.length - <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-comment">// åŸåœ°æ ‡è®°ï¼šå°†å½“å‰å­—ç¬¦ä¸´æ—¶æ›¿æ¢ä¸ºç‰¹æ®Šæ ‡è®°ï¼ˆä¸èƒ½å‡ºç°çš„å­—ç¬¦ï¼‰</span>
        <span class="hljs-type">char</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> board[i][j];
        board[i][j] = <span class="hljs-string">'#'</span>;  <span class="hljs-comment">// æ ‡è®°ä¸ºå·²è®¿é—®</span>
        
        <span class="hljs-comment">// å››ä¸ªæ–¹å‘æœç´¢</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> dfsOptimized(board, word, i + <span class="hljs-number">1</span>, j, index + <span class="hljs-number">1</span>) ||
                     dfsOptimized(board, word, i - <span class="hljs-number">1</span>, j, index + <span class="hljs-number">1</span>) ||
                     dfsOptimized(board, word, i, j + <span class="hljs-number">1</span>, index + <span class="hljs-number">1</span>) ||
                     dfsOptimized(board, word, i, j - <span class="hljs-number">1</span>, index + <span class="hljs-number">1</span>);
        
        <span class="hljs-comment">// å›æº¯ï¼šæ¢å¤åŸå§‹å­—ç¬¦</span>
        board[i][j] = temp;
        
        <span class="hljs-keyword">return</span> res;
    }
}
</code></pre>
<p><strong>å…³é”®æŠ€å·§ï¼š</strong></p>
<ol>
<li><strong>ä¸´æ—¶ä¿®æ”¹</strong>ï¼šå°†è®¿é—®è¿‡çš„<code>board[i][j]</code>æ”¹ä¸º<code>'#'</code>ï¼ˆæˆ–å…¶ä»–ä¸åœ¨å­—æ¯è¡¨ä¸­çš„å­—ç¬¦ï¼‰</li>
<li><strong>è‡ªåŠ¨é¿éšœ</strong>ï¼šåç»­æœç´¢é‡åˆ°<code>'#'</code>ä¼šå› å­—ç¬¦ä¸åŒ¹é…è€Œè‡ªåŠ¨è·³è¿‡</li>
<li><strong>çŠ¶æ€æ¢å¤</strong>ï¼šå›æº¯æ—¶æ¢å¤åŸå§‹å­—ç¬¦ï¼Œç¡®ä¿ä¸å½±å“å…¶ä»–è·¯å¾„æœç´¢</li>
</ol>
<p><strong>ç®—æ³•åˆ†æï¼š</strong></p>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(3^k Ã— m Ã— n)ï¼Œä¸å‰è¿°æ–¹æ³•ç›¸åŒ</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼Œ<strong>æ˜¾è‘—ä¼˜åŒ–</strong>ï¼ä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´ï¼ˆé€’å½’æ ˆç©ºé—´ä¸å¯é¿å…ï¼‰</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaæ€§èƒ½æå‡50%çš„5ä¸ªéšè—æŠ€å·§ï¼Œ90%å¼€å‘è€…éƒ½ä¸çŸ¥é“ï¼]]></title>    <link>https://juejin.cn/post/7596962344044544040</link>    <guid>https://juejin.cn/post/7596962344044544040</guid>    <pubDate>2026-01-20T00:18:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596962344044544040" data-draft-id="7596943803933671464" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaæ€§èƒ½æå‡50%çš„5ä¸ªéšè—æŠ€å·§ï¼Œ90%å¼€å‘è€…éƒ½ä¸çŸ¥é“ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-20T00:18:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaæ€§èƒ½æå‡50%çš„5ä¸ªéšè—æŠ€å·§ï¼Œ90%å¼€å‘è€…éƒ½ä¸çŸ¥é“ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T00:18:37.000Z" title="Tue Jan 20 2026 00:18:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Javaæ€§èƒ½æå‡50%çš„5ä¸ªéšè—æŠ€å·§ï¼Œ90%å¼€å‘è€…éƒ½ä¸çŸ¥é“ï¼</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>Javaä½œä¸ºä¸€é—¨æˆç†Ÿä¸”å¹¿æ³›ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œå…¶æ€§èƒ½ä¼˜åŒ–ä¸€ç›´æ˜¯å¼€å‘è€…å…³æ³¨çš„ç„¦ç‚¹ã€‚è™½ç„¶JVMçš„å³æ—¶ç¼–è¯‘å™¨ï¼ˆJITï¼‰å’Œåƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰å·²ç»åšäº†å¤§é‡ä¼˜åŒ–å·¥ä½œï¼Œä½†ä»æœ‰ä¸å°‘éšè—çš„æŠ€å·§å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥æå‡æ€§èƒ½ã€‚æœ¬æ–‡å°†æ­ç¤º5ä¸ªé²œä¸ºäººçŸ¥ä½†æ•ˆæœæ˜¾è‘—çš„Javaæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œè¿™äº›æŠ€å·§åœ¨å®é™…å¼€å‘ä¸­å¾€å¾€è¢«å¿½è§†ï¼Œå´èƒ½å¸¦æ¥é«˜è¾¾50%çš„æ€§èƒ½æå‡ï¼</p>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. ä½¿ç”¨<code>Arrays.fill()</code>æ›¿ä»£å¾ªç¯åˆå§‹åŒ–æ•°ç»„</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼š<br/>
åœ¨åˆå§‹åŒ–æ•°ç»„æ—¶ï¼Œè®¸å¤šå¼€å‘è€…ä¹ æƒ¯ä½¿ç”¨<code>for</code>å¾ªç¯é€ä¸ªèµ‹å€¼ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦å¡«å……é»˜è®¤å€¼ï¼ˆå¦‚0æˆ–nullï¼‰çš„æƒ…å†µä¸‹ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span>[] array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">1000</span>];
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; array.length; i++) {
    array[i] = <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š<br/>
Javaæä¾›äº†<code>Arrays.fill()</code>æ–¹æ³•ï¼Œå…¶åº•å±‚é€šè¿‡åŸç”Ÿæ–¹æ³•å®ç°ï¼Œæ¯”æ‰‹åŠ¨å¾ªç¯æ•ˆç‡æ›´é«˜ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span>[] array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">1000</span>];
Arrays.fill(array, <span class="hljs-number">0</span>);
</code></pre>
<p><strong>åŸç†åˆ†æ</strong>ï¼š</p>
<ul>
<li><code>Arrays.fill()</code>æ˜¯JVMå†…éƒ¨ä¼˜åŒ–çš„æ–¹æ³•ï¼Œä½¿ç”¨äº†<code>System.arraycopy</code>æˆ–å…¶ä»–åº•å±‚æ“ä½œã€‚</li>
<li>å®æµ‹è¡¨æ˜ï¼Œå¯¹äºå¤§å‹æ•°ç»„ï¼ˆå¦‚10ä¸‡å…ƒç´ ä»¥ä¸Šï¼‰ï¼Œæ€§èƒ½å¯æå‡30%-50%ã€‚</li>
</ul>
<h3 data-id="heading-4">2. é¿å…åœ¨çƒ­ç‚¹ä»£ç ä¸­ä½¿ç”¨åå°„</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼š<br/>
åå°„æ˜¯Javaçš„å¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œä½†å…¶æ€§èƒ½å¼€é”€æé«˜ã€‚åœ¨æŸäº›é«˜é¢‘è°ƒç”¨çš„ä»£ç è·¯å¾„ï¼ˆå¦‚åºåˆ—åŒ–ã€æ¡†æ¶åŠ¨æ€è°ƒç”¨ï¼‰ä¸­æ»¥ç”¨åå°„ä¼šå¯¼è‡´æ˜¾è‘—æ€§èƒ½ä¸‹é™ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li><strong>ç¼“å­˜åå°„ç»“æœ</strong>ï¼šå°†<code>Method</code>ã€<code>Field</code>ç­‰å¯¹è±¡ç¼“å­˜èµ·æ¥å¤ç”¨ã€‚</li>
<li><strong>æ›¿æ¢ä¸ºMethodHandleæˆ–LambdaMetafactory</strong>ï¼šJava 7+çš„<code>MethodHandle</code>å’ŒJava 8+çš„<code>LambdaMetafactory</code>æ€§èƒ½æ¥è¿‘ç›´æ¥è°ƒç”¨ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java">MethodHandles.<span class="hljs-type">Lookup</span> <span class="hljs-variable">lookup</span> <span class="hljs-operator">=</span> MethodHandles.lookup();
<span class="hljs-type">MethodHandle</span> <span class="hljs-variable">handle</span> <span class="hljs-operator">=</span> lookup.findVirtual(MyClass.class, <span class="hljs-string">"myMethod"</span>, MethodType.methodType(<span class="hljs-keyword">void</span>.class));
handle.invokeExact(myInstance);
</code></pre>
<p><strong>åŸç†åˆ†æ</strong>ï¼š</p>
<ul>
<li>åå°„è°ƒç”¨éœ€è¦æ£€æŸ¥è®¿é—®æƒé™ã€å‚æ•°ç±»å‹ç­‰ï¼Œè€Œ<code>MethodHandle</code>åœ¨JVMå±‚é¢åšäº†æ›´å¤šä¼˜åŒ–ã€‚</li>
<li>LambdaMetafactoryç”Ÿæˆçš„CallSiteå¯ä»¥å®Œå…¨é¿å¼€åå°„å¼€é”€ã€‚</li>
</ul>
<h3 data-id="heading-5">3. ä½¿ç”¨ä½è¿ç®—æ›¿ä»£ä¹˜é™¤æ³•</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼š<br/>
åœ¨å¯†é›†è®¡ç®—çš„åœºæ™¯ä¸­ï¼ˆå¦‚å›¾åƒå¤„ç†ã€ç§‘å­¦è®¡ç®—ï¼‰ï¼Œä¹˜é™¤æ³•çš„å¼€é”€ä¼šæˆä¸ºç“¶é¢ˆã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> b * <span class="hljs-number">2</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> d / <span class="hljs-number">4</span>;
</code></pre>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š<br/>
å¯¹äº2çš„å¹‚æ¬¡æ–¹çš„ä¹˜é™¤æ³•ï¼Œå¯ä»¥ç”¨ä½è¿ç®—æ›¿ä»£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> b &lt;&lt; <span class="hljs-number">1</span>; <span class="hljs-comment">// b * 2</span>
<span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> d &gt;&gt; <span class="hljs-number">2</span>; <span class="hljs-comment">// d / 4</span>
</code></pre>
<p><strong>åŸç†åˆ†æ</strong>ï¼š</p>
<ul>
<li>CPUæ‰§è¡Œä½è¿ç®—çš„é€Ÿåº¦è¿œå¿«äºä¹˜é™¤æ³•ï¼ˆé€šå¸¸åªéœ€1ä¸ªæ—¶é’Ÿå‘¨æœŸï¼‰ã€‚</li>
<li>JITç¼–è¯‘å™¨è™½ç„¶ä¼šè‡ªåŠ¨ä¼˜åŒ–éƒ¨åˆ†ç®€å•ä¹˜æ³•ä¸ºç§»ä½æ“ä½œï¼Œä½†å¹¶éæ‰€æœ‰æƒ…å†µéƒ½èƒ½è¦†ç›–ã€‚</li>
</ul>
<h3 data-id="heading-6">4. Stringæ‹¼æ¥ä¼˜å…ˆé€‰æ‹©StringBuilderè€Œé"+"</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼š<br/>
è®¸å¤šå¼€å‘è€…ä¹ æƒ¯ç”¨"+"æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œä½†åœ¨å¾ªç¯æˆ–é«˜é¢‘è°ƒç”¨ä¸­ä¼šäº§ç”Ÿå¤§é‡ä¸´æ—¶å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
    result += <span class="hljs-string">"value"</span>; <span class="hljs-comment">// O(nÂ²)å¤æ‚åº¦ï¼</span>
}
</code></pre>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š<br/>
æ˜¾å¼ä½¿ç”¨<code>StringBuilder</code>å¯ä»¥é¿å…ä¸å¿…è¦çš„å¯¹è±¡åˆ†é…å’Œå¤åˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
    sb.append(<span class="hljs-string">"value"</span>);
}
<span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sb.toString();
</code></pre>
<p>é«˜çº§æŠ€å·§ï¼š</p>
<ul>
<li><strong>é¢„è®¾StringBuilderå®¹é‡</strong>: <code>new StringBuilder(estimatedSize)</code>å¯å‡å°‘æ‰©å®¹æ¬¡æ•°ã€‚</li>
<li>Java9+çš„å­—ç¬¦ä¸²æ‹¼æ¥(<code>invokedynamic</code>)å·²ä¼˜åŒ–å•è¡Œ"+"çš„æ€§èƒ½é—®é¢˜ã€‚</li>
</ul>
<p>###5.åˆ©ç”¨Unsafeç±»è¿›è¡Œç›´æ¥å†…å­˜æ“ä½œ</p>
<p>é—®é¢˜åœºæ™¯ï¼š
æŸäº›ä½å»¶è¿Ÿåº”ç”¨(å¦‚é‡‘èäº¤æ˜“ç³»ç»Ÿ)éœ€è¦ç»•è¿‡JVMçš„å®‰å…¨æ£€æŸ¥æ¥ç›´æ¥æ“ä½œå†…å­˜ã€‚</p>
<p>ä¼˜åŒ–æ–¹æ¡ˆï¼š
sun.misc.Unsafeæä¾›äº†ä¸€ç³»åˆ—åº•å±‚æ“ä½œ:</p>
<pre><code class="hljs language-java" lang="java">Unsafe unsafe=Unsafe.getUnsafe();
<span class="hljs-type">long</span> address=unsafe.allocateMemory(<span class="hljs-number">1024</span>);<span class="hljs-comment">//åˆ†é…å †å¤–å†…å­˜ </span>
unsafe.putInt(address,<span class="hljs-number">123</span>);<span class="hljs-comment">//ç›´æ¥å†™å…¥æ•°æ® </span>
</code></pre>
<p>æ³¨æ„äº‹é¡¹:
-Unsafeä¸ä¿è¯è·¨ç‰ˆæœ¬å…¼å®¹æ€§
-RISKY:å¯èƒ½å¼•å‘Segmentation Fault</p>
<p>##æ€»ç»“</p>
<p>æœ¬æ–‡ä»‹ç»çš„5ç§æŠ€å·§æ¶µç›–äº†ä»åŸºç¡€è¯­æ³•åˆ°é«˜çº§APIçš„ä½¿ç”¨æ–¹å¼:
1.Arrays.fill()åŠ é€Ÿæ•°ç»„åˆå§‹åŒ–
2.MethodHandleä»£æ›¿åå°„
3.ä½è¿ç®—ä¼˜åŒ–è®¡ç®—å¯†é›†å‹ä»»åŠ¡
4.StringBuilderå‡å°‘ä¸´æ—¶å¯¹è±¡
5.Unsafeå®ç°æè‡´çš„æ§åˆ¶æƒ</p>
<p>è¿™äº›æŠ€æœ¯å¹¶éé€‚åˆæ‰€æœ‰åœºæ™¯ä½†èƒ½åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å¸¦æ¥æ˜¾è‘—æå‡ -å…³é”®æ˜¯ç†è§£å…¶èƒŒåçš„åŸç†å¹¶åœ¨åˆé€‚çš„æ—¶æœºåº”ç”¨å®ƒä»¬ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ä¼˜åŒ–RecycleView ä¸‰äººé½èšå¿˜å¿§æ„]]></title>    <link>https://juejin.cn/post/7596905015367483392</link>    <guid>https://juejin.cn/post/7596905015367483392</guid>    <pubDate>2026-01-20T00:30:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596905015367483392" data-draft-id="7596906473306570802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ä¼˜åŒ–RecycleView ä¸‰äººé½èšå¿˜å¿§æ„"/> <meta itemprop="keywords" content="Android,Kotlin"/> <meta itemprop="datePublished" content="2026-01-20T00:30:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ä¼˜åŒ–RecycleView ä¸‰äººé½èšå¿˜å¿§æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T00:30:26.000Z" title="Tue Jan 20 2026 00:30:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><p><em>æœ¬ç³»åˆ—ä¸º Android æŠ€æœ¯èŒåœºé¢˜æè™šæ„å°è¯´ï¼Œæ‰€æœ‰ç™»åœºäººç‰©ã€å…¬å¸åç§°ã€ç»„ç»‡æ¶æ„åŠç›¸å…³æƒ…èŠ‚å‡ä¸ºåˆ›ä½œæ‰€éœ€è™šæ„è€Œæ¥ï¼Œè‹¥æœ‰é›·åŒï¼Œçº¯å±å¶ç„¶ã€‚ä¹¦ä¸­æ¶‰åŠçš„æŠ€æœ¯çŸ¥è¯†ç»ä¸“ä¸šæ¢³ç†ï¼Œä»…ä¾›å‚è€ƒã€‚</em></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84246b7f2e49422c9b9d7abd8066c4c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769473826&amp;x-signature=KIUNMAhjw%2F0YrbG9GOZuaTz4s%2B4%3D" alt="0.png" loading="lazy"/></p>
<h2 data-id="heading-0">åï¼‰ä¼˜åŒ–RecycleView ä¸‰äººé½èšå¿˜å¿§æ„</h2>
<p>æœ‰äº†ä¸Šä¸€æ¬¡ <code>View</code> ä¼˜åŒ–çš„å¤§é‡ç»éªŒï¼Œç»„å†…æ¸æ¸å½¢æˆäº†ä¸€ç§é»˜å¥‘ã€‚å‡¡æ˜¯æ¶‰åŠ <code>View</code> ä¼˜åŒ–ç›¸å…³çš„éœ€æ±‚ï¼Œéƒ½ä¼šè‡ªç„¶è€Œç„¶åœ°äº¤åˆ°æ—å“æ‰‹ä¸­ã€‚</p>
<p>è¿™ä¸ï¼Œæ–°é—»æ¨¡å—çš„è¿­ä»£ä¼˜åŒ–ï¼Œä¹Ÿé¡ºç†æˆç« ç”±ä»–ç‰µå¤´è´Ÿè´£ã€‚</p>
<p>ä½œä¸ºè¯¥æ¨¡å— UI çš„æ ¸å¿ƒå¼€å‘ä¼˜åŒ–äººå‘˜ã€‚æ—å“æ·±çŸ¥è½¦æœºç«¯æ–°é—»å±•ç¤ºçš„ç—›ç‚¹ï¼Œä¸ä»…è¦ä¿éšœæ»‘åŠ¨æµç•…ï¼Œæ›´è¦é€‚é…å¤æ‚è½¦è½½åœºæ™¯ï¼Œä»å¸ƒå±€æ¶æ„åˆ°ç»†èŠ‚å‘ˆç°ï¼Œæ¯ä¸€å¤„éƒ½å®¹ä¸å¾—åŠç‚¹é©¬è™ã€‚</p>
<p>è¿™å¤©ä¸€æ—©ï¼Œåˆšåˆ°å·¥ä½ï¼Œè®¾è®¡å²—çš„äº§å“åŒäº‹å°±æ‰¾è¿‡æ¥ï¼šâ€œæ—å“ï¼Œæ–°é—»å¡ç‰‡é‡ŒèŠå¤©å¯¹è¯çš„èƒŒæ™¯å›¾ï¼Œæ‹‰ä¼¸åè¾¹ç¼˜éƒ½ç³Šäº†ï¼Œä½ çœ‹çœ‹æ€ä¹ˆå¤„ç†ï¼Ÿâ€</p>
<p>æ—å“æŸ¥çœ‹ UI èµ°æŸ¥çš„ç»“æœï¼Œæœç„¶ï¼Œæ™®é€š PNG æ ¼å¼çš„å¯¹è¯æ°”æ³¡ï¼Œåœ¨ä¸åŒé•¿åº¦çš„æ–‡æœ¬é€‚é…ä¸‹ï¼Œå››è§’æ‹‰ä¼¸å˜å½¢ï¼Œè¾¹ç¼˜çº¿æ¡æ¨¡ç³Šä¸æ¸…ã€‚</p>
<p>â€œå•§ï¼Œæœç„¶è¿™æè½¦è½½çš„ UI å°±æ˜¯æ‹‰èƒ¯ï¼Œè¿™ç‚¹ç»†èŠ‚éƒ½æ²¡å¤„ç†å¥½ã€‚â€ä»–æš—è‡ªæŠ±æ€¨ä¸€å¥ï¼Œå¿ƒé‡Œå´å·²å¿«é€Ÿæ•²å®šä¼˜åŒ–æ–¹æ¡ˆâ€”â€”ç”¨ .9 å›¾æ¥è§£å†³ã€‚</p>
<p>â€œè¿™å¾—ç”¨ .9 å›¾æ¥ä¼˜åŒ–ã€‚â€æ—å“ç«‹åˆ»ç»™å‡ºæ–¹æ¡ˆï¼Œé¡ºæ‰‹æ‰“å¼€å·¥å…·æ¼”ç¤ºèµ·æ¥ï¼Œâ€œ.9 å›¾å…¨ç§°æ˜¯ NinePatch å›¾ï¼Œæœ¬è´¨æ˜¯å¸¦æ‹‰ä¼¸åŒºåŸŸå®šä¹‰çš„ PNGï¼Œæ ¸å¿ƒå°±æ˜¯é€šè¿‡ <code>1px</code> çš„é€æ˜è¾¹æ¡†ï¼Œåˆ’åˆ†å‡ºå›ºå®šåŒºåŸŸå’Œå¯æ‹‰ä¼¸åŒºåŸŸã€‚â€</p>
<p>ä»–å¯¹ç€å·¥å…·ç•Œé¢å–ƒå–ƒè‡ªè¯­ï¼Œæ‰‹æŒ‡ç‚¹ç€å±å¹•æ¢³ç†é€»è¾‘ï¼šâ€œå·¦ä¾§å’Œä¸Šä¾§çš„é»‘è‰²çº¿æ®µæ˜¯å¯æ‹‰ä¼¸åŒºåŸŸï¼Œåªåœ¨æŒ‡å®šèŒƒå›´æ‹‰ä¼¸ï¼Œä¸ä¼šåŠ¨å››è§’çš„åœ†è§’ï¼›å³ä¾§å’Œä¸‹ä¾§æ˜¯å†…å®¹åŒºåŸŸï¼Œæ§åˆ¶æ–‡æœ¬è¾¹ç•Œé˜²è´´è¾¹ã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸ç®¡æ–‡æœ¬å¤šé•¿ï¼Œæ°”æ³¡è¾¹ç¼˜éƒ½èƒ½æ¸…æ™°ï¼Œåœ†è§’ä¹Ÿä¸ä¼šå˜å½¢ã€‚â€</p>
<p>è®¾è®¡åŒäº‹è§ä»–æ€è·¯æ¸…æ™°ï¼Œåˆèƒ½å¿«é€Ÿä¸Šæ‰‹å¤„ç†ï¼Œæ”¾å¿ƒåœ°ç‚¹ç‚¹å¤´ä¾¿ç‹¬è‡ªèµ°å¼€äº†ã€‚</p>
<p>æ—å“å¯¹ç€å·¥å…·ç»§ç»­æ“ä½œï¼Œä¸€è¾¹å°†æ™®é€š PNG å¤„ç†æˆ .9 å›¾ï¼Œä¸€è¾¹å–ƒå–ƒè¡¥å……ç€ä½¿ç”¨ç»†èŠ‚ï¼Œåƒæ˜¯åœ¨ç»™è‡ªå·±æ¢³ç†æ³¨æ„äº‹é¡¹ï¼šâ€œå¯æ‹‰ä¼¸åŒºåŸŸä¸èƒ½ç”»å…³é”®å…ƒç´ ï¼Œä¸ç„¶æ‹‰ä¼¸åè‚¯å®šé”™ä½ï¼›é€æ˜è¾¹æ¡†å¿…é¡»ä¸¥æ ¼æ§åˆ¶åœ¨ <code>1px</code>ï¼Œå¤šäº†å°‘äº†éƒ½ä¼šè§£æå¤±è´¥ã€‚â€</p>
<p>ä»–æ›¿æ¢åŸæœ‰èµ„æºé¢„è§ˆï¼Œè§æ°”æ³¡æ‹‰ä¼¸è‡ªç„¶ã€è¾¹ç¼˜é”åˆ©ï¼Œåˆæ¥ç€è‡ªè¯­ï¼šâ€œè¿˜å¾—é€‚é…ä¸åŒå¯†åº¦å±å¹•ï¼Œå¾—å‡†å¤‡å¤šå¥—å›¾æ”¾è¿›å¯¹åº” <code>drawable</code> æ–‡ä»¶å¤¹ï¼Œä¸ç„¶åœ¨é«˜æ¸…å±ä¸Šä¼šæ¨¡ç³Šã€‚â€</p>
<p>è§£å†³å®Œ .9 å›¾çš„é—®é¢˜ï¼Œæ—å“å¯¹ç€å±å¹•åå¤èµ°æŸ¥äº†å‡ éï¼Œå¯¹è¯æ°”æ³¡æ‹‰ä¼¸è‡ªç„¶ã€è¾¹ç¼˜é”åˆ©ï¼Œåœ¨ä¸åŒæ–‡æœ¬é•¿åº¦å’Œå±å¹•å°ºå¯¸ä¸‹éƒ½è¡¨ç°ç¨³å®šï¼Œç¡®è®¤æ— è¯¯åï¼Œä¾¿æŠŠéœ€æ±‚æ‰“å›ç»™ UI å›¢é˜Ÿç»§ç»­åç»­èµ°æŸ¥ã€‚</p>
<p>åˆšå…³æ‰è®¾è®¡å·¥å…·ï¼Œç”µè„‘å³ä¸‹è§’çš„é‚®ç®±å°±å¼¹å‡ºäº†æ–°æé†’ï¼Œæ ‡æ³¨ç€â€œç´§æ€¥ Bugâ€ã€‚</p>
<p>æ—å“é¡ºæ‰‹ç‚¹å¼€ï¼Œå‘ç° Bug å½’å±æ¨¡å—æ­£æ˜¯è‡ªå·±è´Ÿè´£çš„æ–°é—»æ¨¡å—ï¼Œæ ‡é¢˜èµ«ç„¶å†™ç€â€œæ–°é—»åˆ—è¡¨æ•°æ®é‡è¾ƒå¤§æ—¶æ»‘åŠ¨æ‰å¸§ï¼Œå¡é¡¿æ˜æ˜¾â€ã€‚</p>
<p>ä»–å¾€ä¸‹æ»‘åŠ¨è¯¦æƒ…é¡µï¼Œç›®å…‰è½åœ¨æäº¤è€…ä¸€æ æ—¶ï¼Œå˜´è§’ä¸è‡ªè§‰åœ°å¼¯äº†å¼¯â€”â€”æäº¤äººæ˜¯å°å®‰ã€‚æ—å“å¿ƒé‡Œæš—è‡ªçªƒå–œï¼ŒæŒ‡å°–å·²ç»æ‚¬åœ¨Qä¹¦èŠå¤©æ¡†ä¸Šï¼Œæ­£æƒ³å‘æ¶ˆæ¯é—®å¥¹æ˜¯ä¸æ˜¯ä¹Ÿæ¥æ”¯æ´è½¦è½½é¡¹ç›®äº†ã€‚</p>
<p>â€œå°æ—ï¼Œçœ‹åˆ°æ–°é—»åˆ—è¡¨çš„ Bug äº†å—ï¼Ÿâ€ä¸€é“å£°éŸ³çªç„¶ä»èº«åä¼ æ¥ï¼Œæ—å“å›å¤´ä¸€çœ‹ï¼Œå¼ ç£Šç«™åœ¨ä»–å·¥ä½æ—ï¼Œè¯­æ°”å¸¦ç€å‡ åˆ†æ€¥åˆ‡ï¼Œâ€œè¿™äº› Bug ä¼˜å…ˆçº§å¾ˆé«˜ï¼Œæµ‹è¯•é‚£è¾¹åé¦ˆè½¦æœºé«˜é€Ÿæ»‘åŠ¨æ—¶å¡é¡¿ã€æ‰å¸§ï¼Œé—®é¢˜æ¯”è¾ƒå¤šï¼Œä½ ä»”ç»†çœ‹çœ‹ï¼Œä»Šå¤©å¿…é¡»æå®šã€‚â€</p>
<p>â€œå¥½çš„å¼ å“¥ï¼Œæˆ‘é©¬ä¸Šæ’æŸ¥åŸå› ã€‚â€æ—å“ç«‹é©¬åº”å£°ç‚¹å¤´ï¼Œç”Ÿæ€•å¼ ç£Šé‡ææ—§äº‹ã€‚</p>
<p>æ”¶èµ·ç¬‘æ„ï¼Œæ”¶æ•›å¿ƒç¥ï¼Œå¿«é€Ÿæµè§ˆ Bug è¯¦æƒ…é‡Œçš„è¡¥å……è¯´æ˜ï¼šåˆ—è¡¨æ•°æ®è¶…è¿‡50æ¡åæ‰å¸§é¢‘å‘ï¼Œæ»šåŠ¨æ—¶å¸§ç‡æ³¢åŠ¨å‰§çƒˆã€‚</p>
<p>ä»–å½“å³æ‰“å¼€ <code>RecyclerView</code> çš„ç›¸å…³ä»£ç å’Œè¿è¡Œæ—¥å¿—ï¼Œçœ‰å¤´å¾®å¾®è¹™èµ·ï¼Œç€æ‰‹é€è¡Œåˆ†æé—®é¢˜æ ¹æºã€‚</p>
<p>æœä¸å…¶ç„¶ï¼Œç°æœ‰é€‚é…å™¨å­˜åœ¨ä¸¤å¤„å…³é”®é—®é¢˜ï¼šä¸€æ˜¯ä»åœ¨ä½¿ç”¨ <code>notifyDataSetChanged()</code> å…¨é‡åˆ·æ–°ï¼Œå“ªæ€•åªæœ‰å•æ¡æ–°é—»æ›´æ–°ï¼Œä¹Ÿä¼šè§¦å‘æ‰€æœ‰ <code>Item</code> é‡ç»˜ï¼Œå¯¼è‡´ <code>CPU</code> è´Ÿè½½é£™å‡ï¼›äºŒæ˜¯æœªåˆç†é…ç½®ç¼“å­˜æ± ï¼Œä¸åŒç±»å‹çš„æ–°é—»å¡ç‰‡å…±ç”¨åŒä¸€ç¼“å­˜ï¼Œå¤ç”¨æ•ˆç‡ä½ä¸‹ï¼Œé€ æˆå†…å­˜æ³¢åŠ¨ã€‚</p>
<p>æ—å“å…ˆä»åˆ·æ–°æœºåˆ¶å…¥æ‰‹ï¼Œé›†æˆ <code>DiffUtil</code> å·¥å…·ç±»ã€‚</p>
<p>ä»–åˆ›å»ºä¸å¯å˜æ•°æ®ç±» <code>NewsItem</code>ï¼Œå°è£…æ–°é—» <code>ID</code>ã€æ ‡é¢˜ã€å†…å®¹ã€ç±»å‹ç­‰å­—æ®µï¼Œç¡®ä¿æ•°æ®ä¸å¯å˜ä»¥é¿å…å¹¶å‘é—®é¢˜ã€‚</p>
<p>éšåå®ç°è‡ªå®šä¹‰ <code>DiffUtil.ItemCallback&lt;NewsItem&gt;</code>ï¼Œé‡å†™ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼š<code>areItemsTheSame</code> é€šè¿‡æ–°é—»å”¯ä¸€<code>ID</code> åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€æ•°æ®ï¼Œé¿å…é‡å¤åˆ·æ–°ç›¸åŒ <code>Item</code>ï¼›<code>areContentsTheSame</code> å¯¹æ¯” <code>Item</code> çš„æ ¸å¿ƒå†…å®¹å­—æ®µï¼Œç²¾å‡†å®šä½æ•°æ®å˜åŒ–çš„éƒ¨åˆ†ã€‚</p>
<p>â€œä¹‹å‰ç”¨å…¨é‡åˆ·æ–°ï¼Œ<code>RecyclerView</code> ä¸çŸ¥é“å“ªäº› <code>Item</code> å˜äº†ï¼Œåªèƒ½å…¨ç›˜é‡ç»˜ã€‚â€æ—å“ä¸€è¾¹å°†é€‚é…å™¨ç»§æ‰¿è‡ª <code>ListAdapter</code>ï¼Œä¸€è¾¹è‡ªè¯­ï¼Œâ€œç°åœ¨ç”¨ <code>submitList()</code> æäº¤æ–°æ•°æ®ï¼Œ<code>DiffUtil</code> ä¼šè‡ªåŠ¨è®¡ç®—æ–°æ—§åˆ—è¡¨çš„å·®å¼‚ï¼Œåªåˆ·æ–°å˜åŒ–çš„ <code>Item</code>ï¼Œæ€§èƒ½è‡³å°‘èƒ½æå‡ 40%ã€‚â€</p>
<p>æ¥ç€ä»–ä¼˜åŒ–ç¼“å­˜ç­–ç•¥ï¼Œé’ˆå¯¹å›¾æ–‡ã€çº¯æ–‡å­—ä¸¤ç§æ–°é—»å¡ç‰‡ï¼Œé…ç½® <code>RecycledViewPool</code> çš„ç¼“å­˜æ•°é‡ï¼šâ€œå›¾æ–‡å¡ç‰‡å¸ƒå±€å¤æ‚ï¼Œåˆ›å»ºæˆæœ¬é«˜ï¼Œç¼“å­˜æ•°é‡è®¾ä¸º 5ï¼›çº¯æ–‡å­—å¡ç‰‡ç®€å•ï¼Œè®¾ä¸º 8ï¼Œè¿™æ ·æ—¢èƒ½ä¿è¯å¤ç”¨æ•ˆç‡ï¼Œåˆä¸ä¼šå› ç¼“å­˜è¿‡å¤šå ç”¨å†…å­˜ã€‚â€</p>
<p>åŒæ—¶ï¼Œä»–åœ¨ <code>RecyclerView</code> ä¸å†ä½¿ç”¨ä¹‹åï¼Œæ¸…ç†å›¾ç‰‡åŠ è½½ä»»åŠ¡å’Œä¸´æ—¶æ•°æ®ï¼Œé¿å…å†…å­˜æ³„æ¼å’Œæ³¢åŠ¨ã€‚</p>
<p>ä¼˜åŒ–å®Œåˆ·æ–°å’Œç¼“å­˜ï¼Œæ—å“å°†ç›®å…‰æŠ•å‘å¸ƒå±€ç»“æ„ã€‚ä»–æ‰“å¼€æ–°é—»å¡ç‰‡çš„ <code>XML</code> å¸ƒå±€æ–‡ä»¶ï¼Œå‘ç°åŸæœ‰å¸ƒå±€ç”¨äº†ä¸‰å±‚ <code>LinearLayout</code> åµŒå¥—ï¼šå¤–å±‚åŒ…è£¹å¡ç‰‡æ•´ä½“ï¼Œä¸­å±‚åˆ†éš”å›¾ç‰‡å’Œæ–‡æœ¬åŒºåŸŸï¼Œå†…å±‚æ’åˆ—æ ‡é¢˜å’Œå†…å®¹ã€‚</p>
<p>åµŒå¥—å±‚çº§å¤ªå¤šäº†ï¼Œè¿™ä¹Ÿæ˜¯å¡é¡¿çš„é‡è¦åŸå› ã€‚â€</p>
<p>è½¦æœºç«¯çš„ <code>ViewGroup</code> æµ‹é‡å’Œå¸ƒå±€æ˜¯è‡ªä¸Šè€Œä¸‹é€’å½’è¿›è¡Œçš„ï¼Œæ¯å¤šä¸€å±‚åµŒå¥—ï¼Œå°±ä¼šå¢åŠ ä¸€æ¬¡æµ‹é‡å’Œå¸ƒå±€è¿ç®—ï¼Œå°¤å…¶åœ¨ <code>RecyclerView</code> å¿«é€Ÿæ»‘åŠ¨æ—¶ï¼Œå¤šå±‚åµŒå¥—ä¼šå¤§å¹…å¢åŠ  <code>CPU</code> è´Ÿæ‹…ã€‚</p>
<p>æ—å“æœæ–­å°†å¸ƒå±€æ›¿æ¢ä¸º <code>ConstraintLayout</code>ï¼Œé€šè¿‡çº¦æŸæœºåˆ¶å®ç°æ‰å¹³åŒ–å¸ƒå±€ï¼Œå°†ä¸‰å±‚åµŒå¥—å‹ç¼©ä¸ºä¸€å±‚ã€‚</p>
<p>ä»–é‡æ–°æ¢³ç†å¸ƒå±€é€»è¾‘ï¼šå°†å¡ç‰‡æ ¹å¸ƒå±€è®¾ä¸º <code>ConstraintLayout</code>ï¼Œå›¾æ–‡å¡ç‰‡çš„å›¾ç‰‡é”šå®šåœ¨å·¦ä¾§ï¼Œé€šè¿‡ <code>app:layout_constraintStart_toStartOf="parent"</code> å’Œ <code>app:layout_constraintTop_toTopOf="parent"</code> å›ºå®šä½ç½®ï¼Œå®½åº¦è®¾ä¸º <code>80dp</code>ï¼Œé«˜åº¦è®¾ä¸º <code>0dp</code> å¹¶è®¾ç½® <code>app:layout_constraintDimensionRatio="1:1"</code>ï¼Œä¿è¯å›¾ç‰‡æ¯”ä¾‹å›ºå®šã€‚æ ‡é¢˜æ–‡æœ¬åˆ™é€šè¿‡ <code>app:layout_constraintStart_toEndOf="@id/iv_news_img"</code> é”šå®šåœ¨å›¾ç‰‡å³ä¾§ï¼Œå†…å®¹æ–‡æœ¬å¯¹é½æ ‡é¢˜ä¸‹æ–¹ï¼Œç”¨ <code>app:layout_constraintBottom_toBottomOf="parent"</code> ç¡®ä¿åº•éƒ¨å¯¹é½ã€‚</p>
<p>â€œ<code>ConstraintLayout</code> çš„æ ¸å¿ƒä¼˜åŠ¿å°±æ˜¯æ‰å¹³åŒ–å’Œçµæ´»çº¦æŸï¼Œä¸ä»…èƒ½å‡å°‘å±‚çº§ï¼Œè¿˜èƒ½é€šè¿‡ <code>Guideline</code> å’Œ <code>Barrier</code> å®ç°è‡ªé€‚åº”ã€‚â€æ—å“æ·»åŠ äº†å‚ç›´ <code>Guideline</code>ï¼Œå°†å¡ç‰‡å³ä¾§å†…è¾¹è·è®¾ä¸ºå±å¹•å®½åº¦çš„ 8%ï¼Œç¡®ä¿åœ¨ä¸åŒå°ºå¯¸çš„è½¦æœºå±å¹•ä¸Šï¼Œå¡ç‰‡å¸ƒå±€æ¯”ä¾‹ä¸€è‡´ï¼›åŒæ—¶ç”¨ <code>Barrier</code> å°†æ–‡æœ¬åŒºåŸŸä¸å›¾ç‰‡å…³è”ï¼Œå½“å›¾ç‰‡é«˜åº¦å˜åŒ–æ—¶ï¼Œæ–‡æœ¬åŒºåŸŸè‡ªåŠ¨è°ƒæ•´ï¼Œé¿å…é‡å ã€‚</p>
<p>å¸ƒå±€ä¼˜åŒ–å®Œæˆåï¼Œæ—å“ç«‹åˆ»è¿æ¥è½¦æœºè¿›è¡ŒçœŸæœºè‡ªæµ‹ã€‚æ‰‹æŒ‡å¿«é€Ÿæ»‘åŠ¨æ–°é—»åˆ—è¡¨ï¼Œå³ä½¿æ•°æ®é‡è¶…è¿‡80æ¡ï¼Œå¸§ç‡ä»ç¨³å®šåœ¨ 60FPS å·¦å³ï¼Œæ— ä»»ä½•æ‰å¸§å¡é¡¿ï¼Œç¼“å­˜å¤ç”¨ä¹Ÿååˆ†é¡ºç•…ï¼Œä¹‹å‰çš„ Bug å·²å½»åº•è§£å†³ã€‚</p>
<p>ä»–æˆªå›¾ç•™å­˜æµ‹è¯•æ•ˆæœï¼Œæ‰“å¼€ Bug ç®¡ç†å¹³å°ï¼Œå°†è¯¥ Bug çŠ¶æ€æ›´æ–°ä¸ºâ€œå·²ä¿®å¤â€ï¼ŒåŒæ—¶@å°å®‰å¹¶é™„ä¸Šå¤‡æ³¨ï¼šâ€œåˆ—è¡¨å¡é¡¿é—®é¢˜å·²è§£å†³ï¼Œä¼˜åŒ–äº† <code>RecyclerView</code> åˆ·æ–°æœºåˆ¶ã€ç¼“å­˜ç­–ç•¥åŠå¸ƒå±€å±‚çº§ï¼Œè‡ªæµ‹é€šè¿‡ï¼Œéº»çƒ¦ä½ å›å½’éªŒè¯ä¸‹ã€‚â€</p>
<p>å‘é€å®Œæ¯•åï¼Œæ—å“åˆç‚¹å¼€èŠå¤©æ¡†ï¼ŒæŒ‡å°–æ‚¬åœ¨è¾“å…¥æ ä¸Šï¼Œå¿ƒé‡Œçš„ç–‘æƒ‘å†æ¬¡å†’äº†å‡ºæ¥â€”â€”ä»–æ­£æƒ³æ•²å­—é—®ä¸€å¥â€œä½ æ˜¯ä¸æ˜¯æ¥æ”¯æ´è½¦è½½é¡¹ç›®äº†â€ï¼ŒåŠå…¬æ¡Œä¸Šçš„ç”µè¯çªç„¶å“äº†ã€‚</p>
<p>æ¥èµ·ç”µè¯ï¼Œäº§å“ç»ç†çš„å£°éŸ³ä¼ æ¥ï¼Œè¯­æ°”å¸¦ç€å‡ åˆ†æ€¥åˆ‡ï¼šâ€œæ—å“ï¼Œæ–°é—»æ¨¡å—è¦åŠ ä¸ªç´§æ€¥éœ€æ±‚ï¼Œå¾—åœ¨åˆ—è¡¨é‡ŒåŠ è§†é¢‘é¢„è§ˆåŠŸèƒ½ï¼Œæ”¯æŒçŸ­è§†é¢‘ç¼©ç•¥å›¾è‡ªåŠ¨æ’­æ”¾ï¼Œè¿˜å¾—èƒ½è·Ÿéšè½¦æœºå±å¹•æ—‹è½¬è‡ªé€‚åº”ï¼Œå®¢æˆ·é‚£è¾¹å‚¬å¾—ç´§ï¼Œä½ è¿™è¾¹å°½å¿«è¯„ä¼°è½åœ°ã€‚â€</p>
<p>æ—å“é—»è¨€ä¸€æ„£ï¼Œéšå³æƒ³èµ·è‡ªå·±åˆšæ‰ä¸€å¿ƒæ‰‘åœ¨ Bug ä¿®æ”¹ä¸Šï¼Œå‹æ ¹æ²¡æ¥å¾—åŠçœ‹å·¥ä½œç¾¤æ¶ˆæ¯ã€‚ä»–å¿«é€Ÿç‚¹å¼€èŠå¤©è®°å½•ï¼Œæœç„¶çœ‹åˆ°äº§å“ç»ç†ä¸€å°æ—¶å‰å°±å‘äº†éœ€æ±‚æ–‡æ¡£ï¼Œè¿˜@äº†ä»–ï¼Œåªæ˜¯å½“æ—¶è¢« <code>RecyclerView</code> çš„ä¼˜åŒ–é€»è¾‘ç¼ ä½ï¼Œå®Œå…¨æ²¡ç•™æ„ã€‚</p>
<p>â€œæŠ±æ­‰ï¼Œæˆ‘åˆšæ‰åœ¨ç´§æ€¥å¤„ç†åˆ—è¡¨å¡é¡¿çš„ Bugï¼Œæ²¡åŠæ—¶çœ‹æ¶ˆæ¯ã€‚â€æ—å“è¿å¿™è‡´æ­‰ï¼Œè¯­æ°”å¸¦ç€å‡ åˆ†æ­‰æ„ï¼Œâ€œéœ€æ±‚æˆ‘ç°åœ¨å°±çœ‹ï¼ŒæŠ€æœ¯æ–¹æ¡ˆå°½å¿«ç»™ä½ åé¦ˆï¼Œäº‰å–ä»Šå¤©å…ˆæŠŠæ ¸å¿ƒåŠŸèƒ½è½åœ°ã€‚â€</p>
<p>æ—å“å‹ä¸‹å¯¹å°å®‰çš„ç–‘æƒ‘ï¼ŒæŒ‚äº†ç”µè¯ï¼Œæ”¶èµ·èŠå¤©æ¡†ï¼Œé‡æ–°èšç„¦åˆ°ä»£ç ä¸Šï¼Œç€æ‰‹åˆ†æè§†é¢‘é¢„è§ˆåŠŸèƒ½çš„æŠ€æœ¯é€‰å‹ã€‚</p>
<p>æ—å“æœ€åˆé€‰æ‹©ç”¨ <code>SurfaceView</code> å®ç°è§†é¢‘é¢„è§ˆï¼Œè¿™æ˜¯å®‰å“æ—©æœŸå¸¸ç”¨çš„è§†é¢‘æ¸²æŸ“ç»„ä»¶ã€‚</p>
<p>ä»–å¿«é€Ÿé›†æˆæ’­æ”¾å™¨ï¼Œå®ç°äº†è§†é¢‘æ’­æ”¾åŠŸèƒ½ï¼Œä½†æµ‹è¯•æ—¶å‘ç°äº†æ˜æ˜¾é—®é¢˜ï¼šå½“è½¦æœºå±å¹•æ—‹è½¬æ—¶ï¼Œè§†é¢‘é¢„è§ˆç”»é¢ç¼©æ”¾å’Œæ–¹å‘éƒ½æœ‰é—®é¢˜ï¼Œæ— æ³•æµç•…çš„é€‚é…æ–°å¤§å°å’Œæ–¹å‘ï¼Œç”¨æˆ·ä½“éªŒæå·®ã€‚</p>
<p>â€œè¿™å°±æ˜¯ <code>SurfaceView</code> çš„å±€é™æ€§ã€‚â€æ—å“ç¿»å¼€è€æ¨çš„åœ¨çº¿ç¬”è®°ï¼Œå¯¹ç…§ç€çŸ¥è¯†ç‚¹æ¢³ç†ï¼Œâ€œ<code>SurfaceView</code> æœ‰ç‹¬ç«‹çš„ç»˜å›¾è¡¨é¢ï¼Œä¸ä¸ UI å±‚çº§å…±äº«ï¼Œè™½ç„¶æ¸²æŸ“æ€§èƒ½å¥½ã€ä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œä½†æ—‹è½¬ã€ç¼©æ”¾ç­‰ UI å˜æ¢æ”¯æŒå·®ï¼Œé—®é¢˜å¤šï¼Œè€Œä¸”å®ƒçš„æ˜¾ç¤ºä¸å— <code>View</code> æ ‘æ§åˆ¶ï¼Œå®¹æ˜“å‡ºç°å±‚çº§é”™ä¹±ã€‚â€</p>
<p>ä»–å†³å®šæ›¿æ¢ä¸º <code>TextureView</code>ï¼Œä¸¤è€…è™½éƒ½ç”¨äºé«˜æ€§èƒ½æ¸²æŸ“ï¼Œä½†ç‰¹æ€§å·®å¼‚æ˜¾è‘—ã€‚</p>
<p><code>TextureView</code> å°†è§†é¢‘å¸§æ¸²æŸ“ä¸ºçº¹ç†ï¼Œæ— ç¼é›†æˆåˆ° <code>View</code> æ ‘ä¸­ï¼Œæ”¯æŒæ‰€æœ‰ UI å˜æ¢ï¼Œè¿˜èƒ½ä¸å…¶ä»– <code>View</code> ç»„ä»¶å åŠ æ˜¾ç¤ºï¼›ä½†ç¼ºç‚¹æ˜¯æ¸²æŸ“æ•ˆç‡ç•¥ä½äº <code>SurfaceView</code>ã€‚</p>
<p>ä¸è¿‡çœ¼ä¸‹çš„æƒ…å†µï¼Œæ­£é€‚åˆã€‚</p>
<p>æ—å“åŠ¨æ‰‹ä¿®æ”¹ä»£ç ï¼Œå°†å¸ƒå±€ä¸­çš„ <code>SurfaceView</code> æ›¿æ¢ä¸º <code>TextureView</code>ï¼Œå¹¶å®ç° <code>SurfaceTextureListener</code> æ¥å£ï¼šåœ¨ <code>onSurfaceTextureAvailable</code> ä¸­åˆå§‹åŒ–æ’­æ”¾å™¨ï¼Œç»‘å®š <code>SurfaceTexture</code>ï¼›<code>onSurfaceTextureSizeChanged</code> ä¸­è°ƒæ•´æ’­æ”¾å™¨å°ºå¯¸ï¼Œé€‚é…å±å¹•æ—‹è½¬ï¼›<code>onSurfaceTextureDestroyed</code> ä¸­é‡Šæ”¾æ’­æ”¾å™¨èµ„æºå’Œ <code>SurfaceTexture</code>ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</p>
<p>ä¸ºäº†å¹³è¡¡æ€§èƒ½ï¼Œä»–è¿˜åšäº†è¡¥å……ä¼˜åŒ–ï¼šå¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼ˆè½¦æœºç«¯é»˜è®¤å¼€å¯ï¼‰ï¼Œé¿å… <code>TextureView</code> æ¸²æŸ“å¡é¡¿ï¼›åœ¨å±å¹•æ—‹è½¬æ—¶ï¼Œé€šè¿‡ <code>onConfigurationChanged</code> æ–¹æ³•æ‰‹åŠ¨è°ƒæ•´ <code>TextureView</code> çš„æ—‹è½¬è§’åº¦ï¼Œæ— éœ€é‡å¯æ’­æ”¾å™¨ã€‚ä¿®æ”¹åæµ‹è¯•ï¼Œè§†é¢‘é¢„è§ˆä¸ä»…æ’­æ”¾æµç•…ï¼Œè¿˜èƒ½è·Ÿéšå±å¹•æ—‹è½¬æ— ç¼é€‚é…ï¼Œä¸å…¶ä»– UI ç»„ä»¶å±‚çº§æ¸…æ™°ï¼Œå®Œå…¨æ»¡è¶³éœ€æ±‚ã€‚</p>
<p>ä¸è¿‡æ—å“å¹¶æœªå°±æ­¤æ­¢æ­¥ï¼Œä»–è€ƒè™‘åˆ°ç”¨æˆ·ç‚¹å‡»é¢„è§ˆå›¾è¿›å…¥å…¨å±æ’­æ”¾çš„åœºæ™¯ï¼Œç‰¹æ„åšäº†åˆ†å±‚è®¾è®¡â€”â€”å…¨å±æ’­æ”¾æ—¶ï¼Œå°†æ¸²æŸ“ç»„ä»¶åˆ‡æ¢å› <code>SurfaceView</code>ã€‚</p>
<p>è¿™æ­£æ˜¯ <code>SurfaceView</code> çš„ç”¨æ­¦ä¹‹åœ°ï¼šå…¨å±åœºæ™¯ä¸‹æ— éœ€ä¸å…¶ä»– UI ç»„ä»¶å åŠ ï¼Œä¹Ÿä¸éœ€è¦å¤æ‚çš„æ—‹è½¬ç¼©æ”¾å˜æ¢ï¼Œæ ¸å¿ƒéœ€æ±‚æ˜¯æè‡´çš„æ’­æ”¾æµç•…åº¦å’Œä½å»¶è¿Ÿï¼Œè€Œ <code>SurfaceView</code> ç‹¬ç«‹ç»˜å›¾è¡¨é¢çš„ç‰¹æ€§ï¼Œèƒ½æœ€å¤§ç¨‹åº¦é™ä½ä¸»çº¿ç¨‹é˜»å¡ï¼Œå³ä¾¿åœ¨è½¦æœºç¡¬ä»¶èµ„æºç´§å¼ æ—¶ï¼Œä¹Ÿèƒ½ä¿è¯è§†é¢‘å¸§æ¸²æŸ“ç¨³å®šï¼Œé¿å…å‡ºç°å¡é¡¿ã€èŠ±å±ã€‚</p>
<p>ä»–é€šè¿‡ç›‘å¬å…¨å±çŠ¶æ€åˆ‡æ¢é€»è¾‘ï¼Œåœ¨ç”¨æˆ·ç‚¹å‡»é¢„è§ˆè¿›å…¥å…¨å±æ—¶ï¼Œé”€æ¯ <code>TextureView</code> å¹¶åˆå§‹åŒ– <code>SurfaceView</code>ï¼Œç»‘å®šæ’­æ”¾å™¨èµ„æºï¼›é€€å‡ºå…¨å±æ—¶åˆ™åå‘åˆ‡æ¢ï¼Œé‡Šæ”¾ <code>SurfaceView</code> èµ„æºå¹¶é‡å»º <code>TextureView</code>ã€‚</p>
<p>åŒæ—¶è¡¥å……äº†èµ„æºè¡”æ¥å¤„ç†ï¼Œç¡®ä¿åˆ‡æ¢è¿‡ç¨‹ä¸­è§†é¢‘ä¸ä¸­æ–­ã€å£°éŸ³ä¸å¡é¡¿ï¼Œå®ç°é¢„è§ˆä¸å…¨å±æ’­æ”¾çš„æ— ç¼è¿‡æ¸¡ã€‚â€œå„å–æ‰€é•¿æ‰æ˜¯æœ€ä¼˜è§£ï¼Œâ€æ—å“å–ƒå–ƒè‡ªè¯­ï¼Œæ—¢ç”¨ <code>TextureView</code> è§£å†³äº†åˆ—è¡¨é¢„è§ˆçš„ UI é€‚é…é—®é¢˜ï¼Œåˆé  <code>SurfaceView</code> ä¿éšœäº†å…¨å±æ’­æ”¾çš„æ€§èƒ½åº•çº¿ã€‚</p>
<p>ç†æ¸…ç»„ä»¶åˆ‡æ¢é€»è¾‘ã€è¡¥å…¨èµ„æºé‡Šæ”¾ä»£ç ï¼Œæ—å“åˆå¯¹ç€è½¦æœºåå¤æµ‹è¯•äº†å¤šè½®é¢„è§ˆä¸å…¨å±åˆ‡æ¢åœºæ™¯ï¼Œç¡®ä¿è§†é¢‘æ’­æ”¾æµç•…ã€æ— å¡é¡¿ä¸­æ–­ï¼Œæ‰ç»ˆäºæ¾äº†å£æ°”ã€‚ä»æ¥åˆ°éœ€æ±‚åˆ°å®Œæˆæ ¸å¿ƒåŠŸèƒ½è½åœ°ï¼Œæ•´æ•´ä¸‰ä¸ªå°æ—¶ï¼Œä»–è¿æ°´éƒ½æ²¡é¡¾ä¸Šå–ä¸€å£ã€‚</p>
<p>ç¡®è®¤è§†é¢‘æ’­æ”¾åŠŸèƒ½å®Œå…¨ç¬¦åˆéœ€æ±‚ï¼Œæ—å“æˆªå›¾ç•™å­˜å„åœºæ™¯æ•ˆæœï¼Œæ•´ç†å¥½åŠŸèƒ½è¯´æ˜æ–‡æ¡£ï¼Œä¸€å¹¶æäº¤ç»™ UI å›¢é˜Ÿè¿›è¡Œèµ°æŸ¥ã€‚åˆšå‘é€å®Œæ¯•ï¼Œç”µè„‘å³ä¸‹è§’çš„ Bug ç®¡ç†å¹³å°å°±å¼¹å‡ºäº†æ–°æé†’ï¼Œçº¢è‰²çš„â€œç´§æ€¥â€æ ‡è¯†æ ¼å¤–é†’ç›®ã€‚</p>
<p>æ—å“é¡ºæ‰‹ç‚¹å¼€ï¼Œå‘ç°åˆæ˜¯æ–°é—»æ¨¡å—çš„ Bugï¼Œæäº¤äººä¸€æ èµ«ç„¶æ˜¾ç¤ºç€â€œå°å®‰â€ã€‚</p>
<p>ä»–å¿ƒå¤´ä¸€æš–ï¼Œç¬‘ç€æ‘‡äº†æ‘‡å¤´â€”â€”æœç„¶æ˜¯å°å®‰ï¼Œä½œä¸ºæµ‹è¯•å²—çš„å¥¹å‘æ¥ç»†è‡´ï¼Œæ€»èƒ½ç²¾å‡†æ•æ‰åˆ°å®¹æ˜“è¢«å¿½ç•¥çš„ç»†èŠ‚ã€‚è¿™æ¬¡çš„ Bug æè¿°å¾ˆæ¸…æ™°ï¼šå½“ç”¨æˆ·å°†ç³»ç»Ÿå­—ä½“ç¼©æ”¾å€ç‡è°ƒæ•´åˆ° 150% æ—¶ï¼Œæ²¡æœ‰ä»»ä½•æ•ˆæœã€‚</p>
<p>æ—å“ç«‹åˆ»æ‰“å¼€æµ‹è¯•ç¯å¢ƒå¤ç°åœºæ™¯ï¼Œå°†ç³»ç»Ÿå­—ä½“ç¼©æ”¾å€ç‡è°ƒè‡³ 150% åï¼Œçº¯æ–‡å­—å¡ç‰‡çš„æ ‡é¢˜æ–‡æœ¬æœç„¶æ¯«æ— å˜åŒ–ï¼Œæ²¡æœ‰è·Ÿéšç¼©æ”¾å˜å¤§ã€‚</p>
<p>ä»–å¿«é€Ÿæ’æŸ¥ä»£ç ï¼Œå¾ˆå¿«é”å®šé—®é¢˜æ ¹æºï¼šåŸæœ‰æ–‡æœ¬å¤§å°è¯¯ç”¨äº† <code>dp</code> å•ä½ï¼Œå†…è¾¹è·å’Œå¡ç‰‡å®½åº¦è¿˜æ··æ‚äº† <code>px</code> å•ä½ï¼Œå°ºå¯¸å•ä½ä½¿ç”¨æä¸è§„èŒƒï¼Œå¯¼è‡´å‡ºç°è¯¥ Bugã€‚</p>
<p>â€œå…³é”®é—®é¢˜å°±åœ¨å•ä½ä¸Šã€‚â€æ—å“å¯¹ç€ä»£ç å–ƒå–ƒè‡ªè¯­ï¼Œç†æ¸…æ ¸å¿ƒé€»è¾‘ï¼Œâ€œ<code>dp</code> æ˜¯å¯†åº¦æ— å…³åƒç´ ï¼Œåªèƒ½é€‚é…ä¸åŒå±å¹•å¯†åº¦ï¼Œç¡®ä¿ç»„ä»¶åœ¨ä¸åŒè®¾å¤‡ä¸Šå°ºå¯¸ä¸€è‡´ï¼Œä½†å®Œå…¨ä¸å“åº”ç³»ç»Ÿå­—ä½“ç¼©æ”¾å€ç‡â€”â€”ä¸ç®¡ç”¨æˆ·æŠŠå­—ä½“è°ƒå¤§è¿˜æ˜¯è°ƒå°ï¼Œç”¨ <code>dp</code> è®¾ç½®çš„æ–‡æœ¬éƒ½ä¸ä¼šæœ‰ä»»ä½•å˜åŒ–ï¼Œè¿™ä¸ç¬¦åˆå¯è®¿é—®æ€§éœ€æ±‚ã€‚â€</p>
<p>â€œè€Œ <code>sp</code> å•ä½æ‰æ˜¯æ–‡æœ¬çš„æ ‡å‡†å•ä½ï¼Œå®ƒä¸ä»…èƒ½åƒ <code>dp</code> ä¸€æ ·é€‚é…å±å¹•å¯†åº¦ï¼Œæ›´æ ¸å¿ƒçš„æ˜¯ä¼šç²¾å‡†è·Ÿéšç³»ç»Ÿå­—ä½“ç¼©æ”¾å€ç‡å˜åŒ–ï¼Œç”¨æˆ·è°ƒæ•´å­—ä½“å¤§å°åï¼Œæ–‡æœ¬èƒ½åŒæ­¥ç¼©æ”¾ï¼Œè¿™ä¹Ÿæ˜¯è§£å†³å½“å‰é—®é¢˜çš„å…³é”®ã€‚æ—å“å½“å³ç€æ‰‹ä¼˜åŒ–ï¼Œå…ˆå°†æ‰€æœ‰æ–‡æœ¬å¤§å°ä» <code>dp</code> ç»Ÿä¸€æ”¹ä¸º <code>sp</code>ï¼Œè®©æ–‡æœ¬èƒ½å¤Ÿå“åº”ç³»ç»Ÿå­—ä½“ç¼©æ”¾è®¾ç½®ã€‚â€</p>
<p>ä»–è¿˜ç»™ <code>TextView</code> è¡¥å……å¸ƒå±€çº¦æŸï¼šè®¾ç½® <code>maxLines="2"</code> å’Œ <code>ellipsize="end"</code>ï¼Œç¡®ä¿æ–‡æœ¬è·Ÿéšç³»ç»Ÿç¼©æ”¾åè¿‡é•¿æ—¶ï¼Œèƒ½ä»¥çœç•¥å·ä¼˜é›…æˆªæ–­ã€‚</p>
<p>åŒæ—¶å°†å¡ç‰‡æ ¹å¸ƒå±€å®½åº¦è®¾ä¸º <code>match_parent</code>ï¼Œå†…è¾¹è·ã€é—´è·å…¨éƒ¨æ”¹ä¸º <code>dp</code> å•ä½ï¼Œé¿å…å› å•ä½æ··æ‚å¯¼è‡´å¸ƒå±€é”™ä¹±ï¼Œç¡®ä¿å­—ä½“æ”¾å¤§åï¼Œå¡ç‰‡èƒ½è‡ªé€‚åº”æ–‡æœ¬é«˜åº¦ï¼Œå½»åº•è§£å†³æº¢å‡ºé—®é¢˜ã€‚</p>
<p>ä¼˜åŒ–åæ—å“å†æ¬¡æµ‹è¯•ï¼Œå°†ç³»ç»Ÿå­—ä½“ç¼©æ”¾å€ç‡åˆ†åˆ«è°ƒè‡³ 125%ã€150%ã€175%ï¼Œçº¯æ–‡å­—å¡ç‰‡çš„æ–‡æœ¬å‡èƒ½åŒæ­¥ç¼©æ”¾ï¼Œä¸”æ— ä»»ä½•æº¢å‡ºï¼Œå¸ƒå±€ä¿æŒè§„æ•´ã€‚</p>
<p>ä¸ºäº†è§„é¿å›¢é˜Ÿåç»­å†å‡ºç°ç±»ä¼¼é—®é¢˜ï¼Œæ—å“æ‰“å¼€å›¢é˜Ÿå…±äº«çš„å¼€å‘è§„èŒƒæ–‡æ¡£ï¼Œç‰¹æ„æ–°å¢å¹¶å¼ºåŒ–äº†ä¸€æ¡å°ºå¯¸å•ä½ä½¿ç”¨å‡†åˆ™ï¼šå¸ƒå±€ç»„ä»¶å¤§å°ã€è¾¹è·ã€é—´è·ç»Ÿä¸€ç”¨ <code>dp</code>ï¼Œä¿è¯å¤šè®¾å¤‡å°ºå¯¸ä¸€è‡´æ€§ï¼›æ–‡æœ¬å¤§å°å¿…é¡»ç”¨ <code>sp</code>ï¼Œå¼ºåˆ¶å“åº”ç³»ç»Ÿå­—ä½“ç¼©æ”¾è®¾ç½®ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·çš„é˜…è¯»éœ€æ±‚ï¼›ç‰¹æ®Šåœºæ™¯ï¼ˆå¦‚è‡ªå®šä¹‰ <code>View</code> ç»˜å›¾ï¼‰éœ€å°† <code>dp</code> è½¬ä¸º <code>px</code> è®¡ç®—ï¼Œé€šè¿‡ <code>Resources.getSystem().getDisplayMetrics().density</code> è·å–å¯†åº¦ç³»æ•°ï¼Œä¸¥ç¦ç¡¬ç¼–ç æˆ–æ··ç”¨å•ä½ã€‚</p>
<p>ä»–è¡¥å……å®Œè§„èŒƒåï¼Œåˆé¡ºæ‰‹æ•´ç†äº† <code>dp</code>ã€<code>sp</code> ä¸ <code>px</code> çš„æ ¸å¿ƒåŒºåˆ«å¤‡æ³¨åœ¨æ—ï¼Œæ–¹ä¾¿å›¢é˜Ÿæ–°äººå¿«é€Ÿç†è§£ï¼š<code>px</code> æ˜¯å›ºå®šåƒç´ å•ä½ï¼Œè·¨è®¾å¤‡æ˜¾ç¤ºå·®å¼‚å¤§ï¼Œç¦æ­¢ç”¨äºå¸ƒå±€ï¼›<code>dp</code> é€‚é…å±å¹•å¯†åº¦ï¼Œé€‚åˆå¸ƒå±€å±æ€§ï¼›<code>sp</code> åœ¨ <code>dp</code> åŸºç¡€ä¸Šå…¼å®¹å­—ä½“ç¼©æ”¾ï¼Œä¸“ä¸ºæ–‡æœ¬è®¾è®¡ã€‚</p>
<p>æ—å“é•¿èˆ’ä¸€å£æ°”ï¼Œç»ˆäºæŠŠä»Šå¤©æ‰€æœ‰çš„ä¼˜åŒ–ä»»åŠ¡å’Œ Bug ä¿®å¤éƒ½æ”¶å°¾äº†ã€‚ä»–æŠ¬æ‰‹æ‰äº†æ‰é…¸èƒ€çš„çœ¼ç›ï¼Œç¥äº†çœ¼ç”µè„‘å³ä¸‹è§’çš„æ—¶é—´â€”â€”æ™šä¸Šå…«ç‚¹åŠã€‚ç´§ç»·äº†ä¸€å¤©çš„ç¥ç»éª¤ç„¶æ”¾æ¾ï¼Œä»–æ‰æƒ³èµ·è¿˜æ²¡é—®å°å®‰æ”¯æ´çš„äº‹ï¼Œèµ¶ç´§ç‚¹å¼€Qä¹¦èŠå¤©æ¡†ï¼Œæ•²ä¸‹ä¸€è¡Œå­—ï¼šâ€œå°å®‰ï¼Œä½ æ˜¯ä¸æ˜¯æ¥æ”¯æ´è½¦è½½é¡¹ç›®äº†ï¼Ÿæ€ä¹ˆéƒ½æ˜¯ä½ æçš„ Bug å‘€â€ï¼Œç‚¹å‡»å‘é€åä¾¿é™é™ç­‰ç€å›å¤ã€‚</p>
<p>æ¶ˆæ¯åˆšå‘å‡ºå»ï¼Œä¸€é“å¸¦ç€åŸ‹æ€¨çš„å£°éŸ³å°±ä»èº«åä¼ æ¥ï¼šâ€œè¿˜é—®å‘¢ï¼Œå¯ä¸å°±æ˜¯æ¥æ”¯æ´äº†ï¼Œå¤šäºäº†ä½ è¿™ä½â€˜ä¼˜åŒ–å¤§ç¥â€™ï¼Œæˆ‘ä¹Ÿå¾—é™ªç€ä½ åŠ ç­åˆ°è¿™ä¼šå„¿ã€‚â€</p>
<p>æ—å“æµ‘èº«ä¸€åƒµï¼Œéšå³çŒ›åœ°å›å¤´ï¼Œåªè§å°å®‰ç«™åœ¨èº«åï¼Œå¹³æ—¥é‡Œç²¾ç¥åˆ©è½çš„é«˜é©¬å°¾å› ç†¬äº†åŠå¤©åŠ ç­ï¼Œæ—©å·²æ¾æ¾å®å®åœ°å‚æˆäº†ä½é©¬å°¾ï¼Œå‘å°¾å¾®å¾®å‡Œä¹±ï¼Œçœ‰å¤´è½»è¹™å´éš¾æ©çœ¼åº•ç¬‘æ„ï¼Œè¯­æ°”é‡Œçš„åŸ‹æ€¨æ›´åƒæ˜¯å¸¦ç€å‡ åˆ†ç–²æƒ«çš„æ’’å¨‡ã€‚</p>
<p>çœ‹æ¸…æ¥äººï¼Œæ—å“ç¬é—´å–œå‡ºæœ›å¤–ï¼Œè¿æ—¥æ¥åŠ ç­çš„ç–²æƒ«ä¸€æ‰«è€Œç©ºï¼Œæ¿€åŠ¨å¾—å·®ç‚¹ä»æ¤…å­ä¸Šè·³èµ·æ¥ï¼Œæ‰‹èˆè¶³è¹ˆåœ°è¯´é“ï¼šâ€œå¤ªå¥½äº†ï¼Œå’³å’³ï¼Œæœ‰ä½ æµ‹è¯•ï¼Œæˆ‘å°±æ”¾å¿ƒå¤šäº†ã€‚â€ä»–åªé¡¾ç€å’Œå°å®‰è¯´è¯ï¼Œå®Œå…¨æ²¡ç•™æ„å‘¨å›´çš„åŠ¨é™ã€‚</p>
<p>å°å®‰å¿ç€ç¬‘ï¼Œç”¨ä¸‹å·´æŒ‡äº†æŒ‡ä»–å‰æ–¹ï¼šâ€œåœï¼Œåœï¼Œä½ çœ‹çœ‹å‰é¢æ˜¯è°ã€‚â€æ—å“ç–‘æƒ‘åœ°é¡ºç€å¥¹æŒ‡çš„æ–¹å‘çœ‹å»ï¼Œåªè§è€æ¨ç«¯ç€é‚£åªæ ‡å¿—æ€§çš„æªç“·æ¯ï¼Œæ…¢æ‚ æ‚ åœ°ç«™åœ¨å·¥ä½è¿‡é“ä¸Šï¼Œæ¯æ²¿è¿˜å†’ç€æ·¡æ·¡çš„çƒ­æ°”ï¼Œè„¸ä¸Šå¸¦ç€æ¸©å’Œçš„ç¬‘æ„ï¼Œæ­£ä¼¼ç¬‘éç¬‘åœ°çœ‹ç€ä»–ã€‚</p>
<p>æ—å“ç«‹åˆ»æ”¶æ•›äº†é›€è·ƒçš„åŠ¨ä½œï¼Œç«™èµ·èº«æŒ äº†æŒ å¤´ï¼Œæœ‰äº›ä¸å¥½æ„æ€åœ°æ‰“æ‹›å‘¼ï¼šâ€œè€æ¨ï¼Œæ€ä¹ˆï¼Œä½ ä¹Ÿæ¥äº†ï¼Ÿâ€è€æ¨ç¬‘ç€æŠ¿äº†å£èŒ¶ï¼Œæ™ƒäº†æ™ƒæ‰‹é‡Œçš„æªç“·æ¯ï¼šâ€œå¬è¯´æˆ‘ä»¬å°æ—ä»Šå¤©å•ƒä¸‹äº†æ–°é—»æ¨¡å—çš„ç¡¬éª¨å¤´ï¼Œè¿‡æ¥çœ‹çœ‹ã€‚é¡ºä¾¿ï¼Œä¹Ÿæ¥ä½ ä»¬ä¿©åƒä¸ªå¤œå®µã€‚â€</p>
<p>......</p>
<p>ä¸‰å¤©åï¼Œæ–°é—»æ¨¡å—è¿æ¥äº†æœ€ç»ˆéªŒæ”¶æµ‹è¯•ã€‚æµ‹è¯•å›¢é˜Ÿå›´ç»•å…¨åœºæ™¯é€é¡¹æ ¸éªŒï¼Œå°å®‰å¸¦ç€æµ‹è¯•ç”¨ä¾‹é€ä¸€æ’æŸ¥ï¼Œæ‰€æœ‰ä¼˜åŒ–ç‚¹å‡è¾¾æ ‡ï¼Œæ— æ–°å¢ Bugã€‚</p>
<p>â€œå®Œç¾é€šè¿‡ï¼â€å°å®‰æ‹¿ç€æµ‹è¯•æŠ¥å‘Šèµ°åˆ°æ—å“å·¥ä½ï¼Œæ¾äº†å£æ°”ç¬‘é“ï¼Œâ€œä½ è¿™æ³¢å¤ªç¨³äº†ï¼Œå“ˆå“ˆï¼â€</p>
<p>æ—å“çœ‹ç€æŠ¥å‘Šä¸Šçš„â€œå…¨éƒ¨é€šè¿‡â€ï¼Œè¿æ—¥åŠ ç­çš„ç–²æƒ«å½»åº•æ¶ˆæ•£ï¼Œæ­£æƒ³å¼€å£ï¼Œå°±è§å¼ ç£Šå¸¦ç€è€æ¨èµ°äº†è¿‡æ¥ï¼Œè„¸ä¸Šæ»¡æ˜¯å–œè‰²ã€‚</p>
<p>â€œå°æ—ï¼Œè¿™æ¬¡æ–°é—»æ¨¡å—ä¼˜åŒ–åšå¾—æ¼‚äº®ï¼Œå®¢æˆ·é‚£è¾¹çœ‹äº†æ¼”ç¤ºè§†é¢‘ï¼Œç‰¹æ„å‘æ¶ˆæ¯è¡¨æ‰¬äº†æˆ‘ä»¬å›¢é˜Ÿã€‚â€å¼ ç£Šæ‹äº†æ‹æ—å“çš„è‚©è†€ï¼Œåˆä¾§èº«æŒ‡äº†æŒ‡è€æ¨ï¼Œâ€œå¯¹äº†ï¼Œè·Ÿä½ è¯´ä¸ªäº‹ï¼Œè€æ¨è¿™æ¬¡ä¹Ÿæ¥æ”¯æ´è½¦è½½é¡¹ç›®äº†ï¼Œåªä¸è¿‡æ²¡è·Ÿæˆ‘ä»¬ä¸€èµ·è´Ÿè´£ UI æ¨¡å—ã€‚â€</p>
<p>æ—å“ä¸€æ„£ï¼Œéšå³çœ‹å‘è€æ¨ï¼Œçœ¼é‡Œæ»¡æ˜¯ç–‘æƒ‘ï¼šâ€œè€æ¨ï¼Œæ‚¨ä¹Ÿæ¥æ”¯æ´äº†ï¼Ÿæˆ‘è¿˜ä»¥ä¸ºæ‚¨åªæ˜¯è¿‡æ¥çœ‹çœ‹æˆ‘ä»¬ã€‚â€</p>
<p>è€æ¨ç¬‘ç€æ™ƒäº†æ™ƒæ‰‹é‡Œçš„æªç“·æ¯ï¼Œæ¯æ²¿çš„çƒ­æ°”è¢…è¢…å‡èµ·ï¼Œè¯­æ°”æ¸©å’Œå´å¸¦ç€ä¸“ä¸šæ„Ÿï¼šâ€œæ˜¯å•Šï¼Œè¿‡æ¥æ”¯æ´ä¸€ä¸‹ï¼Œä¸»è¦è´Ÿè´£å¤§æ¨¡å‹åº•å±‚æ®µæ¨¡å‹çš„é›†æˆä¸ä¼˜åŒ–ï¼Œè·Ÿä½ ä»¬ UI æ¨¡å—å±äºå¹¶è¡Œæ¨è¿›ï¼Œæ²¡ç‰¹æ„æ‰“æ‰°ä½ ä»¬èµ¶è¿›åº¦ã€‚â€</p>
<p>ä»–é¡¿äº†é¡¿ï¼Œè¡¥å……é“ï¼šâ€œè½¦è½½å¤§æ¨¡å‹çš„åº•å±‚æ®µæ¨¡å‹ï¼Œå…³ä¹è¯­ä¹‰ç†è§£é€Ÿåº¦å’Œèµ„æºå ç”¨ç‡ï¼Œå¾—åå¤è°ƒè¯•é€‚é…è½¦æœºç¡¬ä»¶ï¼Œç¡®ä¿åœ¨ä½åŠŸè€—ä¸‹ä¹Ÿèƒ½å¿«é€Ÿå“åº”ã€‚ä½ ä»¬ UI æ¨¡å—ä¼˜åŒ–å¥½äº†äº¤äº’ä½“éªŒï¼Œæˆ‘è¿™è¾¹æŠŠåº•å±‚æ¨¡å‹æ‰“ç£¨ç¨³å®šï¼Œä¸¤è€…é…åˆæ‰èƒ½ç»™å®¢æˆ·å‘ˆç°æœ€ä¼˜çš„æ•´ä½“æ•ˆæœã€‚â€</p>
<p>æ—å“æç„¶å¤§æ‚Ÿï¼Œå¿ƒé‡Œæ»¡æ˜¯æ•¬ä½©ï¼šâ€œåŸæ¥æ˜¯è¿™æ ·ï¼Œæˆ‘è¯´æ‚¨é‚£å¤©æ™šä¸Šè¿‡æ¥ï¼Œä¸å…‰æ˜¯æ¥æˆ‘ä»¬åƒå¤œå®µï¼Œä¹Ÿæ˜¯åœ¨ç›¯ç€æˆ‘è·Ÿè¿›é¡¹ç›®è¿›åº¦ã€‚éš¾æ€ªè¿™å‡ å¤©æ„Ÿè§‰ç³»ç»Ÿæ•´ä½“å“åº”å¿«äº†ä¸å°‘ï¼ŒåŸæ¥æ˜¯æ‚¨åœ¨åº•å±‚åšäº†ä¼˜åŒ–ã€‚â€</p>
<p>â€œäº’ç›¸é…åˆç½¢äº†ã€‚â€è€æ¨æ‘†äº†æ‘†æ‰‹ï¼Œç›®å…‰è½åœ¨æ—å“çš„ç”µè„‘å±å¹•ä¸Šï¼Œçœ‹ç€ä¼˜åŒ–åçš„æ–°é—»æ¨¡å—ï¼Œèµè®¸åœ°ç‚¹ç‚¹å¤´ï¼Œâ€œä½ è¿™æ¬¡æŠŠ <code>RecyclerView</code>ã€ç»„ä»¶é€‰å‹è¿™äº›åŸºç¡€æŠ€æœ¯ç”¨å¾—å¾ˆæ‰å®ï¼Œå°¤å…¶æ˜¯æ ¹æ®åœºæ™¯çµæ´»åˆ‡æ¢ <code>SurfaceView</code> å’Œ <code>TextureView</code>ï¼Œè¿˜è¡¥å……äº†å¼€å‘è§„èŒƒï¼Œçœ‹å¾—å‡ºæ¥æ˜¯çœŸçš„åƒé€äº†ï¼Œæˆé•¿å¾ˆå¿«ã€‚â€</p>
<p>å¼ ç£Šæ¥è¿‡è¯èŒ¬ï¼Œç¿»çœ‹ç€æµ‹è¯•æŠ¥å‘Šï¼Œè¯­æ°”é‡Œæ»¡æ˜¯è‡ªè±ªï¼šâ€œæ¯ä¸ªæŠ€æœ¯ç‚¹éƒ½ç”¨åœ¨äº†åˆ€åˆƒä¸Šï¼Œå®Œå…¨è§£å†³äº†è½¦è½½åœºæ™¯çš„ç—›ç‚¹ã€‚ç°åœ¨ UI æ¨¡å—å’Œåº•å±‚æ¨¡å‹éƒ½ç¨³æ­¥æ¨è¿›ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„è¿­ä»£ç®—æ˜¯ç¨³äº†ã€‚â€</p>
<p>æ—å“ç¬‘ç€æŒ äº†æŒ å¤´ï¼Œè¯­æ°”è¯šæ³ï¼šâ€œéƒ½æ˜¯è·Ÿç€æ‚¨çš„ç¬”è®°å­¦çš„ï¼Œå†åŠ ä¸Šå°å®‰æµ‹è¯•æ—¶å¸®æˆ‘æªå‡ºä¸å°‘ç»†èŠ‚é—®é¢˜ã€‚å…¶å®è¿™äº›æŠ€æœ¯çœ‹ä¼¼åŸºç¡€ï¼Œåªæœ‰çœŸæ­£åœ¨é¡¹ç›®ä¸­é‡åˆ°é—®é¢˜ã€åŠ¨æ‰‹ä¼˜åŒ–ï¼Œæ‰èƒ½çœŸæ­£æŒæ¡ï¼Œè¿˜å¾—æ„Ÿè°¢æ‚¨å’Œå°å®‰çš„å¸®è¡¬ã€‚â€</p>
<p>å°å®‰åœ¨ä¸€æ—æ‰“è¶£é“ï¼šâ€œåˆ«è°¢æˆ‘ï¼Œæˆ‘åªæ˜¯åšå¥½æœ¬èŒå·¥ä½œï¼Œå€’æ˜¯ä½ è¿™ä½â€˜å¤§ç¥â€™ï¼Œå¥½å¥½åŠ æ²¹ï¼Œçœå¾—å¤©å¤©é™ªä½ åŠ ç­æ‰¾ Bugã€‚â€ä¸€å¥è¯é€—å¾—ä¼—äººéƒ½ç¬‘äº†èµ·æ¥ï¼Œè¿æ—¥åŠ ç­çš„ç´§ç»·æ°›å›´å½»åº•å˜å¾—è½»æ¾ã€‚</p>
<p>......</p>
<p>æ·±å¤œçš„åŠå…¬åŒºï¼Œåªå‰©é›¶æ˜Ÿå‡ ç›ç¯è¿˜äº®ç€ã€‚æ—å“çœ‹ç€å±å¹•ä¸Šæµç•…è¿è¡Œçš„ç•Œé¢ï¼ŒæŒ‡å°–åˆ’è¿‡ä»£ç ä¸­ç†Ÿæ‚‰çš„æŠ€æœ¯å®ç°ï¼Œå¿ƒé‡Œæ»¡æ˜¯è¸å®ã€‚è½¦æœºå±å¹•ä¸Šï¼Œæ–°é—»å¡ç‰‡æœ‰åºæ’åˆ—ï¼Œè§†é¢‘é¢„è§ˆæµç•…æ’­æ”¾ï¼Œæ–‡æœ¬æ˜¾ç¤ºæ¸…æ™°è§„æ•´ï¼Œæ¯ä¸€å¤„ç»†èŠ‚éƒ½å‡èšç€ä»–å¯¹æŠ€æœ¯çš„æ•¬ç•ä¸æ‰“ç£¨ã€‚</p>
<p>çª—å¤–çš„æœˆå…‰æ´’åœ¨é”®ç›˜ä¸Šï¼Œç…§äº®äº†ä»–æ¥ä¸‹æ¥çš„è®¡åˆ’â€”â€”æŠŠè¿™æ¬¡ä¼˜åŒ–çš„ç»éªŒæ•´ç†æˆç¬”è®°ï¼Œå°±åƒè€æ¨é‚£æ ·ï¼Œä¸ºå›¢é˜Ÿæ²‰æ·€æœ‰ä»·å€¼çš„æŠ€æœ¯èµ„äº§ï¼Œä¹Ÿä¸ºè‡ªå·±çš„æˆé•¿ç•™ä¸‹æ¸…æ™°çš„å°è®°ã€‚</p>
<p>æ—å“å…³æ‰ä»£ç ç¼–è¾‘å™¨ï¼Œé¡ºæ‰‹ç‚¹å¼€Qä¹¦ï¼Œç½®é¡¶ä½ç½®ä¸¤ä¸ªå¤´åƒï¼Œä¸€ä¸ªæ˜¯è€æ¨çš„æªç“·æ¯ä¸“å±å¤´åƒï¼Œä¸€ä¸ªæ˜¯å°å®‰ç¬‘çœ¼å¼¯å¼¯çš„è‡ªæ‹å¤´åƒã€‚ä»–æ„£äº†æ„£ï¼Œéšå³å˜´è§’æ‰¬èµ·ä¸€æŠ¹æ¸©å’Œçš„ç¬‘æ„ã€‚</p>
<p>èº«è¾¹æœ‰ç»éªŒä¸°å¯Œçš„è€æ¨åœ¨åº•å±‚å…œåº•æ”¯æ’‘ï¼Œæœ‰ç»†è‡´çš„å°å®‰å¸®ç€æŠŠæ§æµ‹è¯•ç»†èŠ‚ï¼Œè¿™ä»½æ›¾è®©ä»–å€æ„Ÿå‹åŠ›çš„è½¦è½½å¼€å‘å·¥ä½œï¼Œä¸çŸ¥ä¸è§‰é—´ç«Ÿå˜å¾—è½»æ¾æƒ¬æ„èµ·æ¥ã€‚</p>
<p>ä»–å…³æ‰ç”µè„‘ï¼Œèµ·èº«èµ°å‘å°å®‰ï¼Œè¯¢é—®æ˜¯å¦ä¸‹ç­ï¼Œè¿æ—¥åŠ ç­çš„ç–²æƒ«æ—©å·²è¢«è¿™ä»½è¸å®ä¸æš–æ„å†²æ·¡ï¼Œè„šæ­¥éƒ½å˜å¾—è½»å¿«äº†è®¸å¤šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 å¹´ä¼ä¸šçº§ AI åº”ç”¨æŠ€æœ¯é€‰å‹çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†!]]></title>    <link>https://juejin.cn/post/7596845113282035721</link>    <guid>https://juejin.cn/post/7596845113282035721</guid>    <pubDate>2026-01-20T00:47:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596845113282035721" data-draft-id="7596906473306718258" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 å¹´ä¼ä¸šçº§ AI åº”ç”¨æŠ€æœ¯é€‰å‹çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†!"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIç¼–ç¨‹,Cursor"/> <meta itemprop="datePublished" content="2026-01-20T00:47:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹˜é£gg"/> <meta itemprop="url" content="https://juejin.cn/user/4248168658899741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 å¹´ä¼ä¸šçº§ AI åº”ç”¨æŠ€æœ¯é€‰å‹çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†!
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4248168658899741/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹˜é£gg
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T00:47:30.000Z" title="Tue Jan 20 2026 00:47:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šAI å¦‚ä½•åˆ†ç±»</h2>
<p>éšç€ <strong>2026</strong> å¹´çš„å¼€å§‹ï¼Œä¸ç®¡æ˜¯ A è‚¡ AI åº”ç”¨çš„çˆ†å‘ï¼Œè¿˜æ˜¯åƒé—®æ•´åˆé˜¿é‡Œç”Ÿæ€ï¼Œè¿˜æ˜¯å›½å¤– Gemini ã€OpenAI åœ¨å¤§æ¨¡å‹é‡Œé¢æ³¨å…¥å¹¿å‘Šï¼Œè¿™æ³¨å®šäº†ä¼šæ˜¯ AI åº”ç”¨çˆ†å‘çš„ä¸€å¹´ã€‚å½“æˆ‘ä»¬åœ¨ä½¿ç”¨ AI å»åšåº”ç”¨æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå¯èƒ½æ¥è§¦ä¸‰ä¸ªæ¦‚å¿µï¼Œ<strong>Workflow</strong> ã€<strong>Agent</strong>ã€<strong>RAG</strong>ã€‚
ä»–ä»¬åˆ†åˆ«å¯¹åº”ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>Workflowï¼šAIçˆ†æ–‡ã€è§†é¢‘ï¼›</li>
<li>RAGï¼šAIå®¢æœã€çŸ¥è¯†é—®ç­”åŠ©æ‰‹ï¼›</li>
<li>Agentï¼šAI åŒ»ç”Ÿã€AI å¾‹å¸ˆï¼›</li>
</ol>
<p>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œè¿™ç¯‡æ–‡ç« ä¸è®²å¦‚ä½•æ­å»º AI åº”ç”¨ ï¼Œåªè®²é€‰å‹ã€‚å¸‚é¢ä¸Šå·¥ä½œæµå·¥å…·ç¹å¤šï¼Œçƒ­é—¨çš„æœ‰ LangChainã€Difyã€N8Nã€Cozeï¼Œå¤§è‡´å¯åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<p><strong>ä½ä»£ç å¹³å°</strong>ï¼šDifyã€N8Nã€Coze</p>
<p><strong>çº¯ä»£ç æ¡†æ¶</strong>ï¼šLangChain</p>
<p>è¿™äº›å·¥å…·æ ¸å¿ƒå‡å›´ç»•å·¥ä½œæµ<strong>å¯è§†åŒ–ç¼–æ’</strong>ä¸<strong>æ™ºèƒ½ä½“å¼€å‘èƒ½åŠ›</strong>å±•å¼€ï¼Œ<strong>å·¥ä½œæµå¯è§†åŒ–ç¼–</strong>æ’ï¼Œå°±åƒæ˜¯ç»˜åˆ¶ä¸€å¹…æµç¨‹å›¾ï¼Œä½ å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°<strong>æ•°æ®çš„æµå‘å’Œå„ä¸ªæ“ä½œçš„é¡ºåº</strong>ï¼Œé€šè¿‡ç®€å•æ‹–æ‹½è¿æ¥å°±èƒ½å®šä¹‰å¤æ‚ä¸šåŠ¡æµç¨‹ï¼›<strong>æ™ºèƒ½ä½“å¼€å‘</strong>åˆ™èµ‹äºˆåº”ç”¨æ™ºèƒ½åŒ–èƒ½åŠ›ï¼Œä½¿å…¶èƒ½ç†è§£è‡ªç„¶è¯­è¨€ã€è‡ªä¸»å†³ç­–ã€‚åªæ˜¯åœ¨æŠ€æœ¯é—¨æ§›ã€åŠŸèƒ½ä¾§é‡ä¸Šå·®å¼‚æ˜æ˜¾ã€‚è®©æˆ‘ä»¬ä¸€ä¸€çœ‹ä¸€ä¸‹å·®å¼‚ã€‚</p>
<h2 data-id="heading-1">å„å¹³å°æ ¸å¿ƒåŠŸèƒ½æ·±åº¦å‰–æ</h2>
<h3 data-id="heading-2">LangChainï¼šå¤æ‚ AI åº”ç”¨çš„ä¸‡é‡‘æ²¹</h3>
<p><strong>LangChain</strong> æ ¸å¿ƒæ˜¯æä¾›æ¨¡å—åŒ–ç»„ä»¶ï¼Œå°†æ¨¡å‹ã€æç¤ºã€å·¥å…·è°ƒç”¨ã€è®°å¿†ç­‰èƒ½åŠ›æ‹†åˆ†å°è£…ï¼Œæ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿæ‹¼æ¥å¤æ‚æµç¨‹ï¼Œå®ç° Chainsï¼ˆé“¾ï¼‰ã€Agentsï¼ˆä»£ç†ï¼‰å’Œæ£€ç´¢å™¨çš„çµæ´»ç»„åˆã€‚æ”¯æŒå¤æ‚å¤šæ™ºèƒ½ä½“ç¼–æ’ã€æ¡ä»¶åˆ†æ”¯ã€å¹¶è¡Œä»»åŠ¡ä¸å…¨å±€çŠ¶æ€ç®¡ç†ï¼Œèƒ½å¤„ç†å¤æ‚æµç¨‹çš„æ„å»ºã€‚</p>
<ul>
<li>
<p><strong>åœ°å€ï¼š</strong> <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.langchain.com%2F" target="_blank" title="https://www.langchain.com/" ref="nofollow noopener noreferrer">www.langchain.com/</a></strong></p>
</li>
<li>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>ä¸Šé™é«˜ï¼š</strong> å®ƒæ˜¯ä»£ç åº“ï¼ˆLibraryï¼‰è€Œéå¹³å°ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ç”¨å®ƒå®ç°ä»»ä½•é€»è¾‘ï¼Œä¸å—å›¾å½¢åŒ–ç•Œé¢ï¼ˆGUIï¼‰çš„é™åˆ¶ã€‚</p>
</li>
<li>
<p><strong>å·¥ç¨‹åŒ–ç¨‹åº¦é«˜</strong> ï¼šæä¾› LangSmithï¼ˆå¯è§‚æµ‹æ€§ï¼‰ã€LangGraphï¼ˆå·¥ä½œæµç¼–æ’ï¼‰ç­‰é…å¥—å·¥å…·ï¼Œæ”¯æŒä»åŸå‹éªŒè¯åˆ°ç”Ÿäº§éƒ¨ç½²çš„å…¨æµç¨‹ï¼Œæ»¡è¶³ä¼ä¸šçº§åº”ç”¨çš„ç¨³å®šæ€§å’Œå¯é æ€§è¦æ±‚ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿæ€é€‚é…ï¼š</strong> å‡ ä¹æ‰€æœ‰æ–°çš„æ¨¡å‹ã€å‘é‡åº“ã€å·¥å…·éƒ½ä¼šç¬¬ä¸€æ—¶é—´æ”¯æŒ LangChainã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>åŠ£åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>é—¨æ§›é«˜ï¼š</strong> è¢«æˆç§°ä¸ºâ€œèƒ¶æ°´ä»£ç çš„è¿·å®«â€ï¼Œè°ƒè¯•å›°éš¾ï¼Œå¯¹å¼€å‘è€…çš„å·¥ç¨‹èƒ½åŠ›è¦æ±‚é«˜ã€‚</p>
</li>
<li>
<p><strong>ç»´æŠ¤æˆæœ¬é«˜ï¼š</strong> ç‰ˆæœ¬è¿­ä»£å¿«ï¼Œä»£ç å®¹æ˜“è¿‡æ—¶ï¼ˆBreaking Changesï¼‰ï¼Œä¼ä¸šéœ€è¦ä¸“é—¨çš„å›¢é˜Ÿç»´æŠ¤ã€‚</p>
</li>
</ul>
<p><img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/68be031720db4466b1f8336865f82239.png~tplv-noop.jpeg?rk3s=49177a0b&amp;x-expires=1768836499&amp;x-signature=9JCRddLuHzlGb7Ve1OAy08p%2B%2F%2FQ%3D&amp;resource_key=be77422a-31ad-40f3-9f72-bcd7eb28156c&amp;resource_key=be77422a-31ad-40f3-9f72-bcd7eb28156c" alt="Image" loading="lazy"/></p>
</li>
</ul>
<p><strong>é€‚åˆè°ï¼Ÿ</strong> æ‹¥æœ‰å¼ºåç«¯ç ”å‘èƒ½åŠ›çš„å›¢é˜Ÿï¼Œéœ€æ„å»ºé«˜åº¦å®šåˆ¶åŒ–ã€æå¤æ‚æ ¸å¿ƒä¸šåŠ¡ç³»ç»Ÿçš„åœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-3">Difyï¼šå‡è¡¡çš„ä¼ä¸šçº§ä¼˜é€‰</h3>
<p>Dify æœ€å¤§çš„ç‰¹ç‚¹æ˜¯â€œæ— çŸ­æ¿å‡è¡¡æ€§â€ï¼Œé›†æˆäº†ä» Prompt ç¼–æ’ã€RAG æ£€ç´¢å¼•æ“åˆ° Agent æ¡†æ¶ã€å·¥ä½œæµçš„å…¨å¥—æŠ€æœ¯æ ˆï¼Œå®šä½æ¨ªè·¨ MVP éªŒè¯ä¸ä¼ä¸šçº§è½åœ°ã€‚å®ƒä¸è¿½æ±‚å•ä¸€åŠŸèƒ½æè‡´ï¼Œå´èƒ½æ»¡è¶³ç»å¤§å¤šæ•°ä¼ä¸šçš„ AI åº”ç”¨éœ€æ±‚ï¼Œæ— è®ºæ˜¯æ™ºèƒ½å®¢æœã€çŸ¥è¯†ç®¡ç†è¿˜æ˜¯è¥é”€è‡ªåŠ¨åŒ–ï¼Œéƒ½èƒ½å¿«é€Ÿé€‚é…ã€‚</p>
<ul>
<li>
<p><strong>åœ°å€ï¼š</strong> <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fdify.ai%2F" target="_blank" title="https://dify.ai/" ref="nofollow noopener noreferrer">dify.ai/</a></strong></p>
</li>
<li>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>æ‰€è§å³æ‰€å¾—çš„ RAGï¼š</strong> å†…ç½®äº†æå…¶ä¸“ä¸šçš„çŸ¥è¯†åº“å¤„ç†ç®¡é“ï¼ˆPDF è§£æã€åˆ†æ®µæ¸…æ´—ã€æ··åˆæ£€ç´¢ã€é‡æ’ï¼‰ï¼Œæ˜¯ç›®å‰å¼€æºç•Œ RAG ä½“éªŒçš„ç¬¬ä¸€æ¢¯é˜Ÿã€‚</p>
</li>
<li>
<p><strong>LLMOps é—­ç¯ï¼š</strong> ä¸ä»…ä»…æ˜¯å¼€å‘ï¼Œè¿˜åŒ…å«äº†æ—¥å¿—ç›‘æ§ã€ç”¨æˆ·æ ‡æ³¨ã€Token æˆæœ¬æ ¸ç®—ã€API ç®¡ç†ã€‚</p>
</li>
<li>
<p><strong>Workflow ç¼–æ’ï¼š</strong> æä¾›äº†å¼ºå¤§çš„ DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰å¯è§†åŒ–ç¼–æ’ï¼Œæ—¢èƒ½åšç®€å•çš„å¯¹è¯ Botï¼Œä¹Ÿèƒ½é€šè¿‡ HTTP èŠ‚ç‚¹å’Œä»£ç èŠ‚ç‚¹å®ç°å¤æ‚é€»è¾‘ã€‚</p>
</li>
<li>
<p><strong>å¼€æºå‹å¥½ï¼š</strong> æ´»è·ƒçš„å¼€æºç¤¾åŒºï¼Œä¼ä¸šå¯ç§æœ‰åŒ–éƒ¨ç½²å¹¶æ ¹æ®éœ€æ±‚äºŒå¼€ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>åŠ£åŠ¿ï¼š</strong></p>
<ul>
<li><strong>è¶…å¤æ‚é€»è¾‘ç•¥æ˜¾åƒåŠ›ï¼š</strong> è™½ç„¶ Workflow å¾ˆå¼ºï¼Œä½†é¢å¯¹æå…¶å˜æ€çš„æ•°å­¦é€»è¾‘æˆ–å¤šå±‚åµŒå¥—å¾ªç¯ï¼Œå¯èƒ½ä¸å¦‚ç›´æ¥å†™ä»£ç ï¼ˆLangChainï¼‰çµæ´»ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/13cbcb91fd5c42b5a2a84f4fe6e57d7c.png~tplv-noop.jpeg?rk3s=49177a0b&amp;x-expires=1768836499&amp;x-signature=Dj3xkxq1iAh56lRYaM1NYud340M%3D&amp;resource_key=06040ec7-ef40-473f-877b-840086bfe6a9&amp;resource_key=06040ec7-ef40-473f-877b-840086bfe6a9" alt="Image" loading="lazy"/></p>
<p><strong>é€‚åˆè°ï¼Ÿ</strong> ä¼ä¸šå†…éƒ¨çš„ AI ç ”å‘ä¸ä¸šåŠ¡æ··ç¼–å›¢é˜Ÿã€‚å¸Œæœ›å¿«é€Ÿè½åœ°ç”Ÿæˆå¼ AI åº”ç”¨ï¼ˆå¦‚ä¼ä¸šçŸ¥è¯†åº“ã€æ™ºèƒ½å®¢æœï¼‰ï¼Œä¸”é‡è§†æ•°æ®éšç§å’Œåç»­è¿è¥ã€‚</p>
<hr/>
<h3 data-id="heading-4">N8Nï¼šä¸šåŠ¡æµç¨‹é›†æˆçš„è‡ªåŠ¨åŒ–ä¸“å®¶</h3>
<p>N8N æœ€åˆå®šä½ä¾¿æ˜¯å·¥ä½œæµè‡ªåŠ¨åŒ–ä¸ç³»ç»Ÿé›†æˆï¼Œæ ¸å¿ƒä¼˜åŠ¿å¹¶é AI åŸç”Ÿèƒ½åŠ›ï¼Œè€Œæ˜¯å¼ºå¤§çš„â€œè¿æ¥æ€§â€â€”â€”æ‹¥æœ‰å‡ ç™¾ä¸ªé›†æˆæ¥å£å’Œæ¨¡æ¿åº“ï¼Œèƒ½è½»æ¾æ‰“é€šä¼ä¸šå†…éƒ¨ ERPã€CRMã€ç‰©æµã€æ”¯ä»˜ç­‰å„ç±»ç³»ç»Ÿï¼Œä½†åœ¨ 2024-2025 å¹´é—´ï¼Œå®ƒé€šè¿‡å¼•å…¥ <strong>AI Agent èŠ‚ç‚¹</strong> å°† AI èƒ½åŠ›æ— ç¼åµŒå…¥ç°æœ‰ä¸šåŠ¡æµç¨‹ï¼Œæ‰®æ¼”â€œæ•°æ®æ¡¥æ¢â€ä¸â€œè°ƒåº¦ä¸­å¿ƒâ€çš„è§’è‰²ã€‚</p>
<ul>
<li>
<p><strong>åœ°å€ï¼š</strong> <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fn8n.io" target="_blank" title="https://n8n.io" ref="nofollow noopener noreferrer">n8n.io</a></strong></p>
</li>
<li>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>ä¸ä¸šåŠ¡ç³»ç»Ÿæ— ç¼èåˆï¼š</strong> å®ƒçš„å¼ºé¡¹ä¸åœ¨äºå¯¹è¯æ¡†ï¼Œè€Œåœ¨äºâ€œè¿æ¥â€ã€‚ä¾‹å¦‚ï¼š<em>å½“ HubSpot æ–°å¢å®¢æˆ· -&gt; è§¦å‘ AI åˆ†æ -&gt; å†™å…¥ Google Sheet -&gt; å‘é€ Slack é€šçŸ¥</em>ã€‚è¿™ç§æ¶‰åŠä¼ ç»Ÿ IT ç³»ç»Ÿçš„æµç¨‹ï¼Œn8n æ˜¯ç‹è€…ã€‚</p>
</li>
<li>
<p><strong>å¯è§†åŒ–é€»è¾‘ï¼š</strong> å³ä½¿æ˜¯å¤æ‚çš„å¾ªç¯å’Œåˆ†æ”¯ï¼Œé€šè¿‡è¿çº¿ä¹Ÿèƒ½æ¸…æ™°å±•ç¤ºï¼Œä¸”æ”¯æŒå†™å…¥ JavaScript/Python ä»£ç ç‰‡æ®µå¤„ç†æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>éšç§ä¸éƒ¨ç½²ï¼š</strong> æ”¯æŒè‡ªæ‰˜ç®¡ï¼ˆDocker éƒ¨ç½²ï¼‰ï¼Œæ•°æ®å®Œå…¨åœ¨è‡ªå·±æ‰‹ä¸­ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>åŠ£åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>RAG èƒ½åŠ›è¾ƒå¼±ï¼š</strong> è™½ç„¶èƒ½åšï¼Œä½†æ²¡æœ‰å†…ç½®åƒ Dify é‚£æ ·å®Œå–„çš„åˆ†æ®µã€æ¸…æ´—ã€æ··åˆæ£€ç´¢æœºåˆ¶ï¼Œé€šå¸¸éœ€è¦å¤–æ¥å‘é‡åº“ã€‚</p>
</li>
<li>
<p><strong>éåº”ç”¨æ„å»ºå¹³å°ï¼š</strong> å®ƒå¾ˆéš¾ç›´æ¥ç”Ÿæˆä¸€ä¸ªç»™æœ€ç»ˆç”¨æˆ·ä½¿ç”¨çš„æ¼‚äº® Web App ç•Œé¢ã€‚</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/27edfa849972429c9abf5866ee74d578.png~tplv-noop.jpeg?rk3s=49177a0b&amp;x-expires=1768836499&amp;x-signature=S%2BG%2Bn16t2%2F4dfUOE8VPNcKbY4DI%3D&amp;resource_key=3e3e268d-d846-40c8-b3e8-c57d149c9de3&amp;resource_key=3e3e268d-d846-40c8-b3e8-c57d149c9de3" alt="Image" loading="lazy"/></p>
<p><strong>é€‚åˆè°ï¼Ÿ</strong> å¸Œæœ›å°† AI èƒ½åŠ›åµŒå…¥åˆ°ä¼ä¸šç°æœ‰ ERP/CRM/åŠå…¬æµç¨‹ä¸­çš„åœºæ™¯ï¼Œç›®å‰æ®æˆ‘æ‰€çŸ¥ï¼Œå›½å†…ç”¨çš„æ¯”è¾ƒå°‘ã€‚</p>
<hr/>
<h3 data-id="heading-5">Cozeï¼šå¿«é€ŸéªŒè¯ã€æµé‡å¤§</h3>
<p>Coze æœ€çªå‡ºçš„ä¼˜åŠ¿æ˜¯å­—èŠ‚ç³»ç”Ÿæ€é—­ç¯ï¼Œæ­å»ºå¥½çš„ AI åº”ç”¨å¯ç›´æ¥å‘å¸ƒåˆ°æŠ–éŸ³ã€é£ä¹¦ã€è±†åŒ…ç­‰å¹³å°ï¼Œè·å¾—å¤©ç„¶æµé‡æ”¯æŒï¼Œé€‚åˆæƒ³è¦å¿«é€ŸéªŒè¯å•†ä¸šä»·å€¼ã€æŠ¢å  C ç«¯å¸‚åœºçš„åœºæ™¯ã€‚ï¼Œä¸»æ‰“â€œè®©ä¸ä¼šå†™ä»£ç çš„äººä¹Ÿèƒ½åš AI Botâ€ã€‚å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯â€œæ’ä»¶åŒ–â€å’Œâ€œç”Ÿæ€åŒ–â€ã€‚</p>
<ul>
<li>
<p><strong>åœ°å€ï¼š</strong> <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.coze.cn%2F" target="_blank" title="https://www.coze.cn/" ref="nofollow noopener noreferrer">www.coze.cn/</a></strong></p>
</li>
<li>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>ä¸Šæ‰‹æœ€å¿«ï¼š</strong> å‡ ä¹ä¸éœ€è¦ä»»ä½•æŠ€æœ¯èƒŒæ™¯ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°å°±èƒ½ç”Ÿæˆ Botã€‚</p>
</li>
<li>
<p><strong>æ’ä»¶ç”Ÿæ€æå…¶ä¸°å¯Œï¼š</strong> æœç´¢ã€æ–°é—»ã€ç”šè‡³å­—èŠ‚ç³»ï¼ˆæŠ–éŸ³/å¤´æ¡/é£ä¹¦ï¼‰çš„æ•°æ®æ¥å£ï¼Œè¿™æ˜¯å…¶ä»–å¹³å°éš¾ä»¥æ¯”æ‹Ÿçš„èµ„æºä¼˜åŠ¿ã€‚</p>
</li>
<li>
<p><strong>å¤šå·¥ä½œæµä¸å¡ç‰‡ï¼š</strong> æ”¯æŒéå¸¸ç²¾ç¾çš„ UI å¡ç‰‡è¾“å‡º,æ”¯æŒè±†åŒ…ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>åŠ£åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>é—­æºï¼š</strong> ä¾èµ–å­—èŠ‚ä»·æ ¼ç­–ç•¥ï¼Œæ•°æ®æœ‰æ³„æ¼é£é™©ï¼Œç±»ä¼¼ saas æœåŠ¡ï¼Œè™½ç„¶æœ‰å¼€æºç‰ˆæœ¬ï¼Œä½†å‡ ä¹ä¸ä¼šç”¨å¼€æºç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>æ·±åº¦å®šåˆ¶éš¾ï¼š</strong> å¦‚æœä½ æƒ³æ”¹å†™ RAG çš„æ£€ç´¢ç®—æ³•ï¼Œæˆ–è€…å¾®è°ƒæ¨¡å‹å‚æ•°ï¼ŒCoze æä¾›çš„ä¿®æ”¹ç©ºé—´ç›¸å¯¹æœ‰é™ã€‚</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/00fb50b3e9f846b5b817f49e718c98d6.png~tplv-noop.jpeg?rk3s=49177a0b&amp;x-expires=1768836499&amp;x-signature=vZCbodY8xIQVE5G%2BI59CSEMXS1w%3D&amp;resource_key=7d079576-b06f-46f0-a18f-1f350272996b&amp;resource_key=7d079576-b06f-46f0-a18f-1f350272996b" alt="Image" loading="lazy"/></p>
<p><strong>é€‚åˆè°ï¼Ÿ</strong> å¸‚åœº/è¿è¥äººå‘˜ã€ä¸ªäººåˆ›ä½œè€…ã€éªŒè¯æƒ³æ³•çš„ PMã€‚é€‚åˆåš C ç«¯å¨±ä¹ã€è¥é”€æ´»åŠ¨ã€ä¸ªäººåŠ©ç†ç±»åº”ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-6">æ·±åº¦æ¨ªå‘å¯¹æ¯”æ€»ç»“</h2>
<p>ç»“åˆå„å¹³å°æœ€æ–°æ¶æ„ä¸å¼€æºåè®®ï¼Œæˆ‘ä»¬ä»<strong>å¼€å‘èŒƒå¼ã€é›†æˆå“²å­¦ã€åˆè§„æ€§</strong>ç­‰ 7 ä¸ªæ ¸å¿ƒç»´åº¦è¿›è¡Œäº†å…¨æ–¹ä½å¯¹æ¯”ï¼š</p>





























































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left"><strong>LangChain</strong></th><th align="left"><strong>n8n</strong></th><th align="left"><strong>Dify</strong></th><th align="left"><strong>Coze (æ‰£å­)</strong></th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒå®šä½</strong></td><td align="left"><strong>ä»£ç æ¡†æ¶ (Library)</strong><br/>åº•å±‚æ¶æ„ä¸å¤æ‚é€»è¾‘å®ç°</td><td align="left"><strong>å·¥ä½œæµè‡ªåŠ¨åŒ– (Workflow)</strong><br/>ç³»ç»Ÿé—´çš„â€œèƒ¶æ°´â€ä¸æ€»è°ƒåº¦</td><td align="left"><strong>LLM åº”ç”¨å¼€å‘å¹³å° (BaaS)</strong><br/>ä¼ä¸šçº§ AI ä¸­å°ä¸ RAG å¼•æ“</td><td align="left"><strong>AI Bot æ„å»ºå¹³å° (SaaS)</strong><br/>å¿«é€Ÿå¼€å‘ä¸ C ç«¯åˆ†å‘</td></tr><tr><td align="left"><strong>é›†æˆå“²å­¦</strong></td><td align="left"><strong>SDK ä»£ç çº§é›†æˆ</strong><br/>ä½œä¸ºä¾èµ–åº“åµŒå…¥é¡¹ç›®ï¼Œæœ€çµæ´»</td><td align="left"><strong>è¿æ¥å™¨ (Connector)</strong><br/>ä¸»æ‰“ 500+ åº”ç”¨çš„è¾“å…¥/è¾“å‡ºå¯¹æ¥</td><td align="left"><strong>API First (åç«¯å³æœåŠ¡)</strong><br/>ä½œä¸ºç‹¬ç«‹åç«¯ï¼Œä¾›å‰ç«¯/ä¸šåŠ¡è°ƒç”¨</td><td align="left"><strong>å‘å¸ƒæ¸ é“ (Publish)</strong><br/>ä¸»æ‰“å‘å¸ƒåˆ°é£ä¹¦/å¾®ä¿¡/Discord</td></tr><tr><td align="left"><strong>RAG èƒ½åŠ›</strong></td><td align="left">ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ<br/><strong>å…¨å®šåˆ¶ï¼š</strong> éœ€æ‰‹å†™åˆ‡ç‰‡/æ£€ç´¢é€»è¾‘</td><td align="left">ğŸŒŸğŸŒŸ<br/><strong>å¼±ï¼š</strong> ä»…ä½œä¸ºæµç¨‹ä¸€ç¯ï¼Œé€šå¸¸éœ€å¤–æ¥</td><td align="left">ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ<br/><strong>å¼º/å†…ç½®ï¼š</strong> åŒ…å«æ¸…æ´—/é‡æ’/æ··åˆæ£€ç´¢</td><td align="left">ğŸŒŸğŸŒŸğŸŒŸ<br/><strong>ä¸­ï¼š</strong> ä¾èµ–æ’ä»¶ï¼Œæ·±åº¦è°ƒä¼˜éš¾</td></tr><tr><td align="left"><strong>å¼€æºåè®®</strong></td><td align="left"><strong>MIT (å®Œå…¨å¼€æº)</strong><br/>å…è´¹å•†ç”¨ï¼Œæ— é™åˆ¶</td><td align="left"><strong>Fair-Code (æºä»£ç å¯ç”¨)</strong><br/>å†…éƒ¨è‡ªç”¨å…è´¹ï¼Œå¯¹å¤–å”®å–éœ€æˆæƒ</td><td align="left"><strong>Apache 2.0 (å•†ä¸šå‹å¥½)</strong><br/>å…è®¸ä¼ä¸šäºŒå¼€ä¸å•†ç”¨é—­æº</td><td align="left"><strong>é—­æº (SaaS ä¸ºä¸»)</strong><br/>ä¾èµ–å¹³å°ï¼Œæ•°æ®åœ¨äº‘ç«¯</td></tr><tr><td align="left"><strong>ç§æœ‰åŒ–éƒ¨ç½²</strong></td><td align="left"><strong>å®Œå…¨è‡ªç”±</strong><br/>è¿è¡Œåœ¨ä»»ä½• Python/JS ç¯å¢ƒ</td><td align="left"><strong>å®Œå…¨æ”¯æŒ</strong><br/>Docker ä¸€é”®éƒ¨ç½²ï¼Œæ•°æ®è‡ªæ§</td><td align="left"><strong>å®Œå…¨æ”¯æŒ</strong><br/>æ”¯æŒæºç /Dockerï¼Œæ— åŠŸèƒ½é˜‰å‰²</td><td align="left"><strong>å—é™ / æ˜‚è´µ</strong><br/>ç§æœ‰ç‰ˆé€šå¸¸åŠŸèƒ½æ»åæˆ–æˆæœ¬é«˜</td></tr><tr><td align="left"><strong>ç¼–æ’èƒ½åŠ›</strong></td><td align="left"><strong>æå¼º (ä»£ç )</strong><br/>LangGraph æ”¯æŒå¾ªç¯/å¤šæ™ºèƒ½ä½“</td><td align="left"><strong>å¼º (å¯è§†åŒ–)</strong><br/>æ“…é•¿çº¿æ€§ä¸åˆ†æ”¯æµç¨‹ï¼Œå¼±äºå¾ªç¯</td><td align="left"><strong>ä¸­ (å¯è§†åŒ–)</strong><br/>DSL ç¼–æ’ï¼Œé€‚åˆæ ‡å‡†ä¸šåŠ¡é€»è¾‘</td><td align="left"><strong>ä¸­ (å¯è§†åŒ–)</strong><br/>é€‚åˆå¯¹è¯æµï¼Œä¸é€‚åˆå¤æ‚ç³»ç»Ÿ</td></tr><tr><td align="left"><strong>ä¸Šæ‰‹éš¾åº¦</strong></td><td align="left">ğŸ’€ <strong>é«˜ (Hard)</strong><br/>éœ€ç†Ÿç»ƒæŒæ¡ Python/JS</td><td align="left">ğŸ˜ <strong>ä¸­ (Medium)</strong><br/>éœ€ç†è§£ JSON æ•°æ®ç»“æ„</td><td align="left">ğŸ˜Š <strong>ä¸­ä½ (Friendly)</strong><br/>äº§å“ç»ç†/ç ”å‘å‡å¯ä¸Šæ‰‹</td><td align="left">ğŸ˜ <strong>ä½ (Easy)</strong><br/>è‡ªç„¶è¯­è¨€+æ‹–æ‹½å³å¯å®Œæˆ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">ğŸ’¡ ç»´åº¦è§£è¯»ä¸é€‰å‹å…³é”®ç‚¹</h3>
<ol>
<li><strong>å…³äºâ€œé›†æˆå“²å­¦â€çš„æœ¬è´¨åŒºåˆ«ï¼š</strong>
<ul>
<li><strong>Coze</strong> çš„æ€è·¯æ˜¯**â€œå‘å¸ƒâ€**ï¼šå®ƒå¸Œæœ›ä½ æŠŠ Bot å‘å¸ƒåˆ°å®ƒçš„ç”Ÿæ€ï¼ˆé£ä¹¦ã€æŠ–éŸ³ã€æ˜é‡‘ï¼‰é‡Œå»ï¼Œå®ƒæ˜¯æµé‡çš„å…¥å£ã€‚</li>
<li><strong>Dify</strong> çš„æ€è·¯æ˜¯**â€œAPIâ€**ï¼šå®ƒé€šè¿‡ API æŠŠ AI èƒ½åŠ›è¾“é€ç»™ä½ ç°æœ‰çš„ App æˆ–ç½‘ç«™ï¼Œå®ƒæ˜¯ä½ çš„â€œAI åç«¯â€ã€‚</li>
<li><strong>n8n</strong> çš„æ€è·¯æ˜¯**â€œè¿æ¥â€**ï¼šå®ƒä¸ç”Ÿäº§ç•Œé¢ï¼Œè€Œæ˜¯æŠŠ AI äº§ç”Ÿçš„ç»“æœæ¬è¿åˆ° CRMã€è¡¨æ ¼æˆ–é’‰é’‰ç¾¤é‡Œã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-8">æ ¸å¿ƒé€‰å‹æŒ‡å—</h2>
<h3 data-id="heading-9">æŒ‰åœºæ™¯ä¸éœ€æ±‚å¿«é€ŸåŒ¹é…</h3>
<p>é€‰å‹çš„æ ¸å¿ƒæ˜¯å¯¹é½ä¸šåŠ¡éœ€æ±‚ï¼Œä¸åŒåœºæ™¯å¯¹åº”æ˜ç¡®æœ€ä¼˜è§£ï¼š</p>
<ol>
<li><strong>å¤æ‚ç”Ÿäº§çº§ AI æµç¨‹ã€é«˜è‡ªç”±åº¦ RAG éœ€æ±‚</strong>ï¼šä¼˜å…ˆé€‰ LangChainï¼ˆåŸºç¡€æµç¨‹ï¼‰/LangGraphï¼ˆå¤šåˆ†æ”¯ã€å¤šæ™ºèƒ½ä½“å¤æ‚æµç¨‹ï¼‰ï¼ŒæŠ€æœ¯å¯æ§æ€§æœ€å¼ºï¼Œé€‚é…é«˜åº¦å®šåˆ¶åŒ–åœºæ™¯ï¼›</li>
<li><strong>è·¨ç³»ç»Ÿä¸šåŠ¡é›†æˆã€è‡ªåŠ¨åŒ–å·¥ä½œæµ</strong>ï¼šé€‰ N8Nï¼Œå‡­å€Ÿä¸°å¯Œæ¥å£å®ç°å…¨æµç¨‹è”åŠ¨ï¼Œé€‚åˆ IT è¿è¥ã€å¤šç³»ç»Ÿæ•°æ®è°ƒåº¦åœºæ™¯ï¼›</li>
<li><strong>ä¼ä¸šçº§ MVP éªŒè¯ã€å¿«é€Ÿä¸Šçº¿ä¸”éœ€é•¿æœŸç»´æŠ¤</strong>ï¼šé€‰ Difyï¼Œå…¨æ ˆå‡è¡¡æ— çŸ­æ¿ï¼Œå¼€æºç”Ÿæ€ä¸ä¼ä¸šçº§ç‰¹æ€§å…¼é¡¾ï¼›</li>
<li><strong>C ç«¯ Demoã€è½»é‡åŠ©åŠ›å¿«é€ŸéªŒè¯</strong>ï¼šé€‰ Cozeï¼Œä½é—¨æ§›+å­—èŠ‚ç”Ÿæ€æµé‡ï¼Œå¿«é€Ÿè·‘é€šå•†ä¸šé—­ç¯ï¼›</li>
</ol>
<h3 data-id="heading-10">æŒ‰å›¢é˜ŸæŠ€æœ¯å‚¨å¤‡å†³ç­–</h3>
<p>å›¢é˜ŸæŠ€æœ¯èƒ½åŠ›ç›´æ¥å†³å®šå¹³å°é€‚é…åº¦ï¼š</p>
<ol>
<li><strong>éæŠ€æœ¯ä¸»å¯¼å›¢é˜Ÿï¼ˆäº§å“ã€è¿è¥ä¸ºä¸»ï¼‰</strong>ï¼šä¼˜å…ˆ Coze/Difyï¼Œæ‹–æ‹½å¼å¯è§†åŒ–æ“ä½œæ— éœ€ç¼–ç¨‹ï¼Œé™ä½ä¸Šæ‰‹é—¨æ§›ï¼›</li>
<li><strong>æŠ€æœ¯å›¢é˜Ÿï¼ˆè¿½æ±‚è‡ªä¸»å¯æ§ã€å®šåˆ¶åŒ–ï¼‰</strong>ï¼šé€‰ LangChain/N8Nï¼Œå‰è€…å¯æ·±åº¦ç¼–ç ä¼˜åŒ–ï¼Œåè€…éœ€ç†è§£ API ä¸å·¥ä½œæµé€»è¾‘ï¼Œèƒ½å‘æŒ¥æŠ€æœ¯ä¼˜åŠ¿ï¼›</li>
<li><strong>æ··åˆå›¢é˜Ÿï¼ˆæŠ€æœ¯+ä¸šåŠ¡ååŒï¼‰</strong>ï¼šDify æ˜¯æŠ˜ä¸­ä¼˜é€‰ï¼Œä¸šåŠ¡ç«¯å¯è‡ªä¸»é…ç½®åŸºç¡€åŠŸèƒ½ï¼ŒæŠ€æœ¯ç«¯å¯é€šè¿‡ API æ‰©å±•å®šåˆ¶ã€‚</li>
</ol>
<h3 data-id="heading-11">ç”Ÿæ€ä¸æ•°æ®å®‰å…¨è¡¥å……è€ƒé‡</h3>
<ol>
<li><strong>ç”Ÿæ€æ´»è·ƒåº¦å†³å®šé•¿æœŸç»´æŠ¤æˆæœ¬</strong>ï¼šLangChainã€N8N ç¤¾åŒºèµ„æºæœ€ä¸°å¯Œï¼Œé—®é¢˜æ’æŸ¥ã€æ’ä»¶æ‰©å±•æ›´ä¾¿æ·ï¼›Dify ç´§éšå…¶åï¼Œä¼ä¸šçº§æ¨¡æ¿èµ„æºå……è¶³ï¼›Coze ç”Ÿæ€è¿­ä»£ä¹åŠ›ï¼Œéœ€è­¦æƒ•é•¿æœŸé£é™©ã€‚</li>
<li><strong>æ•°æ®å®‰å…¨æ–¹é¢</strong>ï¼šDifyã€N8N ç§æœ‰åŒ–éƒ¨ç½²èƒ½åŠ›æˆç†Ÿï¼Œé€‚é…æ•æ„Ÿè¡Œä¸šï¼›Coze ç§æœ‰åŒ–åŠŸèƒ½å—é™ï¼›LangChain å¯é€šè¿‡è‡ªå®šä¹‰éƒ¨ç½²åˆ°ä»»æ„äº‘æœåŠ¡ä¸Šä¿éšœæ•°æ®å®‰å…¨ï¼Œä½†éœ€æŠ€æœ¯å›¢é˜Ÿæ”¯æŒã€‚</li>
</ol>
<h2 data-id="heading-12">è¿›é˜¶å®è·µä¸é¿å‘æŒ‡å—</h2>
<p>å®é™…è½åœ°ä¸­ï¼Œå•ä¸€å¹³å°å¾€å¾€éš¾ä»¥è¦†ç›–æ‰€æœ‰å¤æ‚åœºæ™¯ï¼ŒåŒæ—¶éœ€è§„é¿ä½ä»£ç å¹³å°çš„å¸¸è§é™·é˜±ï¼Œç¡®ä¿é¡¹ç›®é¡ºåˆ©æ¨è¿›ã€‚</p>
<h3 data-id="heading-13">è¿›é˜¶æ–¹æ¡ˆï¼šå¤šå¹³å°ååŒè½åœ°</h3>
<p>åœ¨çœŸå®çš„ä¼ä¸šçº§AIåº”ç”¨åœºæ™¯ä¸­ï¼Œé€šå¸¸ä¼šé‡‡ç”¨ç»„åˆæ¨¡å¼ï¼Œè€Œéä¾èµ–å•ä¸€å·¥å…·ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>åˆ©ç”¨ n8n å¼ºå¤§çš„è¿æ¥ä¸è‡ªåŠ¨åŒ–èƒ½åŠ›ä½œä¸ºâ€œèº¯å¹²â€å’Œâ€œæ€»è°ƒåº¦ä¸­å¿ƒâ€ï¼Œæ¥æ‰“é€šå’Œåè°ƒå†…éƒ¨å„ç³»ç»ŸæœåŠ¡ï¼›åŒæ—¶ï¼Œç»“åˆ Dify çš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç¼–æ’ä¸çŸ¥è¯†ç®¡ç†èƒ½åŠ›ä½œä¸ºâ€œå¤§è„‘â€ï¼Œä¸“é—¨å¤„ç†å¤æ‚çš„AIé€»è¾‘ã€‚</strong></p>
<p>å…·ä½“åˆ†å·¥å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong>n8n çš„èŒè´£</strong>ï¼šä¸“æ³¨äº<strong>ç³»ç»Ÿè¿æ¥ä¸è°ƒåº¦</strong>ï¼Œä»¥åŠ<strong>å·¥ä½œæµè‡ªåŠ¨åŒ–</strong>ã€‚å®ƒè´Ÿè´£ä»å„ä¸šåŠ¡ç³»ç»Ÿè·å–æ•°æ®ï¼Œå¹¶å¤„ç†å¸¦æœ‰æ¡ä»¶åˆ†æ”¯ã€å¾ªç¯ç­‰å¤æ‚é€»è¾‘çš„ä¸šåŠ¡æµç¨‹ã€‚</p>
</li>
<li>
<p><strong>Dify çš„èŒè´£</strong>ï¼šä¸“æ³¨äº<strong>LLMç¼–æ’ä¸æ¨ç†</strong>ï¼Œä»¥åŠ<strong>çŸ¥è¯†åº“ä¸RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</strong>ã€‚å®ƒè´Ÿè´£è°ƒç”¨å¤§æ¨¡å‹è¿›è¡Œæ™ºèƒ½å†³ç­–ã€å†…å®¹ç”Ÿæˆï¼Œå¹¶ç®¡ç†ä¼ä¸šçš„ä¸“å±çŸ¥è¯†ã€‚</p>
</li>
</ul>
<p>å…¸å‹çš„è°ƒç”¨é“¾è·¯æ˜¯åŒå‘çš„ï¼šæ—¢å¯ä»¥æ˜¯ Dify å‘èµ·æ€è€ƒï¼Œç”± n8n å»æ‰§è¡Œï¼ˆ<code>Dify â†’ n8n â†’ å†…éƒ¨æœåŠ¡</code>ï¼‰ï¼›ä¹Ÿå¯ä»¥æ˜¯ n8n å‡†å¤‡å¥½æ•°æ®ï¼Œäº¤ç”± Dify å¤„ç†ï¼ˆ<code>n8n â†’ Dify â†’ LLMå¤„ç†</code>ï¼‰ã€‚</p>
<p><img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/2e9c5420c4254c568caddf2c9a932b7e.png~tplv-noop.jpeg?rk3s=49177a0b&amp;x-expires=1768836499&amp;x-signature=FwB8CD2hj7RzWMDB4PPwtSrMiNQ%3D&amp;resource_key=551a0322-1372-472b-98f7-8d4ee86b96d1&amp;resource_key=551a0322-1372-472b-98f7-8d4ee86b96d1" alt="Image" loading="lazy"/></p>
<blockquote>
<p>æœ€åéœ€è¦æ˜ç¡®è¾¹ç•Œï¼šå¦‚æœä¸šåŠ¡åœºæ™¯è¿‡äºå¤æ‚ï¼Œéœ€è¦å¯¹åº•å±‚é€»è¾‘è¿›è¡Œæ·±åº¦æ§åˆ¶å’Œè°ƒä¼˜ï¼Œé‚£ä¹ˆæ­¤ç±»ä½ä»£ç å¹³å°å¯èƒ½ä¸å†é€‚ç”¨ï¼Œæ­¤æ—¶åº”ç›´æ¥ä½¿ç”¨ <strong>LangChainã€LangGraph</strong> ç­‰å¼€å‘æ¡†æ¶è¿›è¡Œç¼–ç å®ç°ã€‚</p>
</blockquote>
<h3 data-id="heading-14">é¿å‘è¦ç‚¹ä¸€ï¼šæ‹’ç»è¿‡åº¦å®šåˆ¶</h3>
<p>ä½ä»£ç å¹³å°çš„ä¸€ä¸ªæ˜¾è‘—ç‰¹ç‚¹å°±æ˜¯è¿­ä»£é€Ÿåº¦å¿«ï¼Œè¿™æ„å‘³ç€å¹³å°ä¼šä¸æ–­æ›´æ–°å’Œä¼˜åŒ–ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿç»™ä¼ä¸šçš„å®šåˆ¶åŒ–å¼€å‘å¸¦æ¥äº†æŒ‘æˆ˜ã€‚å¦‚æœä¼ä¸šå¯¹å¹³å°è¿›è¡Œè¿‡åº¦å®šåˆ¶ï¼Œå°±åƒæ˜¯ç»™ä¸€è¾†é«˜é€Ÿè¡Œé©¶çš„æ±½è½¦é¢‘ç¹æ›´æ¢é›¶ä»¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å¹³å°çš„æ–°ç‰ˆæœ¬ä¸å…¼å®¹ï¼Œéš¾ä»¥è¿›è¡Œå‡çº§ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒæŸä¼ä¸šä¸ºäº†æ»¡è¶³ç‰¹å®šçš„ä¸šåŠ¡éœ€æ±‚ï¼Œå¯¹ä½ä»£ç å¹³å°è¿›è¡Œäº†å¤§é‡çš„å®šåˆ¶åŒ–å¼€å‘ï¼Œä¿®æ”¹äº†å¹³å°çš„æ ¸å¿ƒä»£ç å’Œåº•å±‚é€»è¾‘ã€‚å½“å¹³å°å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼Œç”±äºè¿™äº›å®šåˆ¶åŒ–å†…å®¹ä¸æ–°ç‰ˆæœ¬å­˜åœ¨å†²çªï¼Œä¼ä¸šæ— æ³•ç›´æ¥è¿›è¡Œå‡çº§ï¼Œéœ€è¦æŠ•å…¥å¤§é‡çš„æ—¶é—´å’ŒäººåŠ›è¿›è¡Œé€‚é…å’Œè°ƒæ•´ã€‚è¿™ä¸ä»…å¢åŠ äº†ä¼ä¸šçš„æˆæœ¬å’Œé£é™©ï¼Œè¿˜å¯èƒ½å¯¼è‡´å¹³å°çš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§å—åˆ°å½±å“ã€‚</p>
<p>å› æ­¤ï¼Œä¼ä¸šåœ¨ä½¿ç”¨ä½ä»£ç å¹³å°æ—¶ï¼Œåº”å°½é‡é¿å…è¿‡åº¦å®šåˆ¶ï¼Œå……åˆ†åˆ©ç”¨å¹³å°æä¾›çš„æ ‡å‡†åŠŸèƒ½å’Œæ¥å£ã€‚å¦‚æœç¡®å®éœ€è¦è¿›è¡Œå®šåˆ¶åŒ–å¼€å‘ï¼Œä¹Ÿè¦è°¨æ…è¯„ä¼°éœ€æ±‚çš„å¿…è¦æ€§å’Œå¯è¡Œæ€§ï¼Œç¡®ä¿å®šåˆ¶åŒ–å†…å®¹ä¸ä¼šå¯¹å¹³å°çš„å‡çº§å’Œç»´æŠ¤é€ æˆå¤ªå¤§çš„é˜»ç¢ã€‚</p>
<h3 data-id="heading-15">é¿å‘è¦ç‚¹äºŒï¼šæ•°æ®å®‰å…¨</h3>
<p>è™½ç„¶ä½ä»£ç å¹³å°ä¸ºä¼ä¸šæä¾›äº†å¿«é€Ÿå¼€å‘åº”ç”¨çš„èƒ½åŠ›ï¼Œä½†åœ¨å°†å…¶ç”¨äºç”Ÿäº§å®é™…æ—¶ï¼Œä¼ä¸šä»éœ€è°¨æ…å¯¹å¾…ï¼Œå› ä¸ºå½“æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œå°±å¾ˆéš¾è„±ç¦»æ­¤å¹³å°ï¼Œæˆ–è€…åœ¨æ•°æ®è¿ç§»ä¸Šéœ€è¦ä¸‹å¤§åŠŸå¤«ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸€å¼€å§‹ä½¿ç”¨ Coze å¿«é€Ÿæ­å»ºäº†èŠå¤©å®¢æœï¼Œç„¶åèŠå¤©å®¢æœä¹Ÿç»‘å®šäº†ç›¸å…³çš„ä¸šåŠ¡ï¼Œä¹Ÿç»™å®¢æˆ·åˆ†é…äº† IDï¼Œåç»­ä½ æƒ³è¿ç§»åˆ°è‡ªå·±éƒ¨ç½²çš„Difyå¹³å°çš„æ—¶å€™ï¼Œéœ€è¦ä» Cozeå¯¼å‡ºæ•°æ®ã€‚</p>
<p>è¿˜æœ‰æ¯ä¸ªå¹³å°çš„ RAG éƒ½ä¸å¤ªä¸€æ ·ï¼Œå¯èƒ½åœ¨è¿™ä¸ªå¹³å°ç”¨å¾—å¥½å¥½çš„ï¼Œä½†æ˜¯è¿ç§»åˆ°å¦ä¸€ä¸ªå¹³å°çš„æ—¶å€™ï¼Œå°±å‘ç° RAG å‡ºæ¥çš„ä¸œè¥¿ä¸æ˜¯æƒ³è¦çš„ï¼ŒAI å˜å¾—å‚»å‚»çš„äº†ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ’æŸ¥ï¼Œç„¶åå†åšå¹³å°çº§çš„è°ƒæ•´ã€‚</p>
<h3 data-id="heading-16">é¿å‘è¦ç‚¹ä¸‰ï¼šå¦‚æœæœ‰æŠ€æœ¯å›¢é˜Ÿï¼Œé€‰LangChain</h3>
<p>ä¸€äº›æŠ€æœ¯äººå‘˜å¯èƒ½å¯¹ä½ä»£ç å¹³å°å­˜åœ¨é¡¾è™‘ï¼Œä¸€å®šç¨‹åº¦ä¸Šå°è£…äº†åº•å±‚æŠ€æœ¯ï¼Œä½¿å¾—æŠ€æœ¯äººå‘˜æ— æ³•ç›´æ¥è¿›è¡Œæ·±åº¦çš„ä»£ç å¼€å‘å’Œä¼˜åŒ–ã€‚è€Œä¸”ï¼Œä½ä»£ç å¹³å°çš„é»‘ç›’ç‰¹æ€§ä¹Ÿè®©ä¸€äº›è¿½æ±‚è‡ªä¸»å¯æ§çš„æŠ€æœ¯äººå‘˜æ„Ÿåˆ°éš¾å—ï¼Œä¸å¯æ§ã€‚</p>
<p>æŠ€æœ¯å›¢é˜Ÿæ™®éè¿½æ±‚è‡ªä¸»å¯æ§ï¼Œå¯¹ä½ä»£ç å¹³å°çš„â€œé»‘ç›’ç‰¹æ€§â€å­˜åœ¨é¡¾è™‘ã€‚é€‰å‹æ—¶éœ€è®©æŠ€æœ¯å›¢é˜Ÿå……åˆ†å‚ä¸è¯„ä¼°ï¼Œä¼˜å…ˆé€‰æ‹© LangChainã€‚</p>
<h2 data-id="heading-17">ç»“è¯­</h2>
<p>AI å¹³å°é€‰å‹æ²¡æœ‰ç»å¯¹çš„â€œæœ€ä¼˜è§£â€ï¼Œæ²¡æœ‰æœ€å¥½çš„å·¥å…·ï¼Œåªæœ‰æœ€åŒ¹é…ä¸šåŠ¡é˜¶æ®µçš„å·¥å…·ã€‚</p>
<p>å¯¹æŠ€æœ¯å†³ç­–è€…è€Œè¨€ï¼Œå…³é”®è¦æ˜ç¡®ä¸‰ä¸ªé—®é¢˜ï¼šæ ¸å¿ƒéœ€æ±‚æ˜¯éªŒè¯æ¦‚å¿µã€å¿«é€Ÿä¸Šçº¿ï¼Œè¿˜æ˜¯æ„å»ºé«˜å¯æ§å¤æ‚ç³»ç»Ÿï¼Ÿå›¢é˜Ÿæ›´æ“…é•¿å¯è§†åŒ–é…ç½®è¿˜æ˜¯ä»£ç å¼€å‘ï¼Ÿé¡¹ç›®é•¿æœŸæ˜¯å¦éœ€è¦è¿­ä»£æ‰©å±•ï¼Ÿæƒ³æ¸…æ¥šè¿™äº›ï¼Œé€‰å‹ç­”æ¡ˆè‡ªç„¶æ¸…æ™°ã€‚è€Œåœ¨å®é™…è½åœ°ä¸­ï¼Œâ€œç†Ÿæ‚‰çš„å·¥å…·å°±æ˜¯æœ€å¥½çš„å·¥å…·â€ï¼Œè‹¥å›¢é˜Ÿå¯¹æŸä¸€å¹³å°æœ‰æ·±åšç§¯ç´¯ï¼Œæ— éœ€å¼ºè¡Œåˆ‡æ¢ï¼Œèšç„¦ä¸šåŠ¡è½åœ°æ‰æ˜¯æ ¸å¿ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Crow é¡¹ç›® CMake ç»“æ„åˆ†æï¼šä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596890557546086446</link>    <guid>https://juejin.cn/post/7596890557546086446</guid>    <pubDate>2026-01-19T17:15:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596890557546086446" data-draft-id="7596906923892572170" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Crow é¡¹ç›® CMake ç»“æ„åˆ†æï¼šä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œï¼Ÿ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-19T17:15:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªç”±ç”Ÿé•¿2024"/> <meta itemprop="url" content="https://juejin.cn/user/1591748569862670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Crow é¡¹ç›® CMake ç»“æ„åˆ†æï¼šä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748569862670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªç”±ç”Ÿé•¿2024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T17:15:47.000Z" title="Mon Jan 19 2026 17:15:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‘˜è¦ï¼šCrow é¡¹ç›®é‡‡ç”¨ç°ä»£ CMake ç»“æ„ï¼Œæ ¹ç›®å½•å®šä¹‰äº† INTERFACE åº“ Crow::Crowã€ä¾èµ–æŸ¥æ‰¾åŠå…¨å±€å˜é‡ï¼Œexamples ä½œä¸ºå­ç›®å½•é€šè¿‡ add_subdirectory å¼•å…¥ï¼Œä¾èµ–çˆ¶ç›®å½•çš„ä¸Šä¸‹æ–‡ã€‚è‹¥ä» examples ç›®å½•ç›´æ¥æ‰§è¡Œ CMakeï¼Œå°†å› è·¯å¾„é”™è¯¯ã€ç›®æ ‡æœªå®šä¹‰ã€å˜é‡ç¼ºå¤±è€Œå¤±è´¥ã€‚æ­£ç¡®åšæ³•å§‹ç»ˆä»æ ¹ç›®å½•é…ç½®æ„å»ºã€‚</p>
<h2 data-id="heading-0">Crow é¡¹ç›® CMake ç»“æ„åˆ†æï¼šä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œ</h2>
<blockquote>
<p>cmakeé¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCrowCpp%2FCrow%2F" target="_blank" title="https://github.com/CrowCpp/Crow/" ref="nofollow noopener noreferrer">CrowCpp/Crow: A Fast and Easy to use microframework for the web.</a></p>
</blockquote>
<h3 data-id="heading-1">æ¦‚è¿°</h3>
<p>Crowé¡¹ç›®æ˜¯ä¸€ä¸ªç±»ä¼¼äºFlaskä½†æ˜¯Cppç‰ˆçš„å¾®å‹Webæ¡†æ¶ã€‚</p>
<p>æœ¬æ–‡æ¡£æ·±å…¥åˆ†æ Crow é¡¹ç›®çš„ CMake æ„å»ºç³»ç»Ÿç»“æ„ï¼Œé‡ç‚¹é˜è¿°æ ¹ç›®å½•å’Œ <code>examples</code> ç›®å½•çš„ CMakeLists.txt æ ¸å¿ƒå†…å®¹ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆä¸èƒ½ä» <code>examples</code> ç›®å½•ç›´æ¥æ‰§è¡Œ CMake é…ç½®å’Œæ„å»ºã€‚</p>
<h3 data-id="heading-2">ä¸€ã€æ ¹ç›®å½• CMakeLists.txt æ ¸å¿ƒå†…å®¹</h3>
<p>æ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> æ˜¯æ•´ä¸ª Crow é¡¹ç›®çš„æ„å»ºç³»ç»Ÿæ ¸å¿ƒï¼Œå®ƒå®šä¹‰äº†é¡¹ç›®çš„åŸºç¡€è®¾æ–½ã€åº“ç›®æ ‡ã€ä¾èµ–ç®¡ç†å’Œå­é¡¹ç›®é›†æˆã€‚</p>
<h4 data-id="heading-3">1.1 é¡¹ç›®åŸºç¡€é…ç½®</h4>
<pre><code class="hljs language-cmake" lang="cmake">cmake_minimum_required(VERSION 3.15.0 FATAL_ERROR)
project(Crow
    LANGUAGES CXX
    VERSION 1.1.1
)
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå®šä¹‰é¡¹ç›®åç§°ã€è¯­è¨€å’Œç‰ˆæœ¬</li>
<li><strong>é‡è¦æ€§</strong>ï¼šè¿™æ˜¯æ•´ä¸ª CMake æ„å»ºæ ‘çš„æ ¹ï¼Œæ‰€æœ‰å­ç›®å½•çš„ <code>CMAKE_SOURCE_DIR</code> éƒ½æŒ‡å‘è¿™é‡Œ</li>
</ul>
<h4 data-id="heading-4">1.2 CMake æ¨¡å—è·¯å¾„é…ç½®</h4>
<pre><code class="hljs language-cmake" lang="cmake"># Make sure Findasio.cmake module is found
list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake)
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå°†é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>cmake</code> å­ç›®å½•æ·»åŠ åˆ° CMake æ¨¡å—æœç´¢è·¯å¾„</li>
<li><strong>é‡è¦æ€§</strong>ï¼šä½¿å¾— CMake èƒ½å¤Ÿæ‰¾åˆ°é¡¹ç›®è‡ªå®šä¹‰çš„æ¨¡å—ï¼Œå¦‚ <code>Findasio.cmake</code> å’Œ <code>compiler_options.cmake</code></li>
<li><strong>ä¾èµ–å…³ç³»</strong>ï¼š<code>examples/CMakeLists.txt</code> ä¾èµ–è¿™ä¸ªé…ç½®æ¥æ‰¾åˆ° <code>compiler_options.cmake</code></li>
</ul>
<h4 data-id="heading-5">1.3 æ ¸å¿ƒåº“ç›®æ ‡å®šä¹‰</h4>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow INTERFACE)
add_library(Crow::Crow ALIAS Crow)

target_include_directories(Crow
    INTERFACE
        $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;
        $&lt;INSTALL_INTERFACE:include&gt;
)
</code></pre>
<p><strong>å…³é”®ç‚¹åˆ†æ</strong>ï¼š</p>
<ol>
<li>
<p><strong>INTERFACE åº“</strong>ï¼šCrow æ˜¯ä¸€ä¸ª header-only åº“ï¼Œä½¿ç”¨ <code>INTERFACE</code> åº“ç±»å‹ï¼Œè¿™æ„å‘³ç€å®ƒä¸ç¼–è¯‘ä»»ä½•æºæ–‡ä»¶ï¼Œåªæä¾›æ¥å£ï¼ˆå¤´æ–‡ä»¶è·¯å¾„ã€ç¼–è¯‘é€‰é¡¹ã€é“¾æ¥åº“ç­‰ï¼‰</p>
</li>
<li>
<p><strong>åˆ«åç›®æ ‡è¯¦è§£</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow::Crow ALIAS Crow)
</code></pre>
<p><strong>è¯­æ³•è§£æ</strong>ï¼š</p>
<ul>
<li><code>add_library()</code>ï¼šCMake å‘½ä»¤ï¼Œç”¨äºåˆ›å»ºåº“ç›®æ ‡</li>
<li><code>Crow::Crow</code>ï¼šåˆ«åç›®æ ‡çš„åç§°ï¼ˆå¸¦å‘½åç©ºé—´å‰ç¼€ï¼‰</li>
<li><code>ALIAS</code>ï¼šå…³é”®å­—ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåˆ«åï¼Œä¸æ˜¯çœŸæ­£çš„åº“</li>
<li><code>Crow</code>ï¼šè¢«åˆ«åçš„å®é™…ç›®æ ‡åç§°</li>
</ul>
<p><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼š</p>
<ul>
<li><strong>åŠ å‰ç¼€é˜²æ­¢å¼„æ··</strong>ï¼šä¸º <code>Crow</code> ç›®æ ‡æ·»åŠ  <code>Crow::</code> å‘½åç©ºé—´å‰ç¼€ï¼Œé¿å…ä¸å…¶ä»–åŒåç›®æ ‡å†²çª</li>
<li><code>Crow</code> å’Œ <code>Crow::Crow</code> æŒ‡å‘åŒä¸€ä¸ªç›®æ ‡ï¼Œå¯ä»¥äº’æ¢ä½¿ç”¨</li>
<li>ä¾‹å¦‚ï¼š<code>target_link_libraries(myapp Crow)</code> å’Œ <code>target_link_libraries(myapp Crow::Crow)</code> æ•ˆæœç›¸åŒ</li>
</ul>
<p><strong>ç®€å•ç†è§£</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow INTERFACE)           # åˆ›å»ºå®é™…ç›®æ ‡ "Crow"
add_library(Crow::Crow ALIAS Crow)    # ç»™ "Crow" åŠ ä¸ªå‰ç¼€ "Crow::"ï¼Œå˜æˆ "Crow::Crow"
</code></pre>
<p>å°±åƒç»™æ–‡ä»¶åŠ ä¸ªæ–‡ä»¶å¤¹å‰ç¼€ä¸€æ ·ï¼š</p>
<ul>
<li><code>Crow</code> â†’ <code>Crow::Crow</code>ï¼ˆåŠ ä¸ªå‘½åç©ºé—´å‰ç¼€ï¼‰</li>
<li>é˜²æ­¢å’Œå…¶ä»–å« <code>Crow</code> çš„ç›®æ ‡å¼„æ··</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡ï¼Ÿ</strong></p>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥å†™ <code>add_library(Crow::Crow INTERFACE)</code> å‘¢ï¼Ÿ</p>
<p><strong>åŸå›  1ï¼šCMake è¯­æ³•é™åˆ¶</strong></p>
<pre><code class="hljs language-cmake" lang="cmake"># âŒ ä¸æ¨èï¼šè™½ç„¶è¯­æ³•ä¸Šå¯ä»¥ï¼Œä½† CMake ä¼šæŠŠ "Crow::Crow" å½“ä½œæ™®é€šç›®æ ‡å
add_library(Crow::Crow INTERFACE)  # è¿™ä¸æ˜¯çœŸæ­£çš„å‘½åç©ºé—´ï¼Œåªæ˜¯åå­—é‡Œå¸¦ "::"

# âœ… æ¨èï¼šå…ˆåˆ›å»ºå®é™…ç›®æ ‡ï¼Œå†ç”¨ ALIAS åˆ›å»ºå‘½åç©ºé—´ç‰ˆæœ¬
add_library(Crow INTERFACE)
add_library(Crow::Crow ALIAS Crow)
</code></pre>
<p><strong>åŸå›  2ï¼šALIAS çš„é™åˆ¶</strong></p>
<p>ALIAS ç›®æ ‡æœ‰ä¸€äº›é™åˆ¶ï¼Œä¸èƒ½åšæŸäº›æ“ä½œï¼š</p>
<ul>
<li>âŒ ä¸èƒ½ä¿®æ”¹å±æ€§ï¼ˆå¦‚ <code>target_include_directories()</code>ï¼‰</li>
<li>âŒ ä¸èƒ½å®‰è£…ï¼ˆ<code>install(TARGETS ...)</code>ï¼‰</li>
<li>âŒ ä¸èƒ½å¯¼å‡ºï¼ˆ<code>install(EXPORT ...)</code>ï¼‰</li>
<li>âœ… åªèƒ½ä½œä¸ºåŸç›®æ ‡çš„å¦ä¸€ä¸ªåå­—</li>
</ul>
<p>æ‰€ä»¥å®é™…çš„åº“é…ç½®å¿…é¡»åœ¨<strong>è£¸åå­—ç›®æ ‡</strong>ä¸Šå®Œæˆï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow INTERFACE)  # âœ… å®é™…ç›®æ ‡ï¼Œå¯ä»¥é…ç½®å±æ€§
target_include_directories(Crow INTERFACE ...)  # âœ… åœ¨è£¸åå­—ç›®æ ‡ä¸Šè®¾ç½®
target_link_libraries(Crow INTERFACE ...)       # âœ… åœ¨è£¸åå­—ç›®æ ‡ä¸Šè®¾ç½®

add_library(Crow::Crow ALIAS Crow)  # âœ… åªæ˜¯åˆ«åï¼ŒæŒ‡å‘ä¸Šé¢çš„ Crow
</code></pre>
<p><strong>é‡è¦æ¾„æ¸…ï¼šCMake ä¸ä¼š"éšè—"åŸç›®æ ‡</strong></p>
<p><strong>å¦‚æœé…ç½®æ“ä½œåªèƒ½åœ¨è£¸åå­—ä¸Šå®Œæˆï¼Œé‚£ä¸ä¼šæš´éœ²è£¸åå­—å—ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆï¼šæ˜¯çš„ï¼Œä¼šæš´éœ²ï¼ä½†è¿™æ˜¯ CMake çš„è®¾è®¡ï¼Œä¸æ˜¯ bugã€‚</strong></p>
<p><strong>å®é™…æƒ…å†µ</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># åº“æä¾›è€…ï¼ˆCrow é¡¹ç›®ï¼‰
add_library(Crow INTERFACE)                    # è£¸åå­—ç›®æ ‡
target_include_directories(Crow INTERFACE include/)  # åœ¨è£¸åå­—ä¸Šé…ç½®
add_library(Crow::Crow ALIAS Crow)            # åˆ›å»ºåˆ«å

# åº“ä½¿ç”¨è€…ï¼ˆä½ çš„é¡¹ç›®ï¼‰
target_link_libraries(myapp Crow)        # âœ… æŠ€æœ¯ä¸Šå¯ä»¥ï¼Œä½†ä¸æ¨è
target_link_libraries(myapp Crow::Crow)  # âœ… æ¨èä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ol>
<li>
<p><strong>CMake ä¸ä¼šéšè—åŸç›®æ ‡</strong>ï¼š</p>
<ul>
<li><code>Crow</code> å’Œ <code>Crow::Crow</code> <strong>åŒæ—¶å­˜åœ¨</strong>ï¼Œéƒ½å¯ä»¥ä½¿ç”¨</li>
<li>è¿™ä¸æ˜¯"éšè—"ï¼Œè€Œæ˜¯"æä¾›ä¸¤ä¸ªåå­—"</li>
<li>ç”¨æˆ·æŠ€æœ¯ä¸Šå¯ä»¥ä½¿ç”¨ <code>Crow</code>ï¼Œä½†æœ€ä½³å®è·µæ˜¯ä½¿ç”¨ <code>Crow::Crow</code></li>
</ul>
</li>
<li>
<p><strong>è¿™æ˜¯å‘½åçº¦å®šï¼Œä¸æ˜¯çœŸæ­£çš„å°è£…</strong>ï¼š</p>
<ul>
<li>CMake æ²¡æœ‰çœŸæ­£çš„"ç§æœ‰"ç›®æ ‡æ¦‚å¿µ</li>
<li>å‘½åç©ºé—´æ˜¯<strong>çº¦å®š</strong>ï¼Œä¸æ˜¯<strong>å¼ºåˆ¶</strong></li>
<li>å°±åƒ C++ çš„å‘½åç©ºé—´ä¸€æ ·ï¼ŒæŠ€æœ¯ä¸Šå¯ä»¥ç»•è¿‡ï¼Œä½†éµå¾ªçº¦å®šæ›´å¥½</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<p><strong>çµæ´»æ€§</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># é¡¹ç›®å†…éƒ¨å¯ä»¥ä½¿ç”¨è£¸åå­—ï¼ˆæ›´ç®€æ´ï¼‰
target_link_libraries(internal_lib Crow)  # âœ… å†…éƒ¨ä½¿ç”¨ï¼Œæ›´ç®€æ´

# å¯¹å¤–æ¥å£ä½¿ç”¨å‘½åç©ºé—´ï¼ˆæ›´è§„èŒƒï¼‰
target_link_libraries(public_api Crow::Crow)  # âœ… å…¬å…±æ¥å£ï¼Œæ›´æ¸…æ™°
</code></pre>
<p><strong>å‘åå…¼å®¹</strong>ï¼š</p>
<ul>
<li>å¦‚æœå®Œå…¨éšè—è£¸åå­—ï¼Œä¼šç ´åæ—§ä»£ç </li>
<li>å…è®¸ä¸¤ç§æ–¹å¼ï¼Œä¿æŒå…¼å®¹æ€§</li>
</ul>
<p><strong>å®é™…éœ€æ±‚</strong>ï¼š</p>
<ul>
<li>æœ‰äº›æ“ä½œï¼ˆå¦‚é…ç½®å±æ€§ï¼‰å¿…é¡»åœ¨è£¸åå­—ä¸Šå®Œæˆ</li>
<li>å¦‚æœå®Œå…¨éšè—ï¼Œè¿™äº›æ“ä½œå°±æ— æ³•è¿›è¡Œ</li>
</ul>
</li>
</ol>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<p>æŸ¥çœ‹ Crow é¡¹ç›®çš„å®é™…ä»£ç ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
add_library(Crow INTERFACE)  # è£¸åå­—ï¼Œç”¨äºé…ç½®
target_include_directories(Crow INTERFACE ...)  # åœ¨è£¸åå­—ä¸Šé…ç½®
target_link_libraries(Crow INTERFACE asio::asio)  # åœ¨è£¸åå­—ä¸Šé…ç½®

add_library(Crow::Crow ALIAS Crow)  # åˆ›å»ºåˆ«åï¼Œæä¾›å‘½åç©ºé—´ç‰ˆæœ¬
</code></pre>
<p>åœ¨ <code>examples/CMakeLists.txt</code> ä¸­ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ‰€æœ‰ç¤ºä¾‹éƒ½ä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬ï¼ˆæœ€ä½³å®è·µï¼‰
target_link_libraries(basic_example PUBLIC Crow::Crow)  # âœ… æ¨è

# æŠ€æœ¯ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨è£¸åå­—ï¼ˆä½†ä¸æ¨èï¼‰
# target_link_libraries(basic_example PUBLIC Crow)  # âš ï¸ ä¸æ¨èï¼Œä½†å¯ä»¥å·¥ä½œ
</code></pre>
<p><strong>å¯¹æ¯”å…¶ä»–è¯­è¨€</strong>ï¼š</p>
<p>è¿™å°±åƒ C++ çš„å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">namespace</span> crow {
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> { ... };
}

<span class="hljs-comment">// å¯ä»¥ä½¿ç”¨å®Œæ•´å‘½åç©ºé—´</span>
crow::App app;  <span class="hljs-comment">// âœ… æ¨è</span>

<span class="hljs-comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨ using å£°æ˜</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> crow;
App app;  <span class="hljs-comment">// âš ï¸ æŠ€æœ¯ä¸Šå¯ä»¥ï¼Œä½†ä¸æ¨èï¼ˆå¯èƒ½å†²çªï¼‰</span>
</code></pre>
<p>CMake çš„å‘½åç©ºé—´ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼š</p>
<ul>
<li>æ¨èä½¿ç”¨ <code>Crow::Crow</code>ï¼ˆæ¸…æ™°ã€ä¸å†²çªï¼‰</li>
<li>æŠ€æœ¯ä¸Šå¯ä»¥ä½¿ç”¨ <code>Crow</code>ï¼ˆç®€æ´ï¼Œä½†å¯èƒ½å†²çªï¼‰</li>
<li>è¿™æ˜¯çº¦å®šï¼Œä¸æ˜¯å¼ºåˆ¶</li>
</ul>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li><strong>åº“æä¾›è€…</strong>ï¼š
<ul>
<li>åˆ›å»ºè£¸åå­—ç›®æ ‡ç”¨äºé…ç½®</li>
<li>åˆ›å»ºå‘½åç©ºé—´åˆ«åç”¨äºå¯¹å¤–æ¥å£</li>
<li>æ–‡æ¡£ä¸­æ¨èä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬</li>
</ul>
</li>
<li><strong>åº“ä½¿ç”¨è€…</strong>ï¼š
<ul>
<li>æ€»æ˜¯ä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬ï¼ˆ<code>Crow::Crow</code>ï¼‰</li>
<li>é¿å…ä½¿ç”¨è£¸åå­—ï¼ˆ<code>Crow</code>ï¼‰ï¼Œé™¤éç¡®å®šä¸ä¼šå†²çª</li>
</ul>
</li>
</ol>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>âœ… <strong>ä¼šæš´éœ²</strong>ï¼šè£¸åå­—ç›®æ ‡ä»ç„¶å¯ç”¨</li>
<li>âœ… <strong>è¿™æ˜¯è®¾è®¡</strong>ï¼šCMake ä¸éšè—åŸç›®æ ‡ï¼Œæä¾›çµæ´»æ€§</li>
<li>âœ… <strong>è¿™æ˜¯çº¦å®š</strong>ï¼šå‘½åç©ºé—´æ˜¯çº¦å®šï¼Œä¸æ˜¯å¼ºåˆ¶å°è£…</li>
<li>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼šä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬ï¼Œé¿å…å†²çª</li>
<li>âš ï¸ <strong>æ³¨æ„</strong>ï¼šæŠ€æœ¯ä¸Šå¯ä»¥ä½¿ç”¨è£¸åå­—ï¼Œä½†éµå¾ªçº¦å®šæ›´å¥½</li>
</ul>
<p><strong>åŸå›  3ï¼šè®¾è®¡æ¸…æ™°æ€§</strong></p>
<p>åˆ†ç¦»å®é™…ç›®æ ‡å’Œåˆ«åï¼ŒèŒè´£æ›´æ¸…æ™°ï¼š</p>
<ul>
<li><strong>è£¸åå­—ç›®æ ‡</strong>ï¼ˆ<code>Crow</code>ï¼‰ï¼šè´Ÿè´£å®é™…çš„åº“é…ç½®å’Œå±æ€§è®¾ç½®</li>
<li><strong>å‘½åç©ºé—´åˆ«å</strong>ï¼ˆ<code>Crow::Crow</code>ï¼‰ï¼šè´Ÿè´£æä¾›ç»Ÿä¸€çš„å…¬å…±æ¥å£</li>
</ul>
<p><strong>åŸå›  4ï¼šå…¼å®¹æ€§å’Œçµæ´»æ€§</strong></p>
<p>è¿™ç§æ–¹å¼å¯ä»¥åŒæ—¶æ”¯æŒä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># é¡¹ç›®å†…éƒ¨å¯ä»¥ä½¿ç”¨è£¸åå­—ï¼ˆæ›´ç®€æ´ï¼‰
target_link_libraries(internal_lib Crow)  # âœ… å†…éƒ¨ä½¿ç”¨

# å¯¹å¤–æä¾›å‘½åç©ºé—´ç‰ˆæœ¬ï¼ˆæ›´è§„èŒƒï¼‰
target_link_libraries(public_api Crow::Crow)  # âœ… å…¬å…±æ¥å£
</code></pre>
<p><strong>å®é™…ä¾‹å­å¯¹æ¯”</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># âŒ é”™è¯¯æ–¹å¼ï¼šç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡
add_library(Crow::Crow INTERFACE)  # âš ï¸ CMake æ”¿ç­– CMP0037 ä¸å…è®¸
target_include_directories(Crow::Crow INTERFACE include/)  # âš ï¸ å¯èƒ½æŠ¥é”™æˆ–è­¦å‘Š

# âœ… æ­£ç¡®æ–¹å¼ï¼šå…ˆåˆ›å»ºè£¸åå­—ï¼Œå†åˆ›å»ºåˆ«å
add_library(Crow INTERFACE)
target_include_directories(Crow INTERFACE include/)  # âœ… åœ¨è£¸åå­—ä¸Šé…ç½®
add_library(Crow::Crow ALIAS Crow)  # âœ… åˆ›å»ºå‘½åç©ºé—´åˆ«å
</code></pre>
<p><strong>å…·ä½“é—®é¢˜è¯´æ˜</strong>ï¼š</p>
<ol>
<li><strong>CMake æ”¿ç­–é™åˆ¶ï¼ˆCMP0037ï¼‰</strong>ï¼š
<ul>
<li>CMake è§„å®šï¼šå¸¦ <code>::</code> çš„ç›®æ ‡å<strong>åªèƒ½ç”¨äº ALIAS æˆ– IMPORTED ç›®æ ‡</strong></li>
<li>æ™®é€šç›®æ ‡ï¼ˆå¦‚ <code>add_library(Crow::Crow INTERFACE)</code>ï¼‰ä¸èƒ½ç›´æ¥ä½¿ç”¨å¸¦ <code>::</code> çš„åå­—</li>
<li>å¦‚æœå¼ºåˆ¶ä½¿ç”¨ï¼ŒCMake å¯èƒ½ä¼šï¼š
<ul>
<li>æŠ¥é”™ï¼š<code>Target names may not contain a "::" unless it is an ALIAS or IMPORTED target</code></li>
<li>æˆ–è€…å‘å‡ºè­¦å‘Šï¼Œå–å†³äº CMake ç‰ˆæœ¬å’Œæ”¿ç­–è®¾ç½®</li>
</ul>
</li>
</ul>
</li>
<li><strong>è¡Œä¸ºä¸ç¡®å®š</strong>ï¼š
<ul>
<li>å³ä½¿æŸäº› CMake ç‰ˆæœ¬å…è®¸ï¼Œè¿™ç§è¡Œä¸ºä¹Ÿæ˜¯æœªå®šä¹‰çš„</li>
<li>å¯èƒ½å¯¼è‡´åç»­é…ç½®ã€å®‰è£…ã€å¯¼å‡ºæ—¶å‡ºç°é—®é¢˜</li>
<li>ä¸åŒ CMake ç‰ˆæœ¬å¯èƒ½æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼</li>
</ul>
</li>
<li><strong>ä¸ç¬¦åˆæœ€ä½³å®è·µ</strong>ï¼š
<ul>
<li>ç°ä»£ CMake æ˜ç¡®è¦æ±‚ï¼šæ™®é€šç›®æ ‡ç”¨è£¸åå­—ï¼Œå‘½åç©ºé—´ç”¨ ALIAS</li>
<li>è¿åè¿™ä¸ªçº¦å®šå¯èƒ½å¯¼è‡´å·¥å…·é“¾ã€IDE æ”¯æŒä¸ä½³</li>
</ul>
</li>
</ol>
<p><strong>å®é™…æµ‹è¯•</strong>ï¼š</p>
<p>å¦‚æœä½ å°è¯•ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡ï¼ŒCMake é€šå¸¸ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">CMake <span class="hljs-keyword">Error</span>: Target names may <span class="hljs-built_in">not</span> contain a <span class="hljs-string">"::"</span> unless it <span class="hljs-built_in">is</span> an <span class="hljs-keyword">ALIAS</span> <span class="hljs-built_in">or</span> IMPORTED target.
</code></pre>
<p>æˆ–è€…åœ¨æŸäº›ç‰ˆæœ¬ä¸­ä¼šè­¦å‘Šï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">CMake</span> <span class="hljs-type">Warning</span>: <span class="hljs-type">Target</span> <span class="hljs-string">"Crow::Crow"</span> contains <span class="hljs-string">"::"</span> but <span class="hljs-keyword">is</span> not an <span class="hljs-type">ALIAS</span> or <span class="hljs-type">IMPORTED</span> target.
</code></pre>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>å¿…é¡»å…ˆç”¨è£¸åå­—åˆ›å»ºå®é™…ç›®æ ‡ï¼ˆå› ä¸ºè¦é…ç½®å±æ€§ï¼‰</li>
<li>ç„¶åç”¨ ALIAS åˆ›å»ºå‘½åç©ºé—´ç‰ˆæœ¬ï¼ˆæä¾›ç»Ÿä¸€æ¥å£ï¼‰</li>
<li>è¿™æ˜¯ CMake çš„è®¾è®¡ï¼Œä¹Ÿæ˜¯æœ€ä½³å®è·µ</li>
</ul>
<p><strong>å†å²åŸå› å’Œè®¾è®¡è€ƒé‡</strong>ï¼š</p>
<p>ä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡å‘¢ï¼Ÿ<strong>å¦‚æœå¯ä»¥ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡ï¼Œç¡®å®ä¼šæ›´æ¸…æ™°</strong>ï¼</p>
<pre><code class="hljs language-cmake" lang="cmake"># ç†æƒ³æƒ…å†µï¼ˆå¦‚æœ CMake æ”¯æŒï¼‰
add_library(Crow::Crow INTERFACE)  # ç›´æ¥åˆ›å»ºï¼Œä¸€æ­¥åˆ°ä½ï¼Œå¤šæ¸…æ™°ï¼
target_include_directories(Crow::Crow INTERFACE include/)
</code></pre>
<p>ä½†ç°å®æ˜¯ï¼ŒCMake çš„å†å²è®¾è®¡å¯¼è‡´äº†è¿™ç§"ä¸¤æ­¥èµ°"çš„æ–¹å¼ï¼š</p>
<p><strong>ä¸ºä»€ä¹ˆ CMake è¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<ol>
<li><strong>å†å²æ¼”è¿›</strong>ï¼š
<ul>
<li>CMake æ—©æœŸï¼ˆ2.x æ—¶ä»£ï¼‰æ²¡æœ‰å‘½åç©ºé—´æ¦‚å¿µ</li>
<li>ç›®æ ‡åå°±æ˜¯ç®€å•çš„å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰ <code>::</code> çš„ç‰¹æ®Šå«ä¹‰</li>
<li>åæ¥å¼•å…¥å‘½åç©ºé—´æ—¶ï¼Œä¸ºäº†å‘åå…¼å®¹ï¼Œé‡‡ç”¨äº† ALIAS æœºåˆ¶</li>
</ul>
</li>
<li><strong>æŠ€æœ¯é™åˆ¶</strong>ï¼š
<ul>
<li>CMake çš„ç›®æ ‡ç³»ç»Ÿå»ºç«‹åœ¨å¯¹ç›®æ ‡åçš„å­—ç¬¦ä¸²åŒ¹é…ä¸Š</li>
<li>å¸¦ <code>::</code> çš„åå­—éœ€è¦ç‰¹æ®Šå¤„ç†ï¼ŒåŒºåˆ†"æ™®é€šç›®æ ‡"å’Œ"å‘½åç©ºé—´ç›®æ ‡"</li>
<li>ä¸ºäº†ä¿æŒç³»ç»Ÿä¸€è‡´æ€§ï¼Œé™åˆ¶æ™®é€šç›®æ ‡ä¸èƒ½ç›´æ¥ç”¨ <code>::</code></li>
</ul>
</li>
<li><strong>å‘åå…¼å®¹æ€§</strong>ï¼š
<ul>
<li>å¦‚æœå…è®¸æ™®é€šç›®æ ‡ç”¨ <code>::</code>ï¼Œä¼šç ´åå¤§é‡ç°æœ‰é¡¹ç›®</li>
<li>éœ€è¦åŒºåˆ†"æ—§å¼ç›®æ ‡"å’Œ"æ–°å¼å‘½åç©ºé—´ç›®æ ‡"</li>
<li>ALIAS æœºåˆ¶æä¾›äº†ä¸€ä¸ªå¹³æ»‘çš„è¿‡æ¸¡æ–¹æ¡ˆ</li>
</ul>
</li>
</ol>
<p><strong>å¦‚æœé‡æ–°è®¾è®¡ä¼šæ€æ ·ï¼Ÿ</strong></p>
<p>ç†è®ºä¸Šï¼Œå¦‚æœ CMake é‡æ–°è®¾è®¡ï¼Œå¯èƒ½ä¼šè¿™æ ·ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ç†æƒ³è®¾è®¡ï¼ˆå‡è®¾ï¼‰
add_library(Crow::Crow INTERFACE)  # ç›´æ¥åˆ›å»ºå‘½åç©ºé—´ç›®æ ‡
target_include_directories(Crow::Crow INTERFACE include/)
# ä¸éœ€è¦ ALIASï¼Œä¸€æ­¥åˆ°ä½
</code></pre>
<p>è¿™æ ·ç¡®å®æ›´æ¸…æ™°ï¼Œä½†ç°å®æ˜¯ï¼š</p>
<ul>
<li>CMake å·²ç»æ˜¯ä¸€ä¸ªæˆç†Ÿã€å¹¿æ³›ä½¿ç”¨çš„æ„å»ºç³»ç»Ÿ</li>
<li>æ”¹å˜è¿™ä¸ªè®¾è®¡ä¼šç ´åå¤§é‡ç°æœ‰é¡¹ç›®</li>
<li>æ‰€ä»¥åªèƒ½é€šè¿‡ ALIAS æœºåˆ¶æ¥"æ¨¡æ‹Ÿ"å‘½åç©ºé—´</li>
</ul>
<p><strong>ç±»æ¯”ç†è§£</strong>ï¼š</p>
<p>è¿™å°±åƒç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€äº›"å†å²åŒ…è¢±"ï¼š</p>
<ul>
<li>C++ çš„ <code>std::string</code> vs <code>string</code>ï¼ˆéœ€è¦ <code>using namespace std</code>ï¼‰</li>
<li>JavaScript çš„ <code>var</code> vs <code>let/const</code>ï¼ˆå†å²åŸå› å¯¼è‡´å¤šç§å£°æ˜æ–¹å¼ï¼‰</li>
<li>Python 2 vs Python 3ï¼ˆä¸ºäº†æ”¹è¿›ï¼Œä½†éœ€è¦å…¼å®¹æ€§è€ƒè™‘ï¼‰</li>
</ul>
<p><strong>å®é™…å½±å“</strong>ï¼š</p>
<p>è™½ç„¶è®¾è®¡ä¸Šä¸å¤Ÿç†æƒ³ï¼Œä½†å®é™…ä½¿ç”¨ä¸­ï¼š</p>
<ul>
<li>âœ… ä¸¤è¡Œä»£ç å°±èƒ½è§£å†³ï¼ˆ<code>add_library</code> + <code>add_library ALIAS</code>ï¼‰</li>
<li>âœ… å·²ç»æˆä¸ºæ ‡å‡†åšæ³•ï¼Œæ‰€æœ‰ç°ä»£ CMake é¡¹ç›®éƒ½è¿™æ ·ç”¨</li>
<li>âœ… å·¥å…·é“¾ã€IDE éƒ½å¾ˆå¥½åœ°æ”¯æŒè¿™ç§æ¨¡å¼</li>
<li>âš ï¸ ç¡®å®æœ‰ç‚¹"ç»•"ï¼Œä½†è¿™æ˜¯å†å²åŸå› ï¼Œä¸æ˜¯è®¾è®¡ç¼ºé™·</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼š</p>
<p><strong>ç›´æ¥åˆ›å»ºå¸¦å‘½åç©ºé—´çš„ç›®æ ‡ç¡®å®æ›´æ¸…æ™°</strong>ã€‚ä½† CMake çš„å†å²è®¾è®¡å¯¼è‡´å¿…é¡»ç”¨"è£¸åå­— + ALIAS"çš„æ–¹å¼ã€‚è¿™æ˜¯æŠ€æœ¯å€ºåŠ¡ï¼Œä½†å·²ç»æˆä¸ºäº†äº‹å®æ ‡å‡†ã€‚ä½œä¸ºä½¿ç”¨è€…ï¼Œæˆ‘ä»¬åªèƒ½éµå¾ªè¿™ä¸ªçº¦å®šï¼Œè™½ç„¶å®ƒç¡®å®ä¸å¤Ÿä¼˜é›…ã€‚</p>
<p><strong>å¦‚æœä¸¤ä¸ªè£¸åå­—éƒ½å« <code>Crow</code>ï¼Œä¼šå†²çªå—ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼ç­”æ¡ˆæ˜¯ï¼š<strong>ä¼šå†²çªï¼ŒCMake ä¼šæŠ¥é”™</strong>ã€‚</p>
<p><strong>å†²çªåœºæ™¯ 1ï¼šåŒä¸€ä¸ªé¡¹ç›®ä¸­åˆ›å»ºä¸¤ä¸ªåŒåç›®æ ‡</strong></p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
add_library(Crow INTERFACE)  # ç¬¬ä¸€ä¸ª Crow
add_library(Crow STATIC crow.cpp)  # âŒ ç¬¬äºŒä¸ª Crowï¼Œä¼šæŠ¥é”™ï¼
</code></pre>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">CMake</span> <span class="hljs-title class_">Error</span>: add_library cannot create target <span class="hljs-string">"Crow"</span> because another
target <span class="hljs-keyword">with</span> the same name already exists.
</code></pre>
<p><strong>å†²çªåœºæ™¯ 2ï¼šé€šè¿‡ add_subdirectory å¼•å…¥åŒåç›®æ ‡</strong></p>
<pre><code class="hljs language-cmake" lang="cmake"># ä¸»é¡¹ç›® CMakeLists.txt
add_library(Crow INTERFACE)
add_subdirectory(third_party/Crow)  # å­é¡¹ç›®ä¹Ÿåˆ›å»ºäº† Crow
</code></pre>
<p>å¦‚æœå­é¡¹ç›®çš„ <code>CMakeLists.txt</code> ä¹Ÿåˆ›å»ºäº† <code>Crow</code> ç›®æ ‡ï¼Œä¼šå†²çªï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">CMake</span> <span class="hljs-title class_">Error</span>: add_library cannot create target <span class="hljs-string">"Crow"</span> because another
target <span class="hljs-keyword">with</span> the same name already exists.
</code></pre>
<p><strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦å‘½åç©ºé—´ï¼</strong></p>
<p>ä½¿ç”¨å‘½åç©ºé—´å¯ä»¥é¿å…å†²çªï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä¸»é¡¹ç›®
add_library(MyCrow INTERFACE)
add_library(MyCrow::MyCrow ALIAS MyCrow)

# å­é¡¹ç›®ï¼ˆç¬¬ä¸‰æ–¹ Crowï¼‰
add_subdirectory(third_party/Crow)  # å†…éƒ¨åˆ›å»º Crow å’Œåˆ«åCrow::Crow

# ç°åœ¨å¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œä¸ä¼šå†²çªï¼
target_link_libraries(myapp 
    MyCrow::MyCrow    # âœ… ä¸»é¡¹ç›®çš„ Crow
    Crow::Crow        # âœ… ç¬¬ä¸‰æ–¹ Crow
)
</code></pre>
<p><strong>å‘½åç©ºé—´å¦‚ä½•é¿å…å†²çªï¼Ÿ</strong></p>
<p>å‘½åç©ºé—´å‰ç¼€è®©ç›®æ ‡åå˜å¾—å”¯ä¸€ï¼š</p>



































<table><thead><tr><th>åœºæ™¯</th><th>è£¸åå­—</th><th>å‘½åç©ºé—´ç‰ˆæœ¬</th><th>æ˜¯å¦å†²çªï¼Ÿ</th></tr></thead><tbody><tr><td>åŒä¸€ä¸ªé¡¹ç›®</td><td><code>Crow</code></td><td><code>Crow::Crow</code></td><td>âœ… ä¸å†²çªï¼ˆä¸åŒåå­—ï¼‰</td></tr><tr><td>ä¸åŒé¡¹ç›®</td><td><code>Crow</code></td><td><code>Crow::Crow</code></td><td>âœ… ä¸å†²çªï¼ˆä¸åŒåå­—ï¼‰</td></tr><tr><td>ä¸¤ä¸ª <code>Crow</code></td><td><code>Crow</code> vs <code>Crow</code></td><td>-</td><td>âŒ å†²çªï¼</td></tr><tr><td>ä¸¤ä¸ªå‘½åç©ºé—´</td><td><code>Crow::Crow</code> vs <code>MyCrow::Crow</code></td><td>-</td><td>âœ… ä¸å†²çªï¼ˆä¸åŒåå­—ï¼‰</td></tr></tbody></table>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<p>å‡è®¾ä½ çš„é¡¹ç›®åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªå­ç›®å½•çš„åº“ï¼Œå®ƒä»¬å†…éƒ¨éƒ½åˆ›å»ºäº† <code>Crow</code> ç›®æ ‡ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä½ çš„é¡¹ç›®
add_subdirectory(libA)  # libA å†…éƒ¨ï¼šadd_library(Crow INTERFACE)
add_subdirectory(libB)  # libB å†…éƒ¨ï¼šadd_library(Crow INTERFACE)
# âŒ å†²çªï¼ä¸¤ä¸ª Crow ç›®æ ‡
</code></pre>
<p>ä½†å¦‚æœå®ƒä»¬éƒ½ä½¿ç”¨å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä½ çš„é¡¹ç›®
add_subdirectory(libA)  # libA: add_library(Crow INTERFACE)
                        #      add_library(LibA::Crow ALIAS Crow)
add_subdirectory(libB)  # libB: add_library(Crow INTERFACE)
                        #      add_library(LibB::Crow ALIAS Crow)

# âœ… ä¸å†²çªï¼å› ä¸ºå‘½åç©ºé—´ä¸åŒ
target_link_libraries(myapp
    LibA::Crow   # âœ… æ¥è‡ª libA
    LibB::Crow   # âœ… æ¥è‡ª libB
)
</code></pre>
<p>è™½ç„¶å†…éƒ¨éƒ½æœ‰ <code>Crow</code> è£¸åå­—ç›®æ ‡ï¼Œä½†ï¼š</p>
<ul>
<li>å®ƒä»¬åœ¨ä¸åŒçš„ä½œç”¨åŸŸä¸­ï¼ˆä¸åŒçš„ <code>add_subdirectory</code>ï¼Œåœ¨å„è‡ªç›®å½•ä¸‹æ˜¯å”¯ä¸€çš„ï¼‰</li>
<li>é€šè¿‡å‘½åç©ºé—´åˆ«å <code>LibA::Crow</code> å’Œ <code>LibB::Crow</code> åŒºåˆ†</li>
<li>ä¸ä¼šå†²çª</li>
</ul>
<p><strong>ä½œç”¨åŸŸè§„åˆ™</strong>ï¼š</p>
<p>CMake çš„ç›®æ ‡ä½œç”¨åŸŸï¼š</p>
<ul>
<li>åœ¨åŒä¸€ä¸ª <code>add_subdirectory</code> ä½œç”¨åŸŸå†…ï¼Œç›®æ ‡åå¿…é¡»å”¯ä¸€</li>
<li>ä¸åŒä½œç”¨åŸŸå¯ä»¥æœ‰åŒåç›®æ ‡ï¼ˆä½†é€šè¿‡å‘½åç©ºé—´åŒºåˆ†æ›´æ¸…æ™°ï¼‰</li>
<li>å…¨å±€ä½œç”¨åŸŸï¼ˆæ ¹ CMakeLists.txtï¼‰çš„ç›®æ ‡åœ¨æ•´ä¸ªé¡¹ç›®å¯è§</li>
</ul>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ€»æ˜¯ä½¿ç”¨å‘½åç©ºé—´åˆ«å</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">add_library(Crow INTERFACE)
add_library(Crow::Crow ALIAS Crow)  # âœ… æä¾›å‘½åç©ºé—´ç‰ˆæœ¬
</code></pre>
</li>
<li>
<p><strong>å¯¹å¤–æ¥å£ä½¿ç”¨å‘½åç©ºé—´</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># å¯¹å¤–æä¾›å‘½åç©ºé—´ç‰ˆæœ¬
target_link_libraries(public_api Crow::Crow)  # âœ… æ¸…æ™°ã€ä¸å†²çª
</code></pre>
</li>
<li>
<p><strong>å†…éƒ¨å¯ä»¥ä½¿ç”¨è£¸åå­—</strong>ï¼ˆå¦‚æœç¡®å®šä¸ä¼šå†²çªï¼‰ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># å†…éƒ¨ä½¿ç”¨ï¼ˆå¦‚æœç¡®å®šå”¯ä¸€ï¼‰
target_link_libraries(internal_lib Crow)  # âš ï¸ è°¨æ…ä½¿ç”¨
</code></pre>
</li>
</ol>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>âœ… <strong>ä¼šå†²çª</strong>ï¼šåŒä¸€ä¸ªä½œç”¨åŸŸå†…ä¸¤ä¸ªåŒåè£¸åå­—ç›®æ ‡ä¼šå†²çª</li>
<li>âœ… <strong>å‘½åç©ºé—´é¿å…å†²çª</strong>ï¼š<code>Crow::Crow</code> å’Œ <code>MyCrow::Crow</code> æ˜¯ä¸åŒçš„åå­—ï¼Œä¸å†²çª</li>
<li>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼šæ€»æ˜¯åˆ›å»ºå‘½åç©ºé—´åˆ«åï¼Œå¯¹å¤–ä½¿ç”¨å‘½åç©ºé—´ç‰ˆæœ¬</li>
<li>âš ï¸ <strong>æ³¨æ„</strong>ï¼šå³ä½¿åœ¨ä¸åŒä½œç”¨åŸŸï¼Œä½¿ç”¨å‘½åç©ºé—´ä¹Ÿæ›´æ¸…æ™°ã€æ›´å®‰å…¨</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>Crow::Crow</code> å‘½åç©ºé—´æ ¼å¼ï¼Ÿ</strong></p>
<p>a. <strong>CMake æœ€ä½³å®è·µ</strong>ï¼š</p>
<ul>
<li>ç°ä»£ CMake æ¨èä½¿ç”¨ <code>å‘½åç©ºé—´::ç›®æ ‡å</code> çš„æ ¼å¼</li>
<li>è¿™æ˜¯ CMake 3.x å¼•å…¥çš„å‘½åç©ºé—´çº¦å®š</li>
<li>è®¸å¤šç¬¬ä¸‰æ–¹åº“éƒ½éµå¾ªè¿™ä¸ªçº¦å®šï¼ˆå¦‚ <code>asio::asio</code>ã€<code>OpenSSL::SSL</code>ã€<code>Boost::system</code>ï¼‰</li>
</ul>
<p>b. <strong>å®‰è£…å…¼å®¹æ€§</strong>ï¼š</p>
<ul>
<li>å½“é¡¹ç›®å®‰è£…åï¼Œé€šè¿‡ <code>find_package(Crow)</code> å¯¼å…¥æ—¶ï¼Œé€šå¸¸ä¼šæä¾›å‘½åç©ºé—´ç›®æ ‡</li>
<li>ä½¿ç”¨å‘½åç©ºé—´æ ¼å¼å¯ä»¥ä¿æŒæ„å»ºæ—¶å’Œå®‰è£…åçš„ä¸€è‡´æ€§</li>
<li>ç”¨æˆ·ä»£ç å¯ä»¥ç»Ÿä¸€ä½¿ç”¨ <code>Crow::Crow</code>ï¼Œæ— éœ€åŒºåˆ†æ˜¯æ„å»ºæ—¶è¿˜æ˜¯å®‰è£…å</li>
</ul>
<p>c. <strong>é¿å…åç§°å†²çª</strong>ï¼š</p>
<ul>
<li>å‘½åç©ºé—´å¯ä»¥é¿å…ä¸å…¶ä»–é¡¹ç›®çš„ç›®æ ‡åç§°å†²çª</li>
<li>ä¾‹å¦‚ï¼Œå¦‚æœæœ‰å¦ä¸€ä¸ªåº“ä¹Ÿå« <code>Crow</code>ï¼Œä½¿ç”¨ <code>Crow::Crow</code> å¯ä»¥æ˜ç¡®åŒºåˆ†</li>
</ul>
<p>d. <strong>ä»£ç å¯è¯»æ€§</strong>ï¼š</p>
<ul>
<li><code>Crow::Crow</code> æ˜ç¡®è¡¨ç¤ºè¿™æ˜¯ Crow é¡¹ç›®çš„ Crow åº“</li>
<li>æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
<p><strong>å®é™…ä½¿ç”¨ç¤ºä¾‹å’Œå¥½å¤„å¯¹æ¯”</strong>ï¼š</p>
<p><strong>ç¤ºä¾‹ 1ï¼šä»£ç ä¸€è‡´æ€§ - æ„å»ºæ—¶ vs å®‰è£…å</strong></p>
<p>åœºæ™¯ï¼šä½ çš„é¡¹ç›®å¯èƒ½æœ‰ä¸¤ç§ä½¿ç”¨ Crow çš„æ–¹å¼</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ–¹å¼ Aï¼šä½œä¸ºå­é¡¹ç›®ï¼ˆæ„å»ºæ—¶ï¼‰
add_subdirectory(third_party/Crow)
target_link_libraries(myapp Crow::Crow)  # âœ… ä½¿ç”¨å‘½åç©ºé—´

# æ–¹å¼ Bï¼šé€šè¿‡ find_packageï¼ˆå®‰è£…åï¼‰
find_package(Crow REQUIRED)
target_link_libraries(myapp Crow::Crow)  # âœ… åŒæ ·çš„å†™æ³•ï¼
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šæ— è®º Crow æ˜¯ä½œä¸ºå­é¡¹ç›®è¿˜æ˜¯å·²å®‰è£…çš„åŒ…ï¼Œä»£ç å†™æ³•å®Œå…¨ä¸€è‡´ï¼</p>
<p><strong>ç¤ºä¾‹ 2ï¼šé¿å…åç§°å†²çª</strong></p>
<p>å‡è®¾ä½ çš„é¡¹ç›®åŒæ—¶ä½¿ç”¨å¤šä¸ªåº“ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># é¡¹ç›®åŒæ—¶ä½¿ç”¨ Crow å’Œå¦ä¸€ä¸ªå« "Crow" çš„åº“ï¼ˆå‡è®¾ï¼‰
add_subdirectory(third_party/Crow)
add_subdirectory(third_party/OtherCrow)  # å¦ä¸€ä¸ªåº“ä¹Ÿå« Crow

# ä½¿ç”¨å‘½åç©ºé—´ - æ¸…æ™°æ˜ç¡®
target_link_libraries(myapp 
    Crow::Crow        # âœ… æ˜ç¡®æ˜¯ Crow é¡¹ç›®çš„åº“
    OtherCrow::Crow   # âœ… æ˜ç¡®æ˜¯ OtherCrow é¡¹ç›®çš„åº“
)

# ä¸ä½¿ç”¨å‘½åç©ºé—´ - å®¹æ˜“æ··æ·†
target_link_libraries(myapp 
    Crow    # âŒ è¿™æ˜¯å“ªä¸ª Crowï¼Ÿ
    Crow    # âŒ å†²çªï¼CMake ä¼šæŠ¥é”™
)
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šå‘½åç©ºé—´é¿å…äº†ç›®æ ‡åç§°å†²çªï¼Œä»£ç æ›´æ¸…æ™°ã€‚</p>
<p><strong>ç¤ºä¾‹ 3ï¼šä¸ç¬¬ä¸‰æ–¹åº“é£æ ¼ä¸€è‡´</strong></p>
<p>åœ¨ Crow é¡¹ç›®ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰ä¾èµ–åº“éƒ½ä½¿ç”¨å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt ä¸­çš„å®é™…ä»£ç 
target_link_libraries(Crow INTERFACE
    asio::asio        # âœ… Asio åº“ä½¿ç”¨å‘½åç©ºé—´
    ZLIB::ZLIB       # âœ… ZLib åº“ä½¿ç”¨å‘½åç©ºé—´
    OpenSSL::SSL     # âœ… OpenSSL åº“ä½¿ç”¨å‘½åç©ºé—´
)
</code></pre>
<p>åœ¨ examples ä¸­ï¼Œä¹Ÿä½¿ç”¨å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># examples/CMakeLists.txt ä¸­çš„å®é™…ä»£ç 
target_link_libraries(basic_example PUBLIC Crow::Crow)  # âœ… é£æ ¼ä¸€è‡´
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šä»£ç é£æ ¼ç»Ÿä¸€ï¼Œç¬¦åˆç°ä»£ CMake æœ€ä½³å®è·µï¼Œæé«˜å¯è¯»æ€§ã€‚</p>
<p><strong>ç¤ºä¾‹ 4ï¼šIDE å’Œå·¥å…·æ”¯æŒæ›´å¥½</strong></p>
<p>ä½¿ç”¨å‘½åç©ºé—´çš„ç›®æ ‡ï¼ŒIDE å’Œ CMake å·¥å…·èƒ½æ›´å¥½åœ°è¯†åˆ«ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä½¿ç”¨å‘½åç©ºé—´ - IDE å¯ä»¥è‡ªåŠ¨è¡¥å…¨å’Œæ£€æŸ¥
target_link_libraries(myapp Crow::Crow)  # âœ… IDE çŸ¥é“è¿™æ˜¯ Crow é¡¹ç›®çš„ç›®æ ‡

# ä¸ä½¿ç”¨å‘½åç©ºé—´ - å¯èƒ½ä¸å…¶ä»–ç›®æ ‡æ··æ·†
target_link_libraries(myapp Crow)  # âŒ å¯èƒ½æ˜¯ä»»ä½•å« Crow çš„ç›®æ ‡
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šæ›´å¥½çš„å¼€å‘ä½“éªŒï¼Œå·¥å…·æ”¯æŒæ›´å®Œå–„ã€‚</p>
<p><strong>ç¤ºä¾‹ 5ï¼šå®‰è£…é…ç½®æ–‡ä»¶ä¸­çš„ä½¿ç”¨</strong></p>
<p>æŸ¥çœ‹ <code>cmake/CrowConfig.cmake.in</code>ï¼ˆå®‰è£…é…ç½®æ–‡ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ç¬¬ 28 è¡Œï¼šè·å– Crow::Crow çš„å±æ€§
get_target_property(_CROW_ILL Crow::Crow INTERFACE_LINK_LIBRARIES)
get_target_property(_CROW_ICD Crow::Crow INTERFACE_COMPILE_DEFINITIONS)

# ç¬¬ 52 è¡Œï¼šè®¾ç½® Crow::Crow çš„å±æ€§
set_target_properties(Crow::Crow PROPERTIES
    INTERFACE_COMPILE_DEFINITIONS "${_CROW_ICD}"
)
</code></pre>
<p>å®‰è£…åçš„åŒ…å¿…é¡»ä½¿ç”¨ <code>Crow::Crow</code>ï¼Œå¦‚æœæ„å»ºæ—¶ä¸ä½¿ç”¨å‘½åç©ºé—´ï¼Œä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>æ„å»ºæ—¶ç”¨ <code>Crow</code></li>
<li>å®‰è£…åç”¨ <code>Crow::Crow</code></li>
<li>ä»£ç ä¸ä¸€è‡´ï¼Œå®¹æ˜“å‡ºé”™</li>
</ul>
<p><strong>å¥½å¤„</strong>ï¼šæ„å»ºæ—¶å’Œå®‰è£…åä½¿ç”¨ç›¸åŒçš„ç›®æ ‡åç§°ï¼Œé¿å…æ··æ·†ã€‚</p>
<p><strong>æ€»ç»“å¯¹æ¯”è¡¨</strong>ï¼š</p>













































<table><thead><tr><th>ç‰¹æ€§</th><th>ä½¿ç”¨ <code>Crow::Crow</code></th><th>ä½¿ç”¨ <code>Crow</code></th></tr></thead><tbody><tr><td>æ„å»ºæ—¶å¯ç”¨</td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td></tr><tr><td>å®‰è£…åå¯ç”¨</td><td>âœ… æ˜¯</td><td>âŒ å¯èƒ½ä¸è¡Œ</td></tr><tr><td>é¿å…åç§°å†²çª</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr><tr><td>ä»£ç ä¸€è‡´æ€§</td><td>âœ… é«˜</td><td>âŒ ä½</td></tr><tr><td>ç¬¦åˆç°ä»£ CMake</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr><tr><td>IDE æ”¯æŒ</td><td>âœ… æ›´å¥½</td><td>âš ï¸ ä¸€èˆ¬</td></tr><tr><td>ä¸ç¬¬ä¸‰æ–¹åº“é£æ ¼ä¸€è‡´</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr></tbody></table>
<p><strong>é‡è¦æ¾„æ¸…ï¼šCMake å‘½åç©ºé—´ vs C++ å‘½åç©ºé—´</strong></p>
<p>âš ï¸ <strong>å…³é”®åŒºåˆ«</strong>ï¼šCMake çš„ <code>Crow::Crow</code> å‘½åç©ºé—´å’Œ C++ ä»£ç ä¸­çš„å‘½åç©ºé—´æ˜¯<strong>å®Œå…¨ç‹¬ç«‹</strong>çš„ï¼Œäº’ä¸å½±å“ï¼</p>
<p><strong>CMake å‘½åç©ºé—´</strong>ï¼ˆåªåœ¨ CMakeLists.txt ä¸­ä½¿ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt ä¸­
add_library(Crow::Crow ALIAS Crow)  # CMake ç›®æ ‡åç§°
target_link_libraries(myapp Crow::Crow)  # é“¾æ¥æ—¶ä½¿ç”¨
</code></pre>
<p><strong>C++ å‘½åç©ºé—´</strong>ï¼ˆåœ¨ C++ æºä»£ç ä¸­ä½¿ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// C++ æºä»£ç ä¸­</span>
<span class="hljs-keyword">namespace</span> crow {  <span class="hljs-comment">// C++ å‘½åç©ºé—´ï¼ˆå°å†™ï¼‰</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> { ... };
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"crow.h"</span></span>
crow::App app;  <span class="hljs-comment">// âœ… ä½¿ç”¨ C++ å‘½åç©ºé—´ crowï¼ˆå°å†™ï¼‰</span>
</code></pre>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<p>æŸ¥çœ‹ <code>examples/example.cpp</code> çš„å®é™…ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"crow.h"</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    crow::App&lt;ExampleMiddleware&gt; app;  <span class="hljs-comment">// âœ… C++ å‘½åç©ºé—´ï¼šcrowï¼ˆå°å†™ï¼‰</span>
    crow::json::wvalue x;              <span class="hljs-comment">// âœ… C++ å‘½åç©ºé—´ï¼šcrowï¼ˆå°å†™ï¼‰</span>
    crow::request req;                 <span class="hljs-comment">// âœ… C++ å‘½åç©ºé—´ï¼šcrowï¼ˆå°å†™ï¼‰</span>
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>è€Œåœ¨ <code>examples/CMakeLists.txt</code> ä¸­ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">target_link_libraries(basic_example PUBLIC Crow::Crow)  # âœ… CMake å‘½åç©ºé—´ï¼šCrow::Crowï¼ˆå¤§å†™ï¼‰
</code></pre>
<p><strong>ä¸¤è€…å¯¹æ¯”</strong>ï¼š</p>



































<table><thead><tr><th>å±‚é¢</th><th>CMake å‘½åç©ºé—´</th><th>C++ å‘½åç©ºé—´</th></tr></thead><tbody><tr><td>ä½¿ç”¨ä½ç½®</td><td>CMakeLists.txt</td><td>.cpp/.h æºä»£ç </td></tr><tr><td>æ ¼å¼</td><td><code>Crow::Crow</code>ï¼ˆå¤§å†™ï¼‰</td><td><code>crow</code>ï¼ˆå°å†™ï¼‰</td></tr><tr><td>ä½œç”¨</td><td>æ„å»ºç³»ç»Ÿç›®æ ‡æ ‡è¯†</td><td>ä»£ç ç»„ç»‡ã€é¿å…ç¬¦å·å†²çª</td></tr><tr><td>å½±å“èŒƒå›´</td><td>æ„å»ºé…ç½®</td><td>ç¼–è¯‘åçš„ä»£ç </td></tr><tr><td>æ˜¯å¦ç›¸å…³</td><td>âŒ å®Œå…¨ç‹¬ç«‹</td><td>âŒ å®Œå…¨ç‹¬ç«‹</td></tr></tbody></table>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>CMake çš„ <code>Crow::Crow</code> åªå½±å“æ„å»ºç³»ç»Ÿï¼Œä¸å½±å“ C++ ä»£ç </li>
<li>C++ ä»£ç ä¸­çš„ <code>namespace crow</code> æ˜¯åº“çš„ç¼–ç¨‹æ¥å£ï¼Œä¸ CMake æ— å…³</li>
<li>ä½ å¯ä»¥ä½¿ç”¨ <code>Crow::Crow</code>ï¼ˆCMakeï¼‰é“¾æ¥åº“ï¼Œç„¶ååœ¨ä»£ç ä¸­ä½¿ç”¨ <code>crow::App</code>ï¼ˆC++ï¼‰</li>
<li>ä¸¤è€…å¯ä»¥æœ‰ä¸åŒçš„å‘½åé£æ ¼ï¼Œäº’ä¸å¹²æ‰°</li>
</ul>
</li>
<li>
<p><strong>åŒ…å«ç›®å½•è¯¦è§£</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">target_include_directories(Crow
    INTERFACE
        $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;
        $&lt;INSTALL_INTERFACE:include&gt;
)
</code></pre>
<p><strong><code>target_include_directories</code> çš„æœ¬è´¨</strong>ï¼š</p>
<p><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šå‘Šè¯‰ç¼–è¯‘å™¨åœ¨å“ªé‡Œæ‰¾å¤´æ–‡ä»¶</p>
<p><code>target_include_directories</code> çš„æœ¬è´¨æ˜¯<strong>è®¾ç½®ç¼–è¯‘å™¨çš„å¤´æ–‡ä»¶æœç´¢è·¯å¾„</strong>ã€‚å®ƒä¼šåœ¨ç¼–è¯‘æ—¶è½¬æ¢ä¸ºç¼–è¯‘å™¨çš„ <code>-I</code> é€‰é¡¹ï¼ˆGCC/Clangï¼‰æˆ– <code>/I</code> é€‰é¡¹ï¼ˆMSVCï¼‰ã€‚</p>
<p><strong>ä» CMake åˆ°ç¼–è¯‘å™¨çš„è½¬æ¢</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
target_include_directories(Crow INTERFACE include/)
</code></pre>
<p>è½¬æ¢ä¸ºå®é™…çš„ç¼–è¯‘å™¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># GCC/Clang</span>
g++ -I/path/to/include -c example.cpp

<span class="hljs-comment"># MSVC</span>
cl.exe /I<span class="hljs-string">"C:\path\to\include"</span> example.cpp
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªï¼Ÿ</strong></p>
<p>å½“ä½ çš„ä»£ç å†™ <code>#include "crow.h"</code> æ—¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"crow.h"</span>  <span class="hljs-comment">// ç¼–è¯‘å™¨éœ€è¦çŸ¥é“åœ¨å“ªé‡Œæ‰¾è¿™ä¸ªæ–‡ä»¶</span></span>
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šï¼š</p>
<ol>
<li>å…ˆåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ <code>crow.h</code></li>
<li>å¦‚æœæ‰¾ä¸åˆ°ï¼Œåœ¨ <code>target_include_directories</code> æŒ‡å®šçš„è·¯å¾„ä¸­æŸ¥æ‰¾</li>
<li>å¦‚æœè¿˜æ‰¾ä¸åˆ°ï¼ŒæŠ¥é”™ï¼š<code>fatal error: 'crow.h' file not found</code></li>
</ol>
<p><strong>INTERFACEã€PUBLICã€PRIVATE çš„åŒºåˆ«</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># å‡è®¾æœ‰ä¸€ä¸ªåº“ MyLib
add_library(MyLib STATIC mylib.cpp)

# PRIVATEï¼šåªç»™è‡ªå·±ç”¨ï¼Œä¸ä¼ æ’­ç»™ä¾èµ–è€…
target_include_directories(MyLib PRIVATE 
    ${CMAKE_CURRENT_SOURCE_DIR}/private_headers  # åªæœ‰ MyLib è‡ªå·±ç”¨
)

# INTERFACEï¼šåªç»™ä¾èµ–è€…ç”¨ï¼Œè‡ªå·±ä¸ç”¨
target_include_directories(MyLib INTERFACE 
    ${CMAKE_CURRENT_SOURCE_DIR}/public_headers   # ä¾èµ– MyLib çš„ç›®æ ‡å¯ä»¥ç”¨
)

# PUBLICï¼šæ—¢ç»™è‡ªå·±ç”¨ï¼Œä¹Ÿä¼ æ’­ç»™ä¾èµ–è€…
target_include_directories(MyLib PUBLIC 
    ${CMAKE_CURRENT_SOURCE_DIR}/headers          # MyLib å’Œä¾èµ–è€…éƒ½èƒ½ç”¨
)
</code></pre>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># MyLib çš„ CMakeLists.txt
add_library(MyLib STATIC mylib.cpp)
target_include_directories(MyLib PUBLIC include/)  # PUBLICï¼šä¼ æ’­ç»™ä½¿ç”¨è€…

# ä½ çš„é¡¹ç›®çš„ CMakeLists.txt
add_executable(myapp main.cpp)
target_link_libraries(myapp MyLib)  # é“¾æ¥ MyLib

# ç¼–è¯‘ myapp æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ·»åŠ  -I/path/to/MyLib/include
# æ‰€ä»¥ main.cpp å¯ä»¥å†™ï¼š
# #include "mylib.h"  // âœ… èƒ½æ‰¾åˆ°ï¼Œå› ä¸º MyLib çš„ PUBLIC include è·¯å¾„è¢«ä¼ æ’­äº†
</code></pre>
<p><strong>Crow é¡¹ç›®ä¸­çš„å®é™…ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">target_include_directories(Crow
    INTERFACE
        $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include&gt;
        $&lt;INSTALL_INTERFACE:include&gt;
)
</code></pre>
<p><strong>è§£æ</strong>ï¼š</p>
<ol>
<li><strong><code>INTERFACE</code></strong>ï¼š
<ul>
<li>Crow æ˜¯ header-only åº“ï¼Œæ²¡æœ‰è‡ªå·±çš„æºæ–‡ä»¶éœ€è¦ç¼–è¯‘</li>
<li>æ‰€ä»¥ç”¨ <code>INTERFACE</code>ï¼Œåªç»™ä½¿ç”¨è€…æä¾›å¤´æ–‡ä»¶è·¯å¾„</li>
</ul>
</li>
<li><strong><code>$&lt;BUILD_INTERFACE:...&gt;</code></strong>ï¼š
<ul>
<li>è¿™æ˜¯ CMake çš„ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆGenerator Expressionï¼‰</li>
<li>æ„å»ºæ—¶ï¼ˆ<code>cmake --build</code>ï¼‰ä½¿ç”¨ï¼š<code>${CMAKE_CURRENT_SOURCE_DIR}/include</code></li>
<li>å³ï¼š<code>C:\Users\notfr\projects\Crow\include</code></li>
</ul>
</li>
<li><strong><code>$&lt;INSTALL_INTERFACE:...&gt;</code></strong>ï¼š
<ul>
<li>å®‰è£…åï¼ˆ<code>cmake --install</code>ï¼‰ä½¿ç”¨ï¼š<code>include</code></li>
<li>å³ï¼šå®‰è£…ç›®å½•ä¸‹çš„ <code>include</code> æ–‡ä»¶å¤¹</li>
<li>ä¾‹å¦‚ï¼š<code>C:\Program Files\Crow\include</code></li>
</ul>
</li>
</ol>
<p><strong>å®é™…æ•ˆæœ</strong>ï¼š</p>
<p>å½“ä½ åœ¨ä»£ç ä¸­å†™ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"crow.h"</span>  <span class="hljs-comment">// æˆ– #include &lt;crow.h&gt;</span></span>
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šï¼š</p>
<ol>
<li>æ„å»ºæ—¶ï¼šåœ¨ <code>C:\Users\notfr\projects\Crow\include</code> ä¸­æŸ¥æ‰¾</li>
<li>å®‰è£…åï¼šåœ¨ <code>C:\Program Files\Crow\include</code> ä¸­æŸ¥æ‰¾</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªä¸åŒçš„è·¯å¾„ï¼Ÿ</strong></p>
<ul>
<li><strong>æ„å»ºæ—¶</strong>ï¼šå¤´æ–‡ä»¶åœ¨æºç ç›®å½• <code>include/</code></li>
<li><strong>å®‰è£…å</strong>ï¼šå¤´æ–‡ä»¶è¢«å®‰è£…åˆ°ç³»ç»Ÿç›®å½• <code>include/</code></li>
<li>ä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼å¯ä»¥è‡ªåŠ¨åˆ‡æ¢ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹</li>
</ul>
<p><strong>æœ¬è´¨æ€»ç»“</strong>ï¼š</p>
<p><code>target_include_directories</code> çš„æœ¬è´¨æ˜¯ï¼š</p>
<ol>
<li><strong>è®¾ç½®ç¼–è¯‘å™¨çš„å¤´æ–‡ä»¶æœç´¢è·¯å¾„</strong>ï¼ˆè½¬æ¢ä¸º <code>-I</code> æˆ– <code>/I</code> é€‰é¡¹ï¼‰</li>
<li><strong>æ§åˆ¶è·¯å¾„çš„ä¼ æ’­</strong>ï¼ˆPRIVATE/INTERFACE/PUBLICï¼‰</li>
<li><strong>æ”¯æŒæ„å»ºæ—¶å’Œå®‰è£…åçš„è·¯å¾„åˆ‡æ¢</strong>ï¼ˆç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰</li>
<li><strong>è®© <code>#include</code> èƒ½æ‰¾åˆ°å¤´æ–‡ä»¶</strong></li>
</ol>
<p>æ²¡æœ‰å®ƒï¼Œç¼–è¯‘å™¨å°±ä¸çŸ¥é“åœ¨å“ªé‡Œæ‰¾å¤´æ–‡ä»¶ï¼Œ<code>#include "crow.h"</code> ä¼šå¤±è´¥ã€‚</p>
</li>
</ol>
<p><strong>è¿™æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„å…³é”®åŸå› ä¹‹ä¸€</strong>ï¼š<code>Crow::Crow</code> ç›®æ ‡å¿…é¡»åœ¨æ ¹ç›®å½•çš„ CMakeLists.txt ä¸­å®šä¹‰ï¼Œ<code>examples</code> ç›®å½•ä¸­çš„ä»£ç ä¾èµ–è¿™ä¸ªç›®æ ‡ã€‚</p>
<h4 data-id="heading-6">1.4 ä¾èµ–åº“æŸ¥æ‰¾å’Œé“¾æ¥</h4>
<h5 data-id="heading-7">Asio åº“ï¼ˆé»˜è®¤ï¼‰</h5>
<pre><code class="hljs language-cmake" lang="cmake">else()
    find_package(asio REQUIRED)
    target_link_libraries(Crow
        INTERFACE
            asio::asio
    )
    target_compile_definitions(Crow INTERFACE ASIO_NO_DEPRECATED)
endif()
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæŸ¥æ‰¾å¹¶é“¾æ¥ Asio å¼‚æ­¥ I/O åº“</li>
<li><strong>ä¾èµ–</strong>ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„ <code>Findasio.cmake</code> æ¨¡å—ï¼ˆä½äº <code>cmake/Findasio.cmake</code>ï¼‰</li>
</ul>
<h5 data-id="heading-8">å¯é€‰ä¾èµ–</h5>
<pre><code class="hljs language-cmake" lang="cmake">if(CROW_ENABLE_COMPRESSION)
    find_package(ZLIB REQUIRED)
    target_link_libraries(Crow INTERFACE ZLIB::ZLIB)
    target_compile_definitions(Crow INTERFACE CROW_ENABLE_COMPRESSION)
endif()

if(CROW_ENABLE_SSL)
    find_package(OpenSSL REQUIRED)
    target_link_libraries(Crow INTERFACE OpenSSL::SSL)
    target_compile_definitions(Crow INTERFACE CROW_ENABLE_SSL)
endif()
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæ ¹æ®ç¼–è¯‘é€‰é¡¹æ¡ä»¶æ€§åœ°æ·»åŠ å‹ç¼©å’Œ SSL æ”¯æŒ</li>
<li><strong>å˜é‡ä¼ é€’</strong>ï¼šè¿™äº›é€‰é¡¹ä¼šå½±å“ <code>CROW_FEATURES</code> å˜é‡ï¼Œ<code>examples</code> ç›®å½•ä¼šæ£€æŸ¥è¿™ä¸ªå˜é‡</li>
</ul>
<h4 data-id="heading-9">1.5 å­é¡¹ç›®é›†æˆ</h4>
<pre><code class="hljs language-cmake" lang="cmake"># Examples
if(CROW_BUILD_EXAMPLES)
    add_subdirectory(examples)
endif()
</code></pre>
<p><strong><code>add_subdirectory</code> çš„æœ¬è´¨</strong>ï¼š</p>
<p><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šå°†å­ç›®å½•çš„ CMakeLists.txt åŒ…å«åˆ°å½“å‰æ„å»ºä¸­ï¼Œåˆ›å»ºä¸€ä¸ªå­ä½œç”¨åŸŸ</p>
<p><code>add_subdirectory</code> çš„æœ¬è´¨æ˜¯<strong>åœ¨å½“å‰ CMake é…ç½®è¿‡ç¨‹ä¸­ï¼Œåˆ‡æ¢åˆ°æŒ‡å®šå­ç›®å½•ï¼Œæ‰§è¡Œè¯¥ç›®å½•ä¸‹çš„ CMakeLists.txtï¼Œç„¶åè¿”å›</strong>ã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œä½†ä¿æŒäº†ä¸çˆ¶ç›®å½•çš„ä¸Šä¸‹æ–‡è”ç³»ã€‚</p>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
add_library(Crow INTERFACE)           # 1. åˆ›å»º Crow ç›®æ ‡
set(MY_VAR "value")                  # 2. è®¾ç½®å˜é‡
add_subdirectory(examples)           # 3. åˆ‡æ¢åˆ° examples ç›®å½•
# 4. æ‰§è¡Œ examples/CMakeLists.txt
# 5. è¿”å›æ ¹ç›®å½•ï¼Œç»§ç»­æ‰§è¡Œ
</code></pre>
<p><strong>å…³é”®æœºåˆ¶</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ¡ä»¶åŒ…å«</strong>ï¼šåªæœ‰å½“ <code>CROW_BUILD_EXAMPLES</code> é€‰é¡¹ä¸º <code>ON</code> æ—¶ï¼Œæ‰ä¼šåŒ…å« <code>examples</code> å­ç›®å½•</p>
</li>
<li>
<p><strong>ä½œç”¨åŸŸå’Œå˜é‡ä¼ é€’</strong>ï¼š</p>
<p><strong>çˆ¶ç›®å½• â†’ å­ç›®å½•ï¼ˆå¯è§ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
set(PARENT_VAR "parent_value")     # çˆ¶ç›®å½•å˜é‡
add_library(Crow INTERFACE)        # çˆ¶ç›®å½•ç›®æ ‡
add_subdirectory(examples)         # è¿›å…¥å­ç›®å½•

# examples/CMakeLists.txt
message(STATUS ${PARENT_VAR})      # âœ… å¯ä»¥è®¿é—®ï¼šè¾“å‡º "parent_value"
target_link_libraries(myapp Crow)  # âœ… å¯ä»¥è®¿é—®ï¼šCrow ç›®æ ‡å¯è§
</code></pre>
<p><strong>å­ç›®å½• â†’ çˆ¶ç›®å½•ï¼ˆä¸å¯è§ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># examples/CMakeLists.txt
set(CHILD_VAR "child_value")       # å­ç›®å½•å˜é‡
add_executable(myapp main.cpp)     # å­ç›®å½•ç›®æ ‡

# æ ¹ç›®å½• CMakeLists.txtï¼ˆadd_subdirectory ä¹‹åï¼‰
message(STATUS ${CHILD_VAR})       # âŒ ä¸å¯è®¿é—®ï¼šå˜é‡æœªå®šä¹‰
# ä½†ç›®æ ‡ myapp åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¯è§
</code></pre>
</li>
<li>
<p><strong>å…³é”®å˜é‡è¡Œä¸º</strong>ï¼š</p>
<p><strong><code>CMAKE_SOURCE_DIR</code></strong>ï¼šå§‹ç»ˆæŒ‡å‘<strong>æ ¹é¡¹ç›®</strong>çš„æºç›®å½•</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
message(STATUS "Root: ${CMAKE_SOURCE_DIR}")  # C:/Users/notfr/projects/Crow
add_subdirectory(examples)

# examples/CMakeLists.txt
message(STATUS "Examples: ${CMAKE_SOURCE_DIR}")  # C:/Users/notfr/projects/Crowï¼ˆç›¸åŒï¼ï¼‰
</code></pre>
<p><strong><code>CMAKE_CURRENT_SOURCE_DIR</code></strong>ï¼šæŒ‡å‘<strong>å½“å‰</strong>CMakeLists.txt æ‰€åœ¨çš„ç›®å½•</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
message(STATUS "Root current: ${CMAKE_CURRENT_SOURCE_DIR}")  # C:/Users/notfr/projects/Crow
add_subdirectory(examples)

# examples/CMakeLists.txt
message(STATUS "Examples current: ${CMAKE_CURRENT_SOURCE_DIR}")  # C:/Users/notfr/projects/Crow/examples
</code></pre>
<p><strong><code>CMAKE_BINARY_DIR</code></strong>ï¼šå§‹ç»ˆæŒ‡å‘<strong>æ ¹é¡¹ç›®</strong>çš„æ„å»ºç›®å½•</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½•å’Œå­ç›®å½•çš„ CMAKE_BINARY_DIR éƒ½ç›¸åŒ
# ä¾‹å¦‚ï¼šC:/Users/notfr/projects/Crow/build
</code></pre>
<p><strong><code>CMAKE_CURRENT_BINARY_DIR</code></strong>ï¼šæŒ‡å‘<strong>å½“å‰</strong>CMakeLists.txt å¯¹åº”çš„æ„å»ºç›®å½•</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½•ï¼šC:/Users/notfr/projects/Crow/build
# examplesï¼šC:/Users/notfr/projects/Crow/build/examples
</code></pre>
</li>
<li>
<p><strong>ç›®æ ‡å¯è§æ€§</strong>ï¼š</p>
<ul>
<li>çˆ¶ç›®å½•åˆ›å»ºçš„ç›®æ ‡åœ¨å­ç›®å½•ä¸­<strong>å¯è§ä¸”å¯ç”¨</strong></li>
<li>å­ç›®å½•åˆ›å»ºçš„ç›®æ ‡åœ¨çˆ¶ç›®å½•ä¸­<strong>å¯è§</strong>ï¼ˆä½†å˜é‡ä¸å¯è§ï¼‰</li>
<li>æ‰€æœ‰ç›®æ ‡åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¯è§ï¼ˆé™¤éä½¿ç”¨ç‰¹æ®Šä½œç”¨åŸŸæ§åˆ¶ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å‡½æ•°å’Œå®çš„ä¼ é€’</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
include(cmake/compiler_options.cmake)  # å®šä¹‰å‡½æ•° add_warnings_optimizations()
add_subdirectory(examples)

# examples/CMakeLists.txt
add_warnings_optimizations(myapp)  # âœ… å¯ä»¥ä½¿ç”¨çˆ¶ç›®å½•å®šä¹‰çš„å‡½æ•°
</code></pre>
</li>
</ol>
<p><strong>å®é™…ä¾‹å­</strong>ï¼š</p>
<p>åœ¨ Crow é¡¹ç›®ä¸­ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æ ¹ç›®å½• CMakeLists.txt
add_library(Crow INTERFACE)                    # åˆ›å»º Crow ç›®æ ‡
target_include_directories(Crow INTERFACE ...) # é…ç½® Crow
add_library(Crow::Crow ALIAS Crow)            # åˆ›å»ºåˆ«å

if(CROW_BUILD_EXAMPLES)
    add_subdirectory(examples)  # è¿›å…¥ examples ç›®å½•
endif()

# examples/CMakeLists.txt
add_executable(basic_example example.cpp)
target_link_libraries(basic_example PUBLIC Crow::Crow)  # âœ… å¯ä»¥ä½¿ç”¨çˆ¶ç›®å½•çš„ Crow::Crow
</code></pre>
<p><strong>æ‰§è¡Œæ—¶çš„å˜é‡å€¼</strong>ï¼š</p>






























<table><thead><tr><th>å˜é‡</th><th>æ ¹ç›®å½• CMakeLists.txt</th><th>examples/CMakeLists.txt</th></tr></thead><tbody><tr><td><code>CMAKE_SOURCE_DIR</code></td><td><code>C:/.../Crow</code></td><td><code>C:/.../Crow</code>ï¼ˆç›¸åŒï¼‰</td></tr><tr><td><code>CMAKE_CURRENT_SOURCE_DIR</code></td><td><code>C:/.../Crow</code></td><td><code>C:/.../Crow/examples</code></td></tr><tr><td><code>CMAKE_BINARY_DIR</code></td><td><code>C:/.../Crow/build</code></td><td><code>C:/.../Crow/build</code>ï¼ˆç›¸åŒï¼‰</td></tr><tr><td><code>CMAKE_CURRENT_BINARY_DIR</code></td><td><code>C:/.../Crow/build</code></td><td><code>C:/.../Crow/build/examples</code></td></tr></tbody></table>
<p><strong>æœ¬è´¨æ€»ç»“</strong>ï¼š</p>
<p><code>add_subdirectory</code> çš„æœ¬è´¨æ˜¯ï¼š</p>
<ol>
<li><strong>åˆ‡æ¢ç›®å½•</strong>ï¼šä¸´æ—¶åˆ‡æ¢åˆ°å­ç›®å½•ï¼Œæ‰§è¡Œå…¶ CMakeLists.txt</li>
<li><strong>åˆ›å»ºå­ä½œç”¨åŸŸ</strong>ï¼šå­ç›®å½•æœ‰è‡ªå·±çš„å˜é‡ä½œç”¨åŸŸï¼Œä½†å¯ä»¥è®¿é—®çˆ¶ç›®å½•çš„å˜é‡å’Œç›®æ ‡</li>
<li><strong>ä¿æŒä¸Šä¸‹æ–‡</strong>ï¼š<code>CMAKE_SOURCE_DIR</code> å§‹ç»ˆæŒ‡å‘æ ¹é¡¹ç›®ï¼Œä¿æŒé¡¹ç›®ç»“æ„çš„ä¸€è‡´æ€§</li>
<li><strong>ç›®æ ‡å…¨å±€å¯è§</strong>ï¼šæ‰€æœ‰ç›®æ ‡åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¯è§ï¼Œå®ç°ä¾èµ–ç®¡ç†</li>
<li><strong>å‡½æ•°ä¼ é€’</strong>ï¼šçˆ¶ç›®å½•å®šä¹‰çš„å‡½æ•°å’Œå®åœ¨å­ç›®å½•ä¸­å¯ç”¨</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆä¸èƒ½ä»å­ç›®å½•ç‹¬ç«‹æ‰§è¡Œï¼Ÿ</strong></p>
<p>å› ä¸º <code>add_subdirectory</code> åˆ›å»ºçš„æ˜¯<strong>å­ä½œç”¨åŸŸ</strong>ï¼Œä¸æ˜¯ç‹¬ç«‹é¡¹ç›®ï¼š</p>
<ul>
<li>å­ç›®å½•ä¾èµ–çˆ¶ç›®å½•çš„ä¸Šä¸‹æ–‡ï¼ˆå˜é‡ã€ç›®æ ‡ã€å‡½æ•°ï¼‰</li>
<li><code>CMAKE_SOURCE_DIR</code> å¿…é¡»æŒ‡å‘æ ¹é¡¹ç›®</li>
<li>å¦‚æœä»å­ç›®å½•æ‰§è¡Œï¼Œè¿™äº›ä¸Šä¸‹æ–‡éƒ½ä¸å­˜åœ¨ï¼Œä¼šå¤±è´¥</li>
</ul>
<p>è¿™æ˜¯ CMake çš„è®¾è®¡å“²å­¦ï¼š<strong>å­é¡¹ç›®æ˜¯çˆ¶é¡¹ç›®çš„ç»„æˆéƒ¨åˆ†ï¼Œä¸æ˜¯ç‹¬ç«‹é¡¹ç›®</strong>ã€‚</p>
<h4 data-id="heading-10">1.6 ç¼–è¯‘é€‰é¡¹å‡½æ•°å®šä¹‰</h4>
<p>æ ¹ç›®å½•é€šè¿‡åŒ…å« <code>compiler_options.cmake</code> å®šä¹‰äº† <code>add_warnings_optimizations()</code> å‡½æ•°ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># åœ¨ cmake/compiler_options.cmake ä¸­å®šä¹‰
function(add_warnings_optimizations target_name)
    # æ ¹æ®ç¼–è¯‘å™¨ç±»å‹ï¼ˆMSVCã€Clangã€GCCï¼‰è®¾ç½®ä¸åŒçš„è­¦å‘Šå’Œä¼˜åŒ–é€‰é¡¹
    ...
endfunction()
</code></pre>
<p>è¿™ä¸ªå‡½æ•°åœ¨ <code>examples/CMakeLists.txt</code> ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-11">äºŒã€examples ç›®å½• CMakeLists.txt æ ¸å¿ƒå†…å®¹</h3>
<p><code>examples/CMakeLists.txt</code> æ˜¯ä¸€ä¸ª<strong>å­é¡¹ç›®</strong>çš„æ„å»ºæ–‡ä»¶ï¼Œå®ƒä¾èµ–äºçˆ¶ç›®å½•ï¼ˆæ ¹ç›®å½•ï¼‰æä¾›çš„æ‰€æœ‰åŸºç¡€è®¾æ–½ã€‚</p>
<h4 data-id="heading-12">2.1 é¡¹ç›®å£°æ˜</h4>
<pre><code class="hljs language-cmake" lang="cmake">cmake_minimum_required(VERSION 3.15)
project(crow_examples)
</code></pre>
<ul>
<li><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œè™½ç„¶å£°æ˜äº† <code>project(crow_examples)</code>ï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®</li>
<li><strong>ä¸Šä¸‹æ–‡</strong>ï¼šå½“é€šè¿‡ <code>add_subdirectory(examples)</code> è°ƒç”¨æ—¶ï¼Œè¿™ä¸ª <code>project()</code> å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªå­é¡¹ç›®ï¼Œä½† <code>CMAKE_SOURCE_DIR</code> ä»ç„¶æŒ‡å‘æ ¹ç›®å½•</li>
</ul>
<h4 data-id="heading-13">2.2 ä¾èµ–çˆ¶ç›®å½•çš„ CMake æ¨¡å—</h4>
<pre><code class="hljs language-cmake" lang="cmake">include(${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake)
</code></pre>
<p><strong>å…³é”®åˆ†æ</strong>ï¼š</p>
<ol>
<li><strong><code>CMAKE_SOURCE_DIR</code> çš„å«ä¹‰</strong>ï¼š
<ul>
<li>åœ¨æ ¹ç›®å½•æ‰§è¡Œ CMake æ—¶ï¼š<code>CMAKE_SOURCE_DIR</code> = é¡¹ç›®æ ¹ç›®å½•</li>
<li>åœ¨ <code>examples</code> ç›®å½•æ‰§è¡Œ CMake æ—¶ï¼š<code>CMAKE_SOURCE_DIR</code> = <code>examples</code> ç›®å½•</li>
</ul>
</li>
<li><strong>è·¯å¾„è§£æ</strong>ï¼š
<ul>
<li>ä»æ ¹ç›®å½•æ‰§è¡Œï¼š<code>${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake</code> = <code>æ ¹ç›®å½•/cmake/compiler_options.cmake</code> âœ…</li>
<li>ä» <code>examples</code> ç›®å½•æ‰§è¡Œï¼š<code>${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake</code> = <code>examples/cmake/compiler_options.cmake</code> âŒï¼ˆè·¯å¾„ä¸å­˜åœ¨ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>è¿™æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªåŸå› </strong>ï¼šè·¯å¾„è§£æé”™è¯¯ã€‚</p>
<h4 data-id="heading-14">2.3 ä¾èµ–çˆ¶ç›®å½•å®šä¹‰çš„ç›®æ ‡</h4>
<pre><code class="hljs language-cmake" lang="cmake">add_executable(basic_example example.cpp)
add_warnings_optimizations(basic_example)
target_link_libraries(basic_example PUBLIC Crow::Crow)
</code></pre>
<p><strong>ä¾èµ–é“¾åˆ†æ</strong>ï¼š</p>
<ol>
<li>
<p><strong><code>add_warnings_optimizations()</code> å‡½æ•°</strong>ï¼š</p>
<ul>
<li>å®šä¹‰åœ¨ <code>cmake/compiler_options.cmake</code> ä¸­</li>
<li>è¯¥æ–‡ä»¶é€šè¿‡ <code>include(${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake)</code> å¼•å…¥</li>
<li>å¦‚æœè·¯å¾„è§£æå¤±è´¥ï¼Œå‡½æ•°ä¸å­˜åœ¨ï¼Œæ„å»ºä¼šå¤±è´¥</li>
</ul>
</li>
<li>
<p><strong><code>Crow::Crow</code> ç›®æ ‡</strong>ï¼š</p>
<ul>
<li>åœ¨æ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> ä¸­å®šä¹‰ï¼ˆç¬¬ 88-89 è¡Œï¼‰</li>
<li>æ˜¯ä¸€ä¸ª INTERFACE åº“ï¼ŒåŒ…å«ï¼š
<ul>
<li>å¤´æ–‡ä»¶è·¯å¾„ï¼š<code>${CMAKE_CURRENT_SOURCE_DIR}/include</code></li>
<li>é“¾æ¥åº“ï¼š<code>asio::asio</code>ï¼ˆæˆ– Boost åº“ï¼‰</li>
<li>ç¼–è¯‘å®šä¹‰ï¼š<code>ASIO_NO_DEPRECATED</code> ç­‰</li>
</ul>
</li>
<li>å¦‚æœä» <code>examples</code> ç›®å½•æ‰§è¡Œï¼Œè¿™ä¸ªç›®æ ‡ä¸å­˜åœ¨ï¼Œ<code>target_link_libraries()</code> ä¼šæŠ¥é”™</li>
</ul>
</li>
</ol>
<p><strong>è¿™æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„ç¬¬äºŒä¸ªåŸå› </strong>ï¼šç›®æ ‡ä¸å­˜åœ¨ã€‚</p>
<h4 data-id="heading-15">2.4 ä¾èµ–çˆ¶ç›®å½•å®šä¹‰çš„å˜é‡</h4>
<pre><code class="hljs language-cmake" lang="cmake"># If compression is enabled, the example will be built
if("compression" IN_LIST CROW_FEATURES)
    add_executable(example_compression example_compression.cpp)
    ...
endif()

if(CROW_AMALGAMATE)
    add_executable(example_with_all example_with_all.cpp)
    add_dependencies(example_with_all crow_amalgamated)
    ...
endif()
</code></pre>
<p><strong>å˜é‡ä¾èµ–</strong>ï¼š</p>
<ol>
<li><strong><code>CROW_FEATURES</code></strong>ï¼šåœ¨æ ¹ç›®å½•çš„ CMakeLists.txt ä¸­æ ¹æ® <code>CROW_ENABLE_COMPRESSION</code> å’Œ <code>CROW_ENABLE_SSL</code> é€‰é¡¹è®¾ç½®</li>
<li><strong><code>CROW_AMALGAMATE</code></strong>ï¼šåœ¨æ ¹ç›®å½•å®šä¹‰ä¸º CMake é€‰é¡¹</li>
<li><strong><code>crow_amalgamated</code></strong>ï¼šåœ¨æ ¹ç›®å½•å®šä¹‰çš„è‡ªå®šä¹‰ç›®æ ‡ï¼ˆå¦‚æœå¯ç”¨äº† amalgamateï¼‰</li>
</ol>
<p><strong>è¿™æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„ç¬¬ä¸‰ä¸ªåŸå› </strong>ï¼šå˜é‡æœªå®šä¹‰ã€‚</p>
<h3 data-id="heading-16">ä¸‰ã€ä¾èµ–å…³ç³»å›¾</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ ¹ç›®å½• CMakeLists<span class="hljs-selector-class">.txt</span>                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. é…ç½® CMAKE_MODULE_PATH                        â”‚   â”‚
â”‚  â”‚    â†’ æ·»åŠ  cmake/ ç›®å½•                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. å®šä¹‰ Crow::Crow INTERFACE åº“                   â”‚   â”‚
â”‚  â”‚    â†’ åŒ…å«ç›®å½•: include/                          â”‚   â”‚
â”‚  â”‚    â†’ é“¾æ¥åº“: asio::asio                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. æŸ¥æ‰¾ä¾èµ–åº“                                     â”‚   â”‚
â”‚  â”‚    â†’ <span class="hljs-built_in">find_package</span>(asio)                          â”‚   â”‚
â”‚  â”‚    â†’ <span class="hljs-built_in">find_package</span>(ZLIB) [å¯é€‰]                   â”‚   â”‚
â”‚  â”‚    â†’ <span class="hljs-built_in">find_package</span>(OpenSSL) [å¯é€‰]                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">4</span>. è®¾ç½®å˜é‡                                       â”‚   â”‚
â”‚  â”‚    â†’ CROW_FEATURES                               â”‚   â”‚
â”‚  â”‚    â†’ CROW_AMALGAMATE                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">5</span>. <span class="hljs-built_in">add_subdirectory</span>(examples)                    â”‚   â”‚
â”‚  â”‚    â†’ æ‰§è¡Œ examples/CMakeLists.txt                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ ä¾èµ–
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         examples/CMakeLists.txt                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. <span class="hljs-built_in">include</span>(${CMAKE_SOURCE_DIR}/cmake/...)        â”‚   â”‚
â”‚  â”‚    â† éœ€è¦æ ¹ç›®å½•çš„ cmake/ ç›®å½•                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. <span class="hljs-built_in">add_warnings_optimizations</span>()                  â”‚   â”‚
â”‚  â”‚    â† éœ€è¦ compiler_options<span class="hljs-selector-class">.cmake</span> ä¸­çš„å‡½æ•°       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. <span class="hljs-built_in">target_link_libraries</span>(..., Crow::Crow)       â”‚   â”‚
â”‚  â”‚    â† éœ€è¦æ ¹ç›®å½•å®šä¹‰çš„ Crow::Crow ç›®æ ‡            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">4</span>. <span class="hljs-built_in">if</span>(<span class="hljs-string">"compression"</span> IN_LIST CROW_FEATURES)      â”‚   â”‚
â”‚  â”‚    â† éœ€è¦æ ¹ç›®å½•è®¾ç½®çš„ CROW_FEATURES å˜é‡         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-17">å››ã€ä¸ºä»€ä¹ˆä¸èƒ½ä» examples ç›®å½•å¼€å§‹æ‰§è¡Œ</h3>
<h4 data-id="heading-18">4.1 è·¯å¾„è§£æé—®é¢˜</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨ <code>examples</code> ç›®å½•æ‰§è¡Œ <code>cmake .</code></p>
<pre><code class="hljs language-cmake" lang="cmake">include(${CMAKE_SOURCE_DIR}/cmake/compiler_options.cmake)
</code></pre>
<ul>
<li><code>CMAKE_SOURCE_DIR</code> = <code>C:/Users/notfr/projects/Crow/examples</code></li>
<li>è§£æè·¯å¾„ï¼š<code>examples/cmake/compiler_options.cmake</code> âŒ</li>
<li>å®é™…è·¯å¾„ï¼š<code>æ ¹ç›®å½•/cmake/compiler_options.cmake</code> âœ…</li>
</ul>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">CMake</span> <span class="hljs-title class_">Error</span> at <span class="hljs-title class_">CMakeLists</span>.<span class="hljs-property">txt</span>:<span class="hljs-number">4</span> (include):
  include could not find load <span class="hljs-attr">file</span>:
    <span class="hljs-attr">C</span>:<span class="hljs-regexp">/Users/</span>notfr/projects/<span class="hljs-title class_">Crow</span>/examples/cmake/compiler_options.<span class="hljs-property">cmake</span>
</code></pre>
<h4 data-id="heading-19">4.2 ç›®æ ‡ä¸å­˜åœ¨é—®é¢˜</h4>
<p><strong>åœºæ™¯</strong>ï¼šå³ä½¿ä¿®å¤äº†è·¯å¾„é—®é¢˜ï¼Œç»§ç»­æ‰§è¡Œ</p>
<pre><code class="hljs language-cmake" lang="cmake">target_link_libraries(basic_example PUBLIC Crow::Crow)
</code></pre>
<ul>
<li><code>Crow::Crow</code> ç›®æ ‡åœ¨æ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> ä¸­å®šä¹‰</li>
<li>ä» <code>examples</code> ç›®å½•æ‰§è¡Œæ—¶ï¼Œæ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> æœªæ‰§è¡Œ</li>
<li>ç›®æ ‡ä¸å­˜åœ¨</li>
</ul>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">CMake Error at CMakeLists.txt:<span class="hljs-number">40</span> (target_link_libraries):
  Cannot specify link libraries <span class="hljs-keyword">for</span> target <span class="hljs-string">"basic_example"</span> which <span class="hljs-keyword">is</span> not
  built <span class="hljs-keyword">by</span> <span class="hljs-keyword">this</span> project.
  
  CMake Error: The following variables are used <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span> project, but they are
  <span class="hljs-keyword">set</span> to NOTFOUND.
  Please <span class="hljs-keyword">set</span> them or make sure they are <span class="hljs-keyword">set</span> correctly:
  Crow::Crow
</code></pre>
<h4 data-id="heading-20">4.3 ä¾èµ–åº“æœªæŸ¥æ‰¾é—®é¢˜</h4>
<p>å³ä½¿æ‰‹åŠ¨åˆ›å»ºäº† <code>Crow::Crow</code> ç›®æ ‡ï¼Œè¿˜éœ€è¦ï¼š</p>
<ol>
<li>
<p><strong>æŸ¥æ‰¾ asio åº“</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">find_package(asio REQUIRED)
</code></pre>
<ul>
<li>éœ€è¦æ ¹ç›®å½•çš„ <code>cmake/Findasio.cmake</code> æ¨¡å—</li>
<li>éœ€è¦æ­£ç¡®çš„ <code>CMAKE_MODULE_PATH</code> é…ç½®</li>
</ul>
</li>
<li>
<p><strong>è®¾ç½®åŒ…å«ç›®å½•</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">target_include_directories(Crow INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/include)
</code></pre>
<ul>
<li><code>CMAKE_CURRENT_SOURCE_DIR</code> åœ¨ <code>examples</code> ç›®å½•æ‰§è¡Œæ—¶æŒ‡å‘ <code>examples</code></li>
<li>ä½†å¤´æ–‡ä»¶åœ¨æ ¹ç›®å½•çš„ <code>include/</code> ä¸­</li>
</ul>
</li>
</ol>
<h4 data-id="heading-21">4.4 å˜é‡æœªå®šä¹‰é—®é¢˜</h4>
<pre><code class="hljs language-cmake" lang="cmake">if("compression" IN_LIST CROW_FEATURES)
</code></pre>
<ul>
<li><code>CROW_FEATURES</code> åœ¨æ ¹ç›®å½•æ ¹æ® <code>CROW_ENABLE_COMPRESSION</code> å’Œ <code>CROW_ENABLE_SSL</code> è®¾ç½®</li>
<li>ä» <code>examples</code> ç›®å½•æ‰§è¡Œæ—¶ï¼Œè¿™äº›å˜é‡æœªå®šä¹‰</li>
<li>æ¡ä»¶åˆ¤æ–­å¯èƒ½äº§ç”Ÿæ„å¤–è¡Œä¸º</li>
</ul>
<h4 data-id="heading-22">4.5 CMake å­é¡¹ç›®æœºåˆ¶çš„æœ¬è´¨</h4>
<p>CMake çš„ <code>add_subdirectory()</code> æœºåˆ¶è®¾è®¡ä¸Šå°±æ˜¯<strong>å•å‘ä¾èµ–</strong>çš„ï¼š</p>
<ul>
<li><strong>çˆ¶ç›®å½• â†’ å­ç›®å½•</strong>ï¼šçˆ¶ç›®å½•çš„æ‰€æœ‰å®šä¹‰ï¼ˆç›®æ ‡ã€å˜é‡ã€å‡½æ•°ï¼‰å¯¹å­ç›®å½•å¯è§ âœ…</li>
<li><strong>å­ç›®å½• â†’ çˆ¶ç›®å½•</strong>ï¼šå­ç›®å½•ä¸èƒ½ç‹¬ç«‹è¿è¡Œï¼Œå¿…é¡»é€šè¿‡çˆ¶ç›®å½•è°ƒç”¨ âŒ</li>
</ul>
<p>è¿™æ˜¯ CMake çš„è®¾è®¡å“²å­¦ï¼š<strong>å­é¡¹ç›®æ˜¯çˆ¶é¡¹ç›®çš„ç»„æˆéƒ¨åˆ†ï¼Œä¸æ˜¯ç‹¬ç«‹é¡¹ç›®</strong>ã€‚</p>
<h3 data-id="heading-23">äº”ã€æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼</h3>
<h4 data-id="heading-24">5.1 æ ‡å‡†æ„å»ºæµç¨‹</h4>
<pre><code class="hljs language-powershell" lang="powershell"># 1. åœ¨æ ¹ç›®å½•é…ç½® CMake
cd C:\Users\notfr\projects\Crow
cmake -B build -S .

# 2. åœ¨æ ¹ç›®å½•æ„å»ºæ‰€æœ‰ç›®æ ‡
cmake --build build

# 3. åœ¨æ ¹ç›®å½•åªæ„å»º basic_example
cmake --build build --target basic_example
</code></pre>
<h4 data-id="heading-25">5.2 ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡</h4>
<ol>
<li><strong>å•ä¸€é…ç½®æº</strong>ï¼šæ‰€æœ‰ CMake é€‰é¡¹ï¼ˆå¦‚ <code>CROW_ENABLE_SSL</code>ï¼‰åœ¨æ ¹ç›®å½•ç»Ÿä¸€é…ç½®</li>
<li><strong>ä¾èµ–ç®¡ç†é›†ä¸­</strong>ï¼šæ‰€æœ‰ä¾èµ–åº“ï¼ˆasioã€OpenSSL ç­‰ï¼‰åœ¨æ ¹ç›®å½•ç»Ÿä¸€æŸ¥æ‰¾å’Œé…ç½®</li>
<li><strong>ç›®æ ‡å¯è§æ€§</strong>ï¼š<code>Crow::Crow</code> ç›®æ ‡å¯¹æ‰€æœ‰å­é¡¹ç›®å¯è§</li>
<li><strong>æ„å»ºä¸€è‡´æ€§</strong>ï¼šç¡®ä¿æ‰€æœ‰å­é¡¹ç›®ä½¿ç”¨ç›¸åŒçš„ç¼–è¯‘é€‰é¡¹å’Œé…ç½®</li>
</ol>
<h4 data-id="heading-26">5.3 å¦‚æœç¡®å®éœ€è¦ç‹¬ç«‹æ„å»º</h4>
<p>å¦‚æœç¡®å®éœ€è¦ä» <code>examples</code> ç›®å½•ç‹¬ç«‹æ„å»ºï¼ˆä¸æ¨èï¼‰ï¼Œéœ€è¦ï¼š</p>
<ol>
<li>
<p><strong>ä¿®æ”¹è·¯å¾„å¼•ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># ä½¿ç”¨ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„
include(../cmake/compiler_options.cmake)
</code></pre>
</li>
<li>
<p><strong>æ‰‹åŠ¨å®šä¹‰ Crow::Crow ç›®æ ‡</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># æŸ¥æ‰¾ä¾èµ–
list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/../cmake)
find_package(asio REQUIRED)

# åˆ›å»ºç›®æ ‡
add_library(Crow INTERFACE)
add_library(Crow::Crow ALIAS Crow)
target_include_directories(Crow INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/../include)
target_link_libraries(Crow INTERFACE asio::asio)
</code></pre>
</li>
<li>
<p><strong>è®¾ç½®å¿…è¦çš„å˜é‡</strong>ï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">if(NOT DEFINED CROW_FEATURES)
    set(CROW_FEATURES "")
endif()
</code></pre>
</li>
</ol>
<p>ä½†è¿™æ ·åšä¼šï¼š</p>
<ul>
<li>ç ´åé¡¹ç›®çš„ç»Ÿä¸€æ€§</li>
<li>å¢åŠ ç»´æŠ¤æˆæœ¬</li>
<li>å¯èƒ½å¯¼è‡´é…ç½®ä¸ä¸€è‡´</li>
</ul>
<h3 data-id="heading-27">å…­ã€æ€»ç»“</h3>
<h4 data-id="heading-28">6.1 æ ¸å¿ƒè¦ç‚¹</h4>
<ol>
<li>
<p><strong>æ ¹ç›®å½• CMakeLists.txt</strong> æ˜¯æ„å»ºç³»ç»Ÿçš„æ ¸å¿ƒï¼š</p>
<ul>
<li>å®šä¹‰é¡¹ç›®åŸºç¡€è®¾æ–½</li>
<li>æŸ¥æ‰¾å’Œé…ç½®æ‰€æœ‰ä¾èµ–åº“</li>
<li>åˆ›å»º <code>Crow::Crow</code> INTERFACE åº“ç›®æ ‡</li>
<li>è®¾ç½®å…¨å±€å˜é‡å’Œé€‰é¡¹</li>
</ul>
</li>
<li>
<p><strong>examples/CMakeLists.txt</strong> æ˜¯å­é¡¹ç›®ï¼š</p>
<ul>
<li>ä¾èµ–çˆ¶ç›®å½•çš„æ‰€æœ‰å®šä¹‰</li>
<li>ä½¿ç”¨çˆ¶ç›®å½•çš„ç›®æ ‡ã€å˜é‡å’Œå‡½æ•°</li>
<li>ä¸èƒ½ç‹¬ç«‹è¿è¡Œ</li>
</ul>
</li>
<li>
<p><strong>ä¸èƒ½ä» examples ç›®å½•æ‰§è¡Œçš„åŸå› </strong>ï¼š</p>
<ul>
<li>è·¯å¾„è§£æé”™è¯¯ï¼ˆ<code>CMAKE_SOURCE_DIR</code> æŒ‡å‘é”™è¯¯ï¼‰</li>
<li>ç›®æ ‡ä¸å­˜åœ¨ï¼ˆ<code>Crow::Crow</code> æœªå®šä¹‰ï¼‰</li>
<li>ä¾èµ–åº“æœªæŸ¥æ‰¾ï¼ˆasio ç­‰ï¼‰</li>
<li>å˜é‡æœªå®šä¹‰ï¼ˆ<code>CROW_FEATURES</code> ç­‰ï¼‰</li>
<li>è¿å CMake å­é¡¹ç›®è®¾è®¡åŸåˆ™</li>
</ul>
</li>
</ol>
<h4 data-id="heading-29">6.2 æœ€ä½³å®è·µ</h4>
<ul>
<li>âœ… <strong>å§‹ç»ˆä»æ ¹ç›®å½•æ‰§è¡Œ CMake</strong></li>
<li>âœ… <strong>ä½¿ç”¨ <code>--target</code> é€‰é¡¹åªæ„å»ºéœ€è¦çš„ç›®æ ‡</strong></li>
<li>âœ… <strong>ä¿æŒå­é¡¹ç›®å¯¹çˆ¶ç›®å½•çš„ä¾èµ–å…³ç³»</strong></li>
<li>âŒ <strong>ä¸è¦å°è¯•ä»å­ç›®å½•ç‹¬ç«‹æ„å»º</strong></li>
</ul>
<h4 data-id="heading-30">6.3 è®¾è®¡å“²å­¦</h4>
<p>Crow é¡¹ç›®çš„ CMake ç»“æ„ä½“ç°äº†ç°ä»£ CMake çš„æœ€ä½³å®è·µï¼š</p>
<ul>
<li><strong>æ¥å£åº“ï¼ˆINTERFACE Libraryï¼‰</strong>ï¼šé€‚åˆ header-only åº“</li>
<li><strong>ç›®æ ‡å¯¼å‘</strong>ï¼šä½¿ç”¨ <code>target_*</code> å‘½ä»¤è€Œéå…¨å±€å˜é‡</li>
<li><strong>å­é¡¹ç›®ç»„ç»‡</strong>ï¼šé€šè¿‡ <code>add_subdirectory()</code> ç®¡ç†å¤æ‚é¡¹ç›®</li>
<li><strong>ä¾èµ–ä¼ æ’­</strong>ï¼šé€šè¿‡ INTERFACE å±æ€§è‡ªåŠ¨ä¼ æ’­ä¾èµ–</li>
</ul>
<p>è¿™ç§è®¾è®¡ç¡®ä¿äº†æ„å»ºç³»ç»Ÿçš„ä¸€è‡´æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h2 data-id="heading-31">é™„1 Cmakeä¸‰ä¸ªæœ€é‡è¦çš„è¯­æ³•</h2>
<p>æˆ‘ä»¬ç”¨â€œå‰ƒåˆ€åŸåˆ™â€ï¼ˆå³å¥¥å¡å§†å‰ƒåˆ€ï¼šå¦‚æ— å¿…è¦ï¼Œå‹¿å¢å®ä½“ï¼‰æ¥æ€è€ƒ CMake â€”â€” åªä¿ç•™æœ€æ ¸å¿ƒã€æœ€å¿…è¦ã€èƒ½æ”¯æ’‘ç»å¤§å¤šæ•°é¡¹ç›®çš„ä¸‰ä¸ªè¯­æ³•è¦ç´ ã€‚å»æ‰èŠ±é‡Œèƒ¡å“¨çš„ç»†èŠ‚ï¼Œåªè®²çœŸæ­£â€œä¸å¯æˆ–ç¼ºâ€çš„ä¸‰ä»¶å¥—ã€‚</p>
<hr/>
<h4 data-id="heading-32">âœ‚ï¸ å‰ƒåˆ€åŸåˆ™ä¸‹çš„ CMake æœ€é‡è¦ä¸‰ä¸ªè¯­æ³•ï¼š</h4>
<h5 data-id="heading-33">1. <strong>project() â€”â€” å®šä¹‰ä½ çš„é¡¹ç›®åå­—å’Œè¯­è¨€</strong></h5>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆå¿…è¦ï¼Ÿ</strong> æ²¡æœ‰é¡¹ç›®ï¼ŒCMake å°±ä¸çŸ¥é“ä½ åœ¨æ„å»ºä»€ä¹ˆã€‚</p>
<p><strong>é€šä¿—ç†è§£</strong>ï¼šå°±åƒä½ å†™ä½œæ–‡è¦å…ˆèµ·ä¸ªæ ‡é¢˜ï¼Œ<code>project()</code> å°±æ˜¯ç»™ä½ çš„ä»£ç å·¥ç¨‹èµ·ä¸ªâ€œåå­—â€ã€‚</p>
</blockquote>
<pre><code class="hljs language-cmake" lang="cmake"># æœ€ç®€å½¢å¼
project(MyApp)

# æ›´å¸¸è§ï¼šæŒ‡å®šè¯­è¨€ï¼ˆC++ æ˜¯é»˜è®¤ï¼Œä½†æ˜¾å¼å†™å‡ºæ›´æ¸…æ™°ï¼‰
project(MyApp LANGUAGES CXX)
</code></pre>
<p>âœ… <strong>å‰ƒåˆ€ç†ç”±</strong>ï¼šæ²¡æœ‰ <code>project()</code>ï¼Œåç»­å¾ˆå¤šå˜é‡ï¼ˆæ¯”å¦‚ <code>${PROJECT_NAME}</code>ï¼‰éƒ½æ— æ³•ä½¿ç”¨ï¼Œæ„å»ºç³»ç»Ÿä¹Ÿæ— æ³•æ­£ç¡®åˆå§‹åŒ–ã€‚</p>
<hr/>
<h5 data-id="heading-34">2. <strong>add_executable() æˆ– add_library() â€”â€” å‘Šè¯‰ CMake è¦ç”Ÿæˆä»€ä¹ˆ</strong></h5>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆå¿…è¦ï¼Ÿ</strong> ä½ æ€»å¾—å‘Šè¯‰ CMakeï¼šâ€œæˆ‘è¦ç¼–è¯‘å‡ºä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºâ€è¿˜æ˜¯â€œæˆ‘è¦æ‰“åŒ…æˆä¸€ä¸ªåº“â€ã€‚</p>
</blockquote>
<pre><code class="hljs language-cmake" lang="cmake"># ç¼–è¯‘ä¸€ä¸ªå« my_app çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæºç æ˜¯ main.cpp
add_executable(my_app main.cpp utils.cpp)

# æˆ–è€…ç¼–è¯‘ä¸€ä¸ªé™æ€åº“
add_library(my_utils STATIC utils.cpp helper.cpp)
</code></pre>
<p>âœ… <strong>å‰ƒåˆ€ç†ç”±</strong>ï¼šè¿™æ˜¯ CMake çš„â€œç›®æ ‡â€ï¼ˆtargetï¼‰æœºåˆ¶çš„æ ¸å¿ƒã€‚ä¸å®šä¹‰ç›®æ ‡ï¼Œå°±æ²¡æœ‰ä»»ä½•ä¸œè¥¿ä¼šè¢«ç¼–è¯‘ï¼</p>
<hr/>
<h5 data-id="heading-35">3. <strong>target_link_libraries() â€”â€” å‘Šè¯‰ CMake ç›®æ ‡ä¾èµ–ä»€ä¹ˆ</strong></h5>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆå¿…è¦ï¼Ÿ</strong> ç¨‹åºå¾ˆå°‘å­¤ç«‹å­˜åœ¨ï¼Œé€šå¸¸è¦é“¾æ¥æ ‡å‡†åº“ã€ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–è€…è‡ªå·±å†™çš„å…¶ä»–æ¨¡å—ã€‚</p>
</blockquote>
<pre><code class="hljs language-cmake" lang="cmake"># my_app ä¾èµ– my_utils è¿™ä¸ªåº“
target_link_libraries(my_app PRIVATE my_utils)

# æˆ–è€…é“¾æ¥ç³»ç»Ÿçº¿ç¨‹åº“
target_link_libraries(my_app PRIVATE Threads::Threads)
</code></pre>
<p>âœ… <strong>å‰ƒåˆ€ç†ç”±</strong>ï¼šç°ä»£ CMake å¼ºè°ƒâ€œåŸºäºç›®æ ‡çš„ä¾èµ–ç®¡ç†â€ã€‚ç”¨ <code>target_link_libraries()</code> ä¸ä»…èƒ½é“¾æ¥åº“ï¼Œè¿˜èƒ½è‡ªåŠ¨ä¼ é€’å¤´æ–‡ä»¶è·¯å¾„ã€ç¼–è¯‘é€‰é¡¹ç­‰â€”â€”å®ƒæ˜¯ç»„ç»‡ä¾èµ–çš„å”¯ä¸€ç®€æ´ä¸”æ­£ç¡®çš„æ–¹å¼ã€‚</p>
<hr/>
<h4 data-id="heading-36">ğŸ¯ ä¸¾ä¸ªå®Œæ•´å°ä¾‹å­ï¼ˆä¸‰è¡Œæå®šä¸€ä¸ª C++ é¡¹ç›®ï¼‰ï¼š</h4>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
project(MyApp LANGUAGES CXX)
add_executable(hello main.cpp)
target_link_libraries(hello)  # æš‚æ— ä¾èµ–ï¼Œå¯çœç•¥ï¼Œä½†ä¹ æƒ¯ä¿ç•™ç»“æ„
</code></pre>
<p>å³ä½¿åªæœ‰è¿™ä¸‰è¡Œï¼Œä¹Ÿèƒ½åœ¨ä»»ä½•å¹³å°ç”Ÿæˆ Makefileã€Visual Studio å·¥ç¨‹æˆ– Xcode é¡¹ç›®ï¼</p>
<hr/>
<h4 data-id="heading-37">âœ… æ€»ç»“ï¼ˆå‰ƒåˆ€ä¸‰è¦ç´ ï¼‰ï¼š</h4>

























<table><thead><tr><th>è¯­æ³•</th><th>ä½œç”¨</th><th>ç±»æ¯”</th></tr></thead><tbody><tr><td><code>project()</code></td><td>èµ·åå­—ã€å®šè¯­è¨€</td><td>ç»™é¡¹ç›®åŠâ€œèº«ä»½è¯â€</td></tr><tr><td><code>add_executable()</code> / <code>add_library()</code></td><td>å®šä¹‰è¦æ„å»ºä»€ä¹ˆ</td><td>å†™â€œä»»åŠ¡æ¸…å•â€</td></tr><tr><td><code>target_link_libraries()</code></td><td>å£°æ˜ä¾èµ–å…³ç³»</td><td>ç”»â€œå…³ç³»å›¾â€</td></tr></tbody></table>
<p>åªè¦æŒæ¡è¿™ä¸‰ç‚¹ï¼Œ80% çš„ CMake é¡¹ç›®éƒ½èƒ½çœ‹æ‡‚ã€èƒ½å†™ã€‚å…¶ä½™éƒ½æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œéâ€œå¿…è¦â€ã€‚</p>
<blockquote>
<p>ğŸ’¡ è®°ä½ï¼šCMake çš„æ ¸å¿ƒæ€æƒ³ä¸æ˜¯â€œæ€ä¹ˆç¼–è¯‘â€ï¼Œè€Œæ˜¯â€œæè¿°ä½ çš„é¡¹ç›®ç»“æ„â€ã€‚è¶Šç®€å•ï¼Œè¶Šå¼ºå¤§ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠ¢å AIé£æ§èµ›é“åˆ¶é«˜ç‚¹ï¼šä¸ºä»€ä¹ˆfengkong.aiæ˜¯ä½ ä¸èƒ½é”™è¿‡çš„æˆ˜ç•¥èµ„äº§ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596904122866040883</link>    <guid>https://juejin.cn/post/7596904122866040883</guid>    <pubDate>2026-01-19T22:54:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596904122866040883" data-draft-id="7596906923892752394" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠ¢å AIé£æ§èµ›é“åˆ¶é«˜ç‚¹ï¼šä¸ºä»€ä¹ˆfengkong.aiæ˜¯ä½ ä¸èƒ½é”™è¿‡çš„æˆ˜ç•¥èµ„äº§ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T22:54:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ•°æ“AI"/> <meta itemprop="url" content="https://juejin.cn/user/2928754707402423"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠ¢å AIé£æ§èµ›é“åˆ¶é«˜ç‚¹ï¼šä¸ºä»€ä¹ˆfengkong.aiæ˜¯ä½ ä¸èƒ½é”™è¿‡çš„æˆ˜ç•¥èµ„äº§ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2928754707402423/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ•°æ“AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T22:54:40.000Z" title="Mon Jan 19 2026 22:54:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ã€æ”¶è—çº§æ•°å­—èµ„äº§ Â· å³åˆ»æ‹¥æœ‰ã€‘<br/>
æˆ˜ç•¥åŸŸå fengkong.ai ç°å·²å¼€æ”¾äº¤æ˜“<br/>
ç›´è¾¾é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fciguo.net%2F" target="_blank" title="https://ciguo.net/" ref="nofollow noopener noreferrer">ciguo.net/</a><br/>
è¿™æ˜¯ä¸€ä¸ªç›´æŒ‡åƒäº¿AIé£æ§å¸‚åœºçš„å“ç‰Œå…¥å£ï¼Œä¸€ä»½å³å°†éšè¡Œä¸šçˆ†å‘è€ŒæŒ‡æ•°å¢é•¿çš„æ•°å­—ä¸åŠ¨äº§ã€‚</p>
</blockquote>
<p>å¸‚åœºé£é™©è¯„ä¼°ä¸å‡†ç¡®ã€ç¼ºä¹å®æ—¶ç›‘æ§é¢„è­¦å·²æˆä¸ºæŠ•èµ„é¢†åŸŸçš„ä¸»è¦ç—›ç‚¹ï¼Œè€Œé¦™æ¸¯é‡‘èæœºæ„é‡‡ç”¨ç”Ÿæˆå¼AIçš„æ¯”ä¾‹é«˜è¾¾38%ï¼Œè¿œè¶…å…¨çƒ26%çš„å¹³å‡æ°´å¹³ã€‚</p>
<p>æ·±å¤œçš„åŠå…¬å®¤é‡Œï¼Œä¸€å®¶é¦™æ¸¯é‡åŒ–åŸºé‡‘çš„é£æ§ä¸»ç®¡ç›¯ç€å±å¹•ä¸Šè·³åŠ¨çš„æ•°å­—ï¼Œæœ€æ–°çš„AIé¢„è­¦ç³»ç»Ÿåˆšåˆšæ ‡è®°å‡ºä¸‰ä¸ªæŠ•èµ„ç»„åˆçš„å¼‚å¸¸å…³è”äº¤æ˜“ã€‚è¿‡å»éœ€è¦äººå·¥ä¸‰å¤©å®Œæˆçš„åˆ†æï¼Œç°åœ¨åªç”¨äº†23ç§’ã€‚</p>
<p>è¿™æ˜¯AIé£æ§é¢†åŸŸæ¯å¤©å‘ç”Ÿçš„çœŸå®åœºæ™¯ï¼Œè€Œfengkong.aiè¿™ä¸ªåŸŸåï¼Œæ­£æ˜¯é€šå¾€è¿™ä¸ªä»·å€¼æ•°ä¸‡äº¿ç¾å…ƒå¸‚åœºçš„æ•°å­—é’¥åŒ™ã€‚</p>
<h2 data-id="heading-0">01 è¡Œä¸šè„‰æ</h2>
<p>é‡‘èç§‘æŠ€çš„æµªæ½®ä¸AIé£æ§çš„å¿…ç„¶å…´èµ·</p>
<p>å½“å‰å…¨çƒé‡‘èç§‘æŠ€å¸‚åœºæ­£ç»å†å‰æ‰€æœªæœ‰çš„å˜é©ï¼Œç‰¹åˆ«æ˜¯åœ¨é£é™©æ§åˆ¶é¢†åŸŸã€‚é¦™æ¸¯ä½œä¸ºå›½é™…é‡‘èä¸­å¿ƒï¼Œå¼•é¢†ç€è¿™ä¸€å˜é©çš„æ½®æµã€‚</p>
<p>æ ¹æ®ä¸€é¡¹2023å¹´çš„å…¨çƒè°ƒæŸ¥ï¼Œé¦™æ¸¯é‡‘èæœºæ„é‡‡ç”¨ç”Ÿæˆå¼AIçš„æ¯”ä¾‹å·²è¾¾åˆ°38%ï¼Œæ˜æ˜¾é«˜äºå…¨çƒ26%çš„å¹³å‡æ°´å¹³ã€‚è¿™ç§æŠ€æœ¯é‡‡çº³é€Ÿåº¦èƒŒåï¼Œåæ˜ çš„æ˜¯å¯¹é«˜æ•ˆã€ç²¾å‡†é£æ§è§£å†³æ–¹æ¡ˆçš„è¿«åˆ‡éœ€æ±‚ã€‚</p>
<p>è¡Œä¸šå†…çš„é£æ§ç—›ç‚¹ååˆ†æ˜æ˜¾ï¼šå¸‚åœºé£æ³¢å¸¦æ¥çš„ä¸å¯é¢„æµ‹å½±å“ã€é£é™©è¯„ä¼°ä¸å‡†ç¡®å¯¼è‡´æŠ•èµ„æŸå¤±ã€ç¼ºä¹å®æ—¶æ•°æ®å’Œåˆ†æé€ æˆå†³ç­–æ»åï¼Œä»¥åŠä¸å®Œå–„çš„åˆè§„ç®¡ç†å¸¦æ¥çš„æ³•å¾‹é£é™©ã€‚</p>
<p>ä¼ ç»Ÿé£æ§æ‰‹æ®µå·²æ— æ³•æ»¡è¶³ç°ä»£é‡‘èå¸‚åœºçš„éœ€æ±‚ï¼Œè€ŒAIé£æ§å‡­å€Ÿå…¶èƒ½å¤Ÿâ€œå®æ—¶åŠ¨æ€æ•°æ®ç›‘æµ‹â€ã€â€œå¤šç»´æ•°æ®åˆ†æâ€å’Œâ€œæ™ºèƒ½é¢„è­¦æç¤ºâ€çš„èƒ½åŠ›ï¼Œæ­£åœ¨æˆä¸ºé‡‘èæœºæ„çš„æ ‡é…ã€‚</p>
<h2 data-id="heading-1">02 åŸŸåè§£æ</h2>
<p>å“ç‰Œä»·å€¼ä¸å¸‚åœºå®šä½çš„æˆ˜ç•¥åŒ¹é…</p>
<p>Fengkong.aiè¿™ä¸€åŸŸåç›´æŒ‡è¡Œä¸šæ ¸å¿ƒâ€”â€œé£æ§â€ä¸â€œAIâ€çš„å®Œç¾ç»“åˆã€‚åœ¨ä¸­æ–‡è¯­å¢ƒä¸­ï¼Œâ€œé£æ§â€æ˜¯é‡‘èã€ç§‘æŠ€å’Œäº’è”ç½‘è¡Œä¸šçš„é«˜é¢‘ä¸“ä¸šæœ¯è¯­ï¼Œå…·æœ‰æ˜ç¡®çš„è¡Œä¸šæŒ‡å‘æ€§ã€‚</p>
<p>ä»å“ç‰Œå»ºè®¾è§’åº¦çœ‹ï¼Œè¿™ä¸ªåŸŸåå…·æœ‰å¤©ç„¶çš„è®°å¿†ä¼˜åŠ¿ã€‚ä¸éœ€è¦è§£é‡Šå’Œè®°å¿†çš„è™šæ„å“ç‰Œåä¸åŒï¼Œfengkong.aiç›´ç™½åœ°ä¼ è¾¾äº†ä¸šåŠ¡æ ¸å¿ƒï¼Œé™ä½äº†å®¢æˆ·è®¤çŸ¥æˆæœ¬ã€‚</p>
<p>è¿™ä¸ªåŸŸåçš„ç¨€ç¼ºæ€§ä¸è¨€è€Œå–»ã€‚åœ¨ä¼˜è´¨åŸŸåèµ„æºæ—¥ç›Šæ¯ç«­çš„ä»Šå¤©ï¼Œç®€çŸ­ã€æ˜“è®°ä¸”ä¸çƒ­é—¨è¡Œä¸šç›´æ¥ç›¸å…³çš„åŸŸåå·²æˆä¸ºæ•°å­—æ—¶ä»£çš„ç¨€æœ‰èµ„äº§ã€‚è€Œâ€œ.aiâ€åŸŸåçš„ç‰¹æ®Šæ€§æ›´å¢åŠ äº†å…¶ä»·å€¼â€”å®ƒä¸ä»…æ˜¯å®‰åœ­æ‹‰çš„å›½å®¶é¡¶çº§åŸŸåï¼Œæ›´æ˜¯äººå·¥æ™ºèƒ½è¡Œä¸šçš„èº«ä»½è±¡å¾ã€‚</p>
<h2 data-id="heading-2">03 åº”ç”¨è“å›¾</h2>
<p>AIé£æ§å¹³å°çš„å¤šå…ƒåœºæ™¯ä¸å®é™…ä»·å€¼</p>
<p>AIé£æ§æŠ€æœ¯å·²ç»æ¸—é€åˆ°é‡‘èè¡Œä¸šçš„å„ä¸ªç¯èŠ‚ã€‚ä»¥ä¸­ç§‘é—»æ­Œçš„å…¨åœºæ™¯æŠ•èµ„é£æ§å¹³å°ä¸ºä¾‹ï¼Œå®ƒèƒ½å¤Ÿå®ç°å®æ—¶åŠ¨æ€æ•°æ®ç›‘æµ‹ï¼ŒæŒç»­è¿½è¸ªä¼ä¸šçš„å…³é”®æŒ‡æ ‡å’Œé£é™©ä¿¡å·ã€‚</p>
<p>ç«¹é—´æ™ºèƒ½çš„Geminié£æ§äº§å“å±•ç¤ºäº†AIé£æ§çš„å¦ä¸€ç»´åº¦ï¼Œå®ƒèƒ½å¤Ÿæœ¬åœ°åŒ–éƒ¨ç½²ï¼Œå¿«é€Ÿé›†æˆä¸åŒæ•°æ®æºï¼Œçµæ´»å¤„ç†æµ·é‡ç»“æ„åŒ–åŠéç»“æ„åŒ–æ•°æ®ã€‚</p>
<p>è¯¥å¹³å°å®ç°äº†åŸºäºå›¾åˆ†æçš„é£æ§å¼•æ“ï¼Œåœ¨ç»“åˆä¼ ç»Ÿé£æ§è§„åˆ™çš„åŸºç¡€ä¸Šï¼Œå®ç°äº†æ·±åº¦è‡ªåŠ¨å…³è”æ¨ç†å’Œå¯ç–‘ç‚¹å‘ç°ï¼Œå¹¶è‡ªåŠ¨è¯†åˆ«æ–°çš„é£é™©æ¨¡å¼ã€‚</p>
<p>å®é™…åº”ç”¨ä¸­ï¼ŒAIé£æ§å¹³å°å¯æœåŠ¡äºå¤šä¸ªåœºæ™¯ï¼š</p>
<p>å®¢æˆ·å°½èŒè°ƒæŸ¥ï¼Œå¿«é€Ÿæä¾›å‡†ç¡®çš„ä¼ä¸šä¿¡æ¯ï¼›</p>
<p>é£é™©ç­‰çº§è¯„ä¼°ï¼Œç§‘å­¦è¯„å®šä¼ä¸šé£é™©ç­‰çº§ï¼›</p>
<p>å¤šç»´èº«ä»½è¯†åˆ«ï¼Œå…¨é¢å±•ç°ä¼ä¸šå…³è”ç½‘ç»œï¼›</p>
<p>é£é™©åŠ¨æ€ç›‘æ§ï¼ŒæŒç»­ç›‘æ§ä¼ä¸šç»è¥çŠ¶æ€å’Œé£é™©äº‹ä»¶ã€‚</p>
<h2 data-id="heading-3">04 æˆåŠŸæ ·æ¿</h2>
<p>è¡Œä¸šé¢†å…ˆè€…çš„å®è·µä¸å¸‚åœºéªŒè¯</p>
<p>åŒ—äº¬ç§‘åˆ›åŸºé‡‘çš„ä¸€ç«™å¼æ™ºèƒ½æŠ•ç ”ã€é£æ§ã€èµ„ç®¡å¹³å°æ˜¯AIé£æ§çš„æˆåŠŸæ¡ˆä¾‹ã€‚è¯¥å¹³å°åŸºäºå›¾ç¥ç»ç½‘ç»œã€æ™ºèƒ½é£é™©ç›‘æµ‹æ¨¡å‹å’Œæ™ºèƒ½æ¨èå¼•æ“æŠ€æœ¯ï¼Œèåˆäº†äº§ä¸šä»·å€¼å›¾è°±ã€‚</p>
<p>å¹³å°ä¸ºæŠ•èµ„ç ”åˆ¤ã€é£é™©ç®¡ç†å’ŒæŠ•åèµ‹èƒ½æä¾›ä¸€ç«™å¼æœåŠ¡ï¼Œå¸®åŠ©å®¢æˆ·å®ç°èµ„äº§ç®¡ç†è§„æ¨¡çš„é«˜è´¨é‡å¢é•¿ã€‚è¿™ä¸€æ¡ˆä¾‹å……åˆ†è¯æ˜äº†AIé£æ§å¹³å°çš„å®é™…ä»·å€¼å’Œå¸‚åœºæ¥å—åº¦ã€‚</p>
<p>ç«¹é—´æ™ºèƒ½çš„Geminié£æ§å¹³å°åˆ™ä½“ç°äº†æŠ€æœ¯çš„å‰æ²¿æ€§ï¼Œå®ƒçš„ â€œè®¤çŸ¥+RPAâ€æ¨¡å¼ä»…éœ€5æ­¥å°±èƒ½åˆ›å»ºä¸“å±é£æ§æœºå™¨äººï¼Œå¤§å¤§é™ä½äº†æŠ€æœ¯ä½¿ç”¨é—¨æ§›ã€‚å¹³å°åŒ…æ‹¬åˆ›å»ºã€è®­ç»ƒã€æµ‹è¯•ã€ä½¿ç”¨å’Œä¼˜åŒ–çš„å®Œæ•´æµç¨‹ï¼Œå®ç°äº†é£æ§æµç¨‹çš„è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–ã€‚</p>
<h2 data-id="heading-4">05 æˆ˜ç•¥å®šä½</h2>
<p>å›½é™…åŒ–è§†é‡ä¸å¸‚åœºæ‰©å¼ çš„åŒé‡ä¼˜åŠ¿</p>
<p>é¦™æ¸¯ä½œä¸ºå›½é™…é‡‘èä¸­å¿ƒï¼Œå…·æœ‰ç‹¬ç‰¹çš„åŒé‡ä¼˜åŠ¿ã€‚å®ƒä¸ä»…æ˜¯å†…åœ°AIä¼ä¸šå‡ºæµ·çš„æµ‹è¯•åŸºåœ°ï¼Œä¹Ÿæ˜¯å›½é™…AIæŠ€æœ¯è¿›å…¥äºšæ´²å¸‚åœºçš„é‡è¦é—¨æˆ·ã€‚</p>
<p>è¿™ç§æ¡¥æ¢ä½œç”¨åœ¨AIé£æ§é¢†åŸŸå°¤ä¸ºé‡è¦ã€‚é¦™æ¸¯æ‹¥æœ‰å›½é™…åŒ–çš„å®¢æˆ·åŸºç¡€å’Œç¯å¢ƒï¼Œä½¿å…¶æˆä¸ºAIå…¬å¸æœåŠ¡å…¨çƒå¸‚åœºçš„ç†æƒ³è¯•ç‚¹ã€‚</p>
<p>å¯¹äºæ‹¥æœ‰fengkong.aiåŸŸåçš„ä¼ä¸šï¼Œè¿™ä¸€æˆ˜ç•¥ä½ç½®æä¾›äº†åŒé‡æœºé‡ï¼šæ—¢å¯ä»¥æœåŠ¡å†…åœ°åºå¤§çš„é‡‘èå¸‚åœºï¼Œåˆèƒ½å¯¹æ¥å›½é™…å…ˆè¿›çš„AIæŠ€æœ¯å’Œé‡‘èæ ‡å‡†ã€‚</p>
<p>é¦™æ¸¯ä¸‰æ‰€å¤§å­¦â€”é¦™æ¸¯ç§‘æŠ€å¤§å­¦ã€é¦™æ¸¯å¤§å­¦å’Œé¦™æ¸¯ä¸­æ–‡å¤§å­¦åœ¨2025å¹´QSä¸–ç•Œå¤§å­¦æ’åä¸­ï¼Œå‡è¿›å…¥äº†æ•°æ®ç§‘å­¦å’ŒAIé¢†åŸŸçš„å‰20åã€‚è¿™ä¸ºAIé£æ§é¢†åŸŸæä¾›äº†ä¸°å¯Œçš„äººæ‰èµ„æºå’Œç ”å‘æ”¯æŒã€‚</p>
<h2 data-id="heading-5">06 æŠ•èµ„å‰ç»</h2>
<p>æ•°å­—èµ„äº§å¢å€¼ä¸å“ç‰Œå»ºè®¾çš„åŒé‡å›æŠ¥</p>
<p>ä»æŠ•èµ„è§’åº¦çœ‹ï¼Œfengkong.aiè¿™æ ·çš„è¡Œä¸šç²¾å‡†åŸŸåå…·æœ‰å¤šé‡ä»·å€¼ç»´åº¦ã€‚åœ¨AIé£æ§è¡Œä¸šçˆ†å‘å‰å¤œï¼ŒæŠ¢å è¿™ä¸€æˆ˜ç•¥åŸŸåç›¸å½“äºåœ¨æ•°å­—ä¸–ç•Œåœˆå®šäº†è¡Œä¸šé¢†åœ°ã€‚</p>
<p>åŸŸåçš„ä»·å€¼ä¼šéšç€AIé£æ§è¡Œä¸šçš„å‘å±•è€Œè‡ªç„¶å¢å€¼ï¼Œè¿™ç§å¢å€¼æ˜¯æŒ‡æ•°çº§çš„ã€‚å½“AIé£æ§æˆä¸ºé‡‘èè¡Œä¸šçš„æ ‡å‡†é…ç½®æ—¶ï¼Œè¿™ä¸ªåŸŸåçš„å“ç‰Œä»·å€¼å°†ä¸å¯ä¼°é‡ã€‚</p>
<p>åŸŸåæŠ•èµ„ä¸å…¶ä»–æŠ•èµ„ä¸åŒï¼Œå®ƒå…·æœ‰â€œèµ¢å®¶é€šåƒâ€çš„ç‰¹ç‚¹ã€‚åœ¨äº’è”ç½‘é¢†åŸŸï¼Œè¡Œä¸šå…³é”®è¯åŸŸåå¾€å¾€åªæ‰¿è®¤ä¸€ä¸ªæƒå¨æŒæœ‰è€…ã€‚è¿™æ„å‘³ç€ä¸€æ—¦ä½ æ‹¥æœ‰äº†fengkong.aiï¼Œå°±ç›¸å½“äºåœ¨è¿™ä¸ªç»†åˆ†é¢†åŸŸå»ºç«‹äº†å¤©ç„¶çš„ç«äº‰å£å’ã€‚</p>
<p>é¦™æ¸¯å›½é™…æœºåœºç¬¬ä¸‰è·‘é“ç³»ç»Ÿå·²å…¨é¢å¯ç”¨ï¼Œå¹´æ—…å®¢ååé‡å¢è‡³1.2äº¿äººæ¬¡ã€‚æ¯å¤©ï¼Œæ— æ•°èµ„é‡‘ã€æ•°æ®å’Œå†³ç­–åœ¨è¿™é‡Œäº¤æ±‡æµè½¬ã€‚</p>
<p>è·‘é“ä¸Šï¼ŒFJDynamicså…¬å¸çš„è‡ªä¸»åˆ’çº¿æœºå™¨äººç²¾ç¡®åœ°æ ‡è®°ç€å®‰å…¨çº¿ï¼Œè¯¯å·®ä¸è¶…è¿‡2å˜ç±³ã€‚ä¸æ­¤åŒæ—¶ï¼Œé‡‘èå¸‚åœºçš„â€œè·‘é“â€ä¸Šï¼ŒAIé£æ§ç³»ç»Ÿæ­£ä»¥æ›´é«˜çš„ç²¾åº¦æ ‡è®°ç€é£é™©è¾¹ç•Œã€‚</p>
<p><strong>ç°åœ¨ï¼Œæ‚¨æœ‰æœºä¼šé€šè¿‡Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fciguo.net%2F" target="_blank" title="https://ciguo.net/" ref="nofollow noopener noreferrer">ciguo.net/</a>Â ç›´æ¥æŒæœ‰Â <a href="https://link.juejin.cn?target=https%3A%2F%2Ffengkong.ai%2F" target="_blank" title="https://fengkong.ai/" ref="nofollow noopener noreferrer">fengkong.ai</a>Â è¿™ä¸€æˆ˜ç•¥åŸŸåï¼Œæˆä¸ºAIé£æ§èµ›é“æ•°å­—åœ°æ ‡çš„æ‹¥æœ‰è€…ã€‚è¿™ä¸ä»…æ˜¯ä¸€æ¬¡è´­ä¹°ï¼Œæ›´æ˜¯å¯¹é‡‘èç§‘æŠ€æœªæ¥çš„æå‰å¸ƒå±€ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[BlockingCollection<T> å†…éƒ¨æœºåˆ¶ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7596971669862088745</link>    <guid>https://juejin.cn/post/7596971669862088745</guid>    <pubDate>2026-01-19T23:19:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596971669862088745" data-draft-id="7596969908324499510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="BlockingCollection&lt;T&gt; å†…éƒ¨æœºåˆ¶ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2026-01-19T23:19:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            BlockingCollection&lt;T&gt; å†…éƒ¨æœºåˆ¶ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T23:19:23.000Z" title="Mon Jan 19 2026 23:19:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç®€ä»‹</h3>
<p><code>BlockingCollection&lt;T&gt;</code> æ˜¯ <code>.NET</code> ä¸­éå¸¸é‡è¦ä¸”å®ç”¨çš„çº¿ç¨‹å®‰å…¨ã€é˜»å¡å¼çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…é›†åˆç±»ï¼Œä½äº <code>System.Collections.Concurrent</code> å‘½åç©ºé—´ã€‚</p>
<blockquote>
<p>BlockingCollection ä¸æ˜¯é˜Ÿåˆ—ï¼Œ
è€Œæ˜¯ä¸€ä¸ªâ€œå¸¦é˜»å¡è¯­ä¹‰çš„å¹¶å‘ç®¡é“ï¼ˆBlocking Producerâ€“Consumer Abstractionï¼‰â€ã€‚
åœ¨å¹¶å‘é›†åˆå¤–é¢ï¼ŒåŠ äº†ä¸€å±‚â€œé˜»å¡ + å®¹é‡æ§åˆ¶ + å®Œæˆè¯­ä¹‰â€</p>
</blockquote>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ï¼Ÿ</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç”Ÿäº§è€…çº¿ç¨‹ â†’ [BlockingCollection] â†’ æ¶ˆè´¹è€…çº¿ç¨‹</span>
<span class="hljs-comment">// 1. ç”Ÿäº§è€…æ·»åŠ é¡¹ç›®ï¼Œå¦‚æœé›†åˆå·²æ»¡åˆ™é˜»å¡ç­‰å¾…</span>
<span class="hljs-comment">// 2. æ¶ˆè´¹è€…å–å‡ºé¡¹ç›®ï¼Œå¦‚æœé›†åˆä¸ºç©ºåˆ™é˜»å¡ç­‰å¾…</span>
<span class="hljs-comment">// 3. è‡ªåŠ¨çš„çº¿ç¨‹åŒæ­¥å’Œèµ„æºç®¡ç†</span>
</code></pre>
<h3 data-id="heading-2">æ ¸å¿ƒå®šä½ä¸ä»·å€¼</h3>
<p><code>BlockingCollection&lt;T&gt;</code> æ˜¯ä¸€ä¸ªåŒ…è£…å™¨ï¼Œå®ƒå¯ä»¥åŸºäºä»¥ä¸‹å‡ ç§åº•å±‚é›†åˆæ¥å·¥ä½œï¼ˆé»˜è®¤ä½¿ç”¨ <code>ConcurrentQueue&lt;T&gt;</code>ï¼‰ï¼š</p>



































<table><thead><tr><th>åº•å±‚é›†åˆç±»å‹</th><th>é»˜è®¤</th><th>æœ‰ç•Œï¼ˆBoundedï¼‰</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>ConcurrentQueue</td><td>æ˜¯</td><td>å¯é€‰</td><td>FIFOï¼Œæ€§èƒ½æœ€é«˜</td></tr><tr><td>ConcurrentStack</td><td>å¦</td><td>å¯é€‰</td><td>LIFO</td></tr><tr><td>ConcurrentBag</td><td>å¦</td><td>å¯é€‰</td><td>æ— åºï¼Œæ’å…¥/å–å‡ºæœ€å¿«</td></tr><tr><td>è‡ªå®šä¹‰ IProducerConsumerCollection</td><td>å¦</td><td>å¯é€‰</td><td>é«˜åº¦è‡ªå®šä¹‰</td></tr></tbody></table>
<p>åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸­ï¼Œâ€œç”Ÿäº§è€…çº¿ç¨‹ç”Ÿäº§æ•°æ®ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹æ¶ˆè´¹æ•°æ®â€ æ˜¯é«˜é¢‘åœºæ™¯ï¼ˆå¦‚æ—¥å¿—æ”¶é›†ã€ä»»åŠ¡é˜Ÿåˆ—ã€æ¶ˆæ¯å¤„ç†ï¼‰ã€‚è‹¥ç”¨æ™®é€šé›†åˆï¼ˆå¦‚<code>List&lt;T&gt;</code>ï¼‰+ æ‰‹åŠ¨é”å®ç°ï¼Œéœ€å¤„ç†ï¼š</p>
<ul>
<li>
<p>çº¿ç¨‹å®‰å…¨ï¼ˆåŠ  <code>lock</code> ï¼‰ï¼›</p>
</li>
<li>
<p>ç©ºé›†åˆæ—¶æ¶ˆè´¹è€…ç­‰å¾…ï¼ˆ<code>Monitor.Wait</code>ï¼‰ï¼›</p>
</li>
<li>
<p>æ»¡é›†åˆæ—¶ç”Ÿäº§è€…ç­‰å¾…ï¼ˆ<code>Monitor.Wait</code>ï¼‰ï¼›</p>
</li>
<li>
<p>æ•°æ®å°±ç»ªæ—¶å”¤é†’ç­‰å¾…çº¿ç¨‹ï¼ˆ<code>Monitor.Pulse</code>ï¼‰ã€‚</p>
</li>
</ul>
<p><code>BlockingCollection&lt;T&gt;</code> å°è£…äº†ä¸Šè¿°æ‰€æœ‰é€»è¾‘ï¼Œæ ¸å¿ƒä»·å€¼ï¼š</p>
<ul>
<li>
<p>å¼€ç®±å³ç”¨çš„é˜»å¡é€»è¾‘ï¼šç©ºé›†åˆæ¶ˆè´¹é˜»å¡ã€æ»¡é›†åˆç”Ÿäº§é˜»å¡ï¼›</p>
</li>
<li>
<p>çº¿ç¨‹å®‰å…¨ï¼šæ‰€æœ‰æ“ä½œï¼ˆæ·»åŠ  / ç§»é™¤ / éå†ï¼‰å‡çº¿ç¨‹å®‰å…¨ï¼›</p>
</li>
<li>
<p>æ”¯æŒè¾¹ç•Œé™åˆ¶ï¼šå¯è®¾ç½®é›†åˆæœ€å¤§å®¹é‡ï¼ˆæ»¡åˆ™é˜»å¡ç”Ÿäº§è€…ï¼‰ï¼›</p>
</li>
<li>
<p>æ”¯æŒå–æ¶ˆ / å®Œæˆï¼šå¯ä¼˜é›…åœæ­¢ç”Ÿäº§ / æ¶ˆè´¹ï¼Œé¿å…çº¿ç¨‹å¡æ­»ï¼›</p>
</li>
<li>
<p>çµæ´»çš„åº•å±‚å­˜å‚¨ï¼šé»˜è®¤åŸºäº <code>ConcurrentQueue&lt;T&gt;</code>ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼Œä¹Ÿå¯æŒ‡å®š <code>ConcurrentStack&lt;T&gt;/ConcurrentBag&lt;T&gt;</code>ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">æœ€å¸¸ç”¨çš„å‡ ç§åˆ›å»ºæ–¹å¼</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// 1. æœ€å¸¸ç”¨ï¼šæ— ç•Œé˜Ÿåˆ—ï¼ˆæ¨èç”¨äºå¤§å¤šæ•°åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">var</span> bc = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;();

<span class="hljs-comment">// 2. æœ‰ç•Œé˜Ÿåˆ—ï¼ˆé™åˆ¶å®¹é‡ï¼Œç”Ÿäº§è€…æ»¡æ—¶ä¼šé˜»å¡ï¼‰</span>
<span class="hljs-keyword">var</span> bcBounded = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;(boundedCapacity: <span class="hljs-number">100</span>);

<span class="hljs-comment">// 3. æŒ‡å®šåº•å±‚é›†åˆ + æœ‰ç•Œ</span>
<span class="hljs-keyword">var</span> bcStack = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;(
    <span class="hljs-keyword">new</span> ConcurrentStack&lt;<span class="hljs-built_in">string</span>&gt;(),
    boundedCapacity: <span class="hljs-number">50</span>);

<span class="hljs-comment">// 4. åŸºäºå·²æœ‰çš„é›†åˆï¼ˆé«˜çº§ç”¨æ³•ï¼‰</span>
<span class="hljs-keyword">var</span> queue = <span class="hljs-keyword">new</span> ConcurrentQueue&lt;<span class="hljs-built_in">string</span>&gt;();
<span class="hljs-keyword">var</span> bcFromExisting = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;(queue, <span class="hljs-number">200</span>);
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒ API ä¸åŸºç¡€ä½¿ç”¨</h3>
<h4 data-id="heading-5">æ ¸å¿ƒæ„é€ å‡½æ•°</h4>
<ul>
<li>
<p><code>BlockingCollection&lt;T&gt;()</code>: é»˜è®¤æ„é€ ï¼šæ— è¾¹ç•Œé™åˆ¶ï¼Œåº•å±‚ç”¨ <code>ConcurrentQueue&lt;T&gt;</code></p>
</li>
<li>
<p><code>BlockingCollection&lt;T&gt;(int boundedCapacity)</code>: æŒ‡å®šæœ€å¤§å®¹é‡ï¼ˆè¾¹ç•Œï¼‰ï¼Œæ»¡åˆ™ç”Ÿäº§è€…é˜»å¡</p>
</li>
<li>
<p><code>BlockingCollection&lt;T&gt;(IProducerConsumerCollection&lt;T&gt;)</code>: è‡ªå®šä¹‰åº•å±‚å­˜å‚¨ï¼ˆå¦‚<code>ConcurrentStack&lt;T&gt;</code>ï¼‰</p>
</li>
<li>
<p><code>BlockingCollection&lt;T&gt;(IProducerConsumerCollection&lt;T&gt;, int)</code>: è‡ªå®šä¹‰å­˜å‚¨ + æœ€å¤§å®¹é‡</p>
</li>
</ul>
<h4 data-id="heading-6">æ ¸å¿ƒæ–¹æ³• / å±æ€§</h4>
<ul>
<li>
<p><code>Add(T item)</code>: å‘é›†åˆæ·»åŠ å…ƒç´ ï¼šè‹¥é›†åˆæ»¡åˆ™é˜»å¡ï¼Œç›´åˆ°æœ‰ç©ºé—´</p>
</li>
<li>
<p><code>Add(T item, CancellationToken)</code>: å¸¦å–æ¶ˆä»¤ç‰Œçš„ Addï¼šå¯ä¸­é€”å–æ¶ˆé˜»å¡</p>
</li>
<li>
<p><code>Take()</code>: ä»é›†åˆç§»é™¤å¹¶è¿”å›å…ƒç´ ï¼šè‹¥é›†åˆç©ºåˆ™é˜»å¡ï¼Œç›´åˆ°æœ‰å…ƒç´ </p>
</li>
<li>
<p><code>Take(CancellationToken)</code>: å¸¦å–æ¶ˆä»¤ç‰Œçš„ Takeï¼šå¯ä¸­é€”å–æ¶ˆé˜»å¡</p>
</li>
<li>
<p><code>TryAdd(T item, int millisecondsTimeout)</code>: å°è¯•æ·»åŠ ï¼šè¶…æ—¶è¿”å› falseï¼ˆéé˜»å¡ï¼‰</p>
</li>
<li>
<p><code>TryTake(out T item, int millisecondsTimeout)</code>: å°è¯•è·å–ï¼šè¶…æ—¶è¿”å› falseï¼ˆéé˜»å¡ï¼‰</p>
</li>
<li>
<p><code>CompleteAdding()</code>: æ ‡è®° â€œæ·»åŠ å®Œæˆâ€ï¼šåç»­ Add ä¼šæŠ›å¼‚å¸¸ï¼ŒTake åœ¨é›†åˆç©ºåé€€å‡º</p>
</li>
<li>
<p><code>IsAddingCompleted</code>: åˆ¤æ–­æ˜¯å¦å·²è°ƒç”¨ <code>CompleteAdding()</code></p>
</li>
<li>
<p><code>IsCompleted</code>: åˆ¤æ–­æ˜¯å¦ â€œæ·»åŠ å®Œæˆä¸”é›†åˆä¸ºç©ºâ€</p>
</li>
<li>
<p><code>BoundedCapacity</code>: é›†åˆæœ€å¤§å®¹é‡ï¼ˆ-1 è¡¨ç¤ºæ— é™åˆ¶ï¼‰</p>
</li>
</ul>
<h4 data-id="heading-7">æ ¸å¿ƒæ“ä½œæ–¹æ³•</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CoreOperations</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DemonstrateOperations</span>()</span>
    {
        <span class="hljs-keyword">var</span> collection = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;(boundedCapacity: <span class="hljs-number">3</span>);
        
        <span class="hljs-comment">// 1. æ·»åŠ é¡¹ç›®</span>
        collection.Add(<span class="hljs-string">"é¡¹ç›®1"</span>); <span class="hljs-comment">// é˜»å¡ç›´åˆ°æœ‰ç©ºé—´</span>
        
        <span class="hljs-comment">// 2. å°è¯•æ·»åŠ ï¼ˆä¸é˜»å¡ï¼‰</span>
        <span class="hljs-built_in">bool</span> added = collection.TryAdd(<span class="hljs-string">"é¡¹ç›®2"</span>, millisecondsTimeout: <span class="hljs-number">0</span>);
        Console.WriteLine(<span class="hljs-string">$"å°è¯•æ·»åŠ ç»“æœ: <span class="hljs-subst">{added}</span>"</span>);
        
        <span class="hljs-comment">// 3. å¸¦è¶…æ—¶çš„æ·»åŠ </span>
        <span class="hljs-built_in">bool</span> addedWithTimeout = collection.TryAdd(<span class="hljs-string">"é¡¹ç›®3"</span>, 
            millisecondsTimeout: <span class="hljs-number">1000</span>); <span class="hljs-comment">// æœ€å¤šç­‰å¾…1ç§’</span>
        Console.WriteLine(<span class="hljs-string">$"å¸¦è¶…æ—¶æ·»åŠ ç»“æœ: <span class="hljs-subst">{addedWithTimeout}</span>"</span>);
        
        <span class="hljs-comment">// 4. å–å‡ºé¡¹ç›®ï¼ˆé˜»å¡ï¼‰</span>
        <span class="hljs-built_in">string</span> item1 = collection.Take(); <span class="hljs-comment">// é˜»å¡ç›´åˆ°æœ‰é¡¹ç›®å¯å–</span>
        Console.WriteLine(<span class="hljs-string">$"å–å‡º: <span class="hljs-subst">{item1}</span>"</span>);
        
        <span class="hljs-comment">// 5. å°è¯•å–å‡ºï¼ˆä¸é˜»å¡ï¼‰</span>
        <span class="hljs-built_in">bool</span> taken = collection.TryTake(<span class="hljs-keyword">out</span> <span class="hljs-built_in">string</span> item2, millisecondsTimeout: <span class="hljs-number">0</span>);
        Console.WriteLine(<span class="hljs-string">$"å°è¯•å–å‡ºç»“æœ: <span class="hljs-subst">{taken}</span>, é¡¹ç›®: <span class="hljs-subst">{item2}</span>"</span>);
        
        <span class="hljs-comment">// 6. æŸ¥çœ‹ä½†ä¸ç§»é™¤</span>
        <span class="hljs-built_in">bool</span> peeked = collection.TryPeek(<span class="hljs-keyword">out</span> <span class="hljs-built_in">string</span> item3);
        Console.WriteLine(<span class="hljs-string">$"æŸ¥çœ‹ç»“æœ: <span class="hljs-subst">{peeked}</span>, é¡¹ç›®: <span class="hljs-subst">{item3}</span>"</span>);
        
        <span class="hljs-comment">// 7. å®Œæˆæ·»åŠ </span>
        collection.CompleteAdding();
        Console.WriteLine(<span class="hljs-string">$"IsAddingCompleted: <span class="hljs-subst">{collection.IsAddingCompleted}</span>"</span>);
        Console.WriteLine(<span class="hljs-string">$"IsCompleted: <span class="hljs-subst">{collection.IsCompleted}</span>"</span>);
        
        <span class="hljs-comment">// 8. è·å–å½“å‰æ‰€æœ‰é¡¹ç›®ï¼ˆä¸é˜»å¡ï¼‰</span>
        <span class="hljs-built_in">string</span>[] allItems = collection.ToArray();
        Console.WriteLine(<span class="hljs-string">$"å½“å‰é¡¹ç›®æ•°: <span class="hljs-subst">{allItems.Length}</span>"</span>);
    }
}
</code></pre>
<h4 data-id="heading-8">åŸºç¡€ç¤ºä¾‹ï¼šç®€å•ç”Ÿäº§è€… - æ¶ˆè´¹è€…</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Concurrent;
<span class="hljs-keyword">using</span> System.Threading;
<span class="hljs-keyword">using</span> System.Threading.Tasks;

<span class="hljs-keyword">class</span> <span class="hljs-title">BlockingCollectionBasicDemo</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// åˆ›å»ºé˜»å¡é›†åˆï¼Œæœ€å¤§å®¹é‡ä¸º5ï¼ˆæ»¡åˆ™ç”Ÿäº§è€…é˜»å¡ï¼‰</span>
        <span class="hljs-keyword">var</span> bc = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">int</span>&gt;(<span class="hljs-number">5</span>);

        <span class="hljs-comment">// 1. ç”Ÿäº§è€…çº¿ç¨‹ï¼šç”Ÿäº§1-10çš„æ•°å­—</span>
        Task producer = Task.Run(() =&gt;
        {
            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; i++)
            {
                bc.Add(i); <span class="hljs-comment">// æ»¡åˆ™é˜»å¡</span>
                Console.WriteLine(<span class="hljs-string">$"ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-subst">{i}</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-subst">{bc.Count}</span>"</span>);
                Thread.Sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿç”Ÿäº§è€—æ—¶</span>
            }
            <span class="hljs-comment">// æ ‡è®°æ·»åŠ å®Œæˆï¼šæ¶ˆè´¹è€…çŸ¥é“ä¸ä¼šæœ‰æ–°æ•°æ®äº†</span>
            bc.CompleteAdding();
            Console.WriteLine(<span class="hljs-string">"ç”Ÿäº§è€…ï¼šå®Œæˆæ‰€æœ‰ç”Ÿäº§ï¼Œæ ‡è®°æ·»åŠ å®Œæˆ"</span>);
        });

        <span class="hljs-comment">// 2. æ¶ˆè´¹è€…çº¿ç¨‹ï¼šæ¶ˆè´¹æ‰€æœ‰æ•°å­—</span>
        Task consumer = Task.Run(() =&gt;
        {
            <span class="hljs-comment">// GetConsumingEnumerable()ï¼šéå†é›†åˆï¼Œç©ºåˆ™é˜»å¡ï¼Œç›´åˆ°CompleteAddingä¸”ç©º</span>
            <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">int</span> item <span class="hljs-keyword">in</span> bc.GetConsumingEnumerable())
            {
                Console.WriteLine(<span class="hljs-string">$"æ¶ˆè´¹è€…ï¼šæ¶ˆè´¹ <span class="hljs-subst">{item}</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-subst">{bc.Count}</span>"</span>);
                Thread.Sleep(<span class="hljs-number">500</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿæ¶ˆè´¹è€—æ—¶ï¼ˆæ¯”ç”Ÿäº§æ…¢ï¼Œä¼šå¯¼è‡´é›†åˆå †ç§¯ï¼‰</span>
            }
            Console.WriteLine(<span class="hljs-string">"æ¶ˆè´¹è€…ï¼šæ‰€æœ‰æ•°æ®æ¶ˆè´¹å®Œæˆ"</span>);
        });

        <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
        Task.WaitAll(producer, consumer);
        bc.Dispose(); <span class="hljs-comment">// é‡Šæ”¾èµ„æº</span>
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœ</p>
<pre><code class="hljs language-arduino" lang="arduino">ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-number">1</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">1</span>
ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-number">2</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">2</span>
ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-number">3</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">3</span>
ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-number">4</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">4</span>
ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-number">5</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">5</span>
æ¶ˆè´¹è€…ï¼šæ¶ˆè´¹ <span class="hljs-number">1</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">4</span>
ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-number">6</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">5</span>  <span class="hljs-comment">// æ¶ˆè´¹åè…¾å‡ºç©ºé—´ï¼Œç”Ÿäº§è€…ç»§ç»­æ·»åŠ </span>
ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-number">7</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">5</span>  <span class="hljs-comment">// é›†åˆå†æ¬¡æ»¡ï¼Œç”Ÿäº§è€…é˜»å¡</span>
æ¶ˆè´¹è€…ï¼šæ¶ˆè´¹ <span class="hljs-number">2</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">4</span>
ç”Ÿäº§è€…ï¼šæ·»åŠ  <span class="hljs-number">8</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">5</span>
...ï¼ˆåç»­ä¾æ¬¡æ¶ˆè´¹å’Œç”Ÿäº§ï¼‰
ç”Ÿäº§è€…ï¼šå®Œæˆæ‰€æœ‰ç”Ÿäº§ï¼Œæ ‡è®°æ·»åŠ å®Œæˆ
æ¶ˆè´¹è€…ï¼šæ¶ˆè´¹ <span class="hljs-number">10</span>ï¼Œå½“å‰é›†åˆæ•°é‡ï¼š<span class="hljs-number">0</span>
æ¶ˆè´¹è€…ï¼šæ‰€æœ‰æ•°æ®æ¶ˆè´¹å®Œæˆ
</code></pre>
<p>æ ¸å¿ƒç°è±¡ï¼š</p>
<ul>
<li>
<p>é›†åˆå®¹é‡è®¾ä¸º 5ï¼Œç”Ÿäº§è€…æ·»åŠ åˆ° 5 ä¸ªåé˜»å¡ï¼Œç›´åˆ°æ¶ˆè´¹è€…æ¶ˆè´¹ 1 ä¸ªè…¾å‡ºç©ºé—´ï¼›</p>
</li>
<li>
<p><code>GetConsumingEnumerable()</code> è‡ªåŠ¨å¤„ç†é˜»å¡é€»è¾‘ï¼Œæ— éœ€æ‰‹åŠ¨åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºï¼›</p>
</li>
<li>
<p><code>CompleteAdding()</code> åï¼Œæ¶ˆè´¹è€…éå†å®Œå‰©ä½™æ•°æ®å³é€€å‡ºï¼Œä¸ä¼šæ— é™é˜»å¡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-9">é«˜çº§ç”¨æ³•è¯¦è§£</h3>
<h4 data-id="heading-10">è¾¹ç•Œé™åˆ¶ï¼ˆBounded Capacityï¼‰</h4>
<p>é€šè¿‡æ„é€ å‡½æ•°æŒ‡å®š <code>boundedCapacity</code>ï¼Œå®ç° â€œç”Ÿäº§è€…é™æµâ€ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æœ€å¤§å®¹é‡3ï¼Œæ»¡åˆ™ç”Ÿäº§è€…é˜»å¡</span>
<span class="hljs-keyword">var</span> bc = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-number">3</span>);

<span class="hljs-comment">// ç”Ÿäº§è€…1ï¼šå¿«é€Ÿæ·»åŠ 3ä¸ªå…ƒç´ ï¼Œç¬¬4ä¸ªä¼šé˜»å¡</span>
Task.Run(() =&gt;
{
    bc.Add(<span class="hljs-string">"A"</span>);
    bc.Add(<span class="hljs-string">"B"</span>);
    bc.Add(<span class="hljs-string">"C"</span>);
    Console.WriteLine(<span class="hljs-string">"ç”Ÿäº§è€…1ï¼šå·²æ·»åŠ 3ä¸ªï¼Œå‡†å¤‡æ·»åŠ ç¬¬4ä¸ªï¼ˆä¼šé˜»å¡ï¼‰"</span>);
    bc.Add(<span class="hljs-string">"D"</span>); <span class="hljs-comment">// é˜»å¡ï¼Œç›´åˆ°æ¶ˆè´¹è€…æ¶ˆè´¹ä¸€ä¸ª</span>
    Console.WriteLine(<span class="hljs-string">"ç”Ÿäº§è€…1ï¼šç¬¬4ä¸ªå…ƒç´ æ·»åŠ æˆåŠŸ"</span>);
});

<span class="hljs-comment">// æ¶ˆè´¹è€…1ï¼š2ç§’åæ¶ˆè´¹ä¸€ä¸ªå…ƒç´ </span>
Task.Run(() =&gt;
{
    Thread.Sleep(<span class="hljs-number">2000</span>);
    <span class="hljs-keyword">var</span> item = bc.Take();
    Console.WriteLine(<span class="hljs-string">$"æ¶ˆè´¹è€…1ï¼šæ¶ˆè´¹ <span class="hljs-subst">{item}</span>"</span>);
});
</code></pre>
<h4 data-id="heading-11">å–æ¶ˆé˜»å¡ï¼ˆCancellationTokenï¼‰</h4>
<p>ç”¨ <code>CancellationToken</code> ä¸­æ–­é˜»å¡çš„ <code>Add/Take</code> æ“ä½œï¼Œé¿å…çº¿ç¨‹æ°¸ä¹…é˜»å¡ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> cts = <span class="hljs-keyword">new</span> CancellationTokenSource();
<span class="hljs-comment">// 3ç§’åå–æ¶ˆ</span>
cts.CancelAfter(<span class="hljs-number">3000</span>);

<span class="hljs-keyword">var</span> bc = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">int</span>&gt;();

<span class="hljs-comment">// ç”Ÿäº§è€…ï¼šå°è¯•æ·»åŠ ï¼Œ3ç§’åå–æ¶ˆ</span>
Task.Run(() =&gt;
{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-comment">// é›†åˆæ— è¾¹ç•Œï¼Œæ­¤å¤„ä¸ä¼šé˜»å¡ï¼Œä½†æ¼”ç¤ºå–æ¶ˆé€»è¾‘</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; ; i++)
        {
            bc.Add(i, cts.Token);
            Console.WriteLine(<span class="hljs-string">$"æ·»åŠ  <span class="hljs-subst">{i}</span>"</span>);
            Thread.Sleep(<span class="hljs-number">500</span>);
        }
    }
    <span class="hljs-keyword">catch</span> (OperationCanceledException)
    {
        Console.WriteLine(<span class="hljs-string">"ç”Ÿäº§è€…ï¼šæ·»åŠ æ“ä½œè¢«å–æ¶ˆ"</span>);
        bc.CompleteAdding();
    }
});

<span class="hljs-comment">// æ¶ˆè´¹è€…ï¼šå°è¯•æ¶ˆè´¹ï¼Œ3ç§’åå–æ¶ˆ</span>
Task.Run(() =&gt;
{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)
        {
            <span class="hljs-built_in">int</span> item = bc.Take(cts.Token);
            Console.WriteLine(<span class="hljs-string">$"æ¶ˆè´¹ <span class="hljs-subst">{item}</span>"</span>);
        }
    }
    <span class="hljs-keyword">catch</span> (OperationCanceledException)
    {
        Console.WriteLine(<span class="hljs-string">"æ¶ˆè´¹è€…ï¼šæ¶ˆè´¹æ“ä½œè¢«å–æ¶ˆ"</span>);
    }
});
</code></pre>
<h4 data-id="heading-12">è‡ªå®šä¹‰åº•å±‚å­˜å‚¨</h4>
<p>é»˜è®¤åº•å±‚æ˜¯ <code>ConcurrentQueue&lt;T&gt;</code>ï¼ˆFIFOï¼‰ï¼Œå¯æŒ‡å®š <code>ConcurrentStack&lt;T&gt;</code>ï¼ˆLIFOï¼‰æˆ– <code>ConcurrentBag&lt;T&gt;</code>ï¼ˆæ— åºï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åº•å±‚ç”¨ConcurrentStackï¼ˆæ ˆï¼šåè¿›å…ˆå‡ºï¼‰</span>
<span class="hljs-keyword">var</span> bc = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">int</span>&gt;(<span class="hljs-keyword">new</span> ConcurrentStack&lt;<span class="hljs-built_in">int</span>&gt;());

bc.Add(<span class="hljs-number">1</span>);
bc.Add(<span class="hljs-number">2</span>);
bc.Add(<span class="hljs-number">3</span>);

<span class="hljs-comment">// Takeä¼šè·å–æœ€åæ·»åŠ çš„3ï¼ˆæ ˆé¡¶ï¼‰</span>
Console.WriteLine(bc.Take()); <span class="hljs-comment">// è¾“å‡ºï¼š3</span>
Console.WriteLine(bc.Take()); <span class="hljs-comment">// è¾“å‡ºï¼š2</span>
Console.WriteLine(bc.Take()); <span class="hljs-comment">// è¾“å‡ºï¼š1</span>
</code></pre>
<h4 data-id="heading-13">å¤šç”Ÿäº§è€… / å¤šæ¶ˆè´¹è€…</h4>
<p><code>BlockingCollection&lt;T&gt;</code> å¤©ç„¶æ”¯æŒå¤šç”Ÿäº§è€…ã€å¤šæ¶ˆè´¹è€…å¹¶å‘æ“ä½œï¼Œæ— éœ€é¢å¤–åŒæ­¥ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> bc = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">int</span>&gt;(<span class="hljs-number">10</span>);

<span class="hljs-comment">// 3ä¸ªç”Ÿäº§è€…çº¿ç¨‹</span>
<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)
{
    <span class="hljs-built_in">int</span> producerId = i + <span class="hljs-number">1</span>;
    Task.Run(() =&gt;
    {
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">1</span>; j &lt;= <span class="hljs-number">5</span>; j++)
        {
            <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span> = producerId * <span class="hljs-number">100</span> + j;
            bc.Add(<span class="hljs-keyword">value</span>);
            Console.WriteLine(<span class="hljs-string">$"ç”Ÿäº§è€…<span class="hljs-subst">{producerId}</span>ï¼šæ·»åŠ  <span class="hljs-subst">{<span class="hljs-keyword">value</span>}</span>"</span>);
            Thread.Sleep(<span class="hljs-number">100</span>);
        }
    });
}

<span class="hljs-comment">// 2ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹</span>
<span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span>; i++)
{
    <span class="hljs-built_in">int</span> consumerId = i + <span class="hljs-number">1</span>;
    Task.Run(() =&gt;
    {
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> bc.GetConsumingEnumerable())
        {
            Console.WriteLine(<span class="hljs-string">$"æ¶ˆè´¹è€…<span class="hljs-subst">{consumerId}</span>ï¼šæ¶ˆè´¹ <span class="hljs-subst">{item}</span>"</span>);
            Thread.Sleep(<span class="hljs-number">200</span>);
        }
    });
}

<span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ç”Ÿäº§è€…å®Œæˆåæ ‡è®°æ·»åŠ å®Œæˆ</span>
Task.Delay(<span class="hljs-number">2000</span>).ContinueWith(_ =&gt; bc.CompleteAdding());
</code></pre>
<h4 data-id="heading-14">æ•°æ®æµæ°´çº¿ï¼ˆPipelineï¼‰æ¨¡å¼</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DataPipelineExample</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RunPipeline</span>()</span>
    {
        <span class="hljs-comment">// åˆ›å»ºä¸‰ä¸ªé˜¶æ®µçš„æµæ°´çº¿</span>
        <span class="hljs-keyword">var</span> stage1 = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;(boundedCapacity: <span class="hljs-number">10</span>);
        <span class="hljs-keyword">var</span> stage2 = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;(boundedCapacity: <span class="hljs-number">10</span>);
        <span class="hljs-keyword">var</span> stage3 = <span class="hljs-keyword">new</span> BlockingCollection&lt;<span class="hljs-built_in">string</span>&gt;(boundedCapacity: <span class="hljs-number">10</span>);
        
        CancellationTokenSource cts = <span class="hljs-keyword">new</span> CancellationTokenSource();
        
        <span class="hljs-comment">// é˜¶æ®µ1ï¼šæ•°æ®æº</span>
        <span class="hljs-keyword">var</span> sourceTask = Task.Run(() =&gt;
        {
            <span class="hljs-keyword">try</span>
            {
                <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">20</span>; i++)
                {
                    <span class="hljs-built_in">string</span> data = <span class="hljs-string">$"åŸå§‹æ•°æ®<span class="hljs-subst">{i}</span>"</span>;
                    stage1.Add(data, cts.Token);
                    Console.WriteLine(<span class="hljs-string">$"é˜¶æ®µ1: äº§ç”Ÿ <span class="hljs-subst">{data}</span>"</span>);
                    Thread.Sleep(<span class="hljs-number">50</span>);
                }
                
                stage1.CompleteAdding();
                Console.WriteLine(<span class="hljs-string">"é˜¶æ®µ1å®Œæˆ"</span>);
            }
            <span class="hljs-keyword">catch</span> (OperationCanceledException)
            {
                Console.WriteLine(<span class="hljs-string">"é˜¶æ®µ1è¢«å–æ¶ˆ"</span>);
            }
        });
        
        <span class="hljs-comment">// é˜¶æ®µ2ï¼šæ•°æ®å¤„ç†</span>
        <span class="hljs-keyword">var</span> processorTask = Task.Run(() =&gt;
        {
            <span class="hljs-keyword">try</span>
            {
                <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> stage1.GetConsumingEnumerable(cts.Token))
                {
                    <span class="hljs-built_in">string</span> processed = <span class="hljs-string">$"å¤„ç†è¿‡çš„[<span class="hljs-subst">{item}</span>]"</span>;
                    stage2.Add(processed, cts.Token);
                    Console.WriteLine(<span class="hljs-string">$"é˜¶æ®µ2: å¤„ç† <span class="hljs-subst">{item}</span> -&gt; <span class="hljs-subst">{processed}</span>"</span>);
                    Thread.Sleep(<span class="hljs-number">100</span>);
                }
                
                stage2.CompleteAdding();
                Console.WriteLine(<span class="hljs-string">"é˜¶æ®µ2å®Œæˆ"</span>);
            }
            <span class="hljs-keyword">catch</span> (OperationCanceledException)
            {
                Console.WriteLine(<span class="hljs-string">"é˜¶æ®µ2è¢«å–æ¶ˆ"</span>);
            }
        });
        
        <span class="hljs-comment">// é˜¶æ®µ3ï¼šæ•°æ®è¾“å‡º</span>
        <span class="hljs-keyword">var</span> outputTask = Task.Run(() =&gt;
        {
            <span class="hljs-keyword">try</span>
            {
                <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> stage2.GetConsumingEnumerable(cts.Token))
                {
                    <span class="hljs-built_in">string</span> result = <span class="hljs-string">$"æœ€ç»ˆç»“æœ&lt;<span class="hljs-subst">{item}</span>&gt;"</span>;
                    stage3.Add(result, cts.Token);
                    Console.WriteLine(<span class="hljs-string">$"é˜¶æ®µ3: è¾“å‡º <span class="hljs-subst">{item}</span> -&gt; <span class="hljs-subst">{result}</span>"</span>);
                    Thread.Sleep(<span class="hljs-number">80</span>);
                }
                
                stage3.CompleteAdding();
                Console.WriteLine(<span class="hljs-string">"é˜¶æ®µ3å®Œæˆ"</span>);
            }
            <span class="hljs-keyword">catch</span> (OperationCanceledException)
            {
                Console.WriteLine(<span class="hljs-string">"é˜¶æ®µ3è¢«å–æ¶ˆ"</span>);
            }
        });
        
        <span class="hljs-comment">// ç›‘æ§è¾“å‡º</span>
        <span class="hljs-keyword">var</span> monitorTask = Task.Run(() =&gt;
        {
            <span class="hljs-built_in">int</span> count = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> stage3.GetConsumingEnumerable())
            {
                count++;
                Console.WriteLine(<span class="hljs-string">$"ç›‘æ§: æ”¶åˆ°ç¬¬<span class="hljs-subst">{count}</span>ä¸ªç»“æœ: <span class="hljs-subst">{item}</span>"</span>);
            }
            
            Console.WriteLine(<span class="hljs-string">$"ç›‘æ§: æ€»å…±æ”¶åˆ° <span class="hljs-subst">{count}</span> ä¸ªç»“æœ"</span>);
        });
        
        <span class="hljs-comment">// è¿è¡Œ5ç§’åå–æ¶ˆ</span>
        Task.Run(() =&gt;
        {
            Thread.Sleep(<span class="hljs-number">5000</span>);
            Console.WriteLine(<span class="hljs-string">"\næµæ°´çº¿è¿è¡Œ5ç§’ï¼Œå‘é€å–æ¶ˆä¿¡å·..."</span>);
            cts.Cancel();
        });
        
        <span class="hljs-keyword">try</span>
        {
            Task.WaitAll(sourceTask, processorTask, outputTask, monitorTask, <span class="hljs-number">10000</span>);
        }
        <span class="hljs-keyword">catch</span> (AggregateException ex)
        {
            Console.WriteLine(<span class="hljs-string">$"ä»»åŠ¡å¼‚å¸¸: <span class="hljs-subst">{ex.Flatten().Message}</span>"</span>);
        }
        
        Console.WriteLine(<span class="hljs-string">"æµæ°´çº¿è¿è¡Œç»“æŸ"</span>);
    }
}
</code></pre>
<h3 data-id="heading-15">ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-16">é€‚åˆåœºæ™¯</h4>
<ul>
<li>
<p><code>CPU</code> çº¿ç¨‹æ± ä»»åŠ¡</p>
</li>
<li>
<p>åå° <code>Worker</code></p>
</li>
<li>
<p>æ‰¹å¤„ç†ç³»ç»Ÿ</p>
</li>
<li>
<p><code>ETL</code> ç®¡é“</p>
</li>
<li>
<p>ä¼ ç»Ÿ <code>Producerâ€“Consumer</code></p>
</li>
</ul>
<h4 data-id="heading-17">ä¸é€‚åˆåœºæ™¯</h4>
<ul>
<li>
<p><code>async/await</code></p>
</li>
<li>
<p>é«˜ååä½å»¶è¿Ÿç½‘ç»œ IO</p>
</li>
<li>
<p><code>UI</code> çº¿ç¨‹</p>
</li>
<li>
<p>å®æ—¶ç³»ç»Ÿ</p>
</li>
</ul>
<h3 data-id="heading-18">æ€»ç»“</h3>
<ul>
<li>
<p><code>BlockingCollection&lt;T&gt;</code> æ˜¯ <code>.NET</code> å®˜æ–¹çš„é˜»å¡å¼çº¿ç¨‹å®‰å…¨é›†åˆï¼Œæ ¸å¿ƒé€‚é… â€œç”Ÿäº§è€… - æ¶ˆè´¹è€…â€ æ¨¡å‹ï¼›</p>
</li>
<li>
<p>æ ¸å¿ƒç‰¹æ€§ï¼šç©ºé›†åˆæ¶ˆè´¹é˜»å¡ã€æ»¡é›†åˆç”Ÿäº§é˜»å¡ï¼Œæ”¯æŒè¾¹ç•Œé™åˆ¶ã€å–æ¶ˆæ“ä½œã€è‡ªå®šä¹‰åº•å±‚å­˜å‚¨ï¼›</p>
</li>
<li>
<p>æ ¸å¿ƒ APIï¼š<code>Add()</code>ï¼ˆç”Ÿäº§ï¼‰ã€<code>Take()</code>ï¼ˆæ¶ˆè´¹ï¼‰ã€<code>CompleteAdding()</code>ï¼ˆæ ‡è®°ç”Ÿäº§å®Œæˆï¼‰ã€<code>GetConsumingEnumerable()</code>ï¼ˆéå†æ¶ˆè´¹ï¼‰ï¼›</p>
</li>
<li>
<p>å…³é”®å‘ç‚¹ï¼šå¿…é¡»è°ƒç”¨ <code>CompleteAdding()</code> é¿å…æ¶ˆè´¹è€…æ°¸ä¹…é˜»å¡ï¼Œä½¿ç”¨åéœ€ <code>Dispose</code> é‡Šæ”¾èµ„æºï¼›</p>
</li>
<li>
<p>é€‚ç”¨åœºæ™¯ï¼šæ—¥å¿—æ”¶é›†ã€ä»»åŠ¡é˜Ÿåˆ—ã€æ¶ˆæ¯åˆ†å‘ã€å¤šçº¿ç¨‹æ•°æ®å¤„ç†ç­‰ç”Ÿäº§è€… - æ¶ˆè´¹è€…åœºæ™¯ï¼Œä¼˜å…ˆä½¿ç”¨è€Œéæ‰‹åŠ¨å®ç°ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§]]></title>    <link>https://juejin.cn/post/7596906923892817930</link>    <guid>https://juejin.cn/post/7596906923892817930</guid>    <pubDate>2026-01-19T23:44:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596906923892817930" data-draft-id="7596904122866057267" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§"/> <meta itemprop="keywords" content="åç«¯,PHP"/> <meta itemprop="datePublished" content="2026-01-19T23:44:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T23:44:14.000Z" title="Mon Jan 19 2026 23:44:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ PHP åº”ç”¨éœ€è¦æ€§èƒ½åˆ†æ</h3>
<p>ä½œä¸º PHP å¼€å‘è€…ï¼Œä½ ç»å¸¸è¦æ„å»ºå¯æ‰©å±•ã€èƒ½æ”¯æ’‘é«˜å¹¶å‘ã€æ€§èƒ½ç¨³å®šçš„åº”ç”¨ã€‚ä½†å½“ç³»ç»Ÿå¤æ‚åº¦æˆ–æµé‡ä¸Šæ¥åï¼Œæ€§èƒ½ç“¶é¢ˆå°±ä¼šå‡ºç°ï¼Œè€Œä¸”è¿™äº›é—®é¢˜åœ¨å¼€å‘ç”šè‡³æµ‹è¯•é˜¶æ®µå¾€å¾€çœ‹ä¸åˆ°ã€‚</p>
<p>æ€§èƒ½åˆ†æï¼ˆprofilingï¼‰èƒ½è®©ä½ ä»çŒœæµ‹å›åˆ°æ•°æ®ã€‚å®ƒå¸®ä½ è¡¡é‡åº”ç”¨å„ä¸ªç¯èŠ‚çš„æ€§èƒ½ï¼Œç²¾å‡†æ‰¾å‡ºä½æ•ˆç‚¹ã€‚ä¸å…¶å‡­æ„Ÿè§‰ä¼˜åŒ–ï¼Œä¸å¦‚ç›´æ¥çœ‹æ•°æ®å‘Šè¯‰ä½ å“ªé‡Œæ…¢â€”â€”æ•°æ®åº“æŸ¥è¯¢ã€å†…å­˜å ç”¨è¿˜æ˜¯å‡½æ•°è°ƒç”¨ã€‚</p>
<p>æœ¬æ–‡ä¼šä»‹ç»å¦‚ä½•å¯¹ PHP åº”ç”¨åšæ€§èƒ½åˆ†æã€å¸¸è§æ€§èƒ½é—®é¢˜ã€é€‚ç”¨å·¥å…·ï¼Œä»¥åŠå¦‚ä½•ä¸ºä¿®å¤æ’ä¼˜å…ˆçº§ã€‚
<a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2026-01%2Fprofiling-php-applications-from-assumptions-to-data" target="_blank" title="https://catchadmin.com/post/2026-01/profiling-php-applications-from-assumptions-to-data" ref="nofollow noopener noreferrer">åŸæ–‡ PHP åº”ç”¨æ€§èƒ½åˆ†æ ä»å‡è®¾åˆ°æ•°æ®ä¸ä¿®å¤ä¼˜å…ˆçº§</a></p>
<h3 data-id="heading-2">æ€§èƒ½åˆ†æåŸºç¡€ï¼šä½ éœ€è¦çŸ¥é“ä»€ä¹ˆ</h3>
<p>æ€§èƒ½åˆ†æçš„æ ¸å¿ƒæ˜¯æµ‹é‡ä¸åˆ†æåº”ç”¨çš„èµ„æºæ¶ˆè€—ï¼Œä¾‹å¦‚ CPUã€å†…å­˜å’Œæ‰§è¡Œæ—¶é—´ï¼Œå¸®åŠ©ä½ æ‰¾å‡ºçœŸæ­£éœ€è¦ä¼˜åŒ–çš„â€œçƒ­åŒºâ€ã€‚</p>
<p>æ€§èƒ½åˆ†ææ•°æ®é€šå¸¸èƒ½å›ç­”è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li><strong>å†…å­˜å ç”¨</strong>ï¼šè„šæœ¬æ‰§è¡Œè¿‡ç¨‹ä¸­ç”¨äº†å¤šå°‘å†…å­˜ï¼Ÿ</li>
<li><strong>æ‰§è¡Œæ—¶é—´</strong>ï¼šå“ªäº›å‡½æ•°æˆ–æ¨¡å—è€—æ—¶æœ€é•¿ï¼Ÿ</li>
<li><strong>æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½</strong>ï¼šå“ªäº›æŸ¥è¯¢æœ€æ…¢ï¼Ÿæ€»å…±æ‰§è¡Œäº†å¤šå°‘æ¬¡ï¼Ÿ</li>
<li><strong>CPU ä½¿ç”¨</strong>ï¼šå“ªäº›å‡½æ•°æ¶ˆè€—äº†æœ€å¤š CPU è®¡ç®—ï¼Ÿ</li>
</ul>
<p>é€šè¿‡è¿™äº›æŒ‡æ ‡ï¼Œä½ å°±èƒ½ç²¾å‡†å®šä½æ€§èƒ½é—®é¢˜å¹¶ä¼˜åŒ–ä»£ç ã€‚</p>
<h3 data-id="heading-3">PHP åº”ç”¨å¸¸è§æ€§èƒ½é—®é¢˜</h3>
<p>åšæ€§èƒ½åˆ†ææ—¶ï¼Œä¸‹é¢è¿™äº›é—®é¢˜æœ€å¸¸å‡ºç°ã€‚</p>
<h4 data-id="heading-4">è¿‡å¤šçš„æ•°æ®åº“æŸ¥è¯¢</h4>
<p>å¦‚æœåº”ç”¨é¢‘ç¹ä¸æ•°æ®åº“äº¤äº’ï¼Œå“åº”å°±å¯èƒ½å˜æ…¢ï¼Œå¸¸è§åŸå› åŒ…æ‹¬ï¼š</p>
<ul>
<li>æŸ¥è¯¢å†™å¾—ä½æ•ˆï¼ˆå–äº†è¿‡å¤šæ•°æ®ã€ç¼ºå°‘ç´¢å¼•ï¼‰</li>
<li>åœ¨å¾ªç¯é‡Œæ‰§è¡ŒæŸ¥è¯¢ï¼Œå‡ºç° N+1 é—®é¢˜</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$posts</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM posts"</span>);
<span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$posts</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$post</span>) {
    <span class="hljs-variable">$comments</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM comments WHERE post_id = "</span> . <span class="hljs-variable">$post</span>[<span class="hljs-string">'id'</span>]);
    <span class="hljs-comment">// display posts and comments</span>
}
</code></pre>
<p>å¦‚æœæœ‰ 100 ç¯‡æ–‡ç« ï¼Œè¿™æ®µä»£ç ä¼šè·‘ 101 æ¬¡æŸ¥è¯¢ï¼ˆ1 æ¬¡å–æ–‡ç«  + 100 æ¬¡å–è¯„è®ºï¼‰ï¼Œæ•ˆç‡å¾ˆä½ã€‚</p>
<h4 data-id="heading-5">ä½æ•ˆçš„å¾ªç¯</h4>
<p>æœ‰äº›ä»£ç åœ¨å¤§æ•°æ®é›†ä¸Šä½¿ç”¨åµŒå¥—å¾ªç¯æˆ–æ˜‚è´µæ“ä½œï¼Œæ‰§è¡Œæ—¶é—´ä¼šè¢«æ”¾å¤§ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$data</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$item</span>) {
    <span class="hljs-comment">// Performing some heavy operation</span>
    <span class="hljs-variable">$result</span> = <span class="hljs-title function_ invoke__">complexOperation</span>(<span class="hljs-variable">$item</span>);
}
</code></pre>
<p>Profiling èƒ½å¸®ä½ è¯†åˆ«è¿™äº›å¾ªç¯å¹¶è¡¡é‡è€—æ—¶ï¼Œç»™ä½ ä¼˜åŒ–çš„æŠ“æ‰‹ã€‚</p>
<h4 data-id="heading-6">å†…å­˜æ³„æ¼</h4>
<p>å†…å­˜æ³„æ¼æŒ‡å¯¹è±¡æˆ–å˜é‡å ç”¨è¿‡å¤šå†…å­˜ä¸”æ— æ³•åŠæ—¶é‡Šæ”¾ã€‚æ•°æ®é‡å¤§æ—¶ï¼Œå†…å­˜ä¼šæŒç»­å¢é•¿ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ç”šè‡³å´©æºƒã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">while</span> (<span class="hljs-variable">$row</span> = <span class="hljs-variable">$result</span>-&gt;<span class="hljs-title function_ invoke__">fetch_assoc</span>()) {
    <span class="hljs-variable">$rows</span>[] = <span class="hljs-variable">$row</span>;
}
</code></pre>
<p>å¦‚æœ <code>$rows</code> æ— é™å¢é•¿ï¼Œå°±å¯èƒ½è€—å°½å†…å­˜ã€‚Profiling èƒ½å¸®åŠ©ä½ è¯†åˆ«å¹¶ä¼˜åŒ–è¿™ç±»é—®é¢˜ã€‚</p>
<h4 data-id="heading-7">ç¼“å­˜ç­–ç•¥ä¸ä½³</h4>
<p>ç¼“å­˜æ˜¯æé€Ÿçš„åˆ©å™¨ï¼Œä½†ç­–ç•¥ä¸å½“ä¹Ÿä¼šæ‹–æ…¢ç³»ç»Ÿï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æ²¡æœ‰ç¼“å­˜æ•°æ®ï¼ˆæ¯æ¬¡éƒ½ä»æ•°æ®åº“é‡æ–°æŸ¥è¯¢ï¼‰</li>
<li>ç¼“å­˜å¤±æ•ˆç­–ç•¥æ··ä¹±</li>
</ul>
<h3 data-id="heading-8">PHP åº”ç”¨æ€§èƒ½åˆ†æçš„æ–¹æ³•</h3>
<p>ä¸‹é¢æ˜¯å‡ ç§å¸¸è§ä¸”å®ç”¨çš„æ€§èƒ½åˆ†ææ–¹æ³•ä¸å·¥å…·ã€‚</p>
<h4 data-id="heading-9">ä½¿ç”¨ microtime() æ‰‹åŠ¨æ€§èƒ½åˆ†æ</h4>
<p>å¯¹äºå°èŒƒå›´æ€§èƒ½æµ‹è¯•ï¼Œå¯ä»¥ç”¨ PHP å†…ç½®çš„ <code>microtime()</code> è®°å½•æ‰§è¡Œæ—¶é—´ã€‚</p>
<p>ç¤ºä¾‹ï¼šä½¿ç”¨ microtime() è¿›è¡ŒåŸºç¡€æ€§èƒ½åˆ†æ</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$start_time</span> = <span class="hljs-title function_ invoke__">microtime</span>(<span class="hljs-literal">true</span>);
<span class="hljs-comment">// Simulating some code execution</span>
<span class="hljs-title function_ invoke__">sleep</span>(<span class="hljs-number">2</span>);  <span class="hljs-comment">// Sleep for 2 seconds</span>
<span class="hljs-variable">$end_time</span> = <span class="hljs-title function_ invoke__">microtime</span>(<span class="hljs-literal">true</span>);
<span class="hljs-variable">$execution_time</span> = <span class="hljs-variable">$end_time</span> - <span class="hljs-variable">$start_time</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">"Execution time: "</span> . <span class="hljs-variable">$execution_time</span> . <span class="hljs-string">" seconds"</span>;
</code></pre>
<p>è¿™ç§æ–¹æ³•ç®€å•ï¼Œä½†ä¸é€‚åˆå¤æ‚åº”ç”¨ï¼Œæ›´é€‚åˆå°ç‰‡æ®µæ€§èƒ½æ£€æŸ¥ã€‚</p>
<h4 data-id="heading-10">Xdebugï¼šå¼ºå¤§çš„æ€§èƒ½åˆ†æå·¥å…·</h4>
<p>Xdebug æ˜¯æœ€å¸¸ç”¨çš„ PHP profiling å·¥å…·ä¹‹ä¸€ï¼Œå¯è·Ÿè¸ªå‡½æ•°è°ƒç”¨ã€å†…å­˜å ç”¨å’Œæ‰§è¡Œæ—¶é—´ã€‚å®ƒä¼šç”Ÿæˆ cachegrind æ–‡ä»¶ï¼Œå¹¶å¯ç”¨ KCacheGrind æˆ– QCacheGrind å¯è§†åŒ–åˆ†æã€‚</p>
<p>é…ç½® Xdebug æ€§èƒ½åˆ†æï¼š</p>
<ol>
<li>å®‰è£… Xdebugã€‚</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo apt-get install php-xdebug
</code></pre>
<ol start="2">
<li>åœ¨ <code>php.ini</code> ä¸­å¼€å¯ profilingï¼š</li>
</ol>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">xdebug.profiler_enable</span> = <span class="hljs-number">1</span>
<span class="hljs-attr">xdebug.profiler_output_dir</span> = <span class="hljs-string">"/var/tmp/xdebug_profiles"</span>
</code></pre>
<ol start="3">
<li>è¿è¡Œåº”ç”¨ï¼Œç”Ÿæˆ cachegrind æ–‡ä»¶ã€‚</li>
<li>ç”¨ KCacheGrind æˆ– QCacheGrind å¯è§†åŒ–åˆ†æã€‚</li>
</ol>
<p>ç¤ºä¾‹ï¼šXdebug æ€§èƒ½åˆ†æè¾“å‡º</p>
<pre><code class="hljs language-text" lang="text">Function Name     Calls  Time   Memory
--------------------------------------
myFunction()       10    0.005  512KB
databaseQuery()    15    0.020  1MB
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œ<code>databaseQuery()</code> è€—æ—¶æ›´é«˜ï¼Œè¯´æ˜æ•°æ®åº“å±‚å¯èƒ½éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-11">Blackfireï¼šç°ä»£åŒ–æ€§èƒ½åˆ†ææ–¹æ¡ˆ</h4>
<p>Blackfire æ›´ç°ä»£ã€ä½“éªŒå‹å¥½ï¼Œæä¾›ç«ç„°å›¾ï¼ˆflame graphï¼‰ï¼Œèƒ½ç›´è§‚çœ‹åˆ° CPU å’Œå†…å­˜è€—æ—¶ã€‚</p>
<p>Blackfire çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>è‡ªåŠ¨æ€§èƒ½åˆ†æï¼šæ¯æ¬¡ HTTP è¯·æ±‚éƒ½å¯è‡ªåŠ¨åˆ†æ</li>
<li>å¯¹æ¯”åˆ†æï¼šæ”¯æŒå¯¹æ¯”ä¼˜åŒ–å‰åçš„æ€§èƒ½</li>
<li>ç«ç„°å›¾ï¼ˆflame graphï¼‰ï¼šå¯è§†åŒ– CPU ä¸å†…å­˜æ¶ˆè€—</li>
</ul>
<p>ä½¿ç”¨ Blackfireï¼š</p>
<ol>
<li>åœ¨ Blackfire.io æ³¨å†Œå¹¶å®‰è£… Blackfire Agent ä¸ Profilerã€‚</li>
<li>åœ¨åº”ç”¨é‡Œå¯ç”¨æ€§èƒ½åˆ†æï¼š</li>
</ol>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Blackfire\Profiler</span>::<span class="hljs-title function_ invoke__">enable</span>();
</code></pre>
<ol start="3">
<li>æ‰§è¡Œæ€§èƒ½åˆ†æåï¼ŒæŠ¥å‘Šä¸­ä¼šä»¥ç«ç„°å›¾å±•ç¤ºä»£ç è€—æ—¶åˆ†å¸ƒã€‚</li>
</ol>
<h3 data-id="heading-12">è§£ææ€§èƒ½åˆ†ææ•°æ®ï¼šæŠŠæ´å¯Ÿå˜æˆè¡ŒåŠ¨</h3>
<p>æ‹¿åˆ°æ€§èƒ½åˆ†ææ•°æ®åï¼Œå…³é”®æ˜¯åˆ¤æ–­å“ªäº›åœ°æ–¹è€—èµ„æºæœ€å¤šï¼Œå†å†³å®šä¼˜åŒ–ä¼˜å…ˆçº§ã€‚</p>
<h4 data-id="heading-13">æ…¢å‡½æ•°</h4>
<p>ä¼˜å…ˆæ‰¾æ‰§è¡Œæ—¶é—´é•¿çš„å‡½æ•°ã€‚é€šå¸¸æ˜¯å¤šåšäº†ä¸å¿…è¦çš„è®¡ç®—ï¼Œæˆ–å¤„ç†äº†è¿‡å¤šæ•°æ®ã€‚</p>
<h4 data-id="heading-14">å†…å­˜å ç”¨</h4>
<p>å¦‚æœè„šæœ¬åƒå†…å­˜è¿‡å¤šï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å¤§å¯¹è±¡æˆ–æ•°ç»„é•¿æœŸä¿ç•™ã€‚å¯ä»¥è€ƒè™‘é‡Šæ”¾å†…å­˜æˆ–æ”¹æˆæµå¼å¤„ç†ã€‚</p>
<h4 data-id="heading-15">ä½æ•ˆçš„æ•°æ®åº“æŸ¥è¯¢</h4>
<p>æ…¢æŸ¥è¯¢é€šå¸¸æ˜¯æ€§èƒ½çš„æœ€å¤§ç“¶é¢ˆã€‚å¯è€ƒè™‘åŠ ç´¢å¼•ã€ç¼“å­˜ï¼Œæˆ–é‡å†™æŸ¥è¯¢é€»è¾‘ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// Inefficient:</span>
<span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$posts</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$post</span>) {
    <span class="hljs-variable">$comments</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM comments WHERE post_id = "</span> . <span class="hljs-variable">$post</span>[<span class="hljs-string">'id'</span>]);
}
<span class="hljs-comment">// Optimized:</span>
<span class="hljs-variable">$post_ids</span> = <span class="hljs-title function_ invoke__">implode</span>(<span class="hljs-string">','</span>, <span class="hljs-title function_ invoke__">array_column</span>(<span class="hljs-variable">$posts</span>, <span class="hljs-string">'id'</span>));
<span class="hljs-variable">$comments</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"SELECT * FROM comments WHERE post_id IN (<span class="hljs-subst">$post_ids</span>)"</span>);
</code></pre>
<p>è¿™ç§æ”¹å†™æŠŠå¤šæ¬¡æŸ¥è¯¢å˜æˆä¸€æ¬¡æŸ¥è¯¢ï¼Œæ€§èƒ½æ˜æ˜¾æ›´å¥½ã€‚</p>
<h3 data-id="heading-16">ä¿®å¤ä¼˜å…ˆçº§ï¼šå…ˆä»å“ªé‡Œä¸‹æ‰‹</h3>
<p>æ‹¿åˆ°æ•°æ®åï¼Œåº”è¯¥ä¼˜å…ˆå¤„ç†æ”¶ç›Šæœ€å¤§çš„åœ°æ–¹ï¼š</p>
<ul>
<li><strong>ç”¨æˆ·ä½“éªŒä¼˜å…ˆ</strong>ï¼šç›´æ¥å½±å“é¡µé¢å“åº”çš„æ…¢ç‚¹å¿…é¡»å…ˆè§£å†³ã€‚</li>
<li><strong>ä¿®å¤æˆæœ¬</strong>ï¼šå¤§è§„æ¨¡é‡æ„è¦è¡¡é‡æŠ•å…¥äº§å‡ºï¼Œå…ˆåšå°æ”¹åŠ¨çš„é«˜æ”¶ç›Šä¼˜åŒ–ã€‚</li>
<li><strong>é«˜å½±å“åŒºåŸŸ</strong>ï¼šæ•°æ®åº“æŸ¥è¯¢ã€å†…å­˜å ç”¨å’Œ CPU å¯†é›†çš„å‡½æ•°å¾€å¾€æœ€å€¼å¾—å…ˆåŠ¨æ‰‹ã€‚</li>
</ul>
<p>æ¯”å¦‚ï¼Œå¦‚æœé¢‘ç¹è°ƒç”¨çš„å‡½æ•°å­˜åœ¨å†…å­˜æ³„æ¼ï¼Œä¿®å¤å®ƒä¼šåœ¨é«˜å¹¶å‘ä¸‹å¸¦æ¥æ˜¾è‘—æ”¶ç›Šã€‚</p>
<h3 data-id="heading-17">ç»“è¯­ï¼šæ€§èƒ½åˆ†æå¯¹ PHP æ€§èƒ½ä¼˜åŒ–çš„ä»·å€¼</h3>
<p>æ€§èƒ½åˆ†æè®©æ€§èƒ½ä¼˜åŒ–æœ‰æ•°æ®æ”¯æ’‘ã€‚ä½ ä¸å†é ç›´è§‰æ‰¾ç“¶é¢ˆï¼Œè€Œæ˜¯é€šè¿‡é‡åŒ–ç»“æœå‡†ç¡®å®šä½é—®é¢˜ã€‚æ— è®ºæ˜¯ <code>microtime()</code>ã€Xdebug è¿˜æ˜¯ Blackfireï¼Œæ€§èƒ½åˆ†æéƒ½èƒ½ç»™ä½ è¶³å¤Ÿçš„æ´å¯Ÿæ¥åšå‡ºæœ‰æ•ˆä¼˜åŒ–ã€‚</p>
<p>å…»æˆå®šæœŸæ€§èƒ½åˆ†æçš„ä¹ æƒ¯ï¼Œå¯ä»¥è®©ä½ çš„ PHP åº”ç”¨åœ¨æµé‡å’Œå¤æ‚åº¦å¢é•¿æ—¶ä¾ç„¶ä¿æŒæ€§èƒ½ç¨³å®šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Anthropic å°æ€ä¸è‹¹æœè°·æ­Œç»“ç›Ÿï¼Œçœ‹ AI æŠ¤åŸæ²³çš„æ„å»º -- è‚˜å­çš„ Swift å‘¨æŠ¥ #119]]></title>    <link>https://juejin.cn/post/7596962344044494888</link>    <guid>https://juejin.cn/post/7596962344044494888</guid>    <pubDate>2026-01-19T23:47:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596962344044494888" data-draft-id="7596153767872462882" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Anthropic å°æ€ä¸è‹¹æœè°·æ­Œç»“ç›Ÿï¼Œçœ‹ AI æŠ¤åŸæ²³çš„æ„å»º  -- è‚˜å­çš„ Swift å‘¨æŠ¥ #119"/> <meta itemprop="keywords" content="Swift,SwiftUI,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T23:47:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸œå¡è‚˜å­"/> <meta itemprop="url" content="https://juejin.cn/user/1548526032528727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Anthropic å°æ€ä¸è‹¹æœè°·æ­Œç»“ç›Ÿï¼Œçœ‹ AI æŠ¤åŸæ²³çš„æ„å»º  -- è‚˜å­çš„ Swift å‘¨æŠ¥ #119
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1548526032528727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸œå¡è‚˜å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T23:47:50.000Z" title="Mon Jan 19 2026 23:47:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4b40df9e0804e3987022e73cf363fc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Z2h6IKY5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769471269&amp;x-signature=wb3c0JNme5oq8O6DuaNh7iEquIA%3D" alt="issue119.webp" loading="lazy"/></p>
<h2 data-id="heading-0">ä» Anthropic å°æ€ä¸è‹¹æœè°·æ­Œç»“ç›Ÿï¼Œçœ‹ AI æŠ¤åŸæ²³çš„æ„å»º</h2>
<p>2026 å¹´ä¼Šå§‹ï¼ŒAI ç•Œä¾¿è¿æ¥äº†ä¸¤è®°é‡ç£…æ¶ˆæ¯ã€‚</p>
<p>é¦–å…ˆæ˜¯ Anthropic ç—›ä¸‹æ€æ‰‹ï¼Œç¦æ­¢ç¬¬ä¸‰æ–¹å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰å’Œâ€œå¥—å£³â€è½¯ä»¶è°ƒç”¨ Claude çš„ä¸ªäººè®¢é˜…è´¦å·ï¼ˆPro/Maxï¼‰ã€‚å®˜æ–¹æ„å›¾éå¸¸æ˜æ˜¾ï¼šå µä½åˆ©ç”¨ä½ä»·è®¢é˜…â€œè–…â€é«˜ä»· API ç¾Šæ¯›çš„æ¼æ´ï¼Œå¹¶å°†è¿™ç§é«˜æ•ˆçš„ç¼–ç ä½“éªŒæ”¶å½’ä¸ºå®˜æ–¹å·¥å…· Claude Code çš„ä¸“å±æŠ¤åŸæ²³ã€‚</p>
<p>ç´§æ¥ç€ï¼Œè‹¹æœæ­£å¼ç¡®è®¤ä¸è°·æ­Œè¾¾æˆæ·±åº¦åˆä½œã€‚Gemini å°†æˆä¸º Siri åŠ Apple Intelligence åç«¯æ¨ç†ã€é€»è¾‘å¤„ç†çš„ä¸»åŠ›åŸºçŸ³ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨è‹¹æœçš„ AI ç‰ˆå›¾ä¸­ï¼Œè°·æ­Œå‡­å€Ÿå…¶åœ¨äº‘è®¡ç®—å’Œ TPU ç®—åŠ›ä¸Šçš„æ·±åšç§¯ç´¯æˆä¸ºäº†â€œåŸºç¡€è®¾æ–½â€ï¼Œè€Œ OpenAI çš„è§’è‰²åˆ™è¢«é‡æ–°å®šä½ä¸ºå¯é€‰çš„â€œé«˜çº§æ’ä»¶â€ã€‚</p>
<p>è¿™ä¸¤ä¸ªçœ‹ä¼¼ç‹¬ç«‹çš„æ–°é—»ï¼Œæ­ç¤ºäº† 2026 å¹´ AI è¡Œä¸šçš„ä¸€ä¸ªæ˜¾è‘—è¶‹åŠ¿ï¼šéšç€å¤§æ¨¡å‹èƒ½åŠ›çš„è¾¹é™…æ•ˆåº”é€’å‡ï¼Œå•çº¯çš„â€œæ™ºåŠ›â€å·²ä¸å†æ˜¯å”¯ä¸€çš„å£å’ï¼Œå„å®¶å…¬å¸æ­£åœ¨ç–¯ç‹‚æ„å»ºå±äºè‡ªå·±çš„å·®å¼‚åŒ–æŠ¤åŸæ²³ã€‚</p>
<p>Anthropic é€‰æ‹©äº†â€œå‚ç›´æ•´åˆâ€ï¼Œé€šè¿‡å¼ºç»‘å®š Claude Code ä¸è®¢é˜…è®¡åˆ’ï¼Œå°†æ¨¡å‹èƒ½åŠ›å›ºåŒ–ä¸ºä¸å¯æ›¿ä»£çš„å·¥ä½œæµä½“éªŒï¼›è€Œè°·æ­Œåˆ™èµ¢åœ¨äº†â€œè§„æ¨¡æ•ˆåº”â€ï¼Œå‡­å€Ÿ TPU é›†ç¾¤å¸¦æ¥çš„æè‡´æˆæœ¬æ§åˆ¶å’Œç¨³å®šæ€§ï¼Œæ‹¿ä¸‹äº†è‹¹æœè¿™å¼ é€šå¾€åäº¿ç”¨æˆ·çš„èˆ¹ç¥¨ã€‚</p>
<p>2025 å¹´ï¼Œæˆ‘ä»¬è¿˜åœ¨ä¸ºâ€œå“ªä¸ªæ¨¡å‹æ›´èªæ˜â€è€Œé¢‘ç¹åˆ‡æ¢è®¢é˜…ï¼Œå„å®¶æœåŠ¡è™½å„æœ‰åƒç§‹ï¼Œä½†å¯æ›¿ä»£æ€§å¼ºã€‚è¿›å…¥ 2026 å¹´ï¼Œè¿™ç§â€œåŒè´¨åŒ–ç«äº‰â€çš„çª—å£æœŸå·²ä¸´è¿‘å…³é—­ã€‚</p>
<p>åœ¨çƒ§é’±å¦‚æµæ°´çš„ AI èµ›é“ï¼Œç•™ç»™â€œä¸é”™ä½†å¹³åº¸â€çš„ä¸­é—´æ´¾çš„æ—¶é—´å·²ç»ä¸å¤šäº†ã€‚æ— è®ºä½ æ˜¯æ‹¥æœ‰æè‡´çš„æˆæœ¬ä¼˜åŠ¿ï¼ˆå¦‚ Googleï¼‰ï¼Œè¿˜æ˜¯æ‹¥æœ‰ç‹¬å çš„æ€æ‰‹çº§å·¥ä½œæµï¼ˆå¦‚ Anthropicï¼‰ï¼Œä½ å¿…é¡»å…·å¤‡ä¸€ä¸ªç«äº‰å¯¹æ‰‹æ— æ³•è½»æ˜“å¤åˆ¶çš„â€œç‰¹è´¨â€ã€‚</p>
<p>æˆ‘ç›®å‰ä»æœ‰ 4 ä¸ªä¸åŒçš„ AI æœåŠ¡è®¢é˜…ï¼Œæˆ‘ç›¸ä¿¡ä¸ç”¨åˆ°å¹´åº•ï¼Œç•™ 2 ä¸ªè®¢é˜…æˆ–è®¸å°±èƒ½æ»¡è¶³æˆ‘çš„å…¨éƒ¨éœ€æ±‚ã€‚</p>
<p>2026 å¹´çš„ä¸»è½´å°†ä¸å†æ˜¯è·‘åˆ†æ¦œä¸Šçš„æ•°å­—æ¸¸æˆï¼Œè€Œæ˜¯é€šè¿‡ä»·æ ¼å£å’æˆ–æè‡´ä½“éªŒï¼Œæä¾›åˆ‡å®æ‰“åŠ¨ B ç«¯ä¸ C ç«¯çš„ç”Ÿå­˜ç†ç”±ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-119%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-119/" ref="nofollow noopener noreferrer">æœ¬æœŸå†…å®¹</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-118%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-118/" ref="nofollow noopener noreferrer">å‰ä¸€æœŸå†…å®¹</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2F" target="_blank" title="https://fatbobman.com/zh/weekly/" ref="nofollow noopener noreferrer">å…¨éƒ¨å‘¨æŠ¥åˆ—è¡¨</a></p>
<blockquote>
<p>ğŸš€ <strong>ã€Šè‚˜å­çš„ Swift å‘¨æŠ¥ã€‹</strong></p>
<p>æ¯å‘¨ä¸ºä½ ç²¾é€‰æœ€å€¼å¾—å…³æ³¨çš„ Swiftã€SwiftUI æŠ€æœ¯åŠ¨æ€</p>
<ul>
<li><strong>ğŸ“® ç«‹å³è®¢é˜…</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.fatbobman.com%2Ffatbobman" target="_blank" title="https://weekly.fatbobman.com/fatbobman" ref="nofollow noopener noreferrer">weekly.fatbobman.com</a> è·å–å®Œæ•´å†…å®¹</li>
<li><strong>ğŸ‘¥ åŠ å…¥ç¤¾åŒº</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Finvite%2F7FedN5E2QQ" target="_blank" title="https://discord.com/invite/7FedN5E2QQ" ref="nofollow noopener noreferrer">Discord</a> ä¸ 2000+ å¼€å‘è€…äº¤æµ</li>
<li><strong>ğŸ“š æ·±åº¦æ•™ç¨‹</strong> | <a href="https://link.juejin.cn?target=http%3A%2F%2Ffatbobman.com" target="_blank" title="http://fatbobman.com" ref="nofollow noopener noreferrer">fatbobman.com</a> æ¢ç´¢ 200+ åŸåˆ›æ–‡ç« </li>
</ul>
</blockquote>
<h2 data-id="heading-1">è¿‘æœŸæ¨è</h2>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fsb-tuist%3Futm_source%3Dfatbobman%26utm_medium%3Dsocial%26utm_content%3Djuejin%26utm_term%3Dweekly-119" target="_blank" title="https://l.fatbobman.com/sb-tuist?utm_source=fatbobman&amp;utm_medium=social&amp;utm_content=juejin&amp;utm_term=weekly-119" ref="nofollow noopener noreferrer">AI é€Ÿåº¦å¿«ï¼Œä½ çš„æ„å»ºä¹Ÿåº”å¦‚æ­¤</a></h3>
<p>é€šè¿‡æ„å»ºç¼“å­˜ã€é€‰æ‹©æ€§æµ‹è¯•ä»¥åŠå¯æ“ä½œçš„æ´å¯Ÿï¼Œè®©ä½ çš„æ„å»ºã€æµ‹è¯•è¿è¡Œå’Œ CI å·¥ä½œæµé£é€Ÿè¿è½¬ï¼Œè®©ä½ çš„ AI ä»£ç†è·å¾—æ›´å¿«çš„åé¦ˆå’Œæ›´å¯é çš„ç»“æœã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fsb-tuist%3Futm_source%3Dfatbobman%26utm_medium%3Dsocial%26utm_content%3Djuejin%26utm_term%3Dweekly-119" target="_blank" title="https://l.fatbobman.com/sb-tuist?utm_source=fatbobman&amp;utm_medium=social&amp;utm_content=juejin&amp;utm_term=weekly-119" ref="nofollow noopener noreferrer">ç«‹å³ä½“éªŒ â†’</a></p>
<hr/>
<h3 data-id="heading-3"><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Fsurviving-tvos%2F%3Futm_source%3Dfatbobman%2520weekly%2520issue%2520119%26utm_medium%3Dweb" target="_blank" title="https://fatbobman.com/zh/posts/surviving-tvos/?utm_source=fatbobman%20weekly%20issue%20119&amp;utm_medium=web" ref="nofollow noopener noreferrer">åœ¨ tvOS ä¸Šæ´»ä¸‹ä¾†ï¼šä¸€å€‹éå…¸å‹æ’­æ”¾å™¨çš„å·¥ç¨‹å¯¦éŒ„</a></h3>
<p>åœ¨è‹¹æœåºå¤§çš„ç¡¬ä»¶ç”Ÿæ€ä¸­ï¼ŒApple TV å¾€å¾€å¤„äºä¸€ä¸ªç•¥æ˜¾å°´å°¬çš„ä½ç½®ï¼šå®ƒåœ¨å®¢å…åœºæ™¯ä¸­æ‹¥æœ‰ç¨³å®šä¸”å¿ å®çš„ç”¨æˆ·ç¾¤ï¼Œå´å§‹ç»ˆä¸æ˜¯å¤šæ•°å¼€å‘è€…çš„ä¼˜å…ˆç›®æ ‡ï¼ŒæŠ•å…¥ä¸å›æŠ¥çš„ä¸ç¡®å®šæ€§ä¹Ÿè®©ä¸å°‘äººæœ›è€Œå´æ­¥ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fllqoli" target="_blank" title="https://x.com/llqoli" ref="nofollow noopener noreferrer">Ronnie Wong</a> ä»¥ä¸€æ¬¾éå…¸å‹æ’­æ”¾å™¨ä¸ºåˆ‡å…¥ç‚¹ï¼Œå›é¡¾äº†å¥¹åœ¨ tvOS å¼€å‘è¿‡ç¨‹ä¸­çš„çœŸå®ç»å†â€”â€”ä»å¹³å°é™åˆ¶ã€äº¤äº’å·®å¼‚ï¼Œåˆ°å·¥ç¨‹å–èˆä¸å¦¥åã€‚è¿™ç¯‡æ–‡ç« è¿™ç¯‡æ–‡ç« æ²¡æœ‰è¯•å›¾ç²‰é¥° tvOS å¼€å‘çš„ç—›ç‚¹ï¼Œè€Œæ˜¯å¦‚å®å‘ˆç°äº†åœ¨è¿™ä¸€â€œå°ä¼—ä½†ç‹¬ç‰¹â€çš„å¹³å°ä¸Šï¼Œå¼€å‘è€…å¦‚ä½•åœ¨ç°å®æ¡ä»¶ä¸­åšå‡ºç†æ€§é€‰æ‹©å¹¶â€œæ´»ä¸‹æ¥â€ã€‚</p>
<hr/>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-01" target="_blank" title="https://l.fatbobman.com/w0119-01" ref="nofollow noopener noreferrer">@_exported import vs. public import</a></h3>
<p>Swift 6 å¼•å…¥äº†ä¸€ä¸ªå¹¶ä¸æ˜¾çœ¼ã€å´å½±å“æ·±è¿œçš„æ–°ç‰¹æ€§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fswiftlang%2Fswift-evolution%2Fblob%2Fmain%2Fproposals%2F0409-access-level-on-imports.md" target="_blank" title="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0409-access-level-on-imports.md" ref="nofollow noopener noreferrer">Access-level modifiers on import declarations</a>ã€‚è¯¥ææ¡ˆè¦æ±‚å¼€å‘è€…åœ¨ä½¿ç”¨ <code>import</code> æ—¶æ˜¾å¼å£°æ˜è®¿é—®çº§åˆ«ï¼Œä»¥å‡å°‘ä¾èµ–æ— æ„å¤–æ³„ã€é¿å…æ¨¡å—æ¥å£è¢«â€œæ‚„ç„¶æ±¡æŸ“â€ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2F_al_we" target="_blank" title="https://x.com/_al_we" ref="nofollow noopener noreferrer">Alexander WeiÃŸ</a> ç³»ç»Ÿè®²è§£äº†è¿™ä¸€æœºåˆ¶çš„è®¾è®¡åˆè¡·ä¸ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼Œå¹¶é‡ç‚¹å¯¹æ¯”äº† <code>public import</code> ä¸ <code>@_exported import</code> åœ¨æ¨¡å—æ¥å£æš´éœ²ã€ä¾èµ–ä¼ é€’ä»¥åŠ API è®¾è®¡å±‚é¢çš„å®é™…å·®å¼‚ï¼Œè§£é‡Šäº†ä¸ºä»€ä¹ˆå‰è€…å¾€å¾€å¹¶ä¸èƒ½å®ç°å¼€å‘è€…ç›´è§‰ä¸­çš„â€œé‡å¯¼å‡ºâ€æ•ˆæœã€‚è¿™å¯¹äºæ­£åœ¨æ„å»º SDKã€Swift Packageï¼Œæˆ–å¸Œæœ›æ˜ç¡®æ¨¡å—è¾¹ç•Œçš„å¼€å‘è€…æ¥è¯´ï¼Œå…·æœ‰å¾ˆå¼ºçš„ç°å®æŒ‡å¯¼æ„ä¹‰ã€‚</p>
<blockquote>
<p>æˆ‘åœ¨è¯»å®Œè¿™ç¯‡æ–‡ç« åï¼Œå·²ç»åœ¨å½“å‰é¡¹ç›®ä»¥åŠéƒ¨åˆ†ç¬¬ä¸‰æ–¹åº“ä¸­å¯ç”¨äº† <code>InternalImportsByDefault</code>ï¼Œå¹¶ç«‹åˆ»è¿æ¥äº†ä¸€æ‰¹ç¼–è¯‘é”™è¯¯ï¼Œå¤šå°‘é‡æ¸©äº†åˆšæ¥è§¦ä¸¥æ ¼å¹¶å‘æ—¶çš„ä½“éªŒã€‚ä¸è¿‡ï¼Œç›¸æ¯”å¹¶å‘ç›¸å…³çš„é—®é¢˜ï¼Œè¿™ç±»é”™è¯¯é€šå¸¸æ›´ç›´è§‚ã€ä¹Ÿæ›´å®¹æ˜“ä¿®å¤ã€‚å»ºè®®ä½ å°½æ—©å¼€å¯è¿™ä¸€è®¾ç½®ï¼Œä»¥é¿å…åœ¨æœªæ¥å®˜æ–¹é»˜è®¤å¯ç”¨æ—¶ï¼Œé›†ä¸­é¢å¯¹æ›´å¤§è§„æ¨¡çš„è¿ç§»æˆæœ¬ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-02" target="_blank" title="https://l.fatbobman.com/w0119-02" ref="nofollow noopener noreferrer">Universal Links at Scaleï¼šé‚£äº›é²œæœ‰äººæåŠçš„è§„æ¨¡åŒ–æŒ‘æˆ˜ (Universal Links At Scale: The Challenges Nobody Talks About)</a></h3>
<p>Universal Links çš„åŸç†å’Œå®ç°æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œä¹Ÿå› æ­¤å¸¸å¸¸ç»™äººä¸€ç§â€œç®€å•è€Œä¼˜é›…â€çš„é”™è§‰ã€‚ä½†ä¸€æ—¦è¿›å…¥å¤§è§„æ¨¡åº”ç”¨ã€å¤šä¸ªåŸŸåã€å¤æ‚è·¯ç”±å’Œé•¿æœŸæ¼”è¿›çš„çœŸå®åœºæ™¯ï¼Œå…¶å¤æ‚åº¦ä¼šè¿…é€Ÿæ˜¾ç°ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Falbertodebo" target="_blank" title="https://x.com/albertodebo" ref="nofollow noopener noreferrer">Alberto De Bortoli</a> ç»“åˆè‡ªèº«åœ¨å¤§å‹é¡¹ç›®ä¸­çš„å®è·µç»éªŒï¼Œç³»ç»Ÿæ¢³ç†äº† Universal Links åœ¨è§„æ¨¡åŒ–ä½¿ç”¨æ—¶å¸¸è¢«å¿½è§†çš„é—®é¢˜ï¼šAASA æ–‡ä»¶çš„ç»´æŠ¤æˆæœ¬ã€ç¼“å­˜ä¸ç”Ÿæ•ˆæ—¶æœºçš„ä¸ç¡®å®šæ€§ã€å¤šç¯å¢ƒä¸å¤šå›¢é˜Ÿåä½œä¸‹çš„é£é™©ï¼Œä»¥åŠè°ƒè¯•ä¸å›æ»šå‡ ä¹æ²¡æœ‰â€œå®‰å…¨ç½‘â€çš„ç°å®å›°å¢ƒã€‚Alberto æé†’å¼€å‘è€…åœ¨è®¾è®¡æ·±åº¦é“¾æ¥æ–¹æ¡ˆæ—¶ï¼Œå¿…é¡»æå‰ä¸ºâ€œè§„æ¨¡æ•ˆåº”â€åšå¥½å‡†å¤‡ã€‚</p>
<hr/>
<h3 data-id="heading-6"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-03" target="_blank" title="https://l.fatbobman.com/w0119-03" ref="nofollow noopener noreferrer">å½“æ¨¡å—åŒ–é‡åˆ°èµ„æºé‡å¤é—®é¢˜ (Swift Modules and Code/Assets Duplication)</a></h3>
<p>éšç€ Swift æ¨¡å—åŒ–ç¨‹åº¦çš„ä¸æ–­åŠ æ·±ï¼Œèµ„æºï¼ˆCodeAssetsï¼‰ç®¡ç†é€æ¸æˆä¸ºä¸€ä¸ªå®¹æ˜“è¢«å¿½è§†ã€å´å¯èƒ½åœ¨è§„æ¨¡åŒ–é¡¹ç›®ä¸­å¼•å‘å®é™…é—®é¢˜çš„é¢†åŸŸã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fpfandrade_" target="_blank" title="https://x.com/pfandrade_" ref="nofollow noopener noreferrer">Paulo Andrade</a> é€šè¿‡å…·ä½“ç¤ºä¾‹åˆ†æäº† Swift æ¨¡å—ä¸ CodeAssets åœ¨å¤šæ¨¡å—ä¾èµ–åœºæ™¯ä¸‹äº§ç”Ÿé‡å¤æ‰“åŒ…ä¸ä½“ç§¯è†¨èƒ€çš„é—®é¢˜ï¼Œè§£é‡Šäº†å…¶èƒŒåçš„æ„å»ºä¸é“¾æ¥æœºåˆ¶ï¼Œå¹¶æ¢è®¨äº†å½“å‰å·¥å…·é“¾ä¸‹å¯è¡Œçš„è§„é¿ç­–ç•¥ã€‚Paulo æé†’å¼€å‘è€…ï¼šæ¨¡å—åŒ–å¹¶ä¸ä»…ä»…æ˜¯ API ä¸ä¾èµ–å…³ç³»çš„è®¾è®¡ï¼Œèµ„æºçš„è¾¹ç•Œä¸å½’å±åŒæ ·éœ€è¦è¢«è®¤çœŸå¯¹å¾…ã€‚</p>
<hr/>
<h3 data-id="heading-7"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-04" target="_blank" title="https://l.fatbobman.com/w0119-04" ref="nofollow noopener noreferrer">ä½¿ç”¨ SwiftUI æ„å»ºæ–‡æ¡£å‹åº”ç”¨ (Crafting document-based apps in SwiftUI)</a></h3>
<p>æ–‡æ¡£å‹åº”ç”¨ï¼ˆDocument-Based Appï¼‰æ˜¯ä¸€ä¸ªæ—¢å¸¸è§ã€å´å¸¸è¢«ä½ä¼°å¤æ‚åº¦çš„åº”ç”¨å½¢æ€ã€‚ç›¸æ¯”æ™®é€šåº”ç”¨ï¼Œå…¶æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æƒé™ä¸å®‰å…¨ä½œç”¨åŸŸï¼Œä»¥åŠä¸ç³»ç»Ÿæ–‡æ¡£æµè§ˆä½“éªŒçš„ååŒæ–¹å¼ï¼Œå¯¹ä¸å°‘å¼€å‘è€…è€Œè¨€éƒ½è¾ƒä¸ºé™Œç”Ÿã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.linkedin.com%2Fin%2Ffonztara%2F" target="_blank" title="https://www.linkedin.com/in/fonztara/" ref="nofollow noopener noreferrer">Alfonso Tarallo</a> ä»¥ SwiftUI ä¸ºæ ¸å¿ƒï¼Œç³»ç»Ÿæ¢³ç†äº†æ„å»ºæ–‡æ¡£å‹åº”ç”¨æ‰€éœ€çš„å…³é”®ç»„æˆéƒ¨åˆ†ï¼ŒåŒ…æ‹¬ <code>FileDocument</code>ã€<code>DocumentGroup</code> çš„èŒè´£åˆ’åˆ†ï¼Œä»¥åŠ SwiftUI å¦‚ä½•ä¸ç³»ç»Ÿæ–‡ä»¶æœºåˆ¶ååŒå·¥ä½œã€‚</p>
<hr/>
<h3 data-id="heading-8"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-05" target="_blank" title="https://l.fatbobman.com/w0119-05" ref="nofollow noopener noreferrer">Swift 2026 ç”Ÿæ€ç°çŠ¶ (State of Swift 2026)</a></h3>
<p>è¿™æ˜¯ä¸€ç¯‡å›´ç»• Swift ç”Ÿæ€çš„æ·±åº¦è§‚å¯Ÿä¸è¶‹åŠ¿ç ”åˆ¤ã€‚æ–‡ç« å°† 2025 å¹´å®šä¹‰ä¸º Swift çš„â€œå˜é©ä¹‹å¹´â€ï¼Œè¯¦ç»†æ¢³ç†äº†å¹¶å‘æ¨¡å‹ä»â€œä¸¥æ ¼â€å‘â€œå¹³æ˜“è¿‘äººï¼ˆApproachableï¼‰â€çš„æ¼”è¿›è·¯å¾„ï¼Œä»¥åŠæœåŠ¡ç«¯ï¼ˆå¦‚ Apple å¯†ç æœåŠ¡è¿ç§»æ¡ˆä¾‹ï¼‰ä¸ Android å¼€å‘çš„å®è´¨æ€§çªç ´ã€‚ä½œè€…æ²¡æœ‰å›é¿ç¤¾åŒºå…³äº SwiftUI ä¸ AppKit çš„æ¶æ„äº‰è®®ï¼Œè€Œæ˜¯å®¢è§‚åˆ†æäº†å…¶ä¸­çš„æœºé‡ä¸æŒ‘æˆ˜ã€‚ç›¸æ¯”äºå•çº¯çš„æŠ€æœ¯æ¸…å•ï¼Œæœ¬æ–‡æ›´åƒæ˜¯ä¸€ä»½æˆ˜ç•¥æŠ¥å‘Šï¼Œå¸®åŠ©å¼€å‘è€…åœ¨æ—¥å¸¸ä»£ç ä¹‹å¤–ï¼Œçœ‹æ¸… Swift æ­£ä»å•ä¸€çš„â€œApp è¯­è¨€â€å‘å…¨åœºæ™¯å®‰å…¨è¯­è¨€èœ•å˜çš„å®è§‚å›¾æ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-9"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-06" target="_blank" title="https://l.fatbobman.com/w0119-06" ref="nofollow noopener noreferrer">å’Œ ChaoCode ä¸€èµ·å­¦ CS146S</a></h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fthemodernsoftware.dev%2F" target="_blank" title="https://themodernsoftware.dev/" ref="nofollow noopener noreferrer">CS146S</a> æ˜¯æ–¯å¦ç¦å¤§å­¦å¼€è®¾çš„ä¸€é—¨å‰æ²¿è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹ï¼Œå…¨åä¸º "CS146S: The Modern Software Developer"ã€‚è¯¥è¯¾ç¨‹çš„æ ¸å¿ƒç†å¿µåœ¨äºæ•™å¯¼å­¦ç”Ÿåˆ©ç”¨æœ€æ–°çš„ AI å·¥å…·ï¼ˆå¦‚ LLMsã€Cursorã€Claude ç­‰ï¼‰å°†å¼€å‘æ•ˆç‡æå‡ 10 å€ï¼Œä»å•çº¯çš„â€œä»£ç ç¼–å†™è€…â€è½¬å˜ä¸ºâ€œAI æ™ºèƒ½ä½“çš„æŒ‡æŒ¥å®˜â€ã€‚</p>
<p>å¦‚æœä½ å¯¹è¿™é—¨è¯¾ç¨‹æ„Ÿå…´è¶£ï¼Œä½†é¢å¯¹å¤§é‡çš„è‹±æ–‡é˜…è¯»ææ–™å’Œçº¯æ–‡æœ¬ Slides æ„Ÿåˆ°æ¯ç‡¥æˆ–ç•éš¾ï¼Œé‚£ä¹ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fjanechao_dev" target="_blank" title="https://x.com/janechao_dev" ref="nofollow noopener noreferrer">ChaoCode</a> (Jane) åˆšåˆšå¼€å¯çš„è¿™ä¸ªâ€œä¼´è¯»â€ç³»åˆ—å¯èƒ½æ­£æ˜¯ä½ éœ€è¦çš„ã€‚Jane ä»¥â€œè§†è§‰å­¦ä¹ è€…â€çš„è§†è§’ï¼Œé€šè¿‡è§†é¢‘å½¢å¼è®°å½•å¹¶åˆ†äº«äº†è¿™é—¨è¯¾ç¨‹çš„å­¦ä¹ è¿‡ç¨‹ã€‚å¥¹ä¸ä»…å°†åŸå§‹ Slides æ•´ç†æˆäº†ç¹ä½“ä¸­æ–‡/è‹±æ–‡åŒè¯­ç‰ˆæœ¬ï¼Œè¡¥å……äº†åŸç‰ˆç¼ºå¤±çš„è®²è€…æ³¨é‡Šï¼Œè¿˜ä¸“é—¨ç»´æŠ¤äº†ä¸€ä¸ª <a href="https://link.juejin.cn?target=https%3A%2F%2Fchaocode.notion.site%2Fcs146s" target="_blank" title="https://chaocode.notion.site/cs146s" ref="nofollow noopener noreferrer">Notion é¡µé¢</a> æ¥æ•´åˆæ‰€æœ‰çš„å­¦ä¹ èµ„æºä¸ä½œä¸šã€‚è¿™ä¸æ˜¯ä¸€ä¸ªè¯¾ç¨‹æ¬è¿ï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œLearning in Publicâ€çš„æœ€ä½³å®è·µã€‚</p>
<h2 data-id="heading-10">å·¥å…·</h2>
<h3 data-id="heading-11"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-07" target="_blank" title="https://l.fatbobman.com/w0119-07" ref="nofollow noopener noreferrer">Axiomï¼šé¢å‘ iOS å¼€å‘çš„ Claude Code Agent é›†åˆ</a></h3>
<p>Axiom æ˜¯ç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Fbsky.app%2Fprofile%2Fwiltgen.net" target="_blank" title="https://bsky.app/profile/wiltgen.net" ref="nofollow noopener noreferrer">Charles Wiltgen</a> ç»´æŠ¤çš„ä¸€å¥—é¢å‘ iOS å¼€å‘è€…çš„ Claude Code Agents ä¸ Skills çŸ¥è¯†ä½“ç³»ã€‚å®ƒå°†å¤§é‡çœŸå®é¡¹ç›®ä¸­åå¤å‡ºç°çš„å¼€å‘ä»»åŠ¡ã€æ’éšœæµç¨‹ä¸æœ€ä½³å®è·µï¼Œç³»ç»Ÿæ•´ç†ä¸ºå¯å¤ç”¨çš„ Skillsã€Agents ä¸ Commandsï¼Œè¦†ç›– Swift 6ã€SwiftUIã€å¹¶å‘ã€æ•°æ®æŒä¹…åŒ–ã€è°ƒè¯•ã€å¯è®¿é—®æ€§ä»¥åŠ Apple Intelligence ç­‰å¤šä¸ªæ–¹å‘ã€‚</p>
<p>Axiom å°è¯•å›ç­”å¦ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•æŠŠç»éªŒä¸°å¯Œçš„å·¥ç¨‹åˆ¤æ–­ï¼Œç³»ç»ŸåŒ–åœ°äº¤ç»™ AI åŠ©æ‰‹æ‰§è¡Œã€‚ä½œè€…ä¹Ÿé¼“åŠ±ä½¿ç”¨è€…åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.reddit.com%2Fr%2Faxiomdev%2F" target="_blank" title="https://www.reddit.com/r/axiomdev/" ref="nofollow noopener noreferrer">Reddit çš„ axiomdev æ¿å—</a> ä¸­äº¤æµå®è·µç»éªŒä¸åé¦ˆã€‚</p>
<hr/>
<h3 data-id="heading-12"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-08" target="_blank" title="https://l.fatbobman.com/w0119-08" ref="nofollow noopener noreferrer">BibTeXKitï¼šç±»å‹å®‰å…¨çš„ BibTeX è§£æåº“</a></h3>
<p>BibTeX æ–‡ä»¶æ˜¯ä¸€ç§åŸºäºæ–‡æœ¬çš„æ–‡çŒ®æ•°æ®åº“æ ¼å¼ï¼Œå¹¿æ³›ç”¨äº LaTeX æ–‡æ¡£ä½“ç³»ä¸­ç®¡ç†å‚è€ƒæ–‡çŒ®ã€‚é€šè¿‡ç»´æŠ¤ç‹¬ç«‹çš„ <code>.bib</code> æ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥é›†ä¸­å­˜å‚¨å¹¶å¤ç”¨æ–‡çŒ®çš„å…ƒæ•°æ®ï¼Œåœ¨æ’ç‰ˆé˜¶æ®µç”±å·¥å…·è‡ªåŠ¨å®Œæˆå¼•ç”¨ä¸æ ¼å¼åŒ–ã€‚</p>
<p>ç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.linkedin.com%2Fin%2Fezefranca%2F" target="_blank" title="https://www.linkedin.com/in/ezefranca/" ref="nofollow noopener noreferrer">Ezequiel Santos</a> å¼€å‘çš„ BibTeXKit æ˜¯ä¸€ä¸ªä½¿ç”¨ Swift ç¼–å†™çš„ BibTeX è§£æä¸å»ºæ¨¡åº“ï¼Œç›®æ ‡éå¸¸æ˜ç¡®ï¼šä¸º Swift é¡¹ç›®æä¾›ä¸€å¥—ç±»å‹å®‰å…¨ã€å¯æ‰©å±•çš„ BibTeX å¤„ç†èƒ½åŠ›ã€‚å®ƒå°† BibTeX æ–‡ä»¶ä¸­çš„æ¡ç›®ã€å­—æ®µä¸å¼•ç”¨å…³ç³»æ˜ å°„ä¸ºæ¸…æ™°çš„ Swift æ•°æ®ç»“æ„ï¼Œé¿å…äº†åœç•™åœ¨å­—ç¬¦ä¸²å±‚é¢åå¤è§£æä¸æ‰‹å·¥å¤„ç†æ‰€å¸¦æ¥çš„å¤æ‚æ€§ï¼Œæ›´é€‚åˆä½œä¸ºæ–‡çŒ®ç®¡ç†ç±»å·¥å…·æˆ–ç ”ç©¶å‹åº”ç”¨çš„åº•å±‚ç»„ä»¶ã€‚</p>
<hr/>
<h3 data-id="heading-13"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0119-09" target="_blank" title="https://l.fatbobman.com/w0119-09" ref="nofollow noopener noreferrer">MirageKitï¼šApple å¹³å°é«˜æ€§èƒ½æŠ•å±ä¸è¿œç¨‹æ§åˆ¶æ¡†æ¶</a></h3>
<p>MirageKit æ˜¯ä¸€ä¸ªç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FEthanLipnik" target="_blank" title="https://x.com/EthanLipnik" ref="nofollow noopener noreferrer">Ethan Lipnik</a> å¼€å‘çš„ Apple å¹³å°ä¸“ç”¨æµåª’ä½“æ¡†æ¶ï¼Œæ—¨åœ¨å®ç° macOS ç”»é¢å‘ iOSã€visionOS æˆ–å¦ä¸€å° Mac çš„ä½å»¶è¿ŸæŠ•å±ä¸æ§åˆ¶ã€‚</p>
<p>è¯¥æ¡†æ¶å……åˆ†åˆ©ç”¨äº† Apple æœ€æ–°çš„ç³»ç»Ÿç‰¹æ€§ï¼ˆéœ€ iOS 26+ / macOS 26+ï¼‰ï¼Œæ ¸å¿ƒåŸºäº ScreenCaptureKit ä¸ Metal æ„å»ºï¼Œåˆ©ç”¨ UDP ä¼ è¾“è§†é¢‘æµå¹¶æ”¯æŒ AWDL ç‚¹å¯¹ç‚¹è¿æ¥ï¼Œåœ¨ä¿è¯ç”»è´¨ï¼ˆæ”¯æŒ 1:1 è™šæ‹Ÿæ˜¾ç¤ºå™¨åƒç´ çº§æ¸²æŸ“ï¼‰çš„åŒæ—¶å®ç°äº†æä½çš„å»¶è¿Ÿã€‚é™¤äº†å•çº¯çš„ç”»é¢ä¼ è¾“ï¼ŒMirageKit è¿˜æ‰“é€šäº†è¾“å…¥åå‘æ§åˆ¶ï¼Œæ”¯æŒå°†å®¢æˆ·ç«¯çš„é”®é¼ ã€æ‰‹åŠ¿æ“ä½œç”šè‡³åŸç”Ÿèœå•æ äº¤äº’å›ä¼ è‡³ä¸»æœºã€‚å¯¹äºæƒ³è¦æ„å»ºé«˜æ€§èƒ½è¿œç¨‹æ¡Œé¢ã€å‰¯å±åº”ç”¨æˆ– Vision Pro ç”Ÿäº§åŠ›å·¥å…·çš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ½œåŠ›çš„èµ·æ­¥æ–¹æ¡ˆã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMirageKit ç›®å‰ä»å¤„äº <strong>æ—©æœŸä¸”æ´»è·ƒçš„å¼€å‘é˜¶æ®µ</strong>ï¼ŒAPI å¯èƒ½ä¼šå‡ºç°ç ´åæ€§å˜æ›´ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FEthanLipnik%2Fstatus%2F2012298013558063499" target="_blank" title="https://x.com/EthanLipnik/status/2012298013558063499" ref="nofollow noopener noreferrer">æ¨æ–‡</a> ä¸­å±•ç¤ºçš„è§†é¢‘ï¼Œæ˜¯ Ethan åŸºäº MirageKit æ„å»ºã€ä»åœ¨å¼€å‘ä¸­çš„åº”ç”¨æ¼”ç¤ºã€‚</p>
<h2 data-id="heading-14">å¾€æœŸå†…å®¹</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-118%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-118/" ref="nofollow noopener noreferrer">AT çš„äººç”Ÿæœªå¿…æ¯” MT æ›´å¥½- #118</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhttps%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-117%2F" target="_blank" title="https://https://fatbobman.com/zh/weekly/issue-117/" ref="nofollow noopener noreferrer">2026ï¼šå½“ AI éšå…¥å·¥ä½œæµï¼Œä½ å‡†å¤‡å¥½äº†å—ï¼Ÿ- #117</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-116%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-116/" ref="nofollow noopener noreferrer">Swiftã€SwiftUI ä¸ SwiftDataï¼šèµ°å‘æˆç†Ÿçš„ 2025 - #116</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-115%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-115/" ref="nofollow noopener noreferrer">å‘¨æ—¥å°æ’æ›² - #115</a></li>
</ul>
<h2 data-id="heading-15">ğŸ’ æ”¯æŒä¸åé¦ˆ</h2>
<p>å¦‚æœæœ¬æœŸå‘¨æŠ¥å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ï¼š</p>
<ul>
<li>ğŸ‘ <strong>ç‚¹èµ</strong> - è®©æ›´å¤šå¼€å‘è€…çœ‹åˆ°</li>
<li>ğŸ’¬ <strong>è¯„è®º</strong> - åˆ†äº«ä½ çš„çœ‹æ³•æˆ–é—®é¢˜</li>
<li>ğŸ”„ <strong>è½¬å‘</strong> - å¸®åŠ©åŒè¡Œå…±åŒæˆé•¿</li>
</ul>
<hr/>
<blockquote>
<p>ğŸš€ <strong>æ‹“å±• Swift è§†é‡</strong></p>
<ul>
<li><strong>ğŸ“® é‚®ä»¶è®¢é˜…</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.fatbobman.com%2Fwelcome" target="_blank" title="https://weekly.fatbobman.com/welcome" ref="nofollow noopener noreferrer">weekly.fatbobman.com</a> è·å–ç‹¬å®¶æŠ€æœ¯æ´å¯Ÿ</li>
<li><strong>ğŸ‘¥ å¼€å‘è€…ç¤¾åŒº</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Finvite%2F7FedN5E2QQ" target="_blank" title="https://discord.com/invite/7FedN5E2QQ" ref="nofollow noopener noreferrer">Discord</a> å®æ—¶äº¤æµå¼€å‘ç»éªŒ</li>
<li><strong>ğŸ“š åŸåˆ›æ•™ç¨‹</strong> | <a href="https://link.juejin.cn?target=http%3A%2F%2Ffatbobman.com" target="_blank" title="http://fatbobman.com" ref="nofollow noopener noreferrer">fatbobman.com</a> å­¦ä¹  Swift/SwiftUI æœ€ä½³å®è·µ</li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ooder-agent v0.6.2 å‡çº§å®æµ‹ï¼šSDK å°è£… + Skill åŒ– VFSï¼ŒAI ä¸€é”®ç”Ÿæˆåˆ†å¸ƒå¼å­˜å‚¨åº”ç”¨]]></title>    <link>https://juejin.cn/post/7596896373053997119</link>    <guid>https://juejin.cn/post/7596896373053997119</guid>    <pubDate>2026-01-19T16:07:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596896373053997119" data-draft-id="7596926832913137727" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ooder-agent v0.6.2 å‡çº§å®æµ‹ï¼šSDK å°è£… + Skill åŒ– VFSï¼ŒAI ä¸€é”®ç”Ÿæˆåˆ†å¸ƒå¼å­˜å‚¨åº”ç”¨"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T16:07:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ooder-agent v0.6.2 å‡çº§å®æµ‹ï¼šSDK å°è£… + Skill åŒ– VFSï¼ŒAI ä¸€é”®ç”Ÿæˆåˆ†å¸ƒå¼å­˜å‚¨åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T16:07:13.000Z" title="Mon Jan 19 2026 16:07:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºä¸€åæ·±è€•åˆ†å¸ƒå¼Agentæ¡†æ¶çš„å¼€å‘è€…ï¼Œæˆ‘è¸©è¿‡æœ€å¤šçš„å‘ï¼Œå°±æ˜¯<strong>åˆ†å¸ƒå¼å­˜å‚¨çš„é…ç½®å¤æ‚ã€æ–­ç½‘æ•°æ®ä¸¢å¤±ã€è‡ªå®šä¹‰åº”ç”¨å¼€å‘æˆæœ¬é«˜</strong>è¿™ä¸‰å¤§éš¾é¢˜ã€‚</p>
<p>ç›´åˆ°ä¸Šæ‰‹ ooder-agent v0.6.2 ç‰ˆæœ¬ï¼Œæˆ‘æ‰å‘ç°åŸæ¥åˆ†å¸ƒå¼å­˜å‚¨åº”ç”¨å¯ä»¥è¿™ä¹ˆç®€å•â€”â€”è¿™æ¬¡å‡çº§ç›´æ¥æŠŠä¸¤ä¸ªæ ¸å¿ƒç—›ç‚¹è¿æ ¹æ‹”èµ·ï¼š<code>agent-sdk</code> æ·±åº¦å°è£…é™ä½å¼€å‘é—¨æ§›ï¼Œ<code>skill-vfs</code> å˜èº«å®Œæ•´Skillç¨‹åºé€‚é…å¤æ‚ç½‘ç»œåœºæ™¯ï¼Œæ›´å…³é”®çš„æ˜¯ï¼Œ<strong>AIä¸€å¥è¯å°±èƒ½ç”Ÿæˆå­˜å‚¨åº”ç”¨ï¼Œé›¶ä»£ç è‡ªåŠ¨éƒ¨ç½²</strong>ã€‚</p>
<p>ä»Šå¤©å°±ä»æŠ€æœ¯è§’åº¦ï¼ŒèŠèŠè¿™æ¬¡å‡çº§çš„ä¸¤å¤§æ ¸å¿ƒäº®ç‚¹å’Œå®é™…ä½¿ç”¨ä»·å€¼ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒå‡çº§1ï¼šagent-sdk 0.6.2 æ·±åº¦å°è£…ï¼Œå¼€å‘é—¨æ§›ç›´é™</h2>
<p>æœ¬æ¬¡å‡çº§çš„é‡ä¸­ä¹‹é‡ï¼Œæ˜¯å¯¹ <code>agent-sdk</code> çš„å…¨é¢é‡æ„ä¸å°è£…ï¼Œæ ¸å¿ƒç›®æ ‡å°±æ˜¯<strong>è®©å¼€å‘è€…ä¸ç”¨å…³å¿ƒåº•å±‚å­˜å‚¨å®ç°ï¼Œä¸“æ³¨ä¸šåŠ¡é€»è¾‘</strong>ã€‚</p>
<h3 data-id="heading-1">1.  ç»Ÿä¸€å­˜å‚¨æ¥å£ï¼Œå±è”½åº•å±‚å·®å¼‚</h3>
<p>SDK é‡æ„äº†å­˜å‚¨æ¨¡å—ï¼Œå°† LocalJsonStorageã€VfsJsonStorageã€SwitchableJsonStorage å½»åº•è§£è€¦ï¼ŒåŒæ—¶æä¾›æ ‡å‡†åŒ–çš„å­˜å‚¨æ“ä½œæ¥å£ã€‚</p>
<p>ä¸ç®¡æ˜¯æœ¬åœ°å­˜å‚¨è¿˜æ˜¯åˆ†å¸ƒå¼VFSå­˜å‚¨ï¼Œå¼€å‘è€…è°ƒç”¨çš„éƒ½æ˜¯åŒä¸€å¥—APIï¼Œä¸ç”¨å†™ä¸¤å¥—é€»è¾‘é€‚é…ä¸åŒå­˜å‚¨åç«¯ã€‚</p>
<h3 data-id="heading-2">2.  é›¶é…ç½®é›†æˆVFSï¼Œå¼€ç®±å³ç”¨</h3>
<p>æ–°ç‰ˆæœ¬æ”¯æŒ <strong>VFSæœåŠ¡è‡ªåŠ¨å‘ç°</strong>ï¼Œå¼€å‘è€…ä¸éœ€è¦æ‰‹åŠ¨é…ç½®VFSæœåŠ¡åœ°å€ã€ç«¯å£ç­‰å‚æ•°ã€‚</p>
<p>åªè¦éƒ¨ç½²äº† skill-vfs æœåŠ¡ï¼ŒSDKå°±èƒ½è‡ªåŠ¨è¯†åˆ«å¹¶è¿æ¥ï¼ŒçœŸæ­£åšåˆ°â€œä»£ç å†™å®Œç›´æ¥è·‘â€ã€‚</p>
<h3 data-id="heading-3">3.  æ¨¡å—åŒ–+æ’ä»¶åŒ–ï¼Œæ‰©å±•æ€§æ‹‰æ»¡</h3>
<p>å°è£…åçš„SDKé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå­˜å‚¨åŠŸèƒ½ä¸å…¶ä»–æ ¸å¿ƒèƒ½åŠ›å®Œå…¨è§£è€¦ã€‚</p>
<p>æƒ³è¦æ–°å¢S3ã€HDFSè¿™ç±»å­˜å‚¨åç«¯ï¼Ÿä¸ç”¨ä¿®æ”¹SDKæ ¸å¿ƒä»£ç ï¼Œç›´æ¥å¼€å‘å¯¹åº”çš„å­˜å‚¨æ’ä»¶å°±èƒ½é›†æˆï¼Œæ‰©å±•æ€§ç›´æ¥æ‹‰æ»¡ã€‚</p>
<h2 data-id="heading-4">äºŒã€æ ¸å¿ƒå‡çº§2ï¼šskill-vfs å˜èº«å®Œæ•´Skillç¨‹åºï¼Œé€‚é…åˆ†å¸ƒå¼ä¸ç¨³å®šç½‘ç»œ</h2>
<p>å¦‚æœè¯´SDKå°è£…æ˜¯é™ä½å¼€å‘é—¨æ§›ï¼Œé‚£ <code>skill-vfs</code> çš„SkillåŒ–æ”¹é€ ï¼Œå°±æ˜¯è¿™æ¬¡å‡çº§çš„çµé­‚â€”â€”å®ƒä¸å†æ˜¯ä¸€ä¸ªå•çº¯çš„å­˜å‚¨æœåŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½è¢« ooder-agent ç»Ÿä¸€è°ƒåº¦çš„Skillç¨‹åºã€‚</p>
<h3 data-id="heading-5">1.  ä½œä¸ºSkillçš„å…¨ç‰¹æ€§å…¼å®¹ï¼ŒååŒèƒ½åŠ›ç¿»å€</h3>
<p>skill-vfs ç»§æ‰¿äº†Skillç¨‹åºçš„æ‰€æœ‰ä¼˜è‰¯ç‰¹æ€§ï¼šå¯ä»¥è¢« ooder-agent ç»Ÿä¸€ç®¡ç†ã€è°ƒåº¦ï¼Œèƒ½å’Œ skill-aï¼ˆä¿¡æ¯æ£€ç´¢ï¼‰ã€skill-bï¼ˆæ•°æ®æäº¤ï¼‰ç­‰å…¶ä»–Skillæ— ç¼åä½œã€‚</p>
<p>æ¯”å¦‚ skill-a æ£€ç´¢åˆ°çš„æ–‡ä»¶ï¼Œèƒ½ç›´æ¥è°ƒç”¨ skill-vfs è¿›è¡Œå­˜å‚¨ï¼›skill-b æäº¤çš„æ•°æ®ï¼Œä¹Ÿèƒ½é€šè¿‡ skill-vfs å®ç°è·¨è®¾å¤‡åŒæ­¥ã€‚</p>
<h3 data-id="heading-6">2.  å¤šçº§VFSServerå…³è”ï¼Œæ„å»ºåˆ†å¸ƒå¼å­˜å‚¨ç½‘ç»œ</h3>
<p>skill-vfs æ”¯æŒå…³è”å¤šä¸ªå±‚çº§çš„ VFSServer åˆ†å¸ƒå¼å­˜å‚¨ä¸­å¿ƒï¼Œèƒ½æ ¹æ®ä¸šåŠ¡éœ€æ±‚é…ç½®å­˜å‚¨èŠ‚ç‚¹çš„ä¼˜å…ˆçº§å’Œå‰¯æœ¬ç­–ç•¥ã€‚</p>
<p>è¿™æ„å‘³ç€ä½ å¯ä»¥æ­å»ºâ€œæœ¬åœ°èŠ‚ç‚¹+äº‘ç«¯èŠ‚ç‚¹+NASèŠ‚ç‚¹â€çš„å¤šçº§å­˜å‚¨æ¶æ„ï¼Œæ•°æ®å¤šå‰¯æœ¬å¤‡ä»½ï¼Œå†ä¹Ÿä¸æ€•å•ç‚¹æ•…éšœã€‚</p>
<h3 data-id="heading-7">3.  ç¦»çº¿å¯ç”¨+å¼±ç½‘é€‚é…ï¼Œä¸“æ²»ç½‘ç»œä¸ç¨³å®š</h3>
<p>è¿™æ˜¯æœ€æˆ³ä¸­åˆ†å¸ƒå¼åœºæ™¯ç—›ç‚¹çš„åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>æ–­ç½‘ä¸ç¿»è½¦</strong>ï¼šå½“åˆ†å¸ƒå¼VFSæœåŠ¡ä¸å¯ç”¨æ—¶ï¼Œskill-vfs ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æœ¬åœ°å­˜å‚¨ï¼Œä¿éšœä¸šåŠ¡æµç¨‹ä¸ä¸­æ–­ï¼›</li>
<li><strong>ç½‘å¥½è‡ªåŠ¨åŒæ­¥</strong>ï¼šç½‘ç»œæ¢å¤åï¼Œæœ¬åœ°å­˜å‚¨çš„æ•°æ®ä¼šè‡ªåŠ¨å¢é‡åŒæ­¥åˆ°VFSæœåŠ¡ï¼Œä¸ç”¨æ‰‹åŠ¨è§¦å‘ï¼›</li>
<li><strong>å¼±ç½‘ä¼˜åŒ–ç­–ç•¥</strong>ï¼šé’ˆå¯¹å¼‚åœ°åŠå…¬ã€IoTè®¾å¤‡è¿™ç±»å¼±ç½‘åœºæ™¯ï¼ŒSDKå†…ç½®äº†å·®å¼‚åŒæ­¥ç®—æ³•ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“é‡ï¼Œæå‡åŒæ­¥æ•ˆç‡ã€‚</li>
</ul>
<h2 data-id="heading-8">ä¸‰ã€æ€æ‰‹é”åŠŸèƒ½ï¼šAIä¸€å¥è¯ç”ŸæˆSkillï¼Œé›¶ä»£ç è‡ªåŠ¨éƒ¨ç½²</h2>
<p>è¿™æ¬¡å‡çº§æœ€è®©æˆ‘æƒŠå–œçš„ï¼Œæ˜¯<strong>AIä¸æ¡†æ¶çš„æ·±åº¦èåˆ</strong>â€”â€”ä¸ç”¨å†™ä¸€è¡Œä»£ç ï¼Œå¯¹ç€ä»»æ„AI-IDEï¼ˆqoderã€codebuddyã€traeéƒ½è¡Œï¼‰è¯´å¥è¯ï¼Œå°±èƒ½ç”Ÿæˆåˆ†å¸ƒå¼å­˜å‚¨åº”ç”¨ï¼Œè‡ªåŠ¨éƒ¨ç½²åˆ°ooder-agentã€‚</p>
<h3 data-id="heading-9">1.  è¶…ç®€å•çš„ä½¿ç”¨æµç¨‹ï¼Œä¸‰æ­¥æå®š</h3>
<ol>
<li><strong>AI-IDEä¸€é”®ç¼–è¯‘å·¥ç¨‹</strong>ï¼šå¯¼å…¥ooder-agent v0.6.2é¡¹ç›®ï¼Œç‚¹å‡»ç¼–è¯‘æŒ‰é’®ï¼ŒAI-IDEä¼šè‡ªåŠ¨é€‚é…JDK/Mavenç¯å¢ƒï¼Œåå°è‡ªåŠ¨å®Œæˆç¼–è¯‘ï¼›</li>
<li><strong>ä¸€å¥è¯æè¿°éœ€æ±‚</strong>ï¼šå¯¹ç€AI-IDEè¾“å…¥ä½ çš„å­˜å‚¨éœ€æ±‚ï¼Œæ¯”å¦‚ï¼š
<ul>
<li>â€œå¸®æˆ‘ç”Ÿæˆæ¯å‘¨è‡ªåŠ¨å¤‡ä»½é‚®ä»¶åˆ°NASçš„Skillç¨‹åºâ€</li>
<li>â€œæ¯å¤©12ç‚¹æ‰“åŒ…æœåŠ¡å™¨æ—¥å¿—ï¼Œä¸Šä¼ åˆ°å¤šçº§VFSServerâ€</li>
<li>â€œç…§ç‰‡å¢é‡åŒæ­¥åˆ°äº‘ç«¯å’Œæœ¬åœ°NASï¼Œæ–­ç½‘è‡ªåŠ¨åˆ‡æœ¬åœ°â€</li>
</ul>
</li>
<li><strong>ooder-agentè‡ªåŠ¨éƒ¨ç½²</strong>ï¼šAIç”Ÿæˆçš„Skillç¨‹åºä¼šè‡ªåŠ¨æäº¤åˆ°ooder-agentï¼Œå¹³å°å®Œæˆæ ¡éªŒã€æ³¨å†Œã€è¿è¡Œå…¨æµç¨‹ï¼Œå…¨ç¨‹æ— éœ€äººå·¥å¹²é¢„ã€‚</li>
</ol>
<h3 data-id="heading-10">2.  ä¸‰ä¸ªé«˜é¢‘å®ç”¨åœºæ™¯ï¼Œç›´æ¥æŠ„ä½œä¸š</h3>

























<table><thead><tr><th align="left">éœ€æ±‚åœºæ™¯</th><th align="left">AIæŒ‡ä»¤ç¤ºä¾‹</th><th align="left">å®ç°æ•ˆæœ</th></tr></thead><tbody><tr><td align="left">é‚®ä»¶å®šæœŸå¤‡ä»½</td><td align="left">å¸®æˆ‘ç”Ÿæˆæ¯å‘¨æ—¥æ™š10ç‚¹å¤‡ä»½é‚®ç®±æ•°æ®åˆ°NASçš„Skill</td><td align="left">è‡ªåŠ¨è§¦å‘å¤‡ä»½ï¼Œæ–­ç½‘å­˜æœ¬åœ°ï¼Œç½‘å¥½åŒæ­¥åˆ°NAS</td></tr><tr><td align="left">æœåŠ¡å™¨æ—¥å¿—ä¸Šä¼ </td><td align="left">æ¯å¤©12ç‚¹æ‰“åŒ…æœåŠ¡å™¨/var/logç›®å½•æ—¥å¿—ï¼Œä¸Šä¼ åˆ°ä¸‰çº§VFSServer</td><td align="left">æ—¥å¿—è‡ªåŠ¨å‹ç¼©ã€ä¸Šä¼ ã€å¤šå‰¯æœ¬å­˜å‚¨ï¼Œæ”¯æŒæ£€ç´¢</td></tr><tr><td align="left">ç…§ç‰‡å¢é‡åŒæ­¥</td><td align="left">ç›‘æµ‹æœ¬åœ°ç›¸å†Œæ–‡ä»¶å¤¹ï¼Œå¢é‡åŒæ­¥åˆ°äº‘ç«¯å’Œå®¶åº­NAS</td><td align="left">æ‰‹æœºæ‹çš„ç…§ç‰‡ï¼Œç”µè„‘/NASå®æ—¶æ›´æ–°ï¼Œåˆ é™¤æ“ä½œåŒå‘åŒæ­¥</td></tr></tbody></table>
<h2 data-id="heading-11">å››ã€å‡çº§åçš„å®é™…ä»·å€¼ï¼šå¯¹å¼€å‘è€…å’Œè¿ç»´çš„åŒé‡å‹å¥½</h2>
<ol>
<li><strong>å¼€å‘è€…ï¼šæ•ˆç‡æå‡10å€</strong>
ä¸ç”¨å†å†™ç¹ççš„å­˜å‚¨é€‚é…ä»£ç ï¼ŒSDKç»Ÿä¸€æ¥å£+AIç”ŸæˆSkillï¼Œä¸€å¤©èƒ½å¼€å‘çš„åº”ç”¨æ•°é‡ï¼Œé¡¶ä¹‹å‰ä¸€å‘¨çš„å·¥ä½œé‡ã€‚</li>
<li><strong>è¿ç»´ï¼šç®¡ç†æˆæœ¬éª¤é™</strong>
æ‰€æœ‰Skillç¨‹åºç”±ooder-agentç»Ÿä¸€è°ƒåº¦ï¼Œå­˜å‚¨èŠ‚ç‚¹çŠ¶æ€ã€åŒæ­¥è¿›åº¦ã€å¼‚å¸¸ä¿¡æ¯ä¸€ç›®äº†ç„¶ï¼Œä¸ç”¨é€ä¸ªæœåŠ¡æ’æŸ¥ã€‚</li>
<li><strong>åˆ†å¸ƒå¼åœºæ™¯ï¼šç¨³å®šæ€§æ‹‰æ»¡</strong>
ç¦»çº¿åˆ‡æ¢+å¼±ç½‘é€‚é…+å¤šçº§å­˜å‚¨ï¼Œä¸ç®¡æ˜¯å¼‚åœ°åŠå…¬ã€IoTè®¾å¤‡ååŒè¿˜æ˜¯ä¼ä¸šçº§åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œéƒ½èƒ½ç¨³ç¨³holdä½ã€‚</li>
</ol>
<h2 data-id="heading-12">äº”ã€æ€»ç»“ä¸å±•æœ›</h2>
<p>ooder-agent v0.6.2 è¿™æ¬¡å‡çº§ï¼Œä¸æ˜¯ç®€å•çš„åŠŸèƒ½å †ç Œï¼Œè€Œæ˜¯<strong>ä»â€œå·¥å…·â€åˆ°â€œç”Ÿæ€â€çš„è¿›åŒ–</strong>ï¼šSDKå°è£…é™ä½å¼€å‘é—¨æ§›ï¼ŒSkillåŒ–VFSé€‚é…å¤æ‚åœºæ™¯ï¼ŒAIèåˆè®©é›¶ä»£ç å¼€å‘æˆä¸ºå¯èƒ½ã€‚</p>
<p>å¯¹äºæƒ³è¦æ­å»ºåˆ†å¸ƒå¼å­˜å‚¨åº”ç”¨ã€æˆ–è€…åŸºäºAgentæ¶æ„å¼€å‘ä¸šåŠ¡çš„å›¢é˜Ÿæ¥è¯´ï¼Œè¿™ä¸ªç‰ˆæœ¬å€¼å¾—ç«‹åˆ»ä¸Šæ‰‹ã€‚</p>
<p>æœªæ¥å¦‚æœèƒ½æ”¯æŒæ›´å¤šAIæ¨¡å‹ç”Ÿæˆæ›´å¤æ‚çš„Skillé€»è¾‘ï¼Œå¹¶ä¸”æ‰“é€šæ›´å¤šç¬¬ä¸‰æ–¹å­˜å‚¨æœåŠ¡ï¼ˆæ¯”å¦‚é˜¿é‡Œäº‘OSSã€è…¾è®¯äº‘COSï¼‰ï¼Œè¿™ä¸ªç”Ÿæ€çš„æ½œåŠ›ä¼šæ›´å¤§ã€‚</p>
<p>æœ€åé™„ä¸Šé¡¹ç›®åœ°å€ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥ç›´æ¥å†²ï¼š</p>
<ul>
<li>é¡¹ç›®ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fooder-project%2Fsuper-agent" target="_blank" title="https://github.com/ooder-project/super-agent" ref="nofollow noopener noreferrer">github.com/ooder-projeâ€¦</a></li>
<li>æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fooder-project.github.io%2Fsuper-agent-docs%2F" target="_blank" title="https://ooder-project.github.io/super-agent-docs/" ref="nofollow noopener noreferrer">ooder-project.github.io/super-agentâ€¦</a></li>
</ul>
<p>#ooder-agent #åˆ†å¸ƒå¼å­˜å‚¨ #Agentæ¡†æ¶ #AIå¼€å‘å·¥å…· #ç¨‹åºå‘˜æ—¥å¸¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æé™ç§‘æŠ€ Coco AI è£è· 2025 IT168 æŠ€æœ¯å“è¶Šå¥– - åˆ›æ–°äº§å“å¥–]]></title>    <link>https://juejin.cn/post/7596874823722516514</link>    <guid>https://juejin.cn/post/7596874823722516514</guid>    <pubDate>2026-01-19T15:10:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596874823722516514" data-draft-id="7596874823722500130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æé™ç§‘æŠ€ Coco AI è£è· 2025 IT168 æŠ€æœ¯å“è¶Šå¥– - åˆ›æ–°äº§å“å¥–"/> <meta itemprop="keywords" content="äº§å“"/> <meta itemprop="datePublished" content="2026-01-19T15:10:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æé™å®éªŒå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/1258294223312599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æé™ç§‘æŠ€ Coco AI è£è· 2025 IT168 æŠ€æœ¯å“è¶Šå¥– - åˆ›æ–°äº§å“å¥–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1258294223312599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æé™å®éªŒå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:10:51.000Z" title="Mon Jan 19 2026 15:10:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŒ—äº¬ï¼Œ2026 å¹´ 1 æœˆ â€”â€” åœ¨ç”± <strong>IT168</strong> ä¸»åŠçš„â€œ<strong>2025 å¹´åº¦æŠ€æœ¯å“è¶Šå¥–</strong>â€è¯„é€‰ä¸­ï¼Œ<strong>æé™æ•°æ®ï¼ˆåŒ—äº¬ï¼‰ç§‘æŠ€æœ‰é™å…¬å¸</strong>ï¼ˆç®€ç§°ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Finfinilabs.cn%2F" target="_blank" title="https://infinilabs.cn/" ref="nofollow noopener noreferrer">æé™ç§‘æŠ€</a>ï¼‰çš„äººå·¥æ™ºèƒ½äº§å“ <strong>Coco AI</strong> å‡­å€Ÿå…¶åˆ›æ–°çš„æŠ€æœ¯æ¶æ„ä¸çªå‡ºçš„å¸‚åœºå®è·µï¼Œè£è· â€œåˆ›æ–°äº§å“å¥–â€ã€‚è¯¥å¥–é¡¹æ—¨åœ¨è¡¨å½°åœ¨ Â AIã€å¤§æ•°æ®ã€äº‘è®¡ç®—ç­‰é¢†åŸŸå®ç°å…³é”®çªç ´ã€å…·å¤‡æ˜¾è‘—åº”ç”¨ä»·å€¼ä¸å¸‚åœºæ½œåŠ›çš„äº§å“ä¸è§£å†³æ–¹æ¡ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9946968c39be4a7cad2d61a4fba38a02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B6ZmQ5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769440251&amp;x-signature=S7DYyto3W1cJcQHwHrJ0m%2F7ecUY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">å¥–é¡¹ä¸äº§å“ä¿¡æ¯</h2>
<p>è·å¥–ä¼ä¸šï¼šæé™æ•°æ®ï¼ˆåŒ—äº¬ï¼‰ç§‘æŠ€æœ‰é™å…¬å¸<br/>
è·å¥–äº§å“ï¼šCoco AI â€“ ç»Ÿä¸€æœç´¢ä¸ AI æ™ºèƒ½åŠ©æ‰‹<br/>
äº§å“å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcoco.rs%2Fzh" target="_blank" title="https://coco.rs/zh" ref="nofollow noopener noreferrer">coco.rs/zh</a><br/>
å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Finfinilabs%2Fcoco-app" target="_blank" title="https://github.com/infinilabs/coco-app" ref="nofollow noopener noreferrer">github.com/infinilabs/â€¦</a><br/>
è¯„é€‰æ¦œå•ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzt.itpub.net%2Ftopic%2Fjishuzhuoyue251215" target="_blank" title="https://zt.itpub.net/topic/jishuzhuoyue251215" ref="nofollow noopener noreferrer">zt.itpub.net/topic/jishuâ€¦</a></p>
<h2 data-id="heading-1">å…³äº Â Coco AI</h2>
<p>Coco AI æ˜¯æé™ç§‘æŠ€æ¨å‡ºçš„ä¸€æ¬¾ <strong>å®Œå…¨å¼€æºã€å¯ç§æœ‰éƒ¨ç½²</strong>çš„ç»Ÿä¸€æœç´¢ä¸ Â AI æ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿï¼Œä¸“ä¸ºä¼ä¸šæ‰“é€ ã€‚å®ƒè‡´åŠ›äºè§£å†³ä¼ä¸šæ•°æ®åˆ†æ•£ã€ä¿¡æ¯å­¤å²›ä¸¥é‡ã€æ•°æ®æ•æ„ŸåŠçŸ¥è¯†æ²‰ç¡ç­‰æ ¸å¿ƒç—›ç‚¹ã€‚</p>
<ul>
<li>ç»Ÿä¸€æœç´¢ï¼šé€šè¿‡è¿æ¥æœ¬åœ°æ–‡ä»¶ã€äº‘å­˜å‚¨ï¼ˆS3ï¼‰ã€çŸ¥è¯†åº“ã€ä»£ç ä»“åº“ï¼ˆGitHubï¼‰ã€åä½œå¹³å°ï¼ˆNotionã€è¯­é›€ï¼‰ã€MySQLã€MongoDB ç­‰å¼‚æ„æ•°æ®æºï¼Œæä¾›è·¨å¹³å°çš„ä¸€ç«™å¼æœç´¢ä½“éªŒã€‚</li>
<li>AI èµ‹èƒ½ï¼šæ·±åº¦èåˆä¸»æµå¤§æ¨¡å‹èƒ½åŠ›ï¼Œæ”¯æŒè¯­ä¹‰æœç´¢ã€è‡ªç„¶è¯­è¨€é—®ç­”ã€æ™ºèƒ½æ¨èï¼Œå¹¶æ„å»ºä¸ªæ€§åŒ–çŸ¥è¯†å›¾è°±ï¼Œæ¿€æ´»ä¼ä¸šæ²‰ç¡æ•°æ®ã€‚</li>
<li>å®‰å…¨å¯æ§ï¼šæ”¯æŒä¼ä¸šçº§æƒé™ç®¡ç†ã€æ•°æ®è„±æ•ä¸åŠ å¯†ï¼Œå¯å®Œå…¨ç§æœ‰åŒ–éƒ¨ç½²ï¼Œç¡®ä¿æ•°æ®å®‰å…¨åˆè§„ã€‚</li>
<li>çµæ´»æ‰©å±•ï¼šé‡‡ç”¨ MCP æ¶æ„ï¼Œæ”¯æŒæ¨¡å‹åŠ¨æ€è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒä»£ç å³å¯çµæ´»æ‰©å±• AI åº”ç”¨åœºæ™¯ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed98f4ec124d43dfbc009ea5db3c3250~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B6ZmQ5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769440251&amp;x-signature=raoMRupGAeKmtmOl6GzTrndKE3o%3D" alt="" loading="lazy"/></p>
<p>ç›®å‰ï¼ŒCoco AI å·²åœ¨å¤šä¸ªè¡Œä¸šåœºæ™¯ä¸­è½åœ°ï¼Œå¸®åŠ©ä¼ä¸šæ„å»ºâ€œæ™ºèƒ½çŸ¥è¯†ä¸­æ¢â€ï¼Œæå‡ä¿¡æ¯è·å–æ•ˆç‡ä¸å†³ç­–åä½œæ°´å¹³ã€‚</p>
<h2 data-id="heading-2">è·å¥–ç†ç”±</h2>
<p>IT168 æŠ€æœ¯å“è¶Šå¥–è¯„å®¡å§”å‘˜ä¼šè®¤ä¸ºï¼ŒCoco AI çš„è·å¥–ä¸»è¦åŸºäºä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li><strong>æŠ€æœ¯åˆ›æ–°</strong>ï¼šå°†ä¼ä¸šæœç´¢ã€RAGã€çŸ¥è¯†å›¾è°±ä¸å¤§æ¨¡å‹èƒ½åŠ›æ·±åº¦èåˆï¼Œæ„å»ºäº†é¢å‘çœŸå®ä¸šåŠ¡åœºæ™¯çš„â€œæœç´¢+AIâ€ä¸€ä½“åŒ–å¹³å°ï¼ŒæŠ€æœ¯è·¯å¾„æ¸…æ™°ä¸”å…·å¤‡å‰ç»æ€§ã€‚</li>
<li><strong>å¼€æºå¼€æ”¾</strong>ï¼šäº§å“å®Œå…¨å¼€æºå¹¶æ”¯æŒç§æœ‰åŒ–éƒ¨ç½²ï¼Œä¸ºä¼ä¸šæä¾›äº†å…¼é¡¾è‡ªä¸»å¯æ§ä¸æˆæœ¬æ•ˆç›Šçš„ AI æœç´¢è§£å†³æ–¹æ¡ˆï¼Œå¯¹æ¨åŠ¨åŸºç¡€è½¯ä»¶ä¸ AI åº”ç”¨ç”Ÿæ€ç¹è£å…·æœ‰ç§¯ææ„ä¹‰ã€‚</li>
<li><strong>å®è·µä»·å€¼</strong>ï¼šå·²åœ¨å¤šä¸ªè¡Œä¸šå®Œæˆä»æŠ€æœ¯éªŒè¯åˆ°è§„æ¨¡åŒ–åº”ç”¨çš„è·¨è¶Šï¼Œå¸®åŠ©ä¼ä¸šå°†åˆ†æ•£çš„çŸ¥è¯†èµ„äº§è½¬åŒ–ä¸ºå¯å¤ç”¨çš„ç”Ÿäº§åŠ›ï¼Œåœ¨â€œæŠ€æœ¯å®æ•ˆâ€ä¸Šè¡¨ç°çªå‡ºã€‚</li>
</ol>
<h2 data-id="heading-3">å›¢é˜Ÿå£°éŸ³</h2>
<p>æé™ç§‘æŠ€æ€»ç»ç†ã€Coco AI é¡¹ç›®è´Ÿè´£äººæ›¾å‹‡è¡¨ç¤ºï¼š</p>
<blockquote>
<p>â€œæ„Ÿè°¢ IT168 å’Œä¸šç•ŒåŒä»å¯¹ Coco AI çš„è®¤å¯ã€‚åœ¨ AI å®šä¹‰ä¸€åˆ‡çš„ä»Šå¤©ï¼Œæˆ‘ä»¬å§‹ç»ˆç›¸ä¿¡ï¼ŒçœŸæ­£çš„æŠ€æœ¯ä»·å€¼åœ¨äºæ·±å…¥ä¸šåŠ¡åœºæ™¯ã€è§£å†³å®é™…é—®é¢˜ã€‚Coco AI å¸Œæœ›ä¸ºä¼ä¸šæ‰“é€ ä¸€ä¸ªå®‰å…¨ã€å¼€æ”¾ã€æ™ºèƒ½çš„çŸ¥è¯†å…¥å£ï¼Œè®©å›¢é˜Ÿåœ¨ä¿¡æ¯æµ·æ´‹ä¸­â€˜æœå¾—åˆ°ã€é—®å¾—æ¸…ã€ç”¨å¾—å¥½â€™ã€‚æœªæ¥ï¼Œæˆ‘ä»¬å°†ç»§ç»­æ·±è€•ä¼ä¸šæœç´¢ä¸ AI æ™ºèƒ½åŠ©æ‰‹é¢†åŸŸï¼Œä¸åˆä½œä¼™ä¼´å…±åŒæ¨åŠ¨ä¸­å›½è‡ªä¸» AI äº§å“ä½“ç³»çš„ç¹è£å‘å±•ã€‚â€</p>
</blockquote>
<h2 data-id="heading-4">å±•æœ›æœªæ¥</h2>
<p>æ­¤æ¬¡è·å¥–ï¼Œä¸ä»…æ˜¯è¡Œä¸šå¯¹æˆ‘ä»¬æŠ€æœ¯è·¯å¾„çš„è®¤å¯ï¼Œæ›´æ˜¯å¯¹ â€œå¼€æºåˆ›æ–°ã€è‡ªä¸»å®æ•ˆâ€ è¿™ä¸€å‘å±•æ–¹å‘çš„è‚¯å®šã€‚æé™ç§‘æŠ€å°†ä»¥æ­¤ä¸ºæ–°çš„èµ·ç‚¹ï¼ŒæŒç»­æ·±è€• â€œæœç´¢+AIâ€æ ¸å¿ƒæŠ€æœ¯ï¼Œä»¥ Â Coco AIÂ  åŠæœªæ¥æ›´å¤šå¼€æºäº§å“ï¼Œèµ‹èƒ½åƒè¡Œç™¾ä¸šå¤¯å®æ™ºèƒ½æ ¹åŸºï¼Œåœ¨å…¨çƒæ•°å­—åŒ–è½¬å‹ä¸­è´¡çŒ®ä¸­å›½è§£å†³æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Win11 å¦‚ä½•æ‰“å¼€ IE11 æµè§ˆå™¨]]></title>    <link>https://juejin.cn/post/7596932640726368291</link>    <guid>https://juejin.cn/post/7596932640726368291</guid>    <pubDate>2026-01-19T15:13:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596932640726368291" data-draft-id="7596874823722532898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Win11 å¦‚ä½•æ‰“å¼€ IE11 æµè§ˆå™¨"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-19T15:13:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å«"/> <meta itemprop="url" content="https://juejin.cn/user/1961184474695213"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Win11 å¦‚ä½•æ‰“å¼€ IE11 æµè§ˆå™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1961184474695213/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:13:15.000Z" title="Mon Jan 19 2026 15:13:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<strong>å‰ç«¯æ¶æ„å¸ˆ</strong>ï¼Œå…³æ³¨å¾®ä¿¡å…¬ä¼—å·ã€@<strong>ç¨‹åºå‘˜å¤§å«</strong>ã€‘å…è´¹é¢†å–å‰ç«¯ç²¾å“èµ„æ–™ã€‚</p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ‰æ—¶å€™åœ¨è°ƒè¯•è€é¡¹ç›®æ—¶ï¼Œä»ç„¶éœ€è¦ä½¿ç”¨ <strong>IE11 æµè§ˆå™¨</strong>ã€‚ä½†åœ¨ <strong>Windows 11</strong> ä¸­ï¼Œç›´æ¥æ‰“å¼€ IE æ—¶ï¼Œç³»ç»Ÿé€šå¸¸ä¼šè‡ªåŠ¨è·³è½¬åˆ° <strong>Microsoft Edge</strong>ï¼Œå¯¼è‡´æ— æ³•çœŸæ­£è¿›å…¥ IE11ã€‚</p>
<p>ä¸‹é¢æ•™ä½ ä¸€ç§<strong>ç®€å•ã€æœ‰æ•ˆ</strong>çš„æ–¹æ³•ï¼Œåœ¨ Win11 ä¸­ç›´æ¥æ‰“å¼€ IE11ã€‚</p>
<h2 data-id="heading-1">1. æœç´¢å¹¶æ‰“å¼€ cmd</h2>
<p>åœ¨å¼€å§‹èœå•ä¸­æœç´¢ <strong>cmd</strong>ï¼Œç„¶åç‚¹å‡»æ‰“å¼€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28099663424b407b976ef22ece7a5f86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769440672&amp;x-signature=NZFlsbM4vDqFki9D%2BZ2WDIPFu14%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">2. ç²˜è´´å¹¶æ‰§è¡Œä¸‹é¢çš„è„šæœ¬</h2>
<p>å°†ä»¥ä¸‹å‘½ä»¤ç²˜è´´åˆ° cmd ä¸­å¹¶å›è½¦æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">powershell -<span class="hljs-built_in">command</span> <span class="hljs-string">"<span class="hljs-variable">$pf86</span>=[Environment]::GetFolderPath('ProgramFilesX86');<span class="hljs-variable">$s</span>=New-Object -ComObject WScript.Shell;<span class="hljs-variable">$sc</span>=<span class="hljs-variable">$s</span>.CreateShortcut(\"<span class="hljs-variable">$env</span>:USERPROFILE\Desktop\Internet Explorer.lnk\");<span class="hljs-variable">$sc</span>.TargetPath=\"<span class="hljs-variable">$pf86</span>\Internet Explorer\iexplore.exe\";<span class="hljs-variable">$sc</span>.Arguments='about:blank -Embedding';<span class="hljs-variable">$sc</span>.IconLocation=\"<span class="hljs-variable">$pf86</span>\Internet Explorer\iexplore.exe, 0\";<span class="hljs-variable">$sc</span>.Save()"</span>
</code></pre>
<p>è¿™æ®µè„šæœ¬ä¼šåœ¨æ¡Œé¢åˆ›å»ºä¸€ä¸ª IE æµè§ˆå™¨çš„<strong>å¿«æ·æ–¹å¼</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ba3a613d300483ca30773d4a9a9a7a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769440672&amp;x-signature=hGwyWu8x%2FnNgcOgowICR6aCc5tU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">3. åŒå‡»æ¡Œé¢çš„ IE å›¾æ ‡å³å¯æ‰“å¼€</h2>
<p>æ‰§è¡Œå®Œæˆåï¼Œæ¡Œé¢ä¼šå‡ºç°ä¸€ä¸ª <strong>Internet Explorer</strong> å›¾æ ‡ï¼ŒåŒå‡»å®ƒå³å¯æˆåŠŸæ‰“å¼€ IE11 æµè§ˆå™¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae2038a1e631475cbdd93a415944bb61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769440672&amp;x-signature=puOO6iiNLjrr8p757QS%2FnLLf5d0%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸‹ï¼‰]]></title>    <link>https://juejin.cn/post/7596896373053915199</link>    <guid>https://juejin.cn/post/7596896373053915199</guid>    <pubDate>2026-01-19T15:15:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596896373053915199" data-draft-id="7593731473490214975" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸‹ï¼‰"/> <meta itemprop="keywords" content="React Native,Android,æºç é˜…è¯»"/> <meta itemprop="datePublished" content="2026-01-19T15:15:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹ä¹‹è·¯ä»0åˆ°1"/> <meta itemprop="url" content="https://juejin.cn/user/4125023359744296"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023359744296/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹ä¹‹è·¯ä»0åˆ°1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:15:48.000Z" title="Mon Jan 19 2026 15:15:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸‹ï¼‰</h2>
<blockquote>
<p>ç”±äºå•ç« å­—æ•°é™åˆ¶ï¼Œè¿™é‡Œå°†æœ¬æ–‡æ‹†æˆä¸Šä¸‹ä¸¤ç¯‡ï¼Œä¸Šç¯‡<a href="https://juejin.cn/post/7596869784538824704" target="_blank" title="https://juejin.cn/post/7596869784538824704">ã€ŠReact Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸Šï¼‰ã€‹</a></p>
</blockquote>
<h3 data-id="heading-1">Fabric ç»„ä»¶</h3>
<h4 data-id="heading-2">å£°æ˜ç»„ä»¶</h4>
<p>è¦å¼€å‘ä¸€ä¸ªFabric ç»„ä»¶ï¼Œé¦–å…ˆéœ€è¦åœ¨TSä»£ç ä¸­å£°æ˜è§„èŒƒã€‚æˆ‘ä»¬ä½¿ç”¨<code>npx create-react-native-library@latest</code>åˆ›å»ºä¸€ä¸ªFabricç»„ä»¶åº“ï¼Œç„¶åå‚è€ƒæ ¹æ®å®˜æ–¹æ–‡æ¡£çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Freactnative.dev%2Fdocs%2Ffabric-native-components-introduction" target="_blank" title="https://reactnative.dev/docs/fabric-native-components-introduction" ref="nofollow noopener noreferrer">ç¤ºä¾‹</a>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> {
  <span class="hljs-title class_">CodegenTypes</span>,
  <span class="hljs-title class_">HostComponent</span>,
  <span class="hljs-title class_">ViewProps</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> {codegenNativeComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">WebViewScriptLoadedEvent</span> = {
  <span class="hljs-attr">result</span>: <span class="hljs-string">'success'</span> | <span class="hljs-string">'error'</span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">NativeProps</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewProps</span> {
  sourceURL?: <span class="hljs-built_in">string</span>;
  onScriptLoaded?: <span class="hljs-title class_">CodegenTypes</span>.<span class="hljs-property">BubblingEventHandler</span>&lt;<span class="hljs-title class_">WebViewScriptLoadedEvent</span>&gt; | <span class="hljs-literal">null</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> codegenNativeComponent&lt;<span class="hljs-title class_">NativeProps</span>&gt;(
  <span class="hljs-string">'CustomWebView'</span>,
) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HostComponent</span>&lt;<span class="hljs-title class_">NativeProps</span>&gt;;
</code></pre>
<p>è¿™é‡Œä¸»è¦æœ‰ä¸‰éƒ¨åˆ†ï¼š</p>
<ul>
<li>
<p><code>WebViewScriptLoadedEvent</code> æ˜¯ä¸€ç§æ”¯æŒçš„æ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨äº‹ä»¶éœ€è¦ä»åŸç”Ÿä»£ç ä¼ é€’åˆ° JavaScript çš„æ•°æ®ã€‚</p>
</li>
<li>
<p><code>NativeProps</code> å®šä¹‰äº†å¯ä»¥è®¾ç½®çš„ç»„ä»¶å±æ€§ã€‚</p>
</li>
<li>
<p><code>codegenNativeComponent</code> å…è®¸æˆ‘ä»¬ä¸ºè‡ªå®šä¹‰ç»„ä»¶ç”Ÿæˆä»£ç ï¼Œå¹¶ä¸ºç»„ä»¶å®šä¹‰ä¸€ä¸ªä¸åŸç”Ÿå®ç°ç›¸åŒ¹é…çš„åç§°ã€‚</p>
</li>
</ul>
<p>å…¶ä¸­ï¼Œå¯¹<code>codegenNativeComponent</code>å‡½æ•°è¿›è¡Œåˆ†æï¼Œæºç <code>react-native/packages/react-native/Libraries/Utilities/codegenNativeComponent.js</code>:</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¦‚æœè¿™ä¸ªå‡½æ•°è¿è¡Œï¼Œè¯´æ˜è§†å›¾é…ç½®æ²¡æœ‰åœ¨æ„å»ºæ—¶é€šè¿‡ `GenerateViewConfigJs.js` ç”Ÿæˆã€‚</span>
<span class="hljs-comment">// å› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ `requireNativeComponent` ä»è§†å›¾ç®¡ç†å™¨è·å–è§†å›¾é…ç½®ã€‚</span>
<span class="hljs-comment">// `requireNativeComponent` åœ¨ Bridgeless æ¨¡å¼ä¸‹ä¸å¯ç”¨ã€‚</span>
<span class="hljs-comment">// ä¾‹å¦‚ï¼šå¦‚æœ `codegenNativeComponent` ä¸æ˜¯ä»ä»¥ NativeComponent.js ç»“å°¾çš„æ–‡ä»¶ä¸­è°ƒç”¨ï¼Œ</span>
<span class="hljs-comment">// è¿™ä¸ªå‡½æ•°å°±ä¼šåœ¨è¿è¡Œæ—¶æ‰§è¡Œã€‚</span>
<span class="hljs-keyword">function</span> codegenNativeComponent&lt;<span class="hljs-title class_">Props</span>: {...}&gt;(
  <span class="hljs-attr">componentName</span>: string,
  options?: <span class="hljs-title class_">NativeComponentOptions</span>,
): <span class="hljs-title class_">NativeComponentType</span>&lt;<span class="hljs-title class_">Props</span>&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">global</span>.<span class="hljs-property">RN$Bridgeless</span> === <span class="hljs-literal">true</span> &amp;&amp; __DEV__) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(
      <span class="hljs-string">`Codegen didn't run for <span class="hljs-subst">${componentName}</span>. This will be an error in the future. Make sure you are using @react-native/babel-preset when building your JavaScript code.`</span>,
    );
  }
  <span class="hljs-comment">// ç¡®å®šåŸºç¡€ç»„ä»¶åç§°</span>
  <span class="hljs-keyword">let</span> componentNameInUse =
    options &amp;&amp; options.<span class="hljs-property">paperComponentName</span> != <span class="hljs-literal">null</span>
      ? options.<span class="hljs-property">paperComponentName</span>
      : componentName;

  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>

  <span class="hljs-keyword">return</span> (requireNativeComponent&lt;<span class="hljs-title class_">Props</span>&gt;(
    <span class="hljs-comment">// $FlowFixMe[incompatible-type]</span>
    componentNameInUse,
  ): <span class="hljs-title class_">HostComponent</span>&lt;<span class="hljs-title class_">Props</span>&gt;);
}
</code></pre>
<p>æ ¹æ®æ³¨é‡Šå¯çŸ¥ï¼Œåœ¨æ–°æ¶æ„ä¸­ï¼Œè¿™ä¸ªå‡½æ•°å‡ ä¹æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œå› ä¸ºæ–°æ¶æ„æ˜¯é€šè¿‡<code>GenerateViewConfigJs.js</code> æ¥ç”Ÿæˆå®é™…çš„è§†å›¾é…ç½®ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡æœç´¢<code>codegenNativeComponent</code>å­—ç¬¦ä¸²ï¼Œå¾ˆå®¹æ˜“å®šä½åˆ°<code>react-native/packages/babel-plugin-codegen/index.js</code>æ–‡ä»¶ï¼Œè¿™é‡Œ<strong>babel-plugin-codegen</strong>åŒ…å°±æ˜¯æ£€æµ‹<code>codegenNativeComponent</code>è°ƒç”¨ï¼Œè§£æ<strong>TypeScript/Flow</strong>ç±»å‹å®šä¹‰çš„å·¥å…·åŒ…ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">{parse, types: t}</span>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-title function_">pre</span>(<span class="hljs-params">state</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span> = state.<span class="hljs-property">code</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">filename</span> = state.<span class="hljs-property">opts</span>.<span class="hljs-property">filename</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultExport</span> = <span class="hljs-literal">null</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">commandsExport</span> = <span class="hljs-literal">null</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">codeInserted</span> = <span class="hljs-literal">false</span>;
    },

    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç .....</span>
      <span class="hljs-title class_">ExportDefaultDeclaration</span>(path, state) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCodegenDeclaration</span>(path.<span class="hljs-property">node</span>.<span class="hljs-property">declaration</span>)) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultExport</span> = path;
        }
      },

      <span class="hljs-comment">// ç¨‹åºé€€å‡ºæ—¶è¿›è¡Œæ›¿æ¢</span>
      <span class="hljs-title class_">Program</span>: {
        <span class="hljs-title function_">exit</span>(<span class="hljs-params">path</span>) {
          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultExport</span>) {
            <span class="hljs-comment">// 1. ç”ŸæˆViewConfigä»£ç </span>
            <span class="hljs-keyword">const</span> viewConfig = <span class="hljs-title function_">generateViewConfig</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">filename</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span>);
            <span class="hljs-comment">// 2. è§£æä¸ºAST</span>
            <span class="hljs-keyword">const</span> ast = <span class="hljs-title function_">parse</span>(viewConfig, {
              <span class="hljs-attr">babelrc</span>: <span class="hljs-literal">false</span>,
              <span class="hljs-attr">browserslistConfigFile</span>: <span class="hljs-literal">false</span>,
              <span class="hljs-attr">configFile</span>: <span class="hljs-literal">false</span>,
            });

            <span class="hljs-comment">// 3. å®Œå…¨æ›¿æ¢åŸå§‹å¯¼å‡º</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultExport</span>.<span class="hljs-title function_">replaceWithMultiple</span>(ast.<span class="hljs-property">program</span>.<span class="hljs-property">body</span>);

            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">commandsExport</span> != <span class="hljs-literal">null</span>) {
              <span class="hljs-variable language_">this</span>.<span class="hljs-property">commandsExport</span>.<span class="hljs-title function_">remove</span>();
            }

            <span class="hljs-variable language_">this</span>.<span class="hljs-property">codeInserted</span> = <span class="hljs-literal">true</span>;
          }
        },
      },
    },
  };
};


<span class="hljs-keyword">function</span> <span class="hljs-title function_">generateViewConfig</span>(<span class="hljs-params">filename <span class="hljs-comment">/*: string */</span>, code <span class="hljs-comment">/*: string */</span></span>) {
  <span class="hljs-comment">// è§£æTypeScript/Flowç±»å‹</span>
  <span class="hljs-keyword">const</span> schema = <span class="hljs-title function_">parseFile</span>(filename, code);
  <span class="hljs-comment">// æå–ç»„ä»¶ä¿¡æ¯</span>
  <span class="hljs-keyword">const</span> libraryName = <span class="hljs-title function_">basename</span>(filename).<span class="hljs-title function_">replace</span>(
    <span class="hljs-regexp">/NativeComponent\.(js|ts)$/</span>,
    <span class="hljs-string">''</span>,
  );
  <span class="hljs-comment">// è°ƒç”¨Codegenç”Ÿæˆå™¨</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">RNCodegen</span>.<span class="hljs-title function_">generateViewConfig</span>({
    libraryName,
    schema,
  });
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">isCodegenDeclaration</span>(<span class="hljs-params">declaration</span>) {
  <span class="hljs-keyword">if</span> (!declaration) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  <span class="hljs-keyword">if</span> (
    declaration.<span class="hljs-property">left</span> &amp;&amp;
    declaration.<span class="hljs-property">left</span>.<span class="hljs-property">left</span> &amp;&amp;
    declaration.<span class="hljs-property">left</span>.<span class="hljs-property">left</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'codegenNativeComponent'</span>
  ) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (
    declaration.<span class="hljs-property">callee</span> &amp;&amp;
    declaration.<span class="hljs-property">callee</span>.<span class="hljs-property">name</span> &amp;&amp;
    declaration.<span class="hljs-property">callee</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'codegenNativeComponent'</span>
  ) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  } 
  <span class="hljs-comment">// çœç•¥......</span>
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>RNCodegen.generateViewConfig</code>çš„å®ç°ï¼Œæºç <code>react-native/packages/react-native-codegen/src/generators/RNCodegen.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> generateViewConfigJs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./components/GenerateViewConfigJs.js'</span>);


<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">allGenerators</span>: <span class="hljs-variable constant_">ALL_GENERATORS</span>,
  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
  <span class="hljs-title function_">generateViewConfig</span>({
    libraryName,
    schema,
  }: <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">LibraryOptions</span>, <span class="hljs-string">'libraryName'</span> | <span class="hljs-string">'schema'</span>&gt;): string {
    schemaValidator.<span class="hljs-title function_">validate</span>(schema);

    <span class="hljs-keyword">const</span> result = generateViewConfigJs
      .<span class="hljs-title function_">generate</span>(libraryName, schema)
      .<span class="hljs-title function_">values</span>()
      .<span class="hljs-title function_">next</span>();

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> result.<span class="hljs-property">value</span> !== <span class="hljs-string">'string'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Failed to generate view config for <span class="hljs-subst">${libraryName}</span>`</span>);
    }

    <span class="hljs-keyword">return</span> result.<span class="hljs-property">value</span>;
  },
};
</code></pre>
<p>æœ€ç»ˆæ˜¯è°ƒç”¨çš„<code>GenerateViewConfigJs.js</code>ä¸­çš„<code>generate</code>ï¼Œæºç <code>react-native/packages/react-native-codegen/src/generators/components/GenerateViewConfigJs.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-title function_">generate</span>(<span class="hljs-attr">libraryName</span>: string, <span class="hljs-attr">schema</span>: <span class="hljs-title class_">SchemaType</span>): <span class="hljs-title class_">FilesOutput</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> fileName = <span class="hljs-string">`<span class="hljs-subst">${libraryName}</span>NativeViewConfig.js`</span>;
      <span class="hljs-keyword">const</span> <span class="hljs-attr">imports</span>: <span class="hljs-title class_">Set</span>&lt;string&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();

      <span class="hljs-keyword">const</span> moduleResults = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(schema.<span class="hljs-property">modules</span>)
        .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">moduleName</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = schema.<span class="hljs-property">modules</span>[moduleName];
          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">module</span>.<span class="hljs-property">type</span> !== <span class="hljs-string">'Component'</span>) {
            <span class="hljs-keyword">return</span>;
          }

          <span class="hljs-keyword">const</span> {components} = <span class="hljs-variable language_">module</span>;

          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(components)
            .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">componentName: string</span>) =&gt;</span> {
              <span class="hljs-keyword">const</span> component = components[componentName];

              <span class="hljs-keyword">if</span> (component.<span class="hljs-property">paperComponentNameDeprecated</span>) {
                imports.<span class="hljs-title function_">add</span>(<span class="hljs-variable constant_">UIMANAGER_IMPORT</span>);
              }

              <span class="hljs-keyword">const</span> replacedTemplate = <span class="hljs-title class_">ComponentTemplate</span>({
                componentName,
                <span class="hljs-attr">paperComponentName</span>: component.<span class="hljs-property">paperComponentName</span>,
                <span class="hljs-attr">paperComponentNameDeprecated</span>:
                  component.<span class="hljs-property">paperComponentNameDeprecated</span>,
              });
      <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ...... </span>

      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[fileName, replacedTemplate]]);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`\nError parsing schema for <span class="hljs-subst">${libraryName}</span>\n`</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(schema));
      <span class="hljs-keyword">throw</span> error;
    }
  },
};
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬æ ¹æ®<code>ComponentTemplate</code>ä¸­çš„æ¨¡æ¿ï¼Œå¤§æ¦‚å°±èƒ½è¿˜åŸå‡ºç”Ÿæˆçš„ä»£ç æ˜¯ä»€ä¹ˆæ ·å­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è¾“å…¥ï¼š</span>
<span class="hljs-comment">// libraryName: "MyComponent"</span>
<span class="hljs-comment">// schema: { è§£æåçš„TypeScript/Flowç±»å‹ä¿¡æ¯ }</span>

<span class="hljs-comment">// è¾“å‡ºï¼šå®Œæ•´çš„JavaScriptä»£ç å­—ç¬¦ä¸²</span>
<span class="hljs-meta">

'use strict'</span>;

<span class="hljs-keyword">const</span> {<span class="hljs-title class_">UIManager</span>} = <span class="hljs-built_in">require</span>(<span class="hljs-string">"react-native"</span>)

<span class="hljs-keyword">let</span> nativeComponentName = <span class="hljs-string">'MyComponent'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> __INTERNAL_VIEW_CONFIG = {
  <span class="hljs-attr">uiViewClassName</span>: <span class="hljs-string">'MyComponent'</span>,
  <span class="hljs-attr">bubblingEventTypes</span>: {},
  <span class="hljs-attr">directEventTypes</span>: {},
  <span class="hljs-attr">validAttributes</span>: {
    <span class="hljs-attr">opacity</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">backgroundColor</span>: { <span class="hljs-attr">process</span>: <span class="hljs-built_in">require</span>(<span class="hljs-string">'react-native/Libraries/StyleSheet/processColor'</span>).<span class="hljs-property">default</span> },
    <span class="hljs-comment">// ... å…¶ä»–å±æ€§</span>
  }
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">NativeComponentRegistry</span>.<span class="hljs-title function_">get</span>(nativeComponentName, <span class="hljs-function">() =&gt;</span> __INTERNAL_VIEW_CONFIG);
</code></pre>
<p>è¿™é‡Œæœ€å…³é”®çš„å°±æ˜¯æœ€åä¸€è¡Œï¼Œå®ƒå°†å¼€å‘è€…ç¼–å†™çš„Fabric ç»„ä»¶è§„èŒƒè¿›è¡Œäº†ä»£ç æ›¿æ¢ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¼€å‘è€…ç¼–å†™</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">CustomView</span> = codegenNativeComponent&lt;<span class="hljs-title class_">Props</span>&gt;(<span class="hljs-string">'CustomView'</span>);

<span class="hljs-comment">// Babelæ’ä»¶æ›¿æ¢å</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">CustomView</span> = <span class="hljs-title class_">NativeComponentRegistry</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'CustomView'</span>, <span class="hljs-function">() =&gt;</span> __INTERNAL_VIEW_CONFIG);
</code></pre>
<p>éœ€è¦æ³¨æ„ï¼Œ<strong>babel-plugin-codegen</strong>å·¥å…·å¹¶ä¸åƒ<strong>Codegen</strong>å·¥å…·ï¼Œä¼šç”Ÿæˆå®é™…çš„ä»£ç æ–‡ä»¶ã€‚å®ƒæ˜¯å¯¹ASTè¯­æ³•æ ‘è¿›è¡Œçš„åŠ¨æ€ä¿®æ”¹å’Œæ›¿æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¿®æ”¹çš„æ˜¯å†…å­˜ä¸­çš„è¯­æ³•æ ‘ï¼Œå¹¶ä¸ä¼šå†™æ–‡ä»¶ã€‚</p>
<p>ç°åœ¨æ¥é‡ç‚¹è¿½è¸ª<code>NativeComponentRegistry.get</code>çš„å®ç°ï¼Œé¦–å…ˆæ˜¯å¯¼å‡ºä½ç½®<code>react-native/packages/react-native/index.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">get</span> <span class="hljs-title function_">NativeComponentRegistry</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(<span class="hljs-string">'./Libraries/NativeComponent/NativeComponentRegistry'</span>);
  },
</code></pre>
<p>å®šä½åˆ°æ–¹æ³•å®ç°<code>react-native/packages/react-native/Libraries/NativeComponent/NativeComponentRegistry.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * è·å–ä¸€ä¸ªå¯ä»¥è¢« React Native æ¸²æŸ“çš„ `NativeComponent`ã€‚
 *
 * æä¾›çš„ `viewConfigProvider` å¯èƒ½ä¼šè¢«è°ƒç”¨å’Œä½¿ç”¨ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šï¼Œ
 * è¿™å–å†³äº `setRuntimeConfigProvider` æ˜¯å¦‚ä½•é…ç½®çš„ã€‚
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> get&lt;<span class="hljs-title class_">Config</span>: {...}&gt;(
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">viewConfigProvider</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">PartialViewConfig</span>,
): <span class="hljs-title class_">HostComponent</span>&lt;<span class="hljs-title class_">Config</span>&gt; {
  <span class="hljs-comment">// æ³¨å†ŒViewConfigåˆ°å…¨å±€æ³¨å†Œè¡¨</span>
  <span class="hljs-title class_">ReactNativeViewConfigRegistry</span>.<span class="hljs-title function_">register</span>(name, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// è¿™é‡Œçš„å›è°ƒå‡½æ•°ä¼šåœ¨Reactéœ€è¦ç»„ä»¶é…ç½®æ—¶è¢«è°ƒç”¨</span>
    <span class="hljs-keyword">const</span> {native, verify} = getRuntimeConfig?.(name) ?? {
      <span class="hljs-attr">native</span>: !<span class="hljs-variable language_">global</span>.<span class="hljs-property">RN$Bridgeless</span>,   <span class="hljs-comment">// å…³é”®ï¼šæ–°æ¶æ„æ£€æµ‹</span>
      <span class="hljs-attr">verify</span>: <span class="hljs-literal">false</span>,
    };

    <span class="hljs-keyword">let</span> <span class="hljs-attr">viewConfig</span>: <span class="hljs-title class_">ViewConfig</span>;
    <span class="hljs-keyword">if</span> (native) {
      <span class="hljs-comment">// æ—§æ¶æ„ï¼šåŸç”ŸViewManager</span>
      viewConfig =
        <span class="hljs-title function_">getNativeComponentAttributes</span>(name) ??
        <span class="hljs-title function_">createViewConfig</span>(<span class="hljs-title function_">viewConfigProvider</span>());
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ–°æ¶æ„ï¼šä¼˜å…ˆé™æ€ViewConfig</span>
      viewConfig =
        <span class="hljs-title function_">createViewConfig</span>(<span class="hljs-title function_">viewConfigProvider</span>()) ??
        <span class="hljs-title function_">getNativeComponentAttributes</span>(name);
    }
    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
    <span class="hljs-keyword">return</span> viewConfig;
  });

  <span class="hljs-comment">// $FlowFixMe[incompatible-type] `NativeComponent` å®é™…ä¸Šæ˜¯å­—ç¬¦ä¸²!</span>
  <span class="hljs-keyword">return</span> name;
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>ReactNativeViewConfigRegistry.register</code>å®ç°ã€‚æºç <code>react-native/packages/react-native/Libraries/Renderer/shims/ReactNativeViewConfigRegistry.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> viewConfigCallbacks = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;string, ?<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">ViewConfig</span>&gt;();


<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">register</span>(<span class="hljs-params">name: string, callback: () =&gt; ViewConfig</span>): string {
  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
  viewConfigCallbacks.<span class="hljs-title function_">set</span>(name, callback);
  <span class="hljs-keyword">return</span> name;
}
</code></pre>
<p>è¿™é‡ŒåŸºæœ¬ä¸Šå°±æ˜¯å°†è¿”å›<code>ViewConfig</code>çš„é—­åŒ…ç»™å­˜äº†èµ·æ¥ã€‚</p>
<h4 data-id="heading-3">æŸ¥æ‰¾ç»„ä»¶</h4>
<h5 data-id="heading-4">JSå±‚</h5>
<p>åœ¨å‰é¢å¯åŠ¨æ¸²æŸ“ä¸€èŠ‚æˆ‘ä»¬çŸ¥é“äº†å¯åŠ¨æ¸²æŸ“çš„æœ€ç»ˆè°ƒç”¨æ˜¯JSå±‚çš„<code>AppRegistry.runApplication</code>æ–¹æ³•ã€‚æ²¿ç€è¿™æ¡çº¿ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹JSå±‚çš„ç»„ä»¶åŠ è½½ä¸å¤„ç†æµç¨‹ã€‚æºç <code>react-native/packages/react-native/Libraries/ReactNative/AppRegistry.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">AppRegistry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./AppRegistryImpl'</span>;

<span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
<span class="hljs-variable language_">global</span>.<span class="hljs-property">RN$AppRegistry</span> = <span class="hljs-title class_">AppRegistry</span>;

<span class="hljs-title function_">registerCallableModule</span>(<span class="hljs-string">'AppRegistry'</span>, <span class="hljs-title class_">AppRegistry</span>);

<span class="hljs-keyword">export</span> {<span class="hljs-title class_">AppRegistry</span>};
</code></pre>
<p>ç»§ç»­è·Ÿè¸ªæºç <code>react-native/packages/react-native/Libraries/ReactNative/AppRegistryImpl.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-attr">runnables</span>: <span class="hljs-title class_">Runnables</span> = {};


<span class="hljs-comment">/**
 * Loads the JavaScript bundle and runs the app.
 *
 * See https://reactnative.dev/docs/appregistry#runapplication
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runApplication</span>(<span class="hljs-params">
  appKey: string,
  appParameters: AppParameters,
  displayMode?: number,
</span>): <span class="hljs-keyword">void</span> {
  <span class="hljs-keyword">if</span> (appKey !== <span class="hljs-string">'LogBox'</span>) {
    <span class="hljs-keyword">const</span> logParams = __DEV__ ? <span class="hljs-string">` with <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(appParameters)}</span>`</span> : <span class="hljs-string">''</span>;
    <span class="hljs-keyword">const</span> msg = <span class="hljs-string">`Running "<span class="hljs-subst">${appKey}</span>"<span class="hljs-subst">${logParams}</span>`</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg);
  }

  <span class="hljs-title class_">SceneTracker</span>.<span class="hljs-title function_">setActiveScene</span>({<span class="hljs-attr">name</span>: appKey});
  runnables[appKey](appParameters, <span class="hljs-title function_">coerceDisplayMode</span>(displayMode));
}


<span class="hljs-comment">/**
 * Registers an app's root component.
 *
 * See https://reactnative.dev/docs/appregistry#registercomponent
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">registerComponent</span>(<span class="hljs-params">
  appKey: string,
  componentProvider: ComponentProvider,
  section?: boolean,
</span>): string {
  <span class="hljs-keyword">const</span> scopedPerformanceLogger = <span class="hljs-title function_">createPerformanceLogger</span>();
  runnables[appKey] = <span class="hljs-function">(<span class="hljs-params">appParameters, displayMode</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> renderApplication = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./renderApplication'</span>).<span class="hljs-property">default</span>;
    <span class="hljs-title function_">renderApplication</span>(
      <span class="hljs-title function_">componentProviderInstrumentationHook</span>(
        componentProvider,
        scopedPerformanceLogger,
      ),
      appParameters.<span class="hljs-property">initialProps</span>,
      appParameters.<span class="hljs-property">rootTag</span>,
      wrapperComponentProvider &amp;&amp; <span class="hljs-title function_">wrapperComponentProvider</span>(appParameters),
      rootViewStyleProvider &amp;&amp; <span class="hljs-title function_">rootViewStyleProvider</span>(appParameters),
      appParameters.<span class="hljs-property">fabric</span>,
      scopedPerformanceLogger,
      appKey === <span class="hljs-string">'LogBox'</span>, <span class="hljs-comment">// is logbox</span>
      appKey,
      displayMode,
    );
  };
  <span class="hljs-keyword">if</span> (section) {
    sections[appKey] = runnables[appKey];
  }
  <span class="hljs-keyword">return</span> appKey;
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>runApplication</code>è°ƒç”¨çš„æ˜¯<code>runnables</code>å¯¹è±¡ä¸­æ³¨å†Œçš„é—­åŒ…ã€‚è€Œåœ¨æˆ‘ä»¬React Native JSå±‚çš„BundleåŒ…ä¸­ï¼Œé¦–å…ˆå°±éœ€è¦è°ƒç”¨<code>AppRegistry.registerComponent(appName, () =&gt; App)</code>å®Œæˆæœ€æ ¹ç»„ä»¶çš„æ³¨å†Œã€‚æ‰€ä»¥<code>runApplication</code>æ–¹æ³•ä¸­è°ƒç”¨çš„é—­åŒ…ï¼Œå°±æ˜¯åœ¨<code>registerComponent</code>ä¸­æ³¨å†Œçš„é—­åŒ…ã€‚</p>
<p>ç»§ç»­è·Ÿè¸ª<code>renderApplication</code>æ–¹æ³•çš„å®ç°ï¼Œæºç <code>react-native/packages/react-native/Libraries/ReactNative/renderApplication.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> renderApplication&lt;<span class="hljs-title class_">Props</span>: <span class="hljs-title class_">Object</span>&gt;(
  <span class="hljs-title class_">RootComponent</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ComponentType</span>&lt;<span class="hljs-title class_">Props</span>&gt;,
  <span class="hljs-attr">initialProps</span>: <span class="hljs-title class_">Props</span>,
  <span class="hljs-attr">rootTag</span>: any,
  <span class="hljs-title class_">WrapperComponent</span>?: ?<span class="hljs-title class_">React</span>.<span class="hljs-property">ComponentType</span>&lt;any&gt;,
  rootViewStyle?: ?<span class="hljs-title class_">ViewStyleProp</span>,
  fabric?: boolean,
  scopedPerformanceLogger?: <span class="hljs-title class_">IPerformanceLogger</span>,
  isLogBox?: boolean,
  debugName?: string,
  displayMode?: ?<span class="hljs-title class_">DisplayModeType</span>,
  useOffscreen?: boolean,
) {

  <span class="hljs-keyword">const</span> performanceLogger = scopedPerformanceLogger ?? <span class="hljs-title class_">GlobalPerformanceLogger</span>;

  <span class="hljs-comment">// æ„å»ºReactå…ƒç´ æ ‘</span>
  <span class="hljs-comment">// å¤–å±‚ï¼šPerformanceLoggerContext.Provider - æä¾›æ€§èƒ½ç›‘æ§ä¸Šä¸‹æ–‡</span>
  <span class="hljs-comment">// ä¸­å±‚ï¼šAppContainer - React Nativeçš„æ ¹å®¹å™¨ç»„ä»¶</span>
  <span class="hljs-comment">// å†…å±‚ï¼šRootComponent - ç”¨æˆ·æ³¨å†Œçš„åº”ç”¨ç»„ä»¶ï¼ˆå¦‚App.jsï¼‰</span>
  <span class="hljs-keyword">let</span> <span class="hljs-attr">renderable</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">MixedElement</span> = (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">PerformanceLoggerContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{performanceLogger}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">AppContainer</span>
        <span class="hljs-attr">rootTag</span>=<span class="hljs-string">{rootTag}</span>
        <span class="hljs-attr">fabric</span>=<span class="hljs-string">{fabric}</span>
        <span class="hljs-attr">WrapperComponent</span>=<span class="hljs-string">{WrapperComponent}</span>
        <span class="hljs-attr">rootViewStyle</span>=<span class="hljs-string">{rootViewStyle}</span>
        <span class="hljs-attr">initialProps</span>=<span class="hljs-string">{initialProps</span> ?? <span class="hljs-attr">Object.freeze</span>({})}
        <span class="hljs-attr">internal_excludeLogBox</span>=<span class="hljs-string">{isLogBox}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">RootComponent</span> {<span class="hljs-attr">...initialProps</span>} <span class="hljs-attr">rootTag</span>=<span class="hljs-string">{rootTag}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">AppContainer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">PerformanceLoggerContext.Provider</span>&gt;</span></span>
  );

  <span class="hljs-comment">// å¼€å‘æ¨¡å¼è°ƒè¯•åŒ…è£…</span>
  <span class="hljs-keyword">if</span> (__DEV__ &amp;&amp; debugName) {
    <span class="hljs-keyword">const</span> <span class="hljs-title class_">RootComponentWithMeaningfulName</span> = <span class="hljs-title function_">getCachedComponentWithDebugName</span>(
      <span class="hljs-string">`<span class="hljs-subst">${debugName}</span>(RootComponent)`</span>,
    );
    renderable = (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RootComponentWithMeaningfulName</span>&gt;</span>
        {renderable}
      <span class="hljs-tag">&lt;/<span class="hljs-name">RootComponentWithMeaningfulName</span>&gt;</span></span>
    );
  }

  <span class="hljs-comment">//  å®éªŒæ€§ç¦»å±æ¸²æŸ“æ”¯æŒ</span>
  <span class="hljs-keyword">if</span> (useOffscreen &amp;&amp; displayMode != <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// $FlowFixMe[incompatible-type]</span>
    <span class="hljs-comment">// $FlowFixMe[prop-missing]</span>
    <span class="hljs-comment">// $FlowFixMe[missing-export]</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title class_">Activity</span>: <span class="hljs-title class_">ActivityType</span> = <span class="hljs-title class_">React</span>.<span class="hljs-property">unstable_Activity</span>;

    renderable = (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Activity</span>
        <span class="hljs-attr">mode</span>=<span class="hljs-string">{displayMode</span> === <span class="hljs-string">DisplayMode.VISIBLE</span> ? '<span class="hljs-attr">visible</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">hidden</span>'}&gt;</span>
        {renderable}
      <span class="hljs-tag">&lt;/<span class="hljs-name">Activity</span>&gt;</span></span>
    );
  }

  <span class="hljs-comment">// æˆ‘ä»¬å¸Œæœ›åœ¨ä½¿ç”¨ Fabric æ—¶å§‹ç»ˆå¯ç”¨ concurrentRoot åŠŸèƒ½</span>
  <span class="hljs-keyword">const</span> useConcurrentRoot = <span class="hljs-title class_">Boolean</span>(fabric);

  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†æ€§èƒ½æ—¥å¿—æ‰“å°......</span>

  <span class="hljs-comment">// è¿›å…¥Reactæ¸²æŸ“ç³»ç»Ÿ</span>
  <span class="hljs-title class_">Renderer</span>.<span class="hljs-title function_">renderElement</span>({
    <span class="hljs-attr">element</span>: renderable,
    rootTag,
    <span class="hljs-attr">useFabric</span>: <span class="hljs-title class_">Boolean</span>(fabric),
    useConcurrentRoot,
  });
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>Renderer.renderElement</code>æ–¹æ³•å®ç°ã€‚æºç <code>react-native/packages/react-native/Libraries/ReactNative/RendererImplementation.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">renderElement</span>(<span class="hljs-params">{
  element,
  rootTag,
  useFabric,
  useConcurrentRoot,
}: {
  element: React.MixedElement,
  rootTag: number,
  useFabric: boolean,
  useConcurrentRoot: boolean,
}</span>): <span class="hljs-keyword">void</span> {
  <span class="hljs-keyword">if</span> (useFabric) {
    <span class="hljs-keyword">if</span> (cachedFabricRender == <span class="hljs-literal">null</span>) {
      <span class="hljs-comment">// è·å–å®é™…æ¸²æŸ“å™¨</span>
      cachedFabricRender = <span class="hljs-title function_">getFabricRenderer</span>().<span class="hljs-property">render</span>;
    }

    <span class="hljs-title function_">cachedFabricRender</span>(element, rootTag, <span class="hljs-literal">null</span>, useConcurrentRoot, {
      onCaughtError,
      onUncaughtError,
      onRecoverableError,
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// çœç•¥æ—§æ¶æ„......</span>
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getFabricRenderer</span>(<span class="hljs-params"/>): <span class="hljs-title class_">ReactFabricType</span> {
  <span class="hljs-keyword">if</span> (cachedFabricRenderer == <span class="hljs-literal">null</span>) {
    cachedFabricRenderer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../Renderer/shims/ReactFabric'</span>).<span class="hljs-property">default</span>;
  }
  <span class="hljs-keyword">return</span> cachedFabricRenderer;
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>react-native/packages/react-native/Libraries/Renderer/shims/ReactFabric.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">BatchedBridge</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native/Libraries/ReactPrivate/ReactNativePrivateInterface'</span>;

<span class="hljs-keyword">import</span> type {<span class="hljs-title class_">ReactFabricType</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'./ReactNativeTypes'</span>;

<span class="hljs-keyword">let</span> <span class="hljs-title class_">ReactFabric</span>: <span class="hljs-title class_">ReactFabricType</span>;

<span class="hljs-keyword">if</span> (__DEV__) {
  <span class="hljs-title class_">ReactFabric</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../implementations/ReactFabric-dev'</span>);
} <span class="hljs-keyword">else</span> {
  <span class="hljs-title class_">ReactFabric</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../implementations/ReactFabric-prod'</span>);
}

<span class="hljs-variable language_">global</span>.<span class="hljs-property">RN$stopSurface</span> = <span class="hljs-title class_">ReactFabric</span>.<span class="hljs-property">stopSurface</span>;

<span class="hljs-keyword">if</span> (<span class="hljs-variable language_">global</span>.<span class="hljs-property">RN$Bridgeless</span> !== <span class="hljs-literal">true</span>) {
  <span class="hljs-title class_">BatchedBridge</span>.<span class="hljs-title function_">registerCallableModule</span>(<span class="hljs-string">'ReactFabric'</span>, <span class="hljs-title class_">ReactFabric</span>);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">ReactFabric</span>;
</code></pre>
<p>è¿™é‡Œæ ¹æ®å¼€å‘ç¯å¢ƒé€‰æ‹©äº†ä¸åŒçš„æ¸²æŸ“å™¨ã€‚å¼€å‘ç¯å¢ƒçš„æ¸²æŸ“å™¨ä½“ç§¯æ›´å¤§ï¼ŒåŒ…å«äº†è®¸å¤šè°ƒè¯•ã€æ€§èƒ½æ—¥å¿—ç­‰ä¿¡æ¯ï¼Œè€Œç”Ÿäº§ç¯å¢ƒçš„ç§»é™¤äº†æ³¨é‡Šå’Œç©ºç™½ï¼Œå˜é‡åè¢«å‹ç¼©ä»£ç ç»è¿‡ä¼˜åŒ–ï¼Œå‡å°‘åŒ…ä½“ç§¯ã€‚</p>
<p>ç»§ç»­è·Ÿè¸ªç”Ÿäº§ç¯å¢ƒçš„æ¸²æŸ“å™¨ï¼Œå› ä¸ºä»£ç æ›´åŠ ç®€æ´ï¼Œå¯æ›´å¥½çš„èšç„¦äºè°ƒç”¨çš„é“¾è·¯å’Œæµç¨‹ã€‚æºç <code>react-native/packages/react-native/Libraries/Renderer/implementations/ReactFabric-prod.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-built_in">exports</span>.<span class="hljs-property">render</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">
  element,
  containerTag,
  callback,
  concurrentRoot,
  options
</span>) {
  <span class="hljs-keyword">var</span> root = roots.<span class="hljs-title function_">get</span>(containerTag);
  <span class="hljs-keyword">if</span> (!root) {
    <span class="hljs-comment">// åˆ›å»ºæ–°çš„FiberRootNode</span>
    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>

    <span class="hljs-title function_">initializeUpdateQueue</span>(concurrentRoot);
    roots.<span class="hljs-title function_">set</span>(containerTag, root);
  }
  <span class="hljs-comment">// å¯åŠ¨æ¸²æŸ“ </span>
  <span class="hljs-title function_">updateContainer</span>(element, root, <span class="hljs-literal">null</span>, callback);
  <span class="hljs-comment">// è¿”å›æ¸²æŸ“åçš„å…¬å…±å®ä¾‹å¼•ç”¨</span>
  <span class="hljs-attr">a</span>: <span class="hljs-keyword">if</span> (((element = root.<span class="hljs-property">current</span>), element.<span class="hljs-property">child</span>))
    <span class="hljs-keyword">switch</span> (element.<span class="hljs-property">child</span>.<span class="hljs-property">tag</span>) {
      <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:
      <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
        element = <span class="hljs-title function_">getPublicInstance</span>(element.<span class="hljs-property">child</span>.<span class="hljs-property">stateNode</span>);
        <span class="hljs-keyword">break</span> a;
      <span class="hljs-attr">default</span>:
        element = element.<span class="hljs-property">child</span>.<span class="hljs-property">stateNode</span>;
    }
  <span class="hljs-keyword">else</span> element = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">return</span> element;
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateContainer</span>(<span class="hljs-params">element, container, parentComponent, callback</span>) {
  parentComponent = container.<span class="hljs-property">current</span>;
  <span class="hljs-comment">// / è·å–æ›´æ–°ä¼˜å…ˆçº§</span>
  <span class="hljs-keyword">var</span> lane = <span class="hljs-title function_">requestUpdateLane</span>(parentComponent);
  <span class="hljs-literal">null</span> === container.<span class="hljs-property">context</span>
    ? (container.<span class="hljs-property">context</span> = emptyContextObject)
    : (container.<span class="hljs-property">pendingContext</span> = emptyContextObject);

  <span class="hljs-comment">// åˆ›å»ºæ›´æ–°å¯¹è±¡</span>
  container = <span class="hljs-title function_">createUpdate</span>(lane);
  container.<span class="hljs-property">payload</span> = { <span class="hljs-attr">element</span>: element };
  callback = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === callback ? <span class="hljs-literal">null</span> : callback;
  <span class="hljs-literal">null</span> !== callback &amp;&amp; (container.<span class="hljs-property">callback</span> = callback);

  <span class="hljs-comment">// å°†æ›´æ–°åŠ å…¥é˜Ÿåˆ—</span>
  element = <span class="hljs-title function_">enqueueUpdate</span>(parentComponent, container, lane);

  <span class="hljs-comment">// è°ƒåº¦æ›´æ–°</span>
  <span class="hljs-literal">null</span> !== element &amp;&amp;
    (<span class="hljs-title function_">scheduleUpdateOnFiber</span>(element, parentComponent, lane),
    <span class="hljs-title function_">entangleTransitions</span>(element, parentComponent, lane));
  <span class="hljs-keyword">return</span> lane;
}
</code></pre>
<p>ä»¥ä¸Šè°ƒç”¨éƒ½æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œçš„æ ¸å¿ƒæ˜¯<code>scheduleUpdateOnFiber</code>æ–¹æ³•ï¼Œå®ƒè´Ÿè´£è°ƒåº¦æ›´æ–°ã€‚ç”±äºä»£ç é‡è¾ƒå¤§ï¼Œæˆ‘ä»¬åé¢åªè¿½æ±‚æ ¸å¿ƒé€»è¾‘ï¼Œå°†çœç•¥å¤§éƒ¨åˆ†ä»£ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">scheduleUpdateOnFiber</span>(<span class="hljs-params">root, fiber, lane</span>) {
  <span class="hljs-comment">// çœç•¥......</span>

  <span class="hljs-comment">// æ ‡è®°æ›´æ–°å¹¶è§¦å‘è°ƒåº¦</span>
  <span class="hljs-title function_">markRootUpdated$1</span>(root, lane);
  <span class="hljs-keyword">if</span> (<span class="hljs-comment">/* ä¸åœ¨æ¸²æŸ“ä¸­ */</span>) {
      <span class="hljs-title function_">ensureRootIsScheduled</span>(root);                    <span class="hljs-comment">// ç¡®ä¿æ ¹èŠ‚ç‚¹è¢«è°ƒåº¦</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-comment">/* åŒæ­¥æ›´æ–° */</span>) {
        <span class="hljs-title function_">flushSyncWorkAcrossRoots_impl</span>(<span class="hljs-number">0</span>, !<span class="hljs-number">0</span>);         <span class="hljs-comment">// ç«‹å³æ‰§è¡ŒåŒæ­¥å·¥ä½œ</span>
      }
   }
}


<span class="hljs-keyword">function</span> <span class="hljs-title function_">flushSyncWorkAcrossRoots_impl</span>(<span class="hljs-params">syncTransitionLanes, onlyLegacy</span>) {
  <span class="hljs-keyword">if</span> (!isFlushingWork &amp;&amp; mightHavePendingSyncWork) {
    isFlushingWork = !<span class="hljs-number">0</span>;
    <span class="hljs-keyword">do</span> {
      <span class="hljs-keyword">var</span> didPerformSomeWork = !<span class="hljs-number">1</span>;
      <span class="hljs-comment">// éå†æ‰€æœ‰æ ¹èŠ‚ç‚¹æ‰§è¡ŒåŒæ­¥å·¥ä½œ</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> root = firstScheduledRoot; <span class="hljs-literal">null</span> !== root; ) {
        <span class="hljs-keyword">if</span> (!onlyLegacy || <span class="hljs-number">0</span> === root.<span class="hljs-property">tag</span>)
          <span class="hljs-comment">//çœç•¥......</span>
          <span class="hljs-comment">// å¸¸è§„åŒæ­¥æ›´æ–° </span>
          <span class="hljs-title function_">performSyncWorkOnRoot</span>(root, <span class="hljs-title class_">JSCompiler</span>_inline_result));

        root = root.<span class="hljs-property">next</span>;
      }
    } <span class="hljs-keyword">while</span> (didPerformSomeWork);
    isFlushingWork = !<span class="hljs-number">1</span>;
  }
}


<span class="hljs-keyword">function</span> <span class="hljs-title function_">performSyncWorkOnRoot</span>(<span class="hljs-params">root, lanes</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">flushPendingEffects</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-title function_">performWorkOnRoot</span>(root, lanes, !<span class="hljs-number">0</span>);
}


<span class="hljs-keyword">function</span> <span class="hljs-title function_">performWorkOnRoot</span>(<span class="hljs-params">root$jscomp$0, lanes, forceSync</span>) {
   <span class="hljs-comment">// é€‰æ‹©åŒæ­¥æˆ–å¹¶å‘æ¸²æŸ“</span>
   <span class="hljs-keyword">var</span> shouldTimeSlice = (!forceSync &amp;&amp; <span class="hljs-comment">/* æ¡ä»¶åˆ¤æ–­ */</span>);
   <span class="hljs-keyword">var</span> exitStatus = shouldTimeSlice
      ? <span class="hljs-title function_">renderRootConcurrent</span>(root, lanes)            <span class="hljs-comment">// å¹¶å‘æ¸²æŸ“</span>
      : <span class="hljs-title function_">renderRootSync</span>(root, lanes, !<span class="hljs-number">0</span>);             <span class="hljs-comment">// åŒæ­¥æ¸²æŸ“</span>

   <span class="hljs-comment">// çœç•¥......</span>
}
</code></pre>
<p>ç»§ç»­è¿½è¸ªåŒæ­¥æ¸²æŸ“<code>renderRootSync</code>æ–¹æ³•å®ç°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">renderRootSync</span>(<span class="hljs-params">root, lanes, shouldYieldForPrerendering</span>) {
   <span class="hljs-comment">// çœç•¥......</span>

   <span class="hljs-comment">// åŒæ­¥å·¥ä½œå¾ªç¯</span>
   <span class="hljs-title function_">workLoopSync</span>();
   <span class="hljs-comment">// çœç•¥......</span>
}


<span class="hljs-keyword">function</span> <span class="hljs-title function_">workLoopSync</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">for</span> (; <span class="hljs-literal">null</span> !== workInProgress; ) <span class="hljs-title function_">performUnitOfWork</span>(workInProgress);
}


<span class="hljs-keyword">function</span> <span class="hljs-title function_">performUnitOfWork</span>(<span class="hljs-params">unitOfWork</span>) {
  <span class="hljs-comment">// å¤„ç†å•ä¸ªFiberèŠ‚ç‚¹</span>
  <span class="hljs-keyword">var</span> next = <span class="hljs-title function_">beginWork</span>(unitOfWork.<span class="hljs-property">alternate</span>, unitOfWork, entangledRenderLanes);
  unitOfWork.<span class="hljs-property">memoizedProps</span> = unitOfWork.<span class="hljs-property">pendingProps</span>;
  <span class="hljs-literal">null</span> === next ? <span class="hljs-title function_">completeUnitOfWork</span>(unitOfWork) : (workInProgress = next);
}


<span class="hljs-keyword">function</span> <span class="hljs-title function_">completeUnitOfWork</span>(<span class="hljs-params">unitOfWork</span>) {
  <span class="hljs-keyword">var</span> completedWork = unitOfWork;
  <span class="hljs-keyword">do</span> {
    <span class="hljs-comment">// çœç•¥......</span>
    unitOfWork = completedWork.<span class="hljs-property">return</span>;
    <span class="hljs-keyword">var</span> next = <span class="hljs-title function_">completeWork</span>(
      completedWork.<span class="hljs-property">alternate</span>,
      completedWork,
      entangledRenderLanes
    );
    <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> !== next) {
      workInProgress = next;
      <span class="hljs-keyword">return</span>;
    }
    completedWork = completedWork.<span class="hljs-property">sibling</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> !== completedWork) {
      workInProgress = completedWork;
      <span class="hljs-keyword">return</span>;
    }
    workInProgress = completedWork = unitOfWork;
  } <span class="hljs-keyword">while</span> (<span class="hljs-literal">null</span> !== completedWork);
  <span class="hljs-number">0</span> === workInProgressRootExitStatus &amp;&amp; (workInProgressRootExitStatus = <span class="hljs-number">5</span>);
}
</code></pre>
<p>æœ€ç»ˆæ˜¯è°ƒç”¨çš„<code>completeWork</code>æ–¹æ³•å®Œæˆæ¸²æŸ“å·¥ä½œï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">completeWork</span>(<span class="hljs-params">current, workInProgress, renderLanes</span>) {
  <span class="hljs-keyword">var</span> newProps = workInProgress.<span class="hljs-property">pendingProps</span>;
  <span class="hljs-keyword">switch</span> (workInProgress.<span class="hljs-property">tag</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">bubbleProperties</span>(workInProgress), <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">bubbleProperties</span>(workInProgress), <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
      <span class="hljs-comment">// çœç•¥......</span>
      <span class="hljs-comment">// return  </span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
      <span class="hljs-title function_">popHostContext</span>(workInProgress);
      <span class="hljs-keyword">var</span> type = workInProgress.<span class="hljs-property">type</span>;
      <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> !== current &amp;&amp; <span class="hljs-literal">null</span> != workInProgress.<span class="hljs-property">stateNode</span>)
        <span class="hljs-comment">// çœç•¥......</span>
      <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// é¦–æ¬¡æŒ‚è½½</span>
        <span class="hljs-keyword">if</span> (!newProps) {  
          <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> === workInProgress.<span class="hljs-property">stateNode</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-title class_">Error</span>(
              <span class="hljs-string">"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."</span>
            );
          <span class="hljs-title function_">bubbleProperties</span>(workInProgress);
          <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        current = rootInstanceStackCursor.<span class="hljs-property">current</span>;
        renderLanes = nextReactTag;
        nextReactTag += <span class="hljs-number">2</span>;
        <span class="hljs-comment">// è·å–ViewConfig</span>
        type = <span class="hljs-title function_">getViewConfigForType</span>(type);
        <span class="hljs-keyword">var</span> updatePayload = <span class="hljs-title class_">ReactNativePrivateInterface</span>.<span class="hljs-title function_">createAttributePayload</span>(
          newProps,
          type.<span class="hljs-property">validAttributes</span>
        );
        <span class="hljs-comment">// åˆ›å»ºåŸç”ŸèŠ‚ç‚¹</span>
        current = {
          <span class="hljs-attr">node</span>: <span class="hljs-title function_">createNode</span>(
            renderLanes,
            type.<span class="hljs-property">uiViewClassName</span>,  <span class="hljs-comment">//  ä½¿ç”¨ViewConfigä¸­çš„åŸç”Ÿç±»å</span>
            current.<span class="hljs-property">containerTag</span>,
            updatePayload,
            workInProgress
          ),
          <span class="hljs-attr">canonical</span>: {
            <span class="hljs-attr">nativeTag</span>: renderLanes,
            <span class="hljs-attr">viewConfig</span>: type,       <span class="hljs-comment">// ä¿å­˜ViewConfigå¼•ç”¨</span>
            <span class="hljs-attr">currentProps</span>: newProps,
            <span class="hljs-attr">internalInstanceHandle</span>: workInProgress,
            <span class="hljs-attr">publicInstance</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">publicRootInstance</span>: current.<span class="hljs-property">publicInstance</span>
          }
        };
        workInProgress.<span class="hljs-property">flags</span> |= <span class="hljs-number">8</span>;
        <span class="hljs-title function_">appendAllChildren</span>(current, workInProgress, !<span class="hljs-number">1</span>, !<span class="hljs-number">1</span>);
        workInProgress.<span class="hljs-property">stateNode</span> = current;
      }
      <span class="hljs-title function_">bubbleProperties</span>(workInProgress);
      workInProgress.<span class="hljs-property">flags</span> &amp;= -<span class="hljs-number">16777217</span>;
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
  }
}
</code></pre>
<p>æ­¤æ–¹æ³•ä¸­çš„<code>case</code>éƒ½æ˜¯æ•´æ•°ï¼Œä¸ºäº†å¼„æ¸…æ¥šå…¶å«ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹React ä»“åº“ä¸­çš„<strong>Tag</strong>å®šä¹‰ã€‚æºç ä½äº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Freact%2Fblob%2Fmain%2Fpackages%2Freact-reconciler%2Fsrc%2FReactWorkTags.js" target="_blank" title="https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactWorkTags.js" ref="nofollow noopener noreferrer">ReactWorkTags.js</a>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">FunctionComponent</span> = <span class="hljs-number">0</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">ClassComponent</span> = <span class="hljs-number">1</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">HostRoot</span> = <span class="hljs-number">3</span>; <span class="hljs-comment">// å®¿ä¸»æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚å®ƒå¯ä»¥åµŒå¥—åœ¨å¦ä¸€ä¸ªèŠ‚ç‚¹å†…éƒ¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">HostPortal</span> = <span class="hljs-number">4</span>; <span class="hljs-comment">// ä¸€ä¸ªå­æ ‘ã€‚å®ƒå¯ä»¥æ˜¯é€šå¾€ä¸åŒæ¸²æŸ“å™¨çš„å…¥å£ç‚¹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">HostComponent</span> = <span class="hljs-number">5</span>;
<span class="hljs-comment">// çœç•¥......</span>
</code></pre>
<p>å¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥çœ‹çš„æ˜¯React Nativeçš„Tagç±»å‹ï¼Œä¹Ÿå°±æ˜¯<code>HostComponent</code>ï¼Œå®ƒçš„å€¼æ˜¯5ï¼Œå› æ­¤å¯¹åº”åˆ°<code>completeWork</code>ä¸­çš„å¤„ç†ä»£ç å°±æ˜¯æˆ‘æˆªå–çš„è¿™éƒ¨åˆ†ã€‚è¿™æ®µä»£ç ä¸­æœ‰ä¸€ä¸ªå…³é”®çš„æ–¹æ³•ï¼Œå°±æ˜¯<code>getViewConfigForType</code>ï¼ŒæŸ¥çœ‹å…¶å®šä¹‰ï¼Œæ˜¾ç¤ºä¸º<code>getViewConfigForType = ReactNativePrivateInterface.ReactNativeViewConfigRegistry.get</code></p>
<p>å¯çœ‹åˆ°ï¼Œè¿™é‡Œå°±å®Œå…¨ä¸å‰é¢<strong>å£°æ˜ç»„ä»¶</strong>ä¸€èŠ‚æœ€ååˆ†æåˆ°çš„<code>ReactNativeViewConfigRegistry.js</code>å¯¹åº”ä¸Šäº†ï¼Œæˆ‘ä»¬å‰é¢åˆ†æçš„æ˜¯ViewConfigçš„æ³¨å†Œï¼Œç°åœ¨æ¥çœ‹ä¸€ä¸‹<code>get</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * è·å–æŒ‡å®šè§†å›¾çš„é…ç½®ã€‚å¦‚æœè¿™æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯¥è§†å›¾ï¼Œæ­¤é…ç½®å°†ä»UIManagerå»¶è¿ŸåŠ è½½
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">name: string</span>): <span class="hljs-title class_">ViewConfig</span> {
  <span class="hljs-comment">// ä»viewConfigs Mapä¸­æŸ¥æ‰¾å·²ç¼“å­˜çš„ViewConfig</span>
  <span class="hljs-keyword">let</span> viewConfig = viewConfigs.<span class="hljs-title function_">get</span>(name);
  <span class="hljs-keyword">if</span> (viewConfig == <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// è·å–è¯¥ç»„ä»¶çš„é…ç½®ç”Ÿæˆå›è°ƒå‡½æ•°</span>
    <span class="hljs-keyword">const</span> callback = viewConfigCallbacks.<span class="hljs-title function_">get</span>(name);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback !== <span class="hljs-string">'function'</span>) {
      <span class="hljs-comment">// çœç•¥æ—¥å¿—......</span>
    }
    viewConfig = <span class="hljs-title function_">callback</span>();
    <span class="hljs-title function_">invariant</span>(viewConfig, <span class="hljs-string">'View config not found for component `%s`'</span>, name);

    <span class="hljs-title function_">processEventTypes</span>(viewConfig);
    viewConfigs.<span class="hljs-title function_">set</span>(name, viewConfig);

    <span class="hljs-comment">// é…ç½®è®¾ç½®åæ¸…é™¤å›è°ƒï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ä¼šåœ¨æ³¨å†Œè¿‡ç¨‹ä¸­æ©ç›–ä»»ä½•é”™è¯¯ã€‚</span>
    viewConfigCallbacks.<span class="hljs-title function_">set</span>(name, <span class="hljs-literal">null</span>);
  }
  <span class="hljs-keyword">return</span> viewConfig;
}
</code></pre>
<p>é€šè¿‡<strong>ViewConfig</strong>ï¼Œå¯ä»¥å¾—åˆ°<code>uiViewClassName</code>ï¼Œä¹Ÿå°±æ˜¯å£°æ˜çš„ç»„ä»¶åç§°ï¼Œæˆ‘ä»¬ç»§ç»­æŸ¥çœ‹åŸç”ŸèŠ‚ç‚¹åˆ›å»ºçš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> _nativeFabricUIManage = nativeFabricUIManager,
  createNode = _nativeFabricUIManage.<span class="hljs-property">createNode</span>,          


 <span class="hljs-title function_">createNode</span>(
   renderLanes,
   type.<span class="hljs-property">uiViewClassName</span>,  <span class="hljs-comment">//  ä½¿ç”¨ViewConfigä¸­çš„åŸç”Ÿç±»å</span>
   current.<span class="hljs-property">containerTag</span>,
   updatePayload,
   workInProgress
 )
</code></pre>
<p><code>createNode</code>æ–¹æ³•æ¥è‡ªäºå…¨å±€å¯¹è±¡<code>nativeFabricUIManager</code>ï¼Œé€šè¿‡å˜é‡åå°±çŸ¥é“ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯æ¥è‡ªäºJSIå®šä¹‰çš„å¯¹è±¡ï¼Œä»£ç ä¸åœ¨JSå±‚ã€‚</p>
<h5 data-id="heading-5">C++ å±‚</h5>
<p>ç»§ç»­åœ¨C++ä¸­æœç´¢<code>nativeFabricUIManager</code>ï¼Œå®šä½åˆ°æºç <code>react-native/packages/react-native/ReactCommon/react/renderer/uimanager/UIManagerBinding.cpp</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">void</span> <span class="hljs-title class_">UIManagerBinding</span>::<span class="hljs-title function_">createAndInstallIfNeeded</span>(<span class="hljs-params">
    jsi::Runtime&amp; runtime,
    <span class="hljs-keyword">const</span> std::shared_ptr&lt;UIManager&gt;&amp; uiManager</span>) {
  auto uiManagerModuleName = <span class="hljs-string">"nativeFabricUIManager"</span>;

  auto uiManagerValue =
      runtime.<span class="hljs-title function_">global</span>().<span class="hljs-title function_">getProperty</span>(runtime, uiManagerModuleName);
  <span class="hljs-keyword">if</span> (uiManagerValue.<span class="hljs-title function_">isUndefined</span>()) {
    <span class="hljs-comment">// å…¨å±€å‘½åç©ºé—´ä¸­æ²¡æœ‰è¯¥ç»‘å®šçš„å®ä¾‹ï¼›æˆ‘ä»¬éœ€è¦åˆ›å»ºã€å®‰è£…å¹¶è¿”å›å®ƒ</span>
    auto uiManagerBinding = <span class="hljs-attr">std</span>::make_shared&lt;<span class="hljs-title class_">UIManagerBinding</span>&gt;(uiManager);
    auto object = <span class="hljs-attr">jsi</span>::<span class="hljs-title class_">Object</span>::<span class="hljs-title function_">createFromHostObject</span>(runtime, uiManagerBinding);
    runtime.<span class="hljs-title function_">global</span>().<span class="hljs-title function_">setProperty</span>(
        runtime, uiManagerModuleName, <span class="hljs-attr">std</span>::<span class="hljs-title function_">move</span>(object));
  }
}
</code></pre>
<p>å¯è§è¿™é‡Œçš„<code>nativeFabricUIManager</code>æ˜¯ä¸€ä¸ª<code>jsi::HostObject</code>å¯¹è±¡ï¼Œæˆ‘ä»¬è¦æŸ¥æ‰¾å…¶<code>createNode</code>æ–¹æ³•ï¼Œç›´æ¥æŸ¥çœ‹<strong>UIManagerBinding</strong>çš„<code>get</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">jsi::Value <span class="hljs-title">UIManagerBinding::get</span><span class="hljs-params">(
    jsi::Runtime&amp; runtime,
    <span class="hljs-type">const</span> jsi::PropNameID&amp; name)</span> </span>{
  <span class="hljs-keyword">auto</span> methodName = name.<span class="hljs-built_in">utf8</span>(runtime);

  <span class="hljs-comment">// å°† shared_ptr&lt;UIManager&gt; è½¬æ¢ä¸ºåŸå§‹æŒ‡é’ˆ</span>
  <span class="hljs-comment">// ä¸ºä»€ä¹ˆè¿™æ ·åšï¼ŸåŸå› å¦‚ä¸‹ï¼š</span>
  <span class="hljs-comment">// 1) UIManagerBinding å¼ºå¼•ç”¨ï¼ˆstrongly retainsï¼‰UIManagerã€‚</span>
  <span class="hljs-comment">//    JS VM é€šè¿‡ JSI å¼ºå¼•ç”¨ UIManagerBindingã€‚</span>
  <span class="hljs-comment">//    è¿™äº›å‡½æ•°æ˜¯ JSI å‡½æ•°ï¼Œåªèƒ½é€šè¿‡ JS VM è°ƒç”¨ï¼›å¦‚æœ JS VM è¢«é”€æ¯ï¼Œ</span>
  <span class="hljs-comment">//    è¿™äº›å‡½æ•°æ— æ³•æ‰§è¡Œï¼Œè¿™äº› lambda ä¹Ÿä¸ä¼šæ‰§è¡Œã€‚</span>
  <span class="hljs-comment">// 2) UIManager åªæœ‰åœ¨æ‰€æœ‰å¯¹å®ƒçš„å¼•ç”¨éƒ½è¢«é‡Šæ”¾åæ‰ä¼šè¢«ææ„ï¼ŒåŒ…æ‹¬</span>
  <span class="hljs-comment">//    UIManagerBindingã€‚è¿™åªæœ‰åœ¨ JS VM è¢«ææ„æ—¶æ‰ä¼šå‘ç”Ÿã€‚å› æ­¤ï¼ŒåŸå§‹æŒ‡é’ˆæ˜¯å®‰å…¨çš„ã€‚</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">// å³ä½¿è¿™æ ·åšæ˜¯å®‰å…¨çš„ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ shared_ptr ä½œä¸ºé¢å¤–çš„ä¿é™©å‘¢ï¼Ÿ</span>
  <span class="hljs-comment">// 1) åœ¨ä¸éœ€è¦çš„æƒ…å†µä¸‹ä½¿ç”¨ shared_ptr æˆ– weak_ptr</span>
  <span class="hljs-comment">// æ˜¯ä¸€ç§æ€§èƒ½åŠ£åŒ–ï¼ˆpessimisationï¼‰ã€‚</span>
  <span class="hljs-comment">//    åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä¼šæ‰§è¡Œæ›´å¤šæŒ‡ä»¤ï¼Œä½†ä¸ä¼šå¸¦æ¥ä»»ä½•é¢å¤–ä»·å€¼ã€‚</span>
  <span class="hljs-comment">// 2) è¿™äº› lambda çš„ç¡®åˆ‡é‡Šæ”¾æ—¶æœºå’Œæ–¹å¼å¾ˆå¤æ‚ã€‚å‘å®ƒä»¬æ·»åŠ  shared_ptr ä¼šå¯¼è‡´</span>
  <span class="hljs-comment">//    UIManager å¯èƒ½å­˜æ´»æ›´é•¿æ—¶é—´ï¼Œè¿™æ˜¯ä¸å¿…è¦çš„ã€å¤æ‚çš„è®¤çŸ¥è´Ÿæ‹…ã€‚</span>
  <span class="hljs-comment">// 3) æœ‰å¼ºçƒˆæ€€ç–‘è®¤ä¸ºï¼Œä»è¿™äº› C++ lambda ä¸­ä¿ç•™ UIManagerï¼ˆè¿™äº› lambda è¢«</span>
  <span class="hljs-comment">//    JSI æŒæœ‰çš„å¯¹è±¡æ‰€ä¿ç•™ï¼‰ï¼Œåœ¨ Scheduler å’Œ JS VM ææ„æ—¶å¯¼è‡´äº†ä¸€äº›å´©æºƒã€‚</span>
  <span class="hljs-comment">//    å¦‚æœ C++ è¯­ä¹‰å¯¼è‡´è¿™äº› lambda åœ¨ JS VM è¢«ææ„åä¸€ä¸ª CPU</span>
  <span class="hljs-comment">//    æ—¶é’Ÿå‘¨æœŸï¼ˆæˆ–æ›´ä¹…ï¼‰ æ‰è¢«é‡Šæ”¾ï¼Œå°±å¯èƒ½å‘ç”Ÿè¿™ç§æƒ…å†µã€‚</span>
  UIManager* uiManager = uiManager_.<span class="hljs-built_in">get</span>();

  <span class="hljs-comment">// Semantic: Creates a new node with given pieces.</span>
  <span class="hljs-keyword">if</span> (methodName == <span class="hljs-string">"createNode"</span>) {
    <span class="hljs-keyword">auto</span> paramCount = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">return</span> jsi::Function::<span class="hljs-built_in">createFromHostFunction</span>(
        runtime,
        name,
        paramCount,
        [uiManager, methodName, paramCount](
            jsi::Runtime&amp; runtime,
            <span class="hljs-type">const</span> jsi::Value&amp; <span class="hljs-comment">/*thisValue*/</span>,
            <span class="hljs-type">const</span> jsi::Value* arguments,
            <span class="hljs-type">size_t</span> count) -&gt; jsi::Value {
          <span class="hljs-keyword">try</span> {
            <span class="hljs-built_in">validateArgumentCount</span>(runtime, methodName, paramCount, count);

            <span class="hljs-keyword">auto</span> instanceHandle =
                <span class="hljs-built_in">instanceHandleFromValue</span>(runtime, arguments[<span class="hljs-number">4</span>], arguments[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">if</span> (!instanceHandle) {
              <span class="hljs-built_in">react_native_assert</span>(<span class="hljs-literal">false</span>);
              <span class="hljs-keyword">return</span> jsi::Value::<span class="hljs-built_in">undefined</span>();
            }

            <span class="hljs-keyword">return</span> <span class="hljs-built_in">valueFromShadowNode</span>(
                runtime,
                uiManager-&gt;<span class="hljs-built_in">createNode</span>(
                    <span class="hljs-built_in">tagFromValue</span>(arguments[<span class="hljs-number">0</span>]),
                    <span class="hljs-built_in">stringFromValue</span>(runtime, arguments[<span class="hljs-number">1</span>]),
                    <span class="hljs-built_in">surfaceIdFromValue</span>(runtime, arguments[<span class="hljs-number">2</span>]),
                    <span class="hljs-built_in">RawProps</span>(runtime, arguments[<span class="hljs-number">3</span>]),
                    std::<span class="hljs-built_in">move</span>(instanceHandle)),
                <span class="hljs-literal">true</span>);
          } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::logic_error&amp; ex) {
            <span class="hljs-built_in">LOG</span>(FATAL) &lt;&lt; <span class="hljs-string">"logic_error in createNode: "</span> &lt;&lt; ex.<span class="hljs-built_in">what</span>();
          }
        });
  }
  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>

  <span class="hljs-keyword">return</span> jsi::Value::<span class="hljs-built_in">undefined</span>();
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>react-native/packages/react-native/ReactCommon/react/renderer/uimanager/UIManager.cpp</code>ä¸­çš„<code>createNode</code>å®ç°ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">std::shared_ptr&lt;ShadowNode&gt; <span class="hljs-title">UIManager::createNode</span><span class="hljs-params">(
    Tag tag,                  <span class="hljs-comment">// èŠ‚ç‚¹æ ‡ç­¾</span>
    <span class="hljs-type">const</span> std::string&amp; name,  <span class="hljs-comment">// ç»„ä»¶åç§°</span>
    SurfaceId surfaceId,
    RawProps rawProps,        <span class="hljs-comment">// åŸå§‹å±æ€§</span>
    InstanceHandle::Shared instanceHandle)</span> <span class="hljs-type">const</span> </span>{
  <span class="hljs-function">TraceSection <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-string">"UIManager::createNode"</span>, <span class="hljs-string">"componentName"</span>, name)</span></span>;

  <span class="hljs-comment">// æ ¹æ®ç»„ä»¶åç§°è·å–å¯¹åº”çš„ComponentDescriptor</span>
  <span class="hljs-keyword">auto</span>&amp; componentDescriptor = componentDescriptorRegistry_-&gt;<span class="hljs-built_in">at</span>(name);
  <span class="hljs-keyword">auto</span> fallbackDescriptor =
      componentDescriptorRegistry_-&gt;<span class="hljs-built_in">getFallbackComponentDescriptor</span>();

  PropsParserContext propsParserContext{surfaceId, *contextContainer_};

  <span class="hljs-comment">// åˆ›å»ºShadowNodeFamilyï¼Œç”¨äºç®¡ç†åŒä¸€ç»„ä»¶çš„ä¸åŒå®ä¾‹</span>
  <span class="hljs-keyword">auto</span> family = componentDescriptor.<span class="hljs-built_in">createFamily</span>(
      {.tag = tag,
       .surfaceId = surfaceId,
       .instanceHandle = std::<span class="hljs-built_in">move</span>(instanceHandle)});

  <span class="hljs-comment">// è§£æå’Œå…‹éš†å±æ€§</span>
  <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> props = componentDescriptor.<span class="hljs-built_in">cloneProps</span>(
      propsParserContext, <span class="hljs-literal">nullptr</span>, std::<span class="hljs-built_in">move</span>(rawProps));
  <span class="hljs-comment">// åˆ›å»ºåˆå§‹çŠ¶æ€</span>
  <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> state = componentDescriptor.<span class="hljs-built_in">createInitialState</span>(props, family);

  <span class="hljs-comment">// åˆ›å»ºShadowNode</span>
  <span class="hljs-keyword">auto</span> shadowNode = componentDescriptor.<span class="hljs-built_in">createShadowNode</span>(
      ShadowNodeFragment{
          .props = fallbackDescriptor != <span class="hljs-literal">nullptr</span> &amp;&amp;
                  fallbackDescriptor-&gt;<span class="hljs-built_in">getComponentHandle</span>() ==
                      componentDescriptor.<span class="hljs-built_in">getComponentHandle</span>()
              ? componentDescriptor.<span class="hljs-built_in">cloneProps</span>(
                    propsParserContext,
                    props,
                    <span class="hljs-built_in">RawProps</span>(folly::dynamic::<span class="hljs-built_in">object</span>(<span class="hljs-string">"name"</span>, name)))
              : props,
          .children = ShadowNodeFragment::<span class="hljs-built_in">childrenPlaceholder</span>(),
          .state = state,
      },
      family);

  <span class="hljs-keyword">if</span> (delegate_ != <span class="hljs-literal">nullptr</span>) {
    delegate_-&gt;<span class="hljs-built_in">uiManagerDidCreateShadowNode</span>(*shadowNode);
  }
  <span class="hljs-keyword">if</span> (leakChecker_) {
    leakChecker_-&gt;<span class="hljs-built_in">uiManagerDidCreateShadowNodeFamily</span>(family);
  }

  <span class="hljs-keyword">return</span> shadowNode;
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œé€šè¿‡<code>componentDescriptorRegistry_</code>æ¥æŸ¥æ‰¾Fabric ç»„ä»¶æè¿°å¯¹è±¡ï¼Œè‡³äºæ³¨å†Œçš„åœ°æ–¹ï¼Œä¸‹ä¸€èŠ‚<strong>æ³¨å†Œç»„ä»¶</strong>ä¼šä¸“é—¨åˆ†æã€‚</p>
<p>è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œ<code>createShadowNode</code>æ–¹æ³•åªæ˜¯åˆ›å»ºäº†è™šæ‹Ÿçš„<strong>ShadowNode</strong>ï¼Œå¹¶æ²¡æœ‰åˆ›å»ºçœŸæ­£çš„åŸç”Ÿè§†å›¾ã€‚ShadowNodeæ˜¯Fabricä¸­çš„è™šæ‹ŸDOMèŠ‚ç‚¹ï¼Œç”¨äºå¸ƒå±€è®¡ç®—ã€‚ä¹Ÿå°±æ˜¯è¯´å½“å®Œæˆå¸ƒå±€å’Œdiffè®¡ç®—åï¼Œä¼šç”ŸæˆMountItemæŒ‡ä»¤ã€‚</p>
<h5 data-id="heading-6">Kotlinå±‚</h5>
<p>åœ¨å‰é¢<strong>å¯åŠ¨æ¸²æŸ“</strong>ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬æœ‰åˆ†æåˆ°<code>createViewUnsafe</code>æ–¹æ³•ï¼Œå›é¡¾ä¸€ä¸‹å®‰å“åŸç”Ÿç»„ä»¶çš„æŸ¥æ‰¾ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">ViewManager viewManager = mViewManagerRegistry.<span class="hljs-keyword">get</span>(componentName);
</code></pre>
<p>è·Ÿè¸ªæºç <code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/uimanager/ViewManagerRegistry.kt</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-meta">@Synchronized</span>
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">get</span><span class="hljs-params">(className: <span class="hljs-type">String</span>)</span></span>: ViewManager&lt;*, *&gt; {
    <span class="hljs-comment">// 1. Try to get the manager without the prefix.</span>
    viewManagersMap[className]?.let {
      <span class="hljs-keyword">return</span> it
    }

    <span class="hljs-comment">// 2. Try to get the manager with the RCT prefix.</span>
    <span class="hljs-keyword">val</span> rctViewManagerName = <span class="hljs-string">"RCT<span class="hljs-variable">$className</span>"</span>
    viewManagersMap[rctViewManagerName]?.let {
      <span class="hljs-keyword">return</span> it
    }

    <span class="hljs-keyword">if</span> (viewManagerResolver != <span class="hljs-literal">null</span>) {

      <span class="hljs-comment">// 1. Try to get the manager without the prefix.</span>
      <span class="hljs-keyword">val</span> resolvedManager = getViewManagerFromResolver(className)
      <span class="hljs-keyword">if</span> (resolvedManager != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> resolvedManager
      }

      <span class="hljs-comment">// 2. Try to get the manager with the RCT prefix.</span>
      <span class="hljs-keyword">val</span> rctResolvedManager = getViewManagerFromResolver(rctViewManagerName)
      <span class="hljs-keyword">if</span> (rctResolvedManager != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> rctResolvedManager
      }

      <span class="hljs-keyword">throw</span> IllegalViewOperationException(
          <span class="hljs-string">"Can't find ViewManager '<span class="hljs-variable">$className</span>' nor '<span class="hljs-variable">$rctViewManagerName</span>' in ViewManagerRegistry, "</span> +
              <span class="hljs-string">"existing names are: <span class="hljs-subst">${viewManagerResolver.getViewManagerNames()}</span>"</span>
      )
    }

    <span class="hljs-keyword">throw</span> IllegalViewOperationException(<span class="hljs-string">"No ViewManager found for class <span class="hljs-variable">$className</span>"</span>)
  }

  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getViewManagerFromResolver</span><span class="hljs-params">(className: <span class="hljs-type">String</span>)</span></span>: ViewManager&lt;*, *&gt;? {
    <span class="hljs-keyword">val</span> viewManager = viewManagerResolver?.getViewManager(className)
    <span class="hljs-keyword">if</span> (viewManager != <span class="hljs-literal">null</span>) {
      viewManagersMap[className] = viewManager
    }
    <span class="hljs-keyword">return</span> viewManager
  }
</code></pre>
<p>æ–°æ¶æ„çš„æƒ…å†µä¸‹ï¼Œæ˜¯é€šè¿‡<code>getViewManagerFromResolver</code>æ–¹æ³•æ¥æŸ¥æ‰¾ï¼Œå…¶ä¸­<code>viewManagerResolver</code>çš„ç±»å‹æ˜¯<code>BridgelessViewManagerResolver</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œå®šä¹‰åœ¨<code>ReactInstance.kt</code>æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BridgelessViewManagerResolver</span>(
      <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> reactPackages: List&lt;ReactPackage&gt;,
      <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: BridgelessReactContext,
  ) : ViewManagerResolver {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> lazyViewManagerMap: MutableMap&lt;String, ViewManager&lt;*, *&gt;&gt; = HashMap()

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getViewManager</span><span class="hljs-params">(viewManagerName: <span class="hljs-type">String</span>)</span></span>: ViewManager&lt;*, *&gt;? {
      <span class="hljs-comment">// ä»æ‡’åŠ è½½åŒ…ä¸­æŸ¥æ‰¾</span>
      <span class="hljs-keyword">val</span> viewManager = getLazyViewManager(viewManagerName)
      <span class="hljs-keyword">if</span> (viewManager != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> viewManager
      }
      <span class="hljs-comment">// å¦‚æœé€šè¿‡å»¶è¿ŸåŠ è½½åœ¨æ‰€æœ‰ React åŒ…ä¸­éƒ½æ‰¾ä¸åˆ°è§†å›¾ç®¡ç†å™¨ï¼Œåˆ™å›é€€åˆ°é»˜è®¤å®ç°ï¼šç«‹å³åˆå§‹åŒ–æ‰€æœ‰è§†å›¾ç®¡ç†å™¨</span>
      <span class="hljs-keyword">return</span> eagerViewManagerMap[viewManagerName]
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> _eagerViewManagerMap: Map&lt;String, ViewManager&lt;*, *&gt;&gt;

    <span class="hljs-meta">@get:Synchronized</span>
    <span class="hljs-keyword">val</span> eagerViewManagerMap: Map&lt;String, ViewManager&lt;*, *&gt;&gt;
      <span class="hljs-keyword">get</span>() {
        <span class="hljs-keyword">if</span> (::_eagerViewManagerMap.isInitialized) {
          <span class="hljs-keyword">return</span> _eagerViewManagerMap
        }

        <span class="hljs-keyword">val</span> viewManagerMap: MutableMap&lt;String, ViewManager&lt;*, *&gt;&gt; = HashMap()
        <span class="hljs-keyword">for</span> (reactPackage <span class="hljs-keyword">in</span> reactPackages) {
          <span class="hljs-keyword">if</span> (reactPackage <span class="hljs-keyword">is</span> ViewManagerOnDemandReactPackage) {
            <span class="hljs-keyword">continue</span>
          }

          <span class="hljs-keyword">val</span> viewManagersInPackage = reactPackage.createViewManagers(context)
          <span class="hljs-keyword">for</span> (viewManager <span class="hljs-keyword">in</span> viewManagersInPackage) {
            <span class="hljs-comment">// TODO(T173624687): Should we throw/warn when the same view manager name is registered</span>
            <span class="hljs-comment">// twice?</span>
            viewManagerMap[viewManager.name] = viewManager
          }
        }

        _eagerViewManagerMap = viewManagerMap
        <span class="hljs-keyword">return</span> viewManagerMap
      }

    <span class="hljs-meta">@Synchronized</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getLazyViewManager</span><span class="hljs-params">(viewManagerName: <span class="hljs-type">String</span>)</span></span>: ViewManager&lt;*, *&gt;? {
      <span class="hljs-comment">// å…ˆæŸ¥ç¼“å­˜ </span>
      <span class="hljs-keyword">if</span> (lazyViewManagerMap.containsKey(viewManagerName)) {
        <span class="hljs-keyword">return</span> lazyViewManagerMap[viewManagerName]
      }

      <span class="hljs-comment">// ç¼“å­˜æœªå‘½ä¸­åˆ™éå†æ‰€æœ‰ reactPackagesï¼Œè°ƒç”¨ createViewManager(name) åˆ›å»º</span>
      <span class="hljs-keyword">for</span> (reactPackage <span class="hljs-keyword">in</span> reactPackages) {
        <span class="hljs-keyword">if</span> (reactPackage <span class="hljs-keyword">is</span> ViewManagerOnDemandReactPackage) {
          <span class="hljs-keyword">val</span> viewManager = reactPackage.createViewManager(context, viewManagerName)
          <span class="hljs-keyword">if</span> (viewManager != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// TODO(T173624687): Should we throw/warn when the same view manager name is registered</span>
            <span class="hljs-comment">// twice?</span>
            lazyViewManagerMap[viewManagerName] = viewManager
            <span class="hljs-keyword">return</span> viewManager
          }
        }
      }

      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    }

    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
  }
</code></pre>
<h4 data-id="heading-7">æ³¨å†Œç»„ä»¶</h4>
<h5 data-id="heading-8">JSå·¥å…·</h5>
<p>React Nativeæ–°æ¶æ„ä½¿ç”¨äº†å¾ˆå¤šä»£ç ç”Ÿæˆå·¥å…·ï¼Œä»¥è‡´äºæˆäº†é»‘ç®±æ“ä½œï¼Œè¿™å¯¹äºTurbo Moduleå’ŒFabricç»„ä»¶çš„æ³¨å†Œæµç¨‹é€ æˆäº†ç†è§£ä¸Šçš„å›°éš¾ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ç ”ç©¶è¿™äº›CLIå·¥å…·ã€‚é¦–å…ˆç ”ç©¶<code>@react-native-community/cli</code>å·¥å…·ï¼Œæºç  <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Freact-native-community%2Fcli" target="_blank" title="https://github.com/react-native-community/cli" ref="nofollow noopener noreferrer">cli</a>ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯<code>v20.0.2</code>ã€‚</p>
<p>æŸ¥çœ‹æºç <code>cli/packages/cli-config-android/src/config/index.ts</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">dependencyConfig</span>(<span class="hljs-params">
  root: <span class="hljs-built_in">string</span>,
  userConfig: AndroidDependencyParams | <span class="hljs-literal">null</span> = {},
</span>): <span class="hljs-title class_">AndroidDependencyConfig</span> | <span class="hljs-literal">null</span> {
  <span class="hljs-keyword">if</span> (userConfig === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">const</span> src = userConfig.<span class="hljs-property">sourceDir</span> || <span class="hljs-title function_">findAndroidDir</span>(root);

  <span class="hljs-keyword">if</span> (!src) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">const</span> sourceDir = path.<span class="hljs-title function_">join</span>(root, src);
  <span class="hljs-keyword">const</span> manifestPath = userConfig.<span class="hljs-property">manifestPath</span>
    ? path.<span class="hljs-title function_">join</span>(sourceDir, userConfig.<span class="hljs-property">manifestPath</span>)
    : <span class="hljs-title function_">findManifest</span>(sourceDir);
  <span class="hljs-keyword">const</span> buildGradlePath = <span class="hljs-title function_">findBuildGradle</span>(sourceDir, <span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> isPureCxxDependency =
    userConfig.<span class="hljs-property">cxxModuleCMakeListsModuleName</span> != <span class="hljs-literal">null</span> &amp;&amp;
    userConfig.<span class="hljs-property">cxxModuleCMakeListsPath</span> != <span class="hljs-literal">null</span> &amp;&amp;
    userConfig.<span class="hljs-property">cxxModuleHeaderName</span> != <span class="hljs-literal">null</span> &amp;&amp;
    !manifestPath &amp;&amp;
    !buildGradlePath;

  <span class="hljs-keyword">if</span> (!manifestPath &amp;&amp; !buildGradlePath &amp;&amp; !isPureCxxDependency) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">let</span> packageImportPath = <span class="hljs-literal">null</span>,
    packageInstance = <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">if</span> (!isPureCxxDependency) {
    <span class="hljs-keyword">const</span> packageName =
      userConfig.<span class="hljs-property">packageName</span> || <span class="hljs-title function_">getPackageName</span>(manifestPath, buildGradlePath);
    <span class="hljs-keyword">const</span> packageClassName = <span class="hljs-title function_">findPackageClassName</span>(sourceDir);

    <span class="hljs-comment">/**
     * This module has no package to export
     */</span>
    <span class="hljs-keyword">if</span> (!packageClassName) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    packageImportPath =
      userConfig.<span class="hljs-property">packageImportPath</span> ||
      <span class="hljs-string">`import <span class="hljs-subst">${packageName}</span>.<span class="hljs-subst">${packageClassName}</span>;`</span>;

    packageInstance = userConfig.<span class="hljs-property">packageInstance</span> || <span class="hljs-string">`new <span class="hljs-subst">${packageClassName}</span>()`</span>;
  }

  <span class="hljs-keyword">const</span> buildTypes = userConfig.<span class="hljs-property">buildTypes</span> || [];
  <span class="hljs-keyword">const</span> dependencyConfiguration = userConfig.<span class="hljs-property">dependencyConfiguration</span>;
  <span class="hljs-keyword">const</span> libraryName =
    userConfig.<span class="hljs-property">libraryName</span> || <span class="hljs-title function_">findLibraryName</span>(root, sourceDir);
  <span class="hljs-keyword">const</span> componentDescriptors =
    userConfig.<span class="hljs-property">componentDescriptors</span> || <span class="hljs-title function_">findComponentDescriptors</span>(root);
  <span class="hljs-keyword">let</span> cmakeListsPath = userConfig.<span class="hljs-property">cmakeListsPath</span>
    ? path.<span class="hljs-title function_">join</span>(sourceDir, userConfig.<span class="hljs-property">cmakeListsPath</span>)
    : path.<span class="hljs-title function_">join</span>(sourceDir, <span class="hljs-string">'build/generated/source/codegen/jni/CMakeLists.txt'</span>);
  <span class="hljs-keyword">const</span> cxxModuleCMakeListsModuleName =
    userConfig.<span class="hljs-property">cxxModuleCMakeListsModuleName</span> || <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> cxxModuleHeaderName = userConfig.<span class="hljs-property">cxxModuleHeaderName</span> || <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">let</span> cxxModuleCMakeListsPath = userConfig.<span class="hljs-property">cxxModuleCMakeListsPath</span>
    ? path.<span class="hljs-title function_">join</span>(sourceDir, userConfig.<span class="hljs-property">cxxModuleCMakeListsPath</span>)
    : <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">platform</span> === <span class="hljs-string">'win32'</span>) {
    cmakeListsPath = cmakeListsPath.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\\/g</span>, <span class="hljs-string">'/'</span>);
    <span class="hljs-keyword">if</span> (cxxModuleCMakeListsPath) {
      cxxModuleCMakeListsPath = cxxModuleCMakeListsPath.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\\/g</span>, <span class="hljs-string">'/'</span>);
    }
  }

  <span class="hljs-keyword">return</span> {
    sourceDir,
    packageImportPath,
    packageInstance,
    buildTypes,
    dependencyConfiguration,
    libraryName,
    componentDescriptors,
    cmakeListsPath,
    cxxModuleCMakeListsModuleName,
    cxxModuleCMakeListsPath,
    cxxModuleHeaderName,
    isPureCxxDependency,
  };
}
</code></pre>
<p>æ­¤<code>dependencyConfig</code>å‡½æ•°éå¸¸é‡è¦ï¼Œå®ƒä¸»è¦ç”¨äºç”Ÿæˆ<code>example/android/build/generated/autolinking/autolinking.json</code>æ–‡ä»¶ã€‚<code>autolinking.json</code>æ–‡ä»¶æˆ‘ä»¬åœ¨å‰é¢çš„TurboModuleçš„æ–‡ç« å·²ç»ä»‹ç»è¿‡äº†ï¼Œå…¶ä¸­çš„ä¿¡æ¯æ˜¯æŒ‡å¯¼ä»£ç ç”Ÿæˆçš„å…³é”®ã€‚è¿™é‡Œé‡ç‚¹å…³æ³¨<code>componentDescriptors</code>å­—æ®µçš„ç”Ÿæˆï¼Œå› ä¸ºå®ƒæ˜¯Fabricç»„ä»¶ä»£ç ç”Ÿæˆçš„èµ·å§‹ã€‚</p>
<p>ç»„ä»¶å¼€å‘è€…é€šå¸¸å¹¶ä¸ä¼šåœ¨<code>react-native.config.js</code>æ–‡ä»¶ä¸­ä¸»åŠ¨é…ç½®<code>componentDescriptors</code>å­—æ®µï¼Œä¸€èˆ¬éƒ½æ˜¯é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå°±è¦æŸ¥çœ‹ä¸€ä¸‹<code>findComponentDescriptors</code>å‡½æ•°çš„å®ç°é€»è¾‘äº†ï¼Œæºç <code>cli/packages/cli-config-android/src/config/findComponentDescriptors.ts</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">findComponentDescriptors</span>(<span class="hljs-params">packageRoot: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">let</span> jsSrcsDir = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> packageJson = fs.<span class="hljs-title function_">readFileSync</span>(
      path.<span class="hljs-title function_">join</span>(packageRoot, <span class="hljs-string">'package.json'</span>),
      <span class="hljs-string">'utf8'</span>,
    );
    jsSrcsDir = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(packageJson).<span class="hljs-property">codegenConfig</span>.<span class="hljs-property">jsSrcsDir</span>;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// no jsSrcsDir, continue with default glob pattern</span>
  }
  <span class="hljs-keyword">const</span> globPattern = jsSrcsDir
    ? <span class="hljs-string">`<span class="hljs-subst">${jsSrcsDir}</span>/**/*{.js,.jsx,.ts,.tsx}`</span>
    : <span class="hljs-string">'**/*{.js,.jsx,.ts,.tsx}'</span>;
  <span class="hljs-keyword">const</span> files = glob.<span class="hljs-title function_">sync</span>(globPattern, {
    <span class="hljs-attr">cwd</span>: <span class="hljs-title function_">unixifyPaths</span>(packageRoot),
    <span class="hljs-attr">onlyFiles</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">ignore</span>: [<span class="hljs-string">'**/node_modules/**'</span>],
  });
  <span class="hljs-keyword">const</span> codegenComponent = files
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span>
      fs.<span class="hljs-title function_">readFileSync</span>(path.<span class="hljs-title function_">join</span>(packageRoot, filePath), <span class="hljs-string">'utf8'</span>),
    )
    .<span class="hljs-title function_">map</span>(extractComponentDescriptors)
    .<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>);

  <span class="hljs-comment">// Filter out duplicates as it happens that libraries contain multiple outputs due to package publishing.</span>
  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> consider using "codegenConfig" to avoid this.</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(codegenComponent <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>[]));
}
</code></pre>
<p>è¿™é‡Œä¸»è¦é€»è¾‘å…¶å®æ˜¯ä»<code>package.json</code>ä¸­è·å–åˆ°<code>jsSrcsDir</code>é…ç½®ï¼Œä»è€Œå®šä½åˆ°æºç æ‰€åœ¨ç›®å½•ã€‚æˆ‘ä»¬å…³æ³¨çš„æ˜¯<code>codegenComponent</code>çš„ç”Ÿæˆï¼Œæ­¤å¤„æ˜¯é€šè¿‡è¯»å–æ¯ä¸ªæºæ–‡ä»¶å†…å®¹ï¼Œç„¶åè°ƒç”¨ <code>extractComponentDescriptors</code> æå–ç»„ä»¶æè¿°ç¬¦ã€‚ç»§ç»­æŸ¥çœ‹<code>cli/packages/cli-config-android/src/config/extractComponentDescriptors.ts</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CODEGEN_NATIVE_COMPONENT_REGEX</span> =
  <span class="hljs-regexp">/codegenNativeComponent(&lt;.*&gt;)?\s*\(\s*["'`](\w+)["'`](,?[\s\S]+interfaceOnly:\s*(\w+))?/m</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">extractComponentDescriptors</span>(<span class="hljs-params">contents: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> match = contents.<span class="hljs-title function_">match</span>(<span class="hljs-variable constant_">CODEGEN_NATIVE_COMPONENT_REGEX</span>);
  <span class="hljs-keyword">if</span> (!(match?.[<span class="hljs-number">4</span>] === <span class="hljs-string">'true'</span>) &amp;&amp; match?.[<span class="hljs-number">2</span>]) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${match[<span class="hljs-number">2</span>]}</span>ComponentDescriptor`</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p>åˆ°è¿™é‡Œå°±å¾ˆæ¸…æ¥šäº†ï¼Œæ‰«ææ‰€æœ‰æºç ï¼Œä½¿ç”¨æ­£åˆ™æ‰¾åˆ°æˆ‘ä»¬åœ¨å£°æ˜ç»„ä»¶ä¸€èŠ‚ä¸­æåˆ°çš„<code>export default codegenNativeComponent&lt;NativeProps&gt;('CustomviewView');</code>è¿™è¡Œä»£ç ï¼Œè¿™é‡Œçš„æ­£åˆ™å°±æ˜¯åŒ¹é…å…³é”®å­—<code>codegenNativeComponent</code>ã€‚è¿™é‡Œçš„<code>match?.[2]</code>å°±æ˜¯æå‰å‡ºç»„ä»¶åï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç¤ºä¾‹ä¸­çš„<code>CustomviewView</code>ã€‚æœ€ç»ˆè¿”å›çš„å­—ç¬¦ä¸²æ˜¯æ‹¼æ¥åçš„ï¼Œè¿™é‡Œå°±æ˜¯<code>CustomviewViewComponentDescriptor</code>ã€‚ä¹Ÿå°±æ˜¯è¯´<code>componentDescriptors</code>å­—æ®µçš„é»˜è®¤å€¼æ˜¯<code>CustomviewViewComponentDescriptor</code>ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å›é¡¾å‰æ–‡ã€ŠAndroidç«¯TurboModuleåˆ†æã€‹ï¼Œå…¶ä¸­æåˆ°ä½†ç•¥è¿‡çš„React Gradleè„šæœ¬çš„<code>configureCodegen</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">configureCodegen</span><span class="hljs-params">(
      project: <span class="hljs-type">Project</span>,
      localExtension: <span class="hljs-type">ReactExtension</span>,
      rootExtension: <span class="hljs-type">PrivateReactExtension</span>,
      isLibrary: <span class="hljs-type">Boolean</span>,
  )</span></span> {
    <span class="hljs-comment">// é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½® Codegen çš„è¾“å‡ºç›®å½•</span>
    <span class="hljs-keyword">val</span> generatedSrcDir: Provider&lt;Directory&gt; =
        project.layout.buildDirectory.dir(<span class="hljs-string">"generated/source/codegen"</span>)

    <span class="hljs-comment">// æˆ‘ä»¬ä¸º jsRootDirï¼ˆJSæ ¹ç›®å½•ï¼‰æŒ‡å®šé»˜è®¤å€¼ï¼ˆçº¦å®šï¼‰ã€‚</span>
    <span class="hljs-comment">// å¯¹äº App æ¥è¯´æ˜¯æ ¹æ–‡ä»¶å¤¹ï¼ˆå³ Gradle é¡¹ç›®çš„ ../../ï¼‰</span>
    <span class="hljs-comment">// å¯¹äº Library æ¥è¯´æ˜¯åŒ…æ–‡ä»¶å¤¹ï¼ˆå³ Gradle é¡¹ç›®çš„ ../ï¼‰</span>
    <span class="hljs-keyword">if</span> (isLibrary) {
      localExtension.jsRootDir.convention(project.layout.projectDirectory.dir(<span class="hljs-string">"../"</span>))
    } <span class="hljs-keyword">else</span> {
      localExtension.jsRootDir.convention(localExtension.root)
    }

    <span class="hljs-comment">// æˆ‘ä»¬åˆ›å»ºä»»åŠ¡ä»¥ä» JS æ–‡ä»¶ç”Ÿæˆ Schema</span>
    <span class="hljs-keyword">val</span> generateCodegenSchemaTask =
        project.tasks.register(
            <span class="hljs-string">"generateCodegenSchemaFromJavaScript"</span>,
            GenerateCodegenSchemaTask::<span class="hljs-keyword">class</span>.java,
        ) { it -&gt;
          it.nodeExecutableAndArgs.<span class="hljs-keyword">set</span>(rootExtension.nodeExecutableAndArgs)
          it.codegenDir.<span class="hljs-keyword">set</span>(rootExtension.codegenDir)
          it.generatedSrcDir.<span class="hljs-keyword">set</span>(generatedSrcDir)
          it.nodeWorkingDir.<span class="hljs-keyword">set</span>(project.layout.projectDirectory.asFile.absolutePath)

          <span class="hljs-comment">// æˆ‘ä»¬åœ¨é…ç½®é˜¶æ®µè¯»å– package.jsonï¼Œä»¥ä¾¿æ­£ç¡®åœ°å¡«å……æ­¤ä»»åŠ¡çš„ `jsRootDir` @Input å±æ€§</span>
          <span class="hljs-comment">// ä»¥åŠ onlyIf æ¡ä»¶ã€‚å› æ­¤ï¼ŒparsePackageJson åº”è¯¥åœ¨è¿™ä¸ª lambda è¡¨è¾¾å¼å†…éƒ¨è¢«è°ƒç”¨ã€‚</span>
          <span class="hljs-keyword">val</span> packageJson = findPackageJsonFile(project, rootExtension.root)
          <span class="hljs-keyword">val</span> parsedPackageJson = packageJson?.let { JsonUtils.fromPackageJson(it) }

          <span class="hljs-keyword">val</span> jsSrcsDirInPackageJson = parsedPackageJson?.codegenConfig?.jsSrcsDir
          <span class="hljs-keyword">val</span> includesGeneratedCode =
              parsedPackageJson?.codegenConfig?.includesGeneratedCode ?: <span class="hljs-literal">false</span>
          <span class="hljs-keyword">if</span> (jsSrcsDirInPackageJson != <span class="hljs-literal">null</span>) {
            it.jsRootDir.<span class="hljs-keyword">set</span>(File(packageJson.parentFile, jsSrcsDirInPackageJson))
          } <span class="hljs-keyword">else</span> {
            it.jsRootDir.<span class="hljs-keyword">set</span>(localExtension.jsRootDir)
          }
          it.jsInputFiles.<span class="hljs-keyword">set</span>(
              project.fileTree(it.jsRootDir) { tree -&gt;
                tree.include(<span class="hljs-string">"**/*.js"</span>)
                tree.include(<span class="hljs-string">"**/*.jsx"</span>)
                tree.include(<span class="hljs-string">"**/*.ts"</span>)
                tree.include(<span class="hljs-string">"**/*.tsx"</span>)

                tree.exclude(<span class="hljs-string">"node_modules/**/*"</span>)
                tree.exclude(<span class="hljs-string">"**/*.d.ts"</span>)
                <span class="hljs-comment">// æˆ‘ä»¬å¸Œæœ›æ’é™¤ build ç›®å½•ï¼Œä»¥é¿å…åœ¨æ‰§è¡Œè§„é¿æ£€æŸ¥æ—¶é€‰ä¸­å®ƒä»¬</span>
                tree.exclude(<span class="hljs-string">"**/build/**/*"</span>)
              }
          )

          <span class="hljs-keyword">val</span> needsCodegenFromPackageJson = project.needsCodegenFromPackageJson(rootExtension.root)
          it.onlyIf { (isLibrary || needsCodegenFromPackageJson) &amp;&amp; !includesGeneratedCode }
        }

    <span class="hljs-comment">// æˆ‘ä»¬åˆ›å»ºä»»åŠ¡ä»¥ä» Schema ç”Ÿæˆ Java ä»£ç </span>
    <span class="hljs-keyword">val</span> generateCodegenArtifactsTask =
        project.tasks.register(
            <span class="hljs-string">"generateCodegenArtifactsFromSchema"</span>,
            GenerateCodegenArtifactsTask::<span class="hljs-keyword">class</span>.java,
        ) { task -&gt;
          task.dependsOn(generateCodegenSchemaTask)
          task.reactNativeDir.<span class="hljs-keyword">set</span>(rootExtension.reactNativeDir)
          task.nodeExecutableAndArgs.<span class="hljs-keyword">set</span>(rootExtension.nodeExecutableAndArgs)
          task.generatedSrcDir.<span class="hljs-keyword">set</span>(generatedSrcDir)
          task.packageJsonFile.<span class="hljs-keyword">set</span>(findPackageJsonFile(project, rootExtension.root))
          task.codegenJavaPackageName.<span class="hljs-keyword">set</span>(localExtension.codegenJavaPackageName)
          task.libraryName.<span class="hljs-keyword">set</span>(localExtension.libraryName)
          task.nodeWorkingDir.<span class="hljs-keyword">set</span>(project.layout.projectDirectory.asFile.absolutePath)

          <span class="hljs-comment">// è¯·æ³¨æ„ï¼ŒappNeedsCodegen ä¼šè§¦å‘åœ¨é…ç½®é˜¶æ®µè¯»å– package.jsonï¼Œ</span>
          <span class="hljs-comment">// å› ä¸ºæˆ‘ä»¬éœ€è¦å¡«å……æ­¤ä»»åŠ¡çš„ onlyIf æ¡ä»¶ã€‚</span>
          <span class="hljs-comment">// å› æ­¤ï¼ŒappNeedsCodegen éœ€è¦åœ¨è¿™ä¸ª lambda è¡¨è¾¾å¼å†…éƒ¨è¢«è°ƒç”¨</span>
          <span class="hljs-keyword">val</span> needsCodegenFromPackageJson = project.needsCodegenFromPackageJson(rootExtension.root)
          <span class="hljs-keyword">val</span> packageJson = findPackageJsonFile(project, rootExtension.root)
          <span class="hljs-keyword">val</span> parsedPackageJson = packageJson?.let { JsonUtils.fromPackageJson(it) }
          <span class="hljs-keyword">val</span> includesGeneratedCode =
              parsedPackageJson?.codegenConfig?.includesGeneratedCode ?: <span class="hljs-literal">false</span>
          task.onlyIf { (isLibrary || needsCodegenFromPackageJson) &amp;&amp; !includesGeneratedCode }
        }

    <span class="hljs-comment">// æˆ‘ä»¬æ›´æ–° Android é…ç½®ä»¥åŒ…å«ç”Ÿæˆçš„æºç </span>
    <span class="hljs-comment">// è¿™ç›¸å½“äºä»¥ä¸‹çš„ DSLï¼š</span>
    <span class="hljs-comment">//</span>
    <span class="hljs-comment">// android { sourceSets { main { java { srcDirs += "$generatedSrcDir/java" } } } }</span>
    <span class="hljs-keyword">if</span> (isLibrary) {
      project.extensions.getByType(LibraryAndroidComponentsExtension::<span class="hljs-keyword">class</span>.java).finalizeDsl { ext
        -&gt;
        ext.sourceSets.getByName(<span class="hljs-string">"main"</span>).java.srcDir(generatedSrcDir.<span class="hljs-keyword">get</span>().dir(<span class="hljs-string">"java"</span>).asFile)
      }
    } <span class="hljs-keyword">else</span> {
      project.extensions.getByType(ApplicationAndroidComponentsExtension::<span class="hljs-keyword">class</span>.java).finalizeDsl {
          ext -&gt;
        ext.sourceSets.getByName(<span class="hljs-string">"main"</span>).java.srcDir(generatedSrcDir.<span class="hljs-keyword">get</span>().dir(<span class="hljs-string">"java"</span>).asFile)
      }
    }

    <span class="hljs-comment">// `preBuild` æ˜¯ AGP è‡ªåŠ¨æ³¨å†Œçš„åŸºç¡€ä»»åŠ¡ä¹‹ä¸€</span>
    <span class="hljs-comment">// è¿™å°†åœ¨ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ä¹‹å‰è°ƒç”¨ Codegen</span>
    project.tasks.named(<span class="hljs-string">"preBuild"</span>, Task::<span class="hljs-keyword">class</span>.java).dependsOn(generateCodegenArtifactsTask)
  }
</code></pre>
<p><code>configureCodegen</code> æ˜¯ React Native Gradle æ’ä»¶çš„æ ¸å¿ƒæ–¹æ³•ï¼Œè´Ÿè´£é…ç½® <strong>Fabric/TurboModule æ–°æ¶æ„çš„ä»£ç ç”Ÿæˆï¼ˆCodegenï¼‰æµç¨‹</strong>ã€‚è¯¥æ–¹æ³•åœ¨ Gradle é…ç½®é˜¶æ®µæ‰§è¡Œï¼Œè®¾ç½®ä¸¤ä¸ªå…³é”®ä»»åŠ¡å’Œ Android æºç é›†é›†æˆã€‚</p>
<p>å…¶æµç¨‹å¯ä»¥åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li>
<p>è®¾ç½®è¾“å‡ºç›®å½•å’ŒÂ JS æ ¹ç›®å½•</p>
</li>
<li>
<p>åˆ›å»º Schema ç”Ÿæˆä»»åŠ¡</p>
</li>
<li>
<p>åˆ›å»ºä»£ç ç”Ÿæˆä»»åŠ¡</p>
</li>
<li>
<p>é›†æˆåˆ° Android æ„å»ºç³»ç»Ÿ</p>
</li>
<li>
<p>æŒ‚è½½åˆ°æ„å»ºç”Ÿå‘½å‘¨æœŸ</p>
</li>
</ol>
<p>è¿™é‡Œæ¦‚æ‹¬ä¸€ä¸‹æ•´ä¸ªæµç¨‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">1. Gradle é…ç½®é˜¶æ®µ
   â”œâ”€&gt; è®¾ç½® generatedSrcDir = <span class="hljs-string">"build/generated/source/codegen"</span>
   â”œâ”€&gt; è®¾ç½® jsRootDir é»˜è®¤å€¼ï¼ˆLibrary: <span class="hljs-string">"../"</span>, App: rootï¼‰
   â”œâ”€&gt; è¯»å– package.jsonï¼ˆé…ç½®é˜¶æ®µï¼‰
   â”‚   â”œâ”€&gt; æ£€æŸ¥ codegenConfig.jsSrcsDir
   â”‚   â””â”€&gt; æ£€æŸ¥ codegenConfig.includesGeneratedCode
   â”œâ”€&gt; æ³¨å†Œ generateCodegenSchemaTask
   â”‚   â”œâ”€&gt; é…ç½® Node.js ç¯å¢ƒ
   â”‚   â”œâ”€&gt; è®¾ç½® JS è¾“å…¥æ–‡ä»¶ï¼ˆ**/*.{js,jsx,ts,tsx}ï¼‰
   â”‚   â””â”€&gt; è®¾ç½® onlyIf æ¡ä»¶
   â”œâ”€&gt; æ³¨å†Œ generateCodegenArtifactsTask
   â”‚   â”œâ”€&gt; ä¾èµ– generateCodegenSchemaTask
   â”‚   â””â”€&gt; è®¾ç½® onlyIf æ¡ä»¶
   â”œâ”€&gt; é…ç½® Android SourceSets
   â”‚   â””â”€&gt; æ·»åŠ  generatedSrcDir/java åˆ° main SourceSet
   â””â”€&gt; å»ºç«‹ preBuild ä¾èµ–å…³ç³»

2. Gradle æ‰§è¡Œé˜¶æ®µï¼ˆè¿è¡Œ ./gradlew buildï¼‰
   â”œâ”€&gt; preBuild ä»»åŠ¡æ‰§è¡Œ
   â”‚   â””â”€&gt; generateCodegenArtifactsTask æ‰§è¡Œ
   â”‚         â”œâ”€&gt; generateCodegenSchemaTask æ‰§è¡Œ
   â”‚         â”‚     â”œâ”€&gt; æ‰«æ JS/TS æ–‡ä»¶
   â”‚         â”‚     â””â”€&gt; ç”Ÿæˆ schema.json
   â”‚         â””â”€&gt; æ ¹æ® schema.json ç”Ÿæˆ Java/C++ ä»£ç 
   â””â”€&gt; compileJava ç¼–è¯‘ç”Ÿæˆçš„ä»£ç 
</code></pre>
<p>è¿™é‡Œçš„ä¸¤ä¸ªå…³é”®ä»»åŠ¡åˆ†åˆ«æ˜¯<strong>generateCodegenSchemaFromJavaScript</strong>å’Œ<strong>generateCodegenArtifactsFromSchema</strong>ã€‚å‰è€…ä» JS/TS ç”Ÿæˆ Schema JSONæ–‡ä»¶ï¼Œåè€…ä» Schema ç”Ÿæˆ Java/C++ ä»£ç ã€‚</p>
<p>Schema JSONä¸»è¦æ˜¯JS/TSçš„æ¥å£æè¿°ï¼Œç”Ÿæˆè·¯å¾„æ˜¯<code>Your Project/node_modules/Third-party Lib/android/build/generated/source/codegen/schema.json</code>ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ï¼Œè¿™é‡Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨<code>generateCodegenArtifactsFromSchema</code>ï¼Œæºç <code>react-native/packages/gradle-plugin/react-native-gradle-plugin/src/main/kotlin/com/facebook/react/tasks/GenerateCodegenArtifactsTask.kt</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerateCodegenArtifactsTask</span> : <span class="hljs-type">Exec</span>() {
  <span class="hljs-meta">@get:Internal</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">val</span> reactNativeDir: DirectoryProperty
  <span class="hljs-meta">@get:Internal</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">val</span> generatedSrcDir: DirectoryProperty
  <span class="hljs-meta">@get:InputFile</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">val</span> packageJsonFile: RegularFileProperty   <span class="hljs-comment">// package.json æ–‡ä»¶è·¯å¾„</span>
  <span class="hljs-meta">@get:Input</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">val</span> nodeWorkingDir: Property&lt;String&gt;
  <span class="hljs-meta">@get:Input</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">val</span> nodeExecutableAndArgs: ListProperty&lt;String&gt;
  <span class="hljs-meta">@get:Input</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">val</span> codegenJavaPackageName: Property&lt;String&gt;
  <span class="hljs-meta">@get:Input</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">val</span> libraryName: Property&lt;String&gt;

  <span class="hljs-meta">@get:InputFile</span>
  <span class="hljs-keyword">val</span> generatedSchemaFile: Provider&lt;RegularFile&gt; = generatedSrcDir.file(<span class="hljs-string">"schema.json"</span>)

  <span class="hljs-meta">@get:OutputDirectory</span> <span class="hljs-keyword">val</span> generatedJavaFiles: Provider&lt;Directory&gt; = generatedSrcDir.dir(<span class="hljs-string">"java"</span>)
  <span class="hljs-meta">@get:OutputDirectory</span> <span class="hljs-keyword">val</span> generatedJniFiles: Provider&lt;Directory&gt; = generatedSrcDir.dir(<span class="hljs-string">"jni"</span>)

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">exec</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> (resolvedLibraryName, resolvedCodegenJavaPackageName) = resolveTaskParameters()
    setupCommandLine(resolvedLibraryName, resolvedCodegenJavaPackageName)
    <span class="hljs-keyword">super</span>.exec()
  }

  <span class="hljs-keyword">internal</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">resolveTaskParameters</span><span class="hljs-params">()</span></span>: Pair&lt;String, String&gt; {
    <span class="hljs-keyword">val</span> parsedPackageJson =
        <span class="hljs-keyword">if</span> (packageJsonFile.isPresent &amp;&amp; packageJsonFile.<span class="hljs-keyword">get</span>().asFile.exists()) {
          JsonUtils.fromPackageJson(packageJsonFile.<span class="hljs-keyword">get</span>().asFile)
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-literal">null</span>
        }
    <span class="hljs-keyword">val</span> resolvedLibraryName = parsedPackageJson?.codegenConfig?.name ?: libraryName.<span class="hljs-keyword">get</span>()
    <span class="hljs-keyword">val</span> resolvedCodegenJavaPackageName =
        parsedPackageJson?.codegenConfig?.android?.javaPackageName ?: codegenJavaPackageName.<span class="hljs-keyword">get</span>()
    <span class="hljs-keyword">return</span> resolvedLibraryName to resolvedCodegenJavaPackageName
  }

  <span class="hljs-keyword">internal</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setupCommandLine</span><span class="hljs-params">(libraryName: <span class="hljs-type">String</span>, codegenJavaPackageName: <span class="hljs-type">String</span>)</span></span> {
    <span class="hljs-keyword">val</span> workingDir = File(nodeWorkingDir.<span class="hljs-keyword">get</span>())
    commandLine(
        windowsAwareCommandLine(
            *nodeExecutableAndArgs.<span class="hljs-keyword">get</span>().toTypedArray(),
            reactNativeDir.file(<span class="hljs-string">"scripts/generate-specs-cli.js"</span>).<span class="hljs-keyword">get</span>().asFile.cliPath(workingDir),
            <span class="hljs-string">"--platform"</span>,
            <span class="hljs-string">"android"</span>,
            <span class="hljs-string">"--schemaPath"</span>,
            generatedSchemaFile.<span class="hljs-keyword">get</span>().asFile.cliPath(workingDir),
            <span class="hljs-string">"--outputDir"</span>,
            generatedSrcDir.<span class="hljs-keyword">get</span>().asFile.cliPath(workingDir),
            <span class="hljs-string">"--libraryName"</span>,
            libraryName,
            <span class="hljs-string">"--javaPackageName"</span>,
            codegenJavaPackageName,
        )
    )
  }
}
</code></pre>
<p>è¯¥ç±»ä¸»è¦ç”¨äºæ‰§è¡Œå¤–éƒ¨ Node.js å‘½ä»¤ï¼Œä¾æ® <code>schema.json</code>æ–‡ä»¶ï¼Œç”Ÿæˆ Java/JNI ä»£ç ã€‚éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œè¿™é‡Œ<code>libraryName</code>å’Œ<code>codegenJavaPackageName</code>çš„å–å€¼ï¼Œä»£ç ä¸­æ˜¯é€šè¿‡<code>resolveTaskParameters</code>æ–¹æ³•æå–å‡ºæ¥çš„ã€‚å›é¡¾ä¸€ä¸‹package.jsonæ–‡ä»¶çš„é…ç½®ï¼Œå¤§æ¦‚æ˜¯ä»¥ä¸‹ç»“æ„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"codegenConfig"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MyLibrary"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"android"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"javaPackageName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.example.mylibrary"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>é‚£ä¹ˆ<code>libraryName</code>å°±æ˜¯<code>"MyLibrary"</code>ï¼Œ<code>codegenJavaPackageName</code>å°±æ˜¯<code>"com.example.mylibrary"</code>ã€‚</p>
<p>ç°åœ¨å†è¿˜åŸä¸€ä¸‹å‘½ä»¤ï¼Œå…¶å®å°±æ˜¯ä»¥ä¸‹å½¢å¼ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">node &lt;reactNativeDir&gt;/scripts/generate-specs-cli.js \
  --platform android \
  --schemaPath &lt;generatedSrcDir&gt;/schema.json \
  --outputDir &lt;generatedSrcDir&gt; \
  --libraryName &lt;resolvedLibraryName&gt; \
  --javaPackageName &lt;resolvedCodegenJavaPackageName&gt;
</code></pre>
<p>æˆ‘ä»¬å®šä½åˆ°è¯¥jsæ–‡ä»¶<code>react-native/packages/react-native/scripts/generate-specs-cli.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> executor = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./codegen/generate-specs-cli-executor'</span>);
<span class="hljs-comment">// çœç•¥......</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  executor.<span class="hljs-title function_">execute</span>(
    <span class="hljs-comment">// $FlowFixMe[prop-missing]</span>
    argv.<span class="hljs-property">platform</span>,
    <span class="hljs-comment">// $FlowFixMe[prop-missing]</span>
    argv.<span class="hljs-property">schemaPath</span>,
    <span class="hljs-comment">// $FlowFixMe[prop-missing]</span>
    argv.<span class="hljs-property">outputDir</span>,
    <span class="hljs-comment">// $FlowFixMe[prop-missing]</span>
    argv.<span class="hljs-property">libraryName</span>,
    <span class="hljs-comment">// $FlowFixMe[prop-missing]</span>
    argv.<span class="hljs-property">javaPackageName</span>,
    <span class="hljs-comment">// $FlowFixMe[prop-missing]</span>
    argv.<span class="hljs-property">libraryType</span>,
  );
}

<span class="hljs-title function_">main</span>();
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>react-native/packages/react-native/scripts/codegen/generate-specs-cli-executor.js</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> utils = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./codegen-utils'</span>);

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">GENERATORS</span> <span class="hljs-comment">/*: {[string]: {[string]: $ReadOnlyArray&lt;string&gt;}} */</span> = {
  <span class="hljs-attr">all</span>: {
    <span class="hljs-attr">android</span>: [<span class="hljs-string">'componentsAndroid'</span>, <span class="hljs-string">'modulesAndroid'</span>, <span class="hljs-string">'modulesCxx'</span>],
    <span class="hljs-attr">ios</span>: [<span class="hljs-string">'componentsIOS'</span>, <span class="hljs-string">'modulesIOS'</span>, <span class="hljs-string">'modulesCxx'</span>],
  },
  <span class="hljs-attr">components</span>: {
    <span class="hljs-attr">android</span>: [<span class="hljs-string">'componentsAndroid'</span>],
    <span class="hljs-attr">ios</span>: [<span class="hljs-string">'componentsIOS'</span>],
  },
  <span class="hljs-attr">modules</span>: {
    <span class="hljs-attr">android</span>: [<span class="hljs-string">'modulesAndroid'</span>, <span class="hljs-string">'modulesCxx'</span>],
    <span class="hljs-attr">ios</span>: [<span class="hljs-string">'modulesIOS'</span>, <span class="hljs-string">'modulesCxx'</span>],
  },
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">generateSpecFromInMemorySchema</span>(<span class="hljs-params">
  platform <span class="hljs-comment">/*: string */</span>,
  schema <span class="hljs-comment">/*: string */</span>,
  outputDirectory <span class="hljs-comment">/*: string */</span>,
  libraryName <span class="hljs-comment">/*: string */</span>,
  packageName <span class="hljs-comment">/*: string */</span>,
  libraryType <span class="hljs-comment">/*: string */</span>,
  useLocalIncludePaths <span class="hljs-comment">/*: boolean */</span>,
</span>) {
  <span class="hljs-title function_">validateLibraryType</span>(libraryType);
  <span class="hljs-title function_">createOutputDirectoryIfNeeded</span>(outputDirectory, libraryName);
  <span class="hljs-keyword">const</span> includeGetDebugPropsImplementation =
    libraryName.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'FBReactNativeSpec'</span>); <span class="hljs-comment">//only generate getDebugString for React Native Core Components</span>
  utils.<span class="hljs-title function_">getCodegen</span>().<span class="hljs-title function_">generate</span>(
    {
      libraryName,
      schema,
      outputDirectory,
      packageName,
      <span class="hljs-attr">assumeNonnull</span>: platform === <span class="hljs-string">'ios'</span>,
      useLocalIncludePaths,
      includeGetDebugPropsImplementation,
    },
    {
      <span class="hljs-attr">generators</span>: <span class="hljs-variable constant_">GENERATORS</span>[libraryType][platform],
    },
  );

  <span class="hljs-keyword">if</span> (platform === <span class="hljs-string">'android'</span>) {
    <span class="hljs-comment">// Move all components C++ files to a structured jni folder for now.</span>
    <span class="hljs-comment">// Note: this should've been done by RNCodegen's generators, but:</span>
    <span class="hljs-comment">// * the generators don't support platform option yet</span>
    <span class="hljs-comment">// * this subdir structure is Android-only, not applicable to iOS</span>
    <span class="hljs-keyword">const</span> files = fs.<span class="hljs-title function_">readdirSync</span>(outputDirectory);
    <span class="hljs-keyword">const</span> jniOutputDirectory = <span class="hljs-string">`<span class="hljs-subst">${outputDirectory}</span>/jni/react/renderer/components/<span class="hljs-subst">${libraryName}</span>`</span>;
    fs.<span class="hljs-title function_">mkdirSync</span>(jniOutputDirectory, {<span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span>});
    files
      .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> f.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.h'</span>) || f.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.cpp'</span>))
      .<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> {
        fs.<span class="hljs-title function_">renameSync</span>(<span class="hljs-string">`<span class="hljs-subst">${outputDirectory}</span>/<span class="hljs-subst">${f}</span>`</span>, <span class="hljs-string">`<span class="hljs-subst">${jniOutputDirectory}</span>/<span class="hljs-subst">${f}</span>`</span>);
      });
  }
}
</code></pre>
<p>è¿™é‡Œæ ¸å¿ƒæ˜¯è°ƒç”¨<code>utils.getCodegen().generate</code>æ¥æ‰§è¡Œä»£ç ç”Ÿæˆé€»è¾‘ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªä¼ å‚éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œ<code>generators: GENERATORS[libraryType][platform],</code>æˆ‘ä»¬è§‚å¯Ÿ<strong>GENERATORS</strong>çš„å®šä¹‰å°±ä¼šå‘ç°ï¼Œè¿™é‡Œçš„å‚æ•°é…ç½®æ­£å¥½å¯¹åº”package.jsonä¸­çš„codegené…ç½®ï¼Œç”±äºæˆ‘ä»¬ç°åœ¨ç ”ç©¶çš„æ˜¯Fabricç»„ä»¶æ³¨å†Œï¼Œé‚£ä¹ˆè¿™é‡Œçš„å‚æ•°åº”è¯¥æ˜¯<code>componentsAndroid</code>ã€‚</p>
<p>ç»§ç»­æŸ¥æ‰¾<code>generate</code>æ–¹æ³•çš„å®ç°ï¼Œæºç <code>react-native/packages/react-native/scripts/codegen/codegen-utils.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
* ç”¨äºæŠ½è±¡å®é™…ä»£ç ç”Ÿæˆè¿‡ç¨‹çš„åŒ…è£…å™¨ã€‚ 
* ä¹‹æ‰€ä»¥éœ€è¦è¿™ä¸ªåŒ…è£…å™¨ï¼Œæ˜¯å› ä¸ºåœ¨ Sandcastle ä¸­è¿è¡Œæµ‹è¯•æ—¶ï¼Œå¹¶éæ‰€æœ‰ç¯å¢ƒéƒ½åƒé€šå¸¸é‚£æ ·è®¾ç½®ã€‚ 
* ä¾‹å¦‚ï¼Œ`<span class="hljs-doctag">@react</span>-native/codegen` åº“å°±ä¸å­˜åœ¨ã€‚ 
*
* å€ŸåŠ©è¿™ä¸ªåŒ…è£…å™¨ï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿä»£ç ç”Ÿæˆå™¨çš„ getter æ–¹æ³•ï¼Œä½¿å…¶è¿”å›ä¸€ä¸ªè‡ªå®šä¹‰å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ¨¡æ‹Ÿäº† Codegen æ¥å£ã€‚ 
*
* <span class="hljs-doctag">@return</span> ä¸€ä¸ªå¯ä»¥ä¸ºæ–°æ¶æ„ç”Ÿæˆä»£ç çš„å¯¹è±¡ã€‚ 
*/</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getCodegen</span>(<span class="hljs-params"/>) <span class="hljs-comment">/*: $FlowFixMe */</span> {
  <span class="hljs-keyword">let</span> <span class="hljs-title class_">RNCodegen</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// $FlowFixMe[cannot-resolve-module]</span>
    <span class="hljs-title class_">RNCodegen</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../../packages/react-native-codegen/lib/generators/RNCodegen.js'</span>);
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-comment">// $FlowFixMe[cannot-resolve-module]</span>
    <span class="hljs-title class_">RNCodegen</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@react-native/codegen/lib/generators/RNCodegen.js'</span>);
  }
  <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">RNCodegen</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'RNCodegen not found.'</span>);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">RNCodegen</span>;
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>react-native/packages/react-native-codegen/lib/generators/RNCodegen.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">LIBRARY_GENERATORS</span> = {
  <span class="hljs-attr">descriptors</span>: [
    generateComponentDescriptorCpp.<span class="hljs-property">generate</span>,
    generateComponentDescriptorH.<span class="hljs-property">generate</span>,
  ],
  <span class="hljs-attr">events</span>: [generateEventEmitterCpp.<span class="hljs-property">generate</span>, generateEventEmitterH.<span class="hljs-property">generate</span>],
  <span class="hljs-attr">states</span>: [generateStateCpp.<span class="hljs-property">generate</span>, generateStateH.<span class="hljs-property">generate</span>],
  <span class="hljs-attr">props</span>: [
    generateComponentHObjCpp.<span class="hljs-property">generate</span>,
    generatePropsCpp.<span class="hljs-property">generate</span>,
    generatePropsH.<span class="hljs-property">generate</span>,
    generatePropsJavaInterface.<span class="hljs-property">generate</span>,
    generatePropsJavaDelegate.<span class="hljs-property">generate</span>,
  ],
  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Refactor this to consolidate various C++ output variation instead of forking per platform.</span>
  <span class="hljs-attr">componentsAndroid</span>: [
    <span class="hljs-comment">// JNI/C++ files</span>
    generateComponentDescriptorH.<span class="hljs-property">generate</span>,
    generateComponentDescriptorCpp.<span class="hljs-property">generate</span>,
    generateEventEmitterCpp.<span class="hljs-property">generate</span>,
    generateEventEmitterH.<span class="hljs-property">generate</span>,
    generatePropsCpp.<span class="hljs-property">generate</span>,
    generatePropsH.<span class="hljs-property">generate</span>,
    generateStateCpp.<span class="hljs-property">generate</span>,
    generateStateH.<span class="hljs-property">generate</span>,
    generateShadowNodeCpp.<span class="hljs-property">generate</span>,
    generateShadowNodeH.<span class="hljs-property">generate</span>,
    <span class="hljs-comment">// Java files</span>
    generatePropsJavaInterface.<span class="hljs-property">generate</span>,
    generatePropsJavaDelegate.<span class="hljs-property">generate</span>,
  ],
  <span class="hljs-attr">componentsIOS</span>: [
    generateComponentDescriptorH.<span class="hljs-property">generate</span>,
    generateComponentDescriptorCpp.<span class="hljs-property">generate</span>,
    generateEventEmitterCpp.<span class="hljs-property">generate</span>,
    generateEventEmitterH.<span class="hljs-property">generate</span>,
    generateComponentHObjCpp.<span class="hljs-property">generate</span>,
    generatePropsCpp.<span class="hljs-property">generate</span>,
    generatePropsH.<span class="hljs-property">generate</span>,
    generateStateCpp.<span class="hljs-property">generate</span>,
    generateStateH.<span class="hljs-property">generate</span>,
    generateShadowNodeCpp.<span class="hljs-property">generate</span>,
    generateShadowNodeH.<span class="hljs-property">generate</span>,
  ],
  <span class="hljs-attr">modulesAndroid</span>: [
    generateModuleJniCpp.<span class="hljs-property">generate</span>,
    generateModuleJniH.<span class="hljs-property">generate</span>,
    generateModuleJavaSpec.<span class="hljs-property">generate</span>,
  ],
  <span class="hljs-attr">modulesCxx</span>: [generateModuleH.<span class="hljs-property">generate</span>],
  <span class="hljs-attr">modulesIOS</span>: [generateModuleObjCpp.<span class="hljs-property">generate</span>],
  <span class="hljs-attr">tests</span>: [generateTests.<span class="hljs-property">generate</span>],
  <span class="hljs-string">'shadow-nodes'</span>: [
    generateShadowNodeCpp.<span class="hljs-property">generate</span>,
    generateShadowNodeH.<span class="hljs-property">generate</span>,
  ],
};


<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">allGenerators</span>: <span class="hljs-variable constant_">ALL_GENERATORS</span>,
  <span class="hljs-title function_">generate</span>(<span class="hljs-params">
    {
      libraryName,
      schema,
      outputDirectory,
      packageName,
      assumeNonnull,
      useLocalIncludePaths,
      includeGetDebugPropsImplementation = <span class="hljs-literal">false</span>,
      libraryGenerators = LIBRARY_GENERATORS,
    },
    {generators, test},
  </span>) {
    schemaValidator.<span class="hljs-title function_">validate</span>(schema);
    <span class="hljs-keyword">const</span> defaultHeaderPrefix = <span class="hljs-string">'react/renderer/components'</span>;
    <span class="hljs-keyword">const</span> headerPrefix =
      useLocalIncludePaths === <span class="hljs-literal">true</span>
        ? <span class="hljs-string">''</span>
        : <span class="hljs-string">`<span class="hljs-subst">${defaultHeaderPrefix}</span>/<span class="hljs-subst">${libraryName}</span>/`</span>;
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">composePath</span>(<span class="hljs-params">intermediate</span>) {
      <span class="hljs-keyword">return</span> path.<span class="hljs-title function_">join</span>(outputDirectory, intermediate, libraryName);
    }
    <span class="hljs-keyword">const</span> componentIOSOutput = <span class="hljs-title function_">composePath</span>(
      useLocalIncludePaths === <span class="hljs-literal">true</span> ? <span class="hljs-string">''</span> : defaultHeaderPrefix,
    );
    <span class="hljs-keyword">const</span> modulesIOSOutput = <span class="hljs-title function_">composePath</span>(<span class="hljs-string">'./'</span>);
    <span class="hljs-keyword">const</span> outputFoldersForGenerators = {
      <span class="hljs-attr">componentsIOS</span>: componentIOSOutput,
      <span class="hljs-attr">modulesIOS</span>: modulesIOSOutput,
      <span class="hljs-attr">descriptors</span>: outputDirectory,
      <span class="hljs-attr">events</span>: outputDirectory,
      <span class="hljs-attr">props</span>: outputDirectory,
      <span class="hljs-attr">states</span>: outputDirectory,
      <span class="hljs-attr">componentsAndroid</span>: outputDirectory,
      <span class="hljs-attr">modulesAndroid</span>: outputDirectory,
      <span class="hljs-attr">modulesCxx</span>: outputDirectory,
      <span class="hljs-attr">tests</span>: outputDirectory,
      <span class="hljs-string">'shadow-nodes'</span>: outputDirectory,
    };
    <span class="hljs-keyword">const</span> generatedFiles = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> name <span class="hljs-keyword">of</span> generators) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> generator <span class="hljs-keyword">of</span> libraryGenerators[name]) {
        <span class="hljs-title function_">generator</span>(
          libraryName,
          schema,
          packageName,
          assumeNonnull,
          headerPrefix,
          includeGetDebugPropsImplementation,
        ).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">contents, fileName</span>) =&gt;</span> {
          generatedFiles.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">name</span>: fileName,
            <span class="hljs-attr">content</span>: contents,
            <span class="hljs-attr">outputDir</span>: outputFoldersForGenerators[name],
          });
        });
      }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">checkOrWriteFiles</span>(generatedFiles, test);
  },
  <span class="hljs-comment">// çœç•¥......</span>
};
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œ<code>for (const name of generators)</code>éå†çš„<strong>generators</strong>å°±æ˜¯æˆ‘ä»¬å‰é¢å¼ºè°ƒè¿‡çš„<strong>GENERATORS</strong>å‚æ•°å¤„ç†ã€‚é‚£ä¹ˆæ­¤æ—¶<code>name</code>çš„å€¼å°±æ˜¯<code>componentsAndroid</code>ã€‚</p>
<p>æ—¢ç„¶ç¡®å®šäº†å‚æ•°ï¼Œé‚£ä¹ˆä»<code>libraryGenerators</code>ä¸­éå†å‡ºæ¥çš„<code>generator</code>å°±æ˜¯ä»¥ä¸‹è¿™äº›ç”Ÿæˆå™¨ï¼š</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-attr">componentsAndroid</span>: [
    <span class="hljs-comment">// JNI/C++ files</span>
    generateComponentDescriptorH.<span class="hljs-property">generate</span>,
    generateComponentDescriptorCpp.<span class="hljs-property">generate</span>,
    generateEventEmitterCpp.<span class="hljs-property">generate</span>,
    generateEventEmitterH.<span class="hljs-property">generate</span>,
    generatePropsCpp.<span class="hljs-property">generate</span>,
    generatePropsH.<span class="hljs-property">generate</span>,
    generateStateCpp.<span class="hljs-property">generate</span>,
    generateStateH.<span class="hljs-property">generate</span>,
    generateShadowNodeCpp.<span class="hljs-property">generate</span>,
    generateShadowNodeH.<span class="hljs-property">generate</span>,
    <span class="hljs-comment">// Java files</span>
    generatePropsJavaInterface.<span class="hljs-property">generate</span>,
    generatePropsJavaDelegate.<span class="hljs-property">generate</span>,
  ],
</code></pre>
<p>è¿™é‡Œå…ˆç ”ç©¶ä¸€ä¸‹<code>generateComponentDescriptorH.generate</code>å’Œ<code>generateComponentDescriptorCpp.generate</code>ã€‚</p>
<p>æºç <code>react-native/packages/react-native-codegen/src/generators/components/GenerateComponentDescriptorH.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">FileTemplate</span> = (<span class="hljs-params">{
  libraryName,
  componentDefinitions,
  headerPrefix,
}: {
  libraryName: string,
  componentDefinitions: string,
  headerPrefix: string,
}</span>) =&gt; <span class="hljs-string">`
/**
 * This code was generated by [react-native-codegen](https://www.npmjs.com/package/react-native-codegen).
 *
 * Do not edit this file as changes may cause incorrect behavior and will be lost
 * once the code is regenerated.
 *
 * <span class="hljs-subst">${<span class="hljs-string">'@'</span>}</span>generated by codegen project: GenerateComponentDescriptorH.js
 */

#pragma once

<span class="hljs-subst">${IncludeTemplate({headerPrefix, file: <span class="hljs-string">'ShadowNodes.h'</span>})}</span>
#include &lt;react/renderer/core/ConcreteComponentDescriptor.h&gt;
#include &lt;react/renderer/componentregistry/ComponentDescriptorProviderRegistry.h&gt;

namespace facebook::react {

<span class="hljs-subst">${componentDefinitions}</span>

void <span class="hljs-subst">${libraryName}</span>_registerComponentDescriptorsFromCodegen(
  std::shared_ptr&lt;const ComponentDescriptorProviderRegistry&gt; registry);

} // namespace facebook::react
`</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">ComponentDefinitionTemplate</span> = (<span class="hljs-params">{className}: {className: string}</span>) =&gt;
  <span class="hljs-string">`
using <span class="hljs-subst">${className}</span>ComponentDescriptor = ConcreteComponentDescriptor&lt;<span class="hljs-subst">${className}</span>ShadowNode&gt;;
`</span>.<span class="hljs-title function_">trim</span>();

<span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬åªç®€å•çœ‹ä¸€ä¸‹ç”¨äºå¤´æ–‡ä»¶ç”Ÿæˆçš„å­—ç¬¦ä¸²æ¨¡ç‰ˆã€‚<code>libraryName</code>å‚æ•°å–å€¼æˆ‘ä»¬ä¸Šé¢å·²ç»åˆ†æè¿‡äº†ï¼Œæ¥è‡ª<code>package.json</code>ä¸­çš„é…ç½®é¡¹ã€‚é‚£ä¹ˆè¿˜æœ‰ä¸€ä¸ªå…³é”®å‚æ•°<code>className</code>çš„å–å€¼éœ€è¦å¼„æ¸…æ¥šã€‚å®é™…ä¸Šè¿™é‡Œçš„<code>componentDefinitions</code>å’Œ<code>className</code>éƒ½æ¥è‡ªäº<code>schema.json</code>ã€‚å…·ä½“çœ‹ä¸€ä¸‹classNameç”Ÿæˆé€»è¾‘ï¼š</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-keyword">const</span> componentDefinitions = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(schema.<span class="hljs-property">modules</span>)
      .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">moduleName</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = schema.<span class="hljs-property">modules</span>[moduleName];
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">module</span>.<span class="hljs-property">type</span> !== <span class="hljs-string">'Component'</span>) {
          <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">const</span> {components} = <span class="hljs-variable language_">module</span>;
        <span class="hljs-comment">// No components in this module</span>
        <span class="hljs-keyword">if</span> (components == <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(components)
          .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">componentName</span> =&gt;</span> {
            <span class="hljs-keyword">if</span> (components[componentName].<span class="hljs-property">interfaceOnly</span> === <span class="hljs-literal">true</span>) {
              <span class="hljs-keyword">return</span>;
            }

            <span class="hljs-keyword">return</span> <span class="hljs-title class_">ComponentDefinitionTemplate</span>({<span class="hljs-attr">className</span>: componentName});
          })
          .<span class="hljs-title function_">join</span>(<span class="hljs-string">'\n'</span>);
      })
      .<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>)
      .<span class="hljs-title function_">join</span>(<span class="hljs-string">'\n'</span>);

    <span class="hljs-keyword">const</span> replacedTemplate = <span class="hljs-title class_">FileTemplate</span>({
      libraryName,
      componentDefinitions,
      <span class="hljs-attr">headerPrefix</span>: headerPrefix ?? <span class="hljs-string">''</span>,
    });
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå®é™…ä¸Šæ˜¯åœ¨éå†<code>schema.json</code>ä¸­çš„<code>components</code>å­—æ®µã€‚åœ¨å£°æ˜ç»„ä»¶ä¸€èŠ‚å·²ç»åˆ›å»ºäº†Demoå·¥ç¨‹ï¼Œç°åœ¨æ„å»ºé¡¹ç›®ç”Ÿæˆ<code>schema.json</code>ï¼ŒæŸ¥çœ‹ç›¸å…³å†…å®¹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"libraryName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"modules"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"CustomWebView"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Component"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"components"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"CustomWebView"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"extendsProps"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ReactNativeBuiltInType"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"knownTypeName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ReactNativeCoreViewProps"</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"events"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>çœç•¥......<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>çœç•¥......<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"commands"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>é‚£ä¹ˆ<code>className</code>å°±æ˜¯<code>componentName</code>ï¼Œä¹Ÿå°±æ˜¯è‡ªå®šä¹‰çš„ç»„ä»¶å<strong>CustomWebView</strong>ã€‚</p>
<h5 data-id="heading-9">C++ å±‚</h5>
<p>å¼„æ¸…æ¥šä»£ç ç”Ÿæˆçš„é€»è¾‘ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ç›´æ¥æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶å†…å®¹ï¼Œä¸»è¦æ˜¯<code>ComponentDescriptors.h</code></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;react/renderer/components/CustomviewViewSpec/ShadowNodes.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;react/renderer/core/ConcreteComponentDescriptor.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;react/renderer/componentregistry/ComponentDescriptorProviderRegistry.h&gt;</span></span>

<span class="hljs-keyword">namespace</span> facebook::react {

<span class="hljs-keyword">using</span> CustomWebViewComponentDescriptor = ConcreteComponentDescriptor&lt;CustomWebViewShadowNode&gt;;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CustomviewViewSpec_registerComponentDescriptorsFromCodegen</span><span class="hljs-params">(
  std::shared_ptr&lt;<span class="hljs-type">const</span> ComponentDescriptorProviderRegistry&gt; registry)</span></span>;
}
</code></pre>
<p><code>ComponentDescriptors.cpp</code></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;react/renderer/components/CustomviewViewSpec/ComponentDescriptors.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;react/renderer/core/ConcreteComponentDescriptor.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;react/renderer/componentregistry/ComponentDescriptorProviderRegistry.h&gt;</span></span>

<span class="hljs-keyword">namespace</span> facebook::react {

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CustomviewViewSpec_registerComponentDescriptorsFromCodegen</span><span class="hljs-params">(
  std::shared_ptr&lt;<span class="hljs-type">const</span> ComponentDescriptorProviderRegistry&gt; registry)</span> </span>{
registry-&gt;<span class="hljs-built_in">add</span>(<span class="hljs-built_in">concreteComponentDescriptorProvider</span>&lt;CustomWebViewComponentDescriptor&gt;());
}

}
</code></pre>
<p>å¤´æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªç±»å‹åˆ«å<code>CustomWebViewComponentDescriptor</code>ï¼Œç„¶ååœ¨å®ç°æ–‡ä»¶ä¸­æ³¨å†Œäº†è¿™ä¸ªProviderã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹<code>concreteComponentDescriptorProvider</code>å‡½æ•°çš„å®ç°ï¼Œæºç <code>react-native/packages/react-native/ReactCommon/react/renderer/componentregistry/ComponentDescriptorProvider.h</code>:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">/*
* ä¸ºç»™å®šçš„ `ComponentDescriptor` ç±»åˆ›å»ºä¸€ä¸ª `ComponentDescriptorProvider`
*/</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ComponentDescriptorT&gt;
<span class="hljs-function">ComponentDescriptorProvider <span class="hljs-title">concreteComponentDescriptorProvider</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">static_assert</span>(
      std::is_base_of&lt;ComponentDescriptor, ComponentDescriptorT&gt;::value,
      <span class="hljs-string">"ComponentDescriptorT must be a descendant of ComponentDescriptor"</span>);

  <span class="hljs-keyword">return</span> {
      ComponentDescriptorT::ConcreteShadowNode::<span class="hljs-built_in">Handle</span>(),
      ComponentDescriptorT::ConcreteShadowNode::<span class="hljs-built_in">Name</span>(),
      <span class="hljs-literal">nullptr</span>,
      &amp;concreteComponentDescriptorConstructor&lt;ComponentDescriptorT&gt;};
}
</code></pre>
<p>è¿”å›å€¼æ˜¯ä¸€ä¸ª<code>ComponentDescriptorProvider</code>ç±»å‹å®ä¾‹ï¼Œç»§ç»­è·Ÿè¸ªä¸€ä¸‹ç±»å®šä¹‰ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">/*
 * æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥æ„é€ ç‰¹å®šå­˜å‚¨çš„ `ComponentDescriptor` ç±»çš„å®ä¾‹ã€‚ 
 * C++ ä¸å…è®¸åˆ›å»ºæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»ä½¿ç”¨è¿™æ ·çš„æ•°æ®ç»“æ„æ¥æ“ä½œä¸€ç»„ç±»ã€‚
 *
 * æ³¨æ„ï¼šæŸäº›ç»„ä»¶çš„ `handle` å’Œ `name` çš„å®é™…å€¼å–å†³äº `flavor`ã€‚ 
 * å¦‚æœä½¿ç”¨ç»™å®šçš„ `flavor` é€šè¿‡ `constructor` å¯¹è±¡å®ä¾‹åŒ–åï¼Œ
 * Provideræš´éœ²çš„ `handle` å’Œ `name` å€¼ä¸é¢„æœŸå€¼ç›¸åŒï¼Œåˆ™è¯¥æä¾›è€…æœ‰æ•ˆã€‚ 
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentDescriptorProvider</span> <span class="hljs-keyword">final</span> {
 <span class="hljs-keyword">public</span>:
  ComponentHandle handle;
  ComponentName name;
  ComponentDescriptor::Flavor flavor;
  ComponentDescriptorConstructor *constructor;
};
</code></pre>
<p>è¿™é‡Œå¤§é‡ä½¿ç”¨äº†C++æ¨¡ç‰ˆï¼Œè¦æƒ³æŸ¥çœ‹çœŸæ­£çš„handleå’Œnameå€¼ï¼Œéœ€è¦å½“å®é™…çš„æ¨¡ç‰ˆç±»å‹ä¸­æŸ¥æ‰¾ã€‚è¿™é‡Œå…ˆæŸ¥çœ‹æºç <code>react-native/packages/react-native/ReactCommon/react/renderer/core/ConcreteComponentDescriptor.h</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">namespace</span> facebook::react {

<span class="hljs-comment">/*
 * Default template-based implementation of ComponentDescriptor.
 * Use your `ShadowNode` type as a template argument and override any methods
 * if necessary.
 */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ShadowNodeT&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConcreteComponentDescriptor</span> : <span class="hljs-keyword">public</span> ComponentDescriptor {
  <span class="hljs-built_in">static_assert</span>(std::is_base_of&lt;ShadowNode, ShadowNodeT&gt;::value, <span class="hljs-string">"ShadowNodeT must be a descendant of ShadowNode"</span>);

  <span class="hljs-keyword">using</span> SharedShadowNodeT = std::shared_ptr&lt;<span class="hljs-type">const</span> ShadowNodeT&gt;;

 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">using</span> ConcreteShadowNode = ShadowNodeT;

  <span class="hljs-comment">// çœç•¥ä»£ç ......</span>
} <span class="hljs-comment">// namespace facebook::react</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>ConcreteShadowNode</code>å®é™…ä¸Šåªæ˜¯ä¸€ä¸ªç±»å‹åˆ«åï¼Œå…·ä½“çš„è¦çœ‹æ¨¡ç‰ˆçš„å®é™…å‚æ•°ï¼Œé‚£ä¹ˆ<code>ConcreteShadowNode::Handle</code>å°±ç›¸å½“äº<code>CustomWebViewShadowNode::Handle</code>ã€‚è¿™é‡Œ<code>CustomWebViewShadowNode</code>ä¹Ÿæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥çœ‹<code>android/app/build/generated/source/codegen/jni/react/renderer/components/CustomviewViewSpec/ShadowNodes.h</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">/*
 * `ShadowNode` for &lt;CustomWebView&gt; component.
 */</span>
<span class="hljs-keyword">using</span> CustomWebViewShadowNode = ConcreteViewShadowNode&lt;
    CustomWebViewComponentName,
    CustomWebViewProps,
    CustomWebViewEventEmitter,
    CustomWebViewState&gt;;
</code></pre>
<p>ç»§ç»­æŸ¥çœ‹<code>android/app/build/generated/source/codegen/jni/react/renderer/components/CustomviewViewSpec/ShadowNodes.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;react/renderer/components/CustomviewViewSpec/ShadowNodes.h&gt;</span></span>

<span class="hljs-keyword">namespace</span> facebook::react {

<span class="hljs-keyword">extern</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> CustomWebViewComponentName[] = <span class="hljs-string">"CustomWebView"</span>;

} 
</code></pre>
<p>ç°åœ¨è·Ÿè¸ªä¸€ä¸‹<code>react-native/packages/react-native/ReactCommon/react/renderer/components/view/ConcreteViewShadowNode.h</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">namespace</span> facebook::react {

<span class="hljs-comment">/*
 * Template for all &lt;View&gt;-like classes (classes which have all same props
 * as &lt;View&gt; and similar basic behaviour).
 * For example: &lt;Paragraph&gt;, &lt;Image&gt;, but not &lt;Text&gt;, &lt;RawText&gt;.
 */</span>
<span class="hljs-keyword">template</span> &lt;
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *concreteComponentName,
    <span class="hljs-keyword">typename</span> ViewPropsT = ViewProps,
    <span class="hljs-keyword">typename</span> ViewEventEmitterT = ViewEventEmitter,
    <span class="hljs-keyword">typename</span> StateDataT = StateData&gt;
  <span class="hljs-built_in">requires</span>(std::is_base_of_v&lt;ViewProps, ViewPropsT&gt;)
<span class="hljs-keyword">class</span> ConcreteViewShadowNode : <span class="hljs-keyword">public</span> ConcreteShadowNode&lt;
                                   concreteComponentName,
                                   YogaLayoutableShadowNode,
                                   ViewPropsT,
                                   ViewEventEmitterT,
                                   StateDataT&gt; {
  <span class="hljs-comment">// çœç•¥ä»£ç ......</span>
};

} <span class="hljs-comment">// namespace facebook::react</span>
</code></pre>
<p><code>ConcreteViewShadowNode</code>ç±»ä¸­å¹¶æœªå®ç°<code>Handle</code>å’Œ<code>Name</code>æ–¹æ³•ï¼Œç»§ç»­æŸ¥çœ‹çˆ¶ç±»<code>react-native/packages/react-native/ReactCommon/react/renderer/core/ConcreteShadowNode.h</code></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">namespace</span> facebook::react {

<span class="hljs-comment">/*
 * Base templace class for all `ShadowNode`s which connects exact `ShadowNode`
 * type with exact `Props` type.
 * `ConcreteShadowNode` is a default implementation of `ShadowNode` interface
 * with many handy features.
 */</span>
<span class="hljs-keyword">template</span> &lt;
    ComponentName concreteComponentName,
    <span class="hljs-keyword">typename</span> BaseShadowNodeT,
    <span class="hljs-keyword">typename</span> PropsT,
    <span class="hljs-keyword">typename</span> EventEmitterT = EventEmitter,
    <span class="hljs-keyword">typename</span> StateDataT = StateData&gt;
<span class="hljs-keyword">class</span> ConcreteShadowNode : <span class="hljs-keyword">public</span> BaseShadowNodeT {

 <span class="hljs-keyword">protected</span>:
  <span class="hljs-keyword">using</span> ShadowNode::props_;
  <span class="hljs-keyword">using</span> ShadowNode::state_;

 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">using</span> BaseShadowNodeT::BaseShadowNodeT;
  <span class="hljs-comment">// çœç•¥......</span>

  <span class="hljs-function"><span class="hljs-type">static</span> ComponentName <span class="hljs-title">Name</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">ComponentName</span>(concreteComponentName);
  }

  <span class="hljs-function"><span class="hljs-type">static</span> ComponentHandle <span class="hljs-title">Handle</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">ComponentHandle</span>(concreteComponentName);
  }

  <span class="hljs-comment">// çœç•¥......</span>
};

} <span class="hljs-comment">// namespace facebook::react</span>
</code></pre>
<p>åˆ°è¿™é‡Œå°±å¾ˆæ¸…æ™°äº†ï¼ŒNameå’ŒHandleæ–¹æ³•è¿”å›å€¼å†…éƒ¨æ˜¯æŒæœ‰çš„ç›¸åŒçš„<code>concreteComponentName</code>ï¼Œè€Œè¿™ä¸ªæ¨¡ç‰ˆå‚æ•°ï¼Œæ ¹æ®å‰é¢çš„ä¼ å‚ï¼Œå®é™…æ˜¯å°±æ˜¯</p>
<p><code>CustomWebViewComponentName</code>ï¼Œä¹Ÿå°±æ˜¯<code>"CustomWebView"</code>ã€‚</p>
<p>æ‰«æFabric ç»„ä»¶åº“ï¼Œç”Ÿæˆä»£ç çš„é€»è¾‘å…¶å®å·²ç»å¾ˆæ¸…æ¥šäº†ï¼Œæœ€ååªå‰©ä¸‹ä¸€ä¸ªé—®é¢˜ï¼ŒçœŸæ­£è°ƒç”¨æ³¨å†Œçš„ä»£ç åœ¨å“ªé‡Œï¼Ÿäº‹å®ä¸Šï¼Œå®‰å“ä¸­å¹¶æœªçœŸæ­£é€šè¿‡<code>CustomviewViewSpec_registerComponentDescriptorsFromCodegen</code>å‡½æ•°å»æ³¨å†Œï¼Œè€Œæ˜¯ä½¿ç”¨äº†autolinkingæœºåˆ¶ã€‚è¿™éƒ¨åˆ†åœ¨ã€ŠAndroidç«¯TurboModuleåˆ†æã€‹ä¸€æ–‡æœ‰è¯¦ç»†ä»‹ç»äº†ï¼Œå¯ä»¥å»å›é¡¾ä¸€ä¸‹<code>GenerateAutolinkingNewArchitecturesFileTask</code>è„šæœ¬çš„åˆ†æï¼Œå…¶ä¸­ç”Ÿæˆçš„ä¿¡æ¯æºå°±æ¥è‡ªæˆ‘ä»¬å‰é¢è´¹äº†åŠå¤©åŠ²åˆ†æçš„<code>autolinking.json</code>ä¸­çš„</p>
<p>ç°åœ¨æ¥çœ‹ä¸€ä¸‹Gradleè„šæœ¬ç”Ÿæˆçš„<code>autolinking.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"autolinking.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;CustomviewViewSpec.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;react/renderer/components/CustomviewViewSpec/ComponentDescriptors.h&gt;</span></span>

<span class="hljs-keyword">namespace</span> facebook {
<span class="hljs-keyword">namespace</span> react {

<span class="hljs-function">std::shared_ptr&lt;TurboModule&gt; <span class="hljs-title">autolinking_ModuleProvider</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string moduleName, <span class="hljs-type">const</span> JavaTurboModule::InitParams &amp;params)</span> </span>{
<span class="hljs-keyword">auto</span> module_CustomviewViewSpec = <span class="hljs-built_in">CustomviewViewSpec_ModuleProvider</span>(moduleName, params);
<span class="hljs-keyword">if</span> (module_CustomviewViewSpec != <span class="hljs-literal">nullptr</span>) {
<span class="hljs-keyword">return</span> module_CustomviewViewSpec;
}
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
}

<span class="hljs-function">std::shared_ptr&lt;TurboModule&gt; <span class="hljs-title">autolinking_cxxModuleProvider</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string moduleName, <span class="hljs-type">const</span> std::shared_ptr&lt;CallInvoker&gt;&amp; jsInvoker)</span> </span>{

  <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">autolinking_registerProviders</span><span class="hljs-params">(std::shared_ptr&lt;ComponentDescriptorProviderRegistry <span class="hljs-type">const</span>&gt; providerRegistry)</span> </span>{
providerRegistry-&gt;<span class="hljs-built_in">add</span>(<span class="hljs-built_in">concreteComponentDescriptorProvider</span>&lt;CustomWebViewComponentDescriptor&gt;());
  <span class="hljs-keyword">return</span>;
}

} <span class="hljs-comment">// namespace react</span>
} <span class="hljs-comment">// namespace facebook</span>
</code></pre>
<p>è¿™é‡Œç”Ÿæˆäº†<code>autolinking_registerProviders</code>æ–¹æ³•ï¼Œè¿™æ‰æ˜¯çœŸæ­£æ³¨å†Œç»„ä»¶çš„åœ°æ–¹ã€‚è€Œæ­¤å¤„çš„ä»£ç æ˜¯ç”±Gradleè„šæœ¬ç”Ÿæˆï¼Œå…¶ä¸­çš„å…³é”®ä¿¡æ¯å°±æ¥è‡ª<code>autolinking.json</code>ä¸­çš„<code>componentDescriptors</code>å­—æ®µï¼Œä¹Ÿå°±æ˜¯å‰é¢æˆ‘ä»¬è´¹äº†åŠå¤©åŠ²æ‰åˆ†æå‡ºè¯¥å­—æ®µçš„é»˜è®¤å€¼çš„åœ°æ–¹ã€‚æ•´ä¸ªReact Nativeçš„ä»£ç ç”Ÿæˆå…¶å®æ˜¯æœ‰äº›æ··ä¹±çš„ï¼Œä¼šç”Ÿæˆä¸€äº›å¹¶ä¸ä¼šä½¿ç”¨çš„ä»£ç ï¼Œå¯¹ç†è§£äº§ç”Ÿå¹²æ‰°ã€‚</p>
<p>å…³äº<code>autolinking_registerProviders</code>å‡½æ•°çš„è°ƒç”¨é“¾ï¼Œåœ¨å‰é¢çš„æ–‡ç« ä¹Ÿåˆ†ææ¶‰åŠè¿‡ï¼Œè¿™é‡Œå†å›é¡¾ä¸€ä¸‹è°ƒç”¨æµç¨‹ï¼Œæºç <code>react-native/packages/react-native/ReactAndroid/cmake-utils/default-app-setup/OnLoad.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">namespace</span> facebook::react {

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">registerComponents</span><span class="hljs-params">(
    std::shared_ptr&lt;<span class="hljs-type">const</span> ComponentDescriptorProviderRegistry&gt; registry)</span> </span>{
  <span class="hljs-comment">// è‡ªå®šä¹‰ Fabric ç»„ä»¶æ”¾åœ¨è¿™é‡Œã€‚æ‚¨å¯ä»¥åœ¨æ­¤å¤„æ³¨å†Œæ¥è‡ªæ‚¨çš„åº”ç”¨ç¨‹åºæˆ–ç¬¬ä¸‰æ–¹åº“çš„è‡ªå®šä¹‰ç»„ä»¶</span>
  <span class="hljs-comment">// providerRegistry-&gt;add(concreteComponentDescriptorProvider&lt;</span>
  <span class="hljs-comment">//        MyComponentDescriptor&gt;());</span>

  <span class="hljs-comment">// We link app local components if available</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> REACT_NATIVE_APP_COMPONENT_REGISTRATION</span>
  <span class="hljs-built_in">REACT_NATIVE_APP_COMPONENT_REGISTRATION</span>(registry);
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

  <span class="hljs-comment">// And we fallback to the components autolinked</span>
  <span class="hljs-built_in">autolinking_registerProviders</span>(registry);
}

<span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>

} <span class="hljs-comment">// namespace facebook::react</span>

<span class="hljs-function">JNIEXPORT jint JNICALL <span class="hljs-title">JNI_OnLoad</span><span class="hljs-params">(JavaVM* vm, <span class="hljs-type">void</span>*)</span> </span>{
  <span class="hljs-keyword">return</span> facebook::jni::<span class="hljs-built_in">initialize</span>(vm, [] {
    facebook::react::DefaultTurboModuleManagerDelegate::cxxModuleProvider =
        &amp;facebook::react::cxxModuleProvider;
    facebook::react::DefaultTurboModuleManagerDelegate::javaModuleProvider =
        &amp;facebook::react::javaModuleProvider;
    facebook::react::DefaultComponentsRegistry::
        registerComponentDescriptorsFromEntryPoint =
            &amp;facebook::react::registerComponents;
  });
}
</code></pre>
<p>å¯è§ï¼Œæ³¨å†Œçš„èµ·ç‚¹ä¹Ÿæ˜¯<code>JNI_OnLoad</code>å‡½æ•°ã€‚</p>
<h5 data-id="heading-10">Kotlinå±‚</h5>
<p>ä½¿ç”¨<code>npx create-react-native-library@latest</code>å·¥å…·åˆ›å»ºä¸€ä¸ªFabricç»„ä»¶åº“æ—¶ï¼Œä¼šç”Ÿæˆä¸€äº›æ¨¡ç‰ˆä»£ç ï¼Œå…¶ä¸­åŒ…æ‹¬æˆ‘ä»¬ä¸Šé¢æåˆ°çš„<code>CustomWebViewManager</code>ç±»ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<code>CustomWebViewPackage</code>ç±»ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomWebViewPackage</span> : <span class="hljs-type">ReactPackage</span> {
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createViewManagers</span><span class="hljs-params">(reactContext: <span class="hljs-type">ReactApplicationContext</span>)</span></span>: List&lt;ViewManager&lt;*, *&gt;&gt; {
    <span class="hljs-keyword">val</span> viewManagers: MutableList&lt;ViewManager&lt;*, *&gt;&gt; = ArrayList()
    viewManagers.add(CustomWebViewManager())
    <span class="hljs-keyword">return</span> viewManagers
  }

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createNativeModules</span><span class="hljs-params">(reactContext: <span class="hljs-type">ReactApplicationContext</span>)</span></span>: List&lt;NativeModule&gt; {
    <span class="hljs-keyword">return</span> emptyList()
  }
}
</code></pre>
<p>è¿™é‡Œ<code>createViewManagers</code>æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª<code>ViewManager</code>çš„å®ä¾‹åˆ—è¡¨ã€‚æ ¹æ®æˆ‘ä»¬åœ¨<a href="https://juejin.cn/post/7595178023256211475" target="_blank" title="https://juejin.cn/post/7595178023256211475">ã€ŠReactNativeæ–°æ¶æ„ä¹‹Androidç«¯TurboModuleæœºåˆ¶å®Œå…¨è§£æã€‹</a>ä¸€æ–‡ä¸­åˆ†æ<code>GeneratePackageListTask</code>ä»»åŠ¡çš„ç»“æœï¼Œæˆ‘ä»¬çŸ¥é“æœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ª<code>PackageList</code>æ–‡ä»¶ï¼Œå…¶ä¸­ä¼šæ³¨å…¥æ¯ä¸ªä¸‰æ–¹TurboModuleæˆ–Fabricç»„ä»¶åŒ…ä¸­çš„<strong>ReactPackage</strong>å®ç°ç±»ã€‚</p>
<p>ç°åœ¨æ¥æŸ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬ç¤ºä¾‹å·¥ç¨‹ç”Ÿæˆçš„<code>example/android/app/build/generated/autolinking/src/main/java/com/facebook/react/PackageList.java</code>æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PackageList</span> {
  <span class="hljs-keyword">private</span> Application application;
  <span class="hljs-keyword">private</span> ReactNativeHost reactNativeHost;
  <span class="hljs-keyword">private</span> MainPackageConfig mConfig;

  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>

  <span class="hljs-keyword">public</span> ArrayList&lt;ReactPackage&gt; <span class="hljs-title function_">getPackages</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(Arrays.&lt;ReactPackage&gt;asList(
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">MainReactPackage</span>(mConfig),
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomWebViewPackage</span>()
    ));
  }
}
</code></pre>
<p>å›é¡¾ä¸€ä¸‹æœ¬æ–‡å¼€å¤´çš„åˆå§‹åŒ–éƒ¨åˆ†ï¼Œæˆ‘ä»¬æåˆ°è¿‡ä»¥ä¸‹ä»£ç </p>
<pre><code class="hljs language-kotlin" lang="kotlin">fabricUIManager =
    FabricUIManager(context, ViewManagerRegistry(viewManagerResolver), eventBeatManager)
</code></pre>
<p>ç°åœ¨å›é¡¾ä¸€ä¸‹<a href="https://juejin.cn/post/7594627998839406634" target="_blank" title="https://juejin.cn/post/7594627998839406634">ã€ŠReact Nativeæ–°æ¶æ„ä¹‹Androidç«¯åˆå§‹åŒ–æºç åˆ†æã€‹</a>ä¸€æ–‡ï¼Œåœ¨<code>ReactInstance</code>ç±»æ„é€ æ—¶ï¼Œæœ‰å¦‚ä¸‹åˆå§‹åŒ–é€»è¾‘ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">    viewManagerResolver = BridgelessViewManagerResolver(reactPackages, context)

    ComponentNameResolverBinding.install(
        unbufferedRuntimeExecutor,
        <span class="hljs-keyword">object</span> : ComponentNameResolver {
          <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> componentNames: Array&lt;String&gt;
            <span class="hljs-keyword">get</span>() {
              <span class="hljs-keyword">val</span> viewManagerNames = viewManagerResolver.getViewManagerNames()
              <span class="hljs-keyword">if</span> (viewManagerNames.isEmpty()) {
                FLog.e(TAG, <span class="hljs-string">"No ViewManager names found"</span>)
                <span class="hljs-keyword">return</span> arrayOf()
              }
              <span class="hljs-keyword">return</span> viewManagerNames.toTypedArray&lt;String&gt;()
            }
        },
    )
</code></pre>
<p>ç»“åˆä¸Šä¸€èŠ‚<strong>æŸ¥æ‰¾ç»„ä»¶</strong> kotlinå±‚å®ç°çš„åˆ†æï¼Œæ•´ä¸ªæµç¨‹éƒ½ååˆ†æ¸…æ™°äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 æœ€æ–° Claude Skills ä¿å§†çº§æ•™ç¨‹åŠå®è·µï¼]]></title>    <link>https://juejin.cn/post/7596926832913055807</link>    <guid>https://juejin.cn/post/7596926832913055807</guid>    <pubDate>2026-01-19T15:28:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596926832913055807" data-draft-id="7596905751110746175" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 æœ€æ–° Claude Skills ä¿å§†çº§æ•™ç¨‹åŠå®è·µï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T15:28:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä½•"/> <meta itemprop="url" content="https://juejin.cn/user/588993963763405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 æœ€æ–° Claude Skills ä¿å§†çº§æ•™ç¨‹åŠå®è·µï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993963763405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä½•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:28:19.000Z" title="Mon Jan 19 2026 15:28:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯è‹ä½•çš„ç¬¬ 470 ç¯‡åŸåˆ›ï¼</p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è‹ä½•ã€‚</p>
<p>å…¶å®æƒ³å†™è¿™ç¯‡æ–‡ç« æƒ³å†™å¾ˆä¹…äº†ï¼ŒClaude Skills ç°åœ¨ä¹Ÿå·²ç»ğŸ”¥çš„ä¸€å¡Œç³Šæ¶‚äº†ï¼Œ</p>
<p>æˆ‘ä¹Ÿçœ‹äº†å¾ˆå¤šå¤§ä½¬çš„æ–‡ç« ï¼Œæ”¶è—äº†ä¸€å †çš„æ•™ç¨‹ï¼Œæ¯”å¦‚ä¸€æ³½çš„æ•™ç¨‹ï¼Œå°±è®©æˆ‘ä¸€åº¦åªèƒ½ç²—é²çš„å–Šäº†å¥½å‡ éï¼šå§æ§½ï¼Œç‰›é€¼ï¼Œè¿˜ä¸å¿˜åŠ å‡ ä¸ªè¡¨æƒ…ï¼šğŸ‚ğŸº</p>
<p>åœ¨ç»å†ä¸€ç•ªç ”ç©¶ Claude æŠ€æœ¯åšå®¢åï¼Œæˆ‘å†³å®šåˆ†äº«ä¸€äº›æˆ‘çš„å®è·µå’Œæ„Ÿå—ã€‚</p>
<p>æœ¬æ–‡ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ å¤§éƒ¨åˆ†ï¼š</p>
<p>1ã€ä»€ä¹ˆæ˜¯ Claude Skills<br/>
2ã€Claude Skills å’Œ MCP åŒºåˆ«åŠè”ç³»<br/>
3ã€æ€ä¹ˆä½¿ç”¨ Skills<br/>
4ã€éƒ½æœ‰å“ªäº›å¥½ç”¨çš„ Skillsï¼Ÿ<br/>
5ã€å¦‚ä½•åˆ¶ä½œè‡ªå·±çš„ SkillsÂ </p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e945982976b4849b3625a34ef4dd9d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=%2BTFbkemNvjWakwA72q4lww%2B9tvg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<blockquote>
<p>æ–‡ç« ä¼šæ˜¾å¾—æœ‰äº›é•¿ï¼Œå¯ä»¥å…ˆç‚¹èµæ”¶è—ï¼Œå¹¶è½¬å‘ç»™éœ€è¦çš„æœ‹å‹ã€‚æ–‡æœ«ä¹Ÿä¼šæœ‰ Skill äº¤æµç¾¤ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯Claude Skillsï¼Ÿ</h2>
<p><strong>Claude Skills æˆ‘çš„ç†è§£å°±æ˜¯ç»™å¤§æ¨¡å‹çš„æŠ€èƒ½å·¥å…·åŒ…ï¼Œä»–æ˜¯å¯å¤ç”¨çš„æŒ‡ä»¤åŒ…ï¼Œé€šè¿‡å°è£…å›¢é˜Ÿçš„å·¥ä½œæµç¨‹ï¼Œä¸šåŠ¡é€»è¾‘å’Œé¢†åŸŸçŸ¥è¯†ï¼Œè§£å†³äº† AI ç¼ºä¹ä¸“ä¸šçŸ¥è¯†çš„é¸¿æ²Ÿã€‚</strong></p>
<p>å®ƒå°†ç‰¹å®šçš„ç¨‹åºåŒ–çŸ¥è¯†ã€ä¸šåŠ¡é€»è¾‘å’Œæ‰§è¡Œè„šæœ¬æ‰“åŒ…ï¼Œè®© Agent èƒ½åƒå·¥ä½œæµä¸€æ ·è¾ƒç¨³å®šçš„æ‰§è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d12b0a77870f45009d358f57033481e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=NlKABbJvHp6NCr1L3rWfIibgh4E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»ä½¿ç”¨å±‚é¢ä¸Šç†è§£ Skills æ˜¯åŒ…å«æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºçš„æ–‡ä»¶å¤¹ï¼Œä¾› LLM å¯ä»¥åŠ¨æ€åŠ è½½ï¼Œåº•å±‚é‡‡ç”¨çš„æ˜¯æ¸è¿›å¼æŠ«éœ²ï¼Œä¹Ÿå°±æ˜¯ä»…åœ¨éœ€è¦çš„æ—¶å€™åŠ è½½æŠ€èƒ½çš„è¯¦ç»†æŒ‡ä»¤ï¼Œèƒ½æœ‰æ•ˆèŠ‚çœå®è´µçš„ä¸Šä¸‹æ–‡çª—å£ã€‚</p>
<p>Skills å¸¦æ¥çš„æ˜¯ä¸€ç§å…¨æ–°çš„ AI Agent åä½œæ¨¡å¼ï¼Œè¿‡å»ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡å¯¹è¯ä¸­æä¾›èƒŒæ™¯çŸ¥è¯†å’Œæ“ä½œæŒ‡å—ï¼Œç°åœ¨ï¼Œå€ŸåŠ© Skillsï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›çŸ¥è¯†å°è£…èµ·æ¥ï¼Œç»™åˆ° AI ä½¿ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af2bdc56fac047deb42cda72aeb92a50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=PpzL7UcvkDcLGoi6EQCskaj5vRQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¦æƒ³å¾ˆå¥½çš„ç†è§£ Skills å°±å¾—å…ˆçœ‹æ¸…ç°é˜¶æ®µ AI é¢ä¸´çš„ä¸€äº›é—®é¢˜ã€‚</p>
<p><strong>1ã€å¯¹è¯æ˜¯çŸ­æš‚çš„</strong>ï¼šæ¯ä¸€æ¬¡æ–°çš„ Chat å¯¹è¯éƒ½è¦ä» 0 å¼€å§‹ï¼Œé€šå¸¸æ— æ³•è®°ä½ä¹‹å‰è®¨è®ºï¼Œé¡¹ç›®çš„å…·ä½“èƒŒæ™¯å’Œå›¢é˜Ÿçš„å·¥ä½œæµç¨‹ã€‚</p>
<p><strong>2ã€çŸ¥è¯†æ˜¯åˆ†æ•£çš„</strong>ï¼šå›¢é˜Ÿç»éªŒï¼ˆæ•°æ®ç»“æ„ã€ä¸šåŠ¡é€»è¾‘ç­‰ï¼‰åˆ†æ•£åœ¨ Wikiã€æ–‡æ¡£é‡Œï¼ŒAI æ— æ³•ç›´æ¥è°ƒç”¨</p>
<p>3ã€<strong>é‡å¤åŠ³åŠ¨å¤š</strong>ï¼šå¼€å‘è€… / ç”¨æˆ·éœ€åå¤åœ¨æç¤ºè¯ä¸­è§£é‡Šç»†èŠ‚ï¼Œæ—¢è€—æ—¶åˆå¯¼è‡´ AI è¾“å‡ºä¸ä¸€è‡´</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80d2a7293e3d45289981d84259488c4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=eq%2FN48nFSP0K5YFOmzGvnt83GSg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å°±å¥½æ¯”ä¸€ä¸ªæ–°å…¥èŒçš„å‘˜å·¥ï¼Œæƒ³è¦å¿«é€Ÿä¸Šæ‰‹é¡¹ç›®å°±å¾—éœ€è¦å„ç§çŸ¥è¯†å’ŒæŠ€èƒ½ï¼ŒSkills æ›´åƒæ˜¯æ¨¡å—åŒ–çš„çŸ¥è¯†åŒ…ï¼Œç»™ AI é‡èº«å®šåˆ¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b837db3d4b54b8dae348c732f348440~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=LDRXDSxN%2BebvGqFsdgi2BBGbl%2FI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é‚£ Skills çš„æ ¸å¿ƒæœºåˆ¶æ˜¯é€šè¿‡<strong>æ¸è¿›å¼æŠ«éœ²</strong>Â (Progressive Disclosure)ï¼Œé€šè¿‡åˆ†å±‚åŠ è½½ä¿¡æ¯ï¼Œç¡®ä¿ AI æ€»èƒ½è·å–æ‰€éœ€çŸ¥è¯†ï¼ŒåŒæ—¶æœ€å¤§åŒ–åˆ©ç”¨ä¸Šä¸‹æ–‡çš„æ•ˆç‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e133b928a8a46e599f7300b54f07e93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=0ZAJbDeEa3apoVMQqAHVvPqLKZg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»æ–‡ä»¶å¤¹å±‚é¢ï¼Œæ¥åšä¸ªå‰–æå§ã€‚é€šå¸¸ä¼šåŒ…å«è¿™å‡ å¤§éƒ¨åˆ†ï¼š</p>
<p>1ã€scriptsï¼šå­˜æ”¾æ‰§è¡Œè„šæœ¬<br/>
2ã€referencesï¼šå­˜æ”¾æŒ‰éœ€åŠ è½½çš„è¯¦ç»†æ–‡æ¡£ï¼Œå¦‚è¡¨ç»“æ„å®šä¹‰ï¼ŒAPI è§„èŒƒï¼Œä»£ç ç‰‡æ®µç­‰ã€‚<br/>
3ã€SKILL. mdï¼šæ ¸å¿ƒæŒ‡ä»¤ã€è§¦å‘æ¡ä»¶ã€æ‰§è¡ŒæŒ‡å¼•ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55f1f0698c634b71b2bb57464e7c08a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=FqeQFEE5Q%2BQGAoHmX5n5OzGYkD8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶ä¸­ SKILL. md å†…éƒ¨å‰–æå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80b128055872495e910303ab779ebff3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=YwnAZAxHYDpzL94c7zQB2GDLK9Y%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Skill èƒ½å¦è¢«å‡†ç¡®è§¦å‘ï¼Œå®Œå…¨å–å†³äºå…¶SKILL. md ä¸­ description çš„è´¨é‡ã€‚å®ƒéç®€å•çš„å…³é”®è¯åŒ¹é…ï¼Œè€Œæ˜¯ Claude å¯¹å…¶èƒ½åŠ›å’Œé€‚ç”¨åœºæ™¯çš„è¯­ä¹‰ç†è§£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc7146fd12f345409a0905c793ccb9d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=%2BkyLSRNudbgqe736GY8F1ZLCoEc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Skills æ˜¯æ„å»ºå¼ºå¤§ Al Agent çš„æ ¸å¿ƒåŸºçŸ³ï¼Œä½†å®ƒå¹¶éå­¤ç«‹å­˜åœ¨ã€‚ä¸ºäº†å‘æŒ¥æœ€å¤§æ½œèƒ½ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£å®ƒå¦‚ä½•ä¸ Anthropic ç”Ÿæ€ç³»ç»Ÿä¸­çš„å…¶ä»–ç»„ä»¶ååŒå·¥ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a373ee0631fd4aa69eecbd6400a01d92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=ZD4XQbwtV5kZ2qkNs8i1nbMB5WI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-1">å’Œ MCP åŒºåˆ«åŠè”ç³»</h2>
<p>æœ€å¤§çš„å›°æƒ‘å…¶å®æ˜¯å’Œ MCP åŒºåˆ«ã€‚æˆ‘åšäº†ä¸ªå›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/538462f993384c72a0ccc6c79a8f276f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=nHyHpS5R9VNgdY73GUd10EgXWUg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>MCP æ˜¯ä¸€ç§æ ‡å‡†åè®®ï¼Œåƒæ˜¯å¤§æ¨¡å‹çš„æ‰‹å’Œè„šï¼Œè´Ÿè´£è¿æ¥å·¥å…·ï¼Œè€Œ Skills è´Ÿè´£ç¨‹åºåŒ–çŸ¥è¯†ï¼Œä»–è®© Agent å…·å¤‡å·¥ä½œæµçš„èƒ½åŠ›ï¼Œç¨³å®šæ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚</p>
<p>æ¯”å¦‚ä¸€ä»½è°ƒç ”æŠ¥å‘Š skillï¼Œä»–éœ€è¦é€šè¿‡ MCP å»è¿æ¥ Google Drive æœç´¢æœ€æ–°å‘¨æŠ¥ï¼Œå¹¶ä» GitHub æ‹‰å–ç«å“å¼€æºåº“çš„æ•°æ®ï¼Œskill æä¾›åˆ†ææ¡†æ¶ï¼ŒæŒ‡å¯¼ AI å¦‚ä½•è¿›è¡Œ SWOT åˆ†æï¼Œæœ€åç”± subagent æ¥æ‰§è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caaf2df710794acc841a584d501081d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=TaSKWb1S7s4dWxcTCCy4wZqEyOI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-2">æ€ä¹ˆä½¿ç”¨ Skillsï¼Ÿ</h2>
<p>é‚£å…·ä½“æ€ä¹ˆä½¿ç”¨ Skills å‘¢ï¼Ÿå…¶å®åœ¨å¾ˆå¤š AI IDE ä¸­éƒ½å¯ä»¥ä½¿ç”¨äº†ï¼Œæ¯”å¦‚ Claude Codeã€OpenCodeã€‚</p>
<p>è¿™é‡Œä»¥ Claude Code ä¸ºä¾‹ï¼Œä½¿ç”¨åªéœ€è¦ä»¥ä¸‹å‡ æ­¥ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼Œå®‰è£… Claude Code</strong></p>
<p>æ¨èä½¿ç”¨ native çš„æ–¹å¼å®‰è£…ï¼Œç›¸æ¯”è¾ƒäº npm æ›´åŠ çš„ç¨³å®šä»¥åŠèƒ½åŠæ—¶æ›´æ–°ï¼Œç»ˆç«¯ä¸­è¾“å…¥ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curl -fsSL https:<span class="hljs-comment">//claude.ai/install.sh | bash</span>
</code></pre>
<p>ç„¶åé€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç»ˆç«¯è¾“å…¥ï¼š claudeï¼Œå³å¯å¯åŠ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cfcab48aa434ff2a8fe13cc7fe1f63f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=Xr2g1dCABw3UiSouJElFcIvgY0M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½†æ˜¯è¦æƒ³ä½¿ç”¨è¿˜æ˜¯éœ€è¦é…ç½®ä¸€ä¸‹ API çš„ï¼Œæœ‰æŒºå¤šç§åŠæ³•ï¼Œä½ å¯ä»¥é€‰æ‹©å®˜æ–¹çš„ Claudeï¼Œéå¸¸è´µï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä¸­è½¬çš„ APIï¼Œæ€§ä»·æ¯”é«˜ï¼Œå½“ç„¶ä½ ç”šè‡³å¯ä»¥é€‰æ‹© GLM 4.7ï¼Œç›¸å¯¹åˆ’ç®—ã€‚</p>
<p>é€šå¸¸æˆ‘è¿˜ä¼šå®‰è£…ä¸€ä¸ªå·¥å…·å« CC Swtichï¼Œç”¨æ¥ç®¡ç†å„ç§ API çš„é…ç½®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb111aea64bc443383927640ae61133e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=%2BKN0cC9tuN9mDtzcThe77o%2FwWww%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬äºŒæ­¥ï¼Œåœ¨ Claude Code ä¸­å®‰è£… Skills</strong></p>
<p>ä¸€å…±æœ‰ä¸‰ç§å®‰è£…æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<p>æ–¹å¼ä¸€ï¼šè‡ªç„¶è¯­è¨€å®‰è£…</p>
<p>ä½ å¯ä»¥ç›´æ¥è®© CC æ¥å®‰è£…ï¼Œç›´æ¥æéœ€æ±‚ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">å¸®æˆ‘å®‰è£…ä¸‹ skillï¼Œé¡¹ç›®åœ°å€æ˜¯ï¼š<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/anthropics</span><span class="hljs-regexp">/skills/blob</span><span class="hljs-regexp">/mai
n/skills</span><span class="hljs-regexp">/pptxÂ 
</span></code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e065d4b712bd48328561f4892549de49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=UQxl9mUCVVR5Wvp2Z1s3M8vUVuM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ä»–èƒ½ç†è§£éœ€æ±‚ï¼Œå¹¶ç›´æ¥å¸®å®‰è£…å¥½äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/623743fe078a41a5af153a96e03dc5ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=fWMmQCLP4QkJKPjawhwedG1CyDM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…</p>
<p>ä¸‹è½½ skill å®‰è£…åŒ…ï¼Œç„¶åç›´æ¥æ”¾åˆ° .claude/skills/ï¼Œè¿™ä¸ªç›®å½•ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9620789708294e849a0a4e00abe593a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=tABkSRLLp8j3tPbVcH9jvim%2Bd4o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ–¹å¼ä¸‰ï¼Œæ³¨å†Œå‘½ä»¤</p>
<p>åœ¨ Claude Code ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†æ­¤å­˜å‚¨åº“æ³¨å†Œä¸º Claude Code æ’ä»¶å¸‚åœºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin marketplace add anthropics/skills
</code></pre>
<p>ç„¶åï¼Œåœ¨æ’ä»¶å¸‚åœºä¸­æœç´¢ç›¸å…³æ’ä»¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06ef996146ff4736b29ec7b92a433f26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=nEny0pH8vg5d9ZNMH%2B3vSd6Fr4w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡æ’ä»¶å®‰è£…çš„ skills éœ€è¦åœ¨ .claude/plugins/marketplaces/ è¿™ä¸ªç›®å½•ä¸‹æŸ¥çœ‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff17a72229714b29a3eb9e7046254d26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=ff1TyZue7gNkw4BQZnrnCBOnRo4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ–è€…ä¹Ÿå¯ä»¥ç›´æ¥è¾“å…¥å‘½ä»¤å®‰è£…æ’ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">/plugin install <span class="hljs-variable language_">document</span>-skills<span class="hljs-meta">@anthropic</span>-agent-skills
</code></pre>
<p>å½“å®‰è£…å¥½ skills åï¼Œéœ€è¦é‡å¯ä¸€ä¸‹ Claude Codeã€‚</p>
<p>è¦æƒ³ä½¿ç”¨çš„è¯ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®š skillï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ç”¨æˆ·æ„å›¾ï¼ŒAgent è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ skillã€‚</p>
<p>æ¯”å¦‚è¾“å…¥ promptï¼š</p>
<blockquote>
<p>ç”¨ pptx skill åˆ›å»ºä¸€ä¸ªå…³äº Claude Skills çš„æ¼”ç¤ºæ–‡ç¨¿</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8688927ac2894edeb1a137f1be28e832~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=FjeZrZck%2FO3mRDN8ZBH8AADaKBc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°å…ˆæ˜¯å»ç”¨ HTML æ¥å†™ PPTï¼Œç„¶åè°ƒç”¨ pptx skill é‡Œé¢çš„ html2pptx.md çº¦æŸï¼ŒæŠŠ html è½¬ä¸º PPTã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4753aaa412ab43d5b10ba603cb57ddb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=056gGZ9MUewb8ZtJHeZ30MCHn3s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œè¿™ä¸ªçº¦æŸæ–‡ä»¶ html2pptx.md æ˜¯å¯¹ html è½¬ PPT çš„ä¸€äº›çº¦æŸè§„åˆ™å’Œæ¡ä»¶ï¼Œé€šè¿‡ markdown çš„å½¢å¼çº¦æŸäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1825511dc7a84456947aba6ae050f2b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=pQ%2BX030No91ZpUnS027KJRHa7GA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Claude Skills ç»è¿‡ä¸€ç•ªè‹¦æˆ˜ï¼Œç»ˆäºå®Œæˆäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6479103f5c6f46c5a6fb0f9c43481f78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=S8mX4eKh11raCSQtUn9uDgSD0Do%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸‹æ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9113a52664a4ba38aac43fd425e5286~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=Fl67JSAhr4siVeNtnJi%2FPuCx5Vk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é ï¼Œéå¸¸ä¸é”™å•Šã€‚ä¸€ä¸ªåš PPT çš„ skill å°±è¿™æ ·å®‰è£…å¥½äº†ã€‚</p>
<h2 data-id="heading-3">éƒ½æœ‰å“ªäº›å¥½ç”¨çš„ Skillsï¼Ÿ</h2>
<p>Anthropic å®˜æ–¹çš„ skill ä»“åº“æä¾›äº†ä¸å°‘æœ‰ç”¨çš„ skillï¼Œå¼€æºåœ°å€å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//github.com/anthropics/skills</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a59be8f89d634753bf06add18e33fb47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=Gf1JM%2Fg1PG3DNdtjlLJ2cSvFr%2FM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥åœ¨ Skills å¸‚åœºæ‰¾åˆ°éå¸¸å¤šçš„ skillï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fskillsmp.com%2Fzh" target="_blank" title="https://skillsmp.com/zh" ref="nofollow noopener noreferrer">skillsmp.com/zh</a></p>
<p>ç›®å‰å·²ç»æœ‰ 58925 ä¸ª Skills äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29d5ae9cb300478e92f49c0e3a34235b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=minqNWzAWmr60W5wk70MnzcPnAU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶åå¯ä»¥åœ¨è¿™é‡Œç”¨ AI æ¥æœç´¢ä½ æƒ³è¦çš„ Skillsï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§åˆ†ç±»æŸ¥æ‰¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ea43539d672443599584ba52c81b066~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=4MfvIiFRiXbnYrJlrVJcaqloK4M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é‚£éƒ½æœ‰å“ªäº›å¿…è£…çš„ skill å‘¢ï¼Ÿç»™å¤§å®¶æ¨èå‡ æ¬¾ï¼š</p>
<p><strong>1ã€skill-creator</strong></p>
<p>Anthropic å®˜æ–¹å‡ºå“ï¼Œèƒ½å¤Ÿè‡ªåŠ¨å†™ skill çš„ skillã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01051de2a93f43bb99405252adc777f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=gFwlP4BvjfGT%2BuXZgoTEjNoNA3c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ°å€ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/anthropics</span><span class="hljs-regexp">/skills/tree</span><span class="hljs-regexp">/main/skills</span><span class="hljs-regexp">/skill-creator
</span></code></pre>
<p>2ã€Superpowers</p>
<p>è¿™ä¸ªæ˜¯ä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹çš„ skillï¼ŒåŒ…å«éœ€æ±‚æ–‡æ¡£ã€å¼€å‘ã€æµ‹è¯•ç­‰æµç¨‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/896ddc5273c34ff9a67de7cdc261df37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=HopJQvCMEzxYdqEjk8rABCSNq9g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ°å€ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//github.com/obra/superpowers</span>
</code></pre>
<p>3ã€X Article Publisher Skill</p>
<p>å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨æ¥å†™ X æ–‡ç« ï¼Œæ—©å°±æœ‰è¿™ä¸ªç—›ç‚¹ï¼Œæ²¡æƒ³åˆ°è¿™ä¹ˆå¿«å°±æœ‰å¯¹åº”çš„å·¥å…·äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65cba3d251d944a79995ef4cd5deef64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=wvD%2FBA%2B%2BvT9cAiv2X0OmvOyeGSY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ°å€ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//github.com/wshuyi/x-article-publisher-skill</span>
</code></pre>
<p><strong>4ã€NotebookLM skill</strong></p>
<p>èƒ½åœ¨ Claude Code é‡Œé¢ç›´æ¥å’Œ NotebookLM å¯¹è¯ï¼Œå¹¶ä¸Šä¼  PDF ç›´æ¥åˆ° NotebookLMã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/498bb2c78c7d41d9bd8f7cf58097c548~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=Ke3R9sBArd0ONrxD0YCoWRHwxRw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ°å€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/PleasePrompto/notebooklm-skill
</code></pre>
<p><strong>5ã€obsidian-skills</strong></p>
<p>ç”± obsidian è€æ¿äº²è‡ªå†™çš„ skillsï¼Œèƒ½å¤Ÿç”Ÿæˆ Obsidian å¢å¼ºå‹ Markdownï¼Œè‡ªåŠ¨æ·»åŠ æ ‡ç­¾ã€æ—¥æœŸï¼Œä¸ç ´ååŸæœ‰æ ¼å¼ï¼Œç”Ÿæˆå†…å®¹å¯ç›´æ¥å­˜å…¥ Obsidian åº“ã€‚è¿˜èƒ½ç›´æ¥ç”Ÿæˆ Obsidian Canvas ç™½æ¿ã€‚</p>
<p>è¿™ä¸ªç”šè‡³å°±å¯ä»¥ç›´æ¥åœ¨ obsidian é‡Œé¢å®‰è£…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5aa9ff676804fd0886fac0a02c7e9f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=Cx%2F1%2FSSSHcwaubAWhMMtOEmYg14%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶åè¾“å…¥æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-css" lang="css">ç”¨obsidian-skillsç”»ä¸€ä¸ª <span class="hljs-selector-tag">canvas</span> æ¥è§£è¯»è¿™ä¸€ç¯‡æ–‡ç« "å¼€æºç‰ˆ Claude <span class="hljs-selector-tag">Code</span> ç«çˆ†å…¨ç½‘ï¼Œå·²ç‹‚é£™ <span class="hljs-number">51.7</span>k Starã€‚ã€‚ã€‚"
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a91e523a396844cdaf35e76363000a5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=rS88xM8YqJyQNuwPzBTCCV3M2sk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå›¾å°±å¾ˆå¿«å‡ºæ¥äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e15acad07a66488d9054b96c2bf82f55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=6eThwP0sW6wd%2FuLEZtJvClYGnmk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-4">å¦‚ä½•åˆ¶ä½œè‡ªå·±çš„ Skills å‘¢ï¼Ÿ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8ffbb8b103d409593407fbe7019708d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=Ej1lKRt78aVxh3sfp2oDIwxl0no%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>éå¸¸æ¨èå¤§å®¶å…ˆå®‰è£… Anthropic å®˜æ–¹çš„ä¸€ä¸ª skillï¼šskill-creatorï¼Œä»–æ˜¯ä¸“é—¨ç”¨æ¥å®‰è£… skill çš„ skillã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a252da828974280a8e00a5d50a36737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=%2Bkh0tuhlO1CxU%2Fsz45l6DtI5sqA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æŒ‰ç…§åŒæ ·çš„æ–¹æ³•å…ˆå®‰è£…è¿™ä¸ª skillï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">å¸®æˆ‘ç›´æ¥å®‰è£…è¿™ä¸ªskillï¼Œåœ°å€ï¼š<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/anthropics</span><span class="hljs-regexp">/skills/blob</span><span class="hljs-regexp">/main/skills</span><span class="hljs-regexp">/skill-creatorï¼Œå…‹éš†è¿™ä¸ª skill åˆ°æˆ‘çš„å·²å­˜åœ¨çš„æŠ€èƒ½ç›®å½•~/</span>.claude/skills
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e41865654db4953ae7cf23cd258e7e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=5cpHP8Pw1ompzvUpwgf1WtkYoTo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸‹é¢å°±å¯ä»¥åœ¨ CC é‡Œé¢å¿«é€Ÿçš„åˆ›å»º skill</p>
<blockquote>
<p>åˆ›å»ºä¸€ä¸ª skillï¼Œèƒ½è‡ªåŠ¨å°† pdf è½¬ä¸º PPT</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60914da8078c4fe495afb57be8c707f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=UGzwroX0zkAQ4Iq3is385rTIBCc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¼€å§‹ä¸€é¡¿æ“ä½œæ¥åˆ›å»ºè¿™ä¸ª skill äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d241b945390431eb71a395e6317c712~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=5BkvBcCBvgx6IOIugf8JWuy20WU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±ä»€ä¹ˆéƒ½ä¸ç”¨ç®¡äº†ï¼Œå¾ˆå¿«å°±ç”Ÿæˆå¥½äº†è¿™ä¸ª skillï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51022ed1345f46a68e543ebacd12e24a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=Qic33VcI6NB1cANeuKgxaYYsYfs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯¹åº”çš„æ–‡ä»¶å¤¹ä¹Ÿç”Ÿæˆ ok äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28cca640652848158ffe358dbc93473d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=kEP1q%2Bqm8TBbm4NQLEngNAzgSOk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥åšä¸‹éªŒè¯ï¼Œè¾“å…¥ä»¥ä¸‹æç¤ºè¯ï¼š</p>
<blockquote>
<p>å¸®æˆ‘æŠŠâ€œå€¼å¾—å»çš„ITå…¬å¸ï¼ˆæ­¦æ±‰ç¯‡ï¼‰.pdfâ€è½¬ä¸º ppt æ ¼å¼</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a77709b812fa438b9cf2fcfd894bc58e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=ZezpUVOHKNmJe2zbkZoLbSRmkiU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è½¬å¥½äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9cd8d6ac26544159447c8b77c8fcbce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=4X7%2FKEPCdMyz7hMcHRojhtZLFG8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‰“å¼€é¡¹ç›®çœ‹ä¸€ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e6f58206e9f423cbd7973de1415022e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=b%2FZBEI7Pccm2zhKGUv%2Buv83d678%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥çœ‹çœ‹æ•ˆæœï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12ca22e0eca440e7b0c3abb85b13017d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441299&amp;x-signature=u1joUAl0vRSgm2dwKADqp3jViSs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åšä¸€ä¸ª skill å‡ åˆ†é’Ÿæ—¶é—´ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<h2 data-id="heading-5">å†™åœ¨æœ€å</h2>
<p>Skills æ”¹å˜äº†æˆ‘ä»¬ä¸ AI åä½œçš„åŸºæœ¬æ–¹å¼ã€‚å®ƒä»¬å°†ä¸€æ¬¡æ€§çš„æç¤ºï¼Œè½¬å˜ä¸ºæŒä¹…ã€å¯ç»„åˆçš„çŸ¥è¯†èµ„äº§ã€‚</p>
<p>é€šè¿‡ä¸º AI å»ºç«‹ä¸€ä¸ªå¯æ‰©å±•çš„ç¨‹åºæ€§è®°å¿†åº“ï¼ŒSkills æ­£åœ¨ä¸ºä¸‹ä¸€ä»£ä»£æ›´å¼ºå¤§ã€æ›´è‡ªä¸»ã€æ›´èƒ½ä¸äººç±»ä¸“å®¶æ— ç¼åä½œçš„ AI Agent å¥ å®šåŸºç¡€ã€‚</p>
<p>Skills æŠŠå„ç§ç»éªŒå’Œæ–¹æ³•æ‰“åŒ…æˆæŠ€èƒ½åŒ…ï¼Œé™ä½äº†è·¨è¡Œä½¿ç”¨çš„æˆæœ¬ï¼Œæ™®é€šäººä¹Ÿæ›´åŠ æ–¹ä¾¿çš„åˆ›ä½œè‡ªå·±çš„ Agent äº†ã€‚</p>
<p><strong>æˆ‘è§‰å¾—ï¼ŒæŒæ¡ Skillsï¼Œå°±æ˜¯æŒæ¡äº†å°†ç»„ç»‡æ™ºæ…§è§„æ¨¡åŒ–çš„èƒ½åŠ›ã€‚</strong></p>
<p>æœªæ¥ï¼ŒSkills è¿˜ä¼šä¸€å¦‚ç«çˆ†ï¼Œä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„ Skills å‡ºæ¥ã€‚</p>
<p>å¥½äº†ï¼Œä»Šå¤©çš„æ–‡ç« å°±åˆ°è¿™é‡Œäº†ï¼Œè°¢è°¢ä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ã€‚</p>
<p>åŒæ—¶ï¼Œå¤§å®¶å¦‚æœå¯¹ Skills æ„Ÿå…´è¶£ï¼Œå¯ä»¥åå°å›å¤ï¼šSkillsï¼Œä¸€èµ·åŠ å…¥äº¤æµç¾¤ï¼Œæ¢è®¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¦–ä¸ªå›½äº§èŠ¯ç‰‡è®­ç»ƒçš„å¤šæ¨¡æ€ SOTA æ¨¡å‹ï¼Œå·²å…è´¹å¼€æºï¼]]></title>    <link>https://juejin.cn/post/7596934200580259876</link>    <guid>https://juejin.cn/post/7596934200580259876</guid>    <pubDate>2026-01-19T15:30:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596934200580259876" data-draft-id="7596934200580243492" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¦–ä¸ªå›½äº§èŠ¯ç‰‡è®­ç»ƒçš„å¤šæ¨¡æ€ SOTA æ¨¡å‹ï¼Œå·²å…è´¹å¼€æºï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T15:30:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä½•"/> <meta itemprop="url" content="https://juejin.cn/user/588993963763405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¦–ä¸ªå›½äº§èŠ¯ç‰‡è®­ç»ƒçš„å¤šæ¨¡æ€ SOTA æ¨¡å‹ï¼Œå·²å…è´¹å¼€æºï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993963763405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä½•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:30:44.000Z" title="Mon Jan 19 2026 15:30:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯è‹ä½•çš„ç¬¬ 471 ç¯‡åŸåˆ›ï¼</p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è‹ä½•ã€‚</p>
<p>çœ‹åˆ°æ™ºè°±è”åˆåä¸ºå¼€æºäº†æ–°ä¸€ä»£å›¾åƒç”Ÿæˆæ¨¡å‹ GLM-Image çš„æ¶ˆæ¯ï¼Œæˆ‘è¿˜æŒºå…´å¥‹çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c93656891264510b3979faf4478864a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=NP7%2F8jkEkv0Q2yZ8AIHOKPwts9E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ„å‘³ç€ï¼ŒAI ç”Ÿå›¾çš„ä»·æ ¼å¯èƒ½ä¼šè¢«æ‰“ä¸‹æ¥ï¼Œæˆ‘çš„æ„Ÿè§¦æ˜¯å¾ˆæ·±çš„ï¼Œå› ä¸ºæœ€è¿‘ä¸€ç›´åœ¨ç»™æˆ‘çš„äº§å“è–¯å›¾å¯»æ‰¾æ€§ä»·æ¯”é«˜çš„ç”Ÿå›¾ APIã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39d5162126af49d4b4d92905b169df43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=nCU2Hs6Qec04474OQqAnjENZXl0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¯•äº†å¾ˆå¤šçš„ä¸­è½¬ç«™ï¼Œç›®å‰ğŸŒpro çš„ä»·æ ¼å¤§æ¦‚åœ¨ 0.3-1.2 å…ƒä¹‹é—´ï¼Œæ€»æ˜¯åœ¨ç¨³å®šå’Œä»·æ ¼ä¹‹é—´åå¤è¡¡é‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f07e17b80454908be9ed16f93fa3920~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=x%2BsxAEJCNzxTCqv7Us6OmoLLRMY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>çœ‹äº† GLM-Image çš„ APIï¼Œä»·æ ¼åªè¦ 0.1 å…ƒä¸€å¼ å›¾ï¼Œæˆ‘æ•´ä¸ªäººéƒ½ç²¾ç¥äº†ã€‚</p>
<p>äºæ˜¯æˆ‘èŠ±æ—¶é—´å†…æµ‹äº†ä¸€ä¸‹ GLM-Imageï¼Œä¹Ÿé¡ºå¸¦æ¥çœ‹çœ‹è¿™ä¸ª<strong>é¦–ä¸ªåœ¨å›½äº§èŠ¯ç‰‡ä¸Šå®Œæˆå…¨ç¨‹è®­ç»ƒçš„SOTAå¤šæ¨¡æ€æ¨¡å‹</strong>æœ‰å‡ æ–¤å‡ ä¸¤ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1dc017a6e4324f9b90c265c94dfd2d03~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=Gp5uKIjxlpAlSblVq4pirbh4pME%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…ˆè¯´ä¸‹æ•´ä½“æ„Ÿå—ï¼š</p>
<p><strong>1ã€ä¸­æ–‡æŒ‡ä»¤ç†è§£èƒ½åŠ›å¥½ï¼Œæ–‡å­—ç”Ÿæˆå‡†ç¡®ç‡é«˜ï¼Œç‰¹åˆ«æ˜¯å¤šåŒºåŸŸæ–‡å­—ç”Ÿæˆä¸Šã€‚</strong><br/>
<strong>2ã€åœ¨ç»˜åˆ¶åŒ…å«å¤æ‚é€»è¾‘çš„åŸç†å›¾ã€ç§‘æ™®æ’ç”»ä¸Šè¡¨ç°å¥½ã€‚</strong><br/>
<strong>3ã€å…·å¤‡ä¸€å®šçš„è®¾è®¡å’Œå®¡ç¾èƒ½åŠ›ï¼Œ</strong></p>
<p>ä½†æ˜¯åœ¨é•¿ prompt çš„è¾“å…¥ä¸‹ï¼Œå°±ä¼šè¢«é™åˆ¶ï¼Œä¹Ÿå¸Œæœ›åé¢å®˜æ–¹å¯ä»¥ä¼˜åŒ–ä¸‹ï¼Œå°±æ‹¿è–¯å›¾æ¥è¯´ï¼Œæç¤ºè¯éå¸¸çš„é•¿ï¼Œå°±éå¸¸éœ€è¦æ”¯æŒã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦ç»™å¤§å®¶å¸¦æ¥ä¸€æ‰‹çš„å®æµ‹ï¼Œä»¥åŠå¯¹ GLM-Image çš„ API è°ƒç”¨æ•™ç¨‹ã€‚å¹¶ä¸”æˆ‘æŠŠåŸºäºGLM-Image API çš„ç”Ÿå›¾å¹³å°ä¹Ÿå¼€æºäº†ï¼Œå¤§å®¶å¯ä»¥å» GitHub ä¸Šä½¿ç”¨ï¼Œè§æ–‡æœ«ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a19d069e9d634a1c81ca38b1b60f9749~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=PVfI3T8%2FZI12SBPpVymFCbdbIPg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<blockquote>
<p>å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼Œå¹¶è½¬å‘ç»™éœ€è¦çš„æœ‹å‹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">GLM-Image ä»‹ç»</h2>
<p>åœ¨å¼€å§‹å®æµ‹å‰ï¼Œè¿˜æ˜¯æœ‰å¿…è¦æ¥äº†è§£ä¸‹ GLM-Imageã€‚</p>
<p>æ¨¡å‹åŸºäºæ˜‡è…¾Atlas 800T A2è®¾å¤‡å’Œæ˜‡æ€MindSpore AIæ¡†æ¶å®Œæˆä»æ•°æ®åˆ°è®­ç»ƒçš„å…¨æµç¨‹ï¼Œæ˜¯é¦–ä¸ªåœ¨å›½äº§èŠ¯ç‰‡ä¸Šå®Œæˆå…¨ç¨‹è®­ç»ƒçš„SOTAå¤šæ¨¡æ€æ¨¡å‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7602f7b494d1400995b4bb583e35855f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=kHv%2FUCxC3XhRoNfqmQfO%2FQBvIIs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>GLM-Imageé‡‡ç”¨è‡ªä¸»åˆ›æ–°çš„ã€Œè‡ªå›å½’+æ‰©æ•£è§£ç å™¨ã€æ··åˆæ¶æ„ï¼Œå®ç°äº†å›¾åƒç”Ÿæˆä¸è¯­è¨€æ¨¡å‹çš„è”åˆï¼Œ</p>
<p><strong>è¿™ä¹Ÿæ˜¯é¦–ä¸ªå¼€æºçš„å·¥ä¸šè¡¨ç°çº§ç¦»æ•£è‡ªå›å½’å›¾åƒç”Ÿæˆæ¨¡å‹</strong>ã€‚</p>
<p>GLM-Image å¼•å…¥äº†ã€Œè‡ªå›å½’+æ‰©æ•£è§£ç å™¨ã€æ··åˆæ¶æ„ï¼Œåˆ›æ–°åœ°èåˆäº†9Bå¤§å°çš„è‡ªå›å½’æ¨¡å‹ä¸7Bå¤§å°çš„DiTæ‰©æ•£è§£ç å™¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/695b0d3bbbb24b18b82e8a3ca53e3ba1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=nrKeeKC69jqzkIAUYpFymAcIcug%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŒæ—¶ï¼ŒGLM-Image åœ¨æ–‡å­—æ¸²æŸ“çš„æƒå¨æ¦œå•ä¸­è¾¾åˆ°å¼€æº SOTA æ°´å¹³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a1f17dbc3ba45609e1b26b58dbf3a8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=yvbjVB7v3uqT09R0wpXWF5K6vq8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-1">GLM-Image å®æµ‹</h2>
<p>ä¸‹é¢ç»™å¤§å®¶å¸¦æ¥ä¸€æ³¢æˆ‘ç”¨ API åšçš„å®æµ‹ GLM-Imageï¼Œå†…å«æç¤ºè¯ã€‚</p>
<h3 data-id="heading-2">é»‘æ¿æŠ¥åˆ¶ä½œ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0da59d2f8baa43d88ea73ed224ddbb15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=KPhE9i4CH3%2F2BiemS4AMgFzgSyk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs">æç¤ºè¯ï¼š
â¿Šæ¿ç²‰ç¬”â»›æ ¼çš„ç§‘å­¦ä¿¡æ¯å›¾æ’ç”»ï¼Œé‡‡â½¤æ¨ªå‘æ„å›¾ï¼ŒèƒŒæ™¯ä¸ºæ·±â¾Šâ¿Šæ¿ï¼Œå¸¦æœ‰æ˜æ˜¾çš„ç²‰ç¬”ç°ã€æ“¦æ‹­

ç—•è¿¹ä¸é¢—ç²’è´¨æ„Ÿï¼Œæ•´ä½“å‘ˆç°â¼©å­¦â¾¼å¹´çº§æˆ–ä¸­å­¦ç§‘å­¦æ•™å®¤ä¸­å¸¸â»…çš„æ•™å­¦â¿Šæ¿â»›æ ¼ã€‚é¡¶éƒ¨å±…ä¸­ä½ç½®

ä¸ºâ¼€ä¸ªâ¼¤æ ‡é¢˜ï¼Œä½¿â½¤å½©â¾Šç²‰ç¬”â¼¿å†™å­—ä½“â»›æ ¼ï¼Œæ ‡é¢˜å†…å®¹ä¸ºï¼šâ€œâ½œé¡¿çš„ä¸‰æ£±é•œå®éªŒï¼šå…‰çš„ã€ä¸ƒâ¼—

â¼†å˜ã€â€ï¼Œå­—ä½“é¢œâ¾ŠåŒ…æ‹¬çº¢ã€è“ã€ç»¿ã€â»©ã€ç´«ç­‰å¤šç§ç²‰ç¬”â¾Šï¼Œè¾¹ç¼˜ç•¥å¸¦ç²—ç³™æ„Ÿï¼Œå‘ˆç°â¼¿â¼¯ä¹¦å†™

çš„çœŸå®è´¨æ„Ÿã€‚ \n\nç”»â¾¯å·¦ä¾§æ”¾ç½®â¼€ä¸ªâ½¤â½©â¾Šç²‰ç¬”ç”»å‡ºçš„çŸ©å½¢å…‰æºè£…ç½®ï¼Œâ¼€æŸå¼ºçƒˆâ½©å…‰ä»¥â½”å¹³â½…

å‘å°„å‡ºï¼Œæ—è¾¹æ ‡æ³¨â½‚å­—ï¼šâ€œâ¼€æŸâ½©å…‰ï¼ˆâ¼¤ç¤¼åŒ…ï¼‰â€ï¼Œå­—ä½“é‡‡â½¤ç®€æ´çš„ç²‰ç¬”å­—ï¼Œç•¥å¸¦â¼¿å†™â»›æ ¼ã€‚

\n\nç”»â¾¯ä¸­å¤®ç»˜æœ‰â¼€å—é€æ˜çš„ä¸‰æ£±é•œï¼Œâ½¤â½©â¾Šç²‰ç¬”çº¿æ¡å‹¾å‹’å‡ºæ¸…æ™°çš„â½´ä½“ç»“æ„ï¼Œå…·æœ‰è½»å¾®çš„é€

è§†æ•ˆæœã€‚â½©å…‰è¿›â¼Šä¸‰æ£±é•œåï¼Œåœ¨å…¶å†…éƒ¨å‘â½£æŠ˜å°„å¹¶åˆ†ç¦»ï¼Œè¡¨ç°å‡ºå…‰çš„åˆ†è§£è¿‡ç¨‹ã€‚ \n\nç”»â¾¯å³ä¾§

å±•â½°â½©å…‰åˆ†è§£ä¸ºçº¢ã€æ©™ã€â»©ã€ç»¿ã€â»˜ã€è“ã€ç´«ä¸ƒé“å½©â¾Šå…‰æŸï¼Œå‘ˆæ‰‡å½¢å±•å¼€ï¼Œé¢œâ¾Šé‡‡â½¤ç²‰ç¬”è´¨æ„Ÿ

æ¸²æŸ“ï¼Œâ½½â¾®çœŸå®çš„å…‰æ•ˆã€‚åœ¨å½©â¾Šå…‰æŸçš„å³ä¾§ï¼Œâ½¤â¼¤æ‹¬å·æ ‡æ³¨ï¼šâ€œä¸ƒâ¾Šå…‰è°±ï¼ˆçœŸç›¸â¼¤â½©ï¼ï¼‰â€ã€‚

åœ¨å½©â¾Šå…‰æŸçš„ä¸Šâ½…å’Œä¸‹â½…åˆ†åˆ«â½¤ç²‰ç¬”â½‚å­—æ ‡æ³¨è§£é‡Šï¼šâ€œçº¢å…‰ï¼šæ‹å¼¯æœ€â¼©â€â€œç´«å…‰ï¼šæ‹å¼¯æœ€

â¼¤â€ã€‚ \n\nåœ¨ä¸‰æ£±é•œé¡¶éƒ¨æˆ–å½©â¾Šå…‰æŸä¸Šâ½…ï¼ŒåŠ â¼Šä¸¤ä¸ªæ‹Ÿâ¼ˆåŒ–çš„å¡é€šâ»†â¾Šï¼ˆç®€å•ç²‰ç¬”æ¶‚é¸¦â»›ï¼‰ï¼Œ

åˆ†åˆ«ä¸ºçº¢â¾Šå’Œç´«â¾Šï¼Œä¸¤ä¸ªâ»†â¾Šåƒæ»‘æ»‘æ¢¯â¼€æ ·é¡ºç€æŠ˜å°„è·¯å¾„æ»‘ä¸‹ï¼Œè¡¨æƒ…å¤¸å¼ ã€æœ‰è¶£ä½†ä¸è¿‡äºä½

å¹¼ï¼Œâ½¤äºç›´è§‚è¡¨ç°å…‰çš„æŠ˜å°„å·®å¼‚ï¼Œå¢å¼ºè¶£å‘³æ€§å’Œç†è§£æ€§ã€‚ \n\nåº•éƒ¨ä¸­å¤®ä½ç½®ç»˜åˆ¶â¼€ä¸ªç²‰ç¬”ç”»å‡º

çš„å¯¹â½©æ¡†æˆ–è®²è§£æ¡†ï¼Œå†…å«å¤šâ¾ä¸­â½‚è¯´æ˜â½‚å­—ï¼šâ€œåŸæ¥ï¼Œâ½©å…‰ä¸æ˜¯â€˜å•â¾ç‹—â€™ï¼Œâ½½æ˜¯â€˜ä¸ƒâ¾Šåˆ

ä½“â€™çš„å¤â¾Šå…‰ï¼ä¸åŒé¢œâ¾Šçš„å…‰â€˜æ€§æ ¼â€™ä¸åŒï¼ˆæŠ˜å°„ç‡ä¸åŒï¼‰ï¼Œè¿‡ä¸‰æ£±é•œæ—¶æ‹å¼¯â»†åº¦å°±ä¸åŒï¼Œç´«

å…‰æœ€å®¹æ˜“æ‹â¼¤å¼¯ï¼â€ \n\næ•´ä½“ç”»â¾¯â»›æ ¼ä¸ºâ¼¿ç»˜â»›æ ¼ï¼Œçº¿æ¡ç•¥å¸¦æŠ–åŠ¨æ„Ÿï¼Œå¼ºè°ƒç²‰ç¬”çš„è´¨æ„Ÿä¸â¼¿â¼¯

æ„Ÿï¼Œä¸è¿½æ±‚çœŸå®å…‰å­¦æ¨¡æ‹Ÿï¼Œâ½½æ˜¯æ³¨é‡ä¿¡æ¯ä¼ è¾¾ä¸æ•™å­¦ç›´è§‚æ€§ã€‚ä¿¡æ¯å›¾ç»“æ„æ¸…æ™°ï¼Œå…·æœ‰å¼ºçƒˆçš„æ•™

å­¦æ„Ÿï¼Œèåˆâ¼€ç‚¹å¹½é»˜å…ƒç´ ï¼Œé€‚åˆâ½¤äºç§‘æ™®æ’ç”»ã€çŸ¥è¯†å¡â½šæˆ–è¯¾å ‚æµ·æŠ¥ã€‚å›¾å¹…â¾¼åˆ†è¾¨ç‡ï¼Œâ¾®æ‘„å½±

â»›æ ¼ï¼Œâ¾®3Dæ¸²æŸ“ï¼Œä¸åŒ…å«çœŸå®â¼ˆç‰©å½¢è±¡ã€‚
</code></pre>
<h3 data-id="heading-3">é»‘æ¿ç²‰ç¬”é£æ ¼</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/337cb206483040baa7a59c62057c41f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=u8ns4%2Bfr74TZCMYmBD88%2FVt7B38%3D" alt="å›¾ç‰‡" loading="lazy"/>æç¤ºè¯ï¼š</p>
<pre><code class="hljs">æç¤ºè¯ï¼š
é»‘æ¿ç²‰ç¬”é£æ ¼ç§‘å­¦ä¿¡æ¯å›¾ï¼Œæ¨ªå‘æ„å›¾ï¼Œæ·±è‰²é»‘æ¿èƒŒæ™¯ï¼Œå¸¦æœ‰ç²‰ç¬”ç°ä¸æ“¦æ‹­ç—•è¿¹ã€‚

é¡¶éƒ¨æ ‡é¢˜ï¼š å½©è‰²ç²‰ç¬”æ‰‹å†™ä½“â€œæ¤ç‰©çš„é­”æ³•å¨æˆ¿â€ã€‚

å·¦ä¾§ï¼ˆåŸæ–™ï¼‰ï¼š æˆ´å¢¨é•œçš„å¡é€šå¤ªé˜³ï¼ˆé˜³å…‰ï¼‰ã€è“è‰²æ°´æ»´ï¼ˆæ°´ï¼‰ã€ç™½è‰²æ°”æ³¡ï¼ˆCO2ï¼‰ã€‚

ä¸­å¤®ï¼ˆåŠ å·¥ï¼‰ï¼š å·¨å¤§çš„ç»¿è‰²å¶å­å‰–é¢å›¾ï¼Œå†…éƒ¨ç”»æˆå·¥å‚è½¦é—´ï¼Œæœ‰ä¸€ä¸ªæˆ´å¨å¸ˆå¸½çš„ç»¿è‰²â€œå¶ç»¿ä½“â€å¡é€šè§’è‰²æ­£åœ¨å¤§é”…é‡Œæ…æ‹Œçƒ¹é¥ªã€‚

å³ä¾§ï¼ˆäº§ç‰©ï¼‰ï¼š é£˜å‡ºçš„O2æ°”æ³¡ï¼ˆæ°§æ°”ï¼‰å’Œå †ç§¯çš„ç™½è‰²æ–¹å—ï¼ˆç³–/æ·€ç²‰ï¼‰ã€‚

åº•éƒ¨ï¼š ç²‰ç¬”ç”»çš„è®²è§£æ¡†ï¼Œå†…å«ä¸­æ–‡è¯´æ˜æ–‡å­—ã€‚

é£æ ¼ï¼šÂ 2Dæ‰‹ç»˜æ¶‚é¸¦é£ï¼Œçº¿æ¡ç²—ç³™ï¼Œé«˜å¯¹æ¯”åº¦ç²‰ç¬”è´¨æ„Ÿï¼Œè‰²å½©é²œè‰³ï¼ˆç»¿ã€é»„ã€ç™½ä¸ºä¸»ï¼‰ï¼Œå¹½é»˜é€šä¿—ï¼Œéå†™å®ï¼Œæ— çœŸå®äººç‰©ï¼Œæ•™è‚²æ’å›¾é£æ ¼ã€‚
</code></pre>
<h3 data-id="heading-4">ä»¿çœŸ 3D å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71483cf6ae804be998da412973052c20~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=L2wOpH7Klhc3KN8fa6J2a9HnfXk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs">æç¤ºè¯ï¼š
ç”»ä¸ªèˆªç©ºå‘åŠ¨æœºçš„ä»¿çœŸ3då›¾ï¼Œå…¶ä¸­çš„å­—ä½“æœ‰ä¸­è‹±åŒè¯­æ³¨ç¨‹
</code></pre>
<h3 data-id="heading-5">ç”Ÿæˆæ¸…æ˜ä¸Šæ²³å›¾éƒ¨åˆ†</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc51f930f40746a3af7ed1aadded6f78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=eErhFhk9HexbYixLyU84uH8CFU8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs">æç¤ºè¯ï¼š
è¯·ä½ å¸®æˆ‘ç”Ÿæˆä¸€å¼ æ¸…æ˜ä¸Šæ²³å›¾çš„ç…§ç‰‡
</code></pre>
<h3 data-id="heading-6">ç”µå•†å®£ä¼ å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a9323641fda462d8362cd5d0d52e20d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=f%2Byn1UlorM%2FUP2I79bwVfMQkjDk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs">æç¤ºè¯ï¼š
é«˜ç«¯æç®€æŠ¤è‚¤å“æ‘„å½±ã€‚ç”»é¢ä¸­å¤®ç«–ç«‹ç€ä¸€ç“¶åŠé€æ˜çš„ç²‰è‰²æ¶²ä½“æ´é¢ä¹³ï¼Œé…æœ‰ç™½è‰²æŒ‰å‹æ³µå¤´ã€‚ç“¶èº«æµ¸æ¶¦åœ¨æŸ”å’Œçš„ç²‰è‰²æ³¡æ²«ä¸­ï¼Œè½»ç›ˆçš„æ³¡æ²«å‘å¤–æ‰©æ•£ï¼Œå½¢æˆå…‰æ»‘åœ†æ¶¦çš„å½¢çŠ¶ã€‚ç»†å°çš„é€æ˜æ°”æ³¡æ¼‚æµ®åœ¨æ³¡æ²«è¡¨é¢ã€‚å¹²å‡€çš„å“‘å…‰ç²‰è‰²èƒŒæ™¯ï¼Œ
å¸¦æœ‰å¾®å¦™çš„æ¸å˜æ•ˆæœã€‚æŸ”å’Œçš„æ¼«å°„é¡¶å…‰å’ŒæŸ”å’Œçš„è½®å»“å…‰é€è¿‡æ¶²ä½“ï¼Œè¥é€ å‡ºæ˜äº®çš„å…‰æ³½ï¼Œå¹¶çªå‡ºç“¶å†…çš„æŒ‰å‹æ³µå¤´ã€‚ç”»é¢æ¸…æ™°é”åˆ©ï¼Œæ¸…æ™°åº¦é«˜ï¼Œå‘ˆç°é€¼çœŸçš„æ¶²ä½“æŠ˜å°„æ•ˆæœï¼Œå…‰æ»‘çš„å¡‘æ–™å’Œç»ç’ƒè´¨æ„Ÿï¼Œå±•ç°å‡ºå¥¢åç¾å¦†å¹¿å‘Šé£æ ¼ï¼Œç¬¦åˆç°ä»£åŒ–å¦†å“å“ç‰Œå½¢è±¡ï¼Œè¶…é€¼çœŸï¼Œ8Kç»†èŠ‚ï¼Œé«˜åŠ¨æ€èŒƒå›´ã€‚ å¦å®šæç¤ºï¼šÂ 
æ‰‹ã€äººã€è„¸ã€æ‚ç‰©ã€åˆºçœ¼çš„åå…‰ã€æ ‡ç­¾å˜å½¢ã€æ— æ³•è¾¨è®¤çš„æ–‡å­—ã€æ‰­æ›²çš„æ³µã€ç”Ÿç¡¬çš„é˜´å½±ã€é¢—ç²’æ„Ÿã€å™ªç‚¹ã€ä½åˆ†è¾¨ç‡ã€ç”µè„‘ç‰¹æ•ˆé£æ ¼ã€å¡é€šé£æ ¼ã€å‡Œä¹±çš„æ³¡æ²«ã€å…‰çº¿ä¸å‡ã€æ°´å°
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fb0b73a9c4f4b4f95642019651a65f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=h4Qpqf%2BmSiaVu6JZormJwUv3Gyc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-css" lang="css">æç¤ºè¯ï¼š
è§†è§‰æ„å»ºï¼šTip-<span class="hljs-attribute">Top</span> æ ¸å¿ƒç³»åˆ—æœæ±åŒ…è£… ç¬¬ä¸€å±‚ï¼šæ ¸å¿ƒå®šè°ƒï¼ˆCore Intentï¼‰ ä¸€å¥—é«˜å“è´¨å•†ä¸šçº§çš„æœæ±åŒ…è£…è§†è§‰ã€‚ä¸ä»…æ˜¯äº§å“å±•ç¤ºï¼Œæ›´æ˜¯å……æ»¡åŠ¨æ„Ÿä¸é£Ÿæ¬²çš„å•†ä¸šæµ·æŠ¥ã€‚ç»Ÿä¸€é‡‡ç”¨Â <span class="hljs-number">2</span>:<span class="hljs-number">3</span>Â çš„çºµæ¨ªæ¯”ï¼Œæ—¨åœ¨é€šè¿‡å¼ºçƒˆçš„è§†è§‰å¼ åŠ›é©±åŠ¨æ¶ˆè´¹è´­ä¹°æ¬²æœ›ã€‚ ç¬¬äºŒå±‚ï¼šåœºæ™¯æ„å»ºï¼ˆContext &amp; Lightingï¼‰ æ„å»ºä¸€ä¸ª**åŠ¨æ€é£æº…ï¼ˆSplashï¼‰**çš„è™šæ‹Ÿç©ºé—´ã€‚æœæ±æµåœ¨åŒ…è£…å‘¨å›´å‘ˆèºæ—‹çŠ¶æ—‹è½¬ï¼Œä¼´éšç€æ–°é²œæœå—çš„é£èˆã€‚ç¯å…‰é€šé€ä¸”æ˜äº®ï¼Œå®Œç¾è¿˜åŸå•†ä¸šæ‘„å½±ä¸­å¯¹æ¶²ä½“æ™¶è¹å‰”é€è´¨æ„Ÿçš„æ•æ‰ã€‚Â 
ç¬¬ä¸‰å±‚ï¼šè§†è§‰ç³»ç»Ÿï¼ˆAesthetic &amp; Subjectï¼‰ è‰²å½©çŸ©é˜µï¼š é‡‡ç”¨è‰²å½©æ˜ å°„é€»è¾‘ã€‚è‰è“å‘³å¯¹åº”æ¸…æ–°è«å…°è¿ªç²‰ï¼ŒèŠ’æœå‘³å¯¹åº”çƒ­å¸¦æ©™é»„æ¸å˜ï¼Œè‘¡è„å‘³å¯¹åº”ä¼˜é›…æ·±ç´«æ¸å˜ã€‚ è§†è§‰è¯­è¨€ï¼š èµ°è¶…å†™å®ã€é«˜é¥±å’Œåº¦çš„æ´»åŠ›å•†ä¸šé£ï¼Œå¼ºè°ƒè‰²å½©çš„çº¯å‡€åº¦ä¸è¯±æƒ‘åŠ›ã€‚ ç¬¬å››å±‚ï¼šæ–‡å­—/ç¬¦å·ç³»ç»Ÿï¼ˆGraphicsï¼‰Â 
ç”»é¢è§†è§‰ä¸­å¿ƒä¸ºÂ <span class="hljs-string">"Tip-Top"</span>Â å“ç‰ŒåŒ…è£…ç›’ã€‚åŒ…è£…è®¾è®¡ä¸èƒŒæ™¯å…ƒç´ æ— ç¼èåˆï¼Œå“ç‰Œ Logo ä½äºåŒ…è£…é†’ç›®ä½ç½®ï¼Œä¸‹æ–¹æ ‡æ³¨å¯¹åº”çš„è‰è“ã€é‡‘èŠ’æœæˆ–ç´«è‰²è‘¡è„å£å‘³åç§°ã€‚ ç¬¬äº”å±‚ï¼šç»†èŠ‚å¢å¼ºï¼ˆMaterial &amp; Textureï¼‰ æè‡´è´¨æ„Ÿï¼š åŒ…è£…ç›’å‘ˆç°çœŸå®çš„çº¸è´¨/å¤åˆææ–™è§¦æ„Ÿï¼›æœè‚‰ç»†èŠ‚éœ€è¾¾åˆ°æ¯›å­”çº§å†™å®ï¼ˆå¦‚è‰è“è¡¨é¢çš„é¢—ç²’ã€èŠ’æœçš„æ¶¦æ³½ï¼‰ã€‚ åŠ¨æ€ç‰¹æ•ˆï¼š é£æº…çš„æ¶²ä½“å¸¦æœ‰å†™å®çš„å…‰æ³½åå°„ä¸é€šé€çš„æŠ˜å°„æ•ˆæœï¼ŒåŒ…è£…è¾¹ç¼˜ä¼´æœ‰åŠ¨æ„Ÿæ—‹è½¬çš„æ°´æµå¾®ç²’ã€‚
</code></pre>
<h3 data-id="heading-7">äººç‰©ç”Ÿæˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5b4f2bd276d4b3ca102bd418da57975~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=OhZeILprgTa8frlsxbRxf55U3N4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-makefile" lang="makefile">æç¤ºè¯ï¼š
<span class="hljs-section">9:16ï¼Œè¶…ç°å®ç”µå½±æ„Ÿè‡ªæ‹æ‘„å½±ï¼Œä¸¥æ ¼ä¿ç•™å‚è€ƒå›¾è„¸éƒ¨ã€çš®è‚¤ã€å¤´å‘ã€çœ¼é•œã€å¹´é¾„æ€§åˆ«ï¼Œæ— åˆæˆçš®è‚¤/é›•å¡‘æ„Ÿï¼›å¥³æ€§å…¨èº«è‡ªæ‹ï¼Œä¸€è„šè§¦åœ°ï¼Œä¸€æ‰‹ä¼¸ç›´ä¸Šä¸¾æŒæœºï¼ˆç›¸æœºä¸å¯è§ï¼‰ã€ä¸€æ‰‹ä¼¸é•œå¤´å‰æŒä½³èƒ½ç›¸æœºï¼ˆäº§å“æœ€çªå‡ºï¼‰ï¼Œå¤´å¾®å€¾ã€è¡¨æƒ…æ”¾æ¾ï¼›æç«¯ä¿¯æ‹ï¼ˆç›¸æœºæ­£ä¸Šæ–¹ï¼‰+èƒ¸éƒ¨é«˜åº¦è‡ªæ‹è§†è§’ï¼Œå¼ºåˆ¶é€è§†è®©å¥³æ€§æåº¦å·¨å¤§ï¼Œ</span>
å»ºç­‘æœ€é«˜åŠè†ï¼Œè¡Œäºº/è½¦è¾†ä¸ºçœŸå®å°ºåº¦ï¼›èƒŒæ™¯æ˜¯çœŸå®åŸå¸‚åå­—è·¯å£ï¼ˆå«äººè¡Œæ¨ªé“ã€äº¤é€šæ ‡å¿—ç­‰ï¼‰ï¼Œè‡ªç„¶æ—¥å…‰ï¼ˆæ™´/è½»å¾®å¤šäº‘ï¼‰ã€é˜´å½±æŸ”å’ŒçœŸå®ï¼›ä½³èƒ½ç›¸æœºæ— ç•¸å˜ã€logoå®Œæ•´ã€ä»…è‡ªç„¶åå…‰ï¼›ç”»é¢æ— AIè‰ºæœ¯æ„Ÿã€å¡‘æ–™çš®è‚¤ã€
è‚¢ä½“æ‰­æ›²ã€å¤šä½™è‚¢ä½“ã€æ–‡å­—æ°´å°ï¼Œå‰æ™¯/ä¸»ä½“/èƒŒæ™¯æ¸…æ™°åˆ†ç¦»ï¼Œä¸»ä½“è§†è§‰ä¸»å¯¼å…¨åœºæ™¯
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2673f9e3e464b30a96a1236e0c75738~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=ZKKha8OPFKbWJepEXjpI5F5C8YQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-makefile" lang="makefile">æç¤ºè¯ï¼š
ä¼ ç»Ÿè‰ºæœ¯æ‰«æï¼Œçº¹ç†çº¸ä¸Šçš„åŸå§‹çŸ³å¢¨é“…ç¬”ç´ æã€‚è‰ºæœ¯é£æ ¼æ˜æ˜¾ä¸ºè’æœ¨é£å•å½¦ï¼Œã€ŠJOJOçš„å¥‡å¦™å†’é™©ã€‹ç¾å­¦ã€‚ç²—çŠ·ã€é»‘ç™½æ¼«ç”»åˆ†é•œæ„Ÿã€‚å…¨èº«é•œå¤´ï¼Œæ‘†å‡ºå¤¸å¼ ã€æˆå‰§åŒ–çš„â€œJOJOç«‹â€ï¼Œè‚¢ä½“æ‰­æ›²ã€ä¸å¯èƒ½è§£å‰–ç»“æ„ã€
<span class="hljs-section">å¼ºçƒˆåŠ¨æ€é€è§†ã€‚é«˜çº§æ—¶å°šé›•å¡‘å§¿æ€ã€‚å¼ºè°ƒè‚Œè‚‰ç»“æ„ä¸å¼ åŠ›ã€‚åšé‡æ£±è§’äº¤å‰å½±çº¿é˜´å½±ï¼Œå¤§èƒ†å‡¿åˆ»ç²—è½®å»“ï¼Œæå…¶ç»†è‡´çš„é¢éƒ¨ç‰¹å¾ï¼Œåšå”‡é”åˆ©çœ¼ç¥ã€‚å¯è§çš„ä¾µç•¥æ€§é“…ç¬”ç¬”è§¦ã€‚é«˜å¯¹æ¯”åº¦ã€‚å¼ºçƒˆæ°”åœºã€‚9:16</span>
</code></pre>
<h3 data-id="heading-8">æµ·æŠ¥</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c713b9f8f274d2f985296b9bbf74fb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=6O36Xeis7ct%2FYSTZVC8UkrXmgiA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-css" lang="css">æç¤ºè¯ï¼š
æˆ‘è¦ä¸¾åŠä¸€åœºæ´»åŠ¨ï¼Œä¸»é¢˜ä¸ºâ€œ<span class="hljs-selector-tag">A</span>èµ‹èƒ½å‘æ˜åˆ›æ–°â€ï¼Œæ—¶é—´ä¸º<span class="hljs-number">2025</span>å¹´<span class="hljs-number">11</span>Â æœˆ<span class="hljs-number">20</span>æ—¥ä¸Šåˆ<span class="hljs-number">10</span>ç‚¹ï¼Œåœ°ç‚¹åœ¨åŒ—äº¬ä½“è‚²ä¸­å¿ƒï¼Œè¯·å¸®æˆ‘ç”»ä¸€å¼ å®£ä¼ æµ· æŠ¥ï¼Œè¦æ±‚æœ‰ç§‘æŠ€æ„Ÿã€‚
</code></pre>
<h3 data-id="heading-9">åšèœæ­¥éª¤</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca5e275e5e0d4441864d76e133b70d6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=vyhXNvebfMB3dsqUZp1uF5ia7Zk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs">æç¤ºè¯ï¼š
ä¸ºã€Œ{çº¢çƒ§é±¼}ã€ç”Ÿæˆä¸€å¼ åˆ†æ­¥éª¤èœè°±ä¿¡æ¯å›¾ï¼Œè¦æ±‚ï¼š - ä¿¯è§†å›¾ï¼Œæç®€é£æ ¼ï¼Œç™½è‰²èƒŒæ™¯ - é¡¶éƒ¨å±…ä¸­æ˜¾ç¤ºèœå“ä¸­æ–‡å - æ ‡æ³¨æ‰€æœ‰é£Ÿæçš„ä¸­æ–‡åç§°ã€ç”¨é‡å’Œçƒ­é‡ - ç”¨è™šçº¿å’Œå›¾æ ‡å±•ç¤ºçƒ¹é¥ªæ­¥éª¤ - åº•éƒ¨å±•ç¤ºæˆå“æ‘†ç›˜æ•ˆæœå›¾ è¯·æ ¹æ®è¯¥èœå“çš„ä¼ ç»Ÿåšæ³•ï¼Œè‡ªåŠ¨åŒ¹é…åˆé€‚çš„ï¼šÂ 1. é£Ÿææ¸…å•ï¼ˆåŒ…å«ç²¾ç¡®ç”¨é‡å’Œçƒ­é‡ï¼‰Â 2. çƒ¹é¥ªæ­¥éª¤å›¾æ ‡ï¼ˆå¦‚ï¼šåˆ‡èœã€ç‚’åˆ¶ã€è°ƒå‘³ç­‰ï¼‰Â 3. æˆå“å‘ˆç°æ–¹å¼Â 2:3
</code></pre>
<h2 data-id="heading-10">å¦‚ä½•æ¥å…¥ API</h2>
<p>ç›®å‰ GLM-Image çš„ API è¿˜å¤„äºå†…æµ‹é˜¶æ®µï¼Œä¸ºäº†æ–¹ä¾¿å¤§å®¶ä½“éªŒï¼Œæˆ‘ç”¨ Claude Code é…åˆ GLM-4.7 å¼€å‘äº†ä¸ªæµ‹è¯•å¹³å°ï¼Œå¹¶ä¸”åœ¨ GitHub ä¸Šå¼€æºäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4146a2a32c9a4022888cdf4861b465c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=CPiiG7t1uPa7zYndkJZWAwqMTIc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¾“å…¥éœ€æ±‚ç”Ÿæˆå›¾ç‰‡ï¼Œå¤§å®¶å¯ä»¥åœ¨ bigmodel ä¸Šç”¨è‡ªå·±çš„ API è¯•è¯•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9263f0a462f4d0a8809c07b4868cc8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=kPytKC3HyAv328T8rSPvBsMTJe8%3D" alt="wxv_4341792120702074885" loading="lazy"/></p>
<p>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffreestylefly%2Fglm_image_platform" target="_blank" title="https://github.com/freestylefly/glm_image_platform" ref="nofollow noopener noreferrer">github.com/freestyleflâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/695e1f1e549d489380b5afc754cb8b2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441444&amp;x-signature=Mk9ow9pf8AYI4cXe%2FCHUewNcFZg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-11">å†™åœ¨æœ€å</h2>
<p>è¯´å®è¯ï¼Œå†™åˆ°è¿™é‡Œï¼Œæˆ‘å¿ƒé‡ŒæŒºæ„Ÿæ…¨çš„ã€‚</p>
<p>æ›¾å‡ ä½•æ—¶ï¼Œå›½äº§ç®—åŠ›åœ¨å¾ˆå¤š AI å¼€å‘è€…çœ¼é‡Œï¼Œå¾€å¾€æ„å‘³ç€é€‚é…éš¾ã€ç”Ÿæ€å¼±ã€ç”šè‡³è·‘ä¸åŠ¨ã€‚</p>
<p>ä½†è¿™å›ï¼ŒGLM-Image è¿™ä¸ªå®Œå…¨åŸºäºå›½äº§èŠ¯ç‰‡è®­ç»ƒå‡ºæ¥çš„ SOTA æ¨¡å‹ï¼Œå®å®åœ¨åœ¨åœ°è¯æ˜äº†ä¸€ä»¶äº‹ï¼š<strong>å“ªæ€•è·¯å†éš¾èµ°ï¼Œåªè¦æœ‰äººè‚¯æ²‰ä¸‹å¿ƒå»æ­»ç£•ï¼Œè·¯æ€»æ˜¯èƒ½èµ°é€šçš„ã€‚</strong></p>
<p>å®ƒå¯èƒ½è¿˜ä¸æ˜¯ç»ˆç‚¹ï¼Œç”šè‡³å¯èƒ½åœ¨æŸäº›åœºæ™¯ä¸‹è¿˜æœ‰ç‘•ç–µï¼Œä½†å®ƒè¿ˆå‡ºçš„è¿™ä¸€æ­¥ï¼Œè®©å’±ä»¬çœ‹åˆ°äº†å›½äº§ AI ç”Ÿæ€â€œè‡ªä¸»é€ è¡€â€çš„å¸Œæœ›ã€‚</p>
<p>é£èµ·äºé’èä¹‹æœ«ï¼Œæˆ‘å¾ˆæœŸå¾…çœ‹åˆ°å¤§å®¶ç”¨å®ƒç©å‡ºä»€ä¹ˆæ–°èŠ±æ ·ã€‚</p>
<p>æ¨¡å‹é“¾æ¥å’Œéƒ¨ç½²æ•™ç¨‹æˆ‘éƒ½æ‰“åŒ…å¥½äº†ï¼Œæ„Ÿå…´è¶£çš„å…„å¼Ÿä»¬è‡ªå–ã€‚</p>
<p>å¥½å•¦ï¼Œä»Šå¤©çš„æ–‡ç« å°±åˆ°è¿™ï¼Œæ„Ÿè°¢ä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œæˆ‘ä»¬ä¸‹ä¸€æœŸè§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡ææ‡‚t-SNEå’ŒUMAPé™ç»´æ–¹æ³•ï¼]]></title>    <link>https://juejin.cn/post/7596919439019278345</link>    <guid>https://juejin.cn/post/7596919439019278345</guid>    <pubDate>2026-01-19T15:36:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596919439019278345" data-draft-id="7596906473306636338" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡ææ‡‚t-SNEå’ŒUMAPé™ç»´æ–¹æ³•ï¼"/> <meta itemprop="keywords" content="é¢è¯•,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-19T15:36:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="aicoting"/> <meta itemprop="url" content="https://juejin.cn/user/933911964427818"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡ææ‡‚t-SNEå’ŒUMAPé™ç»´æ–¹æ³•ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/933911964427818/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    aicoting
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:36:20.000Z" title="Mon Jan 19 2026 15:36:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ¨èç›´æ¥ç½‘ç«™åœ¨çº¿é˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Faicoting.cn" target="_blank" title="https://aicoting.cn" ref="nofollow noopener noreferrer">aicoting.cn</a></p>
</blockquote>
<p>é™ç»´ä¸è¡¨ç¤ºå­¦ä¹ æ˜¯æ— ç›‘ç£å­¦ä¹ ä¸­çš„é‡è¦æ–¹æ³•ï¼Œæ—¨åœ¨å°†é«˜ç»´æ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´ï¼ŒåŒæ—¶å°½å¯èƒ½ä¿ç•™æ•°æ®çš„ç»“æ„ä¸ä¿¡æ¯ã€‚é™ç»´æ–¹æ³•å¦‚ ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ã€ç‹¬ç«‹æˆåˆ†åˆ†æï¼ˆICAï¼‰ èƒ½å»é™¤å†—ä½™ç‰¹å¾ï¼Œé™ä½è®¡ç®—å¤æ‚åº¦ï¼Œå¹¶ä¾¿äºå¯è§†åŒ–ï¼›éçº¿æ€§æ–¹æ³•å¦‚ t-SNEã€UMAP åˆ™èƒ½åœ¨ä½ç»´ç©ºé—´ä¸­ä¿ç•™æ•°æ®çš„å±€éƒ¨æˆ–å…¨å±€ç»“æ„ã€‚</p>
<p>å‰é¢æˆ‘ä»¬ä»‹ç»äº†PCA<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1993373759931954886" target="_blank" title="https://zhuanlan.zhihu.com/p/1993373759931954886" ref="nofollow noopener noreferrer">ä¸€æ–‡ææ‡‚æœºå™¨å­¦ä¹ ä¸­çš„PCAä¸»æˆåˆ†åˆ†æï¼</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1993671061439549575" target="_blank" title="https://zhuanlan.zhihu.com/p/1993671061439549575" ref="nofollow noopener noreferrer">ICAæœºå™¨å­¦ä¹ ä¸­ç‹¬ç«‹æˆåˆ†åˆ†æICAå’Œä¸»æˆåˆ†åˆ†æPCAæœ‰ä»€ä¹ˆåŒºåˆ«</a>ï¼Ÿä»Šå¤©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ t-SNEå’ŒUMAPã€‚</p>
<h2 data-id="heading-0">t-SNE é™ç»´</h2>
<p>åœ¨é«˜ç»´æ•°æ®åˆ†æå’Œå¯è§†åŒ–ä¸­ï¼Œt-SNEï¼ˆt-distributed Stochastic Neighbor Embedding,t-åˆ†å¸ƒéšæœºé‚»åŸŸåµŒå…¥ï¼‰ æ˜¯ä¸€ç§éå¸¸æµè¡Œçš„éçº¿æ€§é™ç»´æ–¹æ³•ï¼Œç‰¹åˆ«é€‚ç”¨äºå°†é«˜ç»´æ•°æ®åµŒå…¥åˆ°äºŒç»´æˆ–ä¸‰ç»´ç©ºé—´ä»¥è¿›è¡Œå¯è§†åŒ–ã€‚</p>
<p>ä¸ PCA æˆ– ICA ä¸åŒï¼Œt-SNE å¹¶ä¸å…³æ³¨å…¨å±€ç»“æ„ï¼Œè€Œæ˜¯é‡ç‚¹ä¿æŒæ•°æ®åœ¨å±€éƒ¨é‚»åŸŸçš„ç»“æ„å…³ç³»ï¼Œä½¿ç›¸ä¼¼æ ·æœ¬åœ¨ä½ç»´ç©ºé—´ä¸­ä¿æŒç›¸å¯¹æ¥è¿‘ï¼Œè€Œä¸ç›¸ä¼¼æ ·æœ¬å°½é‡è¿œç¦»ï¼Œä»è€Œç›´è§‚å±•ç¤ºæ•°æ®çš„èšç±»æˆ–åˆ†å¸ƒæ¨¡å¼ã€‚</p>
<p>t-SNE çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†é«˜ç»´æ•°æ®ä¸­çš„ç›¸ä¼¼æ€§æ˜ å°„åˆ°ä½ç»´ç©ºé—´ã€‚å®ƒé¦–å…ˆè®¡ç®—é«˜ç»´ç©ºé—´ä¸­æ¯å¯¹æ ·æœ¬çš„æ¡ä»¶æ¦‚ç‡ï¼Œè¡¨ç¤ºä¸€ä¸ªæ ·æœ¬é€‰æ‹©å¦ä¸€ä¸ªæ ·æœ¬ä½œä¸ºé‚»å±…çš„å¯èƒ½æ€§ã€‚æ¥ç€ï¼Œt-SNE åœ¨ä½ç»´ç©ºé—´ä¸­å®šä¹‰ç±»ä¼¼çš„æ¡ä»¶æ¦‚ç‡ï¼Œå¹¶é€šè¿‡æœ€å°åŒ–é«˜ç»´ä¸ä½ç»´æ¦‚ç‡åˆ†å¸ƒä¹‹é—´çš„ Kullback-Leiblerï¼ˆKLï¼‰æ•£åº¦ï¼Œä½¿ä½ç»´åµŒå…¥å°½é‡ä¿æŒé«˜ç»´å±€éƒ¨ç›¸ä¼¼æ€§ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢â€œæ‹¥æŒ¤é—®é¢˜â€ï¼ˆCrowding Problemï¼‰ï¼Œt-SNE ä½¿ç”¨ t åˆ†å¸ƒï¼ˆè‡ªç”±åº¦ä¸º 1 çš„å­¦ç”Ÿ t åˆ†å¸ƒï¼‰ä»£æ›¿é«˜æ–¯åˆ†å¸ƒï¼Œå¢åŠ ä½ç»´ç©ºé—´ä¸­æ ·æœ¬é—´çš„åˆ†ç¦»åº¦ã€‚</p>
<p>t-SNE çš„ç®—æ³•æµç¨‹é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>è®¡ç®—é«˜ç»´ç›¸ä¼¼åº¦ï¼šå¯¹é«˜ç»´æ•°æ®ä¸­çš„æ¯å¯¹æ ·æœ¬ ï¼Œä½¿ç”¨é«˜æ–¯æ ¸è®¡ç®—æ¡ä»¶æ¦‚ç‡ ï¼Œè¡¨ç¤º é€‰æ‹© ä½œä¸ºé‚»å±…çš„æ¦‚ç‡ã€‚</li>
<li>å¯¹ç§°åŒ–æ¦‚ç‡ï¼šå°†æ¡ä»¶æ¦‚ç‡å¯¹ç§°åŒ–å¾—åˆ° ã€‚</li>
<li>åˆå§‹åŒ–ä½ç»´åµŒå…¥ï¼šé€šå¸¸éšæœºåˆå§‹åŒ–ä½ç»´ç©ºé—´ä¸­çš„ç‚¹ ã€‚</li>
<li>è®¡ç®—ä½ç»´ç›¸ä¼¼åº¦ï¼šä½¿ç”¨ t åˆ†å¸ƒè®¡ç®—ä½ç»´ç©ºé—´ä¸­æ¯å¯¹ç‚¹çš„ç›¸ä¼¼åº¦ ã€‚</li>
<li>æœ€å°åŒ– KL æ•£åº¦ï¼šé€šè¿‡æ¢¯åº¦ä¸‹é™æœ€å°åŒ–é«˜ç»´åˆ†å¸ƒ P ä¸ä½ç»´åˆ†å¸ƒ Q çš„ KL æ•£åº¦ï¼š</li>
<li>è¿­ä»£ä¼˜åŒ–ï¼šæ›´æ–°ä½ç»´åµŒå…¥ï¼Œç›´åˆ° KL æ•£åº¦æ”¶æ•›æˆ–è¾¾åˆ°é¢„è®¾è¿­ä»£æ¬¡æ•°ã€‚</li>
</ol>
<p>t-SNE çš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯å±€éƒ¨ç»“æ„ä¿æŒèƒ½åŠ›å¼ºï¼Œèƒ½å¾ˆå¥½åœ°å°†æ•°æ®ä¸­çš„ç°‡ç»“æ„å’Œå±€éƒ¨å…³ç³»å‘ˆç°åœ¨ä½ç»´ç©ºé—´ä¸­ï¼Œä½†å®ƒå¯¹å…¨å±€ç»“æ„çš„ä¿ç•™è¾ƒå¼±ã€‚æ­¤å¤–ï¼Œt-SNE å¯¹è¶…å‚æ•°æ•æ„Ÿï¼Œå¦‚ perplexityï¼ˆç›¸å½“äºé‚»å±…æ•°é‡çš„å¹³æ»‘å‚æ•°ï¼‰ã€å­¦ä¹ ç‡å’Œè¿­ä»£æ¬¡æ•°éƒ½ä¼šæ˜¾è‘—å½±å“ç»“æœã€‚å®è·µä¸­ï¼Œé€šå¸¸éœ€è¦å°è¯•ä¸åŒå‚æ•°ç»„åˆä»¥è·å¾—ç¨³å®šçš„å¯è§†åŒ–æ•ˆæœã€‚</p>
<p>ä¸‹é¢ä½¿ç”¨ Scikit-learn å¯¹ Iris æ•°æ®é›†è¿›è¡Œ t-SNE å¯è§†åŒ–ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris
<span class="hljs-keyword">from</span> sklearn.manifold <span class="hljs-keyword">import</span> TSNE
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># åŠ è½½æ•°æ®</span>
iris = load_iris()
X = iris.data
y = iris.target

<span class="hljs-comment"># t-SNE é™ç»´åˆ° 2 ç»´</span>
tsne = TSNE(n_components=<span class="hljs-number">2</span>, perplexity=<span class="hljs-number">30</span>, learning_rate=<span class="hljs-number">200</span>, n_iter=<span class="hljs-number">1000</span>, random_state=<span class="hljs-number">42</span>)
X_tsne = tsne.fit_transform(X)

<span class="hljs-comment"># å¯è§†åŒ–</span>
plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">6</span>))
plt.scatter(X_tsne[:,<span class="hljs-number">0</span>], X_tsne[:,<span class="hljs-number">1</span>], c=y, cmap=<span class="hljs-string">'viridis'</span>, s=<span class="hljs-number">40</span>)
plt.xlabel(<span class="hljs-string">"t-SNE Component 1"</span>)
plt.ylabel(<span class="hljs-string">"t-SNE Component 2"</span>)
plt.title(<span class="hljs-string">"t-SNE Visualization of Iris Dataset"</span>)
plt.colorbar()
plt.show()
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼ŒäºŒç»´æ•£ç‚¹å›¾å±•ç¤ºäº†ä¸åŒç±»åˆ«æ ·æœ¬çš„èšç±»æƒ…å†µã€‚å¯ä»¥çœ‹åˆ°ï¼Œt-SNE èƒ½å¾ˆå¥½åœ°åŒºåˆ†æ•°æ®çš„ä¸åŒç°‡ï¼Œå¹¶ä¸”ä¿æŒæ¯ä¸ªç°‡çš„å±€éƒ¨ç»“æ„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e19be82147a44e549dfc9075cfb8fd00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441780&amp;x-signature=EVfYkgbuA3tq9CDzqYZeDZ3zFVg%3D" alt="" loading="lazy"/></p>
<p>æ€»ç»“æ¥è¯´ï¼Œt-SNE æ˜¯ä¸€ç§å¼ºå¤§çš„éçº¿æ€§é™ç»´å’Œå¯è§†åŒ–æ–¹æ³•ï¼Œå°¤å…¶é€‚ç”¨äºé«˜ç»´æ•°æ®çš„æ¢ç´¢æ€§åˆ†æã€‚å®ƒèƒ½æœ‰æ•ˆæ­ç¤ºæ•°æ®çš„ç°‡ç»“æ„å’Œå±€éƒ¨å…³ç³»ï¼Œä½¿æ•°æ®å¯è§†åŒ–æ›´ç›´è§‚ã€‚ç›¸æ¯” PCAã€ICA ç­‰çº¿æ€§æ–¹æ³•ï¼Œt-SNE æ›´å…³æ³¨å±€éƒ¨ç›¸ä¼¼æ€§ï¼Œä½†ä¹Ÿå› æ­¤å­˜åœ¨å…¨å±€ç»“æ„ä¿ç•™ä¸è¶³å’Œè®¡ç®—å¼€é”€è¾ƒå¤§çš„é—®é¢˜ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œé€šè¿‡è°ƒæ•´è¶…å‚æ•°ï¼Œå¯ä»¥è·å¾—ä¸åŒçš„å¯è§†åŒ–æ•ˆæœï¼Œå¹¿æ³›åº”ç”¨äºå›¾åƒã€æ–‡æœ¬ã€åŸºå› ç»„æ•°æ®ç­‰é¢†åŸŸã€‚</p>
<h2 data-id="heading-1">UMAP é™ç»´</h2>
<p>UMAPï¼ˆUniform Manifold Approximation and Projectionï¼‰æ˜¯ä¸€ç§å…ˆè¿›çš„éçº¿æ€§é™ç»´æ–¹æ³•ï¼Œç”¨äºå°†é«˜ç»´æ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´ï¼ŒåŒæ—¶å°½å¯èƒ½ä¿ç•™æ•°æ®çš„å±€éƒ¨å’Œå…¨å±€ç»“æ„ã€‚</p>
<p>UMAP ç»“åˆäº†æµå½¢å­¦ä¹ ç†è®ºå’Œå›¾è®ºæ–¹æ³•ï¼Œç›¸æ¯” t-SNEï¼Œå®ƒä¸ä»…ä¿ç•™å±€éƒ¨é‚»åŸŸå…³ç³»ï¼ŒåŒæ—¶åœ¨ä½ç»´ç©ºé—´ä¸­å¯¹å…¨å±€ç»“æ„çš„ä¿ç•™ä¹Ÿæ›´å¥½ï¼Œå¹¶ä¸”è®¡ç®—æ•ˆç‡æ›´é«˜ã€‚UMAP å¹¿æ³›åº”ç”¨äºé«˜ç»´æ•°æ®å¯è§†åŒ–ã€èšç±»åˆ†æã€ç‰¹å¾æå–ç­‰åœºæ™¯ã€‚</p>
<h3 data-id="heading-2">ç®—æ³•åŸç†</h3>
<p>UMAP åŸºäºæµå½¢å‡è®¾ï¼Œå‡è®¾é«˜ç»´æ•°æ®åˆ†å¸ƒåœ¨ä½ç»´æµå½¢ä¸Šï¼Œå¹¶ä¸”æ•°æ®çš„å±€éƒ¨é‚»åŸŸå¯ä»¥åæ˜ æµå½¢çš„å‡ ä½•ç»“æ„ã€‚UMAP çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šé¦–å…ˆé€šè¿‡é«˜ç»´ç©ºé—´ä¸­çš„é‚»åŸŸå…³ç³»æ„å»ºä¸€ä¸ªåŠ æƒå›¾ï¼Œç„¶åå°†å›¾æ˜ å°„åˆ°ä½ç»´ç©ºé—´ï¼Œé€šè¿‡ä¼˜åŒ–ä½ç»´ç©ºé—´ä¸­ç‚¹çš„ç›¸ä¼¼æ€§ï¼Œä½¿å¾—é‚»å±…å…³ç³»å°½å¯èƒ½ä¿æŒä¸€è‡´ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼ŒUMAP é€šè¿‡ä»¥ä¸‹æ­¥éª¤å»ºç«‹æ˜ å°„ï¼š</p>
<ol>
<li>é«˜ç»´é‚»åŸŸå›¾æ„å»ºï¼šå¯¹æ¯ä¸ªæ ·æœ¬è®¡ç®— k ä¸ªæœ€è¿‘é‚»ï¼Œå¹¶ä½¿ç”¨æ¨¡ç³Šé›†åˆç†è®ºå®šä¹‰é‚»å±…ä¹‹é—´çš„ç›¸ä¼¼åº¦æƒé‡ã€‚</li>
<li>ä½ç»´å›¾åˆå§‹åŒ–ï¼šéšæœºåˆå§‹åŒ–ä½ç»´ç©ºé—´ä¸­æ¯ä¸ªæ ·æœ¬çš„ä½ç½®ã€‚</li>
<li>ä¼˜åŒ–åµŒå…¥ï¼šé€šè¿‡äº¤å‰ç†µæŸå¤±å‡½æ•°æœ€å°åŒ–é«˜ç»´å›¾å’Œä½ç»´å›¾ä¹‹é—´çš„å·®å¼‚ï¼Œä½¿ä½ç»´ç‚¹çš„é‚»å±…å…³ç³»ä¸é«˜ç»´æ•°æ®å°½é‡ä¸€è‡´ã€‚</li>
</ol>
<p>UMAP çš„ä¼˜åŒ–è¿‡ç¨‹ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰ï¼Œä½¿å…¶åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶ä¹Ÿèƒ½ä¿æŒé«˜æ•ˆç‡ã€‚UMAP çš„éçº¿æ€§ç‰¹æ€§ä½¿å®ƒèƒ½å¤Ÿæ•æ‰å¤æ‚çš„æ•°æ®ç»“æ„ï¼ŒåŒæ—¶ä¿ç•™å±€éƒ¨å’Œéƒ¨åˆ†å…¨å±€å…³ç³»ã€‚</p>
<h3 data-id="heading-3">ç®—æ³•ç‰¹ç‚¹</h3>
<p>ä¸å…¶ä»–é™ç»´æ–¹æ³•ç›¸æ¯”ï¼ŒUMAP å…·æœ‰ä»¥ä¸‹æ˜¾è‘—ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å±€éƒ¨ç»“æ„ä¿æŒèƒ½åŠ›å¼ºï¼šç±»ä¼¼ t-SNEï¼Œèƒ½å¤Ÿå°†ç›¸ä¼¼æ ·æœ¬åœ¨ä½ç»´ç©ºé—´ä¸­èšé›†ã€‚</li>
<li>å…¨å±€ç»“æ„ä¿ç•™è¾ƒå¥½ï¼šç›¸æ¯” t-SNEï¼ŒUMAP åœ¨ä½ç»´ç©ºé—´ä¸­æ›´å¥½åœ°ä¿æŒç°‡ä¹‹é—´çš„ç›¸å¯¹ä½ç½®å…³ç³»ã€‚</li>
<li>é«˜è®¡ç®—æ•ˆç‡ï¼šUMAP åˆ©ç”¨å›¾è¿‘ä¼¼å’Œä¼˜åŒ–ç®—æ³•ï¼Œå¯¹å¤§è§„æ¨¡æ•°æ®çš„é™ç»´é€Ÿåº¦å¿«ã€‚</li>
<li>å¯æ‰©å±•æ€§å¼ºï¼šUMAP å¯ä»¥å¤„ç†æ•°åä¸‡åˆ°ç™¾ä¸‡çº§æ ·æœ¬çš„æ•°æ®é›†ï¼ŒåŒæ—¶æ”¯æŒæ–°æ ·æœ¬çš„åµŒå…¥ã€‚</li>
<li>è¶…å‚æ•°å¯æ§ï¼šä¸»è¦åŒ…æ‹¬ n_neighborsï¼ˆé‚»å±…æ•°é‡ï¼‰å’Œ min_distï¼ˆæœ€å°è·ç¦»ï¼‰ï¼Œåˆ†åˆ«æ§åˆ¶å±€éƒ¨å¹³æ»‘å’Œä½ç»´ç©ºé—´ç°‡çš„ç´§å¯†ç¨‹åº¦ã€‚</li>
</ul>
<p>ä¸‹é¢ç”¨ Python çš„ umap-learn åº“å¯¹ Iris æ•°æ®é›†è¿›è¡Œé™ç»´å’Œå¯è§†åŒ–ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> umap
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># åŠ è½½æ•°æ®</span>
iris = load_iris()
X = iris.data
y = iris.target

<span class="hljs-comment"># UMAP é™ç»´åˆ° 2 ç»´</span>
umap_model = umap.UMAP(n_neighbors=<span class="hljs-number">15</span>, min_dist=<span class="hljs-number">0.1</span>, n_components=<span class="hljs-number">2</span>, random_state=<span class="hljs-number">42</span>)
X_umap = umap_model.fit_transform(X)

<span class="hljs-comment"># å¯è§†åŒ–</span>
plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">6</span>))
plt.scatter(X_umap[:,<span class="hljs-number">0</span>], X_umap[:,<span class="hljs-number">1</span>], c=y, cmap=<span class="hljs-string">'viridis'</span>, s=<span class="hljs-number">40</span>)
plt.xlabel(<span class="hljs-string">"UMAP Component 1"</span>)
plt.ylabel(<span class="hljs-string">"UMAP Component 2"</span>)
plt.title(<span class="hljs-string">"UMAP Visualization of Iris Dataset"</span>)
plt.colorbar()
plt.show()
</code></pre>
<p>åœ¨ç»“æœä¸­ï¼Œä¸åŒç±»åˆ«çš„æ ·æœ¬è¢«æ¸…æ™°åœ°åˆ†å¼€ï¼ŒUMAP èƒ½åŒæ—¶ä¿ç•™å±€éƒ¨ç°‡ç»“æ„å’Œç°‡ä¹‹é—´çš„å…¨å±€å…³ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e302480eabec4eff8d870a68022ec29e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441780&amp;x-signature=l7Ux%2BufE9To7sqqqun9sJcJpXpY%3D" alt="" loading="lazy"/></p>
<p>UMAP é€‚ç”¨äºå¤šç§é«˜ç»´æ•°æ®åˆ†æä»»åŠ¡ï¼š</p>
<ul>
<li>æ•°æ®å¯è§†åŒ–ï¼šäºŒç»´æˆ–ä¸‰ç»´æŠ•å½±ï¼Œä¾¿äºè§‚å¯Ÿæ•°æ®åˆ†å¸ƒå’Œèšç±»ç»“æ„ã€‚</li>
<li>èšç±»å‰å¤„ç†ï¼šé™ä½ç»´åº¦å‡å°‘è®¡ç®—é‡ï¼Œæé«˜èšç±»ç®—æ³•æ•ˆç‡ã€‚</li>
<li>ç‰¹å¾æå–ï¼šä»é«˜ç»´æ•°æ®ä¸­æå–ä½ç»´ç‰¹å¾ç”¨äºåˆ†ç±»æˆ–å›å½’ä»»åŠ¡ã€‚</li>
<li>ç”Ÿç‰©ä¿¡æ¯å­¦ï¼šç”¨äºå•ç»†èƒ RNA-seq æ•°æ®åˆ†æå’Œå¯è§†åŒ–ã€‚</li>
<li>å›¾åƒä¸æ–‡æœ¬ï¼šåœ¨å›¾åƒåµŒå…¥å’Œè‡ªç„¶è¯­è¨€å¤„ç†ç‰¹å¾è¡¨ç¤ºä¸­å¹¿æ³›ä½¿ç”¨ã€‚</li>
</ul>
<p>æ€»ç»“ä¸€ä¸‹ï¼ŒUMAP æ˜¯ä¸€ç§é«˜æ•ˆã€çµæ´»çš„éçº¿æ€§é™ç»´æ–¹æ³•ï¼Œç»“åˆäº†æµå½¢å­¦ä¹ å’Œå›¾ä¼˜åŒ–æ€æƒ³ï¼Œèƒ½å¤Ÿåœ¨ä½ç»´ç©ºé—´ä¸­åŒæ—¶ä¿ç•™å±€éƒ¨å’Œå…¨å±€ç»“æ„ã€‚ç›¸æ¯” t-SNEï¼Œå®ƒåœ¨å¯è§†åŒ–é«˜ç»´æ•°æ®ç°‡ç»“æ„å’Œä¿æŒç°‡é—´å…³ç³»æ–¹é¢è¡¨ç°æ›´å¥½ï¼ŒåŒæ—¶è®¡ç®—é€Ÿåº¦æ›´å¿«ã€‚UMAP çš„è¶…å‚æ•°å¯è°ƒï¼Œä½¿å…¶åœ¨ä¸åŒæ•°æ®é›†å’Œä»»åŠ¡ä¸­çµæ´»é€‚é…ã€‚é€šè¿‡åˆç†ä½¿ç”¨ UMAPï¼Œå¯ä»¥å°†å¤æ‚é«˜ç»´æ•°æ®çš„æ¨¡å¼ã€ç°‡ç»“æ„å’Œæ½œåœ¨ç‰¹å¾ç›´è§‚å‘ˆç°ï¼Œä¸ºåç»­åˆ†æå’Œå»ºæ¨¡æä¾›æœ‰åŠ›æ”¯æŒã€‚</p>
<p>ğŸ“š æ¨èé˜…è¯»</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485782%26idx%3D1%26sn%3D060c8222b47cbf903fbfded1f0421bcf%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485782&amp;idx=1&amp;sn=060c8222b47cbf903fbfded1f0421bcf&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ä¹‹æ•°æ®é¢„å¤„ç†ç¯‡ï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485800%26idx%3D1%26sn%3Da52107c9dc7071d8530a24563861fa46%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485800&amp;idx=1&amp;sn=a52107c9dc7071d8530a24563861fa46&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ç‰¹å¾å·¥ç¨‹ä¸­çš„ç‰¹å¾é€‰æ‹©</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485808%26idx%3D1%26sn%3D2c57081d4b12433f6b8919209e2e52ed%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485808&amp;idx=1&amp;sn=2c57081d4b12433f6b8919209e2e52ed&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ä¸­çš„ç‰¹å¾æ„é€ </a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485820%26idx%3D1%26sn%3Dadcb41fd14347f2f1431709323fa253f%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485820&amp;idx=1&amp;sn=adcb41fd14347f2f1431709323fa253f&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ä¹‹ç‰¹å¾é™ç»´</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485941%26idx%3D1%26sn%3Dcb53a98bacd1cfbd3255bbeeab6a24ec%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485941&amp;idx=1&amp;sn=cb53a98bacd1cfbd3255bbeeab6a24ec&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸€æ–‡ææ‡‚å±‚æ¬¡èšç±»å’Œå¯†åº¦èšç±»æ–¹æ³•ï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485946%26idx%3D1%26sn%3Da5cf50a4a3bda9785fb0c7baae3a6bb2%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485946&amp;idx=1&amp;sn=a5cf50a4a3bda9785fb0c7baae3a6bb2&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸€æ–‡ææ‡‚æœºå™¨å­¦ä¹ ä¸­çš„PCAä¸»æˆåˆ†åˆ†æï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485952%26idx%3D1%26sn%3Dffe1fca4cb75b2f99ace92593554837c%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485952&amp;idx=1&amp;sn=ffe1fca4cb75b2f99ace92593554837c&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ä¸­ç‹¬ç«‹æˆåˆ†åˆ†æICAå’Œä¸»æˆåˆ†åˆ†æPCAæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></p>
<p>æœ€æ–°çš„æ–‡ç« éƒ½åœ¨å…¬ä¼—å·æ›´æ–°ï¼Œåˆ«å¿˜è®°å…³æ³¨å“¦ï¼ï¼ï¼</p>
<p>ä½œè€…ï¼šaicoting</p>
<p>åˆ†äº«æ˜¯ä¸€ç§ä¿¡ä»°ï¼Œè¿æ¥è®©æˆé•¿æ›´æœ‰æ¸©åº¦ã€‚</p>
<p>æˆ‘ä»¬ä¸‹æ¬¡ä¸è§ä¸æ•£ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™å¼  DINQ å¡ï¼Œè£…ä¸‹äº†æˆ‘æ‰€æœ‰çš„ AI ç»å†ï¼]]></title>    <link>https://juejin.cn/post/7596934200580276260</link>    <guid>https://juejin.cn/post/7596934200580276260</guid>    <pubDate>2026-01-19T15:36:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596934200580276260" data-draft-id="7596883689827565631" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™å¼  DINQ å¡ï¼Œè£…ä¸‹äº†æˆ‘æ‰€æœ‰çš„ AI ç»å†ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T15:36:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä½•"/> <meta itemprop="url" content="https://juejin.cn/user/588993963763405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™å¼  DINQ å¡ï¼Œè£…ä¸‹äº†æˆ‘æ‰€æœ‰çš„ AI ç»å†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993963763405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä½•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:36:56.000Z" title="Mon Jan 19 2026 15:36:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯è‹ä½•çš„ç¬¬ 472 ç¯‡åŸåˆ›ï¼</p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è‹ä½•ã€‚</p>
<p>ä¸ç’ä½ è¯´ï¼Œæˆ‘ç°åœ¨ä¸¤ä¸ªå·åŠ èµ·æ¥å·®ä¸å¤šæœ‰ 15000 å¥½å‹äº†ï¼ŒåŠ èµ·æ¥ä¹Ÿå‘äº†å·®ä¸å¤šæœ‰ 10000 å¤šæ¬¡è‡ªæˆ‘ä»‹ç»äº†ã€‚</p>
<p>æˆ‘è¿­ä»£è¿‡ N ä¸ªç‰ˆæœ¬ï¼Œæ— è®ºæ˜¯æ–‡å­—ç‰ˆè¿˜æ˜¯å°ç¨‹åºç‰ˆï¼Œæ€»è§‰å¾—å“ªé‡Œä¸å¤§å¯¹åŠ²ï¼Œä½†åˆè¯´ä¸ä¸Šæ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/875ab91b956f4811bd3a474363e5862e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=VwltLpLYdRwv77m2wod6UYSj3as%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½ è¯´å‘çº¯æ–‡å­—å§ï¼Œåˆæ²¡åŠæ³•å±•ç¤ºå…¨ï¼Œè£…é€¼åˆæ²¡æ³•è£…åˆ°ä½ï¼ˆå‘¸ï¼Œæ˜¯æ²¡æ³•è®©æ–°æœ‹å‹æ›´æ·±å…¥äº†è§£æˆ‘ğŸ¶ï¼‰ã€‚</p>
<p>æ¯”å¦‚é™¤äº†å…¬ä¼—å·ï¼Œæˆ‘çš„å°çº¢ä¹¦ã€B ç«™ã€X æˆ‘è¿˜è›®æƒ³åˆ†äº«çš„ã€‚</p>
<p>åé¢ï¼Œæˆ‘åˆå­¦ç€å‘ä¸ªåç‰‡å°ç¨‹åºï¼Œä½†å¹³å°æ•°æ®åˆæ²¡åŠæ³•ç›´æ¥åŒæ­¥ï¼Œæ¯æ¬¡æœ‰æ–°çš„æ›´æ–°ï¼Œåˆå¾—åŒæ­¥ã€‚</p>
<p>æœ€å…³é”®çš„æ˜¯ï¼Œåœ¨å…¶ä»–å¹³å°çš„åç‰‡æ€»ä¸èƒ½éƒ½ç”¨å°ç¨‹åºå§ã€‚</p>
<p>ç‰¹åˆ«æ˜¯æœ€è¿‘ Xï¼Œä¸å°‘æœ‹å‹æƒ³é“¾æ¥æˆ‘ï¼Œä¸€å°å­æ²¡æ³•æ‰¾åˆ°ï¼Œåªèƒ½è¯„è®ºåŒºæ¥ç•™è¨€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0996b7873f3742e794e1d6e2bec2f807~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=VFRf6sdLiU%2Fr1LzWiNABplS6uhU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½ çœ‹æˆ‘ä¸»é¡µï¼Œå¹²å‡€çš„æ¯”åˆšå‡ºç”Ÿçš„å°çŒªè¿˜ç™½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/157e9e26d8374b9697553a36e4d6edbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=ovjjqRMWT96ZDLst0uQbP4Lwtl0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å”¯ä¸€ç•™çš„ä¸€ä¸ªä¸ªäººç½‘ç«™ï¼Œè¿˜æ˜¯å‰ä¸¤å¹´åšçš„ï¼Œå°±å¾ˆæŠ½è±¡ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘æ‰¾äº†è›®å¤šçš„å·¥å…·æƒ³è¦åšä¸€ä¸ªè¶…çº§åç‰‡ï¼Œèƒ½ all in one æ‰€æœ‰å¹³å°ï¼Œå¹¶æ–¹ä¾¿æ›´æ–°å’Œç»´æŠ¤ï¼Œæ›´æ–¹ä¾¿ç¤¾äº¤å’Œé“¾æ¥ã€‚</p>
<p>åªè¦ç²¾ç¥ä¸æ»‘å¡ï¼ŒåŠæ³•æ€»æ¯”é—®é¢˜å¤šï¼Œåœ¨ä¸€ç•ªæŠ˜è…¾åï¼Œæˆ‘æ€»ç®—æ‰¾åˆ°äº†ä¸€æ¬¾äº§å“ï¼Œèƒ½è§£å†³æˆ‘å½“ä¸‹çš„é—®é¢˜äº†ã€‚</p>
<p>æˆ‘æ„¿ç§°ä¹‹ä¸ºæˆ‘çš„ AI è¶…çº§åç‰‡ã€‚</p>
<p>æˆ‘å…ˆæµ…æµ…ç»™ä½ æˆªä¸€å¼ å›¾ï¼Œä½ å…ˆæµ…æµ…æ„Ÿå—ä¸€ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d43888fba0f4555836447fd8c4a6535~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=xEut8e1m8JYxIVXF4%2BJMUl2Cpvw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ˜¯ç¬¬äºŒè§†è§’ï¼Œä¹Ÿå°±æ˜¯æ‹¿åˆ°æˆ‘çš„åç‰‡åçœ‹åˆ°çš„é™æ€æ•ˆæœï¼Œä½†ä½ ä»¥ä¸ºå°±è¿™ï¼Ÿè¯´ä¸ªé”¤å­ï¼Œè¿˜çœŸä¸æ˜¯ã€‚</p>
<p>é¦–å…ˆï¼Œè¿™æ˜¯ä¸ªå¯ä»¥äº¤äº’çš„ AI è¶…çº§åç‰‡ï¼Œè¿™é‡Œé¢æ¯ä¸€ä¸ªç¤¾åª’è´¦å·éƒ½æ˜¯å¯ç‚¹å‡»ç›´æ¥è·³è½¬åˆ°å¯¹åº”ä¸»é¡µçš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/017309c787994fa397b26e4a065aaaed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=UYh8FQ%2F51A3%2F7SSNEoksgtI9LoA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œä¸”ä½ å‘ç°æ²¡æœ‰ï¼Œè¿™é‡Œå±•ç¤ºçš„æ°¸è¿œæ˜¯æˆ‘æœ€æ–°çš„ä¸€æ¡ä½œå“ï¼Œä¹Ÿå°±æ˜¯ï¼Œå¹³å°æ•°æ®çš„æ›´æ–°ï¼Œåœ¨è¿™é‡Œå°±èƒ½å®æ—¶åšæ˜¾ç¤ºã€‚</p>
<p>æ¯”å¦‚æˆ‘æœ€è¿‘åœ¨ X ä¸Šå‘è¡¨çš„ skills çš„æ•™ç¨‹ï¼Œå½“æˆ‘ç‚¹å‡»è¿›å»çš„æ—¶å€™ï¼Œå®¢æˆ·å°±èƒ½çœ‹åˆ°æˆ‘æœ€æ–°çš„è¿™æ¡å†…å®¹ã€‚</p>
<p>å¯¹äºåƒ Xã€YouTubeã€B ç«™ç­‰å¹³å°çš„ç²‰ä¸æ•°æ®ä¹Ÿç›´æ¥ä¸€å¹¶æ˜¾ç¤ºäº†ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œè¿™ä¸ªæ•°æ®ä¹Ÿæ˜¯åŠ¨æ€æ›´æ–°çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13eb9928faad47c59f51fdf9e24bce6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=ywIOD6EF7IstpScIhOguhYfE6v4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½ å‘ç°æ²¡æœ‰ï¼Œåœ¨ X å…³æ³¨æ•°çš„ä¸‹æ–¹ï¼Œæœ‰ä¸€ä¸ª Top Smart Followersï¼Œä½ æ˜¯å¯ä»¥çœ‹åˆ°æœ€æ´»è·ƒç²‰ä¸æ•°çš„ï¼Œç‚¹å‡»ç”šè‡³èƒ½ç›´æ¥å»ä»–ä»¬çš„ä¸»é¡µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08d92d69b49944d39f8e8bc55a6c8c70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=pQMsidQUZ7q1KBnlNn4HGAfUCdE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘çœ‹äº†ä¸€ä¸‹ï¼Œæˆ‘çš„ç²‰ä¸ä¸­ï¼Œå±…ç„¶ top å‰ä¸‰éƒ½æ˜¯å°å§å§ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºæˆ‘è¿™ä¸ªé»„æ¯›å¤´åƒæ¯”è¾ƒäº®çœ¼è¿˜æ˜¯å…¶ä»–ä»€ä¹ˆåŸå› ï¼Œæ€»ä¹‹è¿˜æŒºæƒŠå–œçš„ã€‚</p>
<p>è¿™è¿˜åªæ˜¯ä¸€å°éƒ¨åˆ†ç»†èŠ‚ï¼Œåœ¨ YouTube è¿™é‡Œç”šè‡³å¯ä»¥ç›´æ¥çœ‹æœ€æ–°çš„ä¸€æ¡è§†é¢‘ï¼Œè€Œæ— éœ€ç›´æ¥è·³è½¬åˆ° YouTube å¹³å°ï¼Œå°±å¯å®Œæ•´çš„çœ‹å®Œæœ€æ–°çš„è§†é¢‘ä½œå“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f723ce36ff446668f22654f3bde6fca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=NVwZZTfWMFenkhIrgVmhfwW4e6g%3D" alt="wxv_4342331248954572800" loading="lazy"/></p>
<p>é™¤äº†å±•ç¤ºç¤¾äº¤å¹³å°ï¼Œè¿˜èƒ½æ”¾è‡ªå·±çš„äº§å“ï¼Œç®€å†ã€ä¸ªäººç½‘ç«™ç­‰ï¼Œå¯ä»¥æ”¾å›¾ç‰‡æˆ–è€…è§†é¢‘ï¼Œç„¶åè¶…é“¾æ¥è·³è½¬ã€‚æ¯”å¦‚æˆ‘å°±æ”¾äº†ä¸ªæˆ‘çš„äº§å“è–¯å›¾çš„è§†é¢‘ï¼Œå½“ç”¨æˆ·ç‚¹å‡»è§†é¢‘å°±èƒ½è·³è½¬åˆ°äº§å“é¦–é¡µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/273003bd014e4e30a7d6d3948dc560f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=LhFxytaWHCW4Fj7r2KmFjh3oi74%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿˜èƒ½å±•ç¤ºå›¢é˜Ÿå…³ç³»ä»¥åŠç›¸å…³ä»‹ç»ã€‚å½•äº†ä¸ªè§†é¢‘ä½ å¯ä»¥æ„Ÿå—ä¸€ä¸‹è¿™ç§é“¾æ¥çš„æ„Ÿè§‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f12cba3785bc4cf398273139f8fdb139~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=9tklZCr9n%2FbE51KlDCDRvYvPtQo%3D" alt="wxv_4342331629546242049" loading="lazy"/></p>
<p>ä½ ç”šè‡³è¿˜èƒ½ç›´æ¥åœ¨è¿™é‡Œæ‰¾æˆ‘èŠå¤©ï¼Œç›´æ¥è¿›è¡Œå³æ—¶é€šè®¯äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1322e3135854947b5df8bc9a5681ff9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=hX37Ha4smBSiXqrABJemw59fD4g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ˜¯ç«™åœ¨ç¬¬äºŒè§†è§’ï¼Œé‚£å¦‚æœæ˜¯ç«™åœ¨è¶…çº§åç‰‡çš„ç¬¬ä¸€è§†è§’ï¼Œä¹Ÿå°±æ˜¯æˆ‘çš„åç‰‡è¿™é‡Œï¼Œæ·»åŠ è¿™æ ·çš„ä¸€ä¸ªåç‰‡ç”šè‡³ï¼Œåªéœ€è¦å‡ åˆ†é’Ÿä¸åˆ°ã€‚</p>
<p>è¯´çœŸçš„ï¼Œæˆ‘ç‰¹åˆ«æƒ³å’Œä½ å…´å¥‹çš„åˆ†äº«ï¼Œç›¸ä¿¡å¾ˆå¤šæœ‰å’Œæˆ‘ä¸€æ ·å›°æƒ‘çš„æœ‹å‹ï¼Œæˆ‘ä»¬æ¸´æœ›è¢«çœ‹åˆ°ï¼Œæ¸´æœ›è¢«æ›´æ·±å…¥çš„äº†è§£å’Œé“¾æ¥ã€‚</p>
<p>ä¸å–å…³å­äº†ï¼Œè¿™ä¸ª AI äº§å“å« DINQï¼Œç½‘å€æ˜¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdinq.me" target="_blank" title="https://dinq.me" ref="nofollow noopener noreferrer">dinq.me</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a5cdeb46aa34e578d40dd724326359b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=H8H9gMG5i3Ys7bVH6OVe8wjVXkU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»–èƒ½å¤Ÿä¸€é”®æ·»åŠ éå¸¸å¤šä¸»æµç¤¾åª’å¹³å°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f0f67b3824c496bb6f5614cade32ebf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=6sW3%2BiLsg7AoyK0GihiKbYGvfiw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åªéœ€è¦ä¸¢ä¸€ä¸ªä¸»é¡µé“¾æ¥ï¼ŒAI è‡ªåŠ¨è§£æï¼Œç„¶ååšæˆå¡ç‰‡å±•ç¤ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b27c38ca1a29445fa9e7b3060efbc44f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=CAR2Gvby50TeGnwhQ8P9RhKKUDg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥çµæ´»è°ƒæ•´å¸ƒå±€å’Œå±•ç¤ºæ ·å¼ï¼Œè¯´ç™½äº†å°±æ˜¯æ€ä¹ˆå¥½çœ‹æ€ä¹ˆæ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69c72f509bb449fabc355e97b6b79e06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=XXjGI47Bo7y5%2BAzt01cd38zBN48%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŒæ—¶å¦‚æœæ˜¯æ‰‹æœºä¸Šæ‰“å¼€ï¼Œæ•ˆæœä¹Ÿä¼šè‡ªé€‚åº”è°ƒæ•´å˜ä¸ºç«–ç‰ˆå±•ç¤ºå¡ç‰‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c866791c8a15426b802117691f45395c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=fk2kSEmBUoALJbfsxSJDtqqMmQs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥åˆ†äº«å–œæ¬¢çš„é£æ ¼æ ·å¼ï¼Œåˆ†äº«é“¾æ¥æˆ–è€…ç æˆ–è€…å›¾ç‰‡çš„æ–¹å¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/098e9756eb264db59d71736b8a3c263e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=nbqyGgrbb3TNwjGrn5RTkJGbWqI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€éªšçš„æ˜¯ï¼ŒDINQ å±…ç„¶å†…ç½®äº†ä¸€ä¸ª AI æ‰¾äººçš„åŠŸèƒ½ï¼Œå°±æ˜¯å·¦ä¾§è¿™ä¸ªã€ŒDiscoverã€ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36cb6793c6674bc2a81e6b87e286601e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=0bDAza5uoArb8mSxO3TE2zIl%2BJI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥å¯»æ‰¾å…¨çƒèŒƒå›´çš„äººæ‰æˆ–è€…æ˜¯åœ¨ DINQ çš„ followsã€‚</p>
<p>æˆ‘ä¸€å¼€å§‹è®©ä»–æ‰¾é©¬æ–¯å…‹ï¼Œä»–è¯´é©¬æ–¯å…‹è¿‡äºå‡ºåæ²¡å¿…è¦æ‰¾äº†ï¼Œæ„æ€æ˜¯æ‰¾äº†ä¹Ÿæ²¡ç”¨ï¼Œä½ å°å­æƒ³å¹²å•¥ï¼Œæ‰¾ç‚¹ä½ æƒ³è¦çš„å§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d3aae1b0d664795977ef4ac6a929720~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=fpL2rbPK3cnZwv0%2BMb0QkhRhTXE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶åæˆ‘å°±å»æ‰¾äº†ä¸‹ xAI çš„ AI ç ”ç©¶äººå‘˜ï¼Œä¸æ˜¯ï¼ŒçœŸç»™æˆ‘æ‰¾äº†å¥½å¤š AI ç ”ç©¶äººå‘˜ï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d64c2144ff31447f97369a54bf8ca86b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=yLcJbdhEhC1jGLE5fGq3EPipCSU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿˜ç›´æ¥ç»™äº† GitHub è®¿é—®é“¾æ¥ï¼Œæˆ‘ä¸€ç‚¹ï¼Œå¥½å®¶ä¼™ï¼Œè¿˜çœŸæœ‰æ­¤äººã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8576a8b289044c18a110da6933264697~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=O0y4fPwjI9sJmzBSuf4ly4PbS08%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ç»™è·ªäº†ï¼Œè¿˜èƒ½å»åˆ†æä»–çš„ç½‘ç»œå…³ç³»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6e1037b17284cfc804be9cdbfee529b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=B4JEoAfNZex2B02M4phG8SpQgWE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç‚¹å‡»å»åˆ†æçš„æ—¶å€™ï¼ŒDINQ å±…ç„¶ç»™æˆ‘äº†ä¸€å †è¿™ä¸ªå¤§ä½¬çš„åˆ†ææŠ¥å‘Šï¼Œæˆ‘å½“åœºå°±å…´å¥‹äº†ï¼Œå§æ§½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79de73a876244148808eb1aac2585850~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=NCrzqpILBwZFuVGdDaLjn44KCIM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶åè¿˜æä¾›äº†ä¸€äº›èƒ½è”ç³»åˆ°å¤§ä½¬çš„åŠæ³•ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5eca410b5414d98b6dc633dce875aa7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=8Rr0ijPSJIkaV%2F%2BnAz1nqCEON1E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¤ªç‰›äº†ï¼Œæˆ‘çœŸçš„æœ‰è¢«è¿™ä¸ªäº§å“æ•´çš„å¾ˆå…´å¥‹ã€‚</p>
<p>ç„¶åæˆ‘è„‘å­é‡Œçªç„¶æœ‰äº†ä¸€ä¸ªé‚ªæ¶çš„æƒ³æ³•ï¼Œæˆ‘å†³å®šå»æœä¸‹è‹ä½•ï¼Œæœä¸‹æˆ‘è‡ªå·±ã€‚</p>
<p>å®Œç¾ï¼Œèƒ½æœåˆ°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b91109fdb6754fb2b77372890d7d24c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=%2FOVBlcQKPOLZ%2FlWi%2BpR9XkwYOGw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶åæˆ‘è®© DINQï¼Œä¹Ÿåˆ†æä¸‹æˆ‘è‡ªå·±ï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3272a9f58b847d78a554d446d5d950e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=BF%2BOv5canVKUiwzya8L69MB%2FHS0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»–ç»™æˆ‘çš„ GitHub åšäº†ä¸€é¡¿åˆ†æï¼Œä½†è¿™ä¸ªçƒ­åŠ›å›¾ï¼Œæˆ‘æ„Ÿè§‰æœ‰ç‚¹å„¿æ²¡è·Ÿä¸Šï¼Œå’Œæˆ‘å®é™…çš„ GitHub æœ‰ç‚¹å‡ºå…¥ï¼Œä¸çŸ¥é“ DINQ çš„æŠ€æœ¯èƒ½çœ‹åˆ°ä¸ï¼Œä¿® bug äº†ã€‚</p>
<p>å®é™…ä¸Šæˆ‘çš„çƒ­åŠ›å›¾æ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e35e2026a244b7e92e91b0de2d7f4e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=gCLoTfeKGZe%2FXkD8TW7Bl%2BgUKlo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘å‘ç°ä»–ä¼˜å…ˆå»äº† GitHub å’Œé˜¿é‡Œäº‘ç¤¾åŒºæ‰¾ä¿¡æ¯æºï¼Œè®©æˆ‘ä¸€åº¦å·å·æ€€ç–‘ï¼Œå¼€å‘è€…ä¸ä¼šæ˜¯é˜¿é‡ŒåŒå­¦å§ï¼Ÿ</p>
<p>ä¸è¿‡ç›´åˆ°ç°åœ¨ï¼Œéšç€å¯¹ DINQ çš„ä½¿ç”¨è¶Šå¤šï¼Œè¶Šå‘ç°ï¼Œè¿™ä¸ªäº§å“çœŸçš„æœ‰åœ¨åšå¥½å¾ˆå¤šçš„ç»†èŠ‚ã€‚</p>
<p>è™½ç„¶æˆ‘ä¸€å¼€å§‹å°±æ˜¯ç»·ç€è¶…çº§åç‰‡å»çš„ï¼Œæ²¡æƒ³åˆ°å¤šå‡ºä¸å°‘æƒŠå–œçš„åŠŸèƒ½ã€‚</p>
<p>è¿™æˆ–è®¸å°±æ˜¯å¤§ä½¬ä»¬ç»å¸¸è¯´çš„ï¼Œæ€§æ„Ÿçš„äº§å“å§ã€‚</p>
<p>ä¸å¤šå¹äº†ï¼Œæçš„å’Œå¹¿å‘Šä¼¼çš„ã€‚å¤§å®¶è‡ªå·±å»ç©ç©ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿæœ‰è¿™ç§è¶…çº§åç‰‡éœ€æ±‚ï¼Œæˆ–è€…æƒ³æ‰¾ç‚¹å¤§ä½¬äººæ‰ï¼Ÿä¸å¦¨åˆ° DINQ ç©ç©å§ï¼Œæˆ‘ä¸çŸ¥é“è¿™æ¬¾äº§å“çš„èƒŒåæ˜¯æ€æ ·ä¸€ç¾¤å›¢é˜Ÿã€‚</p>
<p>æˆ‘çŸ¥é“çš„æ˜¯ï¼Œä»–ä»¬çœŸçš„æœ‰åœ¨ç”¨å¿ƒæƒ³æ•è·æˆ‘çš„å¿ƒï¼Œåæ­£ä»¥åæˆ‘å°±é€¢äººå°±æ¨äº†ã€‚</p>
<p>å¹¶ä¸”æˆ‘å·²ç»æŠŠ X ä»‹ç»å¼•å…¥äº†æˆ‘è¿™ä¸ª AI è¶…çº§åç‰‡ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbf03f794c724acda36ca6aedee2c1d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769441816&amp;x-signature=XMkZG2wg8iyhcG%2BibvgRFtp%2FeFQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»¥åŠä¹‹åçš„åŠ å¥½å‹ï¼Œå¤§å®¶åº”è¯¥ä¹Ÿéƒ½èƒ½çœ‹åˆ°äº†ã€‚</p>
<p>å¥½å•¦ï¼Œä»Šå¤©ä¸€ç¯‡è½»æ¾çš„åˆ†äº«ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ„Ÿè°¢ä½ è¯»å®Œæˆ‘çš„æ–‡ç« ï¼Œæˆ‘ä»¬ä¸‹ä¸€æœŸè§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰£å­å‘å¸ƒ Coze Skills åŠŸèƒ½ï¼Œåšäº†ä¸ªæŠ–éŸ³ä¸€é”®è½¬å…¬ä¼—å·çš„ Skillï¼Œå…è´¹ç”¨ï¼]]></title>    <link>https://juejin.cn/post/7596926832913104959</link>    <guid>https://juejin.cn/post/7596926832913104959</guid>    <pubDate>2026-01-19T15:42:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596926832913104959" data-draft-id="7596896373053947967" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰£å­å‘å¸ƒ Coze Skills åŠŸèƒ½ï¼Œåšäº†ä¸ªæŠ–éŸ³ä¸€é”®è½¬å…¬ä¼—å·çš„ Skillï¼Œå…è´¹ç”¨ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T15:42:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä½•"/> <meta itemprop="url" content="https://juejin.cn/user/588993963763405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰£å­å‘å¸ƒ Coze Skills åŠŸèƒ½ï¼Œåšäº†ä¸ªæŠ–éŸ³ä¸€é”®è½¬å…¬ä¼—å·çš„ Skillï¼Œå…è´¹ç”¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993963763405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä½•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:42:45.000Z" title="Mon Jan 19 2026 15:42:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯è‹ä½•çš„ç¬¬ 473 ç¯‡åŸåˆ›ï¼</p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯åœ¨å“ˆå°”æ»¨å†°é›ªé‡Œå†™æ–‡ç« çš„è‹ä½•ã€‚</p>
<p>å‰é˜µå­å»æ‰£å­çš„é—­é—¨åˆ†äº«ä¼šï¼Œå°±æœ‰æ‹¿åˆ° Coze Skills çš„å†…æµ‹ã€‚</p>
<p>ä»Šå¤©æ‰£å­ä¹Ÿæ­£å¼æ¨å‡ºäº† Skills æŠ€èƒ½ï¼ŒåŠæŠ€èƒ½å•†åº—ã€‚æˆ‘ä¹Ÿæ—¶å€™ç»™å¤§å®¶åˆ†äº«æˆ‘è¿™æ®µæœŸé—´çš„å†…æµ‹æˆæœäº†ğŸ˜„</p>
<p>æŠ€èƒ½å…¥å£åœ¨æ‰£å­ 2.0 ç‰ˆæœ¬çš„æ‰£å­ç¼–ç¨‹è¿™é‡Œå°±å¯ä»¥çœ‹åˆ°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d47a43f7c1e84f3293454b60f2566537~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=9gxRxyZpuM6UbV4MVK%2BcUhAYq9s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æ‰£å­ç¼–ç¨‹ä¸­çš„<strong>èƒ½å¤Ÿé€šè¿‡è‡ªç„¶è¯­è¨€çš„æ–¹å¼è¿›è¡Œæ–¹ä¾¿çš„åˆ›å»ºæŠ€èƒ½ï¼Œæ”¯æŒåœ¨çº¿è°ƒè¯•é¢„è§ˆå¼€å‘å¥½çš„æŠ€èƒ½ï¼Œç„¶åè¿˜æ”¯æŒä¸€é”®éƒ¨ç½²å’Œå‘å¸ƒåˆ°æ‰£å­</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd9edd39ec34083aacf006135b968d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=t5fWaQVS8QO9Lf2EiAlgkxeK75Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œçœ‹åˆ° skill è‡ªå®šä¹‰æ–‡ä»¶ã€è„šæœ¬ã€å¼•ç”¨æ¥æºç­‰ä¿¡æ¯ï¼Œå¯ä»¥è¯´ï¼Œè¿™å¾ˆ skillã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95357ffdb0d3441f80d1bb5d8df541c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=0otCHconllyLYzV7sd5fRQQbilA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æŠ€èƒ½å¼€å‘å®Œæˆåï¼Œç‚¹å‡»éƒ¨ç½²ï¼Œåœ¨æŠ€èƒ½å•†åº—ä¸­å¯ä»¥çœ‹åˆ°è‡ªå·±åˆšåˆšéƒ¨ç½²å’Œå®‰è£…çš„æŠ€èƒ½ï¼Œå¹¶æ”¯æŒä¸€é”®å‘å¸ƒåˆ°æŠ€èƒ½å•†åº—ç»™æ‰€æœ‰äººä½¿ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/605fbd13fdff48af95b6bd4e931fd63b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=cOsXB9cnxMrfkX1KdUlujZ8wKQ4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å¯ä»¥å‘å¸ƒä¸ºå…è´¹æŠ€èƒ½ä¹Ÿå¯ä»¥å‘å¸ƒä¸ºä»˜è´¹æŠ€èƒ½</strong>ï¼Œç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå‘å¸ƒä¸ºä»˜è´¹æŠ€èƒ½ï¼Œæ‰£å­è¿˜ç›´æ¥æ‰“é€šäº†æ”¶æ¬¾é“¾è·¯ï¼Œé€šè¿‡æŠ€èƒ½èµšé’±è¿™äº‹ï¼Œå¾ˆå¿«æˆä¸ºäº†ç°å®ã€‚</p>
<blockquote>
<p>åˆ’é‡ç‚¹ï¼Œä¼°è®¡å—…è§‰æ•ç•¥çš„å¤§èªæ˜å·²ç»å¼€å§‹ä¸Šçº¿ä¸€å †åˆ›ä½œå†…æŠ€èƒ½ç„¶åå¼€å§‹èµšé’±äº†ã€‚å“ˆå“ˆå“ˆï¼Œæ—¶é—´å¾ˆé‡è¦ã€‚</p>
</blockquote>
<p>å‘å¸ƒå®Œåï¼Œæ‰€æœ‰äººéƒ½èƒ½åœ¨æŠ€èƒ½å•†åº—ä½¿ç”¨ä½ çš„æŠ€èƒ½ï¼Œå¦‚æœæ˜¯ä»˜è´¹çš„ï¼Œç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹æŠ€èƒ½è¿›è¡Œä»˜è´¹ï¼ŒæŠ€èƒ½å¼€å‘è€…ä¹Ÿèƒ½å¿«é€Ÿå˜ç°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d09e7ba662344611949d7e268cfd8131~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=oBCExROvsXhxOxVB2OjSb%2BXbDes%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç»è¿‡ä¸€æ®µæ—¶é—´çš„ç ”ç©¶å’Œå¼€å‘ï¼Œæˆ‘ä¹Ÿåœ¨æŠ€èƒ½å•†åº—ä¸Šæ¶äº† 2 ä¸ªæŠ€èƒ½ï¼Œåˆ†åˆ«æ˜¯<strong>æŠ–éŸ³çˆ†æ¬¾è§†é¢‘ä¸€é”®è§£æ</strong>å’Œ<strong>æŠ–éŸ³çˆ†æ¬¾è§†é¢‘ä¸€é”®è½¬å…¬ä¼—å·æ–‡ç« </strong>ã€‚åœ¨æŠ€èƒ½å•†åº—ä¸­å¯ä»¥ç›´æ¥æœç´¢ï¼šæŠ–éŸ³ã€‚</p>
<p>å…¶ä¸­ä¸€ä¸ªæŠ€èƒ½æ˜¯<strong>æŠ–éŸ³è§†é¢‘è§£ææŠ€èƒ½</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ–éŸ³è§†é¢‘å¤šç»´åº¦æ•°æ®æå–çš„æŠ€èƒ½ï¼Œæ”¯æŒä»æŠ–éŸ³é“¾æ¥ä¸­ä¸€é”®è·å–è§†é¢‘æ ‡é¢˜ã€å®Œæ•´æ–‡æ¡ˆã€æ— æ°´å°è§†é¢‘åœ°å€ã€é«˜æ¸…å°é¢ã€éŸ³é¢‘æ–‡ä»¶ç­‰æ ¸å¿ƒæ•°æ®æ™ºèƒ½å†…å®¹åˆ†æã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/430f7c2538854dbd9e34d8fc02538d8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=y4cTC2jDeT13k4aQ8DJG0RgnfuE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿˜èƒ½è‡ªåŠ¨æå–è§†é¢‘ä¸­çš„é‡‘å¥ã€çƒ­ç‚¹æ ‡ç­¾å’Œå…³é”®ä¿¡æ¯ç‚¹ç»“æ„åŒ–è¾“å‡ºï¼Œç”ŸæˆåŒ…å«å†…å®¹åˆ†æã€æ•°æ®è¯´æ˜å’Œæå–ç»“æœçš„ Markdown æ–‡æ¡£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94e3c60d76aa4c06a3c6ce1b1ece9ae1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=9xeRJALaxGOvzjWXwCU4iPSnscM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ä½ éœ€è¦è§£ææŠ–éŸ³è§†é¢‘çš„å…·ä½“å†…å®¹ã€æå–æ— æ°´å°ç´ æã€æˆ–å¯¹è§†é¢‘æ–‡æ¡ˆè¿›è¡ŒäºŒæ¬¡åˆ›ä½œæ—¶ï¼Œå³å¯ä½¿ç”¨è¯¥æŠ€èƒ½ã€‚åªéœ€æä¾›æŠ–éŸ³è§†é¢‘é“¾æ¥ï¼Œå·¥å…·ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰æå–å’Œåˆ†æå·¥ä½œã€‚</p>
<p>ä½¿ç”¨çš„è¯ä¹Ÿå¾ˆç®€å•ï¼Œå…ˆæ‰“å¼€æ‰£å­ï¼šcoze.cnï¼Œå…ˆåœ¨æŠ€èƒ½å•†åº—ä¸­æ‰¾åˆ°è¯¥æŠ€èƒ½å®‰è£…ï¼Œç„¶åç›´æ¥@ï¼Œæ‰¾åˆ°å¯¹åº”çš„æŠ€èƒ½ï¼Œä¸¢ä¸€ä¸ªè§†é¢‘çš„é“¾æ¥è¿‡æ¥å°±å¯ä½¿ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcaa609194054f5b83b41f04b03f3739~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=X20o1cYJ0Twcymj8fhDBZKQoWes%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‚„å’ªå’ªçš„ç‚¹ä¸€ä¸‹å›è½¦ï¼Œå°±ä¼šå¼€å§‹å¯åŠ¨æŠ€èƒ½ï¼Œç„¶åä¸€é¡¿è¾“å‡ºï¼Œå°±å¯ä»¥æå–è§†é¢‘å…ƒæ•°æ®ä¿¡æ¯ï¼Œå¯ä»¥è¯´éå¸¸å…¨é¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7830b61de3394010b437391b55104e02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=kw4FUqLZnW3PryLTHvy6A495Wjw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŒ…æ‹¬è§†é¢‘çš„é€å­—ç¨¿ä¹Ÿèƒ½ä¸€é”®æå–ï¼Œè¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2039fc0673754427afd70f81108c676a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=YbGows8YfCIByCA1xMmcSkr9464%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç¬¬äºŒä¸ªæŠ€èƒ½æ˜¯ç¬¬ä¸€ä¸ªæŠ€èƒ½çš„å‡çº§æ¬¾ï¼Œå¯ä»¥å°†<strong>æŠ–éŸ³çˆ†æ¬¾è§†é¢‘ä¸€é”®è½¬å…¬ä¼—å·æ–‡ç« </strong>ï¼Œæ”¯æŒè‡ªå®šä¹‰é£æ ¼æ–‡ç« ï¼Œè®©åˆ›ä½œå˜å¾—æ›´ä¸æ»‘ã€‚</p>
<p>åŒæ ·@æŠ–éŸ³çˆ†æ¬¾ä¸€é”®è½¬å…¬ä¼—å·ï¼Œæˆ–è€…åœ¨æŠ€èƒ½å•†åº—ä¸­æ‰¾åˆ°è¯¥æŠ€èƒ½ï¼Œç„¶åç‚¹å‡»ä½¿ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba723fc93f4d4b3ead37a18f00defe06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=o0nI9zkwGEdxHtUExG44KkpnWGc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¯¥æŠ€èƒ½å…ˆä¼šå»è§£æè§†é¢‘ï¼Œç„¶ååˆ›å»ºå…¬ä¼—å·æ–‡ç« ï¼Œæˆ‘å½•äº†ä¸ªè§†é¢‘ï¼Œå¤§å®¶å¯ä»¥æ„Ÿå—ä¸€ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ec8c79c6688495c8e02ca592c64178a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=AOk3LIECm0qz3X5j1%2BtHr6d8Eic%3D" alt="wxv_4346639535682715651" loading="lazy"/></p>
<p>æ ‡é¢˜ã€å°é¢ã€å†…å®¹éƒ½èƒ½ç›´æ¥ä¸€é”®äº§å‡ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20c1a6ac29484d5687e1d13687f0407e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=OEQ4e2P2L6wHalAFGJiR4MFW60Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å†…å®¹ä¾§ï¼Œä¹Ÿå®Œå…¨æ ¹æ®çˆ†æ¬¾è§†é¢‘èŠ‚å¥æ¥å®‰æ’ï¼Œè¿˜å¯ä»¥ç”¨æˆ·è‡ªå®šä¹‰æ–‡é£ï¼Œç±»å‹ç­‰ä¸»é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58a73d8ad6e445f59d9b9a563e6186e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=POhUyvnAZb9sU0P%2BKsKJHXuBFyQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ˜¯ä¸æ˜¯æ„Ÿè§‰è¿˜æŒº niceï¼Œè¿™æ ·ä¸€ä¸ªæŠ€èƒ½å°±èƒ½ç›´æ¥ç»™ç”¨æˆ·ä½¿ç”¨ï¼Œå‡å°‘äº†ä¸€äº›é‡å¤çš„å·¥ä½œï¼Œè¿™æ˜¯ skill å¸¦æ¥çš„ä¾¿åˆ©ã€‚</p>
<p>ä¸‹é¢ä¹Ÿç»™å¤§å®¶åˆ†äº«ä¸‹å¦‚ä½•åœ¨æ‰£å­ç¼–ç¨‹é‡Œé¢åˆ›å»ºä¸€ä¸ªä¸“å±äºè‡ªå·±çš„ skillã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼Œæ‰“å¼€æ‰£å­ç¼–ç¨‹ï¼š</strong></p>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.coze.cn" target="_blank" title="https://code.coze.cn" ref="nofollow noopener noreferrer">code.coze.cn</a></p>
<p>ç„¶åæ‰“å¼€æŠ€èƒ½ tabï¼Œè¾“å…¥ä½ çš„éœ€æ±‚ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b72325e9e2e435a99c726bf4d0f61ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=W%2B8KZ6Qk9JzEVOWPkKlLvzSW5R8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœä½ çš„æŠ€èƒ½éœ€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹ APIï¼Œä½ éœ€è¦å…ˆæ•´ç†å¥½ API æ–‡æ¡£ï¼Œç„¶åä¸¢ç»™æ‰£å­ï¼Œä¼šæ¯”ä½ å•çº¯æè¿°éœ€æ±‚ä¼šæ›´å¥½ä¸€äº›ã€‚</p>
<p>API æ–‡æ¡£ä¹Ÿå®Œå…¨å¯ä»¥ç”¨ AI æ¥å¸®åŠ©ä½ å†™ï¼Œä¸¢ä¸€ä¸ªæ–‡æ¡£åœ°å€æˆ–è€…æˆªå›¾ï¼Œè®© AI è¾“å‡ºï¼Œè¿™æ‰æ˜¯ AI Native å¼€å‘ã€‚ğŸ˜„</p>
<p>å·¦ä¾§æè¿°ä¿®æ”¹éœ€æ±‚ï¼Œå³ä¾§è¿›è¡Œè°ƒè¯•æµ‹è¯•æ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9890c3c11c754559a403527e6387a9fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=xJzq9H4l4jl7LZ7I7A5RKGO3Btk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯ä»¥é€šè¿‡å¯¹è¯çš„æ–¹å¼æŠŠéœ€æ±‚æè¿°æ¸…æ¥šï¼Œè®© AI å¸®åŠ©ä½ å®ŒæˆæŠ€èƒ½çš„å¼€å‘ï¼Œè¿™ä¸ªæˆ‘æ„Ÿè§‰åƒæ˜¯æ‰£å­ç¼–ç¨‹é‡Œé¢å†…ç½®äº†ä¸€ä¸ªå¼€å‘ skill çš„ skillï¼Œå°±å¾ˆæ–¹ä¾¿ã€‚</p>
<p>å¦‚æœä½ æƒ³æ£€æŸ¥æˆ–è€…ä¿®æ”¹ skill çš„ä»£ç åŠæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»ç›´æ¥åœ¨ç¼–è¾‘å™¨é‡Œé¢è¿›è¡Œä¿®æ”¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1642ec6d41b34ecba4e42be3d4c7d22c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=%2BtxDJoE3lieFmIRGA9QAo1QcgdU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œç‚¹å‡»+ï¼Œä¹Ÿèƒ½çœ‹åˆ°éå¸¸å¤šçš„å¼€å‘å·¥å…·å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚ç‰ˆæœ¬æ§åˆ¶ã€ç¯å¢ƒå˜é‡ã€‚</p>
<p><strong>ç¬¬äºŒæ­¥ï¼Œéƒ¨ç½²ã€‚</strong></p>
<p>å¼€å‘è°ƒè¯•æ²¡é—®é¢˜åï¼Œå¯ä»¥ç‚¹å‡»å³ä¸Šè§’éƒ¨ç½²ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23e0ec2aa7294879beb278a5a13266d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=MoJ93HG5HvtvPWbCfG8ZifbPQRE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥æŸ¥çœ‹éƒ¨ç½²å†å²å’Œæ—¥å¿—åˆ†æã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b673e8c06aea42b08dcd6bfb2a310c00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=c5WBhPGkhH9OhFrKMal70Fe5SEM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬ä¸‰æ­¥ï¼Œä½¿ç”¨æŠ€èƒ½ã€‚</strong></p>
<p>æŠ€èƒ½éƒ¨ç½²å¥½ä¹‹åï¼Œå°±å¯ä»¥å»æ‰£å­é‡Œé¢ä½¿ç”¨è¿™ä¸ªæŠ€èƒ½ï¼Œæ–¹æ³•å°±æ˜¯@è¿™ä¸ªæŠ€èƒ½ï¼Œæˆ–è€…æŠ€èƒ½å•†åº—æ‰¾åˆ°åˆšæ‰éƒ¨ç½²çš„æŠ€èƒ½ã€‚</p>
<p>æ‰£å­åœ°å€ï¼šspace.coze.cn</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/172997bcf9624f8998a5f7f319b423ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuN5L2V:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442164&amp;x-signature=jNGlA5AwkT%2BKr3ZzUphgy%2B4JzAQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é‡Œé¢ä¹Ÿå¯ä»¥è°ƒç”¨å¾ˆå¤šçš„åŠå…¬å®ç”¨æŠ€èƒ½å·¥å…·åŒ…ï¼Œæ¯”å¦‚ PPTã€è§†é¢‘ã€å†™ä½œç­‰ã€‚</p>
<p>ç„¶åæè¿°å…·ä½“éœ€æ±‚ï¼Œå°±èƒ½ç—›å¿«çš„ä½¿ç”¨è¯¥æŠ€èƒ½äº†ã€‚</p>
<p>Skills è¿˜æ˜¯å¤ªç«äº†ï¼Œè¿™å‡ å¤©å‚åŠ  AIGCLink å¼€å‘è€…å¤§ä¼šï¼Œéƒ½åœ¨è°ˆè®ºçš„è¯é¢˜å°±æ˜¯ Skillsã€‚</p>
<p>è€Œæ‰£å­ä¹Ÿç¬¬ä¸€æ—¶é—´ï¼Œæ”¯æŒäº† Skills çš„æ— ä»£ç å¼€å‘ä»¥åŠæŠ€èƒ½å•†åº—ã€‚</p>
<p>ä¸å¾—ä¸è¯´å¤§å‚è¿˜æ˜¯å¿«å•Šï¼Œæ‰“é€šäº†æŠ€èƒ½çš„ç”Ÿäº§ã€ä½¿ç”¨ã€å˜ç°çš„å…¨é“¾è·¯ï¼Œè¿™å¯¹ Agent å’ŒæŠ€èƒ½å¼€å‘è€…æ¥è¯´ï¼Œæ˜¯ä¸ªéå¸¸å¤§çš„æœºä¼šã€‚</p>
<p>æˆ‘è®°å¾—æ‰£å­æ˜¯ 23 å¹´æˆç«‹çš„ï¼Œåˆ°ä»Šå¤©ä¹Ÿä¸¤å¹´å¤šäº†ï¼Œå½“å‰ï¼Œæ®æˆ‘ç†è§£å¯ä»¥è¯´æ˜¯ä¸­å›½æœ€å¤§çš„ Agent å¼€å‘å¹³å°äº†ã€‚</p>
<p>åé¢å»å¹´åº•çš„æ—¶å€™æ¨å‡ºäº†æ‰£å­ç¼–ç¨‹ï¼Œèƒ½ä¸€å¥è¯åˆ›ä½œæ™ºèƒ½ä½“ã€å·¥ä½œæµåŠåº”ç”¨ï¼Œå¯ä»¥è¯´æ›´é€‚åˆæ™®é€šç”¨æˆ·äº†ã€‚</p>
<p>çœŸå®ä¸šåŠ¡åœºæ™¯é‡Œï¼Œå“ªæœ‰é‚£ä¹ˆå¤šæ ‡å‡†ç­”æ¡ˆï¼Ÿæ¯ä¸ªè¡Œä¸šéƒ½æœ‰è‡ªå·±ç§˜è€Œä¸å®£çš„ SOP å’Œæœ€ä½³å®è·µã€‚æˆ‘çœ‹å¤§å®¶ç°åœ¨çš„ç©æ³•çœŸæ˜¯äº”èŠ±å…«é—¨ï¼šåšç”µå•†åˆ†æçš„ã€æå†…å®¹è‡ªåŠ¨åŒ–çš„ã€ç”šè‡³ç”¨æ¥è¾…åŠ©å†™ä»£ç çš„â€¦â€¦ç°åœ¨çš„ç ´å±€ç‚¹åœ¨äºã€æŠ€èƒ½ã€‘å’Œã€æŠ€èƒ½å¸‚åœºã€‘ã€‚ä½ å¯ä»¥æŠŠé‚£äº›æ‘¸çˆ¬æ»šæ‰“æ¢æ¥çš„ç»éªŒï¼Œç›´æ¥å°è£…æˆä¸€ä¸ªã€ŒæŠ€èƒ½ã€ã€‚å¾€å¸‚åœºä¸Šä¸€æŒ‚ï¼Œä½ çš„ç»éªŒå¯èƒ½æ­£æ˜¯åˆ«äººçš„åˆšéœ€ï¼›åŒæ ·ï¼Œä½ é‡åˆ°çš„éš¾é¢˜ï¼Œæˆ–è®¸åˆ«äººæ—©å°±æœ‰äº†ç°æˆçš„è§£æ³•ã€‚è¿™å…¶å®å°±æ˜¯æŠŠå„è¡Œå„ä¸šçš„ Know-how å˜æˆäº†å¯å¤ç”¨çš„ç»„ä»¶ã€‚æ–°äººä¸€é”®åŠ è½½è€å‘˜å·¥çš„ã€Œç»éªŒåŒ…ã€ï¼Œèµ·æ‰‹å°±æ˜¯ä¸“å®¶æ°´å¹³ï¼Œè¿™æ‰æ˜¯æŠ€æœ¯è¯¥æœ‰çš„æ ·å­ã€‚</p>
<p>è¿™æˆ–è®¸æ˜¯ Skills æœ€å¤§çš„ä»·å€¼ï¼Œæˆ–è®¸ä¹Ÿä¼šæ‰£å­æœ€æƒ³åšçš„äº‹æƒ…å§ã€‚</p>
<p>å¥½å•¦ï¼Œæ„Ÿè°¢ä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œæˆ‘ä»¬ä¸‹ä¸€æœŸè§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸‡å­—é•¿æ–‡ï¼ææ‡‚æœºå™¨å­¦ä¹ ä¸­çš„æ¦‚ç‡å›¾æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7596919439019311113</link>    <guid>https://juejin.cn/post/7596919439019311113</guid>    <pubDate>2026-01-19T15:46:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596919439019311113" data-draft-id="7596904122865664051" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸‡å­—é•¿æ–‡ï¼ææ‡‚æœºå™¨å­¦ä¹ ä¸­çš„æ¦‚ç‡å›¾æ¨¡å‹"/> <meta itemprop="keywords" content="é¢è¯•,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-19T15:46:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="aicoting"/> <meta itemprop="url" content="https://juejin.cn/user/933911964427818"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸‡å­—é•¿æ–‡ï¼ææ‡‚æœºå™¨å­¦ä¹ ä¸­çš„æ¦‚ç‡å›¾æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/933911964427818/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    aicoting
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T15:46:35.000Z" title="Mon Jan 19 2026 15:46:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ¨èç›´æ¥ç½‘ç«™åœ¨çº¿é˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Faicoting.cn%2F" target="_blank" title="https://aicoting.cn/" ref="nofollow noopener noreferrer">aicoting.cn</a></p>
</blockquote>
<p>æ¦‚ç‡å›¾æ¨¡å‹ï¼ˆProbabilistic Graphical Models, PGMï¼‰æ˜¯ä¸€ç±»ç»“åˆæ¦‚ç‡è®ºä¸å›¾è®ºçš„å¼ºå¤§å·¥å…·ï¼Œç”¨äºæè¿°å¤šä¸ªéšæœºå˜é‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚å®ƒé€šè¿‡å›¾ç»“æ„å°†å¤æ‚çš„è”åˆæ¦‚ç‡åˆ†å¸ƒåˆ†è§£ä¸ºå±€éƒ¨æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒï¼Œä½¿å¾—å¯¹é«˜ç»´æ•°æ®å»ºæ¨¡å’Œæ¨æ–­å˜å¾—å¯è¡Œä¸”é«˜æ•ˆã€‚</p>
<p>æ ¹æ®å›¾çš„ç±»å‹ï¼ŒPGM å¯åˆ†ä¸ºæœ‰å‘å›¾æ¨¡å‹ï¼ˆå¦‚è´å¶æ–¯ç½‘ç»œï¼‰å’Œæ— å‘å›¾æ¨¡å‹ï¼ˆå¦‚é©¬å°”å¯å¤«éšæœºåœºï¼‰ã€‚è´å¶æ–¯ç½‘ç»œåˆ©ç”¨æœ‰å‘æ— ç¯å›¾è¡¨ç¤ºå˜é‡ä¹‹é—´çš„å› æœå…³ç³»ï¼Œé€‚åˆå»ºæ¨¡å› æœæ¨æ–­å’Œåºåˆ—æ•°æ®ï¼›é©¬å°”å¯å¤«éšæœºåœºåˆ™é€šè¿‡æ— å‘å›¾æ•æ‰å˜é‡ä¹‹é—´çš„è”åˆçº¦æŸï¼Œæ›´é€‚åˆå¤„ç†å¯¹ç§°ä¾èµ–æˆ–ç©ºé—´å…³ç³»ã€‚</p>
<p>æ¦‚ç‡å›¾æ¨¡å‹å¹¿æ³›åº”ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ã€è®¡ç®—æœºè§†è§‰ã€åŸºå› ç»„å­¦å’Œæ¨èç³»ç»Ÿç­‰é¢†åŸŸï¼Œèƒ½å¤Ÿå®ç°æ¨æ–­ã€å­¦ä¹ å’Œé¢„æµ‹ç­‰å¤šç§ä»»åŠ¡ï¼Œä¸ºå¤æ‚ç³»ç»Ÿæä¾›å¯è§£é‡Šçš„æ¦‚ç‡è¡¨ç¤ºã€‚</p>
<h2 data-id="heading-0">é«˜æ–¯æ··åˆæ¨¡å‹</h2>
<p>é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGaussian Mixture Model, GMMï¼‰æ˜¯ä¸€ç§é‡è¦çš„æ¦‚ç‡å›¾æ¨¡å‹ï¼Œç”¨äºå¯¹æ•°æ®è¿›è¡Œèšç±»å’Œå¯†åº¦ä¼°è®¡ã€‚GMM å‡è®¾æ•°æ®æ¥è‡ªè‹¥å¹²ä¸ªé«˜æ–¯åˆ†å¸ƒçš„çº¿æ€§ç»„åˆï¼Œæ¯ä¸ªé«˜æ–¯åˆ†å¸ƒç§°ä¸ºä¸€ä¸ªâ€œåˆ†é‡â€ï¼Œæ¨¡å‹é€šè¿‡ä¼°è®¡å„ä¸ªåˆ†é‡çš„å‡å€¼ã€æ–¹å·®ä»¥åŠæ··åˆæƒé‡æ¥åˆ»ç”»æ•´ä¸ªæ•°æ®åˆ†å¸ƒã€‚</p>
<p>ä¸ K-means ç­‰ç¡¬èšç±»æ–¹æ³•ä¸åŒï¼ŒGMM æ˜¯è½¯èšç±»æ–¹æ³•ï¼Œæ¯ä¸ªæ ·æœ¬å±äºæ¯ä¸ªç°‡çš„æ¦‚ç‡å¯ä»¥ä¸åŒï¼Œæ›´åŠ çµæ´»åœ°åˆ»ç”»æ•°æ®çš„è¿ç»­æ€§å’Œé‡å ç»“æ„ã€‚</p>
<p>é«˜æ–¯æ··åˆæ¨¡å‹åœ¨é‡‘èé£æ§ã€è¯­éŸ³è¯†åˆ«ã€å›¾åƒåˆ†å‰²ä»¥åŠå¼‚å¸¸æ£€æµ‹ç­‰åœºæ™¯ä¸­åº”ç”¨å¹¿æ³›ã€‚ä¾‹å¦‚ï¼Œåœ¨å›¾åƒåˆ†å‰²ä¸­ï¼Œæ¯ä¸ªåƒç´ çš„é¢œè‰²å¯ä»¥å»ºæ¨¡ä¸ºè‹¥å¹²é«˜æ–¯åˆ†å¸ƒï¼Œé€šè¿‡ GMM å¯ä»¥å°†å›¾åƒè‡ªåŠ¨åˆ†å‰²ä¸ºä¸åŒåŒºåŸŸã€‚åœ¨å¼‚å¸¸æ£€æµ‹ä¸­ï¼ŒGMM å¯ä»¥å¯¹æ­£å¸¸æ•°æ®å»ºæ¨¡ï¼Œå½“æ–°æ ·æœ¬çš„æ¦‚ç‡å¾ˆä½æ—¶è¢«åˆ¤å®šä¸ºå¼‚å¸¸ã€‚</p>
<h3 data-id="heading-1">æ¨¡å‹åŸç†</h3>
<p>å‡è®¾è§‚æµ‹æ•°æ®ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">X = \{x_1, x_2, ..., x_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">}</span></span></span></span></span>ï¼ŒGMM å‡è®¾æ¯ä¸ªæ•°æ®ç‚¹ç”± K ä¸ªé«˜æ–¯åˆ†å¸ƒä¸­çš„ä¸€ä¸ªç”Ÿæˆã€‚æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>âˆ‘</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></msubsup><msub><mi>Ï€</mi><mi>k</mi></msub><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi><msub><mi>Î¼</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x_i) = \sum_{k=1}^{K} \pi_k \mathcal{N}(x_i|\mu_k, \Sigma_k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.2809em;vertical-align:-0.2997em;"/><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\pi_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ä¸ºç¬¬ k ä¸ªé«˜æ–¯åˆ†å¸ƒçš„æ··åˆæƒé‡ï¼Œæ»¡è¶³</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">âˆ£</mi><msub><mi>Î¼</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{N}(x|\mu_k, \Sigma_k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>æ˜¯å‡å€¼ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î¼</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\mu_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ã€åæ–¹å·®çŸ©é˜µä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>çš„é«˜æ–¯åˆ†å¸ƒ</li>
</ul>
<p>GMM çš„ç›®æ ‡æ˜¯é€šè¿‡æœ€å¤§åŒ–è§‚æµ‹æ•°æ®çš„ä¼¼ç„¶å‡½æ•°æ¥ä¼°è®¡å‚æ•°<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>Ï€</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>Î¼</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>k</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{\pi_k, \mu_k, \Sigma_k\} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">}</span></span></span></span></span>ã€‚ç”±äºç›´æ¥æœ€å¤§åŒ–ä¼¼ç„¶å‡½æ•°å›°éš¾ï¼Œé€šå¸¸ä½¿ç”¨ æœŸæœ›æœ€å¤§åŒ–ç®—æ³•ï¼ˆEMï¼‰ æ¥è¿­ä»£æ±‚è§£ã€‚</p>
<h3 data-id="heading-2">EM ç®—æ³•æµç¨‹</h3>
<p>EM ç®—æ³•é€šè¿‡ä¸¤ä¸ªæ­¥éª¤äº¤æ›¿è¿›è¡Œï¼Œç›´è‡³å‚æ•°æ”¶æ•›ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼šéšæœºåˆå§‹åŒ–æ¯ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î¼</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\mu_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ã€åæ–¹å·® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> å’Œæ··åˆæƒé‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\pi_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> ã€‚</li>
<li>E æ­¥ï¼ˆExpectationï¼‰ï¼šè®¡ç®—æ¯ä¸ªæ ·æœ¬å±äºæ¯ä¸ªåˆ†é‡çš„åéªŒæ¦‚ç‡ï¼ˆè´£ä»»åº¦ï¼‰ï¼š
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î³</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mi>Ï€</mi><mi>k</mi></msub><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi><msub><mi>Î¼</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></msubsup><msub><mi>Ï€</mi><mi>j</mi></msub><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi><msub><mi>Î¼</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\gamma_{ik} = \frac{\pi_k \mathcal{N}(x_i|\mu_k, \Sigma_k)}{\sum_{j=1}^K \pi_j \mathcal{N}(x_i|\mu_j, \Sigma_j)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.7619em;vertical-align:-0.7519em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.5703em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8852em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.8971em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4603em;"><span/></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"/><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span/></span></span></span></span></span><span class="mord mathcal mtight" style="margin-right:0.14736em;">N</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span/></span></span></span></span></span><span class="mord mtight">âˆ£</span><span class="mord mtight"><span class="mord mathnormal mtight">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span/></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mtight">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span/></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span/></span></span></span></span></span><span class="mord mathcal mtight" style="margin-right:0.14736em;">N</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span/></span></span></span></span></span><span class="mord mtight">âˆ£</span><span class="mord mtight"><span class="mord mathnormal mtight">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span/></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mtight">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span/></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></li>
<li>M æ­¥ï¼ˆMaximizationï¼‰ï¼šæ ¹æ®è´£ä»»åº¦æ›´æ–°å‚æ•°ï¼š</li>
</ol>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>Î¼</mi><mi>k</mi></msub><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mi>i</mi></munder><msub><mi>Î³</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><msub><mi>x</mi><mi>i</mi></msub></mrow><mrow><munder><mo>âˆ‘</mo><mi>i</mi></munder><msub><mi>Î³</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub></mrow></mfrac><mo separator="true">,</mo><mspace width="1em"/><msub><mi mathvariant="normal">Î£</mi><mi>k</mi></msub><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mi>i</mi></munder><msub><mi>Î³</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mi>Î¼</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mi>Î¼</mi><mi>k</mi></msub><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><mrow><munder><mo>âˆ‘</mo><mi>i</mi></munder><msub><mi>Î³</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub></mrow></mfrac><mo separator="true">,</mo><mspace width="1em"/><msub><mi>Ï€</mi><mi>k</mi></msub><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mi>i</mi></munder><msub><mi>Î³</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub></mrow><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">\mu_k = \frac{\sum_i \gamma_{ik} x_i}{\sum_i \gamma_{ik}}, \quad \Sigma_k = \frac{\sum_i \gamma_{ik} (x_i - \mu_k)(x_i - \mu_k)^T}{\sum_i \gamma_{ik}}, \quad \pi_k = \frac{\sum_i \gamma_{ik}}{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4254em;vertical-align:-0.9857em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4397em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9857em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"/><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.5168em;vertical-align:-0.9857em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.531em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9857em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"/><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.1257em;vertical-align:-0.686em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4397em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></div>
<ol start="5">
<li>è¿­ä»£ï¼šé‡å¤ E æ­¥å’Œ M æ­¥ï¼Œç›´åˆ°ä¼¼ç„¶å‡½æ•°æ”¶æ•›æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚</li>
</ol>
<p>ä¸‹é¢ä½¿ç”¨ Scikit-learn å¯¹ Iris æ•°æ®é›†è¿›è¡Œ GMM èšç±»ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris
<span class="hljs-keyword">from</span> sklearn.mixture <span class="hljs-keyword">import</span> GaussianMixture
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># åŠ è½½æ•°æ®</span>
iris = load_iris()
X = iris.data
y = iris.target

<span class="hljs-comment"># å®šä¹‰ GMM æ¨¡å‹</span>
gmm = GaussianMixture(n_components=<span class="hljs-number">3</span>, covariance_type=<span class="hljs-string">'full'</span>, random_state=<span class="hljs-number">42</span>)
gmm.fit(X)
labels = gmm.predict(X)

<span class="hljs-comment"># å¯è§†åŒ–å‰ä¸¤ç»´</span>
plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">6</span>))
plt.scatter(X[:,<span class="hljs-number">0</span>], X[:,<span class="hljs-number">1</span>], c=labels, cmap=<span class="hljs-string">'viridis'</span>, s=<span class="hljs-number">40</span>)
plt.xlabel(<span class="hljs-string">"Feature 1"</span>)
plt.ylabel(<span class="hljs-string">"Feature 2"</span>)
plt.title(<span class="hljs-string">"GMM Clustering of Iris Dataset"</span>)
plt.show()
</code></pre>
<p>åœ¨ç»“æœä¸­ï¼Œä¸åŒé¢œè‰²è¡¨ç¤ºæ ·æœ¬è¢«åˆ†é…åˆ°ä¸åŒçš„é«˜æ–¯åˆ†é‡ï¼ŒGMM èƒ½å¤Ÿæ•æ‰ç°‡çš„æ¦‚ç‡ç»“æ„ï¼Œå¹¶å…è®¸ç°‡ä¹‹é—´å­˜åœ¨é‡å ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddc2995ef5ed4937b0425b3c3305c55a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442395&amp;x-signature=1lZZZ04ww0KJW5GyxuQ%2FaxCAZ7g%3D" alt="" loading="lazy"/></p>
<p>ç”±ä¸Šé¢çš„å†…å®¹æ¥çœ‹ï¼Œé«˜æ–¯æ··åˆæ¨¡å‹æ˜¯ä¸€ç§çµæ´»çš„è½¯èšç±»æ–¹æ³•å’Œæ¦‚ç‡å¯†åº¦å»ºæ¨¡å·¥å…·ï¼Œé€šè¿‡å°†æ•°æ®è¡¨ç¤ºä¸ºè‹¥å¹²é«˜æ–¯åˆ†å¸ƒçš„æ··åˆï¼Œå®ç°å¯¹æ•°æ®çš„è¿ç»­å»ºæ¨¡ã€‚ä¸ K-means ç›¸æ¯”ï¼ŒGMM èƒ½æ›´å¥½åœ°å¤„ç†ç°‡å½¢çŠ¶ä¸è§„åˆ™ã€ç°‡é—´é‡å çš„æƒ…å†µã€‚å®ƒå¹¿æ³›åº”ç”¨äºèšç±»ã€å›¾åƒåˆ†å‰²ã€å¼‚å¸¸æ£€æµ‹ã€è¯­éŸ³è¯†åˆ«ç­‰é¢†åŸŸã€‚</p>
<p>é€šè¿‡åˆç†é€‰æ‹©åˆ†é‡æ•°é‡å’Œåæ–¹å·®ç±»å‹ï¼ŒGMM å¯ä»¥åœ¨å®é™…é—®é¢˜ä¸­æä¾›é«˜ç²¾åº¦çš„èšç±»å’Œå¯†åº¦ä¼°è®¡èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-3">éšé©¬å°”å¯å¤«æ¨¡å‹</h2>
<p>éšé©¬å°”å¯å¤«æ¨¡å‹ï¼ˆHidden Markov Model, HMMï¼‰ æ˜¯ä¸€ç§ç»å…¸çš„æ¦‚ç‡å›¾æ¨¡å‹ï¼Œç”¨äºå»ºæ¨¡å«æœ‰éšå«çŠ¶æ€çš„åºåˆ—æ•°æ®ã€‚å®ƒå‡è®¾è§‚æµ‹åºåˆ—æ˜¯ç”±ä¸€ç»„ä¸å¯ç›´æ¥è§‚å¯Ÿçš„éšè—çŠ¶æ€ç”Ÿæˆçš„ï¼Œè€Œéšè—çŠ¶æ€ä¹‹é—´æ»¡è¶³é©¬å°”å¯å¤«æ€§ï¼ˆå½“å‰çŠ¶æ€åªä¾èµ–äºå‰ä¸€ä¸ªçŠ¶æ€ï¼‰ã€‚HMM åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ã€è¯­éŸ³è¯†åˆ«ã€åŸºå› åºåˆ—åˆ†æã€è¡Œä¸ºé¢„æµ‹ç­‰é¢†åŸŸéƒ½æœ‰å¹¿æ³›åº”ç”¨ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå¤„ç†æ—¶é—´åºåˆ—æˆ–åºåˆ—ä¾èµ–æ•°æ®ã€‚</p>
<p>åœ¨ HMM ä¸­ï¼Œæ¯ä¸ªéšè—çŠ¶æ€ä¼šä»¥ä¸€å®šæ¦‚ç‡ç”Ÿæˆè§‚æµ‹å€¼ï¼Œå› æ­¤ HMM ä¸ä»…å¯ä»¥å¯¹åºåˆ—è¿›è¡Œå»ºæ¨¡ï¼Œè¿˜å¯ä»¥è¿›è¡Œåºåˆ—é¢„æµ‹ã€çŠ¶æ€è§£ç ä»¥åŠå‚æ•°ä¼°è®¡ã€‚ä¸ GMM ç­‰é™æ€æ¦‚ç‡æ¨¡å‹ä¸åŒï¼ŒHMM æ˜¾å¼è€ƒè™‘äº†æ•°æ®çš„æ—¶åºç‰¹æ€§ï¼Œèƒ½æ•æ‰åŠ¨æ€æ¼”åŒ–è§„å¾‹ã€‚</p>
<h3 data-id="heading-4">æ¨¡å‹å®šä¹‰</h3>
<p>ä¸€ä¸ª HMM é€šå¸¸ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li>çŠ¶æ€é›†<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>s</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>s</mi><mi>N</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">S = \{s_1, s_2, ..., s_N\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">}</span></span></span></span></span> ï¼šè¡¨ç¤ºæ¨¡å‹çš„éšè—çŠ¶æ€ï¼Œæ€»æ•°ä¸º Nã€‚</li>
<li>è§‚æµ‹é›†<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>o</mi><mi>M</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">O = \{o_1, o_2, ..., o_M\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">}</span></span></span></span></span> ï¼šè¡¨ç¤ºå¯è§‚æµ‹çš„ç¬¦å·æˆ–ç‰¹å¾ï¼Œæ€»æ•°ä¸º Mã€‚</li>
<li>å‚æ•°é›†ï¼š</li>
</ol>
<ul>
<li>
<p>çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A = [a_{ij}] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>ï¼Œå…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>j</mi></msub><mo>âˆ£</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a_{ij} = P(s_j \mid s_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p>è§‚æµ‹æ¦‚ç‡çŸ©é˜µ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>b</mi><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">B = [b_{jk}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">jk</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span> ï¼Œå…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>o</mi><mi>k</mi></msub><mo>âˆ£</mo><msub><mi>s</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">b_{jk} = P(o_k \mid s_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">jk</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p>åˆå§‹çŠ¶æ€æ¦‚ç‡å‘é‡<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ï€</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>Ï€</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\pi = [\pi_i] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>ï¼Œå…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>i</mi></msub><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mtext>Â atÂ timeÂ </mtext><mi>t</mi><mo>=</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_i = P(s_i \text{ at time } t=1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord text"><span class="mord">Â atÂ timeÂ </span></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p>
</li>
</ul>
<p>HMM çš„æ ¸å¿ƒç›®æ ‡æ˜¯é€šè¿‡è§‚æµ‹åºåˆ—<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>o</mi><mi>T</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O = (o_1, o_2, ..., o_T)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>æ¥è§£å†³ä¸‰ä¸ªå…¸å‹é—®é¢˜ï¼š</p>
<ol>
<li>è¯„ä¼°é—®é¢˜ï¼šç»™å®šæ¨¡å‹å‚æ•°ï¼Œè®¡ç®—è§‚æµ‹åºåˆ—çš„æ¦‚ç‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>O</mi><mi mathvariant="normal">âˆ£</mi><mi>Î»</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(O|\lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord">âˆ£</span><span class="mord mathnormal">Î»</span><span class="mclose">)</span></span></span></span></span>ã€‚</li>
<li>è§£ç é—®é¢˜ï¼šç»™å®šè§‚æµ‹åºåˆ—ï¼Œæ‰¾åˆ°æœ€å¯èƒ½çš„éšè—çŠ¶æ€åºåˆ—ï¼ˆå¸¸ç”¨ Viterbi ç®—æ³•ï¼‰ã€‚</li>
<li>å­¦ä¹ é—®é¢˜ï¼šç»™å®šè§‚æµ‹åºåˆ—ï¼Œä¼°è®¡æ¨¡å‹å‚æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi>Ï€</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, B, \pi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mclose">)</span></span></span></span></span>ï¼ˆå¸¸ç”¨ Baum-Welch/EM ç®—æ³•ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-5">ç®—æ³•æµç¨‹</h3>
<p>ä»¥æœ€å¸¸ç”¨çš„ Baum-Welch ç®—æ³•ï¼ˆEM ç®—æ³•çš„ä¸€ç§ï¼‰ä¸ºä¾‹ï¼ŒHMM çš„è®­ç»ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼šéšæœºåˆå§‹åŒ–çŠ¶æ€è½¬ç§»çŸ©é˜µ Aã€è§‚æµ‹æ¦‚ç‡çŸ©é˜µ B å’Œåˆå§‹çŠ¶æ€æ¦‚ç‡<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ï€</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span></span></span> ã€‚</li>
<li>E æ­¥ï¼ˆExpectationï¼‰ï¼šè®¡ç®—å‰å‘æ¦‚ç‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span>å’Œåå‘æ¦‚ç‡<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î²</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span></span></span></span> ï¼Œç”¨äºä¼°è®¡æ¯ä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€æ¦‚ç‡ã€‚</li>
<li>M æ­¥ï¼ˆMaximizationï¼‰ï¼šæ ¹æ®å‰å‘åå‘æ¦‚ç‡æ›´æ–° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi>Ï€</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, B, \pi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mclose">)</span></span></span></span></span>å‚æ•°ï¼Œä½¿è§‚æµ‹åºåˆ—çš„ä¼¼ç„¶æ¦‚ç‡æœ€å¤§åŒ–ã€‚</li>
<li>è¿­ä»£ï¼šé‡å¤ E æ­¥å’Œ M æ­¥ï¼Œç›´åˆ°æ¨¡å‹æ”¶æ•›æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚</li>
</ol>
<p>å¯¹äºçŠ¶æ€è§£ç é—®é¢˜ï¼Œå¸¸ç”¨ Viterbi ç®—æ³•ï¼Œé€šè¿‡åŠ¨æ€è§„åˆ’æ±‚è§£æœ€å¯èƒ½çš„éšè—çŠ¶æ€åºåˆ—ã€‚</p>
<p>ä¸‹é¢ä½¿ç”¨ hmmlearn åº“å¯¹ä¸€ä¸ªç®€å•çš„ç¦»æ•£åºåˆ—è¿›è¡Œ HMM å»ºæ¨¡å’Œé¢„æµ‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> hmmlearn <span class="hljs-keyword">import</span> hmm

<span class="hljs-comment"># å‡è®¾è§‚æµ‹å€¼ 0,1,2ï¼ˆç¦»æ•£ç±»åˆ«ï¼‰ï¼Œéšè—çŠ¶æ€ 0,1</span>
obs = np.array([[<span class="hljs-number">0</span>],[<span class="hljs-number">1</span>],[<span class="hljs-number">0</span>],[<span class="hljs-number">2</span>],[<span class="hljs-number">1</span>],[<span class="hljs-number">0</span>],[<span class="hljs-number">2</span>],[<span class="hljs-number">1</span>]])  <span class="hljs-comment"># æ³¨æ„åˆ—å‘é‡</span>

<span class="hljs-comment"># å®šä¹‰ HMMï¼Œç¦æ­¢è‡ªåŠ¨åˆå§‹åŒ–</span>
model = hmm.MultinomialHMM(n_components=<span class="hljs-number">2</span>, n_iter=<span class="hljs-number">100</span>, random_state=<span class="hljs-number">42</span>, init_params=<span class="hljs-string">""</span>)

<span class="hljs-comment"># æ‰‹åŠ¨è®¾ç½®å‚æ•°</span>
model.startprob_ = np.array([<span class="hljs-number">0.6</span>, <span class="hljs-number">0.4</span>])
model.transmat_ = np.array([[<span class="hljs-number">0.7</span>, <span class="hljs-number">0.3</span>],
                            [<span class="hljs-number">0.4</span>, <span class="hljs-number">0.6</span>]])

<span class="hljs-comment"># emissionprob_ å½¢çŠ¶å¿…é¡»æ˜¯ (n_components, n_features)</span>
<span class="hljs-comment"># n_features = 3ï¼Œå› ä¸ºè§‚æµ‹å€¼ 0,1,2 å…± 3 ç±»</span>
model.emissionprob_ = np.array([[<span class="hljs-number">0.5</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">0.1</span>],
                                [<span class="hljs-number">0.1</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.6</span>]])

<span class="hljs-comment"># è®­ç»ƒ HMM</span>
model.fit(obs)

<span class="hljs-comment"># è§£ç éšè—çŠ¶æ€åºåˆ—</span>
hidden_states = model.predict(obs)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"éšè—çŠ¶æ€åºåˆ—:"</span>, hidden_states)
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒHMM å¯¹è§‚æµ‹åºåˆ—è¿›è¡Œäº†å»ºæ¨¡ï¼Œå¹¶é¢„æµ‹äº†æœ€å¯èƒ½çš„éšè—çŠ¶æ€åºåˆ—ã€‚</p>
<p>HMM çš„æ—¶åºå»ºæ¨¡èƒ½åŠ›ä½¿å…¶åœ¨å¤šä¸ªé¢†åŸŸè¡¨ç°å‡ºè‰²ï¼š</p>
<ul>
<li>è¯­éŸ³è¯†åˆ«ï¼šå°†è¯­éŸ³ä¿¡å·åºåˆ—æ˜ å°„åˆ°éŸ³ç´ æˆ–æ–‡å­—åºåˆ—ã€‚</li>
<li>è‡ªç„¶è¯­è¨€å¤„ç†ï¼šè¯æ€§æ ‡æ³¨ã€å‘½åå®ä½“è¯†åˆ«ç­‰åºåˆ—æ ‡æ³¨ä»»åŠ¡ã€‚</li>
<li>ç”Ÿç‰©ä¿¡æ¯å­¦ï¼šåŸºå› åºåˆ—åˆ†æã€è›‹ç™½è´¨äºŒçº§ç»“æ„é¢„æµ‹ã€‚</li>
<li>è¡Œä¸ºé¢„æµ‹ä¸å¼‚å¸¸æ£€æµ‹ï¼šå¯¹æ—¶é—´åºåˆ—æ•°æ®è¿›è¡Œæ¨¡å¼å‘ç°å’Œå¼‚å¸¸è¯†åˆ«ã€‚</li>
</ul>
<p>ç®€å•æ€»ç»“ä¸€ä¸‹HMMï¼ŒHMM æ˜¯ä¸€ç§ç»å…¸çš„åºåˆ—æ¦‚ç‡æ¨¡å‹ï¼Œé€šè¿‡éšè—çŠ¶æ€å’Œè§‚æµ‹æ¦‚ç‡æè¿°åºåˆ—æ•°æ®çš„ç”Ÿæˆæœºåˆ¶ã€‚ä¸é™æ€æ¦‚ç‡æ¨¡å‹ï¼ˆå¦‚ GMMï¼‰ä¸åŒï¼ŒHMM æ˜¾å¼è€ƒè™‘æ—¶åºä¾èµ–å’Œé©¬å°”å¯å¤«æ€§ï¼Œèƒ½å¤Ÿæ•æ‰åŠ¨æ€æ¼”åŒ–è§„å¾‹ã€‚</p>
<p>é€šè¿‡åˆç†è®¾è®¡çŠ¶æ€æ•°å’Œåˆå§‹åŒ–å‚æ•°ï¼ŒHMM å¯ä»¥åœ¨è¯­éŸ³ã€æ–‡æœ¬ã€ç”Ÿç‰©åºåˆ—åŠè¡Œä¸ºæ•°æ®ç­‰é¢†åŸŸæä¾›å¼ºå¤§çš„å»ºæ¨¡èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-6">è´å¶æ–¯ç½‘ç»œ</h2>
<p>è´å¶æ–¯ç½‘ç»œï¼ˆBayesian Network, BNï¼‰ æ˜¯ä¸€ç§åŸºäºæ¦‚ç‡çš„å›¾æ¨¡å‹ï¼Œç”¨äºè¡¨ç¤ºå˜é‡ä¹‹é—´çš„æ¡ä»¶ä¾èµ–å…³ç³»ã€‚å®ƒç”±ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDirected Acyclic Graph, DAGï¼‰å’Œä¸èŠ‚ç‚¹å¯¹åº”çš„æ¡ä»¶æ¦‚ç‡è¡¨ï¼ˆConditional Probability Table, CPTï¼‰ç»„æˆã€‚èŠ‚ç‚¹ä»£è¡¨éšæœºå˜é‡ï¼Œè¾¹è¡¨ç¤ºå˜é‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè€Œ CPT åˆ™é‡åŒ–äº†è¿™ç§ä¾èµ–å…³ç³»çš„å¼ºåº¦ã€‚</p>
<p>è´å¶æ–¯ç½‘ç»œèƒ½å¤Ÿå¤„ç†ä¸ç¡®å®šæ€§ã€æ¨ç†å¤æ‚ç³»ç»Ÿã€è¿›è¡Œå› æœåˆ†æï¼Œå¹¶å¹¿æ³›åº”ç”¨äºåŒ»ç–—è¯Šæ–­ã€æ•…éšœæ£€æµ‹ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€é£é™©è¯„ä¼°ç­‰é¢†åŸŸã€‚ä¸å…¶ä»–æ¦‚ç‡æ¨¡å‹ä¸åŒï¼Œè´å¶æ–¯ç½‘ç»œæ˜¾å¼åœ°è¡¨ç¤ºå˜é‡ä¹‹é—´çš„æ¡ä»¶ä¾èµ–ä¸ç‹¬ç«‹æ€§ï¼Œä½¿å¾—å¤æ‚çš„è”åˆæ¦‚ç‡åˆ†å¸ƒèƒ½å¤Ÿåˆ†è§£ä¸ºå±€éƒ¨æ¦‚ç‡åˆ†å¸ƒçš„ä¹˜ç§¯ï¼Œä»è€Œå¤§å¹…é™ä½è®¡ç®—å¤æ‚åº¦ã€‚</p>
<h3 data-id="heading-7">æ¨¡å‹å®šä¹‰</h3>
<p>ä¸€ä¸ªè´å¶æ–¯ç½‘ç»œé€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li>ç»“æ„ï¼ˆDAGï¼‰</li>
</ol>
<ul>
<li>èŠ‚ç‚¹<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>X</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">X_1, X_2, ..., X_n </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºéšæœºå˜é‡</li>
<li>æœ‰å‘è¾¹<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mo>â†’</mo><msub><mi>X</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">X_i \to X_j </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>è¡¨ç¤º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">X_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> çš„æ¦‚ç‡åˆ†å¸ƒä¾èµ–äº<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></li>
<li>å›¾ä¸­ä¸å…è®¸ç¯è·¯ï¼ˆæ— ç¯æ€§ä¿è¯äº†æ¦‚ç‡è®¡ç®—çš„æ­£ç¡®æ€§ï¼‰</li>
</ul>
<ol start="2">
<li>å‚æ•°ï¼ˆCPTï¼‰</li>
</ol>
<ul>
<li>æ¯ä¸ªèŠ‚ç‚¹<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>  éƒ½æœ‰æ¡ä»¶æ¦‚ç‡è¡¨P(X_i \mid \text{Parents}(X_i))</li>
<li>è‹¥èŠ‚ç‚¹æ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œåˆ™ä¸ºè¾¹ç¼˜æ¦‚ç‡<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(X_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li>
<li>è”åˆæ¦‚ç‡åˆ†å¸ƒå¯åˆ†è§£ä¸ºå„èŠ‚ç‚¹æ¡ä»¶æ¦‚ç‡çš„ä¹˜ç§¯ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>X</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>âˆ</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo>âˆ£</mo><mtext>Parents</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(X_1, X_2, ..., X_n) = \prod_{i=1}^{n} P(X_i \mid \text{Parents}(X_i))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.104em;vertical-align:-0.2997em;"/><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">Parents</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">))</span></span></span></span></span></li>
</ul>
<h3 data-id="heading-8">æ ¸å¿ƒç‰¹ç‚¹</h3>
<p>è´å¶æ–¯ç½‘ç»œçš„æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li>è¡¨è¾¾æ¡ä»¶ç‹¬ç«‹æ€§ï¼šé€šè¿‡ DAG çš„ç»“æ„ï¼Œèƒ½å¤Ÿæ¸…æ™°åœ°è¡¨ç¤ºå“ªäº›å˜é‡æ˜¯æ¡ä»¶ç‹¬ç«‹çš„ï¼Œä»è€Œå‡å°‘è®¡ç®—å¤æ‚åº¦ã€‚</li>
<li>å› æœå»ºæ¨¡èƒ½åŠ›ï¼šå¯ä»¥ç”¨äºæè¿°å› æœå…³ç³»è€Œä¸ä»…ä»…æ˜¯ç›¸å…³æ€§ã€‚</li>
<li>çµæ´»çš„æ¦‚ç‡æ¨ç†ï¼šå¯ä»¥è¿›è¡Œè¾¹ç¼˜åŒ–ã€æ¡ä»¶æ¨ç†å’ŒåéªŒæ¨æ–­ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ¨¡å‹å¯è§£é‡Šæ€§å¼º</li>
<li>èƒ½å¤„ç†ä¸å®Œæ•´æ•°æ®</li>
<li>å¯è¿›è¡Œæ¨ç†å’Œå†³ç­–æ”¯æŒ</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>å­¦ä¹  DAG ç»“æ„å¤æ‚ï¼ˆå°¤å…¶æ˜¯å˜é‡å¤šæ—¶ï¼‰</li>
<li>CPT éšçˆ¶èŠ‚ç‚¹æ•°é‡å¢åŠ å‘ˆæŒ‡æ•°å¢é•¿</li>
<li>å¯¹è¿ç»­å˜é‡éœ€è¦ç¦»æ•£åŒ–æˆ–å‡è®¾ç‰¹å®šåˆ†å¸ƒ</li>
</ul>
<h3 data-id="heading-9">å­¦ä¹ ä¸æ¨ç†</h3>
<p>è´å¶æ–¯ç½‘ç»œæ¶‰åŠä¸¤ç±»æ ¸å¿ƒä»»åŠ¡ï¼š</p>
<ol>
<li>ç»“æ„å­¦ä¹ </li>
</ol>
<ul>
<li>ä»æ•°æ®ä¸­å­¦ä¹ ç½‘ç»œç»“æ„</li>
<li>å¸¸ç”¨æ–¹æ³•ï¼šè´ªå¿ƒæœç´¢ã€çº¦æŸæ–¹æ³•ã€å¾—åˆ†å‡½æ•°ï¼ˆå¦‚ BIC, AICï¼‰</li>
</ul>
<ol start="2">
<li>å‚æ•°å­¦ä¹ </li>
</ol>
<ul>
<li>ç»™å®š DAGï¼Œå­¦ä¹  CPT</li>
<li>å¯ä½¿ç”¨æå¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMLEï¼‰æˆ–è´å¶æ–¯ä¼°è®¡</li>
</ul>
<ol start="3">
<li>æ¨ç†ï¼ˆInferenceï¼‰</li>
</ol>
<ul>
<li>ç»™å®šéƒ¨åˆ†å˜é‡çš„è§‚æµ‹å€¼ï¼Œè®¡ç®—å…¶ä»–å˜é‡çš„åéªŒåˆ†å¸ƒ</li>
<li>æ–¹æ³•ï¼šç²¾ç¡®æ¨ç†ï¼ˆå˜é‡æ¶ˆå…ƒã€ä¿¡å¿µä¼ æ’­ï¼‰å’Œè¿‘ä¼¼æ¨ç†ï¼ˆè’™ç‰¹å¡æ´›é‡‡æ ·ã€Gibbs é‡‡æ ·ï¼‰</li>
</ul>
<p>ä¸‹é¢ç”¨ pgmpy å¯¹ä¸€ä¸ªç®€å•çš„è´å¶æ–¯ç½‘ç»œå»ºæ¨¡ã€å‚æ•°å­¦ä¹ å’Œæ¨ç†ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">from</span> pgmpy.models <span class="hljs-keyword">import</span> BayesianModel
<span class="hljs-keyword">from</span> pgmpy.estimators <span class="hljs-keyword">import</span> MaximumLikelihoodEstimator
<span class="hljs-keyword">from</span> pgmpy.inference <span class="hljs-keyword">import</span> VariableElimination

<span class="hljs-comment"># å®šä¹‰ç½‘ç»œç»“æ„</span>
model = BayesianModel([(<span class="hljs-string">'Rain'</span>, <span class="hljs-string">'Traffic'</span>), (<span class="hljs-string">'Accident'</span>, <span class="hljs-string">'Traffic'</span>)])

<span class="hljs-comment"># æ„é€ æ•°æ®</span>
data = pd.DataFrame({
    <span class="hljs-string">'Rain'</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>],
    <span class="hljs-string">'Accident'</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>],
    <span class="hljs-string">'Traffic'</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]
})

<span class="hljs-comment"># å‚æ•°å­¦ä¹ </span>
model.fit(data, estimator=MaximumLikelihoodEstimator)

<span class="hljs-comment"># æ¨ç†</span>
infer = VariableElimination(model)
posterior = infer.query(variables=[<span class="hljs-string">'Traffic'</span>], evidence={<span class="hljs-string">'Rain'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'Accident'</span>: <span class="hljs-number">0</span>})
<span class="hljs-built_in">print</span>(posterior)
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li>Rain å’Œ Accident æ˜¯ Traffic çš„çˆ¶èŠ‚ç‚¹</li>
<li>å­¦ä¹  CPT åå¯ä»¥åŸºäºè§‚æµ‹æ¨æ–­ Traffic çš„æ¦‚ç‡ è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/915b3f6f4a8b4174a9aa0b64231aa6b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769442395&amp;x-signature=7GQFEWBZo6uInb2Q0TJomNy%2BipY%3D" alt="" loading="lazy"/></p>
<p>è´å¶æ–¯ç½‘ç»œæ˜¯ä¸€ç§å¼ºå¤§çš„æ¦‚ç‡å›¾æ¨¡å‹ï¼Œé€šè¿‡ DAG è¡¨ç¤ºå˜é‡ä¹‹é—´çš„æ¡ä»¶ä¾èµ–å…³ç³»ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°è¿›è¡Œè”åˆæ¦‚ç‡å»ºæ¨¡å’Œæ¨ç†ã€‚å®ƒç‰¹åˆ«é€‚åˆå¤„ç†å¤æ‚ç³»ç»Ÿçš„å› æœåˆ†æå’Œä¸ç¡®å®šæ€§å»ºæ¨¡ã€‚</p>
<p>æœ€æ–°çš„æ–‡ç« éƒ½åœ¨å…¬ä¼—å·aicotingæ›´æ–°ï¼Œåˆ«å¿˜è®°å…³æ³¨å“¦ï¼ï¼ï¼</p>
<p>ğŸ“š æ¨èé˜…è¯»</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485782%26idx%3D1%26sn%3D060c8222b47cbf903fbfded1f0421bcf%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485782&amp;idx=1&amp;sn=060c8222b47cbf903fbfded1f0421bcf&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ä¹‹æ•°æ®é¢„å¤„ç†ç¯‡ï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485800%26idx%3D1%26sn%3Da52107c9dc7071d8530a24563861fa46%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485800&amp;idx=1&amp;sn=a52107c9dc7071d8530a24563861fa46&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ç‰¹å¾å·¥ç¨‹ä¸­çš„ç‰¹å¾é€‰æ‹©</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485808%26idx%3D1%26sn%3D2c57081d4b12433f6b8919209e2e52ed%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485808&amp;idx=1&amp;sn=2c57081d4b12433f6b8919209e2e52ed&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ä¸­çš„ç‰¹å¾æ„é€ </a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485820%26idx%3D1%26sn%3Dadcb41fd14347f2f1431709323fa253f%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485820&amp;idx=1&amp;sn=adcb41fd14347f2f1431709323fa253f&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ä¹‹ç‰¹å¾é™ç»´</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485941%26idx%3D1%26sn%3Dcb53a98bacd1cfbd3255bbeeab6a24ec%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485941&amp;idx=1&amp;sn=cb53a98bacd1cfbd3255bbeeab6a24ec&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸€æ–‡ææ‡‚å±‚æ¬¡èšç±»å’Œå¯†åº¦èšç±»æ–¹æ³•ï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485946%26idx%3D1%26sn%3Da5cf50a4a3bda9785fb0c7baae3a6bb2%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485946&amp;idx=1&amp;sn=a5cf50a4a3bda9785fb0c7baae3a6bb2&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸€æ–‡ææ‡‚æœºå™¨å­¦ä¹ ä¸­çš„PCAä¸»æˆåˆ†åˆ†æï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485952%26idx%3D1%26sn%3Dffe1fca4cb75b2f99ace92593554837c%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485952&amp;idx=1&amp;sn=ffe1fca4cb75b2f99ace92593554837c&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ä¸­ç‹¬ç«‹æˆåˆ†åˆ†æICAå’Œä¸»æˆåˆ†åˆ†æPCAæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwMTcyOTcyOQ%3D%3D%26mid%3D2247485960%26idx%3D1%26sn%3D05cf98957ea11dcd6ae165588b4c91c7%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwMTcyOTcyOQ==&amp;mid=2247485960&amp;idx=1&amp;sn=05cf98957ea11dcd6ae165588b4c91c7&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸€æ–‡ææ‡‚t-SNEå’ŒUMAPé™ç»´æ–¹æ³•ï¼</a></p>
<p>ä½œè€…ï¼šaicoting</p>
<p>åˆ†äº«æ˜¯ä¸€ç§ä¿¡ä»°ï¼Œè¿æ¥è®©æˆé•¿æ›´æœ‰æ¸©åº¦ã€‚</p>
<p>æˆ‘ä»¬ä¸‹æ¬¡ä¸è§ä¸æ•£ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.2åº”ç”¨ç¨‹åºé˜¶æ®µ]]></title>    <link>https://juejin.cn/post/7596869784538710016</link>    <guid>https://juejin.cn/post/7596869784538710016</guid>    <pubDate>2026-01-19T14:08:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596869784538710016" data-draft-id="7596932640726269987" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.2åº”ç”¨ç¨‹åºé˜¶æ®µ"/> <meta itemprop="keywords" content="è®¡ç®—æœºå›¾å½¢å­¦"/> <meta itemprop="datePublished" content="2026-01-19T14:08:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="charlee44"/> <meta itemprop="url" content="https://juejin.cn/user/1117549770846872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.2åº”ç”¨ç¨‹åºé˜¶æ®µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117549770846872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    charlee44
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:08:09.000Z" title="Mon Jan 19 2026 14:08:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®æ—¶æ¸²æŸ“</h2>
<h3 data-id="heading-1">2. å›¾å½¢æ¸²æŸ“ç®¡çº¿</h3>
<h4 data-id="heading-2">2.2 åº”ç”¨ç¨‹åºé˜¶æ®µ</h4>
<p>å¼€å‘äººå‘˜å¯ä»¥å®Œå…¨æ§åˆ¶åº”ç”¨ç¨‹åºé˜¶æ®µå‘ç”Ÿçš„äº‹æƒ…ï¼Œå› ä¸ºå®ƒé€šå¸¸åœ¨CPUä¸Šæ‰§è¡Œã€‚å› æ­¤ï¼Œå¼€å‘äººå‘˜å¯ä»¥å®Œå…¨å†³å®šå…¶å®ç°ï¼Œç„¶åå¯¹å…¶è¿›è¡Œä¿®æ”¹ä»¥æé«˜æ€§èƒ½ã€‚æ­¤å¤„çš„æ›´æ”¹ä¹Ÿä¼šå½±å“åç»­é˜¶æ®µçš„æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨ç¨‹åºé˜¶æ®µç®—æ³•æˆ–è®¾ç½®å¯ä»¥å‡å°‘è¦æ¸²æŸ“çš„ä¸‰è§’å½¢æ•°é‡ã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œä¸€äº›åº”ç”¨ç¨‹åºå·¥ä½œå¯ä»¥ç”±GPUæ‰§è¡Œï¼Œä½¿ç”¨ç§°ä¸ºè®¡ç®—ç€è‰²å™¨çš„å•ç‹¬æ¨¡å¼ã€‚æ­¤æ¨¡å¼å°†GPUè§†ä¸ºé«˜åº¦å¹¶è¡Œçš„é€šç”¨å¤„ç†å™¨ï¼Œå¿½ç•¥å…¶ä¸“é—¨ç”¨äºæ¸²æŸ“å›¾å½¢çš„ç‰¹æ®ŠåŠŸèƒ½ã€‚</p>
<p>åœ¨åº”ç”¨ç¨‹åºé˜¶æ®µç»“æŸæ—¶ï¼Œè¦æ¸²æŸ“çš„å‡ ä½•å›¾å½¢è¢«é¦ˆé€åˆ°å‡ ä½•å›¾å½¢å¤„ç†é˜¶æ®µã€‚è¿™äº›æ˜¯æ¸²æŸ“å›¾å…ƒï¼Œå³ç‚¹ã€çº¿å’Œä¸‰è§’å½¢ï¼Œå®ƒä»¬æœ€ç»ˆå¯èƒ½ä¼šå‡ºç°åœ¨å±å¹•ä¸Šï¼ˆæˆ–æ­£åœ¨ä½¿ç”¨çš„ä»»ä½•è¾“å‡ºè®¾å¤‡ï¼‰ã€‚è¿™æ˜¯åº”ç”¨é˜¶æ®µæœ€é‡è¦çš„ä»»åŠ¡ã€‚</p>
<p>è¯¥é˜¶æ®µåŸºäºè½¯ä»¶å®ç°çš„ç»“æœæ˜¯å®ƒæ²¡æœ‰è¢«åˆ’åˆ†ä¸ºå­é˜¶æ®µï¼Œå‡ ä½•å¤„ç†ã€å…‰æ …åŒ–å’Œåƒç´ å¤„ç†é˜¶æ®µä¹Ÿæ˜¯å¦‚æ­¤<sup><a href="#user-content-fn-1" id="user-content-user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label" title="#user-content-fn-1">1</a></sup>ã€‚ä½†æ˜¯ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œæ­¤é˜¶æ®µé€šå¸¸åœ¨å¤šä¸ªå¤„ç†å™¨å†…æ ¸ä¸Šå¹¶è¡Œæ‰§è¡Œã€‚åœ¨CPUè®¾è®¡ä¸­ï¼Œè¿™è¢«ç§°ä¸ºè¶…æ ‡é‡æ„é€ ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿåœ¨åŒä¸€é˜¶æ®µåŒæ—¶æ‰§è¡Œå¤šä¸ªè¿›ç¨‹ã€‚<a href="https://link.juejin.cn?target=%25E7%25AC%25AC18.5%25E8%258A%2582" target="_blank" title="%E7%AC%AC18.5%E8%8A%82" ref="nofollow noopener noreferrer">ç¬¬18.5èŠ‚</a>ä»‹ç»äº†ä½¿ç”¨å¤šä¸ªå¤„ç†å™¨å†…æ ¸çš„å„ç§æ–¹æ³•ã€‚</p>
<p>åœ¨è¿™ä¸ªé˜¶æ®µé€šå¸¸å®æ–½çš„ä¸€ä¸ªè¿‡ç¨‹æ˜¯ç¢°æ’æ£€æµ‹ã€‚åœ¨æ£€æµ‹åˆ°ä¸¤ä¸ªç‰©ä½“ä¹‹é—´å‘ç”Ÿç¢°æ’åï¼Œå¯ä»¥ç”Ÿæˆå“åº”å¹¶å°†å…¶å‘é€å›ç¢°æ’ç‰©ä½“ä»¥åŠåŠ›åé¦ˆè®¾å¤‡ã€‚åº”ç”¨ç¨‹åºé˜¶æ®µä¹Ÿæ˜¯å¤„ç†æ¥è‡ªå…¶ä»–æ¥æºçš„è¾“å…¥çš„åœ°æ–¹ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡æˆ–å¤´æˆ´å¼æ˜¾ç¤ºå™¨ã€‚æ ¹æ®è¿™ä¸ªè¾“å…¥ï¼Œå¯ä»¥é‡‡å–å‡ ç§ä¸åŒçš„åŠ¨ä½œã€‚åŠ é€Ÿç®—æ³•ï¼Œä¾‹å¦‚ç‰¹å®šçš„å‰”é™¤ç®—æ³•ï¼ˆ<a href="https://link.juejin.cn?target=%25E7%25AC%25AC19%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC19%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬19ç« </a>ï¼‰ï¼Œä¹Ÿåœ¨è¿™é‡Œå®ç°ï¼Œä»¥åŠç®¡é“çš„å…¶ä½™éƒ¨åˆ†æ— æ³•å¤„ç†çš„ä»»ä½•å…¶ä»–å†…å®¹ã€‚</p>
<h3 class="sr-only" id="user-content-footnote-label" data-id="heading-3">Footnotes</h3>
<ol>
<li id="user-content-user-content-fn-1">
<p>ç”±äºCPUæœ¬èº«çš„æµæ°´çº¿è§„æ¨¡è¦å°å¾—å¤šï¼Œæ‚¨å¯ä»¥è¯´åº”ç”¨ç¨‹åºé˜¶æ®µè¢«è¿›ä¸€æ­¥ç»†åˆ†ä¸ºå‡ ä¸ªæµæ°´çº¿é˜¶æ®µï¼Œä½†è¿™åœ¨è¿™é‡Œæ— å…³ç´§è¦ã€‚ <a href="#user-content-fnref-1" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content" title="#user-content-fnref-1">â†©</a></p>
</li>
</ol>
</div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™æ‰æ˜¯AIå»ºæ¨¡è¯¥æœ‰çš„æ ·å­ï¼šæ··å…ƒ3D 1.2å…¬æµ‹ï¼Œé¼ æ ‡ç§’å˜é›•åˆ»åˆ€]]></title>    <link>https://juejin.cn/post/7596926832912826431</link>    <guid>https://juejin.cn/post/7596926832912826431</guid>    <pubDate>2026-01-19T14:12:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596926832912826431" data-draft-id="7596905751110516799" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™æ‰æ˜¯AIå»ºæ¨¡è¯¥æœ‰çš„æ ·å­ï¼šæ··å…ƒ3D 1.2å…¬æµ‹ï¼Œé¼ æ ‡ç§’å˜é›•åˆ»åˆ€"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-19T14:12:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™æ‰æ˜¯AIå»ºæ¨¡è¯¥æœ‰çš„æ ·å­ï¼šæ··å…ƒ3D 1.2å…¬æµ‹ï¼Œé¼ æ ‡ç§’å˜é›•åˆ»åˆ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:12:25.000Z" title="Mon Jan 19 2026 14:12:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦ç™½è¯´ï¼Œåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼ŒAIç”Ÿæˆ3Dæ¨¡å‹ç»™æˆ‘çš„æ„Ÿè§‰å°±åƒæ˜¯åœ¨â€œå¼€ç›²ç›’â€ã€‚ä½ è¾“å…¥ä¸€å¼ å›¾ï¼ŒAIæ‰”ç»™ä½ ä¸€ä¸ªæ¨¡å‹ï¼Œè‡³äºèƒŒé¢æ˜¯ä¸æ˜¯ä¹±ä½œä¸€å›¢ï¼Œæˆ–è€…çº¹ç†æ˜¯ä¸æ˜¯æŠŠå…‰å½±ç”»æ­»åœ¨è´´å›¾ä¸Šï¼Œå…¨çœ‹è¿æ°”ã€‚å¯¹äºæƒ³æ‹¿æ¥åšæ¸¸æˆèµ„äº§æˆ–è€…3Dæ‰“å°çš„äººæ¥è¯´ï¼Œè¿™ç§ä¸å¯æ§æ€§ç®€ç›´æ˜¯å™©æ¢¦ã€‚</p>
<p>ä½†å°±åœ¨ä»Šå¤©ï¼Œè…¾è®¯æ··å…ƒ3D Studio 1.2ç‰ˆæœ¬å…¨é‡å¼€æ”¾å…¬æµ‹ã€‚åœ¨ä»”ç»†ç ”ç©¶äº†è¿™æ¬¡æ›´æ–°çš„æ–‡æ¡£å¹¶ä¸Šæ‰‹ä½“éªŒåï¼Œæˆ‘æ„Ÿè§‰åˆ°é£å‘å˜äº†ï¼šAI 3Då·¥å…·æ­£åœ¨ä»â€œè®©å¤§å®¶çœ‹ä¸ªä¹å­â€ï¼Œè½¬å‘â€œçœŸæ­£èƒ½å¹²æ´»çš„ç”Ÿäº§åŠ›â€ã€‚</p>
<p>è¿™æ¬¡å‡çº§ä¸éœ€è¦ä»€ä¹ˆé‚€è¯·ç ï¼Œä¹Ÿæ²¡äº†æ’é˜Ÿç”³è¯·çš„é—¨æ§›ï¼Œç›´æ¥è¿›å®˜ç½‘å°±èƒ½ç”¨ã€‚è€Œæœ€è®©æˆ‘å…´å¥‹çš„ï¼Œæ˜¯å®ƒç»ˆäºæŠŠâ€œæ§åˆ¶æƒâ€äº¤è¿˜ç»™äº†äººç±»ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fasdasfd-1024x375.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/asdasfd-1024x375.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f3bee37dd9f4193a46a306df8cf4c31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769436745&amp;x-signature=mndI%2BJKQAIemSexAeokeYbwSXqA%3D" alt="asdasfd" loading="lazy"/></a></p>
<p><strong>å‘Šåˆ«éšæœºï¼ŒæŒ‡å“ªæ‹†å“ª</strong></p>
<p>ä»¥å‰ç”¨AIæ‹†åˆ†æ¨¡å‹ç»„ä»¶ï¼ˆPartGenï¼‰ï¼Œç³»ç»Ÿå¾€å¾€æ˜¯è‡ªåŠ¨ççŒœï¼Œç»å¸¸æŠŠä¸€åªå®Œæ•´çš„èƒ³è†Šå¼ºè¡Œåˆ‡æˆä¸¤æ®µï¼Œæˆ–è€…æŠŠå¸½å­å’Œå¤´å‘ç²˜åœ¨ä¸€èµ·ã€‚</p>
<p>è¿™æ¬¡æ›´æ–°çš„PartGen 1.5ç‰ˆæœ¬ï¼Œå¸¦æ¥äº†ä¸€ä¸ªåœ¨ä¼ ç»Ÿå»ºæ¨¡è½¯ä»¶é‡Œå¸ç©ºè§æƒ¯ï¼Œä½†åœ¨ç”Ÿæˆå¼AIé‡Œå´æ˜¯é©å‘½æ€§çš„åŠŸèƒ½ï¼š<strong>ç¬”åˆ·äº¤äº’</strong>ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Ffsdfgdfg-1024x476.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/fsdfgdfg-1024x476.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c41bed293955405aa78e7da8a1150985~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769436745&amp;x-signature=%2Fw%2FH23kN%2BNLXgzqMyZbY2V%2BbFTY%3D" alt="fsdfgdfg" loading="lazy"/></a></p>
<p>ç°åœ¨ï¼Œä½ å¯ä»¥ç›´æ¥æ‹¿ç€é¼ æ ‡å½“ç¬”åˆ·ï¼Œåœ¨æ¨¡å‹ä¸Šæ¶‚æŠ¹ã€‚ä½ è§‰å¾—è¿™ä¸ªè§’è‰²çš„æŠ¤è‚©åº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹é›¶ä»¶ï¼Œä½ å°±æ¶‚å®ƒï¼›ä½ è§‰å¾—é‚£ä¸ªå¤æ‚çš„æœºæ¢°ç»“æ„éœ€è¦å•ç‹¬æ‹†åˆ†ï¼Œä½ å°±ç”»å‡ºæ¥ã€‚è¿™ç§â€œæŒ‡å“ªæ‹†å“ªâ€çš„é€»è¾‘ï¼Œç›´æ¥æ¶ˆé™¤äº†AIççŒœå¸¦æ¥çš„æŒ«è´¥æ„Ÿã€‚</p>
<p>ä¸ºäº†é…åˆè¿™ç§ç²¾ç»†æ“ä½œï¼Œè…¾è®¯æŠŠæ‹†åˆ†ç²¾åº¦çš„åˆ†è¾¨ç‡ç›´æ¥æ‹‰åˆ°äº†1536Â³ã€‚è¿™ä¸ªæ•°å­—æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€æ¨¡å‹çš„åˆ‡å£ä¸å†æ˜¯é”¯é½¿çŠ¶çš„ç‹—å•ƒè¾¹ç¼˜ï¼Œè€Œæ˜¯å¹³æ»‘ã€å¹²å‡€çš„å‡ ä½•çº¿æ¡ã€‚è¿™å¯¹äºåç»­çš„éª¨éª¼ç»‘å®šæˆ–è€…3Dæ‰“å°æ—¶çš„åˆ†ä»¶å¤„ç†ï¼Œç®€ç›´æ˜¯æ•‘å‘½èˆ¬çš„æ”¹è¿›ã€‚</p>
<p><strong>ä¸ä»…çœ‹å¾—å…¨ï¼Œè¿˜æ‡‚ä»€ä¹ˆæ˜¯å…‰</strong></p>
<p>é™¤äº†æ‹†åˆ†ï¼Œåº•å±‚çš„ç”Ÿæˆæ¨¡å‹ä¹Ÿå‡çº§åˆ°äº†æ··å…ƒ3D 3.1ã€‚ä»¥å‰åšAI 3Dæœ€æ€•ä»€ä¹ˆï¼Ÿæ€•â€œè§†è§‰ç›²åŒºâ€ã€‚å•å¼ å›¾ç”Ÿæˆæ—¶ï¼ŒAIç»å¸¸è„‘è¡¥ä¸å‡ºç‰©ä½“çš„åº•éƒ¨å’Œé¡¶éƒ¨ï¼Œå¯¼è‡´ç”Ÿæˆçš„æ¨¡å‹åƒä¸ªè¢«å‹æ‰çš„çº¸ç›’å­ã€‚</p>
<p>æ–°ç‰ˆæœ¬ç›´æ¥æ”¯æŒäº†<strong>å…«è§†å›¾è¾“å…¥</strong>ã€‚é™¤äº†å¸¸è§„çš„å‰åå·¦å³ï¼Œè¿˜åŠ ä¸Šäº†é¡¶éƒ¨ã€åº•éƒ¨å’Œ45åº¦è§’çš„è§†è§’ã€‚è¿™å°±å¥½æ¯”è®©AIç»•ç€ç‰©ä½“èµ°äº†ä¸€åœˆï¼Œçœ‹æ¸…æ¥šäº†æ‰€æœ‰æ­»è§’å†åŠ¨æ‰‹ææ³¥å·´ã€‚å®æµ‹ä¸‹æ¥ï¼Œå¤æ‚ç‰©ä½“çš„ç»“æ„å®Œæ•´æ€§æœ‰äº†è´¨çš„é£è·ƒï¼Œé‚£äº›è«åå…¶å¦™çš„å‡¹é™·å’Œæ‰­æ›²å°‘äº†å¾ˆå¤šã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-19_22.04.21-488x1024.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-19_22.04.21-488x1024.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d80c0c92541947c1875c881eb5edc883~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769436745&amp;x-signature=1EFLb4JF588clBaKsVBwRGGR1Ww%3D" alt="iShot_2026-01-19_22.04.21" loading="lazy"/></a></p>
<p>å¦ä¸€ä¸ªç»†èŠ‚æ˜¯æ¸²æŸ“ç®¡çº¿çš„é‡æ„ã€‚ä»¥å‰çš„AIå®¹æ˜“æŠŠç…§ç‰‡é‡Œçš„é˜´å½±å½“æˆç‰©ä½“æœ¬èº«çš„é¢œè‰²å°åœ¨è´´å›¾ä¸Šï¼ˆBaked Lightingï¼‰ï¼Œå¯¼è‡´æ¨¡å‹æ”¾åˆ°å…¶ä»–å…‰ç…§ç¯å¢ƒä¸‹æ˜¾å¾—å¾ˆå‡ã€‚æ–°ç‰ˆæœ¬ä¼˜åŒ–äº†æè´¨æ¨æ–­ï¼Œå®ƒå¼€å§‹æ›´æ‡‚â€œä»€ä¹ˆæ˜¯æè´¨æœ¬è‰²ï¼Œä»€ä¹ˆæ˜¯ç¯å¢ƒå…‰å½±â€ï¼Œè¿˜åŸå‡ºæ¥çš„çº¹ç†è´¨æ„Ÿç»ˆäºæœ‰äº†æ¬¡ä¸–ä»£æ¸¸æˆèµ„äº§çš„å‘³é“ã€‚</p>
<p><strong>å†™åœ¨æœ€å</strong></p>
<p>è¿™æ¬¡æ··å…ƒ3D 1.2çš„æ›´æ–°ï¼Œæœ€å¤§çš„æ„ä¹‰ä¸åœ¨äºç”Ÿæˆé€Ÿåº¦å¿«äº†å¤šå°‘ï¼Œè€Œåœ¨äºå®ƒå¼€å§‹å°Šé‡ä¸“ä¸šå·¥ä½œæµã€‚</p>
<p>å½“ä¸€ä¸ªAIå·¥å…·å…è®¸ä½ ç”¨ç¬”åˆ·å»ä¿®æ­£å®ƒçš„åˆ¤æ–­ï¼Œå…è®¸ä½ æä¾›æ›´å¤šè§†è§’çš„å‚è€ƒå›¾æ¥çº¦æŸå®ƒçš„å‘æŒ¥ï¼Œå®ƒå°±ä¸å†æ˜¯ä¸€ä¸ªå•çº¯çš„ç©å…·ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯ä»¥è¾…åŠ©è®¾è®¡å¸ˆçš„å¾—åŠ›åŠ©æ‰‹ã€‚</p>
<p>å¦‚æœä½ æ˜¯æ¸¸æˆå¼€å‘è€…ã€æ‰‹åŠæ¨¡å‹çˆ±å¥½è€…ï¼Œæˆ–è€…åªæ˜¯å¯¹3Dåˆ›ä½œå¥½å¥‡ï¼Œç°åœ¨å°±å¯ä»¥å»å®˜ç½‘è¯•è¯•ã€‚æ¯•ç«Ÿï¼Œåœ¨è¿™ä¸ªAIæ—¥æ–°æœˆå¼‚çš„æ—¶ä»£ï¼Œèƒ½æŠŠé¼ æ ‡é‡æ–°å˜æˆâ€œé›•åˆ»åˆ€â€çš„æ„Ÿè§‰ï¼ŒçœŸçš„å¾ˆæ£’ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fsfgghhjghj-1024x231.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/sfgghhjghj-1024x231.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bea212a414d645d8ac97873fa5cc600c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769436745&amp;x-signature=Xt3LOU%2FokgKrWlpjQRyvOu%2BOC9o%3D" alt="sfgghhjghj" loading="lazy"/></a></p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++ç¼–ç¨‹ä»æ–°æ‰‹åˆ°é«˜æ‰‹çš„æˆé•¿ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7596883689827352639</link>    <guid>https://juejin.cn/post/7596883689827352639</guid>    <pubDate>2026-01-19T14:57:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596883689827352639" data-draft-id="7596896373053882431" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++ç¼–ç¨‹ä»æ–°æ‰‹åˆ°é«˜æ‰‹çš„æˆé•¿ä¹‹è·¯"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-19T14:57:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++ç¼–ç¨‹ä»æ–°æ‰‹åˆ°é«˜æ‰‹çš„æˆé•¿ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:57:25.000Z" title="Mon Jan 19 2026 14:57:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æˆ‘çš„C++å­¦ä¹ ä¹‹æ—…</h2>
<p><strong>æˆ‘</strong>ï¼šæœ€è¿‘æƒ³å­¦C++ï¼Œä½†æ˜¯æ„Ÿè§‰å¥½éš¾å•Šï¼æŒ‡é’ˆã€å†…å­˜ç®¡ç†ã€æ¨¡æ¿... å¤´éƒ½å¤§äº†ï¼</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šåˆ«æ‹…å¿ƒï¼Œæ¯ä¸ªC++ç¨‹åºå‘˜éƒ½ç»å†è¿‡è¿™ä¸ªé˜¶æ®µã€‚è®©æˆ‘å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£C++çš„ç²¾é«“ã€‚æƒ³æƒ³çœ‹ï¼ŒC++å°±åƒä¸€è¾†è¶…çº§è·‘è½¦â€”â€”æ—¢èƒ½åƒèµ›è½¦ä¸€æ ·è¿½æ±‚æè‡´æ€§èƒ½ï¼Œåˆèƒ½æä¾›èˆ’é€‚çš„é©¾é©¶ä½“éªŒã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€ç« ï¼šä»Cåˆ°C++çš„æ€ç»´è½¬å˜</h2>
<p><strong>æˆ‘</strong>ï¼šæˆ‘å·²ç»ä¼šCè¯­è¨€äº†ï¼ŒC++å’ŒCæœ€å¤§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šå¾ˆå¥½çš„é—®é¢˜ï¼C++ä¸æ˜¯"C with classes"è¿™ä¹ˆç®€å•ã€‚è®©æˆ‘ä»¬ä»ä¸€ä¸ªå…·ä½“ä¾‹å­å¼€å§‹ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Cé£æ ¼ - ä½ éœ€è¦æ‰‹åŠ¨ç®¡ç†ä¸€åˆ‡</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process_data_c_style</span><span class="hljs-params">()</span> </span>{
    FILE* file = <span class="hljs-built_in">fopen</span>(<span class="hljs-string">"data.txt"</span>, <span class="hljs-string">"r"</span>);
    <span class="hljs-keyword">if</span> (!file) {
        <span class="hljs-comment">// é”™è¯¯å¤„ç†...</span>
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-type">char</span>* buffer = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">1024</span>);
    <span class="hljs-keyword">if</span> (!buffer) {
        <span class="hljs-built_in">fclose</span>(file);
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// ä½¿ç”¨buffer...</span>
    
    <span class="hljs-built_in">free</span>(buffer);
    <span class="hljs-built_in">fclose</span>(file);  <span class="hljs-comment">// å®¹æ˜“å¿˜è®°ï¼</span>
}

<span class="hljs-comment">// C++é£æ ¼ - è®©å¯¹è±¡å¸®ä½ ç®¡ç†èµ„æº</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process_data_cpp_style</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">std::ifstream <span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">"data.txt"</span>)</span></span>;
    <span class="hljs-keyword">if</span> (!file) {
        <span class="hljs-comment">// æ›´ä¼˜é›…çš„é”™è¯¯å¤„ç†</span>
        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">"æ— æ³•æ‰“å¼€æ–‡ä»¶"</span>);
    }
    
    std::string buffer;
    buffer.<span class="hljs-built_in">reserve</span>(<span class="hljs-number">1024</span>);
    
    <span class="hljs-comment">// ä½¿ç”¨buffer... å½“å‡½æ•°ç»“æŸæ—¶ï¼Œfileå’Œbufferè‡ªåŠ¨æ¸…ç†</span>
}
</code></pre>
<p><strong>æˆ‘</strong>ï¼šå“‡ï¼Œç¬¬äºŒä¸ªç‰ˆæœ¬ç¡®å®æ›´ç®€æ´ï¼è¿™å°±æ˜¯RAIIå—ï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šæ²¡é”™ï¼RAIIï¼ˆResource Acquisition Is Initializationï¼‰æ˜¯C++çš„æ ¸å¿ƒå“²å­¦ã€‚èµ„æºåœ¨å¯¹è±¡æ„é€ æ—¶è·å–ï¼Œåœ¨å¯¹è±¡ææ„æ—¶é‡Šæ”¾ã€‚è¿™é¿å…äº†èµ„æºæ³„æ¼ã€‚</p>
<h2 data-id="heading-2">ç¬¬äºŒç« ï¼šç°ä»£C++çš„è¯­æ³•ç³–</h2>
<p><strong>æˆ‘</strong>ï¼šæˆ‘å¬è¯´C++11ä¹‹åæœ‰å¾ˆå¤šæ–°ç‰¹æ€§ï¼ŒçœŸçš„æœ‰å¿…è¦å­¦å—ï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šç»å¯¹æœ‰å¿…è¦ï¼ç°ä»£C++è®©ç¼–ç¨‹æ›´å®‰å…¨ã€æ›´é«˜æ•ˆã€‚çœ‹è¿™ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¼ ç»ŸC++ï¼ˆC++98ï¼‰</span>
std::vector&lt;<span class="hljs-type">int</span>&gt;::iterator it;
<span class="hljs-keyword">for</span> (it = vec.<span class="hljs-built_in">begin</span>(); it != vec.<span class="hljs-built_in">end</span>(); ++it) {
    std::cout &lt;&lt; *it &lt;&lt; std::endl;
}

<span class="hljs-comment">// ç°ä»£C++ï¼ˆC++11èµ·ï¼‰</span>
<span class="hljs-comment">// 1. autoç±»å‹æ¨å¯¼</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = vec.<span class="hljs-built_in">begin</span>(); it != vec.<span class="hljs-built_in">end</span>(); ++it) {
    std::cout &lt;&lt; *it &lt;&lt; std::endl;
}

<span class="hljs-comment">// 2. èŒƒå›´forå¾ªç¯</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; value : vec) {
    std::cout &lt;&lt; value &lt;&lt; std::endl;
}

<span class="hljs-comment">// 3. é…åˆlambdaè¡¨è¾¾å¼</span>
std::for_each(vec.<span class="hljs-built_in">begin</span>(), vec.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">int</span> value) {
    std::cout &lt;&lt; value &lt;&lt; std::endl;
});
</code></pre>
<p><strong>æˆ‘</strong>ï¼šautoå…³é”®å­—çœ‹èµ·æ¥å¾ˆå®ç”¨ï¼Œä½†ä¼šä¸ä¼šè®©ä»£ç å¯è¯»æ€§å˜å·®ï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šå¥½é—®é¢˜ï¼åˆç†ä½¿ç”¨autoï¼š</p>
<ul>
<li>âœ… ç”¨åœ¨æ˜æ˜¾çš„åœ°æ–¹ï¼š<code>auto it = container.begin();</code></li>
<li>âœ… é…åˆæ¨¡æ¿ç¼–ç¨‹</li>
<li>âŒ ä¸è¦ç”¨åœ¨åŸºæœ¬ç±»å‹ä¸Šï¼š<code>auto x = 5;</code> ä¸å¦‚ <code>int x = 5;</code> æ¸…æ™°</li>
</ul>
<h2 data-id="heading-3">ç¬¬ä¸‰ç« ï¼šé¢å‘å¯¹è±¡ vs ç°ä»£èŒƒå¼</h2>
<p><strong>æˆ‘</strong>ï¼šæˆ‘è¯¥æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½å†™æˆç±»å—ï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šä¸ä¸€å®šï¼ç°ä»£C++é¼“åŠ±å¤šèŒƒå¼ç¼–ç¨‹ã€‚çœ‹çœ‹ä¸åŒåœºæ™¯ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åœºæ™¯1ï¼šéœ€è¦çŠ¶æ€ç®¡ç†çš„å¤æ‚å¯¹è±¡ - é€‚åˆOOP</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartSocket</span> {
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">int</span> socket_fd;
    <span class="hljs-type">bool</span> connected;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">SmartSocket</span>(<span class="hljs-type">const</span> std::string&amp; address) {
        <span class="hljs-comment">// å»ºç«‹è¿æ¥</span>
        connected = <span class="hljs-literal">true</span>;
    }
    
    ~<span class="hljs-built_in">SmartSocket</span>() {
        <span class="hljs-keyword">if</span> (connected) {
            <span class="hljs-comment">// è‡ªåŠ¨å…³é—­è¿æ¥</span>
        }
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">send</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; data)</span> </span>{
        <span class="hljs-comment">// å‘é€æ•°æ®</span>
    }
};

<span class="hljs-comment">// åœºæ™¯2ï¼šçº¯è®¡ç®—å‡½æ•° - é€‚åˆå‡½æ•°å¼é£æ ¼</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">auto</span> <span class="hljs-title">calculate_statistics</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;T&gt;&amp; data)</span> </span>{
    <span class="hljs-keyword">if</span> (data.<span class="hljs-built_in">empty</span>()) <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_tuple</span>(T{}, T{}, T{});
    
    <span class="hljs-keyword">auto</span> sum = std::<span class="hljs-built_in">accumulate</span>(data.<span class="hljs-built_in">begin</span>(), data.<span class="hljs-built_in">end</span>(), T{});
    <span class="hljs-keyword">auto</span> mean = sum / data.<span class="hljs-built_in">size</span>();
    
    <span class="hljs-comment">// ä½¿ç”¨lambdaå’Œç®—æ³•</span>
    <span class="hljs-keyword">auto</span> squared_diff = [mean](T acc, T x) {
        <span class="hljs-keyword">return</span> acc + (x - mean) * (x - mean);
    };
    
    <span class="hljs-keyword">auto</span> variance = std::<span class="hljs-built_in">accumulate</span>(data.<span class="hljs-built_in">begin</span>(), data.<span class="hljs-built_in">end</span>(), T{}, squared_diff) 
                    / data.<span class="hljs-built_in">size</span>();
    
    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_tuple</span>(mean, variance, std::<span class="hljs-built_in">sqrt</span>(variance));
}

<span class="hljs-comment">// åœºæ™¯3ï¼šé…ç½®é€‰é¡¹ - é€‚åˆç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AppConfig</span> {
    std::string host;
    <span class="hljs-type">int</span> port;
    <span class="hljs-type">bool</span> debug_mode;
};

<span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">load_config</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> AppConfig{<span class="hljs-string">"localhost"</span>, <span class="hljs-number">8080</span>, <span class="hljs-literal">true</span>};
}

<span class="hljs-comment">// ä½¿ç”¨ç»“æ„åŒ–ç»‘å®š</span>
<span class="hljs-keyword">auto</span> [host, port, debug] = <span class="hljs-built_in">load_config</span>();
</code></pre>
<h2 data-id="heading-4">ç¬¬å››ç« ï¼šå†…å­˜ç®¡ç†çš„è‰ºæœ¯</h2>
<p><strong>æˆ‘</strong>ï¼šæŒ‡é’ˆå’Œæ™ºèƒ½æŒ‡é’ˆï¼Œæˆ‘è¯¥ç”¨å“ªä¸ªï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šç®€å•è§„åˆ™ï¼šä¼˜å…ˆä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œåªåœ¨å¿…è¦æ—¶ç”¨åŸå§‹æŒ‡é’ˆã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// âŒ å±é™©çš„æ—§æ–¹å¼</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">risky_function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-type">int</span>* ptr = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">100</span>];
    <span class="hljs-comment">// ... å¦‚æœè¿™é‡ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå†…å­˜æ³„æ¼ï¼</span>
    <span class="hljs-keyword">delete</span>[] ptr;
}

<span class="hljs-comment">// âœ… ç°ä»£æ–¹å¼</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">safe_function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// 1. ç‹¬å æ‰€æœ‰æƒç”¨ unique_ptr</span>
    <span class="hljs-keyword">auto</span> unique_data = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>[]&gt;(<span class="hljs-number">100</span>);
    
    <span class="hljs-comment">// 2. å…±äº«æ‰€æœ‰æƒç”¨ shared_ptr</span>
    <span class="hljs-keyword">auto</span> shared_data = std::make_shared&lt;std::vector&lt;<span class="hljs-type">int</span>&gt;&gt;(<span class="hljs-number">100</span>);
    
    <span class="hljs-comment">// 3. è§‚å¯Ÿè€Œä¸æ‹¥æœ‰ç”¨ weak_ptr</span>
    std::weak_ptr&lt;std::vector&lt;<span class="hljs-type">int</span>&gt;&gt; observer = shared_data;
    
    <span class="hljs-comment">// 4. éœ€è¦åŸå§‹æŒ‡é’ˆæ—¶ï¼ˆå¦‚Cæ¥å£ï¼‰</span>
    <span class="hljs-built_in">some_c_api</span>(unique_data.<span class="hljs-built_in">get</span>());  <span class="hljs-comment">// get()è·å¾—åŸå§‹æŒ‡é’ˆä½†ä¸è½¬ç§»æ‰€æœ‰æƒ</span>
}

<span class="hljs-comment">// è‡ªå®šä¹‰èµ„æºçš„RAIIåŒ…è£…</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AutoReleaser</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AutoReleaser</span><span class="hljs-params">(T* ptr)</span> : ptr_(ptr) {</span>}
    ~<span class="hljs-built_in">AutoReleaser</span>() { 
        <span class="hljs-keyword">if</span> (ptr_) ptr_-&gt;<span class="hljs-built_in">Release</span>(); 
    }
    
    <span class="hljs-comment">// ç¦æ­¢æ‹·è´</span>
    <span class="hljs-built_in">AutoReleaser</span>(<span class="hljs-type">const</span> AutoReleaser&amp;) = <span class="hljs-keyword">delete</span>;
    AutoReleaser&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> AutoReleaser&amp;) = <span class="hljs-keyword">delete</span>;
    
    <span class="hljs-comment">// å…è®¸ç§»åŠ¨</span>
    <span class="hljs-built_in">AutoReleaser</span>(AutoReleaser&amp;&amp; other) <span class="hljs-keyword">noexcept</span> : <span class="hljs-built_in">ptr_</span>(other.ptr_) {
        other.ptr_ = <span class="hljs-literal">nullptr</span>;
    }
    
    <span class="hljs-function">T* <span class="hljs-title">get</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> ptr_; }
    T* <span class="hljs-keyword">operator</span>-&gt;() <span class="hljs-type">const</span> { <span class="hljs-keyword">return</span> ptr_; }
    
<span class="hljs-keyword">private</span>:
    T* ptr_;
};
</code></pre>
<h2 data-id="heading-5">ç¬¬äº”ç« ï¼šæ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹</h2>
<p><strong>æˆ‘</strong>ï¼šæ¨¡æ¿çœ‹èµ·æ¥åƒé»‘é­”æ³•ï¼</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šæ¨¡æ¿ç¡®å®å¼ºå¤§ï¼Œä½†ç†è§£åå¹¶ä¸ç¥ç§˜ã€‚å…³é”®æ˜¯ï¼šæ¨¡æ¿æ˜¯ç¼–è¯‘æœŸçš„å¤šæ€ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. åŸºç¡€æ¨¡æ¿</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
T <span class="hljs-title">max</span><span class="hljs-params">(T a, T b)</span> </span>{
    <span class="hljs-keyword">return</span> (a &gt; b) ? a : b;
}

<span class="hljs-comment">// 2. æ¨¡æ¿ç‰¹åŒ–</span>
<span class="hljs-keyword">template</span>&lt;&gt;
<span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-built_in">max</span>&lt;<span class="hljs-type">const</span> <span class="hljs-type">char</span>*&gt;(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* a, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* b) {
    <span class="hljs-keyword">return</span> (<span class="hljs-built_in">strcmp</span>(a, b) &gt; <span class="hljs-number">0</span>) ? a : b;
}

<span class="hljs-comment">// 3. å˜å‚æ¨¡æ¿ï¼ˆC++11ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span>... Args&gt;
<span class="hljs-type">void</span> <span class="hljs-title">log</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* format, Args... args)</span> </span>{
    <span class="hljs-built_in">printf</span>(format, args...);
}

<span class="hljs-comment">// 4. æ¦‚å¿µçº¦æŸï¼ˆC++20ï¼‰- è®©æ¨¡æ¿æ›´å®‰å…¨</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">concept</span> Addable = <span class="hljs-built_in">requires</span>(T a, T b) {
    { a + b } -&gt; std::same_as&lt;T&gt;;
};

<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;Addable T&gt;
T <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;T&gt;&amp; values)</span> </span>{
    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">accumulate</span>(values.<span class="hljs-built_in">begin</span>(), values.<span class="hljs-built_in">end</span>(), T{});
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">auto</span> result1 = <span class="hljs-built_in">sum</span>(std::vector&lt;<span class="hljs-type">int</span>&gt;{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>});      <span class="hljs-comment">// âœ… ç¼–è¯‘</span>
<span class="hljs-comment">// auto result2 = sum(std::vector&lt;std::string&gt;{"a", "b"}); // âŒ ç¼–è¯‘é”™è¯¯ï¼šstringä¸æ»¡è¶³Addable</span>
</code></pre>
<h2 data-id="heading-6">ç¬¬å…­ç« ï¼šå®æˆ˜ï¼šæ„å»ºä¸€ä¸ªå°é¡¹ç›®</h2>
<p><strong>æˆ‘</strong>ï¼šèƒ½ç»™æˆ‘ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­å—ï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼šå½“ç„¶ï¼è¿™æ˜¯ä¸€ä¸ªç®€å•çš„çº¿ç¨‹å®‰å…¨çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;mutex&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;condition_variable&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadSafeQueue</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(T value)</span> </span>{
        {
            <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
            queue_.<span class="hljs-built_in">push</span>(std::<span class="hljs-built_in">move</span>(value));
        }
        condition_.<span class="hljs-built_in">notify_one</span>();
    }
    
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">try_pop</span><span class="hljs-params">(T&amp; value)</span> </span>{
        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        <span class="hljs-keyword">if</span> (queue_.<span class="hljs-built_in">empty</span>()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        value = std::<span class="hljs-built_in">move</span>(queue_.<span class="hljs-built_in">front</span>());
        queue_.<span class="hljs-built_in">pop</span>();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-function">T <span class="hljs-title">wait_and_pop</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        condition_.<span class="hljs-built_in">wait</span>(lock, [<span class="hljs-keyword">this</span>] { <span class="hljs-keyword">return</span> !queue_.<span class="hljs-built_in">empty</span>(); });
        
        T value = std::<span class="hljs-built_in">move</span>(queue_.<span class="hljs-built_in">front</span>());
        queue_.<span class="hljs-built_in">pop</span>();
        <span class="hljs-keyword">return</span> value;
    }
    
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        <span class="hljs-keyword">return</span> queue_.<span class="hljs-built_in">empty</span>();
    }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-keyword">mutable</span> std::mutex mutex_;
    std::queue&lt;T&gt; queue_;
    std::condition_variable condition_;
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    ThreadSafeQueue&lt;std::string&gt; queue;
    
    <span class="hljs-comment">// ç”Ÿäº§è€…çº¿ç¨‹</span>
    <span class="hljs-function">std::thread <span class="hljs-title">producer</span><span class="hljs-params">([&amp;queue] {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i) {
            queue.push(<span class="hljs-string">"æ¶ˆæ¯ "</span> + std::to_string(i));
            std::this_thread::sleep_for(std::chrono::milliseconds(<span class="hljs-number">100</span>));
        }
    })</span></span>;
    
    <span class="hljs-comment">// æ¶ˆè´¹è€…çº¿ç¨‹</span>
    <span class="hljs-function">std::thread <span class="hljs-title">consumer</span><span class="hljs-params">([&amp;queue] {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i) {
            <span class="hljs-keyword">auto</span> msg = queue.wait_and_pop();
            std::cout &lt;&lt; <span class="hljs-string">"æ”¶åˆ°: "</span> &lt;&lt; msg &lt;&lt; std::endl;
        }
    })</span></span>;
    
    producer.<span class="hljs-built_in">join</span>();
    consumer.<span class="hljs-built_in">join</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h2 data-id="heading-7">ç»“è¯­ï¼šæˆä¸ºC++é«˜æ‰‹çš„å»ºè®®</h2>
<p><strong>æˆ‘</strong>ï¼šæœ€åæœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼š</p>
<ol>
<li><strong>ä»åŸºç¡€å¼€å§‹</strong>ï¼šç†è§£æŒ‡é’ˆã€å†…å­˜å¸ƒå±€ã€ç¼–è¯‘é“¾æ¥è¿‡ç¨‹</li>
<li><strong>æ‹¥æŠ±ç°ä»£C++</strong>ï¼šè‡³å°‘å­¦ä¹ C++11/14çš„ç‰¹æ€§</li>
<li><strong>å·¥å…·å¾ˆé‡è¦</strong>ï¼šå­¦ä¼šä½¿ç”¨è°ƒè¯•å™¨ã€Valgrindã€Clang-Tidyç­‰å·¥å…·</li>
<li><strong>é˜…è¯»ä¼˜ç§€ä»£ç </strong>ï¼šçœ‹çœ‹STLå®ç°ã€å¼€æºé¡¹ç›®</li>
<li><strong>å®è·µå‡ºçœŸçŸ¥</strong>ï¼šå¤šå†™ä»£ç ï¼Œå‚ä¸å¼€æºé¡¹ç›®</li>
</ol>
<p><strong>æˆ‘</strong>ï¼šæœ€å¸¸çŠ¯çš„é”™è¯¯æœ‰å“ªäº›ï¼Ÿ</p>
<p><strong>C++å¯¼å¸ˆ</strong>ï¼š</p>
<ol>
<li>å¿˜è®°<code>const</code>æ­£ç¡®æ€§</li>
<li>è¿‡åº¦è®¾è®¡ï¼Œè¿‡æ—©ä¼˜åŒ–</li>
<li>ä¸ç†è§£ç§»åŠ¨è¯­ä¹‰ï¼ˆC++11ï¼‰</li>
<li>å¼‚å¸¸å®‰å…¨è€ƒè™‘ä¸å‘¨</li>
<li>å¿½è§†ç¼–è¯‘æœŸè®¡ç®—çš„å¯èƒ½æ€§</li>
</ol>
<p>è®°ä½ï¼Œå­¦ä¹ C++æ˜¯ä¸€åœºé©¬æ‹‰æ¾ï¼Œä¸æ˜¯çŸ­è·‘ã€‚äº«å—è¿™ä¸ªè¿‡ç¨‹ï¼Œä½ ä¼šé€æ¸ä½“ä¼šåˆ°è¿™é—¨è¯­è¨€çš„å¼ºå¤§å’Œä¼˜é›…ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸Šï¼‰]]></title>    <link>https://juejin.cn/post/7596869784538824704</link>    <guid>https://juejin.cn/post/7596869784538824704</guid>    <pubDate>2026-01-19T14:59:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596869784538824704" data-draft-id="7594087108593254463" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸Šï¼‰"/> <meta itemprop="keywords" content="React Native,Android,æºç é˜…è¯»"/> <meta itemprop="datePublished" content="2026-01-19T14:59:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹ä¹‹è·¯ä»0åˆ°1"/> <meta itemprop="url" content="https://juejin.cn/user/4125023359744296"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸Šï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023359744296/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹ä¹‹è·¯ä»0åˆ°1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:59:16.000Z" title="Mon Jan 19 2026 14:59:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸Šï¼‰</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>Fabric æ˜¯ React Native æ–°æ¶æ„çš„ UI æ¸²æŸ“ç³»ç»Ÿï¼Œç°åœ¨æˆ‘ä»¬å°±æ¥æ·±å…¥åˆ†æå…¶æºç ã€‚</p>
<p>æœ¬æ–‡åŸºäº<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Freact-native%2Ftree%2Fv0.83.0" target="_blank" title="https://github.com/facebook/react-native/tree/v0.83.0" ref="nofollow noopener noreferrer">React Native</a>Â 0.83ç‰ˆæœ¬æºç è¿›è¡Œåˆ†æã€‚</p>
<h3 data-id="heading-2">åˆå§‹åŒ–</h3>
<p>åœ¨<a href="https://juejin.cn/post/7594627998839406634" target="_blank" title="https://juejin.cn/post/7594627998839406634">ã€ŠReact Nativeæ–°æ¶æ„ä¹‹Androidç«¯åˆå§‹åŒ–æºç åˆ†æã€‹</a>ä¸€æ–‡å·²ç»æè¿‡Fabricçš„åˆå§‹åŒ–éƒ¨åˆ†ï¼Œç°åœ¨å›é¡¾ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"> <span class="hljs-comment">// ReactInstance.kt   </span>


    <span class="hljs-keyword">val</span> eventBeatManager = EventBeatManager()
    fabricUIManager =
        FabricUIManager(context, ViewManagerRegistry(viewManagerResolver), eventBeatManager)

    <span class="hljs-comment">// åœ¨ Fabric åˆå§‹åŒ–ä¹‹å‰éœ€è¦å®Œæˆçš„å…¶ä»–åˆå§‹åŒ–æ“ä½œã€‚</span>
    DisplayMetricsHolder.initDisplayMetricsIfNotInitialized(context)

    <span class="hljs-keyword">val</span> binding = FabricUIManagerBinding()
    binding.register(
        getBufferedRuntimeExecutor(),
        getRuntimeScheduler(),
        fabricUIManager,
        eventBeatManager,
        componentFactory,
    )

    <span class="hljs-comment">// åˆå§‹åŒ– FabricUIManager</span>
    fabricUIManager.initialize()
</code></pre>
<p>è¿™é‡Œ<strong>EventBeatManager</strong>Â æ˜¯ ä¸€ä¸ªåŸºäºè§‚å¯Ÿè€…æ¨¡å¼çš„ FabricÂ æ¶æ„çš„Â "èŠ‚æ‹æ§åˆ¶å™¨"ï¼Œå®ƒåˆ©ç”¨ Android åŸç”Ÿçš„å¸§å›è°ƒæœºåˆ¶ï¼Œåè°ƒå¹¶é©±åŠ¨ C++ å±‚çš„äº‹ä»¶å‘ JS å±‚é«˜æ•ˆã€æœ‰åºåœ°æµåŠ¨ã€‚</p>
<p>ç°åœ¨é‡ç‚¹çœ‹ä¸€<code>FabricUIManager</code>çš„æ„é€ æ–¹æ³•åšäº†ä»€ä¹ˆ<code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/fabric/FabricUIManager.java</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java">  <span class="hljs-keyword">public</span> <span class="hljs-title function_">FabricUIManager</span><span class="hljs-params">(
      ReactApplicationContext reactContext,
      ViewManagerRegistry viewManagerRegistry,
      BatchEventDispatchedListener batchEventDispatchedListener)</span> {
    <span class="hljs-comment">// åˆå§‹åŒ–å¸§å›è°ƒ </span>
    mDispatchUIFrameCallback = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DispatchUIFrameCallback</span>(reactContext);
    mReactApplicationContext = reactContext;
    <span class="hljs-comment">// åˆå§‹åŒ–æŒ‚è½½ç®¡ç†å™¨ </span>
    mMountingManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MountingManager</span>(viewManagerRegistry, mMountItemExecutor);
    <span class="hljs-comment">// åˆå§‹åŒ–æŒ‚è½½æŒ‡ä»¤è°ƒåº¦å™¨ </span>
    mMountItemDispatcher =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">MountItemDispatcher</span>(mMountingManager, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MountItemDispatchListener</span>());
    <span class="hljs-comment">// åˆå§‹åŒ–äº‹ä»¶åˆ†å‘å™¨ </span>
    mEventDispatcher = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FabricEventDispatcher</span>(reactContext, <span class="hljs-keyword">new</span> <span class="hljs-title class_">FabricEventEmitter</span>(<span class="hljs-built_in">this</span>));
    <span class="hljs-comment">// æŒæœ‰æ‰¹å¤„ç†äº‹ä»¶ç›‘å¬å™¨</span>
    mBatchEventDispatchedListener = batchEventDispatchedListener;
    <span class="hljs-comment">// æ³¨å†Œç”Ÿå‘½å‘¨æœŸç›‘å¬</span>
    mReactApplicationContext.addLifecycleEventListener(<span class="hljs-built_in">this</span>);
    <span class="hljs-comment">// æ³¨å†Œç»„ä»¶å›è°ƒ </span>
    mViewManagerRegistry = viewManagerRegistry;
    mReactApplicationContext.registerComponentCallbacks(viewManagerRegistry);
  }
</code></pre>
<p>è¿™æ®µä»£ç ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªæ´¾ç”Ÿè‡ª<code>Â Choreographer.FrameCallback</code>çš„å›è°ƒï¼Œè¿™æ˜¯ Fabric æ¸²æŸ“çš„â€œå¿ƒè„â€ã€‚å®ƒä¼šæ³¨å†Œåˆ° Android çš„ Choreographerï¼Œåœ¨æ¯ä¸€å¸§å‚ç›´åŒæ­¥ï¼ˆVSyncï¼‰ä¿¡å·åˆ°æ¥æ—¶è¢«è°ƒç”¨ã€‚å®ƒè´Ÿè´£é©±åŠ¨Â MountItemDispatcherÂ æ¥æ‰§è¡ŒæŒ‚è½½æ“ä½œï¼ˆå³å®é™…çš„ View æ›´æ–°ï¼‰ã€‚</p>
<p>éšååˆ›å»ºäº†ä¸€ä¸ªæŒ‚è½½ç®¡ç†å™¨<code>MountingManager</code>ï¼Œå®ƒæ˜¯å®é™…æ“ä½œ Android View çš„ç®¡ç†è€…ï¼ˆæ‰§è¡ŒÂ createView,Â updatePropsÂ ç­‰ï¼‰ã€‚æ¥ç€åˆ›å»ºäº†æŒ‚è½½æŒ‡ä»¤è°ƒåº¦å™¨<code>MountItemDispatcher</code>ï¼Œå®ƒè´Ÿè´£ç®¡ç†æŒ‚è½½æŒ‡ä»¤ï¼ˆMountItemï¼‰çš„é˜Ÿåˆ—ï¼Œå†³å®šå®ƒä»¬æ˜¯åœ¨å½“å‰çº¿ç¨‹åŒæ­¥æ‰§è¡Œè¿˜æ˜¯æ¨å…¥é˜Ÿåˆ—ç­‰å¾…ä¸‹ä¸€å¸§æ‰§è¡Œã€‚å½“ä¸€æ‰¹æŒ‡ä»¤åˆ†å‘å®Œæˆåï¼Œå®ƒä¼šæ”¶åˆ°å›è°ƒã€‚è¿™ä¸»è¦ç”¨äºé€šçŸ¥ç›‘å¬å™¨ï¼Œå‘Šè¯‰å®ƒä»¬â€œUI å·²ç»æ›´æ–°äº†ï¼Œä½ ä»¬å¯ä»¥è¿›è¡Œä¸‹ä¸€å¸§åŠ¨ç”»è®¡ç®—äº†â€ã€‚</p>
<p>æ¥ä¸‹æ¥åˆåˆ›å»ºäº†äº‹ä»¶åˆ†å‘å™¨<code>FabricEventDispatcher</code>ï¼Œå®ƒè´Ÿè´£å°† Android åŸç”Ÿäº‹ä»¶ï¼ˆå¦‚ Touch, Scrollï¼‰å‘é€ç»™Â JavaScriptã€‚å®ƒçš„å‚æ•°<code>FabricEventEmitter</code>æ˜¯ä¸€ä¸ªå®ç°äº†Â <strong>RCTEventEmitter</strong>Â æ¥å£çš„ç±»ï¼Œå®ƒå†…éƒ¨æŒæœ‰ C++ å±‚çš„å¼•ç”¨ï¼ˆé€šè¿‡ JNIï¼‰ï¼Œæ˜¯ Java äº‹ä»¶é€šå¾€ C++ Fabric æ ¸å¿ƒçš„å…¥å£ã€‚</p>
<p>ä»¥ä¸Šè¿™å†™ç±»åŸºæœ¬ä¸Šæ„æˆäº†ä¸€å¥—UIç³»ç»Ÿçš„æ ¸å¿ƒå¤„ç†ã€‚å¦‚æœå¤§å®¶éœ€è¦æ›´æ·±å…¥åˆ†æReact Native UIç³»ç»Ÿï¼Œé‚£ä¹ˆè¿™äº›ç±»å°±æ˜¯ç ”ç©¶çš„é‡ç‚¹ã€‚åœ¨æ„é€ æ–¹æ³•çš„æœ€åï¼Œæ³¨å†Œäº†ç”Ÿå‘½å‘¨æœŸç›‘å¬ï¼Œè¿™æ˜¯ä¸ºäº†è®©Â <strong>FabricUIManager</strong>Â èƒ½å¤Ÿæ„ŸçŸ¥ Activity/Host çš„Â <code>onResume</code>,Â <code>onPause</code>,Â <code>onDestroy</code>ã€‚å°¤å…¶æ˜¯åœ¨Â onHostResumeÂ æ—¶æ¢å¤ UI æŒ‚è½½å¾ªç¯ï¼Œåœ¨Â onHostPauseÂ æ—¶æš‚åœï¼Œä»¥èŠ‚çœèµ„æºå¹¶é¿å…åœ¨åå°æ›´æ–° UIã€‚</p>
<p>æœ€åæ³¨å†Œç»„ä»¶å›è°ƒï¼Œä¸»è¦æ˜¯ç”¨äºå½“ç³»ç»Ÿå†…å­˜ä¸è¶³æ—¶ï¼ŒViewManagerRegistryÂ å¯ä»¥æ”¶åˆ°é€šçŸ¥å¹¶é‡Šæ”¾ç¼“å­˜ã€‚</p>
<p>ç°åœ¨ç»§ç»­åˆ†æåˆå§‹åŒ–æµç¨‹<code>FabricUIManagerBinding</code>çš„åˆ›å»ºï¼Œæºç <code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/fabric/FabricUIManagerBinding.kt</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@DoNotStrip</span>
<span class="hljs-meta">@SuppressLint(<span class="hljs-string">"MissingNativeLoadLibrary"</span>)</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FabricUIManagerBinding</span> : <span class="hljs-type">HybridClassBase</span>() {
  <span class="hljs-keyword">init</span> {
    initHybrid()
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">external</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initHybrid</span><span class="hljs-params">()</span></span>

  <span class="hljs-keyword">external</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setPixelDensity</span><span class="hljs-params">(pointScaleFactor: <span class="hljs-type">Float</span>)</span></span>

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">external</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">installFabricUIManager</span><span class="hljs-params">(
      runtimeExecutor: <span class="hljs-type">RuntimeExecutor</span>,
      runtimeScheduler: <span class="hljs-type">RuntimeScheduler</span>,
      uiManager: <span class="hljs-type">FabricUIManager</span>,
      eventBeatManager: <span class="hljs-type">EventBeatManager</span>,
      componentsRegistry: <span class="hljs-type">ComponentFactory</span>,
  )</span></span>


  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">register</span><span class="hljs-params">(
      runtimeExecutor: <span class="hljs-type">RuntimeExecutor</span>,
      runtimeScheduler: <span class="hljs-type">RuntimeScheduler</span>,
      fabricUIManager: <span class="hljs-type">FabricUIManager</span>,
      eventBeatManager: <span class="hljs-type">EventBeatManager</span>,
      componentFactory: <span class="hljs-type">ComponentFactory</span>,
  )</span></span> {
    fabricUIManager.setBinding(<span class="hljs-keyword">this</span>)
    installFabricUIManager(
        runtimeExecutor,
        runtimeScheduler,
        fabricUIManager,
        eventBeatManager,
        componentFactory,
    )
    setPixelDensity(getDisplayMetricDensity())
  }

  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
}
</code></pre>
<p>è¯¥å¯¹è±¡çš„æ„é€ ï¼Œä¸»è¦æ˜¯è°ƒç”¨<code>initHybrid</code>æ–¹æ³•ã€‚å…³äº<code>initHybrid</code>çš„æœºåˆ¶ï¼Œæˆ‘ä»¬åœ¨å‰é¢çš„æ–‡ç« å·²ç»åšäº†è¯¦ç»†åˆ†æï¼Œè¿™é‡Œå°±ä¸å†é‡å¤è§£é‡Šã€‚</p>
<p>è¿™é‡Œçš„<code>FabricUIManagerBinding</code>æ˜¯Â React Native Fabric æ¶æ„åœ¨ Android ç«¯çš„Â "æ ¸å¿ƒå¯åŠ¨å™¨"Â å’ŒÂ "è·¨è¯­è¨€èƒ¶æ°´å±‚"ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯åˆå§‹åŒ– Fabric çš„ C++ æ ¸å¿ƒç»„ä»¶ï¼Œå¹¶å»ºç«‹ Javaã€C++ å’Œ JavaScript ä¸‰è€…ä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ã€‚å½“è¯¥å¯¹è±¡è¢«åˆ›å»ºæ—¶ï¼Œç«‹å³è°ƒç”¨äº†å…¶<code>register</code>æ–¹æ³•ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä¸»è¦æ˜¯è°ƒç”¨äº†<code>installFabricUIManager</code>ï¼Œå®ƒå°† C++ å±‚çš„ Fabric APIÂ ç»‘å®šåˆ° JavaScript è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰ã€‚è¿™ä½¿å¾— JavaScript å¯ä»¥ç›´æ¥é€šè¿‡ JSI è°ƒç”¨Â C++ æ¥å£ï¼ˆå¦‚Â createNode,Â cloneNode,Â appendChildï¼‰ï¼Œå®ç°åŒæ­¥ä¸”é«˜æ•ˆçš„ UI æ“ä½œã€‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„æ“ä½œï¼Œå³<code>setPixelDensity</code>ï¼Œå°† Android è®¾å¤‡çš„å±å¹•åƒç´ å¯†åº¦ï¼ˆDensityï¼‰ä¼ é€’ç»™ React Native çš„ C++ æ ¸å¿ƒå±‚ï¼ˆFabric/Yogaï¼‰ï¼Œç”¨äºç»Ÿä¸€å¸ƒå±€å•ä½ã€‚</p>
<p>æœ€åï¼Œåˆ†æä¸€ä¸‹<code>FabricUIManager</code>çš„<code>initialize</code>åšäº†ä»€ä¹ˆäº‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-keyword">public</span> void initialize() {
    <span class="hljs-comment">// æ³¨å†Œäº‹ä»¶æ‰¹å¤„ç†ç›‘å¬</span>
    mEventDispatcher.addBatchEventDispatchedListener(mBatchEventDispatchedListener);

    <span class="hljs-comment">// å¯ç”¨ Fabric æ—¥å¿—ä¸æ€§èƒ½ç›‘æ§</span>
    <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags.enableFabricLogs()) {
      mDevToolsReactPerfLogger = new DevToolsReactPerfLogger();
      mDevToolsReactPerfLogger.addDevToolsReactPerfLoggerListener(FABRIC_PERF_LOGGER);

      ReactMarker.addFabricListener(mDevToolsReactPerfLogger);
    }

    <span class="hljs-comment">// å¯ç”¨æ–°æ—§æ¶æ„äº’æ“ä½œ</span>
    <span class="hljs-keyword">if</span> (ReactNativeNewArchitectureFeatureFlags.useFabricInterop()) {
      InteropEventEmitter interopEventEmitter = new InteropEventEmitter(mReactApplicationContext);
      mReactApplicationContext.internal_registerInteropModule(
          RCTEventEmitter.<span class="hljs-keyword">class</span>, interopEventEmitter);
    }
  }
</code></pre>
<p>è¿™é‡Œé¦–å…ˆæ˜¯å°†Â <code>mBatchEventDispatchedListener</code>ï¼ˆå³Â EventBeatManagerï¼‰æ³¨å†Œåˆ°äº‹ä»¶åˆ†å‘å™¨ä¸­ã€‚è¿™æ˜¯Â â€œå¿ƒè·³â€Â è¿æ¥çš„å…³é”®ä¸€æ­¥ã€‚å½“ Android åŸç”Ÿäº‹ä»¶ï¼ˆå¦‚ Touchï¼‰è¢«æˆæ‰¹åˆ†å‘æ—¶ï¼Œä¼šé€šçŸ¥Â EventBeatManagerï¼Œè¿›è€Œè§¦å‘ C++ å±‚çš„Â tick()ï¼Œé©±åŠ¨ Fabric æ¸²æŸ“ç®¡çº¿åˆ·æ–°ã€‚æ²¡æœ‰è¿™ä¸€æ­¥ï¼ŒJavaScript å¯èƒ½æ°¸è¿œæ”¶ä¸åˆ°äº‹ä»¶æ›´æ–°ã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯æ€§èƒ½ç›‘æ§ç›¸å…³çš„å¤„ç†ï¼Œå¼€å¯éœ€ä¾èµ–<code>enableFabricLogs</code>çš„å€¼ï¼Œè¿™æ˜¯æ’æŸ¥ Fabric æ€§èƒ½é—®é¢˜ï¼ˆå¦‚æ‰å¸§ã€ç™½å±ï¼‰å’Œè°ƒè¯•æ¸²æŸ“æµç¨‹çš„â€œå¼€å…³â€ã€‚</p>
<p>æœ€åæ˜¯å¯ç”¨æ–°æ—§æ¶æ„äº’æ“ä½œçš„å¤„ç†ï¼Œè¿™æ˜¯ React Native å¹³æ»‘è¿ç§»åˆ°æ–°æ¶æ„çš„é‡è¦å…¼å®¹å±‚ï¼Œç¡®ä¿è€ä»£ç åœ¨æ–°æ¶æ„ä¸‹ä¹Ÿèƒ½å·¥ä½œã€‚</p>
<h4 data-id="heading-3">C++å±‚</h4>
<p>ä»¥ä¸Š<code>FabricUIManagerBinding</code>æä¾›äº†å¾ˆå¤šNativeæ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨æ­¤é‡ç‚¹åˆ†æä¸€ä¸‹<code>installFabricUIManager</code>ã€‚æºç <code>react-native/packages/react-native/ReactAndroid/src/main/jni/react/fabric/FabricUIManagerBinding.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">FabricUIManagerBinding::installFabricUIManager</span><span class="hljs-params">(
    jni::alias_ref&lt;JRuntimeExecutor::javaobject&gt; runtimeExecutorHolder,
    jni::alias_ref&lt;JRuntimeScheduler::javaobject&gt; runtimeSchedulerHolder,
    jni::alias_ref&lt;JFabricUIManager::javaobject&gt; javaUIManager,
    EventBeatManager* eventBeatManager,
    ComponentFactory* componentsRegistry)</span> </span>{
  <span class="hljs-function">TraceSection <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-string">"FabricUIManagerBinding::installFabricUIManager"</span>)</span></span>;

  enableFabricLogs_ = ReactNativeFeatureFlags::<span class="hljs-built_in">enableFabricLogs</span>();

  <span class="hljs-keyword">if</span> (enableFabricLogs_) {
    <span class="hljs-built_in">LOG</span>(WARNING)
        &lt;&lt; <span class="hljs-string">"FabricUIManagerBinding::installFabricUIManager() was called (address: "</span>
        &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">")."</span>;
  }

  <span class="hljs-function">std::unique_lock <span class="hljs-title">lock</span><span class="hljs-params">(installMutex_)</span></span>;

  <span class="hljs-comment">// åˆ›å»º C++ MountingManager (</span>
  <span class="hljs-keyword">auto</span> globalJavaUiManager = <span class="hljs-built_in">make_global</span>(javaUIManager);
  mountingManager_ =
      std::<span class="hljs-built_in">make_shared</span>&lt;FabricMountingManager&gt;(globalJavaUiManager);

  std::shared_ptr&lt;<span class="hljs-type">const</span> ContextContainer&gt; contextContainer =
      std::<span class="hljs-built_in">make_shared</span>&lt;ContextContainer&gt;();

  <span class="hljs-keyword">auto</span> runtimeExecutor = runtimeExecutorHolder-&gt;<span class="hljs-built_in">cthis</span>()-&gt;<span class="hljs-built_in">get</span>();

  <span class="hljs-keyword">auto</span> runtimeScheduler = runtimeSchedulerHolder-&gt;<span class="hljs-built_in">cthis</span>()-&gt;<span class="hljs-built_in">get</span>().<span class="hljs-built_in">lock</span>();
  <span class="hljs-comment">// å¦‚æœå­˜åœ¨ RuntimeSchedulerï¼ˆé€šå¸¸éƒ½å­˜åœ¨ï¼‰ï¼Œåˆ™åŒ…è£… runtimeExecutorã€‚</span>
  <span class="hljs-comment">// è¿™æ„å‘³ç€æ‰€æœ‰é€šè¿‡æ­¤ executor æäº¤çš„ JS ä»»åŠ¡éƒ½ä¼šç»è¿‡ RuntimeScheduler è°ƒåº¦ï¼Œä»è€Œæ”¯æŒä¼˜å…ˆçº§å’Œä»»åŠ¡å–æ¶ˆã€‚</span>
  <span class="hljs-keyword">if</span> (runtimeScheduler) {
    runtimeExecutor =
        [runtimeScheduler](
            std::function&lt;<span class="hljs-built_in">void</span>(jsi::Runtime &amp; runtime)&gt;&amp;&amp; callback) {
          runtimeScheduler-&gt;<span class="hljs-built_in">scheduleWork</span>(std::<span class="hljs-built_in">move</span>(callback));
        };
    contextContainer-&gt;<span class="hljs-built_in">insert</span>(
        RuntimeSchedulerKey, std::<span class="hljs-built_in">weak_ptr</span>&lt;RuntimeScheduler&gt;(runtimeScheduler));
  }

  <span class="hljs-comment">// åˆ›å»º EventBeat å·¥å‚ </span>
  EventBeat::Factory eventBeatFactory =
      [eventBeatManager, &amp;runtimeScheduler, globalJavaUiManager](
          std::shared_ptr&lt;EventBeat::OwnerBox&gt; ownerBox)
      -&gt; std::unique_ptr&lt;EventBeat&gt; {
    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_unique</span>&lt;AndroidEventBeat&gt;(
        std::<span class="hljs-built_in">move</span>(ownerBox),
        eventBeatManager,
        *runtimeScheduler,
        globalJavaUiManager);
  };

  contextContainer-&gt;<span class="hljs-built_in">insert</span>(<span class="hljs-string">"FabricUIManager"</span>, globalJavaUiManager);

  <span class="hljs-comment">// ç»„è£… Scheduler å·¥å…·ç®±</span>
  <span class="hljs-keyword">auto</span> toolbox = SchedulerToolbox{};
  toolbox.contextContainer = contextContainer;
  toolbox.componentRegistryFactory = componentsRegistry-&gt;buildRegistryFunction;

  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> (T132338609) runtimeExecutor åº”è¯¥åœ¨ä¸» bundle eval ä¹‹åæ‰§è¡Œ lambda è¡¨è¾¾å¼ï¼Œ</span>
  <span class="hljs-comment">// è€Œ bindingsInstallExecutor åº”è¯¥åœ¨ä¹‹å‰æ‰§è¡Œã€‚</span>
  toolbox.bridgelessBindingsExecutor = std::<span class="hljs-literal">nullopt</span>;
  toolbox.runtimeExecutor = runtimeExecutor;

  toolbox.eventBeatFactory = eventBeatFactory;

  <span class="hljs-comment">// å¯åŠ¨ Fabric æ ¸å¿ƒ</span>
  animationDriver_ = std::<span class="hljs-built_in">make_shared</span>&lt;LayoutAnimationDriver&gt;(
      runtimeExecutor, contextContainer, <span class="hljs-keyword">this</span>);
  scheduler_ =
      std::<span class="hljs-built_in">make_shared</span>&lt;Scheduler&gt;(toolbox, animationDriver_.<span class="hljs-built_in">get</span>(), <span class="hljs-keyword">this</span>);
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªÂ "ç»„è£…è½¦é—´"ï¼š</p>
<ol>
<li>
<p>å®ƒæ¥æ”¶æ¥è‡ª Android (Java) çš„åŸææ–™ï¼ˆ<code>UIManager</code>, <code>EventBeatManager</code>ï¼‰ã€‚</p>
</li>
<li>
<p>å®ƒæ¥æ”¶æ¥è‡ª JSÂ Runtime çš„é©±åŠ¨å™¨ï¼ˆ<code>RuntimeExecutor</code>ï¼‰ã€‚</p>
</li>
<li>
<p>å®ƒå°†è¿™äº›é›¶ä»¶ç»„è£…æˆ C++ çš„æ ¸å¿ƒéƒ¨ä»¶ï¼ˆ<code>MountingManager</code>, <code>AndroidEventBeat</code>ï¼‰ã€‚</p>
</li>
<li>
<p>æœ€åï¼Œå®ƒå¯åŠ¨äº† Fabric çš„å¼•æ“ â€”â€”Â <code>Scheduler</code>ã€‚</p>
</li>
</ol>
<h4 data-id="heading-4">æ€»ç»“</h4>
<p>ä¸‹é¢æ˜¯å¯¹æ•´ä¸ªåˆå§‹åŒ–æµç¨‹çš„æ¦‚è¿°</p>
<pre><code class="hljs language-scss" lang="scss">ReactInstance åˆå§‹åŒ–
           â”‚
           â”‚
           â””â”€â–º Fabric åˆå§‹åŒ–
                    â”‚
                    â”œâ”€â–º ViewManagerResolver åˆ›å»º (æ”¶é›† ReactPackage ä¸­çš„ ViewManager)
                    â”‚
                    â”œâ”€â–º ViewManagerRegistry åˆ›å»º
                    â”‚
                    â”œâ”€â–º FabricUIManager åˆ›å»º
                    â”‚
                    â”œâ”€â–º FabricUIManagerBinding åˆ›å»º
                    â”‚
                    â””â”€â–º binding<span class="hljs-selector-class">.register</span>() â”€â”€â–º è§¦å‘ C++ å±‚åˆå§‹åŒ–
</code></pre>
<h3 data-id="heading-5">å¯åŠ¨æ¸²æŸ“</h3>
<p>å›é¡¾ä¸€ä¸‹Android çš„åˆå§‹åŒ–æµç¨‹ä¸€æ–‡ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ReactInstance.kt</span>


 <span class="hljs-comment">/**
   * æ¸²æŸ“ä¸€ä¸ª React Native surface.
   *
   * <span class="hljs-doctag">@param</span> surface è¦æ¸²æŸ“çš„ [com.facebook.react.interfaces.fabric.ReactSurface] å¯¹è±¡
   */</span>
  <span class="hljs-meta">@ThreadConfined(<span class="hljs-string">"ReactHost"</span>)</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startSurface</span><span class="hljs-params">(surface: <span class="hljs-type">ReactSurfaceImpl</span>)</span></span> {
    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
    <span class="hljs-keyword">val</span> view = surface.view

    <span class="hljs-keyword">if</span> (surface.isRunning) {
      <span class="hljs-comment">// Surface å·²ç»åœ¨è¿è¡Œï¼ˆé¢„æ¸²æŸ“è¿‡ï¼‰ï¼Œåªéœ€é™„åŠ  View</span>
      fabricUIManager.attachRootView(surface.surfaceHandler, view)
    } <span class="hljs-keyword">else</span> {
      fabricUIManager.startSurface(surface.surfaceHandler, surface.context, view)
    }
  }
</code></pre>
<p>ä¹‹å‰å¹¶æœªæ·±å…¥<code>fabricUIManager.startSurface</code>æ–¹æ³•çš„è°ƒç”¨ï¼Œç°åœ¨æ¥åˆ†æä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// FabricUIManager.java</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startSurface</span><span class="hljs-params">(
      <span class="hljs-keyword">final</span> SurfaceHandlerBinding surfaceHandler,
      <span class="hljs-keyword">final</span> Context context,
      <span class="hljs-keyword">final</span> <span class="hljs-meta">@Nullable</span> View rootView)</span> {
    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">rootTag</span> <span class="hljs-operator">=</span>
        rootView <span class="hljs-keyword">instanceof</span> ReactRoot
            ? ((ReactRoot) rootView).getRootViewTag()
            : ReactRootViewTagGenerator.getNextRootViewTag();

    <span class="hljs-type">ThemedReactContext</span> <span class="hljs-variable">reactContext</span> <span class="hljs-operator">=</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThemedReactContext</span>(
            mReactApplicationContext, context, surfaceHandler.getModuleName(), rootTag);
    mMountingManager.startSurface(rootTag, reactContext, rootView);
    Assertions.assertNotNull(mBinding, <span class="hljs-string">"Binding in FabricUIManager is null"</span>);
    mBinding.startSurfaceWithSurfaceHandler(rootTag, surfaceHandler, rootView != <span class="hljs-literal">null</span>);
  }
</code></pre>
<p>æ­¤æ–¹æ³•ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼Œé¦–å…ˆæ˜¯è°ƒç”¨<strong>MountingManager</strong>çš„<code>startSurface</code>å¯åŠ¨ Surfaceï¼Œæ¥ç€è°ƒç”¨äº†<strong>FabricUIManagerBinding</strong>çš„Nativeæ–¹æ³•<code>startSurfaceWithSurfaceHandler</code>åœ¨C++å±‚å¯åŠ¨ Surfaceã€‚å…ˆæŸ¥çœ‹<code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/fabric/mounting/MountingManager.kt</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-comment">/**
    * å¯åŠ¨ Surface ä½†ä¸é™„åŠ è§†å›¾ã€‚å¯¹è¯¥ Surface æ‰§è¡Œçš„æ‰€æœ‰è§†å›¾æ“ä½œéƒ½å°†è¢«æ’é˜Ÿï¼Œç›´åˆ°è§†å›¾è¢«é™„åŠ ä¸ºæ­¢ã€‚
    */</span>
  <span class="hljs-meta">@AnyThread</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startSurface</span><span class="hljs-params">(
      surfaceId: <span class="hljs-type">Int</span>,
      reactContext: <span class="hljs-type">ThemedReactContext</span>?,
      rootView: <span class="hljs-type">View</span>?,
  )</span></span>: SurfaceMountingManager {
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ SurfaceMountingManager å®ä¾‹ï¼Œè´Ÿè´£ç®¡ç†ç‰¹å®š Surface çš„è§†å›¾æŒ‚è½½æ“ä½œ</span>
    <span class="hljs-keyword">val</span> surfaceMountingManager =
        SurfaceMountingManager(
            surfaceId,
            jsResponderHandler,  <span class="hljs-comment">// JS å“åº”å¤„ç†å™¨ï¼ˆå¤„ç†è§¦æ‘¸äº‹ä»¶å“åº”ï¼‰</span>
            viewManagerRegistry,
            rootViewManager,
            mountItemExecutor,   <span class="hljs-comment">// æŒ‚è½½é¡¹æ‰§è¡Œå™¨</span>
            checkNotNull(reactContext),
        )

    <span class="hljs-comment">// ç†è®ºä¸Šè¿™é‡Œå¯èƒ½å­˜åœ¨ç«æ€æ¡ä»¶ï¼Œå¦‚æœ addRootView ä»ä¸åŒçº¿ç¨‹è¢«è°ƒç”¨ä¸¤æ¬¡ï¼Œ</span>
    <span class="hljs-comment">// è™½ç„¶è¿™ç§æƒ…å†µï¼ˆå¯èƒ½ï¼‰æä¸å¯èƒ½å‘ç”Ÿï¼Œè€Œä¸”å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚</span>
    <span class="hljs-comment">// è¿™ä¸ªé˜²æ­¢ç«æ€æ¡ä»¶çš„é€»è¾‘æ˜¯ä»æ—§ä»£ç ç»§æ‰¿è€Œæ¥çš„ï¼Œæˆ‘ä»¬ä¸çŸ¥é“åœ¨å®é™…ä¸­æ˜¯å¦çœŸçš„ä¼šå‘ç”Ÿ</span>
    <span class="hljs-comment">// æ‰€ä»¥ï¼Œæˆ‘ä»¬ç°åœ¨è®°å½•è½¯å¼‚å¸¸ã€‚è¿™åœ¨è°ƒè¯•æ¨¡å¼ä¸‹ä¼šå´©æºƒï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸ä¼šã€‚</span>
    surfaceIdToManager.putIfAbsent(surfaceId, surfaceMountingManager)
    <span class="hljs-keyword">if</span> (surfaceIdToManager[surfaceId] !== surfaceMountingManager) {
      logSoftException(
          TAG,
          IllegalStateException(
              <span class="hljs-string">"Called startSurface more than once for the SurfaceId [<span class="hljs-variable">$surfaceId</span>]"</span>
          ),
      )
    }

    mostRecentSurfaceMountingManager = surfaceIdToManager[surfaceId]

    <span class="hljs-keyword">if</span> (rootView != <span class="hljs-literal">null</span>) {
      surfaceMountingManager.attachRootView(rootView, reactContext)
    }

    <span class="hljs-keyword">return</span> surfaceMountingManager
  }
</code></pre>
<p>æ­¤æ–¹æ³•ä¸»è¦å†…å®¹æ˜¯åˆ›å»º<strong>SurfaceMountingManager</strong>ï¼Œç„¶åè°ƒç”¨<code>attachRootView</code>æ–¹æ³•ã€‚ç°åœ¨ç»§ç»­è·Ÿè¸ª<code>attachRootView</code>æ–¹æ³•ï¼Œæºç <code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/fabric/mounting/SurfaceMountingManager.java</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java">  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attachRootView</span><span class="hljs-params">(View rootView, ThemedReactContext themedReactContext)</span> {
    mThemedReactContext = themedReactContext;
    addRootView(rootView);
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addRootView</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> <span class="hljs-keyword">final</span> View rootView)</span> {
    <span class="hljs-keyword">if</span> (isStopped()) {
      <span class="hljs-keyword">return</span>;  <span class="hljs-comment">// æ£€æŸ¥ Surface æ˜¯å¦å·²åœæ­¢</span>
    }

    mTagToViewState.put(mSurfaceId, <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewState</span>(mSurfaceId, rootView, mRootViewManager, <span class="hljs-literal">true</span>));

    <span class="hljs-comment">// åœ¨ UI çº¿ç¨‹ä¸Šæ‰§è¡Œæ ¹è§†å›¾è®¾ç½®</span>
    <span class="hljs-type">Runnable</span> <span class="hljs-variable">runnable</span> <span class="hljs-operator">=</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">GuardedRunnable</span>(Assertions.assertNotNull(mThemedReactContext)) {
          <span class="hljs-meta">@Override</span>
          <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">runGuarded</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// è‡ªä»è°ƒç”¨`addRootView`ä»¥æ¥ï¼ŒCPU ä¸€ç›´åœ¨è¿è¡Œï¼Œå› æ­¤ä»ç†è®ºä¸Šè®²ï¼Œç•Œé¢å¯èƒ½å·²ç»åœ¨æ­¤å¤„åœæ­¢æ¸²æŸ“äº†ã€‚</span>
            <span class="hljs-keyword">if</span> (isStopped()) {
              <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-comment">// çœç•¥éƒ¨åˆ†æ—¥å¿—æ‰“å°......</span>

            <span class="hljs-comment">// è®¾ç½®æ ¹è§†å›¾ ID </span>
            rootView.setId(mSurfaceId);

            <span class="hljs-keyword">if</span> (rootView <span class="hljs-keyword">instanceof</span> ReactRoot) {
              ((ReactRoot) rootView).setRootViewTag(mSurfaceId);
            }

            executeMountItemsOnViewAttach();

            <span class="hljs-comment">// é€šè¿‡åœ¨è°ƒç”¨ `executeMountItemsOnViewAttach` ä¹‹åæ‰§è¡Œæ­¤æ“ä½œï¼Œ</span>
            <span class="hljs-comment">// æˆ‘ä»¬å¯ä»¥ç¡®ä¿åœ¨å¤„ç†æ­¤é˜Ÿåˆ—æ—¶å®‰æ’çš„ä»»ä½•æ“ä½œä¹Ÿä¼šè¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œ</span>
            <span class="hljs-comment">// è€Œä¸æ˜¯é€šè¿‡ `MountItemDispatcher` ä¸­çš„é˜Ÿåˆ—ç«‹å³è¿›è¡Œå¤„ç†ã€‚</span>
            mRootViewAttached = <span class="hljs-literal">true</span>;
          }
        };

    <span class="hljs-comment">// ç¡®ä¿åœ¨ UI çº¿ç¨‹æ‰§è¡Œ</span>
    <span class="hljs-keyword">if</span> (UiThreadUtil.isOnUiThread()) {
      runnable.run();
    } <span class="hljs-keyword">else</span> {
      UiThreadUtil.runOnUiThread(runnable);
    }
  }
</code></pre>
<p>è¿™é‡Œçš„å®ç°æ ¸å¿ƒæ˜¯å°è£…äº†ä¸€ä¸ª<strong>Runnable</strong>ï¼Œå³ä¸€ä¸ªä»»åŠ¡ï¼Œä¸”è¿™ä¸ªä»»åŠ¡å¿…é¡»åœ¨å®‰å“çš„UIçº¿ç¨‹æ‰§è¡Œã€‚ç»§ç»­è·Ÿè¸ª<code>executeMountItemsOnViewAttach</code>æ–¹æ³•ï¼ŒæŸ¥çœ‹ä»»åŠ¡çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-java" lang="java">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Queue&lt;MountItem&gt; mOnViewAttachMountItems = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();


  <span class="hljs-meta">@UiThread</span>
  <span class="hljs-meta">@ThreadConfined(UI)</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeMountItemsOnViewAttach</span><span class="hljs-params">()</span> {
    mMountItemExecutor.executeItems(mOnViewAttachMountItems);
  }
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥æ–¹æ³•å°±æ˜¯åœ¨è°ƒç”¨æŒ‚è½½é¡¹æ‰§è¡Œå™¨ä¸æ–­çš„æ‰§è¡ŒæŒ‚è½½é¡¹é˜Ÿåˆ—ã€‚è¿™é‡Œçš„æŒ‚è½½é¡¹æ‰§è¡Œå™¨æ˜¯åœ¨åˆ›å»º<strong>MountingManager</strong>æ—¶ä¼ å…¥çš„ï¼Œå›åˆ°<code>FabricUIManager</code>æºç æŸ¥çœ‹å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MountingManager.<span class="hljs-type">MountItemExecutor</span> <span class="hljs-variable">mMountItemExecutor</span> <span class="hljs-operator">=</span>
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">MountingManager</span>.MountItemExecutor() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeItems</span><span class="hljs-params">(Queue&lt;MountItem&gt; items)</span> {
          <span class="hljs-comment">// ä»æŠ€æœ¯ä¸Šè®²ï¼Œåœ¨è°ƒåº¦ç¨‹åºåˆ›å»ºä¹‹å‰å°±å¯ä»¥è®¿é—®è¿™ä¸ªæ‰§è¡Œå™¨ï¼Œä½†å¦‚æœçœŸçš„å‘ç”Ÿè¿™ç§æƒ…å†µï¼Œé‚£å°±è¯´æ˜å‡ºäº†éå¸¸ä¸¥é‡çš„é—®é¢˜ã€‚</span>
          mMountItemDispatcher.dispatchMountItems(items);
        }
      };
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/fabric/mounting/MountItemDispatcher.kt</code>ä¸­çš„å®ç°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-meta">@UiThread</span>
  <span class="hljs-meta">@ThreadConfined(UI)</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dispatchMountItems</span><span class="hljs-params">(mountItems: <span class="hljs-type">Queue</span>&lt;<span class="hljs-type">MountItem</span>?&gt;)</span></span> {
    <span class="hljs-keyword">while</span> (!mountItems.isEmpty()) {
      <span class="hljs-keyword">val</span> item = requireNotNull(mountItems.poll()) { <span class="hljs-string">"MountItem should not be null"</span> }
      <span class="hljs-keyword">try</span> {
        item.execute(mountingManager)
      } <span class="hljs-keyword">catch</span> (e: RetryableMountingLayerException) {
        <span class="hljs-comment">// çœç•¥å·²å¼ƒç”¨çš„é€»è¾‘......</span>
      }
    }
  }
</code></pre>
<p>æ­¤å¤„æ ¸å¿ƒé€»è¾‘æ˜¯ä»é˜Ÿåˆ—å–å‡ºä¸€ä¸ª <strong>MountItem</strong>å¹¶æ‰§è¡Œå®ƒçš„<code>execute</code>æ–¹æ³•ã€‚è‡³äº<strong>MountItem</strong>æ¥å£ï¼Œå®ƒæœ‰è®¸å¤šå®ç°ç±»ï¼Œå…¶ä¸­æœ€æ ¸å¿ƒçš„æ˜¯<code>IntBufferBatchMountItem</code>å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´æµè§ˆä¸€ä¸‹å®ƒçš„<code>execute</code>æ–¹æ³•ä¸»è¦åšäº›ä»€ä¹ˆã€‚æºç <code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/fabric/mounting/mountitems/IntBufferBatchMountItem.kt</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">(mountingManager: <span class="hljs-type">MountingManager</span>)</span></span> {
    <span class="hljs-keyword">val</span> surfaceMountingManager = mountingManager.getSurfaceManager(surfaceId)
    <span class="hljs-keyword">if</span> (surfaceMountingManager == <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">if</span> (surfaceMountingManager.isStopped) {
      <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags.enableFabricLogs()) {
      FLog.d(TAG, <span class="hljs-string">"Executing IntBufferBatchMountItem on surface [%d]"</span>, surfaceId)
    }

    beginMarkers(<span class="hljs-string">"mountViews"</span>)
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>
    <span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> (i &lt; intBufferLen) {
      <span class="hljs-keyword">val</span> rawType = intBuffer[i++]
      <span class="hljs-keyword">val</span> type = rawType and INSTRUCTION_FLAG_MULTIPLE.inv()
      <span class="hljs-keyword">val</span> numInstructions =
          (<span class="hljs-keyword">if</span> ((rawType and INSTRUCTION_FLAG_MULTIPLE) != <span class="hljs-number">0</span>) intBuffer[i++] <span class="hljs-keyword">else</span> <span class="hljs-number">1</span>)

      <span class="hljs-keyword">val</span> args = arrayOf(<span class="hljs-string">"numInstructions"</span>, numInstructions.toString())

      <span class="hljs-keyword">for</span> (k <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> until numInstructions) {
        <span class="hljs-keyword">when</span> (type) {
          INSTRUCTION_CREATE -&gt; {    
            <span class="hljs-keyword">val</span> componentName = (objBuffer[j++] <span class="hljs-keyword">as</span> String?).orEmpty()
            <span class="hljs-keyword">val</span> fabricComponentName =
                FabricNameComponentMapping.getFabricComponentName(componentName)
            <span class="hljs-comment">// åˆ›å»ºè§†å›¾</span>
            surfaceMountingManager.createView(
                fabricComponentName,
                intBuffer[i++],
                objBuffer[j++] <span class="hljs-keyword">as</span> ReadableMap?,
                objBuffer[j++] <span class="hljs-keyword">as</span> StateWrapper?,
                objBuffer[j++] <span class="hljs-keyword">as</span> EventEmitterWrapper?,
                intBuffer[i++] == <span class="hljs-number">1</span>,
            )
          }
          <span class="hljs-comment">// åˆ é™¤è§†å›¾</span>
          INSTRUCTION_DELETE -&gt; surfaceMountingManager.deleteView(intBuffer[i++]) 
          INSTRUCTION_INSERT -&gt; {
            <span class="hljs-keyword">val</span> tag = intBuffer[i++]
            <span class="hljs-keyword">val</span> parentTag = intBuffer[i++]
            <span class="hljs-comment">// æ’å…¥è§†å›¾åˆ°çˆ¶è§†å›¾</span>
            surfaceMountingManager.addViewAt(parentTag, tag, intBuffer[i++])
          }
          <span class="hljs-comment">// ä»çˆ¶è§†å›¾ç§»é™¤</span>
          INSTRUCTION_REMOVE -&gt;
              surfaceMountingManager.removeViewAt(intBuffer[i++], intBuffer[i++], intBuffer[i++])
           <span class="hljs-comment">// æ›´æ–°å±æ€§</span>
          INSTRUCTION_UPDATE_PROPS -&gt;
              surfaceMountingManager.updateProps(intBuffer[i++], objBuffer[j++] <span class="hljs-keyword">as</span> ReadableMap?)
          <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
          INSTRUCTION_UPDATE_STATE -&gt;
              surfaceMountingManager.updateState(intBuffer[i++], objBuffer[j++] <span class="hljs-keyword">as</span> StateWrapper?)

          <span class="hljs-comment">// æ›´æ–°å¸ƒå±€</span>
          INSTRUCTION_UPDATE_LAYOUT -&gt; {
            <span class="hljs-keyword">val</span> reactTag = intBuffer[i++]
            <span class="hljs-keyword">val</span> parentTag = intBuffer[i++]
            <span class="hljs-keyword">val</span> x = intBuffer[i++]
            <span class="hljs-keyword">val</span> y = intBuffer[i++]
            <span class="hljs-keyword">val</span> width = intBuffer[i++]
            <span class="hljs-keyword">val</span> height = intBuffer[i++]
            <span class="hljs-keyword">val</span> displayType = intBuffer[i++]
            <span class="hljs-keyword">val</span> layoutDirection = intBuffer[i++]
            surfaceMountingManager.updateLayout(
                reactTag,
                parentTag,
                x,
                y,
                width,
                height,
                displayType,
                layoutDirection,
            )
          }
          <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
          <span class="hljs-keyword">else</span> -&gt; {
            <span class="hljs-keyword">throw</span> IllegalArgumentException(
                <span class="hljs-string">"Invalid type argument to IntBufferBatchMountItem: <span class="hljs-variable">$type</span> at index: <span class="hljs-variable">$i</span>"</span>
            )
          }
        }
      }
    }
    endMarkers()
  }
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>IntBufferBatchMountItem</code>åŒ…å«æ‰¹é‡è§†å›¾æ“ä½œæŒ‡ä»¤ï¼Œå®ƒä½¿ç”¨ int æ•°ç»„å’Œ objectÂ æ•°ç»„ä¼˜åŒ–æ€§èƒ½ï¼Œå‡å°‘Â JNI è°ƒç”¨ï¼Œå¹¶ä¸”æ”¯æŒå¤šç§è§†å›¾æ“ä½œï¼šåˆ›å»ºã€åˆ é™¤ã€æ’å…¥ã€ç§»é™¤ã€æ›´æ–°å±æ€§/çŠ¶æ€/å¸ƒå±€ç­‰ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è·Ÿè¸ªä¸€ä¸‹<code>surfaceMountingManager.createView</code>çš„å®ç°ï¼Œæºç <code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/fabric/mounting/SurfaceMountingManager.java</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"> <span class="hljs-meta">@UiThread</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createView</span><span class="hljs-params">(
      <span class="hljs-meta">@NonNull</span> String componentName,
      <span class="hljs-type">int</span> reactTag,
      <span class="hljs-meta">@Nullable</span> ReadableMap props,
      <span class="hljs-meta">@Nullable</span> StateWrapper stateWrapper,
      <span class="hljs-meta">@Nullable</span> EventEmitterWrapper eventEmitterWrapper,
      <span class="hljs-type">boolean</span> isLayoutable)</span> {
    <span class="hljs-keyword">if</span> (isStopped()) {
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-type">ViewState</span> <span class="hljs-variable">viewState</span> <span class="hljs-operator">=</span> getNullableViewState(reactTag);
    <span class="hljs-keyword">if</span> (viewState != <span class="hljs-literal">null</span> &amp;&amp; viewState.mView != <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">return</span>;
    }

    createViewUnsafe(
        componentName, reactTag, props, stateWrapper, eventEmitterWrapper, isLayoutable);
  }

  <span class="hljs-comment">/**
   * æ‰§è¡Œè§†å›¾åˆ›å»ºæ“ä½œï¼Œä½†ä¸è¿›è¡Œä»»ä½•å®‰å…¨æ£€æŸ¥ã€‚æ‚¨å¿…é¡»åœ¨è°ƒç”¨æ­¤æ–¹æ³•ä¹‹å‰ç¡®ä¿å®‰å…¨æ€§ï¼ˆå‚è§ç°æœ‰è°ƒç”¨ä½ç½®ï¼‰
   */</span>
  <span class="hljs-meta">@UiThread</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createViewUnsafe</span><span class="hljs-params">(
      <span class="hljs-meta">@NonNull</span> String componentName,
      <span class="hljs-type">int</span> reactTag,
      <span class="hljs-meta">@Nullable</span> ReadableMap props,
      <span class="hljs-meta">@Nullable</span> StateWrapper stateWrapper,
      <span class="hljs-meta">@Nullable</span> EventEmitterWrapper eventEmitterWrapper,
      <span class="hljs-type">boolean</span> isLayoutable)</span> {
    Systrace.beginSection(
        Systrace.TRACE_TAG_REACT,
        <span class="hljs-string">"SurfaceMountingManager::createViewUnsafe("</span> + componentName + <span class="hljs-string">")"</span>);
    <span class="hljs-keyword">try</span> {
      <span class="hljs-type">ReactStylesDiffMap</span> <span class="hljs-variable">propMap</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactStylesDiffMap</span>(props);

      <span class="hljs-type">ViewState</span> <span class="hljs-variable">viewState</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewState</span>(reactTag);
      viewState.mCurrentProps = propMap;
      viewState.mStateWrapper = stateWrapper;
      viewState.mEventEmitter = eventEmitterWrapper;
      mTagToViewState.put(reactTag, viewState);

      <span class="hljs-keyword">if</span> (isLayoutable) {
        <span class="hljs-type">ViewManager</span> <span class="hljs-variable">viewManager</span> <span class="hljs-operator">=</span> mViewManagerRegistry.get(componentName);
        <span class="hljs-comment">// View Managers are responsible for dealing with inital state and props.</span>
        viewState.mView =
            viewManager.createView(
                reactTag, mThemedReactContext, propMap, stateWrapper, mJSResponderHandler);
        viewState.mViewManager = viewManager;
      }
    } <span class="hljs-keyword">finally</span> {
      Systrace.endSection(Systrace.TRACE_TAG_REACT);
    }
  }
</code></pre>
<p>è¿™é‡Œæ˜¯æ ¹æ®ç»„ä»¶åé€šè¿‡<code>mViewManagerRegistry</code>æ¥æŸ¥æ‰¾<code>ViewManager</code>ã€‚å…·ä½“æ³¨å†Œé€»è¾‘ï¼Œæˆ‘ä»¬åœ¨åé¢çš„<strong>æ³¨å†Œç»„ä»¶</strong>ä¸€èŠ‚åˆ†æã€‚</p>
<p>ç»§ç»­è·Ÿè¸ªä¸€ä¸‹<code>viewManager.createView</code>æ–¹æ³•çš„å®ç°ï¼Œæºç <code>react-native/packages/react-native/ReactAndroid/src/main/java/com/facebook/react/uimanager/ViewManager.java</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java">  <span class="hljs-comment">/** åˆ›å»ºä¸€ä¸ªäº†è§£ props å’Œ state çš„è§†å›¾ã€‚ */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-meta">@NonNull</span> T <span class="hljs-title function_">createView</span><span class="hljs-params">(
      <span class="hljs-type">int</span> reactTag,
      <span class="hljs-meta">@NonNull</span> ThemedReactContext reactContext,
      <span class="hljs-meta">@Nullable</span> ReactStylesDiffMap props,
      <span class="hljs-meta">@Nullable</span> StateWrapper stateWrapper,
      JSResponderHandler jsResponderHandler)</span> {
    <span class="hljs-type">T</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> createViewInstance(reactTag, reactContext, props, stateWrapper);
    <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> ReactInterceptingViewGroup) {
      ((ReactInterceptingViewGroup) view).setOnInterceptTouchEventListener(jsResponderHandler);
    }
    <span class="hljs-keyword">return</span> view;
  }

  <span class="hljs-comment">/**
   * å­ç±»åº”è¯¥è¿”å›ä¸€ä¸ªé€‚å½“ç±»å‹çš„æ–° View å®ä¾‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¯é€‰æ–¹æ³•ï¼Œå®ƒä¼šä¸ºæ‚¨è°ƒç”¨ createViewInstanceã€‚
   * å¦‚æœæ‚¨éœ€è¦åœ¨åˆ›å»ºè§†å›¾æ—¶ä½¿ç”¨ props æˆ– stateï¼Œè¯·é‡å†™å®ƒã€‚
   *
   * å¦‚æœæ‚¨é‡å†™æ­¤æ–¹æ³•ï¼Œæ‚¨*å¿…é¡»*ç¡®ä¿æ­£ç¡®å¤„ç† updatePropertiesã€view.setIdã€
   * addEventEmitters å’Œ updateState/updateExtraDataï¼
   *
   * <span class="hljs-doctag">@param</span> reactTag åº”è¯¥è®¾ç½®ä¸ºè§†å›¾å®ä¾‹ ID çš„ reactTag
   * <span class="hljs-doctag">@param</span> reactContext ç”¨äºåˆå§‹åŒ–è§†å›¾å®ä¾‹çš„ ReactContext
   * <span class="hljs-doctag">@param</span> initialProps è§†å›¾å®ä¾‹çš„åˆå§‹ props
   * <span class="hljs-doctag">@param</span> stateWrapper è§†å›¾å®ä¾‹çš„åˆå§‹ state
   */</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-meta">@NonNull</span> T <span class="hljs-title function_">createViewInstance</span><span class="hljs-params">(
      <span class="hljs-type">int</span> reactTag,
      <span class="hljs-meta">@NonNull</span> ThemedReactContext reactContext,
      <span class="hljs-meta">@Nullable</span> ReactStylesDiffMap initialProps,
      <span class="hljs-meta">@Nullable</span> StateWrapper stateWrapper)</span> {
    <span class="hljs-type">T</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-meta">@Nullable</span> Stack&lt;T&gt; recyclableViews = getRecyclableViewStack(reactContext.getSurfaceId(), <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">if</span> (recyclableViews != <span class="hljs-literal">null</span> &amp;&amp; !recyclableViews.empty()) {
      <span class="hljs-type">T</span> <span class="hljs-variable">recyclableView</span> <span class="hljs-operator">=</span> recyclableViews.pop();

      <span class="hljs-comment">// å½“è§†å›¾å›æ”¶æœªå¯¹æ‰€æœ‰ç»„ä»¶å¯ç”¨æ—¶ï¼Œå¯å›æ”¶è§†å›¾ä»å¯èƒ½é™„åŠ åˆ°ä¸å¯å›æ”¶è§†å›¾ã€‚</span>
      <span class="hljs-comment">// è¿™ä¿è¯äº†å›æ”¶è§†å›¾å·²ä»å…¶çˆ¶è§†å›¾ä¸­ç§»é™¤ã€‚</span>
      <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags.enableViewRecycling() &amp;&amp; recyclableView.getParent() != <span class="hljs-literal">null</span>) {
        ((ViewGroup) recyclableView.getParent()).removeView(recyclableView);
      }

      view = recycleView(reactContext, recyclableView);
    } <span class="hljs-keyword">else</span> {
      view = createViewInstance(reactContext);
    }
    view.setId(reactTag);
    addEventEmitters(reactContext, view);
    <span class="hljs-keyword">if</span> (initialProps != <span class="hljs-literal">null</span>) {
      updateProperties(view, initialProps);
    }
    <span class="hljs-comment">// ä»…åœ¨ Fabric æ¶æ„ä¸­å­˜åœ¨ï¼›ä½†åœ¨ Fabric ä¸­å§‹ç»ˆå­˜åœ¨ã€‚</span>
    <span class="hljs-keyword">if</span> (stateWrapper != <span class="hljs-literal">null</span>) {
      <span class="hljs-type">Object</span> <span class="hljs-variable">extraData</span> <span class="hljs-operator">=</span> updateState(view, initialProps, stateWrapper);
      <span class="hljs-keyword">if</span> (extraData != <span class="hljs-literal">null</span>) {
        updateExtraData(view, extraData);
      }
    }
    <span class="hljs-keyword">return</span> view;
  }

 <span class="hljs-comment">/**
   * å­ç±»åº”è¯¥è¿”å›ä¸€ä¸ªé€‚å½“ç±»å‹çš„æ–° View å®ä¾‹ã€‚
   */</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-meta">@NonNull</span> T <span class="hljs-title function_">createViewInstance</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ThemedReactContext reactContext)</span>;

   <span class="hljs-comment">/**
   * å­ç±»å¯ä»¥é‡å†™æ­¤æ–¹æ³•ä»¥åœ¨ç»™å®š View ä¸Šå®‰è£…è‡ªå®šä¹‰äº‹ä»¶å‘å°„å™¨ã€‚
   * å¦‚æœæ‚¨çš„è§†å›¾éœ€è¦å‘ JS å‘é€é™¤åŸºæœ¬è§¦æ‘¸äº‹ä»¶ä¹‹å¤–çš„äº‹ä»¶ï¼ˆä¾‹å¦‚æ»šåŠ¨äº‹ä»¶ï¼‰ï¼Œ
   * æ‚¨å¯èƒ½æƒ³è¦é‡å†™æ­¤æ–¹æ³•ã€‚
   */</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addEventEmitters</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ThemedReactContext reactContext, <span class="hljs-meta">@NonNull</span> T view)</span> {}

 <span class="hljs-comment">/**
   * å­ç±»å¯ä»¥å®ç°æ­¤æ–¹æ³•ä»¥æ¥æ”¶ä» {<span class="hljs-doctag">@link</span> ReactShadowNode#onCollectExtraUpdates} ä¸­
   * ç›¸åº” {<span class="hljs-doctag">@link</span> ReactShadowNode} å®ä¾‹æ’é˜Ÿçš„å¯é€‰é¢å¤–æ•°æ®ã€‚
   *
   * ç”±äº CSS å¸ƒå±€æ­¥éª¤å’Œ UI æ›´æ–°å¯ä»¥åœ¨è®¾ç½® x/y/width/height ä¹‹å¤–çš„å•ç‹¬çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œ
   * è¿™æ˜¯ä» CSS èŠ‚ç‚¹å‘åŸç”Ÿè§†å›¾å¯¹åº”éƒ¨åˆ†ä¼ é€’é¢å¤–æ•°æ®çš„æ¨èä¸”çº¿ç¨‹å®‰å…¨çš„æ–¹å¼ã€‚
   *
   * &lt;p&gt;TODO T7247021: Replace updateExtraData with generic update props mechanism after D2086999
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateExtraData</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> T view, Object extraData)</span>;

 <span class="hljs-comment">/**
   * å­ç±»å¯ä»¥å®ç°æ­¤æ–¹æ³•ä»¥æ¥æ”¶åœ¨æ­¤ç»„ä»¶ç±»å‹çš„æ‰€æœ‰å®ä¾‹ä¹‹é—´å…±äº«çš„çŠ¶æ€æ›´æ–°ã€‚
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-meta">@Nullable</span> Object <span class="hljs-title function_">updateState</span><span class="hljs-params">(
      <span class="hljs-meta">@NonNull</span> T view, ReactStylesDiffMap props, StateWrapper stateWrapper)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }
</code></pre>
<p>è¿™é‡Œæ¯”è¾ƒé‡è¦çš„æ˜¯<code>createViewInstance</code>æ–¹æ³•ï¼Œå­ç±»å¿…é¡»é‡å†™å®ƒï¼Œç”¨äºåˆ›å»ºè‡ªå®šä¹‰Viewã€‚ç°åœ¨æŸ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬åˆ›å»ºçš„è‡ªå®šä¹‰Fabric ç»„ä»¶åŒ…ä¸­è‡ªåŠ¨ç”Ÿæˆçš„æ¨¡ç‰ˆä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@ReactModule(name = CustomWebViewManager.NAME)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomWebViewManager</span> : <span class="hljs-type">SimpleViewManager</span>&lt;<span class="hljs-type">CustomWebView</span>&gt;(),
  CustomWebViewManagerInterface&lt;CustomWebView&gt; {
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mDelegate: ViewManagerDelegate&lt;CustomWebView&gt;

  <span class="hljs-keyword">init</span> {
    mDelegate = CustomWebViewManagerDelegate(<span class="hljs-keyword">this</span>)
  }

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getDelegate</span><span class="hljs-params">()</span></span>: ViewManagerDelegate&lt;CustomWebView&gt;? {
    <span class="hljs-keyword">return</span> mDelegate
  }

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>: String {
    <span class="hljs-keyword">return</span> NAME
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createViewInstance</span><span class="hljs-params">(context: <span class="hljs-type">ThemedReactContext</span>)</span></span>: CustomWebView {
    <span class="hljs-keyword">return</span> CustomWebView(context)
  }

  <span class="hljs-meta">@ReactProp(name = <span class="hljs-string">"sourceURL"</span>)</span>
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setSourceURL</span><span class="hljs-params">(view: <span class="hljs-type">CustomWebView</span>?, sourceURL: <span class="hljs-type">String</span>?)</span></span> {
    <span class="hljs-comment">// Implement the logic to handle the sourceURL property</span>
  }

  <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> NAME = <span class="hljs-string">"CustomWebView"</span>
  }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>CustomWebViewManager</code>å®é™…ä¸Šå°±æ˜¯<code>ViewManager</code>çš„å­å­™ç±»ï¼Œå…¶å®ç°äº†<code>createViewInstance</code>æ–¹æ³•ï¼Œè¿”å›è‡ªå®šä¹‰çš„Viewå®ä¾‹ã€‚</p>
<p>è¿™æ¡çº¿çš„è·Ÿè¸ªå·²ç»è¶³å¤Ÿæ·±å…¥äº†ï¼Œå…³äºåŸç”ŸUIç»„ä»¶çš„å…·ä½“å¸ƒå±€æ¸²æŸ“å°±ä¸ç»§ç»­äº†ï¼Œå…ˆåˆ°æ­¤ä¸ºæ­¢ã€‚</p>
<h4 data-id="heading-6">C++ å±‚</h4>
<p><strong>FabricUIManager</strong>çš„<code>startSurface</code>æ–¹æ³•ä¸­è¿˜æœ‰ä¸€ä¸ªNativeæ–¹æ³•<code>mBinding.startSurfaceWithSurfaceHandler</code>æœªåˆ†æï¼Œæºç <code>react-native/packages/react-native/ReactAndroid/src/main/jni/react/fabric/FabricUIManagerBinding.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">FabricUIManagerBinding::startSurfaceWithSurfaceHandler</span><span class="hljs-params">(
    jint surfaceId,
    jni::alias_ref&lt;SurfaceHandlerBinding::jhybridobject&gt; surfaceHandlerBinding,
    jboolean isMountable)</span> </span>{

  <span class="hljs-comment">// SurfaceHandleré…ç½® </span>
  <span class="hljs-comment">// ä»JNIåŒ…è£…ä¸­æå–C++ SurfaceHandlerå¯¹è±¡</span>
  <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; surfaceHandler =
      surfaceHandlerBinding-&gt;<span class="hljs-built_in">cthis</span>()-&gt;<span class="hljs-built_in">getSurfaceHandler</span>();
  surfaceHandler.<span class="hljs-built_in">setSurfaceId</span>(surfaceId);
  <span class="hljs-comment">// æ ¹æ®æ˜¯å¦æœ‰Viewè®¾ç½®æ˜¾ç¤ºæ¨¡å¼</span>
  surfaceHandler.<span class="hljs-built_in">setDisplayMode</span>(
      isMountable != <span class="hljs-number">0</span> ? DisplayMode::Visible : DisplayMode::Suspended);

  <span class="hljs-comment">// è·å–Fabricè°ƒåº¦å™¨</span>
  <span class="hljs-keyword">auto</span> scheduler = <span class="hljs-built_in">getScheduler</span>();
  <span class="hljs-keyword">if</span> (!scheduler) {
    <span class="hljs-built_in">LOG</span>(ERROR)
        &lt;&lt; <span class="hljs-string">"FabricUIManagerBinding::startSurfaceWithSurfaceHandler: scheduler disappeared"</span>;
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// å°†SurfaceHandleræ³¨å†Œåˆ°è°ƒåº¦å™¨ä¸­ã€‚è°ƒåº¦å™¨è´Ÿè´£ç®¡ç†æ¸²æŸ“å’Œå¸ƒå±€</span>
  scheduler-&gt;<span class="hljs-built_in">registerSurface</span>(surfaceHandler);

  <span class="hljs-keyword">auto</span> mountingManager = <span class="hljs-built_in">getMountingManager</span>(<span class="hljs-string">"startSurfaceWithSurfaceHandler"</span>);
  <span class="hljs-keyword">if</span> (mountingManager != <span class="hljs-literal">nullptr</span>) {
    <span class="hljs-comment">// é€šçŸ¥MountingManager, Surfaceå¼€å§‹å¯åŠ¨</span>
    <span class="hljs-comment">// MountingManagerè´Ÿè´£å°†C++çš„UIæ“ä½œè½¬æ¢ä¸ºAndroidåŸç”ŸViewæ“ä½œ</span>
    mountingManager-&gt;<span class="hljs-built_in">onSurfaceStart</span>(surfaceId);
  }

  <span class="hljs-comment">// å¯åŠ¨SurfaceHandler </span>
  surfaceHandler.<span class="hljs-built_in">start</span>();

  <span class="hljs-comment">// å¦‚æœå¯ç”¨å¸ƒå±€åŠ¨ç”»ï¼Œè®¾ç½®åŠ¨ç”»é©±åŠ¨å™¨</span>
  <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags::<span class="hljs-built_in">enableLayoutAnimationsOnAndroid</span>()) {
    surfaceHandler.<span class="hljs-built_in">getMountingCoordinator</span>()-&gt;<span class="hljs-built_in">setMountingOverrideDelegate</span>(
        animationDriver_);
  }

  {
    <span class="hljs-function">std::unique_lock <span class="hljs-title">lock</span><span class="hljs-params">(surfaceHandlerRegistryMutex_)</span></span>;
    <span class="hljs-comment">// å°†SurfaceHandleræ·»åŠ åˆ°æ³¨å†Œè¡¨ä¸­ï¼Œä¾¿äºåç»­ç®¡ç†ï¼ˆåœæ­¢ã€æ›´æ–°ç­‰ï¼‰</span>
    surfaceHandlerRegistry_.<span class="hljs-built_in">emplace</span>(
        surfaceId, jni::<span class="hljs-built_in">make_weak</span>(surfaceHandlerBinding));
  }
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•æ˜¯æ–°æ¶æ„Surfaceå¯åŠ¨çš„å…³é”®æ¡¥æ¢ï¼Œå®ƒä½“ç°äº†æ–°æ¶æ„çš„æ ¸å¿ƒç‰¹ç‚¹ï¼šé€šè¿‡<strong>JSI</strong>ç›´æ¥ä»C++è°ƒç”¨JSã€‚</p>
<ul>
<li>
<p>å‘ä¸Šï¼šæ¥æ”¶Javaå±‚çš„å¯åŠ¨è¯·æ±‚</p>
</li>
<li>
<p>å‘ä¸‹ï¼šè§¦å‘C++å±‚çš„Surfaceå¯åŠ¨æµç¨‹</p>
</li>
<li>
<p>æ¨ªå‘ï¼šåè°ƒSchedulerã€MountingManagerç­‰å„ä¸ªå­ç³»ç»Ÿ</p>
</li>
</ul>
<p>è¿™é‡Œé‡ç‚¹å…³æ³¨ä¸€ä¸‹<code>surfaceHandler.start()</code>çš„å®ç°ï¼Œæºç <code>react-native/packages/react-native/ReactCommon/react/renderer/scheduler/SurfaceHandler.cpp</code>:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SurfaceHandler::start</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{
  <span class="hljs-function">std::unique_lock <span class="hljs-title">lock</span><span class="hljs-params">(linkMutex_)</span></span>;
  <span class="hljs-comment">// çœç•¥æ–­è¨€......</span>

  <span class="hljs-keyword">auto</span> parameters = Parameters{};
  {
    <span class="hljs-function">std::shared_lock <span class="hljs-title">parametersLock</span><span class="hljs-params">(parametersMutex_)</span></span>;
    parameters = parameters_;
  }

  <span class="hljs-comment">// åˆ›å»ºShadowTree </span>
  <span class="hljs-keyword">auto</span> shadowTree = std::<span class="hljs-built_in">make_unique</span>&lt;ShadowTree&gt;(
      parameters.surfaceId,
      parameters.layoutConstraints,
      parameters.layoutContext,
      *link_.uiManager,
      *parameters.contextContainer);

  <span class="hljs-comment">// å°†ShadowTreeæŒ‡é’ˆä¿å­˜åˆ°link_ä¸­ï¼Œä¾›åç»­æ“ä½œä½¿ç”¨</span>
  link_.shadowTree = shadowTree.<span class="hljs-built_in">get</span>();

  <span class="hljs-keyword">if</span> (!parameters.moduleName.<span class="hljs-built_in">empty</span>()) {
    <span class="hljs-comment">// å¯åŠ¨Surface</span>
    link_.uiManager-&gt;<span class="hljs-built_in">startSurface</span>(
        std::<span class="hljs-built_in">move</span>(shadowTree),
        parameters.moduleName,
        parameters.props,
        parameters_.displayMode);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// åˆ›å»ºç©ºSurfaceï¼Œä»…ç”¨äºé¢„æ¸²æŸ“</span>
    link_.uiManager-&gt;<span class="hljs-built_in">startEmptySurface</span>(std::<span class="hljs-built_in">move</span>(shadowTree));
  }
  <span class="hljs-comment">// å°†çŠ¶æ€ä»Registeredæ›´æ–°ä¸ºRunning</span>
  link_.status = Status::Running;
  <span class="hljs-comment">// åº”ç”¨æ˜¾ç¤ºæ¨¡å¼</span>
  <span class="hljs-built_in">applyDisplayMode</span>(parameters.displayMode);
}
</code></pre>
<p>æ­¤æ–¹æ³•æ˜¯Fabricæ¶æ„ä¸­æ¸²æŸ“æµç¨‹çš„èµ·ç‚¹ï¼Œè´Ÿè´£åˆ›å»ºShadowTreeå¹¶å¯åŠ¨UIæ¸²æŸ“æµç¨‹ã€‚è¿™é‡Œçš„<strong>ShadowTree</strong>å°±æ˜¯Fabricä¸­çš„è™šæ‹ŸDOMæ ‘ï¼Œç”¨äºå¸ƒå±€è®¡ç®—å’Œæ¸²æŸ“ã€‚</p>
<p>ç»§ç»­è·Ÿè¸ª<code>uiManager-&gt;startSurface</code>çš„å®ç°ï¼Œæºç <code>react-native/packages/react-native/ReactCommon/react/renderer/uimanager/UIManager.cpp</code>:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">UIManager::startSurface</span><span class="hljs-params">(
    ShadowTree::Unique&amp;&amp; shadowTree,
    <span class="hljs-type">const</span> std::string&amp; moduleName,
    <span class="hljs-type">const</span> folly::dynamic&amp; props,
    DisplayMode displayMode)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{
  <span class="hljs-function">TraceSection <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-string">"UIManager::startSurface"</span>)</span></span>;

  <span class="hljs-comment">// ShadowTreeæ³¨å†Œ </span>
  <span class="hljs-keyword">auto</span> surfaceId = shadowTree-&gt;<span class="hljs-built_in">getSurfaceId</span>();
  shadowTreeRegistry_.<span class="hljs-built_in">add</span>(std::<span class="hljs-built_in">move</span>(shadowTree));

  <span class="hljs-comment">// å§”æ‰˜é€šçŸ¥</span>
  <span class="hljs-comment">// ä½¿ç”¨è®¿é—®è€…æ¨¡å¼å®‰å…¨è®¿é—®å·²æ³¨å†Œçš„ShadowTree</span>
  shadowTreeRegistry_.<span class="hljs-built_in">visit</span>(
      surfaceId, [delegate = delegate_](<span class="hljs-type">const</span> ShadowTree&amp; shadowTree) {
        <span class="hljs-keyword">if</span> (delegate != <span class="hljs-literal">nullptr</span>) {
          <span class="hljs-comment">// é€šçŸ¥UIManagerçš„å§”æ‰˜å¯¹è±¡Surfaceå·²å¯åŠ¨</span>
          delegate-&gt;<span class="hljs-built_in">uiManagerDidStartSurface</span>(shadowTree);
        }
      });

  <span class="hljs-comment">// å¼‚æ­¥è°ƒç”¨JSå±‚</span>
  <span class="hljs-built_in">runtimeExecutor_</span>([=](jsi::Runtime&amp; runtime) {
    TraceSection <span class="hljs-built_in">s</span>(<span class="hljs-string">"UIManager::startSurface::onRuntime"</span>);
    <span class="hljs-comment">// åœ¨JSçº¿ç¨‹ä¸Šå¼‚æ­¥æ‰§è¡Œ</span>
    AppRegistryBinding::<span class="hljs-built_in">startSurface</span>(
        runtime, surfaceId, moduleName, props, displayMode);
  });
}
</code></pre>
<p>æ­¤æ–¹æ³•æ˜¯Fabricæ¶æ„ä¸­è¿æ¥C++æ¸²æŸ“ç³»ç»Ÿå’ŒJSåº”ç”¨å±‚çš„å…³é”®æ¡¥æ¢æ–¹æ³•ï¼Œè´Ÿè´£æ³¨å†ŒShadowTreeå¹¶è§¦å‘JSåº”ç”¨å¯åŠ¨ã€‚</p>
<p>ç»§ç»­è·Ÿè¸ª<code>AppRegistryBinding::startSurface</code>ã€‚æºç <code>react-native/packages/react-native/ReactCommon/react/renderer/uimanager/AppRegistryBinding.cpp</code>:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">/* static */</span> <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AppRegistryBinding::startSurface</span><span class="hljs-params">(
    jsi::Runtime&amp; runtime,
    SurfaceId surfaceId,
    <span class="hljs-type">const</span> std::string&amp; moduleName,
    <span class="hljs-type">const</span> folly::dynamic&amp; initialProps,
    DisplayMode displayMode)</span> </span>{
  <span class="hljs-function">TraceSection <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-string">"AppRegistryBinding::startSurface"</span>)</span></span>;

  <span class="hljs-comment">// æ„å»ºå‚æ•°å¯¹è±¡</span>
  <span class="hljs-function">jsi::Object <span class="hljs-title">parameters</span><span class="hljs-params">(runtime)</span></span>;
  parameters.<span class="hljs-built_in">setProperty</span>(runtime, <span class="hljs-string">"rootTag"</span>, surfaceId);
  parameters.<span class="hljs-built_in">setProperty</span>(
      runtime, <span class="hljs-string">"initialProps"</span>, jsi::<span class="hljs-built_in">valueFromDynamic</span>(runtime, initialProps));
  parameters.<span class="hljs-built_in">setProperty</span>(runtime, <span class="hljs-string">"fabric"</span>, <span class="hljs-literal">true</span>);

  <span class="hljs-comment">// è·å–å…¨å±€AppRegistry </span>
  <span class="hljs-comment">// è®¿é—®JSå…¨å±€å¯¹è±¡</span>
  <span class="hljs-keyword">auto</span> global = runtime.<span class="hljs-built_in">global</span>();
  <span class="hljs-comment">// æŸ¥æ‰¾RN$AppRegistryï¼ˆåœ¨AppRegistry.jsä¸­è®¾ç½®ï¼‰</span>
  <span class="hljs-keyword">auto</span> registry = global.<span class="hljs-built_in">getProperty</span>(runtime, <span class="hljs-string">"RN$AppRegistry"</span>);
  <span class="hljs-keyword">if</span> (!registry.<span class="hljs-built_in">isObject</span>()) {
    <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(
        <span class="hljs-string">"AppRegistryBinding::startSurface failed. Global was not installed."</span>);
  }

  <span class="hljs-comment">// è·å–runApplicationæ–¹æ³•å¯¹è±¡</span>
  <span class="hljs-keyword">auto</span> method = std::<span class="hljs-built_in">move</span>(registry).<span class="hljs-built_in">asObject</span>(runtime).<span class="hljs-built_in">getPropertyAsFunction</span>(
      runtime, <span class="hljs-string">"runApplication"</span>);

  <span class="hljs-comment">// è°ƒç”¨JSæ–¹æ³•ï¼šrunApplication</span>
  method.<span class="hljs-built_in">call</span>(
      runtime,
      {jsi::String::<span class="hljs-built_in">createFromUtf8</span>(runtime, moduleName),
       std::<span class="hljs-built_in">move</span>(parameters),
       jsi::<span class="hljs-built_in">Value</span>(runtime, <span class="hljs-built_in">displayModeToInt</span>(displayMode))});
}
</code></pre>
<p>è¿™é‡Œçš„é‡ç‚¹æ˜¯å°±æ˜¯JSå±‚çš„<strong>runApplication</strong>æ–¹æ³•è°ƒç”¨ï¼Œå¯ä»¥è¯´è¿™å°±æ˜¯JSå±‚çš„å…¥å£æ–¹æ³•ã€‚æ­¤å¤„çš„JSI C++è°ƒç”¨ç­‰ä»·äºä»¥ä¸‹JSä»£ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">AppRegistry</span>.<span class="hljs-title function_">runApplication</span>(
  <span class="hljs-string">"RNTesterApp"</span>,           <span class="hljs-comment">// moduleName</span>
  {
    <span class="hljs-attr">rootTag</span>: <span class="hljs-number">1</span>,            <span class="hljs-comment">// surfaceId</span>
    <span class="hljs-attr">initialProps</span>: {...},   <span class="hljs-comment">// åˆå§‹å±æ€§</span>
    <span class="hljs-attr">fabric</span>: <span class="hljs-literal">true</span>           <span class="hljs-comment">// æ–°æ¶æ„æ ‡è®°</span>
  },
  <span class="hljs-number">0</span>                        <span class="hljs-comment">// displayMode</span>
);
</code></pre>
<p><code>AppRegistryBinding::startSurface</code>æ–¹æ³•æ˜¯æ–°æ¶æ„è°ƒç”¨é“¾çš„ç»ˆç‚¹ï¼Œè´Ÿè´£é€šè¿‡JSIç›´æ¥è°ƒç”¨JSå±‚çš„AppRegistry.runApplicationï¼Œå¯åŠ¨ReactÂ Nativeåº”ç”¨ã€‚</p>
<h3 data-id="heading-7">æ¸²æŸ“è°ƒåº¦</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¢ç´¢ä¸€ä¸‹å‰é¢æåˆ°çš„<code>mOnViewAttachMountItems</code>é˜Ÿåˆ—ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// SurfaceMountingManager.java</span>

  <span class="hljs-meta">@UiThread</span>
  <span class="hljs-meta">@ThreadConfined(UI)</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scheduleMountItemOnViewAttach</span><span class="hljs-params">(MountItem item)</span> {
    mOnViewAttachMountItems.add(item);
  }
</code></pre>
<p>ç»è¿‡æœç´¢ï¼Œå¯ä»¥å®šä½åˆ°<code>scheduleMountItemOnViewAttach</code>è°ƒç”¨å¤„ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// MountItemDispatcher.kt</span>

  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getAndResetViewCommandMountItems</span><span class="hljs-params">()</span></span>: List&lt;DispatchCommandMountItem&gt;? =
      drainConcurrentItemQueue(viewCommandMountItems)

  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getAndResetMountItems</span><span class="hljs-params">()</span></span>: List&lt;MountItem&gt;? = drainConcurrentItemQueue(mountItems)

  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getAndResetPreMountItems</span><span class="hljs-params">()</span></span>: List&lt;MountItem&gt;? = drainConcurrentItemQueue(preMountItems)

  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">executeOrEnqueue</span><span class="hljs-params">(item: <span class="hljs-type">MountItem</span>)</span></span> {
    <span class="hljs-keyword">if</span> (mountingManager.isWaitingForViewAttach(item.getSurfaceId())) {
      <span class="hljs-comment">// Surface è¿˜æœªå‡†å¤‡å¥½ï¼Œå°†ä»»åŠ¡åŠ å…¥ç­‰å¾…é˜Ÿåˆ—</span>
      <span class="hljs-keyword">val</span> surfaceMountingManager: SurfaceMountingManager =
          mountingManager.getSurfaceManagerEnforced(
              item.getSurfaceId(),
              <span class="hljs-string">"MountItemDispatcher::executeOrEnqueue"</span>,
          )
      surfaceMountingManager.scheduleMountItemOnViewAttach(item)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// Surface å·²å‡†å¤‡å¥½ï¼Œç›´æ¥æ‰§è¡Œ</span>
      item.execute(mountingManager)
    }
  }


  <span class="hljs-comment">/*
   * æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œè§†å›¾å‘½ä»¤ã€é¢„æŒ‚è½½é¡¹å’ŒæŒ‚è½½é¡¹ï¼š
   * 1. è§†å›¾å‘½ä»¤
   * 2. é¢„æŒ‚è½½é¡¹  
   * 3. å¸¸è§„æŒ‚è½½é¡¹
   *
   * å¦‚æœ `viewCommandMountItemsToDispatch` å’Œ `mountItemsToDispatch` éƒ½ä¸ºç©ºï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚
   * é™¤äº† `tryDispatchMountItems` ä¹‹å¤–ï¼Œä»»ä½•åœ°æ–¹éƒ½ä¸åº”ç›´æ¥è°ƒç”¨æ­¤æ–¹æ³•ã€‚
   */</span>
  <span class="hljs-meta">@UiThread</span>
  <span class="hljs-meta">@ThreadConfined(UI)</span>
  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dispatchMountItems</span><span class="hljs-params">()</span></span> {
    batchedExecutionTime = <span class="hljs-number">0</span>
    runStartTime = SystemClock.uptimeMillis()
    <span class="hljs-comment">// åˆå§‹åŒ–å’Œè·å–å¾…åˆ†å‘é¡¹</span>
    <span class="hljs-keyword">val</span> viewCommandMountItemsToDispatch = getAndResetViewCommandMountItems()
    <span class="hljs-keyword">val</span> mountItemsToDispatch = getAndResetMountItems()

    <span class="hljs-keyword">if</span> (mountItemsToDispatch == <span class="hljs-literal">null</span> &amp;&amp; viewCommandMountItemsToDispatch == <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">return</span>
    }

    itemDispatchListener.willMountItems(mountItemsToDispatch)

    <span class="hljs-comment">// å®šä¹‰è§†å›¾å‘½ä»¤åˆ†å‘å‡½æ•°</span>
    <span class="hljs-keyword">val</span> dispatchViewCommand: (command: DispatchCommandMountItem) -&gt; <span class="hljs-built_in">Unit</span> = { command -&gt;
      <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags.enableFabricLogs()) {
        printMountItem(command, <span class="hljs-string">"dispatchMountItems: Executing viewCommandMountItem"</span>)
      }
      <span class="hljs-keyword">try</span> {
        executeOrEnqueue(command)
      } <span class="hljs-keyword">catch</span> (e: RetryableMountingLayerException) {
        <span class="hljs-comment">// çœç•¥......</span>
      } <span class="hljs-keyword">catch</span> (e: Throwable) {
        <span class="hljs-comment">// çœç•¥......</span>
      }
    }

    <span class="hljs-comment">// æ‰§è¡ŒViewCommand</span>

    <span class="hljs-comment">// ä½œä¸ºä¼˜åŒ–ï¼Œé¦–å…ˆæ‰§è¡Œæ‰€æœ‰ ViewCommand</span>
    <span class="hljs-comment">// è¿™åº”è¯¥æ˜¯ï¼š</span>
    <span class="hljs-comment">// 1) é«˜æ€§èƒ½çš„ï¼šViewCommand é€šå¸¸æ˜¯ SetNativeProps çš„æ›¿ä»£å“ï¼Œæˆ‘ä»¬ä¸€ç›´å¸Œæœ›å®ƒå°½å¯èƒ½"åŒæ­¥"ã€‚</span>
    <span class="hljs-comment">// 2) æ›´å®‰å…¨çš„ï¼šViewCommand æœ¬è´¨ä¸Šä¸æ ‘æäº¤/å·®å¼‚/æŒ‚è½½è¿‡ç¨‹æ–­å¼€è¿æ¥ã€‚</span>
    <span class="hljs-comment">// JS ä»¤å¼åœ°æ’é˜Ÿè¿™äº›å‘½ä»¤ã€‚</span>
    <span class="hljs-comment">//    å¦‚æœ JS å·²ç»æ’é˜Ÿäº†ä¸€ä¸ªå‘½ä»¤ï¼Œå¯ä»¥åˆç†åœ°å‡è®¾æ—¶é—´è¿‡å¾—è¶Šä¹…ï¼Œ è§†å›¾æ¶ˆå¤±çš„å¯èƒ½æ€§å°±è¶Šå¤§ã€‚</span>
    <span class="hljs-comment">//    å› æ­¤ï¼Œé€šè¿‡æå‰æ‰§è¡Œ ViewCommandï¼Œæˆ‘ä»¬å®é™…ä¸Šåº”è¯¥é¿å…ä¸€ç±»é”™è¯¯/æ•…éšœã€‚</span>
    viewCommandMountItemsToDispatch?.let { commands -&gt;
      <span class="hljs-keyword">for</span> (command <span class="hljs-keyword">in</span> commands) {
        dispatchViewCommand(command)
      }

      Systrace.endSection(Systrace.TRACE_TAG_REACT)
    }

    <span class="hljs-comment">// æ‰§è¡ŒPreMountItem</span>
    <span class="hljs-comment">// å¦‚æœæœ‰ MountItem è¦åˆ†å‘ï¼Œæˆ‘ä»¬ç¡®ä¿æ‰€æœ‰"é¢„æŒ‚è½½é¡¹"é¦–å…ˆæ‰§è¡Œ</span>
    getAndResetPreMountItems()?.let { preMountItems -&gt;
      <span class="hljs-keyword">for</span> (preMountItem <span class="hljs-keyword">in</span> preMountItems) {
        <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags.enableFabricLogs()) {
          printMountItem(preMountItem, <span class="hljs-string">"dispatchMountItems: Executing preMountItem"</span>)
        }
        executeOrEnqueue(preMountItem)
      }
      Systrace.endSection(Systrace.TRACE_TAG_REACT)
    }

    <span class="hljs-comment">// æ‰§è¡Œå¸¸è§„ MountItem </span>
    mountItemsToDispatch?.let { items -&gt;
      <span class="hljs-keyword">val</span> batchedExecutionStartTime = SystemClock.uptimeMillis()

      <span class="hljs-keyword">for</span> (mountItem <span class="hljs-keyword">in</span> items) {
        <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags.enableFabricLogs()) {
          printMountItem(mountItem, <span class="hljs-string">"dispatchMountItems: Executing mountItem"</span>)
        }

        <span class="hljs-keyword">val</span> command = mountItem <span class="hljs-keyword">as</span>? DispatchCommandMountItem
        <span class="hljs-keyword">if</span> (command != <span class="hljs-literal">null</span>) {
          dispatchViewCommand(command)
          <span class="hljs-keyword">continue</span>
        }

        <span class="hljs-keyword">try</span> {
          executeOrEnqueue(mountItem)
        } <span class="hljs-keyword">catch</span> (e: Throwable) {
          <span class="hljs-comment">// çœç•¥......</span>
        }
      }
      batchedExecutionTime += SystemClock.uptimeMillis() - batchedExecutionStartTime
    }

    itemDispatchListener.didMountItems(mountItemsToDispatch)
  }

 <span class="hljs-comment">/**
  * å°è¯•åˆ†å‘ MountItemsã€‚å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œæˆ‘ä»¬å°†é‡è¯• 10 æ¬¡åæ”¾å¼ƒã€‚
  */</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">tryDispatchMountItems</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// å¦‚æœæˆ‘ä»¬å·²ç»åœ¨åˆ†å‘ä¸­ï¼Œä¸è¦é‡å…¥ã€‚åœ¨ Android çš„ Fabric ä¸­å¯èƒ½ç»å¸¸å‘ç”Ÿé‡å…¥ï¼Œ</span>
    <span class="hljs-comment">// å› ä¸ºæ¥è‡ªæŒ‚è½½å±‚çš„ `updateState` ä¼šå¯¼è‡´æŒ‚è½½é¡¹è¢«åŒæ­¥åˆ†å‘ã€‚æˆ‘ä»¬æƒ³è¦ </span>
    <span class="hljs-comment">//    1)ç¡®ä¿åœ¨è¿™äº›æƒ…å†µä¸‹ä¸é‡å…¥ï¼Œä½† 2)ä»ç„¶åŒæ­¥æ‰§è¡Œè¿™äº›æ’é˜Ÿçš„æŒ‡ä»¤ã€‚</span>
    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªç›¸å½“ç²—æš´çš„å·¥å…·ï¼Œä½†æˆ‘ä»¬å¯èƒ½æ²¡æœ‰æ›´å¥½çš„é€‰æ‹©ï¼Œå› ä¸ºæˆ‘ä»¬çœŸçš„ä¸æƒ³æ‰§è¡Œä»»ä½•ä¹±åºçš„æ“ä½œã€‚</span>
    <span class="hljs-keyword">if</span> (inDispatch) {
      <span class="hljs-keyword">return</span>
    }

    inDispatch = <span class="hljs-literal">true</span>

    <span class="hljs-keyword">try</span> {
      dispatchMountItems()
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-comment">// å³ä½¿æŠ›å‡ºå¼‚å¸¸ä¹Ÿè¦åœ¨è¿è¡Œ dispatchMountItems åæ¸…ç†</span>
      inDispatch = <span class="hljs-literal">false</span>
    }

    <span class="hljs-comment">// æ— è®ºæˆ‘ä»¬æ˜¯å¦å®é™…åˆ†å‘äº†ä»»ä½•å†…å®¹ï¼Œæˆ‘ä»¬éƒ½ä¼šè°ƒç”¨ didDispatchMountItemsï¼Œ</span>
    <span class="hljs-comment">// å› ä¸º NativeAnimatedModule ä¾èµ–äºæ­¤æ¥æ‰§è¡Œå¯èƒ½å·²è°ƒåº¦çš„ä»»ä½•åŠ¨ç”»</span>
    itemDispatchListener.didDispatchMountItems()
  }
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>scheduleMountItemOnViewAttach</code>ä»…è¢«<code>executeOrEnqueue</code>æ–¹æ³•è°ƒç”¨ã€‚åªæœ‰åœ¨<strong>Surface</strong> è¿˜æœªå‡†å¤‡å¥½æ—¶ï¼Œæ‰å°†ä»»åŠ¡åŠ å…¥ç­‰å¾…é˜Ÿåˆ—ã€‚å¦åˆ™ï¼Œç›´æ¥åœ¨<code>executeOrEnqueue</code>ä¸­æ‰§è¡ŒæŒ‚è½½é¡¹ã€‚</p>
<p>è¿™é‡Œ<code>executeOrEnqueue</code>æ–¹æ³•åœ¨<code>dispatchMountItems</code>æ–¹æ³•ä¸­æœ‰ä¸‰æ¬¡è°ƒç”¨ï¼Œåˆ†åˆ«å¯¹åº”ç€ä¸‰ä¸ªé˜Ÿåˆ—ã€‚è¿™ä¸‰ä¸ªé˜Ÿåˆ—å­˜åœ¨æ‰§è¡Œé¡ºåºï¼š</p>
<ol>
<li>
<p><strong>ViewCommand</strong> ä¼˜å…ˆæ‰§è¡Œï¼šæé«˜æ€§èƒ½å’Œå®‰å…¨æ€§ï¼ˆå­˜å‚¨è§†å›¾å‘½ä»¤ï¼Œå¦‚ scrollToã€focusç­‰ï¼Œè¿™äº›æ˜¯æ¥è‡ª JS çš„å‘½ä»¤å¼è°ƒç”¨ï¼Œä¸è§†å›¾æ ‘çš„æäº¤/å·®å¼‚/æŒ‚è½½è¿‡ç¨‹åˆ†ç¦»ï¼‰</p>
</li>
<li>
<p><strong>PreMountItem</strong> æ¬¡ä¹‹ï¼šä¸ºåç»­æŒ‚è½½åšå‡†å¤‡ï¼ˆå­˜å‚¨é¢„æŒ‚è½½é¡¹ï¼Œä¸»è¦æ˜¯è§†å›¾é¢„åˆ†é…æ“ä½œã€‚è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–ï¼Œå°½å¯èƒ½æå‰å®Œæˆå·¥ä½œï¼‰</p>
</li>
<li>
<p>å¸¸è§„Â <strong>MountItem</strong> æœ€åï¼šæ‰§è¡Œå®é™…çš„è§†å›¾æ“ä½œï¼ˆå­˜å‚¨å¸¸è§„æŒ‚è½½é¡¹ï¼ŒåŒ…å«ä¸»è¦çš„è§†å›¾æ“ä½œã€‚è¿™æ˜¯è§†å›¾æ ‘æ›´æ–°çš„æ ¸å¿ƒæ“ä½œï¼‰</p>
</li>
</ol>
<p>æœ‰ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼Œå°±æ˜¯<code>drainConcurrentItemQueue</code>æ–¹æ³•ã€‚æ­¤æ–¹æ³•æ˜¯ä¸€æ¬¡æ€§æ¸…ç©ºé˜Ÿåˆ—ï¼Œå°†ç»“æœè½¬ä¸ºä¸€ä¸ªListã€‚ä¹‹æ‰€ä»¥è¿™æ ·åšï¼Œæ˜¯ä¸ºäº†å°†ç´¯ç§¯çš„æ‰€æœ‰æŒ‚è½½é¡¹ä¸€æ¬¡æ€§å–å‡ºè¿›è¡Œæ‰¹å¤„ç†ï¼Œé¿å…åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é˜Ÿåˆ—ç»§ç»­å¢é•¿å¯¼è‡´çš„ä¸ä¸€è‡´æ€§ã€‚è¿™é‡Œçš„ä¸‰ä¸ªé˜Ÿåˆ—éƒ½è°ƒç”¨äº†æ­¤æ–¹æ³•è¿”å›åˆ—è¡¨ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæ ¹æ®æ³¨é‡Šå¯çŸ¥ï¼Œ<code>dispatchMountItems</code>æ–¹æ³•åªåº”è¯¥è¢«<code>tryDispatchMountItems</code>è°ƒç”¨ã€‚è€Œ<code>tryDispatchMountItems</code>æ–¹æ³•ä¸»è¦åšäº†ä¸€ä¸ªé˜²æ­¢é‡å…¥çš„å¤„ç†ã€‚ç»§ç»­æœç´¢è¯¥æ–¹æ³•ï¼Œå‘ç°åªæœ‰ä¸¤å¤„è°ƒç”¨ï¼Œä¸”éƒ½åœ¨<code>FabricUIManager.java</code>ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DispatchUIFrameCallback</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">GuardedFrameCallback</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mIsMountingEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
    <span class="hljs-meta">@ThreadConfined(UI)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mShouldSchedule</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    <span class="hljs-meta">@ThreadConfined(UI)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mIsScheduled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">DispatchUIFrameCallback</span><span class="hljs-params">(ReactContext reactContext)</span> {
      <span class="hljs-built_in">super</span>(reactContext);
    }

    <span class="hljs-meta">@UiThread</span>
    <span class="hljs-meta">@ThreadConfined(UI)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">schedule</span><span class="hljs-params">()</span> {
      <span class="hljs-keyword">if</span> (!mIsScheduled &amp;&amp; mShouldSchedule) {
        mIsScheduled = <span class="hljs-literal">true</span>;
        ReactChoreographer.getInstance()
            .postFrameCallback(ReactChoreographer.CallbackType.DISPATCH_UI, <span class="hljs-built_in">this</span>);
      }
    }
    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@UiThread</span>
    <span class="hljs-meta">@ThreadConfined(UI)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFrameGuarded</span><span class="hljs-params">(<span class="hljs-type">long</span> frameTimeNanos)</span> {
      mIsScheduled = <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">if</span> (!mIsMountingEnabled) {
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-keyword">if</span> (mDestroyed) {
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-comment">// é€šè¿‡ C++ é©±åŠ¨æ‰€æœ‰åŠ¨ç”»ã€‚</span>
      <span class="hljs-comment">// è¿™é‡Œå­˜åœ¨è·å–/è®¾ç½® `mDriveCxxAnimations` çš„ç«æ€æ¡ä»¶ï¼Œä½†è¿™åº”è¯¥æ— å…³ç´§è¦ï¼›</span>
      <span class="hljs-comment">// è°ƒç”¨ mBinding æ–¹æ³•æ˜¯å®‰å…¨çš„ï¼Œé™¤é mBinding å¯¹è±¡å·²è¢«é”€æ¯ã€‚</span>
      <span class="hljs-keyword">if</span> ((mDriveCxxAnimations || ReactNativeFeatureFlags.cxxNativeAnimatedEnabled())
          &amp;&amp; mBinding != <span class="hljs-literal">null</span>) {
        mBinding.driveCxxAnimations();
      }

      <span class="hljs-keyword">if</span> (mBinding != <span class="hljs-literal">null</span>) {
        mBinding.drainPreallocateViewsQueue();
      }

      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// é¦–å…ˆï¼Œåœ¨ frameTimeNanos æ—¶é—´å†…æ‰§è¡Œå°½å¯èƒ½å¤šçš„é¢„æŒ‚è½½é¡¹ã€‚</span>
        <span class="hljs-comment">// å¦‚æœä¸æ˜¯æ‰€æœ‰é¢„æŒ‚è½½é¡¹éƒ½è¢«æ‰§è¡Œï¼Œå¯èƒ½å‘ç”Ÿä»¥ä¸‹æƒ…å†µï¼š</span>
        <span class="hljs-comment">//   1. å¦‚æœ MountItemDispatcher ä¸­æœ‰è§†å›¾å‘½ä»¤æˆ–æŒ‚è½½é¡¹ï¼šæ‰§è¡Œå‰©ä½™çš„é¢„æŒ‚è½½é¡¹ã€‚</span>
        <span class="hljs-comment">//   2. å¦‚æœæ²¡æœ‰è§†å›¾å‘½ä»¤æˆ–æŒ‚è½½é¡¹ï¼Œç­‰å¾…ä¸‹ä¸€å¸§ã€‚</span>
        mMountItemDispatcher.dispatchPreMountItems(frameTimeNanos);
        mMountItemDispatcher.tryDispatchMountItems();
      } <span class="hljs-keyword">catch</span> (Exception ex) {
        FLog.e(TAG, <span class="hljs-string">"Exception thrown when executing UIFrameGuarded"</span>, ex);
        mIsMountingEnabled = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">throw</span> ex;
      } <span class="hljs-keyword">finally</span> {
        schedule();
      }

      mSynchronousEvents.clear();
    }
  }
</code></pre>
<p>å…ˆçœ‹<code>doFrameGuarded</code>è¿™å¤„è°ƒç”¨ï¼Œè¿™é‡Œæ­£æ˜¯ä¸€å¼€å§‹åˆ†æåˆå§‹åŒ–æµç¨‹æ—¶æåˆ°çš„åŸºäºÂ Android Choreographerå¸§å›è°ƒå¤„ç†ã€‚</p>
<ul>
<li>
<p>ç›‘å¬ VSync ä¿¡å·</p>
</li>
<li>
<p>åœ¨æ¯å¸§å¼€å§‹æ—¶è§¦å‘å›è°ƒ</p>
</li>
<li>
<p>æŒ‰ä¼˜å…ˆçº§é¡ºåºæ‰§è¡Œå›è°ƒé˜Ÿåˆ—</p>
<ol>
<li>
<p><code>mBinding.driveCxxAnimations()</code>- C++ åŠ¨ç”»</p>
</li>
<li>
<p><code>mBinding.drainPreallocateViewsQueue()</code>- C++ é¢„åˆ†é…é˜Ÿåˆ—</p>
</li>
<li>
<p><code>dispatchPreMountItems(frameTimeNanos)</code>- Java é¢„æŒ‚è½½é¡¹</p>
</li>
<li>
<p><code>tryDispatchMountItems()</code> - å¸¸è§„æŒ‚è½½é¡¹</p>
</li>
</ol>
</li>
</ul>
<p><code>doFrameGuarded</code>è¿™å¤„è°ƒç”¨å°±æ˜¯æ­£å¸¸çš„å¸§é©±åŠ¨æ¸²æŸ“æµç¨‹ï¼Œç¡®ä¿ UI æ›´æ–°ä¸å±å¹•åˆ·æ–°åŒæ­¥ã€‚</p>
<p>æˆ‘ä»¬å†çœ‹å¦ä¸€å¤„è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-java" lang="java">  <span class="hljs-comment">/**
   * æ­¤æ–¹æ³•å°† UI æ“ä½œç›´æ¥æ·»åŠ åˆ° UI çº¿ç¨‹é˜Ÿåˆ—ä¸­ã€‚ä»¥ä½¿ç”¨ {<span class="hljs-doctag">@link</span> ReactChoreographer.CallbackType} æ¥å¼ºåˆ¶æ‰§è¡Œé¡ºåºã€‚
   * æ­¤æ–¹æ³•åº”ä»…åœ¨æäº¤æ–°æ¸²æŸ“æ ‘åè°ƒç”¨ã€‚
   */</span>
  <span class="hljs-meta">@SuppressWarnings("unused")</span>
  <span class="hljs-meta">@AnyThread</span>
  <span class="hljs-meta">@ThreadConfined(ANY)</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scheduleMountItem</span><span class="hljs-params">(
      <span class="hljs-meta">@Nullable</span> <span class="hljs-keyword">final</span> MountItem mountItem,
      <span class="hljs-type">int</span> commitNumber,
      <span class="hljs-type">long</span> commitStartTime,
      <span class="hljs-type">long</span> diffStartTime,
      <span class="hljs-type">long</span> diffEndTime,
      <span class="hljs-type">long</span> layoutStartTime,
      <span class="hljs-type">long</span> layoutEndTime,
      <span class="hljs-type">long</span> finishTransactionStartTime,
      <span class="hljs-type">long</span> finishTransactionEndTime,
      <span class="hljs-type">int</span> affectedLayoutNodesCount)</span> {
    <span class="hljs-comment">// å½“ Binding.cpp åœ¨æäº¤é˜¶æ®µè°ƒç”¨ scheduleMountItems æ—¶ï¼Œå®ƒæ€»æ˜¯ä½¿ç”¨ BatchMountItem è°ƒç”¨ã€‚</span>
    <span class="hljs-comment">// æ²¡æœ‰å…¶ä»–åœ°æ–¹ä½¿ç”¨ BatchMountItem è°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¹¶ä¸” Binding.cpp åªä½¿ç”¨ BatchMountItem è°ƒç”¨ scheduleMountItemsã€‚</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">scheduleMountItemStartTime</span> <span class="hljs-operator">=</span> SystemClock.uptimeMillis();
    <span class="hljs-type">boolean</span> <span class="hljs-variable">isBatchMountItem</span> <span class="hljs-operator">=</span> mountItem <span class="hljs-keyword">instanceof</span> BatchMountItem;
    <span class="hljs-type">boolean</span> <span class="hljs-variable">shouldSchedule</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä¸ºæ‰¹é‡æŒ‚è½½é¡¹</span>
    <span class="hljs-keyword">if</span> (isBatchMountItem) {
      <span class="hljs-type">BatchMountItem</span> <span class="hljs-variable">batchMountItem</span> <span class="hljs-operator">=</span> (BatchMountItem) mountItem;
      Assertions.assertNotNull(batchMountItem, <span class="hljs-string">"BatchMountItem is null"</span>);
      shouldSchedule = !batchMountItem.isBatchEmpty();
    } <span class="hljs-keyword">else</span> {
      shouldSchedule = mountItem != <span class="hljs-literal">null</span>;
    }
    <span class="hljs-comment">// çœç•¥æ€§èƒ½è®°å½•......</span>

    <span class="hljs-comment">// é€šçŸ¥ç›‘å¬å™¨</span>
    <span class="hljs-comment">// åœ¨åŒæ­¥æ¸²æŸ“çš„æƒ…å†µä¸‹ï¼Œè¿™å¯èƒ½åœ¨ UI çº¿ç¨‹ä¸Šè¢«è°ƒç”¨ã€‚å¦åˆ™ï¼Œ</span>
    <span class="hljs-comment">// å®ƒåº”è¯¥å‡ ä¹æ€»æ˜¯åœ¨ JS çº¿ç¨‹ä¸Šè¢«è°ƒç”¨ã€‚</span>
    <span class="hljs-keyword">for</span> (UIManagerListener listener : mListeners) {
      listener.didScheduleMountItems(<span class="hljs-built_in">this</span>);
    }

    <span class="hljs-comment">// è°ƒåº¦æ‰§è¡Œ</span>
    <span class="hljs-keyword">if</span> (shouldSchedule) {
      Assertions.assertNotNull(mountItem, <span class="hljs-string">"MountItem is null"</span>);
      <span class="hljs-comment">// å°† MountItem æ·»åŠ åˆ°åˆ†å‘å™¨é˜Ÿåˆ—</span>
      mMountItemDispatcher.addMountItem(mountItem);
      <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯UIçº¿ç¨‹ï¼Œå¦‚æœæ˜¯UIçº¿ç¨‹åˆ™ç«‹å³æ‰§è¡Œï¼Œå®ç°ä½å»¶è¿Ÿæ¸²æŸ“</span>
      <span class="hljs-keyword">if</span> (UiThreadUtil.isOnUiThread()) {
        <span class="hljs-type">Runnable</span> <span class="hljs-variable">runnable</span> <span class="hljs-operator">=</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">GuardedRunnable</span>(mReactApplicationContext) {
              <span class="hljs-meta">@Override</span>
              <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">runGuarded</span><span class="hljs-params">()</span> {
                mMountItemDispatcher.tryDispatchMountItems();
              }
            };
        runnable.run();
      }
    }

    <span class="hljs-comment">// åœ¨é”å¤–å’ŒåŒæ­¥æŒ‚è½½å®Œæˆæ‰§è¡Œåå‘å¸ƒæ ‡è®°</span>
    <span class="hljs-keyword">if</span> (isBatchMountItem) {
      <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>
    }
  }
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ­¤æ–¹æ³•æ˜¯ç”±C++å±‚è°ƒç”¨ï¼Œåœ¨å…¶ä¸­å®ç°äº†åŒè·¯å¾„æ‰§è¡Œæ¸²æŸ“ç­–ç•¥ã€‚å½“å‰å¦‚æœåœ¨UIçº¿ç¨‹è°ƒç”¨ï¼Œåˆ™ä¼šç«‹å³æ‰§è¡Œæ¸²æŸ“ã€‚åä¹‹ï¼Œåªæ˜¯é€šè¿‡<code>mMountItemDispatcher.addMountItem(mountItem)</code>å°†Â MountItem æ·»åŠ åˆ°é˜Ÿåˆ—ï¼Œç­‰å¾…å¸§å›è°ƒå¤„ç†ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-comment">// MountItemDispatcher.kt</span>

  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addMountItem</span><span class="hljs-params">(mountItem: <span class="hljs-type">MountItem</span>)</span></span> {
    mountItems.add(mountItem)
  }
</code></pre>
<h4 data-id="heading-8">C++ å±‚</h4>
<p>ç°åœ¨æ¥ç ”ç©¶ä¸€ä¸‹C++å±‚è§¦å‘<code>scheduleMountItem</code>çš„æµç¨‹ï¼Œæºç <code>react-native/packages/react-native/ReactCommon/react/renderer/uimanager/UIManagerBinding.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">jsi::Value <span class="hljs-title">UIManagerBinding::get</span><span class="hljs-params">(
    jsi::Runtime&amp; runtime,
    <span class="hljs-type">const</span> jsi::PropNameID&amp; name)</span> </span>{
  <span class="hljs-keyword">auto</span> methodName = name.<span class="hljs-built_in">utf8</span>(runtime);

  UIManager* uiManager = uiManager_.<span class="hljs-built_in">get</span>();
  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>

  <span class="hljs-keyword">if</span> (methodName == <span class="hljs-string">"completeRoot"</span>) {
    <span class="hljs-keyword">auto</span> paramCount = <span class="hljs-number">2</span>;
    <span class="hljs-keyword">return</span> jsi::Function::<span class="hljs-built_in">createFromHostFunction</span>(
        runtime,
        name,
        paramCount,
        [uiManager, methodName, paramCount](
            jsi::Runtime&amp; runtime,
            <span class="hljs-type">const</span> jsi::Value&amp; <span class="hljs-comment">/*thisValue*/</span>,
            <span class="hljs-type">const</span> jsi::Value* arguments,
            <span class="hljs-type">size_t</span> count) -&gt; jsi::Value {
          <span class="hljs-built_in">validateArgumentCount</span>(runtime, methodName, paramCount, count);

          <span class="hljs-keyword">auto</span> runtimeSchedulerBinding =
              RuntimeSchedulerBinding::<span class="hljs-built_in">getBinding</span>(runtime);
          <span class="hljs-keyword">auto</span> surfaceId = <span class="hljs-built_in">surfaceIdFromValue</span>(runtime, arguments[<span class="hljs-number">0</span>]);

          <span class="hljs-keyword">auto</span> shadowNodeList = <span class="hljs-built_in">shadowNodeListFromValue</span>(runtime, arguments[<span class="hljs-number">1</span>]);
          uiManager-&gt;<span class="hljs-built_in">completeSurface</span>(
              surfaceId,
              shadowNodeList,
              {.enableStateReconciliation = <span class="hljs-literal">true</span>,
               .mountSynchronously = <span class="hljs-literal">false</span>,
               .source = ShadowTree::CommitSource::React});

          <span class="hljs-keyword">return</span> jsi::Value::<span class="hljs-built_in">undefined</span>();
        });
  }
  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ......</span>

  <span class="hljs-keyword">return</span> jsi::Value::<span class="hljs-built_in">undefined</span>();
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>completeSurface</code>æ–¹æ³•å®ç°ï¼Œæºç <code>react-native/packages/react-native/ReactCommon/react/renderer/uimanager/UIManager.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">UIManager::completeSurface</span><span class="hljs-params">(
    SurfaceId surfaceId,
    <span class="hljs-type">const</span> ShadowNode::UnsharedListOfShared&amp; rootChildren,
    ShadowTree::CommitOptions commitOptions)</span> </span>{
  <span class="hljs-function">TraceSection <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-string">"UIManager::completeSurface"</span>, <span class="hljs-string">"surfaceId"</span>, surfaceId)</span></span>;

  shadowTreeRegistry_.<span class="hljs-built_in">visit</span>(surfaceId, [&amp;](<span class="hljs-type">const</span> ShadowTree&amp; shadowTree) {
    <span class="hljs-keyword">auto</span> result = shadowTree.<span class="hljs-built_in">commit</span>(
        [&amp;](<span class="hljs-type">const</span> RootShadowNode&amp; oldRootShadowNode) {
          <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_shared</span>&lt;RootShadowNode&gt;(
              oldRootShadowNode,
              ShadowNodeFragment{
                  .props = ShadowNodeFragment::<span class="hljs-built_in">propsPlaceholder</span>(),
                  .children = rootChildren,
              });
        },
        commitOptions);

    <span class="hljs-keyword">if</span> (result == ShadowTree::CommitStatus::Succeeded) {
      <span class="hljs-comment">// It's safe to update the visible revision of the shadow tree immediately</span>
      <span class="hljs-comment">// after we commit a specific one.</span>
      lazyShadowTreeRevisionConsistencyManager_-&gt;<span class="hljs-built_in">updateCurrentRevision</span>(
          surfaceId, shadowTree.<span class="hljs-built_in">getCurrentRevision</span>().rootShadowNode);
    }
  });
}
</code></pre>
<p>è¿™é‡Œçš„æ ¸å¿ƒæ˜¯<code>ShadowTree::commit</code>æ–¹æ³•çš„è°ƒç”¨ï¼Œå®å‚æ˜¯ä¸ªé—­åŒ…ã€‚å®ƒä¸»è¦ç”¨äºè®¡ç®— Diffï¼Œç”Ÿæˆ MountingTransactionã€‚ç»§ç»­è·Ÿè¸ªæºç <code>react-native/packages/react-native/ReactCommon/react/renderer/mounting/ShadowTree.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">CommitStatus <span class="hljs-title">ShadowTree::commit</span><span class="hljs-params">(
    <span class="hljs-type">const</span> ShadowTreeCommitTransaction&amp; transaction,
    <span class="hljs-type">const</span> CommitOptions&amp; commitOptions)</span> <span class="hljs-type">const</span> </span>{
  [[maybe_unused]] <span class="hljs-type">int</span> attempts = <span class="hljs-number">0</span>;

  <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags::<span class="hljs-built_in">preventShadowTreeCommitExhaustion</span>()) {
    <span class="hljs-keyword">while</span> (attempts &lt; MAX_COMMIT_ATTEMPTS_BEFORE_LOCKING) {
      <span class="hljs-keyword">auto</span> status = <span class="hljs-built_in">tryCommit</span>(transaction, commitOptions);
      <span class="hljs-keyword">if</span> (status != CommitStatus::Failed) {
        <span class="hljs-keyword">return</span> status;
      }
      attempts++;
    }

    {
      <span class="hljs-function">std::unique_lock <span class="hljs-title">lock</span><span class="hljs-params">(commitMutexRecursive_)</span></span>;
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">tryCommit</span>(transaction, commitOptions);
    }
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// å¾ªç¯å°è¯•æäº¤ï¼Œç›´åˆ°æˆåŠŸæˆ–è¾¾åˆ°æœ€å¤§å°è¯•æ¬¡æ•°</span>
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
      attempts++;

      <span class="hljs-keyword">auto</span> status = <span class="hljs-built_in">tryCommit</span>(transaction, commitOptions);
      <span class="hljs-keyword">if</span> (status != CommitStatus::Failed) {
        <span class="hljs-keyword">return</span> status;
      }

      <span class="hljs-comment">// After multiple attempts, we failed to commit the transaction.</span>
      <span class="hljs-comment">// Something internally went terribly wrong.</span>
      <span class="hljs-built_in">react_native_assert</span>(attempts &lt; <span class="hljs-number">1024</span>);
    }
  }
}

<span class="hljs-function">CommitStatus <span class="hljs-title">ShadowTree::tryCommit</span><span class="hljs-params">(
    <span class="hljs-type">const</span> ShadowTreeCommitTransaction&amp; transaction,
    <span class="hljs-type">const</span> CommitOptions&amp; commitOptions)</span> <span class="hljs-type">const</span> </span>{
  <span class="hljs-function">TraceSection <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-string">"ShadowTree::commit"</span>)</span></span>;

  <span class="hljs-keyword">auto</span> telemetry = TransactionTelemetry{};
  telemetry.<span class="hljs-built_in">willCommit</span>();

  CommitMode commitMode;
  <span class="hljs-keyword">auto</span> oldRevision = ShadowTreeRevision{};
  <span class="hljs-keyword">auto</span> newRevision = ShadowTreeRevision{};

  {
    <span class="hljs-comment">// Reading `currentRevision_` in shared manner.</span>
    SharedLock lock = <span class="hljs-built_in">sharedCommitLock</span>();
    commitMode = commitMode_;
    oldRevision = currentRevision_;
  }

  <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; oldRootShadowNode = oldRevision.rootShadowNode;

  <span class="hljs-comment">// 1. æ‰§è¡Œ transactionï¼Œç”Ÿæˆæ–°çš„ RootShadowNode</span>
  <span class="hljs-keyword">auto</span> newRootShadowNode = <span class="hljs-built_in">transaction</span>(*oldRevision.rootShadowNode);

  <span class="hljs-keyword">if</span> (!newRootShadowNode) {
    <span class="hljs-keyword">return</span> CommitStatus::Cancelled;
  }

  <span class="hljs-comment">// 2. çŠ¶æ€åè°ƒï¼ˆState Reconciliationï¼‰</span>
  <span class="hljs-keyword">if</span> (commitOptions.enableStateReconciliation) {
    <span class="hljs-keyword">auto</span> updatedNewRootShadowNode =
        <span class="hljs-built_in">progressState</span>(*newRootShadowNode, *oldRootShadowNode);
    <span class="hljs-keyword">if</span> (updatedNewRootShadowNode) {
      newRootShadowNode =
          std::<span class="hljs-built_in">static_pointer_cast</span>&lt;RootShadowNode&gt;(updatedNewRootShadowNode);
    }
  }

  <span class="hljs-comment">// 3. è°ƒç”¨ delegate çš„ shadowTreeWillCommit hook</span>
  newRootShadowNode = delegate_.<span class="hljs-built_in">shadowTreeWillCommit</span>(
      *<span class="hljs-keyword">this</span>, oldRootShadowNode, newRootShadowNode, commitOptions);

  <span class="hljs-keyword">if</span> (!newRootShadowNode) {
    <span class="hljs-keyword">return</span> CommitStatus::Cancelled;
  }

  <span class="hljs-comment">// Layout nodes.</span>
  std::vector&lt;<span class="hljs-type">const</span> LayoutableShadowNode*&gt; affectedLayoutableNodes{};
  affectedLayoutableNodes.<span class="hljs-built_in">reserve</span>(<span class="hljs-number">1024</span>);

  telemetry.<span class="hljs-built_in">willLayout</span>();
  telemetry.<span class="hljs-built_in">setAsThreadLocal</span>();

  <span class="hljs-comment">// 4. å¸ƒå±€è®¡ç®—</span>
  newRootShadowNode-&gt;<span class="hljs-built_in">layoutIfNeeded</span>(&amp;affectedLayoutableNodes);
  telemetry.<span class="hljs-built_in">unsetAsThreadLocal</span>();
  telemetry.<span class="hljs-built_in">didLayout</span>(<span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(affectedLayoutableNodes.<span class="hljs-built_in">size</span>()));

  {
    <span class="hljs-comment">// Updating `currentRevision_` in unique manner if it hasn't changed.</span>
    UniqueLock lock = <span class="hljs-built_in">uniqueCommitLock</span>();

    <span class="hljs-keyword">if</span> (currentRevision_.number != oldRevision.number) {
      <span class="hljs-keyword">return</span> CommitStatus::Failed;
    }

    <span class="hljs-keyword">auto</span> newRevisionNumber = currentRevision_.number + <span class="hljs-number">1</span>;

    {
      <span class="hljs-function">std::scoped_lock <span class="hljs-title">dispatchLock</span><span class="hljs-params">(EventEmitter::DispatchMutex())</span></span>;
      <span class="hljs-built_in">updateMountedFlag</span>(
          currentRevision_.rootShadowNode-&gt;<span class="hljs-built_in">getChildren</span>(),
          newRootShadowNode-&gt;<span class="hljs-built_in">getChildren</span>(),
          commitOptions.source);
    }

    telemetry.<span class="hljs-built_in">didCommit</span>();
    telemetry.<span class="hljs-built_in">setRevisionNumber</span>(<span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(newRevisionNumber));

    <span class="hljs-comment">// Seal the shadow node so it can no longer be mutated</span>
    <span class="hljs-comment">// Does nothing in release.</span>
    newRootShadowNode-&gt;<span class="hljs-built_in">sealRecursive</span>();

    newRevision = ShadowTreeRevision{
        .rootShadowNode = std::<span class="hljs-built_in">move</span>(newRootShadowNode),
        .number = newRevisionNumber,
        .telemetry = telemetry};
    <span class="hljs-comment">// 5. æ›´æ–° currentRevision_</span>
    currentRevision_ = newRevision;
  }

  <span class="hljs-comment">// 6. å‘é€å¸ƒå±€äº‹ä»¶</span>
  <span class="hljs-built_in">emitLayoutEvents</span>(affectedLayoutableNodes);

  <span class="hljs-comment">// 7. å…³é”®ï¼šå¦‚æœ commitMode æ˜¯ Normalï¼Œè°ƒç”¨ mount</span>
  <span class="hljs-keyword">if</span> (commitMode == CommitMode::Normal) {
    <span class="hljs-built_in">mount</span>(std::<span class="hljs-built_in">move</span>(newRevision), commitOptions.mountSynchronously);
  }

  <span class="hljs-keyword">return</span> CommitStatus::Succeeded;
}


<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ShadowTree::mount</span><span class="hljs-params">(ShadowTreeRevision revision, <span class="hljs-type">bool</span> mountSynchronously)</span>
    <span class="hljs-type">const</span> </span>{
  <span class="hljs-comment">// 1. å°†æ–°çš„ revision æ¨é€åˆ° MountingCoordinator</span>
  mountingCoordinator_-&gt;<span class="hljs-built_in">push</span>(std::<span class="hljs-built_in">move</span>(revision));
  <span class="hljs-comment">// 2. è°ƒç”¨ delegate çš„ shadowTreeDidFinishTransaction</span>
  delegate_.<span class="hljs-built_in">shadowTreeDidFinishTransaction</span>(
      mountingCoordinator_, mountSynchronously);
}
</code></pre>
<p>æ³¨æ„ï¼Œ<strong>ShadowTreeRevision</strong>Â è¡¨ç¤º Shadow Tree çš„ä¸€ä¸ªå·²æäº¤å¿«ç…§ï¼ˆç‰ˆæœ¬ï¼‰ã€‚ç”±ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼š</p>
<ul>
<li>
<p><code>rootShadowNode</code>ï¼šæ•´ä¸ª Shadow Tree çš„æ ¹èŠ‚ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„æ ‘ç»“æ„å’Œæ‰€æœ‰å­èŠ‚ç‚¹</p>
</li>
<li>
<p><code>number</code>ï¼šç‰ˆæœ¬å·ï¼Œä»Â 0ï¼ˆINITIAL_REVISIONï¼‰å¼€å§‹é€’å¢ï¼Œæ¯æ¬¡ commit åˆ›å»ºæ–° revision æ—¶é€’å¢ã€‚ä¸»è¦ç”¨äºæ£€æµ‹å¹¶å‘å†²çªå’Œç‰ˆæœ¬è¿½è¸ª</p>
</li>
<li>
<p><code>telemetry</code>ï¼šæ€§èƒ½æ•°æ®ï¼ˆcommit æ—¶é—´ã€layout æ—¶é—´ã€å½±å“çš„èŠ‚ç‚¹æ•°ç­‰</p>
</li>
</ul>
<p><strong>MountingCoordinator</strong>Â ä½¿ç”¨ revision æ¥è®¡ç®—æ–°æ—§æ ‘ä¹‹é—´çš„å·®å¼‚ï¼Œç”Ÿæˆéœ€è¦æ‰§è¡Œçš„è§†å›¾æ“ä½œã€‚</p>
<p>ç»§ç»­è·Ÿè¸ª<code>shadowTreeDidFinishTransaction</code>çš„å®ç°ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// UIManager.cpp</span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">UIManager::shadowTreeDidFinishTransaction</span><span class="hljs-params">(
    std::shared_ptr&lt;<span class="hljs-type">const</span> MountingCoordinator&gt; mountingCoordinator,
    <span class="hljs-type">bool</span> mountSynchronously)</span> <span class="hljs-type">const</span> </span>{
  <span class="hljs-function">TraceSection <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-string">"UIManager::shadowTreeDidFinishTransaction"</span>)</span></span>;

  <span class="hljs-keyword">if</span> (delegate_ != <span class="hljs-literal">nullptr</span>) {
    delegate_-&gt;<span class="hljs-built_in">uiManagerDidFinishTransaction</span>(
        std::<span class="hljs-built_in">move</span>(mountingCoordinator), mountSynchronously);
  }
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>uiManagerDidFinishTransaction</code>å®ç°ï¼Œæºç <code>react-native/packages/react-native/ReactCommon/react/renderer/scheduler/Scheduler.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Scheduler::uiManagerDidFinishTransaction</span><span class="hljs-params">(
    std::shared_ptr&lt;<span class="hljs-type">const</span> MountingCoordinator&gt; mountingCoordinator,
    <span class="hljs-type">bool</span> mountSynchronously)</span> </span>{
  <span class="hljs-function">TraceSection <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-string">"Scheduler::uiManagerDidFinishTransaction"</span>)</span></span>;

  <span class="hljs-keyword">if</span> (delegate_ != <span class="hljs-literal">nullptr</span>) {
    <span class="hljs-comment">// é™¤äº† Android å¹³å°ä¹‹å¤–ï¼Œæ­¤æ“ä½œåœ¨æ‰€æœ‰å¹³å°ä¸Šå‡æ— æ•ˆï¼Œ</span>
    <span class="hljs-comment">// å› ä¸ºåœ¨ Android å¹³å°ä¸Šæˆ‘ä»¬éœ€è¦è§‚å¯Ÿæ¯ä¸ªäº‹åŠ¡æ‰èƒ½æ­£ç¡®åœ°è¿›è¡ŒæŒ‚è½½ã€‚</span>
    delegate_-&gt;<span class="hljs-built_in">schedulerDidFinishTransaction</span>(mountingCoordinator);

    <span class="hljs-keyword">if</span> (!mountSynchronously) {
      <span class="hljs-keyword">auto</span> surfaceId = mountingCoordinator-&gt;<span class="hljs-built_in">getSurfaceId</span>();

      runtimeScheduler_-&gt;<span class="hljs-built_in">scheduleRenderingUpdate</span>(
          surfaceId,
          [delegate = delegate_,
           mountingCoordinator = std::<span class="hljs-built_in">move</span>(mountingCoordinator)]() {
            delegate-&gt;<span class="hljs-built_in">schedulerShouldRenderTransactions</span>(mountingCoordinator);
          });
    } <span class="hljs-keyword">else</span> {
      delegate_-&gt;<span class="hljs-built_in">schedulerShouldRenderTransactions</span>(mountingCoordinator);
    }
  }
}
</code></pre>
<p>ç»§ç»­è·Ÿè¸ª<code>schedulerShouldRenderTransactions</code>å®ç°ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// FabricUIManagerBinding.cpp</span>


<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">FabricUIManagerBinding::schedulerShouldRenderTransactions</span><span class="hljs-params">(
    <span class="hljs-type">const</span> std::shared_ptr&lt;<span class="hljs-type">const</span> MountingCoordinator&gt;&amp; mountingCoordinator)</span> </span>{
  <span class="hljs-keyword">auto</span> mountingManager =
      <span class="hljs-built_in">getMountingManager</span>(<span class="hljs-string">"schedulerShouldRenderTransactions"</span>);
  <span class="hljs-keyword">if</span> (!mountingManager) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">if</span> (ReactNativeFeatureFlags::<span class="hljs-built_in">enableAccumulatedUpdatesInRawPropsAndroid</span>()) {
    <span class="hljs-keyword">auto</span> mountingTransaction = mountingCoordinator-&gt;<span class="hljs-built_in">pullTransaction</span>(
        <span class="hljs-comment">/* willPerformAsynchronously = */</span> <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">if</span> (mountingTransaction.<span class="hljs-built_in">has_value</span>()) {
      <span class="hljs-keyword">auto</span> transaction = std::<span class="hljs-built_in">move</span>(*mountingTransaction);
      mountingManager-&gt;<span class="hljs-built_in">executeMount</span>(transaction);
    }
  } <span class="hljs-keyword">else</span> {
    std::vector&lt;MountingTransaction&gt; pendingTransactions;

    {
      <span class="hljs-comment">// ä¿ç•™é”ä»¥è®¿é—®å¾…å¤„ç†äº‹åŠ¡ï¼Œä½†ä¸è¦æ‰§è¡ŒæŒ‚è½½æ“ä½œï¼Œå› ä¸ºè¯¥æ–¹æ³•å¯èƒ½ä¼šå†æ¬¡è°ƒç”¨æ­¤æ–¹æ³•ã€‚</span>
      <span class="hljs-comment">//</span>
      <span class="hljs-comment">// å½“æŒ‚è½½ç®¡ç†å™¨åŒæ­¥è§¦å‘çŠ¶æ€æ›´æ–°æ—¶ï¼ˆä¾‹å¦‚ä» UI çº¿ç¨‹æäº¤æ—¶ï¼‰ï¼Œæ­¤æ–¹æ³•å¯èƒ½ä¼šè¢«é‡å…¥è°ƒç”¨ã€‚</span>
      <span class="hljs-comment">// è¿™æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å°†åŒä¸€surface ID çš„æ‰€æœ‰äº‹åŠ¡åˆå¹¶åˆ°å¾…å¤„ç†äº‹åŠ¡åˆ—è¡¨ä¸­çš„å•ä¸ªäº‹åŠ¡ä¸­ï¼Œ</span>
      <span class="hljs-comment">// å› æ­¤æ“ä½œä¸ä¼šä¹±åºæ‰§è¡Œã€‚</span>
      <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(pendingTransactionsMutex_)</span></span>;
      pendingTransactions_.<span class="hljs-built_in">swap</span>(pendingTransactions);
    }

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; transaction : pendingTransactions) {
      mountingManager-&gt;<span class="hljs-built_in">executeMount</span>(transaction);
    }
  }
}
</code></pre>
<p>åˆ°è¿™é‡Œï¼Œæœ€é‡è¦çš„æ–¹æ³•æ˜¯<code>executeMount</code>ã€‚è¯¥æ–¹æ³•è´Ÿè´£å°†Â C++ å±‚çš„ Shadow Tree å˜æ›´ï¼ˆMountingTransactionï¼‰è½¬æ¢ä¸º Java å±‚çš„è§†å›¾æ“ä½œæŒ‡ä»¤ï¼Œå¹¶è°ƒåº¦åˆ° UI çº¿ç¨‹æ‰§è¡Œã€‚</p>
<p>å…·ä½“è¯´ï¼Œå°±æ˜¯å°†Â C++ çš„Â ShadowViewMutationÂ è½¬æ¢ä¸º Java çš„Â MountItemï¼Œå¹¶åºåˆ—åŒ–ä¼ é€’ç»™ Java å±‚ã€‚è¯¥æ–¹æ³•çš„å®ç°éå¸¸é•¿ï¼Œè¿™é‡Œä»…æ‘˜è¦ä¸€éƒ¨åˆ†ã€‚æºç <code>react-native/packages/react-native/ReactAndroid/src/main/jni/react/fabric/FabricMountingManager.cpp</code>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">FabricMountingManager::executeMount</span><span class="hljs-params">(
    <span class="hljs-type">const</span> MountingTransaction&amp; transaction)</span> </span>{
   <span class="hljs-comment">// çœç•¥......</span>

    <span class="hljs-comment">// éå† mutationsï¼Œå°† ShadowViewMutationï¼ˆCreate/Delete/Insert/Remove/Updateï¼‰è½¬æ¢ä¸º CppMountItem</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; mutation : mutations) {
      <span class="hljs-keyword">auto</span> parentTag = mutation.parentTag;
      <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; oldChildShadowView = mutation.oldChildShadowView;
      <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; newChildShadowView = mutation.newChildShadowView;
      <span class="hljs-keyword">auto</span>&amp; mutationType = mutation.type;
      <span class="hljs-keyword">auto</span>&amp; index = mutation.index;

      <span class="hljs-type">bool</span> isVirtual = mutation.<span class="hljs-built_in">mutatedViewIsVirtual</span>();
      <span class="hljs-keyword">switch</span> (mutationType) {
        <span class="hljs-keyword">case</span> ShadowViewMutation::Create: {
          <span class="hljs-type">bool</span> shouldCreateView =
              !allocatedViewTags.<span class="hljs-built_in">contains</span>(newChildShadowView.tag);

          <span class="hljs-keyword">if</span> (shouldCreateView) {
            cppCommonMountItems.<span class="hljs-built_in">push_back</span>(
                CppMountItem::<span class="hljs-built_in">CreateMountItem</span>(newChildShadowView));
            allocatedViewTags.<span class="hljs-built_in">insert</span>(newChildShadowView.tag);
          }
          <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">case</span> ShadowViewMutation::Remove: {
          <span class="hljs-keyword">if</span> (!isVirtual) {
            cppCommonMountItems.<span class="hljs-built_in">push_back</span>(
                CppMountItem::<span class="hljs-built_in">RemoveMountItem</span>(
                    parentTag, oldChildShadowView, index));
          }
          <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">case</span> ShadowViewMutation::Delete: {
          (maintainMutationOrder ? cppCommonMountItems : cppDeleteMountItems)
              .<span class="hljs-built_in">push_back</span>(CppMountItem::<span class="hljs-built_in">DeleteMountItem</span>(oldChildShadowView));
          <span class="hljs-keyword">if</span> (allocatedViewTags.<span class="hljs-built_in">erase</span>(oldChildShadowView.tag) != <span class="hljs-number">1</span>) {
            <span class="hljs-built_in">LOG</span>(ERROR) &lt;&lt; <span class="hljs-string">"Emitting delete for unallocated view "</span>
                       &lt;&lt; oldChildShadowView.tag;
          }
          <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-comment">// çœç•¥ä»£ç ......</span>

        <span class="hljs-keyword">default</span>: {
          <span class="hljs-keyword">break</span>;
        }
      }
    }
  }

  <span class="hljs-comment">// ç°åœ¨æˆ‘ä»¬å·²ç»æŒæ¡äº†æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æŒ‚è½½é¡¹çš„é¡ºåºï¼Œå› æ­¤å¯ä»¥å‡†ç¡®åœ°çŸ¥é“éœ€è¦åˆ†é…å¤šå°‘ç©ºé—´ã€‚</span>
  <span class="hljs-keyword">auto</span> [batchMountItemIntsSize, batchMountItemObjectsSize] = <span class="hljs-built_in">computeBufferSizes</span>(
      cppCommonMountItems,
      cppDeleteMountItems,
      cppUpdatePropsMountItems,
      cppUpdateStateMountItems,
      cppUpdatePaddingMountItems,
      cppUpdateLayoutMountItems,
      cppUpdateOverflowInsetMountItems,
      cppUpdateEventEmitterMountItems);

  <span class="hljs-type">static</span> <span class="hljs-keyword">auto</span> scheduleMountItem = JFabricUIManager::<span class="hljs-built_in">javaClassStatic</span>()
                                      -&gt;<span class="hljs-built_in">getMethod</span>&lt;<span class="hljs-built_in">void</span>(
                                          JMountItem::javaobject,
                                          jint,
                                          jlong,
                                          jlong,
                                          jlong,
                                          jlong,
                                          jlong,
                                          jlong,
                                          jlong,
                                          jint)&gt;(<span class="hljs-string">"scheduleMountItem"</span>);

  <span class="hljs-comment">// çœç•¥</span>

  <span class="hljs-comment">// è°ƒç”¨ JFabricUIManager.createIntBufferBatchMountItem() åˆ›å»º Java å¯¹è±¡</span>
  <span class="hljs-comment">// å°†åºåˆ—åŒ–æ•°æ®ä¼ é€’ç»™ Java å±‚</span>
  <span class="hljs-type">static</span> <span class="hljs-keyword">auto</span> createMountItemsIntBufferBatchContainer =
      JFabricUIManager::<span class="hljs-built_in">javaClassStatic</span>()
          -&gt;getMethod&lt;jni::<span class="hljs-built_in">alias_ref</span>&lt;JMountItem&gt;(
              jint, jintArray, jni::jtypeArray&lt;jobject&gt;, jint)&gt;(
              <span class="hljs-string">"createIntBufferBatchMountItem"</span>);
  <span class="hljs-keyword">auto</span> batch = <span class="hljs-built_in">createMountItemsIntBufferBatchContainer</span>(
      javaUIManager_,
      surfaceId,
      <span class="hljs-comment">// If there are no items, we pass a nullptr instead of passing the</span>
      <span class="hljs-comment">// object through the JNI</span>
      batchMountItemIntsSize &gt; <span class="hljs-number">0</span> ? buffer.ints : <span class="hljs-literal">nullptr</span>,
      batchMountItemObjectsSize &gt; <span class="hljs-number">0</span> ? buffer.objects.<span class="hljs-built_in">get</span>() : <span class="hljs-literal">nullptr</span>,
      revisionNumber);

  <span class="hljs-keyword">auto</span> finishTransactionEndTime = <span class="hljs-built_in">telemetryTimePointNow</span>();

  <span class="hljs-comment">// è°ƒåº¦åˆ° UI çº¿ç¨‹ï¼Œå°† BatchMountItem å‘é€åˆ° Java å±‚</span>
  <span class="hljs-built_in">scheduleMountItem</span>(
      javaUIManager_,
      batch.<span class="hljs-built_in">get</span>(),
      telemetry.<span class="hljs-built_in">getRevisionNumber</span>(),
      <span class="hljs-built_in">telemetryTimePointToMilliseconds</span>(telemetry.<span class="hljs-built_in">getCommitStartTime</span>()),
      <span class="hljs-built_in">telemetryTimePointToMilliseconds</span>(telemetry.<span class="hljs-built_in">getDiffStartTime</span>()),
      <span class="hljs-built_in">telemetryTimePointToMilliseconds</span>(telemetry.<span class="hljs-built_in">getDiffEndTime</span>()),
      <span class="hljs-built_in">telemetryTimePointToMilliseconds</span>(telemetry.<span class="hljs-built_in">getLayoutStartTime</span>()),
      <span class="hljs-built_in">telemetryTimePointToMilliseconds</span>(telemetry.<span class="hljs-built_in">getLayoutEndTime</span>()),
      <span class="hljs-built_in">telemetryTimePointToMilliseconds</span>(finishTransactionStartTime),
      <span class="hljs-built_in">telemetryTimePointToMilliseconds</span>(finishTransactionEndTime),
      telemetry.<span class="hljs-built_in">getAffectedLayoutNodesCount</span>());

  env-&gt;<span class="hljs-built_in">DeleteLocalRef</span>(buffer.ints);
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ­¤æ–¹æ³•ä¸­åå°„è°ƒç”¨äº†ä¸Šå±‚çš„<code>scheduleMountItem</code>ï¼Œä¸æˆ‘ä»¬å‰é¢åˆ†æçš„ç»“æœå¯¹æ¥ä¸Šäº†ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œè¯¥æ–¹æ³•å……å½“ C++ Shadow Tree ä¸ Java åŸç”Ÿè§†å›¾ä¹‹é—´çš„æ¡¥æ¢ï¼Œå°† React çš„å£°æ˜å¼å˜æ›´è½¬æ¢ä¸º Android è§†å›¾æ“ä½œæŒ‡ä»¤ï¼Œå¹¶è°ƒåº¦åˆ° UI çº¿ç¨‹æ‰§è¡Œï¼Œå®ç°ä»è™šæ‹Ÿæ ‘åˆ°çœŸå®è§†å›¾çš„æ˜ å°„ã€‚</p>
<blockquote>
<p>ç”±äºå•ç« å­—æ•°é™åˆ¶ï¼Œè¿™é‡Œå°†æœ¬æ–‡æ‹†æˆä¸Šä¸‹ä¸¤ç¯‡ï¼Œä¸‹ç¯‡<a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">ã€ŠReact Nativeä¹‹Androidç«¯Fabric æ¶æ„æºç åˆ†æï¼ˆä¸‹ï¼‰ã€‹</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ1ï¼‰--- æ ¸å¿ƒç†å¿µ]]></title>    <link>https://juejin.cn/post/7596904122865336371</link>    <guid>https://juejin.cn/post/7596904122865336371</guid>    <pubDate>2026-01-19T13:13:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596904122865336371" data-draft-id="7595890117865898030" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ1ï¼‰--- æ ¸å¿ƒç†å¿µ"/> <meta itemprop="keywords" content="ç®—æ³•,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-19T13:13:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç½—è¥¿çš„æ€è€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/351470467691175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ1ï¼‰--- æ ¸å¿ƒç†å¿µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/351470467691175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç½—è¥¿çš„æ€è€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T13:13:51.000Z" title="Mon Jan 19 2026 13:13:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ1ï¼‰--- æ ¸å¿ƒç†å¿µ</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x00 æ‘˜è¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x01 èƒŒæ™¯</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.1 ä»€ä¹ˆæ˜¯Agent</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.2 Agentå·¥ç¨‹çš„é‡è¦æ€§</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.3 æ¶æ„æ‰æ˜¯ç«äº‰ä¼˜åŠ¿</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x02 AI Agent ç³»ç»Ÿ</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.1 æ¶æ„è®¾è®¡çš„éš¾ç‚¹</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.2 æ ¸å¿ƒç»„ä»¶</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.3 Devin &amp; OpenHandsï¼ˆåŸOpenDevinï¼‰</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x03 OpenHands æ¶æ„æ¦‚å¿µå›¾è°±</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.1 ç³»ç»Ÿæ¶æ„</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.2 ä»£ç åº“ç›®å½•ç»“æ„</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.3 æ ¸å¿ƒç»„ä»¶</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0xFF å‚è€ƒ</a></p>
</li>
</ul>
<p>è‡ªæœ¬æ–‡èµ·ï¼Œæˆ‘ä»¬å°†å¼€å¯ä¸€ä¸ªæ–°çš„ç³»åˆ—ï¼Œä»¥OpenHandsï¼ˆåŸ OpenDevinï¼‰ä¸ºä¾‹ï¼Œæ·±å…¥å‰–æAgentæ¡†æ¶ã€‚</p>
<p>å†™è¿™ä¸ªç³»åˆ—çš„åŸå› ï¼Œæ˜¯å› ä¸ºå’Œå‡ ä¸ªåŒå­¦è®¨è®ºAgentç³»ç»Ÿï¼Œä½†æ˜¯æ€»è§‰å¾—è‡ªå·±è®²å¾—æµ®äºè¡¨é¢ï¼Œå…„å¼Ÿä»¬å¥½åƒä¹Ÿæ²¡æœ‰å¾ˆç†è§£ã€‚å› æ­¤å†³å®šå†ç³»ç»Ÿæ¢³ç†ä¸€ä¸‹ã€‚</p>
<p>å› ä¸ºæœ¬ç³»åˆ—å€Ÿé‰´çš„æ–‡ç« è¿‡å¤šï¼Œå¯èƒ½åœ¨å‚è€ƒæ–‡çŒ®ä¸­æœ‰é—æ¼çš„æ–‡ç« ï¼Œå¦‚æœæœ‰ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚</p>
<h3 data-id="heading-1">0x00 æ‘˜è¦</h3>
<p>æŒæ¡Agentçš„åº•å±‚é€»è¾‘ï¼Œä¸ä»…æ˜¯ç†Ÿç»ƒä½¿ç”¨çš„åŸºç¡€ï¼Œæ›´æ˜¯è®¾è®¡ã€è¯„ä¼°å’Œæ‰©å±•çš„å…³é”®ã€‚å¯¹äºäº§å“ç»ç†ã€äººå·¥æ™ºèƒ½å·¥ç¨‹å¸ˆå’ŒæŠ€æœ¯å†³ç­–è€…æ¥è¯´ï¼Œåªæœ‰æ·±å…¥ç†è§£Agentçš„æŠ€æœ¯è“å›¾ï¼Œæ‰èƒ½åœ¨AIåº”ç”¨çš„è½åœ°è¿‡ç¨‹ä¸­åšå‡ºç²¾å‡†å¸ƒå±€ï¼ŒæŠ“ä½æœªæ¥çš„æœºé‡ã€‚æˆ‘ä»¬å¸Œæœ›ä»æŠ€æœ¯åº•å±‚å‡ºå‘ï¼Œæ·±å…¥æ¢è®¨ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š</p>
<ul>
<li>æ„å»ºä¸€ä¸ªå®ç”¨çš„AI Agentéœ€è¦å“ªäº›æ ¸å¿ƒæŠ€æœ¯æ¨¡å—çš„æ”¯æŒï¼Ÿ</li>
<li>è¿™äº›æ ¸å¿ƒæ¨¡å—å¦‚ä½•ååŒå·¥ä½œï¼Œå½¢æˆå®Œæ•´çš„ä»»åŠ¡æ‰§è¡Œé—­ç¯ï¼Ÿ</li>
<li>AI Agentç³»ç»Ÿåœ¨è½åœ°è¿‡ç¨‹ä¸­ä¼šé¢ä¸´å“ªäº›å…³é”®æŒ‘æˆ˜ï¼ŒOpenHandså¦‚ä½•è§£å†³è¿™äº›å·¥ç¨‹åŒ–éš¾é¢˜ï¼Ÿ</li>
</ul>
<p>æˆ‘ä»¬å¸Œæœ›é€šè¿‡è¿™ä¸€åœºæ·±å…¥çš„â€œæ‹†è§£â€ä¹‹æ—…ï¼Œè¶…è¶Šè¡¨å±‚åŠŸèƒ½çš„æ¼”ç¤ºï¼Œç›´æ¥è§¦åŠå…¶æ¶æ„çš„åŸºçŸ³ã€‚</p>
<p>ä¹‹æ‰€ä»¥åˆ†æOpenHandsï¼Œæ˜¯å› ä¸ºOpenHandsï¼ˆå‰èº«ä¸º OpenDevinï¼‰ä½œä¸ºå¼€æºçš„ AI è½¯ä»¶å¼€å‘ä»£ç†æ¡†æ¶ï¼Œåœ¨åŠŸèƒ½ã€æ¶æ„å’Œå…¼å®¹æ€§ç­‰æ–¹é¢å‡å…·å¤‡é²œæ˜ç‰¹è‰²ï¼Œä¸”ä»å…¥é—¨éš¾åº¦ã€å­¦ä¹ ä»·å€¼å’Œå®è·µåœºæ™¯æ¥çœ‹ï¼Œå®ƒååˆ†é€‚åˆç”¨æ¥å­¦ä¹  Agent æ¡†æ¶ã€‚å…·ä½“ç‰¹è‰²å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å…¥é—¨é—¨æ§›ä½ï¼Œä¸Šæ‰‹éš¾åº¦å°</strong>ï¼šæ”¯æŒè‡ªç„¶è¯­è¨€äº¤äº’ï¼Œå¼€å‘è€…æ— éœ€å¤æ‚ç¼–ç å³å¯ä¸‹è¾¾å¼€å‘ä»»åŠ¡ï¼Œé™ä½åˆæœŸå­¦ä¹ æˆæœ¬ã€‚åŒæ—¶æä¾› GUI å’Œ CLI ç­‰å‹å¥½ç•Œé¢ï¼Œè¿˜æœ‰è¯¦å°½çš„å®æˆ˜æ¡ˆä¾‹å’Œæ¸…æ™°çš„æ–‡æ¡£ï¼Œä¾¿äºç†è§£ Agent ä¸å·¥å…·ã€LLM çš„ååŒé€»è¾‘ã€‚ä¸”åŸºäº MIT è®¸å¯å®Œå…¨å¼€æºï¼Œå¯è‡ªç”±æŸ¥çœ‹ Agent è°ƒåº¦ã€ä»»åŠ¡ç¼–æ’ç­‰æ ¸å¿ƒæºç ã€‚</li>
<li><strong>è¦†ç›– Agent æ ¸å¿ƒçŸ¥è¯†ä½“ç³»</strong>ï¼šå­¦ä¹ å®ƒèƒ½æŒæ¡å¤š Agent åä½œã€ä»»åŠ¡æ‹†è§£ã€å·¥å…·è°ƒç”¨ã€æ²™ç›’å®‰å…¨æ§åˆ¶ç­‰ Agent æ¡†æ¶çš„æ ¸å¿ƒæŠ€æœ¯ç‚¹ã€‚å…¶ä¸ç½‘é¡µäº¤äº’ã€API é›†æˆã€ä»£ç å¤„ç†ç­‰å®æˆ˜åœºæ™¯ç»“åˆç´§å¯†ï¼Œèƒ½å¸®åŠ©å­¦ä¹ è€…ç†è§£ Agent åœ¨çœŸå®å¼€å‘æµç¨‹ä¸­çš„è½åœ°é€»è¾‘ã€‚</li>
<li><strong>å…¼å…·å­¦ä¹ ä¸è½åœ°ä»·å€¼</strong>ï¼šæ—¢èƒ½ç”¨äºç®€å•çš„ Agent åŸå‹æ­å»ºï¼Œå¿«é€ŸéªŒè¯æƒ³æ³•ï¼›ä¹Ÿèƒ½æ”¯æ’‘å¤§è§„æ¨¡Agentçš„å¯é éƒ¨ç½²ï¼Œé€‚é…ä»å­¦ä¹ æµ‹è¯•åˆ°ç”Ÿäº§åº”ç”¨çš„å…¨æµç¨‹ã€‚æ­¤å¤–ï¼Œä¸ä¸»æµ Agent SDK ç›¸æ¯”ï¼Œå…¶ç‹¬ç‰¹çš„æ²™ç›’åŒ–ç”Ÿäº§æœåŠ¡å™¨ã€è¿œç¨‹æ‰§è¡Œç­‰ç‰¹æ€§ï¼Œèƒ½è®©å­¦ä¹ è€…æ¥è§¦åˆ°æ›´å…¨é¢çš„ Agent è¿›é˜¶èƒ½åŠ›ï¼Œæå‡æŠ€æœ¯ç«äº‰åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-2">0x01 èƒŒæ™¯</h3>
<p>å½“æˆ‘ä»¬è®¨è®ºAI Agentç³»ç»Ÿçš„æŠ€æœ¯æ—¶ï¼Œéœ€è¦å…ˆç†è§£ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šçœŸæ­£è®©ç³»ç»Ÿæœ‰ç«äº‰åŠ›çš„ï¼Œæ˜¯é‚£äº›ä¸€çœ¼èƒ½çœ‹åˆ°çš„â€œæ™ºèƒ½åŠŸèƒ½â€ï¼Œè¿˜æ˜¯èƒŒåæ”¯æ’‘ä¸€åˆ‡å¹³ç¨³è¿è¡Œçš„â€œå·¥ä½œæµæ¶æ„â€ï¼Ÿè¿™ä¸ªç­”æ¡ˆä¸ä»…å†³å®šäº†è¯¥å…ˆç ”å‘ä»€ä¹ˆï¼Œæ›´å…³ä¹ç³»ç»Ÿèƒ½ä¸èƒ½æ‰“é€ å‡ºåˆ«äººæŠ„ä¸èµ°çš„é•¿æœŸä¼˜åŠ¿ã€‚</p>
<h4 data-id="heading-3">1.1 ä»€ä¹ˆæ˜¯Agent</h4>
<p>Agentçš„å®šä¹‰å…·æœ‰å¤šå…ƒè§†è§’ï¼š</p>
<ul>
<li>æœ‰äººå°†å…¶ç•Œå®šä¸ºå¯é•¿æœŸè‡ªä¸»è¿è¡Œã€å€ŸåŠ©å„ç±»å·¥å…·å®Œæˆå¤æ‚ä»»åŠ¡çš„ç‹¬ç«‹ç³»ç»Ÿï¼›</li>
<li>æœ‰äººè®¤ä¸ºAgentæ˜¯å¯ä»¥åœ¨æœ€å°äººå·¥å¹²é¢„ä¸‹å®Œæˆã€Œæ„ŸçŸ¥ â†’ è§„åˆ’ â†’ è¡ŒåŠ¨ â†’ åé¦ˆã€é—­ç¯çš„Agentï¼Œæ—¢èƒ½è§£æè‡ªç„¶è¯­è¨€ç›®æ ‡ï¼Œåˆèƒ½è°ƒç”¨æœç´¢å¼•æ“ã€æ•°æ®åº“ç­‰å¤–éƒ¨å·¥å…·ã€‚</li>
<li>æœ‰äººåˆ™å°†å…¶ç†è§£ä¸ºéµå¾ªé¢„è®¾å·¥ä½œæµç¨‹çš„è§„èŒƒåŒ–å®ç°æ–¹æ¡ˆã€‚</li>
</ul>
<p>Anthropic å°†è¿™äº›ä¸åŒå½¢æ€çš„ç³»ç»Ÿç»Ÿä¸€å½’ä¸º â€œAgentç³»ç»Ÿï¼ˆagentic systemsï¼‰â€ï¼ŒåŒæ—¶ä»æ¶æ„å±‚é¢æ˜ç¡®åŒºåˆ†äº† â€œå·¥ä½œæµç¨‹ï¼ˆWorkflowsï¼‰â€ ä¸ â€œAgentâ€ è¿™ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚å…·ä½“æ¥çœ‹ï¼š</p>
<ul>
<li>å·¥ä½œæµæ˜¯ç¼–ç â€å¦‚ä½•åšâ€œï¼šå·¥ä½œæµç¨‹ç±»ç³»ç»Ÿå¦‚åŒæŒ‰ç…§å›ºå®šå‰§æœ¬æ¼”å‡ºçš„èˆå°å‰§ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ä¸å„ç±»å·¥å…·çš„åä½œå®Œå…¨éµå¾ªé¢„å…ˆç¼–å†™çš„ä»£ç è·¯å¾„æ¨è¿›ï¼›</li>
<li>Agentæ˜¯ç¼–ç â€åšä»€ä¹ˆâ€œï¼šAgentç³»ç»Ÿåˆ™æ›´åƒæ‹¥æœ‰è‡ªä¸»å†³ç­–èƒ½åŠ›çš„é¡¹ç›®ç»ç†ï¼Œç”±å¤§è¯­è¨€æ¨¡å‹åŠ¨æ€ä¸»å¯¼æµç¨‹èµ°å‘ä¸å·¥å…·è°ƒç”¨ï¼Œå…¨ç¨‹æŒæ§ä»»åŠ¡çš„æ‰§è¡Œæ–¹å¼ã€‚</li>
</ul>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹åœ¨å››å¤§å…³é”®èƒ½åŠ›ä¸Šçš„æ—¥è¶‹æˆç†Ÿ â€”â€” åŒ…æ‹¬å¤æ‚è¾“å…¥ç†è§£ã€é€»è¾‘æ¨ç†ä¸ä»»åŠ¡è§„åˆ’ã€å¯é å·¥å…·è°ƒç”¨ä»¥åŠé”™è¯¯æ¢å¤èƒ½åŠ›ï¼ŒAgentå·²åœ¨ç”Ÿäº§åœºæ™¯ä¸­é€æ­¥è½åœ°åº”ç”¨ã€‚å…¶å·¥ä½œæµç¨‹é€šå¸¸å§‹äºäººç±»ç”¨æˆ·çš„æŒ‡ä»¤æˆ–äº¤äº’å¼æ²Ÿé€šï¼Œå¾…ä»»åŠ¡ç›®æ ‡æ˜ç¡®åï¼Œä¾¿è‡ªä¸»å¼€å±•è§„åˆ’ä¸æ‰§è¡Œæ“ä½œï¼Œè¿‡ç¨‹ä¸­è‹¥éœ€è¡¥å……ä¿¡æ¯æˆ–å¯»æ±‚åˆ¤æ–­ï¼Œä¼šä¸»åŠ¨å‘äººç±»ç”¨æˆ·å‘èµ·è¯·æ±‚ã€‚åœ¨æ¯ä¸€æ­¥æ‰§è¡Œç¯èŠ‚ï¼ŒAgentå¿…é¡»ä»ç¯å¢ƒä¸­è·å– â€œçœŸå®æ•°æ®ï¼ˆGround Truthï¼‰â€â€”â€” æ¯”å¦‚å·¥å…·è°ƒç”¨è¿”å›ç»“æœæˆ–ä»£ç è¿è¡Œè¾“å‡º â€”â€” ä»¥æ­¤è¯„ä¼°ä»»åŠ¡è¿›å±•ã€‚å½“æŠµè¾¾é¢„è®¾æ£€æŸ¥ç‚¹æˆ–é­é‡æ‰§è¡Œé˜»ç¢æ—¶ï¼ŒAgentå¯æš‚åœæ“ä½œä»¥è·å–äººç±»åé¦ˆã€‚ä»»åŠ¡ä¸€èˆ¬åœ¨å®Œæˆåç»ˆæ­¢ï¼ŒåŒæ—¶ä¹Ÿä¼šè®¾ç½®åœæ­¢æ¡ä»¶ï¼ˆå¦‚æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼‰æ¥ç¡®ä¿è¿‡ç¨‹å¯æ§ã€‚</p>
<h4 data-id="heading-4">1.2 Agentå·¥ç¨‹çš„é‡è¦æ€§</h4>
<p>Agentçš„å®ç°é€»è¾‘ç›¸å¯¹ç®€æ´ï¼Œæœ¬è´¨ä¸Šæ˜¯å¤§è¯­è¨€æ¨¡å‹åœ¨ â€œç¯å¢ƒåé¦ˆ - å·¥å…·è°ƒç”¨â€ çš„å¾ªç¯ä¸­æŒç»­è¿ä½œã€‚Agentç³»ç»Ÿçš„æ ¸å¿ƒæ„å»ºæ¨¡å—æ˜¯ä¸€ä¸ªå¢å¼ºåŠŸèƒ½çš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œå®ƒèƒ½å¤Ÿä¸»åŠ¨åœ°åˆ©ç”¨æ£€ç´¢ã€å·¥å…·å’Œè®°å¿†ç­‰èƒ½åŠ›æ¥ä¼˜åŒ–å…¶åŠŸèƒ½ã€‚å¯¹äºç»å¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œé€šè¿‡æ£€ç´¢ï¼ˆRAGï¼‰å’Œåœ¨ prompt ä¸­æ·»åŠ ä¸Šä¸‹æ–‡ç¤ºä¾‹ï¼ˆPrompt Engineeringï¼‰æ¥ä¼˜åŒ–å•ä¸ª LLM è°ƒç”¨é€šå¸¸å°±è¶³å¤Ÿäº†ã€‚</p>
<p>è™½ç„¶åªè¦æä¾›ä¸€å †å·¥å…·å’Œpromptï¼Œagentå°±å¯ä»¥è‡ªè¡Œæ¢ç´¢-åˆ†æ-å†³ç­–-æ‰§è¡Œç›´åˆ°è§£å†³ä»»åŠ¡ã€‚ä»å®è§‚è§’åº¦ä¸Šæ¥è¯´è¿™æ ·å¹¶æ²¡æœ‰é”™ï¼Œä½†è®©LLMæ§åˆ¶ä¸€åˆ‡çš„ç»“æœå°±æ˜¯ï¼Œä¸å®Œå–„çš„promptå’Œtoolså¸¦æ¥äº†æ— é™å¾ªç¯å’Œæ”¾é£è‡ªæˆ‘ã€‚å› æ­¤ï¼Œå°½ç®¡AIæ¨¡å‹æ˜¯Agentçš„â€œå¤§è„‘â€ï¼Œä½†è¦å®ç°ç”Ÿäº§çº§çš„è½åœ°ï¼ŒAgentå·¥ç¨‹æ‰æ˜¯å…³é”®æ”¯æ’‘ã€‚Rakesh Gohelå‘å¸ƒçš„â€œAI Agentå†°å±±æ¨¡å‹â€æŒ‡å‡ºï¼šæ„å»ºä¸€ä¸ªçœŸæ­£å¯ç”¨çš„Agentï¼Œ90%çš„å·¥ä½œæ˜¯è½¯ä»¶å·¥ç¨‹ï¼Œä»…10%æ˜¯AIæŠ€æœ¯ï¼š</p>
<ul>
<li>â€œ10% AIâ€ï¼šAIæ¨¡å‹åªæ˜¯Agentçš„â€œå¤§è„‘â€ï¼šç†è§£ä»»åŠ¡ã€è§„åˆ’æ­¥éª¤ã€ç”Ÿæˆå†…å®¹ã€‚</li>
<li>â€œ90% Engineeringâ€ï¼šå·¥ç¨‹æ˜¯æ”¯æ’‘Agentçš„æ•´ä¸ªâ€œèº«ä½“å’Œç¥ç»ç³»ç»Ÿâ€ï¼ŒåŒ…æ‹¬ç”¨æˆ·äº¤äº’ã€æƒé™æ§åˆ¶ã€ä»»åŠ¡ç¼–æ’ã€å·¥å…·è°ƒç”¨ã€æ—¥å¿—ã€å¼‚å¸¸å›æ»šç­‰ã€‚</li>
</ul>
<p>åœ¨è¿™èƒŒåï¼Œä¸€æ•´å¥—ç³»ç»ŸåŒ–çš„Agentæ¶æ„ï¼Œæ­£æ‚„ç„¶å†³å®šç€è¿™äº›Agentçš„æ•ˆç‡ã€æ‰©å±•æ€§å’Œæ¼”åŒ–æ–¹å‘ã€‚å¦‚æœå°†å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ¯”ä½œAIçš„å‘åŠ¨æœºï¼Œé‚£ä¹ˆâ€œAgentæ¶æ„â€å°±æ˜¯å†³å®šAIèƒ½èµ°å¤šè¿œçš„åº•ç›˜å’Œé©¾é©¶ç³»ç»Ÿã€‚</p>
<h4 data-id="heading-5">1.3 æ¶æ„æ‰æ˜¯ç«äº‰ä¼˜åŠ¿</h4>
<p>AI Agentä¸æ˜¯ä¸€æ¬¾å•ä¸€äº§å“ï¼Œè€Œæ˜¯ä¸€ç§å…¨æ–°çš„è½¯ä»¶å½¢æ€â€”â€”å®ƒä¸æ˜¯â€œæ›´èªæ˜çš„æœºå™¨äººâ€ï¼Œè€Œæ˜¯â€œèƒ½è‡ªä¸»åä½œçš„æ•°å­—ä¸ªä½“â€ã€‚å…¶æŠ€æœ¯éš¾ç‚¹ä¸åœ¨äºâ€œæƒ³è±¡åŠ›â€ï¼Œè€Œåœ¨äºâ€œå·¥ç¨‹è½åœ°èƒ½åŠ›â€ã€‚æœªæ¥ï¼ŒçœŸæ­£å¼•é¢†Agentå‘å±•çš„ï¼Œå¿…ç„¶æ˜¯é‚£äº›æ—¢æ‡‚AIæŠ€æœ¯ï¼Œåˆç²¾é€šç³»ç»Ÿæ¶æ„çš„â€œAgentå·¥åŒ â€ã€‚Agentæ¶æ„ï¼Œå·²æˆä¸ºä¸‹ä¸€ä»£AIåº”ç”¨çš„æ ¸å¿ƒç«äº‰èµ›é“ã€‚èƒ½å¦ç†è§£â€œMemory-Plan-Tool-Reflectionâ€çš„ååŒé€»è¾‘ï¼Œèƒ½å¦æ„å»ºâ€œé€æ˜ã€å¯æ§ã€å¯æ‰©å±•â€çš„ä»»åŠ¡ç³»ç»Ÿï¼Œå†³å®šäº†ä¸€ä¸ªå›¢é˜Ÿæ˜¯å¦å…·å¤‡æ‰“é€ å®ç”¨Agentåº”ç”¨çš„æ ¸å¿ƒèƒ½åŠ›ã€‚</p>
<p>æ‹¿browerAgentæ¥è¯´ï¼Œå®ƒä»¬èƒ½ç”Ÿæˆä»£ç ã€è·Ÿç½‘é¡µäº’åŠ¨ï¼Œçœ‹ç€å¾ˆå‰å®³ï¼Œä½†è¿™äº›èƒ½åŠ›å…¶å®é ä¸‰ä¸ªå¤–éƒ¨æ¡ä»¶æ’‘ç€ â€”â€” è€Œè¿™ä¸‰ä¸ªæ¡ä»¶ç°åœ¨è¡Œä¸šé‡Œæ­£å˜å¾—è¶Šæ¥è¶Šé€šç”¨ã€‚</p>
<ul>
<li>åŸºç¡€æ¨¡å‹èƒ½åŠ›äººäººèƒ½ç”¨ã€‚æœªæ¥å¤§è¯­è¨€æ¨¡å‹èƒ½åŠ›è¶Šæ¥è¶Šå¼ºï¼ŒAI Agentèƒ½åšçš„åŠŸèƒ½ä¼šè¶Šæ¥è¶Šå®¹æ˜“å®ç°ï¼Œæ…¢æ…¢å˜æˆè¡Œä¸šæ ‡é…ã€‚è¿™ä¹ˆä¸€æ¥ï¼Œä¸åŒç³»ç»Ÿåœ¨ â€œæ™ºèƒ½â€ ä¸Šçš„å·®è·è¶Šæ¥è¶Šå°ã€‚</li>
<li>æç¤ºè¯æŠ€å·§å®¹æ˜“å¤åˆ¶ã€‚æ²¡æ³•æˆä¸ºç‹¬å®¶ä¼˜åŠ¿ã€‚</li>
<li>å·¥å…·è°ƒç”¨è¶Šæ¥è¶Šæ ‡å‡†åŒ–ã€‚Agent è°ƒç”¨å·¥å…·çš„èƒ½åŠ›ï¼Œæœ¬è´¨å°±æ˜¯ç”¨åˆ«äººçš„ API æ¥å£ã€‚ä»»ä½•å›¢é˜Ÿéƒ½èƒ½ç›´æ¥é›†æˆç°æˆå·¥å…·ï¼Œè¡¥å…¨è‡ªå·±çš„åŠŸèƒ½çŸ­æ¿ï¼Œè¿™æ–¹é¢çš„ç«äº‰æ…¢æ…¢å˜å¾—åƒç¯‡ä¸€å¾‹ã€‚</li>
</ul>
<p>çœŸæ­£çš„æŠ€æœ¯å£å’ï¼Œä»æ¥éƒ½æ˜¯æ‰“é€ ä¸€ä¸ªç¨³å®šã€èƒ½æ§åˆ¶ã€èƒ½ç›‘æ§ã€èƒ½æ‰©å±•çš„åº•å±‚è¿è¡Œç¯å¢ƒã€‚è¿™éœ€è¦å›¢é˜Ÿæœ‰æ·±åšçš„æŠ€æœ¯ç§¯ç´¯ã€èƒ½æå®šå¤æ‚ç³»ç»Ÿï¼Œè¿˜å¾—ä¸€ç›´è¿­ä»£åº”å¯¹æ–°é—®é¢˜ã€‚è¿™äº›é—®é¢˜æ˜¯AIè·Ÿç°å®ä¸–ç•Œäº’åŠ¨æ—¶å¤©ç”Ÿå°±æœ‰çš„ï¼Œä¸ä¼šå› ä¸ºæ¨¡å‹å˜å¼ºå°±è‡ªåŠ¨æ¶ˆå¤±ï¼Œåè€Œä¼šå†³å®šç³»ç»Ÿç¨³ä¸ç¨³å®šã€é ä¸é è°±ã€‚è°èƒ½è§£å†³çŠ¶æ€ç®¡ç†ã€å·¥å…·å®¹é”™ã€è®¡åˆ’å¯æ§ã€è¡Œä¸ºé€æ˜è¿™äº›â€œç³»ç»Ÿçº§ç—›ç‚¹â€ï¼Œè°å°±èƒ½åœ¨AgentæŠ€æœ¯é©å‘½ä¸­å æ®ä¸»åŠ¨ã€‚</p>
<p>æœªæ¥AI Agentç³»ç»Ÿçš„ç«äº‰ï¼Œä¼šä»â€œè°èƒ½åšä»€ä¹ˆâ€çš„åŠŸèƒ½æ¯”æ‹¼ï¼Œå˜æˆâ€œè°èƒ½åšå¾—æ›´ç¨³ã€æ›´å¥½ã€æ›´é•¿ä¹…â€çš„å·¥ç¨‹å®åŠ›è¾ƒé‡â€”â€”è¯´ç™½äº†ï¼Œå·¥ç¨‹å®åŠ›æ‰å†³å®šé•¿æœŸç«äº‰åŠ›ã€‚</p>
<h3 data-id="heading-6">0x02 AI Agent ç³»ç»Ÿ</h3>
<p>æ„å»ºä¸€å¥—æˆç†Ÿçš„ AI Agent Frameworkï¼Œæœ¬è´¨æ˜¯æ‰“é€ ä¸€ä¸ªèƒ½æ”¯æ’‘Agentè‡ªä¸»æ„ŸçŸ¥ã€ç¯å¢ƒæ„ŸçŸ¥ã€å†³ç­–åˆ¶å®šã€åŠ¨ä½œæ‰§è¡Œã€è‡ªæˆ‘è¿›åŒ–çš„ â€œæ•°å­—ç”Ÿå‘½ä½“â€ åŸºç¡€è®¾æ–½ã€‚å…¶æ ¸å¿ƒåœ¨äºæ‹†è§£Agentçš„æ ¸å¿ƒèƒ½åŠ›æ¨¡å—ï¼Œæ˜ç¡®å„ç»„ä»¶çš„èŒè´£è¾¹ç•Œä¸åä½œé€»è¾‘ï¼ŒåŒæ—¶æ”»å…‹ç³»ç»Ÿç¨³å®šæ€§ã€çµæ´»æ€§ä¸å®ç”¨æ€§çš„å…³é”®ç“¶é¢ˆã€‚Agentç³»ç»Ÿæ ¸å¿ƒæ¶µç›–å››å¤§èƒ½åŠ›ï¼š</p>
<ul>
<li>é€šè¿‡ Function Callã€MCP åè®®ç­‰å·¥å…·è°ƒç”¨å®ç°ç¯å¢ƒäº¤äº’æ„ŸçŸ¥ï¼›</li>
<li>å€ŸåŠ© ReActã€Reflexion ç­‰æ–¹æ³•å®Œæˆè‡ªä¸»æ¨ç†å†³ç­–ï¼›</li>
<li>é‡‡ç”¨çŸ­æœŸè®°å¿†ï¼ˆä¾æ‰˜ Prompt / ä¸Šä¸‹æ–‡çª—å£ï¼‰ä¸é•¿æœŸè®°å¿†ï¼ˆé€šè¿‡ RAG å’Œå‘é‡æ•°æ®åº“ç®¡ç†ï¼‰çš„èŒƒå¼è¿›è¡ŒçŸ¥è¯†ç®¡ç†ï¼›</li>
<li>é€šè¿‡ A2Aã€ACPã€ANP ç­‰åè®®è¾¾æˆå¤šAgenté—´çš„é€šä¿¡åä½œã€‚</li>
</ul>
<h4 data-id="heading-7">2.1 æ¶æ„è®¾è®¡çš„éš¾ç‚¹</h4>
<p>å¤§æ¨¡å‹æœ¬è´¨æ˜¯æ¦‚ç‡è¾“å‡ºï¼Œè¿™ç§â€œæ¦‚ç‡æœ¬æ€§â€å¸¦æ¥çš„ä¸‰ä½ä¸€ä½“é£é™©</p>
<ul>
<li>ä¸ä¸€è‡´æ€§ï¼šåŒä¸€è¾“å…¥å¤šæ¬¡é‡‡æ ·ç»“æœå‘æ•£ã€‚</li>
<li>ä¸çœŸå®æ€§ï¼šå¹»è§‰å¯¼è‡´äº‹å®é”™è¯¯ã€‚</li>
<li>ä¸åŠæ—¶æ€§ï¼šé™æ€è®­ç»ƒæ•°æ®è¿‡æœŸã€‚</li>
</ul>
<p>è¿™æ ·å¯¼è‡´ Agent å¸¦æ¥çš„çš„å››å¤§ç¡¬æ ¸å¡ç‚¹ä¸ºï¼š</p>
<ol>
<li>è®°å¿†æ–­ç‰‡ã€‚å•çº¯çš„Agentç¼ºå°‘ä¸“é—¨çš„ä»»åŠ¡çŠ¶æ€æ„ŸçŸ¥æœºåˆ¶ï¼Œä»…é ä¸Šä¸‹æ–‡æ‹¼æ¥æ— æ³•ç¨³å®šè·Ÿè¸ªé•¿æµç¨‹ä»»åŠ¡ã€‚æ¯”å¦‚ï¼Œå¤šæ­¥ä»»åŠ¡é‡Œï¼Œ â€œä¸­é—´æ€â€åªèººåœ¨ LLM çš„ä¸Šä¸‹æ–‡çª—å£é‡Œï¼Œæ—¢æ²¡æœ‰ç»“æ„åŒ–å­˜å‚¨ï¼Œä¹Ÿæ²¡æœ‰æ˜¾å¼è¯­ä¹‰ç´¢å¼•ã€‚</li>
<li>ä¸€é”™å°±èººã€‚å•çº¯çš„Agent ç¼ºä¹å·¥å…·è°ƒç”¨çš„å¼‚å¸¸æ„ŸçŸ¥ä¸å®¹é”™æœºåˆ¶ï¼Œ</li>
<li>é»‘ç®±æ‹†åŒ…ã€‚LLM ç›´æ¥åå‡ºè‡ªç„¶è¯­è¨€è®¡åˆ’ï¼Œå¼€å‘è€…æ— æ³•æ’æ‹”ï¼Œæ›´æ— æ³•éªŒè¯ï¼Œåªèƒ½åœ¨æ‰§è¡Œæœ«ç«¯æ‰å‘ç°ã€‚</li>
<li>å®¡è®¡é»‘æ´ã€‚Agent è°ƒäº†è°ã€å–äº†ä»€ä¹ˆå­—æ®µã€åŸºäºå“ªå¥ç”¨æˆ·æç¤ºåšå†³ç­–ï¼Œå…¨ç¨‹æ— ç•™ç—•ï¼Œä¼ä¸šåˆè§„æ— ä»è°ˆèµ·ã€‚</li>
</ol>
<p>å› æ­¤ï¼ŒAgent çš„ç«äº‰æ­£ç¦»å¼€â€œè°èƒ½è°ƒç”¨æ›´å¤š APIâ€ï¼Œè½¬å‘â€œè°èƒ½æŠŠä¸ç¡®å®šçš„æ¨¡å‹å°è£…æˆç¡®å®šæ€§çš„ç³»ç»Ÿâ€ã€‚æŠŠæ¦‚ç‡è£…è¿›çŠ¶æ€æœºï¼ŒæŠŠå¹»è§‰å…³è¿›å®¡è®¡ç¬¼ï¼ŒæŠŠæˆæœ¬å‹è¿›é¢„ç®—è¡¨â€”â€”è¿™æ‰æ˜¯Agent ç³»ç»Ÿçš„çœŸæ­£é—¨æ§›ã€‚</p>
<h4 data-id="heading-8">2.2 æ ¸å¿ƒç»„ä»¶</h4>
<p>Agentç»éå•ä¸€è¯­è¨€æ¨¡å‹çš„å¢å¼ºç‰ˆï¼ŒLLMä»…ç›¸å½“äºå…¶ â€œè®¤çŸ¥ä¸­æ¢â€ï¼ŒçœŸæ­£æ”¯æ’‘å…¶å®Œæ•´åŠŸèƒ½çš„æ˜¯ä¸€å¥—ååŒè¿ä½œçš„å¤šæ¨¡å—æ¶æ„ï¼Œæˆç†Ÿå¯è½åœ°çš„Agentç³»ç»Ÿè‡³å°‘åŒ…å«å‡ å¤§æ ¸å¿ƒæ¨¡å—ï¼Œå„æ¨¡å—å¦‚åŒç²¾å¯†å›¢é˜Ÿä¸­çš„ä¸åŒè§’è‰²ï¼Œå„å¸å…¶èŒåˆç´§å¯†é…åˆã€‚</p>
<ul>
<li>è§„åˆ’ä¸å†³ç­–å¼•æ“ï¼ˆPlanner / Policyï¼‰ã€‚LLM ä½œä¸º â€œè®¤çŸ¥ä¸­æ¢â€ï¼Œå°±åƒå›¢é˜Ÿé‡Œçš„ â€œæ™ºå›Šå›¢â€ï¼Œæ ¸å¿ƒè´Ÿè´£è§£æç”¨æˆ·ä»»åŠ¡æ„å›¾ã€æŠŠç”¨æˆ·çš„â€œå¤æ‚ç»ˆæç›®æ ‡â€åˆ‡æˆâ€œå¯æ‰§è¡Œçš„å­ä»»åŠ¡åºåˆ—â€ï¼Œæ‹†è§£å¤æ‚ä»»åŠ¡ä¸ºå­ä»»åŠ¡ã€æ˜ç¡®å­ä»»åŠ¡çš„ä¾èµ–å…³ç³»ã€ç”Ÿæˆä»£ç ã€æŠ¥å‘Šç­‰è¾“å‡ºå†…å®¹ã€‚å³æ”¯æŒä¸€æ¬¡æ€§é™æ€è®¡åˆ’ã€ä¹Ÿæ”¯æŒ ReAct / CodeAct è¿™ç§é€æ­¥å±•å¼€ï¼Œå³æ”¯æŒåŠ¨æ€è®¡åˆ’è°ƒæ•´ï¼šæ ¹æ®å·¥å…·è°ƒç”¨ç»“æœã€ç¯å¢ƒå˜åŒ–æˆ–ç”¨æˆ·åé¦ˆï¼Œå®æ—¶ä¿®æ­£å­ä»»åŠ¡æµç¨‹ï¼Œé¿å…è®¡åˆ’ä¸å®é™…æ‰§è¡Œè„±èŠ‚ã€‚</li>
<li>Memory æ¨¡å—æ˜¯ â€œä¸Šä¸‹æ–‡å»¶ç»­å™¨â€ï¼Œè´Ÿè´£å­˜å‚¨å¯¹è¯ä¸Šä¸‹æ–‡ã€ä»»åŠ¡æ‰§è¡Œå…³é”®èŠ‚ç‚¹ä¸è¿›åº¦ã€å†å²ç»éªŒç­‰ä¿¡æ¯ï¼Œä¿éšœä»»åŠ¡æ‰§è¡Œçš„è¿è´¯æ€§ã€‚ç”¨äºå­˜å‚¨å¯¹è¯å†å²ã€ä¸­é—´ç»“æœå’Œé•¿æœŸè®°å¿†ã€‚è¿™æ ·ï¼Œé€šè¿‡åœ¨Promptä¸­å¼•å…¥å¯¹å‰æ–‡çš„æ€»ç»“æˆ–å…³é”®æ•°æ®ï¼ŒAgentèƒ½â€œè®°ä½â€å…ˆå‰æ­¥éª¤çš„ç»“æœï¼Œç¡®ä¿çŠ¶æ€çš„ä¸€è‡´æ€§å’Œè·¨æ­¥éª¤çš„ä¸Šä¸‹æ–‡è¡”æ¥ã€‚</li>
<li>Planner æ¨¡å—æ‰®æ¼” â€œè¡ŒåŠ¨è·¯çº¿å›¾â€ çš„è§’è‰²ã€‚å…¶å®ç°æœºåˆ¶åŒ…æ‹¬åŸºäºè§„åˆ™çš„å›ºå®šæµç¨‹ï¼ˆé€‚ç”¨äºæ ‡å‡†åŒ–ä»»åŠ¡ï¼‰ã€ä¾æ‰˜ LLM æ¨ç†èƒ½åŠ›çš„åŠ¨æ€ç”Ÿæˆï¼ˆé€‚ç”¨äºçµæ´»éœ€æ±‚ï¼‰ï¼Œä»¥åŠç»“åˆäºŒè€…ä¼˜åŠ¿çš„æ··åˆå‹è°ƒåº¦ï¼ˆå¦‚åŸºäº LangGraph æ„å»ºæœ‰å‘å›¾ä»»åŠ¡æµï¼‰ã€‚</li>
<li>Tool-use æ¨¡å—æ˜¯Agentçš„ â€œæ‰‹è„šâ€ï¼Œè®©æ¨¡å‹â€œçœ‹åˆ°â€å·¥å…·ï¼Œè€Œä¸æ˜¯â€œæ‘¸é»‘â€è°ƒç”¨ï¼Œæ‰“ç ´äº†ä»…è¾“å‡ºæ–‡æœ¬çš„å±€é™ï¼Œé€šè¿‡è°ƒç”¨ç¬¬ä¸‰æ–¹ APIã€æ£€ç´¢å¤–éƒ¨çŸ¥è¯†åº“ã€è¯»å†™æœ¬åœ°æ–‡ä»¶ç­‰æ–¹å¼è¿æ¥å¤–éƒ¨èµ„æºï¼Œå®Œæˆå®é™…æ“ä½œã€‚</li>
<li>Reflection æ¨¡å—èµ‹äºˆAgent â€œå…ƒè®¤çŸ¥èƒ½åŠ›â€ï¼Œå¦‚åŒå›¢é˜Ÿçš„ â€œå¤ç›˜ä¸“å‘˜â€ï¼Œåœ¨ä»»åŠ¡å¤±è´¥æˆ–å—é˜»æ—¶ï¼Œå¯¹æ¯”æ‰§è¡Œç»“æœä¸é¢„æœŸï¼Œè¯„ä¼°æ‰§è¡Œæ•ˆæœã€å®šä½é—®é¢˜åŸå› å¹¶è°ƒæ•´ç­–ç•¥ã€‚</li>
</ul>
<p>è¿™å‡ å¤§æ¨¡å—ç›¸è¾…ç›¸æˆï¼Œæ„æˆ â€œçŠ¶æ€é©±åŠ¨ + æ„å›¾åˆ†è§£ + å·¥å…·è°ƒç”¨ + è‡ªæˆ‘å­¦ä¹ â€ çš„æœ‰æœºæ•´ä½“ï¼Œè€Œéç®€å•å åŠ ã€‚</p>
<p>å¦å¤–ï¼Œåœ¨å…·ä½“å®ç°ä¸­ï¼Œé€šå¸¸ä¹Ÿä¼šæœ‰å¦‚ä¸‹ç»„ä»¶ï¼š</p>
<ul>
<li>äº‹ä»¶æ€»çº¿ï¼ˆEvent Busï¼‰ï¼šç”¨äºè§£è€¦ï¼Œå°†ç”¨æˆ·æ¶ˆæ¯ã€å·¥å…·è¿”å›ã€çŠ¶æ€å˜æ›´ã€å¼‚å¸¸æŠ¥å‘Šéƒ½åºåˆ—åŒ–ä¸ºäº‹ä»¶ï¼Œå¹¿æ’­ç»™è®¢é˜…è€…ã€‚</li>
<li>è¿è¡Œæ—¶æ²™ç®±ï¼ˆRuntime Sandboxï¼‰ï¼šç»™æ¨¡å‹æä¾›â€œåŠ¨æ‰‹â€ç©ºé—´â€”â€”æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œã€Shellã€Python è§£é‡Šå™¨ã€ç¬¬ä¸‰æ–¹åº“ã€‚</li>
<li>è§‚æµ‹ä¸é¥æµ‹ï¼ˆObservabilityï¼‰ï¼šæä¾›å¯è§†åŒ–çš„ä»»åŠ¡æ‰§è¡Œç•Œé¢ï¼Œå±•ç¤ºä»»åŠ¡æµç¨‹ã€å­ä»»åŠ¡è¿›åº¦ã€æ¨¡å—äº¤äº’æ—¥å¿—ï¼Œæ”¯æŒå¼€å‘è€…å®æ—¶ç›‘æ§ï¼Œè®©è¿ç»´è€…çœ‹åˆ°ã€Œé»‘ç›’ã€â€”â€”æ¯æ¬¡è°ƒç”¨é“¾ã€token æ¶ˆè€—ã€å¼‚å¸¸æ ˆã€å†³ç­–ç†ç”±å…¨éƒ¨è½ç›˜ã€‚</li>
<li>é…ç½®ä¸å­˜å‚¨æ¨¡å—ï¼ˆConfig &amp; Storageï¼‰ï¼šç®¡ç†æ¡†æ¶çš„å…¨å±€é…ç½®ï¼Œå¦‚ LLM å‚æ•°ã€ä»»åŠ¡é¢„ç®—ï¼ˆæœ€å¤§è¿­ä»£æ¬¡æ•°ã€æˆæœ¬ä¸Šé™ï¼‰ã€å­˜å‚¨è·¯å¾„ã€å·¥å…·åˆ—è¡¨ç­‰ï¼Œæ”¯æŒåŠ¨æ€é…ç½®æ›´æ–°ã€‚å®ç°æ•°æ®æŒä¹…åŒ–ï¼ŒåŒ…æ‹¬ä»»åŠ¡çŠ¶æ€ã€æ‰§è¡Œè½¨è¿¹ã€è®°å¿†æ•°æ®ã€é…ç½®ä¿¡æ¯ç­‰ï¼Œç¡®ä¿ç³»ç»Ÿé‡å¯åå¯æ¢å¤ã€‚</li>
</ul>
<h4 data-id="heading-9">2.3 Devin &amp; OpenHandsï¼ˆåŸOpenDevinï¼‰</h4>
<p>â€ŒDevinæ˜¯ç”±Cognition AIå¼€å‘çš„å…¨çƒé¦–ä¸ªAIç¨‹åºå‘˜ï¼Œå…·å¤‡å…¨æ ˆå¼€å‘èƒ½åŠ›ï¼Œèƒ½è‡ªä¸»å®Œæˆä»£ç ç¼–å†™ã€è°ƒè¯•ã€éƒ¨ç½²åŠAIæ¨¡å‹è®­ç»ƒç­‰ä»»åŠ¡â€Œã€‚Devin ä»£è¡¨äº†ä¸€ç§å…ˆè¿›çš„è‡ªä¸»Agentï¼Œæ—¨åœ¨åº”å¯¹è½¯ä»¶å·¥ç¨‹çš„å¤æ‚æ€§ã€‚å®ƒåˆ©ç”¨äº†è¯¸å¦‚ shellã€ä»£ç ç¼–è¾‘å™¨å’Œç½‘ç»œæµè§ˆå™¨ç­‰å·¥å…·çš„ç»„åˆï¼Œå±•ç¤ºäº† LLM åœ¨è½¯ä»¶å¼€å‘ä¸­æœªè¢«å……åˆ†åˆ©ç”¨çš„æ½œåŠ›ã€‚</p>
<p>OpenDevin é¡¹ç›®è¯ç”Ÿäºå¤åˆ¶ã€å¢å¼ºå¹¶åˆ›æ–°åŸå§‹ Devin æ¨¡å‹çš„æ„¿æœ›ã€‚OpenDevin çš„ç›®æ ‡æ˜¯æ¢ç´¢å¹¶æ‰©å±• Devin çš„èƒ½åŠ›ï¼Œè¯†åˆ«å…¶ä¼˜åŠ¿å’Œæ”¹è¿›é¢†åŸŸï¼Œä»¥æŒ‡å¯¼å¼€æ”¾ä»£ç æ¨¡å‹çš„è¿›å±•ã€‚é€šè¿‡å¸å¼•å¼€æºç¤¾åŒºçš„å‚ä¸ï¼ŒOpenDevin æ—¨åœ¨åº”å¯¹ Code LLM åœ¨å®é™…åœºæ™¯ä¸­é¢ä¸´çš„æŒ‘æˆ˜ï¼Œäº§å‡ºå¯¹ç¤¾åŒºæœ‰é‡å¤§è´¡çŒ®çš„ä½œå“ï¼Œå¹¶ä¸ºæœªæ¥çš„è¿›æ­¥é“ºå¹³é“è·¯ã€‚</p>
<p>OpenHands ç›®å‰ GitHub æ˜Ÿæ ‡æ•°å·²è¶… 6.5 ä¸‡ã€‚</p>
<p>OpenHands çš„ç½‘å€ä¸ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openhands.dev%2F" target="_blank" title="https://docs.openhands.dev/" ref="nofollow noopener noreferrer">docs.openhands.dev/</a></p>
<p>github é“¾æ¥ä¸ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenHands%2FOpenHands" target="_blank" title="https://github.com/OpenHands/OpenHands" ref="nofollow noopener noreferrer">github.com/OpenHands/Oâ€¦</a></p>
<p>Software Agent SDK: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenHands%2Fsoftware-agent-sdk" target="_blank" title="https://github.com/OpenHands/software-agent-sdk" ref="nofollow noopener noreferrer">github.com/OpenHands/sâ€¦</a></p>
<p>Benchmarks: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenHands%2Fbenchmarks" target="_blank" title="https://github.com/OpenHands/benchmarks" ref="nofollow noopener noreferrer">github.com/OpenHands/bâ€¦</a></p>
<p>æœ€æ–°çš„OpenHandsè®ºæ–‡å¦‚ä¸‹ï¼šThe OpenHands Software Agent SDK: A Composable and Extensible Foundation for Production Agents 2511.03690v1</p>
<h3 data-id="heading-10">0x03 OpenHands æ¶æ„æ¦‚å¿µå›¾è°±</h3>
<p>ä¸ºç²¾å‡†è§£é” OpenHands æºç çš„æ·±å±‚é€»è¾‘ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€å¹…æ¸…æ™°çš„æ¶æ„æ¦‚å¿µå›¾è°±ï¼Œå°†åˆ†æ•£çš„æ ¸å¿ƒç»„ä»¶ä¸è®¾è®¡ç†å¿µä¸²è”æˆæœ‰æœºæ•´ä½“ã€‚è¿™ä¸€å›¾è°±çš„æ¯ä¸€ç¯éƒ½æ‰¿è½½ç€å…³é”®ä½¿å‘½ï¼Œå…±åŒæ„ç­‘èµ· AI Agenté«˜æ•ˆè¿è¡Œçš„åŸºç¡€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/925c40e26e404219a90815f978073242~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769433231&amp;x-signature=i0kkI%2FkSx1lWdzpnEpx9dZ88Vbg%3D" alt="OpenHands-ç»„ä»¶" loading="lazy"/></p>
<p>OpenHands-ç»„ä»¶</p>
<h4 data-id="heading-11">3.1 ç³»ç»Ÿæ¶æ„</h4>
<p>ä¸‹å›¾æ˜¯OpenHands ç³»ç»Ÿæ¶æ„çš„é«˜çº§æ¦‚è§ˆã€‚ç³»ç»Ÿåˆ†ä¸ºä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ï¼šå‰ç«¯å’Œåç«¯ã€‚å‰ç«¯è´Ÿè´£å¤„ç†ç”¨æˆ·äº¤äº’å¹¶å±•ç¤ºç»“æœã€‚åç«¯è´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘å¹¶æ‰§è¡ŒAgentæ“ä½œã€‚è¿™ç§æ¶æ„çš„å…³é”®ä¼˜åŠ¿åœ¨äºå…¶çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ï¼šæ–°çš„Agentç±»å‹ã€è¡ŒåŠ¨ç±»å‹æˆ–è¿è¡Œæ—¶ç¯å¢ƒå¯ä»¥è½»æ¾é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿä¸­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db7b3e9538454b13b5fa379a1404082c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769433231&amp;x-signature=Wdog2eIcVxiOo8dCIg05C2n4NMo%3D" alt="OpenHands-Overview" loading="lazy"/></p>
<p>OpenHands-Overview</p>
<p>åç«¯æ¶æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9de55afa100f4b4da11e095b63f9c040~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769433231&amp;x-signature=SgOqx4sN5kh3xZzybM%2BTNRROM%2BM%3D" alt="OpenHands-ç±»å›¾" loading="lazy"/></p>
<p>OpenHands-ç±»å›¾</p>
<h4 data-id="heading-12">3.2 ä»£ç åº“ç›®å½•ç»“æ„</h4>
<p>OpenHandsçš„ä»£ç åº“ç»„ç»‡æ¸…æ™°ï¼Œä»¥ä¸‹æ˜¯æœ€ä¸»è¦çš„ç›®å½•ï¼š</p>
<ol>
<li><strong>Agentä¸­å¿ƒï¼ˆagenthubï¼‰</strong> ï¼šè¿™æ˜¯Agentçš„æ ¸å¿ƒåŒºåŸŸï¼Œè´Ÿè´£ä»£ç ç”Ÿæˆå’Œæ‰§è¡Œç›¸å…³çš„é€»è¾‘ï¼Œæ˜¯å¹³å°çš„æ ¸å¿ƒèƒ½åŠ›è½½ä½“ã€‚å®ƒåŒ…å«ä¸“æ³¨äºä»£ç ç”Ÿæˆä¸æ‰§è¡Œçš„Agenté€»è¾‘ï¼Œæ˜¯å¹³å°çš„æ ¸å¿ƒèƒ½åŠ›æ‰€åœ¨ã€‚æ­¤å¤–ï¼Œè¿˜åŒ…æ‹¬è´Ÿè´£æµè§ˆå™¨äº¤äº’çš„Agentå®ç°ã€‚</li>
<li><strong>äº‹ä»¶ç³»ç»Ÿï¼ˆeventsï¼‰</strong> ï¼šè¿™æ˜¯äº‹ä»¶é©±åŠ¨æ¶æ„çš„æ ¸å¿ƒç›®å½•ï¼Œå®šä¹‰äº†ç³»ç»Ÿçš„â€œé€šä¿¡è¯­è¨€â€ã€‚å®ƒåŒ…å«å°è£…ä»»åŠ¡æ‰§è¡Œç»“æœç­‰åé¦ˆç±»äº‹ä»¶çš„<code>observation/</code>ï¼Œä»¥åŠå®šä¹‰Agentå¯æ‰§è¡Œçš„å„ç±»åŠ¨ä½œæŒ‡ä»¤çš„<code>action/</code>ã€‚<code>stream.py</code>å®ç°äº†äº‹ä»¶æµçš„ç®¡ç†æœºåˆ¶ï¼Œè´Ÿè´£äº‹ä»¶çš„åˆ†å‘ã€å­˜å‚¨ä¸è®¢é˜…ï¼Œæ˜¯ç»„ä»¶ååŒå·¥ä½œçš„å…³é”®æ¢çº½ã€‚</li>
<li><strong>è¿è¡Œæ—¶ç¯å¢ƒï¼ˆruntime/ï¼‰</strong> ï¼šæä¾›Agentæ‰§è¡Œçš„åº•å±‚ç¯å¢ƒæ”¯æŒã€‚<code>impl/</code>ç›®å½•åŒ…å«Dockerå®¹å™¨ã€æœ¬åœ°ç¯å¢ƒç­‰ä¸åŒè¿è¡Œæ—¶çš„å…·ä½“å®ç°ï¼›<code>plugins/</code>æ”¯æŒé€šè¿‡æ’ä»¶æ‰©å±•è¿è¡Œæ—¶åŠŸèƒ½ï¼Œæå‡ç³»ç»Ÿçš„çµæ´»æ€§ã€‚</li>
<li><strong>è®°å¿†ç®¡ç†ï¼ˆmemory/ï¼‰</strong> ï¼šè´Ÿè´£ç®¡ç†Agentçš„å†å²æ•°æ®ä¸è®°å¿†ã€‚<code>conversation_memory.py</code>å¤„ç†å¯¹è¯å†å²çš„å­˜å‚¨ä¸æ£€ç´¢ï¼›<code>condenser/</code>å®ç°å†å²è®°å½•çš„å‹ç¼©é€»è¾‘ï¼Œè§£å†³LLMä¸Šä¸‹æ–‡çª—å£æœ‰é™çš„é—®é¢˜ï¼Œä¿éšœé•¿å‘¨æœŸä»»åŠ¡çš„è¿è´¯æ€§ã€‚</li>
<li><strong>è¯­è¨€æ¨¡å‹é›†æˆï¼ˆllm/ï¼‰</strong> ï¼šå®ç°ä¸å„ç±»å¤§å‹è¯­è¨€æ¨¡å‹çš„é›†æˆã€‚</li>
<li><strong>æ§åˆ¶å™¨ï¼ˆcontroller/ï¼‰</strong> ï¼šç³»ç»Ÿçš„â€œæŒ‡æŒ¥ä¸­å¿ƒâ€ï¼Œè´Ÿè´£Agentçš„è°ƒåº¦ä¸ç®¡ç†ã€‚</li>
</ol>
<p>è¿™ç§ç»“æ„åæ˜ äº†OpenHandsçš„æ¨¡å—åŒ–è®¾è®¡ï¼Œå„ç»„ä»¶ä¹‹é—´æœ‰æ˜ç¡®çš„èŒè´£åˆ’åˆ†ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚è¿™äº›ç›®å½•ä¹‹é—´çš„é€»è¾‘ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a63591e152704c359a97d25106ff75c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769433231&amp;x-signature=0DaHoHsOiI3pFWaaHRv7v4ByaIA%3D" alt="OpenHands-æ€»ä½“æµç¨‹" loading="lazy"/></p>
<p>OpenHands-æ€»ä½“æµç¨‹</p>
<h4 data-id="heading-13">3.3 æ ¸å¿ƒç»„ä»¶</h4>
<p>OpenHandsé‡‡ç”¨äº†ä¸€ç§åŸºäºäº‹ä»¶çš„æ¶æ„ï¼Œå°†Agentã€è¿è¡Œæ—¶ç¯å¢ƒå’Œç”¨æˆ·ç•Œé¢è§£è€¦ï¼Œå®ç°çµæ´»çš„äº¤äº’æ¨¡å¼ã€‚OpenHands çš„å…³é”®ç±»åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><strong>LLM</strong>ï¼šè´Ÿè´£ä¸å¤§å‹è¯­è¨€æ¨¡å‹çš„æ‰€æœ‰äº¤äº’ã€‚ç”±äº LiteLLM çš„æ”¯æŒï¼Œå®ƒå¯ä»¥ä¸ä»»ä½•åº•å±‚å®Œæˆæ¨¡å‹ä¸€èµ·å·¥ä½œã€‚</p>
</li>
<li>
<p><strong>Agent</strong>ï¼šè´Ÿè´£æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªåŠ¨ä½œï¼Œä½¿ç›®æ ‡æ›´è¿›ä¸€æ­¥æ¥è¿‘æœ€ç»ˆç›®æ ‡ã€‚</p>
</li>
<li>
<p><strong>AgentController</strong>ï¼šåˆå§‹åŒ– Agentï¼Œç®¡ç†çŠ¶æ€ï¼Œå¹¶é©±åŠ¨ä¸»è¦å¾ªç¯ï¼Œä¸€æ­¥æ­¥æ¨åŠ¨ Agent å‰è¿›ã€‚</p>
</li>
<li>
<p><strong>State</strong>ï¼šä»£è¡¨ Agent ä»»åŠ¡çš„å½“å‰çŠ¶æ€ã€‚åŒ…æ‹¬å½“å‰æ­¥éª¤ã€æœ€è¿‘äº‹ä»¶çš„å†å²è®°å½•ã€Agentçš„é•¿æœŸè®¡åˆ’ç­‰ã€‚State æ¨¡å—å°±åƒ Agent çš„ â€œè®°å¿†å¤§è„‘â€ï¼Œä¸ä»…èƒ½è®°ä¸‹ä»»åŠ¡æ‰§è¡Œä¸­çš„å„ç§çŠ¶æ€æ•°æ®ï¼Œè¿˜æ”¯æŒæ–­ç‚¹æ¢å¤ï¼Œé•¿å‘¨æœŸä»»åŠ¡å°±ç®—ä¸­æ–­äº†ï¼Œä¹Ÿèƒ½æ¥ç€ä¹‹å‰çš„è¿›åº¦ç»§ç»­åšï¼Œä¸ç”¨ä»å¤´å†æ¥ã€‚</p>
</li>
<li>
<p><strong>EventStream</strong>ï¼šäº‹ä»¶çš„ä¸­å¿ƒæ¢çº½ï¼Œä»»ä½•ç»„ä»¶éƒ½å¯ä»¥å‘å¸ƒäº‹ä»¶ï¼Œæˆ–ç›‘å¬å…¶ä»–ç»„ä»¶å‘å¸ƒçš„äº‹ä»¶ã€‚</p>
<ul>
<li>
<p><strong>Event</strong>ï¼šåŠ¨ä½œæˆ–è§‚å¯Ÿ</p>
<ul>
<li><strong>Action</strong>ï¼šä»£è¡¨ä¸€ä¸ªè¯·æ±‚ï¼Œä¾‹å¦‚ç¼–è¾‘æ–‡ä»¶ã€è¿è¡Œå‘½ä»¤æˆ–å‘é€æ¶ˆæ¯ã€‚</li>
<li><strong>Observation</strong>ï¼šä»£è¡¨ä»ç¯å¢ƒä¸­æ”¶é›†çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ–‡ä»¶å†…å®¹æˆ–å‘½ä»¤è¾“å‡ºã€‚</li>
</ul>
</li>
<li>
<p>Action å’Œ Observation ç›¸å½“äºç»„ä»¶é—´çš„ â€œé€šç”¨è¯­è¨€â€â€”â€”Action å¸¦ç€è¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼ŒObservation ä¼ å›æ‰§è¡Œçš„ç»“æœï¼Œä¿©è€…é…åˆåˆ°ä½ï¼Œä¿¡æ¯ä¼ é€’æ‰é¡ºç•…ä¸å¡å£³ã€‚è¿™äº›æ¨¡å—ä¸æ˜¯å„å¹²å„çš„ï¼Œè€Œæ˜¯é  Event Stream è¿™ä¸ª â€œæ ¸å¿ƒæ¢çº½â€ è¿åœ¨ä¸€èµ·ååŒå·¥ä½œ â€”â€” å„ç§äº‹ä»¶éƒ½åœ¨è¿™é‡Œæ±‡èšã€åˆ†å‘ï¼Œæ¨ç€ä»»åŠ¡æŒ‰è®¡åˆ’ä¸€æ­¥æ­¥èµ°ï¼Œæœ€ç»ˆè®© AI Agentæœ‰èƒ½åŠ›å¤„ç†å¤æ‚ä»»åŠ¡ã€‚</p>
</li>
<li>
<p>ReAct èŒƒå¼å°±åƒæ˜¯ Agent çš„ â€œè¡Œä¸ºå‡†åˆ™â€ï¼Œå®šä¸‹äº† â€œå…ˆæ€è€ƒã€å†è¡ŒåŠ¨ã€æ”¶åé¦ˆâ€ çš„æ ¸å¿ƒé€»è¾‘ï¼Œç¡®ä¿å®ƒåšå†³ç­–æ—¶æœ‰æ¡ç†ã€ä¸æ··ä¹±ã€‚äº‹ä»¶é©±åŠ¨æ¨¡å‹åˆ™æ­èµ·äº†ç³»ç»Ÿçš„ â€œéª¨æ¶â€ï¼Œæ‰€æœ‰äº¤äº’éƒ½é äº‹ä»¶æµè½¬æ¥æ¨è¿›ï¼Œå„ä¸ªæ¨¡å—ä¸ç”¨ç¡¬ç»‘åœ¨ä¸€èµ·ï¼Œèƒ½çµæ´»åº”å¯¹å„ç§æƒ…å†µã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>Runtime</strong>ï¼šè´Ÿè´£æ‰§è¡ŒåŠ¨ä½œï¼Œå¹¶å‘é€å›è§‚å¯Ÿç»“æœã€‚</p>
<ul>
<li><strong>Sandbox</strong>ï¼šè¿è¡Œå‘½ä»¤çš„è¿è¡Œæ—¶ç¯å¢ƒéƒ¨åˆ†ï¼Œä¾‹å¦‚åœ¨ Docker å†…éƒ¨ã€‚</li>
<li>Runtime å’Œ Memory è¿™äº›ç»„ä»¶æ˜¯ç³»ç»Ÿçš„å…³é”® â€œå™¨å®˜â€ï¼šRuntime ä¼šæä¾›ä¸€ä¸ªéš”ç¦»çš„æ‰§è¡Œç¯å¢ƒï¼Œä¿è¯ä»£ç è¿è¡Œæ—¶å®‰å…¨åˆç¨³å®šï¼Œä¸ä¼šæä¹±å…¶ä»–éƒ¨åˆ†ï¼›Memory åˆ™æŠŠå†å²æ•°æ®ç®¡å¾—æ˜æ˜ç™½ç™½ï¼Œç»™ Agent åšå†³ç­–æä¾›è¿‡å¾€ç»éªŒã€‚</li>
</ul>
</li>
<li>
<p><strong>Server</strong>ï¼šé€šè¿‡ HTTP ç®¡ç† OpenHands ä¼šè¯ï¼Œä¾‹å¦‚é©±åŠ¨å‰ç«¯ã€‚</p>
<ul>
<li><strong>Session</strong>ï¼šä¿å­˜å•ä¸ª EventStreamã€å•ä¸ª AgentController å’Œå•ä¸ª Runtimeã€‚é€šå¸¸ä»£è¡¨ä¸€ä¸ªå•ä¸€ä»»åŠ¡ï¼ˆä½†å¯èƒ½åŒ…æ‹¬å‡ ä¸ªç”¨æˆ·æç¤ºï¼‰ã€‚</li>
<li><strong>ConversationManager</strong>ï¼šç»´æŠ¤ä¸€ä¸ªæ´»åŠ¨ä¼šè¯åˆ—è¡¨ï¼Œå¹¶ç¡®ä¿è¯·æ±‚è¢«è·¯ç”±åˆ°æ­£ç¡®çš„ä¼šè¯ã€‚</li>
</ul>
</li>
</ul>
<p>æ ¸å¿ƒç»„ä»¶äº¤äº’å…³ç³»å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b429c27dcc1a402a97f3e1f30be19f4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769433231&amp;x-signature=MDZTJJA8bynUXkh9gEBZhDAxE9Y%3D" alt="OpenHands-æ ¸å¿ƒç»„ä»¶äº¤äº’å…³ç³»" loading="lazy"/></p>
<p>OpenHands-æ ¸å¿ƒç»„ä»¶äº¤äº’å…³ç³»</p>
<p>è¿™ä¸ªæµç¨‹å±•ç¤ºäº† OpenHands ä½œä¸ºä¸€ä¸ª AI è½¯ä»¶å¼€å‘Agentå¹³å°çš„å®Œæ•´æ¶æ„ï¼Œä»ç”¨æˆ·äº¤äº’åˆ°æ ¸å¿ƒæ‰§è¡Œçš„å®Œæ•´æ•°æ®æµå’Œç»„ä»¶å…³ç³»ã€‚</p>
<ol>
<li>
<p>ç”¨æˆ·è¾“å…¥é˜¶æ®µ</p>
<ol>
<li>ç”¨æˆ·é€šè¿‡ Web ç•Œé¢ã€CLI æˆ– API å‘èµ·è¯·æ±‚</li>
<li>æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å¹¶åˆ›å»ºä¼šè¯</li>
<li>äº‹ä»¶é€šè¿‡äº‹ä»¶æµç³»ç»Ÿä¼ é€’</li>
</ol>
</li>
<li>
<p>Agent å¤„ç†é˜¶æ®µ</p>
<ol>
<li>Controller æ ¹æ®é…ç½®åˆå§‹åŒ–ç›¸åº” Agent</li>
<li>Agent åŸºäºå½“å‰çŠ¶æ€å’Œå†å²ç”Ÿæˆå†³ç­–</li>
<li>é€šè¿‡å·¥å…·ç³»ç»Ÿæ‰§è¡Œå…·ä½“æ“ä½œ</li>
</ol>
</li>
<li>
<p>æ‰§è¡Œé˜¶æ®µ</p>
<ol>
<li>Runtime ç¯å¢ƒæ‰§è¡Œå…·ä½“å‘½ä»¤æˆ–ä»£ç </li>
<li>æ’ä»¶ç³»ç»Ÿæä¾›é¢å¤–åŠŸèƒ½æ”¯æŒ</li>
<li>å®‰å…¨ç³»ç»Ÿç›‘æ§æ‰§è¡Œè¿‡ç¨‹</li>
</ol>
</li>
<li>
<p>åé¦ˆé˜¶æ®µ</p>
<ol>
<li>æ‰§è¡Œç»“æœä½œä¸º Observation è¿”å›</li>
<li>æ›´æ–° Agent çŠ¶æ€å’Œè®°å¿†</li>
<li>å°†ç»“æœè¿”å›ç»™ç”¨æˆ·</li>
</ol>
</li>
</ol>
<h3 data-id="heading-14">0xFF å‚è€ƒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.all-hands.dev%2Fopenhands%2Fusage%2Farchitecture%2Fbackend" target="_blank" title="https://docs.all-hands.dev/openhands/usage/architecture/backend" ref="nofollow noopener noreferrer">docs.all-hands.dev/openhands/uâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1936485868761257658" target="_blank" title="https://zhuanlan.zhihu.com/p/1936485868761257658" ref="nofollow noopener noreferrer">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬äºŒç¯‡ï¼šAgent ç›¸å…³æ ¸å¿ƒæ¦‚å¿µã€‘</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fdreamrenderx" target="_blank" title="https://www.zhihu.com/people/dreamrenderx" ref="nofollow noopener noreferrer">å…‹é‡Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1936175201323825087" target="_blank" title="https://zhuanlan.zhihu.com/p/1936175201323825087" ref="nofollow noopener noreferrer">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬ä¸€ç¯‡ï¼šç³»åˆ—å¯¼è¯»ã€‘</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fdreamrenderx" target="_blank" title="https://www.zhihu.com/people/dreamrenderx" ref="nofollow noopener noreferrer">å…‹é‡Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940436682949244630" target="_blank" title="https://zhuanlan.zhihu.com/p/1940436682949244630" ref="nofollow noopener noreferrer">Coding Agentä¹‹Openhandsè§£æ(å«ä»£ç )</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fwu-long-ming-cha-56" target="_blank" title="https://www.zhihu.com/people/wu-long-ming-cha-56" ref="nofollow noopener noreferrer">Arrow</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940824548485347192" target="_blank" title="https://zhuanlan.zhihu.com/p/1940824548485347192" ref="nofollow noopener noreferrer">OpenHands æºç è§£è¯»</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fxiao-hui-66-72" target="_blank" title="https://www.zhihu.com/people/xiao-hui-66-72" ref="nofollow noopener noreferrer">ä¸€åŠ›è¾‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1968688671378093192" target="_blank" title="https://zhuanlan.zhihu.com/p/1968688671378093192" ref="nofollow noopener noreferrer">ã€Agentå·¥ç¨‹ã€‘01-Agentå·¥ç¨‹æŠ€æœ¯æ´å¯Ÿã€æŒ‘æˆ˜ä»¥åŠè§£å†³æ–¹æ¡ˆ</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fwldandan" target="_blank" title="https://www.zhihu.com/people/wldandan" ref="nofollow noopener noreferrer">ç‹ç£Š</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fbuilding-effective-agents" target="_blank" title="https://www.anthropic.com/engineering/building-effective-agents" ref="nofollow noopener noreferrer">Building effective agents</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F-BvGnwEbgrFknZ6I-pYfjw" target="_blank" title="https://mp.weixin.qq.com/s/-BvGnwEbgrFknZ6I-pYfjw" ref="nofollow noopener noreferrer">ä»ä»£ç ç”Ÿæˆåˆ°è‡ªä¸»å†³ç­–ï¼šæ‰“é€ ä¸€ä¸ªCodingé©±åŠ¨çš„â€œè‡ªæˆ‘ç¼–ç¨‹â€Agent</a> é˜¿é‡Œäº‘å¼€å‘è€…</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1951318616042631326" target="_blank" title="https://zhuanlan.zhihu.com/p/1951318616042631326" ref="nofollow noopener noreferrer">ä» Prompt åˆ° Contextï¼šåŸºäº 1400+ è®ºæ–‡çš„ Context Engineering ç³»ç»Ÿç»¼è¿°</a> é˜¿é‡Œäº‘å¼€å‘è€…</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1948375162039804773" target="_blank" title="https://zhuanlan.zhihu.com/p/1948375162039804773" ref="nofollow noopener noreferrer">Claude Code æ·±åº¦æ‹†è§£ï¼šä¸€ä¸ªé¡¶çº§AIç¼–ç¨‹å·¥å…·çš„æ ¸å¿ƒæ¶æ„</a> é˜¿é‡Œäº‘å¼€å‘è€…</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzk0MjIwODQ2NA%3D%3D%26mid%3D2247485335%26idx%3D1%26sn%3D2966d272496d757696401d0b27b7a97a%26chksm%3Dc39a89bf69181b5351ee005d9915f4421191b6eb9b8d7833bf5a20eebc74772114da3f41133a%26mpshare%3D1%26scene%3D1%26srcid%3D11156OroWY1YJfDyRmvO25A5%26sharer_shareinfo%3D4415f8a41c58f4e4f12e4cedde93066e%26sharer_shareinfo_first%3D4415f8a41c58f4e4f12e4cedde93066e%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzk0MjIwODQ2NA==&amp;mid=2247485335&amp;idx=1&amp;sn=2966d272496d757696401d0b27b7a97a&amp;chksm=c39a89bf69181b5351ee005d9915f4421191b6eb9b8d7833bf5a20eebc74772114da3f41133a&amp;mpshare=1&amp;scene=1&amp;srcid=11156OroWY1YJfDyRmvO25A5&amp;sharer_shareinfo=4415f8a41c58f4e4f12e4cedde93066e&amp;sharer_shareinfo_first=4415f8a41c58f4e4f12e4cedde93066e#rd" ref="nofollow noopener noreferrer">ä»æ€è€ƒåˆ°è¡ŒåŠ¨ï¼šæ·±åº¦è§£æç±»Manus AI Agentæ¶æ„è®¾è®¡ä¸æœªæ¥æ¼”è¿›</a> AnthroTech AI</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F703618853" target="_blank" title="https://zhuanlan.zhihu.com/p/703618853" ref="nofollow noopener noreferrer">AIç¨‹åºå‘˜ä¹‹OpenDevinæºç å‰–æ</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fzheng-guo-hua-82" target="_blank" title="https://www.zhihu.com/people/zheng-guo-hua-82" ref="nofollow noopener noreferrer">goofy</a></p>
<p>The OpenHands Software Agent SDK: A Composable and Extensible Foundation for Production Agents 2511.03690v1</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fassets.jimmysong.io%2Fbooks%2Fmachine-learning-systems-zh-20251023.pdf" target="_blank" title="https://assets.jimmysong.io/books/machine-learning-systems-zh-20251023.pdf" ref="nofollow noopener noreferrer">æœºå™¨å­¦ä¹ ç³»ç»Ÿæ•™ç¨‹ AI â¼¯ç¨‹åŸç†ä¸å®è·µ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxindoo%2Fagentic-design-patterns" target="_blank" title="https://github.com/xindoo/agentic-design-patterns" ref="nofollow noopener noreferrer">Agentic Design Patternsï¼ˆä¸­æ–‡ç¿»è¯‘é¡¹ç›®ï¼‰</a></p>
<p>AIåŸç”Ÿåº”ç”¨æ¶æ„ç™½çš®ä¹¦</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1977044815716832440" target="_blank" title="https://zhuanlan.zhihu.com/p/1977044815716832440" ref="nofollow noopener noreferrer">2025å¿…çœ‹ç³»åˆ—ï¼šAIå¦‚ä½•é‡æ–°å®šä¹‰ç ”ç©¶ï¼Ÿä¸‡å­—é•¿æ–‡è®²é€ã€ŒDeep Researchã€</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1975514242754049684" target="_blank" title="https://zhuanlan.zhihu.com/p/1975514242754049684" ref="nofollow noopener noreferrer">Agentå¼€å‘å®è·µï¼šä»æƒ³æ³•åˆ°äº§å“â€”â€”SSEã€ä¸Šä¸‹æ–‡å·¥ç¨‹ä¸æµå¼è§£æå…³é”®æŠ€æœ¯æ”»åš</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1976305837011116648" target="_blank" title="https://zhuanlan.zhihu.com/p/1976305837011116648" ref="nofollow noopener noreferrer">æ·±å…¥AI Agentå†…æ ¸ï¼šGoogle gemini-cli æºç æ·±åº¦è§£æ„</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1975511012347249929" target="_blank" title="https://zhuanlan.zhihu.com/p/1975511012347249929" ref="nofollow noopener noreferrer">Agentå¼€å‘å®è·µï¼šä»æƒ³æ³•åˆ°äº§å“â€”â€”ç³»ç»Ÿæ¶æ„è®¾è®¡å®è·µ</a></p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.2åº”ç”¨ç¨‹åºé˜¶æ®µ]]></title>    <link>https://juejin.cn/post/7596905015367008256</link>    <guid>https://juejin.cn/post/7596905015367008256</guid>    <pubDate>2026-01-19T14:01:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596905015367008256" data-draft-id="7596869784538677248" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.2åº”ç”¨ç¨‹åºé˜¶æ®µ"/> <meta itemprop="keywords" content="è®¡ç®—æœºå›¾å½¢å­¦"/> <meta itemprop="datePublished" content="2026-01-19T14:01:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="charlee44"/> <meta itemprop="url" content="https://juejin.cn/user/1117549770846872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.2åº”ç”¨ç¨‹åºé˜¶æ®µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117549770846872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    charlee44
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T14:01:50.000Z" title="Mon Jan 19 2026 14:01:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®æ—¶æ¸²æŸ“</h2>
<h3 data-id="heading-1">2. å›¾å½¢æ¸²æŸ“ç®¡çº¿</h3>
<blockquote>
<p>é“¾æ¡çš„åšå›ºç¨‹åº¦å–å†³äºå®ƒæœ€è–„å¼±çš„ç¯èŠ‚ã€‚
--åŒ¿åè€…</p>
</blockquote>
<p>æœ¬ç« ä»‹ç»å®æ—¶å›¾å½¢æ¸²æŸ“çš„æ ¸å¿ƒç»„ä»¶ï¼Œå³å›¾å½¢æ¸²æŸ“ç®¡çº¿ï¼Œä¹Ÿç®€ç§°ä¸ºâ€œç®¡çº¿â€ã€‚ç®¡çº¿çš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡ç»™å®šè™šæ‹Ÿç›¸æœºã€ä¸‰ç»´å¯¹è±¡ã€å…‰æºç­‰ï¼Œç”Ÿæˆæˆ–æ¸²æŸ“äºŒç»´å›¾åƒã€‚å› æ­¤ï¼Œæ¸²æŸ“ç®¡çº¿æ˜¯å®æ—¶æ¸²æŸ“çš„åŸºç¡€å·¥å…·ã€‚ä½¿ç”¨ç®¡çº¿çš„è¿‡ç¨‹å¦‚å›¾2.1æ‰€ç¤ºã€‚å›¾åƒä¸­å¯¹è±¡çš„ä½ç½®å’Œå½¢çŠ¶ç”±å®ƒä»¬çš„å‡ ä½•å½¢çŠ¶ã€ç¯å¢ƒç‰¹å¾ä»¥åŠç›¸æœºåœ¨è¯¥ç¯å¢ƒä¸­çš„ä½ç½®å†³å®šã€‚å¯¹è±¡çš„å¤–è§‚å—ææ–™å±æ€§ã€å…‰æºã€çº¹ç†ï¼ˆåº”ç”¨äºè¡¨é¢çš„å›¾åƒï¼‰å’Œç€è‰²æ–¹ç¨‹çš„å½±å“ã€‚</p>
<div align="center">
<p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/d95783d1a1d947bfb5dcee935e0c6f84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNzU0OTc3MDg0Njg3MiJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1768917642&amp;x-orig-sign=a4wij8VYre0xrQ7edMavd6S15rc%3D" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" loading="lazy"/></p>
</div>
<div align="center">
<p><strong>å›¾2.1</strong>. åœ¨å·¦å›¾ä¸­ï¼Œä¸€ä¸ªè™šæ‹Ÿç›¸æœºä½äºé‡‘å­—å¡”çš„é¡¶ç«¯ï¼ˆå››æ¡çº¿ä¼šèšçš„åœ°æ–¹ï¼‰ã€‚ä»…æ¸²æŸ“è§†å›¾ä½“ç§¯å†…çš„å›¾å…ƒã€‚å¯¹äºé€è§†æ¸²æŸ“çš„å›¾åƒï¼ˆå¦‚è¿™é‡Œçš„æƒ…å†µï¼‰ï¼Œè§†å›¾ä½“ç§¯æ˜¯ä¸€ä¸ªå¹³æˆªå¤´ä½“(frustum,å¤æ•°ä¸ºfrustaï¼‰ï¼Œå³å…·æœ‰çŸ©å½¢åº•éƒ¨çš„æˆªæ£±é”¥ã€‚å³å›¾æ˜¾ç¤ºäº†ç›¸æœºâ€œçœ‹åˆ°â€çš„å†…å®¹ã€‚è¯·æ³¨æ„ï¼Œå·¦ä¾§å›¾åƒä¸­çš„çº¢è‰²ç”œç”œåœˆå½¢çŠ¶ä¸åœ¨å³ä¾§çš„æ¸²æŸ“ä¸­ï¼Œå› ä¸ºå®ƒä½äºè§†é”¥ä½“ä¹‹å¤–ã€‚æ­¤å¤–ï¼Œå·¦å›¾ä¸­æ‰­æ›²çš„è“è‰²æ£±é•œè¢«å‰ªè£åœ¨å¹³æˆªå¤´ä½“çš„é¡¶å¹³é¢ä¸Šã€‚</p>
</div>
<p>æˆ‘ä»¬å°†è§£é‡Šæ¸²æŸ“ç®¡çº¿çš„ä¸åŒé˜¶æ®µï¼Œé‡ç‚¹æ˜¯åŠŸèƒ½è€Œä¸æ˜¯å®ç°ã€‚åº”ç”¨è¿™äº›é˜¶æ®µçš„ç›¸å…³ç»†èŠ‚å°†åœ¨åé¢çš„ç« èŠ‚ä¸­ä»‹ç»ã€‚</p>
<h4 data-id="heading-2">2.1 æ¶æ„</h4>
<p>åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œç®¡çº¿çš„æ¦‚å¿µä»¥è®¸å¤šä¸åŒçš„å½¢å¼è¡¨ç°å‡ºæ¥ï¼Œä»å·¥å‚è£…é…çº¿åˆ°å¿«é¤å¨æˆ¿ã€‚å®ƒä¹Ÿé€‚ç”¨äºå›¾å½¢æ¸²æŸ“ã€‚ç®¡çº¿ç”±å‡ ä¸ªé˜¶æ®µç»„æˆ[715]ï¼Œæ¯ä¸ªé˜¶æ®µæ‰§è¡Œä¸€ä¸ªæ›´å¤§ä»»åŠ¡çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æ¯ä¸€ä¸ªæµæ°´çº¿é˜¶æ®µéƒ½æ˜¯å¹¶è¡Œæ‰§è¡Œï¼Œä½†æ˜¯å…¶éƒ½ä¾èµ–äºå‰ä¸€é˜¶æ®µçš„ç»“æœã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œä¸€ä¸ªéæµæ°´çº¿ç³»ç»Ÿç„¶åè¢«åˆ†æˆnä¸ªæµæ°´çº¿çº§ï¼Œå¯ä»¥æä¾›nå€çš„åŠ é€Ÿã€‚è¿™ç§æ€§èƒ½çš„æé«˜æ˜¯ä½¿ç”¨æµæ°´çº¿çš„ä¸»è¦åŸå› ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”±ä¸€ç³»åˆ—äººå¿«é€Ÿå‡†å¤‡å¤§é‡ä¸‰æ˜æ²»â€”â€”ä¸€ä¸ªå‡†å¤‡é¢åŒ…ï¼Œå¦ä¸€ä¸ªæ·»åŠ è‚‰ï¼Œå¦ä¸€ä¸ªæ·»åŠ æµ‡å¤´ã€‚æ¯ä¸ªäººéƒ½å°†ç»“æœä¼ é€’ç»™æ’é˜Ÿçš„ä¸‹ä¸€ä¸ªäººï¼Œç„¶åç«‹å³å¼€å§‹åˆ¶ä½œä¸‹ä¸€ä¸ªä¸‰æ˜æ²»ã€‚å¦‚æœæ¯ä¸ªäººéœ€è¦20ç§’æ¥å®Œæˆä»–ä»¬çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆæ¯20ç§’ä¸€ä¸ªä¸‰æ˜æ²»çš„æœ€å¤§é€Ÿåº¦æ˜¯å¯èƒ½çš„ï¼Œæ¯åˆ†é’Ÿä¸‰ä¸ªã€‚æµæ°´çº¿é˜¶æ®µå¹¶è¡Œæ‰§è¡Œï¼Œä½†å®ƒä»¬ä¼šæš‚åœï¼Œç›´åˆ°æœ€æ…¢çš„é˜¶æ®µå®Œæˆå…¶ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œå‡è®¾è‚‰ç±»æ·»åŠ é˜¶æ®µå˜å¾—æ›´åŠ å¤æ‚ï¼Œéœ€è¦30ç§’ã€‚ç°åœ¨å¯ä»¥è¾¾åˆ°çš„æœ€ä½³é€Ÿåº¦æ˜¯æ¯åˆ†é’Ÿä¸¤ä¸ªä¸‰æ˜æ²»ã€‚å¯¹äºè¿™ä¸ªç‰¹å®šçš„ç®¡çº¿ï¼Œè‚‰é˜¶æ®µæ˜¯ç“¶é¢ˆï¼Œå› ä¸ºå®ƒå†³å®šäº†æ•´ä¸ªç”Ÿäº§çš„é€Ÿåº¦ã€‚æ®è¯´æµ‡å¤´é˜¶æ®µåœ¨ç­‰å¾…è‚‰ç±»é˜¶æ®µå®ŒæˆæœŸé—´é¥¿æ­»äº†ï¼ˆé¡¾å®¢ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚</p>
<p>è¿™ç§ç®¡çº¿ç»“æ„ä¹Ÿå¯ä»¥åœ¨å®æ—¶è®¡ç®—æœºå›¾å½¢çš„ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°ã€‚å®æ—¶æ¸²æŸ“ç®¡çº¿ç²—ç•¥åˆ’åˆ†ä¸ºå››ä¸ªä¸»è¦é˜¶æ®µâ€”â€”åº”ç”¨ç¨‹åºã€å‡ ä½•å¤„ç†ã€å…‰æ …åŒ–å’Œåƒç´ å¤„ç†â€”â€”å¦‚å›¾2.2æ‰€ç¤ºã€‚æ¸²æŸ“ç®¡çº¿å¼•æ“ç”¨äºå®æ—¶è®¡ç®—æœºå›¾å½¢åº”ç”¨ç¨‹åºï¼Œå…¶æ ¸å¿ƒæ­£æ˜¯è¿™ç§ç»“æ„ï¼›å› æ­¤è¿™ç§ç®¡çº¿ç»“æ„æ˜¯åç»­ç« èŠ‚è®¨è®ºçš„é‡è¦åŸºç¡€ã€‚è¿™äº›é˜¶æ®µä¸­çš„æ¯ä¸€ä¸ªé€šå¸¸æœ¬èº«å°±æ˜¯ä¸€ä¸ªç®¡é“ï¼Œè¿™æ„å‘³ç€å®ƒç”±å‡ ä¸ªå­é˜¶æ®µç»„æˆã€‚æˆ‘ä»¬åŒºåˆ†æ­¤å¤„æ˜¾ç¤ºçš„åŠŸèƒ½é˜¶æ®µåŠå…¶å®ç°ç»“æ„ã€‚ä¸€ä¸ªåŠŸèƒ½é˜¶æ®µæœ‰ä¸€ä¸ªç‰¹å®šçš„ä»»åŠ¡è¦æ‰§è¡Œï¼Œä½†æ²¡æœ‰æŒ‡å®šä»»åŠ¡åœ¨ç®¡é“ä¸­çš„æ‰§è¡Œæ–¹å¼ã€‚ä¸€ä¸ªç»™å®šçš„å®ç°å¯ä»¥å°†ä¸¤ä¸ªåŠŸèƒ½é˜¶æ®µåˆå¹¶ä¸ºä¸€ä¸ªå•å…ƒæˆ–ä½¿ç”¨å¯ç¼–ç¨‹å†…æ ¸æ‰§è¡Œï¼ŒåŒæ—¶å®ƒå°†å¦ä¸€ä¸ªæ›´è€—æ—¶çš„åŠŸèƒ½é˜¶æ®µåˆ’åˆ†ä¸ºå‡ ä¸ªç¡¬ä»¶å•å…ƒã€‚</p>
<div align="center">
<p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/a85d8a25c0d846e4af2faf6f7754655a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNzU0OTc3MDg0Njg3MiJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1768917642&amp;x-orig-sign=gGTob78UXKZqYCp9nlGBhaaIzXU%3D" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" loading="lazy"/></p>
</div>
<div align="center">
<p><strong>å›¾2.2</strong>. æ¸²æŸ“ç®¡çº¿çš„åŸºæœ¬ç»“æ„ï¼ŒåŒ…æ‹¬å››ä¸ªé˜¶æ®µï¼šåº”ç”¨ç¨‹åºã€å‡ ä½•å¤„ç†ã€å…‰æ …åŒ–å’Œåƒç´ å¤„ç†ã€‚è¿™äº›é˜¶æ®µä¸­çš„æ¯ä¸€ä¸ªæœ¬èº«éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªæµæ°´çº¿ï¼Œå¦‚å‡ ä½•å¤„ç†é˜¶æ®µä¸‹æ–¹æ‰€ç¤ºï¼Œæˆ–è€…ä¸€ä¸ªé˜¶æ®µå¯ä»¥ï¼ˆéƒ¨åˆ†ï¼‰å¹¶è¡ŒåŒ–ï¼Œå¦‚åƒç´ å¤„ç†é˜¶æ®µä¸‹æ–¹æ‰€ç¤ºã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåº”ç”¨ç¨‹åºé˜¶æ®µæ˜¯ä¸€ä¸ªå•ä¸€çš„è¿›ç¨‹ï¼Œä½†è¿™ä¸ªé˜¶æ®µä¹Ÿå¯ä»¥æ˜¯æµæ°´çº¿æˆ–å¹¶è¡Œçš„ã€‚è¯·æ³¨æ„ï¼Œå…‰æ …åŒ–é˜¶æ®µä¼šæŸ¥æ‰¾å›¾å…ƒå†…éƒ¨çš„åƒç´ ï¼Œä¾‹å¦‚ä¸‰è§’å½¢ã€‚</p>
</div>
<p>æ¸²æŸ“é€Ÿåº¦å¯ä»¥ç”¨æ¯ç§’å¸§æ•°(FPS)æ¥è¡¨ç¤ºï¼Œå³æ¯ç§’æ¸²æŸ“çš„å›¾åƒæ•°é‡ã€‚ä¹Ÿå¯ä»¥ç”¨èµ«å…¹(Hz)æ¥è¡¨ç¤ºï¼Œå®ƒåªæ˜¯1/ç§’çš„è¡¨ç¤ºæ³•ï¼Œå³æ›´æ–°é¢‘ç‡ã€‚ä»…è¯´æ˜æ¸²æŸ“å›¾åƒæ‰€éœ€çš„æ—¶é—´ï¼ˆä»¥æ¯«ç§’(ms)ä¸ºå•ä½ï¼‰ä¹Ÿå¾ˆå¸¸è§ã€‚ç”Ÿæˆå›¾åƒçš„æ—¶é—´é€šå¸¸ä¼šæœ‰æ‰€ä¸åŒï¼Œå…·ä½“å–å†³äºæ¯å¸§æœŸé—´æ‰§è¡Œçš„è®¡ç®—çš„å¤æ‚æ€§ã€‚æ¯ç§’å¸§æ•°ç”¨äºè¡¨ç¤ºç‰¹å®šå¸§çš„é€Ÿç‡æˆ–ä¸€æ®µæ—¶é—´å†…çš„å¹³å‡æ€§èƒ½ã€‚èµ«å…¹ç”¨äºç¡¬ä»¶ï¼Œä¾‹å¦‚è®¾ç½®ä¸ºå›ºå®šé€Ÿç‡çš„æ˜¾ç¤ºå™¨ã€‚</p>
<p>é¡¾åæ€ä¹‰ï¼Œåº”ç”¨ç¨‹åºé˜¶æ®µç”±åº”ç”¨ç¨‹åºé©±åŠ¨ï¼Œå› æ­¤é€šå¸¸åœ¨é€šç”¨CPUä¸Šè¿è¡Œçš„è½¯ä»¶ä¸­å®ç°ã€‚è¿™äº›CPUé€šå¸¸åŒ…æ‹¬èƒ½å¤Ÿå¹¶è¡Œå¤„ç†å¤šä¸ªæ‰§è¡Œçº¿ç¨‹çš„å¤šä¸ªå†…æ ¸ã€‚è¿™ä½¿CPUèƒ½å¤Ÿæœ‰æ•ˆåœ°è¿è¡Œç”±åº”ç”¨ç¨‹åºé˜¶æ®µè´Ÿè´£çš„å„ç§ä»»åŠ¡ã€‚ä¸€äº›ä¼ ç»Ÿä¸Šåœ¨CPUä¸Šæ‰§è¡Œçš„ä»»åŠ¡åŒ…æ‹¬ç¢°æ’æ£€æµ‹ã€å…¨å±€åŠ é€Ÿç®—æ³•ã€åŠ¨ç”»ã€ç‰©ç†æ¨¡æ‹Ÿç­‰ï¼Œå…·ä½“å–å†³äºåº”ç”¨ç¨‹åºçš„ç±»å‹ã€‚ä¸‹ä¸€ä¸ªä¸»è¦é˜¶æ®µæ˜¯å‡ ä½•å¤„ç†ï¼Œå®ƒå¤„ç†å˜æ¢ã€æŠ•å½±å’Œæ‰€æœ‰å…¶ä»–ç±»å‹çš„å‡ ä½•å¤„ç†ã€‚æ­¤é˜¶æ®µè®¡ç®—è¦ç»˜åˆ¶çš„å†…å®¹ã€åº”å¦‚ä½•ç»˜åˆ¶ä»¥åŠåº”åœ¨ä½•å¤„ç»˜åˆ¶ã€‚å‡ ä½•é˜¶æ®µé€šå¸¸åœ¨åŒ…å«è®¸å¤šå¯ç¼–ç¨‹å†…æ ¸å’Œå›ºå®šæ“ä½œç¡¬ä»¶çš„å›¾å½¢å¤„ç†å•å…ƒ(GPU)ä¸Šæ‰§è¡Œã€‚å…‰æ …åŒ–é˜¶æ®µé€šå¸¸å°†ä¸‰ä¸ªé¡¶ç‚¹ä½œä¸ºè¾“å…¥ï¼Œå½¢æˆä¸€ä¸ªä¸‰è§’å½¢ï¼Œå¹¶æ‰¾åˆ°è¯¥ä¸‰è§’å½¢å†…çš„æ‰€æœ‰åƒç´ ï¼Œç„¶åå°†è¿™äº›åƒç´ è½¬å‘åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚æœ€åï¼Œåƒç´ å¤„ç†é˜¶æ®µå¯¹æ¯ä¸ªåƒç´ æ‰§è¡Œä¸€ä¸ªç¨‹åºä»¥ç¡®å®šå…¶é¢œè‰²ï¼Œå¹¶å¯èƒ½æ‰§è¡Œæ·±åº¦æµ‹è¯•ä»¥æŸ¥çœ‹å®ƒæ˜¯å¦å¯è§ã€‚å®ƒè¿˜å¯ä»¥æ‰§è¡Œé€åƒç´ æ“ä½œï¼Œä¾‹å¦‚å°†æ–°è®¡ç®—çš„é¢œè‰²ä¸å…ˆå‰çš„é¢œè‰²æ··åˆã€‚å…‰æ …åŒ–å’Œåƒç´ å¤„ç†é˜¶æ®µä¹Ÿå®Œå…¨åœ¨GPUä¸Šå¤„ç†ã€‚æ‰€æœ‰è¿™äº›é˜¶æ®µåŠå…¶å†…éƒ¨ç®¡é“å°†åœ¨æ¥ä¸‹æ¥çš„å››èŠ‚ä¸­è®¨è®ºã€‚æœ‰å…³GPUå¦‚ä½•å¤„ç†è¿™äº›é˜¶æ®µçš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://link.juejin.cn?target=%25E7%25AC%25AC3%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC3%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬3ç« </a>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git Stash ä½¿ç”¨ç¬”è®°ï¼šä»ä¸€æ¬¡ PowerShell çš„â€œç¥ç§˜æŠ¥é”™â€è¯´èµ·]]></title>    <link>https://juejin.cn/post/7596698363964702758</link>    <guid>https://juejin.cn/post/7596698363964702758</guid>    <pubDate>2026-01-19T12:04:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596698363964702758" data-draft-id="7596698363964686374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git Stash ä½¿ç”¨ç¬”è®°ï¼šä»ä¸€æ¬¡ PowerShell çš„â€œç¥ç§˜æŠ¥é”™â€è¯´èµ·"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-19T12:04:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªç”±ç”Ÿé•¿2024"/> <meta itemprop="url" content="https://juejin.cn/user/1591748569862670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git Stash ä½¿ç”¨ç¬”è®°ï¼šä»ä¸€æ¬¡ PowerShell çš„â€œç¥ç§˜æŠ¥é”™â€è¯´èµ·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748569862670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªç”±ç”Ÿé•¿2024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T12:04:55.000Z" title="Mon Jan 19 2026 12:04:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‘˜è¦ï¼šåœ¨ PowerShell ä¸­ä½¿ç”¨Â <code>git stash</code>Â æ—¶ï¼Œ<code>stash@{0}</code>Â éœ€åŠ åŒå¼•å·ï¼ˆå¦‚Â <code>"stash@{0}"</code>ï¼‰ï¼Œå¦åˆ™èŠ±æ‹¬å·ä¼šè¢«é”™è¯¯è§£æï¼Œå¯¼è‡´â€œunknown switch 'e'â€ç­‰è¯¡å¼‚æŠ¥é”™ã€‚æ­£ç¡®ä½¿ç”¨Â <code>drop</code>Â å¯ç›´æ¥åˆ é™¤ stash è€Œä¸æ¢å¤å†…å®¹ã€‚</p>
<h2 data-id="heading-0">Git Stash ä½¿ç”¨ç¬”è®°ï¼šä»ä¸€æ¬¡ PowerShell çš„â€œç¥ç§˜æŠ¥é”™â€è¯´èµ·</h2>
<p>æœ€è¿‘åœ¨ä½¿ç”¨ <code>git stash</code> æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªä»¤äººå›°æƒ‘çš„é”™è¯¯ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell">PS &gt; git stash pop stash@{0}
error: unknown switch `e'
</code></pre>
<p>æ˜æ˜å‘½ä»¤å†™å¾—å®Œå…¨æ­£ç¡®ï¼Œå´æç¤ºâ€œæœªçŸ¥å¼€å…³ <code>e</code>â€â€”â€”æˆ‘æ ¹æœ¬æ²¡è¾“å…¥ <code>-e</code> å•Šï¼<br/>
ç»è¿‡æ’æŸ¥ï¼Œæ‰å‘ç°é—®é¢˜æ ¹æºä¸åœ¨ Gitï¼Œè€Œåœ¨äº <strong>PowerShell å¯¹ç‰¹æ®Šå­—ç¬¦çš„è§£ææœºåˆ¶</strong>ã€‚<br/>
è¿™ç¯‡ç¬”è®°å°±å›´ç»•è¿™ä¸ªçœŸå®é—®é¢˜ï¼Œæ¢³ç† <code>git stash</code> çš„æ ¸å¿ƒç”¨æ³•å’Œåœ¨ Windows PowerShell ä¸­çš„æ³¨æ„äº‹é¡¹ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜å¤ç°ï¼šä¸ºä»€ä¹ˆ <code>git stash pop stash@{0}</code> æŠ¥é”™ï¼Ÿ</h3>
<h4 data-id="heading-2">âŒ é”™è¯¯å‘½ä»¤ï¼ˆåœ¨ PowerShell ä¸­ï¼‰ï¼š</h4>
<pre><code class="hljs language-powershell" lang="powershell">git stash pop stash@{0}
</code></pre>
<h4 data-id="heading-3">ğŸ’¥ æŠ¥é”™ä¿¡æ¯ï¼š</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-type">error</span>: unknown <span class="hljs-keyword">switch</span> <span class="hljs-string">`e'
</span></code></pre>
<h4 data-id="heading-4">ğŸ” åŸå› åˆ†æï¼š</h4>
<p>åœ¨ <strong>PowerShell</strong> ä¸­ï¼ŒèŠ±æ‹¬å· <code>{}</code> æ˜¯<strong>ä¿ç•™å­—ç¬¦</strong>ï¼Œå¸¸ç”¨äºå­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼ˆå¦‚ <code>"Hello {0}" -f "World"</code>ï¼‰ã€‚<br/>
å½“ä½ è¾“å…¥ <code>stash@{0}</code> æ—¶ï¼ŒPowerShell ä¼šå°è¯•è§£æ <code>{0}</code>ï¼Œå¯èƒ½å°†å…¶æ›¿æ¢æˆ–è½¬ä¹‰ï¼Œå¯¼è‡´å®é™…ä¼ ç»™ Git çš„å‚æ•°å˜æˆç±»ä¼¼ <code>stash@e</code> æˆ–å…¶ä»–ä¹±ç ï¼ŒGit äºæ˜¯è®¤ä¸ºä½ ä¼ äº†ä¸€ä¸ªéæ³•é€‰é¡¹ <code>-e</code>ã€‚</p>
<blockquote>
<p>ğŸ“Œ æ³¨æ„ï¼šè¿™ä¸ªé—®é¢˜<strong>åªå‡ºç°åœ¨ PowerShellï¼ˆæˆ–æŸäº› CMD ç¯å¢ƒï¼‰</strong>ï¼Œåœ¨ Git Bashã€Linux æˆ– macOS ç»ˆç«¯ä¸­é€šå¸¸ä¸ä¼šå‘ç”Ÿã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">äºŒã€è§£å†³æ–¹æ¡ˆï¼šåŠ å¼•å·ï¼</h3>
<p>åœ¨ PowerShell ä¸­ï¼Œ<strong>åªè¦å‘½ä»¤åŒ…å« <code>{}</code>ã€<code>$</code>ã€<code>@</code> ç­‰ç‰¹æ®Šå­—ç¬¦ï¼ŒåŠ¡å¿…ç”¨åŒå¼•å·åŒ…è£¹</strong>ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell">git stash pop "stash@{0}"
git stash apply "stash@{1}"
git stash drop "stash@{0}"
git stash show -p "stash@{0}"
</code></pre>
<p>âœ… åŠ ä¸Šå¼•å·åï¼ŒPowerShell ä¸å†è§£æ <code>{0}</code>ï¼Œè€Œæ˜¯åŸæ ·ä¼ é€’ç»™ Gitï¼Œé—®é¢˜è¿åˆƒè€Œè§£ã€‚</p>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€å¸¸ç”¨ <code>git stash</code> å‘½ä»¤é€ŸæŸ¥ï¼ˆPowerShell å®‰å…¨ç‰ˆï¼‰</h3>








































<table><thead><tr><th>åœºæ™¯</th><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æŸ¥çœ‹æ‰€æœ‰ stash</strong></td><td><code>git stash list</code></td><td>æ˜¾ç¤º stash åˆ—è¡¨ï¼Œå¦‚ <code>stash@{0}: WIP on main: ...</code></td></tr><tr><td><strong>æŸ¥çœ‹ stash å†…å®¹</strong></td><td><code>git stash show -p "stash@{0}"</code></td><td>æ˜¾ç¤ºå…·ä½“ä»£ç å˜æ›´ï¼ˆå¿…é¡»åŠ  <code>-p</code> æ‰çœ‹ diffï¼‰ï¼Œ å¦‚æœä¸åŠ  stash@{0}å°±æ˜¯é»˜è®¤å¯¹æ¯”HEADå’Œæœ€æ–°çš„stash</td></tr><tr><td><strong>æ¢å¤å¹¶åˆ é™¤ stash</strong></td><td><code>git stash pop "stash@{0}"</code></td><td>åº”ç”¨ä¿®æ”¹ + ä»åˆ—è¡¨ç§»é™¤ï¼ˆé»˜è®¤æ“ä½œæœ€æ–° stashï¼‰</td></tr><tr><td><strong>ä»…æ¢å¤ä¸åˆ é™¤</strong></td><td><code>git stash apply "stash@{0}"</code></td><td>ä¿ç•™ stash è®°å½•ï¼Œå¯å¤šæ¬¡ apply</td></tr><tr><td><strong>ç›´æ¥åˆ é™¤ stash</strong></td><td><code>git stash drop "stash@{0}"</code></td><td><strong>ä¸æ¢å¤å†…å®¹ï¼Œä»…åˆ é™¤è®°å½•</strong>ï¼ˆå›ç­”æœ¬æ–‡å¼€å¤´éœ€æ±‚ï¼‰</td></tr><tr><td><strong>æ¸…ç©ºæ‰€æœ‰ stash</strong></td><td><code>git stash clear</code></td><td>æ°¸ä¹…åˆ é™¤æ‰€æœ‰ stashï¼ˆæ…ç”¨ï¼ï¼‰</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ å°æŠ€å·§ï¼šå¦‚æœä¸æŒ‡å®š stash åç§°ï¼ˆå¦‚ <code>git stash pop</code>ï¼‰ï¼Œé»˜è®¤æ“ä½œ <code>stash@{0}</code>ï¼ˆæœ€æ–°çš„é‚£ä¸ªï¼‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">å››ã€æœ€ä½³å®è·µå»ºè®®</h3>
<ol>
<li>
<p><strong>åœ¨ PowerShell ä¸­å§‹ç»ˆå¯¹ <code>stash@{n}</code> åŠ åŒå¼•å·</strong><br/>
å…»æˆä¹ æƒ¯ï¼š<code>"stash@{0}"</code> è€Œä¸æ˜¯ <code>stash@{0}</code>ã€‚</p>
</li>
<li>
<p><strong>å…ˆçœ‹å†æ“ä½œ</strong><br/>
æ¢å¤æˆ–åˆ é™¤å‰ï¼Œå…ˆç”¨ <code>git stash show -p "stash@{0}"</code> ç¡®è®¤å†…å®¹ã€‚</p>
</li>
<li>
<p><strong>åŒºåˆ† <code>pop</code> / <code>apply</code> / <code>drop</code></strong></p>
<ul>
<li>æƒ³<strong>æ¢å¤å¹¶åˆ æ‰</strong> â†’ <code>pop</code></li>
<li>æƒ³<strong>æ¢å¤ä½†ä¿ç•™</strong> â†’ <code>apply</code></li>
<li>æƒ³<strong>ç›´æ¥åˆ æ‰ä¸è¦äº†</strong> â†’ <code>drop</code>ï¼ˆè¿™å°±æ˜¯ä½ æœ€åˆçš„éœ€æ±‚ï¼ï¼‰</li>
</ul>
</li>
<li>
<p><strong>é¿å…ä¾èµ–ç´¢å¼•ç¼–å·</strong><br/>
<code>stash@{0}</code> ä¼šéš <code>drop</code> æˆ– <code>pop</code> åŠ¨æ€å˜åŒ–ã€‚å¦‚æœè¦é•¿æœŸä¿ç•™æŸä¸ª stashï¼Œå»ºè®®æ‰“æ ‡ç­¾æˆ–æäº¤åˆ°ä¸´æ—¶åˆ†æ”¯ã€‚</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-8">äº”ã€æ€»ç»“</h3>
<ul>
<li><code>git stash</code> æ˜¯å¼€å‘è€…çš„å¥½å¸®æ‰‹ï¼Œä½†<strong>ç¯å¢ƒå·®å¼‚å¯èƒ½å¼•å‘â€œè¯¡å¼‚â€é”™è¯¯</strong>ã€‚</li>
<li>åœ¨ <strong>Windows PowerShell</strong> ä¸­ï¼Œ<strong>èŠ±æ‹¬å· <code>{}</code> éœ€è¦å¼•å·ä¿æŠ¤</strong>ã€‚</li>
<li>è®°ä½ä¸‰ä¸ªæ ¸å¿ƒåŠ¨ä½œï¼š<br/>
ğŸ‘€ <code>show</code>ï¼ˆçœ‹ï¼‰ã€ğŸ”„ <code>apply/pop</code>ï¼ˆæ¢å¤ï¼‰ã€ğŸ—‘ï¸ <code>drop</code>ï¼ˆåˆ é™¤ï¼‰ã€‚</li>
</ul>
<p>ä¸‹æ¬¡å†çœ‹åˆ° <code>unknown switch 'e'</code>ï¼Œåˆ«æ…Œâ€”â€”å…«æˆæ˜¯å¿˜äº†åŠ å¼•å·ï¼</p>
<blockquote>
<p>ğŸ”„ é™„ï¼šå¦‚æœä½ å¸¸ç”¨ PowerShellï¼Œä¹Ÿå¯ä»¥è€ƒè™‘æ”¹ç”¨ <strong>Git Bash</strong>ï¼Œå®ƒå¯¹ Git å‘½ä»¤çš„å…¼å®¹æ€§æ›´â€œåŸç”Ÿâ€ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»ç­‰å¾…ï¼å¦‚ä½•è®© AI ä¸€è¾¹ä¿® Bugï¼Œä¸€è¾¹é‡æ„ä»£ç ï¼Œä¸€è¾¹å¸®ä½ reviewï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596904122865254451</link>    <guid>https://juejin.cn/post/7596904122865254451</guid>    <pubDate>2026-01-19T12:07:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596904122865254451" data-draft-id="7596845113281216521" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»ç­‰å¾…ï¼å¦‚ä½•è®© AI ä¸€è¾¹ä¿® Bugï¼Œä¸€è¾¹é‡æ„ä»£ç ï¼Œä¸€è¾¹å¸®ä½ reviewï¼Ÿ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-19T12:07:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»ç­‰å¾…ï¼å¦‚ä½•è®© AI ä¸€è¾¹ä¿® Bugï¼Œä¸€è¾¹é‡æ„ä»£ç ï¼Œä¸€è¾¹å¸®ä½ reviewï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T12:07:35.000Z" title="Mon Jan 19 2026 12:07:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆ©ç”¨å¥½Git Worktree + Claude Codeï¼šè®© AI å¸®ä½ å¹¶è¡Œå¼€å‘</h2>
<p>ç”¨ AI å†™ä»£ç çš„æ—¶å€™ï¼Œå¤§å®¶æœ‰æ²¡æœ‰é‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå®ƒä¸€æ¬¡åªèƒ½å¹²ä¸€ä»¶äº‹ã€‚</p>
<p>ä½ è®©å®ƒé‡æ„ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒå°±åœ¨é‚£å„¿åŸ‹å¤´å¹²ï¼Œä½ åªèƒ½ç­‰ç€ã€‚æƒ³åŒæ—¶è®©å®ƒå¸®ä½ ä¿®ä¸ª bugï¼Ÿä¸è¡Œï¼Œå¾—æ’é˜Ÿã€‚</p>
<p>å…¶å®å¯ä»¥ç”¨ Git Worktree è®©å¤šä¸ª Claude Code å®ä¾‹åŒæ—¶å·¥ä½œï¼Œå„å¹²å„çš„ï¼Œäº’ä¸å¹²æ‰°ã€‚</p>
<h3 data-id="heading-1">Git Worktree æ˜¯ä»€ä¹ˆ</h3>
<p>ç®€å•è¯´ï¼ŒGit Worktree è®©ä½ åœ¨åŒä¸€ä¸ªä»“åº“ä¸‹åŒæ—¶æ£€å‡ºå¤šä¸ªåˆ†æ”¯ï¼Œæ¯ä¸ªåˆ†æ”¯æœ‰è‡ªå·±ç‹¬ç«‹çš„å·¥ä½œç›®å½•ã€‚</p>
<p><strong>å’Œ <code>git clone</code> å¤šä»½çš„åŒºåˆ«</strong>ï¼š</p>
<ul>
<li><code>git clone</code> å¤šä»½ï¼šæ¯ä»½éƒ½æœ‰å®Œæ•´çš„ <code>.git</code> ç›®å½•ï¼Œå ç”¨å¤§é‡ç£ç›˜ç©ºé—´ï¼Œåˆ†æ”¯ä¹‹é—´äº’ä¸çŸ¥é“</li>
<li><code>git worktree</code>ï¼šå…±äº«åŒä¸€ä¸ª <code>.git</code> ç›®å½•ï¼Œå‡ ä¹ä¸å é¢å¤–ç©ºé—´ï¼Œåˆ†æ”¯ä¹‹é—´å¯ä»¥äº’ç›¸çœ‹åˆ°</li>
</ul>
<p><strong>ç›®å½•ç»“æ„ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">my-project/ Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># ä¸»å·¥ä½œåŒºï¼Œä½ è‡ªå·±åœ¨è¿™é‡Œå¼€å‘</span>
../worktrees/
  â”œâ”€â”€ feature-auth/ Â  Â   <span class="hljs-comment"># Claude 1 åœ¨è¿™é‡Œåšè®¤è¯åŠŸèƒ½</span>
  â”œâ”€â”€ fix-bug-123/ Â  Â  Â  <span class="hljs-comment"># Claude 2 åœ¨è¿™é‡Œä¿® bug</span>
  â””â”€â”€ refactor-api/ Â  Â   <span class="hljs-comment"># Claude 3 åœ¨è¿™é‡Œé‡æ„ API</span>
</code></pre>
<p>æ¯ä¸ªç›®å½•éƒ½æ˜¯å®Œæ•´çš„å·¥ä½œåŒºï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œã€ç‹¬ç«‹æäº¤ã€ç‹¬ç«‹å¯åŠ¨ Claude Codeã€‚</p>
<p><strong>å½¢è±¡ç‚¹è¯´</strong>ï¼šå°±åƒä½ æœ‰ä¸€ä¸ªå¤§åŠå…¬å®¤ï¼ˆ<code>.git</code> ç›®å½•ï¼‰ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå°éš”é—´ï¼ˆworktreeï¼‰ï¼Œæ¯ä¸ªéš”é—´éƒ½åœ¨å¹²ä¸åŒçš„æ´»ï¼Œä½†å…±äº«åŒä¸€å¥—åŸºç¡€è®¾æ–½ï¼ˆGit å†å²ã€é…ç½®ç­‰ï¼‰ã€‚</p>
<h3 data-id="heading-2">åŸºæœ¬ç”¨æ³•</h3>
<h4 data-id="heading-3">åˆ›å»º worktree</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæ–°åˆ†æ”¯å¹¶æ£€å‡ºåˆ°ç‹¬ç«‹ç›®å½•</span>
git worktree add ../worktrees/feature-auth -b feature/auth
â€‹
<span class="hljs-comment"># åŸºäºå·²æœ‰åˆ†æ”¯åˆ›å»º</span>
git worktree add ../worktrees/fix-bug origin/fix-bug-123
â€‹
<span class="hljs-comment"># åŸºäºæŸä¸ª commit åˆ›å»º</span>
git worktree add ../worktrees/hotfix abc123
</code></pre>
<h4 data-id="heading-4">åœ¨ worktree ä¸­å¯åŠ¨ Claude Code</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ../worktrees/feature-auth
claude
</code></pre>
<p>è¿™æ ·å°±æœ‰äº†ä¸€ä¸ªç‹¬ç«‹çš„ Claude Code å®ä¾‹ï¼Œåœ¨ <code>feature/auth</code> åˆ†æ”¯ä¸Šå·¥ä½œã€‚ä½ å¯ä»¥å¼€å¤šä¸ªç»ˆç«¯ï¼Œæ¯ä¸ªç»ˆç«¯è¿›å…¥ä¸åŒçš„ worktreeï¼Œå¯åŠ¨ä¸åŒçš„ Claude Code å®ä¾‹ã€‚</p>
<h4 data-id="heading-5">æŸ¥çœ‹å’Œæ¸…ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰ worktree</span>
git worktree list
â€‹
<span class="hljs-comment"># åˆ é™¤ worktreeï¼ˆä¼šä¿ç•™åˆ†æ”¯ï¼‰</span>
git worktree remove ../worktrees/feature-auth
â€‹
<span class="hljs-comment"># æ¸…ç†å¤±æ•ˆçš„ worktree å¼•ç”¨</span>
git worktree prune
</code></pre>
<h4 data-id="heading-6">å®é™…æ¼”ç¤º</h4>
<p>ä¸‹é¢æ˜¯æˆ‘åœ¨æœ¬åœ°ä»“åº“å®é™…æ‰§è¡Œçš„å‘½ä»¤å’Œè¾“å‡ºï¼š</p>
<p><strong>1. æŸ¥çœ‹å½“å‰ worktree çŠ¶æ€</strong></p>
<pre><code class="hljs language-bash" lang="bash">$ git worktree list
/Users/tsk/JS  64d1da9 [master]
</code></pre>
<p>ç›®å‰åªæœ‰ä¸»å·¥ä½œåŒºã€‚</p>
<p><strong>2. åˆ›å»ºä¸¤ä¸ª worktree</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">$ git worktree <span class="hljs-keyword">add</span> ../worktrees/demo-feature -b demo/<span class="hljs-function">feature
Preparing <span class="hljs-title">worktree</span> (<span class="hljs-params"><span class="hljs-keyword">new</span> branch <span class="hljs-string">'demo/feature'</span></span>)
HEAD <span class="hljs-keyword">is</span> now at 64d1da9 chore: åˆ é™¤ demo HTML æ–‡ä»¶ã€‚
â€‹
$ git worktree <span class="hljs-keyword">add</span> ../worktrees/demo-bugfix -b demo/bugfix
Preparing <span class="hljs-title">worktree</span> (<span class="hljs-params"><span class="hljs-keyword">new</span> branch <span class="hljs-string">'demo/bugfix'</span></span>)
HEAD <span class="hljs-keyword">is</span> now at 64d1da9 chore: åˆ é™¤ demo HTML æ–‡ä»¶ã€‚
</span></code></pre>
<p><strong>3. æŸ¥çœ‹æ‰€æœ‰ worktree</strong></p>
<pre><code class="hljs language-bash" lang="bash">$ git worktree list
/Users/tsk/JS Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   64d1da9 [master]
/Users/tsk/worktrees/demo-bugfix Â  64d1da9 [demo/bugfix]
/Users/tsk/worktrees/demo-feature  64d1da9 [demo/feature]
</code></pre>
<p>ç°åœ¨æœ‰ 3 ä¸ªå·¥ä½œåŒºäº†ï¼Œæ¯ä¸ªéƒ½åœ¨ä¸åŒçš„åˆ†æ”¯ä¸Šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bc712ce3b894e9e80107d046eb23755~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lmf5peg6aOO6Zuo5Lmf6Zu-5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429255&amp;x-signature=vr%2FyBPri6P%2Bsr2ndJKVmFz8ADGs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>4. åœ¨ä¸åŒ worktree ä¸­åˆ†åˆ«æäº¤</strong></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">åœ¨ demo-feature ä¸­æäº¤</span>
<span class="hljs-meta prompt_">$ </span><span class="bash"><span class="hljs-built_in">cd</span> ../worktrees/demo-feature</span>
<span class="hljs-meta prompt_">$ </span><span class="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"# Demo Feature"</span> &gt; README-feature.md</span>
<span class="hljs-meta prompt_">$ </span><span class="bash">git add . &amp;&amp; git commit -m <span class="hljs-string">"feat: add feature readme"</span></span>
[demo/feature dbad1c0] feat: add feature readme
 1 file changed, 1 insertion(+)
 create mode 100644 README-feature.md
â€‹
<span class="hljs-meta prompt_"># </span><span class="bash">åœ¨ demo-bugfix ä¸­æäº¤</span>
<span class="hljs-meta prompt_">$ </span><span class="bash"><span class="hljs-built_in">cd</span> ../worktrees/demo-bugfix</span>
<span class="hljs-meta prompt_">$ </span><span class="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"# Bugfix"</span> &gt; BUGFIX.md</span>
<span class="hljs-meta prompt_">$ </span><span class="bash">git add . &amp;&amp; git commit -m <span class="hljs-string">"fix: add bugfix notes"</span></span>
[demo/bugfix 00198c6] fix: add bugfix notes
 1 file changed, 1 insertion(+)
 create mode 100644 BUGFIX.md
</code></pre>
<p><strong>5. æŸ¥çœ‹åˆ†æ”¯å†å²</strong></p>
<pre><code class="hljs language-bash" lang="bash">$ git <span class="hljs-built_in">log</span> --oneline --all --graph -10
* 00198c6 (demo/bugfix) fix: add bugfix notes
| * dbad1c0 (demo/feature) feat: add feature readme
|/ Â 
* 64d1da9 (HEAD -&gt; master, origin/master) chore: åˆ é™¤ demo HTML æ–‡ä»¶ã€‚
* 7a18ac3 feat(<span class="hljs-built_in">log</span>): åˆ é™¤ Vercel React Skill æ–‡æ¡£
* b7ccd2a feat(<span class="hljs-built_in">log</span>): add vscode-ai-commit extension
...
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªåˆ†æ”¯å„è‡ªæœ‰äº†æ–°çš„æäº¤ï¼Œä»åŒä¸€ä¸ªåŸºç‚¹åˆ†å‰å‡ºæ¥ã€‚</p>
<p><strong>6. æ¸…ç† worktree</strong></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">$ </span><span class="bash">git worktree remove ../worktrees/demo-feature</span>
<span class="hljs-meta prompt_">$ </span><span class="bash">git worktree remove ../worktrees/demo-bugfix</span>
â€‹
<span class="hljs-meta prompt_">$ </span><span class="bash">git worktree list</span>
/Users/tsk/JS  64d1da9 [master]
â€‹
<span class="hljs-meta prompt_"># </span><span class="bash">åˆ é™¤åˆ†æ”¯ï¼ˆå› ä¸ºæ²¡æœ‰åˆå¹¶ï¼Œéœ€è¦ç”¨ -D å¼ºåˆ¶åˆ é™¤ï¼‰</span>
<span class="hljs-meta prompt_">$ </span><span class="bash">git branch -D demo/feature demo/bugfix</span>
Deleted branch demo/feature (was dbad1c0).
Deleted branch demo/bugfix (was 00198c6).
</code></pre>
<p>æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯è¿™æ ·ï¼Œæ¯ä¸ª worktree éƒ½æ˜¯ç‹¬ç«‹çš„å·¥ä½œç©ºé—´ï¼Œå¯ä»¥åŒæ—¶åœ¨ä¸åŒåˆ†æ”¯ä¸Šå·¥ä½œã€‚</p>
<h3 data-id="heading-7">å®é™…å·¥ä½œæµ</h3>
<p>å‡è®¾ä½ æœ‰ä¸‰ä¸ªä»»åŠ¡è¦åšï¼š</p>
<ol start="0">
<li>å®ç°ç”¨æˆ·è®¤è¯æ¨¡å—ï¼ˆé¢„è®¡ 2 å°æ—¶ï¼‰</li>
<li>ä¿®å¤ä¸€ä¸ªæ”¯ä»˜ç›¸å…³çš„ bugï¼ˆé¢„è®¡ 30 åˆ†é’Ÿï¼‰</li>
<li>é‡æ„ API å±‚ï¼ˆé¢„è®¡ 3 å°æ—¶ï¼‰</li>
</ol>
<p>ä¼ ç»Ÿåšæ³•æ˜¯ä¸€ä¸ªä¸€ä¸ªæ¥ï¼Œæ€»å…±éœ€è¦ 5.5 å°æ—¶ã€‚ç”¨ worktree + Claude Codeï¼Œå¯ä»¥è¿™æ ·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»ˆç«¯ 1ï¼šåˆ›å»ºè®¤è¯åŠŸèƒ½çš„ worktree</span>
git worktree add ../worktrees/auth -b feature/auth
<span class="hljs-built_in">cd</span> ../worktrees/auth
claude
<span class="hljs-comment"># å‘Šè¯‰ Claudeï¼šå®ç°ç”¨æˆ·è®¤è¯æ¨¡å—ï¼ŒåŒ…æ‹¬ç™»å½•ã€æ³¨å†Œã€token ç®¡ç†</span>
â€‹
<span class="hljs-comment"># ç»ˆç«¯ 2ï¼šåˆ›å»ºä¿® bug çš„ worktree</span>
git worktree add ../worktrees/fix-payment -b fix/payment-bug
<span class="hljs-built_in">cd</span> ../worktrees/fix-payment
claude
<span class="hljs-comment"># å‘Šè¯‰ Claudeï¼šä¿®å¤æ”¯ä»˜æ¨¡å—çš„ xxx bug</span>
â€‹
<span class="hljs-comment"># ç»ˆç«¯ 3ï¼šåˆ›å»ºé‡æ„çš„ worktree</span>
git worktree add ../worktrees/refactor-api -b refactor/api-layer
<span class="hljs-built_in">cd</span> ../worktrees/refactor-api
claude
<span class="hljs-comment"># å‘Šè¯‰ Claudeï¼šé‡æ„ API å±‚ï¼Œç»Ÿä¸€é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼</span>
</code></pre>
<p>ä¸‰ä¸ª Claude åŒæ—¶å¹²æ´»ï¼Œäº’ä¸å¹²æ‰°ã€‚ç†è®ºä¸Šï¼Œå¦‚æœä»»åŠ¡è¶³å¤Ÿç‹¬ç«‹ï¼Œæ€»è€—æ—¶å¯ä»¥å‹ç¼©åˆ°æœ€é•¿ä»»åŠ¡çš„æ—¶é—´ï¼ˆ3 å°æ—¶ï¼‰ï¼Œæ•ˆç‡æå‡ <strong>45%</strong> ã€‚</p>
<p>ä½ å¯ä»¥åœ¨ä¸»å·¥ä½œåŒºç»§ç»­åšè‡ªå·±çš„äº‹ï¼Œå¶å°”åˆ‡è¿‡å»çœ‹çœ‹è¿›åº¦ï¼Œæˆ–è€…ç”¨ Plan Mode è®© Claude å…ˆè¯´æ¸…æ¥šæ‰“ç®—æ€ä¹ˆåšã€‚</p>
<h3 data-id="heading-8">å°è£…æˆå‘½ä»¤</h3>
<p>æ¯æ¬¡æ•²è¿™ä¹ˆå¤šå‘½ä»¤æœ‰ç‚¹çƒ¦ï¼Œå¯ä»¥å°è£…ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŠ åˆ° ~/.zshrc æˆ– ~/.bashrc</span>
<span class="hljs-function"><span class="hljs-title">cw</span></span>() {
  <span class="hljs-built_in">local</span> branch=<span class="hljs-variable">$1</span>
  <span class="hljs-built_in">local</span> worktree_dir=<span class="hljs-string">"../worktrees/<span class="hljs-variable">$branch</span>"</span>
â€‹
 Â <span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">"<span class="hljs-variable">$branch</span>"</span> ]]; <span class="hljs-keyword">then</span>
 Â  Â <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç”¨æ³•: cw &lt;åˆ†æ”¯å&gt;"</span>
 Â   <span class="hljs-built_in">return</span> 1
 Â <span class="hljs-keyword">fi</span>
â€‹
 Â <span class="hljs-comment"># å¦‚æœ worktree ä¸å­˜åœ¨å°±åˆ›å»º</span>
 Â <span class="hljs-keyword">if</span> [[ ! -d <span class="hljs-string">"<span class="hljs-variable">$worktree_dir</span>"</span> ]]; <span class="hljs-keyword">then</span>
 Â  Â git worktree add <span class="hljs-string">"<span class="hljs-variable">$worktree_dir</span>"</span> -b <span class="hljs-string">"<span class="hljs-variable">$branch</span>"</span> 2&gt;/dev/null || \
 Â  Â git worktree add <span class="hljs-string">"<span class="hljs-variable">$worktree_dir</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$branch</span>"</span>
 Â <span class="hljs-keyword">fi</span>
â€‹
 Â <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$worktree_dir</span>"</span>
  claude
}
</code></pre>
<p>ç”¨èµ·æ¥å°±ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">cw feature/auth Â  Â <span class="hljs-comment"># åˆ›å»º worktree å¹¶å¯åŠ¨ Claude Code</span>
</code></pre>
<h3 data-id="heading-9">å¼€å‘å®Œæ€ä¹ˆåˆå¹¶</h3>
<p>å’Œæ™®é€šåˆ†æ”¯å¼€å‘ä¸€æ ·ï¼Œé€šè¿‡ PR æˆ–è€…ç›´æ¥ mergeã€‚</p>
<h4 data-id="heading-10">é€šè¿‡ PRï¼ˆæ¨èï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ../worktrees/feature-auth
git add .
git commit -m <span class="hljs-string">"feat: implement user authentication"</span>
git push -u origin feature/auth
â€‹
<span class="hljs-comment"># åˆ›å»º PRï¼ˆéœ€è¦å®‰è£… GitHub CLIï¼‰</span>
gh <span class="hljs-built_in">pr</span> create --title <span class="hljs-string">"Add user authentication"</span> --body <span class="hljs-string">"å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½"</span>
</code></pre>
<h4 data-id="heading-11">ç›´æ¥ merge</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ~/projects/my-project Â <span class="hljs-comment"># å›åˆ°ä¸»å·¥ä½œåŒº</span>
git checkout main
git merge feature/auth
git push
</code></pre>
<h4 data-id="heading-12">åˆå¹¶åæ¸…ç†</h4>
<pre><code class="hljs language-bash" lang="bash">git worktree remove ../worktrees/feature-auth
git branch -d feature/auth
</code></pre>
<h3 data-id="heading-13">å‡ ä¸ªæ³¨æ„äº‹é¡¹</h3>
<h4 data-id="heading-14">1. ä»»åŠ¡è¦è¶³å¤Ÿç‹¬ç«‹</h4>
<p>å¦‚æœä¸¤ä¸ªä»»åŠ¡æ”¹çš„æ˜¯åŒä¸€æ‰¹æ–‡ä»¶ï¼Œå¹¶è¡Œå¼€å‘åè€Œä¼šå¢åŠ åˆå¹¶å†²çªã€‚é€‚åˆå¹¶è¡Œçš„æ˜¯é‚£äº›ç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ã€‚</p>
<p><strong>é€‚åˆå¹¶è¡Œ</strong>ï¼š</p>
<ul>
<li>å‰ç«¯ç»„ä»¶ A + åç«¯ API B</li>
<li>åŠŸèƒ½æ¨¡å— X + bug ä¿®å¤ Y</li>
<li>æ•°æ®åº“è¿ç§» + æ–‡æ¡£æ›´æ–°</li>
</ul>
<p><strong>ä¸é€‚åˆå¹¶è¡Œ</strong>ï¼š</p>
<ul>
<li>åŒä¸€ä¸ªæ–‡ä»¶çš„ä¸¤å¤„ä¿®æ”¹</li>
<li>æœ‰å¼ºä¾èµ–å…³ç³»çš„åŠŸèƒ½ï¼ˆB ä¾èµ– A çš„æ¥å£ï¼‰</li>
</ul>
<h4 data-id="heading-15">2. å®šæœŸä» main åŒæ­¥</h4>
<p>é•¿æ—¶é—´ä¸åŒæ­¥ï¼Œåˆ†æ”¯ä¼šåç¦»ä¸»å¹²å¤ªè¿œï¼Œæœ€ååˆå¹¶æ—¶å†²çªä¼šå¾ˆå¤šã€‚å»ºè®®æ¯å¤© merge ä¸€æ¬¡ mainï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ../worktrees/feature-auth
git fetch origin
git merge origin/main
</code></pre>
<h4 data-id="heading-16">3. ç”¨ Plan Mode å…ˆç¡®è®¤æ–¹æ¡ˆ</h4>
<p>Claude Code æœ‰ä¸ª Plan Modeï¼Œåœ¨åŠ¨æ‰‹ä¹‹å‰å…ˆè®©å®ƒè¯´æ¸…æ¥šæ‰“ç®—æ€ä¹ˆåšã€‚å¹¶è¡Œå¼€å‘æ—¶æ›´éœ€è¦è¿™ä¸ªï¼Œé¿å… Claude è·‘åäº†ä½ è¿˜ä¸çŸ¥é“ã€‚</p>
<p>å¼€å¯æ–¹æ³•ï¼š</p>
<ul>
<li>VS Codeï¼š<code>Cmd/Ctrl + Shift + P</code> â†’ <code>Claude Code: Toggle Plan Mode</code></li>
<li>CLIï¼šå¯åŠ¨æ—¶åŠ  <code>--plan</code> å‚æ•°</li>
</ul>
<h4 data-id="heading-17">4. åˆ«å¼€å¤ªå¤š</h4>
<p>API æœ‰è°ƒç”¨é¢‘ç‡é™åˆ¶ï¼Œå¼€å¤ªå¤š worktree åŒæ—¶è·‘ Claude å¯èƒ½ä¼šè§¦å‘é™æµã€‚æˆ‘è‡ªå·±çš„ç»éªŒæ˜¯ <strong>3-5 ä¸ª</strong> å·®ä¸å¤šäº†ã€‚</p>
<h4 data-id="heading-18">5. æ³¨æ„ä¾èµ–å®‰è£…</h4>
<p>æ¯ä¸ª worktree å…±äº« <code>.git</code>ï¼Œä½† <code>node_modules</code>ã€<code>venv</code> è¿™äº›æ˜¯ç‹¬ç«‹çš„ã€‚å¦‚æœä½ åœ¨ worktree é‡Œè£…äº†æ–°ä¾èµ–ï¼Œè®°å¾—åœ¨ä¸»å·¥ä½œåŒºä¹Ÿè£…ä¸€éã€‚</p>
<h3 data-id="heading-19">é€‚åˆä»€ä¹ˆåœºæ™¯</h3>
<p><strong>é€‚åˆ</strong>ï¼š</p>
<ul>
<li>å¤šä¸ªç‹¬ç«‹åŠŸèƒ½åŒæ—¶å¼€å‘</li>
<li>è·‘é•¿ä»»åŠ¡ï¼ˆé‡æ„ã€è¿ç§»ï¼‰çš„åŒæ—¶ä¸æƒ³é˜»å¡æ—¥å¸¸å¼€å‘</li>
<li>è®©ä¸¤ä¸ª Claude å„å†™ä¸€ç‰ˆï¼Œå¯¹æ¯”é€‰ä¼˜</li>
<li>è·‘ overnight ä»»åŠ¡ï¼Œç¬¬äºŒå¤©èµ·æ¥æ”¶ä»£ç </li>
<li>ç´§æ€¥ hotfix å’Œæ—¥å¸¸å¼€å‘å¹¶è¡Œ</li>
</ul>
<p><strong>ä¸å¤ªé€‚åˆ</strong>ï¼š</p>
<ul>
<li>éœ€æ±‚è¿˜æ²¡æƒ³æ¸…æ¥šï¼Œè¿˜åœ¨æ¢ç´¢é˜¶æ®µ</li>
<li>ä»»åŠ¡ä¹‹é—´æœ‰å¼ºä¾èµ–</li>
<li>é¡¹ç›®å¾ˆå°ï¼Œä¸å€¼å¾—è¿™ä¹ˆæŠ˜è…¾</li>
<li>å›¢é˜Ÿåä½œï¼ˆå®¹æ˜“äº§ç”Ÿåˆ†æ”¯ç®¡ç†æ··ä¹±ï¼‰</li>
</ul>
<h3 data-id="heading-20">å®é™…æ•ˆæœ</h3>
<p>æˆ‘åœ¨è‡ªå·±çš„é¡¹ç›®é‡Œè¯•äº†ä¸€å‘¨ï¼Œå¤§æ¦‚çš„æ„Ÿå—æ˜¯ï¼š</p>
<ul>
<li><strong>æ—¶é—´èŠ‚çœ</strong>ï¼šåŸæœ¬éœ€è¦ä¸²è¡Œå®Œæˆçš„ 3 ä¸ªä»»åŠ¡ï¼Œç°åœ¨å¯ä»¥å¹¶è¡Œï¼Œæ€»è€—æ—¶å‡å°‘çº¦ 40%</li>
<li><strong>å¿ƒæ™ºè´Ÿæ‹…é™ä½</strong>ï¼šä¸ç”¨é¢‘ç¹åˆ‡åˆ†æ”¯ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½æœ‰ç‹¬ç«‹çš„ä¸Šä¸‹æ–‡</li>
<li><strong>ä»£ç è´¨é‡æå‡</strong>ï¼šå¯ä»¥è®©ä¸¤ä¸ª Claude å„å†™ä¸€ç‰ˆï¼Œé€‰æ›´å¥½çš„é‚£ä¸ª</li>
<li><strong>é€‚åˆé•¿ä»»åŠ¡</strong>ï¼šé‡æ„ã€è¿ç§»è¿™ç§è€—æ—¶é•¿çš„ä»»åŠ¡ï¼Œå¯ä»¥æ”¾åœ¨åå°è·‘ï¼Œä¸å½±å“æ—¥å¸¸å¼€å‘</li>
</ul>
<p>ä½†ä¹Ÿæœ‰å‘ï¼š</p>
<ul>
<li>åˆå¹¶å†²çªæ¯”é¢„æœŸå¤šï¼ˆå› ä¸ºæ²¡æœ‰åŠæ—¶åŒæ­¥ mainï¼‰</li>
<li>æœ‰æ—¶å€™ä¼šå¿˜è®°æŸä¸ª worktree è¿˜åœ¨è·‘ï¼Œå¯¼è‡´åˆ†æ”¯è¶Šæ¥è¶Šå¤š</li>
<li>éœ€è¦æ‰‹åŠ¨ç®¡ç†å¤šä¸ªç»ˆç«¯çª—å£ï¼Œæœ‰ç‚¹ä¹±</li>
</ul>
<h3 data-id="heading-21">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fincident.io%2Fblog%2Fshipping-faster-with-claude-code-and-git-worktrees" target="_blank" title="https://incident.io/blog/shipping-faster-with-claude-code-and-git-worktrees" ref="nofollow noopener noreferrer">incident.io - Shipping faster with Claude Code and Git Worktrees</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmotlin.com%2Fblog%2Fclaude-code-worktree" target="_blank" title="https://motlin.com/blog/claude-code-worktree" ref="nofollow noopener noreferrer">motlin.com - Claude Code: Parallel Development with /worktree</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fdocs%2Fgit-worktree" target="_blank" title="https://git-scm.com/docs/git-worktree" ref="nofollow noopener noreferrer">Git å®˜æ–¹æ–‡æ¡£ - git-worktree</a></li>
</ul>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>qwen/gemini/claude - cli åŸç†å­¦ä¹ ç½‘ç«™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcoding-cli-guide" target="_blank" title="https://github.com/tt-a1i/coding-cli-guide" ref="nofollow noopener noreferrer">coding-cli-guide</a>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Ftt-a1i.github.io%2Fcoding-cli-guide%2F%3Ftab%3Dstart-here" target="_blank" title="https://tt-a1i.github.io/coding-cli-guide/?tab=start-here" ref="nofollow noopener noreferrer">å­¦ä¹ ç½‘ç«™</a>ï¼‰- å­¦ä¹  qwen-cli æ—¶æ•´ç†çš„ç¬”è®°ï¼Œ40+ äº¤äº’å¼åŠ¨ç”»æ¼”ç¤º AI CLI å†…éƒ¨æœºåˆ¶</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08e50020ab1f45428cd22e53af91a555~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lmf5peg6aOO6Zuo5Lmf6Zu-5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429255&amp;x-signature=TuWkroMnIYRdDiCkI9%2BsumvfA5Q%3D" alt="coding-cli-guide" loading="lazy"/></p>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul>
<p><strong>VS Code æ’ä»¶</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fvscode-ai-commit" target="_blank" title="https://github.com/tt-a1i/vscode-ai-commit" ref="nofollow noopener noreferrer">vscode-ai-commit</a> - ä¸€é”®ç”Ÿæˆ commit messageï¼Œæ”¯æŒ Conventional Commitsï¼Œå…¼å®¹ä»»ä½• OpenAI æ ¼å¼æ¥å£</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº YOLOv8 çš„è¾¹å¡æ’æ°´æ²Ÿå µå¡æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿè®¾è®¡ä¸å·¥ç¨‹å®ç° [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]]]></title>    <link>https://juejin.cn/post/7596906923892129802</link>    <guid>https://juejin.cn/post/7596906923892129802</guid>    <pubDate>2026-01-19T12:09:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596906923892129802" data-draft-id="7596698363964719142" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº YOLOv8 çš„è¾¹å¡æ’æ°´æ²Ÿå µå¡æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿè®¾è®¡ä¸å·¥ç¨‹å®ç° [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-19T12:09:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº YOLOv8 çš„è¾¹å¡æ’æ°´æ²Ÿå µå¡æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿè®¾è®¡ä¸å·¥ç¨‹å®ç° [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T12:09:24.000Z" title="Mon Jan 19 2026 12:09:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäº YOLOv8 çš„è¾¹å¡æ’æ°´æ²Ÿå µå¡æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿè®¾è®¡ä¸å·¥ç¨‹å®ç° [ç›®æ ‡æ£€æµ‹å®Œæ•´æºç ]</h2>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¦â€œè‡ªåŠ¨è¯†åˆ«æ’æ°´æ²Ÿå µå¡â€ï¼Ÿ</h3>
<p>åœ¨å±±åŒºå…¬è·¯ã€æ°´åˆ©å·¥ç¨‹ã€é«˜è¾¹å¡æ²»ç†ç­‰åœºæ™¯ä¸­ï¼Œ<strong>æ’æ°´æ²Ÿæ˜¯å¦ç•…é€š</strong>ç›´æ¥å…³ç³»åˆ°è¾¹å¡ç¨³å®šæ€§ä¸å·¥ç¨‹å®‰å…¨ã€‚ä¸€æ—¦æ’æ°´æ²Ÿè¢«æ³¥æ²™ã€è½çŸ³ã€æ‚ç‰©å µå¡ï¼Œææ˜“åœ¨é™é›¨æ¡ä»¶ä¸‹å¼•å‘ï¼š</p>
<ul>
<li>è¾¹å¡æ¸—æ°´å‹åŠ›éª¤å¢</li>
<li>å±€éƒ¨å†²åˆ·ã€å¡Œé™·</li>
<li>æ»‘å¡ã€æ³¥çŸ³æµç­‰æ¬¡ç”Ÿç¾å®³</li>
</ul>
<p>ä¼ ç»Ÿçš„æ’æ°´æ²Ÿå·¡æ£€ä¸»è¦ä¾èµ–äººå·¥è¸å‹˜æˆ–å®šæœŸå·¡æŸ¥ï¼Œä¸ä»…<strong>æ•ˆç‡ä½ã€è¦†ç›–é¢æœ‰é™</strong>ï¼Œåœ¨é›¨åæˆ–å±é™©åŒºåŸŸç”šè‡³å­˜åœ¨æ˜æ˜¾çš„å®‰å…¨éšæ‚£ã€‚</p>
<p>éšç€æ— äººæœºå·¡æ£€ã€å›ºå®šç›‘æ§æ‘„åƒå¤´çš„æ™®åŠï¼Œç°åœºå·²ç»å…·å¤‡äº†<strong>å¤§é‡å›¾åƒä¸è§†é¢‘æ•°æ®</strong>ï¼Œå…³é”®é—®é¢˜è½¬å˜ä¸ºï¼š</p>
<blockquote>
<p>èƒ½å¦åˆ©ç”¨è®¡ç®—æœºè§†è§‰æŠ€æœ¯ï¼Œè‡ªåŠ¨è¯†åˆ«æ’æ°´æ²Ÿæ˜¯å¦å­˜åœ¨å µå¡é£é™©ï¼Ÿ
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d5e2169316c4448b60ea48e975e7f34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=5GJSC6G3VS4sy9642o5r3TONAYM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<h3 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h3>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1KZgHzJEhn%2F" target="_blank" title="https://www.bilibili.com/video/BV1KZgHzJEhn/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1KZâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0a6ebed5f3b48f6b0abd4036f58d583~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=n3EIilgUzI9ht0zFEpZzplQtO04%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åŒ…å«ï¼š</p>
<p>ğŸ“¦å®Œæ•´é¡¹ç›®æºç </p>
<p>ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹æƒé‡</p>
<p>ğŸ—‚ï¸ æ•°æ®é›†åœ°å€ï¼ˆå«æ ‡æ³¨è„šæœ¬</p>
<hr/>
<h3 data-id="heading-3">äºŒã€æ€»ä½“æ–¹æ¡ˆæ¦‚è¿°</h3>
<p>æœ¬é¡¹ç›®åŸºäº <strong>YOLOv8 ç›®æ ‡æ£€æµ‹æ¡†æ¶</strong>ï¼Œæ„å»ºäº†ä¸€å¥—é¢å‘å·¥ç¨‹åº”ç”¨çš„ <strong>è¾¹å¡æ’æ°´æ²Ÿå µå¡æ™ºèƒ½è¯†åˆ«ç³»ç»Ÿ</strong>ï¼Œå¹¶é€šè¿‡ <strong>PyQt5</strong> å°è£…ä¸ºå¯è§†åŒ–æ¡Œé¢å·¥å…·ï¼Œå®ç°ä»æ¨¡å‹åˆ°åº”ç”¨çš„å®Œæ•´é—­ç¯ã€‚</p>
<h4 data-id="heading-4">ç³»ç»Ÿæ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š</h4>
<ul>
<li>å¯¹æ’æ°´æ²ŸçŠ¶æ€è¿›è¡Œè‡ªåŠ¨è¯†åˆ«ä¸åˆ†ç±»</li>
<li>æ”¯æŒå›¾ç‰‡ / è§†é¢‘ / æ‘„åƒå¤´ç­‰å¤šç§è¾“å…¥æº</li>
<li>å®æ—¶å¯è§†åŒ–æ£€æµ‹ç»“æœä¸ç½®ä¿¡åº¦</li>
<li>æ£€æµ‹ç»“æœå¯ä¿å­˜ã€å¯å¤æ ¸ã€å¯äºŒæ¬¡åˆ†æ</li>
</ul>
<p>ç³»ç»Ÿæ—¢å¯ä½œä¸º<strong>å·¥ç¨‹å·¡æ£€è¾…åŠ©å·¥å…·</strong>ï¼Œä¹Ÿå¯ä½œä¸º<strong>YOLOv8 å·¥ç¨‹åŒ–å®æˆ˜ç¤ºä¾‹</strong>ç”¨äºæ•™å­¦ä¸ç ”ç©¶ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44c2f38272544906a890f96208c72828~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=n20fL%2BmZuzLgiag9OFU7t2mydzs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€ç³»ç»Ÿæ¶æ„è®¾è®¡</h3>
<p>æ•´ä½“ç³»ç»Ÿé‡‡ç”¨â€œ<strong>æ¨¡å‹æ¨ç†å±‚ + åº”ç”¨äº¤äº’å±‚</strong>â€çš„åˆ†å±‚è®¾è®¡ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®è¾“å…¥å±‚  â”‚  â† å›¾ç‰‡ / è§†é¢‘ / æ‘„åƒå¤´ / æ— äººæœº
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YOLOv8 æ¨ç†å±‚â”‚  â† å µå¡ç›®æ ‡æ£€æµ‹
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»“æœè§£ææ¨¡å— â”‚  â† ç±»åˆ« / ç½®ä¿¡åº¦ / åæ ‡
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PyQt5 ç•Œé¢å±‚ â”‚  â† å¯è§†åŒ–å±•ç¤ºä¸äº¤äº’
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<p>è¿™ç§ç»“æ„çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>æ¨¡å‹ä¸ç•Œé¢è§£è€¦</strong>ï¼Œä¾¿äºåæœŸæ›¿æ¢æˆ–å‡çº§æ¨¡å‹</li>
<li>æ¨ç†é€»è¾‘å¯ç‹¬ç«‹éƒ¨ç½²ä¸ºæœåŠ¡</li>
<li>UI å±‚åªå…³æ³¨äº¤äº’ä¸å±•ç¤ºï¼Œå·¥ç¨‹å¯ç»´æŠ¤æ€§é«˜
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ac75c66d3ef4e299ad9e301ef7e90b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=uGSKJOqcs2CNRIh4qmrq3tgIRXw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></li>
</ul>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6e7fab81acd4acd9c4acd4c9ac31a9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=M0msvowEKdjRTYdReuEV96oSd0s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-6">å››ã€æ£€æµ‹ç›®æ ‡ä¸æ•°æ®è®¾è®¡</h3>
<h4 data-id="heading-7">4.1 æ£€æµ‹ç±»åˆ«å®šä¹‰</h4>
<p>æ ¹æ®å·¥ç¨‹å®é™…éœ€æ±‚ï¼Œå°†æ’æ°´æ²ŸçŠ¶æ€åˆ’åˆ†ä¸ºä¸‰ç±»ï¼š</p>





















<table><thead><tr><th>ç±»åˆ«ç¼–å·</th><th>å«ä¹‰è¯´æ˜</th></tr></thead><tbody><tr><td>0</td><td>æ’æ°´æ²Ÿç•…é€š / æ­£å¸¸</td></tr><tr><td>1</td><td>å­˜åœ¨å±€éƒ¨é®æŒ¡æˆ–è½»å¾®æ·¤ç§¯</td></tr><tr><td>2</td><td>æ˜æ˜¾å µå¡ï¼Œå½±å“æ’æ°´åŠŸèƒ½</td></tr></tbody></table>
<p>è¿™ç§åˆ†çº§æ–¹å¼ç›¸æ¯”â€œæ˜¯å¦å µå¡â€çš„äºŒåˆ†ç±»ï¼Œæ›´æœ‰åˆ©äº<strong>é£é™©è¯„ä¼°ä¸è¿ç»´å†³ç­–</strong>ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7531baf18ee4581914bc9ae21f90f44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=q5yCloIj3p02GBGraCrW7nVy7dA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-8">4.2 æ•°æ®é›†ç»„ç»‡æ–¹å¼</h4>
<p>é‡‡ç”¨ YOLO æ ‡å‡†æ•°æ®é›†æ ¼å¼ï¼š</p>
<pre><code class="hljs language-text" lang="text">dataset/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train
â”‚   â”œâ”€â”€ val
â”‚   â””â”€â”€ test
â””â”€â”€ labels/
    â”œâ”€â”€ train
    â”œâ”€â”€ val
    â””â”€â”€ test
</code></pre>
<p>æ ‡æ³¨æ–‡ä»¶ä½¿ç”¨ <strong>å½’ä¸€åŒ–åæ ‡æ ¼å¼</strong>ï¼š</p>
<pre><code class="hljs language-text" lang="text">class_id x_center y_center width height
</code></pre>
<p>è¿™ç§ç»“æ„ä¸ Ultralytics YOLOv8 å®Œå…¨å…¼å®¹ï¼Œå¯ç›´æ¥ç”¨äºè®­ç»ƒä¸æ¨ç†ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e424fb1b80bc4c46b360e595676c10dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=g0cQ30w49%2BELSUNJ8GnaTk%2B4vHs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9">äº”ã€YOLOv8 æ¨¡å‹è®­ç»ƒä¸ä¼˜åŒ–ç­–ç•¥</h3>
<h4 data-id="heading-10">5.1 ä¸ºä»€ä¹ˆé€‰æ‹© YOLOv8ï¼Ÿ</h4>
<p>YOLOv8 ç›¸æ¯”æ—©æœŸ YOLO ç³»åˆ—ï¼Œåœ¨å·¥ç¨‹å®è·µä¸­å…·æœ‰æ˜æ˜¾ä¼˜åŠ¿ï¼š</p>
<ul>
<li>Anchor-Free è®¾è®¡ï¼Œé™ä½è°ƒå‚å¤æ‚åº¦</li>
<li>å¯¹å°ç›®æ ‡ã€ç»†é•¿ç»“æ„æ›´å‹å¥½</li>
<li>åŸç”Ÿæ”¯æŒ ONNX / TensorRT å¯¼å‡º</li>
<li>æ¨ç†æ¥å£ç®€æ´ï¼Œæ˜“äºäºŒæ¬¡å°è£…</li>
</ul>
<p>å¯¹äºæ’æ°´æ²Ÿè¿™ç§<strong>å½¢æ€ä¸è§„åˆ™ã€å°ºåº¦å˜åŒ–å¤§çš„ç›®æ ‡</strong>ï¼ŒYOLOv8 åœ¨ç²¾åº¦ä¸é€Ÿåº¦ä¹‹é—´å–å¾—äº†è‰¯å¥½å¹³è¡¡ã€‚</p>
<hr/>
<h4 data-id="heading-11">5.2 è®­ç»ƒå‘½ä»¤ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash">yolo detect train \
  data=drain.yaml \
  model=yolov8s.pt \
  epochs=100 \
  batch=16 \
  imgsz=640
</code></pre>
<p>åœ¨å®é™…è®­ç»ƒä¸­ï¼Œé‡ç‚¹å…³æ³¨ä»¥ä¸‹æŒ‡æ ‡ï¼š</p>
<ul>
<li><code>mAP@0.5</code>ï¼šæ•´ä½“æ£€æµ‹èƒ½åŠ›</li>
<li>æ··æ·†çŸ©é˜µï¼šä¸åŒå µå¡ç­‰çº§çš„åŒºåˆ†æƒ…å†µ</li>
<li>æ¨ç†é€Ÿåº¦ï¼šæ˜¯å¦æ»¡è¶³å®æ—¶æ€§éœ€æ±‚</li>
</ul>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b83a2bf31744e8ca84fc72497ec1780~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=VuYNY67onLy9Ha%2BpDtrOtL%2FAd10%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-12">å…­ã€æ¨ç†æµç¨‹ä¸ç»“æœè§£æ</h3>
<p>YOLOv8 æ¨ç†æ¥å£éå¸¸é€‚åˆå·¥ç¨‹è°ƒç”¨ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ultralytics <span class="hljs-keyword">import</span> YOLO

model = YOLO(<span class="hljs-string">"best.pt"</span>)
results = model(<span class="hljs-string">"test.jpg"</span>, conf=<span class="hljs-number">0.3</span>)

<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results:
    <span class="hljs-keyword">for</span> box <span class="hljs-keyword">in</span> r.boxes:
        cls = <span class="hljs-built_in">int</span>(box.cls)
        score = <span class="hljs-built_in">float</span>(box.conf)
        <span class="hljs-built_in">print</span>(cls, score)
</code></pre>
<p>æ¯ä¸ªæ£€æµ‹æ¡†éƒ½åŒ…å«ï¼š</p>
<ul>
<li>ç±»åˆ« ID</li>
<li>ç½®ä¿¡åº¦</li>
<li>è¾¹ç•Œæ¡†åæ ‡</li>
</ul>
<p>è¿™äº›ä¿¡æ¯ä¼šè¢«è¿›ä¸€æ­¥ä¼ é€’åˆ° UI å±‚è¿›è¡Œå¯è§†åŒ–æ¸²æŸ“ã€‚</p>
<hr/>
<h3 data-id="heading-13">ä¸ƒã€PyQt5 å¯è§†åŒ–ç³»ç»Ÿè®¾è®¡</h3>
<p>ä¸ºäº†é™ä½ä½¿ç”¨é—¨æ§›ï¼Œç³»ç»Ÿæä¾›äº†å®Œæ•´çš„æ¡Œé¢ç•Œé¢ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸€é”®åŠ è½½å›¾ç‰‡æˆ–è§†é¢‘</li>
<li>å®æ—¶æ˜¾ç¤ºæ£€æµ‹ç»“æœ</li>
<li>æ”¯æŒæš‚åœã€æˆªå›¾ã€ç»“æœä¿å­˜</li>
<li>è‡ªåŠ¨ç®¡ç†è¾“å‡ºç›®å½•</li>
</ul>
<p>å³ä¾¿ä¸å…·å¤‡æ·±åº¦å­¦ä¹ èƒŒæ™¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç•Œé¢ç›´æ¥å®Œæˆæ£€æµ‹ä»»åŠ¡ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37dd054aa441493880c1292d2aa943ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429364&amp;x-signature=UEnpYVfzD7SOtA2FXKgFGiUu9VA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-14">å…«ã€åº”ç”¨åœºæ™¯ä¸æ‰©å±•æ–¹å‘</h3>
<p>è¯¥ç³»ç»Ÿå¯ç›´æ¥åº”ç”¨äºï¼š</p>
<ul>
<li>è¾¹å¡å·¡æ£€æ— äººæœºæ•°æ®åˆ†æ</li>
<li>æ°´åˆ©è®¾æ–½æ—¥å¸¸è¿ç»´</li>
<li>æ™ºæ…§å·¥åœ°å®‰å…¨ç›‘æµ‹</li>
<li>åœ°è´¨ç¾å®³é£é™©è¾…åŠ©è¯„ä¼°</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œè¿˜å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•ï¼š</p>
<ul>
<li>ä¸ GIS ç³»ç»Ÿè”åŠ¨ï¼Œç”Ÿæˆé£é™©åˆ†å¸ƒå›¾</li>
<li>æ¥å…¥æŠ¥è­¦è§„åˆ™ï¼Œå®ç°å µå¡è‡ªåŠ¨å‘Šè­¦</li>
<li>æ¨¡å‹å‡çº§ä¸ºåˆ†å‰²ä»»åŠ¡ï¼Œç²¾ç¡®å®šä½æ·¤ç§¯åŒºåŸŸ</li>
</ul>
<hr/>
<h3 data-id="heading-15">ä¹ã€æ€»ç»“</h3>
<p>æœ¬æ–‡ä»å·¥ç¨‹å®é™…é—®é¢˜å‡ºå‘ï¼Œå®Œæ•´ä»‹ç»äº†ä¸€å¥— <strong>åŸºäº YOLOv8 çš„è¾¹å¡æ’æ°´æ²Ÿå µå¡æ£€æµ‹ç³»ç»Ÿ</strong> çš„è®¾è®¡æ€è·¯ä¸å®ç°è·¯å¾„ã€‚è¯¥ç³»ç»Ÿä¸ä»…éªŒè¯äº† YOLOv8 åœ¨å·¥ç¨‹å·¡æ£€åœºæ™¯ä¸‹çš„å®ç”¨ä»·å€¼ï¼Œä¹Ÿå±•ç¤ºäº† <strong>â€œæ¨¡å‹ + UIâ€ä¸€ä½“åŒ–äº¤ä»˜</strong> çš„å…¸å‹è½åœ°æ–¹å¼ã€‚</p>
<p>å¯¹äºå¸Œæœ›å°†ç›®æ ‡æ£€æµ‹çœŸæ­£åº”ç”¨åˆ°çœŸå®å·¥ç¨‹åœºæ™¯ä¸­çš„å¼€å‘è€…è€Œè¨€ï¼Œè¿™ç±»é¡¹ç›®æ¯”å•çº¯è·‘æ¨¡å‹æŒ‡æ ‡æ›´å…·å‚è€ƒæ„ä¹‰ã€‚</p>
<p><strong>AI ä¸æ­¢äºè®ºæ–‡ï¼Œæ›´é‡è¦çš„æ˜¯è§£å†³ç°å®é—®é¢˜ã€‚</strong></p>
<p>æœ¬æ–‡å›´ç»•è¾¹å¡æ’æ°´æ²Ÿå µå¡è¿™ä¸€å…¸å‹å·¥ç¨‹å®‰å…¨éšæ‚£ï¼Œç³»ç»Ÿæ€§åœ°ä»‹ç»äº†ä¸€ä¸ªåŸºäº YOLOv8 çš„æ™ºèƒ½æ£€æµ‹è§£å†³æ–¹æ¡ˆã€‚ä»é—®é¢˜èƒŒæ™¯ã€ç³»ç»Ÿæ¶æ„ã€æ•°æ®ä¸æ¨¡å‹è®¾è®¡ï¼Œåˆ°æ¨ç†æµç¨‹å’Œå¯è§†åŒ–åº”ç”¨å®ç°ï¼Œå®Œæ•´å±•ç¤ºäº†ç›®æ ‡æ£€æµ‹æŠ€æœ¯åœ¨å®é™…å·¥ç¨‹åœºæ™¯ä¸­çš„è½åœ°è·¯å¾„ã€‚è¯¥ç³»ç»Ÿå…¼é¡¾æ£€æµ‹ç²¾åº¦ã€å®æ—¶æ€§ä¸æ˜“ç”¨æ€§ï¼Œé€šè¿‡å¼•å…¥å›¾å½¢åŒ–ç•Œé¢æœ‰æ•ˆé™ä½äº†ä½¿ç”¨é—¨æ§›ï¼Œå¯ç›´æ¥æœåŠ¡äºè¾¹å¡å·¡æ£€ã€æ°´åˆ©è¿ç»´å’Œåœ°è´¨ç¾å®³é¢„è­¦ç­‰åº”ç”¨åœºæ™¯ã€‚æ•´ä½“å®è·µè¡¨æ˜ï¼Œå°†å…ˆè¿›çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ä¸å·¥ç¨‹åŒ–è®¾è®¡ç›¸ç»“åˆï¼Œæ˜¯æ¨åŠ¨æ™ºæ…§æ°´åˆ©ä¸æ™ºèƒ½å·¡æ£€è½åœ°çš„å…³é”®æ–¹å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MCP å…¥é—¨ 01ï¼šMCP çš„æœ¬è´¨åŠè„šæ‰‹æ¶æ­å»º]]></title>    <link>https://juejin.cn/post/7596906473306177586</link>    <guid>https://juejin.cn/post/7596906473306177586</guid>    <pubDate>2026-01-19T12:18:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596906473306177586" data-draft-id="7596890557545676846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MCP å…¥é—¨ 01ï¼šMCP çš„æœ¬è´¨åŠè„šæ‰‹æ¶æ­å»º"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-19T12:18:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‘¸é±¼çš„æ˜¥å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/1714893870865303"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MCP å…¥é—¨ 01ï¼šMCP çš„æœ¬è´¨åŠè„šæ‰‹æ¶æ­å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893870865303/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‘¸é±¼çš„æ˜¥å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T12:18:58.000Z" title="Mon Jan 19 2026 12:18:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç”¨å†™åç«¯ API çš„æ–¹å¼ï¼Œç»™ AI è£…ä¸Šâ€œçœ¼ç›â€å’Œâ€œæ‰‹â€ã€‚</p>
</blockquote>
<h2 data-id="heading-0">èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦MCPï¼Ÿ</h2>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œä½ è‚¯å®šç”¨è¿‡ ChatGPT æˆ– Claude å†™ä»£ç ã€‚å®ƒä»¬å¾ˆå¼ºï¼Œä½†æœ‰ä¸€ä¸ªè‡´å‘½ç—›ç‚¹ï¼šå®ƒä»¬æ˜¯â€œçâ€çš„ã€‚</p>
<ul>
<li>
<p>å®ƒçœ‹ä¸è§ä½ å…¬å¸å†…ç½‘çš„ APIã€‚</p>
</li>
<li>
<p>å®ƒè¿ä¸ä¸Šä½ æœ¬åœ°çš„æ•°æ®åº“ã€‚</p>
</li>
<li>
<p>å®ƒä¸çŸ¥é“ä½ åˆšå†™çš„ä½ä»£ç å¹³å°é…ç½®é•¿ä»€ä¹ˆæ ·ã€‚</p>
</li>
</ul>
<p>ä»¥å‰ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•æ˜¯ Ctrl+C / Ctrl+Vï¼ŒæŠŠä»£ç è´´ç»™å®ƒã€‚ä½†å¦‚æœæ•°æ®æœ‰ 1GB å‘¢ï¼Ÿå¦‚æœéœ€è¦å®æ—¶æ“ä½œå‘¢ï¼Ÿéš¾é“éœ€è¦æ¯æ¬¡éƒ½ç²˜è´´ä¸€éå—ï¼Ÿ</p>
<p>å¤ªéº»çƒ¦äº†ï¼</p>
<p>æˆ‘ä»¬éœ€è¦ä¸€ç§åè®®ï¼Œèƒ½è®© <code>AI</code> åœ¨å¿…è¦çš„æ—¶å€™ï¼Œèƒ½è‡ªå·±å»æ‰¾è¿™äº›ä¿¡æ¯ï¼</p>
<p>è¿™ï¼Œå°±æ˜¯ MCP (Model Context Protocol)!</p>
<h2 data-id="heading-1">ä¸€ã€MCP çš„æœ¬è´¨</h2>
<blockquote>
<p>ä½ å¯ä»¥æŠŠå®ƒå½“æˆä¸€ä¸ª <code>HTTP</code> æœ¬åœ°æœåŠ¡ã€‚ä½†ä½ éœ€è¦æ˜ç™½ï¼Œè¿™åªæ˜¯ç±»æ¯”ï¼Œå®ƒç›®å‰æ”¯æŒä¸¤ç§ä¸»æµåè®®ï¼šStdio æœ¬åœ°é€šä¿¡ å’Œ SSE (Server-Sent Events over HTTP) ç½‘ç»œæœåŠ¡ã€‚</p>
</blockquote>
<p>æŠ›å¼€é‚£äº›å®˜æ–¹å®šä¹‰çš„â€œå¤§æ¨¡å‹ä¸Šä¸‹æ–‡åè®®â€ï¼Œä½œä¸ºå‰ç«¯/å…¨æ ˆå¼€å‘è€…ï¼Œä½ åªéœ€è¦è®°ä½ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>MCP Server å°±æ˜¯ä¸€ä¸ªâ€œåç«¯ API æœåŠ¡â€ï¼Œè€Œ AI æ˜¯ä½ çš„â€œå‰ç«¯ UIâ€ã€‚</p>
</blockquote>
<blockquote>
<p>ä½ æŒ‰è§„èŒƒå®šä¹‰æ¥å£ï¼ŒAIæ‰¾ä½ è¦æ•°æ®çš„æ—¶å€™ä½ è¿”ç»™å®ƒå°±å®Œäº‹å„¿äº†ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1255065406f5478ab1435a12340f3188~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pG46bG855qE5pil5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429938&amp;x-signature=nZnb77A2JZ6IxJYla9KKygYuaMk%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯ <code>Web</code>å¼€å‘çš„ä¸€äº›æ¦‚å¿µï¼Œæ˜ å°„åˆ° <code>MCP</code> é‡Œï¼Œä½ ä¸€çœ‹å°±æ‡‚ï¼š</p>






























<table><thead><tr><th>ä¼ ç»Ÿ Web å¼€å‘</th><th>MCP å¼€å‘æ¨¡å¼</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>Frontend (React/Vue)</td><td>AI Client (Claude/OpenCode)</td><td>AI è´Ÿè´£ç†è§£ç”¨æˆ·æ„å›¾ï¼Œå†³å®šâ€œç‚¹å‡»â€å“ªä¸ªæŒ‰é’®ã€‚</td></tr><tr><td>Backend (Express/Koa)</td><td>MCP Server (ä½ çš„è„šæœ¬)</td><td>ä½ å†™çš„é€»è¾‘ï¼Œè´Ÿè´£å¹²æ´»ï¼ˆæŸ¥åº“ã€è°ƒæ¥å£ï¼‰ã€‚</td></tr><tr><td>REST/GraphQL</td><td>MCP Protocol</td><td>ä¸¤è€…é€šè®¯çš„æ ‡å‡†åŒ–åè®®ï¼ˆåŸºäº JSON-RPCï¼‰ã€‚</td></tr><tr><td>Click Event</td><td>Tool Call</td><td>ç”¨æˆ·è¯´â€œæŸ¥ä¸‹è®¢å•â€ï¼ŒAI è§¦å‘å·¥å…·è°ƒç”¨ã€‚</td></tr></tbody></table>
<p>ä¸€ä¸ªæ ‡å‡†çš„ MCP Server ä¸»è¦æä¾›4ç§èƒ½åŠ›ï¼Œå¯¹åº”åˆ°åç«¯æ¦‚å¿µéå¸¸ç›´è§‚ï¼š</p>
<h3 data-id="heading-2">MCP æ ¸å¿ƒæ¥å£è¯´æ˜</h3>
<ol>
<li>
<p><strong>æ ¸å¿ƒæ¥å£ä¸€ï¼šèƒ½åŠ›æ¡æ‰‹ (initialize)</strong></p>
<ul>
<li><strong>HTTP ç±»æ¯”</strong>ï¼š<code>GET /api/health</code> æˆ– <code>OPTIONS /</code></li>
<li><strong>MCP åè®®æ–¹æ³•</strong>ï¼š<code>initialize</code></li>
<li><strong>ä½œç”¨</strong>ï¼šè¿™æ˜¯æ•´ä¸ªåè®®çš„å…¥å£ã€‚å½“ AIï¼ˆClientï¼‰ç¬¬ä¸€æ¬¡è¿æ¥ä½ çš„ MCP Server æ—¶ï¼Œå®ƒä¼šå‘é€è¿™ä¸ªè¯·æ±‚ã€‚ä½ çš„ Server å¿…é¡»è¿”å›ä¸€ä¸ªå›ºå®šçš„ JSON ç»“æ„ï¼Œå‘Šè¯‰ AIï¼šâ€œæˆ‘æ˜¯è°ï¼ˆServeråï¼‰ï¼Œç‰ˆæœ¬å¤šå°‘ï¼Œæˆ‘æ”¯æŒå“ªäº›èƒ½åŠ›ï¼ˆResources? Tools? Promptsï¼Ÿï¼‰â€ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ ¸å¿ƒæ¥å£äºŒï¼šèµ„æºå±‚ (resources/*)</strong></p>
<ul>
<li><strong>æ€»ä½“æè¿°</strong>ï¼šè¿™å¯¹åº” REST API ä¸­çš„ <code>GET</code> è¯·æ±‚ã€‚å®ƒæ˜¯åªè¯»çš„ï¼Œç”¨äºæŠŠæ•°æ®â€œå–‚â€ç»™ AIã€‚</li>
<li><strong>åŠ¨ä½œ</strong>ï¼š
<ul>
<li><strong>åˆ—è¡¨</strong>
<ul>
<li>HTTP ç±»æ¯”ï¼š<code>GET /api/files</code></li>
<li>MCP åè®®æ–¹æ³•ï¼š<code>resources/list</code></li>
<li>ä½œç”¨ï¼šå‘Šè¯‰ AI æˆ‘è¿™é‡Œæœ‰å“ªäº›æ–‡ä»¶/æ•°æ®æºå¯ä¾›æŸ¥é˜…ã€‚</li>
</ul>
</li>
<li><strong>è¯»å–</strong>
<ul>
<li>HTTP ç±»æ¯”ï¼š<code>GET /api/files/:id</code></li>
<li>MCP åè®®æ–¹æ³•ï¼š<code>resources/read</code></li>
<li>ä½œç”¨ï¼šAI æŒ‡å®šä¸€ä¸ª URI (å¦‚ <code>lcp://app/001</code>)ï¼Œä½ è¿”å›å…·ä½“çš„å†…å®¹æ–‡æœ¬ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><strong>æœ¬è´¨</strong>ï¼šè¿™é‡Œçš„æ¥å£å°±æ˜¯è®© AI èƒ½å¤Ÿâ€œçœ‹åˆ°â€ä½ ç³»ç»Ÿé‡Œçš„æ•°æ®ï¼Œä½†ä¸èƒ½æ”¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ ¸å¿ƒæ¥å£ä¸‰ï¼šå·¥å…·å±‚ (tools/*)</strong></p>
<ul>
<li><strong>æ€»ä½“æè¿°</strong>ï¼šè¿™å¯¹åº” REST API ä¸­çš„ <code>POST</code> è¯·æ±‚ã€‚å®ƒæ˜¯å¯æ‰§è¡Œçš„ï¼Œç”¨äºè®© AIâ€œæ“ä½œâ€ä½ çš„ç³»ç»Ÿã€‚è¿™æ˜¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚</li>
<li><strong>åŠ¨ä½œ</strong>ï¼š
<ul>
<li><strong>åˆ—è¡¨</strong>
<ul>
<li>HTTP ç±»æ¯”ï¼š<code>GET /api/functions</code> (Swagger)</li>
<li>MCP åè®®æ–¹æ³•ï¼š<code>tools/list</code></li>
<li>ä½œç”¨ï¼šå‘Šè¯‰ AI æˆ‘æœ‰å“ªäº›å‡½æ•°å¯ä»¥è°ƒç”¨ï¼ˆåŒ…æ‹¬å‚æ•°ç»“æ„ JSON Schemaï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è°ƒç”¨</strong>
<ul>
<li>HTTP ç±»æ¯”ï¼š<code>POST /api/execute</code></li>
<li>MCP åè®®æ–¹æ³•ï¼š<code>tools/call</code></li>
<li>ä½œç”¨ï¼šAI å‘é€å‡½æ•°åå’Œå‚æ•°ï¼ˆJSONï¼‰ï¼Œä½ æ‰§è¡Œé€»è¾‘å¹¶è¿”å›ç»“æœã€‚</li>
</ul>
</li>
</ul>
</li>
<li><strong>æœ¬è´¨</strong>ï¼šä½ çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæŸ¥åº“ã€æ”¹é…ç½®ã€å‘é‚®ä»¶ï¼‰å…¨éƒ¨å°è£…åœ¨è¿™é‡Œã€‚</li>
</ul>
</li>
<li>
<p><strong>æ ¸å¿ƒæ¥å£å››ï¼šæç¤ºè¯å±‚ (prompts/*)</strong></p>
<ul>
<li><strong>æ€»ä½“æè¿°</strong>ï¼šè¿™å¯¹åº”æ¨¡æ¿æœåŠ¡ã€‚</li>
<li><strong>åŠ¨ä½œ</strong>ï¼š
<ul>
<li><strong>åˆ—è¡¨</strong>
<ul>
<li>HTTP ç±»æ¯”ï¼š<code>GET /api/templates</code></li>
<li>MCP åè®®æ–¹æ³•ï¼š<code>prompts/list</code></li>
<li>ä½œç”¨ï¼šå‘Šè¯‰ AI æˆ‘æœ‰å“ªäº›é¢„è®¾çš„å¯¹è¯æ¨¡æ¿ã€‚</li>
</ul>
</li>
<li><strong>è·å–</strong>
<ul>
<li>HTTP ç±»æ¯”ï¼š<code>POST /api/render_template</code></li>
<li>MCP åè®®æ–¹æ³•ï¼š<code>prompts/get</code></li>
<li>ä½œç”¨ï¼šAI é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿ï¼Œä½ æŠŠå¡«å……å¥½ä¸Šä¸‹æ–‡çš„ Prompt è¿”å›ç»™å®ƒã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 data-id="heading-3">äºŒã€ åŠ¨æ‰‹æ­å»ºä¸€ä¸ªåŸºäº Node.js çš„è„šæ‰‹æ¶</h2>
<blockquote>
<p>ä¹Ÿå¯ä»¥ä¸æ˜¯ <code>Nodejs</code>ï¼Œå¯ä»¥æ˜¯ <code>Python</code>ã€‚ä½†æˆ‘çš„è¯»è€…å¤§éƒ¨åˆ†æ˜¯å‰ç«¯ï¼Œå’±è¿˜æ˜¯ä»¥<code>Nodejs</code>ä¸ºä¾‹ã€‚</p>
</blockquote>
<ol>
<li>åˆå§‹åŒ–é¡¹ç›®
æ‰¾ä¸ªæ–‡ä»¶å¤¹ï¼Œåƒåˆå§‹åŒ–ä»»ä½•å‰ç«¯é¡¹ç›®ä¸€æ ·ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> my-first-mcp
<span class="hljs-built_in">cd</span> my-first-mcp
npm init -y
</code></pre>
<ol>
<li>å®‰è£…ä¾èµ–
æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ ¸å¿ƒåŒ…ï¼š</li>
</ol>
<ul>
<li>
<p>@modelcontextprotocol/sdk: å®˜æ–¹ SDKï¼Œå¤„ç†é€šè®¯åè®®ã€‚</p>
</li>
<li>
<p>zod: ç±»ä¼¼äº TypeScript çš„è¿è¡Œæ—¶æ ¡éªŒã€‚AI ç»å¸¸ä¼šä¼ é”™å‚æ•°ï¼ŒZod æ˜¯æœ€å¥½çš„é˜²çº¿ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">npm install @modelcontextprotocol/sdk zod
</code></pre>
<ol>
<li>é…ç½® ESM
æ‰“å¼€ package.jsonï¼Œæ·»åŠ  "type": "module"ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½ç›´æ¥ç”¨ import çˆ½å†™ä»£ç ã€‚</li>
</ol>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-first-mcp"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span><span class="hljs-punctuation">,</span> 
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ol>
<li>ç¼–å†™æ ¸å¿ƒä»£ç  (index.js)</li>
</ol>
<p>æˆ‘ä»¬åœ¨ index.js é‡Œå†™ä¸€ä¸ªæœ€ç®€å•çš„ Serverï¼Œæ¨¡æ‹ŸæŸ¥è¯¢ä½ ä»¬å…¬å¸ä½ä»£ç å¹³å°çš„çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">#!/usr/bin/env node</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Server</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@modelcontextprotocol/sdk/server/index.js"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StdioServerTransport</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@modelcontextprotocol/sdk/server/stdio.js"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CallToolRequestSchema</span>, <span class="hljs-title class_">ListToolsRequestSchema</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@modelcontextprotocol/sdk/types.js"</span>;
<span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">"zod"</span>;

<span class="hljs-comment">// 1. å®ä¾‹åŒ– Server</span>
<span class="hljs-keyword">const</span> server = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Server</span>(
  { <span class="hljs-attr">name</span>: <span class="hljs-string">"lcp-helper"</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">"1.0.0"</span> },
  { <span class="hljs-attr">capabilities</span>: { <span class="hljs-attr">tools</span>: {} } }
);

<span class="hljs-comment">// 2. å‘Šè¯‰ AI æˆ‘ä»¬æœ‰å“ªäº›å·¥å…· (ç›¸å½“äº Swagger/OpenAPI æ–‡æ¡£)</span>
server.<span class="hljs-title function_">setRequestHandler</span>(<span class="hljs-title class_">ListToolsRequestSchema</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">tools</span>: [
      {
        <span class="hljs-attr">name</span>: <span class="hljs-string">"get_app_info"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"æŸ¥è¯¢ä½ä»£ç å¹³å°ä¸­æŸä¸ªåº”ç”¨çš„çŠ¶æ€å’Œè´Ÿè´£äºº"</span>,
        <span class="hljs-attr">inputSchema</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">"object"</span>,
          <span class="hljs-attr">properties</span>: {
            <span class="hljs-attr">appId</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">"string"</span>, <span class="hljs-attr">description</span>: <span class="hljs-string">"åº”ç”¨ID (å¦‚ app_001)"</span> },
          },
          <span class="hljs-attr">required</span>: [<span class="hljs-string">"appId"</span>],
        },
      },
    ],
  };
});

<span class="hljs-comment">// 3. å®ç°å·¥å…·é€»è¾‘ (ç›¸å½“äº SpringBooté‡Œçš„ Controller)</span>
server.<span class="hljs-title function_">setRequestHandler</span>(<span class="hljs-title class_">CallToolRequestSchema</span>, <span class="hljs-keyword">async</span> (request) =&gt; {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">params</span>.<span class="hljs-property">name</span> === <span class="hljs-string">"get_app_info"</span>) {
    <span class="hljs-keyword">const</span> args = z.<span class="hljs-title function_">object</span>({ <span class="hljs-attr">appId</span>: z.<span class="hljs-title function_">string</span>() }).<span class="hljs-title function_">parse</span>(request.<span class="hljs-property">params</span>.<span class="hljs-property">arguments</span>);
    
    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ¢æˆçœŸå®çš„ axios è¯·æ±‚</span>
    <span class="hljs-comment">// const res = await axios.get(`http://api.internal.com/apps/${args.appId}`);</span>
    <span class="hljs-keyword">const</span> mockData = {
      <span class="hljs-attr">app_001</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">"HRç³»ç»Ÿ"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"Online"</span> },
      <span class="hljs-attr">app_002</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">"è´¢åŠ¡ç³»ç»Ÿ"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"Down"</span> }
    };
    
    <span class="hljs-keyword">const</span> result = mockData[args.<span class="hljs-property">appId</span>] || { <span class="hljs-attr">error</span>: <span class="hljs-string">"Not Found"</span> };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">content</span>: [{ <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>, <span class="hljs-attr">text</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result) }],
    };
  }
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"å·¥å…·ä¸å­˜åœ¨"</span>);
});

<span class="hljs-comment">// 4. å¯åŠ¨æœåŠ¡</span>
<span class="hljs-keyword">const</span> transport = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StdioServerTransport</span>();
<span class="hljs-keyword">await</span> server.<span class="hljs-title function_">connect</span>(transport);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"MCP Server running..."</span>);
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€ è¿æ¥ä¸è°ƒè¯•ï¼šè®© AI è¿ä¸Šä½ çš„åç«¯</h2>
<p>å†™å®Œäº† Serverï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª Client (AI) æ¥è¿æ¥å®ƒã€‚</p>
<p>æˆ‘ä»¬ä»¥ å­—èŠ‚çš„ <code>Trae</code> ä¸ºä¾‹ï¼š</p>
<ol>
<li>ç‚¹å³ä¸Šè§’çš„è®¾ç½®æŒ‰é’®ï¼Œæ‰¾åˆ° <code>MCP</code> é€‰é¡¹ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14f82fc261494f95bba1e5cebcbb9885~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pG46bG855qE5pil5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429938&amp;x-signature=LIQTabD8po877u%2BeBUqmbbx0XiA%3D" alt="" loading="lazy"/></li>
</ol>
<p>é€‰æ‹© â€œæ‰‹åŠ¨æ·»åŠ â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f86e67eaded4fca9a457ed0d24be700~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pG46bG855qE5pil5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429938&amp;x-signature=TLswf2y5mlQOSCNwKdf6rjVXplc%3D" alt="" loading="lazy"/></p>
<p>ç²˜è´´å¦‚ä¸‹jsoné…ç½®ï¼Œæ³¨æ„æŠŠè·¯å¾„æ”¹æˆä½ çš„å·¥ç¨‹ç›®å½•ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"my-lcp-helper"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"/ä½ çš„é¡¹ç›®ç»å¯¹è·¯å¾„/my-first-mcp/index.js"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"NODE_ENV"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"production"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶åä½ å°±èƒ½çœ‹åˆ°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60965910607c4b6ab321d4e23ad6941d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pG46bG855qE5pil5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429938&amp;x-signature=%2BKhLw8N4zoeSwUQsIrSBwX%2FWSYE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">å››ã€ æµ‹è¯•ä½ çš„ MCP Server</h2>
<p>æ‰“å¼€ <code>Trae</code> çš„ AI å¯¹è¯æ¡†ï¼Œå¯¹è¯ç±»å‹é€‰â€œBuilder With MCPâ€ï¼Œè¾“å…¥ï¼š</p>
<blockquote>
<p>å¸®æˆ‘æŸ¥ä¸€ä¸‹ app_001 è¿™ä¸ªåº”ç”¨ç°åœ¨æ˜¯ä»€ä¹ˆçŠ¶æ€ï¼Ÿ</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6205dc6b20c0495fa13f317e677a449e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pG46bG855qE5pil5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769429938&amp;x-signature=1McrwDrIe6xB4paB5Kl7sNHD3Co%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">äº”ã€ ä¸€äº› Tips</h2>
<ul>
<li>
<p>ç¦å¿Œçš„ console.log: MCP é»˜è®¤ä½¿ç”¨ Stdio (æ ‡å‡†è¾“å…¥è¾“å‡º) é€šè®¯ã€‚</p>
<ul>
<li>
<p>OpenCode ç›‘å¬ä½ çš„ stdout è·å–æ•°æ®ã€‚</p>
</li>
<li>
<p>å¦‚æœä½ å†™äº† console.log("debug")ï¼Œå®ƒä¼šæ±¡æŸ“ JSON æ•°æ®æµï¼Œå¯¼è‡´è¿æ¥ç›´æ¥æŠ¥é”™æ–­å¼€ã€‚</p>
</li>
<li>
<p>è§£æ³•ï¼š è°ƒè¯•ä¿¡æ¯ä¸€å¾‹ç”¨ console.error()ï¼Œæˆ–è€…å†™åˆ°æœ¬åœ° log æ–‡ä»¶é‡Œã€‚</p>
</li>
</ul>
</li>
<li>
<p>ç»å¯¹è·¯å¾„: åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œæ°¸è¿œä½¿ç”¨ç»å¯¹è·¯å¾„æŒ‡å‘ä½ çš„ index.jsã€‚å› ä¸º AI å¯åŠ¨æ—¶ï¼Œå·¥ä½œç›®å½•å¯èƒ½ä¸åœ¨ä½ çš„é¡¹ç›®é‡Œã€‚</p>
</li>
<li>
<p>Token å®‰å…¨: ä¸è¦æŠŠ API Token ç¡¬ç¼–ç åœ¨ JS é‡Œã€‚ä½¿ç”¨ process.env.MY_TOKENï¼Œå¹¶åœ¨ OpenCode çš„é…ç½®æ–‡ä»¶é‡Œçš„ env å­—æ®µæ³¨å…¥å®ƒã€‚</p>
</li>
</ul>
<h2 data-id="heading-7">å…­ã€ å°ç»“</h2>
<p>ç°åœ¨ä½ å·²ç»æ­å»ºäº†ä¸€ä¸ªæœ€åŸºç¡€çš„â€œåªè¯»â€ MCPã€‚ä¸‹èŠ‚è¯¾æˆ‘ä»¬å¯ä»¥å­¦ä¹ æ›´å¤æ‚ä¸€äº›çš„åœºæ™¯ã€‚</p>
<p>ä¸‹è¯¾ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>