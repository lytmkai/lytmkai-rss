<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[KuiTestï¼šåŸºäºå¤§æ¨¡å‹é€šè¯†çš„UIäº¤äº’éå†æµ‹è¯•]]></title>    <link>https://juejin.cn/post/7594398051721478182</link>    <guid>https://juejin.cn/post/7594398051721478182</guid>    <pubDate>2026-01-13T02:26:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594398051721478182" data-draft-id="7594398051721429030" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="KuiTestï¼šåŸºäºå¤§æ¨¡å‹é€šè¯†çš„UIäº¤äº’éå†æµ‹è¯•"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-13T02:26:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3509296845313741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            KuiTestï¼šåŸºäºå¤§æ¨¡å‹é€šè¯†çš„UIäº¤äº’éå†æµ‹è¯•
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/6930512966122995712/posts" data-v-d326b38e=""><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/47ccb42d726640a7889ba1e64ae203e6~tplv-k3u1fbpfcp-watermark.image" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/6930512966122995712/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ" class="title" data-v-d326b38e="">ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2026-01-13T02:26:01.000Z" title="Tue Jan 13 2026 02:26:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2026-01-13
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»16åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              ç¾å›¢å°ç¼– @ç¾å›¢
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç¾å›¢è´¨æ•ˆæŠ€æœ¯éƒ¨è”åˆå¤æ—¦å¤§å­¦å‘¨æ‰¬å¸†æ•™æˆå›¢é˜Ÿæ¨å‡ºKuiTestâ€”â€”é›¶è§„åˆ™UIåŠŸèƒ½æ€§å¼‚å¸¸æµ‹è¯•å·¥å…·ã€‚KuiTesté€šè¿‡å°†â€œäººç±»é¢„æœŸâ€ç›´æ¥ç”¨ä½œTest Oracleï¼Œè§£å†³äº†é•¿æœŸä»¥æ¥UIæµ‹è¯•Oracleæ³›åŒ–æ€§å·®çš„è‡ªåŠ¨åŒ–ç—›ç‚¹ã€‚å®éªŒè¡¨æ˜ï¼ŒKuiTestå¼‚å¸¸å¬å›ç‡è¾¾86%ï¼Œè¯¯æŠ¥ç‡ä»…1.2%ï¼Œå·²åœ¨æ‰§è¡Œ21ä¸‡+æµ‹è¯•ç”¨ä¾‹ï¼Œå‘ç°ç™¾ä½™ä¾‹æœ‰æ•ˆç¼ºé™·ï¼Œå¤§å¹…é™ä½äººå·¥æˆæœ¬å¹¶æå‡æµ‹è¯•è¦†ç›–ç‡ã€‚</p>
</blockquote>
<h2 data-id="heading-0">1 èƒŒæ™¯</h2>
<p>è¿‘æ¥ï¼Œéšç€ App çš„åŠŸèƒ½æ„ˆå‘å¤æ‚ï¼ŒUIï¼ˆç”¨æˆ·ç•Œé¢ï¼‰çš„äº¤äº’é€»è¾‘ä¹Ÿéšä¹‹å¤šæ ·åŒ–ã€‚ä¸ºäº†ä¿éšœç”¨æˆ·ä½“éªŒï¼Œé’ˆå¯¹ UI çš„åŠŸèƒ½æµ‹è¯•ä¸€ç›´æ˜¯è´¨é‡ä¿éšœä¸­çš„é‡è¦ç¯èŠ‚ã€‚ä¼ ç»Ÿçš„ UI åŠŸèƒ½æµ‹è¯•å¾€å¾€ä¾èµ–äºäººå·¥ç¼–å†™çš„æµ‹è¯•è„šæœ¬æˆ–è§„åˆ™ä½“ç³»ï¼šé€šè¿‡æ‰‹åŠ¨ç¼–å†™æ ¡éªŒé€»è¾‘æ¥éªŒè¯äº¤äº’æ˜¯å¦æ­£ç¡®ã€‚è¿™ç§æ–¹å¼è™½ç„¶ç²¾ç¡®ï¼Œä½†æˆæœ¬é«˜æ˜‚ï¼Œç»´æŠ¤å›°éš¾ã€‚</p>
<p>å¯¹ç¾å›¢è€Œè¨€ï¼Œ ä¸€ä¸ª App å°±æœ‰å¯èƒ½åŒ…å«ä¸Šåƒç§ UI ç•Œé¢ã€æ•°ä¸‡ä¸ªäº¤äº’æ“ä½œã€‚éšç€ä¸šåŠ¡å¿«é€Ÿè¿­ä»£ã€ç•Œé¢é¢‘ç¹è°ƒæ•´ã€åº•å±‚å¹³å°ï¼ˆå¦‚ Androidã€iOSã€HarmonyOS NEXTï¼‰çš„æ›´æ–°ï¼ŒåŸºäºè§„åˆ™çš„æµ‹è¯•è„šæœ¬å¸¸å¸¸å¤±æ•ˆã€‚æ¯å½“è„šæœ¬å¤±æ•ˆï¼Œæµ‹è¯•å·¥ç¨‹å¸ˆéƒ½éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´é‡æ–°ç»‘å®šå…ƒç´ ã€ä¿®å¤è§„åˆ™è„šæœ¬ï¼Œæå¤§åœ°æå‡äº†æµ‹è¯•è‡ªåŠ¨åŒ–çš„å¼€é”€ã€‚æ­¤å¤–ï¼Œå½“ä¸‹çš„ UI åŠŸèƒ½ç¼ºé™·é€šå¸¸å¹¶ä¸è¡¨ç°ä¸ºå´©æºƒï¼Œè€Œæ˜¯æ›´å¤æ‚çš„å“åº”é€»è¾‘å¼‚å¸¸ï¼šä¾‹å¦‚å›¾ 1 ä¸­ç‚¹å‡»â€œå…¨éƒ¨å·²è¯»â€å´æ¸…ç©ºäº†æ¶ˆæ¯åˆ—è¡¨ç­‰ã€‚è¿™ç±»é—®é¢˜ä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒï¼Œä½†éš¾ä»¥é€šè¿‡ç®€å•è§„åˆ™æ¦‚æ‹¬ï¼Œé™åˆ¶äº†ä¼ ç»Ÿ UI æµ‹è¯•è‡ªåŠ¨åŒ–çš„è¦†ç›–ç‡ä¸æ•ˆç‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b23ed847322437083a1b5b0984ce3ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=M8ThfQEeq7MkG6rDf9HIGR0UwLo%3D" alt="å›¾ 1 - UI åŠŸèƒ½å“åº”å¼‚å¸¸ç¤ºä¾‹" loading="lazy"/></p>
<p>è€ƒè™‘åˆ° UI åŠŸèƒ½ç¼ºé™·è™½è¡¨ç°å„å¼‚ï¼Œä½†å…±æ€§æ˜¯ App çš„å“åº”åç¦»ç”¨æˆ·é¢„æœŸã€‚å› æ­¤ï¼Œè‹¥èƒ½å®ç°å¯¹ç”¨æˆ·é¢„æœŸçš„æ¨¡æ‹Ÿï¼Œå°±èƒ½ä»¥æ­¤ä½œä¸ºæµ‹è¯•å‡†åˆ™ï¼ˆOracleï¼‰ã€è‡ªåŠ¨åŒ–çš„æ£€æµ‹ UI åŠŸèƒ½æ€§å¼‚å¸¸ã€‚å³æ— éœ€äººå·¥é€é¡µé¢ç¼–å†™è§„åˆ™ï¼Œä»è€Œå¤§å¹…æå‡è‡ªåŠ¨åŒ–çš„ç¨‹åº¦ä¸æµ‹è¯•è¦†ç›–ç‡ã€‚ç”±äºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç»è¿‡æµ·é‡é€šç”¨çŸ¥è¯†è®­ç»ƒï¼Œå…·å¤‡ä¸€å®šçš„æ¨¡æ‹Ÿäººç±»å¸¸è¯†ä¸é¢„æœŸçš„èƒ½åŠ›ï¼Œæ°å¥½å¥‘åˆæ¨¡æ‹Ÿç”¨æˆ·é¢„æœŸçš„éœ€æ±‚ï¼Œä¸”æ— éœ€é’ˆå¯¹ç‰¹å®šåº”ç”¨ / åŠŸèƒ½å•ç‹¬é€‚é…ï¼Œå¤©ç„¶å…·å¤‡æ³›åŒ–æ€§ã€‚å› æ­¤ï¼Œé€šè¿‡åˆ†æ UI åŠŸèƒ½ç¼ºé™·çš„å…±æ€§ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå…¨æ–°çš„æ€è·¯ï¼š<strong>èƒ½å¦åŸºäºå¤§æ¨¡å‹ç†è§£â€œäººç±»å¯¹ UI äº¤äº’çš„å¸¸è¯†é¢„æœŸâ€ï¼Œå¹¶ä»¥æ­¤è‡ªåŠ¨åˆ¤æ–­äº¤äº’æ˜¯å¦æ­£ç¡®ï¼Ÿ</strong></p>
<p>åŸºäºè¿™ä¸€ç†å¿µï¼Œæˆ‘ä»¬ä¸å¤æ—¦å¤§å­¦è®¡ç®—ä¸æ™ºèƒ½åˆ›æ–°å­¦é™¢ <a href="https://link.juejin.cn?target=http%3A%2F%2Fy-droid.com%2Fyz%2F" target="_blank" title="http://y-droid.com/yz/" ref="nofollow noopener noreferrer">å‘¨æ‰¬å¸†æ•™æˆå›¢é˜Ÿ</a> å±•å¼€è”åˆç ”ç©¶ï¼Œè®¾è®¡å¹¶å®ç°äº† <strong>KuiTest</strong> â€”â€” ä¸€å¥—åŸºäº <strong>å¤§ä¼—é€šè¯†</strong> çš„ <strong>æ— è§„åˆ™ï¼ˆRule-freeï¼‰UI åŠŸèƒ½æµ‹è¯•ç³»ç»Ÿ</strong>ã€‚KuiTest èƒ½å¤Ÿåƒäººä¸€æ ·ï¼Œç†è§£æŒ‰é’®ã€å›¾æ ‡ç­‰äº¤äº’ç»„ä»¶çš„å«ä¹‰ï¼Œé¢„æµ‹ç‚¹å‡»åçš„åˆç†ç»“æœï¼Œå¹¶æ®æ­¤è‡ªåŠ¨æ ¡éªŒå®é™…ç•Œé¢åé¦ˆæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œä»è€Œåœ¨æ— éœ€æ‰‹å·¥è„šæœ¬çš„æƒ…å†µä¸‹å®ŒæˆåŠŸèƒ½æµ‹è¯•ã€‚è¯¥å·¥ä½œå·²åœ¨ç¾å›¢ App çš„å¤šä¸ªä¸šåŠ¡ä¸­è½åœ°åº”ç”¨ï¼Œå¹¶äº§å‡ºè®ºæ–‡ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.computer.org%2Fcsdl%2Fproceedings-article%2Ficse-seip%2F2025%2F368500a034" target="_blank" title="https://www.computer.org/csdl/proceedings-article/icse-seip/2025/368500a034" ref="nofollow noopener noreferrer">KuiTest: Leveraging Knowledge in the Wild as GUI Testing Oracle for Mobile Apps</a>ã€‹ï¼Œå·²è¢«å›½é™…é¡¶çº§è½¯ä»¶å·¥ç¨‹ä¼šè®® ICSE 2025ï¼ˆCCF-A ç±»ä¼šè®®ï¼‰çš„ Software In Practice Trackï¼ˆè½¯ä»¶å·¥ç¨‹åº”ç”¨å®è·µï¼‰æ”¶å½•ã€‚</p>
<h2 data-id="heading-1">2. è®¾è®¡æ€è·¯ä¸å®ç°è¿‡ç¨‹</h2>
<h3 data-id="heading-2">2.1 æ€»ä½“æµç¨‹</h3>
<p>KuiTest çš„æ ¸å¿ƒæ˜¯æ£€æŸ¥ UI äº¤äº’åçš„å“åº”æ˜¯å¦ç¬¦åˆä¸€èˆ¬ç”¨æˆ·çš„ <strong>å¸¸è¯†æ€§é¢„æœŸ</strong>ï¼Œå…¶ä¸­ï¼šè¯†åˆ«äº¤äº’ç»„ä»¶çš„åŠŸèƒ½å’Œå¸¸è¯†æ€§é¢„æœŸç”Ÿæˆæ˜¯éœ€è¦ä¸¤é¡¹å…³é”®èƒ½åŠ›ã€‚è€ƒè™‘åˆ°é€šç”¨å¤§æ¨¡å‹å…·å¤‡å›¾æ–‡ç†è§£èƒ½åŠ›ä¸”ä»æµ·é‡çš„è®­ç»ƒæ•°æ®ä¸­ä¹ å¾—äº†å¸¸è¯†æ€§æ¨ç†èƒ½åŠ›ï¼Œå› æ­¤å¤©ç„¶åœ°é€‚åˆæ¨¡æ‹Ÿå¤§ä¼—çš„è®¤çŸ¥å’Œäº¤äº’é¢„æœŸã€‚è‡³æ­¤ï¼ŒKuiTest çš„æ ¸å¿ƒæŒ‘æˆ˜æ˜¯æå‡å¤§æ¨¡å‹åœ¨æ‰§è¡Œ UI åŠŸèƒ½æµ‹è¯•çš„ <strong>æ€§èƒ½å’Œå¯é æ€§</strong>ã€‚è€ƒè™‘åˆ°é€šç”¨å¤§æ¨¡å‹é€šå¸¸å¹¶æœªæ¥å—è¿‡ UI æµ‹è¯•é¢†åŸŸæ•°æ®çš„è®­ç»ƒï¼Œå› æ­¤ç¼ºå°‘ UI è®¤çŸ¥ä¸æµ‹è¯•çš„ç»éªŒï¼Œç›´æ¥è®©å®ƒè¯†åˆ« UI åŠŸèƒ½å’Œç¼ºé™·æ˜¯ååˆ†å›°éš¾çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å€Ÿé‰´äººå·¥æµ‹è¯•çš„æ“ä½œæµç¨‹ï¼Œå°†æµ‹è¯•æµç¨‹æ‹†åˆ†ä»¥é™ä½ LLM çš„ä»»åŠ¡éš¾åº¦ï¼š</p>
<ul>
<li><strong>å¯äº¤äº’ç»„ä»¶åŠŸèƒ½è¯†åˆ«</strong>ï¼šç†è§£æ¯ä¸ªå¯äº¤äº’ç»„ä»¶ï¼ˆå¦‚æŒ‰é’®ã€å›¾æ ‡ï¼‰çš„åŠŸèƒ½å«ä¹‰ã€é¢„æµ‹äº¤äº’åçš„å“åº”ã€‚</li>
<li><strong>äº¤äº’å“åº”éªŒè¯</strong>ï¼šåœ¨æ‰§è¡Œäº¤äº’åï¼ŒéªŒè¯ç•Œé¢å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b8f3326aec7416f8e2d950d131fd383~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=Cg2SRr7wm%2BqbPkSlio4MgoF6H6o%3D" alt="å›¾ 2 - KuiTest å·¥ä½œåŸç†" loading="lazy"/></p>
<p>å…·ä½“æ¥è¯´ï¼Œå¦‚ä¸Šå›¾ 2 æ‰€ç¤ºï¼Œåœ¨æµ‹è¯•å¼€å§‹æ—¶ï¼Œé¦–å…ˆé€‰æ‹©éœ€è¦äº¤äº’çš„ç»„ä»¶ï¼ŒKuiTest ä¼šåŸºäº GUI æˆªå›¾åˆ†æå’Œç»„ä»¶åº“åŒ¹é…è·å–è¯¥ç»„ä»¶çš„åŠŸèƒ½ï¼Œå¹¶é¢„æµ‹ä¸ä¹‹äº¤äº’åçš„ UI å“åº”ï¼›éšåæ‰§è¡Œäº¤äº’ï¼Œæ ¹æ®ç»„ä»¶çš„é¢„æœŸåŠŸèƒ½ä»¥åŠäº¤äº’åçš„é¡µé¢ä¿¡æ¯åˆ¤æ–­å®é™…å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p>
<h3 data-id="heading-3">2.2 UI ç»„ä»¶åŠŸèƒ½è¯†åˆ«</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/617d2b8fa3954e82ac3e7b02530b2efd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=bumBPkkQGZ1osAveqSJDQC6i6pE%3D" alt="å›¾ 3 - å¯äº¤äº’ç»„ä»¶åŠŸèƒ½è¯†åˆ«ä¸ UI å“åº”é¢„æµ‹" loading="lazy"/></p>
<p>ä¸ºäº†æå‡å¤§æ¨¡å‹é¢„æµ‹ UI ç»„ä»¶åŠŸèƒ½çš„å¯é æ€§ï¼ŒKuiTest æ•´åˆäº†å¤šç§ UI é¡µé¢ç›¸å…³ä¿¡æ¯è¾“å…¥ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬è·å–ç»“æ„åŒ–ç»„ä»¶æ ‘å¹¶ç»“åˆ Vision-UI æ¨¡å‹<sup>[1]</sup>ä»æˆªå›¾ä¸­è¯†åˆ«æ‰€æœ‰å¯äº¤äº’ç»„ä»¶ï¼Œå†ç”¨ SoMï¼ˆSet-of-Markï¼‰ç­–ç•¥<sup>[2]</sup>ä¸ºæ¯ä¸ªç»„ä»¶æ·»åŠ  bounding box æ ‡è®°å¹¶åˆ†é…å”¯ä¸€ IDï¼Œå½¢æˆå¸¦æ ‡è®°çš„ UI æˆªå›¾ï¼Œè®©å¤§æ¨¡å‹èƒ½å¿«é€Ÿåˆ†è¾¨å›¾ä¸­å­˜åœ¨çš„ UI ç»„ä»¶ã€‚æ¥ç€ï¼Œé’ˆå¯¹æœ‰æ–‡æœ¬çš„ç»„ä»¶ï¼Œé€šè¿‡ OCR æå–æ–‡å­—å†…å®¹å¹¶æŒ‰â€œç»„ä»¶ ID - æ–‡æœ¬â€ç»“æ„åŒ–æ•´ç†ï¼›é’ˆå¯¹æ— æ–‡æœ¬çš„å›¾æ ‡ç±»ç»„ä»¶ï¼Œåˆ™åˆ©ç”¨ CLIPï¼ˆContrastive Languageâ€“Image Pre-trainingï¼‰æ¨¡å‹<sup>[3]</sup>ä»ç§¯ç´¯çš„å›¾æ ‡åº“ï¼ˆå«å†å²è¯†åˆ«å¤±è´¥å›¾æ ‡åŠäººå·¥æ ‡æ³¨çš„åŠŸèƒ½æè¿°ï¼‰ä¸­æ£€ç´¢ç›¸ä¼¼å›¾æ ‡ï¼Œå¦‚æœå­˜åœ¨ç›¸ä¼¼å›¾æ ‡ï¼Œåˆ™å°†åº“ä¸­å›¾æ ‡çš„åŠŸèƒ½ä¿¡æ¯è¡¥å……è‡³è¾“å…¥æ¥è¾…åŠ©å¤§æ¨¡å‹ç†è§£ç»„ä»¶ã€‚æœ€åï¼Œå°†ä¸Šè¿°æ‰€æœ‰ä¿¡æ¯æ•´åˆè¿› Promptï¼Œè®©å¤§æ¨¡å‹è¯†åˆ«æŒ‡å®šç»„ä»¶çš„åŠŸèƒ½ï¼Œå¹¶é¢„æµ‹äº¤äº’å UI ç•Œé¢çš„å“åº”ã€‚è¿™ä¸€è¿‡ç¨‹æœ‰æ•ˆç¼“è§£äº†é€šç”¨å¤šæ¨¡æ€å¤§æ¨¡å‹ UI è§†è§‰ä¿¡æ¯ç†è§£è–„å¼±çš„ç“¶é¢ˆï¼Œå¹¶ä¸ºåç»­äº¤äº’éªŒè¯æä¾› Oracleã€‚</p>
<h3 data-id="heading-4">2.3 äº¤äº’å“åº”éªŒè¯</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/893f1ebb82ba44cc92e3946fff4a59eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=sZbkdS1rh8bXB9%2FQnSPECE%2FQLxE%3D" alt="å›¾ 4 - äº¤äº’å“åº”ç»“æœéªŒè¯è¿‡ç¨‹ä¸ Prompt" loading="lazy"/></p>
<p>äº¤äº’åå“åº”éªŒè¯æ˜¯ KuiTest åˆ¤æ–­ UI åŠŸèƒ½æ˜¯å¦å­˜åœ¨ Bug çš„æ ¸å¿ƒç¯èŠ‚ï¼Œæµç¨‹åˆ†ä¸ºçŠ¶æ€æ¯”å¯¹å’Œ LLM å†³ç­–ä¸¤æ­¥ï¼šKuiTest åœ¨æ¨¡æ‹Ÿç”¨æˆ·äº¤äº’åï¼Œå…ˆé€šè¿‡åƒç´ å¯¹æ¯”åˆ¤æ–­äº¤äº’å‰å UI æ˜¯å¦æœ‰è§†è§‰å˜åŒ–ï¼Œè‹¥æ— å˜åŒ–åˆ™ç›´æ¥æ ‡è®°ä¸º â€œUI äº¤äº’æ— å“åº”â€ï¼›è‹¥æœ‰å˜åŒ–ï¼Œåˆ™è®©å¤šæ¨¡æ€æ¨¡å‹åˆ¤æ–­å®é™… UI å“åº”æ˜¯å¦ç¬¦åˆå‰è¿°é¢„æµ‹ã€‚è‡³æ­¤ï¼ŒKuiTest å®Œæˆäº†ä» UI åŠŸèƒ½è¯­ä¹‰æµ‹è¯•åˆ°é€šç”¨æ¨ç†èƒ½åŠ›ä»»åŠ¡çš„è½¬æ¢ï¼Œæ—¢è§„é¿äº†ä¼ ç»ŸåŸºäºè§„åˆ™æµ‹è¯•ç¹æ‚çš„å¼€å‘å’Œç»´æŠ¤æˆæœ¬ï¼Œä¹Ÿæå‡äº†å¤§æ¨¡å‹åœ¨ UI æµ‹è¯•é¢†åŸŸçš„å†³ç­–çš„å¯é æ€§ï¼Œé™ä½è¯¯æŠ¥ç‡ã€‚</p>
<h2 data-id="heading-5">3. å®éªŒæµ‹è¯•</h2>
<p>KuiTest çš„å®éªŒè®¾è®¡ä»¥éªŒè¯å…¶å¯¹è§£å†³å·¥ä¸šçº§ UI åŠŸèƒ½çš„æµ‹è¯•èƒ½åŠ›ä¸ºæ ¸å¿ƒï¼Œåœ¨ç¾å›¢å®é™…åœºæ™¯ä¸­ç­›é€‰çœŸå®æ•°æ®æ„é€ æ•°æ®é›†ï¼Œå¹¶ä¸”è®¾è®¡é’ˆå¯¹æ€§åŸºçº¿å¯¹æ¯”æ–¹æ¡ˆã€‚åœ¨éªŒè¯æŠ€æœ¯æœ‰æ•ˆæ€§çš„åŒæ—¶ä¸ºä¸šåŠ¡è½åœ°æä¾›æ•°æ®æ”¯æ’‘ï¼Œä¸‹æ–‡å°†ç»§ç»­ä»‹ç»å®éªŒè®¾è®¡ã€è®¾ç½®ä»¥åŠç»“æœåˆ†æã€‚</p>
<h3 data-id="heading-6">3.1 å®éªŒè®¾è®¡</h3>
<p>å®éªŒå›´ç»•ä¸‰ä¸ªå…³é”®é—®é¢˜ï¼ˆRQï¼‰è¿›è¡Œï¼Œç›®æ ‡æ˜¯éªŒè¯ KuiTest è®¾è®¡çš„æœ‰æ•ˆæ€§ä¸åˆç†æ€§ï¼Œä»¥åŠæ˜¯å¦æ»¡è¶³å·¥ä¸šè½åœ°è¦æ±‚ã€‚é’ˆå¯¹ LLM åœ¨ UI ç†è§£é¢†åŸŸèƒ½åŠ›ä¸è¶³çš„é—®é¢˜ï¼Œè®¾ç½® RQ1 ä»è¯¯æŠ¥ç‡å’Œæˆæœ¬çš„è§’åº¦éªŒè¯ä»»åŠ¡åˆ†è§£ï¼ˆæ‹†åˆ†ä¸º â€œç»„ä»¶åŠŸèƒ½è¯†åˆ« + äº¤äº’åå“åº”éªŒè¯â€ï¼‰çš„ç»¼åˆæ€§èƒ½ã€‚æ­¤å¤–ï¼Œè®¾ç½® RQ2 è¯„ä¼°å¤šæ¨¡æ€è¾“å…¥ + å›¾æ ‡åº“çš„æ–¹æ¡ˆæ˜¯å¦èƒ½æé«˜ LLM çš„ç»„ä»¶è¯†åˆ«èƒ½åŠ›ã€‚æœ€åï¼Œé’ˆå¯¹å·¥ä¸šåœºæ™¯å¯¹ â€œé«˜å¬å›ã€ä½è¯¯æŠ¥â€ çš„åˆšéœ€ï¼Œè®¾ç½® RQ3 éªŒè¯ KuiTest åœ¨ç¾å›¢ App ä¸­çš„è½åœ°èƒ½åŠ›ï¼Œé‡ç‚¹è¯„ä¼°å†³å®šç¼ºé™·è¦†ç›–åº¦çš„å¬å›ç‡ä»¥åŠç›´æ¥å½±å“äººå·¥æ’æŸ¥æˆæœ¬çš„è¯¯æŠ¥ç‡ã€‚</p>
<h3 data-id="heading-7">3.2 å®éªŒæ•°æ®ä¸å¯¹ç…§æ–¹æ³•</h3>
<p>å®éªŒä½¿ç”¨çš„åŸºå‡†æ•°æ®é›†è‡ªç¾å›¢çš„æ ¸å¿ƒä¸šåŠ¡çº¿ï¼ˆå¤–å–ã€é…’åº—ã€æ—…è¡Œç­‰ï¼‰ï¼Œè¿™äº›ä¸šåŠ¡çº¿çš„ UI é£æ ¼ã€äº¤äº’è§„åˆ™å‡æœ‰å·®å¼‚ï¼Œå› æ­¤å…·å¤‡å¯¹çœŸå®çš„å·¥ä¸šæµ‹è¯•åœºæ™¯çš„ä»£è¡¨æ€§ã€‚å…·ä½“è€Œè¨€ï¼ŒRQ1 æ•°æ®é›†å« 150 ä¸ª UI äº¤äº’æ“ä½œï¼ˆ25 ä¸ªå†å² Bug+125 ä¸ªæ­£å¸¸ç”¨ä¾‹ï¼‰ï¼Œbug æ¯”ä¾‹ 16.7%ï¼Œå¯¹åº”æ–°åŠŸèƒ½æµ‹è¯•åœºæ™¯ï¼›RQ2 æ•°æ®é›†æ¶µç›– 250 ä¸ªå¯äº¤äº’ UI ç»„ä»¶ï¼ˆå«æ–‡æœ¬ä¸æ— æ–‡æœ¬ç±»å‹ï¼‰ï¼Œç¡®ä¿ç»„ä»¶å¤šæ ·æ€§ï¼›RQ3 æ•°æ®é›†å« 100 ä¸ªçœŸå® UI é¡µé¢ï¼ˆ4664 ä¸ªç»„ä»¶ã€150 ä¸ªæ³¨å…¥ Bugï¼‰ï¼ŒBug å æ¯”ä»… 3.2%ï¼Œä¸å·¥ä¸šåœºæ™¯ Bug ç¨€ç–çš„å®é™…æƒ…å†µä¸€è‡´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e57259126daa416abcb245f2f380c067~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=hkDBWPR1HRCMvlVbaIsNAOW0Clw%3D" alt="å›¾ 5 - ä»»åŠ¡åˆ†è§£çš„ç¤ºæ„ä¸åŸºçº¿æ–¹æ³•" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¸ºå„å®éªŒè®¾ç½®äº†åŸºçº¿æ–¹æ³•ä½œä¸ºå¯¹ç…§ï¼šRQ1 è®¾æ— åˆ†è§£ï¼ˆç›´æ¥è®©å¤§æ¨¡å‹åˆ¤æ–­ï¼‰ä¸ä¸‰æ­¥åˆ†è§£ï¼ˆå•ç‹¬æå–äº¤äº’åé¡µé¢è¯­ä¹‰ï¼‰å¯¹ç…§ï¼Œå‰è€…éªŒè¯æ˜¯å¦éœ€è¦åˆ†è§£ï¼Œåè€…éªŒè¯åˆ†è§£æ­¥æ•°åˆç†æ€§ï¼›RQ2 è®¾çº¯ LLMï¼ˆä»…æˆªå›¾ï¼‰ã€å›¾ç‰‡ + æ–‡æœ¬ï¼ˆæ— å›¾æ ‡åº“ï¼‰ã€SoM + æ–‡æœ¬ï¼ˆæ— å›¾æ ‡åº“ï¼‰å¯¹ç…§ï¼Œåˆ†åˆ«éªŒè¯æ–‡æœ¬ä¿¡æ¯ã€ç»„ä»¶æ ‡è®°ä»¥åŠå›¾æ ‡åº“çš„ä»·å€¼ï¼Œæ’é™¤å•ä¸€å˜é‡å¹²æ‰°ï¼›RQ3 è™½æ— å¤–éƒ¨å·¥å…·å¯¹ç…§ï¼Œä½†é€šè¿‡è¦†ç›–ç¾å›¢å†… 10 ç§ä¸šåŠ¡çº¿ï¼Œä»¥éªŒè¯ KuiTest çš„ç°å®æ³›åŒ–æ€§ã€‚</p>
<h3 data-id="heading-8">3.3 å®éªŒç»“æœ</h3>
<p><strong>RQ1ï¼šä»»åŠ¡åˆ†è§£çš„åˆç†æ€§</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/991ac6b758d446f6b37d8bd87d442235~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=cI8W2%2B0nUDajhCJ2YB1hG83Q12I%3D" alt="" loading="lazy"/></p>
<p>ä»»åŠ¡åˆ†è§£å¯¹æ¯”ç»“æœæ˜¾ç¤ºï¼Œæœ‰åˆ†è§£çš„æ–¹æ¡ˆæ¯”æ— åˆ†è§£çš„æ–¹æ¡ˆåœ¨å‡†ç¡®ç‡å’Œå¬å›ç‡ä¸Šéƒ½æœ‰æ˜æ˜¾æé«˜ï¼Œå¹¶ä¸” KuiTest çš„ä¸¤æ­¥åˆ†è§£æ–¹æ¡ˆï¼ˆç»„ä»¶è¯†åˆ« + å“åº”éªŒè¯ï¼‰è¡¨ç°æœ€ä¼˜ï¼šå¹³å‡å‡†ç¡®ç‡ 86%ã€å¬å›ç‡ 85%ã€‚</p>
<p>è¿™ä¸€ç»“æœå°è¯äº†ä»»åŠ¡åˆ†è§£åˆç†æ€§ã€‚å¯¹äºä¸‰æ­¥åˆ†è§£çš„æ–¹æ¡ˆæ•ˆæœä¼šç•¥å·®äºä¸¤æ­¥åˆ†è§£çš„ç»“æœï¼Œæˆ‘ä»¬åˆ†æå‘ç°ä¸‰æ­¥åˆ†è§£é¢å¤–è¯­ä¹‰æå–æ­¥éª¤ï¼Œè™½èƒ½æå‡é¡µé¢ç±»å‹ç†è§£ï¼Œä½†ä¼šè®© LLM å¿½ç•¥å›¾æ ‡é¢œè‰²å˜åŒ–ç­‰ç»†èŠ‚ï¼Œå¯¼è‡´éè·³è½¬ç±» UI åŠŸèƒ½ Bug æ¼æ£€ï¼ˆå¦‚ç‚¹å‡»æ”¶è—æŒ‰é’®åæŒ‰é’®åº”è¯¥ä»ç©ºå¿ƒå˜ä¸ºå®å¿ƒï¼‰ï¼Œä¸”å¢åŠ è®¡ç®—æˆæœ¬ã€‚è¿™è¯´æ˜åˆ†è§£å¹¶éæ­¥éª¤è¶Šå¤šè¶Šå¥½ï¼Œéœ€è´´åˆå¤§æ¨¡å‹èƒ½åŠ›è¾¹ç•Œï¼Œæ‰¾åˆ°å¯é æ€§å’Œæ•ˆç‡å¹³è¡¡ç‚¹ï¼Œè€Œä¸¤æ­¥åˆ†è§£æ°å¥½æˆä¸ºå®ç°è¿™ä¸€ç›®æ ‡çš„æœ€ä¼˜è§£ã€‚</p>
<p><strong>RQ2ï¼šç»„ä»¶åŠŸèƒ½è¯†åˆ«çš„æœ‰æ•ˆæ€§</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e53ef8fa69e43f3a9a6cd8b4064c8ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=cqNjZfZCpLYw1DfFSrHaO6lCRs4%3D" alt="" loading="lazy"/></p>
<p>ç»„ä»¶åŠŸèƒ½è¯†åˆ«ç»“æœæ˜¾ç¤ºï¼ŒKuiTest æ–¹æ¡ˆçš„å¹³å‡è¯†åˆ«å‡†ç¡®ç‡è¾¾ 95.5%ï¼Œå…¶ä¸­æ–‡æœ¬ç»„ä»¶å‡†ç¡®ç‡ 96%ï¼Œæ— æ–‡æœ¬å›¾æ ‡å‡†ç¡®ç‡ 95%ï¼›è€Œå¯¹ç…§æ–¹æ¡ˆä¸­ï¼Œçº¯ LLM çš„æ— æ–‡æœ¬å›¾æ ‡å‡†ç¡®ç‡ä»… 13%ï¼Œå›¾ç‰‡ + æ–‡æœ¬å’Œ SoM + æ–‡æœ¬çš„æ–¹æ¡ˆå‡†ç¡®ç‡ä¹Ÿæœªçªç ´ 20%ã€‚</p>
<p>è¿™ä¸€æ•°æ®è¡¨æ˜å¯¹ UI å›¾åƒè¿›è¡Œæ ‡è®°ä»¥åŠå¯¹ UI ç»„ä»¶è¯­ä¹‰ä¿¡æ¯çš„é¢å¤–è¡¥å……ï¼Œèƒ½å¤Ÿæ˜¾è‘—æé«˜ LLM çš„ UI ç»„ä»¶åŠŸèƒ½è¯†åˆ«èƒ½åŠ›ã€‚LLM è§†è§‰ç†è§£èƒ½åŠ›è–„å¼±ï¼Œçº¯æˆªå›¾è¾“å…¥æ— æ³•è¯†åˆ«æ— æ–‡æœ¬å›¾æ ‡ï¼Œè€Œ OCR æ–‡æœ¬ + ç»„ä»¶æ ‡è®°èƒ½è¡¥å……ç»„ä»¶çš„æ–‡æœ¬è¯­ä¹‰ï¼Œæå‡æ–‡æœ¬ç»„ä»¶è¯†åˆ«å‡†ç¡®ç‡ã€‚å€ŸåŠ©å›¾æ ‡åº“ä¸ºæ— æ–‡æœ¬ç»„ä»¶è¡¥å……åŠŸèƒ½æè¿°ï¼Œç›´æ¥å°†å…¶è¯†åˆ«å‡†ç¡®ç‡ä» 13% æå‡è‡³ 95%ã€‚å¹¶ä¸”è¿™ä¸€å›¾æ ‡åº“å¹¶ä¸æ˜¯å…¨é‡çš„ï¼Œè¯´æ˜ä»…é€šè¿‡ä¸šåŠ¡çº¿å¸¸ç”¨å›¾æ ‡å³å¯è¦†ç›–å¤§éƒ¨åˆ†åœºæ™¯ï¼Œå…¼é¡¾å‡†ç¡®æ€§ä¸æˆæœ¬ã€‚</p>
<p><strong>RQ3ï¼šå¯¹äºçœŸå® UI åŠŸèƒ½å¼‚å¸¸è¯†åˆ«çš„æœ‰æ•ˆæ€§</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92d84a1449774e02875f78d910554e84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=cg1ig5BjvFCHlNGTf2ESFtspezg%3D" alt="" loading="lazy"/></p>
<p>åœ¨ç¾å›¢ 10 å¤§ä¸šåŠ¡çº¿çš„çœŸå®åœºæ™¯æµ‹è¯•ä¸­ï¼ŒKuiTest æ•´ä½“å¬å›ç‡ 86%ã€ç²¾ç¡®ç‡ 71%ã€è¯¯æŠ¥ç‡ 1.2%ï¼Œä¸”å„ä¸šåŠ¡çº¿è¡¨ç°ç¨³å®šã€‚è¿™äº›å®éªŒç»“æœè¡¨æ˜ KuiTest å…·å¤‡å®é™…è½åœ°èƒ½åŠ›ã€‚86% çš„å¬å›ç‡æ„å‘³ç€èƒ½è¦†ç›–ç»å¤§å¤šæ•°çœŸå® UI åŠŸèƒ½ bugï¼Œé¿å…æ¼æ£€å…³é”®ç¼ºé™·ã€‚1.2% çš„è¯¯æŠ¥ç‡æœ‰æ•ˆé¿å…å¯¼è‡´æµ‹è¯•å·¥ç¨‹å¸ˆè¿›è¡Œæ— æ•ˆæ’æŸ¥ï¼Œå¤§å¹…é™ä½äººå·¥æˆæœ¬ã€‚71% çš„ç²¾ç¡®ç‡è™½çœ‹ä¼¼ä¸é«˜ï¼Œä½†å› å®éªŒä¸­ Bug å æ¯”ä»… 3.2%ï¼ˆä¸çœŸå®åœºæ™¯ä¸€è‡´ï¼‰ï¼Œåœ¨ Bug ç¨€ç–ç¯å¢ƒä¸‹å·²å±ä¼˜ç§€ã€‚å®éªŒç»“æœè¯æ˜äº† KuiTest åœ¨çœŸå®æµ‹è¯•åœºæ™¯ä¸­èƒ½å¹³è¡¡è¦†ç›–åº¦ä¸å‡†ç¡®æ€§ã€‚</p>
<h2 data-id="heading-9">4. åº”ç”¨æ•ˆæœ</h2>
<p>ç›®å‰ï¼ŒKuiTest å·²åœ¨ç¾å›¢çš„å¤šç±»ä¸šåŠ¡åœºæ™¯ä¸­è½åœ°åº”ç”¨ï¼Œè¿‡å» 6 ä¸ªæœˆæœ‰ 20 ä¸ªä¸šåŠ¡æ–¹å‘ä½¿ç”¨ï¼Œæ€»æ‰§è¡Œ <strong>21 ä¸‡+Casesã€8000 å¤šä¸ª Jobsï¼Œè¿‘æœŸå‘¨å‡è§¦å‘ 5000 å¤šä¸ª Cases</strong>ï¼›åœ¨å¤šä¸ªå®æµ‹é¡¹ç›®å¦‚é¸¿è’™é€‚é…ã€ç¥ä¼šå‘˜åœ°ç†ä¼ å‚å·¡æ£€ã€é…’åº—å•†å®¶å¤šè¯­è¨€é€‚é…ç­‰ï¼ŒKuiTest å‘ç°äº†ç™¾ä½™ä¾‹æœ‰æ•ˆçš„ UI åŠŸèƒ½ç¼ºé™·ã€‚</p>
<h3 data-id="heading-10">4.1 HarmonyOS NEXT å¹³å°éå†</h3>
<p>ä¼ ç»Ÿçš„ GUI æµ‹è¯•è„šæœ¬çš„è®¾è®¡ä¾èµ–äº App çš„ UI é€»è¾‘ï¼Œä½†æ˜¯ä¸åŒæ“ä½œç³»ç»Ÿä¸ŠåŒä¸€ App çš„æœ‰æ‰€å·®å¼‚ï¼Œè¿™ç§å·®å¼‚ä¼šå¯¼è‡´åœ¨ä¸€ä¸ªç³»ç»Ÿä¸Šè®¾è®¡çš„è„šæœ¬åœ¨å¦ä¸€ä¸ªç³»ç»Ÿä¸Šå¤±æ•ˆï¼Œå› æ­¤ä½¿å¾—è·¨å¹³å°çš„æµ‹è¯•ååˆ†å›°éš¾ï¼Œéœ€è¦æµ‹è¯•äººå‘˜æ‰‹åŠ¨è°ƒæ•´ç”šè‡³é‡æ–°è®¾è®¡æµ‹è¯•è„šæœ¬ï¼Œé€‚é…æˆæœ¬è¾ƒå¤§ã€‚</p>
<p>ç¾å›¢ App åœ¨ Android/iOS å¹³å°çš„æµ‹è¯•è„šæœ¬è¾ƒä¸ºå®Œå–„ï¼Œä½†æ˜¯åœ¨ HarmonyOS NEXT å¹³å°çš„æµ‹è¯•è„šæœ¬ä»åœ¨å®Œå–„ä¹‹ä¸­ï¼Œå¤§é‡é¡µé¢ä»å¤„äºæœªæµ‹è¯•çŠ¶æ€ã€‚å› æ­¤ï¼ŒKuiTest è¢«ç‡å…ˆéƒ¨ç½²äºè¯¥å¹³å°çš„ç¨³å®šæ€§å·¡æ£€ä¸­ï¼Œæ ¹æ®æŒ‡å®šä¸šåŠ¡èµ·å§‹é¡µé¢ï¼Œè‡ªåŠ¨åœ°è¿›è¡Œè·¨é¡µé¢éå†ï¼Œè¯†åˆ«å¹¶éªŒè¯å´©æºƒã€æŠ¥é”™ã€åŠŸèƒ½ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µï¼Œä»¥å‡å°‘é‡æ–°è®¾è®¡æµ‹è¯•è„šæœ¬çš„æˆæœ¬ã€‚</p>
<p>é¡¹ç›®ä¸­è¦†ç›–é¦–æ‰¹é€‚é…çš„ 3 é¡¹ä¸šåŠ¡ï¼Œ<strong>é¡¹ç›®äº¤ä»˜å‘¨æœŸæ€»ä½“ç´¯è®¡è¿è¡Œ 1230 å°æ—¶ã€å…± 4 ä¸‡+ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹ï¼Œå‘ç° 34 ä¸ªæœ‰æ•ˆå¼‚å¸¸</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87dea501422c4a02bc20c36f0f2e8510~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=OvPGhe6vDibmsRjgZRr2qPRJdy0%3D" alt="å›¾ 6 - å‘ç°çš„ç¼ºé™·ä¸¾ä¾‹" loading="lazy"/></p>
<h3 data-id="heading-11">4.2 å¤§å‰ç«¯å›å½’å·¡æ£€</h3>
<p>ç”±äºç¾å›¢ App çš„æ›´æ–°é€Ÿåº¦ååˆ†å¿«é€Ÿï¼Œå› æ­¤æ¯å‘¨éƒ½éœ€è¦è¿›è¡Œå›å½’å·¡æ£€ã€‚ä¼ ç»Ÿçš„æµ‹è¯•è„šæœ¬çš„æ–¹æ³•ç”±äºäººåŠ›æ¶ˆè€—è¿‡å¤§ï¼Œå¾€å¾€åªèƒ½è¦†ç›– App ä¸­çš„æ ¸å¿ƒä¸šåŠ¡åŒºåŸŸï¼Œä½†æ˜¯å…¶ä»–åŒºåŸŸçš„ Bug å®é™…ä¹Ÿä¼šå½±å“ç”¨æˆ·ä½“éªŒã€‚è€Œ KuiTest èƒ½å¤Ÿæµ‹è¯•ä¸€å¼ é¡µé¢çš„æ‰€æœ‰å¯äº¤äº’ç»„ä»¶ï¼Œä»¥ä¸€ç§ä½æˆæœ¬çš„æ–¹å¼æé«˜æµ‹è¯•è¦†ç›–ç‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°† KuiTest è¿ç”¨åœ¨ç¾å›¢çš„å¤§å‰ç«¯å›å½’å·¡æ£€å½“ä¸­ï¼šæˆªè‡³ç›®å‰ï¼ŒKuiTest å·²ç»è¶…ä¸€å¹´ç¨³å®šè¿è¡Œï¼Œç´¯è®¡æ£€æµ‹å‡ºäº† 140+æœ‰æ•ˆå¼‚å¸¸ã€‚</p>
<h2 data-id="heading-12">5. è®¤çŸ¥ä¸å±•æœ›</h2>
<p>KuiTest ä½œä¸ºæ— è§„åˆ™çš„ç§»åŠ¨åº”ç”¨ GUI åŠŸèƒ½æµ‹è¯•å·¥å…·ï¼Œæ ‡å¿—ç€è½¯ä»¶æµ‹è¯•é¢†åŸŸå‘æ™ºèƒ½åŒ–ã€è‡ªåŠ¨åŒ–æ–¹å‘è¿ˆå‡ºçš„æ¢ç´¢ä¸€æ­¥ã€‚è¯¥å·¥å…·é€šè¿‡åˆç†çš„ä»»åŠ¡æ‹†è§£ä¸å¤šæ¨¡æ€ UI ç»„ä»¶åŠŸèƒ½è¯†åˆ«å°†å¤§æ¨¡å‹é€šè¯†ä½œä¸ºæµ‹è¯•é¢„è¨€ï¼Œåˆ©ç”¨å…¶å¹¿æ³›çš„çŸ¥è¯†æ¨¡æ‹Ÿç”¨æˆ·æœŸæœ›ï¼ŒæˆåŠŸçªç ´äº†ä¼ ç»ŸåŸºäºè§„åˆ™æµ‹è¯•æ–¹æ³•çš„å±€é™æ€§ï¼Œåˆ‡å®æå‡äº† LLM åœ¨ GUI æµ‹è¯•åœºæ™¯ä¸­çš„å¯é æ€§å’Œå®ç”¨æ€§ã€‚</p>
<p>å½“å‰ KuiTest ä¸»è¦èšç„¦äºå•æ­¥äº¤äº’çš„åŠŸèƒ½éªŒè¯ï¼Œè¿™æ˜¯å‡ºäºå¯¹æµ‹è¯•å¯é æ€§å’Œæ•ˆç‡çš„æƒè¡¡è€ƒè™‘ã€‚ç„¶è€Œï¼Œå‘å¤šæ­¥äº¤äº’åœºæ™¯æ‰©å±•æ˜¯ä¸€ä¸ªè‡ªç„¶ä¸”å¿…è¦çš„å‘å±•è¶‹åŠ¿ï¼ŒçœŸå®ç”¨æˆ·åœºæ™¯ä¸­å­˜åœ¨å¤§é‡éœ€è¦å¤šæ­¥æ“ä½œæ‰èƒ½è§¦å‘çš„å¤æ‚åŠŸèƒ½ bugï¼Œä¾‹å¦‚ï¼Œåœ¨æ‰§è¡Œæ“ä½œåºåˆ—â€œæŸ¥çœ‹è®¢å•åˆ—è¡¨ â†’ ç‚¹å‡» "å¾…ä»˜æ¬¾" è®¢å• â†’ é€‰æ‹©é€€æ¬¾ â†’ ç¡®è®¤é€€æ¬¾åŸå› â€æ—¶å‘ç°ç‚¹å‡»â€œå¾…ä»˜æ¬¾â€åï¼Œé¡µé¢å´æ˜¾ç¤ºâ€œé€€æ¬¾è®¢å•â€ã€‚</p>
<p>æœªæ¥ç ”ç©¶åº”å½“æ¢ç´¢å¦‚ä½•å°†æµ‹è¯•èƒ½åŠ›æ‰©å±•åˆ°é•¿é“¾è·¯äº¤äº’åœºæ™¯ã€‚é’ˆå¯¹é•¿é“¾è·¯ Bug åˆ†æï¼Œéœ€è¦å»ºç«‹çŠ¶æ€è¿½è¸ªæœºåˆ¶æ¥è®°å½•æ¯ä¸€æ­¥äº¤äº’åçš„ UI çŠ¶æ€å˜åŒ–ï¼Œé€šè¿‡å¯¹æ¯”é¢„æœŸçŠ¶æ€ä¸å®é™…çŠ¶æ€çš„å·®å¼‚æ¥è¯†åˆ«å¼‚å¸¸èŠ‚ç‚¹ï¼ŒåŒæ—¶åˆ©ç”¨ LLM çš„æ¨ç†èƒ½åŠ›å»ºç«‹æ“ä½œæ­¥éª¤ä¹‹é—´çš„å› æœå…³ç³»é“¾ï¼Œå½“æ£€æµ‹åˆ°åŠŸèƒ½å¼‚å¸¸æ—¶èƒ½å¤Ÿå›æº¯å®šä½æ˜¯å“ªä¸€æ­¥æ“ä½œå¯¼è‡´äº†é”™è¯¯ï¼Œè¿™ç§å› æœæ¨æ–­èƒ½åŠ›å¯¹äºå¤æ‚äº¤äº’åºåˆ—ä¸­çš„ Bug å®šä½è‡³å…³é‡è¦ã€‚åŒæ—¶ï¼Œå¯ä»¥å¼•å…¥åŸºäºå†å² Bug æ•°æ®çš„å­¦ä¹ æœºåˆ¶, åˆ†æè¿‡å¾€å‘ç°çš„é•¿é“¾è·¯ Bug æ¨¡å¼ï¼Œè‡ªåŠ¨ç”Ÿæˆç±»ä¼¼çš„é«˜é£é™©æµ‹è¯•è·¯å¾„ï¼Œä¼˜å…ˆæ¢ç´¢å®¹æ˜“å‡ºç°é—®é¢˜çš„æ“ä½œåºåˆ—ç»„åˆã€‚è¿™ç§æ™ºèƒ½åŒ–çš„è·¯å¾„ç”Ÿæˆä¸ä»…èƒ½æé«˜æµ‹è¯•æ•ˆç‡ï¼Œè¿˜èƒ½æ˜¾è‘—æå‡å¯¹å¤æ‚åŠŸèƒ½ Bug çš„æ£€æµ‹èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-13">6. åˆä½œæ–¹ç®€ä»‹</h2>
<p>å¤æ—¦å¤§å­¦å‘¨æ‰¬å¸†æ•™æˆå›¢é˜Ÿè‡´åŠ›äºæ–°å‹è½¯ä»¶ç³»ç»Ÿçš„æ€§èƒ½ä¼˜åŒ–ä¸æ•…éšœæ’æŸ¥ç ”ç©¶ï¼Œè¿‘å¹´å›¢é˜Ÿåœ¨è½¯ä»¶ç³»ç»Ÿé¢†åŸŸçš„é‡è¦ä¼šè®®å¦‚ OSDIã€SOSPã€ICSEã€FSE ç­‰å‘è¡¨äº†å¤šç¯‡é«˜å½±å“åŠ›è®ºæ–‡ã€‚æœ€è¿‘ï¼Œè¯¥å›¢é˜Ÿä»¥è§£å†³ UI è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­çš„å¤æ‚é—®é¢˜ä¸ºæ ¸å¿ƒï¼Œå°†å¤§æ¨¡å‹åº”ç”¨äº UI åŠŸèƒ½è®¤çŸ¥ä¸ UI äº¤äº’è§„åˆ’ï¼Œä»¥ä¸€ç³»åˆ—åˆ›æ–°æ–¹æ³•æ˜¾è‘—æé«˜äº†è§£å†³æ–¹æ¡ˆçš„é€‚åº”æ€§å’Œç¨³å®šæ€§ã€‚å›¢é˜Ÿæ³¨é‡ç§‘ç ”æˆæœçš„å®é™…åº”ç”¨ï¼Œç§¯æä¸ä¼ä¸šåŠç›¸å…³æœºæ„åˆä½œï¼Œå…±å»ºå®ç”¨å·¥å…·å’Œç³»ç»Ÿï¼Œæ¨åŠ¨ç ”ç©¶æˆæœçš„è½åœ°ï¼ŒåŠ©åŠ›åˆä½œä¼™ä¼´æå‡æŠ€æœ¯èƒ½åŠ›å¹¶å®ç°ä¸šåŠ¡ä»·å€¼ã€‚</p>
<p><strong>æ³¨é‡Š</strong></p>
<ul>
<li>[1] vision-ui æ¨¡å‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMeituan-Dianping%2Fvision-ui" target="_blank" title="https://github.com/Meituan-Dianping/vision-ui" ref="nofollow noopener noreferrer">ç¾å›¢è§†è§‰ UI åˆ†æå·¥å…·</a></li>
<li>[2] SoMï¼ˆSet-of-Markï¼‰ç­–ç•¥ï¼šYang J, Zhang H, Li F, et al. Set-of-mark prompting unleashes extraordinary visual grounding in gpt-4v [J]. arXiv preprint arXiv: 2310.11441, 2023.</li>
<li>[3] CLIPï¼ˆContrastive Languageâ€“Image Pre-trainingï¼‰æ¨¡å‹ï¼šRadford A, Kim J W, Hallacy C, et al. Learning transferable visual models from natural language supervision [C]//International conference on machine learning. PMLR, 2021: 8748-8763.</li>
</ul>
<p>| å…³æ³¨ã€Œç¾å›¢æŠ€æœ¯å›¢é˜Ÿã€å¾®ä¿¡å…¬ä¼—å·ï¼Œåœ¨å…¬ä¼—å·èœå•æ å¯¹è¯æ¡†å›å¤ã€2024å¹´è´§ã€‘ã€ã€2023å¹´è´§ã€‘ã€ã€2022å¹´è´§ã€‘ã€ã€2021å¹´è´§ã€‘ã€ã€2020å¹´è´§ã€‘ã€ã€2019å¹´è´§ã€‘ã€ã€2018å¹´è´§ã€‘ã€ã€2017å¹´è´§ã€‘ç­‰å…³é”®è¯ï¼Œå¯æŸ¥çœ‹ç¾å›¢æŠ€æœ¯å›¢é˜Ÿå†å¹´æŠ€æœ¯æ–‡ç« åˆé›†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89308933a541498590ec1ac5230750a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O5Zui5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768875960&amp;x-signature=eKt7FWWIhOdMvg6ix8MxDfaV59E%3D" alt="" loading="lazy"/></p>
<p>| æœ¬æ–‡ç³»ç¾å›¢æŠ€æœ¯å›¢é˜Ÿå‡ºå“ï¼Œè‘—ä½œæƒå½’å±ç¾å›¢ã€‚æ¬¢è¿å‡ºäºåˆ†äº«å’Œäº¤æµç­‰éå•†ä¸šç›®çš„è½¬è½½æˆ–ä½¿ç”¨æœ¬æ–‡å†…å®¹ï¼Œæ•¬è¯·æ³¨æ˜â€œå†…å®¹è½¬è½½è‡ªç¾å›¢æŠ€æœ¯å›¢é˜Ÿâ€ã€‚æœ¬æ–‡æœªç»è®¸å¯ï¼Œä¸å¾—è¿›è¡Œå•†ä¸šæ€§è½¬è½½æˆ–è€…ä½¿ç”¨ã€‚ä»»ä½•å•†ç”¨è¡Œä¸ºï¼Œè¯·å‘é€é‚®ä»¶è‡³ <a href="https://link.juejin.cn?target=mailto%3Atech%40meituan.com" target="_blank" title="mailto:tech@meituan.com" ref="nofollow noopener noreferrer">tech@meituan.com</a> ç”³è¯·æˆæƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Lottie-web æºç è§£æï¼ˆä¸€ï¼‰ï¼šä» JSON Schema è®¤è¯† Lottie åŠ¨ç”»çš„æœ¬è´¨ğŸ“’]]></title>    <link>https://juejin.cn/post/7594389937463033866</link>    <guid>https://juejin.cn/post/7594389937463033866</guid>    <pubDate>2026-01-13T02:34:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937463033866" data-draft-id="7583980250734116927" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Lottie-web æºç è§£æï¼ˆä¸€ï¼‰ï¼šä» JSON Schema è®¤è¯† Lottie åŠ¨ç”»çš„æœ¬è´¨ğŸ“’"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,CSS"/> <meta itemprop="datePublished" content="2026-01-13T02:34:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“¨å«å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/2159893031168119"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Lottie-web æºç è§£æï¼ˆä¸€ï¼‰ï¼šä» JSON Schema è®¤è¯† Lottie åŠ¨ç”»çš„æœ¬è´¨ğŸ“’
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2159893031168119/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“¨å«å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:34:12.000Z" title="Tue Jan 13 2026 02:34:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»41åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>Lottie çš„æœ¬è´¨æ˜¯Â <strong>After Effects åŠ¨ç”»çš„ Web æ’­æ”¾å™¨</strong>ï¼Œå…¶å·¥ä½œæµç¨‹æ¸…æ™°ç®€æ´ï¼š</p>
<ol>
<li><strong>è®¾è®¡</strong>Â â†’ è®¾è®¡å¸ˆåœ¨ <strong>After Effectsï¼ˆAEï¼‰</strong> ä¸­åˆ¶ä½œçŸ¢é‡åŠ¨ç”»</li>
<li><strong>å¯¼å‡º</strong>Â â†’ é€šè¿‡ Bodymovin æ’ä»¶å°†åŠ¨ç”»å¯¼å‡ºä¸ºè½»é‡çš„Â <code>data.json</code>Â æ–‡ä»¶</li>
<li><strong>æ’­æ”¾</strong>Â â†’ web å¼€å‘è€…ä½¿ç”¨Â <code>lottie-web</code>Â åº“è§£æè¯¥ JSONï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­å®æ—¶æ¸²æŸ“åŠ¨ç”»</li>
</ol>
<p>è‹¥æƒ³æ·±å…¥ç†è§£ Lottie çš„åŠ¨ç”»æœºåˆ¶ï¼Œä»Â <strong>JSON Schema</strong>Â å…¥æ‰‹æ˜¯ä¸€æ¡æ¸…æ™°çš„è·¯å¾„ã€‚Lottie æ˜¯ä¸€ä¸ªå®Œå…¨ç”±æ•°æ®é©±åŠ¨çš„åŠ¨ç”»ç³»ç»Ÿï¼ŒæŒæ¡å…¶ JSON ç»“æ„ï¼Œå°±ç­‰äºæ¡ä½äº†ç†è§£åŠ¨ç”»æ¸²æŸ“é€»è¾‘çš„é’¥åŒ™ã€‚å½“ç„¶ï¼ŒLottie JSON çš„é…ç½®é¡¹è¾ƒä¸ºä¸°å¯Œï¼Œä¸å¿…è¿½æ±‚ä¸€æ¬¡æ€§å…¨éƒ¨è®°ä½ã€‚æœ¬æ–‡æ—¨åœ¨å¸®åŠ©å¤§å®¶å»ºç«‹åˆæ­¥è®¤çŸ¥ï¼Œä¸ºåç»­å­¦ä¹ æ¸²æŸ“å¼•æ“æ‰“ä¸‹åŸºç¡€ï¼Œåšåˆ°â€œçŸ¥å…¶ç„¶ï¼Œäº¦çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚</p>
<h2 data-id="heading-0"><strong>ä¸€ã€åˆè¯† data.json ï¼šåŠ¨ç”»æ•°æ®çš„é¡¶å±‚ç»“æ„</strong></h2>
<p>Lottie åŠ¨ç”»çš„æœ¬è´¨æ˜¯ä¸€å¥—<strong>ç”±æ•°æ®é©±åŠ¨çš„å›¾å½¢ç»˜åˆ¶æŒ‡ä»¤é›†</strong>ï¼Œè€ŒÂ <code>data.json</code>Â æ–‡ä»¶æ­£æ˜¯è¿™å¥—æŒ‡ä»¤çš„å®Œæ•´è½½ä½“ã€‚å…¶<strong>é¡¶å±‚ç»“æ„</strong>å®šä¹‰äº†åŠ¨ç”»çš„å…¨å±€å…ƒä¿¡æ¯ï¼Œå¦‚åŒç”µå½±çš„â€œå¯¼æ¼”å°æœ¬â€ï¼Œè®¾å®šäº†åŠ¨ç”»æ’­æ”¾çš„<strong>ç”»å¸ƒå°ºå¯¸ã€æ—¶é—´çº¿ä¸åŸºç¡€ç¯å¢ƒ</strong>ã€‚ç†è§£è¿™äº›å­—æ®µï¼Œæ˜¯åç»­æ·±å…¥è§£æå›¾å±‚ã€å…³é”®å¸§ç­‰å¤æ‚å±æ€§çš„æ ¹åŸºã€‚</p>
<h3 data-id="heading-1"><strong>é¡¶å±‚å…ƒæ•°æ®ï¼šåŠ¨ç”»çš„å…¨å±€å®šä¹‰</strong></h3>
<p>ä¸‹è¡¨åˆ—å‡ºäº†Â <code>data.json</code>Â æ ¹å¯¹è±¡ï¼ˆRoot Objectï¼‰ä¸­çš„æ ¸å¿ƒå…ƒæ•°æ®å­—æ®µï¼Œå®ƒä»¬å…±åŒæ¡†å®šäº†åŠ¨ç”»çš„æ—¶ç©ºå±æ€§ä¸æ¸²æŸ“åŸºç¡€ã€‚</p>




































































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>æè¿°</th><th>ç¤ºä¾‹å€¼</th><th>å•ä½/å¤‡æ³¨</th></tr></thead><tbody><tr><td><strong>v</strong></td><td><code>string</code></td><td><strong>Bodymovin æ’ä»¶ç‰ˆæœ¬</strong>ï¼šç”Ÿæˆæ­¤ JSON æ‰€ç”¨çš„æ’ä»¶ç‰ˆæœ¬å·ï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½æ”¯æŒä¸åŒçš„ç‰¹æ€§ã€‚</td><td><code>"5.7.4"</code></td><td>-</td></tr><tr><td><strong>fr</strong></td><td><code>number</code></td><td><strong>å¸§ç‡ï¼ˆFrame Rateï¼‰</strong> ï¼šåŠ¨ç”»çš„æ’­æ”¾é€Ÿç‡ï¼Œç›´æ¥å†³å®šåŠ¨ç”»çš„æµç•…åº¦ä¸æ—¶é—´è®¡ç®—åŸºå‡†ã€‚</td><td><code>30</code>,Â <code>60</code></td><td>å¸§/ç§’ (fps)</td></tr><tr><td><strong>ip</strong></td><td><code>number</code></td><td><strong>èµ·å§‹å¸§ï¼ˆIn Pointï¼‰</strong> ï¼šåŠ¨ç”»æ—¶é—´è½´å¼€å§‹çš„ç»å¯¹å¸§ç¼–å·ã€‚</td><td><code>0</code></td><td>å¸§</td></tr><tr><td><strong>op</strong></td><td><code>number</code></td><td><strong>ç»“æŸå¸§ï¼ˆOut Pointï¼‰</strong> ï¼šåŠ¨ç”»æ—¶é—´è½´ç»“æŸçš„ç»å¯¹å¸§ç¼–å·ã€‚åŠ¨ç”»æ€»æ—¶é•¿ =Â <code>(op - ip) / fr</code>Â ç§’ã€‚</td><td><code>90</code></td><td>å¸§</td></tr><tr><td><strong>w</strong></td><td><code>number</code></td><td><strong>ç”»å¸ƒå®½åº¦</strong>ï¼šåŠ¨ç”»åˆæˆï¼ˆCompositionï¼‰çš„é€»è¾‘å®½åº¦ã€‚</td><td><code>800</code></td><td>åƒç´  (px)</td></tr><tr><td><strong>h</strong></td><td><code>number</code></td><td><strong>ç”»å¸ƒé«˜åº¦</strong>ï¼šåŠ¨ç”»åˆæˆçš„é€»è¾‘é«˜åº¦ã€‚</td><td><code>600</code></td><td>åƒç´  (px)</td></tr><tr><td><strong>nm</strong></td><td><code>string</code></td><td><strong>åˆæˆåç§°ï¼ˆNameï¼‰</strong> ï¼šå¯¹åº” After Effects ä¸­åˆæˆçš„åç§°ï¼Œä¾¿äºè¯†åˆ«ã€‚</td><td><code>"å…ƒæ•°æ®æ¼”ç¤ºåŠ¨ç”»"</code></td><td>-</td></tr><tr><td><strong>ddd</strong></td><td><code>integer</code></td><td><strong>3D å›¾å±‚æ ‡è¯†</strong>ï¼šæ ‡è¯†æ­¤åˆæˆä¸­<strong>æ˜¯å¦åŒ…å« 3D å›¾å±‚æˆ–æ‘„åƒæœº</strong>ã€‚<code>0</code>Â ä»£è¡¨å¦ï¼ˆé»˜è®¤ï¼‰ï¼Œ<code>1</code>Â ä»£è¡¨æ˜¯ã€‚</td><td><code>0</code></td><td>-</td></tr></tbody></table>
<p>ç»¼åˆä»¥ä¸Šå­—æ®µï¼Œä¸€ä¸ªå®šä¹‰äº†800x600ç”»å¸ƒã€30fpsã€æ—¶é•¿3ç§’çš„2DåŠ¨ç”»ï¼Œå…¶é¡¶å±‚ç»“æ„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"v"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5.7.4"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"fr"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ip"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"op"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"w"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">800</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"h"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">600</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å…ƒæ•°æ®æ¼”ç¤ºåŠ¨ç”»"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ddd"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-2"><strong>æ ¸å¿ƒç»„æˆï¼šå›¾å±‚ã€èµ„æºä¸å­—å½¢</strong></h3>
<p><code>assets</code>ã€<code>chars</code>Â ä¸Â <code>layers</code>Â æ˜¯æ„æˆ Lottie åŠ¨ç”»å†…å®¹çš„ä¸‰ä¸ªæ ¸å¿ƒæ•°æ®æ•°ç»„ã€‚å®ƒä»¬åˆ†åˆ«å®šä¹‰äº†å¯å¤ç”¨çš„ç´ æã€çŸ¢é‡å­—å½¢ä»¥åŠå›¾å±‚çš„åºåˆ—ä¸å±æ€§ï¼Œå…±åŒæè¿°äº†åŠ¨ç”»çš„å…¨éƒ¨è§†è§‰ä¿¡æ¯ä¸åŠ¨æ€è¡Œä¸ºã€‚</p>
<h4 data-id="heading-3"><strong><code>assets</code>Â - å¯å¤ç”¨èµ„æºåº“</strong></h4>
<p><code>assets</code>Â æ•°ç»„ç”¨äºé›†ä¸­å®šä¹‰åŠ¨ç”»ä¸­å¯è¢«å¤šæ¬¡å¼•ç”¨çš„é™æ€æˆ–åŠ¨æ€èµ„æºã€‚æ­¤è®¾è®¡å®ç°äº†èµ„æºå¤ç”¨ï¼Œæœ‰åŠ©äºä¼˜åŒ–æ–‡ä»¶ä½“ç§¯å¹¶ä¿è¯å¼•ç”¨çš„ä¸€è‡´æ€§ã€‚</p>


























<table><thead><tr><th>èµ„æºç±»å‹</th><th>ç±»å‹æ ‡è¯† (<code>ty</code>)</th><th>å†…å®¹æè¿°</th><th>å¼•ç”¨å­—æ®µ</th><th>ä¸»è¦ç”¨é€”</th></tr></thead><tbody><tr><td><strong>å›¾åƒèµ„æº</strong></td><td><code>"img"</code></td><td>åŒ…å«å›¾åƒIDã€å°ºå¯¸åŠæ–‡ä»¶è·¯å¾„æˆ–Base64ç¼–ç æ•°æ®ã€‚</td><td><code>refId</code></td><td>é™æ€ä½å›¾å…ƒç´ ï¼Œå¦‚å›¾æ ‡ã€èƒŒæ™¯ã€‚</td></tr><tr><td><strong>é¢„åˆæˆèµ„æº</strong></td><td><code>"precomp"</code></td><td>ä¸€ä¸ªå®Œæ•´çš„å­åˆæˆï¼ŒåŒ…å«ç‹¬ç«‹çš„å›¾å±‚(<code>layers</code>)ä¸æ—¶é—´è½´ã€‚</td><td><code>refId</code></td><td>å¯é‡å¤ä½¿ç”¨çš„åŠ¨ç”»ç‰‡æ®µï¼Œå¦‚é€šç”¨åŠ¨æ•ˆç»„ä»¶ã€‚</td></tr></tbody></table>
<p><strong>å¼•ç”¨æœºåˆ¶</strong>ï¼šå›¾å±‚é€šè¿‡å…¶Â <code>refId</code>Â å±æ€§ä¸Â <code>assets</code>Â ä¸­å¯¹åº”IDçš„èµ„æºè¿›è¡Œå…³è”ã€‚æ¸²æŸ“æ—¶ï¼Œå¼•æ“æ®æ­¤æŸ¥æ‰¾å¹¶ç»˜åˆ¶ç›¸åº”èµ„æºã€‚</p>
<h4 data-id="heading-4"><strong><code>chars</code>Â - çŸ¢é‡å­—å½¢å®šä¹‰</strong></h4>
<p><code>chars</code>Â æ•°ç»„å­˜å‚¨äº†å°†æ–‡å­—è½¬æ¢ä¸ºçŸ¢é‡å½¢çŠ¶åçš„æ•°æ®ã€‚å½“åŠ¨ç”»éœ€è¦å¯¹æ–‡å­—è¿›è¡Œè·¯å¾„å˜å½¢ã€æè¾¹åŠ¨ç”»ç­‰è¶…è¶Šæ™®é€šæ–‡æœ¬æ¸²æŸ“èƒ½åŠ›çš„æ“ä½œæ—¶ï¼Œä¼šä½¿ç”¨æ­¤æ•°ç»„ã€‚</p>
<ul>
<li><strong>äº§ç”Ÿæ¡ä»¶</strong>ï¼šåœ¨After Effectsä¸­å¯¹æ–‡æœ¬å›¾å±‚æ‰§è¡Œâ€œä»æ–‡å­—åˆ›å»ºå½¢çŠ¶â€ï¼Œæˆ–åœ¨å¯¼å‡ºæ—¶å¯ç”¨â€œå­—ç¬¦å½¢çŠ¶â€é€‰é¡¹ã€‚</li>
<li><strong>æ•°æ®ç»“æ„</strong>ï¼šæ¯ä¸ªé¡¹å®šä¹‰äº†å­—ç¬¦ã€å­—ä½“ä¿¡æ¯åŠå…¶çŸ¢é‡è·¯å¾„(<code>data</code>)ï¼Œè¯¥è·¯å¾„æ•°æ®åŒ…å«è½®å»“ã€æè¾¹ä¸å¡«å……ç­‰å±æ€§ã€‚</li>
<li><strong>æ ¸å¿ƒç”¨é€”</strong>ï¼šå®ç°å¯¹æ–‡å­—å­—ç¬¦çš„ç²¾ç»†åŒ–æ§åˆ¶ï¼Œç”¨äºåˆ¶ä½œå­—å½¢å˜å½¢ã€ç¬”ç”»åŠ¨ç”»ç­‰æ•ˆæœã€‚</li>
</ul>
<h4 data-id="heading-5"><strong><code>layers</code>Â - åŠ¨ç”»å›¾å±‚åºåˆ—</strong></h4>
<p><code>layers</code>Â æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œå®šä¹‰äº†æ‰€æœ‰å›¾å±‚çš„å åŠ é¡ºåºã€åŸºæœ¬å±æ€§åŠå…³é”®å¸§åŠ¨ç”»ã€‚å®ƒæ˜¯ç»„ç»‡åŠ¨ç”»æ¸²æŸ“é€»è¾‘çš„ä¸»ä½“ã€‚</p>
<ul>
<li><strong>æ¸²æŸ“é¡ºåº</strong>ï¼šæ•°ç»„ç´¢å¼•ä»0å¼€å§‹ï¼Œå›¾å±‚æŒ‰ç´¢å¼•å‡åºä»åº•å±‚åˆ°é¡¶å±‚ä¾æ¬¡æ¸²æŸ“ã€‚</li>
<li><strong>æ ¸å¿ƒå±æ€§</strong>ï¼šæ¯ä¸ªå›¾å±‚å¯¹è±¡åŒ…å«ç±»å‹ï¼ˆå¦‚å½¢çŠ¶ã€å›¾åƒã€æ–‡æœ¬ï¼‰ã€ç©ºé—´å˜æ¢å±æ€§ã€è’™ç‰ˆä»¥åŠå…³é”®å¸§åŠ¨ç”»æ•°æ®ã€‚</li>
<li><strong>å…³é”®ä½œç”¨</strong>ï¼š<code>assets</code>Â å’ŒÂ <code>chars</code>Â ä¸­å®šä¹‰çš„èµ„æºéœ€åœ¨æ­¤è¢«å¼•ç”¨ï¼Œå¹¶é€šè¿‡å›¾å±‚çš„åŠ¨ç”»å±æ€§é©±åŠ¨ï¼Œæ‰èƒ½æˆä¸ºæœ€ç»ˆåŠ¨ç”»çš„ä¸€éƒ¨åˆ†ã€‚</li>
</ul>
<p><strong>åä½œå…³ç³»</strong>ï¼š<code>assets</code>Â å’ŒÂ <code>chars</code>Â ä½œä¸ºèµ„æºå®šä¹‰ï¼Œä¸ºÂ <code>layers</code>Â æä¾›ç´ æï¼›<code>layers</code>Â åˆ™è´Ÿè´£ç»„ç»‡è¿™äº›ç´ æï¼Œå¹¶é€šè¿‡å…¶æ—¶é—´è½´å’Œå±æ€§æ§åˆ¶åŠ¨ç”»çš„æœ€ç»ˆè¡¨ç°ã€‚ä¸€ä¸ªå®Œæ•´çš„ç»“æ„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"v"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5.7.4"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"fr"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ip"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"op"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"w"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">800</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"h"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">600</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å…ƒæ•°æ®æ¼”ç¤ºåŠ¨ç”»"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ddd"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"assets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"layers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"chars"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-6"><strong>äºŒã€å›¾å±‚ç³»ç»Ÿ - ç†è§£ Layers ç»“æ„</strong>â­ï¸</h2>
<p><code>layers</code> æ•°ç»„æ˜¯ Lottie JSON ä¸­æ‰¿è½½æ‰€æœ‰åŠ¨ç”»å›¾å±‚ä¿¡æ¯çš„ä¸»ä½“ã€‚å®ƒå®šä¹‰äº†å›¾å±‚çš„å †å é¡ºåºã€å±æ€§åŠå…³é”®å¸§åŠ¨ç”»ï¼Œæ˜¯æ„æˆåŠ¨ç”»è§†è§‰å‘ˆç°ä¸åŠ¨æ€è¡Œä¸ºçš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚Lottie ä¸»è¦åŒ…å«ä»¥ä¸‹å…­ç§åŸºç¡€å›¾å±‚ç±»å‹ï¼š</p>








































<table><thead><tr><th>ç±»å‹æ ‡è¯† (<code>ty</code>)</th><th>å›¾å±‚ç±»å‹</th><th>æ ¸å¿ƒæè¿°</th></tr></thead><tbody><tr><td><strong>0</strong></td><td><strong>é¢„åˆæˆå›¾å±‚ (Precomp Layer)</strong></td><td>åµŒå¥—åˆæˆå±‚ï¼Œé€šè¿‡ <code>refId</code> å¼•ç”¨ <code>assets</code> ä¸­å®šä¹‰çš„é¢„åˆæˆèµ„æºï¼Œå®ç°åŠ¨ç”»å¤ç”¨ä¸æ¨¡å—åŒ–ç®¡ç†ã€‚</td></tr><tr><td><strong>1</strong></td><td><strong>çº¯è‰²å›¾å±‚ (Solid Layer)</strong></td><td>çº¯è‰²å¡«å……å±‚ï¼Œå®šä¹‰å›ºå®šé¢œè‰²çš„çŸ©å½¢åŒºåŸŸï¼Œå¸¸ç”¨ä½œèƒŒæ™¯æˆ–é®ç½©ã€‚</td></tr><tr><td><strong>2</strong></td><td><strong>å›¾åƒå›¾å±‚ (Image Layer)</strong></td><td>é™æ€å›¾ç‰‡å±‚ï¼Œé€šè¿‡ <code>refId</code> å¼•ç”¨ <code>assets</code> ä¸­å®šä¹‰çš„å›¾åƒèµ„æºã€‚</td></tr><tr><td><strong>3</strong></td><td><strong>ç©ºå¯¹è±¡å›¾å±‚ (Null Layer)</strong></td><td>ä¸å¯è§è¾…åŠ©å±‚ï¼Œä¸»è¦ç”¨äºé€šè¿‡å…¶ <code>ks</code> å±æ€§ï¼ˆå˜æ¢æ•°æ®ï¼‰é©±åŠ¨å­å›¾å±‚åŠ¨ç”»ï¼Œæˆ–ä½œä¸ºåŠ¨ç”»æ§åˆ¶å™¨ã€‚</td></tr><tr><td><strong>4</strong></td><td><strong>å½¢çŠ¶å›¾å±‚ (Shape Layer)</strong></td><td>çŸ¢é‡å›¾å½¢å±‚ï¼Œç”±è·¯å¾„ã€æè¾¹ã€å¡«å……ç­‰å±æ€§æ„æˆï¼Œæ˜¯åˆ¶ä½œå˜å½¢ã€è·¯å¾„åŠ¨ç”»çš„åŸºç¡€ã€‚</td></tr><tr><td><strong>5</strong></td><td><strong>æ–‡æœ¬å›¾å±‚ (Text Layer)</strong></td><td>æ–‡å­—å›¾å±‚ï¼Œå¯å®šä¹‰å­—ä½“ã€é¢œè‰²ã€æ®µè½æ ·å¼ï¼Œå¹¶æ”¯æŒé€å­—ç¬¦åŠ¨ç”»ã€‚</td></tr></tbody></table>
<p>æ‰€æœ‰å›¾å±‚å…±äº«ä¸€ç»„åŸºç¡€å±æ€§ï¼Œç”¨äºå®šä¹‰å…¶åœ¨åˆæˆä¸­çš„åŸºæœ¬çŠ¶æ€ä¸æ—¶ç©ºå…³ç³»ã€‚</p>
<p>ä»¥ä¸‹å±æ€§ä¸º<strong>æ‰€æœ‰å›¾å±‚ç±»å‹</strong>å…±æœ‰çš„åŸºç¡€å±æ€§ï¼š</p>





















































































































<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>å¿…é€‰</th><th>æè¿°</th><th>ç¤ºä¾‹å€¼</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><strong><code>ty</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>å›¾å±‚ç±»å‹æ ‡è¯†</strong>ï¼Œå†³å®šå›¾å±‚çš„è¡Œä¸ºå’Œæ•°æ®ç»“æ„ï¼ˆè§ä¸Šè¡¨ï¼‰</td><td><code>0</code>-<code>5</code></td><td>-</td></tr><tr><td><strong><code>nm</code></strong></td><td><code>string</code> / <code>number</code></td><td>å¦</td><td><strong>å›¾å±‚åç§°</strong>ï¼Œåœ¨ After Effects ä¸­è®¾ç½®ï¼Œç”¨äºè¡¨è¾¾å¼å’Œè°ƒè¯•</td><td><code>"æŒ‰é’®èƒŒæ™¯"</code>, <code>"Layer 1"</code></td><td>-</td></tr><tr><td><strong><code>ind</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>å›¾å±‚ç´¢å¼•</strong>ï¼Œåœ¨æ•´ä¸ªåˆæˆä¸­å”¯ä¸€ï¼Œç”¨äºçˆ¶å­å…³è”å’Œè¡¨è¾¾å¼å¼•ç”¨</td><td><code>1</code>, <code>2</code>, <code>3</code></td><td>-</td></tr><tr><td><strong><code>ip</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>å…¥ç‚¹ (In Point)</strong>ï¼Œå›¾å±‚å¼€å§‹æ˜¾ç¤ºçš„å¸§æ•°</td><td><code>0</code>, <code>30</code></td><td>-</td></tr><tr><td><strong><code>op</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>å‡ºç‚¹ (Out Point)</strong>ï¼Œå›¾å±‚ç»“æŸæ˜¾ç¤ºçš„å¸§æ•°</td><td><code>90</code>, <code>180</code></td><td>-</td></tr><tr><td><strong><code>st</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>èµ·å§‹æ—¶é—´ (Start Time)</strong>ï¼Œå›¾å±‚çš„æ—¶é—´åç§»é‡</td><td><code>0</code>, <code>10</code></td><td>-</td></tr><tr><td><strong><code>sr</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>æ—¶é—´æ‹‰ä¼¸ (Stretch)</strong>ï¼Œæ§åˆ¶å›¾å±‚æ’­æ”¾é€Ÿåº¦çš„ç³»æ•°</td><td><code>1</code> (æ­£å¸¸), <code>0.5</code> (å‡é€Ÿ), <code>2</code> (åŠ é€Ÿ)</td><td><code>1</code></td></tr><tr><td><strong><code>ks</code></strong></td><td><code>object</code></td><td>æ˜¯</td><td><strong>å˜æ¢å±æ€§ (Transform)</strong>ï¼ŒåŒ…å«ä½ç½®ã€ç¼©æ”¾ã€æ—‹è½¬ã€é€æ˜åº¦ç­‰å…³é”®å¸§æ•°æ®</td><td>è§ä¸‹æ–¹è¯¦è§£</td><td>-</td></tr><tr><td><strong><code>ao</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>è‡ªåŠ¨å®šå‘ (Auto-Orient)</strong>ï¼Œæ²¿è·¯å¾„è‡ªåŠ¨è°ƒæ•´å›¾å±‚æ–¹å‘ï¼ˆå¸ƒå°”å€¼ï¼š0/1ï¼‰</td><td><code>0</code> (å…³é—­), <code>1</code> (å¼€å¯)</td><td><code>0</code></td></tr><tr><td><strong><code>ddd</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>3D å›¾å±‚æ ‡è¯†</strong>ï¼Œæ ‡è®°è¯¥å›¾å±‚æ˜¯å¦ä¸º 3D å›¾å±‚ï¼ˆå¸ƒå°”å€¼ï¼š0/1ï¼‰</td><td><code>0</code> (2D), <code>1</code> (3D)</td><td><code>0</code></td></tr><tr><td><strong><code>parent</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>çˆ¶å›¾å±‚ç´¢å¼•</strong>ï¼ŒæŒ‡å‘çˆ¶å›¾å±‚çš„ <code>ind</code> å€¼ï¼Œå®ç°å±‚çº§æ§åˆ¶å’Œè”åŠ¨å˜æ¢</td><td><code>1</code>, <code>5</code></td><td>-</td></tr><tr><td><strong><code>cl</code></strong></td><td><code>string</code></td><td>å¦</td><td><strong>CSS ç±»å (Class)</strong>ï¼Œåœ¨ SVG/HTML æ¸²æŸ“å™¨ä¸­ä½œä¸º HTML class</td><td><code>"background"</code>, <code>"icon"</code></td><td>-</td></tr><tr><td><strong><code>ln</code></strong></td><td><code>string</code></td><td>å¦</td><td><strong>HTML ID</strong>ï¼Œåœ¨ SVG/HTML æ¸²æŸ“å™¨ä¸­ä½œä¸º HTML id å±æ€§</td><td><code>"layer-bg"</code>, <code>"main-icon"</code></td><td>-</td></tr></tbody></table>
<p>ä»¥ä¸Š13ä¸ªé€šç”¨å±æ€§ä¸­ï¼Œæœ‰Â <strong>3ä¸ª</strong>ï¼ˆ<code>ip</code>ã€<code>op</code>ã€<code>nm</code>ï¼‰ä¸æ ¹å¯¹è±¡ä¸­çš„æ¦‚å¿µ<strong>å®Œå…¨ä¸€è‡´</strong>ï¼Œä»…ä½œç”¨åŸŸä¸åŒã€‚<strong>1ä¸ª</strong>ï¼ˆ<code>ddd</code>ï¼‰ä¸æ ¹å¯¹è±¡æ¦‚å¿µ<strong>ç›¸ä¼¼ä½†æœ‰åŒºåˆ«</strong>ï¼šæ ¹å¯¹è±¡çš„Â <code>ddd</code>Â è¡¨ç¤ºåˆæˆâ€œæ˜¯å¦åŒ…å«â€3Då…ƒç´ ï¼Œè€Œå›¾å±‚çš„Â <code>ddd</code>Â è¡¨ç¤ºå…¶â€œæœ¬èº«æ˜¯å¦ä¸ºâ€3Då›¾å±‚ã€‚å…¶ä½™Â <strong>9ä¸ª</strong>ï¼ˆ<code>ty</code>,Â <code>ind</code>,Â <code>st</code>,Â <code>sr</code>,Â <code>ks</code>,Â <code>ao</code>,Â <code>parent</code>,Â <code>cl</code>,Â <code>ln</code>ï¼‰åˆ™æ˜¯<strong>å›¾å±‚ä¸“æœ‰çš„æ ¸å¿ƒå±æ€§</strong>ï¼Œå®ƒä»¬å…±åŒå®šä¹‰äº†å›¾å±‚åœ¨æ—¶é—´ä¸ç©ºé—´ä¸­çš„åŸºæœ¬çŠ¶æ€ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é¦–å…ˆæ·±å…¥è§£æå…¶ä¸­æœ€æ ¸å¿ƒçš„Â <strong><code>ks</code>ï¼ˆå˜æ¢å±æ€§ï¼‰</strong> Â å¯¹è±¡ï¼Œå®ƒæ˜¯é©±åŠ¨æ‰€æœ‰å›¾å±‚è¿åŠ¨ä¸å˜åŒ–çš„å…³é”®ã€‚</p>
<h2 data-id="heading-7"><strong>ä¸‰ã€å˜æ¢å±æ€§ - ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾</strong>â­ï¸</h2>
<h3 data-id="heading-8">ksÂ å¯¹è±¡æ¦‚è§ˆ</h3>
<p><code>ks</code>ï¼ˆTransformï¼‰æ˜¯æ‰€æœ‰å›¾å±‚çš„æ ¸å¿ƒåŠ¨ç”»å®¹å™¨ï¼Œå®ƒå®šä¹‰äº†å›¾å±‚åœ¨ç©ºé—´ä¸­çš„ä½ç½®ã€å¤§å°ã€æ—‹è½¬ã€é€æ˜åº¦ç­‰åŸºç¡€å˜æ¢çŠ¶æ€ã€‚å…¶åç§°Â <strong><code>ks</code></strong>Â æ˜¯Â <strong>Keyable Styled Propertiesï¼ˆå¯å…³é”®å¸§çš„æ ·å¼åŒ–å±æ€§ï¼‰</strong> Â çš„ç¼©å†™ï¼Œè¿™ç²¾å‡†æ¦‚æ‹¬äº†å…¶ä¸¤å¤§æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ul>
<li><strong><code>k</code>ï¼ˆKeyableï¼‰</strong> ï¼šæŒ‡è¿™äº›å±æ€§<strong>å¯è¢«è®¾ç½®ä¸ºå…³é”®å¸§</strong>ï¼Œæ˜¯å®ç°æ‰€æœ‰é€å¸§åŠ¨ç”»çš„åŸºç¡€ã€‚</li>
<li><strong><code>s</code>ï¼ˆStyledï¼‰</strong> ï¼šæŒ‡è¿™äº›å±æ€§<strong>å¯è¢«åŠ¨æ€é©±åŠ¨æˆ–èµ‹äºˆæ ·å¼</strong>ï¼Œæ”¯æŒé€šè¿‡æ•°æ®æˆ–è¡¨è¾¾å¼è¿›è¡Œå¤æ‚æ§åˆ¶ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œ<code>ks</code>Â å¯¹è±¡ä¸ä»…æè¿°å›¾å±‚çš„é™æ€ç©ºé—´çŠ¶æ€ï¼Œæ›´æ˜¯æ‰¿è½½å…¶æ‰€æœ‰è¿åŠ¨ä¸å˜æ¢åŠ¨ç”»çš„<strong>æ•°æ®è½½ä½“</strong>ã€‚æ‰€æœ‰åŸºç¡€åŠ¨ç”»ï¼ˆå¦‚ç§»åŠ¨ã€ç¼©æ”¾ã€æ—‹è½¬ã€æ·¡å…¥æ·¡å‡ºï¼‰éƒ½é€šè¿‡åœ¨æ­¤å¯¹è±¡å†…å®šä¹‰å…³é”®å¸§æ¥å®ç°ã€‚</p>
<h3 data-id="heading-9"><strong>ksÂ çš„å®Œæ•´å±æ€§è¡¨</strong></h3>





















































<table><thead><tr><th>å±æ€§</th><th>å…¨ç§°</th><th>é»˜è®¤å€¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong><code>a</code></strong></td><td>Anchor Point</td><td><code>[0, 0, 0]</code></td><td><strong>é”šç‚¹</strong>ï¼šå›¾å±‚å˜æ¢çš„åŸºå‡†ä¸­å¿ƒç‚¹ï¼ˆæ”¯ç‚¹ï¼‰ã€‚</td></tr><tr><td><strong><code>p</code></strong></td><td>Position</td><td><code>[0, 0, 0]</code></td><td><strong>ä½ç½®</strong>ï¼šå›¾å±‚åœ¨ç”»å¸ƒä¸­çš„åæ ‡ã€‚</td></tr><tr><td><strong><code>s</code></strong></td><td>Scale</td><td><code>[100, 100, 100]</code></td><td><strong>ç¼©æ”¾</strong>ï¼šå›¾å±‚çš„å°ºå¯¸æ¯”ä¾‹ï¼ˆä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºï¼‰ã€‚</td></tr><tr><td><strong><code>r</code></strong></td><td>Rotation</td><td><code>0</code></td><td><strong>æ—‹è½¬</strong>ï¼šå›¾å±‚çš„æ—‹è½¬è§’åº¦ï¼ˆå•ä½ä¸ºåº¦ï¼‰ã€‚</td></tr><tr><td><strong><code>o</code></strong></td><td>Opacity</td><td><code>100</code></td><td><strong>ä¸é€æ˜åº¦</strong>ï¼šå›¾å±‚çš„é€æ˜åº¦ï¼ˆ100ä¸ºå®Œå…¨ä¸é€æ˜ï¼Œ0ä¸ºå®Œå…¨é€æ˜ï¼‰ã€‚</td></tr><tr><td><strong><code>sk</code></strong></td><td>Skew</td><td><code>0</code></td><td><strong>å€¾æ–œ</strong>ï¼šå›¾å±‚çš„å€¾æ–œè§’åº¦ï¼ˆå•ä½ä¸ºåº¦ï¼‰ã€‚</td></tr><tr><td><strong><code>sa</code></strong></td><td>Skew Axis</td><td><code>0</code></td><td><strong>å€¾æ–œè½´</strong>ï¼šå®šä¹‰å€¾æ–œæ“ä½œæ‰€æ²¿çš„è½´å‘è§’åº¦ï¼ˆå•ä½ä¸ºåº¦ï¼‰ã€‚</td></tr></tbody></table>
<blockquote>
<p>Â 3DÂ å›¾å±‚ç‰¹æ®Šå½¢å¼ï¼šå½“Â ddd=1Â æ—¶ï¼ŒpÂ å¯èƒ½è¢«æ‹†åˆ†ä¸ºÂ pxã€pyã€pzÂ ä¸‰ä¸ªç‹¬ç«‹å±æ€§ã€‚</p>
</blockquote>
<h3 data-id="heading-10"><strong>å±æ€§å€¼çš„ä¸¤ç§æ•°æ®å½¢æ€</strong></h3>
<p>æ¯ä¸ªå˜æ¢å±æ€§çš„å€¼å‡ä»¥ç»Ÿä¸€çš„ç»“æ„è¡¨ç¤ºï¼Œåˆ†ä¸ºÂ <strong>é™æ€å€¼</strong>Â ä¸Â <strong>åŠ¨ç”»å€¼</strong>Â ä¸¤ç§å½¢æ€ï¼Œé€šè¿‡Â <code>a</code>Â å­—æ®µåŒºåˆ†ã€‚</p>
<h4 data-id="heading-11"><strong>1. é™æ€å€¼ (<code>a</code>: 0)</strong></h4>
<p>å±æ€§åœ¨æ•´ä¸ªæ—¶é—´è½´ä¸Šä¿æŒä¸å˜ï¼Œç»“æ„ç®€æ´ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// é™æ€æ ‡è¯†</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">45</span>        <span class="hljs-comment">// å›ºå®šå€¼ï¼šæ—‹è½¬45åº¦</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-12"><strong>2. åŠ¨ç”»å€¼ (<code>a</code>: 1)</strong></h4>
<p>å±æ€§å€¼éšæ—¶é—´å˜åŒ–ï¼Œé€šè¿‡å…³é”®å¸§æ•°ç»„ (<code>k</code>) å®šä¹‰ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// åŠ¨ç”»æ ‡è¯†</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>         <span class="hljs-comment">// å…³é”®å¸§æ•°ç»„</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// æ—¶é—´ç‚¹ï¼ˆå¸§ï¼‰</span>
        <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// èµ·å§‹å€¼</span>
        <span class="hljs-attr">"e"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">360</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// ç»“æŸå€¼</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">60</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// ä¸‹ä¸€å…³é”®å¸§æ—¶é—´ç‚¹</span>
        <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">360</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// è¯¥å¸§çš„æ•°å€¼ï¼ˆç»“æŸæ—¶çœç•¥"e"ï¼‰</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å…³é”®å¸§æ ¸å¿ƒå­—æ®µè¯´æ˜</strong>ï¼š</p>
<ul>
<li><strong><code>t</code>Â (time)</strong> ï¼šå…³é”®å¸§æ‰€å¤„çš„æ—¶é—´ç‚¹ï¼ˆå¸§åºå·ï¼‰ã€‚</li>
<li><strong><code>s</code>Â (start value)</strong> ï¼šæ­¤å…³é”®å¸§çš„èµ·å§‹å€¼ã€‚</li>
<li><strong><code>e</code>Â (end value)</strong> ï¼šæœå‘ä¸‹ä¸€å…³é”®å¸§çš„<strong>ç›®æ ‡å€¼</strong>ã€‚æœ€åä¸€ä¸ªå…³é”®å¸§å¯çœç•¥ã€‚</li>
<li><strong><code>i</code>Â /Â <code>o</code></strong>ï¼šå®šä¹‰å±æ€§å˜åŒ–é€Ÿç‡ï¼ˆç¼“åŠ¨ï¼‰çš„è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹ï¼Œå°†åœ¨åç»­ç« èŠ‚è¯¦è¿°ã€‚</li>
</ul>
<p>æ­¤ç»“æ„æ˜¯ Lottie å®ç°æ‰€æœ‰åŸºç¡€è¿åŠ¨ï¼ˆä½ç§»ã€ç¼©æ”¾ã€æ—‹è½¬ã€æ·¡å…¥æ·¡å‡ºï¼‰çš„é€šç”¨æ•°æ®èŒƒå¼ã€‚</p>
<h3 data-id="heading-13">ğŸ¨å°è¯•ç‰›åˆ€ï¼šåŠ¨æ‰‹éªŒè¯æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº† Lottie JSON çš„é¡¶å±‚ç»“æ„å’Œæ ¸å¿ƒå±æ€§ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼ŒåŠ¨æ‰‹éªŒè¯å¦‚ä½•é…ç½®ä¸€ä¸ªåŸºç¡€çš„é™æ€åœºæ™¯ã€‚</p>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€å¼ å›¾ç‰‡ï¼Œåˆ›å»ºä¸€ä¸ª<strong>é™æ€çš„å›¾ç‰‡å›¾å±‚</strong>ã€‚æ‚¨å°†åœ¨ä¸‹å›¾ä¸­çœ‹åˆ°ï¼ˆä¸€ä¸ªé™æ€å›¾ï¼Œä¸€ä¸ªæ—‹è½¬å›¾ï¼‰ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/797a4950337a4e9ab0ddb4de2e7afc33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOo5Y2r5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876452&amp;x-signature=yzgDCdB54V1rtVwQfYETtwLpQco%3D" alt="å½•å±2026-01-07 11.51.03 (1).gif" loading="lazy"/></p>
<blockquote>
<p><strong>è¯´æ˜</strong>ï¼šä¸Šå›¾çš„ GIF å±•ç¤ºäº†åŒ…å«æ—‹è½¬åŠ¨ç”»çš„å®Œæ•´æ•ˆæœã€‚è€Œä¸‹é¢çš„ JSON é…ç½®ï¼Œæˆ‘ä»¬å°†é¦–å…ˆå®Œæˆ<strong>å·¦ä¾§é™æ€å›¾ç‰‡</strong>çš„æ­å»ºã€‚è¿™èƒ½è®©æˆ‘ä»¬ä¸“æ³¨äºå·²å­¦çš„<strong>é™æ€å±æ€§é…ç½®</strong>ï¼ˆ<code>a: 0</code>ï¼‰ã€‚å³ä¾§çš„æ—‹è½¬åŠ¨ç”»ï¼Œå°†åœ¨æˆ‘ä»¬å­¦ä¹ äº†å…³é”®å¸§ç³»ç»Ÿåï¼Œé€šè¿‡ç®€å•åœ°ä¿®æ”¹Â <code>r</code>ï¼ˆæ—‹è½¬ï¼‰å±æ€§å³å¯å®ç°ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„ Lottie JSON é…ç½®ï¼Œå·²é™„ä¸Šè¯¦å°½çš„æ³¨é‡Šï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-comment">// ========== é¡¶å±‚å…ƒæ•°æ®ï¼šåŠ¨ç”»çš„å…¨å±€å®šä¹‰ ==========</span>
  <span class="hljs-string">"v"</span>: <span class="hljs-string">"5.7.4"</span>,              <span class="hljs-comment">// Bodymovin æ’ä»¶ç‰ˆæœ¬</span>
  <span class="hljs-string">"fr"</span>: <span class="hljs-number">30</span>,                  <span class="hljs-comment">// å¸§ç‡ï¼š30fps</span>
  <span class="hljs-string">"ip"</span>: <span class="hljs-number">0</span>,                   <span class="hljs-comment">// èµ·å§‹å¸§ï¼šä»ç¬¬0å¸§å¼€å§‹</span>
  <span class="hljs-string">"op"</span>: <span class="hljs-number">90</span>,                  <span class="hljs-comment">// ç»“æŸå¸§ï¼šåˆ°ç¬¬90å¸§ç»“æŸï¼ˆæ€»æ—¶é•¿ = (90-0)/30 = 3ç§’ï¼‰</span>
  <span class="hljs-string">"w"</span>: <span class="hljs-number">800</span>,                  <span class="hljs-comment">// ç”»å¸ƒå®½åº¦ï¼š800åƒç´ </span>
  <span class="hljs-string">"h"</span>: <span class="hljs-number">600</span>,                  <span class="hljs-comment">// ç”»å¸ƒé«˜åº¦ï¼š600åƒç´ </span>
  <span class="hljs-string">"nm"</span>: <span class="hljs-string">"å˜æ¢å±æ€§æ¼”ç¤º"</span>,        <span class="hljs-comment">// åˆæˆåç§°</span>
  <span class="hljs-string">"ddd"</span>: <span class="hljs-number">0</span>,                  <span class="hljs-comment">// 3Dæ ‡è¯†ï¼š0è¡¨ç¤ºä¸åŒ…å«3Då›¾å±‚</span>
  
  <span class="hljs-comment">// ========== Assetsï¼šå¯å¤ç”¨èµ„æºåº“ ==========</span>
  <span class="hljs-string">"assets"</span>: [
    {
      <span class="hljs-string">"id"</span>: <span class="hljs-string">"image_0"</span>,       <span class="hljs-comment">// èµ„æºIDï¼Œä¾›å›¾å±‚é€šè¿‡ refId å¼•ç”¨</span>
      <span class="hljs-string">"w"</span>: <span class="hljs-number">500</span>,              <span class="hljs-comment">// å›¾ç‰‡åŸå§‹å®½åº¦</span>
      <span class="hljs-string">"h"</span>: <span class="hljs-number">500</span>,              <span class="hljs-comment">// å›¾ç‰‡åŸå§‹é«˜åº¦</span>
      <span class="hljs-string">"u"</span>: <span class="hljs-string">""</span>,               <span class="hljs-comment">// å›¾ç‰‡URLåŸºç¡€è·¯å¾„ï¼ˆç©ºè¡¨ç¤ºä½¿ç”¨å®Œæ•´è·¯å¾„ï¼‰</span>
      <span class="hljs-string">"p"</span>: <span class="hljs-string">"https://img11.360buyimg.com/img/jfs/t1/383242/14/16667/276460/695dd5ccF565013e8/02761c81c82b92d4.png"</span>,  <span class="hljs-comment">// å›¾ç‰‡å®Œæ•´URL</span>
      <span class="hljs-string">"e"</span>: <span class="hljs-number">0</span>                 <span class="hljs-comment">// æ˜¯å¦åµŒå…¥ï¼š0è¡¨ç¤ºå¤–éƒ¨é“¾æ¥</span>
    }
  ],
  
  <span class="hljs-comment">// ========== Layersï¼šå›¾å±‚åºåˆ—ï¼ˆä»ä¸‹åˆ°ä¸Šæ¸²æŸ“ï¼‰ ==========</span>
  <span class="hljs-string">"layers"</span>: [
    <span class="hljs-comment">// ---------- å›¾å±‚1ï¼šé™æ€å›¾ç‰‡ï¼ˆå±•ç¤ºé™æ€å€¼ a:0ï¼‰ ----------</span>
    {
      <span class="hljs-string">"ddd"</span>: <span class="hljs-number">0</span>,              <span class="hljs-comment">// è¯¥å›¾å±‚ä¸æ˜¯3Då›¾å±‚</span>
      <span class="hljs-string">"ind"</span>: <span class="hljs-number">1</span>,              <span class="hljs-comment">// å›¾å±‚ç´¢å¼•ï¼š1ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</span>
      <span class="hljs-string">"ty"</span>: <span class="hljs-number">2</span>,               <span class="hljs-comment">// å›¾å±‚ç±»å‹ï¼š2 = Image Layerï¼ˆå›¾åƒå›¾å±‚ï¼‰</span>
      <span class="hljs-string">"nm"</span>: <span class="hljs-string">"é™æ€å›¾ç‰‡"</span>,       <span class="hljs-comment">// å›¾å±‚åç§°</span>
      <span class="hljs-string">"refId"</span>: <span class="hljs-string">"image_0"</span>,    <span class="hljs-comment">// å¼•ç”¨ assets ä¸­ id ä¸º "image_0" çš„èµ„æº</span>
      <span class="hljs-string">"sr"</span>: <span class="hljs-number">1</span>,               <span class="hljs-comment">// æ—¶é—´æ‹‰ä¼¸ï¼š1 = æ­£å¸¸é€Ÿåº¦</span>
      
      <span class="hljs-comment">// ===== ksï¼šå˜æ¢å±æ€§ï¼ˆTransformï¼‰=====</span>
      <span class="hljs-string">"ks"</span>: {
        <span class="hljs-comment">// ----- oï¼šä¸é€æ˜åº¦ï¼ˆOpacityï¼‰-----</span>
        <span class="hljs-string">"o"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†ï¼ˆa=0 è¡¨ç¤ºä¸åŠ¨ç”»ï¼‰</span>
          <span class="hljs-string">"k"</span>: <span class="hljs-number">100</span>           <span class="hljs-comment">// å›ºå®šå€¼ï¼š100%ä¸é€æ˜</span>
        },
        
        <span class="hljs-comment">// ----- rï¼šæ—‹è½¬ï¼ˆRotationï¼‰-----</span>
        <span class="hljs-string">"r"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
          <span class="hljs-string">"k"</span>: <span class="hljs-number">45</span>            <span class="hljs-comment">// å›ºå®šå€¼ï¼šæ—‹è½¬45åº¦</span>
        },
        
        <span class="hljs-comment">// ----- pï¼šä½ç½®ï¼ˆPositionï¼‰-----</span>
        <span class="hljs-string">"p"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
          <span class="hljs-string">"k"</span>: [<span class="hljs-number">250</span>, <span class="hljs-number">300</span>, <span class="hljs-number">0</span>] <span class="hljs-comment">// å›ºå®šä½ç½®ï¼š[x, y, z] = å·¦ä¾§250pxï¼Œé¡¶éƒ¨300px</span>
        },
        
        <span class="hljs-comment">// ----- aï¼šé”šç‚¹ï¼ˆAnchor Pointï¼‰-----</span>
        <span class="hljs-string">"a"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
          <span class="hljs-string">"k"</span>: [<span class="hljs-number">250</span>, <span class="hljs-number">250</span>, <span class="hljs-number">0</span>] <span class="hljs-comment">// é”šç‚¹åœ¨å›¾ç‰‡ä¸­å¿ƒï¼ˆ500x500å›¾ç‰‡çš„ä¸­å¿ƒç‚¹ï¼‰</span>
        },
        
        <span class="hljs-comment">// ----- sï¼šç¼©æ”¾ï¼ˆScaleï¼‰-----</span>
        <span class="hljs-string">"s"</span>: {
          <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
          <span class="hljs-string">"k"</span>: [<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>] <span class="hljs-comment">// ç¼©æ”¾åˆ°30%ï¼ˆæ˜¾ç¤ºä¸º150x150ï¼‰</span>
        }
      },
      
      <span class="hljs-string">"ao"</span>: <span class="hljs-number">0</span>,               <span class="hljs-comment">// è‡ªåŠ¨å®šå‘ï¼šå…³é—­</span>
      <span class="hljs-string">"ip"</span>: <span class="hljs-number">0</span>,               <span class="hljs-comment">// å›¾å±‚å…¥ç‚¹ï¼šç¬¬0å¸§å¼€å§‹æ˜¾ç¤º</span>
      <span class="hljs-string">"op"</span>: <span class="hljs-number">90</span>,              <span class="hljs-comment">// å›¾å±‚å‡ºç‚¹ï¼šç¬¬90å¸§ç»“æŸæ˜¾ç¤º</span>
      <span class="hljs-string">"st"</span>: <span class="hljs-number">0</span>,               <span class="hljs-comment">// èµ·å§‹æ—¶é—´åç§»ï¼š0ï¼ˆæ— åç§»ï¼‰</span>
      <span class="hljs-string">"bm"</span>: <span class="hljs-number">0</span>                <span class="hljs-comment">// æ··åˆæ¨¡å¼ï¼š0 = Normalï¼ˆæ­£å¸¸ï¼‰</span>
    }
  ],
  
  <span class="hljs-comment">// ========== Charsï¼šçŸ¢é‡å­—å½¢å®šä¹‰ï¼ˆæœ¬ä¾‹æœªä½¿ç”¨ï¼‰==========</span>
  <span class="hljs-string">"chars"</span>: []
}
</code></pre>
<p>è¿™ä¸ªç¤ºä¾‹æ˜¯ä¸€ä¸ªâ€œçŸ¥è¯†æ£€æŸ¥ç‚¹â€ï¼Œæ¸…æ™°åœ°å±•ç¤ºäº†ï¼š</p>
<ul>
<li><strong>é¡¶å±‚å…ƒæ•°æ®</strong>Â (<code>v</code>,Â <code>fr</code>,Â <code>w</code>,Â <code>h</code>...) å®šä¹‰äº†åŠ¨ç”»çš„èˆå°ï¼ˆ3ç§’ã€800x600çš„ç”»å¸ƒï¼‰ã€‚</li>
<li><strong>èµ„æº (<code>assets</code>)</strong> Â å®šä¹‰äº†å”¯ä¸€å¯ç”¨çš„å›¾ç‰‡ç´ æï¼Œå¹¶é€šè¿‡Â <code>id</code>Â æ ‡è¯†ã€‚</li>
<li><strong>å›¾å±‚ (<code>layers</code>)</strong> Â é€šè¿‡Â <code>refId</code>Â å¼•ç”¨è¯¥èµ„æºï¼Œå°†å…¶å®ä¾‹åŒ–åˆ°èˆå°ä¸Šã€‚</li>
<li><strong><code>ks</code>Â å˜æ¢å¯¹è±¡</strong>Â å†³å®šäº†è¿™ä¸ªå®ä¾‹çš„æœ€ç»ˆçŠ¶æ€ï¼šä½äºç”»å¸ƒå·¦ä¾§ï¼Œç¼©å°è‡³30%ï¼Œå¹¶æ—‹è½¬äº†45åº¦ã€‚æ‰€æœ‰å±æ€§å‡ä»¥<strong>é™æ€å€¼ (<code>a: 0</code>)</strong> Â å®šä¹‰ã€‚</li>
</ul>
<p>è‡³æ­¤ï¼Œæ‚¨å·²ç»æŒæ¡äº†å¦‚ä½•æ„å»ºä¸€ä¸ª Lottie åŠ¨ç”»çš„<strong>é™æ€éª¨æ¶</strong>â€”â€”å®šä¹‰èˆå°ã€å‡†å¤‡ç´ æã€æ”¾ç½®å…ƒç´ å¹¶è®¾ç½®å…¶åˆå§‹çŠ¶æ€ã€‚åœ¨ä¸Šæ–¹çš„é¢„è§ˆå›¾ä¸­ï¼Œæ‚¨ä¹Ÿçœ‹åˆ°äº†åŠ¨ç”»çš„æ½œåŠ›ï¼š<strong>åªéœ€å°†Â <code>r</code>ï¼ˆæ—‹è½¬ï¼‰å±æ€§çš„Â <code>a</code>Â å€¼ä»Â <code>0</code>Â æ”¹ä¸ºÂ <code>1</code>ï¼Œå¹¶é…ä¸Šå…³é”®å¸§æ•°æ®ï¼Œé™æ€å›¾ç‰‡å°±èƒ½æ—‹è½¬èµ·æ¥ã€‚</strong></p>
<p>é‚£ä¹ˆï¼Œ<code>a: 1</code>Â æ¨¡å¼ä¸‹çš„Â <code>k</code>Â æ•°ç»„ç©¶ç«Ÿå¦‚ä½•å®šä¹‰ï¼Ÿå¤šä¸ªå…³é”®å¸§ä¹‹é—´å¦‚ä½•å¹³æ»‘è¿‡æ¸¡ï¼ŸåŠ¨ç”»çš„è¿åŠ¨èŠ‚å¥åˆç”±ä»€ä¹ˆæ§åˆ¶ï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å°†æ·±å…¥åŠ¨ç”»çš„æ ¸å¿ƒï¼Œè§£æ<strong>å…³é”®å¸§ã€æ’å€¼ä¸ç¼“åŠ¨</strong>çš„å®Œæ•´ç³»ç»Ÿã€‚</p>
<hr/>
<h2 data-id="heading-14"><strong>å››ã€æ·±å…¥åŠ¨ç”» - å…³é”®å¸§ã€æ’å€¼ä¸ç¼“åŠ¨</strong>â­ï¸</h2>
<p>åœ¨ä¸Šä¸€ç« çš„"å°è¯•ç‰›åˆ€"ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†é™æ€å›¾ç‰‡ä¸æ—‹è½¬å›¾ç‰‡çš„å¯¹æ¯”æ•ˆæœã€‚å³ä¾§çš„æ—‹è½¬æ•ˆæœæ­£æ˜¯é€šè¿‡<strong>å…³é”®å¸§åŠ¨ç”»</strong>å®ç°çš„ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·±å…¥è§£æè¿™ä¸ªæ—‹è½¬åŠ¨ç”»çš„å®Œæ•´JSONé…ç½®ï¼Œæ­å¼€LottieåŠ¨ç”»ç³»ç»Ÿçš„æ ¸å¿ƒæœºåˆ¶ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/797a4950337a4e9ab0ddb4de2e7afc33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOo5Y2r5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876452&amp;x-signature=yzgDCdB54V1rtVwQfYETtwLpQco%3D" alt="å½•å±2026-01-07 11.51.03 (1).gif" loading="lazy"/></p>
<p>è®©æˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ demo ä¸­ä¸¤ä¸ªå›¾å±‚çš„é…ç½®ï¼Œçœ‹çœ‹é™æ€å›¾ç‰‡æ˜¯å¦‚ä½•"åŠ¨"èµ·æ¥çš„ï¼š</p>
<p><strong>é™æ€å›¾ç‰‡ï¼ˆå·¦ä¾§ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>            <span class="hljs-comment">// é™æ€å€¼æ ‡è¯†</span>
  <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">45</span>            <span class="hljs-comment">// å›ºå®šå€¼ï¼šæ—‹è½¬45åº¦</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ—‹è½¬å›¾ç‰‡ï¼ˆå³ä¾§ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>            <span class="hljs-comment">// åŠ¨ç”»å€¼æ ‡è¯†ï¼ˆa=1 è¡¨ç¤ºæœ‰å…³é”®å¸§åŠ¨ç”»ï¼‰</span>
  <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>             <span class="hljs-comment">// å…³é”®å¸§æ•°ç»„</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"i"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.667</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// å…¥ç¼“åŠ¨</span>
      <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.333</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// å‡ºç¼“åŠ¨</span>
      <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>                            <span class="hljs-comment">// æ—¶é—´ç‚¹ï¼šç¬¬0å¸§</span>
      <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span>                           <span class="hljs-comment">// èµ·å§‹å€¼ï¼š0åº¦</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span><span class="hljs-punctuation">,</span>                           <span class="hljs-comment">// æ—¶é—´ç‚¹ï¼šç¬¬90å¸§</span>
      <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">360</span><span class="hljs-punctuation">]</span>                         <span class="hljs-comment">// ç»“æŸå€¼ï¼š360åº¦</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ ¸å¿ƒå·®å¼‚æ€»ç»“ï¼š</strong></p>






























<table><thead><tr><th>ç‰¹å¾</th><th>é™æ€å€¼ (<code>a: 0</code>)</th><th>åŠ¨ç”»å€¼ (<code>a: 1</code>)</th></tr></thead><tbody><tr><td><code>k</code> çš„ç±»å‹</td><td>å•ä¸ªæ•°å€¼æˆ–æ•°ç»„</td><td>å…³é”®å¸§å¯¹è±¡æ•°ç»„</td></tr><tr><td>æ—¶é—´è½´</td><td>æ— æ—¶é—´æ¦‚å¿µï¼Œå§‹ç»ˆä¿æŒå›ºå®šå€¼</td><td>åœ¨æ—¶é—´è½´ä¸Šå®šä¹‰å¤šä¸ªçŠ¶æ€ç‚¹</td></tr><tr><td>ç¼“åŠ¨æ§åˆ¶</td><td>æ— </td><td>é€šè¿‡ <code>i</code> å’Œ <code>o</code> æ§åˆ¶è¿åŠ¨èŠ‚å¥</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é™æ€å±æ€§ï¼ˆå¦‚å›ºå®šä½ç½®ã€å›ºå®šè§’åº¦ï¼‰</td><td>éœ€è¦éšæ—¶é—´å˜åŒ–çš„å±æ€§ï¼ˆç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-15"><strong>å…³é”®å¸§æ•°ç»„ç»“æ„è§£æ</strong></h3>
<p>å½“å±æ€§è®¾ç½®ä¸ºåŠ¨ç”»å€¼ï¼ˆ<code>a: 1</code>ï¼‰æ—¶ï¼Œ<code>k</code>Â å­—æ®µä¸å†æ˜¯ä¸€ä¸ªç®€å•å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>å…³é”®å¸§å¯¹è±¡æ•°ç»„</strong>ã€‚æ¯ä¸ªå…³é”®å¸§å¯¹è±¡å®šä¹‰äº†åŠ¨ç”»åœ¨ç‰¹å®šæ—¶é—´ç‚¹çš„çŠ¶æ€ã€‚</p>
<h4 data-id="heading-16"><strong>æ ¸å¿ƒå­—æ®µè¯´æ˜</strong></h4>















































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>å¿…é€‰</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong><code>t</code></strong></td><td><code>number</code></td><td>æ˜¯</td><td><strong>æ—¶é—´ç‚¹ï¼ˆTimeï¼‰</strong>ï¼šè¯¥å…³é”®å¸§åœ¨æ—¶é—´è½´ä¸Šçš„ä½ç½®ï¼Œå•ä½ä¸ºå¸§ã€‚</td></tr><tr><td><strong><code>s</code></strong></td><td><code>array</code></td><td>æ˜¯</td><td><strong>èµ·å§‹å€¼ï¼ˆStart Valueï¼‰</strong>ï¼šè¯¥å…³é”®å¸§çš„å±æ€§å€¼ã€‚å¯¹äºæ—‹è½¬æ˜¯ <code>[è§’åº¦]</code>ï¼Œä½ç½®æ˜¯ <code>[x, y, z]</code>ã€‚</td></tr><tr><td><strong><code>e</code></strong></td><td><code>array</code></td><td>å¦</td><td><strong>ç»“æŸå€¼ï¼ˆEnd Valueï¼‰</strong>ï¼šä»å½“å‰å…³é”®å¸§åˆ°ä¸‹ä¸€å…³é”®å¸§çš„ç›®æ ‡å€¼ã€‚<strong>é€šå¸¸çœç•¥</strong>ï¼Œæ¸²æŸ“å™¨ä¼šè‡ªåŠ¨ä½¿ç”¨ä¸‹ä¸€å…³é”®å¸§çš„ <code>s</code> å€¼ã€‚</td></tr><tr><td><strong><code>i</code></strong></td><td><code>object</code></td><td>å¦</td><td><strong>å…¥ç¼“åŠ¨ï¼ˆIn Tangentï¼‰</strong>ï¼šå®šä¹‰<strong>è¿›å…¥</strong>å½“å‰å…³é”®å¸§æ—¶çš„é€Ÿåº¦å˜åŒ–æ›²çº¿ï¼ˆè´å¡å°”æ§åˆ¶ç‚¹ï¼‰ã€‚</td></tr><tr><td><strong><code>o</code></strong></td><td><code>object</code></td><td>å¦</td><td><strong>å‡ºç¼“åŠ¨ï¼ˆOut Tangentï¼‰</strong>ï¼šå®šä¹‰<strong>ç¦»å¼€</strong>å½“å‰å…³é”®å¸§æ—¶çš„é€Ÿåº¦å˜åŒ–æ›²çº¿ï¼ˆè´å¡å°”æ§åˆ¶ç‚¹ï¼‰ã€‚</td></tr><tr><td><strong><code>h</code></strong></td><td><code>number</code></td><td>å¦</td><td><strong>ä¿æŒå¸§ï¼ˆHoldï¼‰</strong>ï¼šå€¼ä¸º <code>1</code> æ—¶ï¼Œè¡¨ç¤ºè¯¥å…³é”®å¸§åˆ°ä¸‹ä¸€å…³é”®å¸§ä¹‹é—´<strong>ä¸æ’å€¼</strong>ï¼Œä¿æŒå½“å‰å€¼ï¼ˆé˜¶è·ƒåŠ¨ç”»ï¼‰ã€‚</td></tr></tbody></table>
<blockquote>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ol>
<li><strong><code>s</code> çš„æ•°æ®ç±»å‹</strong>ï¼šè™½ç„¶å®˜æ–¹ schema ä¸­å®šä¹‰ä¸º <code>number</code>ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œ<code>s</code> é€šå¸¸æ˜¯<strong>æ•°ç»„</strong>ï¼ˆå¦‚ <code>[0]</code> è¡¨ç¤ºæ—‹è½¬ 0 åº¦ï¼Œ<code>[100, 200, 0]</code> è¡¨ç¤ºä½ç½®ï¼‰ã€‚è¿™æ˜¯ä¸ºäº†ç»Ÿä¸€å¤„ç†å•ç»´å’Œå¤šç»´å±æ€§ã€‚</li>
<li><strong><code>e</code> å­—æ®µçš„å®é™…ä½¿ç”¨</strong>ï¼šåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ<code>e</code> å­—æ®µä¼šè¢«çœç•¥ï¼Œæ¸²æŸ“å™¨ä¼šè‡ªåŠ¨ä»ä¸‹ä¸€ä¸ªå…³é”®å¸§çš„ <code>s</code> å€¼æ¨æ–­ç›®æ ‡å€¼ã€‚åªæœ‰åœ¨éœ€è¦æ˜¾å¼æ§åˆ¶æ’å€¼ç›®æ ‡æ—¶æ‰ä¼šä½¿ç”¨ã€‚</li>
<li><strong>æœ€åä¸€å¸§</strong>ï¼šæœ€åä¸€ä¸ªå…³é”®å¸§é€šå¸¸åªæœ‰ <code>t</code> å’Œ <code>s</code>ï¼Œä¸éœ€è¦ <code>i</code>ã€<code>o</code>ã€<code>e</code>ï¼ˆå› ä¸ºæ²¡æœ‰ä¸‹ä¸€ä¸ªå…³é”®å¸§ï¼‰ã€‚</li>
</ol>
</blockquote>
<h4 data-id="heading-17"><strong>ç¼“åŠ¨æ§åˆ¶ç‚¹çš„ç»“æ„</strong></h4>
<p><code>i</code> å’Œ <code>o</code> å¯¹è±¡å®šä¹‰äº†è´å¡å°”æ›²çº¿çš„æ§åˆ¶ç‚¹ï¼Œç”¨äºæ§åˆ¶åŠ¨ç”»çš„åŠ é€Ÿåº¦ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"i"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.667</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// å…¥ç¼“åŠ¨çš„ X è½´æ§åˆ¶ç‚¹ï¼ˆæ—¶é—´ç»´åº¦ï¼ŒèŒƒå›´ 0-1ï¼‰</span>
    <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span>       <span class="hljs-comment">// å…¥ç¼“åŠ¨çš„ Y è½´æ§åˆ¶ç‚¹ï¼ˆæ•°å€¼ç»´åº¦ï¼Œé€šå¸¸ 0-1ï¼Œä½†å¯è¶…å‡ºï¼‰</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.333</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// å‡ºç¼“åŠ¨çš„ X è½´æ§åˆ¶ç‚¹</span>
    <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span>       <span class="hljs-comment">// å‡ºç¼“åŠ¨çš„ Y è½´æ§åˆ¶ç‚¹</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>x</code> æ•°ç»„</strong>ï¼šæ§åˆ¶<strong>æ—¶é—´è¿›åº¦</strong>çš„å˜åŒ–ç‡ï¼ˆæ°´å¹³æ–¹å‘ï¼‰</li>
<li><strong><code>y</code> æ•°ç»„</strong>ï¼šæ§åˆ¶<strong>æ•°å€¼å˜åŒ–</strong>çš„é€Ÿç‡ï¼ˆå‚ç›´æ–¹å‘ï¼‰</li>
<li><strong>æ•°ç»„é•¿åº¦</strong>ï¼šå¯¹äºå•ç»´å±æ€§ï¼ˆå¦‚æ—‹è½¬ <code>r</code>ï¼‰ï¼Œæ•°ç»„é•¿åº¦ä¸º 1ï¼›å¯¹äºå¤šç»´å±æ€§ï¼ˆå¦‚ä½ç½® <code>p</code>ï¼‰ï¼Œæ•°ç»„é•¿åº¦å¯¹åº”ç»´åº¦æ•°ï¼ˆå¦‚ <code>[0.5, 0.3]</code> è¡¨ç¤º Xã€Y ä¸¤ä¸ªç»´åº¦çš„ç‹¬ç«‹æ§åˆ¶ï¼‰</li>
</ul>
<blockquote>
<p><strong>å‰ç«¯çŸ¥è¯†å…³è”</strong>ï¼š<code>i</code>Â ä¸Â <code>o</code>Â å®šä¹‰çš„è´å¡å°”æ›²çº¿ï¼Œå…¶ä½œç”¨ä¸ CSS ä¸­çš„Â <code>transition-timing-function</code>Â æˆ–Â <code>animation-timing-function</code>Â å®Œå…¨ä¸€è‡´ï¼Œç”¨äºåˆ›é€ éåŒ€é€Ÿçš„åŠ¨ç”»æ•ˆæœã€‚åŒºåˆ«åœ¨äºï¼ŒCSS ä½¿ç”¨ä¸€ä¸ªäºŒç»´çš„Â <code>cubic-bezier(x1, y1, x2, y2)</code>ï¼Œè€Œ Lottie çš„Â <code>i</code>Â å’ŒÂ <code>o</code>Â å…è®¸ä¸ºæ¯ä¸ªå±æ€§ç»´åº¦å•ç‹¬å®šä¹‰æ§åˆ¶ç‚¹ï¼Œæ§åˆ¶æ›´ä¸ºç²¾ç»†ã€‚</p>
<p><strong>å·¥å…·æ¨è</strong>ï¼šå¦‚æœæ‚¨éœ€è¦ç›´è§‚åœ°åˆ›å»ºæˆ–ç†è§£è´å¡å°”æ›²çº¿ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨åœ¨çº¿å·¥å…·Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fcubic-bezier.com%2F" target="_blank" title="https://cubic-bezier.com/" ref="nofollow noopener noreferrer">cubic-bezier.com</a></strong>ã€‚æ‚¨å¯ä»¥åœ¨é‚£é‡Œè°ƒæ•´æ›²çº¿å¹¶è·å–å¯¹åº”çš„Â <code>cubic-bezier()</code>Â å€¼ï¼Œå…¶åŸç†ä¸ Lottie çš„Â <code>i</code>/<code>o</code>Â æ§åˆ¶ç‚¹ç›¸é€šï¼Œæ˜¯ç†è§£å’Œè°ƒè¯•åŠ¨ç”»ç¼“åŠ¨çš„ç»ä½³åŠ©æ‰‹ã€‚</p>
</blockquote>
<h3 data-id="heading-18"><strong>å…³é”®å¸§çš„å·¥ä½œæµç¨‹</strong></h3>
<p>ä»¥ demo ä¸­çš„æ—‹è½¬åŠ¨ç”»ä¸ºä¾‹ï¼Œè®©æˆ‘ä»¬é€æ­¥æ‹†è§£æ¸²æŸ“å™¨å¦‚ä½•å¤„ç†å…³é”®å¸§ï¼š</p>
<h4 data-id="heading-19"><strong>ç¬¬ 1 æ­¥ï¼šè§£æå…³é”®å¸§æ•°ç»„</strong></h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// ç¬¬0å¸§</span>
    <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// æ—‹è½¬è§’åº¦ 0Â°</span>
    <span class="hljs-attr">"i"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.667</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"x"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.333</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"y"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">90</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// ç¬¬90å¸§</span>
    <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">360</span><span class="hljs-punctuation">]</span>     <span class="hljs-comment">// æ—‹è½¬è§’åº¦ 360Â°</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>æ¸²æŸ“å™¨è¯†åˆ«å‡ºï¼š</p>
<ul>
<li>åŠ¨ç”»ä»ç¬¬ 0 å¸§å¼€å§‹ï¼Œåˆ°ç¬¬ 90 å¸§ç»“æŸ</li>
<li>èµ·å§‹è§’åº¦ 0Â°ï¼Œç»“æŸè§’åº¦ 360Â°</li>
<li>éœ€è¦åœ¨è¿™ 90 å¸§ä¹‹é—´è¿›è¡Œæ’å€¼è®¡ç®—</li>
</ul>
<h4 data-id="heading-20"><strong>ç¬¬ 2 æ­¥ï¼šæ’å€¼è®¡ç®—ï¼ˆä»¥ç¬¬ 45 å¸§ä¸ºä¾‹ï¼‰</strong></h4>
<p>å½“æ’­æ”¾åˆ°ç¬¬ 45 å¸§æ—¶ï¼Œæ¸²æŸ“å™¨éœ€è¦è®¡ç®—æ­¤æ—¶çš„æ—‹è½¬è§’åº¦ï¼š</p>
<ol>
<li><strong>è®¡ç®—æ—¶é—´è¿›åº¦</strong>ï¼š<code>progress = (45 - 0) / (90 - 0) = 0.5</code>ï¼ˆå·²å®Œæˆ 50%ï¼‰</li>
<li><strong>åº”ç”¨ç¼“åŠ¨å‡½æ•°</strong>ï¼šæ ¹æ® <code>i</code> å’Œ <code>o</code> çš„è´å¡å°”æ§åˆ¶ç‚¹ï¼Œå°†çº¿æ€§è¿›åº¦ <code>0.5</code> è½¬æ¢ä¸ºç¼“åŠ¨åçš„è¿›åº¦ï¼ˆå‡è®¾ä¸º <code>0.55</code>ï¼‰</li>
<li><strong>è®¡ç®—å±æ€§å€¼</strong>ï¼š<code>angle = 0 + (360 - 0) Ã— 0.55 = 198Â°</code></li>
</ol>
<h4 data-id="heading-21"><strong>ç¬¬ 3 æ­¥ï¼šæ¸²æŸ“å½“å‰å¸§</strong></h4>
<p>æ¸²æŸ“å™¨å°†è®¡ç®—å‡ºçš„ 198Â° åº”ç”¨åˆ°å›¾å±‚çš„æ—‹è½¬å±æ€§ï¼Œå®Œæˆè¯¥å¸§çš„ç»˜åˆ¶ã€‚</p>
<h4 data-id="heading-22"><strong>å…³é”®å¸§çš„è¿ç»­æ€§</strong></h4>
<p>åœ¨å¤šä¸ªå…³é”®å¸§çš„åœºæ™¯ä¸­ï¼Œæ¸²æŸ“å™¨ä¼šï¼š</p>
<ul>
<li><strong>å®šä½å½“å‰åŒºé—´</strong>ï¼šæ‰¾åˆ°å½“å‰æ—¶é—´ç‚¹æ‰€åœ¨çš„å…³é”®å¸§åŒºé—´ï¼ˆå¦‚ç¬¬ 30 å¸§ä½äºç¬¬ 0 å¸§å’Œç¬¬ 90 å¸§ä¹‹é—´ï¼‰</li>
<li><strong>ä½¿ç”¨å¯¹åº”ç¼“åŠ¨</strong>ï¼šåº”ç”¨è¯¥åŒºé—´èµ·å§‹å…³é”®å¸§çš„ <code>o</code>ï¼ˆå‡ºç¼“åŠ¨ï¼‰å’Œç»“æŸå…³é”®å¸§çš„ <code>i</code>ï¼ˆå…¥ç¼“åŠ¨ï¼‰</li>
<li><strong>ç‹¬ç«‹æ’å€¼</strong>ï¼šå¯¹äºå¤šç»´å±æ€§ï¼ˆå¦‚ä½ç½® <code>[x, y, z]</code>ï¼‰ï¼Œæ¯ä¸ªç»´åº¦ç‹¬ç«‹è¿›è¡Œæ’å€¼è®¡ç®—</li>
</ul>
<h3 data-id="heading-23"><strong>æœ¬ç« å°ç»“</strong></h3>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº† Lottie åŠ¨ç”»ç³»ç»Ÿçš„â€œåŠ¨åŠ›æºâ€ï¼š<strong>å…³é”®å¸§ã€æ’å€¼ä¸ç¼“åŠ¨</strong>ã€‚</p>
<ul>
<li><strong>é™æ€ä¸åŠ¨ç”»çš„å¼€å…³</strong>ï¼šé€šè¿‡Â <code>a</code>Â å­—æ®µ (<code>0</code>Â æˆ–Â <code>1</code>) åˆ‡æ¢å±æ€§çš„é™æ€ä¸åŠ¨æ€æ¨¡å¼ï¼Œæ˜¯ç†è§£ Lottie åŠ¨ç”»é€»è¾‘çš„ç¬¬ä¸€è¯¾ã€‚</li>
<li><strong>å…³é”®å¸§å®šä¹‰çŠ¶æ€</strong>ï¼š<code>k</code>Â æ•°ç»„ä¸­çš„æ¯ä¸ªå…³é”®å¸§å¯¹è±¡ï¼Œé€šè¿‡Â <code>t</code>Â (æ—¶é—´) å’ŒÂ <code>s</code>Â (æ•°å€¼) åœ¨æ—¶é—´è½´ä¸Šé”šå®šäº†åŠ¨ç”»çš„å„ä¸ªâ€œå…³é”®æ—¶åˆ»â€ã€‚</li>
<li><strong>ç¼“åŠ¨èµ‹äºˆçµé­‚</strong>ï¼š<code>i</code>Â (å…¥ç¼“åŠ¨) ä¸Â <code>o</code>Â (å‡ºç¼“åŠ¨) æ‰€å®šä¹‰çš„è´å¡å°”æ›²çº¿ï¼Œæ§åˆ¶äº†æ•°å€¼å˜åŒ–çš„é€Ÿç‡ä¸èŠ‚å¥ï¼Œæ˜¯è®©åŠ¨ç”»æ‘†è„±æœºæ¢°æ„Ÿã€è·å¾—ç”Ÿå‘½åŠ›çš„å…³é”®ã€‚</li>
<li><strong>æ¸²æŸ“å™¨æ‰§è¡Œæ’å€¼</strong>ï¼šåœ¨å…³é”®å¸§ä¹‹é—´ï¼ŒLottie æ¸²æŸ“å™¨ä¼šä¾æ®ç¼“åŠ¨æ›²çº¿ï¼Œä¸ºæ¯ä¸€å¸§<strong>å®æ—¶è®¡ç®—</strong>å‡ºç²¾ç¡®çš„å±æ€§å€¼ï¼Œä»è€Œåˆ›é€ å‡ºå¹³æ»‘çš„åŠ¨ç”»æ•ˆæœã€‚</li>
</ul>
<p>æ‚¨å·²ç»äº†è§£äº†ä»å®šä¹‰åˆ°æ¸²æŸ“çš„å®Œæ•´é“¾æ¡ã€‚å…³äº<strong>è´å¡å°”æ›²çº¿çš„æ•°å­¦åŸç†</strong>ã€<strong>å¤šç»´å±æ€§çš„ç‹¬ç«‹æ’å€¼ç­–ç•¥</strong>ä»¥åŠæ›´å¤æ‚çš„<strong>è¡¨è¾¾å¼åŠ¨ç”»</strong>ï¼Œéƒ½å±äºæ›´æ·±å…¥çš„è¯é¢˜ã€‚æŒæ¡äº†æœ¬ç« çš„æ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼Œæ‚¨å·²ç»å…·å¤‡äº†è‡ªè¡Œè§£æç»å¤§å¤šæ•° Lottie åŠ¨ç”»ã€å¹¶ç†è§£å…¶è¿åŠ¨é€»è¾‘çš„èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-24"><strong>äº”ã€å½¢çŠ¶ç³»ç»Ÿ - çŸ¢é‡å›¾å½¢</strong></h2>
<p>åœ¨ Lottie çš„å…­ç§åŸºç¡€å›¾å±‚ä¸­ï¼Œ<strong>å½¢çŠ¶å›¾å±‚ï¼ˆShape Layerï¼Œ<code>ty: 4</code>ï¼‰</strong> Â å æ®ç€ç‹¬ç‰¹è€Œæ ¸å¿ƒçš„åœ°ä½ã€‚å…¶ä»–å›¾å±‚ç±»å‹â€”â€”å¦‚ç©ºå¯¹è±¡å›¾å±‚ï¼ˆç”¨äºæ§åˆ¶ï¼‰ã€é¢„åˆæˆå›¾å±‚ï¼ˆç”¨äºåµŒå¥—ï¼‰ã€å›¾åƒå›¾å±‚ï¼ˆé™æ€ä½å›¾ï¼‰å’Œæ–‡æœ¬å›¾å±‚ï¼ˆå­—å½¢åŠ¨ç”»ï¼‰â€”â€”è™½ç„¶åœ¨ç‰¹å®šåœºæ™¯ä¸‹ä¸å¯æˆ–ç¼ºï¼Œä½†å®ƒä»¬åœ¨æ•°æ®ç»“æ„å’ŒåŠ¨ç”»èƒ½åŠ›ä¸Šç›¸å¯¹ç®€å•ã€‚</p>
<p>å½¢çŠ¶å›¾å±‚ï¼ˆ<code>ty: 4</code>ï¼‰æ˜¯ Lottie å®ç°å¤æ‚çŸ¢é‡åŠ¨ç”»çš„æ ¸å¿ƒã€‚ä¸å…¶ä»–å›¾å±‚ç±»å‹ç›¸æ¯”ï¼Œå®ƒæ‹¥æœ‰æœ€ä¸°å¯Œçš„ä¸“æœ‰å±æ€§å’Œæœ€å¼ºçš„åŠ¨ç”»è¡¨ç°åŠ›ã€‚</p>
<h3 data-id="heading-25"><strong>å½¢çŠ¶å›¾å±‚çš„ç»“æ„ï¼š<code>ty: 4</code>Â ä¸Â <code>shapes</code>Â æ•°ç»„</strong></h3>
<p>å½“ä¸€ä¸ªå›¾å±‚çš„Â <code>ty</code>Â å€¼ä¸ºÂ <code>4</code>Â æ—¶ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå½¢çŠ¶å›¾å±‚ã€‚å…¶æ ¸å¿ƒæ•°æ®å®¹å™¨æ˜¯Â <strong><code>shapes</code></strong>Â æ•°ç»„ï¼ˆåœ¨æ—©æœŸçš„ Lottie ç‰ˆæœ¬ä¸­å¯èƒ½æ ‡è®°ä¸ºÂ <code>it</code>ï¼‰ã€‚è¯¥æ•°ç»„æ˜¯ä¸€ä¸ª<strong>æœ‰åºçš„åˆ—è¡¨</strong>ï¼Œå®šä¹‰äº†æ„æˆæœ€ç»ˆçŸ¢é‡å›¾å½¢çš„æ‰€æœ‰åŸºç¡€å…ƒç´ ï¼Œä¾‹å¦‚è·¯å¾„ã€æè¾¹ã€å¡«å……ç­‰ã€‚</p>
<ul>
<li><strong>æœ‰åºæ¸²æŸ“ä¸å åŠ </strong>ï¼š<code>shapes</code>Â æ•°ç»„ä¸­çš„å…ƒç´ ä¸¥æ ¼éµå¾ª<strong>æ•°ç»„ç´¢å¼•é¡ºåºï¼ˆä»Â <code>0</code>Â åˆ°Â <code>n-1</code>ï¼‰è¿›è¡Œæ¸²æŸ“</strong>ã€‚åœ¨è§†è§‰ä¸Šï¼Œè¿™æ„å‘³ç€<strong>ç´¢å¼•å€¼æ›´å¤§çš„å…ƒç´ ï¼ˆåæ¸²æŸ“ï¼‰ä¼šå åŠ åœ¨ç´¢å¼•å€¼æ›´å°çš„å…ƒç´ ï¼ˆå…ˆæ¸²æŸ“ï¼‰ä¹‹ä¸Š</strong>ã€‚ä¾‹å¦‚ï¼Œ<code>shapes[2]</code>Â ä¼šè¦†ç›–åœ¨Â <code>shapes[0]</code>Â å’ŒÂ <code>shapes[1]</code>Â ä¹‹ä¸Šã€‚è¿™ä¸€è§„åˆ™æ˜¯ç»„ç»‡å¤æ‚å›¾å½¢å±‚çº§çš„åŸºç¡€ã€‚</li>
<li><strong>å…ƒç´ ç±»å‹</strong>ï¼šæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œå¹¶é€šè¿‡Â <code>ty</code>Â å­—æ®µæ¥å£°æ˜è‡ªå·±çš„ç±»å‹ï¼ˆå¦‚Â <code>gr</code>Â è¡¨ç¤ºç»„ï¼Œ<code>sh</code>Â è¡¨ç¤ºè·¯å¾„ç­‰ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-26"><strong>å››ç§åŸºç¡€å½¢çŠ¶ç±»å‹é€Ÿè§ˆ</strong></h3>
<p><code>shapes</code>Â æ•°ç»„ä¸­å¯ä»¥åŒ…å«å¤šç§å›¾å½¢å…ƒç´ ï¼Œå…¶ä¸­åŸºç¡€å½¢çŠ¶ä¸»è¦æœ‰ä»¥ä¸‹å››ç§ï¼š</p>



































<table><thead><tr><th>ç±»å‹æ ‡è¯† (<code>ty</code>)</th><th>åç§°</th><th>æè¿°</th><th>æ ¸å¿ƒåŠ¨ç”»å±æ€§</th></tr></thead><tbody><tr><td><strong><code>rc</code></strong></td><td><strong>çŸ©å½¢</strong></td><td>å®šä¹‰çŸ©å½¢æˆ–åœ†è§’çŸ©å½¢ã€‚</td><td><code>p</code>Â (ä½ç½®),Â <code>s</code>Â (å°ºå¯¸),Â <code>r</code>Â (åœ†è§’åŠå¾„)</td></tr><tr><td><strong><code>el</code></strong></td><td><strong>æ¤­åœ†</strong></td><td>å®šä¹‰åœ†å½¢æˆ–æ¤­åœ†å½¢ã€‚</td><td><code>p</code>Â (ä¸­å¿ƒç‚¹),Â <code>s</code>Â (åŠå¾„/å°ºå¯¸)</td></tr><tr><td><strong><code>sr</code></strong></td><td><strong>æ˜Ÿå½¢/å¤šè¾¹å½¢</strong></td><td>å®šä¹‰æ˜Ÿå½¢æˆ–å¤šè¾¹å½¢ï¼Œå¯æ§åˆ¶è§’æ•°ã€å†…å¤–å¾„ç­‰ã€‚</td><td><code>p</code>Â (ä¸­å¿ƒç‚¹),Â <code>ir</code>/<code>or</code>Â (å†…/å¤–åŠå¾„),Â <code>pt</code>Â (è§’æ•°)</td></tr><tr><td><strong><code>sh</code></strong></td><td><strong>è‡ªç”±è·¯å¾„</strong></td><td>ç”±è´å¡å°”æ›²çº¿æ„æˆçš„ä»»æ„å½¢çŠ¶è·¯å¾„ï¼Œæ˜¯çŸ¢é‡å›¾å½¢çš„åŸºç¡€ã€‚</td><td><code>ks</code>Â (è·¯å¾„æ•°æ®ï¼ŒåŒ…å«é¡¶ç‚¹ä¸è´å¡å°”æ§åˆ¶ç‚¹)</td></tr></tbody></table>
<blockquote>
<p><strong>è¯´æ˜</strong>ï¼š<code>rc</code>,Â <code>el</code>,Â <code>sr</code>Â æœ¬è´¨ä¸Šæ˜¯å‚æ•°åŒ–å½¢çŠ¶ï¼Œå®ƒä»¬ä¼šåœ¨å¯¼å‡ºæ—¶è¢«è½¬æ¢ä¸ºæœ€ç»ˆçš„Â <code>sh</code>ï¼ˆè·¯å¾„ï¼‰æ•°æ®ã€‚ä½†åœ¨ JSON ä¸­ï¼Œå®ƒä»¬ä½œä¸ºé€»è¾‘å…ƒç´ å­˜åœ¨ï¼Œä¾¿äºç†è§£å’Œç¼–è¾‘ã€‚</p>
</blockquote>
<h3 data-id="heading-27"><strong>è‡ªç”±è·¯å¾„çš„æ ¸å¿ƒï¼šé¡¶ç‚¹ä¸è´å¡å°”æ§åˆ¶ç‚¹</strong></h3>
<p>è‡ªç”±è·¯å¾„ï¼ˆ<code>ty: â€˜shâ€˜</code>ï¼‰æ˜¯æœ€åŸºç¡€ã€æœ€çµæ´»çš„å½¢çŠ¶å…ƒç´ ã€‚å…¶æ ¸å¿ƒæ•°æ®å­˜å‚¨åœ¨Â <code>ks</code>Â å±æ€§ä¸­ï¼Œå®ƒå®šä¹‰äº†ä¸€ç³»åˆ—<strong>é¡¶ç‚¹ï¼ˆVertexï¼‰</strong> Â ä»¥åŠè¿æ¥è¿™äº›é¡¶ç‚¹çš„<strong>è´å¡å°”æ›²çº¿</strong>ã€‚</p>
<p>ä¸€ä¸ªè·¯å¾„çš„å…³é”®å¸§æ•°æ®é€šå¸¸åŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  â€œaâ€<span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è¡¨ç¤ºè·¯å¾„æ•°æ®æ˜¯åŠ¨ç”»çš„</span>
  â€œkâ€<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    â€œiâ€<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å…¥æ§åˆ¶ç‚¹ (In Tangent)</span>
    â€œoâ€<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å‡ºæ§åˆ¶ç‚¹ (Out Tangent)</span>
    â€œvâ€<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">50</span><span class="hljs-punctuation">,</span> <span class="hljs-number">50</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é¡¶ç‚¹ (Vertex)</span>
    â€œcâ€<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-comment">// è·¯å¾„æ˜¯å¦é—­åˆ (Closed)</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>v</code>Â (é¡¶ç‚¹)</strong> ï¼šä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå®šä¹‰äº†è·¯å¾„åœ¨ç©ºé—´ä¸­ç»è¿‡çš„å…³é”®ç‚¹åæ ‡Â <code>[x, y]</code>ã€‚</li>
<li><strong><code>i</code>Â (å…¥æ§åˆ¶ç‚¹)</strong> ï¼šå®šä¹‰æ›²çº¿<strong>è¿›å…¥</strong>å½“å‰é¡¶ç‚¹æ—¶çš„æ–¹å‘ä¸å¼ åŠ›ã€‚</li>
<li><strong><code>o</code>Â (å‡ºæ§åˆ¶ç‚¹)</strong> ï¼šå®šä¹‰æ›²çº¿<strong>ç¦»å¼€</strong>å½“å‰é¡¶ç‚¹æ—¶çš„æ–¹å‘ä¸å¼ åŠ›ã€‚</li>
<li><strong><code>c</code>Â (é—­åˆ)</strong> ï¼šå¸ƒå°”å€¼ï¼Œ<code>true</code>Â è¡¨ç¤ºè·¯å¾„çš„é¦–å°¾é¡¶ç‚¹åº”è¿æ¥ï¼Œå½¢æˆå°é—­å›¾å½¢ã€‚</li>
</ul>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š<code>v</code>Â å®šä¹‰äº†â€œéª¨æ¶â€ï¼Œ<code>i</code>Â å’ŒÂ <code>o</code>Â åˆ™å®šä¹‰äº†è¿æ¥éª¨æ¶çš„â€œè‚Œè‚‰â€æ›²çº¿ã€‚é€šè¿‡ä¸ºè¿™äº›æ•°æ®æ·»åŠ å…³é”®å¸§ï¼Œå³å¯å®ç°è·¯å¾„çš„å½¢å˜ã€ç»˜åˆ¶ç­‰å¤æ‚åŠ¨ç”»ã€‚</p>
<blockquote>
<p><strong>çŸ¥è¯†å…³è”ï¼šä¸¤ç§è´å¡å°”æ›²çº¿</strong><br/>
æ‚¨å¯èƒ½å·²ç»å‘ç°ï¼Œè¿™é‡Œçš„Â <code>i</code>Â å’ŒÂ <code>o</code>Â ä¸ç¬¬å››ç« <strong>å…³é”®å¸§ç¼“åŠ¨</strong>ä¸­çš„Â <code>i</code>Â å’ŒÂ <code>o</code>Â å­—æ®µåŒåï¼Œä¸”éƒ½ä»£è¡¨è´å¡å°”æ›²çº¿çš„æ§åˆ¶ç‚¹ã€‚è¿™æ˜¯ Lottie ä¸­è´å¡å°”æ›²çº¿çš„ä¸¤ç§æ ¸å¿ƒåº”ç”¨ï¼š</p>






























<table><thead><tr><th>ç»´åº¦</th><th><strong>ç©ºé—´è´å¡å°”æ›²çº¿ (æœ¬ç« )</strong></th><th><strong>æ—¶é—´è´å¡å°”æ›²çº¿ (ç¬¬å››ç« )</strong></th></tr></thead><tbody><tr><td><strong>ä½œç”¨</strong></td><td>å®šä¹‰<strong>ç©ºé—´ä¸­</strong>çš„å›¾å½¢<strong>å½¢çŠ¶</strong>ã€‚</td><td>å®šä¹‰<strong>æ—¶é—´ä¸Š</strong>çš„å±æ€§<strong>å˜åŒ–é€Ÿç‡</strong>ï¼ˆç¼“åŠ¨ï¼‰ã€‚</td></tr><tr><td><strong>æ§åˆ¶ç‚¹ (<code>i</code>/<code>o</code>)</strong></td><td>æ§åˆ¶é¡¶ç‚¹å¤„æ›²çº¿çš„<strong>æ–¹å‘ä¸æ›²ç‡</strong>ï¼Œå†³å®šè·¯å¾„å½¢æ€ã€‚</td><td>æ§åˆ¶å…³é”®å¸§å¤„åŠ¨ç”»<strong>é€Ÿåº¦çš„å¿«æ…¢</strong>ï¼Œå†³å®šè¿åŠ¨èŠ‚å¥ã€‚</td></tr><tr><td><strong>åæ ‡ç©ºé—´</strong></td><td>ä½äºç”»å¸ƒçš„<strong>äºŒç»´/ä¸‰ç»´ç©ºé—´</strong>Â (å¦‚Â <code>[x, y]</code>)ã€‚</td><td>ä½äº<strong>æ—¶é—´-è¿›åº¦äºŒç»´ç©ºé—´</strong>ï¼ŒXè½´æ˜¯æ—¶é—´(0-1)ï¼ŒYè½´æ˜¯è¿›åº¦(0-1)ã€‚</td></tr><tr><td><strong>ç›´è§‚æ„Ÿå—</strong></td><td>æ‹–æ‹½æ§åˆ¶æŸ„ï¼Œæ”¹å˜çš„æ˜¯<strong>çº¿çš„å¼¯æ›²ç¨‹åº¦</strong>ã€‚</td><td>æ‹–æ‹½æ§åˆ¶æŸ„ï¼Œæ”¹å˜çš„æ˜¯<strong>åŠ¨ç”»çš„å…ˆå¿«åæ…¢</strong>ã€‚</td></tr></tbody></table>
<p><strong>åº•å±‚ä¸€è‡´æ€§</strong>ï¼šå°½ç®¡åº”ç”¨ä¸åŒï¼Œä½†ä¸¤è€…éƒ½åŸºäº<strong>ä¸‰æ¬¡è´å¡å°”æ›²çº¿</strong>çš„æ•°å­¦æ¨¡å‹ã€‚ç†è§£è¿™ä¸€ç‚¹åï¼Œæ— è®ºæ˜¯è°ƒæ•´è·¯å¾„å¹³æ»‘åº¦è¿˜æ˜¯åŠ¨ç”»ç¼“åŠ¨ï¼Œæ‚¨æ“ä½œçš„éƒ½æ˜¯åŒä¸€ç§â€œæ§åˆ¶ç‚¹â€é€»è¾‘ã€‚è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä½•å¯è§†åŒ–å·¥å…·Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fcubic-bezier.com%2F" target="_blank" title="https://cubic-bezier.com/" ref="nofollow noopener noreferrer">cubic-bezier.com</a></strong>Â å¯¹ç†è§£ä¸¤è€…éƒ½æœ‰å¸®åŠ©ï¼šè™½ç„¶å®ƒä¸»è¦ç”¨äºç¼“åŠ¨ï¼ˆæ—¶é—´ï¼‰ï¼Œä½†å…¶å¯¹æ›²çº¿å½¢æ€çš„ç›´è§‚å±•ç¤ºï¼ŒåŒæ ·æœ‰åŠ©äºæ‚¨æƒ³è±¡ç©ºé—´è·¯å¾„ä¸­æ§åˆ¶ç‚¹å¯¹å½¢çŠ¶çš„å½±å“ã€‚</p>
</blockquote>
<h3 data-id="heading-28"><strong>å½¢çŠ¶ç»„ï¼ˆ<code>gr</code>ï¼‰ï¼šåµŒå¥—ä¸ç»„ç»‡</strong></h3>
<p>ä¸ºäº†ç®¡ç†å¤æ‚çš„å›¾å½¢ï¼ŒLottie å¼•å…¥äº†Â <strong>å½¢çŠ¶ç»„ï¼ˆ<code>ty: â€˜grâ€˜</code>ï¼‰</strong> ã€‚ç»„å¯ä»¥å°†å¤šä¸ªå½¢çŠ¶å…ƒç´ ï¼ˆåŒ…æ‹¬å…¶ä»–ç»„ï¼‰æ‰“åŒ…ä¸ºä¸€ä¸ªé€»è¾‘æ•´ä½“ã€‚</p>
<ul>
<li>
<p><strong><code>it</code>Â æ•°ç»„</strong>ï¼šç»„çš„æ ¸å¿ƒå±æ€§ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºåŒ…å«å…¶å­å…ƒç´ ï¼ˆå¦‚è·¯å¾„ã€å¡«å……ã€æè¾¹æˆ–å…¶ä»–ç»„ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä½œç”¨</strong>ï¼š</p>
<ol>
<li><strong>å±‚æ¬¡åŒ–ç®¡ç†</strong>ï¼šåƒæ–‡ä»¶å¤¹ä¸€æ ·ç»„ç»‡å›¾å½¢ï¼Œä½¿ç»“æ„æ¸…æ™°ã€‚</li>
<li><strong>ç»Ÿä¸€å˜æ¢</strong>ï¼šç»„å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„Â <code>ks</code>ï¼ˆå˜æ¢ï¼‰å±æ€§ã€‚å¯¹è¯¥ç»„åº”ç”¨çš„å˜æ¢ï¼ˆå¦‚ç§»åŠ¨ã€ç¼©æ”¾ï¼‰ä¼šåŒæ—¶å½±å“å…¶å†…éƒ¨æ‰€æœ‰å­å…ƒç´ ã€‚</li>
<li><strong>åŠ¨ç”»å¤ç”¨</strong>ï¼šé€šè¿‡æ§åˆ¶ç»„çš„å˜æ¢ï¼Œå¯ä»¥è½»æ¾å®ç°æ•´ä¸ªå›¾å½¢æ¨¡å—çš„åŠ¨ç”»ã€‚</li>
</ol>
</li>
</ul>
<hr/>
<h2 data-id="heading-29"><strong>å…­ã€å½¢çŠ¶æ ·å¼ - å¡«å……ä¸æè¾¹</strong></h2>
<p>åœ¨ä¸Šä¸€ç« ä¸­ï¼Œæˆ‘ä»¬æ¢ç´¢äº†å½¢çŠ¶å›¾å±‚å¦‚ä½•é€šè¿‡è·¯å¾„ã€æ¤­åœ†ã€çŸ©å½¢ç­‰å…ƒç´ å®šä¹‰å›¾å½¢çš„<strong>å‡ ä½•éª¨æ¶</strong>ã€‚ç„¶è€Œï¼Œåªæœ‰å‡ ä½•å½¢çŠ¶æ˜¯â€œä¸å¯è§â€çš„ã€‚è¦è®©å›¾å½¢çœŸæ­£è¢«æ¸²æŸ“å‡ºæ¥ï¼Œå°±éœ€è¦ä¸ºå…¶èµ‹äºˆ<strong>æ ·å¼</strong>ã€‚</p>
<p>æœ¬ç« å°†ä»‹ç»å½¢çŠ¶ç³»ç»Ÿä¸­è´Ÿè´£è§†è§‰å‘ˆç°çš„ä¸¤å¤§æ ¸å¿ƒæ ·å¼å…ƒç´ ï¼š<strong>å¡«å……ï¼ˆFillï¼‰</strong> Â ä¸<strong>æè¾¹ï¼ˆStrokeï¼‰</strong> ã€‚å®ƒä»¬ä¸ºå½¢çŠ¶çš„<strong>å†…éƒ¨</strong>å’Œ<strong>è½®å»“</strong>æä¾›é¢œè‰²ã€æ¸å˜å’Œä¸é€æ˜åº¦ç­‰è§†è§‰æ•ˆæœï¼Œæ˜¯çŸ¢é‡å›¾å½¢ä»â€œçº¿æ¡†â€å˜ä¸ºâ€œç”»é¢â€çš„å…³é”®ã€‚</p>
<h3 data-id="heading-30"><strong>6.1 æ ·å¼çš„ä½œç”¨ï¼šè®©å½¢çŠ¶å¯è§</strong></h3>
<p>åœ¨Â <code>shapes</code>Â æ•°ç»„ä¸­ï¼Œæ ·å¼å…ƒç´ ï¼ˆå¦‚Â <code>fl</code>ã€<code>st</code>ï¼‰ä¸å½¢çŠ¶å…ƒç´ ï¼ˆå¦‚Â <code>sh</code>ã€<code>el</code>ï¼‰åœ°ä½å¹³ç­‰ï¼Œé€šè¿‡<strong>æ¸²æŸ“é¡ºåº</strong>ç›¸äº’ç»“åˆã€‚</p>
<ul>
<li><strong>å †å è§„åˆ™</strong>ï¼š<code>it</code>Â æ•°ç»„ä¸­çš„å…ƒç´ <strong>æŒ‰ç´¢å¼•é¡ºåºä¾æ¬¡ç»˜åˆ¶</strong>ã€‚è¿™æ„å‘³ç€ç´¢å¼•æ›´å¤§çš„å…ƒç´ ï¼ˆåç»˜åˆ¶çš„ï¼‰ä¼šå åŠ åœ¨ç´¢å¼•æ›´å°çš„å…ƒç´ ï¼ˆå…ˆç»˜åˆ¶çš„ï¼‰ä¹‹ä¸Šã€‚åœ¨å›¾å½¢æ„å»ºä¸­ï¼Œé€šå¸¸å…ˆå®šä¹‰"å½¢çŠ¶"å…ƒç´ ï¼ˆå¦‚Â <code>el</code>,Â <code>sh</code>ï¼‰ï¼Œå†å®šä¹‰ä¸ºå…¶ç€è‰²çš„"æ ·å¼"å…ƒç´ ï¼ˆå¦‚Â <code>fl</code>,Â <code>st</code>ï¼‰ã€‚</li>
<li><strong>ç‹¬ç«‹æ€§ä¸ç»„åˆæ€§</strong>ï¼šæ ·å¼å…ƒç´ æ˜¯ç‹¬ç«‹çš„ï¼Œå¯ä»¥è‡ªç”±ç»„åˆã€‚ä¸€ä¸ªå½¢çŠ¶å¯ä»¥åŒæ—¶æ‹¥æœ‰å¡«å……å’Œæè¾¹ï¼Œä¹Ÿå¯ä»¥åªæœ‰å…¶ä¸­ä¸€ç§ã€‚å®ƒä»¬å…±åŒé™„ç€äºå…¶ä¸Šæ–¹æœ€è¿‘ä¸”æœªé—­åˆçš„å›¾å½¢å…ƒç´ æˆ–ç»„ã€‚</li>
</ul>
<h3 data-id="heading-31"><strong>å¡«å……ï¼ˆFillï¼‰ï¼šçº¯è‰²ä¸æ¸å˜</strong></h3>
<p>å¡«å……ç”¨äºä¸ºå½¢çŠ¶çš„å†…éƒ¨åŒºåŸŸç€è‰²ã€‚Lottie æ”¯æŒä¸¤ç§å¡«å……ç±»å‹ã€‚</p>
<h4 data-id="heading-32"><strong>çº¯è‰²å¡«å……ï¼ˆ<code>ty</code>: 'fl'ï¼‰</strong></h4>
<p>è¿™æ˜¯æœ€åŸºç¡€çš„å¡«å……ç±»å‹ï¼Œä½¿ç”¨å•ä¸€é¢œè‰²ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fl"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šFill (çº¯è‰²å¡«å……)</span>
  <span class="hljs-attr">"c"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>      <span class="hljs-comment">// Color (é¢œè‰²)</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0.2</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0.6</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// RGBA æ•°ç»„ï¼Œå€¼èŒƒå›´ 0-1</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span> <span class="hljs-comment">// Opacity (ä¸é€æ˜åº¦)</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-33"><strong>æ¸å˜å¡«å……ï¼ˆ<code>ty</code>: 'gf'ï¼‰</strong></h4>
<p>Lottie æ”¯æŒçº¿æ€§æ¸å˜å’Œå¾„å‘æ¸å˜ï¼Œä¸ºå¡«å……å¸¦æ¥ä¸°å¯Œçš„è‰²å½©è¿‡æ¸¡ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gf"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šGradient Fill (æ¸å˜å¡«å……)</span>
  <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// æ¸å˜ç±»å‹ï¼š1-çº¿æ€§ï¼Œ2-å¾„å‘</span>
  <span class="hljs-attr">"g"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"p"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0.2</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0.6</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// èµ·ç‚¹ (çº¿æ€§) / èµ·å§‹ç‚¹ (å¾„å‘)</span>
  <span class="hljs-attr">"e"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span>  <span class="hljs-comment">// ç»ˆç‚¹ (çº¿æ€§) / ç»“æŸç‚¹ (å¾„å‘)</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>g</code>Â å¯¹è±¡</strong>ï¼šæ˜¯æ¸å˜çš„æ ¸å¿ƒã€‚<code>p</code>Â å®šä¹‰è‰²æ ‡æ•°é‡ï¼Œ<code>k</code>Â æ˜¯ä¸€ä¸ªæ‰å¹³çš„æ•°ç»„ï¼Œæ¯ 5 ä¸ªæ•°å­—ä¸ºä¸€ç»„ï¼Œè¡¨ç¤ºä¸€ä¸ªè‰²æ ‡çš„Â <code>[ä½ç½®, R, G, B, A]</code>ã€‚æ‰€æœ‰è‰²æ ‡æ•°æ®æŒ‰é¡ºåºè¿æ¥ã€‚</li>
</ul>
<h3 data-id="heading-34"><strong>æè¾¹ï¼ˆStrokeï¼‰ï¼šè½®å»“ä¸æ ·å¼</strong></h3>
<p>æè¾¹ç”¨äºç»˜åˆ¶å½¢çŠ¶çš„è½®å»“çº¿ã€‚å®ƒæ‹¥æœ‰æ¯”å¡«å……æ›´ä¸°å¯Œçš„å±æ€§æ¥æ§åˆ¶çº¿æ¡çš„è§†è§‰è¡¨ç°ã€‚</p>
<h4 data-id="heading-35"><strong>çº¯è‰²æè¾¹ï¼ˆ<code>ty</code>: 'st'ï¼‰</strong></h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"st"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šStroke (æè¾¹)</span>
  <span class="hljs-attr">"c"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é¢œè‰²ï¼ŒåŒå¡«å……</span>
  <span class="hljs-attr">"w"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>      <span class="hljs-comment">// Width (çº¿å®½)</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span>    <span class="hljs-comment">// çº¿å®½ä¸º5åƒç´ </span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"lc"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// Line Cap (çº¿å¸½): 1-å¹³å¤´, 2-åœ†å¤´, 3-æ–¹å¤´</span>
  <span class="hljs-attr">"lj"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// Line Join (è¿æ¥): 1-æ–œæ¥, 2-åœ†è§’, 3-æ–œé¢</span>
  <span class="hljs-attr">"ml"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// Miter Limit (æ–œæ¥é™åˆ¶)</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span> <span class="hljs-comment">// ä¸é€æ˜åº¦</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>w</code>Â (Width)</strong> ï¼šæè¾¹çš„ç²—ç»†ï¼Œæ”¯æŒåŠ¨ç”»ã€‚</li>
<li><strong><code>lc</code>Â (Line Cap)</strong> ï¼šå®šä¹‰çº¿æ®µç«¯ç‚¹çš„æ ·å¼ã€‚</li>
<li><strong><code>lj</code>Â (Line Join)</strong> ï¼šå®šä¹‰çº¿æ®µè½¬æŠ˜å¤„çš„è¿æ¥æ ·å¼ã€‚</li>
<li><strong><code>ml</code>Â (Miter Limit)</strong> ï¼šå½“Â <code>lj</code>Â ä¸º 1 (æ–œæ¥) æ—¶ï¼Œæ§åˆ¶æ–œæ¥é•¿åº¦ä¸çº¿å®½çš„æ¯”ä¾‹ä¸Šé™ï¼Œé˜²æ­¢å°–è§’è¿‡é•¿ã€‚</li>
</ul>
<h4 data-id="heading-36"><strong>æ¸å˜æè¾¹ï¼ˆ<code>ty</code>: 'gs'ï¼‰</strong></h4>
<p>æ¸å˜æè¾¹çš„æ•°æ®ç»“æ„ä¸æ¸å˜å¡«å…… (<code>gf</code>) é«˜åº¦ç›¸ä¼¼ï¼ŒåŒ…å«Â <code>t</code>Â (ç±»å‹)ã€<code>g</code>Â (æ¸å˜æ•°æ®) ç­‰å±æ€§ï¼ŒåŒºåˆ«åœ¨äºå®ƒåº”ç”¨äºè½®å»“çº¿è€Œéå¡«å……åŒºåŸŸã€‚</p>
<h3 data-id="heading-37"><strong>æ ·å¼çš„é€šç”¨å±æ€§</strong></h3>
<p>å¡«å……å’Œæè¾¹å…±äº«ä¸€äº›æ§åˆ¶å…¶æœ€ç»ˆå‘ˆç°æ•ˆæœçš„é€šç”¨å±æ€§ï¼š</p>




















<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong><code>o</code></strong></td><td><code>object</code></td><td><strong>ä¸é€æ˜åº¦ (Opacity)</strong> ã€‚é€šè¿‡Â <code>a</code>Â å’ŒÂ <code>k</code>Â æ§åˆ¶ï¼Œ<strong>å€¼èŒƒå›´ä¸º 0 åˆ° 100</strong>ï¼ˆ100 ä¸ºå®Œå…¨ä¸é€æ˜ï¼‰ã€‚è¿™ä¸ CSS ä¸­ 0-1 çš„èŒƒå›´ä¸åŒï¼Œè¯·æ³¨æ„åŒºåˆ†ã€‚</td></tr><tr><td><strong><code>bm</code></strong></td><td><code>number</code></td><td><strong>æ··åˆæ¨¡å¼ (Blend Mode)</strong> ã€‚å®šä¹‰å½“å‰æ ·å¼å¦‚ä½•ä¸ä¸‹æ–¹å·²æœ‰çš„åƒç´ è¿›è¡Œæ··åˆã€‚å¸¸è§å€¼ï¼š<code>0</code>Â (æ­£å¸¸)ã€<code>1</code>Â (ç›¸ä¹˜)ã€<code>2</code>Â (å±å¹•) ç­‰ï¼Œå¯¹åº” After Effects ä¸­çš„æ··åˆæ¨¡å¼ã€‚</td></tr></tbody></table>
<h3 data-id="heading-38">ğŸ¨å°è¯•ç‰›åˆ€ï¼šç”»ä¸ªåœ†</h3>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç»¼åˆè¿ç”¨ä»¥ä¸Šæ¦‚å¿µï¼Œåˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„å½¢çŠ¶ï¼š<strong>ä¸€ä¸ªè“è‰²çš„å®å¿ƒåœ†</strong>ã€‚æˆ‘ä»¬å°†é€šè¿‡ JSON é…ç½®ï¼Œæ¸…æ™°åœ°å±•ç¤ºå½¢çŠ¶å›¾å±‚çš„Â <code>shapes</code>Â æ•°ç»„æ˜¯å¦‚ä½•ç»„ç»‡èµ·æ¥çš„ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5733db6d3a25461f92ca58eb48742101~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOo5Y2r5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876452&amp;x-signature=atYsH7mr0D%2BItQkxiTEoGqbKwpk%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯å®ç°è¯¥åœ†å½¢çš„<strong>ç²¾ç®€ç‰ˆ JSON é…ç½®</strong>ï¼Œæˆ‘ä»¬çœç•¥äº†å‰é¢ç« èŠ‚å·²è¯¦ç»†è®²è§£çš„é€šç”¨å›¾å±‚å±æ€§ï¼ˆå¦‚Â <code>ks</code>Â å˜æ¢ï¼‰ï¼Œå°†ç„¦ç‚¹å®Œå…¨æ”¾åœ¨å½¢çŠ¶å›¾å±‚ç‰¹æœ‰çš„Â <code>shapes</code>Â æ•°ç»„ä¸Šï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-string">"v"</span>: <span class="hljs-string">"5.7.4"</span>,
  <span class="hljs-string">"fr"</span>: <span class="hljs-number">30</span>,
  <span class="hljs-string">"ip"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"op"</span>: <span class="hljs-number">90</span>,
  <span class="hljs-string">"w"</span>: <span class="hljs-number">800</span>,
  <span class="hljs-string">"h"</span>: <span class="hljs-number">600</span>,
  <span class="hljs-string">"layers"</span>: [
    {
      <span class="hljs-string">"ty"</span>: <span class="hljs-number">4</span>, <span class="hljs-comment">// â­ï¸ æ ¸å¿ƒæ ‡è¯†ï¼šè¿™æ˜¯ä¸€ä¸ªå½¢çŠ¶å›¾å±‚</span>
      <span class="hljs-string">"nm"</span>: <span class="hljs-string">"å¸¦æè¾¹åœ†å½¢"</span>,
      <span class="hljs-string">"ind"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-comment">// ğŸ”½ æ­¤å¤„çœç•¥äº†å›¾å±‚çš„ `ks` å˜æ¢å±æ€§ï¼ˆå¦‚ p, a, s, r, oï¼‰</span>
      <span class="hljs-comment">// åœ¨å®Œæ•´æ–‡ä»¶ä¸­ï¼Œå®ƒä»¬ç”¨äºå°†æ•´ä¸ªå›¾å±‚å®šä½åœ¨ç”»å¸ƒä¸­å¿ƒï¼Œä¾‹å¦‚ï¼š</span>
      <span class="hljs-comment">// "ks": { "p": { "a": 0, "k": [400, 300, 0] }, ... }</span>
      
      <span class="hljs-string">"shapes"</span>: [ <span class="hljs-comment">// â­ï¸ æœ¬ç« æ ¸å¿ƒï¼šå½¢çŠ¶ä¸æ ·å¼æ•°ç»„</span>
        {
          <span class="hljs-string">"ty"</span>: <span class="hljs-string">"gr"</span>, <span class="hljs-comment">// ç±»å‹ï¼šgr (Group)ï¼Œä¸€ä¸ªå½¢çŠ¶ç»„</span>
          <span class="hljs-string">"nm"</span>: <span class="hljs-string">"åœ†å½¢ç»„"</span>,
          <span class="hljs-string">"it"</span>: [ <span class="hljs-comment">// ç»„å†…å…ƒç´ åˆ—è¡¨ï¼ŒæŒ‰ç´¢å¼•é¡ºåº 0â†’1â†’2â†’3 æ¸²æŸ“</span>
            <span class="hljs-comment">// 1. å½¢çŠ¶å®šä¹‰ï¼šæ¤­åœ† (el) - å…ˆç»˜åˆ¶ï¼Œå®šä¹‰å‡ ä½•è½®å»“</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"el"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"æ¤­åœ†è·¯å¾„"</span>,
              <span class="hljs-string">"p"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] }, <span class="hljs-comment">// ä½ç½®ï¼šç›¸å¯¹äºç»„çš„ä¸­å¿ƒ</span>
              <span class="hljs-string">"s"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">100</span>] } <span class="hljs-comment">// å°ºå¯¸ï¼šå®½é«˜100pxï¼Œå³åœ†å½¢</span>
            },
            <span class="hljs-comment">// 2. æ ·å¼å®šä¹‰ï¼šå¡«å…… (fl) - å…¶æ¬¡ç»˜åˆ¶ï¼Œä¸ºå½¢çŠ¶å†…éƒ¨ç€è‰²</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"fl"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"è“è‰²å¡«å……"</span>,
              <span class="hljs-string">"c"</span>: { 
                <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, 
                <span class="hljs-string">"k"</span>: [<span class="hljs-number">0.2</span>, <span class="hljs-number">0.6</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>] <span class="hljs-comment">// é¢œè‰²ï¼šRGBAï¼Œæ­¤ä¸ºè“è‰²</span>
              },
              <span class="hljs-string">"o"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: <span class="hljs-number">100</span> } <span class="hljs-comment">// ä¸é€æ˜åº¦ï¼š100%</span>
            },
            <span class="hljs-comment">// 3. æ ·å¼å®šä¹‰ï¼šæè¾¹ (st) - æœ€åç»˜åˆ¶ï¼Œä¸ºå½¢çŠ¶è½®å»“æ·»åŠ è¾¹çº¿</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"st"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"ç™½è‰²æè¾¹"</span>,
              <span class="hljs-string">"c"</span>: { 
                <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, 
                <span class="hljs-string">"k"</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>] <span class="hljs-comment">// é¢œè‰²ï¼šç™½è‰²</span>
              },
              <span class="hljs-string">"w"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: <span class="hljs-number">5</span> }, <span class="hljs-comment">// çº¿å®½ï¼š5åƒç´ </span>
              <span class="hljs-string">"lc"</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// çº¿å¸½ï¼š2 = åœ†å¤´</span>
              <span class="hljs-string">"lj"</span>: <span class="hljs-number">2</span>  <span class="hljs-comment">// è¿æ¥ï¼š2 = åœ†è§’</span>
            },
            <span class="hljs-comment">// 4. å¿…éœ€çš„ç»„å˜æ¢ (tr) - å¿…é¡»æ”¾åœ¨æœ€åï¼Œæ§åˆ¶æ•´ä¸ªç»„çš„å˜æ¢</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"tr"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"ç»„å˜æ¢"</span>
              <span class="hljs-comment">// å…¶å†…éƒ¨å±æ€§ (p, a, s, r, o) é€šå¸¸ä¿æŒé»˜è®¤å€¼ [0, 0, 100, 0, 100]</span>
            }
          ]
        }
      ]
    }
  ]
}
</code></pre>
<hr/>
<h2 data-id="heading-39"><strong>ä¸ƒã€å½¢çŠ¶ä¿®æ”¹å™¨ - Trimã€Repeater</strong></h2>
<p>åœ¨æŒæ¡äº†å½¢çŠ¶çš„æ„å»ºä¸æ ·å¼ä¹‹åï¼Œæˆ‘ä»¬è¿æ¥äº†å½¢çŠ¶ç³»ç»Ÿçš„æœ€åä¸€å—æ‹¼å›¾ï¼š<strong>ä¿®æ”¹å™¨ï¼ˆModifiersï¼‰</strong> ã€‚å®ƒä»¬ä¸æ˜¯ç‹¬ç«‹å½¢çŠ¶ï¼Œè€Œæ˜¯<strong>é™„åŠ åœ¨ç°æœ‰å½¢çŠ¶æˆ–ç»„ä¹‹ä¸Š</strong>çš„â€œæ•ˆæœå¤„ç†å™¨â€ï¼Œèƒ½å¤Ÿä»¥éç ´åæ€§çš„æ–¹å¼åŠ¨æ€æ”¹å˜å›¾å½¢çš„å¤–è§‚æˆ–è¡Œä¸ºï¼Œæ˜¯å®ç°å¤æ‚ã€ç¨‹å¼åŒ–åŠ¨ç”»çš„å…³é”®ã€‚</p>
<h3 data-id="heading-40"><strong>ä¿®æ”¹å™¨çš„æ¦‚å¿µï¼šä½œç”¨èŒƒå›´ä¸é¡ºåº</strong></h3>
<p>ä¿®æ”¹å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å…ƒç´ ï¼Œå…¶Â <code>ty</code>Â å€¼å®šä¹‰åœ¨Â <code>shapes</code>Â æˆ–Â <code>it</code>Â æ•°ç»„ä¸­ã€‚å®ƒä»¬<strong>ä¸ç›´æ¥æ¸²æŸ“</strong>ï¼Œè€Œæ˜¯åƒä¸€ä¸ªå¤„ç†å™¨ï¼Œ<strong>ä½œç”¨äºæ’åˆ—åœ¨å®ƒä¹‹å‰çš„ç‰¹å®šå…ƒç´ </strong>ã€‚</p>
<ul>
<li><strong>ä½œç”¨é€»è¾‘</strong>ï¼šåœ¨Â <code>it</code>Â æ•°ç»„ä¸­ï¼Œä¿®æ”¹å™¨æŒ‰ç…§<strong>ä»å‰å¾€å</strong>çš„é¡ºåºæ‰§è¡Œï¼Œæ¯ä¸ªä¿®æ”¹å™¨ä¼šä½œç”¨äºå®ƒ<strong>ä¹‹å‰å·²å®šä¹‰</strong>çš„ç‰¹å®šå…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>Trim Path</code>Â è£å‰ªå…¶ä¹‹å‰çš„è·¯å¾„ï¼Œ<code>Repeater</code>Â é‡å¤å…¶ä¹‹å‰çš„æ•´ä¸ªå½¢çŠ¶ç»„åˆã€‚</li>
<li><strong>é¡ºåºå…³é”®</strong>ï¼šä¿®æ”¹å™¨çš„<strong>ä½ç½®</strong>å†³å®šäº†å…¶ä½œç”¨èŒƒå›´å’Œæœ€ç»ˆæ•ˆæœã€‚ä¾‹å¦‚ï¼Œ<code>[å½¢çŠ¶ â†’ æ ·å¼ â†’ Trim]</code>Â ä¼šè£å‰ªå·²ç€è‰²çš„å½¢çŠ¶ï¼›è€ŒÂ <code>[å½¢çŠ¶ â†’ Trim â†’ æ ·å¼]</code>Â ä¼šå…ˆè£å‰ªè·¯å¾„ï¼Œå†ä¸ºè£å‰ªåçš„éƒ¨åˆ†ç€è‰²ã€‚</li>
</ul>
<h3 data-id="heading-41"><strong>Trim Pathï¼ˆ<code>tm</code>ï¼‰ï¼šè·¯å¾„è£å‰ªåŠ¨ç”»</strong></h3>
<p><code>Trim Path</code>ï¼ˆè·¯å¾„è£å‰ªï¼‰æ˜¯æœ€å¸¸ç”¨çš„ä¿®æ”¹å™¨ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡æ§åˆ¶è·¯å¾„çš„â€œèµ·æ­¢ç‚¹â€æ¥åˆ›é€ <strong>ç¬”è§¦ç»˜åˆ¶ã€æ“¦é™¤ã€æ‰«æ</strong>ç­‰åŠ¨ç”»æ•ˆæœã€‚</p>
<p><strong>æ ¸å¿ƒå±æ€§ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tm"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šTrim Paths</span>
  <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Startï¼ˆèµ·ç‚¹ç™¾åˆ†æ¯”ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span><span class="hljs-number">90</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// ä»0%åˆ°100%</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"e"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Endï¼ˆç»ˆç‚¹ç™¾åˆ†æ¯”ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"t"</span><span class="hljs-punctuation">:</span><span class="hljs-number">90</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// ä¿æŒ100%</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Offsetï¼ˆåç§»ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span> <span class="hljs-comment">// èŒƒå›´0-360Â°ï¼Œæ•´ä½“åç§»è£å‰ªåŒºåŸŸ</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>s</code>Â (Start)</strong> ï¼šè·¯å¾„å¯è§éƒ¨åˆ†çš„<strong>èµ·ç‚¹</strong>ï¼ŒèŒƒå›´ 0-100%ã€‚åŠ¨ç”»åŒ–æ­¤å±æ€§å¯å®ç°â€œç”Ÿé•¿â€åŠ¨ç”»ã€‚</li>
<li><strong><code>e</code>Â (End)</strong> ï¼šè·¯å¾„å¯è§éƒ¨åˆ†çš„<strong>ç»ˆç‚¹</strong>ï¼ŒèŒƒå›´ 0-100%ã€‚é€šå¸¸Â <code>e</code>Â &gt;=Â <code>s</code>ã€‚</li>
<li><strong><code>o</code>Â (Offset)</strong> ï¼š<strong>è£å‰ªåŒºåŸŸçš„æ•´ä½“åç§»é‡</strong>ï¼ŒèŒƒå›´ 0-360Â°ã€‚å®ƒå¯ä»¥è®©è£å‰ªçš„èµ·æ­¢ç‚¹æ²¿è·¯å¾„å¾ªç¯ç§»åŠ¨ï¼Œå¸¸ç”¨äºåˆ›å»ºâ€œè¿½é€â€æˆ–â€œå¾ªç¯æ‰«æâ€æ•ˆæœã€‚</li>
</ul>
<p><strong>å…¸å‹åº”ç”¨</strong>ï¼šé€šè¿‡åŠ¨ç”»Â <code>s</code>Â å’ŒÂ <code>e</code>Â å±æ€§ï¼Œå¯ä»¥å®ç°ç»å…¸çš„â€œç¬”ç”»ä¹¦å†™â€æˆ–â€œè¿›åº¦æ¡å¡«å……â€æ•ˆæœã€‚</p>
<h3 data-id="heading-42"><strong>Repeaterï¼ˆ<code>rp</code>ï¼‰ï¼šé‡å¤å™¨</strong></h3>
<p><code>Repeater</code>ï¼ˆé‡å¤å™¨ï¼‰èƒ½å°†<strong>å®ƒä¹‹å‰çš„æ‰€æœ‰å›¾å½¢å…ƒç´ </strong>ï¼ˆåŒ…æ‹¬å½¢çŠ¶ã€æ ·å¼ç”šè‡³å…¶ä»–ä¿®æ”¹å™¨ï¼‰å¤åˆ¶å¤šæ¬¡ï¼Œå¹¶å¯¹æ¯ä¸ªå‰¯æœ¬åº”ç”¨é€’å¢çš„å˜æ¢ï¼Œå¿«é€Ÿåˆ›å»º<strong>é˜µåˆ—ã€æ”¾å°„çŠ¶ã€å¾ªç¯</strong>ç­‰å¤æ‚å›¾æ¡ˆã€‚</p>
<p><strong>æ ¸å¿ƒå±æ€§ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"rp"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç±»å‹ï¼šRepeater</span>
  <span class="hljs-attr">"c"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Copiesï¼ˆå‰¯æœ¬æ•°é‡ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span> <span class="hljs-comment">// ç”Ÿæˆ5ä¸ªå‰¯æœ¬ï¼ˆåŒ…å«åŸå§‹å›¾å½¢ï¼‰</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Offsetï¼ˆå‰¯æœ¬ç´¢å¼•åç§»ï¼‰</span>
    <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span> <span class="hljs-comment">// æ§åˆ¶ä»å“ªä¸ªâ€œè™šæ‹Ÿå‰¯æœ¬â€å¼€å§‹æ¸²æŸ“ï¼Œå¯ç”¨äºåŠ¨ç”»</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"m"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Compositeï¼ˆåˆæˆæ¨¡å¼ï¼‰ï¼š1=Aboveï¼ˆåç»­å‰¯æœ¬åœ¨ä¸Šæ–¹ï¼‰ï¼Œ2=Belowï¼ˆåç»­å‰¯æœ¬åœ¨ä¸‹æ–¹ï¼‰</span>
  <span class="hljs-attr">"tr"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// Transformï¼ˆæ¯ä¸ªå‰¯æœ¬çš„å¢é‡å˜æ¢ï¼‰</span>
    <span class="hljs-attr">"p"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">20</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä½ç½®å¢é‡ï¼šæ¯ä¸ªå‰¯æœ¬å³ç§»20px</span>
    <span class="hljs-attr">"s"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">90</span><span class="hljs-punctuation">,</span> <span class="hljs-number">90</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç¼©æ”¾å¢é‡ï¼šæ¯ä¸ªå‰¯æœ¬ç¼©å°è‡³90%</span>
    <span class="hljs-attr">"r"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-number">30</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span> <span class="hljs-comment">// æ—‹è½¬å¢é‡ï¼šæ¯ä¸ªå‰¯æœ¬æ—‹è½¬30åº¦</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong><code>c</code>Â (Copies)</strong> ï¼šç”Ÿæˆçš„å‰¯æœ¬æ€»æ•°ï¼ˆåŒ…å«åŸå§‹å›¾å½¢ï¼‰ã€‚</li>
<li><strong><code>o</code>Â (Offset)</strong> ï¼šæ§åˆ¶ä»å“ªä¸ªâ€œè™šæ‹Ÿå‰¯æœ¬â€å¼€å§‹æ¸²æŸ“ï¼Œå¯ç”¨äºåŠ¨ç”»ã€‚</li>
<li><strong><code>m</code>Â (Composite)</strong> ï¼šæ§åˆ¶å‰¯æœ¬çš„å †å é¡ºåºã€‚<code>1</code>Â è¡¨ç¤ºæ–°å‰¯æœ¬å åœ¨ä¸Šæ–¹ï¼Œ<code>2</code>Â è¡¨ç¤ºæ–°å‰¯æœ¬å åœ¨ä¸‹æ–¹ã€‚</li>
<li><strong><code>tr</code>Â (Transform)</strong> ï¼šå®šä¹‰æ¯ä¸ªæ–°å‰¯æœ¬ç›¸å¯¹äºå‰ä¸€ä¸ªå‰¯æœ¬çš„<strong>å˜æ¢å¢é‡</strong>ï¼Œæ˜¯åˆ›é€ è§„å¾‹æ€§å˜åŒ–çš„å…³é”®ã€‚</li>
</ul>
<h3 data-id="heading-43"><strong>å…¶ä»–ä¿®æ”¹å™¨ç®€ä»‹</strong></h3>
<p>é™¤äº†ä¸Šè¿°ä¸¤ä¸ªï¼ŒLottie è¿˜æä¾›äº†å…¶ä»–å®ç”¨çš„ä¿®æ”¹å™¨æ¥æ‰©å±•å›¾å½¢èƒ½åŠ›ï¼š</p>























<table><thead><tr><th>ç±»å‹æ ‡è¯† (<code>ty</code>)</th><th>åç§°</th><th>æ ¸å¿ƒä½œç”¨</th><th>å…³é”®å±æ€§ä¸å¤‡æ³¨</th></tr></thead><tbody><tr><td><strong><code>rd</code></strong></td><td><strong>Round Corners</strong>Â (åœ†è§’)</td><td>å°†è·¯å¾„çš„æ‰€æœ‰å°–è§’è½¬æ¢ä¸ºæŒ‡å®šåŠå¾„çš„åœ†è§’ã€‚</td><td><code>r</code>ï¼šåœ†è§’åŠå¾„ã€‚</td></tr><tr><td><strong><code>mm</code></strong></td><td><strong>Merge Paths</strong>Â (åˆå¹¶è·¯å¾„)</td><td>å°†å¤šä¸ªè·¯å¾„åˆå¹¶ä¸ºä¸€ä¸ªï¼ˆç±»ä¼¼å¸ƒå°”è¿ç®—ï¼‰ã€‚</td><td><code>mm</code>ï¼šåˆå¹¶æ¨¡å¼ï¼ˆå¦‚ç›¸åŠ ã€ç›¸å‡ã€äº¤é›†ç­‰ï¼‰ã€‚ âš ï¸Â <strong>æ³¨æ„</strong>ï¼šå®˜æ–¹æ–‡æ¡£æ ‡æ³¨æ­¤åŠŸèƒ½<strong>ç›®å‰ä¸è¢«æ”¯æŒ</strong>ï¼Œä½¿ç”¨æ—¶éœ€è°¨æ…æµ‹è¯•ã€‚</td></tr></tbody></table>
<h3 data-id="heading-44">ğŸ¨å°è¯•ç‰›åˆ€ï¼šloadingåŠ¨ç”»</h3>
<p>è®©æˆ‘ä»¬å°†å­¦åˆ°çš„Â <code>Trim Path</code>Â çŸ¥è¯†åº”ç”¨åˆ°å®è·µä¸­ï¼Œåˆ¶ä½œä¸€ä¸ªç»å…¸çš„ loading åŠ¨ç”»ã€‚ä¸‹é¢çš„ç¤ºä¾‹å°†å±•ç¤ºå¦‚ä½•é€šè¿‡åŠ¨ç”»Â <code>o</code>ï¼ˆåç§»ï¼‰å±æ€§æ¥åˆ›å»ºæŒç»­æ—‹è½¬çš„åœ†ç¯è¿›åº¦æ•ˆæœã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e06b64b3e4dd48d5a36702fdcf93bca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOo5Y2r5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876452&amp;x-signature=98ongG8AtZhZAutA0JARGRteDZE%3D" alt="å½•å±2026-01-08 17.48.53.gif" width="50%" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-string">"v"</span>: <span class="hljs-string">"5.7.4"</span>,
  <span class="hljs-string">"fr"</span>: <span class="hljs-number">30</span>,
  <span class="hljs-string">"ip"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"op"</span>: <span class="hljs-number">90</span>,
  <span class="hljs-string">"w"</span>: <span class="hljs-number">800</span>,
  <span class="hljs-string">"h"</span>: <span class="hljs-number">600</span>,
  <span class="hljs-string">"nm"</span>: <span class="hljs-string">"Trim Pathæ¼”ç¤º"</span>,
  <span class="hljs-string">"layers"</span>: [
    {
      <span class="hljs-string">"ty"</span>: <span class="hljs-number">4</span>,
      <span class="hljs-string">"nm"</span>: <span class="hljs-string">"åœ†å½¢ç»˜åˆ¶åŠ¨ç”»"</span>,
      <span class="hljs-string">"ind"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">"ks"</span>: {
        <span class="hljs-string">"p"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">400</span>, <span class="hljs-number">300</span>, <span class="hljs-number">0</span>] }
      },
      <span class="hljs-string">"shapes"</span>: [
        {
          <span class="hljs-string">"ty"</span>: <span class="hljs-string">"gr"</span>,
          <span class="hljs-string">"nm"</span>: <span class="hljs-string">"åœ†å½¢ç»„"</span>,
          <span class="hljs-string">"it"</span>: [
            <span class="hljs-comment">// 1. åœ†å½¢è·¯å¾„</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"el"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"åœ†å½¢è·¯å¾„"</span>,
              <span class="hljs-string">"p"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] },
              <span class="hljs-string">"s"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">200</span>, <span class="hljs-number">200</span>] }
            },
            <span class="hljs-comment">// 2. æè¾¹æ ·å¼</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"st"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"æè¾¹"</span>,
              <span class="hljs-string">"c"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: [<span class="hljs-number">0.2</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>] },
              <span class="hljs-string">"w"</span>: { <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"k"</span>: <span class="hljs-number">12</span> },
              <span class="hljs-string">"lc"</span>: <span class="hljs-number">2</span>,
              <span class="hljs-string">"lj"</span>: <span class="hljs-number">2</span>
            },
            <span class="hljs-comment">// 3. Trim Path ä¿®æ”¹å™¨ â­ï¸</span>
            {
              <span class="hljs-string">"ty"</span>: <span class="hljs-string">"tm"</span>,
              <span class="hljs-string">"nm"</span>: <span class="hljs-string">"Trim Path"</span>,
              <span class="hljs-string">"s"</span>: {  <span class="hljs-comment">// èµ·ç‚¹ç™¾åˆ†æ¯” (0-100)</span>
                <span class="hljs-string">"a"</span>: <span class="hljs-number">1</span>,
                <span class="hljs-string">"k"</span>: [
                  { <span class="hljs-string">"t"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"s"</span>: [<span class="hljs-number">0</span>], <span class="hljs-string">"e"</span>: [<span class="hljs-number">100</span>] },
                  { <span class="hljs-string">"t"</span>: <span class="hljs-number">90</span>, <span class="hljs-string">"s"</span>: [<span class="hljs-number">100</span>] }
                ]
              },
              <span class="hljs-string">"e"</span>: {  <span class="hljs-comment">// ç»ˆç‚¹ç™¾åˆ†æ¯” (0-100)</span>
                <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"k"</span>: <span class="hljs-number">100</span>
              },
              <span class="hljs-string">"o"</span>: {  <span class="hljs-comment">// åç§»è§’åº¦ (0-360)</span>
                <span class="hljs-string">"a"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"k"</span>: <span class="hljs-number">0</span>
              }
            },
            <span class="hljs-comment">// 4. ç»„å˜æ¢</span>
            { <span class="hljs-string">"ty"</span>: <span class="hljs-string">"tr"</span> }
          ]
        }
      ]
    }
  ]
}
</code></pre>
<hr/>
<h2 data-id="heading-45"><strong>å…«ã€é«˜çº§ç‰¹æ€§ - è’™ç‰ˆã€æ•ˆæœã€è¡¨è¾¾å¼</strong></h2>
<p>æœ¬ç« å°†ç®€è¦ä»‹ç» Lottie ä¸­å‡ ä¸ªé«˜çº§ä½†å¸¸ç”¨çš„ç‰¹æ€§ã€‚ç†è§£è¿™äº›æ¦‚å¿µæœ‰åŠ©äºæ‚¨é˜…è¯»å’Œåˆ†ææ›´å¤æ‚çš„åŠ¨ç”»æ–‡ä»¶ï¼Œä½†åœ¨å®é™…åˆ›ä½œä¸­ï¼Œè¯·æ³¨æ„å®ƒä»¬åœ¨ä¸åŒå¹³å°å’Œæ¸²æŸ“å™¨ä¸­çš„æ”¯æŒç¨‹åº¦å¯èƒ½æœ‰æ‰€å·®å¼‚ã€‚</p>
<h3 data-id="heading-46"><strong>è’™ç‰ˆï¼ˆMaskï¼‰ï¼š<code>masksProperties</code>Â æ•°ç»„</strong></h3>
<p>è’™ç‰ˆç”¨äºæ§åˆ¶å›¾å±‚çš„æ˜¾ç¤ºåŒºåŸŸï¼Œå®ç°å‰ªåˆ‡ã€é®ç½©ç­‰æ•ˆæœã€‚åœ¨å›¾å±‚å¯¹è±¡ä¸­ï¼Œé€šè¿‡Â <code>masksProperties</code>Â æ•°ç»„å®šä¹‰ã€‚</p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"masksProperties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"a"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// è’™ç‰ˆæ¨¡å¼ï¼ša=ç›¸åŠ ï¼Œs=ç›¸å‡ï¼Œi=ç›¸äº¤ç­‰</span>
    <span class="hljs-attr">"pt"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>                <span class="hljs-comment">// è·¯å¾„ï¼ˆPathï¼‰ï¼Œå®šä¹‰è’™ç‰ˆå½¢çŠ¶</span>
      <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"v"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">,</span><span class="hljs-number">0</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">[</span><span class="hljs-number">100</span><span class="hljs-punctuation">,</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">[</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><span class="hljs-number">100</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"c"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"o"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// ä¸é€æ˜åº¦ï¼ˆOpacityï¼‰</span>
    <span class="hljs-attr">"inv"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>                <span class="hljs-comment">// æ˜¯å¦åè½¬ï¼ˆInvertedï¼‰</span>
    <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è’™ç‰ˆ1"</span>                <span class="hljs-comment">// åç§°ï¼ˆNameï¼‰</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p><strong>å…³é”®å±æ€§ï¼š</strong></p>
<ul>
<li>
<p><strong><code>mode</code></strong>ï¼šè’™ç‰ˆæ··åˆæ¨¡å¼ã€‚é™¤äº†å¸¸ç”¨çš„Â <code>"a"</code>ï¼ˆAddï¼Œç›¸åŠ ï¼‰å’ŒÂ <code>"s"</code>ï¼ˆSubtractï¼Œç›¸å‡ï¼‰ï¼ŒLottie Schema è¿˜å®šä¹‰äº†å…¶ä»–æ¨¡å¼ï¼Œä½†å¹¶éæ‰€æœ‰éƒ½è¢«å®Œå…¨æ”¯æŒã€‚</p>













































<table><thead><tr><th>æ¨¡å¼ä»£ç </th><th>åç§° (è‹±æ–‡)</th><th>ä½œç”¨æ•ˆæœ</th></tr></thead><tbody><tr><td><code>"n"</code></td><td>None (æ— )</td><td>ç¦ç”¨è’™ç‰ˆ</td></tr><tr><td><code>"a"</code></td><td>Add (ç›¸åŠ )</td><td>åˆå¹¶å¤šä¸ªè’™ç‰ˆåŒºåŸŸ</td></tr><tr><td><code>"s"</code></td><td>Subtract (ç›¸å‡)</td><td>ä»ç°æœ‰åŒºåŸŸä¸­å‡å»</td></tr><tr><td><code>"i"</code></td><td>Intersect (ç›¸äº¤)</td><td>åªä¿ç•™è’™ç‰ˆé‡å åŒºåŸŸ</td></tr><tr><td><code>"l"</code></td><td>Lighten (å˜äº®)</td><td>ä¿ç•™è¾ƒäº®åŒºåŸŸ</td></tr><tr><td><code>"d"</code></td><td>Darken (å˜æš—)</td><td>ä¿ç•™è¾ƒæš—åŒºåŸŸ</td></tr><tr><td><code>"f"</code></td><td>Difference (å·®å¼‚)</td><td>æ˜¾ç¤ºé¢œè‰²å·®å¼‚åŒºåŸŸ</td></tr></tbody></table>
</li>
<li>
<p><strong><code>pt</code></strong>ï¼šè’™ç‰ˆè·¯å¾„ï¼Œå…¶æ•°æ®ç»“æ„ï¼ˆå«Â <code>v</code>,Â <code>i</code>,Â <code>o</code>ï¼‰ä¸å½¢çŠ¶å›¾å±‚ä¸­çš„è‡ªç”±è·¯å¾„ï¼ˆ<code>sh</code>ï¼‰å®Œå…¨ç›¸åŒã€‚</p>
</li>
<li>
<p><strong><code>o</code></strong>ï¼šè’™ç‰ˆçš„ä¸é€æ˜åº¦ã€‚</p>
</li>
<li>
<p><strong><code>inv</code></strong>ï¼šå¸ƒå°”å€¼ï¼Œä¸ºÂ <code>true</code>Â æ—¶åè½¬è’™ç‰ˆåŒºåŸŸã€‚</p>
</li>
</ul>
<h3 data-id="heading-47"><strong>æ•ˆæœï¼ˆEffectsï¼‰ï¼š<code>ef</code>Â æ•°ç»„</strong></h3>
<p>Lottie æ”¯æŒéƒ¨åˆ† After Effects å†…ç½®æ•ˆæœï¼Œé€šè¿‡å›¾å±‚çš„Â <code>ef</code>Â æ•°ç»„å®šä¹‰ã€‚<strong>è¯·æ³¨æ„ï¼Œæ”¯æŒçš„æ•ˆæœéå¸¸æœ‰é™ï¼Œä¸”å¹¶éæ‰€æœ‰AEæ•ˆæœéƒ½èƒ½è¢«å®Œç¾æ”¯æŒæˆ–æ¸²æŸ“ã€‚</strong></p>
<p>æ ¹æ®å®˜æ–¹ Schema æ–‡æ¡£ï¼Œæœ‰æ˜ç¡®å®šä¹‰çš„æ•ˆæœç±»å‹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¡«å……</strong>Â (Fill):Â <code>ty: 21</code></li>
<li><strong>æè¾¹</strong>Â (Stroke):Â <code>ty: 22</code></li>
<li><strong>è‰²è°ƒ</strong>Â (Tint):Â <code>ty: 20</code></li>
<li><strong>ä¸‰è‰²è°ƒ/ä¸“ä¸šè‰²é˜¶</strong>Â (Tritone/Pro Levels):Â <code>ty: 23</code></li>
</ul>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"ef"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span>                 <span class="hljs-comment">// æ•ˆæœç±»å‹ï¼š21 = å¡«å…… (Fill)</span>
  <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢œè‰²å åŠ "</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"en"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>                  <span class="hljs-comment">// å¯ç”¨ (Enabled)</span>
  <span class="hljs-attr">"ef"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"ty"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-attr">"nm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢œè‰²"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-attr">"v"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"k"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span> <span class="hljs-comment">// çº¢è‰²</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
</code></pre>
<blockquote>
<p><strong>é‡è¦è¯´æ˜</strong>ï¼šâ€œé«˜æ–¯æ¨¡ç³Š (<code>ty: 29</code>)â€å’Œâ€œå‘å…‰ (<code>ty: 27</code>)â€ç­‰æ•ˆæœåœ¨å…¬å¼€çš„å®˜æ–¹ Schema æ–‡æ¡£ä¸­<strong>æœªæœ‰æ˜ç¡®å®šä¹‰</strong>ã€‚å®ƒä»¬å¯èƒ½ç”± Bodymovin æ’ä»¶å¯¼å‡ºï¼Œä½†<strong>ä¸ä¸€å®šè¢«æ‰€æœ‰ Lottie æ¸²æŸ“å™¨æ”¯æŒ</strong>ï¼Œåœ¨å®é™…ä½¿ç”¨å‰å¿…é¡»è¿›è¡Œå……åˆ†çš„å…¼å®¹æ€§æµ‹è¯•ã€‚</p>
</blockquote>
<h3 data-id="heading-48"><strong>è¡¨è¾¾å¼ï¼ˆExpressionï¼‰ï¼š<code>x</code>Â å­—æ®µ</strong></h3>
<p>è¡¨è¾¾å¼æ˜¯ After Effects ä¸­ç”¨äºåˆ›å»ºå±æ€§é—´åŠ¨æ€å…³è”çš„è„šæœ¬è¯­è¨€ã€‚åœ¨ Lottie ä¸­ï¼Œè¡¨è¾¾å¼å¯ä»¥å­˜å‚¨åœ¨å±æ€§çš„Â <code>x</code>Â å­—æ®µä¸­ã€‚</p>
<p>json</p>
<pre><code class="hljs language-css" lang="css">"<span class="hljs-selector-tag">p</span>": {
  "<span class="hljs-selector-tag">a</span>": <span class="hljs-number">1</span>,
  <span class="hljs-string">"k"</span>: [{"t":<span class="hljs-number">0</span>, <span class="hljs-string">"s"</span>:[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]}, {"t":<span class="hljs-number">30</span>, <span class="hljs-string">"s"</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">100</span>]}],
  "x": <span class="hljs-string">"loopOut('cycle')"</span>  // è¡¨è¾¾å¼ï¼šå¾ªç¯æ’­æ”¾åŠ¨ç”»
}
</code></pre>
<p><strong>è¡¨è¾¾å¼çš„ä½œç”¨ä¸å±€é™æ€§</strong>ï¼š</p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå¯ä»¥åˆ›å»ºå¾ªç¯ (<code>loopOut</code>)ã€éšæœº (<code>wiggle</code>)ã€æ•°å­¦å…³è”ç­‰å¤æ‚åŠ¨ç”»é€»è¾‘ï¼Œæ— éœ€å¤§é‡å…³é”®å¸§ã€‚</li>
<li><strong>å±€é™æ€§</strong>ï¼š<strong>å¹³å°æ”¯æŒæä¸å®Œæ•´</strong>ã€‚ä»…æœ‰å°‘æ•°æœ€åŸºç¡€çš„è¡¨è¾¾å¼å¯èƒ½åœ¨éƒ¨åˆ†å¹³å°ä¸Šè¢«è¯†åˆ«ï¼Œå¤æ‚çš„è¡¨è¾¾å¼é€šå¸¸ä¼šè¢«å¿½ç•¥æˆ–å¯¼è‡´åŠ¨ç”»é”™è¯¯ã€‚åœ¨éœ€è¦è·¨å¹³å°ç¨³å®šæ’­æ”¾çš„åŠ¨ç”»ä¸­ï¼Œåº”å°½é‡é¿å…ä½¿ç”¨è¡¨è¾¾å¼ã€‚</li>
</ul>
<h3 data-id="heading-49"><strong>æ··åˆæ¨¡å¼ï¼ˆBlend Modeï¼‰ï¼š<code>bm</code>Â å­—æ®µ</strong></h3>
<p>æ··åˆæ¨¡å¼æ§åˆ¶å½“å‰å›¾å±‚å¦‚ä½•ä¸ä¸‹å±‚å›¾å±‚è¿›è¡Œé¢œè‰²æ··åˆã€‚åœ¨å›¾å±‚ï¼ˆæ ¹å¯¹è±¡ï¼‰æˆ–å½¢çŠ¶æ ·å¼å…ƒç´ ï¼ˆå¦‚Â <code>fl</code>,Â <code>st</code>ï¼‰ä¸­é€šè¿‡Â <code>bm</code>Â å­—æ®µå®šä¹‰ã€‚</p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"bm"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span>  <span class="hljs-comment">// å åŠ æ¨¡å¼ (Overlay)</span>
</code></pre>
<p><strong>æ··åˆæ¨¡å¼å€¼é€ŸæŸ¥è¡¨</strong>Â (æ ¹æ®å®˜æ–¹Â <code>/helpers/blendMode.json</code>)ï¼š</p>



























































<table><thead><tr><th>å€¼</th><th>æ¨¡å¼ (è‹±æ–‡)</th><th>å€¼</th><th>æ¨¡å¼ (è‹±æ–‡)</th></tr></thead><tbody><tr><td>0</td><td>Normal (æ­£å¸¸)</td><td>8</td><td>Hard Light (å¼ºå…‰)</td></tr><tr><td>1</td><td>Multiply (ç›¸ä¹˜)</td><td>9</td><td>Soft Light (æŸ”å…‰)</td></tr><tr><td>2</td><td>Screen (å±å¹•)</td><td>10</td><td>Difference (å·®å€¼)</td></tr><tr><td>3</td><td>Overlay (å åŠ )</td><td>11</td><td>Exclusion (æ’é™¤)</td></tr><tr><td>4</td><td>Darken (å˜æš—)</td><td>12</td><td>Hue (è‰²ç›¸)</td></tr><tr><td>5</td><td>Lighten (å˜äº®)</td><td>13</td><td>Saturation (é¥±å’Œåº¦)</td></tr><tr><td>6</td><td>Color Dodge (é¢œè‰²å‡æ·¡)</td><td>14</td><td>Color (é¢œè‰²)</td></tr><tr><td>7</td><td>Color Burn (é¢œè‰²åŠ æ·±)</td><td>15</td><td>Luminosity (æ˜åº¦)</td></tr></tbody></table>
<p><strong>æ³¨æ„</strong>ï¼šæ··åˆæ¨¡å¼åœ¨ SVG/HTML æ¸²æŸ“å™¨ä¸­æ”¯æŒè¾ƒå¥½ï¼Œåœ¨å…¶ä»–æ¸²æŸ“å™¨ï¼ˆå¦‚ Canvasï¼‰æˆ–æŸäº›ç§»åŠ¨ç«¯å¹³å°ä¸­å¯èƒ½éœ€è¦é™çº§å¤„ç†æˆ–ä¸è¢«æ”¯æŒã€‚</p>
<hr/>
<h2 data-id="heading-50"><strong>ä¹ã€ç»“è¯­</strong></h2>
<p>æœ¬æ–‡ç³»ç»Ÿæ€§åœ°è§£æäº† Lottie JSON çš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚ä»¥ä¸‹æ˜¯å…¨æ–‡çŸ¥è¯†è¦ç‚¹çš„å›é¡¾ä¸æ€»ç»“ï¼š</p>
<h3 data-id="heading-51"><strong>æ ¸å¿ƒæ•°æ®ç»“æ„æ€»è§ˆ</strong></h3>































































































<table><thead><tr><th>æ¨¡å—</th><th>å…³é”®å¯¹è±¡/å­—æ®µ</th><th>æ ¸å¿ƒä½œç”¨ä¸è¦ç‚¹</th></tr></thead><tbody><tr><td><strong>é¡¶å±‚ç»“æ„</strong></td><td><code>v</code>,Â <code>fr</code>,Â <code>ip</code>,Â <code>op</code>,Â <code>w</code>,Â <code>h</code></td><td>å®šä¹‰åŠ¨ç”»å…¨å±€ä¿¡æ¯ï¼šç‰ˆæœ¬ã€å¸§ç‡ã€æ—¶é—´è½´ã€ç”»å¸ƒå°ºå¯¸ã€‚</td></tr><tr><td/><td><code>assets</code>,Â <code>layers</code>,Â <code>chars</code></td><td>ä¸‰å¤§æ•°æ®æ”¯æŸ±ï¼šå¯å¤ç”¨èµ„æºã€å›¾å±‚åºåˆ—ã€çŸ¢é‡å­—å½¢ã€‚</td></tr><tr><td><strong>å›¾å±‚ç³»ç»Ÿ</strong></td><td><code>ty</code>Â (0-5)</td><td>æ ‡è¯†å…­ç§å›¾å±‚ç±»å‹ï¼šé¢„åˆæˆã€çº¯è‰²ã€å›¾åƒã€ç©ºå¯¹è±¡ã€å½¢çŠ¶ã€æ–‡æœ¬ã€‚</td></tr><tr><td/><td><code>ind</code>,Â <code>parent</code>,Â <code>ip</code>,Â <code>op</code>,Â <code>st</code></td><td>æ§åˆ¶å›¾å±‚ç´¢å¼•ã€çˆ¶å­å…³ç³»ã€æ—¶é—´å±æ€§ï¼ˆå…¥ç‚¹ã€å‡ºç‚¹ã€èµ·å§‹æ—¶é—´ï¼‰ã€‚</td></tr><tr><td/><td><code>ks</code></td><td><strong>å˜æ¢å±æ€§å®¹å™¨</strong>ï¼ŒåŒ…å«é”šç‚¹(<code>a</code>)ã€ä½ç½®(<code>p</code>)ã€ç¼©æ”¾(<code>s</code>)ã€æ—‹è½¬(<code>r</code>)ã€é€æ˜åº¦(<code>o</code>)ç­‰ã€‚</td></tr><tr><td><strong>åŠ¨ç”»ç³»ç»Ÿ</strong></td><td><code>ks</code>Â ä¸‹çš„Â <code>a</code>Â å­—æ®µ</td><td>å±æ€§åŠ¨ç”»å¼€å…³ï¼š<code>0</code>ä¸ºé™æ€å€¼ï¼Œ<code>1</code>ä¸ºåŠ¨ç”»å€¼ï¼ˆå…³é”®å¸§æ•°ç»„ï¼‰ã€‚</td></tr><tr><td/><td>å…³é”®å¸§Â <code>k</code>Â æ•°ç»„</td><td>å®šä¹‰åŠ¨ç”»è½¨è¿¹ï¼ŒåŒ…å«æ—¶é—´(<code>t</code>)ã€å€¼(<code>s</code>/<code>e</code>)ã€ç¼“åŠ¨(<code>i</code>/<code>o</code>)ã€‚</td></tr><tr><td><strong>å½¢çŠ¶ç³»ç»Ÿ</strong></td><td><code>shapes</code>Â æ•°ç»„</td><td>å½¢çŠ¶å›¾å±‚çš„<strong>æ ¸å¿ƒå®¹å™¨</strong>ï¼Œå…ƒç´ æŒ‰ç´¢å¼•é¡ºåºæ¸²æŸ“å åŠ ã€‚</td></tr><tr><td/><td><code>ty: el/rc/sr/sh</code></td><td>åŸºç¡€å›¾å½¢ï¼šæ¤­åœ†ã€çŸ©å½¢ã€æ˜Ÿå½¢ã€è‡ªç”±è·¯å¾„ï¼ˆè´å¡å°”æ›²çº¿å®šä¹‰ï¼‰ã€‚</td></tr><tr><td/><td><code>ty: gr</code>Â (ç»„)</td><td>ä½¿ç”¨Â <code>it</code>Â æ•°ç»„ç»„ç»‡å­å…ƒç´ ï¼Œå®ç°å±‚çº§ç®¡ç†ä¸ç»Ÿä¸€å˜æ¢ã€‚</td></tr><tr><td><strong>æ ·å¼ç³»ç»Ÿ</strong></td><td><code>ty: fl</code>Â (å¡«å……)</td><td>å®šä¹‰å½¢çŠ¶å¡«å……è‰²ï¼ˆçº¯è‰²æˆ–æ¸å˜ï¼‰ã€‚</td></tr><tr><td/><td><code>ty: st</code>Â (æè¾¹)</td><td>å®šä¹‰è½®å»“çº¿æ ·å¼ï¼ŒåŒ…æ‹¬çº¿å®½(<code>w</code>)ã€ç«¯ç‚¹(<code>lc</code>)ã€è¿æ¥(<code>lj</code>)ã€‚</td></tr><tr><td><strong>ä¿®æ”¹å™¨</strong></td><td><code>ty: tm</code>Â (Trim)</td><td>è·¯å¾„è£å‰ªï¼Œé€šè¿‡åŠ¨ç”»èµ·ç‚¹(<code>s</code>)ã€ç»ˆç‚¹(<code>e</code>)ã€åç§»(<code>o</code>)å®ç°ç»˜åˆ¶æ•ˆæœã€‚</td></tr><tr><td/><td><code>ty: rp</code>Â (Repeater)</td><td>å›¾å½¢é‡å¤å™¨ï¼Œé€šè¿‡å‰¯æœ¬æ•°(<code>c</code>)å’Œå¢é‡å˜æ¢(<code>tr</code>)åˆ›å»ºé˜µåˆ—ã€‚</td></tr><tr><td><strong>é«˜çº§ç‰¹æ€§</strong></td><td><code>masksProperties</code></td><td>è’™ç‰ˆæ•°ç»„ï¼Œé€šè¿‡è·¯å¾„(<code>pt</code>)å’Œæ¨¡å¼(<code>mode</code>)æ§åˆ¶å›¾å±‚æ˜¾ç¤ºåŒºåŸŸã€‚</td></tr><tr><td/><td><code>ef</code>Â (æ•ˆæœ),Â <code>bm</code>Â (æ··åˆæ¨¡å¼)</td><td>å®ç°æ»¤é•œä¸å›¾å±‚æ··åˆï¼Œ<strong>éœ€æ³¨æ„å¹³å°æ”¯æŒåº¦</strong>ã€‚</td></tr><tr><td/><td><code>x</code>Â (è¡¨è¾¾å¼)</td><td>æ”¯æŒç®€å•è¡¨è¾¾å¼é©±åŠ¨å±æ€§ï¼Œ<strong>è·¨å¹³å°æ”¯æŒæœ‰é™</strong>ã€‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-52"><strong>åã€å†™åœ¨æœ€åï¼šç¬”è€…çš„æ€è€ƒ</strong>ğŸ’¡</h2>
<p>åœ¨æ•´ç† Lottie çš„æŠ€æœ¯ç»†èŠ‚æ—¶ï¼Œæˆ‘åå¤æ€è€ƒä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š<strong>æˆ‘ä»¬çœ‹åˆ°çš„è¿™å¥— JSON ç»“æ„ï¼Œåˆ°åº•æ˜¯ç”±ä»€ä¹ˆå†³å®šçš„ï¼Ÿ</strong></p>
<p>æœ€ç›´æ¥çš„ç­”æ¡ˆæ˜¯â€œä¸ºäº†åœ¨ç½‘é¡µä¸Šæ’­æ”¾â€ã€‚ä½†è¿™åªæ˜¯ç›®çš„ï¼Œå¹¶æœªè§£é‡Šå…¶å½¢æ€ã€‚æˆ‘çš„æ€è·¯åˆ†ä¸¤æ­¥æ¨è¿›ï¼šç¬¬ä¸€ï¼Œæ˜¯ Web çš„æ¸²æŸ“èƒ½åŠ›ï¼ˆå¦‚ Canvasï¼‰é™åˆ¶äº†å®ƒçš„è®¾è®¡ï¼›ç¬¬äºŒï¼Œæ˜¯å¦æœ‰æ›´åº•å±‚çš„è“æœ¬åœ¨ä¸»å¯¼ç»“æ„ã€‚</p>
<p>é€šè¿‡é€é¡¹å¯¹æ¯”ï¼Œæˆ‘æ‰¾åˆ°äº†æ›´å…³é”®çš„ä¾æ®ã€‚<strong>Lottie JSON çš„ç»“æ„ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹ After Effects å†…éƒ¨åŠ¨ç”»æ•°æ®æ¨¡å‹çš„ç›´æ¥ç¿»è¯‘ã€‚</strong> Â ä¾‹å¦‚ï¼ŒJSON ä¸­çš„Â <code>ks</code>Â å¯¹è±¡ç²¾ç¡®å¯¹åº”äº† AE å›¾å±‚çš„â€œå˜æ¢â€å±æ€§ç»„ï¼Œ<code>shapes</code>Â æ•°ç»„åˆ™å®Œå…¨å¤ç°äº† AE å½¢çŠ¶å±‚çš„å †å é€»è¾‘ã€‚è®¾è®¡è€…çš„é¦–è¦ä»»åŠ¡ï¼Œæ˜¯ä¸º AE çš„åŠ¨ç”»çŠ¶æ€æä¾›ä¸€ä¸ª<strong>æ— æŸä¸”ç²¾ç¡®çš„æ•°æ®æè¿°æ ¼å¼</strong>ã€‚</p>
<p>é‚£ä¹ˆï¼ŒWeb æŠ€æœ¯ï¼ˆå¦‚ Canvas/SVGï¼‰çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘è®¤ä¸ºå®ƒä¸»è¦æ‰®æ¼”äº†Â  <strong>â€œæ”¯æŒåº¦è¯„ä¼°â€ä¸â€œæ€§èƒ½ä¼˜åŒ–â€çš„è§’è‰²</strong>ã€‚å®ƒå¹¶æœªæ”¹å˜æ•°æ®æè¿°çš„æ ¹æœ¬æ–¹å¼ï¼Œè€Œæ˜¯åŸºäºå®ç°éš¾åº¦ä¸æ€§èƒ½æˆæœ¬ï¼Œåˆ’å®šäº†å“ªäº› AE é«˜çº§åŠŸèƒ½å¯ä»¥ï¼ˆæˆ–ä¸å¯ä»¥ï¼‰è¢«åŒ…å«åœ¨è¿™ä¸ªæ ¼å¼ä¸­ã€‚ä¾‹å¦‚ï¼Œä¸€äº›å¤æ‚çš„å®æ—¶æ»¤é•œå¯èƒ½å› æ€§èƒ½è€ƒé‡è€Œè¢«æ’é™¤ã€‚</p>
<p>è¿™è‡ªç„¶å¼•å‘æ›´æ·±ä¸€å±‚ï¼š<strong>AE è‡ªèº«çš„è¿™å¥—å¼ºå¤§æ¨¡å‹åˆæ˜¯å¦‚ä½•å»ºç«‹çš„ï¼Ÿ</strong> Â å®ƒå¹¶éå‡­ç©ºåˆ›é€ ï¼Œè€Œæ˜¯å¯¹æ›´æ—©è¡Œä¸šçš„æ•°å­—åŒ–èåˆã€‚å…¶â€œåˆæˆâ€ä¸â€œå›¾å±‚â€æ¦‚å¿µæºè‡ª<strong>ç”µå½±å·¥ä¸š</strong>çš„èƒ¶ç‰‡å åŠ æµç¨‹ï¼›â€œå…³é”®å¸§â€åŠ¨ç”»ç»§æ‰¿è‡ª<strong>ä¼ ç»Ÿæ‰‹ç»˜åŠ¨ç”»</strong>çš„ç”Ÿäº§æ–¹å¼ï¼›è€Œæ‰€æœ‰è§†è§‰å˜æ¢çš„æ ¹åŸºï¼Œåˆ™æ˜¯<strong>è®¡ç®—æœºå›¾å½¢å­¦</strong>æä¾›çš„æ•°å­¦å·¥å…·ï¼ˆå¦‚åæ ‡å˜æ¢ã€è´å¡å°”æ›²çº¿ï¼‰ã€‚</p>
<p>å› æ­¤ï¼Œå­¦ä¹  Lottie æœ€æœ‰æ•ˆçš„æ–¹æ³•ï¼Œå¹¶éå­¤ç«‹è®°å¿† JSON å­—æ®µï¼Œè€Œæ˜¯<strong>ç†è§£å®ƒä½œä¸ºâ€œAE æ¨¡å‹çš„æ•°æ®æ¥å£â€è¿™ä¸€å®šä½</strong>ã€‚æŒæ¡ AE çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå°±èƒ½ç†è§£ Lottie ç»å¤§éƒ¨åˆ†çš„è®¾è®¡é€»è¾‘ã€‚è¿™æ­ç¤ºäº†ä¸€ç§é«˜æ•ˆçš„å­¦ä¹ è·¯å¾„ï¼šå½“é¢å¯¹ä¸€ä¸ªå‡ºè‰²çš„â€œæŠ€æœ¯è½¬è¯‘å±‚â€æ—¶ï¼Œç›´æ¥ç ”ç©¶å®ƒæ‰€è½¬è¯‘çš„<strong>æºç³»ç»Ÿ</strong>ï¼Œå¾€å¾€æ˜¯ç†è§£å…¶è®¾è®¡æœ€å¿«çš„æ–¹å¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨AWS SDKå®ç°S3æ¡¶ç­–ç•¥é…ç½®]]></title>    <link>https://juejin.cn/post/7594310266410696704</link>    <guid>https://juejin.cn/post/7594310266410696704</guid>    <pubDate>2026-01-12T14:46:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594310266410696704" data-draft-id="7593362940071313460" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨AWS SDKå®ç°S3æ¡¶ç­–ç•¥é…ç½®"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-12T14:46:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç“¦ç Jç "/> <meta itemprop="url" content="https://juejin.cn/user/1528766364915136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨AWS SDKå®ç°S3æ¡¶ç­–ç•¥é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1528766364915136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç“¦ç Jç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T14:46:10.000Z" title="Mon Jan 12 2026 14:46:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>S3æ˜¯å¹¿æ³›ä½¿ç”¨å¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚</p>
<p>å½“ä½¿ç”¨äº†S3æˆ–è€…S3å…¼å®¹æœåŠ¡ä½œå¯¹è±¡å­˜å‚¨æœåŠ¡æ—¶ï¼Œå…ä¸äº†è¦è¿›è¡Œè®¾ç½®æ¡¶ç­–ç•¥ã€‚æœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥è®¾ç½®æ¡¶ç­–ç•¥ï¼š</p>
<ul>
<li>ä½¿ç”¨webç®¡ç†é¡µé¢</li>
<li>ä½¿ç”¨S3 Browserå®¢æˆ·ç«¯ç¨‹åº</li>
<li>AWS CLI å‘½ä»¤è¡Œå®¢æˆ·ç«¯</li>
</ul>
<p>è¿™äº›æ–¹æ³•è™½ç„¶å¯è¡Œï¼Œä½†æ˜¯å¢åŠ äº†å­¦ä¹ å’Œè®°å¿†çš„æˆæœ¬ã€‚ä½œä¸ºä¸€ä¸ªæ‡’äººï¼Œçµæœºä¸€åŠ¨æƒ³åˆ°äº†ä¸€ä¸ªå·æ‡’çš„åŠæ³•ï¼Œæ—¢ç„¶å·²ç»åœ¨ç¨‹åºä¸­å¼•å…¥æ˜¯AWS SDKäº†ï¼Œå¹¶ä¸”ä»£ç åº“ä¸­å·²ç»å†™å¥½äº†<code>helper</code>ç±»å’Œè¿æ¥é…ç½®ï¼Œä½•ä¸å¥½å¥½åˆ©ç”¨å®ƒå‘¢ã€‚</p>
<p>å› ä¸ºæ¡¶ç­–ç•¥æ˜¯ä½¿ç”¨jsonå®šä¹‰çš„ï¼Œè¿™æ˜¯è·¨è¯­è¨€SDKçš„é€šç”¨è¦æ±‚ã€‚æ‰€ä»¥åªè¦å®šä¹‰å¥½æ¡¶ç­–ç•¥çš„jsonï¼Œå°±å¯ä»¥äº¤ç»™SDKæ‰§è¡Œäº†ã€‚</p>
<p>ä¸¾ä¾‹ï¼šæ¯”å¦‚è¦è®¾ç½®å…¬å¼€ç­–ç•¥ï¼Œåˆ™jsonæ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2012-10-17"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"Statement"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"Sid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PublicReadForBucketObjects"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Effect"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Allow"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Principal"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"*"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"s3:GetObject"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Resource"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arn:aws:s3:::%s/*"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä»¥ä¸Šjsonï¼Œæ—¢å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™SDKï¼Œåˆå¯ä»¥ç›´æ¥å®šä¹‰åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ï¼Œæˆ–è€…å®šä¹‰ä¸€ç»„ç­–ç•¥æ–¹ä¾¿ç›´æ¥ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-0">è®¾ç½®æ¡¶ç­–ç•¥</h2>
<p>è°ƒç”¨putBucketPolicyæ–¹æ³•å®ç°ï¼Œæ¡¶ç­–ç•¥è®¾ç½®ã€‚åœ¨æ¡¶ç­–ç•¥çš„jsonä¸­<code>%s</code>ï¼Œæ˜¯ç”¨æ¥è®¾ç½®æ¡¶åçš„å ä½ç¬¦ï¼Œæ–¹ä¾¿åŠ¨æ€æ›¿æ¢ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setBucketPolicy</span><span class="hljs-params">(String bucketName, String bucketPolicyJson)</span> {

    <span class="hljs-type">PutBucketPolicyRequest</span> <span class="hljs-variable">policyRequest</span> <span class="hljs-operator">=</span> PutBucketPolicyRequest.builder()
            .bucket(bucketName)
            .policy(String.format(bucketPolicyJson, bucketName))
            .build();
    
    s3Client.putBucketPolicy(policyRequest);
}
</code></pre>
<h2 data-id="heading-1">æŸ¥è¯¢æ¡¶ç­–ç•¥</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getBucketPolicy</span><span class="hljs-params">(String bucketName)</span> {

    <span class="hljs-type">GetBucketPolicyRequest</span> <span class="hljs-variable">policyRequest</span> <span class="hljs-operator">=</span> GetBucketPolicyRequest.builder()
            .bucket(bucketName)
            .build();

    <span class="hljs-type">GetBucketPolicyResponse</span> <span class="hljs-variable">policyResponse</span> <span class="hljs-operator">=</span> s3Client.getBucketPolicy(policyRequest);

    <span class="hljs-type">String</span> <span class="hljs-variable">policyJson</span> <span class="hljs-operator">=</span> policyResponse.policy();

    <span class="hljs-keyword">return</span> policyJson;
}
</code></pre>
<h2 data-id="heading-2">åˆ é™¤æ¡¶ç­–ç•¥</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteBucketPolicy</span><span class="hljs-params">(String bucketName)</span> {
    <span class="hljs-type">DeleteBucketPolicyRequest</span> <span class="hljs-variable">policyRequest</span> <span class="hljs-operator">=</span> DeleteBucketPolicyRequest.builder()
            .bucket(bucketName)
            .build();

    s3Client.deleteBucketPolicy(policyRequest);
}
</code></pre>
<h2 data-id="heading-3">æ€»ç»“</h2>
<p>é€šè¿‡ä»¥ä¸ŠAPIçš„è°ƒç”¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œæ¡¶ç­–ç•¥çš„ç®¡ç†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GMP è°ƒåº¦å™¨æ·±åº¦å­¦ä¹ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7594350054090686506</link>    <guid>https://juejin.cn/post/7594350054090686506</guid>    <pubDate>2026-01-12T14:45:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594350054090686506" data-draft-id="7594485030232997929" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GMP è°ƒåº¦å™¨æ·±åº¦å­¦ä¹ ç¬”è®°"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2026-01-12T14:45:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‚æ˜‡"/> <meta itemprop="url" content="https://juejin.cn/user/534829144487531"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GMP è°ƒåº¦å™¨æ·±åº¦å­¦ä¹ ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/534829144487531/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‚æ˜‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T14:45:38.000Z" title="Mon Jan 12 2026 14:45:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼ˆç†è®ºæ„å»ºï¼‰</h2>
<h3 data-id="heading-1">1. GMP ä¸‰å¤§æ ¸å¿ƒç»„ä»¶</h3>
<h4 data-id="heading-2">G (Goroutine)</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šä»£è¡¨ä¸€ä¸ª Goroutineï¼ŒåŒ…å«äº†å‡½æ•°æŒ‡é’ˆã€æ ˆä¿¡æ¯ã€çŠ¶æ€ç­‰</li>
<li><strong>é‡è¦çŠ¶æ€</strong>ï¼š
<ul>
<li><code>_Gidle</code>: åˆšåˆšåˆ†é…ï¼Œè¿˜æœªåˆå§‹åŒ–</li>
<li><code>_Grunnable</code>: åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…è¢«æ‰§è¡Œ</li>
<li><code>_Grunning</code>: æ­£åœ¨æ‰§è¡Œï¼Œå·²ç»å’Œ M ç»‘å®š</li>
<li><code>_Gsyscall</code>: æ­£åœ¨æ‰§è¡Œç³»ç»Ÿè°ƒç”¨</li>
<li><code>_Gwaiting</code>: è¢«é˜»å¡ï¼ˆç­‰å¾… channelã€é”ç­‰ï¼‰</li>
<li><code>_Gdead</code>: åˆšåˆšé€€å‡ºæˆ–æ­£åœ¨è¢«åˆå§‹åŒ–</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">M (Machine)</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šæ“ä½œç³»ç»Ÿçº¿ç¨‹çš„æŠ½è±¡ï¼ŒçœŸæ­£æ‰§è¡Œ Goroutine çš„å®ä½“</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š
<ul>
<li>M å¿…é¡»æŒæœ‰ P æ‰èƒ½æ‰§è¡Œ G</li>
<li>æ•°é‡å¯ä»¥åŠ¨æ€å¢é•¿ï¼ˆä¸Šé™é»˜è®¤ 10000ï¼‰</li>
<li>å­˜åœ¨ç‰¹æ®Šçš„ M0 å’Œç³»ç»Ÿç›‘æ§çº¿ç¨‹ sysmon</li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">P (Processor)</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šé€»è¾‘å¤„ç†å™¨ï¼Œä»£è¡¨æ‰§è¡Œ Go ä»£ç æ‰€éœ€çš„èµ„æº</li>
<li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š
<ul>
<li>ç»´æŠ¤æœ¬åœ°å¯è¿è¡Œé˜Ÿåˆ— <code>runq</code>ï¼ˆç¯å½¢é˜Ÿåˆ—ï¼Œæœ€å¤š 256 ä¸ª Gï¼‰</li>
<li>æŒæœ‰ mcacheï¼ˆç”¨äºå†…å­˜åˆ†é…ï¼‰</li>
<li>GOMAXPROCS å†³å®š P çš„æ•°é‡ï¼ˆé»˜è®¤ç­‰äº CPU æ ¸å¿ƒæ•°ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-5">2. GMP æ¨¡å‹çš„æ¼”è¿›</h3>
<pre><code class="hljs language-less" lang="less">æ—§æ¨¡å‹ï¼ˆ<span class="hljs-selector-tag">Go</span> <span class="hljs-number">1.0</span>ï¼‰: <span class="hljs-selector-tag">G</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">M</span> ç›´æ¥ç»‘å®š
é—®é¢˜ï¼šå…¨å±€é˜Ÿåˆ—ç«äº‰æ¿€çƒˆï¼Œé”å¼€é”€å¤§

æ–°æ¨¡å‹ï¼ˆ<span class="hljs-selector-tag">Go</span> <span class="hljs-number">1.1</span>+ï¼‰: <span class="hljs-selector-tag">G</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">P</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">M</span> ä¸‰å±‚ç»“æ„
ä¼˜åŠ¿ï¼š
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">P</span> çš„æœ¬åœ°é˜Ÿåˆ—å‡å°‘é”ç«äº‰
  <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Work</span> <span class="hljs-selector-tag">Stealing</span> æé«˜ <span class="hljs-selector-tag">CPU</span> åˆ©ç”¨ç‡
  <span class="hljs-selector-tag">-</span> ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œ<span class="hljs-selector-tag">M</span> å’Œ <span class="hljs-selector-tag">P</span> è§£ç»‘ï¼Œ<span class="hljs-selector-tag">P</span> å¯ä»¥ç»§ç»­è¢«å…¶ä»– <span class="hljs-selector-tag">M</span> ä½¿ç”¨
</code></pre>
<h3 data-id="heading-6">3. è°ƒåº¦å™¨çš„å…³é”®æœºåˆ¶</h3>
<h4 data-id="heading-7">è°ƒåº¦æ—¶æœº</h4>
<ol>
<li><strong>ä¸»åŠ¨è°ƒåº¦</strong>ï¼šGoroutine è°ƒç”¨ <code>runtime.Gosched()</code> ä¸»åŠ¨è®©å‡º CPU</li>
<li><strong>è¢«åŠ¨è°ƒåº¦</strong>ï¼šChannel é˜»å¡ã€é”ç­‰å¾…ã€ç½‘ç»œ IO ç­‰</li>
<li><strong>æŠ¢å å¼è°ƒåº¦</strong>ï¼š
<ul>
<li>åä½œå¼æŠ¢å ï¼ˆGo 1.13-ï¼‰ï¼šå‡½æ•°è°ƒç”¨æ—¶æ£€æŸ¥æŠ¢å æ ‡è®°</li>
<li>åŸºäºä¿¡å·çš„å¼‚æ­¥æŠ¢å ï¼ˆGo 1.14+ï¼‰ï¼šsysmon é€šè¿‡ä¿¡å·å¼ºåˆ¶æŠ¢å é•¿æ—¶é—´è¿è¡Œçš„ G</li>
</ul>
</li>
</ol>
<h4 data-id="heading-8">Work Stealingï¼ˆå·¥ä½œçªƒå–ï¼‰</h4>
<ul>
<li>å½“ P çš„æœ¬åœ°é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œä¼šå°è¯•ä»ä»¥ä¸‹ä½ç½®çªƒå– Gï¼š
<ol>
<li>å…¨å±€é˜Ÿåˆ—ï¼ˆéœ€è¦åŠ é”ï¼‰</li>
<li>å…¶ä»– P çš„æœ¬åœ°é˜Ÿåˆ—ï¼ˆçªƒå–ä¸€åŠï¼‰</li>
<li>netpollerï¼ˆæ£€æŸ¥æ˜¯å¦æœ‰å°±ç»ªçš„ç½‘ç»œ IOï¼‰</li>
</ol>
</li>
</ul>
<h4 data-id="heading-9">Hand Offï¼ˆç§»äº¤ï¼‰</h4>
<ul>
<li>å½“ M å› ç³»ç»Ÿè°ƒç”¨é˜»å¡æ—¶ï¼Œä¼šå°† P ç§»äº¤ç»™å…¶ä»–ç©ºé—²æˆ–æ–°å»ºçš„ M</li>
<li>ä¿è¯ P çš„æ•°é‡å§‹ç»ˆä¸å˜ï¼Œæœ€å¤§åŒ– CPU åˆ©ç”¨ç‡</li>
</ul>
<hr/>
<h2 data-id="heading-10">äºŒã€æºç å…³é”®ä½ç½®</h2>
<h3 data-id="heading-11">æ ¸å¿ƒæ–‡ä»¶</h3>
<ul>
<li><code>src/runtime/runtime2.go</code>: Gã€Mã€P ç»“æ„ä½“å®šä¹‰</li>
<li><code>src/runtime/proc.go</code>: è°ƒåº¦å™¨æ ¸å¿ƒé€»è¾‘ï¼ˆscheduleã€findrunnableã€execute ç­‰ï¼‰</li>
<li><code>src/runtime/asm_*.s</code>: æ±‡ç¼–å…¥å£ï¼ˆä¸åŒæ¶æ„ï¼‰</li>
<li><code>src/runtime/mgc.go</code>: GC ç›¸å…³</li>
</ul>
<h3 data-id="heading-12">å…³é”®å‡½æ•°è°ƒç”¨é“¾</h3>
<pre><code class="hljs language-css" lang="css">ç¨‹åºå¯åŠ¨:
rt0_go (æ±‡ç¼–) 
  -&gt; <span class="hljs-built_in">schedinit</span>() (åˆå§‹åŒ–è°ƒåº¦å™¨)
  -&gt; <span class="hljs-built_in">newproc</span>() (åˆ›å»º main goroutine)
  -&gt; <span class="hljs-built_in">mstart</span>() (å¯åŠ¨ M)
  -&gt; <span class="hljs-built_in">schedule</span>() (è¿›å…¥è°ƒåº¦å¾ªç¯)

è°ƒåº¦å¾ªç¯:
<span class="hljs-built_in">schedule</span>()
  -&gt; <span class="hljs-built_in">findrunnable</span>() (å¯»æ‰¾å¯æ‰§è¡Œçš„ G)
  -&gt; <span class="hljs-built_in">execute</span>() (æ‰§è¡Œ G)
  -&gt; <span class="hljs-built_in">goexit</span>() (G æ‰§è¡Œå®Œæ¯•)
  -&gt; <span class="hljs-built_in">schedule</span>() (å¾ªç¯)
</code></pre>
<hr/>
<h2 data-id="heading-13">ä¸‰ã€æ ¸å¿ƒæ•°æ®ç»“æ„å­—æ®µè¯¦è§£</h2>
<h3 data-id="heading-14">g ç»“æ„ä½“å…³é”®å­—æ®µ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> g <span class="hljs-keyword">struct</span> {
    stack       stack    <span class="hljs-comment">// æ ˆå†…å­˜èŒƒå›´ [stack.lo, stack.hi)</span>
    stackguard0 <span class="hljs-type">uintptr</span>  <span class="hljs-comment">// æ ˆæº¢å‡ºæ£€æµ‹</span>
    m           *m       <span class="hljs-comment">// å½“å‰ç»‘å®šçš„ M</span>
    sched       gobuf    <span class="hljs-comment">// è°ƒåº¦ä¿¡æ¯ï¼ˆPCã€SP ç­‰å¯„å­˜å™¨ï¼‰</span>
    atomicstatus <span class="hljs-type">uint32</span>  <span class="hljs-comment">// çŠ¶æ€ï¼ˆåŸå­æ“ä½œï¼‰</span>
    goid        <span class="hljs-type">int64</span>    <span class="hljs-comment">// goroutine ID</span>
    gopc        <span class="hljs-type">uintptr</span>  <span class="hljs-comment">// åˆ›å»ºæ­¤ goroutine çš„ PCï¼ˆç”¨äºæ ˆè¿½è¸ªï¼‰</span>
    startpc     <span class="hljs-type">uintptr</span>  <span class="hljs-comment">// goroutine å‡½æ•°çš„ PC</span>
}
</code></pre>
<h3 data-id="heading-15">m ç»“æ„ä½“å…³é”®å­—æ®µ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> m <span class="hljs-keyword">struct</span> {
    g0       *g        <span class="hljs-comment">// ç”¨äºæ‰§è¡Œè°ƒåº¦ä»£ç çš„ç‰¹æ®Š gï¼ˆæ ˆæ›´å¤§ï¼‰</span>
    curg     *g        <span class="hljs-comment">// å½“å‰è¿è¡Œçš„ G</span>
    p        puintptr  <span class="hljs-comment">// å½“å‰ç»‘å®šçš„ P</span>
    nextp    puintptr  <span class="hljs-comment">// å”¤é†’ M æ—¶ï¼Œå³å°†ç»‘å®šçš„ P</span>
    spinning <span class="hljs-type">bool</span>      <span class="hljs-comment">// æ˜¯å¦æ­£åœ¨çªƒå– G</span>
}
</code></pre>
<h3 data-id="heading-16">p ç»“æ„ä½“å…³é”®å­—æ®µ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> p <span class="hljs-keyword">struct</span> {
    status   <span class="hljs-type">uint32</span>      <span class="hljs-comment">// P çš„çŠ¶æ€</span>
    m        muintptr    <span class="hljs-comment">// ç»‘å®šçš„ M</span>
    runqhead <span class="hljs-type">uint32</span>      <span class="hljs-comment">// æœ¬åœ°é˜Ÿåˆ—å¤´</span>
    runqtail <span class="hljs-type">uint32</span>      <span class="hljs-comment">// æœ¬åœ°é˜Ÿåˆ—å°¾</span>
    runq     [<span class="hljs-number">256</span>]guintptr <span class="hljs-comment">// æœ¬åœ°è¿è¡Œé˜Ÿåˆ—ï¼ˆå¾ªç¯é˜Ÿåˆ—ï¼‰</span>
    runnext  guintptr    <span class="hljs-comment">// ä¸‹ä¸€ä¸ªè¦è¿è¡Œçš„ Gï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰</span>
    gFree    *g          <span class="hljs-comment">// å·²ç»ˆæ­¢çš„ G çš„ç¼“å­˜åˆ—è¡¨</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-17">å››ã€æ ¸å¿ƒå‡½æ•°è§£æ</h2>
<h3 data-id="heading-18">1. schedule() - è°ƒåº¦å¾ªç¯å…¥å£</h3>
<pre><code class="hljs language-markdown" lang="markdown">èŒè´£ï¼šæ‰¾åˆ°ä¸‹ä¸€ä¸ªå¯è¿è¡Œçš„ Gï¼Œå¹¶æ‰§è¡Œå®ƒ
æ ¸å¿ƒé€»è¾‘ï¼š
<span class="hljs-bullet">  1.</span> æ¯è°ƒåº¦ 61 æ¬¡ï¼Œä»å…¨å±€é˜Ÿåˆ—æ‹¿ä¸€ä¸ª Gï¼ˆé˜²æ­¢å…¨å±€é˜Ÿåˆ—é¥¥é¥¿ï¼‰
<span class="hljs-bullet">  2.</span> å°è¯•ä» P çš„æœ¬åœ°é˜Ÿåˆ—è·å– G
<span class="hljs-bullet">  3.</span> å¦‚æœæ²¡æœ‰ï¼Œè°ƒç”¨ findrunnable() è¿›è¡Œå…¨å±€æœç´¢
<span class="hljs-bullet">  4.</span> è°ƒç”¨ execute() æ‰§è¡Œ G
</code></pre>
<h3 data-id="heading-19">2. findrunnable() - æŸ¥æ‰¾å¯è¿è¡Œçš„ G</h3>
<pre><code class="hljs language-markdown" lang="markdown">æŸ¥æ‰¾é¡ºåºï¼ˆWork Stealingï¼‰ï¼š
<span class="hljs-bullet">  1.</span> æœ¬åœ°é˜Ÿåˆ— (runq)
<span class="hljs-bullet">  2.</span> å…¨å±€é˜Ÿåˆ— (globrunqget)
<span class="hljs-bullet">  3.</span> netpoller (ç½‘ç»œè½®è¯¢å™¨)
<span class="hljs-bullet">  4.</span> çªƒå–å…¶ä»– P çš„é˜Ÿåˆ— (stealWork -&gt; runqsteal)
<span class="hljs-bullet">  5.</span> å†æ¬¡æ£€æŸ¥å…¨å±€é˜Ÿåˆ—å’Œ netpoller
<span class="hljs-bullet">  6.</span> å¦‚æœè¿˜æ˜¯æ²¡æœ‰ï¼Œpark Mï¼ˆä¼‘çœ ï¼‰
</code></pre>
<h3 data-id="heading-20">3. execute() - æ‰§è¡Œ G</h3>
<pre><code class="hljs language-scss" lang="scss">èŒè´£ï¼š
  <span class="hljs-number">1</span>. å°† G ç»‘å®šåˆ°å½“å‰ M
  <span class="hljs-number">2</span>. å°† G çš„çŠ¶æ€æ”¹ä¸º _Grunning
  <span class="hljs-number">3</span>. è°ƒç”¨ <span class="hljs-built_in">gogo</span>() (æ±‡ç¼–) åˆ‡æ¢åˆ° G çš„æ ˆå¹¶æ‰§è¡Œ
</code></pre>
<h3 data-id="heading-21">4. sysmon() - ç³»ç»Ÿç›‘æ§çº¿ç¨‹</h3>
<pre><code class="hljs language-markdown" lang="markdown">èŒè´£ï¼š
<span class="hljs-bullet">  1.</span> æ£€æŸ¥é•¿æ—¶é—´è¿è¡Œçš„ Gï¼ˆ&gt;10msï¼‰ï¼Œå‘é€æŠ¢å ä¿¡å·
<span class="hljs-bullet">  2.</span> å›æ”¶é•¿æ—¶é—´é˜»å¡çš„ P
<span class="hljs-bullet">  3.</span> è§¦å‘å¼ºåˆ¶ GC
<span class="hljs-bullet">  4.</span> ç½‘ç»œè½®è¯¢å™¨çš„è¶…æ—¶æ£€æŸ¥
  
æŠ¢å æœºåˆ¶ï¼ˆGo 1.14+ï¼‰ï¼š
<span class="hljs-bullet">  -</span> å‘ç›®æ ‡ M å‘é€ SIGURG ä¿¡å·
<span class="hljs-bullet">  -</span> M æ”¶åˆ°ä¿¡å·åï¼Œåœ¨ä¿¡å·å¤„ç†å‡½æ•°ä¸­å°†å½“å‰ G æ ‡è®°ä¸ºå¯æŠ¢å 
<span class="hljs-bullet">  -</span> åœ¨ä¸‹ä¸€æ¬¡å®‰å…¨ç‚¹æ£€æŸ¥æŠ¢å æ ‡è®°ï¼Œåˆ‡æ¢åˆ° g0 å¹¶è°ƒç”¨ schedule()
</code></pre>
<hr/>
<h2 data-id="heading-22">äº”ã€å®æˆ˜è¦ç‚¹</h2>
<h3 data-id="heading-23">GODEBUG=schedtrace è¾“å‡ºè§£æ</h3>
<p>è¿è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">GODEBUG=schedtrace=1000 go run main.go
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">SCHED 1000ms: <span class="hljs-attr">gomaxprocs</span>=<span class="hljs-number">8</span> idleprocs=<span class="hljs-number">6</span> threads=<span class="hljs-number">12</span> spinningthreads=<span class="hljs-number">0</span> idlethreads=<span class="hljs-number">5</span> runqueue=<span class="hljs-number">0</span> [<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>]
</code></pre>
<p>å­—æ®µå«ä¹‰ï¼š</p>
<ul>
<li><code>1000ms</code>: ç¨‹åºè¿è¡Œæ—¶é—´</li>
<li><code>gomaxprocs=8</code>: P çš„æ•°é‡ï¼ˆGOMAXPROCSï¼‰</li>
<li><code>idleprocs=6</code>: ç©ºé—²çš„ P æ•°é‡</li>
<li><code>threads=12</code>: å½“å‰ M çš„æ€»æ•°</li>
<li><code>spinningthreads=0</code>: æ­£åœ¨çªƒå–ä»»åŠ¡çš„ M æ•°é‡</li>
<li><code>idlethreads=5</code>: ç©ºé—²çš„ M æ•°é‡</li>
<li><code>runqueue=0</code>: å…¨å±€é˜Ÿåˆ—ä¸­çš„ G æ•°é‡</li>
<li><code>[0 0 0 0 0 0 0 0]</code>: æ¯ä¸ª P çš„æœ¬åœ°é˜Ÿåˆ—ä¸­çš„ G æ•°é‡</li>
</ul>
<h3 data-id="heading-24">å…³é”®è§‚å¯ŸæŒ‡æ ‡</h3>
<ol>
<li><strong>idleprocs è¿‡é«˜</strong>ï¼šè¯´æ˜ CPU åˆ©ç”¨ç‡ä¸è¶³ï¼ŒGoroutine ä¸å¤Ÿæˆ–æœ‰å¤§é‡é˜»å¡</li>
<li><strong>spinningthreads &gt; 0</strong>ï¼šæœ‰ M åœ¨ä¸åœçªƒå–ï¼Œè¯´æ˜å­˜åœ¨è´Ÿè½½ä¸å‡è¡¡</li>
<li><strong>runqueue æŒç»­ç§¯ç´¯</strong>ï¼šå…¨å±€é˜Ÿåˆ—æœ‰å¤§é‡å¾…å¤„ç†çš„ Gï¼Œå¯èƒ½æœ‰æ€§èƒ½ç“¶é¢ˆ</li>
<li><strong>æŸäº› P çš„ runqueue ç‰¹åˆ«å¤§</strong>ï¼šè´Ÿè½½ä¸å‡ï¼Œå¯èƒ½æŸäº› Goroutine åˆ›å»ºäº†è¿‡å¤šå­ä»»åŠ¡</li>
</ol>
<hr/>
<h2 data-id="heading-25">å…­ã€å¸¸è§é¢è¯•é¢˜</h2>
<h3 data-id="heading-26">Q1: ä¸ºä»€ä¹ˆéœ€è¦ Pï¼Ÿç›´æ¥ G-M ä¸è¡Œå—ï¼Ÿ</h3>
<p>A: P çš„å­˜åœ¨æ˜¯ä¸ºäº†å‡å°‘é”ç«äº‰ã€‚æ¯ä¸ª P æœ‰ç‹¬ç«‹çš„æœ¬åœ°é˜Ÿåˆ—ï¼Œé¿å…äº†æ‰€æœ‰ M ç«äº‰å…¨å±€é˜Ÿåˆ—çš„é—®é¢˜ã€‚åŒæ—¶ P å¯ä»¥åœ¨ M é˜»å¡æ—¶ç§»äº¤ç»™å…¶ä»– Mï¼Œä¿è¯å¹¶è¡Œåº¦ã€‚</p>
<h3 data-id="heading-27">Q2: Work Stealing å¦‚ä½•é¿å…ä¸€ç›´çªƒå–ä¸åˆ°ä»»åŠ¡å¯¼è‡´çš„è‡ªæ—‹ï¼Ÿ</h3>
<p>A: findrunnable() ä¼šæœ‰å¤šè½®å°è¯•ï¼Œå¦‚æœå¤šæ¬¡å°è¯•åä»æ‰¾ä¸åˆ°ä»»åŠ¡ï¼ŒM ä¼šè¿›å…¥ park çŠ¶æ€ï¼ˆä¼‘çœ ï¼‰ï¼Œç›´åˆ°æœ‰æ–°ä»»åŠ¡æ—¶è¢«å”¤é†’ã€‚</p>
<h3 data-id="heading-28">Q3: ä»€ä¹ˆæƒ…å†µä¸‹ä¼šåˆ›å»ºæ–°çš„ Mï¼Ÿ</h3>
<p>A:</p>
<ol>
<li>ç°æœ‰ M éƒ½åœ¨æ‰§è¡Œä¸”æœ‰ç©ºé—²çš„ P</li>
<li>M å› ç³»ç»Ÿè°ƒç”¨é˜»å¡ï¼Œéœ€è¦ Hand Off P æ—¶</li>
<li>CGO è°ƒç”¨æ—¶ï¼ˆCGO è°ƒç”¨ä¼šé˜»å¡ Mï¼‰</li>
</ol>
<h3 data-id="heading-29">Q4: Goroutine çš„æ ˆæ˜¯å¦‚ä½•å¢é•¿çš„ï¼Ÿ</h3>
<p>A: Go ä½¿ç”¨åˆ†æ®µæ ˆï¼ˆSegmented Stackï¼ŒGo 1.2-ï¼‰æˆ–è¿ç»­æ ˆï¼ˆContiguous Stackï¼ŒGo 1.3+ï¼‰ã€‚æ ˆç©ºé—´ä¸è¶³æ—¶ä¼šè§¦å‘æ ˆæ‹·è´ï¼Œå°†æ—§æ ˆå†…å®¹æ‹·è´åˆ°æ–°çš„æ›´å¤§çš„æ ˆç©ºé—´ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¯æ—¥ä¸€Go-20ã€Goè¯­è¨€å®æˆ˜-åˆ©ç”¨Ginå¼€å‘ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7594103243685904427</link>    <guid>https://juejin.cn/post/7594103243685904427</guid>    <pubDate>2026-01-12T14:48:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594103243685904427" data-draft-id="7594350054090637354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¯æ—¥ä¸€Go-20ã€Goè¯­è¨€å®æˆ˜-åˆ©ç”¨Ginå¼€å‘ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½"/> <meta itemprop="keywords" content="Go"/> <meta itemprop="datePublished" content="2026-01-12T14:48:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Codingå›"/> <meta itemprop="url" content="https://juejin.cn/user/3393534758231305"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¯æ—¥ä¸€Go-20ã€Goè¯­è¨€å®æˆ˜-åˆ©ç”¨Ginå¼€å‘ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3393534758231305/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Codingå›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T14:48:53.000Z" title="Mon Jan 12 2026 14:48:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ç»¼åˆå‰é¢æ‰€å­¦çš„çŸ¥è¯†ï¼Œåˆ©ç”¨Ginå¼€å‘ä¸€ä¸ªç”¨æˆ·æ³¨å†Œç™»å½•å’ŒéªŒè¯çš„åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">1ã€é¡¹ç›®ç»“æ„</h2>
<pre><code class="hljs language-sh" lang="sh">$ tree
.
|-- config        &lt;- é…ç½®ç›®å½•
|   `-- db.go     &lt;- æ•°æ®åº“é…ç½®
|-- controllers   &lt;- æ§åˆ¶å™¨ç›®å½•
|   `-- auth.go   &lt;- è®¤è¯æ§åˆ¶å™¨
|-- go.mod
|-- go.sum
|-- main.go       &lt;- ç¨‹åºå…¥å£
|-- middlewares   &lt;- ä¸­é—´ä»¶ç›®å½•
|   `-- auth.go   &lt;- è®¤è¯ä¸­é—´ä»¶
|-- models        &lt;- æ¨¡å‹ç›®å½•
|   `-- user.go   &lt;- ç”¨æˆ·æ¨¡å‹
|-- routers       &lt;- è·¯ç”±ç›®å½•
|   |-- auth.go   &lt;- è®¤è¯è·¯ç”±
|   `-- init.go   &lt;- åˆå§‹åŒ–è·¯ç”±æ³¨å†Œ
`-- utils         &lt;- å·¥å…·ç®±
    `-- jwt.go

6 directories, 10 files
</code></pre>
<h2 data-id="heading-1">2ã€å¼€å§‹å†™ä»£ç </h2>
<h3 data-id="heading-2">2.1 config/db.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> config
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"os"</span>
    <span class="hljs-string">"time"</span>
    <span class="hljs-string">"gorm.io/driver/mysql"</span>
    <span class="hljs-string">"gorm.io/gorm"</span>
)
<span class="hljs-keyword">var</span> DB *gorm.DB
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ConnectDatabase</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// dsn := "root:123456@tcp(127.0.0.1:3306)/golang_per_day??charset=utf8&amp;parseTime=True&amp;loc=Local&amp;timeout=1000ms"</span>
    dsn := os.Getenv(<span class="hljs-string">"DATABASE_DSN"</span>)
    <span class="hljs-keyword">if</span> dsn == <span class="hljs-string">""</span> {
        <span class="hljs-built_in">panic</span>(<span class="hljs-string">"è¯·åœ¨ç¯å¢ƒå˜é‡é‡Œé…ç½®ã€DATABASE_DSNã€‘"</span>)
    }
    db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatal(<span class="hljs-string">"è¿æ¥æ¥æ•°æ®åº“å¤±è´¥ï¼š"</span>, err)
    }
    log.Println(<span class="hljs-string">"æ•°æ®åº“è¿æ¥æˆåŠŸ:"</span>, db)
    sqlDb, err := db.DB()
    <span class="hljs-keyword">if</span> err == <span class="hljs-literal">nil</span> {
        sqlDb.SetMaxIdleConns(<span class="hljs-number">10</span>)
        sqlDb.SetMaxOpenConns(<span class="hljs-number">100</span>)
        sqlDb.SetConnMaxLifetime(time.Hour)
    }
    <span class="hljs-comment">// å¼€å¯debugæ¨¡å¼</span>
    DB = db.Debug()
}
</code></pre>
<h3 data-id="heading-3">2.2 controllers/auth.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> controllers
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"gindemo2/config"</span>
    <span class="hljs-string">"gindemo2/models"</span>
    <span class="hljs-string">"gindemo2/utils"</span>
    <span class="hljs-string">"net/http"</span>
    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
    <span class="hljs-string">"golang.org/x/crypto/bcrypt"</span>
    <span class="hljs-string">"gorm.io/gorm"</span>
)
<span class="hljs-keyword">type</span> inputUser <span class="hljs-keyword">struct</span> {
    Username <span class="hljs-type">string</span> <span class="hljs-string">`json:"username" binding:"required,min=3,max=32"`</span>
    Passwd   <span class="hljs-type">string</span> <span class="hljs-string">`json:"passwd" binding:"required,min=6"`</span>
}
<span class="hljs-comment">// æ³¨å†Œç”¨æˆ·</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Register</span><span class="hljs-params">(c *gin.Context)</span></span> {
    input := inputUser{}
    <span class="hljs-keyword">if</span> err := c.ShouldBindJSON(&amp;input); err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusBadRequest, gin.H{
            <span class="hljs-string">`error`</span>: err.Error(),
        })
        <span class="hljs-keyword">return</span>
    }
    hasedPwd, err := bcrypt.GenerateFromPassword([]<span class="hljs-type">byte</span>(input.Passwd), bcrypt.DefaultCost)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusInternalServerError, gin.H{
            <span class="hljs-string">`error`</span>: <span class="hljs-string">"å“ˆå¸Œå¯†ç å¤±è´¥"</span>,
        })
        <span class="hljs-keyword">return</span>
    }
    user := models.User{
        Username: input.Username,
        PassWd:   <span class="hljs-type">string</span>(hasedPwd),
    }
    <span class="hljs-keyword">if</span> err := config.DB.Create(&amp;user).Error; err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusInternalServerError, gin.H{<span class="hljs-string">`error`</span>: err.Error()})
        <span class="hljs-keyword">return</span>
    }
    c.JSON(http.StatusOK, gin.H{
        <span class="hljs-string">`message`</span>: <span class="hljs-string">"ç”¨æˆ·åˆ›å»ºæˆåŠŸ"</span>,
        <span class="hljs-string">`user`</span>: gin.H{
            <span class="hljs-string">`id`</span>:       user.ID,
            <span class="hljs-string">`username`</span>: user.Username,
        },
    })
}
<span class="hljs-comment">// ç™»å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Login</span><span class="hljs-params">(c *gin.Context)</span></span> {
    input := inputUser{}
    <span class="hljs-keyword">if</span> err := c.ShouldBindJSON(&amp;input); err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusBadRequest, gin.H{
            <span class="hljs-string">`error`</span>: err.Error(),
        })
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">var</span> user models.User
    err := config.DB.Where(<span class="hljs-string">`username = ?`</span>, input.Username).First(&amp;user).Error
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">if</span> err == gorm.ErrRecordNotFound {
            c.JSON(http.StatusUnauthorized, gin.H{<span class="hljs-string">"error"</span>: <span class="hljs-string">"æ— æ•ˆçš„å‡­è¯"</span>})
            <span class="hljs-keyword">return</span>
        }
        c.JSON(http.StatusInternalServerError, gin.H{<span class="hljs-string">"error"</span>: err.Error()})
        <span class="hljs-keyword">return</span>
    }
    err = bcrypt.CompareHashAndPassword([]<span class="hljs-type">byte</span>(user.PassWd), []<span class="hljs-type">byte</span>(input.Passwd))
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusUnauthorized, gin.H{<span class="hljs-string">"error"</span>: <span class="hljs-string">"æ— æ•ˆçš„å‡­è¯"</span>})
        <span class="hljs-keyword">return</span>
    }
    token, err := utils.GenerateToken(user.ID)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusInternalServerError, gin.H{<span class="hljs-string">"error"</span>: <span class="hljs-string">"ç”Ÿæˆtokenå¤±è´¥"</span>})
        <span class="hljs-keyword">return</span>
    }
    c.JSON(http.StatusOK, gin.H{
        <span class="hljs-string">"message"</span>: <span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>,
        <span class="hljs-string">"token"</span>:   token,
        <span class="hljs-string">"user"</span>: gin.H{
            <span class="hljs-string">"id"</span>:       user.ID,
            <span class="hljs-string">"username"</span>: user.Username,
        },
    })
}
<span class="hljs-comment">// æŸ¥è¯¢å½“å‰ç™»å½•è€…çš„ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Me</span><span class="hljs-params">(c *gin.Context)</span></span> {
    <span class="hljs-keyword">var</span> user models.User
    uid := c.GetUint(<span class="hljs-string">`user_id`</span>)
    fmt.Println(<span class="hljs-string">`uid=`</span>, uid)
    err := config.DB.Where(<span class="hljs-string">`id=?`</span>, uid).First(&amp;user).Error
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        c.JSON(http.StatusBadRequest, gin.H{
            <span class="hljs-string">`error`</span>: err.Error(),
        })
        <span class="hljs-keyword">return</span>
    }
    c.JSON(http.StatusOK, gin.H{
        <span class="hljs-string">"message"</span>: <span class="hljs-string">"æŸ¥è¯¢æˆåŠŸ"</span>,
        <span class="hljs-string">"user"</span>: gin.H{
            <span class="hljs-string">"id"</span>:       user.ID,
            <span class="hljs-string">"username"</span>: user.Username,
        },
    })
}
</code></pre>
<h3 data-id="heading-4">2.3 middlewares/auth.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> middlewares
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"gindemo2/utils"</span>
    <span class="hljs-string">"net/http"</span>
    <span class="hljs-string">"strings"</span>
    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
)
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AuthMiddleware</span><span class="hljs-params">()</span></span> gin.HandlerFunc {
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> {
        authHeader := c.GetHeader(<span class="hljs-string">"Authorization"</span>)
        <span class="hljs-keyword">if</span> authHeader == <span class="hljs-string">""</span> {
            c.AbortWithStatusJSON(http.StatusUnauthorized, gin.H{
                <span class="hljs-string">`error`</span>: <span class="hljs-string">"Authorization header ä¸èƒ½ä¸ºç©º"</span>,
            })
            <span class="hljs-keyword">return</span>
        }
        parts := strings.Fields(authHeader)
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(parts) != <span class="hljs-number">2</span> || strings.ToLower(parts[<span class="hljs-number">0</span>]) != <span class="hljs-string">`bearer`</span> {
            c.AbortWithStatusJSON(http.StatusUnauthorized, gin.H{
                <span class="hljs-string">`error`</span>: <span class="hljs-string">"Authorization header çš„æ ¼å¼é”™è¯¯ï¼Œå¿…é¡»æ˜¯ Bearer {token}"</span>,
            })
            <span class="hljs-keyword">return</span>
        }
        token := parts[<span class="hljs-number">1</span>]
        claims, err := utils.ParseToken(token)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            c.AbortWithStatusJSON(http.StatusUnauthorized, gin.H{
                <span class="hljs-string">`error`</span>:  <span class="hljs-string">"éæ³•token"</span>,
                <span class="hljs-string">`detail`</span>: err.Error(),
            })
            <span class="hljs-keyword">return</span>
        }
        fmt.Println(<span class="hljs-string">`claims=`</span>, claims)
        <span class="hljs-comment">//è®¾å®šå½“å‰ç™»å½•çš„ç”¨æˆ·idï¼Œæ–¹ä¾¿ä¼ ä¸‹å»</span>
        c.Set(<span class="hljs-string">`user_id`</span>, claims.UserID)
        c.Next()
    }
}
</code></pre>
<h3 data-id="heading-5">2.4 models/user.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> models
<span class="hljs-keyword">import</span> <span class="hljs-string">"gorm.io/gorm"</span>
<span class="hljs-comment">// ç”¨æˆ·è¡¨</span>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
    gorm.Model
    <span class="hljs-comment">// gorm:"uniqueIndex" æ˜¯å”¯ä¸€ç´¢å¼•ï¼Œnot nullè¡¨ç¤ºä¸ä¸ºç©º</span>
    Username <span class="hljs-type">string</span> <span class="hljs-string">`json:"username" gorm:"type:varchar(30);uniqueIndex;not null"`</span>
    <span class="hljs-comment">// json:"-", - è¡¨ç¤ºä¸è¾“å‡ºåˆ°json</span>
    PassWd <span class="hljs-type">string</span> <span class="hljs-string">`json:"-" gorm:"not null"`</span>
}
</code></pre>
<h3 data-id="heading-6">2.5 routers/init.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> routers
<span class="hljs-keyword">import</span> <span class="hljs-string">"github.com/gin-gonic/gin"</span>
<span class="hljs-comment">// å®šä¹‰è·¯ç”±å‡½æ•°</span>
<span class="hljs-keyword">type</span> Router <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(*gin.Engine)</span></span>
<span class="hljs-comment">// è¿™é‡Œæ”¾æ‰€æœ‰çš„è·¯ç”±</span>
<span class="hljs-keyword">var</span> routers = []Router{}
<span class="hljs-comment">// åˆå§‹åŒ–è·¯ç”±</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">InitRouter</span><span class="hljs-params">()</span></span> *gin.Engine {
    r := gin.Default()
    <span class="hljs-keyword">for</span> _, route := <span class="hljs-keyword">range</span> routers {
        route(r)
    }
    <span class="hljs-keyword">return</span> r
}
<span class="hljs-comment">// æ³¨å†Œè·¯ç”±é€šç”¨å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">RegisterRoute</span><span class="hljs-params">(r ...Router)</span></span> {
    routers = <span class="hljs-built_in">append</span>(routers, r...)
}
</code></pre>
<h3 data-id="heading-7">2.6 routers/auth.goÂ </h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> routers
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"gindemo2/controllers"</span>
    <span class="hljs-string">"gindemo2/middlewares"</span>
    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
)
<span class="hljs-comment">// init()ä¼šåœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨è¿è¡Œ</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span> {
    RegisterRoute(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(e *gin.Engine)</span></span> {
        <span class="hljs-comment">// è·¯ç”±åˆ†ç»„</span>
        api := e.Group(<span class="hljs-string">"/api/v1"</span>)
        <span class="hljs-comment">// è·¯ç”±åˆ†ç»„</span>
        auth := api.Group(<span class="hljs-string">"/auth"</span>)
        auth.POST(<span class="hljs-string">"/login"</span>, controllers.Login)
        auth.POST(<span class="hljs-string">"/reg"</span>, controllers.Register)
        <span class="hljs-comment">// è·¯ç”±/api/v1/authå¼€å¤´çš„éƒ½åŠ ä¸Šè®¤è¯</span>
        auth.Use(middlewares.AuthMiddleware())
        {
            auth.GET(<span class="hljs-string">"/me"</span>, controllers.Me)
            <span class="hljs-comment">//å…¶ä»–è·¯ç”±</span>
        }
    })
}
</code></pre>
<h3 data-id="heading-8">2.7 utils/jwt.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> utils
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"os"</span>
    <span class="hljs-string">"time"</span>
    <span class="hljs-string">"github.com/golang-jwt/jwt/v5"</span>
)
<span class="hljs-keyword">type</span> Claims <span class="hljs-keyword">struct</span> {
    UserID <span class="hljs-type">uint</span> <span class="hljs-string">`json:"user_id"`</span>
    jwt.RegisteredClaims
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getSecret</span><span class="hljs-params">()</span></span> []<span class="hljs-type">byte</span> {
    s := os.Getenv(<span class="hljs-string">"JWT_SECRET"</span>)
    <span class="hljs-keyword">if</span> s == <span class="hljs-string">""</span> {
        <span class="hljs-built_in">panic</span>(<span class="hljs-string">"è¯·åœ¨.envæ–‡ä»¶é‡Œé…ç½®ã€JWT_SECRETã€‘"</span>)
    }
    <span class="hljs-keyword">return</span> []<span class="hljs-type">byte</span>(s)
}
<span class="hljs-comment">// ç”Ÿæˆtoken</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GenerateToken</span><span class="hljs-params">(userID <span class="hljs-type">uint</span>)</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
    expireHours := <span class="hljs-number">24</span>
    <span class="hljs-keyword">if</span> v := os.Getenv(<span class="hljs-string">"JWT_EXPIRE_HOURS"</span>); v != <span class="hljs-string">""</span> {
        <span class="hljs-keyword">var</span> parsed <span class="hljs-type">int</span>
        <span class="hljs-keyword">if</span> _, err := fmt.Sscanf(v, <span class="hljs-string">"%d"</span>, &amp;parsed); err == <span class="hljs-literal">nil</span> {
            expireHours = parsed
        }
    }
    claims := &amp;Claims{
        UserID: userID,
        RegisteredClaims: jwt.RegisteredClaims{
            ExpiresAt: jwt.NewNumericDate(time.Now().Add(time.Duration(expireHours) * time.Hour)),
            IssuedAt:  jwt.NewNumericDate(time.Now()),
            Issuer:    <span class="hljs-string">"Codeeå›"</span>,
        },
    }
    token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)
    <span class="hljs-keyword">return</span> token.SignedString(getSecret())
}
<span class="hljs-comment">// è§£ætoken</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ParseToken</span><span class="hljs-params">(tokenStr <span class="hljs-type">string</span>)</span></span> (*Claims, <span class="hljs-type">error</span>) {
    token, err := jwt.ParseWithClaims(tokenStr, &amp;Claims{}, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(token *jwt.Token)</span></span> (<span class="hljs-keyword">interface</span>{}, <span class="hljs-type">error</span>) {
        <span class="hljs-comment">// ensure signing method is HMAC</span>
        <span class="hljs-keyword">if</span> _, ok := token.Method.(*jwt.SigningMethodHMAC); !ok {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"ç­¾åæ–¹æ³•ä¸æ”¯æŒ: %v"</span>, token.Header[<span class="hljs-string">"alg"</span>])
        }
        <span class="hljs-keyword">return</span> getSecret(), <span class="hljs-literal">nil</span>
    })
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    <span class="hljs-keyword">if</span> claims, ok := token.Claims.(*Claims); ok &amp;&amp; token.Valid {
        <span class="hljs-keyword">return</span> claims, <span class="hljs-literal">nil</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"tokenæ ¡éªŒå¤±è´¥"</span>)
}
</code></pre>
<h3 data-id="heading-9">2.8 .env</h3>
<pre><code class="hljs language-go" lang="go">PORT=<span class="hljs-number">8080</span>
JWT_SECRET=Codeeå›
JWT_EXPIRE_HOURS=<span class="hljs-number">24</span>
DATABASE_DSN=root:<span class="hljs-number">123456</span>@tcp(localhost:<span class="hljs-number">3306</span>)/golang_per_day?charset=utf8&amp;parseTime=True&amp;loc=Local&amp;timeout=<span class="hljs-number">1000</span>ms
</code></pre>
<h3 data-id="heading-10">2.9 go.mod</h3>
<pre><code class="hljs language-go" lang="go">module gindemo2
<span class="hljs-keyword">go</span> <span class="hljs-number">1.23</span><span class="hljs-number">.0</span>
toolchain go1<span class="hljs-number">.24</span><span class="hljs-number">.10</span>
require (
    github.com/gin-gonic/gin v1<span class="hljs-number">.11</span><span class="hljs-number">.0</span>
    github.com/golang-jwt/jwt/v5 v5<span class="hljs-number">.3</span><span class="hljs-number">.0</span>
    github.com/joho/godotenv v1<span class="hljs-number">.5</span><span class="hljs-number">.1</span>
    golang.org/x/crypto v0<span class="hljs-number">.40</span><span class="hljs-number">.0</span>
    gorm.io/driver/mysql v1<span class="hljs-number">.6</span><span class="hljs-number">.0</span>
    gorm.io/gorm v1<span class="hljs-number">.31</span><span class="hljs-number">.1</span>
)
...
</code></pre>
<h3 data-id="heading-11">2.10 main.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"os"</span>
    <span class="hljs-string">"github.com/joho/godotenv"</span>
    <span class="hljs-string">"gindemo2/config"</span>
    <span class="hljs-string">"gindemo2/models"</span>
    <span class="hljs-string">"gindemo2/routers"</span>
)
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åŠ è½½envå˜é‡</span>
    <span class="hljs-keyword">if</span> err := godotenv.Load(); err != <span class="hljs-literal">nil</span> {
        log.Println(<span class="hljs-string">"No .env file found â€” using environment variables"</span>)
    }
    <span class="hljs-comment">// è¿æ¥æ•°æ®åº“</span>
    config.ConnectDatabase()
    <span class="hljs-comment">// è‡ªåŠ¨è¿ç§»</span>
    <span class="hljs-keyword">if</span> err := config.DB.AutoMigrate(&amp;models.User{}); err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">"AutoMigrate failed: %v"</span>, err)
    }
    <span class="hljs-comment">// åˆå§‹åŒ–è·¯ç”±</span>
    r := routers.InitRouter()
    port := os.Getenv(<span class="hljs-string">"PORT"</span>)
    <span class="hljs-keyword">if</span> port == <span class="hljs-string">""</span> {
        port = <span class="hljs-string">"8080"</span>
    }
    r.Run(<span class="hljs-string">":"</span> + port)
}
</code></pre>
<h2 data-id="heading-12">3ã€è¿è¡Œä¸æµ‹è¯•</h2>
<h3 data-id="heading-13">3.1 åˆå§‹åŒ–æ¨¡å—å¹¶ä¸‹è½½ä¾èµ–</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">go</span>Â mod tidy
</code></pre>
<h3 data-id="heading-14">3.2 å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">go</span>Â run .
</code></pre>
<h3 data-id="heading-15">3.3 æ³¨å†Œç”¨æˆ·</h3>
<pre><code class="hljs language-go" lang="go">
$ curl -X POST http:<span class="hljs-comment">//localhost:8080/api/v1/auth/reg \                                                                          </span>
  -H <span class="hljs-string">"Content-Type: application/json"</span> \                                                                                         
  -d <span class="hljs-string">'{"username":"coding_jun","passwd":"golang"}'</span>                                                                              
{<span class="hljs-string">"message"</span>:<span class="hljs-string">"ç”¨ æˆ· åˆ› å»º æˆ åŠŸ "</span>,<span class="hljs-string">"user"</span>:{<span class="hljs-string">"id"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"username"</span>:<span class="hljs-string">"coding_jun"</span>}}   
</code></pre>
<h3 data-id="heading-16">3.4 ç™»å½•</h3>
<pre><code class="hljs language-go" lang="go">$ curl -X POST http:<span class="hljs-comment">//localhost:8080/api/v1/auth/login \                                                                        </span>
  -H <span class="hljs-string">"Content-Type: application/json"</span> \                                                                                         
  -d <span class="hljs-string">'{"username":"coding_jun","passwd":"golang"}'</span>                                                                              
{<span class="hljs-string">"message"</span>:<span class="hljs-string">"ç™» å½• æˆ åŠŸ "</span>,<span class="hljs-string">"token"</span>:<span class="hljs-string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJpc3MiOiJDb2RlZeWQmyIsImV4cCI6MTc2MzM1MTcy
MywiaWF0IjoxNzYzMjY1MzIzfQ.GKNcht6PkqzO92tQuTSfy62AO8qSgZZB4AZCULfG12M"</span>,<span class="hljs-string">"user"</span>:{<span class="hljs-string">"id"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"username"</span>:<span class="hljs-string">"coding_jun"</span>}} 
</code></pre>
<h3 data-id="heading-17">3.5 è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±</h3>
<pre><code class="hljs language-go" lang="go">$ curl -H <span class="hljs-string">"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJpc3MiOiJDb2RlZeWQmyIsImV4cCI6MTc2MzM1M 
TcyMywiaWF0IjoxNzYzMjY1MzIzfQ.GKNcht6PkqzO92tQuTSfy62AO8qSgZZB4AZCULfG12M"</span> http:<span class="hljs-comment">//localhost:8080/api/v1/auth/me                 </span>
{<span class="hljs-string">"message"</span>:<span class="hljs-string">"æŸ¥ è¯¢ æˆ åŠŸ "</span>,<span class="hljs-string">"user"</span>:{<span class="hljs-string">"id"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"username"</span>:<span class="hljs-string">"coding_jun"</span>}} 
</code></pre>
<h2 data-id="heading-18">4ã€å®‰å…¨ä¸å»ºè®®ï¼ˆæ•²é»‘æ¿ï¼‰</h2>
<p><em>JWT_SECRETå¿…é¡»å¼ºå£®ä¸”ä¿å¯†ï¼Œä¸è¦æŠŠé»˜è®¤å¯†é’¥æ‰“åŒ…è¿›ä»£ç ï¼›ä½¿ç”¨HTTPSï¼›ç”Ÿæˆä¸­å»ºè®®ä½¿ç”¨Access Token+ Refresh Tokenæ¥é¿å…tokençš„é•¿æœŸæš´éœ²ï¼›ä¸¥æ ¼é”™è¯¯ä¿¡æ¯ï¼Œä¸è¦åœ¨è®¤è¯å¤±è´¥çš„æ—¶å€™è¿”å›è¿‡å¤šç»†èŠ‚ï¼Œä¾‹å¦‚â€œç”¨æˆ·ä¸å­˜åœ¨â€å°±åˆ«è¯´äº†ï¼›é˜²æ­¢æš´åŠ›ç ´è§£ï¼Œå¯¹ç™»å½•å°è¯•æ¬¡æ•°åšé™åˆ¶ï¼›åŠ å…¥tokené»‘åå•ï¼Œä¾‹å¦‚é€€å‡ºã€å¼ºåˆ¶ä¸‹çº¿ç­‰ã€‚</em></p>
<h2 data-id="heading-19">5ã€<em>æºç åœ°å€</em></h2>
<p>1ã€å…¬ä¼—å·â€œCodeeå›â€å›å¤â€œæºç â€è·å–æºç </p>
<p>2ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.baidu.com%2Fs%2F1B6pgLWfSgMngVeFfSTcPdg%3Fpwd%3Djc1s" target="_blank" title="https://pan.baidu.com/s/1B6pgLWfSgMngVeFfSTcPdg?pwd=jc1s" ref="nofollow noopener noreferrer">pan.baidu.com/s/1B6pgLWfSâ€¦</a></p>
<hr/>
<p>å¦‚æœæ‚¨å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·æ‚¨ï¼ˆç‚¹èµã€åˆ†äº«ã€äº®çˆ±å¿ƒï¼‰ï¼Œä¸‡åˆ†æ„Ÿè°¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# Flutter Provider çŠ¶æ€ç®¡ç†ç²¾è®²ï¼ˆVue å¼€å‘è€…è§†è§’ï¼‰]]></title>    <link>https://juejin.cn/post/7594093947809185826</link>    <guid>https://juejin.cn/post/7594093947809185826</guid>    <pubDate>2026-01-12T10:59:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594093947809185826" data-draft-id="7594051966890082339" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# Flutter Provider çŠ¶æ€ç®¡ç†ç²¾è®²ï¼ˆVue å¼€å‘è€…è§†è§’ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-12T10:59:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–ç«ç®­çš„å°ç”·å­©"/> <meta itemprop="url" content="https://juejin.cn/user/4457847613830523"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # Flutter Provider çŠ¶æ€ç®¡ç†ç²¾è®²ï¼ˆVue å¼€å‘è€…è§†è§’ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4457847613830523/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–ç«ç®­çš„å°ç”·å­©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T10:59:03.000Z" title="Mon Jan 12 2026 10:59:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“Œ çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/991a295ccac84c9eb3dfdb4ecb12970c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2W54Gr566t55qE5bCP55S35a2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768820343&amp;x-signature=Rx9xQVQSJNgRXyx%2FPv9nFL%2Fi1Uo%3D" alt="Flutter Provider æ ¸å¿ƒçŸ¥è¯†ä½“ç³».png" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€Vue åˆ° Flutterï¼šæ€ç»´æ¨¡å¼è½¬æ¢</h2>
<h3 data-id="heading-2">1.1 æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”è¡¨</h3>













































<table><thead><tr><th>Vue æ¦‚å¿µ</th><th>Flutter Provider æ¦‚å¿µ</th><th>å…³é”®å·®å¼‚</th></tr></thead><tbody><tr><td><strong>Vuex Store</strong></td><td><code>ChangeNotifier</code> æ¨¡å‹ç±»</td><td>Vuex æ˜¯å•ä¾‹å…¨å±€å­˜å‚¨ï¼ŒProvider å¯ä»¥åˆ›å»ºå¤šä¸ªç‹¬ç«‹ä½œç”¨åŸŸ</td></tr><tr><td><strong>State</strong></td><td>æ¨¡å‹ç±»ä¸­çš„æ•°æ®å­—æ®µ</td><td>Flutter ä¸­çŠ¶æ€æ˜¯æ˜¾å¼çš„ç±»å±æ€§ï¼Œéœ€è¦æ‰‹åŠ¨é€šçŸ¥æ›´æ–°</td></tr><tr><td><strong>Mutations</strong></td><td>æ¨¡å‹ç±»ä¸­çš„æ–¹æ³• + <code>notifyListeners()</code></td><td>Flutter æ²¡æœ‰ä¸¥æ ¼çš„ mutations çº¦æŸï¼Œä»»ä½•æ–¹æ³•éƒ½å¯ä¿®æ”¹çŠ¶æ€</td></tr><tr><td><strong>Actions</strong></td><td>æ¨¡å‹ç±»ä¸­çš„å¼‚æ­¥æ–¹æ³•</td><td>æ¦‚å¿µç±»ä¼¼ï¼Œä½†ä¸éœ€è¦ç‰¹æ®Šå®šä¹‰</td></tr><tr><td><strong>Getters</strong></td><td>æ¨¡å‹ç±»ä¸­çš„ getter æ–¹æ³•</td><td>å®Œå…¨ç›¸åŒçš„å·¥ä½œåŸç†</td></tr><tr><td><strong>mapState</strong></td><td><code>Consumer</code> / <code>Selector</code></td><td>éƒ½æ˜¯è®¢é˜…çŠ¶æ€å˜åŒ–çš„æœºåˆ¶</td></tr><tr><td><strong>this.$store</strong></td><td><code>Provider.of(context)</code></td><td>Vue é€šè¿‡ this è®¿é—®ï¼ŒFlutter é€šè¿‡ BuildContext è®¿é—®</td></tr></tbody></table>
<h3 data-id="heading-3">1.2 å…³é”®æ¶æ„å·®å¼‚</h3>
<p><strong>Vue å“åº”å¼ç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨ä¾èµ–è¿½è¸ª</li>
<li>è™šæ‹Ÿ DOM diff æ›´æ–°</li>
<li>ç»„ä»¶å†…å¯ç›´æ¥ä¿®æ”¹çŠ¶æ€ï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰</li>
</ul>
<p><strong>Flutter Provider ç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li>æ‰‹åŠ¨å£°æ˜ä¾èµ–å…³ç³»</li>
<li>Widget æ ‘é‡å»ºï¼ˆéè™šæ‹Ÿ DOMï¼‰</li>
<li><strong>ä¸å¯å˜ Widget æ ‘</strong>ï¼ˆæ ¸å¿ƒå·®å¼‚ï¼ï¼‰</li>
<li>å¿…é¡»é€šè¿‡ <code>notifyListeners()</code> æ˜¾å¼é€šçŸ¥</li>
</ul>
<h2 data-id="heading-4">äºŒã€Flutter Provider æ ¸å¿ƒæœºåˆ¶è¯¦è§£</h2>
<h3 data-id="heading-5">2.1 ä¸å¯å˜ Widget æ ‘ä¸é‡å»ºæœºåˆ¶</h3>
<p>è¿™æ˜¯ Vue å¼€å‘è€…æœ€éœ€è¦ç†è§£çš„ <strong>Flutter æ ¸å¿ƒç†å¿µ</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Flutter Widget æ˜¯ä¸å¯å˜çš„ï¼Œä¸èƒ½è¿™æ ·å†™</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-built_in">String</span> text = <span class="hljs-string">"åˆå§‹å€¼"</span>; <span class="hljs-comment">// è¿™ä¸ªå€¼æ”¹å˜åï¼ŒWidget ä¸ä¼šé‡å»º</span>
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Text(text);
  }
}

<span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šé€šè¿‡çŠ¶æ€ç®¡ç†é‡å»ºæ•´ä¸ª Widget</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// æ¯æ¬¡ build éƒ½ä» Provider è·å–æœ€æ–°å€¼</span>
    <span class="hljs-keyword">final</span> text = Provider.of&lt;MyModel&gt;(context).text;
    <span class="hljs-keyword">return</span> Text(text);
  }
}
</code></pre>
<p><strong>ç†è§£é‡ç‚¹</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡çŠ¶æ€å˜åŒ– â†’ <code>notifyListeners()</code> è¢«è°ƒç”¨</li>
<li>ä¾èµ–è¯¥çŠ¶æ€çš„ Widget çš„ <code>build()</code> æ–¹æ³•é‡æ–°æ‰§è¡Œ</li>
<li>Flutter æ¯”è¾ƒæ–°æ—§ Widget æ ‘å·®å¼‚ï¼Œåªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†</li>
</ul>
<h3 data-id="heading-6">2.2 BuildContextï¼šFlutter çš„"ä¾èµ–æ³¨å…¥å®¹å™¨"</h3>
<p>ç±»æ¯” Vue ä¸­çš„ <code>this</code>ï¼Œä½†åŠŸèƒ½æ›´å¼ºå¤§ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Vue æ–¹å¼ï¼šé€šè¿‡ this è®¿é—®å…¨å±€ store</span>
methods: {
  addItem() {
    <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">'ADD_ITEM'</span>, newItem)
  }
}

<span class="hljs-comment">// Flutter æ–¹å¼ï¼šé€šè¿‡ context è®¿é—® Provider</span>
<span class="hljs-keyword">void</span> addItem(BuildContext context) {
  <span class="hljs-comment">// listen: false è¡¨ç¤º"æˆ‘ä¸éœ€è¦ç›‘å¬å˜åŒ–ï¼Œåªæ˜¯è¯»å–/ä¿®æ”¹"</span>
  <span class="hljs-keyword">final</span> model = Provider.of&lt;ShoppingModel&gt;(context, listen: <span class="hljs-keyword">false</span>);
  model.addItem(newItem);
  <span class="hljs-comment">// æ³¨æ„ï¼šæ²¡æœ‰ç±»ä¼¼ Vuex çš„ commit çº¦æŸï¼Œç›´æ¥è°ƒç”¨æ–¹æ³•</span>
}
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€å®Œæ•´å¼€å‘æµç¨‹ç¤ºä¾‹ï¼ˆè´­ç‰©æ¸…å•åº”ç”¨ï¼‰</h2>
<h3 data-id="heading-8">3.1 ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ•°æ®æ¨¡å‹ï¼ˆç±»æ¯” Vuex Moduleï¼‰</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/models/shopping_item.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingItem</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> id;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> name;
  <span class="hljs-built_in">int</span> quantity;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> price;
  <span class="hljs-built_in">bool</span> isCompleted;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> category;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">DateTime</span> createdAt;
  
  ShoppingItem({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.name,
    <span class="hljs-keyword">this</span>.quantity = <span class="hljs-number">1</span>,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.price,
    <span class="hljs-keyword">this</span>.isCompleted = <span class="hljs-keyword">false</span>,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.category,
  }) : id = <span class="hljs-built_in">DateTime</span>.now().millisecondsSinceEpoch.toString(),
       createdAt = <span class="hljs-built_in">DateTime</span>.now();
  
  <span class="hljs-comment">// ç±»ä¼¼ Vue ä¸­çš„è®¡ç®—å±æ€§</span>
  <span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> totalPrice =&gt; quantity * price;
  
  <span class="hljs-comment">// ç±»ä¼¼ Vue ä¸­çš„æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºæ–°å®ä¾‹ï¼ˆä¸å¯å˜æ€§ï¼‰</span>
  ShoppingItem copyWith({
    <span class="hljs-built_in">String?</span> name,
    <span class="hljs-built_in">int?</span> quantity,
    <span class="hljs-built_in">double?</span> price,
    <span class="hljs-built_in">bool?</span> isCompleted,
    <span class="hljs-built_in">String?</span> category,
  }) {
    <span class="hljs-keyword">return</span> ShoppingItem(
      name: name ?? <span class="hljs-keyword">this</span>.name,
      quantity: quantity ?? <span class="hljs-keyword">this</span>.quantity,
      price: price ?? <span class="hljs-keyword">this</span>.price,
      isCompleted: isCompleted ?? <span class="hljs-keyword">this</span>.isCompleted,
      category: category ?? <span class="hljs-keyword">this</span>.category,
    );
  }
}

<span class="hljs-comment">// lib/models/shopping_list_model.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'shopping_item.dart'</span>;

<span class="hljs-comment">// ç±»æ¯” Vuex Module</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingListModel</span> <span class="hljs-title">with</span> <span class="hljs-title">ChangeNotifier</span> </span>{
  <span class="hljs-comment">// çŠ¶æ€ï¼ˆStateï¼‰</span>
  <span class="hljs-built_in">List</span>&lt;ShoppingItem&gt; _items = [];
  <span class="hljs-built_in">double</span> _budget = <span class="hljs-number">500.0</span>;
  <span class="hljs-built_in">String</span> _filter = <span class="hljs-string">'all'</span>; <span class="hljs-comment">// 'all', 'active', 'completed'</span>
  
  <span class="hljs-comment">// Getterï¼ˆè®¡ç®—å±æ€§ï¼‰</span>
  <span class="hljs-built_in">List</span>&lt;ShoppingItem&gt; <span class="hljs-keyword">get</span> items {
    <span class="hljs-keyword">switch</span> (_filter) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'active'</span>:
        <span class="hljs-keyword">return</span> _items.where((item) =&gt; !item.isCompleted).toList();
      <span class="hljs-keyword">case</span> <span class="hljs-string">'completed'</span>:
        <span class="hljs-keyword">return</span> _items.where((item) =&gt; item.isCompleted).toList();
      <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">return</span> _items;
    }
  }
  
  <span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> totalSpent {
    <span class="hljs-keyword">return</span> _items
        .where((item) =&gt; item.isCompleted)
        .fold(<span class="hljs-number">0</span>, (sum, item) =&gt; sum + item.totalPrice);
  }
  
  <span class="hljs-built_in">double</span> <span class="hljs-keyword">get</span> remainingBudget =&gt; _budget - totalSpent;
  
  <span class="hljs-built_in">int</span> <span class="hljs-keyword">get</span> activeCount =&gt; _items.where((item) =&gt; !item.isCompleted).length;
  
  <span class="hljs-comment">// Mutations/Actions</span>
  <span class="hljs-keyword">void</span> addItem(<span class="hljs-built_in">String</span> name, <span class="hljs-built_in">double</span> price, <span class="hljs-built_in">String</span> category) {
    <span class="hljs-keyword">final</span> newItem = ShoppingItem(
      name: name,
      price: price,
      category: category,
    );
    _items.add(newItem);
    _sortItems(); <span class="hljs-comment">// å†…éƒ¨æ–¹æ³•ï¼Œä¸å¯¹å¤–æš´éœ²</span>
    notifyListeners(); <span class="hljs-comment">// ç›¸å½“äº Vuex çš„ state å˜åŒ–è§¦å‘è§†å›¾æ›´æ–°</span>
  }
  
  <span class="hljs-keyword">void</span> toggleItem(<span class="hljs-built_in">String</span> id) {
    <span class="hljs-keyword">final</span> index = _items.indexWhere((item) =&gt; item.id == id);
    <span class="hljs-keyword">if</span> (index != <span class="hljs-number">-1</span>) {
      <span class="hljs-comment">// ä¸å¯å˜æ€§ï¼šåˆ›å»ºæ–°å¯¹è±¡æ›¿æ¢æ—§å¯¹è±¡</span>
      <span class="hljs-keyword">final</span> oldItem = _items[index];
      <span class="hljs-keyword">final</span> newItem = oldItem.copyWith(
        isCompleted: !oldItem.isCompleted,
      );
      _items[index] = newItem;
      notifyListeners();
    }
  }
  
  <span class="hljs-keyword">void</span> updateQuantity(<span class="hljs-built_in">String</span> id, <span class="hljs-built_in">int</span> newQuantity) {
    <span class="hljs-keyword">final</span> index = _items.indexWhere((item) =&gt; item.id == id);
    <span class="hljs-keyword">if</span> (index != <span class="hljs-number">-1</span> &amp;&amp; newQuantity &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">final</span> oldItem = _items[index];
      <span class="hljs-keyword">final</span> newItem = oldItem.copyWith(quantity: newQuantity);
      _items[index] = newItem;
      notifyListeners();
    }
  }
  
  <span class="hljs-keyword">void</span> removeItem(<span class="hljs-built_in">String</span> id) {
    _items.removeWhere((item) =&gt; item.id == id);
    notifyListeners();
  }
  
  <span class="hljs-keyword">void</span> setFilter(<span class="hljs-built_in">String</span> filter) {
    _filter = filter;
    notifyListeners(); <span class="hljs-comment">// è¿‡æ»¤æ¡ä»¶å˜åŒ–ä¹Ÿéœ€è¦é€šçŸ¥</span>
  }
  
  <span class="hljs-keyword">void</span> updateBudget(<span class="hljs-built_in">double</span> newBudget) {
    _budget = newBudget;
    notifyListeners();
  }
  
  <span class="hljs-comment">// ç§æœ‰æ–¹æ³•ï¼Œä¸éœ€è¦é€šçŸ¥å¤–éƒ¨</span>
  <span class="hljs-keyword">void</span> _sortItems() {
    _items.sort((a, b) =&gt; a.createdAt.compareTo(b.createdAt));
  }
  
  <span class="hljs-comment">// å¼‚æ­¥ Action ç¤ºä¾‹ï¼ˆå¦‚ä» API åŠ è½½ï¼‰</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; loadInitialItems() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// æ¨¡æ‹Ÿ API è¯·æ±‚</span>
    <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>));
    
    _items = [
      ShoppingItem(name: <span class="hljs-string">'ç‰›å¥¶'</span>, price: <span class="hljs-number">12.5</span>, category: <span class="hljs-string">'é£Ÿå“'</span>),
      ShoppingItem(name: <span class="hljs-string">'é¸¡è›‹'</span>, price: <span class="hljs-number">25.0</span>, category: <span class="hljs-string">'é£Ÿå“'</span>, quantity: <span class="hljs-number">2</span>),
      ShoppingItem(name: <span class="hljs-string">'çº¸å·¾'</span>, price: <span class="hljs-number">15.0</span>, category: <span class="hljs-string">'æ—¥ç”¨å“'</span>, isCompleted: <span class="hljs-keyword">true</span>),
    ];
    notifyListeners();
  }
}
</code></pre>
<h3 data-id="heading-9">3.2 ç¬¬äºŒæ­¥ï¼šProvider æ³¨å…¥ï¼ˆç±»æ¯” Vue.use(Vuex)ï¼‰</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/main.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:provider/provider.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'models/shopping_list_model.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'screens/home_screen.dart'</span>;

<span class="hljs-keyword">void</span> main() {
  runApp(
    <span class="hljs-comment">// MultiProvider ç±»æ¯” Vuex çš„ modules</span>
    MultiProvider(
      providers: [
        <span class="hljs-comment">// æ¯ä¸ª Provider éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„"ä½œç”¨åŸŸ"</span>
        ChangeNotifierProvider(
          create: (context) =&gt; ShoppingListModel(),
          <span class="hljs-comment">// å¯é€‰ï¼šåˆå§‹åŒ–æ—¶åŠ è½½æ•°æ®</span>
          lazy: <span class="hljs-keyword">false</span>, <span class="hljs-comment">// ç«‹å³åˆ›å»ºï¼Œä¸å»¶è¿Ÿ</span>
        ),
        <span class="hljs-comment">// å¯ä»¥æ·»åŠ æ›´å¤š Providerï¼ˆå¦‚ç”¨æˆ·é…ç½®ã€ä¸»é¢˜ç­‰ï¼‰</span>
      ],
      child: MyApp(),
    ),
  );
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œè®¿é—® Providerï¼Œä½†é€šå¸¸ä¸åœ¨è¿™é‡Œæ¶ˆè´¹æ•°æ®</span>
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">'æ™ºèƒ½è´­ç‰©æ¸…å•'</span>,
      theme: ThemeData(
        primarySwatch: Colors.blue,
        visualDensity: VisualDensity.adaptivePlatformDensity,
      ),
      home: HomeScreen(),
      debugShowCheckedModeBanner: <span class="hljs-keyword">false</span>,
    );
  }
}
</code></pre>
<h3 data-id="heading-10">3.3 ç¬¬ä¸‰æ­¥ï¼šUI ç»„ä»¶æ¶ˆè´¹çŠ¶æ€</h3>
<h4 data-id="heading-11">3.3.1 æ–¹å¼ä¸€ï¼šConsumerï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/widgets/shopping_list.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:provider/provider.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../models/shopping_list_model.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// Consumer ç±»ä¼¼äº Vue çš„ mapState</span>
    <span class="hljs-keyword">return</span> Consumer&lt;ShoppingListModel&gt;(
      builder: (context, model, child) {
        <span class="hljs-comment">// model æ˜¯å½“å‰ ShoppingListModel çš„å®ä¾‹</span>
        <span class="hljs-keyword">if</span> (model.items.isEmpty) {
          <span class="hljs-keyword">return</span> Center(
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Icon(Icons.shopping_cart_outlined, size: <span class="hljs-number">64</span>, color: Colors.grey[<span class="hljs-number">300</span>]),
                SizedBox(height: <span class="hljs-number">16</span>),
                Text(
                  <span class="hljs-string">'è´­ç‰©æ¸…å•ä¸ºç©º'</span>,
                  style: TextStyle(color: Colors.grey, fontSize: <span class="hljs-number">18</span>),
                ),
                TextButton(
                  onPressed: () =&gt; model.loadInitialItems(),
                  child: Text(<span class="hljs-string">'åŠ è½½ç¤ºä¾‹æ•°æ®'</span>),
                ),
              ],
            ),
          );
        }
        
        <span class="hljs-keyword">return</span> ListView.builder(
          itemCount: model.items.length,
          itemBuilder: (context, index) {
            <span class="hljs-keyword">final</span> item = model.items[index];
            <span class="hljs-keyword">return</span> _ShoppingItemCard(item: item);
          },
        );
      },
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_ShoppingItemCard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> ShoppingItem item;
  
  <span class="hljs-keyword">const</span> _ShoppingItemCard({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.item});
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// åœ¨å†…éƒ¨ä½¿ç”¨ Provider.ofï¼Œç±»ä¼¼ Vue çš„ this.$store</span>
    <span class="hljs-keyword">final</span> model = Provider.of&lt;ShoppingListModel&gt;(context, listen: <span class="hljs-keyword">false</span>);
    
    <span class="hljs-keyword">return</span> Card(
      margin: EdgeInsets.symmetric(horizontal: <span class="hljs-number">16</span>, vertical: <span class="hljs-number">8</span>),
      elevation: <span class="hljs-number">2</span>,
      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(<span class="hljs-number">12</span>)),
      child: ListTile(
        leading: Checkbox(
          value: item.isCompleted,
          onChanged: (_) =&gt; model.toggleItem(item.id),
          shape: CircleBorder(),
        ),
        title: Text(
          item.name,
          style: TextStyle(
            fontSize: <span class="hljs-number">16</span>,
            decoration: item.isCompleted ? TextDecoration.lineThrough : <span class="hljs-keyword">null</span>,
            color: item.isCompleted ? Colors.grey : Colors.black87,
          ),
        ),
        subtitle: Text(
          <span class="hljs-string">'<span class="hljs-subst">${item.quantity}</span> Ã— Â¥<span class="hljs-subst">${item.price.toStringAsFixed(<span class="hljs-number">2</span>)}</span> = Â¥<span class="hljs-subst">${item.totalPrice.toStringAsFixed(<span class="hljs-number">2</span>)}</span>'</span>,
          style: TextStyle(
            color: item.isCompleted ? Colors.grey : Colors.blueGrey,
          ),
        ),
        trailing: Row(
          mainAxisSize: MainAxisSize.min,
          children: [
            <span class="hljs-comment">// æ•°é‡è°ƒæ•´</span>
            Container(
              decoration: BoxDecoration(
                color: Colors.blue[<span class="hljs-number">50</span>],
                borderRadius: BorderRadius.circular(<span class="hljs-number">20</span>),
              ),
              child: Row(
                children: [
                  IconButton(
                    icon: Icon(Icons.remove, size: <span class="hljs-number">18</span>),
                    onPressed: () =&gt; model.updateQuantity(item.id, item.quantity - <span class="hljs-number">1</span>),
                  ),
                  Text(<span class="hljs-string">'<span class="hljs-subst">${item.quantity}</span>'</span>),
                  IconButton(
                    icon: Icon(Icons.add, size: <span class="hljs-number">18</span>),
                    onPressed: () =&gt; model.updateQuantity(item.id, item.quantity + <span class="hljs-number">1</span>),
                  ),
                ],
              ),
            ),
            SizedBox(width: <span class="hljs-number">8</span>),
            <span class="hljs-comment">// åˆ é™¤æŒ‰é’®</span>
            IconButton(
              icon: Icon(Icons.delete_outline, color: Colors.red[<span class="hljs-number">300</span>]),
              onPressed: () =&gt; model.removeItem(item.id),
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-12">3.3.2 æ–¹å¼äºŒï¼šSelectorï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/widgets/stats_card.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:provider/provider.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../models/shopping_list_model.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StatsCard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// Selector ç±»ä¼¼äº Vue çš„è®¡ç®—å±æ€§ + æ¡ä»¶æ¸²æŸ“</span>
    <span class="hljs-comment">// åªç›‘å¬ç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„é‡å»º</span>
    <span class="hljs-keyword">return</span> Selector&lt;ShoppingListModel, <span class="hljs-built_in">double</span>&gt;(
      selector: (context, model) =&gt; model.totalSpent,
      builder: (context, totalSpent, child) {
        <span class="hljs-comment">// child æ˜¯ä¸ä¼šé‡å»ºçš„éƒ¨åˆ†ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</span>
        <span class="hljs-keyword">return</span> Selector&lt;ShoppingListModel, <span class="hljs-built_in">double</span>&gt;(
          selector: (context, model) =&gt; model.remainingBudget,
          builder: (context, remainingBudget, child) {
            <span class="hljs-keyword">return</span> Selector&lt;ShoppingListModel, <span class="hljs-built_in">int</span>&gt;(
              selector: (context, model) =&gt; model.activeCount,
              builder: (context, activeCount, child) {
                <span class="hljs-keyword">return</span> Card(
                  margin: EdgeInsets.all(<span class="hljs-number">16</span>),
                  color: Colors.blue[<span class="hljs-number">50</span>],
                  child: Padding(
                    padding: EdgeInsets.all(<span class="hljs-number">16</span>),
                    child: Column(
                      children: [
                        <span class="hljs-comment">// æ€»èŠ±è´¹</span>
                        _StatRow(
                          icon: Icons.shopping_cart,
                          label: <span class="hljs-string">'å·²èŠ±è´¹'</span>,
                          value: <span class="hljs-string">'Â¥<span class="hljs-subst">${totalSpent.toStringAsFixed(<span class="hljs-number">2</span>)}</span>'</span>,
                          color: Colors.blue,
                        ),
                        Divider(height: <span class="hljs-number">20</span>),
                        <span class="hljs-comment">// å‰©ä½™é¢„ç®—</span>
                        _StatRow(
                          icon: Icons.account_balance_wallet,
                          label: <span class="hljs-string">'å‰©ä½™é¢„ç®—'</span>,
                          value: <span class="hljs-string">'Â¥<span class="hljs-subst">${remainingBudget.toStringAsFixed(<span class="hljs-number">2</span>)}</span>'</span>,
                          color: remainingBudget &gt; <span class="hljs-number">0</span> ? Colors.green : Colors.red,
                        ),
                        Divider(height: <span class="hljs-number">20</span>),
                        <span class="hljs-comment">// å¾…è´­æ•°é‡</span>
                        _StatRow(
                          icon: Icons.checklist,
                          label: <span class="hljs-string">'å¾…è´­é¡¹ç›®'</span>,
                          value: <span class="hljs-string">'<span class="hljs-subst">$activeCount</span> é¡¹'</span>,
                          color: Colors.orange,
                        ),
                        <span class="hljs-comment">// é¢„ç®—è¿›åº¦æ¡</span>
                        SizedBox(height: <span class="hljs-number">16</span>),
                        LinearProgressIndicator(
                          value: totalSpent / <span class="hljs-number">500</span>, <span class="hljs-comment">// 500æ˜¯é¢„ç®—ä¸Šé™</span>
                          backgroundColor: Colors.grey[<span class="hljs-number">200</span>],
                          valueColor: AlwaysStoppedAnimation&lt;Color&gt;(
                            remainingBudget &gt; <span class="hljs-number">0</span> ? Colors.green : Colors.red,
                          ),
                        ),
                      ],
                    ),
                  ),
                );
              },
            );
          },
        );
      },
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_StatRow</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> IconData icon;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> label;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> value;
  <span class="hljs-keyword">final</span> Color color;
  
  <span class="hljs-keyword">const</span> _StatRow({
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.icon,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.label,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.value,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.color,
  });
  
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Row(
      children: [
        Icon(icon, color: color),
        SizedBox(width: <span class="hljs-number">12</span>),
        Expanded(
          child: Text(label, style: TextStyle(fontSize: <span class="hljs-number">14</span>, color: Colors.grey[<span class="hljs-number">700</span>])),
        ),
        Text(
          value,
          style: TextStyle(
            fontSize: <span class="hljs-number">16</span>,
            fontWeight: FontWeight.bold,
            color: color,
          ),
        ),
      ],
    );
  }
}
</code></pre>
<h4 data-id="heading-13">3.3.3 æ–¹å¼ä¸‰ï¼šcontext.watch / context.readï¼ˆDart æ‰©å±•æ–¹æ³•ï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/screens/home_screen.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:provider/provider.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../models/shopping_list_model.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../widgets/shopping_list.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../widgets/stats_card.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../widgets/add_item_dialog.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomeScreen</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// context.watch ç±»ä¼¼äº Vue 3 çš„ useStore() + computed</span>
    <span class="hljs-comment">// å®ƒä¼šç›‘å¬å˜åŒ–ï¼Œæ•°æ®æ›´æ–°æ—¶é‡å»º Widget</span>
    <span class="hljs-keyword">final</span> filter = context.watch&lt;ShoppingListModel&gt;().filter;
    
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(
        title: Text(<span class="hljs-string">'æ™ºèƒ½è´­ç‰©æ¸…å•'</span>),
        actions: [
          <span class="hljs-comment">// è¿‡æ»¤æŒ‰é’®</span>
          PopupMenuButton&lt;<span class="hljs-built_in">String</span>&gt;(
            onSelected: (value) {
              <span class="hljs-comment">// context.read ç±»ä¼¼äº listen: false çš„ Provider.of</span>
              <span class="hljs-comment">// åªè¯»å–æ•°æ®ï¼Œä¸ç›‘å¬å˜åŒ–</span>
              context.read&lt;ShoppingListModel&gt;().setFilter(value);
            },
            itemBuilder: (context) =&gt; [
              PopupMenuItem(value: <span class="hljs-string">'all'</span>, child: Text(<span class="hljs-string">'å…¨éƒ¨'</span>)),
              PopupMenuItem(value: <span class="hljs-string">'active'</span>, child: Text(<span class="hljs-string">'å¾…è´­'</span>)),
              PopupMenuItem(value: <span class="hljs-string">'completed'</span>, child: Text(<span class="hljs-string">'å·²è´­'</span>)),
            ],
            child: Row(
              children: [
                Icon(Icons.filter_list),
                SizedBox(width: <span class="hljs-number">4</span>),
                Text(_getFilterText(filter)),
              ],
            ),
          ),
          SizedBox(width: <span class="hljs-number">16</span>),
        ],
      ),
      body: Column(
        children: [
          <span class="hljs-comment">// ç»Ÿè®¡å¡ç‰‡</span>
          StatsCard(),
          SizedBox(height: <span class="hljs-number">8</span>),
          <span class="hljs-comment">// è´­ç‰©æ¸…å•</span>
          Expanded(child: ShoppingList()),
        ],
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () =&gt; _showAddDialog(context),
        child: Icon(Icons.add),
        backgroundColor: Colors.blue,
      ),
    );
  }
  
  <span class="hljs-built_in">String</span> _getFilterText(<span class="hljs-built_in">String</span> filter) {
    <span class="hljs-keyword">switch</span> (filter) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'active'</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'å¾…è´­'</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'completed'</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²è´­'</span>;
      <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">'å…¨éƒ¨'</span>;
    }
  }
  
  <span class="hljs-keyword">void</span> _showAddDialog(BuildContext context) {
    showDialog(
      context: context,
      builder: (context) =&gt; AddItemDialog(),
    );
  }
}
</code></pre>
<h2 data-id="heading-14">å››ã€Vue å¼€å‘è€…ç‰¹åˆ«æ³¨æ„çš„é™·é˜±</h2>
<h3 data-id="heading-15">4.1 é¿å…ä¸å¿…è¦çš„é‡å»º</h3>
<p><strong>é”™è¯¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ•´ä¸ªé¡µé¢éƒ½åœ¨ç›‘å¬å˜åŒ–</span>
<span class="hljs-meta">@override</span>
Widget build(BuildContext context) {
  <span class="hljs-keyword">final</span> model = Provider.of&lt;ShoppingListModel&gt;(context);
  <span class="hljs-keyword">return</span> Scaffold(
    appBar: AppBar(title: Text(<span class="hljs-string">'è´­ç‰©æ¸…å•'</span>)),
    body: ListView(
      children: [
        <span class="hljs-comment">// ä»»ä½•çŠ¶æ€å˜åŒ–éƒ½ä¼šé‡å»ºæ•´ä¸ªé¡µé¢ï¼</span>
        _buildStats(model),
        _buildList(model),
        _buildFooter(model),
      ],
    ),
  );
}
</code></pre>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ç²¾ç»†åŒ–ç›‘å¬</span>
<span class="hljs-meta">@override</span>
Widget build(BuildContext context) {
  <span class="hljs-keyword">return</span> Scaffold(
    appBar: AppBar(title: Text(<span class="hljs-string">'è´­ç‰©æ¸…å•'</span>)),
    body: Column(
      children: [
        <span class="hljs-comment">// åªæœ‰ç»Ÿè®¡éƒ¨åˆ†ç›‘å¬ç»Ÿè®¡æ•°æ®å˜åŒ–</span>
        StatsCard(),
        <span class="hljs-comment">// åªæœ‰åˆ—è¡¨éƒ¨åˆ†ç›‘å¬åˆ—è¡¨æ•°æ®å˜åŒ–</span>
        Expanded(child: ShoppingList()),
        <span class="hljs-comment">// é¡µè„šä¸éœ€è¦ç›‘å¬</span>
        _buildFooter(),
      ],
    ),
  );
}
</code></pre>
<h3 data-id="heading-16">4.2 å¤„ç†å¼‚æ­¥æ“ä½œ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingListModel</span> <span class="hljs-title">with</span> <span class="hljs-title">ChangeNotifier</span> </span>{
  <span class="hljs-built_in">bool</span> _isLoading = <span class="hljs-keyword">false</span>;
  <span class="hljs-built_in">String?</span> _error;
  
  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> isLoading =&gt; _isLoading;
  <span class="hljs-built_in">String?</span> <span class="hljs-keyword">get</span> error =&gt; _error;
  
  Future&lt;<span class="hljs-keyword">void</span>&gt; fetchItems() <span class="hljs-keyword">async</span> {
    _isLoading = <span class="hljs-keyword">true</span>;
    _error = <span class="hljs-keyword">null</span>;
    notifyListeners(); <span class="hljs-comment">// é€šçŸ¥ UI æ˜¾ç¤ºåŠ è½½çŠ¶æ€</span>
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// æ¨¡æ‹Ÿ API è°ƒç”¨</span>
      <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>));
      _items = <span class="hljs-keyword">await</span> _apiService.getItems();
      _error = <span class="hljs-keyword">null</span>;
    } <span class="hljs-keyword">catch</span> (e) {
      _error = <span class="hljs-string">'åŠ è½½å¤±è´¥: <span class="hljs-subst">$e</span>'</span>;
    } <span class="hljs-keyword">finally</span> {
      _isLoading = <span class="hljs-keyword">false</span>;
      notifyListeners(); <span class="hljs-comment">// é€šçŸ¥ UI æ›´æ–°çŠ¶æ€</span>
    }
  }
}

<span class="hljs-comment">// UI ä¸­ä½¿ç”¨</span>
Consumer&lt;ShoppingListModel&gt;(
  builder: (context, model, child) {
    <span class="hljs-keyword">if</span> (model.isLoading) {
      <span class="hljs-keyword">return</span> Center(child: CircularProgressIndicator());
    }
    
    <span class="hljs-keyword">if</span> (model.error != <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">return</span> Center(child: Text(<span class="hljs-string">'é”™è¯¯: <span class="hljs-subst">${model.error}</span>'</span>));
    }
    
    <span class="hljs-keyword">return</span> ListView(...);
  },
)
</code></pre>
<h3 data-id="heading-17">4.3 åµŒå¥— Provider ä½œç”¨åŸŸ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å¯ä»¥åµŒå¥—ä¸åŒä½œç”¨åŸŸçš„ Provider</span>
ChangeNotifierProvider(
  create: (_) =&gt; GlobalModel(),
  child: Builder(
    builder: (context) {
      <span class="hljs-comment">// è¿™é‡Œå¯ä»¥è®¿é—® GlobalModel</span>
      <span class="hljs-keyword">final</span> globalModel = context.read&lt;GlobalModel&gt;();
      
      <span class="hljs-keyword">return</span> ChangeNotifierProvider(
        create: (_) =&gt; LocalModel(globalModel.someValue),
        child: LocalScreen(),
      );
    },
  ),
)
</code></pre>
<h2 data-id="heading-18">äº”ã€é¡¹ç›®ç»“æ„å»ºè®®</h2>
<pre><code class="hljs language-bash" lang="bash">lib/
â”œâ”€â”€ main.dart                    <span class="hljs-comment"># åº”ç”¨å…¥å£ï¼ŒProvider åˆå§‹åŒ–</span>
â”œâ”€â”€ models/                      <span class="hljs-comment"># æ•°æ®æ¨¡å‹ï¼ˆç›¸å½“äº Vuex modulesï¼‰</span>
â”‚   â”œâ”€â”€ shopping_item.dart      <span class="hljs-comment"># æ•°æ®ç±»ï¼ˆç›¸å½“äº Vuex state ç»“æ„ï¼‰</span>
â”‚   â”œâ”€â”€ shopping_list_model.dart <span class="hljs-comment"># ChangeNotifier ç±»</span>
â”‚   â””â”€â”€ user_preferences.dart   <span class="hljs-comment"># å…¶ä»–æ¨¡å‹</span>
â”œâ”€â”€ providers/                   <span class="hljs-comment"># Provider é…ç½®ï¼ˆå¯é€‰ï¼‰</span>
â”‚   â””â”€â”€ multi_providers.dart    <span class="hljs-comment"># MultiProvider é…ç½®</span>
â”œâ”€â”€ screens/                     <span class="hljs-comment"># é¡µé¢çº§ç»„ä»¶</span>
â”‚   â”œâ”€â”€ home_screen.dart
â”‚   â””â”€â”€ settings_screen.dart
â”œâ”€â”€ widgets/                     <span class="hljs-comment"># å¯å¤ç”¨ UI ç»„ä»¶</span>
â”‚   â”œâ”€â”€ shopping_list.dart
â”‚   â”œâ”€â”€ stats_card.dart
â”‚   â””â”€â”€ add_item_dialog.dart
â”œâ”€â”€ services/                    <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘ï¼ˆAPI è°ƒç”¨ç­‰ï¼‰</span>
â”‚   â””â”€â”€ api_service.dart
â””â”€â”€ utils/                       <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
    â””â”€â”€ formatters.dart
</code></pre>
<h2 data-id="heading-19">å…­ã€è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-20">6.1 Provider è°ƒè¯•å·¥å…·</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åœ¨ MaterialApp å¤–å±‚åŒ…è£¹</span>
<span class="hljs-keyword">void</span> main() {
  runApp(
    MultiProvider(
      providers: [...],
      child: Builder(
        builder: (context) {
          <span class="hljs-comment">// æ·»åŠ è°ƒè¯•å±‚</span>
          <span class="hljs-keyword">return</span> ProviderDebugger(
            child: MyApp(),
            showProviderData: <span class="hljs-keyword">true</span>, <span class="hljs-comment">// æ˜¾ç¤ºå½“å‰å¯ç”¨çš„ Provider</span>
            showRebuildCount: <span class="hljs-keyword">true</span>, <span class="hljs-comment">// æ˜¾ç¤º Widget é‡å»ºæ¬¡æ•°</span>
          );
        },
      ),
    ),
  );
}
</code></pre>
<h3 data-id="heading-21">6.2 æ€§èƒ½åˆ†æ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä½¿ç”¨ Flutter DevTools çš„ Performance é¢æ¿</span>
<span class="hljs-comment">// 1. è¿è¡Œåº”ç”¨æ—¶æŒ‰ 'P' æ‰“å¼€æ€§èƒ½é¢æ¿</span>
<span class="hljs-comment">// 2. æŸ¥çœ‹ Widget é‡å»ºæ¬¡æ•°</span>
<span class="hljs-comment">// 3. æ£€æŸ¥æ˜¯å¦æœ‰ä¸å¿…è¦çš„é‡å»º</span>

<span class="hljs-comment">// åœ¨ä»£ç ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShoppingList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'ShoppingList é‡å»º'</span>); <span class="hljs-comment">// æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º</span>
    <span class="hljs-keyword">return</span> Consumer&lt;ShoppingListModel&gt;(
      builder: (context, model, child) {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'Consumer é‡å»ºï¼Œé¡¹ç›®æ•°: <span class="hljs-subst">${model.items.length}</span>'</span>);
        <span class="hljs-keyword">return</span> ...;
      },
    );
  }
}
</code></pre>
<h2 data-id="heading-22">æ€»ç»“ï¼šVue åˆ° Flutter çš„å…³é”®è½¬æ¢</h2>
<ol>
<li><strong>çŠ¶æ€å˜æ›´</strong>ï¼šVue è‡ªåŠ¨è¿½è¸ª vs Flutter æ‰‹åŠ¨ <code>notifyListeners()</code></li>
<li><strong>ç»„ä»¶æ›´æ–°</strong>ï¼šVue è™šæ‹Ÿ DOM diff vs Flutter Widget æ ‘é‡å»º</li>
<li><strong>çŠ¶æ€è®¿é—®</strong>ï¼šVue <code>this.$store</code> vs Flutter <code>Provider.of(context)</code></li>
<li><strong>å“åº”å¼</strong>ï¼šVue è‡ªåŠ¨ä¾èµ–æ”¶é›† vs Flutter æ˜¾å¼å£°æ˜ä¾èµ–</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šVue è®¡ç®—å±æ€§ vs Flutter Selector</li>
</ol>
<p>é€šè¿‡è¿™ä¸ªè¯¦ç»†çš„è´­ç‰©æ¸…å•ç¤ºä¾‹ï¼Œä½ åº”è¯¥èƒ½å¤Ÿå°† Vue çš„çŠ¶æ€ç®¡ç†ç»éªŒé¡ºåˆ©è¿ç§»åˆ° Flutter Providerã€‚è®°ä½æ ¸å¿ƒåŸåˆ™ï¼š<strong>çŠ¶æ€å˜åŒ– â†’ é€šçŸ¥ç›‘å¬è€… â†’ Widget é‡å»º</strong>ï¼Œå…¶ä»–éƒ½æ˜¯å›´ç»•è¿™ä¸ªæœºåˆ¶çš„ä¼˜åŒ–å’Œå®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Typescriptçš„inferåˆ°åº•æ€ä¹ˆä½¿ç”¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7594303751965343790</link>    <guid>https://juejin.cn/post/7594303751965343790</guid>    <pubDate>2026-01-12T11:31:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594303751965343790" data-draft-id="7594270467030663195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Typescriptçš„inferåˆ°åº•æ€ä¹ˆä½¿ç”¨ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2026-01-12T11:31:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ»¡å¤©æ˜Ÿè¾°"/> <meta itemprop="url" content="https://juejin.cn/user/2771198801097485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Typescriptçš„inferåˆ°åº•æ€ä¹ˆä½¿ç”¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2771198801097485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ»¡å¤©æ˜Ÿè¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T11:31:51.000Z" title="Mon Jan 12 2026 11:31:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>infer</code>Â æ˜¯ TypeScript ä¸­<strong>æ¡ä»¶ç±»å‹</strong>çš„ä¸€ä¸ªå…³é”®å­—ï¼Œä¸»è¦ç”¨äº<strong>åœ¨æ¡ä»¶ç±»å‹ä¸­è¿›è¡Œç±»å‹æ¨æ–­</strong>ã€‚å®ƒå…è®¸æˆ‘ä»¬åœ¨æ³›å‹æ¡ä»¶ç±»å‹ä¸­<strong>å£°æ˜ä¸€ä¸ªç±»å‹å˜é‡</strong>ï¼Œç„¶åä»å…¶ä»–ç±»å‹ä¸­<strong>æ¨æ–­å‡ºè¿™ä¸ªç±»å‹</strong>ã€‚</p>
<h2 data-id="heading-0">åŸºæœ¬è¯­æ³•</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ReturnType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; infer R ? R : <span class="hljs-built_in">never</span>;
</code></pre>
<h2 data-id="heading-1">ä¸»è¦ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-2">1.Â <strong>è·å–å‡½æ•°è¿”å›ç±»å‹</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">// å†…ç½®çš„ ReturnType å®ç°åŸç†
type MyReturnType&lt;T&gt; = T extends (...args: any[]) =&gt; infer R ? R : never;

function foo(): string {
  return "hello";
}

type FooReturn = MyReturnType&lt;typeof foo&gt;; // string
</code></pre>
<h3 data-id="heading-3">2.Â <strong>è·å–å‡½æ•°å‚æ•°ç±»å‹</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">// è·å–ç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹
type FirstParam&lt;T&gt; = T extends (first: infer P, ...rest: any[]) =&gt; any ? P : never;

// è·å–æ‰€æœ‰å‚æ•°ç±»å‹ï¼ˆå…ƒç»„ï¼‰
type Params&lt;T&gt; = T extends (...args: infer P) =&gt; any ? P : never;

function bar(x: number, y: string): void {}

type BarFirstParam = FirstParam&lt;typeof bar&gt;; // number
type BarParams = Params&lt;typeof bar&gt;; // [number, string]
</code></pre>
<h3 data-id="heading-4">3.Â <strong>è·å–æ•°ç»„/å…ƒç»„å…ƒç´ ç±»å‹</strong></h3>
<p>typescript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ArrayElement</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (infer U)[] ? U : <span class="hljs-built_in">never</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">StrArrayElement</span> = <span class="hljs-title class_">ArrayElement</span>&lt;<span class="hljs-built_in">string</span>[]&gt;; <span class="hljs-comment">// string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NumArrayElement</span> = <span class="hljs-title class_">ArrayElement</span>&lt;<span class="hljs-built_in">number</span>[]&gt;; <span class="hljs-comment">// number</span>
</code></pre>
<h3 data-id="heading-5">4.Â <strong>è·å– Promise çš„è§£æç±»å‹</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">UnwrapPromise</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer U&gt; ? U : T;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">PromiseString</span> = <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Unwrapped</span> = <span class="hljs-title class_">UnwrapPromise</span>&lt;<span class="hljs-title class_">PromiseString</span>&gt;; <span class="hljs-comment">// string</span>
</code></pre>
<h2 data-id="heading-6">å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-7">ç¤ºä¾‹1ï¼šæå–å¯¹è±¡å€¼ç±»å‹</h3>
<pre><code class="hljs language-typescr" lang="typescr">type ValueOf&lt;T&gt; = T extends { [key: string]: infer V } ? V : never;

type Obj = { a: number; b: string };
type Values = ValueOf&lt;Obj&gt;; // number | string
</code></pre>
<h3 data-id="heading-8">ç¤ºä¾‹2ï¼šæå–æ„é€ å‡½æ•°å®ä¾‹ç±»å‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">InstanceType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-keyword">new</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; infer R ? R : <span class="hljs-built_in">any</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">AnimalInstance</span> = <span class="hljs-title class_">InstanceType</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Animal</span>&gt;; <span class="hljs-comment">// Animal</span>
</code></pre>
<h3 data-id="heading-9">ç¤ºä¾‹3ï¼šé€’å½’è§£åŒ…åµŒå¥— Promise</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepUnwrapPromise</span>&lt;T&gt; = 
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer U&gt; ? <span class="hljs-title class_">DeepUnwrapPromise</span>&lt;U&gt; : T;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">NestedPromise</span> = <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Result</span> = <span class="hljs-title class_">DeepUnwrapPromise</span>&lt;<span class="hljs-title class_">NestedPromise</span>&gt;; <span class="hljs-comment">// string</span>
</code></pre>
<h2 data-id="heading-10">ä½¿ç”¨æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-11">1.Â <strong>åªèƒ½ç”¨åœ¨æ¡ä»¶ç±»å‹çš„ extends å­å¥ä¸­</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">// âœ… æ­£ç¡®
type Example1&lt;T&gt; = T extends Array&lt;infer U&gt; ? U : never;

// âŒ é”™è¯¯ï¼šinfer ä¸èƒ½å•ç‹¬ä½¿ç”¨
type Example2&lt;T&gt; = infer U; // ç¼–è¯‘é”™è¯¯
</code></pre>
<h3 data-id="heading-12">2.Â <strong>å¤šä¸ª infer å¯ä»¥åŒæ—¶ä½¿ç”¨</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">type Zip&lt;T, U&gt; = T extends [infer A, ...infer RestT]
  ? U extends [infer B, ...infer RestU]
    ? [[A, B], ...Zip&lt;RestT, RestU&gt;]
    : []
  : [];

type Result = Zip&lt;[1, 2], ['a', 'b']&gt;; // [[1, 'a'], [2, 'b']]
</code></pre>
<h3 data-id="heading-13">3.Â <strong>åå˜ä½ç½® vs é€†å˜ä½ç½®</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// infer åœ¨åå˜ä½ç½®ï¼ˆè¿”å›ç±»å‹ï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GetReturnType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> () =&gt; infer R ? R : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// infer åœ¨é€†å˜ä½ç½®ï¼ˆå‚æ•°ç±»å‹ï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GetArgType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (<span class="hljs-attr">arg</span>: infer A) =&gt; <span class="hljs-built_in">any</span> ? A : <span class="hljs-built_in">never</span>;
</code></pre>
<h2 data-id="heading-14">å®æˆ˜æŠ€å·§</h2>
<h3 data-id="heading-15">1.Â <strong>ç±»å‹å®ˆå«ä¸ infer</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">function isPromise&lt;T&gt;(value: any): value is Promise&lt;T&gt; {
  return value &amp;&amp; typeof value.then === 'function';
}

async function handle&lt;T&gt;(input: T | Promise&lt;T&gt;): Promise&lt;T&gt; {
  if (isPromise(input)) {
    // è¿™é‡Œ input è¢«æ¨æ–­ä¸º Promise&lt;T&gt;
    return input;
  }
  return Promise.resolve(input);
}
</code></pre>
<h3 data-id="heading-16">2.Â <strong>æ„å»ºå®ç”¨ç±»å‹å·¥å…·</strong></h3>
<pre><code class="hljs language-typescr" lang="typescr">// æå–æ‰€æœ‰æ–¹æ³•çš„è¿”å›ç±»å‹
type MethodsReturnType&lt;T&gt; = {
  [K in keyof T]: T[K] extends (...args: any[]) =&gt; infer R ? R : never;
};

// æå–ç‰¹å®šå±æ€§çš„ç±»å‹
type PropType&lt;T, K extends keyof T&gt; = T extends { [P in K]: infer V } ? V : never;
</code></pre>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p><code>infer</code>Â çš„æ ¸å¿ƒä½œç”¨ï¼š<strong>åœ¨æ¡ä»¶ç±»å‹ä¸­æå–æœªçŸ¥ç±»å‹çš„å†…éƒ¨ç»“æ„</strong>ã€‚å®ƒæ˜¯ TypeScript ç±»å‹ç³»ç»Ÿçš„é«˜çº§ç‰¹æ€§ï¼Œå¸¸ç”¨äºï¼š</p>
<ol>
<li><strong>ç±»å‹æå–</strong>ï¼šä»å·²æœ‰ç±»å‹ä¸­æå–éƒ¨åˆ†ç±»å‹ä¿¡æ¯</li>
<li><strong>ç±»å‹è½¬æ¢</strong>ï¼šå°†ä¸€ä¸ªç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§å½¢å¼</li>
<li><strong>ç±»å‹æ¨å¯¼</strong>ï¼šæ ¹æ®ä¸Šä¸‹æ–‡æ¨å¯¼å‡ºå…·ä½“ç±»å‹</li>
<li><strong>å·¥å…·ç±»å‹åˆ›å»º</strong>ï¼šæ„å»ºå¤æ‚çš„å®ç”¨ç±»å‹å·¥å…·</li>
</ol>
<p>æŒæ¡Â <code>infer</code>Â çš„å…³é”®æ˜¯å¤šå®è·µï¼Œä»ç®€å•çš„å‡½æ•°è¿”å›ç±»å‹æå–å¼€å§‹ï¼Œé€æ­¥åº”ç”¨åˆ°æ›´å¤æ‚çš„ç±»å‹æ“ä½œä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3å¿«é€Ÿå…¥é—¨]]></title>    <link>https://juejin.cn/post/7594028166135562240</link>    <guid>https://juejin.cn/post/7594028166135562240</guid>    <pubDate>2026-01-12T12:18:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594028166135562240" data-draft-id="7594028166135513088" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3å¿«é€Ÿå…¥é—¨"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-12T12:18:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·24825782481"/> <meta itemprop="url" content="https://juejin.cn/user/4329195838661722"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3å¿«é€Ÿå…¥é—¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4329195838661722/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·24825782481
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:18:05.000Z" title="Mon Jan 12 2026 12:18:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‡†å¤‡</h2>
<h4 data-id="heading-1">1ã€å¼•å…¥vueæ¨¡å—,å¯¼å…¥createAppå‡½æ•°</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f30e6a52f65842b5a732c68aa8e2f674~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=mHA4B3XhW%2BF0UE9OmGKt5cqbxUQ%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-2">2ã€åˆ›å»ºvueç¨‹åºåº”ç”¨å®ä¾‹</h4>
<p>createAppå‡½æ•°å¤§æ‹¬å·è¿›è¡Œä¼ å‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f615869ceaa43de8b5817884b664dde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=evdO0QAWosaI1MRll9WVoLKplMg%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-3">3ã€å‡†å¤‡å…ƒç´ divï¼Œè¢«vueæ§åˆ¶</h4>
<p>createAppå‡½æ•°é“¾å¼è°ƒç”¨mount()æ–¹æ³•ç”¨äºæ§åˆ¶é¡µé¢æ ‡ç­¾divï¼Œmount()æ–¹æ³•ä¸­çš„å‚æ•°appæ˜¯divçš„id</p>
<h6 data-id="heading-4">æ³¨æ„ï¼šå‚æ•°è¦åŠ #ï¼Œæ ‡ç­¾è¢«vueæ§åˆ¶ï¼Œè¯¥æ ‡ç­¾ä¸‹çš„å­æ ‡ç­¾ä¹Ÿä¼šè¢«æ§åˆ¶</h6>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a07247b807334b9ab9f12052c97e6b66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=fh0kOcd8ecvda%2FTdHUtEQzDWyEA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">äºŒã€æ„å»ºç”¨æˆ·ç•Œé¢</h2>
<h4 data-id="heading-6">1.å‡†å¤‡æ•°æ®</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c62b63bb3a1c42f7a7881d98b87951ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=zMV3wOl9Lnd9oGJKBCrsuB8R%2BTg%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7">2.ç”¨æ’å€¼è¡¨è¾¾å¼æ¸²æŸ“é¡µé¢</h4>
<p>æ’å€¼è¡¨è¾¾å¼å°±æ˜¯ä¸¤ä¸ªèŠ±æ‹¬å·ï¼Œé‡Œé¢æ˜¯é”®å:<code>&lt;h1&gt;{{msg}}&lt;h1&gt;</code></p>
<p>dataå‡½æ•°å®šä¹‰æ•°æ®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c739f144f524bada5c241db863520cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=rrdzmnIQKIJLPWTRtP8QAu8usSg%3D" alt="image.png" loading="lazy"/>
æ¸²æŸ“ç»“æœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f37b7b5b414445c5a715a9bf4703f5d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=xiu3awDNanWlRj%2BhoUR5UvCX5OA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">ä¸‰ã€vueçš„ç”Ÿå‘½å‘¨æœŸ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dac80e5a4294948a71b57838c3ca6a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=5jkshlO7VyIR97EmreWAz6YaJlQ%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-9">å¸¸ç”¨çš„å°±ä¸¤ä¸‰ä¸ªï¼Œè¿™é‡Œè®°ä½mountedå°±è¡Œ</h6>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fe9e67971044981bd5170386e74dad7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=aSPMpIIla9p3J9AoR%2BFFcIAW9m4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-10">å››ã€Vueé¡¹ç›®åˆ›å»ºå’Œå¯åŠ¨</h2>
<h4 data-id="heading-11">Vueé¡¹ç›®ç›®å½•ç»“æ„</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf5a2aa47f0c4b65a11f14d7cc183ecf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=TX6Wi3JAlC7v6RgK1%2B2mBRg1xUc%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-12">vueé¡¹ç›®å¯åŠ¨</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fd7b42bdfe34174b2ab35b2bcc47441~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=4GkoP%2FK%2BcQi9llB%2FlkY1nqpTPfo%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-13">äº”ã€vueé¡¹ç›®å¼€å‘æµç¨‹</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c94f64f5f7b74284a30a05195f85b7be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=Vvf0fOqLtIubIlMe9lqQeDHCaDc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9b0dd2d502b4945aabe6f99821235b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=PxbwGWA%2BuIjTMz3YGDPn5hG6I2w%3D" alt="image.png" loading="lazy"/>
ç¬¬ä¸€ç§æ˜¯vue2çš„å†™æ³•ï¼Œexport default{}é»˜è®¤å¯¼å‡ºjså¯¹è±¡</p>
<p>ç¬¬äºŒç§æ˜¯vue3å†™æ³•ï¼Œå“åº”å¼ï¼ˆæ•°æ®é¡µé¢ç›¸äº’ç»‘å®šï¼‰ï¼Œç¡¬æ€§è¦æ±‚è¦åœ¨scriptæ ‡ç­¾é‡Œé¢åŠ ä¸Šsetup</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3b01b8182f54a00aef117b1c5969554~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=7KORc%2FOSMx3yAa8Zofy5kwonWXw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-14">å…­ã€vueçš„APIé£æ ¼</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e075e90e3c14d81a8497e4a4b72e57e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=IJOgIe7LhuNCkkUZB2eA%2FBIy680%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cf7af6800884a05a988cdf984ead89c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=GFGDRfpFNjYfk77p%2FGLDN8ndfcE%3D" alt="image.png" loading="lazy"/>
ç»„åˆå¼apiéœ€è¦å°†æ•°æ®è®¾ç½®ä¸ºå“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä¸refè”åŠ¨æ‰èƒ½æ¿€æ´»å“åº”å¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecbf0b2acf2a4462a2e4a3c002cb2f6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjQ4MjU3ODI0ODE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768832981&amp;x-signature=eoINe7unpjX6waD4Qgq7FTIB%2BFY%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[useRefå­˜åœ¨çš„æ½œåœ¨æ€§èƒ½é—®é¢˜]]></title>    <link>https://juejin.cn/post/7594322573453475883</link>    <guid>https://juejin.cn/post/7594322573453475883</guid>    <pubDate>2026-01-13T02:39:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594322573453475883" data-draft-id="7594627998838849578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="useRefå­˜åœ¨çš„æ½œåœ¨æ€§èƒ½é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T02:39:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jolyne_"/> <meta itemprop="url" content="https://juejin.cn/user/339101640827981"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            useRefå­˜åœ¨çš„æ½œåœ¨æ€§èƒ½é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/339101640827981/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jolyne_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:39:39.000Z" title="Tue Jan 13 2026 02:39:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨å­¦ä¹ ahooksæºç æ—¶ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fahooks.js.org%2Fzh-CN%2Fhooks%2Fuse-creation" target="_blank" title="https://ahooks.js.org/zh-CN/hooks/use-creation" ref="nofollow noopener noreferrer">useCreation</a>æ—¶ï¼Œå‘ç°å®˜æ–¹æ–‡æ¡£å†™äº†è¿™æ ·ä¸€å¥è¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b70e4c251d0a4d06aa342f709b111f9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=%2FA5cQGm%2FBd%2BevL0JexOBkFm0Xv0%3D" alt="image.png" loading="lazy"/></p>
<p>ç¬¬ä¸€çœ¼åï¼Œæˆ‘å¿ƒæƒ³ï¼šuseRef ä¸æ˜¯åªä¼šæ‰§è¡Œä¸€æ¬¡å—ï¼Ÿå¹¶ä¸”ä¸ä¼šéšç»„ä»¶ç”Ÿå‘½å‘¨æœŸå˜åŒ–å—ï¼Ÿç„¶åæ ¹æ®å®˜æ–¹æ–‡æ¡£çš„ä¾‹å­è¯•äº†ä¸€ä¸‹ï¼Œå‘ç° useRef åœ¨å­˜å‚¨å¤æ‚æ•°æ®ç±»å‹æ—¶ï¼ˆæ¯”å¦‚å¯¹è±¡ï¼‰ï¼Œç¡®å®æœ‰æ€§èƒ½é—®é¢˜</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> { useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Subject</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===constructor==="</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
  }
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">RefQuestion</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">RefQuestion</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { current } = <span class="hljs-title function_">useRef</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Subject</span>());
  <span class="hljs-keyword">const</span> [, setFlag] = <span class="hljs-title function_">useState</span>({});
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pt-10"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{current.data}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
          setFlag({});
        }}
      &gt;
        Rerender
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RefQuestion</span>;
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œä¼šæ‰§è¡Œä¸€æ¬¡ <code>new Subject()</code>ï¼Œæ§åˆ¶å°ä¼šæ‰“å°ä¸€æ¬¡ <code>===constructor===</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b792171f824047799cd042c99e3a7213~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=2Da7KxYhRJecArUBIJzqNARDCME%3D" alt="image.png" loading="lazy"/></p>
<p>å½“æˆ‘ç‚¹å‡»æŒ‰é’®è§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œè™½ç„¶æ¸²æŸ“çš„å€¼æ²¡æœ‰å˜ï¼Œä½†æ˜¯æ§åˆ¶å°ä¾æ—§æ‰“å°äº†<code>===constructor===</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/038f6c0d4bd443359d963521ef4d81ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=MWyx9HvnMJXJyL0wDe5luu8Lzv8%3D" alt="image.png" loading="lazy"/></p>
<p>ä¹Ÿå°±æ˜¯è¯´æ˜ï¼šç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œè™½ç„¶Reactå†…éƒ¨åˆ¤æ–­åï¼Œè¿”å›äº†é¦–æ¬¡æ¸²æŸ“æ—¶çš„å€¼ï¼Œ<code>ä½†æ˜¯åœ¨æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œ new Subject() å®ä¾‹åŒ–è¿‡ç¨‹ï¼Œå³ä½¿æ¯æ¬¡å®ä¾‹åŒ–åï¼Œéƒ½ä¸¢å¼ƒäº†å®ä¾‹åŒ–å¯¹è±¡</code>ï¼Œè€Œé‡å¤å®ä¾‹åŒ–å¯¹è±¡å°±æ˜¯ä¸€ç§<code>æ— æ•ˆçš„å†…å­˜å¼€é”€</code>ï¼Œå³æ€§èƒ½å­˜åœ¨éšæ‚£</p>
<p>å› æ­¤æˆ‘é‡æ–°çœ‹äº†ä¸‹Reactæ–‡æ¡£å¯¹äº useRef çš„è¯´æ˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2fa1ebe91464e6c95138a340ee862cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=xY34SjVqTcng75%2FTPsoYdPrsmzk%3D" alt="image.png" loading="lazy"/></p>
<p>å¯è§ React å®˜æ–¹å°±å·²ç»å¯¹è¿™ç§æƒ…å†µè¿›è¡Œäº†è¯´æ˜ï¼Œå¹¶ä¸”ä¹Ÿç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œæ€æƒ³ä¸<code>å•ä¾‹æ¨¡å¼</code>ä¸€è‡´</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Video</span>(<span class="hljs-params"/>) {  
    <span class="hljs-keyword">const</span> playerRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);  
    <span class="hljs-keyword">if</span> (playerRef.<span class="hljs-property">current</span> === <span class="hljs-literal">null</span>) {  
        playerRef.<span class="hljs-property">current</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VideoPlayer</span>();  
    }  
    <span class="hljs-comment">// ...</span>
</code></pre>
<p>ç„¶åæˆ‘ä»¬å›è¿‡å¤´æ¥ï¼Œå¯ä»¥çœ‹çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fahooks.js.org%2Fzh-CN%2Fhooks%2Fuse-creation" target="_blank" title="https://ahooks.js.org/zh-CN/hooks/use-creation" ref="nofollow noopener noreferrer">useCreation</a> æ˜¯æ€ä¹ˆåšçš„</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">DependencyList</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> depsAreSame <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/depsAreSame'</span>;

<span class="hljs-keyword">const</span> useCreation = &lt;T&gt;<span class="hljs-function">(<span class="hljs-params">factory: () =&gt; T, deps: DependencyList</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { current } = <span class="hljs-title function_">useRef</span>({
    deps,
    <span class="hljs-attr">obj</span>: <span class="hljs-literal">undefined</span> <span class="hljs-keyword">as</span> T,
    <span class="hljs-attr">initialized</span>: <span class="hljs-literal">false</span>,
  });
  <span class="hljs-keyword">if</span> (current.<span class="hljs-property">initialized</span> === <span class="hljs-literal">false</span> || !<span class="hljs-title function_">depsAreSame</span>(current.<span class="hljs-property">deps</span>, deps)) {
    current.<span class="hljs-property">deps</span> = deps;
    current.<span class="hljs-property">obj</span> = <span class="hljs-title function_">factory</span>();
    current.<span class="hljs-property">initialized</span> = <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> current.<span class="hljs-property">obj</span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useCreation;
</code></pre>
<ul>
<li>å¦‚æœæ˜¯é¦–æ¬¡æ¸²æŸ“ï¼ˆ<code>initialized === false</code>ï¼‰æˆ–è€… ä¾èµ–é¡¹å‘ç”Ÿäº†æ”¹å˜ï¼ˆ<code>!depsAreSame(current.deps, deps)</code>ï¼‰ï¼Œåˆ™æ‰§è¡Œ <code>factory()</code>å‡½æ•°åˆ›å»ºå€¼</li>
<li>å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œç›´æ¥è¿”å›ä¹‹å‰çš„å€¼ï¼ˆ<code>æ­¤æ—¶ä¸ä¼šèµ° factory()</code>ï¼‰</li>
</ul>
<p>è¿™æ ·å°±ä¿è¯äº†é€šè¿‡ useCreation åˆ›å»ºçš„å€¼ä¸€å®šæ˜¯ memosizedï¼Œä¾èµ–æ”¹å˜å‰æ˜¯ä¿è¯ä¸ä¼šé‡æ–°è®¡ç®—çš„</p>
<p>æˆ‘ä»¬å°† useCreation ä»£æ›¿ useRef è¯•è¯•</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useCreation } <span class="hljs-keyword">from</span> <span class="hljs-string">"ahooks"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Subject</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===constrcutor====="</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
  }
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">RefQuestion</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">RefQuestion</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>({});
  <span class="hljs-keyword">const</span> foo = <span class="hljs-title function_">useCreation</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Subject</span>(), []);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pt-10"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{foo.data}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
          setFlag({});
        }}
      &gt;
        Rerender
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RefQuestion</span>;
</code></pre>
<p>ç‚¹å‡»æŒ‰é’®ï¼Œç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä¸ä¼šæ‰§è¡Œ new Subject() çš„å®ä¾‹åŒ–è¿‡ç¨‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e1181a6b21c418cb0e485c27047d9ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=vUNJsNePjjK5sczsj2qyIuoJIxY%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£å¦‚æœä¾èµ–å‘ç”Ÿæ”¹å˜ï¼Œæ¯æ¬¡ä¹Ÿåªä¼šé‡æ–°è®¡ç®—ä¸€æ¬¡</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useCreation } <span class="hljs-keyword">from</span> <span class="hljs-string">"ahooks"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Subject</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"===constrcutor====="</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
  }
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">RefQuestion</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">RefQuestion</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>({});
  <span class="hljs-keyword">const</span> foo = <span class="hljs-title function_">useCreation</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Subject</span>(), [flag]);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pt-10"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{foo.data}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
          setFlag({});
        }}
      &gt;
        Rerender
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RefQuestion</span>;
</code></pre>
<p>å¦‚å›¾ï¼Œæˆ‘ç‚¹å‡»äº†å…«æ¬¡æŒ‰é’®ï¼Œä¾èµ–æ”¹å˜äº†å…«æ¬¡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62722c74b4224a328181f072ead8eda8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm9seW5lXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768876779&amp;x-signature=ghAu0BYpwmF%2BLI0SbFCNLeT800A%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰€ä»¥ï¼ŒuseRefå¹¶ä¸æ˜¯åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œæ˜¯æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½æ‰§è¡Œï¼Œåªä¸è¿‡å¦‚æœä¹‹å‰æœ‰ç»“æœå°±è¿”å›ä¹‹å‰çš„ç»“æœè€Œå·²ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜²æŠ–ä¸èŠ‚æµï¼šç”¨é—­åŒ…é©¯æœé«˜é¢‘äº‹ä»¶çš„æ€§èƒ½åˆ©å™¨]]></title>    <link>https://juejin.cn/post/7594051966890229795</link>    <guid>https://juejin.cn/post/7594051966890229795</guid>    <pubDate>2026-01-12T12:21:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594051966890229795" data-draft-id="7592382702944157742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜²æŠ–ä¸èŠ‚æµï¼šç”¨é—­åŒ…é©¯æœé«˜é¢‘äº‹ä»¶çš„æ€§èƒ½åˆ©å™¨"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-12T12:21:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Zyx2007"/> <meta itemprop="url" content="https://juejin.cn/user/3924597867554890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜²æŠ–ä¸èŠ‚æµï¼šç”¨é—­åŒ…é©¯æœé«˜é¢‘äº‹ä»¶çš„æ€§èƒ½åˆ©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3924597867554890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Zyx2007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:21:59.000Z" title="Mon Jan 12 2026 12:21:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Web åº”ç”¨ä¸­ï¼Œç”¨æˆ·äº¤äº’æ— å¤„ä¸åœ¨â€”â€”è¾“å…¥æœç´¢ã€æ»šåŠ¨é¡µé¢ã€çª—å£ç¼©æ”¾ã€æŒ‰é’®ç‚¹å‡»â€¦â€¦è¿™äº›æ“ä½œå¾€å¾€è§¦å‘é«˜é¢‘äº‹ä»¶ï¼Œè‹¥ä¸åŠ æ§åˆ¶ï¼Œè½»åˆ™æµªè´¹ç½‘ç»œèµ„æºï¼Œé‡åˆ™å¯¼è‡´é¡µé¢å¡é¡¿ç”šè‡³å´©æºƒã€‚<strong>é˜²æŠ–ï¼ˆDebounceï¼‰ä¸èŠ‚æµï¼ˆThrottleï¼‰</strong> æ­£æ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„ç»å…¸æ–¹æ¡ˆã€‚å®ƒä»¬åˆ©ç”¨ JavaScript çš„é—­åŒ…æœºåˆ¶ï¼Œåœ¨ä¸æ”¹å˜ä¸šåŠ¡é€»è¾‘çš„å‰æä¸‹ï¼Œæ™ºèƒ½è°ƒæ§å‡½æ•°æ‰§è¡Œé¢‘ç‡ï¼Œæ—¢ä¿éšœç”¨æˆ·ä½“éªŒï¼Œåˆæå‡ç³»ç»Ÿæ€§èƒ½ã€‚</p>
<h2 data-id="heading-0">é—®é¢˜æ ¹æºï¼šé«˜é¢‘äº‹ä»¶çš„ä»£ä»·</h2>
<p>ä»¥æœç´¢æ¡†ä¸ºä¾‹ï¼Œæ¯å½“ç”¨æˆ·æ•²å‡»é”®ç›˜ï¼Œ<code>keyup</code> äº‹ä»¶å°±ä¼šè¢«è§¦å‘ã€‚è‹¥æ¯æ¬¡æŒ‰é”®éƒ½ç«‹å³å‘èµ· AJAX è¯·æ±‚è·å–å»ºè®®è¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">input.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'keyup'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-title function_">ajax</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
});
</code></pre>
<p>é‚£ä¹ˆè¾“å…¥â€œJavaScriptâ€å°†è§¦å‘ 10 æ¬¡è¯·æ±‚ã€‚ä¸ä»…æœåŠ¡å™¨å‹åŠ›å‰§å¢ï¼Œå‰ç«¯ä¹Ÿå¯èƒ½å› å“åº”é¡ºåºé”™ä¹±è€Œå±•ç¤ºé”™è¯¯ç»“æœã€‚ç±»ä¼¼é—®é¢˜ä¹Ÿå‡ºç°åœ¨æ»šåŠ¨ç›‘å¬ã€çª—å£ resizeã€è¡¨å•æäº¤ç­‰åœºæ™¯ã€‚<strong>æˆ‘ä»¬éœ€è¦çš„ä¸æ˜¯â€œå®æ—¶â€ï¼Œè€Œæ˜¯â€œé€‚æ—¶â€</strong> ã€‚</p>
<h2 data-id="heading-1">é˜²æŠ–ï¼šåªå“åº”æœ€åä¸€æ¬¡æ“ä½œ</h2>
<p>é˜²æŠ–çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>åœ¨è¿ç»­è§¦å‘äº‹ä»¶æ—¶ï¼Œä»…åœ¨æœ€åä¸€æ¬¡æ“ä½œåç­‰å¾…æŒ‡å®šæ—¶é—´ï¼Œæ‰æ‰§è¡Œå›è°ƒ</strong>ã€‚è¿™å°±åƒç”µæ¢¯é—¨â€”â€”æœ‰äººä¸æ–­è¿›å‡ºï¼Œé—¨å°±ä¸€ç›´ä¸å…³ï¼›ç›´åˆ°æœ€åä¸€ä¸ªäººè¿›å…¥å¹¶ç­‰å¾…å‡ ç§’ï¼Œé—¨æ‰å…³é—­ã€‚</p>
<p>å…¶å®ç°ä¾èµ–é—­åŒ…ä¿å­˜å®šæ—¶å™¨ IDï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) {
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">if</span> (timer) <span class="hljs-built_in">clearTimeout</span>(timer);
    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args), delay);
  };
}
</code></pre>
<p><code>timer</code> ä½œä¸ºè‡ªç”±å˜é‡è¢«è¿”å›å‡½æ•°æ•è·ã€‚æ¯æ¬¡äº‹ä»¶è§¦å‘ï¼Œå…ˆæ¸…é™¤æ—§å®šæ—¶å™¨ï¼Œå†å¯åŠ¨æ–°å€’è®¡æ—¶ã€‚åªæœ‰å½“ç”¨æˆ·åœæ­¢è¾“å…¥è¶…è¿‡ <code>delay</code> æ¯«ç§’ï¼Œ<code>fn</code> æ‰çœŸæ­£æ‰§è¡Œã€‚è¿™å®Œç¾é€‚ç”¨äºæœç´¢å»ºè®®ã€è‡ªåŠ¨ä¿å­˜ç­‰åœºæ™¯ã€‚</p>
<h2 data-id="heading-2">èŠ‚æµï¼šæŒ‰å›ºå®šèŠ‚å¥å“åº”</h2>
<p>èŠ‚æµåˆ™é‡‡å–ä¸åŒç­–ç•¥ï¼š<strong>æ— è®ºäº‹ä»¶è§¦å‘å¤šé¢‘ç¹ï¼Œä¿è¯åœ¨æŒ‡å®šæ—¶é—´é—´éš”å†…æœ€å¤šæ‰§è¡Œä¸€æ¬¡</strong>ã€‚å¦‚åŒæœºå…³æªçš„å°„é€Ÿé™åˆ¶â€”â€”å³ä½¿æ‰£ä½æ‰³æœºä¸æ”¾ï¼Œå­å¼¹ä¹ŸæŒ‰å›ºå®šé¢‘ç‡å°„å‡ºã€‚</p>
<p>ä¸€ç§å¸¸è§å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">function throttle(fn, delay) {
  let <span class="hljs-attr">last</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
  return function (...args) {
    const <span class="hljs-attr">now</span> = Date.now()<span class="hljs-comment">;</span>
    if (now - last &gt;= delay) {
      <span class="hljs-attr">last</span> = now<span class="hljs-comment">;</span>
      fn.apply(this, args)<span class="hljs-comment">;</span>
    }
  }<span class="hljs-comment">;</span>
}
</code></pre>
<p>é€šè¿‡è®°å½•ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´ <code>last</code>ï¼Œç¡®ä¿ä¸¤æ¬¡è°ƒç”¨é—´éš”ä¸å°‘äº <code>delay</code>ã€‚è¿™ç§â€œåŒ€é€Ÿæ‰§è¡Œâ€æ¨¡å¼ç‰¹åˆ«é€‚åˆå¤„ç†æ»šåŠ¨ã€æ‹–æ‹½ã€é¼ æ ‡ç§»åŠ¨ç­‰æŒç»­æ€§äº‹ä»¶ã€‚ä¾‹å¦‚åˆ¤æ–­æ˜¯å¦æ»‘åˆ°åº•éƒ¨åŠ è½½æ›´å¤šå†…å®¹ï¼Œæ— éœ€æ¯åƒç´ éƒ½æ£€æµ‹ï¼Œæ¯ 200ms æ£€æŸ¥ä¸€æ¬¡è¶³çŸ£ã€‚</p>
<h2 data-id="heading-3">é—­åŒ…ï¼šéšè—çŠ¶æ€çš„é­”æ³•å®¹å™¨</h2>
<p>æ— è®ºæ˜¯é˜²æŠ–è¿˜æ˜¯èŠ‚æµï¼Œå…¶æ ¸å¿ƒéƒ½ä¾èµ– <strong>é—­åŒ…</strong> æ¥ç»´æŠ¤å†…éƒ¨çŠ¶æ€ï¼ˆ<code>timer</code> æˆ– <code>last</code>ï¼‰ã€‚è¿™äº›å˜é‡å¯¹å¤–éƒ¨ä¸å¯è§ï¼Œå´èƒ½åœ¨å¤šæ¬¡å‡½æ•°è°ƒç”¨é—´æŒä¹…å­˜åœ¨ï¼Œå½¢æˆç§æœ‰è®°å¿†ã€‚è¿™ä¸ä»…é¿å…äº†å…¨å±€æ±¡æŸ“ï¼Œä¹Ÿä¿è¯äº†å¤šä¸ªé˜²æŠ–/èŠ‚æµå®ä¾‹äº’ä¸å¹²æ‰°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯ä¸ºä¸åŒè¾“å…¥æ¡†åˆ›å»ºç‹¬ç«‹çš„é˜²æŠ–å‡½æ•°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const searchDebounce = <span class="hljs-built_in">debounce</span>(ajax, <span class="hljs-number">500</span>);
const saveDebounce = <span class="hljs-built_in">debounce</span>(saveDraft, <span class="hljs-number">1000</span>);

searchInput<span class="hljs-selector-class">.addEventListener</span>('input', (e) =&gt; <span class="hljs-built_in">searchDebounce</span>(e.target.value));
<span class="hljs-selector-tag">textarea</span><span class="hljs-selector-class">.addEventListener</span>('input', (e) =&gt; <span class="hljs-built_in">saveDebounce</span>(e.target.value));
</code></pre>
<p>æ¯ä¸ªå®ä¾‹æ‹¥æœ‰è‡ªå·±çš„ <code>timer</code>ï¼Œäº’ä¸å½±å“ã€‚</p>
<h2 data-id="heading-4">å®é™…åº”ç”¨åœºæ™¯å¯¹æ¯”</h2>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èç­–ç•¥</th><th>åŸå› è¯´æ˜</th></tr></thead><tbody><tr><td>æœç´¢æ¡†å»ºè®®</td><td>é˜²æŠ–</td><td>ç”¨æˆ·è¾“å…¥å…·æœ‰è¿ç»­æ€§ï¼Œåªéœ€æœ€ç»ˆç»“æœ</td></tr><tr><td>è¡¨å•è‡ªåŠ¨ä¿å­˜</td><td>é˜²æŠ–</td><td>é¿å…é¢‘ç¹å†™å…¥ï¼Œå¾…ç”¨æˆ·åœé¡¿æ—¶ä¿å­˜</td></tr><tr><td>çª—å£ resize å¸ƒå±€è°ƒæ•´</td><td>èŠ‚æµ</td><td>éœ€è¦æŒç»­å“åº”ï¼Œä½†ä¸å¿…æ¯å¸§éƒ½è®¡ç®—</td></tr><tr><td>æ»šåŠ¨åŠ è½½</td><td>èŠ‚æµ</td><td>å®šæœŸæ£€æŸ¥ä½ç½®ï¼Œé˜²æ­¢è¿‡åº¦è§¦å‘</td></tr><tr><td>æŒ‰é’®é˜²é‡å¤ç‚¹å‡»</td><td>é˜²æŠ–</td><td>ç‚¹å‡»åé”å®šä¸€æ®µæ—¶é—´ï¼Œé˜²æ­¢è¯¯æ“ä½œ</td></tr></tbody></table>
<h2 data-id="heading-5">æ€§èƒ½ä¸ä½“éªŒçš„å¹³è¡¡è‰ºæœ¯</h2>
<p>é˜²æŠ–ä¸èŠ‚æµå¹¶éè¶Šâ€œç‹ â€è¶Šå¥½ã€‚å»¶è¿Ÿæ—¶é—´éœ€æ ¹æ®å…·ä½“åœºæ™¯æƒè¡¡ï¼š</p>
<ul>
<li>æœç´¢å»ºè®®è‹¥è®¾ä¸º 1000msï¼Œç”¨æˆ·ä¼šæ„Ÿåˆ°è¿Ÿé’ï¼›</li>
<li>æ»šåŠ¨èŠ‚æµè‹¥è®¾ä¸º 10msï¼Œåˆ™å¤±å»ä¼˜åŒ–æ„ä¹‰ã€‚</li>
</ul>
<p>é€šå¸¸ï¼Œ<strong>é˜²æŠ–å»¶è¿Ÿå– 300â€“500msï¼ŒèŠ‚æµé—´éš”å– 100â€“200ms</strong> æ˜¯è¾ƒåˆç†çš„èµ·ç‚¹ï¼Œå†ç»“åˆç”¨æˆ·åé¦ˆå¾®è°ƒã€‚</p>
<h2 data-id="heading-6">ä¸ç°ä»£æ¡†æ¶çš„èåˆ</h2>
<p>åœ¨ React ä¸­ï¼Œå¸¸é…åˆ <code>useCallback</code> å’Œ <code>useRef</code> ä½¿ç”¨é˜²æŠ–/èŠ‚æµï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“é‡å»ºå‡½æ•°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const handleSearch = <span class="hljs-built_in">useCallback</span>(
  debounce((value) =&gt; <span class="hljs-built_in">fetchSuggestions</span>(value), <span class="hljs-number">400</span>),
  <span class="hljs-selector-attr">[]</span>
);
</code></pre>
<p>è€Œåœ¨ Vue ä¸­ï¼Œå¯å°†å…¶å°è£…ä¸ºè‡ªå®šä¹‰æŒ‡ä»¤æˆ–ç»„åˆå¼å‡½æ•°ï¼Œå®ç°å£°æ˜å¼è°ƒç”¨ã€‚
é˜²æŠ–ä¸èŠ‚æµè™½æ˜¯åŸºç¡€æŠ€å·§ï¼Œå´æ˜¯é«˜æ€§èƒ½å‰ç«¯å¼€å‘çš„åŸºçŸ³ã€‚å®ƒä»¬ä»¥æå°çš„ä»£ç æˆæœ¬ï¼Œæ¢å–æ˜¾è‘—çš„æ€§èƒ½æ”¶ç›Šï¼Œä½“ç°äº†â€œå°‘å³æ˜¯å¤šâ€çš„å·¥ç¨‹æ™ºæ…§ã€‚è€Œé—­åŒ…ä½œä¸ºå…¶å®ç°çš„æ ¸å¿ƒæœºåˆ¶ï¼Œå†æ¬¡è¯æ˜äº† JavaScript å‡½æ•°å¼ç‰¹æ€§çš„å¼ºå¤§ã€‚æŒæ¡è¿™ä¸¤é¡¹æŠ€æœ¯ï¼Œä¸ä»…èƒ½å†™å‡ºæ›´æµç•…çš„åº”ç”¨ï¼Œæ›´èƒ½åŸ¹å…»å¯¹äº‹ä»¶æµä¸èµ„æºæ¶ˆè€—çš„æ•æ„Ÿåº¦â€”â€”è¿™æ­£æ˜¯ä¼˜ç§€å¼€å‘è€…çš„å…³é”®ç´ å…»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµç¨‹æ§åˆ¶è¿›é˜¶ï¼šä»é—°å¹´åˆ¤æ–­åˆ°çŒœæ•°æ¸¸æˆçš„é€»è¾‘å¤ç›˜ä¸ä»£ç å®ç°]]></title>    <link>https://juejin.cn/post/7594303825013227535</link>    <guid>https://juejin.cn/post/7594303825013227535</guid>    <pubDate>2026-01-12T15:52:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594303825013227535" data-draft-id="7594303923361644584" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµç¨‹æ§åˆ¶è¿›é˜¶ï¼šä»é—°å¹´åˆ¤æ–­åˆ°çŒœæ•°æ¸¸æˆçš„é€»è¾‘å¤ç›˜ä¸ä»£ç å®ç°"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-12T15:52:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="love_summer"/> <meta itemprop="url" content="https://juejin.cn/user/1462819851084228"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµç¨‹æ§åˆ¶è¿›é˜¶ï¼šä»é—°å¹´åˆ¤æ–­åˆ°çŒœæ•°æ¸¸æˆçš„é€»è¾‘å¤ç›˜ä¸ä»£ç å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1462819851084228/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    love_summer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T15:52:41.000Z" title="Mon Jan 12 2026 15:52:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ã€å‰è¨€ã€‘</strong></p>
<p>åœ¨Pythonçš„å­¦ä¹ æ›²çº¿ä¸­ï¼ŒæŒæ¡æµç¨‹æ§åˆ¶æ„å‘³ç€ä½ å·²ç»å…·å¤‡äº†ç¼–å†™å¤æ‚é€»è¾‘çš„èƒ½åŠ›ã€‚ä»Šå¤©å¤ç›˜ç¬¬å››ç« çš„4é“å®æˆ˜é¢˜ï¼Œé‡ç‚¹åˆ†æå…¶ä¸­çš„é€»è¾‘é™·é˜±ï¼Œå¹¶å°è¯•ä½¿ç”¨Python 3.11çš„æ–°ç‰¹æ€§<code>match</code>æ¥ä¼˜åŒ–ä»£ç ç»“æ„ã€‚</p>
</blockquote>
<p><strong>ã€æ¡ˆä¾‹ä¸€ï¼šé€»è¾‘è¿ç®—çš„ä¼˜å…ˆçº§ â€”â€” é—°å¹´åˆ¤æ–­ã€‘</strong></p>
<p><strong>é—®é¢˜å¤ç°</strong></p>
<p>é—°å¹´åˆ¤æ–­å…¬å¼ï¼š<code>(year % 4 == 0 and year % 100 != 0) or (year % 400 == 0)</code>ã€‚</p>
<p><strong>ä»£ç åˆ†æ</strong></p>
<p>è¿™é‡Œä¸ä»…ä»…æ˜¯<code>if</code>è¯­å¥ï¼Œæ›´è€ƒå¯Ÿé€»è¾‘è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ã€‚<code>and</code>çš„ä¼˜å…ˆçº§é«˜äº<code>or</code>ï¼Œæ‰€ä»¥è™½ç„¶ä¸åŠ æ‹¬å·ä¹Ÿèƒ½è·‘ï¼Œä½†ä¸ºäº†ä»£ç å¯è¯»æ€§ï¼Œå»ºè®®å°†å¹¶åˆ—æ¡ä»¶ç”¨æ‹¬å·æ‹¬èµ·æ¥ã€‚</p>
<p><strong>å…³é”®ä»£ç ç‰‡æ®µ</strong></p>
<pre><code class="hljs language-python" lang="python">year=<span class="hljs-built_in">eval</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">'è¯·è¾“å…¥ä¸€ä¸ªå››ä½çš„å¹´ä»½:'</span>))
<span class="hljs-keyword">if</span> (year%<span class="hljs-number">4</span>==<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> year%<span class="hljs-number">100</span>!=<span class="hljs-number">0</span>) <span class="hljs-keyword">or</span> year%<span class="hljs-number">400</span>==<span class="hljs-number">0</span>:
    <span class="hljs-built_in">print</span>(year,<span class="hljs-string">'å¹´æ˜¯é—°å¹´'</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(year,<span class="hljs-string">'å¹´æ˜¯å¹³å¹´'</span>)
</code></pre>
<p><strong>æ€è€ƒ</strong>ï¼šèƒ½ä¸èƒ½ç”¨æ›´ç®€æ´çš„æ—¥å†åº“<code>calendar</code>æ¥å®ç°ä¸€è¡Œä»£ç åˆ¤æ–­ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œä½†æ‰‹åŠ¨å®ç°é€»è¾‘æ›´èƒ½é”»ç‚¼ç¼–ç¨‹æ€ç»´ã€‚</p>
<p><strong>ã€æ¡ˆä¾‹äºŒï¼šæ¨¡å¼åŒ¹é…çš„æœ€ä½³å®è·µ â€”â€” æ¨¡æ‹Ÿ10086ã€‘</strong></p>
<p><strong>ä¼ ç»Ÿå†™æ³• vs Python 3.11 æ–°å†™æ³•</strong></p>
<p>ä¼ ç»Ÿçš„èœå•æŸ¥è¯¢é€šå¸¸ä½¿ç”¨å†—é•¿çš„<code>if...elif...else</code>ã€‚åœ¨Python 3.11ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»“æ„æ¨¡å¼åŒ¹é…<code>match...case</code>ï¼Œè¿™è®©ä»£ç çš„å¯è¯»æ€§å¤§å¹…æå‡ï¼Œæ¥è¿‘è‡ªç„¶è¯­è¨€ã€‚</p>
<p><strong>ä»£ç å®ç°ï¼ˆæ¨èä½¿ç”¨matchï¼‰</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#(1)åˆå§‹åŒ–å˜é‡</span>
answer=<span class="hljs-string">'y'</span>
<span class="hljs-comment">#(2)æ¡ä»¶åˆ¤æ–­</span>
<span class="hljs-keyword">while</span> answer==<span class="hljs-string">'y'</span>:
    <span class="hljs-comment">#(3)å¾ªç¯æ“ä½œï¼Œè¯­å¥å—</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'---------------æ¬¢è¿ä½¿ç”¨10086æŸ¥è¯¢åŠŸèƒ½---------------------'</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'1.æŸ¥è¯¢å½“å‰ä½™é¢'</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'2.æŸ¥è¯¢å½“å‰çš„å‰©ä½™æµé‡'</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'3.æŸ¥è¯¢å½“å‰çš„å‰©ä½™é€šè¯æ—¶é•¿'</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'0.é€€å‡ºç³»ç»Ÿ'</span>)
    choice=<span class="hljs-built_in">input</span>(<span class="hljs-string">'è¯·è¾“å…¥æ‚¨è¦æ‰§è¡Œçš„æ“ä½œ:'</span>) <span class="hljs-comment"># inputçš„ç»“æœæ˜¯å­—ç¬¦ä¸²ç±»å‹</span>
    <span class="hljs-keyword">if</span> choice==<span class="hljs-string">'1'</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'å½“å‰ä½™é¢ä¸º:234.5å…ƒ'</span>)
    <span class="hljs-keyword">elif</span> choice==<span class="hljs-string">'2'</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'å½“å‰çš„å‰©ä½™æµé‡ä¸º:4GB'</span>)
    <span class="hljs-keyword">elif</span> choice==<span class="hljs-string">'3'</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'å½“å‰çš„å‰©ä½™é€šè¯æ—¶é—´é•¿ä¸º:300åˆ†é’Ÿ'</span>)
    <span class="hljs-keyword">elif</span> choice==<span class="hljs-string">'0'</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç¨‹åºé€€å‡ºï¼Œè°¢è°¢æ‚¨çš„ä½¿ç”¨'</span>)
        <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'å¯¹ä¸èµ·ï¼Œæ‚¨è¾“å…¥çš„æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥'</span>)
    <span class="hljs-comment"># (4)æ”¹å˜å˜é‡</span>
    answer=<span class="hljs-built_in">input</span>(<span class="hljs-string">'è¿˜ç»§ç»­æ“ä½œå—ï¼Ÿy/n'</span>)
<span class="hljs-keyword">else</span>: <span class="hljs-comment">#while...else</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç¨‹åºé€€å‡ºï¼Œè°¢è°¢æ‚¨çš„ä½¿ç”¨'</span>)
</code></pre>
<p><strong>æŠ€æœ¯ç‚¹</strong>ï¼š<code>match</code>ä¸ä»…åŒ¹é…ç®€å•çš„å€¼ï¼Œè¿˜å¯ä»¥è§£æ„å¤æ‚æ•°æ®ç»“æ„ï¼Œè¿™æ˜¯Pythonå‘å‡½æ•°å¼è¯­è¨€é æ‹¢çš„ä¸€å¤§æ­¥ã€‚
<strong>ã€æ¡ˆä¾‹ä¸‰ï¼šåŒé‡å¾ªç¯æ§åˆ¶æµ â€”â€” ä¹ä¹ä¹˜æ³•è¡¨ã€‘</strong></p>
<p><strong>éš¾ç‚¹çªç ´</strong></p>
<p>å¾ˆå¤šæ–°æ‰‹åœ¨åšè¿™é¢˜æ—¶ï¼Œä¼šè¾“å‡ºä¸€ä¸ªæ­£æ–¹å½¢çš„è¡¨ï¼Œè€Œä¸æ˜¯ä¸‰è§’å½¢ã€‚æ ¸å¿ƒåœ¨äºå†…å±‚å¾ªç¯çš„èŒƒå›´<code>range(1, i+1)</code>ã€‚</p>
<p><strong>æŠ€æœ¯ç»†èŠ‚</strong></p>
<ul>
<li><code>print</code>çš„<code>end</code>å‚æ•°ï¼šé»˜è®¤æ˜¯<code>\n</code>ï¼ˆæ¢è¡Œï¼‰ï¼Œä¿®æ”¹ä¸º<code>\t</code>ï¼ˆåˆ¶è¡¨ç¬¦ï¼‰å¯ä»¥å®ç°æ¨ªå‘å¯¹é½ã€‚</li>
<li>å¤–å±‚å¾ªç¯<code>i</code>ï¼šæ§åˆ¶è¡Œï¼ˆ1åˆ°9ï¼‰ã€‚</li>
<li>å†…å±‚å¾ªç¯<code>j</code>ï¼šæ§åˆ¶åˆ—ï¼Œæ¯è¡Œçš„åˆ—æ•°ç­‰äºè¡Œå·ã€‚</li>
</ul>
<p><strong>ã€æ¡ˆä¾‹å››ï¼šäºŒåˆ†æŸ¥æ‰¾æ€ç»´çš„é›å½¢ â€”â€” çŒœæ•°æ¸¸æˆã€‘</strong></p>
<p><strong>ç®—æ³•æ€ç»´</strong></p>
<p>è™½ç„¶é¢˜ç›®æ²¡è¦æ±‚é™åˆ¶çŒœæµ‹æ¬¡æ•°ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼•å…¥â€œäºŒåˆ†æŸ¥æ‰¾â€æ€æƒ³çš„åœºæ™¯ã€‚å¦‚æœæ¯æ¬¡çŒœä¸­é—´æ•°ï¼Œæ•ˆç‡æœ€é«˜ã€‚</p>
<p><strong>ä»£ç å®ç°</strong></p>
<p>ä½¿ç”¨<code>random.randint(1, 100)</code>ç”Ÿæˆéšæœºæ•°ï¼Œé€šè¿‡<code>while True</code>å¾ªç¯ç›´åˆ°çŒœä¸­ä¸ºæ­¢ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> random
rand=random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>) <span class="hljs-comment"># äº§ç”Ÿ1-100ä¹‹é—´çš„éšæœºæ•°</span>
count=<span class="hljs-number">1</span> <span class="hljs-comment"># è®°å½•çŒœæ•°çš„æ¬¡æ•°</span>
<span class="hljs-keyword">while</span> count&lt;=<span class="hljs-number">10</span>:
    number=<span class="hljs-built_in">eval</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">'åœ¨æˆ‘å¿ƒä¸­æœ‰ä¸ªæ•°ï¼Œ1-100ä¹‹é—´ï¼Œè¯·ä½ çŒœä¸€çŒœ:'</span>))
    <span class="hljs-keyword">if</span> number==rand:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'çŒœå¯¹äº†'</span>)
        <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">elif</span> number&gt;rand:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'å¤§äº†'</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'å°äº†'</span>)
    count+=<span class="hljs-number">1</span> <span class="hljs-comment"># æ¯çŒœä¸€æ¬¡countæ¬¡æ•°è¦åŠ 1</span>
<span class="hljs-comment"># åˆ¤æ–­æ¬¡æ•°</span>
<span class="hljs-keyword">if</span> count&lt;=<span class="hljs-number">3</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'çœŸèªæ˜ï¼Œä¸€å…±çŒœäº†'</span>,count,<span class="hljs-string">'æ¬¡'</span>)
<span class="hljs-keyword">elif</span> count&lt;=<span class="hljs-number">6</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¿˜å¯ä»¥ï¼Œä¸€å…±çŒœäº†'</span>,count,<span class="hljs-string">'æ¬¡'</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'çŒœçš„æ¬¡æ•°æœ‰ç‚¹å¤šå•Šï¼Œä¸€å…±çŒœäº†'</span>,count,<span class="hljs-string">'æ¬¡'</span>)
</code></pre>
<p><strong>æ‰©å±•æ€è€ƒ</strong>ï¼šå¦‚æœè¦æ±‚åœ¨7æ¬¡å†…å¿…é¡»çŒœä¸­ï¼Œä»£ç è¯¥æ€ä¹ˆå†™ï¼Ÿï¼ˆæç¤ºï¼šè®°å½•æ¬¡æ•°å¹¶ä½¿ç”¨<code>break</code>ï¼‰</p>
<blockquote>
<p><strong>ã€æ€»ç»“ã€‘</strong>
è¿™4é“é¢˜æ¶µç›–äº†é€‰æ‹©ç»“æ„ã€å¤šé‡åˆ†æ”¯ã€åµŒå¥—å¾ªç¯å’Œéšæœºæ•°ç”Ÿæˆã€‚ç‰¹åˆ«æ˜¯<code>match</code>è¯­æ³•çš„åº”ç”¨ï¼Œå»ºè®®å¤§å®¶åœ¨æ—¥å¸¸å¼€å‘ä¸­å¤šå°è¯•ä½¿ç”¨ï¼Œå†™å‡ºæ›´Pythonicçš„ä»£ç ã€‚</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ çš„å‰ç«¯ä»£ç åº”è¯¥æ€ä¹ˆå†™]]></title>    <link>https://juejin.cn/post/7594262760940175394</link>    <guid>https://juejin.cn/post/7594262760940175394</guid>    <pubDate>2026-01-12T12:48:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594262760940175394" data-draft-id="7594051966890278947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ çš„å‰ç«¯ä»£ç åº”è¯¥æ€ä¹ˆå†™"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-12T12:48:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="helloCat"/> <meta itemprop="url" content="https://juejin.cn/user/1908407918148728"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ çš„å‰ç«¯ä»£ç åº”è¯¥æ€ä¹ˆå†™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1908407918148728/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    helloCat
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:48:53.000Z" title="Mon Jan 12 2026 12:48:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç†è§£å‰ç«¯æ¡†æ¶çš„æœ¬è´¨</h2>
<p>å‰ç«¯åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šèƒ½æŠ½è±¡æˆè¿™ä¸¤ç±»åŠŸèƒ½ã€‚ä½ çš„ä¸šåŠ¡éœ€æ±‚æ— éå°±æ˜¯å›´ç»•ç€è¿™ä¸¤ä¸ªç‚¹åœ¨æ‰“è½¬ã€‚</p>
<ul>
<li>å±•ç¤ºæ•°æ®</li>
<li>å¤„ç†è¡¨å•</li>
</ul>
<p>è€Œ Angularã€React å’Œ Vue è¿™äº›è§†å›¾æ¡†æ¶çš„å‡ºç°ï¼Œåˆ™æ˜¯å¯ä»¥è®©ä½ ç”¨ä¸€ç§æ›´åŠ æœ‰æ•ˆçš„æ–¹å¼æ¥ç»„ç»‡ä»£ç ã€‚æ¥ç€ï¼Œ è‡ªç„¶è€Œç„¶çš„ï¼Œã€‚ç»„ä»¶åº“å¯ä»¥è®©ä½ æ›´åŠ é«˜æ•ˆåœ°å®ç°ä¸šåŠ¡éœ€æ±‚ã€‚ç†è§£äº†è¿™äº›å°±ä¼šå‘ç°ï¼Œåšä¸šåŠ¡éœ€æ±‚æ— éå°±æ˜¯åœ¨åšå¡«ç©ºé¢˜ã€‚</p>
<p>è®©æˆ‘ä»¬å›é¡¾å†å²ï¼Œå¯ä»¥å‘ç°ï¼Œå‰ç«¯ï¼ˆæ³›æŒ‡å„ç§å®¢æˆ·ç«¯å’Œæµè§ˆå™¨ç«¯ï¼‰æ¡†æ¶çš„å‘å±•æ–¹å‘å¤§è‡´æ˜¯è¿™æ ·ã€‚</p>
<ul>
<li>æ— æ¡†æ¶ï¼š20ä¸–çºª60å¹´ä»£ï¼ŒæŠ€æœ¯å‘˜ä»¬ç›´æ¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„APIç»˜å›¾ï¼Œå¹¶é€æ¸å½¢æˆä¸€å¥—å¼€å‘GUIé›å‹ç³»ç»Ÿã€‚</li>
<li>MVCï¼šTrygve Reenskaug äº Xerox PARC å·¥ä½œæ—¶ï¼Œå‘ç°äº†è¿™ç§æ¨¡å¼ã€‚ä»–æŠŠåº”ç”¨ç¨‹åºåˆ†æˆäº†ä¸‰ä¸ªéƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ã€‚æ¨¡å‹è´Ÿè´£ç®¡ç†åº”ç”¨ç¨‹åºçš„æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œè§†å›¾è´Ÿè´£å±•ç¤ºæ•°æ®ç»™ç”¨æˆ·ï¼Œæ§åˆ¶å™¨è´Ÿè´£å¤„ç†ç”¨æˆ·è¾“å…¥å¹¶æ›´æ–°æ¨¡å‹å’Œè§†å›¾ã€‚ä¸»è¦è´¡çŒ®æ˜¯æä¾›äº†<strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼Œè¿™æå¤§çš„å½±å“äº†åç»­è½¯ä»¶å¼€å‘çš„æ¨¡å¼ã€‚MVCå¼Šç«¯åœ¨äºï¼Œå®¹æ˜“å½¢æˆå·¨å¤§ä¸”éš¾ä»¥ç»´æŠ¤çš„ Controller é€»è¾‘ã€‚</li>
<li>MVPï¼šåœ¨ MVC çš„åŸºç¡€ä¸Šï¼ŒIBM çš„ Mike Potel åœ¨1996å¹´çš„ä¸€ç¯‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.wildcrest.com%2FPotel%2FPortfolio%2Fmvp.pdf" target="_blank" title="https://www.wildcrest.com/Potel/Portfolio/mvp.pdf" ref="nofollow noopener noreferrer">è®ºæ–‡</a>ä¸­æå‡º MVP æ¦‚å¿µï¼Œå…¶æ ¸å¿ƒæ˜¯ï¼Œ<strong>æŠŠè§†å›¾å’Œæ¨¡å‹å®Œå…¨åˆ†ç¦»</strong>ï¼Œå¼•å…¥äº† Presenter å±‚ï¼Œä½ å¯ä»¥ç›´æ¥ç†è§£ä¸º Presenter å¯¹è±¡æŒæœ‰äº†è§†å›¾å¯¹è±¡å¹¶ä¸»åŠ¨æ›´æ–°è§†å›¾ï¼Œè¿™è§£è€¦äº†è§†å›¾å±‚å’Œæ¨¡å‹å±‚ã€‚</li>
<li>MVVMï¼š2005å¹´ï¼Œå¾®è½¯çš„ John Gossman å‘å¸ƒ WPFï¼ˆWindows Presentation Foundationï¼‰æ—¶ï¼Œæå‡ºäº† MVVM æ¶æ„æ¨¡å¼ã€‚MVVM æ˜¯å¯¹ MVP çš„æ”¹è¿›ï¼Œä¸»è¦åŒºåˆ«åœ¨äºå¼•å…¥äº† ViewModel å±‚æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘å’Œç”¨æˆ·äº¤äº’ã€‚ViewModelå±‚è´Ÿè´£å¤„ç†è§†å›¾å±‚çš„äº‹ä»¶å’Œæ›´æ–°æ¨¡å‹å±‚çš„æ•°æ®ï¼ŒæŠŠè§†å›¾å±‚å’Œæ¨¡å‹å±‚å®Œå…¨åˆ†ç¦»çš„åŒæ—¶ï¼Œä¹Ÿä¸è€¦åˆå…·ä½“çš„è§†å›¾å’Œæ¨¡å‹ã€‚</li>
<li>Reactive MVVMï¼š2010å¹´ï¼Œå¾®è½¯çš„ Reactive Extensionsï¼ˆRxï¼‰åº“è¢«å¼•å…¥ï¼Œä¸º MVVM æ¶æ„å¼•å…¥äº†<strong>å“åº”å¼ç¼–ç¨‹</strong>å’Œå£°æ˜å¼è§†å›¾çš„æ¦‚å¿µã€‚è¿™è®© ViewModel ä»æ¡†æ¶ä¸­è„±ç¦»å‡ºæ¥ï¼Œä½¿å¾—å¼€å‘è€…èƒ½è„±ç¦»å…·ä½“çš„è§†å›¾æ¡†æ¶è€Œç‹¬ç«‹å¼€å‘ï¼ŒåŒæ—¶ä¹Ÿä½¿å¾— ViewModel æ›´åŠ çµæ´»å’Œå¯æµ‹è¯•ï¼Œä¹Ÿèƒ½æŠŠè¿™ç§æ€æƒ³å¼•å…¥åˆ°å…¶ä»–è¯­è¨€ä¸­ï¼Œæ¯”å¦‚ RxJSï¼Œ RxJavaç­‰ã€‚</li>
<li>Flux MVVM ï¼š2014å¹´ï¼ŒFacebook å‘å¸ƒäº† Flux æ¶æ„æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäº<strong>å•å‘æ•°æ®æµ</strong>çš„æ¶æ„æ¨¡å¼ã€‚Flux æ¶æ„æ¨¡å¼å¼ºè°ƒå°†åº”ç”¨ç¨‹åºçš„çŠ¶æ€å­˜å‚¨åœ¨ä¸€ä¸ªå•ä¸€çš„æ•°æ®æºä¸­ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ç‰¹å®šçš„æ–¹å¼æ¥æ›´æ–°çŠ¶æ€ã€‚</li>
</ul>
<p>ä»ä¸Šé¢çš„å‘å±•è·¯å¾„å¯ä»¥çœ‹åˆ°ï¼Œå¤§å®¶ä¼šå€¾å‘äºå¯»æ‰¾ä¸€ç§èƒ½å¤Ÿåˆ†ç¦»æ•°æ®å’Œè§†å›¾çš„æ¶æ„è®¾è®¡æ¨¡å¼ã€‚è€Œå¤§å®¶å‘ç°ï¼Œä» MVCã€MVP å†åˆ° MVVMï¼Œä¸å…¶ä¸»åŠ¨æ“çºµGUIæ¡†æ¶çš„æ¥å£å»åŒæ­¥æ•°æ®å±‚ï¼Œå€’ä¸å¦‚æŠŠæ•°æ®å±‚çš„çŠ¶æ€å˜æˆå“åº”å¼çš„ï¼Œè®©è§†å›¾å±‚é€šè¿‡ä¸€ä¸ªä¸­é—´å±‚æ¥è·å–å¯¹åº”çš„çŠ¶æ€å˜æ›´ã€‚è®©å¤§å®¶ä»ç¹ççš„ GUI æ“ä½œä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ã€‚</p>
<p>ä»ä¸Šé¢çš„å†å²å‘å±•æ¥çœ‹ï¼Œç°ä»£å‰ç«¯æ¡†æ¶çš„æœ¬è´¨å°±æ˜¯ä¸€ç§<strong>å“åº”å¼çš„è§†å›¾æ¡†æ¶</strong>ã€‚è€ŒåŸºäºè¿™äº›æ¡†æ¶ç¼–å†™çš„ä»£ç ï¼Œä½ éœ€è¦å…³æ³¨ä»¥ä¸‹è¿™ä¹ˆå‡ ä¸ªç‚¹ï¼Œæ¥ä¿è¯ä½ çš„ä»£ç è´¨é‡ã€‚</p>
<h2 data-id="heading-1">å…³æ³¨æ•°æ®æµ</h2>
<p>å¦‚æœä½ æœ‰è£…ä¿®æˆ¿å­çš„æ°´ç”µçš„ç»éªŒï¼ˆæˆ–è€…æ²¡æœ‰ç»éªŒä¹Ÿæ²¡é—®é¢˜ï¼‰ï¼Œåªè¦ä½ æ€è€ƒè¿‡æ€ä¹ˆè£…ä¿®ï¼Œé‚£ä¹ˆè£…ä¿®æ­¥éª¤å°±ä¼šæ˜¯è¿™æ ·ã€‚</p>
<ul>
<li>åœ¨è“å›¾ä¸Šè®¾è®¡å¥½ç®¡é“èµ°å‘ã€‚</li>
<li>ç„¶åæ–½å·¥æ—¶ï¼ŒæŒ‰ç…§è“å›¾ä¸Šçš„è·¯çº¿æ¥è¿›è¡Œç®¡é“å®‰è£…å·¥ä½œã€‚</li>
<li>æœ€åï¼Œé€šç”µã€é€šæ°´ï¼Œæ£€æŸ¥ç®¡é“æ˜¯å¦ç•…é€šã€‚</li>
</ul>
<p>è¿™å…¶å®è·Ÿè½¯ä»¶å¼€å‘å¾ˆç±»ä¼¼ã€‚å› ä¸ºåœ¨å“åº”å¼ç¼–ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯æœ‰<strong>ç®¡é“ï¼ˆpipelineï¼‰</strong> è¿™ä¸ªæ¦‚å¿µçš„ã€‚ä½ å¯ä»¥æŠŠæ•°æ®çœ‹ä½œæ˜¯æ°´ï¼Œè€Œç®¡é“å°±æ˜¯ç”¨æ¥æ§åˆ¶æ°´çš„æµå‘ã€‚æ‰€ä»¥ï¼Œåœ¨å¼€å‘æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…³å¿ƒçš„æ˜¯ç®¡é“åº”è¯¥å¦‚ä½•æ¶è®¾ï¼Œè¿™ä¹Ÿæ˜¯å“åº”å¼ç¼–ç¨‹çš„æ ¸å¿ƒæ€è·¯ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªç®€å•çš„â€œè¾“å…¥æœç´¢å¹¶æ˜¾ç¤ºç»“æœâ€çš„åŠŸèƒ½ã€‚</p>
<p><strong>å…³æ³¨â€œæ“ä½œâ€çš„å†™æ³•ï¼ˆå‘½ä»¤å¼ï¼‰ï¼š</strong>
ä½ éœ€è¦åœ¨è¾“å…¥äº‹ä»¶ä¸­æ‰‹åŠ¨è°ƒåº¦æ‰€æœ‰ç›¸å…³çš„æ•°æ®æ›´æ–°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤–éƒ¨æ•°æ®æº</span>
<span class="hljs-keyword">const</span> data = [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'banana'</span>, <span class="hljs-string">'orange'</span>, <span class="hljs-string">'peach'</span>];

<span class="hljs-keyword">const</span> [searchTerm, setSearchTerm] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
<span class="hljs-keyword">const</span> [filteredData, setFilteredData] = <span class="hljs-title function_">useState</span>([]);
<span class="hljs-keyword">const</span> [hasNoResults, setHasNoResults] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onSearch</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-comment">// 1. æ‰‹åŠ¨æ›´æ–°æœç´¢è¯</span>
  <span class="hljs-title function_">setSearchTerm</span>(text);
  
  <span class="hljs-comment">// 2. æ‰‹åŠ¨è®¡ç®—æœç´¢ç»“æœ</span>
  <span class="hljs-keyword">const</span> results = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-title function_">includes</span>(text));
  <span class="hljs-comment">// å¦‚æœè¿™é‡Œæ¼äº†ï¼ŒUI å°±ä¸ä¼šæ›´æ–°</span>
  <span class="hljs-title function_">setFilteredData</span>(results); 
  
  <span class="hljs-comment">// 3. æ‰‹åŠ¨è®¡ç®—æ˜¯å¦ä¸ºç©º</span>
  <span class="hljs-title function_">setHasNoResults</span>(results.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>);
}
</code></pre>
<p><strong>å…³æ³¨â€œæ•°æ®æµâ€çš„å†™æ³•ï¼ˆå£°æ˜å¼/å“åº”å¼ï¼‰ï¼š</strong>
ä½ åªéœ€è¦å®šä¹‰æ•°æ®ä¹‹é—´çš„<strong>ä¾èµ–å…³ç³»ï¼ˆç®¡é“ï¼‰</strong>ï¼Œæ•°æ®ä¼šè‡ªåŠ¨æµè½¬ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤–éƒ¨æ•°æ®æº</span>
<span class="hljs-keyword">const</span> data = [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'banana'</span>, <span class="hljs-string">'orange'</span>, <span class="hljs-string">'peach'</span>];

<span class="hljs-comment">// 1. æ°´æº (Source)</span>
<span class="hljs-keyword">const</span> [searchTerm, setSearchTerm] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);

<span class="hljs-comment">// 2. ç®¡é“ (Pipeline) - åªè¦æºå¤´å˜äº†ï¼Œç»“æœè‡ªç„¶ä¼šå˜</span>
<span class="hljs-keyword">const</span> filteredData = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-title function_">includes</span>(searchTerm));
}, [searchTerm, data]);

<span class="hljs-comment">// 3. ç®¡é“ (Pipeline) - åŸºäºä¸Šæ¸¸æ•°æ®çš„è¿›ä¸€æ­¥è¡ç”Ÿ</span>
<span class="hljs-keyword">const</span> hasNoResults = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> filteredData.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>;
}, [filteredData]);

<span class="hljs-comment">// è§†å›¾å±‚ç›´æ¥æ¶ˆè´¹è¿™äº›æ•°æ®å³å¯</span>
</code></pre>
<h2 data-id="heading-2">ä¸šåŠ¡é€»è¾‘åº”å½“æ˜¯å‘½ä»¤å¼ä»£ç </h2>
<p>ä¸šåŠ¡é€»è¾‘åº”è¯¥æ˜¯å‘½ä»¤å¼çš„ï¼Œè€Œåœ¨çš„å¦‚ä»Šçš„å‰ç«¯å¼€å‘ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä½¿ç”¨äº†å£°æ˜å¼çš„ä»£ç æ¥ç¼–å†™é€»è¾‘ï¼Œå¯¼è‡´äº§ç”Ÿä¸€ç§éš¾ä»¥åçŠ¶çš„å¥‡æ€ªçŠ¶æ€å†™æ³•ã€‚ä¾‹å¦‚ï¼Œåœ¨Reactä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªäºŒæ¬¡ç¡®è®¤çš„æäº¤è¡¨å•çš„åŠŸèƒ½ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä¼šå†™æˆè¿™æ ·ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">SomeForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [open, setOpen] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [formData, setFormData] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">address</span>: <span class="hljs-string">''</span>,
  });
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">submit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">event: React.FormEvent&lt;HTMLFormElement&gt;</span>) =&gt; {
    event.<span class="hljs-title function_">preventDefault</span>();

    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(event.<span class="hljs-property">target</span>));
    <span class="hljs-title function_">setFormData</span>(data);
    <span class="hljs-title function_">setOpen</span>(<span class="hljs-literal">true</span>);
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">realSubmit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title class_">HttpClient</span>.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/some-form'</span>, formData);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Fragment</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{submit}</span>&gt;</span>
        {/* some form fields */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Dialog</span> <span class="hljs-attr">open</span>=<span class="hljs-string">{open}</span> <span class="hljs-attr">onClose</span>=<span class="hljs-string">{()</span> =&gt;</span> setOpen(false)}&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">DialogTitle</span>&gt;</span>ç¡®è®¤æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">DialogTitle</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DialogContent</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">DialogContentText</span>&gt;</span>
            ç¡®è®¤æäº¤è¡¨å•å—ï¼Ÿ
          <span class="hljs-tag">&lt;/<span class="hljs-name">DialogContentText</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">DialogContent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DialogActions</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setOpen(false)}&gt;å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> realSubmit()}&gt;ç¡®è®¤<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">DialogActions</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Dialog</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Fragment</span>&gt;</span></span>
  )
}
</code></pre>
<p>çœŸçš„ï¼Œå¾ˆä¸ç›´è§‚ã€‚å£°æ˜å¼ä»£ç ä¸åº”è¯¥æŠŠå•ä¸€é€»è¾‘å¤„ç†å¤„ç†æˆå¤šä¸ªçŠ¶æ€çš„åˆ‡æ¢ï¼Œä¸Šé¢çš„åšæ³•å¤ªä¸‘é™‹äº†ã€‚å°½ç®¡æˆ‘ä»¬é€šè¿‡ ViewModel æŠŠè§†å›¾å±‚çš„å‘½ä»¤å¼ä»£ç æ›¿ä»£æ‰ï¼Œä½†å¹¶ä¸æ„å‘³ç€ä½ å¤„å¤„éƒ½éœ€è¦ç”¨å‘½ä»¤å¼ä»£ç ã€‚å†è¯´ä¸€éï¼Œä¸šåŠ¡é€»è¾‘éœ€è¦æ˜¯å‘½ä»¤å¼çš„ä»£ç ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">SomeForm</span>(<span class="hljs-params"/>) {

  <span class="hljs-keyword">const</span> { dialog, contextHolder } = <span class="hljs-title function_">useDialog</span>();

  <span class="hljs-keyword">const</span> [formData, setFormData] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">address</span>: <span class="hljs-string">''</span>,
  });
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">submit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">event: React.FormEvent&lt;HTMLFormElement&gt;</span>) =&gt; {
    event.<span class="hljs-title function_">preventDefault</span>();
    <span class="hljs-keyword">const</span> confirm = <span class="hljs-keyword">await</span> dialog.<span class="hljs-title function_">confirm</span>(<span class="hljs-string">'ç¡®è®¤æäº¤è¡¨å•å—ï¼Ÿ'</span>);
    <span class="hljs-keyword">if</span> (!confirm) {
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(event.<span class="hljs-property">target</span>));
    <span class="hljs-title function_">setFormData</span>(data);
    <span class="hljs-keyword">await</span> <span class="hljs-title class_">HttpClient</span>.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/some-form'</span>, formData);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Fragment</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{submit}</span>&gt;</span>
        {/* some form fields */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
      {contextHolder}
    <span class="hljs-tag">&lt;/<span class="hljs-name">Fragment</span>&gt;</span></span>
  )
}
</code></pre>
<p>è‡³äºé‡Œé¢çš„ useDialogï¼Œæˆ‘ä½¿ç”¨ <code>Promise.withResolvers()</code> å†™äº†ä¸ªå‚è€ƒå†™æ³•ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PromiseResolvers</span>&lt;T&gt; {
  <span class="hljs-attr">promise</span>: <span class="hljs-title class_">Promise</span>&lt;T&gt;;
  <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">value: T | PromiseLike&lt;T&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">reject</span>: <span class="hljs-function">(<span class="hljs-params">reason?: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useDialog</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [open, setOpen] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> resolversRef = <span class="hljs-title class_">React</span>.<span class="hljs-property">useRef</span>&lt;<span class="hljs-title class_">PromiseResolvers</span>&lt;<span class="hljs-built_in">boolean</span>&gt;&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClose</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setOpen</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-keyword">if</span> (!resolversRef.<span class="hljs-property">current</span>) {
      <span class="hljs-keyword">return</span>;
    }
    resolversRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>);
    resolversRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
  }
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleConfirm</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setOpen</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-keyword">if</span> (!resolversRef.<span class="hljs-property">current</span>) {
      <span class="hljs-keyword">return</span>;
    }
    resolversRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-literal">true</span>);
    resolversRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
  }
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">contextHolder</span>: (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Dialog</span> <span class="hljs-attr">open</span>=<span class="hljs-string">{open}</span> <span class="hljs-attr">onClose</span>=<span class="hljs-string">{handleClose}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DialogTitle</span>&gt;</span>ç¡®è®¤æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">DialogTitle</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DialogContent</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">DialogContentText</span>&gt;</span>
            ç¡®è®¤æäº¤è¡¨å•å—ï¼Ÿ
          <span class="hljs-tag">&lt;/<span class="hljs-name">DialogContentText</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">DialogContent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DialogActions</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClose}</span>&gt;</span>å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleConfirm}</span>&gt;</span>ç¡®è®¤<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">DialogActions</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Dialog</span>&gt;</span></span>
    ),
    <span class="hljs-attr">confirm</span>: <span class="hljs-function">(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>) =&gt;</span> {
      <span class="hljs-title function_">setOpen</span>(<span class="hljs-literal">true</span>);
      resolversRef.<span class="hljs-property">current</span> = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">withResolvers</span>();
      <span class="hljs-keyword">return</span> resolversRef.<span class="hljs-property">current</span>.<span class="hljs-property">promise</span>;
    },
  }  
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„ä»£ç æ›´åŠ ç›´è§‚ï¼Œé˜…è¯»ä¹Ÿå®¹æ˜“ç†è§£ï¼Œå‡ºé”™ä¹Ÿå®¹æ˜“æ’æŸ¥ã€‚</p>
<h2 data-id="heading-3">è§£è€¦æ¨¡å—é—´çš„ä¾èµ–</h2>
<p>åœ¨å“åº”å¼ç¼–ç¨‹ä¸­ï¼Œæ•°æ®æµæ˜¯<strong>å•å‘çš„</strong>ï¼›è€Œæˆ‘ä»¬åœ¨å¼€å‘é¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œæ¨¡å—ä¸­çš„å¼•ç”¨ä¹Ÿåº”è¯¥æ˜¯<strong>å•å‘çš„</strong>ã€‚
è§£è€¦æ¨¡å—é—´çš„åŒå‘ä¾èµ–å…¶å®å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼å®ç°ï¼š</p>
<ol>
<li>äº‹ä»¶è®¢é˜…æ¨¡å¼</li>
<li>ä¾èµ–æ³¨å…¥æ¨¡å¼</li>
</ol>
<p>ä¸‹é¢ä»…ä»¥äº‹ä»¶è®¢é˜…æ¨¡å¼ä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•è§£è€¦æ¨¡å—é—´çš„ä¾èµ–ã€‚</p>
<h3 data-id="heading-4">ä¾‹å­</h3>
<p>æœ‰ä¸€ç§å¾ˆæµè¡Œçš„è®¾è®¡ï¼Œå–œæ¬¢æŠŠç½‘ç»œè¯·æ±‚æ¨¡å—å’ŒUIæ¨¡å—ç»“åˆåœ¨ä¸€èµ·ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// user-info.page.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HttpService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/http-service'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserInfoPage</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [formData, setFormData] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">address</span>: <span class="hljs-string">''</span>,
  });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">submit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title class_">HttpService</span>.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/user-info'</span>, formData);
  };

  <span class="hljs-comment">//...</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    {/*...*/}
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{submit}</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// ./http.service.ts</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Message</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/ui'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">post</span>(<span class="hljs-params">url, data</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(url, data);
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">status</span> !== <span class="hljs-number">200</span>) {
      <span class="hljs-keyword">throw</span> response;
    }
    <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">'æäº¤æˆåŠŸ'</span>);
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">status</span> === <span class="hljs-number">403</span>) {
      <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æäº¤å¤±è´¥ï¼Œæƒé™ä¸è¶³'</span>);
      <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/login'</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æäº¤å¤±è´¥"</span>);
    }
    <span class="hljs-keyword">throw</span> error;
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">HttpService</span> = {
  post,
}

</code></pre>
<p>å½“ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®æ—¶ï¼Œæ•°æ®è¢«å‘é€ï¼Œå¹¶ä¸”ä¼šæç¤ºç”¨æˆ·æäº¤æˆåŠŸæˆ–è€…å¤±è´¥ï¼›å½“ç”¨æˆ·tokenå¤±æ•ˆæ—¶ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µã€‚è¿™ç§å†™æ³•æŠŠç½‘ç»œè¯·æ±‚å’ŒUIé€»è¾‘è€¦åˆäº†èµ·æ¥ã€‚åœ¨ä¾èµ–å±‚é¢çœ‹æ¥ï¼Œå·²ç»å¼€å§‹æœ‰ç‚¹ bad-smell äº†ã€‚</p>
<p>å¦‚ä½•è§£å†³å‘¢ï¼Ÿå®é™…ä¸Šï¼Œç½‘ç»œè¯·æ±‚ä¸åº”è¯¥çŸ¥é“å…·ä½“UIçš„é€»è¾‘ã€‚ç½‘ç»œè¯·æ±‚æ¨¡å—åªéœ€è¦æä¾›ä¸€ä¸ªäº‹ä»¶ç³»ç»Ÿï¼Œå¤„ç†è¯·æ±‚ä¸­ä¸åŒçš„çŠ¶æ€ã€‚UIæ¨¡å—åªéœ€è¦è®¢é˜…è¿™äº›äº‹ä»¶ï¼Œå°±å¯ä»¥çŸ¥é“æœ¬æ¬¡è¯·æ±‚çš„çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// event-center.ts</span>
<span class="hljs-comment">// äº‹ä»¶ä¸­å¿ƒ</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Event</span> = <span class="hljs-function">(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createEventCenter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> subjects = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Event</span>[]&gt;();

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">eventName: <span class="hljs-built_in">string</span>, fn: Event</span>) {
    <span class="hljs-keyword">let</span> fns = subjects.<span class="hljs-title function_">get</span>(eventName);
    <span class="hljs-keyword">if</span> (!fns) {
      fns = [];
      subjects.<span class="hljs-title function_">set</span>(eventName, fns);
    }
    fns.<span class="hljs-title function_">push</span>(fn);

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> index = fns.<span class="hljs-title function_">indexOf</span>(fn);
      <span class="hljs-keyword">if</span> (index === -<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span>;
      }
      fns.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
    }
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">emit</span>(<span class="hljs-params">eventName: <span class="hljs-built_in">string</span>, ...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">const</span> fns = subjects.<span class="hljs-title function_">get</span>(eventName);
    <span class="hljs-keyword">if</span> (fns) {
      fns.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fn</span> =&gt;</span> <span class="hljs-title function_">fn</span>(...args));
    }
  }

  <span class="hljs-keyword">return</span> {
    emit,
    subscribe,
  }
}
</code></pre>
<p>httpè¯·æ±‚æ¨¡å—å¼•å…¥ä¸Šé¢çš„äº‹ä»¶ä¸­å¿ƒã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript">
<span class="hljs-comment">// http-client.ts</span>
<span class="hljs-comment">// äº‹ä»¶ä¸­å¿ƒ</span>
<span class="hljs-keyword">const</span> eventCenter = <span class="hljs-title function_">createEventCenter</span>();
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">post</span>(<span class="hljs-params">url, data</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(url, data);
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">status</span> !== <span class="hljs-number">200</span>) {
      <span class="hljs-keyword">throw</span> response;
    }
    eventCenter.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'REQUEST_SUCCESS'</span>, response.<span class="hljs-property">data</span>);
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">if</span> (error &amp;&amp; error.<span class="hljs-property">status</span> === <span class="hljs-number">403</span>) {
      eventCenter.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'NO_PERMISSION'</span>, response.<span class="hljs-property">data</span>);
    } <span class="hljs-keyword">else</span> {
      eventCenter.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'REQUEST_ERROR'</span>);
    }
    <span class="hljs-keyword">throw</span> error;
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">eventName: <span class="hljs-built_in">string</span>, fn: Event</span>) {
  eventCenter.<span class="hljs-title function_">subscribe</span>(eventName, fn);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">HttpService</span> = {
  post,
  subscribe,
}

</code></pre>
<p>æœ€åï¼ŒUIæ¨¡å—è®¢é˜…æ¥è‡ªç½‘ç»œæ¨¡å—çš„äº‹ä»¶ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript">
<span class="hljs-comment">// app.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HttpClient</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/http-client'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Message</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/ui'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> subs = [
      <span class="hljs-title class_">HttpClient</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">'NO_PERMISSION'</span>, <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/login'</span>);
      }),
      <span class="hljs-title class_">HttpClient</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">'REQUEST_ERROR'</span>, <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æäº¤å¤±è´¥"</span>);
      }),
      <span class="hljs-title class_">HttpClient</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">'REQUEST_SUCCESS'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
        <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">"æäº¤æˆåŠŸ"</span>);
      }),
    ];
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      subs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">sub</span> =&gt;</span> <span class="hljs-title function_">sub</span>());
    }
  }, []);
  
  <span class="hljs-comment">// rest code ...</span>
}

</code></pre>
<p>è¿™æ ·ï¼ŒUIæ¨¡å—å°±åªéœ€è¦è®¢é˜…æ¥è‡ªç½‘ç»œæ¨¡å—çš„äº‹ä»¶ã€‚è€Œç½‘ç»œæ¨¡å—ä¹Ÿä¾èµ–UIæ¨¡å—ï¼Œè°ƒè¯•èµ·æ¥ä¹Ÿä¼šæ–¹ä¾¿å¾ˆå¤šã€‚è¿™ä¸ªæ€è·¯å¯æ‰©å±•å„ä¸ªä¸åŒæ¨¡å—ä¹‹é—´çš„é€šä¿¡ï¼Œè¿™å°±è§£è€¦äº†ä¸åŒæ¨¡å—é—´çš„ä¾èµ–ã€‚</p>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>å‰ç«¯å¼€å‘çš„æ ¸å¿ƒåœ¨äºç†è§£æ¡†æ¶æœ¬è´¨ä¸ä»£ç ç»„ç»‡æ–¹å¼ã€‚ç°ä»£å‰ç«¯æ¡†æ¶æœ¬è´¨ä¸Šæ˜¯<strong>å“åº”å¼çš„è§†å›¾æ¡†æ¶</strong>ã€‚ä¸ºäº†ç¼–å†™é«˜è´¨é‡ä»£ç ï¼Œå»ºè®®éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p>
<ol>
<li><strong>å…³æ³¨æ•°æ®æµ</strong>ï¼šåˆ©ç”¨å“åº”å¼ç¼–ç¨‹æ€æƒ³ï¼Œé€šè¿‡å®šä¹‰æ•°æ®é—´çš„ä¾èµ–å…³ç³»ï¼ˆç®¡é“ï¼‰æ¥è‡ªåŠ¨æµè½¬æ•°æ®ï¼Œè€Œéæ‰‹åŠ¨è°ƒåº¦æ›´æ–°ã€‚è¿™èƒ½è®©ä»£ç æ›´å…·å£°æ˜å¼ç‰¹å¾ï¼Œå‡å°‘å‰¯ä½œç”¨ã€‚</li>
<li><strong>ä¿æŒä¸šåŠ¡é€»è¾‘å‘½ä»¤å¼</strong>ï¼šè™½ç„¶è§†å›¾æ›´æ–°æ˜¯å“åº”å¼çš„ï¼Œä½†å¯¹äºçº¿æ€§çš„ä¸šåŠ¡æµç¨‹ï¼ˆå¦‚â€œç‚¹å‡»æŒ‰é’® -&gt; äºŒæ¬¡ç¡®è®¤ -&gt; æäº¤æ•°æ®â€ï¼‰ï¼Œåº”ä¿æŒå‘½ä»¤å¼çš„é€»è¾‘ç¼–å†™æ–¹å¼ã€‚é¿å…ä¸ºäº†è¿åˆæ¡†æ¶è€Œè¿‡åº¦æ‹†åˆ†çŠ¶æ€ï¼ˆå¦‚è®¾ç½®å¤šä¸ª <code>open</code> çŠ¶æ€ä½ï¼‰ï¼Œå¯¼è‡´é€»è¾‘åˆ†æ•£å’Œéš¾ä»¥è¿½è¸ªã€‚</li>
<li><strong>è§£è€¦æ¨¡å—ä¾èµ–</strong>ï¼šä½¿ç”¨è®¢é˜…å‘å¸ƒæ¨¡å¼ï¼ˆEvent Centerï¼‰åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼‰ä¸è§†å›¾å±‚ã€‚UI åªéœ€å“åº”çŠ¶æ€å˜åŒ–ï¼Œæ— éœ€å…³å¿ƒå…·ä½“è¯·æ±‚é€»è¾‘ï¼Œä»è€Œé™ä½è€¦åˆåº¦ï¼Œæå‡å¯ç»´æŠ¤æ€§ã€‚</li>
</ol>
<p>é€šè¿‡å¹³è¡¡å£°æ˜å¼çš„æ•°æ®æµä¸å‘½ä»¤å¼çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥æ„å»ºå‡ºæ›´æ¸…æ™°ã€æ˜“ç»´æŠ¤ä¸”é€»è¾‘è‡ªæ´½çš„å‰ç«¯åº”ç”¨ã€‚</p>
<h2 data-id="heading-6">å‚è€ƒæ–‡çŒ®</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffolk.universitetetioslo.no%2Ftrygver%2Fthemes%2Fmvc%2Fmvc-index.html" target="_blank" title="https://folk.universitetetioslo.no/trygver/themes/mvc/mvc-index.html" ref="nofollow noopener noreferrer">MVC XEROX PARC 1978-79</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.wildcrest.com%2FPotel%2FPortfolio%2Fmvp.pdf" target="_blank" title="https://www.wildcrest.com/Potel/Portfolio/mvp.pdf" ref="nofollow noopener noreferrer">MVP: Model-View-Presenter The Taligent Programming Model for C++ and Java</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Farchive%2Fblogs%2Fjohngossman%2Fintroduction-to-modelviewviewmodel-pattern-for-building-wpf-apps" target="_blank" title="https://learn.microsoft.com/en-us/archive/blogs/johngossman/introduction-to-modelviewviewmodel-pattern-for-building-wpf-apps" ref="nofollow noopener noreferrer">Introduction to Model/View/ViewModel pattern for building WPF apps</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ReactNative ä½¿ç”¨ç™¾åˆ†æ¯”å®½åº¦æ—¶ï¼ŒaspectRatio åœ¨æŸäº›æƒ…å†µä¸‹æ— æ³•æ­£ç¡®æ¨æ–­å‡ºé«˜åº¦ï¼Œå¯¼è‡´å›¾ç‰‡é«˜åº¦ä¸º 0ï¼Œä»è€Œæ— æ³•æ˜¾ç¤º]]></title>    <link>https://juejin.cn/post/7594276252460269578</link>    <guid>https://juejin.cn/post/7594276252460269578</guid>    <pubDate>2026-01-12T12:56:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594276252460269578" data-draft-id="7594309641866346534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ReactNative ä½¿ç”¨ç™¾åˆ†æ¯”å®½åº¦æ—¶ï¼ŒaspectRatio åœ¨æŸäº›æƒ…å†µä¸‹æ— æ³•æ­£ç¡®æ¨æ–­å‡ºé«˜åº¦ï¼Œå¯¼è‡´å›¾ç‰‡é«˜åº¦ä¸º 0ï¼Œä»è€Œæ— æ³•æ˜¾ç¤º"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-12T12:56:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å–œxi"/> <meta itemprop="url" content="https://juejin.cn/user/3336389407020820"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ReactNative ä½¿ç”¨ç™¾åˆ†æ¯”å®½åº¦æ—¶ï¼ŒaspectRatio åœ¨æŸäº›æƒ…å†µä¸‹æ— æ³•æ­£ç¡®æ¨æ–­å‡ºé«˜åº¦ï¼Œå¯¼è‡´å›¾ç‰‡é«˜åº¦ä¸º 0ï¼Œä»è€Œæ— æ³•æ˜¾ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3336389407020820/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å–œxi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:56:23.000Z" title="Mon Jan 12 2026 12:56:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸ºäº†ç¡®ä¿å›¾ç‰‡èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºï¼Œæœ€ç¨³å¦¥çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <code>Dimensions</code> è®¡ç®—å‡ºç²¾ç¡®çš„å›¾ç‰‡å®½åº¦å’Œé«˜åº¦ã€‚</p>
<p>è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ä¿®æ”¹æ‚¨çš„ä»£ç ï¼š</p>
<ol>
<li>
<p><strong>å¼•å…¥ <code>Dimensions</code></strong>ï¼š
åœ¨æ–‡ä»¶é¡¶éƒ¨çš„ <code>import</code> éƒ¨åˆ†æ·»åŠ  <code>Dimensions</code>ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">Dimensions</span>, <span class="hljs-comment">// &lt;--- æ·»åŠ è¿™ä¸€è¡Œ</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
</code></pre>
</li>
<li>
<p><strong>è®¡ç®—å›¾ç‰‡å°ºå¯¸</strong>ï¼š
åœ¨ <code>const styles = StyleSheet.create({ ... })</code> <strong>ä¹‹å‰</strong>ï¼Œæ·»åŠ å°ºå¯¸è®¡ç®—é€»è¾‘ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// è®¡ç®—ä¹å®«æ ¼å›¾ç‰‡å°ºå¯¸</span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">width</span>: screenWidth } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'window'</span>);
<span class="hljs-comment">// å±å¹•å®½åº¦ - sectionå·¦å³padding(32) - postCardå·¦å³padding(32) = å†…å®¹åŒºåŸŸå®½åº¦</span>
<span class="hljs-keyword">const</span> contentWidth = screenWidth - <span class="hljs-number">32</span> - <span class="hljs-number">32</span>;
<span class="hljs-comment">// é—´è·è®¾ä¸ºå†…å®¹å®½åº¦çš„ 2%</span>
<span class="hljs-keyword">const</span> gap = contentWidth * <span class="hljs-number">0.02</span>;
<span class="hljs-comment">// (æ€»å®½åº¦ - 2ä¸ªé—´è·) / 3 = å•å¼ å›¾ç‰‡å®½åº¦</span>
<span class="hljs-keyword">const</span> imageSize = (contentWidth - gap * <span class="hljs-number">2</span>) / <span class="hljs-number">3</span>;
</code></pre>
</li>
<li>
<p><strong>æ›´æ–° <code>gridImage</code> æ ·å¼</strong>ï¼š
å°† <code>styles</code> ä¸­çš„ <code>gridImage</code> ä¿®æ”¹ä¸ºä½¿ç”¨è®¡ç®—å‡ºçš„å›ºå®šå®½é«˜ï¼Œå¹¶å°† <code>imagesContainer</code> çš„ <code>flexWrap</code> å±æ€§ç¡®ä¿è®¾ç½®æ­£ç¡®ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-comment">// ... å…¶ä»–æ ·å¼ä¿æŒä¸å˜ ...</span>
  
  <span class="hljs-attr">imagesContainer</span>: { 
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>, 
    <span class="hljs-attr">flexWrap</span>: <span class="hljs-string">'wrap'</span>, 
    <span class="hljs-attr">marginBottom</span>: <span class="hljs-number">8</span> 
  },
  <span class="hljs-attr">singleImage</span>: { 
    <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, 
    <span class="hljs-attr">height</span>: <span class="hljs-number">180</span>, 
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">8</span> 
  },
  <span class="hljs-attr">gridImage</span>: { 
    <span class="hljs-attr">width</span>: imageSize, 
    <span class="hljs-attr">height</span>: imageSize, <span class="hljs-comment">// æ˜ç¡®æŒ‡å®šé«˜åº¦</span>
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">8</span>, 
    <span class="hljs-attr">marginBottom</span>: <span class="hljs-number">8</span>, 
    <span class="hljs-attr">marginRight</span>: gap <span class="hljs-comment">// ä½¿ç”¨è®¡ç®—å‡ºçš„é—´è·</span>
  },
  
  <span class="hljs-comment">// ... å…¶ä»–æ ·å¼ä¿æŒä¸å˜ ...</span>
});
</code></pre>
</li>
<li>
<p><strong>æ£€æŸ¥æ¸²æŸ“é€»è¾‘ä¸­çš„é—´è·å¤„ç†</strong>ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx">style={[
  styles.<span class="hljs-property">gridImage</span>,
  (idx + <span class="hljs-number">1</span>) % <span class="hljs-number">3</span> === <span class="hljs-number">0</span> &amp;&amp; { <span class="hljs-attr">marginRight</span>: <span class="hljs-number">0</span> }
]}
</code></pre>
</li>
</ol>
<p>è¿™æ ·ä¿®æ”¹åï¼Œæ¯å¼ å›¾ç‰‡éƒ½ä¼šæœ‰æ˜ç¡®çš„å®½åº¦å’Œé«˜åº¦ï¼Œå°±èƒ½æ­£å¸¸æ˜¾ç¤ºäº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‘†è„±é‡å¤åŠ³åŠ¨çš„å¼•åŠ›ï¼šæ·±å…¥è§£æ Elpis æ¡†æ¶çš„â€œé…ç½®é©±åŠ¨â€å“²å­¦]]></title>    <link>https://juejin.cn/post/7594350054090506282</link>    <guid>https://juejin.cn/post/7594350054090506282</guid>    <pubDate>2026-01-12T13:35:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594350054090506282" data-draft-id="7593595780221730822" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‘†è„±é‡å¤åŠ³åŠ¨çš„å¼•åŠ›ï¼šæ·±å…¥è§£æ Elpis æ¡†æ¶çš„â€œé…ç½®é©±åŠ¨â€å“²å­¦"/> <meta itemprop="keywords" content="å…¨æ ˆ"/> <meta itemprop="datePublished" content="2026-01-12T13:35:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£é›ªé£˜æ‘‡"/> <meta itemprop="url" content="https://juejin.cn/user/1381417899276664"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‘†è„±é‡å¤åŠ³åŠ¨çš„å¼•åŠ›ï¼šæ·±å…¥è§£æ Elpis æ¡†æ¶çš„â€œé…ç½®é©±åŠ¨â€å“²å­¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1381417899276664/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£é›ªé£˜æ‘‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T13:35:12.000Z" title="Mon Jan 12 2026 13:35:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<blockquote>
<p>æœ¬æ–‡ä¸ºé˜¶æ®µæ€§å­¦ä¹ ç¬”è®°ï¼Œä¸»è¦è®°å½•å­¦ä¹ è¿‡ç¨‹ä¸­çš„ä¸šåŠ¡æ¶æ„è®¾è®¡éƒ¨åˆ†â€”â€”æ·±å…¥è§£æ Elpis å¦‚ä½•é€šè¿‡Â DSLï¼ˆé…ç½®é©±åŠ¨ï¼‰Â ä¸Â Schema è®¾è®¡ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³ä¸­åå°å¼€å‘ä¸­é‡å¤ CRUD çš„ç—›ç‚¹ã€‚
å¼•ç”¨ï¼š æŠ–éŸ³â€œå“²ç„å‰ç«¯â€ã€Šå¤§å‰ç«¯å…¨æ ˆå®è·µã€‹</p>
</blockquote>
<h2 data-id="heading-1">1. å›°å¢ƒï¼šè¢« CRUD åå™¬çš„åˆ›é€ åŠ›</h2>
<p>åœ¨å½“ä»Šçš„å‰ç«¯å¼€å‘é¢†åŸŸï¼Œå°½ç®¡æŠ€æœ¯æ ˆæ—¥æ–°æœˆå¼‚ï¼Œä½†å¯¹äºä¸­åå°ç³»ç»Ÿè€Œè¨€ï¼Œç»å¤§å¤šæ•°å¼€å‘è€…çš„æ—¥å¸¸ä¾ç„¶è¢«å›°åœ¨é‡å¤çš„ CRUDï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰æ³¥æ½­ä¸­ã€‚æˆ‘ä»¬åœ¨åšä¸€ä¸ªé¡µé¢æ—¶ï¼Œå¾€å¾€é™·å…¥è¿™æ ·çš„å¾ªç¯ï¼šåç«¯å®šä¹‰æ•°æ®è¡¨ï¼Œå‰ç«¯ç¼–å†™æŸ¥è¯¢æ¥å£ï¼›å‰ç«¯å†™ä¸€ä¸ªæœç´¢æ ï¼Œå†å†™ä¸€ä¸ªè¡¨æ ¼ï¼Œæœ€åå†™å‡ ä¸ªå¼¹çª—ã€‚ä¸€æ—¦ä¸šåŠ¡å˜æ›´ï¼Œæ¯”å¦‚â€œå•†å“åç§°â€å­—æ®µéœ€è¦æ”¯æŒæ¨¡ç³Šæœç´¢ï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶ä¿®æ”¹åç«¯ SQLã€API æ¥å£ã€å‰ç«¯æœç´¢ç»„ä»¶ã€å‰ç«¯è¡¨æ ¼åˆ—å®šä¹‰â€¦â€¦è¿™ç§â€œæ•£å¼¹å¼â€çš„å¼€å‘æ¨¡å¼ï¼Œä¸ä»…è®©ä»£ç å……æ»¡äº†å¤§é‡é›·åŒçš„é€»è¾‘ï¼Œæ›´è®©ç³»ç»Ÿçš„ç»´æŠ¤æˆæœ¬éšç€åŠŸèƒ½å¢åŠ è€ŒæŒ‡æ•°çº§ä¸Šå‡ã€‚æˆ‘ä»¬ä¸ä»…åœ¨å†™é‡å¤çš„ä»£ç ï¼Œæ›´åœ¨ç”Ÿäº§â€œæŠ€æœ¯è´Ÿå€ºâ€ã€‚Elpis æ¡†æ¶çš„è¯ç”Ÿï¼Œæ­£æ˜¯ä¸ºäº†æ‰“ç ´è¿™ä¸€åƒµå±€ã€‚å®ƒä¸åªæ˜¯ä¸€ä¸ªå¼€å‘å·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§â€œ80% é…ç½®åŒ– + 20% å®šåˆ¶åŒ–â€çš„æ€ç»´èŒƒå¼è½¬å‹ï¼Œæ—¨åœ¨è®©å¼€å‘è€…ä»â€œä»£ç æ¬è¿å·¥â€å›å½’åˆ°â€œä¸šåŠ¡è®¾è®¡è€…â€çš„è§’è‰² â€”â€” ä¸ƒåˆ†æ„æƒ³ï¼Œä¸‰åˆ†å®ç°ã€‚</p>
<h2 data-id="heading-2">2. æ ¸å¿ƒè§£æ³•ï¼šAOP é¢†åŸŸæ¨¡å‹çš„é‡å¡‘</h2>
<p>ä¼ ç»Ÿå¼€å‘ä¸­ï¼Œä¸€ä¸ªä¸šåŠ¡å®ä½“ï¼ˆæ¯”å¦‚â€œå•†å“â€ï¼‰è¢«å‰²è£‚åœ¨æ•°æ®åº“ã€åç«¯ä»£ç ã€å‰ç«¯ UI ç­‰å¤šä¸ªè§’è½ã€‚ElpisÂ å¼•å…¥äº†Â AOPï¼ˆé¢å‘åˆ‡é¢ï¼‰Â çš„é¢†åŸŸæ¨¡å‹æ€æƒ³ï¼Œå°†ä¸šåŠ¡çš„æœ¬è´¨é‡æ–°èšåˆã€‚</p>
<h3 data-id="heading-3">å•ä¸€äº‹å®æ¥æº</h3>
<p>åœ¨ Elpis çš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬ä¸å†åˆ†åˆ«ç¼–å†™â€œæœç´¢è¡¨å•çš„ä»£ç â€å’Œâ€œè¡¨æ ¼å±•ç¤ºçš„ä»£ç â€ã€‚ç›¸åï¼Œæˆ‘ä»¬åªéœ€åœ¨ä¸€ä¸ªç»Ÿä¸€çš„é¢†åŸŸæ¨¡å‹é…ç½®æ–‡ä»¶ï¼ˆDSLï¼‰ä¸­å®šä¹‰â€œå•†å“â€è¿™ä¸ªå¯¹è±¡ã€‚åœ¨è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œé’ˆå¯¹æ¯ä¸€ä¸ªå­—æ®µï¼ˆä¾‹å¦‚â€œåˆ›å»ºæ—¶é—´â€ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŒä¸€ä¸ªåœ°æ–¹å®šä¹‰å®ƒçš„æ‰€æœ‰åˆ‡é¢å±æ€§ï¼š</p>
<ul>
<li>æ•°æ®å±æ€§ï¼šå®ƒæ˜¯ä¸€ä¸ªæ—¥æœŸç±»å‹ã€‚</li>
</ul>

<ul>
<li>å±•ç¤ºåˆ‡é¢ï¼šåœ¨è¡¨æ ¼ä¸­ï¼Œå®ƒéœ€è¦è¢«æ ¼å¼åŒ–å±•ç¤ºï¼Œåˆ—å®½å¤šå°‘ã€‚</li>
</ul>

<ul>
<li>äº¤äº’åˆ‡é¢ï¼šåœ¨æœç´¢æ ä¸­ï¼Œå®ƒåº”è¯¥è‡ªåŠ¨æ¸²æŸ“ä¸ºä¸€ä¸ªâ€œæ—¥æœŸèŒƒå›´é€‰æ‹©å™¨â€ã€‚</li>
</ul>

<ul>
<li>æŒä¹…åŒ–åˆ‡é¢ï¼š(æ‰©å±•èƒ½åŠ›) åœ¨æ•°æ®åº“ä¸­ï¼Œå®ƒå¯¹åº”ä»€ä¹ˆç±»å‹çš„åˆ—ã€‚</li>
</ul>
<p>è¿™ç§é«˜å†…èšçš„è®¾è®¡æ„å‘³ç€ï¼Œå½“ä½ éœ€è¦ä¿®æ”¹ä¸šåŠ¡é€»è¾‘æ—¶ï¼Œåªéœ€ä¿®æ”¹è¿™ä¸€å¤„é…ç½®ï¼Œç³»ç»Ÿä¸­çš„æœç´¢ã€åˆ—è¡¨ã€ç”šè‡³åç«¯æ ¡éªŒé€»è¾‘éƒ½ä¼šè‡ªåŠ¨åŒæ­¥æ›´æ–°ã€‚</p>
<h2 data-id="heading-4">3. å¼•æ“ä¹‹å¿ƒï¼šé¢å‘å¯¹è±¡å»ºç«™ä¸åŠ¨æ€æ¸²æŸ“</h2>
<p>æœ‰äº†é¢†åŸŸæ¨¡å‹è¿™ä¸ªâ€œè“å›¾â€ï¼Œè¿˜éœ€è¦ä¸€ä¸ªå¼ºå¤§çš„â€œæ–½å·¥é˜Ÿâ€å°†å…¶å˜ä¸ºç°å®ã€‚è¿™å°±æ˜¯ Elpis çš„åŠ¨æ€æ¸²æŸ“å¼•æ“ã€‚</p>
<h3 data-id="heading-5">æ™ºèƒ½è§£æä¸åˆ†å‘</h3>
<p>Elpis çš„å†…æ ¸åŒ…å«ä¸€å¥—æ™ºèƒ½è§£ææœºåˆ¶ã€‚å½“é¡µé¢åŠ è½½æ—¶ï¼Œå¼•æ“ä¼šè¯»å–ä¸Šè¿°çš„é¢†åŸŸæ¨¡å‹é…ç½®ï¼Œå¹¶åƒæ£±é•œä¸€æ ·å°†å…¶æ‹†è§£ï¼š</p>
<ul>
<li>å®ƒæå–å‡ºæ ‡è®°äº†â€œæœç´¢å±æ€§â€çš„å­—æ®µï¼Œè¾“é€ç»™æœç´¢æ æ¸²æŸ“å™¨ã€‚</li>
</ul>

<ul>
<li>å®ƒæå–å‡ºæ ‡è®°äº†â€œå±•ç¤ºå±æ€§â€çš„å­—æ®µï¼Œè¾“é€ç»™è¡¨æ ¼æ¸²æŸ“å™¨ã€‚</li>
</ul>
<p>è¿™ä¸€è¿‡ç¨‹å¯¹å¼€å‘è€…æ˜¯é€æ˜çš„ã€‚ä½ ä¸éœ€è¦å…³å¿ƒç»„ä»¶ä¹‹é—´å¦‚ä½•ä¼ é€’æ•°æ®ï¼Œå¼•æ“ä¼šè‡ªåŠ¨å¤„ç†å¥½ä¸Šä¸‹æ–‡çš„å…³è”ã€‚</p>
<h3 data-id="heading-6">ç»„ä»¶å³å¯¹è±¡</h3>
<p>åœ¨ Elpis ä¸­ï¼Œæˆ‘ä»¬ä¸å†æ‰‹åŠ¨ç¼–å†™å…·ä½“çš„æ ‡ç­¾ï¼Œä¾‹å¦‚Inputã€‚æ¡†æ¶é‡‡ç”¨ç»„ä»¶å·¥å‚æ¨¡å¼ï¼Œæ ¹æ®é…ç½®ä¸­çš„å­—æ®µç±»å‹ï¼Œè‡ªåŠ¨ç”Ÿäº§å¯¹åº”çš„ UI ç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œå½“ä½ åœ¨é…ç½®ä¸­æŒ‡å®šæŸä¸ªå­—æ®µéœ€è¦â€œä¸‹æ‹‰é€‰æ‹©â€ä¸”æ•°æ®æ¥æºæ˜¯æŸä¸ª API æ—¶ï¼ŒElpis ä¼šè‡ªåŠ¨åŠ è½½ä¸€ä¸ªåŠ¨æ€ä¸‹æ‹‰ç»„ä»¶ã€‚è¿™ä¸ªç»„ä»¶æ‹¥æœ‰ç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¼šè‡ªåŠ¨å‘èµ·ç½‘ç»œè¯·æ±‚è·å–é€‰é¡¹æ•°æ®ï¼Œè‡ªåŠ¨å¤„ç†å›æ˜¾å’Œé‡ç½®ã€‚è¿™å°±æ˜¯â€œé¢å‘å¯¹è±¡å»ºç«™â€çš„ç²¾é«“â€”â€”æ¯ä¸ªç»„ä»¶éƒ½æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„ã€å¯å¤ç”¨çš„å¯¹è±¡ï¼Œè€Œéæ­»æ¿çš„ HTML æ ‡ç­¾å †ç Œã€‚</p>
<h2 data-id="heading-7">4. çº¦å®šä¼˜äºé…ç½®ï¼šRESTful çš„è‡ªåŠ¨åŒ–å¥‘çº¦</h2>
<p>ä¸ºäº†è¿›ä¸€æ­¥å‡å°‘â€œèƒ¶æ°´ä»£ç â€ï¼ŒElpis å»ºç«‹äº†ä¸€å¥—åŸºäº RESTful è§„èŒƒçš„æ ‡å‡†äº¤äº’å¥‘çº¦ã€‚åœ¨ä¼ ç»Ÿçš„åå°å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å³ä½¿ä½¿ç”¨äº†ç»„ä»¶åº“ï¼Œä¾ç„¶éœ€è¦æ‰‹åŠ¨ç¼–å†™å‡½æ•°å»å¤„ç†â€œç‚¹å‡»æœç´¢æŒ‰é’®â€ã€â€œç‚¹å‡»åˆ é™¤æŒ‰é’®â€ç­‰äº‹ä»¶ï¼Œå¹¶æ‰‹åŠ¨è°ƒç”¨ APIã€‚è€Œåœ¨ Elpis ä¸­ï¼Œç”±äºéµå¾ªäº†æ ‡å‡†è§„èŒƒï¼Œå¼•æ“æ¥ç®¡äº†è¿™äº›é€šç”¨äº¤äº’ï¼š</p>
<ul>
<li>è‡ªåŠ¨æŸ¥è¯¢ï¼šåˆ—è¡¨ç»„ä»¶ä¼šè‡ªåŠ¨æ‹¼æ¥æŸ¥è¯¢å‚æ•°å’Œåˆ†é¡µä¿¡æ¯ï¼Œå‘çº¦å®šçš„Â /listÂ æ¥å£å‘èµ·è¯·æ±‚ã€‚</li>
</ul>

<ul>
<li>è‡ªåŠ¨äº¤äº’ï¼šå½“ä½ é…ç½®äº†â€œåˆ é™¤â€æŒ‰é’®ï¼Œå¼•æ“è‡ªåŠ¨ç†è§£è¿™æ„å‘³ç€è¦è°ƒç”¨Â DELETEÂ æ¥å£ï¼Œå¹¶è‡ªåŠ¨å¤„ç†äºŒæ¬¡ç¡®è®¤å¼¹çª—ã€åŠ è½½çŠ¶æ€æç¤ºä»¥åŠæ“ä½œæˆåŠŸåçš„åˆ—è¡¨åˆ·æ–°ã€‚</li>
</ul>
<p>å¼€å‘è€…åªéœ€è¦åœ¨é…ç½®ä¸­å£°æ˜â€œè¿™é‡Œéœ€è¦ä¸€ä¸ªåˆ é™¤æŒ‰é’®â€ï¼Œå‰©ä¸‹çš„äº¤äº’ç»†èŠ‚å…¨éƒ¨ç”±æ¡†æ¶å†…æ ¸è‡ªåŠ¨å®Œæˆã€‚</p>
<h2 data-id="heading-8">5. ç»“è¯­ï¼šä»â€œæ‰§è¡Œè€…â€åˆ°â€œè®¾è®¡è€…â€</h2>
<p>Elpis æ¡†æ¶å¹¶æ²¡æœ‰åˆ›é€ ä»€ä¹ˆæƒŠå¤©åŠ¨åœ°çš„æ–°æŠ€æœ¯ï¼Œè€Œæ˜¯å¯¹ç°æœ‰å·¥ç¨‹å®è·µè¿›è¡Œäº†ä¸€æ¬¡æ·±åº¦çš„æ ‡å‡†åŒ–å°è£…ã€‚é€šè¿‡Â DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰ï¼Œæˆ‘ä»¬å›ºåŒ–äº†åå°ç®¡ç†ç³»ç»Ÿä¸­æœ€å¸¸è§çš„äº¤äº’èŒƒå¼ï¼›é€šè¿‡Â AOP æ¨¡å‹ï¼Œæˆ‘ä»¬è§£å†³äº†ä¸šåŠ¡é€»è¾‘ç¢ç‰‡åŒ–çš„é—®é¢˜ã€‚å¯¹äºä½¿ç”¨ Elpis çš„å¼€å‘è€…è€Œè¨€ï¼Œè¿™æ„å‘³ç€ä½ ä¸å†éœ€è¦çº ç»“äºâ€œè¡¨æ ¼æ€ä¹ˆå¯¹é½â€ã€â€œæ¥å£å‚æ•°è¦ä¸è¦åˆ¤ç©ºâ€è¿™äº›çç¢çš„æŠ€æœ¯ç»†èŠ‚ã€‚ä½ è¢«èµ‹äºˆäº†æ›´å¤šçš„æ—¶é—´å»æ€è€ƒä¸šåŠ¡æœ¬èº«ï¼šè¿™ä¸ªå­—æ®µçœŸæ­£çš„ä¸šåŠ¡å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿå„ä¸ªæ•°æ®å®ä½“ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿè¿™æ‰æ˜¯ ElpisÂ æƒ³è¦è¾¾åˆ°çš„ç»ˆæç›®æ ‡ï¼šè®©æŠ€æœ¯éšäºæ— å½¢ï¼Œè®©ä¸šåŠ¡å›å½’æœ¬è´¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Hooks ä»‹ç»ä¸å®è·µè¦ç‚¹]]></title>    <link>https://juejin.cn/post/7594309641866575910</link>    <guid>https://juejin.cn/post/7594309641866575910</guid>    <pubDate>2026-01-12T13:59:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594309641866575910" data-draft-id="7594282984326447113" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Hooks ä»‹ç»ä¸å®è·µè¦ç‚¹"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-12T13:59:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="React_Native"/> <meta itemprop="url" content="https://juejin.cn/user/2496332659980452"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Hooks ä»‹ç»ä¸å®è·µè¦ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2496332659980452/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    React_Native
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T13:59:49.000Z" title="Mon Jan 12 2026 13:59:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React Hooks ä»‹ç»ä¸å®è·µè¦ç‚¹</h2>
<p>æœ¬æ–‡é¢å‘æ—¥å¸¸ä¸šåŠ¡å¼€å‘ï¼Œèšç„¦ <strong>æ ¸å¿ƒ Hooks</strong> ä¸ <strong>å…¸å‹åœºæ™¯ Hooks</strong>ï¼Œå¹¶è¡¥å……å¸¸è§çš„æ•°æ®è¯·æ±‚æ–¹æ¡ˆï¼ˆSWR / React Queryï¼‰ã€æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹ä¸ <code>useEffect</code> / <code>useLayoutEffect</code> çš„å…³ç³»ï¼Œæœ€åç®€è¦ä»‹ç» Redux ä¸ React Navigation å¸¸ç”¨ Hooksã€‚</p>
<hr/>
<h3 data-id="heading-1">æ ¸å¿ƒ Hooks</h3>
<h4 data-id="heading-2">useStateï¼šç»„ä»¶å†…çŠ¶æ€</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> [state, setState] = <span class="hljs-title function_">useState</span>(initialState);
</code></pre>
<ul>
<li><strong>æ›´æ–°åˆ¤å®š</strong>ï¼šReact ä½¿ç”¨ <code>Object.is</code> æ¯”è¾ƒæ–°æ—§ stateï¼Œåªæœ‰â€œä¸ç›¸ç­‰â€æ‰ä¼šè§¦å‘æ›´æ–°ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆâ€œè®¾ç½®ç›¸åŒå€¼â€é€šå¸¸ä¸ä¼š re-renderï¼‰ã€‚</li>
<li><strong><code>Object.is</code> çš„ä¸¤ä¸ªå…³é”®å·®å¼‚ç‚¹</strong>ï¼ˆç›¸å¯¹ <code>===</code>ï¼‰ï¼š
<ul>
<li><strong><code>NaN</code></strong>ï¼š<code>Object.is(NaN, NaN)</code> ä¸º <code>true</code>ï¼Œè€Œ <code>NaN === NaN</code> ä¸º <code>false</code></li>
<li><strong><code>+0</code> ä¸ <code>-0</code></strong>ï¼š<code>Object.is(+0, -0)</code> ä¸º <code>false</code>ï¼Œè€Œ <code>+0 === -0</code> ä¸º <code>true</code></li>
</ul>
</li>
</ul>
<p>å®è·µå»ºè®®ï¼š</p>
<ul>
<li><strong>çŠ¶æ€æ˜¯å¯¹è±¡/æ•°ç»„æ—¶</strong>ï¼ŒåŠ¡å¿…ç”¨â€œæ–°å¼•ç”¨â€æ›´æ–°ï¼ˆä¸å¯åŸåœ°ä¿®æ”¹ï¼‰ï¼Œå¦åˆ™ <code>Object.is</code> ä¼šè®¤ä¸ºæ²¡å˜ï¼ˆåŒä¸€å¼•ç”¨ï¼‰è€Œä¸è§¦å‘æ›´æ–°ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-3">useEffectï¼šæäº¤æ¸²æŸ“åå¼‚æ­¥æ‰§è¡Œå‰¯ä½œç”¨</h4>
<p><code>useEffect</code> ä¼šåœ¨ React <strong>å®Œæˆæ¸²æŸ“å¹¶æäº¤ DOM æ›´æ–°ä¹‹å</strong> å¼‚æ­¥æ‰§è¡Œï¼Œé€šå¸¸ä¸ä¼šé˜»å¡æµè§ˆå™¨ç»˜åˆ¶ï¼ˆpaintï¼‰ï¼Œé€‚åˆï¼š</p>
<ul>
<li><strong>æ•°æ®è¯·æ±‚</strong>ã€è®¢é˜…ã€æ—¥å¿—/åŸ‹ç‚¹ï¼ˆä¸ä¾èµ–å¸ƒå±€æµ‹é‡ï¼‰ã€ä¸éé˜»å¡å‹å‰¯ä½œç”¨</li>
</ul>
<p>ä¾èµ–æ•°ç»„è¦ç‚¹ï¼š</p>
<ul>
<li><strong>ä¾èµ–ç¼ºå¤±</strong>å¯èƒ½å¯¼è‡´ä½¿ç”¨åˆ°â€œæ—§é—­åŒ…å€¼â€ï¼ˆstale closureï¼‰</li>
<li><strong>ä¾èµ–è¿‡å¤š</strong>å®¹æ˜“å¼•å‘é‡å¤è¯·æ±‚æˆ–å¾ªç¯è§¦å‘ï¼Œéœ€è¦æ‹†åˆ† effect æˆ–æ”¹ç”¨æ›´é«˜å±‚çš„æ•°æ®æ–¹æ¡ˆï¼ˆSWR / React Queryï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-4">useRefï¼šå¼•ç”¨ä¸å‚ä¸æ¸²æŸ“çš„å¯å˜å€¼ / DOM å¼•ç”¨</h4>
<ul>
<li><strong>å…¸å‹ç”¨é€”</strong>ï¼š
<ul>
<li>ä¿å­˜ä¸ä¼šå¼•èµ· re-render çš„å€¼ï¼ˆå¦‚è®¡æ—¶å™¨ idã€ä¸Šä¸€æ¬¡å€¼ã€å¯å˜æ ‡è®°ï¼‰</li>
<li>è·å– DOM/åŸç”Ÿç»„ä»¶å®ä¾‹ï¼ˆéœ€è¦æ—¶è¿›è¡Œæµ‹é‡ã€èšç„¦ç­‰ï¼‰</li>
</ul>
</li>
<li><strong>å…³äºä¼ é€’ ref</strong>ï¼š
<ul>
<li>React 18ï¼šå­ç»„ä»¶è¦â€œé€ä¼  refâ€é€šå¸¸éœ€è¦ <code>forwardRef</code></li>
<li>React 19ï¼šref æ”¯æŒä½œä¸ºæ™®é€š prop ä¼ é€’ï¼ˆç”Ÿæ€åœ¨é€æ­¥é€‚é…ï¼‰ï¼Œä½†ä»éœ€å…³æ³¨ç»„ä»¶å®ç°æ˜¯å¦æ¥æ”¶å¹¶æ­£ç¡®æŒ‚è½½åˆ°ç›®æ ‡èŠ‚ç‚¹</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-5">useImperativeHandleï¼šå—æ§æš´éœ²å­ç»„ä»¶èƒ½åŠ›ï¼ˆé…åˆ refï¼‰</h4>
<p>å½“ä½ å¸Œæœ›çˆ¶ç»„ä»¶é€šè¿‡ ref è°ƒç”¨å­ç»„ä»¶èƒ½åŠ›ï¼ˆå¦‚ <code>focus()</code>ã€<code>scrollTo()</code>ï¼‰ï¼Œä½†åˆä¸æƒ³æŠŠå­ç»„ä»¶å†…éƒ¨å®ç°ï¼ˆçœŸå® DOM/å®ä¾‹ï¼‰å®Œå…¨æš´éœ²å‡ºå»æ—¶ï¼Œå¯ä»¥ç”¨ <code>useImperativeHandle</code> åšâ€œç™½åå•å¼æš´éœ²â€ï¼š</p>
<ul>
<li>å¯¹å¤–åªæš´éœ²å¿…è¦æ–¹æ³•/å±æ€§</li>
<li>å¯¹å†…ä»ä¿ç•™ç»„ä»¶å°è£…è¾¹ç•Œ</li>
</ul>
<p>é€šå¸¸ä¸ <code>forwardRef</code>ï¼ˆReact 18 å¸¸è§ç”¨æ³•ï¼‰æˆ– React 19 çš„ ref è¯­ä¹‰é…åˆã€‚</p>
<hr/>
<h4 data-id="heading-6">useReducerï¼šæ›´å¯æ§çš„çŠ¶æ€æ¼”è¿›ï¼ˆé€‚åˆå¤æ‚çŠ¶æ€ï¼‰</h4>
<p>å½“ state ç»“æ„å¤æ‚ã€æ›´æ–°é€»è¾‘åˆ†æ”¯å¤šã€æˆ–è€…éœ€è¦æ›´å¼ºå¯æµ‹è¯•æ€§æ—¶ï¼Œ<code>useReducer</code> å¾€å¾€æ¯”å¤šä¸ª <code>useState</code> æ›´æ¸…æ™°ï¼š</p>
<ul>
<li><strong>æŠŠæ›´æ–°é€»è¾‘é›†ä¸­åˆ° reducer</strong>ï¼Œé¿å…æ•£è½åœ¨å„ä¸ªäº‹ä»¶å¤„ç†é‡Œ</li>
<li><strong>æ›´åˆ©äºç»´æŠ¤ä¸å•æµ‹</strong>ï¼ˆè¾“å…¥ actionï¼Œè¾“å‡ºæ–° stateï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-7">useContextï¼šè·¨å±‚çº§å…±äº«çŠ¶æ€ä¸ä¾èµ–æ³¨å…¥</h4>
<p><code>useContext</code> ç”¨äºè®¢é˜… context å€¼ï¼Œé€‚åˆï¼š</p>
<ul>
<li>ä¸»é¢˜ã€è¯­è¨€ã€ç”¨æˆ·ä¿¡æ¯ã€æƒé™ã€é…ç½®ã€ä¾èµ–æ³¨å…¥ï¼ˆAPI å®¢æˆ·ç«¯ç­‰ï¼‰</li>
</ul>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li><strong>Context å€¼å˜åŒ–ä¼šè§¦å‘æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶æ›´æ–°</strong>ã€‚è‹¥ context å¯¹è±¡é¢‘ç¹å˜åŒ–ï¼Œå¯è€ƒè™‘ï¼š
<ul>
<li>æ‹†åˆ† contextï¼ˆæŒ‰å…³æ³¨ç‚¹æ‹†ï¼‰</li>
<li>æä¾›ç¨³å®šå¼•ç”¨ï¼ˆ<code>useMemo</code> åŒ…è£¹ valueï¼‰</li>
<li>å¼•å…¥ selector æ¨¡å¼æˆ–å¤–éƒ¨çŠ¶æ€åº“</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-8">æ•°æ®è¯·æ±‚ï¼šuseEffect vs SWR / React Query</h3>
<h4 data-id="heading-9">ç›´æ¥ç”¨ useEffect çš„å±€é™</h4>
<p>ç”¨ <code>useEffect</code> åšè¯·æ±‚é€šå¸¸æ„å‘³ç€ä½ éœ€è¦è‡ªè¡Œå¤„ç†ï¼š</p>
<ul>
<li><strong>loading / error / data</strong> çš„çŠ¶æ€æœº</li>
<li><strong>ç¼“å­˜</strong>ï¼ˆç»„ä»¶å¸è½½å†æŒ‚è½½é€šå¸¸ä¼šé‡æ–°è¯·æ±‚ï¼‰</li>
<li><strong>è‡ªåŠ¨åˆ·æ–° / é‡è¯• / å¤±ç„¦æ¢å¤</strong> ç­‰ç­–ç•¥</li>
<li><strong>å¤æ‚ä¾èµ–ç®¡ç†</strong>ï¼šä¾èµ–å¤šæ—¶å®¹æ˜“é—æ¼ä¾èµ–æ•°ç»„ã€æˆ–è§¦å‘å¾ªç¯è¯·æ±‚</li>
</ul>
<h4 data-id="heading-10">SWR / React Queryï¼ˆTanStack Queryï¼‰</h4>
<p>å®ƒä»¬æŠŠâ€œè¯·æ±‚â€å‡çº§ä¸ºâ€œå®¢æˆ·ç«¯æ•°æ®å±‚â€ï¼Œæä¾›ï¼š</p>
<ul>
<li><strong>ç¼“å­˜ä¸å»é‡</strong>ï¼šç›¸åŒ key çš„è¯·æ±‚èƒ½å…±äº«ç»“æœ</li>
<li><strong>è‡ªåŠ¨é‡è¯•ã€å¤±ç„¦æ¢å¤ã€åˆ·æ–°ç­–ç•¥</strong></li>
<li><strong>æ›´å¥½çš„å¹¶å‘ä¸ç«æ€æ§åˆ¶</strong>ï¼ˆé¿å…è¿‡æœŸè¯·æ±‚è¦†ç›–æ–°ç»“æœï¼‰</li>
</ul>
<p>React Query ç›¸å¯¹ SWR å¾€å¾€æ›´â€œå…¨èƒ½â€ï¼š</p>
<ul>
<li>æ›´æˆç†Ÿçš„ <strong>åˆ†é¡µ / æ— é™æ»šåŠ¨</strong> èƒ½åŠ›</li>
<li>æ›´å¤æ‚çš„ä¾èµ–è”åŠ¨ä¸æŸ¥è¯¢æ§åˆ¶ï¼ˆä¾‹å¦‚ <code>enabled</code>ã€query key ç»„åˆï¼‰</li>
</ul>
<h4 data-id="heading-11">ä¾èµ–æ•°æ®è”åŠ¨ï¼ˆDependent Queriesï¼‰ï¼šå…ˆæœ‰ A å†è¯·æ±‚ B</h4>
<p>å¾ˆå¤šä¸šåŠ¡è¯·æ±‚ä¸æ˜¯â€œå¹¶è¡Œç‹¬ç«‹â€çš„ï¼Œè€Œæ˜¯ <strong>åä¸€ä¸ªè¯·æ±‚ä¾èµ–å‰ä¸€ä¸ªè¯·æ±‚çš„ç»“æœ</strong>ï¼ˆä¾‹å¦‚ï¼šå…ˆæ‹¿ç”¨æˆ·ä¿¡æ¯ï¼Œå†ç”¨ userId æ‹‰è®¢å•ï¼‰ã€‚å¦‚æœç”¨ <code>useEffect</code> æ‰‹å†™ï¼Œå¸¸è§é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>ä¾èµ–åˆ¤æ–­æ•£è½åœ¨å¤šä¸ª effect é‡Œï¼Œå®¹æ˜“æ¼ä¾èµ–æˆ–å‡ºç°é‡å¤è¯·æ±‚</li>
<li>å‰åè¯·æ±‚çš„ loading/error çŠ¶æ€éš¾ä»¥ç»„åˆ</li>
<li>ç«æ€æ¡ä»¶ï¼ˆæ—§è¯·æ±‚è¿”å›è¦†ç›–æ–°è¯·æ±‚ï¼‰éœ€è¦é¢å¤–å¤„ç†</li>
</ul>
<p>React Query é€šå¸¸ç”¨ <strong>queryKey + enabled</strong> è¡¨è¾¾â€œä¾èµ–å‡†å¤‡å¥½æ‰å‘è¯·æ±‚â€ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: users } = <span class="hljs-title function_">useQuery</span>({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>],
  <span class="hljs-attr">queryFn</span>: fetchUsers,
});

<span class="hljs-keyword">const</span> userId = users?.[<span class="hljs-number">0</span>]?.<span class="hljs-property">id</span>;

<span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: orders } = <span class="hljs-title function_">useQuery</span>({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'orders'</span>, userId],
  <span class="hljs-attr">queryFn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fetchOrders</span>(userId!),
  <span class="hljs-attr">enabled</span>: !!userId, <span class="hljs-comment">// ä¾èµ–å°±ç»ªæ‰è§¦å‘</span>
});
</code></pre>
<p>è¦ç‚¹ï¼š</p>
<ul>
<li><strong>queryKey å¿…é¡»åŒ…å«ä¾èµ–å‚æ•°</strong>ï¼ˆå¦‚ <code>userId</code>ï¼‰ï¼Œå¦åˆ™ç¼“å­˜å‘½ä¸­ä¸æ›´æ–°ä¼šé”™ä¹±</li>
<li><strong>enabled è´Ÿè´£â€œä½•æ—¶å…è®¸è¯·æ±‚â€</strong>ï¼Œé¿å…ä¾èµ–æœªå°±ç»ªæ—¶è¯·æ±‚æŠ¥é”™æˆ–æ— æ„ä¹‰è¯·æ±‚</li>
</ul>
<h4 data-id="heading-12">åˆ†é¡µ vs æ— é™æ»šåŠ¨ï¼ˆä¸ºä»€ä¹ˆéœ€è¦ useInfiniteQueryï¼‰</h4>
<ul>
<li><strong>åˆ†é¡µ</strong>ï¼šæŒ‰é¡µç åˆ†å—æ‹‰å–ï¼ˆå¦‚ <code>page=1&amp;limit=20</code>ï¼‰ï¼Œé€‚åˆæ˜ç¡®ç¿»é¡µçš„åˆ—è¡¨</li>
<li><strong>æ— é™æ»šåŠ¨</strong>ï¼šæ»šåŠ¨åˆ°ä¸´ç•Œç‚¹åŠ è½½ä¸‹ä¸€é¡µï¼Œæ›´è´´è¿‘ä¿¡æ¯æµä½“éªŒ</li>
</ul>
<p>åœ¨æ‰‹å†™æ–¹æ¡ˆé‡Œï¼Œä½ è¦ç»´æŠ¤ pageã€åˆå¹¶åˆ—è¡¨ã€å¤„ç† loading/errorã€åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€é¡µï¼›è€Œ React Query çš„ <code>useInfiniteQuery</code> ä¼šæŠŠè¿™äº›å¸¸ç”¨æ¨¡å¼å°è£…å¥½ï¼ˆé¡µç¼“å­˜ã€<code>hasNextPage</code>ã€åˆå¹¶ç­‰ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-13">æ€§èƒ½ä¸ä½“éªŒä¼˜åŒ– Hooks</h3>
<h4 data-id="heading-14">useMemoï¼šç¼“å­˜â€œè®¡ç®—ç»“æœâ€</h4>
<p>é€‚ç”¨äº <strong>æ˜‚è´µè®¡ç®—</strong> æˆ–éœ€è¦ <strong>ç¨³å®šå¼•ç”¨</strong> çš„æ´¾ç”Ÿå€¼ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“éƒ½é‡å¤è®¡ç®—ã€æˆ–å¯¼è‡´å­ç»„ä»¶è¯¯è§¦å‘æ›´æ–°ã€‚</p>
<p>è¦ç‚¹ï¼š</p>
<ul>
<li><code>useMemo</code> ä¸æ˜¯â€œå…è´¹â€çš„ï¼›ä¾èµ–å¾ˆå°‘å˜åŒ–ã€è®¡ç®—å¾ˆé‡æ—¶æ”¶ç›Šæ›´å¤§</li>
<li>ä¸è¦æŠŠå®ƒå½“â€œåˆ°å¤„éƒ½è¦åŠ â€çš„é»˜è®¤ä¼˜åŒ–</li>
</ul>
<hr/>
<h4 data-id="heading-15">useCallbackï¼šç¼“å­˜â€œå‡½æ•°å¼•ç”¨â€</h4>
<p>ç”¨äºå°†äº‹ä»¶å¤„ç†å‡½æ•°/å›è°ƒç¨³å®šåŒ–ï¼Œå°¤å…¶æ˜¯ï¼š</p>
<ul>
<li>ä½œä¸º props ä¼ ç»™ <code>memo</code> å­ç»„ä»¶</li>
<li>ä½œä¸ºä¾èµ–ä¼ ç»™å…¶å®ƒ hooksï¼ˆå¦‚ <code>useEffect</code>ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-16">useTransitionï¼šæ ‡è®°ä½ä¼˜å…ˆçº§æ›´æ–°ï¼ˆå¯è¢«æ‰“æ–­ï¼‰</h4>
<p>ç”¨äºæŠŠéç´§æ€¥çš„æ›´æ–°æ”¾å…¥ transitionï¼Œè®©è¾“å…¥ã€ç‚¹å‡»ç­‰é«˜ä¼˜å…ˆçº§äº¤äº’æ›´æµç•…ï¼š</p>
<ul>
<li>å…¸å‹åœºæ™¯ï¼šè¾“å…¥æ¡†è¿‡æ»¤å¤§åˆ—è¡¨ã€åˆ‡æ¢å¤æ‚è§†å›¾ç­‰</li>
<li><code>isPending</code> å¯ç”¨äºå±•ç¤ºåŠ è½½æ€/éª¨æ¶å±ç­‰</li>
</ul>
<hr/>
<h4 data-id="heading-17">useDeferredValueï¼šä¸ºæŸä¸ªå€¼æä¾›â€œå»¶è¿Ÿç‰ˆæœ¬â€</h4>
<p>é€‚åˆ <strong>ç”± props/state å˜åŒ–å¼•èµ·çš„æ…¢æ¸²æŸ“</strong>ï¼Œä½†æ›´æ–°å‘èµ·ç‚¹ä¸åœ¨å½“å‰ç»„ä»¶ã€æˆ–ä¸æ–¹ä¾¿ç”¨ <code>startTransition</code> åŒ…è£¹çš„æƒ…å†µï¼Œä¸€èˆ¬ç”¨äºçˆ¶ç»„ä»¶ä¼ é€’propså€¼å˜åŒ–å¼•èµ·å­ç»„ä»¶é‡æ¸²æŸ“çš„æƒ…å†µã€‚</p>
<p>å¯¹æ¯”ï¼š</p>
<ul>
<li><strong><code>useTransition</code></strong>ï¼šå…³æ³¨â€œè¿™æ¬¡æ›´æ–°æ“ä½œâ€åº”ä½ä¼˜å…ˆçº§ã€å¯ä¸­æ–­</li>
<li><strong><code>useDeferredValue</code></strong>ï¼šå…³æ³¨â€œä½¿ç”¨è¿™ä¸ªå€¼çš„æ¸²æŸ“â€å¯ä»¥æ™šä¸€ç‚¹å‘ç”Ÿ</li>
</ul>
<hr/>
<h4 data-id="heading-18">useSyncExternalStoreï¼šè®¢é˜…å¤–éƒ¨ Storeï¼ˆå¹¶å‘æ¸²æŸ“ä¸€è‡´æ€§ + å¯æ§æ€§èƒ½ï¼‰</h4>
<p><code>useSyncExternalStore</code> é¢å‘â€œå¤–éƒ¨çŠ¶æ€æºâ€ï¼ˆReduxã€Zustandã€è‡ªå»º storeã€EventEmitter ç­‰ï¼‰ã€‚å®ƒçš„æ ¸å¿ƒä»·å€¼ä¸æ˜¯è¯­æ³•ç³–ï¼Œè€Œæ˜¯è®© React åœ¨ <strong>å¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰</strong> ä¸‹è¯»å–å¤–éƒ¨çŠ¶æ€æ—¶ä¿æŒä¸€è‡´æ€§ï¼ˆé¿å… tearingï¼‰ï¼Œå¹¶æŠŠè®¢é˜…/å¿«ç…§çš„æ—¶æœºä¸ React æ¸²æŸ“æµç¨‹å¯¹é½ã€‚</p>
<h5 data-id="heading-19">ä¸ºä»€ä¹ˆä¸ç”¨ <code>useEffect + subscribe + setState</code>ï¼Ÿ</h5>
<p><code>useEffect</code> çš„è®¢é˜…å‘ç”Ÿåœ¨ commit ä¹‹åï¼šç»„ä»¶é¦–å± render/commit æ—¶å¯èƒ½è¿˜æ²¡è®¢é˜…æˆåŠŸï¼›å¦‚æœå¤–éƒ¨ store åœ¨è¿™æ®µçª—å£å†…å˜åŒ–ï¼Œç»„ä»¶ä¼šçŸ­æš‚å±•ç¤ºæ—§å€¼ï¼Œç”šè‡³åœ¨å¹¶å‘æ¸²æŸ“ä¸‹å‡ºç°â€œåŒä¸€å¸§å†…ä¸åŒç»„ä»¶è¯»åˆ°ä¸åŒç‰ˆæœ¬â€çš„æ’•è£‚ï¼ˆtearingï¼‰ã€‚</p>
<p><code>useSyncExternalStore</code> çš„æ¨¡å‹æ˜¯ï¼š</p>
<ul>
<li><strong>render é˜¶æ®µè¯»å– snapshot</strong>ï¼šé€šè¿‡ <code>getSnapshot()</code> è·å–å½“å‰ store çš„ä¸€è‡´æ€§å¿«ç…§</li>
<li><strong>React è´Ÿè´£è®¢é˜…æ—¶æœº</strong>ï¼šé€šè¿‡ <code>subscribe()</code> åœ¨åˆé€‚æ—¶æœºå»ºç«‹è®¢é˜…ï¼Œå¹¶åœ¨ store å˜æ›´æ—¶è§¦å‘é‡æ–°è¯»å– snapshot</li>
<li><strong>ä»¥ snapshot ä½œä¸ºçœŸç›¸æ¥æº</strong>ï¼šç»„ä»¶æ¸²æŸ“åªä¾èµ– snapshotï¼Œè€Œä¸æ˜¯â€œeffect é‡Œæ‰‹åŠ¨ setStateâ€</li>
</ul>
<h5 data-id="heading-20">API å½¢çŠ¶ä¸å…³é”®çº¦æŸ</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">useSyncExternalStore</span>(subscribe, getSnapshot, getServerSnapshot?);
</code></pre>
<ul>
<li><strong>subscribe</strong>ï¼š<code>(onStoreChange) =&gt; unsubscribe</code>ï¼Œstore å˜åŒ–æ—¶è°ƒç”¨ <code>onStoreChange</code></li>
<li><strong>getSnapshot</strong>ï¼šè¿”å›å½“å‰å¿«ç…§å€¼ï¼›<strong>å¿…é¡»åœ¨â€œæœªå˜åŒ–â€æ—¶è¿”å›åŒä¸€ä¸ªå¼•ç”¨</strong>ï¼ˆæˆ–è‡³å°‘è®© <code>Object.is</code> åˆ¤å®šç›¸ç­‰ï¼‰ï¼Œå¦åˆ™ä¼šé€ æˆæ— æ„ä¹‰é‡æ¸²æŸ“</li>
<li><strong>getServerSnapshot</strong>ï¼ˆSSR å¯é€‰ï¼‰ï¼šæœåŠ¡ç«¯æ¸²æŸ“æ—¶ä½¿ç”¨çš„å¿«ç…§è¯»å–æ–¹å¼ï¼Œä¿è¯ hydration ä¸€è‡´</li>
</ul>
<h5 data-id="heading-21">ä¸ Redux / Zustand çš„å…³ç³»ï¼ˆä½ å¯èƒ½â€œé—´æ¥â€åœ¨ç”¨ï¼‰</h5>
<ul>
<li><strong>React-Redux v8</strong> å†…éƒ¨ç”¨ <code>useSyncExternalStore</code> å®ç°è®¢é˜…ä¸€è‡´æ€§ï¼Œæ‰€ä»¥ <code>useSelector</code> åœ¨å¹¶å‘æ¸²æŸ“ä¸‹æ›´å®‰å…¨ã€‚</li>
<li>Zustand ç­‰åº“ä¹Ÿä¼šç”¨åŒç±»æœºåˆ¶ï¼ˆæˆ–æä¾› selector ç‰ˆæœ¬ï¼‰æ¥é¿å…â€œè¯»åˆ°ä¸ä¸€è‡´çŠ¶æ€â€ã€‚</li>
</ul>
<p>å®è·µå»ºè®®ï¼š</p>
<ul>
<li><strong>èƒ½ç”¨æˆç†Ÿåº“å°±åˆ«æ‰‹å†™</strong>ï¼šå¤–éƒ¨ store çš„è¾¹ç•Œæ¡ä»¶å¾ˆå¤šï¼ˆå¹¶å‘ä¸€è‡´æ€§ã€é€‰æ‹©å™¨ã€æ€§èƒ½ã€è®¢é˜…é£æš´ï¼‰ã€‚</li>
<li><strong>éœ€è¦ selector æ—¶</strong>ï¼šä¼˜å…ˆä½¿ç”¨åº“è‡ªå¸¦ selectorï¼Œæˆ–ä½¿ç”¨å®˜æ–¹ shim çš„ selector ç‰ˆæœ¬æ€è·¯ï¼ˆé¿å…æ¯æ¬¡ snapshot éƒ½å¯¼è‡´å¤§å¯¹è±¡å˜åŒ–ï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-22">useOptimisticï¼ˆReact 19+ï¼‰ï¼šä¹è§‚æ›´æ–°</h4>
<p>åœ¨å¼‚æ­¥æ“ä½œçœŸæ­£å®Œæˆå‰ï¼Œå…ˆåœ¨ UI ä¸Šå±•ç¤ºâ€œå‡å®šæˆåŠŸâ€çš„çŠ¶æ€ï¼›å½“æ“ä½œå¤±è´¥æ—¶ï¼ŒReact ä¼šä¸¢å¼ƒå¯¹åº” transition çš„æ›´æ–°ï¼Œä½¿å›æ»šæ›´ç®€å•ï¼Œè¿™ä¸ªå¤©ç„¶éœ€è¦é…åˆuseTransitionä½¿ç”¨ï¼Œå› ä¸ºuseTransitionå½“è·å–æ•°æ®å¤±è´¥ä¹‹åå¯ä»¥è‡ªåŠ¨å›æ»šï¼Œå–æ¶ˆæ¸²æŸ“ï¼Œä¸éœ€è¦æ‰‹åŠ¨callbackæ›´æ–°æ—§å€¼ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>æˆåŠŸç‡é«˜ã€å›æ»šä»£ä»·å°ï¼ˆä¾‹å¦‚ç‚¹èµã€æ”¶è—ã€è½»é‡æ–°å¢ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-23">æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹ä¸ useLayoutEffect / useEffect</h3>
<p>ç†è§£ä¸€ä¸ªå…³é”®æ—¶åºæœ‰åŠ©äºæ­£ç¡®é€‰æ‹©å‰¯ä½œç”¨ hooksï¼š</p>
<ul>
<li><strong>render</strong>ï¼šè®¡ç®— Virtual DOMï¼ˆFiberï¼‰</li>
<li><strong>commit</strong>ï¼šæŠŠå˜æ›´åº”ç”¨åˆ°çœŸå® DOM</li>
<li><strong>paint</strong>ï¼šæµè§ˆå™¨æŠŠåƒç´ ç»˜åˆ¶åˆ°å±å¹•</li>
</ul>
<h4 data-id="heading-24">useLayoutEffectï¼šåœ¨ paint ä¹‹å‰æ‰§è¡Œï¼ˆä¼šé˜»å¡ç»˜åˆ¶ï¼‰</h4>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>DOM å·²æ›´æ–°ä½†å±å¹•å°šæœªç»˜åˆ¶</li>
<li>é€‚åˆï¼šå¿…é¡»è¯»å–å¸ƒå±€ï¼ˆæµ‹é‡å°ºå¯¸/ä½ç½®ï¼‰å¹¶ç«‹åˆ»åŒæ­¥å†™å›ï¼Œé¿å…é—ªåŠ¨ï¼ˆlayout shiftï¼‰</li>
<li>é£é™©ï¼šé€»è¾‘é‡ä¼šé˜»å¡ paintï¼Œé€ æˆå¡é¡¿</li>
</ul>
<h4 data-id="heading-25">useEffectï¼šåœ¨ paint ä¹‹åæ‰§è¡Œï¼ˆé€šå¸¸ä¸é˜»å¡é¦–å±ï¼‰</h4>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ›´é€‚åˆéå¸ƒå±€ç›¸å…³å‰¯ä½œç”¨ï¼ˆè¯·æ±‚ã€è®¢é˜…ã€æ—¥å¿—ã€éå…³é”® DOM æ“ä½œï¼‰</li>
</ul>
<h4 data-id="heading-26">ä¸ºä»€ä¹ˆåŠ¨ç”»å¸¸æ¨è transform / opacity</h4>
<p>æµè§ˆå™¨æ¸²æŸ“å¤§è‡´åŒ…å«ï¼š</p>
<ul>
<li>è§£æ HTML æ„å»º DOM Tree</li>
<li>è§£æ CSS æ„å»º CSSOM</li>
<li>åˆå¹¶ç”Ÿæˆ Render Tree</li>
<li>layoutï¼ˆå›æµï¼šè®¡ç®—å‡ ä½•ä¿¡æ¯ï¼‰</li>
<li>paintï¼ˆç»˜åˆ¶ï¼‰</li>
<li>compositeï¼ˆåˆæˆå±‚ï¼Œé€šå¸¸æ›´å¿«ï¼‰</li>
</ul>
<p><code>transform</code> / <code>opacity</code> / <code>will-change</code> æ›´å®¹æ˜“èµ°åˆæˆè·¯å¾„ï¼Œå‡å°‘ layout/paint å‹åŠ›ï¼ŒåŠ¨ç”»æ›´é¡ºæ»‘ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆæç¤ºæµè§ˆå™¨æå‰ä¼˜åŒ–æŸäº›å±æ€§çš„å˜åŒ–ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">will-change</span>: transform;
}

<span class="hljs-selector-class">.box</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">100px</span>);
  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span>;
}
</code></pre>
<hr/>
<h4 data-id="heading-27">
</h4><p>æµè§ˆå™¨è§£æ HTML æ—¶é‡åˆ°è„šæœ¬ï¼Œä¼šå½±å“â€œè§£æã€ä¸‹è½½ã€æ‰§è¡Œâ€çš„æ—¶æœºï¼š</p>
<ul>
<li><strong>æ™®é€šè„šæœ¬</strong>ï¼š<code>&lt;script src="app.js"&gt;&lt;/script&gt;</code>
<ul>
<li>è§£æ HTML ä¼šè¢«æš‚åœï¼Œç­‰å¾…ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬åå†ç»§ç»­è§£æ</li>
</ul>
</li>
<li><strong>defer</strong>ï¼š<code>&lt;script src="app.js" defer&gt;&lt;/script&gt;</code>
<ul>
<li>è§£æ HTML ä¸ä¸‹è½½è„šæœ¬å¹¶è¡Œ</li>
<li>ç­‰ DOM æ„å»ºå®ŒæˆåæŒ‰é¡ºåºæ‰§è¡Œï¼ˆæ›´é€‚åˆä¾èµ– DOM çš„ä¸šåŠ¡è„šæœ¬ï¼‰</li>
</ul>
</li>
<li><strong>async</strong>ï¼š<code>&lt;script src="analytics.js" async&gt;&lt;/script&gt;</code>
<ul>
<li>è§£æ HTML ä¸ä¸‹è½½è„šæœ¬å¹¶è¡Œ</li>
<li>è„šæœ¬ä¸‹è½½å®Œæˆç«‹åˆ»æ‰§è¡Œï¼ˆæ‰§è¡Œæ—¶ä¼šä¸­æ–­ HTML è§£æï¼‰ï¼Œæ‰§è¡Œé¡ºåºä¸å¯æ§</li>
<li>é€‚åˆä¸ä¾èµ– DOM/ä¸ä¾èµ–å…¶å®ƒè„šæœ¬çš„åœºæ™¯ï¼ˆå¦‚åŸ‹ç‚¹ï¼‰</li>
</ul>
</li>
<li><strong>module</strong>ï¼š<code>&lt;script type="module" src="main.js"&gt;&lt;/script&gt;</code>
<ul>
<li>ç±»ä¼¼ defer çš„åŠ è½½æ—¶æœºï¼Œä½† <strong>æ”¯æŒ ESM ä¾èµ–è§£æï¼ˆimport/exportï¼‰</strong></li>
<li>ä¼šæ ¹æ®ä¾èµ–å›¾å†³å®šæ‰§è¡Œé¡ºåºï¼ˆä¸æ˜¯ç®€å•æŒ‰æ ‡ç­¾å‡ºç°é¡ºåºï¼‰</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-28">ç‰¹æ®Šåœºæ™¯ Hooksï¼ˆ1â€“2 å¥è¯æ¦‚æ‹¬ï¼‰</h3>
<h4 data-id="heading-29">useIdï¼šç”Ÿæˆç¨³å®šä¸”é¿å…å†²çªçš„ id</h4>
<p>ç”¨äºè¡¨å•æ§ä»¶ <code>label</code>/<code>input</code> å…³è”ç­‰ï¼›SSR åœºæ™¯ä¸‹å¯ä»¥ä¿è¯æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ç”Ÿæˆä¸€è‡´ã€‚</p>
<h4 data-id="heading-30">useInsertionEffectï¼šæ›´æ—©æ’å…¥æ ·å¼ï¼ˆCSS-in-JS åœºæ™¯ï¼‰</h4>
<p>åœ¨ DOM æ’å…¥å‰è¿è¡Œï¼Œå¸¸ç”¨äºè¿è¡Œæ—¶æ³¨å…¥æ ·å¼ï¼Œæ—¶æœºæ—©äº <code>useLayoutEffect</code>ï¼›ä¸€èˆ¬ä¸šåŠ¡ç»„ä»¶å¾ˆå°‘ç›´æ¥ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-31">useDebugValueï¼šä¸ºè‡ªå®šä¹‰ Hook æä¾› DevTools å±•ç¤ºä¿¡æ¯</h4>
<p>åªå½±å“å¼€å‘è€…å·¥å…·æ˜¾ç¤ºï¼Œä¸å½±å“æ¸²æŸ“é€»è¾‘ï¼Œé€‚åˆæå‡è‡ªå®šä¹‰ hooks çš„å¯è°ƒè¯•æ€§ã€‚</p>
<h4 data-id="heading-32">useActionStateï¼ˆReact 19+ï¼‰ï¼šé¢å‘ action çš„çŠ¶æ€ç®¡ç†</h4>
<p>æ›´é€‚åˆä¸ action/è¡¨å•æäº¤ä¸€ç±»äº¤äº’é…åˆï¼Œå¸®åŠ©åœ¨äº‹ä»¶/åŠ¨ä½œé©±åŠ¨ä¸‹è·å¾—æ›´ä¸€è‡´çš„çŠ¶æ€æµï¼ˆå¸¸è§äºæ–°å½¢æ€è¡¨å•ä¸å¼‚æ­¥æäº¤æµç¨‹ï¼‰ã€‚</p>
<h4 data-id="heading-33">useEffectEventï¼ˆReact æ–°å¢èƒ½åŠ›ï¼‰ï¼šé¿å…é—­åŒ…é™ˆæ—§å€¼çš„äº‹ä»¶å›è°ƒ</h4>
<p>ç”¨äºåˆ›å»ºâ€œä¸ä¼šå› ä¸ºæ¸²æŸ“è€Œé‡å»ºã€ä½†èƒ½è¯»å–æœ€æ–° stateâ€çš„äº‹ä»¶å›è°ƒï¼Œå‡å°‘æŠŠäº‹ä»¶å¤„ç†å‡½æ•°å¡è¿›ä¾èµ–æ•°ç»„å¼•å‘çš„å¤æ‚æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-34">Redux å¸¸ç”¨ Hooksï¼ˆReact-Reduxï¼‰</h3>
<h4 data-id="heading-35">useSelectorï¼šä» store è¯»å–å¹¶è®¢é˜…ç‰‡æ®µçŠ¶æ€</h4>
<p>ç”¨äºé€‰æ‹©éœ€è¦çš„ state ç‰‡æ®µï¼›å»ºè®®æ­é… selector ä¸ memo åŒ–ç­–ç•¥ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-36">useDispatchï¼šæ´¾å‘ action</h4>
<p>è·å– <code>dispatch</code> ç”¨äºè§¦å‘æ›´æ–°ï¼›åœ¨å¤§å‹åº”ç”¨ä¸­å¸¸é…åˆ thunk/saga æˆ– RTK Query ç®¡ç†å¼‚æ­¥ä¸æ•°æ®è¯·æ±‚ã€‚</p>
<h4 data-id="heading-37">useStoreï¼šè·å– store å®ä¾‹ï¼ˆå°‘ç”¨ï¼‰</h4>
<p>ä¸€èˆ¬ä¸šåŠ¡å¾ˆå°‘éœ€è¦ç›´æ¥æ“ä½œ store å®ä¾‹ï¼›æ›´å¤šç”¨äºæ¡†æ¶å±‚é›†æˆæˆ–æå°‘æ•°é«˜çº§åœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-38">React Navigation å¸¸ç”¨ Hooksï¼ˆç§»åŠ¨ç«¯å¯¼èˆªï¼‰</h3>
<blockquote>
<p>ä¸åŒç‰ˆæœ¬ API ç•¥æœ‰å·®å¼‚ï¼Œä»¥ä¸‹ä¸ºæœ€å¸¸è§çš„æ¦‚å¿µæ€§ç”¨æ³•ã€‚</p>
</blockquote>
<h4 data-id="heading-39">useNavigationï¼šè·å– navigation å¯¹è±¡</h4>
<p>ç”¨äºè·³è½¬ã€è¿”å›ã€è®¾ç½®æ ‡é¢˜ç­‰ï¼ˆå¦‚ <code>navigate/goBack/setOptions</code>ï¼‰ï¼Œæ˜¯å‡½æ•°ç»„ä»¶é‡Œæœ€å¸¸è§çš„å¯¼èˆªå…¥å£ã€‚</p>
<h4 data-id="heading-40">useRouteï¼šè·å–å½“å‰è·¯ç”±ä¿¡æ¯</h4>
<p>ç”¨äºè¯»å–è·¯ç”±å‚æ•°ä¸å½“å‰é¡µé¢çš„ route å…ƒæ•°æ®ï¼ˆå¦‚ <code>params</code>ï¼‰ã€‚</p>
<h4 data-id="heading-41">useFocusEffectï¼šé¡µé¢èšç„¦æ—¶æ‰§è¡Œå‰¯ä½œç”¨</h4>
<p>ç”¨äºâ€œè¿›å…¥é¡µé¢/è¿”å›é¡µé¢æ—¶åˆ·æ–°æ•°æ®æˆ–æ³¨å†Œç›‘å¬â€çš„åœºæ™¯ï¼Œè¯­ä¹‰ä¸Šæ¯” <code>useEffect</code> æ›´è´´åˆå¯¼èˆªç”Ÿå‘½å‘¨æœŸã€‚</p>
<h4 data-id="heading-42">useIsFocusedï¼šåˆ¤æ–­é¡µé¢æ˜¯å¦èšç„¦</h4>
<p>é€‚åˆæ§åˆ¶â€œä»…åœ¨å½“å‰é¡µé¢å¯è§æ—¶è¿è¡Œâ€çš„é€»è¾‘ï¼Œä¾‹å¦‚æš‚åœè½®è¯¢ã€æš‚åœåŠ¨ç”»/è§†é¢‘ç­‰ã€‚</p>
<hr/>
<h3 data-id="heading-43">å¸¸è§è¯¯åŒºä¸æœ€ä½³å®è·µé€Ÿè®°</h3>
<ul>
<li><strong>ä¾èµ–æ•°ç»„ä¸æ˜¯å¯é€‰é¡¹</strong>ï¼šç¼ºä¾èµ–å¾€å¾€ä¸æ˜¯â€œä¼˜åŒ–â€ï¼Œè€Œæ˜¯æ½œåœ¨ bugï¼ˆé™ˆæ—§å€¼ã€é”™è¿‡æ›´æ–°ï¼‰ã€‚</li>
<li><strong>ä¸è¦è¿‡åº¦ memo</strong>ï¼š<code>useMemo/useCallback</code> é€‚ç”¨äºç“¶é¢ˆç‚¹ï¼›åˆ°å¤„åŒ…è£¹ä¼šå¢åŠ å¿ƒæ™ºè´Ÿæ‹…ä¸ç»´æŠ¤æˆæœ¬ã€‚</li>
<li><strong>å‰¯ä½œç”¨åˆ†å±‚</strong>ï¼šæ•°æ®è¯·æ±‚ä¸ç¼“å­˜ä¼˜å…ˆäº¤ç»™ä¸“ç”¨åº“ï¼ˆSWR/React Queryï¼‰ï¼Œç»„ä»¶åªè´Ÿè´£å±•ç¤ºä¸äº¤äº’ã€‚</li>
<li><strong>é€‰å¯¹ effect æ—¶æœº</strong>ï¼šå¸ƒå±€æµ‹é‡/é¿å…é—ªåŠ¨ç”¨ <code>useLayoutEffect</code>ï¼Œå…¶ä»–å°½é‡ç”¨ <code>useEffect</code>ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TypeScript å…¨é¢è¯¦è§£ï¼šå¯¹è±¡ç±»å‹çš„è¯­æ³•è§„åˆ™ä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7594276252460417034</link>    <guid>https://juejin.cn/post/7594276252460417034</guid>    <pubDate>2026-01-12T14:26:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594276252460417034" data-draft-id="7594309641866641446" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TypeScript å…¨é¢è¯¦è§£ï¼šå¯¹è±¡ç±»å‹çš„è¯­æ³•è§„åˆ™ä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="TypeScript"/> <meta itemprop="datePublished" content="2026-01-12T14:26:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦‚æœä½ å¥½"/> <meta itemprop="url" content="https://juejin.cn/user/2272012281328215"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TypeScript å…¨é¢è¯¦è§£ï¼šå¯¹è±¡ç±»å‹çš„è¯­æ³•è§„åˆ™ä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2272012281328215/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦‚æœä½ å¥½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T14:26:04.000Z" title="Mon Jan 12 2026 14:26:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TypeScript å…¨é¢è¯¦è§£ï¼šå¯¹è±¡ç±»å‹çš„è¯­æ³•è§„åˆ™ä¸å®æˆ˜æŒ‡å—</h2>
<blockquote>
<p>ğŸ”¥å…¨é¢è§£æ TypeScript å¯¹è±¡ç±»å‹çš„è¯­æ³•ç»†èŠ‚å’Œä½¿ç”¨è§„èŒƒã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€å¯¹è±¡ç±»å‹çš„åŸºç¡€å£°æ˜</h3>
<h4 data-id="heading-2">1. ç›´æ¥å­—é¢é‡å£°æ˜</h4>
<p>å¯¹è±¡ç±»å‹æœ€ç®€å•çš„å£°æ˜æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨<strong>å¤§æ‹¬å· <code>{}</code></strong> åŒ…è£¹ï¼Œå†…éƒ¨é€ä¸€å£°æ˜æ¯ä¸ªå±æ€§çš„åç§°å’Œå¯¹åº”ç±»å‹ï¼Œè¿™æ˜¯æœ€ç›´è§‚çš„å¯¹è±¡ç±»å‹å®šä¹‰æ–¹å¼ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å˜é‡åç›´æ¥å£°æ˜å¯¹è±¡ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
} = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> };
</code></pre>
<p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œå˜é‡ <code>obj</code> çš„ç±»å‹ç›´æ¥å†™åœ¨å˜é‡ååï¼Œå¤§æ‹¬å·å†…æ˜ç¡®çº¦æŸäº† <code>x</code> å’Œ <code>y</code> ä¸¤ä¸ªå±æ€§å‡ä¸º <code>number</code> ç±»å‹ï¼Œèµ‹å€¼æ—¶å¿…é¡»ä¸¥æ ¼åŒ¹é…è¯¥ç±»å‹ç»“æ„ã€‚</p>
<h4 data-id="heading-3">2. å±æ€§åˆ†éš”ç¬¦è§„åˆ™</h4>
<p>å¯¹è±¡ç±»å‹å†…éƒ¨çš„å±æ€§ä¹‹é—´ï¼Œæ”¯æŒ<strong>åˆ†å· <code>;</code></strong> æˆ–<strong>é€—å· <code>,</code></strong> ä½œä¸ºåˆ†éš”ç¬¦ï¼Œä¸¤ç§å†™æ³•æ•ˆæœå®Œå…¨ä¸€è‡´ï¼Œå¯æ ¹æ®ä¸ªäººæˆ–å›¢é˜Ÿç¼–ç é£æ ¼é€‰æ‹©ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å†™æ³• 1ï¼šåˆ†å·åˆ†éš”ï¼ˆæ¨èï¼Œæ›´æ¸…æ™°åŒºåˆ†å±æ€§ä¸ç±»å‹ç»“æŸï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyObj1</span> = {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-comment">// å†™æ³• 2ï¼šé€—å·åˆ†éš”ï¼ˆè´´è¿‘ JavaScript å¯¹è±¡å­—é¢é‡å†™æ³•ï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyObj2</span> = {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>,
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>,
};
</code></pre>
<p>å¦å¤–ï¼Œæœ€åä¸€ä¸ªå±æ€§åé¢çš„åˆ†éš”ç¬¦æ˜¯å¯é€‰çš„ï¼Œå¯å†™å¯ä¸å†™ï¼Œä¸ä¼šå½±å“ç±»å‹æ ¡éªŒã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆæ³•ï¼šæœ€åä¸€ä¸ªå±æ€§åæ— åˆ†éš”ç¬¦</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyObj3</span> = {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>
};
</code></pre>
<h4 data-id="heading-4">3. ä¸¥æ ¼çš„å±æ€§åŒ¹é…è§„åˆ™</h4>
<p>ä¸€æ—¦å£°æ˜äº†å¯¹è±¡ç±»å‹ï¼Œèµ‹å€¼æ—¶å°±å¿…é¡»ä¸¥æ ¼éµå®ˆã€Œ<strong>ä¸å¤šä¸å°‘</strong>ã€çš„åŸåˆ™ï¼šä¸èƒ½ç¼ºå°‘å£°æ˜è¿‡çš„å±æ€§ï¼Œä¹Ÿä¸èƒ½é¢å¤–æ·»åŠ æœªå£°æ˜çš„å±æ€§ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MyObj</span> = {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-comment">// é”™è¯¯ï¼šç¼ºå°‘å±æ€§ yï¼ˆProperty 'y' is missing in type '{ x: number; }'ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">o1</span>: <span class="hljs-title class_">MyObj</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> };

<span class="hljs-comment">// é”™è¯¯ï¼šå¤šä½™å±æ€§ zï¼ˆObject literal may only specify known propertiesï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">o2</span>: <span class="hljs-title class_">MyObj</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> };
</code></pre>
<p>è¿™ç§ä¸¥æ ¼æ ¡éªŒä»…é’ˆå¯¹ã€Œå¯¹è±¡å­—é¢é‡ç›´æ¥èµ‹å€¼ã€ï¼Œå¦‚æœæ˜¯å°†å¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡åå†ä¼ é€’ï¼Œå¤šä½™å±æ€§ä¸ä¼šæŠ¥é”™ï¼ˆè¿™æ˜¯ TS çš„ã€Œå¯¹è±¡å­—é¢é‡æ–°é²œåº¦ã€è§„åˆ™ï¼‰ï¼Œä½†ä»ä¸æ¨èè¿™æ ·åšã€‚</p>
<h4 data-id="heading-5">4. å±æ€§çš„è¯»å†™ä¸åˆ é™¤è§„åˆ™</h4>
<ul>
<li>è¯»å†™æœªå£°æ˜çš„å±æ€§ï¼šä¼šç›´æ¥æŠ¥é”™ï¼ŒTS ä¸å…è®¸è®¿é—®å¯¹è±¡ç±»å‹ä¸­ä¸å­˜åœ¨çš„å±æ€§ã€‚</li>
<li>åˆ é™¤å·²å£°æ˜çš„å±æ€§ï¼šä¼šæŠ¥é”™ï¼ŒTS ä¸å…è®¸åˆ é™¤ç±»å‹å£°æ˜ä¸­æ˜ç¡®å­˜åœ¨çš„å±æ€§ã€‚</li>
<li>ä¿®æ”¹å·²å£°æ˜å±æ€§çš„å€¼ï¼šåˆæ³•ï¼Œåªè¦å€¼çš„ç±»å‹ä¸å£°æ˜ç±»å‹ä¸€è‡´å³å¯ã€‚</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
} = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> };

<span class="hljs-comment">// é”™è¯¯ï¼šè¯»å–ä¸å­˜åœ¨çš„å±æ€§ zï¼ˆProperty 'z' does not exist on type '{ x: number; y: number; }'ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">z</span>);

<span class="hljs-comment">// é”™è¯¯ï¼šå†™å…¥ä¸å­˜åœ¨çš„å±æ€§ zï¼ˆProperty 'z' does not exist on type '{ x: number; y: number; }'ï¼‰</span>
obj.<span class="hljs-property">z</span> = <span class="hljs-number">1</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">myUser</span>: { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> } = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Sabrina"</span>,
};

<span class="hljs-comment">// é”™è¯¯ï¼šåˆ é™¤å·²å£°æ˜çš„å±æ€§ nameï¼ˆThe operand of a 'delete' operator must be optionalï¼‰</span>
<span class="hljs-keyword">delete</span> myUser.<span class="hljs-property">name</span>;

<span class="hljs-comment">// æ­£ç¡®ï¼šä¿®æ”¹å±æ€§å€¼ï¼ˆç±»å‹åŒ¹é…ï¼‰</span>
myUser.<span class="hljs-property">name</span> = <span class="hljs-string">"Cynthia"</span>;
</code></pre>
<h3 data-id="heading-6">äºŒã€å¯¹è±¡æ–¹æ³•çš„ç±»å‹å£°æ˜</h3>
<p>å¯¹è±¡ä¸­çš„æ–¹æ³•å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å£°æ˜ç±»å‹ï¼š<strong>å‡½æ•°ç­¾åè¯­æ³•</strong> å’Œ <strong>ç®­å¤´å‡½æ•°è¯­æ³•</strong>ï¼Œä¸¤ç§å†™æ³•æ•ˆæœä¸€è‡´ï¼Œæ¨èä½¿ç”¨å‡½æ•°ç­¾åè¯­æ³•ï¼ˆæ›´è´´è¿‘ JavaScript æ–¹æ³•çš„ä¹¦å†™ä¹ æƒ¯ï¼‰ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-comment">// å†™æ³• 1ï¼šå‡½æ•°ç­¾åè¯­æ³•ï¼ˆæ¨èï¼‰</span>
  <span class="hljs-title function_">add</span>(<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span>;
  <span class="hljs-comment">// å†™æ³• 2ï¼šç®­å¤´å‡½æ•°è¯­æ³•</span>
  <span class="hljs-attr">subtract</span>: <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;
} = {
  <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>,
  <span class="hljs-title function_">add</span>(<span class="hljs-params">x, y</span>) {
    <span class="hljs-keyword">return</span> x + y;
  },
  <span class="hljs-title function_">subtract</span>(<span class="hljs-params">x, y</span>) {
    <span class="hljs-keyword">return</span> x - y;
  }
};
</code></pre>
<p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ–¹æ³• <code>add</code> å’Œ <code>subtract</code> å‡å£°æ˜äº†å‚æ•°ç±»å‹ï¼ˆä¸¤ä¸ª <code>number</code> ç±»å‹ï¼‰å’Œè¿”å›å€¼ç±»å‹ï¼ˆ<code>number</code> ç±»å‹ï¼‰ï¼Œå®ç°æ—¶å¿…é¡»ä¸¥æ ¼éµå¾ªè¯¥ç±»å‹çº¦æŸã€‚</p>
<h3 data-id="heading-7">ä¸‰ã€å¯¹è±¡å±æ€§ç±»å‹çš„è¯»å–</h3>
<p>TypeScript æ”¯æŒä½¿ç”¨<strong>æ–¹æ‹¬å· <code>[]</code></strong> è¯»å–å¯¹è±¡ç±»å‹ä¸­æŸä¸ªå±æ€§çš„å…·ä½“ç±»å‹ï¼Œè¿™åœ¨æå–å•ä¸ªå±æ€§ç±»å‹ã€å®ç°ç±»å‹å¤ç”¨åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰å®Œæ•´å¯¹è±¡ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">gender</span>: <span class="hljs-built_in">boolean</span>;
};

<span class="hljs-comment">// è¯»å– name å±æ€§çš„ç±»å‹ â†’ string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">UserName</span> = <span class="hljs-title class_">User</span>[<span class="hljs-string">'name'</span>];

<span class="hljs-comment">// è¯»å– age å±æ€§çš„ç±»å‹ â†’ number</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">UserAge</span> = <span class="hljs-title class_">User</span>[<span class="hljs-string">'age'</span>];

<span class="hljs-comment">// å®é™…ä½¿ç”¨ï¼šçº¦æŸå˜é‡ç±»å‹ä¸º User çš„ name å±æ€§ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">userName</span>: <span class="hljs-title class_">UserName</span> = <span class="hljs-string">"å¼ ä¸‰"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">userAge</span>: <span class="hljs-title class_">UserAge</span> = <span class="hljs-number">22</span>;
</code></pre>
<p>æ³¨æ„ï¼Œæ–¹æ‹¬å·å†…çš„å±æ€§åå¿…é¡»ç”¨å¼•å·åŒ…è£¹ï¼ˆå­—ç¬¦ä¸²å­—é¢é‡ï¼‰ï¼Œä¸”å¿…é¡»æ˜¯å¯¹è±¡ç±»å‹ä¸­å·²å£°æ˜çš„å±æ€§ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<h3 data-id="heading-8">å››ã€å¯¹è±¡ç±»å‹çš„ä¸¤ç§åˆ«åæ–¹å¼ï¼štype vs interface</h3>
<p>é™¤äº†ç›´æ¥å­—é¢é‡å£°æ˜ï¼ŒTypeScript è¿˜æä¾›äº†ä¸¤ç§æ–¹å¼å°†å¯¹è±¡ç±»å‹æç‚¼ä¸ºå¯å¤ç”¨çš„åˆ«åï¼š<code>type</code> å‘½ä»¤å’Œ <code>interface</code> å‘½ä»¤ï¼Œä¸¤è€…åœ¨å¯¹è±¡ç±»å‹å£°æ˜åœºæ™¯ä¸­åŠŸèƒ½ç›¸ä¼¼ã€‚</p>
<h4 data-id="heading-9">1. ä¸¤ç§æ–¹å¼çš„åŸºæœ¬ä½¿ç”¨</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å†™æ³• 1ï¼štype å‘½ä»¤ï¼ˆç±»å‹åˆ«åï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyObjType</span> = {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-attr">obj1</span>: <span class="hljs-title class_">MyObjType</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> };

<span class="hljs-comment">// å†™æ³• 2ï¼šinterface å‘½ä»¤ï¼ˆæ¥å£ï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyObjInterface</span> {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">obj2</span>: <span class="hljs-title class_">MyObjInterface</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> };
</code></pre>
<h4 data-id="heading-10">2. æ¥å£çš„ç‰¹æ®Šç‰¹æ€§ï¼šç»§æ‰¿å±æ€§çš„å…¼å®¹</h4>
<p>TypeScript ä¸åŒºåˆ†å¯¹è±¡ã€Œè‡ªèº«å±æ€§ã€å’Œã€Œç»§æ‰¿å±æ€§ã€ï¼Œä¸€å¾‹è§†ä¸ºå¯¹è±¡çš„åˆæ³•å±æ€§ã€‚å› æ­¤ï¼Œåœ¨æ¥å£ä¸­å£°æ˜çš„ç»§æ‰¿å±æ€§ï¼ˆå¦‚ <code>toString()</code>ï¼‰ï¼Œå®ç°æ—¶æ— éœ€æ‰‹åŠ¨æä¾›ï¼ˆå¯ä»åŸå‹é“¾ç»§æ‰¿ï¼‰ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyInterface</span> {
  <span class="hljs-comment">// ç»§æ‰¿å±æ€§ï¼šä» Object åŸå‹é“¾ç»§æ‰¿</span>
  <span class="hljs-title function_">toString</span>(): <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">// è‡ªèº«å±æ€§ï¼šå¿…é¡»æ‰‹åŠ¨æä¾›</span>
  <span class="hljs-attr">prop</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// æ­£ç¡®ï¼šä»…æä¾›è‡ªèº«å±æ€§ propï¼ŒtoString() ä»åŸå‹é“¾ç»§æ‰¿</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">MyInterface</span> = {
  <span class="hljs-attr">prop</span>: <span class="hljs-number">123</span>,
};
</code></pre>
<p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>obj</code> ä»…æä¾›äº† <code>prop</code> å±æ€§ï¼Œä½†ä»ç¬¦åˆ <code>MyInterface</code> æ¥å£çº¦æŸï¼Œå› ä¸º <code>toString()</code> æ–¹æ³•å¯ä» <code>Object</code> åŸå‹é“¾ä¸­ç»§æ‰¿ï¼Œæ— éœ€æ‰‹åŠ¨å®ç°ã€‚</p>
<h3 data-id="heading-11">äº”ã€å¯é€‰å±æ€§</h3>
<h4 data-id="heading-12">1. å¯é€‰å±æ€§çš„å£°æ˜ï¼š<code>?</code></h4>
<p>å¦‚æœæŸä¸ªå±æ€§ä¸æ˜¯å¿…éœ€çš„ï¼ˆå¯å­˜åœ¨ã€å¯ä¸å­˜åœ¨ï¼‰ï¼Œå¯ä»¥åœ¨å±æ€§ååæ·»åŠ <strong>é—®å· <code>?</code></strong> æ ‡è®°ä¸ºå¯é€‰å±æ€§ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å£°æ˜ y ä¸ºå¯é€‰å±æ€§</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  y?: <span class="hljs-built_in">number</span>;
} = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> }; <span class="hljs-comment">// æ­£ç¡®ï¼šæ— éœ€æä¾› y å±æ€§</span>
</code></pre>
<h4 data-id="heading-13">2. å¯é€‰å±æ€§ä¸ undefined çš„ç­‰ä»·æ€§</h4>
<p>å¯é€‰å±æ€§æœ¬è´¨ä¸Šç­‰åŒäºã€Œå…è®¸èµ‹å€¼ä¸º <code>undefined</code> çš„å±æ€§ã€ï¼Œä¸‹é¢ä¸¤ç§å†™æ³•å®Œå…¨ç­‰æ•ˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å†™æ³• 1ï¼šç®€æ´å†™æ³•</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">User1</span> = {
  <span class="hljs-attr">firstName</span>: <span class="hljs-built_in">string</span>;
  lastName?: <span class="hljs-built_in">string</span>;
};

<span class="hljs-comment">// å†™æ³• 2ï¼šå®Œæ•´å†™æ³•ï¼ˆæ˜ç¡®å…è®¸ undefinedï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">User2</span> = {
  <span class="hljs-attr">firstName</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">lastName</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;
};
</code></pre>
<p>å› æ­¤ï¼Œå¯é€‰å±æ€§å¯ä»¥æ˜¾å¼èµ‹å€¼ä¸º <code>undefined</code>ï¼Œä¸ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  y?: <span class="hljs-built_in">number</span>;
} = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-literal">undefined</span> }; <span class="hljs-comment">// æ­£ç¡®</span>
</code></pre>
<h4 data-id="heading-14">3. å¯é€‰å±æ€§çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹</h4>
<p>è¯»å–æœªèµ‹å€¼çš„å¯é€‰å±æ€§æ—¶ï¼Œè¿”å›å€¼ä¸º <code>undefined</code>ï¼Œç›´æ¥è°ƒç”¨è¯¥å±æ€§çš„æ–¹æ³•ä¼šæŠ¥é”™ï¼Œå› æ­¤ä½¿ç”¨å‰å¿…é¡»å…ˆè¿›è¡Œ <code>undefined</code> æ ¡éªŒã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MyObj</span> = {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>;
  y?: <span class="hljs-built_in">string</span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">MyObj</span> = { <span class="hljs-attr">x</span>: <span class="hljs-string">'hello'</span> };

<span class="hljs-comment">// é”™è¯¯ï¼šCannot read properties of undefined (reading 'toLowerCase')</span>
obj.<span class="hljs-property">y</span>.<span class="hljs-title function_">toLowerCase</span>();
</code></pre>
<p>å¸¸ç”¨çš„æ ¡éªŒæ–¹å¼æœ‰ä¸¤ç§ï¼šæ¡ä»¶åˆ¤æ–­æˆ– Null åˆå¹¶è¿ç®—ç¬¦ <code>??</code>ï¼ˆæ¨èï¼‰ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">user</span>: {
  <span class="hljs-attr">firstName</span>: <span class="hljs-built_in">string</span>;
  lastName?: <span class="hljs-built_in">string</span>;
} = { <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Foo'</span> };

<span class="hljs-comment">// æ–¹å¼ 1ï¼šæ¡ä»¶åˆ¤æ–­</span>
<span class="hljs-keyword">if</span> (user.<span class="hljs-property">lastName</span> !== <span class="hljs-literal">undefined</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`hello <span class="hljs-subst">${user.firstName}</span> <span class="hljs-subst">${user.lastName}</span>`</span>);
}

<span class="hljs-comment">// æ–¹å¼ 2ï¼šNull åˆå¹¶è¿ç®—ç¬¦ï¼ˆè®¾ç½®é»˜è®¤å€¼ï¼Œæ›´ç®€æ´ï¼‰</span>
<span class="hljs-keyword">const</span> firstName = user.<span class="hljs-property">firstName</span> ?? <span class="hljs-string">'é»˜è®¤å§“å'</span>;
<span class="hljs-keyword">const</span> lastName = user.<span class="hljs-property">lastName</span> ?? <span class="hljs-string">'é»˜è®¤å§“æ°'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`hello <span class="hljs-subst">${firstName}</span> <span class="hljs-subst">${lastName}</span>`</span>);
</code></pre>
<h4 data-id="heading-15">4. ä¸¥æ ¼å¯é€‰å±æ€§é…ç½®ï¼šExactOptionalPropertyTypes</h4>
<p>TypeScript æä¾›äº†ç¼–è¯‘é…ç½® <code>ExactOptionalPropertyTypes</code>ï¼Œå½“è¯¥é…ç½®ä¸ <code>strictNullChecks</code> åŒæ—¶å¼€å¯æ—¶ï¼Œå¯é€‰å±æ€§å°†<strong>ä¸å…è®¸æ˜¾å¼èµ‹å€¼ä¸º <code>undefined</code></strong>ï¼Œä»…å…è®¸çœç•¥ä¸å†™ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¼€å¯ ExactOptionalPropertyTypes å’Œ strictNullChecks å</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: {
  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  y?: <span class="hljs-built_in">number</span>;
} = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-literal">undefined</span> }; <span class="hljs-comment">// é”™è¯¯ï¼šType 'undefined' is not assignable to type 'number | undefined'</span>
</code></pre>
<h4 data-id="heading-16">5. å¯é€‰å±æ€§ vs å…è®¸ undefined çš„å¿…é€‰å±æ€§</h4>
<p>ä¸¤è€…çœ‹ä¼¼ç›¸ä¼¼ï¼Œä½†å­˜åœ¨æ ¸å¿ƒåŒºåˆ«ï¼šå¯é€‰å±æ€§å¯çœç•¥ä¸å†™ï¼Œè€Œå…è®¸ <code>undefined</code> çš„å¿…é€‰å±æ€§å¿…é¡»æ˜¾å¼æä¾›ï¼ˆå³ä½¿å€¼ä¸º <code>undefined</code>ï¼‰ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> A = { <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>; y?: <span class="hljs-built_in">number</span> }; <span class="hljs-comment">// y æ˜¯å¯é€‰å±æ€§</span>
<span class="hljs-keyword">type</span> B = { <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> }; <span class="hljs-comment">// y æ˜¯å¿…é€‰å±æ€§ï¼ˆå…è®¸ undefinedï¼‰</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">objA</span>: A = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> }; <span class="hljs-comment">// æ­£ç¡®ï¼šå¯é€‰å±æ€§å¯çœç•¥</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">objB</span>: B = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> }; <span class="hljs-comment">// é”™è¯¯ï¼šç¼ºå°‘å¿…é€‰å±æ€§ yï¼ˆProperty 'y' is missing in type '{ x: number; }'ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">objB2</span>: B = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-literal">undefined</span> }; <span class="hljs-comment">// æ­£ç¡®ï¼šæ˜¾å¼æä¾› y å¹¶èµ‹å€¼ä¸º undefined</span>
</code></pre>
<h3 data-id="heading-17">å…­ã€åªè¯»å±æ€§</h3>
<h4 data-id="heading-18">1. åªè¯»å±æ€§çš„å£°æ˜ï¼š<code>readonly</code></h4>
<p>åœ¨å±æ€§åå‰æ·»åŠ **<code>readonly</code> å…³é”®å­—**ï¼Œå¯å°†è¯¥å±æ€§æ ‡è®°ä¸ºåªè¯»å±æ€§ï¼Œåˆå§‹åŒ–èµ‹å€¼åæ— æ³•å†ä¿®æ”¹å…¶å€¼ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ¥å£ä¸­å£°æ˜åªè¯»å±æ€§</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyInterface</span> {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">prop</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// ç›´æ¥å­—é¢é‡å£°æ˜åªè¯»å±æ€§</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">person</span>: {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
} = { <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> };

<span class="hljs-comment">// é”™è¯¯ï¼šCannot assign to 'age' because it is a read-only property</span>
person.<span class="hljs-property">age</span> = <span class="hljs-number">21</span>;
</code></pre>
<p>åªè¯»å±æ€§ä»…èƒ½åœ¨å¯¹è±¡<strong>åˆå§‹åŒ–æœŸé—´</strong>èµ‹å€¼ï¼Œæ­¤åä»»ä½•ä¿®æ”¹æ“ä½œéƒ½ä¼šè¢« TS ç¦æ­¢ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-comment">// åˆå§‹åŒ–èµ‹å€¼ï¼ˆåˆæ³•ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">p</span>: <span class="hljs-title class_">Point</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> };

<span class="hljs-comment">// åç»­ä¿®æ”¹ï¼ˆéæ³•ï¼‰</span>
p.<span class="hljs-property">x</span> = <span class="hljs-number">100</span>; <span class="hljs-comment">// é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-19">2. åªè¯»å±æ€§çš„æ·±å±‚æ³¨æ„äº‹é¡¹</h4>
<p><code>readonly</code> ä¿®é¥°ç¬¦ä»…çº¦æŸã€Œå±æ€§æœ¬èº«çš„èµ‹å€¼ã€ï¼Œå¦‚æœå±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œ<code>readonly</code> ä¸ä¼šç¦æ­¢ä¿®æ”¹è¯¥å¯¹è±¡çš„å†…éƒ¨å±æ€§ï¼Œä»…ç¦æ­¢å®Œå…¨æ›¿æ¢è¯¥å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Home</span> {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">resident</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  };
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">h</span>: <span class="hljs-title class_">Home</span> = {
  <span class="hljs-attr">resident</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Vicky'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">42</span>
  }
};

<span class="hljs-comment">// æ­£ç¡®ï¼šä¿®æ”¹å¯¹è±¡å†…éƒ¨å±æ€§ï¼ˆreadonly ä¸çº¦æŸæ·±å±‚å±æ€§ï¼‰</span>
h.<span class="hljs-property">resident</span>.<span class="hljs-property">age</span> = <span class="hljs-number">32</span>;

<span class="hljs-comment">// é”™è¯¯ï¼šå®Œå…¨æ›¿æ¢ readonly å±æ€§çš„å€¼ï¼ˆCannot assign to 'resident' because it is a read-only propertyï¼‰</span>
h.<span class="hljs-property">resident</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Kate'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">23</span>
};
</code></pre>
<h4 data-id="heading-20">3. åªè¯»å¼•ç”¨çš„ç›¸äº’å½±å“</h4>
<p>å¦‚æœä¸€ä¸ªå¯¹è±¡æœ‰ä¸¤ä¸ªå¼•ç”¨ï¼ˆä¸€ä¸ªå¯å†™ã€ä¸€ä¸ªåªè¯»ï¼‰ï¼Œä¿®æ”¹å¯å†™å¼•ç”¨çš„å±æ€§ï¼Œä¼šå½±å“åˆ°åªè¯»å¼•ç”¨ï¼ˆå› ä¸ºä¸¤è€…æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ReadonlyPerson</span> {
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// å¯å†™å¼•ç”¨</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">writablePerson</span>: <span class="hljs-title class_">Person</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Vicky'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">42</span>,
};

<span class="hljs-comment">// åªè¯»å¼•ç”¨ï¼ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">readonlyPerson</span>: <span class="hljs-title class_">ReadonlyPerson</span> = writablePerson;

<span class="hljs-comment">// ä¿®æ”¹å¯å†™å¼•ç”¨çš„å±æ€§</span>
writablePerson.<span class="hljs-property">age</span> += <span class="hljs-number">1</span>;

<span class="hljs-comment">// åªè¯»å¼•ç”¨çš„å±æ€§å€¼ä¹Ÿä¼šå˜åŒ–ï¼ˆè¾“å‡º 43ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(readonlyPerson.<span class="hljs-property">age</span>);
</code></pre>
<h4 data-id="heading-21">4. åªè¯»æ–­è¨€ï¼š<code>as const</code></h4>
<p>é™¤äº†å£°æ˜æ—¶ä½¿ç”¨ <code>readonly</code>ï¼Œè¿˜å¯ä»¥åœ¨å¯¹è±¡èµ‹å€¼æ—¶ä½¿ç”¨**<code>as const</code> åªè¯»æ–­è¨€**ï¼Œå°†æ•´ä¸ªå¯¹è±¡è½¬ä¸ºåªè¯»å¯¹è±¡ï¼Œæ‰€æœ‰å±æ€§å‡æ— æ³•ä¿®æ”¹ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> myUser = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Sabrina"</span>,
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-comment">// é”™è¯¯ï¼šCannot assign to 'name' because it is a read-only property</span>
myUser.<span class="hljs-property">name</span> = <span class="hljs-string">"Cynthia"</span>;
</code></pre>
<p>æ³¨æ„ï¼šå¦‚æœå˜é‡å·²ç»æ˜ç¡®å£°æ˜äº†ç±»å‹ï¼ŒTS ä¼šä»¥ã€Œå£°æ˜çš„ç±»å‹ã€ä¸ºå‡†ï¼Œ<code>as const</code> æ–­è¨€ä¼šè¢«å¿½ç•¥ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ˜ç¡®å£°æ˜ç±»å‹ï¼šname ä¸ºå¯å†™çš„ string ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">myUser</span>: { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> } = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Sabrina"</span>,
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-comment">// æ­£ç¡®ï¼šä»¥å£°æ˜çš„ç±»å‹ä¸ºå‡†ï¼Œname å¯ä¿®æ”¹</span>
myUser.<span class="hljs-property">name</span> = <span class="hljs-string">"Cynthia"</span>;
</code></pre>
<h3 data-id="heading-22">ä¸ƒã€å±æ€§åçš„ç´¢å¼•ç±»å‹</h3>
<p>å½“å¯¹è±¡çš„å±æ€§åæ— æ³•æå‰ç¡®å®šï¼ˆå¦‚ API è¿”å›çš„åŠ¨æ€æ•°æ®ï¼‰ï¼Œæˆ–å±æ€§æ•°é‡è¿‡å¤šæ—¶ï¼ŒTypeScript å…è®¸ä½¿ç”¨ã€Œ<strong>å±æ€§åçš„ç´¢å¼•ç±»å‹</strong>ã€ï¼ˆåˆç§°ç´¢å¼•ç­¾åï¼‰æ¥æè¿°å¯¹è±¡ç±»å‹ï¼Œæ”¯æŒå­—ç¬¦ä¸²ã€æ•°å­—ã€Symbol ä¸‰ç§ç´¢å¼•ç±»å‹ã€‚</p>
<h4 data-id="heading-23">1. å­—ç¬¦ä¸²ç´¢å¼•ç±»å‹</h4>
<p>æœ€å¸¸ç”¨çš„ç´¢å¼•ç±»å‹ï¼Œç”¨äºçº¦æŸã€Œå±æ€§åä¸ºå­—ç¬¦ä¸²ã€å±æ€§å€¼ä¸ºç»Ÿä¸€ç±»å‹ã€çš„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å­—ç¬¦ä¸²ç´¢å¼•ç±»å‹ï¼šå±æ€§åæ˜¯ stringï¼Œå±æ€§å€¼æ˜¯ string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">StringMap</span> = {
  [<span class="hljs-attr">property</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span>;
};

<span class="hljs-comment">// åˆæ³•ï¼šæ‰€æœ‰å±æ€§å‡ç¬¦åˆç´¢å¼•ç±»å‹çº¦æŸ</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">language</span>: <span class="hljs-title class_">StringMap</span> = {
  <span class="hljs-attr">zh</span>: <span class="hljs-string">"ä¸­æ–‡"</span>,
  <span class="hljs-attr">en</span>: <span class="hljs-string">"è‹±æ–‡"</span>,
  <span class="hljs-attr">ja</span>: <span class="hljs-string">"æ—¥æ–‡"</span>,
};
</code></pre>
<p>å…¶ä¸­ï¼Œ<code>[property: string]</code> ä¸­çš„ <code>property</code> æ˜¯è‡ªå®šä¹‰çš„å˜é‡åï¼Œå¯ä»»æ„ä¿®æ”¹ï¼ˆå¦‚ <code>[key: string]</code>ï¼‰ï¼Œä¸å½±å“ç±»å‹æ ¡éªŒã€‚</p>
<h4 data-id="heading-24">2. æ•°å­—ç´¢å¼•ç±»å‹</h4>
<p>ç”¨äºçº¦æŸã€Œå±æ€§åä¸ºæ•°å­—ã€å±æ€§å€¼ä¸ºç»Ÿä¸€ç±»å‹ã€çš„å¯¹è±¡ï¼Œå¸¸ç”¨æ¥æè¿°ç±»æ•°ç»„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ•°å­—ç´¢å¼•ç±»å‹ï¼šå±æ€§åæ˜¯ numberï¼Œå±æ€§å€¼æ˜¯ number</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NumberMap</span> = {
  [<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>]: <span class="hljs-built_in">number</span>;
};

<span class="hljs-comment">// åˆæ³•ï¼šç±»æ•°ç»„å¯¹è±¡</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">arrLike</span>: <span class="hljs-title class_">NumberMap</span> = {
  <span class="hljs-number">0</span>: <span class="hljs-number">1</span>,
  <span class="hljs-number">1</span>: <span class="hljs-number">2</span>,
  <span class="hljs-number">2</span>: <span class="hljs-number">3</span>,
};

<span class="hljs-comment">// ä¹Ÿå¯ç”¨äºç®€å•æ•°ç»„ï¼ˆä¸æ¨èï¼Œæ•°ç»„æœ‰ä¸“é—¨çš„ç±»å‹å£°æ˜æ–¹å¼ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">simpleArr</span>: <span class="hljs-title class_">NumberMap</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
</code></pre>
<h4 data-id="heading-25">3. ç´¢å¼•ç±»å‹çš„çº¦æŸè§„åˆ™</h4>
<ol>
<li><strong>æ•°å­—ç´¢å¼•æœä»å­—ç¬¦ä¸²ç´¢å¼•</strong>ï¼šJavaScript å†…éƒ¨ä¼šå°†æ•°å­—å±æ€§åè‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå› æ­¤å½“å¯¹è±¡åŒæ—¶å­˜åœ¨æ•°å­—ç´¢å¼•å’Œå­—ç¬¦ä¸²ç´¢å¼•æ—¶ï¼Œæ•°å­—ç´¢å¼•çš„å±æ€§å€¼ç±»å‹å¿…é¡»å…¼å®¹å­—ç¬¦ä¸²ç´¢å¼•çš„å±æ€§å€¼ç±»å‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é”™è¯¯ï¼šæ•°å­—ç´¢å¼•ç±»å‹ï¼ˆbooleanï¼‰ä¸å­—ç¬¦ä¸²ç´¢å¼•ç±»å‹ï¼ˆstringï¼‰ä¸å…¼å®¹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyType</span> = {
  [<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>]: <span class="hljs-built_in">boolean</span>;
  [<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span>;
};

<span class="hljs-comment">// æ­£ç¡®ï¼šæ•°å­—ç´¢å¼•ç±»å‹ï¼ˆstringï¼‰å…¼å®¹å­—ç¬¦ä¸²ç´¢å¼•ç±»å‹ï¼ˆstringï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyType2</span> = {
  [<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>]: <span class="hljs-built_in">string</span>;
  [<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span>;
};
</code></pre>
<ol start="2">
<li><strong>å…·ä½“å±æ€§å¿…é¡»å…¼å®¹ç´¢å¼•ç±»å‹</strong>ï¼šå¦‚æœå¯¹è±¡åŒæ—¶å£°æ˜äº†å…·ä½“å±æ€§å’Œç´¢å¼•ç±»å‹ï¼Œå…·ä½“å±æ€§çš„ç±»å‹å¿…é¡»å…¼å®¹ç´¢å¼•ç±»å‹çš„å±æ€§å€¼ç±»å‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é”™è¯¯ï¼šå…·ä½“å±æ€§ fooï¼ˆbooleanï¼‰ä¸ç´¢å¼•ç±»å‹ï¼ˆstringï¼‰ä¸å…¼å®¹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyType3</span> = {
  <span class="hljs-attr">foo</span>: <span class="hljs-built_in">boolean</span>;
  [<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span>;
};

<span class="hljs-comment">// æ­£ç¡®ï¼šå…·ä½“å±æ€§ fooï¼ˆstringï¼‰å…¼å®¹ç´¢å¼•ç±»å‹ï¼ˆstringï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyType4</span> = {
  <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span>;
  [<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span>;
};
</code></pre>
<h4 data-id="heading-26">4. ç´¢å¼•ç±»å‹çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹</h4>
<p>ç´¢å¼•ç±»å‹çš„çº¦æŸè¾ƒä¸ºå®½æ³›ï¼Œå®¹æ˜“å¿½ç•¥å…·ä½“å±æ€§çš„ç»†èŠ‚æ ¡éªŒï¼Œå»ºè®®è°¨æ…ä½¿ç”¨ã€‚å¦å¤–ï¼Œæ•°å­—ç´¢å¼•ç±»å‹ä¸å®œç”¨æ¥å£°æ˜æ•°ç»„ï¼Œå› ä¸ºè¿™ç§æ–¹å¼æ— æ³•æ”¯æŒæ•°ç»„çš„ <code>length</code> å±æ€§å’Œå„ç±»æ•°ç»„æ–¹æ³•ï¼ˆå¦‚ <code>push()</code>ã€<code>map()</code>ï¼‰ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MyArr</span> = {
  [<span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span>]: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-attr">arr</span>: <span class="hljs-title class_">MyArr</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

<span class="hljs-comment">// é”™è¯¯ï¼šProperty 'length' does not exist on type 'MyArr'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-property">length</span>);

<span class="hljs-comment">// é”™è¯¯ï¼šProperty 'push' does not exist on type 'MyArr'</span>
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>);
</code></pre>
<h3 data-id="heading-27">å…«ã€å¯¹è±¡çš„è§£æ„èµ‹å€¼ä¸ç±»å‹å£°æ˜</h3>
<p>TypeScript æ”¯æŒ JavaScript çš„å¯¹è±¡è§£æ„èµ‹å€¼ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦ä¸ºè§£æ„åçš„å˜é‡æ·»åŠ ç±»å‹çº¦æŸï¼Œå…¶ç±»å‹å†™æ³•ä¸å¯¹è±¡ç±»å‹å£°æ˜ä¸€è‡´ã€‚</p>
<h4 data-id="heading-28">1. åŸºæœ¬è§£æ„èµ‹å€¼çš„ç±»å‹å£°æ˜</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰å¯¹è±¡ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Product</span> = {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-comment">// å®šä¹‰åŸå§‹å¯¹è±¡</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">product</span>: <span class="hljs-title class_">Product</span> = {
  <span class="hljs-attr">id</span>: <span class="hljs-string">"P001"</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">"TypeScript å®æˆ˜æŒ‡å—"</span>,
  <span class="hljs-attr">price</span>: <span class="hljs-number">59.9</span>,
};

<span class="hljs-comment">// è§£æ„èµ‹å€¼å¹¶æ·»åŠ ç±»å‹å£°æ˜</span>
<span class="hljs-keyword">const</span> { id, name, price }: {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>;
} = product;

<span class="hljs-comment">// æˆ–ç›´æ¥ä½¿ç”¨å·²å®šä¹‰çš„ç±»å‹åˆ«åï¼ˆæ¨èï¼Œæ›´ç®€æ´ï¼‰</span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">id</span>: productId, <span class="hljs-attr">name</span>: productName }: <span class="hljs-title class_">Product</span> = product;
</code></pre>
<h4 data-id="heading-29">2. è§£æ„èµ‹å€¼ä¸­çš„å†’å·é™·é˜±</h4>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼šå¯¹è±¡è§£æ„ä¸­çš„å†’å· <code>:</code> ä¸æ˜¯ç”¨æ¥æŒ‡å®šç±»å‹çš„ï¼Œè€Œæ˜¯ç”¨æ¥<strong>ä¸ºå±æ€§é‡å‘½å</strong>çš„ã€‚å¦‚æœè¦ä¸ºè§£æ„å˜é‡æŒ‡å®šç±»å‹ï¼Œå¿…é¡»åœ¨è§£æ„è¡¨è¾¾å¼å¤–éƒ¨æ•´ä½“æ·»åŠ ç±»å‹å£°æ˜ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">x</span>: <span class="hljs-string">"hello"</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">123</span> };

<span class="hljs-comment">// è§£æ„é‡å‘½åï¼šx â†’ fooï¼Œy â†’ barï¼ˆå†’å·ä¸æ˜¯ç±»å‹å£°æ˜ï¼‰</span>
<span class="hljs-keyword">let</span> { <span class="hljs-attr">x</span>: foo, <span class="hljs-attr">y</span>: bar } = obj;

<span class="hljs-comment">// ç­‰åŒäº</span>
<span class="hljs-keyword">let</span> foo = obj.<span class="hljs-property">x</span>;
<span class="hljs-keyword">let</span> bar = obj.<span class="hljs-property">y</span>;

<span class="hljs-comment">// æ­£ç¡®ï¼šå¤–éƒ¨æ·»åŠ æ•´ä½“ç±»å‹å£°æ˜</span>
<span class="hljs-keyword">let</span> { <span class="hljs-attr">x</span>: foo2, <span class="hljs-attr">y</span>: bar2 }: { <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> } = obj;
</code></pre>
<h4 data-id="heading-30">3. å‡½æ•°å‚æ•°è§£æ„çš„ç±»å‹å£°æ˜</h4>
<p>åœ¨å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨å¯¹è±¡è§£æ„æ—¶ï¼ŒåŒæ ·éœ€è¦æ³¨æ„å†’å·çš„ç”¨é€”ï¼Œé¿å…å°†é‡å‘½åè¯¯è®¤ä¸ºç±»å‹å£°æ˜ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šå°†é‡å‘½åè¯¯è®¤ä¸ºç±»å‹å£°æ˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params">{
  shape: Shape, // é‡å‘½åï¼šshape â†’ Shape
  xPos: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span> // é”™è¯¯ï¼šæ— æ³•å°†ç±»å‹ <span class="hljs-string">'number'</span> èµ‹å€¼ç»™å˜é‡ xPos
}</span>) {
  <span class="hljs-keyword">let</span> myShape = shape; <span class="hljs-comment">// é”™è¯¯ï¼šæ‰¾ä¸åˆ°å˜é‡ shape</span>
  <span class="hljs-keyword">let</span> x = xPos; <span class="hljs-comment">// é”™è¯¯ï¼šæ‰¾ä¸åˆ°å˜é‡ xPos</span>
}

<span class="hljs-comment">// æ­£ç¡®ç¤ºä¾‹ï¼šå¤–éƒ¨æ·»åŠ ç±»å‹å£°æ˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">drawCorrect</span>(<span class="hljs-params">{
  shape,
  xPos = <span class="hljs-number">100</span>
}: {
  shape: <span class="hljs-built_in">string</span>;
  xPos: <span class="hljs-built_in">number</span>;
}</span>) {
  <span class="hljs-keyword">let</span> myShape = shape;
  <span class="hljs-keyword">let</span> x = xPos;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç»˜åˆ¶<span class="hljs-subst">${myShape}</span>ï¼Œxåæ ‡ï¼š<span class="hljs-subst">${x}</span>`</span>);
}
</code></pre>
<h3 data-id="heading-31">ä¹ã€æ ¸å¿ƒæ€»ç»“</h3>
<ol>
<li>TypeScript å¯¹è±¡ç±»å‹çš„åŸºç¡€å£°æ˜ä½¿ç”¨ <code>{}</code>ï¼Œå±æ€§åˆ†éš”ç¬¦æ”¯æŒ <code>;</code> æˆ– <code>,</code>ï¼Œèµ‹å€¼æ—¶éœ€ä¸¥æ ¼åŒ¹é…ã€Œä¸å¤šä¸å°‘ã€çš„å±æ€§è§„åˆ™ã€‚</li>
<li>å¯¹è±¡æ–¹æ³•æ”¯æŒå‡½æ•°ç­¾åå’Œç®­å¤´å‡½æ•°ä¸¤ç§ç±»å‹å£°æ˜æ–¹å¼ï¼Œå±æ€§ç±»å‹å¯é€šè¿‡ <code>[]</code> è¯»å–ã€‚</li>
<li><code>type</code> å’Œ <code>interface</code> å‡å¯å®šä¹‰å¯¹è±¡ç±»å‹åˆ«åï¼Œ<code>interface</code> æ”¯æŒç»§æ‰¿å±æ€§çš„å…¼å®¹ã€‚</li>
<li>å¯é€‰å±æ€§ç”¨ <code>?</code> å£°æ˜ï¼Œæœ¬è´¨ç­‰åŒäºå…è®¸ <code>undefined</code>ï¼Œä½¿ç”¨å‰éœ€åš <code>undefined</code> æ ¡éªŒï¼›åªè¯»å±æ€§ç”¨ <code>readonly</code> å£°æ˜ï¼Œä»…çº¦æŸå±æ€§æœ¬èº«çš„èµ‹å€¼ã€‚</li>
<li>ç´¢å¼•ç±»å‹ç”¨äºå¤„ç†åŠ¨æ€å±æ€§åï¼Œæ”¯æŒå­—ç¬¦ä¸²ã€æ•°å­—ã€Symbol ä¸‰ç§ç±»å‹ï¼Œéœ€éµå¾ªã€Œæ•°å­—ç´¢å¼•æœä»å­—ç¬¦ä¸²ç´¢å¼•ã€çš„è§„åˆ™ã€‚</li>
<li>å¯¹è±¡è§£æ„èµ‹å€¼çš„ç±»å‹å£°æ˜éœ€åœ¨å¤–éƒ¨æ•´ä½“æ·»åŠ ï¼Œè§£æ„å†…éƒ¨çš„å†’å·ç”¨äºé‡å‘½åï¼Œè€Œéç±»å‹æŒ‡å®šã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ç»“åˆ AIï¼Œä¸ºæœªæ¥ç¤¾äº¤ç¾¤ä½“æ„å»ºã€Œä¿¡ä»»æ¡¥æ¢ã€]]></title>    <link>https://juejin.cn/post/7594415509606547502</link>    <guid>https://juejin.cn/post/7594415509606547502</guid>    <pubDate>2026-01-13T02:58:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594415509606547502" data-draft-id="7594322573453459499" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ç»“åˆ AIï¼Œä¸ºæœªæ¥ç¤¾äº¤ç¾¤ä½“æ„å»ºã€Œä¿¡ä»»æ¡¥æ¢ã€"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æ¶æ„,React Native"/> <meta itemprop="datePublished" content="2026-01-13T02:58:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ç»“åˆ AIï¼Œä¸ºæœªæ¥ç¤¾äº¤ç¾¤ä½“æ„å»ºã€Œä¿¡ä»»æ¡¥æ¢ã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:58:22.000Z" title="Tue Jan 13 2026 02:58:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸŒ ä¸€ã€å‰è¨€ï¼šä¿¡ä»»å±æœºä¸æ•°å­—å­¤å²›</h2>
<p>æˆ‘ä»¬ç”Ÿæ´»åœ¨ä¸€ä¸ª <strong>å‰æ‰€æœªæœ‰çš„æ•°æ®ä¸°ç›ˆæ—¶ä»£</strong>ã€‚<br/>
ä¿¡æ¯çˆ†ç‚¸è®©æˆ‘ä»¬èƒ½è®¤è¯†å…¨ä¸–ç•Œçš„äººï¼Œå´è¶Šæ¥è¶Šéš¾åˆ¤æ–­è°å€¼å¾—ä¿¡ä»»ã€‚</p>
<blockquote>
<p>æœ‹å‹åœˆçš„ç¬‘è„¸èƒŒåå¯èƒ½æ˜¯æ»¤é•œï¼Œ<br/>
åŒ¿åè¯„è®ºåŒºçš„èµç¾å¯èƒ½æ˜¯æœºå™¨äººã€‚</p>
</blockquote>
<p>äºæ˜¯ï¼Œâ€œä¿¡ä»»â€æˆäº†æœªæ¥ç¤¾äº¤ç³»ç»Ÿä¸­<strong>æœ€ç¨€ç¼ºã€ä¹Ÿæœ€çè´µçš„èµ„æº</strong>ã€‚</p>
<p>å¦‚æœ AI èƒ½æˆä¸ºæ„å»ºäººé™…ä¿¡ä»»çš„â€œæ•°å­—æ¡¥æ¢â€å‘¢ï¼Ÿ<br/>
æˆ‘ä»¬æˆ–è®¸èƒ½æ‰“é€ å‡ºä¸€ä¸ªå…¨æ–°çš„ç”Ÿæ€ï¼š<br/>
è®©è¯šå®çš„äººè¢«ç®—æ³•æ”¾å¤§ï¼Œè®©çœŸå®çš„è¿æ¥é‡ç°æ¸©åº¦ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ§­ äºŒã€AI åœ¨â€œä¿¡ä»»ç³»ç»Ÿâ€ä¸­çš„è§’è‰²å®šä½</h2>
<p>AI åœ¨æ„å»ºä¿¡ä»»çš„è¿‡ç¨‹ä¸­ï¼Œä¸æ˜¯è£åˆ¤ï¼Œè€Œæ˜¯<strong>ä¿¡å·æ”¾å¤§å™¨</strong>ã€‚<br/>
å®ƒçš„ä½¿å‘½ï¼Œä¸æ˜¯ä»£æ›¿äººåˆ¤æ–­ï¼Œè€Œæ˜¯ç”¨ç§‘å­¦çš„æ–¹å¼æ•æ‰ â€œè¡Œä¸ºä¸­çš„è¯šæ„â€ã€‚</p>
<h3 data-id="heading-2">ğŸ§  åˆ†ä¸‰å±‚ç»“æ„ç†è§£ AI ä¿¡ä»»ç³»ç»Ÿï¼š</h3>





























<table><thead><tr><th>å±‚çº§</th><th>åç§°</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹/æ¯”å–»</th></tr></thead><tbody><tr><td>ğŸŒ¾ æ„ŸçŸ¥å±‚</td><td>æ•°æ®é‡‡é›†</td><td>è¯†åˆ«è¯­è¨€ã€è¡¨æƒ…ã€è¡Œä¸ºç­‰ç¤¾äº¤ä¿¡å·</td><td>çœ‹ä¸€ä¸ªäººâ€œçœ¼ç¥æ˜¯å¦çœŸè¯šâ€</td></tr><tr><td>ğŸ—ï¸ ç†è§£å±‚</td><td>AI åˆ¤æ–­æ¨¡å‹</td><td>ç”¨ NLPã€æƒ…ç»ªè¯†åˆ«ã€ç¤¾äº¤æ¨¡å¼åˆ†ææ¥æ¨å¯¼ä¿¡ä»»å€¾å‘</td><td>å¿ƒç†å­¦å®¶çš„å¤§è„‘</td></tr><tr><td>ğŸ•Šï¸ å…±è¯†å±‚</td><td>åŒºå—é“¾æˆ–å¯ä¿¡å¹³å°</td><td>å°†ä¿¡ä»»å…³ç³»å›ºåŒ–ã€å…¬å¼€ã€å¯è¿½æº¯</td><td>æ³•å¾‹å…¬è¯äºº</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">ğŸ§© ä¸‰ã€æœªæ¥è½¯ä»¶çš„è“å›¾ï¼šProject â€œTrustBridgeâ€</h2>
<p>å‡è®¾æˆ‘ä»¬è®¾è®¡ä¸€æ¬¾æœªæ¥ç¤¾äº¤è½¯ä»¶ï¼š<strong>TrustBridgeï¼ˆä¿¡ä»»ä¹‹æ¡¥ï¼‰</strong> ã€‚<br/>
ç›®æ ‡æ˜¯å¸®åŠ©ç¤¾ç¾¤ã€ä¼ä¸šã€å°ä¼—ç¾¤ä½“ï¼Œé€šè¿‡ <strong>AI + Web3 ä¿¡ä»»åè®®</strong> æ„å»ºçœŸå®ç¤¾äº¤èµ„æœ¬ã€‚</p>
<hr/>
<h3 data-id="heading-4">ğŸŒ è½¯ä»¶æ ¸å¿ƒæ¶æ„ï¼š</h3>
<pre><code class="hljs">ç”¨æˆ·è¡Œä¸º â†’ AI åˆ†ææ¨¡å‹ â†’ ä¿¡ä»»æŒ‡æ•°ç”Ÿæˆ â†’ é“¾ä¸Šå­˜å‚¨ â†’ ç¤¾ä¼šå…±è¯†å±‚å±•ç¤º
</code></pre>
<hr/>
<h3 data-id="heading-5">ğŸš€ å…³é”®æ¨¡å—</h3>



































<table><thead><tr><th>æ¨¡å—</th><th>æŠ€æœ¯åŸºç¡€</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td><strong>AI ä¿¡ä»»å¼•æ“</strong></td><td>å¤§è¯­è¨€æ¨¡å‹ + æƒ…æ„Ÿè¯†åˆ«ç½‘ç»œ</td><td>è§£ææ–‡å­—ã€è¯­æ°”ã€è¡Œä¸ºç‰¹å¾ï¼Œç”Ÿæˆä¸ªä½“ä¿¡ä»»å‘é‡</td></tr><tr><td><strong>è¡Œä¸ºå›¾è°±ï¼ˆTrust Graphï¼‰</strong></td><td>å›¾æ•°æ®åº“ + ç¤¾äº¤ç½‘ç»œåˆ†æ</td><td>æ¢ç´¢äººä¸äººä¹‹é—´çš„ä¿¡ä»»å…³ç³»è·¯å¾„</td></tr><tr><td><strong>åˆ†å¸ƒå¼ä¿¡èª‰è´¦æœ¬ï¼ˆTrustChainï¼‰</strong></td><td>åŒºå—é“¾ / DAG æ¶æ„</td><td>ç¡®ä¿ä¿¡èª‰å¯éªŒè¯ä½†ä¸è¢«ä¼ªé€ </td></tr><tr><td><strong>æ•°å­—äººæ ¼ç³»ç»Ÿï¼ˆAI Personaï¼‰</strong></td><td>è‡ªç›‘ç£å­¦ä¹  + å¼ºåŒ–å­¦ä¹ </td><td>è®©æ¯ä¸ªç”¨æˆ·æœ‰ä¸€ä¸ªâ€œAI å½±å­â€ï¼Œéšæ—¶é—´æ¼”åŒ–å…¶ä¿¡ä»»ç”»åƒ</td></tr><tr><td><strong>ç¤¾ç¾¤æ²»ç†åè®®ï¼ˆDAOï¼‰</strong></td><td>æ™ºèƒ½åˆçº¦</td><td>ç¾¤ä½“åŸºäº AI æä¾›çš„ä¿¡ä»»è¯„åˆ†è¿›è¡Œå†³ç­–æŠ•ç¥¨</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-6">ğŸ’¬ ç®€å• JS æ¨¡æ‹Ÿï¼šä¿¡ä»»å›¾è°±ç³»ç»ŸåŸå‹</h3>
<p>ä¸‹é¢çš„ä¾‹å­ç”¨ JavaScript æ¨¡æ‹Ÿäº†ä¸€ä¸ªâ€œä¿¡ä»»æ¨èâ€é€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TrustBridge</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span> = {};
  }

  <span class="hljs-title function_">connect</span>(<span class="hljs-params">a, b, score</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>[a]) <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>[a] = {};
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>[a][b] = score;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ§© <span class="hljs-subst">${a}</span> å¯¹ <span class="hljs-subst">${b}</span> çš„ä¿¡ä»»å€¼è®¾ä¸º <span class="hljs-subst">${score}</span>`</span>);
  }

  <span class="hljs-title function_">recommend</span>(<span class="hljs-params">a</span>) {
    <span class="hljs-keyword">const</span> connections = <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>[a] || {};
    <span class="hljs-keyword">const</span> suggestions = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [person, score] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(connections)) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [friend, friendScore] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>[person] || {})) {
        <span class="hljs-keyword">if</span> (!connections[friend]) {
          suggestions.<span class="hljs-title function_">push</span>({ friend, <span class="hljs-attr">potential</span>: (score + friendScore) / <span class="hljs-number">2</span> });
        }
      }
    }
    <span class="hljs-keyword">return</span> suggestions.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b.<span class="hljs-property">potential</span> - a.<span class="hljs-property">potential</span>);
  }
}

<span class="hljs-keyword">const</span> system = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrustBridge</span>();
system.<span class="hljs-title function_">connect</span>(<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-number">0.9</span>);
system.<span class="hljs-title function_">connect</span>(<span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Charlie"</span>, <span class="hljs-number">0.7</span>);
system.<span class="hljs-title function_">connect</span>(<span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Diana"</span>, <span class="hljs-number">0.8</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸ”® ä¿¡ä»»æ¨èç»“æœ:"</span>, system.<span class="hljs-title function_">recommend</span>(<span class="hljs-string">"Alice"</span>));
</code></pre>
<p>âœ¨ è¾“å‡ºç»“æœï¼šç³»ç»Ÿä¼šçŒœæµ‹ Alice å¯èƒ½ä¿¡ä»» Bob çš„æœ‹å‹ Charlie å’Œ Dianaï¼Œå¹¶ç»™å‡ºé¢„æµ‹å¼ºåº¦ã€‚<br/>
ä¹Ÿå°±æ˜¯â€œç¤¾äº¤ä¿¡ä»»æ‰©æ•£â€çš„ç®€æ˜“ç®—æ³•é›å½¢ã€‚</p>
<hr/>
<h2 data-id="heading-7">ğŸ§  å››ã€AI çš„æ·±åº¦è§’è‰²ï¼šè¯»æ‡‚â€œè¡Œä¸ºä¸­çš„ä¿¡ä»»â€</h2>
<h3 data-id="heading-8">1. è‡ªç„¶è¯­è¨€ä¿¡ä»»å»ºæ¨¡</h3>
<p>AI èƒ½ç†è§£ä¸€ä¸ªäººçš„è¯è¯­æ¨¡å¼ï¼Œæå–å‡ºâ€œçœŸè¯šæŒ‡æ•°â€ã€‚<br/>
ä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¸»è§‚æ€§å¼ºçš„è¯­å¥ï¼ˆå¦‚â€œæˆ‘å¾ˆç¡®å®šâ€ï¼‰â†’ ç¨é™ä½ä¿¡ä»»ã€‚</li>
<li>å¸¦æœ‰è¯æ®çš„è¡¨è¾¾ï¼ˆå¦‚â€œæ ¹æ®æ•°æ®â€¦â€ï¼‰â†’ æå‡ä¿¡ä»»ã€‚</li>
</ul>
<p>AI å°†ç”¨è¿™äº›å¾®ç‰¹å¾ï¼Œç”Ÿæˆ<strong>ä¸ªäººä¿¡ä»»ç”»åƒå‘é‡</strong>ã€‚</p>
<h3 data-id="heading-9">2. è¡Œä¸ºæ¨¡å¼é¢„æµ‹</h3>
<p>é€šè¿‡é•¿æœŸå­¦ä¹ ç”¨æˆ·äº’åŠ¨ï¼ŒAI å¯è¯†åˆ«å¼‚å¸¸è¡Œä¸ºï¼š</p>
<ul>
<li>çªç„¶å¤§é‡æ·»åŠ å¥½å‹ï¼ŸğŸ¤–</li>
<li>é¢‘ç¹æ­£é¢ä½†æ— ç»†èŠ‚çš„ç•™è¨€ï¼Ÿå¯èƒ½æ˜¯â€œæƒ…æ„Ÿå†œåœºâ€è¡Œä¸ºã€‚</li>
</ul>
<p>è¿™äº›ç‰¹å¾è¢«æ¨¡å‹é‡åŒ–æˆä¿¡ä»»åº¦æ›²çº¿ï¼Œä¾›ç¤¾ç¾¤å‚è€ƒã€‚</p>
<hr/>
<h2 data-id="heading-10">ğŸ—ï¸ äº”ã€ä¿¡ä»»çš„ç¤¾ä¼šå±‚å®ç°ï¼šæ™ºèƒ½ä¿¡ä»»åˆçº¦</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä¸€ä¸ªç¤¾ç¾¤é¡¹ç›®å¯åŠ¨èµ„é‡‘ä¼—ç­¹æ—¶ï¼Œ<br/>
AI ä¼šæ ¹æ®å‚ä¸è€…å†å²ä¿¡èª‰ã€é¡¹ç›®é€æ˜åº¦ã€äº¤æµé¢‘ç‡ç­‰æŒ‡æ ‡ç”Ÿæˆä¸€ä¸ª<strong>ç¾¤ä½“ä¿¡ä»»æŒ‡æ•°</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">TrustContract</span> = {
  <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.8</span>,
  <span class="hljs-title function_">verify</span>(<span class="hljs-params">projectTrust, userTrust</span>) {
    <span class="hljs-keyword">return</span> (projectTrust + userTrust) / <span class="hljs-number">2</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">threshold</span>;
  },
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸ’¡æŠ•èµ„å¯è¡Œæ€§ï¼š"</span>, <span class="hljs-title class_">TrustContract</span>.<span class="hljs-title function_">verify</span>(<span class="hljs-number">0.9</span>, <span class="hljs-number">0.85</span>));
</code></pre>
<p>è¿™æ ·çš„æ™ºèƒ½åˆçº¦ä¼šè‡ªåŠ¨å†³å®šï¼š<br/>
èµ„é‡‘æ˜¯å¦è§£é”ã€å†³ç­–æ˜¯å¦é€šè¿‡ã€å…³ç³»æ˜¯å¦ç»§ç»­ã€‚</p>
<blockquote>
<p>ç¤¾ä¼šå¥‘çº¦ + æ™ºèƒ½ç®—æ³• = è‡ªæ¼”åŒ–çš„ä¿¡ä»»æ–‡æ˜ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-11">ğŸŒ± å…­ã€ä¼¦ç†ä¸äººæ–‡çš„æœ€åå±éšœ</h2>
<p>å½“ä¿¡ä»»è¢«ç¼–ç ï¼Œæˆ‘ä»¬å¿…é¡»è®¾ç«‹è¾¹ç•Œã€‚</p>
<ul>
<li>AI ä¸åº”å®šä¹‰â€œå¥½äººâ€ä¸â€œåäººâ€ï¼Œåªèƒ½è¾…åŠ©åˆ¤æ–­â€œå¯ä¿¡è¡Œä¸ºâ€ã€‚</li>
<li>æ‰€æœ‰ä¿¡ä»»æ•°æ®éƒ½åº”å¯æ’¤å›ã€å¯åŒ¿åã€‚</li>
<li>ç³»ç»Ÿéœ€å†…ç½®â€œèµå›æœºåˆ¶â€ï¼šä¿¡ä»»ä¸æ˜¯æ°¸ä¹…æ ‡ç­¾ï¼Œè€Œæ˜¯åŠ¨æ€æµåŠ¨çš„ä¿¡ç”¨ç”Ÿæ€ã€‚</li>
</ul>
<blockquote>
<p>å› ä¸ºäººç±»ä¹‹æ‰€ä»¥æˆä¸ºäººç±»ï¼Œ<br/>
æ°æ°åœ¨äºå¯ä»¥è¢«é‡æ–°ä¿¡ä»»ä¸€æ¬¡ã€‚ ğŸ’«</p>
</blockquote>
<hr/>
<h2 data-id="heading-12">ğŸª™ ä¸ƒã€ç»“è¯­ï¼šä»æœåŠ¡å™¨åˆ°çµé­‚çš„æ¡¥æ¢</h2>
<p>ç»“åˆ AI çš„ä¿¡ä»»ç³»ç»Ÿï¼Œä¸åªæ˜¯æŠ€æœ¯åˆ›æ–°ï¼Œ<br/>
å®ƒæ›´åƒæ˜¯æ–‡æ˜çš„ä¸€æ¬¡â€œé‡å¯â€ï¼š</p>
<ul>
<li>æˆ‘ä»¬ä¸å†ç›²ç›®ç‚¹èµï¼Œè€Œæ˜¯å½¼æ­¤èµ‹èƒ½ã€‚</li>
<li>æˆ‘ä»¬ä¸å†å‡­â€œçƒ­åº¦â€åˆ¤æ–­çœŸä¼ªï¼Œè€Œå‡­è¡Œä¸ºçš„é•¿æœŸä¸€è‡´æ€§ã€‚</li>
<li>æˆ‘ä»¬ä¸å†æ„å»ºâ€œç²‰ä¸åœˆâ€ï¼Œè€Œæ˜¯é‡å»ºâ€œä¿¡ä»»åœˆâ€ã€‚</li>
</ul>
<p>æœ€ç»ˆçš„æ„¿æ™¯æ˜¯ï¼š</p>
<blockquote>
<p><strong>è®©æ¯ä¸€æ¬¡å–„æ„ï¼Œéƒ½æœ‰å›å“ã€‚</strong><br/>
<strong>è®©æ¯ä¸€æ¬¡ä¿¡ä»»ï¼Œéƒ½è¢«è®¡ç®—ã€è¢«çè§†ã€è¢«æ°¸å­˜ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vibe Coding æç¤ºè¯ä¼˜åŒ–çš„å››ä¸ªå®æˆ˜ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7594093947809349666</link>    <guid>https://juejin.cn/post/7594093947809349666</guid>    <pubDate>2026-01-12T12:54:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594093947809349666" data-draft-id="7594093947809333282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vibe Coding æç¤ºè¯ä¼˜åŒ–çš„å››ä¸ªå®æˆ˜ç­–ç•¥"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-12T12:54:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Aå°ç å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/4248168660742797"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vibe Coding æç¤ºè¯ä¼˜åŒ–çš„å››ä¸ªå®æˆ˜ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4248168660742797/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Aå°ç å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:54:22.000Z" title="Mon Jan 12 2026 12:54:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vibe Coding æç¤ºè¯ä¼˜åŒ–çš„å››ä¸ªå®æˆ˜ç­–ç•¥</h2>
<p>å¤§å®¶å¥½æˆ‘æ˜¯å°ç å“¥ï¼Œå‰é¹…å‚ä¸‹å²—èµ›é“ä¸å‡ºåç ”å‘å·¥ç¨‹å¸ˆã€‚</p>
<p>å‰äº›å¤©æœ‰ç²‰ä¸å’Œæˆ‘è®¨è®ºè¯´ GLM 4.7 ä¸è¡Œï¼Œç°åœ¨éƒ½æ˜¯ç”¨Cluade Code Opus 4.5ã€‚å½“ç„¶è¡Œä¸šé¾™å¤´ï¼Œå·¥ç¨‹åŒ–å’Œä»£ç è´¨é‡ã€æ•ˆç‡éƒ½æ˜¯é£å‘æ ‡ä¸€æ ·çš„å­˜åœ¨ã€‚å¤§å®¶å½“ç„¶å–œæ¬¢ã€‚åœ¨AIå¤§æ¨¡å‹çˆ†å‘çš„ä»Šå¤©ï¼Œcluade ä¸æ˜¯å”¯ä¸€é€‰é¡¹ï¼ŒGPT-5.2ã€Gemini-3-Proã€Kimi-K2ã€GLm 4.7ã€Qwen3 Coderã€ç”šè‡³ DeepSeek-3.2 éƒ½æ˜¯ä¸é”™çš„æ¨¡å‹ã€‚é™¤äº†æ¨¡å‹çŸ¥å¦æ”¯æŒå¤šæ¨¡æ€å¤„ç†è¿™ä¸ªé¸¿æ²Ÿï¼Œåœ¨ç¼–ç ä¸Šæˆ‘ç†è§£æ­£å¸¸çš„éœ€æ±‚å¼€å‘æ¨¡å‹ä¹‹é—´å·®åˆ«æ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆå¤§ã€‚æˆ‘ç°åœ¨è¿˜æ²¡æœ‰é‡åˆ°ä¸€ä¸ªéœ€æ±‚è¦å†™å‡ ä¸ªå°æ—¶çš„æƒ…å†µï¼Œä¹Ÿæ²¡æœ‰é‡åˆ°é‚£ä¹ˆå¼ºçš„åœºæ™¯éœ€è¦ä»plan -&gt; deploy æ•´ä¸ªå®Œæ•´æµç¨‹çš„è¯‰æ±‚ã€‚å¤§éƒ¨åˆ†æ—¶å€™è‡ªå·±ä½œä¸ºä¸€ä¸ªPMæ¥è§„åˆ’ã€è®¾è®¡æ•´ä¸ªç ”å‘è¿‡ç¨‹ã€‚</p>
<p>ä¸‹é¢æ¥ç»™å¤§å®¶åˆ†äº«ä¸€äº›ï¼Œæˆ‘çš„ä¸€äº›ç†è§£æŠ€å·§ã€‚æ‰€è°“çš„ Vibe Codingï¼ˆæ°›å›´ç¼–ç ï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯å¼€å‘è€…å°†ç²¾åŠ›ä»â€œå¦‚ä½•å†™ä»£ç â€è½¬å‘â€œæƒ³è¦ä»€ä¹ˆç»“æœâ€çš„æ€ç»´è·ƒè¿ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæç¤ºè¯ï¼ˆPromptï¼‰ä¸å†æ˜¯ç®€å•çš„æŒ‡ä»¤ï¼Œè€Œæ˜¯ä¸€ä»½<strong>äº§å“éœ€æ±‚æ–‡æ¡£ + æ¶æ„è®¾è®¡ä¹¦</strong>ã€‚ä»¥ä¸‹æ˜¯ä¸€ä»½ç²¾å¿ƒç¼–å†™çš„ Vibe Coding æç¤ºè¯å®æˆ˜çš„æ”»ç•¥ï¼Œå¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹æ¬¢è¿å¤§å®¶ä¸€èµ·æ¥äº¤æµã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ Vibe Prompt çš„å¤§ä½“ç»“æ„ï¼ˆä¸‡èƒ½æ¨¡ç‰ˆï¼‰</h3>
<p>ä¸€ä»½é«˜è´¨é‡çš„ Vibe æç¤ºè¯åº”éµå¾ª <strong>"R-G-C-S"</strong> ç»“æ„ï¼Œç¡®ä¿ AI æ—¢æ‡‚ä½ çš„æ„å›¾ï¼Œåˆæ‡‚æŠ€æœ¯è¾¹ç•Œã€‚</p>






























<table><thead><tr><th>ç»„æˆéƒ¨åˆ†</th><th>æ ¸å¿ƒå†…å®¹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>è§’è‰²å®šä¹‰ (Role)</strong></td><td>æŒ‡å®š AI çš„èº«ä»½ã€ä¸“å®¶çº§åˆ«å’Œé£æ ¼ã€‚</td><td>â€œä½ æ˜¯ä¸€ä½ç²¾é€š React å’Œ Tailwind CSS çš„é«˜çº§å‰ç«¯ä¸“å®¶ã€‚â€ï¼Œå½“å‰å¯ç”¨ä½œä¸ºruleå†™åœ¨é¡¹ç›®é…ç½®é‡Œã€‚</td></tr><tr><td><strong>ä»»åŠ¡ç›®æ ‡ (Goal)</strong></td><td>æ˜ç¡®ä½ è¦æ„å»ºä»€ä¹ˆï¼Œä»¥åŠæœ€ç»ˆäº¤ä»˜çš„å½¢å¼ã€‚</td><td>â€œæ„å»ºä¸€ä¸ªå…·æœ‰ Apple é£æ ¼çš„æ¯›ç»ç’ƒæ•ˆæœéŸ³ä¹æ’­æ”¾å™¨ã€‚â€</td></tr><tr><td><strong>èƒŒæ™¯ä¸Šä¸‹æ–‡ (Context)</strong></td><td>ç°æœ‰çš„æŠ€æœ¯æ ˆã€è¿è¡Œç¯å¢ƒã€å·²æœ‰çš„æ–‡ä»¶ã€‚</td><td>â€œä½¿ç”¨ Next.js 14 App Routerï¼Œå·²ç»å®‰è£…äº† Lucide-react å›¾æ ‡åº“ã€‚â€</td></tr><tr><td><strong>è§„èŒƒçº¦æŸ (Spec/Constraints)</strong></td><td>å¿…é¡»éµå®ˆçš„ä»£ç é£æ ¼ã€é€»è¾‘çº¦æŸã€è§†è§‰è¦æ±‚ã€‚</td><td>â€œä¸è¦ä½¿ç”¨å¤–éƒ¨ UI åº“ï¼›å“åº”å¼è®¾è®¡ï¼›å¿…é¡»åŒ…å«æ·±è‰²æ¨¡å¼ã€‚â€</td></tr></tbody></table>
<p>ä¸€æ®µè¯æç¤ºè¯</p>
<pre><code class="hljs language-md" lang="md">ã€èƒŒæ™¯ã€‘å½“å‰é¡¹ç›®é¡µé¢æ–°å¼€å‘ä¸€ä¸ªåŠŸèƒ½å‡½æ•°ã€‚ã€ä¸Šä¸‹æ–‡ã€‘åœ¨<span class="hljs-code">`Video\index.tsx`</span> ä¸­ï¼Œæ–°å¢ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°åœ¨ç¬¬277è¡Œæ‰§è¡Œè°ƒç”¨ã€‚ã€çº¦æŸè¿‡ç¨‹ã€‘å¦‚æœ dataObj.data ä¸‹é¢çš„ videoStatusã€headStatusã€videoFrontStatus ã€videoBackStatusã€concatStatus å±æ€§å¦‚æœä»»æ„ä¸€ä¸ªç­‰äº 3 ï¼Œåˆ™åœæ­¢è½®è¯¢ï¼Œæ‰§è¡Œ tryonService.initTryonParams() å¦åˆ™ç»§ç»­è½®è¯¢
</code></pre>
<p>æ‰§è¡Œæ•ˆæœï¼š
<img src="https://fastly.jsdelivr.net/gh/bucketio/img13@main/2026/01/12/1768220856314-faca5aca-2125-4817-ae83-1a79715390a5.png" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">äºŒã€ æ ¸å¿ƒæ€è·¯ï¼šä»â€œè¿‡ç¨‹â€è½¬å‘â€œç»“æœâ€</h3>
<p>åœ¨å†™æç¤ºè¯æ—¶ï¼Œä½ éœ€è¦ä» <strong>â€œå‘½ä»¤å¼â€</strong> è½¬å‘ <strong>â€œå£°æ˜å¼â€</strong>ï¼š</p>
<p><img src="https://fastly.jsdelivr.net/gh/bucketio/img14@main/2026/01/12/1768221150610-fe089c6e-345c-4d32-85f4-bb61203ba331.png" alt="" loading="lazy"/></p>
<ol>
<li><strong>æè¿°â€œæ„Ÿè§‰â€è€Œéâ€œæ­¥éª¤â€</strong>ï¼šä¸è¦è¯´â€œåˆ›å»ºä¸€ä¸ª div å¹¶è®¾ç½®è¾¹è·â€ï¼Œè€Œè¦è¯´â€œåˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œæ„Ÿè§‰æ—¢ä¸“ä¸šåˆæç®€ï¼Œåƒ Linear æˆ– Stripe çš„å®˜ç½‘â€ã€‚</li>
<li><strong>æä¾›è§†è§‰åŸºå‡†</strong>ï¼šVibe Coding å¼ºè°ƒå®¡ç¾ã€‚åœ¨æç¤ºè¯ä¸­åŠ å…¥â€œæç®€ä¸»ä¹‰â€ã€â€œèµ›åšæœ‹å…‹â€ã€â€œBento Grid å¸ƒå±€â€ç­‰è¯æ±‡ï¼Œèƒ½å¿«é€Ÿæ‹‰è¿‘ AI ä¸ä½ è„‘ä¸­ç”»é¢çš„è·ç¦»ã€‚</li>
<li><strong>æ¨¡å—åŒ–æ€ç»´</strong>ï¼šå³ä½¿æ˜¯ Vibe Codingï¼Œä¹Ÿä¸å»ºè®®ä¸€æ¬¡æ€§å†™ 5000 è¡Œä»£ç ã€‚å°†å¤§éœ€æ±‚æ‹†åˆ†æˆâ€œæ ¸å¿ƒäº¤äº’â€ã€â€œæ•°æ®é€»è¾‘â€ã€â€œè§†è§‰æ‰“ç£¨â€ä¸‰ä¸ªé˜¶æ®µç¼–å†™æç¤ºè¯ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€ æç¤ºè¯çš„ä¼˜åŒ–æŠ€å·§</h3>
<p>å½“ AI ç”Ÿæˆçš„ç»“æœâ€œå·®ç‚¹æ„æ€â€æ—¶ï¼Œå°è¯•ä»¥ä¸‹ä¼˜åŒ–æ‰‹æ®µï¼š
<img src="https://fastly.jsdelivr.net/gh/bucketio/img6@main/2026/01/12/1768219924752-b6891e73-72cc-4d84-9531-ae80085ff0ce.png" alt="åˆ†ç‚¹è¯´æ˜" loading="lazy"/></p>
<ul>
<li><strong>æ€ç»´é“¾è§¦å‘ (Chain of Thought)</strong>ï¼šåœ¨æç¤ºè¯æœ«å°¾åŠ ä¸Š <code>â€œåœ¨å¼€å§‹ç¼–å†™ä»£ç å‰ï¼Œè¯·å…ˆç®€è¦è¯´æ˜ä½ çš„å®ç°æ€è·¯â€</code>ã€‚è¿™èƒ½å¼ºåˆ¶ AI è¿›è¡Œé€»è¾‘æ¨æ¼”ï¼Œå‡å°‘ä½çº§é”™è¯¯ã€‚</li>
<li><strong>ç¤ºä¾‹æ³¨å…¥ (Few-Shot)</strong>ï¼šå¦‚æœä½ æœ‰å¿ƒä»ªçš„ä»£ç ç‰‡æ®µæˆ–æ ·å¼ï¼Œç›´æ¥è´´ç»™å®ƒï¼š<code>â€œè¯·å‚è€ƒè¿™ä¸ªä»£ç çš„äº¤äº’é£æ ¼ï¼š[ç²˜è´´ä»£ç ]â€</code>ã€‚</li>
<li><strong>è´Ÿå‘çº¦æŸ (Negative Prompting)</strong>ï¼šæ˜ç¡®å‘Šè¯‰å®ƒ<strong>ä¸è¦</strong>åšä»€ä¹ˆã€‚ä¾‹å¦‚ï¼š<code>â€œä¸è¦ä½¿ç”¨ç±»ç»„ä»¶â€ã€â€œä¸è¦æ·»åŠ å¤šä½™çš„æ³¨é‡Šâ€ã€â€œä¸è¦å¼•å…¥ç¬¬ä¸‰æ–¹çŠ¶æ€ç®¡ç†åº“â€</code>ã€‚</li>
<li><strong>å¼•å…¥åé¦ˆç¯</strong>ï¼šå‘Šè¯‰ AIï¼š<code>â€œå¦‚æœä½ å¯¹éœ€æ±‚æœ‰ä»»ä½•ä¸ç¡®å®šçš„åœ°æ–¹ï¼Œè¯·åœ¨ç¼–å†™ä»£ç å‰å…ˆè¯¢é—®æˆ‘ã€‚â€</code></li>
</ul>
<hr/>
<h3 data-id="heading-4">å››ã€ å®¡æŸ¥ä¸æŒç»­è¿­ä»£</h3>
<p>Vibe Coding å¹¶ä¸æ˜¯â€œä¸€é”¤å­ä¹°å–â€ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>ä¸æ–­å¯¹è¯ã€ä¸æ–­çº å</strong>çš„è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-5">1. è‡ªåŠ¨åŒ–å®¡æŸ¥</h4>
<ul>
<li><strong>è¿è¡ŒæŠ¥é”™ç›´æ¥å›ä¼ </strong>ï¼šé‡åˆ°æŠ¥é”™ä¸è¦æ…Œï¼Œç›´æ¥æŠŠé”™è¯¯æ—¥å¿—ä¸¢ç»™ AIï¼Œé—®å®ƒï¼š<code>â€œè¿™æ˜¯ç›®å‰çš„æŠ¥é”™ï¼Œè¯·åˆ†ææ ¹æœ¬åŸå› å¹¶ä¿®å¤ã€‚â€</code></li>
<li><strong>ä»£ç  Review æç¤ºè¯</strong>ï¼šåœ¨åŠŸèƒ½å®ç°åï¼Œè¿½åŠ ä¸€ä¸ªæç¤ºè¯ï¼š<code>â€œä»æ€§èƒ½ã€å¯è¯»æ€§å’Œå®‰å…¨æ€§è§’åº¦æ£€æŸ¥ä¸Šè¿°ä»£ç ï¼Œå¹¶ç»™å‡ºä¼˜åŒ–æ–¹æ¡ˆã€‚â€</code></li>
</ul>
<p><img src="https://fastly.jsdelivr.net/gh/bucketio/img6@main/2026/01/12/1768221063161-af6adf9b-3d85-4033-96c2-7f471a86bd95.png" alt="ç»™å®šè·‘é”™ä¿¡æ¯ï¼Œåˆ†æé”™è¯¯" loading="lazy"/></p>
<h4 data-id="heading-6">2. æŒç»­è¿­ä»£è·¯å¾„</h4>
<ul>
<li><strong>ç¬¬ä¸€æ­¥ï¼šåŸå‹ (The Soul)</strong> â€”â€” åªå…³æ³¨æ ¸å¿ƒåŠŸèƒ½æ˜¯å¦è·‘é€šã€‚</li>
<li><strong>ç¬¬äºŒæ­¥ï¼šä¿®é¥° (The Body)</strong> â€”â€” è°ƒæ•´ UIã€åŠ¨æ•ˆã€é€‚é…æ€§ã€‚</li>
<li><strong>ç¬¬ä¸‰æ­¥ï¼šé‡æ„ (The Spirit)</strong> â€”â€” è®© AI ä¼˜åŒ–å†—ä½™ä»£ç ï¼Œæå–å…¬å…±ç»„ä»¶ã€‚</li>
</ul>
<p><img src="https://fastly.jsdelivr.net/gh/bucketio/img1@main/2026/01/12/1768221226837-0e916354-19ec-48fb-8c21-565237058055.png" alt="" loading="lazy"/></p>
<blockquote>
<p>å¦‚æœ AI é™·å…¥äº†é€»è¾‘æ­»å¾ªç¯ï¼ˆåå¤ä¿®ä¸å¥½ä¸€ä¸ª Bugï¼‰ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯<strong>å¼€å¯ä¸€ä¸ªå…¨æ–°çš„å¯¹è¯çª—å£</strong>ï¼Œå¹¶å°†å½“å‰æœ€æ–°çš„ä»£ç å’Œæ˜ç¡®çš„å•ä¸€ç›®æ ‡é‡æ–°å–‚ç»™å®ƒã€‚</p>
</blockquote>
<p>å¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜å¯ç”¨æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Œå¯ç”¨ç•™è¨€è®¨è®ºã€‚ä¹Ÿå¯ä»¥å…³æ³¨å…¬ä¼—å· â€œAå°ç å“¥â€å‘æˆ‘å’¨è¯¢ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Google DeepMind ï¼šRAG å·²æ­»ï¼Œæ— é™ä¸Šä¸‹æ–‡æ˜¯ä¼ªå‘½é¢˜ï¼ŸRLM å¦‚ä½•ç”¨â€œä»£ç æ€ç»´â€ç»ˆç»“ AI çš„è®°å¿†ç„¦è™‘]]></title>    <link>https://juejin.cn/post/7594302398687330358</link>    <guid>https://juejin.cn/post/7594302398687330358</guid>    <pubDate>2026-01-13T03:00:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594302398687330358" data-draft-id="7594389431835082793" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Google DeepMind ï¼šRAG å·²æ­»ï¼Œæ— é™ä¸Šä¸‹æ–‡æ˜¯ä¼ªå‘½é¢˜ï¼ŸRLM å¦‚ä½•ç”¨â€œä»£ç æ€ç»´â€ç»ˆç»“ AI çš„è®°å¿†ç„¦è™‘"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Flutter"/> <meta itemprop="datePublished" content="2026-01-13T03:00:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Google DeepMind ï¼šRAG å·²æ­»ï¼Œæ— é™ä¸Šä¸‹æ–‡æ˜¯ä¼ªå‘½é¢˜ï¼ŸRLM å¦‚ä½•ç”¨â€œä»£ç æ€ç»´â€ç»ˆç»“ AI çš„è®°å¿†ç„¦è™‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T03:00:14.000Z" title="Tue Jan 13 2026 03:00:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸ä¹…å‰ DeepMind å‘å¸ƒäº†ä¸€ç¯‡è®ºæ–‡ï¼Œå†…å®¹ç®€å•è¯´æ˜¯ï¼š <strong>RLMï¼ˆRecursive Language Modelsï¼‰ ä¸æ˜¯è®©æ¨¡å‹â€œç¡¬è®°â€æ‰€æœ‰å†…å®¹ï¼Œè€Œæ˜¯èµ‹äºˆæ¨¡å‹åƒç¨‹åºå‘˜ä¸€æ ·æ“ä½œæ•°æ®çš„èƒ½åŠ›</strong>ï¼Œè®©æ¨¡å‹åœ¨<strong>ä¸æŠŠè¶…é•¿ prompt ç›´æ¥å¡è¿› Transformer</strong> çš„æƒ…å†µä¸‹ï¼Œä»ç„¶èƒ½å®Œæˆéœ€è¦å¯†é›†è®¿é—®é•¿æ–‡æœ¬çš„ä»»åŠ¡ã€‚</p>
<p>ä¹Ÿå°±æ˜¯å®ƒä¸å†è¯•å›¾å°†æ‰€æœ‰å†…å®¹å¡è¿›æœ‰é™çš„â€œå¤§è„‘â€ï¼ˆä¸Šä¸‹æ–‡çª—å£ï¼‰ï¼Œè€Œæ˜¯å°†é•¿æ–‡æœ¬è§†ä¸ºä¸€ä¸ªâ€œæ•°æ®åº“â€ï¼Œæ¨¡å‹å¯ä»¥é€šè¿‡ç¼–å†™ä»£ç ï¼ˆPython REPLï¼‰æ¥é€’å½’åœ°æ£€ç´¢ã€åˆ‡ç‰‡å’Œé˜…è¯»å®ƒéœ€è¦çš„éƒ¨åˆ†ã€‚</p>
<blockquote>
<p>åœ¨è¿™é‡Œï¼ŒRLM å±äº<strong>é€šç”¨æ¨ç†èŒƒå¼</strong> ã€‚</p>
</blockquote>
<p>åœ¨ç›®å‰ï¼Œå„å¤§æ¨¡å‹å‚å•†éƒ½åœ¨æâ€œå†›å¤‡ç«èµ›â€ï¼Œ100ä¸‡ã€1000ä¸‡ token çš„ä¸Šä¸‹æ–‡çª—å£æ•°æ®ç†è®ºä¸Šçœ‹ç€å¾ˆç¾å¥½ï¼Œä½†æ˜¯åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œç›¸ä¿¡å¤§å®¶æœ‰æ‰€ä½“ä¼šï¼Œå½“ä¸Šä¸‹æ–‡è¶…è¿‡ä¸€å®šé•¿åº¦ï¼ˆ100kï¼‰åï¼Œæ¨¡å‹çš„æ€§èƒ½ä¼šæ€¥å‰§ä¸‹é™ï¼Œå› ä¸ºæ¨¡å‹å¹¶ä¸æ˜¯çœŸçš„â€œè®°ä½â€äº† 1000ä¸‡å­—ï¼Œå®ƒåªæ˜¯æŠŠå®ƒä»¬å¡è¿›å»äº†ï¼Œ<strong>ä½†é€šè¿‡æ³¨æ„åŠ›æœºåˆ¶åœ¨æ‰¾å›ä¿¡æ¯æ—¶ä¼šå˜å¾—æ··ä¹±å’Œé—å¿˜</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e935c79f6f04927bb144185398b6132~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878014&amp;x-signature=23DWc%2FUWBE7sSRYC%2Bki%2FucpUmXM%3D" alt="" loading="lazy"/></p>
<p>æ‰€ä»¥ RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ) æ˜¯ç›®å‰çš„ä¸»æµè¡¥ä¸æ–¹æ¡ˆï¼Œå®ƒæŠŠé•¿æ–‡æ¡£åˆ‡æˆå°å—ï¼ˆChunksï¼‰å­˜å…¥æ•°æ®åº“ï¼Œå½“ç”¨æˆ·æé—®æ—¶ï¼Œç³»ç»Ÿæ£€ç´¢ç›¸å…³çš„ç¢ç‰‡å¡ç»™æ¨¡å‹ã€‚</p>
<p>ä½†æ˜¯è¿™ç§åœºæ™¯ä¸‹ï¼Œ<strong>RAG å®¹æ˜“ä¸¢å¤±å…¨å±€ä¸Šä¸‹æ–‡</strong> ï¼Œå¦‚æœä¸€ä¸ªä»»åŠ¡éœ€è¦åŒæ—¶ç†è§£æ–‡æ¡£çš„ç¬¬ 1 ç« å’Œç¬¬ 10 ç« çš„å…³è”ï¼Œæˆ–è€…éœ€è¦è¿›è¡Œè·¨æ®µè½çš„å¤æ‚æ¨ç†ï¼ŒRAG å¾ˆå®¹æ˜“å‡ºç°å¤±è´¥ï¼Œå› ä¸ºå®ƒåªèƒ½çœ‹åˆ°ç¢ç‰‡ï¼Œçœ‹ä¸åˆ°å…¨è²Œï¼ˆâ€œLost Contextâ€ï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0b9ec1da8764288b200c2b70295747a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878014&amp;x-signature=UwsZLsOFqu8%2BX0F2r01OrSehS6c%3D" alt="" loading="lazy"/></p>
<p>è€Œå¯¹äº RLM è€Œè¨€ï¼Œå®ƒä¸å†æ˜¯ä¸€ä¸ªç¢ç‰‡â€œé˜…è¯»è€…â€ï¼Œè€Œæ˜¯å˜æˆäº†ä¸€ä¸ªâ€œæ“ä½œå¯¹è±¡â€ï¼Œæ¨¡å‹ä¸ç›´æ¥é˜…è¯» 1000ä¸‡ token çš„æ–‡æœ¬ï¼Œè€Œæ˜¯å°†æ•´ä¸ªé•¿æ–‡æœ¬è¢«ä½œä¸ºä¸€ä¸ª<strong>å˜é‡ (String Variable)</strong> åŠ è½½åˆ° Python äº¤äº’å¼ç¯å¢ƒï¼ˆREPLï¼‰ä¸­ï¼Œä¹‹åè¿›è¡Œé€’å½’å’Œä»£ç æ‰§è¡Œï¼š</p>
<ul>
<li>æ¨¡å‹å¯ä»¥ç¼–å†™ä»£ç æ¥å¤„ç†æ–‡æœ¬ï¼Œæ¯”å¦‚å†™ <code>grep</code> (æœç´¢å…³é”®è¯)ï¼Œ<code>slice</code> (åˆ‡ç‰‡è¯»å–æŸä¸€æ®µ)ï¼Œæˆ–è€…ä½¿ç”¨æ­£åˆ™ (Regex) æ¥å®šä½ä¿¡æ¯</li>
<li>å¦‚æœæ¨¡å‹åˆ‡ç‰‡å‡ºäº†ä¸€æ®µå†…å®¹ï¼Œå‘ç°é‡Œé¢è¿˜æœ‰éœ€è¦æ·±å…¥æŒ–æ˜çš„ä¿¡æ¯ï¼Œå®ƒä¼šè°ƒç”¨è‡ªèº«ï¼ˆRecursive Callï¼‰æ¥å¤„ç†é‚£ä¸ªç‰¹å®šå†…å®¹ï¼Œä¹Ÿå°±æ˜¯é€’å½’</li>
</ul>
<blockquote>
<p>ç®€å•æ¥è¯´ï¼Œæ•´ä¸ªæµç¨‹å°±æ˜¯ï¼šæé—® -&gt; æ¨¡å‹å†™ä»£ç æœç´¢ -&gt; æ‰¾åˆ°ç‰‡æ®µ -&gt; (å¦‚æœéœ€è¦) é€’å½’è°ƒç”¨è‡ªèº«åˆ†æç‰‡æ®µ -&gt; æ±‡æ€»ç­”æ¡ˆã€‚</p>
</blockquote>
<p>é‚£è¯´å®ƒæ¯” RAG å¥½çš„åœ°æ–¹æ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥ç®€å•æ¥è¯´ï¼Œå®ƒä¼šåƒäººç±»ä¸€æ ·é˜…è¯»ï¼š</p>
<ul>
<li>å½“äººç±»éœ€è¦é˜…è¯»ä¸€æœ¬å·¨åšçš„ä¹¦ï¼Œæ¯”å¦‚å„ç§å­—å…¸ï¼Œè‚¯å®šä¸ä¼šä»å¤´åˆ°å°¾èƒŒä¸‹æ¥ï¼Œç›¸åè‚¯å®šä¼šç”¨ç›®å½•ã€ç”¨ <code>Ctrl+F</code>ã€åšç¬”è®°ã€è·³è¯»ç­‰æ–¹å¼</li>
<li>RLM çš„å­˜åœ¨å°±æ˜¯è®© AI è¿™ä¹ˆåšï¼Œ<strong>å®ƒä¸æ˜¯é â€œæ³¨æ„åŠ›æœºåˆ¶â€å»æ­»è®°ç¡¬èƒŒ</strong>ï¼Œè€Œæ˜¯é â€œé€»è¾‘å¯¼èˆªâ€å»éšæ—¶è°ƒå–å®ƒéœ€è¦çš„ä»»ä½•ç»†èŠ‚</li>
</ul>
<p>å› ä¸ºæ˜¯é€šè¿‡ä»£ç ç²¾ç¡®æŸ¥æ‰¾å’Œè¯»å–ï¼Œæ‰€ä»¥åªè¦æ–‡æœ¬åœ¨é‚£å„¿ï¼Œå®ƒå°±æ°¸è¿œä¸ä¼šâ€œé—å¿˜â€ï¼Œè¿™å°±æ˜¯ RLM é‡Œæ‰€è°“çš„â€œå®Œç¾è®°å¿†â€ï¼Œåœ¨è¿™ä¸€ä¸ªç¨‹åº¦å»ç†è§£ï¼Œ<strong>RLM æ˜¯ä¸»åŠ¨çš„ï¼Œæ¨¡å‹è‡ªå·±å†³å®šè¦å»è¯»å“ªä¸€æ®µï¼Œè‡ªå·±éªŒè¯æ‰¾å¾—å¯¹ä¸å¯¹ï¼Œå¦‚æœä¸é€šè¿‡ï¼Œå®ƒä¼šä¿®æ­£æœç´¢ç­–ç•¥</strong>ã€‚</p>
<p>æ¯”å¦‚ï¼Œè®ºæ–‡é‡Œæä¾›çš„æ•°æ®:</p>
<ul>
<li>åœ¨ OOLONG-Pairs å¯†é›†æ¨ç†ä»»åŠ¡ä¸Šï¼Œä¼ ç»Ÿ RAG å‡†ç¡®ç‡åªæœ‰ 0.04%ï¼Œè€Œ RLM é«˜è¾¾ 58%</li>
<li>åœ¨å¤šæ–‡æ¡£ç ”ç©¶ BrowseComp+ ä¸Šï¼ŒRLM ä» 0% æå‡åˆ°äº† 91%</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/accc27325aae453985e24ce2fa976685~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878014&amp;x-signature=JqgvHm8M2ovZg95jzKrOUH7EDWM%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>RLM çš„åšæ³•æ˜¯ï¼šæŠŠå¯†é›†è¯­ä¹‰ç†è§£åˆ†æ‘Šç»™å¤šä¸ªå­è°ƒç”¨ã€æ¯æ¬¡å­è°ƒç”¨åªçœ‹è¾ƒå°ç‰‡æ®µï¼Œå‡å°‘åœ¨è¶…é•¿ä¸Šä¸‹æ–‡é‡Œâ€œè¶Šçœ‹è¶Šç³Šâ€ã€‚</p>
</blockquote>
<p>è€Œè¿™ç¯‡è®ºæ–‡æœ€æœ‰æ„æ€çš„å‘ç°ä¹‹ä¸€æ˜¯ï¼š<strong>ä¸éœ€è¦ä¸“é—¨è®­ç»ƒ</strong> ï¼Œç ”ç©¶äººå‘˜å¹¶æ²¡æœ‰é‡æ–°è®­ç»ƒ GPT-5 æˆ– Qwen3-Coder ï¼Œä»–ä»¬åªæ˜¯ç»™äº†ç°æœ‰çš„æ¨¡å‹ä¸€ä¸ª Python ç¯å¢ƒå’Œé€’å½’è®¿é—®æƒé™ï¼Œ ç„¶åæ¨¡å‹å°±è‡ªå·±å­¦ä¼šäº†ç­–ç•¥ï¼Œå®ƒä»¬å¼€å§‹è‡ªå·±å†™æ­£åˆ™è¡¨è¾¾å¼æ¥è¿‡æ»¤ä¸Šä¸‹æ–‡ï¼Œè‡ªå·±æŠŠå¤§ä»»åŠ¡æ‹†è§£æˆé€’å½’çš„å°ä»»åŠ¡ï¼Œ<strong>è¿™æ˜¯ä¸€ç§é›¶æ ·æœ¬ï¼ˆZero-shotï¼‰çš„ç­–ç•¥æ¶Œç°</strong>ï¼Œæ¨¡å‹è‡ªå·±â€œæ‚Ÿâ€å‡ºäº†ç­–ç•¥ï¼š</p>
<ul>
<li>å®ƒè‡ªå·±å†³å®šï¼šâ€œè¿™æ®µæ–‡æœ¬å¤ªé•¿ï¼Œæˆ‘ä¸èƒ½ç›´æ¥è¯»ï¼Œæˆ‘è¦å…ˆç”¨æ­£åˆ™è¿‡æ»¤ä¸€ä¸‹ã€‚â€</li>
<li>å®ƒè‡ªå·±å­¦ä¼šäº†ï¼šâ€œæˆ‘ä¸ç¡®å®šè¿™ä¸ªç­”æ¡ˆå¯¹ä¸å¯¹ï¼Œæˆ‘è¦å†™ä¸€æ®µä»£ç å»åŸæ–‡é‡Œå†éªŒè¯ä¸€æ¬¡ã€‚â€</li>
</ul>
<blockquote>
<p>è¿™æ„å‘³ç€<strong>é«˜æ™ºå•†æ¨¡å‹å¤©ç”Ÿå…·å¤‡å¤„ç†æ— é™ä¿¡æ¯çš„èƒ½åŠ›</strong>ï¼Œåªæ˜¯ä¹‹å‰çš„äº¤äº’ç•Œé¢ï¼ˆChat Interfaceï¼‰é™åˆ¶äº†å®ƒä»¬ã€‚</p>
</blockquote>
<p>è®ºæ–‡é‡Œæåˆ°ï¼ŒRLM èƒ½å¤„ç†<strong>è¶…è¿‡æ¨¡å‹çª—å£ä¸¤ä¸ªæ•°é‡çº§</strong>çš„è¾“å…¥ï¼Œå¹¶ä¸”åœ¨å¤šä¸ªé•¿ä¸Šä¸‹æ–‡ä»»åŠ¡ä¸Šæ¯” base LLM å’Œå¸¸è§è„šæ‰‹æ¶æ˜æ˜¾æ›´å¼ºï¼Œä¸”å•æ¬¡æŸ¥è¯¢æˆæœ¬å¯ç›¸å½“ç”šè‡³æ›´ä½ï¼Œä¹Ÿå°±æ˜¯ï¼š</p>
<blockquote>
<p>RLM åœ¨â€œé•¿+å¯†â€çš„ä»»åŠ¡ä¸Šä¼˜åŠ¿æ˜æ˜¾ï¼Œå¹¶ä¸”æŠŠå¤„ç†é•¿åº¦æ¨åˆ° 10M+ tokens ã€‚</p>
</blockquote>
<p>ä»è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œ è™½ç„¶é€’å½’çœ‹èµ·æ¥æ­¥éª¤å¤šï¼Œä½†å®é™…ä¸Šæ¯”æŠŠ 1000ä¸‡ token ä¸€æ¬¡æ€§å¡è¿›ä¸Šä¸‹æ–‡çª—å£è¦ä¾¿å®œï¼Œå› ä¸ºæ¨¡å‹åªè¯»å–å®ƒé€šè¿‡ä»£ç ç­›é€‰å‡ºçš„é‚£å‡ åƒä¸ªå…³é”® tokenï¼Œè€Œä¸æ˜¯ä¸ºå¤„ç†æ•°ç™¾ä¸‡æ— å…³ token æ”¯ä»˜é¢å¤–è´¹ç”¨ï¼Œæ›´å…·ä½“çš„åœºæ™¯ä¾‹å¦‚ï¼š</p>
<ul>
<li>åˆ†ææ•´ä¸ªä»£ç åº“ï¼ˆä¸å†å—é™äºçª—å£ï¼‰</li>
<li>ç†è§£å¹¶ç»¼åˆæ•°ç™¾ç¯‡ç ”ç©¶è®ºæ–‡</li>
<li>å¤„ç†é•¿è¾¾å¤šå¹´çš„åŒ»ç–—è®°å½•</li>
</ul>
<p>å½“ç„¶ä¹Ÿä¸ä¸æ˜¯æ²¡æœ‰é™åˆ¶ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><strong>åŒä¸€å¥—ç³»ç»Ÿæç¤ºè¯è·¨æ¨¡å‹ä¼šå‡ºé—®é¢˜</strong>ï¼šQwen3-Coder æ›´â€œæ”¾é£â€åœ°æ»¥ç”¨å­è°ƒç”¨ï¼Œæ‰€ä»¥ä»–ä»¬ä¸å¾—ä¸å•ç‹¬åŠ ä¸€å¥â€œå°‘ç”¨ sub-callsã€å°½é‡ batchâ€</li>
<li><strong>æ¨¡å‹ä»£ç èƒ½åŠ›ä¸è¶³ä¼šç›´æ¥å´©</strong>ï¼šå› ä¸ºè¿™ä¸ªèŒƒå¼å¼ºä¾èµ–â€œå†™ä»£ç æ“ä½œ contextâ€</li>
<li><strong>è¾“å‡º token/æ€è€ƒ token ä¸å¤Ÿä¼šè·‘ä¸å®Œ</strong>ï¼šé•¿è½¨è¿¹ + å¤šè½® REPL éœ€è¦è¶³å¤Ÿè¾“å‡ºä¸Šé™</li>
<li><strong>æ²¡æœ‰å¼‚æ­¥å­è°ƒç”¨ä¼šå¾ˆæ…¢</strong>ï¼šä»–ä»¬å®ç°æ˜¯ blocking/sequentialï¼Œå¯¼è‡´è¿è¡Œæ—¶é—´é•¿ï¼Œä½œè€…è®¤ä¸ºå·¥ç¨‹ä¸Šå¯è§£å†³</li>
<li><strong>ç»ˆæ­¢ä¿¡å·ï¼ˆFINALï¼‰å¾ˆè„†å¼±</strong>ï¼šæ¨¡å‹ä¼šæŠŠè®¡åˆ’å½“æœ€ç»ˆç­”æ¡ˆã€æˆ– FINAL_VAR ä¸è¢«æ¥å—ç­‰ã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯ï¼ŒRLM ä½œä¸ºâ€œçº¯æç¤ºè¯+ç³»ç»Ÿç¼–æ’â€çš„æ¨ç†èŒƒå¼å·²ç»æœ‰æ•ˆï¼Œä½†è¦å˜æˆç¨³å®šäº§å“ï¼Œéœ€è¦ï¼š</p>
<ul>
<li>æ›´å¼ºçš„æ‰§è¡Œ/å¹¶å‘å·¥ç¨‹</li>
<li>æ›´é’ˆå¯¹æ€§çš„è®­ç»ƒæˆ–å¯¹é½</li>
</ul>
<blockquote>
<p>è®ºæ–‡ä¹Ÿåœ¨é™„å½•æåˆ°ï¼Œä»–ä»¬å®ç° sub-calls æ˜¯ä¸²è¡Œ blocking çš„ï¼Œä¹Ÿæ²¡åšâ€œé¢„ç®—æ§åˆ¶/æ‰¹é‡/ç¼“å­˜â€ä¼˜åŒ–ï¼Œè€Œä¸”æ¨¡å‹æœ‰æ—¶ä¼šâ€œè¿‡åº¦éªŒè¯â€ï¼Œå¯¼è‡´å¤šä½™å­è°ƒç”¨ã€‚</p>
</blockquote>
<p>è¿™æ ·æ‰èƒ½è®©æ¨¡å‹å­¦ä¼šåœ¨è¿™ç§åè®®ä¸‹æ›´å¥½å·¥ä½œï¼Œå¦å¤–è®ºæ–‡æåˆ°ï¼Œ<strong>åœ¨è¶…é«˜éš¾åº¦ç»„åˆä»»åŠ¡ RLMæ›´è´µï¼Œä½†æ€§ä»·æ¯”é«˜</strong>ï¼Œå› ä¸ºè™½ç„¶å¼€é”€å¤§äº†ï¼Œä½†æ˜¯å‡†ç¡®ç‡å¯ä»¥æé«˜ä¸å°‘ï¼Œç›®å‰çœ‹æ¥ï¼š</p>
<blockquote>
<p>å½“ä»»åŠ¡éœ€è¦å¯†é›†è®¿é—®é•¿æ–‡æœ¬ï¼Œå¹¶ä¸”è¯æ®åˆ†æ•£åœ¨å¾ˆå¤šæ®µè½/æ–‡æ¡£æ—¶ï¼ŒRLM å¯ä»¥åšåˆ°æ›´å‡†æ›´çœã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1266feba351041f2b1d8f6364bedddf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768878014&amp;x-signature=JvgavNkH%2Bs8z6V2g6pe8AfnSbL4%3D" alt="" loading="lazy"/></p>
<p>æ‰€ä»¥ä¹Ÿè®¸æ¥ä¸‹æ¥ï¼Œ<strong>é—®é¢˜ä¸åœ¨äºæˆ‘ä»¬å¦‚ä½•æŠŠæ›´å¤š token å¡è¿›çª—å£ï¼Œè€Œåœ¨äºæˆ‘ä»¬å¦‚ä½•è®© AI æ™ºèƒ½åœ°å¯¼èˆªæ— é™çš„ä¿¡æ¯</strong> ï¼Œè¿™ä¹Ÿæ ‡å¿—ç€æˆ–è€…â€œå¤§ä¸Šä¸‹æ–‡çª—å£â€æ—¶ä»£å³å°†ç»ˆç»“ï¼Œä¹Ÿè®¸ AI ä¸å†éœ€è¦æ›´å¤§çš„çª—å£ï¼ŒAI éœ€è¦çš„æ˜¯æ›´èªæ˜çš„â€œå¯¼èˆªå‘˜â€</p>
<h2 data-id="heading-0">å‚è€ƒé“¾æ¥</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fhtml%2F2512.24601v1" target="_blank" title="https://arxiv.org/html/2512.24601v1" ref="nofollow noopener noreferrer">arxiv.org/html/2512.2â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºAIè£…ä¸Šâ€œçº åâ€æ€ç»´é“¾ï¼Œå¼€æºæ¡†æ¶Robust-R1æ˜¾è‘—æå‡å¤šæ¨¡æ€å¤§æ¨¡å‹æŠ—é€€åŒ–èƒ½åŠ›]]></title>    <link>https://juejin.cn/post/7594351060614119443</link>    <guid>https://juejin.cn/post/7594351060614119443</guid>    <pubDate>2026-01-13T02:59:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594351060614119443" data-draft-id="7594350054091800618" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºAIè£…ä¸Šâ€œçº åâ€æ€ç»´é“¾ï¼Œå¼€æºæ¡†æ¶Robust-R1æ˜¾è‘—æå‡å¤šæ¨¡æ€å¤§æ¨¡å‹æŠ—é€€åŒ–èƒ½åŠ›"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-13T02:59:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºAIè£…ä¸Šâ€œçº åâ€æ€ç»´é“¾ï¼Œå¼€æºæ¡†æ¶Robust-R1æ˜¾è‘—æå‡å¤šæ¨¡æ€å¤§æ¨¡å‹æŠ—é€€åŒ–èƒ½åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:59:36.000Z" title="Tue Jan 13 2026 02:59:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚ä»Šçš„å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ï¼ˆMLLMsï¼‰å·²ç»å±•ç°å‡ºä»¤äººæƒŠå¹çš„å›¾åƒç†è§£å’Œæ¨ç†èƒ½åŠ›ï¼Œèƒ½å¤Ÿå›ç­”å…³äºå›¾ç‰‡çš„é—®é¢˜ã€ç”Ÿæˆæè¿°ï¼Œç”šè‡³è¿›è¡Œå¤æ‚çš„è§†è§‰æ¨ç†ã€‚ç„¶è€Œï¼Œä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„æŒ‘æˆ˜æ˜¯ï¼š<strong>å½“å›¾åƒè´¨é‡ä¸‹é™æ—¶â€”â€”æ¯”å¦‚æ¨¡ç³Šã€å™ªå£°ã€é®æŒ¡æˆ–å…‰çº¿ä¸è¶³â€”â€”æ¨¡å‹çš„æ€§èƒ½å¾€å¾€ä¼šå¤§å¹…ä¸‹æ»‘ã€‚</strong></p>
<p>åœ¨çœŸå®ä¸–ç•Œä¸­ï¼Œå›¾åƒé€€åŒ–æ— å¤„ä¸åœ¨ï¼šæ‹æ‘„æ—¶çš„æŠ–åŠ¨ã€ä¼ è¾“ä¸­çš„å‹ç¼©ã€æ¶åŠ£å¤©æ°”ä¸‹çš„é›¾éœ¾ã€åæœŸå¤„ç†æ·»åŠ çš„æ°´å°â€¦â€¦è¿™äº›å› ç´ éƒ½å¯èƒ½å¯¼è‡´AIâ€œçœ‹èµ°çœ¼â€ï¼Œè¾“å‡ºé”™è¯¯æˆ–è’è°¬çš„å›ç­”ï¼Œé™åˆ¶äº†å…¶åœ¨å®‰é˜²ã€è‡ªåŠ¨é©¾é©¶ã€åŒ»ç–—å½±åƒç­‰å…³é”®é¢†åŸŸçš„å¯é åº”ç”¨ã€‚</p>
<p>ä»¥å¾€æå‡æ¨¡å‹é²æ£’æ€§çš„æ–¹æ³•ï¼Œå¤§å¤šèšç„¦äº<strong>å¢å¼ºè§†è§‰ç¼–ç å™¨çš„æŠ—å¹²æ‰°èƒ½åŠ›</strong>ï¼Œé€šè¿‡å¯¹æŠ—è®­ç»ƒã€å¤§è§„æ¨¡å¯¹æŠ—é¢„è®­ç»ƒç­‰æ–¹å¼ï¼Œè®©æ¨¡å‹â€œä¹ æƒ¯â€å„ç§å¤±çœŸã€‚ä½†è¿™äº›æ–¹æ³•å­˜åœ¨ä¸¤ä¸ªæ ¹æœ¬å±€é™ï¼š</p>
<ul>
<li><strong>å¯è§£é‡Šæ€§å·®ï¼š</strong> æ¨¡å‹åƒä¸€ä¸ªé»‘ç®±ï¼Œæˆ‘ä»¬æ— æ³•çŸ¥é“å®ƒåˆ°åº•æ˜¯å¦‚ä½•è¢«é€€åŒ–å½±å“çš„ï¼Œä¹Ÿéš¾ä»¥è¯Šæ–­é”™è¯¯æ¥æºã€‚</li>
<li><strong>ä¼˜åŒ–å­¤ç«‹ï¼š</strong> åªå¼ºåŒ–è§†è§‰éƒ¨åˆ†ï¼Œå¿½ç•¥äº†è§†è§‰ç¼–ç å™¨ä¸å¤§è¯­è¨€æ¨¡å‹ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’é“¾è·¯ï¼Œé€€åŒ–å½±å“å¯èƒ½åœ¨æ¨ç†é˜¶æ®µè¢«æ”¾å¤§ã€‚</li>
</ul>
<h2 data-id="heading-0"><strong>æ€è·¯é©æ–°ï¼šä»â€œéšå¼é€‚åº”â€åˆ°â€œæ˜¾å¼æ¨ç†â€</strong></h2>
<p>è¿‘æ—¥ï¼Œæ¥è‡ªé¦™æ¸¯ç§‘æŠ€å¤§å­¦ã€è¥¿åŒ—å·¥ä¸šå¤§å­¦ç­‰æœºæ„çš„ç ”ç©¶å›¢é˜Ÿæå‡ºäº†ä¸€ç§å…¨æ–°æ¡†æ¶â€”â€”Robust-R1ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>ä¸è®©æ¨¡å‹é»˜é»˜å¿å—å›¾åƒé€€åŒ–ï¼Œè€Œæ˜¯æ•™å®ƒä¸»åŠ¨è¯†åˆ«é€€åŒ–ã€åˆ†æå½±å“ï¼Œå¹¶é‡å»ºå‡ºæ¸…æ™°çš„è¯­ä¹‰ç†è§£ã€‚</strong></p>
<p>ç®€å•æ¥è¯´ï¼ŒRobust-R1ä¸ºæ¨¡å‹è£…å¤‡äº†ä¸€å¥—â€œé€€åŒ–æ„ŸçŸ¥æ¨ç†é“¾â€ï¼Œä½¿å…¶èƒ½å¤Ÿï¼š</p>
<ol>
<li><strong>æ„ŸçŸ¥é€€åŒ–å‚æ•°</strong>ï¼ˆæ˜¯ä»€ä¹ˆé€€åŒ–ï¼Ÿå¼ºåº¦å¦‚ä½•ï¼Ÿï¼‰</li>
<li><strong>åˆ†æè¯­ä¹‰å½±å“</strong>ï¼ˆè¿™ä¸ªé€€åŒ–å¯¹å›¾ä¸­ç‰©ä½“ã€åœºæ™¯ã€å…³ç³»é€ æˆäº†ä»€ä¹ˆå¹²æ‰°ï¼Ÿï¼‰</li>
<li><strong>é‡å»ºå¹²å‡€æ¨ç†</strong>ï¼ˆå¦‚æœå›¾æ˜¯æ¸…æ™°çš„ï¼Œæ­£ç¡®çš„æ¨ç†é“¾åº”è¯¥æ˜¯ä»€ä¹ˆï¼Ÿï¼‰</li>
<li><strong>ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆ</strong>ï¼ˆç»“åˆé€€åŒ–ä¿¡æ¯å’Œé‡å»ºåçš„ç†è§£ï¼Œç»™å‡ºå¯é å›ç­”ï¼‰</li>
</ol>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fe3152541cd4ed282a8c0dd697867f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877976&amp;x-signature=qx7EyGEA4MywiR2FYElW9rN36zM%3D" alt="screenshot_2026-01-07_15-24-20.png" loading="lazy"/></p>
<p><strong>å·¦è¾¹ï¼ˆAï¼‰</strong> æ˜¯ä¼ ç»Ÿæ–¹æ³•ï¼Œåªå…³æ³¨è§†è§‰ç¼–ç å™¨çš„ç‰¹å¾å¯¹é½ï¼›</p>
<p><strong>å³è¾¹ï¼ˆBï¼‰</strong> æ˜¯Robust-R1ï¼Œæ˜ç¡®å¼•å…¥äº†ä¸€æ¡ä»é€€åŒ–æ„ŸçŸ¥åˆ°è¯­ä¹‰é‡å»ºçš„æ¨ç†é“¾æ¡ã€‚</p>
<p>è¿™ä¸ä»…æé«˜äº†æ¨¡å‹åœ¨é€€åŒ–å›¾åƒä¸Šçš„è¡¨ç°ï¼Œè¿˜è®©å®ƒçš„æ¨ç†è¿‡ç¨‹<strong>å˜å¾—å¯è§£é‡Šã€å¯è¿½è¸ª</strong>â€”â€”æˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°æ¨¡å‹æ˜¯å¦‚ä½•ä¸€æ­¥æ­¥â€œçº åâ€çš„ã€‚</p>
<h2 data-id="heading-1"><strong>ä¸‰æ­¥è®­ç»ƒæ³•ï¼šæ•™æ¨¡å‹â€œè¯†åˆ«é€€åŒ–ã€æŒ‰éœ€æ¨ç†â€</strong></h2>
<ul>
<li><strong>ç¬¬ä¸€æ­¥ï¼šç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰â€”â€” å­¦ä¹ åŸºæœ¬æ¨ç†æ ¼å¼</strong></li>
</ul>
<p>å›¢é˜Ÿé¦–å…ˆæ„å»ºäº†ä¸€ä¸ªåŒ…å«11Kæ ·æœ¬çš„æ•°æ®é›†ï¼ˆåŸºäºA-OKVQAï¼‰ï¼Œä¸ºæ¯å¼ é€€åŒ–å›¾åƒæ ‡æ³¨äº†å®Œæ•´çš„æ¨ç†é“¾ï¼ŒåŒ…å«ï¼š</p>
<blockquote>
<p>&lt;ç±»å‹&gt; è¿åŠ¨æ¨¡ç³Šï¼Œå¼ºåº¦0.7 &lt;ç±»å‹ç»“æŸ&gt;</p>
<p>&lt;å½±å“&gt; å›¾ä¸­äººç‰©è½®å»“å˜å¾—æ¨¡ç³Šï¼Œéš¾ä»¥åˆ¤æ–­å…¶åŠ¨ä½œ &lt;å½±å“ç»“æŸ&gt;</p>
<p>&lt;æ¨ç†&gt; åŸå›¾ä¸­äººç‰©æ­£åœ¨è·‘æ­¥ï¼ŒèƒŒæ™¯ä¸ºå…¬å›­ &lt;æ¨ç†ç»“æŸ&gt;</p>
<p>&lt;ç»“è®º&gt; å› æ­¤ï¼Œå›¾ä¸­äººç‰©æ­£åœ¨è¿åŠ¨ &lt;ç»“è®ºç»“æŸ&gt;</p>
</blockquote>
<p>æ¨¡å‹é€šè¿‡å­¦ä¹ è¿™ç§ç»“æ„åŒ–è¾“å‡ºï¼Œåˆæ­¥æŒæ¡äº†â€œè¯†åˆ«é€€åŒ– â†’ åˆ†æå½±å“ â†’ é‡å»ºè¯­ä¹‰â€çš„æ¨ç†æ¨¡å¼ã€‚</p>
<ul>
<li><strong>ç¬¬äºŒæ­¥ï¼šå¥–åŠ±å¯¹é½ â€”â€” ç²¾å‡†æ„ŸçŸ¥é€€åŒ–å‚æ•°</strong></li>
</ul>
<p>ä»…ä»…ä¼šæ¨ç†è¿˜ä¸å¤Ÿï¼Œè¿˜è¦æ„ŸçŸ¥å¾—å‡†ã€‚ç ”ç©¶å›¢é˜Ÿè®¾è®¡äº†ä¸€ä¸ª<strong>é€€åŒ–å¥–åŠ±å‡½æ•°</strong>ï¼Œç”¨äºå¼ºåŒ–æ¨¡å‹å¯¹é€€åŒ–ç±»å‹å’Œå¼ºåº¦çš„åˆ¤æ–­å‡†ç¡®æ€§ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæ¨¡å‹æŠŠâ€œè¿åŠ¨æ¨¡ç³Šâ€è¯¯åˆ¤ä¸ºâ€œé«˜æ–¯å™ªå£°â€ï¼Œå°±ä¼šå—åˆ°æƒ©ç½šï¼›å¦‚æœåˆ¤æ–­æ­£ç¡®ä½†å¼ºåº¦ä¼°è®¡æœ‰åå·®ï¼Œå¥–åŠ±ä¹Ÿä¼šç›¸åº”å‡å°‘ã€‚</p>
<ul>
<li><strong>ç¬¬ä¸‰æ­¥ï¼šåŠ¨æ€é•¿åº¦è°ƒæ•´ â€”â€” æŒ‰é€€åŒ–ç¨‹åº¦åˆ†é…è®¡ç®—èµ„æº</strong></li>
</ul>
<p>ç ”ç©¶å‘ç°ï¼š<strong>é€€åŒ–è¶Šä¸¥é‡ï¼Œéœ€è¦çš„æ¨ç†æ­¥éª¤å°±è¶Šå¤šã€‚</strong> å¦‚æœå¯¹æ‰€æœ‰å›¾åƒéƒ½ä½¿ç”¨ç›¸åŒæ·±åº¦çš„æ¨ç†ï¼Œä¼šå¯¼è‡´ç®€å•åœºæ™¯â€œæƒ³å¤ªå¤šâ€ï¼ˆæ•ˆç‡ä½ä¸‹ï¼‰ï¼Œå¤æ‚é€€åŒ–â€œæƒ³ä¸å¤Ÿâ€ï¼ˆç²¾åº¦ä¸è¶³ï¼‰ã€‚</p>
<p>å› æ­¤ï¼Œå›¢é˜Ÿå¼•å…¥äº†<strong>é•¿åº¦å¥–åŠ±å‡½æ•°</strong>ï¼Œé¼“åŠ±æ¨¡å‹æ ¹æ®é€€åŒ–å¼ºåº¦è‡ªé€‚åº”è°ƒæ•´æ¨ç†é“¾çš„é•¿åº¦ï¼Œå®ç°â€œè¯¥é•¿åˆ™é•¿ã€è¯¥çŸ­åˆ™çŸ­â€çš„é«˜æ•ˆæ¨ç†ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb82bf30d36540ea973afea3979a729b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877976&amp;x-signature=HVGhB2fo6dlfXEuf4DWht%2Fulfb0%3D" alt="screenshot_2026-01-07_15-24-56.png" loading="lazy"/></p>
<p><strong>ï¼ˆAï¼‰ç›‘ç£å¾®è°ƒé˜¶æ®µï¼š</strong> æ¨¡å‹å­¦ä¹ ç”Ÿæˆç»“æ„åŒ–æ¨ç†é“¾ï¼›</p>
<p><strong>ï¼ˆBï¼‰å¼ºåŒ–å­¦ä¹ é˜¶æ®µï¼š</strong> é€šè¿‡ä¸¤ä¸ªå¥–åŠ±å‡½æ•°åˆ†åˆ«ä¼˜åŒ–é€€åŒ–æ„ŸçŸ¥å‡†ç¡®æ€§å’Œæ¨ç†é•¿åº¦é€‚å®œæ€§ã€‚</p>
<h2 data-id="heading-2"><strong>æ•°æ®é›†æ„å»ºï¼šæ¨¡æ‹ŸçœŸå®ä¸–ç•Œçš„â€œé€€åŒ–å…¨é“¾è·¯â€</strong></h2>
<p>ä¸ºäº†è®­ç»ƒè¿™æ ·ä¸€ä¸ªæ¨¡å‹ï¼Œç ”ç©¶å›¢é˜Ÿç³»ç»Ÿåœ°åˆæˆäº†è¦†ç›–å›¾åƒ<strong>é‡‡é›† â†’ ä¼ è¾“ â†’ ç¯å¢ƒ â†’ åå¤„ç†</strong>å››ä¸ªé˜¶æ®µçš„é€€åŒ–ç±»å‹ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>é‡‡é›†é˜¶æ®µï¼š</strong> é•œå¤´æ¨¡ç³Šã€é•œå¤´å…‰æ™•ã€è¿åŠ¨æ¨¡ç³Šã€è„é•œå¤´ã€è¿‡æ›ç­‰</li>
<li><strong>ä¼ è¾“é˜¶æ®µï¼š</strong> å‹ç¼©å¤±çœŸã€å—æ•ˆåº”ã€ä½ç§»ã€æ‰«æçº¿ç­‰</li>
<li><strong>ç¯å¢ƒé˜¶æ®µï¼š</strong> ä½å…‰ç…§ã€å¤§æ°”æ¹æµã€å™ªå£°ã€é¢œè‰²æ‰©æ•£ç­‰</li>
<li><strong>åå¤„ç†é˜¶æ®µï¼š</strong> é”åŒ–æ”¹å˜ã€æ¶‚é¸¦ã€æ°´å°æŸä¼¤ç­‰</li>
</ul>
<p>æ¯ç§é€€åŒ–éƒ½éšæœºé‡‡æ ·å¼ºåº¦ï¼Œç¡®ä¿æ•°æ®å¤šæ ·æ€§ã€‚éšåï¼Œåˆ©ç”¨GPT-4oè‡ªåŠ¨ç”Ÿæˆæ¯ä¸€æ­¥çš„æ¨ç†æ–‡æœ¬ï¼Œå½¢æˆå®Œæ•´çš„è®­ç»ƒæ ·æœ¬ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98b43c7f8f7c48e38f3bc3d54785b34d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877976&amp;x-signature=%2FGc6BocWdiZXPDaZ2y59pLXiKR0%3D" alt="screenshot_2026-01-07_15-28-27.png" loading="lazy"/></p>
<p>ä»åŸå§‹å›¾åƒå‡ºå‘ï¼Œç»è¿‡å¤šé˜¶æ®µé€€åŒ–åˆæˆï¼Œå†é€æ­¥ç”Ÿæˆâ€œå½±å“æè¿°â€â€œå¹²å‡€æ¨ç†â€â€œæœ€ç»ˆç»“è®ºâ€ï¼Œæœ€åæ ¹æ®é€€åŒ–å¼ºåº¦å¯¹æ¨ç†é“¾è¿›è¡Œé•¿åº¦ç¼©æ”¾ã€‚</p>
<h2 data-id="heading-3"><strong>å®éªŒç»“æœï¼šåœ¨å¤šé¡¹åŸºå‡†ä¸Šæ˜¾è‘—é¢†å…ˆ</strong></h2>
<p>å›¢é˜Ÿåœ¨å¤šä¸ªæ ‡å‡†æµ‹è¯•é›†ä¸ŠéªŒè¯äº†Robust-R1çš„æœ‰æ•ˆæ€§ï¼š</p>
<ul>
<li><strong>çœŸå®ä¸–ç•Œé€€åŒ–åŸºå‡† R-Bench</strong></li>
</ul>
<p>åœ¨æ¶µç›–é€‰æ‹©é¢˜ã€è§†è§‰é—®ç­”ã€å›¾åƒæè¿°ä¸‰ç±»ä»»åŠ¡ï¼Œå¹¶åŒ…å«ä½ã€ä¸­ã€é«˜ä¸‰ç§é€€åŒ–å¼ºåº¦çš„R-Benchä¸Šï¼ŒRobust-R1åœ¨<strong>æ‰€æœ‰é€€åŒ–å¼ºåº¦ä¸‹å‡å–å¾—æœ€ä½³æ•´ä½“æ€§èƒ½</strong>ï¼Œæ˜æ˜¾ä¼˜äºåŸç‰ˆQwen2.5-VLã€Gemma3ç­‰é€šç”¨æ¨¡å‹ï¼Œä¹Ÿè¶…è¿‡äº†TeCoAã€Robust CLIPç­‰ä¸“ç”¨é²æ£’æ¨¡å‹ã€‚</p>
<ul>
<li><strong>å¯¹æŠ—æ€§é€€åŒ–æµ‹è¯•ï¼ˆMMMBã€MMStarã€RealWorldQAï¼‰</strong></li>
</ul>
<p>ç ”ç©¶å›¢é˜Ÿè¿˜å¯¹å›¾åƒæ–½åŠ äº†25%ã€50%ã€100%ä¸‰ç§å¼ºåº¦çš„éšæœºé€€åŒ–ï¼Œæ¨¡æ‹Ÿæç«¯å¹²æ‰°æ¡ä»¶ã€‚ç»“æœæ˜¾ç¤ºï¼ŒRobust-R1çš„æ€§èƒ½ä¸‹é™å¹…åº¦<strong>æ˜¾è‘—å°äºæ‰€æœ‰åŸºçº¿æ¨¡å‹</strong>ï¼Œå±•ç°å‡ºå¼ºå¤§çš„æŠ—é€€åŒ–é²æ£’æ€§ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75023463e22f4463993d266abcbfb0a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877976&amp;x-signature=o2shAAg5eqDbp9Y3dWb8tye%2Fk7Y%3D" alt="screenshot_2026-01-07_15-35-10.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç»è¿‡SFTå’ŒRLä¼˜åŒ–åï¼Œæ¨¡å‹ä¸ä»…èƒ½ç»™å‡ºæ›´å‡†ç¡®çš„ç­”æ¡ˆï¼Œè¿˜èƒ½ç”Ÿæˆæ¸…æ™°ã€ç»“æ„åŒ–çš„æ¨ç†è¿‡ç¨‹ï¼ŒåŒæ—¶é¿å…å†—ä½™è¾“å‡ºã€‚</p>
<h2 data-id="heading-4"><strong>æ¶ˆèå®éªŒï¼šæ¯ä¸ªç»„ä»¶éƒ½ä¸å¯æˆ–ç¼º</strong></h2>
<p>ä¸ºäº†éªŒè¯å„ä¸ªéƒ¨åˆ†çš„ä½œç”¨ï¼Œå›¢é˜Ÿè¿›è¡Œäº†æ¶ˆèç ”ç©¶ï¼š</p>
<ul>
<li><strong>å»æ‰æ¨ç†é“¾ï¼ˆä»…å¾®è°ƒï¼‰ï¼š</strong> æ¨¡å‹åœ¨é«˜å¼ºåº¦é€€åŒ–ä¸‹æ€§èƒ½å´©æºƒï¼Œè¯´æ˜ä»…é é€‚åº”æ˜¯ä¸å¤Ÿçš„ï¼Œ<strong>æ˜¾å¼æ¨ç†è‡³å…³é‡è¦ã€‚</strong></li>
<li><strong>å»æ‰é€€åŒ–å¥–åŠ±ï¼š</strong> æ¨¡å‹å¯¹é€€åŒ–ç±»å‹å’Œå¼ºåº¦çš„åˆ¤æ–­å‡†ç¡®ç‡ä¸‹é™ï¼Œç›´æ¥å½±å“æœ€ç»ˆæ€§èƒ½ã€‚</li>
<li><strong>å»æ‰é•¿åº¦å¥–åŠ±ï¼š</strong> æ¨ç†é“¾å˜å¾—å†—é•¿ï¼Œè®¡ç®—æ•ˆç‡é™ä½ï¼Œä¸”å¯¹æ€§èƒ½æ— ç›Šã€‚</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec96ddcda6af4f84887f93abc37ca5bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768877976&amp;x-signature=Dl2DSs41oeIGkafeJMc%2FVkjcIwc%3D" alt="screenshot_2026-01-07_15-35-38.png" loading="lazy"/></p>
<h2 data-id="heading-5"><strong>æ€»ç»“ä¸å±•æœ›</strong></h2>
<p>Robust-R1 ä¸ä»…ä»…æ˜¯ä¸€ä¸ªâ€œæ›´å¼ºå£®çš„æ¨¡å‹â€ï¼Œæ›´æ˜¯ä¸€å¥—â€œæ›´èªæ˜çš„è§†è§‰ç†è§£èŒƒå¼â€ã€‚å®ƒé¦–æ¬¡å°†é€€åŒ–æ„ŸçŸ¥ä¸ç»“æ„åŒ–æ¨ç†æ·±åº¦èåˆï¼Œè®©æ¨¡å‹åœ¨é¢å¯¹è´¨é‡ä¸ä½³çš„è¾“å…¥æ—¶ï¼Œèƒ½å¤Ÿåƒäººç±»ä¸€æ ·â€œè„‘è¡¥â€ä¿¡æ¯ã€æ’é™¤å¹²æ‰°ï¼Œæœ€ç»ˆåšå‡ºå¯é åˆ¤æ–­ã€‚</p>
<p>è¿™ä¸€ç ”ç©¶ä¸ºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„é²æ£’æ€§æå‡å¼€è¾Ÿäº†æ–°è·¯å¾„ï¼šå¯è§£é‡Šã€å¯æ§åˆ¶ã€é«˜æ•ˆç‡ã€‚æœªæ¥ï¼Œè¿™ç±»æ–¹æ³•æœ‰æœ›å¹¿æ³›åº”ç”¨äºè‡ªåŠ¨é©¾é©¶ã€è§†é¢‘ç›‘æ§ã€é¥æ„Ÿå½±åƒåˆ†æã€è€æ—§å½±åƒä¿®å¤ç­‰å¯¹å™ªå£°å’Œé€€åŒ–æä¸ºæ•æ„Ÿçš„é¢†åŸŸã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºNettyçš„WebSocketæœåŠ¡ç«¯]]></title>    <link>https://juejin.cn/post/7594337566722146314</link>    <guid>https://juejin.cn/post/7594337566722146314</guid>    <pubDate>2026-01-13T01:10:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594337566722146314" data-draft-id="7594383365417680942" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºNettyçš„WebSocketæœåŠ¡ç«¯"/> <meta itemprop="keywords" content="åç«¯,Java,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-13T01:10:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SimonKing"/> <meta itemprop="url" content="https://juejin.cn/user/4001878056904584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºNettyçš„WebSocketæœåŠ¡ç«¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4001878056904584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SimonKing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:10:05.000Z" title="Tue Jan 13 2026 01:10:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šã€ç¼–ç¨‹æœèŠ±å¤•æ‹¾ã€‘ï¼Œå¯è·å–é¦–å‘å†…å®¹ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/273e78394c7642f7b75ef444c3b5d64f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=FMn3orGLbdMEIUSXZyCHMB3BypY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">01 å¼•è¨€</h2>
<p>å‰é¢ç”¨äº†ä¸¤èŠ‚å†…å®¹ä»‹ç»äº†åŸºäºNettyçš„TCPçš„Socketçš„ç›¸å…³å†…å®¹ã€‚è¿™ä¸€èŠ‚å¼€å§‹æˆ‘ä»¬ä»‹ç»åŸºäºNettyçš„WebSocketçš„ç›¸å…³å†…å®¹ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥æŒ‰ç…§æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æ–¹å¼åˆ†åˆ«ä»‹ç»ã€‚æœ¬èŠ‚æˆ‘ä»¬ä»‹ç»WebSocketçš„æœåŠ¡ç«¯ã€‚</p>
<h2 data-id="heading-1">02 ç¤ºä¾‹ä»£ç </h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSocketServer</span> {

    <span class="hljs-meta">@Getter</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">ChannelGroup</span> <span class="hljs-variable">channelGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultChannelGroup</span>(GlobalEventExecutor.INSTANCE);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">start</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();

        <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">serverBootstrap</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
        serverBootstrap.group(bossGroup, workGroup);
        serverBootstrap.channel(NioServerSocketChannel.class);
        serverBootstrap.childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;(){

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel socketChannel)</span> <span class="hljs-keyword">throws</span> Exception {
                <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">pipeline</span> <span class="hljs-operator">=</span> socketChannel.pipeline();
                pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpServerCodec</span>());
                pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpObjectAggregator</span>(<span class="hljs-number">65535</span>));
                pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocketServerProtocolHandler</span>(<span class="hljs-string">"/testWs"</span>));
                <span class="hljs-comment">// è‡ªå®šä¹‰çš„handlerï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘</span>
                pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebBusinessHandler</span>(channelGroup));
            }
        });

        <span class="hljs-comment">// é…ç½®å®Œæˆï¼Œå¼€å§‹ç»‘å®šserverï¼Œé€šè¿‡è°ƒç”¨syncåŒæ­¥æ–¹æ³•é˜»å¡ç›´åˆ°ç»‘å®šæˆåŠŸ</span>
        <span class="hljs-type">ChannelFuture</span> <span class="hljs-variable">channelFuture</span> <span class="hljs-operator">=</span> serverBootstrap.bind(<span class="hljs-number">9090</span>).sync();
        log.info(<span class="hljs-string">"Server started and listen on:{}"</span>,channelFuture.channel().localAddress());
        <span class="hljs-comment">// å¯¹å…³é—­é€šé“è¿›è¡Œç›‘å¬</span>
        channelFuture.channel().closeFuture().sync();
    }
}
</code></pre>
<h3 data-id="heading-2">2.1 å¼•å¯¼ç±»</h3>
<p>å¼•å¯¼ç±»åŒæ ·æ˜¯<code>io.netty.bootstrap.ServerBootstrap</code>ï¼Œå’ŒTCPåè®®çš„æœåŠ¡ç«¯ä¸€æ ·ï¼Œä½†æ˜¯ç»†èŠ‚ä¸åŒã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
<span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();

<span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">serverBootstrap</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
serverBootstrap.group(bossGroup, workGroup);
serverBootstrap.channel(NioServerSocketChannel.class);
</code></pre>
<p>ä¿æ´»çš„é…ç½®ä¸€èˆ¬ä¼šæœ‰å¿ƒè·³çš„ä»£æ›¿ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¹Ÿå°±æ²¡æœ‰è¦è®¾ç½®äº†ã€‚çº¿ç¨‹ç»„å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®ï¼Œä¸€ä¸ªæ¥æ”¶ä»»åŠ¡ï¼Œä¸€ä¸ªå¤„ç†ä»»åŠ¡åˆ†å·¥åä½œã€‚</p>
<h3 data-id="heading-3">2.2 ç¼–è§£ç å™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">pipeline</span> <span class="hljs-operator">=</span> socketChannel.pipeline();
pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpServerCodec</span>());
pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpObjectAggregator</span>(<span class="hljs-number">65535</span>));
pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocketServerProtocolHandler</span>(<span class="hljs-string">"/testWs"</span>));
<span class="hljs-comment">// è‡ªå®šä¹‰çš„handlerï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘</span>
pipeline.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebBusinessHandler</span>(channelGroup));
</code></pre>
<p>ç¼–è§£ç åŒæ ·æ˜¯WebSocketä¸­çš„é‡è¦é…ç½®ç±»ã€‚<code>WebSocket</code>æ¡æ‰‹é˜¶æ®µéœ€è¦éµå®ˆ<code>HTTP</code>åè®®ï¼Œè‡ªç„¶å°‘ä¸äº†è¯·æ±‚è¯·æ±‚çš„è§£ç ä»¥åŠå“åº”çš„è§£ç ã€‚Nettyæ¡†æ¶æœ¬èº«å°±æä¾›äº†è¿™æ ·çš„ç¼–è§£ç å™¨ï¼š</p>
<ul>
<li><code>io.netty.handler.codec.http.HttpRequestDecoder</code>ï¼šè¯·æ±‚è§£ç å™¨</li>
<li><code>io.netty.handler.codec.http.HttpResponseEncoder</code>ï¼šå“åº”ç¼–ç å™¨</li>
</ul>
<p>é…ç½®è¿™æ ·çš„ç¼–è§£ç å™¨è‡ªç„¶æ²¡æœ‰é—®é¢˜ã€‚ç„¶è€ŒNettyæ¡†æ¶è¿˜æä¾›äº†æ›´åŠ ç®€ä¾¿çš„äºŒåˆä¸€ç¼–è§£ç å™¨ï¼š</p>
<ul>
<li><code>io.netty.handler.codec.http.HttpServerCodec</code></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecc185516cbc4f71855fef71a27fc8a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=n3YSCX%2FWKLenhaIGA5XyKAeSf8s%3D" alt="" loading="lazy"/></p>
<p>æ³¨é‡Šä¸­å·²ç»è¯´æ˜<code>HttpServerCodec</code>æ˜¯<code>HttpRequestDecoder</code>å’Œ<code>HttpResponseEncoder</code>çš„ç»“åˆã€‚æ‰€ä»¥æˆ‘ä»¬ç›´æ¥ç”¨å®ƒå³å¯ã€‚</p>
<p>è§£ç ä¹‹åçš„æ•°æ®åˆ†æˆä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li><code>HttpMessage</code>ï¼šåŒ…å«HTTPè¯·æ±‚çš„é€šç”¨ä¿¡æ¯</li>
<li><code>LastHttpContent</code>ï¼šæœ€æ–°å…·æœ‰æ ‡è®°çš„<code>HttpContent</code></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d7dd2afa2c44f60ad7255e748148164~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=meGf02r4cwC6tsQSSmC63YgqkNY%3D" alt="" loading="lazy"/></p>
<p><code>io.netty.handler.codec.http.HttpObjectAggregator</code>æ˜¯ä¸€ä¸ªHTTPèšåˆå™¨ï¼Œå¯ä»¥å°†<code>HttpMessage</code>å’Œ<code>HttpContent</code>èšåˆæˆ<code>FullHttpRequest</code>æˆ–<code>FullHttpResponse</code>ã€‚</p>
<p>æ¡ˆä¾‹ä¹Ÿç»™é™¤äº†ç”¨åœ¨<code>HttpServerCodec</code>ä¹‹åã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f3de8b6ed8141f9be0f55fcc4d7b7b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=t%2F0h6KEmcob3y5ap9BF8EoBz4ec%3D" alt="" loading="lazy"/></p>
<p><code>io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler</code>ä¸“é—¨å¤„ç†WebSocketæ¡æ‰‹å’Œå¸§ï¼Œå‚æ•°è¡¨ç¤ºWebSocketè·¯å¾„ã€‚</p>
<p>è¿™é‡Œæ‰€è¯´çš„å¸§å°±æ˜¯<code>WebSocketFrame</code>ï¼Œä¸»è¦å¸¸ç”¨çš„å¸§ï¼š</p>
<ul>
<li><code>TextWebSocketFrame</code>ï¼šå¤„ç†æ–‡æœ¬</li>
<li><code>PingWebSocketFrame</code>ï¼šæ¡æ‰‹è¯·æ±‚</li>
<li><code>PongWebSocketFrame</code>ï¼šæ¡æ‰‹å“åº”</li>
<li><code>BinaryWebSocketFrame</code>ï¼šå¤„ç†äºŒè¿›åˆ¶</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0902fa4bd74c4d6b9aa65ff8f1737cdf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=cmg4nuwOWiGk3HXfTQl0yAMzRt8%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å¸¸ç”¨çš„æ˜¯<code>TextWebSocketFrame</code>æ–‡æœ¬å¸§ã€‚</p>
<h3 data-id="heading-4">2.3 è‡ªå®šä¹‰å¤„ç†å™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebBusinessHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;TextWebSocketFrame&gt; {

    <span class="hljs-keyword">private</span> ChannelGroup channelGroup;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">WebBusinessHandler</span><span class="hljs-params">(ChannelGroup channelGroup)</span> {
        <span class="hljs-built_in">this</span>.channelGroup = channelGroup;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handlerAdded</span><span class="hljs-params">(ChannelHandlerContext ctx)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// å»ºç«‹å®¢æˆ·ç«¯</span>
        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> ctx.channel();
        log.info(<span class="hljs-string">"å®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼šchannelId={}"</span>, channel.id());
        channelGroup.add(channel);

    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handlerRemoved</span><span class="hljs-params">(ChannelHandlerContext ctx)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ–­å¼€é“¾æ¥</span>
        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> ctx.channel();
        log.info(<span class="hljs-string">"å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼šchannelId={}"</span>, channel.id());
        channelGroup.remove(channel);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, TextWebSocketFrame msg)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ¥å—æ¶ˆæ¯</span>
        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> ctx.channel();
        log.info(<span class="hljs-string">"æ”¶åˆ°æ¥è‡ªé€šé“channelId[{}]å‘é€çš„æ¶ˆæ¯ï¼š{}"</span>, channel.id(), msg.text());

        <span class="hljs-comment">// å¹¿æ’­é€šçŸ¥æ‰€æœ‰çš„å®¢æˆ·ç«¯</span>
        channelGroup.writeAndFlush(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TextWebSocketFrame</span>(<span class="hljs-string">"æ”¶åˆ°æ¥è‡ªchannelId["</span> + channel.id() + <span class="hljs-string">"]å‘é€çš„æ¶ˆæ¯ï¼š"</span> + msg.text() + <span class="hljs-string">"123_"</span>));
    }
}
</code></pre>
<p>é‡Œé¢çš„æ–¹æ³•å’ŒTCPåè®®çš„ä¸€è‡´ã€‚ä½†æ˜¯è¦è¯´æ˜çš„å°±æ˜¯é‡Œé¢çš„å‚æ•°</p>
<p><code>io.netty.channel.group.ChannelGroup</code></p>
<p>è¿™æ˜¯ä¸€ä¸ªChannelçš„é€šé“ç»„ï¼Œç”¨æ¥ç®¡ç†æ‰€æœ‰çš„é€šé“ï¼ŒåŒ…æ‹¬é€šé“çš„æ–°å¢ã€å‰”é™¤ä»¥åŠæ¶ˆæ¯çš„å‘é€ã€‚</p>
<p><code>SimpleChannelInboundHandler</code>çš„æ³›å‹æˆ‘ä»¬é™åˆ¶ä¸º<code>TextWebSocketFrame</code>ï¼Œå¦åˆ™è·å–åˆ°çš„æ¶ˆæ¯å°±æ˜¯<code>FullHttpRequest</code>ç±»å‹ã€‚</p>
<p>æ¶ˆæ¯å‘é€æ—¶ï¼ŒåŒæ ·ä½¿ç”¨çš„<code>TextWebSocketFrame</code>æ–‡æœ¬å¸§ã€‚</p>
<h3 data-id="heading-5">2.4 å…¶ä»–ç¼–è§£ç </h3>
<p>åœ¨<code>HttpServerCodec</code>å’Œ<code>HttpObjectAggregator</code>ä¹‹é—´è¿˜å¯ä»¥åŠ å…¥ä¸¤ä¸ªå¤„ç†å™¨ï¼š</p>
<ul>
<li><code>ObjectEncoder</code></li>
<li><code>ChunkedWriteHandler</code></li>
</ul>
<p><code>ObjectEncoder</code>æ˜¯ä¸ºäº†å°†<code>Java</code>å¯¹è±¡åºåˆ—åŒ–æˆ<code>ByteBuf</code>ã€‚</p>
<p><code>ChunkedWriteHandler</code>å¢åŠ äº†å¯¹å¼‚æ­¥å†™å…¥å¤§å‹æ•°æ®æµçš„æ”¯æŒï¼Œæ—¢ä¸ä¼šèŠ±è´¹å¤§é‡å†…å­˜ï¼Œä¹Ÿä¸ä¼šè·å¾—<code>OutOfMemoryError</code>ã€‚</p>
<h3 data-id="heading-6">2.5 ç»‘å®šç«¯å£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é…ç½®å®Œæˆï¼Œå¼€å§‹ç»‘å®šserverï¼Œé€šè¿‡è°ƒç”¨syncåŒæ­¥æ–¹æ³•é˜»å¡ç›´åˆ°ç»‘å®šæˆåŠŸ</span>
<span class="hljs-type">ChannelFuture</span> <span class="hljs-variable">channelFuture</span> <span class="hljs-operator">=</span> serverBootstrap.bind(<span class="hljs-number">9090</span>).sync();
log.info(<span class="hljs-string">"Server started and listen on:{}"</span>,channelFuture.channel().localAddress());
<span class="hljs-comment">// å¯¹å…³é—­é€šé“è¿›è¡Œç›‘å¬</span>
channelFuture.channel().closeFuture().sync();
</code></pre>
<p>è¿™ä¸ªä¹‹å‰å·²ç»è®²è¿‡ï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°ã€‚</p>
<h2 data-id="heading-7">03 æµ‹è¯•</h2>
<p>æµ‹è¯•çš„ä¹‹åï¼Œæˆ‘ä»¬é‡‡ç”¨åœ¨çº¿WebSocketkå®¢æˆ·ç«¯ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebfem.com%2Ftools%2Fws%2Findex.html" target="_blank" title="https://webfem.com/tools/ws/index.html" ref="nofollow noopener noreferrer">webfem.com/tools/ws/inâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/361ffaa92f874102b4166bd97fff30b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=W6yB0R7fBkJ%2Bfu4igCm6ra3pPfM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">3.1 è¯•é”™01</h3>
<p>å› ä¸ºæˆ‘ä»¬ä¹‹å‰åœ¨è‡ªå®šä¹‰å¤„ç†å™¨çš„æ³›å‹æ˜¯<code>TextWebSocketFrame</code>ï¼Œæˆ‘ä»¬æ”¹æˆ<code>Object</code>ï¼Œçœ‹çœ‹é»˜è®¤çš„ç±»å‹åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå‘é€æ•°æ®æˆ‘ä»¬ä¹Ÿé‡‡ç”¨ç›´æ¥å‘é€çš„å½¢å¼ï¼Œçœ‹çœ‹èƒ½å¦æˆåŠŸï¼Ÿ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg)</span> <span class="hljs-keyword">throws</span> Exception {
    log.info(<span class="hljs-string">"msgç±»å‹:{}"</span>, msg.getClass());
    <span class="hljs-comment">// æ¥å—æ¶ˆæ¯</span>
    <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> ctx.channel();
    log.info(<span class="hljs-string">"æ”¶åˆ°æ¥è‡ªé€šé“channelId[{}]å‘é€çš„æ¶ˆæ¯ï¼š{}"</span>, channel.id(), msg);

    <span class="hljs-comment">// å¹¿æ’­é€šçŸ¥æ‰€æœ‰çš„å®¢æˆ·ç«¯</span>
    channelGroup.writeAndFlush(<span class="hljs-string">"æ”¶åˆ°æ¥è‡ªchannelId["</span> + channel.id() + <span class="hljs-string">"]å‘é€çš„æ¶ˆæ¯ï¼š"</span> + msg + <span class="hljs-string">"123_"</span>);
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c11b5eaac2ea42c6912b94603ae569dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=zzKMPnK63HCTDTsjZCaKnntLFZg%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå‘å‡ºå»çš„æ¶ˆæ¯æ²¡æœ‰å“åº”ã€‚æ‰“å°<code>Msg</code>ç±»å‹ç¡®å®æ˜¯<code>io.netty.handler.codec.http.websocketx.TextWebSocketFrame</code>ã€‚æœåŠ¡ç«¯åƒå®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯å®¢æˆ·ç«¯ä¹Ÿæ²¡æœ‰æ”¶åˆ°ã€‚</p>
<h3 data-id="heading-9">3.2 è¯•é”™02</h3>
<p>æˆ‘ä»¬çŸ¥é“ç¼–è§£ç æ˜¯é¡ºåºæ‰§è¡Œçš„ã€‚æœ‰æ²¡æœ‰å’Œæˆ‘ä¸€æ ·ï¼Œæœ‰è¿™æ ·çš„ç–‘é—®:</p>
<p><code>WebSocketServerProtocolHandler</code>æœ‰æ²¡æœ‰å¯èƒ½ä¸å—é¡ºåºçš„å½±å“ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªè·¯å¾„ï¼Œæˆ‘ä»¬æ”¹å˜ä¸€ä¸‹è¯•è¯•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65c045c5f4b5431999cf8965862d33f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=kFUxEySdsXQkVkps%2Fc36b4SCYew%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43c0de8d42a94bd0948c0956f1fb73c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=HsFKnjf5T6T4wESN6WKCQodMT8A%3D" alt="" loading="lazy"/></p>
<p><strong>æ•ˆæœï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fed0571328be42aba536d373a852f67d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871404&amp;x-signature=ZBIjKIeySPxF8qi0AwcqMLd8U4o%3D" alt="" loading="lazy"/></p>
<p>ç»“æœè‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œä»æŠ¥é”™ä¿¡æ¯æ¥çœ‹ï¼Œ<code>WebSocketServerProtocolHandler</code>ä¸ä»…æä¾›äº†è¿æ¥çš„è·¯å¾„ï¼Œè¿˜å¯¹<code>ByteBuf</code>åšäº†ä¸€å®šçš„è½¬åŒ–ã€‚é¡ºåºä¸å¯å¦„åŠ¨ã€‚</p>
<h2 data-id="heading-10">04 å°ç»“</h2>
<p>åˆ°è¿™é‡ŒWebSocketçš„æœåŠ¡ç«¯çš„å†…å®¹å°±å·®ä¸å¤šäº†ï¼Œæœ¬èŠ‚çš„å®¢æˆ·ç«¯é‡‡ç”¨äº†ç½‘ä¸Šåœ¨çº¿å·¥å…·ã€‚ä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†é€šè¿‡ä¸¤ç§æ–¹å¼æ‰‹æ“å®¢æˆ·ç«¯è¿æ¥æˆ‘ä»¬çš„<code>WebSocket</code>æœåŠ¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactä»å…¥é—¨åˆ°å‡ºé—¨ç¬¬å…­ç«  äº‹ä»¶ä»£ç†æœºåˆ¶ä¸åŸç”Ÿäº‹ä»¶ååŒ]]></title>    <link>https://juejin.cn/post/7594322573452984363</link>    <guid>https://juejin.cn/post/7594322573452984363</guid>    <pubDate>2026-01-13T01:14:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594322573452984363" data-draft-id="7589940210832261163" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactä»å…¥é—¨åˆ°å‡ºé—¨ç¬¬å…­ç«   äº‹ä»¶ä»£ç†æœºåˆ¶ä¸åŸç”Ÿäº‹ä»¶ååŒ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2026-01-13T01:14:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€•æµªçŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/2832784963939438"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactä»å…¥é—¨åˆ°å‡ºé—¨ç¬¬å…­ç«   äº‹ä»¶ä»£ç†æœºåˆ¶ä¸åŸç”Ÿäº‹ä»¶ååŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2832784963939438/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€•æµªçŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:14:15.000Z" title="Tue Jan 13 2026 01:14:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a37377a1b1654b5fb359bed851213933~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCV5rWq54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871655&amp;x-signature=B10uyEKh1Z2yZq%2Bx8zDLuPaGOuk%3D" alt="G9oIeDzXQAIwgJc.jpeg" loading="lazy"/>
å¤§å®¶å¥½ï½ å‰é¢æˆ‘ä»¬é™†ç»­æŒæ¡äº† React 19 çš„ç»„ä»¶ã€è·¯ç”±ã€çŠ¶æ€ç®¡ç†ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œä»Šå¤©å’±ä»¬èšç„¦ä¸€ä¸ªå®¹æ˜“è¢«å¿½ç•¥ä½†è‡³å…³é‡è¦çš„åº•å±‚æ¨¡å—â€”â€”<strong>äº‹ä»¶ç³»ç»Ÿ</strong>ã€‚</p>
<p>ç”¨è¿‡ React çš„åŒå­¦éƒ½çŸ¥é“ï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å†™çš„äº‹ä»¶ï¼ˆå¦‚ onClickã€onChangeï¼‰å’ŒåŸç”Ÿ DOM äº‹ä»¶çœ‹ä¼¼ç›¸ä¼¼ï¼Œå´åˆå­˜åœ¨å·®å¼‚ï¼šæ¯”å¦‚ React äº‹ä»¶çš„ this æŒ‡å‘é»˜è®¤ç»‘å®šç»„ä»¶å®ä¾‹ã€äº‹ä»¶å¯¹è±¡æ˜¯åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ã€äº‹ä»¶å¤„ç†å‡½æ•°é»˜è®¤ä¸ä¼šå†’æ³¡åˆ°åŸç”Ÿ DOM å±‚é¢ã€‚è¿™äº›å·®å¼‚çš„èƒŒåï¼Œéƒ½æºäº React å¯¹åŸç”Ÿäº‹ä»¶çš„å°è£…ä¸ä¼˜åŒ–â€”â€”æ ¸å¿ƒå°±æ˜¯<strong>äº‹ä»¶ä»£ç†æœºåˆ¶</strong>ã€‚</p>
<p>å¾ˆå¤šå¼€å‘è€…åœ¨å®é™…å¼€å‘ä¸­ä¼šé‡åˆ°â€œReact äº‹ä»¶ä¸åŸç”Ÿäº‹ä»¶å†²çªâ€â€œäº‹ä»¶å†’æ³¡ä¸ç¬¦åˆé¢„æœŸâ€ç­‰é—®é¢˜ï¼Œæœ¬è´¨ä¸Šæ˜¯æ²¡ç†æ¸… React äº‹ä»¶ç³»ç»Ÿä¸åŸç”Ÿäº‹ä»¶çš„å…³ç³»ã€‚ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°±ä»â€œæ˜¯ä»€ä¹ˆ-ä¸ºä»€ä¹ˆ-æ€ä¹ˆåšâ€ä¸‰ä¸ªå±‚é¢ï¼Œæ‹†è§£ React 19 äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒåŸç†ï¼Œé‡ç‚¹è¯´æ¸… React UI äº‹ä»¶ä¸åŸç”Ÿ window äº‹ä»¶çš„å…³è”ï¼Œç»“åˆä»£ç ç¤ºä¾‹å’Œæµç¨‹å›¾ï¼Œè®©ä½ æ—¢èƒ½ç†è§£åº•å±‚é€»è¾‘ï¼Œä¹Ÿèƒ½è§£å†³å®é™…å¼€å‘ä¸­çš„é—®é¢˜ï½</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆæŠ›é—®é¢˜ï¼šReact äº‹ä»¶å’ŒåŸç”Ÿäº‹ä»¶æœ‰å•¥ä¸ä¸€æ ·ï¼Ÿ</h2>
<p>åœ¨æ‹†è§£åŸç†å‰ï¼Œæˆ‘ä»¬å…ˆé€šè¿‡ä¸€ä¸ªç®€å•æ¡ˆä¾‹ï¼Œç›´è§‚æ„Ÿå— React äº‹ä»¶ä¸åŸç”Ÿäº‹ä»¶çš„å·®å¼‚ã€‚å…ˆçœ‹ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">EventDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> btnRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-comment">// React äº‹ä»¶ï¼šonClick</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleReactClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'React äº‹ä»¶ï¼šonClick è§¦å‘'</span>);
  };

  <span class="hljs-comment">// åŸç”Ÿäº‹ä»¶ï¼šaddEventListener</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> btn = btnRef.<span class="hljs-property">current</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleNativeClick</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åŸç”Ÿäº‹ä»¶ï¼šaddEventListener è§¦å‘'</span>);
    };
    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleNativeClick);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      btn.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, handleNativeClick);
    };
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{btnRef}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleReactClick}</span>&gt;</span>
      ç‚¹å‡»æµ‹è¯•
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
<p>ç‚¹å‡»æŒ‰é’®åï¼Œæ§åˆ¶å°è¾“å‡ºé¡ºåºæ˜¯ï¼š<code>åŸç”Ÿäº‹ä»¶ï¼šaddEventListener è§¦å‘</code> â†’ <code>React äº‹ä»¶ï¼šonClick è§¦å‘</code>ã€‚è¿™ä¸ªé¡ºåºæ˜¯ä¸æ˜¯å’Œä½ é¢„æœŸçš„ä¸ä¸€æ ·ï¼Ÿ</p>
<p>å†æŠŠæ¡ˆä¾‹æ”¹ä¸€ä¸‹ï¼Œç»™æŒ‰é’®çš„çˆ¶å…ƒç´ ä¹Ÿæ·»åŠ äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">EventDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> btnRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> parentRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-comment">// çˆ¶å…ƒç´  React äº‹ä»¶</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleParentReactClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶å…ƒç´  React äº‹ä»¶ï¼šonClick è§¦å‘'</span>);
  };

  <span class="hljs-comment">// å­å…ƒç´  React äº‹ä»¶</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleReactClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´  React äº‹ä»¶ï¼šonClick è§¦å‘'</span>);
  };

  <span class="hljs-comment">// çˆ¶å…ƒç´ åŸç”Ÿäº‹ä»¶</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> parent = parentRef.<span class="hljs-property">current</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleParentNativeClick</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶å…ƒç´ åŸç”Ÿäº‹ä»¶ï¼šaddEventListener è§¦å‘'</span>);
    };
    parent.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleParentNativeClick);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      parent.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, handleParentNativeClick);
    };
  }, []);

  <span class="hljs-comment">// å­å…ƒç´ åŸç”Ÿäº‹ä»¶</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> btn = btnRef.<span class="hljs-property">current</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleNativeClick</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´ åŸç”Ÿäº‹ä»¶ï¼šaddEventListener è§¦å‘'</span>);
    };
    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleNativeClick);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      btn.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, handleNativeClick);
    };
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{parentRef}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleParentReactClick}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>', <span class="hljs-attr">border:</span> '<span class="hljs-attr">1px</span> <span class="hljs-attr">solid</span> #<span class="hljs-attr">ccc</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{btnRef}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleReactClick}</span>&gt;</span>
        ç‚¹å‡»æµ‹è¯•
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ç‚¹å‡»æŒ‰é’®åï¼Œæ§åˆ¶å°è¾“å‡ºé¡ºåºæ˜¯ï¼š</p>
<ol>
<li>å­å…ƒç´ åŸç”Ÿäº‹ä»¶ï¼šaddEventListener è§¦å‘ï¼ˆåŸç”Ÿå†’æ³¡é˜¶æ®µå…ˆè§¦å‘å­å…ƒç´ ï¼‰</li>
<li>çˆ¶å…ƒç´ åŸç”Ÿäº‹ä»¶ï¼šaddEventListener è§¦å‘ï¼ˆåŸç”Ÿå†’æ³¡é˜¶æ®µå‘ä¸Šä¼ æ’­ï¼‰</li>
<li>å­å…ƒç´  React äº‹ä»¶ï¼šonClick è§¦å‘</li>
<li>çˆ¶å…ƒç´  React äº‹ä»¶ï¼šonClick è§¦å‘</li>
</ol>
<p>è¿™ä¸ªç»“æœæ›´è®©äººå›°æƒ‘äº†ï¼šä¸ºä»€ä¹ˆåŸç”Ÿäº‹ä»¶çš„å†’æ³¡é¡ºåºå’Œ React äº‹ä»¶çš„å†’æ³¡é¡ºåºå®Œå…¨ç›¸åï¼Ÿä¸ºä»€ä¹ˆ React äº‹ä»¶æ€»æ˜¯åœ¨åŸç”Ÿäº‹ä»¶ä¹‹åè§¦å‘ï¼Ÿè¦è§£ç­”è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆææ‡‚ React äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒâ€”â€”<strong>äº‹ä»¶ä»£ç†æœºåˆ¶</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒåŸç† 1ï¼šReact äº‹ä»¶ä»£ç†æœºåˆ¶ï¼ˆäº‹ä»¶å§”æ‰˜ï¼‰</h2>
<p>React äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒä¼˜åŒ–ç‚¹å°±æ˜¯â€œäº‹ä»¶ä»£ç†â€ï¼ˆä¹Ÿå«äº‹ä»¶å§”æ‰˜ï¼‰ã€‚åœ¨åŸç”Ÿ DOM ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç»™æ¯ä¸ªå…ƒç´ å•ç‹¬ç»‘å®šäº‹ä»¶ï¼›è€Œ React åˆ™æ˜¯å°†<strong>æ‰€æœ‰ UI äº‹ä»¶ï¼ˆå¦‚ onClickã€onChangeã€onMouseMove ç­‰ï¼‰éƒ½å§”æ‰˜ç»™äº†æœ€é¡¶å±‚çš„ document èŠ‚ç‚¹</strong>ï¼ˆReact 17 åŠä¹‹åç‰ˆæœ¬æ”¹ä¸ºå§”æ‰˜ç»™ root èŠ‚ç‚¹ï¼Œå³ React æŒ‚è½½çš„æ ¹å®¹å™¨ï¼Œå¦‚ #rootï¼ŒReact 19 å»¶ç»­è¿™ä¸€è®¾è®¡ï¼‰ã€‚</p>
<h3 data-id="heading-2">1. äº‹ä»¶ä»£ç†çš„æ ¸å¿ƒé€»è¾‘</h3>
<p>ç®€å•æ¥è¯´ï¼ŒReact äº‹ä»¶ä»£ç†çš„æµç¨‹æ˜¯ï¼š</p>
<ol>
<li>React ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œå¹¶ä¸ä¼šç»™å¯¹åº”çš„ DOM å…ƒç´ ç›´æ¥ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè€Œæ˜¯å°†äº‹ä»¶ç±»å‹ï¼ˆå¦‚ clickï¼‰ã€äº‹ä»¶å¤„ç†å‡½æ•°ã€ç»„ä»¶ä¿¡æ¯ç­‰å­˜å…¥ä¸€ä¸ªâ€œäº‹ä»¶æ³¨å†Œè¡¨â€ï¼›</li>
<li>åœ¨ React æŒ‚è½½çš„æ ¹å®¹å™¨ï¼ˆå¦‚ #rootï¼‰ä¸Šï¼Œç»Ÿä¸€ç»‘å®šåŸç”Ÿäº‹ä»¶ï¼ˆå¦‚ addEventListener('click', ç»Ÿä¸€å¤„ç†å‡½æ•°)ï¼‰ï¼›</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»å…ƒç´ æ—¶ï¼Œäº‹ä»¶ä¼šä»ç›®æ ‡å…ƒç´ åŸç”Ÿå†’æ³¡åˆ°æ ¹å®¹å™¨ï¼›</li>
<li>æ ¹å®¹å™¨çš„ç»Ÿä¸€å¤„ç†å‡½æ•°æ•è·åˆ°äº‹ä»¶åï¼Œä¼šæ ¹æ®äº‹ä»¶ç›®æ ‡ï¼ˆtargetï¼‰ä»â€œäº‹ä»¶æ³¨å†Œè¡¨â€ä¸­æ‰¾åˆ°å¯¹åº”çš„ React äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œç„¶åæ‰§è¡Œã€‚</li>
</ol>
<h3 data-id="heading-3">2. ç”¨å›¾ä¾‹æ¢³ç†äº‹ä»¶ä»£ç†æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/885c87f09c314b15b3168b4929375f50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCV5rWq54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768871655&amp;x-signature=cvzACer1lZ6fESPPLfNlr%2B2OMqA%3D" alt="dispatch-event.46e8e5ef.png" loading="lazy"/></p>
<h3 data-id="heading-4">3. ç®€åŒ–ä»£ç æ¨¡æ‹Ÿ React äº‹ä»¶ä»£ç†</h3>
<p>ä¸ºäº†è®©å¤§å®¶æ›´ç›´è§‚ç†è§£ï¼Œæˆ‘ä»¬ç”¨åŸç”Ÿ JS æ¨¡æ‹Ÿ React äº‹ä»¶ä»£ç†çš„æ ¸å¿ƒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. äº‹ä»¶æ³¨å†Œè¡¨ï¼šå­˜å‚¨ React ç»„ä»¶çš„äº‹ä»¶ä¿¡æ¯</span>
<span class="hljs-keyword">const</span> eventRegistry = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

<span class="hljs-comment">// 2. React æ ¹å®¹å™¨ï¼ˆæ¨¡æ‹Ÿ #rootï¼‰</span>
<span class="hljs-keyword">const</span> root = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>);

<span class="hljs-comment">// 3. ç»Ÿä¸€äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆæ ¹å®¹å™¨ç»‘å®šçš„åŸç”Ÿäº‹ä»¶å¤„ç†å‡½æ•°ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleRootEvent</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-comment">// e.target æ˜¯äº‹ä»¶çš„å®é™…ç›®æ ‡ï¼ˆå¦‚æŒ‰é’®ï¼‰</span>
  <span class="hljs-keyword">const</span> target = e.<span class="hljs-property">target</span>;

  <span class="hljs-comment">// ä»äº‹ä»¶æ³¨å†Œè¡¨ä¸­æŸ¥æ‰¾å½“å‰ç›®æ ‡åŠç¥–å…ˆå…ƒç´ çš„äº‹ä»¶å¤„ç†å‡½æ•°</span>
  <span class="hljs-keyword">let</span> current = target;
  <span class="hljs-keyword">const</span> handlers = [];

  <span class="hljs-keyword">while</span> (current &amp;&amp; current !== root) {
    <span class="hljs-comment">// æŸ¥æ‰¾å½“å‰å…ƒç´ å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆè¿™é‡Œç®€åŒ–ä¸º click äº‹ä»¶ï¼‰</span>
    <span class="hljs-keyword">const</span> eventKey = <span class="hljs-string">`<span class="hljs-subst">${current.dataset.reactId}</span>-click`</span>;
    <span class="hljs-keyword">if</span> (eventRegistry.<span class="hljs-title function_">has</span>(eventKey)) {
      handlers.<span class="hljs-title function_">push</span>(eventRegistry.<span class="hljs-title function_">get</span>(eventKey));
    }
    <span class="hljs-comment">// å‘ä¸Šéå†ç¥–å…ˆå…ƒç´ ï¼ˆæ¨¡æ‹Ÿå†’æ³¡ï¼‰</span>
    current = current.<span class="hljs-property">parentNode</span>;
  }

  <span class="hljs-comment">// æ‰§è¡Œæ‰¾åˆ°çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆé¡ºåºï¼šå­å…ƒç´  â†’ çˆ¶å…ƒç´ ï¼Œæ¨¡æ‹Ÿ React äº‹ä»¶å†’æ³¡ï¼‰</span>
  handlers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">handler</span> =&gt;</span> <span class="hljs-title function_">handler</span>(e));
}

<span class="hljs-comment">// 4. ç»™æ ¹å®¹å™¨ç»‘å®šåŸç”Ÿäº‹ä»¶ï¼ˆæ¨¡æ‹Ÿ React åˆå§‹åŒ–æ—¶çš„ç»‘å®šï¼‰</span>
root.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleRootEvent);

<span class="hljs-comment">// 5. æ¨¡æ‹Ÿ React ç»„ä»¶ç»‘å®šäº‹ä»¶ï¼ˆå°†äº‹ä»¶å­˜å…¥æ³¨å†Œè¡¨ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">bindReactEvent</span>(<span class="hljs-params">reactId, element, eventType, handler</span>) {
  element.<span class="hljs-property">dataset</span>.<span class="hljs-property">reactId</span> = reactId; <span class="hljs-comment">// ç»™å…ƒç´ æ ‡è®° React ID</span>
  <span class="hljs-keyword">const</span> eventKey = <span class="hljs-string">`<span class="hljs-subst">${reactId}</span>-<span class="hljs-subst">${eventType}</span>`</span>;
  eventRegistry.<span class="hljs-title function_">set</span>(eventKey, handler);
}

<span class="hljs-comment">// 6. æµ‹è¯•ï¼šåˆ›å»ºç»„ä»¶å…ƒç´ å¹¶ç»‘å®š React äº‹ä»¶</span>
<span class="hljs-keyword">const</span> parentDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
parentDiv.<span class="hljs-property">style</span>.<span class="hljs-property">padding</span> = <span class="hljs-string">'20px'</span>;
parentDiv.<span class="hljs-property">style</span>.<span class="hljs-property">border</span> = <span class="hljs-string">'1px solid #ccc'</span>;

<span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'button'</span>);
btn.<span class="hljs-property">textContent</span> = <span class="hljs-string">'ç‚¹å‡»æµ‹è¯•'</span>;
parentDiv.<span class="hljs-title function_">appendChild</span>(btn);
root.<span class="hljs-title function_">appendChild</span>(parentDiv);

<span class="hljs-comment">// ç»™çˆ¶å…ƒç´ ç»‘å®š React ç‚¹å‡»äº‹ä»¶</span>
<span class="hljs-title function_">bindReactEvent</span>(<span class="hljs-string">'parent-1'</span>, parentDiv, <span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶å…ƒç´  React äº‹ä»¶ï¼šonClick è§¦å‘'</span>);
});

<span class="hljs-comment">// ç»™å­å…ƒç´ ç»‘å®š React ç‚¹å‡»äº‹ä»¶</span>
<span class="hljs-title function_">bindReactEvent</span>(<span class="hljs-string">'btn-1'</span>, btn, <span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´  React äº‹ä»¶ï¼šonClick è§¦å‘'</span>);
});

<span class="hljs-comment">// ç»™å­å…ƒç´ ç»‘å®šåŸç”Ÿç‚¹å‡»äº‹ä»¶</span>
btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´ åŸç”Ÿäº‹ä»¶ï¼šaddEventListener è§¦å‘'</span>);
});

<span class="hljs-comment">// ç»™çˆ¶å…ƒç´ ç»‘å®šåŸç”Ÿç‚¹å‡»äº‹ä»¶</span>
parentDiv.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶å…ƒç´ åŸç”Ÿäº‹ä»¶ï¼šaddEventListener è§¦å‘'</span>);
});
</code></pre>
<p>è¿è¡Œè¿™æ®µä»£ç åï¼Œç‚¹å‡»æŒ‰é’®çš„è¾“å‡ºé¡ºåºå’Œæˆ‘ä»¬ä¹‹å‰çš„ React æ¡ˆä¾‹å®Œå…¨ä¸€è‡´ï¼è¿™å°±éªŒè¯äº† React äº‹ä»¶ä»£ç†çš„æ ¸å¿ƒé€»è¾‘ï¼š<strong>React äº‹ä»¶æ˜¯é€šè¿‡æ ¹å®¹å™¨çš„åŸç”Ÿäº‹ä»¶ç»Ÿä¸€æ•è·ï¼Œå†é€šè¿‡äº‹ä»¶æ³¨å†Œè¡¨æŸ¥æ‰¾å¹¶æ‰§è¡Œå¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œå…¶â€œå†’æ³¡â€æ˜¯æ¨¡æ‹Ÿå‡ºæ¥çš„ï¼Œè€ŒéåŸç”Ÿ DOM å†’æ³¡</strong>ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒåŸç† 2ï¼šReact UI äº‹ä»¶ä¸åŸç”Ÿ window äº‹ä»¶çš„å…³ç³»</h2>
<p>ç†è§£äº†äº‹ä»¶ä»£ç†æœºåˆ¶åï¼Œæˆ‘ä»¬å°±èƒ½æ¸…æ™°å˜æ¸… React UI äº‹ä»¶ä¸åŸç”Ÿ window äº‹ä»¶çš„å…³ç³»äº†ã€‚é¦–å…ˆè¦æ˜ç¡®ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š</p>
<ul>
<li><strong>React UI äº‹ä»¶</strong>ï¼šå°±æ˜¯æˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å†™çš„ onClickã€onChange ç­‰äº‹ä»¶ï¼Œæ˜¯ React å°è£…åçš„â€œåˆæˆäº‹ä»¶â€ï¼Œä¾èµ–äº‹ä»¶ä»£ç†æœºåˆ¶æ‰§è¡Œï¼›</li>
<li><strong>åŸç”Ÿ window äº‹ä»¶</strong>ï¼šå°±æ˜¯é€šè¿‡ window.addEventListener ç»‘å®šçš„äº‹ä»¶ï¼ˆå¦‚ resizeã€scrollã€click ç­‰ï¼‰ï¼Œæ˜¯æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„äº‹ä»¶ï¼Œéµå¾ªåŸç”Ÿ DOM äº‹ä»¶æµï¼ˆæ•è·â†’ç›®æ ‡â†’å†’æ³¡ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-6">1. ä¸¤è€…çš„æ ¸å¿ƒå…³è”ï¼šäº‹ä»¶æµçš„å…ˆåé¡ºåº</h3>
<p>React UI äº‹ä»¶çš„æ‰§è¡Œä¾èµ–äºæ ¹å®¹å™¨çš„åŸç”Ÿäº‹ä»¶æ•è·ï¼Œè€Œæ ¹å®¹å™¨æ˜¯ window ä¸‹çš„ä¸€ä¸ª DOM èŠ‚ç‚¹ã€‚å› æ­¤ï¼ŒReact UI äº‹ä»¶çš„æ‰§è¡Œé¡ºåºï¼Œå¿…ç„¶å¤„äºåŸç”Ÿäº‹ä»¶æµçš„â€œå†’æ³¡é˜¶æ®µâ€ï¼ˆå› ä¸ºäº‹ä»¶è¦å…ˆå†’æ³¡åˆ°æ ¹å®¹å™¨ï¼Œæ‰èƒ½è¢« React çš„ç»Ÿä¸€å¤„ç†å‡½æ•°æ•è·ï¼‰ã€‚</p>
<p>æˆ‘ä»¬ç”¨â€œåŸç”Ÿäº‹ä»¶æµ+React äº‹ä»¶æµâ€çš„ç»„åˆæµç¨‹å›¾ï¼Œæ¢³ç†ä¸¤è€…çš„å…ˆåå…³ç³»ï¼š</p>
<h3 data-id="heading-7">2. ä»£ç éªŒè¯ï¼šReact äº‹ä»¶ä¸ window äº‹ä»¶çš„é¡ºåº</h3>
<p>æˆ‘ä»¬ç”¨ä»£ç éªŒè¯ä¸Šè¿°æµç¨‹ï¼Œç»™ window ç»‘å®šæ•è·å’Œå†’æ³¡é˜¶æ®µçš„ click äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">EventWithWindowDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> btnRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-comment">// React äº‹ä»¶</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleReactClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'React äº‹ä»¶ï¼šonClick è§¦å‘'</span>);
  };

  <span class="hljs-comment">// åŸç”Ÿäº‹ä»¶ï¼ˆç›®æ ‡å…ƒç´ ï¼‰</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> btn = btnRef.<span class="hljs-property">current</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBtnNative</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç›®æ ‡å…ƒç´ åŸç”Ÿäº‹ä»¶ï¼šå†’æ³¡é˜¶æ®µ è§¦å‘'</span>);
    };
    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleBtnNative);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> btn.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, handleBtnNative);
  }, []);

  <span class="hljs-comment">// window åŸç”Ÿäº‹ä»¶ï¼ˆæ•è·é˜¶æ®µï¼‰</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleWindowCapture</span> = (<span class="hljs-params">e</span>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'window åŸç”Ÿäº‹ä»¶ï¼šæ•è·é˜¶æ®µ è§¦å‘'</span>);
    };
    <span class="hljs-comment">// ç¬¬ä¸‰ä¸ªå‚æ•°ä¸º trueï¼Œè¡¨ç¤ºåœ¨æ•è·é˜¶æ®µæ‰§è¡Œ</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleWindowCapture, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, handleWindowCapture, <span class="hljs-literal">true</span>);
  }, []);

  <span class="hljs-comment">// window åŸç”Ÿäº‹ä»¶ï¼ˆå†’æ³¡é˜¶æ®µï¼‰</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleWindowBubble</span> = (<span class="hljs-params">e</span>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'window åŸç”Ÿäº‹ä»¶ï¼šå†’æ³¡é˜¶æ®µ è§¦å‘'</span>);
    };
    <span class="hljs-comment">// ç¬¬ä¸‰ä¸ªå‚æ•°çœç•¥æˆ–ä¸º falseï¼Œè¡¨ç¤ºåœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œ</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleWindowBubble);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, handleWindowBubble);
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{btnRef}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleReactClick}</span>&gt;</span>
      ç‚¹å‡»æµ‹è¯•ï¼ˆå« window äº‹ä»¶ï¼‰
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
<p>ç‚¹å‡»æŒ‰é’®åï¼Œæ§åˆ¶å°è¾“å‡ºé¡ºåºå¦‚ä¸‹ï¼Œå®Œå…¨ç¬¦åˆæˆ‘ä»¬æ¢³ç†çš„æµç¨‹ï¼š</p>
<ol>
<li>window åŸç”Ÿäº‹ä»¶ï¼šæ•è·é˜¶æ®µ è§¦å‘ï¼ˆåŸç”Ÿæ•è·é˜¶æ®µä» window å¼€å§‹ï¼‰</li>
<li>ç›®æ ‡å…ƒç´ åŸç”Ÿäº‹ä»¶ï¼šå†’æ³¡é˜¶æ®µ è§¦å‘ï¼ˆåŸç”Ÿç›®æ ‡é˜¶æ®µï¼‰</li>
<li>React äº‹ä»¶ï¼šonClick è§¦å‘ï¼ˆäº‹ä»¶å†’æ³¡åˆ°æ ¹å®¹å™¨ï¼Œè¢« React æ•è·æ‰§è¡Œï¼‰</li>
<li>window åŸç”Ÿäº‹ä»¶ï¼šå†’æ³¡é˜¶æ®µ è§¦å‘ï¼ˆäº‹ä»¶æœ€ç»ˆå†’æ³¡åˆ° windowï¼‰</li>
</ol>
<h3 data-id="heading-8">3. å…³é”®ç»“è®ºï¼šReact äº‹ä»¶æ˜¯åŸç”Ÿäº‹ä»¶çš„â€œå­é›†â€ä¸â€œå»¶è¿Ÿæ‰§è¡Œâ€</h3>
<p>ä»ä¸Šè¿°æµç¨‹å’Œä»£ç å¯ä»¥å¾—å‡ºæ ¸å¿ƒç»“è®ºï¼š</p>
<ul>
<li>React äº‹ä»¶å¹¶éè„±ç¦»åŸç”Ÿäº‹ä»¶å­˜åœ¨ï¼Œè€Œæ˜¯<strong>åŸºäºåŸç”Ÿäº‹ä»¶å®ç°çš„å°è£…</strong>â€”â€”React UI äº‹ä»¶çš„æ‰§è¡Œï¼Œä¾èµ–äºåŸç”Ÿäº‹ä»¶å†’æ³¡åˆ°æ ¹å®¹å™¨çš„è¿‡ç¨‹ï¼›</li>
<li>React äº‹ä»¶çš„æ‰§è¡Œæ—¶æœº<strong>æ™šäºç›®æ ‡å…ƒç´ åŠç¥–å…ˆå…ƒç´ çš„åŸç”Ÿäº‹ä»¶</strong>ï¼ˆå› ä¸ºè¦ç­‰äº‹ä»¶å†’æ³¡åˆ°æ ¹å®¹å™¨ï¼‰ï¼Œä½†<strong>æ—©äº window ä¸Šçš„åŸç”Ÿå†’æ³¡äº‹ä»¶</strong>ï¼›</li>
<li>window ä¸Šçš„åŸç”Ÿæ•è·äº‹ä»¶ï¼Œä¼šåœ¨æ•´ä¸ªäº‹ä»¶æµçš„æœ€å¼€å§‹æ‰§è¡Œï¼Œç”šè‡³æ—©äºç›®æ ‡å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ã€‚</li>
</ul>
<h2 data-id="heading-9">å››ã€æ ¸å¿ƒåŸç† 3ï¼šåˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ä¸åŸç”Ÿäº‹ä»¶å¯¹è±¡çš„å…³ç³»</h2>
<p>é™¤äº†æ‰§è¡Œé¡ºåºï¼ŒReact äº‹ä»¶å¯¹è±¡ï¼ˆSyntheticEventï¼‰ä¸åŸç”Ÿäº‹ä»¶å¯¹è±¡ä¹Ÿå­˜åœ¨å·®å¼‚ã€‚åœ¨ React äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æ‹¿åˆ°çš„ event ä¸æ˜¯åŸç”Ÿçš„ Event å¯¹è±¡ï¼Œè€Œæ˜¯ React å°è£…çš„ SyntheticEvent å¯¹è±¡ã€‚</p>
<h3 data-id="heading-10">1. åˆæˆäº‹ä»¶çš„æ ¸å¿ƒä½œç”¨</h3>
<p>React å°è£… SyntheticEvent çš„æ ¸å¿ƒç›®çš„æ˜¯ï¼š</p>
<ul>
<li><strong>è·¨æµè§ˆå™¨å…¼å®¹</strong>ï¼šä¸åŒæµè§ˆå™¨çš„åŸç”Ÿäº‹ä»¶å¯¹è±¡å­˜åœ¨å·®å¼‚ï¼ˆå¦‚ IE çš„ event.srcElement vs æ ‡å‡†çš„ event.targetï¼‰ï¼ŒSyntheticEvent ç»Ÿä¸€äº†è¿™äº›å·®å¼‚ï¼Œè®©å¼€å‘è€…æ— éœ€å…³æ³¨æµè§ˆå™¨å…¼å®¹ï¼›</li>
<li><strong>äº‹ä»¶å¯¹è±¡æ± å¤ç”¨</strong>ï¼šReact ä¼šå¤ç”¨ SyntheticEvent å¯¹è±¡ï¼ˆå‡å°‘å†…å­˜å¼€é”€ï¼‰ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°æ‰§è¡Œå®Œåï¼Œä¼šæ¸…ç©ºå¯¹è±¡çš„å±æ€§ï¼ˆå¦‚ event.targetã€event.preventDefault() ç­‰ï¼‰ï¼›</li>
<li><strong>ç»Ÿä¸€çš„äº‹ä»¶ API</strong>ï¼šSyntheticEvent æä¾›äº†ä¸åŸç”Ÿäº‹ä»¶å¯¹è±¡ç›¸ä¼¼çš„ APIï¼ˆå¦‚ preventDefaultã€stopPropagationï¼‰ï¼Œä½†è¡Œä¸ºæœ‰ç»†å¾®å·®å¼‚ã€‚</li>
</ul>
<h3 data-id="heading-11">2. åˆæˆäº‹ä»¶ä¸åŸç”Ÿäº‹ä»¶å¯¹è±¡çš„å…³è”</h3>
<p>SyntheticEvent å¯¹è±¡å†…éƒ¨æŒæœ‰åŸç”Ÿäº‹ä»¶å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯é€šè¿‡ <code>event.nativeEvent</code> è·å–åŸç”Ÿäº‹ä»¶å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleReactClick</span> = (<span class="hljs-params">event</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">SyntheticEvent</span>); <span class="hljs-comment">// true</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">nativeEvent</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Event</span>); <span class="hljs-comment">// trueï¼ˆåŸç”Ÿäº‹ä»¶å¯¹è±¡ï¼‰</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span> === event.<span class="hljs-property">nativeEvent</span>.<span class="hljs-property">target</span>); <span class="hljs-comment">// trueï¼ˆç»Ÿä¸€ç›®æ ‡å…ƒç´ ï¼‰</span>
};
</code></pre>
<h3 data-id="heading-12">3. æ³¨æ„ç‚¹ï¼šåˆæˆäº‹ä»¶çš„äº‹ä»¶é˜»æ­¢</h3>
<p>åœ¨ React äº‹ä»¶ä¸­ï¼Œè°ƒç”¨ <code>event.stopPropagation()</code> åªèƒ½é˜»æ­¢ React äº‹ä»¶çš„â€œæ¨¡æ‹Ÿå†’æ³¡â€ï¼ˆå³é˜»æ­¢çˆ¶ç»„ä»¶çš„ React äº‹ä»¶æ‰§è¡Œï¼‰ï¼Œä½†<strong>æ— æ³•é˜»æ­¢åŸç”Ÿäº‹ä»¶çš„å†’æ³¡</strong>ï¼›å¦‚æœè¦é˜»æ­¢åŸç”Ÿäº‹ä»¶å†’æ³¡ï¼Œéœ€è¦è°ƒç”¨åŸç”Ÿäº‹ä»¶å¯¹è±¡çš„ <code>stopPropagation()</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleReactClick</span> = (<span class="hljs-params">event</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´  React äº‹ä»¶è§¦å‘'</span>);
  <span class="hljs-comment">// é˜»æ­¢ React äº‹ä»¶çš„æ¨¡æ‹Ÿå†’æ³¡ï¼ˆçˆ¶ç»„ä»¶çš„ React äº‹ä»¶ä¸ä¼šæ‰§è¡Œï¼‰</span>
  event.<span class="hljs-title function_">stopPropagation</span>();
  <span class="hljs-comment">// é˜»æ­¢åŸç”Ÿäº‹ä»¶çš„å†’æ³¡ï¼ˆçˆ¶å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ã€window äº‹ä»¶ä¸ä¼šæ‰§è¡Œï¼‰</span>
  event.<span class="hljs-property">nativeEvent</span>.<span class="hljs-title function_">stopPropagation</span>();
};
</code></pre>
<p>æ³¨æ„ï¼šåœ¨ React 17 ä¹‹å‰ï¼Œåˆæˆäº‹ä»¶çš„äº‹ä»¶æ± å¤ç”¨æœºåˆ¶ä¼šå¯¼è‡´â€œå¼‚æ­¥è®¿é—®äº‹ä»¶å±æ€§å¤±æ•ˆâ€ï¼ˆå¦‚åœ¨ setTimeout ä¸­è®¿é—® event.target ä¼šæ˜¯ nullï¼‰ï¼Œéœ€è¦ç”¨ event.persist() ä¿ç•™äº‹ä»¶å±æ€§ï¼›React 17 åŠä¹‹åï¼ˆåŒ…æ‹¬ React 19ï¼‰ï¼Œç§»é™¤äº†äº‹ä»¶æ± å¤ç”¨æœºåˆ¶ï¼Œå¼‚æ­¥è®¿é—®äº‹ä»¶å±æ€§ä¹Ÿèƒ½æ­£å¸¸è·å–ã€‚</p>
<h2 data-id="heading-13">äº”ã€å®æˆ˜é¿å‘ï¼šReact äº‹ä»¶ä¸åŸç”Ÿäº‹ä»¶ååŒçš„å¸¸è§é—®é¢˜</h2>
<p>ç†è§£äº†ä¸Šè¿°åŸç†åï¼Œæˆ‘ä»¬å°±èƒ½è§£å†³å®é™…å¼€å‘ä¸­ React äº‹ä»¶ä¸åŸç”Ÿäº‹ä»¶ååŒçš„å¸¸è§é—®é¢˜äº†ã€‚ä¸‹é¢åˆ—ä¸¾ 3 ä¸ªé«˜é¢‘é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼š</p>
<h3 data-id="heading-14">é—®é¢˜ 1ï¼šReact äº‹ä»¶ä¸åŸç”Ÿäº‹ä»¶å†’æ³¡å†²çªï¼Œå¯¼è‡´é‡å¤æ‰§è¡Œ</h3>
<p>åœºæ™¯ï¼šçˆ¶ç»„ä»¶ç”¨ React äº‹ä»¶ï¼Œå­ç»„ä»¶ç”¨åŸç”Ÿäº‹ä»¶ï¼Œç‚¹å‡»å­ç»„ä»¶æ—¶ï¼Œçˆ¶ç»„ä»¶çš„ React äº‹ä»¶å’Œå­ç»„ä»¶çš„åŸç”Ÿäº‹ä»¶éƒ½æ‰§è¡Œï¼Œä¸ç¬¦åˆé¢„æœŸã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šåœ¨å­ç»„ä»¶çš„åŸç”Ÿäº‹ä»¶ä¸­ï¼Œè°ƒç”¨åŸç”Ÿäº‹ä»¶å¯¹è±¡çš„ stopPropagation()ï¼Œé˜»æ­¢äº‹ä»¶å†’æ³¡åˆ°æ ¹å®¹å™¨ï¼Œä»è€Œé˜»æ­¢ React äº‹ä»¶æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> btn = btnRef.<span class="hljs-property">current</span>;
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleNativeClick</span> = (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´ åŸç”Ÿäº‹ä»¶è§¦å‘'</span>);
    e.<span class="hljs-title function_">stopPropagation</span>(); <span class="hljs-comment">// é˜»æ­¢åŸç”Ÿäº‹ä»¶å†’æ³¡ï¼ŒReact äº‹ä»¶ä¸ä¼šæ‰§è¡Œ</span>
  };
  btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleNativeClick);
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> btn.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, handleNativeClick);
}, []);
</code></pre>
<h3 data-id="heading-15">é—®é¢˜ 2ï¼šwindow äº‹ä»¶æœªç§»é™¤ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼</h3>
<p>åœºæ™¯ï¼šåœ¨ç»„ä»¶ä¸­ç»‘å®š window åŸç”Ÿäº‹ä»¶ï¼ˆå¦‚ resizeã€scrollï¼‰ï¼Œç»„ä»¶å¸è½½åï¼Œäº‹ä»¶æœªç§»é™¤ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šåœ¨ useEffect çš„æ¸…ç†å‡½æ•°ä¸­ï¼Œç§»é™¤ window äº‹ä»¶ç»‘å®šï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleWindowResize</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çª—å£å¤§å°å˜åŒ–'</span>);
  };
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, handleWindowResize);
  <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶ç§»é™¤äº‹ä»¶</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, handleWindowResize);
  };
}, []);
</code></pre>
<h3 data-id="heading-16">é—®é¢˜ 3ï¼šReact äº‹ä»¶ä¸­å¼‚æ­¥è®¿é—®äº‹ä»¶å±æ€§å¤±æ•ˆï¼ˆReact 17 ä¹‹å‰ï¼‰</h3>
<p>åœºæ™¯ï¼šåœ¨ React 17 åŠä¹‹å‰ç‰ˆæœ¬ä¸­ï¼Œåœ¨ setTimeout ä¸­è®¿é—® event.target ä¼šæ˜¯ nullã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šè°ƒç”¨ event.persist() ä¿ç•™äº‹ä»¶å±æ€§ï¼Œæˆ–æå‰ä¿å­˜éœ€è¦çš„å±æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–¹æ¡ˆ 1ï¼šè°ƒç”¨ event.persist()</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleReactClick</span> = (<span class="hljs-params">event</span>) =&gt; {
  event.<span class="hljs-title function_">persist</span>(); <span class="hljs-comment">// ä¿ç•™äº‹ä»¶å±æ€§</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>); <span class="hljs-comment">// æ­£å¸¸è·å–</span>
  }, <span class="hljs-number">1000</span>);
};

<span class="hljs-comment">// æ–¹æ¡ˆ 2ï¼šæå‰ä¿å­˜å±æ€§</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleReactClick</span> = (<span class="hljs-params">event</span>) =&gt; {
  <span class="hljs-keyword">const</span> target = event.<span class="hljs-property">target</span>; <span class="hljs-comment">// æå‰ä¿å­˜</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(target); <span class="hljs-comment">// æ­£å¸¸è·å–</span>
  }, <span class="hljs-number">1000</span>);
};
</code></pre>
<p>æ³¨æ„ï¼šReact 17 åŠä¹‹åç‰ˆæœ¬ï¼ˆåŒ…æ‹¬ React 19ï¼‰å·²ç§»é™¤äº‹ä»¶æ± å¤ç”¨æœºåˆ¶ï¼Œæ— éœ€è°ƒç”¨ event.persist()ï¼Œå¼‚æ­¥è®¿é—®äº‹ä»¶å±æ€§ä¹Ÿèƒ½æ­£å¸¸è·å–ã€‚</p>
<h2 data-id="heading-17">å…­ã€æ ¸å¿ƒæ€»ç»“</h2>
<p>ä»Šå¤©æˆ‘ä»¬ä»æ¡ˆä¾‹å‡ºå‘ï¼Œæ‹†è§£äº† React 19 äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒåŸç†ï¼Œé‡ç‚¹å˜æ¸…äº† React UI äº‹ä»¶ä¸åŸç”Ÿ window äº‹ä»¶çš„å…³ç³»ï¼Œæœ€åç»™å‡ºäº†å®æˆ˜é¿å‘æ–¹æ¡ˆã€‚æ ¸å¿ƒè¦ç‚¹æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>React äº‹ä»¶çš„æ ¸å¿ƒæ˜¯äº‹ä»¶ä»£ç†</strong>ï¼šæ‰€æœ‰ UI äº‹ä»¶å§”æ‰˜ç»™æ ¹å®¹å™¨ï¼ˆ#rootï¼‰ï¼Œé€šè¿‡äº‹ä»¶æ³¨å†Œè¡¨æŸ¥æ‰¾å¹¶æ‰§è¡Œå¤„ç†å‡½æ•°ï¼Œå…¶â€œå†’æ³¡â€æ˜¯æ¨¡æ‹Ÿçš„ï¼›</li>
<li><strong>React äº‹ä»¶ä¸åŸç”Ÿäº‹ä»¶çš„é¡ºåº</strong>ï¼šwindow åŸç”Ÿæ•è·äº‹ä»¶ â†’ ç›®æ ‡å…ƒç´ /ç¥–å…ˆå…ƒç´ åŸç”Ÿäº‹ä»¶ â†’ React äº‹ä»¶ â†’ window åŸç”Ÿå†’æ³¡äº‹ä»¶ï¼›</li>
<li><strong>åˆæˆäº‹ä»¶æ˜¯åŸç”Ÿäº‹ä»¶çš„å°è£…</strong>ï¼šæä¾›è·¨æµè§ˆå™¨å…¼å®¹å’Œç»Ÿä¸€ APIï¼Œå¯é€šè¿‡ event.nativeEvent è·å–åŸç”Ÿäº‹ä»¶å¯¹è±¡ï¼›</li>
<li><strong>å®æˆ˜é¿å‘å…³é”®</strong>ï¼šé˜»æ­¢åŸç”Ÿå†’æ³¡éœ€è°ƒç”¨ event.nativeEvent.stopPropagation()ï¼›window äº‹ä»¶éœ€åœ¨ç»„ä»¶å¸è½½æ—¶ç§»é™¤ï¼›React 17 ä¹‹å‰å¼‚æ­¥è®¿é—®äº‹ä»¶å±æ€§éœ€ç”¨ event.persist()ã€‚</li>
</ol>
<h2 data-id="heading-18">ä¸ƒã€ä¸‹ä¸€æ­¥å­¦ä¹ æ–¹å‘</h2>
<p>æŒæ¡äº† React äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒåŸç†åï¼Œä¸‹ä¸€æ­¥å¯ä»¥é‡ç‚¹å­¦ä¹ ï¼š</p>
<ul>
<li>React 19 äº‹ä»¶ç³»ç»Ÿçš„æ–°ç‰¹æ€§ï¼šå¦‚å¯¹åŸç”Ÿäº‹ä»¶çš„è¿›ä¸€æ­¥ä¼˜åŒ–ã€ä¸å¹¶å‘æ¸²æŸ“çš„ååŒç­‰ï¼›</li>
<li>äº‹ä»¶æ€§èƒ½ä¼˜åŒ–ï¼šå¦‚é˜²æŠ–èŠ‚æµåœ¨ React äº‹ä»¶ä¸­çš„åº”ç”¨ã€é¿å…ä¸å¿…è¦çš„äº‹ä»¶ç»‘å®šï¼›</li>
<li>ç‰¹æ®Šäº‹ä»¶åœºæ™¯ï¼šå¦‚è¡¨å•äº‹ä»¶ï¼ˆonSubmitã€onChangeï¼‰çš„ç‰¹æ®Šå¤„ç†ã€æ‹–æ‹½äº‹ä»¶ä¸ React äº‹ä»¶çš„ååŒã€‚</li>
</ul>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï½ æœ‰ä»»ä½•é—®é¢˜ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï½ æˆ‘ä»¬ä¸‹æœŸå†è§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java å¼‚æ­¥è°ƒç”¨å¤±è´¥å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Ÿè¿™ä»½é‡è¯•æœºåˆ¶æ•‘äº†æˆ‘]]></title>    <link>https://juejin.cn/post/7594322573453033515</link>    <guid>https://juejin.cn/post/7594322573453033515</guid>    <pubDate>2026-01-13T01:17:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594322573453033515" data-draft-id="7583910418658295854" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java å¼‚æ­¥è°ƒç”¨å¤±è´¥å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Ÿè¿™ä»½é‡è¯•æœºåˆ¶æ•‘äº†æˆ‘"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-13T01:17:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java å¼‚æ­¥è°ƒç”¨å¤±è´¥å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Ÿè¿™ä»½é‡è¯•æœºåˆ¶æ•‘äº†æˆ‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:17:59.000Z" title="Tue Jan 13 2026 01:17:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.å¼‚æ­¥ç¼–ç¨‹ä»‹ç»</h2>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹</h3>
<p>å¼‚æ­¥ç¼–ç¨‹æ˜¯ä¸€ç§éé˜»å¡çš„ç¼–ç¨‹æ¨¡å¼ï¼Œå…è®¸ç¨‹åºåœ¨ç­‰å¾…æŸä¸ªæ“ä½œå®Œæˆæ—¶ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œè€Œä¸æ˜¯ä¸€ç›´ç­‰å¾…ã€‚</p>
<p>å½“æ“ä½œå®Œæˆåï¼Œé€šè¿‡å›è°ƒå‡½æ•°ã€Future æˆ–äº‹ä»¶é€šçŸ¥ç­‰æ–¹å¼è·å–ç»“æœã€‚</p>
<p><strong>åŒæ­¥ vs å¼‚æ­¥å¯¹æ¯”ï¼š</strong></p>
<ul>
<li><strong>åŒæ­¥</strong>ï¼šé¡ºåºæ‰§è¡Œï¼Œæ¯ä¸€æ­¥å¿…é¡»ç­‰å¾…å‰ä¸€æ­¥å®Œæˆ</li>
<li><strong>å¼‚æ­¥</strong>ï¼šéé˜»å¡æ‰§è¡Œï¼Œå¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡</li>
</ul>
<h3 data-id="heading-2">Java ä¸­çš„å¼‚æ­¥å®ç°æ–¹å¼</h3>
<h4 data-id="heading-3">1. CompletableFuture (Java 8+)</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºå¼‚æ­¥ä»»åŠ¡</span>
CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {
    <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
    <span class="hljs-keyword">try</span> {
        Thread.sleep(<span class="hljs-number">1000</span>);
    } <span class="hljs-keyword">catch</span> (InterruptedException e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">"å¼‚æ­¥ä»»åŠ¡ç»“æœ"</span>;
});

<span class="hljs-comment">// å¤„ç†ç»“æœ</span>
future.thenAccept(result -&gt; System.out.println(<span class="hljs-string">"ç»“æœ: "</span> + result));
</code></pre>
<h4 data-id="heading-4">2. @Async æ³¨è§£ (Spring Framework)</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncService</span> {
    
    <span class="hljs-meta">@Async</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">asyncMethod</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å¼‚æ­¥æ‰§è¡Œçš„æ–¹æ³•</span>
        <span class="hljs-keyword">return</span> CompletableFuture.completedFuture(<span class="hljs-string">"æ‰§è¡Œç»“æœ"</span>);
    }
}
</code></pre>
<h4 data-id="heading-5">3. å›è°ƒå‡½æ•°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Callback</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(String result)</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Exception e)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">asyncOperation</span><span class="hljs-params">(Callback callback)</span> {
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ¨¡æ‹Ÿæ“ä½œ</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> doSomething();
            callback.onSuccess(result);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            callback.onError(e);
        }
    }).start();
}
</code></pre>
<h2 data-id="heading-6">2.å¼‚æ­¥ç¼–ç¨‹ä¸­çš„å¸¸è§é”™è¯¯</h2>
<h3 data-id="heading-7">2.1 ç½‘ç»œç›¸å…³é”™è¯¯</h3>
<ul>
<li>è¿æ¥è¶…æ—¶</li>
<li>è¯»å–è¶…æ—¶</li>
<li>DNS è§£æå¤±è´¥</li>
<li>ç½‘ç»œä¸å¯è¾¾</li>
</ul>
<h3 data-id="heading-8">2.2 èµ„æºç›¸å…³é”™è¯¯</h3>
<ul>
<li>å†…å­˜ä¸è¶³</li>
<li>çº¿ç¨‹æ± è€—å°½</li>
<li>æ•°æ®åº“è¿æ¥è¶…æ—¶</li>
</ul>
<h3 data-id="heading-9">2.3 ä¸šåŠ¡é€»è¾‘é”™è¯¯</h3>
<ul>
<li>è¿œç¨‹æœåŠ¡è¿”å›é”™è¯¯ç </li>
<li>æ•°æ®æ ¼å¼å¼‚å¸¸</li>
<li>ä¸šåŠ¡è§„åˆ™æ ¡éªŒå¤±è´¥</li>
</ul>
<h3 data-id="heading-10">2.4 ç¤ºä¾‹ï¼šå¯èƒ½å‡ºé”™çš„å¼‚æ­¥æ–¹æ³•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UnreliableService</span> {
    
    <span class="hljs-comment">// æ¨¡æ‹Ÿä¸å¯é çš„è¿œç¨‹æœåŠ¡è°ƒç”¨</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">callExternalService</span><span class="hljs-params">(String data)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// æ¨¡æ‹Ÿéšæœºé”™è¯¯</span>
            <span class="hljs-type">double</span> <span class="hljs-variable">random</span> <span class="hljs-operator">=</span> Math.random();
            <span class="hljs-keyword">if</span> (random &lt; <span class="hljs-number">0.3</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ç½‘ç»œè¶…æ—¶"</span>);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (random &lt; <span class="hljs-number">0.6</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æœåŠ¡ç«¯é”™è¯¯"</span>);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"å¤„ç†ç»“æœ: "</span> + data;
        });
    }
}
</code></pre>
<h2 data-id="heading-11">3. å¼‚æ­¥é‡è¯•æœºåˆ¶å®ç°</h2>
<h3 data-id="heading-12">3.1 æ‰‹åŠ¨é‡è¯•å®ç°</h3>
<h4 data-id="heading-13">3.1.1 åŸºç¡€é‡è¯•é€»è¾‘</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleRetry</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; CompletableFuture&lt;T&gt; <span class="hljs-title function_">retryAsync</span><span class="hljs-params">(
            Supplier&lt;CompletableFuture&lt;T&gt;&gt; task, 
            <span class="hljs-type">int</span> maxAttempts, 
            <span class="hljs-type">long</span> delayMs)</span> {
        
        CompletableFuture&lt;T&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>&lt;&gt;();
        retryAsync(task, maxAttempts, delayMs, <span class="hljs-number">1</span>, result);
        <span class="hljs-keyword">return</span> result;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">retryAsync</span><span class="hljs-params">(
            Supplier&lt;CompletableFuture&lt;T&gt;&gt; task, 
            <span class="hljs-type">int</span> maxAttempts, 
            <span class="hljs-type">long</span> delayMs, 
            <span class="hljs-type">int</span> attempt, 
            CompletableFuture&lt;T&gt; result)</span> {
        
        task.get().whenComplete((response, throwable) -&gt; {
            <span class="hljs-keyword">if</span> (throwable == <span class="hljs-literal">null</span>) {
                result.complete(response);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (attempt &gt;= maxAttempts) {
                result.completeExceptionally(throwable);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å»¶è¿Ÿåé‡è¯•</span>
                CompletableFuture.delayedExecutor(delayMs, TimeUnit.MILLISECONDS)
                    .execute(() -&gt; retryAsync(task, maxAttempts, delayMs, attempt + <span class="hljs-number">1</span>, result));
            }
        });
    }
}
</code></pre>
<h3 data-id="heading-14">3.2 ä½¿ç”¨ Spring Retry</h3>
<h4 data-id="heading-15">3.2.1 æ·»åŠ ä¾èµ–</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.retry<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-retry<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-aspects<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-16">3.2.2 é…ç½®é‡è¯•æ¨¡æ¿</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableRetry</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RetryTemplate <span class="hljs-title function_">retryTemplate</span><span class="hljs-params">()</span> {
        <span class="hljs-type">RetryTemplate</span> <span class="hljs-variable">template</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RetryTemplate</span>();
        
        <span class="hljs-comment">// é‡è¯•ç­–ç•¥ï¼šæœ€å¤šé‡è¯•3æ¬¡ï¼Œé‡åˆ°ç‰¹å®šå¼‚å¸¸æ—¶é‡è¯•</span>
        <span class="hljs-type">SimpleRetryPolicy</span> <span class="hljs-variable">retryPolicy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleRetryPolicy</span>(<span class="hljs-number">3</span>, 
            Collections.singletonMap(RuntimeException.class, <span class="hljs-literal">true</span>));
        template.setRetryPolicy(retryPolicy);
        
        <span class="hljs-comment">// é€€é¿ç­–ç•¥ï¼šæ¯æ¬¡é‡è¯•é—´éš”1ç§’</span>
        <span class="hljs-type">FixedBackOffPolicy</span> <span class="hljs-variable">backOffPolicy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FixedBackOffPolicy</span>();
        backOffPolicy.setBackOffPeriod(<span class="hljs-number">1000</span>);
        template.setBackOffPolicy(backOffPolicy);
        
        <span class="hljs-keyword">return</span> template;
    }
}
</code></pre>
<h4 data-id="heading-17">3.2.3 ä½¿ç”¨ @Retryable æ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryableService</span> {
    
    <span class="hljs-meta">@Retryable(
        value = {RuntimeException.class},
        maxAttempts = 3,
        backoff = @Backoff(delay = 1000)
    )</span>
    <span class="hljs-meta">@Async</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">retryableAsyncMethod</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// æ¨¡æ‹Ÿå¯èƒ½å¤±è´¥çš„æ“ä½œ</span>
            <span class="hljs-keyword">if</span> (Math.random() &lt; <span class="hljs-number">0.7</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ä¸´æ—¶é”™è¯¯"</span>);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æˆåŠŸç»“æœ"</span>;
        });
    }
    
    <span class="hljs-meta">@Recover</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">recover</span><span class="hljs-params">(RuntimeException e)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.completedFuture(<span class="hljs-string">"é™çº§ç»“æœ"</span>);
    }
}
</code></pre>
<h3 data-id="heading-18">3.3 é«˜çº§é‡è¯•ç­–ç•¥å®ç°</h3>
<h4 data-id="heading-19">3.3.1 æŒ‡æ•°é€€é¿é‡è¯•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExponentialBackoffRetry</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; CompletableFuture&lt;T&gt; <span class="hljs-title function_">retryWithExponentialBackoff</span><span class="hljs-params">(
            Supplier&lt;CompletableFuture&lt;T&gt;&gt; task,
            <span class="hljs-type">int</span> maxAttempts,
            <span class="hljs-type">long</span> initialDelay,
            <span class="hljs-type">long</span> maxDelay)</span> {
        
        <span class="hljs-keyword">return</span> retryWithExponentialBackoff(task, maxAttempts, initialDelay, maxDelay, <span class="hljs-number">1</span>);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> &lt;T&gt; CompletableFuture&lt;T&gt; <span class="hljs-title function_">retryWithExponentialBackoff</span><span class="hljs-params">(
            Supplier&lt;CompletableFuture&lt;T&gt;&gt; task,
            <span class="hljs-type">int</span> maxAttempts,
            <span class="hljs-type">long</span> initialDelay,
            <span class="hljs-type">long</span> maxDelay,
            <span class="hljs-type">int</span> attempt)</span> {
        
        CompletableFuture&lt;T&gt; future = task.get();
        
        <span class="hljs-keyword">if</span> (attempt &gt;= maxAttempts) {
            <span class="hljs-keyword">return</span> future;
        }
        
        <span class="hljs-keyword">return</span> future.handle((result, throwable) -&gt; {
            <span class="hljs-keyword">if</span> (throwable == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> CompletableFuture.completedFuture(result);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// è®¡ç®—é€€é¿æ—¶é—´</span>
                <span class="hljs-type">long</span> <span class="hljs-variable">delay</span> <span class="hljs-operator">=</span> Math.min(maxDelay, initialDelay * (<span class="hljs-type">long</span>) Math.pow(<span class="hljs-number">2</span>, attempt - <span class="hljs-number">1</span>));
                
                <span class="hljs-comment">// æ·»åŠ éšæœºæŠ–åŠ¨é¿å…æƒŠç¾¤æ•ˆåº”</span>
                delay = (<span class="hljs-type">long</span>) (delay * (<span class="hljs-number">0.5</span> + Math.random()));
                
                CompletableFuture&lt;T&gt; nextAttempt = CompletableFuture
                    .delayedExecutor(delay, TimeUnit.MILLISECONDS)
                    .supplyAsync(() -&gt; 
                        retryWithExponentialBackoff(task, maxAttempts, initialDelay, maxDelay, attempt + <span class="hljs-number">1</span>)
                    )
                    .thenCompose(cf -&gt; cf);
                
                <span class="hljs-keyword">return</span> nextAttempt;
            }
        }).thenCompose(cf -&gt; cf);
    }
}
</code></pre>
<h4 data-id="heading-20">3.3.2 åŸºäºæ¡ä»¶çš„é‡è¯•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConditionalRetry</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; CompletableFuture&lt;T&gt; <span class="hljs-title function_">retryWithCondition</span><span class="hljs-params">(
            Supplier&lt;CompletableFuture&lt;T&gt;&gt; task,
            Predicate&lt;Throwable&gt; shouldRetry,
            <span class="hljs-type">int</span> maxAttempts,
            Function&lt;Integer, Long&gt; delayCalculator)</span> {
        
        CompletableFuture&lt;T&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>&lt;&gt;();
        retryWithCondition(task, shouldRetry, maxAttempts, delayCalculator, <span class="hljs-number">1</span>, result);
        <span class="hljs-keyword">return</span> result;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">retryWithCondition</span><span class="hljs-params">(
            Supplier&lt;CompletableFuture&lt;T&gt;&gt; task,
            Predicate&lt;Throwable&gt; shouldRetry,
            <span class="hljs-type">int</span> maxAttempts,
            Function&lt;Integer, Long&gt; delayCalculator,
            <span class="hljs-type">int</span> attempt,
            CompletableFuture&lt;T&gt; result)</span> {
        
        task.get().whenComplete((response, throwable) -&gt; {
            <span class="hljs-keyword">if</span> (throwable == <span class="hljs-literal">null</span>) {
                result.complete(response);
                <span class="hljs-keyword">return</span>;
            }
            
            <span class="hljs-type">boolean</span> <span class="hljs-variable">canRetry</span> <span class="hljs-operator">=</span> attempt &lt; maxAttempts &amp;&amp; shouldRetry.test(throwable);
            
            <span class="hljs-keyword">if</span> (!canRetry) {
                result.completeExceptionally(throwable);
                <span class="hljs-keyword">return</span>;
            }
            
            <span class="hljs-type">long</span> <span class="hljs-variable">delay</span> <span class="hljs-operator">=</span> delayCalculator.apply(attempt);
            CompletableFuture.delayedExecutor(delay, TimeUnit.MILLISECONDS)
                .execute(() -&gt; 
                    retryWithCondition(task, shouldRetry, maxAttempts, delayCalculator, attempt + <span class="hljs-number">1</span>, result)
                );
        });
    }
}
</code></pre>
<h3 data-id="heading-21">3.4 å®Œæ•´çš„é‡è¯•å·¥å…·ç±»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncRetryUtil</span> {
    
    <span class="hljs-comment">/**
     * å¼‚æ­¥é‡è¯•æ‰§è¡Œå™¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncRetryBuilder</span>&lt;T&gt; {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Supplier&lt;CompletableFuture&lt;T&gt;&gt; task;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">maxAttempts</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;
        <span class="hljs-keyword">private</span> Predicate&lt;Throwable&gt; retryCondition = ex -&gt; <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">private</span> Function&lt;Integer, Long&gt; delayStrategy = attempt -&gt; <span class="hljs-number">1000L</span> * attempt;
        <span class="hljs-keyword">private</span> Consumer&lt;Integer&gt; onRetry = attempt -&gt; {};
        <span class="hljs-keyword">private</span> Function&lt;Throwable, T&gt; fallback = <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">private</span> <span class="hljs-title function_">AsyncRetryBuilder</span><span class="hljs-params">(Supplier&lt;CompletableFuture&lt;T&gt;&gt; task)</span> {
            <span class="hljs-built_in">this</span>.task = task;
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; AsyncRetryBuilder&lt;T&gt; <span class="hljs-title function_">of</span><span class="hljs-params">(Supplier&lt;CompletableFuture&lt;T&gt;&gt; task)</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncRetryBuilder</span>&lt;&gt;(task);
        }
        
        <span class="hljs-keyword">public</span> AsyncRetryBuilder&lt;T&gt; <span class="hljs-title function_">maxAttempts</span><span class="hljs-params">(<span class="hljs-type">int</span> maxAttempts)</span> {
            <span class="hljs-built_in">this</span>.maxAttempts = maxAttempts;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
        }
        
        <span class="hljs-keyword">public</span> AsyncRetryBuilder&lt;T&gt; <span class="hljs-title function_">retryIf</span><span class="hljs-params">(Predicate&lt;Throwable&gt; condition)</span> {
            <span class="hljs-built_in">this</span>.retryCondition = condition;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
        }
        
        <span class="hljs-keyword">public</span> AsyncRetryBuilder&lt;T&gt; <span class="hljs-title function_">delayStrategy</span><span class="hljs-params">(Function&lt;Integer, Long&gt; strategy)</span> {
            <span class="hljs-built_in">this</span>.delayStrategy = strategy;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
        }
        
        <span class="hljs-keyword">public</span> AsyncRetryBuilder&lt;T&gt; <span class="hljs-title function_">onRetry</span><span class="hljs-params">(Consumer&lt;Integer&gt; callback)</span> {
            <span class="hljs-built_in">this</span>.onRetry = callback;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
        }
        
        <span class="hljs-keyword">public</span> AsyncRetryBuilder&lt;T&gt; <span class="hljs-title function_">fallback</span><span class="hljs-params">(Function&lt;Throwable, T&gt; fallback)</span> {
            <span class="hljs-built_in">this</span>.fallback = fallback;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
        }
        
        <span class="hljs-keyword">public</span> CompletableFuture&lt;T&gt; <span class="hljs-title function_">execute</span><span class="hljs-params">()</span> {
            CompletableFuture&lt;T&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>&lt;&gt;();
            execute(<span class="hljs-number">1</span>, result);
            <span class="hljs-keyword">return</span> result;
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">execute</span><span class="hljs-params">(<span class="hljs-type">int</span> attempt, CompletableFuture&lt;T&gt; result)</span> {
            task.get().whenComplete((response, throwable) -&gt; {
                <span class="hljs-keyword">if</span> (throwable == <span class="hljs-literal">null</span>) {
                    result.complete(response);
                    <span class="hljs-keyword">return</span>;
                }
                
                <span class="hljs-type">boolean</span> <span class="hljs-variable">shouldRetry</span> <span class="hljs-operator">=</span> attempt &lt; maxAttempts &amp;&amp; retryCondition.test(throwable);
                
                <span class="hljs-keyword">if</span> (!shouldRetry) {
                    <span class="hljs-keyword">if</span> (fallback != <span class="hljs-literal">null</span>) {
                        <span class="hljs-keyword">try</span> {
                            <span class="hljs-type">T</span> <span class="hljs-variable">fallbackResult</span> <span class="hljs-operator">=</span> fallback.apply(throwable);
                            result.complete(fallbackResult);
                        } <span class="hljs-keyword">catch</span> (Exception e) {
                            result.completeExceptionally(e);
                        }
                    } <span class="hljs-keyword">else</span> {
                        result.completeExceptionally(throwable);
                    }
                    <span class="hljs-keyword">return</span>;
                }
                
                onRetry.accept(attempt);
                <span class="hljs-type">long</span> <span class="hljs-variable">delay</span> <span class="hljs-operator">=</span> delayStrategy.apply(attempt);
                
                CompletableFuture.delayedExecutor(delay, TimeUnit.MILLISECONDS)
                    .execute(() -&gt; execute(attempt + <span class="hljs-number">1</span>, result));
            });
        }
    }
}
</code></pre>
<h3 data-id="heading-22">3.5 ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ¨¡æ‹Ÿä¸å¯é çš„æœåŠ¡</span>
        Supplier&lt;CompletableFuture&lt;String&gt;&gt; unreliableService = () -&gt; 
            CompletableFuture.supplyAsync(() -&gt; {
                <span class="hljs-type">double</span> <span class="hljs-variable">rand</span> <span class="hljs-operator">=</span> Math.random();
                <span class="hljs-keyword">if</span> (rand &lt; <span class="hljs-number">0.8</span>) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æœåŠ¡æš‚æ—¶ä¸å¯ç”¨"</span>);
                }
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡è°ƒç”¨æˆåŠŸ"</span>;
            });
        
        <span class="hljs-comment">// ä½¿ç”¨é‡è¯•å·¥å…·</span>
        CompletableFuture&lt;String&gt; result = AsyncRetryUtil.AsyncRetryBuilder
            .of(unreliableService)
            .maxAttempts(<span class="hljs-number">5</span>)
            .retryIf(ex -&gt; ex.getMessage().contains(<span class="hljs-string">"æš‚æ—¶ä¸å¯ç”¨"</span>))
            .delayStrategy(attempt -&gt; <span class="hljs-number">1000L</span> * attempt) <span class="hljs-comment">// çº¿æ€§é€€é¿</span>
            .onRetry(attempt -&gt; 
                System.out.println(<span class="hljs-string">"ç¬¬ "</span> + attempt + <span class="hljs-string">" æ¬¡é‡è¯•..."</span>))
            .fallback(ex -&gt; <span class="hljs-string">"é™çº§ç»“æœ"</span>)
            .execute();
        
        result.whenComplete((response, error) -&gt; {
            <span class="hljs-keyword">if</span> (error != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"æœ€ç»ˆå¤±è´¥: "</span> + error.getMessage());
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"æœ€ç»ˆç»“æœ: "</span> + response);
            }
        });
        
        <span class="hljs-comment">// ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆ</span>
        Thread.sleep(<span class="hljs-number">10000</span>);
    }
}
</code></pre>
<h2 data-id="heading-23">4. æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-24">4.1 é‡è¯•ç­–ç•¥é€‰æ‹©</h3>
<ul>
<li><strong>ç½‘ç»œè¶…æ—¶</strong>ï¼šä½¿ç”¨æŒ‡æ•°é€€é¿ + éšæœºæŠ–åŠ¨</li>
<li><strong>æœåŠ¡é™æµ</strong>ï¼šæ ¹æ®è¿”å›çš„ç­‰å¾…æ—¶é—´é‡è¯•</li>
<li><strong>ä¸šåŠ¡é”™è¯¯</strong>ï¼šæ ¹æ®å…·ä½“é”™è¯¯ç å†³å®šæ˜¯å¦é‡è¯•</li>
</ul>
<h3 data-id="heading-25">4.2 é¿å…çš„é—®é¢˜</h3>
<ol>
<li><strong>æ— é™é‡è¯•</strong>ï¼šè®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°</li>
<li><strong>èµ„æºè€—å°½</strong>ï¼šåˆç†æ§åˆ¶é‡è¯•é¢‘ç‡</li>
<li><strong>é›ªå´©æ•ˆåº”</strong>ï¼šä½¿ç”¨æ–­è·¯å™¨æ¨¡å¼é…åˆé‡è¯•</li>
<li><strong>é‡å¤æ“ä½œ</strong>ï¼šç¡®ä¿æ“ä½œçš„å¹‚ç­‰æ€§</li>
</ol>
<h3 data-id="heading-26">4.3 ç›‘æ§å’Œæ—¥å¿—</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ·»åŠ é‡è¯•ç›‘æ§</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryMonitor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">MeterRegistry</span> <span class="hljs-variable">meterRegistry</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleMeterRegistry</span>();
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">recordRetry</span><span class="hljs-params">(String operation, <span class="hljs-type">int</span> attempt)</span> {
        Counter.builder(<span class="hljs-string">"retry.attempts"</span>)
            .tag(<span class="hljs-string">"operation"</span>, operation)
            .register(meterRegistry)
            .increment();
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">recordSuccess</span><span class="hljs-params">(String operation, <span class="hljs-type">long</span> duration)</span> {
        Timer.builder(<span class="hljs-string">"retry.duration"</span>)
            .tag(<span class="hljs-string">"operation"</span>, operation)
            .tag(<span class="hljs-string">"status"</span>, <span class="hljs-string">"success"</span>)
            .register(meterRegistry)
            .record(duration, TimeUnit.MILLISECONDS);
    }
}
</code></pre>
<p>å…·ä½“ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„é‡è¯•ç­–ç•¥ï¼Œæé«˜ç³»ç»Ÿçš„å®¹é”™èƒ½åŠ›å’Œç¨³å®šæ€§ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-27">ğŸ“Œå¾€æœŸå†…å®¹</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FUqzEppE_f8gdil6S-toBTg" target="_blank" title="https://mp.weixin.qq.com/s/UqzEppE_f8gdil6S-toBTg" ref="nofollow noopener noreferrer">å†™å‰ç«¯ä¹…äº†ï¼Œæˆ‘ç”¨ Node.js ç»™è‡ªå·±é€ äº†å‡ ä¸ªçœåŠ›å°å·¥å…·</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FF4JkmYxUs9RAtsti6V1uhg" target="_blank" title="https://mp.weixin.qq.com/s/F4JkmYxUs9RAtsti6V1uhg" ref="nofollow noopener noreferrer">æˆ‘ä¹Ÿæ˜¯å†™äº†å¾ˆä¹… TypeScriptï¼Œæ‰æ„è¯†åˆ°è¿™äº›å†™æ³•ä¸å¯¹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F2wHCiqgtRfK_008fLBamPQ" target="_blank" title="https://mp.weixin.qq.com/s/2wHCiqgtRfK_008fLBamPQ" ref="nofollow noopener noreferrer">ThreadLocal åœ¨å®é™…é¡¹ç›®ä¸­çš„ 6 å¤§ç”¨æ³•ï¼ŒåŸæ¥å¯ä»¥è¿™ä¹ˆç®€å•</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FsMAKhSLNvmU1ddxg0yv9Fg" target="_blank" title="https://mp.weixin.qq.com/s/sMAKhSLNvmU1ddxg0yv9Fg" ref="nofollow noopener noreferrer">é‡æ„äº†20ä¸ªSpringBooté¡¹ç›®åï¼Œæ€»ç»“å‡ºè¿™å¥—ç¨³å®šé«˜æ•ˆçš„æ¶æ„è®¾è®¡</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring çš„è¥¿è¥¿å¼—æ–¯ä¹‹çŸ³ï¼šç†è§£ BeanFactoryã€FactoryBean ä¸ ObjectFactory]]></title>    <link>https://juejin.cn/post/7594301878828498982</link>    <guid>https://juejin.cn/post/7594301878828498982</guid>    <pubDate>2026-01-13T01:23:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594301878828498982" data-draft-id="7592615536385458210" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring çš„è¥¿è¥¿å¼—æ–¯ä¹‹çŸ³ï¼šç†è§£ BeanFactoryã€FactoryBean ä¸ ObjectFactory"/> <meta itemprop="keywords" content="åç«¯,Spring,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-13T01:23:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ—…äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3485898277388519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring çš„è¥¿è¥¿å¼—æ–¯ä¹‹çŸ³ï¼šç†è§£ BeanFactoryã€FactoryBean ä¸ ObjectFactory
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485898277388519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ—…äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:23:40.000Z" title="Tue Jan 13 2026 01:23:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©ï¼Œä»£ç åˆæŠ¥é”™äº†ã€‚æˆ–è€…ä¹Ÿè®¸æ˜¯æ˜¨å¤©ï¼Œæˆ‘ä¸æ¸…æ¥šã€‚
ä¸ç®¡æ€æ ·ï¼ŒSpring å®¹å™¨æŠ›å‡ºäº†ä¸€ä¸ª <code>BeanCreationException</code>ã€‚ä¸ºäº†è§£å†³å®ƒï¼Œæˆ‘è¢«è¿«æ½œå…¥æ¡†æ¶çš„æ·±å¤„ï¼Œå»æ³¨è§†é‚£äº›å¹³æ—¶è¢« <code>@Autowired</code> æ©ç›–çš„é½¿è½®ã€‚</p>
<p>åœ¨ Spring çš„ä¸–ç•Œé‡Œï¼Œå­˜åœ¨ç€ä¸€ç§å¿…ç„¶çš„å¤æ‚æ€§ã€‚è¿™ç§å¤æ‚æ€§å¹¶éè®¾è®¡è€…çš„æ¶è¶£å‘³ï¼Œè€Œæ˜¯ä¸ºäº†åœ¨ä¸€ä¸ªé™æ€çš„è¯­è¨€ä¸­æ„å»ºåŠ¨æ€ä¸–ç•Œæ‰€ä»˜å‡ºçš„ä»£ä»·ã€‚</p>
<p>åœ¨è¿™ä¸ªåºå¤§çš„æœºå™¨ä¸­ï¼Œæœ‰ä¸‰ä¸ªåå­—æå…¶ç›¸ä¼¼çš„æ¦‚å¿µç»å¸¸è¢«æ··æ·†ï¼š<code>BeanFactory</code>ã€<code>FactoryBean</code> å’Œ <code>ObjectFactory</code>ã€‚è¿™å¹¶ä¸æ˜¯å‘½åçš„è´«ç˜ ï¼Œè€Œæ˜¯å®ƒä»¬åœ¨æœ¬è´¨ä¸Šç¡®å®å­˜åœ¨ç€å¾®å¦™çš„çº ç¼ ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å‰¥ç¦»æ‰é‚£äº›èŠ±å“¨çš„æ¯”å–»å’Œæ— ç”¨çš„ç³–è¡£ï¼Œç”¨ä¸€ç§å†·é™çš„ã€è¿‘ä¹è§£å‰–å­¦çš„è§†è§’ï¼Œå»å®¡è§†è¿™ä¸‰ä¸ªæ¦‚å¿µçš„æœ¬è´¨ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€BeanFactoryï¼šå­˜åœ¨çš„å®¹å™¨</h2>
<p><strong>è®©æˆ‘ä»¬é¦–å…ˆçº æ­£ä¸€ä¸ªè§‚å¿µï¼šBeanFactory åä¸ºå·¥å‚ï¼Œä½†å…¶æœ¬è´¨æ˜¯å®¹å™¨ï¼ˆContainerï¼‰ã€‚</strong></p>
<p>å½“æˆ‘ä»¬è°ˆè®º Spring å®¹å™¨æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨è°ˆè®º <code>BeanFactory</code>ã€‚å®ƒæ˜¯ Spring IoC å®¹å™¨çš„æ ¹æ¥å£ï¼Œæ˜¯æ•´ä¸ªä¸–ç•Œçš„ç‰©ç†æ³•åˆ™ã€‚</p>
<h3 data-id="heading-1">1.1 å”¯ä¸€çš„èŒè´£</h3>
<p>å®ƒçš„å®šä¹‰æå…¶å…‹åˆ¶ã€‚å®ƒä¸å…³å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œåªå…³å¿ƒä¸€ä»¶äº‹ï¼š<strong>ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BeanFactory</span> {
    Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(String name)</span> <span class="hljs-keyword">throws</span> BeansException;
    &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(String name, Class&lt;T&gt; requiredType)</span>;
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">containsBean</span><span class="hljs-params">(String name)</span>;
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>å½“ä½ å¯åŠ¨ä¸€ä¸ª Spring Boot åº”ç”¨æ—¶ï¼Œ<code>ApplicationContext</code> å°±åƒä¸€ä¸ªå……æ»¡æ´»åŠ›çš„åŸå¸‚ï¼Œè€Œ <code>BeanFactory</code> åˆ™æ˜¯æ”¯æ’‘è¿™åº§åŸå¸‚çš„åœ°ä¸‹ç®¡ç½‘ã€‚æ‰€æœ‰çš„ BeanDefinitionï¼ˆå…³äº Bean åº”è¯¥å¦‚ä½•åˆ›å»ºçš„è“å›¾ï¼‰éƒ½æ³¨å†Œåœ¨è¿™é‡Œã€‚</p>
<h3 data-id="heading-2">1.2 æ®‹é…·çš„ç°å®</h3>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦ç›´æ¥ä¸ <code>BeanFactory</code> å¯¹è¯ã€‚å› ä¸º <code>ApplicationContext</code> å·²ç»ä¸ºä½ å°è£…å¥½äº†ä¸€åˆ‡ã€‚
ä½†å½“ä½ è¯•å›¾ç†è§£ä¸ºä»€ä¹ˆä½ çš„ Bean æ²¡æœ‰è¢«æ­£ç¡®åˆå§‹åŒ–ï¼Œæˆ–è€…ä¸ºä»€ä¹ˆä½ çš„å¾ªç¯ä¾èµ–å¤±æ•ˆæ—¶ï¼Œä½ å°±å¿…é¡»æ„è¯†åˆ°ï¼š<strong>ä½ æ‰€æœ‰çš„ Beanï¼Œéƒ½åªæ˜¯ <code>BeanFactory</code> ä¸­çš„ entriesï¼ˆæ¡ç›®ï¼‰ã€‚</strong></p>
<p>å®ƒæ˜¯ä¸€ä¸ªå·¨å¤§çš„ <code>Map&lt;String, BeanDefinition&gt;</code> å’Œ <code>Map&lt;String, Object&gt;</code> çš„ç®¡ç†è€…ã€‚å®ƒå†·é…·æ— æƒ…ï¼ŒåªæŒ‰ç…§å®šä¹‰çš„è§„åˆ™ï¼ˆScope, Lazy, Dependenceï¼‰æ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚</p>
<hr/>
<h2 data-id="heading-3">äºŒã€FactoryBeanï¼šå¿…è¦çš„æ¬ºéª—</h2>
<p>å¦‚æœè¯´ <code>BeanFactory</code> æ˜¯å®è§‚è§„åˆ™çš„åˆ¶å®šè€…ï¼Œé‚£ä¹ˆ <code>FactoryBean</code> å°±æ˜¯å¾®è§‚è§„åˆ™çš„<strong>æ½œè¡Œè€…</strong>ã€‚</p>
<h3 data-id="heading-4">2.1 é™æ€è¯­è¨€çš„å›°å¢ƒ</h3>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼š<strong>ä½ éœ€è¦æ³¨å…¥ä¸€ä¸ªæ¥å£çš„å®ç°ï¼Œä½†è¿™ä¸ªå®ç°ç±»å¹¶ä¸å­˜åœ¨äºä»£ç ä¸­ï¼Œå®ƒæ˜¯é€šè¿‡åŠ¨æ€ä»£ç†åœ¨è¿è¡Œæ—¶ç”Ÿæˆçš„ã€‚</strong>
è¿™åœ¨ RPC æ¡†æ¶ï¼ˆå¦‚ Dubboã€Feignï¼‰å’Œ ORM æ¡†æ¶ï¼ˆå¦‚ MyBatisï¼‰ä¸­æå…¶å¸¸è§ã€‚</p>
<p>ä½ æ— æ³•é€šè¿‡ç®€å•çš„ <code>&lt;bean class="..."&gt;</code> æˆ– <code>@Component</code> æ¥æè¿°ä¸€ä¸ªâ€œä¸å­˜åœ¨çš„ç±»â€ã€‚
è¿™æ—¶å€™ï¼Œä½ éœ€è¦ä¸€ä¸ªä¸­é—´äººã€‚è¿™ä¸ªä¸­é—´äººè¡¨é¢ä¸Šæ˜¯ä¸€ä¸ªæ™®é€šçš„ Beanï¼Œä½†å®é™…ä¸Šï¼Œå®ƒæ˜¯ä¸€ä¸ªå·¥å‚ã€‚</p>
<h3 data-id="heading-5">2.2 ä¼ªè£…çš„è‰ºæœ¯ï¼šä»¥ MyBatis ä¸ºä¾‹</h3>
<p>ä¸ºä»€ä¹ˆä½ åªéœ€è¦å†™ä¸€ä¸ª <code>UserMapper</code> æ¥å£ï¼Œå°±èƒ½ç›´æ¥ <code>@Autowired</code> ä½¿ç”¨ï¼Ÿ
å› ä¸º Spring å®¹å™¨é‡Œæ³¨å†Œçš„é‚£ä¸ª "userMapper" Beanï¼Œæ ¹æœ¬ä¸æ˜¯ä½ çš„æ¥å£å®ç°ï¼Œè€Œæ˜¯ä¸€ä¸ª <code>MapperFactoryBean</code>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç®€åŒ–çš„é€»è¾‘ç¤ºæ„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapperFactoryBean</span>&lt;T&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">FactoryBean</span>&lt;T&gt; {
    
    <span class="hljs-keyword">private</span> Class&lt;T&gt; mapperInterface;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">getObject</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// å¾€é‡Œè·Ÿè¿›ï¼Œæœ€ç»ˆè¿™é‡Œå‘ç”Ÿäº†é­”æ³•ï¼šé€šè¿‡ JDK åŠ¨æ€ä»£ç†ç”Ÿæˆæ¥å£çš„å®</span>
        <span class="hljs-keyword">return</span> (T) Proxy.newProxyInstance(
            mapperInterface.getClassLoader(), 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>[] { mapperInterface }, 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapperProxy</span>&lt;&gt;()
        );
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Class&lt;?&gt; getObjectType() {
        <span class="hljs-keyword">return</span> mapperInterface;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isSingleton</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h3 data-id="heading-6">2.3 è¿™é‡Œçš„çœŸç›¸</h3>
<p>å½“å®¹å™¨è°ƒç”¨ <code>getBean("userMapper")</code> æ—¶ï¼Œå®ƒå‘ç°è¿™æ˜¯ä¸€ä¸ª <code>FactoryBean</code>ã€‚äºæ˜¯ï¼Œå®ƒä¸ä¼šè¿”å› <code>FactoryBean</code> å®ä¾‹æœ¬èº«ï¼Œè€Œæ˜¯é»˜é»˜åœ°è°ƒç”¨ <code>getObject()</code>ï¼Œå¹¶è¿”å›é‚£ä¸ªä»£ç†å¯¹è±¡ã€‚</p>
<p>è¿™å°±æ˜¯æ¬ºéª—ã€‚<strong>ä½ ä»¥ä¸ºä½ æ‹¿åˆ°äº†ä¸€ä¸ª Beanï¼Œå…¶å®ä½ æ‹¿åˆ°çš„æ˜¯ Bean ç”Ÿäº§çš„äº§å“ã€‚</strong></p>
<p>å¦‚æœä½ æ¸´æœ›çœ‹åˆ°çœŸç›¸ï¼Œçœ‹åˆ°é‚£ä¸ªæ“çºµå‚€å„¡çš„å¹•åé»‘æ‰‹ï¼Œä½ éœ€è¦åœ¨ Bean åç§°å‰åŠ ä¸Š <code>&amp;</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–çš„æ˜¯ MapperProxy ä»£ç†å¯¹è±¡</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> context.getBean(<span class="hljs-string">"userMapper"</span>); 

<span class="hljs-comment">// è·å–çš„æ˜¯ FactoryBean å·¥å‚æœ¬èº«</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> context.getBean(<span class="hljs-string">"&amp;userMapper"</span>);
</code></pre>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ObjectFactoryï¼šæ—¶é—´çš„å»¶è¿Ÿ</h2>
<p><code>BeanFactory</code> è´Ÿè´£æŒæ§ç©ºé—´ï¼ˆå®¹å™¨ï¼‰ï¼Œ<code>FactoryBean</code> è´Ÿè´£æŒæ§æ„é€ ï¼ˆé€»è¾‘ï¼‰ï¼Œè€Œ <code>ObjectFactory</code> åˆ™æ˜¯ä¸ºäº†æŒæ§<strong>æ—¶é—´</strong>ã€‚</p>
<h3 data-id="heading-8">3.1 å¾ªç¯çš„æ­»ç»“</h3>
<p>åœ¨ Spring çš„ä¸–ç•Œé‡Œï¼Œæœ‰ä¸€ä¸ªç»å…¸çš„è’è°¬ï¼šA éœ€è¦ Bï¼ŒB éœ€è¦ Aã€‚
å¦‚æœæ˜¯æ„é€ å™¨æ³¨å…¥ï¼Œåªéœ€å¦ç„¶æ‰¿è®¤å¤±è´¥ã€‚ä½†å¦‚æœæ˜¯ Setter æ³¨å…¥ï¼ŒSpring è¯•å›¾æŒ½æ•‘è¿™ç§æ­»ç»“ã€‚</p>
<p>åœ¨ A åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ³¨å…¥ Bã€‚B åˆ›å»ºæ—¶ï¼Œåˆéœ€è¦æ³¨å…¥ Aã€‚
æ­¤æ—¶ A è¿˜åœ¨åˆ›å»ºä¸­ï¼Œå°šä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Beanã€‚æ€ä¹ˆåŠï¼Ÿ
Spring å¼•å…¥äº†ä¸‰çº§ç¼“å­˜çš„æ¦‚å¿µã€‚è€Œç¬¬ä¸‰çº§ç¼“å­˜ï¼Œå­˜æ”¾çš„å°±æ˜¯ä¸€ä¸ª <code>ObjectFactory</code>ã€‚</p>
<h3 data-id="heading-9">3.2 å›è°ƒçš„æœ¬è´¨</h3>
<p><code>ObjectFactory</code> åœ¨æºç ä¸­ç®€å•å¾—ä»¤äººå‘æŒ‡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FunctionalInterface</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ObjectFactory</span>&lt;T&gt; {
    T <span class="hljs-title function_">getObject</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> BeansException;
}
</code></pre>
<p>å®ƒåªæ˜¯ä¸€ä¸ª<strong>å‡½æ•°å¼æ¥å£</strong>ï¼Œä¸€ä¸ªå›è°ƒã€‚
å®ƒå­˜åœ¨çš„æ„ä¹‰åœ¨äºï¼š<strong>æˆ‘ç°åœ¨ä¸æƒ³è¦è¿™ä¸ªå¯¹è±¡ï¼Œä½†æˆ‘æƒ³è¦ä¸€ä¸ªâ€œåœ¨æœªæ¥æŸä¸ªæ—¶åˆ»èƒ½è·å–è¿™ä¸ªå¯¹è±¡â€çš„èƒ½åŠ›ã€‚</strong></p>
<p>åœ¨å¾ªç¯ä¾èµ–ä¸­ï¼ŒSpring æå‰æš´éœ²äº†ä¸€ä¸ª <code>ObjectFactory</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java">addSingletonFactory(beanName, () -&gt; getEarlyBeanReference(beanName, mbd, bean));
</code></pre>
<p>å½“ B éœ€è¦ A æ—¶ï¼Œå®ƒé€šè¿‡è¿™ä¸ª <code>ObjectFactory</code> æ‹¿åˆ°äº† A çš„æ—©æœŸå¼•ç”¨ï¼ˆEarly Referenceï¼‰ã€‚å°½ç®¡ A è¿˜æ²¡å®Œå…¨åˆå§‹åŒ–å¥½ï¼Œä½† B å·²ç»å¯ä»¥æŒæœ‰å®ƒçš„å¼•ç”¨äº†ã€‚æ­»ç»“è§£å¼€äº†ã€‚</p>
<h3 data-id="heading-10">3.3 ä½œç”¨åŸŸçš„é”™ä½</h3>
<p>å¦ä¸€ä¸ªåœºæ™¯æ˜¯ï¼šä¸€ä¸ªå•ä¾‹ï¼ˆSingletonï¼‰çš„ Service éœ€è¦ä½¿ç”¨ä¸€ä¸ª åŸå‹ï¼ˆPrototypeï¼‰çš„ Beanã€‚
å¦‚æœä½ ç›´æ¥ <code>@Autowired</code>ï¼ŒåŸå‹çš„ Bean åªæœ‰åœ¨ Service åˆ›å»ºæ—¶è¢«æ³¨å…¥ä¸€æ¬¡ï¼Œä¹‹åä¹Ÿå°±æ˜¯æ°¸è¿œåŒä¸€ä¸ªå¯¹è±¡äº†ã€‚è¿™è¿èƒŒäº†åŸå‹çš„åˆè¡·ã€‚</p>
<p>å¦‚ä½•è§£å†³ï¼Ÿä½¿ç”¨ <code>ObjectFactory</code> å»¶è¿Ÿè·å–ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReportService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ObjectFactory&lt;ReportBuilder&gt; builderFactory;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">generate</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ¯æ¬¡è°ƒç”¨ getObject()ï¼Œå®¹å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ ReportBuilder</span>
        <span class="hljs-type">ReportBuilder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> builderFactory.getObject();
        builder.build();
    }
}
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<strong><code>ObjectFactory</code> å°±åƒæ˜¯ä¸€ä¸ªé€šå¾€å®¹å™¨çš„å¥æŸ„ï¼Œè®©ä½ éšæ—¶å¯ä»¥ä¼¸æ‰‹è¿›å»æ‹¿ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å®ˆç€é™ˆæ—§çš„ç¼“å­˜ã€‚</strong></p>
<hr/>
<h2 data-id="heading-11">å››ã€å®¡åˆ¤ä¸è£å†³</h2>
<p>è®©æˆ‘ä»¬åœ¨æœ€åï¼Œç”¨æœ€å®¢è§‚çš„è¡¨æ ¼æ¥å®¡åˆ¤è¿™ä¸‰è€…çš„åŒºåˆ«ã€‚è¿™ä¸æ˜¯ä¸ºäº†èƒŒè¯µï¼Œè€Œæ˜¯ä¸ºäº†ç†æ¸…æ··ä¹±ã€‚</p>









































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">BeanFactory</th><th align="left">FactoryBean</th><th align="left">ObjectFactory</th></tr></thead><tbody><tr><td align="left"><strong>å­˜åœ¨å½¢å¼</strong></td><td align="left"><strong>å®¹å™¨</strong> (Container)</td><td align="left"><strong>Bean</strong> (Component)</td><td align="left"><strong>æ¥å£</strong> (Interface/Callback)</td></tr><tr><td align="left"><strong>åº•å±‚é€»è¾‘</strong></td><td align="left"><code>ApplicationContext</code> çš„çˆ¶çº§æ¥å£ / <strong>å®è§‚å·¥å‚</strong></td><td align="left">å®ç°äº† <code>FactoryBean</code> æ¥å£çš„ç±» / <strong>å¾®è§‚å·¥å‚</strong></td><td align="left">å‡½æ•°å¼æ¥å£ / <strong>å»¶è¿Ÿå›è°ƒ</strong></td></tr><tr><td align="left"><strong>æ ¸å¿ƒèŒè´£</strong></td><td align="left">ç®¡ç†æ‰€æœ‰ Bean çš„ç”Ÿå‘½å‘¨æœŸ</td><td align="left">æ­¤ Bean è´Ÿè´£<strong>ç”Ÿäº§</strong>å¦ä¸€ä¸ªå¤æ‚çš„ Bean</td><td align="left">å°è£…å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œæä¾›<strong>å»¶è¿Ÿ</strong>è·å–èƒ½åŠ›</td></tr><tr><td align="left"><strong>è·å–æ–¹å¼</strong></td><td align="left"><code>ApplicationContext</code> æ˜¯å®ƒçš„è¶…é›†</td><td align="left"><code>getBean("name")</code> æ‹¿äº§å“<br/><code>getBean("&amp;name")</code> æ‹¿å·¥å‚</td><td align="left">æ³¨å…¥ <code>ObjectFactory&lt;T&gt;</code> åè°ƒç”¨ <code>getObject()</code></td></tr><tr><td align="left"><strong>çœŸå®åœºæ™¯</strong></td><td align="left">Spring æ¡†æ¶çš„åŸºçŸ³</td><td align="left">Mybatis <code>MapperFactoryBean</code>, <code>ProxyFactoryBean</code></td><td align="left">è§£å†³å¾ªç¯ä¾èµ–(ä¸‰çº§ç¼“å­˜), Scope(åŸå‹æ¨¡å¼)é€‚é…</td></tr></tbody></table>
<h2 data-id="heading-12">äº”ã€ç»“è¯­</h2>
<p>åœ¨ä»£ç çš„è’åŸä¸Šï¼Œæˆ‘ä»¬é€šè¿‡æ„å»ºæŠ½è±¡æ¥å¯¹æŠ—æ··ä¹±ã€‚</p>
<ul>
<li><strong>BeanFactory</strong> æ˜¯æˆ‘ä»¬è„šä¸‹çš„å¤§åœ°ã€‚<strong>å®ƒè¢«ç§°ä¸ºå·¥å‚ï¼Œä½†å®ƒå®é™…æ˜¯å­•è‚²ä¸‡ç‰©çš„åœŸå£¤ï¼ˆå®¹å™¨ï¼‰ã€‚</strong></li>
<li><strong>FactoryBean</strong> æ˜¯æˆ‘ä»¬æ‰‹ä¸­çš„ç²¾å¯†æœºåºŠã€‚<strong>å®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Beanï¼Œå­˜åœ¨çš„ç›®çš„å´æ˜¯ä¸ºäº†åˆ¶é€ å¦ä¸€ä¸ª Beanã€‚</strong></li>
<li><strong>ObjectFactory</strong> æ˜¯æˆ‘ä»¬é¢„ç•™çš„æ—¶é—´èƒ¶å›Šã€‚<strong>å®ƒåªæ˜¯ä¸€ä¸ªå•çº¯çš„æ¥å£ï¼Œä¸ºäº†åº”å¯¹å¾ªç¯ä¸æœªæ¥çš„ä¸ç¡®å®šæ€§ã€‚</strong></li>
</ul>
<p>ç†è§£å®ƒä»¬ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†é€šè¿‡é¢è¯•ï¼Œè€Œæ˜¯ä¸ºäº†åœ¨ä¸‹ä¸€æ¬¡æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œä½ èƒ½å†·é™åœ°å‡è§†å †æ ˆä¿¡æ¯ï¼ŒçŸ¥é“æœºå™¨çš„å“ªä¸ªé½¿è½®å‘ç”Ÿäº†é”™ä½ã€‚</p>
<p>æ—¢ç„¶æˆ‘ä»¬é€‰æ‹©äº†ä¸æœºå™¨å…±èˆï¼Œå°±å¿…é¡»ç†è§£æœºå™¨çš„é€»è¾‘ã€‚è¿™æˆ–è®¸å°±æ˜¯ä½œä¸ºå¼€å‘è€…çš„è¥¿è¥¿å¼—æ–¯å¼å‘½è¿â€”â€”<strong>æˆ‘ä»¬éœ€è¦ä¸€æ¬¡åˆä¸€æ¬¡åœ°å°†å·¨çŸ³æ¨å‘å±±é¡¶ï¼Œä»¥æ­¤è¯æ˜æˆ‘ä»¬å¯¹è¿™ä¸ªåºå¤§ç³»ç»Ÿçš„æŒæ§</strong>ã€‚</p>
<blockquote>
<p><strong>æœ¬æ–‡é€šè¿‡ AI æ¶¦è‰²ï¼ˆåŠ ç¼ªé£æ ¼ï¼‰ï¼Œè¯•å›¾ä»¥ä¸€ç§å†·é™ã€å®¢è§‚ç”šè‡³å­˜åœ¨ä¸»ä¹‰çš„è§†è§’ï¼Œå»è§£æ„è¿™äº›åœ¨æ—¥å¸¸ Coding ä¸­è¢«æˆ‘ä»¬ä¹ ä»¥ä¸ºå¸¸çš„æ¦‚å¿µã€‚å¸Œæœ›è¿™ç§ç‹¬ç‰¹çš„å™äº‹é£æ ¼ï¼Œèƒ½è®©ä½ å¯¹è¿™äº›æ¯ç‡¥çš„æŠ€æœ¯æ¦‚å¿µæœ‰æ›´æ·±åˆ»çš„â€œå­˜åœ¨æ„Ÿâ€ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦è§£æï¼šå¦‚ä½•å½»åº•ç»ˆç»“ Flutter å¼‚æ­¥æ“ä½œä¸­çš„ BuildContext å´©æºƒï¼Ÿ]]></title>    <link>https://juejin.cn/post/7594321135591374857</link>    <guid>https://juejin.cn/post/7594321135591374857</guid>    <pubDate>2026-01-13T01:34:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594321135591374857" data-draft-id="7592432859863466018" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦è§£æï¼šå¦‚ä½•å½»åº•ç»ˆç»“ Flutter å¼‚æ­¥æ“ä½œä¸­çš„ BuildContext å´©æºƒï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T01:34:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JarvanMo"/> <meta itemprop="url" content="https://juejin.cn/user/2348212565845704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦è§£æï¼šå¦‚ä½•å½»åº•ç»ˆç»“ Flutter å¼‚æ­¥æ“ä½œä¸­çš„ BuildContext å´©æºƒï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2348212565845704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JarvanMo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:34:25.000Z" title="Tue Jan 13 2026 01:34:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ç§æƒ…å†µæˆ‘ä»¬éƒ½è§è¿‡ï¼š ä½ åœ¨æœ¬åœ°è·‘ç€ Appï¼Œç‚¹ä¸‹â€œæäº¤â€æŒ‰é’®ï¼ŒAPI è¯·æ±‚é¡ºåˆ©å®Œæˆï¼Œé¡µé¢æˆåŠŸè·³è½¬ã€‚ä¸€åˆ‡çœ‹èµ·æ¥éƒ½å®Œç¾æ— ç¼ºã€‚äºæ˜¯ä½ ä¿¡å¿ƒæ»¡æ»¡åœ°åˆå¹¶äº† PRï¼Œå‘å¸ƒä¸Šçº¿ã€‚ç»“æœï¼Œåå°æ—¥å¿—çªç„¶å°±å¼€å§‹å¯¹ç€ä½ <strong>ç–¯ç‹‚å’†å“®</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d6199191be24a179e60c010251fca9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768872865&amp;x-signature=X6AXSEDACCJX%2Bs%2BAkMz4Y%2Fr%2BhlY%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>Looking up a deactivated widgetâ€™s ancestor is unsafe.</p>
<p>At this point the state of the widgetâ€™s element tree is no longer stable.</p>
</blockquote>
<blockquote>
<p>â€œæŸ¥æ‰¾å·²åœç”¨ Widget çš„ç¥–å…ˆèŠ‚ç‚¹æ˜¯ä¸å®‰å…¨çš„ã€‚â€</p>
<p>â€œæ­¤æ—¶ï¼Œè¯¥ Widget å¯¹åº”çš„ Element æ ‘çŠ¶æ€å·²ä¸å†ç¨³å®šã€‚â€</p>
</blockquote>
<p>ä½ å°è¯•åœ¨æœ¬åœ°å¤ç°è¿™ä¸ª Bugï¼Œä½†æ€ä¹ˆè¯•éƒ½æ²¡é—®é¢˜ã€‚ è¿™å°±æ˜¯æ‰€è°“çš„<strong>å¼‚æ­¥é—´éš™ï¼ˆAsync Gapï¼‰</strong> ã€‚å¦‚æœä½ æ²¡æœ‰é’ˆå¯¹å®ƒåšé˜²å¾¡æ€§ç¼–ç¨‹ï¼Œé‚£ä¹ˆæ­¤æ—¶æ­¤åˆ»ï¼Œé‚£äº›ç½‘é€Ÿè¾ƒæ…¢çš„ç”¨æˆ·æ­£åœ¨ç»å†é¢‘ç¹çš„é—ªé€€ã€‚</p>
<h4 data-id="heading-0">â€œæˆ‘ç”µè„‘ä¸Šè¿è¡Œå¥½å¥½çš„â€ â€”â€” è¿™ä¸ªé™·é˜±</h4>
<p>ä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬ä¹ æƒ¯åœ¨é£é€Ÿçš„ Wi-Fi å’Œæ¨¡æ‹Ÿå™¨ä¸Šåšæµ‹è¯•ã€‚ç‚¹ä¸€ä¸‹æŒ‰é’®ï¼ŒAPI åªè¦ 100 æ¯«ç§’å°±è¿”å›äº†ã€‚åœ¨ç»“æœå›æ¥ä¹‹å‰ï¼Œæˆ‘ä»¬æ ¹æœ¬<strong>æ²¡æ—¶é—´</strong>åˆ‡æ¢é¡µé¢ã€‚</p>
<p>ä½†åœ¨ç°å®ä¸–ç•Œé‡Œï¼Œä½ çš„ç”¨æˆ·å¯èƒ½ç”¨çš„æ˜¯ 3G ç”šè‡³æ›´æ…¢çš„ç½‘ç»œã€‚</p>
<ol>
<li>ä»–ä»¬ç‚¹ä¸‹â€œç™»å½•â€ã€‚</li>
<li>è¯·æ±‚å¡ä½äº† 3 ç§’ã€‚</li>
<li>ç”¨æˆ·ç­‰çƒ¦äº†ï¼ˆæˆ–è€…æ„è¯†åˆ°é‚®ç®±å¡«é”™äº†ï¼‰ï¼Œäºæ˜¯æŒ‰äº†**â€œè¿”å›â€**é”®ã€‚</li>
<li>æ­¤æ—¶ï¼ŒWidget è¢«é”€æ¯ï¼ˆDisposedï¼‰ï¼Œé¡µé¢å½»åº•æ¶ˆå¤±äº†ã€‚</li>
<li><strong>ç´§æ¥ç€</strong>ï¼ŒAPI ç»ˆäºè¿”å›æˆåŠŸäº†ã€‚</li>
</ol>
<p>ä½ çš„ä»£ç åœ¨ <code>await</code> ä¹‹åæ¢å¤æ‰§è¡Œï¼Œå®ƒé¡ºæ‰‹æŠ“èµ· <code>context</code> å‡†å¤‡è·³è½¬åˆ°é¦–é¡µâ€¦â€¦ç„¶è€Œï¼Œè¿™ä¸ª <code>context</code> æŒ‡å‘çš„ Widget æ­¤æ—¶å·²ç»åœ¨**åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰**é‡Œæ’é˜Ÿäº†ã€‚</p>
<h4 data-id="heading-1">è§£å†³æ–¹æ¡ˆï¼šä¸€è¡Œå¾®å°çš„ä»£ç ï¼Œçœå»å·¨å¤§çš„å¤´ç–¼</h4>
<p>åœ¨ Flutter 3.7 ä¹‹å‰ï¼Œå¤„ç†è¿™ä¸ªé—®é¢˜å¾ˆçƒ¦äººã€‚ä½ å¿…é¡»åœ¨ <code>State</code> ç±»é‡Œæ£€æŸ¥ <code>mounted</code> å±æ€§ï¼Œä»£ç å†™èµ·æ¥å¾ˆä¸ä¼˜é›…ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªç®€å•ä¸”ç»Ÿä¸€çš„æ–¹æ¡ˆï¼š</p>
<p><strong><code>context.mounted</code></strong></p>
<p>è¿™ä¸ªå±æ€§å…è®¸ä½ æ£€æŸ¥ <code>context</code> æ˜¯å¦ä¾ç„¶æœ‰æ•ˆï¼Œä»¥åŠå®ƒæ˜¯å¦è¿˜åœ¨ Widget æ ‘ä¸­ã€‚ æ¯å½“ä½ å®Œæˆä¸€ä¸ª<strong>å¼‚æ­¥è°ƒç”¨</strong>ï¼Œå¹¶å‡†å¤‡æ‰§è¡Œä»¥ä¸‹æ“ä½œæ—¶ï¼š</p>
<ul>
<li>é¡µé¢è·³è½¬ (Navigation)</li>
<li>å¼¹å‡ºå¯¹è¯æ¡† (Dialogs)</li>
<li>æ˜¾ç¤ºåº•æ é€šçŸ¥ (Snackbars)</li>
<li>æŸ¥æ‰¾ä¸»é¢˜ (Theme lookups)</li>
<li><strong>ä»»ä½•éœ€è¦ç”¨åˆ° <code>context</code> çš„æ“ä½œ</strong></li>
</ul>
<p>â€¦â€¦ä½ éƒ½å¿…é¡»åŠ ä¸Šä¸€å±‚é˜²æŠ¤ã€‚</p>
<p><strong>ä¸å®‰å…¨çš„å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> onButtonTapped(BuildContext context) <span class="hljs-keyword">async</span> {  
    <span class="hljs-keyword">await</span> myLongRunningTask();  
  
<span class="hljs-comment">// å¦‚æœç”¨æˆ·å·²ç»ç¦»å¼€é¡µé¢ï¼Œè¿™ä¸€è¡Œå°±ä¼šå¯¼è‡´ App å´©æºƒã€‚</span>
    Navigator.pop(context);  
}

</code></pre>
<p><strong>å®‰å…¨çš„å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> onButtonTapped(BuildContext context) <span class="hljs-keyword">async</span> {
  <span class="hljs-comment">// 1. å¼€å§‹å¼‚æ­¥ä»»åŠ¡ï¼ˆä¾‹å¦‚ API è¯·æ±‚æˆ–è€—æ—¶è®¡ç®—ï¼‰</span>
  <span class="hljs-keyword">await</span> myLongRunningTask();
  
  <span class="hljs-comment">// 2. é˜²å¾¡æ€§æ£€æŸ¥ï¼ˆæ ¸å¿ƒå®ˆå«è¯­å¥ï¼‰</span>
  <span class="hljs-comment">// å¦‚æœæ­¤æ—¶ Widget å·²ç»ä»æ ‘ä¸­å¸è½½ï¼Œåˆ™ç«‹å³åœæ­¢æ‰§è¡Œåç»­ä»£ç ã€‚</span>
  <span class="hljs-keyword">if</span> (!context.mounted) <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// 3. åªæœ‰åœ¨ context ä¾ç„¶æœ‰æ•ˆï¼ˆMountedï¼‰çš„æƒ…å†µä¸‹ï¼Œ</span>
  <span class="hljs-comment">// æ­¤æ—¶ä½¿ç”¨ context è¿›è¡Œå¯¼èˆªæˆ– UI æ“ä½œæ‰æ˜¯å®‰å…¨çš„ã€‚</span>
  Navigator.pop(context);
}
</code></pre>
<h4 data-id="heading-2">ä¸ºä»€ä¹ˆèµ„æ·±å·¥ç¨‹å¸ˆå¿…é¡»åœ¨æ„è¿™ä¸€ç‚¹ï¼Ÿ</h4>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸ºäº†é¿å…å¼€å‘é˜¶æ®µå‡ºç°çº¢å±æŠ¥é”™ï¼Œæ›´æ˜¯**é˜²å¾¡æ€§ç¼–ç¨‹ï¼ˆDefensive Programmingï¼‰**çš„æ ¸å¿ƒä½“ç°ã€‚</p>
<p>æˆ‘ä»¬æ— æ³•æŒæ§ç½‘ç»œçŠ¶å†µï¼Œä¹Ÿæ— æ³•å·¦å³ç”¨æˆ·çš„è¡Œä¸ºã€‚ æˆ‘ä»¬å”¯ä¸€èƒ½æ§åˆ¶çš„ï¼Œæ˜¯å½“è¿™ä¸¤è€…â€œæ‰é“¾å­â€æ—¶ï¼Œæˆ‘ä»¬çš„ä»£ç å°†å¦‚ä½•åº”å¯¹ã€‚ å…»æˆéšæ‰‹åŠ ä¸Š <code>if (!context.mounted) return;</code> çš„ä¹ æƒ¯è™½ç„¶åªæ˜¯ä¸ªå¾®å°çš„ç»†èŠ‚ï¼Œä½†å®ƒæ­£æ˜¯<strong>è„†å¼±çš„ Demo æ¼”ç¤º</strong>ä¸<strong>å¥å£®çš„ç”Ÿäº§çº§å·¥ç¨‹</strong>ä¹‹é—´çš„åˆ†æ°´å²­ã€‚</p>
<h4 data-id="heading-3">æœ€åä¸€ä¸ªé—®é¢˜</h4>
<p>ä½ æœ€è¿‘æ£€æŸ¥è¿‡ Firebase Crashlytics æ—¥å¿—é‡Œçš„è¿™ä¸ªç‰¹å®šæŠ¥é”™å—ï¼Ÿæˆ–è€…ï¼Œä½ è¿˜æœ‰å“ªäº›æ›¾è®©ä½ æŠ“ç‹‚çš„â€œéšå½¢â€Bugï¼Ÿ</p>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€â€”â€”æˆ‘å¾ˆæœŸå¾…å¬åˆ°ä½ ä»¬çš„è°ƒè¯•â€œè¡€æ³ªå²â€ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸æ­¢æœ‰ agent ï¼ŒCursor ä½¿ç”¨æŠ€å·§æ€»ç»“]]></title>    <link>https://juejin.cn/post/7594302398687002678</link>    <guid>https://juejin.cn/post/7594302398687002678</guid>    <pubDate>2026-01-13T01:45:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594302398687002678" data-draft-id="7567251884827131910" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸æ­¢æœ‰ agent ï¼ŒCursor ä½¿ç”¨æŠ€å·§æ€»ç»“"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Cursor"/> <meta itemprop="datePublished" content="2026-01-13T01:45:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯åŒè¶Šè€å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1714893868765373"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸æ­¢æœ‰ agent ï¼ŒCursor ä½¿ç”¨æŠ€å·§æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893868765373/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯åŒè¶Šè€å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:45:30.000Z" title="Tue Jan 13 2026 01:45:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯åŒè¶Šã€‚å‰ç™¾åº¦ æ»´æ»´ èµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ…•è¯¾ç½‘é‡‘ç‰Œè®²å¸ˆï¼ŒPMPã€‚æˆ‘çš„ä»£è¡¨ä½œæœ‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.wangeditor.com%2F" target="_blank" title="https://www.wangeditor.com/" ref="nofollow noopener noreferrer">wangEditor</a> å¼€æº web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ŒGitHub 18k starï¼Œnpm å‘¨ä¸‹è½½é‡ 20k</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.huashuiai.com%2F" target="_blank" title="https://www.huashuiai.com/" ref="nofollow noopener noreferrer">åˆ’æ°´AI</a> Node å…¨æ ˆ AIGC çŸ¥è¯†åº“ï¼ŒåŒ…æ‹¬ AI å†™ä½œã€å¤šäººååŒç¼–è¾‘ã€‚å¤æ‚ä¸šåŠ¡ï¼ŒçœŸå®ä¸Šçº¿ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mianshipai.com%2F" target="_blank" title="https://www.mianshipai.com/" ref="nofollow noopener noreferrer">å‰ç«¯é¢è¯•æ´¾</a> ç³»ç»Ÿä¸“ä¸šçš„é¢è¯•å¯¼èˆªï¼Œåˆ·é¢˜ï¼Œå†™ç®€å†ï¼Œçœ‹é¢è¯•æŠ€å·§ï¼Œå†…æ¨å·¥ä½œã€‚å¼€æºå…è´¹ã€‚</li>
</ul>
<blockquote>
<p>æˆ‘åœ¨æ­£åœ¨å¼€å‘ä¸€ä¸ª AI Agent æ™ºèƒ½ä½“é¡¹ç›®ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhitalk.chat%2F" target="_blank" title="https://zhitalk.chat/" ref="nofollow noopener noreferrer">æ™ºè¯­</a>ã€‘ä¸€ä¸ªæ™ºèƒ½é¢è¯•å®˜ï¼Œå¯ä»¥ä¼˜åŒ–ç®€å†ã€æ¨¡æ‹Ÿé¢è¯•ã€è§£ç­”é¢˜ç›®ç­‰ã€‚æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å›´è§‚ã€å­¦ä¹ ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å¼€å§‹</h2>
<p>åº”è¯¥æ˜¯ä» 2025 å¹´ä¸‹åŠå¹´å¼€å§‹ï¼ŒAI ç¼–ç¨‹æ…¢æ…¢æ™®åŠå¼€æ¥ï¼Œæˆ‘ä¹Ÿä» VSCode åˆ‡æ¢åˆ° Cursor ï¼Œæ„Ÿè§‰ç°åœ¨è¶Šæ¥è¶Šä¾èµ– AI ç¼–ç¨‹ã€‚</p>
<p>é‡åˆ°ä»€ä¹ˆéœ€æ±‚éƒ½è¦å…ˆç»™ Cursor å†™ä¸€æ®µ promot ï¼Œé‡åˆ° bug éƒ½è¦æŠŠæŠ¥é”™ä¿¡æ¯å¤åˆ¶ç»™ Cursor ç­‰å¾…å®ƒæ¥è§£å†³ã€‚</p>
<p>ä½† Cursor ä½œä¸ºæœ€å¼ºå¤§çš„ AI ç¼–ç¨‹å·¥å…·ä¹‹ä¸€ï¼Œä¸ä»…ä»…åªæœ‰ä¸€ä¸ª input ã€ä¸€ä¸ª agent æ¨¡å¼ï¼Œå®ƒè¿˜æœ‰å¾ˆå¤šå’Œ AI å¼€å‘ç›¸å…³çš„åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-1">ç¼–å†™è§„åˆ™</h2>
<p>å°±åƒ system prompt ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å½“å‰ä»£ç åº“çš„ç»Ÿä¸€çš„è§„åˆ™å’Œè¦æ±‚ï¼Œè¿™æ˜¯æ‰€æœ‰çš„ AI ç¼–ç¨‹å·¥å…·éƒ½å…·å¤‡çš„åŠŸèƒ½ã€‚</p>
<p>åœ¨ <code>.cursor/rules/</code> ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª <code>xxx.mdc</code> æ–‡ä»¶ï¼Œä¸€èˆ¬å†™å½“å‰é¡¹ç›®çš„éœ€æ±‚èƒŒæ™¯ã€æŠ€æœ¯æ ˆã€æ ¸å¿ƒçš„åŸåˆ™å’Œè§„åˆ™ã€æ³¨æ„äº‹é¡¹ç­‰ã€‚</p>
<p>å½“ä½ é€‰æ‹© Always Apply æ—¶ï¼Œå®ƒä¼šåœ¨æ¯æ¬¡ AI è¯·æ±‚æ—¶éƒ½æºå¸¦ï¼Œè¿™æ ·å°±èƒ½æœ€å¤§ç¨‹åº¦çš„ä¿éšœ AI å›ç­”çš„å‡†ç¡®æ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5020dafa7c754ca28b58c4d5f2ecdd24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=r9aJ6v%2BOjh4s%2FUR3NI639SVWKf0%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">tab è‡ªåŠ¨è¡¥å…¨</h2>
<p>è¿™æ˜¯æœ€æ—©çš„ AI ç¼–ç¨‹åŠŸèƒ½ï¼Œ2å¹´ä¹‹å‰å°±æœ‰äº†ï¼Œå¯¹äºåˆšå¼€å§‹ä½¿ç”¨ AI ç¼–ç¨‹çš„äººæ¯”è¾ƒå‹å¥½ã€‚</p>
<p>ä¾‹å¦‚åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨ï¼Œå†™ä¸Šä¸€è¡Œä»£ç ï¼Œæˆ–è€…ä¸€è¡Œæ³¨é‡Šï¼Œå›è½¦ï¼ŒAI ä¼šè‡ªåŠ¨è¡¥å…¨æ¥ä¸‹æ¥çš„ä»£ç ã€‚ä½ ä½¿ç”¨ tab å³å¯è‡ªåŠ¨è¾“å…¥è¿™äº›ä»£ç ã€‚</p>
<p>å½“ä½ å†™çš„å‡½æ•°åç§°ã€æ³¨é‡Šã€ä»£ç å¯è¯»æ€§å¥½çš„æ—¶å€™ï¼ŒAI çš„è¡¥å…¨å‡†ç¡®åº¦è¿˜æ˜¯æŒºé«˜çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af0f914e7a364a7ba715a7c9cf57a1cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=aPez98aH3%2BZi%2FWV32V8rXRaOEiM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">ctrl+k å†…è”ç¼–è¾‘é€‰å–</h2>
<p>å½“ä½ åªæƒ³è¦æ”¹é€ ä¸€è¡Œæˆ–è€…å‡ è¡Œä»£ç æ—¶ï¼Œå¯ä»¥é€‰ä¸­è¿™å‡ è¡Œä»£ç ï¼Œä½¿ç”¨ ctrl+k å¯ä»¥å¼¹å‡ºä¸€ä¸ª AI è¾“å…¥æ¡†ï¼Œè¾“å…¥ä½ çš„è¦æ±‚ï¼Œåªä¿®æ”¹é€‰ä¸­çš„ä»£ç ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8ccd026283a4ca083aa8f9393ba8974~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=klVt0celblVrJUQSzwE2lsJxwZc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">Agent æ¨¡å¼</h2>
<p>è¿™æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œåœ¨å³ä¾§ input ä¸­è¾“å…¥æˆ‘ä»¬çš„éœ€æ±‚ï¼Œç­‰å¾… Cursor ç”Ÿæˆä»£ç ã€‚åŒæ—¶è¿™é‡Œçš„åŠŸèƒ½ä¹Ÿæœ€ä¸ºä¸°å¯Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbfc7015e412442f844e045125405940~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=oTHVaGy3IP1rz8x7VYSnISue8Ys%3D" alt="image.png" loading="lazy"/></p>
<p>é™¤äº†è‡ªå·±è¾“å…¥ï¼Œä½ è¿˜å¯ä»¥é€‰ä¸­ä¸€æ®µä»£ç ã€æˆ–ç€ä¸€æ®µæŠ¥é”™ä¿¡æ¯ï¼Œç‚¹å‡» Add to chat æŒ‰é’®ï¼ŒæŠŠè¿™äº›å†…å®¹ä¼ é€’ç»™ AI</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8d45348e9b7481caea1a5929598ba64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=OdduAHF48DDM5EKqVd8s4kwlIyw%3D" alt="image.png" loading="lazy"/></p>
<p>ä½ å¯ä»¥é€šè¿‡ <code>@</code> ç¬¦å·æ¥å¢åŠ ä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚è¿™æ¬¡éœ€æ±‚å¯èƒ½æ¶‰åŠåˆ°å¦å¤–å‡ ä¸ªæ–‡ä»¶ï¼Œå°±å¯ä»¥å¼•å…¥è¿›æ¥ï¼Œè®© AI çŸ¥é“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28003446b4d241fdbda77d88ee2b989b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=ffx%2BinnUFVpUfg5S851skNmMM%2B4%3D" alt="image.png" loading="lazy"/></p>
<p>ä½ è¿˜å¯ä»¥é€šè¿‡ <code>/</code> æ¥ä½¿ç”¨ command å‘½ä»¤</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5124b9f8783d433db9003598d2932bac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=jMXgISxdb%2FN%2BhM17uaHfQeZHrv0%3D" alt="image.png" loading="lazy"/></p>
<p>å‘½ä»¤è¦è‡ªå·±å®šä¹‰ï¼Œåœ¨ <code>.cursor/commands/</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>xxx.md</code> æ–‡ä»¶å³å¯å®šä¹‰ä¸€ä¸ªå‘½ä»¤</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ca5172295c643ebae076c1eafd4a171~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=9jFg%2BJCOYfnOMUM82dn6Y3d6wT8%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">Plan æ¨¡å¼</h2>
<p>å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„åŠŸèƒ½ï¼Œå¯ä»¥ä¸ç”¨ agent æ¨¡å¼ï¼Œè¯¥ç”¨ plan æ¨¡å¼ã€‚å°½é‡è¯¦ç»†çš„æè¿°ä½ çš„éœ€æ±‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e38db31fcd8447549d80ff48f93dc933~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=pOGqcFOAOTIMui2cDi766eEa1gw%3D" alt="image.png" loading="lazy"/></p>
<p>Cursor ä¼šæ ¹æ®ä½ çš„éœ€æ±‚ï¼Œæ•´ç†ä¸€ä¸ª plan è®¡åˆ’ï¼Œä½ å¯ä»¥è‡ªå·±ä¿®æ”¹è¿™ä¸ªè®¡åˆ’ã€‚æ²¡é—®é¢˜äº†åœ¨ç‚¹å‡» build æŒ‰é’®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87166c153385481b966043412b267305~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=yWled5ju%2Fa%2FyFnAKULhWN0hTFxY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">é…ç½® MCP</h2>
<p>åœ¨è¿™ä¸ªé¡µé¢å¯ä»¥çœ‹åˆ° Cursor æ”¯æŒçš„æ‰€æœ‰ MCP server <a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs%2Fcontext%2Fmcp%2Fdirectory" target="_blank" title="https://cursor.com/cn/docs/context/mcp/directory" ref="nofollow noopener noreferrer">cursor.com/cn/docs/conâ€¦</a> ï¼Œè¿˜æ˜¯å›½å¤–çš„å¤š... é€‰æ‹©ä¸€ä¸ªå®‰è£…å³å¯</p>
<p>å®‰è£…å®Œæˆï¼Œåœ¨ Cursor è®¾ç½®é¡µé¢å¯ä»¥çœ‹åˆ°è¿™ä¸ª MCP server ä»¥åŠå®ƒæœ‰å‡ ä¸ª tools</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f5710d429794ae497dd517e66fe2035~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873529&amp;x-signature=IJYhiZzaog33Vo5VVhR8AFEG6NI%3D" alt="image.png" loading="lazy"/></p>
<p>MCP server è¦æœ‰é€‰æ‹©æ€§çš„å®‰è£…ï¼Œä¸è¦å®‰è£…å¤ªå¤šï¼Œå¦åˆ™å¯èƒ½ä¼šæ¶ˆè€—å¤ªå¤š tokens æˆ–å½±å“ AI ç›¸åº”é€Ÿåº¦ã€‚</p>
<h2 data-id="heading-7">æœ€å</h2>
<p>å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å¤šå¤šå°è¯• Cursor çš„ä½¿ç”¨æŠ€å·§ï¼Œç”¨å¤šäº†å°±ç†Ÿç»ƒäº†ã€‚å¢åŠ ä¸ªäººå¼€å‘æ•ˆç‡ï¼Œè€Œä¸”åœ¨åŒäº‹ä¹‹é—´ä¼šæ˜¾å¾—æ¯”è¾ƒä¸“ä¸šã€‚</p>
<p>2026 å¹´ AI ç¼–ç¨‹å°†å…¨é¢æ™®åŠï¼Œä¸€èµ·åŠ æ²¹ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-211 é€»è¾‘å›å½’çš„ Scikit-Learn å®ç°ï¼šmax_iterã€åˆ†ç±»æ–¹å¼ä¸å¤šå…ƒå›å½’çš„ä¼˜åŒ–æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7594321135591440393</link>    <guid>https://juejin.cn/post/7594321135591440393</guid>    <pubDate>2026-01-13T01:45:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594321135591440393" data-draft-id="7594337566722424842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-211 é€»è¾‘å›å½’çš„ Scikit-Learn å®ç°ï¼šmax_iterã€åˆ†ç±»æ–¹å¼ä¸å¤šå…ƒå›å½’çš„ä¼˜åŒ–æ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-13T01:45:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-211 é€»è¾‘å›å½’çš„ Scikit-Learn å®ç°ï¼šmax_iterã€åˆ†ç±»æ–¹å¼ä¸å¤šå…ƒå›å½’çš„ä¼˜åŒ–æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:45:31.000Z" title="Tue Jan 13 2026 01:45:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šåœ¨åº”ç”¨ Scikit-Learn è¿›è¡Œé€»è¾‘å›å½’æ—¶ï¼Œå¦‚ä½•è°ƒæ•´ max_iter æ¥æé«˜è®­ç»ƒç²¾åº¦ï¼Œå¤„ç†æœªæ”¶æ•›çš„é—®é¢˜ã€‚</li>
<li>ç»“è®ºï¼šè¿‡å¤§çš„ max_iter å¯èƒ½å¯¼è‡´è¿‡æ‹Ÿåˆï¼Œå®é™…æ“ä½œä¸­éœ€å¹³è¡¡è®¡ç®—æ—¶é—´ä¸é¢„æµ‹ç²¾åº¦ã€‚</li>
<li>äº§å‡ºï¼šé€šè¿‡è°ƒæ•´ max_iter å’Œ multi_class å‚æ•°ï¼Œè·å¾—æœ€ä¼˜çš„æ¨¡å‹è®­ç»ƒå’Œåˆ†ç±»æ•ˆæœã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5677a15e5d1e4302a08674a66d1264ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=V2F3h3gGMx80wkMxLMBWBcZD93k%3D" alt="å¤§æ•°æ®-211 é€»è¾‘å›å½’çš„ Scikit-Learn å®ç°ï¼šmax_iterã€åˆ†ç±»æ–¹å¼ä¸å¤šå…ƒå›å½’çš„ä¼˜åŒ–æ–¹æ³•" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>





















<table><thead><tr><th>å·²éªŒè¯ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Scikit-Learn 0.24+</td><td>ä½¿ç”¨ LogisticRegression ç±»çš„ max_iter å’Œ multi_class å‚æ•°</td></tr><tr><td>Python 3.8+</td><td>é€‚ç”¨äºè¯¥ç‰ˆæœ¬çš„ Python ç¯å¢ƒ</td></tr><tr><td>matplotlib 3.4+</td><td>ç»˜åˆ¶å­¦ä¹ æ›²çº¿å’Œå‡†ç¡®åº¦å˜åŒ–å›¾</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f31d5b364d94e5c838079b3d4a1a816~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=wfG93PaLu%2FiU6KTNXs33sHp64ik%3D" alt="å¤§æ•°æ®-211 é€»è¾‘å›å½’çš„ Scikit-Learn å®ç°ï¼šmax_iterã€åˆ†ç±»æ–¹å¼ä¸å¤šå…ƒå›å½’çš„ä¼˜åŒ–æ–¹æ³•" loading="lazy"/></p>
<h2 data-id="heading-2">é€»è¾‘å›å½’çš„Scikit-Learnå®ç°</h2>
<p>ç»­æ¥ä¸Šä¸€èŠ‚å‰©ä½™çš„å†…å®¹ã€‚</p>
<h3 data-id="heading-3">max_iter</h3>
<p>é€»è¾‘å›å½’çš„æ•°å­¦ç›®çš„æ˜¯æ±‚è§£èƒ½å¤Ÿè®©æ¨¡å‹æœ€ä¼˜åŒ–ï¼Œä½ å’Œæˆéƒ½æœ€å¥½çš„å‚æ•°wçš„å€¼ï¼Œå³æ±‚è§£èƒ½å¤Ÿè®©æŸå¤±å‡½æ•°Jï¼ˆwï¼‰æœ€å°åŒ–çš„wå€¼ã€‚å¯¹äºäºŒå…ƒé€»è¾‘å›å½’æ¥è¯´ï¼Œæœ‰å¤šç§æ–¹æ³•å¯ä»¥ç”¨æ¥æ±‚è§£å‚æ•°wï¼Œæœ€å¸¸è§çš„æœ‰æ¢¯åº¦ä¸‹é™æ³•ï¼ˆGradient Descentï¼‰ï¼Œåæ ‡ä¸‹é™æ³•ï¼ˆCoordinate Descentï¼‰ï¼Œç‰›é¡¿æ³•ï¼ˆNewton-Raphson methodï¼‰ç­‰ï¼Œå…¶ä¸­åˆä»¥æ¢¯åº¦ä¸‹é™æ³•æœ€è‘—åã€‚æ¯ç§æ–¹æ³•éƒ½æ¶‰åŠåˆ°äº†å¤æ‚çš„æ•°å­¦åŸç†ï¼Œä½†è¿™äº›è®¡ç®—åœ¨æ‰§è¡Œçš„ä»»åŠ¡å…¶å®æ˜¯ç±»ä¼¼çš„ã€‚
æ¥çœ‹çœ‹æ•°æ®é›†ä¸‹çš„max_iterçš„å­¦ä¹ æ›²çº¿ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression <span class="hljs-keyword">as</span> LR
<span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split
<span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_breast_cancer

<span class="hljs-comment"># åŠ è½½æ•°æ®é›†</span>
data = load_breast_cancer()
X = data.data
y = data.target

<span class="hljs-comment"># å®šä¹‰å­˜å‚¨ç»“æœçš„åˆ—è¡¨</span>
l2 = []
l2test = []

<span class="hljs-comment"># åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†</span>
Xtrain, Xtest, Ytrain, Ytest = train_test_split(X, y, test_size=<span class="hljs-number">0.3</span>, random_state=<span class="hljs-number">420</span>)

<span class="hljs-comment"># ä½¿ç”¨ä¸åŒçš„æœ€å¤§è¿­ä»£æ¬¡æ•°è¿›è¡Œè®­ç»ƒ</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">201</span>, <span class="hljs-number">10</span>):
    <span class="hljs-comment"># ä½¿ç”¨L2æ­£åˆ™åŒ–ï¼Œæ”¹å˜æœ€å¤§è¿­ä»£æ¬¡æ•°</span>
    lrl2 = LR(penalty=<span class="hljs-string">"l2"</span>, solver=<span class="hljs-string">"liblinear"</span>, C=<span class="hljs-number">0.9</span>, max_iter=i)
    lrl2 = lrl2.fit(Xtrain, Ytrain)
    l2.append(accuracy_score(lrl2.predict(Xtrain), Ytrain))
    l2test.append(accuracy_score(lrl2.predict(Xtest), Ytest))

<span class="hljs-comment"># å°†è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„ç»“æœç»˜åˆ¶æˆå›¾</span>
graph = [l2, l2test]
color = [<span class="hljs-string">"black"</span>, <span class="hljs-string">"gray"</span>]
label = [<span class="hljs-string">"L2"</span>, <span class="hljs-string">"L2test"</span>]

plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># ç»˜åˆ¶å›¾å½¢</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(graph)):
    plt.plot(np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">201</span>, <span class="hljs-number">10</span>), graph[i], color[i], label=label[i])

plt.legend(loc=<span class="hljs-number">4</span>)  <span class="hljs-comment"># å›¾ä¾‹ä½ç½®å³ä¸‹è§’</span>
plt.xticks(np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">201</span>, <span class="hljs-number">10</span>))  <span class="hljs-comment"># è®¾ç½®xè½´åˆ»åº¦</span>
plt.xlabel(<span class="hljs-string">'Max Iterations'</span>)
plt.ylabel(<span class="hljs-string">'Accuracy'</span>)
plt.title(<span class="hljs-string">'Accuracy vs Max Iterations'</span>)
plt.show()

<span class="hljs-comment"># æ‰“å°æœ¬æ¬¡æ±‚è§£ä¸­çœŸæ­£å®ç°çš„è¿­ä»£æ¬¡æ•°</span>
lr = LR(penalty=<span class="hljs-string">"l2"</span>, solver=<span class="hljs-string">"liblinear"</span>, C=<span class="hljs-number">0.9</span>, max_iter=<span class="hljs-number">300</span>).fit(Xtrain, Ytrain)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Number of iterations:"</span>, lr.n_iter_)

</code></pre>
<p>å½“max_iterä¸­é™åˆ¶çš„æ­¥æ•°å·²ç»èµ°å®Œäº†ï¼Œé€»è¾‘å›å½’å´è¿˜æ²¡æ²¡æœ‰æ‰¾åˆ°æŸå¤±å‡½æ•°çš„æœ€å°å€¼ï¼Œå‚æ•°wçš„å€¼è¿˜æ²¡æœ‰è¢«æ”¶æ•›ï¼Œsklearnå°±ä¼šå¼¹å‡ºä¸‹é¢çš„è­¦å‘Šã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ef07bd0777743498a3d083933d7a2eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=JJ8Lv9%2FrKWS4iJATgVdcI7KsiuE%3D" alt="sklearn max_iter æ­¥æ•°èµ°å®Œ" loading="lazy"/>
è™½ç„¶å†™æ³•çœ‹èµ·æ¥ä¸åŒï¼Œä½†æ˜¯å…¶å®å«ä¹‰éƒ½ä¸€æ ·ï¼Œè¿™æ˜¯åœ¨æé†’æˆ‘ä»¬ï¼šå‚æ•°æ²¡æœ‰æ”¶æ•›ï¼Œè¯·å¢å¤§max_iterä¸­è¾“å…¥çš„æ•°å­—ã€‚
ä½†æ˜¯æˆ‘ä»¬ä¸ä¸€å®šè¦å¬sklearnçš„ï¼Œmax_iterå¾ˆå¤§ï¼Œæ„å‘³ç€æ­¥é•¿å°ï¼Œæ¨¡å‹è¿è¡Œå¾—ä¼šæ›´åŠ ç¼“æ…¢ã€‚æˆ‘ä»¬åœ¨æ¢¯åº¦ä¸‹é™ä¸­è¿½æ±‚çš„æ˜¯æŸå¤±å‡½æ•°çš„æœ€å°å€¼ï¼Œä½†è¿™ä¹Ÿå¯èƒ½æ„å‘³ç€æˆ‘ä»¬çš„æ¨¡å‹ä¼šè¿‡æ‹Ÿåˆï¼ˆåœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°çš„å¤ªå¥½ï¼Œåœ¨æµ‹è¯•é›†ä¸Šä¸ä¸€å®šï¼‰ã€‚å› æ­¤ï¼Œå¦‚æœåœ¨max_iterçº¢æ¡çš„æƒ…å†µä¸‹ï¼Œæ¨¡å‹çš„è®­ç»ƒå’Œé¢„æµ‹æ•ˆæœéƒ½å·²ç»ä¸é”™äº†ï¼Œé‚£æˆ‘ä»¬å°±ä¸éœ€è¦å†å¢å¤§max_iterä¸­çš„æ•°ç›®äº†ï¼Œæ¯•ç«Ÿä¸€åˆ‡éƒ½ä»¥æ¨¡å‹çš„é¢„æµ‹æ•ˆæœä¸ºåŸºå‡†ï¼Œåªè¦æ¨¡å‹é¢„æµ‹çš„æ•ˆæœå¥½ï¼Œè¿è¡Œåˆå¿«ï¼Œé‚£å°±ä¸€åˆ‡éƒ½å¥½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/969a795959994b4596c1aa51afc65d5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=AmlxOzF2iozILqL1cCFcLaHvn%2FU%3D" alt="liblinear å¤„ç†æ•°æ®" loading="lazy"/></p>
<p>ç”Ÿæˆçš„å›¾ç‰‡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77c37483b93948fd8417f95ad96e064c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=VfN060FDkbAv5wwFUIgvbgIE6V8%3D" alt="liblinear å¤„ç†æ•°æ®" loading="lazy"/></p>
<h3 data-id="heading-4">åˆ†ç±»æ–¹å¼é€‰å‚æ•°</h3>
<p>multi_classå‚æ•°å†³å®šäº†æˆ‘ä»¬åˆ†ç±»æ–¹å¼çš„é€‰æ‹©ï¼Œæœ‰ovrå’Œmultinomialä¸¤ä¸ªå€¼å¯ä»¥é€‰æ‹©ï¼Œé»˜è®¤æ˜¯ovrã€‚
ovrå³å‰é¢æåˆ°çš„one-vs-restï¼ˆOvRï¼‰ï¼Œè€Œmultinomialå³å‰é¢æåˆ°çš„many-vs-manyï¼ˆMvMï¼‰ã€‚å¦‚æœæ˜¯äºŒå…ƒé€»è¾‘å›å½’ï¼Œovrå’Œmultinomialå¹¶æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼ŒåŒºåˆ«ä¸»è¦æ˜¯åœ¨å¤šå…ƒå›å½’é€»è¾‘ä¸Šã€‚
OvRçš„æ€æƒ³å¾ˆç®€å•ï¼Œæ— è®ºä½ æ˜¯å¤šå°‘å…ƒå›é€»è¾‘å›å½’ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥çœ‹åšäºŒå…ƒé€»è¾‘å›å½’ã€‚å…·ä½“åšæ³•æ˜¯ï¼Œå¯¹äºç¬¬Kç±»çš„åˆ†ç±»å†³ç­–ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰ç¬¬Kç±»çš„æ ·æœ¬ä½œä¸ºæ­£ä¾‹ï¼Œé™¤äº†ç¬¬Kç±»æ ·æœ¬ä»¥å¤–çš„æ‰€æœ‰æ ·æœ¬éƒ½ä½œä¸ºè´Ÿä¾‹ï¼Œç„¶ååœ¨ä¸Šé¢åšäºŒå…ƒé€»è¾‘å›å½’ï¼Œå¾—åˆ°ç¬¬Kç±»çš„åˆ†ç±»æ¨¡å‹ã€‚å…¶ä»–ç±»çš„åˆ†ç±»æ¨¡å‹è·å¾—ä»¥æ­¤ç±»æ¨ã€‚</p>
<p>ç”Ÿæˆä¸‰ä¸ªå‡çš„æ•°æ®é›†ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a84c79a7d1c4acaaced9c2056c01dac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=5FnC1e4tdUfOsdc0PFOm9fyTPt8%3D" alt="åˆ†ç±»æ–¹å¼é€‰å‚æ•°" loading="lazy"/></p>
<p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcf4246cc4b843898493a2a65a438cc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=Tgi%2Fc85mDYHi0E4MKCU%2FE6RG5B4%3D" alt="åˆ†ç±»æ–¹å¼é€‰å‚æ•°" loading="lazy"/></p>
<p>å¤„ç†è¿‡çš„æ•°æ®é›†æ˜¯äºŒåˆ†ç±»é—®é¢˜ï¼Œé€šè¿‡é€»è¾‘å›å½’å¯èƒ½å¾—åˆ°é»‘çº¿åŒºåˆ†ä¸åŒç±»åˆ«ã€‚
åŒç†ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7062a2bf1224385beb6d48d544281c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=84z%2BfEus8%2F8IUZyet1gXF9qroSc%3D" alt="å¤„ç†è¿‡çš„æ•°æ®é›†æ˜¯äºŒåˆ†ç±»é—®é¢˜ï¼Œé€šè¿‡é€»è¾‘å›å½’å¯èƒ½å¾—åˆ°é»‘çº¿åŒºåˆ†ä¸åŒç±»åˆ«" loading="lazy"/>
å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1fc365c51b448ab963bf3ebc6d8f904~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=lB39kQ4j7G8txmW%2F3O8n8m7sBjA%3D" alt="å®šä¹‰äºŒåˆ†ç±»çš„å‡½æ•°" loading="lazy"/>
ç»˜åˆ¶çš„å›¾åƒå¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0019137663745ceb78820ad8b15f679~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=lIt7haclaqcrQS5WnuztyxeTUC0%3D" alt="äºŒåˆ†ç±»çš„å›¾åƒ" loading="lazy"/>
å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/792535963c4442b78985beef164a758e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=nc%2BXLXLDm5lXVGOImUj2ouJ7g8U%3D" alt="äºŒåˆ†ç±»çš„å‡½æ•°" loading="lazy"/></p>
<p>å°†å…¬å¼æ€»ç»“åœ¨ä¸€èµ·ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35cb89f79d204b6a9239b9e9b250b620~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=kYIAsY56Q876kAsO7UII55LWIWk%3D" alt="äºŒåˆ†ç±»é—®é¢˜" loading="lazy"/>
å¤„ç†è¿‡çš„æ•°æ®é›†å°±æ˜¯äºŒåˆ†ç±»é—®é¢˜ï¼Œé€šè¿‡é€»è¾‘å›å½’å¯èƒ½å¾—åˆ°é»‘çº¿åŒºåˆ†ä¸åŒç±»åˆ«ã€‚
åŒç†ï¼Œå½“éœ€è¦é¢„æµ‹æ–°çš„æ•°æ®ç±»åˆ«æ—¶ï¼Œä½¿ç”¨å¦‚ä¸‹å…¬å¼ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54894ed56a594c6baaa8f628a91f562a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=7kZRxuZzLiWgcRFxnZRd189%2FPtc%3D" alt="å¤„ç†äºŒåˆ†ç±»é—®é¢˜" loading="lazy"/>
ä½¿ç”¨ä¸åŒçš„å‡½æ•°æ¥é¢„æµ‹è¾“å…¥xï¼Œåˆ†åˆ«è®¡ç®—ä¸åŒy^çš„å€¼ï¼Œç„¶åå–å…¶ä¸­çš„æœ€å¤§å€¼ã€‚å“ªä¸ªç±»åˆ«å¯¹åº”çš„ i è¶Šå¤§ï¼Œå°±è®¤ä¸º y^å±äºå“ªä¸ªç±»åˆ«ã€‚
è€Œ MvM åˆ™ç›¸å¯¹å¤æ‚ï¼Œè¿™é‡Œä¸¾ MvM ç‰¹ä¾‹ one-vs-oneï¼ˆOvOï¼‰ä½œè®²è§£ã€‚
å¦‚æœæ¨¡å‹æœ‰ T ç±»ï¼Œæˆ‘ä»¬æ¯æ¬¡åœ¨æ‰€æœ‰çš„ T ç±»æ ·æœ¬é‡Œé¢é€‰æ‹©ä¸¤ç±»æ ·æœ¬å‡ºæ¥ï¼Œä¸é˜²è®°ä¸º T1 å’Œ T2ï¼ŒæŠŠæ‰€æœ‰çš„è¾“å‡ºä¸º T1 å’Œ T2 çš„æ ·æœ¬æ”¾åœ¨ä¸€èµ·ï¼ŒæŠŠ T1 ä½œä¸ºæ­£ä¾‹ï¼ŒT2 ä½œä¸ºè´Ÿä¾‹ï¼Œè¿›è¡ŒäºŒå…ƒé€»è¾‘å›å½’ï¼Œå¾—åˆ°æ¨¡å‹å‚æ•°ï¼Œæˆ‘ä»¬ä¸€å…±éœ€è¦ Tï¼ˆT-1ï¼‰/2 æ¬¡åˆ†ç±»ã€‚
ä»ä¸Šé¢æè¿°å¯ä»¥çœ‹å‡º OvR ç›¸å¯¹ç®€å•ï¼Œä½†åˆ†ç±»æ•ˆæœç›¸å¯¹è¾ƒå·®ï¼ˆè¿™é‡ŒæŒ‡å¤§å¤šæ•°æ ·æœ¬åˆ†å¸ƒæƒ…å†µï¼ŒæŸäº›æ ·æœ¬åˆ†å¸ƒä¸‹ OvR å¯èƒ½æ›´å¥½ï¼‰ã€‚è€Œ MvM åˆ†ç±»ç›¸å¯¹ç²¾ç¡®ï¼Œä½†æ˜¯åˆ†ç±»é€Ÿåº¦æ²¡æœ‰ OvR å¿«ã€‚
å¦‚æœé€‰æ‹©äº† OvRï¼Œåˆ™ 4 ç§æŸå¤±å‡½æ•°çš„ä¼˜åŒ–æ–¹æ³• liblinearã€newton-cgã€bfgs å’Œ sag éƒ½å¯ä»¥é€‰æ‹©ã€‚ä½†æ˜¯å¦‚æœé€‰æ‹©äº†multinomialã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression <span class="hljs-keyword">as</span> LR
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris
iris = load_iris()
<span class="hljs-keyword">for</span> multi_class <span class="hljs-keyword">in</span> (<span class="hljs-string">'multinomial'</span>, <span class="hljs-string">'ovr'</span>):
clf = LR(solver=<span class="hljs-string">'sag'</span>, max_iter=<span class="hljs-number">100</span>, random_state=<span class="hljs-number">42</span>,
multi_class=multi_class).fit(iris.data,iris.target)
<span class="hljs-comment">#æ‰“å°ä¸¤ç§multi_classæ¨¡å¼ä¸‹çš„è®­ç»ƒåˆ†æ•°</span>
<span class="hljs-comment">#%çš„â½¤æ³•ï¼Œâ½¤%æ¥ä»£æ›¿æ‰“å°çš„å­—ç¬¦ä¸²ä¸­ï¼Œæƒ³ç”±å˜é‡æ›¿æ¢çš„éƒ¨åˆ†ã€‚%.3fè¡¨ç¤ºï¼Œä¿ç•™ä¸‰ä½â¼©æ•°çš„æµ®ç‚¹æ•°ã€‚%sè¡¨ç¤ºï¼Œ</span>
å­—ç¬¦ä¸²ã€‚
<span class="hljs-comment">#å­—ç¬¦ä¸²åçš„%åä½¿â½¤å…ƒç¥–æ¥å®¹çº³å˜é‡ï¼Œå­—ç¬¦ä¸²ä¸­æœ‰â¼ä¸ª%ï¼Œå…ƒç»„ä¸­å°±éœ€è¦æœ‰â¼ä¸ªå˜é‡</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"training score : %.3f (%s)"</span> % (clf.score(iris.data,
iris.target),multi_class))
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/611c54d6924441e7aae8cf13e6e36d72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768873530&amp;x-signature=FXJ1YyrFnC5QWNiKEzqOBAUqiFA%3D" alt="multi_classæ¨¡å¼ä¸‹çš„è®­ç»ƒåˆ†æ•°" loading="lazy"/></p>
<h2 data-id="heading-5">é”™è¯¯é€ŸæŸ¥</h2>





























<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>è­¦å‘Šï¼šmax_iter æœªæ”¶æ•›</td><td>è¿­ä»£æ¬¡æ•°ä¸è¶³ï¼Œæ¨¡å‹æœªæ”¶æ•›</td><td>LogisticRegression ä¸­ max_iter å‚æ•°</td><td>å¢å¤§ max_iterï¼ŒåŒæ—¶æ³¨æ„å¹³è¡¡è®­ç»ƒé€Ÿåº¦ä¸è¿‡æ‹Ÿåˆ</td></tr><tr><td>æ¨¡å‹è¿‡æ‹Ÿåˆï¼ˆè®­ç»ƒé›†å‡†ç¡®ç‡é«˜ï¼Œæµ‹è¯•é›†ä½ï¼‰</td><td>è¿­ä»£æ¬¡æ•°è¿‡é«˜ï¼Œæ¨¡å‹å­¦ä¹ è¿‡å¤šç»†èŠ‚</td><td>max_iter è®¾ç½®è¿‡å¤§ï¼Œè®­ç»ƒè¿‡ç¨‹è¿‡äºç²¾ç»†</td><td>è°ƒæ•´ max_iter è‡³åˆç†èŒƒå›´ï¼Œé¿å…è¿‡åº¦è¿­ä»£</td></tr><tr><td>åˆ†ç±»æ•ˆæœä¸ç†æƒ³</td><td>multi_class å‚æ•°é€‰æ‹©ä¸å½“</td><td>LogisticRegression ä¸­ multi_class è®¾ç½®</td><td>å¯¹äºå¤šç±»é—®é¢˜ï¼Œä½¿ç”¨ multinomial æˆ–è°ƒæ•´ OvR è®¾ç½®</td></tr></tbody></table>
<h2 data-id="heading-6">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-7">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-8">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-9">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI èƒ½æ›¿ä»£ç¨‹åºå‘˜ç¼–å†™æ‰€æœ‰ä»£ç å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7594383365418025006</link>    <guid>https://juejin.cn/post/7594383365418025006</guid>    <pubDate>2026-01-13T01:49:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594383365418025006" data-draft-id="7594262760941158434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI èƒ½æ›¿ä»£ç¨‹åºå‘˜ç¼–å†™æ‰€æœ‰ä»£ç å—ï¼Ÿ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-13T01:49:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½˜é”¦"/> <meta itemprop="url" content="https://juejin.cn/user/730549110707431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI èƒ½æ›¿ä»£ç¨‹åºå‘˜ç¼–å†™æ‰€æœ‰ä»£ç å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/730549110707431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½˜é”¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:49:29.000Z" title="Tue Jan 13 2026 01:49:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä» AI å‡ºæ¥ï¼Œè¿™ä¸ªä¸€ç›´éƒ½ä¼šæœ‰äººé—®ï¼Œè€Œä¸”é—®å¾—è¶Šæ¥è¶Šå¤šï¼Œç‰¹åˆ«æ˜¯çœ‹åˆ°å„ç§ AI ç¼–ç¨‹å·¥å…·æ¼”ç¤ºè§†é¢‘åï¼Œå¾ˆå¤šäººå¼€å§‹ç„¦è™‘ç¨‹åºå‘˜è¿™ä¸ªèŒä¸šæ˜¯ä¸æ˜¯è¦æ¶ˆå¤±äº†ã€‚</p>
<p>æˆ‘çš„ç­”æ¡ˆå¾ˆç›´æ¥ï¼šä¸èƒ½ï¼Œè‡³å°‘åœ¨å¯é¢„è§çš„æœªæ¥ä¸èƒ½ã€‚</p>
<p>è¿™ä¸æ˜¯ä¸ºäº†å®‰æ…°ç¨‹åºå‘˜ç¾¤ä½“ï¼Œè€Œæ˜¯åŸºäºå½“å‰ AI æŠ€æœ¯çš„å®é™…æƒ…å†µã€‚æˆ‘ä»¬éœ€è¦ç†æ¸…æ¥š AI åœ¨ç¼–ç¨‹é¢†åŸŸåˆ°åº•èƒ½åšä»€ä¹ˆï¼Œä¸èƒ½åšä»€ä¹ˆï¼Œä»¥åŠä¸ºä»€ä¹ˆæœ‰äº›äº‹æƒ…å®ƒåšä¸äº†ã€‚</p>
<h2 data-id="heading-0">1. å¹»è§‰</h2>
<p>AI çš„å¹»è§‰é—®é¢˜åˆ°ç°åœ¨éƒ½æ²¡è§£å†³ã€‚ä»€ä¹ˆæ˜¯å¹»è§‰ï¼Ÿå°±æ˜¯ AI ä¼šä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ï¼Œç¼–é€ ä¸€äº›çœ‹èµ·æ¥åˆç†ä½†å®é™…ä¸Šé”™è¯¯çš„å†…å®¹ã€‚</p>
<p>åœ¨å†™ä»£ç è¿™ä»¶äº‹ä¸Šï¼Œå¹»è§‰é—®é¢˜æ˜¯ä¸èƒ½æ¥å—çš„ã€‚AI å¯èƒ½ä¼šè°ƒç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„ APIï¼Œä½¿ç”¨ä¸€ä¸ªé”™è¯¯çš„å‚æ•°ï¼Œæˆ–è€…å¹²è„†ç¼–é€ ä¸€ä¸ªå¬èµ·æ¥å¾ˆåˆç†çš„å‡½æ•°åã€‚æ›´éº»çƒ¦çš„æ˜¯ï¼Œè¿™äº›é”™è¯¯å¾€å¾€è—å¾—å¾ˆæ·±ï¼Œè¡¨é¢ä¸Šä»£ç ç»“æ„å®Œæ•´ï¼Œè¯­æ³•æ­£ç¡®ï¼Œä½†å®é™…è¿è¡Œæ—¶å°±æ˜¯ä¸å¯¹ã€‚</p>
<p>ä»¥å‰ä¸€æ®µæ—¶é—´çš„ç»å†ä¸ºä¾‹ï¼Œç”Ÿæˆçš„ Python ä¸­æœ‰ä¸€ä¸ªç¼©è¿›ä¸å¯¹ï¼Œå¯¼è‡´æ•´ä¸ªé€»è¾‘æ­£å¸¸ï¼Œä»£ç èƒ½è·‘é€šï¼Œä½†æ˜¯ç»“æœä¸å¯¹ã€‚</p>
<p>è¿™äº›é—®é¢˜çš„æ ¹æºåœ¨äº AI å¹¶ä¸çœŸæ­£ç†è§£ä»£ç çš„å«ä¹‰ï¼Œå®ƒåªæ˜¯åŸºäºè®­ç»ƒæ•°æ®ä¸­çš„æ¨¡å¼æ¥ç”Ÿæˆçœ‹èµ·æ¥ç›¸ä¼¼çš„å†…å®¹ã€‚å°±åƒä¸€ä¸ªäººèƒŒäº†å¾ˆå¤šæ•°å­¦å…¬å¼ï¼Œä½†ä¸ç†è§£æ•°å­¦åŸç†ï¼Œé‡åˆ°æ–°é—®é¢˜å°±å®¹æ˜“å‡ºé”™ã€‚</p>
<p>å½“å‰ä¸šç•ŒæŠ•å…¥å¤§é‡èµ„æºç ”ç©¶å¦‚ä½•å‡å°‘ AI çš„å¹»è§‰é—®é¢˜ï¼Œä½†è¿›å±•ç¼“æ…¢ã€‚å› ä¸ºè¿™ä¸æ˜¯ç®€å•çš„å·¥ç¨‹é—®é¢˜ï¼Œè€Œæ˜¯æ¶‰åŠåˆ° AI æ¨¡å‹çš„æ ¹æœ¬æœºåˆ¶ã€‚åœ¨è¿™ä¸ªé—®é¢˜è§£å†³ä¹‹å‰ï¼Œè®© AI ç‹¬ç«‹ç¼–å†™ç”Ÿäº§çº§ä»£ç æ˜¯ä¸ç°å®çš„ã€‚</p>
<h2 data-id="heading-1">2. è°æ¥èƒŒé”…</h2>
<p>åœ¨æ•´ä¸ªç³»ç»Ÿäº§ç”Ÿçš„è¿‡ç¨‹ä¸­ï¼Œè¯´å¾—ä¸å¥½å¬ä¸€äº›ï¼Œä½œä¸ºç³»ç»Ÿçš„å¼€å‘è€…ï¼Œæœ‰ä¸€ä¸ªç‚¹æ˜¯æ‰¿æ‹…è´£ä»»ã€‚å½“ç³»ç»Ÿå‡ºç° bug å¯¼è‡´ç”¨æˆ·æŸå¤±ï¼Œå½“å®‰å…¨æ¼æ´è¢«æ”»å‡»é€ æˆæ•°æ®æ³„éœ²ï¼Œå½“æ€§èƒ½é—®é¢˜å½±å“ä¸šåŠ¡è¿è¥ï¼Œæ€»å¾—æœ‰äººè´Ÿè´£ï¼Œæ€»å¾—æœ‰äººèƒŒé”…å§ã€‚</p>
<p>ç¨‹åºå‘˜å†™çš„ä»£ç ï¼Œç¨‹åºå‘˜è´Ÿè´£ã€‚å›¢é˜Ÿå¼€å‘çš„ç³»ç»Ÿï¼Œå›¢é˜Ÿè´Ÿè´£ã€‚ä½† AI å†™çš„ä»£ç ï¼Œè°è´Ÿè´£ï¼Ÿ</p>
<p>è¿™ä¸æ˜¯ä¸€ä¸ªæŠ€æœ¯é—®é¢˜ï¼Œè€Œæ˜¯ä¸€ä¸ªæ³•å¾‹å’Œä¼¦ç†é—®é¢˜ã€‚AI ä¸æ˜¯æ³•å¾‹ä¸»ä½“ï¼Œä¸èƒ½ç­¾åˆåŒï¼Œä¸èƒ½æ‰¿æ‹…è´£ä»»ï¼Œä¹Ÿä¸èƒ½è¢«è¿½è´£ã€‚å¦‚æœ AI ç”Ÿæˆçš„ä»£ç é€ æˆäº†æŸå¤±ï¼Œè´£ä»»é“¾æ¡å°±æ–­äº†ã€‚</p>
<p>æœ‰äººå¯èƒ½ä¼šè¯´ï¼Œä½¿ç”¨ AI çš„äººè´Ÿè´£ä¸å°±è¡Œäº†ï¼Ÿé—®é¢˜æ˜¯ï¼Œå¦‚æœä¸€ä¸ªäººä¸æ‡‚ä»£ç ï¼Œåªæ˜¯ç”¨ AI ç”Ÿæˆäº†ä»£ç å¹¶éƒ¨ç½²ä¸Šçº¿ï¼Œå‡ºäº†é—®é¢˜ä»–æ€ä¹ˆè´Ÿè´£ï¼Ÿä»–æ—¢çœ‹ä¸æ‡‚ä»£ç ï¼Œä¹Ÿæ— æ³•åˆ¤æ–­ä»£ç çš„è´¨é‡ï¼Œæ›´ä¸çŸ¥é“å¦‚ä½•ä¿®å¤é—®é¢˜ã€‚</p>
<p>è¿™å°±åƒè®©ä¸€ä¸ªä¸ä¼šå¼€è½¦çš„äººç”¨è‡ªåŠ¨é©¾é©¶ä¸Šè·¯ï¼Œå‡ºäº†äº‹æ•…ç®—è°çš„ï¼Ÿ</p>
<p>åœ¨ä¼ä¸šç¯å¢ƒä¸­ï¼Œè¿™ä¸ªé—®é¢˜æ›´åŠ çªå‡ºã€‚æ¯ä¸€è¡Œä»£ç éƒ½å¯èƒ½æ¶‰åŠå•†ä¸šæœºå¯†ã€ç”¨æˆ·éšç§ã€åˆè§„è¦æ±‚ã€‚æ²¡æœ‰æ˜ç¡®çš„è´£ä»»ä¸»ä½“ï¼Œæ²¡æœ‰äººæ•¢è®© AI å®Œå…¨æ¥ç®¡ä»£ç ç¼–å†™å·¥ä½œã€‚</p>
<p>å³ä½¿æŠ€æœ¯ä¸Š AI èƒ½å†™å‡ºå®Œç¾çš„ä»£ç ï¼ˆå½“ç„¶ç°åœ¨è¿˜åšä¸åˆ°ï¼‰ï¼Œè´£ä»»é—®é¢˜ä¸è§£å†³ï¼Œä¼ä¸šä¹Ÿä¸ä¼šæ”¾å¿ƒä½¿ç”¨ã€‚è¿™éœ€è¦æ•´ä¸ªç¤¾ä¼šåœ¨æ³•å¾‹ã€ä¿é™©ã€è®¤è¯ç­‰å¤šä¸ªå±‚é¢å»ºç«‹æ–°çš„ä½“ç³»ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦å¾ˆå¤šå¹´ã€‚</p>
<h2 data-id="heading-2">3. å¾ˆå¤šäººæ˜¯è®²ä¸æ¸…éœ€æ±‚çš„</h2>
<p>AI å†™ä»£ç é¢ä¸´çš„å¦ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜æ˜¯éœ€æ±‚è¡¨è¾¾ã€‚å¤§éƒ¨åˆ†äººæ ¹æœ¬è¯´ä¸æ¸…æ¥šè‡ªå·±è¦ä»€ä¹ˆã€‚</p>
<p>è¿™ä¸ªé—®é¢˜åœ¨ AI ç”Ÿå›¾é¢†åŸŸå·²ç»å¾ˆæ˜æ˜¾äº†ã€‚ä½ è®© AI ç”»ä¸€ä¸ªç¾å¥³ï¼Œå®ƒèƒ½ç”»ã€‚ä½†ä½ æƒ³è¦çš„æ˜¯ä»€ä¹ˆé£æ ¼çš„ç¾å¥³ï¼Ÿè¡¨æƒ…æ˜¯ä»€ä¹ˆï¼Ÿç©¿ä»€ä¹ˆè¡£æœï¼Ÿåœ¨ä»€ä¹ˆåœºæ™¯ï¼Ÿå…‰çº¿å¦‚ä½•ï¼Ÿæ„å›¾æ€æ ·ï¼Ÿå¤§éƒ¨åˆ†äººè¯´ä¸å‡ºæ¥ï¼Œæˆ–è€…è¯´å‡ºæ¥çš„å’Œè„‘å­é‡Œæƒ³çš„ä¸ä¸€æ ·ã€‚</p>
<p>å†™ä»£ç æ›´å¤æ‚ã€‚ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„éœ€æ±‚ï¼Œæ¯”å¦‚"åšä¸€ä¸ªç”¨æˆ·ç™»å½•åŠŸèƒ½"ï¼ŒèƒŒåæœ‰æ— æ•°ç»†èŠ‚ï¼š</p>
<ul>
<li>ç”¨ä»€ä¹ˆæ–¹å¼ç™»å½•ï¼Ÿç”¨æˆ·åå¯†ç ï¼Ÿæ‰‹æœºéªŒè¯ç ï¼Ÿç¬¬ä¸‰æ–¹ç™»å½•ï¼Ÿ</li>
<li>å¯†ç æ€ä¹ˆå­˜å‚¨ï¼Ÿç”¨ä»€ä¹ˆåŠ å¯†ç®—æ³•ï¼Ÿ</li>
<li>ç™»å½•å¤±è´¥æ€ä¹ˆå¤„ç†ï¼Ÿè¦ä¸è¦é™åˆ¶å°è¯•æ¬¡æ•°ï¼Ÿ</li>
<li>Session æ€ä¹ˆç®¡ç†ï¼ŸCookie æ€ä¹ˆè®¾ç½®ï¼Ÿ</li>
<li>å®‰å…¨æ€ä¹ˆä¿è¯ï¼Ÿå¦‚ä½•é˜²æ­¢ SQL æ³¨å…¥ã€XSS æ”»å‡»ï¼Ÿ</li>
<li>æ€§èƒ½æ€ä¹ˆä¼˜åŒ–ï¼Ÿå¹¶å‘æ€ä¹ˆå¤„ç†ï¼Ÿ</li>
</ul>
<p>ç¨‹åºå‘˜çš„ä»·å€¼å¾ˆå¤§ç¨‹åº¦ä¸Šåœ¨äºæŠŠæ¨¡ç³Šçš„éœ€æ±‚è½¬åŒ–ä¸ºç²¾ç¡®çš„å®ç°ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦å¤§é‡çš„æ²Ÿé€šã€ç†è§£ã€æƒè¡¡å’Œå†³ç­–ã€‚å®¢æˆ·è¯´"æˆ‘è¦ä¸€ä¸ªè´­ç‰©è½¦"ï¼Œç¨‹åºå‘˜è¦é—®æ¸…æ¥šå‡ åä¸ªé—®é¢˜æ‰èƒ½å¼€å§‹å†™ä»£ç ã€‚</p>
<p>å¦‚æœéœ€æ±‚è¡¨è¾¾ä¸æ¸…ï¼ŒAI åªèƒ½çŒœã€‚å®ƒå¯èƒ½çŒœå¯¹ï¼Œä¹Ÿå¯èƒ½çŒœé”™ã€‚æ›´å¯èƒ½çš„æ˜¯ï¼Œå®ƒä¼šæŒ‰ç…§è®­ç»ƒæ•°æ®ä¸­æœ€å¸¸è§çš„æ¨¡å¼æ¥å®ç°ï¼Œç»“æœæ˜¯åƒç¯‡ä¸€å¾‹çš„ä»£ç ï¼Œæ— æ³•æ»¡è¶³å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<p>æœ‰äººå¯èƒ½è§‰å¾—ï¼Œé‚£å°±æŠŠéœ€æ±‚è¯´å¾—è¯¦ç»†ä¸€ç‚¹ã€‚é—®é¢˜æ˜¯ï¼Œå¦‚æœä½ èƒ½æŠŠéœ€æ±‚è¯´å¾—è¶³å¤Ÿè¯¦ç»†ã€è¶³å¤Ÿç²¾ç¡®ï¼Œä½ åŸºæœ¬ä¸Šå·²ç»å®Œæˆäº†ç¼–ç¨‹å·¥ä½œçš„ä¸€åŠã€‚å‰©ä¸‹çš„ç¼–ç éƒ¨åˆ†åè€Œæ˜¯ç›¸å¯¹ç®€å•çš„ã€‚</p>
<p>è¿™å°±åƒå†™ä½œä¸€æ ·ã€‚å¦‚æœä½ èƒ½æŠŠæ–‡ç« çš„æ¯ä¸ªæ®µè½ã€æ¯ä¸ªå¥å­éƒ½æƒ³æ¸…æ¥šï¼Œé‚£å†™å‡ºæ¥å°±å¾ˆå¿«ã€‚éš¾çš„æ˜¯æƒ³æ¸…æ¥šè¦å†™ä»€ä¹ˆã€æ€ä¹ˆå†™ã€‚</p>
<h2 data-id="heading-3">4. æœ€å</h2>
<p>æŠ€æœ¯åœ¨è¿›æ­¥ï¼ŒAI ä¹Ÿåœ¨è¿›åŒ–ã€‚ä¹Ÿè®¸æœ‰ä¸€å¤©ï¼Œå¹»è§‰é—®é¢˜ä¼šè¢«è§£å†³ï¼Œè´£ä»»ä½“ç³»ä¼šè¢«å»ºç«‹ï¼Œéœ€æ±‚è¡¨è¾¾ä¼šå˜å¾—ç®€å•ã€‚ä½†é‚£ä¸€å¤©è¿˜å¾ˆé¥è¿œã€‚</p>
<p>åœ¨å¯é¢„è§çš„æœªæ¥ï¼ŒAI å’Œç¨‹åºå‘˜çš„å…³ç³»æ›´åƒæ˜¯é£è¡Œå‘˜å’Œè‡ªåŠ¨é©¾é©¶ç³»ç»Ÿçš„å…³ç³»ã€‚è‡ªåŠ¨é©¾é©¶å¯ä»¥å¤„ç†å¤§éƒ¨åˆ†å¸¸è§„é£è¡Œï¼Œä½†èµ·é£ã€é™è½ã€åº”æ€¥å¤„ç†è¿˜æ˜¯éœ€è¦é£è¡Œå‘˜ã€‚é£è¡Œå‘˜çš„æ•°é‡å¯èƒ½ä¼šå‡å°‘ï¼Œä½†ä¸ä¼šæ¶ˆå¤±ã€‚</p>
<p>å¯¹ç¨‹åºå‘˜æ¥è¯´ï¼Œä¸å…¶æ‹…å¿ƒè¢« AI æ›¿ä»£ï¼Œä¸å¦‚å­¦ä¼šç”¨å¥½ AI å·¥å…·ã€‚ä¼šç”¨ AI çš„ç¨‹åºå‘˜å’Œä¸ä¼šç”¨ AI çš„ç¨‹åºå‘˜ï¼Œç”Ÿäº§åŠ›å·®è·ä¼šè¶Šæ¥è¶Šå¤§ã€‚</p>
<p>åŒæ—¶ï¼Œç¨‹åºå‘˜éœ€è¦æŠŠæ›´å¤šç²¾åŠ›æ”¾åœ¨ AI åšä¸äº†çš„äº‹æƒ…ä¸Šï¼šæ·±å…¥ç†è§£ä¸šåŠ¡ã€æå‡æ¶æ„èƒ½åŠ›ã€åŠ å¼ºæ²Ÿé€šæŠ€å·§ã€åŸ¹å…»äº§å“æ€ç»´ã€‚è¿™äº›èƒ½åŠ›ä¸ä»…ä¸ä¼šè¢« AI æ›¿ä»£ï¼Œåè€Œä¼šå› ä¸º AI çš„è¾…åŠ©è€Œå˜å¾—æ›´æœ‰ä»·å€¼ã€‚</p>
<p>è½¯ä»¶å¼€å‘çš„æœ¬è´¨æ˜¯è§£å†³é—®é¢˜ï¼Œè€Œä¸æ˜¯å†™ä»£ç ã€‚ä»£ç åªæ˜¯æ‰‹æ®µï¼Œè§£å†³é—®é¢˜æ‰æ˜¯ç›®çš„ã€‚åªè¦äººç±»ç¤¾ä¼šè¿˜æœ‰é—®é¢˜éœ€è¦è§£å†³ï¼Œç¨‹åºå‘˜è¿™ä¸ªèŒä¸šå°±ä¼šå­˜åœ¨ï¼Œåªæ˜¯å·¥ä½œæ–¹å¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
<p>AI æ”¹å˜çš„æ˜¯ç¼–ç¨‹çš„æ–¹å¼ï¼Œä¸æ˜¯ç¼–ç¨‹çš„éœ€æ±‚ã€‚å°±åƒé«˜çº§è¯­è¨€æ²¡æœ‰æ¶ˆç­æ±‡ç¼–ç¨‹åºå‘˜ï¼Œæ¡†æ¶æ²¡æœ‰æ¶ˆç­åº•å±‚å¼€å‘è€…ï¼ŒAI ä¹Ÿä¸ä¼šæ¶ˆç­ç¨‹åºå‘˜ã€‚å®ƒåªæ˜¯ç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ›´å¼ºå¤§çš„å·¥å…·ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿè§£å†³æ›´å¤æ‚çš„é—®é¢˜ï¼Œåˆ›é€ æ›´å¤§çš„ä»·å€¼ã€‚</p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agentä¸å¤Ÿèªæ˜ï¼Œä½† SaaS å…¬å¸å¯èƒ½æ˜¯è§£è¯]]></title>    <link>https://juejin.cn/post/7594310266411335680</link>    <guid>https://juejin.cn/post/7594310266411335680</guid>    <pubDate>2026-01-13T01:50:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594310266411335680" data-draft-id="7594262760941174818" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agentä¸å¤Ÿèªæ˜ï¼Œä½† SaaS å…¬å¸å¯èƒ½æ˜¯è§£è¯"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-13T01:50:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½˜é”¦"/> <meta itemprop="url" content="https://juejin.cn/user/730549110707431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agentä¸å¤Ÿèªæ˜ï¼Œä½† SaaS å…¬å¸å¯èƒ½æ˜¯è§£è¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/730549110707431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½˜é”¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:50:51.000Z" title="Tue Jan 13 2026 01:50:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ç»å¸¸ä¼šå’Œ AI Agent èŠå¤©ï¼Œä½¿ç”¨ AI ç¼–ç¨‹ï¼Œå¹¶ä¸”ä¹Ÿä¼šå’Œæ­£åœ¨ç”¨ AI Agent çš„æœ‹å‹èŠå¤©ï¼Œå‘ç°å¤§å®¶ AI Agent çš„æœŸå¾…å€¼å’Œå®é™…ä½“éªŒä¹‹é—´ï¼Œå­˜åœ¨ç€ç›¸å½“å¤§çš„è½å·®ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œå¤§å®¶è§‰å¾— Agent ä¸æ€ä¹ˆèªæ˜ã€‚</p>
<h2 data-id="heading-0">1. AI Agent åˆ°åº•å“ªé‡Œä¸èªæ˜</h2>
<p>å¯èƒ½æ˜¯ä»¥ä¸‹çš„æ–¹é¢ï¼š</p>
<ol>
<li>ä¸šåŠ¡ç†è§£èƒ½åŠ›å·®ã€‚å¾ˆå¤š AI Agent çœ‹èµ·æ¥èƒ½å¯¹ç­”å¦‚æµï¼Œä½†ä¸€æ¶‰åŠåˆ°å…·ä½“ä¸šåŠ¡åœºæ™¯å°±å¼€å§‹ç­”éæ‰€é—®ã€‚å…ˆä¸è¯´åŸå› ï¼ŒåŸå› åé¢å†ç»†è®²ã€‚</li>
<li>æ‰§è¡Œèƒ½åŠ›æœ‰é™ã€‚åœ¨å¤§å®¶çš„é¢„æœŸä¸­ AI Agent åº”è¯¥èƒ½è‡ªä¸»è§„åˆ’å’Œæ‰§è¡Œä»»åŠ¡ï¼Œä½†å®é™…ä¸Šå¤§éƒ¨åˆ†æ‰€è°“çš„ AI Agent è¿˜åœç•™åœ¨"é—®ä¸€å¥ç­”ä¸€å¥"çš„é˜¶æ®µã€‚æˆ‘ä»¬æƒ³åƒä¸­çš„ä¸€å¥è¯éœ€æ±‚ï¼Œå¦‚"å¸®æˆ‘åˆ†æè¿™ä»½è´¢æŠ¥å¹¶ç”ŸæˆæŠ•èµ„å»ºè®®"ï¼Œå¤§éƒ¨åˆ† AI Agent æ˜¯æä¸å®šçš„ï¼Œç±»ä¼¼äº Manus è¿™ç§å‹‰å¼ºå¯ä»¥çš„ï¼Œä½†å…¶ç»“è®ºæ˜¯å¦èƒ½å‚è€ƒä¹Ÿæ˜¯å­˜ç–‘çš„ã€‚</li>
<li>å¯æ§æ€§å·®ã€‚æˆ‘ä»¬ä¸€æ–¹é¢å¸Œæœ› Agent æœ‰è‡ªä¸»èƒ½åŠ›ï¼Œèƒ½åƒäººä¸€æ ·çµæ´»å¤„ç†é—®é¢˜ï¼›å¦ä¸€æ–¹é¢åˆå¸Œæœ›å®ƒçš„è¡Œä¸ºå¯é¢„æµ‹ã€å¯æ§åˆ¶ã€‚è¿™æœ¬èº«å°±æ˜¯ä¸ªæ‚–è®ºã€‚ç»“æœå°±æ˜¯ï¼Œè¦ä¹ˆ Agent å¤ªæ­»æ¿ï¼Œåªèƒ½æŒ‰é¢„è®¾æµç¨‹èµ°ï¼›è¦ä¹ˆå¤ªã€Œèªæ˜ã€ï¼Œç»å¸¸åšå‡ºä¸€äº›è®©äººæ„å¤–çš„æ“ä½œã€‚</li>
<li>å®šåˆ¶æˆæœ¬é«˜ã€‚è¿™æœ¬æ¥ä¸æ˜¯èªæ˜çš„é—®é¢˜ï¼Œä½†è¿™æ˜¯èªæ˜çš„ä»£ä»·ï¼Œæ¯ä¸ªä¼ä¸šçš„ä¸šåŠ¡éƒ½æœ‰è‡ªå·±çš„ç‰¹æ®Šæ€§ï¼Œè¦è®© Agent çœŸæ­£ç†è§£å¹¶é€‚åº”è¿™äº›ç‰¹æ®Šæ€§ï¼Œéœ€è¦å¤§é‡çš„å®šåˆ¶åŒ–å·¥ä½œã€‚ä½†é—®é¢˜æ˜¯ï¼Œå¾ˆå¤šä¼ä¸šå¹¶æ²¡æœ‰è¿™ä¸ªæŠ€æœ¯èƒ½åŠ›æˆ–è€…é¢„ç®—æ¥åšæ·±åº¦å®šåˆ¶ã€‚</li>
</ol>
<h2 data-id="heading-1">2. ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™äº›é—®é¢˜</h2>
<p>æˆ‘è§‰å¾—ä¸»è¦æ˜¯ä¸‰æ–¹é¢çš„åŸå› ï¼š</p>
<ol>
<li>è¿‡é«˜çš„é¢„æœŸã€‚è¿‡å»ä¸€å¹´ï¼ŒAI Agent çš„æ¦‚å¿µè¢«ç‚’å¾—å¤ªçƒ­äº†ã€‚å„ç§å‚å•†éƒ½åœ¨å®£ä¼  Agent èƒ½å¤Ÿ"å®Œå…¨æ›¿ä»£äººå·¥"ã€"è‡ªä¸»å®Œæˆå¤æ‚ä»»åŠ¡"ã€‚ä½†å®é™…ä¸Šï¼Œç°åœ¨çš„æŠ€æœ¯æ°´å¹³ç¦»è¿™ä¸ªç›®æ ‡è¿˜æœ‰å¾ˆå¤§è·ç¦»ã€‚æœ‰çš„è€æ¿ï¼Œå¬äº†å‚å•†çš„å®£ä¼ åï¼ŒçœŸçš„ä»¥ä¸ºä¹°ä¸ª Agent äº§å“å°±èƒ½æ›¿ä»£æ‰å‡ ä¸ªå‘˜å·¥ã€‚ç»“æœä¸Šçº¿åå‘ç°ï¼Œä¸ä»…æ²¡æ³•æ›¿ä»£äººï¼Œåè€Œéœ€è¦ä¸“äººæ¥"ç…§é¡¾"è¿™ä¸ª Agentï¼Œæ•™å®ƒæ€ä¹ˆå·¥ä½œï¼Œçº æ­£å®ƒçš„é”™è¯¯ã€‚</li>
<li>æ¨¡ç³Šçš„äº§å“å®šä½ã€‚ç°åœ¨å¸‚é¢ä¸Šçš„ Agent äº§å“ï¼Œå¾ˆå¤šéƒ½æƒ³åšæˆ"ä¸‡èƒ½åŠ©æ‰‹"ã€‚ä½†è¶Šæ˜¯æƒ³ä»€ä¹ˆéƒ½åšï¼Œè¶Šæ˜¯ä»€ä¹ˆéƒ½åšä¸å¥½ã€‚åè€Œæ˜¯é‚£äº›ä¸“æ³¨äºç‰¹å®šåœºæ™¯çš„ Agentï¼Œæ¯”å¦‚ä¸“é—¨åšå®¢æœçš„ã€ä¸“é—¨åšæ•°æ®åˆ†æçš„ï¼Œæ•ˆæœä¼šå¥½å¾ˆå¤šã€‚</li>
<li>æŠ€æœ¯æ ˆçš„å‰²è£‚ã€‚åšå¥½ä¸€ä¸ª Agentï¼Œéœ€è¦æ¨¡å‹èƒ½åŠ›ã€å·¥ç¨‹èƒ½åŠ›ã€ä¸šåŠ¡ç†è§£èƒ½åŠ›çš„æ·±åº¦ç»“åˆã€‚ä½†å¾€å¾€æ‡‚æ¨¡å‹çš„ä¸æ‡‚ä¸šåŠ¡ï¼Œæ‡‚ä¸šåŠ¡çš„ä¸æ‡‚æ¨¡å‹ï¼Œæ‡‚å·¥ç¨‹çš„å¯èƒ½ä¸¤ä¸ªéƒ½ä¸å¤ªæ‡‚ã€‚è¿™ç§å‰²è£‚å¯¼è‡´åšå‡ºæ¥çš„äº§å“æ€»æ˜¯å·®é‚£ä¹ˆä¸€äº›ã€‚</li>
</ol>
<h2 data-id="heading-2">3. å½“å‰è°æœ€æœ‰ä¼˜åŠ¿ï¼Ÿ</h2>
<p>ç­”æ¡ˆæ˜¯ï¼šSaaS å…¬å¸ã€‚</p>
<p>åœ¨ AI Agent è½åœ°ä¸Šï¼ŒSaaS å…¬å¸æœ‰ç€å¤©ç„¶çš„ä¼˜åŠ¿ã€‚</p>
<p>SaaS å…¬å¸æœ€å¤§çš„ä¼˜åŠ¿æ˜¯æ¥è¿‘å®¢æˆ·å’Œæ•°æ®ã€‚ä»–ä»¬å¤©å¤©è·Ÿå®¢æˆ·æ‰“äº¤é“ï¼ŒçŸ¥é“å®¢æˆ·çš„çœŸå®éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Œç—›ç‚¹åœ¨å“ªé‡Œï¼Œå®é™…çš„ä¸šåŠ¡æµç¨‹æ˜¯æ€æ ·çš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œä»–ä»¬æ‰‹é‡Œæœ‰å¤§é‡çš„ä¸šåŠ¡æ•°æ®å’Œåœºæ™¯æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯¹äºè®­ç»ƒå’Œä¼˜åŒ– Agent æ¥è¯´æ˜¯æ— ä»·ä¹‹å®ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸€å®¶åš CRM çš„ SaaS å…¬å¸ï¼Œå¦‚æœè¦åšé”€å”® Agentï¼Œå®ƒæœ‰å‡ ä¸ªå¤©ç„¶ä¼˜åŠ¿ï¼š</p>
<p>ç¬¬ä¸€ï¼Œå®ƒçŸ¥é“é”€å”®çš„çœŸå®å·¥ä½œæµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ã€‚ä¸æ˜¯ç†è®ºä¸Šçš„æµç¨‹ï¼Œè€Œæ˜¯å®é™…æ“ä½œä¸­çš„æµç¨‹ï¼ŒåŒ…æ‹¬å„ç§ä¾‹å¤–æƒ…å†µå’Œæ½œè§„åˆ™ã€‚</p>
<p>ç¬¬äºŒï¼Œå®ƒæœ‰å¤§é‡çš„é”€å”®æ•°æ®ã€‚ä»€ä¹ˆæ ·çš„è¯æœ¯è½¬åŒ–ç‡é«˜ï¼Œä»€ä¹ˆæ—¶é—´æ‰“ç”µè¯æ•ˆæœå¥½ï¼Œä¸åŒè¡Œä¸šçš„å®¢æˆ·æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œè¿™äº›æ•°æ®éƒ½åœ¨å®ƒçš„ç³»ç»Ÿé‡Œã€‚</p>
<p>ç¬¬ä¸‰ï¼Œå®ƒæœ‰ç°æˆçš„å®¢æˆ·ç•Œé¢ã€‚ä¸éœ€è¦é‡æ–°æ•™è‚²å®¢æˆ·æ€ä¹ˆä½¿ç”¨ Agentï¼Œå¯ä»¥ç›´æ¥åµŒå…¥åˆ°ç°æœ‰çš„äº§å“é‡Œã€‚</p>
<p>ç¬¬å››ï¼Œå®ƒæœ‰æŒç»­ä¼˜åŒ–çš„èƒ½åŠ›ã€‚å®¢æˆ·æ¯å¤©éƒ½åœ¨ä½¿ç”¨å®ƒçš„äº§å“ï¼Œäº§ç”Ÿæ–°çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯ä»¥ç”¨æ¥æŒç»­ä¼˜åŒ– Agent çš„è¡¨ç°ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œçº¯åš AI çš„å…¬å¸ï¼Œè™½ç„¶æ¨¡å‹èƒ½åŠ›å¾ˆå¼ºï¼Œä½†åœ¨è½åœ°æ—¶å¾€å¾€ä¼šé‡åˆ°å„ç§æ°´åœŸä¸æœçš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-3">4. å‚ç›´åœºæ™¯çš„çªç ´</h2>
<p>åœ¨ä¸ªäººç²—æµ…çš„è®¤çŸ¥ä¸­ï¼ŒAgent çš„çªç ´å£åœ¨äºå‚ç›´åœºæ™¯ï¼Œè€Œä¸æ˜¯é€šç”¨åœºæ™¯ã€‚åœ¨äºéœ€è¦ Konw-How çš„åœºæ™¯ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå‚ç›´åœºæ™¯æœ‰å‡ ä¸ªä¼˜åŠ¿ï¼š</p>
<p>ç¬¬ä¸€ï¼Œéœ€æ±‚æ˜ç¡®ï¼Œä¸“æ³¨ã€‚ä¸éœ€è¦ Agent ä»€ä¹ˆéƒ½ä¼šï¼Œåªéœ€è¦å®ƒæŠŠä¸€ä»¶äº‹åšå¥½å°±è¡Œã€‚</p>
<p>ç¬¬äºŒï¼Œæ•°æ®å……è¶³ã€‚å‚ç›´åœºæ™¯å¾€å¾€æœ‰å¤§é‡çš„å†å²æ•°æ®å¯ä»¥ç”¨æ¥è®­ç»ƒå’Œä¼˜åŒ–ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œå®¹é”™ç‡é«˜ã€‚å› ä¸ºåœºæ™¯å›ºå®šï¼Œå‡ºç°æ„å¤–æƒ…å†µçš„æ¦‚ç‡è¾ƒä½ï¼Œå³ä½¿å‡ºç°äº†ä¹Ÿæ¯”è¾ƒå®¹æ˜“å¤„ç†ã€‚</p>
<p>ç¬¬å››ï¼ŒROI æ¸…æ™°ã€‚åœ¨å‚ç›´åœºæ™¯ä¸‹ï¼ŒAgent çš„ä»·å€¼å¾ˆå®¹æ˜“é‡åŒ–ã€‚</p>
<p>æ¯”å¦‚æ³•å¾‹æ–‡ä¹¦æ’°å†™ã€è¡Œä¸šåˆ†æã€ä»£ç ç”Ÿæˆè¿™äº›åœºæ™¯ï¼Œéƒ½æ˜¯åˆé€‚çš„ Agent åº”ç”¨åœºæ™¯ã€‚è¿™äº›åœºæ™¯æœ‰æ˜ç¡®çš„è¾“å…¥è¾“å‡ºï¼Œæœ‰æ¸…æ™°çš„è´¨é‡æ ‡å‡†ï¼Œæœ‰å¤§é‡çš„å†å²æ•°æ®ï¼Œéå¸¸é€‚åˆ Agent æ¥å¤„ç†ã€‚</p>
<h2 data-id="heading-4">5. å¯é¢„æµ‹ä¸å¯æŒæ§çš„çŸ›ç›¾</h2>
<p>åœ¨ ToB åœºæ™¯ä¸‹ï¼Œä¼ä¸šå®¢æˆ·æœ€æ€•çš„å°±æ˜¯ä¸ç¡®å®šæ€§ã€‚å¦‚æœä¸€ä¸ª Agent ä»Šå¤©çš„å›ç­”å’Œæ˜å¤©çš„å›ç­”ä¸ä¸€æ ·ï¼Œæˆ–è€…åœ¨å…³é”®æ—¶åˆ»åšå‡ºäº†æ„æ–™ä¹‹å¤–çš„å†³ç­–ï¼Œé‚£å¯¹ä¼ä¸šæ¥è¯´ä¸å¯æ¥å—çš„ã€‚</p>
<p>ä½†æ˜¯ï¼Œå®¢æˆ·åˆå¸Œæœ› Agent æœ‰è‡ªé€‚åº”èƒ½åŠ›ï¼Œèƒ½å¤Ÿçµæ´»å¤„ç†å„ç§æƒ…å†µã€‚</p>
<p>å½“å‰çš„è§£å†³æ–¹æ¡ˆåŸºæœ¬ä¸Šæ˜¯ä¸¤ä¸ªæç«¯ï¼š</p>
<ol>
<li>å®Œå…¨ç”¨ Workflow æ¥å®šä¹‰ Agent çš„è¡Œä¸ºã€‚æ¯ä¸€æ­¥åšä»€ä¹ˆéƒ½è§„å®šå¾—æ¸…æ¸…æ¥šæ¥šï¼ŒAgent åªæ˜¯ä¸€ä¸ªæ‰§è¡Œè€…ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å®Œå…¨å¯æ§ï¼Œåå¤„æ˜¯å¤ªæ­»æ¿ï¼Œå¤±å»äº† Agent çš„çµæ´»æ€§ã€‚</li>
<li>å®Œå…¨æ”¾å¼€ï¼Œè®© Agent è‡ªå·±å»å­¦ä¹ å’Œé€‚åº”ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯çµæ´»ï¼Œèƒ½å¤„ç†å„ç§æ„å¤–æƒ…å†µï¼Œåå¤„æ˜¯ä¸å¯æ§ï¼Œä½ æ°¸è¿œä¸çŸ¥é“å®ƒä¸‹ä¸€æ­¥ä¼šåšä»€ä¹ˆã€‚</li>
</ol>
<p>æ¯”è¾ƒç†æƒ³çš„æ–¹æ¡ˆåº”è¯¥æ˜¯ä¸¤è€…çš„ç»“åˆï¼šåœ¨å…³é”®å†³ç­–ç‚¹ä¸Šç”¨ Workflow æ¥æ§åˆ¶ï¼Œåœ¨å…·ä½“æ‰§è¡Œä¸Šç»™ Agent ä¸€å®šçš„è‡ªä¸»æƒã€‚ä½†è¿™è¯´èµ·æ¥å®¹æ˜“ï¼Œåšèµ·æ¥å¾ˆéš¾ã€‚éœ€è¦å¯¹ä¸šåŠ¡æœ‰æ·±å…¥çš„ç†è§£ï¼ŒçŸ¥é“å“ªäº›åœ°æ–¹éœ€è¦æ§åˆ¶ï¼Œå“ªäº›åœ°æ–¹å¯ä»¥æ”¾å¼€ã€‚</p>
<h2 data-id="heading-5">6. æ¨¡å‹èƒ½åŠ› vs å·¥ç¨‹èƒ½åŠ›</h2>
<p>è¦è§£å†³è¿™äº›çŸ›ç›¾å’Œé—®é¢˜éœ€è¦æ¨¡å‹å’Œå·¥ç¨‹ä¸¤æ–¹é¢çš„æå‡ï¼Œå¹¶ä¸”ç°é˜¶æ®µå·¥ç¨‹èƒ½åŠ›å¯èƒ½æ¯”æ¨¡å‹èƒ½åŠ›æ›´é‡è¦ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>å› ä¸ºç°åœ¨çš„å¤§æ¨¡å‹èƒ½åŠ›å…¶å®å·²ç»ä¸é”™äº†ï¼ŒGPT-5ã€Claudeã€DeepSeek è¿™äº›æ¨¡å‹çš„ç†è§£å’Œç”Ÿæˆèƒ½åŠ›éƒ½å¾ˆå¼ºã€‚çœŸæ­£çš„ç“¶é¢ˆåœ¨äºå¦‚ä½•æŠŠè¿™äº›èƒ½åŠ›è½¬åŒ–æˆå®é™…çš„ä¸šåŠ¡ä»·å€¼ã€‚</p>
<p>è¿™å°±éœ€è¦å¤§é‡çš„å·¥ç¨‹å·¥ä½œï¼š</p>
<ul>
<li>å¦‚ä½•è®¾è®¡åˆç†çš„ Promptï¼Œè®©æ¨¡å‹ç†è§£ä¸šåŠ¡éœ€æ±‚</li>
<li>å¦‚ä½•æ„å»ºçŸ¥è¯†åº“ï¼Œè®©æ¨¡å‹èƒ½å¤Ÿè·å–å¿…è¦çš„ä¿¡æ¯</li>
<li>å¦‚ä½•è®¾è®¡å·¥ä½œæµï¼Œè®©æ¨¡å‹çš„è¾“å‡ºèƒ½å¤Ÿè¢«ç³»ç»Ÿæ¶ˆè´¹</li>
<li>å¦‚ä½•åšå¼‚å¸¸å¤„ç†ï¼Œä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§</li>
<li>å¦‚ä½•åšç›‘æ§å’Œä¼˜åŒ–ï¼ŒæŒç»­æå‡ç³»ç»Ÿè¡¨ç°</li>
</ul>
<p>è¿™äº›å·¥ä½œå±äºæ¯”è¾ƒç´¯å’Œç¢çš„æ´»å„¿ï¼Œä¸å¦‚è®­ç»ƒæ¨¡å‹é‚£ä¹ˆã€Œé«˜å¤§ä¸Šã€ï¼Œä½†å´æ˜¯ Agent èƒ½å¦è½åœ°çš„å…³é”®ã€‚</p>
<h2 data-id="heading-6">7. å®‰å…¨é—®é¢˜</h2>
<p>AI Agent çš„å®‰å…¨é—®é¢˜ä¸ä»…ä»…æ˜¯æ•°æ®æ³„éœ²ï¼Œæ›´å¤§çš„é—®é¢˜åœ¨äºï¼ŒAgent å¯èƒ½ä¼šåšå‡ºä¸€äº›ä¸å½“çš„å†³ç­–æˆ–è€…æ“ä½œã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸€ä¸ªæœ‰æƒé™è®¿é—®ä¼ä¸šæ•°æ®åº“çš„ Agentï¼Œå¦‚æœè¢«æ¶æ„å¼•å¯¼ï¼Œå¯èƒ½ä¼šåˆ é™¤é‡è¦æ•°æ®æˆ–è€…æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚ä¸€ä¸ªè´Ÿè´£é‡‡è´­çš„ Agentï¼Œå¦‚æœåˆ¤æ–­å¤±è¯¯ï¼Œå¯èƒ½ä¼šä¸‹é”™è®¢å•ï¼Œé€ æˆå·¨å¤§æŸå¤±ã€‚å¦‚æ­¤ç§ç§â€¦â€¦</p>
<p>ç°åœ¨çš„è§£å†³æ–¹æ¡ˆä¸»è¦æ˜¯åŠ å„ç§é™åˆ¶å’Œå®¡æ ¸æœºåˆ¶ï¼Œä½†è¿™åˆå›åˆ°äº†å‰é¢çš„çŸ›ç›¾ï¼šé™åˆ¶è¶Šå¤šï¼ŒAgent å°±è¶Šä¸ã€Œæ™ºèƒ½ã€ã€‚</p>
<h2 data-id="heading-7">8. å¯èƒ½çš„æœªæ¥</h2>
<p>åŸºäºç›®å‰çš„æƒ…å†µï¼Œæˆ‘è§‰å¾—æ¥ä¸‹æ¥çš„ä¸€æ®µæ—¶é—´ Agent çš„å‘å±•ä¼šæœ‰å‡ ä¸ªè¶‹åŠ¿ï¼š</p>
<p>ç¬¬ä¸€ï¼Œä»é€šç”¨åˆ°å‚ç›´ã€‚è¶Šæ¥è¶Šå¤šçš„ Agent ä¼šä¸“æ³¨äºç‰¹å®šçš„åœºæ™¯å’Œè¡Œä¸šã€‚</p>
<p>ç¬¬äºŒï¼Œä»æ›¿ä»£åˆ°å¢å¼ºã€‚Agent çš„å®šä½ä¼šä»ã€Œæ›¿ä»£äººå·¥ã€è½¬å˜ä¸ºã€Œå¢å¼ºäººå·¥ã€ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œä»å•ç‚¹åˆ°ç³»ç»Ÿã€‚ä¸å†æ˜¯ä¸€ä¸ªä¸ªå­¤ç«‹çš„ Agentï¼Œè€Œæ˜¯å¤šä¸ª Agent ååŒå·¥ä½œçš„ç³»ç»Ÿã€‚</p>
<p>ç¬¬å››ï¼Œä»äº§å“åˆ°æœåŠ¡ã€‚Agent ä¸å†æ˜¯ä¸€ä¸ªä¹°æ¥å°±ç”¨çš„äº§å“ï¼Œè€Œæ˜¯éœ€è¦æŒç»­ä¼˜åŒ–çš„æœåŠ¡ã€‚</p>
<p>è¿™äº›è¶‹åŠ¿æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<p>æ„å‘³ç€ Agent å¸‚åœºä¼šè¶Šæ¥è¶Šç†æ€§ï¼Œæ³¡æ²«ä¼šé€æ¸æ¶ˆå¤±ï¼ŒçœŸæ­£æœ‰ä»·å€¼çš„åº”ç”¨ä¼šè„±é¢–è€Œå‡ºã€‚</p>
<h2 data-id="heading-8">9. æœ€å</h2>
<p>å›åˆ°æ ‡é¢˜ï¼šAI Agentä¸å¤Ÿèªæ˜</p>
<p>ç¡®å®ä¸å¤Ÿèªæ˜ï¼Œè‡³å°‘æ²¡æœ‰æˆ‘ä»¬æœŸæœ›çš„é‚£ä¹ˆèªæ˜ã€‚</p>
<p>ä½†è¿™ä¸æ„å‘³ç€ Agent æ²¡æœ‰ä»·å€¼ã€‚å°±åƒæ—©æœŸçš„è®¡ç®—æœºï¼Œè™½ç„¶åŠŸèƒ½æœ‰é™ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹å·²ç»èƒ½åˆ›é€ å·¨å¤§ä»·å€¼ã€‚å…³é”®æ˜¯æ‰¾åˆ°åˆé€‚çš„åœºæ™¯ï¼Œç”¨åˆé€‚çš„æ–¹å¼ï¼Œè§£å†³çœŸå®çš„é—®é¢˜ã€‚</p>
<p>AI Agent çš„å‘å±•è¿˜å¤„äºæ—©æœŸé˜¶æ®µï¼Œç°åœ¨ä¸‹ç»“è®ºè¿˜ä¸ºæ—¶è¿‡æ—©ã€‚ä½†æœ‰ä¸€ç‚¹æ˜¯ç¡®å®šçš„ï¼šé‚£äº›èƒ½å¤Ÿæ·±å…¥ç†è§£å®¢æˆ·éœ€æ±‚ï¼Œæ‰å®åšå¥½å·¥ç¨‹å®æ–½ï¼ŒæŒç»­ä¼˜åŒ–äº§å“ä½“éªŒçš„å…¬å¸ï¼Œæœ€ç»ˆä¼šåœ¨è¿™ä¸ªå¸‚åœºä¸Šç«™ç¨³è„šè·Ÿã€‚</p>
<p>è‡³äº AI Agent ä»€ä¹ˆæ—¶å€™èƒ½çœŸæ­£ã€Œèªæ˜ã€èµ·æ¥ï¼Ÿæˆ‘è§‰å¾—è¿˜éœ€è¦æ—¶é—´ã€‚å¯èƒ½æ˜¯ä¸€å¹´ï¼Œå¯èƒ½æ˜¯ä¸‰å¹´ï¼Œä¹Ÿå¯èƒ½æ˜¯äº”å¹´ã€‚ä½†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åšçš„ä¸æ˜¯ç­‰å¾…ï¼Œè€Œæ˜¯ä¸æ–­æ¢ç´¢ã€è¯•é”™ã€ä¼˜åŒ–ï¼Œä¸€æ­¥æ­¥æ¥è¿‘é‚£ä¸ªç›®æ ‡ã€‚</p>
<p>æ¯•ç«Ÿï¼Œç½—é©¬ä¸æ˜¯ä¸€ä¸‹å­å»ºæˆçš„ï¼ŒAI Agent ä¹Ÿä¸æ˜¯ã€‚</p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†™äº†å‡ å¹´ Javaï¼Œæˆ‘å‘ç°å¾ˆå¤šäººå…¶å®ä¸€ç›´åœ¨ç”¨â€œé«˜çº§ C è¯­è¨€â€å†™ä»£ç ]]></title>    <link>https://juejin.cn/post/7594093947809300514</link>    <guid>https://juejin.cn/post/7594093947809300514</guid>    <pubDate>2026-01-12T12:23:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594093947809300514" data-draft-id="7594051966890213411" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†™äº†å‡ å¹´ Javaï¼Œæˆ‘å‘ç°å¾ˆå¤šäººå…¶å®ä¸€ç›´åœ¨ç”¨â€œé«˜çº§ C è¯­è¨€â€å†™ä»£ç "/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,Java"/> <meta itemprop="datePublished" content="2026-01-12T12:23:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç ç¬”è€•"/> <meta itemprop="url" content="https://juejin.cn/user/3984285868763117"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†™äº†å‡ å¹´ Javaï¼Œæˆ‘å‘ç°å¾ˆå¤šäººå…¶å®ä¸€ç›´åœ¨ç”¨â€œé«˜çº§ C è¯­è¨€â€å†™ä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3984285868763117/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç ç¬”è€•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:23:27.000Z" title="Mon Jan 12 2026 12:23:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>å¾ˆå¤š Java å·¥ç¨‹å¸ˆéƒ½æœ‰ä¸€ä¸ªéšç§˜çš„ä¹ æƒ¯ï¼š æ‹¿åˆ°éœ€æ±‚ï¼Œç¬¬ä¸€ååº”ä¸æ˜¯â€œè¿™ä¸ªä¸šåŠ¡å¯¹è±¡æœ‰ä»€ä¹ˆè¡Œä¸ºâ€ï¼Œè€Œæ˜¯æ‰“å¼€æ•°æ®åº“å®¢æˆ·ç«¯ï¼Œå…ˆæŠŠè¡¨å»ºäº†ã€‚</p>
<p>è¡¨å»ºå¥½äº†ï¼Œå®ä½“ç±»ç”¨å·¥å…·ä¸€é”®ç”Ÿæˆï¼ˆLombok åŠ ä¸Š <code>@Data</code>ï¼‰ï¼ŒService å±‚å†æŠŠ CRUD ä¸€é“ºï¼Œå®Œäº‹ã€‚</p>
<p>è¿™ç§å¼€å‘æ¨¡å¼çˆ½ä¸çˆ½ï¼Ÿçˆ½ï¼Œå°¤å…¶æ˜¯èµ¶è¿›åº¦çš„æ—¶å€™ã€‚ ä½†è¿™ç§çˆ½æ˜¯é€æ”¯æœªæ¥çš„ã€‚å‡ å¹´ä¸‹æ¥ï¼Œä½ å¯èƒ½ä¼šå‘ç°è‡ªå·±é™·å…¥äº†ä¸€ä¸ªæ€ªåœˆï¼š <strong>æ˜æ˜ç”¨çš„æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå†™å‡ºæ¥çš„ä»£ç å´å…¨æ˜¯è¿‡ç¨‹å¼çš„é€»è¾‘ã€‚</strong></p>
<p>å†™äº†å¤šå¹´ä»£ç ä¹‹åï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªéšçº¦çš„æ„Ÿè§‰ï¼š</p>
<blockquote>
<p>â€œæˆ‘å¥½åƒåœ¨ç”¨ Javaï¼Œä½†åˆæ€ä¹ˆç”¨åˆ°â€˜é¢å‘å¯¹è±¡â€™ã€‚â€</p>
<p>â€œä¸å…ˆè®¾è®¡æ•°æ®åº“è¡¨ï¼Œæˆ‘ä»£ç è¯¥æ€ä¹ˆå†™ï¼Ÿâ€</p>
</blockquote>
<p>è¿™ä¸ªé—®é¢˜æœ¬èº«ï¼Œå…¶å®å·²ç»è¯´æ˜äº†ä¸€ä»¶äº‹ï¼š
<strong>æˆ‘ä»¬ä¹ æƒ¯çš„æ˜¯â€œå›´ç»•æ•°æ®å†™ä»£ç â€ï¼Œè€Œä¸æ˜¯â€œå›´ç»•å¯¹è±¡å†™ä»£ç â€ã€‚</strong></p>
<p>è¿™ç¯‡æ–‡ç« æƒ³èŠçš„ï¼Œå¹¶ä¸æ˜¯ä»€ä¹ˆé«˜æ·±çš„ç†è®ºï¼Œè€Œæ˜¯ä¸€ä¸ªå¾ˆç°å®çš„é—®é¢˜ï¼š
<strong>æˆ‘ä»¬æ˜¯ä¸æ˜¯åœ¨ç”¨ä¸€é—¨é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå´ä¸€ç›´åœ¨ç”¨è¿‡ç¨‹å¼çš„æ–¹å¼åšä¸šåŠ¡å¼€å‘ï¼Ÿ</strong></p>
<h3 data-id="heading-1">é‚£ä¸ªè¶Šå†™è¶Šåšçš„ Serviceï¼Œå°±æ˜¯ç½ªè¯</h3>
<p>åœ¨å…¸å‹çš„ Spring Boot é¡¹ç›®é‡Œï¼Œæˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„â€œä¸‰æ¿æ–§â€æ˜¯ï¼šController â†’ Service â†’ Daoã€‚</p>
<p>ä¸€å¼€å§‹å¤§å®¶éƒ½ç›¸å®‰æ— äº‹ã€‚ä½†éšç€ä¸šåŠ¡è¿­ä»£ï¼Œä½ æœ‰æ²¡æœ‰å‘ç° Service å±‚å¼€å§‹å˜å¾—ç•¸å½¢ï¼Ÿ</p>
<ul>
<li>ä¸€ä¸ª <code>OrderService</code> åŠ¨è¾„ä¸¤ä¸‰åƒè¡Œã€‚</li>
<li>æ‰€æœ‰çš„ä¸šåŠ¡è§„åˆ™ï¼ˆçŠ¶æ€åˆ¤æ–­ã€æƒé™æ ¡éªŒã€æ•°æ®è®¡ç®—ï¼‰éƒ½å †åœ¨è¿™ä¸ªç±»é‡Œã€‚</li>
<li>è€Œå¯¹åº”çš„ <code>Order</code> å®ä½“ç±»ï¼Œé™¤äº†é‚£ä¸€å † <code>get</code> / <code>set</code> æ–¹æ³•ï¼Œå¹²å‡€å¾—åƒä¸€å¼ ç™½çº¸ã€‚</li>
</ul>
<p>Martin Fowler æ—©åœ¨åå¥½å‡ å¹´å‰å°±ç»™è¿™ç§ç°è±¡èµ·è¿‡åå­—ï¼Œå«**â€œè´«è¡€æ¨¡å‹â€ï¼ˆAnemic Domain Modelï¼‰**ã€‚</p>
<p>è¯´ç™½äº†ï¼Œæˆ‘ä»¬æŠŠå¯¹è±¡å½“æˆäº†**â€œæ•°æ®åƒåœ¾æ¡¶â€**ï¼Œè€ŒæŠŠçµé­‚å…¨éƒ¨æŠ½ç¦»åˆ°äº† Service é‡Œã€‚Service åƒä¸ªæ“ç¢äº†å¿ƒçš„ä¿å§†ï¼Œäº‹æ— å·¨ç»†åœ°å»æå¯¹è±¡é‡Œçš„æ•°æ®ï¼Œç®—å®Œå†å¡å›å»ï¼›è€Œå¯¹è±¡æœ¬èº«ï¼Œåƒä¸ªæ²¡æœ‰æ™ºå•†çš„æœ¨å¶ã€‚</p>
<p>è¿™ä¸æ˜¯é¢å‘å¯¹è±¡ï¼Œè¿™æ˜¯<strong>æŠ«ç€ Java å¤–è¡£çš„é¢å‘è¿‡ç¨‹</strong>ã€‚</p>
<h3 data-id="heading-2">æŠŠè¡Œä¸ºè¿˜ç»™å¯¹è±¡ï¼Œè®©è‡ªå·±è´Ÿè´£è‡ªå·±</h3>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¸¸è§çš„åœºæ™¯ï¼š<strong>ä¿®æ”¹è®¢å•æ”¶è´§åœ°å€</strong>ã€‚</p>
<p><strong>å¸¸è§çš„â€œè¿‡ç¨‹å¼â€å†™æ³•</strong></p>
<p>è¿™æ®µä»£ç ä½ ä¸€å®šå¾ˆçœ¼ç†Ÿã€‚å®ƒçš„é—®é¢˜ä¸åœ¨äºé€»è¾‘é”™è¯¯ï¼Œè€Œåœ¨äº<strong>é€»è¾‘çš„å½’å±æƒé”™äº†</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateAddress</span><span class="hljs-params">(Long orderId, String newAddress)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> orderMapper.selectById(orderId);

        <span class="hljs-comment">// ç—›ç‚¹åœ¨è¿™é‡Œï¼šService æ‰‹ä¼¸å¾—å¤ªé•¿äº†</span>
        <span class="hljs-comment">// å®ƒéœ€è¦äº†è§£è®¢å•çš„æ‰€æœ‰å†…éƒ¨çŠ¶æ€ç»†èŠ‚</span>
        <span class="hljs-keyword">if</span> (order.getStatus().equals(OrderStatus.WAIT_PAY) || 
            order.getStatus().equals(OrderStatus.WAIT_DELIVER)) {
            
            order.setAddress(newAddress);
            order.setUpdateTime(LocalDateTime.now());
            orderMapper.updateById(order);
            
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessException</span>(<span class="hljs-string">"å½“å‰çŠ¶æ€ä¸æ”¯æŒä¿®æ”¹åœ°å€"</span>);
        }
    }
}
</code></pre>
<p>è¿™ç§å†™æ³•çš„éšæ‚£æ˜¯ï¼š å¦‚æœæ˜å¤©â€œå–æ¶ˆè®¢å•â€çš„é€»è¾‘é‡Œä¹Ÿè¦åˆ¤æ–­çŠ¶æ€ï¼Œä½ æ˜¯ä¸æ˜¯å¾—æŠŠ <code>if (status == ...)</code> è¿™ä¸€å¨ä»£ç å†å¤åˆ¶ç²˜è´´ä¸€éï¼Ÿå¦‚æœçŠ¶æ€è§„åˆ™å˜äº†ï¼Œä½ å¾—æ»¡ä¸–ç•Œæ‰¾è¿™äº›æ•£è½çš„ <code>if</code>ã€‚</p>
<p><strong>â€œé¢å‘å¯¹è±¡â€å†™æ³•</strong></p>
<p>é¢å‘å¯¹è±¡æœ‰ä¸€ä¸ªæ ¸å¿ƒåŸåˆ™ï¼š<strong>Tell, Don't Askï¼ˆè¦å‘½ä»¤å®ƒï¼Œä¸è¦è¯¢é—®å®ƒï¼‰ã€‚</strong></p>
<p>åˆ«é—®å¯¹è±¡â€œä½ æ˜¯ä»€ä¹ˆçŠ¶æ€â€ï¼Œç„¶åä½ æ›¿å®ƒåšå†³å®šï¼›è€Œæ˜¯ç›´æ¥å‘Šè¯‰å¯¹è±¡â€œæˆ‘è¦æ”¹åœ°å€â€ï¼Œè®©å®ƒè‡ªå·±åˆ¤æ–­èƒ½ä¸èƒ½æ”¹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªæœ‰è¡€æœ‰è‚‰çš„é¢†åŸŸå¯¹è±¡ï¼Œä¸æ˜¯å•çº¯çš„æ•°æ®åº“æ˜ å°„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {
    <span class="hljs-comment">// çŠ¶æ€å’Œæ•°æ®ä¾ç„¶åœ¨å¯¹è±¡å†…éƒ¨</span>
    <span class="hljs-keyword">private</span> Integer status;
    <span class="hljs-keyword">private</span> String address;
    <span class="hljs-keyword">private</span> LocalDateTime updateTime;

    <span class="hljs-comment">// è¡Œä¸ºï¼šå¯¹è±¡è‡ªå·±ç®¡ç†è‡ªå·±çš„çŠ¶æ€æµè½¬</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">changeAddress</span><span class="hljs-params">(String newAddress)</span> {
        <span class="hljs-keyword">if</span> (!canChangeAddress()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessException</span>(<span class="hljs-string">"è®¢å•å·²é”å®šï¼Œæ— æ³•ä¿®æ”¹åœ°å€"</span>);
        }
        <span class="hljs-built_in">this</span>.address = newAddress;
        <span class="hljs-built_in">this</span>.updateTime = LocalDateTime.now();
    }

    <span class="hljs-comment">// è§„åˆ™ï¼šä»€ä¹ˆæ˜¯â€œå¯ä¿®æ”¹â€çš„é€»è¾‘ï¼Œå†…èšåœ¨å¯¹è±¡å†…éƒ¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">canChangeAddress</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Objects.equals(status, OrderStatus.WAIT_PAY) || 
               Objects.equals(status, OrderStatus.WAIT_DELIVER);
    }
}
</code></pre>
<p>æ”¹é€ åçš„ Service å˜å¾—æå…¶ç®€æ´ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateAddress</span><span class="hljs-params">(Long orderId, String newAddress)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> orderRepository.findById(orderId);
        
        <span class="hljs-comment">// Service å˜å¾—æåº¦æ¸…çˆ½ï¼Œåªè´Ÿè´£åè°ƒ</span>
        order.changeAddress(newAddress);
        
        orderRepository.save(order);
    }
}
</code></pre>
<p>ä½ çœ‹ï¼ŒService ä»â€œé€»è¾‘è®¡ç®—è€…â€å˜æˆäº†â€œæµç¨‹ç¼–æ’è€…â€ã€‚ä»£ç çš„å¯è¯»æ€§ç¬é—´æå‡äº†ä¸€ä¸ªæ¡£æ¬¡ï¼š<code>order.changeAddress(...)</code>ï¼Œä»£ç æœ¬èº«å°±æ˜¯æ–‡æ¡£ã€‚</p>
<p>è¿™ç§å˜åŒ–çœ‹èµ·æ¥å¾ˆå°ï¼Œä½†å¸¦æ¥çš„å¥½å¤„éå¸¸å®é™…ï¼š</p>
<ul>
<li>è§„åˆ™å†…èšï¼šä¿®æ”¹é€»è¾‘åªåœ¨ä¸€å¤„ï¼Œä¸ä¼šæ•£è½</li>
<li>å¯è¯»æ€§æå‡ï¼šä¸šåŠ¡æ„å›¾æ›´åŠ ç›´ç™½</li>
<li>ç»´æŠ¤ç®€å•ï¼šæ”¹éœ€æ±‚æ—¶ï¼Œä¸ç”¨åˆ°å¤„ç¿» Service</li>
</ul>
<h3 data-id="heading-3">åˆ«è®© String å’Œ Integer è£¸å¥”</h3>
<p>å¾ˆå¤šè€ç³»ç»Ÿçš„ä»£ç é‡Œï¼Œå……æ–¥ç€è¿™ç§â€œ<strong>åŸºç¡€ç±»å‹ä¾èµ–ç—‡</strong>â€ï¼ˆPrimitive Obsessionï¼‰ã€‚</p>
<p>çœ‹çœ‹è¿™ä¸ªå…¥å‚ï¼š <code>public void register(String name, String phone, String email, Integer roleType)</code></p>
<p>è¿™äº› <code>String</code> å’Œ <code>Integer</code> æ˜¯æ²¡æœ‰â€œé˜²å®ˆèƒ½åŠ›â€çš„ã€‚</p>
<ul>
<li>
<p>æ‰‹æœºå·æ ¼å¼å¯¹å—ï¼Ÿ</p>
</li>
<li>
<p>é‚®ç®±æ˜¯ä¸æ˜¯ç©ºçš„ï¼Ÿ</p>
</li>
<li>
<p>è§’è‰²ç±»å‹æ˜¯ä¸æ˜¯è¶Šç•Œäº†ï¼Ÿ</p>
</li>
</ul>
<p>å¦‚æœä¸å°è£…ï¼Œä½ å°±è¦åœ¨ Service çš„å¼€å¤´å†™ä¸Šåå‡ è¡Œçš„ <code>StringUtils.isBlank</code> å’Œæ­£åˆ™æ ¡éªŒã€‚ä¸€æ—¦æ¼å†™ä¸€ä¸ªï¼Œè„æ•°æ®å°±è¿›æ•°æ®åº“äº†ã€‚</p>
<p><strong>å°è¯•ç”¨â€œå€¼å¯¹è±¡â€ï¼ˆValue Objectï¼‰</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PhoneNumber</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String number;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PhoneNumber</span><span class="hljs-params">(String number)</span> {
        <span class="hljs-keyword">if</span> (!isValid(number)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æ— æ•ˆçš„æ‰‹æœºå·æ ¼å¼"</span>);
        }
        <span class="hljs-built_in">this</span>.number = number;
    }
    <span class="hljs-comment">// ... getter &amp; logic</span>
}
</code></pre>
<p>å½“ä½ æŠŠå…¥å‚æ”¹æˆ <code>register(String name, PhoneNumber phone, ...)</code> æ—¶ï¼Œä¸–ç•Œæ¸…é™äº†ã€‚ ä½ ä¸éœ€è¦å†æ ¡éªŒæ‰‹æœºå·æ ¼å¼ï¼Œå› ä¸ºåªè¦èƒ½ new å‡ºæ¥çš„ PhoneNumber å¯¹è±¡ï¼Œä¸€å®šæ˜¯åˆæ³•çš„ã€‚è¿™æ‰æ˜¯å¼ºç±»å‹è¯­è¨€è¯¥æœ‰çš„å®‰å…¨æ„Ÿã€‚</p>
<h3 data-id="heading-4">è®¤æ¸…ç°å®ï¼šä¸€ä¸ªâ€œä¸‡èƒ½â€å¯¹è±¡å¾€å¾€ä»€ä¹ˆéƒ½å¹²ä¸å¥½</h3>
<p>å¾ˆå¤šç³»ç»Ÿçš„å¦ä¸€ä¸ªç—›ç‚¹åœ¨äºï¼š<strong>ç³»ç»Ÿé‡Œæœ‰ä¸€ä¸ªè¶…çº§å¤§çš„ User ç±»ï¼Œæˆ–è€…ä¸€ä¸ªè¶…çº§å¤§çš„ Order ç±»ã€‚</strong></p>
<ul>
<li>ç™»å½•æœåŠ¡ç”¨å®ƒï¼Œéœ€è¦è´¦å·å¯†ç ã€‚</li>
<li>äº¤æ˜“æœåŠ¡ç”¨å®ƒï¼Œéœ€è¦æ”¶è´§åœ°å€ã€‚</li>
<li>è¥é”€æœåŠ¡ç”¨å®ƒï¼Œéœ€è¦ä¼šå‘˜ç­‰çº§ã€‚</li>
</ul>
<p>æœ€åè¿™ä¸ªç±»æœ‰äº† 100 å¤šä¸ªå­—æ®µï¼Œè°éƒ½ä¸æ•¢åŠ¨ï¼ŒåŠ¨ä¸€ä¸‹ä¸çŸ¥é“å“ªé‡Œä¼šç‚¸ã€‚</p>
<p><strong>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æŠŠâ€œæ•°æ®åº“çš„è¡¨â€ç­‰åŒäºäº†â€œä¸šåŠ¡çš„å¯¹è±¡â€ã€‚</strong></p>
<p>åœ¨ DDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰é‡Œï¼Œè¿™å«â€œé™ç•Œä¸Šä¸‹æ–‡â€ã€‚è¯´äººè¯å°±æ˜¯ï¼š<strong>è§äººè¯´äººè¯ï¼Œè§é¬¼è¯´é¬¼è¯ã€‚</strong></p>
<ul>
<li>åœ¨<strong>è®¤è¯æ¨¡å—</strong>ï¼Œä½ åº”è¯¥è®¾è®¡ä¸€ä¸ª <code>Account</code> å¯¹è±¡ï¼ˆåªå« id, username, passwordï¼‰ã€‚</li>
<li>åœ¨<strong>ç‰©æµæ¨¡å—</strong>ï¼Œä½ åº”è¯¥è®¾è®¡ä¸€ä¸ª <code>Consignee</code>ï¼ˆæ”¶è´§äººï¼‰å¯¹è±¡ï¼ˆåªå« id, address, phoneï¼‰ã€‚</li>
</ul>
<p>å®ƒä»¬åº•å±‚å¯èƒ½å¯¹åº”åŒä¸€å¼  <code>user</code> è¡¨ï¼Œä½†åœ¨ä»£ç å±‚é¢ï¼Œ<strong>è¯·æŠŠå®ƒä»¬æ‹†å¼€</strong>ã€‚ä¸è¦ä¸ºäº†çœé‚£å‡ ä¸ªç±»çš„å®šä¹‰ï¼Œè®©ç³»ç»Ÿè€¦åˆå¾—åƒä¸€å›¢ä¹±éº»ã€‚</p>
<h3 data-id="heading-5">åˆ«å¹»æƒ³â€œä¸€æ­¥åˆ°ä½â€</h3>
<p>çœ‹åˆ°è¿™ï¼Œå¯èƒ½æœ‰äººä¼šè¯´ï¼šâ€œæˆ‘çš„é¡¹ç›®å·²ç»çƒ‚æˆè¿™æ ·äº†ï¼Œç°åœ¨æ”¹å¾—åŠ¨å—ï¼Ÿâ€</p>
<p><strong>ä¸è¦è¯•å›¾æâ€œå¤§çˆ†ç‚¸â€å¼çš„é‡æ„ã€‚</strong> ä¸šåŠ¡ä¸ä¼šåœï¼Œæ—¶é—´ä¹Ÿä¸å…è®¸ã€‚</p>
<p>æ›´ç°å®çš„æ–¹å¼æ˜¯ï¼š</p>
<ol>
<li><strong>æ–°åŠŸèƒ½</strong>ï¼šå°è¯•å……è¡€æ¨¡å‹ï¼ŒæŠŠé€»è¾‘å†™è¿›å¯¹è±¡é‡Œã€‚</li>
<li><strong>ä¿® Bug æˆ–ä¼˜åŒ–</strong>ï¼šå¦‚æœè¿™æ®µé€»è¾‘åˆšå¥½åœ¨ Service é‡Œä¹±é£ï¼Œé¡ºæ‰‹æŠŠå®ƒæ”¶æ‹¢åˆ°å®ä½“ç±»é‡Œã€‚</li>
<li><strong>æ¥å—ç°å®</strong>ï¼šService å±‚ä¾ç„¶éœ€è¦ï¼Œå®ƒè´Ÿè´£äº‹åŠ¡æ§åˆ¶ã€ä»“å‚¨è°ƒç”¨ã€ç¬¬ä¸‰æ–¹æœåŠ¡ç¼–æ’ã€‚ä½†è¯·è®°ä½ï¼Œ<strong>å®ƒä¸è¯¥è´Ÿè´£ä¸šåŠ¡çŠ¶æ€çš„åˆ¤æ–­</strong>ã€‚</li>
</ol>
<p>è¿™æ˜¯ä¸€ä¸ªä¹ æƒ¯çš„æ”¹å˜ï¼Œè€Œä¸æ˜¯æ¶æ„åˆ‡æ¢ã€‚</p>
<h3 data-id="heading-6">å†™åœ¨æœ€å</h3>
<p>å¾ˆå¤šå·¥ç¨‹å¸ˆæŠ€æœ¯çš„ç“¶é¢ˆï¼Œä¸æ˜¯ä¸æ‡‚é«˜å¹¶å‘æˆ–å¾®æœåŠ¡ï¼Œè€Œæ˜¯<strong>è¿æœ€åŸºæœ¬çš„ä»£ç åˆ†å±‚å’ŒèŒè´£åˆ†é…éƒ½æ²¡ææ¸…æ¥š</strong>ã€‚</p>
<p>è¿™ç§â€œé¢å‘å¯¹è±¡â€çš„æ€ç»´è½¬å˜ï¼Œä¸€å¼€å§‹ä¼šå¾ˆåˆ«æ‰­ã€‚ä½ å¯èƒ½ä¼šè§‰å¾—ï¼šâ€œè¿™ä¸å°±æ˜¯æŠŠä»£ç ä» Service æŒªåˆ°äº† Entity å—ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿâ€</p>
<p>ç›¸ä¿¡æˆ‘ï¼Œç­‰ä½ ç»´æŠ¤ä¸€ä¸ªå†ç»å¤šå¹´ã€å¤šäººç»æ‰‹è¿‡çš„ç³»ç»Ÿæ—¶ï¼Œä½ ä¼šæ„Ÿè°¢è¿™ç§â€œæ¬åŠ¨â€çš„ä»·å€¼ã€‚</p>
<p><strong>å¥½çš„ä»£ç ï¼Œä¸æ˜¯å±•ç°ä½ ç”¨äº†å¤šå¤æ‚çš„æŠ€å·§ï¼Œè€Œæ˜¯è®©åæ¥è€…åœ¨è¯»ä»£ç æ—¶ï¼Œèƒ½æ¸…æ™°åœ°çœ‹åˆ°ä¸šåŠ¡çš„è½®å»“ï¼Œè€Œä¸æ˜¯ä¸€å †æ··ä¹±çš„æ•°æ®æ“ä½œã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vscode è¿ç”¨ ts ä»£ç éœ€è¦å‡†å¤‡ä»€ä¹ˆ]]></title>    <link>https://juejin.cn/post/7594389937462525962</link>    <guid>https://juejin.cn/post/7594389937462525962</guid>    <pubDate>2026-01-13T01:52:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937462525962" data-draft-id="7594389937462460426" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" vscode è¿ç”¨ ts ä»£ç éœ€è¦å‡†å¤‡ä»€ä¹ˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-13T01:52:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€šæ å¬é£é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/2682464103830750"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             vscode è¿ç”¨ ts ä»£ç éœ€è¦å‡†å¤‡ä»€ä¹ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2682464103830750/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€šæ å¬é£é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:52:54.000Z" title="Tue Jan 13 2026 01:52:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ VS Code ä¸­æµç•…åœ°ç¼–å†™å’Œè¿è¡Œ TypeScript (TS)ï¼Œéœ€è¦å‡†å¤‡ <strong>â€œä¸€ä¸ªæ ¸å¿ƒã€ä¸¤ä¸ªå·¥å…·ã€ä¸€ä¸ªæ’ä»¶ã€ä¸‰é¡¹é…ç½®â€</strong>ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æ•´ç†çš„ä¿å§†çº§å‡†å¤‡æ¸…å•ï¼š</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€ ä¸€ä¸ªæ ¸å¿ƒï¼šNode.js</h3>
<p>TypeScript ä»£ç æœ€ç»ˆéœ€è¦ Node.js ç¯å¢ƒæ¥æ‰§è¡Œã€‚</p>
<ul>
<li><strong>æ£€æŸ¥æ–¹å¼</strong>ï¼šç»ˆç«¯è¾“å…¥ <code>node -v</code>ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šå®ƒæ˜¯æ‰€æœ‰å‰ç«¯å·¥å…·çš„è¿è¡ŒåŸºç¡€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">äºŒã€ ä¸¤ä¸ªå…¨å±€å·¥å…·ï¼štypescript &amp; tsx</h3>
<p>è™½ç„¶ Node.js èƒ½è·‘ JSï¼Œä½†å®ƒä¸è®¤è¯† TSã€‚æˆ‘ä»¬éœ€è¦å®‰è£…ç¼–è¯‘å™¨å’Œè¿è¡Œå™¨ã€‚</p>
<ol>
<li><strong>å®‰è£…å®˜æ–¹ç¼–è¯‘å™¨ (TypeScript)</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash">npm install -g typescript
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šè·å¾— <code>tsc</code> å‘½ä»¤ï¼Œè¿™æ˜¯å®˜æ–¹çš„ TS è½¬ JS å·¥å…·ã€‚</li>
</ul>
</li>
<li><strong>å®‰è£…ç°ä»£è¿è¡Œå™¨ (tsx)</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash">npm install -g tsx
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šè·³è¿‡ç¹ççš„ç¼–è¯‘æ­¥éª¤ï¼Œè®©ä½ åƒè·‘ JS ä¸€æ ·ç›´æ¥ç§’è·‘ TS ä»£ç ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€ ä¸€ä¸ªå¿…è£…æ’ä»¶ï¼šCode Runner</h3>
<ul>
<li><strong>å®‰è£…ä½ç½®</strong>ï¼šVS Code æ’ä»¶å¸‚åœºæœç´¢ <code>Code Runner</code>ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šåœ¨ç¼–è¾‘å™¨å³ä¸Šè§’æ·»åŠ é‚£ä¸ªâ€œä¸‰è§’å½¢â€æ’­æ”¾æŒ‰é’®ï¼Œå®ç°ä¸€é”®è¿è¡Œã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">å››ã€ ä¸‰é¡¹å…³é”®é…ç½® (Settings.json)</h3>
<p>è¿™æ˜¯è§£å†³ <strong>â€œæ²¡æœ‰è¾“å‡ºâ€</strong>ã€<strong>â€œå¿˜è®°ä¿å­˜â€</strong> ç­‰å°ç™½å¸¸è§é—®é¢˜çš„å…³é”®ã€‚</p>
<p>æŒ‰ <code>Cmd + ,</code> æ‰“å¼€è®¾ç½®ï¼Œæœç´¢ <code>executorMap</code>ï¼Œç‚¹å‡» <code>Edit in settings.json</code>ï¼Œç¡®ä¿ä»¥ä¸‹ä¸‰é¡¹å·²é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// 1. æŒ‡å®šç”¨ tsx æ¥æ‰§è¡Œ TS æ–‡ä»¶</span>
    <span class="hljs-attr">"code-runner.executorMap"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"typescript"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsx"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// 2. å¼ºåˆ¶åœ¨â€œç»ˆç«¯â€é¢æ¿æ˜¾ç¤ºç»“æœï¼ˆé˜²æ­¢åœ¨â€œè¾“å‡ºâ€é¢æ¿çœ‹ä¸åˆ°ä¸œè¥¿ï¼‰</span>
    <span class="hljs-attr">"code-runner.runInTerminal"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// 3. è¿è¡Œå‰è‡ªåŠ¨ä¿å­˜æ–‡ä»¶ï¼ˆé˜²æ­¢è¿è¡Œçš„æ˜¯æ—§ä»£ç ï¼‰</span>
    <span class="hljs-attr">"code-runner.saveFileBeforeRun"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">äº”ã€ è¿è¡Œæµç¨‹ï¼šä½ çš„æ—¥å¸¸æ“ä½œ</h3>
<p>å‡†å¤‡å¥½ä»¥ä¸Šå†…å®¹åï¼Œä½ æ¯å¤©çš„å­¦ä¹ æµç¨‹å°±æ˜¯ï¼š</p>
<ol>
<li><strong>æ–°å»ºæ–‡ä»¶</strong>ï¼šåˆ›å»ºä¸€ä¸ªä»¥ <code>.ts</code> ç»“å°¾çš„æ–‡ä»¶ï¼ˆå¦‚ <code>test.ts</code>ï¼‰ã€‚</li>
<li><strong>å†™ä»£ç </strong>ï¼š
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">user</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"å°ç™½"</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½ å¥½, <span class="hljs-subst">${user}</span>`</span>);
</code></pre>
</li>
<li><strong>ç‚¹è¿è¡Œ</strong>ï¼šç‚¹å‡»å³ä¸Šè§’<strong>ä¸‰è§’å½¢æŒ‰é’®</strong>ã€‚</li>
<li><strong>çœ‹ç»“æœ</strong>ï¼šåœ¨ä¸‹æ–¹çš„ <strong>â€œç»ˆç«¯ (Terminal)â€</strong> çª—å£ç›´æ¥çœ‹åˆ°ç»“æœã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-5">è¿›é˜¶å»ºè®®ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ <code>tsc</code>ï¼Ÿ</h3>
<ul>
<li><strong>ç›´æ¥ç”¨ <code>tsc</code></strong>ï¼šä½ éœ€è¦å…ˆè¿è¡Œ <code>tsc test.ts</code>ï¼ˆç”Ÿæˆ <code>test.js</code>ï¼‰ï¼Œå†è¿è¡Œ <code>node test.js</code>ã€‚æ­¥éª¤å¤šï¼Œæ–‡ä»¶å¤¹é‡Œä¼šå¤šå‡ºå¾ˆå¤šåƒåœ¾ JS æ–‡ä»¶ã€‚</li>
<li><strong>ç”¨ <code>tsx</code></strong>ï¼šä¸€æ­¥åˆ°ä½ï¼Œä¸äº§ç”Ÿå¤šä½™æ–‡ä»¶ï¼Œåé¦ˆæœ€å¿«ã€‚</li>
</ul>
<p><strong>å‡†å¤‡å¥½è¿™äº›ï¼Œä½ çš„ VS Code å°±æ˜¯ä¸€ä¸ªå®Œç¾çš„ TypeScript å®éªŒå®¤äº†ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Paimon Action Jar å®ç°æœºåˆ¶åˆ†æ]]></title>    <link>https://juejin.cn/post/7594276252460253194</link>    <guid>https://juejin.cn/post/7594276252460253194</guid>    <pubDate>2026-01-12T12:51:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594276252460253194" data-draft-id="7594301878826909734" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Paimon Action Jar å®ç°æœºåˆ¶åˆ†æ"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2026-01-12T12:51:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Aé»‘æ¡ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2023553670061885"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Paimon Action Jar å®ç°æœºåˆ¶åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2023553670061885/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Aé»‘æ¡ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:51:15.000Z" title="Mon Jan 12 2026 12:51:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Paimon Action Jar å®ç°æœºåˆ¶åˆ†æ</h2>
<h3 data-id="heading-1">ç›®å½•</h3>
<ul>
<li><a href="#1-%E6%A6%82%E8%BF%B0" title="#1-%E6%A6%82%E8%BF%B0">1. æ¦‚è¿°</a></li>
<li><a href="#2-%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1" title="#2-%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1">2. æ•´ä½“æ¶æ„è®¾è®¡</a></li>
<li><a href="#3-spi-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E6%9C%BA%E5%88%B6" title="#3-spi-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E6%9C%BA%E5%88%B6">3. SPI æœåŠ¡å‘ç°æœºåˆ¶</a></li>
<li><a href="#4-action-%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B" title="#4-action-%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B">4. Action æ‰§è¡Œæµç¨‹</a></li>
<li><a href="#5-expiresnapshotsaction-%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90" title="#5-expiresnapshotsaction-%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90">5. ExpireSnapshotsAction è¯¦ç»†åˆ†æ</a></li>
<li><a href="#6-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89-action" title="#6-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89-action">6. å¦‚ä½•å®ç°è‡ªå®šä¹‰ Action</a></li>
<li><a href="#7-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E5%92%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" title="#7-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E5%92%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">7. æœ€ä½³å®è·µå’Œæ³¨æ„äº‹é¡¹</a></li>
<li><a href="#8-%E6%80%BB%E7%BB%93" title="#8-%E6%80%BB%E7%BB%93">8. æ€»ç»“</a></li>
</ul>
<hr/>
<h3 data-id="heading-2">1. æ¦‚è¿°</h3>
<p>Paimon Action Jar æ˜¯ Apache Paimon æä¾›çš„ä¸€å¥—ç”¨äºè¡¨ç»´æŠ¤æ“ä½œçš„å‘½ä»¤è¡Œå·¥å…·æ¡†æ¶ã€‚é€šè¿‡ <code>flink run</code> å‘½ä»¤ï¼Œç”¨æˆ·å¯ä»¥æ‰§è¡Œå„ç§ç»´æŠ¤æ“ä½œï¼Œå¦‚å¿«ç…§è¿‡æœŸã€åˆ†åŒºåˆ é™¤ã€è¡¨å‹ç¼©ç­‰ã€‚</p>
<h4 data-id="heading-3">1.1 ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash">&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    expire_snapshots \
    --warehouse &lt;warehouse-path&gt; \
    --database &lt;database-name&gt; \
    --table &lt;table-name&gt; \
    --retain_max 5 \
    --retain_min 10 \
    --older_than <span class="hljs-string">'2024-01-01 12:00:00'</span> \
    --max_deletes 10
</code></pre>
<h4 data-id="heading-4">1.2 æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li><strong>æ’ä»¶åŒ–æ¶æ„</strong>ï¼šåŸºäº Java SPI å®ç°å¯æ‰©å±•çš„ Action ä½“ç³»</li>
<li><strong>æ¨¡å—éš”ç¦»</strong>ï¼šç‹¬ç«‹çš„å…¥å£æ¨¡å—é¿å…ç±»åŠ è½½å†²çª</li>
<li><strong>æ‰§è¡Œæ¨¡å¼</strong>ï¼šæ”¯æŒæœ¬åœ°æ‰§è¡Œï¼ˆLocalActionï¼‰å’Œ Flink ä½œä¸šä¸¤ç§æ¨¡å¼</li>
<li><strong>ç»Ÿä¸€æ¥å£</strong>ï¼šæ‰€æœ‰ç»´æŠ¤æ“ä½œéµå¾ªç»Ÿä¸€çš„ Action æ¥å£è§„èŒƒ</li>
</ul>
<hr/>
<h3 data-id="heading-5">2. æ•´ä½“æ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-6">2.1 æ¨¡å—åˆ’åˆ†</h4>
<p>Paimon Action Jar é‡‡ç”¨äº†æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ä¸ªæ¨¡å—ï¼š</p>
<h5 data-id="heading-7">2.1.1 paimon-flink-action æ¨¡å—</h5>
<p><strong>ä½ç½®</strong>ï¼š<code>paimon-flink/paimon-flink-action/</code></p>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>æä¾›å”¯ä¸€çš„å…¥å£ç±» <code>FlinkActions</code></li>
<li>ä½œä¸ºç‹¬ç«‹çš„å¯æ‰§è¡Œ JARï¼ŒåŒ…å« Main-Class å£°æ˜</li>
<li>é¿å…ä¸ Flink lib ç›®å½•ä¸­çš„ paimon-flink.jar äº§ç”Ÿç±»åŠ è½½å†²çª</li>
</ul>
<p><strong>pom.xml é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-shade-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">transformers</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">transformer</span> <span class="hljs-attr">implementation</span>=<span class="hljs-string">"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">mainClass</span>&gt;</span>org.apache.paimon.flink.action.FlinkActions<span class="hljs-tag">&lt;/<span class="hljs-name">mainClass</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">transformer</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">transformers</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</code></pre>
<p><strong>FlinkActions.java</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FlinkActions</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-keyword">if</span> (args.length &lt; <span class="hljs-number">1</span>) {
            printDefaultHelp();
            System.exit(<span class="hljs-number">1</span>);
        }

        Optional&lt;Action&gt; action = ActionFactory.createAction(args);

        <span class="hljs-keyword">if</span> (action.isPresent()) {
            action.get().run();
        } <span class="hljs-keyword">else</span> {
            System.exit(<span class="hljs-number">1</span>);
        }
    }
}
</code></pre>
<h5 data-id="heading-8">2.1.2 paimon-flink-common æ¨¡å—</h5>
<p><strong>ä½ç½®</strong>ï¼š<code>paimon-flink/paimon-flink-common/</code></p>
<p><strong>èŒè´£</strong>ï¼š</p>
<ul>
<li>åŒ…å«æ‰€æœ‰ Action çš„å®ç°ç±»</li>
<li>åŒ…å«æ‰€æœ‰ ActionFactory çš„å®ç°ç±»</li>
<li>æä¾› Action åŸºç¡€è®¾æ–½ï¼ˆActionBaseã€LocalAction ç­‰ï¼‰</li>
<li>åŒ…å« Procedure å®ç°ï¼ˆç”¨äº Flink SQL CALL è¯­å¥ï¼‰</li>
</ul>
<h4 data-id="heading-9">2.2 æ ¸å¿ƒç±»å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">classDiagram
    class Factory {
        &lt;&lt;interface&gt;&gt;
        +identifier() String
    }
    
    class ActionFactory {
        &lt;&lt;interface&gt;&gt;
        +create(params) Optional~Action~
        +printHelp() void
        +createAction(args) Optional~Action~
        +catalogConfigMap(params) Map
    }
    
    class Action {
        &lt;&lt;interface&gt;&gt;
        +run() void
        +build() void
    }
    
    class ActionBase {
        &lt;&lt;abstract&gt;&gt;
        #catalogOptions Options
        #catalog Catalog
        #flinkCatalog FlinkCatalog
        #env StreamExecutionEnvironment
        #batchTEnv StreamTableEnvironment
        #forceStartFlinkJob boolean
        +ActionBase(catalogConfig)
        +run() void
        #initCatalog() void
        #initFlinkEnv(env) void
        #execute(name) void
    }
    
    class LocalAction {
        &lt;&lt;interface&gt;&gt;
        +executeLocally() void
    }
    
    class ExpireSnapshotsActionFactory {
        +IDENTIFIER "expire_snapshots"
        +identifier() String
        +create(params) Optional~Action~
        +printHelp() void
    }
    
    class ExpireSnapshotsAction {
        -database String
        -table String
        -retainMax Integer
        -retainMin Integer
        -olderThan String
        -maxDeletes Integer
        -options String
        +ExpireSnapshotsAction(...)
        +executeLocally() void
    }
    
    class CompactAction {
        -partitions List
        -whereSql String
        -fullCompaction Boolean
        +CompactAction(...)
        +build() void
    }
    
    Factory &lt;|-- ActionFactory
    Action &lt;|-- ActionBase
    Action &lt;|-- LocalAction
    ActionFactory &lt;|.. ExpireSnapshotsActionFactory
    ActionFactory &lt;|.. CompactActionFactory
    ActionBase &lt;|-- ExpireSnapshotsAction
    ActionBase &lt;|-- CompactAction
    LocalAction &lt;|.. ExpireSnapshotsAction
    ExpireSnapshotsActionFactory ..&gt; ExpireSnapshotsAction : creates
    CompactActionFactory ..&gt; CompactAction : creates
</code></pre>
<h4 data-id="heading-10">2.3 è®¾è®¡ç†å¿µ</h4>
<h5 data-id="heading-11">2.3.1 ä¸ºä»€ä¹ˆéœ€è¦ç‹¬ç«‹çš„ paimon-flink-action æ¨¡å—ï¼Ÿ</h5>
<p><strong>é—®é¢˜èƒŒæ™¯</strong>ï¼š</p>
<ul>
<li>Flink çš„ <code>flink run</code> å‘½ä»¤è¦æ±‚æŒ‡å®šä¸€ä¸ªåŒ…å« Main-Class çš„ JAR</li>
<li>å¦‚æœç›´æ¥ä½¿ç”¨ <code>paimon-flink.jar</code>ï¼Œä¼šå¯¼è‡´ç±»åŠ è½½å†²çª</li>
<li>Flink lib ç›®å½•å’Œç”¨æˆ· ClassLoader ä¸­éƒ½åŒ…å«ç›¸åŒçš„ç±»</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>åˆ›å»ºç‹¬ç«‹çš„ <code>paimon-flink-action.jar</code></li>
<li>åªåŒ…å« <code>FlinkActions</code> å…¥å£ç±»</li>
<li>ä¾èµ– <code>paimon-flink-common</code>ï¼ˆscope=providedï¼‰</li>
<li>è¿è¡Œæ—¶ä» Flink lib ç›®å½•åŠ è½½å®é™…çš„ Action å®ç°</li>
</ul>
<h5 data-id="heading-12">2.3.2 LocalAction vs æ™®é€š Action</h5>
<p><strong>LocalAction</strong>ï¼š</p>
<ul>
<li>é€‚ç”¨äºè½»é‡çº§ç»´æŠ¤æ“ä½œ</li>
<li>é»˜è®¤åœ¨å®¢æˆ·ç«¯æœ¬åœ°æ‰§è¡Œï¼Œä¸å¯åŠ¨ Flink ä½œä¸š</li>
<li>ç¤ºä¾‹ï¼šexpire_snapshotsã€rollback_toã€create_tag</li>
<li>ä¼˜åŠ¿ï¼šæ‰§è¡Œå¿«é€Ÿï¼Œèµ„æºæ¶ˆè€—å°</li>
</ul>
<p><strong>æ™®é€š Action</strong>ï¼š</p>
<ul>
<li>é€‚ç”¨äºéœ€è¦åˆ†å¸ƒå¼è®¡ç®—çš„æ“ä½œ</li>
<li>å¿…é¡»æ„å»ºå®Œæ•´çš„ Flink ä½œä¸šå›¾</li>
<li>ç¤ºä¾‹ï¼šcompactã€merge_into</li>
<li>ä¼˜åŠ¿ï¼šå¯ä»¥åˆ©ç”¨ Flink çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›</li>
</ul>
<hr/>
<h3 data-id="heading-13">3. SPI æœåŠ¡å‘ç°æœºåˆ¶</h3>
<h4 data-id="heading-14">3.1 ä»€ä¹ˆæ˜¯ SPI</h4>
<p>SPIï¼ˆService Provider Interfaceï¼‰æ˜¯ Java æä¾›çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½æ¥å£çš„å®ç°ç±»ã€‚</p>
<h4 data-id="heading-15">3.2 SPI é…ç½®æ–‡ä»¶</h4>
<p><strong>ä½ç½®</strong>ï¼š<code>paimon-flink/paimon-flink-common/src/main/resources/META-INF/services/org.apache.paimon.factories.Factory</code></p>
<p><strong>å†…å®¹ç‰‡æ®µ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">### action factories</span>
org.apache.paimon.flink.action.CopyFilesActionFactory
org.apache.paimon.flink.action.CompactActionFactory
org.apache.paimon.flink.action.CompactDatabaseActionFactory
org.apache.paimon.flink.action.DropPartitionActionFactory
org.apache.paimon.flink.action.DeleteActionFactory
org.apache.paimon.flink.action.MergeIntoActionFactory
org.apache.paimon.flink.action.RollbackToActionFactory
...
org.apache.paimon.flink.action.ExpireSnapshotsActionFactory  <span class="hljs-comment"># ç¬¬ 44 è¡Œ</span>
org.apache.paimon.flink.action.ExpireChangelogsActionFactory
...

<span class="hljs-comment">### procedure factories</span>
org.apache.paimon.flink.procedure.CompactDatabaseProcedure
org.apache.paimon.flink.procedure.CompactProcedure
...
org.apache.paimon.flink.procedure.ExpireSnapshotsProcedure  <span class="hljs-comment"># ç¬¬ 74 è¡Œ</span>
...
</code></pre>
<h4 data-id="heading-16">3.3 SPI åŠ è½½æµç¨‹</h4>
<h5 data-id="heading-17">3.3.1 FactoryUtil.discoverFactory() æ–¹æ³•</h5>
<p><strong>æºç ä½ç½®</strong>ï¼š<code>paimon-api/src/main/java/org/apache/paimon/factories/FactoryUtil.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Factory</span>&gt; T <span class="hljs-title function_">discoverFactory</span><span class="hljs-params">(
        ClassLoader classLoader, Class&lt;T&gt; factoryClass, String identifier)</span> {
    <span class="hljs-comment">// 1. åŠ è½½æ‰€æœ‰ Factory å®ç°</span>
    <span class="hljs-keyword">final</span> List&lt;Factory&gt; factories = getFactories(classLoader);

    <span class="hljs-comment">// 2. è¿‡æ»¤å‡ºæŒ‡å®šç±»å‹çš„ Factory</span>
    <span class="hljs-keyword">final</span> List&lt;Factory&gt; foundFactories =
            factories.stream()
                    .filter(f -&gt; factoryClass.isAssignableFrom(f.getClass()))
                    .collect(Collectors.toList());

    <span class="hljs-comment">// 3. æ ¹æ® identifier åŒ¹é…</span>
    <span class="hljs-keyword">final</span> List&lt;Factory&gt; matchingFactories =
            foundFactories.stream()
                    .filter(f -&gt; f.identifier().equals(identifier))
                    .collect(Collectors.toList());

    <span class="hljs-comment">// 4. è¿”å›åŒ¹é…çš„ Factory</span>
    <span class="hljs-keyword">if</span> (matchingFactories.size() == <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span> (T) matchingFactories.get(<span class="hljs-number">0</span>);
    }
    
    <span class="hljs-comment">// å¤„ç†é”™è¯¯æƒ…å†µ...</span>
}
</code></pre>
<h5 data-id="heading-18">3.3.2 ServiceLoader åŠ è½½</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; List&lt;T&gt; <span class="hljs-title function_">discoverFactories</span><span class="hljs-params">(ClassLoader classLoader, Class&lt;T&gt; klass)</span> {
    <span class="hljs-keyword">final</span> Iterator&lt;T&gt; serviceLoaderIterator = ServiceLoader.load(klass, classLoader).iterator();

    <span class="hljs-keyword">final</span> List&lt;T&gt; loadResults = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">while</span> (serviceLoaderIterator.hasNext()) {
        <span class="hljs-keyword">try</span> {
            loadResults.add(serviceLoaderIterator.next());
        } <span class="hljs-keyword">catch</span> (NoClassDefFoundError e) {
            <span class="hljs-comment">// å¤„ç†å¯é€‰ä¾èµ–ç¼ºå¤±çš„æƒ…å†µ</span>
            LOG.debug(<span class="hljs-string">"NoClassDefFoundError when loading factory"</span>, e);
        }
    }

    <span class="hljs-keyword">return</span> loadResults;
}
</code></pre>
<h4 data-id="heading-19">3.4 ActionFactory.createAction() æµç¨‹</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<code>paimon-flink/paimon-flink-common/src/main/java/org/apache/paimon/flink/action/ActionFactory.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">static</span> Optional&lt;Action&gt; <span class="hljs-title function_">createAction</span><span class="hljs-params">(String[] args)</span> {
    <span class="hljs-comment">// 1. æå– action åç§°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> args[<span class="hljs-number">0</span>].toLowerCase().replaceAll(<span class="hljs-string">"-"</span>, <span class="hljs-string">"_"</span>);
    String[] actionArgs = Arrays.copyOfRange(args, <span class="hljs-number">1</span>, args.length);
    
    <span class="hljs-comment">// 2. ä½¿ç”¨ SPI åŠ è½½å¯¹åº”çš„ ActionFactory</span>
    ActionFactory actionFactory;
    <span class="hljs-keyword">try</span> {
        actionFactory = FactoryUtil.discoverFactory(
                ActionFactory.class.getClassLoader(), 
                ActionFactory.class, 
                action);
    } <span class="hljs-keyword">catch</span> (FactoryException e) {
        printDefaultHelp();
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnsupportedOperationException</span>(<span class="hljs-string">"Unknown action \""</span> + action + <span class="hljs-string">"\"."</span>);
    }

    LOG.info(<span class="hljs-string">"{} job args: {}"</span>, actionFactory.identifier(), String.join(<span class="hljs-string">" "</span>, actionArgs));

    <span class="hljs-comment">// 3. è§£æå‘½ä»¤è¡Œå‚æ•°</span>
    <span class="hljs-type">MultipleParameterToolAdapter</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MultipleParameterToolAdapter</span>(actionArgs);
    
    <span class="hljs-comment">// 4. å¤„ç† --help å‚æ•°</span>
    <span class="hljs-keyword">if</span> (params.has(HELP)) {
        actionFactory.printHelp();
        <span class="hljs-keyword">return</span> Optional.empty();
    }

    <span class="hljs-comment">// 5. è°ƒç”¨ Factory åˆ›å»º Action å®ä¾‹</span>
    Optional&lt;Action&gt; optionalAction = actionFactory.create(params);

    <span class="hljs-comment">// 6. å¤„ç† --force_start_flink_job å‚æ•°</span>
    <span class="hljs-keyword">if</span> (params.has(FORCE_START_FLINK_JOB)) {
        optionalAction = optionalAction.map(a -&gt; {
            <span class="hljs-keyword">return</span> ((ActionBase) a).forceStartFlinkJob(
                    Boolean.parseBoolean(params.get(FORCE_START_FLINK_JOB)));
        });
    }

    <span class="hljs-keyword">return</span> optionalAction;
}
</code></pre>
<hr/>
<h3 data-id="heading-20">4. Action æ‰§è¡Œæµç¨‹</h3>
<h4 data-id="heading-21">4.1 å®Œæ•´æ‰§è¡Œæµç¨‹å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·å‘½ä»¤è¡Œ
    participant FlinkActions as FlinkActions.main
    participant ActionFactory as ActionFactory
    participant FactoryUtil as FactoryUtil
    participant ExpireSnapshotsActionFactory as ExpireSnapshotsActionFactory
    participant ExpireSnapshotsAction as ExpireSnapshotsAction
    participant ActionBase as ActionBase.run
    participant ExpireSnapshotsProcedure as ExpireSnapshotsProcedure
    participant ExpireSnapshotsImpl as ExpireSnapshotsImpl
    
    User-&gt;&gt;FlinkActions: flink run paimon-flink-action.jar&lt;br/&gt;expire_snapshots --warehouse ... --database ... --table ...
    FlinkActions-&gt;&gt;ActionFactory: createAction(args)
    
    Note over ActionFactory: è§£æ action = "expire_snapshots"
    ActionFactory-&gt;&gt;FactoryUtil: discoverFactory(ActionFactory.class, "expire_snapshots")
    
    Note over FactoryUtil: ä½¿ç”¨ ServiceLoader åŠ è½½æ‰€æœ‰ Factory&lt;br/&gt;ä» META-INF/services æ–‡ä»¶è¯»å–
    FactoryUtil-&gt;&gt;FactoryUtil: è¿‡æ»¤å¹¶åŒ¹é… identifier
    FactoryUtil--&gt;&gt;ActionFactory: ExpireSnapshotsActionFactory å®ä¾‹
    
    ActionFactory-&gt;&gt;ExpireSnapshotsActionFactory: create(params)
    
    Note over ExpireSnapshotsActionFactory: è§£æå‚æ•°&lt;br/&gt;- database&lt;br/&gt;- table&lt;br/&gt;- retain_max&lt;br/&gt;- retain_min&lt;br/&gt;- older_than&lt;br/&gt;- max_deletes
    
    ExpireSnapshotsActionFactory-&gt;&gt;ExpireSnapshotsAction: new ExpireSnapshotsAction(...)
    ExpireSnapshotsAction--&gt;&gt;ExpireSnapshotsActionFactory: action å®ä¾‹
    ExpireSnapshotsActionFactory--&gt;&gt;ActionFactory: Optional.of(action)
    ActionFactory--&gt;&gt;FlinkActions: Optional~Action~
    
    FlinkActions-&gt;&gt;ExpireSnapshotsAction: action.run()
    ExpireSnapshotsAction-&gt;&gt;ActionBase: super.run()
    
    alt LocalAction &amp;&amp; !forceStartFlinkJob
        Note over ActionBase: æ£€æµ‹åˆ° LocalAction&lt;br/&gt;ä¸”æœªå¼ºåˆ¶å¯åŠ¨ Flink ä½œä¸š
        ActionBase-&gt;&gt;ExpireSnapshotsAction: executeLocally()
        
        ExpireSnapshotsAction-&gt;&gt;ExpireSnapshotsProcedure: new ExpireSnapshotsProcedure()
        ExpireSnapshotsAction-&gt;&gt;ExpireSnapshotsProcedure: withCatalog(catalog)
        ExpireSnapshotsAction-&gt;&gt;ExpireSnapshotsProcedure: call(null, "db.table", retainMax, ...)
        
        ExpireSnapshotsProcedure-&gt;&gt;ExpireSnapshotsProcedure: table.newExpireSnapshots()
        ExpireSnapshotsProcedure-&gt;&gt;ExpireSnapshotsImpl: new ExpireSnapshotsImpl(...)
        ExpireSnapshotsProcedure-&gt;&gt;ExpireSnapshotsImpl: config(expireConfig).expire()
        
        Note over ExpireSnapshotsImpl: è®¡ç®—è¿‡æœŸå¿«ç…§èŒƒå›´&lt;br/&gt;åˆ é™¤å¿«ç…§æ–‡ä»¶&lt;br/&gt;åˆ é™¤æ•°æ®æ–‡ä»¶
        
        ExpireSnapshotsImpl--&gt;&gt;ExpireSnapshotsProcedure: è¿”å›åˆ é™¤æ•°é‡
        ExpireSnapshotsProcedure--&gt;&gt;ExpireSnapshotsAction: String[] result
        ExpireSnapshotsAction--&gt;&gt;ActionBase: å®Œæˆ
        
    else LocalAction &amp;&amp; forceStartFlinkJob
        Note over ActionBase: å¼ºåˆ¶å¯åŠ¨ Flink ä½œä¸šæ¨¡å¼
        ActionBase-&gt;&gt;ActionBase: env.fromSequence(0, 0)&lt;br/&gt;.flatMap(LocalActionExecutor)
        ActionBase-&gt;&gt;ActionBase: execute("ExpireSnapshotsAction")
        Note over ActionBase: åœ¨ Flink ç®—å­ä¸­æ‰§è¡Œ executeLocally()
        
    else æ™®é€š Action (å¦‚ CompactAction)
        Note over ActionBase: éœ€è¦æ„å»º Flink ä½œä¸šå›¾
        ActionBase-&gt;&gt;ExpireSnapshotsAction: build()
        Note over ExpireSnapshotsAction: æ„å»º Sourceã€Transformã€Sink
        ActionBase-&gt;&gt;ActionBase: execute("CompactAction")
    end
    
    ActionBase--&gt;&gt;FlinkActions: å®Œæˆ
    FlinkActions--&gt;&gt;User: æ‰§è¡ŒæˆåŠŸ
</code></pre>
<h4 data-id="heading-22">4.2 ActionBase.run() æ ¸å¿ƒé€»è¾‘</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<code>paimon-flink/paimon-flink-common/src/main/java/org/apache/paimon/flink/action/ActionBase.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä¸º LocalAction</span>
    <span class="hljs-keyword">if</span> (LocalAction.class.isAssignableFrom(<span class="hljs-built_in">this</span>.getClass())) {
        <span class="hljs-keyword">if</span> (forceStartFlinkJob) {
            <span class="hljs-comment">// å¼ºåˆ¶å¯åŠ¨ Flink ä½œä¸šæ¨¡å¼</span>
            <span class="hljs-comment">// å°† LocalAction åŒ…è£…æˆ Flink ç®—å­æ‰§è¡Œ</span>
            env.fromSequence(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
                    .flatMap(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalActionExecutor</span>&lt;&gt;(<span class="hljs-built_in">this</span>))
                    .setParallelism(<span class="hljs-number">1</span>)
                    .sinkTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DiscardingSink</span>&lt;&gt;());
            execute(<span class="hljs-built_in">this</span>.getClass().getSimpleName());
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// é»˜è®¤æœ¬åœ°æ‰§è¡Œæ¨¡å¼</span>
            ((LocalAction) <span class="hljs-built_in">this</span>).executeLocally();
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æ™®é€š Actionï¼šæ„å»º Flink ä½œä¸šå›¾å¹¶æ‰§è¡Œ</span>
        build();
        execute(<span class="hljs-built_in">this</span>.getClass().getSimpleName());
    }
}
</code></pre>
<h4 data-id="heading-23">4.3 LocalActionExecutor åŒ…è£…å™¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LocalActionExecutor</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ActionBase</span> &amp; LocalAction&gt;
        <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RichFlatMapFunction</span>&lt;Long, Object&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> T action;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">open</span><span class="hljs-params">(Configuration parameters)</span> {
        <span class="hljs-comment">// åœ¨ Flink ç®—å­ä¸­åˆå§‹åŒ– Catalog</span>
        action.initCatalog();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flatMap</span><span class="hljs-params">(Long aLong, Collector&lt;Object&gt; collector)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// åœ¨ Flink ç®—å­ä¸­æ‰§è¡Œ LocalAction</span>
        action.executeLocally();
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-24">5. ExpireSnapshotsAction è¯¦ç»†åˆ†æ</h3>
<h4 data-id="heading-25">5.1 å‘½ä»¤è¡Œå‚æ•°</h4>
<pre><code class="hljs language-bash" lang="bash">&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    expire_snapshots \
    --warehouse &lt;warehouse-path&gt;      <span class="hljs-comment"># Catalog é…ç½®ï¼šæ•°æ®ä»“åº“è·¯å¾„</span>
    --database &lt;database-name&gt;        <span class="hljs-comment"># ç›®æ ‡æ•°æ®åº“åç§°</span>
    --table &lt;table-name&gt;              <span class="hljs-comment"># ç›®æ ‡è¡¨åç§°</span>
    --retain_max &lt;num&gt;                <span class="hljs-comment"># æœ€å¤šä¿ç•™çš„å¿«ç…§æ•°é‡</span>
    --retain_min &lt;num&gt;                <span class="hljs-comment"># è‡³å°‘ä¿ç•™çš„å¿«ç…§æ•°é‡</span>
    --older_than &lt;timestamp&gt;          <span class="hljs-comment"># åˆ é™¤æ—©äºæ­¤æ—¶é—´çš„å¿«ç…§</span>
    --max_deletes &lt;num&gt;               <span class="hljs-comment"># å•æ¬¡æœ€å¤šåˆ é™¤çš„å¿«ç…§æ•°é‡</span>
    --catalog_conf key=value          <span class="hljs-comment"># é¢å¤–çš„ Catalog é…ç½®</span>
</code></pre>
<h4 data-id="heading-26">5.2 å‚æ•°æ˜ å°„å…³ç³»</h4>


















































<table><thead><tr><th>å‘½ä»¤è¡Œå‚æ•°</th><th>Java å­—æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--warehouse</code></td><td><code>catalogOptions.warehouse</code></td><td>é€šè¿‡ <code>catalogConfigMap()</code> æ˜ å°„</td></tr><tr><td><code>--database</code></td><td><code>ExpireSnapshotsAction.database</code></td><td>ç›´æ¥æ˜ å°„</td></tr><tr><td><code>--table</code></td><td><code>ExpireSnapshotsAction.table</code></td><td>ç›´æ¥æ˜ å°„</td></tr><tr><td><code>--retain_max</code></td><td><code>ExpireSnapshotsAction.retainMax</code></td><td>è½¬æ¢ä¸º Integer</td></tr><tr><td><code>--retain_min</code></td><td><code>ExpireSnapshotsAction.retainMin</code></td><td>è½¬æ¢ä¸º Integer</td></tr><tr><td><code>--older_than</code></td><td><code>ExpireSnapshotsAction.olderThan</code></td><td>æ—¶é—´æˆ³å­—ç¬¦ä¸²</td></tr><tr><td><code>--max_deletes</code></td><td><code>ExpireSnapshotsAction.maxDeletes</code></td><td>è½¬æ¢ä¸º Integer</td></tr><tr><td><code>--catalog_conf</code></td><td><code>catalogOptions</code></td><td>è§£æä¸º Map&lt;String, String&gt;</td></tr></tbody></table>
<h4 data-id="heading-27">5.3 ExpireSnapshotsActionFactory å®ç°</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<code>paimon-flink/paimon-flink-common/src/main/java/org/apache/paimon/flink/action/ExpireSnapshotsActionFactory.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpireSnapshotsActionFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ActionFactory</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">IDENTIFIER</span> <span class="hljs-operator">=</span> <span class="hljs-string">"expire_snapshots"</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">RETAIN_MAX</span> <span class="hljs-operator">=</span> <span class="hljs-string">"retain_max"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">RETAIN_MIN</span> <span class="hljs-operator">=</span> <span class="hljs-string">"retain_min"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">OLDER_THAN</span> <span class="hljs-operator">=</span> <span class="hljs-string">"older_than"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">MAX_DELETES</span> <span class="hljs-operator">=</span> <span class="hljs-string">"max_deletes"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">OPTIONS</span> <span class="hljs-operator">=</span> <span class="hljs-string">"options"</span>;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">identifier</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> IDENTIFIER;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Optional&lt;Action&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(MultipleParameterToolAdapter params)</span> {
        <span class="hljs-comment">// è§£æå‚æ•°ï¼ˆå¯é€‰ï¼‰</span>
        <span class="hljs-type">Integer</span> <span class="hljs-variable">retainMax</span> <span class="hljs-operator">=</span>
                params.has(RETAIN_MAX) ? Integer.parseInt(params.get(RETAIN_MAX)) : <span class="hljs-literal">null</span>;
        <span class="hljs-type">Integer</span> <span class="hljs-variable">retainMin</span> <span class="hljs-operator">=</span>
                params.has(RETAIN_MIN) ? Integer.parseInt(params.get(RETAIN_MIN)) : <span class="hljs-literal">null</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">olderThan</span> <span class="hljs-operator">=</span> params.has(OLDER_THAN) ? params.get(OLDER_THAN) : <span class="hljs-literal">null</span>;
        <span class="hljs-type">Integer</span> <span class="hljs-variable">maxDeletes</span> <span class="hljs-operator">=</span>
                params.has(MAX_DELETES) ? Integer.parseInt(params.get(MAX_DELETES)) : <span class="hljs-literal">null</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> params.has(OPTIONS) ? params.get(OPTIONS) : <span class="hljs-literal">null</span>;

        <span class="hljs-comment">// åˆ›å»º Action å®ä¾‹</span>
        <span class="hljs-type">ExpireSnapshotsAction</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExpireSnapshotsAction</span>(
                        params.getRequired(DATABASE),  <span class="hljs-comment">// å¿…éœ€å‚æ•°</span>
                        params.getRequired(TABLE),     <span class="hljs-comment">// å¿…éœ€å‚æ•°</span>
                        catalogConfigMap(params),      <span class="hljs-comment">// Catalog é…ç½®</span>
                        retainMax,
                        retainMin,
                        olderThan,
                        maxDeletes,
                        options);

        <span class="hljs-keyword">return</span> Optional.of(action);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printHelp</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"Action \"expire_snapshots\" expire the target snapshots."</span>);
        System.out.println();
        System.out.println(<span class="hljs-string">"Syntax:"</span>);
        System.out.println(
                <span class="hljs-string">"  expire_snapshots \\\n"</span>
                        + <span class="hljs-string">"--warehouse &lt;warehouse_path&gt; \\\n"</span>
                        + <span class="hljs-string">"--database &lt;database&gt; \\\n"</span>
                        + <span class="hljs-string">"--table &lt;table&gt; \\\n"</span>
                        + <span class="hljs-string">"--retain_max &lt;max&gt; \\\n"</span>
                        + <span class="hljs-string">"--retain_min &lt;min&gt; \\\n"</span>
                        + <span class="hljs-string">"--older_than &lt;older_than&gt; \\\n"</span>
                        + <span class="hljs-string">"--max_delete &lt;max_delete&gt;"</span>);
    }
}
</code></pre>
<h4 data-id="heading-28">5.4 ExpireSnapshotsAction å®ç°</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<code>paimon-flink/paimon-flink-common/src/main/java/org/apache/paimon/flink/action/ExpireSnapshotsAction.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpireSnapshotsAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ActionBase</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">LocalAction</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String database;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String table;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer retainMax;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer retainMin;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String olderThan;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer maxDeletes;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String options;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ExpireSnapshotsAction</span><span class="hljs-params">(
            String database,
            String table,
            Map&lt;String, String&gt; catalogConfig,
            Integer retainMax,
            Integer retainMin,
            String olderThan,
            Integer maxDeletes,
            String options)</span> {
        <span class="hljs-built_in">super</span>(catalogConfig);  <span class="hljs-comment">// åˆå§‹åŒ– Catalog</span>
        <span class="hljs-built_in">this</span>.database = database;
        <span class="hljs-built_in">this</span>.table = table;
        <span class="hljs-built_in">this</span>.retainMax = retainMax;
        <span class="hljs-built_in">this</span>.retainMin = retainMin;
        <span class="hljs-built_in">this</span>.olderThan = olderThan;
        <span class="hljs-built_in">this</span>.maxDeletes = maxDeletes;
        <span class="hljs-built_in">this</span>.options = options;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeLocally</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// åˆ›å»º Procedure å®ä¾‹</span>
        <span class="hljs-type">ExpireSnapshotsProcedure</span> <span class="hljs-variable">expireSnapshotsProcedure</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExpireSnapshotsProcedure</span>();
        
        <span class="hljs-comment">// è®¾ç½® Catalog</span>
        expireSnapshotsProcedure.withCatalog(catalog);
        
        <span class="hljs-comment">// è°ƒç”¨ Procedureï¼ˆå¤ç”¨ Flink SQL CALL çš„é€»è¾‘ï¼‰</span>
        expireSnapshotsProcedure.call(
                <span class="hljs-literal">null</span>,                      <span class="hljs-comment">// ProcedureContextï¼ˆAction ä¸­ä¸º nullï¼‰</span>
                database + <span class="hljs-string">"."</span> + table,    <span class="hljs-comment">// è¡¨æ ‡è¯†ç¬¦</span>
                retainMax,
                retainMin,
                olderThan,
                maxDeletes,
                options);
    }
}
</code></pre>
<h4 data-id="heading-29">5.5 ExpireSnapshotsProcedure å®ç°</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<code>paimon-flink/paimon-flink-common/src/main/java/org/apache/paimon/flink/procedure/ExpireSnapshotsProcedure.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpireSnapshotsProcedure</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ProcedureBase</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">identifier</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"expire_snapshots"</span>;
    }

    <span class="hljs-keyword">public</span> String[] call(
            ProcedureContext procedureContext,
            String tableId,
            Integer retainMax,
            Integer retainMin,
            String olderThanStr,
            Integer maxDeletes,
            String options)
            <span class="hljs-keyword">throws</span> Catalog.TableNotExistException {
        
        <span class="hljs-comment">// 1. è·å–è¡¨å¯¹è±¡</span>
        <span class="hljs-type">Table</span> <span class="hljs-variable">table</span> <span class="hljs-operator">=</span> table(tableId);
        
        <span class="hljs-comment">// 2. è§£æåŠ¨æ€é€‰é¡¹</span>
        HashMap&lt;String, String&gt; dynamicOptions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        ProcedureUtils.putAllOptions(dynamicOptions, options);

        <span class="hljs-comment">// 3. åº”ç”¨åŠ¨æ€é€‰é¡¹ï¼ˆåˆ›å»ºè¡¨çš„å‰¯æœ¬ï¼‰</span>
        table = table.copy(dynamicOptions);
        
        <span class="hljs-comment">// 4. åˆ›å»º ExpireSnapshots å®ä¾‹</span>
        <span class="hljs-type">ExpireSnapshots</span> <span class="hljs-variable">expireSnapshots</span> <span class="hljs-operator">=</span> table.newExpireSnapshots();

        <span class="hljs-comment">// 5. æ„å»ºè¿‡æœŸé…ç½®</span>
        <span class="hljs-type">CoreOptions</span> <span class="hljs-variable">tableOptions</span> <span class="hljs-operator">=</span> ((FileStoreTable) table).store().options();
        ExpireConfig.<span class="hljs-type">Builder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span>
                ProcedureUtils.fillInSnapshotOptions(
                        tableOptions, retainMax, retainMin, olderThanStr, maxDeletes);
        
        <span class="hljs-comment">// 6. æ‰§è¡Œå¿«ç…§è¿‡æœŸ</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">expiredCount</span> <span class="hljs-operator">=</span> expireSnapshots.config(builder.build()).expire();
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[] {expiredCount + <span class="hljs-string">""</span>};
    }
}
</code></pre>
<h4 data-id="heading-30">5.6 ExpireSnapshotsImpl æ ¸å¿ƒå®ç°</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<code>paimon-core/src/main/java/org/apache/paimon/table/ExpireSnapshotsImpl.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpireSnapshotsImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ExpireSnapshots</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SnapshotManager snapshotManager;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ChangelogManager changelogManager;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConsumerManager consumerManager;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SnapshotDeletion snapshotDeletion;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TagManager tagManager;

    <span class="hljs-keyword">private</span> ExpireConfig expireConfig;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">expire</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 1. è®¾ç½®é…ç½®</span>
        snapshotDeletion.setChangelogDecoupled(expireConfig.isChangelogDecoupled());
        <span class="hljs-type">int</span> <span class="hljs-variable">retainMax</span> <span class="hljs-operator">=</span> expireConfig.getSnapshotRetainMax();
        <span class="hljs-type">int</span> <span class="hljs-variable">retainMin</span> <span class="hljs-operator">=</span> expireConfig.getSnapshotRetainMin();
        <span class="hljs-type">int</span> <span class="hljs-variable">maxDeletes</span> <span class="hljs-operator">=</span> expireConfig.getSnapshotMaxDeletes();
        <span class="hljs-type">long</span> <span class="hljs-variable">olderThanMills</span> <span class="hljs-operator">=</span>
                System.currentTimeMillis() - expireConfig.getSnapshotTimeRetain().toMillis();

        <span class="hljs-comment">// 2. è·å–æœ€æ–°å’Œæœ€æ—©çš„å¿«ç…§ ID</span>
        <span class="hljs-type">Long</span> <span class="hljs-variable">latestSnapshotId</span> <span class="hljs-operator">=</span> snapshotManager.latestSnapshotId();
        <span class="hljs-keyword">if</span> (latestSnapshotId == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">// æ²¡æœ‰å¿«ç…§ï¼Œæ— éœ€è¿‡æœŸ</span>
        }

        <span class="hljs-type">Long</span> <span class="hljs-variable">earliest</span> <span class="hljs-operator">=</span> snapshotManager.earliestSnapshotId();
        <span class="hljs-keyword">if</span> (earliest == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }

        <span class="hljs-comment">// 3. è®¡ç®—è¿‡æœŸèŒƒå›´</span>
        <span class="hljs-comment">// retainMax: ä»æœ€æ–°å¿«ç…§ç®—èµ·ï¼Œæœ€å¤šä¿ç•™çš„å¿«ç…§æ•°é‡</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> Math.max(latestSnapshotId - retainMax + <span class="hljs-number">1</span>, earliest);

        <span class="hljs-comment">// retainMin: è‡³å°‘ä¿ç•™çš„å¿«ç…§æ•°é‡ï¼ˆä¿æŠ¤é˜ˆå€¼ï¼‰</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">maxExclusive</span> <span class="hljs-operator">=</span> latestSnapshotId - retainMin + <span class="hljs-number">1</span>;

        <span class="hljs-comment">// ä¿æŠ¤æ­£åœ¨è¢«æ¶ˆè´¹è€…è¯»å–çš„å¿«ç…§</span>
        maxExclusive =
                Math.min(maxExclusive, consumerManager.minNextSnapshot().orElse(Long.MAX_VALUE));

        <span class="hljs-comment">// é™åˆ¶å•æ¬¡åˆ é™¤çš„å¿«ç…§æ•°é‡</span>
        maxExclusive = Math.min(maxExclusive, earliest + maxDeletes);

        <span class="hljs-comment">// 4. æ£€æŸ¥æ—¶é—´æ¡ä»¶ï¼Œæå‰é€€å‡º</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">long</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> min; id &lt; maxExclusive; id++) {
            <span class="hljs-keyword">if</span> (snapshotManager.snapshotExists(id)
                    &amp;&amp; olderThanMills &lt;= snapshotManager.snapshot(id).timeMillis()) {
                <span class="hljs-keyword">return</span> expireUntil(earliest, id);
            }
        }

        <span class="hljs-comment">// 5. æ‰§è¡Œè¿‡æœŸ</span>
        <span class="hljs-keyword">return</span> expireUntil(earliest, maxExclusive);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">expireUntil</span><span class="hljs-params">(<span class="hljs-type">long</span> earliestId, <span class="hljs-type">long</span> endExclusiveId)</span> {
        <span class="hljs-comment">// 1. æ‰¾åˆ°ç¬¬ä¸€ä¸ªè¦è¿‡æœŸçš„å¿«ç…§</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">beginInclusiveId</span> <span class="hljs-operator">=</span> earliestId;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">long</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> endExclusiveId - <span class="hljs-number">1</span>; id &gt;= earliestId; id--) {
            <span class="hljs-keyword">if</span> (!snapshotManager.snapshotExists(id)) {
                beginInclusiveId = id + <span class="hljs-number">1</span>;
                <span class="hljs-keyword">break</span>;
            }
        }

        <span class="hljs-comment">// 2. è·å–è¢« Tag ä¿æŠ¤çš„å¿«ç…§</span>
        List&lt;Snapshot&gt; taggedSnapshots = tagManager.taggedSnapshots();

        <span class="hljs-comment">// 3. åˆ é™¤æ•°æ®æ–‡ä»¶ï¼ˆåˆå¹¶æ ‘æ–‡ä»¶ï¼‰</span>
        <span class="hljs-comment">// èŒƒå›´ï¼š(beginInclusiveId, endExclusiveId]</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">long</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> beginInclusiveId + <span class="hljs-number">1</span>; id &lt;= endExclusiveId; id++) {
            <span class="hljs-keyword">if</span> (snapshotManager.snapshotExists(id)) {
                <span class="hljs-type">Snapshot</span> <span class="hljs-variable">snapshot</span> <span class="hljs-operator">=</span> snapshotManager.snapshot(id);
                
                <span class="hljs-comment">// è·³è¿‡è¢« Tag ä¿æŠ¤çš„å¿«ç…§</span>
                <span class="hljs-keyword">if</span> (isTaggedSnapshot(snapshot, taggedSnapshots)) {
                    <span class="hljs-keyword">continue</span>;
                }
                
                <span class="hljs-comment">// åˆ é™¤è¯¥å¿«ç…§çš„æ•°æ®æ–‡ä»¶</span>
                snapshotDeletion.deleteAddedDataFiles(snapshot);
            }
        }

        <span class="hljs-comment">// 4. åˆ é™¤ Manifest æ–‡ä»¶</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">long</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> beginInclusiveId; id &lt; endExclusiveId; id++) {
            <span class="hljs-keyword">if</span> (snapshotManager.snapshotExists(id)) {
                <span class="hljs-type">Snapshot</span> <span class="hljs-variable">snapshot</span> <span class="hljs-operator">=</span> snapshotManager.snapshot(id);
                
                <span class="hljs-keyword">if</span> (!isTaggedSnapshot(snapshot, taggedSnapshots)) {
                    snapshotDeletion.deleteAddedManifests(snapshot);
                }
            }
        }

        <span class="hljs-comment">// 5. åˆ é™¤å¿«ç…§æ–‡ä»¶æœ¬èº«</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">long</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> beginInclusiveId; id &lt; endExclusiveId; id++) {
            Snapshot snapshot;
            <span class="hljs-keyword">try</span> {
                snapshot = snapshotManager.tryGetSnapshot(id);
            } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
                beginInclusiveId = id + <span class="hljs-number">1</span>;
                <span class="hljs-keyword">continue</span>;
            }
            
            <span class="hljs-comment">// å¦‚æœå¯ç”¨äº† changelog è§£è€¦ï¼Œæäº¤ changelog</span>
            <span class="hljs-keyword">if</span> (expireConfig.isChangelogDecoupled()) {
                commitChangelog(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Changelog</span>(snapshot));
            }
            
            <span class="hljs-comment">// åˆ é™¤å¿«ç…§æ–‡ä»¶</span>
            snapshotManager.deleteSnapshot(id);
        }

        <span class="hljs-comment">// 6. å†™å…¥æœ€æ—©å¿«ç…§çš„æç¤ºæ–‡ä»¶</span>
        writeEarliestHint(endExclusiveId);
        
        LOG.info(<span class="hljs-string">"Finished expire snapshots, range is [{}, {})"</span>, 
                beginInclusiveId, endExclusiveId);
        
        <span class="hljs-keyword">return</span> (<span class="hljs-type">int</span>) (endExclusiveId - beginInclusiveId);
    }
}
</code></pre>
<h4 data-id="heading-31">5.7 å¿«ç…§è¿‡æœŸé€»è¾‘å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[å¼€å§‹ expire] --&gt; B[è·å–æœ€æ–°/æœ€æ—©å¿«ç…§ID]
    B --&gt; C{å¿«ç…§å­˜åœ¨?}
    C --&gt;|å¦| D[è¿”å› 0]
    C --&gt;|æ˜¯| E[è®¡ç®—è¿‡æœŸèŒƒå›´]
    
    E --&gt; E1[min = max latestId - retainMax + 1, earliest]
    E1 --&gt; E2[maxExclusive = latestId - retainMin + 1]
    E2 --&gt; E3[è€ƒè™‘æ¶ˆè´¹è€…ä¿æŠ¤]
    E3 --&gt; E4[é™åˆ¶ maxDeletes]
    
    E4 --&gt; F[éå†æ£€æŸ¥æ—¶é—´æ¡ä»¶]
    F --&gt; G{older_than æ¡ä»¶æ»¡è¶³?}
    G --&gt;|æ˜¯| H[è°ƒç”¨ expireUntil]
    G --&gt;|å¦| I[ç»§ç»­æ£€æŸ¥ä¸‹ä¸€ä¸ª]
    
    H --&gt; H1[æ‰¾åˆ°ç¬¬ä¸€ä¸ªè¦è¿‡æœŸçš„å¿«ç…§]
    H1 --&gt; H2[è·å–è¢« Tag ä¿æŠ¤çš„å¿«ç…§åˆ—è¡¨]
    H2 --&gt; H3[åˆ é™¤æ•°æ®æ–‡ä»¶]
    H3 --&gt; H4[åˆ é™¤ Manifest æ–‡ä»¶]
    H4 --&gt; H5[åˆ é™¤å¿«ç…§æ–‡ä»¶]
    H5 --&gt; H6[å†™å…¥ earliest hint]
    H6 --&gt; J[è¿”å›åˆ é™¤æ•°é‡]
    
    style E1 fill:#e1f5ff
    style E2 fill:#e1f5ff
    style E3 fill:#ffe1e1
    style E4 fill:#ffe1e1
    style H3 fill:#fff4e1
    style H4 fill:#fff4e1
    style H5 fill:#fff4e1
</code></pre>
<h4 data-id="heading-32">5.8 å‚æ•°çº¦æŸå’Œä¿æŠ¤æœºåˆ¶</h4>








































<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th><th>çº¦æŸæ¡ä»¶</th></tr></thead><tbody><tr><td><code>retain_max</code></td><td>æœ€å¤šä¿ç•™çš„å¿«ç…§æ•°</td><td>å¿…é¡» &gt;= retain_min</td></tr><tr><td><code>retain_min</code></td><td>è‡³å°‘ä¿ç•™çš„å¿«ç…§æ•°</td><td>ä¿æŠ¤é˜ˆå€¼ï¼Œç¡®ä¿ä¸ä¼šåˆ é™¤è¿‡å¤š</td></tr><tr><td><code>older_than</code></td><td>æ—¶é—´é˜ˆå€¼</td><td>åªåˆ é™¤æ—©äºæ­¤æ—¶é—´çš„å¿«ç…§</td></tr><tr><td><code>max_deletes</code></td><td>å•æ¬¡åˆ é™¤é™åˆ¶</td><td>é¿å…ä¸€æ¬¡æ€§åˆ é™¤è¿‡å¤šå¿«ç…§</td></tr><tr><td>Consumer ä¿æŠ¤</td><td>è‡ªåŠ¨</td><td>æ­£åœ¨è¢«æ¶ˆè´¹è€…è¯»å–çš„å¿«ç…§ä¸ä¼šè¢«åˆ é™¤</td></tr><tr><td>Tag ä¿æŠ¤</td><td>è‡ªåŠ¨</td><td>è¢«æ‰“æ ‡ç­¾çš„å¿«ç…§ä¸ä¼šè¢«åˆ é™¤</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-33">6. å¦‚ä½•å®ç°è‡ªå®šä¹‰ Action</h3>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ª <code>vacuum_table</code> Actionï¼Œç”¨äºæ¸…ç†è¡¨çš„æ‰€æœ‰è¿‡æœŸæ•°æ®ï¼ˆåŒ…æ‹¬å¿«ç…§ã€åˆ†åŒºã€å­¤ç«‹æ–‡ä»¶ï¼‰ã€‚</p>
<h4 data-id="heading-34">6.1 æ­¥éª¤ 1ï¼šåˆ›å»º Action ç±»</h4>
<p>åˆ›å»ºæ–‡ä»¶ï¼š<code>VacuumTableAction.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.paimon.action;

<span class="hljs-keyword">import</span> org.apache.paimon.catalog.Identifier;
<span class="hljs-keyword">import</span> org.apache.paimon.flink.action.ActionBase;
<span class="hljs-keyword">import</span> org.apache.paimon.flink.action.LocalAction;
<span class="hljs-keyword">import</span> org.apache.paimon.table.Table;

<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * Vacuum table action - æ¸…ç†è¡¨çš„æ‰€æœ‰è¿‡æœŸæ•°æ®
 * åŒ…æ‹¬ï¼šè¿‡æœŸå¿«ç…§ã€è¿‡æœŸåˆ†åŒºã€å­¤ç«‹æ–‡ä»¶
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VacuumTableAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ActionBase</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">LocalAction</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String database;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String table;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> expireSnapshots;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> expirePartitions;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> removeOrphanFiles;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer retainDays;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">VacuumTableAction</span><span class="hljs-params">(
            String database,
            String table,
            Map&lt;String, String&gt; catalogConfig,
            <span class="hljs-type">boolean</span> expireSnapshots,
            <span class="hljs-type">boolean</span> expirePartitions,
            <span class="hljs-type">boolean</span> removeOrphanFiles,
            Integer retainDays)</span> {
        <span class="hljs-built_in">super</span>(catalogConfig);
        <span class="hljs-built_in">this</span>.database = database;
        <span class="hljs-built_in">this</span>.table = table;
        <span class="hljs-built_in">this</span>.expireSnapshots = expireSnapshots;
        <span class="hljs-built_in">this</span>.expirePartitions = expirePartitions;
        <span class="hljs-built_in">this</span>.removeOrphanFiles = removeOrphanFiles;
        <span class="hljs-built_in">this</span>.retainDays = retainDays;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeLocally</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. è·å–è¡¨å¯¹è±¡</span>
        <span class="hljs-type">Identifier</span> <span class="hljs-variable">identifier</span> <span class="hljs-operator">=</span> Identifier.create(database, table);
        <span class="hljs-type">Table</span> <span class="hljs-variable">tableObj</span> <span class="hljs-operator">=</span> catalog.getTable(identifier);

        System.out.println(<span class="hljs-string">"Starting vacuum for table: "</span> + database + <span class="hljs-string">"."</span> + table);

        <span class="hljs-comment">// 2. è¿‡æœŸå¿«ç…§</span>
        <span class="hljs-keyword">if</span> (expireSnapshots) {
            System.out.println(<span class="hljs-string">"Expiring snapshots..."</span>);
            <span class="hljs-type">int</span> <span class="hljs-variable">expiredCount</span> <span class="hljs-operator">=</span> tableObj.newExpireSnapshots()
                    .config(org.apache.paimon.options.ExpireConfig.builder()
                            .snapshotTimeRetain(java.time.Duration.ofDays(retainDays))
                            .build())
                    .expire();
            System.out.println(<span class="hljs-string">"Expired "</span> + expiredCount + <span class="hljs-string">" snapshots"</span>);
        }

        <span class="hljs-comment">// 3. è¿‡æœŸåˆ†åŒºï¼ˆä»…å¯¹åˆ†åŒºè¡¨æœ‰æ•ˆï¼‰</span>
        <span class="hljs-keyword">if</span> (expirePartitions &amp;&amp; !tableObj.partitionKeys().isEmpty()) {
            System.out.println(<span class="hljs-string">"Expiring partitions..."</span>);
            <span class="hljs-comment">// è°ƒç”¨åˆ†åŒºè¿‡æœŸé€»è¾‘</span>
            <span class="hljs-comment">// tableObj.newExpirePartitions()...</span>
        }

        <span class="hljs-comment">// 4. åˆ é™¤å­¤ç«‹æ–‡ä»¶</span>
        <span class="hljs-keyword">if</span> (removeOrphanFiles) {
            System.out.println(<span class="hljs-string">"Removing orphan files..."</span>);
            <span class="hljs-comment">// è°ƒç”¨å­¤ç«‹æ–‡ä»¶æ¸…ç†é€»è¾‘</span>
            <span class="hljs-comment">// tableObj.newRemoveOrphanFiles()...</span>
        }

        System.out.println(<span class="hljs-string">"Vacuum completed successfully"</span>);
    }
}
</code></pre>
<h4 data-id="heading-35">6.2 æ­¥éª¤ 2ï¼šåˆ›å»º ActionFactory ç±»</h4>
<p>åˆ›å»ºæ–‡ä»¶ï¼š<code>VacuumTableActionFactory.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.paimon.action;

<span class="hljs-keyword">import</span> org.apache.paimon.flink.action.Action;
<span class="hljs-keyword">import</span> org.apache.paimon.flink.action.ActionFactory;
<span class="hljs-keyword">import</span> org.apache.paimon.flink.action.MultipleParameterToolAdapter;

<span class="hljs-keyword">import</span> java.util.Optional;

<span class="hljs-comment">/**
 * Factory to create {<span class="hljs-doctag">@link</span> VacuumTableAction}.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VacuumTableActionFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ActionFactory</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">IDENTIFIER</span> <span class="hljs-operator">=</span> <span class="hljs-string">"vacuum_table"</span>;

    <span class="hljs-comment">// å‚æ•°é”®å®šä¹‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">EXPIRE_SNAPSHOTS</span> <span class="hljs-operator">=</span> <span class="hljs-string">"expire_snapshots"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">EXPIRE_PARTITIONS</span> <span class="hljs-operator">=</span> <span class="hljs-string">"expire_partitions"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">REMOVE_ORPHAN_FILES</span> <span class="hljs-operator">=</span> <span class="hljs-string">"remove_orphan_files"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">RETAIN_DAYS</span> <span class="hljs-operator">=</span> <span class="hljs-string">"retain_days"</span>;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">identifier</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> IDENTIFIER;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Optional&lt;Action&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(MultipleParameterToolAdapter params)</span> {
        <span class="hljs-comment">// è§£æå‚æ•°ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">expireSnapshots</span> <span class="hljs-operator">=</span> params.has(EXPIRE_SNAPSHOTS)
                ? Boolean.parseBoolean(params.get(EXPIRE_SNAPSHOTS))
                : <span class="hljs-literal">true</span>;  <span class="hljs-comment">// é»˜è®¤å¼€å¯</span>

        <span class="hljs-type">boolean</span> <span class="hljs-variable">expirePartitions</span> <span class="hljs-operator">=</span> params.has(EXPIRE_PARTITIONS)
                ? Boolean.parseBoolean(params.get(EXPIRE_PARTITIONS))
                : <span class="hljs-literal">true</span>;  <span class="hljs-comment">// é»˜è®¤å¼€å¯</span>

        <span class="hljs-type">boolean</span> <span class="hljs-variable">removeOrphanFiles</span> <span class="hljs-operator">=</span> params.has(REMOVE_ORPHAN_FILES)
                ? Boolean.parseBoolean(params.get(REMOVE_ORPHAN_FILES))
                : <span class="hljs-literal">true</span>;  <span class="hljs-comment">// é»˜è®¤å¼€å¯</span>

        <span class="hljs-type">Integer</span> <span class="hljs-variable">retainDays</span> <span class="hljs-operator">=</span> params.has(RETAIN_DAYS)
                ? Integer.parseInt(params.get(RETAIN_DAYS))
                : <span class="hljs-number">7</span>;  <span class="hljs-comment">// é»˜è®¤ä¿ç•™ 7 å¤©</span>

        <span class="hljs-comment">// åˆ›å»º Action å®ä¾‹</span>
        <span class="hljs-type">VacuumTableAction</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VacuumTableAction</span>(
                params.getRequired(DATABASE),
                params.getRequired(TABLE),
                catalogConfigMap(params),
                expireSnapshots,
                expirePartitions,
                removeOrphanFiles,
                retainDays);

        <span class="hljs-keyword">return</span> Optional.of(action);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printHelp</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"Action \"vacuum_table\" cleans up all expired data for a table."</span>);
        System.out.println();
        
        System.out.println(<span class="hljs-string">"Syntax:"</span>);
        System.out.println(<span class="hljs-string">"  vacuum_table \\"</span>);
        System.out.println(<span class="hljs-string">"    --warehouse &lt;warehouse_path&gt; \\"</span>);
        System.out.println(<span class="hljs-string">"    --database &lt;database&gt; \\"</span>);
        System.out.println(<span class="hljs-string">"    --table &lt;table&gt; \\"</span>);
        System.out.println(<span class="hljs-string">"    [--expire_snapshots &lt;true|false&gt;] \\"</span>);
        System.out.println(<span class="hljs-string">"    [--expire_partitions &lt;true|false&gt;] \\"</span>);
        System.out.println(<span class="hljs-string">"    [--remove_orphan_files &lt;true|false&gt;] \\"</span>);
        System.out.println(<span class="hljs-string">"    [--retain_days &lt;days&gt;]"</span>);
        System.out.println();
        
        System.out.println(<span class="hljs-string">"Options:"</span>);
        System.out.println(<span class="hljs-string">"  --expire_snapshots     : Whether to expire old snapshots (default: true)"</span>);
        System.out.println(<span class="hljs-string">"  --expire_partitions    : Whether to expire old partitions (default: true)"</span>);
        System.out.println(<span class="hljs-string">"  --remove_orphan_files  : Whether to remove orphan files (default: true)"</span>);
        System.out.println(<span class="hljs-string">"  --retain_days          : Days to retain data (default: 7)"</span>);
        System.out.println();
        
        System.out.println(<span class="hljs-string">"Examples:"</span>);
        System.out.println(<span class="hljs-string">"  # Vacuum with all operations"</span>);
        System.out.println(<span class="hljs-string">"  vacuum_table --warehouse hdfs:///warehouse --database mydb --table mytable"</span>);
        System.out.println();
        System.out.println(<span class="hljs-string">"  # Vacuum only snapshots, retain 30 days"</span>);
        System.out.println(<span class="hljs-string">"  vacuum_table --warehouse hdfs:///warehouse --database mydb --table mytable \\"</span>);
        System.out.println(<span class="hljs-string">"    --expire_snapshots true --expire_partitions false --remove_orphan_files false \\"</span>);
        System.out.println(<span class="hljs-string">"    --retain_days 30"</span>);
    }
}
</code></pre>
<h4 data-id="heading-36">6.3 æ­¥éª¤ 3ï¼šæ³¨å†Œåˆ° SPI</h4>
<p>åˆ›å»ºæ–‡ä»¶ï¼š<code>src/main/resources/META-INF/services/org.apache.paimon.factories.Factory</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è‡ªå®šä¹‰ Action Factory</span>
com.example.paimon.action.VacuumTableActionFactory
</code></pre>
<p>å¦‚æœæ˜¯åœ¨ Paimon æºç ä¸­æ·»åŠ ï¼Œéœ€è¦åœ¨ç°æœ‰çš„ SPI æ–‡ä»¶ä¸­è¿½åŠ ï¼š</p>
<p><code>paimon-flink/paimon-flink-common/src/main/resources/META-INF/services/org.apache.paimon.factories.Factory</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">### action factories</span>
org.apache.paimon.flink.action.CopyFilesActionFactory
...
org.apache.paimon.flink.action.ExpireSnapshotsActionFactory
com.example.paimon.action.VacuumTableActionFactory  <span class="hljs-comment"># æ·»åŠ è¿™ä¸€è¡Œ</span>
...
</code></pre>
<h4 data-id="heading-37">6.4 æ­¥éª¤ 4ï¼šæ„å»ºå’Œæ‰“åŒ…</h4>
<h5 data-id="heading-38">6.4.1 Maven pom.xml é…ç½®</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>paimon-custom-action<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Paimon Flink Common (providedï¼Œè¿è¡Œæ—¶ç”± Flink æä¾›) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.paimon<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>paimon-flink-common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-shade-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.2.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>package<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>shade<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">transformers</span>&gt;</span>
                                <span class="hljs-comment">&lt;!-- åˆå¹¶ SPI é…ç½®æ–‡ä»¶ --&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">transformer</span> <span class="hljs-attr">implementation</span>=<span class="hljs-string">"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer"</span>/&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">transformers</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<h5 data-id="heading-39">6.4.2 æ„å»ºå‘½ä»¤</h5>
<pre><code class="hljs language-bash" lang="bash">mvn clean package
</code></pre>
<p>ç”Ÿæˆæ–‡ä»¶ï¼š<code>target/paimon-custom-action-1.0-SNAPSHOT.jar</code></p>
<h4 data-id="heading-40">6.5 æ­¥éª¤ 5ï¼šä½¿ç”¨è‡ªå®šä¹‰ Action</h4>
<h5 data-id="heading-41">6.5.1 æ–¹å¼ 1ï¼šç‹¬ç«‹ JAR</h5>
<p>å¦‚æœè‡ªå®šä¹‰ Action æ‰“åŒ…ä¸ºç‹¬ç«‹ JARï¼Œéœ€è¦å°†å…¶æ”¾åˆ° Flink lib ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¤åˆ¶ JAR åˆ° Flink lib</span>
<span class="hljs-built_in">cp</span> target/paimon-custom-action-1.0-SNAPSHOT.jar <span class="hljs-variable">$FLINK_HOME</span>/lib/

<span class="hljs-comment"># 2. æ‰§è¡Œ Action</span>
&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    vacuum_table \
    --warehouse hdfs:///path/to/warehouse \
    --database my_database \
    --table my_table \
    --retain_days 30
</code></pre>
<h5 data-id="heading-42">6.5.2 æ–¹å¼ 2ï¼šé›†æˆåˆ° paimon-flink-action.jar</h5>
<p>å¦‚æœåœ¨ Paimon æºç ä¸­æ·»åŠ ï¼Œé‡æ–°æ„å»º <code>paimon-flink-action.jar</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åœ¨ Paimon æºç ç›®å½•</span>
<span class="hljs-built_in">cd</span> paimon

<span class="hljs-comment"># 2. æ„å»ºé¡¹ç›®</span>
mvn clean package -DskipTests

<span class="hljs-comment"># 3. æ‰¾åˆ°ç”Ÿæˆçš„ JAR</span>
<span class="hljs-built_in">ls</span> paimon-flink/paimon-flink-action/target/paimon-flink-action-*.jar

<span class="hljs-comment"># 4. æ‰§è¡Œ Action</span>
&lt;FLINK_HOME&gt;/bin/flink run \
    paimon-flink/paimon-flink-action/target/paimon-flink-action-1.4-SNAPSHOT.jar \
    vacuum_table \
    --warehouse hdfs:///warehouse \
    --database mydb \
    --table mytable
</code></pre>
<h5 data-id="heading-43">6.5.3 æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯</h5>
<pre><code class="hljs language-bash" lang="bash">&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    vacuum_table \
    --<span class="hljs-built_in">help</span>
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">Action <span class="hljs-string">"vacuum_table"</span> cleans up all expired data <span class="hljs-keyword">for</span> a table.

<span class="hljs-symbol">Syntax:</span>
  vacuum_table \
    --warehouse &lt;warehouse_path&gt; \
    --database &lt;database&gt; \
    --table &lt;table&gt; \
    [--expire_snapshots &lt;<span class="hljs-literal">true</span>|<span class="hljs-literal">false</span>&gt;] \
    [--expire_partitions &lt;<span class="hljs-literal">true</span>|<span class="hljs-literal">false</span>&gt;] \
    [--remove_orphan_files &lt;<span class="hljs-literal">true</span>|<span class="hljs-literal">false</span>&gt;] \
    [--retain_days &lt;days&gt;]

<span class="hljs-symbol">Options:</span>
  --expire_snapshots     : Whether <span class="hljs-keyword">to</span> expire old snapshots (<span class="hljs-keyword">default</span>: <span class="hljs-literal">true</span>)
  --expire_partitions    : Whether <span class="hljs-keyword">to</span> expire old partitions (<span class="hljs-keyword">default</span>: <span class="hljs-literal">true</span>)
  --remove_orphan_files  : Whether <span class="hljs-keyword">to</span> remove orphan files (<span class="hljs-keyword">default</span>: <span class="hljs-literal">true</span>)
  --retain_days          : Days <span class="hljs-keyword">to</span> retain data (<span class="hljs-keyword">default</span>: <span class="hljs-number">7</span>)

<span class="hljs-symbol">Examples:</span>
  # Vacuum <span class="hljs-keyword">with</span> all operations
  vacuum_table --warehouse hdfs:///warehouse --database mydb --table mytable

  # Vacuum only snapshots, retain <span class="hljs-number">30</span> days
  vacuum_table --warehouse hdfs:///warehouse --database mydb --table mytable \
    --expire_snapshots <span class="hljs-literal">true</span> --expire_partitions <span class="hljs-literal">false</span> --remove_orphan_files <span class="hljs-literal">false</span> \
    --retain_days <span class="hljs-number">30</span>
</code></pre>
<h4 data-id="heading-44">6.6 æµ‹è¯•è‡ªå®šä¹‰ Action</h4>
<h5 data-id="heading-45">6.6.1 å•å…ƒæµ‹è¯•</h5>
<p>åˆ›å»ºæ–‡ä»¶ï¼š<code>VacuumTableActionTest.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.paimon.action;

<span class="hljs-keyword">import</span> org.apache.paimon.catalog.Catalog;
<span class="hljs-keyword">import</span> org.apache.paimon.catalog.CatalogFactory;
<span class="hljs-keyword">import</span> org.apache.paimon.catalog.Identifier;
<span class="hljs-keyword">import</span> org.apache.paimon.flink.action.ActionFactory;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.io.TempDir;

<span class="hljs-keyword">import</span> java.nio.file.Path;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.Optional;

<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VacuumTableActionTest</span> {

    <span class="hljs-meta">@TempDir</span>
    Path tempDir;

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testVacuumTableActionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-type">VacuumTableActionFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VacuumTableActionFactory</span>();
        assertEquals(<span class="hljs-string">"vacuum_table"</span>, factory.identifier());
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testCreateAction</span><span class="hljs-params">()</span> {
        String[] args = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{
                <span class="hljs-string">"vacuum_table"</span>,
                <span class="hljs-string">"--warehouse"</span>, tempDir.toString(),
                <span class="hljs-string">"--database"</span>, <span class="hljs-string">"test_db"</span>,
                <span class="hljs-string">"--table"</span>, <span class="hljs-string">"test_table"</span>,
                <span class="hljs-string">"--retain_days"</span>, <span class="hljs-string">"30"</span>
        };

        Optional&lt;org.apache.paimon.flink.action.Action&gt; action = 
                ActionFactory.createAction(args);
        
        assertTrue(action.isPresent());
        assertInstanceOf(VacuumTableAction.class, action.get());
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testExecuteVacuumAction</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. åˆ›å»ºæµ‹è¯• Catalog</span>
        Map&lt;String, String&gt; catalogConfig = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        catalogConfig.put(<span class="hljs-string">"warehouse"</span>, tempDir.toString());

        <span class="hljs-comment">// 2. åˆ›å»º Action</span>
        <span class="hljs-type">VacuumTableAction</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VacuumTableAction</span>(
                <span class="hljs-string">"test_db"</span>,
                <span class="hljs-string">"test_table"</span>,
                catalogConfig,
                <span class="hljs-literal">true</span>,  <span class="hljs-comment">// expireSnapshots</span>
                <span class="hljs-literal">false</span>, <span class="hljs-comment">// expirePartitions</span>
                <span class="hljs-literal">false</span>, <span class="hljs-comment">// removeOrphanFiles</span>
                <span class="hljs-number">7</span>);    <span class="hljs-comment">// retainDays</span>

        <span class="hljs-comment">// 3. æ‰§è¡Œï¼ˆéœ€è¦å…ˆåˆ›å»ºè¡¨ï¼‰</span>
        <span class="hljs-comment">// action.executeLocally();</span>
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-46">7. æœ€ä½³å®è·µå’Œæ³¨æ„äº‹é¡¹</h3>
<h4 data-id="heading-47">7.1 å‚æ•°è®¾è®¡</h4>
<h5 data-id="heading-48">7.1.1 å¿…éœ€å‚æ•° vs å¯é€‰å‚æ•°</h5>
<ul>
<li><strong>å¿…éœ€å‚æ•°</strong>ï¼šä½¿ç”¨ <code>params.getRequired(key)</code>ï¼Œç¼ºå¤±æ—¶æŠ›å‡ºå¼‚å¸¸</li>
<li><strong>å¯é€‰å‚æ•°</strong>ï¼šä½¿ç”¨ <code>params.has(key)</code> æ£€æŸ¥ï¼Œæä¾›é»˜è®¤å€¼</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¿…éœ€å‚æ•°</span>
<span class="hljs-type">String</span> <span class="hljs-variable">database</span> <span class="hljs-operator">=</span> params.getRequired(DATABASE);

<span class="hljs-comment">// å¯é€‰å‚æ•°ï¼Œå¸¦é»˜è®¤å€¼</span>
<span class="hljs-type">Integer</span> <span class="hljs-variable">retainMax</span> <span class="hljs-operator">=</span> params.has(RETAIN_MAX) 
    ? Integer.parseInt(params.get(RETAIN_MAX)) 
    : <span class="hljs-number">10</span>;
</code></pre>
<h5 data-id="heading-49">7.1.2 å‚æ•°éªŒè¯</h5>
<p>åœ¨ Factory çš„ <code>create()</code> æ–¹æ³•ä¸­è¿›è¡Œå‚æ•°éªŒè¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Optional&lt;Action&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(MultipleParameterToolAdapter params)</span> {
    <span class="hljs-type">Integer</span> <span class="hljs-variable">retainMax</span> <span class="hljs-operator">=</span> params.has(RETAIN_MAX) 
        ? Integer.parseInt(params.get(RETAIN_MAX)) : <span class="hljs-literal">null</span>;
    <span class="hljs-type">Integer</span> <span class="hljs-variable">retainMin</span> <span class="hljs-operator">=</span> params.has(RETAIN_MIN) 
        ? Integer.parseInt(params.get(RETAIN_MIN)) : <span class="hljs-literal">null</span>;

    <span class="hljs-comment">// å‚æ•°éªŒè¯</span>
    <span class="hljs-keyword">if</span> (retainMax != <span class="hljs-literal">null</span> &amp;&amp; retainMin != <span class="hljs-literal">null</span> &amp;&amp; retainMax &lt; retainMin) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(
            <span class="hljs-string">"retain_max ("</span> + retainMax + <span class="hljs-string">") must be &gt;= retain_min ("</span> + retainMin + <span class="hljs-string">")"</span>);
    }

    <span class="hljs-comment">// åˆ›å»º Action</span>
    <span class="hljs-keyword">return</span> Optional.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyAction</span>(...));
}
</code></pre>
<h4 data-id="heading-50">7.2 Catalog é…ç½®</h4>
<h5 data-id="heading-51">7.2.1 ä½¿ç”¨ catalogConfigMap() è·å–é…ç½®</h5>
<pre><code class="hljs language-java" lang="java">Map&lt;String, String&gt; catalogConfig = catalogConfigMap(params);
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•ä¼šï¼š</p>
<ol>
<li>è§£ææ‰€æœ‰ <code>--catalog_conf key=value</code> å‚æ•°</li>
<li>è‡ªåŠ¨æ·»åŠ  <code>--warehouse</code> å‚æ•°åˆ°é…ç½®ä¸­</li>
<li>è¿”å›å®Œæ•´çš„ Catalog é…ç½® Map</li>
</ol>
<h5 data-id="heading-52">7.2.2 é¢å¤–çš„ Catalog é…ç½®</h5>
<p>ç”¨æˆ·å¯ä»¥é€šè¿‡ <code>--catalog_conf</code> ä¼ é€’é¢å¤–é…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">vacuum_table \
    --warehouse hdfs:///warehouse \
    --database mydb \
    --table mytable \
    --catalog_conf metastore=hive \
    --catalog_conf uri=thrift://localhost:9083
</code></pre>
<h4 data-id="heading-53">7.3 LocalAction vs æ™®é€š Action</h4>
<h5 data-id="heading-54">7.3.1 é€‰æ‹© LocalAction</h5>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>è½»é‡çº§æ“ä½œï¼Œä¸éœ€è¦åˆ†å¸ƒå¼è®¡ç®—</li>
<li>å•è¡¨æ“ä½œï¼Œæ•°æ®é‡ä¸å¤§</li>
<li>ä¸»è¦æ˜¯å…ƒæ•°æ®æ“ä½œï¼ˆå¦‚åˆ›å»ºæ ‡ç­¾ã€å›æ»šï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ActionBase</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">LocalAction</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeLocally</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// ç›´æ¥åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ</span>
    }
}
</code></pre>
<h5 data-id="heading-55">7.3.2 é€‰æ‹©æ™®é€š Action</h5>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>éœ€è¦åˆ†å¸ƒå¼å¤„ç†å¤§é‡æ•°æ®</li>
<li>éœ€è¦æ„å»º Flink ä½œä¸šå›¾ï¼ˆSourceã€Transformã€Sinkï¼‰</li>
<li>æ¶‰åŠæ•°æ®è¯»å†™å’Œè®¡ç®—</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CompactAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ActionBase</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">build</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ„å»º Flink ä½œä¸šå›¾</span>
        DataStream&lt;RowData&gt; source = ...;
        source.transform(...).sinkTo(...);
    }
}
</code></pre>
<h5 data-id="heading-56">7.3.3 å¼ºåˆ¶ Flink ä½œä¸šæ¨¡å¼</h5>
<p>å³ä½¿æ˜¯ LocalActionï¼Œä¹Ÿå¯ä»¥å¼ºåˆ¶åœ¨ Flink ä½œä¸šä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">vacuum_table \
    --warehouse hdfs:///warehouse \
    --database mydb \
    --table mytable \
    --force_start_flink_job <span class="hljs-literal">true</span>
</code></pre>
<h4 data-id="heading-57">7.4 é”™è¯¯å¤„ç†</h4>
<h5 data-id="heading-58">7.4.1 åœ¨ Factory ä¸­å¤„ç†é”™è¯¯</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Optional&lt;Action&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(MultipleParameterToolAdapter params)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å‚æ•°è§£æå’ŒéªŒè¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">database</span> <span class="hljs-operator">=</span> params.getRequired(DATABASE);
        <span class="hljs-type">Integer</span> <span class="hljs-variable">retainDays</span> <span class="hljs-operator">=</span> Integer.parseInt(params.get(RETAIN_DAYS));
        
        <span class="hljs-keyword">return</span> Optional.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyAction</span>(...));
    } <span class="hljs-keyword">catch</span> (NumberFormatException e) {
        System.err.println(<span class="hljs-string">"Invalid number format for retain_days: "</span> + e.getMessage());
        <span class="hljs-keyword">return</span> Optional.empty();
    } <span class="hljs-keyword">catch</span> (Exception e) {
        System.err.println(<span class="hljs-string">"Failed to create action: "</span> + e.getMessage());
        <span class="hljs-keyword">return</span> Optional.empty();
    }
}
</code></pre>
<h5 data-id="heading-59">7.4.2 åœ¨ Action ä¸­å¤„ç†é”™è¯¯</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeLocally</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// æ‰§è¡Œæ“ä½œ</span>
        <span class="hljs-type">Table</span> <span class="hljs-variable">table</span> <span class="hljs-operator">=</span> catalog.getTable(Identifier.create(database, table));
        <span class="hljs-comment">// ...</span>
    } <span class="hljs-keyword">catch</span> (Catalog.TableNotExistException e) {
        System.err.println(<span class="hljs-string">"Table not found: "</span> + database + <span class="hljs-string">"."</span> + table);
        <span class="hljs-keyword">throw</span> e;
    } <span class="hljs-keyword">catch</span> (Exception e) {
        System.err.println(<span class="hljs-string">"Execution failed: "</span> + e.getMessage());
        <span class="hljs-keyword">throw</span> e;
    }
}
</code></pre>
<h4 data-id="heading-60">7.5 å¸®åŠ©ä¿¡æ¯</h4>
<p>æä¾›è¯¦ç»†çš„å¸®åŠ©ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>Action çš„åŠŸèƒ½æè¿°</li>
<li>å®Œæ•´çš„è¯­æ³•ç¤ºä¾‹</li>
<li>æ¯ä¸ªå‚æ•°çš„è¯´æ˜</li>
<li>å®é™…ä½¿ç”¨ç¤ºä¾‹</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printHelp</span><span class="hljs-params">()</span> {
    System.out.println(<span class="hljs-string">"Action \"my_action\" does something useful."</span>);
    System.out.println();
    
    System.out.println(<span class="hljs-string">"Syntax:"</span>);
    System.out.println(<span class="hljs-string">"  my_action \\"</span>);
    System.out.println(<span class="hljs-string">"    --warehouse &lt;warehouse_path&gt; \\"</span>);
    System.out.println(<span class="hljs-string">"    --database &lt;database&gt; \\"</span>);
    System.out.println(<span class="hljs-string">"    --table &lt;table&gt; \\"</span>);
    System.out.println(<span class="hljs-string">"    [--param1 &lt;value&gt;] \\"</span>);
    System.out.println(<span class="hljs-string">"    [--param2 &lt;value&gt;]"</span>);
    System.out.println();
    
    System.out.println(<span class="hljs-string">"Parameters:"</span>);
    System.out.println(<span class="hljs-string">"  --warehouse  : (Required) Path to the data warehouse"</span>);
    System.out.println(<span class="hljs-string">"  --database   : (Required) Database name"</span>);
    System.out.println(<span class="hljs-string">"  --table      : (Required) Table name"</span>);
    System.out.println(<span class="hljs-string">"  --param1     : (Optional) Description of param1"</span>);
    System.out.println(<span class="hljs-string">"  --param2     : (Optional) Description of param2"</span>);
    System.out.println();
    
    System.out.println(<span class="hljs-string">"Examples:"</span>);
    System.out.println(<span class="hljs-string">"  # Basic usage"</span>);
    System.out.println(<span class="hljs-string">"  my_action --warehouse /path/to/warehouse --database db --table tbl"</span>);
    System.out.println();
    System.out.println(<span class="hljs-string">"  # With optional parameters"</span>);
    System.out.println(<span class="hljs-string">"  my_action --warehouse /path/to/warehouse --database db --table tbl \\"</span>);
    System.out.println(<span class="hljs-string">"    --param1 value1 --param2 value2"</span>);
}
</code></pre>
<h4 data-id="heading-61">7.6 åºåˆ—åŒ–</h4>
<h5 data-id="heading-62">7.6.1 Action å¿…é¡»å¯åºåˆ—åŒ–</h5>
<p>å¦‚æœ LocalAction ä½¿ç”¨å¼ºåˆ¶ Flink ä½œä¸šæ¨¡å¼ï¼ŒAction å¯¹è±¡ä¼šè¢«åºåˆ—åŒ–å‘é€åˆ° TaskManagerï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ActionBase</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">LocalAction</span>, Serializable {
    <span class="hljs-comment">// æ‰€æœ‰å­—æ®µå¿…é¡»å¯åºåˆ—åŒ–</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String database;  <span class="hljs-comment">// OK</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer retainDays;  <span class="hljs-comment">// OK</span>
    
    <span class="hljs-comment">// ä¸å¯åºåˆ—åŒ–çš„å­—æ®µå¿…é¡»æ ‡è®°ä¸º transient</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> Catalog catalog;  <span class="hljs-comment">// OKï¼Œç”± ActionBase ç®¡ç†</span>
}
</code></pre>
<h5 data-id="heading-63">7.6.2 ä½¿ç”¨ transient å­—æ®µ</h5>
<p>å¯¹äºä¸å¯åºåˆ—åŒ–çš„å­—æ®µï¼ˆå¦‚ Catalogã€FileIOï¼‰ï¼Œæ ‡è®°ä¸º <code>transient</code> å¹¶åœ¨è¿è¡Œæ—¶é‡æ–°åˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ActionBase</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">LocalAction</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> MyHelper helper;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeLocally</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// åœ¨æ‰§è¡Œæ—¶åˆå§‹åŒ–</span>
        <span class="hljs-keyword">if</span> (helper == <span class="hljs-literal">null</span>) {
            helper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyHelper</span>(catalog);
        }
        helper.doSomething();
    }
}
</code></pre>
<h4 data-id="heading-64">7.7 æ—¥å¿—è®°å½•</h4>
<p>ä½¿ç”¨ SLF4J è®°å½•å…³é”®æ“ä½œï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ActionBase</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">LocalAction</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">LOG</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(MyAction.class);
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeLocally</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        LOG.info(<span class="hljs-string">"Starting my action for table: {}.{}"</span>, database, table);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰§è¡Œæ“ä½œ</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> doSomething();
            LOG.info(<span class="hljs-string">"Action completed successfully, result: {}"</span>, result);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            LOG.error(<span class="hljs-string">"Action failed"</span>, e);
            <span class="hljs-keyword">throw</span> e;
        }
    }
}
</code></pre>
<h4 data-id="heading-65">7.8 æ€§èƒ½ä¼˜åŒ–</h4>
<h5 data-id="heading-66">7.8.1 é¿å…é‡å¤åŠ è½½</h5>
<p>ç¼“å­˜é‡å¤ä½¿ç”¨çš„å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> Table tableCache;

<span class="hljs-keyword">private</span> Table <span class="hljs-title function_">getTable</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-keyword">if</span> (tableCache == <span class="hljs-literal">null</span>) {
        tableCache = catalog.getTable(Identifier.create(database, table));
    }
    <span class="hljs-keyword">return</span> tableCache;
}
</code></pre>
<h5 data-id="heading-67">7.8.2 æ‰¹é‡æ“ä½œ</h5>
<p>å¯¹äºéœ€è¦å¤„ç†å¤šä¸ªè¡¨çš„ Actionï¼Œä½¿ç”¨æ‰¹é‡ APIï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸å¥½ï¼šé€ä¸ªå¤„ç†</span>
<span class="hljs-keyword">for</span> (String tableName : tables) {
    <span class="hljs-type">Table</span> <span class="hljs-variable">table</span> <span class="hljs-operator">=</span> catalog.getTable(Identifier.create(database, tableName));
    processTable(table);
}

<span class="hljs-comment">// æ›´å¥½ï¼šæ‰¹é‡åŠ è½½</span>
List&lt;Identifier&gt; identifiers = tables.stream()
    .map(t -&gt; Identifier.create(database, t))
    .collect(Collectors.toList());
List&lt;Table&gt; tables = catalog.getTables(identifiers);
tables.forEach(<span class="hljs-built_in">this</span>::processTable);
</code></pre>
<h4 data-id="heading-68">7.9 å…¼å®¹æ€§</h4>
<h5 data-id="heading-69">7.9.1 å‘åå…¼å®¹</h5>
<p>æ·»åŠ æ–°å‚æ•°æ—¶ï¼Œæä¾›é»˜è®¤å€¼ä»¥ä¿æŒå‘åå…¼å®¹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–°å¢å‚æ•°</span>
<span class="hljs-type">Integer</span> <span class="hljs-variable">newParam</span> <span class="hljs-operator">=</span> params.has(NEW_PARAM) 
    ? Integer.parseInt(params.get(NEW_PARAM)) 
    : DEFAULT_VALUE;  <span class="hljs-comment">// é»˜è®¤å€¼ç¡®ä¿å‘åå…¼å®¹</span>
</code></pre>
<h5 data-id="heading-70">7.9.2 åºŸå¼ƒå‚æ•°</h5>
<p>å¦‚æœéœ€è¦åºŸå¼ƒæŸä¸ªå‚æ•°ï¼Œå…ˆæ ‡è®°ä¸º deprecatedï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Deprecated</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">OLD_PARAM</span> <span class="hljs-operator">=</span> <span class="hljs-string">"old_param"</span>;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">NEW_PARAM</span> <span class="hljs-operator">=</span> <span class="hljs-string">"new_param"</span>;

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Optional&lt;Action&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(MultipleParameterToolAdapter params)</span> {
    String value;
    <span class="hljs-keyword">if</span> (params.has(NEW_PARAM)) {
        value = params.get(NEW_PARAM);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (params.has(OLD_PARAM)) {
        System.err.println(<span class="hljs-string">"Warning: --old_param is deprecated, use --new_param instead"</span>);
        value = params.get(OLD_PARAM);
    } <span class="hljs-keyword">else</span> {
        value = DEFAULT_VALUE;
    }
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-71">8. æ€»ç»“</h3>
<h4 data-id="heading-72">8.1 Paimon Action Jar çš„æ ¸å¿ƒè®¾è®¡</h4>
<p>Paimon Action Jar é€šè¿‡ä»¥ä¸‹æœºåˆ¶å®ç°äº†çµæ´»ã€å¯æ‰©å±•çš„è¡¨ç»´æŠ¤æ“ä½œæ¡†æ¶ï¼š</p>
<h5 data-id="heading-73">8.1.1 æ¨¡å—éš”ç¦»</h5>
<ul>
<li><strong>ç‹¬ç«‹çš„å…¥å£æ¨¡å—</strong>ï¼š<code>paimon-flink-action</code> åªåŒ…å«å…¥å£ç±»ï¼Œé¿å…ç±»åŠ è½½å†²çª</li>
<li><strong>å®ç°æ¨¡å—åˆ†ç¦»</strong>ï¼šæ‰€æœ‰å®ç°éƒ½åœ¨ <code>paimon-flink-common</code> ä¸­</li>
</ul>
<h5 data-id="heading-74">8.1.2 SPI æ‰©å±•æœºåˆ¶</h5>
<ul>
<li>åŸºäº Java SPI çš„æ’ä»¶åŒ–æ¶æ„</li>
<li>é€šè¿‡ <code>META-INF/services</code> æ–‡ä»¶æ³¨å†Œ Factory</li>
<li><code>FactoryUtil.discoverFactory()</code> åŠ¨æ€åŠ è½½å®ç°</li>
</ul>
<h5 data-id="heading-75">8.1.3 åˆ†å±‚è®¾è®¡</h5>
<p>æ¸…æ™°çš„èŒè´£åˆ†å±‚ï¼š</p>
<ol>
<li><strong>Factory å±‚</strong>ï¼šå‚æ•°è§£æã€éªŒè¯ã€Action åˆ›å»º</li>
<li><strong>Action å±‚</strong>ï¼šæ‰§è¡Œè°ƒåº¦ã€æ¨¡å¼é€‰æ‹©ï¼ˆæœ¬åœ° vs Flink ä½œä¸šï¼‰</li>
<li><strong>Procedure å±‚</strong>ï¼šä¸šåŠ¡é€»è¾‘å°è£…ï¼ˆå¤ç”¨ Flink SQL CALLï¼‰</li>
<li><strong>Core å±‚</strong>ï¼šæ ¸å¿ƒå®ç°ï¼ˆå¦‚ ExpireSnapshotsImplï¼‰</li>
</ol>
<pre><code class="hljs language-scss" lang="scss">FlinkActions<span class="hljs-selector-class">.main</span>()
    â†“
ActionFactory<span class="hljs-selector-class">.createAction</span>()
    â†“ (SPI åŠ è½½)
ExpireSnapshotsActionFactory<span class="hljs-selector-class">.create</span>()
    â†“
ExpireSnapshotsAction<span class="hljs-selector-class">.run</span>()
    â†“ (LocalAction)
ExpireSnapshotsAction<span class="hljs-selector-class">.executeLocally</span>()
    â†“
ExpireSnapshotsProcedure<span class="hljs-selector-class">.call</span>()
    â†“
ExpireSnapshotsImpl<span class="hljs-selector-class">.expire</span>()
</code></pre>
<h5 data-id="heading-76">8.1.4 çµæ´»çš„æ‰§è¡Œæ¨¡å¼</h5>
<ul>
<li><strong>LocalAction</strong>ï¼šè½»é‡æ“ä½œæœ¬åœ°æ‰§è¡Œï¼Œå¿«é€Ÿé«˜æ•ˆ</li>
<li><strong>æ™®é€š Action</strong>ï¼šæ„å»º Flink ä½œä¸šï¼Œåˆ†å¸ƒå¼å¤„ç†</li>
<li><strong>å¼ºåˆ¶æ¨¡å¼</strong>ï¼šLocalAction ä¹Ÿå¯å¼ºåˆ¶ä½¿ç”¨ Flink ä½œä¸š</li>
</ul>
<h5 data-id="heading-77">8.1.5 ç»Ÿä¸€çš„æ¥å£è§„èŒƒ</h5>
<p>æ‰€æœ‰ Action éµå¾ªç»Ÿä¸€æ¥å£ï¼š</p>
<ul>
<li><code>Action.run()</code> - æ‰§è¡Œå…¥å£</li>
<li><code>Action.build()</code> - æ„å»ºä½œä¸šå›¾ï¼ˆå¯é€‰ï¼‰</li>
<li><code>LocalAction.executeLocally()</code> - æœ¬åœ°æ‰§è¡Œï¼ˆå¯é€‰ï¼‰</li>
</ul>
<h4 data-id="heading-78">8.2 å®ç°è‡ªå®šä¹‰ Action çš„å…³é”®ç‚¹</h4>
<ol>
<li>
<p><strong>ç»§æ‰¿æ­£ç¡®çš„åŸºç±»</strong>ï¼š</p>
<ul>
<li>ç®€å•æ“ä½œï¼š<code>extends ActionBase implements LocalAction</code></li>
<li>å¤æ‚ä½œä¸šï¼š<code>extends ActionBase</code></li>
</ul>
</li>
<li>
<p><strong>å®ç° Factory</strong>ï¼š</p>
<ul>
<li>å®šä¹‰å”¯ä¸€çš„ identifier</li>
<li>è§£æå’ŒéªŒè¯å‚æ•°</li>
<li>æä¾›è¯¦ç»†çš„å¸®åŠ©ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>æ³¨å†Œåˆ° SPI</strong>ï¼š</p>
<ul>
<li>åœ¨ <code>META-INF/services/org.apache.paimon.factories.Factory</code> ä¸­æ³¨å†Œ</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†å¥½åºåˆ—åŒ–</strong>ï¼š</p>
<ul>
<li>Action ç±»å¿…é¡»å®ç° Serializable</li>
<li>ä¸å¯åºåˆ—åŒ–çš„å­—æ®µæ ‡è®°ä¸º transient</li>
</ul>
</li>
<li>
<p><strong>é”™è¯¯å¤„ç†å’Œæ—¥å¿—</strong>ï¼š</p>
<ul>
<li>æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</li>
<li>è®°å½•å…³é”®æ“ä½œæ—¥å¿—</li>
</ul>
</li>
</ol>
<h4 data-id="heading-79">8.3 ExpireSnapshotsAction çš„å®ç°è¦ç‚¹</h4>
<h5 data-id="heading-80">8.3.1 å¤šå±‚ä¿æŠ¤æœºåˆ¶</h5>
<ul>
<li><code>retain_min</code>ï¼šç¡®ä¿æœ€å°‘ä¿ç•™æ•°é‡</li>
<li><code>retain_max</code>ï¼šé™åˆ¶æœ€å¤šä¿ç•™æ•°é‡</li>
<li><code>older_than</code>ï¼šæ—¶é—´æ¡ä»¶è¿‡æ»¤</li>
<li><code>max_deletes</code>ï¼šå•æ¬¡åˆ é™¤é™åˆ¶</li>
<li>Consumer ä¿æŠ¤ï¼šè‡ªåŠ¨æ£€æµ‹æ¶ˆè´¹è€…</li>
<li>Tag ä¿æŠ¤ï¼šä¿æŠ¤è¢«æ ‡è®°çš„å¿«ç…§</li>
</ul>
<h5 data-id="heading-81">8.3.2 åˆ†é˜¶æ®µåˆ é™¤</h5>
<ol>
<li>åˆ é™¤æ•°æ®æ–‡ä»¶ï¼ˆåˆå¹¶æ ‘æ–‡ä»¶ï¼‰</li>
<li>åˆ é™¤ Manifest æ–‡ä»¶</li>
<li>åˆ é™¤å¿«ç…§æ–‡ä»¶æœ¬èº«</li>
<li>æ›´æ–° earliest hint</li>
</ol>
<h5 data-id="heading-82">8.3.3 æ€§èƒ½ä¼˜åŒ–</h5>
<ul>
<li>æå‰é€€å‡ºï¼šæ»¡è¶³æ—¶é—´æ¡ä»¶æ—¶ç«‹å³åœæ­¢</li>
<li>æ‰¹é‡æ“ä½œï¼šé¿å…é€ä¸ªæ–‡ä»¶åˆ é™¤</li>
<li>å¼‚æ­¥æ¨¡å¼ï¼šæ”¯æŒå¼‚æ­¥è¿‡æœŸï¼ˆé¿å…åå‹ï¼‰</li>
</ul>
<h4 data-id="heading-83">8.4 é€‚ç”¨åœºæ™¯</h4>

























<table><thead><tr><th>Action ç±»å‹</th><th>é€‚ç”¨åœºæ™¯</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>LocalAction</td><td>è½»é‡ç»´æŠ¤æ“ä½œ</td><td>expire_snapshots, rollback_to, create_tag</td></tr><tr><td>æ™®é€š Action</td><td>åˆ†å¸ƒå¼è®¡ç®—</td><td>compact, merge_into, clone</td></tr><tr><td>æ··åˆæ¨¡å¼</td><td>å¯é€‰æ‰§è¡Œæ–¹å¼</td><td>ä½¿ç”¨ --force_start_flink_job åˆ‡æ¢</td></tr></tbody></table>
<h4 data-id="heading-84">8.5 æ‰©å±•å»ºè®®</h4>
<p>åŸºäº Paimon Action æ¡†æ¶ï¼Œå¯ä»¥æ‰©å±•å®ç°ï¼š</p>
<ol>
<li><strong>æ•°æ®è´¨é‡æ£€æŸ¥ Action</strong>ï¼šæ£€æŸ¥è¡¨æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§</li>
<li><strong>æ•°æ®å¤‡ä»½ Action</strong>ï¼šå¤‡ä»½è¡¨çš„å¿«ç…§åˆ°å¤–éƒ¨å­˜å‚¨</li>
<li><strong>æ•°æ®è¿ç§» Action</strong>ï¼šåœ¨ä¸åŒ Catalog ä¹‹é—´è¿ç§»è¡¨</li>
<li><strong>ç»Ÿè®¡ä¿¡æ¯æ”¶é›† Action</strong>ï¼šæ”¶é›†è¡¨çš„ç»Ÿè®¡ä¿¡æ¯ç”¨äºæŸ¥è¯¢ä¼˜åŒ–</li>
<li><strong>æ•°æ®é‡‡æ · Action</strong>ï¼šä»å¤§è¡¨ä¸­é‡‡æ ·æ•°æ®ç”¨äºåˆ†æ</li>
</ol>
<h4 data-id="heading-85">8.6 å‚è€ƒèµ„æº</h4>
<ul>
<li>
<p><strong>æºç ä½ç½®</strong>ï¼š</p>
<ul>
<li>å…¥å£ï¼š<code>paimon-flink/paimon-flink-action/src/main/java/org/apache/paimon/flink/action/FlinkActions.java</code></li>
<li>Action å®ç°ï¼š<code>paimon-flink/paimon-flink-common/src/main/java/org/apache/paimon/flink/action/</code></li>
<li>SPI é…ç½®ï¼š<code>paimon-flink/paimon-flink-common/src/main/resources/META-INF/services/</code></li>
</ul>
</li>
<li>
<p><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpaimon.apache.org%2Fdocs%2Fmaster%2Fflink%2Faction-jars%2F" target="_blank" title="https://paimon.apache.org/docs/master/flink/action-jars/" ref="nofollow noopener noreferrer">Flink Action Jars</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpaimon.apache.org%2Fdocs%2Fmaster%2Fmaintenance%2Fmanage-snapshots%2F" target="_blank" title="https://paimon.apache.org/docs/master/maintenance/manage-snapshots/" ref="nofollow noopener noreferrer">Maintenance</a></li>
</ul>
</li>
<li>
<p><strong>ç›¸å…³ Procedure</strong>ï¼š</p>
<ul>
<li>Action å’Œ Procedure å…±äº«ç›¸åŒçš„ä¸šåŠ¡é€»è¾‘</li>
<li>Procedure ç”¨äº Flink SQL <code>CALL</code> è¯­å¥</li>
<li>Action ç”¨äºå‘½ä»¤è¡Œ <code>flink run</code> æ‰§è¡Œ</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-86">é™„å½•</h3>
<h4 data-id="heading-87">A. å®Œæ•´çš„å‘½ä»¤è¡Œç¤ºä¾‹</h4>
<h5 data-id="heading-88">A.1 è¿‡æœŸå¿«ç…§</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºæœ¬ç”¨æ³•ï¼šä¿ç•™æœ€è¿‘ 10 ä¸ªå¿«ç…§</span>
&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    expire_snapshots \
    --warehouse hdfs:///warehouse \
    --database my_database \
    --table my_table \
    --retain_max 10

<span class="hljs-comment"># é«˜çº§ç”¨æ³•ï¼šç»„åˆå¤šä¸ªæ¡ä»¶</span>
&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    expire_snapshots \
    --warehouse hdfs:///warehouse \
    --database my_database \
    --table my_table \
    --retain_max 100 \
    --retain_min 10 \
    --older_than <span class="hljs-string">'2024-01-01 00:00:00'</span> \
    --max_deletes 50
</code></pre>
<h5 data-id="heading-89">A.2 è¡¨å‹ç¼©</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‹ç¼©æ•´ä¸ªè¡¨</span>
&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    compact \
    --warehouse hdfs:///warehouse \
    --database my_database \
    --table my_table

<span class="hljs-comment"># å‹ç¼©æŒ‡å®šåˆ†åŒº</span>
&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    compact \
    --warehouse hdfs:///warehouse \
    --database my_database \
    --table my_table \
    --partition dt=2024-01-01 \
    --partition dt=2024-01-02
</code></pre>
<h5 data-id="heading-90">A.3 åˆ é™¤å­¤ç«‹æ–‡ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash">&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar \
    remove_orphan_files \
    --warehouse hdfs:///warehouse \
    --database my_database \
    --table my_table \
    --older_than <span class="hljs-string">'2024-01-01 00:00:00'</span>
</code></pre>
<h5 data-id="heading-91">A.4 æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ Action</h5>
<pre><code class="hljs language-bash" lang="bash">&lt;FLINK_HOME&gt;/bin/flink run \
    /path/to/paimon-flink-action.jar
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Usage: <span class="hljs-operator">&lt;</span>action<span class="hljs-operator">&gt;</span> [OPTIONS]

Available actions:
  compact
  compact_database
  copy_files
  create_branch
  create_tag
  create_tag_from_timestamp
  create_tag_from_watermark
  delete_branch
  delete_tag
  drop_partition
  expire_changelogs
  expire_partitions
  expire_snapshots
  expire_tags
  fast_forward
  mark_partition_done
  merge_into
  migrate_database
  migrate_table
  remove_orphan_files
  repair
  replace_tag
  reset_consumer
  rewrite_file_index
  rollback_to
  rollback_to_timestamp
  ...

<span class="hljs-keyword">For</span> detailed options <span class="hljs-keyword">of</span> <span class="hljs-keyword">each</span> action, run <span class="hljs-operator">&lt;</span>action<span class="hljs-operator">&gt;</span> <span class="hljs-comment">--help</span>
</code></pre>
<h4 data-id="heading-92">B. å¸¸è§é—®é¢˜</h4>
<h5 data-id="heading-93">B.1 ClassNotFoundException</h5>
<p><strong>é—®é¢˜</strong>ï¼šæ‰§è¡Œ Action æ—¶æŠ¥ <code>ClassNotFoundException</code></p>
<p><strong>åŸå› </strong>ï¼šè‡ªå®šä¹‰ Action çš„ JAR æ²¡æœ‰æ”¾åˆ° Flink lib ç›®å½•</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cp</span> my-custom-action.jar <span class="hljs-variable">$FLINK_HOME</span>/lib/
</code></pre>
<h5 data-id="heading-94">B.2 SPI æœªç”Ÿæ•ˆ</h5>
<p><strong>é—®é¢˜</strong>ï¼šè‡ªå®šä¹‰ Action æœªè¢«è¯†åˆ«</p>
<p><strong>åŸå› </strong>ï¼šSPI é…ç½®æ–‡ä»¶è·¯å¾„æˆ–æ ¼å¼é”™è¯¯</p>
<p><strong>æ£€æŸ¥</strong>ï¼š</p>
<ol>
<li>æ–‡ä»¶è·¯å¾„ï¼š<code>src/main/resources/META-INF/services/org.apache.paimon.factories.Factory</code></li>
<li>æ–‡ä»¶å†…å®¹ï¼šå®Œæ•´çš„ç±»åï¼Œæ¯è¡Œä¸€ä¸ª</li>
<li>Maven é…ç½®ï¼šä½¿ç”¨ ServicesResourceTransformer åˆå¹¶ SPI æ–‡ä»¶</li>
</ol>
<h5 data-id="heading-95">B.3 å‚æ•°è§£æé”™è¯¯</h5>
<p><strong>é—®é¢˜</strong>ï¼šå‚æ•°ä¼ é€’åæ— æ•ˆ</p>
<p><strong>åŸå› </strong>ï¼šå‚æ•°åç§°é”™è¯¯æˆ–æ ¼å¼ä¸æ­£ç¡®</p>
<p><strong>æ£€æŸ¥</strong>ï¼š</p>
<ol>
<li>å‚æ•°åä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ<code>retain_max</code>ï¼‰ï¼Œä¸æ˜¯é©¼å³°ï¼ˆ<code>retainMax</code>ï¼‰</li>
<li>å‚æ•°å€¼æ ¼å¼æ­£ç¡®ï¼ˆæ•°å­—ã€æ—¶é—´æˆ³ç­‰ï¼‰</li>
<li>ä½¿ç”¨ <code>--help</code> æŸ¥çœ‹æ­£ç¡®çš„å‚æ•°åç§°</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Go 1.18+ slice æ‰©å®¹æœºåˆ¶è¯¦è§£]]></title>    <link>https://juejin.cn/post/7594396779022909503</link>    <guid>https://juejin.cn/post/7594396779022909503</guid>    <pubDate>2026-01-12T12:58:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594396779022909503" data-draft-id="7594266018304753727" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Go 1.18+ slice æ‰©å®¹æœºåˆ¶è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T12:58:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="fliter"/> <meta itemprop="url" content="https://juejin.cn/user/888061123628509"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Go 1.18+ slice æ‰©å®¹æœºåˆ¶è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/888061123628509/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    fliter
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T12:58:06.000Z" title="Mon Jan 12 2026 12:58:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é›¶ã€Go 1.18 ä¹‹å‰çš„æ‰©å®¹ç­–ç•¥</h2>
<p>å°äº 1024ï¼Œç›´æ¥ç¿»å€</p>
<p>å¤§äºç­‰äº 1024ï¼Œæ¯æ¬¡å¢é•¿ 1.25 å€</p>
<h2 data-id="heading-1">ä¸€ã€Go 1.18+ çš„æ‰©å®¹ç­–ç•¥å˜åŒ–</h2>
<h3 data-id="heading-2">1. æ ¸å¿ƒæ”¹è¿›ç‚¹</h3>
<p>Go 1.18 åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgolang%2Fgo%2Fcommit%2F2dda92ff6f9f07eeb110ecbf0fc2d7a0ddd27f9d" target="_blank" title="https://github.com/golang/go/commit/2dda92ff6f9f07eeb110ecbf0fc2d7a0ddd27f9d" ref="nofollow noopener noreferrer">commit 2dda92ff</a> ä¸­ä¼˜åŒ–äº†æ‰©å®¹ç­–ç•¥ï¼š</p>
<p><strong>ä¸»è¦å˜åŒ–ï¼š</strong></p>
<ul>
<li>é˜ˆå€¼ä» <strong>1024 é™ä½åˆ° 256</strong></li>
<li>å¢é•¿å…¬å¼æ›´åŠ <strong>å¹³æ»‘</strong>, é¿å…äº†ä» 2x åˆ° 1.25x çš„<strong>çªå˜</strong></li>
</ul>
<br/>
<h3 data-id="heading-3">2. Go 1.18+ æ‰©å®¹æºç åˆ†æ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// runtime/slice.go</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">growslice</span><span class="hljs-params">(et *_type, old slice, <span class="hljs-built_in">cap</span> <span class="hljs-type">int</span>)</span></span> slice {
    <span class="hljs-comment">// ... çœç•¥ä¸€äº›æ£€æŸ¥ä»£ç </span>
    
    newcap := old.<span class="hljs-built_in">cap</span>
    doublecap := newcap + newcap
    
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">cap</span> &gt; doublecap {
        <span class="hljs-comment">// éœ€è¦çš„å®¹é‡è¶…è¿‡ä¸¤å€ï¼Œç›´æ¥ä½¿ç”¨éœ€è¦çš„å®¹é‡</span>
        newcap = <span class="hljs-built_in">cap</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">const</span> threshold = <span class="hljs-number">256</span>
        
        <span class="hljs-keyword">if</span> old.<span class="hljs-built_in">cap</span> &lt; threshold {
            <span class="hljs-comment">// å°äº 256ï¼Œç›´æ¥ç¿»å€</span>
            newcap = doublecap
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¤§äºç­‰äº 256ï¼Œä½¿ç”¨å¹³æ»‘å¢é•¿å…¬å¼</span>
            <span class="hljs-comment">// å…¬å¼ï¼šnewcap += (newcap + 3*threshold) / 4</span>
            <span class="hljs-keyword">for</span> <span class="hljs-number">0</span> &lt; newcap &amp;&amp; newcap &lt; <span class="hljs-built_in">cap</span> {
                newcap += (newcap + <span class="hljs-number">3</span>*threshold) / <span class="hljs-number">4</span>
            }
            
            <span class="hljs-comment">// å¤„ç†æº¢å‡ºæƒ…å†µ</span>
            <span class="hljs-keyword">if</span> newcap &lt;= <span class="hljs-number">0</span> {
                newcap = <span class="hljs-built_in">cap</span>
            }
        }
    }
    
    <span class="hljs-comment">// å†…å­˜å¯¹é½å¤„ç†</span>
    <span class="hljs-keyword">var</span> overflow <span class="hljs-type">bool</span>
    <span class="hljs-keyword">var</span> lenmem, newlenmem, capmem <span class="hljs-type">uintptr</span>
    
    <span class="hljs-keyword">switch</span> {
    <span class="hljs-keyword">case</span> et.size == <span class="hljs-number">1</span>:
        lenmem = <span class="hljs-type">uintptr</span>(old.<span class="hljs-built_in">len</span>)
        newlenmem = <span class="hljs-type">uintptr</span>(<span class="hljs-built_in">cap</span>)
        capmem = roundupsize(<span class="hljs-type">uintptr</span>(newcap))
        overflow = <span class="hljs-type">uintptr</span>(newcap) &gt; maxAlloc
        newcap = <span class="hljs-type">int</span>(capmem)
        
    <span class="hljs-keyword">case</span> et.size == goarch.PtrSize:
        lenmem = <span class="hljs-type">uintptr</span>(old.<span class="hljs-built_in">len</span>) * goarch.PtrSize
        newlenmem = <span class="hljs-type">uintptr</span>(<span class="hljs-built_in">cap</span>) * goarch.PtrSize
        capmem = roundupsize(<span class="hljs-type">uintptr</span>(newcap) * goarch.PtrSize)
        overflow = <span class="hljs-type">uintptr</span>(newcap) &gt; maxAlloc/goarch.PtrSize
        newcap = <span class="hljs-type">int</span>(capmem / goarch.PtrSize)
        
    <span class="hljs-keyword">case</span> isPowerOfTwo(et.size):
        <span class="hljs-comment">// å…ƒç´ å¤§å°æ˜¯ 2 çš„å¹‚æ¬¡</span>
        <span class="hljs-keyword">var</span> shift <span class="hljs-type">uintptr</span>
        <span class="hljs-keyword">if</span> goarch.PtrSize == <span class="hljs-number">8</span> {
            shift = <span class="hljs-type">uintptr</span>(sys.Ctz64(<span class="hljs-type">uint64</span>(et.size))) &amp; <span class="hljs-number">63</span>
        } <span class="hljs-keyword">else</span> {
            shift = <span class="hljs-type">uintptr</span>(sys.Ctz32(<span class="hljs-type">uint32</span>(et.size))) &amp; <span class="hljs-number">31</span>
        }
        lenmem = <span class="hljs-type">uintptr</span>(old.<span class="hljs-built_in">len</span>) &lt;&lt; shift
        newlenmem = <span class="hljs-type">uintptr</span>(<span class="hljs-built_in">cap</span>) &lt;&lt; shift
        capmem = roundupsize(<span class="hljs-type">uintptr</span>(newcap) &lt;&lt; shift)
        overflow = <span class="hljs-type">uintptr</span>(newcap) &gt; (maxAlloc &gt;&gt; shift)
        newcap = <span class="hljs-type">int</span>(capmem &gt;&gt; shift)
        
    <span class="hljs-keyword">default</span>:
        lenmem = <span class="hljs-type">uintptr</span>(old.<span class="hljs-built_in">len</span>) * et.size
        newlenmem = <span class="hljs-type">uintptr</span>(<span class="hljs-built_in">cap</span>) * et.size
        capmem, overflow = math.MulUintptr(et.size, <span class="hljs-type">uintptr</span>(newcap))
        capmem = roundupsize(capmem)
        newcap = <span class="hljs-type">int</span>(capmem / et.size)
    }
    
    <span class="hljs-comment">// åˆ†é…æ–°å†…å­˜å¹¶æ‹·è´æ•°æ®</span>
    <span class="hljs-keyword">var</span> p unsafe.Pointer
    <span class="hljs-keyword">if</span> et.ptrdata == <span class="hljs-number">0</span> {
        p = mallocgc(capmem, <span class="hljs-literal">nil</span>, <span class="hljs-literal">false</span>)
        memclrNoHeapPointers(add(p, newlenmem), capmem-newlenmem)
    } <span class="hljs-keyword">else</span> {
        p = mallocgc(capmem, et, <span class="hljs-literal">true</span>)
        <span class="hljs-keyword">if</span> lenmem &gt; <span class="hljs-number">0</span> &amp;&amp; writeBarrier.enabled {
            bulkBarrierPreWriteSrcOnly(<span class="hljs-type">uintptr</span>(p), <span class="hljs-type">uintptr</span>(old.array), lenmem-et.size+et.ptrdata)
        }
    }
    memmove(p, old.array, lenmem)
    
    <span class="hljs-keyword">return</span> slice{p, old.<span class="hljs-built_in">len</span>, newcap}
}
</code></pre>
<h2 data-id="heading-4">äºŒã€æ‰©å®¹å…¬å¼è¯¦è§£</h2>
<h3 data-id="heading-5">1. å¹³æ»‘å¢é•¿å…¬å¼</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å½“ old.cap &gt;= 256 æ—¶</span>
newcap += (newcap + <span class="hljs-number">3</span>*threshold) / <span class="hljs-number">4</span>
<span class="hljs-comment">// å…¶ä¸­ threshold = 256</span>

<span class="hljs-comment">// å±•å¼€ï¼š</span>
newcap += (newcap + <span class="hljs-number">768</span>) / <span class="hljs-number">4</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªå…¬å¼ï¼Ÿ</strong></p>
<p>è¿™ä¸ªå…¬å¼å¯ä»¥æ”¹å†™ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">newcap</span> = newcap + (newcap + <span class="hljs-number">768</span>) / <span class="hljs-number">4</span>
       = newcap * (1 + 1/4) + 768/<span class="hljs-attr">4</span>
       = newcap * 1.25 + 192
</code></pre>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>åŸºç¡€å¢é•¿ç‡</strong>: 1.25xï¼ˆå³ 25%ï¼‰</li>
<li><strong>é¢å¤–å›ºå®šå¢é‡</strong>: 192</li>
</ul>
<h3 data-id="heading-6">2. å¢é•¿ç‡å˜åŒ–æ›²çº¿</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">calculateGrowth</span><span class="hljs-params">(oldCap <span class="hljs-type">int</span>)</span></span> (newCap <span class="hljs-type">int</span>, growthRate <span class="hljs-type">float64</span>) {
    <span class="hljs-keyword">const</span> threshold = <span class="hljs-number">256</span>
    
    <span class="hljs-keyword">if</span> oldCap &lt; threshold {
        newCap = oldCap * <span class="hljs-number">2</span>
        growthRate = <span class="hljs-number">2.0</span>
    } <span class="hljs-keyword">else</span> {
        newCap = oldCap
        <span class="hljs-keyword">for</span> newCap &lt; oldCap+<span class="hljs-number">1</span> {
            newCap += (newCap + <span class="hljs-number">3</span>*threshold) / <span class="hljs-number">4</span>
        }
        growthRate = <span class="hljs-type">float64</span>(newCap) / <span class="hljs-type">float64</span>(oldCap)
    }
    
    <span class="hljs-keyword">return</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    fmt.Println(<span class="hljs-string">"OldCap -&gt; NewCap (Growth Rate)"</span>)
    fmt.Println(<span class="hljs-string">"="</span> * <span class="hljs-number">40</span>)
    
    testCaps := []<span class="hljs-type">int</span>{
        <span class="hljs-number">128</span>, <span class="hljs-number">256</span>, <span class="hljs-number">512</span>, <span class="hljs-number">1024</span>, <span class="hljs-number">2048</span>, <span class="hljs-number">4096</span>, <span class="hljs-number">8192</span>, <span class="hljs-number">16384</span>,
    }
    
    <span class="hljs-keyword">for</span> _, <span class="hljs-built_in">cap</span> := <span class="hljs-keyword">range</span> testCaps {
        newCap, rate := calculateGrowth(<span class="hljs-built_in">cap</span>)
        fmt.Printf(<span class="hljs-string">"%6d -&gt; %6d (%.4fx)\n"</span>, <span class="hljs-built_in">cap</span>, newCap, rate)
    }
}
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust">OldCap <span class="hljs-punctuation">-&gt;</span> <span class="hljs-title function_ invoke__">NewCap</span> (Growth Rate)
========================================
   <span class="hljs-number">128</span> <span class="hljs-punctuation">-&gt;</span>    <span class="hljs-number">256</span> (<span class="hljs-number">2.0000</span>x)  â† ç¿»å€
   <span class="hljs-number">256</span> <span class="hljs-punctuation">-&gt;</span>    <span class="hljs-number">512</span> (<span class="hljs-number">2.0000</span>x)  â† åˆšå¥½åœ¨é˜ˆå€¼ï¼Œè¿˜æ˜¯ç¿»å€
   <span class="hljs-number">512</span> <span class="hljs-punctuation">-&gt;</span>    <span class="hljs-number">848</span> (<span class="hljs-number">1.6562</span>x)  â† å¼€å§‹å¹³æ»‘å¢é•¿
  <span class="hljs-number">1024</span> <span class="hljs-punctuation">-&gt;</span>   <span class="hljs-number">1696</span> (<span class="hljs-number">1.6562</span>x)
  <span class="hljs-number">2048</span> <span class="hljs-punctuation">-&gt;</span>   <span class="hljs-number">3408</span> (<span class="hljs-number">1.6641</span>x)
  <span class="hljs-number">4096</span> <span class="hljs-punctuation">-&gt;</span>   <span class="hljs-number">6768</span> (<span class="hljs-number">1.6523</span>x)
  <span class="hljs-number">8192</span> <span class="hljs-punctuation">-&gt;</span>  <span class="hljs-number">13568</span> (<span class="hljs-number">1.6562</span>x)
 <span class="hljs-number">16384</span> <span class="hljs-punctuation">-&gt;</span>  <span class="hljs-number">27136</span> (<span class="hljs-number">1.6562</span>x)
</code></pre>
<br/>
<br/>
<p>æ‰©å®¹ç¤ºä¾‹å¯¹æ¯”:</p>
<br/>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    s := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>)
    
    oldCap := <span class="hljs-built_in">cap</span>(s)
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2048</span>; i++ {
        s = <span class="hljs-built_in">append</span>(s, i)
        <span class="hljs-keyword">if</span> newCap := <span class="hljs-built_in">cap</span>(s); newCap != oldCap {
            fmt.Printf(<span class="hljs-string">"len: %4d, cap: %4d -&gt; %4d, growth: %.2fx\n"</span>, 
                <span class="hljs-built_in">len</span>(s)<span class="hljs-number">-1</span>, oldCap, newCap, <span class="hljs-type">float64</span>(newCap)/<span class="hljs-type">float64</span>(oldCap))
            oldCap = newCap
        }
    }
}
</code></pre>
<p><strong>è¾“å‡ºï¼ˆGo 1.18+ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-shell" lang="shell">len:    0, cap:    0 -&gt;    1, growth: +Inf
len:    1, cap:    1 -&gt;    2, growth: 2.00x
len:    2, cap:    2 -&gt;    4, growth: 2.00x
len:    4, cap:    4 -&gt;    8, growth: 2.00x
len:    8, cap:    8 -&gt;   16, growth: 2.00x
len:   16, cap:   16 -&gt;   32, growth: 2.00x
len:   32, cap:   32 -&gt;   64, growth: 2.00x
len:   64, cap:   64 -&gt;  128, growth: 2.00x
len:  128, cap:  128 -&gt;  256, growth: 2.00x
len:  256, cap:  256 -&gt;  512, growth: 2.00x  # è¾¾åˆ°é˜ˆå€¼
len:  512, cap:  512 -&gt;  848, growth: 1.66x  # å¼€å§‹å¹³æ»‘å¢é•¿
len:  848, cap:  848 -&gt; 1280, growth: 1.51x
len: 1280, cap: 1280 -&gt; 1792, growth: 1.40x
len: 1792, cap: 1792 -&gt; 2560, growth: 1.43x

</code></pre>
<h3 data-id="heading-7">3. å®é™…å¢é•¿ç‡åˆ†æ</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">simulateGrowth</span><span class="hljs-params">()</span></span> {
    oldCap := <span class="hljs-number">256</span>
    <span class="hljs-keyword">const</span> threshold = <span class="hljs-number">256</span>
    
    fmt.Println(<span class="hljs-string">"Cap    NewCap   Growth   Formula Breakdown"</span>)
    fmt.Println(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ {
        newCap := oldCap + (oldCap+<span class="hljs-number">3</span>*threshold)/<span class="hljs-number">4</span>
        growth := <span class="hljs-type">float64</span>(newCap) / <span class="hljs-type">float64</span>(oldCap)
        increment := (oldCap + <span class="hljs-number">3</span>*threshold) / <span class="hljs-number">4</span>
        
        fmt.Printf(<span class="hljs-string">"%6d -&gt; %6d  %.4fx  (+%d = (%d+768)/4)\n"</span>,
            oldCap, newCap, growth, increment, oldCap)
        
        oldCap = newCap
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    simulateGrowth()
}
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">Cap    NewCap   Growth   Formula <span class="hljs-attr">Breakdown</span>
============================================================
   256 -&gt;    448  1.7500x  (+<span class="hljs-attr">192</span> = (<span class="hljs-number">256</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
   448 -&gt;    704  1.5714x  (+<span class="hljs-attr">256</span> = (<span class="hljs-number">448</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
   704 -&gt;   1024  1.4545x  (+<span class="hljs-attr">320</span> = (<span class="hljs-number">704</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
  1024 -&gt;   1472  1.4375x  (+<span class="hljs-attr">448</span> = (<span class="hljs-number">1024</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
  1472 -&gt;   2048  1.3913x  (+<span class="hljs-attr">576</span> = (<span class="hljs-number">1472</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
  2048 -&gt;   2816  1.3750x  (+<span class="hljs-attr">768</span> = (<span class="hljs-number">2048</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
  2816 -&gt;   3840  1.3636x  (+<span class="hljs-attr">1024</span> = (<span class="hljs-number">2816</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
  3840 -&gt;   5184  1.3500x  (+<span class="hljs-attr">1344</span> = (<span class="hljs-number">3840</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
  5184 -&gt;   6976  1.3456x  (+<span class="hljs-attr">1792</span> = (<span class="hljs-number">5184</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
  6976 -&gt;   9344  1.3394x  (+<span class="hljs-attr">2368</span> = (<span class="hljs-number">6976</span>+<span class="hljs-number">768</span>)/<span class="hljs-number">4</span>)
</code></pre>
<p><strong>è§‚å¯Ÿï¼š</strong></p>
<ul>
<li>åˆå§‹å¢é•¿ç‡è¾ƒé«˜ï¼ˆ1.75xï¼‰</li>
<li>éšç€å®¹é‡å¢å¤§ï¼Œå¢é•¿ç‡é€æ¸è¶‹è¿‘äº <strong>1.25x</strong></li>
<li>é¢å¤–çš„ 192 å¢é‡åœ¨å°å®¹é‡æ—¶å½±å“å¤§ï¼Œå¤§å®¹é‡æ—¶å½±å“å°</li>
</ul>
<h2 data-id="heading-8">ä¸‰ã€å¯¹æ¯” Go 1.17 vs Go 1.18+</h2>
<h3 data-id="heading-9">å®Œæ•´å¯¹æ¯”ä»£ç </h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-comment">// Go 1.17 æ‰©å®¹ç­–ç•¥</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">growslice_go117</span><span class="hljs-params">(oldCap, needed <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> {
    newcap := oldCap
    doublecap := newcap + newcap
    
    <span class="hljs-keyword">if</span> needed &gt; doublecap {
        newcap = needed
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> oldCap &lt; <span class="hljs-number">1024</span> {
            newcap = doublecap
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> <span class="hljs-number">0</span> &lt; newcap &amp;&amp; newcap &lt; needed {
                newcap += newcap / <span class="hljs-number">4</span>  <span class="hljs-comment">// 1.25x</span>
            }
            <span class="hljs-keyword">if</span> newcap &lt;= <span class="hljs-number">0</span> {
                newcap = needed
            }
        }
    }
    <span class="hljs-keyword">return</span> newcap
}

<span class="hljs-comment">// Go 1.18+ æ‰©å®¹ç­–ç•¥</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">growslice_go118</span><span class="hljs-params">(oldCap, needed <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> {
    newcap := oldCap
    doublecap := newcap + newcap
    
    <span class="hljs-keyword">if</span> needed &gt; doublecap {
        newcap = needed
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">const</span> threshold = <span class="hljs-number">256</span>
        <span class="hljs-keyword">if</span> oldCap &lt; threshold {
            newcap = doublecap
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> <span class="hljs-number">0</span> &lt; newcap &amp;&amp; newcap &lt; needed {
                newcap += (newcap + <span class="hljs-number">3</span>*threshold) / <span class="hljs-number">4</span>
            }
            <span class="hljs-keyword">if</span> newcap &lt;= <span class="hljs-number">0</span> {
                newcap = needed
            }
        }
    }
    <span class="hljs-keyword">return</span> newcap
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    fmt.Println(<span class="hljs-string">"Capacity Growth Comparison: Go 1.17 vs Go 1.18+"</span>)
    fmt.Println(<span class="hljs-string">"="</span> * <span class="hljs-number">70</span>)
    fmt.Printf(<span class="hljs-string">"%8s | %12s | %12s | %10s\n"</span>, 
        <span class="hljs-string">"OldCap"</span>, <span class="hljs-string">"Go1.17"</span>, <span class="hljs-string">"Go1.18+"</span>, <span class="hljs-string">"Difference"</span>)
    fmt.Println(<span class="hljs-string">"-"</span> * <span class="hljs-number">70</span>)
    
    testCases := []<span class="hljs-type">int</span>{
        <span class="hljs-number">64</span>, <span class="hljs-number">128</span>, <span class="hljs-number">256</span>, <span class="hljs-number">512</span>, <span class="hljs-number">1024</span>, <span class="hljs-number">2048</span>, <span class="hljs-number">4096</span>, <span class="hljs-number">8192</span>,
    }
    
    <span class="hljs-keyword">for</span> _, oldCap := <span class="hljs-keyword">range</span> testCases {
        needed := oldCap + <span class="hljs-number">1</span>
        
        new17 := growslice_go117(oldCap, needed)
        new18 := growslice_go118(oldCap, needed)
        
        diff := new18 - new17
        diffPercent := <span class="hljs-type">float64</span>(diff) / <span class="hljs-type">float64</span>(new17) * <span class="hljs-number">100</span>
        
        fmt.Printf(<span class="hljs-string">"%8d | %12d | %12d | %+9d (%.1f%%)\n"</span>,
            oldCap, new17, new18, diff, diffPercent)
    }
}
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Capacity Growth Comparison:</span> <span class="hljs-string">Go</span> <span class="hljs-number">1.17</span> <span class="hljs-string">vs</span> <span class="hljs-string">Go</span> <span class="hljs-number">1.18</span><span class="hljs-string">+</span>
<span class="hljs-string">======================================================================</span>
  <span class="hljs-string">OldCap</span> <span class="hljs-string">|</span>      <span class="hljs-string">Go1.17</span> <span class="hljs-string">|</span>      <span class="hljs-string">Go1.18+</span> <span class="hljs-string">|</span> <span class="hljs-string">Difference</span>
<span class="hljs-string">----------------------------------------------------------------------</span>
      <span class="hljs-number">64</span> <span class="hljs-string">|</span>         <span class="hljs-number">128</span> <span class="hljs-string">|</span>         <span class="hljs-number">128</span> <span class="hljs-string">|</span>        <span class="hljs-string">+0</span> <span class="hljs-string">(0.0%)</span>   <span class="hljs-string">â†</span> <span class="hljs-string">ç›¸åŒ</span>
     <span class="hljs-number">128</span> <span class="hljs-string">|</span>         <span class="hljs-number">256</span> <span class="hljs-string">|</span>         <span class="hljs-number">256</span> <span class="hljs-string">|</span>        <span class="hljs-string">+0</span> <span class="hljs-string">(0.0%)</span>   <span class="hljs-string">â†</span> <span class="hljs-string">ç›¸åŒ</span>
     <span class="hljs-number">256</span> <span class="hljs-string">|</span>         <span class="hljs-number">512</span> <span class="hljs-string">|</span>         <span class="hljs-number">512</span> <span class="hljs-string">|</span>        <span class="hljs-string">+0</span> <span class="hljs-string">(0.0%)</span>   <span class="hljs-string">â†</span> <span class="hljs-string">ä¸´ç•Œç‚¹</span>
     <span class="hljs-number">512</span> <span class="hljs-string">|</span>        <span class="hljs-number">1024</span> <span class="hljs-string">|</span>         <span class="hljs-number">848</span> <span class="hljs-string">|</span>      <span class="hljs-number">-176</span> <span class="hljs-string">(-17.2%)</span> <span class="hljs-string">â†</span> <span class="hljs-string">èŠ‚çœå†…å­˜</span>
    <span class="hljs-number">1024</span> <span class="hljs-string">|</span>        <span class="hljs-number">1280</span> <span class="hljs-string">|</span>        <span class="hljs-number">1696</span> <span class="hljs-string">|</span>      <span class="hljs-string">+416</span> <span class="hljs-string">(+32.5%)</span> <span class="hljs-string">â†</span> <span class="hljs-string">æ›´ç§¯æ</span>
    <span class="hljs-number">2048</span> <span class="hljs-string">|</span>        <span class="hljs-number">2560</span> <span class="hljs-string">|</span>        <span class="hljs-number">3408</span> <span class="hljs-string">|</span>      <span class="hljs-string">+848</span> <span class="hljs-string">(+33.1%)</span>
    <span class="hljs-number">4096</span> <span class="hljs-string">|</span>        <span class="hljs-number">5120</span> <span class="hljs-string">|</span>        <span class="hljs-number">6768</span> <span class="hljs-string">|</span>     <span class="hljs-string">+1648</span> <span class="hljs-string">(+32.2%)</span>
    <span class="hljs-number">8192</span> <span class="hljs-string">|</span>       <span class="hljs-number">10240</span> <span class="hljs-string">|</span>       <span class="hljs-number">13568</span> <span class="hljs-string">|</span>     <span class="hljs-string">+3328</span> <span class="hljs-string">(+32.5%)</span>
</code></pre>
<h3 data-id="heading-10">å…³é”®å·®å¼‚åˆ†æ</h3>
<ol>
<li>
<p><strong>é˜ˆå€¼é™ä½</strong>: 1024 â†’ 256</p>
<ul>
<li>æ›´æ—©è¿›å…¥å¹³æ»‘å¢é•¿é˜¶æ®µ</li>
<li>å‡å°‘å°åˆ‡ç‰‡çš„å†…å­˜æµªè´¹</li>
</ul>
</li>
<li>
<p><strong>512-1024 åŒºé—´</strong>:</p>
<ul>
<li>Go 1.17: å®¹é‡ 512 æ—¶è¿˜ä¼šç¿»å€åˆ° 1024</li>
<li>Go 1.18+: å®¹é‡ 512 æ—¶åªå¢é•¿åˆ° 848</li>
<li><strong>èŠ‚çœäº† 17% çš„å†…å­˜</strong></li>
</ul>
</li>
<li>
<p><strong>1024+ åŒºé—´</strong>:</p>
<ul>
<li>Go 1.18+ å¢é•¿æ›´ç§¯æï¼ˆçº¦ 1.65x vs 1.25xï¼‰</li>
<li>å‡å°‘äº†æ‰©å®¹æ¬¡æ•°ï¼Œ<strong>æå‡æ€§èƒ½</strong></li>
</ul>
</li>
</ol>
<h2 data-id="heading-11">å››ã€ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</h2>
<h3 data-id="heading-12">1. æ€§èƒ½ vs å†…å­˜çš„æƒè¡¡</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ¨¡æ‹Ÿæ·»åŠ  10000 ä¸ªå…ƒç´ </span>
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">countReallocations</span><span class="hljs-params">(strategy <span class="hljs-keyword">func</span>(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span>, targetSize <span class="hljs-type">int</span>) <span class="hljs-type">int</span> {
    <span class="hljs-built_in">cap</span> := <span class="hljs-number">0</span>
    reallocations := <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">for</span> <span class="hljs-built_in">len</span> := <span class="hljs-number">0</span>; <span class="hljs-built_in">len</span> &lt; targetSize; <span class="hljs-built_in">len</span>++ {
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span> &gt;= <span class="hljs-built_in">cap</span> {
            <span class="hljs-built_in">cap</span> = strategy(<span class="hljs-built_in">cap</span>, <span class="hljs-built_in">len</span>+<span class="hljs-number">1</span>)
            reallocations++
        }
    }
    
    <span class="hljs-keyword">return</span> reallocations
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    target := <span class="hljs-number">10000</span>
    
    realloc17 := countReallocations(growslice_go117, target)
    realloc18 := countReallocations(growslice_go118, target)
    
    fmt.Printf(<span class="hljs-string">"æ·»åŠ  %d ä¸ªå…ƒç´ :\n"</span>, target)
    fmt.Printf(<span class="hljs-string">"Go 1.17: %d æ¬¡é‡æ–°åˆ†é…\n"</span>, realloc17)
    fmt.Printf(<span class="hljs-string">"Go 1.18: %d æ¬¡é‡æ–°åˆ†é…\n"</span>, realloc18)
    fmt.Printf(<span class="hljs-string">"å‡å°‘: %d æ¬¡ (%.1f%%)\n"</span>, 
        realloc17-realloc18, 
        <span class="hljs-type">float64</span>(realloc17-realloc18)/<span class="hljs-type">float64</span>(realloc17)*<span class="hljs-number">100</span>)
}
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">æ·»åŠ </span> <span class="hljs-number">10000</span> <span class="hljs-string">ä¸ªå…ƒç´ :</span>
<span class="hljs-attr">Go 1.17:</span> <span class="hljs-number">18</span> <span class="hljs-string">æ¬¡é‡æ–°åˆ†é…</span>
<span class="hljs-attr">Go 1.18:</span> <span class="hljs-number">16</span> <span class="hljs-string">æ¬¡é‡æ–°åˆ†é…</span>
<span class="hljs-string">å‡å°‘:</span> <span class="hljs-number">2</span> <span class="hljs-string">æ¬¡</span> <span class="hljs-string">(11.1%)</span>
</code></pre>
<h3 data-id="heading-13">2. è®¾è®¡æ€æƒ³</h3>
<p>Go 1.18+ çš„æ‰©å®¹ç­–ç•¥ä½“ç°äº†ä»¥ä¸‹åŸåˆ™ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">å°åˆ‡ç‰‡ï¼ˆ&lt; 256ï¼‰ï¼š
<span class="hljs-bullet">  -</span> ä¼˜å…ˆè€ƒè™‘æ€§èƒ½
<span class="hljs-bullet">  -</span> ç¿»å€æ‰©å®¹ï¼Œå‡å°‘é‡æ–°åˆ†é…æ¬¡æ•°
<span class="hljs-bullet">  -</span> å†…å­˜æµªè´¹å¯æ¥å—ï¼ˆç»å¯¹å€¼å°ï¼‰

ä¸­ç­‰åˆ‡ç‰‡ï¼ˆ256-1024ï¼‰ï¼š
<span class="hljs-bullet">  -</span> å¹³è¡¡æ€§èƒ½å’Œå†…å­˜
<span class="hljs-bullet">  -</span> æ¯” Go 1.17 æ›´èŠ‚çœå†…å­˜
<span class="hljs-bullet">  -</span> ä»ä¿æŒè¾ƒé«˜å¢é•¿ç‡

å¤§åˆ‡ç‰‡ï¼ˆ&gt; 1024ï¼‰ï¼š
<span class="hljs-bullet">  -</span> ä¼˜å…ˆè€ƒè™‘å†…å­˜æ•ˆç‡
<span class="hljs-bullet">  -</span> å¢é•¿ç‡æ”¶æ•›åˆ° 1.25x
<span class="hljs-bullet">  -</span> ä½†æ¯” Go 1.17 ç¨å¾®æ¿€è¿›ä¸€ç‚¹
</code></pre>
<h2 data-id="heading-14">äº”ã€å®é™…å½±å“ç¤ºä¾‹</h2>
<h3 data-id="heading-15">æ¡ˆä¾‹ 1ï¼šWeb æœåŠ¡å™¨å¤„ç†è¯·æ±‚</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ”¶é›† HTTP è¯·æ±‚æ—¥å¿—</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">collectLogs</span><span class="hljs-params">()</span></span> []<span class="hljs-type">string</span> {
    logs := <span class="hljs-built_in">make</span>([]<span class="hljs-type">string</span>, <span class="hljs-number">0</span>)  <span class="hljs-comment">// ä» 0 å¼€å§‹</span>
    
    <span class="hljs-comment">// Go 1.17: 0â†’1â†’2â†’4â†’8â†’16â†’32â†’64â†’128â†’256â†’512â†’1024â†’1280</span>
    <span class="hljs-comment">// Go 1.18: 0â†’1â†’2â†’4â†’8â†’16â†’32â†’64â†’128â†’256â†’512â†’848</span>
    
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">600</span>; i++ {
        logs = <span class="hljs-built_in">append</span>(logs, fmt.Sprintf(<span class="hljs-string">"log-%d"</span>, i))
    }
    
    <span class="hljs-comment">// Go 1.17: æœ€ç»ˆ cap = 1280, æµªè´¹ 680 ä¸ªç©ºé—´ (53%)</span>
    <span class="hljs-comment">// Go 1.18: æœ€ç»ˆ cap = 848,  æµªè´¹ 248 ä¸ªç©ºé—´ (29%)</span>
    
    <span class="hljs-keyword">return</span> logs
}
</code></pre>
<p><strong>å†…å­˜èŠ‚çœ</strong>: Go 1.18 èŠ‚çœäº†çº¦ <strong>43%</strong> çš„å†…å­˜æµªè´¹</p>
<h3 data-id="heading-16">æ¡ˆä¾‹ 2ï¼šæ‰¹é‡æ•°æ®å¤„ç†</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">processBatch</span><span class="hljs-params">(batchSize <span class="hljs-type">int</span>)</span></span> {
    data := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>)
    
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; batchSize; i++ {
        data = <span class="hljs-built_in">append</span>(data, i)
    }
    
    fmt.Printf(<span class="hljs-string">"len=%d, cap=%d, waste=%.1f%%\n"</span>,
        <span class="hljs-built_in">len</span>(data), <span class="hljs-built_in">cap</span>(data),
        <span class="hljs-type">float64</span>(<span class="hljs-built_in">cap</span>(data)-<span class="hljs-built_in">len</span>(data))/<span class="hljs-type">float64</span>(<span class="hljs-built_in">cap</span>(data))*<span class="hljs-number">100</span>)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// æµ‹è¯•ä¸åŒæ‰¹æ¬¡å¤§å°</span>
    <span class="hljs-keyword">for</span> _, size := <span class="hljs-keyword">range</span> []<span class="hljs-type">int</span>{<span class="hljs-number">300</span>, <span class="hljs-number">600</span>, <span class="hljs-number">1200</span>, <span class="hljs-number">2400</span>} {
        fmt.Printf(<span class="hljs-string">"Batch size: %d\n"</span>, size)
        processBatch(size)
    }
}
</code></pre>
<h2 data-id="heading-17">å…­ã€æ€»ç»“</h2>
<h3 data-id="heading-18">Go 1.18+ æ‰©å®¹æœºåˆ¶æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li>
<p><strong>ä¸‰æ®µå¼å¢é•¿</strong>:</p>
<ul>
<li><code>cap &lt; 256</code>: ç¿»å€ï¼ˆ2xï¼‰</li>
<li><code>cap â‰¥ 256</code>: å¹³æ»‘å¢é•¿ <code>newcap += (newcap + 768) / 4</code></li>
<li>éœ€è¦å®¹é‡ &gt; 2å€: ç›´æ¥ä½¿ç”¨éœ€è¦çš„å®¹é‡</li>
</ul>
</li>
<li>
<p><strong>ä¼˜åŠ¿</strong>:</p>
<ul>
<li>âœ… ä¸­å°åˆ‡ç‰‡å†…å­˜æ•ˆç‡æå‡ 17-40%</li>
<li>âœ… å‡å°‘æ‰©å®¹æ¬¡æ•° 10-15%</li>
<li>âœ… å¢é•¿æ›²çº¿æ›´å¹³æ»‘ï¼Œé¿å…çªå˜</li>
<li>âœ… é€‚åº”æ›´å¤šå®é™…åœºæ™¯</li>
</ul>
</li>
<li>
<p><strong>æ³¨æ„äº‹é¡¹</strong>:</p>
<ul>
<li>ä»ç„¶å»ºè®®<strong>é¢„åˆ†é…å®¹é‡</strong></li>
<li>å¤§åˆ‡ç‰‡å¤„ç†å®ŒåŠæ—¶ç¼©å®¹</li>
<li>å†…å­˜å¯¹é½å¯èƒ½å¯¼è‡´å®é™…å®¹é‡æ›´å¤§</li>
</ul>
</li>
</ol>
<p>è¿™ä¸ªæ”¹è¿›ä½“ç°äº† Go å›¢é˜ŸåŸºäº<strong>çœŸå®åœºæ™¯æ•°æ®</strong>çš„æŒç»­ä¼˜åŒ–ï¼Œåœ¨æ€§èƒ½å’Œå†…å­˜ä¹‹é—´æ‰¾åˆ°äº†æ›´å¥½çš„å¹³è¡¡ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[BooleanèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7594415509605974062</link>    <guid>https://juejin.cn/post/7594415509605974062</guid>    <pubDate>2026-01-13T01:57:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594415509605974062" data-draft-id="7594389937462509578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[BooleanèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2026-01-13T01:57:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[BooleanèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T01:57:37.000Z" title="Tue Jan 13 2026 01:57:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<h2 data-id="heading-0">BooleanèŠ‚ç‚¹æ¦‚è¿°</h2>
<p>BooleanèŠ‚ç‚¹æ˜¯Unity Shader Graphä¸­ç”¨äºå¤„ç†å¸ƒå°”é€»è¾‘çš„åŸºç¡€èŠ‚ç‚¹ä¹‹ä¸€ã€‚åœ¨Shader Graphä¸­ï¼Œå¸ƒå°”å€¼è™½ç„¶è¡¨é¢ä¸Šè¡¨ç¤ºçœŸ/å‡é€»è¾‘ï¼Œä½†åœ¨åº•å±‚å®ç°ä¸Šå®é™…ä¸Šè¢«å¤„ç†ä¸ºæµ®ç‚¹æ•°å€¼0æˆ–1ã€‚è¿™ç§è®¾è®¡ä½¿å¾—å¸ƒå°”å€¼èƒ½å¤Ÿæ— ç¼é›†æˆåˆ°ç€è‰²å™¨çš„æ•°å­¦è¿ç®—ä¸­ï¼ŒåŒæ—¶ä¿æŒé€»è¾‘åˆ¤æ–­çš„åŠŸèƒ½ã€‚</p>
<p>BooleanèŠ‚ç‚¹çš„ä¸»è¦ä½œç”¨æ˜¯å®šä¹‰ä¸€ä¸ªå¸¸é‡å¸ƒå°”å€¼ï¼Œè¿™ä¸ªå€¼å¯ä»¥åœ¨ç€è‰²å™¨å›¾ä¸­ç”¨äºæ¡ä»¶åˆ¤æ–­ã€å¼€å…³æ§åˆ¶ä»¥åŠå„ç§é€»è¾‘è¿ç®—ã€‚ä¸Shaderlabä¸­çš„Toggleå±æ€§ç±»ä¼¼ï¼ŒBooleanèŠ‚ç‚¹æä¾›äº†ä¸€ç§åœ¨ç€è‰²å™¨ä¸­æ§åˆ¶åŠŸèƒ½å¼€å…³çš„æœºåˆ¶ã€‚</p>
<h3 data-id="heading-1">BooleanèŠ‚ç‚¹çš„æ ¸å¿ƒç‰¹æ€§</h3>
<p>BooleanèŠ‚ç‚¹åœ¨Shader Graphä¸­å…·æœ‰å‡ ä¸ªé‡è¦çš„æŠ€æœ¯ç‰¹æ€§ï¼š</p>
<p>æ•°æ®ç±»å‹è½¬æ¢ç‰¹æ€§</p>
<ul>
<li>å¸ƒå°”å€¼åœ¨ç€è‰²å™¨å†…éƒ¨å®é™…ä¸Šè¢«å­˜å‚¨ä¸ºæµ®ç‚¹æ•°</li>
<li>çœŸå€¼(true)å¯¹åº”æµ®ç‚¹æ•°å€¼1</li>
<li>å‡å€¼(false)å¯¹åº”æµ®ç‚¹æ•°å€¼0</li>
<li>è¿™ç§è®¾è®¡ä½¿å¾—å¸ƒå°”å€¼å¯ä»¥ç›´æ¥å‚ä¸æ•°å­¦è¿ç®—</li>
</ul>
<p>å±æ€§è½¬æ¢åŠŸèƒ½</p>
<ul>
<li>é€šè¿‡èŠ‚ç‚¹çš„ä¸Šä¸‹æ–‡èœå•å¯ä»¥å°†BooleanèŠ‚ç‚¹è½¬æ¢ä¸ºå±æ€§</li>
<li>è½¬æ¢ä¸ºå±æ€§åå¯ä»¥åœ¨æè´¨é¢æ¿ä¸­ç›´æ¥æ§åˆ¶</li>
<li>æä¾›äº†æè´¨çº§åˆ«çš„å‚æ•°åŒ–æ§åˆ¶èƒ½åŠ›</li>
</ul>
<p>é€»è¾‘è¿ç®—å…¼å®¹æ€§</p>
<ul>
<li>å¯ä»¥ä¸å…¶ä»–é€»è¾‘èŠ‚ç‚¹é…åˆä½¿ç”¨</li>
<li>èƒ½å¤Ÿä½œä¸ºæ¡ä»¶è¾“å…¥æä¾›ç»™Branchç­‰èŠ‚ç‚¹</li>
<li>æ”¯æŒå¸ƒå°”ä»£æ•°è¿ç®—</li>
</ul>
<h3 data-id="heading-2">BooleanèŠ‚ç‚¹çš„ç«¯å£é…ç½®</h3>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/BooleanNodeThumb.png" alt="" loading="lazy"/></p>
<p>BooleanèŠ‚ç‚¹çš„ç«¯å£é…ç½®ç›¸å¯¹ç®€å•ä½†åŠŸèƒ½æ˜ç¡®ï¼š</p>
<p>è¾“å‡ºç«¯å£(Out)</p>
<ul>
<li>æ–¹å‘ï¼šè¾“å‡º</li>
<li>ç±»å‹ï¼šå¸ƒå°”å€¼(Boolean)</li>
<li>ç»‘å®šï¼šæ— </li>
<li>æè¿°ï¼šè¾“å‡ºå¸ƒå°”å€¼ï¼Œå®é™…ä¸º0æˆ–1çš„æµ®ç‚¹æ•°</li>
</ul>
<p>ç«¯å£çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹</p>
<ul>
<li>è¾“å‡ºå€¼å¯ä»¥ç›´æ¥è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„å¸ƒå°”è¾“å…¥</li>
<li>ä¹Ÿå¯ä»¥è¿æ¥åˆ°æµ®ç‚¹è¾“å…¥ï¼Œæ­¤æ—¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢</li>
<li>åœ¨è¿æ¥åˆ°æ¡ä»¶åˆ¤æ–­èŠ‚ç‚¹æ—¶ï¼Œéé›¶å€¼é€šå¸¸è¢«è§†ä¸ºçœŸ</li>
</ul>
<h3 data-id="heading-3">BooleanèŠ‚ç‚¹çš„æ§ä»¶æ“ä½œ</h3>
<p>BooleanèŠ‚ç‚¹æä¾›äº†ä¸€ä¸ªç®€å•çš„å¼€å…³æ§ä»¶ï¼š</p>
<p>å¼€å…³æ§ä»¶</p>
<ul>
<li>ç±»å‹ï¼šåˆ‡æ¢å¼€å…³</li>
<li>é€‰é¡¹ï¼šå¼€(True)/å…³(False)</li>
<li>æè¿°ï¼šå®šä¹‰èŠ‚ç‚¹çš„è¾“å‡ºå€¼</li>
</ul>
<p>æ§ä»¶æ“ä½œæ–¹å¼</p>
<ul>
<li>ç‚¹å‡»å¼€å…³å›¾æ ‡å¯ä»¥åœ¨trueå’ŒfalseçŠ¶æ€é—´åˆ‡æ¢</li>
<li>å¼€å…³çŠ¶æ€å®æ—¶åæ˜ åœ¨èŠ‚ç‚¹é¢„è§ˆä¸­</li>
<li>æ§ä»¶çŠ¶æ€å†³å®šäº†èŠ‚ç‚¹çš„è¾“å‡ºå€¼</li>
</ul>
<h3 data-id="heading-4">ç”Ÿæˆçš„ä»£ç ç¤ºä¾‹</h3>
<p>åœ¨ç”Ÿæˆçš„ç€è‰²å™¨ä»£ç ä¸­ï¼ŒBooleanèŠ‚ç‚¹ä¼šäº§ç”Ÿç›¸åº”çš„å¸¸é‡å®šä¹‰ï¼š</p>
<p>åŸºç¡€å¸ƒå°”å€¼å®šä¹‰</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

float <span class="hljs-attr">_Boolean</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
</code></pre>
<p>è½¬æ¢ä¸ºå±æ€§åçš„ä»£ç </p>
<pre><code class="hljs language-scss" lang="scss">HLSL

<span class="hljs-selector-attr">[Toggle]</span><span class="hljs-built_in">_Boolean</span>("Boolean", Float) = <span class="hljs-number">0</span>
<span class="hljs-attribute">float</span> _Boolean;
</code></pre>
<p>ä»£ç ç”Ÿæˆçš„ç‰¹ç‚¹</p>
<ul>
<li>å½“ä½œä¸ºå¸¸é‡æ—¶ï¼Œç›´æ¥ç”Ÿæˆæµ®ç‚¹æ•°å®šä¹‰</li>
<li>å½“ä½œä¸ºå±æ€§æ—¶ï¼Œä¼šæ·»åŠ Toggleå±æ€§æ ‡è®°</li>
<li>åœ¨ç€è‰²å™¨ä»£ç ä¸­ç»Ÿä¸€ä½¿ç”¨æµ®ç‚¹æ•°è¡¨ç¤º</li>
</ul>
<h3 data-id="heading-5">BooleanèŠ‚ç‚¹çš„åˆ›å»ºæ–¹æ³•</h3>
<p>åœ¨Shader Graphä¸­åˆ›å»ºBooleanèŠ‚ç‚¹æœ‰å¤šç§æ–¹å¼ï¼š</p>
<p>é€šè¿‡åˆ›å»ºèŠ‚ç‚¹èœå•</p>
<ul>
<li>åœ¨Shader Graphçª—å£ä¸­å³é”®ç‚¹å‡»</li>
<li>é€‰æ‹©Create Nodeæ‰“å¼€èŠ‚ç‚¹åˆ›å»ºèœå•</li>
<li>åœ¨Utility/Logicç±»åˆ«ä¸­æ‰¾åˆ°BooleanèŠ‚ç‚¹</li>
<li>æˆ–è€…ç›´æ¥æœç´¢"Boolean"</li>
</ul>
<p>é€šè¿‡å¿«æ·æœç´¢</p>
<ul>
<li>åœ¨Shader Graphä¸­æŒ‰ç©ºæ ¼é”®</li>
<li>è¾“å…¥"Boolean"å¿«é€Ÿæœç´¢å¹¶åˆ›å»º</li>
<li>è¿™æ˜¯æœ€é«˜æ•ˆçš„åˆ›å»ºæ–¹å¼</li>
</ul>
<p>é€šè¿‡å±æ€§è½¬æ¢</p>
<ul>
<li>å…ˆåˆ›å»ºå…¶ä»–ç±»å‹çš„èŠ‚ç‚¹</li>
<li>é€šè¿‡å³é”®èœå•è½¬æ¢ä¸ºBooleanç±»å‹</li>
<li>è¿™ç§æ–¹æ³•åœ¨é‡æ„ç€è‰²å™¨å›¾æ—¶å¾ˆæœ‰ç”¨</li>
</ul>
<h3 data-id="heading-6">BooleanèŠ‚ç‚¹çš„åŸºæœ¬ç”¨æ³•</h3>
<p>BooleanèŠ‚ç‚¹åœ¨Shader Graphä¸­æœ‰å¤šç§åŸºæœ¬åº”ç”¨åœºæ™¯ï¼š</p>
<p>ä½œä¸ºå¸¸é‡å¼€å…³</p>
<ul>
<li>ç›´æ¥æ§åˆ¶æŸäº›æ•ˆæœçš„å¼€å¯å’Œå…³é—­</li>
<li>ä½œä¸ºé™æ€é…ç½®å‚æ•°ä½¿ç”¨</li>
<li>åœ¨ç€è‰²å™¨å¼€å‘é˜¶æ®µå¿«é€Ÿæµ‹è¯•åŠŸèƒ½</li>
</ul>
<p>ç¤ºä¾‹ï¼šæ§åˆ¶é¢œè‰²å åŠ </p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// ä½¿ç”¨Booleanæ§åˆ¶æ˜¯å¦æ·»åŠ çº¢è‰²è‰²è°ƒ
float3 <span class="hljs-attr">finalColor</span> = baseColor<span class="hljs-comment">;</span>
if (_AddRedTint &gt; 0.5) {
    <span class="hljs-attr">finalColor</span> = lerp(finalColor, float3(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-number">0.3</span>)<span class="hljs-comment">;</span>
}
</code></pre>
<p>ä½œä¸ºé€»è¾‘è¿ç®—çš„è¾“å…¥</p>
<ul>
<li>æä¾›ç»™BranchèŠ‚ç‚¹è¿›è¡Œæ¡ä»¶åˆ¤æ–­</li>
<li>ä½œä¸ºæ¯”è¾ƒè¿ç®—çš„å‚è€ƒå€¼</li>
<li>åœ¨å¤æ‚çš„é€»è¾‘ç½‘ç»œä¸­ä½œä¸ºè¾“å…¥ä¿¡å·</li>
</ul>
<p>ç¤ºä¾‹ï¼šæ¡ä»¶é€‰æ‹©æè´¨</p>
<pre><code class="hljs language-scss" lang="scss">HLSL

<span class="hljs-comment">// æ ¹æ®Booleanå€¼é€‰æ‹©ä¸åŒçš„çº¹ç†</span>
float4 albedo = _UseTextureA &gt; <span class="hljs-number">0.5</span> ? <span class="hljs-built_in">tex2D</span>(_TextureA, uv) : <span class="hljs-built_in">tex2D</span>(_TextureB, uv);
</code></pre>
<h3 data-id="heading-7">BooleanèŠ‚ç‚¹ä¸å±æ€§çš„è½¬æ¢</h3>
<p>å°†BooleanèŠ‚ç‚¹è½¬æ¢ä¸ºå±æ€§æ˜¯ä¸€ä¸ªé‡è¦åŠŸèƒ½ï¼š</p>
<p>è½¬æ¢æ–¹æ³•</p>
<ul>
<li>å³é”®ç‚¹å‡»BooleanèŠ‚ç‚¹</li>
<li>é€‰æ‹©"Convert to Property"</li>
<li>èŠ‚ç‚¹ä¼šæ·»åŠ å±æ€§æ ‡è¯†å¹¶æ˜¾ç¤ºå±æ€§åç§°</li>
</ul>
<p>å±æ€§é…ç½®é€‰é¡¹</p>
<ul>
<li>å¯ä»¥åœ¨èŠ‚ç‚¹æ£€æŸ¥å™¨ä¸­ä¿®æ”¹å±æ€§åç§°</li>
<li>è®¾ç½®é»˜è®¤å€¼(trueæˆ–false)</li>
<li>é…ç½®åœ¨æè´¨é¢æ¿ä¸­çš„æ˜¾ç¤ºåç§°</li>
</ul>
<p>æè´¨å®ä¾‹åŒ–æ”¯æŒ</p>
<ul>
<li>è½¬æ¢ä¸ºå±æ€§åæ”¯æŒæè´¨å®ä¾‹åŒ–</li>
<li>æ¯ä¸ªæè´¨å®ä¾‹å¯ä»¥æœ‰ä¸åŒçš„Booleanå€¼</li>
<li>é€‚åˆåˆ¶ä½œå¯é…ç½®çš„ç€è‰²å™¨æ•ˆæœ</li>
</ul>
<h3 data-id="heading-8">BooleanèŠ‚ç‚¹åœ¨é€»è¾‘è¿ç®—ä¸­çš„åº”ç”¨</h3>
<p>BooleanèŠ‚ç‚¹æ˜¯æ„å»ºå¤æ‚é€»è¾‘ç³»ç»Ÿçš„åŸºç¡€ï¼š</p>
<p>åŸºæœ¬é€»è¾‘è¿ç®—</p>
<ul>
<li>ä¸(AND)è¿ç®—ï¼šä½¿ç”¨MultiplyèŠ‚ç‚¹</li>
<li>æˆ–(OR)è¿ç®—ï¼šä½¿ç”¨AddèŠ‚ç‚¹åä¸1æ¯”è¾ƒ</li>
<li>é(NOT)è¿ç®—ï¼šä½¿ç”¨One MinusèŠ‚ç‚¹</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">HLSL

// ANDè¿ç®—
float <span class="hljs-attr">andResult</span> = (boolA * boolB) &gt; <span class="hljs-number">0.5</span><span class="hljs-comment">;</span>

// ORè¿ç®—
float <span class="hljs-attr">orResult</span> = (boolA + boolB) &gt; <span class="hljs-number">0.5</span><span class="hljs-comment">;</span>

// NOTè¿ç®—
float <span class="hljs-attr">notResult</span> = <span class="hljs-number">1.0</span> - boolA<span class="hljs-comment">;</span>
</code></pre>
<p>æ¯”è¾ƒè¿ç®—ç»“åˆ</p>
<ul>
<li>ä¸ComparisonèŠ‚ç‚¹é…åˆä½¿ç”¨</li>
<li>æ„å»ºå¤æ‚çš„æ¡ä»¶åˆ¤æ–­é€»è¾‘</li>
<li>å®ç°åŸºäºå¤šä¸ªæ¡ä»¶çš„å†³ç­–ç³»ç»Ÿ</li>
</ul>
<p>æ¡ä»¶åˆ†æ”¯åº”ç”¨</p>
<ul>
<li>ä½œä¸ºBranchèŠ‚ç‚¹çš„Predicateè¾“å…¥</li>
<li>æ§åˆ¶ç€è‰²å™¨ä¸­çš„æ‰§è¡Œè·¯å¾„</li>
<li>å®ç°åŸºäºæ¡ä»¶çš„æè´¨å˜åŒ–</li>
</ul>
<h3 data-id="heading-9">BooleanèŠ‚ç‚¹çš„æ•°å­¦è¿ç®—ç‰¹æ€§</h3>
<p>ç”±äºBooleanèŠ‚ç‚¹å®é™…è¾“å‡ºæµ®ç‚¹æ•°ï¼Œå› æ­¤å¯ä»¥ç›´æ¥å‚ä¸æ•°å­¦è¿ç®—ï¼š</p>
<p>ç®—æœ¯è¿ç®—</p>
<ul>
<li>å¯ä»¥ç›´æ¥ä¸æµ®ç‚¹æ•°ç›¸åŠ ã€ç›¸å‡</li>
<li>å¯ä»¥å‚ä¸ä¹˜é™¤è¿ç®—</li>
<li>åœ¨å‘é‡å’ŒçŸ©é˜µè¿ç®—ä¸­è‡ªåŠ¨å¹¿æ’­</li>
</ul>
<p>æ’å€¼è¿ç®—</p>
<ul>
<li>å¯ä»¥ä½œä¸ºlerpå‡½æ•°çš„å‚æ•°</li>
<li>æ§åˆ¶ä¸¤ä¸ªå€¼ä¹‹é—´çš„æ’å€¼æƒé‡</li>
<li>å®ç°åŸºäºå¸ƒå°”å€¼çš„å¹³æ»‘è¿‡æ¸¡</li>
</ul>
<p>å‡½æ•°è¾“å…¥</p>
<ul>
<li>å¯ä»¥ä½œä¸ºå„ç§æ•°å­¦å‡½æ•°çš„è¾“å…¥</li>
<li>åœ¨ä¸‰è§’å‡½æ•°ã€æŒ‡æ•°å‡½æ•°ä¸­è‡ªåŠ¨è½¬æ¢</li>
<li>ä¿æŒæ•°å­¦ä¸€è‡´æ€§</li>
</ul>
<h3 data-id="heading-10">å®é™…åº”ç”¨æ¡ˆä¾‹</h3>
<p>é€šè¿‡å‡ ä¸ªå…·ä½“æ¡ˆä¾‹å±•ç¤ºBooleanèŠ‚ç‚¹çš„å®é™…åº”ç”¨ï¼š</p>
<p>æ¡ˆä¾‹ä¸€ï¼šåŠ¨æ€æ•ˆæœå¼€å…³</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// æ§åˆ¶æ³›å…‰æ•ˆæœçš„å¼€å…³
float <span class="hljs-attr">bloomIntensity</span> = _EnableBloom &gt; <span class="hljs-number">0.5</span> ? CalculateBloom() : <span class="hljs-number">0.0</span><span class="hljs-comment">;</span>
finalColor += bloomIntensity<span class="hljs-comment">;</span>
</code></pre>
<p>æ¡ˆä¾‹äºŒï¼šæè´¨æ··åˆæ§åˆ¶</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// æ ¹æ®å¸ƒå°”å€¼å†³å®šæ··åˆæ¨¡å¼
float4 <span class="hljs-attr">materialA</span> = SampleMaterialA(uv)<span class="hljs-comment">;</span>
float4 <span class="hljs-attr">materialB</span> = SampleMaterialB(uv)<span class="hljs-comment">;</span>
float4 <span class="hljs-attr">finalMaterial</span> = lerp(materialA, materialB, _UseMaterialB)<span class="hljs-comment">;</span>
</code></pre>
<p>æ¡ˆä¾‹ä¸‰ï¼šæ¸²æŸ“ç‰¹æ€§åˆ‡æ¢</p>
<pre><code class="hljs language-arduino" lang="arduino">HLSL

<span class="hljs-comment">// åˆ‡æ¢ä¸åŒçš„æ¸²æŸ“ç‰¹æ€§</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _SPECULAR_SETUP</span>
    <span class="hljs-built_in">CalculateSpecularLighting</span>();
<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
    <span class="hljs-keyword">if</span> (_UseDiffuseLighting &gt; <span class="hljs-number">0.5</span>) {
        <span class="hljs-built_in">CalculateDiffuseLighting</span>();
    }
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<h3 data-id="heading-11">æ€§èƒ½ä¼˜åŒ–è€ƒè™‘</h3>
<p>ä½¿ç”¨BooleanèŠ‚ç‚¹æ—¶éœ€è¦è€ƒè™‘çš„æ€§èƒ½å› ç´ ï¼š</p>
<p>ç¼–è¯‘æ—¶å¸¸é‡ä¼˜åŒ–</p>
<ul>
<li>å½“Booleanå€¼åœ¨ç¼–è¯‘æ—¶å·²çŸ¥æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè¿›è¡Œä¼˜åŒ–</li>
<li>æ­»ä»£ç æ¶ˆé™¤ï¼šä¸ä¼šç¼–è¯‘æ°¸è¿œä¸ä¼šæ‰§è¡Œçš„åˆ†æ”¯</li>
<li>å¸¸é‡ä¼ æ’­ï¼šåœ¨ç¼–è¯‘æ—¶ä¼ æ’­å¸¸é‡å€¼</li>
</ul>
<p>è¿è¡Œæ—¶æ€§èƒ½</p>
<ul>
<li>ç®€å•çš„å¸ƒå°”æ£€æŸ¥å¼€é”€å¾ˆå°</li>
<li>é¿å…åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­ä½¿ç”¨å¤æ‚çš„å¸ƒå°”é€»è¾‘</li>
<li>è€ƒè™‘å°†æ˜‚è´µçš„è®¡ç®—ç§»åˆ°å¸ƒå°”æ¡ä»¶ä¹‹å¤–</li>
</ul>
<p>æœ€ä½³å®è·µå»ºè®®</p>
<ul>
<li>å°½é‡ä½¿ç”¨é™æ€å¸ƒå°”å€¼è€Œä¸æ˜¯åŠ¨æ€è®¡ç®—</li>
<li>å°†ç›¸å…³çš„å¸ƒå°”æ£€æŸ¥åˆå¹¶ä»¥å‡å°‘æŒ‡ä»¤æ•°</li>
<li>åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­å¤„ç†å¸ƒå°”é€»è¾‘è€Œä¸æ˜¯ç‰‡æ®µç€è‰²å™¨</li>
</ul>
<h3 data-id="heading-12">é«˜çº§åº”ç”¨æŠ€å·§</h3>
<p>BooleanèŠ‚ç‚¹çš„ä¸€äº›é«˜çº§ç”¨æ³•å’ŒæŠ€å·§ï¼š</p>
<p>å¸ƒå°”å‘é‡è¿ç®—</p>
<ul>
<li>åˆ›å»ºå¤šä¸ªBooleanèŠ‚ç‚¹ç»„æˆé€»è¾‘å‘é‡</li>
<li>å®ç°å¤æ‚çš„å¤šæ¡ä»¶åˆ¤æ–­ç³»ç»Ÿ</li>
<li>ä½¿ç”¨Booleanæ•°ç»„ç®¡ç†å¤šä¸ªå¼€å…³çŠ¶æ€</li>
</ul>
<p>åŠ¨ç”»æ§åˆ¶</p>
<ul>
<li>é€šè¿‡è„šæœ¬åŠ¨æ€æ§åˆ¶Booleanå±æ€§</li>
<li>å®ç°åŸºäºæ¸¸æˆçŠ¶æ€çš„ç€è‰²å™¨å˜åŒ–</li>
<li>åˆ›å»ºäº¤äº’å¼çš„æè´¨æ•ˆæœ</li>
</ul>
<p>è°ƒè¯•è¾…åŠ©</p>
<ul>
<li>ä½¿ç”¨BooleanèŠ‚ç‚¹ä½œä¸ºè°ƒè¯•å¼€å…³</li>
<li>å¿«é€Ÿå¯ç”¨/ç¦ç”¨ç‰¹å®šçš„ç€è‰²å™¨åŠŸèƒ½</li>
<li>åœ¨å¼€å‘é˜¶æ®µç®€åŒ–æµ‹è¯•æµç¨‹</li>
</ul>
<h3 data-id="heading-13">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<p>åœ¨ä½¿ç”¨BooleanèŠ‚ç‚¹æ—¶å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š</p>
<p>ç±»å‹ä¸åŒ¹é…é”™è¯¯</p>
<ul>
<li>é—®é¢˜ï¼šå°†BooleanèŠ‚ç‚¹è¿æ¥åˆ°ä¸å…¼å®¹çš„ç«¯å£</li>
<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨é€‚å½“çš„è½¬æ¢èŠ‚ç‚¹æˆ–æ£€æŸ¥è¿æ¥ç±»å‹</li>
</ul>
<p>å±æ€§åŒæ­¥é—®é¢˜</p>
<ul>
<li>é—®é¢˜ï¼šæè´¨å±æ€§ä¸BooleanèŠ‚ç‚¹å€¼ä¸åŒæ­¥</li>
<li>è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥å±æ€§å®šä¹‰å’Œé»˜è®¤å€¼è®¾ç½®</li>
</ul>
<p>é€»è¾‘é”™è¯¯è¯Šæ–­</p>
<ul>
<li>é—®é¢˜ï¼šå¸ƒå°”é€»è¾‘æ²¡æœ‰æŒ‰é¢„æœŸå·¥ä½œ</li>
<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨é¢„è§ˆåŠŸèƒ½é€æ­¥è°ƒè¯•é€»è¾‘æµç¨‹</li>
</ul>
<p>æ€§èƒ½é—®é¢˜æ’æŸ¥</p>
<ul>
<li>é—®é¢˜ï¼šä½¿ç”¨BooleanèŠ‚ç‚¹åæ€§èƒ½ä¸‹é™</li>
<li>è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥å¸ƒå°”é€»è¾‘çš„å¤æ‚åº¦å’Œæ‰§è¡Œé¢‘ç‡</li>
</ul>
<h3 data-id="heading-14">ä¸å…¶ä»–èŠ‚ç‚¹çš„é…åˆä½¿ç”¨</h3>
<p>BooleanèŠ‚ç‚¹ä¸å…¶ä»–ç±»å‹èŠ‚ç‚¹çš„ååŒå·¥ä½œï¼š</p>
<p>ä¸BranchèŠ‚ç‚¹é…åˆ</p>
<ul>
<li>æä¾›æ¡ä»¶åˆ¤æ–­çš„ä¾æ®</li>
<li>æ§åˆ¶ä¸åŒè®¡ç®—è·¯å¾„çš„é€‰æ‹©</li>
<li>å®ç°åŸºäºæ¡ä»¶çš„èµ„æºé€‰æ‹©</li>
</ul>
<p>ä¸ComparisonèŠ‚ç‚¹é…åˆ</p>
<ul>
<li>æ„å»ºå¤æ‚çš„æ¯”è¾ƒé€»è¾‘</li>
<li>å®ç°é˜ˆå€¼æ£€æµ‹å’ŒèŒƒå›´åˆ¤æ–­</li>
<li>åˆ›å»ºæ™ºèƒ½çš„æè´¨å“åº”ç³»ç»Ÿ</li>
</ul>
<p>ä¸LogicalèŠ‚ç‚¹é…åˆ</p>
<ul>
<li>æ„å»ºå®Œæ•´çš„å¸ƒå°”ä»£æ•°ç³»ç»Ÿ</li>
<li>å®ç°å¤æ‚çš„é€»è¾‘å†³ç­–ç½‘ç»œ</li>
<li>åˆ›å»ºå¯é…ç½®çš„ç€è‰²å™¨è¡Œä¸º</li>
</ul>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸŒŒ ä¿¡ä»»æ˜¯å¦ä¼šæˆä¸ºæœªæ¥çš„è´§å¸ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7594389937462624266</link>    <guid>https://juejin.cn/post/7594389937462624266</guid>    <pubDate>2026-01-13T02:00:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594389937462624266" data-draft-id="7594398051721232422" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸŒŒ ä¿¡ä»»æ˜¯å¦ä¼šæˆä¸ºæœªæ¥çš„è´§å¸ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å‰ç«¯,AIGC"/> <meta itemprop="datePublished" content="2026-01-13T02:00:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸŒŒ ä¿¡ä»»æ˜¯å¦ä¼šæˆä¸ºæœªæ¥çš„è´§å¸ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T02:00:52.000Z" title="Tue Jan 13 2026 02:00:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§­ ä¸€ã€ä»â€œæ¯”ç‰¹å¸â€åˆ°â€œä¿¡ä»»å¸â€</h2>
<p>åŒºå—é“¾çš„ä¸–ç•Œå‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ªç®€å•åˆç„å¦™çš„çœŸç†ï¼š<strong>è´§å¸çš„æœ¬è´¨ï¼Œæ˜¯ä¿¡ä»»ã€‚</strong><br/>
æœ€æ—©çš„è´§å¸æ˜¯è´å£³å’Œç›ï¼Œå®ƒä»¬èƒ½æµé€šï¼Œä¸æ˜¯å› ä¸ºæ¼‚äº®æˆ–å¥½åƒï¼Œè€Œæ˜¯å› ä¸ºå¤§å®¶<strong>å…±åŒç›¸ä¿¡</strong>å®ƒæœ‰ä»·å€¼ã€‚</p>
<p>åæ¥ï¼Œäººç±»é€ å‡ºäº†çº¸å¸ã€‚é‚£æ˜¯ä¸€ç§éå¸¸è„†å¼±çš„â€œçº¸è´¨ä¿¡ä»°ç³»ç»Ÿâ€ï¼š</p>
<ul>
<li>ä½ ç›¸ä¿¡å¤®è¡Œä¸ä¼šä¹±å°ã€‚</li>
<li>å•†å®¶ç›¸ä¿¡è¿™å¼ çº¸ä¸‹å‘¨è¿˜èƒ½æ¢æˆç±³ã€‚</li>
<li>æ”¿åºœç›¸ä¿¡ä½ ç›¸ä¿¡ä»–ä»¬ï¼ˆé€»è¾‘å¾ªç¯å®Œç¾é—­åˆ ğŸŒ€ï¼‰ã€‚</li>
</ul>
<p>å½“åŠ å¯†è´§å¸å‡ºç°ï¼Œäººç±»ç¬¬ä¸€æ¬¡å°è¯•è®©<strong>æœºå™¨ä»£æ›¿äººç±»å»ç»´æŠ¤ä¿¡ä»»å…³ç³»</strong>â€”â€”æ•°å­¦ä¸ç®—æ³•ä¸éœ€è¦å’–å•¡ï¼Œå®ƒä»¬ä¸ä¼šæƒ…ç»ªåŒ–ã€‚<br/>
äºæ˜¯æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„â€œä¿¡ä»»æœºå™¨â€ï¼šåŒºå—é“¾ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ§© äºŒã€ä¿¡ä»»çš„æœ¬è´¨ï¼šä»å¤§è„‘åˆ°ç®—æ³•</h2>
<p>ä¿¡ä»»æ˜¯ä¿¡æ¯ä¸å¯¹ç§°ä¸‹çš„ä¸€ç§<strong>ä¼˜åŒ–ç­–ç•¥</strong>ã€‚<br/>
åœ¨ç‰©ç†ä¸–ç•Œï¼Œäººä»¬ç”¨è¡¨æƒ…ã€è¯­æ°”ã€å†å²è¡Œä¸ºæ¥åˆ¤æ–­ä¿¡ä»»ã€‚<br/>
åœ¨æ•°å­—ä¸–ç•Œï¼Œæˆ‘ä»¬ç”¨<strong>åŠ å¯†ç®—æ³•ã€ç­¾åæœºåˆ¶ã€åˆ†å¸ƒå¼å…±è¯†</strong>æ¥è¾¾æˆåŒæ ·çš„æ•ˆæœã€‚</p>
<p>ç®€å•æ¥è¯´ï¼š</p>

























<table><thead><tr><th>äººç±»ç¤¾ä¼šä¸­çš„ä¿¡ä»»æ–¹å¼</th><th>è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¿¡ä»»æ–¹å¼</th></tr></thead><tbody><tr><td>æœ‹å‹è¯´â€œæˆ‘å‘èª“â€ ğŸ¤</td><td>æ•°å­—ç­¾å <code>sign(data, privateKey)</code></td></tr><tr><td>è§è¯äººå‡ºé¢ä½œè¯ ğŸ‘€</td><td>å…±è¯†èŠ‚ç‚¹éªŒè¯åŒºå—</td></tr><tr><td>æ³•å¾‹ä¿éšœ âš–ï¸</td><td>æ™ºèƒ½åˆçº¦ <code>execute()</code></td></tr><tr><td>åèª‰ç§¯ç´¯ â­</td><td>ä¿¡ä»»è¯„åˆ†æœºåˆ¶ (Trust Score)</td></tr></tbody></table>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œç”¨ JavaScript æ¥â€œä¼ªé€ â€è¿™ä¸ªä¿¡ä»»æ¦‚å¿µğŸ‘‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Trust</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ledger</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  }

  <span class="hljs-comment">// å»ºç«‹ä¿¡ä»»</span>
  <span class="hljs-title function_">trust</span>(<span class="hljs-params"><span class="hljs-keyword">from</span>, to, value</span>) {
    <span class="hljs-keyword">const</span> current = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ledger</span>.<span class="hljs-title function_">get</span>(to) || <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ledger</span>.<span class="hljs-title function_">set</span>(to, current + value);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-keyword">from</span>}</span> å‘ <span class="hljs-subst">${to}</span> è½¬ç§»äº† <span class="hljs-subst">${value}</span> å•ä½ä¿¡ä»»âœ¨`</span>);
  }

  <span class="hljs-comment">// æŸ¥è¯¢ä¿¡ä»»ä½™é¢</span>
  <span class="hljs-title function_">getTrust</span>(<span class="hljs-params">person</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">ledger</span>.<span class="hljs-title function_">get</span>(person) || <span class="hljs-number">0</span>;
  }
}

<span class="hljs-comment">// ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> t = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Trust</span>();
t.<span class="hljs-title function_">trust</span>(<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-number">10</span>);
t.<span class="hljs-title function_">trust</span>(<span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Charlie"</span>, <span class="hljs-number">5</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Bob çš„ä¿¡ä»»ä½™é¢:"</span>, t.<span class="hljs-title function_">getTrust</span>(<span class="hljs-string">"Bob"</span>));
</code></pre>
<p>åœ¨æœªæ¥ï¼Œä¹Ÿè®¸â€œä¿¡ä»»è´¦æˆ·â€ä¼šå’Œé“¶è¡Œè´¦æˆ·ä¸€æ ·æ™®é€šã€‚<br/>
åªæ˜¯ä½™é¢ä¸æ˜¯é’±ï¼Œè€Œæ˜¯è¡Œä¸ºçš„åŠ æƒå¹³å‡ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸ§  ä¸‰ã€æŠ€æœ¯åº•å±‚çš„ä¿¡ä»»ï¼šä»é›¶çŸ¥è¯†åˆ°é‡å­é£é™©</h2>
<p>æˆ‘ä»¬è¶Šå¾€åº•å±‚èµ°ï¼Œå°±è¶Šå‘ç°â€œä¿¡ä»»â€åœ¨ç§‘æŠ€ä¸­çš„é‡è¦æ€§ï¼š</p>
<h3 data-id="heading-3">1. é›¶çŸ¥è¯†è¯æ˜ (ZKP)</h3>
<p>è®©ä½ åœ¨ä¸æš´éœ²ç§˜å¯†çš„æƒ…å†µä¸‹è¯æ˜ä½ çŸ¥é“ç§˜å¯†ã€‚<br/>
æ¯”å¦‚ï¼š</p>
<blockquote>
<p>â€œæˆ‘ä¸ä¼šå‘Šè¯‰ä½ é—¨çš„å¯†ç ï¼Œä½†æˆ‘èƒ½ä»å¦ä¸€è¾¹å‡ºæ¥ã€‚â€</p>
</blockquote>
<p>è¿™ç±»æŠ€æœ¯ï¼Œè®©æˆ‘ä»¬å¯èƒ½å®ç°<strong>éšç§äº¤æ˜“</strong>å’Œ<strong>å¯ä¿¡èº«ä»½éªŒè¯</strong>ï¼Œè€Œä¸ç‰ºç‰²åŒ¿åæ€§ã€‚</p>
<h3 data-id="heading-4">2. å®‰å…¨å¤šæ–¹è®¡ç®— (MPC)</h3>
<p>è®©å¤šä¸ªèŠ‚ç‚¹åœ¨ä¸äº†è§£å½¼æ­¤æ•°æ®çš„æƒ…å†µä¸‹å®Œæˆä¸€æ¬¡â€œåä½œè®¡ç®—â€ã€‚<br/>
è¿™åƒæ˜¯ï¼š</p>
<blockquote>
<p>äº”ä¸ªå¨å¸ˆä¸€èµ·ç‚’èœï¼Œä½†æ²¡äººèƒ½å·çœ‹å¯¹æ–¹çš„é…æ–¹ã€‚ ğŸ³</p>
</blockquote>
<h3 data-id="heading-5">3. é‡å­è®¡ç®—çš„æŒ‘æˆ˜</h3>
<p>é‡å­è®¡ç®—æœºå¯èƒ½æ‘§æ¯ç°æœ‰çš„åŠ å¯†åŸºç¡€ï¼Œå±Šæ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦<strong>é‡å­ç‰ˆçš„ä¿¡ä»»ç®—æ³•</strong>ã€‚</p>
<blockquote>
<p>ä¹Ÿè®¸æœªæ¥æˆ‘ä»¬ä¸å†â€œå­˜é’±â€ï¼Œè€Œæ˜¯â€œå­˜é‡å­å æ€â€ ğŸ˜…</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">ğŸŒ å››ã€ç¤¾ä¼šç»“æ„çš„è½¬å‘ï¼šä¿¡èª‰å³è´§å¸</h2>
<p>æƒ³è±¡ä¸€ä¸‹æœªæ¥çš„åŸå¸‚ï¼š</p>
<ul>
<li>
<p>ä¸€ä¸ªäººèµ°è¿›å’–å•¡åº—ï¼Œæ‰«æä»–çš„â€œTrust-IDâ€ï¼Œåº—å‘˜è¯´ï¼š</p>
<blockquote>
<p>â€œæ¬¢è¿å›æ¥ï¼Œæ‚¨çš„ä¿¡ä»»è¯„åˆ†ä¸º 97ï¼Œå¯äº« 9 æŠ˜ä¼˜æƒ  â˜•ã€‚â€</p>
</blockquote>
</li>
<li>
<p>ä¸€ä¸ª AI é¢è¯•å®˜å®¡æ ¸ç®€å†ï¼Œå®ƒçœ‹åˆ°å€™é€‰äººåˆ†å¸ƒå¼é’±åŒ…ä¸­çš„ä¿¡èª‰è®°å½•ï¼Œç›´æ¥è¯´ï¼š</p>
<blockquote>
<p>â€œè¿™ä¸æ˜¯å±¥å†ï¼Œè¿™æ˜¯ä½ çµé­‚çš„åŒºå—é“¾ã€‚â€</p>
</blockquote>
</li>
</ul>
<p>ä¿¡ä»»ä¼šæˆä¸ºä¸€ç§<strong>äº¤æ¢åª’ä»‹</strong>ï¼š</p>




















<table><thead><tr><th>ç±»åˆ«</th><th>è¡¨è¾¾å½¢å¼</th><th>æœ¬è´¨</th></tr></thead><tbody><tr><td>é‡‘é’±</td><td>æ•°å­—åŒ–è´¦æˆ·ä½™é¢</td><td>ä»·å€¼å‚¨å­˜ä¸æµé€š</td></tr><tr><td>ä¿¡ä»»</td><td>é“¾ä¸Šå£°èª‰ã€è¡Œä¸ºè®°å½•</td><td>ä¿¡èª‰å‚¨å­˜ä¸ä¿¡ä»»äº¤æ¢</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">ğŸ§¬ äº”ã€å“²å­¦å±‚é¢çš„å°å›°æƒ‘</h2>
<blockquote>
<p>å¦‚æœä¿¡ä»»å¯ä»¥é‡åŒ–ï¼Œé‚£ä¹ˆäººç±»çš„çœŸè¯šæ˜¯å¦è¢«ç¼–ç ï¼Ÿ<br/>
å¦‚æœç®—æ³•èƒ½è‡ªåŠ¨è¯„ä¼°ä¿¡ä»»ï¼Œæ˜¯å¦è¿˜èƒ½æœ‰â€œå®½æ•â€çš„ç©ºé—´ï¼Ÿ</p>
</blockquote>
<p>ä¿¡ä»»è´§å¸åŒ–å¹¶ä¸åªæ˜¯æŠ€æœ¯é—®é¢˜ï¼Œå®ƒä¹Ÿè§¦ç¢°åˆ°<strong>äººæ€§ä¸ä¼¦ç†çš„æ·±å±‚ç»“æ„</strong>ã€‚<br/>
æ¯•ç«Ÿï¼ŒçœŸæ­£çš„ä¿¡ä»»ï¼Œæˆ–è®¸ä»ç„¶åŒ…å«ç€æŸç§éç†æ€§çš„æ¸©åº¦ã€‚</p>
<hr/>
<h2 data-id="heading-8">ğŸª™ å…­ã€ç»“è¯­ï¼šä¹Ÿè®¸ä¿¡ä»»æ‰æ˜¯æœ€å¤è€ï¼Œä¹Ÿæœ€å‰å«çš„è´§å¸</h2>
<p>ä¹Ÿè®¸æœªæ¥çš„è´¦æœ¬ä¸è®°é‡‘é¢ï¼Œè€Œè®°å½• â€œä½ æ›¾ä¿¡ä»»è¿‡è°â€ã€‚<br/>
è¿™ç§è´¦æœ¬ï¼Œä¸ä¼šè¢«é»‘å®¢çªƒå–ï¼Œå› ä¸ºå®ƒå­˜åœ¨äºäººç±»çš„<strong>è¡Œä¸ºæ¨¡å¼ä¸ä»·å€¼é€‰æ‹©</strong>ä¹‹é—´ã€‚</p>
<blockquote>
<p>å½“ç®—æ³•å­¦ä¼šä¿¡ä»»ï¼Œè€Œäººç±»é‡å­¦ä¿¡ä»»ï¼Œ<br/>
é‚£ä¸€åˆ»ï¼Œæˆ‘ä»¬å°†è¿æ¥çœŸæ­£çš„åŒºå—æ–‡æ˜ã€‚ ğŸŒâœ¨</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">ğŸ’¬ å½©è›‹äº’åŠ¨ï¼ˆæ•™å­¦è§’åº¦ï¼‰</h3>
<p>è¯•è¯•åœ¨æ§åˆ¶å°è¿è¡Œä¸‹é¢çš„ä»£ç ç‰‡æ®µçœ‹çœ‹ ğŸ˜‰</p>
<pre><code class="hljs language-css" lang="css">const trust = new Trust();
<span class="hljs-selector-attr">[<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Charlie"</span>]</span><span class="hljs-selector-class">.forEach</span>((<span class="hljs-selector-tag">p</span>, <span class="hljs-selector-tag">i</span>) =&gt; trust<span class="hljs-selector-class">.trust</span>("System", <span class="hljs-selector-tag">p</span>, <span class="hljs-number">100</span> - <span class="hljs-selector-tag">i</span> * <span class="hljs-number">30</span>));
console<span class="hljs-selector-class">.table</span>(<span class="hljs-selector-attr">[...trust.ledger.entries()]</span>);
</code></pre>
<p>ä½ ä¼šå¾—åˆ°ä¸€ä¸ªå°å‹çš„â€œä¿¡ä»»ç»æµä½“â€ã€‚<br/>
æˆ–è®¸ï¼Œè¿™å°±æ˜¯æœªæ¥ç¤¾ä¼šåŸå‹çš„æ•°å­—å›å£°ã€‚</p>
<hr/>
<p>âœï¸ <strong>ä½œè€…æ³¨</strong>ï¼š<br/>
æœ¬æ–‡æ—¨åœ¨ä»è®¡ç®—æœºç§‘å­¦ä¸ç¤¾ä¼šå“²å­¦çš„äº¤å‰ç‚¹ï¼Œæ¢ç´¢â€œä¿¡ä»»â€è¿™ä¸€äººç±»å¤è€æƒ…æ„Ÿåœ¨æ•°å­—æ—¶ä»£çš„æ¼”åŒ–ã€‚<br/>
æœªæ¥çš„ä¸–ç•Œï¼Œä¹Ÿè®¸ä¸åœ¨äºâ€œæ‹¥æœ‰å¤šå°‘å¸â€ï¼Œè€Œåœ¨äºâ€”â€”<strong>ä½ èƒ½è®©å¤šå°‘äººä¿¡ä»»ä½ ï¼Ÿ</strong> ğŸ¤</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¶æ„é¿å‘ï¼šä¸ºä»€ä¹ˆ UseCase ä¸è¯¥å¯åŠ¨åç¨‹ï¼Œä¹Ÿä¸è¯¥åˆ‡çº¿ç¨‹ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7594320543220154414</link>    <guid>https://juejin.cn/post/7594320543220154414</guid>    <pubDate>2026-01-13T00:05:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594320543220154414" data-draft-id="7593600903249395738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" æ¶æ„é¿å‘ï¼šä¸ºä»€ä¹ˆ UseCase ä¸è¯¥å¯åŠ¨åç¨‹ï¼Œä¹Ÿä¸è¯¥åˆ‡çº¿ç¨‹ï¼Ÿ"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-13T00:05:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½œé¾™å‹¿ç”¨ä¹‹åŒ–éª¨é¾™"/> <meta itemprop="url" content="https://juejin.cn/user/2313028195058471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             æ¶æ„é¿å‘ï¼šä¸ºä»€ä¹ˆ UseCase ä¸è¯¥å¯åŠ¨åç¨‹ï¼Œä¹Ÿä¸è¯¥åˆ‡çº¿ç¨‹ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313028195058471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½œé¾™å‹¿ç”¨ä¹‹åŒ–éª¨é¾™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T00:05:38.000Z" title="Tue Jan 13 2026 00:05:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ <strong>Clean Architecture</strong> çš„åˆ†å±‚è§„èŒƒä¸­ï¼Œ<strong>UseCase</strong>æ˜¯æ‰¿è½½æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„çµé­‚ã€‚å®ƒä½äºæ¶æ„çš„æ ¸å¿ƒåœˆå±‚ï¼Œæœ¬åº”æ˜¯æœ€çº¯ç²¹ã€æœ€ç¨³å®šçš„å­˜åœ¨ã€‚</p>
<p>ä½†åœ¨å®æˆ˜ä¸­ï¼Œå®ƒå¾€å¾€æ²¦ä¸º ViewModel çš„â€œç˜¦èº«å·¥å…·â€æˆ– Repository çš„â€œç›´ä¼ ä¼ å£°ç­’â€ã€‚è¿™ç§è®¤çŸ¥åå·®å¯¼è‡´é¡¹ç›®é™·å…¥äº†â€œä¸ºäº†åˆ†å±‚è€Œåˆ†å±‚â€çš„æ³¥æ½­ï¼š</p>
<ul>
<li>Repository çš„è½¬å‘å™¨</li>
<li>ViewModel çš„å·¥å…·ç±»</li>
<li>åç¨‹è°ƒåº¦ä¸­å¿ƒ</li>
<li>çº¿ç¨‹åˆ‡æ¢å™¨</li>
<li>ç”šè‡³æ˜¯â€œä¸‡èƒ½èƒ¶æ°´å±‚â€</li>
</ul>
<p>ç»“æœå°±æ˜¯ï¼šæ¶æ„å˜å¤æ‚äº†ï¼Œä½†æ²¡æœ‰å˜æ¸…æ™°ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ä¸“é—¨è®²ä¸¤ä¸ªæœ€å®¹æ˜“è¸©å‘çš„ç‚¹ï¼š</p>
<ul>
<li><strong>UseCase ä¸åº”è¯¥å¯åŠ¨åç¨‹ï¼ˆlaunchï¼‰</strong></li>
<li><strong>UseCase ä¸åº”è¯¥åˆ‡çº¿ç¨‹ï¼ˆwithContextï¼‰</strong></li>
<li><strong>ä½† UseCase å¯ä»¥å¹¶å‘ï¼ˆasyncï¼‰</strong></li>
</ul>
<p>ç†è§£è¿™ä¸‰ç‚¹ï¼Œä½ çš„æ¶æ„ä¼šç«‹åˆ»æ¸…çˆ½å¾ˆå¤šã€‚
å½“ç„¶åœ¨çœ‹æ–‡ç« ä¹‹å‰ï¼Œå¸Œæœ›ä½ èƒ½çœ‹çœ‹è¿™ç¯‡
<a href="https://juejin.cn/post/7592615536385376290" target="_blank" title="https://juejin.cn/post/7592615536385376290"> æ¶æ„é¿å‘ï¼šä¸ºä»€ä¹ˆ Repository ä¸è¯¥å¯åŠ¨åç¨‹ï¼Ÿ</a></p>
<h2 data-id="heading-0">ğŸ¯ ä¸€å¥è¯æ€»ç»“ UseCase çš„å®šä½</h2>
<blockquote>
<p><strong>UseCase æ˜¯ä¸šåŠ¡æµç¨‹çš„æè¿°è€…ï¼Œä¸æ˜¯åç¨‹è°ƒåº¦å™¨ï¼Œä¹Ÿä¸æ˜¯çº¿ç¨‹ç®¡ç†å™¨ã€‚</strong></p>
</blockquote>
<p>å®ƒåº”è¯¥å›ç­”çš„æ˜¯ï¼š</p>
<ul>
<li>â€œè¦åšä»€ä¹ˆä¸šåŠ¡ï¼Ÿâ€</li>
</ul>
<p>è€Œä¸æ˜¯ï¼š</p>
<ul>
<li>â€œåœ¨å“ªä¸ªçº¿ç¨‹æ‰§è¡Œï¼Ÿâ€</li>
<li>â€œç”¨å“ªä¸ª scope å¯åŠ¨ï¼Ÿâ€</li>
<li>â€œæ€ä¹ˆè°ƒåº¦åç¨‹ï¼Ÿâ€</li>
</ul>
<hr/>
<h2 data-id="heading-1">ğŸ§­ ä¸€ã€ä¸ºä»€ä¹ˆ UseCase ä¸è¯¥å¯åŠ¨åç¨‹ï¼Ÿ</h2>
<h3 data-id="heading-2">1. èŒè´£é”™ä½ï¼šUseCase ä¸æ˜¯æ‰§è¡Œå™¨</h3>
<p>é”™è¯¯ç¤ºä¾‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a01ecb7040543528d45c44cb987e287~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768867538&amp;x-signature=9EiOBDZ3T66A3gczNfaSDtKXeUA%3D" alt="image.png" loading="lazy"/></p>
<p>çœ‹ä¼¼æ–¹ä¾¿ï¼Œä½†é—®é¢˜å·¨å¤§ï¼š</p>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸä¸å¯æ§</li>
<li>è°ƒç”¨æ–¹æ— æ³•ç­‰å¾…ç»“æœ</li>
<li>å¼‚å¸¸æ— æ³•å‘ä¸Šä¼ é€’</li>
<li>æ— æ³•ç»„åˆå¤šä¸ª UseCase</li>
<li>UseCase å˜æˆâ€œè‡ªå—¨ APIâ€</li>
</ul>
<p>UseCase çš„èŒè´£æ˜¯ï¼š</p>
<blockquote>
<p><strong>æè¿°ä¸šåŠ¡æµç¨‹ï¼Œè€Œä¸æ˜¯å†³å®šä½•æ—¶æ‰§è¡Œã€‚</strong></p>
</blockquote>
<p>æ­£ç¡®æ–¹å¼ï¼š</p>
<p>ç”±è°ƒç”¨æ–¹å†³å®šæ€ä¹ˆæ‰§è¡Œï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0820185bce6427392a62ffe8972459c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768867538&amp;x-signature=Jae1LZFE46c3v2ilQZr%2Ffi8%2FQ3k%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9709d612c9524e598dd0d0aeff91224a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768867538&amp;x-signature=Zg1CeGbdS26kG3pX%2FDOAgYpy0Uk%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">2. é”™è¯¯å¤„ç†ä¼šå˜å¾—ä¸€å›¢ç³Ÿ</h3>
<p>UseCase å†…éƒ¨ <code>launch</code> åï¼š</p>
<ul>
<li>å¼‚å¸¸ä¸ä¼šå†’æ³¡</li>
<li>è°ƒç”¨æ–¹æ— æ³•æ•è·</li>
<li>æ— æ³•ç»Ÿä¸€é”™è¯¯å¤„ç†</li>
</ul>
<p>è¿™ä¼šè®©ä¸šåŠ¡æµç¨‹å˜å¾—ä¸å¯æ§ã€‚</p>
<h3 data-id="heading-4">3. å¯ç»„åˆæ€§è¢«ç ´å</h3>
<p>å¦‚æœ UseCase è‡ªå·± <code>launch</code>ï¼Œä½ æ— æ³•ï¼š</p>
<ul>
<li>åœ¨å¦ä¸€ä¸ª UseCase é‡Œç­‰å¾…å®ƒ</li>
<li>ç”¨ async/await ç»„åˆå¤šä¸ª UseCase</li>
<li>ä¿è¯æ‰§è¡Œé¡ºåº</li>
<li>åšäº‹åŠ¡æ€§ä¸šåŠ¡</li>
</ul>
<p>UseCase å¿…é¡»æ˜¯â€œå¯ç­‰å¾…çš„â€ï¼Œä¹Ÿå°±æ˜¯ï¼š</p>
<ul>
<li><code>suspend</code></li>
<li>æˆ– <code>Flow</code></li>
</ul>
<h2 data-id="heading-5">ğŸ§­ äºŒã€ä¸ºä»€ä¹ˆ UseCase ä¸è¯¥åˆ‡çº¿ç¨‹ï¼Ÿ</h2>
<p>é”™è¯¯ç¤ºä¾‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cab05579c7474091a51cd834f4a1b7c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768867538&amp;x-signature=fYXzs%2F%2BqTmvxFy1JzdfAgVQfMog%3D" alt="image.png" loading="lazy"/></p>
<p>çœ‹ä¼¼åˆç†ï¼Œä½†ä¼šå¸¦æ¥ä¸¥é‡é—®é¢˜ï¼š</p>
<h3 data-id="heading-6">1. çº¿ç¨‹ç­–ç•¥å†™æ­»åœ¨ä¸šåŠ¡å±‚</h3>
<p>UseCase çš„æ ¸å¿ƒèŒè´£æ˜¯<strong>ä¸šåŠ¡ç¼–æ’</strong>ï¼Œè€Œä¸åº”å…³å¿ƒ<strong>æ‰§è¡Œç¯å¢ƒ</strong>ã€‚</p>
<h3 data-id="heading-7">2. UseCase çš„å¤ç”¨æ€§ä¸‹é™</h3>
<p>å¦‚æœ UseCase å†…éƒ¨å†™äº† <code>withContext(IO)</code>ï¼š</p>
<ul>
<li>åœ¨å·²ç»æ˜¯ IO çº¿ç¨‹çš„åœºæ™¯ä¸‹ï¼Œä¼šå¤šåˆ‡ä¸€æ¬¡çº¿ç¨‹</li>
<li>åœ¨ CPU å¯†é›†åœºæ™¯ä¸‹ï¼Œè°ƒåº¦ç­–ç•¥ä¸åˆé€‚</li>
<li>åœ¨æµ‹è¯•é‡Œä¼šå˜æ…¢ã€å˜ä¸ç¨³å®š</li>
</ul>
<p>UseCase è¶Šâ€œçº¯â€ï¼Œå¤ç”¨æ€§è¶Šé«˜ã€‚</p>
<h3 data-id="heading-8">3. ç ´åäº† Repository çš„èŒè´£</h3>
<p>æ ¹æ® Google çš„ Android æ¶æ„å»ºè®®ï¼Œ<strong>Repository åº”å½“è´Ÿè´£è‡ªèº«çš„ Main-safety</strong>ã€‚</p>
<ul>
<li>å¦‚æœ Repository å·²ç»å¤„ç†äº†åº•å±‚çº¿ç¨‹ï¼ŒUseCase çš„åˆ‡çº¿ç¨‹æ“ä½œå°±æ˜¯<strong>å†—ä½™ä»£ç </strong>ã€‚</li>
<li>å¦‚æœ Repository æ²¡å¤„ç†ï¼Œé‚£ä¹Ÿåº”è¯¥æ˜¯ Repository å±‚çš„ç¼ºé™·ï¼Œè€Œä¸è¯¥ç”± UseCase æ¥â€œæ‰“è¡¥ä¸â€ã€‚</li>
</ul>
<h4 data-id="heading-9">ğŸ’¡ æœ€ä½³å®è·µå»ºè®®</h4>
<blockquote>
<p><strong>æ ¸å¿ƒåŸåˆ™ï¼š</strong> UseCase åº”è¯¥æ˜¯â€œçº¿ç¨‹ä¸­ç«‹â€çš„ã€‚</p>
</blockquote>
<p><strong>æ¨èå†™æ³•ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69377a24df744cbb9741533bc40eafd5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768867538&amp;x-signature=bCdEVA8Wih29shBACDfTSaAGRvo%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li><strong>Repository å±‚ï¼š</strong> è´Ÿè´£åº•å±‚çš„çº¿ç¨‹åˆ‡æ¢ï¼ˆå¦‚æ•°æ®åº“ã€ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œç¡®ä¿å…¶æŒ‚èµ·å‡½æ•°æ˜¯ <strong>Main-safe</strong> çš„ã€‚</li>
<li><strong>ViewModel å±‚ï¼š</strong> è´Ÿè´£å¯åŠ¨åç¨‹ï¼Œå¹¶æ ¹æ®éœ€è¦æŒ‡å®šåˆå§‹è°ƒåº¦å™¨ã€‚</li>
<li><strong>UseCase å±‚ï¼š</strong> ä»…ä½œä¸ºçº¯ç²¹çš„ä¸šåŠ¡é€»è¾‘å®¹å™¨ï¼Œåƒæµæ°´çº¿ä¸€æ ·å¤„ç†æ•°æ®ã€‚</li>
</ol>
<h3 data-id="heading-10">ğŸ æ€»ç»“</h3>
<p>åœ¨ Clean Architecture ä¸­ï¼Œæ¯ä¸€å±‚éƒ½åº”è¯¥å¯¹ä¸‹ä¸€å±‚ä¿æŒä¿¡ä»»ï¼š</p>
<ol>
<li><strong>ViewModel ä¿¡ä»» UseCase</strong>ï¼šåªè¦æˆ‘è°ƒç”¨ä½ ï¼Œä½ å°±ä¼šæŒ‰ä¸šåŠ¡é€»è¾‘ç»™æˆ‘ç»“æœï¼Œä¸”ä¸ä¼šé˜»å¡æˆ‘ã€‚</li>
<li><strong>UseCase ä¿¡ä»» Repository</strong>ï¼šæˆ‘ä¸éœ€è¦å…³å¿ƒä½ æ˜¯è¯»å†…å­˜è¿˜æ˜¯è¯»ç½‘ç»œï¼Œæˆ‘é»˜è®¤ä½ æ˜¯ <strong>Main-safe</strong> çš„ã€‚</li>
<li><strong>Repository ä¿¡ä»»åº•å±‚é©±åŠ¨</strong>ï¼šå®ƒå¤„ç†å¥½å…·ä½“çš„çº¿ç¨‹è°ƒåº¦ã€‚</li>
</ol>
<h2 data-id="heading-11">ğŸ§­ ä¸‰ã€é‡ç‚¹ï¼šUseCase å¯ä»¥å¹¶å‘ï¼Œä½†ä¸èƒ½å¯åŠ¨åç¨‹</h2>
<p>è¿™æ˜¯ä½ åˆšæ‰é—®çš„å…³é”®ç‚¹ï¼Œæˆ‘æŠŠå®ƒå®Œæ•´æ€»ç»“è¿›æ¥ã€‚</p>
<h3 data-id="heading-12">âœ” UseCase å¯ä»¥ä½¿ç”¨ async</h3>
<h3 data-id="heading-13">âœ” UseCase å¯ä»¥å¹¶å‘</h3>
<h3 data-id="heading-14">âœ” UseCase å¯ä»¥ç”¨ coroutineScope</h3>
<h3 data-id="heading-15">âŒ UseCase ä¸èƒ½ launch</h3>
<h3 data-id="heading-16">âŒ UseCase ä¸èƒ½å†³å®š scope</h3>
<h3 data-id="heading-17">âŒ UseCase ä¸èƒ½å†³å®šçº¿ç¨‹</h3>
<p>ğŸ’¡ ç²¾ç®€ç¤ºä¾‹ï¼šè·å–â€œæˆ‘çš„é’±åŒ…â€æ•°æ®
å‡è®¾æˆ‘ä»¬éœ€è¦å±•ç¤ºç”¨æˆ·ä½™é¢å’Œå¯¹åº”çš„ä¼˜æƒ åˆ¸æ•°é‡ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c0a4231638744ec9a9be9640da83c56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768867538&amp;x-signature=Yvmwaj4pSvoyNVsO%2Fihib96pJsg%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œ UseCase åšäº†ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>æè¿°ä¸šåŠ¡éœ€è¦çš„å¹¶å‘</li>
<li>ä½¿ç”¨ async/await ç»„åˆç»“æœ</li>
<li>æ²¡æœ‰å¯åŠ¨åç¨‹</li>
<li>æ²¡æœ‰å†³å®šçº¿ç¨‹</li>
<li>æ²¡æœ‰ä¾èµ–å¤–éƒ¨ scope</li>
</ul>
<p>è¿™æ˜¯ UseCase å¹¶å‘çš„æœ€ä½³å®è·µã€‚</p>
<p>è°ƒç”¨æ–¹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85158fc0d17c46de819e87b549fd0f1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768867538&amp;x-signature=9rAONplneRXCJ1lUGeXqlwEEhZc%3D" alt="image.png" loading="lazy"/></p>
<p>èŒè´£æ¸…æ™°ï¼š</p>
<ul>
<li><strong>UseCaseï¼šæè¿°ä¸šåŠ¡æµç¨‹ï¼ˆåŒ…æ‹¬å¹¶å‘ï¼‰</strong></li>
<li><strong>ViewModelï¼šå†³å®šæ€ä¹ˆæ‰§è¡Œ</strong></li>
</ul>
<p>ä¸‹é¢æ˜¯æ•°æ®æµè½¬å›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3086a2178bf8403d856050f4060a63fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5r2c6b6Z5Yu_55So5LmL5YyW6aqo6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768867538&amp;x-signature=t8Sfvew8dJjUoHiPicqfuruUbxg%3D" alt="deepseek_mermaid_20260111_42a3a0.png" loading="lazy"/></p>
<h2 data-id="heading-18">ğŸ æœ€ç»ˆæ€»ç»“ï¼šUseCase çš„â€œå®ˆè¾¹è®¡åˆ’â€</h2>
<h4 data-id="heading-19">ğŸŸ¢ UseCase åº”è¯¥åšä»€ä¹ˆï¼Ÿï¼ˆèŒè´£ï¼šä¸šåŠ¡ç¼–æ’ï¼‰</h4>
<ul>
<li><strong>æè¿°ä¸šåŠ¡æµç¨‹ï¼š</strong> å°†å¤æ‚çš„ä¸šåŠ¡æ­¥éª¤è½¬åŒ–ä¸ºæ¸…æ™°çš„ä»£ç é€»è¾‘ã€‚</li>
<li><strong>ç»„åˆæ•°æ®æºï¼š</strong> ä½œä¸ºä¸­é—´äººï¼Œåè°ƒå¤šä¸ª Repository æä¾›çš„æ•°æ®ã€‚</li>
<li><strong>æ‰§è¡Œä¸šåŠ¡åˆ¤æ–­ï¼š</strong> å¤„ç†è¯¸å¦‚â€œæƒé™æ£€æŸ¥â€ã€â€œæ•°æ®è¿‡æ»¤â€ã€â€œç»“æœåˆå¹¶â€ç­‰çº¯ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li><strong>ä¿æŒä¸­ç«‹ï¼š</strong> å®ƒæ˜¯çº¯ç²¹çš„ Kotlin é€»è¾‘ï¼Œä¸ä¾èµ– Android ç¯å¢ƒï¼Œæ˜“äºæµ‹è¯•å’Œå¤ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-20">ğŸ”´ UseCase ä¸è¯¥åšä»€ä¹ˆï¼Ÿï¼ˆè¾¹ç•Œï¼šç¯å¢ƒè§£è€¦ï¼‰</h4>
<ul>
<li><strong>ç¦æ­¢åˆ‡çº¿ç¨‹ï¼š</strong> ä¸ç¡¬ç¼–ç  <code>Dispatchers</code>ï¼Œç¡®ä¿ä»£ç çš„çº¿ç¨‹é€æ˜åº¦ã€‚</li>
<li><strong>ç¦æ­¢å¯åŠ¨åç¨‹ï¼š</strong> <code>ioScope</code>ï¼Œç”Ÿå‘½å‘¨æœŸåº”ç”±è°ƒç”¨è€…ï¼ˆViewModelï¼‰æ§åˆ¶ã€‚</li>
<li><strong>ç¦æ­¢å¤„ç† UI çŠ¶æ€ï¼š</strong> å®ƒåªè¿”å›ä¸šåŠ¡æ•°æ®æˆ– Resultï¼Œä¸å…³å¿ƒè¿›åº¦æ¡æˆ–å¼¹çª—ã€‚</li>
<li><strong>ç¦æ­¢ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼š</strong> å®ƒåº”è¯¥æ˜¯æ— çŠ¶æ€çš„ï¼Œéšè°ƒéšç”¨ï¼Œç”¨å®Œå³èµ°ã€‚</li>
</ul>
<blockquote>
<p><strong>æ ¸å¿ƒä¿¡æ¡ï¼š</strong>
<strong>å¯ä»¥å¹¶è¡Œï¼ˆasyncï¼‰ï¼Œä½†ä¸è¦å¯åŠ¨ï¼ˆlaunchï¼‰ï¼›</strong>
<strong>å¯ä»¥ç»„åˆï¼Œä½†ä¸è¦è°ƒåº¦ï¼›</strong>
<strong>å¯ä»¥ç¼–æ’ä¸šåŠ¡ï¼Œä½†ä¸è¦ç®¡ç†çº¿ç¨‹ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaå¼€å‘è€…å¿…çŸ¥çš„5ä¸ªæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œè®©åº”ç”¨é€Ÿåº¦æå‡300%ï¼]]></title>    <link>https://juejin.cn/post/7594315259462451235</link>    <guid>https://juejin.cn/post/7594315259462451235</guid>    <pubDate>2026-01-13T00:17:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594315259462451235" data-draft-id="7594303923361693736" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaå¼€å‘è€…å¿…çŸ¥çš„5ä¸ªæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œè®©åº”ç”¨é€Ÿåº¦æå‡300%ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-13T00:17:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaå¼€å‘è€…å¿…çŸ¥çš„5ä¸ªæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œè®©åº”ç”¨é€Ÿåº¦æå‡300%ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T00:17:00.000Z" title="Tue Jan 13 2026 00:17:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Javaå¼€å‘è€…å¿…çŸ¥çš„5ä¸ªæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œè®©åº”ç”¨é€Ÿåº¦æå‡300%ï¼</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨å½“ä»Šå¿«èŠ‚å¥çš„æ•°å­—åŒ–ä¸–ç•Œä¸­ï¼Œåº”ç”¨ç¨‹åºçš„æ€§èƒ½ç›´æ¥å…³ç³»åˆ°ç”¨æˆ·ä½“éªŒå’Œä¸šåŠ¡æˆåŠŸã€‚å¯¹äºJavaå¼€å‘è€…è€Œè¨€ï¼Œæ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€é¡¹è‡³å…³é‡è¦çš„æŠ€èƒ½ã€‚å°½ç®¡Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†è®¸å¤šè‡ªåŠ¨åŒ–çš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µï¼Œä½†åœ¨é«˜å¹¶å‘ã€å¤§æ•°æ®é‡æˆ–ä½å»¶è¿Ÿçš„åœºæ™¯ä¸‹ï¼Œæ‰‹åŠ¨ä¼˜åŒ–ä»ç„¶ä¸å¯æˆ–ç¼ºã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨äº”ä¸ªç»è¿‡éªŒè¯çš„Javaæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œå¸®åŠ©ä½ å°†åº”ç”¨ç¨‹åºçš„é€Ÿåº¦æå‡300%ç”šè‡³æ›´å¤šã€‚è¿™äº›æŠ€å·§æ¶µç›–äº†ä»ä»£ç ç¼–å†™åˆ°JVMè°ƒä¼˜çš„å¤šä¸ªå±‚é¢ï¼Œé€‚åˆä¸­é«˜çº§å¼€å‘è€…å­¦ä¹ å’Œå®è·µã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. åˆç†ä½¿ç”¨StringBuilderä»£æ›¿å­—ç¬¦ä¸²æ‹¼æ¥</h3>
<p>å­—ç¬¦ä¸²æ“ä½œæ˜¯Javaä¸­æœ€å¸¸è§çš„æ“ä½œä¹‹ä¸€ï¼Œä½†ä¹Ÿæ˜¯æœ€å®¹æ˜“å¼•å‘æ€§èƒ½é—®é¢˜çš„æ“ä½œä¹‹ä¸€ã€‚è®¸å¤šå¼€å‘è€…ä¹ æƒ¯ä½¿ç”¨<code>+</code>è¿ç®—ç¬¦è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œè¿™åœ¨å¾ªç¯æˆ–é«˜é¢‘è°ƒç”¨çš„åœºæ™¯ä¸‹ä¼šå¯¼è‡´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
    result += i; <span class="hljs-comment">// æ¯æ¬¡å¾ªç¯éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Stringå¯¹è±¡</span>
}
</code></pre>
<p>è¿™ç§å†™æ³•ä¼šç”Ÿæˆå¤§é‡ä¸­é—´<code>String</code>å¯¹è±¡ï¼Œä¸ä»…å ç”¨å†…å­˜ï¼Œè¿˜ä¼šå¢åŠ åƒåœ¾å›æ”¶çš„å‹åŠ›ã€‚æ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨<code>StringBuilder</code>ï¼ˆæˆ–åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä½¿ç”¨<code>StringBuffer</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
    sb.append(i);
}
<span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sb.toString();
</code></pre>
<p><strong>æ€§èƒ½æå‡ä¾æ®</strong>ï¼š</p>
<ul>
<li><code>StringBuilder</code>é€šè¿‡å¯å˜å­—ç¬¦æ•°ç»„é¿å…äº†é¢‘ç¹çš„å¯¹è±¡åˆ›å»ºå’Œé”€æ¯ã€‚</li>
<li>å®æµ‹è¡¨æ˜ï¼Œåœ¨å¤§è§„æ¨¡å­—ç¬¦ä¸²æ‹¼æ¥åœºæ™¯ä¸‹ï¼ˆå¦‚10ä¸‡æ¬¡æ‹¼æ¥ï¼‰ï¼Œ<code>StringBuilder</code>çš„æ€§èƒ½å¯ä»¥æ¯”ç›´æ¥æ‹¼æ¥å¿«å‡ åå€ç”šè‡³ä¸Šç™¾å€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">2. é¿å…ä¸å¿…è¦çš„è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</h3>
<p>Javaçš„è‡ªåŠ¨è£…ç®±ï¼ˆAutoboxingï¼‰å’Œæ‹†ç®±ï¼ˆUnboxingï¼‰è™½ç„¶æ–¹ä¾¿ï¼Œä½†åœ¨é«˜æ€§èƒ½åœºæ™¯ä¸‹ä¼šæˆä¸ºéšå½¢æ€æ‰‹ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Integer</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; Integer.MAX_VALUE; i++) {
    sum += i; <span class="hljs-comment">// éšå«äº†å¤šæ¬¡è£…ç®±å’Œæ‹†ç®±æ“ä½œ</span>
}
</code></pre>
<p>è¿™æ®µä»£ç ä¸­ï¼Œæ¯æ¬¡å¾ªç¯éƒ½ä¼šå¯¹<code>sum</code>è¿›è¡Œæ‹†ç®±å’Œé‡æ–°è£…ç®±æ“ä½œï¼Œå¯¼è‡´é¢å¤–çš„æ€§èƒ½å¼€é”€ã€‚æ”¹è¿›æ–¹æ³•æ˜¯ç›´æ¥ä½¿ç”¨åŸºæœ¬ç±»å‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; Integer.MAX_VALUE; i++) {
    sum += i;
}
</code></pre>
<p><strong>æ€§èƒ½æå‡ä¾æ®</strong>ï¼š</p>
<ul>
<li>JVMå¯¹åŸºæœ¬ç±»å‹çš„æ“ä½œæœ‰ä¸“é—¨çš„æŒ‡ä»¤æ”¯æŒï¼ˆå¦‚<code>iadd</code>ï¼‰ï¼Œè€ŒåŒ…è£…ç±»å‹éœ€è¦é¢å¤–çš„æ–¹æ³•è°ƒç”¨å’Œå†…å­˜åˆ†é…ã€‚</li>
<li>Benchmarkæµ‹è¯•æ˜¾ç¤ºï¼Œåœ¨é«˜é¢‘å¾ªç¯ä¸­é¿å…è£…ç®±/æ‹†ç®±å¯ä»¥å°†æ€§èƒ½æå‡50%ä»¥ä¸Šã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">3. åˆ©ç”¨ç¼“å­˜å‡å°‘é‡å¤è®¡ç®—</h3>
<p>åœ¨è®¸å¤šåœºæ™¯ä¸­ï¼Œè®¡ç®—ç»“æœæ˜¯å¯ä»¥å¤ç”¨çš„ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>æ•°å­¦è®¡ç®—</strong>ï¼šå¦‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„è®¡ç®—å¯ä»¥é€šè¿‡åŠ¨æ€è§„åˆ’æˆ–ç¼“å­˜ä¼˜åŒ–ã€‚</li>
<li><strong>èµ„æºåŠ è½½</strong>ï¼šå¦‚æ•°æ®åº“è¿æ¥ã€é…ç½®æ–‡ä»¶è§£æç­‰å¯ä»¥é€šè¿‡å•ä¾‹æˆ–ç¼“å­˜æ± å¤ç”¨ã€‚</li>
</ul>
<p>ä»¥æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½æ•ˆå®ç°ï¼ˆé€’å½’ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fibonacci</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> {
    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> n;
    <span class="hljs-keyword">return</span> fibonacci(n - <span class="hljs-number">1</span>) + fibonacci(n - <span class="hljs-number">2</span>);
}

<span class="hljs-comment">// é«˜æ•ˆå®ç°ï¼ˆç¼“å­˜ï¼‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;Integer, Integer&gt; cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fibonacciOptimized</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> {
    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> n;
    <span class="hljs-keyword">if</span> (cache.containsKey(n)) <span class="hljs-keyword">return</span> cache.get(n);
    <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> fibonacciOptimized(n - <span class="hljs-number">1</span>) + fibonacciOptimized(n - <span class="hljs-number">2</span>);
    cache.put(n, result);
    <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p><strong>æ€§èƒ½æå‡ä¾æ®</strong>ï¼š</p>
<ul>
<li><code>fibonacci(40)</code>çš„é€’å½’å®ç°å¯èƒ½éœ€è¦æ•°ç§’å®Œæˆï¼Œè€Œç¼“å­˜ç‰ˆæœ¬ä»…éœ€æ¯«ç§’çº§æ—¶é—´ã€‚</li>
<li>Guava Cacheã€Caffeineç­‰ä¸“ä¸šç¼“å­˜åº“å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•è¿™ä¸€æ€è·¯ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">4. JVMè°ƒä¼˜ï¼šé€‰æ‹©åˆé€‚çš„åƒåœ¾å›æ”¶å™¨ä¸å †å¤§å°é…ç½®</h3>
<p>JVMçš„åƒåœ¾å›æ”¶æœºåˆ¶å¯¹æ€§èƒ½å½±å“æå¤§ã€‚ä¸åŒçš„åº”ç”¨åœºæ™¯éœ€è¦ä¸åŒçš„GCç­–ç•¥ï¼š</p>
<ul>
<li><strong>ä½å»¶è¿Ÿåº”ç”¨</strong>ï¼šä¼˜å…ˆé€‰æ‹©ZGCæˆ–Shenandoah GCï¼ˆJDK11+ï¼‰ã€‚</li>
<li><strong>é«˜ååé‡åº”ç”¨</strong>ï¼šG1 GCæˆ–Parallel GCå¯èƒ½æ›´åˆé€‚ã€‚</li>
</ul>
<p>ç¤ºä¾‹å¯åŠ¨å‚æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ZGCé…ç½®ï¼ˆä½å»¶è¿Ÿï¼‰</span>
java -XX:+UseZGC -Xmx4g -Xms4g MyApp

<span class="hljs-comment"># G1é…ç½®ï¼ˆå¹³è¡¡ååé‡ä¸å»¶è¿Ÿï¼‰</span>
java -XX:+UseG1GC -Xmx4g -Xms4g MyApp
</code></pre>
<p>æ­¤å¤–ï¼Œåˆç†è®¾ç½®å †å¤§å°è‡³å…³é‡è¦ï¼š</p>
<ul>
<li><code>-Xms</code>å’Œ<code>-Xmx</code>åº”è®¾ä¸ºç›¸åŒå€¼ä»¥é¿å…è¿è¡Œæ—¶æ‰©å®¹å¼€é”€ã€‚</li>
<li>Metaspaceå¤§å°å¯é€šè¿‡<code>-XX:MaxMetaspaceSize</code>é™åˆ¶ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">5 .  æ•°æ®ç»“æ„é€‰æ‹©ä¸ç®—æ³•ä¼˜åŒ–</h3>
<p>é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„èƒ½æ˜¾è‘—æå‡ç¨‹åºæ•ˆç‡ï¼š</p>

























<table><thead><tr><th>åœºæ™¯</th><th>é”™è¯¯é€‰æ‹©</th><th>æ­£ç¡®é€‰æ‹©</th></tr></thead><tbody><tr><td>é«˜é¢‘æ’å…¥åˆ é™¤</td><td>ArrayList</td><td>LinkedList</td></tr><tr><td>å¿«é€ŸæŸ¥æ‰¾</td><td>LinkedList</td><td>HashSet/HashMap</td></tr><tr><td>èŒƒå›´æŸ¥è¯¢</td><td>HashMap</td><td>TreeMap</td></tr></tbody></table>
<p>åŒæ—¶è¦æ³¨æ„ç®—æ³•æ—¶é—´å¤æ‚åº¦å·®å¼‚:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// O(nÂ²)</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i : listA) { 
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j : listB) { ... } 
}

<span class="hljs-comment">// O(n)æ”¹è¿›æ–¹æ¡ˆ </span>
Set&lt;Integer&gt; setB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;(listB); 
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i : listA) { 
    <span class="hljs-keyword">if</span>(setB.contains(i)) ... 
}
</code></pre>
<hr/>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†äº”ç§ç»è¿‡å®æˆ˜æ£€éªŒçš„Javaæ€§èƒ½ä¼˜åŒ–æŠ€å·§:</p>
<ol>
<li>StringBuilderæ›¿ä»£å­—ç¬¦ä¸²æ‹¼æ¥</li>
<li>é¿å…æ— æ„ä¹‰çš„è‡ªåŠ¨è£…ç®±</li>
<li>åˆç†åˆ©ç”¨ç¼“å­˜æœºåˆ¶</li>
<li>é’ˆå¯¹æ€§çš„JVMè°ƒä¼˜ç­–ç•¥</li>
<li>é€‰æ‹©æœ€ä¼˜æ•°æ®ç»“æ„å’Œç®—æ³•</li>
</ol>
<p>çœŸæ­£çš„ä¼˜åŒ–éœ€è¦ç»“åˆå…·ä½“åœºæ™¯åˆ†æ ï¼Œå»ºè®®é€šè¿‡JMHç­‰å·¥å…·è¿›è¡ŒåŸºå‡†æµ‹è¯• ã€‚æŒç»­çš„æ€§èƒ½ç›‘æ§(å¦‚APMå·¥å…· )ä¹Ÿæ˜¯ä¿è¯é•¿æœŸé«˜æ•ˆè¿è¡Œçš„å…³é”® ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åƒé”¤ç™¾ç‚¼å†™View æ‘¸çˆ¬æ»šæ‰“åå£°å°±]]></title>    <link>https://juejin.cn/post/7594310266410893312</link>    <guid>https://juejin.cn/post/7594310266410893312</guid>    <pubDate>2026-01-13T00:26:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594310266410893312" data-draft-id="7594301878827171878" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åƒé”¤ç™¾ç‚¼å†™View æ‘¸çˆ¬æ»šæ‰“åå£°å°±"/> <meta itemprop="keywords" content="Android,Kotlin"/> <meta itemprop="datePublished" content="2026-01-13T00:26:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åƒé”¤ç™¾ç‚¼å†™View æ‘¸çˆ¬æ»šæ‰“åå£°å°±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T00:26:42.000Z" title="Tue Jan 13 2026 00:26:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><em>æœ¬ç³»åˆ—ä¸º Android æŠ€æœ¯èŒåœºé¢˜æè™šæ„å°è¯´ï¼Œæ‰€æœ‰ç™»åœºäººç‰©ã€å…¬å¸åç§°ã€ç»„ç»‡æ¶æ„åŠç›¸å…³æƒ…èŠ‚å‡ä¸ºåˆ›ä½œæ‰€éœ€è™šæ„è€Œæ¥ï¼Œè‹¥æœ‰é›·åŒï¼Œçº¯å±å¶ç„¶ã€‚ä¹¦ä¸­æ¶‰åŠçš„æŠ€æœ¯çŸ¥è¯†ç»ä¸“ä¸šæ¢³ç†ï¼Œä»…ä¾›å‚è€ƒã€‚</em></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3222ad2c636464893ef9a7de0632bb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768868802&amp;x-signature=azdaBCv6jIc0R%2FwmhpGqabfnQf0%3D" alt="00.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¹ï¼‰åƒé”¤ç™¾ç‚¼å†™View æ‘¸çˆ¬æ»šæ‰“åå£°å°±</h2>
<p>æ™šä¸Šä¹ç‚¹åŠï¼Œ17 æ¥¼åŠå…¬åŒºçš„ç¯å…‰ä¾æ—§äº®ç€å¤§åŠï¼Œåƒä¸€ç‰‡æœªçœ çš„æ˜Ÿæµ·ã€‚</p>
<p>æ—å“ç«¯èµ·æ°´æ¯å–äº†ä¸€å£ï¼Œæ¸©æ°´æ»‘è¿‡å–‰å’™ï¼Œå´æ²¡èƒ½å¸¦èµ°æŒ‡å°–çš„ç–²æƒ«ã€‚</p>
<p>ä»–å°†æ¯å­è½»è½»æ”¾å›æ¡Œè§’ï¼Œé”®ç›˜çš„å¾®å…‰æ˜ å‡ºä»–æŒ‡èŠ‚çš„è½®å»“ï¼Œéšå³ï¼ŒæŒ‡å°–å†æ¬¡è½ä¸‹ï¼Œæ•²å‡»å£°æ¸…è„†è€Œåšå®šï¼Œä»¿ä½›åœ¨å¯‚é™ä¸­ä¸ºæ—¶é—´æ‰“æ‹å­ã€‚</p>
<p>ä»–ç´§æ€¥æ”¯æ´è½¦è”ç½‘é¡¹ç›®å·²ä¸‰å¤©ã€‚è¿™ä¸ªæ‰¿è½½å…¬å¸ä¸‹ä¸€ä¸ªæˆ˜ç•¥ç›®æ ‡çš„ç³»ç»Ÿï¼Œå¿…é¡»åœ¨å¹´å‰ä¸Šçº¿â€”â€”è€Œè·ç¦»æˆªæ­¢æ—¥ï¼Œåªå‰©ä¸åˆ°ä¸‰ä¸ªæœˆã€‚</p>
<p>æ•´ä¸ªå›¢é˜Ÿå¤„äºé«˜é€Ÿæ”»åšçŠ¶æ€ï¼Œæ¯æ—¥ç«™ä¼šã€é—®é¢˜å¤ç›˜ã€ç‰ˆæœ¬è¿­ä»£ï¼ŒèŠ‚å¥ç´§å¾—åƒä¸€æ ¹æ‹‰åˆ°æé™çš„å¼¹ç°§ã€‚æ—å“çŸ¥é“ï¼Œè¿™ä¸ä»…æ˜¯æŠ€æœ¯æˆ˜ï¼Œæ›´æ˜¯å¿ƒç†æˆ˜ã€‚</p>
<p>ä»–å‚ä¸çš„æ˜¯è½¦æœºç«¯è½¦è½½ä¿¡æ¯å¨±ä¹ç³»ç»Ÿ UI çš„å¼€å‘å·¥ä½œã€‚è¿™éƒ¨åˆ†ç›´æ¥å…³ä¹ç”¨æˆ·é©¾é©¶æ—¶çš„äº¤äº’ä½“éªŒâ€”â€”èœå•æ»‘åŠ¨æ˜¯å¦é¡ºæ»‘ï¼Œå¯¼èˆªæ ‡æ³¨æ˜¯å¦å®æ—¶ï¼ŒçŠ¶æ€é¢æ¿åˆ·æ–°æ˜¯å¦åŠæ—¶ï¼Œæ¯ä¸€ä¸ªç»†èŠ‚éƒ½å¯èƒ½å½±å“é©¾é©¶å®‰å…¨ä¸å“ç‰Œå£ç¢‘ï¼Œå®¹ä¸å¾—åŠç‚¹é©¬è™ã€‚</p>
<p>ç™½å¤©ï¼Œä»–åˆšç”¨è€æ¨åˆ†äº«çš„ã€ŠAndroid æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‹ä¸­å…³äº <code>View</code> ç”Ÿå‘½å‘¨æœŸçŸ¥è¯†ç‚¹è§£å†³è¿‡è¿™ä¸ªæ¨¡å—çš„åŸºç¡€é—®é¢˜ã€‚</p>
<p>ä¸Šåˆè°ƒè¯•æ—¶ï¼Œä»–å‘ç°è½¦æœºå¯åŠ¨åï¼Œå¯¼èˆªä¾§è¾¹æ çš„èœå• <code>View</code> ä¼šè«åå‡ºç°ä¸¢å¸§çš„æƒ…å†µï¼šæ»‘åŠ¨æ—¶å¡é¡¿æ˜æ˜¾ï¼Œå¶å°”å›å¼¹å¤±æ•ˆã€‚</p>
<p>åå¤æ’æŸ¥ï¼Œèµ°äº†ä¸å°‘å¼¯è·¯ï¼Œæœ€ç»ˆé”å®šæ ¹æºâ€”â€”èœå• <code>View</code> åœ¨ <code>onAttachedToWindow</code> æ—¶å°±è§¦å‘äº†éå¸¸å¤æ‚çš„æµ®ç‚¹æ•°è¿ç®—ï¼Œç”¨äºé¢„è®¡ç®—å„çº§èœå•çš„å±•å¼€åæ ‡ä¸åŠ¨ç”»è½¨è¿¹ã€‚</p>
<p>ä½†æ­¤æ—¶ <code>onMeasure</code> å’Œ <code>onLayout</code> è¿˜æ²¡æ‰§è¡Œï¼Œ<code>View</code> çš„å®½é«˜å°šæœªç¡®å®šï¼Œæ¸²æŸ“æ—¶å› å¸ƒå±€æœªå°±ç»ªï¼Œå¯¼è‡´è¿ç®—ç»“æœä¸ä»…æ— æ•ˆï¼Œè¿˜åœ¨åå¤è¿ç®—ï¼Œé‡ç»˜é¢‘ç¹ï¼Œè¿›è€Œå¼•å‘ä¸¢å¸§ã€‚</p>
<p>ä»–å½“å³è°ƒæ•´äº†é€»è¾‘ï¼ŒæŠŠæµ®ç‚¹æ•°è¿ç®—çš„æ—¶æœºå»¶ååˆ°ç¬¬ä¸€æ¬¡ <code>onDraw</code> æ‰§è¡Œå‰ï¼Œç¡®ä¿å¸ƒå±€å·²ç¨³å®šã€‚</p>
<p>åŒæ—¶ï¼Œä¸ºé¿å…ä¸»çº¿ç¨‹é˜»å¡ï¼Œä»–å°†æ…¢çš„è¿ç®—ä»»åŠ¡æ‹†è§£åç§»äº¤è‡³å·¥ä½œè€…çº¿ç¨‹å¤„ç†ï¼Œå¹¶æ·»åŠ æ¶ˆæ¯é˜Ÿåˆ—æ§åˆ¶èŠ‚å¥ã€‚</p>
<p>è¿˜åœ¨ <code>onDetachedFromWindow</code> ä¸­è¡¥å……äº†çº¿ç¨‹ä¸­æ–­ä¸ç›‘å¬å™¨æ³¨é”€é€»è¾‘ï¼Œé˜²æ­¢ <code>View</code> é”€æ¯åä»æœ‰åå°ä»»åŠ¡æŒç»­å ç”¨èµ„æºï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚</p>
<p>è¿™ä¸ªå°æ’æ›²è®©ä»–å¯¹ <code>View</code> ç”Ÿå‘½å‘¨æœŸçš„ç†è§£æ›´æ·±åˆ»äº†ã€‚</p>
<p>æ­¤åˆ»ï¼Œä»–é—­çœ¼ç‰‡åˆ»ï¼Œè„‘æµ·ä¸­å†æ¬¡å›æ”¾ç¬”è®°é‡Œçš„å…³é”®èŠ‚ç‚¹ï¼šä» <code>onAttachedToWindow</code> å®Œæˆ <code>View</code> ä¸çª—å£çš„ç»‘å®šï¼Œåˆ° <code>onMeasure</code> æµ‹é‡å°ºå¯¸ã€<code>onLayout</code> ç¡®å®šä½ç½®ï¼Œå†åˆ° <code>onDraw</code> å®Œæˆç»˜åˆ¶ï¼Œæœ€å <code>onDetachedFromWindow</code> è§£ç»‘é”€æ¯ã€‚</p>
<p>æ¯ä¸ªç¯èŠ‚ç¯ç¯ç›¸æ‰£ï¼Œä»»ä½•ä¸€æ­¥æ—¶æœºé”™ä½ï¼Œéƒ½å¯èƒ½åƒå¤šç±³è¯ºéª¨ç‰Œä¸€æ ·ï¼Œå¼•å‘è¿é”ååº”ã€‚</p>
<p>å°¤å…¶æ˜¯è‡ªå®šä¹‰ <code>View</code> ä¸é‡ç»˜æœºåˆ¶ï¼Œæ­£æ˜¯å½“å‰è¦æ”»å…‹çš„å¯¼èˆªå¡é¡¿ã€é¢æ¿é—ªçƒç­‰æ ¸å¿ƒé—®é¢˜çš„å…³é”®ã€‚</p>
<p>ç™½å¤©è§£å†³é—®é¢˜çš„ç»éªŒï¼Œè®©ä»–å¯¹æ¥ä¸‹æ¥çš„æ”»åšæ›´æœ‰åº•æ°”ã€‚ä¸è¿‡çœŸæ­£çš„æŒ‘æˆ˜ï¼Œå¯èƒ½æ‰åˆšåˆšå¼€å§‹ã€‚</p>
<p>è½¦æœº UI ä¸æ‰‹æœºç«¯å·®å¼‚å·¨å¤§ï¼šè½¦æœºåœ¨é€‚é…ä¸åŒè½¦å‹çš„å±å¹•å°ºå¯¸ä¸åˆ†è¾¨ç‡çš„åŸºç¡€ä¸Šï¼Œè¿˜è¦åº”å¯¹ç”¨æˆ·å¤æ‚çš„æ‹–æ‹½æ“ä½œé€»è¾‘ã€é¢ ç°¸è·¯å†µä¸‹çš„è§¦æ§ç¨³å®šæ€§ï¼Œæ›´è¦æ±‚æä½çš„æ¸²æŸ“å»¶è¿Ÿï¼Œä»¥ä¿éšœé©¾é©¶æ—¶çš„æ“ä½œå®‰å…¨ã€‚</p>
<p>æ‰‹æœºä¸Šå¡é¡¿ä¸€ç§’æˆ–è®¸åªæ˜¯ä½“éªŒä¸ä½³ï¼Œä½†åœ¨è½¦æœºä¸Šï¼Œé‚£ä¸€ç§’ï¼Œå¯èƒ½å°±æ˜¯äº‹æ•…çš„ä¸´ç•Œç‚¹ã€‚</p>
<p>è¿™æ—¶ï¼Œé¡¹ç›®è´Ÿè´£äººå¼ ç£Šèµ°äº†è¿‡æ¥ï¼Œçš®é‹æ•²å‡»åœ°é¢çš„å£°éŸ³åœ¨å®‰é™çš„åŠå…¬åŒºæ ¼å¤–æ¸…æ™°ã€‚</p>
<p>æ—å“çš„å¿ƒè·³è«åæ¼äº†ä¸€æ‹ã€‚</p>
<p>ä¸€å¹´å‰ä»–ç¬¬ä¸€æ¬¡è½¬æ­£é¢è¯•ï¼Œé¢è¯•å®˜æ­£æ˜¯å¼ ç£Šï¼Œé‚£åœºé¢è¯•åªæŒç»­äº†äº”åˆ†é’Ÿå°±ä»¥å¤±è´¥å‘Šç»ˆã€‚</p>
<p>å¼ ç£Šå½“æ—¶åªé—®äº†ä¸€å¥ï¼šAndroidç³»ç»Ÿæ¶æ„åˆ†å‡ å±‚ã€‚è¿™ä¸ªé—®é¢˜ï¼Œè‡³ä»Šè¿˜åˆ»åœ¨ä»–çš„è®°å¿†é‡Œã€‚</p>
<p>æ­¤åˆ»å¼ ç£Šé€’æ¥ä¸€å°æµ‹è¯•è®¾å¤‡å’Œä¸€ä»½éœ€æ±‚æ–‡æ¡£ï¼Œè¯­æ°”å‡é‡ã€‚</p>
<p>â€œå°æ—ï¼Œæœ‰ä¸ªæ£˜æ‰‹é—®é¢˜äº¤ç»™ä½ ã€‚è½¦æœºç«¯æ–°é—»æ¨¡å—çš„æµå¼å¸ƒå±€æ¸²æŸ“å¡é¡¿ï¼Œæ–°å†…å®¹åˆ·æ–°æ—¶è¿˜ä¼šå‡ºç°é‡å â€”â€”éƒ½æ˜¯æ ¸å¿ƒç—›ç‚¹ã€‚â€</p>
<p>â€œå®¢æˆ·å·²ç»åé¦ˆä¸¤æ¬¡äº†ï¼Œå†ä¸è§£å†³ï¼Œå¯èƒ½ä¼šå½±å“ä¸Šçº¿èŠ‚ç‚¹ã€‚â€</p>
<p>æ—å“æ¥è¿‡è®¾å¤‡ï¼Œå¿«é€Ÿç¿»é˜…æ–‡æ¡£ï¼Œçœ‰å¤´å¾®è¹™ã€‚ä»–ä»”ç»†æŸ¥çœ‹ç°æœ‰çš„ä»£ç ï¼Œè¶Šçœ‹çœ‰å¤´çš±å¾—è¶Šç´§ï¼Œæ‹§æˆäº†ä¸€å›¢ï¼Œåƒé¢—çš±å·´å·´çš„æ ¸æ¡ƒã€‚</p>
<p>é™¤äº†å¤šå±‚åµŒå¥—çš„é—®é¢˜ï¼Œæ›´è®©ä»–æ— å¥ˆçš„æ˜¯â€œè€å¼€å‘â€œçš„â€œå›¾æ–¹ä¾¿â€æ“ä½œâ€”â€”å¾ˆå¤šæ˜æ˜åªéœ€è¦æ˜¾ç¤ºçº¯è‰²èƒŒæ™¯çš„ç®€å•å ä½åŒºåŸŸï¼Œç«Ÿç„¶éƒ½ç”¨äº† <code>LinearLayout</code> æˆ– <code>FrameLayout</code> æ¥å®ç°ã€‚</p>
<p>â€œè¿™å®Œå…¨æ˜¯æ²¡å¿…è¦çš„æµªè´¹å•Šã€‚â€ä»–ä½å£°è‡ªè¯­ã€‚</p>
<p>æ—å“å¿ƒé‡Œæ¸…æ¥šï¼Œè¿™ç±»ä»…éœ€æ‰¿è½½èƒŒæ™¯ã€æ— éœ€ç®¡ç†å­ <code>View</code> çš„åœºæ™¯ï¼Œç”¨æœ€åŸºç¡€çš„ <code>View</code> æˆ–è€… <code>Spacer</code> å°±è¶³å¤Ÿäº†ã€‚</p>
<p><code>ViewGroup</code> ä½œä¸ºå®¹å™¨ç»„ä»¶ï¼Œå†…éƒ¨åŒ…å«äº†å­ <code>View</code> çš„æµ‹é‡ã€å¸ƒå±€ã€ç»˜åˆ¶ç­‰ä¸€å¥—å¤æ‚çš„ç®¡ç†é€»è¾‘ï¼Œè¿ç®—å¼€é”€è¿œå¤§äºå•çº¯çš„ <code>View</code>ã€‚</p>
<p>è€Œ <code>View</code> åªéœ€æ‰§è¡Œè‡ªèº«çš„ç»˜åˆ¶é€»è¾‘ï¼Œ<code>Spacer</code> æ›´æ˜¯ä¸“é—¨ç”¨äºå ä½åˆ†éš”ï¼Œè½»é‡åˆé«˜æ•ˆã€‚</p>
<p>â€œè€å¼€å‘â€œä»¬ä¸ºäº†çœå‡ è¡Œä»£ç ï¼Œå´ç»™è½¦æœºæ€§èƒ½åŸ‹ä¸‹äº†éšæ‚£ã€‚</p>
<p>ä»–ç»§ç»­ç¿»çœ‹ä»£ç ï¼Œå‘ç°æ›´å¤¸å¼ çš„æƒ…å†µã€‚</p>
<p>ä¸€ä¸ªä»ªè¡¨ç›˜ç»„ä»¶ä¸­ï¼Œç«Ÿç„¶åµŒå¥—äº†ä¸ƒå±‚ <code>LinearLayout</code>ï¼Œå°±ä¸ºäº†åŒ…è£¹ä¸€ä¸ª <code>TextView</code>ã€‚</p>
<p>â€œè½¦æœºå¯¹æ€§èƒ½æå…¶æ•æ„Ÿï¼Œâ€ä»–åŠ é‡äº†è¯­æ°”ã€‚</p>
<p><code>ViewGroup</code> ç®¡ç†å­ <code>View</code> æœ¬å°±å¼€é”€å¤§ï¼Œä¸ä»…è¦è®¡ç®—è‡ªèº«å¸ƒå±€ï¼Œè¿˜è¦éå†æ‰€æœ‰å­ <code>View</code> æ‰§è¡Œæµ‹é‡å’Œç»˜åˆ¶ã€‚</p>
<p>è¿™ç§è¿‡åº¦åµŒå¥—å†åŠ ä¸Šæ— æ„ä¹‰çš„ <code>ViewGroup</code> ä½¿ç”¨ï¼Œåªä¼šè¿›ä¸€æ­¥æ‹–æ…¢æ¸²æŸ“é€Ÿåº¦ï¼Œå¢åŠ å†…å­˜å‹åŠ›ã€‚</p>
<p>å¼ ç£Šç‚¹å¤´ã€‚</p>
<p>â€œè¿™ä¸ªæ¨¡å—ç”¨çš„æ˜¯æµå¼å¸ƒå±€å±•ç¤ºæ–°é—»å¡ç‰‡ï¼Œæœ‰æ–°å†…å®¹æ¨é€æ—¶ä¼šå®æ—¶åˆ·æ–°ã€‚ç°åœ¨ä¸ä»…åˆ·æ–°æ—¶å¡é¡¿æ˜æ˜¾ï¼Œé«˜é€Ÿæ»‘åŠ¨æµè§ˆæ—¶å¡ç‰‡è¿˜ä¼šå‡ºç°æ‹–å½±ã€é‡å ã€‚ç”šè‡³æœ‰å†…å®¹è¢«é®æŒ¡çš„æƒ…å†µã€‚â€</p>
<p>æ—å“ç«‹å³ç‚¹å¼€æ–°é—»ç•Œé¢è¿›è¡Œæµ‹è¯•ã€‚</p>
<p>æœç„¶ï¼Œåˆšè¿›å…¥ç•Œé¢åŠ è½½æ–°é—»åˆ—è¡¨æ—¶ï¼Œå¡ç‰‡ä¾æ¬¡å¼¹å‡ºçš„è¿‡ç¨‹å¡é¡¿ä¸¥é‡ã€‚</p>
<p>æ¨¡æ‹Ÿæ–°å†…å®¹æ¨é€åˆ·æ–°æ—¶ï¼Œéƒ¨åˆ†å¡ç‰‡å‡ºç°çŸ­æš‚é‡å åæ‰å½’ä½ã€‚</p>
<p>é«˜é€Ÿæ»‘åŠ¨åˆ—è¡¨æ—¶ï¼Œæ–°é—»æ ‡é¢˜å’Œå›¾ç‰‡å‡ºç°æ˜æ˜¾æ‹–å½±ï¼Œæ»‘åŠ¨åœæ­¢åä»éœ€è¿‘ä¸¤ç§’æ‰å®Œå…¨æ¸…æ™°ã€‚</p>
<p>ä»–æ‰“å¼€å¼€å‘è€…æ¨¡å¼çš„â€œGPUè¿‡åº¦ç»˜åˆ¶â€ä¸â€œå¸§æ—¶é—´â€ç›‘æ§ã€‚</p>
<p>æ•°æ®æ˜¾ç¤ºï¼Œéƒ¨åˆ†è¿ç»­å¸§ç»˜åˆ¶æ—¶é—´é«˜è¾¾ 88msï¼Œè¿œè¶… 16ms çš„ 60FPS ä¸´ç•Œå€¼ã€‚</p>
<p>å°¤å…¶æ˜¯æ–°å†…å®¹åˆ·æ–°è§¦å‘æµå¼å¸ƒå±€é‡æ’æ—¶ï¼Œå¸§æ—¶é—´ç”šè‡³é£™å‡åˆ° 135msï¼Œè€Œä¸”é‡ç»˜é¢‘ç‡å¼‚å¸¸é«˜ï¼Œæ¯æ¬¡åˆ·æ–°éƒ½ä¼šè§¦å‘å…¨é‡é‡ç»˜ã€‚</p>
<p>æ·±å…¥ä»£ç åï¼Œä»–å¾ˆå¿«é”å®šç—‡ç»“ã€‚</p>
<p>æ–°é—»æ¨¡å—çš„æµå¼å¸ƒå±€æ˜¯åŸºäºè‡ªå®šä¹‰ <code>ViewGroup</code> å®ç°çš„ï¼Œç”¨äºåŠ¨æ€æ’åˆ—ä¸åŒå°ºå¯¸çš„æ–°é—»å¡ç‰‡ã€‚</p>
<p>ä½†åœ¨æ–°å†…å®¹æ¨é€åˆ·æ–°æˆ–æ»‘åŠ¨é‡æ’æ—¶ï¼Œç›´æ¥è°ƒç”¨äº† <code>invalidate()</code> è§¦å‘å…¨é‡é‡ç»˜ã€‚</p>
<p>å“ªæ€•åªæœ‰å•å¼ æ–°å¡ç‰‡æ·»åŠ ï¼Œæ•´ä¸ªæµå¼å¸ƒå±€çš„æ‰€æœ‰å­ <code>View</code> éƒ½ä¼šè¢«é‡æ–°ç»˜åˆ¶ï¼Œ<code>onDraw</code> è¢«é¢‘ç¹è°ƒç”¨ã€‚</p>
<p>å†åŠ ä¸Šæµå¼å¸ƒå±€æœ¬èº«è®¡ç®—å­ <code>View</code> ä½ç½®çš„é€»è¾‘è¾ƒå¤æ‚ï¼Œå¯¼è‡´ CPU è´Ÿè½½é£™å‡ï¼Œå¡é¡¿ä¸¥é‡ã€‚</p>
<p>â€œè§£å†³æ–¹æ¡ˆå¾ˆæ˜ç¡®ï¼Œâ€ä»–å¯¹å¼ ç£Šè¯´ã€‚â€œæ”¹ç”¨ <code>invalidate(Rect dirty)</code> æ›¿ä»£å…¨é‡é‡ç»˜ï¼Œåªé’ˆå¯¹æ–°æ·»åŠ å¡ç‰‡æˆ–ä½ç½®å˜åŒ–çš„å¡ç‰‡åŒºåŸŸè¿›è¡Œå±€éƒ¨é‡ç»˜ã€‚â€</p>
<p>â€œåŒæ—¶ä¼˜åŒ–æµå¼å¸ƒå±€çš„å­ <code>View</code> ä½ç½®è®¡ç®—é€»è¾‘ï¼Œç¼“å­˜å·²æ’åˆ—å¡ç‰‡çš„ä½ç½®ä¿¡æ¯ï¼Œé¿å…é‡æ’æ—¶é‡å¤è®¡ç®—ã€‚å¦å¤–ï¼Œç”¨ <code>Canvas.save()</code> å’Œ <code>restore()</code> ä¼˜åŒ–ç»˜åˆ¶æ—¶çš„åæ ‡ç³»å˜æ¢ï¼Œé¿å…çŸ©é˜µç´¯ç§¯è¯¯å·®å¯¼è‡´çš„å¡ç‰‡é‡å ã€‚â€</p>
<p>å¼ ç£Šçœ¼ä¸­é—ªè¿‡ä¸€ä¸èµè®¸ï¼šâ€œä½ æœ‰æ€è·¯å°±å¥½ã€‚å—¯ï¼Œè¿™ä¸ªé—®é¢˜æ˜å¤©èƒ½è§£å†³å°±è¡Œï¼ä»Šå¤©å…ˆä¼‘æ¯å§ã€‚â€</p>
<p>æ¥ä¸‹æ¥ä¸¤å¤©ï¼Œæ—å“å½»åº•é‡æ„æ–°é—»æ¨¡å—æµå¼å¸ƒå±€çš„ç»˜åˆ¶ä¸æ’ç‰ˆé€»è¾‘ã€‚</p>
<p>ä»–å…ˆç»™è‡ªå®šä¹‰æµå¼å¸ƒå±€æ·»åŠ äº†ä½ç½®ç¼“å­˜æœºåˆ¶ï¼Œé¦–æ¬¡æ’ç‰ˆåè®°å½•æ‰€æœ‰å¡ç‰‡çš„ <code>Rect</code> ä½ç½®ä¿¡æ¯ï¼Œåç»­åªæœ‰æ–°å¡ç‰‡æ·»åŠ æˆ–å¡ç‰‡åˆ é™¤æ—¶ï¼Œæ‰é‡æ–°è®¡ç®—å—å½±å“åŒºåŸŸçš„ä½ç½®ï¼Œè€Œéå…¨é‡é‡æ’ã€‚</p>
<p>ç„¶åä»–ä¿®æ”¹é‡ç»˜é€»è¾‘ï¼Œé€šè¿‡å¯¹æ¯”æ–°è€å¡ç‰‡çš„ä½ç½®ä¿¡æ¯ï¼Œè®¡ç®—å‡ºéœ€è¦é‡ç»˜çš„â€œè„åŒºâ€ <code>Rect</code>ï¼Œè°ƒç”¨ <code>invalidate(dirtyRect)</code> è¿›è¡Œå±€éƒ¨é‡ç»˜ï¼›åŒæ—¶å°†ç»˜åˆ¶æ—¶çš„åæ ‡ç³»å˜æ¢é€»è¾‘å°è£…ä¼˜åŒ–ï¼Œæ¯æ¬¡ç»˜åˆ¶å¡ç‰‡å‰è°ƒç”¨ <code>canvas.save()</code> ä¿å­˜çŠ¶æ€ï¼Œç»˜åˆ¶å®Œæˆå <code>canvas.restore()</code> æ¢å¤ï¼Œé¿å…å› åæ ‡ç´¯ç§¯è¯¯å·®å¯¼è‡´çš„å¡ç‰‡é‡å ã€‚</p>
<p>ä»–è¿˜è¡¥å……äº†<code>onDetachedFromWindow()</code> ä¸­çš„èµ„æºæ¸…ç†é€»è¾‘ï¼Œæ¸…ç©ºå¡ç‰‡ä½ç½®ç¼“å­˜ã€æ³¨é”€æ–°é—»æ¨é€çš„æ›´æ–°ç›‘å¬å™¨ï¼Œæ¸…é™¤æ‰€æœ‰å¾…å¤„ç†çš„ <code>Runnable</code> é˜²æ­¢å†…å­˜æ³„æ¼ï¼Œè¿˜å†™äº†ä¸€å¥—å‹åŠ›æµ‹è¯•è„šæœ¬æ¨¡æ‹Ÿé«˜é¢‘ç‡æ–°é—»æ¨é€å’Œé«˜é€Ÿæ»‘åŠ¨æµè§ˆåœºæ™¯ã€‚</p>
<p>ä¼˜åŒ–åï¼Œæ–°é—»æ¨¡å—çš„å¸§ç‡ç¨³å®šåœ¨ 12ms ä»¥å†…ï¼Œæœ€é«˜ä¹Ÿä¸ä¼šè¶…è¿‡ 36msï¼Œæ–°å†…å®¹åˆ·æ–°æ—¶å°‘å¡é¡¿ã€æ— é‡å ï¼Œé«˜é€Ÿæ»‘åŠ¨ä¹Ÿä¸å†å‡ºç°æ‹–å½±ã€‚å¼ ç£Šäº²è‡ªéªŒæ”¶åï¼Œåªè¯´äº†ä¸€å¥ï¼šâ€œå¹²å¾—æ¼‚äº®ã€‚â€</p>
<p>ç„¶è€Œï¼Œè½¦è¾†çŠ¶æ€é¢æ¿çš„é—®é¢˜ä»æœªè§£å†³ï¼Œæ•°æ®åˆ·æ–°å»¶è¿Ÿé«˜è¾¾ 300msï¼Œé¢ ç°¸æµ‹è¯•ä¸­è¿›åº¦æ¡é¢‘ç¹é—ªçƒï¼Œåƒæ¥è§¦ä¸è‰¯çš„ç¯ç®¡ã€‚æ—å“æ¥æ‰‹åï¼Œè¿ç»­è·‘äº†äº”è½®æ—¥å¿—åˆ†æã€‚</p>
<p>ä»–å‘ç°ä¼ æ„Ÿå™¨æ•°æ®ç”±åå° C++ æ¨¡å—é€šè¿‡ <strong>JNI</strong> æ¨é€ï¼Œå°è£…æˆ Event åç”± <code>Handler</code> æŠ•é€’è‡³ä¸»çº¿ç¨‹æ›´æ–° UIï¼Œä½†ä¼ æ„Ÿå™¨é‡‡æ ·é¢‘ç‡é«˜è¾¾ 100Hz è€Œ UI åˆ·æ–°ä»…éœ€ 60Hzï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸¥é‡å †ç§¯å¯¼è‡´å»¶è¿Ÿã€‚</p>
<p>æ›´ç³Ÿçš„æ˜¯ï¼Œè¿›åº¦æ¡æœ¬èº«æ˜¯è‡ªå®šä¹‰ <code>View</code>ï¼Œå…¶ <code>onDraw()</code> æœªåšé˜²æŠ–å¤„ç†ï¼Œæ¯æ¬¡æ”¶åˆ°æ•°æ®å°±é‡ç»˜ï¼Œé«˜é¢‘è§¦æ§äº‹ä»¶ä¹Ÿæœªè¿‡æ»¤ï¼Œå¯¼è‡´æ— æ•ˆé‡ç»˜é¢‘å‘ã€‚</p>
<p>ä»–æƒ³èµ·è€æ¨ç¬”è®°ä¸­æåˆ°çš„è§£æ³•ï¼šâ€œå¯ä»¥ç”¨ <code>findViewTreeLifecycleOwner()</code> ç»‘å®šç”Ÿå‘½å‘¨æœŸï¼Œç»“åˆ <code>Flow</code> è§‚å¯Ÿæ•°æ®å˜åŒ–â€”â€”æ— éœ€æ˜¾å¼ä¾èµ– <code>Activity</code>ï¼Œè¿˜èƒ½è‡ªåŠ¨æ¸…ç†è§‚å¯Ÿè€…ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚â€</p>
<p>è¿™å¥è¯åƒä¸€ç›æ¢ç¯ç…§äº®äº†æ€è·¯ï¼Œä»–å°†ä¼ æ„Ÿå™¨æ•°æ®å°è£…ä¸º <code>Flow</code>ï¼Œåœ¨è¿›åº¦æ¡ <code>View</code> ä¸­é€šè¿‡ <code>findViewTreeLifecycleOwner()</code> è·å–å®¿ä¸»ç”Ÿå‘½å‘¨æœŸç›‘å¬æ•°æ®å˜æ›´ï¼Œæ›´æ–°æ—¶ä»…ä¿®æ”¹è¿›åº¦å€¼å†è°ƒç”¨ <code>invalidate()</code> å±€éƒ¨é‡ç»˜ã€‚</p>
<p>åŒæ—¶åœ¨ <code>onTouchEvent()</code> ä¸­åŠ å…¥ 50ms é˜ˆå€¼çš„é˜²æŠ–é€»è¾‘è¿‡æ»¤æ— æ•ˆè§¦æ§ï¼Œé UI çº¿ç¨‹æ›´æ–°åœºæ™¯åˆ™ç”¨ <code>postInvalidate()</code> ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚</p>
<p>æ­¤å¤–ï¼Œæ„é€ å‡½æ•°ä¸­è¿˜å­˜åœ¨éšæ‚£ï¼Œä¹‹å‰è¯¯ç”¨ <code>@JvmOverloads</code> å°† <code>defStyleAttr</code> é»˜è®¤è®¾ä¸º <code>0</code>ï¼Œå¯¼è‡´ä¸»é¢˜æ ·å¼æ— æ³•ç»§æ‰¿ã€å¤œé—´æ¨¡å¼é¢œè‰²é”™ä¹±ã€‚</p>
<p>ä»–é‡æ–°è°ƒæ•´æ„é€ å‡½æ•°é€»è¾‘ï¼Œæ˜¾å¼ä¼ å…¥ <code>defStyleAttr</code> ç¡®ä¿ä¸»é¢˜ç»§æ‰¿ï¼Œå¹¶åœ¨ <code>finally</code> å—ä¸­è°ƒç”¨ <code>recycle()</code> é‡Šæ”¾ <code>TypedArray</code>ã€‚</p>
<p>ä¼˜åŒ–åï¼Œåˆ·æ–°å»¶è¿Ÿé™è‡³ 50ms ä»¥å†…ï¼Œé—ªçƒé—®é¢˜è¿åˆƒè€Œè§£ï¼Œå¼ ç£ŠéªŒæ”¶æ—¶ï¼Œè¿›åº¦æ¡åœ¨æ¨¡æ‹Ÿé¢ ç°¸ä¸­å¹³ç¨³æµç•…ï¼Œé¢œè‰²è¿‡æ¸¡è‡ªç„¶ã€‚</p>
<p>å¼ ç£Šèµ°æ¥æ‹äº†æ‹ä»–çš„è‚©ï¼Œè¯­æ°”é‡Œå¸¦ç€äº›å¾®è½»æ¾çš„è°ƒä¾ƒï¼šâ€œå¯ä»¥å•Šå°æ—ï¼Œå…³é”®æ—¶åˆ»çœŸèƒ½é¡¶ä¸Šï¼æƒ³å½“åˆä½ ç¬¬ä¸€æ¬¡è½¬æ­£é¢è¯•ï¼Œé—®ä½  Android ç³»ç»Ÿæ¶æ„åˆ†å‡ å±‚éƒ½æ”¯æ”¯å¾å¾çš„ï¼ŒçœŸæ˜¯å£«åˆ«ä¸€å¹´ï¼Œå½“åˆ®ç›®ç›¸çœ‹ï¼â€</p>
<p>æ—å“å¬åˆ°è¿™è¯ï¼Œè„¸é¢Šç¬é—´çƒ­äº†èµ·æ¥ï¼Œè€³æ ¹éƒ½æ³›çº¢äº†ï¼Œä¸€å¹´å‰é¢è¯•æ—¶çš„çª˜è¿«ç”»é¢æ¶Œä¸Šå¿ƒå¤´ï¼Œä»–ä¸‹æ„è¯†ä½ä¸‹å¤´æŒ äº†æŒ åè„‘å‹ºï¼Œæ¨ä¸å¾—æ‰¾ä¸ªåœ°ç¼é’»è¿›å»ï¼Œå¥½ä¸€ä¼šå„¿æ‰æŠ¬èµ·å¤´ä¸å¥½æ„æ€åœ°ç¬‘äº†ç¬‘ï¼šâ€œå¼ å“¥ï¼Œæ‚¨è¿˜è®°ç€è¿™äº‹å„¿å‘¢ï¼Œé‚£æ—¶å€™ç¡®å®å¤ªå«©äº†ï¼Œå¥½å¤šåŸºç¡€çŸ¥è¯†ç‚¹éƒ½æ²¡åƒé€ã€‚â€</p>
<p>çª˜è¿«æ„Ÿç¨çºµå³é€ï¼Œæ—å“å¾ˆå¿«æ”¶æ•›å¿ƒç¥æ‹‰å›æ³¨æ„åŠ›ï¼Œä»–æ·±çŸ¥è¿‡å»çš„ä¸è¶³è¦é å½“ä¸‹åŠªåŠ›å¼¥è¡¥ï¼Œçœ¼ä¸‹è¿˜æœ‰æ›´æ£˜æ‰‹çš„é—®é¢˜ã€‚å¾ˆå¿«ä»–å‘ç°ç³»ç»Ÿåˆå§‹åŠ è½½ç¼“æ…¢ï¼Œå†·å¯åŠ¨å¹³å‡è€—æ—¶ 4.8 ç§’ï¼Œç«‹åˆ»ç”¨ <strong>Systrace</strong> å·¥å…·é€å¸§åˆ†æã€‚</p>
<p>æœ€ç»ˆé”å®šç—‡ç»“ï¼šå¤šåª’ä½“æ§åˆ¶ç•Œé¢åµŒå¥—å¤šå±‚ <code>LinearLayout</code>ï¼Œä¸”æ•…éšœæç¤ºã€è¯­éŸ³æ’­æŠ¥ç­‰æ¡ä»¶ UI å¯åŠ¨æ—¶å°±å…¨éƒ¨åŠ è½½ï¼Œå³ä¾¿ç”¨æˆ·ä»æœªè§¦å‘ï¼Œç™½ç™½å ç”¨å¤§é‡å¯åŠ¨èµ„æºã€‚</p>
<p>ç¬¬äºŒå¤©é¡¹ç›®ä¾‹ä¼šä¸Šï¼Œä»–æå‡ºå®Œæ•´æ–¹æ¡ˆï¼šâ€œç¬¬ä¸€ï¼Œç”¨ <code>ConstraintLayout</code> æ›¿ä»£åµŒå¥—çº¿æ€§å¸ƒå±€å‡å°‘å±‚çº§ï¼Œåˆ©ç”¨çº¦æŸæœºåˆ¶å®ç°å¤æ‚å¸ƒå±€ï¼›ç¬¬äºŒï¼Œå¯¹æ¡ä»¶ UI ä½¿ç”¨ <code>ViewStub</code> å»¶è¿ŸåŠ è½½ï¼Œå®ƒåˆå§‹åŒ–æ—¶ä¸å å†…å­˜ï¼Œéœ€ç”¨æ—¶è°ƒç”¨ <code>inflate()</code> åŠ è½½ï¼ŒåŠ è½½åè‡ªåŠ¨æ›¿æ¢è‡ªèº«ï¼Œèƒ½æå¤§é™ä½å¯åŠ¨è´Ÿæ‹…ã€‚â€</p>
<p>å›¢é˜Ÿé‡‡çº³å»ºè®®ï¼Œæ—å“äº²è‡ªé‡æ„æ ¸å¿ƒé¡µé¢å¸ƒå±€ï¼Œå°†åŸæœ‰äº”å±‚åµŒå¥—å‹ç¼©ä¸ºä¸¤å±‚ï¼Œç”¨ <code>ConstraintLayout</code> é…åˆ <code>Guideline</code> ä¸ <code>Barrier</code> å®ç°è‡ªé€‚åº”æ’ç‰ˆï¼Œè¿˜åœ¨ <code>XML</code> ä¸­å®šä¹‰ <code>&lt;viewstub&gt;</code> æ ‡ç­¾æŠ½ç¦»æ‰€æœ‰éæ ¸å¿ƒæ¨¡å—ã€‚</p>
<p>ä»–è¿˜ä¸»åŠ¨åˆ†äº« <code>ViewStub</code> ä½¿ç”¨æŠ€å·§ï¼Œè®²è§£å¦‚ä½•åœ¨ <code>XML</code> ä¸­å®šä¹‰ <code>android:layout</code> å±æ€§æŒ‡å‘çœŸå®å¸ƒå±€ã€å¦‚ä½•é€šè¿‡è¿”å›çš„ <code>View</code> è®¿é—®å­ç»„ä»¶ï¼Œå¹¶ç‰¹åˆ«æé†’ï¼šâ€œå®ƒæ˜¯å•æ¬¡ä½¿ç”¨çš„ï¼Œ<code>inflate</code> åå°±å˜æˆ <code>null</code>ï¼Œåˆ‡å‹¿é‡å¤è°ƒç”¨ã€‚â€</p>
<p>ä¸€å‘¨åï¼Œç³»ç»Ÿå¯åŠ¨æ—¶é—´ç¼©çŸ­è‡³ 1.6 ç§’ï¼Œå“åº”é€Ÿåº¦æ˜¾è‘—æå‡ã€‚çœ‹ç€å±å¹•ä¸Šæµç•…è¿è¡Œçš„è½¦è½½ç•Œé¢ï¼Œæ—å“æƒ³èµ·è€æ¨çš„è¯ï¼šâ€œæŠ€æœ¯æˆé•¿æ²¡æœ‰æ·å¾„ï¼Œéƒ½æ˜¯åœ¨ä¸€æ¬¡åˆä¸€æ¬¡çš„é¡¹ç›®å®è·µä¸­ç§¯ç´¯èµ·æ¥çš„ï¼Œä½ ä»¥ä¸ºä½ åœ¨ä¿® Bugï¼Œå…¶å®æ˜¯ Bug åœ¨ä¿®ä½ ã€‚â€</p>
<p>åˆšæ¾å£æ°”ï¼Œå¼ ç£Šå°±å¸¦ç€æ–°éœ€æ±‚æ‰¾åˆ°ä»–ï¼šâ€œå°æ—ï¼Œå®¢æˆ·æ–°å¢äº†è‡ªå®šä¹‰ä»ªè¡¨ç›˜çš„å¤œé—´æ¨¡å¼éœ€æ±‚ï¼Œè¦æ±‚å…‰çº¿å˜åŒ–æ—¶æ— ç¼åˆ‡æ¢ï¼Œä¸èƒ½æœ‰é—ªå±æˆ–ç™½å±ï¼Œä½ ç‰µå¤´è§£å†³ä¸‹ã€‚â€</p>
<p>æ—å“æ¥è¿‡éœ€æ±‚æ–‡æ¡£ä»”ç»†æŸ¥çœ‹ï¼Œå¤œé—´æ¨¡å¼åˆ‡æ¢çœ‹ä¼¼ç®€å•ï¼Œä½†è¦åšåˆ°â€œæ— æ„Ÿâ€ï¼Œå¯¹è‡ªå®šä¹‰ <code>View</code> çš„åŠ¨æ€å±æ€§æ›´æ–°å’Œé‡ç»˜æ§åˆ¶è¦æ±‚æé«˜ï¼Œä»–ä¸€æ—¶æ²¡ç†æ¸…æ€è·¯ï¼Œä¹ æƒ¯æ€§åœ°æ‰“å¼€è€æ¨çš„ç¬”è®°â€”â€”è¿™æ˜¯ä»–é‡åˆ°æŠ€æœ¯ç“¶é¢ˆæ—¶çš„â€œæ•‘å‘½ç¨»è‰â€ã€‚</p>
<p>å…‰æ ‡åœ¨æ–‡æ¡£é‡Œæ»‘åŠ¨æ£€ç´¢è‡ªå®šä¹‰ <code>View</code> ç›¸å…³ç« èŠ‚ï¼Œå…¶ä¸­ä¸€è¡Œæ©™è‰²é«˜äº®çš„æ€»ç»“æ ¼å¤–é†’ç›®ï¼šâ€œè‡ªå®šä¹‰ <code>View</code>ï¼Œå§‹äº <code>attrs</code>ï¼Œæˆäº <code>onDraw</code>ï¼Œç»ˆäº <code>invalidate</code>ã€‚â€</p>
<p>è¿™å¥è¯ç¬é—´ç‚¹é†’äº†ä»–ï¼Œä»–é¡ºç€æŒ‡å¼•å¾€ä¸‹çœ‹ï¼Œè€æ¨è¿˜è¡¥å……äº†è‡ªå®šä¹‰å±æ€§ä¸ä¸»é¢˜é€‚é…çš„æ¡ˆä¾‹ï¼Œè¯¦ç»†å†™äº†å¦‚ä½•åœ¨ <code>attrs.xml</code> ä¸­å®šä¹‰å¯ä¸»é¢˜åŒ–å±æ€§åŠé€šè¿‡ <code>obtainStyledAttributes()</code> è·å–ä¸»é¢˜è‰²å€¼ã€‚</p>
<p>æ—å“èŒ…å¡é¡¿å¼€ï¼Œæ¢³ç†å‡ºæ–¹æ¡ˆï¼šå…ˆç»™ä»ªè¡¨ç›˜å®šä¹‰æ”¯æŒä¸»é¢˜åˆ‡æ¢çš„è‡ªå®šä¹‰å±æ€§ï¼Œå†é€šè¿‡å±æ€§è·å–ä¸åŒä¸»é¢˜è‰²å€¼é¿å…ç¡¬ç¼–ç ï¼Œæœ€åä¼˜åŒ–é‡ç»˜é€»è¾‘é˜²æ­¢é—ªå±ã€‚ä»–åœ¨ <code>attrs.xml</code> ä¸­å®šä¹‰äº†è¡¨ç›˜é¢œè‰²ã€æŒ‡é’ˆæ ·å¼ç­‰å¯ä¸»é¢˜åŒ–å±æ€§ï¼Œæ·»åŠ  <code>app:nightMode</code> å±æ€§ç»„æ”¯æŒæ˜¼å¤œä¸¤å¥—æ ·å¼ç»§æ‰¿ã€‚</p>
<p>åœ¨è‡ªå®šä¹‰ä»ªè¡¨ç›˜ <code>View</code> çš„æ„é€ å‡½æ•°ä¸­ï¼Œä»–é€šè¿‡ <code>obtainStyledAttributes()</code> ç»“åˆå½“å‰ä¸»é¢˜è·å–å±æ€§å€¼ï¼Œè¿˜åœ¨ <code>finally</code> å—ä¸­ä¸¥æ ¼è°ƒç”¨ <code>recycle()</code> é‡Šæ”¾ <code>TypedArray</code>ï¼›ç»˜åˆ¶æ—¶æŒ‰ç¬”è®°æŠ€å·§ç”¨ <code>Canvas.drawCircle()</code> ç”»å¤–åœˆã€<code>drawLine()</code> ç”»åˆ»åº¦ã€<code>drawPath()</code> é…åˆæ¸å˜ç€è‰²å™¨ç”»æŒ‡é’ˆé˜´å½±ï¼Œè¿˜é‡å†™ <code>onMeasure()</code> æ–¹æ³•ç¡®ä¿å¤šå±é€‚é…ã€‚</p>
<p>ä½†æ–°é—®é¢˜å¾ˆå¿«å‡ºç°ï¼Œå¸¸è§„é€»è¾‘åˆ‡æ¢ä¸»é¢˜æ—¶è°ƒç”¨ <code>invalidate()</code> é‡ç»˜ä¼šçŸ­æš‚é—ªå±ã€‚æ—å“å†æ¬¡ç¿»çœ‹è€æ¨çš„åœ¨çº¿ç¬”è®°ï¼Œåœ¨â€œé‡ç»˜ä¼˜åŒ–â€ç« èŠ‚æ‰¾åˆ°ç­”æ¡ˆï¼šé¢‘ç¹æˆ–å…¨é‡é‡ç»˜æ˜¯é—ªå±æ ¸å¿ƒåŸå› ï¼Œå¯é€šè¿‡åŒç¼“å†²æœºåˆ¶è§£å†³ã€‚</p>
<p>ä»–ç«‹åˆ»è°ƒæ•´åˆ‡æ¢é€»è¾‘ï¼šæ³¨å†Œ <code>SensorEventListener</code> ç›‘å¬å…‰çº¿ä¼ æ„Ÿå™¨ï¼Œç…§åº¦ä½äº 50lux æ—¶è§¦å‘åˆ‡æ¢ï¼›ä¸è°ƒç”¨<code>setTheme()</code> é‡å¯ <code>Activity</code>ï¼Œè€Œæ˜¯é€šè¿‡ <code>ContextCompat.getColorStateList()</code> è·å–ä¸»é¢˜è‰²å€¼æ›´æ–° <code>Paint</code> å±æ€§ï¼›åŒæ—¶å®ç°åŒç¼“å†²ï¼Œå…ˆåœ¨ç¦»å± <code>Bitmap</code> å®Œæˆæ–°ä¸»é¢˜ç»˜åˆ¶ï¼Œå†ä¸€æ¬¡æ€§ç»˜åˆ¶åˆ°å±å¹•ï¼Œæœ€åè°ƒç”¨ <code>invalidate()</code> å±€éƒ¨åˆ·æ–°ã€‚</p>
<p>ç»è¿‡ä¸¤å¤©è°ƒè¯•ä¼˜åŒ–ï¼Œå¤œé—´æ¨¡å¼åˆ‡æ¢åŠŸèƒ½å®ç°ã€‚æµ‹è¯•æ—¶ï¼Œæµ‹è¯•ç»„ç”¨å°ç¯æ¨¡æ‹Ÿæ˜¼å¤œå…‰çº¿å˜åŒ–ï¼Œä»ªè¡¨ç›˜å¹³æ»‘è¿‡æ¸¡æ— é—ªå±å¡é¡¿ï¼Œé¢œè‰²åˆ‡æ¢è‡ªç„¶ï¼Œå®Œå…¨è¾¾åˆ°â€œæ— æ„Ÿâ€è¦æ±‚ã€‚</p>
<p>å¼ ç£Šæ‹äº†æ‹æ—å“çš„è‚©è†€ï¼Œè¯­æ°”é‡Œæ»¡æ˜¯è®¤å¯ï¼šâ€œä½ å·²ç»ä¸æ˜¯â€˜æ”¯æ´â€™äº†ï¼Œä½ æ˜¯è¿™ä¸ªé¡¹ç›®çš„æŠ€æœ¯æ”¯æŸ±ã€‚â€</p>
<p>æ—å“å¿ƒé‡Œå’¯å™”ä¸€ä¸‹ï¼Œç”Ÿæ€•å†æé¢è¯•æ—§äº‹ï¼Œèµ¶ç´§æŒ å¤´æ‰“å“ˆå“ˆï¼šâ€œå¼ å“¥æ‚¨è¿‡å¥–äº†ï¼Œéƒ½æ˜¯å›¢é˜Ÿé…åˆå¾—å¥½ã€‚â€</p>
<p>å¼ ç£Šä¸€çœ¼çœ‹ç©¿ä»–çš„å°å¿ƒæ€ï¼Œç¬‘å‡ºäº†å£°æ‘†æ‘†æ‰‹ï¼šâ€œæ”¾å¿ƒï¼Œä¸æ­ä½ è€åº•äº†ã€‚å¥½å¥½å¹²ï¼Œè¿™ä¸ªé¡¹ç›®ç»“æŸåï¼Œä½ çš„è½¬æ­£éƒ½å¥½è¯´ã€‚â€</p>
<p>æ·±å¤œçš„ 17 æ¥¼ï¼ŒåŠå…¬åŒºåªå‰©é›¶æ˜Ÿå‡ ç›ç¯ï¼Œé”®ç›˜æ•²å‡»å£°æ¸…è„†å¦‚é›¨æ»´ã€‚æ—å“æœ›ç€çª—å¤–çš„æœˆå…‰ï¼Œå¿ƒé‡Œæ»¡æ˜¯è¸å®ï¼Œä»ä¸€å¹´å‰é¢è¯•çš„ä¸€é—®ä¸‰ä¸çŸ¥åˆ°å¦‚ä»Šé€æ¸ç‹¬å½“ä¸€é¢ï¼Œæ¯æ­¥æˆé•¿éƒ½ç¦»ä¸å¼€è‡ªå·±çš„å®è·µæ‰“ç£¨å’Œè€æ¨ç¬”è®°çš„æŒ‡å¼•ã€‚</p>
<p>è¿™æ—¶ï¼Œç”µè„‘å³ä¸‹è§’å¼¹å‡ºè€æ¨çš„æ¶ˆæ¯ï¼šâ€œå¬è¯´ä½ åœ¨ 17 æ¥¼è¡¨ç°ä¸é”™ï¼Œé‡åˆ°æŠ€æœ¯éš¾é¢˜éšæ—¶æ‰¾æˆ‘ã€‚â€</p>
<p>æ—å“å˜´è§’å¾®æ‰¬ï¼Œç–²æƒ«ä¸€æ‰«è€Œç©ºï¼Œæ·±å¸ä¸€å£æ°”ç»§ç»­æ•²ä¸‹ä»£ç ï¼Œçª—å¤–æœˆå…‰æ´’è½ï¼Œç…§äº®äº†ä»–å¥”èµ´çš„è¿œæ–¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™ä¸ªè€ç‰ŒçŸ¥åç¼–ç¨‹è®ºå›ï¼Œå½»åº•å€’ä¸‹äº†ï¼]]></title>    <link>https://juejin.cn/post/7594350054091259946</link>    <guid>https://juejin.cn/post/7594350054091259946</guid>    <pubDate>2026-01-13T00:53:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594350054091259946" data-draft-id="7594350054091243562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™ä¸ªè€ç‰ŒçŸ¥åç¼–ç¨‹è®ºå›ï¼Œå½»åº•å€’ä¸‹äº†ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-13T00:53:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CodeSheep"/> <meta itemprop="url" content="https://juejin.cn/user/4371313961738616"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™ä¸ªè€ç‰ŒçŸ¥åç¼–ç¨‹è®ºå›ï¼Œå½»åº•å€’ä¸‹äº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313961738616/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CodeSheep
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T00:53:33.000Z" title="Tue Jan 13 2026 00:53:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æåˆ° Stack Overflow è®ºå›ï¼Œæåˆ°é‚£ä¸ªæ©™è‰²çš„æ ˆæº¢å‡ºå›¾æ ‡ï¼Œç›¸ä¿¡ç¨‹åºå‘˜å’Œå¼€å‘è€…ä»¬éƒ½å†ç†Ÿæ‚‰ä¸è¿‡äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42fa8783988143828e09ddbe3c8f3614~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29kZVNoZWVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870413&amp;x-signature=REkn%2B9K%2FmiX0HhvZMTpN%2Btuq2QY%3D" alt="" loading="lazy"/></p>
<p>è¿˜è®°å¾—åŠå¹´å‰ï¼Œæˆ‘æ›¾ç»å†™è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œåˆ†äº«äº†ä¸€ä¸ªæœ‰å…³ Stack Overflow è®ºå›çš„å˜åŒ–è¶‹åŠ¿å›¾ï¼Œä»æ›²çº¿èµ°åŠ¿æ¥çœ‹ï¼Œå½“æ—¶é‚£ä¼šå°±å·²ç»éå¸¸ä¸å®¹ä¹è§‚ï¼Œæ¯æœˆæ–°é—®é¢˜æ•°é‡å¤„äºå¿«é€Ÿé”å‡ä¹‹ä¸­ã€‚</p>
<p>ä½†æ˜¯ç°åœ¨æ—¶é—´æ¥åˆ° 2026 å¹´äº†ï¼Œä½ çŒœæ€ä¹ˆç€ï¼Ÿ</p>
<p><strong>ç»“æœæ˜¯ï¼Œè¶‹åŠ¿è¿›ä¸€æ­¥èµ°ä½ï¼Œç°åœ¨æ¯ä¸ªæœˆæ–°é—®é¢˜æ•°æ®ç”šè‡³è¿˜ä¸å¦‚ 18 å¹´å‰ Stack Overflow åˆšè¯ç”Ÿé‚£ä¼šçš„æ°´å¹³ã€‚</strong></p>
<p>è€è§„çŸ©ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç›´æ¥çœ‹è¶‹åŠ¿å›¾å’Œå…·ä½“æ•°æ®å§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd4e2c08455f419cadd86bac5b2a7c2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29kZVNoZWVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870413&amp;x-signature=DYCKqIyivHyJnbA%2FyeLKMXEnNR0%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯æœ€æ–°çš„ Stack Overflow è®ºå›å˜åŒ–è¶‹åŠ¿å›¾ï¼Œè¡¨ç¤ºçš„æ˜¯ä» 2008 å¹´ç¤¾åŒºåˆšä¸Šçº¿å¼€å§‹ï¼Œä¸€ç›´åˆ° 2026 å¹´çš„ä»Šå¤©ï¼Œ<strong>è¿™ 18 å¹´æ—¶é—´é‡Œ</strong>ï¼ŒStack Overflow ç¤¾åŒºæ¯ä¸ªæœˆæ–°é—®é¢˜ä¸ªæ•°çš„å˜åŒ–è¶‹åŠ¿ã€‚</p>
<p>æ€ä¹ˆæ ·ï¼Ÿå¤§å®¶çœ‹å®Œè¿™å¼ å›¾æœ‰æ²¡æœ‰ä»€ä¹ˆæ„Ÿè§¦ï¼Ÿ</p>
<p><strong>è¿™å¼ å›¾æ¸…æ™°åœ°å±•ç¤ºå‡ºäº† Stack Overflow ç¼–ç¨‹ç¤¾åŒºåœ¨è¿™ 18 å¹´é—´æ‰€ç»å†çš„å¢é•¿ã€ç¹è£ã€é«˜å…‰ä»¥åŠè·Œè½çš„è¶‹åŠ¿ã€‚</strong></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä» 2008 å¹´åˆ° 2014 å¹´è¿™å‰ 6 å¹´çš„æ—¶é—´ï¼ŒStack Overflow ä¸€è·¯é«˜æ­Œï¼Œæ¸å…¥ä½³å¢ƒï¼ŒåŸºæœ¬éƒ½åœ¨ç¨³æ­¥å¢é•¿ã€‚</p>
<p>è€Œä» 2014 å¹´åˆ° 2022 å¹´è¿™ä¸­é—´çš„ 8 å¹´æ—¶é—´ï¼Œè™½è¯´å›¾ä¸­æ›²çº¿å‘ˆéœ‡è¡å˜åŒ–çŠ¶æ€ï¼Œä½†æ€»ä½“éƒ½æ˜¯å¤„äºé«˜ä½è¶‹åŠ¿ï¼Œè¿™ä¹Ÿæ˜¯ Stack Overflow ç¤¾åŒºçš„ç¹è£æ—¶åˆ»ã€‚</p>
<p>ä»æ•°æ®ä¸Šæ¥çœ‹ï¼ŒStack Overflow æœ€é«˜å…‰çš„é¡¶å³°æ—¶åˆ»å‡ºç°åœ¨ 2020 å¹´ï¼Œå°¤å…¶æ˜¯ 2020-05-01 è¿™ä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Œæ•°æ®æ¥åˆ°äº† 302381ï¼Œè¿™ä¹Ÿæ˜¯æ•°å€¼çš„æœ€é¡¶å³°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c0a0dd7049c4981a05301466273eeda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29kZVNoZWVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870413&amp;x-signature=jh7sqUWY9uxKWKYXS2%2Bja0ZNtIw%3D" alt="" loading="lazy"/></p>
<p>è€Œä»è¶‹åŠ¿å›¾ä¸­ä¹Ÿå¯ä»¥å¾ˆæ˜æ˜¾åœ°çœ‹å‡ºï¼Œè‡ª 2022 å¹´åº•å¼€å§‹ï¼ŒStack Overflow ç¤¾åŒºæ—¥æ¸å¼å¾®ï¼Œå¼€å§‹å‡ºç°å›è½ä¹‹åŠ¿ã€‚</p>
<p>é‚£ä¸€å¹´çš„å¹´åº•ç§‘æŠ€åœˆå‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ï¼Œç›¸ä¿¡å¤§å®¶éƒ½è®°å¿†çŠ¹æ–°ï¼Œæ²¡é”™ï¼Œé‚£å°±æ˜¯ OpenAI æ­£å¼å‘å¸ƒäº† ChatGPTã€‚</p>
<p>å†åé¢å‡ å¹´çš„æ•…äº‹ï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿéƒ½éå¸¸æ¸…æ¥šäº†ï¼ŒAI å¤§æ¨¡å‹é£é€Ÿè¿­ä»£ï¼ŒAI ç±»äº§å“å’Œ AI çŸ¥è¯†å¼•æ“æ›´æ˜¯ç™¾èŠ±é½æ”¾ï¼Œå±‚å‡ºä¸ç©·ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œä¼ ç»Ÿçš„æœç´¢å¼•æ“å’ŒçŸ¥è¯†ç¤¾åŒºä¹Ÿå—åˆ°äº†ä¸å°çš„å†²å‡»ã€‚</p>
<p>å…¶å®åˆ°äº† 2025 å¹´ï¼ŒStack Overflow çš„æ•°æ®å°±å·²ç»è·Œå›åˆ° 15 å¹´å‰çš„æ°´å¹³äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5a22b6df2454eac879414070e5f836e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29kZVNoZWVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870413&amp;x-signature=%2BVfYlT6gw%2B7QkZKhbvOxHVKos7I%3D" alt="" loading="lazy"/></p>
<p>è€Œå¦‚ä»Šæ—¶é—´æ¥åˆ°äº† 2026 å¹´ï¼Œå†çœ‹çœ‹æœ€è¿‘è¿™å‡ ä¸ªæœˆ Stack Overflow çš„æ•°æ®ï¼Œæ›´æ˜¯è®©äººç ç›®ç»“èˆŒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a151140f97e4affbf98057d62a3dd14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29kZVNoZWVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870413&amp;x-signature=N%2Bc%2FDyXhq2REvIJ9V%2BNg3jIK5bw%3D" alt="" loading="lazy"/></p>
<p>æ²¡é”™ï¼Œæ•°æ®å·²ç»è·Œåˆ°ç”šè‡³ä¸å¦‚ 18 å¹´å‰ç¤¾åŒºåˆšä¸Šçº¿é‚£ä¼šçš„æ°´å¹³ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e51369fe98fc4bf2ae97493c3035ed76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29kZVNoZWVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870413&amp;x-signature=HgVOF9rUHadclE%2FYnwPxpL%2FLRUo%3D" alt="" loading="lazy"/></p>
<p>è‡³æ­¤ï¼ŒStack Overflow ç¤¾åŒºåŸºæœ¬ä¸Šæ˜¯å½»åº•å‡‰äº†ã€‚</p>
<p>è¿™æ—¶å€™ä¹Ÿä¸ç¦æƒ³èµ·äº†é‚£å¼ ç½‘å›¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db47db08483a4bc8b9bdf754f20c4d12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29kZVNoZWVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870413&amp;x-signature=o9Ynm%2BLxvoqrSZZigcTkU1OMcR0%3D" alt="" loading="lazy"/></p>
<hr/>
<p>èŠèµ· Stack Overflow ç¤¾åŒºçš„è¯ç”Ÿï¼Œé‚£è¿˜è¦è¿½æº¯åˆ° 2008 å¹´ã€‚</p>
<p>ä¸¤ä½åœ¨è½¯ä»¶å¼€å‘é¢†åŸŸå¾ˆæœ‰å½±å“åŠ›çš„åšä¸»ï¼Œåˆ†åˆ«æ˜¯ Jeff Atwoodï¼ˆçŸ¥ååšå®¢ Coding Horror çš„ä½œè€…ï¼‰å’Œ Joel Spolskyï¼ˆFog Creek åˆ›å§‹äººï¼Œã€ŠJoel on Softwareã€‹ä½œè€…ï¼‰ï¼Œä»–ä»¬å‘ç°äº†<strong>ä¸€ä¸ªè¡Œä¸šç—›ç‚¹ï¼šå³ç¨‹åºå‘˜åœ¨é‡åˆ°æŠ€æœ¯éš¾é¢˜æ—¶ï¼Œå¾ˆéš¾ä»ç½‘ç»œä¸Šæ‰¾åˆ°å‡†ç¡®ã€é«˜è´¨é‡çš„è§£å†³æ–¹æ¡ˆã€‚</strong></p>
<p>å½“æ—¶çš„æœç´¢ç»“æœå¾€å¾€å……æ–¥ç€æ— æ•ˆä¿¡æ¯ï¼ŒçŸ¥è¯†åˆ†æ•£ä¸”ä½æ•ˆï¼Œæˆ–è€…æŸäº›æŠ€æœ¯ç½‘ç«™è™½ç„¶åœ¨æœç´¢ä¸­æ’åå¾ˆé«˜ï¼Œä½†çœŸæ­£æœ‰ç”¨çš„ç­”æ¡ˆå´è¢«è—åœ¨æ³¨å†Œå¢™æˆ–è€…ä»˜è´¹å¢™åé¢ï¼Œç”¨æˆ·ä½“éªŒæ„Ÿæå·®ã€‚</p>
<p>åŸºäºå¯¹æŠ€æœ¯ç¤¾åŒºæ·±åˆ»çš„ç†è§£å’Œå¯¹ç°æœ‰çŠ¶å†µçš„ä¸æ»¡ï¼Œäºæ˜¯è¿™ä¸¤ä½æŠ€æœ¯å¸ƒé“è€…ä¸€æ‹å³åˆï¼Œå†³å®šè”æ‰‹ï¼Œæ‰“é€ ä¸€ä¸ªä¸“å±äºç¨‹åºå‘˜çš„é—®ç­”åœ£åœ°ã€‚</p>
<p>ä»–ä»¬çš„ç›®æ ‡å¾ˆæ˜ç¡®ï¼šåˆ›å»ºä¸€ä¸ªä»¥å†…å®¹è´¨é‡ä¸ºæ ¸å¿ƒã€é€šè¿‡ç¤¾åŒºåä½œæ¥è§£å†³é—®é¢˜çš„å¹³å°ã€‚</p>
<p>äºæ˜¯åœ¨ 2008 å¹´ï¼ŒStack Overflow é¡¹ç›®å¯åŠ¨äº†ã€‚</p>
<p>åŒå¹´ 7 æœˆï¼Œç½‘ç«™å¼€å§‹äº†å°èŒƒå›´çš„å†…éƒ¨æµ‹è¯•ï¼Œé‚€è¯·äº†ä¸€æ‰¹ç§å­ç”¨æˆ·æ¥æ‰“ç£¨äº§å“å’Œæœºåˆ¶ã€‚</p>
<p>ä¸¤ä¸ªæœˆåï¼ŒStack Overflow ç½‘ç«™æ­£å¼é¢å‘å…¬ä¼—å¼€æ”¾ã€‚</p>
<p>Stack Overflow çš„ä¸Šçº¿å¦‚åŒä¸€è‚¡æ¸…æµï¼Œè¿…é€Ÿåœ¨å¼€å‘è€…ç¾¤ä½“ä¸­å¼•èµ·äº†è½°åŠ¨ï¼ŒåŒæ—¶ Stack Overflow ä¹ŸæˆåŠŸåœ°å°†å…¨çƒçš„ç¨‹åºå‘˜å‡èšåœ¨ä¸€èµ·ï¼Œè®©çŸ¥è¯†çš„åˆ†äº«ä¸è·å–å˜å¾—å‰æ‰€æœªæœ‰çš„é«˜æ•ˆã€‚</p>
<p>å°±è¿™æ ·ï¼Œä¸€ä¸ªæ—¨åœ¨è§£å†³æŠ€æœ¯éš¾é¢˜çš„ç½‘ç«™ï¼Œæœ€ç»ˆæˆä¸ºäº†æ— æ•°å¼€å‘è€…èµ–ä»¥ç”Ÿå­˜çš„â€œç¬¬äºŒæœç´¢å¼•æ“â€å’ŒæŠ€æœ¯é—®ç­”ç¤¾åŒºã€‚</p>
<p>ç”±äºå…¶å·¨å¤§çš„æˆåŠŸï¼ŒStack Overflow åæ¥è¿˜è¡ç”Ÿå‡ºä¸€ç³»åˆ—äº§å“ï¼Œå·…å³°æ—¶æœŸçš„å®ƒæ‹¥æœ‰ 180+ å­ç«™ï¼Œè€Œä¸”æ¶µç›–äº†ä»ç¼–ç¨‹åˆ°æ•°å­¦ã€ç‰©ç†ç­‰ä¼—å¤šé¢†åŸŸçš„é—®ç­”ç¤¾åŒºã€‚</p>
<p>ç„¶è€Œï¼Œå³ä¾¿æ˜¯è¿™æ ·ä¸€ä¸ªå…¨çƒé¡¶çº§çš„æŠ€æœ¯ç¤¾åŒºï¼Œå¦‚ä»Šï¼Œä¹Ÿéš¾é€ƒè¢« AI å†²å‡»å’Œæ´—ç¤¼çš„å‘½è¿ã€‚</p>
<hr/>
<p>äºæ˜¯æˆ‘ä¹Ÿå¼€å§‹å›æƒ³ï¼Œæˆ‘è‡ªå·±è¿™å‡ å¹´åœ¨äº’è”ç½‘ä¸Šæ£€ç´¢ä¿¡æ¯çš„æ–¹å¼ï¼Œä¼¼ä¹åœ¨ä¸çŸ¥ä¸è§‰ä¸­å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
<p>ç°åœ¨é‡åˆ°é—®é¢˜ï¼Œæˆ‘å¥½åƒå·²ç»ä¸æ€ä¹ˆå–œæ¬¢ä½¿ç”¨ä¼ ç»Ÿæœç´¢å¼•æ“å’ŒæŠ€æœ¯ç¤¾åŒºäº†ï¼Œè€Œæ˜¯ä¼šä¹ æƒ¯æ€§åœ°è½¬å‘å„ç§ AI å·¥å…·å’Œæ™ºèƒ½åŠ©æ‰‹ï¼ŒåŒæ—¶ä¿¡æ¯çš„å¤„ç†å’Œäº¤äº’èŒƒå¼ä¹Ÿå®Œå…¨å˜äº†ã€‚</p>
<p>æˆ‘ä»¬è¿˜ä»¥ç¼–ç¨‹å†™ä»£ç ä¸ºä¾‹ã€‚</p>
<p>ä»¥å‰å½“æˆ‘ä»¬åœ¨å†™ä»£ç è°ƒè¯•è¿è¡Œå‡ºç°é”™è¯¯ä½†æŠ˜è…¾åŠå¤©ä¹Ÿä¸çŸ¥æ‰€ä»¥çš„æ—¶å€™ï¼Œå¤§å®¶ä¼šæ€ä¹ˆåšï¼Ÿ</p>
<p>ç›¸ä¿¡ä¸å°‘åŒå­¦å’Œæˆ‘ä¸€æ ·ï¼Œä¹Ÿæ˜¯é¦–å…ˆå¤åˆ¶è¿™æ®µæŠ¥é”™ä¿¡æ¯åˆ°æœç´¢å¼•æ“ä¸­è¿›è¡Œæ£€ç´¢ï¼Œç„¶åæ ¹æ®æœç´¢å¼•æ“åå‡ºæ¥çš„æœç´¢ç»“æœï¼Œè‡ªå·±é€ä¸ªç‚¹è¿›å»ç­›é€‰æœ‰ç”¨çš„ä¿¡æ¯ã€‚</p>
<p>è€Œå½“æˆ‘ä»¬ä¸€æ—¦åœ¨æœç´¢ç»“æœé‡Œçœ‹åˆ°äº† Stack Overflow ç›¸å…³ç½‘é¡µæ—¶ï¼Œç›´è§‰ä¸€èˆ¬ä¼šå‘Šè¯‰æˆ‘ä»¬ï¼Œç¦»é—®é¢˜è§£å†³åº”è¯¥ä¸è¿œäº†ã€‚</p>
<p>è¦æ˜¯åœ¨æœç´¢å¼•æ“é‡Œå®åœ¨æ‰¾ä¸åˆ°è§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œé‚£æˆ‘ä»¬å°±åªèƒ½å»ç±»ä¼¼ Stack Overflow è¿™æ ·çš„ç¼–ç¨‹ç¤¾åŒºé‡Œè¿›è¡Œå‘å¸–æ±‚åŠ©äº†ï¼Œç„¶åç­‰å¾…é—®é¢˜è¢«æŸ¥çœ‹å’Œå›ç­”ã€‚</p>
<p>è¿™æ˜¯åœ¨ AI å¤§æ¨¡å‹è¿˜æ²¡æœ‰çˆ†å‘ä¹‹å‰ï¼Œå¤§å®¶æ‰€æ™®éé‡‡ç”¨çš„ä¸€ä¸ªè§£å†³é—®é¢˜çš„åŠæ³•ï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯è¿™æ ·ï¼š</p>
<ul>
<li>é‡åˆ°é—®é¢˜ â†’ æœç´¢å¼•æ“ â†’ Stack Overflow é“¾æ¥ â†’ æ”¹ä»£ç è°ƒè¯• â†’ è§£å†³é—®é¢˜ã€‚</li>
</ul>
<p>æˆ–è€…è¿™æ ·ï¼š</p>
<ul>
<li>é‡åˆ°é—®é¢˜ â†’ å®åœ¨æœç´¢æ— æœ â†’ å‘å¸– â†’ ç­‰å¾…å›ç­”</li>
</ul>
<p><strong>ä½†ç°åœ¨ï¼Œéšç€ AI æŠ€æœ¯å’Œå·¥å…·çš„å‘å±•ï¼Œäº‹æƒ…å°±å˜äº†ã€‚</strong></p>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”©ç»™ AI å·¥å…·ä¸€ä¸ªé—®é¢˜æˆ–è€…ä¸€æ®µä¿¡æ¯ï¼ŒAI å·¥å…·ä¾¿ä¼šè‡ªåŠ¨ç†è§£ä½ çš„æ„å›¾ï¼Œå¹¶å¼€å§‹æ·±åº¦æ€è€ƒã€æ”¶é›†ä¿¡æ¯ã€æ•´ç†é€»è¾‘ã€åˆ†ææ€»ç»“ã€åŠ å·¥è¾“å‡ºï¼Œæœ€åç›´æ¥æŠŠç”Ÿæˆçš„ç­”æ¡ˆæˆ–è§£å†³é—®é¢˜çš„åŠæ³•å‘ˆç°åœ¨ä½ çš„çœ¼å‰ã€‚</p>
<p>è€Œä¸”ç°åœ¨ AI Coding å·¥å…·å¦‚æ­¤å¼ºå¤§ï¼Œä»é‡åˆ°é—®é¢˜åˆ°è§£å†³é—®é¢˜ï¼Œç”šè‡³éƒ½ä¸éœ€è¦è·³å‡º IDEï¼Œé—®é¢˜å°±å¯ä»¥è¢«å®Œç¾è§£å†³ã€‚</p>
<p>æ‰€ä»¥ç›¸æ¯”å» Stack Overflow ä¸Šå‘å¸–å­ã€æœé—®é¢˜ã€ç­›ç­”æ¡ˆï¼ŒAI å¼•æ“æ— è®ºåœ¨æ—¶é—´æ•ˆç‡ï¼Œè¿˜æ˜¯çŸ¥è¯†ç»´åº¦çš„æ‰©å±•ä¸Šéƒ½ç»™äº†è¿™äº›ä¼ ç»ŸæŠ€æœ¯ç¤¾åŒºä»¥é™ç»´æ‰“å‡»ã€‚</p>
<p>ä¼ ç»Ÿæœç´¢å¼•æ“å¾€å¾€ä¾èµ–äºå…³é”®è¯åŒ¹é…å’Œé“¾æ¥åˆ†æï¼Œå› æ­¤å¯¹äºç”¨æˆ·é—®é¢˜çš„ç†è§£å¾€å¾€æœ‰æ‰€æ¬ ç¼ºï¼Œè€Œ AI å¤§æ¨¡å‹åˆ™èƒ½å¤Ÿæ·±åº¦ç†è§£è¯­è¨€å«ä¹‰å’Œä¸Šä¸‹æ–‡ï¼Œç†è§£é—®é¢˜çš„çœŸæ­£æ„å›¾ã€‚</p>
<p>è€Œä¸” AI å¤§æ¨¡å‹çš„åˆ†æç†è§£èƒ½åŠ›ã€æ•´åˆèƒ½åŠ›ä»¥åŠæ¨ç†èƒ½åŠ›ï¼Œè¿™äº›éƒ½æ˜¯ä¼ ç»ŸçŸ¥è¯†ç¤¾åŒºå’Œæœç´¢å¼•æ“å¾€å¾€æ‰€æ¬ ç¼ºçš„ä¸œè¥¿ã€‚</p>
<p>åŒæ—¶ AI å¤§æ¨¡å‹èƒ½é˜…è¯»ã€ç†è§£å¹¶æ•´åˆæ•°æ®ä¸­ä¸åŒç»´åº¦çš„æµ·é‡çŸ¥è¯†ï¼Œå¹¶èƒ½åœ¨æ­¤åŸºç¡€ä¸Šæ¥è¿›è¡Œè¿›ä¸€æ­¥çš„æ¨ç†ã€åˆ†æã€æ€»ç»“ã€æ³›åŒ–ï¼Œè¿™åœ¨å¦‚ä»Šçš„ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£æ¥è¯´æ˜¯ä¸€ç§å·¨å¤§çš„ä»·å€¼ã€‚</p>
<p>æ‰€ä»¥ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼ŒAI å¤§æ¨¡å‹å¼•æ“å¹¶ä¸æ˜¯æœç´¢å¼•æ“çš„ç®€å•å‡çº§ç‰ˆï¼Œè€Œæ˜¯ä¸€ç§å…¨æ–°çš„ä¿¡æ¯å¤„ç†å’Œäº¤äº’èŒƒå¼ã€‚</p>
<hr/>
<p>å½“ç„¶ï¼ŒæŠŠ Stack Overflow è¡°è½çš„å…¨éƒ¨åŸå› éƒ½å½’ç»“äº AI å…¶å®ä¹Ÿä¸å¤ªå…¬å¹³ã€‚</p>
<p>å³ä¾¿ä¸è°ˆ AI çš„å› ç´ ï¼Œä»å¤§å®¶çš„åé¦ˆæ¥çœ‹ï¼Œ<strong>è¿‘å¹´æ¥ Stack Overflow ç¤¾åŒºæ°›å›´çš„ä¸‹å¡è·¯ä¹Ÿæ˜¯å…¶è¡°è½çš„ä¸€ä¸ªä¸å¯å¿½ç•¥çš„å› ç´ </strong>ã€‚</p>
<p>æ¯”å¦‚å¾ˆå¤šåˆå­¦è€…çš„é—®é¢˜ç»å¸¸ä¼šç”±äºé—®é¢˜å¤ªåŸºç¡€æˆ–è€…æ ¼å¼ä¸å¯¹è€Œè¢«ä¸‹æ¶ï¼Œå¦å¤–ä¸å°‘åŒå­¦åé¦ˆ Stack Overflow ä¸Šæˆ¾æ°”ä¹Ÿä¸å°ï¼ŒåŒ…æ‹¬è¿˜èƒ½çœ‹åˆ°å¯¹æ–°äººå°ç™½å†·å˜²çƒ­è®½ï¼Œä»¥åŠè€ç”¨æˆ·ä¹‹é—´çš„æ–—æ°”äº‰åµç­‰ç­‰ï¼Œè¿™äº›éƒ½ä¼šæ…¢æ…¢ç£¨ç­å¤§å®¶çš„çƒ­æƒ…ä»¥åŠç¤¾åŒºçš„æŠ€æœ¯æ°›å›´ã€‚</p>
<p>æ‰€ä»¥å„ç§å†…å¤–å› ç´ åŠ åœ¨ä¸€èµ·ï¼Œå†æ¥çœ‹å¦‚ä»Š Stack Overflow çš„è¿™èˆ¬å‘å±•è¶‹åŠ¿ï¼Œä¹Ÿå°±ä¸è¶³ä¸ºå¥‡äº†ã€‚</p>
<hr/>
<p>é‚£é¢å¯¹ AI å¤§æ¨¡å‹è¿™æ³¢æµªæ½®çš„å¸­å·å’Œå†²å‡»ï¼Œä¸å°‘ä¼ ç»Ÿçš„æœç´¢å¼•æ“å’ŒçŸ¥è¯†ç¤¾åŒºéƒ½å¼€å§‹äº†è½¬å‹å‡çº§ï¼Œå¹¶ç§¯ææ‹¥æŠ± AIã€‚</p>
<p>åŒ…æ‹¬åƒ Stack Overflow ä»–ä»¬è‡ªå·±ä¹Ÿæäº†ä¸€ä¸ª Overflow AIï¼Œå…¶ä¸­åŒ…å«äº†ä¸€å¥—åŸºäºä»–ä»¬è‡ªå·±çš„å†å²å†…å®¹å’ŒçŸ¥è¯†åº“æ‰€æ‰“é€ çš„ GenAI å·¥å…·ã€‚</p>
<p><strong>ä»ã€Œæ£€ç´¢å·¥å…·ã€è¿›åŒ–åˆ°ã€Œæ™ºèƒ½åŠ©æ‰‹ã€ï¼Œè¿™æ˜¯ä¸å°‘ç°æŠ€æœ¯ç¤¾åŒºå’ŒçŸ¥è¯†å¼•æ“æ­£åœ¨ç»å†çš„èœ•å˜ä¹‹è·¯ã€‚</strong></p>
<p>è¿™ä¸¤å¹´ AI å¤§æ¨¡å‹é¢†åŸŸçš„å‘å±•é€Ÿåº¦ç›¸ä¿¡å¤§å®¶éƒ½æœ‰ç›®å…±ç¹äº†ï¼ŒæŠ€æœ¯è¿­ä»£è¿›åŒ–æ›´æ˜¯è¿œè¶…é¢„æœŸã€‚</p>
<p>å¯ä»¥é¢„è§çš„æ˜¯ï¼Œæœªæ¥çš„ä¿¡æ¯æ£€ç´¢å’Œäº¤äº’æ–¹å¼ä¸€å®šè¿˜ä¼šè¿›ä¸€æ­¥é«˜æ•ˆã€ç²¾å‡†å’Œæ™ºèƒ½ï¼Œè€Œå¯¹æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‹­ç›®ä»¥å¾…ã€‚</p>
<p>å¥½äº†ï¼Œé‚£ä»¥ä¸Šå°±æ˜¯ä»Šå¤©çš„å†…å®¹åˆ†äº«äº†ï¼Œæ„Ÿè°¢å¤§å®¶çš„é˜…è¯»ï¼Œæˆ‘ä»¬ä¸‹ç¯‡è§ã€‚</p>
<blockquote>
<p>æ³¨ï¼šæœ¬æ–‡åœ¨GitHubå¼€æºä»“åº“ã€Œç¼–ç¨‹ä¹‹è·¯ã€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frd2coding%2FRoad2Coding" target="_blank" title="https://github.com/rd2coding/Road2Coding" ref="nofollow noopener noreferrer">github.com/rd2coding/Râ€¦</a> ä¸­å·²ç»æ”¶å½•ï¼Œé‡Œé¢æœ‰æˆ‘æ•´ç†çš„6å¤§ç¼–ç¨‹æ–¹å‘(å²—ä½)çš„è‡ªå­¦è·¯çº¿+çŸ¥è¯†ç‚¹å¤§æ¢³ç†ã€é¢è¯•è€ƒç‚¹ã€æˆ‘çš„ç®€å†ã€å‡ æœ¬ç¡¬æ ¸pdfç¬”è®°ï¼Œä»¥åŠç¨‹åºå‘˜ç”Ÿæ´»å’Œæ„Ÿæ‚Ÿï¼Œæ¬¢è¿starã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1.Android 3åˆ†é’Ÿè·‘é€šè…¾è®¯ Shadow æ’ä»¶åŒ–å®˜æ–¹Demoï¼šé›¶åå°„ã€æ‰‹æŠŠæ‰‹å®æˆ˜(åŸºäºæºç ä¾èµ–)]]></title>    <link>https://juejin.cn/post/7594383365417467950</link>    <guid>https://juejin.cn/post/7594383365417467950</guid>    <pubDate>2026-01-13T00:54:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594383365417467950" data-draft-id="7594103243685789739" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1.Android  3åˆ†é’Ÿè·‘é€šè…¾è®¯ Shadow æ’ä»¶åŒ–å®˜æ–¹Demoï¼šé›¶åå°„ã€æ‰‹æŠŠæ‰‹å®æˆ˜(åŸºäºæºç ä¾èµ–)"/> <meta itemprop="keywords" content="Android,å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-13T00:54:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹ç¨‹åå…«å°‘"/> <meta itemprop="url" content="https://juejin.cn/user/184373685534077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1.Android  3åˆ†é’Ÿè·‘é€šè…¾è®¯ Shadow æ’ä»¶åŒ–å®˜æ–¹Demoï¼šé›¶åå°„ã€æ‰‹æŠŠæ‰‹å®æˆ˜(åŸºäºæºç ä¾èµ–)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/184373685534077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹ç¨‹åå…«å°‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T00:54:30.000Z" title="Tue Jan 13 2026 00:54:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>Tencent Shadow</strong>Â æ˜¯ä¸šç•ŒçŸ¥åçš„â€œé›¶åå°„â€ã€â€œé›¶ Hackâ€çš„ Android æ’ä»¶åŒ–æ¡†æ¶ï¼Œä»¥å…¶é«˜ç¨³å®šæ€§ä¸çµæ´»æ€§è‘—ç§°ã€‚<br/>
æœ¬æ–‡å°†ä»¥Â <strong>æºç ä¾èµ–æ–¹å¼ï¼ˆ<code>projects/sample/source</code>ï¼‰</strong> Â ä¸ºè“æœ¬ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ æˆåŠŸè¿è¡Œå®˜æ–¹ Demoã€‚</p>
</blockquote>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f5961d0797f44669637a4fb5195e071~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bmP56iL5Y2B5YWr5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870469&amp;x-signature=wKSvB8tl%2F8v9r7Y%2BlcL9aLvhaI8%3D" alt="111111.gif" loading="lazy"/></p>
<h3 data-id="heading-0">1. æºç åœ°å€ä¸æ–‡æ¡£</h3>
<ul>
<li><strong>GitHub åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTencent%2FShadow" target="_blank" title="https://github.com/Tencent/Shadow" ref="nofollow noopener noreferrer">github.com/Tencent/Shaâ€¦</a></li>
<li><strong>Sample æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTencent%2FShadow%2Fblob%2Fmaster%2Fprojects%2Fsample%2FREADME.md" target="_blank" title="https://github.com/Tencent/Shadow/blob/master/projects/sample/README.md" ref="nofollow noopener noreferrer">projects/sample/README.md</a></li>
</ul>
<h4 data-id="heading-1">ä¸¤ç§ Sample ç¤ºä¾‹</h4>




















<table><thead><tr><th>ç±»å‹</th><th>è·¯å¾„</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>æºç ä¾èµ–</strong></td><td><code>projects/sample/source</code></td><td>å­¦ä¹ ã€ç ”ç©¶ã€ä¿®æ”¹ Shadow æºç </td></tr><tr><td>Maven ä¾èµ–</td><td><code>projects/sample/maven</code></td><td>å¿«é€Ÿé›†æˆåˆ°å·²æœ‰é¡¹ç›®</td></tr></tbody></table>
<blockquote>
<p>âœ… æœ¬æ–‡èšç„¦äºÂ <strong>æºç ä¾èµ–æ–¹å¼</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">2. é¡¹ç›®ç»“æ„æ¦‚è§ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efd87a86036b4b4a9b21015682a56a21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bmP56iL5Y2B5YWr5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870469&amp;x-signature=Wp0Gs%2FLSq7NMwjiio7eUouXgf6M%3D" alt="ç›®å½•ç»“æ„.png" loading="lazy"/></p>
<pre><code class="hljs language-csharp" lang="csharp">projects/sample/source/
â”œâ”€â”€ sample-host/                <span class="hljs-meta"># å®¿ä¸»åº”ç”¨ï¼ˆç©ºå£³ï¼‰</span>
â”œâ”€â”€ sample-manager/             <span class="hljs-meta"># æ’ä»¶ç®¡ç†å™¨ï¼ˆè´Ÿè´£æ’ä»¶åŠ è½½ã€ç‰ˆæœ¬ç®¡ç†ï¼‰</span>
â”œâ”€â”€ sample-plugin/              <span class="hljs-meta"># æ’ä»¶ç›¸å…³æ¨¡å—</span>
â”‚   â”œâ”€â”€ sample-loader/          <span class="hljs-meta"># Loaderï¼šå®šä¹‰æ’ä»¶ç»„ä»¶ â†” å®¿ä¸»å£³å­çš„æ˜ å°„å…³ç³»</span>
â”‚   â”œâ”€â”€ sample-runtime/         <span class="hljs-meta"># Runtimeï¼šå£³å­ä»£ç†ç»„ä»¶çš„å®é™…å®ç°</span>
â”‚   â”œâ”€â”€ sample-<span class="hljs-keyword">base</span>-lib/        <span class="hljs-meta"># åŸºç¡€ä¸šåŠ¡åº“ï¼ˆAARï¼‰</span>
â”‚   â”œâ”€â”€ sample-<span class="hljs-keyword">base</span>/            <span class="hljs-meta"># åŸºç¡€æ’ä»¶ APKï¼ˆæ‰“åŒ… base-libï¼‰</span>
â”‚   â””â”€â”€ sample-app/             <span class="hljs-meta"># ä¸»ä¸šåŠ¡æ’ä»¶ï¼ˆä¾èµ– base-libï¼‰</span>
â”œâ”€â”€ sample-constant/            <span class="hljs-meta"># å…¬å…±å¸¸é‡ï¼ˆå¦‚æ’ä»¶ç±»åã€è¿›ç¨‹åç­‰ï¼‰</span>
â””â”€â”€ build.gradle / settings.gradle
</code></pre>
<h4 data-id="heading-3">ğŸ” Shadow åº”ç”¨æ•´ä½“æ¶æ„</h4>
<p>ä¸€ä¸ªå®Œæ•´çš„ Shadow åº”ç”¨ç”±ä¸‰å¤§éƒ¨åˆ†ç»„æˆï¼š
Shadowåº”ç”¨ç”±ä¸‰å¤§éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li>
<p><strong>å®¿ä¸»ï¼ˆHostï¼‰</strong> ï¼šç©ºå£³Appï¼Œæä¾›è¿è¡Œç¯å¢ƒ -Â <code>sample-host</code></p>
</li>
<li>
<p><strong>ç®¡ç†å™¨ï¼ˆManagerï¼‰</strong> ï¼šè´Ÿè´£æ’ä»¶çš„ä¸‹è½½ã€å®‰è£…å’Œç‰ˆæœ¬ç®¡ç† -Â <code>sample-manager</code></p>
</li>
<li>
<p><strong>æ’ä»¶ï¼ˆPluginï¼‰</strong> ï¼šä¸šåŠ¡æ ¸å¿ƒï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><strong>Loader</strong>ï¼šå®šä¹‰ç»„ä»¶é…å¯¹å…³ç³» -Â <code>sample-loader</code></li>
<li><strong>Runtime</strong>ï¼šæä¾›å£³å­ä»£ç†ç»„ä»¶çš„å®é™…å®ç° -Â <code>sample-runtime</code></li>
<li><strong>ä¸šåŠ¡ä»£ç </strong>ï¼šçœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ -Â <code>sample-app</code>å’Œ<code>sample-base</code></li>
</ul>
</li>
</ol>
<p>è¡¨æ ¼</p>








































<table><thead><tr><th>ç»„ä»¶</th><th>ä½œç”¨</th><th>å¯¹åº”æ¨¡å—</th></tr></thead><tbody><tr><td><strong>å®¿ä¸»ï¼ˆHostï¼‰</strong></td><td>æä¾›è¿è¡Œç¯å¢ƒã€ä»£ç† Activity</td><td><code>sample-host</code></td></tr><tr><td><strong>ç®¡ç†å™¨ï¼ˆManagerï¼‰</strong></td><td>ç®¡ç†æ’ä»¶ä¸‹è½½ã€å®‰è£…ã€ç”Ÿå‘½å‘¨æœŸ</td><td><code>sample-manager</code></td></tr><tr><td><strong>æ’ä»¶ï¼ˆPluginï¼‰</strong></td><td>åŒ…å«ä¸šåŠ¡é€»è¾‘</td><td><code>sample-plugin/...</code></td></tr><tr><td>Â Â â†³ Loader</td><td>æ˜ å°„æ’ä»¶ç»„ä»¶ä¸å®¿ä¸»å£³å­</td><td><code>sample-loader</code></td></tr><tr><td>Â Â â†³ Runtime</td><td>å®ç°å£³å­ä»£ç†çš„çœŸå®é€»è¾‘</td><td><code>sample-runtime</code></td></tr><tr><td>Â Â â†³ ä¸šåŠ¡ App</td><td>çœŸæ­£çš„ä¸šåŠ¡ä»£ç ï¼ˆå¦‚ MainActivityï¼‰</td><td><code>sample-app</code>,Â <code>sample-base</code></td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡Â <strong>å…³é”®ç»“è®º</strong>ï¼šShadow ä¸æ˜¯ä¸€ä¸ª APKï¼Œè€Œæ˜¯ä¸€ä¸ªÂ <strong>å®¿ä¸» + ç®¡ç†å™¨ + æ’ä»¶åŒ…ï¼ˆLoader + Runtime + ä¸šåŠ¡ï¼‰</strong> Â çš„ç»„åˆä½“ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">3. æ„å»ºä¸è¿è¡Œ Demo</h3>
<h4 data-id="heading-5">3.1 ç¯å¢ƒå‡†å¤‡</h4>
<h5 data-id="heading-6">âœ… æ­£ç¡®æ‰“å¼€å·¥ç¨‹æ–¹å¼ï¼š</h5>
<ul>
<li><strong>é”™è¯¯åšæ³•</strong>ï¼šåªæ‰“å¼€Â <code>Shadow/projects/sample/source</code></li>
<li><strong>æ­£ç¡®åšæ³•</strong>ï¼š<strong>æ‰“å¼€æ•´ä¸ªÂ <code>Shadow/</code>Â æ ¹ç›®å½•</strong></li>
</ul>
<blockquote>
<p>åŸå› ï¼š<code>source</code>Â ç¤ºä¾‹é€šè¿‡Â <code>includeBuild '../..'</code>Â ä¾èµ–ä¸Šå±‚ SDK æºç ï¼ˆä½äºÂ <code>sdk/</code>Â ç›®å½•ï¼‰ã€‚è‹¥åªæ‰“å¼€å­ç›®å½•ï¼ŒGradle æ— æ³•è§£æä¾èµ–ï¼ŒåŒæ­¥å¤±è´¥ã€‚</p>
</blockquote>
<h5 data-id="heading-7">âœ… æ¨èç¯å¢ƒé…ç½®ï¼š</h5>
<p>è¡¨æ ¼</p>

























<table><thead><tr><th>å·¥å…·</th><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>JDK</td><td><strong>11 æˆ– 17</strong></td><td><strong>ä¸æ¨è Java 21+</strong> ï¼ˆä¸ Gradle 7.5 ä¸å…¼å®¹ï¼‰</td></tr><tr><td>Gradle</td><td><strong>7.5</strong></td><td>é¡¹ç›®è‡ªå¸¦ï¼ˆ<code>gradle-7.5-bin.zip</code>ï¼‰</td></tr><tr><td>Android Gradle Plugin</td><td><strong>7.4.2</strong></td><td>è§Â <code>build-logic</code>Â é…ç½®</td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ éªŒè¯å‘½ä»¤ï¼š<code>./gradlew --version</code></p>
</blockquote>
<hr/>
<h4 data-id="heading-8">3.2 æ„å»ºæµç¨‹æ ¸å¿ƒæ­¥éª¤ï¼ˆå…³é”®å››æ­¥ï¼‰</h4>
<blockquote>
<p>âš ï¸ è‹¥ç›´æ¥åœ¨ Android Studio ä¸­è¿è¡ŒÂ <code>sample-host</code>ï¼Œå¯èƒ½å› æ„å»ºä¸­æ–­å¯¼è‡´â€œæ–‡ä»¶ä¸å­˜åœ¨â€é”™è¯¯ã€‚å»ºè®®<strong>æ‰‹åŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤</strong>ã€‚</p>
</blockquote>
<h5 data-id="heading-9">æ­¥éª¤ 1ï¼šæ‰“åŒ…æ’ä»¶ ZIP</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ Shadow/ æ ¹ç›®å½•æ‰§è¡Œ</span>
/gradlew packageDebugPlugin
</code></pre>
<p>âœ… ç”Ÿæˆäº§ç‰©ï¼š</p>
<ul>
<li><code>sample-app/build/outputs/apk/plugin/debug/sample-app-plugin-debug.apk</code></li>
<li><code>build/plugin-debug.zip</code>Â â†Â <strong>æ ¸å¿ƒæ’ä»¶åŒ…</strong></li>
<li><code>sample-loader/build/outputs/apk/debug/sample-loader-debug.apk</code></li>
</ul>
<p>ä¼šç”Ÿæˆ</p>
<pre><code class="hljs language-lua" lang="lua">F:\shadow1021\Shadow-master\projects\sample\source\sample-plugin\
sample-app\build\outputs\apk\plugin\<span class="hljs-built_in">debug</span>\sample-app-plugin-<span class="hljs-built_in">debug</span>.apk
build/plugin-<span class="hljs-built_in">debug</span>.zip
</code></pre>
<p>ä¹Ÿä¼šç”Ÿæˆè¿™ä¸ªï¼š</p>
<pre><code class="hljs language-lua" lang="lua">F:\shadow1021\Shadow-master\projects\sample\source\sample-plugin\
sample-loader\build\outputs\apk\<span class="hljs-built_in">debug</span>\sample-loader-<span class="hljs-built_in">debug</span>.apk
</code></pre>
<h5 data-id="heading-10">æ­¥éª¤ 2ï¼šæ„å»ºå®¿ä¸»ä¸ç®¡ç†å™¨</h5>
<pre><code class="hljs language-bash" lang="bash">./gradlew assembleDebug
</code></pre>
<p>âœ… ç”Ÿæˆï¼š</p>
<ul>
<li><code>sample-host-debug.apk</code></li>
<li><code>sample-manager-debug.apk</code></li>
</ul>
<p>ä¼šç”Ÿæˆï¼š</p>
<pre><code class="hljs language-lua" lang="lua">F:\shadow1021\Shadow-master\projects\sample\source\sample-manager\build\outputs\apk\<span class="hljs-built_in">debug</span>
\sample-manager-<span class="hljs-built_in">debug</span>.apk
</code></pre>
<p>åŒæ—¶ä¹Ÿä¼šç”Ÿæˆè¿™ä¸ªï¼š</p>
<pre><code class="hljs language-lua" lang="lua">F:\shadow1021\Shadow-master\projects\sample\source\sample-host\build\outputs\apk\<span class="hljs-built_in">debug</span>\sample-host-<span class="hljs-built_in">debug</span>.apk
</code></pre>
<h5 data-id="heading-11">æ­¥éª¤ 3ï¼šæ¨é€æ’ä»¶åˆ°è®¾å¤‡ï¼ˆæ¨¡æ‹Ÿâ€œä¸‹è½½â€ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¨é€æ’ä»¶åŒ…</span>
adb push build/plugin-debug.zip /data/local/tmp/

<span class="hljs-comment"># æ¨é€ç®¡ç†å™¨ APK</span>
adb push projects/sample/source/sample-manager/build/outputs/apk/debug/sample-manager-debug.apk /data/local/tmp/
</code></pre>
<blockquote>
<p>ğŸ’¡ Shadow DemoÂ <strong>æœªå®ç°çœŸå®ä¸‹è½½</strong>ï¼Œè€Œæ˜¯ä»Â <code>/data/local/tmp/</code>Â è¯»å–æ–‡ä»¶ã€‚</p>
</blockquote>
<h5 data-id="heading-12">æ­¥éª¤ 4ï¼šå®‰è£…å¹¶è¿è¡Œå®¿ä¸»</h5>
<pre><code class="hljs language-lua" lang="lua">adb install -r -t -d projects/sample/source/sample-host/build/outputs/apk/<span class="hljs-built_in">debug</span>/sample-host-<span class="hljs-built_in">debug</span>.apk
</code></pre>
<blockquote>
<p><code>-t</code>Â å…è®¸æµ‹è¯• APKï¼Œ<code>-d</code>Â å…è®¸é™çº§å®‰è£…ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-13">3.3 è¿è¡Œæ•ˆæœ</h4>
<ol>
<li>
<p>å¯åŠ¨Â <code>sample-host</code>Â App</p>
</li>
<li>
<p>ç‚¹å‡»Â  <strong>â€œLoad Pluginâ€</strong> Â æŒ‰é’®</p>
</li>
<li>
<p>æˆåŠŸè·³è½¬è‡³æ’ä»¶é¡µé¢ï¼Œæ˜¾ç¤ºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Hello Shadow Plugin!
This <span class="hljs-keyword">is</span> sample-app plugin.
</code></pre>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ba4fc718f8a4666b234087999def53f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bmP56iL5Y2B5YWr5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768870469&amp;x-signature=l9nLB1NHkMkEHDHr34SImExO0n0%3D" alt="å¾®ä¿¡å›¾ç‰‡_20260112220026_613_402.jpg" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-14">3.4 å…³é”®ä»£ç ä½ç½®</h4>
<p>è¡¨æ ¼</p>

























<table><thead><tr><th>åŠŸèƒ½</th><th>æ–‡ä»¶è·¯å¾„</th></tr></thead><tbody><tr><td>å®¿ä¸» Application</td><td><code>sample-host/src/main/java/com/tencent/shadow/sample/host/HostApplication.java</code></td></tr><tr><td>æ’ä»¶åŠ è½½é€»è¾‘</td><td><code>sample-host/src/main/java/com/tencent/shadow/sample/host/PluginHelper.java</code></td></tr><tr><td>æ’ä»¶ä¸šåŠ¡é¡µé¢</td><td><code>sample-plugin/sample-app/src/main/java/com/tencent/shadow/sample/app/MainActivity.java</code></td></tr><tr><td>å…¬å…±å¸¸é‡</td><td><code>sample-constant/src/main/java/com/tencent/shadow/sample/constant/Constant.java</code></td></tr></tbody></table>
<blockquote>
<p>âš ï¸Â <strong>æ³¨æ„</strong>ï¼š<code>Constant.java</code>Â ä¸­å®šä¹‰çš„æ’ä»¶ç±»åã€è¿›ç¨‹åç­‰ï¼Œ<strong>å®¿ä¸»ä¸æ’ä»¶å¿…é¡»å®Œå…¨ä¸€è‡´</strong>ï¼Œå¦åˆ™æ— æ³•æ‰¾åˆ° Activityã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-15">4. æ ¸å¿ƒæœºåˆ¶è§£æ</h3>
<h4 data-id="heading-16">4.1Â <code>packageDebugPlugin</code>Â å‘½ä»¤åšäº†ä»€ä¹ˆï¼Ÿ</h4>
<p>è¿™æ˜¯ Shadow æ’ä»¶åŒ–çš„<strong>çµé­‚ä»»åŠ¡</strong>ï¼Œä¸»è¦å®Œæˆï¼š</p>
<ol>
<li>ç¼–è¯‘Â <code>loader</code>ã€<code>runtime</code>ã€<code>app</code>Â æ¨¡å—ä¸º APK</li>
<li>å¯¹ APK è¿›è¡Œ<strong>æ’ä»¶åŒ–æ”¹é€ </strong>ï¼ˆå¦‚é‡æ’èµ„æº IDï¼‰</li>
<li>æ‰“åŒ…ä¸ºæ ‡å‡†æ’ä»¶ ZIPï¼š<code>plugin-debug.zip</code></li>
</ol>
<h3 data-id="heading-17">4.2   ./gradlew assembleDebug</h3>
<p>è¿™æ˜¯æ ‡å‡†çš„Androidæ„å»ºå‘½ä»¤ï¼Œä¼šç¼–è¯‘å¹¶æ‰“åŒ…æŒ‡å®šæ¨¡å—çš„Debugç‰ˆæœ¬APKã€‚åœ¨Shadowé¡¹ç›®ä¸­ï¼Œä½ å¯ä»¥åœ¨å„ä¸ªæ¨¡å—ç›®å½•ä¸‹æ‰§è¡Œå®ƒæ¥å•ç‹¬æ„å»ºï¼š</p>
<p>åœ¨ sample-manager ä¸‹æ‰§è¡Œï¼Œç”Ÿæˆæ’ä»¶ç®¡ç†å™¨APKã€‚</p>
<p>åœ¨ sample-host ä¸‹æ‰§è¡Œï¼Œç”Ÿæˆå®¿ä¸»APKã€‚</p>
<h3 data-id="heading-18">4.3Â <code>plugin-debug.zip</code>Â å†…éƒ¨ç»“æ„</h3>
<p>è§£å‹ååŒ…å«ï¼š</p>
<pre><code class="hljs language-python" lang="python">plugin-debug.<span class="hljs-built_in">zip</span>/
â”œâ”€â”€ sample-loader-debug.apk     <span class="hljs-comment"># æ’ä»¶åŠ è½½å™¨ï¼ˆLoaderï¼‰</span>
â”œâ”€â”€ sample-runtime-debug.apk    <span class="hljs-comment"># è¿è¡Œæ—¶ç¯å¢ƒï¼ˆRuntimeï¼‰</span>
â”œâ”€â”€ sample-app-plugin-debug.apk <span class="hljs-comment"># ä¸šåŠ¡æ’ä»¶ï¼ˆç»æ’ä»¶åŒ–å¤„ç†ï¼‰</span>
â”œâ”€â”€ config.json                 <span class="hljs-comment"># æ’ä»¶å…ƒæ•°æ®ä¸ä¾èµ–å£°æ˜</span>
â””â”€â”€ checksum.txt                <span class="hljs-comment"># æ ¡éªŒæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</span>
</code></pre>
<p>è¡¨æ ¼</p>



































<table><thead><tr><th>æ–‡ä»¶</th><th>ç±»å‹</th><th>èŒè´£</th><th>ç±»æ¯”</th></tr></thead><tbody><tr><td><code>loader-debug.apk</code></td><td>APK</td><td>å®šä¹‰æ’ä»¶ç»„ä»¶ â†” å®¿ä¸»å£³å­æ˜ å°„</td><td>â€œç¿»è¯‘å®˜â€</td></tr><tr><td><code>runtime-debug.apk</code></td><td>APK</td><td>å®ç°å£³å­ä»£ç†çš„çœŸå®é€»è¾‘</td><td>â€œæ›¿èº«æ¼”å‘˜â€</td></tr><tr><td><code>app-plugin-debug.apk</code></td><td>APK</td><td>ä¸šåŠ¡ä»£ç ä¸ UI</td><td>â€œå‰§æœ¬â€</td></tr><tr><td><code>config.json</code></td><td>JSON</td><td>æè¿°æ’ä»¶ä¾èµ–ä¸é…ç½®</td><td>â€œè¯´æ˜ä¹¦â€</td></tr></tbody></table>
<h3 data-id="heading-19">4.4Â plugin-debug.zip æ˜¯æ€ä¹ˆè‡ªåŠ¨è¢«æ‰“åŒ…çš„?</h3>
<p><strong>é€šè¿‡ Gradle æ’ä»¶Â <code>com.tencent.shadow</code>Â åœ¨å®¿ä¸»æ„å»ºæ—¶è‡ªåŠ¨è§¦å‘æ’ä»¶æ¨¡å—çš„Â <code>packagePlugin</code>Â ä»»åŠ¡å®Œæˆæ‰“åŒ…ã€‚</strong></p>
<h3 data-id="heading-20">æ ¸å¿ƒæµç¨‹</h3>
<h4 data-id="heading-21">1. è§¦å‘æ—¶æœº</h4>
<p>å½“ä½ åœ¨ Android Studio è¿è¡ŒÂ <strong><code>sample-host</code></strong>Â æ¨¡å—æ—¶ï¼ŒGradle æ„å»ºæµç¨‹ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// åœ¨ sample-host/build.gradle ä¸­æœ‰è¿™æ ·çš„ä¾èµ–é…ç½®</span>
<span class="hljs-selector-tag">shadow</span> {
    <span class="hljs-comment">// å½“æ„å»ºå®¿ä¸»æ—¶ï¼Œè‡ªåŠ¨æ‰“åŒ…æ’ä»¶</span>
    <span class="hljs-selector-tag">packagePlugin</span> {
        <span class="hljs-selector-tag">pluginTypes</span> = <span class="hljs-selector-attr">[<span class="hljs-string">'debug'</span>, <span class="hljs-string">'release'</span>]</span>
    }
}
</code></pre>
<h4 data-id="heading-22">2. æ‰§è¡Œä»»åŠ¡</h4>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹ä¸¤ä¸ªä»»åŠ¡ï¼š</span>
./gradlew <span class="hljs-symbol">:projects</span><span class="hljs-symbol">:sample</span><span class="hljs-symbol">:source</span><span class="hljs-symbol">:sample-plugin</span><span class="hljs-symbol">:sample-app</span><span class="hljs-symbol">:packageDebugPlugin</span>
./gradlew <span class="hljs-symbol">:projects</span><span class="hljs-symbol">:sample</span><span class="hljs-symbol">:source</span><span class="hljs-symbol">:sample-plugin</span><span class="hljs-symbol">:sample-base</span><span class="hljs-symbol">:packageDebugPlugin</span>
</code></pre>
<h4 data-id="heading-23">æºç åœ¨å“ªï¼Ÿå…³é”®ä¸‰å¤„ï¼š</h4>
<h5 data-id="heading-24">1.Â <strong>æ‰“åŒ…ä»»åŠ¡å®šä¹‰</strong></h5>
<p>åœ¨ SDK æºç ä¸­ï¼š<br/>
ğŸ‘‰Â <code>sdk/gradle/plugin/src/main/kotlin/com/tencent/shadow/gradle/PluginProject.kt</code></p>
<p>è¿™é‡Œæ³¨å†Œäº†æ ¸å¿ƒä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">tasks.<span class="hljs-title function_">register</span>(<span class="hljs-params"><span class="hljs-string">"package${variant.name.capitalize()}Plugin"</span>, Zip::<span class="hljs-keyword">class</span></span>) {
    <span class="hljs-comment">// æŠŠ loaderã€runtimeã€æ’ä»¶ APKã€config.json æ‰“åŒ…è¿› ZIP</span>
}
</code></pre>
<p>è¿™ä¸ªä»»åŠ¡å°±æ˜¯Â <code>packageDebugPlugin</code>Â çš„æ¥æºã€‚</p>
<hr/>
<h5 data-id="heading-25">2.Â <strong>ZIP åŒ…å†…å®¹ä»å“ªæ¥ï¼Ÿ</strong></h5>
<p>çœ‹Â <code>sample-app/build.gradle</code>ï¼ˆä½ çš„æ’ä»¶æ¨¡å—ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">shadow {
    <span class="hljs-attr">dependsOn</span> = [<span class="hljs-string">'sample-base'</span>]  // å£°æ˜ä¾èµ–
}
</code></pre>
<p>Shadow æ’ä»¶ä¼šæ ¹æ®è¿™ä¸ªé…ç½®ï¼š</p>
<ul>
<li>è‡ªåŠ¨æ„å»ºÂ <code>sample-loader</code>Â â†’ å¾—åˆ°Â <code>loader.apk</code></li>
<li>è‡ªåŠ¨æ„å»ºÂ <code>sample-runtime</code>Â â†’ å¾—åˆ°Â <code>runtime.apk</code></li>
<li>æ„å»ºÂ <code>sample-app</code>Â å¹¶è½¬æˆæ’ä»¶æ ¼å¼ â†’Â <code>sample-app-plugin-debug.apk</code></li>
<li>ç”ŸæˆÂ <code>config.json</code>ï¼ˆæè¿°ä¾èµ–å…³ç³»ï¼‰</li>
</ul>
<p>ç„¶åå…¨éƒ¨å¡è¿› ZIPã€‚</p>
<hr/>
<h5 data-id="heading-26">3.Â <strong>å®¿ä¸»æ€ä¹ˆæ‹¿åˆ° ZIPï¼Ÿ</strong></h5>
<p>åœ¨Â <code>sample-host</code>Â çš„æ„å»ºè„šæœ¬ä¸­ï¼ˆé€šå¸¸åœ¨Â <code>buildScripts/host-build.gradle</code>Â æˆ–ç±»ä¼¼ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ„å»ºå®¿ä¸»å‰ï¼Œè‡ªåŠ¨å¤åˆ¶ ZIP åˆ° assets/</span>
preBuild.doFirst {
    copy {
        <span class="hljs-keyword">from</span> <span class="hljs-string">"../build/plugin-debug.zip"</span>
        <span class="hljs-keyword">into</span> <span class="hljs-string">"src/main/assets/"</span>
    }
}
</code></pre>
<p>æ‰€ä»¥ä½ è¿è¡ŒÂ <code>sample-host</code>Â æ—¶ï¼Œæ’ä»¶åŒ…å·²ç»åœ¨Â <code>assets/plugin-debug.zip</code>Â é‡Œäº†ã€‚</p>
<h2 data-id="heading-27">5ã€æ ¸å¿ƒè°ƒç”¨é“¾åˆ†æ</h2>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">sample-hello-api: å®šä¹‰å®¿ä¸»APIæ¥å£</span>
    â†“
<span class="hljs-section">sample-hello-api-holder: å°†APIåŠ¨æ€åŒ–</span>
    â†“
<span class="hljs-section">sample-hello-apk: ç”ŸæˆAPK</span>
    â†“
<span class="hljs-section">sample-hello-host: å®¿ä¸»åº”ç”¨</span>
    â†“
<span class="hljs-section">sample-manager: æ’ä»¶ç‰ˆæœ¬ç®¡ç†ï¼ˆæ ¸å¿ƒï¼‰</span>
    â†“
<span class="hljs-section">HostApplication: å®¿ä¸»å…¥å£</span>
    â†“
Shadow.getPluginManager(apk)
    â†“
PluginManager â†’ DynamicPluginManager â†’ ManagerImplLoader
    â†“
PluginHelper â†’ ManagerFactoryImpl
</code></pre>
<h3 data-id="heading-28">5.2 å…³é”®ä»£ç ä½ç½®</h3>

























<table><thead><tr><th>åŠŸèƒ½</th><th>æ–‡ä»¶è·¯å¾„</th></tr></thead><tbody><tr><td>æ’ä»¶åŠ è½½å…¥å£</td><td><code>sample-host/src/main/java/.../HostApplication.java</code></td></tr><tr><td>åŠ è½½é€»è¾‘</td><td><code>sample-host/src/main/java/.../PluginHelper.java</code></td></tr><tr><td>æ’ä»¶ä¸šåŠ¡é¡µé¢</td><td><code>sample-plugin/sample-app/src/main/java/.../MainActivity.java</code></td></tr><tr><td>å¸¸é‡å®šä¹‰</td><td><code>sample-constant/src/main/java/.../Constant.java</code></td></tr></tbody></table>
<p><strong>æ³¨æ„</strong>ï¼š<code>Constant.java</code>ä¸­å®šä¹‰äº†æ’ä»¶ç±»åã€è¿›ç¨‹åç­‰ï¼Œå®¿ä¸»å’Œæ’ä»¶å¿…é¡»ä¸€è‡´ã€‚</p>
<h3 data-id="heading-29">6. å¸¸è§é—®é¢˜ä¸è§£å†³</h3>
<h4 data-id="heading-30">âŒ é”™è¯¯ï¼šâ€œplugin file not exist...â€</h4>
<p><strong>åŸå› </strong>ï¼šæ„å»ºä¸­æ–­ï¼Œ<code>plugin-debug.zip</code>Â æˆ– APK æœªç”Ÿæˆã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>ç¡®ä¿åœ¨Â <strong>Shadow/ æ ¹ç›®å½•</strong>Â æ‰§è¡Œå‘½ä»¤</li>
<li>æ‰‹åŠ¨è¿è¡ŒÂ <code>./gradlew packageDebugPlugin</code></li>
<li>æ£€æŸ¥Â <code>build/outputs/</code>Â ä¸‹æ˜¯å¦å­˜åœ¨å¯¹åº”æ–‡ä»¶</li>
<li><strong>ä¸è¦ç›´æ¥ç‚¹å‡» AS çš„ Run æŒ‰é’®</strong>ï¼ˆä¼š clean äº§ç‰©ï¼‰ï¼Œæ”¹ç”¨Â <code>adb install</code></li>
</ol>
<hr/>
<h3 data-id="heading-31">7. æ€»ç»“ä¸å¿ƒå¾—</h3>
<ol>
<li><strong>æ¶æ„æ¸…æ™°æ˜¯æ ¸å¿ƒ</strong><br/>
ç†è§£â€œå®¿ä¸»-ç®¡ç†å™¨-æ’ä»¶ï¼ˆLoader/Runtime/ä¸šåŠ¡ï¼‰â€åˆ†å±‚ï¼Œæ˜¯åç»­å®šåˆ¶ä¸æ’é”™çš„åŸºç¡€ã€‚</li>
<li><strong>æ„å»ºæµç¨‹æ˜¯å…³é”®</strong><br/>
Shadow é€šè¿‡è‡ªå®šä¹‰ Gradle æ’ä»¶ï¼ˆ<code>packagePlugin</code>ï¼‰å®Œæˆ APK æ’ä»¶åŒ–æ”¹é€ ï¼Œç†è§£æ­¤è¿‡ç¨‹å¯¹ CI/CD é›†æˆè‡³å…³é‡è¦ã€‚</li>
<li><strong>æºç æ–¹å¼æœ€åˆ©äºå­¦ä¹ </strong><br/>
<code>projects/sample/source</code>Â å°† SDK ä¸ Demo æ”¾åœ¨åŒä¸€å·¥ç¨‹ï¼Œä¾¿äºè·Ÿè¸ªä»æºç åˆ° APK çš„å®Œæ•´é“¾è·¯ã€‚</li>
<li><strong>é—®é¢˜å®šä½æœ‰æ–¹æ³•</strong><br/>
é‡åˆ°â€œæ–‡ä»¶ä¸å­˜åœ¨â€ï¼Œå…ˆæ£€æŸ¥Â <code>build/outputs/</code>Â æ˜¯å¦æœ‰äº§ç‰©ï¼Œå†çœ‹ Gradle æ—¥å¿—ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js åšå®¢ç³»ç»Ÿå®æˆ˜ï¼ˆä¸€ï¼‰ï¼šé¡¹ç›®éœ€æ±‚åˆ†æ]]></title>    <link>https://juejin.cn/post/7594321135590719497</link>    <guid>https://juejin.cn/post/7594321135590719497</guid>    <pubDate>2026-01-12T23:09:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594321135590719497" data-draft-id="7594301878828056614" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js åšå®¢ç³»ç»Ÿå®æˆ˜ï¼ˆä¸€ï¼‰ï¼šé¡¹ç›®éœ€æ±‚åˆ†æ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2026-01-12T23:09:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js åšå®¢ç³»ç»Ÿå®æˆ˜ï¼ˆä¸€ï¼‰ï¼šé¡¹ç›®éœ€æ±‚åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T23:09:54.000Z" title="Mon Jan 12 2026 23:09:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨å­¦ä¹  Node.js çš„è¿‡ç¨‹ä¸­ï¼Œ<strong>åšå®¢ç³»ç»Ÿ</strong>å‡ ä¹æ˜¯æ¯ä¸ªåç«¯å·¥ç¨‹å¸ˆéƒ½ä¼šåšçš„ä¸€ä¸ªå®Œæ•´é¡¹ç›®ã€‚å®ƒè¦†ç›–äº†ç”¨æˆ·ä½“ç³»ã€å†…å®¹ç®¡ç†ã€æƒé™æ§åˆ¶ã€æ¥å£è®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–ç­‰å¤šä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œéå¸¸é€‚åˆä½œä¸ºç»¼åˆå®æˆ˜é¡¹ç›®ã€‚</p>
</blockquote>
<p>åœ¨çœŸæ­£å†™ä»£ç ä¹‹å‰ï¼Œ<strong>éœ€æ±‚åˆ†æ</strong>æ˜¯æœ€å…³é”®ã€ä¹Ÿæœ€å®¹æ˜“è¢«å¿½ç•¥çš„ä¸€æ­¥ã€‚æœ¬æ–‡å°†ä»çœŸå®é¡¹ç›®è§’åº¦ï¼Œç³»ç»Ÿæ¢³ç†ä¸€ä¸ª Node.js åšå®¢ç³»ç»Ÿéœ€è¦è§£å†³å“ªäº›é—®é¢˜ï¼Œä»¥åŠåº”è¯¥å…·å¤‡å“ªäº›æ ¸å¿ƒèƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¦åšåšå®¢ç³»ç»Ÿ</h2>
<p>é€‰æ‹©åšå®¢ç³»ç»Ÿä½œä¸ºå®æˆ˜é¡¹ç›®ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p>
<ul>
<li>ä¸šåŠ¡é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºæ‹†åˆ†</li>
<li>è¦†ç›–å®Œæ•´çš„å‰åç«¯äº¤äº’æµç¨‹</li>
<li>èƒ½è‡ªç„¶å¼•å…¥æƒé™ã€ç¼“å­˜ã€æœç´¢ç­‰èƒ½åŠ›</li>
<li>æ˜“äºæŒç»­æ‰©å±•å’Œä¼˜åŒ–</li>
</ul>
<p>ç›¸æ¯”ç®€å•çš„ CRUD Demoï¼Œåšå®¢ç³»ç»Ÿæ›´æ¥è¿‘çœŸå®ç”Ÿäº§é¡¹ç›®ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€é¡¹ç›®æ•´ä½“ç›®æ ‡</h2>
<p>æœ¬é¡¹ç›®çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ª<strong>å‰åç«¯åˆ†ç¦»çš„åšå®¢ç³»ç»Ÿåç«¯æœåŠ¡</strong>ï¼Œä¸»è¦è´Ÿè´£ï¼š</p>
<ul>
<li>æä¾›ç¨³å®šçš„ RESTful API</li>
<li>ç®¡ç†ç”¨æˆ·ã€æ–‡ç« ã€è¯„è®ºç­‰æ•°æ®</li>
<li>æ”¯æŒæƒé™æ§åˆ¶å’Œå®‰å…¨æ ¡éªŒ</li>
<li>ä¸ºå‰ç«¯ï¼ˆWeb / å°ç¨‹åº / Appï¼‰æä¾›æ•°æ®æ”¯æŒ</li>
</ul>
<p>æŠ€æœ¯æ ˆä»¥ Node.js ä¸ºæ ¸å¿ƒï¼Œå¼ºè°ƒå·¥ç¨‹åŒ–å’Œå¯æ‰©å±•æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ç³»ç»Ÿè§’è‰²åˆ†æ</h2>
<p>åœ¨éœ€æ±‚åˆ†æé˜¶æ®µï¼Œé¦–å…ˆè¦æ˜ç¡®ç³»ç»Ÿä¸­æœ‰å“ªäº›è§’è‰²ã€‚</p>
<h3 data-id="heading-3">1. æ™®é€šè®¿å®¢ï¼ˆVisitorï¼‰</h3>
<ul>
<li>æµè§ˆæ–‡ç« åˆ—è¡¨</li>
<li>æŸ¥çœ‹æ–‡ç« è¯¦æƒ…</li>
<li>æŸ¥çœ‹è¯„è®º</li>
</ul>
<p>æ— éœ€ç™»å½•å³å¯è®¿é—®ã€‚</p>
<hr/>
<h3 data-id="heading-4">2. æ³¨å†Œç”¨æˆ·ï¼ˆUserï¼‰</h3>
<ul>
<li>æ³¨å†Œ / ç™»å½• / é€€å‡º</li>
<li>å‘å¸ƒè¯„è®º</li>
<li>ä¿®æ”¹ä¸ªäººä¿¡æ¯</li>
</ul>
<p>ä¸»è¦å‚ä¸å†…å®¹äº’åŠ¨ã€‚</p>
<hr/>
<h3 data-id="heading-5">3. ç®¡ç†å‘˜ï¼ˆAdminï¼‰</h3>
<ul>
<li>å‘å¸ƒ / ç¼–è¾‘ / åˆ é™¤æ–‡ç« </li>
<li>ç®¡ç†è¯„è®º</li>
<li>ç®¡ç†ç”¨æˆ·</li>
<li>æ§åˆ¶å†…å®¹çŠ¶æ€</li>
</ul>
<p>ç®¡ç†å‘˜æ‹¥æœ‰æœ€é«˜æƒé™ã€‚</p>
<hr/>
<h2 data-id="heading-6">å››ã€æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚æ‹†è§£</h2>
<h3 data-id="heading-7">1. ç”¨æˆ·æ¨¡å—éœ€æ±‚</h3>
<p>ç”¨æˆ·ç³»ç»Ÿæ˜¯åšå®¢çš„åŸºç¡€ã€‚</p>
<p>ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç”¨æˆ·æ³¨å†Œ</li>
<li>ç”¨æˆ·ç™»å½•ï¼ˆJWT é‰´æƒï¼‰</li>
<li>ç”¨æˆ·ä¿¡æ¯è·å–</li>
<li>æƒé™è§’è‰²åŒºåˆ†</li>
</ul>
<p>é‡ç‚¹å…³æ³¨å®‰å…¨æ€§å’Œæ‰©å±•æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-8">2. æ–‡ç« æ¨¡å—éœ€æ±‚</h3>
<p>æ–‡ç« æ˜¯åšå®¢ç³»ç»Ÿçš„æ ¸å¿ƒæ•°æ®ã€‚</p>
<p>éœ€è¦æ”¯æŒï¼š</p>
<ul>
<li>æ–‡ç« å‘å¸ƒ</li>
<li>æ–‡ç« ç¼–è¾‘</li>
<li>æ–‡ç« åˆ é™¤</li>
<li>æ–‡ç« åˆ—è¡¨åˆ†é¡µ</li>
<li>æ–‡ç« è¯¦æƒ…æŸ¥è¯¢</li>
</ul>
<p>åŒæ—¶éœ€è¦è€ƒè™‘è‰ç¨¿ã€å‘å¸ƒçŠ¶æ€ç­‰é—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-9">3. åˆ†ç±»ä¸æ ‡ç­¾æ¨¡å—</h3>
<p>ä¸ºäº†æå‡å†…å®¹å¯è¯»æ€§å’Œæ£€ç´¢èƒ½åŠ›ï¼š</p>
<ul>
<li>æ–‡ç« åˆ†ç±»ç®¡ç†</li>
<li>æ ‡ç­¾ä¸æ–‡ç« çš„å¤šå¯¹å¤šå…³ç³»</li>
<li>æŒ‰åˆ†ç±» / æ ‡ç­¾ç­›é€‰æ–‡ç« </li>
</ul>
<p>è¿™æ˜¯åšå®¢ç³»ç»Ÿä¸­éå¸¸å…¸å‹çš„æ•°æ®å»ºæ¨¡åœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-10">4. è¯„è®ºæ¨¡å—éœ€æ±‚</h3>
<p>è¯„è®ºç³»ç»Ÿå¢å¼ºç”¨æˆ·äº’åŠ¨æ€§ã€‚</p>
<p>åŸºæœ¬éœ€æ±‚åŒ…æ‹¬ï¼š</p>
<ul>
<li>å‘è¡¨è¯„è®º</li>
<li>è¯„è®ºåˆ—è¡¨å±•ç¤º</li>
<li>è¯„è®ºå®¡æ ¸ï¼ˆå¯é€‰ï¼‰</li>
<li>è¯„è®ºåˆ é™¤</li>
</ul>
<p>éœ€è¦é˜²æ­¢æ¶æ„åˆ·è¯„è®ºã€‚</p>
<hr/>
<h3 data-id="heading-11">5. æƒé™ä¸å®‰å…¨éœ€æ±‚</h3>
<p>æƒé™æ§åˆ¶è´¯ç©¿æ•´ä¸ªç³»ç»Ÿï¼š</p>
<ul>
<li>æ™®é€šç”¨æˆ·ä¸èƒ½åˆ é™¤ä»–äººæ–‡ç« </li>
<li>åªæœ‰ç®¡ç†å‘˜å¯ä»¥ç®¡ç†å…¨ç«™å†…å®¹</li>
<li>æ¥å£éœ€è¦ç™»å½•æ ¡éªŒ</li>
</ul>
<p>å¸¸è§å®ç°æ–¹å¼æ˜¯ JWT + ä¸­é—´ä»¶æ ¡éªŒã€‚</p>
<hr/>
<h2 data-id="heading-12">äº”ã€éåŠŸèƒ½æ€§éœ€æ±‚åˆ†æ</h2>
<p>é™¤äº†ä¸šåŠ¡åŠŸèƒ½ï¼Œç³»ç»Ÿè¿˜éœ€è¦æ»¡è¶³ä¸€äº›éåŠŸèƒ½æ€§éœ€æ±‚ã€‚</p>
<hr/>
<h3 data-id="heading-13">1. æ¥å£è§„èŒƒæ€§</h3>
<ul>
<li>ç»Ÿä¸€è¿”å›æ ¼å¼</li>
<li>åˆç†çš„ HTTP çŠ¶æ€ç </li>
<li>æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</li>
</ul>
<p>è¿™æ˜¯å‰åç«¯åä½œçš„åŸºç¡€ã€‚</p>
<hr/>
<h3 data-id="heading-14">2. æ€§èƒ½ä¸æ‰©å±•æ€§</h3>
<ul>
<li>æ”¯æŒåˆ†é¡µæŸ¥è¯¢</li>
<li>å‡å°‘ä¸å¿…è¦çš„æ•°æ®åº“è®¿é—®</li>
<li>ä¸ºåç»­ç¼“å­˜ï¼ˆRedisï¼‰é¢„ç•™ç©ºé—´</li>
</ul>
<p>åšå®¢åˆæœŸè®¿é—®é‡ä¸é«˜ï¼Œä½†è®¾è®¡è¦å¯æ‰©å±•ã€‚</p>
<hr/>
<h3 data-id="heading-15">3. å®‰å…¨æ€§è¦æ±‚</h3>
<ul>
<li>å¯†ç åŠ å¯†å­˜å‚¨</li>
<li>é˜²æ­¢ SQL æ³¨å…¥</li>
<li>é˜²æ­¢ XSS / CSRF</li>
<li>æ¥å£è®¿é—®é¢‘ç‡é™åˆ¶</li>
</ul>
<p>å®‰å…¨é—®é¢˜ä¸èƒ½ç­‰åˆ°ä¸Šçº¿åå†å¤„ç†ã€‚</p>
<hr/>
<h3 data-id="heading-16">4. å¯ç»´æŠ¤æ€§</h3>
<ul>
<li>æ¸…æ™°çš„é¡¹ç›®ç»“æ„</li>
<li>æ¨¡å—èŒè´£å•ä¸€</li>
<li>æ—¥å¿—ä¸é”™è¯¯å¤„ç†ç»Ÿä¸€</li>
</ul>
<p>ä¸€ä¸ªå¯ç»´æŠ¤çš„é¡¹ç›®ï¼Œè¿œæ¯”â€œèƒ½è·‘èµ·æ¥â€é‡è¦ã€‚</p>
<hr/>
<h2 data-id="heading-17">å…­ã€æŠ€æœ¯é€‰å‹åˆæ­¥è§„åˆ’</h2>
<p>åœ¨éœ€æ±‚æ˜ç¡®åï¼Œå¯ä»¥è¿›è¡Œåˆæ­¥æŠ€æœ¯é€‰å‹ã€‚</p>
<ul>
<li>è¿è¡Œç¯å¢ƒï¼šNode.js</li>
<li>Web æ¡†æ¶ï¼šExpress / Koa</li>
<li>æ•°æ®åº“ï¼šMySQL / PostgreSQL / MongoDB</li>
<li>é‰´æƒæ–¹æ¡ˆï¼šJWT</li>
<li>ORMï¼šSequelize / Prisma / Mongoose</li>
</ul>
<p>å…·ä½“å®ç°å¯ä»¥åœ¨åç»­æ–‡ç« ä¸­é€æ­¥ç»†åŒ–ã€‚</p>
<hr/>
<h2 data-id="heading-18">ä¸ƒã€æ¥å£è®¾è®¡æ€è·¯ï¼ˆé¢„è§ˆï¼‰</h2>
<p>åšå®¢ç³»ç»Ÿé€šå¸¸é‡‡ç”¨ RESTful é£æ ¼æ¥å£ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>POST /api/login</code></li>
<li><code>GET /api/articles</code></li>
<li><code>POST /api/articles</code></li>
<li><code>GET /api/articles/:id</code></li>
</ul>
<p>æ¥å£è®¾è®¡å°†åœ¨åç»­ç« èŠ‚è¯¦ç»†å±•å¼€ã€‚</p>
<hr/>
<h2 data-id="heading-19">å…«ã€é˜¶æ®µæ€§ç›®æ ‡æ‹†åˆ†</h2>
<p>ä¸ºäº†é™ä½å¤æ‚åº¦ï¼Œé¡¹ç›®å¯ä»¥åˆ†é˜¶æ®µå®Œæˆï¼š</p>
<ol>
<li>ç”¨æˆ·æ³¨å†Œä¸ç™»å½•</li>
<li>æ–‡ç«  CRUD</li>
<li>æƒé™æ§åˆ¶</li>
<li>è¯„è®ºç³»ç»Ÿ</li>
<li>ä¼˜åŒ–ä¸éƒ¨ç½²</li>
</ol>
<p>æ¯ä¸€é˜¶æ®µéƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•å’Œè¿­ä»£ã€‚</p>
<hr/>
<h2 data-id="heading-20">ä¹ã€æ€»ç»“</h2>
<p>éœ€æ±‚åˆ†ææ˜¯åšå®¢ç³»ç»Ÿå¼€å‘ä¸­æœ€é‡è¦çš„ä¸€æ­¥ã€‚åªæœ‰åœ¨åŠŸèƒ½ã€è§’è‰²ã€æƒé™å’Œæ‰©å±•æ€§ä¸Šæå‰æƒ³æ¸…æ¥šï¼Œåç»­çš„æ¶æ„è®¾è®¡å’Œç¼–ç è¿‡ç¨‹æ‰èƒ½é¡ºç•…æ¨è¿›ã€‚</p>
<p>åœ¨æ¥ä¸‹æ¥çš„ç³»åˆ—æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†åŸºäºæœ¬ç¯‡éœ€æ±‚åˆ†æï¼Œé€æ­¥å®ç°ä¸€ä¸ª<strong>å®Œæ•´ã€å¯ä¸Šçº¿çš„ Node.js åšå®¢ç³»ç»Ÿåç«¯</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é­”æ”¹è±†åŒ…è¾“å…¥æ³•å˜ç”µè„‘ç‰ˆï¼Œç«‹å³æ‹¥æœ‰åƒå…ƒAIè¯­éŸ³è¾“å…¥æ³•typelesså¹³æ›¿]]></title>    <link>https://juejin.cn/post/7594309641867018278</link>    <guid>https://juejin.cn/post/7594309641867018278</guid>    <pubDate>2026-01-12T17:03:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594309641867018278" data-draft-id="7594321135590096905" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é­”æ”¹è±†åŒ…è¾“å…¥æ³•å˜ç”µè„‘ç‰ˆï¼Œç«‹å³æ‹¥æœ‰åƒå…ƒAIè¯­éŸ³è¾“å…¥æ³•typelesså¹³æ›¿"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-12T17:03:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ˜ŸAIå·¥ä½œå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/2250051536050763"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é­”æ”¹è±†åŒ…è¾“å…¥æ³•å˜ç”µè„‘ç‰ˆï¼Œç«‹å³æ‹¥æœ‰åƒå…ƒAIè¯­éŸ³è¾“å…¥æ³•typelesså¹³æ›¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2250051536050763/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ˜ŸAIå·¥ä½œå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T17:03:05.000Z" title="Mon Jan 12 2026 17:03:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/687bfbaf94e24691a52b8ff7d9d7e816~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=UrVTK7bOTKeLuBy6ZeIZktQzNq4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å“ˆå–½å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é˜¿æ˜ŸğŸ‘‹</p>
<p>æœ€è¿‘åœ¨ç”¨ä¸€æ¬¾è¯­éŸ³è¾“å…¥å·¥å…·Â <strong>Typeless</strong>Â ï¼Œä½“éªŒç¡®å®ä¸é”™â€”â€”Â <strong>æŒ‰ä½ä¸€ä¸ªé”®è¯´è¯ï¼Œæ¾å¼€åè‡ªåŠ¨æ’å…¥ï¼Œå®Œå…¨ä¸æ‰“æ–­æ€è·¯</strong>Â ã€‚ä½†æœ‰ä¸ªé—®é¢˜ï¼šÂ <strong>æ¯ä¸ªæœˆè¦ 84 å—é’±</strong>Â â€¦â€¦</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b8ca43466b546a1a635115977bc7495~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=c3LZSK9pJ3d7h2XgKe%2FyfD97UXA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‰€ä»¥â€¦â€¦æˆ‘è‡ªå·±ç”¨è±†åŒ…å®¢æˆ·ç«¯çš„AIè¯­éŸ³è¾“å…¥åŠŸèƒ½é­”æ”¹äº†ä¸ªå¹³æ›¿ï¼Œæ•ˆæœçœ‹å¤§å±å¹•ğŸ‘‡ï¼š</p>
<p>å› ä¸ºç”¨äº†ä¸€æ®µè±†åŒ…æ‰‹æœºè¾“å…¥æ³•æˆ‘å°±çˆ±ä¸Šäº†ï¼Œè‹¦äºç”µè„‘ä¸èƒ½ç”¨å•Šï¼Œæˆ‘å°±åœ¨æƒ³ï¼š</p>
<p>1ã€è™½ç„¶å®ƒæ‰‹æœºç‰ˆappä¸èƒ½ç”µè„‘ä¸Šç”¨ï¼Œä½†æ˜¯è±†åŒ…pcå®¢æˆ·ç«¯æœ‰ä¸ªè¯­éŸ³è¾“å…¥åŠŸèƒ½å•Š~</p>
<p><strong>2ã€è™½ç„¶å®ƒpcç«¯ç”¨èµ·æ¥ä¸­æ–­æ„Ÿæ¯”è¾ƒæ˜æ˜¾ï¼Œæ¯æ¬¡è¯´å®Œè¯éƒ½è¦æŒ‰enterï¼Œæå¾—æ²¡æœ‰ç”¨typelessæ—¶é‚£ç§æŒ‡æŒ¥é£æœºå¡”å°çš„æ„Ÿè§‰ã€‚</strong></p>
<p><strong>3ã€è™½ç„¶æ€»æ˜¯è¯´å®Œè¯è¦†ç›–æˆ‘çš„å‰ªè´´æ¿ï¼Œè¿™ä¸ªæˆ‘çœŸçš„å¥½æƒ³æ‰“äºº</strong></p>
<p>ä½†æ˜¯æˆ‘æœ‰AIå•Šï¼äºæ˜¯æˆ‘èŠ±äº†2å°æ—¶ï¼ŒÂ <strong>ç”¨è±†åŒ…åšäº†å¹³æ›¿â€”â€”å’Œtypelessä¸€æ ·ï¼ŒæŒ‰ä½å°±è¯´ï¼Œæ¾å¼€å°±å†™å…¥è¾“å…¥æ¡†ï¼Œä¸”ä¸ä¼šå†²æ‰åŸå…ˆå‰ªè´´æ¿å†…å®¹ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9dd69745bc24d938c8adfb01be14ddf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=6OCQS6lKfSXpi3XmTYJ%2B0TkkpZU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>æ ¸å¿ƒåŸç†ï¼ˆ100å­—çœ‹æ‡‚ï¼Œçœ‹ä¸æ‡‚ä¹Ÿæ— æ‰€è°“ï¼‰</strong></h2>
<p>è±†åŒ…è‡ªå¸¦çš„è¯­éŸ³è¾“å…¥éœ€è¦Â <strong>Ctrl+D å”¤é†’ â†’ è¯´è¯ â†’ æ‰‹åŠ¨æŒ‰ Enter æ’å…¥</strong>Â ã€‚æˆ‘çš„å·¥å…·é€šè¿‡ Python ç›‘å¬ä½ çš„Â <strong>å³ä¾§ Command é”®</strong>Â ï¼Œå½“ä½ æŒ‰ä½æ—¶è‡ªåŠ¨è§¦å‘è±†åŒ…çš„ Ctrl+Dï¼Œæ¾å¼€æ—¶è‡ªåŠ¨éšå½¢åœ°æŒ‰ Enter å®Œæˆæ’å…¥ã€‚åŒæ—¶åœ¨è§¦å‘å‰ä¿å­˜ä½ çš„å‰ªè´´æ¿ï¼Œæ’å…¥åç«‹å³æ¢å¤ï¼Œé¿å…è±†åŒ…çš„è¯†åˆ«ç»“æœè¦†ç›–ä½ å¤åˆ¶çš„å†…å®¹ã€‚Â **<br/>
**</p>
<p><strong>æœ¬è´¨æ˜¯æŠŠè±†åŒ…çš„ä¸‰æ­¥æ“ä½œï¼Œå˜æˆæŒ‰ä½è¯´è¯ä¸€æ­¥å®Œæˆã€‚</strong></p>
<hr/>
<h2 data-id="heading-1"><strong>æˆæœ¬å¯¹æ¯”ï¼šä¸€å¹´çœ1000</strong></h2>
<p>å…¶å®é˜¿æ˜Ÿä¹Ÿæƒ³è¿‡è‡ªå·±å†™ä¸ªAIè¾“å…¥æ³•ï¼Œä½†è±†åŒ…å·²ç»å…è´¹æä¾›äº†è¯­éŸ³è¯†åˆ«èƒ½åŠ›ã€‚</p>
<p>é‚£æˆ‘åªéœ€è¦å†™ä¸ªæ’ä»¶ï¼Œè®©å®ƒæ›´å¥½ç”¨å°±å·®ä¸å¤šäº†ã€‚æˆ‘è‡ªå·±æ„Ÿè§‰æ²¡å¿…è¦é‡å¤´å†æ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bfd997ade0c4dd8a343f4c7e2790400~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=g7zTqgWMKODNuK5myHtdQAPeL00%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2"><strong>å¦‚ä½•ä½¿ç”¨ï¼Ÿï¼ˆ3åˆ†é’Ÿä¸Šæ‰‹ï¼‰</strong></h2>
<h3 data-id="heading-3"><strong>ç¬¬1æ­¥ï¼šé…ç½®è±†åŒ…ï¼ˆä¸€åŠ³æ°¸é€¸ï¼‰</strong></h3>
<ol>
<li>
<ol>
<li>æ‰“å¼€è±†åŒ…ç”µè„‘ç‰ˆåº”ç”¨ï¼Œåˆ«æ‰¾é”™äº†ï¼Œæ˜¯è±†åŒ…ç”µè„‘å®¢æˆ·ç«¯appã€‚å°±ä½ å¹³å¸¸ç”¨çš„è±†åŒ…ç½‘é¡µç‰ˆçš„å·¦ä¸‹è§’ã€‚</li>
</ol>
</li>
<li><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08831baddf694a7aa2e7339c1f6478cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=0aAxctb6IAsDaR%2FR%2F1fUdMrGmWY%3D" alt="å›¾ç‰‡" loading="lazy"/></li>
<li/>
<li>ç„¶åâ†’ è®¾ç½® â†’ å¿«æ·é”®</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e15cb50d0b054b6ba2f07aa632fbfb85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=lBZEypGWjgiT%2BiCfiCWk0k15LNs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol start="2">
<li>å°†"è¯­éŸ³è¾“å…¥"è®¾ä¸ºÂ <strong>Control + D</strong></li>
</ol>
<p><strong>ï¼ˆä¸ºäº†é¿å…è‡ªå®šä¹‰å¿«æ·é”®å†²çªå…ˆå›ºå®šäº†ï¼‰</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bde307f78c4f48f89a8ad300ac1fb02f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=aDxwlQeHE5%2BpKySn2vZCkY0yw0s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>3.Â <strong>å»ºè®®å…³é—­è¯­éŸ³æ‚¬æµ®çƒ</strong>Â ï¼ˆè™½ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯å®¹æ˜“è¯¯è§¦ï¼Œæ— ä¼¤å¤§é›…ï¼‰ç¡®è®¤æ”¹å¥½äº†ï¼Œä¿å­˜</p>
<h3 data-id="heading-4"><strong>ç¬¬2æ­¥ï¼šä¸‹è½½å¹¶æ‰“å¼€åº”ç”¨ï¼ˆ1åˆ†é’Ÿï¼‰</strong></h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f26bab821144df1ba33f4561086e1ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=x9a5GOTUEKAAsFM7owCFkzFVLJk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>ä¸‹è½½Â <strong>é˜¿æ˜ŸAIè¾“å…¥-v2.0-macOS-final.zip</strong>Â (20 MB)</li>
</ol>
<p>2.Â <strong>è§£å‹å¾—åˆ°</strong>Â ï¼šé˜¿æ˜ŸAIè¾“å…¥.appï¼Œå°±ç¬¬äºŒä¸ªicon</p>
<p>3.Â <strong>é¦–æ¬¡æ‰“å¼€</strong>Â ï¼šå³é”®ç‚¹å‡» â†’ æ‰“å¼€ï¼ˆmacOS å®‰å…¨é™åˆ¶ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb86830bf68b4d9c941f36c53f121389~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=dDJTw9uB75iW821Cu1uEyUf%2BMEI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>4.Â <strong>æˆäºˆæƒé™</strong>Â ï¼ˆå¿…é¡»ï¼ï¼‰ï¼šç³»ç»Ÿä¼šè¦æ±‚æˆäºˆã€Œè¾…åŠ©åŠŸèƒ½ã€æƒé™</p>
<ul>
<li>æ‰“å¼€Â <strong>ç³»ç»Ÿè®¾ç½® â†’ éšç§ä¸å®‰å…¨æ€§ â†’ è¾…åŠ©åŠŸèƒ½</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b30c2f0412724fa0ab86f88cc4364be4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=t8byxXWUFiFVNR0U2TiIxApc2TY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>â€¢ ç‚¹å‡» â• æ·»åŠ ã€Œé˜¿æ˜ŸAIè¾“å…¥.appã€</li>
<li>â€¢ ç¡®ä¿å‹¾é€‰å·²å¯ç”¨</li>
</ul>
<p>5.Â <strong>æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€</strong>Â ï¼Œæ˜¾ç¤ºæ§åˆ¶ç•Œé¢ï¼ˆ<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8899%25EF%25BC%2589" target="_blank" title="http://localhost:8899%EF%BC%89" ref="nofollow noopener noreferrer">http://localhost:8899ï¼‰</a></p>
<ul>
<li>â€¢ å¯åŠ¨æ—¶é—´ï¼šé¦–æ¬¡ 5-10 ç§’ï¼Œåç»­ 3-5 ç§’</li>
</ul>
<p>é¦–æ¬¡å¯åŠ¨å¯èƒ½æ¯”è¾ƒæ…¢</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e02810cd6f34f4eab07a68eb7ef3a24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=t1aCxGpEjb9DS9Z8CyHI5Lt9J90%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-5"><strong>ç¬¬3æ­¥ï¼šå¯åŠ¨è¯­éŸ³è¾“å…¥ï¼ˆ1åˆ†é’Ÿï¼‰</strong></h3>
<p>åœ¨æµè§ˆå™¨ä¸­ï¼šç‚¹å‡»Â <strong>ğŸš€ å¯åŠ¨è¯­éŸ³è¾“å…¥ï¼Œçœ‹åˆ°æ—¥å¿—æ˜¾ç¤ºã€Œâœ“ è¯­éŸ³è¾“å…¥å·²å¯åŠ¨ï¼ã€åï¼Œå°±å¯ä»¥ä½¿ç”¨äº†</strong></p>
<h3 data-id="heading-6"><strong>ç¬¬4æ­¥ï¼šå¼€å§‹ä½¿ç”¨</strong></h3>
<ol>
<li>
<ol>
<li>åœ¨ä»»ä½•è¾“å…¥æ¡†é‡Œï¼ˆæµè§ˆå™¨ã€ç¼–è¾‘å™¨ã€å¾®ä¿¡...ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>æŒ‰ä½Â å³ä¾§ Command é”®è¯´è¯</li>
</ol>
</li>
</ol>
<p><strong>å°±è¿™ä¹ˆç®€å•ï¼</strong></p>
<hr/>
<h2 data-id="heading-7"><strong>æ ¸å¿ƒåŠŸèƒ½è¯¦è§£</strong></h2>
<h3 data-id="heading-8"><strong>åŠŸèƒ½1ï¼šè‡ªåŠ¨æ’å…¥ï¼ˆå¯¹æ ‡ Type Lessï¼‰</strong></h3>
<p><strong>è±†åŒ…åŸç”Ÿæµç¨‹ç¨å¾®é¡¿æ„Ÿäº†</strong>Â ï¼š</p>
<pre><code class="hljs">Ctrl+D â†’ è¯´è¯ â†’ çœ‹é¢„è§ˆæ¡† â†’ æ‰‹åŠ¨æŒ‰ Enter â†’ æ’å…¥
</code></pre>
<p><strong>æˆ‘çš„å·¥å…·ç»™å®ƒä¿®è¡¥ä¸‹ä½“æ„Ÿ</strong>Â ï¼š</p>
<pre><code class="hljs">æŒ‰ä½ Command â†’ è¯´è¯ â†’ æ¾å¼€ â†’ è‡ªåŠ¨ Enter â†’ æ’å…¥
</code></pre>
<p><strong>è¿™å°±æ˜¯ Typelesså€¼ 80 å…ƒ/æœˆçš„ä¸æ»‘è¾“å…¥ä½“éªŒå•Šã€‚</strong> Â ç°åœ¨å…è´¹ç”¨äº†ã€‚</p>
<h3 data-id="heading-9"><strong>åŠŸèƒ½2ï¼šå‰ªè´´æ¿ä¿æŠ¤</strong></h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>Â ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> ä½ å¤åˆ¶äº†ä¸€æ®µä»£ç 
<span class="hljs-bullet">2.</span> ç”¨è¯­éŸ³è¾“å…¥äº†ä¸€å¥è¯
<span class="hljs-bullet">3.</span> è±†åŒ…æŠŠè¯†åˆ«ç»“æœå¤åˆ¶åˆ°å‰ªè´´æ¿
<span class="hljs-bullet">4.</span> ä½ å»ç²˜è´´ â†’ ç²˜è´´å‡ºæ¥çš„æ˜¯è¯­éŸ³æ–‡å­—ï¼Œä¸æ˜¯ä»£ç 
<span class="hljs-bullet">5.</span> ä»£ç æ²¡äº†
</code></pre>
<p><strong>æˆ‘çš„è§£å†³æ–¹æ¡ˆ</strong>Â ï¼š</p>
<pre><code class="hljs">æŒ‰ä¸‹ Command â†’ ä¿å­˜ä½ çš„å‰ªè´´æ¿
â†’ è§¦å‘è±†åŒ…è¯­éŸ³
â†’ è±†åŒ…è¯†åˆ«å¹¶å¤åˆ¶
â†’ æ¾å¼€ Command â†’ è‡ªåŠ¨æ’å…¥
â†’ 0.2ç§’å†…æ¢å¤ä½ çš„å‰ªè´´æ¿
</code></pre>
<p><strong>ä½ å»ç²˜è´´ï¼Œç²˜è´´å‡ºæ¥çš„è¿˜æ˜¯ä½ å¤åˆ¶çš„ã€‚</strong> Â å®Œç¾ï¼</p>
<h3 data-id="heading-10"><strong>åŠŸèƒ½3ï¼šWeb GUI ç•Œé¢ï¼‰</strong></h3>
<p>åœ¨ Web æ§åˆ¶ç•Œé¢ï¼ˆ<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8899%25EF%25BC%2589%25EF%25BC%259A" target="_blank" title="http://localhost:8899%EF%BC%89%EF%BC%9A" ref="nofollow noopener noreferrer">http://localhost:8899ï¼‰ï¼š</a></p>
<p><strong>ä¸»ç•Œé¢åŠŸèƒ½</strong>Â ï¼š</p>
<ul>
<li>
<p>ğŸš€Â <strong>å¯åŠ¨/åœæ­¢</strong>Â ï¼šä¸€é”®æ§åˆ¶è¯­éŸ³è¾“å…¥</p>
</li>
<li>
<p>ğŸ“‹Â <strong>å®æ—¶æ—¥å¿—</strong>Â ï¼šæŸ¥çœ‹è¿è¡ŒçŠ¶æ€å’Œè¯Šæ–­ä¿¡æ¯</p>
</li>
<li>
<p>âš™ï¸Â <strong>æ‰“å¼€é…ç½®</strong>Â ï¼šç‚¹å‡»æŒ‰é’®è¿›å…¥é…ç½®é¡µé¢</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d4bd3ca6c4c48ab9a114d710e6c7ac2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=p1zkFCZdvNINXVk9frUzDnjqgI0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>é…ç½®ç•Œé¢</strong>Â ï¼šæ»‘å—è°ƒæ•´å†·å¯åŠ¨/æ­£å¸¸å»¶è¿Ÿæ—¶é—´</p>
<p><strong>ä¸ç”¨æ”¹ä»£ç ï¼Œä¸ç”¨å‘½ä»¤è¡Œï¼Œå’Œ Type Less ä¸€æ ·å°ç™½å‹å¥½ã€‚</strong></p>
<hr/>
<h3 data-id="heading-11">ä¸‰å¤§æ ¸å¿ƒæŠ€æœ¯åŸç†</h3>
<h4 data-id="heading-12">1. å…¨å±€é”®ç›˜ç›‘å¬ï¼ˆpynput + macOS CGEventTapï¼‰</h4>
<p><strong>ä¸ºä»€ä¹ˆæ²¡ç”¨ Electronï¼Ÿ</strong> Â </p>
<p>è™½ç„¶ Electron ç¨³å®šï¼Œä½†å®ƒå¤ªâ€œé‡â€äº†â€”â€”å“ªæ€•ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ä¹Ÿè¦èƒŒç€å‡ ç™¾ MB çš„æµè§ˆå™¨å†…æ ¸ã€‚å…ˆé€‰äº† macOS åŸç”Ÿæ‰“åŒ…ã€‚</p>
<ol>
<li>1.Â <strong>é€‰æ‹© Onedirï¼šå‘Šåˆ«â€œå‘å‘†â€å¯åŠ¨</strong></li>
</ol>
<ul>
<li>â€¢Â <strong>Onefile (å¼ƒç”¨)</strong> Â ï¼šæœ¬è´¨æ˜¯å‹ç¼©åŒ…ï¼Œæ¯æ¬¡å¯åŠ¨éœ€ 10 ç§’è§£å‹ï¼Œæ…¢å¾—åƒæ­»æœºã€‚</li>
<li>â€¢Â <strong>Onedir (é€‰ç”¨)</strong> Â ï¼šç›´æ¥åŠ è½½å·²è§£å‹åº“ï¼Œå®ç°Â  <strong>.app ç§’å¼€</strong>Â ã€‚</li>
</ul>
<ol>
<li>2.é€šè¿‡Â <strong>AppDelegate</strong>Â æ¶æ„å®ç°äº†ä¸ç³»ç»Ÿçš„â€œæ¡æ‰‹â€ã€‚åœ¨ç³»ç»Ÿåé¦ˆâ€œå·²å°±ç»ªâ€ (<code>DidFinishLaunching</code>) çš„ç¬é—´æŒ‚è½½ RunLoopã€‚</li>
</ol>
<p><strong>Onedir (ç§’å¼€) + AppDelegate (å®˜æ–¹æƒé™æŒ‚è½½)</strong> Â ï¼Œç»•å¼€äº† Electron çš„è‡ƒè‚¿ï¼Œè§£å†³äº†åŸç”Ÿæ‰“åŒ…çš„æƒé™é­”å’’ã€‚</p>
<h4 data-id="heading-13">2. å‰ªè´´æ¿ä¿æŠ¤ï¼ˆpbpaste/pbcopyï¼‰</h4>
<p>è±†åŒ…è‡ªå·±çš„çš„è¯­éŸ³è¯†åˆ«ä¼šæŠŠç»“æœå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œç„¶åç”¨ç³»ç»Ÿå¿«æ·é”®ï¼ˆCmd+Vï¼‰è‡ªåŠ¨ç²˜è´´ã€‚è¿™ä¼šè¦†ç›–ç”¨æˆ·åŸæœ‰çš„å‰ªè´´æ¿å†…å®¹ã€‚</p>
<p><strong>æ‰€ä»¥æˆ‘é€šè¿‡è„šæœ¬æ”¹æˆäº†é¢„å­˜çš„æ–¹å¼</strong>Â ï¼š</p>
<ol>
<li>
<ol>
<li>æŒ‰ä¸‹ Command é”® â†’ ç”¨Â <code>pbpaste</code>Â ä¿å­˜å½“å‰å‰ªè´´æ¿</li>
</ol>
</li>
<li>
<ol start="2">
<li>è§¦å‘è±†åŒ…è¯­éŸ³è¯†åˆ«ï¼ˆCtrl+Dï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>ç­‰å¾…è¯†åˆ«å®Œæˆï¼ˆå†·å¯åŠ¨ 3.5 ç§’ï¼Œçƒ­å¯åŠ¨ 1.5 ç§’ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>æ¾å¼€ Command é”® â†’ æŒ‰ Enter æ’å…¥æ–‡å­—</li>
</ol>
</li>
<li>
<ol start="5">
<li>ç­‰å¾…Â <strong>0.2 ç§’</strong>Â ï¼ˆè®©è±†åŒ…å®Œæˆè‡ªåŠ¨å¤åˆ¶ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>ç”¨Â <code>pbcopy</code>Â æ¢å¤ç”¨æˆ·åŸå‰ªè´´æ¿</li>
</ol>
</li>
</ol>
<p><strong>è±†åŒ…çš„è‡ªåŠ¨å¤åˆ¶åœ¨ Enter åç«‹å³å‘ç”Ÿï¼Œä½†æˆ‘ä»¬åœ¨ 0.2 ç§’åå¼ºåˆ¶æ¢å¤ï¼Œè¿™ä¸ªæ—¶é—´å·®è¶³å¤Ÿè®©æ’å…¥å®Œæˆï¼Œåˆä¸ä¼šè®©ç”¨æˆ·å¯Ÿè§‰åˆ°å‰ªè´´æ¿è¢«ç¯¡æ”¹</strong>Â è¿‡ã€‚</p>
<h4 data-id="heading-14">3. æ™ºèƒ½å»¶è¿Ÿï¼ˆå†·å¯åŠ¨ vs çƒ­å¯åŠ¨ï¼‰</h4>
<p>**å¦‚æœä½ è¯´å®Œäº†ç»“æœå·¥å…·çš„ç­‰å¾…æ—¶é—´ä¸å¤Ÿï¼ŒæŒ‰ Enter æ—¶è±†åŒ…è¿˜æ²¡è¯†åˆ«å®Œï¼Œç»“æœå°±æ˜¯ç©ºç™½æˆ–ä¸å®Œæ•´ã€‚<br/>
**</p>
<p>æ”¹è¿› ï¼šè±†åŒ…ç¬¬ä¸€æ¬¡å¯åŠ¨è¯­éŸ³è¯†åˆ«éœ€è¦åˆå§‹åŒ– AI æ¨¡å‹ï¼Œè€—æ—¶è¾ƒé•¿ï¼ˆçº¦ 3.5 ç§’ï¼‰ã€‚åç»­è¯†åˆ«æ—¶æ¨¡å‹å·²åœ¨å†…å­˜ä¸­ï¼Œé€Ÿåº¦æ›´å¿«ï¼ˆçº¦ 1.5 ç§’ï¼‰ã€‚ç”¨æˆ·å¯åœ¨ Web ç•Œé¢é€šè¿‡æ»‘å—è‡ªå®šä¹‰è¿™äº›å»¶è¿Ÿæ—¶é—´</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c9162171d5b4d0db000edf8d7b26e86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5pifQUnlt6XkvZzlrqQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768842185&amp;x-signature=KNFSAfCo6BDHf%2FBk6q%2BAjFWuGaY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li/>
</ul>
<p><strong>okã€‚æˆ‘å·²ç»æ‰“åŒ…æˆ .app æ–‡ä»¶ï¼ŒåŒå‡»å³ç”¨</strong></p>
<p>æˆ‘æ˜¯é˜¿æ˜Ÿ</p>
<p>æ›´å¤šAIåº”ç”¨</p>
<p>æˆ‘ä»¬ä¸‹æœŸå†è§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 å¹´ PHP 8.4 ä¾ç„¶é‡è¦ï¼šè·³åˆ° 8.5 ä¹‹å‰ä½ è¯¥æŒæ¡çš„ç‰¹æ€§]]></title>    <link>https://juejin.cn/post/7594302398686674998</link>    <guid>https://juejin.cn/post/7594302398686674998</guid>    <pubDate>2026-01-12T23:15:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594302398686674998" data-draft-id="7594322573452738603" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 å¹´ PHP 8.4 ä¾ç„¶é‡è¦ï¼šè·³åˆ° 8.5 ä¹‹å‰ä½ è¯¥æŒæ¡çš„ç‰¹æ€§"/> <meta itemprop="keywords" content="åç«¯,PHP"/> <meta itemprop="datePublished" content="2026-01-12T23:15:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 å¹´ PHP 8.4 ä¾ç„¶é‡è¦ï¼šè·³åˆ° 8.5 ä¹‹å‰ä½ è¯¥æŒæ¡çš„ç‰¹æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T23:15:51.000Z" title="Mon Jan 12 2026 23:15:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">2026 å¹´ PHP 8.4 ä¾ç„¶é‡è¦ï¼šè·³åˆ° 8.5 ä¹‹å‰ä½ è¯¥æŒæ¡çš„ç‰¹æ€§</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ PHP 8.4 åœ¨ 2026 å¹´ä»ç„¶ç›¸å…³</h3>
<p>å¦‚æœä½ çš„å›¢é˜Ÿè®¡åˆ’"ä»Šå¹´ä¸Š PHP 8.5"ï¼Œå¾ˆå¯èƒ½ä¼šå…ˆèŠåˆ° PHP 8.4â€”â€”ä¸ç®¡ä½ æ„¿ä¸æ„¿æ„ã€‚</p>
<p>æ— èŠä½†é‡è¦çš„åŸå› æ˜¯ï¼šæ”¯æŒçª—å£ã€‚</p>
<p>æ ¹æ®å®˜æ–¹ PHP æ”¯æŒæ—¶é—´è¡¨ï¼ŒPHP 8.4ï¼ˆ2024 å¹´ 11 æœˆ 21 æ—¥å‘å¸ƒï¼‰ä»å¤„äºæ´»è·ƒæ”¯æŒæœŸï¼Œç›´åˆ° 2026 å¹´ 12 æœˆ 31 æ—¥ï¼Œå®‰å…¨ä¿®å¤æŒç»­åˆ° 2028 å¹´ 12 æœˆ 31 æ—¥ã€‚</p>
<p>è¿™è®© 8.4 åœ¨ 2026 å¹´åˆæˆä¸ºä¸€ä¸ªåˆç†çš„åŸºçº¿ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä» 8.2/8.3 å‡çº§ã€æƒ³é¿å…"è·³å¤ªè¿œã€åå¤ªå¤š"çš„å›¢é˜Ÿã€‚</p>
<p>ä½†æœ‰æ„æ€çš„åŸå› æ˜¯æŠ€æœ¯å±‚é¢çš„ï¼šPHP 8.4 æ‚„æ‚„é‡å¡‘äº†æ—¥å¸¸ OOP é£æ ¼ã€‚å®ƒå¼•å…¥çš„ç‰¹æ€§å‡å°‘äº†æ ·æ¿ä»£ç ï¼Œè®©"å¹²å‡€çš„ DTO"å’Œ"å®‰å…¨çš„é¢†åŸŸå¯¹è±¡"æ›´åƒæ˜¯è¯­è¨€åŸç”Ÿæ”¯æŒçš„ä¸œè¥¿ï¼š</p>
<ul>
<li>Property hooksï¼ˆå¤´æ¡åŠŸèƒ½ï¼‰</li>
<li>éå¯¹ç§°å±æ€§å¯è§æ€§ï¼ˆè¯»èµ·æ¥æ˜¯ publicï¼Œå†™èµ·æ¥æ˜¯ privateï¼‰</li>
<li>ä¸€äº›ç”Ÿæ´»è´¨é‡æ”¹è¿›ï¼ˆæ•°ç»„ã€å¼ƒç”¨å·¥å…·ã€DOM ç­‰ï¼‰</li>
</ul>
<p>å¦‚æœä½ åœ¨ 8.4 ä¸Šå†…åŒ–äº†è¿™äº›ï¼Œå‡çº§åˆ° 8.5 å¾€å¾€æ„Ÿè§‰åƒ"æ·»åŠ ä¸€äº›å¥½ä¸œè¥¿"ï¼Œè€Œä¸æ˜¯"æŠŠæ•´ä¸ª PHP å†™æ³•ç°ä»£åŒ–"ã€‚</p>
<p>æ‰€ä»¥è¿™ç¯‡æ–‡ç« å¯ä»¥å½“ä½œåŸºçº¿çŸ¥è¯†ï¼šå¦‚æœä½ è¿˜æ²¡ä¸Š 8.4ï¼Œè¿™æ˜¯ä½ ä¸º 8.5 åšå‡†å¤‡åº”è¯¥çŸ¥é“çš„â€”â€”ä½†ä¸ä¼šå˜æˆå®Œæ•´çš„å‡çº§æ¸…å•ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2026-01%2Fphp-3-biggest-strengths-2026" target="_blank" title="https://catchadmin.com/post/2026-01/php-3-biggest-strengths-2026" ref="nofollow noopener noreferrer">åŸæ–‡ 2026 å¹´ PHP 8.4 ä¾ç„¶é‡è¦ï¼šè·³åˆ° 8.5 ä¹‹å‰ä½ è¯¥æŒæ¡çš„ç‰¹æ€§</a></p>
<h3 data-id="heading-2">Property hooksï¼šæ˜¯ä»€ä¹ˆã€ä¸ºä»€ä¹ˆé‡è¦ã€ä»€ä¹ˆæ—¶å€™å€¼å¾—ç”¨</h3>
<p>Property hooks æ˜¯ PHP 8.4 å¼•å…¥çš„ã€‚</p>
<p>å®ƒè®©ä½ å¯ä»¥ç›´æ¥åœ¨å±æ€§ä¸Šé™„åŠ  get å’Œ/æˆ– set é€»è¾‘ã€‚å¯ä»¥ç†è§£ä¸º"è®¿é—®å™¨æ–¹æ³•"ï¼Œä½†ä¸éœ€è¦å†™ï¼š</p>
<ul>
<li><code>getFoo(): string</code></li>
<li><code>setFoo(string $foo): void</code></li>
<li>åŠ ä¸Šç§æœ‰çš„ backing å­—æ®µ</li>
<li>åŠ ä¸Šåœ¨æ„é€ å‡½æ•°å’Œå·¥å‚é‡Œé‡å¤çš„é¢å¤–ä¸å˜é‡</li>
</ul>
<h4 data-id="heading-3">å¿ƒæ™ºæ¨¡å‹</h4>
<p>å¸¦ hook çš„å±æ€§ä»ç„¶æ˜¯å±æ€§ã€‚ä½ è¿˜æ˜¯ç”¨æ­£å¸¸æ–¹å¼è¯»å†™å®ƒï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$user</span>-&gt;email = <span class="hljs-string">"  ADMIN@EXAMPLE.COM  "</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$user</span>-&gt;email;
</code></pre>
<p>ä½†åœ¨åº•å±‚ï¼Œå¼•æ“æŠŠè¯»å†™è·¯ç”±åˆ° hookã€‚</p>
<p>å®Œæ•´å½¢å¼çš„ hook é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> <span class="hljs-variable">$modified</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$foo</span> = <span class="hljs-string">'default value'</span> {
        get {
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;modified) {
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;foo . <span class="hljs-string">' (modified)'</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;foo;
        }
        <span class="hljs-title function_ invoke__">set</span>(<span class="hljs-keyword">string</span> <span class="hljs-variable">$value</span>) {
            <span class="hljs-variable language_">$this</span>-&gt;foo = <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-variable">$value</span>);
            <span class="hljs-variable language_">$this</span>-&gt;modified = <span class="hljs-literal">true</span>;
        }
    }
}
</code></pre>
<p>è¿™æ˜¯æ‰‹å†Œé‡Œçš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†æ ¸å¿ƒæ€æƒ³ï¼šä¿ç•™å±æ€§è¯­æ³•ï¼ŒåŒæ—¶è·å¾—é›†ä¸­åŒ–çš„è¡Œä¸ºã€‚</p>
<h4 data-id="heading-4">Backed property vs virtual propertyï¼ˆå®¹æ˜“æ¼æ‰çš„éƒ¨åˆ†ï¼‰</h4>
<p>Property hooks å¯ä»¥åˆ›å»ºä¸¤"ç§"å±æ€§ï¼š</p>
<ul>
<li><strong>Backed property</strong>ï¼šåœ¨å¯¹è±¡ä¸­æœ‰å­˜å‚¨çš„å†…å­˜ï¼ˆæ™®é€šå±æ€§ï¼‰ï¼Œhook æ“ä½œ backing valueã€‚</li>
<li><strong>Virtual property</strong>ï¼šæ²¡æœ‰ backing å­˜å‚¨â€”â€”æ˜¯æ´¾ç”Ÿ/è®¡ç®—çš„ï¼Œåƒä¼ªè£…æˆ <code>$area</code> çš„ <code>getArea()</code>ã€‚</li>
</ul>
<p>æ‰‹å†Œè§£é‡Šè¯´ï¼Œå¦‚æœä¸¤ä¸ª hook éƒ½æ²¡æœ‰ç”¨ç²¾ç¡®è¯­æ³•å¼•ç”¨ <code>$this-&gt;propertyName</code>ï¼Œå±æ€§å°±æ˜¯ virtual çš„ï¼Œvirtual å±æ€§ä¸å å†…å­˜ç©ºé—´ã€‚</p>
<p>ä¸€ä¸ªå¹²å‡€çš„ virtual property ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rectangle</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$h</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$w</span>,
    </span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$area</span> {
        get =&gt; <span class="hljs-variable language_">$this</span>-&gt;h * <span class="hljs-variable language_">$this</span>-&gt;w;
    }
}
<span class="hljs-variable">$r</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$r</span>-&gt;area;     <span class="hljs-comment">// 20</span>
<span class="hljs-variable">$r</span>-&gt;area = <span class="hljs-number">30</span>;     <span class="hljs-comment">// Error: no set operation defined</span>
</code></pre>
<p>è¿™åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªè®¡ç®—å‹ getterâ€”â€”ä½†è¯»èµ·æ¥åƒå±æ€§ã€‚</p>
<h4 data-id="heading-5">æœ€æœ‰ç”¨çš„å®é™…æ¨¡å¼</h4>
<p>ä¸“æ³¨äºçœŸæ­£èƒ½å‡å°‘ bug å’Œæ ·æ¿ä»£ç çš„æ¨¡å¼ã€‚</p>
<p><strong>æ¨¡å¼ Aï¼šåœ¨ setter ä¸­è§„èŒƒåŒ–è¾“å…¥ï¼ˆtrimã€å¤§å°å†™è½¬æ¢ç­‰ï¼‰</strong></p>
<p>ç»å…¸åœºæ™¯ï¼šé‚®ç®±ã€ç”¨æˆ·åã€slugã€‚ä½ æƒ³æ¥å—æ‚ä¹±è¾“å…¥ä½†å­˜å‚¨è§„èŒƒåŒ–çš„å€¼ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfile</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$email</span> {
        set =&gt; <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$value</span>));
    }
}
</code></pre>
<p>åœ¨ç®€å†™å½¢å¼ä¸­ï¼Œè¡¨è¾¾å¼ç»“æœæˆä¸ºå­˜å‚¨çš„ backing valueã€‚</p>
<p>è¿™å·²ç»å¾ˆæœ‰ç”¨äº†ï¼Œä½†ç”Ÿäº§ä»£ç é€šå¸¸è¿˜éœ€è¦éªŒè¯ã€‚</p>
<p><strong>æ¨¡å¼ Bï¼šåœ¨è¾¹ç•Œå¤„éªŒè¯ä¸å˜é‡ï¼ˆå°½æ—©æŠ›å‡ºï¼‰</strong></p>
<p>ä¾‹å¦‚ï¼Œå¼ºåˆ¶"ç”¨æˆ·åè‡³å°‘ 3 ä¸ªå­—ç¬¦"å¹¶è§„èŒƒåŒ–ç©ºæ ¼ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfile</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$username</span> {
        set {
            <span class="hljs-variable">$v</span> = <span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$value</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-variable">$v</span> === <span class="hljs-string">''</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Username cannot be empty.'</span>);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">strlen</span>(<span class="hljs-variable">$v</span>) &lt; <span class="hljs-number">3</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Username is too short.'</span>);
            }
            <span class="hljs-variable language_">$this</span>-&gt;username = <span class="hljs-variable">$v</span>;
        }
    }
}
</code></pre>
<p>è¿™è®©ä¸å˜é‡ç´§æŒ¨ç€å±æ€§ï¼Œè€Œä¸æ˜¯æ•£è½åœ¨æ§åˆ¶å™¨ã€è¯·æ±‚éªŒè¯å™¨å’Œæ„é€ å‡½æ•°å„å¤„ã€‚</p>
<p>PHP è¿ç§»æŒ‡å—ç”šè‡³å±•ç¤ºäº†ç±»ä¼¼çš„"éªŒè¯ç„¶åèµ‹å€¼"æ¨¡å¼ã€‚</p>
<p><strong>æ¨¡å¼ Cï¼šæ´¾ç”Ÿ/virtual çš„"å±•ç¤º"å±æ€§</strong></p>
<p>å¸¸è§çš„ DTO éœ€æ±‚ï¼šæš´éœ² fullName ä½†ä¸å­˜å‚¨å®ƒã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$first</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$last</span>,
    </span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$fullName</span> {
        get =&gt; <span class="hljs-string">"<span class="hljs-subst">{$this-&gt;first}</span> <span class="hljs-subst">{$this-&gt;last}</span>"</span>;
    }
}
</code></pre>
<p>Virtual property æœ€é€‚åˆçš„åœºæ™¯ï¼š</p>
<ul>
<li>ç¡®å®šæ€§çš„ï¼Œ</li>
<li>è®¡ç®—æˆæœ¬ä½ï¼Œ</li>
<li>ä½ æ°¸è¿œä¸æƒ³"set"å®ƒä»¬ã€‚</li>
</ul>
<p>å¯¹äºå†å²ä¸Šæ»¥ç”¨é­”æœ¯ <code>__get()</code> çš„å›¢é˜Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªå¹²å‡€çš„åŸºçº¿ã€‚</p>
<p><strong>æ¨¡å¼ Dï¼š"è®¡ç®—ä¸€æ¬¡ï¼Œä¹‹åç¼“å­˜"ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</strong></p>
<p>æœ‰æ—¶è®¡ç®—å€¼å¾ˆæ˜‚è´µï¼ˆè§£æã€æ„å»ºå¯¹è±¡ï¼‰ã€‚ä½ å¯ä»¥åœ¨å¯¹è±¡å†…éƒ¨ç¼“å­˜å®ƒã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RequestContext</span>
</span>{
    <span class="hljs-keyword">private</span> ?<span class="hljs-keyword">array</span> <span class="hljs-variable">$cachedClaims</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$jwt</span>,
    </span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">array</span> <span class="hljs-variable">$claims</span> {
        get {
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;cachedClaims !== <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;cachedClaims;
            }
            <span class="hljs-comment">// å‡è®¾ parseJwt() åšç­¾åæ£€æŸ¥ã€base64 è§£ç ç­‰</span>
            <span class="hljs-variable language_">$this</span>-&gt;cachedClaims = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">parseJwt</span>(<span class="hljs-variable">$this</span>-&gt;jwt);
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;cachedClaims;
        }
    }
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseJwt</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$jwt</span></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-comment">// ...</span>
        <span class="hljs-keyword">return</span> [];
    }
}
</code></pre>
<p>è¿™å¾ˆæ–¹ä¾¿ï¼Œä½†ä¹Ÿæ˜¯ hook å¯èƒ½å˜å¾—"å¤ªé­”æ³•"çš„åœ°æ–¹ã€‚å¦‚æœä½ æŠŠé‡æ´»è—åœ¨ <code>$obj-&gt;claims</code> åé¢ï¼Œå¯èƒ½ä¼šè®©è°ƒç”¨è€…æ„å¤–ã€‚åªåœ¨äººä½“å·¥å­¦çœŸæ­£è¶…è¿‡æˆæœ¬æ—¶ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ã€‚</p>
<h4 data-id="heading-6">Hooks + æ„é€ å‡½æ•°æå‡ï¼šä¸€ä¸ªå¾®å¦™çš„å‘</h4>
<p>PHP å…è®¸åœ¨æå‡çš„å±æ€§ä¸Šä½¿ç”¨ hookï¼Œä½†æœ‰ä¸€ä¸ªé‡è¦è§„åˆ™ï¼šä¼ ç»™æ„é€ å‡½æ•°çš„å€¼å¿…é¡»åŒ¹é…å±æ€§å£°æ˜çš„ç±»å‹â€”â€”ä¸ç®¡ä½ çš„ set hook å¯èƒ½æ¥å—ä»€ä¹ˆã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥å†™ï¼š</p>
<ul>
<li>å±æ€§ç±»å‹ï¼š<code>DateTimeInterface</code></li>
<li>set hook æ¥å—ï¼š<code>string|DateTimeInterface</code></li>
</ul>
<p>â€¦ä½†å¦‚æœä½ ç”¨æå‡ï¼Œæ„é€ å‡½æ•°å‚æ•°ç±»å‹ä»ç„¶æ˜¯ <code>DateTimeInterface</code>ã€‚</p>
<p>å¦‚æœä½ çœŸçš„æƒ³"æ„é€ å‡½æ•°é‡Œä¹Ÿå…è®¸ string"ï¼Œä½ å¯èƒ½éœ€è¦å·¥å‚æˆ–éæå‡çš„æ„é€ å‡½æ•°å‚æ•°ã€‚</p>
<h4 data-id="heading-7">é‡è¦é™åˆ¶ï¼šproperty hooks ä¸èƒ½å’Œ readonly ä¸€èµ·ç”¨</h4>
<p>è¿™å¯¹å–œæ¬¢ä¸å¯å˜å¯¹è±¡çš„å›¢é˜Ÿå¾ˆé‡è¦ã€‚</p>
<p>æ‰‹å†Œæ˜ç¡®è¯´æ˜ï¼šproperty hooks ä¸ readonly å±æ€§ä¸å…¼å®¹ã€‚</p>
<p>æ‰€ä»¥å¦‚æœä½ çš„é£æ ¼æ˜¯"åˆ°å¤„éƒ½æ˜¯ä¸å¯å˜å€¼å¯¹è±¡"ï¼Œhooks ä¸èƒ½æ›¿ä»£é‚£ä¸ªã€‚Hooks æ›´é€‚åˆçš„åœºæ™¯æ˜¯ï¼š</p>
<ul>
<li>DTO å’Œ request/response å¯¹è±¡</li>
<li>é…ç½®å¯¹è±¡</li>
<li>å†…éƒ¨å¯å˜ä½†éœ€è¦æŠ¤æ çš„é¢†åŸŸå¯¹è±¡</li>
</ul>
<p>ï¼ˆä¸‹ä¸€èŠ‚ä¼šè®²ç”¨éå¯¹ç§°å¯è§æ€§å®ç°"åŠä¸å¯å˜ DTO"ã€‚ï¼‰</p>
<h4 data-id="heading-8">å¦ä¸€ä¸ªé™åˆ¶ï¼šå¼•ç”¨å’Œé—´æ¥ä¿®æ”¹å¯èƒ½å‘ä½ </h4>
<p>Hooks æ‹¦æˆªè¯»å†™ï¼Œè¿™å¯èƒ½ä¸å¼•ç”¨å†²çªâ€”â€”ç‰¹åˆ«æ˜¯æ•°ç»„å…ƒç´ å†™å…¥ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$obj</span>-&gt;arr[<span class="hljs-string">'k'</span>] = <span class="hljs-string">'v'</span>;
</code></pre>
<p>æ–‡æ¡£è­¦å‘Šè¯´ï¼Œè·å–å¼•ç”¨æˆ–é—´æ¥ä¿®æ”¹å¯èƒ½ç»•è¿‡ set hookï¼Œå¹¶æ¦‚è¿°äº†çº¦æŸï¼ˆå¦‚ <code>&amp;get</code> è¡Œä¸ºï¼‰å’Œå…è®¸çš„æƒ…å†µã€‚</p>
<p>å®ç”¨æŒ‡å—ï¼š</p>
<ul>
<li>å¦‚æœè°ƒç”¨è€…ç»å¸¸ä¿®æ”¹å…ƒç´ ï¼Œé¿å…åœ¨æ•°ç»„å±æ€§ä¸Šç”¨ hookã€‚</li>
<li>ä¼˜å…ˆç”¨"æ›¿æ¢æ•´ä¸ªæ•°ç»„"æ¨¡å¼ï¼ˆ<code>$obj-&gt;tags = [...$obj-&gt;tags, $newTag];</code>ï¼‰ï¼Œè¿™è¡¨ç°å¾—åƒæ™®é€š setã€‚</li>
</ul>
<h4 data-id="heading-9">ä»€ä¹ˆæ—¶å€™ä¸åº”è¯¥ç”¨ property hooks</h4>
<p>Hooks å¾ˆæ£’â€¦â€¦ç›´åˆ°å®ƒä»¬ä¸æ˜¯ã€‚åœ¨ä»¥ä¸‹æƒ…å†µé¿å…ï¼š</p>
<ul>
<li>"hook body"å¼€å§‹åšçœŸæ­£çš„ç¼–æ’ï¼ˆIOã€ç½‘ç»œè°ƒç”¨ã€æ—¥å¿—ï¼‰ã€‚</li>
<li>è°ƒè¯•å˜å¾—ä¸æ¸…æ™°ï¼ˆ"ä¸ºä»€ä¹ˆè¯»è¿™ä¸ªå±æ€§ä¼šè®¿é—®æ•°æ®åº“ï¼Ÿ"ï¼‰ã€‚</li>
<li>ä½ çš„å›¢é˜Ÿéœ€è¦å…³é”®è¡Œä¸ºæœ‰æ˜¾å¼çš„è°ƒç”¨ç‚¹ã€‚</li>
</ul>
<p>ä¸€ä¸ªæœ‰ç”¨çš„è§„åˆ™ï¼šproperty hooks æœ€é€‚åˆå®ç°<strong>å±€éƒ¨ä¸å˜é‡å’Œå±€éƒ¨è½¬æ¢</strong>â€”â€”çœŸæ­£å±äºå±æ€§æœ¬èº«çš„é€»è¾‘ã€‚</p>
<h3 data-id="heading-10">å…¶ä»–å½±å“æ—¥å¸¸å·¥ä½œçš„ PHP 8.4 ç‰¹æ€§ï¼ˆæŒ‘ä½ çœŸæ­£ä¼šç”¨çš„ï¼‰</h3>
<p>PHP 8.4 ä¸åªæœ‰ hooksã€‚ä¸“æ³¨äºä»¥ä¸‹ç±»å‹çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>å‡å°‘æ ·æ¿ä»£ç ï¼Œ</li>
<li>å‡å°‘ bugï¼Œ</li>
<li>æˆ–è®©ä»£ç æ›´å®¹æ˜“ç†è§£ã€‚</li>
</ul>
<h4 data-id="heading-11">ç‰¹æ€§ï¼šéå¯¹ç§°å±æ€§å¯è§æ€§ï¼ˆpublic è¯»ã€å—é™å†™ï¼‰</h4>
<p>éå¯¹ç§°å¯è§æ€§è®©ä½ å¯ä»¥ä¸ºè¯»å’Œå†™è®¾ç½®ä¸åŒçš„å¯è§æ€§ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Money</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(<span class="hljs-params">set</span>) <span class="hljs-keyword">string</span> <span class="hljs-variable">$currency</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(<span class="hljs-params">set</span>) <span class="hljs-keyword">int</span> <span class="hljs-variable">$cents</span>,
    </span>) </span>{}
}
</code></pre>
<p>è°ƒç”¨è€…å¯ä»¥è¯»ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">echo</span> <span class="hljs-variable">$m</span>-&gt;cents;
</code></pre>
<p>ä½†ä¸èƒ½å†™ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$m</span>-&gt;cents = <span class="hljs-number">500</span>; <span class="hljs-comment">// Error outside the class</span>
</code></pre>
<p>è¿ç§»æŒ‡å—é˜æ˜äº†è§„åˆ™ï¼šç¬¬ä¸€ä¸ªå¯è§æ€§æ˜¯ get-visibilityï¼Œç¬¬äºŒä¸ªæ§åˆ¶ set-visibilityï¼Œget visibility ä¸èƒ½æ¯” set visibility æ›´çª„ã€‚</p>
<p>è¿™å¯¹ DTO å¾ˆé‡è¦ï¼šå®ƒç»™ä½ ä¸€ç§"å¤§éƒ¨åˆ†ä¸å¯å˜"çš„é£æ ¼ï¼Œè€Œä¸å¿…é‡‡ç”¨å®Œæ•´çš„å€¼å¯¹è±¡æ–¹æ³•ã€‚</p>
<h4 data-id="heading-12">ç»„åˆéå¯¹ç§°å¯è§æ€§ + property hooks</h4>
<p>è¿™ä¸ªç»„åˆç»å¸¸æ›¿ä»£ç»å…¸çš„"ç§æœ‰å±æ€§ + getter + setter"ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserInput</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(set) <span class="hljs-keyword">string</span> <span class="hljs-variable">$email</span> {
        set =&gt; <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$value</span>));
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(set) <span class="hljs-keyword">string</span> <span class="hljs-variable">$name</span> {
        set {
            <span class="hljs-variable">$v</span> = <span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$value</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-variable">$v</span> === <span class="hljs-string">''</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Name is required.'</span>);
            }
            <span class="hljs-variable language_">$this</span>-&gt;name = <span class="hljs-variable">$v</span>;
        }
    }
}
</code></pre>
<ul>
<li>è¯»æ˜¯ publicï¼ˆå¯¹æ¨¡æ¿ã€åºåˆ—åŒ–å™¨ã€è°ƒè¯•å‹å¥½ï¼‰</li>
<li>å†™æ˜¯å—æ§çš„ï¼ˆå¯¹ä¸å˜é‡å‹å¥½ï¼‰</li>
<li>æ ·æ¿ä»£ç ä¿æŒä½</li>
</ul>
<h4 data-id="heading-13">ç‰¹æ€§ï¼šæ–°æ•°ç»„è¾…åŠ©å‡½æ•°ï¼ˆarray_findã€array_find_keyã€array_anyã€array_allï¼‰</h4>
<p>PHP 8.4 æ–°å¢äº†æ•°ç»„æœç´¢/æ£€æŸ¥å‡½æ•°ã€‚</p>
<p><strong>array_find å’Œ array_find_key</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$users</span> = [
    [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">1</span>, <span class="hljs-string">'active'</span> =&gt; <span class="hljs-literal">false</span>],
    [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">2</span>, <span class="hljs-string">'active'</span> =&gt; <span class="hljs-literal">true</span>],
    [<span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">3</span>, <span class="hljs-string">'active'</span> =&gt; <span class="hljs-literal">false</span>],
];

<span class="hljs-variable">$first</span> = <span class="hljs-title function_ invoke__">array_find</span>(<span class="hljs-variable">$users</span>, fn (<span class="hljs-variable">$u</span>) =&gt; <span class="hljs-variable">$u</span>[<span class="hljs-string">'active'</span>] === <span class="hljs-literal">true</span>);
<span class="hljs-comment">// ['id' =&gt; 2, 'active' =&gt; true]</span>
</code></pre>
<p>å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å› <code>null</code>â€”â€”ä½†å¦‚æœ<strong>å€¼æœ¬èº«</strong>å°±æ˜¯ <code>null</code>ï¼Œä½ æ€ä¹ˆåŒºåˆ†"æ‰¾åˆ° null"å’Œ"æ²¡æ‰¾åˆ°"ï¼Ÿ</p>
<p>ä½ å¯ä»¥ç”¨ <code>array_find_key()</code> æ¥é¿å…æ­§ä¹‰ï¼ˆå› ä¸º key ä¸èƒ½æ˜¯ nullï¼‰ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$key</span> = <span class="hljs-title function_ invoke__">array_find_key</span>(<span class="hljs-variable">$users</span>, fn (<span class="hljs-variable">$u</span>) =&gt; <span class="hljs-variable">$u</span>[<span class="hljs-string">'active'</span>] === <span class="hljs-literal">true</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$key</span> === <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// çœŸçš„æ²¡æ‰¾åˆ°</span>
}
<span class="hljs-variable">$firstActive</span> = <span class="hljs-variable">$users</span>[<span class="hljs-variable">$key</span>];
</code></pre>
<p><strong>array_any å’Œ array_all çœ‹èµ·æ¥ç®€å•â€”â€”ç›´åˆ°å®ƒä»¬æ¶ˆé™¤äº†å™ªéŸ³</strong></p>
<p>ä¾‹å¦‚ï¼šå¼ºåˆ¶æ‰€æœ‰ä¸Šä¼ çš„æ–‡ä»¶éƒ½åœ¨å¤§å°é™åˆ¶å†…ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$ok</span> = <span class="hljs-title function_ invoke__">array_all</span>(<span class="hljs-variable">$files</span>, fn (<span class="hljs-variable">$f</span>) =&gt; <span class="hljs-variable">$f</span>[<span class="hljs-string">'size'</span>] &lt;= <span class="hljs-number">5_000_000</span>);
<span class="hljs-keyword">if</span> (!<span class="hljs-variable">$ok</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RuntimeException</span>(<span class="hljs-string">'One or more files are too large.'</span>);
}
</code></pre>
<p>è¿™æ›¿ä»£äº†æ¯ä¸ªäººéƒ½å†™å¾—ç•¥æœ‰ä¸åŒçš„ foreach + æ ‡å¿—å˜é‡ã€‚</p>
<h4 data-id="heading-14">ç‰¹æ€§ï¼š#[Deprecated] attribute ç”¨äºç”¨æˆ·æ€å¼ƒç”¨</h4>
<p>PHP ä¸€ç›´æœ‰å†…éƒ¨å¼ƒç”¨æœºåˆ¶ï¼Œä½† PHP 8.4 é€šè¿‡ <code>#[Deprecated]</code> attribute æš´éœ²äº†ä¸€ä¸ªå¹²å‡€çš„ç”¨æˆ·æ€ç‰ˆæœ¬ã€‚</p>
<p>æ‰‹å†Œè¯´ï¼šä½¿ç”¨å·²å¼ƒç”¨çš„åŠŸèƒ½ä¼šè§¦å‘ <code>E_USER_DEPRECATED</code>ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">#[\Deprecated</span>(<span class="hljs-attr">message</span>: <span class="hljs-string">"Use slugify() instead"</span>, <span class="hljs-attr">since</span>: <span class="hljs-string">"2026-01"</span>)<span class="hljs-meta">]</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">make_slug</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$s</span></span>): <span class="hljs-title">string</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$s</span>));
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">slugify</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$s</span></span>): <span class="hljs-title">string</span>
</span>{
    <span class="hljs-comment">// çœŸæ­£çš„å®ç°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$s</span>));
}

<span class="hljs-title function_ invoke__">make_slug</span>(<span class="hljs-string">"Hello World"</span>);
</code></pre>
<p>è¿™å¯¹å›¢é˜Ÿæ¥è¯´è¢«ä½ä¼°äº†ï¼šå®ƒç»™ä½ ä¸€ä¸ªæ ‡å‡†åŒ–çš„æ–¹å¼æ¥ï¼š</p>
<ul>
<li>æ ‡è®°æ—§çš„è¾…åŠ©å‡½æ•°ï¼Œ</li>
<li>æŒ‡å¯¼å†…éƒ¨è¿ç§»ï¼Œ</li>
<li>åœ¨ CI æ—¥å¿—ä¸­æš´éœ²å¼ƒç”¨ä½¿ç”¨æƒ…å†µã€‚</li>
</ul>
<h4 data-id="heading-15">ç‰¹æ€§ï¼šæ”¯æŒ HTML5 çš„æ–° DOM APIï¼ˆåœ¨ Dom å‘½åç©ºé—´ä¸­ï¼‰</h4>
<p>å¦‚æœä½ åœ¨ PHP ä¸­è§£æè¿‡ HTMLï¼ˆçˆ¬å–ã€æ¸…ç†ã€è¿ç§»è„šæœ¬ï¼‰ï¼ŒPHP 8.4 æ˜¯ä¸€æ¬¡æœ‰æ„ä¹‰çš„å‡çº§ã€‚</p>
<p>8.4 å‘å¸ƒå…¬å‘Šä»‹ç»äº†å¸¦æœ‰æ ‡å‡†å…¼å®¹ HTML5 è§£æçš„æ–° DOM APIã€Dom å‘½åç©ºé—´ä¸­çš„æ–°ç±»ï¼Œä»¥åŠæ–¹ä¾¿çš„æŸ¥è¯¢è¾…åŠ©å‡½æ•°ã€‚</p>
<p>å…¬å‘Šä¸­çš„ç¤ºä¾‹å±•ç¤ºäº†ï¼š</p>
<ul>
<li><code>Dom\HTMLDocument::createFromString(...)</code></li>
<li><code>querySelector(...)</code></li>
<li><code>classList-&gt;contains(...)</code></li>
</ul>
<p>ä¸€ä¸ªå®é™…ç”¨ä¾‹ï¼šå®‰å…¨åœ°æ£€æµ‹"canonical"é“¾æ¥æ ‡ç­¾ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$doc</span> = <span class="hljs-title class_">Dom\HTMLDocument</span>::<span class="hljs-title function_ invoke__">createFromString</span>(<span class="hljs-variable">$html</span>, LIBXML_NOERROR);
<span class="hljs-variable">$canonical</span> = <span class="hljs-variable">$doc</span>-&gt;<span class="hljs-title function_ invoke__">querySelector</span>(<span class="hljs-string">'link[rel="canonical"]'</span>);
<span class="hljs-variable">$url</span> = <span class="hljs-variable">$canonical</span>?-&gt;<span class="hljs-title function_ invoke__">getAttribute</span>(<span class="hljs-string">'href'</span>);
</code></pre>
<p>å¯¹äºç®€å•ä»»åŠ¡ï¼Œè¿™æ¯”ç»å…¸çš„ DOMDocument + DOMXPath ç»„åˆå¥½ç”¨å¾—å¤šï¼Œå®ƒå‡å°‘äº†æ²¡äººæƒ³ç»´æŠ¤çš„"XPath æ„å¤§åˆ©é¢"è„šæœ¬ã€‚</p>
<h4 data-id="heading-16">ç‰¹æ€§ï¼šPDO é©±åŠ¨ç‰¹å®šå­ç±»ï¼ˆæ›´ç²¾ç¡®çš„ APIï¼‰</h4>
<p>PHP 8.4 å¼•å…¥äº†é©±åŠ¨ç‰¹å®šçš„ PDO å­ç±»ï¼Œå¦‚ <code>Pdo\MySql</code>ã€<code>Pdo\Pgsql</code>ã€<code>Pdo\Sqlite</code> ç­‰ï¼Œå¹¶åœ¨å‘å¸ƒå…¬å‘Šä¸­å±•ç¤ºäº†æ–°çš„è¿æ¥é£æ ¼ã€‚</p>
<p>åœ¨ PHP 8.4 ç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>PDO::connect(...)</code> è¿”å› <code>Pdo\Sqlite</code></li>
<li>é©±åŠ¨ç‰¹å®šæ–¹æ³•åªå­˜åœ¨äºç›¸å…³çš„åœ°æ–¹</li>
</ul>
<p>è¿™æ”¹å–„äº†æ­£ç¡®æ€§å’Œ IDE æ”¯æŒï¼Œç‰¹åˆ«æ˜¯åœ¨æµ‹è¯•å’Œç”Ÿäº§æ··ç”¨ä¸åŒé©±åŠ¨çš„ä»£ç åº“ä¸­ã€‚</p>
<h4 data-id="heading-17">é™„åŠ ï¼šLazy objectsï¼ˆä¸»è¦ç”¨äºæ¡†æ¶å’ŒåŸºç¡€è®¾æ–½ä»£ç ï¼‰</h4>
<p>PHP 8.4 è¿˜å¼•å…¥äº† lazy objects æ¦‚å¿µï¼šåˆå§‹åŒ–è¢«å»¶è¿Ÿåˆ°è®¿é—®æ—¶æ‰è¿›è¡Œçš„å¯¹è±¡ã€‚è¿ç§»æŒ‡å—æ˜ç¡®æŒ‡å‡ºæ¡†æ¶å¯ä»¥åˆ©ç”¨å®ƒä»¬æ¥å»¶è¿Ÿè·å–ä¾èµ–æˆ–æ•°æ®ã€‚</p>
<p>å®ƒç”šè‡³å±•ç¤ºäº†ä½¿ç”¨ <code>ReflectionClass::newLazyGhost(...)</code> çš„æ ¸å¿ƒæœºåˆ¶ã€‚</p>
<p>è¿™ä¸æ˜¯ä½ åœ¨æ—¥å¸¸åº”ç”¨ä»£ç ä¸­ä¼šå¤©å¤©ç”¨çš„ä¸œè¥¿ï¼Œä½†å¦‚æœä½ åšï¼š</p>
<ul>
<li>DI å®¹å™¨ï¼Œ</li>
<li>ORMï¼Œ</li>
<li>ä»£ç†å±‚ï¼Œ</li>
<li>æˆ–å¯¹æ€§èƒ½æ•æ„Ÿçš„ bootstrapï¼Œ</li>
</ul>
<p>â€¦å€¼å¾—çŸ¥é“å®ƒçš„å­˜åœ¨ï¼Œå› ä¸ºä½ ä¼šåœ¨ç”Ÿæ€ç³»ç»Ÿå†…éƒ¨çœ‹åˆ°å®ƒã€‚</p>
<h3 data-id="heading-18">PHP 8.4 å¦‚ä½•æ”¹å˜ OOP é£æ ¼ï¼ˆå°¤å…¶æ˜¯ DTOï¼‰</h3>
<p>å¦‚æœä½ å†™ PHP å¾ˆå¤šå¹´ï¼Œä½ å¯èƒ½ç»å†è¿‡è‡³å°‘ä¸‰ç§ DTO é£æ ¼ï¼š</p>
<ol>
<li>"åˆ°å¤„éƒ½æ˜¯ public å±æ€§"</li>
<li>"æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ç§æœ‰å±æ€§ + getter/setter"</li>
<li>"readonly æå‡å±æ€§"ï¼ˆå¥½ç”¨ï¼Œä½†æ­»æ¿ï¼‰</li>
</ol>
<p>PHP 8.4 å¢åŠ äº†ç¬¬å››ç§ï¼Œéå¸¸å®ç”¨ï¼š</p>
<ul>
<li>public è¯»ï¼Œ</li>
<li>å—æ§å†™ï¼Œ</li>
<li>ä¸å˜é‡é è¿‘æ•°æ®ã€‚</li>
</ul>
<h4 data-id="heading-19">8.4 ä¹‹å‰ï¼šå¸¸è§çš„ DTO æ ·æ¿ä»£ç </h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CreateUserCommand</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$email</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$name</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$email</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$name</span></span>)
    </span>{
        <span class="hljs-variable language_">$this</span>-&gt;email = <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$email</span>));
        <span class="hljs-variable language_">$this</span>-&gt;name = <span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$name</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;name === <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Name is required.'</span>);
        }
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">email</span>(<span class="hljs-params"/>): <span class="hljs-title">string</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;email; }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">name</span>(<span class="hljs-params"/>): <span class="hljs-title">string</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;name; }
}
</code></pre>
<p>æ²¡ä»€ä¹ˆé—®é¢˜ã€‚åªæ˜¯é‡å¤ï¼Œç‰¹åˆ«æ˜¯åœ¨å‡ åä¸ªæ¶ˆæ¯å¯¹è±¡ä¸Šã€‚</p>
<h4 data-id="heading-20">8.4 ä¹‹åï¼š"public è¯» + private å†™ + hooks"</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CreateUserCommand</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(set) <span class="hljs-keyword">string</span> <span class="hljs-variable">$email</span> {
        set =&gt; <span class="hljs-title function_ invoke__">strtolower</span>(<span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$value</span>));
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(set) <span class="hljs-keyword">string</span> <span class="hljs-variable">$name</span> {
        set {
            <span class="hljs-variable">$v</span> = <span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$value</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-variable">$v</span> === <span class="hljs-string">''</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Name is required.'</span>);
            }
            <span class="hljs-variable language_">$this</span>-&gt;name = <span class="hljs-variable">$v</span>;
        }
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$email</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$name</span></span>)
    </span>{
        <span class="hljs-variable language_">$this</span>-&gt;email = <span class="hljs-variable">$email</span>;
        <span class="hljs-variable language_">$this</span>-&gt;name = <span class="hljs-variable">$name</span>;
    }
}
</code></pre>
<p>ä½ å¾—åˆ°ï¼š</p>
<ul>
<li>å¼ºç±»å‹</li>
<li>é›†ä¸­åŒ–çš„è§„èŒƒåŒ–/éªŒè¯</li>
<li>Public å¯è¯»æ€§ï¼ˆåœ¨æ¨¡æ¿ã€æ—¥å¿—ã€åºåˆ—åŒ–å™¨ä¸­æ–¹ä¾¿ï¼‰</li>
<li>æ²¡æœ‰è®¿é—®å™¨æ ·æ¿</li>
</ul>
<p>è€Œä¸”ä½ ä»ç„¶å¯ä»¥ç”¨æµ‹è¯•ä¿æŒä¸¥æ ¼ã€‚</p>
<h4 data-id="heading-21">ä¸€ä¸ªç°å®çš„"DTO + æ´¾ç”Ÿå±æ€§"æ¨¡å¼</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Address</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(<span class="hljs-params">set</span>) <span class="hljs-keyword">string</span> <span class="hljs-variable">$line1</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(<span class="hljs-params">set</span>) ?<span class="hljs-keyword">string</span> <span class="hljs-variable">$line2</span>,
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(<span class="hljs-params">set</span>) <span class="hljs-keyword">string</span> <span class="hljs-variable">$city</span>,
    </span>) </span>{}
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$singleLine</span> {
        get =&gt; <span class="hljs-title function_ invoke__">trim</span>(<span class="hljs-variable">$this</span>-&gt;line1 . <span class="hljs-string">' '</span> . (<span class="hljs-variable">$this</span>-&gt;line2 ?? <span class="hljs-string">''</span>) . <span class="hljs-string">', '</span> . <span class="hljs-variable language_">$this</span>-&gt;city);
    }
}
</code></pre>
<p>ä½ å¯ä»¥ä¿æŒå­˜å‚¨å­—æ®µå¹²å‡€ï¼Œå¹¶æä¾›ä¸€ä¸ªå‹å¥½çš„æ´¾ç”Ÿå­—æ®µè€Œä¸å¼•å…¥é¢å¤–æ–¹æ³•ã€‚</p>
<h4 data-id="heading-22">readonly ä»ç„¶èƒœå‡ºçš„åœºæ™¯</h4>
<p>å› ä¸º hooks ä¸èƒ½å’Œ readonly ä¸€èµ·ç”¨ï¼Œä¸å¯å˜å€¼å¯¹è±¡ä»ç„¶ä¾èµ–ï¼š</p>
<ul>
<li>readonly æå‡å±æ€§</li>
<li>å·¥å‚</li>
<li>æ˜¾å¼çš„ <code>withX()</code> æ–¹æ³•ï¼ˆåœ¨ PHP 8.5 é‡Œæ›´å¥½ç”¨äº†ï¼Œä½†é‚£æ˜¯å¦ä¸€ç¯‡æ–‡ç« çš„äº‹ï¼‰</li>
</ul>
<p>æ‰€ä»¥å¾ˆå¤šå›¢é˜Ÿçš„å®é™…åˆ†å·¥æ˜¯ï¼š</p>
<ul>
<li><strong>å€¼å¯¹è±¡</strong>ï¼šreadonly + æ˜¾å¼è¡Œä¸º</li>
<li><strong>DTO / å‘½ä»¤ / è¯·æ±‚</strong>ï¼šéå¯¹ç§°å¯è§æ€§ + hooks</li>
</ul>
<h3 data-id="heading-23">ç»å¸¸å½±å“æµ‹è¯•/CI çš„ç®€çŸ­å…¼å®¹æ€§è¯´æ˜</h3>
<p>è¿™ä¸€èŠ‚æ•…æ„ç®€çŸ­ï¼Œä½†æ˜¯èƒ½çœæ—¶é—´çš„é‚£ç§ç®€çŸ­ã€‚</p>
<h4 data-id="heading-24">é”™è¯¯æŠ¥å‘Šçº§åˆ«ï¼šE_STRICT æ²¡äº†</h4>
<p>PHP 8.4 ç§»é™¤äº† E_STRICT é”™è¯¯çº§åˆ«ï¼ŒE_STRICT å¸¸é‡å·²å¼ƒç”¨ã€‚</p>
<p>å¦‚æœä½ æœ‰é—ç•™ä»£ç æˆ–é…ç½®å¼•ç”¨äº† E_STRICTï¼Œå¯èƒ½ä¼šçœ‹åˆ° CI è¡Œä¸ºå˜åŒ–ã€‚</p>
<h4 data-id="heading-25">JIT é…ç½®é»˜è®¤å€¼å˜äº†ï¼ˆOPcacheï¼‰</h4>
<p>PHP 8.4 ä¸­ JIT é…ç½®çš„é»˜è®¤å€¼å˜äº†ï¼š</p>
<ul>
<li>ä» <code>opcache.jit=tracing</code> å’Œ <code>opcache.jit_buffer_size=0</code></li>
<li>åˆ° <code>opcache.jit=disable</code> å’Œ <code>opcache.jit_buffer_size=64M</code></li>
</ul>
<p>è¿™ä¸ä¼šæ”¹å˜"JIT é»˜è®¤å…³é—­"ï¼Œä½†å¯èƒ½å½±å“ä¹‹å‰åªåˆ‡æ¢å…¶ä¸­ä¸€ä¸ªå€¼çš„ç¯å¢ƒã€‚</p>
<h4 data-id="heading-26">ä¸€äº›æ‰©å±•å˜å¾—æ›´ä¸¥æ ¼ï¼ˆç±»å‹åŒ–å¸¸é‡ã€ValueErrorã€è¡Œä¸ºå˜æ›´ï¼‰</h4>
<p>8.4 ä¸å…¼å®¹åˆ—è¡¨ä¸­çš„ä¸€äº›ä¾‹å­ï¼š</p>
<ul>
<li>å‡ ä¸ªæ‰©å±•ç±»å¸¸é‡ç°åœ¨æœ‰ç±»å‹ï¼ˆDateã€Intlã€PDOã€Reflectionã€SPLã€Sqliteã€XMLReaderï¼‰ã€‚</li>
<li>ä¸€äº›å‡½æ•°ç°åœ¨æŠ› ValueError è€Œä¸æ˜¯é™é»˜æ¥å—æ— æ•ˆè¾“å…¥ï¼ˆå¦‚ <code>round()</code> æ— æ•ˆæ¨¡å¼ã€<code>str_getcsv()</code> æ— æ•ˆåˆ†éš”ç¬¦é•¿åº¦ï¼‰ã€‚</li>
<li>SimpleXML è¿­ä»£è¡Œä¸ºå˜äº†ä»¥é¿å…æ„å¤–çš„ rewindï¼ˆä¹‹å‰å¯èƒ½å¯¼è‡´æ— é™å¾ªç¯ï¼‰ã€‚</li>
<li>æ ¹æ®é©±åŠ¨ï¼Œä¸€äº› PDO å±æ€§ç°åœ¨è¡¨ç°ä¸ºå¸ƒå°”è€Œéæ•´æ•°ã€‚</li>
</ul>
<p>è¿™äº›æ˜¯é‚£ç§é™¤éä½ å°½æ—©åœ¨ 8.4 ä¸‹è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼Œå¦åˆ™ä¼šè¡¨ç°ä¸º"éšæœºæµ‹è¯•å¤±è´¥"çš„å˜æ›´ã€‚</p>
<h3 data-id="heading-27">å°å‹è¿ç§»ï¼šé‡‡ç”¨ PHP 8.4 çš„å°æ­¥éª¤ï¼Œæ— éœ€å¤§é‡æ„</h3>
<p>å¦‚æœä½ è¿˜æ²¡ä¸Š 8.4â€”â€”æˆ–è€…ä¸Šäº†ä½†æ²¡ç”¨è¿™äº›ç‰¹æ€§â€”â€”è¿™æ˜¯ä¸€ä¸ªé€šå¸¸æœ‰æ•ˆçš„å®‰å…¨é¡ºåºã€‚</p>
<h4 data-id="heading-28">æ­¥éª¤ 1ï¼šå…ˆæŠŠ 8.4 åŠ åˆ° CIï¼Œå³ä½¿ç”Ÿäº§è¿˜æ²¡å‡†å¤‡å¥½</h4>
<p>ç¡®ä¿ä½ èƒ½åœ¨ 8.4 ä¸Šè¿è¡Œæµ‹è¯•å¥—ä»¶è€Œä¸å‡ºæ„å¤–ã€‚æŠŠè­¦å‘Šå’Œå¼ƒç”¨å½“ä½œä¿¡å·ã€‚</p>
<h4 data-id="heading-29">æ­¥éª¤ 2ï¼šåªåœ¨æ–°ä»£ç ä¸­é‡‡ç”¨ array_find / array_any / array_all</h4>
<p>ä¸è¦é‡æ„æ•´ä¸ªä»£ç åº“ã€‚åªæ˜¯ä¸è¦å†å†™æ–°çš„"foreach-with-break"å¾ªç¯ï¼Œé™¤éå®ƒä»¬çœŸçš„æ›´æ¸…æ™°ã€‚</p>
<h4 data-id="heading-30">æ­¥éª¤ 3ï¼šå¯¹æ–°çš„ DTO å’Œè¯·æ±‚å¯¹è±¡ä½¿ç”¨éå¯¹ç§°å¯è§æ€§</h4>
<p>è¿™æ˜¯ä½é£é™©çš„ï¼šä½ ä¸»è¦æ˜¯æ”¹å˜å±æ€§å£°æ˜å¹¶æ¶ˆé™¤ä¸€ç±»æ„å¤–ä¿®æ”¹ã€‚</p>
<h4 data-id="heading-31">æ­¥éª¤ 4ï¼šåœ¨æ˜æ˜¾æ›¿ä»£æ ·æ¿ä»£ç çš„åœ°æ–¹æ·»åŠ  property hooks</h4>
<p>ä»ä»¥ä¸‹å¼€å§‹ï¼š</p>
<ul>
<li>trim å’Œå¤§å°å†™è§„èŒƒåŒ–ï¼Œ</li>
<li>ç®€å•éªŒè¯ï¼Œ</li>
<li>æ´¾ç”Ÿå±æ€§ã€‚</li>
</ul>
<p>ä¸€å¼€å§‹é¿å…åœ¨ hooks é‡Œæ”¾é‡é€»è¾‘ã€‚</p>
<h4 data-id="heading-32">æ­¥éª¤ 5ï¼šç”¨ #[Deprecated] è¿›è¡Œå†…éƒ¨ API æ¸…ç†</h4>
<p>ç”¨æ¸…æ™°çš„æ¶ˆæ¯æ ‡è®°æ—§æ–¹æ³•å’Œè¾…åŠ©å‡½æ•°ã€‚åœ¨ CI æ—¥å¿—ä¸­è·Ÿè¸ªä½¿ç”¨æƒ…å†µã€‚è®©å¼ƒç”¨å¯æ“ä½œã€‚</p>
<h4 data-id="heading-33">æ­¥éª¤ 6ï¼šåªåœ¨è„šæœ¬æˆ–éš”ç¦»æ¨¡å—ä¸­é‡‡ç”¨æ–° DOM API</h4>
<p>å¦‚æœä½ çš„åº”ç”¨åš HTML è§£æï¼Œæ–° API å¯èƒ½æ˜¯å¾ˆå¤§çš„æ”¹è¿›â€”â€”ä½†ä¸€å¼€å§‹ä¿æŒé‡‡ç”¨èŒƒå›´å—é™ã€‚</p>
<h4 data-id="heading-34">æ­¥éª¤ 7ï¼šæŠŠ lazy objects ç•™ç»™æ¡†æ¶/åŸºç¡€è®¾æ–½å±‚</h4>
<p>çŸ¥é“è¿™ä¸ªç‰¹æ€§å­˜åœ¨ã€‚ä¸è¦å¼ºè¡Œå¡è¿›åº”ç”¨ä»£ç ï¼Œé™¤éä½ æœ‰éå¸¸å…·ä½“çš„æ€§èƒ½æˆ–æ¶æ„åŸå› ã€‚</p>
<h3 data-id="heading-35">é€šå¾€ PHP 8.5 çš„æ¡¥æ¢ï¼ˆä¸ºä»€ä¹ˆ 8.4 è®©ä¸‹ä¸€æ­¥æ›´å®¹æ˜“ï¼‰</h3>
<p>ä¸€æ—¦ä½ çš„å›¢é˜Ÿç†Ÿæ‚‰äº† PHP 8.4 çš„"ç°ä»£åŸºçº¿"ï¼š</p>
<ul>
<li>DTO å› ä¸ºéå¯¹ç§°å¯è§æ€§ + hooks å˜å¾—æ›´å¹²å‡€</li>
<li>å¼ƒç”¨ç­–ç•¥å› ä¸º <code>#[Deprecated]</code> å˜å¾—æ›´ç³»ç»ŸåŒ–</li>
<li>æ•°ç»„é‡å‹ä»£ç å¯ä»¥ç”¨åŸç”Ÿè¾…åŠ©å‡½æ•°è¡¨è¾¾å¾—æ›´æ¸…æ™°</li>
<li>HTML è§£æå’Œå·¥å…·è„šæœ¬å˜å¾—ä¸é‚£ä¹ˆç—›è‹¦</li>
</ul>
<p>è¿™ä¸ªåŸºçº¿å‡å°‘äº†è¿ç§»åˆ° PHP 8.5 çš„æ‘©æ“¦ï¼Œå› ä¸ºä½ å·²ç»ç°ä»£åŒ–äº†ä»£ç åº“ä¸­å¯¹è±¡å’Œæ—¥å¸¸å·¥å…·çš„å†™æ³•ã€‚PHP 8.5 å°±ä¸å†æ˜¯"è¿½èµ¶"ï¼Œè€Œæ˜¯é€‰æ‹©æ€§åœ°é‡‡ç”¨æ”¹è¿›ã€‚</p>
<h3 data-id="heading-36">ç»“è®º</h3>
<p>PHP 8.4 ä¸æ˜¯ä¸€ä¸ª"è·³è¿‡å®ƒï¼Œç›´æ¥ä¸Š 8.5"çš„ç‰ˆæœ¬ã€‚åœ¨ 2026 å¹´ï¼Œå®ƒä»ç„¶æ˜¯ä¸€ä¸ªæ˜æ™ºçš„åŸºçº¿ï¼Œå› ä¸ºå®ƒå—æ”¯æŒã€å¹¿æ³›ç›¸å…³ï¼Œè€Œä¸”å®ƒæ”¹å˜äº†æ—¥å¸¸ PHP çš„äººä½“å·¥å­¦â€”â€”å°¤å…¶æ˜¯åœ¨ OOP å¯†é›†çš„ä»£ç åº“ä¸­ã€‚</p>
<p>å¦‚æœä½ ä»è¿™ç¯‡å›é¡¾ä¸­åªå¸¦èµ°ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯ property hooksâ€”â€”ä½†è¦å¸¦ç€æ„å›¾ä½¿ç”¨ï¼š</p>
<ul>
<li>ç”¨å®ƒä»¬åšä¸å˜é‡ã€è§„èŒƒåŒ–å’Œå¹²å‡€çš„æ´¾ç”Ÿå€¼ï¼Œ</li>
<li>æŠŠå®ƒä»¬å’Œéå¯¹ç§°å¯è§æ€§é…å¯¹åšå®ç”¨çš„ DTOï¼Œ</li>
<li>è®© hooks ä¿æŒæ— èŠï¼ˆå¾€å¥½çš„æ–¹å‘ï¼‰ã€‚</li>
</ul>
<p>è¿™ä¸ªç»„åˆè®©ä½ ä»Šå¤©å°±æœ‰æ›´å¹²å‡€çš„ 8.4 ä»£ç åº“â€”â€”ä»¥åŠå‡†å¤‡å¥½æ—¶é€šå¾€ 8.5 çš„æ›´å¹³æ»‘è·¯å¾„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#.NET ConcurrentDictionary<TKey, TValue> æ·±åº¦è§£æï¼šåŸç†ä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7594322573452771371</link>    <guid>https://juejin.cn/post/7594322573452771371</guid>    <pubDate>2026-01-12T23:21:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594322573452771371" data-draft-id="7594322573452754987" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#.NET ConcurrentDictionary&lt;TKey, TValue&gt; æ·±åº¦è§£æï¼šåŸç†ä¸å®è·µ"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2026-01-12T23:21:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#.NET ConcurrentDictionary&lt;TKey, TValue&gt; æ·±åº¦è§£æï¼šåŸç†ä¸å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T23:21:53.000Z" title="Mon Jan 12 2026 23:21:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç®€ä»‹</h3>
<p><code>ConcurrentDictionary&lt;TKey, TValue&gt;</code> æ˜¯ <code>System.Collections.Concurrent</code> å‘½åç©ºé—´ä¸‹çš„çº¿ç¨‹å®‰å…¨çš„é”®å€¼å¯¹é›†åˆï¼Œä¸“ä¸ºé«˜å¹¶å‘è¯»å†™åœºæ™¯è®¾è®¡ â€”â€” ç›¸æ¯”ä¼ ç»Ÿ <code>Dictionary&lt;TKey, TValue&gt; +lock</code> çš„æ–¹æ¡ˆï¼Œå®ƒé‡‡ç”¨ç»†ç²’åº¦é”ï¼ˆåˆ†æ®µé”ï¼‰ æ›¿ä»£å…¨å±€é”ï¼Œå¤§å¹…é™ä½é”ç«äº‰ï¼Œæ˜¯ <code>.NET</code> ä¸­å®ç°çº¿ç¨‹å®‰å…¨é”®å€¼å­˜å‚¨çš„é¦–é€‰å·¥å…·ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒå®šä½ä¸ä»·å€¼</h3>
<p>æ™®é€š <code>Dictionary&lt;TKey, TValue&gt;</code> éçº¿ç¨‹å®‰å…¨ï¼ˆå¤šçº¿ç¨‹è¯»å†™ä¼šæŠ›å‡º<code>InvalidOperationException</code> æˆ–æ•°æ®æŸåï¼‰ï¼Œè€Œç”¨ <code>lock</code> åŒ…è£¹çš„ <code>Dictionary</code> å­˜åœ¨ â€œå…¨å±€é”â€ é—®é¢˜ï¼šæ‰€æœ‰çº¿ç¨‹äº‰æŠ¢åŒä¸€æŠŠé”ï¼Œé«˜å¹¶å‘ä¸‹æ€§èƒ½æå·®ã€‚</p>
<p><code>ConcurrentDictionary&lt;TKey, TValue&gt;</code> çš„æ ¸å¿ƒä»·å€¼ï¼š</p>
<ul>
<li>
<p>ç»†ç²’åº¦åˆ†æ®µé”ï¼šå°†é›†åˆæ‹†åˆ†ä¸ºå¤šä¸ª â€œæ®µï¼ˆ<code>Segment</code>ï¼‰â€ï¼Œæ¯ä¸ªæ®µæœ‰ç‹¬ç«‹é”ï¼Œçº¿ç¨‹ä»…ç«äº‰ç›®æ ‡ <code>Key</code> æ‰€åœ¨æ®µçš„é”ï¼Œè€Œéå…¨å±€é”ï¼›</p>
</li>
<li>
<p>åŸå­æ“ä½œ <code>API</code>ï¼šæä¾› <code>GetOrAddã€AddOrUpdate</code> ç­‰åŸå­æ–¹æ³•ï¼Œé¿å… â€œæ£€æŸ¥ - æ·»åŠ â€â€œæ£€æŸ¥ - æ›´æ–°â€ ç­‰å¤åˆæ“ä½œçš„ç«æ€æ¡ä»¶ï¼›</p>
</li>
<li>
<p>çº¿ç¨‹å®‰å…¨ï¼šæ‰€æœ‰è¯»å†™æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰å‡çº¿ç¨‹å®‰å…¨ï¼Œæ— éœ€æ‰‹åŠ¨åŠ é”ï¼›</p>
</li>
<li>
<p>é«˜æ€§èƒ½ï¼šé«˜å¹¶å‘ä¸‹æ€§èƒ½è¿œè¶… â€œ<code>lock + Dictionary</code>â€ï¼Œä¸”æ”¯æŒåŠ¨æ€æ‰©å®¹ã€‚</p>
</li>
</ul>
<blockquote>
<p>å…³é”®åŒºåˆ«ï¼šä¸ <code>Hashtable</code>ï¼ˆçº¿ç¨‹å®‰å…¨ä½†å…¨å±€é”ï¼‰ä¸åŒï¼Œ<code>ConcurrentDictionary</code> çš„åˆ†æ®µé”è®¾è®¡ä½¿å…¶åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½æå‡æ•°å€ç”šè‡³æ•°åå€ã€‚</p>
</blockquote>
<h3 data-id="heading-2">æ ¸å¿ƒ API</h3>
<h4 data-id="heading-3">æ„é€ å‡½æ•°</h4>
<ul>
<li>
<p><code>ConcurrentDictionary&lt;TKey, TValue&gt;()</code>: åˆ›å»ºç©ºçš„çº¿ç¨‹å®‰å…¨å­—å…¸</p>
</li>
<li>
<p><code>ConcurrentDictionary&lt;TKey, TValue&gt;(IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</code>: ç”¨æŒ‡å®šé”®å€¼å¯¹åˆå§‹åŒ–</p>
</li>
<li>
<p><code>ConcurrentDictionary&lt;TKey, TValue&gt;(int concurrencyLevel, int capacity)</code>: æŒ‡å®šå¹¶å‘çº§åˆ«ï¼ˆåˆ†æ®µæ•°ï¼‰å’Œåˆå§‹å®¹é‡</p>
</li>
</ul>
<h4 data-id="heading-4">æ ¸å¿ƒæ–¹æ³• / å±æ€§</h4>
<ul>
<li>
<p><code>TryAdd(TKey key, TValue value)</code>:
å°è¯•æ·»åŠ é”®å€¼å¯¹ï¼š<code>Key</code> ä¸å­˜åœ¨åˆ™æ·»åŠ ï¼Œè¿”å› <code>true</code>ï¼›<code>Key</code> å·²å­˜åœ¨è¿”å› <code>false</code></p>
</li>
<li>
<p><code>TryGetValue(TKey key, out TValue value)</code>:
å°è¯•è·å–å€¼ï¼š<code>Key</code> å­˜åœ¨è¿”å› <code>true</code>ï¼Œ<code>out</code> ä¸ºå¯¹åº”å€¼ï¼›å¦åˆ™è¿”å› <code>false</code></p>
</li>
<li>
<p><code>TryRemove(TKey key, out TValue value)</code>:
å°è¯•ç§»é™¤é”®å€¼å¯¹ï¼š<code>Key</code> å­˜åœ¨åˆ™ç§»é™¤ï¼Œè¿”å› <code>true</code>ï¼›å¦åˆ™è¿”å› <code>false</code></p>
</li>
<li>
<p><code>TryUpdate(TKey key, TValue newValue, TValue comparisonValue)</code>:
å°è¯•æ›´æ–°ï¼šä»…å½“å½“å‰å€¼ç­‰äº <code>comparisonValue</code> æ—¶æ›´æ–°ä¸º <code>newValue</code>ï¼Œè¿”å›æ˜¯å¦æˆåŠŸ</p>
</li>
<li>
<p><code>GetOrAdd(TKey key, TValue value)</code>:
è·å–å€¼ï¼š<code>Key</code> å­˜åœ¨åˆ™è¿”å›ç°æœ‰å€¼ï¼›ä¸å­˜åœ¨åˆ™æ·»åŠ  <code>key-value</code> å¹¶è¿”å›æ–°å€¼</p>
</li>
<li>
<p><code>GetOrAdd(TKey key, Func&lt;TKey, TValue&gt; valueFactory)</code>:
å»¶è¿Ÿåˆ›å»ºå€¼ï¼š<code>Key</code> ä¸å­˜åœ¨æ—¶æ‰§è¡Œå·¥å‚æ–¹æ³•ç”Ÿæˆå€¼ï¼ˆé¿å…ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»ºï¼‰</p>
</li>
<li>
<p><code>AddOrUpdate(TKey key, TValue addValue, Func&lt;TKey, TValue, TValue&gt; updateFactory)</code>:
æ·»åŠ æˆ–æ›´æ–°ï¼š<code>Key</code> ä¸å­˜åœ¨åˆ™æ·»åŠ ï¼›å­˜åœ¨åˆ™æ‰§è¡Œå·¥å‚æ–¹æ³•æ›´æ–°å€¼</p>
</li>
<li>
<p><code>this[key] = value</code>: å¼ºåˆ¶è®¾ç½®ï¼ˆä¼šè¦†ç›–ï¼‰</p>
</li>
<li>
<p><code>Count</code>: è·å–é”®å€¼å¯¹æ•°é‡ï¼ˆç¬æ—¶å¿«ç…§ï¼Œéå®æ—¶ï¼‰</p>
</li>
<li>
<p><code>IsEmpty</code>: åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼ˆç¬æ—¶å¿«ç…§ï¼‰</p>
</li>
<li>
<p><code>Keys/Values</code>: è·å–é”® / å€¼é›†åˆï¼ˆåªè¯»ï¼Œå¿«ç…§ï¼‰</p>
</li>
<li>
<p><code>Clear()</code>: æ¸…ç©º</p>
</li>
</ul>
<h3 data-id="heading-5">ç”¨æ³•ç¤ºä¾‹</h3>
<h4 data-id="heading-6">åˆ›å»ºå®ä¾‹</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åˆ›å»ºç©ºå­—å…¸</span>
<span class="hljs-keyword">var</span> dict = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;();

<span class="hljs-comment">// å¸¦åˆå§‹æ•°æ®åˆ›å»º</span>
<span class="hljs-keyword">var</span> initialData = <span class="hljs-keyword">new</span> List&lt;KeyValuePair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;&gt;
{
    <span class="hljs-keyword">new</span> KeyValuePair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(<span class="hljs-number">1</span>, <span class="hljs-string">"One"</span>),
    <span class="hljs-keyword">new</span> KeyValuePair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(<span class="hljs-number">2</span>, <span class="hljs-string">"Two"</span>)
};
<span class="hljs-keyword">var</span> dict = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(initialData);

<span class="hljs-comment">// è‡ªå®šä¹‰æ¯”è¾ƒå™¨</span>
<span class="hljs-keyword">var</span> caseInsensitiveDict = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;(
    StringComparer.OrdinalIgnoreCase);
</code></pre>
<h4 data-id="heading-7">æœ€ç»å…¸çš„ GetOrAddï¼ˆå»¶è¿Ÿåˆå§‹åŒ–/ç¼“å­˜ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ConcurrentDictionary&lt;<span class="hljs-built_in">string</span>, ExpensiveService&gt; _services = <span class="hljs-keyword">new</span>();

<span class="hljs-function"><span class="hljs-keyword">public</span> ExpensiveService <span class="hljs-title">GetService</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name</span>)</span>
{
    <span class="hljs-keyword">return</span> _services.GetOrAdd(name, key =&gt; <span class="hljs-keyword">new</span> ExpensiveService(key));
}
</code></pre>
<p><code>GetOrAdd</code> çš„å¼ºå¤§ä¹‹å¤„ï¼š</p>
<ul>
<li>
<p>åŸå­æ“ä½œï¼šå¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨ï¼Œåªæœ‰ä¸€ä¸ªä¼šæ‰§è¡Œå·¥å‚å‡½æ•°</p>
</li>
<li>
<p>å…¶ä½™çº¿ç¨‹ç­‰å¾…å¹¶æ‹¿åˆ°åŒä¸€ä¸ªç»“æœï¼ˆé˜²é‡å¤åˆ›å»ºï¼‰</p>
</li>
</ul>
<h4 data-id="heading-8">AddOrUpdateï¼ˆæ›´æ–°è®¡æ•°å™¨ã€ç´¯åŠ ç­‰ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ConcurrentDictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; _requestCounters = <span class="hljs-keyword">new</span>();

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RecordRequest</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> endpoint</span>)</span>
{
    _requestCounters.AddOrUpdate(
        key: endpoint,
        addValue: <span class="hljs-number">1</span>,                    <span class="hljs-comment">// ç¬¬ä¸€æ¬¡å‡ºç°æ—¶è®¾ä¸º 1</span>
        updateValueFactory: (key, old) =&gt; old + <span class="hljs-number">1</span>  <span class="hljs-comment">// å·²æœ‰åˆ™ç´¯åŠ </span>
    );
}
</code></pre>
<h4 data-id="heading-9">TryUpdate çš„ CAS é£æ ¼æ›´æ–°ï¼ˆé˜² ABA é—®é¢˜ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">TryIncrementCounter</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> key, <span class="hljs-built_in">int</span> expected, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> newValue</span>)</span>
{
    <span class="hljs-keyword">return</span> _requestCounters.TryUpdate(key, expected + <span class="hljs-number">1</span>, expected);
}
</code></pre>
<h4 data-id="heading-10">é«˜å¹¶å‘è¯»å†™</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Concurrent;
<span class="hljs-keyword">using</span> System.Threading.Tasks;

<span class="hljs-keyword">class</span> <span class="hljs-title">ConcurrentDictionaryBasicDemo</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹å®‰å…¨å­—å…¸ï¼Œå­˜å‚¨â€œç”¨æˆ·ID-è®¿é—®æ¬¡æ•°â€</span>
        <span class="hljs-keyword">var</span> userAccessCount = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;();

        <span class="hljs-comment">// 1. é«˜å¹¶å‘æ›´æ–°ï¼š1000ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹æ¨¡æ‹Ÿ10æ¬¡ç”¨æˆ·è®¿é—®</span>
        Parallel.For(<span class="hljs-number">0</span>, <span class="hljs-number">1000</span>, userId =&gt;
        {
            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)
            {
                <span class="hljs-comment">// åŸå­æ“ä½œï¼šè·å–æˆ–æ·»åŠ ï¼ˆåˆå§‹å€¼0ï¼‰ï¼Œç„¶åé€’å¢</span>
                userAccessCount.AddOrUpdate(
                    key: userId,
                    addValue: <span class="hljs-number">1</span>, <span class="hljs-comment">// Keyä¸å­˜åœ¨æ—¶æ·»åŠ ï¼Œå€¼ä¸º1</span>
                    updateFactory: (k, v) =&gt; v + <span class="hljs-number">1</span> <span class="hljs-comment">// Keyå­˜åœ¨æ—¶ï¼Œå€¼+1</span>
                );
            }
        });

        Console.WriteLine(<span class="hljs-string">$"å­—å…¸æ€»é”®æ•°ï¼š<span class="hljs-subst">{userAccessCount.Count}</span>"</span>); <span class="hljs-comment">// è¾“å‡º1000</span>
        Console.WriteLine(<span class="hljs-string">$"ç”¨æˆ·ID=100çš„è®¿é—®æ¬¡æ•°ï¼š<span class="hljs-subst">{userAccessCount[<span class="hljs-number">100</span>]}</span>"</span>); <span class="hljs-comment">// è¾“å‡º10</span>

        <span class="hljs-comment">// 2. å°è¯•è·å–/ç§»é™¤å€¼</span>
        <span class="hljs-keyword">if</span> (userAccessCount.TryGetValue(<span class="hljs-number">500</span>, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> count))
        {
            Console.WriteLine(<span class="hljs-string">$"ç”¨æˆ·ID=500çš„è®¿é—®æ¬¡æ•°ï¼š<span class="hljs-subst">{count}</span>"</span>); <span class="hljs-comment">// è¾“å‡º10</span>
        }

        <span class="hljs-keyword">if</span> (userAccessCount.TryRemove(<span class="hljs-number">500</span>, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> removedCount))
        {
            Console.WriteLine(<span class="hljs-string">$"ç§»é™¤ç”¨æˆ·ID=500ï¼Œè®¿é—®æ¬¡æ•°ï¼š<span class="hljs-subst">{removedCount}</span>"</span>);
        }

        <span class="hljs-comment">// 3. å»¶è¿Ÿåˆ›å»ºå€¼ï¼ˆGetOrAddå·¥å‚æ–¹æ³•ï¼‰</span>
        <span class="hljs-keyword">var</span> userInfo = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;();
        <span class="hljs-comment">// Key=999ä¸å­˜åœ¨æ—¶ï¼Œæ‰§è¡Œå·¥å‚æ–¹æ³•ç”Ÿæˆå€¼ï¼ˆé¿å…æå‰åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡ï¼‰</span>
        <span class="hljs-built_in">string</span> info = userInfo.GetOrAdd(<span class="hljs-number">999</span>, key =&gt; <span class="hljs-string">$"ç”¨æˆ·<span class="hljs-subst">{key}</span>çš„ä¿¡æ¯ï¼ˆåŠ¨æ€ç”Ÿæˆï¼‰"</span>);
        Console.WriteLine(info); <span class="hljs-comment">// è¾“å‡ºï¼šç”¨æˆ·999çš„ä¿¡æ¯ï¼ˆåŠ¨æ€ç”Ÿæˆï¼‰</span>
    }
}
</code></pre>
<h4 data-id="heading-11">åŸå­æ›´æ–°å¤æ‚å¯¹è±¡ï¼ˆå€¼ä¸ºè‡ªå®šä¹‰ç±»å‹ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è‡ªå®šä¹‰ç±»å‹ï¼šç”¨æˆ·ä¿¡æ¯</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserInfo</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-comment">// æ³¨æ„ï¼šè‡ªå®šä¹‰ç±»å‹çš„ä¿®æ”¹éœ€ä¿è¯çº¿ç¨‹å®‰å…¨ï¼ˆæ­¤å¤„ç”¨Interlockedæ›´æ–°Ageï¼‰</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">IncrementAge</span>()</span> =&gt; Interlocked.Increment(<span class="hljs-keyword">ref</span> Age);
}

<span class="hljs-keyword">class</span> <span class="hljs-title">ConcurrentDictionaryComplexValue</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-keyword">var</span> userDict = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">int</span>, UserInfo&gt;();

        <span class="hljs-comment">// 1. åŸå­æ·»åŠ ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-keyword">var</span> user = userDict.GetOrAdd(<span class="hljs-number">1</span>, key =&gt; <span class="hljs-keyword">new</span> UserInfo { Name = <span class="hljs-string">"å¼ ä¸‰"</span>, Age = <span class="hljs-number">20</span> });
        Console.WriteLine(<span class="hljs-string">$"åˆå§‹ä¿¡æ¯ï¼š<span class="hljs-subst">{user.Name}</span>ï¼Œ<span class="hljs-subst">{user.Age}</span>"</span>);

        <span class="hljs-comment">// 2. é«˜å¹¶å‘æ›´æ–°ç”¨æˆ·å¹´é¾„</span>
        Parallel.For(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>, _ =&gt;
        {
            <span class="hljs-comment">// å…ˆè·å–ç”¨æˆ·å¯¹è±¡ï¼Œå†åŸå­æ›´æ–°Age</span>
            <span class="hljs-keyword">if</span> (userDict.TryGetValue(<span class="hljs-number">1</span>, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> u))
            {
                u.IncrementAge();
            }
        });

        Console.WriteLine(<span class="hljs-string">$"æ›´æ–°åå¹´é¾„ï¼š<span class="hljs-subst">{userDict[<span class="hljs-number">1</span>].Age}</span>"</span>); <span class="hljs-comment">// è¾“å‡º120</span>
    }
}
</code></pre>
<h4 data-id="heading-12">ç»“åˆ Lazyå®ç°æ‡’åŠ è½½ç¼“å­˜</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ç¼“å­˜ï¼šKey=é…ç½®åï¼ŒValue=Lazy&lt;é…ç½®å¯¹è±¡&gt;ï¼ˆå»¶è¿Ÿåˆå§‹åŒ–+çº¿ç¨‹å®‰å…¨ï¼‰</span>
<span class="hljs-keyword">var</span> configCache = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">string</span>, Lazy&lt;Config&gt;&gt;();

<span class="hljs-comment">// è·å–é…ç½®ï¼ˆæ‡’åŠ è½½ï¼Œä»…ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶åˆ›å»ºConfigå¯¹è±¡ï¼‰</span>
<span class="hljs-function">Config <span class="hljs-title">GetConfig</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> configName</span>)</span>
{
    <span class="hljs-comment">// GetOrAddåŸå­æ“ä½œï¼šç¡®ä¿ä»…åˆ›å»ºä¸€æ¬¡Lazy&lt;Config&gt;</span>
    <span class="hljs-keyword">var</span> lazyConfig = configCache.GetOrAdd(configName, key =&gt;
    {
        Console.WriteLine(<span class="hljs-string">$"åˆ›å»ºé…ç½®<span class="hljs-subst">{key}</span>çš„Lazyå®ä¾‹"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Lazy&lt;Config&gt;(() =&gt;
        {
            Console.WriteLine(<span class="hljs-string">$"å®é™…åŠ è½½é…ç½®<span class="hljs-subst">{key}</span>"</span>);
            <span class="hljs-comment">// æ¨¡æ‹Ÿä»æ–‡ä»¶/æ•°æ®åº“åŠ è½½é…ç½®</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Config { Name = key, Value = <span class="hljs-string">$"é…ç½®å€¼-<span class="hljs-subst">{key}</span>"</span> };
        });
    });
    <span class="hljs-comment">// è®¿é—®Valueè§¦å‘åˆå§‹åŒ–ï¼ˆLazy&lt;T&gt;ä¿è¯çº¿ç¨‹å®‰å…¨ï¼‰</span>
    <span class="hljs-keyword">return</span> lazyConfig.Value;
}

<span class="hljs-comment">// æµ‹è¯•ï¼šå¤šæ¬¡è°ƒç”¨GetConfigï¼Œä»…ç¬¬ä¸€æ¬¡è§¦å‘å®é™…åŠ è½½</span>
<span class="hljs-keyword">var</span> config1 = GetConfig(<span class="hljs-string">"AppSettings"</span>);
<span class="hljs-keyword">var</span> config2 = GetConfig(<span class="hljs-string">"AppSettings"</span>);
<span class="hljs-keyword">var</span> config3 = GetConfig(<span class="hljs-string">"Database"</span>);

<span class="hljs-comment">// é…ç½®ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Config</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">åˆ›å»ºé…ç½®AppSettingsçš„Lazyå®ä¾‹
å®é™…åŠ è½½é…ç½®AppSettings
åˆ›å»ºé…ç½®Databaseçš„Lazyå®ä¾‹
å®é™…åŠ è½½é…ç½®Database
</code></pre>
<h4 data-id="heading-13">å®æ—¶è®¡æ•°å™¨</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CounterService</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ConcurrentDictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; _counters = <span class="hljs-keyword">new</span>();
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Increment</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> counterName</span>)</span>
    {
        _counters.AddOrUpdate(counterName, <span class="hljs-number">1</span>, (_, old) =&gt; old + <span class="hljs-number">1</span>);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">GetCount</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> counterName</span>)</span>
    {
        <span class="hljs-keyword">return</span> _counters.TryGetValue(counterName, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span>) ? <span class="hljs-keyword">value</span> : <span class="hljs-number">0</span>;
    }
}
</code></pre>
<h4 data-id="heading-14">çº¿ç¨‹å®‰å…¨æ³¨å†Œè¡¨</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ServiceRegistry</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ConcurrentDictionary&lt;Type, <span class="hljs-built_in">object</span>&gt; _services = <span class="hljs-keyword">new</span>();
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Register</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T service</span>) <span class="hljs-keyword">where</span> T : <span class="hljs-keyword">class</span></span>
    {
        _services[<span class="hljs-keyword">typeof</span>(T)] = service;
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">GetService</span>&lt;<span class="hljs-title">T</span>&gt;() <span class="hljs-keyword">where</span> T : <span class="hljs-keyword">class</span></span>
    {
        <span class="hljs-keyword">if</span> (_services.TryGetValue(<span class="hljs-keyword">typeof</span>(T), <span class="hljs-keyword">out</span> <span class="hljs-built_in">object</span> service))
        {
            <span class="hljs-keyword">return</span> service <span class="hljs-keyword">as</span> T;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<h3 data-id="heading-15">åº•å±‚åŸç†ï¼šåˆ†æ®µé”ï¼ˆSegment Lockï¼‰</h3>
<p><code>ConcurrentDictionary&lt;TKey, TValue&gt;</code> çš„é«˜æ€§èƒ½æ ¸å¿ƒæºäºåˆ†æ®µé”è®¾è®¡ï¼Œç®€åŒ–åŸç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>åˆ†æ®µå­˜å‚¨ï¼šå°†å­—å…¸çš„å“ˆå¸Œè¡¨æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„ â€œæ®µï¼ˆ<code>Segment</code>ï¼‰â€ï¼Œæ¯ä¸ªæ®µå¯¹åº”ä¸€ä¸ªå“ˆå¸ŒåŒºé—´ï¼Œå¹¶æœ‰è‡ªå·±çš„é”ï¼›</p>
</li>
<li>
<p>å“ˆå¸Œå®šä½æ®µï¼šæ ¹æ® <code>Key</code> çš„å“ˆå¸Œå€¼è®¡ç®—æ‰€å±çš„æ®µï¼Œçº¿ç¨‹ä»…éœ€é”å®šè¯¥æ®µï¼Œè€Œéæ•´ä¸ªå­—å…¸ï¼›</p>
</li>
<li>
<p>ç»†ç²’åº¦é”ç«äº‰ï¼šä¸åŒ <code>Key</code> è‹¥å±äºä¸åŒæ®µï¼Œå¤šçº¿ç¨‹æ“ä½œæ—¶æ— é”ç«äº‰ï¼›ä»…åŒä¸€ç½‘æ®µçš„ <code>Key</code> æ‰ä¼šç«äº‰é”ï¼›</p>
</li>
<li>
<p>åŠ¨æ€æ‰©å®¹ï¼šå½“æŸä¸ªæ®µçš„å…ƒç´ è¿‡å¤šæ—¶ï¼Œä»…æ‰©å®¹è¯¥æ®µï¼ˆè€Œéå…¨å±€æ‰©å®¹ï¼‰ï¼Œè¿›ä¸€æ­¥é™ä½é”ç«äº‰ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[ConcurrentDictionary] --&gt; B[æ®µ0ï¼ˆé”0ï¼‰]
    A --&gt; C[æ®µ1ï¼ˆé”1ï¼‰]
    A --&gt; D[æ®µ2ï¼ˆé”2ï¼‰]
    A --&gt; E[æ®µ3ï¼ˆé”3ï¼‰]
    B --&gt; B1[Key1:Value1, Key5:Value5]
    C --&gt; C1[Key2:Value2, Key6:Value6]
    D --&gt; D1[Key3:Value3, Key7:Value7]
    E --&gt; E1[Key4:Value4, Key8:Value8]
    F[çº¿ç¨‹1æ“ä½œKey1] --&gt; B2[ä»…é”å®šæ®µ0]
    G[çº¿ç¨‹2æ“ä½œKey2] --&gt; C2[ä»…é”å®šæ®µ1]
    H[çº¿ç¨‹3æ“ä½œKey1] --&gt; B3[ç­‰å¾…æ®µ0çš„é”]
</code></pre>
<h3 data-id="heading-16">å…³é”®ç‰¹æ€§ä¸é€‚ç”¨åœºæ™¯</h3>
<h4 data-id="heading-17">æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li>
<p>çº¿ç¨‹å®‰å…¨: æ‰€æœ‰æ“ä½œçº¿ç¨‹å®‰å…¨ï¼Œæ— éœ€æ‰‹åŠ¨åŠ é”</p>
</li>
<li>
<p>é”ç²’åº¦: åˆ†æ®µé”ï¼ˆç»†ç²’åº¦ï¼‰ï¼Œé«˜å¹¶å‘ä¸‹é”ç«äº‰å°‘</p>
</li>
<li>
<p>åŸå­æ“ä½œ: æä¾› <code>GetOrAdd/AddOrUpdate</code> ç­‰åŸå­æ–¹æ³•ï¼Œé¿å…å¤åˆæ“ä½œç«æ€æ¡ä»¶</p>
</li>
<li>
<p>é¡ºåºæ€§: æ— åºï¼ˆé”®å€¼å¯¹æŒ‰å“ˆå¸Œå­˜å‚¨ï¼Œéå†é¡ºåºâ‰ æ·»åŠ é¡ºåºï¼‰</p>
</li>
<li>
<p>ç©ºå€¼æ”¯æŒ: <code>Value</code> å¯è®¾ä¸º <code>null</code>ï¼ˆè‹¥ <code>TValue</code> ä¸ºå¼•ç”¨ç±»å‹ï¼‰ï¼Œ<code>Key</code> ä¸å¯ä¸º <code>null</code></p>
</li>
<li>
<p>æ€§èƒ½: é«˜å¹¶å‘è¯»å†™æ€§èƒ½è¿œä¼˜äº <code>lock + Dictionary</code></p>
</li>
</ul>
<h4 data-id="heading-18">æœ€ä½³é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>
<p>é«˜å¹¶å‘ç¼“å­˜ï¼šå¦‚åº”ç”¨çº§ç¼“å­˜ã€åˆ†å¸ƒå¼ç¼“å­˜æœ¬åœ°å‰¯æœ¬ï¼ˆå¤šçº¿ç¨‹è¯»å†™ç¼“å­˜ï¼‰ï¼›</p>
</li>
<li>
<p>è®¡æ•°ç»Ÿè®¡ï¼šå¦‚æ¥å£è®¿é—®æ¬¡æ•°ã€ç”¨æˆ·æ“ä½œè®¡æ•°ï¼ˆé«˜å¹¶å‘æ›´æ–°ï¼‰ï¼›</p>
</li>
<li>
<p>å…±äº«çŠ¶æ€å­˜å‚¨ï¼šå¤šçº¿ç¨‹å…±äº«çš„é”®å€¼å¯¹æ•°æ®ï¼ˆå¦‚é…ç½®ã€ä¼šè¯ä¿¡æ¯ï¼‰ï¼›</p>
</li>
<li>
<p>å»¶è¿Ÿåˆå§‹åŒ–ï¼šé€šè¿‡ <code>GetOrAdd</code> çš„å·¥å‚æ–¹æ³•å®ç°é”®å€¼å¯¹çš„æ‡’åŠ è½½ã€‚</p>
</li>
</ul>
<h4 data-id="heading-19">ä¸é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>
<p>æœ‰åºé”®å€¼å¯¹ï¼šéœ€æŒ‰ <code>Key</code> æ’åºçš„åœºæ™¯ï¼ˆæ”¹ç”¨ <code>SortedDictionary&lt;TKey, TValue&gt;</code> + æ‰‹åŠ¨é”ï¼‰ï¼›</p>
</li>
<li>
<p>é¢‘ç¹æ‰©å®¹ï¼šè‹¥ <code>Key</code> çš„å“ˆå¸Œåˆ†å¸ƒä¸å‡ï¼Œå¯¼è‡´å•ä¸ªæ®µå…ƒç´ è¿‡å¤šï¼Œä¼šå¢åŠ é”ç«äº‰ï¼ˆéœ€ä¼˜åŒ–å“ˆå¸Œç®—æ³•ï¼‰ï¼›</p>
</li>
<li>
<p>åªè¯» / æå°‘å†™ï¼šè‹¥å­—å…¸å‡ ä¹åªè¯»ï¼Œ<code>Dictionary&lt;TKey, TValue&gt; + ReaderWriterLockSlim</code> æ€§èƒ½æ›´é«˜ã€‚</p>
</li>
</ul>
<h3 data-id="heading-20">ConcurrentDictionary vs å…¶ä»–é›†åˆ</h3>








































<table><thead><tr><th>éœ€æ±‚åœºæ™¯</th><th>é¦–é€‰é›†åˆ</th><th>ç†ç”±ç®€è¿°</th></tr></thead><tbody><tr><td>å¤šçº¿ç¨‹é”®å€¼ç¼“å­˜ã€é…ç½®ã€å•ä¾‹å·¥å‚</td><td><strong>ConcurrentDictionary</strong></td><td>åŸå­ GetOrAdd/AddOrUpdate å®Œç¾</td></tr><tr><td>ä¸¥æ ¼ FIFO ç”Ÿäº§è€…-æ¶ˆè´¹è€…</td><td>Channel æˆ– ConcurrentQueue</td><td>éœ€è¦é¡ºåº</td></tr><tr><td>æ— åºã€æœ€å¤§ååé‡çš„å°ä»»åŠ¡æ± </td><td>ConcurrentBag</td><td>å·¥ä½œçªƒå– + æè‡´æ€§èƒ½</td></tr><tr><td>éœ€è¦ Peek / é¡ºåº</td><td>ConcurrentQueue</td><td>FIFO + æ”¯æŒ Peek</td></tr><tr><td>é”®å€¼å¯¹ + å»é‡ + çº¿ç¨‹å®‰å…¨</td><td><strong>ConcurrentDictionary</strong></td><td>å¤©ç„¶æ”¯æŒ</td></tr><tr><td>æè‡´æ€§èƒ½ + å•çº¿ç¨‹å†™å¤šçº¿ç¨‹è¯»</td><td>Dictionary + Immutable æˆ– ConcurrentDictionary</td><td>â€”</td></tr></tbody></table>
<h3 data-id="heading-21">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>
<p>ä¸è¦åœ¨æšä¸¾æœŸé—´ä¿®æ”¹ <code>foreach (var pair in dict)</code> æˆ– <code>dict.Keys</code> æœŸé—´ä¿®æ”¹ä¼šæŠ› <code>InvalidOperationException</code>ã€‚</p>
</li>
<li>
<p><code>Count</code> æœ‰å¼€é”€ <code>dict.Count</code> éœ€è¦æ‰«ææ‰€æœ‰æ¡¶ï¼Œé«˜å¹¶å‘ä¸‹ä¸è¦é¢‘ç¹è°ƒç”¨ã€‚</p>
</li>
<li>
<p>ä¸è¦ä¾èµ–æšä¸¾é¡ºåºï¼Œæšä¸¾é¡ºåºæ˜¯å®Œå…¨æ— åºçš„ï¼Œä¸æ’å…¥é¡ºåºæ— å…³ã€‚</p>
</li>
<li>
<p>å€¼å¦‚æœæ˜¯å¯å˜å¯¹è±¡ <code>dict[key].SomeProperty = xxx</code> ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼
éœ€è¦è‡ªå·±åŠ é”æˆ–ä½¿ç”¨ä¸å¯å˜å¯¹è±¡ã€‚</p>
</li>
</ul>
<blockquote>
<p>ConcurrentDictionary çš„æœ¬è´¨ä¸æ˜¯â€œçº¿ç¨‹å®‰å…¨çš„ Dictionaryâ€ï¼Œ
è€Œæ˜¯ä¸€ç»„â€œä¸ºå¹¶å‘è€Œç”Ÿçš„åŸå­ Key-Value æ“ä½œ APIâ€ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AT çš„äººç”Ÿæœªå¿…æ¯” MT æ›´å¥½ -- è‚˜å­çš„ Swift å‘¨æŠ¥ #118]]></title>    <link>https://juejin.cn/post/7594303825013293071</link>    <guid>https://juejin.cn/post/7594303825013293071</guid>    <pubDate>2026-01-12T23:47:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594303825013293071" data-draft-id="7593356633637306402" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AT çš„äººç”Ÿæœªå¿…æ¯” MT æ›´å¥½  -- è‚˜å­çš„ Swift å‘¨æŠ¥ #118"/> <meta itemprop="keywords" content="Swift,SwiftUI,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-12T23:47:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸œå¡è‚˜å­"/> <meta itemprop="url" content="https://juejin.cn/user/1548526032528727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AT çš„äººç”Ÿæœªå¿…æ¯” MT æ›´å¥½  -- è‚˜å­çš„ Swift å‘¨æŠ¥ #118
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1548526032528727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸œå¡è‚˜å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T23:47:56.000Z" title="Mon Jan 12 2026 23:47:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8433fc72b57b4f339eb2a1c3e20cb888~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lic5Z2h6IKY5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768866476&amp;x-signature=KEMKeGky9G6Js7NJ0uDVB3kE8FQ%3D" alt="issue118.webp" loading="lazy"/></p>
<h2 data-id="heading-0">AT çš„äººç”Ÿæœªå¿…æ¯” MT æ›´å¥½</h2>
<p>å­¦è½¦æ—¶æˆ‘å¼€çš„æ˜¯æ‰‹åŠ¨æŒ¡ï¼Œèµ·åˆå› ä¸ºæŠ€æœ¯ç”Ÿç–ï¼Œå¸¸æå¾—æ‰‹å¿™è„šä¹±ï¼Œæ‰€ä»¥ç¬¬ä¸€å°è½¦å°±ç›´æ¥é€‰äº†è‡ªåŠ¨æŒ¡ã€‚ä½†å¼€äº†å‡ å¹´ï¼Œæˆ‘å¼€å§‹è¿½æ±‚é‚£ç§å®Œå…¨æŒæ§çš„é©¾é©¶æ„Ÿï¼Œäºæ˜¯åˆå¢è´­äº†ä¸€å°æ‰‹åŠ¨æŒ¡ã€‚é—æ†¾çš„æ˜¯ï¼Œéšç€äº¤é€šæ—¥ç›Šæ‹¥å µï¼Œæ¢æŒ¡çš„ä¹è¶£é€æ¸è¢«ç–²æƒ«æŠµæ¶ˆï¼Œæœ€ç»ˆè¿™å°è½¦ä¹Ÿè¢«å†·è½ã€‚ç®—èµ·æ¥ï¼Œæˆ‘å·²ç»å¿«äºŒåå¹´æ²¡è®¤çœŸå¼€è¿‡æ‰‹åŠ¨æŒ¡äº†ï¼Œä½†å†…å¿ƒæ·±å¤„ï¼Œæˆ‘ä»ä¼šæ—¶ä¸æ—¶åœ°æ€€å¿µé‚£æ®µâ€œäººè½¦åˆä¸€â€çš„æ—¶å…‰ã€‚</p>
<p>éšç€ AI æ·±åº¦ä»‹å…¥æˆ‘çš„å·¥ä½œä¸ç”Ÿæ´»ï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±çš„äººç”Ÿæ­£ä» MT è½¬å‘ ATã€‚æ¯«æ— ç–‘é—®ï¼ŒAI åŠ©æˆ‘çªç ´äº†è®¸å¤šèƒ½åŠ›ç“¶é¢ˆï¼Œä¹Ÿåœ¨ç†Ÿæ‚‰é¢†åŸŸå¸¦æ¥äº†å·¨å¤§çš„æ•ˆç‡æå‡ã€‚ä½†å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘å¯¹å®ƒçš„â€œæƒŠå¹â€å´åœ¨ä¸æ—¥ä¿±å‡ã€‚çœ‹ä¼¼å®ƒèŠ‚çœäº†æˆ‘çš„æ—¶é—´ï¼Œä½†æˆ‘å¹¶æœªä»è¿™äº›â€œå¤šå‡ºæ¥çš„æ—¶é—´â€é‡Œè·å¾—é¢„æœŸçš„æ»¡è¶³æ„Ÿã€‚ä¹Ÿè®¸æ˜¯æˆ‘å¯¹å®ƒçš„æœŸæœ›é˜ˆå€¼ä¸æ–­æé«˜ï¼Œä½†ä¸€ä¸ªä¸äº‰çš„äº‹å®æ˜¯ï¼šæˆ‘å·²ç»æœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰åœ¨å­¦ä¹ å’Œå¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½“ä¼šåˆ°é‚£ç§å•çº¯çš„å¿«ä¹äº†ã€‚</p>
<p>å¹¸å¥½ï¼Œå‡ å¤©å‰æˆ‘åˆæ‰¾å›äº†è¿™ç§ä¹…è¿çš„å¼€å¿ƒã€‚åœ¨å‡†å¤‡ iOS Conf SG çš„ Keynote æ—¶ï¼Œç”±äº Keynote åœ¨åŠ¨ç”»æ„å»ºä¸Šç›¸å¯¹â€œåŸå§‹â€ä¸”ç¼ºä¹ AI è¾…åŠ©ï¼Œæˆ‘éš¾å¾—åœ°æ‹¥æœ‰ä¸€æ®µå®Œæ•´çš„æ—¶é—´ï¼Œå»çº¯æ‰‹å·¥åœ°å°è¯•å’Œä¿®æ”¹ã€‚å“ªæ€•åªæ˜¯ä¸€ä¸ªç®€å•çš„å¹¶è¡ŒåŠ¨ç”»ï¼Œç©¶ç«Ÿæ˜¯ç”¨è½¬åœºã€æ™®é€šåŠ¨ç”»è¿˜æ˜¯â€œç¥å¥‡ç§»åŠ¨â€ï¼Œæˆ‘éƒ½ç©å¾—ä¸äº¦ä¹ä¹ã€‚é‚£äº›åœ¨ä¸“å®¶æ‰‹é‡Œå¯èƒ½ä¸¤ä¸‰åˆ†é’Ÿæå®šçš„è®¾ç½®ï¼Œæˆ‘æŠ˜è…¾äº†å¤§åŠå¤©ã€‚å°½ç®¡æ¯«æ— æ•ˆç‡å¯è¨€ï¼Œä½†æˆ‘ä¹åœ¨å…¶ä¸­ã€‚çœ‹ç€æœ€ç»ˆé‚£ä¸ªç•¥æ˜¾â€œç®€é™‹â€çš„æ•ˆæœï¼Œæˆ‘ç«Ÿè¢«è‡ªå·±æ„ŸåŠ¨äº†ã€‚</p>
<p>å¯¹äºèŒåœºä¸­äººï¼Œæ•ˆç‡å’Œå®Œæˆåº¦å›ºç„¶æ˜¯ç¡¬æŒ‡æ ‡ï¼›ä½†èƒ½å¦ä½“ä¼šåˆ°è¿‡ç¨‹å¸¦æ¥çš„â€œå®æ„Ÿâ€ï¼Œæˆ–è®¸æ‰æ˜¯ä½œä¸ºâ€œäººâ€æœ€æœ´ç´ çš„è¿½æ±‚ã€‚</p>
<p>æˆ‘å¤§æ¦‚ç‡ä¸ä¼šå†ä¹° MT çš„è½¦äº†ï¼Œä½†åœ¨æˆ‘è¿˜èƒ½æ¡ç´§æ–¹å‘ç›˜çš„æ—¶å€™ï¼Œä¹Ÿä¸ä¼šè½»æ˜“è®©â€œæ™ºèƒ½é©¾é©¶â€ä»£åŠ³ã€‚å†™ä»£ç ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå½“åˆçˆ±ä¸Šå®ƒï¼Œæ­£æ˜¯å› ä¸ºå®ƒèƒ½ç»™æˆ‘å¸¦æ¥çº¯ç²¹çš„å¿«ä¹ã€‚å½“æ‰€æœ‰å·¥å…·éƒ½åœ¨å‚¬ä¿ƒæˆ‘ä»¬å˜å¾—æ›´å¿«æ›´å¥½æ—¶ï¼Œæˆ‘æƒ³åº”è¯¥ç»™è‡ªå·±ç•™ä¸€ç‚¹å˜æ…¢ã€å˜â€œç¬¨â€çš„ç©ºé—´â€”â€”æ¯•ç«Ÿï¼ŒAT çš„äººç”Ÿæœªå¿…æ¯” MT æ›´å¥½ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-118%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-118/" ref="nofollow noopener noreferrer">æœ¬æœŸå†…å®¹</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-117%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-117/" ref="nofollow noopener noreferrer">å‰ä¸€æœŸå†…å®¹</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2F" target="_blank" title="https://fatbobman.com/zh/weekly/" ref="nofollow noopener noreferrer">å…¨éƒ¨å‘¨æŠ¥åˆ—è¡¨</a></p>
<blockquote>
<p>ğŸš€ <strong>ã€Šè‚˜å­çš„ Swift å‘¨æŠ¥ã€‹</strong></p>
<p>æ¯å‘¨ä¸ºä½ ç²¾é€‰æœ€å€¼å¾—å…³æ³¨çš„ Swiftã€SwiftUI æŠ€æœ¯åŠ¨æ€</p>
<ul>
<li><strong>ğŸ“® ç«‹å³è®¢é˜…</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.fatbobman.com%2Ffatbobman" target="_blank" title="https://weekly.fatbobman.com/fatbobman" ref="nofollow noopener noreferrer">weekly.fatbobman.com</a> è·å–å®Œæ•´å†…å®¹</li>
<li><strong>ğŸ‘¥ åŠ å…¥ç¤¾åŒº</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Finvite%2F7FedN5E2QQ" target="_blank" title="https://discord.com/invite/7FedN5E2QQ" ref="nofollow noopener noreferrer">Discord</a> ä¸ 2000+ å¼€å‘è€…äº¤æµ</li>
<li><strong>ğŸ“š æ·±åº¦æ•™ç¨‹</strong> | <a href="https://link.juejin.cn?target=http%3A%2F%2Ffatbobman.com" target="_blank" title="http://fatbobman.com" ref="nofollow noopener noreferrer">fatbobman.com</a> æ¢ç´¢ 200+ åŸåˆ›æ–‡ç« </li>
</ul>
</blockquote>
<h2 data-id="heading-1">è¿‘æœŸæ¨è</h2>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fposts%2Frunning-swift-on-mcu%2F%3Futm_source%3Dfatbobman%2520weekly%2520issue%2520118%26utm_medium%3Dweb" target="_blank" title="https://fatbobman.com/zh/posts/running-swift-on-mcu/?utm_source=fatbobman%20weekly%20issue%20118&amp;utm_medium=web" ref="nofollow noopener noreferrer">å‘Šåˆ«â€œå¯ç§»æ¤æ±‡ç¼–â€ï¼šæˆ‘å·²è®© Swift åœ¨ MCU ä¸Šè¿è¡Œä¸ƒå¹´</a></h3>
<p>ä» 2024 å¹´å¼€å§‹ï¼ŒSwift å®˜æ–¹æ­£å¼æä¾›äº†å¯¹åµŒå…¥å¼ç³»ç»Ÿçš„æ”¯æŒï¼Œä½†è¦åœ¨è¿™ä¸ªé¢†åŸŸè·å¾—æ˜¾è‘—ä»½é¢ï¼Œä»æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚å…¶å®ï¼Œæ—©åœ¨å®˜æ–¹ä¸‹åœºä¹‹å‰çš„ 2018 å¹´ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fmadmachineio" target="_blank" title="https://x.com/madmachineio" ref="nofollow noopener noreferrer">Andy Liu</a> å’Œä»–çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmadmachine.io%2F" target="_blank" title="https://madmachine.io/" ref="nofollow noopener noreferrer">MadMachine</a> å›¢é˜Ÿå°±å¼€å§‹åœ¨æ¢ç´¢å’Œå®è·µå°† Swift åº”ç”¨äºåµŒå…¥å¼é¢†åŸŸï¼Œå¹¶é™†ç»­æ¨å‡ºäº†ç›¸å…³ç¡¬ä»¶ã€‚ä»–ä»¬åšä¿¡ï¼Œåœ¨åŠŸèƒ½æ—¥ç›Šå¤æ‚çš„å¼€å‘åœºæ™¯ä¸­ï¼ŒSwift çš„ç°ä»£è¯­è¨€ç‰¹æ€§å°†å±•ç°å‡ºå·¨å¤§çš„ä¼˜åŠ¿ã€‚åœ¨æœ¬æ–‡ä¸­ï¼ŒAndy åˆ†äº«äº†è¿‡å»å‡ å¹´ä¸­åœ¨è¯¥é¢†åŸŸçš„æ¢ç´¢å†ç¨‹ã€‚æˆ‘çœŸå¿ƒå¸Œæœ›ï¼ŒSwift èƒ½å¤Ÿåœ¨æ›´å¤šçš„åœºæ™¯ä¸­ï¼Œå±•ç°å…¶é­…åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-3"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-01" target="_blank" title="https://l.fatbobman.com/w0118-01" ref="nofollow noopener noreferrer">åœ¨ SwiftUI ä¸­æ„å»ºåŸºç¡€æ‹¨å·æ»‘å—ç»„ä»¶ (Building a Base DialSlider Component in SwiftUI)</a></h3>
<p>åœ¨ AI åŠŸèƒ½è¶Šæ¥è¶Šå¼ºå¤§çš„ä»Šå¤©ï¼Œçœ‹åˆ°ä¸€ä¸ªåŠ¨æ•ˆï¼Œè®© AI å¸®ä½ å®ç°å·²ç»è¶Šæ¥è¶Šå®¹æ˜“äº†ã€‚ä½†æ¯å½“çœ‹åˆ°å¼€å‘è€…å‡­å€Ÿè‡ªå·±çš„"å¥‡æ€å¦™æƒ³"ä¸æ–­æ¢ç´¢å®ç°æ–¹å¼å¹¶æ‰“ç£¨æ•ˆæœæ—¶ï¼Œæˆ‘ä»ä¼šç”±è¡·èµå¹ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FCodelaby" target="_blank" title="https://x.com/Codelaby" ref="nofollow noopener noreferrer">codelaby</a> åœ¨è¿™ç¯‡å¤åˆ»"è€å¼ç”µè¯æ‹¨å·ç›˜"çš„æ–‡ç« ä¸­ï¼Œå·§å¦™è¿ç”¨ SwiftUI çš„ <code>.compositingGroup()</code> å’Œ <code>.blendMode(.destinationOut)</code> å®ç°äº†åŠ¨æ€"é•‚ç©º"æ•ˆæœï¼Œä½¿æ—‹è½¬å±‚ä¸‹çš„é™æ€æ•°å­—æ¸…æ™°æ˜¾ç°ï¼Œç›¸æ¯”å•çº¯æ—‹è½¬å›¾ç‰‡æ›´å…·çµæ´»æ€§å’ŒåŸç”Ÿè´¨æ„Ÿã€‚æ­¤å¤–ï¼Œæ–‡ç« å¯¹ç¯å½¢æ‰‹åŠ¿å¤„ç†ã€è§’åº¦è®¡ç®—ï¼ˆ<code>atan2</code>ï¼‰ä»¥åŠé™ä½é€»è¾‘ï¼ˆStopperï¼‰çš„é˜è¿°ä¹Ÿååˆ†é€å½»æ¸…æ™°ã€‚</p>
<hr/>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-02" target="_blank" title="https://l.fatbobman.com/w0118-02" ref="nofollow noopener noreferrer">CKSyncEngine ç­”ç–‘ä¸å®æˆ˜ç»éªŒåˆ†äº« (CKSyncEngine Questions and Answers)</a></h3>
<p>ä¸å°‘å¼€å‘è€…å¯¹ Core Data çš„ <code>NSPersistentCloudKitContainer</code> é¢‡æœ‰è¯Ÿç—…ï¼Œè®¤ä¸ºå…¶ä¸é€æ˜ä¸”ç¼ºä¹å®šåˆ¶æ€§ã€‚ä½†çœŸæ­£æƒ³è‡ªå·±ç€æ‰‹è§£å†³ CloudKit çš„æ•°æ®åŒæ­¥é—®é¢˜æ—¶ï¼Œæ‰å‘ç°éœ€è¦è€ƒè™‘çš„åœ°æ–¹å®åœ¨å¤ªå¤šï¼Œéš¾åº¦è¿œè¶…æƒ³è±¡ã€‚è‹¹æœåœ¨å‡ å¹´å‰æ¨å‡ºçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fcloudkit%2Fcksyncengine-5sie5" target="_blank" title="https://developer.apple.com/documentation/cloudkit/cksyncengine-5sie5" ref="nofollow noopener noreferrer">CKSyncEngine</a> å½»åº•æ‰“ç ´äº†è¿™ä¸ªå›°å¢ƒï¼Œæä¾›äº†æ›´æ¸…æ™°çš„çŠ¶æ€ç®¡ç†å’Œé”™è¯¯å¤„ç†ï¼Œå¹¶è‡ªåŠ¨å¤„ç†äº†è¯¸å¤šå¤æ‚çš„è¾¹ç¼˜æƒ…å†µï¼Œè®©å¼€å‘è€…å¯ä»¥ä¸“å¿ƒæ„å»ºæ•°æ®åŒæ­¥é€»è¾‘ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fchristianselig" target="_blank" title="https://x.com/christianselig" ref="nofollow noopener noreferrer">Christian Selig</a> é€šè¿‡è‡ªé—®è‡ªç­”çš„æ–¹å¼ï¼Œåˆ†äº«äº†ä»–åœ¨ä½¿ç”¨ <code>CKSyncEngine</code> API æ—¶çš„ç»éªŒï¼Œè¯¦ç»†æ‹†è§£äº† <code>CKSyncEngine</code> å¦‚ä½•ä½œä¸ºä¸€ä¸ªå®Œç¾çš„ä¸­é—´å±‚ï¼Œåœ¨ä¿ç•™æ•°æ®å­˜å‚¨çµæ´»æ€§ï¼ˆä½ å¯ä»¥ç»§ç»­ç”¨ SQLiteã€Realm æˆ– JSONï¼‰çš„åŒæ—¶ï¼Œæ¥ç®¡äº†æœ€ä»¤äººå¤´ç–¼çš„åŒæ­¥çŠ¶æ€ç®¡ç†ã€‚</p>
<hr/>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-03" target="_blank" title="https://l.fatbobman.com/w0118-03" ref="nofollow noopener noreferrer">æˆ‘å¯¹ iOS 26 Tab Bar çš„åæ§½ (My Beef with the iOS 26 Tab Bar)</a></h3>
<p>SwiftUI åœ¨ iOS 18 ä¸­å¯¹ Tab Bar çš„è°ƒæ•´ï¼Œå…¶å½±å“å‡ ä¹å ªæ¯”å½“å¹´ NavigationStack/NavigationSplitView å–ä»£ NavigationViewï¼Œä¸ä»…æ”¹å˜äº†è®¾è®¡è¯­è¨€ï¼Œå¯¹åº”ç”¨çš„å®ç°æ–¹å¼å’Œæ•°æ®æµèµ°å‘éƒ½äº§ç”Ÿäº†é¢ è¦†æ€§å½±å“ã€‚è€Œä¸º iOS 26 Liquid Glass é£æ ¼å¼•å…¥çš„"æœç´¢æ ‡ç­¾"åŠŸèƒ½è¿›ä¸€æ­¥æ¨è¿›äº†è¿™ç§å˜é©ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fmastodon.social%2F%40ryanashcraft" target="_blank" title="https://mastodon.social/@ryanashcraft" ref="nofollow noopener noreferrer">Ryan Ashcraft</a> åœ¨è¿™ç¯‡æ–‡ç« ä¸­ç›´è¨€ä¸è®³åœ°æŒ‡å‡ºäº†æ–° Tab Bar è®¾è®¡çš„è¯¸å¤šé—®é¢˜ï¼šé»˜è®¤çš„æµ®åŠ¨æ ·å¼åœ¨æŸäº›ç•Œé¢ä¸­æ˜¾å¾—çªå…€ï¼Œä¸åº”ç”¨æ•´ä½“è§†è§‰é£æ ¼éš¾ä»¥åè°ƒï¼›æ–°çš„è¾¹è·å’Œé—´è·è§„åˆ™æ‰“ç ´äº†é•¿æœŸä»¥æ¥çš„è®¾è®¡æƒ¯ä¾‹ï¼Œè®©å¼€å‘è€…éœ€è¦é‡æ–°è°ƒæ•´å¤§é‡ç°æœ‰ç•Œé¢ï¼›æ›´é‡è¦çš„æ˜¯ï¼Œè¿™äº›æ”¹åŠ¨å¹¶æœªæ˜æ˜¾æå‡ç”¨æˆ·ä½“éªŒï¼Œåè€Œå¢åŠ äº†é€‚é…æˆæœ¬ã€‚</p>
<blockquote>
<p>æˆ‘ä¸ªäººå¯¹æ–° Tab çš„æœ€å¤§æ„Ÿå—æ˜¯ï¼Œå®ƒä¼šæ˜¾è‘—å½±å“å¼€å‘è€…åœ¨å¼€å‘åº”ç”¨æ—¶å¯¹æœ€ä½ç³»ç»Ÿç‰ˆæœ¬çš„å†³ç­–ã€‚ä¸º Tab ç»´æŠ¤ä¸¤å¥—ä»£ç æ˜¯å¦å€¼å¾—ï¼Ÿå¦‚æœä¸ºäº†ç®€åŒ–å®ç°è€Œä¸å¾—ä¸å°†æœ€ä½ç‰ˆæœ¬æé«˜åˆ° iOS 18ï¼Œè¿™æˆ–è®¸æ­£æ˜¯ SwiftUI å›¢é˜Ÿçš„å¦ä¸€ä¸ªè®¾è®¡æ„å›¾ï¼Ÿ</p>
</blockquote>
<hr/>
<h3 data-id="heading-6"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-04" target="_blank" title="https://l.fatbobman.com/w0118-04" ref="nofollow noopener noreferrer">Diaï¼šæ·±åº¦å‰–æ The Browser Company çš„ macOS æµè§ˆå™¨æ¶æ„ (Dia: A Technical Deep Dive into The Browser Company's macOS Browser)</a></h3>
<p>Arc æ˜¯ç¬¬ä¸€ä¸ªä½¿ç”¨ Swift æ„å»ºçš„å¤§å‹ Windows å¹³å°åº”ç”¨ï¼Œè€Œä¸” The Browser Company ä¹Ÿå› æ­¤ä¸º Swift ç¤¾åŒºçš„ Windows å·¥å…·é“¾åšå‡ºäº†çªå‡ºè´¡çŒ®ã€‚åœ¨ä» Arc è½¬å‹åˆ° Dia åï¼Œå¼€å‘å›¢é˜Ÿå¹¶æ²¡æœ‰æ”¾å¼ƒä½¿ç”¨ Swiftï¼Œé‚£ä¹ˆ macOS ç«¯çš„ Dia å…·ä½“ä½¿ç”¨äº†å“ªäº›å¼€å‘æ¡†æ¶å‘¢ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Feverettjf" target="_blank" title="https://x.com/everettjf" ref="nofollow noopener noreferrer">Everett</a> åœ¨æœ¬æ–‡ä¸­æ­ç¤ºäº† Dia ç‹¬ç‰¹çš„æŠ€æœ¯æ¶æ„ï¼šè¿™æ˜¯ä¸€ä¸ªåŸºäº AppKit + SwiftUI çš„åŸç”Ÿ macOS åº”ç”¨ï¼Œä½†å…¶æ ¸å¿ƒæ¸²æŸ“å¼•æ“å¹¶é WebKitï¼Œè€Œæ˜¯åµŒå…¥äº†è‡ªè¡Œä¿®æ”¹çš„ Chromiumï¼ˆ<code>ArcCore</code>ï¼‰ã€‚æ­¤å¤–ï¼Œåœ¨ Dia çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­å‘ç°äº†å¤§é‡ä¸æœ¬åœ° AI ç›¸å…³çš„åº“ï¼ˆå¦‚ Apple MLX å’Œ LoRA é€‚é…å™¨ï¼‰ï¼Œè¿™é¢„ç¤ºç€ Dia å¹¶éåªæ˜¯ä¸ºäº†"å¿«"ï¼Œè€Œæ˜¯å·²ç»ä¸ºè®¾å¤‡ç«¯ AI æ¨ç†åšå¥½äº†åº•å±‚å·¥ç¨‹å‡†å¤‡ã€‚</p>
<hr/>
<h3 data-id="heading-7"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-05" target="_blank" title="https://l.fatbobman.com/w0118-05" ref="nofollow noopener noreferrer">å…³äºç½—æŠ€å¼€å‘è€…è¯ä¹¦è¿‡æœŸçš„è¿·æ€ (Myths about Logitech Developer ID certificate expiration)</a></h3>
<p>å‡ å¤©å‰ï¼Œä¸å°‘ macOS ç”¨æˆ·å‘ç°ç½—æŠ€é¼ æ ‡çš„è‡ªå®šä¹‰æŒ‰é’®å¤±æ•ˆã€‚ç”±äºæ§åˆ¶å°æ—¥å¿—ä¸­å……æ–¥ç€ä»£ç ç­¾åï¼ˆCode Signingï¼‰ç›¸å…³çš„æŠ¥é”™ï¼Œä¸å°‘ç”¨æˆ·å’Œåª’ä½“å°†å…¶å½’å’äº"è‹¹æœæ’¤é”€äº†è¯ä¹¦"ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fmastodon.social%2F%40lapcatsoftware" target="_blank" title="https://mastodon.social/@lapcatsoftware" ref="nofollow noopener noreferrer">Jeff Johnson</a> é€šè¿‡åˆ†æç³»ç»Ÿæ—¥å¿—ä¸ºè‹¹æœåœ¨æœ¬æ¬¡äº‹ä»¶ä¸­çš„è§’è‰²è¿›è¡Œäº†å¹³åï¼šè¿™å¹¶éè‹¹æœçš„è¯ä¹¦æœåŠ¡æ•…éšœï¼Œè€Œæ˜¯ç½—æŠ€è‡ªèº«è½¯ä»¶å·¥ç¨‹é—®é¢˜å¯¼è‡´çš„ã€‚Logi Options+ çš„åå°è¿›ç¨‹åœ¨æ›´æ–°åï¼Œæœªèƒ½é€šè¿‡ macOS <code>taskgated</code> çš„ä»£ç ç­¾åæœ‰æ•ˆæ€§éªŒè¯ï¼Œä»è€Œè¢«ç³»ç»Ÿç›´æ¥ç»ˆæ­¢ã€‚è¿™ç¯‡æ–‡ç« ä¸ä»…æ˜¯ä¸€ä»½æ•…éšœåˆ†ææŠ¥å‘Šï¼Œæ›´æé†’å¼€å‘è€…ï¼šåœ¨ macOS ä¸¥æ ¼çš„å®‰å…¨æœºåˆ¶ä¸‹ï¼Œåº”ç”¨æ›´æ–°çš„ç­¾åéªŒè¯æµç¨‹å®¹ä¸å¾—åŠç‚¹é©¬è™ã€‚</p>
<blockquote>
<p>â€œå¦‚æœä½ çš„è¯ä¹¦è¿‡æœŸäº†ï¼Œç”¨æˆ·ä»ç„¶å¯ä»¥ä¸‹è½½ã€å®‰è£…å’Œè¿è¡Œç”¨è¯¥è¯ä¹¦ç­¾åçš„ Mac åº”ç”¨ç¨‹åºç‰ˆæœ¬ã€‚ä½†æ˜¯ï¼Œä½ éœ€è¦ä¸€ä¸ªæ–°çš„è¯ä¹¦æ¥ç­¾ç½²æ›´æ–°å’Œæ–°ç”³è¯·ã€‚â€ â€”â€” <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fsupport%2Fcertificates%2F" target="_blank" title="https://developer.apple.com/support/certificates/" ref="nofollow noopener noreferrer">è‹¹æœå®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<hr/>
<h3 data-id="heading-8"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-06" target="_blank" title="https://l.fatbobman.com/w0118-06" ref="nofollow noopener noreferrer">æ‹’ç» LLM ç”Ÿæˆçš„å¹³åº¸ä»£ç  (Stop Getting Average Code from Your LLM)</a></h3>
<p>ä¸å¯å¦è®¤ï¼Œåœ¨äººç±»é•¿ä¹…ä»¥æ¥ç´¯ç§¯çš„ä¿¡æ¯æµ·æ´‹ä¸­ï¼Œé«˜è´¨é‡çš„æ•°æ®ä¸ä¿¡æ¯åªå å°‘æ•°ã€‚å¯¹äºä¸ªä½“æ¥è¯´ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥æœ‰ç›®çš„åœ°å»ç”„åˆ«å’Œå­¦ä¹ è¿™äº›ä¼˜è´¨å†…å®¹ã€‚ä½†æ˜¯ï¼Œå—é™äºæœºåˆ¶ï¼ŒLLM é»˜è®¤å€¾å‘äºè®­ç»ƒæ•°æ®çš„â€œå¹³å‡å€¼â€ï¼Œè¿™å°±å¯¼è‡´å®ƒç”Ÿæˆçš„å†…å®¹åœ¨å„ä¸ªæ–¹é¢éƒ½æ˜¾å¾—æ¯”è¾ƒå¹³åº¸ã€‚å…·ä½“åˆ° Swift å¼€å‘é¢†åŸŸï¼Œè¿™å¾€å¾€æ„å‘³ç€å®ƒä¼šç”Ÿæˆå¤§é‡æ—§ç‰ˆçš„ã€éç»“æ„åŒ–çš„ä»£ç ã€‚</p>
<p>è¦æƒ³è·å¾—é«˜è´¨é‡ã€ç¬¦åˆ Swift 6 æ ‡å‡†ç”šè‡³ç‰¹å®šæ¶æ„é£æ ¼çš„ä»£ç ï¼Œå…³é”®åœ¨äºå¯¹æŠ—è¿™ç§â€œå›å½’å‡å€¼â€çš„æœ¬èƒ½ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fmerowing_" target="_blank" title="https://x.com/merowing_" ref="nofollow noopener noreferrer">Krzysztof ZabÅ‚ocki</a> è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ Few-Shot Promptingï¼ˆå°‘æ ·æœ¬æç¤ºï¼‰å’Œä¸Šä¸‹æ–‡æ³¨å…¥æŠ€æœ¯ï¼Œé€šè¿‡æä¾›å…·ä½“çš„ä»£ç èŒƒä¾‹å’Œæ¶æ„è§„èŒƒï¼Œå¼ºè¿« LLM â€œå¿˜è®°â€å¹³åº¸çš„é»˜è®¤è®¾ç½®ï¼Œè½¬è€Œç”Ÿæˆç²¾å‡†åŒ¹é…é¡¹ç›®æ ‡å‡†çš„é«˜è´¨é‡ä»£ç ã€‚</p>
<h2 data-id="heading-9">å·¥å…·</h2>
<h3 data-id="heading-10"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-07" target="_blank" title="https://l.fatbobman.com/w0118-07" ref="nofollow noopener noreferrer">swift-effect: ä¸€ç§åŸºäºç±»å‹é©±åŠ¨çš„å‰¯ä½œç”¨å¤„ç†æ–¹æ¡ˆ</a></h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FAlexOzun" target="_blank" title="https://x.com/AlexOzun" ref="nofollow noopener noreferrer">Alex Ozun</a> é•¿æœŸå…³æ³¨ Swift ä¸­çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fswiftology.io%2Fcollections%2Ftype-driven-design%2F%3Futm_source%3Dfatbobman%2520weekly%2520issue%2520118%26utm_medium%3Dweb" target="_blank" title="https://swiftology.io/collections/type-driven-design/?utm_source=fatbobman%20weekly%20issue%20118&amp;utm_medium=web" ref="nofollow noopener noreferrer">ç±»å‹é©±åŠ¨è®¾è®¡</a>ï¼Œè¿™ä¸ªåº“æ˜¯ä»–å¯¹â€œä»£æ•°æ•ˆåº”ï¼ˆAlgebraic Effectsï¼‰+ å¤„ç†å™¨ï¼ˆEffect Handlersï¼‰â€åœ¨ Swift é‡Œçš„å®è·µã€‚ swift-effect ä¸æ˜¯æŠŠå‰¯ä½œç”¨å˜æˆâ€œæ•°æ®ç»“æ„å†è§£é‡Šâ€ï¼Œè€Œæ˜¯å°†å‰¯ä½œç”¨å»ºæ¨¡ä¸ºå¯æ‹¦æˆªçš„å…¨å±€æ“ä½œï¼ˆ@Effectï¼‰ï¼Œé€šè¿‡ handler åœ¨è¿è¡Œæ—¶ç»„åˆå’Œæ›¿æ¢è¡Œä¸ºï¼Œè®©ä¸šåŠ¡ä»£ç ä¿æŒçº¿æ€§/è¿‡ç¨‹å¼é£æ ¼ï¼ŒåŒæ—¶åˆèƒ½ç²¾ç»†æ§åˆ¶ I/Oã€å¹¶å‘ç­‰è¡Œä¸ºã€‚</p>
<p>æ ¸å¿ƒäº®ç‚¹ï¼š</p>
<ul>
<li><strong>ä¿æŒä»£ç çº¿æ€§</strong>ï¼šè°ƒç”¨ Console.print ç­‰ effect å°±åƒæ™®é€šå‡½æ•°ï¼Œä½†è¡Œä¸ºå¯ç”± handler åŠ¨æ€å†³å®šã€‚</li>
<li><strong>æ—  Mock çš„è¡Œä¸ºæµ‹è¯•</strong>ï¼šç”¨ <code>withTestHandler</code> é€æ­¥æ‹¦æˆª/æ–­è¨€ effect åºåˆ—ï¼Œåƒâ€œäº¤äº’å¼è„šæœ¬â€ä¸€æ ·æµ‹è¯•æµç¨‹ã€‚</li>
<li><strong>å¹¶å‘å¯æ§</strong>ï¼šæ”¯æŒå¯¹ Task/AsyncSequence çš„ç¡®å®šæ€§æµ‹è¯•ï¼Œè§£å†³å¹¶å‘é¡ºåºä¸ç¨³å®šçš„é—®é¢˜ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-11"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-08" target="_blank" title="https://l.fatbobman.com/w0118-08" ref="nofollow noopener noreferrer">Codex Skill Manager: ä¸€æ¬¾é¢å‘ä¼—å¤š CLI çš„ macOS å·¥å…·</a></h3>
<p>å¾ˆå¤šå¼€å‘è€…éƒ½ä¼šåŒæ—¶ä½¿ç”¨å¤šç§ AI ç¼–ç¨‹æœåŠ¡ï¼Œå°½ç®¡å®ƒä»¬æ‹¥æœ‰ç±»ä¼¼çš„æ¦‚å¿µã€è®¾å®šå’Œå·¥å…·ç±»å‹ï¼Œä½†åœ¨å…·ä½“è®¾ç½®å’Œç»†èŠ‚æè¿°ä¸Šä»æœ‰å·®å¼‚ï¼Œè¿™å¯¼è‡´å¼€å‘è€…å¾ˆéš¾å¯¹æ‰€æœ‰æœåŠ¡è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FDimillian" target="_blank" title="https://x.com/Dimillian" ref="nofollow noopener noreferrer">Thomas Ricouard</a> å¼€å‘çš„ Codex Skill Manager å°† Codexã€Claude Codeï¼ˆä»¥åŠ OpenCodeã€Copilotï¼‰çš„æŠ€èƒ½é›†ä¸­åœ¨ä¸€ä¸ª UI é‡ŒæŸ¥çœ‹ã€æœç´¢ã€åˆ é™¤å’Œå¯¼å…¥ï¼Œé¿å…åœ¨å¤šä¸ªéšè—ç›®å½•ä¸­æ‰‹åŠ¨å¯»æ‰¾ã€‚</p>
<p>æ ¸å¿ƒåŠŸèƒ½</p>
<ul>
<li><strong>æœ¬åœ°æŠ€èƒ½</strong>ï¼šæ‰«æ <code>~/.codex/skills/public</code>ã€<code>~/.claude/skills</code> ç­‰è·¯å¾„ï¼Œå±•ç¤ºåˆ—è¡¨ä¸è¯¦æƒ…</li>
<li><strong>è¯¦æƒ…æ¸²æŸ“</strong>ï¼šMarkdown è§†å›¾+å¼•ç”¨é¢„è§ˆ</li>
<li><strong>è¿œç¨‹ Skill</strong>ï¼šClawdhub æœç´¢/æœ€æ–°åˆ—è¡¨ã€è¯¦æƒ…æ‹‰å–ä¸ä¸‹è½½</li>
<li>å¯¼å…¥/åˆ é™¤/è‡ªå®šä¹‰è·¯å¾„ï¼šæ”¯æŒä» zip æˆ–æ–‡ä»¶å¤¹å¯¼å…¥ã€ä¾§è¾¹æ åˆ é™¤ã€æ·»åŠ è‡ªå®šä¹‰è·¯å¾„</li>
<li>å¤šå¹³å°å®‰è£…çŠ¶æ€ï¼šä¸ºä¸åŒå¹³å°æ ‡è®°å·²å®‰è£…çŠ¶æ€</li>
</ul>
<h2 data-id="heading-12">æ´»åŠ¨</h2>
<h3 data-id="heading-13"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-09" target="_blank" title="https://l.fatbobman.com/w0118-09" ref="nofollow noopener noreferrer">LET'S VISION 2026ï½œé‚€è¯·ä½ ä¸æˆ‘ä»¬åŒè¡Œï¼</a></h3>
<p><strong>âœ¨ å¤§ä¼šä¸»é¢˜ï¼šBorn to Create, Powered by AI</strong></p>
<ul>
<li>ğŸ“ <strong>åœ°ç‚¹</strong>ï¼šä¸Šæµ·æ¼•æ²³æ³¾ä¼šè®®ä¸­å¿ƒ</li>
<li>â° <strong>æ—¶é—´</strong>ï¼š2026 å¹´ 3 æœˆ 27 æ—¥ - 3 æœˆ 29 æ—¥</li>
<li>ğŸ <strong>é‡ç‚¹</strong>ï¼šæ±‡èšé¡¶å°–åˆ›ä½œè€…ä¸ AI æŠ€æœ¯å¤§å’–ï¼Œå…±åŒæ¢ç´¢ AI åº”ç”¨çš„æœªæ¥è¾¹ç•Œ</li>
<li>ğŸŒ <strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-09" target="_blank" title="https://l.fatbobman.com/w0118-09" ref="nofollow noopener noreferrer">letsvision.swiftgg.team</a></li>
</ul>
<p>åˆ«èµ°å¼€ï¼è¯·å…³æ³¨å®˜æ–¹è´¦å·å’Œä¸»ç†äºº <a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.okjike.com%2Fu%2F1E2FE012-3E79-489A-AC4B-C022F3715199" target="_blank" title="https://web.okjike.com/u/1E2FE012-3E79-489A-AC4B-C022F3715199" ref="nofollow noopener noreferrer">SwiftSIQI</a>ï¼Œæˆ‘ä»¬å°†æŒç»­æ”¾é€æ›´å¤šç²¾å½©å†…å®¹ï¼</p>
<hr/>
<h3 data-id="heading-14"><a href="https://link.juejin.cn?target=https%3A%2F%2Fl.fatbobman.com%2Fw0118-10" target="_blank" title="https://l.fatbobman.com/w0118-10" ref="nofollow noopener noreferrer">Swift Student Challenge 2026</a></h3>
<p>æ¯å¹´ä¸€åº¦çš„å­¦ç”ŸæŒ‘æˆ˜èµ›å†æ¬¡ç™»åœºã€‚æŒ‘æˆ˜èµ›ä¸ºæ•°ä»¥åƒè®¡çš„å­¦ç”Ÿå¼€å‘è€…æä¾›äº†å±•ç°åˆ›é€ åŠ›å’Œç¼–ç¨‹èƒ½åŠ›çš„æœºä¼šï¼Œè®©ä»–ä»¬å¯ä»¥é€šè¿‡ App Playground å‘ˆç°è‡ªå·±çš„ä½œå“ï¼Œå¹¶ä»ä¸­å­¦ä¹ åœ¨èŒä¸šç”Ÿæ¶¯ä¸­å—ç”¨çš„å®é™…æŠ€èƒ½ã€‚</p>
<p><strong>ä»Šå¹´ä½œå“æäº¤é€šé“å°†äº 2026 å¹´ 2 æœˆ 6 æ—¥è‡³ 2 æœˆ 28 æ—¥å¼€æ”¾ã€‚</strong></p>
<h2 data-id="heading-15">å¾€æœŸå†…å®¹</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhttps%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-117%2F" target="_blank" title="https://https://fatbobman.com/zh/weekly/issue-117/" ref="nofollow noopener noreferrer">2026ï¼šå½“ AI éšå…¥å·¥ä½œæµï¼Œä½ å‡†å¤‡å¥½äº†å—ï¼Ÿ- #117</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-116%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-116/" ref="nofollow noopener noreferrer">Swiftã€SwiftUI ä¸ SwiftDataï¼šèµ°å‘æˆç†Ÿçš„ 2025 - #116</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-115%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-115/" ref="nofollow noopener noreferrer">å‘¨æ—¥å°æ’æ›² - #115</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffatbobman.com%2Fzh%2Fweekly%2Fissue-114%2F" target="_blank" title="https://fatbobman.com/zh/weekly/issue-114/" ref="nofollow noopener noreferrer">æŒ–æ˜â€œæ²‰é»˜çš„ä¸“å®¶â€- #114</a></li>
</ul>
<h2 data-id="heading-16">ğŸ’ æ”¯æŒä¸åé¦ˆ</h2>
<p>å¦‚æœæœ¬æœŸå‘¨æŠ¥å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ï¼š</p>
<ul>
<li>ğŸ‘ <strong>ç‚¹èµ</strong> - è®©æ›´å¤šå¼€å‘è€…çœ‹åˆ°</li>
<li>ğŸ’¬ <strong>è¯„è®º</strong> - åˆ†äº«ä½ çš„çœ‹æ³•æˆ–é—®é¢˜</li>
<li>ğŸ”„ <strong>è½¬å‘</strong> - å¸®åŠ©åŒè¡Œå…±åŒæˆé•¿</li>
</ul>
<hr/>
<blockquote>
<p>ğŸš€ <strong>æ‹“å±• Swift è§†é‡</strong></p>
<ul>
<li><strong>ğŸ“® é‚®ä»¶è®¢é˜…</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.fatbobman.com%2Fwelcome" target="_blank" title="https://weekly.fatbobman.com/welcome" ref="nofollow noopener noreferrer">weekly.fatbobman.com</a> è·å–ç‹¬å®¶æŠ€æœ¯æ´å¯Ÿ</li>
<li><strong>ğŸ‘¥ å¼€å‘è€…ç¤¾åŒº</strong> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Finvite%2F7FedN5E2QQ" target="_blank" title="https://discord.com/invite/7FedN5E2QQ" ref="nofollow noopener noreferrer">Discord</a> å®æ—¶äº¤æµå¼€å‘ç»éªŒ</li>
<li><strong>ğŸ“š åŸåˆ›æ•™ç¨‹</strong> | <a href="https://link.juejin.cn?target=http%3A%2F%2Ffatbobman.com" target="_blank" title="http://fatbobman.com" ref="nofollow noopener noreferrer">fatbobman.com</a> å­¦ä¹  Swift/SwiftUI æœ€ä½³å®è·µ</li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ooder-AIFormä¸“ç”¨è¡¨å•Skillè§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7594350054091063338</link>    <guid>https://juejin.cn/post/7594350054091063338</guid>    <pubDate>2026-01-13T00:02:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594350054091063338" data-draft-id="7594350054091046954" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ooder-AIFormä¸“ç”¨è¡¨å•Skillè§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-13T00:02:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ooder-AIFormä¸“ç”¨è¡¨å•Skillè§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-13T00:02:00.000Z" title="Tue Jan 13 2026 00:02:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€SkillæŠ€æœ¯æ ¸å¿ƒä»‹ç»</h2>
<p>Skillæ˜¯ä¸€å¥—æ¨¡å—åŒ–çš„å¯å¤ç”¨èƒ½åŠ›åŒ…ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºå°†ç‰¹å®šä»»åŠ¡çš„ä¸“ä¸šæµç¨‹ã€å¯æ‰§è¡Œé€»è¾‘ä¸èµ„æºæ¨¡æ¿è¿›è¡Œæ ‡å‡†åŒ–å°è£…ï¼Œè®©é€šç”¨AIåŠ©æ‰‹å¿«é€Ÿå‡çº§ä¸ºå…·å¤‡é¢†åŸŸä¸“å®¶çº§èƒ½åŠ›çš„æ™ºèƒ½ä»£ç†ï¼Œå½»åº•è§£å†³é€šç”¨AIâ€œæ™ºèƒ½æœ‰ä½™ã€ä¸“ä¸šä¸è¶³â€çš„è¡Œä¸šç—›ç‚¹ã€‚ä»æŠ€æœ¯æœ¬è´¨æ¥çœ‹ï¼ŒSkillå¹¶éç®€å•çš„Promptæˆ–APIå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªåŒ…å«ç»“æ„åŒ–æŒ‡ä»¤ã€å…ƒæ•°æ®ã€å¯æ‰§è¡Œè„šæœ¬åŠè¾…åŠ©èµ„æºçš„â€œå¯åŠ¨æ€åŠ è½½èƒ½åŠ›å•å…ƒâ€ï¼Œå¦‚åŒä¸ºAIé…å¤‡äº†ä¸“å±çš„å·¥ä½œæ‰‹å†Œä¸å·¥å…·åŒ…ã€‚</p>
<p>æ ¹æ®Anthropicå®˜æ–¹è§„èŒƒï¼ŒSkillä»¥ç‹¬ç«‹æ–‡ä»¶å¤¹å½¢å¼ç»„ç»‡ï¼Œæ ¸å¿ƒæ„æˆåŒ…æ‹¬ä¸‰å¤§ç»„ä»¶ï¼šä¸€æ˜¯å¿…é€‰çš„SKILL.mdæ–‡ä»¶ï¼Œé€šè¿‡YAMLå…ƒæ•°æ®å®šä¹‰æŠ€èƒ½åç§°ã€é€‚ç”¨åœºæ™¯ç­‰åŸºç¡€ä¿¡æ¯ï¼Œæ­£æ–‡ä»¥ç»“æ„åŒ–æ–‡æ¡£æ˜ç¡®æ‰§è¡Œæµç¨‹ä¸æ“ä½œè§„èŒƒï¼›äºŒæ˜¯å¯é€‰çš„å¯æ‰§è¡Œè„šæœ¬ï¼Œç”¨äºå¤„ç†æ•°æ®è½¬æ¢ã€æ ¼å¼è§£æç­‰ç¡®å®šæ€§ä»»åŠ¡ï¼Œä¿éšœæ‰§è¡Œç»“æœçš„å¯é æ€§ï¼›ä¸‰æ˜¯å¯é€‰çš„èµ„æºæ–‡ä»¶ï¼Œæ¶µç›–æ¨¡æ¿ã€ç¤ºä¾‹ã€ä¾èµ–åº“ç­‰è¾…åŠ©ææ–™ï¼Œæ”¯æ’‘æŠ€èƒ½å®Œæ•´è¿è¡Œã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºç‹¬ç‰¹çš„â€œæ¸è¿›å¼æŠ«éœ²â€ä¸‰çº§åŠ è½½æœºåˆ¶ï¼šç¬¬ä¸€çº§å¯åŠ¨æ—¶ä»…åŠ è½½æŠ€èƒ½åç§°ã€æè¿°ç­‰å…ƒæ•°æ®ï¼ˆçº¦100 Tokenï¼‰ï¼›ç¬¬äºŒçº§å½“AIåˆ¤æ–­æŠ€èƒ½ä¸å½“å‰ä»»åŠ¡ç›¸å…³æ—¶ï¼ŒåŠ è½½å®Œæ•´SKILL.mdæ­£æ–‡æŒ‡ä»¤ï¼›ç¬¬ä¸‰çº§è‹¥éœ€æ‰©å±•èµ„æºï¼ˆå¦‚è¡¨å•æ¨¡æ¿é…ç½®æ–‡ä»¶ï¼‰ï¼Œå†æŒ‰éœ€è¯»å–ï¼Œæ—¢å¤§å¹…é™ä½ä¸Šä¸‹æ–‡å ç”¨ï¼Œåˆèƒ½ç¡®ä¿AIè¡Œä¸ºçš„ä¸€è‡´æ€§ä¸å¯å¤ç”¨æ€§ã€‚åœ¨ä¼ä¸šçº§åœºæ™¯ä¸­ï¼Œè¿˜å¯é€šè¿‡æŠ€èƒ½æ¸…å•é…ç½®å®ç°æƒé™ç®¡æ§ï¼ŒAgentå¯åŠ¨æ—¶ä»…åŠ è½½æˆæƒæŠ€èƒ½å­é›†ï¼Œé¿å…æ•æ„ŸæŠ€èƒ½æ»¥ç”¨ï¼ŒAnthropicä¼ä¸šç‰ˆå·²æ”¯æŒé›†ä¸­éƒ¨ç½²æŠ€èƒ½åº“å¹¶æŒ‰éƒ¨é—¨åˆ†é…ä½¿ç”¨æƒé™ã€‚</p>
<p>åœ¨ä¼ä¸šçº§åº”ç”¨åœºæ™¯ä¸­ï¼ŒSkillå¯å°†èµ„æ·±å‘˜å·¥çš„ä¸“ä¸šç»éªŒè½¬åŒ–ä¸ºæ ‡å‡†åŒ–èƒ½åŠ›åŒ…ï¼Œå®ç°çŸ¥è¯†æ²‰æ·€ä¸é«˜æ•ˆå¤ç”¨ï¼ŒåŒæ—¶é€šè¿‡ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®æ¥å…¥çš„åˆ†ç¦»è®¾è®¡ï¼Œå¤§å¹…é™ä½ç³»ç»Ÿå‡çº§ä¸ç»´æŠ¤æˆæœ¬ï¼Œæ™®é€šç”¨æˆ·ç”šè‡³æ— éœ€å¤æ‚ç¼–ç¨‹çŸ¥è¯†ï¼Œä»…é€šè¿‡ç¼–è¾‘SKILL.mdå³å¯å®ŒæˆæŠ€èƒ½å®šåˆ¶ã€‚</p>
<h2 data-id="heading-1">äºŒã€Ooderè¡¨å•ä¸“ç”¨SkillåŠŸèƒ½ä¸ä¼˜åŠ¿</h2>
<h3 data-id="heading-2">ï¼ˆä¸€ï¼‰æ ¸å¿ƒä¸“ç”¨åŠŸèƒ½</h3>
<ol>
<li><strong>è¡¨å•æ™ºèƒ½æ‹†åˆ†ä¸ç»“æ„åŒ–é‡æ„</strong>ï¼šä½œä¸ºooderSkillèƒ½åŠ›åŒ…çš„æ ¸å¿ƒå†…ç½®Java Skillç¨‹åºï¼Œæ‘’å¼ƒä¼ ç»Ÿè„šæœ¬æ¨¡å¼ï¼Œä¾æ‰˜Javaå¼ºç±»å‹ã€é«˜ç¨³å®šæ€§åŠåŸç”Ÿç”Ÿæ€ä¼˜åŠ¿ï¼Œç»“åˆAIè¯­ä¹‰è§£æèƒ½åŠ›ï¼ŒåŸºäºä¸šåŠ¡è¯­ä¹‰è‡ªåŠ¨è¯†åˆ«è¡¨å•å­—æ®µå±æ€§ï¼Œå°†è‡ƒè‚¿çš„å¤§è¡¨å•æ‹†åˆ†ä¸ºé€»è¾‘æ¸…æ™°çš„æ¨¡å—ï¼ˆå¦‚åŸºæœ¬ä¿¡æ¯ã€æ”¯ä»˜ä¿¡æ¯ã€è”ç³»ä¿¡æ¯ç­‰ï¼‰ï¼Œå¹¶é€šè¿‡@BlockFormAnnotationç­‰ä¸“å±æ³¨è§£è§„èŒƒåˆ†å—ç»“æ„ï¼Œä¿éšœæ‹†åˆ†åè¡¨å•çš„é€»è¾‘æ€§ä¸å¯ç»´æŠ¤æ€§ï¼ŒåŒæ—¶å¯ç›´æ¥å¯¹æ¥Javaåç«¯ä¸šåŠ¡ç³»ç»Ÿï¼Œæå‡æ•´ä½“é›†æˆæ•ˆç‡ã€‚</li>
<li><strong>å…¨æ ˆè‡ªé€‚åº”æ ·å¼ç”Ÿæˆ</strong>ï¼šå°è£…Ooderä¸“å±A2UIç»„ä»¶åº“èµ„æºï¼ŒSkillæä¾›åŸºç¡€æ ·å¼è§„èŒƒï¼ŒAIå¯è‡ªåŠ¨è§£æä¼ä¸šå“ç‰Œç´ æï¼ˆLOGOã€é…è‰²ï¼‰ï¼Œç”Ÿæˆä¸ªæ€§åŒ–æ ·å¼å‚æ•°å¹¶æ³¨å…¥æ‰§è¡Œæµç¨‹ï¼Œå®ç°è¡¨å•æ ·å¼ä¸å“ç‰Œé£æ ¼çš„ç²¾å‡†åŒ¹é…ï¼ŒåŒæ—¶æ”¯æŒåŠå…¬ã€å¤œé—´ã€è¥é”€ç­‰å¤šåœºæ™¯ä¸»é¢˜æ— ç¼åˆ‡æ¢ã€‚</li>
<li><strong>ä¸šåŠ¡é€»è¾‘æ™ºèƒ½é€‚é…ä¸æ ¡éªŒ</strong>ï¼šé€šè¿‡Skillå°è£…è¡¨å•ä¸šåŠ¡æ ¡éªŒè§„åˆ™ï¼Œå¯è‡ªåŠ¨è¯†åˆ«æ—§è¡¨å•ä¸­çš„éæ ‡å‡†ä»£ç ï¼ˆå¦‚è‡ªå®šä¹‰æ ¡éªŒé€»è¾‘ï¼‰å¹¶ç”Ÿæˆé€‚é…å±‚ä»£ç ï¼›ç»“åˆOoder DSMé¢†åŸŸæ¨¡å‹çŸ¥è¯†åº“ï¼Œå®ç°å­—æ®µä¸ä¸šåŠ¡é€»è¾‘çš„ç²¾å‡†æ˜ å°„ï¼Œä¿éšœè¡¨å•åŠŸèƒ½çš„å®Œæ•´æ€§ä¸è¿ç»­æ€§ã€‚</li>
<li><strong>å¤šç«¯ååŒä¸å…¼å®¹é€‚é…</strong>ï¼šæ”¯æŒWebã€iOSã€Androidä¸‰ç«¯è¡¨å•é€‚é…ï¼Œé€šè¿‡AIå°†A2UIå…ƒæ•°æ®è‡ªåŠ¨è½¬æ¢ä¸ºå„ç«¯åŸç”Ÿæ¸²æŸ“ä»£ç ï¼Œæ­é…@MultiEndSupportä¸“å±æ³¨è§£ï¼Œå®ç°â€œä¸€æ¬¡å¼€å‘ã€å¤šç«¯é€‚é…â€ï¼Œè§£å†³ä¼ ç»Ÿè·¨ç«¯è¡¨å•â€œä½“éªŒä¸ä¸€è‡´ã€æ€§èƒ½æŸè€—å¤§â€çš„é—®é¢˜ã€‚</li>
<li><strong>å¤šè§’è‰²åä½œç®¡ç†</strong>ï¼šä¾æ‰˜Ooder-RADå·¥å…·é“¾çš„åä½œèƒ½åŠ›ï¼Œé€šè¿‡ç»Ÿä¸€çš„Skillæ ‡å‡†ä¸AIæ ¡éªŒæœºåˆ¶ï¼Œæ¶ˆé™¤äº§å“ã€å¼€å‘ã€æµ‹è¯•ç­‰å¤šè§’è‰²é—´çš„ä»£ç é£æ ¼å·®å¼‚ï¼Œæ”¯æŒè¡¨å•å…¨ç”Ÿå‘½å‘¨æœŸçš„ååŒç»´æŠ¤ä¸è¿­ä»£ã€‚</li>
<li><strong>JavaåŸç”Ÿä¸šåŠ¡é€»è¾‘é€‚é…</strong>ï¼šooderSkillèƒ½åŠ›åŒ…å†…ç½®ooder-esd-formï¼ˆJavaç±»ï¼‰ï¼Œä¸“ä¸ºä¼ä¸šçº§Javaç”Ÿæ€è¡¨å•åœºæ™¯è®¾è®¡ï¼Œå¯å®ç°è¡¨å•æ•°æ®ä¸Javaåç«¯ä¸šåŠ¡é€»è¾‘çš„æ— ç¼å¯¹æ¥ï¼Œæ”¯æŒåŸºäºJavaæ³¨è§£çš„è¡¨å•æ ¡éªŒè§„åˆ™å®šä¹‰ã€æ•°æ®æŒä¹…åŒ–é€‚é…ç­‰æ ¸å¿ƒèƒ½åŠ›ï¼Œå¤§å¹…æå‡JavaæŠ€æœ¯æ ˆä¼ä¸šçš„è¡¨å•é›†æˆæ•ˆç‡ã€‚</li>
<li><strong>ä¸“ç”¨ooderSkillèƒ½åŠ›åŒ…æ•´åˆ</strong>ï¼šæä¾›ä¸“å±çš„ooderSkillèƒ½åŠ›åŒ…ï¼Œæ•´åˆè¡¨å•æ‹†åˆ†ä¸“ç”¨Java Skillç¨‹åºã€ooder-esd-formï¼ˆJavaç±»ï¼‰åŠè¡¨å•å¼€å‘å…¨æµç¨‹æ‰€éœ€çš„æ¨¡æ¿ã€æ³¨è§£è§„èŒƒã€èµ„æºæ–‡ä»¶ç­‰ï¼Œéµå¾ªAnthropic Agent Skillsæ ‡å‡†æ„å»ºæ¨¡å—åŒ–ç»“æ„ï¼Œæ”¯æŒæ¸è¿›å¼æŠ«éœ²æœºåˆ¶ï¼Œä»…æŒ‰éœ€åŠ è½½æ‰€éœ€èµ„æºï¼Œå…¼é¡¾æ€§èƒ½ä¸åŠŸèƒ½å®Œæ•´æ€§ï¼ŒåŒæ—¶å®ç°JavaæŠ€æœ¯æ ˆçš„ç»Ÿä¸€é€‚é…ã€‚</li>
<li><strong>å…ƒæ•°æ®é©±åŠ¨A2UIä»£ç è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šåŸºäºOoder DSMé¢†åŸŸæ¨¡å‹å…ƒæ•°æ®æˆ–ä¸šåŠ¡é…ç½®å…ƒæ•°æ®ï¼Œè‡ªåŠ¨è§£æå­—æ®µç±»å‹ã€å…³è”å…³ç³»ã€æ ¡éªŒè§„åˆ™ç­‰ä¿¡æ¯ï¼ŒæŒ‰A2UIå£°æ˜å¼åè®®ç”Ÿæˆå®Œæ•´å¯è¿è¡Œçš„è¡¨å•ä»£ç ï¼ŒåŒ…å«ç»„ä»¶å¸ƒå±€ã€æ ·å¼é…ç½®ã€æ•°æ®ç»‘å®šé€»è¾‘ã€‚æ”¯æŒå…ƒæ•°æ®å®æ—¶æ›´æ–°åŒæ­¥ï¼Œå½“å…ƒæ•°æ®å‘ç”Ÿå˜æ›´æ—¶ï¼ŒSkillå¯è‡ªåŠ¨å¢é‡æ›´æ–°A2UIä»£ç ï¼Œæ— éœ€äººå·¥å¹²é¢„ï¼Œå®ç°â€œæ¨¡å‹å³ä»£ç â€çš„å¼€å‘é—­ç¯ï¼Œå‚è€ƒonecodeå‰åç«¯æ¨¡å‹æ‰“é€šçš„è®¾è®¡æ€æƒ³ï¼Œç¡®ä¿å‰ç«¯è¡¨å•ä¸åç«¯æœåŠ¡æ¨¡å‹çš„ä¸€è‡´æ€§ã€‚</li>
<li><strong>HTMLè¡¨å•æ— æŸè½¬æ¢ä¸ºA2UIä»£ç </strong>ï¼šå†…ç½®HTMLè¡¨å•è§£æSkillï¼Œæ”¯æŒå¯¹ç°æœ‰HTMLè¡¨å•è¿›è¡Œå…¨é‡å…ƒç´ è¯†åˆ«ï¼ˆå«è¾“å…¥æ¡†ã€ä¸‹æ‹‰æ¡†ã€å•é€‰æ¡†ç­‰ç»„ä»¶åŠè‡ªå®šä¹‰æ ·å¼ï¼‰ï¼Œè½¬æ¢ä¸ºA2UIä»£ç çš„è¿˜åŸåº¦è¾¾95%ä»¥ä¸Šã€‚å¯è‡ªåŠ¨ä¿ç•™åŸæœ‰è¡¨å•çš„äº¤äº’é€»è¾‘ã€æ ¡éªŒè§„åˆ™ä¸æ ·å¼ç»†èŠ‚ï¼ŒåŒæ—¶å…¼å®¹è€æ—§HTMLä»£ç ä¸­çš„éæ ‡å‡†è¯­æ³•ï¼›è½¬æ¢åè‡ªåŠ¨æ³¨å…¥A2UIé€‚é…æ³¨è§£ï¼Œæ”¯æŒç›´æ¥å¯¹æ¥Ooderåç«¯æœåŠ¡ï¼Œè§£å†³ä¼ ç»Ÿè¡¨å•è¿ç§»çš„å…¼å®¹æ€§ä¸æ•ˆç‡é—®é¢˜ã€‚</li>
<li><strong>é«˜çº§è¡¨å•æ’ä»¶ï¼ˆSkillï¼‰èƒ½åŠ›æ‰©å±•</strong>ï¼šæ„å»ºå¼€æ”¾å¼æ’ä»¶æ‰©å±•ä½“ç³»ï¼Œæ”¯æŒåŸºäºJS/Javaè¯­è¨€å¼€å‘è‡ªå®šä¹‰è¡¨å•Skillæ’ä»¶ï¼Œæ¶µç›–å¤æ‚ä¸šåŠ¡ç»„ä»¶ï¼ˆå¦‚æ ‘å½¢é€‰æ‹©å™¨ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰ã€é«˜çº§æ ¡éªŒè§„åˆ™ï¼ˆå¦‚è·¨å­—æ®µå…³è”æ ¡éªŒã€åŠ¨æ€é˜ˆå€¼æ ¡éªŒï¼‰ã€æ•°æ®å¤„ç†ï¼ˆå¦‚æ‰¹é‡å¯¼å…¥å¯¼å‡ºã€æ•°æ®è„±æ•ï¼‰ç­‰åœºæ™¯ã€‚æä¾›æ’ä»¶æ³¨å†Œä¸ç®¡ç†Skillï¼Œæ”¯æŒæ’ä»¶çš„ä¸€é”®å®‰è£…ã€å¯ç”¨/ç¦ç”¨ä¸ç‰ˆæœ¬è¿­ä»£ï¼›æ¥å…¥ç¤¾åŒºæ’ä»¶å¸‚åœºï¼ŒåŒæ­¥ä¸»æµæ³¨è§£ç”Ÿæˆå™¨ã€UIç»„ä»¶åº“ç­‰æ’ä»¶èµ„æºï¼Œå¯è‡ªåŠ¨åŒæ­¥ç¤¾åŒºé—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œæå‡æ’ä»¶ç”Ÿæ€çš„ä¸°å¯Œåº¦ä¸ç¨³å®šæ€§ã€‚</li>
<li><strong>æ ‡å‡†åŒ–ç»„ä»¶ä¸æ··åˆç¼–è¯‘æ ¡éªŒ</strong>ï¼šé‡‡ç”¨å¼€æ”¾å¼ç»„ä»¶è®¾è®¡æ¨¡å‹ä¸å­˜å‚¨é€šè®¯æ ‡å‡†ï¼Œç¡®ä¿è¡¨å•ç»„ä»¶å¯ä¸å…¶ä»–ä½ä»£ç å¹³å°äº’è”äº’é€šï¼Œé¿å…åº”ç”¨å­¤å²›ï¼Œè§£å†³ç”¨æˆ·å¹³å°ç»‘å®šå¿§è™‘ã€‚é›†æˆonecodeé£æ ¼çš„æ··åˆç¼–è¯‘æ ¡éªŒèƒ½åŠ›ï¼Œåœ¨è¡¨å•å¼€å‘è¿‡ç¨‹ä¸­å®æ—¶æ ¡éªŒå‰åç«¯æ¨¡å‹å…³è”å…³ç³»ã€ç»„ä»¶å±æ€§é…ç½®ä¸æ•°æ®äº¤äº’é€»è¾‘ï¼Œæå‰å‘ç°æ½œåœ¨é—®é¢˜ï¼Œæ— éœ€ç­‰åˆ°è¿è¡ŒæœŸæµ‹è¯•ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ä¸å¼€å‘å¯é æ€§ã€‚</li>
<li><strong>æ‹–æ‹½å»ºæ¨¡ä¸ä»£ç ç¼–å†™åŒæ¨¡å¼æ”¯æŒ</strong>ï¼šæä¾›å¯è§†åŒ–æ‹–æ‹½è®¾è®¡å™¨ï¼Œæ”¯æŒé€šè¿‡ç»„ä»¶æ‹–æ‹½å¿«é€Ÿå®Œæˆè¡¨å•å»ºæ¨¡å¹¶åºåˆ—åŒ–ä¸ºæ ‡å‡†JSONé…ç½®ï¼ŒSkillå¯åŸºäºJSONé…ç½®ç”ŸæˆA2UIä»£ç ï¼›åŒæ—¶ä¿ç•™æ‰‹å·¥ç¼–å†™A2UIä»£ç çš„å…¥å£ï¼Œæ”¯æŒæ‹–æ‹½å»ºæ¨¡ä¸ä»£ç ç¼–å†™çš„çµæ´»åˆ‡æ¢ã€‚è®¾è®¡å™¨å†…ç½®æ ‡å‡†ç»„ä»¶åº“ä¸è‡ªå®šä¹‰ç»„ä»¶å¯¼å…¥åŠŸèƒ½ï¼Œé€‚é…ä¸åŒæŠ€æœ¯èƒŒæ™¯å¼€å‘è€…çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œå‚è€ƒonecodeæ‹–æ‹½å»ºæ¨¡ä¸æ‰‹å·¥ç¼–ç ç»“åˆçš„è®¾è®¡ç†å¿µã€‚</li>
</ol>
<h3 data-id="heading-3">ï¼ˆäºŒï¼‰æ ¸å¿ƒä¼˜åŠ¿</h3>
<ol>
<li><strong>é«˜æ•ˆææ•ˆï¼Œé™ä½æˆæœ¬</strong>ï¼šé€šè¿‡Skill+AIçš„è‡ªåŠ¨åŒ–é—­ç¯å¤„ç†ï¼Œè¡¨å•é‡æ„ä¸å¼€å‘æ•ˆç‡è¾ƒä¼ ç»Ÿæ¨¡å¼æå‡400%ï¼Œå¤æ‚è¡¨å•æ¨¡å—å¼€å‘å‘¨æœŸä»3ä¸ªæœˆå‹ç¼©è‡³2å‘¨ï¼Œç»´æŠ¤æˆæœ¬é™ä½70%ï¼Œå¤§å¹…å‡å°‘äººå·¥å¹²é¢„æˆæœ¬ã€‚</li>
<li><strong>æ ‡å‡†åŒ–ä¸ä¸ªæ€§åŒ–å¹³è¡¡</strong>ï¼šåŸºäºSkillçš„æ ‡å‡†åŒ–å°è£…ä¿éšœè¡¨å•å¼€å‘çš„è§„èŒƒæ€§ä¸ä¸€è‡´æ€§ï¼ŒAIæ™ºèƒ½å†³ç­–åˆ™å®ç°ä¸ªæ€§åŒ–æ ·å¼ä¸ä¸šåŠ¡é€»è¾‘é€‚é…ï¼Œå½»åº•æ‘†è„±é€šç”¨æ–¹æ¡ˆâ€œæ ·å¼åŒè´¨åŒ–â€â€œé€»è¾‘åƒµåŒ–â€çš„å¼Šç«¯ã€‚</li>
<li><strong>ä½è€¦åˆæ˜“ç»´æŠ¤</strong>ï¼šéµå¾ªOoder-RADå·¥å…·é“¾â€œæ¥å£åŒ–è®¾è®¡ã€è§†å›¾-æ•°æ®åˆ†ç¦»â€ç†å¿µï¼Œé€šè¿‡Skillå¼ºåˆ¶å®ç°è§†å›¾é…ç½®ä¸æ•°æ®é€»è¾‘çš„åˆ†ç¦»ï¼Œè§†å›¾æ³¨è§£ä»…å£°æ˜åœ¨æ¥å£å±‚ï¼Œå®ç°ç±»ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œé™ä½ä»£ç è€¦åˆåº¦ï¼Œä¾¿äºåç»­ç»´æŠ¤ä¸å‡çº§ã€‚</li>
<li><strong>é«˜å…¼å®¹æ€§ä¸å®¹é”™æ€§</strong>ï¼šAIå®æ—¶ç›‘æ§è¡¨å•å¤„ç†å…¨æµç¨‹ï¼Œå¯¹æ—§ç³»ç»Ÿéæ ‡å‡†ä»£ç ã€ç‰¹æ®Šä¸šåŠ¡é€»è¾‘è‡ªåŠ¨ç”Ÿæˆé€‚é…æ–¹æ¡ˆï¼Œä¿éšœæ–°æ—§ç³»ç»Ÿå¹³æ»‘è¿‡æ¸¡ï¼Œä¸šåŠ¡é€»è¾‘æ— ä¸­æ–­ï¼Œé€‚é…å„ç±»ä¼ä¸šçº§è¡¨å•ç¿»æ–°åœºæ™¯ã€‚</li>
<li><strong>ä½é—¨æ§›æ˜“ç”¨æ€§</strong>ï¼šæ”¯æŒé€šè¿‡ç¼–è¾‘SKILL.mdæ–‡ä»¶å¿«é€Ÿå®šåˆ¶è¡¨å•æŠ€èƒ½ï¼Œæ— éœ€å¤æ‚ç¼–ç¨‹çŸ¥è¯†ï¼›æä¾›å¯è§†åŒ–RADè®¾è®¡å™¨ï¼Œæ”¯æŒæ‹–æ‹½ç»„ä»¶å¿«é€Ÿæ­å»ºè¡¨å•å¸ƒå±€ï¼Œéä¸“ä¸šäººå‘˜ä¹Ÿå¯å‚ä¸è¡¨å•å¼€å‘ã€‚ä¸ªäººå¼€å‘ç‰ˆæœ¬å¯é€šè¿‡IDEç®€å•æ³¨å†Œå³å¯è‡ªç„¶è¯­è¨€è°ƒç”¨æŠ€èƒ½ï¼Œä¼ä¸šç‰ˆæœ¬æ”¯æŒé›†ä¸­ç®¡æ§ä¸å¤šç«¯ååŒï¼Œå…¼é¡¾ä¸ªäººå¼€å‘æ•ˆç‡ä¸å›¢é˜Ÿåä½œè§„èŒƒã€‚</li>
</ol>
<h2 data-id="heading-4">ä¸‰ã€Skilléƒ¨ç½²ä¸ä¸“æœ‰é›†æˆ</h2>
<h3 data-id="heading-5">ï¼ˆä¸€ï¼‰çµæ´»éƒ¨ç½²æ¨¡å¼</h3>
<ol>
<li><strong>æœ¬åœ°éƒ¨ç½²ï¼ˆTrae Soloæ¨¡å¼ï¼‰</strong> ï¼šæ”¯æŒå°†è¡¨å•ä¸“ç”¨SkillåŒ…æœ¬åœ°éƒ¨ç½²è‡³ä¼ä¸šå†…ç½‘ç¯å¢ƒï¼ŒæŠ€èƒ½æ–‡ä»¶å­˜å‚¨äºæœ¬åœ°é¡¹ç›®ç›®å½•ï¼ˆ.claude/skills/ï¼‰ï¼Œé€šè¿‡Gitå®ç°å›¢é˜Ÿå†…éƒ¨æŠ€èƒ½åŒ…çš„å…±äº«ä¸ç‰ˆæœ¬ç®¡ç†ï¼Œé€‚ç”¨äºå¯¹æ•°æ®å®‰å…¨æ€§è¦æ±‚é«˜ã€éœ€ç¦»çº¿è¿è¡Œçš„ä¼ä¸šåœºæ™¯ã€‚</li>
<li><strong>ç§æœ‰äº‘éƒ¨ç½²</strong>ï¼šå¯å°†è¡¨å•SkillåŒ…éƒ¨ç½²è‡³ä¼ä¸šç§æœ‰äº‘å¹³å°ï¼Œé€šè¿‡Ooderä¸“å±éƒ¨ç½²å·¥å…·å®ç°æŠ€èƒ½çš„æ‰¹é‡ä¸Šä¼ ã€å¯ç”¨/ç¦ç”¨ä¸ç‰ˆæœ¬è¿­ä»£ï¼Œæ”¯æŒå¤šç»ˆç«¯ç»Ÿä¸€æ¥å…¥ï¼Œä¾¿äºè·¨éƒ¨é—¨æŠ€èƒ½å…±äº«ä¸å…¨å±€ç®¡æ§ï¼Œå…¼é¡¾å®‰å…¨æ€§ä¸å¯æ‰©å±•æ€§ã€‚</li>
<li><strong>æ··åˆéƒ¨ç½²</strong>ï¼šæ ¸å¿ƒä¸šåŠ¡è¡¨å•Skilléƒ¨ç½²äºæœ¬åœ°/ç§æœ‰äº‘ç¯å¢ƒï¼Œé€šç”¨è¾…åŠ©ç±»è¡¨å•Skillï¼ˆå¦‚åŸºç¡€å­—æ®µæ ¡éªŒã€æ ¼å¼è½¬æ¢ï¼‰å¯æ¥å…¥äº‘ç«¯å…¬å…±æŠ€èƒ½åº“ï¼Œé€šè¿‡æƒé™ç®¡æ§å®ç°æŒ‰éœ€è°ƒç”¨ï¼Œå¹³è¡¡æ€§èƒ½ã€å®‰å…¨æ€§ä¸èµ„æºåˆ©ç”¨ç‡ã€‚</li>
<li><strong>é›†ä¸­è¿è¡Œæ–¹å¼</strong>ï¼šé’ˆå¯¹ä¼ä¸šçº§å¤§è§„æ¨¡è¡¨å•åº”ç”¨åœºæ™¯ï¼Œæä¾›Ooder-eformé›†ä¸­ç®¡æ§å¹³å°éƒ¨ç½²æ¨¡å¼ã€‚é€šè¿‡è¯¥å¹³å°å®ç°æ‰€æœ‰è¡¨å•ä¸“ç”¨Skillçš„é›†ä¸­å­˜å‚¨ã€ç»Ÿä¸€è°ƒåº¦ä¸è¿ç»´ç›‘æ§ï¼Œæ”¯æŒæŠ€èƒ½èµ„æºçš„åŠ¨æ€æ‰©å®¹ä¸è´Ÿè½½å‡è¡¡ï¼›å¹³å°å†…ç½®ç»Ÿä¸€çš„æŠ€èƒ½æ³¨å†Œä¸­å¿ƒä¸è°ƒç”¨ç½‘å…³ï¼Œå„ä¸šåŠ¡ç³»ç»Ÿå¯é€šè¿‡æ ‡å‡†åŒ–APIæ¥å…¥ï¼Œå®ç°æŠ€èƒ½çš„é›†ä¸­å¤ç”¨ä¸è§„èŒƒåŒ–ç®¡ç†ï¼Œå¤§å¹…é™ä½åˆ†å¸ƒå¼éƒ¨ç½²çš„ååŒæˆæœ¬ã€‚</li>
</ol>
<h3 data-id="heading-6">ï¼ˆäºŒï¼‰ä¸“æœ‰é›†æˆæ–¹æ¡ˆ</h3>
<ol>
<li><strong>Ooder-RADå·¥å…·é“¾æ·±åº¦é›†æˆ</strong>ï¼šè¡¨å•Skillä½œä¸ºOoder-RADå·¥å…·é“¾çš„æ ¸å¿ƒæ‰©å±•æ¨¡å—ï¼Œä¸æ³¨è§£è§£æå¼•æ“ã€å…¨æ ˆç¼–è¯‘å·¥å…·ã€å®æ—¶é€šä¿¡ç»„ä»¶æ·±åº¦ååŒï¼Œå®ç°è¡¨å•å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²å…¨æµç¨‹è‡ªåŠ¨åŒ–ã€‚</li>
<li><strong>ä¼ä¸šç°æœ‰ç³»ç»Ÿæ— ç¼å¯¹æ¥</strong>ï¼šæä¾›æ ‡å‡†åŒ–APIæ¥å£ä¸é€‚é…å±‚ï¼Œæ”¯æŒä¸ä¼ä¸šCRMã€ERPã€OAç­‰ç°æœ‰ç³»ç»Ÿå¯¹æ¥ï¼Œå¯å°†ç°æœ‰ç³»ç»Ÿä¸­çš„è¡¨å•æ•°æ®ã€ä¸šåŠ¡è§„åˆ™å¿«é€Ÿè¿ç§»è‡³Ooder-eformè¡¨å•Skillä½“ç³»ï¼Œæ— éœ€é‡æ„åŸæœ‰ç³»ç»Ÿæ ¸å¿ƒé€»è¾‘ã€‚</li>
<li><strong>æƒé™ä¸å®‰å…¨ä½“ç³»é›†æˆ</strong>ï¼šé›†æˆä¼ä¸šçº§æƒé™ç®¡æ§æ¨¡å—ï¼Œé‡‡ç”¨Skillæ¸…å•é…ç½®æœºåˆ¶ï¼Œæ”¯æŒåŸºäºè§’è‰²ä¸éƒ¨é—¨çš„Skillè®¿é—®æƒé™ç²¾ç»†åŒ–åˆ†é…ï¼ˆå¦‚å¼€å‘è§’è‰²å¯ç¼–è¾‘æŠ€èƒ½ã€æµ‹è¯•è§’è‰²å¯è°ƒç”¨æŠ€èƒ½ã€æ™®é€šç”¨æˆ·ä»…å¯ä½¿ç”¨è¡¨å•ï¼‰ï¼ŒAgentå¯åŠ¨æ—¶ä»…åŠ è½½æˆæƒèŒƒå›´å†…çš„æŠ€èƒ½å­é›†ï¼Œé¿å…æ•æ„ŸæŠ€èƒ½ï¼ˆå¦‚æ•°æ®æå–ç±»è„šæœ¬ï¼‰æ»¥ç”¨ï¼›æŠ€èƒ½æ‰§è¡Œè¿‡ç¨‹å…¨ç¨‹å¤„äºå®‰å…¨æ²™ç›’ç¯å¢ƒï¼Œè„šæœ¬æ‰§è¡Œç»“æœä»…è¿”å›ç»™AIï¼Œé¿å…ä»£ç æ³„éœ²ä¸æ¶æ„æ‰§è¡Œï¼›ç»“åˆOODERæ¡†æ¶çš„æ³¨è§£æƒé™æ§åˆ¶ï¼Œå¯å¯¹è¡¨å•æ•°æ®æ¥å£è®¿é—®æƒé™è¿›è¡ŒäºŒæ¬¡æ ¡éªŒï¼ŒåŒé‡ä¿éšœç³»ç»Ÿå®‰å…¨ã€‚</li>
<li><strong>å®šåˆ¶åŒ–æŠ€èƒ½å¼€å‘é›†æˆ</strong>ï¼šæä¾›Skillå¼€å‘SDKä¸æ¨¡æ¿ï¼Œæ”¯æŒä¼ä¸šåŸºäºè‡ªèº«ç‹¬ç‰¹è¡¨å•åœºæ™¯ï¼ˆå¦‚é‡‘èé£æ§è¡¨å•ã€æ”¿åŠ¡å®¡æ‰¹è¡¨å•ï¼‰å®šåˆ¶å¼€å‘ä¸“å±Skillï¼ŒSDKåŒ…å«è¡¨å•è¯­ä¹‰è§£æã€æ ·å¼ç”Ÿæˆã€æ•°æ®æ ¡éªŒç­‰æ ¸å¿ƒèƒ½åŠ›ç»„ä»¶ï¼ŒåŠ é€Ÿå®šåˆ¶åŒ–æŠ€èƒ½è½åœ°ã€‚</li>
<li><strong>ä¸ªäººå¼€å‘ç‰ˆæœ¬IDEé›†æˆ</strong>ï¼šä¸ªäººå¼€å‘è€…å¯å°†ooderSkillèƒ½åŠ›åŒ…åœ¨æœ¬åœ°IDEï¼ˆå¦‚IntelliJ IDEAã€Eclipseï¼‰ä¸­å®Œæˆæ³¨å†Œé…ç½®ï¼Œé€šè¿‡å®‰è£…Ooder-eformä¸“å±IDEæ’ä»¶ï¼Œå®ç°æŠ€èƒ½çš„å¿«é€Ÿæ¿€æ´»ã€‚æ³¨å†Œå®Œæˆåï¼Œå¼€å‘è€…å¯ç›´æ¥é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤è°ƒç”¨æŠ€èƒ½èƒ½åŠ›ï¼Œä¾‹å¦‚è¾“å…¥â€œæ ¹æ®ç”¨æˆ·ä¿¡æ¯å…ƒæ•°æ®åˆ›å»ºA2UIè¡¨å•ä»£ç â€â€œå°†æŒ‡å®šHTMLè¡¨å•è½¬æ¢ä¸ºA2UIâ€ç­‰æŒ‡ä»¤ï¼ŒAIå°†è‡ªåŠ¨è§£æéœ€æ±‚å¹¶è§¦å‘å¯¹åº”Skillæ‰§è¡Œï¼Œå¤§å¹…é™ä½ä¸ªäººå¼€å‘é—¨æ§›ã€‚</li>
</ol>
<h2 data-id="heading-7">å››ã€è¡¨å•å…¨æµç¨‹è§£å†³æ–¹æ¡ˆï¼ˆåŸºäºSkillï¼‰</h2>
<p>Ooderè¡¨å•å…¨æµç¨‹è§£å†³æ–¹æ¡ˆä»¥â€œSkill+AI+Ooder-RADâ€ä¸ºæ ¸å¿ƒï¼Œæ„å»ºè¦†ç›–è¡¨å•éœ€æ±‚åˆ†æã€è®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²ã€è¿ç»´å…¨ç”Ÿå‘½å‘¨æœŸçš„è‡ªåŠ¨åŒ–é—­ç¯ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-8">ï¼ˆä¸€ï¼‰éœ€æ±‚è§£æä¸æ¨¡å‹æ„å»º</h3>
<p>AIåŸºäºä¼ä¸šä¸šåŠ¡éœ€æ±‚æ–‡æ¡£ï¼Œç»“åˆSkillä¸­çš„é¢†åŸŸçŸ¥è¯†æ¨¡æ¿ï¼Œè‡ªåŠ¨æ‹†è§£è¡¨å•æ ¸å¿ƒéœ€æ±‚ï¼ˆå¦‚å­—æ®µç±»å‹ã€æ ¡éªŒè§„åˆ™ã€ä¸šåŠ¡å…³è”ï¼‰ï¼Œå¹¶ç”ŸæˆDSMé¢†åŸŸæ¨¡å‹ï¼›Skillè°ƒç”¨Ooderæ³¨è§£è§£æå¼•æ“ï¼Œæå–ç°æœ‰è¡¨å•ï¼ˆè‹¥æœ‰ï¼‰çš„@FormAnnotationæ³¨è§£ä¿¡æ¯ï¼Œæ•´åˆä¸ºæ ‡å‡†åŒ–å…ƒæ•°æ®ï¼Œä¸ºåç»­å¼€å‘æä¾›ç»Ÿä¸€åŸºå‡†ã€‚</p>
<h3 data-id="heading-9">ï¼ˆäºŒï¼‰æ™ºèƒ½è®¾è®¡ä¸æŠ€èƒ½åŒ¹é…</h3>
<p>AIæ ¹æ®DSMæ¨¡å‹ä¸å…ƒæ•°æ®ï¼Œç»“åˆSkillå°è£…çš„A2UIæ ·å¼è§„èŒƒï¼Œè‡ªåŠ¨ç”Ÿæˆè¡¨å•åˆæ­¥è®¾è®¡æ–¹æ¡ˆï¼ˆå«å¸ƒå±€ã€ç»„ä»¶é€‰å‹ã€é…è‰²ï¼‰ï¼›åŒæ—¶åŸºäºéœ€æ±‚åœºæ™¯è‡ªåŠ¨åŒ¹é…æœ€ä¼˜è¡¨å•Skillï¼ˆå¦‚å¤æ‚è¡¨å•åŒ¹é…â€œå¤§è¡¨å•æ‹†åˆ†Skillâ€ï¼Œè·¨ç«¯è¡¨å•åŒ¹é…â€œå¤šç«¯é€‚é…Skillâ€ï¼‰ï¼Œè‹¥æ— åŒ¹é…æŠ€èƒ½åˆ™æ¨èå®šåˆ¶åŒ–å¼€å‘è·¯å¾„ã€‚</p>
<h3 data-id="heading-10">ï¼ˆä¸‰ï¼‰è‡ªåŠ¨åŒ–å¼€å‘ä¸ç”Ÿæˆ</h3>
<p>Skillè§¦å‘æ‰§è¡Œåï¼Œé€šè¿‡å†…ç½®è„šæœ¬å®Œæˆè¡¨å•åˆ†å—é‡æ„ã€å­—æ®µæ˜ å°„ã€æ ·å¼æ³¨å…¥ï¼›AIè¾…åŠ©å®Œæˆä¸šåŠ¡é€»è¾‘æ³¨è§£ç”Ÿæˆï¼ˆå¦‚@DomainTree@CrossEndAdaptï¼‰ï¼Œå¹¶å°†æ³¨è§£å†™å…¥çœŸå®ä»£ç ï¼Œå®ç°æ¨¡å‹ä¸ä»£ç çš„åŒå‘ç»‘å®šï¼ˆä¿®æ”¹æ³¨è§£å³æ›´æ–°æ¨¡å‹ï¼Œè°ƒæ•´ä»£ç å¯åå“ºæ¨¡å‹ï¼‰ã€‚åŒæ—¶é›†æˆOODERè®¾è®¡ç¨¿è§£æå·¥å…·ï¼Œå¯å°†PSã€Figmaè®¾è®¡ç¨¿ç›´æ¥è½¬æ¢ä¸ºç»„ä»¶å±æ€§é…ç½®åŠ@Styleæ³¨è§£å‚æ•°ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™æ ·å¼ä»£ç ï¼›é€šè¿‡ooder api-genå‘½ä»¤ï¼Œè¿˜èƒ½æ ¹æ®å‰ç«¯ç»„ä»¶çš„@ApiBindæ³¨è§£è‡ªåŠ¨ç”Ÿæˆå«@Apiã€@RequestParamç­‰åç«¯æ³¨è§£çš„Java/Node.jsæ¥å£æ¨¡æ¿ï¼Œè¿›ä¸€æ­¥æå‡å…¨æ ˆå¼€å‘æ•ˆç‡ã€‚æ”¯æŒRADè®¾è®¡å™¨å¯è§†åŒ–æ‹–æ‹½ä¼˜åŒ–ï¼Œç”Ÿæˆçš„ä»£ç å…·å¤‡é«˜å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ï¼Œå¯ç›´æ¥å¤ç”¨ï¼Œæ— éœ€äººå·¥äºŒæ¬¡ç¼–å†™ã€‚</p>
<h3 data-id="heading-11">ï¼ˆå››ï¼‰æ™ºèƒ½æµ‹è¯•ä¸æ ¡éªŒ</h3>
<p>è°ƒç”¨è¡¨å•æµ‹è¯•ä¸“ç”¨Skillï¼Œè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼ˆå«æ­£å¸¸è¾“å…¥ã€è¾¹ç•Œå€¼ã€å¼‚å¸¸åœºæ™¯ï¼‰ï¼›AIå¤šæ™ºèƒ½ä½“æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼Œå®Œæˆè¡¨å•åŠŸèƒ½æµ‹è¯•ã€å…¼å®¹æ€§æµ‹è¯•ï¼ˆå¤šç«¯ã€å¤šæµè§ˆå™¨ï¼‰ã€æ€§èƒ½æµ‹è¯•ï¼›Skillå†…ç½®æ ¡éªŒè§„åˆ™ï¼Œå¯¹æµ‹è¯•ç»“æœè¿›è¡Œè‡ªåŠ¨åˆ†æï¼Œç”Ÿæˆé—®é¢˜æŠ¥å‘Šå¹¶æä¾›ä¿®å¤å»ºè®®ã€‚</p>
<h3 data-id="heading-12">ï¼ˆäº”ï¼‰ä¸€é”®éƒ¨ç½²ä¸è¿ç»´ç›‘æ§</h3>
<p>é€šè¿‡Ooderéƒ¨ç½²å·¥å…·ä¸€é”®å®Œæˆè¡¨å•ä¸Šçº¿éƒ¨ç½²ï¼Œæ”¯æŒæœ¬åœ°/ç§æœ‰äº‘/æ··åˆéƒ¨ç½²æ¨¡å¼çš„çµæ´»åˆ‡æ¢ï¼›è¿ç»´é˜¶æ®µï¼ŒSkillå®æ—¶ç›‘æ§è¡¨å•è¿è¡ŒçŠ¶æ€ï¼ˆå¦‚åŠ è½½é€Ÿåº¦ã€æŠ¥é”™é¢‘ç‡ã€ç”¨æˆ·äº¤äº’æ•°æ®ï¼‰ï¼ŒAIåŸºäºç›‘æ§æ•°æ®è‡ªåŠ¨ä¼˜åŒ–è¡¨å•æ€§èƒ½ï¼ˆå¦‚è°ƒæ•´ç»„ä»¶æ¸²æŸ“é¡ºåºï¼‰ï¼Œå¹¶å¯¹æ½œåœ¨é—®é¢˜æå‰é¢„è­¦ï¼Œå®ç°ä¸»åŠ¨è¿ç»´ã€‚</p>
<h2 data-id="heading-13">äº”ã€Ooderç‹¬ç‰¹çš„æŠ€æœ¯ä¼˜åŠ¿</h2>
<h3 data-id="heading-14">ï¼ˆä¸€ï¼‰AIä¸æŠ€èƒ½çš„ç²¾å¯†ååŒæœºåˆ¶</h3>
<p>åŒºåˆ«äºä¼ ç»ŸSkillçš„æœºæ¢°æ‰§è¡Œæ¨¡å¼ï¼ŒOoderå®ç°Skillâ€œæµç¨‹æ ‡å‡†åŒ–â€ä¸AIâ€œæ™ºèƒ½å†³ç­–â€çš„æ·±åº¦ç»‘å®šï¼šAIåŸºäºDSMé¢†åŸŸæ¨¡å‹çŸ¥è¯†åº“ä¼˜åŒ–è¡¨å•åˆ†å—é€»è¾‘ï¼Œé¿å…â€œä¸€åˆ€åˆ‡â€æ‹†åˆ†ï¼›é€šè¿‡å“ç‰Œç´ æè§£æç”Ÿæˆä¸ªæ€§åŒ–æ ·å¼ï¼Œè§£å†³åŒè´¨åŒ–é—®é¢˜ï¼›å®æ—¶ç›‘æ§æŠ€èƒ½æ‰§è¡Œè¿‡ç¨‹ï¼Œè‡ªåŠ¨å¤„ç†éæ ‡å‡†ä»£ç é€‚é…ï¼Œå¤§å¹…æå‡è¡¨å•å¤„ç†çš„çµæ´»æ€§ä¸å®¹é”™æ€§ã€‚</p>
<h3 data-id="heading-15">ï¼ˆäºŒï¼‰æ³¨è§£é©±åŠ¨çš„å…¨æ ˆååŒä½“ç³»</h3>
<p>ä»¥â€œä»£ç å³æ¨¡å‹ã€æ¨¡å‹å³ä»£ç â€ä¸ºæ ¸å¿ƒï¼Œä¾æ‰˜OODERæ¡†æ¶ä¸“å±çš„â€œå››ç»Ÿä¸€â€è§„èŒƒï¼ˆæ ·å¼ã€æ¨¡æ¿ã€è¡Œä¸ºã€æ•°æ®å®Œå…¨åˆ†ç¦»ï¼‰æ„å»ºæ³¨è§£é©±åŠ¨ä½“ç³»ï¼Œè¿™æ˜¯ä¸“ä¸ºAIç†è§£è®¾è®¡çš„æ ¸å¿ƒè§„åˆ™ï¼Œå½»åº•è§£å†³ä¼ ç»Ÿæ¡†æ¶ä¸­å„è¦ç´ æ··æ‚å¯¼è‡´AIè§£æéš¾åº¦å¤§çš„ç—›ç‚¹ã€‚é€šè¿‡è‡ªå®šä¹‰æ³¨è§£ä½“ç³»å°†DSMæ¨¡å‹ã€A2UIé…ç½®ç›´æ¥å†™å…¥çœŸå®ä»£ç ï¼Œå®ç°æ¨¡æ¿ç»Ÿä¸€ï¼ˆHTMLç»“æ„JSONå®šä¹‰ï¼ŒAIå¯ç›´æ¥è§£æèŠ‚ç‚¹å…³ç³»ï¼‰ã€æ ·å¼ç»Ÿä¸€ï¼ˆCSSæ ·å¼å¯¹è±¡åŒ–å®šä¹‰ï¼Œæ”¯æŒ@Styleæ³¨è§£é…ç½®ï¼‰ã€è¡Œä¸ºç»Ÿä¸€ï¼ˆç»„ä»¶æ–¹æ³•äº‹ä»¶é›†ä¸­ç®¡ç†ï¼Œé€šè¿‡@EventBindæ³¨è§£ç»‘å®šäº¤äº’é€»è¾‘ï¼‰ã€æ•°æ®ç»Ÿä¸€ï¼ˆæ•°æ®æºå®šä¹‰ä¸æ˜ å°„é€šè¿‡@DataMappingæ³¨è§£å®ç°ï¼‰ã€‚AIå¯åŸºäºæ˜ç¡®è§„èŒƒè§£æå„éƒ¨åˆ†å…³è”ï¼Œæ— éœ€çŒœæµ‹éšå¼é€»è¾‘ï¼Œè§£ææ­£ç¡®ç‡ä»ä¼ ç»Ÿæ¡†æ¶çš„85%æå‡è‡³98%ï¼Œä¸”è¾…åŠ©ç”Ÿæˆç»“æ„åŒ–æ³¨è§£å¹¶æ ¡éªŒä¾èµ–å…³ç³»ï¼Œæ¶æ„å‡çº§è¿‡ç¨‹ä¸­ä¸ç ´ååŸæœ‰åŠŸèƒ½ï¼Œè¿­ä»£æ•ˆç‡æå‡10å€ä»¥ä¸Šã€‚åŒæ—¶ï¼Œå‰ç«¯ç»„ä»¶å¯é€šè¿‡@ApiBindæ³¨è§£ç›´æ¥ç»‘å®šåç«¯æ¥å£ï¼Œæ¡†æ¶è‡ªåŠ¨å®Œæˆæ•°æ®è¯·æ±‚ã€å“åº”è§£æä¸ç»„ä»¶æ›´æ–°é—­ç¯ï¼Œå®ç°å‰åç«¯æ— ç¼è¡”æ¥ã€‚</p>
<h3 data-id="heading-16">ï¼ˆä¸‰ï¼‰å…¨ç«¯è´¯é€šçš„è‡ªæ²»UIä½“ç³»</h3>
<p>åŸºäºA2UIå£°æ˜å¼UIåè®®æ„å»ºè‡ªæ²»UIä½“ç³»ï¼Œç»„ä»¶è‡ªæˆ‘ç®¡ç†çŠ¶æ€ã€è¡Œä¸ºä¸æ¸²æŸ“é€»è¾‘ï¼Œå®ç°UIä¸ä¸šåŠ¡é€»è¾‘è§£è€¦ï¼›ç»“åˆAIè·¨ç«¯å¼€å‘æŠ€æœ¯ï¼Œå°†A2UIå…ƒæ•°æ®è‡ªåŠ¨è½¬æ¢ä¸ºWebã€iOSã€AndroidåŸç”Ÿä»£ç ï¼Œä¸‰ç«¯åŠŸèƒ½åŒæ­¥è¿­ä»£å‘¨æœŸä»1ä¸ªæœˆå‹ç¼©è‡³2å‘¨ï¼Œå¼€å‘æ•ˆç‡æå‡45%ï¼Œä¸”ä¿éšœå„ç«¯ä½“éªŒä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-17">ï¼ˆå››ï¼‰å·¥ç¨‹åŒ–å¯æ§çš„ä½ä»£ç æ¶æ„</h3>
<p>åšå®ˆâ€œä»¥çœŸå®ä»£ç ä¸ºå”¯ä¸€å¯ä¿¡æºâ€ï¼ŒåŒºåˆ«äºçº¯å¯è§†åŒ–æ‹–æ‹½çš„ä½ä»£ç å¹³å°ï¼ŒOoderæ—¢ä¿ç•™RADè®¾è®¡å™¨çš„ä¾¿æ·æ€§ï¼Œåˆæ”¯æŒä»£ç å±‚é¢çš„æ·±åº¦å®šåˆ¶ï¼Œç”Ÿæˆçš„ä»£ç å…·å¤‡é«˜å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚Skillä¸Ooder-RADå·¥å…·é“¾çš„æ·±åº¦æ•´åˆï¼Œå®ç°è¡¨å•å¼€å‘çš„å·¥ç¨‹åŒ–ç®¡æ§ï¼Œå…¼é¡¾é«˜æ•ˆå¼€å‘ä¸ä¼ä¸šçº§ç³»ç»Ÿçš„ç¨³å®šæ€§ã€å®‰å…¨æ€§éœ€æ±‚ã€‚</p>
<h3 data-id="heading-18">ï¼ˆäº”ï¼‰å¼€æ”¾å…¼å®¹çš„ç”Ÿæ€åŒ–æ‰©å±•èƒ½åŠ›</h3>
<p>éµå¾ªAnthropic Agent Skillså¼€æ”¾æ ‡å‡†ï¼Œæ”¯æŒæ¥å…¥ç¤¾åŒºæˆ–å®˜æ–¹æä¾›çš„é€šç”¨æŠ€èƒ½åŒ…ï¼ŒåŒæ—¶é€šè¿‡SDKä¸æ ‡å‡†åŒ–æ¥å£ï¼Œæ”¯æŒä¼ä¸šå®šåˆ¶åŒ–æŠ€èƒ½å¼€å‘ä¸ç°æœ‰ç³»ç»Ÿé›†æˆã€‚åŠ å…¥Agentic AIè”ç›Ÿå…±å»ºæŠ€èƒ½æ ‡å‡†ï¼Œä¿éšœæŠ€èƒ½çš„è·¨å¹³å°å…¼å®¹æ€§ï¼Œä¸ºä¼ä¸šè¡¨å•åœºæ™¯æä¾›æŒç»­çš„æŠ€æœ¯å‡çº§ä¸ç”Ÿæ€æ”¯æŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨Swarmä¸­éƒ¨ç½²Nacoså¹¶é…ç½®å¤–éƒ¨MySQL]]></title>    <link>https://juejin.cn/post/7594309641867591718</link>    <guid>https://juejin.cn/post/7594309641867591718</guid>    <pubDate>2026-01-12T22:21:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594309641867591718" data-draft-id="7594337566721605642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨Swarmä¸­éƒ¨ç½²Nacoså¹¶é…ç½®å¤–éƒ¨MySQL"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T22:21:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒ½å«æˆ‘å¤§å¸…å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/3956505282886506"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨Swarmä¸­éƒ¨ç½²Nacoså¹¶é…ç½®å¤–éƒ¨MySQL
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3956505282886506/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒ½å«æˆ‘å¤§å¸…å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T22:21:36.000Z" title="Mon Jan 12 2026 22:21:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åœ¨Swarmä¸­éƒ¨ç½²Nacoså¹¶é…ç½®å¤–éƒ¨MySQL</h2>
<h3 data-id="heading-1">1. é¡¹ç›®ç»“æ„è°ƒæ•´</h3>
<pre><code class="hljs language-csharp" lang="csharp">project/
â”œâ”€â”€ docker-stack.yml          <span class="hljs-meta"># Swarmä¸»é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ .env                      <span class="hljs-meta"># ç¯å¢ƒå˜é‡æ–‡ä»¶</span>
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ mysql-<span class="hljs-keyword">init</span>/
â”‚   â”‚   â”œâ”€â”€ <span class="hljs-keyword">init</span>.sql         <span class="hljs-meta"># MySQLåˆå§‹åŒ–è„šæœ¬</span>
â”‚   â”‚   â””â”€â”€ nacos-schema.sql <span class="hljs-meta"># Nacosæ•°æ®åº“è„šæœ¬</span>
â”‚   â”œâ”€â”€ nacos/
â”‚   â”‚   â”œâ”€â”€ cluster.conf     <span class="hljs-meta"># Nacosé›†ç¾¤é…ç½®ï¼ˆå¯é€‰ï¼‰</span>
â”‚   â”‚   â””â”€â”€ application.properties <span class="hljs-meta"># Nacosè‡ªå®šä¹‰é…ç½®</span>
â”‚   â””â”€â”€ nginx/
â”‚       â””â”€â”€ nginx.conf       <span class="hljs-meta"># å¦‚æœéœ€è¦nginxä»£ç†</span>
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ nacos/
â”‚   â””â”€â”€ nginx/
â””â”€â”€ data/
    â”œâ”€â”€ mysql/
    â”œâ”€â”€ redis/
    â”œâ”€â”€ app-data/
    â””â”€â”€ nacos/
        â”œâ”€â”€ conf/            <span class="hljs-meta"># Nacosé…ç½®æ–‡ä»¶</span>
        â”œâ”€â”€ data/            <span class="hljs-meta"># Nacosæ•°æ®</span>
        â””â”€â”€ logs/            <span class="hljs-meta"># Nacosæ—¥å¿—</span>
</code></pre>
<h3 data-id="heading-2">2. Nacosæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬</h3>
<h4 data-id="heading-3"><code>config/mysql-init/nacos-schema.sql</code></h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºNacosæ•°æ®åº“</span>
<span class="hljs-keyword">CREATE</span> DATABASE IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> nacos <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb4 <span class="hljs-keyword">COLLATE</span> utf8mb4_unicode_ci;

<span class="hljs-comment">-- ä½¿ç”¨Nacosæ•°æ®åº“</span>
USE nacos;

<span class="hljs-comment">-- åˆ›å»ºNacosé…ç½®è¡¨</span>
<span class="hljs-comment">-- æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨Nacoså®˜æ–¹æä¾›çš„SQLè„šæœ¬ï¼Œæ‚¨éœ€è¦ä»ä»¥ä¸‹åœ°å€ä¸‹è½½ï¼š</span>
<span class="hljs-comment">-- https://github.com/alibaba/nacos/blob/master/distribution/conf/mysql-schema.sql</span>
<span class="hljs-comment">-- è¿™é‡Œæ˜¯ä¸€ä¸ªç®€åŒ–çš„ç¤ºä¾‹ï¼Œå®é™…ä½¿ç”¨æ—¶è¯·ä½¿ç”¨å®˜æ–¹å®Œæ•´è„šæœ¬</span>

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> `config_info` (
  `id` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="hljs-string">'id'</span>,
  `data_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'data_id'</span>,
  `group_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `content` longtext <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'content'</span>,
  `md5` <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'md5'</span>,
  `gmt_create` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  `gmt_modified` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'ä¿®æ”¹æ—¶é—´'</span>,
  `src_user` text COMMENT <span class="hljs-string">'source user'</span>,
  `src_ip` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'source ip'</span>,
  `app_name` <span class="hljs-type">varchar</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `tenant_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span> COMMENT <span class="hljs-string">'ç§Ÿæˆ·å­—æ®µ'</span>,
  `c_desc` <span class="hljs-type">varchar</span>(<span class="hljs-number">256</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `c_use` <span class="hljs-type">varchar</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `effect` <span class="hljs-type">varchar</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `type` <span class="hljs-type">varchar</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `c_schema` text,
  <span class="hljs-keyword">PRIMARY</span> KEY (`id`),
  <span class="hljs-keyword">UNIQUE</span> KEY `uk_configinfo_datagrouptenant` (`data_id`,`group_id`,`tenant_id`)
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8 <span class="hljs-keyword">COLLATE</span><span class="hljs-operator">=</span>utf8_bin COMMENT<span class="hljs-operator">=</span><span class="hljs-string">'config_info'</span>;

<span class="hljs-comment">-- å…¶ä»–è¡¨ç»“æ„è¯·ä»å®˜æ–¹GitHubè·å–å®Œæ•´SQL</span>
</code></pre>
<h4 data-id="heading-4"><code>config/mysql-init/init.sql</code></h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº”ç”¨æ•°æ®åº“</span>
<span class="hljs-keyword">CREATE</span> DATABASE IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> appdb <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb4 <span class="hljs-keyword">COLLATE</span> utf8mb4_unicode_ci;

<span class="hljs-comment">-- åˆ›å»ºåº”ç”¨ç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> <span class="hljs-string">'appuser'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'${MYSQL_PASSWORD}'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> appdb.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'appuser'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- åˆ›å»ºNacosç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> <span class="hljs-string">'nacos'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'${NACOS_DB_PASSWORD}'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> nacos.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'nacos'</span>@<span class="hljs-string">'%'</span>;

FLUSH PRIVILEGES;
</code></pre>
<h3 data-id="heading-5">3. Nacosè‡ªå®šä¹‰é…ç½®</h3>
<h4 data-id="heading-6"><code>config/nacos/application.properties</code></h4>
<pre><code class="hljs language-properties" lang="properties"># æ•°æ®åº“é…ç½®
spring.datasource.platform=mysql
db.num=1
db.url.0=jdbc:mysql://mysql:3306/nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=UTC
db.user=nacos
db.password=${NACOS_DB_PASSWORD}

# é›†ç¾¤é…ç½®ï¼ˆå•æœºæ¨¡å¼ï¼‰
nacos.standalone=true

# é‰´æƒé…ç½®ï¼ˆå¯é€‰ï¼‰
nacos.core.auth.enabled=false
nacos.core.auth.server.identity.key=serverIdentity
nacos.core.auth.server.identity.value=security

# æœåŠ¡å‘ç°é…ç½®
nacos.naming.empty-service.auto-clean=true
nacos.naming.empty-service.clean.initial-delay-ms=50000
nacos.naming.empty-service.clean.period-time-ms=30000

# æ—¥å¿—é…ç½®
server.tomcat.accesslog.enabled=true
server.tomcat.accesslog.pattern=%h %l %u %t "%r" %s %b %D
logging.file.path=/home/nacos/logs
logging.level.com.alibaba.nacos=info
</code></pre>
<h4 data-id="heading-7"><code>config/nacos/cluster.conf</code>ï¼ˆé›†ç¾¤æ¨¡å¼å¯é€‰ï¼‰</h4>
<pre><code class="hljs language-conf" lang="conf"># Nacosé›†ç¾¤èŠ‚ç‚¹é…ç½®
nacos1:8848
nacos2:8848
nacos3:8848
</code></pre>
<h3 data-id="heading-8">4. <code>docker-stack.yml</code></h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>

<span class="hljs-comment"># å®šä¹‰ç½‘ç»œ</span>
<span class="hljs-attr">networks:</span>
  <span class="hljs-attr">backend:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">overlay</span>
    <span class="hljs-attr">attachable:</span> <span class="hljs-literal">true</span>

<span class="hljs-comment"># å®šä¹‰é…ç½®</span>
<span class="hljs-attr">configs:</span>
  <span class="hljs-comment"># Nacosé…ç½®</span>
  <span class="hljs-attr">nacos-config:</span>
    <span class="hljs-attr">file:</span> <span class="hljs-string">./config/nacos/application.properties</span>
  <span class="hljs-comment"># åº”ç”¨é…ç½®ï¼ˆå¯é€‰ï¼‰</span>
  <span class="hljs-attr">app-config:</span>
    <span class="hljs-attr">file:</span> <span class="hljs-string">./config/application.yml</span>

<span class="hljs-comment"># å®šä¹‰å·</span>
<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">mysql-data:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span>
    <span class="hljs-attr">driver_opts:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">none</span>
      <span class="hljs-attr">o:</span> <span class="hljs-string">bind</span>
      <span class="hljs-attr">device:</span> <span class="hljs-string">./data/mysql</span>
  
  <span class="hljs-attr">redis-data:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span>
    <span class="hljs-attr">driver_opts:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">none</span>
      <span class="hljs-attr">o:</span> <span class="hljs-string">bind</span>
      <span class="hljs-attr">device:</span> <span class="hljs-string">./data/redis</span>
  
  <span class="hljs-attr">nacos-conf:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span>
    <span class="hljs-attr">driver_opts:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">none</span>
      <span class="hljs-attr">o:</span> <span class="hljs-string">bind</span>
      <span class="hljs-attr">device:</span> <span class="hljs-string">./data/nacos/conf</span>
  
  <span class="hljs-attr">nacos-data:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span>
    <span class="hljs-attr">driver_opts:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">none</span>
      <span class="hljs-attr">o:</span> <span class="hljs-string">bind</span>
      <span class="hljs-attr">device:</span> <span class="hljs-string">./data/nacos/data</span>
  
  <span class="hljs-attr">nacos-logs:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span>
    <span class="hljs-attr">driver_opts:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">none</span>
      <span class="hljs-attr">o:</span> <span class="hljs-string">bind</span>
      <span class="hljs-attr">device:</span> <span class="hljs-string">./data/nacos/logs</span>
  
  <span class="hljs-attr">app-logs:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span>
    <span class="hljs-attr">driver_opts:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">none</span>
      <span class="hljs-attr">o:</span> <span class="hljs-string">bind</span>
      <span class="hljs-attr">device:</span> <span class="hljs-string">./logs/app</span>
  
  <span class="hljs-attr">app-data:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span>
    <span class="hljs-attr">driver_opts:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">none</span>
      <span class="hljs-attr">o:</span> <span class="hljs-string">bind</span>
      <span class="hljs-attr">device:</span> <span class="hljs-string">./data/app-data</span>

<span class="hljs-comment"># å®šä¹‰æœåŠ¡</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-comment"># MySQLæœåŠ¡</span>
  <span class="hljs-attr">mysql:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">mysql:8.0</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">mysql</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">${MYSQL_ROOT_PASSWORD}</span>
      <span class="hljs-attr">MYSQL_DATABASE:</span> <span class="hljs-string">${MYSQL_DATABASE}</span>
      <span class="hljs-attr">MYSQL_USER:</span> <span class="hljs-string">${MYSQL_USER}</span>
      <span class="hljs-attr">MYSQL_PASSWORD:</span> <span class="hljs-string">${MYSQL_PASSWORD}</span>
      <span class="hljs-attr">TZ:</span> <span class="hljs-string">Asia/Shanghai</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mysql-data:/var/lib/mysql</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/mysql-init:/docker-entrypoint-initdb.d</span>  <span class="hljs-comment"># åˆå§‹åŒ–è„šæœ¬</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3306:3306"</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">backend</span>
    <span class="hljs-attr">healthcheck:</span>
      <span class="hljs-attr">test:</span> [<span class="hljs-string">"CMD"</span>, <span class="hljs-string">"mysqladmin"</span>, <span class="hljs-string">"ping"</span>, <span class="hljs-string">"-h"</span>, <span class="hljs-string">"localhost"</span>, <span class="hljs-string">"-u"</span>, <span class="hljs-string">"root"</span>, <span class="hljs-string">"-p$$MYSQL_ROOT_PASSWORD"</span>]
      <span class="hljs-attr">interval:</span> <span class="hljs-string">10s</span>
      <span class="hljs-attr">timeout:</span> <span class="hljs-string">5s</span>
      <span class="hljs-attr">retries:</span> <span class="hljs-number">3</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">mode:</span> <span class="hljs-string">replicated</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">placement:</span>
        <span class="hljs-attr">constraints:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">node.role</span> <span class="hljs-string">==</span> <span class="hljs-string">manager</span>

  <span class="hljs-comment"># RedisæœåŠ¡</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">redis:7-alpine</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">redis</span>
    <span class="hljs-attr">command:</span> <span class="hljs-string">redis-server</span> <span class="hljs-string">--appendonly</span> <span class="hljs-literal">yes</span> <span class="hljs-string">--requirepass</span> <span class="hljs-string">${REDIS_PASSWORD}</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">redis-data:/data</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"6379:6379"</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">backend</span>
    <span class="hljs-attr">healthcheck:</span>
      <span class="hljs-attr">test:</span> [<span class="hljs-string">"CMD"</span>, <span class="hljs-string">"redis-cli"</span>, <span class="hljs-string">"-a"</span>, <span class="hljs-string">"${REDIS_PASSWORD}"</span>, <span class="hljs-string">"ping"</span>]
      <span class="hljs-attr">interval:</span> <span class="hljs-string">10s</span>
      <span class="hljs-attr">timeout:</span> <span class="hljs-string">3s</span>
      <span class="hljs-attr">retries:</span> <span class="hljs-number">3</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">mode:</span> <span class="hljs-string">replicated</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>

  <span class="hljs-comment"># NacosæœåŠ¡</span>
  <span class="hljs-attr">nacos:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">nacos/nacos-server:${NACOS_VERSION:-2.2.0}</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">nacos</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">MODE:</span> <span class="hljs-string">${NACOS_MODE:-standalone}</span>  <span class="hljs-comment"># standalone æˆ– cluster</span>
      <span class="hljs-attr">SPRING_DATASOURCE_PLATFORM:</span> <span class="hljs-string">mysql</span>
      <span class="hljs-attr">MYSQL_SERVICE_HOST:</span> <span class="hljs-string">mysql</span>
      <span class="hljs-attr">MYSQL_SERVICE_PORT:</span> <span class="hljs-number">3306</span>
      <span class="hljs-attr">MYSQL_SERVICE_DB_NAME:</span> <span class="hljs-string">nacos</span>
      <span class="hljs-attr">MYSQL_SERVICE_USER:</span> <span class="hljs-string">nacos</span>
      <span class="hljs-attr">MYSQL_SERVICE_PASSWORD:</span> <span class="hljs-string">${NACOS_DB_PASSWORD}</span>
      <span class="hljs-attr">NACOS_AUTH_ENABLE:</span> <span class="hljs-string">${NACOS_AUTH_ENABLE:-false}</span>
      <span class="hljs-attr">NACOS_AUTH_TOKEN:</span> <span class="hljs-string">${NACOS_AUTH_TOKEN:-SecretKey012345678901234567890123456789012345678901234567890123456789}</span>
      <span class="hljs-attr">NACOS_AUTH_IDENTITY_KEY:</span> <span class="hljs-string">${NACOS_AUTH_IDENTITY_KEY:-serverIdentity}</span>
      <span class="hljs-attr">NACOS_AUTH_IDENTITY_VALUE:</span> <span class="hljs-string">${NACOS_AUTH_IDENTITY_VALUE:-security}</span>
      <span class="hljs-attr">JVM_XMS:</span> <span class="hljs-string">${NACOS_JVM_XMS:-512m}</span>
      <span class="hljs-attr">JVM_XMX:</span> <span class="hljs-string">${NACOS_JVM_XMX:-512m}</span>
      <span class="hljs-attr">JVM_XMN:</span> <span class="hljs-string">${NACOS_JVM_XMN:-256m}</span>
      <span class="hljs-attr">TZ:</span> <span class="hljs-string">Asia/Shanghai</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">nacos-conf:/home/nacos/conf</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">nacos-data:/home/nacos/data</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">nacos-logs:/home/nacos/logs</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"${NACOS_PORT:-8848}:8848"</span>  <span class="hljs-comment"># ä¸»ç«¯å£</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"${NACOS_PORT_GRPC:-9848}:9848"</span>  <span class="hljs-comment"># gRPCç«¯å£ï¼Œç”¨äºæœåŠ¡å‘ç°</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"${NACOS_PORT_GRPC_PLUS:-9849}:9849"</span>  <span class="hljs-comment"># gRPCç«¯å£+1000</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">backend</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-attr">mysql:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">service_healthy</span>
    <span class="hljs-attr">configs:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">source:</span> <span class="hljs-string">nacos-config</span>
        <span class="hljs-attr">target:</span> <span class="hljs-string">/home/nacos/conf/application.properties</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">mode:</span> <span class="hljs-string">replicated</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-string">${NACOS_REPLICAS:-1}</span>
      <span class="hljs-attr">update_config:</span>
        <span class="hljs-attr">parallelism:</span> <span class="hljs-number">1</span>
        <span class="hljs-attr">delay:</span> <span class="hljs-string">10s</span>
        <span class="hljs-attr">order:</span> <span class="hljs-string">start-first</span>
      <span class="hljs-attr">restart_policy:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">on-failure</span>
        <span class="hljs-attr">delay:</span> <span class="hljs-string">10s</span>
        <span class="hljs-attr">max_attempts:</span> <span class="hljs-number">3</span>
      <span class="hljs-attr">resources:</span>
        <span class="hljs-attr">limits:</span>
          <span class="hljs-attr">memory:</span> <span class="hljs-string">1G</span>
        <span class="hljs-attr">reservations:</span>
          <span class="hljs-attr">memory:</span> <span class="hljs-string">512M</span>
      <span class="hljs-attr">placement:</span>
        <span class="hljs-attr">constraints:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">node.labels.nacos</span> <span class="hljs-string">==</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># å¯ä»¥ç»™èŠ‚ç‚¹æ‰“æ ‡ç­¾</span>
    <span class="hljs-attr">healthcheck:</span>
      <span class="hljs-attr">test:</span> [<span class="hljs-string">"CMD"</span>, <span class="hljs-string">"curl"</span>, <span class="hljs-string">"-f"</span>, <span class="hljs-string">"http://localhost:8848/nacos/v1/ns/operator/metrics"</span>]
      <span class="hljs-attr">interval:</span> <span class="hljs-string">30s</span>
      <span class="hljs-attr">timeout:</span> <span class="hljs-string">10s</span>
      <span class="hljs-attr">retries:</span> <span class="hljs-number">3</span>
      <span class="hljs-attr">start_period:</span> <span class="hljs-string">60s</span>

  <span class="hljs-comment"># Spring Bootåº”ç”¨</span>
  <span class="hljs-attr">app:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">${APP_IMAGE}</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">app</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">SPRING_PROFILES_ACTIVE:</span> <span class="hljs-string">${SPRING_PROFILE:-prod}</span>
      <span class="hljs-attr">SPRING_CLOUD_NACOS_DISCOVERY_SERVER-ADDR:</span> <span class="hljs-string">nacos:8848</span>
      <span class="hljs-attr">SPRING_CLOUD_NACOS_CONFIG_SERVER-ADDR:</span> <span class="hljs-string">nacos:8848</span>
      <span class="hljs-attr">SPRING_CLOUD_NACOS_USERNAME:</span> <span class="hljs-string">${NACOS_USERNAME:-nacos}</span>
      <span class="hljs-attr">SPRING_CLOUD_NACOS_PASSWORD:</span> <span class="hljs-string">${NACOS_PASSWORD:-nacos}</span>
      <span class="hljs-attr">SPRING_DATASOURCE_URL:</span> <span class="hljs-string">jdbc:mysql://mysql:3306/${MYSQL_DATABASE}?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Asia/Shanghai</span>
      <span class="hljs-attr">SPRING_DATASOURCE_USERNAME:</span> <span class="hljs-string">${MYSQL_USER}</span>
      <span class="hljs-attr">SPRING_DATASOURCE_PASSWORD:</span> <span class="hljs-string">${MYSQL_PASSWORD}</span>
      <span class="hljs-attr">SPRING_REDIS_HOST:</span> <span class="hljs-string">redis</span>
      <span class="hljs-attr">SPRING_REDIS_PORT:</span> <span class="hljs-number">6379</span>
      <span class="hljs-attr">SPRING_REDIS_PASSWORD:</span> <span class="hljs-string">${REDIS_PASSWORD}</span>
      <span class="hljs-attr">JAVA_OPTS:</span> <span class="hljs-string">"-Xmx512m -Xms256m -Duser.timezone=Asia/Shanghai"</span>
      <span class="hljs-attr">TZ:</span> <span class="hljs-string">Asia/Shanghai</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-logs:/app/logs</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-data:/app/data</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"${APP_PORT:-8080}:8080"</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">backend</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-attr">mysql:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">service_healthy</span>
      <span class="hljs-attr">redis:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">service_healthy</span>
      <span class="hljs-attr">nacos:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">service_healthy</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">mode:</span> <span class="hljs-string">replicated</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-string">${REPLICAS:-2}</span>
      <span class="hljs-attr">update_config:</span>
        <span class="hljs-attr">parallelism:</span> <span class="hljs-number">1</span>
        <span class="hljs-attr">delay:</span> <span class="hljs-string">10s</span>
        <span class="hljs-attr">order:</span> <span class="hljs-string">start-first</span>
      <span class="hljs-attr">restart_policy:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">on-failure</span>
        <span class="hljs-attr">delay:</span> <span class="hljs-string">10s</span>
        <span class="hljs-attr">max_attempts:</span> <span class="hljs-number">3</span>
      <span class="hljs-attr">resources:</span>
        <span class="hljs-attr">limits:</span>
          <span class="hljs-attr">memory:</span> <span class="hljs-string">1G</span>
        <span class="hljs-attr">reservations:</span>
          <span class="hljs-attr">memory:</span> <span class="hljs-string">512M</span>
    <span class="hljs-attr">healthcheck:</span>
      <span class="hljs-attr">test:</span> [<span class="hljs-string">"CMD"</span>, <span class="hljs-string">"curl"</span>, <span class="hljs-string">"-f"</span>, <span class="hljs-string">"http://localhost:8080/actuator/health"</span>]
      <span class="hljs-attr">interval:</span> <span class="hljs-string">30s</span>
      <span class="hljs-attr">timeout:</span> <span class="hljs-string">10s</span>
      <span class="hljs-attr">retries:</span> <span class="hljs-number">3</span>
      <span class="hljs-attr">start_period:</span> <span class="hljs-string">40s</span>

  <span class="hljs-comment"># Nginxåå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰</span>
  <span class="hljs-attr">nginx:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx:alpine</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">nginx</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"80:80"</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"443:443"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./logs/nginx:/var/log/nginx</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./ssl:/etc/nginx/ssl:ro</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">backend</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">nacos</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">mode:</span> <span class="hljs-string">replicated</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
</code></pre>
<h3 data-id="heading-9">5. <code>.env</code> æ–‡ä»¶</h3>
<pre><code class="hljs language-env" lang="env"># MySQLé…ç½®
MYSQL_ROOT_PASSWORD=YourStrongRootPassword
MYSQL_DATABASE=appdb
MYSQL_USER=appuser
MYSQL_PASSWORD=YourStrongAppPassword

# Redisé…ç½®
REDIS_PASSWORD=YourStrongRedisPassword

# Nacosé…ç½®
NACOS_VERSION=2.2.0
NACOS_MODE=standalone
NACOS_DB_PASSWORD=YourStrongNacosDbPassword
NACOS_AUTH_ENABLE=false
NACOS_AUTH_TOKEN=SecretKey012345678901234567890123456789012345678901234567890123456789
NACOS_USERNAME=nacos
NACOS_PASSWORD=nacos
NACOS_PORT=8848
NACOS_PORT_GRPC=9848
NACOS_REPLICAS=1

# åº”ç”¨é…ç½®
APP_IMAGE=your-registry/springboot-app:1.0.0
APP_PORT=8080
SPRING_PROFILE=prod
REPLICAS=2

# Swarmé…ç½®
STACK_NAME=springboot-nacos-stack
</code></pre>
<h3 data-id="heading-10">6. Nginxé…ç½®ï¼ˆä»£ç†Nacoså’ŒAppï¼‰</h3>
<h4 data-id="heading-11"><code>config/nginx/nginx.conf</code></h4>
<pre><code class="hljs language-nginx" lang="nginx">worker_processes auto;

events {
    worker_connections 1024;
}

http {
    upstream app_servers {
        least_conn;
        server app:8080;
    }

    upstream nacos_servers {
        least_conn;
        server nacos:8848;
    }

    # NacosæœåŠ¡ä»£ç†
    server {
        listen 8848;
        server_name nacos.your-domain.com;
        
        location / {
            proxy_pass http://nacos_servers;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_connect_timeout 60s;
            proxy_send_timeout 60s;
            proxy_read_timeout 60s;
            
            # å…è®¸è·¨åŸŸï¼ˆNacosæ§åˆ¶å°éœ€è¦ï¼‰
            add_header Access-Control-Allow-Origin *;
            add_header Access-Control-Allow-Methods 'GET, POST, OPTIONS';
            add_header Access-Control-Allow-Headers 'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization';
        }
        
        access_log /var/log/nginx/nacos-access.log;
        error_log /var/log/nginx/nacos-error.log;
    }

    # åº”ç”¨æœåŠ¡ä»£ç†
    server {
        listen 80;
        server_name your-domain.com;
        
        location / {
            proxy_pass http://app_servers;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_connect_timeout 60s;
            proxy_send_timeout 60s;
            proxy_read_timeout 60s;
        }
        
        access_log /var/log/nginx/app-access.log;
        error_log /var/log/nginx/app-error.log;
    }
}
</code></pre>
<h3 data-id="heading-12">7. Spring Bootåº”ç”¨é…ç½®ç¤ºä¾‹</h3>
<h4 data-id="heading-13"><code>bootstrap.yml</code>ï¼ˆåº”ç”¨é…ç½®æ–‡ä»¶ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">application:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">your-app-name</span>
  
  <span class="hljs-attr">cloud:</span>
    <span class="hljs-attr">nacos:</span>
      <span class="hljs-attr">discovery:</span>
        <span class="hljs-attr">server-addr:</span> <span class="hljs-string">${SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR:nacos:8848}</span>
        <span class="hljs-attr">namespace:</span> <span class="hljs-string">${NACOS_NAMESPACE:}</span>
        <span class="hljs-attr">group:</span> <span class="hljs-string">${NACOS_GROUP:DEFAULT_GROUP}</span>
        <span class="hljs-attr">username:</span> <span class="hljs-string">${SPRING_CLOUD_NACOS_USERNAME:nacos}</span>
        <span class="hljs-attr">password:</span> <span class="hljs-string">${SPRING_CLOUD_NACOS_PASSWORD:nacos}</span>
      
      <span class="hljs-attr">config:</span>
        <span class="hljs-attr">server-addr:</span> <span class="hljs-string">${SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR:nacos:8848}</span>
        <span class="hljs-attr">file-extension:</span> <span class="hljs-string">yaml</span>
        <span class="hljs-attr">namespace:</span> <span class="hljs-string">${NACOS_NAMESPACE:}</span>
        <span class="hljs-attr">group:</span> <span class="hljs-string">${NACOS_GROUP:DEFAULT_GROUP}</span>
        <span class="hljs-attr">username:</span> <span class="hljs-string">${SPRING_CLOUD_NACOS_USERNAME:nacos}</span>
        <span class="hljs-attr">password:</span> <span class="hljs-string">${SPRING_CLOUD_NACOS_PASSWORD:nacos}</span>
        <span class="hljs-attr">refresh-enabled:</span> <span class="hljs-literal">true</span>

  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">${SPRING_DATASOURCE_URL}</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">${SPRING_DATASOURCE_USERNAME}</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">${SPRING_DATASOURCE_PASSWORD}</span>
    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
    <span class="hljs-attr">hikari:</span>
      <span class="hljs-attr">maximum-pool-size:</span> <span class="hljs-number">10</span>
      <span class="hljs-attr">minimum-idle:</span> <span class="hljs-number">5</span>

  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">${SPRING_REDIS_HOST}</span>
    <span class="hljs-attr">port:</span> <span class="hljs-string">${SPRING_REDIS_PORT}</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">${SPRING_REDIS_PASSWORD}</span>
    <span class="hljs-attr">database:</span> <span class="hljs-number">0</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">5000ms</span>
    <span class="hljs-attr">lettuce:</span>
      <span class="hljs-attr">pool:</span>
        <span class="hljs-attr">max-active:</span> <span class="hljs-number">8</span>
        <span class="hljs-attr">max-idle:</span> <span class="hljs-number">8</span>
        <span class="hljs-attr">min-idle:</span> <span class="hljs-number">0</span>
</code></pre>
<h3 data-id="heading-14">8. éƒ¨ç½²è„šæœ¬</h3>
<h4 data-id="heading-15"><code>deploy.sh</code></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># è®¾ç½®é¢œè‰²è¾“å‡º</span>
RED=<span class="hljs-string">'\033[0;31m'</span>
GREEN=<span class="hljs-string">'\033[0;32m'</span>
YELLOW=<span class="hljs-string">'\033[1;33m'</span>
NC=<span class="hljs-string">'\033[0m'</span> <span class="hljs-comment"># No Color</span>

<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>å¼€å§‹éƒ¨ç½²Spring Boot + Nacosé¡¹ç›®...<span class="hljs-variable">${NC}</span>"</span>

<span class="hljs-comment"># æ£€æŸ¥Docker Swarmæ˜¯å¦å·²åˆå§‹åŒ–</span>
<span class="hljs-keyword">if</span> ! docker node <span class="hljs-built_in">ls</span> &amp;&gt; /dev/null; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>Docker Swarmæœªåˆå§‹åŒ–ï¼Œæ­£åœ¨åˆå§‹åŒ–...<span class="hljs-variable">${NC}</span>"</span>
    docker swarm init
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># åˆ›å»ºå¿…è¦çš„ç›®å½•</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>åˆ›å»ºå¿…è¦çš„ç›®å½•...<span class="hljs-variable">${NC}</span>"</span>
<span class="hljs-built_in">mkdir</span> -p logs/{app,nacos,nginx}
<span class="hljs-built_in">mkdir</span> -p data/{mysql,redis,app-data,nacos/{conf,data,logs}}
<span class="hljs-built_in">mkdir</span> -p config/{mysql-init,nacos,nginx}

<span class="hljs-comment"># æ£€æŸ¥Nacosæ•°æ®åº“è„šæœ¬æ˜¯å¦å­˜åœ¨</span>
<span class="hljs-keyword">if</span> [ ! -f <span class="hljs-string">"config/mysql-init/nacos-schema.sql"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>ä¸‹è½½Nacosæ•°æ®åº“è„šæœ¬...<span class="hljs-variable">${NC}</span>"</span>
    curl -o config/mysql-init/nacos-schema.sql \
    https://raw.githubusercontent.com/alibaba/nacos/master/distribution/conf/mysql-schema.sql
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
<span class="hljs-keyword">if</span> [ -f <span class="hljs-string">".env"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>åŠ è½½ç¯å¢ƒå˜é‡...<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-built_in">export</span> $(<span class="hljs-built_in">cat</span> .<span class="hljs-built_in">env</span> | grep -v <span class="hljs-string">'^#'</span> | xargs)
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>é”™è¯¯: .envæ–‡ä»¶ä¸å­˜åœ¨<span class="hljs-variable">${NC}</span>"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># æ„å»ºåº”ç”¨é•œåƒï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> == <span class="hljs-string">"build"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>æ„å»ºåº”ç”¨é•œåƒ...<span class="hljs-variable">${NC}</span>"</span>
    docker build -t <span class="hljs-variable">${APP_IMAGE}</span> .
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># éƒ¨ç½²æœåŠ¡</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>éƒ¨ç½²æœåŠ¡...<span class="hljs-variable">${NC}</span>"</span>
docker stack deploy -c docker-stack.yml <span class="hljs-variable">${STACK_NAME}</span>

<span class="hljs-comment"># ç­‰å¾…æœåŠ¡å¯åŠ¨</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>ç­‰å¾…æœåŠ¡å¯åŠ¨...<span class="hljs-variable">${NC}</span>"</span>
<span class="hljs-built_in">sleep</span> 30

<span class="hljs-comment"># æ£€æŸ¥æœåŠ¡çŠ¶æ€</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>æ£€æŸ¥æœåŠ¡çŠ¶æ€...<span class="hljs-variable">${NC}</span>"</span>
docker stack services <span class="hljs-variable">${STACK_NAME}</span>

<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>éƒ¨ç½²å®Œæˆï¼<span class="hljs-variable">${NC}</span>"</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"è®¿é—®åœ°å€ï¼š"</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"  Nacosæ§åˆ¶å°: http://localhost:<span class="hljs-variable">${NACOS_PORT:-8848}</span>/nacos"</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"  åº”ç”¨æœåŠ¡: http://localhost:<span class="hljs-variable">${APP_PORT:-8080}</span>"</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"  æ•°æ®åº“: localhost:3306"</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"  Redis: localhost:6379"</span>
</code></pre>
<h3 data-id="heading-16">9. ç®¡ç†å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»™èŠ‚ç‚¹æ‰“æ ‡ç­¾ï¼ˆç”¨äºéƒ¨ç½²Nacosï¼‰</span>
docker node update --label-add nacos=<span class="hljs-literal">true</span> &lt;node-name&gt;

<span class="hljs-comment"># æŸ¥çœ‹Nacosæ—¥å¿—</span>
docker service logs <span class="hljs-variable">${STACK_NAME}</span>_nacos -f

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æœåŠ¡</span>
docker stack ps <span class="hljs-variable">${STACK_NAME}</span>

<span class="hljs-comment"># æ‰©å±•Nacoså®ä¾‹ï¼ˆé›†ç¾¤æ¨¡å¼ï¼‰</span>
docker service scale <span class="hljs-variable">${STACK_NAME}</span>_nacos=3

<span class="hljs-comment"># å¤‡ä»½Nacosé…ç½®</span>
tar -czf nacos-backup-$(<span class="hljs-built_in">date</span> +%Y%m%d).tar.gz data/nacos/conf/

<span class="hljs-comment"># è®¿é—®Nacosæ§åˆ¶å°</span>
<span class="hljs-comment"># ç”¨æˆ·å: nacos</span>
<span class="hljs-comment"># å¯†ç : nacosï¼ˆé»˜è®¤ï¼‰</span>
</code></pre>
<h3 data-id="heading-17">10. Nacosé›†ç¾¤æ¨¡å¼éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰</h3>
<p>å¦‚æœéœ€è¦éƒ¨ç½²Nacosé›†ç¾¤ï¼Œéœ€è¦ï¼š</p>
<ol>
<li>ä¿®æ”¹ <code>.env</code> æ–‡ä»¶ï¼š</li>
</ol>
<pre><code class="hljs language-env" lang="env">NACOS_MODE=cluster
NACOS_REPLICAS=3
</code></pre>
<ol start="2">
<li>ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰æ ‡ç­¾ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">docker node update --label-add nacos=<span class="hljs-literal">true</span> node1
docker node update --label-add nacos=<span class="hljs-literal">true</span> node2
docker node update --label-add nacos=<span class="hljs-literal">true</span> node3
</code></pre>
<ol start="3">
<li>åˆ›å»ºé›†ç¾¤é…ç½®æ–‡ä»¶å¹¶æŒ‚è½½åˆ°æ¯ä¸ªNacoså®ä¾‹ã€‚</li>
</ol>
<p>è¿™ä¸ªé…ç½®å®ç°äº†ï¼š</p>
<ul>
<li>Nacosä½¿ç”¨å¤–éƒ¨MySQLå­˜å‚¨é…ç½®</li>
<li>æ‰€æœ‰é…ç½®æ–‡ä»¶æŒä¹…åŒ–åˆ°æœ¬åœ°</li>
<li>Spring Bootåº”ç”¨ä»Nacosè·å–é…ç½®</li>
<li>å®Œæ•´çš„å¥åº·æ£€æŸ¥å’ŒæœåŠ¡ä¾èµ–</li>
<li>æ—¥å¿—å’Œæ•°æ®æŒä¹…åŒ–</li>
</ul>
<p>è¯·æ ¹æ®æ‚¨çš„å®é™…éœ€æ±‚è°ƒæ•´é…ç½®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Docker Swarm éƒ¨ç½²æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7594320543220006958</link>    <guid>https://juejin.cn/post/7594320543220006958</guid>    <pubDate>2026-01-12T22:23:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594320543220006958" data-draft-id="7594337566721622026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Docker Swarm éƒ¨ç½²æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T22:23:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒ½å«æˆ‘å¤§å¸…å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/3956505282886506"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Docker Swarm éƒ¨ç½²æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3956505282886506/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒ½å«æˆ‘å¤§å¸…å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T22:23:11.000Z" title="Mon Jan 12 2026 22:23:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç›®å½•ç»“æ„å‡†å¤‡</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p swarm-deploy
<span class="hljs-built_in">cd</span> swarm-deploy
<span class="hljs-built_in">mkdir</span> -p {mysql,postgres,redis,hugegraph,nacos,app}/{data,logs,conf}
</code></pre>
<h2 data-id="heading-1">docker-compose.yml</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-comment"># MySQL æœåŠ¡</span>
  <span class="hljs-attr">mysql:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">mysql:8.0</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">restart_policy:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">on-failure</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">rootpassword</span>
      <span class="hljs-attr">MYSQL_DATABASE:</span> <span class="hljs-string">nacos</span>
      <span class="hljs-attr">MYSQL_USER:</span> <span class="hljs-string">nacos</span>
      <span class="hljs-attr">MYSQL_PASSWORD:</span> <span class="hljs-string">nacospassword</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./mysql/data:/var/lib/mysql</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./mysql/conf:/etc/mysql/conf.d</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./mysql/logs:/var/log/mysql</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3306:3306"</span>

  <span class="hljs-comment"># PostgreSQL æœåŠ¡</span>
  <span class="hljs-attr">postgres:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">postgres:15</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">restart_policy:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">on-failure</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">POSTGRES_DB:</span> <span class="hljs-string">hugegraph</span>
      <span class="hljs-attr">POSTGRES_USER:</span> <span class="hljs-string">hugegraph</span>
      <span class="hljs-attr">POSTGRES_PASSWORD:</span> <span class="hljs-string">hugegraphpassword</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./postgres/data:/var/lib/postgresql/data</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./postgres/conf:/etc/postgresql</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./postgres/logs:/var/log/postgresql</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"5432:5432"</span>

  <span class="hljs-comment"># Redis æœåŠ¡</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">redis:7-alpine</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">restart_policy:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">on-failure</span>
    <span class="hljs-attr">command:</span> <span class="hljs-string">redis-server</span> <span class="hljs-string">--appendonly</span> <span class="hljs-literal">yes</span> <span class="hljs-string">--requirepass</span> <span class="hljs-string">redispassword</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./redis/data:/data</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./redis/conf:/usr/local/etc/redis</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./redis/logs:/var/log/redis</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"6379:6379"</span>

  <span class="hljs-comment"># Nacos æœåŠ¡ï¼ˆå•æœºæ¨¡å¼ï¼‰</span>
  <span class="hljs-attr">nacos:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">nacos/nacos-server:latest</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">restart_policy:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">on-failure</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">MODE:</span> <span class="hljs-string">standalone</span>
      <span class="hljs-attr">SPRING_DATASOURCE_PLATFORM:</span> <span class="hljs-string">mysql</span>
      <span class="hljs-attr">MYSQL_SERVICE_HOST:</span> <span class="hljs-string">mysql</span>
      <span class="hljs-attr">MYSQL_SERVICE_DB_NAME:</span> <span class="hljs-string">nacos</span>
      <span class="hljs-attr">MYSQL_SERVICE_PORT:</span> <span class="hljs-number">3306</span>
      <span class="hljs-attr">MYSQL_SERVICE_USER:</span> <span class="hljs-string">nacos</span>
      <span class="hljs-attr">MYSQL_SERVICE_PASSWORD:</span> <span class="hljs-string">nacospassword</span>
      <span class="hljs-attr">NACOS_AUTH_ENABLE:</span> <span class="hljs-string">"true"</span>
      <span class="hljs-attr">NACOS_AUTH_TOKEN:</span> <span class="hljs-string">"SecretKey012345678901234567890123456789012345678901234567890123456789"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./nacos/logs:/home/nacos/logs</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./nacos/conf:/home/nacos/conf</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8848:8848"</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mysql</span>

  <span class="hljs-comment"># HugeGraph æœåŠ¡</span>
  <span class="hljs-attr">hugegraph:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">hugegraph/hugegraph:latest</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">restart_policy:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">on-failure</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">GREMLIN_SERVER_PORT:</span> <span class="hljs-number">8182</span>
      <span class="hljs-attr">BACKEND:</span> <span class="hljs-string">postgresql</span>
      <span class="hljs-attr">POSTGRESQL_HOST:</span> <span class="hljs-string">postgres</span>
      <span class="hljs-attr">POSTGRESQL_PORT:</span> <span class="hljs-number">5432</span>
      <span class="hljs-attr">POSTGRESQL_USERNAME:</span> <span class="hljs-string">hugegraph</span>
      <span class="hljs-attr">POSTGRESQL_PASSWORD:</span> <span class="hljs-string">hugegraphpassword</span>
      <span class="hljs-attr">POSTGRESQL_DATABASE:</span> <span class="hljs-string">hugegraph</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./hugegraph/logs:/opt/hugegraph/logs</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./hugegraph/conf:/opt/hugegraph/conf</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./hugegraph/data:/opt/hugegraph/data</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8182:8182"</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8080:8080"</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">postgres</span>

  <span class="hljs-comment"># Spring Boot åº”ç”¨</span>
  <span class="hljs-attr">springboot-app:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">your-springboot-app:latest</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">replicas:</span> <span class="hljs-number">3</span>  <span class="hljs-comment"># æ ¹æ®éœ€æ±‚è°ƒæ•´å‰¯æœ¬æ•°</span>
      <span class="hljs-attr">restart_policy:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">on-failure</span>
      <span class="hljs-attr">update_config:</span>
        <span class="hljs-attr">parallelism:</span> <span class="hljs-number">1</span>
        <span class="hljs-attr">delay:</span> <span class="hljs-string">10s</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">SPRING_PROFILES_ACTIVE:</span> <span class="hljs-string">prod</span>
      <span class="hljs-attr">SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR:</span> <span class="hljs-string">nacos:8848</span>
      <span class="hljs-attr">SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR:</span> <span class="hljs-string">nacos:8848</span>
      <span class="hljs-attr">SPRING_DATASOURCE_URL:</span> <span class="hljs-string">jdbc:mysql://mysql:3306/your_database?useSSL=false&amp;serverTimezone=UTC</span>
      <span class="hljs-attr">SPRING_DATASOURCE_USERNAME:</span> <span class="hljs-string">root</span>
      <span class="hljs-attr">SPRING_DATASOURCE_PASSWORD:</span> <span class="hljs-string">rootpassword</span>
      <span class="hljs-attr">SPRING_REDIS_HOST:</span> <span class="hljs-string">redis</span>
      <span class="hljs-attr">SPRING_REDIS_PASSWORD:</span> <span class="hljs-string">redispassword</span>
      <span class="hljs-attr">SPRING_REDIS_PORT:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./app/logs:/app/logs</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mysql</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">redis</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">nacos</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">hugegraph</span>

<span class="hljs-attr">networks:</span>
  <span class="hljs-attr">app-network:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">overlay</span>
    <span class="hljs-attr">attachable:</span> <span class="hljs-literal">true</span>
</code></pre>
<h2 data-id="heading-2">é…ç½®æ–‡ä»¶ç¤ºä¾‹</h2>
<h3 data-id="heading-3">1. MySQL é…ç½®æ–‡ä»¶ (<code>mysql/conf/my.cnf</code>)</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">character-set-server</span>=utf8mb4
<span class="hljs-attr">collation-server</span>=utf8mb4_unicode_ci
<span class="hljs-attr">max_connections</span>=<span class="hljs-number">1000</span>
<span class="hljs-attr">innodb_buffer_pool_size</span>=<span class="hljs-number">1</span>G
<span class="hljs-attr">log-bin</span>=mysql-bin
<span class="hljs-attr">server-id</span>=<span class="hljs-number">1</span>

<span class="hljs-section">[client]</span>
<span class="hljs-attr">default-character-set</span>=utf8mb4
</code></pre>
<h3 data-id="heading-4">2. PostgreSQL é…ç½®æ–‡ä»¶ (<code>postgres/conf/postgresql.conf</code>)</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">listen_addresses</span> = <span class="hljs-string">'*'</span>
<span class="hljs-attr">max_connections</span> = <span class="hljs-number">100</span>
<span class="hljs-attr">shared_buffers</span> = <span class="hljs-number">256</span>MB
<span class="hljs-attr">logging_collector</span> = <span class="hljs-literal">on</span>
<span class="hljs-attr">log_directory</span> = <span class="hljs-string">'/var/log/postgresql'</span>
</code></pre>
<h3 data-id="heading-5">3. Redis é…ç½®æ–‡ä»¶ (<code>redis/conf/redis.conf</code>)</h3>
<pre><code class="hljs language-conf" lang="conf">bind 0.0.0.0
port 6379
requirepass redispassword
appendonly yes
appendfsync everysec
maxmemory 2gb
maxmemory-policy allkeys-lru
</code></pre>
<h3 data-id="heading-6">4. Nacos é…ç½® (å¯é€‰é…ç½® <code>nacos/conf/application.properties</code>)</h3>
<pre><code class="hljs language-properties" lang="properties">server.servlet.contextPath=/nacos
server.port=8848

spring.datasource.platform=mysql

db.num=1
db.url.0=jdbc:mysql://mysql:3306/nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true
db.user=nacos
db.password=nacospassword
</code></pre>
<h3 data-id="heading-7">5. Spring Boot åº”ç”¨çš„ Dockerfile</h3>
<pre><code class="hljs language-dockerfile" lang="dockerfile">FROM openjdk:17-jdk-slim

WORKDIR /app

# å¤åˆ¶åº”ç”¨jaråŒ…
COPY target/your-app.jar app.jar

# åˆ›å»ºæ—¥å¿—ç›®å½•
RUN mkdir -p /app/logs

# æš´éœ²ç«¯å£
EXPOSE 8080

# å¯åŠ¨åº”ç”¨
ENTRYPOINT ["java", "-jar", "app.jar", \
            "--spring.profiles.active=prod", \
            "--logging.file.path=/app/logs", \
            "--logging.file.name=/app/logs/application.log"]
</code></pre>
<h2 data-id="heading-8">éƒ¨ç½²æ­¥éª¤</h2>
<h3 data-id="heading-9">1. åˆå§‹åŒ– Swarmï¼ˆå¦‚æœå°šæœªåˆå§‹åŒ–ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ä¸»èŠ‚ç‚¹ä¸Šåˆå§‹åŒ– Swarm</span>
docker swarm init

<span class="hljs-comment"># åœ¨å·¥ä½œèŠ‚ç‚¹ä¸ŠåŠ å…¥ Swarm</span>
docker swarm <span class="hljs-built_in">join</span> --token &lt;token&gt; &lt;manager-ip&gt;:2377
</code></pre>
<h3 data-id="heading-10">2. åˆ›å»ºç½‘ç»œå’Œå·ï¼ˆå¦‚æœéœ€è¦ç‹¬ç«‹çš„æ•°æ®å·ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º overlay ç½‘ç»œ</span>
docker network create -d overlay app-network

<span class="hljs-comment"># åˆ›å»ºæ•°æ®å·ï¼ˆå¯é€‰ï¼Œå¦‚æœä½¿ç”¨æœ¬åœ°ç›®å½•æ˜ å°„åˆ™ä¸éœ€è¦ï¼‰</span>
docker volume create mysql-data
docker volume create postgres-data
docker volume create redis-data
</code></pre>
<h3 data-id="heading-11">3. æ„å»ºå’Œæ¨é€ Spring Boot åº”ç”¨é•œåƒ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»ºåº”ç”¨é•œåƒ</span>
docker build -t your-springboot-app:latest .

<span class="hljs-comment"># æ¨é€åˆ° Docker Registryï¼ˆå¦‚æœæ˜¯å¤šèŠ‚ç‚¹éƒ¨ç½²ï¼‰</span>
docker tag your-springboot-app:latest your-registry/your-springboot-app:latest
docker push your-registry/your-springboot-app:latest
</code></pre>
<h3 data-id="heading-12">4. éƒ¨ç½²åº”ç”¨æ ˆ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># éƒ¨ç½²æ•´ä¸ªåº”ç”¨æ ˆ</span>
docker stack deploy -c docker-compose.yml app-stack

<span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
docker stack services app-stack

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çŠ¶æ€</span>
docker stack ps app-stack

<span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>
docker service logs app-stack_springboot-app
</code></pre>
<h3 data-id="heading-13">5. å¸¸ç”¨ç®¡ç†å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰©å±•åº”ç”¨å®ä¾‹</span>
docker service scale app-stack_springboot-app=5

<span class="hljs-comment"># æ›´æ–°åº”ç”¨</span>
docker service update --image your-springboot-app:new-version app-stack_springboot-app

<span class="hljs-comment"># å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬</span>
docker service update --rollback app-stack_springboot-app

<span class="hljs-comment"># åœæ­¢æ•´ä¸ªåº”ç”¨æ ˆ</span>
docker stack <span class="hljs-built_in">rm</span> app-stack

<span class="hljs-comment"># æŸ¥çœ‹ç½‘ç»œ</span>
docker network <span class="hljs-built_in">ls</span>

<span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡è¯¦æƒ…</span>
docker service inspect app-stack_springboot-app
</code></pre>
<h2 data-id="heading-14">ç¯å¢ƒå˜é‡é…ç½®å»ºè®®</h2>
<p>åˆ›å»ºä¸€ä¸ª <code>.env</code> æ–‡ä»¶æ¥ç®¡ç†æ•æ„Ÿä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-env" lang="env"># .env æ–‡ä»¶
MYSQL_ROOT_PASSWORD=your_secure_password
NACOS_AUTH_TOKEN=your_secret_token
REDIS_PASSWORD=your_redis_password
POSTGRES_PASSWORD=your_postgres_password
</code></pre>
<p>ç„¶ååœ¨ docker-compose.yml ä¸­å¼•ç”¨ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">environment:</span>
  <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">${MYSQL_ROOT_PASSWORD}</span>
</code></pre>
<p>éƒ¨ç½²æ—¶ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker stack deploy --compose-file docker-compose.yml app-stack
</code></pre>
<h2 data-id="heading-15">ç›‘æ§å’Œæ—¥å¿—æ”¶é›†</h2>
<p>å»ºè®®æ·»åŠ ç›‘æ§æœåŠ¡ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml">  <span class="hljs-comment"># Prometheus ç›‘æ§</span>
  <span class="hljs-attr">prometheus:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">prom/prometheus:latest</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">prometheus-data:/prometheus</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"9090:9090"</span>

  <span class="hljs-comment"># Grafana å¯è§†åŒ–</span>
  <span class="hljs-attr">grafana:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">grafana/grafana:latest</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">grafana-data:/var/lib/grafana</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3000:3000"</span>

  <span class="hljs-comment"># ELK æ—¥å¿—æ”¶é›†ï¼ˆå¯é€‰ï¼‰</span>
  <span class="hljs-attr">elasticsearch:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">docker.elastic.co/elasticsearch/elasticsearch:7.17.0</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">discovery.type=single-node</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">elasticsearch-data:/usr/share/elasticsearch/data</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app-network</span>
</code></pre>
<p>è¿™ä¸ªé…ç½®æ–¹æ¡ˆæä¾›äº†ï¼š</p>
<ol>
<li>å®Œæ•´çš„æ•°æ®æŒä¹…åŒ–é…ç½®</li>
<li>æœåŠ¡é—´çš„ç½‘ç»œé€šä¿¡</li>
<li>é…ç½®æ–‡ä»¶å¤–éƒ¨åŒ–ç®¡ç†</li>
<li>æ—¥å¿—æ–‡ä»¶æ˜ å°„</li>
<li>æœåŠ¡ä¾èµ–å’Œå¯åŠ¨é¡ºåºç®¡ç†</li>
<li>æ°´å¹³æ‰©å±•èƒ½åŠ›</li>
</ol>
<p>æ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚è°ƒæ•´èµ„æºé…ç½®ã€ç«¯å£å’Œç‰ˆæœ¬å·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ„å»º Vue å¼¹çª—ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7594322573452427307</link>    <guid>https://juejin.cn/post/7594322573452427307</guid>    <pubDate>2026-01-12T16:05:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594322573452427307" data-draft-id="7594350054090735658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ„å»º Vue å¼¹çª—ç»„ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-12T16:05:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yyt_"/> <meta itemprop="url" content="https://juejin.cn/user/1162607282632969"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ„å»º Vue å¼¹çª—ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1162607282632969/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yyt_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T16:05:50.000Z" title="Mon Jan 12 2026 16:05:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">æ•´ä½“å­¦ä¹ è·¯çº¿ï¼šç®€æ˜“å¼¹çª— â†’ å®Œå–„åŸºç¡€åŠŸèƒ½ â†’ ç»„ä»¶å†…éƒ¨çŠ¶æ€ç®¡ç† â†’ çˆ¶â†’å­ä¼ å€¼ â†’ å­â†’çˆ¶ä¼ å€¼ â†’ è·¨ç»„ä»¶ä¼ å€¼ï¼ˆæœ€ç»ˆç›®æ ‡ï¼‰</h3>
<hr/>
<h2 data-id="heading-1">æ­¥éª¤ 1ï¼šæ­å»ºæœ€åŸºç¡€çš„å¼¹çª—ï¼ˆé™æ€ç»“æ„ï¼Œæ— äº¤äº’ï¼‰</h2>
<p><strong>ç›®æ ‡</strong>ï¼šå®ç°ä¸€ä¸ªå›ºå®šæ˜¾ç¤ºåœ¨é¡µé¢ä¸­çš„å¼¹çª—ï¼ŒåŒ…å«æ ‡é¢˜ã€å†…å®¹ã€å…³é—­æŒ‰é’®ï¼ŒæŒæ¡ Vue ç»„ä»¶çš„åŸºæœ¬ç»“æ„ã€‚</p>
<h3 data-id="heading-2">ç»„ä»¶æ–‡ä»¶ï¼š<code>BasicPopup.vue</code></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- å¼¹çª—å¤–å±‚å®¹å™¨ï¼ˆé®ç½©å±‚ï¼‰ --&gt;
  &lt;div class="popup-mask"&gt;
    &lt;!-- å¼¹çª—ä¸»ä½“ --&gt;
    &lt;div class="popup-content"&gt;
      &lt;h3&gt;ç®€æ˜“å¼¹çª—&lt;/h3&gt;
      &lt;p&gt;è¿™æ˜¯æœ€åŸºç¡€çš„å¼¹çª—å†…å®¹&lt;/p&gt;
      &lt;button&gt;å…³é—­&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
// ç°é˜¶æ®µæ— é€»è¾‘ï¼Œä»…æ­å»ºç»“æ„
&lt;/script&gt;

&lt;style scoped&gt;
/* é®ç½©å±‚ï¼šå æ»¡æ•´ä¸ªå±å¹•ï¼ŒåŠé€æ˜èƒŒæ™¯ */
.popup-mask {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* å¼¹çª—ä¸»ä½“ï¼šç™½è‰²èƒŒæ™¯ï¼Œå›ºå®šå®½é«˜ï¼Œåœ†è§’ */
.popup-content {
  width: 400px;
  padding: 20px;
  background-color: #fff;
  border-radius: 8px;
  text-align: center;
}

/* æŒ‰é’®æ ·å¼ */
button {
  margin-top: 20px;
  padding: 8px 16px;
  background-color: #1890ff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-3">ä½¿ç”¨ç»„ä»¶ï¼ˆ<code>App.vue</code>ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;h1&gt;å¼¹çª—å­¦ä¹ æ¼”ç¤º&lt;/h1&gt;
  &lt;BasicPopup /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import BasicPopup from './components/BasicPopup.vue';
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-4">æ­¥éª¤ 2ï¼šæ·»åŠ åŸºç¡€äº¤äº’ï¼ˆæ§åˆ¶å¼¹çª—æ˜¾ç¤º/éšè—ï¼‰</h2>
<p><strong>ç›®æ ‡</strong>ï¼šé€šè¿‡ã€Œå“åº”å¼çŠ¶æ€ã€æ§åˆ¶å¼¹çª—çš„æ˜¾ç¤ºä¸éšè—ï¼Œç»™å…³é—­æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼ŒæŒæ¡ <code>ref</code> å’Œäº‹ä»¶ç»‘å®šã€‚</p>
<h3 data-id="heading-5">æ”¹é€  <code>BasicPopup.vue</code>ï¼ˆæ–°å¢å“åº”å¼çŠ¶æ€å’Œç‚¹å‡»äº‹ä»¶ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- ç”¨ v-if æ§åˆ¶å¼¹çª—æ˜¯å¦æ˜¾ç¤º --&gt;
  &lt;div class="popup-mask" v-if="isShow"&gt;
    &lt;div class="popup-content"&gt;
      &lt;h3&gt;ç®€æ˜“å¼¹çª—&lt;/h3&gt;
      &lt;p&gt;è¿™æ˜¯æœ€åŸºç¡€çš„å¼¹çª—å†…å®¹&lt;/p&gt;
      &lt;!-- ç»‘å®šå…³é—­æŒ‰é’®ç‚¹å‡»äº‹ä»¶ --&gt;
      &lt;button @click="closePopup"&gt;å…³é—­&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
// 1. å¯¼å…¥ ref ç”¨äºåˆ›å»ºå“åº”å¼çŠ¶æ€
import { ref } from 'vue';

// 2. å®šä¹‰å“åº”å¼å˜é‡ï¼Œæ§åˆ¶å¼¹çª—æ˜¾ç¤º/éšè—
const isShow = ref(true); // åˆå§‹å€¼ä¸º trueï¼Œé»˜è®¤æ˜¾ç¤ºå¼¹çª—

// 3. å®šä¹‰å…³é—­å¼¹çª—çš„æ–¹æ³•
const closePopup = () =&gt; {
  isShow.value = false; // å“åº”å¼å˜é‡ä¿®æ”¹éœ€è¦é€šè¿‡ .value
};
&lt;/script&gt;

&lt;style scoped&gt;
/* æ ·å¼åŒæ­¥éª¤ 1ï¼Œä¸å˜ */
.popup-mask {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

.popup-content {
  width: 400px;
  padding: 20px;
  background-color: #fff;
  border-radius: 8px;
  text-align: center;
}

button {
  margin-top: 20px;
  padding: 8px 16px;
  background-color: #1890ff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-6">è¡¥å……ï¼šåœ¨ <code>App.vue</code> æ·»åŠ ã€Œæ‰“å¼€å¼¹çª—ã€æŒ‰é’®</h3>
<p>æˆ‘ä»¬çŸ¥é“ï¼ŒVue éµå¾ªã€Œå•å‘æ•°æ®æµã€å’Œã€Œç»„ä»¶å°è£…éš”ç¦»ã€ï¼Œå­ç»„ä»¶å†…éƒ¨çš„æ–¹æ³• / ç§æœ‰çŠ¶æ€é»˜è®¤æ˜¯å¯¹å¤–éšè—çš„ï¼Œå¤–éƒ¨çˆ¶ç»„ä»¶æ— æ³•ç›´æ¥è®¿é—®ã€‚</p>
<p>è€Œ <code>ref</code> å°±æ˜¯æ‰“ç ´è¿™ç§ â€œéš”ç¦»â€ çš„<strong>åˆæ³•æ–¹å¼</strong>ï¼ˆéä¾µå…¥å¼ï¼‰ï¼Œè®©çˆ¶ç»„ä»¶èƒ½å¤Ÿï¼š</p>
<ol>
<li>è°ƒç”¨å­ç»„ä»¶é€šè¿‡ <code>defineExpose</code> æš´éœ²çš„æ–¹æ³•ï¼ˆå¦‚ <code>openPopup</code> æ–¹æ³•ï¼Œç”¨äºæ‰“å¼€å¼¹çª—ï¼‰ã€‚</li>
<li>è®¿é—®å­ç»„ä»¶é€šè¿‡ <code>defineExpose</code> æš´éœ²çš„å“åº”å¼çŠ¶æ€ï¼ˆå¦‚å¼¹çª—å†…éƒ¨çš„ <code>isShow</code> çŠ¶æ€ï¼‰ã€‚</li>
<li>å®ç°ã€Œçˆ¶ç»„ä»¶ä¸»åŠ¨æ§åˆ¶å­ç»„ä»¶ã€çš„äº¤äº’åœºæ™¯ï¼ˆå¦‚ä¸»åŠ¨æ‰“å¼€ / å…³é—­å¼¹çª—ã€ä¸»åŠ¨åˆ·æ–°å­ç»„ä»¶æ•°æ®ï¼‰ã€‚</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;h1&gt;å¼¹çª—å­¦ä¹ æ¼”ç¤º&lt;/h1&gt;
  &lt;!-- æ–°å¢æ‰“å¼€å¼¹çª—æŒ‰é’® --&gt;
  &lt;button @click="handleOpenPopup"&gt;æ‰“å¼€å¼¹çª—&lt;/button&gt;
  &lt;BasicPopup ref="popupRef" /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';
import BasicPopup from './components/BasicPopup.vue';

// è·å–å¼¹çª—ç»„ä»¶å®ä¾‹
const popupRef = ref(null);

// æ‰“å¼€å¼¹çª—çš„æ–¹æ³•ï¼ˆè°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•ï¼Œåç»­æ­¥éª¤ä¼šå®Œå–„ï¼‰
const handleOpenPopup = () =&gt; {
  if (popupRef.value) {
    popupRef.value.openPopup();
  }
};
&lt;/script&gt;

&lt;style&gt;
button {
  margin: 10px;
  padding: 8px 16px;
  background-color: #1890ff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-7">ç»™ <code>BasicPopup.vue</code> è¡¥å……ã€Œæ‰“å¼€å¼¹çª—ã€æ–¹æ³•ï¼ˆæš´éœ²ç»™çˆ¶ç»„ä»¶ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="popup-mask" v-if="isShow"&gt;
    &lt;div class="popup-content"&gt;
      &lt;h3&gt;ç®€æ˜“å¼¹çª—&lt;/h3&gt;
      &lt;p&gt;è¿™æ˜¯æœ€åŸºç¡€çš„å¼¹çª—å†…å®¹&lt;/p&gt;
      &lt;button @click="closePopup"&gt;å…³é—­&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

const isShow = ref(false); // åˆå§‹å€¼æ”¹ä¸º falseï¼Œé»˜è®¤éšè—

const closePopup = () =&gt; {
  isShow.value = false;
};

// æ–°å¢ï¼šæ‰“å¼€å¼¹çª—çš„æ–¹æ³•
const openPopup = () =&gt; {
  isShow.value = true;
};

// æš´éœ²ç»„ä»¶æ–¹æ³•ï¼Œè®©çˆ¶ç»„ä»¶å¯ä»¥è°ƒç”¨ï¼ˆå…³é”®ï¼‰
defineExpose({
  openPopup
});
&lt;/script&gt;

&lt;style scoped&gt;
/* æ ·å¼åŒå‰ */
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-8">æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
<ol>
<li><code>ref</code> åˆ›å»ºå“åº”å¼çŠ¶æ€ï¼Œä¿®æ”¹æ—¶éœ€è¦ <code>.value</code></li>
<li><code>@click</code> äº‹ä»¶ç»‘å®šï¼Œè§¦å‘è‡ªå®šä¹‰æ–¹æ³•</li>
<li><code>defineExpose</code> æš´éœ²ç»„ä»¶å†…éƒ¨æ–¹æ³•/çŠ¶æ€ï¼Œä¾›çˆ¶ç»„ä»¶è°ƒç”¨</li>
<li><code>v-if</code> æ§åˆ¶å…ƒç´ çš„æ¸²æŸ“ä¸é”€æ¯ï¼ˆå®ç°å¼¹çª—æ˜¾ç¤º/éšè—ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-9">æ­¥éª¤ 3ï¼šçˆ¶ç»„ä»¶ â†’ å­ç»„ä»¶ä¼ å€¼ï¼ˆProps ä¼ é€’ï¼‰</h2>
<p><strong>ç›®æ ‡</strong>ï¼šçˆ¶ç»„ä»¶å‘å¼¹çª—ç»„ä»¶ä¼ é€’ã€Œå¼¹çª—æ ‡é¢˜ã€å’Œã€Œå¼¹çª—å†…å®¹ã€ï¼ŒæŒæ¡ <code>defineProps</code> çš„ä½¿ç”¨ï¼Œå®ç°å¼¹çª—å†…å®¹çš„åŠ¨æ€åŒ–ã€‚</p>
<h3 data-id="heading-10">æ”¹é€  <code>BasicPopup.vue</code>ï¼ˆæ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„å‚æ•°ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="popup-mask" v-if="isShow"&gt;
    &lt;div class="popup-content"&gt;
      &lt;!-- æ¸²æŸ“çˆ¶ç»„ä»¶ä¼ é€’çš„æ ‡é¢˜ --&gt;
      &lt;h3&gt;{{ popupTitle }}&lt;/h3&gt;
      &lt;!-- æ¸²æŸ“çˆ¶ç»„ä»¶ä¼ é€’çš„å†…å®¹ --&gt;
      &lt;p&gt;{{ popupContent }}&lt;/p&gt;
      &lt;button @click="closePopup"&gt;å…³é—­&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

// 1. å®šä¹‰ Propsï¼Œæ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼ï¼ˆæŒ‡å®šç±»å‹å’Œé»˜è®¤å€¼ï¼‰
const props = defineProps({
  // å¼¹çª—æ ‡é¢˜
  popupTitle: {
    type: String,
    default: 'é»˜è®¤å¼¹çª—æ ‡é¢˜' // é»˜è®¤å€¼ï¼Œé˜²æ­¢çˆ¶ç»„ä»¶æœªä¼ é€’
  },
  // å¼¹çª—å†…å®¹
  popupContent: {
    type: String,
    default: 'é»˜è®¤å¼¹çª—å†…å®¹'
  }
});

const isShow = ref(false);

const closePopup = () =&gt; {
  isShow.value = false;
};

const openPopup = () =&gt; {
  isShow.value = true;
};

defineExpose({
  openPopup
});
&lt;/script&gt;

&lt;style scoped&gt;
/* æ ·å¼åŒå‰ */
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-11">æ”¹é€  <code>App.vue</code>ï¼ˆå‘å­ç»„ä»¶ä¼ é€’ Props æ•°æ®ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;h1&gt;å¼¹çª—å­¦ä¹ æ¼”ç¤º&lt;/h1&gt;
  &lt;button @click="openPopup"&gt;æ‰“å¼€å¼¹çª—&lt;/button&gt;
  &lt;!-- å‘å­ç»„ä»¶ä¼ é€’ props æ•°æ®ï¼ˆé™æ€ä¼ é€’ + åŠ¨æ€ä¼ é€’å‡å¯ï¼‰ --&gt;
  &lt;BasicPopup
    ref="popupRef"
    popupTitle="çˆ¶ç»„ä»¶ä¼ é€’çš„æ ‡é¢˜"
    :popupContent="dynamicContent"
  /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';
import BasicPopup from './components/BasicPopup.vue';

const popupRef = ref(null);
// åŠ¨æ€å®šä¹‰å¼¹çª—å†…å®¹ï¼ˆä¹Ÿå¯ä»¥æ˜¯é™æ€å­—ç¬¦ä¸²ï¼‰
const dynamicContent = ref('è¿™æ˜¯çˆ¶ç»„ä»¶é€šè¿‡ Props ä¼ é€’çš„åŠ¨æ€å¼¹çª—å†…å®¹ï½');

const openPopup = () =&gt; {
  if (popupRef.value) {
    popupRef.value.openPopup();
  }
};
&lt;/script&gt;

&lt;style&gt;
button {
  margin: 10px;
  padding: 8px 16px;
  background-color: #1890ff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-12">æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
<ol>
<li><code>defineProps</code> å®šä¹‰ç»„ä»¶æ¥æ”¶çš„å‚æ•°ï¼Œæ”¯æŒç±»å‹æ ¡éªŒå’Œé»˜è®¤å€¼</li>
<li>Props ä¼ é€’è§„åˆ™ï¼šçˆ¶ç»„ä»¶é€šè¿‡ã€Œå±æ€§ç»‘å®šã€å‘å­ç»„ä»¶ä¼ å€¼ï¼Œå­ç»„ä»¶åªè¯»ï¼ˆä¸èƒ½ä¿®æ”¹ Propsï¼Œéµå¾ªå•å‘æ•°æ®æµï¼‰</li>
<li>é™æ€ä¼ å€¼ï¼ˆç›´æ¥å†™å­—ç¬¦ä¸²ï¼‰ç›´æ¥æŠŠç­‰å·åé¢çš„<strong>å†…å®¹ä½œä¸ºçº¯å­—ç¬¦ä¸²</strong>ä¼ é€’ç»™å­ç»„ä»¶çš„ Propsï¼ŒVue ä¸ä¼šå¯¹å…¶åšä»»ä½•è§£æã€è®¡ç®—ï¼ŒåŸæ ·ä¼ é€’ã€‚åŠ¨æ€ä¼ å€¼ï¼ˆ<code>:xxx="å˜é‡"</code>ï¼‰ Vue ä¼šå…ˆè§£ææ±‚å€¼ï¼Œå†æŠŠç»“æœä¼ é€’ç»™å­ç»„ä»¶çš„ Propsã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-13">æ­¥éª¤ 4ï¼šå­ç»„ä»¶ â†’ çˆ¶ç»„ä»¶ä¼ å€¼ï¼ˆEmits äº‹ä»¶æ´¾å‘ï¼‰</h2>
<p><strong>ç›®æ ‡</strong>ï¼šå¼¹çª—å…³é—­æ—¶ï¼Œå‘çˆ¶ç»„ä»¶ä¼ é€’ã€Œå¼¹çª—å…³é—­çš„çŠ¶æ€ã€å’Œã€Œè‡ªå®šä¹‰æ•°æ®ã€ï¼ŒæŒæ¡ <code>defineEmits</code> çš„ä½¿ç”¨ï¼Œå®ç°å­å‘çˆ¶çš„é€šä¿¡ã€‚</p>
<h3 data-id="heading-14">æ”¹é€  <code>BasicPopup.vue</code>ï¼ˆæ´¾å‘äº‹ä»¶ç»™çˆ¶ç»„ä»¶ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="popup-mask" v-if="isShow"&gt;
    &lt;div class="popup-content"&gt;
      &lt;h3&gt;{{ popupTitle }}&lt;/h3&gt;
      &lt;p&gt;{{ popupContent }}&lt;/p&gt;
      &lt;!-- å…³é—­æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œè§¦å‘äº‹ä»¶æ´¾å‘ --&gt;
      &lt;button @click="handleClose"&gt;å…³é—­&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

// 1. å®šä¹‰ Props
const props = defineProps({
  popupTitle: {
    type: String,
    default: 'é»˜è®¤å¼¹çª—æ ‡é¢˜'
  },
  popupContent: {
    type: String,
    default: 'é»˜è®¤å¼¹çª—å†…å®¹'
  }
});

// 2. å®šä¹‰ Emitsï¼Œå£°æ˜è¦æ´¾å‘çš„äº‹ä»¶ï¼ˆæ”¯æŒæ•°ç»„/å¯¹è±¡æ ¼å¼ï¼Œå¯¹è±¡æ ¼å¼å¯æ ¡éªŒï¼‰
const emit = defineEmits([
  'popup-close', // å¼¹çª—å…³é—­äº‹ä»¶
  'send-data'    // å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®çš„äº‹ä»¶
]);

const isShow = ref(false);

// 3. æ”¹é€ å…³é—­æ–¹æ³•ï¼Œæ´¾å‘äº‹ä»¶ç»™çˆ¶ç»„ä»¶
const handleClose = () =&gt; {
  isShow.value = false;
  
  // æ´¾å‘ã€Œpopup-closeã€äº‹ä»¶ï¼Œå¯æºå¸¦å‚æ•°ï¼ˆå¯é€‰ï¼‰
  emit('popup-close', {
    closeTime: new Date().toLocaleString(),
    message: 'å¼¹çª—å·²æ­£å¸¸å…³é—­'
  });
  
  // æ´¾å‘ã€Œsend-dataã€äº‹ä»¶ï¼Œä¼ é€’è‡ªå®šä¹‰æ•°æ®
  emit('send-data', 'è¿™æ˜¯å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’çš„é¢å¤–æ•°æ®');
};

const openPopup = () =&gt; {
  isShow.value = true;
};

defineExpose({
  openPopup
});
&lt;/script&gt;

&lt;style scoped&gt;
/* æ ·å¼åŒå‰ */
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-15">æ”¹é€  <code>App.vue</code>ï¼ˆç›‘å¬å­ç»„ä»¶æ´¾å‘çš„äº‹ä»¶ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;h1&gt;å¼¹çª—å­¦ä¹ æ¼”ç¤º&lt;/h1&gt;
  &lt;button @click="openPopup"&gt;æ‰“å¼€å¼¹çª—&lt;/button&gt;
  &lt;!-- ç›‘å¬å­ç»„ä»¶æ´¾å‘çš„äº‹ä»¶ï¼Œç»‘å®šå¤„ç†æ–¹æ³• --&gt;
  &lt;BasicPopup
    ref="popupRef"
    popupTitle="çˆ¶ç»„ä»¶ä¼ é€’çš„æ ‡é¢˜"
    :popupContent="dynamicContent"
    @popup-close="handlePopupClose"
    @send-data="handleReceiveData"
  /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';
import BasicPopup from './components/BasicPopup.vue';

const popupRef = ref(null);
const dynamicContent = ref('è¿™æ˜¯çˆ¶ç»„ä»¶é€šè¿‡ Props ä¼ é€’çš„åŠ¨æ€å¼¹çª—å†…å®¹ï½');

const openPopup = () =&gt; {
  if (popupRef.value) {
    popupRef.value.openPopup();
  }
};

// 1. å¤„ç†å­ç»„ä»¶æ´¾å‘çš„ã€Œpopup-closeã€äº‹ä»¶
const handlePopupClose = (closeInfo) =&gt; {
  console.log('æ¥æ”¶å¼¹çª—å…³é—­ä¿¡æ¯ï¼š', closeInfo);
  alert(`å¼¹çª—å·²å…³é—­ï¼Œå…³é—­æ—¶é—´ï¼š${closeInfo.closeTime}`);
};

// 2. å¤„ç†å­ç»„ä»¶æ´¾å‘çš„ã€Œsend-dataã€äº‹ä»¶
const handleReceiveData = (data) =&gt; {
  console.log('æ¥æ”¶å­ç»„ä»¶ä¼ é€’çš„æ•°æ®ï¼š', data);
  alert(`æ”¶åˆ°å­ç»„ä»¶æ•°æ®ï¼š${data}`);
};
&lt;/script&gt;

&lt;style&gt;
button {
  margin: 10px;
  padding: 8px 16px;
  background-color: #1890ff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-16">æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
<ol>
<li><code>defineEmits</code> å£°æ˜ç»„ä»¶è¦æ´¾å‘çš„äº‹ä»¶ï¼Œéµå¾ªã€Œäº‹ä»¶åå°å†™+çŸ­æ¨ªçº¿åˆ†éš”ã€è§„èŒƒ</li>
<li><code>emit</code> æ–¹æ³•ç”¨äºæ´¾å‘äº‹ä»¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶åï¼Œåç»­å‚æ•°æ˜¯è¦ä¼ é€’çš„æ•°æ®</li>
<li>çˆ¶ç»„ä»¶é€šè¿‡ <code>@äº‹ä»¶å</code> ç›‘å¬å­ç»„ä»¶äº‹ä»¶ï¼Œå¤„ç†æ–¹æ³•çš„å‚æ•°å°±æ˜¯å­ç»„ä»¶ä¼ é€’çš„æ•°æ®</li>
<li>å•å‘æ•°æ®æµè¡¥å……ï¼šå­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹ Propsï¼Œå¦‚éœ€ä¿®æ”¹ï¼Œå¯é€šè¿‡ã€Œå­ç»„ä»¶æ´¾å‘äº‹ä»¶ â†’ çˆ¶ç»„ä»¶ä¿®æ”¹æ•°æ® â†’ Props é‡æ–°ä¼ é€’ã€å®ç°</li>
</ol>
<hr/>
<h2 data-id="heading-17">æ­¥éª¤ 5ï¼šè·¨ç»„ä»¶ä¼ å€¼ï¼ˆéçˆ¶å­ç»„ä»¶ï¼Œä½¿ç”¨ Provide / Injectï¼‰</h2>
<p><strong>ç›®æ ‡</strong>ï¼šå®ç°ã€Œéçˆ¶å­ç»„ä»¶ã€ï¼ˆå¦‚ï¼š<code>Grandpa.vue</code> â†’ <code>Parent.vue</code> â†’ <code>Popup.vue</code>ï¼Œçˆ·çˆ·ç»„ä»¶å‘å¼¹çª—ç»„ä»¶ä¼ å€¼ï¼‰çš„é€šä¿¡ï¼ŒæŒæ¡ <code>provide</code> / <code>inject</code> çš„ä½¿ç”¨ï¼Œè¿™æ˜¯ Vue ä¸­è·¨ç»„ä»¶ä¼ å€¼çš„æ ¸å¿ƒæ–¹æ¡ˆä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-18">æ­¥éª¤ 5.1ï¼šåˆ›å»ºå±‚çº§ç»„ä»¶ç»“æ„</h3>
<pre><code class="hljs">â”œâ”€â”€ App.vueï¼ˆå…¥å£ï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Grandpa.vueï¼ˆçˆ·çˆ·ç»„ä»¶ï¼Œæä¾›æ•°æ®ï¼‰
â”‚   â”œâ”€â”€ Parent.vueï¼ˆçˆ¶ç»„ä»¶ï¼Œä¸­é—´å±‚çº§ï¼Œæ— æ•°æ®å¤„ç†ï¼‰
â”‚   â””â”€â”€ Popup.vueï¼ˆå¼¹çª—ç»„ä»¶ï¼Œæ³¨å…¥å¹¶ä½¿ç”¨æ•°æ®ï¼‰
</code></pre>
<h3 data-id="heading-19">æ­¥éª¤ 5.2ï¼šçˆ·çˆ·ç»„ä»¶ <code>Grandpa.vue</code>ï¼ˆæä¾›æ•°æ®ï¼Œ<code>provide</code>ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="grandpa"&gt;
    &lt;h2&gt;çˆ·çˆ·ç»„ä»¶&lt;/h2&gt;
    &lt;button @click="updateGlobalData"&gt;ä¿®æ”¹è·¨ç»„ä»¶ä¼ é€’çš„æ•°æ®&lt;/button&gt;
    &lt;!-- å¼•å…¥çˆ¶ç»„ä»¶ï¼ˆä¸­é—´å±‚çº§ï¼‰ --&gt;
    &lt;Parent /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, provide } from 'vue';
import Parent from './Parent.vue';

// 1. å®šä¹‰è¦è·¨ç»„ä»¶ä¼ é€’çš„å“åº”å¼æ•°æ®
const globalPopupConfig = ref({
  author: 'yyt',
  version: '1.0.0',
  theme: 'light',
  maxWidth: '500px'
});

// 2. æä¾›ï¼ˆprovideï¼‰æ•°æ®ï¼Œä¾›åä»£ç»„ä»¶æ³¨å…¥ä½¿ç”¨
// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ³¨å…¥æ ‡è¯†ï¼ˆå­—ç¬¦ä¸²/Symbolï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼šè¦ä¼ é€’çš„æ•°æ®
provide('popupGlobalConfig', globalPopupConfig);

// 3. ä¿®æ”¹å“åº”å¼æ•°æ®ï¼ˆåä»£ç»„ä»¶ä¼šåŒæ­¥æ›´æ–°ï¼‰
const updateGlobalData = () =&gt; {
  globalPopupConfig.value = {
    ...globalPopupConfig.value,
    version: '2.0.0',
    theme: 'dark',
    updateTime: new Date().toLocaleString()
  };
};
&lt;/script&gt;

&lt;style scoped&gt;
.grandpa {
  padding: 20px;
  border: 2px solid #666;
  border-radius: 8px;
  margin: 10px;
}

button {
  padding: 8px 16px;
  background-color: #1890ff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-20">æ­¥éª¤ 5.3ï¼šçˆ¶ç»„ä»¶ <code>Parent.vue</code>ï¼ˆä¸­é—´å±‚çº§ï¼Œä»…åšç»„ä»¶åµŒå¥—ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="parent"&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶ï¼ˆä¸­é—´å±‚çº§ï¼‰&lt;/h3&gt;
    &lt;button @click="openPopup"&gt;æ‰“å¼€è·¨ç»„ä»¶ä¼ å€¼çš„å¼¹çª—&lt;/button&gt;
    &lt;!-- å¼•å…¥å¼¹çª—ç»„ä»¶ --&gt;
    &lt;Popup ref="popupRef" /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';
import Popup from './Popup.vue';

const popupRef = ref(null);

// æ‰“å¼€å¼¹çª—
const openPopup = () =&gt; {
  if (popupRef.value) {
    popupRef.value.openPopup();
  }
};
&lt;/script&gt;

&lt;style scoped&gt;
.parent {
  padding: 20px;
  border: 2px solid #999;
  border-radius: 8px;
  margin: 10px;
  margin-top: 20px;
}

button {
  padding: 8px 16px;
  background-color: #1890ff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-21">æ­¥éª¤ 5.4ï¼šå¼¹çª—ç»„ä»¶ <code>Popup.vue</code>ï¼ˆæ³¨å…¥æ•°æ®ï¼Œ<code>inject</code>ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="popup-mask" v-if="isShow" :style="{ backgroundColor: themeBg }"&gt;
    &lt;div class="popup-content" :style="{ maxWidth: globalConfig.maxWidth, background: globalConfig.theme === 'dark' ? '#333' : '#fff', color: globalConfig.theme === 'dark' ? '#fff' : '#333' }"&gt;
      &lt;h3&gt;{{ popupTitle }}&lt;/h3&gt;
      &lt;p&gt;{{ popupContent }}&lt;/p&gt;
      &lt;!-- æ¸²æŸ“è·¨ç»„ä»¶ä¼ é€’çš„æ•°æ® --&gt;
      &lt;div class="global-info" style="margin: 15px 0; padding: 10px; border: 1px solid #eee; border-radius: 4px;"&gt;
        &lt;p&gt;è·¨ç»„ä»¶ä¼ é€’çš„é…ç½®ï¼š&lt;/p&gt;
        &lt;p&gt;ä½œè€…ï¼š{{ globalConfig.author }}&lt;/p&gt;
        &lt;p&gt;ç‰ˆæœ¬ï¼š{{ globalConfig.version }}&lt;/p&gt;
        &lt;p&gt;ä¸»é¢˜ï¼š{{ globalConfig.theme }}&lt;/p&gt;
        &lt;p v-if="globalConfig.updateTime"&gt;æ›´æ–°æ—¶é—´ï¼š{{ globalConfig.updateTime }}&lt;/p&gt;
      &lt;/div&gt;
      &lt;button @click="handleClose"&gt;å…³é—­&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, inject, computed } from 'vue';

// 1. å®šä¹‰ Props
const props = defineProps({
  popupTitle: {
    type: String,
    default: 'é»˜è®¤å¼¹çª—æ ‡é¢˜'
  },
  popupContent: {
    type: String,
    default: 'é»˜è®¤å¼¹çª—å†…å®¹'
  }
});

// 2. æ³¨å…¥ï¼ˆinjectï¼‰çˆ·çˆ·ç»„ä»¶æä¾›çš„æ•°æ®
// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ³¨å…¥æ ‡è¯†ï¼ˆä¸ provide ä¸€è‡´ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼šé»˜è®¤å€¼ï¼ˆå¯é€‰ï¼‰
const globalConfig = inject('popupGlobalConfig', ref({ author: 'é»˜è®¤ä½œè€…', version: '0.0.1' }));

// 3. åŸºäºæ³¨å…¥çš„æ•°æ®åˆ›å»ºè®¡ç®—å±æ€§ï¼ˆå¯é€‰ï¼Œä¼˜åŒ–ä½¿ç”¨ä½“éªŒï¼‰
const themeBg = computed(() =&gt; {
  return globalConfig.value.theme === 'dark' ? 'rgba(0, 0, 0, 0.8)' : 'rgba(0, 0, 0, 0.5)';
});

// 4. å®šä¹‰ Emits
const emit = defineEmits(['popup-close']);

const isShow = ref(false);

// 5. å…³é—­æ–¹æ³•
const handleClose = () =&gt; {
  isShow.value = false;
  emit('popup-close', { message: 'å¼¹çª—å·²å…³é—­' });
};

// 6. æ‰“å¼€å¼¹çª—æ–¹æ³•
const openPopup = () =&gt; {
  isShow.value = true;
};

// 7. æš´éœ²æ–¹æ³•
defineExpose({
  openPopup
});
&lt;/script&gt;

&lt;style scoped&gt;
.popup-mask {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.popup-content {
  padding: 20px;
  border-radius: 8px;
  text-align: center;
}

button {
  margin-top: 20px;
  padding: 8px 16px;
  background-color: #1890ff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-22">æ­¥éª¤ 5.5ï¼šå…¥å£ <code>App.vue</code>ï¼ˆå¼•å…¥çˆ·çˆ·ç»„ä»¶ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;h1&gt;è·¨ç»„ä»¶ä¼ å€¼æ¼”ç¤ºï¼ˆProvide / Injectï¼‰&lt;/h1&gt;
  &lt;Grandpa /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import Grandpa from './components/Grandpa.vue';
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-23">æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
<ol>
<li><code>provide</code> / <code>inject</code> ç”¨äº<strong>è·¨å±‚çº§ç»„ä»¶é€šä¿¡</strong>ï¼ˆæ— è®ºå±‚çº§å¤šæ·±ï¼‰ï¼Œçˆ·çˆ·ç»„ä»¶æä¾›æ•°æ®ï¼Œåä»£ç»„ä»¶æ³¨å…¥ä½¿ç”¨</li>
<li>ä¼ é€’å“åº”å¼æ•°æ®ï¼š<code>provide</code> æ—¶ä¼ é€’ <code>ref</code>/<code>reactive</code> åŒ…è£…çš„æ•°æ®ï¼Œåä»£ç»„ä»¶å¯æ„ŸçŸ¥æ•°æ®å˜åŒ–ï¼ˆåŒæ­¥æ›´æ–°ï¼‰</li>
<li>æ³¨å…¥æ ‡è¯†ï¼šå»ºè®®ä½¿ç”¨ <code>Symbol</code> é¿å…å‘½åå†²çªï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰ï¼Œæœ¬æ­¥éª¤ä¸ºç®€åŒ–ä½¿ç”¨å­—ç¬¦ä¸²æ ‡è¯†</li>
<li>æ³¨å…¥é»˜è®¤å€¼ï¼š<code>inject</code> ç¬¬äºŒä¸ªå‚æ•°ä¸ºé»˜è®¤å€¼ï¼Œé˜²æ­¢ç¥–å…ˆç»„ä»¶æœªæä¾›æ•°æ®æ—¶å‡ºç°æŠ¥é”™</li>
<li>ä¸ Props/Emits çš„åŒºåˆ«ï¼šProps é€‚ç”¨äºçˆ¶å­ç»„ä»¶ï¼Œ<code>provide</code>/<code>inject</code> é€‚ç”¨äºè·¨å±‚çº§ç»„ä»¶</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>