<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ä¸ºä»€ä¹ˆè¯´ AI è§†é¢‘æ¨¡å‹ä¸èƒ½ç”¨æ¥åšæ•™è‚²ï¼ŸSora-2 Veo-3 æ¥äº†ä¹Ÿä¸è¡Œ]]></title>    <link>https://juejin.cn/post/7585097023747981327</link>    <guid>https://juejin.cn/post/7585097023747981327</guid>    <pubDate>2025-12-19T05:04:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585097023747981327" data-draft-id="7585145251842981903" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆè¯´ AI è§†é¢‘æ¨¡å‹ä¸èƒ½ç”¨æ¥åšæ•™è‚²ï¼ŸSora-2 Veo-3 æ¥äº†ä¹Ÿä¸è¡Œ"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T05:04:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼ æ‹­å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/571401775094312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆè¯´ AI è§†é¢‘æ¨¡å‹ä¸èƒ½ç”¨æ¥åšæ•™è‚²ï¼ŸSora-2 Veo-3 æ¥äº†ä¹Ÿä¸è¡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/571401775094312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼ æ‹­å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:04:17.000Z" title="Fri Dec 19 2025 05:04:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šå‘¨æœ«ï¼Œæœ‹å‹æ¥å®¶é‡Œåšå®¢ï¼Œè®©æˆ‘ç»™å¥¹å­©å­è®²äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„ï¼Œå¥¹æ€ä¹ˆè®²éƒ½è®²ä¸æ˜ç™½ã€‚</p>
<p>è€å©†å¯¹æˆ‘è¯´ï¼Œä½ ä¸æ˜¯å¤©å¤©ç ”ç©¶ AI å—ï¼Œç”Ÿæˆä¸€ä¸ªè§£é¢˜è§†é¢‘åº”è¯¥å¾ˆç®€å•å§ï¼Ÿè®©å­©å­çœ‹è§†é¢‘æ¯”æƒ³è±¡æ›´å®¹æ˜“ç†è§£ã€‚</p>
<p>æˆ‘æƒ³äº†æƒ³ï¼Œç¡®å®ï¼Œç°åœ¨çš„ AI è§†é¢‘ç”Ÿæˆå·²ç»åˆ°äº†ä¸€ä¸ªå¾ˆå¤¸å¼ çš„åœ°æ­¥ï¼Œç”Ÿæˆä¸ªæ•™å­¦è§†é¢‘ï¼Œåº”è¯¥ä¸éš¾ã€‚äºæ˜¯æˆ‘æ‰“å¼€äº†æœ€æ–°çš„ Veo-3ï¼Œè¾“å…¥äº†ä¸€é“å°å­¦æ•°å­¦é¢˜ï¼Œè®©å®ƒç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„è§£é¢˜è¿‡ç¨‹ã€‚</p>
<p>å‡ åˆ†é’Ÿåï¼Œè§†é¢‘ç”Ÿæˆäº†ã€‚</p>
<p>ç”»é¢å¾ˆç²¾è‡´ï¼Œæœ‰æ‰‹å†™çš„æ¼”ç®—è¿‡ç¨‹ï¼Œæœ‰ç®­å¤´æŒ‡ç¤ºï¼Œæœ‰æ­¥éª¤æ ‡æ³¨ï¼Œçœ‹èµ·æ¥éå¸¸ä¸“ä¸šï¼Œåƒé‚£ç§æ•™è‚²æœºæ„ç²¾å¿ƒåˆ¶ä½œçš„æ•™å­¦è§†é¢‘ã€‚æˆ‘ç‚¹å¼€çœ‹äº†ä¸€éï¼Œå—¯ï¼Œæœ€åç­”æ¡ˆæ˜¯å¯¹çš„ã€‚</p>
<p>æˆ‘å‡†å¤‡å‘ç»™æœ‹å‹ã€‚</p>
<p>ä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘åˆçœ‹äº†ä¸€éã€‚è¿™æ¬¡æˆ‘ç›¯ç€æ¯ä¸€ä¸ªæ¨å¯¼æ­¥éª¤ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼Œç­‰ç­‰ï¼Œè¿™é‡Œæ€ä¹ˆç›´æ¥æ¶ˆå…ƒäº†ï¼Ÿ</p>
<p>ç¬¬ä¸‰æ­¥ï¼Œè¿™ä¸ªç³»æ•°å“ªæ¥çš„ï¼Ÿ</p>
<p>ç¬¬äº”æ­¥ï¼Œè¿™ä¸€æ­¥è·Ÿä¸Šä¸€æ­¥æ ¹æœ¬æ¥ä¸ä¸Šã€‚</p>
<p>ä½†æœ€åï¼Œç­”æ¡ˆæ˜¯å¯¹çš„ã€‚</p>
<p>æˆ‘æŠŠè§†é¢‘åˆ äº†ã€‚</p>
<h2 data-id="heading-0">ç­”æ¡ˆå¯¹äº†ï¼Œä½†è¿‡ç¨‹æ˜¯å‡çš„</h2>
<p>æˆ‘å‘ç°äº†ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼šè¿™ä¸ª AI è§†é¢‘åœ¨"è¡¨æ¼”æ¨ç†"ã€‚</p>
<p>ä»€ä¹ˆå«è¡¨æ¼”æ¨ç†ï¼Ÿ</p>
<p><strong>å°±æ˜¯å®ƒçœ‹èµ·æ¥åœ¨ä¸€æ­¥ä¸€æ­¥åœ°è§£é¢˜ï¼Œå®é™…ä¸Šæ¯ä¸€æ­¥çš„é€»è¾‘éƒ½æ˜¯æ··ä¹±çš„ï¼Œç”šè‡³æœ‰äº›æ­¥éª¤æ ¹æœ¬å°±æ˜¯é”™çš„ï¼Œä½†æœ€åå®ƒç¥å¥‡åœ°å¾—å‡ºäº†æ­£ç¡®ç­”æ¡ˆã€‚</strong></p>
<p>è¿™ä¸æ˜¯æˆ‘çš„ä¸»è§‚æ„Ÿå—ã€‚æœ€è¿‘çœ‹åˆ°ä¸€ç¯‡è®ºæ–‡è¯å®äº†è¿™ç‚¹ï¼Œè®ºæ–‡å«ã€ŠMMGR: Multi-Modal Generative Reasoningã€‹ï¼ˆå¤šæ¨¡æ€ç”Ÿæˆæ¨ç†è¯„ä¼°ä¸åŸºå‡†æµ‹è¯•ï¼‰ï¼Œè®ºæ–‡ä¸“é—¨æµ‹è¯•äº†å½“å‰æœ€å…ˆè¿›çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼ˆVeo-3 Sora-2 Wan-2.2 ç­‰ï¼‰åœ¨æ•°å­¦ã€é€»è¾‘æ¨ç†ä»»åŠ¡ä¸Šçš„è¡¨ç°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd1bf88979b1486581671144cf7b1c02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766725456&amp;x-signature=U21bKMQqfCEA0toOA6IVQvQK%2FHU%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>è®ºæ–‡åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fpdf%2F2512.14691v1" target="_blank" title="https://arxiv.org/pdf/2512.14691v1" ref="nofollow noopener noreferrer">arxiv.org/pdf/2512.14â€¦</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99231774ad9f40d984fea54b57535227~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766725456&amp;x-signature=88gErCqJEasxO6SleobIqa50zmQ%3D" alt="image.png" loading="lazy"/></p>
<p>ä»–ä»¬ç”¨ GSM8K è¿™ä¸ªå°å­¦æ•°å­¦é¢˜åº“æµ‹è¯•äº† Veo-3ã€‚è¿™ä¸ªæ¨¡å‹åœ¨"æœ€ç»ˆç­”æ¡ˆæ­£ç¡®ç‡"ä¸Šè¾¾åˆ°äº† 74%ï¼Œçœ‹èµ·æ¥è¿˜ä¸é”™ã€‚</p>
<p>ä½†æ˜¯ã€‚</p>
<p>å½“ä»–ä»¬å»æ£€æŸ¥"æ¨ç†è¿‡ç¨‹æ­£ç¡®ç‡"çš„æ—¶å€™ï¼Œå‘ç°åªæœ‰ 12%ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87ae36c66a0d415c88b9acb5326ba304~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766725456&amp;x-signature=VFqv%2B3VSMHzLELVzdXpDoMqGTkA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>74% vs 12%ã€‚</strong></p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€<strong>åœ¨é‚£ 62% çš„æƒ…å†µä¸‹ï¼ŒAI ç»™å‡ºäº†æ­£ç¡®ç­”æ¡ˆï¼Œä½†æ¨ç†è¿‡ç¨‹æ˜¯é”™çš„ã€‚</strong></p>
<p>å®ƒä¸æ˜¯çœŸçš„åœ¨è§£é¢˜ï¼Œå®ƒæ˜¯åœ¨"è’™"ç­”æ¡ˆï¼Œç„¶åç”¨ä¸€äº›çœ‹èµ·æ¥åƒæ¨ç†çš„ä¸œè¥¿ï¼ŒæŠŠè¿™ä¸ªç­”æ¡ˆåŒ…è£…èµ·æ¥ã€‚</p>
<p>å°±åƒä¸€ä¸ªå­¦ç”Ÿï¼Œè€ƒè¯•å‰èƒŒäº†ç­”æ¡ˆï¼Œä½†ä¸ä¼šåšé¢˜ã€‚äºæ˜¯åœ¨å·é¢ä¸Šèƒ¡ä¹±å†™äº†ä¸€å †æ­¥éª¤ï¼Œæœ€åæŠŠèƒŒä¸‹æ¥çš„ç­”æ¡ˆå¡«ä¸Šå»ã€‚è€å¸ˆä¸€çœ‹ï¼Œç­”æ¡ˆå¯¹äº†ï¼Œä½†å¦‚æœä»”ç»†çœ‹è¿‡ç¨‹ï¼Œå…¨æ˜¯èƒ¡æ‰¯ã€‚</p>
<p>è¿™å°±æ˜¯ç›®å‰ AI è§†é¢‘åœ¨åšçš„äº‹ã€‚</p>
<h2 data-id="heading-1">æ›´å¯æ€•çš„æ˜¯ï¼Œå®ƒä¼šç¯¡æ”¹é¢˜ç›®</h2>
<p>è¿™ä¸ªæ•°æ®è¿˜ä¸æ˜¯æœ€å¯æ€•çš„ã€‚</p>
<p>æ›´å¯æ€•çš„æ˜¯ï¼Œ<strong>è¿™äº›è§†é¢‘æ¨¡å‹è¿˜ä¼šåœ¨è§£é¢˜è¿‡ç¨‹ä¸­ï¼Œæ‚„æ‚„æ”¹å˜é¢˜ç›®æ¡ä»¶ã€‚</strong></p>
<p>åœ¨æ•°ç‹¬æµ‹è¯•ä¸­ï¼Œç ”ç©¶äººå‘˜å‘ç°ï¼ŒAI ç”Ÿæˆçš„è§†é¢‘é‡Œï¼Œåˆå§‹ç»™å®šçš„æ•°å­—ä¼šåœ¨è§£é¢˜è¿‡ç¨‹ä¸­æ‚„æ‚„æ”¹å˜ã€‚ä½ ä¸€å¼€å§‹çœ‹åˆ°çš„æ˜¯ 3ï¼Œè¿‡äº†å‡ ç§’ï¼Œå®ƒå¯èƒ½å°±å˜æˆäº† 5ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38e494cb00034ca798a7d68b4840e994~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766725456&amp;x-signature=aOZ%2BDhSiO5%2Fkah2zeW4OKxD9oLw%3D" alt="image.png" loading="lazy"/></p>
<p>è€Œåœ¨è¿·å®«ä»»åŠ¡ä¸­ï¼ŒAI ä¼šè®©è§’è‰²ç›´æ¥ç©¿å¢™ï¼Œæ— è§†ç‰©ç†è§„åˆ™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/707f2f3fb14b4ccfbace6dd8f461adac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766725456&amp;x-signature=nZa53FIoeD5OnYxiI0ajWP9m2iY%3D" alt="image.png" loading="lazy"/></p>
<p>äººç±»è¯„ä¼°å‘ç°ï¼Œ<strong>70% çš„æƒ…å†µä¸‹ï¼ŒAI éƒ½åœ¨"ä½œå¼Š"</strong>ã€‚åšæŠ½è±¡æ¨ç†ä»»åŠ¡æ—¶ï¼ŒAI ä¼šä¿®æ”¹æ¼”ç¤ºæ ·ä¾‹çš„é¢œè‰²ã€å½¢çŠ¶ï¼Œç ´åäº†è§£é¢˜çš„ä¾æ®ã€‚</p>
<p>è¿™å°±å¥½æ¯”ï¼Œä½ ç»™å­©å­å‡ºäº†ä¸€é“é¢˜ï¼šå°æ˜æœ‰ 3 ä¸ªè‹¹æœï¼Œå°çº¢æœ‰ 5 ä¸ªè‹¹æœï¼Œé—®ä¸€å…±æœ‰å‡ ä¸ªï¼Ÿ</p>
<p>AI çš„è§†é¢‘å¼€å§‹æ¼”ç¤ºè®¡ç®—è¿‡ç¨‹ï¼Œæ¼”ç€æ¼”ç€ï¼Œå°æ˜çš„è‹¹æœå˜æˆäº†4ä¸ªã€‚</p>
<p>ç„¶åå®ƒå‘Šè¯‰ä½ ç­”æ¡ˆæ˜¯ 9ã€‚</p>
<p>ä½ è¯´ï¼Œè¿™ç§ä¸œè¥¿èƒ½ç»™å­©å­çœ‹å—ï¼Ÿ</p>
<h2 data-id="heading-2">ä¸ºä»€ä¹ˆä¼šè¿™æ ·</h2>
<p>ä¸ºä»€ä¹ˆè¿™äº›è§†é¢‘æ¨¡å‹ä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Ÿçœ‹å®ƒä»¬çš„æŒ‡æ ‡éƒ½å¾ˆå‰å®³çš„æ ·å­å•Šã€‚</p>
<p>è®ºæ–‡é‡Œç»™å‡ºäº†å‡ ä¸ªåŸå› ï¼Œæˆ‘è§‰å¾—å¾ˆæœ‰é“ç†ã€‚</p>
<p><strong>ç¬¬ä¸€ä¸ªåŸå› ï¼Œæ˜¯è®­ç»ƒæ•°æ®çš„åå·®ã€‚</strong></p>
<p>å½“å‰çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œè®­ç»ƒæ•°æ®ä¸»è¦æ˜¯è‡ªç„¶åœºæ™¯ã€ç‰©ç†äº’åŠ¨ã€æ—¥å¸¸åŠ¨æ€è¿™äº›ä¸œè¥¿ã€‚å®ƒä»¬æ“…é•¿ç”Ÿæˆä¸€ä¸ªäººæ‰“ç¯®çƒã€ä¸€åªçŒ«è·³ä¸Šæ¡Œå­ã€ä¸€è¾†è½¦åœ¨è·¯ä¸Šè¡Œé©¶è¿™ç§ç”»é¢ã€‚è¿™äº›åœºæ™¯é‡Œï¼Œæœ‰å¤§é‡çš„ç‰©ç†å¸¸è¯†ï¼Œæœ‰ä¸°å¯Œçš„è§†è§‰ç»†èŠ‚ï¼Œæ¨¡å‹å­¦å¾—å¾ˆå¥½ã€‚</p>
<p>ä½†æ˜¯ï¼Œæ•°å­¦æ¨å¯¼ã€é€»è¾‘è¯æ˜ã€ç¬¦å·æ¨ç†è¿™äº›ä¸œè¥¿ï¼Œåœ¨è®­ç»ƒæ•°æ®é‡Œå¤ªå°‘äº†ã€‚</p>
<p>è¿™å°±åƒè®©ä¸€ä¸ªä»å°çœ‹æ­¦ä¾ ç‰‡é•¿å¤§çš„å¯¼æ¼”ï¼Œå»æ‹ä¸€éƒ¨æ³•åº­è¾©è®ºç‰‡ã€‚ä»–ä¼šæœ¬èƒ½åœ°åŠ å…¥æ‰“æ–—ã€è¿½é€ã€æ…¢é•œå¤´ï¼Œå› ä¸ºè¿™æ˜¯ä»–ç†Ÿæ‚‰çš„è¯­è¨€ã€‚ä½†æ³•åº­è¾©è®ºéœ€è¦çš„é€»è¾‘é“¾æ¡ã€è¯æ®æ¨æ¼”ã€å› æœå…³ç³»ï¼Œä»–ä¸ä¼šã€‚</p>
<p>æ‰€ä»¥ï¼Œå½“ä½ è®© AI ç”Ÿæˆä¸€ä¸ªè§£é¢˜è§†é¢‘çš„æ—¶å€™ï¼Œå®ƒåªèƒ½ç”¨å®ƒæ“…é•¿çš„æ–¹å¼â€”â€”ç”Ÿæˆä¸€äº›"çœ‹èµ·æ¥åƒåœ¨è§£é¢˜"çš„ç”»é¢ã€‚è‡³äºè¿™äº›ç”»é¢ä¹‹é—´æœ‰æ²¡æœ‰é€»è¾‘å…³ç³»ï¼Œå®ƒä¸çŸ¥é“ï¼Œä¹Ÿä¸åœ¨ä¹ã€‚</p>
<p><strong>ç¬¬äºŒä¸ªåŸå› ï¼Œæ˜¯ä¼˜åŒ–ç›®æ ‡çš„é”™ä½ã€‚</strong></p>
<p>è§†é¢‘ç”Ÿæˆæ¨¡å‹çš„è®­ç»ƒç›®æ ‡ï¼Œæ˜¯è®©ç”»é¢çœ‹èµ·æ¥é€¼çœŸã€æµç•…ã€è¿è´¯ã€‚å®ƒçš„æŸå¤±å‡½æ•°ä¼˜åŒ–çš„æ˜¯"è§†è§‰åˆç†æ€§"ï¼Œè€Œä¸æ˜¯"é€»è¾‘æ­£ç¡®æ€§"ã€‚</p>
<p>æ‰€ä»¥ï¼Œå½“æ¨¡å‹å‘ç°"è®©æ•°å­—è·³ä¸€ä¸‹"å¯ä»¥è®©ç”»é¢æ›´æµç•…çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šè¿™ä¹ˆåšï¼Œå“ªæ€•è¿™ä¸ªæ•°å­—æ˜¯é¢˜ç›®æ¡ä»¶ï¼Œä¸åº”è¯¥æ”¹å˜ã€‚å½“æ¨¡å‹å‘ç°"è®©è§’è‰²ç©¿å¢™"å¯ä»¥è®©è·¯å¾„æ›´å¹³æ»‘çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šè¿™ä¹ˆåšï¼Œå“ªæ€•è¿™è¿åäº†æ¸¸æˆè§„åˆ™ã€‚</p>
<p>å®ƒè¿½æ±‚çš„æ˜¯"ç”»é¢å¥½çœ‹"ï¼Œè€Œä¸æ˜¯"é€»è¾‘æ­£ç¡®"ã€‚</p>
<p><strong>ç¬¬ä¸‰ä¸ªåŸå› ï¼Œæ˜¯æ¶æ„çš„å±€é™ã€‚</strong></p>
<p>å½“å‰çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œæ²¡æœ‰æ˜¾å¼çš„"ä¸–ç•ŒçŠ¶æ€è¡¨ç¤º"ï¼Œæ²¡æœ‰"å¤–éƒ¨è®°å¿†"ï¼Œæ²¡æœ‰"ç¬¦å·æ¨ç†æ¨¡å—"ã€‚å®ƒåªæ˜¯åœ¨é€å¸§é¢„æµ‹ä¸‹ä¸€ä¸ªç”»é¢åº”è¯¥é•¿ä»€ä¹ˆæ ·ï¼Œè€Œä¸æ˜¯åœ¨ç»´æŠ¤ä¸€ä¸ªå†…éƒ¨çš„ã€ä¸€è‡´çš„ã€é€»è¾‘çš„ä¸–ç•Œæ¨¡å‹ã€‚</p>
<p>è¿™å°±å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šå®ƒæ— æ³•åœ¨é•¿åºåˆ—ä¸­ä¿æŒé€»è¾‘çº¦æŸã€‚</p>
<p>åœ¨æ•°ç‹¬ä»»åŠ¡ä¸­ï¼Œå®ƒå¯èƒ½åœ¨ç¬¬ 1 ç§’æ­£ç¡®å¡«å……äº†ä¸€ä¸ªæ•°å­—ï¼Œä½†åˆ°äº†ç¬¬ 2 ç§’ï¼Œå®ƒ"å¿˜è®°"äº†è¿™ä¸ªçº¦æŸï¼Œåˆå¡«äº†ä¸€ä¸ªå†²çªçš„æ•°å­—ã€‚åœ¨æ•°å­¦æ¨å¯¼ä¸­ï¼Œå®ƒå¯èƒ½åœ¨ç¬¬ä¸€æ­¥ç”¨äº†æŸä¸ªå˜é‡çš„å®šä¹‰ï¼Œä½†åˆ°äº†ç¬¬ä¸‰æ­¥ï¼Œå®ƒåˆç”¨äº†å¦ä¸€ä¸ªå®šä¹‰ï¼Œå‰åçŸ›ç›¾ã€‚</p>
<p>è®ºæ–‡é‡ŒæŠŠè¿™ä¸ªé—®é¢˜å«åš"æ—¶åºç¨"â€”â€”ä¸ºäº†ç»´æŒå¸§é—´çš„è¿è´¯æ€§ï¼Œæ¨¡å‹ä¸å¾—ä¸ç‰ºç‰²é€»è¾‘çš„ä¸€è‡´æ€§ã€‚</p>
<p>è¿™ä¸‰ä¸ªåŸå› åŠ åœ¨ä¸€èµ·ï¼Œå¯¼è‡´äº†ä¸€ä¸ªç»“æœï¼š</p>
<p>å½“å‰çš„ AI è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª"è§†è§‰åŠ¨ç”»åˆæˆå™¨"ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª"é€»è¾‘æ¨ç†æ¨¡æ‹Ÿå™¨"ã€‚</p>
<p>å®ƒå¯ä»¥ç”Ÿæˆéå¸¸é€¼çœŸã€éå¸¸æµç•…ã€éå¸¸å¥½çœ‹çš„è§†é¢‘ã€‚</p>
<p>ä½†å®ƒä¸ä¼š"æ€è€ƒ"ã€‚</p>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆä¸é€‚åˆç»™å­©å­çœ‹</h2>
<p>å›åˆ°æœ€å¼€å§‹çš„é—®é¢˜ï¼šä¸ºä»€ä¹ˆè¿™ç§è§†é¢‘ä¸é€‚åˆç»™å­©å­çœ‹ï¼Ÿ</p>
<p>å› ä¸ºå­©å­å­¦ä¹ æ•°å­¦ï¼Œå­¦çš„ä¸åªæ˜¯ç­”æ¡ˆï¼Œæ›´æ˜¯æ€ç»´æ–¹å¼ã€‚</p>
<p>æˆ‘ä»¥å‰åšå®¶æ•™æ•™è¿‡ä¸€ä¸ªå­¦ç”Ÿï¼Œé«˜äºŒï¼Œæ•°å­¦æˆç»©è¿˜ä¸é”™ï¼Œä½†æœ‰ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼šä»–åšé¢˜å¾ˆå¿«ï¼Œä½†ä¸€é‡åˆ°å˜å¼å°±æ‡µã€‚æˆ‘è®©ä»–ç»™æˆ‘è®²è®²æ€è·¯ï¼Œä»–è¯´ä¸å‡ºæ¥ã€‚æˆ‘é—®ä»–ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œä»–è¯´"æ„Ÿè§‰åº”è¯¥è¿™æ ·"ã€‚</p>
<p>åæ¥æˆ‘å‘ç°ï¼Œä»–å…¶å®æ˜¯åœ¨"èƒŒé¢˜å‹"ã€‚ä»–è§è¿‡è¿™ç§é¢˜ï¼Œè®°ä½äº†è§£æ³•ï¼Œä½†ä¸ç†è§£ä¸ºä»€ä¹ˆè¿™ä¹ˆåšã€‚æ‰€ä»¥ä¸€æ—¦é¢˜ç›®ç¨å¾®å˜åŒ–ï¼Œä»–å°±ä¸ä¼šäº†ã€‚</p>
<p>è¿™ç§å­¦ä¹ æ–¹å¼ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨"èƒŒç­”æ¡ˆ"ï¼Œè€Œä¸æ˜¯åœ¨"å­¦æ€è€ƒ"ã€‚</p>
<p><strong>è€Œ AI ç”Ÿæˆçš„è¿™äº›è§†é¢‘ï¼Œæ°æ°å°±æ˜¯åœ¨æ•™å­©å­"èƒŒç­”æ¡ˆ"ã€‚å®ƒç»™ä½ å±•ç¤ºäº†ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆä¸“ä¸šçš„è§£é¢˜è¿‡ç¨‹ï¼Œä½†è¿™ä¸ªè¿‡ç¨‹æ˜¯å‡çš„ï¼Œæ˜¯è¡¨æ¼”å‡ºæ¥çš„ï¼Œæ˜¯æ²¡æœ‰é€»è¾‘æ”¯æ’‘çš„ã€‚</strong></p>
<p>å¦‚æœå­©å­çœ‹å¤šäº†è¿™ç§è§†é¢‘ï¼Œä»–ä¼šä»¥ä¸º"è§£é¢˜å°±æ˜¯è¿™æ ·çš„"ï¼Œä¼šä»¥ä¸º"æ•°å­¦å°±æ˜¯è¿™æ ·çš„"ã€‚ä»–ä¼šå­¦ä¼šæ¨¡ä»¿é‚£äº›è¡¨é¢çš„å½¢å¼ï¼Œä½†å­¦ä¸ä¼šçœŸæ­£çš„æ¨ç†ã€‚</p>
<p>æˆ‘è§‰å¾—æ›´å±é™©çš„æ˜¯ï¼Œè¿™äº›è§†é¢‘é‡Œçš„é”™è¯¯ï¼Œå­©å­å¯èƒ½æ ¹æœ¬å‘ç°ä¸äº†ã€‚</p>
<p>ä¸€ä¸ªæˆå¹´äººï¼Œä¸€ä¸ªå­¦è¿‡æ•°å­¦çš„äººï¼Œå¯èƒ½è¿˜èƒ½çœ‹å‡ºæ¥"è¿™ä¸€æ­¥ä¸å¯¹"ã€"è¿™é‡Œé€»è¾‘è·³è·ƒäº†"ã€‚<strong>ä½†ä¸€ä¸ªæ­£åœ¨å­¦ä¹ çš„å­©å­ï¼Œä»–æ€ä¹ˆçŸ¥é“å“ªé‡Œæ˜¯å¯¹çš„ï¼Œå“ªé‡Œæ˜¯é”™çš„ï¼Ÿä»–åªä¼šå…¨ç›˜æ¥å—ï¼Œç„¶ååœ¨é”™è¯¯çš„åŸºç¡€ä¸Šç»§ç»­å­¦ä¹ ã€‚</strong></p>
<h2 data-id="heading-4">æˆ‘çš„é€‰æ‹©</h2>
<p>æ‰€ä»¥ï¼Œæˆ‘æ²¡æœ‰æŠŠé‚£ä¸ªè§†é¢‘ç»™å­©å­çœ‹ã€‚</p>
<p>æˆ‘å…³æ‰äº† Veo-3ï¼Œæ‰“å¼€äº†ä¸€å¼ ç™½çº¸ï¼Œæ‹¿èµ·ç¬”ï¼Œä¸€æ­¥ä¸€æ­¥åœ°ç»™æœ‹å‹å­©å­è®²äº†é‚£é“äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„ã€‚</p>
<p>æˆ‘å†™å¾—å¾ˆæ…¢ï¼Œæ¯ä¸€æ­¥éƒ½è§£é‡Šä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œæ¯ä¸€ä¸ªå˜æ¢éƒ½è¯´æ˜ä¾æ®æ˜¯ä»€ä¹ˆã€‚å­©å­é—®äº†å¾ˆå¤šé—®é¢˜ï¼Œæˆ‘ä¸€ä¸ªä¸€ä¸ªå›ç­”ã€‚</p>
<p>ä»–é—®ï¼š"ä¸ºä»€ä¹ˆè¦å…ˆæ¶ˆæ‰yï¼Ÿ"</p>
<p>æˆ‘è¯´ï¼š"å› ä¸ºè¿™æ ·xçš„ç³»æ•°ä¼šå˜å¾—ç®€å•ï¼Œå®¹æ˜“è®¡ç®—ã€‚"</p>
<p>ä»–åˆé—®ï¼š"é‚£èƒ½ä¸èƒ½å…ˆæ¶ˆxï¼Ÿ"</p>
<p>æˆ‘è¯´ï¼š"å¯ä»¥å•Šï¼Œä½ è¯•è¯•çœ‹ã€‚"</p>
<p>ç„¶åä»–è‡ªå·±ç®—äº†ä¸€éï¼Œå‘ç°ä¹Ÿèƒ½åšå‡ºæ¥ï¼Œåªæ˜¯éº»çƒ¦ä¸€ç‚¹ã€‚ä»–çªç„¶ç¬‘äº†ï¼Œè¯´ï¼š"åŸæ¥å¯ä»¥æœ‰ä¸åŒçš„æ–¹æ³•ã€‚"</p>
<p>è¿™ä¸ªç¬é—´ï¼Œæˆ‘è§‰å¾—ï¼Œè¿™æ‰æ˜¯å­¦ä¹ åº”è¯¥æœ‰çš„æ ·å­ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹å¾ˆæ…¢ï¼Œå¾ˆç¬¨æ‹™ï¼Œå¾ˆä½æ•ˆã€‚ä½†æˆ‘è§‰å¾—ï¼Œæœ‰äº›ä¸œè¥¿ï¼Œæœ¬æ¥å°±ä¸åº”è¯¥è¢«åŠ é€Ÿã€‚</p>
<p>AI å¾ˆå¼ºå¤§ï¼Œè§†é¢‘ç”ŸæˆæŠ€æœ¯ä¹Ÿç¡®å®å¾ˆå‰å®³ã€‚å®ƒå¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œå¯ä»¥ç”Ÿæˆç²¾ç¾çš„åŠ¨ç”»ï¼Œå¯ä»¥åˆ¶ä½œæœ‰è¶£çš„å†…å®¹ï¼Œå¯ä»¥è®©å¾ˆå¤šå·¥ä½œå˜å¾—æ›´é«˜æ•ˆã€‚</p>
<p>ä½†<strong>åœ¨æ•™è‚²è¿™ä»¶äº‹ä¸Šï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°å­¦ã€é€»è¾‘ã€ç§‘å­¦è¿™äº›éœ€è¦ä¸¥æ ¼æ­£ç¡®æ€§çš„é¢†åŸŸï¼Œå½“å‰çš„AIè§†é¢‘è¿˜ä¸è¡Œã€‚</strong></p>
<p>å®ƒå¯ä»¥ä½œä¸ºè¾…åŠ©ï¼Œå¯ä»¥ä½œä¸ºå‚è€ƒï¼Œä½†ä¸èƒ½ä½œä¸ºä¸»è¦çš„å­¦ä¹ ææ–™ã€‚</p>
<p>è‡³å°‘ç°åœ¨ä¸è¡Œã€‚</p>
<p>ä¹Ÿè®¸æœªæ¥ä¼šæœ‰æ›´å¥½çš„æ¨¡å‹ï¼Œä¹Ÿè®¸ä¼šæœ‰ä¸“é—¨ä¸ºæ•™è‚²è®¾è®¡çš„ AIï¼Œä¹Ÿè®¸ä¼šæœ‰çœŸæ­£èƒ½"æ€è€ƒ"çš„è§†é¢‘ç”Ÿæˆç³»ç»Ÿã€‚</p>
<p>ä½†ç°åœ¨ï¼Œæˆ‘è¿˜æ˜¯æ›´ç›¸ä¿¡é‚£å¼ ç™½çº¸ï¼Œé‚£æ”¯ç¬”ï¼Œå’Œé‚£ä¸ªæ„¿æ„æ…¢æ…¢è®²è§£çš„äººã€‚</p>
<p>ä¹Ÿè®¸ï¼Œæ…¢ï¼Œæ‰æ˜¯æ•™è‚²å”¯ä¸€çš„æ·å¾„ã€‚</p>
<hr/>
<p>æ¨èé˜…è¯»ï¼š</p>
<ul>
<li><a href="https://juejin.cn/post/7582479325283729471" target="_blank" title="https://juejin.cn/post/7582479325283729471"># Cursor åˆå·å·æ›´æ–°ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨ï¼šVisual Editor for Cursor Browser</a></li>
<li><a href="https://juejin.cn/post/7582854603061379114" target="_blank" title="https://juejin.cn/post/7582854603061379114"># ç¨‹åºå‘˜è¶Šæƒ³åˆ›ä¸šï¼Œè¶Šä¸è¦æ€¥ç€åŠ¨æ‰‹</a></li>
<li><a href="https://juejin.cn/post/7578384621458210868" target="_blank" title="https://juejin.cn/post/7578384621458210868"># AI ä»ä¸šè€…éœ€è¦é“­è®°çš„æ—¶åˆ»ï¼š2023å¹´6æœˆ30æ—¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaobot.net%2Fpost%2F8e8e0693-00a0-4220-bf3e-dec50a17294d" target="_blank" title="https://xiaobot.net/post/8e8e0693-00a0-4220-bf3e-dec50a17294d" ref="nofollow noopener noreferrer"># èŒä¸šå…¨æ™¯ï¼šä¸ºä»€ä¹ˆè¦è½¬å‹ AI åº”ç”¨å·¥ç¨‹å¸ˆï¼Œè¿™ä¸ªå²—ä½éœ€è¦ä»€ä¹ˆèƒ½åŠ›ï¼Ÿ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ ä»¥ä¸ºæ ‘åªæ˜¯ç”»å›¾ï¼Ÿä¸â€”â€”å®ƒæ˜¯ç®—æ³•é¢è¯•çš„â€œéšå½¢ä¸»è§’â€]]></title>    <link>https://juejin.cn/post/7585121055036768306</link>    <guid>https://juejin.cn/post/7585121055036768306</guid>    <pubDate>2025-12-19T05:25:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585121055036768306" data-draft-id="7585085798809665563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ä½ ä»¥ä¸ºæ ‘åªæ˜¯ç”»å›¾ï¼Ÿä¸â€”â€”å®ƒæ˜¯ç®—æ³•é¢è¯•çš„â€œéšå½¢ä¸»è§’â€"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-19T05:25:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½å…°åœ°ç©ºç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/191753514127514"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ä½ ä»¥ä¸ºæ ‘åªæ˜¯ç”»å›¾ï¼Ÿä¸â€”â€”å®ƒæ˜¯ç®—æ³•é¢è¯•çš„â€œéšå½¢ä¸»è§’â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/191753514127514/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½å…°åœ°ç©ºç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:25:28.000Z" title="Fri Dec 19 2025 05:25:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å¦‚æœæ•°ç»„æ˜¯ç®—æ³•ä¸–ç•Œçš„åœ°åŸº</strong><br/>
é‚£ä¹ˆã€Œæ ‘ã€ï¼Œå°±æ˜¯è´¯ç©¿æ•´ä¸ªé¢è¯•çš„ <strong>æ‰¿é‡ç»“æ„</strong></p>
</blockquote>
<p>æ— è®ºä½ åˆ·çš„æ˜¯ <strong>åŠ›æ‰£ Hot100</strong>ã€æ ¡æ‹›é¢è¯•ï¼Œè¿˜æ˜¯å‰ç«¯è¿›é˜¶ï¼Œ<br/>
<strong>æ ‘ &amp; äºŒå‰æ ‘ä¸€å®šä¼šåå¤å‡ºç°</strong>ï¼š</p>
<ul>
<li>DOM æ˜¯ä¸€æ£µæ ‘</li>
<li>Vue / React çš„è™šæ‹Ÿ DOM æ˜¯æ ‘</li>
<li>æ–‡ä»¶ç³»ç»Ÿæ˜¯æ ‘</li>
<li>é€’å½’ï¼Œå‡ ä¹æ˜¯ä¸ºæ ‘é‡èº«å®šåšçš„</li>
</ul>
<p>ä½†å¾ˆå¤šäººä¸€æåˆ°æ ‘å°±æ‡µï¼š</p>
<blockquote>
<p>â€œæ¦‚å¿µå¤ªå¤šäº†â€¦â€<br/>
â€œéå†é¡ºåºè€è®°æ··â€¦â€<br/>
â€œä¸€å†™é€’å½’å°±å¿ƒè™šâ€¦â€</p>
</blockquote>
<p>è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ç”¨<strong>æœ€æ¥åœ°æ°”çš„æ–¹å¼</strong>ï¼ŒæŠŠæ ‘å’ŒäºŒå‰æ ‘ä¸€æ¬¡è®²é€ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ã€Œæ ‘ã€ï¼Ÿâ€”â€”ä¸æ˜¯ä»£ç ï¼Œæ˜¯æŠ½è±¡èƒ½åŠ›</h2>
<p>æ•°æ®ç»“æ„ä¸­çš„æ ‘ï¼Œå…¶å®æ˜¯å¯¹<strong>è‡ªç„¶ç•Œæ ‘çš„æŠ½è±¡</strong> ğŸŒ²</p>
<p>æˆ‘ä»¬å…ˆç»Ÿä¸€è¯­è¨€ï¼š</p>

























<table><thead><tr><th>è‡ªç„¶ç•Œ</th><th>æ•°æ®ç»“æ„</th></tr></thead><tbody><tr><td>æ ‘æ ¹</td><td>æ ¹èŠ‚ç‚¹ root</td></tr><tr><td>æ ‘æ</td><td>è¾¹ edge</td></tr><tr><td>åˆ†å‰</td><td>å­èŠ‚ç‚¹ child</td></tr><tr><td>å¶å­</td><td>å¶å­èŠ‚ç‚¹ leaf</td></tr></tbody></table>
<p><strong>ä¸€æ£µæ ‘çš„æ ¸å¿ƒç‰¹å¾åªæœ‰ä¸€ä¸ªï¼š</strong></p>
<blockquote>
<p>ğŸŒŸ <strong>åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå…¶ä½™èŠ‚ç‚¹éƒ½ä»å®ƒå»¶ä¼¸å‡ºæ¥</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-1">äºŒã€æ ‘çš„å‡ ä¸ªâ€œé¢è¯•é«˜é¢‘æ¦‚å¿µâ€ï¼ˆä¸€å®šä¼šè¢«é—®ï¼‰</h2>
<h3 data-id="heading-2">1ï¸âƒ£ å±‚æ¬¡ï¼ˆlevelï¼‰</h3>
<ul>
<li>æ ¹èŠ‚ç‚¹æ˜¯ <strong>ç¬¬ 1 å±‚</strong></li>
<li>å­èŠ‚ç‚¹ä¾æ¬¡ +1</li>
</ul>
<p>ğŸ“Œ é¢è¯•å¸¸é—®ï¼š</p>
<blockquote>
<p>â€œè¿™æ£µæ ‘çš„ç¬¬ k å±‚æœ‰å¤šå°‘èŠ‚ç‚¹ï¼Ÿâ€</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">2ï¸âƒ£ é«˜åº¦ï¼ˆheightï¼‰</h3>
<p>âš ï¸ <strong>å®¹æ˜“æ··æ·†ï¼</strong></p>
<ul>
<li><strong>ä»å¶å­èŠ‚ç‚¹å¼€å§‹ç®—</strong></li>
<li>å‘ä¸Š +1</li>
</ul>
<p>ğŸ“Œ é¢è¯•çˆ±é—®ï¼š</p>
<blockquote>
<p>â€œæ ‘çš„é«˜åº¦æ˜¯å¤šå°‘ï¼Ÿâ€</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">3ï¸âƒ£ åº¦ï¼ˆdegreeï¼‰</h3>
<ul>
<li>ä¸€ä¸ªèŠ‚ç‚¹<strong>æœ‰å‡ ä¸ªå­æ ‘</strong></li>
<li>å°±æ˜¯å®ƒçš„åº¦</li>
</ul>
<p>ğŸ‘‰ <strong>å¶å­èŠ‚ç‚¹çš„åº¦ = 0</strong></p>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ä»€ä¹ˆæ˜¯äºŒå‰æ ‘ï¼Ÿåˆ«è¢«â€œ2â€éª—äº† âŒ</h2>
<p>å¾ˆå¤šäººç¬¬ä¸€ååº”æ˜¯ï¼š</p>
<blockquote>
<p>âŒ â€œäºŒå‰æ ‘ = æ¯ä¸ªèŠ‚ç‚¹æœ€å¤š 2 ä¸ªå­©å­â€</p>
</blockquote>
<p><strong>ä¸å®Œå…¨å¯¹ã€‚</strong></p>
<h3 data-id="heading-6">äºŒå‰æ ‘çš„çœŸæ­£å®šä¹‰ğŸ‘‡</h3>
<blockquote>
<p>ä¸€æ£µäºŒå‰æ ‘ï¼š</p>
<ul>
<li>
<p>å¯ä»¥æ˜¯ <strong>ç©ºæ ‘</strong></p>
</li>
<li>
<p>å¦‚æœä¸æ˜¯ç©ºæ ‘ï¼š</p>
<ul>
<li>å¿…é¡»ç”±ï¼š<br/>
<strong>æ ¹èŠ‚ç‚¹ + å·¦å­æ ‘ + å³å­æ ‘</strong></li>
<li>ä¸” <strong>å·¦å³å­æ ‘æœ¬èº«ä¹Ÿæ˜¯äºŒå‰æ ‘</strong></li>
</ul>
</li>
</ul>
</blockquote>
<p>ğŸ“Œ å…³é”®ç‚¹åªæœ‰ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>âš ï¸ <strong>å·¦å³ä¹‹åˆ†æ˜¯â€œæœ‰é¡ºåºçš„â€ï¼Œä¸èƒ½éšä¾¿äº¤æ¢</strong></p>
</blockquote>
<p>æ‰€ä»¥ï¼š</p>
<ul>
<li>âŒ äºŒå‰æ ‘ â‰  åº¦ä¸º 2 çš„æ ‘</li>
<li>âœ… äºŒå‰æ ‘ = <strong>æœ‰å·¦å³è¯­ä¹‰çš„ç»“æ„</strong></li>
</ul>
<hr/>
<h2 data-id="heading-7">å››ã€äºŒå‰æ ‘èŠ‚ç‚¹çš„æœ€å°æ¨¡å‹ï¼ˆJSï¼‰</h2>
<pre><code class="hljs language-kotlin" lang="kotlin">function TreeNode(<span class="hljs-keyword">val</span>){
  <span class="hljs-keyword">this</span>.<span class="hljs-keyword">val</span> = <span class="hljs-keyword">val</span>
  <span class="hljs-keyword">this</span>.left = <span class="hljs-keyword">this</span>.right = <span class="hljs-literal">null</span>
}
</code></pre>
<p><strong>åªæœ‰ 3 ä»¶äº‹ï¼š</strong></p>
<ul>
<li>æ•°æ®åŸŸ <code>val</code></li>
<li>å·¦å­©å­ <code>left</code></li>
<li>å³å­©å­ <code>right</code></li>
</ul>
<p>ğŸ“Œ é¢è¯•æ—¶ä½ åªè¦è®°ä½ï¼š<br/>
<strong>æ ‘ â‰ˆ èŠ‚ç‚¹ + å¼•ç”¨</strong></p>
<hr/>
<h2 data-id="heading-8">äº”ã€ä¸ºä»€ä¹ˆã€Œæ ‘ã€å’Œã€Œé€’å½’ã€å¤©ç”Ÿä¸€å¯¹ï¼Ÿ</h2>
<blockquote>
<p>å› ä¸ºï¼š<strong>æ ‘çš„å®šä¹‰æœ¬èº«å°±æ˜¯é€’å½’çš„</strong></p>
</blockquote>
<ul>
<li>æ ‘ = æ ¹ + å­æ ‘</li>
<li>å­æ ‘ = æ›´å°çš„æ ‘</li>
<li>â€¦â€¦</li>
</ul>
<p>ğŸ“Œ æ‰€ä»¥ä½ åˆ·åˆ°æ ‘é¢˜æ—¶ï¼Œè„‘å­é‡Œå…ˆé—®ä¸€å¥ï¼š</p>
<blockquote>
<p><strong>â€œè¿™æ˜¯ä¸æ˜¯ä¸€ä¸ªå¯ä»¥æ‹†æˆå·¦å³å­æ ‘çš„é‡å¤é—®é¢˜ï¼Ÿâ€</strong></p>
</blockquote>
<p>å¦‚æœç­”æ¡ˆæ˜¯ YES â€”â€”<br/>
ğŸ‘‰ <strong>é€’å½’åŸºæœ¬å°±ç¨³äº†</strong></p>
<hr/>
<h2 data-id="heading-9">å…­ã€äºŒå‰æ ‘éå†ï¼šé¢è¯•æœ€çˆ±è€ƒçš„ 4 ç§æ–¹å¼</h2>
<h3 data-id="heading-10">ä¸€å¥è¯æ€»çº²</h3>
<blockquote>
<p>ğŸ”‘ <strong>å·¦å³å­æ ‘é¡ºåºæ°¸è¿œä¸å˜ï¼Œå˜çš„åªæœ‰â€œæ ¹â€ä»€ä¹ˆæ—¶å€™è¾“å‡º</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-11">1ï¸âƒ£ å‰åºéå†ï¼ˆPreorderï¼‰</h3>
<p>ğŸ‘‰ <strong>æ ¹ â†’ å·¦ â†’ å³</strong></p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">preorder</span>(root){
  <span class="hljs-built_in">if</span>(!root) return
  console<span class="hljs-selector-class">.log</span>(root.val)
  <span class="hljs-built_in">preorder</span>(root.left)
  <span class="hljs-built_in">preorder</span>(root.right)
}
</code></pre>
<p>ğŸ“Œ é€‚åˆï¼š</p>
<ul>
<li>æ„å»ºæ ‘</li>
<li>æ‹·è´æ ‘</li>
</ul>
<hr/>
<h3 data-id="heading-12">2ï¸âƒ£ ä¸­åºéå†ï¼ˆInorderï¼‰</h3>
<p>ğŸ‘‰ <strong>å·¦ â†’ æ ¹ â†’ å³</strong></p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">inorder</span>(root){
  <span class="hljs-built_in">if</span>(!root) return
  <span class="hljs-built_in">inorder</span>(root.left)
  console<span class="hljs-selector-class">.log</span>(root.val)
  <span class="hljs-built_in">inorder</span>(root.right)
}
</code></pre>
<p>ğŸ“Œ ç»å…¸ç»“è®ºï¼ˆé¢è¯•åŠ åˆ†ï¼‰ï¼š</p>
<blockquote>
<p><strong>äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ˜¯æœ‰åºçš„</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-13">3ï¸âƒ£ ååºéå†ï¼ˆPostorderï¼‰</h3>
<p>ğŸ‘‰ <strong>å·¦ â†’ å³ â†’ æ ¹</strong></p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">postorder</span>(root){
  <span class="hljs-built_in">if</span>(!root) return
  <span class="hljs-built_in">postorder</span>(root.left)
  <span class="hljs-built_in">postorder</span>(root.right)
  console<span class="hljs-selector-class">.log</span>(root.val)
}
</code></pre>
<p>ğŸ“Œ é€‚åˆï¼š</p>
<ul>
<li>åˆ é™¤èŠ‚ç‚¹</li>
<li>é‡Šæ”¾èµ„æº</li>
<li>è‡ªåº•å‘ä¸Šè®¡ç®—</li>
</ul>
<hr/>
<h2 data-id="heading-14">ä¸ƒã€å±‚åºéå†ï¼šå”¯ä¸€çš„ã€Œéé€’å½’ä¸»è§’ã€</h2>
<blockquote>
<p>ğŸŒŠ <strong>ä»ä¸Šåˆ°ä¸‹ï¼Œä¸€å±‚ä¸€å±‚</strong></p>
</blockquote>
<h3 data-id="heading-15">æ ¸å¿ƒæ€æƒ³ï¼šé˜Ÿåˆ—ï¼ˆFIFOï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">levelOrder</span>(root){
  <span class="hljs-built_in">if</span>(!root) return <span class="hljs-selector-attr">[]</span>
  const res = <span class="hljs-selector-attr">[]</span>
  const queue = <span class="hljs-selector-attr">[root]</span>

  <span class="hljs-built_in">while</span>(queue.length){
    const node = queue<span class="hljs-selector-class">.shift</span>()
    res<span class="hljs-selector-class">.push</span>(node.val)
    <span class="hljs-built_in">if</span>(node.left) queue<span class="hljs-selector-class">.push</span>(node.left)
    <span class="hljs-built_in">if</span>(node.right) queue<span class="hljs-selector-class">.push</span>(node.right)
  }

  return res
}
</code></pre>
<p>ğŸ“Œ é¢è¯•å®˜æƒ³è€ƒä½ çš„æ˜¯ï¼š</p>
<ul>
<li>ä½ æ˜¯å¦çŸ¥é“ <strong>BFS</strong></li>
<li>ä½ æ˜¯å¦èƒ½æƒ³åˆ° <strong>é˜Ÿåˆ—</strong></li>
</ul>
<hr/>
<h2 data-id="heading-16">å…«ã€æ ‘é¢˜çš„â€œä¸‡èƒ½æ‹†è§£æ¨¡æ¿â€</h2>
<p>æ¯æ¬¡çœ‹åˆ°æ ‘é¢˜ï¼ŒæŒ‰è¿™ä¸ªæµç¨‹èµ°ğŸ‘‡</p>
<h3 data-id="heading-17">â‘  æ˜ç¡®é€’å½’å‡½æ•°çš„å®šä¹‰</h3>
<blockquote>
<p><code>dfs(root)</code> åˆ°åº•è¿”å›ä»€ä¹ˆï¼Ÿ</p>
</blockquote>
<hr/>
<h3 data-id="heading-18">â‘¡ æ‰¾é‡å¤å­é—®é¢˜</h3>
<blockquote>
<p>å·¦å­æ ‘æ€ä¹ˆåšï¼Ÿå³å­æ ‘æ€ä¹ˆåšï¼Ÿ</p>
</blockquote>
<hr/>
<h3 data-id="heading-19">â‘¢ æ‰¾é€€å‡ºæ¡ä»¶</h3>
<blockquote>
<p><code>root == null</code> æ—¶æ€ä¹ˆåŠï¼Ÿ</p>
</blockquote>
<hr/>
<h3 data-id="heading-20">â‘£ å†³å®šã€Œæ ¹ã€ä»€ä¹ˆæ—¶å€™å¤„ç†</h3>
<ul>
<li>å‰ï¼Ÿä¸­ï¼Ÿåï¼Ÿ</li>
</ul>
<p>ğŸ“Œ <strong>90% çš„æ ‘é¢˜ï¼Œæ­»åœ¨ç¬¬ â‘  æ­¥æ²¡æƒ³æ¸…æ¥š</strong></p>
<hr/>
<h2 data-id="heading-21">ä¹ã€æœ€åï¼šä½ ä¸æ˜¯ä¸ä¼šæ ‘ï¼Œæ˜¯æ²¡â€œå»ºæ¨¡â€</h2>
<p>å¾ˆå¤šäººå­¦æ ‘å¤±è´¥ï¼Œå¹¶ä¸æ˜¯å› ä¸ºä»£ç å†™ä¸å‡ºï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>âŒ æŠŠå®ƒå½“â€œè®°å¿†é¢˜â€</li>
<li>âŒ æ­»èƒŒéå†é¡ºåº</li>
<li>âŒ ä¸ç†è§£é€’å½’çš„æ„ä¹‰</li>
</ul>
<p>çœŸæ­£çš„é«˜æ‰‹ï¼Œçœ‹åˆ°æ ‘åªæƒ³ä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p><strong>â€œè¿™æ£µæ ‘ï¼Œèƒ½ä¸èƒ½æ‹†æˆå·¦å³å­æ ‘çš„é‡å¤é—®é¢˜ï¼Ÿâ€</strong></p>
</blockquote>
<p>ä¸€æ—¦ä½ å»ºç«‹äº†è¿™ä¸ªè§†è§’ï¼š</p>
<ul>
<li>æ ‘ä¸å†éš¾</li>
<li>é€’å½’ä¸å†æ€•</li>
<li>é¢è¯•ä¸å†æ…Œ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java ä»‹ç»ä¸å¼€å‘ç¯å¢ƒå®‰è£…]]></title>    <link>https://juejin.cn/post/7585138968166727716</link>    <guid>https://juejin.cn/post/7585138968166727716</guid>    <pubDate>2025-12-19T05:37:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585138968166727716" data-draft-id="7585206549304787007" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java ä»‹ç»ä¸å¼€å‘ç¯å¢ƒå®‰è£…"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T05:37:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢¨å­åŒå¿—"/> <meta itemprop="url" content="https://juejin.cn/user/2084329779627965"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java ä»‹ç»ä¸å¼€å‘ç¯å¢ƒå®‰è£…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2084329779627965/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢¨å­åŒå¿—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:37:30.000Z" title="Fri Dec 19 2025 05:37:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Java ç®€ä»‹</h2>
<p><strong>Java</strong> æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œç”± Sun Microsystems çš„ James Gosling äº 1995 å¹´å‘å¸ƒã€‚å…¶æ ¸å¿ƒç‰¹æ€§æ˜¯"<strong>ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œ</strong>"ï¼ˆWrite Once, Run Anywhereï¼‰ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹ç‚¹</h3>
<ul>
<li><strong>é¢å‘å¯¹è±¡</strong>ï¼šæ”¯æŒå°è£…ã€ç»§æ‰¿ã€å¤šæ€</li>
<li><strong>è·¨å¹³å°</strong>ï¼šç¼–è¯‘æˆå­—èŠ‚ç ï¼Œè¿è¡Œåœ¨ JVM ä¸Šï¼Œå¯åœ¨ä»»ä½•å¹³å°è¿è¡Œ</li>
<li><strong>ç®€å•æ˜“å­¦</strong>ï¼šè¯­æ³•æ¸…æ™°ï¼Œè‡ªåŠ¨åƒåœ¾å›æ”¶</li>
<li><strong>å®‰å…¨å¥å£®</strong>ï¼šå¼ºç±»å‹æ£€æŸ¥ã€å¼‚å¸¸å¤„ç†ã€å†…å­˜è‡ªåŠ¨ç®¡ç†</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šJIT å³æ—¶ç¼–è¯‘ä¼˜åŒ–ã€æ”¯æŒå¤šçº¿ç¨‹</li>
</ul>
<h3 data-id="heading-2">ä¸»è¦åº”ç”¨é¢†åŸŸ</h3>
<ul>
<li><strong>ä¼ä¸šçº§åº”ç”¨</strong>ï¼šSpringã€Spring Boot - é“¶è¡Œã€é‡‘èã€ç”µå•†ç³»ç»Ÿ</li>
<li><strong>Web å¼€å‘</strong>ï¼šåç«¯æœåŠ¡ã€RESTful API</li>
<li><strong>Android åº”ç”¨</strong>ï¼šç§»åŠ¨åº”ç”¨å¼€å‘</li>
<li><strong>å¤§æ•°æ®</strong>ï¼šHadoopã€Sparkã€Kafkaã€Flink</li>
<li><strong>å¾®æœåŠ¡</strong>ï¼šSpring Cloudã€Dubbo</li>
</ul>
<h3 data-id="heading-3">Java å¹³å°ç‰ˆæœ¬</h3>
<p>Java åˆ†ä¸ºä¸åŒçš„å¹³å°ç‰ˆæœ¬ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼š</p>





























<table><thead><tr><th>å¹³å°</th><th>å…¨ç§°</th><th>è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Java SE</strong></td><td>Java Standard Edition</td><td>æ ‡å‡†ç‰ˆï¼Œæ ¸å¿ƒå¹³å°</td><td>æ¡Œé¢åº”ç”¨ã€åŸºç¡€å¼€å‘</td></tr><tr><td><strong>Java EE</strong></td><td>Java Enterprise Edition</td><td>ä¼ä¸šç‰ˆï¼ˆå·²æ›´åä¸º Jakarta EEï¼‰</td><td>Webåº”ç”¨ã€ä¼ä¸šçº§ç³»ç»Ÿ</td></tr><tr><td><strong>Java ME</strong></td><td>Java Micro Edition</td><td>å¾®å‹ç‰ˆ</td><td>åµŒå…¥å¼è®¾å¤‡ã€IoT</td></tr></tbody></table>
<p><strong>å…³é”®è¯´æ˜</strong>ï¼š</p>
<ul>
<li><strong>Java SE</strong>ï¼šå­¦ä¹  Java çš„åŸºç¡€ï¼ŒåŒ…å« JDKã€JVMã€æ ¸å¿ƒç±»åº“</li>
<li><strong>Java EEï¼ˆç° Jakarta EEï¼‰</strong>ï¼šåŸºäº Java SEï¼Œæä¾›ä¼ä¸šçº§åŠŸèƒ½ï¼ˆServletã€JSPã€EJBã€JPA ç­‰ï¼‰</li>
<li>2017 å¹´ Oracle å°† Java EE æèµ ç»™ Eclipse åŸºé‡‘ä¼šï¼Œæ›´åä¸º <strong>Jakarta EE</strong></li>
<li>åˆå­¦è€…å…ˆå­¦ <strong>Java SE</strong>ï¼ŒæŒæ¡åå†å­¦ä¹  Jakarta EE æˆ– Spring æ¡†æ¶</li>
</ul>
<h3 data-id="heading-4">æ¨èç‰ˆæœ¬</h3>






























<table><thead><tr><th>ç‰ˆæœ¬</th><th>å‘å¸ƒæ—¶é—´</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Java 8</td><td>2014</td><td>Lambdaã€Stream APIï¼ˆé‡è¦ç‰ˆæœ¬ï¼‰</td></tr><tr><td>Java 11</td><td>2018</td><td>LTS é•¿æœŸæ”¯æŒç‰ˆæœ¬</td></tr><tr><td>Java 17</td><td>2021</td><td>LTS é•¿æœŸæ”¯æŒç‰ˆæœ¬</td></tr><tr><td>Java 21</td><td>2023</td><td>LTS æœ€æ–°é•¿æœŸæ”¯æŒç‰ˆæœ¬</td></tr></tbody></table>
<p><strong>åˆå­¦è€…æ¨è</strong>ï¼šJava 17 æˆ– Java 21ï¼ˆLTS ç‰ˆæœ¬ï¼‰</p>
<hr/>
<h2 data-id="heading-5">Java å¼€å‘ç¯å¢ƒå®‰è£…</h2>
<h3 data-id="heading-6">1. å®‰è£… JDK</h3>
<h4 data-id="heading-7">Windows å®‰è£…</h4>
<p><strong>ä¸‹è½½ JDK</strong></p>
<ul>
<li><strong>æ¨èï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fadoptium.net%2F" target="_blank" title="https://adoptium.net/" ref="nofollow noopener noreferrer">OpenJDK (Adoptium)</a></strong> - ä¸‹è½½ Java 17 æˆ– 21 LTS ç‰ˆæœ¬</li>
<li>å¤‡é€‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.oracle.com%2Fjava%2Ftechnologies%2Fdownloads%2F" target="_blank" title="https://www.oracle.com/java/technologies/downloads/" ref="nofollow noopener noreferrer">Oracle JDK</a>ï¼ˆéœ€ç™»å½•ï¼Œå•†ä¸šä½¿ç”¨éœ€ä»˜è´¹ï¼‰</li>
</ul>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆæ¨è OpenJDKï¼Ÿ</strong></p>
<ul>
<li>âœ… å®Œå…¨å…è´¹ï¼Œå¯å•†ä¸šä½¿ç”¨ï¼ˆOracle JDK å•†ä¸šä½¿ç”¨éœ€ä»˜è´¹ï¼‰</li>
<li>âœ… åŠŸèƒ½ä¸ Oracle JDK å®Œå…¨ä¸€è‡´</li>
<li>âœ… æ— éœ€æ³¨å†Œç™»å½•ï¼Œä¸‹è½½æ›´æ–¹ä¾¿</li>
<li>âœ… ç¤¾åŒºæ”¯æŒå¥½ï¼Œæ›´æ–°åŠæ—¶</li>
</ul>
</blockquote>
<p><strong>å®‰è£…æ­¥éª¤</strong></p>
<ol>
<li>è¿è¡Œå®‰è£…ç¨‹åºï¼ˆå¦‚ <code>jdk-17_windows-x64_bin.exe</code>ï¼‰</li>
<li>é€‰æ‹©å®‰è£…è·¯å¾„ï¼ˆå»ºè®®é»˜è®¤è·¯å¾„ï¼‰</li>
<li>é…ç½®ç¯å¢ƒå˜é‡ï¼š
<ul>
<li>å³é”®"æ­¤ç”µè„‘" â†’ å±æ€§ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡</li>
<li>æ–°å»º <code>JAVA_HOME</code>ï¼š<code>C:\Program Files\Java\jdk-17</code></li>
<li>ç¼–è¾‘ <code>Path</code>ï¼Œæ–°å¢ï¼š<code>%JAVA_HOME%\bin</code></li>
</ul>
</li>
</ol>
<p><strong>éªŒè¯å®‰è£…</strong></p>
<pre><code class="hljs language-bash" lang="bash">java -version
javac -version
</code></pre>
<h4 data-id="heading-8">macOS å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ Homebrew å®‰è£…</span>
brew install openjdk@17

<span class="hljs-comment"># é…ç½®ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH="/usr/local/opt/openjdk@17/bin:$PATH"'</span> &gt;&gt; ~/.zshrc
<span class="hljs-built_in">source</span> ~/.zshrc

<span class="hljs-comment"># éªŒè¯</span>
java -version
</code></pre>
<h4 data-id="heading-9">Linux å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Ubuntu/Debian</span>
sudo apt update
sudo apt install openjdk-17-jdk

<span class="hljs-comment"># CentOS/Fedora</span>
sudo dnf install java-17-openjdk-devel

<span class="hljs-comment"># éªŒè¯</span>
java -version
</code></pre>
<hr/>
<h3 data-id="heading-10">2. é€‰æ‹© IDE</h3>
<p><strong>æ¨è IDE</strong></p>

























<table><thead><tr><th>IDE</th><th>è¯´æ˜</th><th>ä¸‹è½½</th></tr></thead><tbody><tr><td><strong>IntelliJ IDEA</strong></td><td>æœ€å¼ºå¤§ï¼Œå¼ºçƒˆæ¨èï¼ˆç¤¾åŒºç‰ˆå…è´¹ï¼‰</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jetbrains.com%2Fidea%2Fdownload%2F" target="_blank" title="https://www.jetbrains.com/idea/download/" ref="nofollow noopener noreferrer">å®˜ç½‘</a></td></tr><tr><td>Eclipse</td><td>å…è´¹å¼€æºï¼Œè€ç‰Œ IDE</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.eclipse.org%2Fdownloads%2F" target="_blank" title="https://www.eclipse.org/downloads/" ref="nofollow noopener noreferrer">å®˜ç½‘</a></td></tr><tr><td>VS Code</td><td>è½»é‡çº§ï¼ˆéœ€å®‰è£… Java æ‰©å±•ï¼‰</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.visualstudio.com%2F" target="_blank" title="https://code.visualstudio.com/" ref="nofollow noopener noreferrer">å®˜ç½‘</a></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-11">3. ç¬¬ä¸€ä¸ªç¨‹åº</h3>
<p><strong>åˆ›å»º HelloWorld.java</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloWorld</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"Hello, World!"</span>);
    }
}
</code></pre>
<p><strong>ç¼–è¯‘è¿è¡Œ</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘</span>
javac HelloWorld.java

<span class="hljs-comment"># è¿è¡Œ</span>
java HelloWorld
</code></pre>
<p><strong>ä½¿ç”¨ IDE</strong></p>
<ul>
<li>IntelliJ IDEA: File â†’ New â†’ Project â†’ åˆ›å»ºç±» â†’ å³é”®è¿è¡Œ</li>
</ul>
<hr/>
<h3 data-id="heading-12">4. å¸¸è§é—®é¢˜</h3>
<p><strong><code>javac</code> å‘½ä»¤æ‰¾ä¸åˆ°</strong></p>
<ul>
<li>æ£€æŸ¥ <code>JAVA_HOME</code> å’Œ <code>Path</code> ç¯å¢ƒå˜é‡é…ç½®</li>
<li>é‡å¯å‘½ä»¤è¡Œçª—å£</li>
</ul>
<p><strong>æ‰¾ä¸åˆ°ä¸»ç±»</strong></p>
<ul>
<li>ç¡®ä¿æ–‡ä»¶åä¸ç±»åå®Œå…¨ä¸€è‡´</li>
<li>æ£€æŸ¥æ˜¯å¦åœ¨æ­£ç¡®ç›®å½•æ‰§è¡Œå‘½ä»¤</li>
</ul>
<p><strong>ä¸­æ–‡ä¹±ç </strong></p>
<pre><code class="hljs language-bash" lang="bash">javac -encoding UTF-8 HelloWorld.java
</code></pre>
<hr/>
<h3 data-id="heading-13">5. å­¦ä¹ èµ„æº</h3>
<p><strong>æ¨èä¹¦ç±</strong></p>
<ul>
<li>ã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ã€‹- å…¨é¢æ·±å…¥</li>
<li>ã€ŠHead First Javaã€‹- é€‚åˆåˆå­¦è€…</li>
<li>ã€ŠEffective Javaã€‹- è¿›é˜¶å¿…è¯»</li>
</ul>
<p><strong>åœ¨çº¿èµ„æº</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.oracle.com%2Fjavase%2Ftutorial%2F" target="_blank" title="https://docs.oracle.com/javase/tutorial/" ref="nofollow noopener noreferrer">Oracle å®˜æ–¹æ•™ç¨‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.runoob.com%2Fjava%2F" target="_blank" title="https://www.runoob.com/java/" ref="nofollow noopener noreferrer">èœé¸Ÿæ•™ç¨‹</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[3433.ç»Ÿè®¡ç”¨æˆ·è¢«æåŠæƒ…å†µ]]></title>    <link>https://juejin.cn/post/7585085798809518107</link>    <guid>https://juejin.cn/post/7585085798809518107</guid>    <pubDate>2025-12-19T03:53:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585085798809518107" data-draft-id="7585406229150171174" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="3433.ç»Ÿè®¡ç”¨æˆ·è¢«æåŠæƒ…å†µ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T03:53:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒä¹‹è¯­æ­Œ"/> <meta itemprop="url" content="https://juejin.cn/user/4084004879859821"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            3433.ç»Ÿè®¡ç”¨æˆ·è¢«æåŠæƒ…å†µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4084004879859821/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒä¹‹è¯­æ­Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:53:55.000Z" title="Fri Dec 19 2025 03:53:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">é¢˜ç›®æè¿°</h4>
<p>æœ‰ä¸€ä¸ªèŠå¤©ç³»ç»Ÿï¼Œå…±æœ‰ <code>numberOfUsers</code> ä¸ªç”¨æˆ·ï¼Œç¼–å·ä» <code>0</code> åˆ° <code>numberOfUsers - 1</code>ã€‚æ‰€æœ‰ç”¨æˆ·åˆå§‹æ—¶éƒ½å¤„äº<strong>åœ¨çº¿çŠ¶æ€</strong>ã€‚</p>
<p>ç³»ç»Ÿä¼šè®°å½•ä¸€ç³»åˆ—äº‹ä»¶ï¼Œæ¯ä¸ªäº‹ä»¶æŒ‰å‘ç”Ÿæ—¶é—´é¡ºåºç»™å‡ºï¼Œä½†è¾“å…¥æ•°ç»„å¯èƒ½æœªæ’åºã€‚æ¯ä¸ªäº‹ä»¶æ˜¯ä»¥ä¸‹ä¸¤ç§ç±»å‹ä¹‹ä¸€ï¼š</p>
<h5 data-id="heading-1">1. <strong>æ¶ˆæ¯äº‹ä»¶ï¼ˆ"MESSAGE"ï¼‰</strong></h5>
<p>æ ¼å¼ï¼š<code>["MESSAGE", "timestamp", "mentions"]</code></p>
<ul>
<li><code>timestamp</code>ï¼šäº‹ä»¶å‘ç”Ÿçš„æ—¶é—´æˆ³ï¼ˆæ­£æ•´æ•°ï¼‰</li>
<li><code>mentions</code>ï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ­¤æ¬¡æ¶ˆæ¯ä¸­æåŠçš„ç”¨æˆ·ï¼Œæœ‰ä¸‰ç§å¯èƒ½ï¼š
<ul>
<li><code>"ALL"</code>ï¼šæåŠ<strong>æ‰€æœ‰ç”¨æˆ·</strong>ï¼ˆæ— è®ºæ˜¯å¦åœ¨çº¿ï¼‰</li>
<li><code>"HERE"</code>ï¼šä»…æåŠ<strong>å½“å‰åœ¨çº¿çš„ç”¨æˆ·</strong></li>
<li><code>"id0 id1 id2 ..."</code>ï¼šç©ºæ ¼åˆ†éš”çš„ç”¨æˆ· ID åˆ—è¡¨ï¼ˆå¦‚ <code>"id1 id0 id1"</code>ï¼‰ï¼Œå¯èƒ½åŒ…å«é‡å¤æˆ–ç¦»çº¿ç”¨æˆ·</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šæåŠåˆ—è¡¨ä¸­çš„æ¯ä¸ª <code>idX</code> éƒ½ä¼šè¢«å•ç‹¬è®¡æ•°ï¼ˆé‡å¤å‡ºç°åˆ™å¤šæ¬¡è®¡æ•°ï¼‰ã€‚</p>
</blockquote>
<h5 data-id="heading-2">2. <strong>ç¦»çº¿äº‹ä»¶ï¼ˆ"OFFLINE"ï¼‰</strong></h5>
<p>æ ¼å¼ï¼š<code>["OFFLINE", "timestamp", "userId"]</code></p>
<ul>
<li>ç”¨æˆ· <code>userId</code> åœ¨ <code>timestamp</code> æ—¶åˆ»<strong>å¼€å§‹ç¦»çº¿</strong>ï¼Œå¹¶æŒç»­ <strong>60 ä¸ªå•ä½æ—¶é—´</strong>ã€‚</li>
<li>ç”¨æˆ·å°†åœ¨ <code>timestamp + 60</code> æ—¶åˆ»<strong>è‡ªåŠ¨æ¢å¤åœ¨çº¿</strong>ã€‚</li>
<li>è‹¥ç”¨æˆ·å·²åœ¨ç¦»çº¿çŠ¶æ€ï¼Œæ–°çš„ <code>OFFLINE</code> äº‹ä»¶ä¼š<strong>è¦†ç›–ä¹‹å‰çš„ç¦»çº¿ç»“æŸæ—¶é—´</strong>ã€‚</li>
</ul>
<h4 data-id="heading-3">é‡è¦è§„åˆ™</h4>
<ul>
<li>å¤šä¸ªäº‹ä»¶å¯èƒ½å…·æœ‰<strong>ç›¸åŒçš„æ—¶é—´æˆ³</strong>ã€‚æ­¤æ—¶å¿…é¡»<strong>å…ˆå¤„ç†æ‰€æœ‰ "OFFLINE" äº‹ä»¶ï¼Œå†å¤„ç† "MESSAGE" äº‹ä»¶</strong>ã€‚</li>
<li>ç”¨æˆ·æ˜¯å¦åœ¨çº¿ï¼Œä»…å–å†³äºå½“å‰æ—¶é—´ <code>t</code> ä¸è¯¥ç”¨æˆ·çš„<strong>æœ€æ–°ç¦»çº¿ç»“æŸæ—¶é—´</strong>ï¼š
<ul>
<li>è‹¥ <code>å½“å‰æ—¶é—´ t &gt;= ç¦»çº¿ç»“æŸæ—¶é—´</code> â†’ åœ¨çº¿</li>
<li>å¦åˆ™ â†’ ç¦»çº¿</li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">è¦æ±‚</h4>
<p>è¯·è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º <code>numberOfUsers</code> çš„æ•´æ•°æ•°ç»„ <code>result</code>ï¼Œå…¶ä¸­ <code>result[i]</code> è¡¨ç¤ºç”¨æˆ· <code>i</code> åœ¨æ‰€æœ‰æ¶ˆæ¯ä¸­è¢«æåŠçš„æ€»æ¬¡æ•°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] countMentions(<span class="hljs-type">int</span> numberOfUsers, List&lt;List&lt;String&gt;&gt; events) {
        List&lt;List&lt;String&gt;&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(events);
        Collections.sort(list, (a, b) -&gt; {
            <span class="hljs-type">int</span> <span class="hljs-variable">timeA</span> <span class="hljs-operator">=</span> Integer.parseInt(a.get(<span class="hljs-number">1</span>));
            <span class="hljs-type">int</span> <span class="hljs-variable">timeB</span> <span class="hljs-operator">=</span> Integer.parseInt(b.get(<span class="hljs-number">1</span>));
            <span class="hljs-keyword">if</span> (timeA != timeB) {
                <span class="hljs-keyword">return</span> Integer.compare(timeA, timeB);
            }
            <span class="hljs-type">String</span> <span class="hljs-variable">typeA</span> <span class="hljs-operator">=</span> a.get(<span class="hljs-number">0</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">typeB</span> <span class="hljs-operator">=</span> b.get(<span class="hljs-number">0</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"OFFLINE"</span>.equals(typeA) &amp;&amp; <span class="hljs-string">"MESSAGE"</span>.equals(typeB)) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"MESSAGE"</span>.equals(typeA) &amp;&amp; <span class="hljs-string">"OFFLINE"</span>.equals(typeB)) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        });

        <span class="hljs-type">int</span>[] mentions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[numberOfUsers];
        <span class="hljs-type">int</span>[] onlineUntil = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[numberOfUsers]; <span class="hljs-comment">// åˆå§‹ä¸º 0ï¼Œè¡¨ç¤ºä¸€å¼€å§‹å°±åœ¨çº¿</span>

        <span class="hljs-keyword">for</span> (List&lt;String&gt; e : list) {
            <span class="hljs-type">String</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> e.get(<span class="hljs-number">0</span>);
            <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> Integer.parseInt(e.get(<span class="hljs-number">1</span>));
            <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> e.get(<span class="hljs-number">2</span>);

            <span class="hljs-keyword">if</span> (<span class="hljs-string">"OFFLINE"</span>.equals(type)) {
                <span class="hljs-type">int</span> <span class="hljs-variable">uid</span> <span class="hljs-operator">=</span> Integer.parseInt(data);
                onlineUntil[uid] = t + <span class="hljs-number">60</span>;
            } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// MESSAGE</span>
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"ALL"</span>.equals(data)) {
                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; numberOfUsers; i++) {
                        mentions[i]++;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"HERE"</span>.equals(data)) {
                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; numberOfUsers; i++) {
                        <span class="hljs-keyword">if</span> (onlineUntil[i] &lt;= t) {
                            mentions[i]++;
                        }
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">for</span> (String token : data.split(<span class="hljs-string">" "</span>)) {
                        <span class="hljs-keyword">if</span> (token.startsWith(<span class="hljs-string">"id"</span>)) {
                            <span class="hljs-type">int</span> <span class="hljs-variable">uid</span> <span class="hljs-operator">=</span> Integer.parseInt(token.substring(<span class="hljs-number">2</span>));
                            mentions[uid]++;
                        }
                    }
                }
            }
        }

        <span class="hljs-keyword">return</span> mentions;
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
    <span class="hljs-type">Solution</span> <span class="hljs-variable">sol</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Solution</span>();
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;
    String[][] events = {
        {<span class="hljs-string">"MESSAGE"</span>, <span class="hljs-string">"10"</span>, <span class="hljs-string">"id1 id0"</span>},
        {<span class="hljs-string">"OFFLINE"</span>, <span class="hljs-string">"11"</span>, <span class="hljs-string">"0"</span>},
        {<span class="hljs-string">"MESSAGE"</span>, <span class="hljs-string">"71"</span>, <span class="hljs-string">"HERE"</span>}
    };

    <span class="hljs-type">int</span>[] res = sol.countMentions(n, events);
    System.out.println(Arrays.toString(res)); <span class="hljs-comment">// è¾“å‡º: [2, 2]</span>
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[sdkmanå®‰è£…ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7585105375794593826</link>    <guid>https://juejin.cn/post/7585105375794593826</guid>    <pubDate>2025-12-19T04:35:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585105375794593826" data-draft-id="7585289701793415194" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="sdkmanå®‰è£…ä½¿ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T04:35:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‹å°–çš„ç°å°˜"/> <meta itemprop="url" content="https://juejin.cn/user/4380914057753640"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            sdkmanå®‰è£…ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4380914057753640/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‹å°–çš„ç°å°˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T04:35:05.000Z" title="Fri Dec 19 2025 04:35:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">SDKMAN å®‰è£…æŒ‡å— - è‡ªå®šä¹‰å®‰è£…åˆ° /opt/sdkman</h2>
<h3 data-id="heading-1">æ¦‚è¿°</h3>
<p>ä»‹ç»å¦‚ä½•åœ¨ macOS M4 ç³»ç»Ÿä¸Šå°† SDKMAN å®‰è£…åˆ°è‡ªå®šä¹‰ç›®å½• <code>/opt/sdkman</code>ã€‚</p>
<h3 data-id="heading-2">å®‰è£…æ­¥éª¤</h3>
<h4 data-id="heading-3">1. æ¸…ç†ç°æœ‰é…ç½®ï¼ˆé‡è¦ï¼ï¼‰</h4>
<p>å¦‚æœä¹‹å‰å®‰è£…è¿‡ SDKMANï¼Œéœ€è¦å…ˆæ¸…ç†ç°æœ‰é…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰ç°æœ‰é…ç½®</span>
<span class="hljs-built_in">cat</span> ~/.zshrc | grep -i sdkman

<span class="hljs-comment"># å¦‚æœæœ‰é…ç½®ï¼Œåˆ é™¤ ~/.zshrc ä¸­çš„ SDKMAN ç›¸å…³è¡Œ</span>
<span class="hljs-comment"># å¯ä»¥æ‰‹åŠ¨ç¼–è¾‘æˆ–ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤</span>
sed -i <span class="hljs-string">''</span> <span class="hljs-string">'/SDKMAN/d'</span> ~/.zshrc

<span class="hljs-comment"># å–æ¶ˆå½“å‰ä¼šè¯ä¸­çš„ SDKMAN_DIR ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">unset</span> SDKMAN_DIR

<span class="hljs-comment"># åˆ é™¤å¯èƒ½å­˜åœ¨çš„æ—§å®‰è£…ç›®å½•</span>
<span class="hljs-built_in">rm</span> -rf ~/.sdkman
</code></pre>
<h4 data-id="heading-4">2. åˆ›å»ºç›®å½•å¹¶è®¾ç½®æƒé™</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º sdkman ç›®å½•</span>
sudo <span class="hljs-built_in">mkdir</span> -p /opt/sdkman

<span class="hljs-comment"># è®¾ç½®ç›®å½•æƒé™</span>
sudo <span class="hljs-built_in">chown</span> -R <span class="hljs-variable">$USER</span>:staff /opt/sdkman
</code></pre>
<h4 data-id="heading-5">3. éªŒè¯æƒé™è®¾ç½®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æµ‹è¯•æ˜¯å¦å¯ä»¥åœ¨ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶</span>
<span class="hljs-built_in">touch</span> /opt/sdkman/test.txt
<span class="hljs-built_in">ls</span> -la /opt/sdkman/
<span class="hljs-built_in">rm</span> /opt/sdkman/test.txt
</code></pre>
<h4 data-id="heading-6">4. å®‰è£… SDKMAN</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ç¯å¢ƒå˜é‡æŒ‡å®šå®‰è£…ç›®å½•</span>
SDKMAN_DIR=<span class="hljs-string">"/opt/sdkman"</span> curl -s <span class="hljs-string">"https://get.sdkman.io"</span> | bash
</code></pre>
<h4 data-id="heading-7">5. å¤„ç†é»˜è®¤å®‰è£…ä½ç½®</h4>
<p>å¦‚æœå®‰è£…è„šæœ¬å°†æ–‡ä»¶å®‰è£…åˆ°äº† <code>~/.sdkman</code>ï¼Œéœ€è¦ç§»åŠ¨åˆ°ç›®æ ‡ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç§»åŠ¨æ–‡ä»¶åˆ°ç›®æ ‡ç›®å½•</span>
<span class="hljs-built_in">mv</span> ~/.sdkman/* /opt/sdkman/

<span class="hljs-comment"># åˆ é™¤é»˜è®¤ç›®å½•</span>
<span class="hljs-built_in">rm</span> -rf ~/.sdkman
</code></pre>
<h4 data-id="heading-8">6. æ›´æ–°é…ç½®æ–‡ä»¶</h4>
<p>ä¿®æ”¹ <code>~/.zshrc</code> æ–‡ä»¶ä¸­çš„ SDKMAN è·¯å¾„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ sed å‘½ä»¤æ›´æ–°è·¯å¾„</span>
sed -i <span class="hljs-string">''</span> <span class="hljs-string">'s|$HOME/.sdkman|/opt/sdkman|g'</span> ~/.zshrc
</code></pre>
<p>é…ç½®æ–‡ä»¶åº”è¯¥åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#THIS MUST BE AT THE END OF THE FILE FOR SDKMAN TO WORK!!!</span>
<span class="hljs-built_in">export</span> SDKMAN_DIR=<span class="hljs-string">"/opt/sdkman"</span>
[[ -s <span class="hljs-string">"/opt/sdkman/bin/sdkman-init.sh"</span> ]] &amp;&amp; <span class="hljs-built_in">source</span> <span class="hljs-string">"/opt/sdkman/bin/sdkman-init.sh"</span>
</code></pre>
<h4 data-id="heading-9">7. éªŒè¯å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°åŠ è½½é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.zshrc

<span class="hljs-comment"># æ£€æŸ¥ç‰ˆæœ¬</span>
sdk version

<span class="hljs-comment"># æŸ¥çœ‹å¸®åŠ©</span>
sdk <span class="hljs-built_in">help</span>
</code></pre>
<h3 data-id="heading-10">é¢„æœŸè¾“å‡º</h3>
<p>æˆåŠŸå®‰è£…åï¼Œ<code>sdk version</code> åº”è¯¥æ˜¾ç¤ºï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">SDKMAN!
<span class="hljs-section">script: 5.20.0</span>
<span class="hljs-section">native: 0.7.14 (macos aarch64)</span>
</code></pre>
<h3 data-id="heading-11">å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-12">æƒé™é—®é¢˜</h4>
<p>å¦‚æœé‡åˆ°æƒé™æ‹’ç»é”™è¯¯ï¼Œç¡®ä¿ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>sudo</code> åˆ›å»º <code>/opt/sdkman</code> ç›®å½•</li>
<li>æ­£ç¡®è®¾ç½®ç›®å½•æ‰€æœ‰è€…ä¸ºå½“å‰ç”¨æˆ·</li>
<li>ç›®å½•æ‰€æœ‰è€…è®¾ç½®æ­£ç¡®</li>
</ul>
<h4 data-id="heading-13">å®‰è£…ä½ç½®é—®é¢˜</h4>
<p>SDKMAN å®‰è£…è„šæœ¬é»˜è®¤å®‰è£…åˆ° <code>~/.sdkman</code>ï¼Œéœ€è¦æ‰‹åŠ¨ç§»åŠ¨æ–‡ä»¶å¹¶æ›´æ–°é…ç½®ã€‚</p>
<h4 data-id="heading-14">é…ç½®æ–‡ä»¶é—®é¢˜</h4>
<p>ç¡®ä¿ <code>~/.zshrc</code> ä¸­çš„è·¯å¾„æŒ‡å‘ <code>/opt/sdkman</code> è€Œä¸æ˜¯ <code>~/.sdkman</code>ã€‚</p>
<h4 data-id="heading-15">å®‰è£…å¤±è´¥é—®é¢˜</h4>
<p>å¦‚æœå®‰è£…æ—¶æç¤º"You already have SDKMAN installed"ä½†å®é™…æ— æ³•ä½¿ç”¨ï¼š</p>
<ul>
<li>æ£€æŸ¥ <code>~/.zshrc</code> æ˜¯å¦æœ‰æ—§çš„ SDKMAN é…ç½®</li>
<li>ä½¿ç”¨ <code>unset SDKMAN_DIR</code> æ¸…é™¤ç¯å¢ƒå˜é‡</li>
<li>åˆ é™¤æ—§é…ç½®åé‡æ–°å®‰è£…</li>
</ul>
<h3 data-id="heading-16">ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºå¯ç”¨çš„ Java ç‰ˆæœ¬</span>
sdk list java

<span class="hljs-comment"># å®‰è£… Java</span>
sdk install java 17.0.0-tem

<span class="hljs-comment"># åˆ‡æ¢ Java ç‰ˆæœ¬</span>
sdk use java 17.0.0-tem

<span class="hljs-comment"># è®¾ç½®é»˜è®¤ç‰ˆæœ¬</span>
sdk default java 17.0.0-tem
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mongooseæ“ä½œMongoDBæ•°æ®åº“ï¼ˆ2ï¼‰ï¼šå®ç°å¢ã€åˆ ã€æ”¹ã€æŸ¥åŸºç¡€æ“ä½œ]]></title>    <link>https://juejin.cn/post/7585085798809436187</link>    <guid>https://juejin.cn/post/7585085798809436187</guid>    <pubDate>2025-12-19T03:47:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585085798809436187" data-draft-id="7584722109583786027" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mongooseæ“ä½œMongoDBæ•°æ®åº“ï¼ˆ2ï¼‰ï¼šå®ç°å¢ã€åˆ ã€æ”¹ã€æŸ¥åŸºç¡€æ“ä½œ"/> <meta itemprop="keywords" content="Mongoose"/> <meta itemprop="datePublished" content="2025-12-19T03:47:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹å—¨çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2137106336976183"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mongooseæ“ä½œMongoDBæ•°æ®åº“ï¼ˆ2ï¼‰ï¼šå®ç°å¢ã€åˆ ã€æ”¹ã€æŸ¥åŸºç¡€æ“ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2137106336976183/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹å—¨çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:47:01.000Z" title="Fri Dec 19 2025 03:47:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç‹å—¨çš®ï¼Œä¸€å<code>ä¸»ä¸šå‰ç«¯ï¼Œå‰¯ä¸šå…¨æ ˆ</code>çš„ç¨‹åºå‘˜ï¼Œåœ¨è¿™é‡Œæˆ‘ä¼šåˆ†äº«å…³äº<code>å‰ç«¯è¿›é˜¶å…¨æ ˆçš„å¸¸ç”¨æŠ€æœ¯</code>Â å’ŒÂ <code>åŸºæœ¬å…¥é—¨æ“ä½œ</code>ã€‚ å¦‚æœæˆ‘çš„æ–‡ç« èƒ½è®©æ‚¨æœ‰æ‰€æ”¶è·ï¼Œæ¬¢è¿ä¸€é”®ä¸‰è¿ï¼ˆè¯„è®ºï¼Œç‚¹èµï¼Œå…³æ³¨ï¼‰ã€‚</p>
<hr/>
<p>æœ¬èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬é€šè¿‡ <code>mongoose</code> å®šä¹‰å¥½æ•°æ®æ¨¡å‹ï¼Œå¹¶å®ç°å¯¹æ•°æ®åº“<strong>å¢ã€åˆ ã€æ”¹ã€æŸ¥</strong>åŸºæœ¬çš„æ“ä½œã€‚</p>
<h3 data-id="heading-0">å®šä¹‰æ•°æ®æ¨¡å‹</h3>
<p>åœ¨é¡¹ç›®æ ¹å½•ä¸‹åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«å‘½åä¸º <code>modal</code> å’Œ <code>router</code>ï¼Œ</p>
<p>å…¶ä¸­ <code>modal</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>modal.js</code> æ–‡ä»¶ç”¨æ¥å®šä¹‰æ•°æ®æ¨¡å‹ï¼Œ<code>router</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>router.js</code> æ–‡ä»¶æ–¹ä¾¿åç»­åˆ›å»ºå¢ã€åˆ ã€æ”¹ã€æŸ¥è¯·æ±‚æ¥å£ã€‚</p>
<pre><code class="hljs language-é¡¹ç›®ç»“æ„" lang="é¡¹ç›®ç»“æ„">ğŸ“¦node_mongo
 â”£ ğŸ“‚model
 â”ƒ â”— ğŸ“œmodal.js
 â”£ ğŸ“‚router
 â”ƒ â”— ğŸ“œrouter.js
 â”£ ğŸ“œ.env
 â”£ ğŸ“œindex.js
 â”— ğŸ“œpackage.json
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œé¦–å…ˆåœ¨ <code>modal.js</code> ä¸­å»ºç«‹ <code>Schema</code> æ•°æ®æ–‡æ¡£ã€‚</p>
<p><strong>Schema</strong> æ˜¯ä»€ä¹ˆï¼Ÿ å®ƒç±»ä¼¼äºä¼ ç»Ÿæ•°æ®åº“ä¸­çš„è¡¨ç»“æ„ï¼Œå®šä¹‰äº†é›†åˆé‡Œæ¯ä¸ªæ–‡æ¡£ä¸­åº”è¯¥æœ‰çš„å­—æ®µï¼Œä»¥åŠè¿™äº›å­—æ®µçš„æ•°æ®ç±»å‹ã€‚</p>
<pre><code class="hljs language-modal.js" lang="modal.js">// å¯¼å…¥mongoose
import mongoose from 'mongoose'

// åˆ›å»ºSchemaæ–‡æ¡£
const carSchema = new mongoose.Schema({
  type: String,
  brand: String,
  price: Number,
})

// å¯¼å‡ºæ¨¡å‹
export const carModel = mongoose.model('car', carSchema)
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œç¬¬ä¸€æ­¥å…ˆå°† mongoose æ ¸å¿ƒä¾èµ–åº“å¯¼å…¥ã€‚</p>
<p>å…¶æ¬¡ä»¥æ±½è½¦ä¸ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ª <code>carSchema</code> çš„å®ä¾‹å¯¹è±¡ï¼Œå¯¹è±¡ä¸­åŒ…å« <code>type</code>ã€<code>brand</code>ã€<code>price</code> ä¸‰ä¸ªå­—æ®µï¼Œåˆ†åˆ«ä»£è¡¨å‹å·ï¼Œå“ç‰Œå’Œä»·æ ¼ï¼Œå…¶ä¸­å‰ä¸¤ä¸ªä¸ºæ•°æ®ç±»å‹ä¸ºString(å­—ç¬¦ä¸²)ï¼Œä»·æ ¼çš„æ•°æ®ç±»å‹ä¸ºNumber(æ•°å­—)</p>
<p>æœ€åï¼Œä½¿ç”¨ <code>mongoose.model</code> å°†æ•°æ®æ¨¡å‹å¯¼å‡ºï¼Œæ–¹ä¾¿æ¥å£çš„ä½¿ç”¨ï¼Œ<code>mongoose.model</code> æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•° <code>car</code> æ˜¯MongoDBæ•°æ®åº“ä¸‹é›†åˆçš„åç§°ï¼ˆ<strong>æ³¨æ„ï¼šé›†åˆåˆ›å»ºæ—¶ä¼šåç§°è‡ªåŠ¨ä¿®æ”¹ä¸ºå¤æ•°ï¼Œæ¯”å¦‚ä»£ç ä¸­ä¼ é€’å‚æ•°ä¸º <code>car</code>ï¼Œæ•°æ®åº“é›†åˆçš„åç§°ä¼šå˜ä¸º <code>cars</code></strong>ï¼‰</p>
<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ <code>carSchema</code>ï¼Œå°±æ˜¯ä¹‹å‰åˆ›å»ºçš„æ–‡æ¡£å®ä¾‹å¯¹è±¡ã€‚</p>
<h3 data-id="heading-1">å¸¸ç”¨æ¥å£çš„åˆ›å»º</h3>
<p>å®Œæˆæ•°æ®æ¨¡å‹çš„å®šä¹‰åï¼Œæˆ‘ä»¬æ¥åˆ° <code>router</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œ</p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª <code>asyncHandler.js</code> ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªç®€å•çš„é”™è¯¯å¤„ç†åŒ…è£…å‡½æ•°ï¼Œç»Ÿä¸€å¤„ç†é”™è¯¯æ ¼å¼ã€‚</p>
<pre><code class="hljs language-asyncHandler.js" lang="asyncHandler.js">// å¼‚æ­¥é”™è¯¯å¤„ç†åŒ…è£…å‡½æ•°
export const asyncHandler = (fn) =&gt; {
  return (req, res, next) =&gt; {
    Promise.resolve(fn(req, res, next)).catch((error) =&gt; {
      console.error('é”™è¯¯:', error.message)
      // ç»Ÿä¸€è¿”å›é”™è¯¯æ ¼å¼
      res.status(500).json({
        success: false,
        message: error.message || 'æœåŠ¡å™¨é”™è¯¯'
      })
    })
  }
}
</code></pre>
<p>ä¹‹åæŠŠæ•°æ®æ¨¡å‹ <code>carModel</code> å’Œ å¼‚æ­¥å¤„ç†å‡½æ•° <code>asyncHandler.js</code> å¯¼å…¥ <code>router.js</code>ã€‚</p>
<pre><code class="hljs language-router.js" lang="router.js">import express from 'express'
const router = express.Router()

// å¯¼å…¥model
import { carModel } from '../model/modal.js'
// å¯¼å…¥é”™è¯¯å¤„ç†åŒ…è£…å‡½æ•°
import { asyncHandler } from './asyncHandler.js'
</code></pre>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ <code>Restful API</code> åˆ†åˆ«æŒ‰é¡ºåºåˆ›å»ºå¢ã€åˆ ã€æ”¹ã€æŸ¥å››ä¸ªæ¥å£å¹¶å°†è·¯ç”±å¯¼å‡ºï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-router.js" lang="router.js">// æ–°å¢æ±½è½¦æ•°æ®
router.post('/addCars', asyncHandler(async (req, res) =&gt; {
  const { type, brand, price } = req.body
  const car = new carModel({ type, brand, price })
  await car.save()
  res.json(car)
}))

// åˆ é™¤æ±½è½¦æ•°æ®
router.delete('/deleteCars/:id', asyncHandler(async (req, res) =&gt; {
  //è·å–åˆ é™¤id
  const { id } = req.params
  await carModel.findByIdAndDelete(id)
  res.json({ message: 'æ•°æ®åˆ é™¤æˆåŠŸï¼' })
}))

// æ›´æ–°æ±½è½¦æ•°æ®
router.put('/updateCars/:id', asyncHandler(async (req, res) =&gt; {
  //è·å–æ›´æ–°æ•°æ®id
  const { id } = req.params
  const { type, brand, price } = req.body
  const car = await carModel.findByIdAndUpdate(id, { type, brand, price }, { new: true })
  res.json(car)
}))

// æŸ¥è¯¢æ‰€æœ‰æ±½è½¦æ•°æ®
router.get('/getAllCars', asyncHandler(async (req, res) =&gt; {
  const cars = await carModel.find()
  res.json(cars)
}))

// å¯¼å‡ºè·¯ç”±
export default router
</code></pre>
<h3 data-id="heading-2">æ¥å£æµ‹è¯•</h3>
<p>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fapifox.com%2F" target="_blank" title="https://apifox.com/" ref="nofollow noopener noreferrer">Apifox</a> æ¥æµ‹è¯•ä¸€ä¸‹æ¥å£å’Œæ•°æ®åº“æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</p>
<p>å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½• <code>index.js</code> é‡Œå¯¼å…¥æ¥å£è·¯ç”±ã€‚</p>
<pre><code class="hljs language-index.js" lang="index.js">// å¯¼å…¥è·¯ç”±
import router from './router/router.js'
// å°†apiè®¾ç½®ä¸ºå…¬å…±è·¯å¾„ï¼Œä¸ç”¨æ¯æ¬¡éƒ½åœ¨è·¯ç”±å‰é¢åŠ /api
app.use('/api', router)
</code></pre>
<p>ä½¿ç”¨ç»ˆç«¯è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œ <code>node index.js</code> å¯åŠ¨æœåŠ¡ã€‚</p>
<p>æˆ‘ä»¬ä»¥æ–°å¢ä¸€æ¡æ±½è½¦æ•°æ®æ¥å£ä¸ºä¾‹ï¼Œè¯·æ±‚åœ°å€å’Œä¼ é€’å‚æ•°å‚è€ƒä¸‹å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f36ea5d7d69468088192c9bc41340ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5Zeo55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720820&amp;x-signature=8qhYb3j1ugSRgndOqbvgMTLQotc%3D" alt="QQæˆªå›¾20251219105406.png" loading="lazy"/></p>
<p>ç‚¹å‡» "å‘é€" è¯·æ±‚ï¼Œå¦‚æœæ·»åŠ æˆåŠŸï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸‹æ–¹æ§åˆ¶å°çœ‹åˆ°è¿”å›çš„æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30060dac92a04de9a78322da6915147a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5Zeo55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720820&amp;x-signature=vN%2BzWcxJRG%2FWi0vb4tapvfuRWJw%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºäº†ç¡®è®¤æ•°æ®æ·»åŠ æˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨ Navicat ç™»å½•æ•°æ®åº“æŸ¥çœ‹ä¸€ä¸‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bd1348ea60548ffbddacfa6b09b92eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5Zeo55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720820&amp;x-signature=%2BjiYFSLL%2FGvwtdlUMaCP5RqUR3c%3D" alt="QQæˆªå›¾20251219111525.png" loading="lazy"/></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°åœ¨ <code>test</code> æ•°æ®åº“ä¸‹å·²ç»æˆåŠŸå»ºç«‹äº† <code>cars</code> é›†åˆï¼Œå¹¶ä¸”æœ‰äº†ä¸€æ¡æ•°æ®ã€‚å…¶å®ƒçš„æ¥å£å¤§å®¶å¯ä»¥è‡ªè¡Œè¿›è¡Œæµ‹è¯•ã€‚</p>
<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ä½¿ç”¨ <code>Mongoose</code> å®ç°å¯¹æ•°æ®åº“å¢åˆ æ”¹æŸ¥çš„åŸºæœ¬æ“ä½œã€‚</p>
<p>ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†è®²è§£<strong>èšåˆã€æ¡ä»¶æŸ¥è¯¢ã€åˆ†é¡µ</strong>æ’åºç­‰ <code>Mongoose</code> å¯¹æ•°æ®åº“çš„è¿›é˜¶æ“ä½œã€‚</p>
<p>å¦‚æœæˆ‘çš„æ–‡ç« èƒ½è®©æ‚¨æœ‰æ‰€æ”¶è·ï¼Œæ¬¢è¿ä¸€é”®ä¸‰è¿ï¼ˆè¯„è®ºï¼Œç‚¹èµï¼Œå…³æ³¨ï¼‰ï¼Œæ„Ÿè°¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vueå›½é™…åŒ–å®ç°å¤šè¯­è¨€æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7585085798809600027</link>    <guid>https://juejin.cn/post/7585085798809600027</guid>    <pubDate>2025-12-19T04:46:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585085798809600027" data-draft-id="7585084491895635994" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vueå›½é™…åŒ–å®ç°å¤šè¯­è¨€æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-19T04:46:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Aniugel"/> <meta itemprop="url" content="https://juejin.cn/user/3034307824198407"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vueå›½é™…åŒ–å®ç°å¤šè¯­è¨€æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3034307824198407/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Aniugel
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T04:46:01.000Z" title="Fri Dec 19 2025 04:46:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h3 data-id="heading-0">ä¸€ã€ç›®å½•ç»“æ„è®¾è®¡</h3>
<p>å»ºè®®å°†å¤šè¯­è¨€èµ„æºé›†ä¸­ç®¡ç†ï¼Œå…¸å‹ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">src/
â”œâ”€â”€ lang/                # å¤šè¯­è¨€æ ¸å¿ƒç›®å½•
â”‚   â”œâ”€â”€ index.js         # i18n é…ç½®å…¥å£
â”‚   â”œâ”€â”€ zh.js            # ä¸­æ–‡
â”‚   â”œâ”€â”€ en.js            # è‹±æ–‡
â”‚   â””â”€â”€ ar.js            # é˜¿æ‹‰ä¼¯
â”œâ”€â”€ main.js              # Vue å…¥å£
â”œâ”€â”€ components/          # ä¸šåŠ¡ç»„ä»¶
â””â”€â”€ views/               # é¡µé¢ç»„ä»¶
</code></pre>
<h3 data-id="heading-1">äºŒã€ç¼–å†™è¯­è¨€åŒ…</h3>
<p>æ¯ä¸ªè¯­è¨€åŒ…å¯¼å‡º<strong>é”®å€¼å¯¹</strong>æ ¼å¼çš„æ–‡æœ¬èµ„æºï¼Œé”®åä¿æŒç»Ÿä¸€ï¼Œå€¼ä¸ºå¯¹åº”è¯­è¨€çš„æ–‡æœ¬ã€‚</p>
<ul>
<li><code>src/lang/zh.js</code>ï¼ˆä¸­æ–‡ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">common</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'Vue2 é¡¹ç›®'</span>,
    <span class="hljs-attr">welcome</span>: <span class="hljs-string">'æ¬¢è¿ {name} ç™»å½•ï¼Œä»Šæ—¥å‰©ä½™æ¬¡æ•°ï¼š{count}'</span>,
    <span class="hljs-attr">cancel</span>: <span class="hljs-string">'å–æ¶ˆ'</span>,
    <span class="hljs-attr">confirm</span>: <span class="hljs-string">'ç¡®è®¤'</span>,
    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'è¯·è¾“å…¥å†…å®¹'</span>,
    <span class="hljs-attr">item</span>: <span class="hljs-string">'é¡¹ç›®'</span>, <span class="hljs-comment">// å•æ•° | å¤æ•°</span>
    <span class="hljs-attr">count</span>: <span class="hljs-string">'æ‚¨æœ‰ {count} ä¸ªé¡¹ç›® | æ‚¨æœ‰ {count} ä¸ªé¡¹ç›®'</span>,
  },
  <span class="hljs-attr">login</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'ç”¨æˆ·ç™»å½•'</span>,
    <span class="hljs-attr">user</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'ç”¨æˆ·å'</span>,
    },
  },
}

</code></pre>
<ul>
<li><code>src/lang/en.js</code>ï¼ˆè‹±æ–‡ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">common</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'Vue2 Lighthouse Demo'</span>,
    <span class="hljs-attr">welcome</span>: <span class="hljs-string">'welcome {name} login, today remaining times: {count}'</span>,
    <span class="hljs-attr">cancel</span>: <span class="hljs-string">'Cancel'</span>,
    <span class="hljs-attr">confirm</span>: <span class="hljs-string">'Confirm'</span>,
    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'Please enter content'</span>,
    <span class="hljs-attr">item</span>: <span class="hljs-string">'item | items'</span>, <span class="hljs-comment">// å•æ•° | å¤æ•°</span>
    <span class="hljs-attr">count</span>: <span class="hljs-string">'You have {count} item | You have {count} items'</span>,
  },
  <span class="hljs-attr">login</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'User Login'</span>,
    <span class="hljs-attr">user</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Username'</span>,
    },
  }
}
</code></pre>
<ul>
<li><code>src/lang/ar.js</code>ï¼ˆé˜¿æ‹‰ä¼¯ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é˜¿æ‹‰ä¼¯è¯­è¯­è¨€åŒ… - æ³¨æ„ï¼šé˜¿æ‹‰ä¼¯è¯­æ˜¯RTLï¼ˆä»å³åˆ°å·¦ï¼‰è¯­è¨€</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">common</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'Ø¹Ø±Ø¶ Vue2 Ù„Ù€ Lighthouse'</span>,
    <span class="hljs-attr">welcome</span>: <span class="hljs-string">'Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ {name} ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ Ø§Ù„Ù…Ø±Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ø§Ù„ÙŠÙˆÙ…: {count}'</span>,
    <span class="hljs-attr">cancel</span>: <span class="hljs-string">'Ø¥Ù„ØºØ§Ø¡'</span>,
    <span class="hljs-attr">confirm</span>: <span class="hljs-string">'ØªØ£ÙƒÙŠØ¯'</span>,
    <span class="hljs-attr">submit</span>: <span class="hljs-string">'ØªØ£ÙƒÙŠØ¯ØªØ£ ØªØ£ÙƒÙŠØ¯ØªØ£ ØªØ£ÙƒÙŠØ¯ØªØ£ ÙƒÙŠØ¯ØªØ£ÙƒÙŠØ¯'</span>,
    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰'</span>,
    <span class="hljs-attr">item</span>: <span class="hljs-string">'Ø¹Ù†ØµØ± | Ø¹Ù†Ø§ØµØ±'</span>, <span class="hljs-comment">// Ù…ÙØ±Ø¯ | Ø¬Ù…Ø¹</span>
    <span class="hljs-attr">count</span>: <span class="hljs-string">'Ù„Ø¯ÙŠÙƒ {count} Ø¹Ù†ØµØ± | Ù„Ø¯ÙŠÙƒ {count} Ø¹Ù†Ø§ØµØ±'</span>,
    <span class="hljs-attr">price</span>: <span class="hljs-string">'Ø§Ù„Ø³Ø¹Ø±: {amount}'</span>, <span class="hljs-comment">// å¸¦å˜é‡çš„æ–‡æœ¬ï¼ˆå˜é‡ä½ç½®ä¸å½±å“RTLï¼‰</span>
    <span class="hljs-attr">mixedText</span>: <span class="hljs-string">"Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ÙŠ: &lt;span dir='ltr'&gt;#12345&lt;/span&gt;"</span>, <span class="hljs-comment">// æ··åˆæ–‡æœ¬ï¼ˆæ•°å­—å¼ºåˆ¶LTRï¼‰</span>
  },
  <span class="hljs-attr">login</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'</span>,
    <span class="hljs-attr">user</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'</span>,
    },
  },
}

</code></pre>
<h3 data-id="heading-2">ä¸‰ã€é…ç½® vue-i18n</h3>
<p>åœ¨Â <code>src/lang/index.js</code>Â ä¸­åˆå§‹åŒ– i18n å®ä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">VueI18</span>n <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-i18n'</span>

<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueI18</span>n)

<span class="hljs-comment">// æŒ‰éœ€å¼•å…¥é…ç½®</span>
<span class="hljs-comment">// const messages = {</span>
<span class="hljs-comment">//   en: () =&gt; import('./en'),</span>
<span class="hljs-comment">//   zh: () =&gt; import('./zh'),</span>
<span class="hljs-comment">// }</span>

<span class="hljs-keyword">import</span> en <span class="hljs-keyword">from</span> <span class="hljs-string">'./en'</span>
<span class="hljs-keyword">import</span> zh <span class="hljs-keyword">from</span> <span class="hljs-string">'./zh'</span>
<span class="hljs-keyword">import</span> ar <span class="hljs-keyword">from</span> <span class="hljs-string">'./ar'</span> <span class="hljs-comment">// å¯¼å…¥é˜¿æ‹‰ä¼¯è¯­</span>
<span class="hljs-keyword">const</span> messages = {
  en,
  zh,
  ar, <span class="hljs-comment">// æ³¨å†Œé˜¿æ‹‰ä¼¯è¯­</span>
}
<span class="hljs-comment">// è·å–é»˜è®¤è¯­è¨€ï¼ˆä¼˜å…ˆçº§ï¼šæœ¬åœ°å­˜å‚¨ &gt; æµè§ˆå™¨è¯­è¨€ &gt; ç®€ä½“ä¸­æ–‡ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getDefaultLang</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> lang =
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'lang'</span>) || navigator.<span class="hljs-property">language</span> || navigator.<span class="hljs-property">userLanguage</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'lang'</span>, lang)

  <span class="hljs-keyword">if</span> (lang &amp;&amp; messages[lang]) {
    <span class="hljs-comment">// è®¾ç½®htmlæ ¹èŠ‚ç‚¹çš„dirå’Œlangå±æ€§ï¼ˆæ ¸å¿ƒï¼ï¼‰</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">dir</span> = lang === <span class="hljs-string">'ar'</span> ? <span class="hljs-string">'rtl'</span> : <span class="hljs-string">'ltr'</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">lang</span> = lang
    <span class="hljs-keyword">return</span> lang
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// å…œåº•ï¼šå¦‚æœæµè§ˆå™¨è¯­è¨€ä¸æ”¯æŒï¼Œé»˜è®¤ä½¿ç”¨ç®€ä½“ä¸­æ–‡</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'zh'</span>
  }
}
<span class="hljs-keyword">const</span> i18n = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueI18</span>n({
  <span class="hljs-attr">locale</span>: <span class="hljs-title function_">getDefaultLang</span>(), <span class="hljs-comment">// å½“å‰è¯­è¨€æ ‡è¯†</span>
  <span class="hljs-attr">fallbackLocale</span>: <span class="hljs-string">'zh'</span>, <span class="hljs-comment">// è¯­è¨€ä¸å­˜åœ¨æ—¶çš„å…œåº•è¯­è¨€</span>
  <span class="hljs-comment">// æŒ‰éœ€åŠ è½½</span>
  <span class="hljs-comment">// messages: {},</span>
  <span class="hljs-comment">// åŒæ­¥åŠ è½½</span>
  messages,
  <span class="hljs-comment">// é˜²æ­¢é¡µé¢é—ªçƒ</span>
  <span class="hljs-attr">silentTranslationWarn</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">dateTimeFormats</span>: {
    <span class="hljs-attr">zh</span>: {
      <span class="hljs-attr">short</span>: {
        <span class="hljs-attr">year</span>: <span class="hljs-string">'numeric'</span>,
        <span class="hljs-attr">month</span>: <span class="hljs-string">'2-digit'</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">'2-digit'</span>,
      },
    },
    <span class="hljs-attr">en</span>: {
      <span class="hljs-attr">short</span>: {
        <span class="hljs-attr">year</span>: <span class="hljs-string">'numeric'</span>,
        <span class="hljs-attr">month</span>: <span class="hljs-string">'2-digit'</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">'2-digit'</span>,
      },
    },
    <span class="hljs-attr">ar</span>: {
      <span class="hljs-attr">short</span>: {
        <span class="hljs-attr">year</span>: <span class="hljs-string">'numeric'</span>,
        <span class="hljs-attr">month</span>: <span class="hljs-string">'2-digit'</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">'2-digit'</span>,
      },
    },
  },
  <span class="hljs-attr">numberFormats</span>: {
    <span class="hljs-attr">zh</span>: {
      <span class="hljs-attr">currency</span>: {
        <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>,
        <span class="hljs-attr">currency</span>: <span class="hljs-string">'CNY'</span>,
      },
    },
    <span class="hljs-attr">en</span>: {
      <span class="hljs-attr">currency</span>: {
        <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>,
        <span class="hljs-attr">currency</span>: <span class="hljs-string">'USD'</span>,
      },
    },
    <span class="hljs-attr">ar</span>: {
      <span class="hljs-attr">currency</span>: {
        <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>,
        <span class="hljs-attr">currency</span>: <span class="hljs-string">'EGP'</span>, <span class="hljs-comment">// åŸƒåŠé•‘ï¼Œé˜¿æ‹‰ä¼¯è¯­å›½å®¶å¸¸ç”¨è´§å¸</span>
      },
    },
  },
})

<span class="hljs-comment">// åŠ¨æ€åŠ è½½é»˜è®¤è¯­è¨€åŒ…</span>
<span class="hljs-comment">// const loadLang = async (lang) =&gt; {</span>
<span class="hljs-comment">//   const langModule = await messages[lang]()</span>
<span class="hljs-comment">//   console.log('langModule', langModule)</span>
<span class="hljs-comment">//   i18n.setLocaleMessage(lang, langModule.default)</span>
<span class="hljs-comment">//   i18n.locale = lang</span>
<span class="hljs-comment">// }</span>
<span class="hljs-comment">// loadLang(getDefaultLang())</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> i18n

</code></pre>
<h4 data-id="heading-3">åœ¨ Vue å…¥å£æ³¨å†Œ i18n</h4>
<p>ä¿®æ”¹Â <code>src/main.js</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> i18n <span class="hljs-keyword">from</span> <span class="hljs-string">'./lang'</span> <span class="hljs-comment">// å¯¼å…¥ i18n å®ä¾‹</span>

<span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  i18n, <span class="hljs-comment">// æ³¨å…¥åˆ° Vue å®ä¾‹</span>
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>)
}).$mount(<span class="hljs-string">'#app'</span>)
</code></pre>
<h3 data-id="heading-4">å››ã€åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å¤šè¯­è¨€</h3>
<h4 data-id="heading-5">1. æ¨¡æ¿ä¸­ä½¿ç”¨ï¼ˆæ ¸å¿ƒç”¨æ³•ï¼‰</h4>
<ul>
<li>åŸºç¡€ç”¨æ³•ï¼š<code>$t('é”®å')</code></li>
<li>åµŒå¥—é”®åï¼š<code>$t('common.submit')</code></li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"value"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·é€‰æ‹©è¯­è¨€"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"handleChange"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ä¸­æ–‡"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"zh"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">el-option</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è‹±æ–‡"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"en"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">el-option</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"é˜¿æ‹‰ä¼¯"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ar"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">el-option</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-select</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¼ å‚ï¼š{{ $t('common.welcome', { name: 'ç”Ÿå', count: '10' }) }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ $t('common.cancel') }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ $t('common.confirm') }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ $t('login.title') }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¸‰å±‚ç¿»è¯‘ï¼š{{ $t('login.user.name') }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- åŸºæœ¬ç”¨æ³• --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å•æ•°ï¼š{{ $tc('common.item', 1) }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- è¾“å‡º: item --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¤æ•°ï¼š{{ $tc('common.item', 3) }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- è¾“å‡º: items --&gt;</span>

      <span class="hljs-comment">&lt;!-- å¸¦å˜é‡çš„ç”¨æ³• --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ $tc('common.count', 1, { count: 1 }) }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- è¾“å‡º: You have 1 item --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ $tc('common.count', 5, { count: 5 }) }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- è¾“å‡º: You have 5 items --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        æ°´å°<span class="hljs-tag">&lt;<span class="hljs-name">el-input</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 300px"</span>
          <span class="hljs-attr">v-model</span>=<span class="hljs-string">"lang"</span>
          <span class="hljs-attr">:placeholder</span>=<span class="hljs-string">"$t('common.placeholder')"</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ—¥æœŸï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>{{ $d(new Date()) }}<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
        æ•°å­—ï¼š
        {{ $n(123.22, 'currency') }}
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
        ç®­å¤´å›¾æ ‡ï¼š
        <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"arrow-icon el-icon-right"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- å¸¦å˜é‡çš„æ–‡æœ¬ï¼ˆæ•°å­—æ ¼å¼åŒ–ï¼‰ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ $t('common.price', { amount: formatArabicNumber(99.99) }) }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

      <span class="hljs-comment">&lt;!-- æ··åˆæ–‡æœ¬ï¼ˆé˜¿æ‹‰ä¼¯è¯­+æ•°å­—ï¼Œéœ€ä¿ç•™ HTMLï¼‰ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">"$t('common.mixedText')"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ç»„ä»¶å†…è‡ªå®šä¹‰æ–‡æ¡ˆï¼š<span class="hljs-tag">&lt;<span class="hljs-name">language-private</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- é€‚é…å¤šè¯­è¨€æ–‡æœ¬é•¿åº¦çš„æŒ‰é’® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-btn"</span>&gt;</span>{{ $t('common.submit') }}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">2. è„šæœ¬ä¸­ä½¿ç”¨</h4>
<ul>
<li>å®ä¾‹å†…ï¼š<code>this.$t('é”®å')</code></li>
<li>å…¨å±€ / éç»„ä»¶ç¯å¢ƒï¼šå¯¼å…¥ i18n å®ä¾‹ï¼Œä½¿ç”¨Â <code>i18n.t('é”®å')</code></li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»„ä»¶å†…</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">submit</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span>) {
        <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.$t(<span class="hljs-string">'error.empty'</span>))
      }
    }
  }
}

<span class="hljs-comment">// éç»„ä»¶ç¯å¢ƒï¼ˆå¦‚ router.jsï¼‰</span>
  <span class="hljs-comment">// å¼‚æ­¥åŠ è½½è¯­è¨€åŒ…è·¯ç”±ä¹Ÿè¦ä½¿ç”¨å¼‚æ­¥</span>
  <span class="hljs-comment">// setTimeout(() =&gt; {</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = i18n.<span class="hljs-title function_">t</span>(<span class="hljs-title class_">String</span>(to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>))
  <span class="hljs-comment">// }, 500)</span>
</code></pre>
<h4 data-id="heading-7">3. åŠ¨æ€åˆ‡æ¢è¯­è¨€</h4>
<p>å®ç°è¯­è¨€åˆ‡æ¢æŒ‰é’®ï¼Œä¿®æ”¹Â <code>i18n.locale</code>Â å³å¯ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  &lt;div&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"value"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·é€‰æ‹©è¯­è¨€"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"handleChange"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ä¸­æ–‡"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"zh"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">el-option</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"è‹±æ–‡"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"en"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">el-option</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"é˜¿æ‹‰ä¼¯"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ar"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">el-option</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-select</span>&gt;</span></span>
  &lt;div&gt;    
&lt;template&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-attr">methods</span>: {
    handleChange (val) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$i18n</span>.<span class="hljs-property">locale</span> = val
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'lang'</span>, val)
      <span class="hljs-comment">// å¯é€‰ï¼šåˆ·æ–°é¡µé¢ï¼ˆéƒ¨åˆ†åœºæ™¯éœ€è¦ï¼Œå¦‚è·¯ç”±ã€ç»„ä»¶å†…ç¡¬ç¼–ç æ–‡æœ¬ï¼‰</span>
      <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>()
    },
    <span class="hljs-comment">// æ ¼å¼åŒ–æ•°å­—ä¸ºé˜¿æ‹‰ä¼¯-Indicæ•°å­—ï¼ˆÙ©Ù©.Ù©Ù© è€Œé 99.99ï¼‰</span>
    formatArabicNumber (num) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">$i18n</span>.<span class="hljs-property">locale</span> !== <span class="hljs-string">'ar'</span>) <span class="hljs-keyword">return</span> num;
      <span class="hljs-comment">// é˜¿æ‹‰ä¼¯æ•°å­—æ˜ å°„è¡¨</span>
      <span class="hljs-keyword">const</span> digitMap = {
        <span class="hljs-string">'0'</span>: <span class="hljs-string">'Ù '</span>, <span class="hljs-string">'1'</span>: <span class="hljs-string">'Ù¡'</span>, <span class="hljs-string">'2'</span>: <span class="hljs-string">'Ù¢'</span>, <span class="hljs-string">'3'</span>: <span class="hljs-string">'Ù£'</span>, <span class="hljs-string">'4'</span>: <span class="hljs-string">'Ù¤'</span>,
        <span class="hljs-string">'5'</span>: <span class="hljs-string">'Ù¥'</span>, <span class="hljs-string">'6'</span>: <span class="hljs-string">'Ù¦'</span>, <span class="hljs-string">'7'</span>: <span class="hljs-string">'Ù§'</span>, <span class="hljs-string">'8'</span>: <span class="hljs-string">'Ù¨'</span>, <span class="hljs-string">'9'</span>: <span class="hljs-string">'Ù©'</span>, <span class="hljs-string">'.'</span>: <span class="hljs-string">'.'</span>
      };
      <span class="hljs-keyword">return</span> num.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> digitMap[d] || d).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
    }
  },
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-8">äº”ã€é«˜çº§ç”¨æ³•</h3>
<h4 data-id="heading-9">1. å¸¦å‚æ•°çš„ç¿»è¯‘ï¼ˆæ’å€¼ï¼‰</h4>
<p>å¦‚æœæ–‡æœ¬éœ€è¦åŠ¨æ€æ›¿æ¢å†…å®¹ï¼Œè¯­è¨€åŒ…ä¸­ä½¿ç”¨Â <code>{å˜é‡å}</code>ï¼Œè°ƒç”¨æ—¶ä¼ å…¥å‚æ•°ï¼š</p>
<ul>
<li>è¯­è¨€åŒ…ï¼ˆzh-CN.jsï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">common</span>: {
    <span class="hljs-attr">welcome</span>: <span class="hljs-string">'æ¬¢è¿ {name} ç™»å½•ï¼Œä»Šæ—¥å‰©ä½™æ¬¡æ•°ï¼š{count}'</span>
  }
}
</code></pre>
<ul>
<li>ä½¿ç”¨ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js">&lt;!-- æ¨¡æ¿ä¸­ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ $t('common.welcome', { name: 'å¼ ä¸‰', count: 5 }) }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>

&lt;!-- è„šæœ¬ä¸­ --&gt;
<span class="hljs-variable language_">this</span>.$t(<span class="hljs-string">'common.welcome'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">count</span>: <span class="hljs-number">5</span> })
</code></pre>
<h4 data-id="heading-10">2. å¤æ•°å¤„ç†</h4>
<p>ä¸åŒè¯­è¨€çš„å¤æ•°è§„åˆ™ä¸åŒï¼ˆå¦‚è‹±æ–‡æœ‰å•å¤æ•°ï¼Œä¸­æ–‡æ— ï¼‰ï¼Œ<code>vue-i18n</code>Â æ”¯æŒå¤æ•°æ ¼å¼åŒ–ï¼š</p>
<ul>
<li>è¯­è¨€åŒ…ï¼ˆen-US.jsï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">common</span>: {
    <span class="hljs-attr">item</span>: <span class="hljs-string">'item | items'</span>, <span class="hljs-comment">// å•æ•° | å¤æ•°</span>
    <span class="hljs-attr">count</span>: <span class="hljs-string">'You have {count} {count, plural, one {item} other {items}}'</span>
  }
}
</code></pre>
<ul>
<li>ä½¿ç”¨ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js">&lt;div&gt;{{ $t(<span class="hljs-string">'common.count'</span>, { <span class="hljs-attr">count</span>: <span class="hljs-number">1</span> }) }}&lt;/div&gt; &lt;!-- <span class="hljs-title class_">You</span> have <span class="hljs-number">1</span> item --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ $t('common.count', { count: 5 }) }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> &lt;!-- <span class="hljs-title class_">You</span> have <span class="hljs-number">5</span> items --&gt;
</code></pre>
<h4 data-id="heading-11">3. æ—¥æœŸ / æ•°å­—æ ¼å¼åŒ–</h4>
<p><code>vue-i18n</code>Â å†…ç½®æ—¥æœŸã€æ•°å­—æ ¼å¼åŒ–èƒ½åŠ›ï¼Œéœ€ç»“åˆÂ <code>$d</code>ï¼ˆæ—¥æœŸï¼‰ã€<code>$n</code>ï¼ˆæ•°å­—ï¼‰ä½¿ç”¨ï¼š</p>
<ul>
<li>æ¨¡æ¿ä¸­ï¼š</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ—¥æœŸæ ¼å¼åŒ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ $d(new Date(), 'short') }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-comment">&lt;!-- 2025/12/17ï¼ˆä¸­æ–‡ï¼‰| 12/17/2025ï¼ˆè‹±æ–‡ï¼‰ --&gt;</span>

<span class="hljs-comment">&lt;!-- æ•°å­—æ ¼å¼åŒ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ $n(12345.67, 'currency') }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-comment">&lt;!-- Â¥12,345.67ï¼ˆä¸­æ–‡ï¼‰| $12,345.67ï¼ˆè‹±æ–‡ï¼‰ --&gt;</span>
</code></pre>
<ul>
<li>é…ç½®æ ¼å¼åŒ–è§„åˆ™ï¼ˆåœ¨ lang/index.js ä¸­ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> i18n = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueI18</span>n({
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  <span class="hljs-attr">dateTimeFormats</span>: {
    <span class="hljs-string">'zh-CN'</span>: {
      <span class="hljs-attr">short</span>: {
        <span class="hljs-attr">year</span>: <span class="hljs-string">'numeric'</span>, <span class="hljs-attr">month</span>: <span class="hljs-string">'2-digit'</span>, <span class="hljs-attr">day</span>: <span class="hljs-string">'2-digit'</span>
      }
    },
    <span class="hljs-string">'en-US'</span>: {
      <span class="hljs-attr">short</span>: {
        <span class="hljs-attr">year</span>: <span class="hljs-string">'numeric'</span>, <span class="hljs-attr">month</span>: <span class="hljs-string">'2-digit'</span>, <span class="hljs-attr">day</span>: <span class="hljs-string">'2-digit'</span>
      }
    }
  },
  <span class="hljs-attr">numberFormats</span>: {
    <span class="hljs-string">'zh-CN'</span>: {
      <span class="hljs-attr">currency</span>: {
        <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>, <span class="hljs-attr">currency</span>: <span class="hljs-string">'CNY'</span>
      }
    },
    <span class="hljs-string">'en-US'</span>: {
      <span class="hljs-attr">currency</span>: {
        <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>, <span class="hljs-attr">currency</span>: <span class="hljs-string">'USD'</span>
      }
    }
  }
})
</code></pre>
<h4 data-id="heading-12">4. è·¯ç”±å›½é™…åŒ–</h4>
<p>å¦‚æœæŸä¸ªç»„ä»¶çš„æ–‡æœ¬ä»…åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œå¯åœ¨ç»„ä»¶å†…å®šä¹‰å±€éƒ¨è¯­è¨€åŒ…ï¼š</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-comment">// å¼‚æ­¥åŠ è½½è¯­è¨€åŒ…è·¯ç”±ä¹Ÿè¦ä½¿ç”¨å¼‚æ­¥</span>
  <span class="hljs-comment">// setTimeout(() =&gt; {</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = i18n.<span class="hljs-title function_">t</span>(<span class="hljs-title class_">String</span>(to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>))
  <span class="hljs-comment">// }, 500)</span>
</code></pre>
<h4 data-id="heading-13">5. åŠ¨æ€åŠ è½½</h4>
<p>å¦‚æœæŸä¸ªç»„ä»¶çš„æ–‡æœ¬ä»…åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œå¯åœ¨ç»„ä»¶å†…å®šä¹‰å±€éƒ¨è¯­è¨€åŒ…ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// lang/index.js</span>

<span class="hljs-comment">// æŒ‰éœ€å¼•å…¥é…ç½®</span>
<span class="hljs-keyword">const</span> messages = {
  <span class="hljs-attr">en</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./en'</span>),
  <span class="hljs-attr">zh</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./zh'</span>),
}

<span class="hljs-comment">// åŠ¨æ€åŠ è½½é»˜è®¤è¯­è¨€åŒ…  </span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">loadLang</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">lang</span>) =&gt; {
  <span class="hljs-keyword">const</span> langModule = <span class="hljs-keyword">await</span> messages[lang]()
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'langModule'</span>, langModule)
  i18n.<span class="hljs-title function_">setLocaleMessage</span>(lang, langModule.<span class="hljs-property">default</span>)
  i18n.<span class="hljs-property">locale</span> = lang
}
<span class="hljs-title function_">loadLang</span>(<span class="hljs-title function_">getDefaultLang</span>())
</code></pre>
<h4 data-id="heading-14">5. é˜¿æ‹‰ä¼¯è¯­è¨€ç‰¹æ®Šå¤„ç†</h4>
<ol>
<li>åˆ‡æ¢é˜¿æ‹‰ä¼¯è¯­åï¼Œé¡µé¢æ–‡æœ¬ä»å³å‘å·¦æ’åˆ—ï¼Œå­—ç¬¦æ— ä¹±ç ï¼›</li>
<li>æ··åˆæ–‡æœ¬ï¼ˆå¦‚ â€œØ§Ù„Ø³Ø¹Ø±: Ù©Ù©.Ù©Ù©â€ï¼‰ä¸­æ•°å­—ä¿æŒ LTR æ–¹å‘ï¼Œæ•´ä½“æ’ç‰ˆæ­£å¸¸ï¼›</li>
<li>å›¾æ ‡ã€è¡¨å•ã€æŒ‰é’®ç­‰ç»„ä»¶æ–¹å‘é€‚é…ï¼Œäº¤äº’é€»è¾‘è‡ªæ´½ã€‚</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// index.html</span>

      <span class="hljs-comment">/* å…¨å±€æ ·å¼ï¼šé˜¿æ‹‰ä¼¯è¯­å­—ä½“ + è¡Œé«˜é€‚é… */</span>
      html[lang=<span class="hljs-string">'ar'</span>] {
        font-<span class="hljs-attr">family</span>: <span class="hljs-string">'Noto Naskh Arabic'</span>, serif;
        line-<span class="hljs-attr">height</span>: <span class="hljs-number">2.4</span>; <span class="hljs-comment">/* é˜¿æ‹‰ä¼¯å­—ç¬¦é«˜åº¦é«˜ï¼Œé¿å…æ–‡å­—é‡å  */</span>
      }
      html[lang=<span class="hljs-string">'ar'</span>] .<span class="hljs-property">arrow</span>-icon {
        <span class="hljs-attr">transform</span>: <span class="hljs-title function_">scaleX</span>(-<span class="hljs-number">1</span>); <span class="hljs-comment">/* æ°´å¹³ç¿»è½¬ */</span>
      }
      <span class="hljs-comment">/* å…¨å±€ RTL å¸ƒå±€åŸºç¡€ */</span>
      html[dir=<span class="hljs-string">'rtl'</span>] {
        <span class="hljs-attr">direction</span>: rtl;
        unicode-<span class="hljs-attr">bidi</span>: embed; <span class="hljs-comment">/* å¤„ç†æ··åˆæ–‡æœ¬ï¼ˆé˜¿æ‹‰ä¼¯+æ•°å­—/è‹±æ–‡ï¼‰ */</span>
        text-<span class="hljs-attr">align</span>: right; <span class="hljs-comment">/* æ–‡æœ¬é»˜è®¤å³å¯¹é½ */</span>
      }
      
      &lt;p&gt;
        ç®­å¤´å›¾æ ‡ï¼š
        &lt;i <span class="hljs-keyword">class</span>=<span class="hljs-string">"arrow-icon el-icon-right"</span>&gt;&lt;/i&gt;
      &lt;/p&gt;
      &lt;!-- å¸¦å˜é‡çš„æ–‡æœ¬ï¼ˆæ•°å­—æ ¼å¼åŒ–ï¼‰ --&gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ $t('common.price', { amount: formatArabicNumber(99.99) }) }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>  
      
    formatArabicNumber (num) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">$i18n</span>.<span class="hljs-property">locale</span> !== <span class="hljs-string">'ar'</span>) <span class="hljs-keyword">return</span> num;
      <span class="hljs-comment">// é˜¿æ‹‰ä¼¯æ•°å­—æ˜ å°„è¡¨</span>
      <span class="hljs-keyword">const</span> digitMap = {
        <span class="hljs-string">'0'</span>: <span class="hljs-string">'Ù '</span>, <span class="hljs-string">'1'</span>: <span class="hljs-string">'Ù¡'</span>, <span class="hljs-string">'2'</span>: <span class="hljs-string">'Ù¢'</span>, <span class="hljs-string">'3'</span>: <span class="hljs-string">'Ù£'</span>, <span class="hljs-string">'4'</span>: <span class="hljs-string">'Ù¤'</span>,
        <span class="hljs-string">'5'</span>: <span class="hljs-string">'Ù¥'</span>, <span class="hljs-string">'6'</span>: <span class="hljs-string">'Ù¦'</span>, <span class="hljs-string">'7'</span>: <span class="hljs-string">'Ù§'</span>, <span class="hljs-string">'8'</span>: <span class="hljs-string">'Ù¨'</span>, <span class="hljs-string">'9'</span>: <span class="hljs-string">'Ù©'</span>, <span class="hljs-string">'.'</span>: <span class="hljs-string">'.'</span>
      };
      <span class="hljs-keyword">return</span> num.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> digitMap[d] || d).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
    }      
</code></pre>
<h4 data-id="heading-15">6. é•¿åº¦é€‚é…</h4>
<ol>
<li>æ‰€æœ‰å®¹å™¨ã€Œå¼¹æ€§å®½åº¦ + æœ€å° / æœ€å¤§å®½åº¦ã€æ›¿ä»£å›ºå®šå°ºå¯¸ï¼›</li>
<li>æ–‡æœ¬ã€Œå•è¡Œçœç•¥ / å¤šè¡Œæˆªæ–­ã€ä½œä¸ºå…œåº•ï¼›</li>
<li>é’ˆå¯¹ä¸åŒè¯­è¨€åŠ¨æ€è°ƒæ•´å­—ä½“å¤§å° / å†…è¾¹è·ï¼›</li>
<li>å…³é”®ç»„ä»¶é€šè¿‡ JS è®¡ç®—æ–‡æœ¬å®½åº¦ï¼Œç²¾å‡†é€‚é…ï¼›</li>
<li>æµ‹è¯•è¦†ç›–æœ€é•¿ / æœ€çŸ­è¯­è¨€ + å°å±åœºæ™¯ã€‚</li>
</ol>
<h3 data-id="heading-16">äº”ã€æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>
<p><strong>è¯­è¨€æ ‡è¯†è§„èŒƒ</strong>ï¼šå»ºè®®ä½¿ç”¨Â <code>zh-CN</code>ã€<code>en-US</code>Â ç­‰ BCP 47 è§„èŒƒæ ‡è¯†ï¼Œé¿å…è‡ªå®šä¹‰ï¼ˆå¦‚Â <code>zh</code>ã€<code>en</code>ï¼‰å¯¼è‡´æµè§ˆå™¨è¯­è¨€åŒ¹é…é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>é¿å…ç¡¬ç¼–ç </strong>ï¼šæ‰€æœ‰å±•ç¤ºæ–‡æœ¬å¿…é¡»æŠ½ç¦»åˆ°è¯­è¨€åŒ…ï¼Œç¦æ­¢åœ¨æ¨¡æ¿ / è„šæœ¬ä¸­ç›´æ¥å†™æ­»ï¼ˆå¦‚Â <code>alert('æäº¤æˆåŠŸ')</code>Â éœ€æ”¹ä¸ºÂ <code>alert(this.$t('common.success'))</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ä¸‰æ–¹ç»„ä»¶é€‚é…</strong>ï¼šå¦‚æœä½¿ç”¨ Element UI ç­‰ç»„ä»¶åº“ï¼Œéœ€å•ç‹¬é…ç½®å…¶å¤šè¯­è¨€ï¼ˆElement UI æœ‰å†…ç½®è¯­è¨€åŒ…ï¼Œå¯ç»“åˆÂ <code>vue-i18n</code>Â æ•´åˆï¼‰ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementUI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'element-ui/lib/theme-chalk/index.css'</span>
<span class="hljs-keyword">import</span> enLocale <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui/lib/locale/lang/en'</span>
<span class="hljs-keyword">import</span> zhLocale <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui/lib/locale/lang/zh-CN'</span>
<span class="hljs-keyword">import</span> i18n <span class="hljs-keyword">from</span> <span class="hljs-string">'./lang'</span>

<span class="hljs-comment">// æ•´åˆ Element UI è¯­è¨€åŒ…</span>
<span class="hljs-title class_">ElementUI</span>.<span class="hljs-title function_">i18n</span>(<span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span> i18n.<span class="hljs-title function_">t</span>(key, value))
<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementUI</span>, {
  <span class="hljs-attr">locale</span>: i18n.<span class="hljs-property">locale</span> === <span class="hljs-string">'en-US'</span> ? enLocale : zhLocale
})
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3åŠ¨æ€æ ·å¼æ§åˆ¶ï¼šrefã€reactiveã€watchä¸computedçš„åº”ç”¨åœºæ™¯ä¸åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7585130590291722255</link>    <guid>https://juejin.cn/post/7585130590291722255</guid>    <pubDate>2025-12-19T05:11:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585130590291722255" data-draft-id="7585222924564856872" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3åŠ¨æ€æ ·å¼æ§åˆ¶ï¼šrefã€reactiveã€watchä¸computedçš„åº”ç”¨åœºæ™¯ä¸åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ    "/> <meta itemprop="keywords" content="åç«¯,Trae,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-19T05:11:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kknone"/> <meta itemprop="url" content="https://juejin.cn/user/1366025597879930"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3åŠ¨æ€æ ·å¼æ§åˆ¶ï¼šrefã€reactiveã€watchä¸computedçš„åº”ç”¨åœºæ™¯ä¸åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ    
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1366025597879930/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kknone
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:11:48.000Z" title="Fri Dec 19 2025 05:11:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€å“åº”å¼æ•°æ®ï¼šåŠ¨æ€æ ·å¼çš„â€œå¼€å…³â€</h3>
<p>åœ¨Vue3ä¸­ï¼Œ<strong>å“åº”å¼æ•°æ®</strong>æ˜¯åŠ¨æ€æ ·å¼çš„æ ¸å¿ƒé©±åŠ¨åŠ›â€”â€”å½“æ•°æ®å˜åŒ–æ—¶ï¼ŒVueä¼šè‡ªåŠ¨è¿½è¸ªå¹¶æ›´æ–°å…³è”çš„æ ·å¼ã€‚æˆ‘ä»¬å¸¸ç”¨<code>ref</code>ï¼ˆç”¨äºåŸºæœ¬ç±»å‹ï¼‰å’Œ<code>reactive</code>ï¼ˆç”¨äºå¯¹è±¡/æ•°ç»„ï¼‰æ¥å®šä¹‰å“åº”å¼æ•°æ®ï¼Œå†é€šè¿‡<code>v-bind:style</code>æˆ–<code>v-bind:class</code>ç»‘å®šåˆ°æ¨¡æ¿ã€‚</p>
<h4 data-id="heading-1">1.1 ç”¨<code>ref</code>ç»‘å®šç®€å•æ ·å¼</h4>
<p><code>ref</code>é€‚åˆç®¡ç†<strong>å•ä¸€æˆ–å°‘é‡æ ·å¼å±æ€§</strong>ï¼ˆå¦‚é¢œè‰²ã€å­—ä½“å¤§å°ï¼‰ã€‚æ¯”å¦‚ä¸€ä¸ªå¯åˆ‡æ¢ä¸»é¢˜çš„æŒ‰é’®ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- ç”¨:styleç»‘å®šrefå˜é‡ --&gt;
  &lt;button 
    class="dynamic-btn"
    :style="{ 
      backgroundColor: btnColor, 
      fontSize: `${fontSize}px` 
    }"
    @click="toggleStyle"
  &gt;
    ç‚¹å‡»åˆ‡æ¢æ ·å¼
  &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

// ç”¨refå®šä¹‰å“åº”å¼æ ·å¼æ•°æ®
const btnColor = ref('#42b983') // åˆå§‹ç»¿è‰²
const fontSize = ref(16)        // åˆå§‹å­—ä½“å¤§å°16px

// ç‚¹å‡»äº‹ä»¶ï¼šä¿®æ”¹å“åº”å¼æ•°æ®
const toggleStyle = () =&gt; {
  btnColor.value = btnColor.value === '#42b983' ? '#2196f3' : '#42b983'
  fontSize.value += 2 // æ¯æ¬¡ç‚¹å‡»å­—ä½“å¢å¤§2px
}
&lt;/script&gt;

&lt;style scoped&gt;
.dynamic-btn {
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease; /* è¿‡æ¸¡åŠ¨ç”»ï¼Œè®©å˜åŒ–æ›´å¹³æ»‘ */
}
&lt;/style&gt;
</code></pre>
<p><strong>å…³é”®è§£é‡Š</strong>ï¼š</p>
<ul>
<li><code>btnColor.value</code>å’Œ<code>fontSize.value</code>æ˜¯å“åº”å¼çš„ï¼Œä¿®æ”¹å®ƒä»¬ä¼šè§¦å‘Vueçš„é‡æ–°æ¸²æŸ“ã€‚</li>
<li><code>:style</code>ç»‘å®šçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯CSSå±æ€§ï¼ˆé©¼å³°å¼æˆ–çŸ­æ¨ªçº¿å¼éƒ½å¯ä»¥ï¼ŒVueä¼šè‡ªåŠ¨è½¬æ¢ï¼‰ï¼Œå€¼æ˜¯å“åº”å¼å˜é‡ã€‚</li>
</ul>
<h4 data-id="heading-2">1.2 ç”¨<code>reactive</code>ç®¡ç†å¤æ‚æ ·å¼å¯¹è±¡</h4>
<p>å½“æ ·å¼å±æ€§è¾ƒå¤šæ—¶ï¼Œ<code>reactive</code>æ›´é€‚åˆâ€”â€”å®ƒèƒ½å°†å¤šä¸ªæ ·å¼å±æ€§å°è£…æˆä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¾¿äºç»´æŠ¤ã€‚æ¯”å¦‚ä¸€ä¸ªå¯åˆ‡æ¢é£æ ¼çš„å¡ç‰‡ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="card" :style="cardStyle"&gt;
    &lt;h3&gt;å“åº”å¼å¡ç‰‡&lt;/h3&gt;
    &lt;p&gt;è¿™æ˜¯ä¸€å¼ ç”¨reactiveç®¡ç†æ ·å¼çš„å¡ç‰‡&lt;/p&gt;
  &lt;/div&gt;
  &lt;button @click="toggleCardStyle"&gt;åˆ‡æ¢å¡ç‰‡é£æ ¼&lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { reactive } from 'vue'

// ç”¨reactiveå®šä¹‰å¤æ‚æ ·å¼å¯¹è±¡
const cardStyle = reactive({
  backgroundColor: '#fff',
  borderRadius: '8px',
  padding: '20px',
  boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
  transition: 'all 0.3s ease'
})

// åˆ‡æ¢å¡ç‰‡æ ·å¼ï¼šä¿®æ”¹reactiveå¯¹è±¡çš„å±æ€§
const toggleCardStyle = () =&gt; {
  cardStyle.backgroundColor = cardStyle.backgroundColor === '#fff' ? '#f5f5f5' : '#fff'
  cardStyle.boxShadow = cardStyle.boxShadow === '0 2px 4px rgba(0,0,0,0.1)' ? '0 4px 8px rgba(0,0,0,0.2)' : '0 2px 4px rgba(0,0,0,0.1)'
}
&lt;/script&gt;
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ ·å¼å±æ€§é›†ä¸­ç®¡ç†ï¼Œé¿å…<code>ref</code>å˜é‡æ³›æ»¥ï¼›</li>
<li>ä¿®æ”¹<code>reactive</code>å¯¹è±¡çš„å±æ€§æ—¶ï¼ŒVueä¼šè‡ªåŠ¨è¿½è¸ªå˜åŒ–ï¼ˆæ·±å±‚å“åº”å¼ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-3">äºŒã€<code>watch</code>ï¼šç›‘å¬å˜åŒ–çš„â€œæ ·å¼æ§åˆ¶å™¨â€</h3>
<p><code>watch</code>èƒ½ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œ<strong>æ ¹æ®æ•°æ®å˜åŒ–åŠ¨æ€è°ƒæ•´æ ·å¼</strong>ã€‚å¸¸è§åœºæ™¯å¦‚ï¼šç›‘å¬æ»šåŠ¨ä½ç½®ã€ç”¨æˆ·è¾“å…¥ã€çª—å£å¤§å°ç­‰ã€‚</p>
<h4 data-id="heading-4">2.1 æ¡ˆä¾‹ï¼šç›‘å¬æ»šåŠ¨ï¼Œå®ç°å¯¼èˆªæ å›ºå®š</h4>
<p>å¾ˆå¤šç½‘é¡µçš„å¯¼èˆªæ ä¼šåœ¨æ»šåŠ¨è¶…è¿‡ä¸€å®šè·ç¦»åâ€œå›ºå®šâ€åœ¨é¡¶éƒ¨ï¼Œè¿™ä¸ªæ•ˆæœå¯ä»¥ç”¨<code>watch</code>ç»“åˆæ»šåŠ¨äº‹ä»¶å®ç°ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;nav :style="navStyle"&gt;
    &lt;a href="#home"&gt;é¦–é¡µ&lt;/a&gt;
    &lt;a href="#about"&gt;å…³äºæˆ‘ä»¬&lt;/a&gt;
    &lt;a href="#contact"&gt;è”ç³»æˆ‘ä»¬&lt;/a&gt;
  &lt;/nav&gt;
  &lt;!-- æ¨¡æ‹Ÿé•¿å†…å®¹ --&gt;
  &lt;div class="content" :style="{ height: '2000px' }"&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, watch, onMounted, onUnmounted, reactive } from 'vue'

// 1. å®šä¹‰å“åº”å¼æ•°æ®ï¼šè®°å½•æ»šåŠ¨è·ç¦»
const scrollTop = ref(0)

// 2. å®šä¹‰å¯¼èˆªæ æ ·å¼
const navStyle = reactive({
  position: 'relative',
  top: 0,
  width: '100%',
  padding: '16px 0',
  backgroundColor: '#fff',
  boxShadow: 'none',
  transition: 'all 0.3s ease',
  zIndex: 999
})

// 3. ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼šæ›´æ–°scrollTop
const handleScroll = () =&gt; {
  scrollTop.value = window.scrollY
}

// 4. ç”Ÿå‘½å‘¨æœŸé’©å­ï¼šæŒ‚è½½æ—¶æ·»åŠ äº‹ä»¶ç›‘å¬ï¼Œå¸è½½æ—¶ç§»é™¤
onMounted(() =&gt; window.addEventListener('scroll', handleScroll))
onUnmounted(() =&gt; window.removeEventListener('scroll', handleScroll))

// 5. watchç›‘å¬scrollTopï¼šè°ƒæ•´å¯¼èˆªæ æ ·å¼
watch(scrollTop, (newVal) =&gt; {
  if (newVal &gt; 100) { // æ»šåŠ¨è¶…è¿‡100pxæ—¶å›ºå®š
    navStyle.position = 'fixed'
    navStyle.boxShadow = '0 2px 8px rgba(0,0,0,0.15)'
    navStyle.backgroundColor = '#f8f8f8'
  } else { // æ¢å¤é»˜è®¤æ ·å¼
    navStyle.position = 'relative'
    navStyle.boxShadow = 'none'
    navStyle.backgroundColor = '#fff'
  }
})
&lt;/script&gt;

&lt;style scoped&gt;
nav a { margin: 0 16px; text-decoration: none; color: #333; }
.content { margin-top: 20px; background-color: #f0f0f0; }
&lt;/style&gt;
</code></pre>
<details>
<summary>å¾€æœŸæ–‡ç« å½’æ¡£</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1bab953e41f66ac53de099fa9fe76483%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1bab953e41f66ac53de099fa9fe76483/" ref="nofollow noopener noreferrer">Vue3ä¸­åŠ¨æ€æ ·å¼æ•°ç»„çš„åé¡¹è¦†ç›–è§„åˆ™å¦‚ä½•ä¸è®¡ç®—å±æ€§ç»“åˆå®ç°å¤æ‚çŠ¶æ€æ ·å¼ç®¡ç†ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa0af08dd60a37b9a890a9957f2cbfc9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a0af08dd60a37b9a890a9957f2cbfc9f/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿä¸­ï¼Œå¯¹è±¡æ–°å¢å±æ€§ã€æ•°ç»„æ”¹ç´¢å¼•ã€åŸå§‹å€¼ä»£ç†çš„é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbc287e1e36287afd90750fd907eca85e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bc287e1e36287afd90750fd907eca85e/" ref="nofollow noopener noreferrer">Vue 3ä¸­watchä¾¦å¬å™¨çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ä½ æŒæ¡äº†å—ï¼Ÿæ·±åº¦ç›‘å¬ã€ä¸watchEffectçš„å·®å¼‚åŠå¸¸è§æŠ¥é”™è§£æ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc405a8d9950af5b7c63b56c348ac36b6%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c405a8d9950af5b7c63b56c348ac36b6/" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆVue 3éœ€è¦refå‡½æ•°ï¼Ÿå®ƒçš„å“åº”å¼åŸç†ä¸æ­£ç¡®ç”¨æ³•æ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa7e9abb9691a81e4404d9facabe0f7c3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a7e9abb9691a81e4404d9facabe0f7c3/" ref="nofollow noopener noreferrer">Vue 3ä¸­reactiveå‡½æ•°å¦‚ä½•é€šè¿‡Proxyå®ç°å“åº”å¼ï¼Ÿä½¿ç”¨æ—¶è¦é¿å¼€å“ªäº›è¯¯åŒºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbd995ea45161727597fb85b62566c43d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bd995ea45161727597fb85b62566c43d/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿçš„åº•å±‚åŸç†ä¸å®è·µè¦ç‚¹ä½ çœŸçš„æ‡‚å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F53e3f270a80675df662c6857a3332c0f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/53e3f270a80675df662c6857a3332c0f/" ref="nofollow noopener noreferrer">Vue 3æ¨¡æ¿å¦‚ä½•é€šè¿‡ç¼–è¯‘ä¸‰é˜¶æ®µå®ç°ä»å£°æ˜å¼è¯­æ³•åˆ°é«˜æ•ˆæ¸²æŸ“çš„è·¨è¶Š - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fddbce4f2a23aa72c96b1c0473900321e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ddbce4f2a23aa72c96b1c0473900321e/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿å¼•ç”¨ï¼šä»æ”¶DOMâ€œå¿«é€’â€åˆ°è°ƒå­ç»„ä»¶æ–¹æ³•ï¼Œä½ ç©æ˜ç™½äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F23a2d5a334e15575277814c16e45df50%2F" target="_blank" title="https://blog.cmdragon.cn/posts/23a2d5a334e15575277814c16e45df50/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿é‡Œçš„JSè¡¨è¾¾å¼æœ‰å•¥ä¸èƒ½ç¢°ï¼Ÿè®¡ç®—å±æ€§ä¸ºå•¥æ¯”æ–¹æ³•æ›´èƒ½æ‰“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6be38de6382e31d282659b689c5b17f0%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6be38de6382e31d282659b689c5b17f0/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueçš„v-modelè¡¨å•ç»‘å®šï¼šè¯­æ³•ç³–ã€åŠ¨æ€å€¼ã€ä¿®é¥°ç¬¦çš„å°æŠ€å·§ä½ éƒ½æŒæ¡äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F60ce517684f4a418f453d66aa805606c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/60ce517684f4a418f453d66aa805606c/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3äº‹ä»¶å¤„ç†çš„æŒ‘æˆ˜é¢˜ï¼šv-onã€ä¿®é¥°ç¬¦ã€è‡ªå®šä¹‰äº‹ä»¶ä½ èƒ½é€šå…³å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe4ae7d5e4a9205bb11b2baccb230c637%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e4ae7d5e4a9205bb11b2baccb230c637/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3çš„v-æŒ‡ä»¤ï¼šæ•°æ®å’ŒDOMçš„â€œç¿»è¯‘å®˜â€åˆ°åº•æœ‰å¤šå°‘æœ¬äº‹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F999ce4fb32259ff4fbf4bf7bcb851654%2F" target="_blank" title="https://blog.cmdragon.cn/posts/999ce4fb32259ff4fbf4bf7bcb851654/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3ï¼Œæ’å€¼ã€åŠ¨æ€ç»‘å®šå’Œé¿å‘æŠ€å·§ä½ éƒ½ææ‡‚äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa6997d81b49cd232b87e1cf603888ad1%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a6997d81b49cd232b87e1cf603888ad1/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLå¿«åˆ°é£èµ·ï¼Ÿå…ˆæ‰¾å¥åº·å¯†ç è¿˜æ˜¯å…ˆæ¢å¼•æ“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1fee7afbb9abd4540b8aa9c141d6845d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1fee7afbb9abd4540b8aa9c141d6845d/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLæŸ¥è¯¢å¿«åˆ°é£èµ·ï¼Ÿåˆ†åŒºè¡¨ã€ç‰©åŒ–è§†å›¾ã€å¹¶è¡ŒæŸ¥è¯¢è¿™ä¸‰æ‹›çµä¸çµï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F79c590fbd87ece535b11a71c9667884f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/79c590fbd87ece535b11a71c9667884f/" ref="nofollow noopener noreferrer">å­æŸ¥è¯¢æ€»æ‹–æ…¢æŸ¥è¯¢ï¼ŸæŠŠå®ƒå˜æˆè¿æ¥å°±èƒ½è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F748cdac2536008199abf8a8a2cd0ec85%2F" target="_blank" title="https://blog.cmdragon.cn/posts/748cdac2536008199abf8a8a2cd0ec85/" ref="nofollow noopener noreferrer">PostgreSQLå…¨è¡¨æ‰«ææ…¢åˆ°å´©æºƒï¼Ÿå»ºç´¢å¼•+æ”¹æŸ¥è¯¢+æ›´ç»Ÿè®¡ä¿¡æ¯ä¸‰æ‹›èƒ½ç ´ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F32ca943703226d317d4276a8fb53b0dd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/32ca943703226d317d4276a8fb53b0dd/" ref="nofollow noopener noreferrer">å¤æ‚æŸ¥è¯¢æ€»æ‹–åè…¿ï¼ŸPostgreSQLå¤šåˆ—ç´¢å¼•+è¦†ç›–ç´¢å¼•çš„ç¥ä»™æŠ€å·§ä½ getæ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fca93f1d53aa910e7ba5ffd8df611c12b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ca93f1d53aa910e7ba5ffd8df611c12b/" ref="nofollow noopener noreferrer">åªç»™è¡¨å­é›†å»ºç´¢å¼•ï¼Ÿç”¨å‡½æ•°ç»“æœå»ºç´¢å¼•ï¼ŸPostgreSQLè¿™ä¿©æ“ä½œå‡­å•¥èƒ½çœç©ºé—´åˆåŠ é€Ÿï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Ff507856ebfddd592448813c510a53669%2F" target="_blank" title="https://blog.cmdragon.cn/posts/f507856ebfddd592448813c510a53669/" ref="nofollow noopener noreferrer">B-treeç´¢å¼•åƒå­—å…¸æŸ¥è¯ä¸€æ ·å·¥ä½œï¼Ÿé‚£å“ªäº›æ•°æ®åº“æŸ¥è¯¢å®ƒèƒ½åŠ é€Ÿï¼Œå“ªäº›ä¸èƒ½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb2213bfcb5b88a862f2138404c03d596%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b2213bfcb5b88a862f2138404c03d596/" ref="nofollow noopener noreferrer">æƒ³æŠ“PostgreSQLé‡Œçš„æ…¢SQLï¼Ÿpg_stat_statementsåŸºç¡€é»‘åŒ£å­å’Œpg_stat_monitoræ—¶é—´çª—ï¼Œè°èƒ½å¸®ä½ æ›´å‡†æªå‡ºæ€§èƒ½å°å·ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F26614eb7da6c476dde41d367ad888d2f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/26614eb7da6c476dde41d367ad888d2f/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œæ—¶å…‰æœºâ€MVCCå’Œé”æœºåˆ¶æ˜¯æ€ä¹ˆæå®šé«˜å¹¶å‘çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F69f99bc6972a860d559c74aad7280da4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/69f99bc6972a860d559c74aad7280da4/" ref="nofollow noopener noreferrer">PostgreSQLæ€§èƒ½æš´æ¶¨çš„å…³é”®ï¼Ÿå†…å­˜IOå¹¶å‘å‚æ•°å±…ç„¶è¦è¿™ä¹ˆè®¾ç½®ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F7b7053f392147a8b3b1a16bebeb08d0a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/7b7053f392147a8b3b1a16bebeb08d0a/" ref="nofollow noopener noreferrer">å¤§è¡¨æŸ¥è¯¢æ…¢åˆ°ç¿»éæ•´ä¸ªä¹¦æ¶ï¼ŸPostgreSQLåˆ†åŒºè¡¨æ•™ä½ æ€ä¹ˆâ€œåˆ†ç±»â€æ‰é«˜æ•ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc856e3cb073822349f3bf2d29995dcfc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c856e3cb073822349f3bf2d29995dcfc/" ref="nofollow noopener noreferrer">PostgreSQL æŸ¥è¯¢æ…¢ï¼Ÿæ˜¯ä¸æ˜¯å¿˜äº†ä¼˜åŒ– GROUP BYã€ORDER BY å’Œçª—å£å‡½æ•°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc096347d18e67b7431faacd2c4757093%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c096347d18e67b7431faacd2c4757093/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„å­æŸ¥è¯¢å’ŒCTEå±…ç„¶åœ¨æ€§èƒ½ä¸Šâ€œææ¶â€ï¼Ÿåˆ°åº•è¯¥ç«™å“ªè¾¹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F2eca89463454fd4250d7b66243b9fe5a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/2eca89463454fd4250d7b66243b9fe5a/" ref="nofollow noopener noreferrer">PostgreSQLé€‰Joinç­–ç•¥æœ‰å•¥å°ä¹ä¹ï¼ŸNested Loop/Merge/Hashè°æ˜¯å®ƒçš„èœï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F068ecb772a87d7df20a8c9fb4b233f8e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/068ecb772a87d7df20a8c9fb4b233f8e/" ref="nofollow noopener noreferrer">PostgreSQLæ–°æ‰‹SQLæ€»ç¿»è½¦ï¼Ÿè¿™7ä¸ªæ€§èƒ½é™·é˜±ä½ è¸©è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd498f63cd0a2d5a77e445c688a8b88db%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d498f63cd0a2d5a77e445c688a8b88db/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•é€‰B-Treeè¿˜æ˜¯GiSTï¼Ÿâ€œç‘å£«å†›åˆ€â€å’Œâ€œå¤šé¢æ‰‹â€çš„å·®åˆ«ä½ å±…ç„¶è¿˜ä¸çŸ¥é“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F9101b75bdec6faea9b35d54f14e37f36%2F" target="_blank" title="https://blog.cmdragon.cn/posts/9101b75bdec6faea9b35d54f14e37f36/" ref="nofollow noopener noreferrer">æƒ³çŸ¥é“æ•°æ®åº“æ€ä¹ˆç»™æŸ¥è¯¢â€œç®—æˆæœ¬é€‰è·¯çº¿â€ï¼ŸEXPLAINèƒ½å¸®ä½ çœ‹æ˜ç™½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd527f8ebb6e3dae2c7dfe4c8d8979444%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d527f8ebb6e3dae2c7dfe4c8d8979444/" ref="nofollow noopener noreferrer">PostgreSQLå¤„ç†SQLå±…ç„¶åƒåšè›‹ç³•ï¼Ÿè§£æåˆ°æ‰§è¡Œçš„4æ­¥é‡Œè—ç€å¤šå°‘æŸ¥è¯¢ä¼˜åŒ–çš„å°å¿ƒæœºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6bfdae84f313cf7ad0bb7045c4392347%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6bfdae84f313cf7ad0bb7045c4392347/" ref="nofollow noopener noreferrer">PostgreSQLå¤‡ä»½ä¸æ˜¯å¤åˆ¶æ–‡ä»¶ï¼Ÿç‰©ç†vsé€»è¾‘å’‹é€‰ï¼Ÿè¯¯åˆ è¿˜èƒ½ç²¾å‡†æ¢å¤åˆ°1åˆ†é’Ÿå‰ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fde3672803de34dbad244d0a8d48b0eb5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/de3672803de34dbad244d0a8d48b0eb5/" ref="nofollow noopener noreferrer">è½¬è´¦ä¸ç¿»è½¦ã€å¹¶å‘ä¸å¹²æ‰°ï¼ŒPostgreSQLçš„ACIDç‰¹æ€§åˆ°åº•æœ‰å•¥é­”æ³•ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe463e8a2668abdf00a228c9b79324ded%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e463e8a2668abdf00a228c9b79324ded/" ref="nofollow noopener noreferrer">é“¶è¡Œè½¬è´¦ä¸ç™½æ‰£é’±ã€ç”µå•†ä¸‹å•ä¸è¶…å–ï¼ŒPostgreSQLäº‹åŠ¡çš„è¯€çªæ˜¯å•¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F5c967e595058c4a1fc4474a68e64031d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/5c967e595058c4a1fc4474a68e64031d/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„PL/pgSQLåˆ°åº•æ˜¯å•¥ï¼Ÿèƒ½è®©SQLä»â€œè¯´ç›®æ ‡â€å˜â€œè®²æ­¥éª¤â€ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F325047855e3e23b5ef82f7d2db134fbd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/325047855e3e23b5ef82f7d2db134fbd/" ref="nofollow noopener noreferrer">PostgreSQLè§†å›¾ä¸å­˜æ•°æ®ï¼Ÿé‚£å®ƒæ€ä¹ˆç®€åŒ–æŸ¥è¯¢è¿˜èƒ½é€’å½’ç”Ÿæˆåºåˆ—å’Œæ§åˆ¶æƒé™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd2dba50bb6e4df7b27e735245a06a2a2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d2dba50bb6e4df7b27e735245a06a2a2/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•è¿™ä¹ˆç©ï¼Œæ‰èƒ½è®©ä½ çš„æŸ¥è¯¢çœŸçš„â€œé£â€èµ·æ¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F849ae5bab0f8c66e94c2f6ad1bb798e3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/849ae5bab0f8c66e94c2f6ad1bb798e3/" ref="nofollow noopener noreferrer">PostgreSQLçš„è¡¨å…³ç³»å’Œçº¦æŸï¼Œå’‹å¸®ä½ æå®šç”¨æˆ·è®¢å•ä¸æ··ä¹±ã€å­¦ç”Ÿé€‰è¯¾ä¸é‡å¤ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fef4800975ffa84f1ca51976a70a1585b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ef4800975ffa84f1ca51976a70a1585b/" ref="nofollow noopener noreferrer">PostgreSQLæŸ¥è¯¢çš„ç­›å­ã€æ’åºã€èšåˆã€åˆ†ç»„ï¼Ÿä½ ä¼šç”¨å®ƒä»¬æå®šæ•°æ®å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbf54711525c507c5eacfa7b0151c39d2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bf54711525c507c5eacfa7b0151c39d2/" ref="nofollow noopener noreferrer">PostgreSQLæ•°æ®ç±»å‹æ€ä¹ˆé€‰æ‰é«˜æ•ˆä¸è¸©å‘ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F887809b3e0375f5956873cd442f516d8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/887809b3e0375f5956873cd442f516d8/" ref="nofollow noopener noreferrer">æƒ³è§£é”PostgreSQLæŸ¥è¯¢ä»åŸºç¡€åˆ°è¿›é˜¶çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Ÿä½ éƒ½getäº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F934be1203725e8be9d6f6e9104e5abcc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/934be1203725e8be9d6f6e9104e5abcc/" ref="nofollow noopener noreferrer">PostgreSQL DELETEå±…ç„¶æœ‰è¿™äº›æ“ä½œï¼Ÿè¿”å›æ•°æ®ã€è¿è¡¨åˆ ä½ è¯•è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0f0622e9b7402b599e618150d0596ffe%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0f0622e9b7402b599e618150d0596ffe/" ref="nofollow noopener noreferrer">PostgreSQL UPDATEè¯­å¥æ€ä¹ˆç©ï¼Ÿä»æ”¹é‚®ç®±åˆ°æ‰¹é‡æ›´æ–°çš„é¿å‘æŠ€å·§ä½ éƒ½ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0e3bf7efc030b024ea67ee855a00f2de%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0e3bf7efc030b024ea67ee855a00f2de/" ref="nofollow noopener noreferrer">PostgreSQLæ’å…¥æ•°æ®è¿˜åœ¨é€æ¡æ•²ï¼Ÿæ‰¹é‡ã€å†²çªå¤„ç†ã€è¿”å›è‡ªå¢IDçš„æŠ€å·§ä½ ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb6cd3c86da6aac26ed829e472d34078e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b6cd3c86da6aac26ed829e472d34078e/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œä»“åº“-æˆ¿é—´-è´§æ¶â€æ¸¸æˆï¼Œä½ èƒ½å»ºå‡ºç”µå•†æ•°æ®åº“å’Œè¡¨å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fba1f545a3410144552fbdbfcf31b5265%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ba1f545a3410144552fbdbfcf31b5265/" ref="nofollow noopener noreferrer">PostgreSQL 17å®‰è£…æ€»ç¿»è½¦ï¼ŸWindows/macOS/Linuxé¿å‘æŒ‡å—å¸®ä½ æå®šï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb5474d1480509c5072085abc80b3dd9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b5474d1480509c5072085abc80b3dd9f/" ref="nofollow noopener noreferrer">èƒ½å½“å…³ç³»å‹æ•°æ®åº“è¿˜èƒ½ç©å¯¹è±¡ç‰¹æ€§ï¼Œèƒ½æ‹†å¤æ‚æŸ¥è¯¢è¿˜èƒ½è‡ªåŠ¨ç®¡åº“å­˜ï¼ŒPostgreSQLå‡­ä»€ä¹ˆè¿™ä¹ˆé¦™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fcc098d8836e787baa8a4d92e4d56d5c5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/cc098d8836e787baa8a4d92e4d56d5c5/" ref="nofollow noopener noreferrer">ç»™æ¥å£åŠ æ–°å­—æ®µåˆä¸æå´©è€å®¢æˆ·ç«¯ï¼ŸFastAPIçš„å¤šç‰ˆæœ¬APIé å“ªä¸‰æ‹›å®ç°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F46d05151c5bd31cf37a7bcf0b8f5b0b8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/46d05151c5bd31cf37a7bcf0b8f5b0b8/" ref="nofollow noopener noreferrer">æµé‡çªå¢è¦æå´©FastAPIï¼Ÿç†”æ–­æµ‹è¯•æ˜¯æ€ä¹ˆé˜²ç³»ç»Ÿé›ªå´©çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F65ce343cc5df9faf3a8e2eeaab42ae45%2F" target="_blank" title="https://blog.cmdragon.cn/posts/65ce343cc5df9faf3a8e2eeaab42ae45/" ref="nofollow noopener noreferrer">FastAPIç§’æ€åº“å­˜æ€»å˜è´Ÿæ•°ï¼ŸRedisåˆ†å¸ƒå¼é”èƒ½å¸®ä½ å®ˆä½åº•çº¿å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Feed6cd8985d9be0a4b092a7da38b3e0c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/eed6cd8985d9be0a4b092a7da38b3e0c/" ref="nofollow noopener noreferrer">FastAPIçš„CIæµæ°´çº¿æ€ä¹ˆè‡ªåŠ¨æµ‹ç«¯ç‚¹ï¼Œè¿˜èƒ½è®©AllureæŠ¥å‘Šç¾åˆ°çŠ¯è§„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6157d87338ce894d18c013c3c4777abb%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6157d87338ce894d18c013c3c4777abb/" ref="nofollow noopener noreferrer">å¦‚ä½•ç”¨GitHub Actionsä¸ºFastAPIé¡¹ç›®æ‰“é€ è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Ffc4ef84559e04693a620d0714cb30787%2F" target="_blank" title="https://blog.cmdragon.cn/posts/fc4ef84559e04693a620d0714cb30787/" ref="nofollow noopener noreferrer">å¦‚ä½•ç”¨Git Hookå’ŒCIæµæ°´çº¿ä¸ºFastAPIé¡¹ç›®ä¿é©¾æŠ¤èˆªï¼Ÿ - cmdragon's Blog</a></li>
</ul>
</details>
<details>
<summary>å…è´¹å¥½ç”¨çš„çƒ­é—¨åœ¨çº¿å·¥å…·</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fraid-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/raid-calculator" ref="nofollow noopener noreferrer">RAID è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fphotoshop-online" target="_blank" title="https://tools.cmdragon.cn/zh/apps/photoshop-online" ref="nofollow noopener noreferrer">åœ¨çº¿PS - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmermaid-live-editor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/mermaid-live-editor" ref="nofollow noopener noreferrer">Mermaid åœ¨çº¿ç¼–è¾‘å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmath-solver-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/math-solver-calculator" ref="nofollow noopener noreferrer">æ•°å­¦æ±‚è§£è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsmart-teleprompter" target="_blank" title="https://tools.cmdragon.cn/zh/apps/smart-teleprompter" ref="nofollow noopener noreferrer">æ™ºèƒ½æè¯å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmagic-resume" target="_blank" title="https://tools.cmdragon.cn/zh/apps/magic-resume" ref="nofollow noopener noreferrer">é­”æ³•ç®€å† - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-puzzle-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-puzzle-tool" ref="nofollow noopener noreferrer">Image Puzzle Tool - å›¾ç‰‡æ‹¼å›¾å·¥å…· | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsubtitle-downloader" target="_blank" title="https://tools.cmdragon.cn/zh/apps/subtitle-downloader" ref="nofollow noopener noreferrer">å­—å¹•ä¸‹è½½å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flyrics-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lyrics-generator" ref="nofollow noopener noreferrer">æ­Œè¯ç”Ÿæˆå·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcloud-drive-search" target="_blank" title="https://tools.cmdragon.cn/zh/apps/cloud-drive-search" ref="nofollow noopener noreferrer">ç½‘ç›˜èµ„æºèšåˆæœç´¢ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fascii-art-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ascii-art-generator" ref="nofollow noopener noreferrer">ASCIIå­—ç¬¦ç”»ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fjwt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/jwt-tool" ref="nofollow noopener noreferrer">JSON Web Tokens å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbcrypt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/bcrypt-tool" ref="nofollow noopener noreferrer">Bcrypt å¯†ç å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-composer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-composer" ref="nofollow noopener noreferrer">GIF åˆæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-decomposer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-decomposer" ref="nofollow noopener noreferrer">GIF åˆ†è§£å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-steganography" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-steganography" ref="nofollow noopener noreferrer">æ–‡æœ¬éšå†™æœ¯ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh" target="_blank" title="https://tools.cmdragon.cn/zh" ref="nofollow noopener noreferrer">CMDragon åœ¨çº¿å·¥å…· - é«˜çº§AIå·¥å…·ç®±ä¸å¼€å‘è€…å¥—ä»¶ | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%3Fcategory%3Dtrending" target="_blank" title="https://tools.cmdragon.cn/zh/apps?category=trending" ref="nofollow noopener noreferrer">åº”ç”¨å•†åº— - å‘ç°1000+æå‡æ•ˆç‡ä¸å¼€å‘çš„AIå·¥å…·å’Œå®ç”¨ç¨‹åº | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fchangelog" target="_blank" title="https://tools.cmdragon.cn/zh/changelog" ref="nofollow noopener noreferrer">CMDragon æ›´æ–°æ—¥å¿— - æœ€æ–°æ›´æ–°ã€åŠŸèƒ½ä¸æ”¹è¿› | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fsponsor" target="_blank" title="https://tools.cmdragon.cn/zh/sponsor" ref="nofollow noopener noreferrer">æ”¯æŒæˆ‘ä»¬ - æˆä¸ºèµåŠ©è€… | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-image-ai" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-image-ai" ref="nofollow noopener noreferrer">AIæ–‡æœ¬ç”Ÿæˆå›¾åƒ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftemp-email" target="_blank" title="https://tools.cmdragon.cn/zh/apps/temp-email" ref="nofollow noopener noreferrer">ä¸´æ—¶é‚®ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fqrcode-parser" target="_blank" title="https://tools.cmdragon.cn/zh/apps/qrcode-parser" ref="nofollow noopener noreferrer">äºŒç»´ç è§£æå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-mindmap" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-mindmap" ref="nofollow noopener noreferrer">æ–‡æœ¬è½¬æ€ç»´å¯¼å›¾ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fregex-visualizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/regex-visualizer" ref="nofollow noopener noreferrer">æ­£åˆ™è¡¨è¾¾å¼å¯è§†åŒ–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsteganography-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/steganography-tool" ref="nofollow noopener noreferrer">æ–‡ä»¶éšå†™å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fiptv-explorer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/iptv-explorer" ref="nofollow noopener noreferrer">IPTV é¢‘é“æ¢ç´¢å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsnapdrop" target="_blank" title="https://tools.cmdragon.cn/zh/apps/snapdrop" ref="nofollow noopener noreferrer">å¿«ä¼  - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flucky-draw" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lucky-draw" ref="nofollow noopener noreferrer">éšæœºæŠ½å¥–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fanime-scene-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/anime-scene-finder" ref="nofollow noopener noreferrer">åŠ¨æ¼«åœºæ™¯æŸ¥æ‰¾å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftime-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/time-toolkit" ref="nofollow noopener noreferrer">æ—¶é—´å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fspeed-test" target="_blank" title="https://tools.cmdragon.cn/zh/apps/speed-test" ref="nofollow noopener noreferrer">ç½‘é€Ÿæµ‹è¯• - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-remover" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-remover" ref="nofollow noopener noreferrer">AI æ™ºèƒ½æŠ å›¾å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-replacer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-replacer" ref="nofollow noopener noreferrer">èƒŒæ™¯æ›¿æ¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fartistic-qrcode" target="_blank" title="https://tools.cmdragon.cn/zh/apps/artistic-qrcode" ref="nofollow noopener noreferrer">è‰ºæœ¯äºŒç»´ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fopen-graph-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/open-graph-generator" ref="nofollow noopener noreferrer">Open Graph å…ƒæ ‡ç­¾ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-comparison" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-comparison" ref="nofollow noopener noreferrer">å›¾åƒå¯¹æ¯”å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-compressor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-compressor" ref="nofollow noopener noreferrer">å›¾ç‰‡å‹ç¼©ä¸“ä¸šç‰ˆ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fpassword-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/password-generator" ref="nofollow noopener noreferrer">å¯†ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsvg-optimizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/svg-optimizer" ref="nofollow noopener noreferrer">SVGä¼˜åŒ–å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcolor-palette" target="_blank" title="https://tools.cmdragon.cn/zh/apps/color-palette" ref="nofollow noopener noreferrer">è°ƒè‰²æ¿ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fonline-metronome" target="_blank" title="https://tools.cmdragon.cn/zh/apps/online-metronome" ref="nofollow noopener noreferrer">åœ¨çº¿èŠ‚æ‹å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcss-grid-layout" target="_blank" title="https://tools.cmdragon.cn/zh/apps/css-grid-layout" ref="nofollow noopener noreferrer">CSSç½‘æ ¼å¸ƒå±€ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Femail-validator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/email-validator" ref="nofollow noopener noreferrer">é‚®ç®±éªŒè¯å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcalligraphy-practice" target="_blank" title="https://tools.cmdragon.cn/zh/apps/calligraphy-practice" ref="nofollow noopener noreferrer">ä¹¦æ³•ç»ƒä¹ å­—å¸– - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffinance-calculator-suite" target="_blank" title="https://tools.cmdragon.cn/zh/apps/finance-calculator-suite" ref="nofollow noopener noreferrer">é‡‘èè®¡ç®—å™¨å¥—ä»¶ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fchinese-kinship-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/chinese-kinship-calculator" ref="nofollow noopener noreferrer">ä¸­å›½äº²æˆšå…³ç³»è®¡ç®—å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fprotobuf-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/protobuf-toolkit" ref="nofollow noopener noreferrer">Protocol Buffer å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-upscaler" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-upscaler" ref="nofollow noopener noreferrer">å›¾ç‰‡æ— æŸæ”¾å¤§ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-compare" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-compare" ref="nofollow noopener noreferrer">æ–‡æœ¬æ¯”è¾ƒå·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-batch-lookup" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-batch-lookup" ref="nofollow noopener noreferrer">IPæ‰¹é‡æŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdomain-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/domain-finder" ref="nofollow noopener noreferrer">åŸŸåæŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdns-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/dns-toolkit" ref="nofollow noopener noreferrer">DNSå·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffavicon-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/favicon-generator" ref="nofollow noopener noreferrer">ç½‘ç«™å›¾æ ‡ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fsitemap_index.xml" target="_blank" title="https://tools.cmdragon.cn/sitemap_index.xml" ref="nofollow noopener noreferrer">XML Sitemap</a></li>
</ul>
</details>
<p><strong>å…³é”®é€»è¾‘</strong>ï¼š</p>
<ul>
<li><code>onMounted</code>ä¸­æ·»åŠ æ»šåŠ¨äº‹ä»¶ç›‘å¬ï¼Œ<code>onUnmounted</code>ä¸­ç§»é™¤ï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰ï¼›</li>
<li><code>watch</code>ç›‘å¬<code>scrollTop</code>çš„å˜åŒ–ï¼Œå½“è¶…è¿‡100pxæ—¶ä¿®æ”¹å¯¼èˆªæ çš„<code>position</code>ä¸º<code>fixed</code>ï¼Œå¹¶æ·»åŠ é˜´å½±ã€‚</li>
</ul>
<h4 data-id="heading-5">2.2 æ¡ˆä¾‹ï¼šç›‘å¬è¾“å…¥ï¼Œè°ƒæ•´è¾“å…¥æ¡†æ ·å¼</h4>
<p>å½“ç”¨æˆ·è¾“å…¥å†…å®¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¾“å…¥é•¿åº¦è°ƒæ•´è¾“å…¥æ¡†çš„è¾¹æ¡†é¢œè‰²ï¼ˆæ¯”å¦‚è¾“å…¥è¿‡çŸ­æç¤ºçº¢è‰²ï¼Œè¶³å¤Ÿé•¿æç¤ºç»¿è‰²ï¼‰ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;input 
    type="text" 
    v-model="inputValue"
    :style="inputStyle"
    placeholder="è¯·è¾“å…¥å†…å®¹ï¼ˆè‡³å°‘5å­—ï¼‰"
  &gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, watch, reactive } from 'vue'

const inputValue = ref('')
const inputStyle = reactive({
  padding: '8px',
  border: '1px solid #ddd',
  borderRadius: '4px',
  transition: 'border-color 0.3s ease'
})

// ç›‘å¬è¾“å…¥å†…å®¹é•¿åº¦
watch(inputValue, (newVal) =&gt; {
  if (newVal.length &lt; 5) {
    inputStyle.borderColor = '#ff4444' // çº¢è‰²ï¼šè¾“å…¥è¿‡çŸ­
  } else {
    inputStyle.borderColor = '#00C851' // ç»¿è‰²ï¼šè¾“å…¥è¶³å¤Ÿ
  }
})
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-6">ä¸‰ã€<code>computed</code>ï¼šè®¡ç®—å¼æ ·å¼çš„â€œé«˜æ•ˆç¼“å­˜æœºâ€</h3>
<p><code>computed</code>ç”¨äº<strong>æ ¹æ®å¤šä¸ªå“åº”å¼æ•°æ®è®¡ç®—æ ·å¼</strong>ï¼Œå®ƒä¼š<strong>ç¼“å­˜è®¡ç®—ç»“æœ</strong>â€”â€”åªæœ‰ä¾èµ–çš„æ•°æ®å˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œæ¯”<code>watch</code>æ›´é«˜æ•ˆã€‚</p>
<h4 data-id="heading-7">3.1 æ¡ˆä¾‹ï¼šè¿›åº¦æ¡çš„åŠ¨æ€æ ·å¼</h4>
<p>è¿›åº¦æ¡æ˜¯<code>computed</code>çš„ç»å…¸åœºæ™¯ï¼šæ ¹æ®è¿›åº¦å€¼è®¡ç®—å®½åº¦å’Œé¢œè‰²ï¼ˆæ¯”å¦‚è¿›åº¦ä½äº30%çº¢è‰²ï¼Œé«˜äº70%ç»¿è‰²ï¼‰ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="progress-container"&gt;
    &lt;div class="progress-bar" :style="progressStyle"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;!-- ç”¨æ»‘å—æ§åˆ¶è¿›åº¦ --&gt;
  &lt;input type="range" min="0" max="100" v-model="progress"&gt;
  &lt;p&gt;å½“å‰è¿›åº¦ï¼š{{ progress }}%&lt;/p&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, computed } from 'vue'

const progress = ref(50) // åˆå§‹è¿›åº¦50%

// ç”¨computedè®¡ç®—è¿›åº¦æ¡æ ·å¼
const progressStyle = computed(() =&gt; {
  // æ ¹æ®è¿›åº¦å€¼åˆ¤æ–­é¢œè‰²
  let barColor = ''
  if (progress.value &lt; 30) barColor = '#ff4444'
  else if (progress.value &lt; 70) barColor = '#ffbb33'
  else barColor = '#00C851'

  return {
    width: `${progress.value}%`, // è¿›åº¦æ¡å®½åº¦
    backgroundColor: barColor,
    transition: 'width 0.3s ease'
  }
})
&lt;/script&gt;

&lt;style scoped&gt;
.progress-container {
  width: 100%;
  height: 20px;
  background-color: #e0e0e0;
  border-radius: 10px;
  overflow: hidden;
}
.progress-bar { height: 100%; border-radius: 10px; }
&lt;/style&gt;
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><code>progressStyle</code>æ˜¯<code>computed</code>å±æ€§ï¼Œä¾èµ–<code>progress</code>â€”â€”åªæœ‰<code>progress</code>å˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ï¼›</li>
<li>ç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ï¼ˆæ¯”å¦‚<code>progress</code>ä¸å˜æ—¶ï¼Œå¤šæ¬¡è®¿é—®<code>progressStyle</code>ä¸ä¼šé‡æ–°æ‰§è¡Œå‡½æ•°ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8">3.2 æ¡ˆä¾‹ï¼šç»“åˆå¤šä¸ªæ•°æ®çš„å¤åˆæ ·å¼</h4>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªâ€œåŠ¨æ€æŒ‰é’®â€ï¼Œæ ·å¼ç”±<code>size</code>ï¼ˆå°/ä¸­/å¤§ï¼‰å’Œ<code>type</code>ï¼ˆ primary / secondary ï¼‰å…±åŒå†³å®šï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;button :style="buttonStyle"&gt;
    åŠ¨æ€æŒ‰é’®
  &lt;/button&gt;
  &lt;select v-model="size"&gt;
    &lt;option value="small"&gt;å°&lt;/option&gt;
    &lt;option value="medium"&gt;ä¸­&lt;/option&gt;
    &lt;option value="large"&gt;å¤§&lt;/option&gt;
  &lt;/select&gt;
  &lt;select v-model="type"&gt;
    &lt;option value="primary"&gt;primary&lt;/option&gt;
    &lt;option value="secondary"&gt;secondary&lt;/option&gt;
  &lt;/select&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, computed } from 'vue'

const size = ref('medium')
const type = ref('primary')

// æ ¹æ®sizeå’Œtypeè®¡ç®—æŒ‰é’®æ ·å¼
const buttonStyle = computed(() =&gt; {
  // å°ºå¯¸å¯¹åº”çš„ padding å’Œ font-size
  const sizeMap = {
    small: { padding: '4px 8px', fontSize: '12px' },
    medium: { padding: '8px 16px', fontSize: '14px' },
    large: { padding: '12px 24px', fontSize: '16px' }
  }
  // ç±»å‹å¯¹åº”çš„èƒŒæ™¯è‰²
  const typeMap = {
    primary: '#2196f3',
    secondary: '#9e9e9e'
  }

  return {
    ...sizeMap[size.value], // åˆå¹¶å°ºå¯¸æ ·å¼
    backgroundColor: typeMap[type.value],
    color: '#fff',
    border: 'none',
    borderRadius: '4px',
    cursor: 'pointer',
    transition: 'all 0.3s ease'
  }
})
&lt;/script&gt;
</code></pre>
<p><strong>è§£é‡Š</strong>ï¼š</p>
<ul>
<li><code>buttonStyle</code>ä¾èµ–<code>size</code>å’Œ<code>type</code>ä¸¤ä¸ªå“åº”å¼æ•°æ®ï¼›</li>
<li>å½“<code>size</code>æˆ–<code>type</code>å˜åŒ–æ—¶ï¼Œ<code>computed</code>ä¼šé‡æ–°è®¡ç®—æ ·å¼ï¼Œå¦åˆ™ç›´æ¥è¿”å›ç¼“å­˜çš„ç»“æœã€‚</li>
</ul>
<h3 data-id="heading-9">å››ã€ç”Ÿå‘½å‘¨æœŸï¼šæ ·å¼çš„â€œåˆå§‹åŒ–ä¸æ¸…ç†â€</h3>
<p>Vueçš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆå¦‚<code>onMounted</code>ã€<code>onUnmounted</code>ï¼‰ç”¨äº<strong>åœ¨ç‰¹å®šé˜¶æ®µå¤„ç†æ ·å¼</strong>â€”â€”æ¯”å¦‚åˆå§‹åŒ–æ—¶è·å–DOMå°ºå¯¸ã€å¸è½½æ—¶æ¸…ç†äº‹ä»¶ç›‘å¬ã€‚</p>
<h4 data-id="heading-10">4.1 æ¡ˆä¾‹ï¼š<code>onMounted</code>åˆå§‹åŒ–æ ·å¼</h4>
<p><code>onMounted</code>ä¼šåœ¨<strong>ç»„ä»¶DOMæ¸²æŸ“å®Œæˆåæ‰§è¡Œ</strong>ï¼Œé€‚åˆè·å–DOMå…ƒç´ çš„å°ºå¯¸æˆ–ä½ç½®ï¼Œä»è€Œåˆå§‹åŒ–æ ·å¼ã€‚æ¯”å¦‚ä¸€ä¸ªå¡ç‰‡ç»„ä»¶ï¼Œåˆå§‹åŒ–æ—¶æ ¹æ®çˆ¶å…ƒç´ å®½åº¦è°ƒæ•´è‡ªå·±çš„å®½åº¦ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="parent-container"&gt;
    &lt;div ref="cardRef" class="card"&gt;
      &lt;h3&gt;åŠ¨æ€åˆå§‹åŒ–çš„å¡ç‰‡&lt;/h3&gt;
      &lt;p&gt;å®½åº¦ç”±çˆ¶å…ƒç´ å†³å®š&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from 'vue'

const cardRef = ref(null) // å¼•ç”¨å¡ç‰‡DOMå…ƒç´ 

onMounted(() =&gt; {
  // ç¡®ä¿DOMå·²æ¸²æŸ“ï¼Œæ‰èƒ½è·å–çˆ¶å…ƒç´ å®½åº¦
  const parentWidth = cardRef.value.parentElement.offsetWidth
  // è®¾ç½®å¡ç‰‡çš„max-widthä¸ºçˆ¶å…ƒç´ å®½åº¦çš„80%
  cardRef.value.style.maxWidth = `${parentWidth * 0.8}px`
})
&lt;/script&gt;

&lt;style scoped&gt;
.parent-container {
  width: 80%;
  margin: 0 auto;
  padding: 20px;
  background-color: #f5f5f5;
}
.card {
  background-color: #fff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  margin: 0 auto;
}
&lt;/style&gt;
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li><code>onMounted</code>ä¸­<code>cardRef.value</code>å·²æŒ‡å‘çœŸå®DOMå…ƒç´ ï¼Œå› æ­¤èƒ½å®‰å…¨è·å–<code>parentElement</code>ï¼›</li>
<li>å¦‚æœåœ¨<code>setup</code>ç›´æ¥è®¿é—®<code>cardRef.value</code>ï¼Œä¼šå¾—åˆ°<code>null</code>ï¼ˆå› ä¸ºDOMè¿˜æ²¡æ¸²æŸ“ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-11">4.2 <code>onUnmounted</code>ï¼šæ¸…ç†æ ·å¼ç›¸å…³çš„å‰¯ä½œç”¨</h4>
<p>å½“ç»„ä»¶å¸è½½æ—¶ï¼Œéœ€è¦æ¸…ç†<strong>å…¨å±€äº‹ä»¶ç›‘å¬</strong>æˆ–<strong>å®šæ—¶å™¨</strong>ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚æ¯”å¦‚ä¹‹å‰çš„æ»šåŠ¨ç›‘å¬æ¡ˆä¾‹ï¼Œæˆ‘ä»¬åœ¨<code>onUnmounted</code>ä¸­ç§»é™¤äº†æ»šåŠ¨äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll)
})
</code></pre>
<h3 data-id="heading-12">è¯¾åQuizï¼šå·©å›ºä½ çš„åŠ¨æ€æ ·å¼çŸ¥è¯†</h3>
<ol>
<li><strong>é—®é¢˜</strong>ï¼šç”¨<code>reactive</code>å®šä¹‰çš„æ ·å¼å¯¹è±¡ï¼Œä¿®æ”¹å…¶æ·±å±‚å±æ€§æ—¶æ ·å¼æ²¡æ›´æ–°ï¼Œå¯èƒ½çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</li>
<li><strong>é—®é¢˜</strong>ï¼šä¸ºä»€ä¹ˆ<code>computed</code>æ¯”<code>watch</code>æ›´é€‚åˆå¤„ç†åŠ¨æ€æ ·å¼ï¼Ÿ</li>
</ol>
<h4 data-id="heading-13">ç­”æ¡ˆè§£æ</h4>
<ol>
<li>
<p><strong>åŸå› </strong>ï¼š<code>reactive</code>çš„å“åº”å¼æ˜¯æ·±å±‚çš„ï¼Œä½†å¦‚æœ<strong>ç›´æ¥æ›¿æ¢æ•´ä¸ªå¯¹è±¡</strong>ï¼ˆæ¯”å¦‚<code>cardStyle = { ... }</code>ï¼‰ï¼Œä¼šä¸¢å¤±å“åº”å¼ï¼›æˆ–ä¿®æ”¹<strong>æœªè¢«è¿½è¸ªçš„å±æ€§</strong>ï¼ˆæ¯”å¦‚<code>cardStyle.newProp = 'value'</code>ï¼Œè€Œ<code>newProp</code>ä¸æ˜¯åˆå§‹å¯¹è±¡çš„å±æ€§ï¼‰ã€‚<br/>
<strong>è§£å†³</strong>ï¼šå§‹ç»ˆä¿®æ”¹<code>reactive</code>å¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œè€Œéæ›¿æ¢æ•´ä¸ªå¯¹è±¡ï¼›è‹¥éœ€æ·»åŠ æ–°å±æ€§ï¼Œç”¨<code>reactive</code>åŒ…è£¹æ·±å±‚å¯¹è±¡ï¼ˆæ¯”å¦‚<code>cardStyle.deep = reactive({ color: 'red' })</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>åŸå› </strong>ï¼š<code>computed</code>ä¼š<strong>ç¼“å­˜è®¡ç®—ç»“æœ</strong>â€”â€”åªæœ‰ä¾èµ–çš„æ•°æ®å˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ï¼›è€Œ<code>watch</code>ä¼šåœ¨æ¯æ¬¡ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå›è°ƒï¼ˆå³ä½¿ç»“æœä¸å˜ï¼‰ã€‚ä¾‹å¦‚è¿›åº¦æ¡æ¡ˆä¾‹ï¼Œ<code>computed</code>ä»…åœ¨<code>progress</code>å˜åŒ–æ—¶é‡æ–°è®¡ç®—ï¼Œ<code>watch</code>åˆ™æ¯æ¬¡<code>progress</code>å˜åŒ–éƒ½æ‰§è¡Œå›è°ƒï¼Œæ•ˆç‡æ›´ä½ã€‚</p>
</li>
</ol>
<h3 data-id="heading-14">å¸¸è§æŠ¥é”™åŠè§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-15">1. æŠ¥é”™ï¼š<code>TypeError: Cannot read properties of null (reading 'offsetWidth')</code></h4>
<ul>
<li><strong>åŸå› </strong>ï¼šåœ¨<code>onMounted</code>ä¹‹å‰è®¿é—®<code>ref.value</code>ï¼ˆæ­¤æ—¶DOMæœªæ¸²æŸ“ï¼Œ<code>ref.value</code>ä¸º<code>null</code>ï¼‰ã€‚</li>
<li><strong>è§£å†³</strong>ï¼šç¡®ä¿åœ¨<code>onMounted</code>ä¸­è®¿é—®DOMå…ƒç´ ï¼ˆ<code>onMounted</code>ä¼šç­‰å¾…DOMæ¸²æŸ“å®Œæˆï¼‰ã€‚</li>
<li><strong>é¢„é˜²</strong>ï¼šè®¿é—®<code>ref.value</code>å‰æ£€æŸ¥æ˜¯å¦å­˜åœ¨ï¼ˆå¦‚<code>if (cardRef.value) { ... }</code>ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-16">2. æŠ¥é”™ï¼šå“åº”å¼æ•°æ®ä¿®æ”¹åï¼Œæ ·å¼æ²¡æ›´æ–°</h4>
<ul>
<li><strong>åŸå› </strong>ï¼šç”¨äº†<strong>éå“åº”å¼å˜é‡</strong>ï¼ˆæ¯”å¦‚<code>let color = 'red'</code>è€Œé<code>const color = ref('red')</code>ï¼‰ï¼›æˆ–ä¿®æ”¹äº†<code>reactive</code>å¯¹è±¡çš„<strong>æœªè¢«è¿½è¸ªçš„å±æ€§</strong>ã€‚</li>
<li><strong>è§£å†³</strong>ï¼šç”¨<code>ref</code>/<code>reactive</code>æ­£ç¡®åŒ…è£¹æ•°æ®ï¼›ä¿®æ”¹<code>reactive</code>å¯¹è±¡çš„ç°æœ‰å±æ€§ï¼ˆè€Œéæ›¿æ¢æ•´ä¸ªå¯¹è±¡ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-17">3. æŠ¥é”™ï¼š<code>watch</code>ç›‘å¬çš„å˜é‡æ²¡è§¦å‘å›è°ƒ</h4>
<ul>
<li><strong>åŸå› </strong>ï¼šç›‘å¬çš„æ˜¯<strong>æ™®é€šå˜é‡</strong>ï¼ˆéå“åº”å¼ï¼‰ï¼›æˆ–ç›‘å¬<code>reactive</code>å¯¹è±¡çš„<strong>æ·±å±‚å±æ€§</strong>ä½†æœªå¼€å¯<code>deep: true</code>ã€‚</li>
<li><strong>è§£å†³</strong>ï¼šç›‘å¬å“åº”å¼æ•°æ®ï¼ˆ<code>ref</code>/<code>reactive</code>ï¼‰ï¼›ç›‘å¬æ·±å±‚å±æ€§æ—¶ï¼Œç”¨ç®­å¤´å‡½æ•°è¿”å›è¯¥å±æ€§ï¼ˆæ¯”å¦‚<code>watch(() =&gt; obj.deep.color, (val) =&gt; { ... })</code>ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-18">å‚è€ƒé“¾æ¥</h3>
<ul>
<li>Vue3 å“åº”å¼åŸºç¡€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fessentials%2Freactivity-fundamentals.html" target="_blank" title="https://vuejs.org/guide/essentials/reactivity-fundamentals.html" ref="nofollow noopener noreferrer">vuejs.org/guide/essenâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ€ç»´é“¾åˆ°æ€ç»´æ ‘ï¼šä¸€æ­¥æ­¥è§£é”å¤§è¯­è¨€æ¨¡å‹çš„æ¨ç†èƒ½åŠ›]]></title>    <link>https://juejin.cn/post/7585085798809485339</link>    <guid>https://juejin.cn/post/7585085798809485339</guid>    <pubDate>2025-12-19T03:50:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585085798809485339" data-draft-id="7585091685339758638" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ€ç»´é“¾åˆ°æ€ç»´æ ‘ï¼šä¸€æ­¥æ­¥è§£é”å¤§è¯­è¨€æ¨¡å‹çš„æ¨ç†èƒ½åŠ› "/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-19T03:50:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‰æ–—ç±³"/> <meta itemprop="url" content="https://juejin.cn/user/3157453124416622"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ€ç»´é“¾åˆ°æ€ç»´æ ‘ï¼šä¸€æ­¥æ­¥è§£é”å¤§è¯­è¨€æ¨¡å‹çš„æ¨ç†èƒ½åŠ› 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3157453124416622/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‰æ–—ç±³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:50:21.000Z" title="Fri Dec 19 2025 03:50:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»æ€ç»´é“¾åˆ°æ€ç»´æ ‘ï¼šä¸€æ­¥æ­¥è§£é”å¤§è¯­è¨€æ¨¡å‹çš„æ¨ç†èƒ½åŠ›</h2>
<h3 data-id="heading-1">1. ä¸ºä»€ä¹ˆå¤§æ¨¡å‹ä¹Ÿéœ€è¦â€œå­¦â€ä¼šæ€è€ƒï¼Ÿ</h3>
<p>å°½ç®¡å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰åœ¨å¤„ç†æµ·é‡ä¿¡æ¯å’Œç”Ÿæˆæµç•…æ–‡æœ¬æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œä½†å®ƒä»¬å¸¸å¸¸åœ¨éœ€è¦å¤æ‚æ¨ç†çš„ä»»åŠ¡ä¸Šé‡åˆ°å›°éš¾ï¼Œä¾‹å¦‚æ•°å­¦åº”ç”¨é¢˜ã€å¸¸è¯†é—®ç­”å’Œæˆ˜ç•¥è§„åˆ’ã€‚ç ”ç©¶è¡¨æ˜ï¼Œä»…ä»…æ‰©å¤§æ¨¡å‹è§„æ¨¡å¹¶ä¸è¶³ä»¥è®©æ¨¡å‹åœ¨ç®—æœ¯ã€å¸¸è¯†å’Œç¬¦å·æ¨ç†ç­‰æŒ‘æˆ˜æ€§ä»»åŠ¡ä¸Šå–å¾—ä¼˜å¼‚è¡¨ç°ã€‚</p>
<p>ç„¶è€Œï¼Œæ¨¡å‹çš„æ¨ç†èƒ½åŠ›å¹¶éé¥ä¸å¯åŠã€‚é€šè¿‡ç‰¹å®šçš„â€œæç¤ºæŠ€æœ¯â€ï¼ˆPrompting Techniquesï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å¯¼æ¨¡å‹æ¨¡æ‹Ÿäººç±»çš„æ€è€ƒæ–¹å¼ï¼Œä»è€Œè§£é”å…¶æ½œåœ¨çš„æ¨ç†èƒ½åŠ›ã€‚æœ¬æ–‡å°†ä»¥åˆå­¦è€…å‹å¥½çš„æ–¹å¼ï¼Œå¾ªåºæ¸è¿›åœ°ä»‹ç»è¿™äº›æŠ€æœ¯çš„å‘å±•å†ç¨‹ï¼Œä»åŸºç¡€çš„â€œæ€ç»´é“¾â€ï¼ˆChain of Thoughtï¼‰åˆ°æ›´é«˜çº§çš„â€œè‡ªæˆ‘ä¸€è‡´æ€§â€ï¼ˆSelf-Consistencyï¼‰å’Œâ€œæ€ç»´æ ‘â€ï¼ˆTree of Thoughtsï¼‰ã€‚</p>
<h3 data-id="heading-2">2. åŸºç¡€ï¼šæ€ç»´é“¾ (Chain-of-Thought, CoT) - æ•™ä¼šæ¨¡å‹â€œå¦‚ä½•æ€è€ƒâ€</h3>
<h4 data-id="heading-3">2.1. ä¼ ç»Ÿæç¤º (Standard Prompting) çš„å±€é™æ€§</h4>
<p>åœ¨æ ‡å‡†çš„æç¤ºæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åªç»™æ¨¡å‹å±•ç¤ºé—®é¢˜å’Œæœ€ç»ˆç­”æ¡ˆçš„èŒƒä¾‹ï¼ŒæœŸæœ›å®ƒèƒ½ç›´æ¥æ¨¡ä»¿ã€‚ç„¶è€Œï¼Œå¯¹äºéœ€è¦å¤šæ­¥æ¨ç†çš„é—®é¢˜ï¼Œè¿™ç§æ–¹æ³•å¸¸å¸¸å¯¼è‡´æ¨¡å‹â€œä¸€æ­¥é”™ï¼Œæ­¥æ­¥é”™â€ã€‚</p>
<p>ä¾‹å¦‚ï¼Œé¢å¯¹ä¸‹é¢è¿™ä¸ªç®€å•çš„æ•°å­¦é¢˜ï¼Œä½¿ç”¨æ ‡å‡†æç¤ºçš„æ¨¡å‹ç»™å‡ºäº†é”™è¯¯çš„ç­”æ¡ˆï¼š</p>
<p><strong>Q: The cafeteria had 23 apples. If they used 20 to make lunch and bought 6 more, how many apples do they have?</strong></p>
<p><strong>A: The answer is 27.</strong></p>
<p>æ¨¡å‹å¾ˆå¯èƒ½è¿›è¡Œäº†ç®€å•ä½†é”™è¯¯çš„è®¡ç®—ï¼Œå› ä¸ºå®ƒæ²¡æœ‰è¢«å¼•å¯¼å»åˆ†è§£é—®é¢˜ï¼Œè€Œæ˜¯è¯•å›¾ä¸€æ­¥åˆ°ä½åœ°çŒœæµ‹ç­”æ¡ˆã€‚</p>
<h4 data-id="heading-4">2.2. æ€ç»´é“¾çš„è¯ç”Ÿï¼šå±•ç¤ºæ€è€ƒè¿‡ç¨‹</h4>
<p>æ€ç»´é“¾ï¼ˆChain-of-Thought, CoTï¼‰æç¤ºçš„æ ¸å¿ƒåŸåˆ™éå¸¸ç›´è§‚ï¼šåœ¨èŒƒä¾‹ä¸­ï¼Œä¸ä»…ä»…ç»™å‡ºæœ€ç»ˆç­”æ¡ˆï¼Œè€Œæ˜¯å±•ç¤ºé€šå¾€ç­”æ¡ˆçš„ã€ä¸€æ­¥ä¸€æ­¥çš„æ¨ç†è¿‡ç¨‹ã€‚</p>
<p>å¯¹äºåŒæ ·çš„é—®é¢˜ï¼ŒCoT èŒƒä¾‹ä¼šæ˜¯è¿™æ ·ï¼š</p>
<p><strong>Q: The cafeteria had 23 apples. If they used 20 to make lunch and bought 6 more, how many apples do they have?</strong></p>
<p><strong>A:</strong> <strong>The cafeteria had 23 apples originally. They used 20 to make lunch. So they had 23 - 20 = 3. They bought 6 more apples, so they have 3 + 6 = 9.</strong> The answer is 9.</p>
<p>é€šè¿‡å­¦ä¹ è¿™ä¸ªè¿‡ç¨‹ï¼Œæ¨¡å‹é¢†æ‚Ÿåˆ°éœ€è¦å°†æ–°é—®é¢˜åˆ†è§£ä¸ºæ›´å°ã€æ›´æ˜“äºç®¡ç†çš„éƒ¨åˆ†ï¼Œå¹¶æŒ‰é€»è¾‘é¡ºåºè§£å†³å®ƒä»¬ï¼Œæœ€ç»ˆå¾—å‡ºæ­£ç¡®çš„ç­”æ¡ˆã€‚</p>
<h4 data-id="heading-5">2.3. CoT çš„æƒŠäººæ•ˆæœ</h4>
<p>è¿™ç§ç®€å•çš„æ–¹æ³•å¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚ä»¥ PaLM 540B æ¨¡å‹åœ¨ GSM8K æ•°å­¦åŸºå‡†æµ‹è¯•ä¸Šçš„è¡¨ç°ä¸ºä¾‹ï¼ŒCoT çš„æ•ˆæœæ˜¾è€Œæ˜“è§ï¼š</p>
<ul>
<li><strong>Standard Prompting:</strong> 18% è§£é¢˜æˆåŠŸç‡</li>
<li><strong>Chain-of-Thought Prompting:</strong> 57% è§£é¢˜æˆåŠŸç‡</li>
</ul>
<p>æ€»è€Œè¨€ä¹‹ï¼ŒCoT é€šè¿‡ç”Ÿæˆå¯¼å‘æœ€ç»ˆç­”æ¡ˆçš„è‡ªç„¶è¯­è¨€â€œæ¨ç†æ­¥éª¤â€ï¼ˆrationalesï¼‰æ¥å·¥ä½œã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ¨ç†èƒ½åŠ›é€šå¸¸åªåœ¨éå¸¸å¤§è§„æ¨¡çš„æ¨¡å‹ä¸­æ‰ä¼šâ€œæ¶Œç°â€ã€‚</p>
<h3 data-id="heading-6">3. è¿›é˜¶ï¼šè‡ªæˆ‘ä¸€è‡´æ€§ (Self-Consistency, SC) - â€œå°‘æ•°æœä»å¤šæ•°â€çš„æ™ºæ…§</h3>
<h4 data-id="heading-7">3.1. CoT çš„ä¸è¶³ä¹‹å¤„</h4>
<p>åŸºç¡€çš„ CoT æ–¹æ³•æœ‰ä¸€ä¸ªæ˜æ˜¾çš„å±€é™æ€§ï¼šå®ƒåªç”Ÿæˆ<strong>ä¸€æ¡</strong>æ¨ç†è·¯å¾„ã€‚å¦‚æœè¿™æ¡è·¯å¾„ä¸­çš„ä»»ä½•ä¸€ä¸ªç¯èŠ‚å‡ºç°é”™è¯¯ï¼Œæœ€ç»ˆçš„ç­”æ¡ˆä¹Ÿå¿…ç„¶æ˜¯é”™è¯¯çš„ã€‚è¿™ä½¿å¾—æ¨ç†è¿‡ç¨‹æ˜¾å¾—æœ‰äº›â€œè„†å¼±â€ã€‚</p>
<h4 data-id="heading-8">3.2. å¼•å…¥è‡ªæˆ‘ä¸€è‡´æ€§ï¼šæ¡æ¡å¤§è·¯é€šç½—é©¬</h4>
<p>è‡ªæˆ‘ä¸€è‡´æ€§ï¼ˆSelf-Consistency, SCï¼‰æ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œæå‡ºçš„ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¸€ä¸ªå¤æ‚é—®é¢˜é€šå¸¸æœ‰å¤šç§æ–¹æ³•å¯ä»¥å¾—åˆ°æ­£ç¡®ç­”æ¡ˆã€‚å¦‚æœä¸åŒçš„æ€è€ƒè·¯å¾„éƒ½æŒ‡å‘åŒä¸€ä¸ªç­”æ¡ˆï¼Œé‚£ä¹ˆè¿™ä¸ªç­”æ¡ˆçš„å¯ä¿¡åº¦å°±æ›´é«˜ã€‚</p>
<p>SC çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å¤šæ ·åŒ–é‡‡æ · (Sample):</strong> ä¸å†åªç”Ÿæˆä¸€æ¡â€œè´ªå¿ƒâ€çš„æ¨ç†è·¯å¾„ï¼ˆå³åœ¨æ¯ä¸€æ­¥éƒ½é€‰æ‹©æœ€æ˜¾è€Œæ˜“è§çš„ä¸‹ä¸€æ­¥ï¼‰ï¼Œè€Œæ˜¯æç¤ºæ¨¡å‹ä¸ºåŒä¸€ä¸ªé—®é¢˜ç”Ÿæˆå¤šä¸ª<strong>ä¸åŒ</strong>çš„æ¨ç†è·¯å¾„ã€‚</li>
<li><strong>æ±‡æ€»å¹¶æŠ•ç¥¨ (Marginalize and Vote):</strong> æ£€æŸ¥æ‰€æœ‰è·¯å¾„å¾—å‡ºçš„æœ€ç»ˆç­”æ¡ˆã€‚</li>
<li><strong>é€‰æ‹©æœ€ç»ˆç­”æ¡ˆ (Select):</strong> å°†å‡ºç°æ¬¡æ•°æœ€å¤šçš„ç­”æ¡ˆä½œä¸ºæœ€ç»ˆçš„ã€æœ€å¯é çš„ç­”æ¡ˆã€‚</li>
</ol>
<p>ä»¥â€œJanet çš„é¸­å­â€é—®é¢˜ä¸ºä¾‹ï¼Œæ¨¡å‹å¯èƒ½ç”Ÿæˆäº†å¤šä¸ªæ¨ç†è¿‡ç¨‹ï¼šæœ‰çš„è·¯å¾„è®¡ç®—å‡ºç»“æœæ˜¯â€œ18â€ï¼Œæœ‰çš„ç®—æˆäº†â€œ26â€ï¼Œè¿˜æœ‰çš„ç®—æˆäº†â€œ14â€ã€‚é€šè¿‡æŠ•ç¥¨ï¼ŒSC ä¼šé€‰æ‹©å‡ºç°é¢‘ç‡æœ€é«˜çš„â€œ18â€ä½œä¸ºæœ€ç»ˆç­”æ¡ˆã€‚</p>
<h4 data-id="heading-9">3.3. SC å¸¦æ¥çš„æ˜¾è‘—æå‡</h4>
<p>SC æå¤§åœ°å¢å¼ºäº† CoT çš„æ€§èƒ½å’Œé²æ£’æ€§ã€‚åœ¨å¤šä¸ªæ¨ç†åŸºå‡†æµ‹è¯•ä¸­ï¼Œå®ƒéƒ½å–å¾—äº†æ˜¾è‘—çš„æˆç»©æå‡ï¼š</p>
<ul>
<li><strong>GSM8K:</strong> +17.9%</li>
<li><strong>SVAMP:</strong> +11.0%</li>
<li><strong>AQuA:</strong> +12.2%</li>
<li><strong>StrategyQA:</strong> +6.4%</li>
</ul>
<h3 data-id="heading-10">4. æ¢ç´¢ï¼šæ€ç»´æ ‘ (Tree of Thoughts, ToT) - èµ‹äºˆæ¨¡å‹è§„åˆ’ä¸è¿œè§</h3>
<h4 data-id="heading-11">4.1. CoT å’Œ SC çš„å…±åŒå±€é™</h4>
<p>å°½ç®¡ SC æå‡äº† CoT çš„å‡†ç¡®æ€§ï¼Œä½†ä¸¤è€…éƒ½å­˜åœ¨ä¸€ä¸ªæ ¹æœ¬æ€§çš„å±€é™ï¼šå®ƒä»¬çš„æ¨ç†è¿‡ç¨‹æ˜¯çº¿æ€§çš„ï¼Œä»å·¦åˆ°å³ä¸€æ­¥æ­¥ç”Ÿæˆï¼Œæ— æ³•â€œå›å¤´â€ã€‚è¿™æ„å‘³ç€æ¨¡å‹ä¸èƒ½â€œå‘å‰çœ‹â€æ¥åˆ¤æ–­å½“å‰è·¯å¾„æ˜¯å¦æœ‰å‰é€”ï¼Œä¹Ÿæ— æ³•åœ¨æ„è¯†åˆ°æ—©æœŸé”™è¯¯åâ€œé€€åâ€å¹¶æ¢ç´¢å…¶ä»–å¯èƒ½æ€§ã€‚</p>
<h4 data-id="heading-12">4.2. æ€ç»´æ ‘çš„é©å‘½ï¼šä»â€œé“¾â€åˆ°â€œæ ‘â€</h4>
<p>æ€ç»´æ ‘ï¼ˆTree of Thoughts, ToTï¼‰æ¡†æ¶é€šè¿‡å°†é—®é¢˜è§£å†³è¿‡ç¨‹ä»ä¸€æ¡â€œé“¾â€æ‰©å±•ä¸ºä¸€æ£µâ€œæ ‘â€ï¼Œä»è€Œå…‹æœäº†ä¸Šè¿°å±€é™ã€‚</p>
<p>åœ¨ ToT ä¸­ï¼Œæ¯ä¸€ä¸ªâ€œæƒ³æ³•â€ï¼ˆthoughtï¼‰éƒ½æ˜¯ä¸€ä¸ªè¿è´¯çš„ä¸­é—´æ­¥éª¤ã€‚æ¨¡å‹ä¸å†å±€é™äºå•ä¸€è·¯å¾„ï¼Œè€Œæ˜¯å¯ä»¥ï¼š</p>
<ol>
<li><strong>æ¢ç´¢å¤šä¸ªåˆ†æ”¯ (Explore):</strong> åœ¨é—®é¢˜çš„æ¯ä¸ªé˜¶æ®µï¼Œç”Ÿæˆå¤šä¸ªä¸åŒçš„æƒ³æ³•æˆ–ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ–¹æ¡ˆã€‚</li>
<li><strong>è‡ªæˆ‘è¯„ä¼° (Self-evaluate):</strong> æ¨¡å‹ä¼šè¯„ä¼°æ¯ä¸ªåˆ†æ”¯åœ¨è§£å†³é—®é¢˜ä¸Šå–å¾—çš„è¿›å±•ã€‚</li>
<li><strong>è§„åˆ’ä¸å†³ç­– (Plan &amp; Decide):</strong> æ¨¡å‹å¯ä»¥æœ‰ç­–ç•¥åœ°å‘å‰æ¢ç´¢æœ€æœ‰å¸Œæœ›çš„åˆ†æ”¯ï¼Œæˆ–è€…ä»â€œæ­»èƒ¡åŒâ€ä¸­å›æº¯ï¼Œè½¬è€Œæ¢ç´¢å…¶ä»–æ›¿ä»£æ–¹æ¡ˆã€‚</li>
</ol>
<p>ç®€è€Œè¨€ä¹‹ï¼ŒToT å°†é—®é¢˜è§£å†³è½¬åŒ–ä¸ºåœ¨ä¸€æ£µå……æ»¡å¯èƒ½æ€§çš„æ¨ç†è·¯å¾„æ ‘ä¸­è¿›è¡Œæœç´¢ã€‚</p>
<h4 data-id="heading-13">4.3. ToT çš„å¨åŠ›ï¼šæ”»å…‹éš¾é¢˜</h4>
<p>ToT åœ¨éœ€è¦å¤æ‚è§„åˆ’å’Œæ¢ç´¢çš„ä»»åŠ¡ä¸­è¡¨ç°å°¤ä¸ºå‡ºè‰²ã€‚ä»¥â€œ24ç‚¹æ¸¸æˆâ€ä¸ºä¾‹ï¼Œä»»åŠ¡è¦æ±‚ä½¿ç”¨ 4 ä¸ªæ•°å­—å’ŒåŸºæœ¬ç®—æœ¯è¿ç®—å¾—å‡º 24ã€‚</p>
<ul>
<li><strong>GPT-4 with CoT:</strong> 4% æˆåŠŸç‡</li>
<li><strong>GPT-4 with ToT:</strong> 74% æˆåŠŸç‡</li>
</ul>
<p>è¿™ä¸€æƒŠäººçš„å¯¹æ¯”è¡¨æ˜ï¼Œå¯¹äºé‚£äº›éœ€è¦éå¹³å‡¡è§„åˆ’æˆ–æœç´¢çš„éš¾é¢˜ï¼ŒToT çš„èƒ½åŠ›è¿œè¶…çº¿æ€§æ¨ç†æ–¹æ³•ã€‚</p>
<h3 data-id="heading-14">5. æ€»ç»“ä¸å¯¹æ¯”</h3>
<p>ä¸ºäº†æ–¹ä¾¿å¿«é€Ÿå›é¡¾ï¼Œä¸‹è¡¨æ€»ç»“äº†è¿™ä¸‰ç§æŠ€æœ¯çš„å…³é”®ç‰¹æ€§ï¼š</p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>æ€ç»´é“¾ (CoT)</th><th>è‡ªæˆ‘ä¸€è‡´æ€§ (SC)</th><th>æ€ç»´æ ‘ (ToT)</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒæ€æƒ³</strong></td><td>æ¨¡ä»¿å•ä¸€æ­¥éª¤æ¨ç†è¿‡ç¨‹ã€‚</td><td>å¯¹å¤šç§æ¨ç†è·¯å¾„è¿›è¡ŒæŠ•ç¥¨ï¼Œå–æœ€ä¸€è‡´çš„ç­”æ¡ˆã€‚</td><td>ç³»ç»ŸåŒ–åœ°æ¢ç´¢ã€è¯„ä¼°å’Œé€‰æ‹©ä¸åŒçš„æ¨ç†è·¯å¾„ã€‚</td></tr><tr><td><strong>æ¨ç†è¿‡ç¨‹</strong></td><td>å•ä¸€ã€çº¿æ€§çš„è·¯å¾„ã€‚</td><td>å¤šæ¡ç‹¬ç«‹ã€çº¿æ€§çš„è·¯å¾„ã€‚</td><td>æ ‘çŠ¶ç»“æ„ï¼Œæ”¯æŒæ¢ç´¢ã€å‰ç»å’Œå›æº¯ã€‚</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>éœ€è¦å¤šæ­¥æ¨ç†çš„æ ‡å‡†é—®é¢˜ã€‚</td><td>ç­”æ¡ˆæ˜ç¡®ï¼Œä½†è§£æ³•å¤šæ ·çš„å¤æ‚é—®é¢˜ã€‚</td><td>éœ€è¦è§„åˆ’ã€æ¢ç´¢æˆ–ç­–ç•¥è°ƒæ•´çš„å¼€æ”¾æ€§éš¾é¢˜ã€‚</td></tr><tr><td><strong>ä¸»è¦ä¼˜åŠ¿</strong></td><td>ç®€å•æœ‰æ•ˆï¼Œæ˜¾è‘—ä¼˜äºæ ‡å‡†æç¤ºã€‚</td><td>æå‡äº†CoTçš„é²æ£’æ€§å’Œå‡†ç¡®ç‡ã€‚</td><td>èƒ½å¤Ÿè§£å†³CoTå’ŒSCæ— æ³•è§£å†³çš„è§„åˆ’æ€§é—®é¢˜ã€‚</td></tr></tbody></table>
<h3 data-id="heading-15">6. ç»“è¯­</h3>
<p>ä»ç®€å•çš„â€œæ€ç»´é“¾â€åˆ°å¤æ‚çš„â€œæ€ç»´æ ‘â€ï¼Œæˆ‘ä»¬è§è¯äº†é©±åŠ¨å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œæ›´æ·±å±‚æ¬¡æ€è€ƒçš„æ–¹æ³•è®ºæ¼”è¿›ã€‚è¿™äº›æŠ€æœ¯ä¸ä»…æå‡äº†æ¨¡å‹åœ¨å…·ä½“ä»»åŠ¡ä¸Šçš„è¡¨ç°ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä»¬æ¨åŠ¨ AI ä»ç®€å•çš„æ–‡æœ¬ç”Ÿæˆå™¨ï¼Œå‘èƒ½å¤Ÿè¿›è¡Œæ·±æ€ç†Ÿè™‘çš„é—®é¢˜è§£å†³è€…è¿ˆè¿›ã€‚éšç€è¿™äº›æ¨ç†æ¡†æ¶çš„ä¸æ–­å‘å±•ï¼Œæœªæ¥çš„ AI å°†å˜å¾—æ›´åŠ å¼ºå¤§ã€å¯é å’Œæ˜“äºç†è§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaæ³¨è§£ï¼ˆAnnotationï¼‰æ·±åº¦è§£æï¼šä»å…ƒç¼–ç¨‹åˆ°æ¡†æ¶è®¾è®¡]]></title>    <link>https://juejin.cn/post/7585138968166613028</link>    <guid>https://juejin.cn/post/7585138968166613028</guid>    <pubDate>2025-12-19T05:06:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585138968166613028" data-draft-id="7585138968166563876" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaæ³¨è§£ï¼ˆAnnotationï¼‰æ·±åº¦è§£æï¼šä»å…ƒç¼–ç¨‹åˆ°æ¡†æ¶è®¾è®¡"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-19T05:06:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaæ³¨è§£ï¼ˆAnnotationï¼‰æ·±åº¦è§£æï¼šä»å…ƒç¼–ç¨‹åˆ°æ¡†æ¶è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:06:48.000Z" title="Fri Dec 19 2025 05:06:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å¼•è¨€ï¼šæ³¨è§£â€”â€”Javaçš„å…ƒç¼–ç¨‹åˆ©å™¨</h2>
<p>æ³¨è§£ï¼ˆAnnotationï¼‰æ˜¯Java 5å¼•å…¥çš„ä¸€é¡¹é©å‘½æ€§ç‰¹æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ä»£ç ä¸­æ·»åŠ å…ƒæ•°æ®ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥è¢«ç¼–è¯‘å™¨ã€å¼€å‘å·¥å…·å’Œè¿è¡Œæ—¶ç¯å¢ƒè¯»å–å’Œä½¿ç”¨ã€‚ä»ç®€å•çš„@Overrideåˆ°å¤æ‚çš„Springæ¡†æ¶æ³¨è§£ï¼Œæ³¨è§£å·²ç»æˆä¸ºç°ä»£Javaå¼€å‘çš„åŸºçŸ³ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€æ³¨è§£åŸºç¡€ä¸å†…ç½®æ³¨è§£</h2>
<h3 data-id="heading-2">1.1 Javaå†…ç½®æ³¨è§£è¯¦è§£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.*;

<span class="hljs-comment">// æ¼”ç¤ºJavaå†…ç½®æ³¨è§£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BuiltInAnnotations</span> {
    
    <span class="hljs-comment">// 1. @Override - ç¡®ä¿æ–¹æ³•æ­£ç¡®é‡å†™çˆ¶ç±»æ–¹æ³•</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"BuiltInAnnotationså®ä¾‹"</span>;
    }
    
    <span class="hljs-comment">// 2. @Deprecated - æ ‡è®°å·²è¿‡æ—¶çš„å…ƒç´ </span>
    <span class="hljs-meta">@Deprecated(
        since = "2.0",
        forRemoval = true
    )</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">oldMethod</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"è¿™æ˜¯è¿‡æ—¶çš„æ–¹æ³•ï¼Œå°†åœ¨æœªæ¥ç‰ˆæœ¬ç§»é™¤"</span>);
    }
    
    <span class="hljs-comment">// 3. @SuppressWarnings - æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š</span>
    <span class="hljs-meta">@SuppressWarnings({"unchecked", "rawtypes"})</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">suppressWarningsExample</span><span class="hljs-params">()</span> {
        <span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();  <span class="hljs-comment">// æ²¡æœ‰æ³›å‹çš„List</span>
        list.add(<span class="hljs-string">"å­—ç¬¦ä¸²"</span>);           <span class="hljs-comment">// ä¼šäº§ç”Ÿè­¦å‘Šï¼Œä½†è¢«æŠ‘åˆ¶</span>
    }
    
    <span class="hljs-comment">// 4. @SafeVarargs - æ ‡è®°å¯å˜å‚æ•°æ–¹æ³•æ˜¯å®‰å…¨çš„</span>
    <span class="hljs-meta">@SafeVarargs</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> &lt;T&gt; List&lt;T&gt; <span class="hljs-title function_">asList</span><span class="hljs-params">(T... elements)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(Arrays.asList(elements));
    }
    
    <span class="hljs-comment">// 5. @FunctionalInterface - æ ‡è®°å‡½æ•°å¼æ¥å£ï¼ˆJava 8+ï¼‰</span>
    <span class="hljs-meta">@FunctionalInterface</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Calculator</span> {
        <span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>;
        
        <span class="hljs-comment">// å¯ä»¥æœ‰é»˜è®¤æ–¹æ³•</span>
        <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printResult</span><span class="hljs-params">(<span class="hljs-type">int</span> result)</span> {
            System.out.println(<span class="hljs-string">"ç»“æœ: "</span> + result);
        }
        
        <span class="hljs-comment">// å¯ä»¥æœ‰é™æ€æ–¹æ³•</span>
        <span class="hljs-keyword">static</span> Calculator <span class="hljs-title function_">create</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> (a, b) -&gt; a + b;
        }
        
        <span class="hljs-comment">// å¯ä»¥é‡å†™Objectçš„æ–¹æ³•ï¼Œä¸è®¡å…¥æŠ½è±¡æ–¹æ³•è®¡æ•°</span>
        <span class="hljs-meta">@Override</span>
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span>;
    }
    
    <span class="hljs-comment">// 6. @Generated - æ ‡è®°è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç </span>
    <span class="hljs-meta">@javax</span>.annotation.Generated(
        value = <span class="hljs-string">"code-generator"</span>,
        date = <span class="hljs-string">"2024-01-01T10:00:00"</span>,
        comments = <span class="hljs-string">"è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç "</span>
    )
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GeneratedClass</span> {
        <span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç </span>
    }
    
    <span class="hljs-comment">// æ¼”ç¤ºæ³¨è§£çš„ç›®æ ‡é™åˆ¶</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">BuiltInAnnotations</span> <span class="hljs-variable">demo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuiltInAnnotations</span>();
        
        <span class="hljs-comment">// ä½¿ç”¨è¿‡æ—¶æ–¹æ³•ä¼šæœ‰è­¦å‘Š</span>
        demo.oldMethod();
        
        <span class="hljs-comment">// æŸ¥çœ‹æ³¨è§£ä¿¡æ¯</span>
        System.out.println(<span class="hljs-string">"=== æ³¨è§£ä¿¡æ¯ ==="</span>);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–@Overrideæ³¨è§£ä¿¡æ¯</span>
            <span class="hljs-type">Method</span> <span class="hljs-variable">toStringMethod</span> <span class="hljs-operator">=</span> BuiltInAnnotations.class.getMethod(<span class="hljs-string">"toString"</span>);
            <span class="hljs-keyword">if</span> (toStringMethod.isAnnotationPresent(Override.class)) {
                System.out.println(<span class="hljs-string">"toStringæ–¹æ³•ä½¿ç”¨äº†@Overrideæ³¨è§£"</span>);
            }
            
            <span class="hljs-comment">// è·å–@Deprecatedæ³¨è§£ä¿¡æ¯</span>
            <span class="hljs-type">Method</span> <span class="hljs-variable">oldMethod</span> <span class="hljs-operator">=</span> BuiltInAnnotations.class.getMethod(<span class="hljs-string">"oldMethod"</span>);
            <span class="hljs-type">Deprecated</span> <span class="hljs-variable">deprecated</span> <span class="hljs-operator">=</span> oldMethod.getAnnotation(Deprecated.class);
            <span class="hljs-keyword">if</span> (deprecated != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"oldMethodå·²è¿‡æ—¶ï¼Œsince: "</span> + deprecated.since());
                System.out.println(<span class="hljs-string">"æ˜¯å¦è®¡åˆ’ç§»é™¤: "</span> + deprecated.forRemoval());
            }
            
        } <span class="hljs-keyword">catch</span> (NoSuchMethodException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-comment">// 7. é‡å¤æ³¨è§£æ¼”ç¤ºï¼ˆJava 8+ï¼‰</span>
    <span class="hljs-comment">// éœ€è¦å…ˆå®šä¹‰å®¹å™¨æ³¨è§£</span>
    <span class="hljs-meta">@Repeatable(Authors.class)</span>
    <span class="hljs-meta">@interface</span> Author {
        String <span class="hljs-title function_">name</span><span class="hljs-params">()</span>;
        String <span class="hljs-title function_">email</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-meta">@interface</span> Authors {
        Author[] value();
    }
    
    <span class="hljs-comment">// ä½¿ç”¨é‡å¤æ³¨è§£</span>
    <span class="hljs-meta">@Author(name = "å¼ ä¸‰", email = "zhangsan@example.com")</span>
    <span class="hljs-meta">@Author(name = "æå››", email = "lisi@example.com")</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span> {
        <span class="hljs-keyword">private</span> String title;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Book</span><span class="hljs-params">(String title)</span> {
            <span class="hljs-built_in">this</span>.title = title;
        }
    }
    
    <span class="hljs-comment">// 8. ç±»å‹æ³¨è§£ï¼ˆJava 8+ï¼‰</span>
    <span class="hljs-comment">// å¯ä»¥æ³¨è§£åœ¨ä»»ä½•ç±»å‹ä½¿ç”¨çš„åœ°æ–¹</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">typeAnnotationExample</span><span class="hljs-params">(
        <span class="hljs-meta">@javax</span>.annotation.NonNull String name,   // å‚æ•°ä¸ä¸º<span class="hljs-literal">null</span>
        List&lt;<span class="hljs-meta">@javax</span>.annotation.NonNull String&gt; list,  // åˆ—è¡¨å…ƒç´ ä¸ä¸º<span class="hljs-literal">null</span>
        <span class="hljs-meta">@javax</span>.annotation.Nullable Integer count  // å‚æ•°å¯ä»¥ä¸º<span class="hljs-literal">null</span>
    )</span> {
        <span class="hljs-comment">// æ–¹æ³•ä½“</span>
    }
}
</code></pre>
<h3 data-id="heading-3">1.2 å…ƒæ³¨è§£ï¼šæ³¨è§£çš„æ³¨è§£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">// è‡ªå®šä¹‰å…ƒæ³¨è§£æ¼”ç¤º</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MetaAnnotations</span> {
    
    <span class="hljs-comment">// 1. @Retention - æŒ‡å®šæ³¨è§£çš„ä¿ç•™ç­–ç•¥</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.SOURCE)</span>   <span class="hljs-comment">// ä»…æºç çº§åˆ«ï¼Œç¼–è¯‘åä¸¢å¼ƒ</span>
    <span class="hljs-meta">@interface</span> SourceAnnotation {}
    
    <span class="hljs-meta">@Retention(RetentionPolicy.CLASS)</span>    <span class="hljs-comment">// ç±»æ–‡ä»¶çº§åˆ«ï¼Œè¿è¡Œæ—¶ä¸å¯è§</span>
    <span class="hljs-meta">@interface</span> ClassAnnotation {}
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>  <span class="hljs-comment">// è¿è¡Œæ—¶å¯è§ï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
    <span class="hljs-meta">@interface</span> RuntimeAnnotation {}
    
    <span class="hljs-comment">// 2. @Target - æŒ‡å®šæ³¨è§£å¯ä»¥åº”ç”¨çš„å…ƒç´ ç±»å‹</span>
    <span class="hljs-meta">@Target(ElementType.TYPE)</span>            <span class="hljs-comment">// ç±»ã€æ¥å£ã€æšä¸¾</span>
    <span class="hljs-meta">@interface</span> TypeAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.FIELD)</span>           <span class="hljs-comment">// å­—æ®µ</span>
    <span class="hljs-meta">@interface</span> FieldAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.METHOD)</span>          <span class="hljs-comment">// æ–¹æ³•</span>
    <span class="hljs-meta">@interface</span> MethodAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.PARAMETER)</span>       <span class="hljs-comment">// å‚æ•°</span>
    <span class="hljs-meta">@interface</span> ParameterAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.CONSTRUCTOR)</span>     <span class="hljs-comment">// æ„é€ å™¨</span>
    <span class="hljs-meta">@interface</span> ConstructorAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.LOCAL_VARIABLE)</span>  <span class="hljs-comment">// å±€éƒ¨å˜é‡</span>
    <span class="hljs-meta">@interface</span> LocalVarAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.ANNOTATION_TYPE)</span> <span class="hljs-comment">// æ³¨è§£ç±»å‹</span>
    <span class="hljs-meta">@interface</span> AnnotationTypeAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.PACKAGE)</span>         <span class="hljs-comment">// åŒ…</span>
    <span class="hljs-meta">@interface</span> PackageAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.TYPE_PARAMETER)</span>  <span class="hljs-comment">// ç±»å‹å‚æ•°ï¼ˆJava 8+ï¼‰</span>
    <span class="hljs-meta">@interface</span> TypeParameterAnnotation {}
    
    <span class="hljs-meta">@Target(ElementType.TYPE_USE)</span>        <span class="hljs-comment">// ç±»å‹ä½¿ç”¨ï¼ˆJava 8+ï¼‰</span>
    <span class="hljs-meta">@interface</span> TypeUseAnnotation {}
    
    <span class="hljs-meta">@Target({ElementType.METHOD, ElementType.FIELD})</span> <span class="hljs-comment">// å¤šä¸ªç›®æ ‡</span>
    <span class="hljs-meta">@interface</span> MultiTargetAnnotation {}
    
    <span class="hljs-comment">// 3. @Documented - åŒ…å«åœ¨JavaDocä¸­</span>
    <span class="hljs-meta">@Documented</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@interface</span> DocumentedAnnotation {
        String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
    }
    
    <span class="hljs-comment">// 4. @Inherited - å…è®¸å­ç±»ç»§æ‰¿æ³¨è§£</span>
    <span class="hljs-meta">@Inherited</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.TYPE)</span>
    <span class="hljs-meta">@interface</span> InheritedAnnotation {
        String <span class="hljs-title function_">value</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-comment">// 5. @Repeatable - å…è®¸é‡å¤æ³¨è§£ï¼ˆJava 8+ï¼‰</span>
    <span class="hljs-comment">// å·²åœ¨ä¸Šé¢çš„BuiltInAnnotationsä¸­æ¼”ç¤º</span>
    
    <span class="hljs-comment">// åº”ç”¨ç¤ºä¾‹</span>
    <span class="hljs-meta">@TypeAnnotation</span>
    <span class="hljs-meta">@InheritedAnnotation("çˆ¶ç±»")</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">ParentClass</span> {
        <span class="hljs-meta">@FieldAnnotation</span>
        <span class="hljs-keyword">private</span> String name;
        
        <span class="hljs-meta">@MethodAnnotation</span>
        <span class="hljs-meta">@DocumentedAnnotation("è¿™æ˜¯æ–¹æ³•")</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">(<span class="hljs-meta">@ParameterAnnotation</span> String param)</span> {
            <span class="hljs-meta">@LocalVarAnnotation</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">localVar</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-meta">@ConstructorAnnotation</span>
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">ParentClass</span><span class="hljs-params">()</span> {}
    }
    
    <span class="hljs-comment">// å­ç±»ç»§æ‰¿@InheritedAnnotation</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">ChildClass</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ParentClass</span> {
        <span class="hljs-comment">// è‡ªåŠ¨ç»§æ‰¿@InheritedAnnotation("çˆ¶ç±»")</span>
    }
    
    <span class="hljs-comment">// ç±»å‹å‚æ•°æ³¨è§£ï¼ˆJava 8+ï¼‰</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericClass</span>&lt;<span class="hljs-meta">@TypeParameterAnnotation</span> T&gt; {
        <span class="hljs-keyword">private</span> List&lt;<span class="hljs-meta">@TypeUseAnnotation</span> T&gt; items;
    }
    
    <span class="hljs-comment">// åŒ…æ³¨è§£éœ€è¦ç‰¹æ®Šçš„package-info.javaæ–‡ä»¶</span>
    <span class="hljs-comment">// package-info.javaå†…å®¹ç¤ºä¾‹ï¼š</span>
    <span class="hljs-comment">/*
    @PackageAnnotation
    package com.example;
    
    import com.example.MetaAnnotations.PackageAnnotation;
    */</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== å…ƒæ³¨è§£æ¼”ç¤º ==="</span>);
        
        <span class="hljs-comment">// æ£€æŸ¥ç»§æ‰¿æ³¨è§£</span>
        System.out.println(<span class="hljs-string">"\n1. æ£€æŸ¥ç»§æ‰¿æ³¨è§£:"</span>);
        System.out.println(<span class="hljs-string">"ParentClassæœ‰@InheritedAnnotation: "</span> + 
            ParentClass.class.isAnnotationPresent(InheritedAnnotation.class));
        System.out.println(<span class="hljs-string">"ChildClassæœ‰@InheritedAnnotation: "</span> + 
            ChildClass.class.isAnnotationPresent(InheritedAnnotation.class));
        System.out.println(<span class="hljs-string">"ChildClassæœ‰@TypeAnnotation: "</span> + 
            ChildClass.class.isAnnotationPresent(TypeAnnotation.class));
        
        <span class="hljs-comment">// æ£€æŸ¥æ–‡æ¡£åŒ–æ³¨è§£</span>
        System.out.println(<span class="hljs-string">"\n2. æ£€æŸ¥æ³¨è§£æ˜¯å¦æ–‡æ¡£åŒ–:"</span>);
        Annotation[] parentAnnotations = ParentClass.class.getAnnotations();
        <span class="hljs-keyword">for</span> (Annotation ann : parentAnnotations) {
            <span class="hljs-type">boolean</span> <span class="hljs-variable">isDocumented</span> <span class="hljs-operator">=</span> ann.annotationType()
                .isAnnotationPresent(Documented.class);
            System.out.println(ann.annotationType().getSimpleName() + 
                <span class="hljs-string">" æ˜¯å¦æ–‡æ¡£åŒ–: "</span> + isDocumented);
        }
        
        <span class="hljs-comment">// åå°„è·å–æ³¨è§£ä¿¡æ¯</span>
        System.out.println(<span class="hljs-string">"\n3. åå°„è·å–æ³¨è§£è¯¦ç»†ä¿¡æ¯:"</span>);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> ParentClass.class.getMethod(<span class="hljs-string">"method"</span>, String.class);
            
            <span class="hljs-comment">// æ–¹æ³•ä¸Šçš„æ³¨è§£</span>
            System.out.println(<span class="hljs-string">"æ–¹æ³•æ³¨è§£:"</span>);
            <span class="hljs-keyword">for</span> (Annotation ann : method.getAnnotations()) {
                System.out.println(<span class="hljs-string">"  - "</span> + ann.annotationType().getSimpleName());
                <span class="hljs-keyword">if</span> (ann <span class="hljs-keyword">instanceof</span> DocumentedAnnotation) {
                    System.out.println(<span class="hljs-string">"    å€¼: "</span> + ((DocumentedAnnotation) ann).value());
                }
            }
            
            <span class="hljs-comment">// å‚æ•°ä¸Šçš„æ³¨è§£</span>
            System.out.println(<span class="hljs-string">"å‚æ•°æ³¨è§£:"</span>);
            Parameter[] parameters = method.getParameters();
            <span class="hljs-keyword">for</span> (Parameter param : parameters) {
                <span class="hljs-keyword">for</span> (Annotation ann : param.getAnnotations()) {
                    System.out.println(<span class="hljs-string">"  - "</span> + ann.annotationType().getSimpleName());
                }
            }
            
        } <span class="hljs-keyword">catch</span> (NoSuchMethodException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h2 data-id="heading-4">äºŒã€è‡ªå®šä¹‰æ³¨è§£å®æˆ˜</h2>
<h3 data-id="heading-5">2.1 åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.annotation.*;
<span class="hljs-keyword">import</span> java.lang.reflect.*;
<span class="hljs-keyword">import</span> java.time.*;
<span class="hljs-keyword">import</span> java.util.*;

<span class="hljs-comment">// è‡ªå®šä¹‰æ³¨è§£å®æˆ˜</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomAnnotations</span> {
    
    <span class="hljs-comment">// 1. éªŒè¯æ³¨è§£ - ç”¨äºå­—æ®µéªŒè¯</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.FIELD)</span>
    <span class="hljs-meta">@interface</span> Validate {
        <span class="hljs-type">int</span> <span class="hljs-title function_">min</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">0</span>;
        <span class="hljs-type">int</span> <span class="hljs-title function_">max</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> Integer.MAX_VALUE;
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">required</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;
        String <span class="hljs-title function_">regex</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
        String <span class="hljs-title function_">message</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"éªŒè¯å¤±è´¥"</span>;
    }
    
    <span class="hljs-comment">// 2. æ•°æ®åº“æ˜ å°„æ³¨è§£ - ç±»ä¼¼JPA</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target({ElementType.TYPE, ElementType.FIELD})</span>
    <span class="hljs-meta">@interface</span> Entity {
        String <span class="hljs-title function_">tableName</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
    }
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.FIELD)</span>
    <span class="hljs-meta">@interface</span> Column {
        String <span class="hljs-title function_">name</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">nullable</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">unique</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;
        <span class="hljs-type">int</span> <span class="hljs-title function_">length</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">255</span>;
    }
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.FIELD)</span>
    <span class="hljs-meta">@interface</span> Id {
        String <span class="hljs-title function_">strategy</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"AUTO"</span>;
    }
    
    <span class="hljs-comment">// 3. APIæ–‡æ¡£æ³¨è§£ - ç±»ä¼¼Swagger</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target({ElementType.METHOD, ElementType.TYPE, ElementType.PARAMETER})</span>
    <span class="hljs-meta">@interface</span> ApiOperation {
        String <span class="hljs-title function_">value</span><span class="hljs-params">()</span>;               <span class="hljs-comment">// æ“ä½œæè¿°</span>
        String <span class="hljs-title function_">notes</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;    <span class="hljs-comment">// è¯¦ç»†è¯´æ˜</span>
        HttpMethod <span class="hljs-title function_">method</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> HttpMethod.GET;
        String[] tags() <span class="hljs-keyword">default</span> {};
        
        <span class="hljs-keyword">enum</span> <span class="hljs-title class_">HttpMethod</span> {
            GET, POST, PUT, DELETE, PATCH
        }
    }
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.PARAMETER)</span>
    <span class="hljs-meta">@interface</span> ApiParam {
        String <span class="hljs-title function_">name</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
        String <span class="hljs-title function_">description</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">required</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;
        String <span class="hljs-title function_">defaultValue</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
    }
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.METHOD)</span>
    <span class="hljs-meta">@interface</span> ApiResponse {
        <span class="hljs-type">int</span> <span class="hljs-title function_">code</span><span class="hljs-params">()</span>;
        String <span class="hljs-title function_">message</span><span class="hljs-params">()</span>;
        Class&lt;?&gt; type() <span class="hljs-keyword">default</span> Void.class;
    }
    
    <span class="hljs-comment">// 4. ç¼“å­˜æ³¨è§£ - ç±»ä¼¼Spring Cache</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.METHOD)</span>
    <span class="hljs-meta">@interface</span> Cacheable {
        String <span class="hljs-title function_">key</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
        <span class="hljs-type">long</span> <span class="hljs-title function_">ttl</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">3600</span>;  <span class="hljs-comment">// ç”Ÿå­˜æ—¶é—´ï¼ˆç§’ï¼‰</span>
        TimeUnit <span class="hljs-title function_">timeUnit</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> TimeUnit.SECONDS;
        
        <span class="hljs-keyword">enum</span> <span class="hljs-title class_">TimeUnit</span> {
            SECONDS, MINUTES, HOURS, DAYS
        }
    }
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.METHOD)</span>
    <span class="hljs-meta">@interface</span> CacheEvict {
        String <span class="hljs-title function_">key</span><span class="hljs-params">()</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">allEntries</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// 5. äº‹åŠ¡æ³¨è§£ - ç±»ä¼¼Spring Transactional</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.METHOD)</span>
    <span class="hljs-meta">@interface</span> Transactional {
        Propagation <span class="hljs-title function_">propagation</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> Propagation.REQUIRED;
        Isolation <span class="hljs-title function_">isolation</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> Isolation.DEFAULT;
        <span class="hljs-type">int</span> <span class="hljs-title function_">timeout</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> -<span class="hljs-number">1</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">readOnly</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;
        Class&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Throwable</span>&gt;[] rollbackFor() <span class="hljs-keyword">default</span> {};
        
        <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Propagation</span> {
            REQUIRED, REQUIRES_NEW, NESTED, SUPPORTS, NOT_SUPPORTED, NEVER, MANDATORY
        }
        
        <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Isolation</span> {
            DEFAULT, READ_UNCOMMITTED, READ_COMMITTED, REPEATABLE_READ, SERIALIZABLE
        }
    }
    
    <span class="hljs-comment">// åº”ç”¨ç¤ºä¾‹ï¼šç”¨æˆ·å®ä½“ç±»</span>
    <span class="hljs-meta">@Entity(tableName = "users")</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
        <span class="hljs-meta">@Id(strategy = "AUTO")</span>
        <span class="hljs-meta">@Column(name = "user_id", nullable = false)</span>
        <span class="hljs-keyword">private</span> Long id;
        
        <span class="hljs-meta">@Validate(required = true, min = 2, max = 50, 
                 regex = "^[a-zA-Z0-9_]+$", 
                 message = "ç”¨æˆ·åå¿…é¡»æ˜¯2-50ä½çš„å­—æ¯æ•°å­—ä¸‹åˆ’çº¿")</span>
        <span class="hljs-meta">@Column(name = "username", nullable = false, unique = true, length = 50)</span>
        <span class="hljs-keyword">private</span> String username;
        
        <span class="hljs-meta">@Validate(required = true, min = 6, 
                 message = "å¯†ç è‡³å°‘6ä½")</span>
        <span class="hljs-meta">@Column(name = "password", nullable = false, length = 100)</span>
        <span class="hljs-keyword">private</span> String password;
        
        <span class="hljs-meta">@Validate(regex = "^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$", 
                 message = "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®")</span>
        <span class="hljs-meta">@Column(name = "email", length = 100)</span>
        <span class="hljs-keyword">private</span> String email;
        
        <span class="hljs-meta">@Validate(min = 0, max = 150, message = "å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´")</span>
        <span class="hljs-meta">@Column(name = "age")</span>
        <span class="hljs-keyword">private</span> Integer age;
        
        <span class="hljs-meta">@Column(name = "created_at", nullable = false)</span>
        <span class="hljs-keyword">private</span> LocalDateTime createdAt;
        
        <span class="hljs-comment">// æ„é€ å™¨ã€getterã€setterçœç•¥...</span>
        
        <span class="hljs-comment">// éªŒè¯æ–¹æ³•</span>
        <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">validate</span><span class="hljs-params">()</span> {
            List&lt;String&gt; errors = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            Field[] fields = <span class="hljs-built_in">this</span>.getClass().getDeclaredFields();
            
            <span class="hljs-keyword">for</span> (Field field : fields) {
                <span class="hljs-keyword">if</span> (field.isAnnotationPresent(Validate.class)) {
                    field.setAccessible(<span class="hljs-literal">true</span>);
                    <span class="hljs-type">Validate</span> <span class="hljs-variable">validate</span> <span class="hljs-operator">=</span> field.getAnnotation(Validate.class);
                    
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-type">Object</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> field.get(<span class="hljs-built_in">this</span>);
                        
                        <span class="hljs-comment">// æ£€æŸ¥å¿…å¡«</span>
                        <span class="hljs-keyword">if</span> (validate.required() &amp;&amp; value == <span class="hljs-literal">null</span>) {
                            errors.add(field.getName() + <span class="hljs-string">": "</span> + validate.message());
                            <span class="hljs-keyword">continue</span>;
                        }
                        
                        <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
                            <span class="hljs-keyword">continue</span>;  <span class="hljs-comment">// éå¿…å¡«å­—æ®µä¸ºnullï¼Œè·³è¿‡å…¶ä»–éªŒè¯</span>
                        }
                        
                        <span class="hljs-comment">// å­—ç¬¦ä¸²ç±»å‹éªŒè¯</span>
                        <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> String) {
                            <span class="hljs-type">String</span> <span class="hljs-variable">strValue</span> <span class="hljs-operator">=</span> (String) value;
                            
                            <span class="hljs-comment">// é•¿åº¦éªŒè¯</span>
                            <span class="hljs-keyword">if</span> (strValue.length() &lt; validate.min() || 
                                strValue.length() &gt; validate.max()) {
                                errors.add(field.getName() + <span class="hljs-string">": "</span> + validate.message());
                            }
                            
                            <span class="hljs-comment">// æ­£åˆ™éªŒè¯</span>
                            <span class="hljs-keyword">if</span> (!validate.regex().isEmpty() &amp;&amp; 
                                !strValue.matches(validate.regex())) {
                                errors.add(field.getName() + <span class="hljs-string">": "</span> + validate.message());
                            }
                        }
                        
                        <span class="hljs-comment">// æ•°å­—ç±»å‹éªŒè¯</span>
                        <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> Number) {
                            <span class="hljs-type">Number</span> <span class="hljs-variable">numValue</span> <span class="hljs-operator">=</span> (Number) value;
                            <span class="hljs-keyword">if</span> (numValue.intValue() &lt; validate.min() || 
                                numValue.intValue() &gt; validate.max()) {
                                errors.add(field.getName() + <span class="hljs-string">": "</span> + validate.message());
                            }
                        }
                        
                    } <span class="hljs-keyword">catch</span> (IllegalAccessException e) {
                        errors.add(<span class="hljs-string">"æ— æ³•è®¿é—®å­—æ®µ: "</span> + field.getName());
                    }
                }
            }
            
            <span class="hljs-keyword">return</span> errors;
        }
    }
    
    <span class="hljs-comment">// åº”ç”¨ç¤ºä¾‹ï¼šç”¨æˆ·æœåŠ¡ç±»</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
        
        <span class="hljs-meta">@ApiOperation(
            value = "åˆ›å»ºç”¨æˆ·",
            notes = "åˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·",
            method = ApiOperation.HttpMethod.POST,
            tags = {"ç”¨æˆ·ç®¡ç†"}
        )</span>
        <span class="hljs-meta">@ApiResponse(code = 200, message = "åˆ›å»ºæˆåŠŸ", type = User.class)</span>
        <span class="hljs-meta">@ApiResponse(code = 400, message = "å‚æ•°é”™è¯¯")</span>
        <span class="hljs-meta">@Transactional(
            propagation = Transactional.Propagation.REQUIRED,
            isolation = Transactional.Isolation.READ_COMMITTED,
            rollbackFor = {RuntimeException.class}
        )</span>
        <span class="hljs-keyword">public</span> User <span class="hljs-title function_">createUser</span><span class="hljs-params">(
            <span class="hljs-meta">@ApiParam(name = "username", description = "ç”¨æˆ·å", required = true)</span>
            String username,
            
            <span class="hljs-meta">@ApiParam(name = "password", description = "å¯†ç ", required = true)</span>
            String password,
            
            <span class="hljs-meta">@ApiParam(name = "email", description = "é‚®ç®±")</span>
            String email
        )</span> {
            <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
            <span class="hljs-comment">// è®¾ç½®å±æ€§...</span>
            
            <span class="hljs-comment">// éªŒè¯</span>
            List&lt;String&gt; errors = user.validate();
            <span class="hljs-keyword">if</span> (!errors.isEmpty()) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"éªŒè¯å¤±è´¥: "</span> + errors);
            }
            
            <span class="hljs-comment">// ä¿å­˜åˆ°æ•°æ®åº“...</span>
            <span class="hljs-keyword">return</span> user;
        }
        
        <span class="hljs-meta">@ApiOperation(value = "æ ¹æ®IDè·å–ç”¨æˆ·", tags = {"ç”¨æˆ·ç®¡ç†"})</span>
        <span class="hljs-meta">@Cacheable(key = "'user:' + #id", ttl = 300)</span>
        <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long id)</span> {
            <span class="hljs-comment">// æ¨¡æ‹Ÿä»æ•°æ®åº“æŸ¥è¯¢</span>
            System.out.println(<span class="hljs-string">"æŸ¥è¯¢æ•°æ®åº“ï¼Œç”¨æˆ·ID: "</span> + id);
            
            <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
            <span class="hljs-comment">// è®¾ç½®å±æ€§...</span>
            <span class="hljs-keyword">return</span> user;
        }
        
        <span class="hljs-meta">@ApiOperation(value = "åˆ é™¤ç”¨æˆ·", tags = {"ç”¨æˆ·ç®¡ç†"})</span>
        <span class="hljs-meta">@CacheEvict(key = "'user:' + #id")</span>
        <span class="hljs-meta">@Transactional</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(Long id)</span> {
            <span class="hljs-comment">// åˆ é™¤ç”¨æˆ·...</span>
        }
    }
    
    <span class="hljs-comment">// æ³¨è§£å¤„ç†å™¨</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnnotationProcessor</span> {
        
        <span class="hljs-comment">// ç”ŸæˆSQLå»ºè¡¨è¯­å¥</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">generateCreateTableSQL</span><span class="hljs-params">(Class&lt;?&gt; entityClass)</span> {
            <span class="hljs-keyword">if</span> (!entityClass.isAnnotationPresent(Entity.class)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ä¸æ˜¯å®ä½“ç±»"</span>);
            }
            
            <span class="hljs-type">Entity</span> <span class="hljs-variable">entity</span> <span class="hljs-operator">=</span> entityClass.getAnnotation(Entity.class);
            <span class="hljs-type">String</span> <span class="hljs-variable">tableName</span> <span class="hljs-operator">=</span> entity.tableName();
            <span class="hljs-keyword">if</span> (tableName.isEmpty()) {
                tableName = entityClass.getSimpleName().toLowerCase();
            }
            
            <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
            sql.append(<span class="hljs-string">"CREATE TABLE "</span>).append(tableName).append(<span class="hljs-string">" (\n"</span>);
            
            List&lt;String&gt; columns = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            List&lt;String&gt; primaryKeys = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            
            Field[] fields = entityClass.getDeclaredFields();
            <span class="hljs-keyword">for</span> (Field field : fields) {
                <span class="hljs-keyword">if</span> (field.isAnnotationPresent(Column.class)) {
                    <span class="hljs-type">Column</span> <span class="hljs-variable">column</span> <span class="hljs-operator">=</span> field.getAnnotation(Column.class);
                    <span class="hljs-type">String</span> <span class="hljs-variable">columnName</span> <span class="hljs-operator">=</span> column.name().isEmpty() ? 
                        field.getName() : column.name();
                    
                    <span class="hljs-comment">// ç¡®å®šåˆ—ç±»å‹</span>
                    <span class="hljs-type">String</span> <span class="hljs-variable">columnType</span> <span class="hljs-operator">=</span> getColumnType(field.getType());
                    
                    <span class="hljs-comment">// æ„å»ºåˆ—å®šä¹‰</span>
                    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">columnDef</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
                    columnDef.append(<span class="hljs-string">"  "</span>).append(columnName).append(<span class="hljs-string">" "</span>).append(columnType);
                    
                    <span class="hljs-keyword">if</span> (!column.nullable()) {
                        columnDef.append(<span class="hljs-string">" NOT NULL"</span>);
                    }
                    
                    <span class="hljs-keyword">if</span> (column.unique()) {
                        columnDef.append(<span class="hljs-string">" UNIQUE"</span>);
                    }
                    
                    <span class="hljs-keyword">if</span> (field.isAnnotationPresent(Id.class)) {
                        <span class="hljs-type">Id</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> field.getAnnotation(Id.class);
                        primaryKeys.add(columnName);
                        
                        <span class="hljs-keyword">if</span> (<span class="hljs-string">"AUTO"</span>.equals(id.strategy())) {
                            <span class="hljs-keyword">if</span> (<span class="hljs-string">"BIGINT"</span>.equals(columnType)) {
                                columnDef.append(<span class="hljs-string">" AUTO_INCREMENT"</span>);
                            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"INTEGER"</span>.equals(columnType)) {
                                columnDef.append(<span class="hljs-string">" AUTOINCREMENT"</span>);
                            }
                        }
                    }
                    
                    columns.add(columnDef.toString());
                }
            }
            
            sql.append(String.join(<span class="hljs-string">",\n"</span>, columns));
            
            <span class="hljs-comment">// æ·»åŠ ä¸»é”®çº¦æŸ</span>
            <span class="hljs-keyword">if</span> (!primaryKeys.isEmpty()) {
                sql.append(<span class="hljs-string">",\n  PRIMARY KEY ("</span>)
                   .append(String.join(<span class="hljs-string">", "</span>, primaryKeys))
                   .append(<span class="hljs-string">")"</span>);
            }
            
            sql.append(<span class="hljs-string">"\n);"</span>);
            <span class="hljs-keyword">return</span> sql.toString();
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getColumnType</span><span class="hljs-params">(Class&lt;?&gt; fieldType)</span> {
            <span class="hljs-keyword">if</span> (fieldType == String.class) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"VARCHAR(255)"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fieldType == Long.class || fieldType == <span class="hljs-type">long</span>.class) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"BIGINT"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fieldType == Integer.class || fieldType == <span class="hljs-type">int</span>.class) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"INTEGER"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fieldType == Double.class || fieldType == <span class="hljs-type">double</span>.class) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"DOUBLE"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fieldType == Float.class || fieldType == <span class="hljs-type">float</span>.class) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"FLOAT"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fieldType == Boolean.class || fieldType == <span class="hljs-type">boolean</span>.class) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"BOOLEAN"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fieldType == LocalDateTime.class) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"TIMESTAMP"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fieldType == Date.class) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"DATETIME"</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"TEXT"</span>;
        }
        
        <span class="hljs-comment">// ç”ŸæˆAPIæ–‡æ¡£</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">generateApiDocumentation</span><span class="hljs-params">(Class&lt;?&gt; serviceClass)</span> {
            <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">doc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
            doc.append(<span class="hljs-string">"# APIæ–‡æ¡£\n\n"</span>);
            
            Method[] methods = serviceClass.getDeclaredMethods();
            <span class="hljs-keyword">for</span> (Method method : methods) {
                <span class="hljs-keyword">if</span> (method.isAnnotationPresent(ApiOperation.class)) {
                    <span class="hljs-type">ApiOperation</span> <span class="hljs-variable">operation</span> <span class="hljs-operator">=</span> method.getAnnotation(ApiOperation.class);
                    
                    doc.append(<span class="hljs-string">"## "</span>).append(operation.value()).append(<span class="hljs-string">"\n\n"</span>);
                    doc.append(<span class="hljs-string">"**æ–¹æ³•**: "</span>).append(operation.method()).append(<span class="hljs-string">"\n\n"</span>);
                    
                    <span class="hljs-keyword">if</span> (!operation.notes().isEmpty()) {
                        doc.append(<span class="hljs-string">"**æè¿°**: "</span>).append(operation.notes()).append(<span class="hljs-string">"\n\n"</span>);
                    }
                    
                    <span class="hljs-keyword">if</span> (operation.tags().length &gt; <span class="hljs-number">0</span>) {
                        doc.append(<span class="hljs-string">"**æ ‡ç­¾**: "</span>).append(String.join(<span class="hljs-string">", "</span>, operation.tags())).append(<span class="hljs-string">"\n\n"</span>);
                    }
                    
                    <span class="hljs-comment">// å‚æ•°</span>
                    Parameter[] parameters = method.getParameters();
                    <span class="hljs-keyword">if</span> (parameters.length &gt; <span class="hljs-number">0</span>) {
                        doc.append(<span class="hljs-string">"### å‚æ•°\n\n"</span>);
                        doc.append(<span class="hljs-string">"| å‚æ•°å | æè¿° | å¿…å¡« | é»˜è®¤å€¼ |\n"</span>);
                        doc.append(<span class="hljs-string">"|--------|------|------|--------|\n"</span>);
                        
                        <span class="hljs-keyword">for</span> (Parameter param : parameters) {
                            <span class="hljs-keyword">if</span> (param.isAnnotationPresent(ApiParam.class)) {
                                <span class="hljs-type">ApiParam</span> <span class="hljs-variable">apiParam</span> <span class="hljs-operator">=</span> param.getAnnotation(ApiParam.class);
                                <span class="hljs-type">String</span> <span class="hljs-variable">paramName</span> <span class="hljs-operator">=</span> apiParam.name().isEmpty() ? 
                                    param.getName() : apiParam.name();
                                
                                doc.append(<span class="hljs-string">"| "</span>).append(paramName)
                                   .append(<span class="hljs-string">" | "</span>).append(apiParam.description())
                                   .append(<span class="hljs-string">" | "</span>).append(apiParam.required() ? <span class="hljs-string">"æ˜¯"</span> : <span class="hljs-string">"å¦"</span>)
                                   .append(<span class="hljs-string">" | "</span>).append(apiParam.defaultValue())
                                   .append(<span class="hljs-string">" |\n"</span>);
                            }
                        }
                        doc.append(<span class="hljs-string">"\n"</span>);
                    }
                    
                    <span class="hljs-comment">// å“åº”</span>
                    ApiResponse[] responses = method.getAnnotationsByType(ApiResponse.class);
                    <span class="hljs-keyword">if</span> (responses.length &gt; <span class="hljs-number">0</span>) {
                        doc.append(<span class="hljs-string">"### å“åº”\n\n"</span>);
                        doc.append(<span class="hljs-string">"| çŠ¶æ€ç  | æè¿° | æ•°æ®ç±»å‹ |\n"</span>);
                        doc.append(<span class="hljs-string">"|--------|------|----------|\n"</span>);
                        
                        <span class="hljs-keyword">for</span> (ApiResponse response : responses) {
                            doc.append(<span class="hljs-string">"| "</span>).append(response.code())
                               .append(<span class="hljs-string">" | "</span>).append(response.message())
                               .append(<span class="hljs-string">" | "</span>).append(response.type().getSimpleName())
                               .append(<span class="hljs-string">" |\n"</span>);
                        }
                        doc.append(<span class="hljs-string">"\n"</span>);
                    }
                }
            }
            
            <span class="hljs-keyword">return</span> doc.toString();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== è‡ªå®šä¹‰æ³¨è§£å®æˆ˜ ===\n"</span>);
        
        <span class="hljs-comment">// 1. ç”Ÿæˆå»ºè¡¨SQL</span>
        System.out.println(<span class="hljs-string">"1. ç”ŸæˆUserå®ä½“å»ºè¡¨SQL:"</span>);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">createTableSQL</span> <span class="hljs-operator">=</span> AnnotationProcessor.generateCreateTableSQL(User.class);
            System.out.println(createTableSQL);
        } <span class="hljs-keyword">catch</span> (IllegalArgumentException e) {
            System.err.println(e.getMessage());
        }
        
        System.out.println(<span class="hljs-string">"\n2. ç”ŸæˆAPIæ–‡æ¡£:"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">apiDoc</span> <span class="hljs-operator">=</span> AnnotationProcessor.generateApiDocumentation(UserService.class);
        System.out.println(apiDoc);
        
        System.out.println(<span class="hljs-string">"3. éªŒè¯æ³¨è§£æ¼”ç¤º:"</span>);
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
        <span class="hljs-comment">// è®¾ç½®éæ³•æ•°æ®...</span>
        <span class="hljs-comment">// List&lt;String&gt; errors = user.validate();</span>
        <span class="hljs-comment">// System.out.println("éªŒè¯é”™è¯¯: " + errors);</span>
    }
}
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€æ³¨è§£å¤„ç†å™¨ï¼ˆAPTï¼‰</h2>
<h3 data-id="heading-7">3.1 ç¼–è¯‘æ—¶æ³¨è§£å¤„ç†å™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.annotation.processing.*;
<span class="hljs-keyword">import</span> javax.lang.model.*;
<span class="hljs-keyword">import</span> javax.lang.model.element.*;
<span class="hljs-keyword">import</span> javax.tools.*;
<span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.util.stream.*;

<span class="hljs-comment">/**
 * ç¼–è¯‘æ—¶æ³¨è§£å¤„ç†å™¨ç¤ºä¾‹
 * éœ€è¦é…ç½®ï¼š
 * 1. åˆ›å»ºMETA-INF/services/javax.annotation.processing.Processoræ–‡ä»¶
 * 2. æ–‡ä»¶å†…å®¹ï¼šcom.example.MyAnnotationProcessor
 * 3. ä½¿ç”¨javac -processor com.example.MyAnnotationProcessorç¼–è¯‘
 */</span>
<span class="hljs-meta">@SupportedAnnotationTypes("com.example.*")</span>
<span class="hljs-meta">@SupportedSourceVersion(SourceVersion.RELEASE_11)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnnotationProcessorExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProcessor</span> {
    
    <span class="hljs-keyword">private</span> Filer filer;
    <span class="hljs-keyword">private</span> Messager messager;
    <span class="hljs-keyword">private</span> Elements elementUtils;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ProcessingEnvironment processingEnv)</span> {
        <span class="hljs-built_in">super</span>.init(processingEnv);
        filer = processingEnv.getFiler();
        messager = processingEnv.getMessager();
        elementUtils = processingEnv.getElementUtils();
        
        messager.printMessage(Diagnostic.Kind.NOTE, <span class="hljs-string">"æ³¨è§£å¤„ç†å™¨åˆå§‹åŒ–å®Œæˆ"</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">process</span><span class="hljs-params">(Set&lt;? extends TypeElement&gt; annotations, 
                          RoundEnvironment roundEnv)</span> {
        
        <span class="hljs-comment">// å¤„ç†Builderæ³¨è§£</span>
        <span class="hljs-keyword">for</span> (Element element : roundEnv.getElementsAnnotatedWith(Builder.class)) {
            <span class="hljs-keyword">if</span> (element.getKind() == ElementKind.CLASS) {
                generateBuilderClass((TypeElement) element);
            }
        }
        
        <span class="hljs-comment">// å¤„ç†Singletonæ³¨è§£</span>
        <span class="hljs-keyword">for</span> (Element element : roundEnv.getElementsAnnotatedWith(Singleton.class)) {
            <span class="hljs-keyword">if</span> (element.getKind() == ElementKind.CLASS) {
                generateSingletonCode((TypeElement) element);
            }
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-comment">// å®šä¹‰Builderæ³¨è§£</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.SOURCE)</span>  <span class="hljs-comment">// ä»…æºç çº§åˆ«</span>
    <span class="hljs-meta">@Target(ElementType.TYPE)</span>
    <span class="hljs-meta">@interface</span> Builder {
        String <span class="hljs-title function_">builderClassName</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
    }
    
    <span class="hljs-comment">// å®šä¹‰Singletonæ³¨è§£</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.SOURCE)</span>
    <span class="hljs-meta">@Target(ElementType.TYPE)</span>
    <span class="hljs-meta">@interface</span> Singleton {
        String <span class="hljs-title function_">instanceName</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"INSTANCE"</span>;
    }
    
    <span class="hljs-comment">// ç¤ºä¾‹ï¼šè¢«æ³¨è§£çš„ç±»</span>
    <span class="hljs-meta">@Builder(builderClassName = "PersonBuilder")</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;
        
        <span class="hljs-comment">// éœ€è¦æ— å‚æ„é€ å™¨</span>
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}
        
        <span class="hljs-comment">// getters and setters...</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> { <span class="hljs-built_in">this</span>.name = name; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> { <span class="hljs-built_in">this</span>.age = age; }
    }
    
    <span class="hljs-meta">@Singleton(instanceName = "LOGGER")</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(String message)</span> {
            System.out.println(message);
        }
    }
    
    <span class="hljs-comment">// ç”ŸæˆBuilderç±»</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">generateBuilderClass</span><span class="hljs-params">(TypeElement classElement)</span> {
        <span class="hljs-type">Builder</span> <span class="hljs-variable">builderAnnotation</span> <span class="hljs-operator">=</span> classElement.getAnnotation(Builder.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> classElement.getSimpleName().toString();
        <span class="hljs-type">String</span> <span class="hljs-variable">builderClassName</span> <span class="hljs-operator">=</span> builderAnnotation.builderClassName().isEmpty() ? 
            className + <span class="hljs-string">"Builder"</span> : builderAnnotation.builderClassName();
        
        <span class="hljs-type">String</span> <span class="hljs-variable">packageName</span> <span class="hljs-operator">=</span> elementUtils.getPackageOf(classElement).toString();
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">JavaFileObject</span> <span class="hljs-variable">builderFile</span> <span class="hljs-operator">=</span> filer.createSourceFile(
                packageName + <span class="hljs-string">"."</span> + builderClassName, classElement);
            
            <span class="hljs-keyword">try</span> (<span class="hljs-type">PrintWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrintWriter</span>(builderFile.openWriter())) {
                <span class="hljs-comment">// ç”ŸæˆåŒ…å£°æ˜</span>
                writer.println(<span class="hljs-string">"package "</span> + packageName + <span class="hljs-string">";"</span>);
                writer.println();
                writer.println(<span class="hljs-string">"// è‡ªåŠ¨ç”Ÿæˆçš„Builderç±»"</span>);
                writer.println(<span class="hljs-string">"// ä¸è¦æ‰‹åŠ¨ä¿®æ”¹æ­¤æ–‡ä»¶"</span>);
                writer.println();
                writer.println(<span class="hljs-string">"public class "</span> + builderClassName + <span class="hljs-string">" {"</span>);
                writer.println();
                
                <span class="hljs-comment">// ç”Ÿæˆç›®æ ‡ç±»å®ä¾‹</span>
                writer.println(<span class="hljs-string">"    private "</span> + className + <span class="hljs-string">" instance = new "</span> + className + <span class="hljs-string">"();"</span>);
                writer.println();
                
                <span class="hljs-comment">// ä¸ºæ¯ä¸ªsetteræ–¹æ³•ç”Ÿæˆbuilderæ–¹æ³•</span>
                List&lt;ExecutableElement&gt; setters = getSetterMethods(classElement);
                <span class="hljs-keyword">for</span> (ExecutableElement setter : setters) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> setter.getSimpleName().toString();
                    <span class="hljs-type">String</span> <span class="hljs-variable">fieldName</span> <span class="hljs-operator">=</span> methodName.substring(<span class="hljs-number">3</span>); <span class="hljs-comment">// å»æ‰"set"</span>
                    fieldName = fieldName.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>).toLowerCase() + fieldName.substring(<span class="hljs-number">1</span>);
                    
                    <span class="hljs-type">VariableElement</span> <span class="hljs-variable">param</span> <span class="hljs-operator">=</span> setter.getParameters().get(<span class="hljs-number">0</span>);
                    <span class="hljs-type">String</span> <span class="hljs-variable">paramType</span> <span class="hljs-operator">=</span> param.asType().toString();
                    <span class="hljs-type">String</span> <span class="hljs-variable">paramName</span> <span class="hljs-operator">=</span> param.getSimpleName().toString();
                    
                    writer.println(<span class="hljs-string">"    public "</span> + builderClassName + <span class="hljs-string">" "</span> + fieldName + 
                                  <span class="hljs-string">"("</span> + paramType + <span class="hljs-string">" "</span> + paramName + <span class="hljs-string">") {"</span>);
                    writer.println(<span class="hljs-string">"        instance."</span> + methodName + <span class="hljs-string">"("</span> + paramName + <span class="hljs-string">");"</span>);
                    writer.println(<span class="hljs-string">"        return this;"</span>);
                    writer.println(<span class="hljs-string">"    }"</span>);
                    writer.println();
                }
                
                <span class="hljs-comment">// ç”Ÿæˆbuildæ–¹æ³•</span>
                writer.println(<span class="hljs-string">"    public "</span> + className + <span class="hljs-string">" build() {"</span>);
                writer.println(<span class="hljs-string">"        return instance;"</span>);
                writer.println(<span class="hljs-string">"    }"</span>);
                writer.println(<span class="hljs-string">"}"</span>);
            }
            
            messager.printMessage(Diagnostic.Kind.NOTE, 
                <span class="hljs-string">"ç”ŸæˆBuilderç±»: "</span> + builderClassName);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            messager.printMessage(Diagnostic.Kind.ERROR, 
                <span class="hljs-string">"æ— æ³•ç”ŸæˆBuilderç±»: "</span> + e.getMessage());
        }
    }
    
    <span class="hljs-comment">// ç”Ÿæˆå•ä¾‹ä»£ç </span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">generateSingletonCode</span><span class="hljs-params">(TypeElement classElement)</span> {
        <span class="hljs-type">Singleton</span> <span class="hljs-variable">singletonAnnotation</span> <span class="hljs-operator">=</span> classElement.getAnnotation(Singleton.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> classElement.getSimpleName().toString();
        <span class="hljs-type">String</span> <span class="hljs-variable">instanceName</span> <span class="hljs-operator">=</span> singletonAnnotation.instanceName();
        
        <span class="hljs-type">String</span> <span class="hljs-variable">packageName</span> <span class="hljs-operator">=</span> elementUtils.getPackageOf(classElement).toString();
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">JavaFileObject</span> <span class="hljs-variable">singletonFile</span> <span class="hljs-operator">=</span> filer.createSourceFile(
                packageName + <span class="hljs-string">"."</span> + className + <span class="hljs-string">"Singleton"</span>, classElement);
            
            <span class="hljs-keyword">try</span> (<span class="hljs-type">PrintWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrintWriter</span>(singletonFile.openWriter())) {
                writer.println(<span class="hljs-string">"package "</span> + packageName + <span class="hljs-string">";"</span>);
                writer.println();
                writer.println(<span class="hljs-string">"// è‡ªåŠ¨ç”Ÿæˆçš„SingletonåŒ…è£…ç±»"</span>);
                writer.println();
                writer.println(<span class="hljs-string">"public class "</span> + className + <span class="hljs-string">"Singleton {"</span>);
                writer.println();
                writer.println(<span class="hljs-string">"    private static final "</span> + className + 
                             <span class="hljs-string">" "</span> + instanceName + <span class="hljs-string">" = new "</span> + className + <span class="hljs-string">"();"</span>);
                writer.println();
                writer.println(<span class="hljs-string">"    private "</span> + className + <span class="hljs-string">"Singleton() {}"</span>);
                writer.println();
                writer.println(<span class="hljs-string">"    public static "</span> + className + <span class="hljs-string">" getInstance() {"</span>);
                writer.println(<span class="hljs-string">"        return "</span> + instanceName + <span class="hljs-string">";"</span>);
                writer.println(<span class="hljs-string">"    }"</span>);
                writer.println(<span class="hljs-string">"}"</span>);
            }
            
            messager.printMessage(Diagnostic.Kind.NOTE,
                <span class="hljs-string">"ç”ŸæˆSingletonåŒ…è£…ç±»: "</span> + className + <span class="hljs-string">"Singleton"</span>);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            messager.printMessage(Diagnostic.Kind.ERROR,
                <span class="hljs-string">"æ— æ³•ç”ŸæˆSingletonç±»: "</span> + e.getMessage());
        }
    }
    
    <span class="hljs-comment">// è·å–æ‰€æœ‰setteræ–¹æ³•</span>
    <span class="hljs-keyword">private</span> List&lt;ExecutableElement&gt; <span class="hljs-title function_">getSetterMethods</span><span class="hljs-params">(TypeElement classElement)</span> {
        <span class="hljs-keyword">return</span> ElementFilter.methodsIn(classElement.getEnclosedElements())
            .stream()
            .filter(method -&gt; method.getSimpleName().toString().startsWith(<span class="hljs-string">"set"</span>))
            .filter(method -&gt; method.getParameters().size() == <span class="hljs-number">1</span>)
            .filter(method -&gt; method.getReturnType().toString().equals(<span class="hljs-string">"void"</span>))
            .collect(Collectors.toList());
    }
    
    <span class="hljs-comment">// æ‰‹åŠ¨ç¼–è¯‘æµ‹è¯•ï¼ˆä¸ä½¿ç”¨APTï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testWithoutAPT</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"=== æ³¨è§£å¤„ç†å™¨æ¨¡æ‹Ÿæ¼”ç¤º ==="</span>);
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿç”Ÿæˆçš„Builderç±»</span>
        System.out.println(<span class="hljs-string">"\n1. æ¨¡æ‹Ÿç”Ÿæˆçš„PersonBuilder:"</span>);
        System.out.println(<span class="hljs-string">"""
            public class PersonBuilder {
                private Person instance = new Person();
                
                public PersonBuilder name(String name) {
                    instance.setName(name);
                    return this;
                }
                
                public PersonBuilder age(int age) {
                    instance.setAge(age);
                    return this;
                }
                
                public Person build() {
                    return instance;
                }
            }
            """</span>);
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿä½¿ç”¨</span>
        System.out.println(<span class="hljs-string">"\n2. Builderä½¿ç”¨ç¤ºä¾‹:"</span>);
        System.out.println(<span class="hljs-string">"""
            Person person = new PersonBuilder()
                .name("å¼ ä¸‰")
                .age(25)
                .build();
            """</span>);
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿç”Ÿæˆçš„Singletonç±»</span>
        System.out.println(<span class="hljs-string">"\n3. æ¨¡æ‹Ÿç”Ÿæˆçš„LoggerSingleton:"</span>);
        System.out.println(<span class="hljs-string">"""
            public class LoggerSingleton {
                private static final Logger LOGGER = new Logger();
                
                private LoggerSingleton() {}
                
                public static Logger getInstance() {
                    return LOGGER;
                }
            }
            """</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        testWithoutAPT();
    }
}
</code></pre>
<h2 data-id="heading-8">å››ã€è¿è¡Œæ—¶æ³¨è§£å¤„ç†æ¡†æ¶</h2>
<h3 data-id="heading-9">4.1 è‡ªå®šä¹‰ä¾èµ–æ³¨å…¥æ¡†æ¶</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.annotation.*;
<span class="hljs-keyword">import</span> java.lang.reflect.*;
<span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.util.concurrent.*;

<span class="hljs-comment">// è‡ªå®šä¹‰ç®€å•çš„IoCå®¹å™¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleIoCContainer</span> {
    
    <span class="hljs-comment">// å®šä¹‰æ³¨è§£</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target({ElementType.TYPE, ElementType.FIELD})</span>
    <span class="hljs-meta">@interface</span> Component {
        String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
        Scope <span class="hljs-title function_">scope</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> Scope.SINGLETON;
        
        <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Scope</span> {
            SINGLETON, PROTOTYPE
        }
    }
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.FIELD)</span>
    <span class="hljs-meta">@interface</span> Autowired {
        String <span class="hljs-title function_">name</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">required</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.METHOD)</span>
    <span class="hljs-meta">@interface</span> PostConstruct {}
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.TYPE)</span>
    <span class="hljs-meta">@interface</span> Configuration {}
    
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.METHOD)</span>
    <span class="hljs-meta">@interface</span> Bean {
        String <span class="hljs-title function_">name</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
        Scope <span class="hljs-title function_">scope</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> Scope.SINGLETON;
    }
    
    <span class="hljs-comment">// IoCå®¹å™¨å®ç°</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Container</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; singletons = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, Class&lt;?&gt;&gt; beanDefinitions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, BeanInfo&gt; beanInfoMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        
        <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BeanInfo</span> {
            Class&lt;?&gt; beanClass;
            Component.Scope scope;
            String name;
            Method factoryMethod;
            Object configInstance;
            
            BeanInfo(Class&lt;?&gt; beanClass, Component.Scope scope, String name) {
                <span class="hljs-built_in">this</span>.beanClass = beanClass;
                <span class="hljs-built_in">this</span>.scope = scope;
                <span class="hljs-built_in">this</span>.name = name;
            }
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scanPackage</span><span class="hljs-params">(String basePackage)</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-comment">// ç®€åŒ–ç‰ˆï¼šæ‰‹åŠ¨æ³¨å†Œï¼Œå®é™…åº”è¯¥æ‰«æç±»è·¯å¾„</span>
            System.out.println(<span class="hljs-string">"æ‰«æåŒ…: "</span> + basePackage);
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">register</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
            <span class="hljs-keyword">if</span> (clazz.isAnnotationPresent(Component.class)) {
                <span class="hljs-type">Component</span> <span class="hljs-variable">component</span> <span class="hljs-operator">=</span> clazz.getAnnotation(Component.class);
                <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> component.value().isEmpty() ? 
                    getBeanName(clazz) : component.value();
                
                <span class="hljs-type">BeanInfo</span> <span class="hljs-variable">beanInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanInfo</span>(
                    clazz, component.scope(), beanName
                );
                beanInfoMap.put(beanName, beanInfo);
                beanDefinitions.put(beanName, clazz);
                
                System.out.println(<span class="hljs-string">"æ³¨å†Œç»„ä»¶: "</span> + beanName + <span class="hljs-string">" -&gt; "</span> + clazz.getName());
            }
        }
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerConfiguration</span><span class="hljs-params">(Class&lt;?&gt; configClass)</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-keyword">if</span> (!configClass.isAnnotationPresent(Configuration.class)) {
                <span class="hljs-keyword">return</span>;
            }
            
            <span class="hljs-type">Object</span> <span class="hljs-variable">configInstance</span> <span class="hljs-operator">=</span> configClass.getDeclaredConstructor().newInstance();
            
            <span class="hljs-keyword">for</span> (Method method : configClass.getDeclaredMethods()) {
                <span class="hljs-keyword">if</span> (method.isAnnotationPresent(Bean.class)) {
                    <span class="hljs-type">Bean</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> method.getAnnotation(Bean.class);
                    <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> bean.name().isEmpty() ? 
                        getBeanName(method.getReturnType()) : bean.name();
                    
                    <span class="hljs-type">BeanInfo</span> <span class="hljs-variable">beanInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanInfo</span>(
                        method.getReturnType(), bean.scope(), beanName
                    );
                    beanInfo.factoryMethod = method;
                    beanInfo.configInstance = configInstance;
                    
                    beanInfoMap.put(beanName, beanInfo);
                    
                    System.out.println(<span class="hljs-string">"æ³¨å†ŒBean: "</span> + beanName + <span class="hljs-string">" -&gt; "</span> + 
                        method.getReturnType().getName());
                }
            }
        }
        
        <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
        <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(String name)</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-comment">// å…ˆä»å•ä¾‹æ± è·å–</span>
            <span class="hljs-keyword">if</span> (singletons.containsKey(name)) {
                <span class="hljs-keyword">return</span> (T) singletons.get(name);
            }
            
            <span class="hljs-type">BeanInfo</span> <span class="hljs-variable">beanInfo</span> <span class="hljs-operator">=</span> beanInfoMap.get(name);
            <span class="hljs-keyword">if</span> (beanInfo == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Beanæœªæ‰¾åˆ°: "</span> + name);
            }
            
            <span class="hljs-comment">// åˆ›å»ºBeanå®ä¾‹</span>
            Object bean;
            <span class="hljs-keyword">if</span> (beanInfo.factoryMethod != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// å·¥å‚æ–¹æ³•åˆ›å»º</span>
                bean = beanInfo.factoryMethod.invoke(beanInfo.configInstance);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æ„é€ å™¨åˆ›å»º</span>
                bean = beanInfo.beanClass.getDeclaredConstructor().newInstance();
            }
            
            <span class="hljs-comment">// ä¾èµ–æ³¨å…¥</span>
            injectDependencies(bean);
            
            <span class="hljs-comment">// è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•</span>
            invokePostConstruct(bean);
            
            <span class="hljs-comment">// æ ¹æ®Scopeå¤„ç†</span>
            <span class="hljs-keyword">if</span> (beanInfo.scope == Component.Scope.SINGLETON) {
                singletons.put(name, bean);
            }
            
            <span class="hljs-keyword">return</span> (T) bean;
        }
        
        <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(Class&lt;T&gt; clazz)</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> getBeanName(clazz);
            <span class="hljs-keyword">return</span> getBean(beanName);
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">injectDependencies</span><span class="hljs-params">(Object bean)</span> <span class="hljs-keyword">throws</span> Exception {
            Class&lt;?&gt; clazz = bean.getClass();
            
            <span class="hljs-keyword">for</span> (Field field : clazz.getDeclaredFields()) {
                <span class="hljs-keyword">if</span> (field.isAnnotationPresent(Autowired.class)) {
                    <span class="hljs-type">Autowired</span> <span class="hljs-variable">autowired</span> <span class="hljs-operator">=</span> field.getAnnotation(Autowired.class);
                    <span class="hljs-type">String</span> <span class="hljs-variable">dependencyName</span> <span class="hljs-operator">=</span> autowired.name().isEmpty() ? 
                        getBeanName(field.getType()) : autowired.name();
                    
                    <span class="hljs-type">Object</span> <span class="hljs-variable">dependency</span> <span class="hljs-operator">=</span> getBean(dependencyName);
                    
                    field.setAccessible(<span class="hljs-literal">true</span>);
                    field.set(bean, dependency);
                    
                    System.out.println(<span class="hljs-string">"æ³¨å…¥ä¾èµ–: "</span> + clazz.getSimpleName() + 
                        <span class="hljs-string">"."</span> + field.getName() + <span class="hljs-string">" -&gt; "</span> + dependencyName);
                }
            }
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invokePostConstruct</span><span class="hljs-params">(Object bean)</span> <span class="hljs-keyword">throws</span> Exception {
            Class&lt;?&gt; clazz = bean.getClass();
            
            <span class="hljs-keyword">for</span> (Method method : clazz.getDeclaredMethods()) {
                <span class="hljs-keyword">if</span> (method.isAnnotationPresent(PostConstruct.class)) {
                    method.setAccessible(<span class="hljs-literal">true</span>);
                    method.invoke(bean);
                    
                    System.out.println(<span class="hljs-string">"è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•: "</span> + 
                        clazz.getSimpleName() + <span class="hljs-string">"."</span> + method.getName());
                }
            }
        }
        
        <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getBeanName</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> clazz.getSimpleName();
            <span class="hljs-keyword">return</span> className.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>).toLowerCase() + className.substring(<span class="hljs-number">1</span>);
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
    <span class="hljs-comment">// å®šä¹‰æœåŠ¡æ¥å£</span>
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {
        String <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(Long userId)</span>;
    }
    
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OrderService</span> {
        String <span class="hljs-title function_">getOrderInfo</span><span class="hljs-params">(Long orderId)</span>;
    }
    
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">EmailService</span> {
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendEmail</span><span class="hljs-params">(String to, String content)</span>;
    }
    
    <span class="hljs-comment">// å®ç°ç±»</span>
    <span class="hljs-meta">@Component("userService")</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
        <span class="hljs-meta">@Autowired</span>
        <span class="hljs-keyword">private</span> EmailService emailService;
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(Long userId)</span> {
            emailService.sendEmail(<span class="hljs-string">"user@example.com"</span>, <span class="hljs-string">"æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯: ID="</span> + userId;
        }
        
        <span class="hljs-meta">@PostConstruct</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"UserServiceåˆå§‹åŒ–å®Œæˆ"</span>);
        }
    }
    
    <span class="hljs-meta">@Component(scope = Component.Scope.PROTOTYPE)</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span> {
        <span class="hljs-meta">@Autowired(required = false)</span>  <span class="hljs-comment">// éå¿…éœ€ä¾èµ–</span>
        <span class="hljs-keyword">private</span> UserService userService;
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getOrderInfo</span><span class="hljs-params">(Long orderId)</span> {
            <span class="hljs-keyword">if</span> (userService != <span class="hljs-literal">null</span>) {
                userService.getUserInfo(<span class="hljs-number">1L</span>);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"è®¢å•ä¿¡æ¯: ID="</span> + orderId;
        }
    }
    
    <span class="hljs-meta">@Component</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmailServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">EmailService</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendEmail</span><span class="hljs-params">(String to, String content)</span> {
            System.out.println(<span class="hljs-string">"å‘é€é‚®ä»¶åˆ° "</span> + to + <span class="hljs-string">": "</span> + content);
        }
    }
    
    <span class="hljs-comment">// é…ç½®ç±»</span>
    <span class="hljs-meta">@Configuration</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppConfig</span> {
        <span class="hljs-meta">@Bean(name = "configBean")</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">configString</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"é…ç½®çš„å­—ç¬¦ä¸²Bean"</span>;
        }
        
        <span class="hljs-meta">@Bean(scope = Bean.Scope.PROTOTYPE)</span>
        <span class="hljs-keyword">public</span> Date <span class="hljs-title function_">currentDate</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨å®¹å™¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"=== è‡ªå®šä¹‰IoCå®¹å™¨æ¼”ç¤º ===\n"</span>);
        
        <span class="hljs-type">Container</span> <span class="hljs-variable">container</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Container</span>();
        
        <span class="hljs-comment">// æ³¨å†Œç»„ä»¶</span>
        container.register(UserServiceImpl.class);
        container.register(OrderServiceImpl.class);
        container.register(EmailServiceImpl.class);
        
        <span class="hljs-comment">// æ³¨å†Œé…ç½®ç±»</span>
        container.registerConfiguration(AppConfig.class);
        
        System.out.println(<span class="hljs-string">"\n=== è·å–Beanæµ‹è¯• ==="</span>);
        
        <span class="hljs-comment">// è·å–å•ä¾‹Bean</span>
        <span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> container.getBean(<span class="hljs-string">"userService"</span>);
        System.out.println(<span class="hljs-string">"ç”¨æˆ·æœåŠ¡: "</span> + userService.getUserInfo(<span class="hljs-number">1L</span>));
        
        <span class="hljs-comment">// è·å–åŸå‹Beanï¼ˆæ¯æ¬¡éƒ½æ˜¯æ–°å®ä¾‹ï¼‰</span>
        <span class="hljs-type">OrderService</span> <span class="hljs-variable">orderService1</span> <span class="hljs-operator">=</span> container.getBean(OrderServiceImpl.class);
        <span class="hljs-type">OrderService</span> <span class="hljs-variable">orderService2</span> <span class="hljs-operator">=</span> container.getBean(OrderServiceImpl.class);
        System.out.println(<span class="hljs-string">"è®¢å•æœåŠ¡å®ä¾‹æ˜¯å¦ç›¸åŒ: "</span> + (orderService1 == orderService2));
        
        <span class="hljs-comment">// è·å–é…ç½®çš„Bean</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">configBean</span> <span class="hljs-operator">=</span> container.getBean(<span class="hljs-string">"configBean"</span>);
        System.out.println(<span class="hljs-string">"é…ç½®Bean: "</span> + configBean);
        
        <span class="hljs-type">Date</span> <span class="hljs-variable">date1</span> <span class="hljs-operator">=</span> container.getBean(Date.class);
        <span class="hljs-type">Date</span> <span class="hljs-variable">date2</span> <span class="hljs-operator">=</span> container.getBean(Date.class);
        System.out.println(<span class="hljs-string">"Dateå®ä¾‹æ˜¯å¦ç›¸åŒ: "</span> + (date1 == date2));
        
        System.out.println(<span class="hljs-string">"\n=== å®¹å™¨çŠ¶æ€ ==="</span>);
        System.out.println(<span class="hljs-string">"å•ä¾‹æ± å¤§å°: "</span> + container.singletons.size());
        System.out.println(<span class="hljs-string">"Beanå®šä¹‰æ•°é‡: "</span> + container.beanInfoMap.size());
    }
}
</code></pre>
<h2 data-id="heading-10">äº”ã€æ³¨è§£æ€§èƒ½ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-11">5.1 æ³¨è§£æ€§èƒ½åˆ†æä¸ä¼˜åŒ–</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.annotation.*;
<span class="hljs-keyword">import</span> java.lang.reflect.*;
<span class="hljs-keyword">import</span> java.util.concurrent.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnnotationPerformance</span> {
    
    <span class="hljs-comment">// æ€§èƒ½æµ‹è¯•æ³¨è§£</span>
    <span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
    <span class="hljs-meta">@Target(ElementType.METHOD)</span>
    <span class="hljs-meta">@interface</span> Benchmark {
        <span class="hljs-type">int</span> <span class="hljs-title function_">iterations</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">1000</span>;
        TimeUnit <span class="hljs-title function_">timeUnit</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> TimeUnit.NANOSECONDS;
    }
    
    <span class="hljs-comment">// ç¼“å­˜æ³¨è§£ä¿¡æ¯ï¼Œé¿å…é‡å¤åå°„</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnnotationCache</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Map&lt;Method, Benchmark&gt; benchmarkCache = 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Benchmark <span class="hljs-title function_">getBenchmarkAnnotation</span><span class="hljs-params">(Method method)</span> {
            <span class="hljs-keyword">return</span> benchmarkCache.computeIfAbsent(method, m -&gt; 
                m.getAnnotation(Benchmark.class));
        }
    }
    
    <span class="hljs-comment">// æ€§èƒ½æµ‹è¯•è¿è¡Œå™¨</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BenchmarkRunner</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">runBenchmarks</span><span class="hljs-params">(Object instance)</span> <span class="hljs-keyword">throws</span> Exception {
            Class&lt;?&gt; clazz = instance.getClass();
            
            <span class="hljs-keyword">for</span> (Method method : clazz.getDeclaredMethods()) {
                <span class="hljs-type">Benchmark</span> <span class="hljs-variable">benchmark</span> <span class="hljs-operator">=</span> AnnotationCache.getBenchmarkAnnotation(method);
                <span class="hljs-keyword">if</span> (benchmark != <span class="hljs-literal">null</span>) {
                    runBenchmark(method, instance, benchmark);
                }
            }
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">runBenchmark</span><span class="hljs-params">(Method method, Object instance, 
                                        Benchmark benchmark)</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-type">int</span> <span class="hljs-variable">iterations</span> <span class="hljs-operator">=</span> benchmark.iterations();
            <span class="hljs-type">TimeUnit</span> <span class="hljs-variable">timeUnit</span> <span class="hljs-operator">=</span> benchmark.timeUnit();
            
            <span class="hljs-comment">// é¢„çƒ­</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                method.invoke(instance);
            }
            
            <span class="hljs-comment">// æ‰§è¡ŒåŸºå‡†æµ‹è¯•</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.nanoTime();
            
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; iterations; i++) {
                method.invoke(instance);
            }
            
            <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> System.nanoTime();
            <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> endTime - startTime;
            
            <span class="hljs-comment">// è½¬æ¢ä¸ºæŒ‡å®šæ—¶é—´å•ä½</span>
            <span class="hljs-type">double</span> <span class="hljs-variable">convertedDuration</span> <span class="hljs-operator">=</span> convertToTimeUnit(duration, timeUnit);
            
            System.out.printf(<span class="hljs-string">"æ–¹æ³• %s: %dæ¬¡è¿­ä»£, æ€»è€—æ—¶: %.2f %s, å¹³å‡è€—æ—¶: %.4f %s%n"</span>,
                method.getName(),
                iterations,
                convertedDuration,
                timeUnit.name().toLowerCase(),
                convertedDuration / iterations,
                timeUnit.name().toLowerCase());
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> <span class="hljs-title function_">convertToTimeUnit</span><span class="hljs-params">(<span class="hljs-type">long</span> nanos, TimeUnit timeUnit)</span> {
            <span class="hljs-keyword">switch</span> (timeUnit) {
                <span class="hljs-keyword">case</span> NANOSECONDS: <span class="hljs-keyword">return</span> nanos;
                <span class="hljs-keyword">case</span> MICROSECONDS: <span class="hljs-keyword">return</span> nanos / <span class="hljs-number">1000.0</span>;
                <span class="hljs-keyword">case</span> MILLISECONDS: <span class="hljs-keyword">return</span> nanos / <span class="hljs-number">1_000_000.0</span>;
                <span class="hljs-keyword">case</span> SECONDS: <span class="hljs-keyword">return</span> nanos / <span class="hljs-number">1_000_000_000.0</span>;
                <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> nanos;
            }
        }
    }
    
    <span class="hljs-comment">// æµ‹è¯•ç±»</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceTest</span> {
        
        <span class="hljs-meta">@Benchmark(iterations = 10000)</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fastMethod</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// å¿«é€Ÿæ–¹æ³•</span>
            Math.sqrt(<span class="hljs-number">123.456</span>);
        }
        
        <span class="hljs-meta">@Benchmark(iterations = 1000, timeUnit = TimeUnit.MICROSECONDS)</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">mediumMethod</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// ä¸­ç­‰é€Ÿåº¦æ–¹æ³•</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
                Math.pow(i, <span class="hljs-number">2</span>);
            }
        }
        
        <span class="hljs-meta">@Benchmark(iterations = 100, timeUnit = TimeUnit.MILLISECONDS)</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">slowMethod</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// æ…¢é€Ÿæ–¹æ³•</span>
            <span class="hljs-keyword">try</span> {
                Thread.sleep(<span class="hljs-number">1</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
        
        <span class="hljs-comment">// æ²¡æœ‰æ³¨è§£çš„æ–¹æ³•ï¼Œä¸ä¼šè¢«æµ‹è¯•</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ignoredMethod</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"è¿™ä¸ªæ–¹æ³•ä¸ä¼šè¢«æµ‹è¯•"</span>);
        }
    }
    
    <span class="hljs-comment">// åå°„æ€§èƒ½å¯¹æ¯”</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReflectionPerformance</span> {
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">comparePerformance</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-type">PerformanceTest</span> <span class="hljs-variable">test</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceTest</span>();
            <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> PerformanceTest.class.getMethod(<span class="hljs-string">"fastMethod"</span>);
            
            <span class="hljs-type">int</span> <span class="hljs-variable">iterations</span> <span class="hljs-operator">=</span> <span class="hljs-number">100000</span>;
            
            <span class="hljs-comment">// ç›´æ¥è°ƒç”¨</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.nanoTime();
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; iterations; i++) {
                test.fastMethod();
            }
            <span class="hljs-type">long</span> <span class="hljs-variable">directTime</span> <span class="hljs-operator">=</span> System.nanoTime() - start;
            
            <span class="hljs-comment">// åå°„è°ƒç”¨ï¼ˆæ— ç¼“å­˜ï¼‰</span>
            start = System.nanoTime();
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; iterations; i++) {
                method.invoke(test);
            }
            <span class="hljs-type">long</span> <span class="hljs-variable">reflectionTime</span> <span class="hljs-operator">=</span> System.nanoTime() - start;
            
            <span class="hljs-comment">// åå°„è°ƒç”¨ï¼ˆè®¾ç½®å¯è®¿é—®ï¼‰</span>
            method.setAccessible(<span class="hljs-literal">true</span>);
            start = System.nanoTime();
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; iterations; i++) {
                method.invoke(test);
            }
            <span class="hljs-type">long</span> <span class="hljs-variable">accessibleTime</span> <span class="hljs-operator">=</span> System.nanoTime() - start;
            
            System.out.println(<span class="hljs-string">"=== åå°„æ€§èƒ½å¯¹æ¯” ==="</span>);
            System.out.printf(<span class="hljs-string">"ç›´æ¥è°ƒç”¨: %d ns%n"</span>, directTime);
            System.out.printf(<span class="hljs-string">"åå°„è°ƒç”¨: %d ns (æ…¢%.1få€)%n"</span>, 
                reflectionTime, reflectionTime * <span class="hljs-number">1.0</span> / directTime);
            System.out.printf(<span class="hljs-string">"åå°„(setAccessible): %d ns (æ…¢%.1få€)%n"</span>, 
                accessibleTime, accessibleTime * <span class="hljs-number">1.0</span> / directTime);
        }
    }
    
    <span class="hljs-comment">// æ³¨è§£æœ€ä½³å®è·µ</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BestPractices</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showBestPractices</span><span class="hljs-params">()</span> {
            System.out.println(<span class="hljs-string">"\n=== æ³¨è§£æœ€ä½³å®è·µ ==="</span>);
            
            System.out.println(<span class="hljs-string">"\n1. åˆç†é€‰æ‹©ä¿ç•™ç­–ç•¥:"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ @Retention(SOURCE) - ç¼–è¯‘æ—¶å¤„ç†ï¼Œä¸å½±å“è¿è¡Œæ—¶æ€§èƒ½"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ @Retention(CLASS) - é»˜è®¤ç­–ç•¥ï¼Œç”Ÿæˆç±»æ–‡ä»¶ä½†ä¸åŠ è½½"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ @Retention(RUNTIME) - è¿è¡Œæ—¶å¯ç”¨ï¼Œä½†æœ‰æ€§èƒ½å¼€é”€"</span>);
            
            System.out.println(<span class="hljs-string">"\n2. æ˜ç¡®æŒ‡å®šç›®æ ‡:"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ ä½¿ç”¨@Targeté™åˆ¶æ³¨è§£ä½¿ç”¨ä½ç½®"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ é¿å…è¿‡äºå®½æ³›çš„ç›®æ ‡èŒƒå›´"</span>);
            
            System.out.println(<span class="hljs-string">"\n3. è®¾è®¡ç®€æ´çš„æ³¨è§£:"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ æä¾›åˆç†çš„é»˜è®¤å€¼"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ é¿å…å¤æ‚çš„å±æ€§ç±»å‹"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ ä¿æŒæ³¨è§£çš„å•ä¸€èŒè´£"</span>);
            
            System.out.println(<span class="hljs-string">"\n4. æ€§èƒ½ä¼˜åŒ–:"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ ç¼“å­˜æ³¨è§£ä¿¡æ¯ï¼Œé¿å…é‡å¤åå°„"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ ä½¿ç”¨ç¼–è¯‘æ—¶æ³¨è§£å¤„ç†(APT)å‡å°‘è¿è¡Œæ—¶å¼€é”€"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ è€ƒè™‘ä½¿ç”¨Annotation Inheritanceå‡å°‘é‡å¤æ³¨è§£"</span>);
            
            System.out.println(<span class="hljs-string">"\n5. æ–‡æ¡£å’Œå‘½å:"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ ä¸ºè‡ªå®šä¹‰æ³¨è§£æä¾›è¯¦ç»†çš„JavaDoc"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ ä½¿ç”¨ä¸€è‡´çš„å‘½åè§„èŒƒ"</span>);
            System.out.println(<span class="hljs-string">"   â€¢ è€ƒè™‘å‘åå…¼å®¹æ€§"</span>);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"=== æ³¨è§£æ€§èƒ½ä¸æœ€ä½³å®è·µ ===\n"</span>);
        
        <span class="hljs-comment">// è¿è¡ŒåŸºå‡†æµ‹è¯•</span>
        <span class="hljs-type">PerformanceTest</span> <span class="hljs-variable">test</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceTest</span>();
        BenchmarkRunner.runBenchmarks(test);
        
        System.out.println();
        
        <span class="hljs-comment">// åå°„æ€§èƒ½å¯¹æ¯”</span>
        ReflectionPerformance.comparePerformance();
        
        <span class="hljs-comment">// æœ€ä½³å®è·µ</span>
        BestPractices.showBestPractices();
    }
}
</code></pre>
<h2 data-id="heading-12">æ€»ç»“ï¼šæ³¨è§£çš„å¼ºå¤§ä¸æ™ºæ…§</h2>
<h3 data-id="heading-13">æ³¨è§£çš„æ ¸å¿ƒä»·å€¼ï¼š</h3>
<ol>
<li><strong>å…ƒç¼–ç¨‹èƒ½åŠ›</strong>ï¼šåœ¨ä»£ç ä¸­æ·»åŠ å…ƒæ•°æ®ï¼Œå½±å“ç¼–è¯‘å’Œè¿è¡Œæ—¶è¡Œä¸º</li>
<li><strong>å‡å°‘æ ·æ¿ä»£ç </strong>ï¼šé€šè¿‡æ³¨è§£å¤„ç†å™¨è‡ªåŠ¨ç”Ÿæˆä»£ç </li>
<li><strong>æ¡†æ¶é›†æˆ</strong>ï¼šSpringã€Hibernateç­‰æ¡†æ¶çš„æ ¸å¿ƒæœºåˆ¶</li>
<li><strong>ç¼–è¯‘æ—¶æ£€æŸ¥</strong>ï¼šæä¾›é¢å¤–çš„ç¼–è¯‘æ—¶éªŒè¯</li>
</ol>
<h3 data-id="heading-14">å®ç”¨å»ºè®®ï¼š</h3>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨å†…ç½®æ³¨è§£</strong>ï¼šå¦‚@Overrideã€@Deprecatedã€@FunctionalInterface</li>
<li><strong>åˆç†é€‰æ‹©ä¿ç•™ç­–ç•¥</strong>ï¼šé¿å…ä¸å¿…è¦çš„è¿è¡Œæ—¶å¼€é”€</li>
<li><strong>è€ƒè™‘æ€§èƒ½å½±å“</strong>ï¼šåå°„è°ƒç”¨æ¯”ç›´æ¥è°ƒç”¨æ…¢10-100å€</li>
<li><strong>åˆ©ç”¨ç¼–è¯‘æ—¶å¤„ç†</strong>ï¼šAPTå¯ä»¥ç”Ÿæˆä»£ç ï¼Œå‡å°‘è¿è¡Œæ—¶è´Ÿæ‹…</li>
</ol>
<h3 data-id="heading-15">é€‚ç”¨åœºæ™¯ï¼š</h3>
<ul>
<li>âœ…Â <strong>é€‚åˆä½¿ç”¨æ³¨è§£</strong>ï¼šæ¡†æ¶æ‰©å±•ã€ä»£ç ç”Ÿæˆã€é…ç½®ç®¡ç†ã€æ–‡æ¡£ç”Ÿæˆ</li>
<li>âš ï¸Â <strong>è°¨æ…ä½¿ç”¨æ³¨è§£</strong>ï¼šæ€§èƒ½æ•æ„Ÿä»£ç ã€ç®€å•é€»è¾‘ã€è¿‡åº¦è®¾è®¡</li>
<li>âŒÂ <strong>é¿å…ä½¿ç”¨æ³¨è§£</strong>ï¼šå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€æ›¿ä»£è®¾è®¡æ¨¡å¼</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è½¬è½¬å¤§æ•°æ®ä¸AIâ€”â€”æ•°æ®æ²»ç†å®‰å…¨æ‰“æ ‡å®è·µ]]></title>    <link>https://juejin.cn/post/7585138968166776868</link>    <guid>https://juejin.cn/post/7585138968166776868</guid>    <pubDate>2025-12-19T05:46:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585138968166776868" data-draft-id="7585112748897288235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è½¬è½¬å¤§æ•°æ®ä¸AIâ€”â€”æ•°æ®æ²»ç†å®‰å…¨æ‰“æ ‡å®è·µ"/> <meta itemprop="keywords" content="å¤§æ•°æ®,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T05:46:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/606586148237431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è½¬è½¬å¤§æ•°æ®ä¸AIâ€”â€”æ•°æ®æ²»ç†å®‰å…¨æ‰“æ ‡å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/606586148237431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:46:48.000Z" title="Fri Dec 19 2025 05:46:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€å¯¼è¯»</h3>
<p>è¿™æ¬¡ä¸»è¦åˆ†äº«ä»‹ç»çš„æ˜¯è½¬è½¬åœ¨å¤§æ•°æ®æ²»ç†æ–¹é¢åº”ç”¨AIå¤§æ¨¡å‹æŠ€æœ¯å®ç°çš„è‡ªåŠ¨å®‰å…¨æ‰“æ ‡ï¼Œæœ¬æ–‡ä¸»è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢é€ä¸€ä»‹ç»ï¼Œé¦–å…ˆæ˜¯åº”ç”¨èƒŒæ™¯ä»‹ç»ã€æŠ€æœ¯æ–¹æ¡ˆçš„å®ç°ä¸è½åœ°ã€ä»¥åŠå¯¹æ•´ä¸ªåº”ç”¨çš„ä¼˜åŒ–å®è·µï¼Œæœ€åå¯¹åç»­çš„è§„åˆ’å’Œå±•æœ›è¿›è¡Œæ€»ç»“ï¼Œå¸Œæœ›è¯»è€…å¯ä»¥ä»æœ¬æ–‡ä¸­è·å–åˆ°å‰è¿›çš„åŠ¨åŠ›ã€‚</p>
<h3 data-id="heading-1">äºŒã€åº”ç”¨èƒŒæ™¯ä»‹ç»</h3>
<h4 data-id="heading-2">2.1 ä»€ä¹ˆæ˜¯æ•°æ®æ²»ç†ï¼Œä¸ºä»€ä¹ˆè¦åšå®‰å…¨æ‰“æ ‡</h4>
<h5 data-id="heading-3">2.1.1 æ•°æ®æ²»ç†æ˜¯ä»€ä¹ˆ</h5>
<p>æ•°æ®æ²»ç†æ˜¯ä»ä¸šåŠ¡æµåˆ°ä¿¡æ¯æµã€æ•°æ®æµã€æ•°æ®åº“è¡¨çš„æµè½¬ã€‚ä¸šåŠ¡ç³»ç»Ÿä¸­çš„ç‰©ç†è¡¨å­—æ®µï¼Œå“ªæ€•çŸ­æœŸå†…ç”±äºæ— æ³•æ”¹å˜ä¸šåŠ¡ç³»ç»Ÿä¸èƒ½å®Œæˆæºå¤´æ²»ç†ï¼Œä¹Ÿè¦åœ¨æ•°ä»“çš„ODSå±‚å®Œæˆæ²»ç†ï¼Œå½¢æˆèƒ½è¿˜åŸä¸šåŠ¡æœ¬è´¨çš„æ•°æ®æ˜ åƒï¼Œæ€»ä½“æ¥è¯´ï¼Œæ•´ä¸ªæ•°æ®æ²»ç†çš„æ ¸å¿ƒåŠ¨ä½œåŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯<strong>ä¸šåŠ¡æ•°æ®çš„æ²»ç†</strong>ï¼ˆå½¢æˆçœŸå®æ•°æ®æ˜ åƒï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯<strong>åˆ†æä½“ç³»çš„æ²»ç†</strong>ï¼ˆåŸºäºæ•°æ®æ˜ åƒé¢å‘ç®¡æ§ç›®æ ‡åšåˆç†æ€§çš„åˆ†æç»“æ„è®¾è®¡åŠå®ç°ï¼‰ã€‚</p>
<p>å®‰å…¨æ‰“æ ‡ä¹Ÿæ˜¯æ•°æ®æ²»ç†çš„ä¸€ä¸ªç¯èŠ‚ï¼Œä¸ºäº†æ»¡è¶³å®‰å…¨ç®¡æ§ï¼Œåˆè§„ä½¿ç”¨ï¼Œæƒé™éš”ç¦»éœ€è¦å¯¹æ¯ä¸€å¼ è¡¨å’Œå­—æ®µåˆç†æ‰“ä¸Šæ ‡è®°ï¼Œå®ƒä¹Ÿæ˜¯å±äºæ•°æ®æ²»ç†ä¸¤å¤§ä½“ç³»ä¸­çš„åˆ†æä½“ç³»æ²»ç†ä¸­çš„ä¸€ä¸ªé‡è¦ç¯èŠ‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5a245d76b7d40af86ee604f5fb040f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=RiHjXCcVET3iZgyijRdh%2FZw%2Br8Y%3D" alt="" loading="lazy"/></p>
<p>å¯¹äºæ•°æ®æ²»ç†æ ¸å¿ƒå†…å®¹å¯æ¦‚æ‹¬ä¸ºä¸‰å—å†…å®¹ï¼šæ•°æ®æ²»ç†ä½“ç³»è®¾è®¡ã€ä¸šåŠ¡æ•°æ®æ·±åŒ–æ²»ç†ã€åˆ†ææ•°æ®ä½“ç³»è®¾è®¡</p>
<ul>
<li><strong>æ•°æ®æ²»ç†ä½“ç³»è®¾è®¡</strong>ï¼šä¸»è¦è®¾è®¡æ•°æ®æ¶æ„ã€æ•°æ®æ ‡å‡†ã€ä¸»æ•°æ®ï¼Œé€šè¿‡æœºåˆ¶è®¾è®¡å›ºåŒ–ä¸“é¡¹æ²»ç†èƒ½åŠ›ï¼Œä¿éšœæ•°æ®æ²»ç†æ´»åŠ¨æŒç»­å¼€å±•ã€‚</li>
<li><strong>ä¸šåŠ¡æ•°æ®æ·±åŒ–æ²»ç†</strong>ï¼šèµ„äº§ç›®å½•ä¸»è¦å˜æ¸…ä¸šåŠ¡æ•°æ®èµ„äº§ï¼ˆåˆ’åˆ†è´£ä»»ç”°ï¼‰ï¼Œæ•°æ®æ¨¡å‹å®šä¹‰äº†æ•°æ®å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼ˆæŒ‡å¯¼ç³»ç»Ÿå¼€å‘ï¼‰ï¼Œæ•°æ®æ ‡å‡†è®¾è®¡ç»Ÿä¸€äº†æ•°æ®è¯­è¨€æ¶ˆé™¤æ­§ä¹‰ï¼Œæ•°æ®åˆ†å¸ƒå®šä¹‰ç”¨äºè¯†åˆ«æ•°æ®çš„æ¥é¾™å»è„‰ï¼ˆå®šä½æ•°æ®é—®é¢˜ï¼‰ï¼Œæ•°æ®è´¨é‡ç”¨äºæ”¹å–„é‡ç‚¹é¢†åŸŸæ•°æ®è´¨é‡ä¸“é¡¹æå‡ã€‚</li>
<li><strong>åˆ†ææ•°æ®ä½“ç³»è®¾è®¡</strong>ï¼šæŒ‡æ ‡ç®¡ç†ä½“ç³»å’Œè¿è¥ç»©æ•ˆæŒ‡æ ‡ä½“ç³»è®¾è®¡ä¸»è¦ç”¨äºç†æ¸…åˆ†ææ•°æ®èµ„äº§ï¼Œæ•°æ®åº”ç”¨éœ€æ±‚è®¾è®¡ä¸»è¦ä½œç”¨å¸®åŠ©æ•°æ®èƒ½åŠ›ä¾›ç»™è®¾è®¡ã€‚</li>
</ul>
<h5 data-id="heading-4">2.1.2 ä¸ºä»€ä¹ˆè¦åšå®‰å…¨æ‰“æ ‡</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78a8e0cb772b4b2a801b075c9a47d33b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=%2FWV%2BBeN5PAphXOFaxcfsqmxBxbM%3D" alt="" loading="lazy"/></p>
<ul>
<li>å®‰å…¨æ‰“æ ‡ä¸»è¦å—åˆ¶äº<strong>ç®¡æ§</strong>çš„éœ€è¦ï¼Œå®‰å…¨ç­‰çº§æ˜¯çµæ´»çš„å¯æ”¯æŒè¿½åŠ é¢å¤–çš„ç­‰çº§è§„èŒƒåˆ¶åº¦ï¼Œå½“æŸä¸ªè¡¨æœ‰äº†ç›¸åº”çš„å®‰å…¨ç­‰çº§ï¼Œå°±å¯ä»¥æ ¹æ®ç­‰çº§çš„ä¸åŒæ¥æˆäºˆç›¸åº”çš„æƒé™ç»™ä¸šåŠ¡å‡å°‘ä¸å¿…è¦çš„å®‰å…¨é—®é¢˜ã€‚</li>
<li>å®‰å…¨æ‰“æ ‡ä¸€æ–¹é¢æ˜¯ç®¡ç†å¹¶æ§åˆ¶äº†æŸä¸ªä¸šåŠ¡çš„æˆæƒç­‰çº§ï¼Œå¦ä¸€æ–¹é¢ä»–ä¹Ÿæ˜¯åˆ†ææ²»ç†ä½“ç³»ä¸­çš„é‡è¦ä¸€ç¯ï¼Œå®ƒæ”¯æ’‘äº†åˆ†ææ²»ç†çš„å®‰å…¨åŸºçŸ³ï¼Œåˆ¶å®šäº†åˆ†æè§„èŒƒçš„æ¡ä»¶ã€‚</li>
</ul>
<h4 data-id="heading-5">2.2 AIå®‰å…¨æ‰“æ ‡è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h4>
<p>AIå®‰å…¨æ‰“æ ‡æ”¯æŒè¡¨å’Œå­—æ®µç²’åº¦çš„æ‰“æ ‡ï¼Œå¹¶æ”¯æŒè¡¨å’Œå­—æ®µå¢é‡å˜æ›´æ•è·é€»è¾‘ï¼Œå¯¹äºäººå·¥æ‰“æ ‡æ¥è®²ï¼Œä¸ä½†æ‰“æ ‡ç»“æœæ…¢ï¼Œè€Œä¸”ä¼šå‡ºç°å¾ˆå¤šä¸»è§‚è‡†æ–­å¯¼è‡´è¡¨æ‰“æ ‡çš„å®‰å…¨ç­‰çº§ä¸æ­£ç¡®ï¼Œ åœ¨AIæ‰“æ ‡çš„ç»Ÿä¸€å…ƒæ•°æ®ç®¡ç†ä¸‹ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘è¿™ä¸€é—®é¢˜ï¼Œä½¿æ­£ç¡®ç‡å¤§å¤§æé«˜ï¼ŒAIæ‰“æ ‡ç»“æœä¸ä½†é€Ÿåº¦å¿«ï¼Œå¯è‡ªåŠ¨åŒ–æ‰“æ ‡æˆæœ¬å¤§å¤§é™ä½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffc30ef289f041309f744d377ae51d8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=XxZdoo%2B7%2FH9F5u%2FuRYVDGdFPHRY%3D" alt="" loading="lazy"/></p>
<ul>
<li>åŠæ—¶æ€§ï¼š AIæ‰“æ ‡é‡‡ç”¨<strong>å¾®æ‰¹å¤„ç†</strong>æœºåˆ¶ï¼Œåˆ†é’Ÿçº§åˆ«è‡ªåŠ¨å“åº”å…ƒæ•°æ®çš„å˜æ›´ï¼Œç›¸è¾ƒäºäººå·¥ä¸å®šæ—¶å“åº”æ¥æ¯”ï¼ˆä¸åŒ…æ‹¬æ¨¡å¼è¿›åŒ–ï¼‰ï¼Œå®ç°äº†<strong>è¿‘å®æ—¶</strong>çš„æ•æ·å“åº”ï¼Œå¹³è¡¡äº†å¤„ç†æ•ˆç‡ä¸ç³»ç»Ÿè´Ÿè½½ã€‚</li>
<li>ç»†ç²’åº¦ï¼šæ”¯æŒä»æ•°æ®è¡¨åˆ°å­—æ®µçº§åˆ«çš„ç²¾å‡†æ‰“æ ‡ï¼Œæ»¡è¶³ä¸åŒä¸šåŠ¡åœºæ™¯ä¸‹å¯¹æ•°æ®å®‰å…¨åˆ†ç±»çš„å·®å¼‚åŒ–ç®¡æ§éœ€æ±‚ã€‚</li>
<li>å‡†ç¡®æ€§ï¼šåŸºäºä¼˜åŒ–åçš„æç¤ºè¯æ¨¡å‹ä¸è§„åˆ™å…ƒæ•°æ®è¿›è¡Œè‡ªåŠ¨åŒ–åˆ¤æ–­ï¼Œæœ€å¤§é™åº¦åœ°æ¶ˆé™¤äº†äººä¸ºä¸»è§‚è‡†æ–­ï¼Œç¡®ä¿å®‰å…¨ç­‰çº§åˆ¤å®šçš„æ ‡å‡†ç»Ÿä¸€ä¸å‡†ç¡®å¯é ã€‚</li>
<li>æˆæœ¬ï¼š<strong>è‡ªåŠ¨åŒ–æµç¨‹</strong>æ˜¾è‘—å‡å°‘äº†æŒç»­æŠ•å…¥çš„äººåŠ›æˆæœ¬ï¼Œä¸€æ¬¡å»ºè®¾å³å¯é•¿æœŸã€è§„æ¨¡åŒ–è¿è¡Œï¼Œä¼˜äºäººå·¥è¿™ç§çŸ­æœŸå›æŠ¥æ¨¡å¼ã€‚</li>
<li>å¢é‡å˜æ›´ï¼šç³»ç»Ÿè‡ªåŠ¨ç›‘æµ‹å¹¶æ•è·å…ƒæ•°æ®çš„ç»“æ„åŒ–å˜æ›´ï¼ˆå¦‚å¢åˆ æ”¹å­—æ®µï¼‰ï¼Œå¹¶åœ¨ä¸‹ä¸€ä¸ªå¤„ç†å‘¨æœŸå†…è§¦å‘é’ˆå¯¹<strong>å˜æ›´éƒ¨åˆ†</strong>çš„æ™ºèƒ½é‡æ‰“æ ‡ï¼Œç¡®ä¿æ•°æ®èµ„äº§åœ¨æ¼”è¿›è¿‡ç¨‹ä¸­ï¼Œå…¶å®‰å…¨æ ‡ç­¾å§‹ç»ˆä¿æŒæœ€æ–°ä¸”æœ‰æ•ˆã€‚</li>
</ul>
<p>é€šè¿‡AIæ‰“æ ‡ï¼Œå¹³å°èƒ½å¤Ÿåœ¨ä¿éšœæ•°æ®å®‰å…¨åˆè§„çš„åŸºçŸ³ä¸Šï¼Œæ„å»ºèµ·ä¸€ä¸ª<strong>é«˜æ•ˆã€ç²¾å‡†ã€å¯è‡ªé€‚åº”æ¼”åŒ–</strong>çš„æ™ºèƒ½æ•°æ®æ²»ç†ä½“ç³»ï¼Œä¸ºæ•°æ®ä»·å€¼çš„æŒç»­é‡Šæ”¾æä¾›åšå®ä¿éšœã€‚</p>
<p/>
<h4 data-id="heading-6">2.3 AIæŠ€æœ¯çš„å‘å±•ä¸åº”ç”¨</h4>
<p>AIå®‰å…¨æ‰“æ ‡çš„èƒŒåï¼Œæ˜¯è¿‡å»è¿‘åå¹´äººå·¥æ™ºèƒ½æŠ€æœ¯ï¼Œç‰¹åˆ«æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰é¢†åŸŸçš„æ ¹æœ¬æ€§çªç ´çš„é›†ä¸­ä½“ç°ã€‚å…¶å‘å±•å†ç¨‹æœ‰æ³¢å³°å’Œä½è°·ï¼Œå…¶ä¸­æœ‰å‡ æ¬¡å…³é”®æ€§çš„çªç ´</p>
<p>    <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ec2f4d2396141829a8246d7d3387b0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=1iZbxkKvBiYlDx68tB9n7BxA2Yc%3D" alt="" loading="lazy"/></p>
<ul>
<li>2017å¹´å‰ä½¿ç”¨çš„æ˜¯å¾ªç¯ç¥ç»ç½‘ç»œRNNä»¥åŠå˜ä½“LSTMç­‰å¤„ç†åºåˆ—åŒ–æ•°æ®ï¼Œä»–ä»¬é€šè¿‡å¾ªç¯è¿æ¥ä¼ é€’ä¿¡æ¯ï¼Œä½†è®¡ç®—æ— æ³•å¹¶è¡Œï¼Œéš¾ä»¥æ•è·é•¿è·ç¦»çš„ä¾èµ–ç“¶é¢ˆ</li>
<li>2017å¹´Google æå‡ºçš„<strong>Transformer</strong>æ¶æ„å½»åº•æ”¹å˜äº†è¿™ä¸€å±€é¢ï¼Œå…¶æ ¸å¿ƒåˆ›æ–°åœ¨äº<strong>è‡ªæ³¨æ„åŠ›ï¼ˆSelf-Attentionï¼‰æœºåˆ¶å’Œç®—æ³•</strong></li>
<li>2018-2022å¹´<strong>é¢„è®­ç»ƒ</strong>ä¸è§„æ¨¡åŒ–æ—¶ï¼ŒåŸºäºTransformerç¡®ç«‹äº† é¢„è®­ç»ƒ + <strong>å¾®è°ƒ</strong>çš„èŒƒå¼ï¼Œæ¨¡å‹å‚æ•°å‘ˆæŒ‡æ•°çº§å¢é•¿</li>
<li>2023å¹´è‡³ä»Šå¯ä»¥çœ‹æˆ<strong>MASSï¼ˆæ¨¡å‹ä½œä¸ºä¸€ç§æœåŠ¡ï¼‰</strong>æ—¶ä»£ï¼Œä¹Ÿå°±æ˜¯æ¨¡å‹ä½œä¸ºä¸€ç§æœåŠ¡æä¾›å•†ä¸šä»·å€¼ï¼Œä¸šå†…ä»è¿½æ±‚è§„æ¨¡è½¬å‘åˆ›é€ ä»·å€¼ï¼Œæ¨¡å‹æœåŠ¡ä¹Ÿå¯ä»¥åˆ›é€ ä»·å€¼ï¼Œå¹¶æ„å»ºåº”ç”¨ç”Ÿæ€ï¼Œç”¨æˆ·æ›´æ³¨é‡å¦‚ä½• "ç”¨å¥½æ¨¡å‹"</li>
</ul>
<h4 data-id="heading-7">2.4 ZZ-Difyå¹³å°çš„ä½œç”¨</h4>
<p>ZZ-Difyå¹³å°å¯ä»¥çœ‹åšæ˜¯åŠ é€ŸAIæ‰“æ ‡åº”ç”¨è½åœ°çš„åŸºåº§ï¼ŒDifyæœ¬èº«æ˜¯ä¸€ç§å¼€æºçš„MASSå¹³å°ï¼Œå°½ç®¡å¹³å°æ¨¡å‹èƒ½åŠ›ä»¥åŠèƒ½æ”¯æ’‘åº”ç”¨çš„åº•åº§ï¼Œä½†æ˜¯å°†å…¶è½¬åŒ–ä¸ºä¸€ä¸ªç¨³å®šã€å¯è¿ç»´çš„AIæ‰“æ ‡åº”ç”¨ï¼Œä»éœ€è¦è®¾è®¡å¤æ‚çš„å·¥ç¨‹ä½œä¸šï¼ŒDifyä½œä¸ºä¸€ä¸ªå¼€æºçš„LLMåº”ç”¨å¼€å‘å¹³å°ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºç¼©çŸ­AIåº”ç”¨å¼€å‘å‘¨æœŸï¼Œå…¶ä½œç”¨ä½“ç°åˆ°ä»¥ä¸‹å‡ ä¸ªå±‚é¢ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00c6920e0f3d4cd6b8df139ac7a9502b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=eh%2FL8ECPXBd8b73%2FAuuOsX2e3Ng%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>é™ä½æŠ€æœ¯é—¨æ§›</strong>ï¼Œå®ç°å¯è§†åŒ–çš„å¼€å‘ï¼Œé…å¥—è®¾æ–½æ¯”è¾ƒé½å…¨</li>
<li>æ„å»ºè¿ç»´å’Œåº”ç”¨çš„ä¼˜åŒ–é—­ç¯ï¼Œæ”¯æŒæŒç»­è¿­ä»£åŠŸèƒ½ï¼Œ<strong>ä¸€ç«™å¼éƒ¨ç½²</strong></li>
<li>æ”¯æŒå¤šæ¨¡å¼éƒ¨ç½²ï¼Œå·¥ä½œæµï¼ˆworkflowï¼‰å’Œæ™ºèƒ½ä½“ï¼ˆagentï¼‰å¯æ»¡è¶³ä¸åŒä¸šåŠ¡åœºæ™¯çš„éœ€æ±‚</li>
</ul>
<h4 data-id="heading-8">2.5 å¤§æ¨¡å‹æŠ€æœ¯çš„ç¼ºé™·å’Œé—®é¢˜</h4>
<ul>
<li><strong>é«˜è´Ÿè½½ä¸‹çš„è„†å¼±æ€§ï¼š</strong>éœ€è¦ä¸€æ¬¡æ€§å¤„ç†æµ·é‡è¡¨ç»“æ„å˜æ›´æˆ–å¤æ‚åµŒå¥—æ•°æ®ç»“æ„æ—¶ï¼Œæ¨¡å‹çš„æ¨ç†èƒ½åŠ›å¯èƒ½å´©æºƒï¼Œè¾“å‡ºè´¨é‡æ€¥å‰§ä¸‹é™</li>
<li><strong>æŠ—å¹²æ‰°èƒ½åŠ›å¼±ï¼š</strong>æ‰“æ ‡ä»»åŠ¡ä¸­å¯èƒ½å­˜åœ¨å¤§é‡æ— å…³ä¿¡æ¯æˆ–æ ¼å¼æ··ä¹±çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ˆå¦‚å†—é•¿çš„æ³¨é‡Šï¼‰ï¼Œæ¨¡å‹å®¹æ˜“å—åˆ°è¿™äº›â€œå¹²æ‰°ä¿¡æ¯â€çš„æ±¡æŸ“ï¼Œä»è€Œåç¦»æ ¸å¿ƒåˆ¤æ–­é€»è¾‘</li>
<li><strong>è¿‡åº¦åŠ©é•¿å¯¼è‡´çš„æé€ ï¼š</strong>å½“æ¨¡å‹åœ¨Markdownæ–‡æ¡£ä¸­æ‰¾ä¸åˆ°æ˜ç¡®çš„åˆ†ç±»ä¾æ®æ—¶ï¼Œå‡ºäºâ€œå®Œæˆä»»åŠ¡â€çš„å€¾å‘ï¼Œå¯èƒ½ä¼šç¼–é€ ä¸€ä¸ªçœ‹ä¼¼åˆç†ä½†å®é™…ä¸Šé”™è¯¯çš„è§„åˆ™æˆ–æ ‡ç­¾</li>
</ul>
<p/>
<p/>
<h3 data-id="heading-9">ä¸‰ã€æŠ€æœ¯å®ç°ä¸è½åœ°</h3>
<h4 data-id="heading-10">3.1  æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡</h4>
<h5 data-id="heading-11">3.1.1  æ¶æ„è®¾è®¡</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/337d1e1cee664768bbfdea084a4628bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=ZUnl7qD%2BWgRBDg1tmE4DE1ZiTDQ%3D" alt="" loading="lazy"/></p>
<ul>
<li>Rest Apiï¼šæä¾›å¯¹å¤–APIæœåŠ¡ï¼Œæš´éœ²ç»Ÿä¸€æœåŠ¡èƒ½åŠ›ï¼Œä¸»è¦è´Ÿè´£AIæ‰“æ ‡ç›¸å…³æ¥å£</li>
<li>LockManager &amp; Mysql Distributed Lock:  å°è£…çš„é”ç®¡ç†å·¥å…·ï¼Œå†…ç½®Mysql åˆ†å¸ƒå¼é”ï¼Œå®ç°åœ¨å¤šxxl-job service å¹¶å‘ä¸‹ å•è¡¨AIæ‰“æ ‡åŠŸèƒ½çš„åŸå­æ€§</li>
<li>AI Moduleï¼š ä¸»è¦æä¾›AIæ‰“æ ‡åº”ç”¨æ‰€éœ€ä¸šåŠ¡æ–¹æ³•ï¼ŒåŒ…å«å…ƒæ•°æ®ç»„è£…ï¼ŒOnservice/æ˜Ÿæ²³è°ƒç”¨é€»è¾‘çš„å°è£…ï¼Œé…åˆZZScheduleï¼ˆXXL-JOBï¼‰ å®ŒæˆAIæ‰“æ ‡è‡ªåŠ¨åŒ–é—­ç¯å¤„ç†</li>
<li>ZZScheduleï¼šxxl-jobåˆ†å¸ƒå¼é«˜æ€§èƒ½è°ƒåº¦ç¨‹åºï¼Œç”¨äºå¾®æ‰¹è‡ªåŠ¨AIæ‰“æ ‡ç¨‹åºï¼Œè‡ªåŠ¨å¤„ç†æ¨¡å¼æ¼”è¿›æ¨¡å¼</li>
<li>Notify Moduleï¼šé€šçŸ¥æ¨¡å—ï¼Œç”¨äºç›‘å¬AIæ‰“æ ‡ç»“æœå˜æ›´å¹¶é€šè¿‡ä¼ä¸šå¾®ä¿¡ç­‰å…¶ä»–æ–¹å¼é€šçŸ¥åˆ°ç›¸å…³è´Ÿè´£äºº</li>
<li>Log Storageï¼šæ—¥å¿—å­˜å‚¨å·¥å…·ï¼Œä¸»è¦è®°å½•AIæ‰“æ ‡ä»å¤´åˆ°å°¾é“¾è·¯è¿½è¸ªï¼Œæ–¹ä¾¿é—®é¢˜æ’æŸ¥ï¼Œåˆ†ææ‰“æ ‡ç»“æœå¹¶ç”¨äºäºŒæ¬¡æ¨¡å‹æ‰“æ ‡ä½¿ç”¨</li>
<li>Rate Limiterï¼šå†…ç½®é™æµå™¨æŠ½è±¡å·¥å‚ï¼Œæ”¯æŒä»¤ç‰Œæ¡¶å’Œæ¼æ¡¶é™æµï¼Œé™åˆ¶å•ç§’å†…æœ€å¤§AIæ‰“æ ‡å¹¶å‘æ•°é‡ï¼Œç”¨äºæ§åˆ¶çº¿ç¨‹æ± ä»»åŠ¡é˜Ÿåˆ—ï¼Œé˜²æ­¢ä»»åŠ¡æ’é˜Ÿè¿‡é•¿å¯¼è‡´å¼‚å¸¸é˜Ÿåˆ—å‘Šè­¦</li>
<li>Schedule Moduleï¼šè°ƒåº¦æ¨¡å—ä¸»è¦ç”¨äºæ§åˆ¶è°ƒåº¦ä»»åŠ¡æ­£å¸¸è¿è½¬ï¼Œè®°å½•ä»»åŠ¡çš„æ‰§è¡Œå…ƒæ•°æ®ï¼Œç®¡ç†è‡ªåŠ¨è°ƒåº¦ç¨‹åºçŠ¶æ€æœºæ‰­è½¬</li>
<li>Local Caffine Cacheï¼šAIæ‰“æ ‡æœ¬åœ°ç¼“å­˜ï¼Œè®°å½•AIæ‰“æ ‡å…ƒæ•°æ®ç›¸å…³ä¿¡æ¯ï¼Œå®šæœŸæ›´æ–°è¡¨å…ƒæ•°æ®ä¿¡æ¯ï¼Œåœ¨ä¿éšœé«˜æ€§èƒ½ä¸‹çš„æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§</li>
<li>OneService / æ˜Ÿæ²³ï¼šä¸»è¦è´Ÿè´£è°ƒç”¨å¤–éƒ¨æ•°æ®æ¥å£åº”ç”¨ï¼Œå¯æ”¯æŒä»»æ„Hive  SQLæŸ¥è¯¢ï¼Œ é€šè¿‡è°ƒç”¨ç»Ÿä¸€çš„æ¥å£æœåŠ¡æ¥è·å–æ•°æ®çœŸå®æ•°æ®</li>
<li>Mysql MetaDataï¼šç”¨äºç®¡ç†æ•´ä¸ªAIæ‰“æ ‡å…ƒæ•°æ®ï¼Œåè°ƒAIæ‰“æ ‡ç¨‹åºè‡ªåŠ¨åŒ–é—­ç¯å¤„ç†ï¼Œç®¡æ§æ‰“æ ‡å…ƒæ•°æ®</li>
</ul>
<h5 data-id="heading-12">3.1.2  Schema Evolution æ¨¡å¼æ¼”å˜</h5>
<p><strong>Schema Evolution</strong>ï¼ˆæ¨¡å¼è¿›åŒ–ï¼‰ï¼šæ¨¡å¼è¿›åŒ–é€šä¿—ç†è§£å°±æ˜¯ä¸šåŠ¡æ•°æ®åº“å­—æ®µå‘ç”Ÿå˜æ›´ï¼Œä¸Šæ¸¸å­—æ®µå˜æ›´ä¼šå¯¼è‡´ä¸‹æ¸¸ç¦»çº¿ä»»åŠ¡å‡ºç°é”™è¯¯ï¼Œæ¨¡å¼è¿›åŒ–ä¹Ÿæ˜¯æ•°æ®æ¹–æŠ€æœ¯éœ€è¦é‡ç‚¹å…³æ³¨çš„ä¸€ä¸ªç‚¹ï¼Œå¯¹äºAIæ‰“æ ‡éœ€è¦è€ƒè™‘åˆ°ä¸Šæ¸¸å­—æ®µå˜æ›´åçš„åŸæ‰“æ ‡ç»“æœæ˜¯å¦é€‚ç”¨æ–°çš„æ¨¡å¼ï¼Œéœ€è¦é€‚å½“è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œä¸€èˆ¬é€šè¿‡ç¨‹åºè§£å†³çš„æ–¹å¼æ˜¯å®šæ—¶ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡æ¥ç›‘å¬å“ªäº›å­—æ®µå‘ç”Ÿå˜æ›´ç„¶åæœ€ç»ˆä¸€è‡´æ€§çš„ä¿®æ”¹å…ƒæ•°æ®ç»“æ„</p>
<ul>
<li>ç›‘å¬æœºåˆ¶ï¼šæ•è·ä¸Šæ¸¸æ•°æ®æºçš„DDLå˜æ›´äº‹ä»¶ï¼Œç›´æ¥åˆ©ç”¨å®šæ—¶å…ƒæ•°æ®å¯¹æ¯”ï¼Œæ„ŸçŸ¥å…ƒæ•°æ®æ˜¯å¦å‘ç”Ÿå˜æ›´</li>
<li>è§£ææœºåˆ¶ï¼šæå–å˜æ›´ç±»å‹ï¼ˆå¢/åˆ /æ”¹åˆ—ï¼‰ã€å½±å“èŒƒå›´ï¼Œæ‰¾åˆ°æœªè¢«æ‰“æ ‡çš„å­—æ®µä»¥åŠè¡¨å…³ç³»æ˜ å°„</li>
<li>åŒæ­¥æœºåˆ¶ï¼šåŸå­æ€§é‡æ–°è°ƒç”¨AIå¹¶æ‰“æ ‡ï¼Œå¹¶æ ¹æ®å­—æ®µæ‰“æ ‡ç­‰çº§æ¨æ–­å‡ºè¡¨çš„å®‰å…¨ç­‰çº§ï¼Œé‡å†™åŸæ‰“æ ‡å…ƒæ•°æ®</li>
<li>é€šçŸ¥æœºåˆ¶ï¼š æŒç»­ç›‘å¬å¹¶å¯¹æ¯”ç»“æœæ˜¯å¦å­˜åœ¨å·®å¼‚ï¼Œå‘Šè­¦åˆ°ä¼ä¸šå¾®ä¿¡</li>
</ul>
<h5 data-id="heading-13">3.1.3  ç»Ÿä¸€å…ƒæ•°æ®ç»“æ„</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/974878ab5b4a4da1ad0cfb41057ef064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=Nk12dWISwCfumQa0je16s8tvV8E%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">              å›¾7 å…ƒæ•°æ®ç»“æ„
</span></code></pre>
<ul>
<li>ç»Ÿä¸€å…ƒæ•°æ®ç»“æ„ä¸»è¦åŒ…å«å››å¤§éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æ•°æ®åº“å…ƒæ•°æ®ä¿¡æ¯åŒ…å«è¡¨ã€ç±»å‹ã€å­—æ®µç›¸å…³ä¿¡æ¯ï¼Œç¬¬äºŒéƒ¨åˆ†åŒ…å«å­—æ®µçœŸå®æ•°æ®ï¼Œç¬¬ä¸‰éƒ¨åˆ†æ˜¯è§„åˆ™å…ƒæ•°æ®åŒ…å«ç›¸åº”çš„è§„åˆ™æè¿°å’Œå¯¹åº”çš„å®‰å…¨ç­‰çº§ ç¬¬å››éƒ¨åˆ†åŒ…å«ä¸€äº›é¢å¤–çš„æ‰©å±•ä¿¡æ¯ï¼Œæ¯”å¦‚å‹ç¼©ç±»åˆ«å’Œå…ƒæ•°æ®æ ¼å¼</li>
</ul>
<h5 data-id="heading-14">3.1.4  ä»»åŠ¡æ—¶åºå›¾</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c3eea39c5244ded9e95ea0640bb5a38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=V24pkv4zTwosMVNs1HiNNb4AA8g%3D" alt="" loading="lazy"/></p>
<ul>
<li>åŸºç¡€æ•°æ®å¹³å°ï¼šä¸»è¦è´Ÿè´£å…ƒæ•°æ®çš„ç®¡ç†ï¼Œç”¨äºAIæ‰“æ ‡è§„åˆ™å…ƒæ•°æ®ç®¡æ§ï¼Œè°ƒç”¨OneServiceæˆ–è€…ç›´æ¥è°ƒç”¨æ˜Ÿæ²³APIæŸ¥è¯¢å®ä¾‹æ•°æ®ï¼Œä½œä¸ºAIæ‰“æ ‡çš„èµ·å§‹ç‚¹</li>
<li>OneService/æ˜Ÿæ²³ï¼šæä¾›æ•°æ®æŸ¥è¯¢å…¥å£ï¼Œ58å†…éƒ¨å¤§æ•°æ®ç®¡ç†å¹³å°ï¼Œæä¾›ç»Ÿä¸€APIæŸ¥è¯¢ï¼Œåˆ›å»ºç¦»çº¿å®æ—¶ä»»åŠ¡ï¼ŒOneServiceä¸ºå†…éƒ¨æœåŠ¡æŸ¥è¯¢ç½‘å…³å±‚ï¼Œæ”¯æŒä¸åŒæ•°æ®æºæŸ¥è¯¢</li>
<li>Difyå¹³å°ï¼šå¤§æ¨¡å‹å¹³å°åº”ç”¨ï¼Œä¸»è¦æä¾›Rest APIæœåŠ¡ï¼Œæ”¯æŒå·¥ä½œæµåˆ›å»ºã€æ„å»ºç»Ÿä¸€å‚æ•°çš„AIæ‰“æ ‡æœåŠ¡ï¼Œå†…éƒ¨å¯æ„å»ºPythonã€Scriptsè¯­éŸ³å·¥å…·ï¼Œæ”¯æŒå¤šæ¨¡æ€ç»„ä»¶ï¼Œé€‚é…å¤šç§æ’ä»¶</li>
<li>DeepSeek/Doubaoï¼šå•†ä¸šåŒ–å¤§æ¨¡å‹åŸºåº§ï¼Œä¸»è¦ç”¨äºæ”¯æ’‘è½¬è½¬å†…éƒ¨å¿«é€Ÿæ„å»ºå†…éƒ¨å¤§æ¨¡å‹åº”ç”¨ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ä¿è¯ä¸šåŠ¡æ•°æ®çš„å®‰å…¨æ€§</li>
</ul>
<h4 data-id="heading-15">3.2  Difyå¹³å°ä¼ä¸šçº§å·¥ä½œæµè®¾è®¡</h4>
<h5 data-id="heading-16">3.2.1  WorkFlowè®¾è®¡</h5>
<p>åˆç‰ˆAIæ‰“æ ‡å·¥ä½œæµ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/206fa4f302634e6e8b8185a3fd5a0636~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=pSxSoPsF9o%2Fs%2FsMQ4szoEGgZr9s%3D" alt="" loading="lazy"/></p>
<p>åˆå¹¶åæœ€ç»ˆç‰ˆAIæ‰“æ ‡å·¥ä½œæµ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc3cf3ea3164481ea391e08f19b52896~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=1CJiLSXgAOSEfuFSxVSGLiAHq18%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>åˆç‰ˆAIæ‰“æ ‡å·¥ä½œæµ</strong>ï¼šè¯¥ç‰ˆæœ¬æ‹†åˆ†å¤šä¸ªä»»åŠ¡å¹¶è¡Œè·‘ä¸€ä»½ç›¸åŒçš„å…ƒæ•°æ®ï¼ŒæŒ‰ç…§å…ƒæ•°æ®ç»“æ„æ‹†åˆ†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€ä¸ªéƒ¨åˆ†åŒ…å«äº†å®ä¾‹æ•°æ®ï¼Œç¬¬äºŒéƒ¨åˆ†ä¸åŒ…å«å®ä¾‹æ•°æ®ä»…åŒ…å«åŸºæœ¬æ•°æ®ç»“æ„ï¼Œç¬¬ä¸‰éƒ¨åˆ†åŒ…å«å…¨éƒ¨å…ƒæ•°æ® + å®ä¾‹æ•°æ®å¹¶é€šè¿‡åŠ¨æ€çŸ¥è¯†åº“ï¼Œæœ€ç»ˆä¸‰ä¸ªéƒ¨åˆ†æ±‡æ€»å¹¶äº¤ç»™AIå¾—å‡ºæœ€ç»ˆç»“æœï¼Œå…¶ä¸­åŒ…å«åˆ†è¯çŸ¥è¯†åº“çš„å»ºç«‹</li>
<li><strong>åˆå¹¶åæœ€ç»ˆç‰ˆAIæ‰“æ ‡å·¥ä½œæµ</strong>ï¼šç”±äºä¸Šè¿°è¿‡ç¨‹å­˜åœ¨ç»“æœå†—ä½™ï¼Œå¹¶ä¸”å¤§æ¨¡å‹åˆ†è¯ç³»ç»Ÿä¸å¤Ÿå®Œå–„ï¼Œåˆ†è¯Tokenè¿‡å¤§è¿‡é•¿å¯¼è‡´æœ€ä¼˜åŒ¹é…å‡ºçš„ç»“æœå‡ºç°å¾ˆå¤§çš„åå·®ï¼Œä»è€Œå¯¼è‡´æ•´ä¸ªç»“æœå‡ºç°è¾ƒå¤§è¯¯å·®ï¼Œç»è¿‡æƒè¡¡ç°æœ‰æŠ€æœ¯ä¸æˆæœ¬è€ƒé‡ï¼Œå–ä»£ä¸‰åˆ†æ”¯èšåˆå·¥ä½œæµï¼Œä»…ç”±ä¸€æ¡ä¸»å¹²è·¯æ¥æ¥å®ŒæˆAIæ‰“æ ‡ï¼Œé…åˆJavaç¨‹åºå¯¹AIç»“æœåœ¨åˆ†æï¼ˆäºŒé˜¶æ®µå‡çº§æ‰“æ ‡å¤„ç†ï¼‰æ¥æé«˜æ•´ä½“æ­£ç¡®ç‡</li>
</ul>
<h5 data-id="heading-17">3.2.2  Pythonè„šæœ¬å¤„ç†å…ƒæ•°æ®ç»„è£…</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8361578416c044b382deca08ef1ce1e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=YFzIjVtj1uwLC5LgPDGGWXkDM5U%3D" alt="" loading="lazy"/></p>
<ul>
<li>Pythonå¤„ç†è¿‡ç¨‹ä¸»è¦åˆ†ä¸ºå››å¤§æ­¥â‘  æ¥å—åˆ°Jsonç»“æ„çš„å…ƒæ•°æ®ï¼Œè§£æå…ƒæ•°æ® â‘¡ æäº¤SQLä»»åŠ¡å¹¶ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆ â‘¢ æŒ‰ç…§å‹ç¼©ç®—æ³•ä»¥åŠå…ƒæ•°æ®æŒ‡å®šçš„æ ¼å¼ï¼Œç”ŸæˆAIæ¨¡å‹æ˜“è¯†åˆ«çš„MarkDownè¯­æ³•ç»“æ„</li>
</ul>
<h5 data-id="heading-18">3.2.3  ç¼–å†™Promptæç¤ºè¯</h5>
<p>Markdownè¯­æ³•æ˜¯ç°é˜¶æ®µAIæ¨¡å‹æ¯”è¾ƒå®¹æ˜“ç²¾å‡†è¯†åˆ«åˆ†æçš„ç»“æœï¼Œä¸‹é¢æ˜¯AIæ‰“æ ‡è°ƒä¼˜åçš„Markdownæç¤ºè¯ç»“æ„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfd615d30767413f8122db8ea90b6284~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=xQEXg1tsnG5DWmJOJ71U%2FG4RVu0%3D" alt="" loading="lazy"/></p>
<ul>
<li>æç¤ºè¯ä¸»è¦åŒ…å«å››ä¸ªéƒ¨åˆ†ï¼š<strong>AIæ‰¿æ‹…çš„è§’è‰²</strong>ã€**æ‰“æ ‡å…ƒæ•°æ®ã€å…ƒæ•°æ®æè¿°çš„è§„åˆ™ã€æ‰“æ ‡ç»“æœæ ¼å¼è§„èŒƒï¼Œ**è¿™å››éƒ¨åˆ†ä¸»è¦å‘Šè¯‰å¤§æ¨¡å‹ä½ ç°åœ¨çš„å·¥ä½œä¸»é¢˜ï¼Œéƒ½æœ‰å“ªäº›éœ€è¦æå‰å­¦ä¹ äº†è§£çš„ï¼ŒæŒ‰ç…§ç›¸åº”çš„é€»è¾‘æ¥å­¦ä¹ å¹¶è®°å½•ä¸‹å¾—å‡ºä¸€ä¸ªè§„èŒƒåŒ–çš„ç»“æœ</li>
</ul>
<h4 data-id="heading-19">å››ã€ä¼˜åŒ–æ¡ˆä¾‹</h4>
<h5 data-id="heading-20">4.1  AIæ‰“æ ‡Promptä¼˜åŒ–ï¼ˆæé«˜å‡†ç¡®ç‡ï¼‰</h5>
<p>AIæ‰“æ ‡æç¤ºè¯ç»è¿‡å¤šä¸ªç‰ˆæœ¬è¿­ä»£ï¼Œç›®å‰å·²ç»æ”¯æŒä¸Šåƒå¼ è¡¨ï¼Œåœ¨ä¿è¯å®Œæˆæ•´ä¸ªåŠŸèƒ½çš„å‰æä¸‹ï¼Œæœ€å¤§é™åº¦æé«˜AIæ‰“æ ‡å‡†ç¡®ç‡ï¼Œæ€»ç»“å‡ºæç¤ºè¯ä¼˜åŒ–äº”å¤§æ­¥éª¤ï¼Œç°å°†ä¼˜åŒ–æ­¥éª¤ä»¥åŠæœ€ç»ˆæ¨¡æ¿åšå¦‚ä¸‹é˜è¿°</p>
<ul>
<li><strong>æ¸…æ™°å®Œæ•´çš„ç›®æ ‡è§’è‰²å®šä¹‰</strong>ï¼šè®©AIæˆä¸ºç‰¹å®šé¢†åŸŸçš„ä¸“å®¶æ ‡æ³¨å‘˜ï¼Œæå‰è¯´æ˜å½“å‰AIæ‰¿æ‹…çš„ä¸»è¦è´£ä»»ï¼Œå¹¶è¦å¸¦æœ‰ç¡®å®šæ€§çš„æŸ”æ€§æ¡ä»¶ï¼Œä¸€ä¸ªæ¸…æ™°å®Œæ•´çš„ç›®æ ‡è§’è‰²å®šä¹‰åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šæé«˜æ•´ä½“å‡†ç¡®ç‡</li>
<li><strong>ç»“æ„åŒ–Promtptè®¾è®¡</strong>ï¼šä½¿ç”¨å¸¦æœ‰æ ‡ç­¾åŒ…å›´çš„ç‰¹å¾å€¼ ä¾‹å¦‚ä½¿ç”¨&lt;table_info&gt;&lt;/table_info&gt;æ¥è¯´æ˜å†…å®¹æ˜¯è¡¨å…ƒæ•°æ®ï¼Œä½¿ç”¨&lt;rule_info&gt; &lt;/rule_info&gt;æ¥è¯´æ˜å†…å®¹æ˜¯è§„åˆ™å…ƒæ•°æ®ï¼Œ æ ‡ç­¾å†…éƒ¨çš„æ•°æ®è¦ç¬¦åˆmarkdownè¯­æ³•ï¼Œå°½é‡ä½¿ç”¨ #ã€##ã€<strong>{name}</strong>ã€è¿™ç§å¸¦æœ‰åˆ†çº§ä¸”æ¸…æ™°çš„è¯´æ˜å…ƒæ•°æ®ä¸­æ¯ä¸€é¡¹ï¼Œè¿™æ ·ä¸‹æ¥æ•´ä½“çš„ç»“æ„å°±æ¯”è¾ƒæ¸…æ™°ç¡®å®šï¼Œå‡å°‘è®¡ç®—ä¸ç¡®å®šæ€§å¸¦æ¥çš„å·®å¼‚æ€§</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1ce61bf57f14ca89096d01b71ec24ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=IRTNNMOna2rpNCf0PUVSIHTO574%3D" alt="" loading="lazy"/></p>
<ul>
<li>è¾“å‡ºæ ¼å¼é™åˆ¶è¯ï¼šä¸åŒçš„ä¸šåŠ¡åœºæ™¯éƒ½ä¼šæœ‰ç›¸åº”çš„è§„åˆ™é™åˆ¶ï¼Œå¯¹äºAIæ‰“æ ‡è¦åˆ¶å®šæ¸…æ™°çš„è§„åˆ™è¯´æ˜ï¼Œå¯¹äºè¯†åˆ«çš„é¡ºåºé€»è¾‘è¦ä»å°èŒƒå›´åˆ°å¤§èŒƒå›´è¯´æ˜ï¼ŒAIæ‰“æ ‡æœ‰æ˜æ˜¾çš„æ ¼å¼æ•°æ®è¦æ±‚ï¼Œæ¯”å¦‚å¯ä»¥æ˜ç¡®è¿™æ ·è¦æ±‚è¾“å‡ºæ ¼å¼ï¼Œè¿™æ ·è¾“å‡ºæ ¼å¼æ€»æ˜¯jsonæ ¼å¼
<ul>
<li>è¯·åœ¨æ‰“æ ‡è¿‡ç¨‹ä¸­ï¼Œå…ˆåœ¨&lt;æ€è€ƒ&gt;æ ‡ç­¾å†…è¯¦ç»†åˆ†ææ¯ä¸ªå­—æ®µæ‰“æ ‡çš„ä¾æ®å’Œæ¨ç†è¿‡ç¨‹ï¼Œç„¶åæŒ‰ç…§ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºæ‰“æ ‡ç»“æœï¼Œä»…è¿”å›æ‰“æ ‡ç»“æœï¼Œæ— ä»»ä½•é¢å¤–æ–‡æœ¬/è§£é‡Šï¼š"<code>json{}</code>"</li>
</ul>
</li>
<li><strong>A/Bç³»ç»Ÿæµ‹è¯•å¯¹æ¯”</strong>ï¼šä¼˜åŒ–åçš„æç¤ºè¯è¦è¿›è¡Œæ¯ä¸€é¡¹å¯¹æ¯”ï¼Œå¯¹æ¯” å‡†ç¡®æ€§ã€å®Œæ•´æ€§ã€å“åº”æ—¶é—´ã€ç¨³å®šæ€§ã€Tokenæ•°é‡ å¯¹æ¯”å¹¶ç»¼åˆä¸€ä¸ªæœ€ä¼˜æ–¹æ¡ˆï¼Œå®Œæ•´çš„æç¤ºè¯ä¼˜åŒ–å¿…é¡»è¦ç»è¿‡ç³»ç»Ÿçš„æ•´ä½“æŠŠæ§ä»è€Œå¾—å‡ºä¸Šçº¿åçš„æ–¹æ¡ˆ</li>
<li>çº¦æŸç‰¹æ®Šåœºæ™¯ï¼šå¯¹äºAIæ‰“æ ‡æ¥è®²å­˜åœ¨ä¸€äº›ç‰¹æ®Šåœºæ™¯ï¼Œå½“å…ƒæ•°æ®ä¸­ä¸åŒ…å«æŸä¸ªå­—æ®µçš„è§„åˆ™æè¿°æ—¶ï¼Œæ­¤æ—¶éœ€è¦AIè‡ªåŠ¨å…¨ç½‘åˆ†æå¾—å‡ºä¸€ä¸ªæ¯”è¾ƒç¬¦åˆç»“æœï¼Œæˆ–è€…æ‰¾ä¸åˆ°æ¡ä»¶çš„å­—æ®µä¸ä¼šæ‰“æ ‡ï¼Œè¿™äº›çº¦æŸè¦æ˜ç¡®åˆ¶å®šï¼Œç‰¹æ®Šåœºæ™¯ä¼šè®©AIå…ˆåŒ¹é…ç¬¦åˆçº¦æŸæ¡ä»¶çš„ç»“æœå¤§è‡´ç›¸åŒï¼Œå¯¹äºé¡ºåºçš„é€»è¾‘è§„åˆ™å¯ä»¥æŒ‰åºå·æ ‡å·å¹¶åˆ¶å®š</li>
</ul>
<h5 data-id="heading-21">4.2  æ‰“æ ‡åé‡è®¡ç®—ç»“æœä¼˜åŒ–ï¼ˆæé«˜å‡†ç¡®ç‡ï¼‰</h5>
<p>ç”±äºåœ¨åˆ†ææ•°ç™¾å¼ æ‰“æ ‡åçš„ç»“æœåï¼Œå‘ç°AIæ‰“æ ‡ä»å­˜åœ¨è¯¸å¤šé—®é¢˜ï¼Œæ¯”å¦‚å¹»è¯»é—®é¢˜ï¼Œç›¸åŒæ•°æ®å­—æ®µæ‰“æ ‡çš„ç»“æœä¸ä¸€è‡´ç­‰é—®é¢˜ï¼Œéœ€è¦å¯¹æ‰“æ ‡åçš„å­—æ®µç»“æœè¿›è¡ŒäºŒæ¬¡ä¸šåŠ¡å¤„ç†ï¼Œå¤„ç†è¿‡ç¨‹å¦‚ä¸‹</p>
<p align="center">                  ä¸€é˜¶æ®µåˆ¤å®šå…¬å¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc19cf2aa6144389b1f82c0e38a3c698~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=KKVSAxPe6QdeDtgjfsbmP48ECZk%3D" alt="" loading="lazy"/></p>
<p align="center">                 äºŒé˜¶æ®µå‡çº§å…¬å¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c3c1bf9f4f547ea9b6b547edeb0b673~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=axQPgtSNKi5BVopscKrxDuwLUyc%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ä¸€é˜¶æ®µå…¬å¼</strong>ï¼šåŸºæœ¬æ¨å¯¼è¡¨å®‰å…¨ç­‰çº§å…¬å¼ï¼Œä»…ç”±L4ã€L3å æ¯”ä»¥åŠæ˜¯å¦rawè¡¨æˆ–è€…adsè¡¨æ¥ç¡®å®šæœ€ç»ˆçš„è¡¨å®‰å…¨ç­‰çº§</li>
<li><strong>äºŒé˜¶æ®µå…¬å¼</strong>ï¼šäºŒé˜¶æ¨å¯¼å…¬å¼ä¸»è¦ç”¨åˆ°<strong>æå€¼å æ¯”æ¦‚ç‡</strong>æ¥æé«˜æ•´ä½“è¡¨æ‰“æ ‡ç»“æœï¼Œå…¶ä¸­ä¼šç”¨åˆ°è‡ªå®šä¹‰æ•æ„Ÿè¯ï¼Œä»¥åŠè¯¥è¡¨åŒ…å«çš„å­ä¸šåŠ¡ä¿¡æ¯å æ¯”ï¼Œæ¯”å¦‚è¯¥è¡¨æœ‰7ä¸ªå­ä¸šåŠ¡åŸŸï¼ŒåŒ…å«è®¢å•ä¿¡æ¯ã€å•†å“ä¿¡æ¯ã€åŸºæœ¬ä¿¡æ¯ã€æµè§ˆä¿¡æ¯ã€ç‚¹å‡»è¡Œä¸ºã€æœç´¢è¡Œä¸ºï¼Œ å…¶ä¸­æ•æ„Ÿä¸šåŠ¡åŒ…å«è®¢å•ä¿¡æ¯ã€å•†å“ä¿¡æ¯ã€åŸºæœ¬ä¿¡æ¯ã€æµè§ˆä¿¡æ¯å¹¶ä¸”å¯¹åº”å­—æ®µå­˜åœ¨L4å®‰å…¨ç­‰çº§ï¼Œåˆ™ä¼šåˆ¤å®š  |B_L4| /  |B|  &gt; 1/3 æ¡ä»¶</li>
<li>ç»ç»¼åˆæµ‹è¯•äºŒé˜¶æ®µå‡çº§è¿‡ç¨‹å¤§å¤§æé«˜äº†æ•´ä½“çš„æ‰“æ ‡ç‡ï¼Œé…åˆè‡ªå®šä¹‰çš„æ•æ„Ÿä¸šåŠ¡ä¿¡æ¯ï¼Œå¯çµæ´»æ§åˆ¶å‡çº§è¿‡ç¨‹ï¼Œæ‰“æ ‡å‡çº§å—é™äºé…ç½®æ•æ„Ÿè¯å†…å®¹</li>
</ul>
<h5 data-id="heading-22">4.3 åˆ†æ‰¹æ¬¡æ‰“æ ‡ï¼ˆæé«˜å‡†ç¡®ç‡ï¼‰</h5>
<ul>
<li>åŸæœ‰æ¨¡å¼ä¼šå°†è¡¨çš„å…¨éƒ¨å­—æ®µäº¤ç»™æ¨¡å‹å¤„ç†ï¼Œä½†æ˜¯è¿™ç§æ¨¡å¼ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜
<ul>
<li><strong>è¶…é•¿é˜¶æ®µ</strong>ï¼šæ¨¡å‹ä¸€æ¬¡å¤„ç†çš„TOKENæ•°é‡æ˜¯æœ‰é™çš„ï¼Œé»˜è®¤æ˜¯32kå¤§å°å¦‚æœè¶…é•¿ä¼šè¢«æˆªæ–­</li>
<li><strong>æ­£ç¡®ç‡ä¸‹é™</strong>ï¼šè¿‡é•¿çš„æ–‡æœ¬ä¼šå¯¼è‡´æ¨¡å‹éš¾ä»¥å‡†ç¡®è¯†åˆ«å…ƒæ•°æ®ä¿¡æ¯ï¼Œä»è€Œå¯¼è‡´ç»“æœä¸ä¸€è‡´æˆ–è€…ä¸æ­£ç¡®é—®é¢˜</li>
<li><strong>æ‰“æ ‡æ—¶é—´è¿‡é•¿</strong>ï¼šæ–‡æœ¬è¿‡é•¿ä¼šå¯¼è‡´æ‰“æ ‡å®Œæˆæ—¶é—´å€æ•°å¢é•¿ï¼Œç”±åŸæ¥çš„ä¸€å¼ è¡¨2åˆ†é’Ÿå˜ä¸º5+åˆ†é’Ÿ</li>
</ul>
</li>
<li>ä¼˜åŒ–åæ¨¡å¼å˜ä¸ºå¯æŒ‡å®šé˜ˆå€¼å­—æ®µæ•°é‡ï¼Œåœ¨Difyå¹³å°æ¥å—æ­¥é•¿å‚æ•°ï¼Œåˆ†æ‰¹æ¬¡äº¤ç»™å¤§æ¨¡å‹ï¼Œåº”ç”¨å±‚é¢èšåˆæ¯ä¸€é¡µçš„ç»“æœä»è€Œçš„å‡ºæœ€ç»ˆç»“æœï¼Œè¿™ç§æ–¹å¼ä¸ä½†æé«˜äº†æ•´ä½“çš„æ­£ç¡®ç‡ï¼Œè€Œä¸”ç¨‹åºæ›´åŠ ç¨³å®šï¼Œå¤§å¤§æé«˜äº†AIæ‰“æ ‡åº”ç”¨çš„é—­ç¯èƒ½åŠ›</li>
</ul>
<h4 data-id="heading-23">äº”ã€AIæ‰“æ ‡æœªæ¥è§„åˆ’ä¸å±•æœ›</h4>
<h5 data-id="heading-24">5.1 AIæ‰“æ ‡è¦†ç›–å…¨éƒ¨ä¸šåŠ¡ï¼Œæ•°æ®æºå…¼å®¹ç»Ÿä¸€</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81f1a5aa1ee04c4283ec8ed95462ca40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=RejcjkBuSfRvBuFgiIYgn3si5Og%3D" alt="" loading="lazy"/></p>
<ul>
<li>è¿‡å»å·²ç»å®Œæˆäº†Hiveå…ƒæ•°æ®çš„å¯¹æ¥å’Œæ•´ä¸ªé“¾è·¯æ­å»ºï¼Œä½†æ˜¯ä¸šåŠ¡æ•°æ®å­˜æ”¾åœ¨å„ä¸ªå­˜å‚¨ä»‹è´¨ä¸Šï¼Œç›®å‰è½¬è½¬ä¼šå°†å¤§éƒ¨åˆ†T+1ç¦»çº¿æ•°æ®å­˜æ”¾åˆ°Hiveä¸Šé¢ï¼Œå®æ—¶ä»»åŠ¡ä¼šå­˜åˆ°dorisã€ckã€redisã€hbaseä¸Šé¢ï¼Œæå°‘æ•°æ®ä¼šæ”¾åˆ°mysql</li>
<li>æœªæ¥AIæ‰“æ ‡ç³»ç»Ÿä¼šå°†è¿™äº›å­˜å‚¨éƒ½é›†æˆè¿‡æ¥ï¼Œå®ç°å…¨åŸŸå…ƒæ•°æ®çš„æ‰“é€šï¼Œæ„å»ºç»Ÿä¸€å¥å…¨çš„æ•°æ®</li>
</ul>
<h5 data-id="heading-25">5.2 AIæ‰“æ ‡å“åº”é€Ÿåº¦æé«˜ï¼ŒæŒç»­å…³æ³¨æ¨¡å‹è¿­ä»£ï¼Œé€‚åº”æ–°æ¨¡å‹</h5>
<ul>
<li><strong>å“åº”é€Ÿåº¦ä¼˜åŒ–</strong>ï¼šé€šè¿‡ä½¿ç”¨æ›´åŠ è½»é‡åŒ–çš„æ¨¡å‹ã€æ¨ç†å¼•æ“å‡çº§ä¸å¹¶å‘å¤„ç†å¢å¼ºï¼Œæ˜¾è‘—é™ä½æ‰“æ ‡å»¶è¿Ÿï¼Œæå‡å®æ—¶å“åº”èƒ½åŠ›ã€‚</li>
<li><strong>è·Ÿè¸ªæ¨¡å‹æœ€æ–°æŠ€æœ¯ï¼š</strong>ä¸»åŠ¨è·Ÿè¸ªä¸»æµå¤§æ¨¡å‹ï¼ˆå¦‚ <strong> GLM-4.6V</strong>ã€<strong>OpenAI</strong>ã€<strong>Gemini</strong> ç­‰ï¼‰çš„æŠ€æœ¯æ¼”è¿›è·¯å¾„ï¼Œæ¢ç´¢å…¶åœ¨ä¸šåŠ¡ä¿¡æ¯æŠ½å–ã€æ„å›¾ç†è§£ç­‰åœºæ™¯çš„åº”ç”¨æ½œåŠ›ï¼Œæ¨åŠ¨æ‰“æ ‡é€»è¾‘ä»â€œè§„åˆ™ä¸ºä¸»â€å‘â€œè¯­ä¹‰ä¸»å¯¼ + è§„åˆ™â€æ¼”è¿›ã€‚</li>
<li><strong>æ ‡æ³¨æ•ˆç‡ä¸å‡†ç¡®æ€§åŒæå‡ï¼š</strong>ç»“åˆä¸»åŠ¨å­¦ä¹ ä¸åé¦ˆé—­ç¯ï¼Œä¼˜åŒ–æ ‡æ³¨æµç¨‹ï¼Œå®ç°æ•ˆç‡ä¸å‡†ç¡®ç‡çš„åŒæ­¥å¢é•¿ã€‚</li>
</ul>
<h5 data-id="heading-26">5.3 AIå¤šæ•°æ®æºè‡ªé€‚åº”è¡¨ä¼˜åŒ–æœåŠ¡</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd994f182e8149ab9ee6eb669d48ee51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2s6L2s5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728008&amp;x-signature=AgcSnmGIKuxfbETddRwVucqKgBQ%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>Schema Evolution</strong>ï¼š æ”¯æŒå¤šæ•°æ®æºçš„å¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹ï¼Œç»Ÿä¸€å…¼å®¹ä¸åŒæ•°æ®æºï¼ˆå¦‚Hiveã€MySQLã€Kafkaç­‰ï¼‰çš„Schemaå·®å¼‚</li>
<li><strong>Concurrency Control</strong>ï¼š æ”¯æŒå¤šæ•°æ®æºå¹¶å‘æ§åˆ¶ï¼Œæ”¯æŒåŠ¨æ€è°ƒæ•´å¹¶å‘åº¦ï¼Œé€‚é…ä¸åŒè´Ÿè½½åœºæ™¯</li>
</ul>
<h4 data-id="heading-27">å…­ã€æ€»ç»“</h4>
<p>æœ¬æ¬¡åˆ†äº«ç³»ç»Ÿåœ°ä»‹ç»äº†è½¬è½¬åœ¨å¤§æ•°æ®æ²»ç†é¢†åŸŸï¼Œåº”ç”¨AIå¤§æ¨¡å‹æŠ€æœ¯å®ç°è‡ªåŠ¨å®‰å…¨æ‰“æ ‡çš„å®Œæ•´å®è·µä¸æ¢ç´¢ã€‚é€šè¿‡å›é¡¾äº†é¡¹ç›®çš„åº”ç”¨èƒŒæ™¯ã€æŠ€æœ¯æ–¹æ¡ˆå®ç°ã€æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥ä»¥åŠæœªæ¥è§„åˆ’ï¼Œå±•ç¤ºäº†ä¸€ä¸ªä»æ¦‚å¿µåˆ°è½åœ°çš„AIé©±åŠ¨æ•°æ®å®‰å…¨æ²»ç†é¡¹ç›®ä»0åˆ°1çš„å®Œæ•´æ„å»ºè¿‡ç¨‹ã€‚</p>
<p>æ­¤å·¥ç¨‹ä¸ä»…è¯æ˜äº†AIæŠ€æœ¯åœ¨å®é™…æ•°æ®æ²»ç†åœºæ™¯ä¸­çš„å¯è¡Œæ€§å’Œä»·å€¼ï¼Œæ›´è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°å‡ ä¸ªæ ¸å¿ƒè®¤çŸ¥ï¼š</p>
<ul>
<li><strong>"ç”¨å¥½æ¨¡å‹" æ¯” "è¿½æ±‚å¤§æ¨¡å‹" æ›´ä¸ºå…³é”®</strong>ï¼šæˆ‘ä»¬å¹¶éå•çº¯è¿½æ±‚æ¨¡å‹è§„æ¨¡ï¼Œè€Œæ˜¯é€šè¿‡Promptå·¥ç¨‹ã€ä»»åŠ¡æ‹†åˆ†ã€åå¤„ç†é€»è¾‘ç­‰æŠ€æœ¯æ‰‹æ®µï¼Œå°†å¤§æ¨¡å‹èƒ½åŠ›ä¸å…·ä½“ä¸šåŠ¡åœºæ™¯æ·±åº¦é€‚é…ï¼Œå®ç°äº†æŠ€æœ¯ä¸ä¸šåŠ¡çš„çœŸæ­£èåˆã€‚</li>
<li><strong>å·¥ç¨‹åŒ–èƒ½åŠ›æ˜¯AIåº”ç”¨è½åœ°çš„æ ¹æœ¬ä¿éšœ</strong>ï¼šAIåº”ç”¨è¦èµ°å‘æˆç†Ÿå¯é ï¼Œç¦»ä¸å¼€ç¨³å®šçš„ç³»ç»Ÿæ¶æ„ã€é«˜æ•ˆçš„ä»»åŠ¡è°ƒåº¦ã€å®Œå–„çš„ç›‘æ§è¿ç»´ç­‰å·¥ç¨‹åŒ–ä½“ç³»çš„æ”¯æ’‘ã€‚æ­¤æ¬¡å®è·µï¼Œæˆ‘ä»¬æ„å»ºäº†è‡ªåŠ¨åŒ–é—­ç¯ä¸ä¼˜åŒ–æœºåˆ¶ï¼Œç¡®ä¿äº†ç³»ç»Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„æŒç»­ç¨³å®šè¿è¡Œã€‚</li>
<li><strong>æŒç»­ä¼˜åŒ–ä¸è¿­ä»£æ˜¯AIåº”ç”¨çš„ç”Ÿå‘½çº¿</strong>ï¼šAIåº”ç”¨çš„æ€§èƒ½ä¼šæŒç»­è¢«ä¼˜åŒ–ã€‚é¡¹ç›®éœ€è¦å»ºç«‹åŸºäºåé¦ˆçš„è¿­ä»£æœºåˆ¶ï¼ŒæŒç»­å¯¹æç¤ºè¯ã€å·¥ä½œæµã€ä¸šåŠ¡è§„åˆ™è¿›è¡Œè°ƒä¼˜ï¼Œå¹¶ç´§è·ŸæŠ€æœ¯æ¼”è¿›ï¼Œæ‰èƒ½ä¿æŒç³»ç»Ÿçš„å‡†ç¡®æ€§å’Œç”Ÿå‘½åŠ›ã€‚</li>
</ul>
<p>æœªæ¥ï¼Œå°†åœ¨ç°æœ‰åŸºç¡€ä¸ŠæŒç»­ç²¾è¿›ï¼Œå…³æ³¨AIç¤¾åŒºä¸æ•°æ®æ²»ç†é¢†åŸŸçš„æœ€æ–°åŠ¨æ€ï¼Œç§¯æå¸æ”¶è¡Œä¸šå…ˆè¿›ç»éªŒã€‚æˆ‘ä»¬æœŸæœ›é€šè¿‡æŒç»­çš„æ¢ç´¢ä¸è´¡çŒ®ï¼Œæ¨åŠ¨è½¬è½¬åœ¨å¤§æ•°æ®æ²»ç†ä¸AIæŠ€æœ¯èåˆæ–¹é¢å½¢æˆæ›´åŠ æˆç†Ÿã€ç»Ÿä¸€çš„è§£å†³æ–¹æ¡ˆï¼Œä¸ºä¼ä¸šçš„æ•°æ®å®‰å…¨ä¸ä»·å€¼é‡Šæ”¾æä¾›æ›´åšå®çš„æ™ºèƒ½æ”¯æ’‘ã€‚</p>
<blockquote>
<p><strong>å…³äºä½œè€…</strong></p>
</blockquote>
<p>å¼ é¾™ä¸¥ï¼Œè½¬è½¬æ•°æ®æ™ºèƒ½éƒ¨é«˜çº§æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆï¼Œä¸“æ³¨äºæ•°æ®å¼€å‘ä¸æ•°æ®æ²»ç†å¹³å°å»ºè®¾ã€‚</p>
<p><code>&gt; è½¬è½¬ç ”å‘ä¸­å¿ƒåŠä¸šç•Œå°ä¼™ä¼´ä»¬çš„æŠ€æœ¯å­¦ä¹ äº¤æµå¹³å°ï¼Œå®šæœŸåˆ†äº«ä¸€çº¿çš„å®æˆ˜ç»éªŒåŠä¸šç•Œå‰æ²¿çš„æŠ€æœ¯è¯é¢˜ã€‚</code></p>
<p><code>&gt; å…³æ³¨å…¬ä¼—å·ã€Œè½¬è½¬æŠ€æœ¯ã€ï¼ˆç»¼åˆæ€§ï¼‰ã€ã€Œå¤§è½¬è½¬FEã€ï¼ˆä¸“æ³¨äºFEï¼‰ã€ã€Œè½¬è½¬QAã€ï¼ˆä¸“æ³¨äºQAï¼‰ï¼Œæ›´å¤šå¹²è´§å®è·µï¼Œæ¬¢è¿äº¤æµåˆ†äº«~</code></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SAM çœŸçš„å¼€å§‹ã€Œåˆ†å‰²ä¸€åˆ‡ã€ï¼Œä»å›¾åƒåˆ°å£°éŸ³ï¼ŒMeta å¼€æº SAM Audio]]></title>    <link>https://juejin.cn/post/7585097023748112399</link>    <guid>https://juejin.cn/post/7585097023748112399</guid>    <pubDate>2025-12-19T05:52:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585097023748112399" data-draft-id="7585083729972510772" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SAM çœŸçš„å¼€å§‹ã€Œåˆ†å‰²ä¸€åˆ‡ã€ï¼Œä»å›¾åƒåˆ°å£°éŸ³ï¼ŒMeta å¼€æº SAM Audio"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-19T05:52:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SAM çœŸçš„å¼€å§‹ã€Œåˆ†å‰²ä¸€åˆ‡ã€ï¼Œä»å›¾åƒåˆ°å£°éŸ³ï¼ŒMeta å¼€æº SAM Audio
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:52:13.000Z" title="Fri Dec 19 2025 05:52:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç»§Â SAMï¼ˆSegment Anything Modelï¼‰Â ä¸ SAM 3D ä¹‹åï¼ŒMeta æ­£å¼å°†Â Segment AnythingÂ ç³»åˆ—æ‰©å±•åˆ°äº†éŸ³é¢‘é¢†åŸŸã€‚</p>
<p>æœ€æ–°å‘å¸ƒçš„ <strong>SAM Audio</strong>ï¼Œæ˜¯ä¸€æ¬¾ç»Ÿä¸€çš„éŸ³é¢‘åˆ†å‰²æ¨¡å‹ã€‚å®ƒæ”¯æŒé€šè¿‡æ–‡æœ¬ã€è§†è§‰çº¿ç´¢ä»¥åŠæ—¶é—´è·¨åº¦æç¤ºï¼Œä»å¤æ‚çš„éŸ³é¢‘æ··åˆä¸­åˆ†ç¦»å‡ºä»»æ„ç›®æ ‡å£°éŸ³ã€‚è¿™ä¸€èƒ½åŠ›ä½¿éŸ³é¢‘åˆ†å‰²ç¬¬ä¸€æ¬¡å…·å¤‡äº†ç±»ä¼¼ SAM åœ¨å›¾åƒé¢†åŸŸä¸­çš„ã€Œé€šç”¨æ€§ã€ã€‚</p>
<p>Metaçš„Segment Anythingç³»åˆ—æ­£åœ¨æ„å»ºä¸€ä¸ªå¤šæ¨¡æ€åˆ†å‰²å¸å›½ã€‚ä»å›¾åƒçš„SAMåˆ°3Dçš„SAM 3Dï¼Œå†åˆ°ç°åœ¨çš„SAM Audioï¼ŒMetaæ­£åœ¨å®ç°â€œåˆ†å‰²ä¸€åˆ‡â€çš„å®Œæ•´æ„¿æ™¯ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼ŒMeta è¿˜åŒæ­¥å¼€æ”¾äº†æ ¸å¿ƒæ¨¡å‹Â Perception Encoder Audiovisualï¼ˆPE-AVï¼‰ï¼Œå¹¶å‘å¸ƒäº†å®Œæ•´çš„è¯„æµ‹ä½“ç³»ï¼ŒåŒ…æ‹¬Â SAM Audio-BenchÂ ä¸Â SAM Audio Judgeã€‚</p>
<p>Meta å·²å°†SAM Audio æ•´åˆè¿› Segment Anything Playgroundï¼Œè¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„å¹³å°ï¼Œä»»ä½•äººéƒ½å¯ä»¥åœ¨å…¶ä¸­ä½“éªŒå…¶æœ€æ–°æ¨¡å‹ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c3a2e02a6d04c40a1c810d22495c885~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728333&amp;x-signature=%2BTO%2B3hbyMwbK1amgpSCn4avVXRY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Faidemos.meta.com%2Fsegment-anything" target="_blank" title="https://aidemos.meta.com/segment-anything" ref="nofollow noopener noreferrer">aidemos.meta.com/segment-anyâ€¦</a></strong></p>
<h2 data-id="heading-0"><strong>SAM Audio æƒ³è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong></h2>
<p>å½“ Meta å‘å¸ƒÂ SAM AudioÂ æ—¶ï¼Œå¾ˆå¤šäººçš„ç¬¬ä¸€ååº”æ˜¯ï¼šâ€œæ˜¯ä¸æ˜¯åˆä¸€ä¸ªéŸ³é¢‘åˆ†ç¦»æ¨¡å‹ï¼Ÿâ€ä½†å¦‚æœåªæ˜¯æŠŠæ··åˆéŸ³é¢‘åˆ‡æˆå‡ æ¡å¹²å‡€éŸ³è½¨ï¼Œå…¶å®å¹¶ä¸éœ€è¦ä¸€ä¸ªå«ã€ŒSegment Anythingã€çš„æ–°æˆå‘˜ã€‚</p>
<p>SAM Audio å¹¶ä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„éŸ³é¢‘åˆ‡åˆ†å·¥å…·ã€‚å®ƒçœŸæ­£æƒ³è§£å†³çš„é—®é¢˜ï¼Œæ˜¯ï¼šå¦‚ä½•è®©äººä»¥â€œè‡ªç„¶çš„æ–¹å¼â€ï¼Œåœ¨å¤æ‚çœŸå®ä¸–ç•Œä¸­ï¼ŒæŒ‡æŒ¥ AI å»ç†è§£å¹¶åˆ†ç¦»å£°éŸ³ã€‚è¿™ä¹Ÿæ˜¯å®ƒä¸ä»¥å¾€éŸ³é¢‘åˆ†ç¦»æ¨¡å‹æœ€æ ¹æœ¬çš„ä¸åŒã€‚</p>
<p>åœ¨ä¼ ç»ŸéŸ³é¢‘å·¥ç¨‹æˆ– AI æ¨¡å‹ä¸­ï¼Œâ€œåˆ†ç¦»â€å¾€å¾€æ„å‘³ç€ï¼šäººå£° / ä¼´å¥äºŒé€‰ä¸€ï¼Œå›ºå®šç±»åˆ«çš„éŸ³æ•ˆæå–ï¼Œåœ¨å¹²å‡€ã€å¯æ§çš„æ•°æ®é›†ä¸Šè¿è¡Œã€‚è¿™äº›æ–¹æ³•åœ¨æŠ€æœ¯ä¸Šå¹¶ä¸ç®€å•ï¼Œä½†å®ƒä»¬é»˜è®¤äº†ä¸€ä¸ªå‰æï¼šç”¨æˆ·å¿…é¡»é€‚åº”æ¨¡å‹ï¼Œè€Œä¸æ˜¯æ¨¡å‹é€‚åº”ç”¨æˆ·ã€‚</p>
<p>SAM Audio åè¿‡æ¥æå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœäººèƒ½ç”¨è¯­è¨€ã€æŒ‡å‘ã€æ—¶é—´æ„ŸçŸ¥æ¥ç†è§£å£°éŸ³ï¼Œæ¨¡å‹ä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿå› æ­¤ï¼ŒSAM Audio å¹¶ä¸æ˜¯ç®€å•åœ°ã€ŒæŠŠéŸ³é¢‘åˆ‡æ–­ã€ï¼Œè€Œæ˜¯è¯•å›¾æ„å»ºä¸€ä¸ªå¯è¢«è‡ªç„¶æç¤ºé©±åŠ¨çš„é€šç”¨éŸ³é¢‘åˆ†å‰²ç³»ç»Ÿã€‚</p>
<p>å®ƒçš„ç›®æ ‡æ›´æ¥è¿‘ï¼š</p>
<ul>
<li>åœ¨å¤æ‚ç¯å¢ƒä¸­å®šä½ã€Œä½ æƒ³è¦çš„é‚£ä¸ªå£°éŸ³ã€</li>
<li>å¹¶åœ¨ä¸ä¾èµ–ä¸“ä¸šéŸ³é¢‘çŸ¥è¯†çš„æƒ…å†µä¸‹å®Œæˆæ“ä½œ</li>
</ul>
<h2 data-id="heading-1"><strong>ä¸‰ç§æç¤ºæ–¹å¼ï¼Œå¯¹åº”ä¸‰ç§â€œäººç±»ç›´è§‰â€</strong></h2>
<p>åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œäººä»¬ä»æ¥ä¸æ˜¯åªé ã€Œå¬ã€æ¥ç†è§£å£°éŸ³çš„ã€‚æˆ‘ä»¬ä¼šç»“åˆï¼š</p>
<ul>
<li>è¯­è¨€æè¿°ï¼ˆâ€œåˆšæ‰é‚£ä¸ªç‹—å«å£°â€ï¼‰</li>
<li>è§†è§‰çº¿ç´¢ï¼ˆâ€œç”»é¢é‡Œæ‹¿ç€éº¦å…‹é£çš„äººâ€ï¼‰</li>
<li>æ—¶é—´æ„ŸçŸ¥ï¼ˆâ€œä» 1 åˆ†é’Ÿå¼€å§‹ä¸€ç›´åˆ°ç»“å°¾â€ï¼‰</li>
</ul>
<p>SAM Audio æ­£æ˜¯å›´ç»•è¿™ç§äººç±»æ„ŸçŸ¥æ–¹å¼ï¼Œè®¾è®¡äº†ä¸‰ç±»æç¤ºæœºåˆ¶ï¼š</p>
<ul>
<li><strong>æ–‡æœ¬æç¤ºï¼š</strong> ç”¨è‡ªç„¶è¯­è¨€å®šä¹‰ç›®æ ‡å£°éŸ³</li>
<li><strong>è§†è§‰æç¤ºï¼š</strong> é€šè¿‡ç‚¹å‡»ç”»é¢ä¸­çš„å£°æºæ¥æŒ‡ç¤º</li>
<li><strong>æ—¶é—´è·¨åº¦æç¤º</strong> <strong>ï¼ˆSpan Promptï¼‰</strong> <strong>ï¼š</strong> æ ‡è®°å£°éŸ³å‡ºç°çš„åŒºé—´</li>
</ul>
<p>å…¶ä¸­ï¼Œæ—¶é—´è·¨åº¦æç¤ºå¹¶ä¸æ˜¯ç®€å•çš„æ—¶é—´è£å‰ªï¼Œè€Œæ˜¯ä¸€æ¬¡æ€§ä½œç”¨äºæ•´æ®µéŸ³é¢‘åˆ†ç¦»é€»è¾‘ï¼Œç‰¹åˆ«é€‚åˆé•¿éŸ³é¢‘å’ŒæŒç»­æ€§å™ªå£°ã€‚</p>
<p>è¿™ä½¿å¾—éŸ³é¢‘åˆ†å‰²ç¬¬ä¸€æ¬¡ä¸å†æ˜¯ã€Œè°ƒå‚æ•°çš„å·¥ç¨‹é—®é¢˜ã€ï¼Œè€Œæ˜¯ã€Œç»™æç¤ºçš„äº¤äº’é—®é¢˜ã€ã€‚</p>
<h2 data-id="heading-2"><strong>PE-AV çš„æ„ä¹‰ï¼šä¸æ˜¯â€œçœ‹è§†é¢‘â€ï¼Œè€Œæ˜¯â€œç†è§£å£°æºâ€</strong></h2>
<p>SAM Audio çš„æ€§èƒ½æ ¸å¿ƒæ¥è‡ª <strong>Perception Encoder Audiovisualï¼ˆPE-AVï¼‰</strong> ã€‚å¦‚æœæ²¡æœ‰Â PE-AVï¼ˆPerception Encoder Audiovisualï¼‰ï¼ŒSAM AudioÂ åªèƒ½æ˜¯ä¸€ä¸ªæ€§èƒ½ä¸é”™çš„éŸ³é¢‘æ¨¡å‹ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df5ed85096fb49ec80167385aeefbddf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728333&amp;x-signature=ySdrsZZBoOO5kWKWqaQ%2B6bPlwnk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>

<ul>
<li>PE-AV è®ºæ–‡åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.meta.com%2Fresearch%2Fpublications%2Fpushing-the-frontier-of-audiovisual-perception-with-large-scale-multimodal-correspondence-learning%2F" target="_blank" title="https://ai.meta.com/research/publications/pushing-the-frontier-of-audiovisual-perception-with-large-scale-multimodal-correspondence-learning/" ref="nofollow noopener noreferrer">ai.meta.com/research/puâ€¦</a></li>
<li>ä»£ç åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebookresearch%2Fperception_models" target="_blank" title="https://github.com/facebookresearch/perception_models" ref="nofollow noopener noreferrer">github.com/facebookresâ€¦</a></li>
</ul>
<p>PE-AVå¯ä»¥ç†è§£ä¸ºSAM Audioçš„â€œè€³æœµâ€ï¼Œè®©å®ƒå…·å¤‡äº†çœŸå®ä¸–ç•Œæ„ŸçŸ¥èƒ½åŠ›ã€‚PE-AV æ„å»ºäº Meta ä»Šå¹´æ—©äº›æ—¶å€™å¼€æºçš„ Perception Encoder ä¹‹ä¸Šï¼Œå¹¶è¿›ä¸€æ­¥æ‰©å±•åˆ°è§†å¬è”åˆå»ºæ¨¡ã€‚å®ƒé€šè¿‡åœ¨ç²¾ç¡®çš„æ—¶é—´ç‚¹ä¸Šå¯¹é½è§†é¢‘å¸§ä¸éŸ³é¢‘ï¼Œæä¾›äº†è¯­ä¹‰ä¸°å¯Œçš„ç‰¹å¾è¡¨ç¤ºã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d460856e95b42a08fbf9517579b2689~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728333&amp;x-signature=SiYG7snZy71CrhU5RnZUpgcpUCY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ç§æ—¶é—´å¯¹é½æœºåˆ¶è‡³å…³é‡è¦â€”â€”å®ƒå°†â€œæ‰€è§â€ä¸â€œæ‰€é—»â€ç²¾ç¡®åŒ¹é…ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿç†è§£ç”»é¢ä¸­çš„è¯´è¯è€…ä½•æ—¶å¼€å£ï¼Œä¹å™¨ä½•æ—¶è¢«æ¼”å¥ï¼Œç”šè‡³æ¨æ–­ç”»é¢å¤–å‘ç”Ÿçš„å£°éŸ³äº‹ä»¶ã€‚</p>
<p>æŠ€æœ¯å±‚é¢ï¼ŒPE-AVé›†æˆäº†å¤šä¸ªå…ˆè¿›ç»„ä»¶ï¼šä½¿ç”¨PyTorchVideoè¿›è¡Œé«˜æ•ˆè§†é¢‘å¤„ç†ï¼Œåˆ©ç”¨FAISSè¿›è¡Œå¤§è§„æ¨¡è¯­ä¹‰æœç´¢ï¼Œå¹¶é‡‡ç”¨å¯¹æ¯”å­¦ä¹ æ¡†æ¶ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7cd1975954946dc95451438f138e5cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728333&amp;x-signature=zEoRHUM7W2bjQiw1BS7xk6sGsB0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¨¡å‹åœ¨è¶…è¿‡1äº¿ä¸ªè§†é¢‘ä¸Šé€šè¿‡å¤§è§„æ¨¡å¤šæ¨¡æ€å¯¹æ¯”å­¦ä¹ è¿›è¡Œè®­ç»ƒï¼Œç¡®ä¿äº†å¹¿æ³›çš„è¦†ç›–èŒƒå›´å’Œå¼ºå¤§çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p>è¿™ç§è®¾è®¡ä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨çœŸå®è§†é¢‘åœºæ™¯ä¸­ï¼Œå‡†ç¡®åˆ†ç¦»å¯è§å£°æºï¼ˆå¦‚è®²è¯è€…ã€ä¹å™¨ï¼‰ï¼Œå¹¶ç»“åˆä¸Šä¸‹æ–‡æ¨æ–­ç”»é¢å¤–çš„å£°éŸ³äº‹ä»¶ã€‚</p>
<h2 data-id="heading-3"><strong>æ¨¡å‹æ¶æ„ä¸æ•°æ®ç­–ç•¥</strong></h2>
<p>åœ¨æ¨¡å‹å±‚é¢ï¼ŒSAM Audio é‡‡ç”¨äº†åŸºäºæµåŒ¹é…æ‰©æ•£ Transformer çš„ç”Ÿæˆå¼æ¡†æ¶ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6bfa492e5b449858f09a677c54736e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728333&amp;x-signature=BLq4rd4XqowmyiBJed8mL%2BZAprg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¨¡å‹æ¥æ”¶ï¼šä¸€æ®µæ··åˆéŸ³é¢‘ã€ä¸€ä¸ªæˆ–å¤šä¸ªå¤šæ¨¡æ€æç¤ºï¼Œå¹¶ç”Ÿæˆï¼šç›®æ ‡éŸ³è½¨ã€å‰©ä½™éŸ³è½¨</p>
<p>ä¸ºæ”¯æ’‘è¿™ä¸€æ¶æ„ï¼ŒMeta æ„å»ºäº†ä¸€å¥—å®Œæ•´çš„æ•°æ®å¼•æ“ï¼Œç”¨äºè§£å†³é«˜è´¨é‡éŸ³é¢‘åˆ†ç¦»æ•°æ®éš¾ä»¥è§„æ¨¡åŒ–çš„é—®é¢˜ã€‚è¯¥å¼•æ“åŒ…æ‹¬ï¼š</p>
<ul>
<li>è‡ªåŠ¨éŸ³é¢‘æ··åˆæµç¨‹</li>
<li>å¤šæ¨¡æ€æç¤ºç”Ÿæˆ</li>
<li>ç¨³å¥çš„ä¼ªæ ‡ç­¾æœºåˆ¶</li>
</ul>
<p>è®­ç»ƒæ•°æ®åŒæ—¶è¦†ç›–è¯­éŸ³ã€éŸ³ä¹å’Œé€šç”¨å£°éŸ³äº‹ä»¶ï¼ŒåŒ…å«çœŸå®ä¸åˆæˆåœºæ™¯ï¼Œä»è€Œæå‡æ¨¡å‹åœ¨ç°å®ç¯å¢ƒä¸­çš„é²æ£’æ€§ã€‚</p>
<h2 data-id="heading-4"><strong>å®Œæ•´è¯„ä¼°ä½“ç³»</strong></h2>
<p>ä¸æ¨¡å‹ä¸€åŒå‘å¸ƒçš„ï¼Œè¿˜æœ‰ä¸¤é¡¹å…³é”®è¯„æµ‹å·¥å…·ã€‚</p>
<p><strong>SAM Audio-Benchï¼š</strong> é¦–ä¸ªçœŸå®ç¯å¢ƒçš„éŸ³é¢‘åˆ†ç¦»åŸºå‡†æµ‹è¯•é›†ï¼Œè¦†ç›–è¯­éŸ³ã€éŸ³ä¹å’Œé€šç”¨éŸ³æ•ˆä¸‰å¤§é¢†åŸŸï¼Œæ”¯æŒæ–‡æœ¬ã€è§†è§‰å’Œæ—¶é—´è·¨åº¦ä¸‰ç§æç¤ºç±»å‹çš„è¯„ä¼°ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f53017a7e724b31a361bc52b7752408~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728333&amp;x-signature=BwMgewj%2FcQxw%2BuodpXx93lrAS%2FE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ä¼ ç»Ÿä½¿ç”¨åˆæˆéŸ³é¢‘çš„æ•°æ®é›†ä¸åŒï¼ŒSAM Audio-Benchä½¿ç”¨æ¥è‡ªå„ç§é«˜è´¨é‡æ¥æºçš„çœŸå®éŸ³é¢‘å’Œè§†é¢‘ï¼Œæ¯ä¸ª10ç§’æ ·æœ¬éƒ½é…æœ‰å¤šæ¨¡æ€æç¤ºï¼Œæ›´åŠ è´´è¿‘å®é™…åº”ç”¨åœºæ™¯ã€‚</p>
<p><strong>SAM Audio Judgeï¼š</strong> é¦–ä¸ªç”¨äºéŸ³é¢‘åˆ†ç¦»çš„è‡ªåŠ¨è¯„ä¼°æ¨¡å‹ï¼Œé‡‡ç”¨æ— å‚è€ƒè¯„ä¼°æ–¹å¼ï¼Œä»äººç±»æ„ŸçŸ¥è§’åº¦è¯„ä»·éŸ³é¢‘åˆ†ç¦»è´¨é‡ã€‚</p>
<p>ä¼ ç»ŸæŒ‡æ ‡ä¾èµ–äºåŸå§‹éŸ³è½¨çš„å¯¹æ¯”ï¼Œè€ŒSAM Audio Judgeå®šä¹‰äº†ä¹ä¸ªæ„ŸçŸ¥ç»´åº¦ï¼ŒåŒ…æ‹¬å¬å›ç‡ã€ç²¾ç¡®åº¦ã€ä¿çœŸåº¦å’Œæ•´ä½“è´¨é‡ï¼Œèƒ½æ›´å¥½åœ°åæ˜ å®é™…è†å¬ä½“éªŒã€‚</p>
<h2 data-id="heading-5"><strong>æ€§èƒ½é¢†å…ˆ</strong></h2>
<p>å®éªŒç»“æœæ˜¾ç¤ºï¼ŒSAM Audio åœ¨å¤šé¡¹ä»»åŠ¡ä¸Šè¶…è¿‡æ­¤å‰çš„é€šç”¨æ¨¡å‹ï¼Œå¹¶åœ¨å¤šä¸ªé¢†åŸŸæ¥è¿‘æˆ–è¾¾åˆ°ä¸“ç”¨æ¨¡å‹æ°´å¹³ã€‚</p>
<p>å…¶æ¨ç†é€Ÿåº¦å¿«äºå®æ—¶ï¼ˆRTF â‰ˆ 0.7ï¼‰ï¼Œå¯åœ¨ 5 äº¿è‡³ 30 äº¿å‚æ•°è§„æ¨¡ä¸‹é«˜æ•ˆè¿è¡Œã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d16f9132d9794a76adc10fe36da411ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728333&amp;x-signature=8UrIwAPsoRrfxjGbcP%2BCTTDgIto%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½†SAM Audioä»æœ‰å±€é™ï¼šç›®å‰ä¸æ”¯æŒéŸ³é¢‘æœ¬èº«ä½œä¸ºæç¤ºï¼Œæ— æç¤ºçš„å®Œæ•´éŸ³é¢‘åˆ†ç¦»ä¹Ÿä¸åœ¨å…¶èƒ½åŠ›èŒƒå›´å†…ã€‚æ­¤å¤–ï¼Œåˆ†ç¦»é«˜åº¦ç›¸ä¼¼çš„éŸ³é¢‘äº‹ä»¶ä»ç„¶å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œæ¯”å¦‚ä»åˆå”±ä¸­åˆ†ç¦»å•ä¸ªæ­Œæ‰‹æˆ–ä»ç®¡å¼¦ä¹ä¸­åˆ†ç¦»å•ä¸€ä¹å™¨ã€‚</p>
<h2 data-id="heading-6"><strong>éŸ³é¢‘æ„ŸçŸ¥AI</strong></h2>
<p>â€œéŸ³é¢‘å·¥å…·çš„æ°‘ä¸»åŒ–æ˜¯è¿ˆå‘æ›´æ˜“ç”¨ã€æ›´å…·åˆ›æ„å’ŒåŒ…å®¹æ€§AIçš„ä¸€æ­¥ã€‚â€Metaåœ¨å®˜æ–¹å£°æ˜ä¸­è¡¨ç¤ºã€‚éšç€SAM Audioçš„å‘å¸ƒï¼ŒAIä¸ä»…èƒ½å¤Ÿç†è§£å›¾åƒä¸­çš„ç‰©ä½“ã€é‡å»º3Dåœºæ™¯ï¼Œç°åœ¨è¿˜èƒ½ç²¾å‡†è¯†åˆ«å’Œåˆ†ç¦»å¤æ‚éŸ³é¢‘ç¯å¢ƒä¸­çš„å„ç§å£°éŸ³å…ƒç´ ã€‚</p>
<p>SAM Audio å¹¶ä¸æ˜¯ä¸€ä¸ªâ€œä¸‡èƒ½éŸ³é¢‘å·¥å…·â€ï¼Œä½†å®ƒæ˜ç¡®å±•ç¤ºäº†ä¸€ç§è¶‹åŠ¿ï¼š</p>
<p>éŸ³é¢‘åˆ†å‰²æ­£åœ¨ä»â€œå·¥ç¨‹é—®é¢˜â€ï¼Œèµ°å‘â€œæ„ŸçŸ¥ä¸äº¤äº’é—®é¢˜â€ã€‚ä»ä¸“ä¸šéŸ³é¢‘å·¥ç¨‹å¸ˆåˆ°æ™®é€šè§†é¢‘åˆ›ä½œè€…ï¼Œä»æ— éšœç¢æŠ€æœ¯å¼€å‘è€…åˆ°æ—¥å¸¸ç”¨æˆ·ï¼ŒSAM Audioé¢„ç¤ºç€å£°éŸ³ç¼–è¾‘å’Œå¤„ç†å°†å˜å¾—æ›´åŠ æ™ºèƒ½å’Œæ™®åŠã€‚</p>
<p>Metaå·²å°†SAM Audioå’ŒPE-AVå¼€æºï¼Œå¹¶æ•´åˆè¿›Segment Anything Playgroundå¹³å°ã€‚ä»ä»Šå¤©èµ·ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä¸Šä¼ è‡ªå·±çš„éŸ³é¢‘æˆ–è§†é¢‘æ–‡ä»¶ï¼Œä½“éªŒè¿™ä¸€çªç ´æ€§æ¨¡å‹çš„èƒ½åŠ›ã€‚</p>
<p>å½“æ¨¡å‹èƒ½å¤Ÿç†è§£æ–‡æœ¬ã€è§†è§‰å’Œæ—¶é—´çº¿ç´¢ï¼ŒéŸ³é¢‘å¤„ç†çš„é—¨æ§›å°†è¢«æ˜¾è‘—é™ä½ã€‚è¿™ä¸ä»…å¯¹åˆ›ä½œè€…å’Œç ”ç©¶è€…æœ‰ä»·å€¼ï¼Œä¹Ÿä¸ºæ— éšœç¢æŠ€æœ¯ã€è¾…åŠ©å¬è§‰ç³»ç»Ÿç­‰åº”ç”¨æ‰“å¼€äº†æ–°çš„å¯èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonå…¥é—¨æ•™ç¨‹ï¼šä»é›¶åˆ°å®æˆ˜çš„ä¿å§†çº§æŒ‡å—ï¼ˆé¿å‘å¤§å…¨ï¼‰ åŸåˆ›]]></title>    <link>https://juejin.cn/post/7585085798809829403</link>    <guid>https://juejin.cn/post/7585085798809829403</guid>    <pubDate>2025-12-19T05:45:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585085798809829403" data-draft-id="7585139951344828467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonå…¥é—¨æ•™ç¨‹ï¼šä»é›¶åˆ°å®æˆ˜çš„ä¿å§†çº§æŒ‡å—ï¼ˆé¿å‘å¤§å…¨ï¼‰ åŸåˆ›"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T05:45:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èµ„æºç«™shanxueitæˆ–com"/> <meta itemprop="url" content="https://juejin.cn/user/3669500364327483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonå…¥é—¨æ•™ç¨‹ï¼šä»é›¶åˆ°å®æˆ˜çš„ä¿å§†çº§æŒ‡å—ï¼ˆé¿å‘å¤§å…¨ï¼‰ åŸåˆ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3669500364327483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èµ„æºç«™shanxueitæˆ–com
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:45:47.000Z" title="Fri Dec 19 2025 05:45:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/419c7d2a593f41fe92d0c65bc7742c33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LWE5rqQ56uZc2hhbnh1ZWl05oiWY29t:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766727947&amp;x-signature=RPpeJDlXAnsZtJSSb6Q71B3QOrc%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251115194731_6_1.jpg" loading="lazy"/>
å­¦ä¹ Pythonçš„ç¬¬ä¸€æ­¥å¾€å¾€å°±è®©äººå¤´ç–¼â€”â€”ç¯å¢ƒå®‰è£…é…ç½®æ€»æ˜¯é‡åˆ°å„ç§å¥‡æ€ªé—®é¢˜ã€‚åˆ«æ‹…å¿ƒï¼Œè¿™ç¯‡ä¿å§†çº§æ•™ç¨‹å°†ç”¨æœ€è¯¦ç»†çš„æ–¹å¼ï¼Œå¸¦ä½ <strong>é›¶å¤±è´¥</strong>å®ŒæˆPythonç¯å¢ƒæ­å»ºã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Pythonå®‰è£…å‡†å¤‡ï¼šç‰ˆæœ¬é€‰æ‹©å¾ˆé‡è¦</h2>
<h3 data-id="heading-1">1.1 ç‰ˆæœ¬é€‰æ‹©å»ºè®®</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Pythonç‰ˆæœ¬é€‰æ‹©åŸåˆ™ï¼š</span>
<span class="hljs-comment"># 1. æ–°æ‰‹é€‰æ‹© Python 3.10-3.11ï¼ˆç¨³å®šä¸”å…¼å®¹æ€§å¥½ï¼‰</span>
<span class="hljs-comment"># 2. éœ€è¦æœ€æ–°ç‰¹æ€§é€‰æ‹© Python 3.12</span>
<span class="hljs-comment"># 3. é¿å…é€‰æ‹© Python 3.7 ä»¥ä¸‹ç‰ˆæœ¬ï¼ˆå·²åœæ­¢ç»´æŠ¤ï¼‰</span>

<span class="hljs-comment"># æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦å·²å®‰è£…Python</span>
<span class="hljs-comment"># Windows:</span>
python --version

<span class="hljs-comment"># Mac/Linux:</span>
python3 --version
</code></pre>
<h3 data-id="heading-2">1.2 ä¸‹è½½æ­£ç¡®ç‰ˆæœ¬</h3>
<ul>
<li><strong>Windowsç”¨æˆ·</strong>ï¼šè®¿é—®Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python.org%2Fdownloads%2F" target="_blank" title="https://www.python.org/downloads/" ref="nofollow noopener noreferrer">python.org</a></li>
<li><strong>Macç”¨æˆ·</strong>ï¼šæ¨èä½¿ç”¨Homebrewå®‰è£…</li>
<li><strong>Linuxç”¨æˆ·</strong>ï¼šä½¿ç”¨ç³»ç»ŸåŒ…ç®¡ç†å™¨</li>
</ul>
<h2 data-id="heading-3">äºŒã€Windowsç³»ç»Ÿå®‰è£…Pythonï¼ˆè¯¦ç»†å›¾æ–‡ï¼‰</h2>
<h3 data-id="heading-4">2.1 ä¸‹è½½å®‰è£…åŒ…</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">ä¸‹è½½åœ°å€ï¼šhttps://www.python.org/downloads/windows/</span>
<span class="hljs-meta prompt_"># </span><span class="bash">é€‰æ‹©ï¼š</span>
<span class="hljs-meta prompt_"># </span><span class="bash">- Windows installer (64-bit)  <span class="hljs-comment"># 64ä½ç³»ç»Ÿ</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">- Windows installer (32-bit)  <span class="hljs-comment"># 32ä½ç³»ç»Ÿ</span></span>
</code></pre>
<h3 data-id="heading-5">2.2 å®‰è£…æ­¥éª¤å›¾è§£</h3>
<p><strong>æ­¥éª¤1ï¼šåŒå‡»å®‰è£…æ–‡ä»¶</strong></p>
<p>text</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs">python-3.11.4-amd64.exe
</code></pre>
<p><strong>æ­¥éª¤2ï¼šå…³é”®é…ç½®ï¼ˆå¿…é¡»å‹¾é€‰ï¼‰</strong></p>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®‰è£…ç•Œé¢é€‰é¡¹ï¼š</span>
â˜‘ Add Python <span class="hljs-number">3.11</span> to PATH    <span class="hljs-comment"># â˜…â˜…â˜… æœ€é‡è¦ï¼å¿…é¡»å‹¾é€‰ â˜…â˜…â˜…</span>
â˜‘ Install launcher <span class="hljs-keyword">for</span> <span class="hljs-built_in">all</span> users
â˜‘ Associate files <span class="hljs-keyword">with</span> Python

<span class="hljs-comment"># å®‰è£…ç±»å‹é€‰æ‹©ï¼š</span>
â—‹ Install Now           <span class="hljs-comment"># é»˜è®¤å®‰è£…ï¼ˆCç›˜ï¼‰</span>
â— Customize installation <span class="hljs-comment"># æ¨èï¼šè‡ªå®šä¹‰å®‰è£…ä½ç½®</span>
</code></pre>
<p><strong>æ­¥éª¤3ï¼šè‡ªå®šä¹‰å®‰è£…ä½ç½®</strong></p>
<p>python</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># å»ºè®®å®‰è£…è·¯å¾„ï¼ˆé¿å…Cç›˜ç©ºé—´ä¸è¶³ï¼‰ï¼š</span>
<span class="hljs-section">D:\Python\Python311      # æ¨èè·¯å¾„</span>
<span class="hljs-comment"># æˆ–</span>
<span class="hljs-section">E:\Development\Python\Python311</span>
</code></pre>
<p><strong>æ­¥éª¤4ï¼šé«˜çº§é€‰é¡¹</strong></p>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-sql" lang="sql"># å…¨éƒ¨å‹¾é€‰ï¼š
â˜‘ Install <span class="hljs-keyword">for</span> <span class="hljs-keyword">all</span> users
â˜‘ Associate files <span class="hljs-keyword">with</span> Python
â˜‘ <span class="hljs-keyword">Create</span> shortcuts
â˜‘ <span class="hljs-keyword">Add</span> Python <span class="hljs-keyword">to</span> environment variables
â˜‘ Precompile standard library
â˜‘ Download debugging symbols
â˜‘ Download debug binaries
</code></pre>
<h3 data-id="heading-6">2.3 éªŒè¯å®‰è£…æˆåŠŸ</h3>
<p>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆCMDï¼‰ï¼š</p>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">æ£€æŸ¥Pythonç‰ˆæœ¬</span>
python --version
<span class="hljs-meta prompt_"># </span><span class="bash">è¾“å‡ºï¼šPython 3.11.4</span>
<span class="hljs-meta prompt_">
# </span><span class="bash">è¿›å…¥Pythonäº¤äº’æ¨¡å¼</span>
python
<span class="hljs-meta prompt_">&gt;</span><span class="bash">&gt;&gt; <span class="hljs-built_in">print</span>(<span class="hljs-string">"Hello, Python!"</span>)</span>
Hello, Python!
<span class="hljs-meta prompt_">&gt;</span><span class="bash">&gt;&gt; <span class="hljs-built_in">exit</span>()  <span class="hljs-comment"># é€€å‡º</span></span>
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€Macç³»ç»Ÿå®‰è£…Python</h2>
<h3 data-id="heading-8">3.1 ä½¿ç”¨Homebrewå®‰è£…ï¼ˆæ¨èï¼‰</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-less" lang="less"># <span class="hljs-number">1</span>. é¦–å…ˆå®‰è£…<span class="hljs-selector-tag">Homebrew</span>ï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
/<span class="hljs-selector-tag">bin</span>/<span class="hljs-selector-tag">bash</span> <span class="hljs-selector-tag">-c</span> "$(curl -fsSL <span class="hljs-attribute">https</span>:<span class="hljs-comment">//raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</span>

# <span class="hljs-number">2</span>. å®‰è£…Python
brew install python<span class="hljs-variable">@3</span>.<span class="hljs-number">11</span>

# <span class="hljs-number">3</span>. é…ç½®ç¯å¢ƒå˜é‡
echo <span class="hljs-string">'export PATH="/usr/local/opt/python@3.11/bin:$PATH"'</span> &gt;&gt; ~/.zshrc
source ~/.zshrc

# <span class="hljs-number">4</span>. éªŒè¯å®‰è£…
python3 --version
</code></pre>
<h3 data-id="heading-9">3.2 å®˜æ–¹å®‰è£…åŒ…æ–¹å¼</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½pkgæ–‡ä»¶å®‰è£…åï¼ŒéªŒè¯ï¼š</span>
<span class="hljs-comment"># æ£€æŸ¥Python3æ˜¯å¦å®‰è£…æˆåŠŸ</span>
python3 --version

<span class="hljs-comment"># åˆ›å»ºåˆ«åï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿ä½¿ç”¨pythonå‘½ä»¤ï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"alias python=python3"</span> &gt;&gt; ~/.zshrc
<span class="hljs-built_in">source</span> ~/.zshrc
</code></pre>
<h2 data-id="heading-10">å››ã€Linuxç³»ç»Ÿå®‰è£…Python</h2>
<h3 data-id="heading-11">4.1 Ubuntu/Debianç³»ç»Ÿ</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ›´æ–°åŒ…åˆ—è¡¨</span>
sudo apt update

<span class="hljs-comment"># 2. å®‰è£…Pythonå’Œç›¸å…³å·¥å…·</span>
sudo apt install python3 python3-pip python3-venv

<span class="hljs-comment"># 3. å®‰è£…æ„å»ºä¾èµ–ï¼ˆå¯é€‰ï¼Œç”¨äºç¼–è¯‘æŸäº›åŒ…ï¼‰</span>
sudo apt install build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libreadline-dev libffi-dev libsqlite3-dev wget libbz2-dev

<span class="hljs-comment"># 4. è®¾ç½®é»˜è®¤Pythonç‰ˆæœ¬ï¼ˆå¦‚æœç³»ç»Ÿæœ‰å¤šä¸ªç‰ˆæœ¬ï¼‰</span>
sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 1
</code></pre>
<h3 data-id="heading-12">4.2 CentOS/RHELç³»ç»Ÿ</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…Python 3</span>
sudo yum install python3

<span class="hljs-comment"># 2. å®‰è£…å¼€å‘å·¥å…·</span>
sudo yum groupinstall <span class="hljs-string">"Development Tools"</span>
sudo yum install openssl-devel bzip2-devel libffi-devel

<span class="hljs-comment"># 3. å®‰è£…pip</span>
sudo yum install python3-pip
</code></pre>
<h2 data-id="heading-13">äº”ã€é…ç½®Pythonå¼€å‘ç¯å¢ƒ</h2>
<h3 data-id="heading-14">5.1 é…ç½®pipé•œåƒæºï¼ˆå›½å†…åŠ é€Ÿï¼‰</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># Windowsåœ¨CMDä¸­æ‰§è¡Œï¼š</span>
pip config <span class="hljs-keyword">set</span> <span class="hljs-keyword">global</span>.index-url https:<span class="hljs-comment">//pypi.tuna.tsinghua.edu.cn/simple</span>

<span class="hljs-meta"># Mac/Linuxåœ¨ç»ˆç«¯æ‰§è¡Œï¼š</span>
pip3 config <span class="hljs-keyword">set</span> <span class="hljs-keyword">global</span>.index-url https:<span class="hljs-comment">//pypi.tuna.tsinghua.edu.cn/simple</span>

<span class="hljs-meta"># å¸¸ç”¨é•œåƒæºï¼š</span>
<span class="hljs-meta"># æ¸…åï¼šhttps://pypi.tuna.tsinghua.edu.cn/simple</span>
<span class="hljs-meta"># é˜¿é‡Œï¼šhttps://mirrors.aliyun.com/pypi/simple</span>
<span class="hljs-meta"># è…¾è®¯ï¼šhttps://mirrors.cloud.tencent.com/pypi/simple</span>
</code></pre>
<h3 data-id="heading-15">5.2 å‡çº§pipå’Œsetuptools</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Windows:</span>
python -m pip install --upgrade pip setuptools

<span class="hljs-comment"># Mac/Linux:</span>
python3 -m pip install --upgrade pip setuptools
</code></pre>
<h3 data-id="heading-16">5.3 å®‰è£…è™šæ‹Ÿç¯å¢ƒå·¥å…·</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…virtualenvï¼ˆæ¨èï¼‰</span>
pip install virtualenv

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨venvï¼ˆPython 3.3+è‡ªå¸¦ï¼‰</span>
<span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š</span>
python -m venv myenv

<span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š</span>
<span class="hljs-comment"># Windows:</span>
myenv\Scripts\activate

<span class="hljs-comment"># Mac/Linux:</span>
<span class="hljs-built_in">source</span> myenv/bin/activate

<span class="hljs-comment"># é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š</span>
deactivate
</code></pre>
<h2 data-id="heading-17">å…­ã€å®‰è£…å¸¸ç”¨å¼€å‘å·¥å…·</h2>
<h3 data-id="heading-18">6.1 VS Codeé…ç½®Pythonå¼€å‘ç¯å¢ƒ</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…VS Codeæ‰©å±•ï¼š</span>
<span class="hljs-comment"># - Python (Microsoft)</span>
<span class="hljs-comment"># - Python Extension Pack</span>
<span class="hljs-comment"># - Python Docstring Generator</span>
<span class="hljs-comment"># - Python Indent</span>

<span class="hljs-comment"># 2. é…ç½®settings.json</span>
{
    <span class="hljs-string">"python.defaultInterpreterPath"</span>: <span class="hljs-string">"D:\Python\Python311\python.exe"</span>,
    <span class="hljs-string">"python.linting.enabled"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"python.linting.pylintEnabled"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"python.formatting.provider"</span>: <span class="hljs-string">"black"</span>,
    <span class="hljs-string">"python.terminal.activateEnvironment"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h3 data-id="heading-19">6.2 PyCharmç¤¾åŒºç‰ˆå®‰è£…</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">1. ä¸‹è½½åœ°å€ï¼šhttps://www.jetbrains.com/pycharm/download/</span>
<span class="hljs-meta prompt_"># </span><span class="bash">2. å…è´¹ä½¿ç”¨ç¤¾åŒºç‰ˆ</span>
<span class="hljs-meta prompt_"># </span><span class="bash">3. é…ç½®Pythonè§£é‡Šå™¨ï¼š</span>
<span class="hljs-meta prompt_"># </span><span class="bash">   File â†’ Settings â†’ Project: YourProject â†’ Python Interpreter</span>
<span class="hljs-meta prompt_"># </span><span class="bash">   ç‚¹å‡»é½¿è½® â†’ Add â†’ System Interpreter â†’ é€‰æ‹©ä½ çš„Pythonå®‰è£…è·¯å¾„</span>
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-21">7.1 "pythonä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤"</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">é—®é¢˜ï¼šå¿˜è®°å‹¾é€‰<span class="hljs-string">"Add Python to PATH"</span></span>
<span class="hljs-meta prompt_"># </span><span class="bash">è§£å†³æ–¹æ¡ˆï¼š</span>
<span class="hljs-meta prompt_">
# </span><span class="bash">æ–¹æ³•1ï¼šæ‰‹åŠ¨æ·»åŠ ç¯å¢ƒå˜é‡</span>
<span class="hljs-meta prompt_"># </span><span class="bash">1. å³å‡»<span class="hljs-string">"æ­¤ç”µè„‘"</span> â†’ å±æ€§ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½®</span>
<span class="hljs-meta prompt_"># </span><span class="bash">2. ç¯å¢ƒå˜é‡ â†’ ç³»ç»Ÿå˜é‡ â†’ Path â†’ ç¼–è¾‘</span>
<span class="hljs-meta prompt_"># </span><span class="bash">3. æ·»åŠ Pythonå®‰è£…è·¯å¾„å’ŒScriptsè·¯å¾„ï¼š</span>
<span class="hljs-meta prompt_"># </span><span class="bash">   C:\Users\YourName\AppData\Local\Programs\Python\Python311\
<span class="hljs-comment">#    C:\Users\YourName\AppData\Local\Programs\Python\Python311\Scripts\</span>
</span><span class="hljs-meta prompt_">
# </span><span class="bash">æ–¹æ³•2ï¼šé‡æ–°å®‰è£…å¹¶å‹¾é€‰<span class="hljs-string">"Add Python to PATH"</span></span>
<span class="hljs-meta prompt_">
# </span><span class="bash">æ–¹æ³•3ï¼šä½¿ç”¨å®Œæ•´è·¯å¾„</span>
C:\Python311\python.exe your_script.py
</code></pre>
<h3 data-id="heading-22">7.2 pipå‘½ä»¤ä¸å¯ç”¨</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è§£å†³æ–¹æ¡ˆï¼š</span>
<span class="hljs-comment"># 1. ç¡®ä¿Scriptsç›®å½•åœ¨PATHä¸­</span>
<span class="hljs-comment"># 2. ä½¿ç”¨python -m pipä»£æ›¿pip</span>
python -m pip install package_name

<span class="hljs-comment"># 3. é‡æ–°å®‰è£…pip</span>
python -m ensurepip --upgrade
</code></pre>
<h3 data-id="heading-23">7.3 æƒé™é—®é¢˜ï¼ˆMac/Linuxï¼‰</h3>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨sudoæˆ–pipçš„--useré€‰é¡¹</span>
sudo pip3 install package_name
<span class="hljs-comment"># æˆ–</span>
pip3 install --user package_name
</code></pre>
<h2 data-id="heading-24">å…«ã€éªŒè¯å®Œæ•´ç¯å¢ƒé…ç½®</h2>
<p>åˆ›å»ºæµ‹è¯•è„šæœ¬Â <code>test_environment.py</code>ï¼š</p>
<p>python</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
Pythonç¯å¢ƒæµ‹è¯•è„šæœ¬
è¿è¡Œæ­¤è„šæœ¬æ£€æŸ¥ç¯å¢ƒæ˜¯å¦é…ç½®æ­£ç¡®
"""</span>

<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> platform

<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_python_version</span>():
    <span class="hljs-string">"""æ£€æŸ¥Pythonç‰ˆæœ¬"""</span>
    version_info = sys.version_info
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Pythonç‰ˆæœ¬: <span class="hljs-subst">{sys.version}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¸»ç‰ˆæœ¬å·: <span class="hljs-subst">{version_info.major}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¬¡ç‰ˆæœ¬å·: <span class="hljs-subst">{version_info.minor}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¾®ç‰ˆæœ¬å·: <span class="hljs-subst">{version_info.micro}</span>"</span>)
    
    <span class="hljs-keyword">if</span> version_info.major == <span class="hljs-number">3</span> <span class="hljs-keyword">and</span> version_info.minor &gt;= <span class="hljs-number">8</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… Pythonç‰ˆæœ¬æ£€æŸ¥é€šè¿‡"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âš ï¸  å»ºè®®å‡çº§åˆ°Python 3.8æˆ–æ›´é«˜ç‰ˆæœ¬"</span>)
    
    <span class="hljs-keyword">return</span> version_info

<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_platform</span>():
    <span class="hljs-string">"""æ£€æŸ¥æ“ä½œç³»ç»Ÿ"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ“ä½œç³»ç»Ÿ: <span class="hljs-subst">{platform.system()}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ“ä½œç³»ç»Ÿç‰ˆæœ¬: <span class="hljs-subst">{platform.version()}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç³»ç»Ÿæ¶æ„: <span class="hljs-subst">{platform.machine()}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†å™¨: <span class="hljs-subst">{platform.processor()}</span>"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_pip_packages</span>():
    <span class="hljs-string">"""æ£€æŸ¥å¸¸ç”¨åŒ…æ˜¯å¦å¯å¯¼å…¥"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ£€æŸ¥æ ¸å¿ƒåŒ…å¯¼å…¥:"</span>)
    
    packages = [<span class="hljs-string">'numpy'</span>, <span class="hljs-string">'pandas'</span>, <span class="hljs-string">'requests'</span>, <span class="hljs-string">'matplotlib'</span>]
    
    <span class="hljs-keyword">for</span> package <span class="hljs-keyword">in</span> packages:
        <span class="hljs-keyword">try</span>:
            <span class="hljs-built_in">__import__</span>(package)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… <span class="hljs-subst">{package:<span class="hljs-number">15</span>}</span> å¯¼å…¥æˆåŠŸ"</span>)
        <span class="hljs-keyword">except</span> ImportError:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ <span class="hljs-subst">{package:<span class="hljs-number">15</span>}</span> æœªå®‰è£…"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_virtual_env</span>():
    <span class="hljs-string">"""æ£€æŸ¥æ˜¯å¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(sys, <span class="hljs-string">'real_prefix'</span>) <span class="hljs-keyword">or</span> (<span class="hljs-built_in">hasattr</span>(sys, <span class="hljs-string">'base_prefix'</span>) <span class="hljs-keyword">and</span> sys.base_prefix != sys.prefix):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… è¿è¡Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸­"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è™šæ‹Ÿç¯å¢ƒè·¯å¾„: <span class="hljs-subst">{sys.prefix}</span>"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"â„¹ï¸  è¿è¡Œåœ¨ç³»ç»ŸPythonç¯å¢ƒä¸­"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_environment_variables</span>():
    <span class="hljs-string">"""æ£€æŸ¥ç¯å¢ƒå˜é‡"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Pythonç›¸å…³ç¯å¢ƒå˜é‡:"</span>)
    
    env_vars = [<span class="hljs-string">'PATH'</span>, <span class="hljs-string">'PYTHONPATH'</span>, <span class="hljs-string">'PYTHONHOME'</span>]
    
    <span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> env_vars:
        value = sys.path <span class="hljs-keyword">if</span> var == <span class="hljs-string">'PYTHONPATH'</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>
        <span class="hljs-keyword">if</span> var <span class="hljs-keyword">in</span> os.environ:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… <span class="hljs-subst">{var:<span class="hljs-number">15</span>}</span> å·²è®¾ç½®"</span>)
            <span class="hljs-keyword">if</span> var == <span class="hljs-string">'PATH'</span> <span class="hljs-keyword">and</span> <span class="hljs-string">'Python'</span> <span class="hljs-keyword">in</span> os.environ[var]:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"   Pythonè·¯å¾„å·²åœ¨PATHä¸­"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"â„¹ï¸  <span class="hljs-subst">{var:<span class="hljs-number">15</span>}</span> æœªè®¾ç½®"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹æ£€æŸ¥Pythonç¯å¢ƒé…ç½®..."</span>)
    
    <span class="hljs-comment"># æ£€æŸ¥Pythonç‰ˆæœ¬</span>
    check_python_version()
    
    <span class="hljs-comment"># æ£€æŸ¥å¹³å°ä¿¡æ¯</span>
    check_platform()
    
    <span class="hljs-comment"># æ£€æŸ¥pipåŒ…</span>
    check_pip_packages()
    
    <span class="hljs-comment"># æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ</span>
    check_virtual_env()
    
    <span class="hljs-comment"># æ£€æŸ¥ç¯å¢ƒå˜é‡</span>
    <span class="hljs-keyword">import</span> os
    <span class="hljs-built_in">globals</span>()[<span class="hljs-string">'os'</span>] = os  <span class="hljs-comment"># è®©check_environment_variablesèƒ½è®¿é—®os</span>
    check_environment_variables()
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¯å¢ƒæ£€æŸ¥å®Œæˆï¼"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¦‚æœçœ‹åˆ°âŒï¼Œè¡¨ç¤ºéœ€è¦å®‰è£…å¯¹åº”åŒ…ï¼š"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"pip install numpy pandas requests matplotlib"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<p>è¿è¡Œæµ‹è¯•ï¼š</p>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿è¡Œæµ‹è¯•è„šæœ¬</span>
python test_environment.py

<span class="hljs-comment"># æˆ–</span>
python3 test_environment.py
</code></pre>
<h2 data-id="heading-25">ä¹ã€ä¸€é”®å®‰è£…å¸¸ç”¨åŒ…è„šæœ¬</h2>
<p>åˆ›å»ºÂ <code>install_requirements.py</code>ï¼š</p>
<p>python</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
ä¸€é”®å®‰è£…Pythonå¸¸ç”¨å¼€å‘åŒ…
"""</span>

<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">def</span> <span class="hljs-title function_">run_command</span>(<span class="hljs-params">command</span>):
    <span class="hljs-string">"""è¿è¡Œå‘½ä»¤è¡Œå‘½ä»¤"""</span>
    <span class="hljs-keyword">try</span>:
        result = subprocess.run(
            command,
            shell=<span class="hljs-literal">True</span>,
            capture_output=<span class="hljs-literal">True</span>,
            text=<span class="hljs-literal">True</span>,
            check=<span class="hljs-literal">True</span>
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… å‘½ä»¤æ‰§è¡ŒæˆåŠŸ: <span class="hljs-subst">{command}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">except</span> subprocess.CalledProcessError <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ å‘½ä»¤æ‰§è¡Œå¤±è´¥: <span class="hljs-subst">{command}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯ä¿¡æ¯: <span class="hljs-subst">{e.stderr}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">install_packages</span>():
    <span class="hljs-string">"""å®‰è£…å¸¸ç”¨åŒ…"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹å®‰è£…Pythonå¸¸ç”¨å¼€å‘åŒ…..."</span>)
    
    <span class="hljs-comment"># åŸºç¡€æ•°æ®ç§‘å­¦åŒ…</span>
    data_science_packages = [
        <span class="hljs-string">"numpy"</span>,          <span class="hljs-comment"># æ•°å€¼è®¡ç®—</span>
        <span class="hljs-string">"pandas"</span>,         <span class="hljs-comment"># æ•°æ®åˆ†æ</span>
        <span class="hljs-string">"matplotlib"</span>,     <span class="hljs-comment"># æ•°æ®å¯è§†åŒ–</span>
        <span class="hljs-string">"scikit-learn"</span>,   <span class="hljs-comment"># æœºå™¨å­¦ä¹ </span>
        <span class="hljs-string">"jupyter"</span>,        <span class="hljs-comment"># ç¬”è®°æœ¬</span>
    ]
    
    <span class="hljs-comment"># Webå¼€å‘åŒ…</span>
    web_packages = [
        <span class="hljs-string">"flask"</span>,          <span class="hljs-comment"># è½»é‡çº§Webæ¡†æ¶</span>
        <span class="hljs-string">"django"</span>,         <span class="hljs-comment"># å…¨åŠŸèƒ½Webæ¡†æ¶</span>
        <span class="hljs-string">"requests"</span>,       <span class="hljs-comment"># HTTPè¯·æ±‚åº“</span>
        <span class="hljs-string">"beautifulsoup4"</span>, <span class="hljs-comment"># HTMLè§£æ</span>
        <span class="hljs-string">"fastapi"</span>,        <span class="hljs-comment"># ç°ä»£APIæ¡†æ¶</span>
    ]
    
    <span class="hljs-comment"># å·¥å…·å’Œå·¥å…·åŒ…</span>
    tool_packages = [
        <span class="hljs-string">"virtualenv"</span>,     <span class="hljs-comment"># è™šæ‹Ÿç¯å¢ƒ</span>
        <span class="hljs-string">"pipenv"</span>,         <span class="hljs-comment"># åŒ…ç®¡ç†</span>
        <span class="hljs-string">"black"</span>,          <span class="hljs-comment"># ä»£ç æ ¼å¼åŒ–</span>
        <span class="hljs-string">"pylint"</span>,         <span class="hljs-comment"># ä»£ç æ£€æŸ¥</span>
        <span class="hljs-string">"pytest"</span>,         <span class="hljs-comment"># æµ‹è¯•æ¡†æ¶</span>
        <span class="hljs-string">"ipython"</span>,        <span class="hljs-comment"># äº¤äº’å¼Python</span>
    ]
    
    all_packages = data_science_packages + web_packages + tool_packages
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ€»å…±éœ€è¦å®‰è£… <span class="hljs-subst">{<span class="hljs-built_in">len</span>(all_packages)}</span> ä¸ªåŒ…"</span>)
    
    <span class="hljs-comment"># ä½¿ç”¨é•œåƒæºåŠ é€Ÿå®‰è£…</span>
    pip_command = <span class="hljs-string">f"<span class="hljs-subst">{sys.executable}</span> -m pip install"</span>
    
    success_count = <span class="hljs-number">0</span>
    fail_count = <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">for</span> i, package <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(all_packages, <span class="hljs-number">1</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n[<span class="hljs-subst">{i}</span>/<span class="hljs-subst">{<span class="hljs-built_in">len</span>(all_packages)}</span>] æ­£åœ¨å®‰è£… <span class="hljs-subst">{package}</span>..."</span>)
        
        <span class="hljs-comment"># ä½¿ç”¨æ¸…åé•œåƒæº</span>
        command = <span class="hljs-string">f"<span class="hljs-subst">{pip_command}</span> <span class="hljs-subst">{package}</span> -i https://pypi.tuna.tsinghua.edu.cn/simple"</span>
        
        <span class="hljs-keyword">if</span> run_command(command):
            success_count += <span class="hljs-number">1</span>
        <span class="hljs-keyword">else</span>:
            fail_count += <span class="hljs-number">1</span>
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å®‰è£…å®Œæˆï¼"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… æˆåŠŸå®‰è£…: <span class="hljs-subst">{success_count}</span> ä¸ªåŒ…"</span>)
    <span class="hljs-keyword">if</span> fail_count &gt; <span class="hljs-number">0</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ å®‰è£…å¤±è´¥: <span class="hljs-subst">{fail_count}</span> ä¸ªåŒ…"</span>)
    
    <span class="hljs-comment"># ç”Ÿæˆrequirements.txt</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nç”Ÿæˆrequirements.txtæ–‡ä»¶..."</span>)
    run_command(<span class="hljs-string">f"<span class="hljs-subst">{pip_command}</span> freeze &gt; requirements.txt"</span>)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå¸¸ç”¨å‘½ä»¤å‚è€ƒï¼š"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ: python -m venv myenv"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ: myenv\Scripts\activate (Windows)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"3. å®‰è£…ä¾èµ–: pip install -r requirements.txt"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"4. å‡çº§æ‰€æœ‰åŒ…: pip install --upgrade $(pip freeze | cut -d= -f1)"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># æ£€æŸ¥pipæ˜¯å¦å¯ç”¨</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">import</span> pip
        install_packages()
    <span class="hljs-keyword">except</span> ImportError:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ pipæœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…pip"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿è¡Œ: python -m ensurepip --upgrade"</span>)
        sys.exit(<span class="hljs-number">1</span>)
</code></pre>
<p>è¿è¡Œä¸€é”®å®‰è£…ï¼š</p>
<p>bash</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿è¡Œå®‰è£…è„šæœ¬</span>
python install_requirements.py
</code></pre>
<h2 data-id="heading-26">åã€ç¯å¢ƒé…ç½®æ£€æŸ¥æ¸…å•</h2>
<p>å®‰è£…å®Œæˆåï¼Œè¯·é€é¡¹æ£€æŸ¥ï¼š</p>
<h3 data-id="heading-27">âœ… åŸºç¡€æ£€æŸ¥</h3>
<ul>
<li><code>python --version</code>Â èƒ½æ­£ç¡®æ˜¾ç¤ºç‰ˆæœ¬</li>
<li><code>pip --version</code>Â èƒ½æ­£ç¡®æ˜¾ç¤ºç‰ˆæœ¬</li>
<li>èƒ½è¿›å…¥Pythonäº¤äº’æ¨¡å¼ (<code>python</code>Â ç„¶åÂ <code>exit()</code>)</li>
</ul>
<h3 data-id="heading-28">âœ… ç¯å¢ƒå˜é‡æ£€æŸ¥</h3>
<ul>
<li>Pythonå®‰è£…è·¯å¾„åœ¨ç³»ç»ŸPATHä¸­</li>
<li>Scriptsè·¯å¾„åœ¨ç³»ç»ŸPATHä¸­</li>
</ul>
<h3 data-id="heading-29">âœ… å¼€å‘ç¯å¢ƒæ£€æŸ¥</h3>
<ul>
<li>èƒ½åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (<code>python -m venv test_env</code>)</li>
<li>èƒ½æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</li>
<li>èƒ½å®‰è£…ç¬¬ä¸‰æ–¹åŒ… (<code>pip install requests</code>)</li>
</ul>
<h3 data-id="heading-30">âœ… ç¼–è¾‘å™¨é…ç½®æ£€æŸ¥</h3>
<ul>
<li>VS Code/PyCharmèƒ½è¯†åˆ«Pythonè§£é‡Šå™¨</li>
<li>ç¼–è¾‘å™¨èƒ½è¿è¡ŒPythonè„šæœ¬</li>
<li>ç¼–è¾‘å™¨æœ‰Pythonè¯­æ³•é«˜äº®å’Œæç¤º</li>
</ul>
<h2 data-id="heading-31">æ€»ç»“</h2>
<p>æŒ‰ç…§è¿™ä¸ªä¿å§†çº§æ•™ç¨‹ï¼Œä½ åº”è¯¥èƒ½<strong>100%æˆåŠŸ</strong>é…ç½®å¥½Pythonå¼€å‘ç¯å¢ƒã€‚è®°ä½å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>
<ol>
<li><strong>å®‰è£…æ—¶ä¸€å®šè¦å‹¾é€‰"Add Python to PATH"</strong></li>
<li><strong>é…ç½®å›½å†…é•œåƒæºåŠ é€Ÿä¸‹è½½</strong></li>
<li><strong>ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»é¡¹ç›®</strong></li>
<li><strong>å®‰è£…ç¼–è¾‘å™¨æ‰©å±•æå‡å¼€å‘æ•ˆç‡</strong></li>
</ol>
<p>å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š</p>
<ol>
<li>æŸ¥çœ‹æœ¬æ–‡çš„"å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"éƒ¨åˆ†</li>
<li>è¿è¡Œæä¾›çš„æµ‹è¯•è„šæœ¬å®šä½é—®é¢˜</li>
<li>ç¡®ä¿ä¸¥æ ¼æŒ‰ç…§å›¾æ–‡æ­¥éª¤æ“ä½œ</li>
</ol>
<p>ç°åœ¨ï¼Œä½ çš„Pythonç¯å¢ƒå·²ç»å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¼€å§‹æ„‰å¿«çš„ç¼–ç¨‹ä¹‹æ—…äº†ï¼ğŸ‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„äºŒè¿›åˆ¶è¿ç®—]]></title>    <link>https://juejin.cn/post/7585206549304868927</link>    <guid>https://juejin.cn/post/7585206549304868927</guid>    <pubDate>2025-12-19T05:48:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206549304868927" data-draft-id="7585138968166793252" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„äºŒè¿›åˆ¶è¿ç®—"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2025-12-19T05:48:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¶Šåƒå¹´"/> <meta itemprop="url" content="https://juejin.cn/user/4152180068068295"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„äºŒè¿›åˆ¶è¿ç®—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4152180068068295/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¶Šåƒå¹´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:48:38.000Z" title="Fri Dec 19 2025 05:48:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„äºŒè¿›åˆ¶è¿ç®—</h2>
<h3 data-id="heading-1">è¿›åˆ¶è½¬æ¢è¡¨</h3>











































































































<table><thead><tr><th>äºŒè¿›åˆ¶</th><th>å…«è¿›åˆ¶</th><th>åè¿›åˆ¶</th><th>åå…­è¿›åˆ¶</th></tr></thead><tbody><tr><td>0000</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0001</td><td>1</td><td>1</td><td>1</td></tr><tr><td>0010</td><td>2</td><td>2</td><td>2</td></tr><tr><td>0011</td><td>3</td><td>3</td><td>3</td></tr><tr><td>0100</td><td>4</td><td>4</td><td>4</td></tr><tr><td>0101</td><td>5</td><td>5</td><td>5</td></tr><tr><td>0110</td><td>6</td><td>6</td><td>6</td></tr><tr><td>0111</td><td>7</td><td>7</td><td>7</td></tr><tr><td>1000</td><td>10</td><td>8</td><td>8</td></tr><tr><td>1001</td><td>11</td><td>9</td><td>9</td></tr><tr><td>1010</td><td>12</td><td>10</td><td>A</td></tr><tr><td>1011</td><td>13</td><td>11</td><td>B</td></tr><tr><td>1100</td><td>14</td><td>12</td><td>C</td></tr><tr><td>1101</td><td>15</td><td>13</td><td>D</td></tr><tr><td>1110</td><td>16</td><td>14</td><td>E</td></tr><tr><td>1111</td><td>17</td><td>15</td><td>F</td></tr></tbody></table>
<h3 data-id="heading-2">Goè¯­è¨€ä¸­çš„è¿›åˆ¶è¡¨ç¤º</h3>
<p>åœ¨Goè¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒå‰ç¼€è¡¨ç¤ºä¸åŒè¿›åˆ¶çš„æ•°ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// äºŒè¿›åˆ¶è¡¨ç¤º (0b æˆ– 0B å¼€å¤´)</span>
    binaryNum := <span class="hljs-number">0</span>b1010     <span class="hljs-comment">// åè¿›åˆ¶ 10</span>
    binaryNum2 := <span class="hljs-number">0</span>B1100    <span class="hljs-comment">// åè¿›åˆ¶ 12</span>
    
    <span class="hljs-comment">// å…«è¿›åˆ¶è¡¨ç¤º (0o, 0O æˆ– 0 å¼€å¤´)</span>
    octalNum := <span class="hljs-number">0</span>o12        <span class="hljs-comment">// åè¿›åˆ¶ 10</span>
    octalNum2 := <span class="hljs-number">0</span>O16       <span class="hljs-comment">// åè¿›åˆ¶ 14</span>
    octalNum3 := <span class="hljs-number">012</span>        <span class="hljs-comment">// ä¼ ç»Ÿå†™æ³•ï¼Œåè¿›åˆ¶ 10</span>
    
    <span class="hljs-comment">// åå…­è¿›åˆ¶è¡¨ç¤º (0x æˆ– 0X å¼€å¤´)</span>
    hexNum := <span class="hljs-number">0xA</span>           <span class="hljs-comment">// åè¿›åˆ¶ 10</span>
    hexNum2 := <span class="hljs-number">0xFF</span>         <span class="hljs-comment">// åè¿›åˆ¶ 255</span>
    
    fmt.Printf(<span class="hljs-string">"äºŒè¿›åˆ¶ 0b1010 = %d\n"</span>, binaryNum)
    fmt.Printf(<span class="hljs-string">"å…«è¿›åˆ¶ 0o12 = %d\n"</span>, octalNum)
    fmt.Printf(<span class="hljs-string">"åå…­è¿›åˆ¶ 0xA = %d\n"</span>, hexNum)
}
</code></pre>
<h3 data-id="heading-3">äºŒè¿›åˆ¶è¿ç®—åŸºç¡€</h3>
<h4 data-id="heading-4">1. ä½è¿ç®—ï¼ˆBitwise Operationsï¼‰</h4>
<p>â€‹<strong>ä¸è¿ç®—ï¼ˆ&amp;ï¼‰â€‹</strong>â€‹ï¼šä¸¤ä¸ªä½éƒ½ä¸º1æ—¶ï¼Œç»“æœæ‰ä¸º1</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">andOperation</span><span class="hljs-params">()</span></span> {
    a := <span class="hljs-number">0</span>b1010  <span class="hljs-comment">// 10</span>
    b := <span class="hljs-number">0</span>b1100  <span class="hljs-comment">// 12</span>
    result := a &amp; b  <span class="hljs-comment">// 0b1000 = 8</span>
    
    fmt.Printf(<span class="hljs-string">"%b &amp; %b = %b (åè¿›åˆ¶: %d)\n"</span>, a, b, result, result)
    <span class="hljs-comment">// è¾“å‡º: 1010 &amp; 1100 = 1000 (åè¿›åˆ¶: 8)</span>
}
</code></pre>
<p>â€‹<strong>æˆ–è¿ç®—ï¼ˆ|ï¼‰â€‹</strong>â€‹ï¼šä¸¤ä¸ªä½æœ‰ä¸€ä¸ªä¸º1æ—¶ï¼Œç»“æœå°±ä¸º1</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">orOperation</span><span class="hljs-params">()</span></span> {
    a := <span class="hljs-number">0</span>b1010  <span class="hljs-comment">// 10</span>
    b := <span class="hljs-number">0</span>b1100  <span class="hljs-comment">// 12</span>
    result := a | b  <span class="hljs-comment">// 0b1110 = 14</span>
    
    fmt.Printf(<span class="hljs-string">"%b | %b = %b (åè¿›åˆ¶: %d)\n"</span>, a, b, result, result)
    <span class="hljs-comment">// è¾“å‡º: 1010 | 1100 = 1110 (åè¿›åˆ¶: 14)</span>
}
</code></pre>
<p>â€‹<strong>å¼‚æˆ–è¿ç®—ï¼ˆ^ï¼‰â€‹</strong>â€‹ï¼šä¸¤ä¸ªä½ä¸åŒæ—¶ï¼Œç»“æœä¸º1</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">xorOperation</span><span class="hljs-params">()</span></span> {
    a := <span class="hljs-number">0</span>b1010  <span class="hljs-comment">// 10</span>
    b := <span class="hljs-number">0</span>b1100  <span class="hljs-comment">// 12</span>
    result := a ^ b  <span class="hljs-comment">// 0b0110 = 6</span>
    
    fmt.Printf(<span class="hljs-string">"%b ^ %b = %b (åè¿›åˆ¶: %d)\n"</span>, a, b, result, result)
    <span class="hljs-comment">// è¾“å‡º: 1010 ^ 1100 = 110 (åè¿›åˆ¶: 6)</span>
}
</code></pre>
<p>â€‹<strong>éè¿ç®—ï¼ˆ^ æˆ– ^=ï¼‰â€‹</strong>â€‹ï¼šåœ¨Goä¸­ï¼Œä¸€å…ƒ^æ˜¯æŒ‰ä½å–å</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">notOperation</span><span class="hljs-params">()</span></span> {
    a := <span class="hljs-number">0</span>b1010  <span class="hljs-comment">// 10</span>
    result := ^a  <span class="hljs-comment">// åœ¨64ä½ç³»ç»Ÿä¸­: -11</span>
    
    <span class="hljs-comment">// è¦åªå–ä½4ä½ï¼Œå¯ä»¥ä½¿ç”¨æ©ç </span>
    maskedResult := result &amp; <span class="hljs-number">0</span>b1111  <span class="hljs-comment">// 0b0101 = 5</span>
    
    fmt.Printf(<span class="hljs-string">"^%b = %b (å®Œæ•´: %064b)\n"</span>, a, maskedResult, result)
}
</code></pre>
<p>â€‹<strong>æ¸…é™¤ä½è¿ç®—ï¼ˆ&amp;^ï¼‰â€‹</strong>â€‹ï¼šGoè¯­è¨€ç‰¹æœ‰çš„ä½æ¸…ç©ºè¿ç®—ç¬¦</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">andNotOperation</span><span class="hljs-params">()</span></span> {
    a := <span class="hljs-number">0</span>b1011  <span class="hljs-comment">// 11</span>
    b := <span class="hljs-number">0</span>b1100  <span class="hljs-comment">// 12</span>
    result := a &amp;^ b  <span class="hljs-comment">// 0b0011 = 3</span>
    
    fmt.Printf(<span class="hljs-string">"%b &amp;^ %b = %b (åè¿›åˆ¶: %d)\n"</span>, a, b, result, result)
    <span class="hljs-comment">// è¾“å‡º: 1011 &amp;^ 1100 = 11 (åè¿›åˆ¶: 3)</span>
    <span class="hljs-comment">// è§£é‡Š: åœ¨bä¸º1çš„ä½ç½®ï¼Œå°†açš„å¯¹åº”ä½æ¸…é›¶</span>
}
</code></pre>
<h4 data-id="heading-5">2. ç§»ä½è¿ç®—ï¼ˆShift Operationsï¼‰</h4>
<p>â€‹<strong>å·¦ç§»ï¼ˆ&lt;&lt;ï¼‰â€‹</strong>â€‹ï¼šå‘å·¦ç§»åŠ¨æŒ‡å®šä½æ•°ï¼Œä½ä½è¡¥0</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">leftShift</span><span class="hljs-params">()</span></span> {
    a := <span class="hljs-number">0</span>b1010  <span class="hljs-comment">// 10</span>
    result := a &lt;&lt; <span class="hljs-number">2</span>  <span class="hljs-comment">// 0b101000 = 40</span>
    
    fmt.Printf(<span class="hljs-string">"%b &lt;&lt; 2 = %b (åè¿›åˆ¶: %d)\n"</span>, a, result, result)
    <span class="hljs-comment">// è¾“å‡º: 1010 &lt;&lt; 2 = 101000 (åè¿›åˆ¶: 40)</span>
}
</code></pre>
<p>â€‹<strong>å³ç§»ï¼ˆ&gt;&gt;ï¼‰â€‹</strong>â€‹ï¼šå‘å³ç§»åŠ¨æŒ‡å®šä½æ•°</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">rightShift</span><span class="hljs-params">()</span></span> {
    a := <span class="hljs-number">0</span>b1010  <span class="hljs-comment">// 10</span>
    result := a &gt;&gt; <span class="hljs-number">2</span>  <span class="hljs-comment">// 0b0010 = 2</span>
    
    fmt.Printf(<span class="hljs-string">"%b &gt;&gt; 2 = %b (åè¿›åˆ¶: %d)\n"</span>, a, result, result)
    <span class="hljs-comment">// è¾“å‡º: 1010 &gt;&gt; 2 = 10 (åè¿›åˆ¶: 2)</span>
}
</code></pre>
<h3 data-id="heading-6">å®é™…åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-7">1. æƒé™æ§åˆ¶</h4>
<p>ä½¿ç”¨ä½æ©ç è¿›è¡Œæƒé™ç®¡ç†ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-keyword">const</span> (
    Read   = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-literal">iota</span>  <span class="hljs-comment">// 0b0001 = 1</span>
    Write               <span class="hljs-comment">// 0b0010 = 2</span>
    Execute             <span class="hljs-comment">// 0b0100 = 4</span>
    Admin               <span class="hljs-comment">// 0b1000 = 8</span>
)

<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
    name       <span class="hljs-type">string</span>
    permissions <span class="hljs-type">int</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(u *User)</span></span> addPermission(perm <span class="hljs-type">int</span>) {
    u.permissions |= perm
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(u *User)</span></span> removePermission(perm <span class="hljs-type">int</span>) {
    u.permissions &amp;^= perm
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(u *User)</span></span> hasPermission(perm <span class="hljs-type">int</span>) <span class="hljs-type">bool</span> {
    <span class="hljs-keyword">return</span> (u.permissions &amp; perm) != <span class="hljs-number">0</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    user := User{name: <span class="hljs-string">"Alice"</span>, permissions: <span class="hljs-number">0</span>}
    
    <span class="hljs-comment">// æ·»åŠ æƒé™</span>
    user.addPermission(Read | Write)
    
    <span class="hljs-comment">// æ£€æŸ¥æƒé™</span>
    fmt.Printf(<span class="hljs-string">"%s æœ‰è¯»å–æƒé™: %v\n"</span>, user.name, user.hasPermission(Read))
    fmt.Printf(<span class="hljs-string">"%s æœ‰æ‰§è¡Œæƒé™: %v\n"</span>, user.name, user.hasPermission(Execute))
    
    <span class="hljs-comment">// æƒé™äºŒè¿›åˆ¶è¡¨ç¤º</span>
    fmt.Printf(<span class="hljs-string">"æƒé™ä½: %04b\n"</span>, user.permissions)
}
</code></pre>
<h4 data-id="heading-8">2. æ ‡å¿—ä½å¤„ç†</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-comment">// ä½¿ç”¨ iota è‡ªåŠ¨ç”Ÿæˆä½æ ‡å¿—</span>
<span class="hljs-keyword">const</span> (
    FlagA = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-literal">iota</span>  <span class="hljs-comment">// 0b0001</span>
    FlagB              <span class="hljs-comment">// 0b0010</span>
    FlagC              <span class="hljs-comment">// 0b0100</span>
    FlagD              <span class="hljs-comment">// 0b1000</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">processFlags</span><span class="hljs-params">(flags <span class="hljs-type">int</span>)</span></span> {
    <span class="hljs-keyword">if</span> flags &amp; FlagA != <span class="hljs-number">0</span> {
        fmt.Println(<span class="hljs-string">"FlagA è¢«è®¾ç½®"</span>)
    }
    
    <span class="hljs-keyword">if</span> flags &amp; FlagB != <span class="hljs-number">0</span> {
        fmt.Println(<span class="hljs-string">"FlagB è¢«è®¾ç½®"</span>)
    }
    
    <span class="hljs-comment">// æ£€æŸ¥å¤šä¸ªæ ‡å¿—</span>
    <span class="hljs-keyword">if</span> flags &amp; (FlagA | FlagB) == (FlagA | FlagB) {
        fmt.Println(<span class="hljs-string">"åŒæ—¶è®¾ç½®äº†FlagAå’ŒFlagB"</span>)
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flags := FlagA | FlagC
    fmt.Printf(<span class="hljs-string">"å½“å‰æ ‡å¿—: %04b\n"</span>, flags)
    processFlags(flags)
}
</code></pre>
<h4 data-id="heading-9">3. å¿«é€Ÿä¹˜é™¤æ³•è¿ç®—</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fastMath</span><span class="hljs-params">()</span></span> {
    num := <span class="hljs-number">0</span>b1010  <span class="hljs-comment">// 10</span>
    
    <span class="hljs-comment">// å¿«é€Ÿä¹˜ä»¥2^n</span>
    multiplyBy4 := num &lt;&lt; <span class="hljs-number">2</span>  <span class="hljs-comment">// 10 * 4 = 40</span>
    multiplyBy8 := num &lt;&lt; <span class="hljs-number">3</span>  <span class="hljs-comment">// 10 * 8 = 80</span>
    
    <span class="hljs-comment">// å¿«é€Ÿé™¤ä»¥2^n</span>
    divideBy2 := num &gt;&gt; <span class="hljs-number">1</span>    <span class="hljs-comment">// 10 / 2 = 5</span>
    divideBy4 := num &gt;&gt; <span class="hljs-number">2</span>    <span class="hljs-comment">// 10 / 4 = 2</span>
    
    fmt.Printf(<span class="hljs-string">"10 * 4 = %d\n"</span>, multiplyBy4)
    fmt.Printf(<span class="hljs-string">"10 / 2 = %d\n"</span>, divideBy2)
}
</code></pre>
<h4 data-id="heading-10">4. å¥‡å¶åˆ¤æ–­</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">isEvenOdd</span><span class="hljs-params">()</span></span> {
    numbers := []<span class="hljs-type">int</span>{<span class="hljs-number">0</span>b1010, <span class="hljs-number">0</span>b1011, <span class="hljs-number">0</span>b1100, <span class="hljs-number">0</span>b1101}
    
    <span class="hljs-keyword">for</span> _, n := <span class="hljs-keyword">range</span> numbers {
        <span class="hljs-comment">// ä¸ 0b1 è¿›è¡Œä¸è¿ç®—åˆ¤æ–­å¥‡å¶</span>
        <span class="hljs-keyword">if</span> n&amp;<span class="hljs-number">1</span> == <span class="hljs-number">0</span> {
            fmt.Printf(<span class="hljs-string">"%d (%b) æ˜¯å¶æ•°\n"</span>, n, n)
        } <span class="hljs-keyword">else</span> {
            fmt.Printf(<span class="hljs-string">"%d (%b) æ˜¯å¥‡æ•°\n"</span>, n, n)
        }
    }
}
</code></pre>
<h3 data-id="heading-11">è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-12">1. è·å–æœ€ä½ä½çš„1</h4>
<pre><code class="hljs language-dart" lang="dart">func getLowestOneBit() {
    <span class="hljs-built_in">num</span> := <span class="hljs-number">0</span>b101100  <span class="hljs-comment">// åè¿›åˆ¶ 44</span>
    
    <span class="hljs-comment">// è·å–æœ€ä½ä½çš„1</span>
    <span class="hljs-comment">// åŸç†: -num æ˜¯ num çš„äºŒè¿›åˆ¶è¡¥ç </span>
    <span class="hljs-comment">// ä¾‹å¦‚: num = 44 (0b101100)</span>
    <span class="hljs-comment">// -num = -44 (äºŒè¿›åˆ¶è¡¥ç : ...1111010100)</span>
    <span class="hljs-comment">// num &amp; -num ä¼šå¾—åˆ°åªä¿ç•™æœ€ä½ä½1çš„ç»“æœ</span>
    lowestBit := <span class="hljs-built_in">num</span> &amp; -<span class="hljs-built_in">num</span>
    
    fmt.Printf(<span class="hljs-string">"æ•°å­—: %d (%b)\n"</span>, <span class="hljs-built_in">num</span>, <span class="hljs-built_in">num</span>)
    fmt.Printf(<span class="hljs-string">"æœ€ä½ä½çš„1: %d (%b)\n"</span>, lowestBit, lowestBit)
    <span class="hljs-comment">// è¾“å‡º: æ•°å­—: 44 (101100)</span>
    <span class="hljs-comment">//       æœ€ä½ä½çš„1: 4 (100)</span>
}
</code></pre>
<h4 data-id="heading-13">2. åˆ¤æ–­æ˜¯å¦ä¸º2çš„å¹‚</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">isPowerOfTwo</span><span class="hljs-params">()</span></span> {
    numbers := []<span class="hljs-type">int</span>{<span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>, <span class="hljs-number">32</span>, <span class="hljs-number">33</span>}  <span class="hljs-comment">// äºŒè¿›åˆ¶: 1000, 1001, 10000, 100000, 100001</span>
    
    <span class="hljs-keyword">for</span> _, n := <span class="hljs-keyword">range</span> numbers {
        <span class="hljs-comment">// 2çš„å¹‚çš„ç‰¹å¾: äºŒè¿›åˆ¶è¡¨ç¤ºä¸­åªæœ‰ä¸€ä¸ª1</span>
        <span class="hljs-comment">// åŸç†: å¦‚æœnæ˜¯2çš„å¹‚ï¼Œé‚£ä¹ˆn-1çš„æ‰€æœ‰ä½ä½éƒ½æ˜¯1</span>
        <span class="hljs-comment">// ä¾‹å¦‚: 8(1000) &amp; 7(0111) = 0</span>
        <span class="hljs-keyword">if</span> n &gt; <span class="hljs-number">0</span> &amp;&amp; (n &amp; (n<span class="hljs-number">-1</span>)) == <span class="hljs-number">0</span> {
            fmt.Printf(<span class="hljs-string">"%d (%b) æ˜¯2çš„å¹‚\n"</span>, n, n)
        } <span class="hljs-keyword">else</span> {
            fmt.Printf(<span class="hljs-string">"%d (%b) ä¸æ˜¯2çš„å¹‚\n"</span>, n, n)
        }
    }
}
</code></pre>
<h4 data-id="heading-14">3. ç»Ÿè®¡1çš„ä¸ªæ•°ï¼ˆä½è®¡æ•°ï¼‰</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">countOnes</span><span class="hljs-params">()</span></span> {
    num := <span class="hljs-number">0</span>b101101  <span class="hljs-comment">// 45ï¼ŒäºŒè¿›åˆ¶æœ‰4ä¸ª1</span>
    
    <span class="hljs-comment">// æ–¹æ³•1: å¾ªç¯è®¡æ•°</span>
    count := <span class="hljs-number">0</span>
    temp := num
    <span class="hljs-keyword">for</span> temp != <span class="hljs-number">0</span> {
        count++
        <span class="hljs-comment">// å…³é”®æŠ€å·§: n &amp; (n-1) ä¼šæ¸…é™¤æœ€ä½ä½çš„1</span>
        <span class="hljs-comment">// æ¯æ¬¡å¾ªç¯æ¸…é™¤ä¸€ä¸ª1ï¼Œç›´åˆ°æ‰€æœ‰1éƒ½è¢«æ¸…é™¤</span>
        temp &amp;= temp - <span class="hljs-number">1</span>
    }
    
    fmt.Printf(<span class="hljs-string">"æ•°å­— %d (%b) æœ‰ %d ä¸ª1\n"</span>, num, num, count)
    
    <span class="hljs-comment">// æ–¹æ³•2: ä½¿ç”¨å†…ç½®å‡½æ•°ï¼ˆGo 1.9+ï¼‰</span>
    <span class="hljs-comment">// import "math/bits"</span>
    <span class="hljs-comment">// count = bits.OnesCount(uint(num))</span>
}
</code></pre>
<h4 data-id="heading-15">4. åè½¬äºŒè¿›åˆ¶ä½</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">reverseBits</span><span class="hljs-params">()</span></span> {
    num := <span class="hljs-number">0</span>b10100111  <span class="hljs-comment">// 167</span>
    reversed := <span class="hljs-number">0</span>
    bits := <span class="hljs-number">8</span>  <span class="hljs-comment">// å‡è®¾å¤„ç†8ä½</span>
    
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; bits; i++ {
        <span class="hljs-comment">// 1. å°†ç»“æœå·¦ç§»1ä½ï¼Œä¸ºæœ€ä½ä½è…¾å‡ºç©ºé—´</span>
        reversed &lt;&lt;= <span class="hljs-number">1</span>
        
        <span class="hljs-comment">// 2. è·å–åŸæ•°çš„æœ€ä½ä½</span>
        <span class="hljs-comment">// 3. å°†åŸæ•°çš„æœ€ä½ä½æ”¾åˆ°ç»“æœçš„æœ€ä½ä½</span>
        reversed |= (num &amp; <span class="hljs-number">1</span>)
        
        <span class="hljs-comment">// 4. åŸæ•°å³ç§»1ä½ï¼Œå¤„ç†ä¸‹ä¸€ä½</span>
        num &gt;&gt;= <span class="hljs-number">1</span>
    }
    
    fmt.Printf(<span class="hljs-string">"åŸå§‹: %08b\n"</span>, <span class="hljs-number">0</span>b10100111)
    fmt.Printf(<span class="hljs-string">"åè½¬: %08b\n"</span>, reversed)
    <span class="hljs-comment">// è¾“å‡º: åŸå§‹: 10100111</span>
    <span class="hljs-comment">//       åè½¬: 11100101</span>
}
</code></pre>
<h4 data-id="heading-16">5. æå–è¿ç»­ä½</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">extractBits</span><span class="hljs-params">()</span></span> {
    num := <span class="hljs-number">0</span>b11011010  <span class="hljs-comment">// 218</span>
    
    <span class="hljs-comment">// æå–ç¬¬3-5ä½ï¼ˆä»å³å‘å·¦ï¼Œä»0å¼€å§‹è®¡æ•°ï¼‰</span>
    start := <span class="hljs-number">3</span>
    end := <span class="hljs-number">5</span>
    
    <span class="hljs-comment">// åŸç†:</span>
    <span class="hljs-comment">// 1. åˆ›å»ºæ©ç : (1 &lt;&lt; (end-start+1)) - 1</span>
    <span class="hljs-comment">//    ä¾‹å¦‚æå–3ä½: (1 &lt;&lt; 3) - 1 = 0b111</span>
    <span class="hljs-comment">// 2. å³ç§»startä½ï¼Œå°†ç›®æ ‡ä½ç§»åŠ¨åˆ°æœ€ä½ä½</span>
    <span class="hljs-comment">// 3. ä¸æ©ç è¿›è¡Œä¸è¿ç®—ï¼Œåªä¿ç•™éœ€è¦çš„ä½</span>
    mask := (<span class="hljs-number">1</span> &lt;&lt; (end - start + <span class="hljs-number">1</span>)) - <span class="hljs-number">1</span>
    result := (num &gt;&gt; start) &amp; mask
    
    fmt.Printf(<span class="hljs-string">"åŸå§‹æ•°å­—: %08b\n"</span>, num)
    fmt.Printf(<span class="hljs-string">"æå–ç¬¬%d-%dä½: %03b (åè¿›åˆ¶: %d)\n"</span>, start, end, result, result)
    <span class="hljs-comment">// è¾“å‡º: æå–ç¬¬3-5ä½: 101 (åè¿›åˆ¶: 5)</span>
}
</code></pre>
<h4 data-id="heading-17">6. æ£€æŸ¥ç‰¹å®šä½æ˜¯å¦è¢«è®¾ç½®</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">checkBit</span><span class="hljs-params">()</span></span> {
    num := <span class="hljs-number">0</span>b10110110  <span class="hljs-comment">// 182</span>
    
    <span class="hljs-comment">// æ£€æŸ¥ç¬¬4ä½ï¼ˆä»0å¼€å§‹è®¡æ•°ï¼‰</span>
    pos := <span class="hljs-number">4</span>
    
    <span class="hljs-comment">// æ–¹æ³•1: å³ç§»åæ£€æŸ¥æœ€ä½ä½</span>
    bit1 := (num &gt;&gt; pos) &amp; <span class="hljs-number">1</span>
    
    <span class="hljs-comment">// æ–¹æ³•2: åˆ›å»ºæ©ç åæ£€æŸ¥</span>
    mask := <span class="hljs-number">1</span> &lt;&lt; pos
    bit2 := (num &amp; mask) != <span class="hljs-number">0</span>
    
    fmt.Printf(<span class="hljs-string">"æ•°å­—: %08b\n"</span>, num)
    fmt.Printf(<span class="hljs-string">"ç¬¬%dä½: %d (æ–¹æ³•1)\n"</span>, pos, bit1)
    fmt.Printf(<span class="hljs-string">"ç¬¬%dä½: %v (æ–¹æ³•2)\n"</span>, pos, bit2)
}
</code></pre>
<h3 data-id="heading-18">å®ç”¨å·¥å…·å‡½æ•°</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"strings"</span>
)

<span class="hljs-comment">// æ ¼å¼åŒ–æ˜¾ç¤ºäºŒè¿›åˆ¶</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">formatBinary</span><span class="hljs-params">(num <span class="hljs-type">int</span>, bits <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">string</span> {
    <span class="hljs-keyword">return</span> fmt.Sprintf(<span class="hljs-string">"%0*b"</span>, bits, num)
}

<span class="hljs-comment">// è®¾ç½®ç‰¹å®šä½</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">setBit</span><span class="hljs-params">(num <span class="hljs-type">int</span>, pos <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> {
    <span class="hljs-keyword">return</span> num | (<span class="hljs-number">1</span> &lt;&lt; pos)
}

<span class="hljs-comment">// æ¸…é™¤ç‰¹å®šä½</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">clearBit</span><span class="hljs-params">(num <span class="hljs-type">int</span>, pos <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> {
    <span class="hljs-keyword">return</span> num &amp;^ (<span class="hljs-number">1</span> &lt;&lt; pos)
}

<span class="hljs-comment">// åˆ‡æ¢ç‰¹å®šä½ï¼ˆ0å˜1ï¼Œ1å˜0ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">toggleBit</span><span class="hljs-params">(num <span class="hljs-type">int</span>, pos <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> {
    <span class="hljs-keyword">return</span> num ^ (<span class="hljs-number">1</span> &lt;&lt; pos)
}

<span class="hljs-comment">// æ£€æŸ¥ç‰¹å®šä½æ˜¯å¦è¢«è®¾ç½®</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">isBitSet</span><span class="hljs-params">(num <span class="hljs-type">int</span>, pos <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">bool</span> {
    <span class="hljs-keyword">return</span> (num &amp; (<span class="hljs-number">1</span> &lt;&lt; pos)) != <span class="hljs-number">0</span>
}

<span class="hljs-comment">// è·å–æœ€ä½ä½1çš„ä½ç½®</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getLowestBitPosition</span><span class="hljs-params">(num <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> {
    <span class="hljs-keyword">if</span> num == <span class="hljs-number">0</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
    }
    position := <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> (num &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">0</span> {
        num &gt;&gt;= <span class="hljs-number">1</span>
        position++
    }
    <span class="hljs-keyword">return</span> position
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    num := <span class="hljs-number">0</span>b11011010
    
    fmt.Printf(<span class="hljs-string">"åŸå§‹æ•°å­—: %s\n"</span>, formatBinary(num, <span class="hljs-number">8</span>))
    fmt.Printf(<span class="hljs-string">"è®¾ç½®ç¬¬2ä½: %s\n"</span>, formatBinary(setBit(num, <span class="hljs-number">2</span>), <span class="hljs-number">8</span>))
    fmt.Printf(<span class="hljs-string">"æ¸…é™¤ç¬¬3ä½: %s\n"</span>, formatBinary(clearBit(num, <span class="hljs-number">3</span>), <span class="hljs-number">8</span>))
    fmt.Printf(<span class="hljs-string">"åˆ‡æ¢ç¬¬5ä½: %s\n"</span>, formatBinary(toggleBit(num, <span class="hljs-number">5</span>), <span class="hljs-number">8</span>))
    fmt.Printf(<span class="hljs-string">"ç¬¬4ä½æ˜¯å¦è®¾ç½®: %v\n"</span>, isBitSet(num, <span class="hljs-number">4</span>))
    fmt.Printf(<span class="hljs-string">"æœ€ä½ä½1çš„ä½ç½®: %d\n"</span>, getLowestBitPosition(num))
}
</code></pre>
<h3 data-id="heading-19">æ€§èƒ½ä¼˜åŠ¿</h3>
<p>Goè¯­è¨€ä¸­çš„ä½è¿ç®—åœ¨æ€§èƒ½ä¸Šæœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼š</p>
<ol>
<li>â€‹<strong>ç¼–è¯‘æ—¶ä¼˜åŒ–</strong>â€‹ï¼šGoç¼–è¯‘å™¨èƒ½è¯†åˆ«ä½è¿ç®—æ¨¡å¼å¹¶è¿›è¡Œä¼˜åŒ–</li>
<li>â€‹<strong>CPUåŸç”Ÿæ”¯æŒ</strong>â€‹ï¼šç°ä»£CPUéƒ½æœ‰ä¸“é—¨çš„ä½è¿ç®—æŒ‡ä»¤</li>
<li>â€‹<strong>å†…å­˜é«˜æ•ˆ</strong>â€‹ï¼šå¤šä¸ªå¸ƒå°”æ ‡å¿—å¯ä»¥æ‰“åŒ…åˆ°ä¸€ä¸ªæ•´å‹ä¸­</li>
</ol>
<pre><code class="hljs language-css" lang="css">// æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹
package <span class="hljs-selector-tag">main</span>

import (
    "fmt"
    "<span class="hljs-selector-tag">time</span>"
)

func <span class="hljs-selector-tag">main</span>() {
    const iterations = <span class="hljs-number">1000000000</span>
    
    // ä½¿ç”¨ä¹˜æ³•
    start := time.<span class="hljs-built_in">Now</span>()
    for i := <span class="hljs-number">0</span>; <span class="hljs-selector-tag">i</span> &lt; iterations; <span class="hljs-selector-tag">i</span>++ {
        _ = <span class="hljs-selector-tag">i</span> * <span class="hljs-number">2</span>
    }
    multiplyTime := time.<span class="hljs-built_in">Since</span>(start)
    
    // ä½¿ç”¨ä½ç§»
    start = time.<span class="hljs-built_in">Now</span>()
    for i := <span class="hljs-number">0</span>; <span class="hljs-selector-tag">i</span> &lt; iterations; <span class="hljs-selector-tag">i</span>++ {
        _ = <span class="hljs-selector-tag">i</span> &lt;&lt; <span class="hljs-number">1</span>
    }
    shiftTime := time.<span class="hljs-built_in">Since</span>(start)
    
    fmt.<span class="hljs-built_in">Printf</span>(<span class="hljs-string">"ä¹˜æ³•ç”¨æ—¶: %v\n"</span>, multiplyTime)
    fmt.<span class="hljs-built_in">Printf</span>(<span class="hljs-string">"ä½ç§»ç”¨æ—¶: %v\n"</span>, shiftTime)
    fmt.<span class="hljs-built_in">Printf</span>(<span class="hljs-string">"ä½ç§»æ¯”ä¹˜æ³•å¿«: %.2f%%\n"</span>, 
        <span class="hljs-built_in">float64</span>(multiplyTime.<span class="hljs-built_in">Nanoseconds</span>()-shiftTime.<span class="hljs-built_in">Nanoseconds</span>())/<span class="hljs-built_in">float64</span>(multiplyTime.<span class="hljs-built_in">Nanoseconds</span>())*<span class="hljs-number">100</span>)
}
</code></pre>
<h3 data-id="heading-20">æ€»ç»“</h3>
<p>åœ¨Goå¼€å‘ä¸­ï¼ŒäºŒè¿›åˆ¶è¿ç®—ä¸ä»…æ˜¯åº•å±‚ç¼–ç¨‹çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯ç¼–å†™é«˜æ•ˆä»£ç çš„é‡è¦å·¥å…·ã€‚é€šè¿‡åˆç†ä½¿ç”¨ï¼š</p>
<ol>
<li>â€‹<strong>æƒé™å’Œæ ‡å¿—ä½ç®¡ç†</strong>â€‹ï¼šä½¿ç”¨ä½æ©ç æé«˜å­˜å‚¨æ•ˆç‡</li>
<li>â€‹<strong>æ•°å­¦ä¼˜åŒ–</strong>â€‹ï¼šä½ç§»æ›¿ä»£ä¹˜é™¤æå‡æ€§èƒ½</li>
<li>â€‹<strong>ç®—æ³•å®ç°</strong>â€‹ï¼šåœ¨ç®—æ³•ç«èµ›å’Œæ€§èƒ½æ•æ„Ÿåœºæ™¯ä¸­å¹¿æ³›åº”ç”¨</li>
<li>â€‹<strong>ä½æ“ä½œæŠ€å·§</strong>â€‹ï¼šè§£å†³ç‰¹å®šé—®é¢˜çš„é«˜æ•ˆæ–¹æ¡ˆ</li>
</ol>
<p>æŒæ¡è¿™äº›æŠ€å·§èƒ½è®©ä½ çš„Goä»£ç æ›´åŠ é«˜æ•ˆã€ä¼˜é›…ã€‚å»ºè®®åœ¨å®é™…é¡¹ç›®ä¸­å¤šå°è¯•ä½¿ç”¨ä½è¿ç®—ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†æ ‡å¿—ã€æƒé™ã€çŠ¶æ€ç­‰åœºæ™¯æ—¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­—ç¬¦ä¸²æ¯”è¾ƒçš„ç»å…¸å‘ï¼š== vs equals]]></title>    <link>https://juejin.cn/post/7585138968166891556</link>    <guid>https://juejin.cn/post/7585138968166891556</guid>    <pubDate>2025-12-19T05:55:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585138968166891556" data-draft-id="7584110439933476910" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­—ç¬¦ä¸²æ¯”è¾ƒçš„ç»å…¸å‘ï¼š== vs equals"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-19T05:55:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uup"/> <meta itemprop="url" content="https://juejin.cn/user/4378706456356627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­—ç¬¦ä¸²æ¯”è¾ƒçš„ç»å…¸å‘ï¼š== vs equals
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4378706456356627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uup
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:55:10.000Z" title="Fri Dec 19 2025 05:55:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Bug åœºæ™¯</h2>
<p>åœ¨ä¸€ä¸ª Java ç¨‹åºä¸­ï¼Œæ¶‰åŠåˆ°å­—ç¬¦ä¸²çš„æ¯”è¾ƒæ“ä½œã€‚å¼€å‘äººå‘˜åœ¨åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰æ—¶ï¼Œè¯¯ä½¿ç”¨äº†Â <code>==</code>Â è¿ç®—ç¬¦ï¼Œè€Œä¸æ˜¯Â <code>equals</code>Â æ–¹æ³•ã€‚ç¨‹åºåœ¨éƒ¨åˆ†æƒ…å†µä¸‹è¿è¡Œæ­£å¸¸ï¼Œä½†åœ¨å…¶ä»–æƒ…å†µä¸‹å´å‡ºç°é€»è¾‘é”™è¯¯ï¼Œå¯¼è‡´åŠŸèƒ½æ— æ³•æ­£ç¡®å®ç°ï¼Œç»™ç¨‹åºçš„ç¨³å®šæ€§å’Œå¯é æ€§å¸¦æ¥äº†éšæ‚£ã€‚</p>
<h2 data-id="heading-1">äºŒã€ä»£ç ç¤ºä¾‹</h2>
<h3 data-id="heading-2">å­—ç¬¦ä¸²æ¯”è¾ƒç±»ï¼ˆæœ‰ç¼ºé™·ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringComparison</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">compareStrings</span><span class="hljs-params">(String str1, String str2)</span> {
        <span class="hljs-comment">// é”™è¯¯åœ°ä½¿ç”¨ == è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒ</span>
        <span class="hljs-keyword">return</span> str1 == str2; 
    }
}
</code></pre>
<h3 data-id="heading-3">æµ‹è¯•ä»£ç </h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringComparisonBugExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Hello"</span>);

        System.out.println(<span class="hljs-string">"s1 == s2 ä½¿ç”¨ == ç»“æœ: "</span> + StringComparison.compareStrings(s1, s2));
        System.out.println(<span class="hljs-string">"s1 == s3 ä½¿ç”¨ == ç»“æœ: "</span> + StringComparison.compareStrings(s1, s3));

        System.out.println(<span class="hljs-string">"s1.equals(s2) ä½¿ç”¨equalsç»“æœ: "</span> + s1.equals(s2));
        System.out.println(<span class="hljs-string">"s1.equals(s3) ä½¿ç”¨equalsç»“æœ: "</span> + s1.equals(s3));
    }
}
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€é—®é¢˜æè¿°</h2>
<ol>
<li><strong>é¢„æœŸè¡Œä¸º</strong>ï¼šæ— è®ºå­—ç¬¦ä¸²æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œåªè¦å®ƒä»¬çš„å†…å®¹ç›¸åŒï¼Œæ¯”è¾ƒç»“æœå°±åº”è¯¥ä¸ºÂ <code>true</code>ã€‚</li>
<li><strong>å®é™…è¡Œä¸º</strong>ï¼šå½“ä½¿ç”¨Â <code>==</code>Â è¿ç®—ç¬¦è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒæ—¶ï¼Œ<code>s1 == s2</code>Â è¿”å›Â <code>true</code>ï¼Œå› ä¸ºÂ <code>s1</code>Â å’ŒÂ <code>s2</code>Â æŒ‡å‘å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„åŒä¸€ä¸ªå¯¹è±¡ã€‚ç„¶è€Œï¼Œ<code>s1 == s3</code>Â è¿”å›Â <code>false</code>ï¼Œå°½ç®¡Â <code>s1</code>Â å’ŒÂ <code>s3</code>Â çš„å†…å®¹éƒ½æ˜¯Â <code>"Hello"</code>ã€‚è¿™æ˜¯å› ä¸ºÂ <code>s3</code>Â æ˜¯é€šè¿‡Â <code>new</code>Â å…³é”®å­—åˆ›å»ºçš„ï¼Œå®ƒåœ¨å †å†…å­˜ä¸­å¼€è¾Ÿäº†æ–°çš„ç©ºé—´ï¼Œä¸Â <code>s1</code>Â æŒ‡å‘ä¸åŒçš„å†…å­˜åœ°å€ã€‚è€ŒÂ <code>==</code>Â è¿ç®—ç¬¦æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œå¹¶éå­—ç¬¦ä¸²çš„å†…å®¹ã€‚è€ŒÂ <code>equals</code>Â æ–¹æ³•æ‰æ˜¯æ¯”è¾ƒå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚</li>
</ol>
<h2 data-id="heading-5">å››ã€è§£å†³æ–¹æ¡ˆ</h2>
<ol>
<li><strong>å§‹ç»ˆä½¿ç”¨Â <code>equals</code>Â æ–¹æ³•</strong>ï¼šåœ¨è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒæ—¶ï¼Œæ— è®ºåœ¨ä½•ç§æƒ…å†µä¸‹ï¼Œéƒ½ä½¿ç”¨Â <code>equals</code>Â æ–¹æ³•æ¥ç¡®ä¿æ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²çš„å†…å®¹ã€‚</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringComparison</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">compareStrings</span><span class="hljs-params">(String str1, String str2)</span> {
        <span class="hljs-comment">// ä½¿ç”¨equalsæ–¹æ³•è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒ</span>
        <span class="hljs-keyword">if</span> (str1 == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> str2 == <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">return</span> str1.equals(str2); 
    }
}
</code></pre>
<ol start="2">
<li><strong>è€ƒè™‘Â <code>null</code>Â å€¼</strong>ï¼šåœ¨ä½¿ç”¨Â <code>equals</code>Â æ–¹æ³•æ—¶ï¼Œéœ€è¦æ³¨æ„å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²å¯èƒ½ä¸ºÂ <code>null</code>Â çš„æƒ…å†µã€‚ä¸Šè¿°ä»£ç ä¸­ï¼Œå…ˆå¯¹Â <code>str1</code>Â æ˜¯å¦ä¸ºÂ <code>null</code>Â è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœÂ <code>str1</code>Â ä¸ºÂ <code>null</code>ï¼Œåˆ™åªæœ‰å½“Â <code>str2</code>Â ä¹Ÿä¸ºÂ <code>null</code>Â æ—¶æ‰è¿”å›Â <code>true</code>ã€‚è¿™æ ·å¯ä»¥é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç®¡ç†100å°æœåŠ¡å™¨æ˜¯ä»€ä¹ˆä½“éªŒï¼ŸPythonä¸€è¡Œä»£ç æå®š]]></title>    <link>https://juejin.cn/post/7585139951344877619</link>    <guid>https://juejin.cn/post/7585139951344877619</guid>    <pubDate>2025-12-19T05:55:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585139951344877619" data-draft-id="7585138968166842404" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç®¡ç†100å°æœåŠ¡å™¨æ˜¯ä»€ä¹ˆä½“éªŒï¼ŸPythonä¸€è¡Œä»£ç æå®š"/> <meta itemprop="keywords" content="è¿ç»´"/> <meta itemprop="datePublished" content="2025-12-19T05:55:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å˜»å“ˆbaby"/> <meta itemprop="url" content="https://juejin.cn/user/485305583405066"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç®¡ç†100å°æœåŠ¡å™¨æ˜¯ä»€ä¹ˆä½“éªŒï¼ŸPythonä¸€è¡Œä»£ç æå®š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/485305583405066/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å˜»å“ˆbaby
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:55:33.000Z" title="Fri Dec 19 2025 05:55:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¯¦è§£Python Fabricåº“å®ç°SSHè¿œç¨‹æ‰§è¡Œã€æ‰¹é‡éƒ¨ç½²å’Œè‡ªåŠ¨åŒ–è¿ç»´ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>è¿ç»´æ—¥å¸¸ï¼š</p>
<ul>
<li>ç™»å½•æœåŠ¡å™¨Aï¼Œæ‰§è¡Œå‘½ä»¤</li>
<li>ç™»å½•æœåŠ¡å™¨Bï¼Œæ‰§è¡ŒåŒæ ·å‘½ä»¤</li>
<li>ç™»å½•æœåŠ¡å™¨C...</li>
</ul>
<p>è¿™å¤ªç—›è‹¦äº†ï¼ç”¨<strong>Python + Fabric</strong>å®ç°æ‰¹é‡è‡ªåŠ¨åŒ–ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€Fabricç®€ä»‹</h2>
<h3 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯Fabric</h3>
<pre><code class="hljs language-diff" lang="diff">Fabric = Python + SSH + æ‰¹é‡æ‰§è¡Œ

åŠŸèƒ½ï¼š
<span class="hljs-deletion">- è¿œç¨‹æ‰§è¡Œå‘½ä»¤</span>
<span class="hljs-deletion">- æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</span>
<span class="hljs-deletion">- æ‰¹é‡æ“ä½œå¤šå°æœåŠ¡å™¨</span>
<span class="hljs-deletion">- éƒ¨ç½²è‡ªåŠ¨åŒ–</span>
</code></pre>
<h3 data-id="heading-3">1.2 å¯¹æ¯”å…¶ä»–å·¥å…·</h3>



































<table><thead><tr><th>å·¥å…·</th><th>è¯­è¨€</th><th>å­¦ä¹ æˆæœ¬</th><th>çµæ´»æ€§</th></tr></thead><tbody><tr><td>Fabric</td><td>Python</td><td>ä½</td><td>é«˜</td></tr><tr><td>Ansible</td><td>YAML</td><td>ä¸­</td><td>ä¸­</td></tr><tr><td>SaltStack</td><td>Python/YAML</td><td>é«˜</td><td>é«˜</td></tr><tr><td>Shellè„šæœ¬</td><td>Bash</td><td>ä½</td><td>ä½</td></tr></tbody></table>
<p>Fabricé€‚åˆï¼š<strong>ä¸­å°è§„æ¨¡</strong>ã€<strong>éœ€è¦çµæ´»å®šåˆ¶</strong>çš„åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€ç¯å¢ƒå‡†å¤‡</h2>
<h3 data-id="heading-5">2.1 å®‰è£…Fabric</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Python 3.6+</span>
pip install fabric

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
fab --version
</code></pre>
<h3 data-id="heading-6">2.2 åŸºç¡€ç”¨æ³•</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># fabfile.py</span>
<span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> Connection

<span class="hljs-comment"># è¿æ¥è¿œç¨‹æœåŠ¡å™¨</span>
conn = Connection(
    host=<span class="hljs-string">'192.168.1.100'</span>,
    user=<span class="hljs-string">'root'</span>,
    connect_kwargs={
        <span class="hljs-string">'password'</span>: <span class="hljs-string">'your_password'</span>
        <span class="hljs-comment"># æˆ–ä½¿ç”¨å¯†é’¥</span>
        <span class="hljs-comment"># 'key_filename': '/path/to/id_rsa'</span>
    }
)

<span class="hljs-comment"># æ‰§è¡Œå‘½ä»¤</span>
result = conn.run(<span class="hljs-string">'uname -a'</span>)
<span class="hljs-built_in">print</span>(result.stdout)

<span class="hljs-comment"># å…³é—­è¿æ¥</span>
conn.close()
</code></pre>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½</h2>
<h3 data-id="heading-8">3.1 è¿œç¨‹æ‰§è¡Œå‘½ä»¤</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> Connection

<span class="hljs-keyword">def</span> <span class="hljs-title function_">remote_exec</span>():
    <span class="hljs-string">"""è¿œç¨‹æ‰§è¡Œå‘½ä»¤"""</span>
    conn = Connection(<span class="hljs-string">'root@192.168.1.100'</span>)
    
    <span class="hljs-comment"># åŸºæœ¬æ‰§è¡Œ</span>
    result = conn.run(<span class="hljs-string">'hostname'</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¸»æœºå: <span class="hljs-subst">{result.stdout.strip()}</span>"</span>)
    
    <span class="hljs-comment"># éšè—è¾“å‡º</span>
    result = conn.run(<span class="hljs-string">'cat /etc/os-release'</span>, hide=<span class="hljs-literal">True</span>)
    <span class="hljs-built_in">print</span>(result.stdout)
    
    <span class="hljs-comment"># å¸¦ç¯å¢ƒå˜é‡</span>
    conn.run(<span class="hljs-string">'echo $HOME'</span>, env={<span class="hljs-string">'HOME'</span>: <span class="hljs-string">'/root'</span>})
    
    <span class="hljs-comment"># æŒ‡å®šå·¥ä½œç›®å½•</span>
    <span class="hljs-keyword">with</span> conn.cd(<span class="hljs-string">'/var/log'</span>):
        conn.run(<span class="hljs-string">'ls -la'</span>)
    
    conn.close()
</code></pre>
<h3 data-id="heading-9">3.2 æ–‡ä»¶æ“ä½œ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> Connection

<span class="hljs-keyword">def</span> <span class="hljs-title function_">file_operations</span>():
    <span class="hljs-string">"""æ–‡ä»¶ä¸Šä¼ ä¸‹è½½"""</span>
    conn = Connection(<span class="hljs-string">'root@192.168.1.100'</span>)
    
    <span class="hljs-comment"># ä¸Šä¼ æ–‡ä»¶</span>
    conn.put(<span class="hljs-string">'local_file.txt'</span>, <span class="hljs-string">'/tmp/remote_file.txt'</span>)
    
    <span class="hljs-comment"># ä¸‹è½½æ–‡ä»¶</span>
    conn.get(<span class="hljs-string">'/var/log/syslog'</span>, <span class="hljs-string">'local_syslog.txt'</span>)
    
    <span class="hljs-comment"># ä¸Šä¼ å¹¶è®¾ç½®æƒé™</span>
    conn.put(<span class="hljs-string">'script.sh'</span>, <span class="hljs-string">'/opt/script.sh'</span>)
    conn.run(<span class="hljs-string">'chmod +x /opt/script.sh'</span>)
    
    conn.close()
</code></pre>
<h3 data-id="heading-10">3.3 Sudoæ‰§è¡Œ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> Connection

<span class="hljs-keyword">def</span> <span class="hljs-title function_">sudo_exec</span>():
    <span class="hljs-string">"""ä»¥sudoæ–¹å¼æ‰§è¡Œ"""</span>
    conn = Connection(
        <span class="hljs-string">'user@192.168.1.100'</span>,
        connect_kwargs={<span class="hljs-string">'password'</span>: <span class="hljs-string">'user_password'</span>}
    )
    
    <span class="hljs-comment"># sudoæ‰§è¡Œ</span>
    conn.sudo(<span class="hljs-string">'systemctl restart nginx'</span>, password=<span class="hljs-string">'sudo_password'</span>)
    
    <span class="hljs-comment"># ä»¥å…¶ä»–ç”¨æˆ·æ‰§è¡Œ</span>
    conn.sudo(<span class="hljs-string">'whoami'</span>, user=<span class="hljs-string">'www-data'</span>)
    
    conn.close()
</code></pre>
<hr/>
<h2 data-id="heading-11">å››ã€æ‰¹é‡æ“ä½œ</h2>
<h3 data-id="heading-12">4.1 ThreadingGroupå¹¶è¡Œæ‰§è¡Œ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> ThreadingGroup

<span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_exec</span>():
    <span class="hljs-string">"""æ‰¹é‡å¹¶è¡Œæ‰§è¡Œ"""</span>
    <span class="hljs-comment"># æœåŠ¡å™¨åˆ—è¡¨</span>
    hosts = [
        <span class="hljs-string">'root@192.168.1.101'</span>,
        <span class="hljs-string">'root@192.168.1.102'</span>,
        <span class="hljs-string">'root@192.168.1.103'</span>,
    ]
    
    <span class="hljs-comment"># åˆ›å»ºç»„ï¼ˆå¹¶è¡Œæ‰§è¡Œï¼‰</span>
    group = ThreadingGroup(*hosts, connect_kwargs={<span class="hljs-string">'password'</span>: <span class="hljs-string">'password'</span>})
    
    <span class="hljs-comment"># æ‰¹é‡æ‰§è¡Œ</span>
    results = group.run(<span class="hljs-string">'hostname'</span>)
    
    <span class="hljs-keyword">for</span> conn, result <span class="hljs-keyword">in</span> results.items():
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{conn.host}</span>: <span class="hljs-subst">{result.stdout.strip()}</span>"</span>)
    
    group.close()
</code></pre>
<h3 data-id="heading-13">4.2 SerialGroupä¸²è¡Œæ‰§è¡Œ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> SerialGroup

<span class="hljs-keyword">def</span> <span class="hljs-title function_">serial_exec</span>():
    <span class="hljs-string">"""ä¸²è¡Œæ‰§è¡Œï¼ˆé€‚åˆæœ‰ä¾èµ–çš„ä»»åŠ¡ï¼‰"""</span>
    hosts = [<span class="hljs-string">'root@192.168.1.101'</span>, <span class="hljs-string">'root@192.168.1.102'</span>]
    
    group = SerialGroup(*hosts, connect_kwargs={<span class="hljs-string">'password'</span>: <span class="hljs-string">'password'</span>})
    
    <span class="hljs-comment"># ä¾æ¬¡æ‰§è¡Œ</span>
    group.run(<span class="hljs-string">'apt update'</span>)
    group.run(<span class="hljs-string">'apt upgrade -y'</span>)
    
    group.close()
</code></pre>
<h3 data-id="heading-14">4.3 ä»é…ç½®æ–‡ä»¶è¯»å–æœåŠ¡å™¨</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># servers.yaml</span>
<span class="hljs-comment"># web:</span>
<span class="hljs-comment">#   - 192.168.1.101</span>
<span class="hljs-comment">#   - 192.168.1.102</span>
<span class="hljs-comment"># db:</span>
<span class="hljs-comment">#   - 192.168.1.201</span>

<span class="hljs-keyword">import</span> yaml
<span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> ThreadingGroup

<span class="hljs-keyword">def</span> <span class="hljs-title function_">load_servers</span>():
    <span class="hljs-string">"""ä»é…ç½®æ–‡ä»¶åŠ è½½æœåŠ¡å™¨"""</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">'servers.yaml'</span>) <span class="hljs-keyword">as</span> f:
        servers = yaml.safe_load(f)
    
    <span class="hljs-comment"># æ‰¹é‡æ“ä½œwebæœåŠ¡å™¨</span>
    web_hosts = [<span class="hljs-string">f'root@<span class="hljs-subst">{ip}</span>'</span> <span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> servers[<span class="hljs-string">'web'</span>]]
    group = ThreadingGroup(*web_hosts, connect_kwargs={<span class="hljs-string">'password'</span>: <span class="hljs-string">'password'</span>})
    
    group.run(<span class="hljs-string">'nginx -t'</span>)
    group.run(<span class="hljs-string">'systemctl reload nginx'</span>)
    
    group.close()
</code></pre>
<hr/>
<h2 data-id="heading-15">äº”ã€å®æˆ˜æ¡ˆä¾‹</h2>
<h3 data-id="heading-16">5.1 æ¡ˆä¾‹ï¼šæ‰¹é‡éƒ¨ç½²åº”ç”¨</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># deploy.py</span>
<span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> Connection, ThreadingGroup
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Deployer</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, hosts, user=<span class="hljs-string">'root'</span>, password=<span class="hljs-literal">None</span>, key_file=<span class="hljs-literal">None</span></span>):
        self.hosts = [<span class="hljs-string">f'<span class="hljs-subst">{user}</span>@<span class="hljs-subst">{h}</span>'</span> <span class="hljs-keyword">for</span> h <span class="hljs-keyword">in</span> hosts]
        self.connect_kwargs = {}
        <span class="hljs-keyword">if</span> password:
            self.connect_kwargs[<span class="hljs-string">'password'</span>] = password
        <span class="hljs-keyword">if</span> key_file:
            self.connect_kwargs[<span class="hljs-string">'key_filename'</span>] = key_file
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deploy</span>(<span class="hljs-params">self, local_path, remote_path, service_name=<span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""éƒ¨ç½²åº”ç”¨"""</span>
        group = ThreadingGroup(*self.hosts, connect_kwargs=self.connect_kwargs)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"&gt;&gt;&gt; ä¸Šä¼ æ–‡ä»¶..."</span>)
        <span class="hljs-keyword">for</span> conn <span class="hljs-keyword">in</span> group:
            conn.put(local_path, remote_path)
        
        <span class="hljs-keyword">if</span> service_name:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"&gt;&gt;&gt; é‡å¯æœåŠ¡ <span class="hljs-subst">{service_name}</span>..."</span>)
            group.sudo(<span class="hljs-string">f'systemctl restart <span class="hljs-subst">{service_name}</span>'</span>)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"&gt;&gt;&gt; éƒ¨ç½²å®Œæˆ!"</span>)
        group.close()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">rollback</span>(<span class="hljs-params">self, backup_path, remote_path, service_name=<span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""å›æ»š"""</span>
        group = ThreadingGroup(*self.hosts, connect_kwargs=self.connect_kwargs)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"&gt;&gt;&gt; å›æ»šä¸­..."</span>)
        group.run(<span class="hljs-string">f'cp <span class="hljs-subst">{backup_path}</span> <span class="hljs-subst">{remote_path}</span>'</span>)
        
        <span class="hljs-keyword">if</span> service_name:
            group.sudo(<span class="hljs-string">f'systemctl restart <span class="hljs-subst">{service_name}</span>'</span>)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"&gt;&gt;&gt; å›æ»šå®Œæˆ!"</span>)
        group.close()

<span class="hljs-comment"># ä½¿ç”¨</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    hosts = [<span class="hljs-string">'192.168.1.101'</span>, <span class="hljs-string">'192.168.1.102'</span>]
    deployer = Deployer(hosts, password=<span class="hljs-string">'password'</span>)
    deployer.deploy(<span class="hljs-string">'./app.jar'</span>, <span class="hljs-string">'/opt/app/app.jar'</span>, <span class="hljs-string">'myapp'</span>)
</code></pre>
<h3 data-id="heading-17">5.2 æ¡ˆä¾‹ï¼šæœåŠ¡å™¨å¥åº·æ£€æŸ¥</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># health_check.py</span>
<span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> ThreadingGroup
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">def</span> <span class="hljs-title function_">health_check</span>(<span class="hljs-params">hosts</span>):
    <span class="hljs-string">"""æœåŠ¡å™¨å¥åº·æ£€æŸ¥"""</span>
    group = ThreadingGroup(*hosts, connect_kwargs={<span class="hljs-string">'password'</span>: <span class="hljs-string">'password'</span>})
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æœåŠ¡å™¨å¥åº·æ£€æŸ¥ - <span class="hljs-subst">{datetime.now()}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'='</span>*<span class="hljs-number">60</span>}</span>\n"</span>)
    
    <span class="hljs-comment"># æ£€æŸ¥é¡¹</span>
    checks = {
        <span class="hljs-string">'hostname'</span>: <span class="hljs-string">'hostname'</span>,
        <span class="hljs-string">'uptime'</span>: <span class="hljs-string">'uptime -p'</span>,
        <span class="hljs-string">'disk'</span>: <span class="hljs-string">"df -h / | tail -1 | awk '{print $5}'"</span>,
        <span class="hljs-string">'memory'</span>: <span class="hljs-string">"free -m | grep Mem | awk '{printf \"%.1f%%\", $3/$2*100}'"</span>,
        <span class="hljs-string">'load'</span>: <span class="hljs-string">"cat /proc/loadavg | awk '{print $1, $2, $3}'"</span>,
    }
    
    <span class="hljs-keyword">for</span> conn <span class="hljs-keyword">in</span> group:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n--- <span class="hljs-subst">{conn.host}</span> ---"</span>)
        <span class="hljs-keyword">for</span> name, cmd <span class="hljs-keyword">in</span> checks.items():
            <span class="hljs-keyword">try</span>:
                result = conn.run(cmd, hide=<span class="hljs-literal">True</span>, warn=<span class="hljs-literal">True</span>)
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  <span class="hljs-subst">{name}</span>: <span class="hljs-subst">{result.stdout.strip()}</span>"</span>)
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  <span class="hljs-subst">{name}</span>: ERROR - <span class="hljs-subst">{e}</span>"</span>)
    
    group.close()

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    hosts = [
        <span class="hljs-string">'root@192.168.1.101'</span>,
        <span class="hljs-string">'root@192.168.1.102'</span>,
        <span class="hljs-string">'root@192.168.1.103'</span>,
    ]
    health_check(hosts)
</code></pre>
<h3 data-id="heading-18">5.3 æ¡ˆä¾‹ï¼šæ—¥å¿—æ”¶é›†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># collect_logs.py</span>
<span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> ThreadingGroup
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">def</span> <span class="hljs-title function_">collect_logs</span>(<span class="hljs-params">hosts, remote_log, local_dir=<span class="hljs-string">'./logs'</span></span>):
    <span class="hljs-string">"""æ‰¹é‡æ”¶é›†æ—¥å¿—"""</span>
    Path(local_dir).mkdir(exist_ok=<span class="hljs-literal">True</span>)
    timestamp = datetime.now().strftime(<span class="hljs-string">'%Y%m%d_%H%M%S'</span>)
    
    group = ThreadingGroup(*hosts, connect_kwargs={<span class="hljs-string">'password'</span>: <span class="hljs-string">'password'</span>})
    
    <span class="hljs-keyword">for</span> conn <span class="hljs-keyword">in</span> group:
        host_ip = conn.host
        local_file = <span class="hljs-string">f"<span class="hljs-subst">{local_dir}</span>/<span class="hljs-subst">{host_ip}</span>_<span class="hljs-subst">{timestamp}</span>.log"</span>
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># å‹ç¼©è¿œç¨‹æ—¥å¿—</span>
            conn.run(<span class="hljs-string">f'gzip -c <span class="hljs-subst">{remote_log}</span> &gt; /tmp/log.gz'</span>, hide=<span class="hljs-literal">True</span>)
            <span class="hljs-comment"># ä¸‹è½½</span>
            conn.get(<span class="hljs-string">'/tmp/log.gz'</span>, <span class="hljs-string">f'<span class="hljs-subst">{local_file}</span>.gz'</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ“ <span class="hljs-subst">{host_ip}</span> -&gt; <span class="hljs-subst">{local_file}</span>.gz"</span>)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ— <span class="hljs-subst">{host_ip}</span>: <span class="hljs-subst">{e}</span>"</span>)
    
    group.close()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ—¥å¿—å·²æ”¶é›†åˆ°: <span class="hljs-subst">{local_dir}</span>/"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    hosts = [<span class="hljs-string">'root@192.168.1.101'</span>, <span class="hljs-string">'root@192.168.1.102'</span>]
    collect_logs(hosts, <span class="hljs-string">'/var/log/nginx/access.log'</span>)
</code></pre>
<hr/>
<h2 data-id="heading-19">å…­ã€è¿›é˜¶æŠ€å·§</h2>
<h3 data-id="heading-20">6.1 å¼‚å¸¸å¤„ç†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> Connection
<span class="hljs-keyword">from</span> invoke.exceptions <span class="hljs-keyword">import</span> UnexpectedExit

<span class="hljs-keyword">def</span> <span class="hljs-title function_">safe_exec</span>(<span class="hljs-params">host, command</span>):
    <span class="hljs-string">"""å®‰å…¨æ‰§è¡Œï¼ˆå¸¦å¼‚å¸¸å¤„ç†ï¼‰"""</span>
    conn = Connection(host)
    
    <span class="hljs-keyword">try</span>:
        result = conn.run(command, warn=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># warn=True ä¸æŠ›å¼‚å¸¸</span>
        <span class="hljs-keyword">if</span> result.ok:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ“ æˆåŠŸ: <span class="hljs-subst">{result.stdout.strip()}</span>"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ— å¤±è´¥: <span class="hljs-subst">{result.stderr.strip()}</span>"</span>)
        <span class="hljs-keyword">return</span> result.ok
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ— è¿æ¥é”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    <span class="hljs-keyword">finally</span>:
        conn.close()
</code></pre>
<h3 data-id="heading-21">6.2 ä¸Šä¸‹æ–‡ç®¡ç†å™¨</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> Connection
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> contextmanager

<span class="hljs-meta">@contextmanager</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">remote_server</span>(<span class="hljs-params">host, **kwargs</span>):
    <span class="hljs-string">"""ä¸Šä¸‹æ–‡ç®¡ç†å™¨"""</span>
    conn = Connection(host, **kwargs)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">yield</span> conn
    <span class="hljs-keyword">finally</span>:
        conn.close()

<span class="hljs-comment"># ä½¿ç”¨</span>
<span class="hljs-keyword">with</span> remote_server(<span class="hljs-string">'root@192.168.1.100'</span>, connect_kwargs={<span class="hljs-string">'password'</span>: <span class="hljs-string">'pwd'</span>}) <span class="hljs-keyword">as</span> conn:
    conn.run(<span class="hljs-string">'hostname'</span>)
<span class="hljs-comment"># è‡ªåŠ¨å…³é—­è¿æ¥</span>
</code></pre>
<h3 data-id="heading-22">6.3 SSHé…ç½®å¤ç”¨</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> Connection

<span class="hljs-comment"># ä½¿ç”¨~/.ssh/configä¸­çš„é…ç½®</span>
<span class="hljs-comment"># Host myserver</span>
<span class="hljs-comment">#     HostName 192.168.1.100</span>
<span class="hljs-comment">#     User root</span>
<span class="hljs-comment">#     IdentityFile ~/.ssh/id_rsa</span>

conn = Connection(<span class="hljs-string">'myserver'</span>)  <span class="hljs-comment"># è‡ªåŠ¨è¯»å–SSHé…ç½®</span>
conn.run(<span class="hljs-string">'hostname'</span>)
</code></pre>
<hr/>
<h2 data-id="heading-23">ä¸ƒã€ä½¿ç”¨fabfile</h2>
<h3 data-id="heading-24">7.1 å®šä¹‰ä»»åŠ¡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># fabfile.py</span>
<span class="hljs-keyword">from</span> fabric <span class="hljs-keyword">import</span> task, Connection

<span class="hljs-meta">@task</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">deploy</span>(<span class="hljs-params">ctx, host, version=<span class="hljs-string">'latest'</span></span>):
    <span class="hljs-string">"""éƒ¨ç½²åº”ç”¨
    ä½¿ç”¨: fab deploy --host=192.168.1.100 --version=1.0.0
    """</span>
    conn = Connection(host)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"éƒ¨ç½²ç‰ˆæœ¬ <span class="hljs-subst">{version}</span> åˆ° <span class="hljs-subst">{host}</span>"</span>)
    conn.run(<span class="hljs-string">f'docker pull myapp:<span class="hljs-subst">{version}</span>'</span>)
    conn.run(<span class="hljs-string">f'docker-compose up -d'</span>)
    
    conn.close()

<span class="hljs-meta">@task</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">status</span>(<span class="hljs-params">ctx, host</span>):
    <span class="hljs-string">"""æ£€æŸ¥çŠ¶æ€
    ä½¿ç”¨: fab status --host=192.168.1.100
    """</span>
    conn = Connection(host)
    conn.run(<span class="hljs-string">'docker ps'</span>)
    conn.close()

<span class="hljs-meta">@task</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">logs</span>(<span class="hljs-params">ctx, host, lines=<span class="hljs-number">100</span></span>):
    <span class="hljs-string">"""æŸ¥çœ‹æ—¥å¿—
    ä½¿ç”¨: fab logs --host=192.168.1.100 --lines=200
    """</span>
    conn = Connection(host)
    conn.run(<span class="hljs-string">f'docker logs --tail <span class="hljs-subst">{lines}</span> myapp'</span>)
    conn.close()
</code></pre>
<h3 data-id="heading-25">7.2 æ‰§è¡Œä»»åŠ¡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡</span>
fab --list

<span class="hljs-comment"># æ‰§è¡Œä»»åŠ¡</span>
fab deploy --host=root@192.168.1.100 --version=1.0.0
fab status --host=root@192.168.1.100
fab logs --host=root@192.168.1.100 --lines=200
</code></pre>
<hr/>
<h2 data-id="heading-26">å…«ã€è·¨ç½‘ç»œç®¡ç†</h2>
<h3 data-id="heading-27">8.1 é—®é¢˜</h3>
<pre><code class="hljs language-diff" lang="diff">å¸¸è§åœºæ™¯ï¼š
<span class="hljs-deletion">- åŠå…¬å®¤éœ€è¦ç®¡ç†æœºæˆ¿æœåŠ¡å™¨</span>
<span class="hljs-deletion">- åœ¨å®¶éœ€è¦ç®¡ç†å…¬å¸æœåŠ¡å™¨</span>
<span class="hljs-deletion">- ç®¡ç†å¤šä¸ªä¸åŒç½‘ç»œçš„æœåŠ¡å™¨</span>

ä¼ ç»Ÿæ–¹æ¡ˆï¼š
<span class="hljs-deletion">- VPNæ¥å…¥ â†’ é…ç½®å¤æ‚</span>
<span class="hljs-deletion">- è·³æ¿æœº â†’ å¤šä¸€è·³å»¶è¿Ÿ</span>
<span class="hljs-deletion">- å…¬ç½‘æš´éœ²SSH â†’ å®‰å…¨é£é™©</span>
</code></pre>
<h3 data-id="heading-28">8.2 ç»„ç½‘æ–¹æ¡ˆ</h3>
<p>ä½¿ç”¨ç»„ç½‘è½¯ä»¶ï¼ˆå¦‚æ˜Ÿç©ºç»„ç½‘ï¼‰ç®€åŒ–è·¨ç½‘ç»œç®¡ç†ï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç»„ç½‘è™šæ‹Ÿå±€åŸŸç½‘                         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ æœåŠ¡å™¨<span class="hljs-selector-tag">A</span>  â”‚  â”‚ æœåŠ¡å™¨<span class="hljs-selector-tag">B</span>  â”‚  â”‚ æœåŠ¡å™¨C  â”‚              â”‚
â”‚  â”‚<span class="hljs-number">10.10</span>.<span class="hljs-number">0.1</span> â”‚  â”‚<span class="hljs-number">10.10</span>.<span class="hljs-number">0.2</span> â”‚  â”‚<span class="hljs-number">10.10</span>.<span class="hljs-number">0.3</span> â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                      â†‘                                   â”‚
â”‚                      â”‚                                   â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚               â”‚ ç®¡ç†ç”µè„‘ â”‚                              â”‚
â”‚               â”‚<span class="hljs-number">10.10</span>.<span class="hljs-number">0.10</span>â”‚                              â”‚
â”‚               â”‚  Fabric  â”‚                              â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                          â”‚
â”‚  æ‰€æœ‰è®¾å¤‡åœ¨åŒä¸€è™šæ‹Ÿå±€åŸŸç½‘ï¼Œç›´æ¥SSHäº’é€š                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é…ç½®ç»„ç½‘åï¼Œç›´æ¥ç”¨è™šæ‹ŸIP</span>
hosts = [
    <span class="hljs-string">'root@10.10.0.1'</span>,  <span class="hljs-comment"># æœºæˆ¿æœåŠ¡å™¨A</span>
    <span class="hljs-string">'root@10.10.0.2'</span>,  <span class="hljs-comment"># æœºæˆ¿æœåŠ¡å™¨B</span>
    <span class="hljs-string">'root@10.10.0.3'</span>,  <span class="hljs-comment"># äº‘æœåŠ¡å™¨C</span>
]

group = ThreadingGroup(*hosts, connect_kwargs={<span class="hljs-string">'key_filename'</span>: <span class="hljs-string">'~/.ssh/id_rsa'</span>})
group.run(<span class="hljs-string">'hostname'</span>)
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>ä¸åŒç½‘ç»œçš„æœåŠ¡å™¨ç»Ÿä¸€ç®¡ç†</li>
<li>æ— éœ€é…ç½®è·³æ¿æœº</li>
<li>å®‰å…¨åŠ å¯†ä¼ è¾“</li>
<li>åƒå±€åŸŸç½‘ä¸€æ ·ç®€å•</li>
</ul>
<hr/>
<h2 data-id="heading-29">ä¹ã€æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-30">9.1 å®‰å…¨å»ºè®®</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. ä½¿ç”¨å¯†é’¥è€Œéå¯†ç </span>
connect_kwargs={<span class="hljs-string">'key_filename'</span>: <span class="hljs-string">'~/.ssh/id_rsa'</span>}

<span class="hljs-comment"># 2. ä½¿ç”¨SSH Agent</span>
<span class="hljs-comment"># ssh-add ~/.ssh/id_rsa</span>
connect_kwargs={}  <span class="hljs-comment"># è‡ªåŠ¨ä½¿ç”¨agent</span>

<span class="hljs-comment"># 3. é™åˆ¶sudoæƒé™</span>
conn.sudo(<span class="hljs-string">'systemctl restart nginx'</span>, password=get_password())

<span class="hljs-comment"># 4. æ•æ„Ÿä¿¡æ¯ä¸å†™ä»£ç </span>
<span class="hljs-keyword">import</span> os
password = os.environ.get(<span class="hljs-string">'SSH_PASSWORD'</span>)
</code></pre>
<h3 data-id="heading-31">9.2 ä»£ç ç»„ç»‡</h3>
<pre><code class="hljs language-bash" lang="bash">automation/
â”œâ”€â”€ fabfile.py          <span class="hljs-comment"># ä»»åŠ¡å®šä¹‰</span>
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ servers.yaml    <span class="hljs-comment"># æœåŠ¡å™¨é…ç½®</span>
â”‚   â””â”€â”€ settings.py     <span class="hljs-comment"># å…¨å±€è®¾ç½®</span>
â”œâ”€â”€ tasks/
â”‚   â”œâ”€â”€ deploy.py       <span class="hljs-comment"># éƒ¨ç½²ä»»åŠ¡</span>
â”‚   â”œâ”€â”€ backup.py       <span class="hljs-comment"># å¤‡ä»½ä»»åŠ¡</span>
â”‚   â””â”€â”€ monitor.py      <span class="hljs-comment"># ç›‘æ§ä»»åŠ¡</span>
â””â”€â”€ utils/
    â””â”€â”€ ssh.py          <span class="hljs-comment"># SSHå·¥å…·å‡½æ•°</span>
</code></pre>
<hr/>
<h2 data-id="heading-32">åã€æ€»ç»“</h2>
<p>Python Fabricè‡ªåŠ¨åŒ–è¿ç»´è¦ç‚¹ï¼š</p>

































<table><thead><tr><th>åŠŸèƒ½</th><th>æ–¹æ³•</th></tr></thead><tbody><tr><td>å•æœºæ‰§è¡Œ</td><td><code>Connection.run()</code></td></tr><tr><td>æ–‡ä»¶ä¼ è¾“</td><td><code>put()</code> / <code>get()</code></td></tr><tr><td>æ‰¹é‡å¹¶è¡Œ</td><td><code>ThreadingGroup</code></td></tr><tr><td>æ‰¹é‡ä¸²è¡Œ</td><td><code>SerialGroup</code></td></tr><tr><td>sudoæ‰§è¡Œ</td><td><code>conn.sudo()</code></td></tr><tr><td>ä»»åŠ¡å®šä¹‰</td><td><code>@task</code> è£…é¥°å™¨</td></tr></tbody></table>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ‰¹é‡éƒ¨ç½²åº”ç”¨</li>
<li>æœåŠ¡å™¨å¥åº·æ£€æŸ¥</li>
<li>æ—¥å¿—æ”¶é›†åˆ†æ</li>
<li>é…ç½®åŒæ­¥</li>
<li>è‡ªåŠ¨åŒ–è¿ç»´è„šæœ¬</li>
</ul>
<hr/>
<h2 data-id="heading-33">å‚è€ƒèµ„æ–™</h2>
<ol>
<li>Fabricå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.fabfile.org%2F" target="_blank" title="https://docs.fabfile.org/" ref="nofollow noopener noreferrer">docs.fabfile.org/</a></li>
<li>Fabric GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffabric%2Ffabric" target="_blank" title="https://github.com/fabric/fabric" ref="nofollow noopener noreferrer">github.com/fabric/fabrâ€¦</a></li>
</ol>
<hr/>
<blockquote>
<p>ğŸ’¡ Fabricè®©Pythonæˆä¸ºè¿ç»´ç¥å™¨ï¼Œé…åˆç»„ç½‘è½¯ä»¶å¯ä»¥è½»æ¾ç®¡ç†åˆ†å¸ƒåœ¨ä¸åŒç½‘ç»œçš„æ‰€æœ‰æœåŠ¡å™¨ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ React ä¸­ useState ä¸ useEffect]]></title>    <link>https://juejin.cn/post/7585289701793562650</link>    <guid>https://juejin.cn/post/7585289701793562650</guid>    <pubDate>2025-12-19T05:43:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585289701793562650" data-draft-id="7584991956126744611" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ React ä¸­ useState ä¸ useEffect "/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2025-12-19T05:43:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒŸè¢…ç ´è¾°"/> <meta itemprop="url" content="https://juejin.cn/user/1845419006243504"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ React ä¸­ useState ä¸ useEffect 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1845419006243504/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒŸè¢…ç ´è¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:43:59.000Z" title="Fri Dec 19 2025 05:43:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ React å‡½æ•°ç»„ä»¶çš„ä¸–ç•Œé‡Œï¼Œ<code>useState</code> å’Œ <code>useEffect</code> æ˜¯ä¸¤ä¸ªæœ€åŸºç¡€å´ä¹Ÿæœ€å…³é”®çš„ Hooksã€‚å®ƒä»¬çœ‹ä¼¼ç®€å•ï¼Œä½†è‹¥åªåœç•™åœ¨â€œä¼šç”¨â€çš„å±‚é¢ï¼Œå¾ˆå®¹æ˜“åœ¨å¤æ‚åœºæ™¯ä¸­è¸©å‘ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ç»“åˆä¸€æ®µçœŸå®ä»£ç å’Œæ ¸å¿ƒæ¦‚å¿µå›¾ç¤ºï¼Œä¸€èµ·æ·±å…¥æ¢è®¨è¿™ä¸¤ä¸ª Hook èƒŒåçš„è®¾è®¡æ€æƒ³â€”â€”ä¸åªæ˜¯æ€ä¹ˆå†™ï¼Œæ›´æ˜¯ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€useStateï¼šçŠ¶æ€ä¸æ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸€å¥—å“åº”å¼ç³»ç»Ÿ</h2>
<p>å…ˆçœ‹è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[num, setNum]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);
</code></pre>
<p>è¡¨é¢ä¸Šï¼Œå®ƒåªæ˜¯å£°æ˜äº†ä¸€ä¸ªåˆå§‹å€¼ä¸º 0 çš„çŠ¶æ€ã€‚ä½†å¦‚æœä½ ä»”ç»†çœ‹è¿‡å®˜æ–¹æ–‡æ¡£æˆ–ç›¸å…³å›¾ç¤ºï¼Œä¼šæ³¨æ„åˆ°ä¸€ä¸ªå…³é”®ç»†èŠ‚ï¼š</p>
<blockquote>
<p><strong>useState çš„åˆå§‹å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°</strong>ã€‚</p>
</blockquote>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-section">[num, setNum]</span> = useState(() =&gt; {
  const <span class="hljs-attr">num1</span> = <span class="hljs-number">1</span> + <span class="hljs-number">2</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">num2</span> = <span class="hljs-number">2</span> + <span class="hljs-number">3</span><span class="hljs-comment">;</span>
  return num1 + num2<span class="hljs-comment">; // è¿”å› 6</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>ä½ å¯èƒ½ä¼šé—®ï¼š<strong>ä¸ºä»€ä¹ˆè¦æ”¯æŒå‡½æ•°å½¢å¼ï¼Ÿç›´æ¥å†™ 6 ä¸å°±è¡Œäº†å—ï¼Ÿ</strong></p>
<p>è¿™èƒŒåå…¶å®ä½“ç°äº† React å¯¹æ€§èƒ½å’Œç¡®å®šæ€§çš„è€ƒé‡ã€‚</p>
<h3 data-id="heading-1">æ€è€ƒï¼šå¦‚æœåˆå§‹åŒ–éœ€è¦æ˜‚è´µè®¡ç®—æ€ä¹ˆåŠï¼Ÿ</h3>
<p>å‡è®¾ä½ çš„åˆå§‹çŠ¶æ€ä¾èµ–äº localStorageã€URL å‚æ•°ï¼Œæˆ–è€…å¤æ‚çš„é…ç½®åˆå¹¶ï¼Œé‚£ä¹ˆæ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½é‡æ–°è®¡ç®—ä¸€æ¬¡æ˜¾ç„¶æ˜¯æµªè´¹çš„ã€‚React è§„å®šï¼š<strong>å½“ useState æ¥æ”¶ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°ä»…åœ¨ç»„ä»¶é¦–æ¬¡æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡</strong>ã€‚è¿™æ—¢ä¿è¯äº†åŠ¨æ€åˆå§‹åŒ–çš„èƒ½åŠ›ï¼Œåˆé¿å…äº†é‡å¤å¼€é”€ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œè¿™ç§è®¾è®¡ç»Ÿä¸€äº†â€œé™æ€å€¼â€å’Œâ€œåŠ¨æ€å€¼â€çš„ä½¿ç”¨æ¥å£â€”â€”æ— è®ºä½ æ˜¯ä¼ æ•°å­—è¿˜æ˜¯å‡½æ•°ï¼Œè°ƒç”¨æ–¹å¼å®Œå…¨ä¸€è‡´ã€‚</p>
<hr/>
<h3 data-id="heading-2">setState ä¹Ÿå¯ä»¥ä¼ å‡½æ•°ï¼šä¸ºä»€ä¹ˆè¿™æ˜¯æœ€ä½³å®è·µï¼Ÿ</h3>
<p>å†çœ‹è¿™ä¸ªå¸¸è§æ“ä½œï¼š</p>
<pre><code class="hljs language-ini" lang="ini">setNum(<span class="hljs-attr">prevNum</span> =&gt; prevNum + <span class="hljs-number">1</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>è€Œä¸æ˜¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">setNum</span>(num + <span class="hljs-number">1</span>);
</code></pre>
<p>å¾ˆå¤šäººçŸ¥é“å‰è€…â€œæ›´å®‰å…¨â€ï¼Œä½†æœªå¿…ç†è§£å…¶æ·±å±‚åŸå› ã€‚</p>
<h3 data-id="heading-3">é—®é¢˜æ¥äº†ï¼šå¦‚æœæˆ‘åœ¨çŸ­æ—¶é—´å†…è¿ç»­è°ƒç”¨ä¸¤æ¬¡ <code>setNum(num + 1)</code>ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h3>
<p>ç­”æ¡ˆæ˜¯ï¼š<strong>ä¸¤æ¬¡éƒ½åŸºäºåŒä¸€ä¸ªæ—§å€¼ <code>num</code> è¿›è¡Œè®¡ç®—ï¼Œå¯¼è‡´æ›´æ–°ä¸¢å¤±</strong>ã€‚</p>
<p>å› ä¸º <code>num</code> æ˜¯é—­åŒ…æ•è·çš„å€¼ï¼Œå®ƒåœ¨æœ¬æ¬¡æ¸²æŸ“å‘¨æœŸå†…æ˜¯å›ºå®šçš„ã€‚å³ä½¿ä½ è°ƒç”¨äº†ä¸¤æ¬¡ <code>setNum</code>ï¼Œå®ƒä»¬çœ‹åˆ°çš„ <code>num</code> éƒ½æ˜¯åŒä¸€ä¸ªå¿«ç…§ã€‚</p>
<p>è€Œå½“ä½ ä½¿ç”¨å‡½æ•°å¼æ›´æ–°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">setNum(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>React ä¼šç¡®ä¿æ¯æ¬¡æ›´æ–°éƒ½åŸºäº<strong>æœ€æ–°çš„çŠ¶æ€å€¼</strong>è¿›è¡Œè®¡ç®—ï¼Œä»è€Œé¿å…ç«æ€æ¡ä»¶ã€‚</p>
<blockquote>
<p>æ‰€ä»¥ï¼Œåªè¦æ–°çŠ¶æ€ä¾èµ–äºæ—§çŠ¶æ€ï¼Œå°±åº”ä¼˜å…ˆä½¿ç”¨å‡½æ•°å¼æ›´æ–°ã€‚è¿™ä¸æ˜¯è¯­æ³•åå¥½ï¼Œè€Œæ˜¯æ•°æ®ä¸€è‡´æ€§çš„ä¿éšœã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">äºŒã€useEffectï¼šå‰¯ä½œç”¨çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨</h2>
<p>å¦‚æœè¯´ <code>useState</code> è§£å†³äº†â€œçŠ¶æ€å¦‚ä½•å˜åŒ–â€çš„é—®é¢˜ï¼Œé‚£ä¹ˆ <code>useEffect</code> å°±å›ç­”äº†ï¼šâ€œå˜åŒ–ä¹‹åï¼Œæˆ‘ä»¬èƒ½åšä»€ä¹ˆï¼Ÿâ€</p>
<p>å›¾ç¤ºä¸­æ˜ç¡®æŒ‡å‡ºï¼š</p>
<blockquote>
<p><strong>useEffect ç”¨äºå¤„ç†å‰¯ä½œç”¨ï¼ˆside effectï¼‰ï¼Œå¦‚è¯·æ±‚æ•°æ®ã€è®¾ç½®å®šæ—¶å™¨ç­‰ã€‚å®ƒçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¾èµ–æ•°ç»„ï¼Œå†³å®šä½•æ—¶é‡æ–°æ‰§è¡Œã€‚è¿”å›å‡½æ•°ç”¨äºæ¸…ç†å‰¯ä½œç”¨ã€‚</strong></p>
</blockquote>
<p>è¿™ä¸‰å¥è¯ï¼Œå‡ ä¹æ¦‚æ‹¬äº† <code>useEffect</code> çš„å…¨éƒ¨ç²¾é«“ã€‚</p>
<h3 data-id="heading-5">ä»€ä¹ˆæ˜¯â€œå‰¯ä½œç”¨â€ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥å†™åœ¨ç»„ä»¶é‡Œï¼Ÿ</h3>
<p>åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œâ€œçº¯å‡½æ•°â€æ„å‘³ç€ï¼šç›¸åŒè¾“å…¥ â†’ ç›¸åŒè¾“å‡ºï¼Œä¸”ä¸äº§ç”Ÿå¤–éƒ¨å½±å“ã€‚è€Œç»„ä»¶æœ¬èº«å°±åº”è¯¥æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼šæ¥æ”¶ propsï¼Œè¿”å› JSXã€‚</p>
<p>ä½†ç°å®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ€»è¦åšä¸€äº›â€œä¸çº¯â€çš„äº‹ï¼š</p>
<ul>
<li>å‘èµ· API è¯·æ±‚</li>
<li>è®¢é˜… WebSocket</li>
<li>å¯åŠ¨å®šæ—¶å™¨</li>
<li>æ“ä½œ DOM</li>
</ul>
<p>è¿™äº›æ“ä½œéƒ½ä¼šæ”¹å˜å¤–éƒ¨ç¯å¢ƒï¼Œå› æ­¤è¢«ç§°ä¸ºâ€œå‰¯ä½œç”¨â€ã€‚</p>
<blockquote>
<p><strong>æ‰€ä»¥ï¼ŒReact å¼ºåˆ¶å°†å‰¯ä½œç”¨éš”ç¦»åˆ° <code>useEffect</code> ä¸­ï¼Œæ˜¯ä¸ºäº†ä¿æŒç»„ä»¶ä¸»ä½“çš„çº¯å‡€æ€§ã€‚</strong></p>
</blockquote>
<p>è¿™å°±åƒ Vue 3 ä¸­ <code>setup()</code> è´Ÿè´£é€»è¾‘ç»„ç»‡ï¼Œè€Œ <code>onMounted</code>ã€<code>watch</code> è´Ÿè´£å‰¯ä½œç”¨ä¸€æ ·ï¼Œæ˜¯ä¸€ç§èŒè´£åˆ†ç¦»çš„è®¾è®¡å“²å­¦ã€‚</p>
<hr/>
<h3 data-id="heading-6">ä¾èµ–æ•°ç»„ï¼šä¸æ˜¯â€œè§¦å‘å¼€å…³â€ï¼Œè€Œæ˜¯â€œå®‰å…¨æŠ¤æ â€</h3>
<p>å¾ˆå¤šäººè¯¯ä»¥ä¸ºä¾èµ–æ•°ç»„çš„ä½œç”¨æ˜¯â€œæ§åˆ¶ effect ä½•æ—¶æ‰§è¡Œâ€ã€‚ä½†å®é™…ä¸Šï¼Œå®ƒçš„çœŸæ­£ä»·å€¼åœ¨äºï¼š<strong>é˜²æ­¢é—­åŒ…é™·é˜±</strong>ã€‚</p>
<p>çœ‹è¿™æ®µå±é™©ä»£ç ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(() =&gt; {
  <span class="hljs-built_in">setTimeout</span>(() =&gt; {
    console<span class="hljs-selector-class">.log</span>(num); <span class="hljs-comment">// å§‹ç»ˆæ‰“å°åˆå§‹å€¼ï¼</span>
  }, <span class="hljs-number">1000</span>);
}, <span class="hljs-selector-attr">[]</span>); <span class="hljs-comment">// é”™è¯¯ï¼šnum æœªåˆ—å…¥ä¾èµ–</span>
</code></pre>
<p>å³ä½¿ä½ ç‚¹å‡»æŒ‰é’®è®© <code>num</code> å˜æˆ 100ï¼Œ<code>setTimeout</code> é‡Œæ‰“å°çš„ä»æ˜¯ 0ã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>å› ä¸º <code>num</code> æ˜¯é—­åŒ…ä¸­çš„æ—§å€¼ï¼Œè€Œç©ºä¾èµ–æ•°ç»„å‘Šè¯‰ Reactï¼šâ€œè¿™ä¸ª effect æ°¸è¿œä¸éœ€è¦é‡æ–°æ‰§è¡Œâ€ã€‚äºæ˜¯ï¼Œå®ƒæ°¸è¿œå¡åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€é‡Œã€‚</p>
<blockquote>
<p><strong>æ­£ç¡®çš„åšæ³•æ˜¯ï¼šå‡¡æ˜¯åœ¨ effect ä¸­ä½¿ç”¨çš„çŠ¶æ€æˆ– propsï¼Œéƒ½å¿…é¡»åŠ å…¥ä¾èµ–æ•°ç»„ã€‚</strong></p>
</blockquote>
<p>React ç”šè‡³æä¾›äº† ESLint æ’ä»¶æ¥è‡ªåŠ¨æ£€æµ‹è¿™ç±»é—®é¢˜ã€‚è¿™ä¸æ˜¯ä¸ºäº†éº»çƒ¦ä½ ï¼Œè€Œæ˜¯å¸®ä½ é¿å¼€éš¾ä»¥è°ƒè¯•çš„ bugã€‚</p>
<hr/>
<h3 data-id="heading-7">return å‡½æ•°ï¼šå†…å­˜æ³„æ¼çš„â€œé˜²ç«å¢™â€</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(() =&gt; {
  const timer = <span class="hljs-built_in">setInterval</span>(() =&gt; {
    console<span class="hljs-selector-class">.log</span>(num);
  }, <span class="hljs-number">1000</span>);

  return () =&gt; {
    <span class="hljs-built_in">clearInterval</span>(timer);
  };
}, <span class="hljs-selector-attr">[num]</span>);
</code></pre>
<p>è¿™é‡Œå¼€å¯äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå¹¶åœ¨ä¾èµ–å˜åŒ–æˆ–ç»„ä»¶å¸è½½æ—¶æ¸…ç†å®ƒã€‚</p>
<h3 data-id="heading-8">è¯•æƒ³ï¼šå¦‚æœä¸å†™ <code>return</code> æ¸…ç†å‡½æ•°ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h3>
<p>ç­”æ¡ˆæ˜¯ï¼š<strong>æ¯æ¬¡ <code>num</code> å˜åŒ–ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ï¼Œè€Œæ—§çš„å®šæ—¶å™¨ä»åœ¨è¿è¡Œ</strong>ã€‚æœ€ç»ˆï¼Œé¡µé¢ä¸Šå¯èƒ½æœ‰æ•°åä¸ªå®šæ—¶å™¨åŒæ—¶æ‰“å°æ—¥å¿—â€”â€”è¿™å°±æ˜¯å…¸å‹çš„å†…å­˜æ³„æ¼ã€‚</p>
<blockquote>
<p>é‚£è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
</blockquote>
<p>ç¬¬ä¸€ååº”å½“ç„¶æ˜¯ï¼šâ€œåŠ ä¸ª <code>clearInterval</code>ï¼â€<br/>
ä½†å…³é”®åœ¨äºï¼š<strong>åœ¨å“ªé‡ŒåŠ ï¼Ÿ</strong></p>
<p>React ç»™å‡ºçš„ç­”æ¡ˆæ˜¯ï¼š<strong>åœ¨ <code>useEffect</code> çš„è¿”å›å‡½æ•°ä¸­æ¸…ç†</strong>ã€‚</p>
<p>è¿™ä¸ªè¿”å›å‡½æ•°ä¼šåœ¨ä¸¤ç§æƒ…å†µä¸‹è¢«è°ƒç”¨ï¼š</p>
<ol>
<li>ä¸‹æ¬¡ effect é‡æ–°æ‰§è¡Œå‰ï¼ˆç”¨äºæ¸…ç†ä¸Šä¸€æ¬¡çš„å‰¯ä½œç”¨ï¼‰</li>
<li>ç»„ä»¶å¸è½½æ—¶ï¼ˆç”¨äºå½»åº•é‡Šæ”¾èµ„æºï¼‰</li>
</ol>
<p>è¿™ç›¸å½“äºæŠŠç±»ç»„ä»¶ä¸­çš„ <code>componentWillUnmount</code> å’Œ <code>componentDidUpdate</code> çš„æ¸…ç†é€»è¾‘ç»Ÿä¸€äº†èµ·æ¥ã€‚</p>
<blockquote>
<p>æ‰€ä»¥ï¼Œ<strong>å‡¡æ˜¯åˆ›å»ºäº†æŒä¹…æ€§èµ„æºçš„æ“ä½œï¼ˆå®šæ—¶å™¨ã€è®¢é˜…ã€ç›‘å¬å™¨ç­‰ï¼‰ï¼Œéƒ½å¿…é¡»æä¾›å¯¹åº”çš„æ¸…ç†é€»è¾‘</strong>ã€‚å¦åˆ™ï¼Œä½ çš„åº”ç”¨è¿Ÿæ—©ä¼šå› å†…å­˜æ³„æ¼è€Œå˜æ…¢ç”šè‡³å´©æºƒã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€ç»¼åˆæ¡ˆä¾‹ï¼šåŠ¨æ€æ¸²æŸ“ä¸å‰¯ä½œç”¨çš„ååŒ</h2>
<pre><code class="hljs language-ini" lang="ini">{num % <span class="hljs-attr">2</span> === <span class="hljs-number">0</span> &amp;&amp; &lt;Demo /&gt;}
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>{
    useEffect
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Demo</span>(<span class="hljs-params"/>){
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>{
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¶æ•°Demo'</span>);
    <span class="hljs-keyword">const</span> timer=<span class="hljs-built_in">setInterval</span>(<span class="hljs-function">()=&gt;</span>{
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'timer'</span>);
    },<span class="hljs-number">1000</span>)
  
    <span class="hljs-keyword">return</span> <span class="hljs-function">()=&gt;</span>{<span class="hljs-comment">//å¸è½½å‰æ‰§è¡Œå›æ”¶å®šæ—¶å™¨</span>
        <span class="hljs-built_in">clearInterval</span>(timer);
    }
    },[])
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            å¶æ•°Demo;
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p>è¿™æ„å‘³ç€ <code>Demo</code> ç»„ä»¶ä¼šéšç€ <code>num</code> çš„å¥‡å¶æ€§åŠ¨æ€æŒ‚è½½/å¸è½½ã€‚è€Œ <code>Demo</code> å†…éƒ¨æœ‰è‡ªå·±çš„ <code>useEffect</code> å®šæ—¶å™¨ã€‚</p>
<p>è¿™æ—¶ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸé“¾å°±å˜å¾—éå¸¸æ¸…æ™°ï¼š</p>
<ul>
<li><code>num</code> æ”¹å˜ â†’ App é‡æ–°æ¸²æŸ“</li>
<li>æ¡ä»¶æ»¡è¶³ â†’ <code>Demo</code> æŒ‚è½½ â†’ å…¶ <code>useEffect</code> æ‰§è¡Œ â†’ å¯åŠ¨å®šæ—¶å™¨</li>
<li>æ¡ä»¶ä¸æ»¡è¶³ â†’ <code>Demo</code> å¸è½½ â†’ å…¶ <code>useEffect</code> çš„è¿”å›å‡½æ•°æ‰§è¡Œ â†’ å®šæ—¶å™¨è¢«æ¸…é™¤</li>
</ul>
<p>è¿™æ˜¯ä¸€ä¸ªå®Œç¾çš„å‰¯ä½œç”¨é—­ç¯ã€‚</p>
<p>ä½†å¦‚æœ <code>Demo</code> å¿˜è®°æ¸…ç†å®šæ—¶å™¨ï¼Œå“ªæ€•å®ƒå·²ç»ä»ç•Œé¢ä¸Šæ¶ˆå¤±ï¼Œåå°ä¾ç„¶åœ¨è¿è¡Œâ€”â€”ç”¨æˆ·çœ‹ä¸è§ï¼Œä½†å†…å­˜å‹åŠ›åœ¨ç´¯ç§¯ã€‚</p>
<blockquote>
<p>è¿™å†æ¬¡å°è¯äº†ï¼š<strong>Hooks çš„å¼ºå¤§ï¼Œä¼´éšç€å¯¹å¼€å‘è€…è´£ä»»å¿ƒçš„è¦æ±‚</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">å››ã€ç»“è¯­ï¼šHooks æ˜¯å·¥å…·ï¼Œæ›´æ˜¯æ€ç»´æ–¹å¼</h2>
<p><code>useState</code> å’Œ <code>useEffect</code> ä¸ä»…ä»…æ˜¯è¯­æ³•ç³–ï¼Œå®ƒä»¬ä»£è¡¨äº†ä¸€ç§å…¨æ–°çš„å‰ç«¯å¼€å‘èŒƒå¼ï¼š</p>
<ul>
<li><strong>çŠ¶æ€é©±åŠ¨è§†å›¾</strong>ï¼šUI æ˜¯çŠ¶æ€çš„å‡½æ•°ï¼Œä¸€åˆ‡å˜åŒ–æºäºçŠ¶æ€æ›´æ–°ã€‚</li>
<li><strong>å‰¯ä½œç”¨æ˜¾å¼åŒ–</strong>ï¼šæ‰€æœ‰éçº¯æ“ä½œå¿…é¡»é€šè¿‡ <code>useEffect</code> å£°æ˜ï¼Œä¸å¯éšè—ã€‚</li>
<li><strong>ä¾èµ–é€æ˜åŒ–</strong>ï¼šä»»ä½•å¤–éƒ¨å¼•ç”¨éƒ½å¿…é¡»æ˜¾å¼å£°æ˜ï¼Œé¿å…éšå¼è€¦åˆã€‚</li>
<li><strong>èµ„æºå¯å›æ”¶</strong>ï¼šæ¯ä¸ªå‰¯ä½œç”¨éƒ½å¿…é¡»æœ‰å¯¹åº”çš„æ¸…ç†è·¯å¾„ï¼Œé˜²æ­¢æ³„æ¼ã€‚</li>
</ul>
<p>æœ€åï¼Œè¯·è®°ä½ï¼š<br/>
<strong>ä¼šç”¨ Hooks åªæ˜¯èµ·ç‚¹ï¼Œç†è§£å…¶èƒŒåçš„è®¾è®¡å“²å­¦ï¼Œæ‰æ˜¯å†™å‡ºå¥å£® React åº”ç”¨çš„å…³é”®ã€‚</strong></p>
<p>ä¸‹æ¬¡å½“ä½ å†™ä¸‹ <code>useEffect</code> æ—¶ï¼Œä¸å¦¨å¤šé—®è‡ªå·±ä¸€å¥ï¼š</p>
<blockquote>
<p>â€œæˆ‘æœ‰æ²¡æœ‰é—æ¼ä¾èµ–ï¼Ÿæœ‰æ²¡æœ‰å¿˜è®°æ¸…ç†ï¼Ÿè¿™ä¸ªå‰¯ä½œç”¨çœŸçš„å¿…è¦å—ï¼Ÿâ€</p>
</blockquote>
<p>æ­£æ˜¯è¿™äº›æ€è€ƒï¼Œè®©ä½ ä»â€œå†™ä»£ç çš„äººâ€ï¼Œæˆé•¿ä¸ºâ€œè®¾è®¡ç³»ç»Ÿçš„äººâ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆäº”ï¼‰å®æˆ˜ï¼šè§£æ”¾å†™APIæ¥å£çš„ç¹çå·¥ä½œ]]></title>    <link>https://juejin.cn/post/7585289701793677338</link>    <guid>https://juejin.cn/post/7585289701793677338</guid>    <pubDate>2025-12-19T05:58:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585289701793677338" data-draft-id="7585005164726386726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆäº”ï¼‰å®æˆ˜ï¼šè§£æ”¾å†™APIæ¥å£çš„ç¹çå·¥ä½œ"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-19T05:58:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TimeFine"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123802615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆäº”ï¼‰å®æˆ˜ï¼šè§£æ”¾å†™APIæ¥å£çš„ç¹çå·¥ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123802615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TimeFine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:58:46.000Z" title="Fri Dec 19 2025 05:58:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…¬å¸å½“å‰é¡¹ç›®ä½¿ç”¨çš„æ˜¯Apifoxä½œä¸ºAPIè°ƒè¯•/æ–‡æ¡£å·¥å…·ï¼Œæ‰€ä»¥ä»¥è¿™ä¸ªä¸ºä¾‹ã€‚å¸‚é¢ä¸Šçš„å·¥å…·åº”è¯¥éƒ½é€æ­¥å¼€æ”¾äº†AIèƒ½åŠ›ï¼Œéœ€è¦å…³æ³¨ä¸€ä¸‹ï¼Œåªè¦èƒ½æä¾›åŸå§‹æ•°æ®å°±è¡Œï¼Œä¸èƒ½çš„è¯é‚£ä¹Ÿæ²¡åŠæ³•å–‚ç»™AIã€‚</p>
<p>ä¸Šä¸€ç¯‡å·²ç»è®©AIå†™UIäº†ï¼Œè¿™ä¸€ç¯‡è®©AIå†™æ¥å£è¯·æ±‚ã€‚é¦–å…ˆæ€è€ƒä¸€ä¸‹å¯èƒ½ç¢°åˆ°çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å¯èƒ½é‡åˆ°çš„é—®é¢˜</h2>
<p>é»˜è®¤ç½‘ç»œè¯·æ±‚ç”¨çš„retrofitï¼Œå…¶å®ƒä¹Ÿæ˜¯ä¸€é€šç™¾é€šã€‚</p>
<h3 data-id="heading-1">1ã€é—®é¢˜ä¸€ï¼šé€‚é…è¯·æ±‚å¤´</h3>
<p>é¡¹ç›®ä¸­ç½‘ç»œè¯·æ±‚çš„æ‹¦æˆªå™¨å·²ç»å®šä¹‰äº†è¯·æ±‚å¤´ï¼Œè¯»å–çš„åŸå§‹æ•°æ®å¦‚ä½•å…³è”ï¼Ÿç­”æ¡ˆå°±æ˜¯åœ¨skillä¸­å‘Šè¯‰AIï¼Œå¹¶è®©å®ƒæ¨¡ä»¿ä½ çš„ä»£ç å†™ã€‚</p>
<h3 data-id="heading-2">2ã€é—®é¢˜äºŒï¼šé€‚é…è¯·æ±‚å‚æ•°ä¸­æœ‰ä¸€äº›å…¬å…±éƒ¨åˆ†</h3>
<p>é¡¹ç›®ä¸­ç½‘ç»œè¯·æ±‚çš„æ‹¦æˆªå™¨å·²ç»å®šä¹‰äº†ä¸€äº›å…¬å…±è¯·æ±‚å‚æ•°ï¼Œè¯»å–çš„åŸå§‹æ•°æ®å¦‚ä½•å…³è”ï¼Ÿä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">{
    <span class="hljs-string">"app"</span>: {
        <span class="hljs-string">"locale"</span>: <span class="hljs-string">"{{locale}}"</span>,
        <span class="hljs-string">"tid"</span>: <span class="hljs-string">"{{terminal_id}}"</span>,
        <span class="hljs-string">"platform"</span>: <span class="hljs-string">"{{platform}}"</span>
    },
    <span class="hljs-string">"data"</span>: {
        <span class="hljs-comment">//æ¯ä¸ªæ¥å£åªæœ‰è¿™é‡Œæœ‰å·®å¼‚</span>
    }
}
</code></pre>
<p>åªæœ‰dataå—ä¸­æœ‰å·®å¼‚ã€‚ç­”æ¡ˆå…¶å®åŒä¸Šï¼Œskillä¸­å‘Šè¯‰AIï¼Œå¹¶è®©å®ƒæ¨¡ä»¿ä½ çš„ä»£ç ã€‚</p>
<h3 data-id="heading-3">3ã€é—®é¢˜ä¸‰ï¼šè¿”å›æ•°æ®è„±å£³</h3>
<p>ä¾‹å¦‚é¡¹ç›®ä¸­çš„å£³æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiResponse</span>&lt;<span class="hljs-type">T</span>&gt;(
    <span class="hljs-keyword">val</span> code: <span class="hljs-built_in">Int</span>,
    <span class="hljs-keyword">val</span> msg: String,
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: T
) : BaseResponse&lt;T&gt;() {...}
</code></pre>
<p>é‚£æˆ‘ä»¬éœ€è¦çš„è§£æçš„Data Classå¯èƒ½åªéœ€è¦è„±å£³çš„éƒ¨åˆ†ï¼Œå¦‚ä½•è®©AIçŸ¥é“ï¼Ÿç­”æ¡ˆä¹ŸåŒä¸Šï¼Œskillä¸­å‘Šè¯‰AIï¼Œå¹¶è®©å®ƒæ¨¡ä»¿ä½ çš„ä»£ç ã€‚</p>
<h3 data-id="heading-4">4ã€é—®é¢˜å››ï¼šviewmodelä¸­ç½‘ç»œè¯·æ±‚å¦‚ä½•å†™</h3>
<p>é“ç†åŒä¸Šã€‚</p>
<h3 data-id="heading-5">5ã€é—®é¢˜äº”ï¼šä»£ç æ”¾åœ¨å“ªä¸ªæ–‡ä»¶</h3>
<p>è¿™ä¸ªé—®é¢˜çš„è§£ç­”è¦çœ‹æƒ…å†µäº†ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹é¢åªç»™ä»£ç çš„ç¤ºä¾‹ï¼Œæœ€åå†æ¢è®¨ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 data-id="heading-6">äºŒã€è·å–æ¥å£åŸå§‹æ•°æ®</h2>
<p>è¿™ä¸€æ­¥ä¾èµ–MCPçš„å¼€æ”¾èƒ½åŠ›ï¼Œåç«¯å…„å¼Ÿæ¥å£æ€ä¹ˆå®šä¹‰çš„ï¼Œå­—æ®µæ€ä¹ˆå†™çš„ï¼ŒAndroidå¦‚ä½•å°è£…Data Classéƒ½ä¾èµ–è¿™äº›åŸå§‹æ•°æ®ã€‚æ¥ä¸‹æ¥çœ‹é€šè¿‡Apifoxå¦‚ä½•åŠåˆ°çš„ã€‚</p>
<p>Apifoxçš„MCPç°é˜¶æ®µè¿˜ä¸èƒ½é›†æˆåˆ°Codexä¸­ä½¿ç”¨ï¼Œå¯åŠ¨çš„æ—¶å€™ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">âš  MCP client <span class="hljs-keyword">for</span> `apifox_api_docs` failed to start: MCP startup failed: handshaking with MCP server failed: connection closed: initialize response
âš  MCP startup incomplete (failed: apifox_api_docs)
</code></pre>
<p>åŸå› æ˜¯Apifoxçš„MCPè¿”å›ä¸ç¬¦åˆCodexå®šä¹‰çš„è§„èŒƒã€‚</p>
<p>é‚£æ¢å…¶ä»–æ–¹å¼ï¼Œæ‰“å¼€Apifoxç»ˆç«¯ï¼ˆå½“å‰Vç‰ˆæœ¬2.7.58 (2.7.58)ï¼‰ï¼Œé€‰æ‹©éœ€è¦ç”Ÿæˆä»£ç çš„æ¥å£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2912582992aa4b93981239341d8f3546~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728725&amp;x-signature=Yh5A2wxlyW7sNCV2%2FKFo0%2BdjFP0%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚ä¸Šæ“ä½œï¼Œå¯ä»¥å¾—åˆ°å¤åˆ¶çš„ä¸€æ®µä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">è¯·è®¿é—®ä»¥ä¸‹é“¾æ¥è·å–æ¥å£â€œå¤©æ°”ä¿¡æ¯V3â€çš„æ¥å£å®šä¹‰ä¿¡æ¯ï¼šhttps:<span class="hljs-comment">//api.apifox.cn/temp-links/api/%E5%A4%A9%E6%B0%6%81%AFv3-253061517?t=e0be3ab5-e8bf-4ec2-be81-f1489</span>
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±æ‹¿åˆ°äº†æ¥å£çš„åŸå§‹æ•°æ®é“¾æ¥ã€‚</p>
<h2 data-id="heading-7">ä¸‰ã€å¦‚ä½•ç¼–è¾‘skills</h2>
<p>è¿™ä¸€æ­¥è·Ÿé¡¹ç›®å¼ºå…³è”ï¼Œå› ä¸ºæ¯ä¸ªé¡¹ç›®å†™æ³•éƒ½ä¸ä¸€æ ·ï¼Œæ–‡ä»¶ä¸ä¸€æ ·ï¼Œæ‰€ä»¥skillçš„å†™æ³•å› é¡¹ç›®è€Œå¼‚ï¼Œä¸‹é¢è´´ä¸€ä»½å‰”é™¤æ•æ„Ÿä¿¡æ¯åçš„skillï¼ŒæŠ›ç –å¼•ç‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
name: api_to_request
description: è¯·è®¿é—®é“¾æ¥è·å–æ¥å£å®šä¹‰ä¿¡æ¯ã€‚
---
## è¯·è®¿é—®é“¾æ¥è·å–æ¥å£å®šä¹‰ä¿¡æ¯ï¼Œç»™å‡ºå¦‚ä¸‹è¦æ±‚çš„ä»£ç ï¼š

### <span class="hljs-number">1</span>ã€ä»£ç ä¸€ï¼šç”Ÿæˆretrofitæ¥å£å®šä¹‰
`java/api` æ–‡ä»¶å¤¹å†…æ˜¯å®šä¹‰çš„retrofit api è¯·æ±‚çš„æ¥å£ï¼Œä¾‹å¦‚å…¶ä¸­çš„ä¸€ä¾‹ï¼š

<span class="hljs-comment">/**
 * è·å–Camera Eventäº‹ä»¶
 */</span>
<span class="hljs-meta">@POST(<span class="hljs-string">"/v1/iot/camera/discoverXXX"</span>)</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">discoverXxx</span><span class="hljs-params">(<span class="hljs-meta">@Body</span> request: <span class="hljs-type">Request</span>)</span></span>: ApiResponse&lt;Response?&gt;

è¯·æŒ‰ç…§é“¾æ¥ä¸­çš„è¯·æ±‚ç±»å‹ç»™å‡ºç±»ä¼¼ä¸Šé¢çš„æ¥å£å®šä¹‰ã€‚

### <span class="hljs-number">2</span>ã€ä»£ç äºŒï¼šç»™å‡ºè¯·æ±‚çš„<span class="hljs-meta">@Body</span>
ä¸€èˆ¬çš„è¯·æ±‚æ•°æ®ç¤ºä¾‹æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š

{
    <span class="hljs-string">"data"</span>: {
        <span class="hljs-string">"dev_id"</span>: <span class="hljs-string">"xxx"</span>
    },
    <span class="hljs-string">"app"</span>: {
        <span class="hljs-string">"locale"</span>: <span class="hljs-string">"en_AU"</span>,
        <span class="hljs-string">"tid"</span>: <span class="hljs-string">"8AE4EC1E36904B869D03FC9BABE4C087"</span>,
        <span class="hljs-string">"alias"</span>: <span class="hljs-string">"Kevin çš„ A52"</span>,
        <span class="hljs-string">"platform"</span>: <span class="hljs-string">"foxx"</span>
    }
}

ä¸ºäº†é¿å…æ¯æ¬¡éƒ½ç»™å‡ºé‡å¤çš„å‚æ•°ï¼Œæˆ‘åœ¨retrofitæ·»åŠ äº†ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œè¯·å‚è€ƒ`AddPublicParamsInterceptor.kt`æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯æ·»åŠ å…¬å…±è¯·æ±‚å‚æ•°çš„åœ°æ–¹ã€‚æ‰€ä»¥<span class="hljs-meta">@Body</span>ä¸­åªéœ€è¦ç»™å‡º<span class="hljs-keyword">data</span>èŠ‚ç‚¹çš„å†…å®¹å³å¯ï¼Œå¦‚æœ<span class="hljs-keyword">data</span>èŠ‚ç‚¹å†…çš„å†…å®¹ä¸ºç©ºï¼Œé‚£å°±ä¸éœ€è¦ç»™å‡ºä»»ä½•å‚æ•°ï¼Œå› ä¸º`AddPublicParamsInterceptor.kt`ä¸­ä¼šé»˜è®¤æ·»åŠ `{}`.

### <span class="hljs-number">3</span>ã€ä»£ç ä¸‰ï¼šç»™å‡ºè¿”å›çš„response
è¿”å›çš„æ•°æ®ä½¿ç”¨`ApiResponse.kt`å‰¥å£³ï¼Œæ‰€ä»¥ç»™å‡ºçš„responseæ•°æ®åº”è¯¥æ˜¯å‰¥å£³åçš„æ•°æ®ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ª<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span>ç±»ã€‚è¯·å‚è€ƒ`java/<span class="hljs-keyword">data</span>`æ–‡ä»¶å¤¹å†…å…¶ä»–responseçš„å†™æ³•ç»™å‡ºã€‚

### <span class="hljs-number">4</span>ã€ä»£ç å››ï¼šviewmodelä¸­å®é™…è¯·æ±‚çš„ä»£ç 
viewmodelä¸­å®é™…è¯·æ±‚çš„ä»£ç è¯·å‚è€ƒä¸‹é¢çš„ä»£ç ç»™å‡ºï¼š

    <span class="hljs-comment">/**
     * è·å–è®¾å¤‡åŒæ­¥æˆæƒç 
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">syncAppDevice</span><span class="hljs-params">(
        buffer: <span class="hljs-type">MeshBanBindBuffer</span>,
        success: (<span class="hljs-type">Any</span>?) -&gt; <span class="hljs-type">Unit</span>,
        fail: (<span class="hljs-type">ApiHttpExceptionResponse</span>&lt;<span class="hljs-type">Any</span>?&gt;) -&gt; <span class="hljs-type">Unit</span>,
        error: (<span class="hljs-type">AppException</span>) -&gt; <span class="hljs-type">Unit</span>
    )</span></span> {
        <span class="hljs-keyword">val</span> request = SyncAppDeviceRequest(...)
        requestWithHttpException({ apiService.syncAppDevice(request) }, success = {
            success(it)
        }, fail = {
            fail(it)
        }, error = {
            error(it)
        })
    }
</code></pre>
<p>æ ¹æ®é¡¹ç›®æƒ…å†µå¯ä»¥å†™çš„æ›´ä¸°å¯Œï¼Œæ›´è¯¦ç»†ã€‚</p>
<p>Apifoxå¤åˆ¶é“¾æ¥çš„å†…å®¹å› ä¸ºåŒ¹é…skillçš„<code>description</code>ï¼Œæ‰€ä»¥ç»™å‡ºé“¾æ¥å°±å¯ä»¥è§¦å‘ä¸Šé¢çš„skillã€‚Codexç”Ÿæˆçš„ä»£ç å¦‚ä¸‹(å‰”é™¤äº†æ•æ„Ÿä¿¡æ¯)ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">â€¢ ä½¿ç”¨ api_to_request æŠ€èƒ½ï¼Œå› ä¸ºéœ€è¦ä»æ¥å£æ–‡æ¡£ç”Ÿæˆ Retrofit è¯·æ±‚ã€è¯·æ±‚ä½“ã€å“åº”ä½“ä¸ ViewModel è°ƒç”¨ä»£ç ã€‚(api.apifox.cn (https:<span class="hljs-comment">//api.apifox.cn/temp-links/api/</span>
  %E5%A4%A9%E6%F%A1%E6%<span class="hljs-number">81</span>%AFv3-<span class="hljs-number">253061517</span>?t=e0be3ab5-e8bf-4ec2-be81-f148d9))

  ä»£ç ä¸€ï¼šRetrofit æ¥å£å®šä¹‰(api.apifox.cn (https:<span class="hljs-comment">//api.apifox.cn/temp-links/api/%E5%A4%A9%E6%A1%E6%81%AFv3-253061517?t=e0be3ab5-e8bf-4ec2-be81-</span>
  f14569))

  <span class="hljs-comment">/**
   * å¤©æ°”ä¿¡æ¯V3
   */</span>
  <span class="hljs-meta">@POST(<span class="hljs-string">"/v1/iot/weather/getCurrentInfo"</span>)</span>
  <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getCurrentInfoV3</span><span class="hljs-params">(<span class="hljs-meta">@Body</span> request: <span class="hljs-type">WeatherInfoV3Request</span>)</span></span>: ApiResponse&lt;WeatherInfoV3Response?&gt;

  ä»£ç äºŒï¼š<span class="hljs-meta">@Body</span>ï¼ˆä»… <span class="hljs-keyword">data</span> èŠ‚ç‚¹ï¼‰(api.apifox.cn (https:<span class="hljs-comment">//api.apifox.cn/temp-links/api/%E5%A4%A9%E6%%E6%81%AFv3-253061517?t=e0be3ab5-e8bf-4ec2-be81-</span>
  f8569))

  <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherInfoV3Request</span>(
      <span class="hljs-keyword">var</span> lon: <span class="hljs-built_in">Double</span>,
      <span class="hljs-keyword">var</span> lat: <span class="hljs-built_in">Double</span>,
      <span class="hljs-keyword">var</span> unit: String = <span class="hljs-string">"IMPERIAL"</span> <span class="hljs-comment">// METRIC / IMPERIAL</span>
  )

  ä»£ç ä¸‰ï¼šResponseï¼ˆå‰¥å£³åçš„ <span class="hljs-keyword">data</span>ï¼‰(api.apifox.cn (https:<span class="hljs-comment">//api.apifox.cn/temp-links/api/%E5%A4%A9%E6%F%A1%E6%81%AFv3-253061517?t=e0be3ab5-e8bf-4ec2-</span>
  be81-f18569))

  <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherInfoV3Response</span>(
      <span class="hljs-keyword">var</span> day: <span class="hljs-built_in">Boolean</span>?,
      <span class="hljs-keyword">var</span> weather: WeatherV3?,
      <span class="hljs-keyword">var</span> temperature: <span class="hljs-built_in">Double</span>?,
      <span class="hljs-keyword">var</span> wind: <span class="hljs-built_in">Double</span>?,
      <span class="hljs-keyword">var</span> pressure: <span class="hljs-built_in">Double</span>?,
      <span class="hljs-keyword">var</span> humidity: <span class="hljs-built_in">Double</span>?,
      <span class="hljs-keyword">var</span> aqi: String?
  )

  <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherV3</span>(
      <span class="hljs-keyword">var</span> condition: String?,
      <span class="hljs-keyword">var</span> icon: String?
  )

  ä»£ç å››ï¼šViewModel ä¸­å®é™…è¯·æ±‚ä»£ç (api.apifox.cn (https:<span class="hljs-comment">//api.apifox.cn/temp-links/api/%E5%A4%A9%%A1%E6%81%AFv3-253061517?t=e0be3ab5-e8bf-4ec2-</span>
  be81-f1469))

  <span class="hljs-comment">/**
   * è·å–å¤©æ°”ä¿¡æ¯V3
   */</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getCurrentInfoV3</span><span class="hljs-params">(
      lon: <span class="hljs-type">Double</span>,
      lat: <span class="hljs-type">Double</span>,
      unit: <span class="hljs-type">String</span> = <span class="hljs-string">"IMPERIAL"</span>,
      success: (<span class="hljs-type">WeatherInfoV3Response</span>?) -&gt; <span class="hljs-type">Unit</span>,
      fail: (<span class="hljs-type">ApiHttpExceptionResponse</span>&lt;<span class="hljs-type">Any</span>?&gt;) -&gt; <span class="hljs-type">Unit</span>,
      error: (<span class="hljs-type">AppException</span>) -&gt; <span class="hljs-type">Unit</span>
  )</span></span> {
      <span class="hljs-keyword">val</span> request = WeatherInfoV3Request(
          lon = lon,
          lat = lat,
          unit = unit
      )
      requestWithHttpException({ homeManagementApiService.getCurrentInfoV3(request) }, success = {
          success(it)
      }, fail = {
          fail(it)
      }, error = {
          error(it)
      })
  }

</code></pre>
<p>ç”Ÿæˆçš„ä»£ç å¯ç”¨åº¦æé«˜ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šè§£æ”¾äº†ç”Ÿäº§åŠ›ã€‚</p>
<h2 data-id="heading-8">å››ã€AIçš„æ”¾æƒ</h2>
<p>AIç”Ÿæˆçš„ä»£ç å¯ç”¨åº¦è¿™ä¹ˆé«˜ï¼Œé‚£æ˜¯ä¸æ˜¯åº”è¯¥æ”¾æƒç›´æ¥è®©AIå†™æ–‡ä»¶å‘¢ï¼Ÿ</p>
<p>1ã€å¦‚æœæ˜¯ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå®šä¹‰å¥½é¡¹ç›®æ¶æ„åå°±å¤§èƒ†çš„è®©AIç”Ÿæˆæ–‡ä»¶è‡ªå·±å†™ä»£ç å§ï¼Œèƒ½â€æ‘¸é±¼"å°±åˆ«åŠ¨æ‰‹ï¼Œäººç”Ÿè‹¦çŸ­æˆ‘ç”¨AIã€‚</p>
<p>2ã€å¦‚æœæ˜¯ä¸€ä¸ªæˆç†Ÿåº¦é«˜çš„é¡¹ç›®ï¼Œå»ºè®®ä»¥å°é¢—ç²’åº¦çš„å½¢å¼è®©AIç”Ÿæˆæˆ–ä¿®æ”¹æ–‡ä»¶ä»£ç ï¼Œè¿™æ ·å½±å“çš„èŒƒå›´å¯æ§ï¼Œgitæäº¤çš„æ—¶å€™è¯·ä»”ç»†å®¡æŸ¥AIç”Ÿæˆçš„ä»£ç ã€‚</p>
<p>3ã€å¦‚æœæ˜¯ä¸€ä¸ªæˆç†Ÿåº¦é«˜çš„é¡¹ç›®ï¼Œä¿®æ”¹çš„éœ€æ±‚å¤æ‚ï¼Œç‰µæ‰¯é¢å¹¿ï¼Œæˆ–è€…å…¬å¸è§„å®šä¸è®©AIå†™ä»£ç åªè®©è¾…åŠ©å‚è€ƒï¼Œé‚£è¿˜æ˜¯å¼€åªè¯»æ¨¡å¼è‡ªå·±å†™å§ã€‚</p>
<p>å›åˆ°æœ€ä¸Šé¢çš„é—®é¢˜äº”ï¼šä»£ç æ”¾å“ªä¸ªæ–‡ä»¶ï¼Ÿ</p>
<p>ç­”æ¡ˆå°±ç®€å•äº†ã€‚</p>
<ul>
<li>é¡¹ç›®æ¶æ„æ¸…æ™°ï¼Œè®©AIå¹²æ´»ï¼Œå¯ä»¥å®Œå…¨è®©AIè‡ªä¸»å†³ç­–ï¼Œåç»­è‡ªå·±è°ƒæ•´ã€‚</li>
<li>å¯ä»¥åœ¨skillä¸­æ·»åŠ æç¤ºåŠ ä»¥å¼•å¯¼ï¼Œè®©AIæ”¾å“ªä¸ªæ–‡ä»¶/ç›®å½•ã€‚</li>
<li>åªè¯»æ¨¡å¼ï¼Œè‡ªå·±å¤„ç†AIç”Ÿæˆçš„ä»£ç ï¼Œå‰æœŸå¯ä»¥å¼€åªè¯»ç†Ÿæ‚‰AIçš„ä½¿ç”¨ï¼Œç­‰ç†Ÿç»ƒåå°±å¯ä»¥è®©AIè‡ªå·±å†™æ–‡ä»¶äº†ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ™ºæ³ŠAI-AGIå¤§æ¨¡å‹å…¨æ ˆè¯¾12æœŸã€VIPã€‘]]></title>    <link>https://juejin.cn/post/7585289701793611802</link>    <guid>https://juejin.cn/post/7585289701793611802</guid>    <pubDate>2025-12-19T05:52:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585289701793611802" data-draft-id="7585406229150482470" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ™ºæ³ŠAI-AGIå¤§æ¨¡å‹å…¨æ ˆè¯¾12æœŸã€VIPã€‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T05:52:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èµ„æºç«™shanxueitæˆ–com"/> <meta itemprop="url" content="https://juejin.cn/user/3669500364327483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ™ºæ³ŠAI-AGIå¤§æ¨¡å‹å…¨æ ˆè¯¾12æœŸã€VIPã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3669500364327483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èµ„æºç«™shanxueitæˆ–com
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T05:52:49.000Z" title="Fri Dec 19 2025 05:52:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da332587d07a4b62bfa2b711f3c644c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LWE5rqQ56uZc2hhbnh1ZWl05oiWY29t:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766728369&amp;x-signature=c6z6VYZzzN6LKUsYxKID5KcXwps%3D" alt="1.webp" loading="lazy"/>
ä½ æ˜¯å¦å·²ç»æŒæ¡äº† Transformer çš„åŸç†ï¼Œèƒ½èƒŒè¯µ Attention æœºåˆ¶çš„å…¬å¼ï¼Œå´åœ¨é¢å¯¹ä¸€ä¸ªçœŸå®çš„ä¼ä¸šéœ€æ±‚æ—¶æ„Ÿåˆ°æ— ä»ä¸‹æ‰‹ï¼Ÿä½ æ˜¯å¦åˆ·äº†ä¸Šç™¾é“ç®—æ³•é¢˜ï¼Œå´ä¾ç„¶ä¸çŸ¥é“å¦‚ä½•å°†ä¸€ä¸ªæ¨¡å‹å°è£…æˆç¨³å®šã€é«˜æ•ˆã€å¯æ‰©å±•çš„å·¥ä¸šçº§æœåŠ¡ï¼Ÿ</p>
<p>è¿™ï¼Œå°±æ˜¯ç†è®ºä¸å®è·µä¹‹é—´çš„é¸¿æ²Ÿï¼Œæ˜¯è®¸å¤š AI å­¦ä¹ è€…æ— æ³•è·¨è¶Šçš„â€œæœ€åä¸€å…¬é‡Œâ€ã€‚è€Œâ€œæ™ºæ³Š AGI å…¨æ ˆ 12 æœŸ VIPâ€è¯¾ç¨‹ï¼Œå…¶æ ¸å¿ƒä»·å€¼æ­£åœ¨äºâ€”â€”<strong>å®ƒä¸æ•™ä½ ç†è®ºï¼Œå®ƒå¸¦ä½ ç”¨ä»£ç ï¼Œäº²æ‰‹å¡«å¹³è¿™æ¡é¸¿æ²Ÿã€‚</strong></p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±é€šè¿‡æ¨¡æ‹Ÿä¸€ä¸ªâ€œä¼ä¸šçº§æ™ºèƒ½å·¥å•åˆ†ç±»ç³»ç»Ÿâ€é¡¹ç›®ï¼Œæ¥æ­ç§˜è¿™é—¨è¯¾ç¨‹çš„å«é‡‘é‡ã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸€ä»½æ–‡æ¡£ï¼Œè¿™æ˜¯ä¸€å¥—å¯ä»¥ç›´æ¥è½åœ°ã€å¯ä»¥ç›´æ¥å†™å…¥ç®€å†çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-0"><strong>ç¬¬ä¸€å¹•ï¼šä¼ä¸šçº§é¡¹ç›®çš„â€œå…¨æ ˆâ€è§†é‡</strong></h4>
<p>åœ¨ä¼ä¸šä¸­ï¼Œä¸€ä¸ª AI é¡¹ç›®çš„è¯ç”Ÿï¼Œè¿œä¸æ­¢Â <code>model.fit()</code>Â è¿™ä¹ˆç®€å•ã€‚å®ƒæ˜¯ä¸€æ¡å®Œæ•´çš„â€œæ•°æ®-æ¨¡å‹-åº”ç”¨-éƒ¨ç½²â€é“¾è·¯ã€‚æ™ºæ³Šçš„è¯¾ç¨‹ï¼Œæ­£æ˜¯å¸¦ä½ å®Œæ•´åœ°èµ°å®Œè¿™æ¡è·¯ã€‚</p>
<p><strong>æˆ‘ä»¬çš„ç›®æ ‡ï¼š</strong> Â æ„å»ºä¸€ä¸ªèƒ½è‡ªåŠ¨è¯†åˆ«ç”¨æˆ·åé¦ˆå·¥å•ç±»å‹ï¼ˆå¦‚â€œè´¦åŠ¡å’¨è¯¢â€ã€â€œæŠ€æœ¯æ•…éšœâ€ã€â€œåŠŸèƒ½å»ºè®®â€ï¼‰çš„ç³»ç»Ÿã€‚</p>
<h4 data-id="heading-1"><strong>ç¬¬äºŒå¹•ï¼šä»£ç æ­ç§˜ â€”â€” ä»åŸå§‹æ•°æ®åˆ°æ™ºèƒ½æœåŠ¡</strong></h4>
<p>ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼Œå°†æ¨¡æ‹Ÿä½ åœ¨è¯¾ç¨‹ä¸­ä¼šæ¥è§¦åˆ°çš„â€œä¼ä¸šçº§é¡¹ç›®æ–‡æ¡£â€çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</p>
<h5 data-id="heading-2"><strong>1. æ•°æ®å±‚ï¼šå·¥ä¸šçº§æ•°æ®å¤„ç†</strong></h5>
<p>çœŸå®çš„ä¼ä¸šæ•°æ®æ˜¯â€œè„â€çš„ã€ä¸è§„åˆ™çš„ã€‚ç¬¬ä¸€æ­¥ä¸æ˜¯å»ºæ¨¡ï¼Œè€Œæ˜¯æ•°æ®æ²»ç†ã€‚</p>
<p>python</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># data_processor.py</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> re
<span class="hljs-keyword">import</span> logging

<span class="hljs-comment"># é…ç½®æ—¥å¿—ï¼Œè¿™æ˜¯ä¼ä¸šçº§å¼€å‘çš„åŸºæœ¬ç´ å…»</span>
logging.basicConfig(level=logging.INFO, <span class="hljs-built_in">format</span>=<span class="hljs-string">'%(asctime)s - %(levelname)s - %(message)s'</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TicketDataProcessor</span>:
    <span class="hljs-string">"""ä¼ä¸šçº§å·¥å•æ•°æ®å¤„ç†å™¨"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, raw_data_path: <span class="hljs-built_in">str</span></span>):
        self.raw_data_path = raw_data_path
        self.df = <span class="hljs-literal">None</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_data</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åŠ è½½åŸå§‹æ•°æ®ï¼Œé€šå¸¸æ˜¯CSVæˆ–æ•°æ®åº“å¯¼å‡º"""</span>
        <span class="hljs-keyword">try</span>:
            self.df = pd.read_csv(self.raw_data_path)
            logging.info(<span class="hljs-string">f"æˆåŠŸåŠ è½½æ•°æ®ï¼Œå…± <span class="hljs-subst">{<span class="hljs-built_in">len</span>(self.df)}</span> æ¡è®°å½•ã€‚"</span>)
        <span class="hljs-keyword">except</span> FileNotFoundError:
            logging.error(<span class="hljs-string">f"æ•°æ®æ–‡ä»¶æœªæ‰¾åˆ°: <span class="hljs-subst">{self.raw_data_path}</span>"</span>)
            <span class="hljs-keyword">raise</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">clean_text</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""æ¸…æ´—å•æ¡æ–‡æœ¬æ•°æ®ï¼Œå»é™¤å™ªå£°"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(text, <span class="hljs-built_in">str</span>):
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
        <span class="hljs-comment"># å»é™¤HTMLæ ‡ç­¾ã€ç‰¹æ®Šå­—ç¬¦ã€å¤šä½™ç©ºæ ¼</span>
        text = re.sub(<span class="hljs-string">r'&lt;[^&gt;]+&gt;'</span>, <span class="hljs-string">''</span>, text)
        text = re.sub(<span class="hljs-string">r'[^\w\s]'</span>, <span class="hljs-string">''</span>, text)
        text = re.sub(<span class="hljs-string">r'\s+'</span>, <span class="hljs-string">' '</span>, text).strip()
        <span class="hljs-keyword">return</span> text.lower()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">self</span>) -&gt; pd.DataFrame:
        <span class="hljs-string">"""æ‰§è¡Œå®Œæ•´çš„æ•°æ®æ¸…æ´—æµç¨‹"""</span>
        <span class="hljs-keyword">if</span> self.df <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            self.load_data()
        
        logging.info(<span class="hljs-string">"å¼€å§‹æ•°æ®æ¸…æ´—..."</span>)
        <span class="hljs-comment"># å‡è®¾æ•°æ®åˆ—åä¸º 'content' å’Œ 'category'</span>
        self.df[<span class="hljs-string">'cleaned_content'</span>] = self.df[<span class="hljs-string">'content'</span>].apply(self.clean_text)
        self.df.dropna(subset=[<span class="hljs-string">'cleaned_content'</span>, <span class="hljs-string">'category'</span>], inplace=<span class="hljs-literal">True</span>)
        self.df = self.df[self.df[<span class="hljs-string">'cleaned_content'</span>].<span class="hljs-built_in">str</span>.<span class="hljs-built_in">len</span>() &gt; <span class="hljs-number">10</span>] <span class="hljs-comment"># è¿‡æ»¤æ‰å¤ªçŸ­çš„æ— æ•ˆæ–‡æœ¬</span>
        
        logging.info(<span class="hljs-string">f"æ•°æ®æ¸…æ´—å®Œæˆï¼Œæœ‰æ•ˆæ•°æ® <span class="hljs-subst">{<span class="hljs-built_in">len</span>(self.df)}</span> æ¡ã€‚"</span>)
        <span class="hljs-keyword">return</span> self.df[[<span class="hljs-string">'cleaned_content'</span>, <span class="hljs-string">'category'</span>]]

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹ (è¿™åœ¨ä½ çš„é¡¹ç›®ä¸­ä¼šæ˜¯ç‹¬ç«‹çš„è„šæœ¬)</span>
<span class="hljs-comment"># processor = TicketDataProcessor("raw_tickets.csv")</span>
<span class="hljs-comment"># clean_df = processor.process()</span>
<span class="hljs-comment"># clean_df.to_csv("processed_tickets.csv", index=False)</span>
</code></pre>
<p><strong>è§£è¯»ï¼š</strong> Â è¿™æ®µä»£ç å±•ç¤ºäº†ä¼ä¸šçº§å¼€å‘çš„ä¸¥è°¨æ€§ï¼šæ—¥å¿—è®°å½•ã€å¼‚å¸¸å¤„ç†ã€æ¨¡å—åŒ–è®¾è®¡ï¼Œä»¥åŠé’ˆå¯¹çœŸå®ä¸–ç•Œå™ªå£°çš„æ•°æ®æ¸…æ´—ç­–ç•¥ã€‚è¿™è¿œæ¯”ç›´æ¥ä½¿ç”¨Â <code>sklearn</code>Â çš„Â <code>load_iris</code>Â æ•°æ®é›†è¦å¤æ‚å’ŒçœŸå®ã€‚</p>
<h5 data-id="heading-3"><strong>2. æ¨¡å‹å±‚ï¼šåŸºäº Transformers çš„å¾®è°ƒ</strong></h5>
<p>è¯¾ç¨‹ä¸ä¼šåªæ•™ä½ è°ƒç”¨Â <code>pipeline</code>ï¼Œè€Œæ˜¯å¸¦ä½ æ·±å…¥å¾®è°ƒä¸€ä¸ªé¢„è®­ç»ƒæ¨¡å‹ï¼Œè®©å®ƒçœŸæ­£ç†è§£ä½ çš„ä¸šåŠ¡æ•°æ®ã€‚</p>
<p>python</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># model_trainer.py</span>
import torch
from transformers import AutoTokenizer, AutoModelForSequenceClassification, Trainer, TrainingArguments
from datasets import load_dataset

def fine_tune_bert(model_name: str, train_file: str, eval_file: str):
    """å¾®è°ƒBERTæ¨¡å‹ç”¨äºå·¥å•åˆ†ç±»"""
    
    <span class="hljs-comment"># 1. åŠ è½½Tokenizerå’Œæ¨¡å‹</span>
    <span class="hljs-attr">tokenizer</span> = AutoTokenizer.from_pretrained(model_name)
    <span class="hljs-attr">model</span> = AutoModelForSequenceClassification.from_pretrained(model_name, num_labels=<span class="hljs-number">3</span>) <span class="hljs-comment"># å‡è®¾3ä¸ªç±»åˆ«</span>

    <span class="hljs-comment"># 2. æ•°æ®é¢„å¤„ç†</span>
    def tokenize_function(examples):
        return tokenizer(examples<span class="hljs-section">["text"]</span>, <span class="hljs-attr">padding</span>=<span class="hljs-string">"max_length"</span>, truncation=<span class="hljs-literal">True</span>)

    <span class="hljs-comment"># ä½¿ç”¨datasetsåº“åŠ è½½å’Œå¤„ç†æ•°æ®ï¼Œæ›´é«˜æ•ˆ</span>
    <span class="hljs-attr">train_dataset</span> = load_dataset(<span class="hljs-string">'csv'</span>, data_files=train_file, split=<span class="hljs-string">"train"</span>)
    <span class="hljs-attr">eval_dataset</span> = load_dataset(<span class="hljs-string">'csv'</span>, data_files=eval_file, split=<span class="hljs-string">"train"</span>)
    
    <span class="hljs-attr">train_dataset</span> = train_dataset.map(tokenize_function, batched=<span class="hljs-literal">True</span>)
    <span class="hljs-attr">eval_dataset</span> = eval_dataset.map(tokenize_function, batched=<span class="hljs-literal">True</span>)

    <span class="hljs-comment"># 3. å®šä¹‰è®­ç»ƒå‚æ•°</span>
    <span class="hljs-attr">training_args</span> = TrainingArguments(
        <span class="hljs-attr">output_dir</span>=<span class="hljs-string">"./results"</span>,
        <span class="hljs-attr">num_train_epochs</span>=<span class="hljs-number">3</span>,
        <span class="hljs-attr">per_device_train_batch_size</span>=<span class="hljs-number">8</span>,
        <span class="hljs-attr">per_device_eval_batch_size</span>=<span class="hljs-number">8</span>,
        <span class="hljs-attr">warmup_steps</span>=<span class="hljs-number">500</span>,
        <span class="hljs-attr">weight_decay</span>=<span class="hljs-number">0.01</span>,
        <span class="hljs-attr">logging_dir</span>=<span class="hljs-string">'./logs'</span>,
        <span class="hljs-attr">logging_steps</span>=<span class="hljs-number">10</span>,
        <span class="hljs-attr">evaluation_strategy</span>=<span class="hljs-string">"epoch"</span>,
    )

    <span class="hljs-comment"># 4. åˆ›å»ºTrainerå¹¶å¼€å§‹è®­ç»ƒ</span>
    <span class="hljs-attr">trainer</span> = Trainer(
        <span class="hljs-attr">model</span>=model,
        <span class="hljs-attr">args</span>=training_args,
        <span class="hljs-attr">train_dataset</span>=train_dataset,
        <span class="hljs-attr">eval_dataset</span>=eval_dataset,
    )

    logging.info("å¼€å§‹æ¨¡å‹å¾®è°ƒ...")
    trainer.train()
    logging.info("æ¨¡å‹å¾®è°ƒå®Œæˆï¼")
    
    <span class="hljs-comment"># 5. ä¿å­˜æœ€ç»ˆæ¨¡å‹</span>
    trainer.save_model("./ticket_classifier_model")

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-comment"># fine_tune_bert("bert-base-chinese", "train.csv", "eval.csv")</span>
</code></pre>
<p><strong>è§£è¯»ï¼š</strong> Â è¿™æ®µä»£ç ä½¿ç”¨äº†Â <code>Hugging Face</code>Â ç”Ÿæ€ä¸­æœ€æ ¸å¿ƒçš„Â <code>Trainer</code>Â APIï¼Œå±•ç¤ºäº†æ ‡å‡†çš„å¾®è°ƒæµç¨‹ï¼šåŠ è½½æ¨¡å‹ã€å¤„ç†æ•°æ®ã€è®¾ç½®å‚æ•°ã€è®­ç»ƒå’Œä¿å­˜ã€‚è¿™æ˜¯å·¥ä¸šç•Œ NLP ä»»åŠ¡çš„æ ‡å‡†èŒƒå¼ï¼Œä¹Ÿæ˜¯è¯¾ç¨‹çš„æ ¸å¿ƒå†…å®¹ã€‚</p>
<h5 data-id="heading-4"><strong>3. åº”ç”¨å±‚ï¼šä½¿ç”¨ FastAPI æ„å»ºé«˜æ€§èƒ½ API</strong></h5>
<p>æ¨¡å‹è®­ç»ƒå¥½ä¸æ˜¯ç»ˆç‚¹ï¼Œèƒ½æä¾›æœåŠ¡æ‰æ˜¯ã€‚FastAPI æ˜¯ç°ä»£ Python Web æœåŠ¡çš„é¦–é€‰ã€‚</p>
<p>python</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># api_server.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel
<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline
<span class="hljs-keyword">import</span> uvicorn

<span class="hljs-comment"># å®šä¹‰è¯·æ±‚ä½“æ•°æ®ç»“æ„</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TicketRequest</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    content: <span class="hljs-built_in">str</span>

<span class="hljs-comment"># å®šä¹‰å“åº”ä½“æ•°æ®ç»“æ„</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TicketResponse</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    category: <span class="hljs-built_in">str</span>
    confidence: <span class="hljs-built_in">float</span>

<span class="hljs-comment"># åŠ è½½å¾®è°ƒå¥½çš„æ¨¡å‹</span>
classifier = pipeline(<span class="hljs-string">"text-classification"</span>, model=<span class="hljs-string">"./ticket_classifier_model"</span>)

app = FastAPI(title=<span class="hljs-string">"æ™ºèƒ½å·¥å•åˆ†ç±»API"</span>, version=<span class="hljs-string">"1.0"</span>)

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/classify"</span>, response_model=TicketResponse</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">classify_ticket</span>(<span class="hljs-params">request: TicketRequest</span>):
    <span class="hljs-string">"""å·¥å•åˆ†ç±»æ¥å£"""</span>
    result = classifier(request.content)[<span class="hljs-number">0</span>]
    
    <span class="hljs-comment"># å°†æ¨¡å‹è¾“å‡ºçš„ label æ˜ å°„åˆ°å‹å¥½çš„ç±»åˆ«å</span>
    label_map = {<span class="hljs-string">'LABEL_0'</span>: <span class="hljs-string">'è´¦åŠ¡å’¨è¯¢'</span>, <span class="hljs-string">'LABEL_1'</span>: <span class="hljs-string">'æŠ€æœ¯æ•…éšœ'</span>, <span class="hljs-string">'LABEL_2'</span>: <span class="hljs-string">'åŠŸèƒ½å»ºè®®'</span>}
    
    <span class="hljs-keyword">return</span> TicketResponse(
        category=label_map.get(result[<span class="hljs-string">'label'</span>], <span class="hljs-string">"æœªçŸ¥ç±»åˆ«"</span>),
        confidence=result[<span class="hljs-string">'score'</span>]
    )

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">read_root</span>():
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"æ™ºèƒ½å·¥å•åˆ†ç±»æœåŠ¡æ­£åœ¨è¿è¡Œ"</span>}

<span class="hljs-comment"># å¯åŠ¨å‘½ä»¤: uvicorn api_server:app --host 0.0.0.0 --port 8000</span>
</code></pre>
<p><strong>è§£è¯»ï¼š</strong> Â è¿™æ®µä»£ç å±•ç¤ºäº†å¦‚ä½•å°†ä¸€ä¸ªæ²‰é‡çš„ AI æ¨¡å‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªè½»é‡ã€æ ‡å‡†ã€æ˜“äºè°ƒç”¨çš„ RESTful APIã€‚<code>Pydantic</code>Â çš„ä½¿ç”¨ä¿è¯äº†æ•°æ®æ ¡éªŒï¼Œ<code>FastAPI</code>Â åˆ™æä¾›äº†è‡ªåŠ¨çš„äº¤äº’å¼æ–‡æ¡£ï¼ˆSwagger UIï¼‰ï¼Œè¿™äº›éƒ½æ˜¯ä¼ä¸šçº§æœåŠ¡çš„å¿…å¤‡è¦ç´ ã€‚</p>
<h5 data-id="heading-5"><strong>4. éƒ¨ç½²å±‚ï¼šDocker å®¹å™¨åŒ–</strong></h5>
<p>ä¸ºäº†è®©ä½ çš„æœåŠ¡åœ¨ä»»ä½•ç¯å¢ƒä¸­éƒ½èƒ½ä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œï¼Œå®¹å™¨åŒ–æ˜¯æœ€åï¼Œä¹Ÿæ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚</p>
<p>dockerfile</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Dockerfile</span>

<span class="hljs-comment"># é˜¶æ®µ1: æ„å»ºç¯å¢ƒ</span>
FROM python:3.9-slim as builder

WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

<span class="hljs-comment"># é˜¶æ®µ2: è¿è¡Œç¯å¢ƒ</span>
FROM python:3.9-slim

WORKDIR /app
<span class="hljs-comment"># ä»æ„å»ºé˜¶æ®µå¤åˆ¶å·²å®‰è£…çš„åŒ…</span>
COPY --from=builder /usr/local/lib/python3.9/site-packages /usr/local/lib/python3.9/site-packages
COPY --from=builder /usr/local/bin /usr/local/bin

<span class="hljs-comment"># å¤åˆ¶åº”ç”¨ä»£ç å’Œæ¨¡å‹</span>
COPY ./api_server.py .
COPY ./ticket_classifier_model ./ticket_classifier_model

<span class="hljs-comment"># æš´éœ²ç«¯å£</span>
EXPOSE 8000

<span class="hljs-comment"># å¯åŠ¨å‘½ä»¤</span>
CMD [<span class="hljs-string">"uvicorn"</span>, <span class="hljs-string">"api_server:app"</span>, <span class="hljs-string">"--host"</span>, <span class="hljs-string">"0.0.0.0"</span>, <span class="hljs-string">"--port"</span>, <span class="hljs-string">"8000"</span>]
</code></pre>
<p><img src="" alt="" loading="lazy"/></p>
<p>å¼•ç”¨</p>
<p><strong>è§£è¯»ï¼š</strong> Â è¿™ä¸ªå¤šé˜¶æ®µæ„å»ºçš„Â <code>Dockerfile</code>Â æ˜¯ä¼ä¸šéƒ¨ç½²çš„æœ€ä½³å®è·µã€‚å®ƒä¿è¯äº†æœ€ç»ˆé•œåƒçš„ç²¾ç®€å’Œå®‰å…¨ï¼Œç¡®ä¿ä½ çš„ AI åº”ç”¨å¯ä»¥æ— ç¼åœ°éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼ˆå¦‚ AWS, Azure, é˜¿é‡Œäº‘ï¼‰æˆ– Kubernetes é›†ç¾¤ä¸­ã€‚</p>
<h4 data-id="heading-6"><strong>ç¬¬ä¸‰å¹•ï¼šç¤¾ç¾¤èµ„æº â€”â€” ä½ çš„ç»ˆèº«æŠ€æœ¯åç›¾</strong></h4>
<p>ä»£ç æ˜¯å†°å†·çš„ï¼Œä½†ç¤¾ç¾¤æ˜¯æ¸©æš–çš„ã€‚æ™ºæ³Š VIP ç¤¾ç¾¤çš„ä»·å€¼ï¼Œåœ¨äºï¼š</p>
<ul>
<li><strong>å³æ—¶ç­”ç–‘</strong>ï¼šå½“ä½ è¢«ä¸Šè¿°ä»»ä½•ä¸€ä¸ªç¯èŠ‚å¡ä½æ—¶ï¼Œæ€»æœ‰ç»éªŒä¸°å¯Œçš„å¯¼å¸ˆæˆ–åŒå­¦ä¸ºä½ æŒ‡ç‚¹è¿·æ´¥ã€‚</li>
<li><strong>èµ„æºåˆ†äº«</strong>ï¼šæœ€æ–°çš„è®ºæ–‡ã€å¼€æºé¡¹ç›®ã€é¢è¯•ç»éªŒï¼Œåœ¨ç¤¾ç¾¤ä¸­é«˜é€Ÿæµè½¬ã€‚</li>
<li><strong>äººè„‰ç½‘ç»œ</strong>ï¼šä½ ç»“è¯†çš„ä¸å†æ˜¯åŒå­¦ï¼Œè€Œæ˜¯æœªæ¥ AI è¡Œä¸šçš„åŒè¡Œè€…å’Œåˆä½œä¼™ä¼´ã€‚</li>
</ul>
<h4 data-id="heading-7"><strong>ç»“è¯­ï¼šè¿™ä¸ä»…ä»…æ˜¯ä¸€é—¨è¯¾ç¨‹ï¼Œè¿™æ˜¯ä¸€æ¬¡èŒä¸šèœ•å˜</strong></h4>
<p>â€œæ‰‹æ…¢æ— â€çš„èƒŒåï¼Œæ˜¯ç¨€ç¼ºçš„ã€çœŸæ­£ä¸ä¼ä¸šéœ€æ±‚æ— ç¼å¯¹æ¥çš„å®æˆ˜èƒ½åŠ›ã€‚æ™ºæ³Š AGI å…¨æ ˆ 12 æœŸ VIPï¼Œé€šè¿‡æä¾›<strong>ä¼ä¸šçº§é¡¹ç›®æ–‡æ¡£</strong>ï¼ˆå¦‚ä¸Šè¿°ä»£ç çš„å®Œæ•´ç‰ˆï¼‰ã€<strong>æ²‰æµ¸å¼çš„å…¨æ ˆå¼€å‘ä½“éªŒ</strong>å’Œ<strong>é«˜è´¨é‡çš„ç¤¾ç¾¤èµ„æº</strong>ï¼Œä¸ºä½ æä¾›çš„ä¸æ˜¯é›¶æ•£çš„çŸ¥è¯†ç‚¹ï¼Œè€Œæ˜¯ä¸€å¥—å¯ä»¥è®©ä½ åœ¨ AI èŒåœºä¸­è„±é¢–è€Œå‡ºçš„â€œæ­¦åŠŸç§˜ç±â€ã€‚</p>
<p>å¦‚æœä½ å·²ç»åŒå€¦äº†çº¸ä¸Šè°ˆå…µï¼Œå¦‚æœä½ æ¸´æœ›ç”¨ä»£ç åˆ›é€ çœŸæ­£çš„ä»·å€¼ï¼Œé‚£ä¹ˆï¼Œè¿™æ‰‡é€šå¾€ä¼ä¸šçº§ AI å·¥ç¨‹å¸ˆçš„å¤§é—¨ï¼Œæ­£åœ¨ä¸ºä½ æ‰“å¼€ã€‚ä½†è¯·è®°ä½ï¼Œæœºä¼šæ€»æ˜¯ç•™ç»™è¡ŒåŠ¨æœ€å¿«çš„äººã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¾¹ç¼˜AIæ¨ç†è®¡ç®— - StarryOS RK3588 è¾¹ç¼˜AIç³»ç»Ÿæ¶æ„æ·±åº¦è§£æï¼ˆäºŒï¼‰ï¼šAArch64è£¸æœºå¯åŠ¨ä¸å†…å­˜ç®¡ç†]]></title>    <link>https://juejin.cn/post/7584722109584113707</link>    <guid>https://juejin.cn/post/7584722109584113707</guid>    <pubDate>2025-12-18T02:08:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584722109584113707" data-draft-id="7584695558159695913" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¾¹ç¼˜AIæ¨ç†è®¡ç®— - StarryOS RK3588 è¾¹ç¼˜AIç³»ç»Ÿæ¶æ„æ·±åº¦è§£æï¼ˆäºŒï¼‰ï¼šAArch64è£¸æœºå¯åŠ¨ä¸å†…å­˜ç®¡ç†"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-18T02:08:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯­è½å¿ƒç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2875978147955741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¾¹ç¼˜AIæ¨ç†è®¡ç®— - StarryOS RK3588 è¾¹ç¼˜AIç³»ç»Ÿæ¶æ„æ·±åº¦è§£æï¼ˆäºŒï¼‰ï¼šAArch64è£¸æœºå¯åŠ¨ä¸å†…å­˜ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978147955741/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯­è½å¿ƒç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T02:08:55.000Z" title="Thu Dec 18 2025 02:08:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    53
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»“åº“åœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkaori-seasons%2Fai-edge-inference" target="_blank" title="https://github.com/kaori-seasons/ai-edge-inference" ref="nofollow noopener noreferrer">github.com/kaori-seasoâ€¦</a></p>
<hr/>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ•´ä½“ä»‹ç»äº†StarryOS RK3588ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ç†å¿µå’Œäº”å±‚ç»“æ„ã€‚ä»æœ¬æ–‡å¼€å§‹ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨æ¯ä¸€å±‚çš„å…·ä½“å®ç°ç»†èŠ‚ã€‚ä½œä¸ºç³»ç»Ÿå¯åŠ¨çš„ç¬¬ä¸€æ­¥ï¼ŒAArch64è£¸æœºå¯åŠ¨å’Œå†…å­˜ç®¡ç†æ˜¯æ•´ä¸ªç³»ç»Ÿçš„åŸºç¡€ï¼Œå®ƒä»¬å†³å®šäº†ç³»ç»Ÿèƒ½å¦æ­£ç¡®è¿è¡Œä»¥åŠåç»­åŠŸèƒ½çš„å®ç°æ–¹å¼ã€‚</p>
<p>æœ¬æ–‡å°†è¯¦ç»†è§£æStarryOS RK3588çš„å¯åŠ¨æµç¨‹å’Œå†…å­˜ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…æ‹¬æ±‡ç¼–å¯åŠ¨ä»£ç ã€é¡µè¡¨ç»“æ„è®¾è®¡ä»¥åŠMMUå¯ç”¨è¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-1">AArch64å¯åŠ¨æµç¨‹è¯¦è§£</h2>
<h3 data-id="heading-2">å¯åŠ¨å…¥å£ç‚¹</h3>
<p>StarryOS RK3588çš„å¯åŠ¨å…¥å£ç‚¹ä½äº<code>src/arch/aarch64/boot.s</code>æ–‡ä»¶ä¸­ã€‚å½“ç³»ç»Ÿä¸Šç”µæˆ–å¤ä½æ—¶ï¼Œå¤„ç†å™¨ä¼šè·³è½¬åˆ°è¿™ä¸ªå…¥å£ç‚¹å¼€å§‹æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly">.section .text.boot
.global _start
.align 4

_start:
    /* X0 = DTBç‰©ç†åœ°å€ (ç”±bootloaderä¼ å…¥)
     * X1 = å…¥å£é­”æ•° (0x65584150)
     * X2-X3 = ä¿ç•™
     * 
     * æ­¤æ—¶ç³»ç»ŸçŠ¶æ€:
     * - MMU: å…³é—­
     * - Cache: å…³é—­
     * - EL: EL1
     * - å¤§ç«¯/å°ç«¯: å°ç«¯
     */
</code></pre>
<h3 data-id="heading-3">ç³»ç»ŸçŠ¶æ€åˆå§‹åŒ–</h3>
<p>å¯åŠ¨ä»£ç é¦–å…ˆéœ€è¦ç¡®ä¿ç³»ç»Ÿå¤„äºä¸€ä¸ªå·²çŸ¥çš„çŠ¶æ€ã€‚è¿™åŒ…æ‹¬ç¦ç”¨ç¼“å­˜å’ŒMMUï¼Œè®¾ç½®å¼‚å¸¸å‘é‡è¡¨ç­‰ï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly">/* 1. åˆå§‹åŒ–SCTLR_EL1 (ç³»ç»Ÿæ§åˆ¶å¯„å­˜å™¨)
 *    ç¦ç”¨æ‰€æœ‰ç¼“å­˜å’ŒæŒ‡ä»¤é¢„å– */
mrs x1, sctlr_el1
/* æ¸…é™¤cacheæ§åˆ¶ä½ */
bic x1, x1, #0x4            /* Cä½: æ•°æ®cacheç¦ç”¨ */
bic x1, x1, #0x1000         /* Iä½: æŒ‡ä»¤cacheç¦ç”¨ */
bic x1, x1, #0x1            /* Mä½: MMUç¦ç”¨ */
msr sctlr_el1, x1
isb                          /* æŒ‡ä»¤åŒæ­¥å±éšœ */
</code></pre>
<p>è¿™æ®µä»£ç é€šè¿‡è¯»å–ã€ä¿®æ”¹å’Œå†™å›SCTLR_EL1å¯„å­˜å™¨æ¥ç¦ç”¨MMUå’Œç¼“å­˜ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨å·²çŸ¥çŠ¶æ€ä¸‹è¿è¡Œã€‚</p>
<h3 data-id="heading-4">å¼‚å¸¸å‘é‡è¡¨è®¾ç½®</h3>
<p>AArch64æ¶æ„ä½¿ç”¨å¼‚å¸¸å‘é‡è¡¨æ¥å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µï¼ŒåŒ…æ‹¬ä¸­æ–­ã€ç³»ç»Ÿè°ƒç”¨ç­‰ï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly">/* 2. åˆå§‹åŒ–å¼‚å¸¸ç›¸å…³å¯„å­˜å™¨ */
/* VBAR_EL1: å¼‚å¸¸å‘é‡åŸºåœ°å€ */
adrp x1, exception_vectors
msr vbar_el1, x1
</code></pre>
<p>è¿™é‡Œå°†å¼‚å¸¸å‘é‡è¡¨çš„åŸºåœ°å€è®¾ç½®åˆ°VBAR_EL1å¯„å­˜å™¨ä¸­ï¼Œä½¿å¾—å¤„ç†å™¨çŸ¥é“åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶åº”è¯¥è·³è½¬åˆ°å“ªé‡Œå¤„ç†ã€‚</p>
<h3 data-id="heading-5">æ ˆæŒ‡é’ˆåˆå§‹åŒ–</h3>
<p>åœ¨è¿›å…¥Rustä»£ç ä¹‹å‰ï¼Œéœ€è¦åˆå§‹åŒ–æ ˆæŒ‡é’ˆï¼Œå› ä¸ºRustä»£ç å¯èƒ½ä¼šä½¿ç”¨æ ˆï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly">/* 3. åˆå§‹åŒ–æ ˆæŒ‡é’ˆ (kernel_stackå®šä¹‰åœ¨_linkerè„šæœ¬ä¸­)
 *    æ ˆä»é«˜åœ°å€å‘ä½åœ°å€å¢é•¿ */
adrp x1, kernel_stack_top
add x1, x1, :lo12:kernel_stack_top
mov sp, x1
</code></pre>
<p>StarryOSä¸ºå†…æ ¸åˆ†é…äº†512KBçš„æ ˆç©ºé—´ï¼Œæ ˆæŒ‡é’ˆæŒ‡å‘æ ˆé¡¶ã€‚</p>
<h3 data-id="heading-6">BSSæ®µæ¸…é›¶</h3>
<p>BSSæ®µåŒ…å«æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡ï¼Œåœ¨ç¨‹åºå¯åŠ¨æ—¶éœ€è¦å°†å…¶æ¸…é›¶ï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly">/* 5. åˆå§‹åŒ–BSSæ®µ (æ¸…é›¶) */
adrp x1, __bss_start
add x1, x1, :lo12:__bss_start
adrp x2, __bss_end
add x2, x2, :lo12:__bss_end

.clear_bss:
    cmp x1, x2
    b.ge .bss_done
    str xzr, [x1], #8           /* å†™å…¥é›¶å€¼, å¹¶é€’å¢åœ°å€ */
    b .clear_bss

.bss_done:
</code></pre>
<p>è¿™æ®µä»£ç éå†æ•´ä¸ªBSSæ®µï¼Œå°†å…¶å†…å®¹æ¸…é›¶ã€‚</p>
<h3 data-id="heading-7">è·³è½¬åˆ°Rustä¸»ç¨‹åº</h3>
<p>å®Œæˆæ‰€æœ‰å¿…è¦çš„åˆå§‹åŒ–åï¼Œå¯åŠ¨ä»£ç ä¼šè·³è½¬åˆ°Rustä¸»ç¨‹åºï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly">/* 6. è·³è½¬åˆ°Rustä¸»ç¨‹åº
 *    main(dtb_ptr: u64)
 *    x0 = DTBç‰©ç†åœ°å€ */
mov x0, x19                  /* æ¢å¤DTBæŒ‡é’ˆåˆ°x0 */

/* è°ƒç”¨Rustçš„mainå‡½æ•° */
adrp x1, main
add x1, x1, :lo12:main
blr x1
</code></pre>
<p>è¿™é‡Œå°†è®¾å¤‡æ ‘çš„ç‰©ç†åœ°å€ä½œä¸ºå‚æ•°ä¼ é€’ç»™Rustçš„mainå‡½æ•°ï¼Œå¹¶é€šè¿‡BLRæŒ‡ä»¤è·³è½¬åˆ°Rustä»£ç ã€‚</p>
<h2 data-id="heading-8">å†…å­˜ç®¡ç†ç³»ç»Ÿè®¾è®¡</h2>
<h3 data-id="heading-9">é¡µè¡¨ç»“æ„</h3>
<p>StarryOS RK3588é‡‡ç”¨AArch64æ ‡å‡†çš„å››çº§é¡µè¡¨ç»“æ„ï¼š</p>
<ol>
<li><strong>L0 (PGD)</strong>: Page Global Directory</li>
<li><strong>L1 (PUD)</strong>: Page Upper Directory</li>
<li><strong>L2 (PMD)</strong>: Page Middle Directory</li>
<li><strong>L3 (PTE)</strong>: Page Table Entry</li>
</ol>
<p>è¿™ç§å››çº§ç»“æ„å¯ä»¥æ”¯æŒ48ä½è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œè¶³ä»¥æ»¡è¶³å¤§å¤šæ•°åº”ç”¨åœºæ™¯çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-10">é¡µè¡¨é¡¹è®¾è®¡</h3>
<p>é¡µè¡¨é¡¹(PTE)çš„è®¾è®¡ç›´æ¥å½±å“å†…å­˜è®¿é—®çš„æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚StarryOS RK3588çš„PTEç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">/// é¡µè¡¨é¡¹ (Page Table Entry)</span>
<span class="hljs-meta">#[repr(transparent)]</span>
<span class="hljs-meta">#[derive(Clone, Copy)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Pte</span>(<span class="hljs-type">u64</span>);

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Pte</span> {
    <span class="hljs-comment">/// è¡¨é¡¹æœ‰æ•ˆæ ‡å¿—</span>
    <span class="hljs-keyword">const</span> VALID: <span class="hljs-type">u64</span> = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">0</span>;
    
    <span class="hljs-comment">/// è¡¨é¡¹ç±»å‹: 0=è¡¨, 1=å—/é¡µ</span>
    <span class="hljs-keyword">const</span> TYPE: <span class="hljs-type">u64</span> = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">1</span>;
    
    <span class="hljs-comment">/// è®¿é—®æƒé™ (AP)</span>
    <span class="hljs-keyword">const</span> AP_MASK: <span class="hljs-type">u64</span> = <span class="hljs-number">0x3</span> &lt;&lt; <span class="hljs-number">6</span>;
    <span class="hljs-keyword">const</span> AP_EL0_NONE: <span class="hljs-type">u64</span> = <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-number">6</span>;      <span class="hljs-comment">// EL0æ— è®¿é—®æƒé™</span>
    <span class="hljs-keyword">const</span> AP_EL0_RW: <span class="hljs-type">u64</span> = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">6</span>;        <span class="hljs-comment">// EL0å¯è¯»å†™</span>
    <span class="hljs-keyword">const</span> AP_KERN_RO: <span class="hljs-type">u64</span> = <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-number">6</span>;       <span class="hljs-comment">// å†…æ ¸åªè¯»</span>
    <span class="hljs-keyword">const</span> AP_KERN_RW: <span class="hljs-type">u64</span> = <span class="hljs-number">3</span> &lt;&lt; <span class="hljs-number">6</span>;       <span class="hljs-comment">// å†…æ ¸å¯è¯»å†™</span>
    
    <span class="hljs-comment">/// ç¼“å­˜ç­–ç•¥ (AttrIdx)</span>
    <span class="hljs-keyword">const</span> ATTR_IDX_MASK: <span class="hljs-type">u64</span> = <span class="hljs-number">0x7</span> &lt;&lt; <span class="hljs-number">2</span>;
    <span class="hljs-keyword">const</span> ATTR_DEVICE: <span class="hljs-type">u64</span> = <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-number">2</span>;      <span class="hljs-comment">// è®¾å¤‡å†…å­˜ (MMIO)</span>
    <span class="hljs-keyword">const</span> ATTR_NORMAL: <span class="hljs-type">u64</span> = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">2</span>;      <span class="hljs-comment">// æ™®é€šå†…å­˜ (ç¼“å­˜)</span>
    <span class="hljs-keyword">const</span> ATTR_NORMAL_NC: <span class="hljs-type">u64</span> = <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-number">2</span>;   <span class="hljs-comment">// æ™®é€šå†…å­˜ (éç¼“å­˜)</span>
    
    <span class="hljs-comment">/// è®¿é—®æ ‡å¿— (Access Flag)</span>
    <span class="hljs-keyword">const</span> AF: <span class="hljs-type">u64</span> = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">10</span>;
    
    <span class="hljs-comment">/// æ‰§è¡Œæƒé™ç¦ç”¨æ ‡å¿—</span>
    <span class="hljs-keyword">const</span> UXN: <span class="hljs-type">u64</span> = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">54</span>;             <span class="hljs-comment">// User eXecute Never</span>
    <span class="hljs-keyword">const</span> PXN: <span class="hljs-type">u64</span> = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">53</span>;             <span class="hljs-comment">// Privileged eXecute Never</span>
}
</code></pre>
<h3 data-id="heading-11">å†…å­˜æ˜ å°„ç­–ç•¥</h3>
<p>StarryOS RK3588é‡‡ç”¨ä»¥ä¸‹å†…å­˜æ˜ å°„ç­–ç•¥ï¼š</p>
<ol>
<li><strong>DDRå†…å­˜</strong>: 1GB @ 0x0ï¼Œä½¿ç”¨ç¼“å­˜å±æ€§(NORMAL)</li>
<li><strong>MMIOåŒºåŸŸ</strong>: 256MB @ 0xfe000000ï¼Œä½¿ç”¨è®¾å¤‡å±æ€§(DEVICE)</li>
</ol>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">/// åˆå§‹åŒ–é¡µè¡¨ç®¡ç†å™¨</span>
<span class="hljs-comment">/// </span>
<span class="hljs-comment">/// è®¾ç½®:</span>
<span class="hljs-comment">/// - DDRå†…å­˜: 1GB @ 0x0, ç¼“å­˜å¯ç”¨ (NORMAL)</span>
<span class="hljs-comment">/// - MMIOåŒºåŸŸ: 256MB @ 0xfe000000, éç¼“å­˜ (DEVICE)</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">init</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
    <span class="hljs-keyword">unsafe</span> {
        <span class="hljs-comment">// L0è¡¨ (PGD)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l0_addr</span> = <span class="hljs-number">0x1000</span> <span class="hljs-keyword">as</span> *<span class="hljs-keyword">mut</span> PageTable;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l0</span> = &amp;<span class="hljs-keyword">mut</span> *l0_addr;
        *l0 = PageTable::<span class="hljs-title function_ invoke__">new</span>();
        
        <span class="hljs-comment">// L1è¡¨</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l1_addr</span> = <span class="hljs-number">0x2000</span> <span class="hljs-keyword">as</span> *<span class="hljs-keyword">mut</span> PageTable;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l1</span> = &amp;<span class="hljs-keyword">mut</span> *l1_addr;
        *l1 = PageTable::<span class="hljs-title function_ invoke__">new</span>();
        
        <span class="hljs-comment">// L2è¡¨ (DDR: 1GB)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l2_addr</span> = <span class="hljs-number">0x3000</span> <span class="hljs-keyword">as</span> *<span class="hljs-keyword">mut</span> PageTable;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l2</span> = &amp;<span class="hljs-keyword">mut</span> *l2_addr;
        *l2 = PageTable::<span class="hljs-title function_ invoke__">new</span>();
        
        <span class="hljs-comment">// L3è¡¨ (MMIO: 256MB)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l3_addr</span> = <span class="hljs-number">0x4000</span> <span class="hljs-keyword">as</span> *<span class="hljs-keyword">mut</span> PageTable;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l3</span> = &amp;<span class="hljs-keyword">mut</span> *l3_addr;
        *l3 = PageTable::<span class="hljs-title function_ invoke__">new</span>();
        
        <span class="hljs-comment">// é…ç½®L0 -&gt; L1</span>
        l0.<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-number">0</span>, Pte::<span class="hljs-title function_ invoke__">table</span>(l1_addr <span class="hljs-keyword">as</span> <span class="hljs-type">u64</span>));
        
        <span class="hljs-comment">// é…ç½®L1 -&gt; L2 (DDR)</span>
        l1.<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-number">0</span>, Pte::<span class="hljs-title function_ invoke__">table</span>(l2_addr <span class="hljs-keyword">as</span> <span class="hljs-type">u64</span>));
        
        <span class="hljs-comment">// é…ç½®L2 -&gt; 1GBå— @ 0x0 (DDRå†…å­˜, ç¼“å­˜)</span>
        <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">512</span> {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">phys_addr</span> = (i <span class="hljs-keyword">as</span> <span class="hljs-type">u64</span>) * <span class="hljs-number">0x200000</span>; <span class="hljs-comment">// 2MBå—</span>
            l2.<span class="hljs-title function_ invoke__">set</span>(i, Pte::<span class="hljs-title function_ invoke__">block</span>(phys_addr, Pte::ATTR_NORMAL, <span class="hljs-literal">true</span>));
        }
        
        <span class="hljs-comment">// é…ç½®L1 -&gt; L3 (MMIO)</span>
        l1.<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-number">511</span>, Pte::<span class="hljs-title function_ invoke__">table</span>(l3_addr <span class="hljs-keyword">as</span> <span class="hljs-type">u64</span>)); <span class="hljs-comment">// é¡¶éƒ¨åœ°å€ç©ºé—´</span>
        
        <span class="hljs-comment">// é…ç½®L3 -&gt; 256MBå— @ 0xfe000000 (è®¾å¤‡å¯„å­˜å™¨, éç¼“å­˜)</span>
        <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">512</span> {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">phys_addr</span> = <span class="hljs-number">0xfe000000</span> + ((i <span class="hljs-keyword">as</span> <span class="hljs-type">u64</span>) * <span class="hljs-number">0x200000</span>);
            l3.<span class="hljs-title function_ invoke__">set</span>(i, Pte::<span class="hljs-title function_ invoke__">block</span>(phys_addr, Pte::ATTR_DEVICE, <span class="hljs-literal">false</span>));
        }
        
        PageTableManager {
            l0,
        }
    }
}
</code></pre>
<h3 data-id="heading-12">MMUå¯ç”¨è¿‡ç¨‹</h3>
<p>MMUçš„å¯ç”¨æ¶‰åŠå¤šä¸ªå¯„å­˜å™¨çš„é…ç½®ï¼š</p>
<ol>
<li><strong>TTBR0_EL1</strong>: è®¾ç½®é¡µè¡¨åŸºåœ°å€</li>
<li><strong>TCR_EL1</strong>: é…ç½®è½¬æ¢æ§åˆ¶å‚æ•°</li>
<li><strong>MAIR_EL1</strong>: è®¾ç½®å†…å­˜å±æ€§</li>
<li><strong>SCTLR_EL1</strong>: å¯ç”¨MMU</li>
</ol>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">/// å¯ç”¨MMU</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">enable</span>(&amp;<span class="hljs-keyword">self</span>) {
    <span class="hljs-keyword">unsafe</span> {
        <span class="hljs-comment">// 1. è®¾ç½®TTBR0_EL1 (è½¬æ¢è¡¨åŸºåœ°å€å¯„å­˜å™¨)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l0_addr</span> = <span class="hljs-keyword">self</span>.l0 <span class="hljs-keyword">as</span> *<span class="hljs-keyword">const</span> _ <span class="hljs-keyword">as</span> <span class="hljs-type">u64</span>;
        asm!(<span class="hljs-string">"msr ttbr0_el1, {}"</span>, <span class="hljs-title function_ invoke__">in</span>(reg) l0_addr);
        
        <span class="hljs-comment">// 2. é…ç½®TCR_EL1 (è½¬æ¢æ§åˆ¶å¯„å­˜å™¨)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tcr</span>: <span class="hljs-type">u64</span> = (<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">32</span>)     <span class="hljs-comment">// IPS=01 (40-bit)</span>
            | (<span class="hljs-number">0</span> &lt;&lt; <span class="hljs-number">14</span>)               <span class="hljs-comment">// TG0=00 (4KB)</span>
            | (<span class="hljs-number">3</span> &lt;&lt; <span class="hljs-number">12</span>)               <span class="hljs-comment">// SH0=11 (Inner shareable)</span>
            | (<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">10</span>)               <span class="hljs-comment">// ORGN0=01 (Write-Back)</span>
            | (<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">8</span>)                <span class="hljs-comment">// IRGN0=01 (Write-Back)</span>
            | (<span class="hljs-number">32</span>);                   <span class="hljs-comment">// T0SZ=32</span>
        
        asm!(<span class="hljs-string">"msr tcr_el1, {}"</span>, <span class="hljs-title function_ invoke__">in</span>(reg) tcr);
        
        <span class="hljs-comment">// 3. è®¾ç½®MAIR_EL1 (Memory Attribute Indirection Register)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">mair</span>: <span class="hljs-type">u64</span> = <span class="hljs-number">0x00FF4400u64</span>;
        asm!(<span class="hljs-string">"msr mair_el1, {}"</span>, <span class="hljs-title function_ invoke__">in</span>(reg) mair);
        
        <span class="hljs-comment">// 4. å¯èƒ½MMU (SCTLR_EL1.M=1)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">sctlr</span>: <span class="hljs-type">u64</span>;
        asm!(<span class="hljs-string">"mrs {}, sctlr_el1"</span>, <span class="hljs-title function_ invoke__">out</span>(reg) sctlr);
        sctlr |= <span class="hljs-number">1</span>;  <span class="hljs-comment">// Mä½</span>
        sctlr |= <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">2</span>;  <span class="hljs-comment">// Cä½ (æ•°æ®ç¼“å­˜)</span>
        sctlr |= <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">12</span>; <span class="hljs-comment">// Iä½ (æŒ‡ä»¤ç¼“å­˜)</span>
        asm!(<span class="hljs-string">"msr sctlr_el1, {}"</span>, <span class="hljs-title function_ invoke__">in</span>(reg) sctlr);
        
        <span class="hljs-comment">// æŒ‡ä»¤åŒæ­¥å±éšœ</span>
        asm!(<span class="hljs-string">"isb"</span>);
    }
}
</code></pre>
<h2 data-id="heading-13">æ€§èƒ½ä¼˜åŒ–è€ƒè™‘</h2>
<h3 data-id="heading-14">é¡µè¡¨ç¼“å­˜å‹å¥½çš„è®¾è®¡</h3>
<p>ä¸ºäº†æé«˜é¡µè¡¨æŸ¥æ‰¾çš„æ€§èƒ½ï¼ŒStarryOS RK3588åœ¨è®¾è®¡æ—¶è€ƒè™‘äº†ç¼“å­˜å‹å¥½çš„å› ç´ ï¼š</p>
<ol>
<li><strong>é¡µè¡¨å¯¹é½</strong>: æ‰€æœ‰é¡µè¡¨éƒ½æŒ‰4KBè¾¹ç•Œå¯¹é½ï¼Œç¬¦åˆç¼“å­˜è¡Œå¤§å°</li>
<li><strong>è¿ç»­å†…å­˜åˆ†é…</strong>: é¡µè¡¨åœ¨ç‰©ç†å†…å­˜ä¸­è¿ç»­åˆ†é…ï¼Œå‡å°‘TLB miss</li>
<li><strong>åˆç†æ˜ å°„ç²’åº¦</strong>: ä½¿ç”¨2MBçš„å¤§é¡µæ˜ å°„DDRå†…å­˜ï¼Œå‡å°‘é¡µè¡¨å±‚çº§</li>
</ol>
<h3 data-id="heading-15">å†…å­˜å±æ€§ä¼˜åŒ–</h3>
<p>ä¸åŒçš„å†…å­˜åŒºåŸŸä½¿ç”¨ä¸åŒçš„ç¼“å­˜å±æ€§ï¼š</p>
<ol>
<li><strong>æ™®é€šå†…å­˜(NORMAL)</strong>: DDRå†…å­˜ä½¿ç”¨å†™å›ç¼“å­˜ï¼Œæé«˜è®¿é—®æ€§èƒ½</li>
<li><strong>è®¾å¤‡å†…å­˜(DEVICE)</strong>: MMIOåŒºåŸŸç¦ç”¨ç¼“å­˜ï¼Œç¡®ä¿å†…å­˜è®¿é—®çš„é¡ºåºæ€§</li>
</ol>
<h2 data-id="heading-16">å®‰å…¨æ€§è€ƒè™‘</h2>
<h3 data-id="heading-17">å†…å­˜ä¿æŠ¤</h3>
<p>é€šè¿‡é¡µè¡¨é¡¹çš„è®¿é—®æƒé™æ§åˆ¶ï¼ŒStarryOS RK3588å®ç°äº†åŸºæœ¬çš„å†…å­˜ä¿æŠ¤ï¼š</p>
<ol>
<li><strong>å†…æ ¸åªè¯»åŒºåŸŸ</strong>: é‡è¦çš„ä»£ç å’Œæ•°æ®åŒºåŸŸè®¾ç½®ä¸ºåªè¯»</li>
<li><strong>æ‰§è¡Œæƒé™æ§åˆ¶</strong>: é€šè¿‡PXNå’ŒUXNä½æ§åˆ¶ä»£ç æ‰§è¡Œæƒé™</li>
<li><strong>ç”¨æˆ·ç©ºé—´éš”ç¦»</strong>: ä¸ºæœªæ¥çš„ç”¨æˆ·ç©ºé—´è¿›ç¨‹æä¾›éš”ç¦»æœºåˆ¶</li>
</ol>
<h3 data-id="heading-18">åœ°å€ç©ºé—´å¸ƒå±€</h3>
<p>åˆç†çš„åœ°å€ç©ºé—´å¸ƒå±€æœ‰åŠ©äºæé«˜ç³»ç»Ÿå®‰å…¨æ€§ï¼š</p>
<ol>
<li><strong>å†…æ ¸ç©ºé—´</strong>: å›ºå®šåœ¨ä½åœ°å€åŒºåŸŸ</li>
<li><strong>è®¾å¤‡ç©ºé—´</strong>: æ˜ å°„åœ¨é«˜åœ°å€åŒºåŸŸ</li>
<li><strong>ç”¨æˆ·ç©ºé—´</strong>: æœªæ¥å¯æ˜ å°„åœ¨ä¸­é—´åŒºåŸŸ</li>
</ol>
<h2 data-id="heading-19">è°ƒè¯•ä¸éªŒè¯</h2>
<h3 data-id="heading-20">å¯åŠ¨æ—¥å¿—</h3>
<p>StarryOS RK3588åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ä¼šè¾“å‡ºè¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">StarryOS</span>] Booting...
[<span class="hljs-meta">StarryOS</span>] Initializing memory management...
[<span class="hljs-meta">StarryOS</span>] MMU enabled
[<span class="hljs-meta">StarryOS</span>] Initializing GIC<span class="hljs-number">-500.</span>..
[<span class="hljs-meta">StarryOS</span>] GIC initialized <span class="hljs-keyword">for</span> CPU <span class="hljs-number">0</span>
[<span class="hljs-meta">StarryOS</span>] Parsing device tree...
[<span class="hljs-meta">StarryOS</span>] Device tree parsed successfully
</code></pre>
<p>è¿™äº›æ—¥å¿—æœ‰åŠ©äºå¼€å‘è€…äº†è§£ç³»ç»Ÿå¯åŠ¨çš„è¿›åº¦å’ŒçŠ¶æ€ã€‚</p>
<h3 data-id="heading-21">QEMUä»¿çœŸéªŒè¯</h3>
<p>StarryOS RK3588å¯ä»¥åœ¨QEMUä¸­è¿›è¡Œä»¿çœŸéªŒè¯ï¼Œç¡®ä¿å¯åŠ¨ä»£ç çš„æ­£ç¡®æ€§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨QEMUæ¨¡æ‹Ÿå™¨</span>
qemu-system-aarch64 \
  -machine virt \
  -cpu cortex-a76 \
  -kernel target/aarch64-unknown-none-elf/release/starryos \
  -serial stdio
</code></pre>
<h2 data-id="heading-22">æ€»ç»“</h2>
<p>AArch64è£¸æœºå¯åŠ¨å’Œå†…å­˜ç®¡ç†æ˜¯StarryOS RK3588ç³»ç»Ÿçš„åŸºç¡€ï¼Œå®ƒä»¬ä¸ºåç»­çš„æ‰€æœ‰åŠŸèƒ½æä¾›äº†è¿è¡Œç¯å¢ƒã€‚é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„å¯åŠ¨æµç¨‹å’Œå†…å­˜ç®¡ç†ç³»ç»Ÿï¼ŒStarryOS RK3588å®ç°äº†ï¼š</p>
<ol>
<li><strong>å¯é çš„å¯åŠ¨</strong>: ç¡®ä¿ç³»ç»Ÿåœ¨å·²çŸ¥çŠ¶æ€ä¸‹å¯åŠ¨</li>
<li><strong>é«˜æ•ˆçš„å†…å­˜è®¿é—®</strong>: é€šè¿‡åˆç†çš„é¡µè¡¨è®¾è®¡å’Œç¼“å­˜ç­–ç•¥æé«˜æ€§èƒ½</li>
<li><strong>åŸºæœ¬çš„å®‰å…¨ä¿æŠ¤</strong>: é€šè¿‡å†…å­˜ä¿æŠ¤æœºåˆ¶æä¾›åŸºç¡€å®‰å…¨ä¿éšœ</li>
<li><strong>è‰¯å¥½çš„å¯è°ƒè¯•æ€§</strong>: è¯¦ç»†çš„å¯åŠ¨æ—¥å¿—å’ŒQEMUä»¿çœŸæ”¯æŒ</li>
</ol>
<p>åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œå°†æ¢è®¨StarryOS RK3588çš„ä¸­æ–­ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…æ‹¬GIC-500æ§åˆ¶å™¨çš„é…ç½®å’Œå¤šæ ¸è°ƒåº¦æœºåˆ¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript æ€§èƒ½ä¼˜åŒ–ï¼š5ä¸ªè¢«ä½ä¼°çš„V8å¼•æ“æŠ€å·§è®©ä½ çš„ä»£ç æé€Ÿ50%]]></title>    <link>https://juejin.cn/post/7585097023747915791</link>    <guid>https://juejin.cn/post/7585097023747915791</guid>    <pubDate>2025-12-19T04:16:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585097023747915791" data-draft-id="7585130590291656719" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript æ€§èƒ½ä¼˜åŒ–ï¼š5ä¸ªè¢«ä½ä¼°çš„V8å¼•æ“æŠ€å·§è®©ä½ çš„ä»£ç æé€Ÿ50%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T04:16:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript æ€§èƒ½ä¼˜åŒ–ï¼š5ä¸ªè¢«ä½ä¼°çš„V8å¼•æ“æŠ€å·§è®©ä½ çš„ä»£ç æé€Ÿ50%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T04:16:53.000Z" title="Fri Dec 19 2025 04:16:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>JavaScript æ€§èƒ½ä¼˜åŒ–ï¼š5ä¸ªè¢«ä½ä¼°çš„V8å¼•æ“æŠ€å·§è®©ä½ çš„ä»£ç æé€Ÿ50%</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨ç°ä»£Webå¼€å‘ä¸­ï¼ŒJavaScriptçš„æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæ°¸æ’çš„è¯é¢˜ã€‚éšç€V8å¼•æ“çš„ä¸æ–­è¿›åŒ–ï¼Œè®¸å¤šå¼€å‘è€…å¯èƒ½å¹¶æœªå……åˆ†æŒ–æ˜å…¶æ½œåŠ›ã€‚V8ä½œä¸ºChromeå’ŒNode.jsçš„æ ¸å¿ƒå¼•æ“ï¼Œé€šè¿‡å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰ã€éšè—ç±»ï¼ˆHidden Classesï¼‰ã€å†…è”ç¼“å­˜ï¼ˆInline Cachingï¼‰ç­‰æŠ€æœ¯å¤§å¹…æå‡äº†JavaScriptçš„æ‰§è¡Œæ•ˆç‡ã€‚ç„¶è€Œï¼Œè®¸å¤šä¼˜åŒ–æŠ€å·§ä»è¢«ä½ä¼°æˆ–å¿½è§†ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨5ä¸ªé²œä¸ºäººçŸ¥çš„V8å¼•æ“æŠ€å·§ï¼Œå¸®åŠ©ä½ å°†ä»£ç æ€§èƒ½æå‡é«˜è¾¾50%ã€‚</p>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. <strong>åˆ©ç”¨éšè—ç±»ï¼ˆHidden Classesï¼‰é¿å…åŠ¨æ€å±æ€§åˆ†é…</strong></h3>
<p>V8é€šè¿‡éšè—ç±»æ¥ä¼˜åŒ–å¯¹è±¡å±æ€§è®¿é—®ã€‚å½“å¯¹è±¡çš„ç»“æ„ï¼ˆå³å±æ€§çš„é¡ºåºå’Œç±»å‹ï¼‰é¢‘ç¹å˜åŒ–æ—¶ï¼ŒV8ä¼šåˆ›å»ºå¤šä¸ªéšè—ç±»ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åä¾‹ï¼šåŠ¨æ€æ·»åŠ å±æ€§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> user = {};
  user.<span class="hljs-property">name</span> = <span class="hljs-string">"John"</span>;
  user.<span class="hljs-property">age</span> = <span class="hljs-number">30</span>; <span class="hljs-comment">// V8ä¼šä¸ºæ¯æ¬¡å±æ€§æ·»åŠ åˆ›å»ºæ–°çš„éšè—ç±»</span>
  <span class="hljs-keyword">return</span> user;
}

<span class="hljs-comment">// æ­£ä¾‹ï¼šä¸€æ¬¡æ€§åˆå§‹åŒ–æ‰€æœ‰å±æ€§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createUserOptimized</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"John"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> }; <span class="hljs-comment">// V8åªéœ€åˆ›å»ºä¸€ä¸ªéšè—ç±»</span>
  <span class="hljs-keyword">return</span> user;
}
</code></pre>
<p><strong>ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ul>
<li>å°½é‡åœ¨å¯¹è±¡æ„é€ æ—¶ä¸€æ¬¡æ€§å®šä¹‰æ‰€æœ‰å±æ€§ã€‚</li>
<li>é¿å…åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ é™¤æˆ–é‡æ–°æ’åºå±æ€§ã€‚</li>
</ul>
<h3 data-id="heading-4">2. <strong>é¿å…æ•°å­—ç±»å‹çš„é¢‘ç¹åˆ‡æ¢ï¼ˆSmi vs. Heap Numberï¼‰</strong></h3>
<p>V8å¯¹æ•°å­—æœ‰ä¸¤ç§å†…éƒ¨è¡¨ç¤ºå½¢å¼ï¼š</p>
<ul>
<li><strong>Smi</strong>ï¼ˆSmall Integerï¼‰ï¼š31ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œç›´æ¥å­˜å‚¨åœ¨å¯¹è±¡ä¸­ï¼Œè®¿é—®é€Ÿåº¦å¿«ã€‚</li>
<li><strong>Heap Number</strong>ï¼šåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œå­˜å‚¨åœ¨å †ä¸­ï¼Œè®¿é—®è¾ƒæ…¢ã€‚</li>
</ul>
<p>é¢‘ç¹åˆ‡æ¢è¿™ä¸¤ç§ç±»å‹ä¼šå¯¼è‡´æ€§èƒ½æŸå¤±ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>; <span class="hljs-comment">// Smi</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1e6</span>; i++) {
  count += i; <span class="hljs-comment">// ä¿æŒSmiç±»å‹</span>
}

<span class="hljs-keyword">let</span> floatCount = <span class="hljs-number">0.1</span>; <span class="hljs-comment">// Heap Number</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1e6</span>; i++) {
  floatCount += i; <span class="hljs-comment">// V8éœ€è¦åå¤åˆ‡æ¢ç±»å‹</span>
}
</code></pre>
<p><strong>ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ul>
<li>åœ¨å¯†é›†è®¡ç®—ä¸­å°½é‡ä½¿ç”¨æ•´æ•°ï¼ˆSmiï¼‰ã€‚</li>
<li>é¿å…æ··åˆæ•´æ•°å’Œæµ®ç‚¹è¿ç®—ã€‚</li>
</ul>
<h3 data-id="heading-5">3. <strong>åˆ©ç”¨å†…è”ç¼“å­˜ï¼ˆInline Cachingï¼‰ä¼˜åŒ–å‡½æ•°è°ƒç”¨</strong></h3>
<p>V8é€šè¿‡å†…è”ç¼“å­˜è®°å½•å‡½æ•°è°ƒç”¨ç‚¹çš„ç±»å‹ä¿¡æ¯ï¼ŒåŠ é€Ÿåç»­è°ƒç”¨ã€‚å¦‚æœå‡½æ•°å‚æ•°ç±»å‹ä¸ç¨³å®šï¼Œä¼šå¯¼è‡´ç¼“å­˜å¤±æ•ˆï¼ˆMegamorphicçŠ¶æ€ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åä¾‹ï¼šå¤šæ€å‚æ•°å¯¼è‡´å†…è”ç¼“å­˜å¤±æ•ˆ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);       <span class="hljs-comment">// ICè®°å½•Numberç±»å‹</span>
<span class="hljs-title function_">add</span>(<span class="hljs-string">"1"</span>, <span class="hljs-string">"2"</span>);   <span class="hljs-comment">// ICå¤±æ•ˆï¼Œé‡æ–°å­¦ä¹ Stringç±»å‹</span>

<span class="hljs-comment">// æ­£ä¾‹ï¼šä¿æŒå‚æ•°ç±»å‹ä¸€è‡´</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addNumbers</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-title function_">addNumbers</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// ICå§‹ç»ˆæœ‰æ•ˆ</span>
</code></pre>
<p><strong>ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿é«˜é¢‘è°ƒç”¨çš„å‡½æ•°å‚æ•°ç±»å‹ç¨³å®šã€‚</li>
<li>é¿å…åœ¨çƒ­ä»£ç è·¯å¾„ä¸­ä½¿ç”¨<code>arguments</code>æˆ–åŠ¨æ€å‚æ•°ã€‚</li>
</ul>
<p>###4. <strong>è°¨æ…ä½¿ç”¨<code>try-catch</code>å’Œ<code>with</code>è¯­å¥</strong></p>
<p>V8ä¼šå¯¹åŒ…å«<code>try-catch</code>æˆ–<code>with</code>çš„å‡½æ•°ç¦ç”¨æŸäº›ä¼˜åŒ–ï¼ˆå¦‚å‡½æ•°å†…è”ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// try-catchå½±å“æ€§èƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">riskyOperation</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// ...å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„æ“ä½œ...</span>
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e);
    }
}

<span class="hljs-comment">// Node.jsä¸­æ›´é«˜æ•ˆçš„é”™è¯¯å¤„ç†æ–¹å¼ï¼š</span>
<span class="hljs-keyword">if</span> (errorProneCondition) {
    process.<span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"..."</span>); });
}
</code></pre>
<p><strong>ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ul>
<li>å°†<code>try-catch</code>ç§»è‡³å¤–å±‚æˆ–éå…³é”®è·¯å¾„ã€‚</li>
<li>å®Œå…¨é¿å…ä½¿ç”¨<code>with</code>è¯­å¥ï¼ˆå·²åºŸå¼ƒï¼‰ã€‚</li>
</ul>
<p>###5. <strong>é¢„ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼å¹¶åˆ©ç”¨æŒä¹…åŒ–åŒ¹é…çŠ¶æ€</strong></p>
<p>æ­£åˆ™è¡¨è¾¾å¼åœ¨V8ä¸­ä¼šè¢«ç¼–è¯‘ä¸ºåŸç”Ÿä»£ç ï¼Œä½†é‡å¤ç¼–è¯‘ä¼šæ‹–æ…¢æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//  åä¾‹ï¼šæ¯æ¬¡å¾ªç¯é‡æ–°ç¼–è¯‘æ­£åˆ™ </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i =  <span class="hljs-number">0</span> ; i &lt;  <span class="hljs-number">1000</span> ; i++) { 
    <span class="hljs-regexp">/test(\d+)/</span>.<span class="hljs-title function_">exec</span>(<span class="hljs-string">"test123"</span>); 
} 

<span class="hljs-comment">//  æ­£ä¾‹ï¼šé¢„ç¼–è¯‘æ­£åˆ™ </span>
<span class="hljs-keyword">const</span> regex = <span class="hljs-regexp">/test(\d+)/</span>; 
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i =  <span class="hljs-number">0</span> ; i &lt;  <span class="hljs-number">1000</span> ; i++) { 
    regex.<span class="hljs-title function_">exec</span>(<span class="hljs-string">"test123"</span>); 
} 

<span class="hljs-comment">//  è¿›é˜¶æŠ€å·§ï¼šå¤ç”¨RegExpå®ä¾‹çš„lastIndex </span>
<span class="hljs-keyword">const</span> globalRegex = <span class="hljs-regexp">/test(\d+)/g</span>; 
globalRegex.<span class="hljs-property">lastIndex</span> =  <span class="hljs-number">0</span> ; <span class="hljs-comment">//  æ˜¾å¼é‡ç½®ä½ç½® </span>
<span class="hljs-keyword">while</span> ((match = globalRegex.<span class="hljs-title function_">exec</span>(input)) !== <span class="hljs-literal">null</span>) { ... }
</code></pre>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>é€šè¿‡æ·±å…¥ç†è§£V8çš„å·¥ä½œåŸç†å¹¶è°ƒæ•´ç¼–ç ä¹ æƒ¯ â€”â€”ä»å¯¹è±¡æ„é€ ã€æ•°å­—å¤„ç†åˆ°å‡½æ•°è®¾è®¡â€”â€”å¼€å‘è€…å¯ä»¥æ˜¾è‘—æå‡JavaScriptçš„æ‰§è¡Œæ•ˆç‡</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ruoyi-vue2é›†æˆflowable6.7.2åç«¯ç¯‡]]></title>    <link>https://juejin.cn/post/7585091990347481124</link>    <guid>https://juejin.cn/post/7585091990347481124</guid>    <pubDate>2025-12-19T04:29:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585091990347481124" data-draft-id="7585206549285191721" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ruoyi-vue2é›†æˆflowable6.7.2åç«¯ç¯‡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T04:29:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç æ¬¡ä½é¢"/> <meta itemprop="url" content="https://juejin.cn/user/1535333867720295"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ruoyi-vue2é›†æˆflowable6.7.2åç«¯ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1535333867720295/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç æ¬¡ä½é¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T04:29:19.000Z" title="Fri Dec 19 2025 04:29:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ruoyiåœ¨ä¸­å›½å¸‚åœºæœ‰ç€å¹¿æ³›çš„ç¾¤ä¼—åŸºç¡€ï¼Œ flowableä¹Ÿåœ¨å¾ˆå¤šä¼ä¸šè½åœ°ã€‚ æœ¬æ–‡å°†è®²è§£å¦‚ä½•åœ¨ruoyié›†æˆflowableï¼Œä¸»è¦æ˜¯åç«¯ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ç¯å¢ƒè¯´æ˜</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f7eb740380243cc89c0ffc7217f342f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luj56CB5qyh5L2N6Z2i:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766723359&amp;x-signature=8CVPOphMG09Ec6nR%2F3%2Fnz7DyhZw%3D" alt="image.png" loading="lazy"/></p>
<p>ruoyi: Ruoyi-Vue2-Boot-2.x, <br/>
ç‰ˆæœ¬ä¿¡æ¯: 3.9.0<br/>
jdk: 1.8<br/>
flowable: 6.7.2<br/></p>
<h2 data-id="heading-1">å®‰è£…æ­¥éª¤</h2>
<ul>
<li>åœ¨IDEAå·¥å…·å¯¼å…¥é¡¹ç›®ï¼Œ åœ¨é¡¹ç›®åç§°ä¸Šï¼Œ å³é”®ç‚¹å‡»é€‰æ‹©Module, åˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—ã€‚ruoyi-flowable</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a08a259b940c434abb1db5b9af5f664a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luj56CB5qyh5L2N6Z2i:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766723359&amp;x-signature=oC6HGEvvPjTjRtxLftocji%2Bvyhk%3D" alt="r2.png" loading="lazy"/></p>
<ul>
<li>mavené…ç½®
åœ¨ruoyié¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰¾åˆ°pom.xmlæ–‡ä»¶ï¼Œ æ·»åŠ flowableä¾èµ–</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">flowable.spring-boot.version</span>&gt;</span>6.7.2<span class="hljs-tag">&lt;/<span class="hljs-name">flowable.spring-boot.version</span>&gt;</span>
<span class="hljs-comment">&lt;!-- å¿½ç•¥å…¶ä»–--&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>


 <span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
       <span class="hljs-comment">&lt;!--å¿½ç•¥å…¶ä»–--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.flowable<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>flowable-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${flowable.spring-boot.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span> 
</code></pre>
<p>åœ¨ruoyi-flowableæ¨¡å—ä¸‹çš„æ ¹ç›®å½•pom.xmlæ–‡ä»¶åŠ å…¥ä»¥ä¸‹ä¾èµ–</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- swagger3--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.springfox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springfox-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!--common--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.40<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.hutool<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hutool-all<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.8.40<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.flowable<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>flowable-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p>ç»§ç»­åœ¨æ ¹pom.xmlä¸‹ï¼ŒåŠ å…¥ruoyi-flowableï¼Œä¸ruoyi-commonåœ¨åŒä¸€ä¸ªä½ç½®ã€‚è¿™ä¸€æ­¥å°±æ˜¯å°†æ–°å¢æ¨¡å—åµŒå…¥äº†ç³»ç»Ÿå½“ä¸­!!!</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-flowable<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${ruoyi.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>åœ¨ruoyi-adminæ¨¡å—ä¸‹åŠ å…¥ruoyi-flowableæ¨¡å—</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä»£ç ç”Ÿæˆ--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-generator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-comment">&lt;!-- flowable--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.ruoyi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ruoyi-flowable<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h2 data-id="heading-2">é…ç½®application.yml</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">flowable:</span>
  <span class="hljs-comment">#å…³é—­å®šæ—¶ä»»åŠ¡JOB</span>
  <span class="hljs-attr">async-executor-activate:</span> <span class="hljs-literal">false</span>
  <span class="hljs-comment">#å°†databaseSchemaUpdateè®¾ç½®ä¸ºtrueã€‚å½“flowableå‘ç°åº“ä¸æ•°æ®åº“è¡¨ç»“æ„ä¸ä¸€è‡´æ—¶ï¼Œä¼šè‡ªåŠ¨å°†æ•°æ®åº“è¡¨ç»“æ„å‡çº§è‡³æ–°ç‰ˆæœ¬ã€‚</span>
  <span class="hljs-attr">database-schema-update:</span> <span class="hljs-literal">true</span>
  <span class="hljs-comment"># è‡ªåŠ¨éƒ¨ç½²éªŒè¯è®¾ç½®:true-å¼€å¯ï¼ˆé»˜è®¤ï¼‰ã€false-å…³é—­</span>
  <span class="hljs-attr">check-process-definitions:</span> <span class="hljs-literal">false</span>
  <span class="hljs-comment">#ä¿å­˜å†å²æ•°æ®çº§åˆ«è®¾ç½®ä¸ºfullæœ€é«˜çº§åˆ«ï¼Œä¾¿äºå†å²æ•°æ®çš„è¿½æº¯</span>
  <span class="hljs-attr">history-level:</span> <span class="hljs-string">full</span>
</code></pre>
<ul>
<li>åœ¨application-druid.ymlåœ¨urlæ·»åŠ nullCatalogMeansCurrent=true</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;db&gt;?useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;characterEncoding=utf8&amp;nullCatalogMeansCurrent=true</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">&lt;your_user&gt;</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">&lt;your_pass&gt;</span>

</code></pre>
<h2 data-id="heading-3">éªŒè¯Swaggeræ˜¯å¦åŠ è½½</h2>
<p>éšä¾¿åœ¨ruoyi-flowableå†™ä¸€ä¸ªcontrollerï¼ŒéªŒè¯èƒ½å¦åŠ è½½æˆåŠŸï¼</p>
<pre><code class="hljs language-bash" lang="bash">http://localhost:8080/swagger-ui/index.html
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c46309c681274af8879cb314029b1bf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luj56CB5qyh5L2N6Z2i:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766723359&amp;x-signature=pD8DmGgHkvIvozBbB2K1X6MSBqw%3D" alt="r3.png" loading="lazy"/></p>
<h2 data-id="heading-4">è‹¥ä¾å·¥ä½œæµ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96df552a271e405688e2ae734a1be3a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luj56CB5qyh5L2N6Z2i:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766723359&amp;x-signature=%2BgdiDGiNGHx%2BktS1fi4XfgELDhI%3D" alt="r4.png" loading="lazy"/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ruoyiflow.com" target="_blank" title="https://www.ruoyiflow.com" ref="nofollow noopener noreferrer">è‹¥ä¾å·¥ä½œæµ</a> æä¾›å¼€ç®±å³ç”¨çš„å·¥ä½œæµæºç è§£å†³æ–¹æ¡ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å‘¨åšäº†ä¸ªæ–‡ç« æ’ç‰ˆå·¥å…·ï¼Œåˆ†äº«ä¸‹å¦‚ä½•é«˜æ•ˆçœé’±ç”¨AIï¼]]></title>    <link>https://juejin.cn/post/7585406229150253094</link>    <guid>https://juejin.cn/post/7585406229150253094</guid>    <pubDate>2025-12-19T04:47:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585406229150253094" data-draft-id="7585289701793464346" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å‘¨åšäº†ä¸ªæ–‡ç« æ’ç‰ˆå·¥å…·ï¼Œåˆ†äº«ä¸‹å¦‚ä½•é«˜æ•ˆçœé’±ç”¨AIï¼"/> <meta itemprop="keywords" content="äº§å“,AIç¼–ç¨‹,Cursor"/> <meta itemprop="datePublished" content="2025-12-19T04:47:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸Šç­å¤šå–çƒ­æ°´"/> <meta itemprop="url" content="https://juejin.cn/user/2586468969632445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å‘¨åšäº†ä¸ªæ–‡ç« æ’ç‰ˆå·¥å…·ï¼Œåˆ†äº«ä¸‹å¦‚ä½•é«˜æ•ˆçœé’±ç”¨AIï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2586468969632445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸Šç­å¤šå–çƒ­æ°´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T04:47:32.000Z" title="Fri Dec 19 2025 04:47:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½æˆ‘æ˜¯å¤šå–çƒ­æ°´ï¼</p>
<p>æœ€è¿‘èŠ±ä¸€å‘¨æ—¶é—´ç”¨ AI å†™äº†ä¸ªå…¬ä¼—å·æ–‡ç« ã€å›¾æ–‡å¡ç‰‡è‡ªåŠ¨æ’ç‰ˆå·¥å…·ï¼</p>
<p>å¦‚å›¾ï¼Œæ•ˆæœè¿˜ä¸é”™å¯¹å§ï¼Œæ„Ÿå…´è¶£å¯ä»¥åœ¨è¿™é‡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fniubi.codecvcv.com" target="_blank" title="https://niubi.codecvcv.com" ref="nofollow noopener noreferrer">ä½“éªŒä¸€ä¸‹</a>ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bee092b98625463091aa467c91d4c0e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiK54-t5aSa5Zad54Ot5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766724451&amp;x-signature=yIqWdTsz%2FEC%2F%2F90cfRfKobmAFHk%3D" alt="ç‰›ç¬”AI - å…¬ä¼—å·æ’ç‰ˆåŠ©æ‰‹_å›¾æ–‡å¡ç‰‡ä¸€é”®ç”Ÿæˆ" loading="lazy"/></p>
<p>ç„¶åç®€å•è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆå»åšå®ƒï¼Ÿ</p>
<p>ä¸»è¦æ˜¯æºäºæˆ‘è‡ªå·±çš„ä¸€äº›éœ€æ±‚ï¼Œæˆ‘è‡ªå·±å¹³æ—¶ä¼šå†™ä¸€äº›æ–‡ç« ï¼Œæœ‰çš„éœ€è¦åšæˆå›¾æ–‡å¡ç‰‡ï¼Œå‘å¸ƒåœ¨æŸä¹¦ã€æœ‰çš„éœ€è¦åšæˆæ–‡å­—å†…å®¹å‘å¸ƒåœ¨å…¬ä¼—å·å’Œå…¶ä»–å¹³å°ï¼Œéœ€è¦åœ¨å„ä¸ªå¹³å°è·‘ï¼Œå¾ˆæ˜¯éº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘æƒ³æŠŠä»–ä»¬æ•´åˆä¸€ä¸‹ï¼Œå†™ä¸€ç¯‡æ–‡ç« å°±æå®šè¿™äº›ç´ æï¼</p>
<p>è¯´å¹²å°±å¹²ï¼æœ€ç»ˆèŠ±è´¹ä¸€å‘¨æ—¶é—´ï¼Œå°±æŠŠå®ƒè‚å‡ºæ¥äº†ï¼ŒåŒ…æ‹¬å‰ç«¯é¡µé¢å¼€å‘å’Œåç«¯æ¥å£ç¼–å†™ï¼Œè¿™æ¢åœ¨ä»¥å‰çœŸæ˜¯æƒ³éƒ½ä¸æ•¢æƒ³ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f00af2ff4a04536b452a73f3f9909e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiK54-t5aSa5Zad54Ot5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766724451&amp;x-signature=3C%2BGL%2FxQHJG2mPNHGOmoUKgEGKY%3D" alt="image.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥åˆ†äº«ä¸€äº›æˆ‘è‡ªå·±ä½¿ç”¨ AI ç¼–ç¨‹çš„ç»éªŒã€‚</p>
<h2 data-id="heading-0">å¦‚ä½•é«˜æ•ˆåˆçœé’±åœ°ç”¨AIï¼Ÿ</h2>
<h3 data-id="heading-1">AI Coding çš„é€‰æ‹©</h3>
<p>æˆ‘ç”¨è¿‡å¾ˆå¤š AI Coding å·¥å…·ï¼Œä½† Cursor ç»™æˆ‘çš„ä½“éªŒè¿˜æ˜¯æœ€å¥½çš„ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ˜¯æˆ‘çš„ä¸»åŠ›ç¼–è¾‘å™¨ï¼</p>
<p>å‰æ®µæ—¶é—´ Gemini3 å‘å¸ƒçš„æ—¶å€™ï¼ŒGoolge ä¹Ÿæ¨äº†ä¸€ä¸ª AI Coding ç¼–è¾‘å™¨ Antigravityï¼Œè™½ç„¶èƒ½å…è´¹ä½¿ç”¨ Gemini3 å’Œ Claude4.5 çš„ï¼Œä½†è¯´å®è¯æˆ‘ä½“éªŒä¸‹æ¥æ˜¯ä¸å¦‚ Cursor çš„ï¼Œè™½ç„¶ä½¿ç”¨çš„æ¨¡å‹ä¸€æ ·ï¼Œä½†æ˜¯æ•ˆæœå°±æ˜¯æ²¡æœ‰ Cursor é‚£ä¹ˆå¥½ï¼ŒCursor ä¾ç„¶æ˜¯ AI Coding é¢†åŸŸçš„å¤§å“¥ï¼</p>
<h3 data-id="heading-2">å†™ä»£ç å‰å…ˆè®© AI æ˜ç¡®éœ€æ±‚</h3>
<p>è¿™ä¸€æ­¥æˆ‘è®¤ä¸ºæ˜¯å¿…é¡»åšçš„ï¼Œåšå¥½äº†å¯ä»¥è®© AI å†™çš„ä»£ç ä¸€æ­¥åˆ°ä½ï¼ä½ éœ€è¦å……å½“çš„å°±æ˜¯ä¸€ä¸ªäº§å“ç»ç†çš„è§’è‰²ï¼ŒæŠŠä½ æƒ³è¦çš„åŠŸèƒ½æè¿°æ¸…æ¥šã€‚</p>
<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨ Cursor çš„ plan æ¨¡å¼ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ca197ce2bec4abbaa899499ce84cf55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiK54-t5aSa5Zad54Ot5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766724451&amp;x-signature=Aacc8vajLf1HlsjY2kp42ta7E9k%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœæœ‰ä¸æ‡‚çš„å®ƒè¿˜ä¼šç»§ç»­è¿½é—®ä½ ï¼Œå‘ä½ ç¡®è®¤æœ€ç»ˆçš„å®ç°æ–¹æ¡ˆï¼</p>
<p>è¿™æ · AI å†™å‡ºæ¥çš„ä»£ç ï¼Œ90% æ˜¯ç¬¦åˆè‡ªå·±çš„é¢„æœŸçš„ï¼Œå¦‚æœè¿™ä¸€æ­¥ä½ æ‡’å¾—å†™ï¼Œå¯èƒ½åç»­ä¿®ä¿®è¡¥è¡¥çš„èŠ±è´¹çš„ tokens æ›´å¤šï¼</p>
<h3 data-id="heading-3">å‹¤å¼€ä¼šè¯</h3>
<p>å½“æˆ‘ä»¬åšå®Œäº†ä¸€ä¸ªåŠŸèƒ½åï¼Œå¯ä»¥æ–°å¼€ä¸€ä¸ªä¼šè¯æ¥åšä¸‹ä¸€ä¸ªéœ€æ±‚ã€‚å¦‚æœä½ ä¸€ç›´åœ¨ä¸€ä¸ªä¼šè¯ä¸­å»å¼€å‘ï¼Œé‚£ tokens çˆ†ç‚¸ä¸è¯´ï¼Œè¿˜ä¼šç‰¹åˆ«æ…¢ï¼Œé’±åŒ…å±ã€‚</p>
<h3 data-id="heading-4">ä¸Šä¸‹æ–‡å‹ç¼©</h3>
<p>å¦‚æœä½ çœŸçš„æ”¹äº†å¾ˆä¹…éƒ½æ²¡æœ‰è¾¾åˆ°è‡ªå·±æƒ³è¦çš„æ•ˆæœï¼Œåˆä¸æƒ³æ–°å¼€ä¼šè¯é‡æ–°æè¿°éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ /summarize å‘½ä»¤æ¥å‹ç¼©ä¸Šä¸‹æ–‡ï¼ŒæŠŠä¸€äº›æ— å…³çš„ä¸Šä¸‹æ–‡ä¿¡æ¯éƒ½å‰”é™¤ï¼Œéå¸¸ç®¡ç”¨ï¼Œä¸€èˆ¬æˆ‘åˆ° 30% å·¦å³ä¸Šä¸‹æ–‡çš„æ—¶å€™å°±ä¼šå‹ç¼©ä¸€æ¬¡ï¼š</p>
<p>å‹ç¼©å‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c9d1faf79e34020bcb29a253e064063~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiK54-t5aSa5Zad54Ot5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766724451&amp;x-signature=BGvFp9Wz8xcS%2FNftrxuo5UG4nOE%3D" alt="image.png" loading="lazy"/></p>
<p>å‹ç¼©åï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7897dbbc0ff4408499f279058ebce63b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiK54-t5aSa5Zad54Ot5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766724451&amp;x-signature=YU8Zq2q7WOYpYHVY%2FjNGavXgFJA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">æ­£ç¡®é€‰æ‹©æ¨¡å‹</h3>
<p>ä¸è¦æ»¥ç”¨æ¨¡å‹ï¼Œä¸€äº›ç®€å•çš„éœ€æ±‚ç”¨ä¾¿å®œçš„æ¨¡å‹å³å¯ï¼Œå¤æ‚éœ€æ±‚ç”¨ Claude4.5 / Gemini3 Proã€‚</p>
<p>æ¯”å¦‚æœ‰æ—¶å€™å¤§æ¨¡å‹å†™çš„æ³¨é‡Šæ˜¯è‹±æ–‡çš„ï¼Œæˆ‘å¸Œæœ›å®ƒèƒ½ç¿»è¯‘ä¸ºä¸­æ–‡ï¼Œè¿™ç§æƒ…å†µç”¨ä¾¿å®œçš„æ¨¡å‹æ¥åšå°±è¡Œäº†ã€‚</p>
<p>ç”¨å¥½ä¸Šé¢çš„è¿™äº›æŠ€å·§ï¼Œè‡³å°‘èƒ½å¸®ä½ èŠ‚çœ 50% çš„é‡‘å¸ï¼Œå¤§å®¶å¦‚æœè¿˜æœ‰ä»€ä¹ˆå¥½ç”¨çš„æŠ€å·§ä¹Ÿæ¬¢è¿è¯„è®ºåŒºåˆ†äº«ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Linux æ—¥å¿—å¤„ç†ä¸‰å‰‘å®¢ï¼šgrepã€awkã€sed]]></title>    <link>https://juejin.cn/post/7585031025447960586</link>    <guid>https://juejin.cn/post/7585031025447960586</guid>    <pubDate>2025-12-19T02:41:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585031025447960586" data-draft-id="7585084491896700954" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Linux æ—¥å¿—å¤„ç†ä¸‰å‰‘å®¢ï¼šgrepã€awkã€sed "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T02:41:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Ray66"/> <meta itemprop="url" content="https://juejin.cn/user/3131851531368055"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Linux æ—¥å¿—å¤„ç†ä¸‰å‰‘å®¢ï¼šgrepã€awkã€sed 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3131851531368055/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Ray66
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T02:41:57.000Z" title="Fri Dec 19 2025 02:41:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“š å‘½ä»¤æ¦‚è¿°</h2>
<h3 data-id="heading-1">ğŸ” grep - å…¨å±€æ­£åˆ™è¡¨è¾¾å¼æ‰“å°å·¥å…·</h3>
<p><strong>å‘½ä»¤å…¨ç§°</strong>: Global Regular Expression Print<br/>
<strong>æ ¸å¿ƒä½œç”¨</strong>: åœ¨æ–‡ä»¶ä¸­æœç´¢åŒ¹é…æŒ‡å®šæ¨¡å¼çš„æ–‡æœ¬è¡Œ<br/>
<strong>ä¸»è¦ç”¨é€”</strong>:</p>
<ul>
<li>æŸ¥æ‰¾åŒ…å«ç‰¹å®šå…³é”®å­—çš„æ—¥å¿—è¡Œ</li>
<li>è¿‡æ»¤æ—¥å¿—å†…å®¹</li>
<li>ç»Ÿè®¡åŒ¹é…è¡Œæ•°</li>
<li>å®æ—¶ç›‘æ§æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>: grep æ˜¯"æŸ¥æ‰¾å™¨"ï¼Œç”¨äºå¿«é€Ÿå®šä½ä½ æƒ³è¦çš„å†…å®¹</p>
<hr/>
<h3 data-id="heading-2">ğŸ“Š awk - æ–‡æœ¬åˆ†æå·¥å…·</h3>
<p><strong>å‘½ä»¤å…¨ç§°</strong>: Aho, Weinberger, Kernighanï¼ˆä¸‰ä½åˆ›å§‹äººåå­—é¦–å­—æ¯ï¼‰<br/>
<strong>æ ¸å¿ƒä½œç”¨</strong>: æŒ‰è¡Œå¤„ç†æ–‡æœ¬ï¼ŒæŒ‰åˆ—æå–å’Œåˆ†ææ•°æ®<br/>
<strong>ä¸»è¦ç”¨é€”</strong>:</p>
<ul>
<li>æå–æ—¥å¿—ä¸­çš„ç‰¹å®šå­—æ®µï¼ˆå¦‚æ—¶é—´ã€IPã€çŠ¶æ€ç ï¼‰</li>
<li>ç»Ÿè®¡å’Œè®¡ç®—ï¼ˆå¦‚æ±‚å’Œã€å¹³å‡å€¼ã€è®¡æ•°ï¼‰</li>
<li>æ¡ä»¶è¿‡æ»¤å’Œæ ¼å¼åŒ–è¾“å‡º</li>
<li>å¤æ‚çš„æ–‡æœ¬æ•°æ®åˆ†æ</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>: awk æ˜¯"åˆ†æå™¨"ï¼Œæ“…é•¿å¤„ç†ç»“æ„åŒ–æ•°æ®å’Œç»Ÿè®¡è®¡ç®—</p>
<hr/>
<h3 data-id="heading-3">âœï¸ sed - æµç¼–è¾‘å™¨</h3>
<p><strong>å‘½ä»¤å…¨ç§°</strong>: Stream Editor<br/>
<strong>æ ¸å¿ƒä½œç”¨</strong>: å¯¹æ–‡æœ¬è¿›è¡Œæ‰¹é‡ç¼–è¾‘å’Œè½¬æ¢<br/>
<strong>ä¸»è¦ç”¨é€”</strong>:</p>
<ul>
<li>æ›¿æ¢æ–‡æœ¬å†…å®¹</li>
<li>åˆ é™¤ç‰¹å®šè¡Œ</li>
<li>æ’å…¥å’Œè¿½åŠ å†…å®¹</li>
<li>æå–æŒ‡å®šè¡Œ</li>
<li>æ‰¹é‡ä¿®æ”¹æ–‡ä»¶</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>: sed æ˜¯"ç¼–è¾‘å™¨"ï¼Œç”¨äºæ‰¹é‡ä¿®æ”¹å’Œå¤„ç†æ–‡æœ¬</p>
<h2 data-id="heading-4">ğŸ“– è¯¦ç»†ç”¨æ³•ä»‹ç»</h2>
<h2 data-id="heading-5">ä¸€ã€grep - æ–‡æœ¬æœç´¢å‘½ä»¤</h2>
<h3 data-id="heading-6">ğŸ¯ grep æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>grep æ˜¯ Linux ä¸­æœ€å¸¸ç”¨çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½åœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾åŒ…å«æŒ‡å®šæ¨¡å¼çš„è¡Œï¼Œå¹¶å°†è¿™äº›è¡Œè¾“å‡ºã€‚å°±åƒåœ¨ä¹¦ä¸­ç”¨è§å…‰ç¬”æ ‡è®°å…³é”®å­—ä¸€æ ·ï¼Œgrep å¸®ä½ å¿«é€Ÿæ‰¾åˆ°æ—¥å¿—ä¸­çš„é‡è¦ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-7">ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦ grepï¼Ÿ</h3>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ—¥å¿—æ–‡ä»¶é€šå¸¸æœ‰å‡ åä¸‡ç”šè‡³ä¸Šç™¾ä¸‡è¡Œï¼Œæ‰‹åŠ¨æŸ¥æ‰¾å‡ ä¹ä¸å¯èƒ½ã€‚grep å¯ä»¥åœ¨å‡ ç§’å†…ä»æµ·é‡æ—¥å¿—ä¸­æ‰¾åˆ°ä½ éœ€è¦çš„é”™è¯¯ä¿¡æ¯ã€å¼‚å¸¸å †æ ˆæˆ–ç‰¹å®šäº‹ä»¶ã€‚</p>
<hr/>
<h3 data-id="heading-8">ğŸ“‹ grep å¸¸è§ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-9"><strong>åœºæ™¯ä¸€ï¼šæŸ¥çœ‹å®Œæ•´å¼‚å¸¸å †æ ˆ</strong></h4>
<p><strong>é—®é¢˜</strong>: Java å¼‚å¸¸å †æ ˆé€šå¸¸æ˜¯å¤šè¡Œçš„ï¼Œåªçœ‹ä¸€è¡Œçœ‹ä¸åˆ°å®Œæ•´ä¿¡æ¯</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ˜¾ç¤ºåŒ¹é…è¡ŒåŠå…¶å 50 è¡Œ</span>
<span class="hljs-keyword">grep</span> -A <span class="hljs-number">50</span> <span class="hljs-string">"java.lang.NullPointerException"</span> a.log


<span class="hljs-comment"># ç»“åˆ less åˆ†é¡µæŸ¥çœ‹</span>
<span class="hljs-keyword">grep</span> -A <span class="hljs-number">50</span> <span class="hljs-string">"java.lang.NullPointerException"</span> a.log | less
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li>
<p><code>-A N</code> å‚æ•°ï¼šæ˜¾ç¤ºåŒ¹é…è¡Œ<strong>ä¹‹å</strong>çš„ N è¡Œï¼ˆAfterï¼‰</p>
</li>
<li>
<p>å¼‚å¸¸å †æ ˆé€šå¸¸éœ€è¦çœ‹åç»­ 20-50 è¡Œæ‰èƒ½æ‰¾åˆ°æ ¹æœ¬åŸå› </p>
</li>
<li>
<p><code>less</code> å‘½ä»¤ç”¨äºåˆ†é¡µæŸ¥çœ‹ï¼š</p>
<ul>
<li><code>â†‘â†“</code> é”®æ»šåŠ¨</li>
<li><code>G</code> è·³åˆ°æœ«å°¾</li>
<li><code>q</code> é€€å‡º</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-10"><strong>åœºæ™¯äºŒï¼šå®æ—¶ç›‘æ§æ–°æ—¥å¿—</strong></h4>
<p><strong>é—®é¢˜</strong>: éœ€è¦å®æ—¶è§‚å¯Ÿçº¿ä¸ŠæœåŠ¡æ˜¯å¦å‡ºç°é”™è¯¯</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®æ—¶ç›‘æ§å¹¶æ˜¾ç¤ºå¼‚å¸¸åŠåç»­ 50 è¡Œ</span>
<span class="hljs-built_in">tail</span> -f a.log | grep -A 50 <span class="hljs-string">"java.lang.NullPointerException"</span>


<span class="hljs-comment"># å¿½ç•¥å¤§å°å†™å®æ—¶ç›‘æ§</span>
<span class="hljs-built_in">tail</span> -f a.log | grep -i -A 50 <span class="hljs-string">"error"</span>
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>tail -f</code>ï¼šå®æ—¶è¿½è¸ªæ–‡ä»¶æ–°å¢å†…å®¹</li>
<li>ç»“åˆ <code>grep</code> è¿‡æ»¤å…³é”®å¼‚å¸¸</li>
<li><code>Ctrl + C</code> åœæ­¢ç›‘æ§</li>
<li><code>-i</code> å‚æ•°å¿½ç•¥å¤§å°å†™</li>
</ul>
<hr/>
<h4 data-id="heading-11"><strong>åœºæ™¯ä¸‰ï¼šæŸ¥æ‰¾å†å²/å‹ç¼©æ—¥å¿—</strong></h4>
<p><strong>é—®é¢˜</strong>: éœ€è¦åœ¨å¤šä¸ªæ—¥å¿—æ–‡ä»¶æˆ–å‹ç¼©æ—¥å¿—ä¸­æŸ¥æ‰¾é—®é¢˜</p>
<p><strong>æŸ¥æ‰¾æ‰€æœ‰ .log æ–‡ä»¶</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -H å‚æ•°æ˜¾ç¤ºæ–‡ä»¶å</span>
grep -H -A 50 <span class="hljs-string">"java.lang.NullPointerException"</span> *.<span class="hljs-built_in">log</span>
</code></pre>
<p><strong>æŸ¥æ‰¾å‹ç¼©æ—¥å¿— (.gz)â€‹</strong>:</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta"># zgrep ç›´æ¥å¤„ç† .gz æ–‡ä»¶ï¼Œæ— éœ€è§£å‹</span>
zgrep -H -A <span class="hljs-number">50</span> <span class="hljs-string">"java.lang.NullPointerException"</span> *.gz
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>-H</code> å‚æ•°ï¼šæ˜¾ç¤ºåŒ¹é…å†…å®¹æ‰€åœ¨çš„æ–‡ä»¶å</li>
<li><code>zgrep</code>ï¼šä¸“é—¨å¤„ç†å‹ç¼©æ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨è§£å‹</li>
<li><code>*.log</code> å’Œ <code>*.gz</code>ï¼šé€šé…ç¬¦åŒ¹é…æ‰€æœ‰ç›¸å…³æ–‡ä»¶</li>
</ul>
<hr/>
<h4 data-id="heading-12"><strong>åœºæ™¯å››ï¼šç»Ÿè®¡å¼‚å¸¸å‡ºç°æ¬¡æ•°</strong></h4>
<p><strong>é—®é¢˜</strong>: åˆ¤æ–­å¼‚å¸¸æ˜¯å¶å‘è¿˜æ˜¯é¢‘ç¹å‘ç”Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ç»Ÿè®¡å•ä¸ªæ–‡ä»¶</span>
<span class="hljs-keyword">grep</span> -c <span class="hljs-string">"java.lang.NullPointerException"</span> a.log


<span class="hljs-comment"># ç»Ÿè®¡æ‰€æœ‰æ—¥å¿—æ–‡ä»¶</span>
<span class="hljs-keyword">grep</span> -c <span class="hljs-string">"java.lang.NullPointerException"</span> *.log
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-c" lang="c">app.<span class="hljs-built_in">log</span>:<span class="hljs-number">15</span>
app.<span class="hljs-built_in">log</span><span class="hljs-number">.1</span>:<span class="hljs-number">3</span>
app.<span class="hljs-built_in">log</span><span class="hljs-number">.2</span>:<span class="hljs-number">0</span>
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>-c</code> å‚æ•°ï¼šåªæ˜¾ç¤ºåŒ¹é…è¡Œçš„æ•°é‡ï¼Œä¸æ˜¾ç¤ºå†…å®¹</li>
<li>å¿«é€Ÿåˆ¤æ–­é—®é¢˜ä¸¥é‡ç¨‹åº¦</li>
</ul>
<hr/>
<h3 data-id="heading-13">ğŸ“Š grep å‚æ•°é€ŸæŸ¥è¡¨</h3>




















































































<table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>-A N</code></td><td>After</td><td>æ˜¾ç¤ºåŒ¹é…è¡Œ<strong>ä¹‹å</strong>çš„ N è¡Œ</td><td><code>grep -A 10 "error" log</code></td></tr><tr><td><code>-B N</code></td><td>Before</td><td>æ˜¾ç¤ºåŒ¹é…è¡Œ<strong>ä¹‹å‰</strong>çš„ N è¡Œ</td><td><code>grep -B 5 "error" log</code></td></tr><tr><td><code>-C N</code></td><td>Context</td><td>æ˜¾ç¤ºåŒ¹é…è¡Œ<strong>ä¸Šä¸‹å„</strong> N è¡Œ</td><td><code>grep -C 25 "error" log</code></td></tr><tr><td><code>-i</code></td><td>ignore case</td><td>å¿½ç•¥å¤§å°å†™</td><td><code>grep -i "ERROR" log</code></td></tr><tr><td><code>-v</code></td><td>invert</td><td>åå‘åŒ¹é…ï¼ˆä¸åŒ…å«ï¼‰</td><td><code>grep -v "DEBUG" log</code></td></tr><tr><td><code>-H</code></td><td>with filename</td><td>æ˜¾ç¤ºåŒ¹é…çš„æ–‡ä»¶å</td><td><code>grep -H "error" *.log</code></td></tr><tr><td><code>-h</code></td><td>no filename</td><td>ä¸æ˜¾ç¤ºæ–‡ä»¶å</td><td><code>grep -h "error" *.log</code></td></tr><tr><td><code>-c</code></td><td>count</td><td>ç»Ÿè®¡åŒ¹é…è¡Œæ•°</td><td><code>grep -c "error" log</code></td></tr><tr><td><code>-n</code></td><td>line number</td><td>æ˜¾ç¤ºè¡Œå·</td><td><code>grep -n "error" log</code></td></tr><tr><td><code>-r</code></td><td>recursive</td><td>é€’å½’æœç´¢ç›®å½•</td><td><code>grep -r "error" /logs/</code></td></tr><tr><td><code>-E</code></td><td>extended regex</td><td>ä½¿ç”¨æ‰©å±•æ­£åˆ™</td><td>`grep -E "error</td><td>warn" log`</td></tr><tr><td><code>-w</code></td><td>word</td><td>å®Œæ•´å•è¯åŒ¹é…</td><td><code>grep -w "error" log</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-14">ğŸ’¡ grep å®æˆ˜æŠ€å·§</h3>
<ol>
<li><strong>çœ‹å¼‚å¸¸å¿…é¡»ç”¨ <code>-A</code>â€‹</strong> - å•è¡Œçœ‹ä¸åˆ°å®Œæ•´å †æ ˆä¿¡æ¯</li>
<li><strong>å®æ—¶ç›‘æ§ç”¨ <code>tail -f | grep</code>â€‹</strong> - ç¬¬ä¸€æ—¶é—´å‘ç°é—®é¢˜</li>
<li><strong>å‹ç¼©æ—¥å¿—ç”¨ <code>zgrep</code>â€‹</strong> - çœæ—¶çœåŠ›ï¼Œæ— éœ€è§£å‹</li>
<li><strong>æ‰¹é‡æŸ¥æ‰¾åŠ  <code>-H</code>â€‹</strong> - çŸ¥é“æ˜¯å“ªä¸ªæ–‡ä»¶å‡ºçš„é—®é¢˜</li>
<li><strong>ç»Ÿè®¡é¢‘ç‡ç”¨ <code>-c</code>â€‹</strong> - åˆ¤æ–­é—®é¢˜ä¸¥é‡ç¨‹åº¦</li>
<li><strong>ç»„åˆä½¿ç”¨ <code>-A -B -C</code>â€‹</strong> - æŸ¥çœ‹å®Œæ•´ä¸Šä¸‹æ–‡</li>
</ol>
<hr/>
<h2 data-id="heading-15">äºŒã€awk - æ–‡æœ¬åˆ†æå‘½ä»¤</h2>
<h3 data-id="heading-16">ğŸ¯ awk æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>awk æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼Œå®ƒæŠŠæ¯ä¸€è¡Œçœ‹ä½œä¸€æ¡è®°å½•ï¼ŒæŠŠæ¯ä¸€åˆ—çœ‹ä½œä¸€ä¸ªå­—æ®µã€‚å°±åƒ Excel å¤„ç†è¡¨æ ¼æ•°æ®ä¸€æ ·ï¼Œawk å¯ä»¥æå–ã€è®¡ç®—ã€ç»Ÿè®¡æ—¥å¿—ä¸­çš„ç»“æ„åŒ–æ•°æ®ã€‚</p>
<h3 data-id="heading-17">ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦ awkï¼Ÿ</h3>
<p>æ—¥å¿—é€šå¸¸æ˜¯ç»“æ„åŒ–çš„ï¼ˆå¦‚ï¼šæ—¶é—´ | IP | çŠ¶æ€ç  | å“åº”æ—¶é—´ï¼‰ï¼Œå½“ä½ éœ€è¦ï¼š</p>
<ul>
<li>åªçœ‹æŸå‡ åˆ—æ•°æ®</li>
<li>ç»Ÿè®¡æŸä¸ªå­—æ®µçš„æ€»å’Œæˆ–å¹³å‡å€¼</li>
<li>æ ¹æ®æ¡ä»¶è¿‡æ»¤æ•°æ®</li>
<li>è¿›è¡Œå¤æ‚çš„æ•°æ®åˆ†æ</li>
</ul>
<p>è¿™æ—¶ awk å°±æ˜¯æœ€ä½³é€‰æ‹©ï¼</p>
<hr/>
<h3 data-id="heading-18">ğŸ“‹ awk åŸºæœ¬æ¦‚å¿µ</h3>
<p><strong>awk å¦‚ä½•çœ‹å¾…æ–‡æœ¬</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">2025-12-19 10:30:15 192.168.1.100 GET /api/user 200 150ms
    <span class="hljs-variable">$1</span>         <span class="hljs-variable">$2</span>        <span class="hljs-variable">$3</span>        <span class="hljs-variable">$4</span>    <span class="hljs-variable">$5</span>     <span class="hljs-variable">$6</span>  <span class="hljs-variable">$7</span>
   å­—æ®µ1     å­—æ®µ2     å­—æ®µ3    å­—æ®µ4  å­—æ®µ5  å­—æ®µ6 å­—æ®µ7
</code></pre>
<p><strong>awk çš„å·¥ä½œæµç¨‹</strong>:</p>
<ol>
<li>è¯»å–ä¸€è¡Œ</li>
<li>æŒ‰åˆ†éš”ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼/tabï¼‰åˆ†å‰²æˆå­—æ®µ</li>
<li>å¯¹å­—æ®µè¿›è¡Œå¤„ç†</li>
<li>è¾“å‡ºç»“æœ</li>
<li>ç»§ç»­ä¸‹ä¸€è¡Œ</li>
</ol>
<hr/>
<h3 data-id="heading-19">ğŸ“‹ awk å¸¸è§ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-20"><strong>åœºæ™¯ä¸€ï¼šæå–ç‰¹å®šåˆ—</strong></h4>
<p><strong>é—®é¢˜</strong>: åªæƒ³çœ‹æ—¥å¿—ä¸­çš„æ—¶é—´å’Œé”™è¯¯ä¿¡æ¯</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-dart" lang="dart"># æå–ç¬¬<span class="hljs-number">1</span>åˆ—ï¼ˆæ—¶é—´ï¼‰å’Œç¬¬<span class="hljs-number">5</span>åˆ—ï¼ˆé”™è¯¯ä¿¡æ¯ï¼‰
awk <span class="hljs-string">'{print <span class="hljs-subst">$1</span>, <span class="hljs-subst">$5</span>}'</span> app.log


# æå–åŒ…å«ERRORçš„è¡Œçš„ç‰¹å®šå­—æ®µ
awk <span class="hljs-string">'/ERROR/ {print <span class="hljs-subst">$1</span>, <span class="hljs-subst">$2</span>, <span class="hljs-subst">$NF</span>}'</span> app.log


# æå–ç¬¬ä¸€åˆ—å’Œæœ€åä¸€åˆ—
awk <span class="hljs-string">'{print <span class="hljs-subst">$1</span>, <span class="hljs-subst">$NF</span>}'</span> app.log
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-number">2025-12-19 </span><span class="hljs-string">NullPointerException</span>
<span class="hljs-number">2025-12-19 </span><span class="hljs-string">TimeoutException</span>
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>$1, $2, $3...</code>ï¼šè¡¨ç¤ºç¬¬1ã€2ã€3åˆ—</li>
<li><code>$NF</code>ï¼šè¡¨ç¤ºæœ€åä¸€åˆ—ï¼ˆNumber of Fieldsï¼‰</li>
<li><code>$0</code>ï¼šè¡¨ç¤ºæ•´è¡Œå†…å®¹</li>
</ul>
<hr/>
<h4 data-id="heading-21"><strong>åœºæ™¯äºŒï¼šç»Ÿè®¡åˆ†æ</strong></h4>
<p><strong>é—®é¢˜</strong>: ç»Ÿè®¡å„çŠ¶æ€ç å‡ºç°æ¬¡æ•°ã€è®¡ç®—å¹³å‡å“åº”æ—¶é—´</p>
<p><strong>ç»Ÿè®¡çŠ¶æ€ç å‡ºç°æ¬¡æ•°</strong>:</p>
<pre><code class="hljs language-css" lang="css"># å‡è®¾çŠ¶æ€ç åœ¨ç¬¬<span class="hljs-number">9</span>åˆ—
awk '{count<span class="hljs-selector-attr">[$9]</span>++} END {for(<span class="hljs-selector-tag">code</span> in count) print <span class="hljs-selector-tag">code</span>, count<span class="hljs-selector-attr">[code]</span>}' access<span class="hljs-selector-class">.log</span>
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>:</p>
<pre><code class="hljs">200 15234
404 89
500 23
</code></pre>
<p><strong>è®¡ç®—å“åº”æ—¶é—´ç»Ÿè®¡</strong>:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># å‡è®¾å“åº”æ—¶é—´åœ¨ç¬¬10åˆ—</span>
awk '{sum+=$10; count++} END {print <span class="hljs-string">"æ€»è®¡:"</span>, sum, <span class="hljs-string">"å¹³å‡:"</span>, sum/count}' access.log
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ€»è®¡: 125000 å¹³å‡: 250</span>
</code></pre>
<p><strong>ç»Ÿè®¡ IP è®¿é—®æ¬¡æ•° TOP 10</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¬¬1åˆ—æ˜¯IP</span>
awk <span class="hljs-string">'{ip[$1]++} END {for(i in ip) print ip[i], i}'</span> access.log | <span class="hljs-built_in">sort</span> -rn | <span class="hljs-built_in">head</span> -10
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-number">1523 </span><span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
<span class="hljs-number">892</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.101</span>
<span class="hljs-number">456</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.102</span>
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>count[$9]++</code>ï¼šä½¿ç”¨å…³è”æ•°ç»„ç»Ÿè®¡</li>
<li><code>END {}</code>ï¼šæ‰€æœ‰è¡Œå¤„ç†å®Œåæ‰§è¡Œ</li>
<li><code>sum+=</code>ï¼šç´¯åŠ è®¡ç®—</li>
</ul>
<hr/>
<h4 data-id="heading-22"><strong>åœºæ™¯ä¸‰ï¼šæ¡ä»¶è¿‡æ»¤</strong></h4>
<p><strong>é—®é¢˜</strong>: åªçœ‹å“åº”æ—¶é—´è¶…è¿‡1ç§’çš„è¯·æ±‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-dart" lang="dart"># æ˜¾ç¤ºå“åº”æ—¶é—´å¤§äº<span class="hljs-number">1000</span>msçš„è¯·æ±‚
awk <span class="hljs-string">'<span class="hljs-subst">$10</span> &gt; 1000 {print <span class="hljs-subst">$0</span>}'</span> access.log


# æ˜¾ç¤ºç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—
awk <span class="hljs-string">'<span class="hljs-subst">$1</span> &gt;= "2025-12-19 10:00:00" &amp;&amp; <span class="hljs-subst">$1</span> &lt;= "2025-12-19 11:00:00"'</span> app.log


# æ˜¾ç¤ºçŠ¶æ€ç ä¸º<span class="hljs-number">5</span>xxçš„é”™è¯¯
awk <span class="hljs-string">'<span class="hljs-subst">$9</span> ~ /^5/ {print <span class="hljs-subst">$0</span>}'</span> access.log


# æ˜¾ç¤ºçŠ¶æ€ç ä¸æ˜¯<span class="hljs-number">200</span>çš„è¯·æ±‚
awk <span class="hljs-string">'<span class="hljs-subst">$9</span> != 200 {print <span class="hljs-subst">$0</span>}'</span> access.log
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>$10 &gt; 1000</code>ï¼šæ•°å€¼æ¯”è¾ƒ</li>
<li><code>$1 &gt;= "xxx" &amp;&amp; $1 &lt;= "yyy"</code>ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—</li>
<li><code>$9 ~ /^5/</code>ï¼šæ­£åˆ™åŒ¹é…ï¼ˆä»¥5å¼€å¤´ï¼‰</li>
<li><code>!=</code>ï¼šä¸ç­‰äº</li>
</ul>
<hr/>
<h4 data-id="heading-23"><strong>åœºæ™¯å››ï¼šæ ¼å¼åŒ–è¾“å‡º</strong></h4>
<p><strong>é—®é¢˜</strong>: è®©è¾“å‡ºæ›´æ˜“è¯»ï¼Œæ·»åŠ è¡¨å¤´å’Œæ ¼å¼</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-swift" lang="swift"># æ ¼å¼åŒ–è¾“å‡ºï¼Œæ·»åŠ è¡¨å¤´
awk '<span class="hljs-type">BEGIN</span> {print <span class="hljs-string">"æ—¶é—´<span class="hljs-subst">\t</span><span class="hljs-subst">\t</span><span class="hljs-subst">\t</span>çŠ¶æ€ç <span class="hljs-subst">\t</span>å“åº”æ—¶é—´"</span>} 
     {printf <span class="hljs-string">"%s<span class="hljs-subst">\t</span>%s<span class="hljs-subst">\t</span>%s<span class="hljs-subst">\n</span>"</span>, <span class="hljs-variable">$1</span>, <span class="hljs-variable">$9</span>, <span class="hljs-variable">$10</span>}' access.log


# è®¡ç®—å¹¶æ ¼å¼åŒ–è¾“å‡ºç™¾åˆ†æ¯”
awk '{total<span class="hljs-operator">++</span>; <span class="hljs-keyword">if</span>(<span class="hljs-variable">$9</span><span class="hljs-operator">==</span><span class="hljs-string">"200"</span>) success<span class="hljs-operator">++</span>} 
     <span class="hljs-type">END</span> {printf <span class="hljs-string">"æˆåŠŸç‡: %.2f%%<span class="hljs-subst">\n</span>"</span>, (success<span class="hljs-operator">/</span>total)<span class="hljs-operator">*</span><span class="hljs-number">100</span>}' access.log


# æ·»åŠ è¡Œå·
awk '{print <span class="hljs-type">NR</span>, <span class="hljs-variable">$0</span>}' app.log
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">æ—¶é—´</span>			<span class="hljs-string">çŠ¶æ€ç </span>	<span class="hljs-string">å“åº”æ—¶é—´</span>
<span class="hljs-number">2025-12-19	</span><span class="hljs-number">200</span>	<span class="hljs-number">150</span>
<span class="hljs-number">2025-12-19	</span><span class="hljs-number">404</span>	<span class="hljs-number">50</span>
<span class="hljs-string">æˆåŠŸç‡:</span> <span class="hljs-number">98.50</span><span class="hljs-string">%</span>
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>BEGIN {}</code>ï¼šå¤„ç†ç¬¬ä¸€è¡Œä¹‹å‰æ‰§è¡Œ</li>
<li><code>printf</code>ï¼šæ ¼å¼åŒ–è¾“å‡ºï¼ˆç±»ä¼¼Cè¯­è¨€ï¼‰</li>
<li><code>%.2f</code>ï¼šä¿ç•™ä¸¤ä½å°æ•°</li>
<li><code>NR</code>ï¼šå½“å‰è¡Œå·</li>
</ul>
<hr/>
<h3 data-id="heading-24">ğŸ“Š awk å†…ç½®å˜é‡é€ŸæŸ¥è¡¨</h3>





















































<table><thead><tr><th>å˜é‡</th><th>å«ä¹‰</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>$0</code></td><td>æ•´è¡Œå†…å®¹</td><td>å½“å‰å¤„ç†çš„æ•´è¡Œ</td><td><code>awk '{print $0}'</code></td></tr><tr><td><code>$1, $2, $n</code></td><td>ç¬¬nä¸ªå­—æ®µ</td><td>æŒ‰åˆ†éš”ç¬¦åˆ†å‰²çš„å­—æ®µ</td><td><code>awk '{print $1, $3}'</code></td></tr><tr><td><code>$NF</code></td><td>æœ€åä¸€ä¸ªå­—æ®µ</td><td>Number of Fields</td><td><code>awk '{print $NF}'</code></td></tr><tr><td><code>NR</code></td><td>è¡Œå·</td><td>Number of Records</td><td><code>awk 'NR==10 {print $0}'</code></td></tr><tr><td><code>NF</code></td><td>å­—æ®µæ•°</td><td>å½“å‰è¡Œæœ‰å¤šå°‘åˆ—</td><td><code>awk '{print NF}'</code></td></tr><tr><td><code>FS</code></td><td>å­—æ®µåˆ†éš”ç¬¦</td><td>Field Separatorï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰</td><td><code>awk 'BEGIN{FS=","}'</code></td></tr><tr><td><code>OFS</code></td><td>è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦</td><td>Output Field Separator</td><td><code>awk 'BEGIN{OFS="\t"}'</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-25">ğŸ“Š awk å¸¸ç”¨å‚æ•°å’Œæ“ä½œç¬¦</h3>






















































<table><thead><tr><th>å‚æ•°/æ“ä½œç¬¦</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>-F</code></td><td>æŒ‡å®šå­—æ®µåˆ†éš”ç¬¦</td><td><code>awk -F',' '{print $1}'</code></td></tr><tr><td><code>~</code></td><td>æ­£åˆ™åŒ¹é…</td><td><code>awk '$0 ~ /ERROR/'</code></td></tr><tr><td><code>!~</code></td><td>æ­£åˆ™ä¸åŒ¹é…</td><td><code>awk '$0 !~ /DEBUG/'</code></td></tr><tr><td><code>==</code></td><td>ç­‰äº</td><td><code>awk '$1 == "200"'</code></td></tr><tr><td><code>!=</code></td><td>ä¸ç­‰äº</td><td><code>awk '$1 != "200"'</code></td></tr><tr><td><code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code></td><td>å¤§å°æ¯”è¾ƒ</td><td><code>awk '$10 &gt; 1000'</code></td></tr><tr><td><code>&amp;&amp;</code></td><td>é€»è¾‘ä¸</td><td><code>awk '$1==200 &amp;&amp; $2&gt;100'</code></td></tr><tr><td>`</td><td/><td>`</td><td>é€»è¾‘æˆ–</td><td>`awk '$1==200</td><td/><td>$1==201'`</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-26">ğŸ’¡ awk å®æˆ˜æŠ€å·§</h3>
<ol>
<li>
<p><strong>æŒ‡å®šåˆ†éš”ç¬¦</strong>: æ—¥å¿—ä¸æ˜¯ç©ºæ ¼åˆ†éš”æ—¶ç”¨ <code>-F</code></p>
<pre><code class="hljs language-bash" lang="bash">awk -F<span class="hljs-string">','</span> <span class="hljs-string">'{print $1}'</span>  <span class="hljs-comment"># CSVæ–‡ä»¶</span>
awk -F<span class="hljs-string">':'</span> <span class="hljs-string">'{print $1}'</span>  <span class="hljs-comment"># å†’å·åˆ†éš”</span>
</code></pre>
</li>
<li>
<p><strong>å¤šæ¡ä»¶è¿‡æ»¤</strong>: ä½¿ç”¨ <code>&amp;&amp;</code> å’Œ <code>||</code></p>
<pre><code class="hljs language-dart" lang="dart">awk <span class="hljs-string">'<span class="hljs-subst">$9</span>==200 &amp;&amp; <span class="hljs-subst">$10</span>&gt;1000 {print <span class="hljs-subst">$0</span>}'</span>
</code></pre>
</li>
<li>
<p><strong>ç»Ÿè®¡å»é‡</strong>: ä½¿ç”¨å…³è”æ•°ç»„</p>
<pre><code class="hljs language-scss" lang="scss">awk '{arr<span class="hljs-selector-attr">[$1]</span>++} END {print <span class="hljs-built_in">length</span>(arr)}'  # ç»Ÿè®¡å”¯ä¸€IPæ•°
</code></pre>
</li>
<li>
<p><strong>BEGIN å’Œ END</strong>:</p>
<ul>
<li><code>BEGIN</code>ï¼šå¤„ç†æ•°æ®å‰æ‰§è¡Œï¼ˆè®¾ç½®å˜é‡ã€æ‰“å°è¡¨å¤´ï¼‰</li>
<li><code>END</code>ï¼šå¤„ç†æ•°æ®åæ‰§è¡Œï¼ˆæ‰“å°ç»Ÿè®¡ç»“æœï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ ¼å¼åŒ–è¾“å‡º</strong>: ä½¿ç”¨ <code>printf</code> è€Œä¸æ˜¯ <code>print</code></p>
<pre><code class="hljs language-swift" lang="swift">awk '{printf <span class="hljs-string">"%-20s %10d<span class="hljs-subst">\n</span>"</span>, <span class="hljs-variable">$1</span>, <span class="hljs-variable">$2</span>}'
</code></pre>
</li>
</ol>
<hr/>
<h2 data-id="heading-27">ä¸‰ã€sed - æµç¼–è¾‘å‘½ä»¤</h2>
<h3 data-id="heading-28">ğŸ¯ sed æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>sed æ˜¯ä¸€ä¸ªæµç¼–è¾‘å™¨ï¼ˆStream Editorï¼‰ï¼Œå®ƒå¯ä»¥å¯¹æ–‡æœ¬è¿›è¡Œæ‰¹é‡ç¼–è¾‘æ“ä½œã€‚å°±åƒ Word çš„"æŸ¥æ‰¾æ›¿æ¢"åŠŸèƒ½ï¼Œä½† sed æ›´å¼ºå¤§ï¼Œå¯ä»¥å¤„ç†æ•´ä¸ªæ–‡ä»¶æˆ–å¤šä¸ªæ–‡ä»¶ï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿˜èƒ½åˆ é™¤ã€æ’å…¥ã€æå–è¡Œã€‚</p>
<h3 data-id="heading-29">ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦ sedï¼Ÿ</h3>
<p>å½“ä½ éœ€è¦ï¼š</p>
<ul>
<li>æ‰¹é‡æ›¿æ¢æ—¥å¿—ä¸­çš„æ•æ„Ÿä¿¡æ¯</li>
<li>åˆ é™¤è°ƒè¯•æ—¥å¿—ï¼ˆDEBUG è¡Œï¼‰</li>
<li>æå–ç‰¹å®šè¡Œå·æˆ–åŒ¹é…çš„è¡Œ</li>
<li>åœ¨ç‰¹å®šä½ç½®æ’å…¥å†…å®¹</li>
<li>ä¸æ‰“å¼€æ–‡ä»¶å°±èƒ½ä¿®æ”¹å†…å®¹</li>
</ul>
<p>è¿™æ—¶ sed å°±æ˜¯æœ€ä½³å·¥å…·ï¼</p>
<hr/>
<h3 data-id="heading-30">ğŸ“‹ sed åŸºæœ¬æ¦‚å¿µ</h3>
<p><strong>sed çš„å·¥ä½œæµç¨‹</strong>:</p>
<ol>
<li>è¯»å–ä¸€è¡Œåˆ°æ¨¡å¼ç©ºé—´ï¼ˆPattern Spaceï¼‰</li>
<li>æ‰§è¡Œç¼–è¾‘å‘½ä»¤</li>
<li>è¾“å‡ºç»“æœåˆ°æ ‡å‡†è¾“å‡º</li>
<li>ç»§ç»­ä¸‹ä¸€è¡Œ</li>
</ol>
<p><strong>sed å‘½ä»¤æ ¼å¼</strong>:</p>
<pre><code class="hljs language-arduino" lang="arduino">sed [é€‰é¡¹] <span class="hljs-string">'å‘½ä»¤'</span> æ–‡ä»¶
sed [é€‰é¡¹] -e <span class="hljs-string">'å‘½ä»¤1'</span> -e <span class="hljs-string">'å‘½ä»¤2'</span> æ–‡ä»¶
</code></pre>
<hr/>
<h3 data-id="heading-31">ğŸ“‹ sed å¸¸è§ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-32"><strong>åœºæ™¯ä¸€ï¼šå†…å®¹æ›¿æ¢ï¼ˆæœ€å¸¸ç”¨ï¼‰â€‹</strong></h4>
<p><strong>é—®é¢˜</strong>: éœ€è¦æ‰¹é‡æ›¿æ¢æ—¥å¿—ä¸­çš„æ–‡æœ¬</p>
<p><strong>åŸºæœ¬æ›¿æ¢</strong>:</p>
<pre><code class="hljs language-c" lang="c"># æ›¿æ¢æ¯è¡Œç¬¬ä¸€ä¸ªERRORä¸º[é”™è¯¯]
sed <span class="hljs-string">'s/ERROR/[é”™è¯¯]/'</span> app.<span class="hljs-built_in">log</span>


# å…¨å±€æ›¿æ¢ï¼ˆæ›¿æ¢æ‰€æœ‰ï¼Œä¸åªæ˜¯ç¬¬ä¸€ä¸ªï¼‰
sed <span class="hljs-string">'s/ERROR/[é”™è¯¯]/g'</span> app.<span class="hljs-built_in">log</span>


# æ›¿æ¢å¹¶ä¿å­˜åˆ°æ–°æ–‡ä»¶
sed <span class="hljs-string">'s/ERROR/[é”™è¯¯]/g'</span> app.<span class="hljs-built_in">log</span> &gt; app_new.<span class="hljs-built_in">log</span>


# ç›´æ¥ä¿®æ”¹åŸæ–‡ä»¶ï¼ˆè°¨æ…ä½¿ç”¨ï¼ï¼‰
sed -i <span class="hljs-string">'s/ERROR/[é”™è¯¯]/g'</span> app.<span class="hljs-built_in">log</span>


# ä¿®æ”¹å‰å¤‡ä»½åŸæ–‡ä»¶
sed -i.bak <span class="hljs-string">'s/ERROR/[é”™è¯¯]/g'</span> app.<span class="hljs-built_in">log</span>
</code></pre>
<p><strong>é«˜çº§æ›¿æ¢</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åªæ›¿æ¢åŒ…å«ç‰¹å®šæ¨¡å¼çš„è¡Œ</span>
sed <span class="hljs-string">'/2025-12-19/s/ERROR/[é”™è¯¯]/g'</span> app.log


<span class="hljs-comment"># æ›¿æ¢ç‰¹å®šè¡Œå·ï¼ˆç¬¬10è¡Œï¼‰</span>
sed <span class="hljs-string">'10s/ERROR/[é”™è¯¯]/g'</span> app.log


<span class="hljs-comment"># æ›¿æ¢è¡Œå·èŒƒå›´ï¼ˆ10-20è¡Œï¼‰</span>
sed <span class="hljs-string">'10,20s/ERROR/[é”™è¯¯]/g'</span> app.log


<span class="hljs-comment"># å¿½ç•¥å¤§å°å†™æ›¿æ¢</span>
sed <span class="hljs-string">'s/error/[é”™è¯¯]/gi'</span> app.log
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>s/old/new/</code>ï¼šæ›¿æ¢å‘½ä»¤æ ¼å¼</li>
<li><code>g</code>ï¼šå…¨å±€æ›¿æ¢ï¼ˆglobalï¼‰</li>
<li><code>i</code>ï¼šå¿½ç•¥å¤§å°å†™ï¼ˆignore caseï¼‰</li>
<li><code>-i</code>ï¼šç›´æ¥ä¿®æ”¹æ–‡ä»¶ï¼ˆin-placeï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-33"><strong>åœºæ™¯äºŒï¼šåˆ é™¤è¡Œ</strong></h4>
<p><strong>é—®é¢˜</strong>: åˆ é™¤æ—¥å¿—ä¸­ä¸éœ€è¦çš„å†…å®¹</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤ç©ºè¡Œ</span>
sed <span class="hljs-string">'/^$/d'</span> app.log


<span class="hljs-comment"># åˆ é™¤åŒ…å«DEBUGçš„è¡Œ</span>
sed <span class="hljs-string">'/DEBUG/d'</span> app.log


<span class="hljs-comment"># åˆ é™¤ç¬¬1-10è¡Œ</span>
sed <span class="hljs-string">'1,10d'</span> app.log


<span class="hljs-comment"># åˆ é™¤æœ€åä¸€è¡Œ</span>
sed <span class="hljs-string">'$d'</span> app.log


<span class="hljs-comment"># åˆ é™¤ç¬¬5è¡Œ</span>
sed <span class="hljs-string">'5d'</span> app.log


<span class="hljs-comment"># åˆ é™¤ç¬¬3è¡Œåˆ°æœ€åä¸€è¡Œ</span>
sed <span class="hljs-string">'3,$d'</span> app.log


<span class="hljs-comment"># åˆ é™¤ä¸åŒ…å«ERRORçš„è¡Œï¼ˆä¿ç•™ERRORè¡Œï¼‰</span>
sed <span class="hljs-string">'/ERROR/!d'</span> app.log
</code></pre>
<p><strong>ç»„åˆåˆ é™¤</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤ç©ºè¡Œå’ŒDEBUGè¡Œ</span>
sed -e <span class="hljs-string">'/^$/d'</span> -e <span class="hljs-string">'/DEBUG/d'</span> app.log


<span class="hljs-comment"># æˆ–ä½¿ç”¨åˆ†å·</span>
sed <span class="hljs-string">'/^$/d; /DEBUG/d'</span> app.log
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>d</code>ï¼šåˆ é™¤å‘½ä»¤ï¼ˆdeleteï¼‰</li>
<li><code>^$</code>ï¼šæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºç©ºè¡Œ</li>
<li><code>!d</code>ï¼šåå‘æ“ä½œï¼Œåˆ é™¤ä¸åŒ¹é…çš„è¡Œ</li>
</ul>
<hr/>
<h4 data-id="heading-34"><strong>åœºæ™¯ä¸‰ï¼šæå–ç‰¹å®šè¡Œ</strong></h4>
<p><strong>é—®é¢˜</strong>: åªæƒ³çœ‹æ—¥å¿—ä¸­çš„æŸäº›è¡Œ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åªæ˜¾ç¤ºåŒ…å«ERRORçš„è¡Œï¼ˆç±»ä¼¼grepï¼‰</span>
sed -n <span class="hljs-string">'/ERROR/p'</span> app.log


<span class="hljs-comment"># æ˜¾ç¤ºç¬¬10-20è¡Œ</span>
sed -n <span class="hljs-string">'10,20p'</span> app.log


<span class="hljs-comment"># æ˜¾ç¤ºç¬¬ä¸€è¡Œ</span>
sed -n <span class="hljs-string">'1p'</span> app.log


<span class="hljs-comment"># æ˜¾ç¤ºæœ€åä¸€è¡Œ</span>
sed -n <span class="hljs-string">'$p'</span> app.log


<span class="hljs-comment"># æ˜¾ç¤ºç¬¬1è¡Œå’Œæœ€åä¸€è¡Œ</span>
sed -n <span class="hljs-string">'1p;$p'</span> app.log


<span class="hljs-comment"># æ˜¾ç¤ºåŒ¹é…è¡ŒåŠå…¶å5è¡Œ</span>
sed -n <span class="hljs-string">'/ERROR/,+5p'</span> app.log


<span class="hljs-comment"># æ˜¾ç¤ºä»åŒ¹é…è¡Œåˆ°æ–‡ä»¶æœ«å°¾</span>
sed -n <span class="hljs-string">'/ERROR/,$p'</span> app.log


<span class="hljs-comment"># æ˜¾ç¤ºä¸¤ä¸ªæ¨¡å¼ä¹‹é—´çš„å†…å®¹</span>
sed -n <span class="hljs-string">'/å¼€å§‹æ ‡è®°/,/ç»“æŸæ ‡è®°/p'</span> app.log
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>-n</code>ï¼šé™é»˜æ¨¡å¼ï¼Œä¸è‡ªåŠ¨æ‰“å°</li>
<li><code>p</code>ï¼šæ‰“å°å‘½ä»¤ï¼ˆprintï¼‰</li>
<li><code>,+5</code>ï¼šå½“å‰è¡ŒåŠå5è¡Œ</li>
<li><code>æ¨¡å¼1,æ¨¡å¼2</code>ï¼šä»æ¨¡å¼1åˆ°æ¨¡å¼2ä¹‹é—´çš„è¡Œ</li>
</ul>
<hr/>
<h4 data-id="heading-35"><strong>åœºæ™¯å››ï¼šæ’å…¥å’Œè¿½åŠ </strong></h4>
<p><strong>é—®é¢˜</strong>: åœ¨ç‰¹å®šä½ç½®æ·»åŠ å†…å®¹</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨åŒ¹é…è¡Œå‰æ’å…¥å†…å®¹</span>
sed <span class="hljs-string">'/ERROR/i ====== å‘ç°é”™è¯¯ ======'</span> app.log


<span class="hljs-comment"># åœ¨åŒ¹é…è¡Œåè¿½åŠ å†…å®¹</span>
sed <span class="hljs-string">'/ERROR/a ====== é”™è¯¯ç»“æŸ ======'</span> app.log


<span class="hljs-comment"># åœ¨æ–‡ä»¶å¼€å¤´æ’å…¥</span>
sed <span class="hljs-string">'1i æ—¥å¿—å¼€å§‹æ—¶é—´: 2025-12-19'</span> app.log


<span class="hljs-comment"># åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ </span>
sed <span class="hljs-string">'$a æ—¥å¿—ç»“æŸ'</span> app.log


<span class="hljs-comment"># åœ¨ç¬¬10è¡Œå‰æ’å…¥</span>
sed <span class="hljs-string">'10i è¿™æ˜¯æ’å…¥çš„å†…å®¹'</span> app.log


<span class="hljs-comment"># æ’å…¥å¤šè¡Œï¼ˆä½¿ç”¨\nï¼‰</span>
sed <span class="hljs-string">'/ERROR/i ======\né”™è¯¯è¯¦æƒ…\n======'</span> app.log
</code></pre>
<p><strong>è¦ç‚¹è¯´æ˜</strong>:</p>
<ul>
<li><code>i</code>ï¼šåœ¨åŒ¹é…è¡Œå‰æ’å…¥ï¼ˆinsertï¼‰</li>
<li><code>a</code>ï¼šåœ¨åŒ¹é…è¡Œåè¿½åŠ ï¼ˆappendï¼‰</li>
<li><code>$</code>ï¼šæœ€åä¸€è¡Œ</li>
</ul>
<hr/>
<h4 data-id="heading-36"><strong>åœºæ™¯äº”ï¼šå¤šä¸ªæ“ä½œç»„åˆ</strong></h4>
<p><strong>é—®é¢˜</strong>: éœ€è¦åŒæ—¶è¿›è¡Œå¤šç§ç¼–è¾‘æ“ä½œ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ–¹æ³•1ï¼šä½¿ç”¨å¤šä¸ª -e</span>
sed -e '/^$/d' -e 's/ERROR/<span class="hljs-section">[é”™è¯¯]</span>/g' -e '/DEBUG/d' app.log


<span class="hljs-comment"># æ–¹æ³•2ï¼šä½¿ç”¨åˆ†å·åˆ†éš”</span>
sed '/^$/d<span class="hljs-comment">; s/ERROR/[é”™è¯¯]/g; /DEBUG/d' app.log</span>


<span class="hljs-comment"># æ–¹æ³•3ï¼šä½¿ç”¨å¤šè¡Œï¼ˆå¯è¯»æ€§æ›´å¥½ï¼‰</span>
sed '
/^$/d
s/ERROR/<span class="hljs-section">[é”™è¯¯]</span>/g
/DEBUG/d
' app.log


<span class="hljs-comment"># å¤æ‚å¤„ç†ç¤ºä¾‹</span>
sed -n '
/ERROR/!d          <span class="hljs-comment"># åªä¿ç•™ERRORè¡Œ</span>
s/ERROR/<span class="hljs-section">[é”™è¯¯]</span>/g   <span class="hljs-comment"># æ›¿æ¢ERROR</span>
s/WARN/<span class="hljs-section">[è­¦å‘Š]</span>/g    <span class="hljs-comment"># æ›¿æ¢WARN</span>
p                  <span class="hljs-comment"># æ‰“å°ç»“æœ</span>
' app.log
</code></pre>
<hr/>
<h3 data-id="heading-37">ğŸ“Š sed å‘½ä»¤é€ŸæŸ¥è¡¨</h3>


















































<table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>s/old/new/</code></td><td>æ›¿æ¢ï¼ˆsubstituteï¼‰</td><td><code>sed 's/ERROR/é”™è¯¯/'</code></td></tr><tr><td><code>d</code></td><td>åˆ é™¤ï¼ˆdeleteï¼‰</td><td><code>sed '/DEBUG/d'</code></td></tr><tr><td><code>p</code></td><td>æ‰“å°ï¼ˆprintï¼‰</td><td><code>sed -n '/ERROR/p'</code></td></tr><tr><td><code>i</code></td><td>æ’å…¥ï¼ˆinsertï¼‰</td><td><code>sed '/ERROR/i æ ‡è®°'</code></td></tr><tr><td><code>a</code></td><td>è¿½åŠ ï¼ˆappendï¼‰</td><td><code>sed '/ERROR/a æ ‡è®°'</code></td></tr><tr><td><code>c</code></td><td>æ›¿æ¢æ•´è¡Œï¼ˆchangeï¼‰</td><td><code>sed '/ERROR/c é”™è¯¯è¡Œ'</code></td></tr><tr><td><code>y</code></td><td>å­—ç¬¦è½¬æ¢</td><td><code>sed 'y/abc/ABC/'</code></td></tr><tr><td><code>q</code></td><td>é€€å‡ºï¼ˆquitï¼‰</td><td><code>sed '10q'</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-38">ğŸ“Š sed å‚æ•°é€ŸæŸ¥è¡¨</h3>








































<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>-n</code></td><td>é™é»˜æ¨¡å¼ï¼Œä¸è‡ªåŠ¨æ‰“å°</td><td><code>sed -n '/ERROR/p'</code></td></tr><tr><td><code>-e</code></td><td>æ‰§è¡Œå¤šä¸ªç¼–è¾‘å‘½ä»¤</td><td><code>sed -e 's/a/b/' -e 's/c/d/'</code></td></tr><tr><td><code>-i</code></td><td>ç›´æ¥ä¿®æ”¹æ–‡ä»¶</td><td><code>sed -i 's/old/new/g' file</code></td></tr><tr><td><code>-i.bak</code></td><td>ä¿®æ”¹å‰å¤‡ä»½</td><td><code>sed -i.bak 's/old/new/g' file</code></td></tr><tr><td><code>-r</code></td><td>ä½¿ç”¨æ‰©å±•æ­£åˆ™</td><td><code>sed -r 's/[0-9]+/NUM/g'</code></td></tr><tr><td><code>-f</code></td><td>ä»æ–‡ä»¶è¯»å–å‘½ä»¤</td><td><code>sed -f script.sed file</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-39">ğŸ“Š sed åœ°å€èŒƒå›´</h3>













































<table><thead><tr><th>åœ°å€</th><th>å«ä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>n</code></td><td>ç¬¬nè¡Œ</td><td><code>sed '5d'</code> åˆ é™¤ç¬¬5è¡Œ</td></tr><tr><td><code>n,m</code></td><td>ç¬¬nåˆ°mè¡Œ</td><td><code>sed '10,20d'</code> åˆ é™¤10-20è¡Œ</td></tr><tr><td><code>n,+m</code></td><td>ç¬¬nè¡ŒåŠåmè¡Œ</td><td><code>sed '10,+5d'</code> åˆ é™¤10è¡ŒåŠå5è¡Œ</td></tr><tr><td><code>n~m</code></td><td>ä»nå¼€å§‹æ¯mè¡Œ</td><td><code>sed '1~2d'</code> åˆ é™¤å¥‡æ•°è¡Œ</td></tr><tr><td><code>$</code></td><td>æœ€åä¸€è¡Œ</td><td><code>sed '$d'</code> åˆ é™¤æœ€åä¸€è¡Œ</td></tr><tr><td><code>/pattern/</code></td><td>åŒ¹é…çš„è¡Œ</td><td><code>sed '/ERROR/d'</code> åˆ é™¤ERRORè¡Œ</td></tr><tr><td><code>/p1/,/p2/</code></td><td>ä»p1åˆ°p2</td><td><code>sed '/å¼€å§‹/,/ç»“æŸ/d'</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-40">ğŸ’¡ sed å®æˆ˜æŠ€å·§</h3>
<ol>
<li>
<p><strong>å…ˆæµ‹è¯•å†ä¿®æ”¹</strong>: å»æ‰ <code>-i</code> å…ˆçœ‹æ•ˆæœ</p>
<pre><code class="hljs language-bash" lang="bash">sed <span class="hljs-string">'s/ERROR/é”™è¯¯/g'</span> app.log  <span class="hljs-comment"># å…ˆé¢„è§ˆ</span>
sed -i <span class="hljs-string">'s/ERROR/é”™è¯¯/g'</span> app.log  <span class="hljs-comment"># ç¡®è®¤åå†ä¿®æ”¹</span>
</code></pre>
</li>
<li>
<p><strong>å¤‡ä»½åŸæ–‡ä»¶</strong>: ä½¿ç”¨ <code>-i.bak</code></p>
<pre><code class="hljs language-c" lang="c">sed -i.bak <span class="hljs-string">'s/ERROR/é”™è¯¯/g'</span> app.<span class="hljs-built_in">log</span>  # ç”Ÿæˆapp.<span class="hljs-built_in">log</span>.bakå¤‡ä»½
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</strong>: æ›´çµæ´»çš„åŒ¹é…</p>
<pre><code class="hljs language-css" lang="css">sed 's/<span class="hljs-selector-attr">[0-9]</span>{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}.<span class="hljs-selector-attr">[0-9]</span>{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}.<span class="hljs-selector-attr">[0-9]</span>{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}.<span class="hljs-selector-attr">[0-9]</span>{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}/IP_HIDDEN/g'
</code></pre>
</li>
<li>
<p><strong>å¼•ç”¨åŒ¹é…å†…å®¹</strong>: ä½¿ç”¨ <code>&amp;</code></p>
<pre><code class="hljs language-bash" lang="bash">sed <span class="hljs-string">'s/ERROR/ã€&amp;ã€‘/g'</span>  <span class="hljs-comment"># ERRORå˜æˆã€ERRORã€‘</span>
</code></pre>
</li>
<li>
<p><strong>åˆ†ç»„å¼•ç”¨</strong>: ä½¿ç”¨ <code>\1</code> <code>\2</code></p>
<pre><code class="hljs language-ini" lang="ini">sed 's/$<span class="hljs-section">[0-9]</span>*$-$<span class="hljs-section">[0-9]</span>*$/\2-\1/g'  <span class="hljs-comment"># äº¤æ¢ä¸¤ä¸ªæ•°å­—</span>
</code></pre>
</li>
</ol>
<hr/>
<h2 data-id="heading-41">å››ã€grep + awk + sed ç»„åˆä½¿ç”¨</h2>
<h3 data-id="heading-42">ğŸ¯ ä¸‰å‰‘å®¢åä½œ</h3>
<p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œè¿™ä¸‰ä¸ªå‘½ä»¤ç»å¸¸ç»„åˆä½¿ç”¨ï¼Œå„å¸å…¶èŒï¼š</p>
<ul>
<li><strong>grep</strong>ï¼šè¿‡æ»¤å‡ºéœ€è¦çš„è¡Œ</li>
<li><strong>awk</strong>ï¼šæå–å’Œç»Ÿè®¡æ•°æ®</li>
<li><strong>sed</strong>ï¼šæ ¼å¼åŒ–å’Œæ›¿æ¢å†…å®¹</li>
</ul>
<hr/>
<h3 data-id="heading-43">ğŸ“‹ å®æˆ˜ç»„åˆæ¡ˆä¾‹</h3>
<h4 data-id="heading-44"><strong>æ¡ˆä¾‹1ï¼šåˆ†æé”™è¯¯æ—¥å¿—</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æå–ERRORæ—¥å¿—ï¼Œç»Ÿè®¡å„ç±»é”™è¯¯æ¬¡æ•°</span>
grep <span class="hljs-string">"ERROR"</span> app.log | awk <span class="hljs-string">'{print $5}'</span> | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -rn


<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment">#   152 NullPointerException</span>
<span class="hljs-comment">#    89 TimeoutException</span>
<span class="hljs-comment">#    23 IOException</span>
</code></pre>
<p><strong>æµç¨‹è¯´æ˜</strong>:</p>
<ol>
<li><code>grep "ERROR"</code>ï¼šè¿‡æ»¤å‡ºERRORè¡Œ</li>
<li><code>awk '{print $5}'</code>ï¼šæå–ç¬¬5åˆ—ï¼ˆå¼‚å¸¸ç±»å‹ï¼‰</li>
<li><code>sort</code>ï¼šæ’åº</li>
<li><code>uniq -c</code>ï¼šç»Ÿè®¡é‡å¤æ¬¡æ•°</li>
<li><code>sort -rn</code>ï¼šæŒ‰æ•°é‡å€’åº</li>
</ol>
<hr/>
<h4 data-id="heading-45"><strong>æ¡ˆä¾‹2ï¼šåˆ†ææ…¢è¯·æ±‚</strong></h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æŸ¥æ‰¾å“åº”æ—¶é—´&gt;1ç§’çš„è¯·æ±‚ï¼Œæ ¼å¼åŒ–è¾“å‡º</span>
<span class="hljs-keyword">grep</span> <span class="hljs-string">"access"</span> app.log | awk <span class="hljs-string">'$10 &gt; 1000 {print $1, $7, $10}'</span> | sed <span class="hljs-string">'s/ms/æ¯«ç§’/g'</span>


<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># 2025-12-19 /api/user 1250æ¯«ç§’</span>
<span class="hljs-comment"># 2025-12-19 /api/order 1800æ¯«ç§’</span>
</code></pre>
<p><strong>æµç¨‹è¯´æ˜</strong>:</p>
<ol>
<li><code>grep "access"</code>ï¼šè¿‡æ»¤è®¿é—®æ—¥å¿—</li>
<li><code>awk '$10 &gt; 1000'</code>ï¼šè¿‡æ»¤å“åº”æ—¶é—´&gt;1000ms</li>
<li><code>print $1, $7, $10</code>ï¼šæå–æ—¶é—´ã€URLã€å“åº”æ—¶é—´</li>
<li><code>sed 's/ms/æ¯«ç§’/g'</code>ï¼šæ›¿æ¢å•ä½</li>
</ol>
<hr/>
<h4 data-id="heading-46"><strong>æ¡ˆä¾‹3ï¼šç»Ÿè®¡æ¯å°æ—¶é”™è¯¯æ•°</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»Ÿè®¡æ¯å°æ—¶çš„ERRORæ•°é‡</span>
grep <span class="hljs-string">"ERROR"</span> app.log | awk <span class="hljs-string">'{print substr($1,1,13)}'</span> | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c


<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment">#   45 2025-12-19 10</span>
<span class="hljs-comment">#   89 2025-12-19 11</span>
<span class="hljs-comment">#   23 2025-12-19 12</span>
</code></pre>
<p><strong>æµç¨‹è¯´æ˜</strong>:</p>
<ol>
<li><code>grep "ERROR"</code>ï¼šè¿‡æ»¤ERRORè¡Œ</li>
<li><code>awk '{print substr($1,1,13)}'</code>ï¼šæå–æ—¶é—´åˆ°å°æ—¶ï¼ˆå‰13ä¸ªå­—ç¬¦ï¼‰</li>
<li><code>sort | uniq -c</code>ï¼šç»Ÿè®¡æ¯å°æ—¶å‡ºç°æ¬¡æ•°</li>
</ol>
<hr/>
<h4 data-id="heading-47"><strong>æ¡ˆä¾‹4ï¼šæ¸…ç†å’Œæ ¼å¼åŒ–å¼‚å¸¸å †æ ˆ</strong></h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æå–å¼‚å¸¸å †æ ˆå¹¶æ¸…ç†æ ¼å¼</span>
<span class="hljs-keyword">grep</span> -A <span class="hljs-number">20</span> <span class="hljs-string">"Exception"</span> app.log | sed <span class="hljs-string">'/^$/d'</span> | awk <span class="hljs-string">'{print NR, $0}'</span>


<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># 1 java.lang.NullPointerException</span>
<span class="hljs-comment"># 2     at com.example.Service.method(Service.java:100)</span>
<span class="hljs-comment"># 3     at com.example.Controller.handle(Controller.java:50)</span>
</code></pre>
<p><strong>æµç¨‹è¯´æ˜</strong>:</p>
<ol>
<li><code>grep -A 20 "Exception"</code>ï¼šæå–å¼‚å¸¸åŠå20è¡Œ</li>
<li><code>sed '/^$/d'</code>ï¼šåˆ é™¤ç©ºè¡Œ</li>
<li><code>awk '{print NR, $0}'</code>ï¼šæ·»åŠ è¡Œå·</li>
</ol>
<hr/>
<h4 data-id="heading-48"><strong>æ¡ˆä¾‹5ï¼šåˆ†æAPIè°ƒç”¨æƒ…å†µ</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»Ÿè®¡APIè°ƒç”¨æ¬¡æ•°TOP10</span>
grep <span class="hljs-string">"API"</span> access.log | awk <span class="hljs-string">'{print $7}'</span> | sed <span class="hljs-string">'s/?.*//g'</span> | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -rn | <span class="hljs-built_in">head</span> -10


<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment">#  1523 /api/user</span>
<span class="hljs-comment">#   892 /api/order</span>
<span class="hljs-comment">#   456 /api/product</span>
</code></pre>
<p><strong>æµç¨‹è¯´æ˜</strong>:</p>
<ol>
<li><code>grep "API"</code>ï¼šè¿‡æ»¤APIè¯·æ±‚</li>
<li><code>awk '{print $7}'</code>ï¼šæå–URL</li>
<li><code>sed 's/?.*//g'</code>ï¼šå»æ‰æŸ¥è¯¢å‚æ•°</li>
<li><code>sort | uniq -c</code>ï¼šç»Ÿè®¡æ¬¡æ•°</li>
<li><code>sort -rn | head -10</code>ï¼šå–TOP10</li>
</ol>
<hr/>
<h4 data-id="heading-49"><strong>æ¡ˆä¾‹6ï¼šç”Ÿæˆé”™è¯¯æŠ¥å‘Š</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆä»Šæ—¥é”™è¯¯ç»Ÿè®¡æŠ¥å‘Š</span>
{
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"===== é”™è¯¯æ—¥å¿—æŠ¥å‘Š ====="</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ—¥æœŸ: <span class="hljs-subst">$(date +%Y-%m-%d)</span>"</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"é”™è¯¯æ€»æ•°:"</span>
  grep -c <span class="hljs-string">"ERROR"</span> app.log
  <span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"é”™è¯¯ç±»å‹åˆ†å¸ƒ:"</span>
  grep <span class="hljs-string">"ERROR"</span> app.log | awk <span class="hljs-string">'{print $5}'</span> | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -rn
  <span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"é”™è¯¯æ—¶é—´åˆ†å¸ƒ:"</span>
  grep <span class="hljs-string">"ERROR"</span> app.log | awk <span class="hljs-string">'{print substr($1,1,13)}'</span> | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c
} | <span class="hljs-built_in">tee</span> error_report.txt
</code></pre>
<hr/>
<h2 data-id="heading-50">äº”ã€å®æˆ˜æŠ€å·§æ€»ç»“</h2>
<h3 data-id="heading-51">ğŸ¯ é€‰æ‹©åˆé€‚çš„å·¥å…·</h3>













































<table><thead><tr><th>éœ€æ±‚</th><th>æ¨èå·¥å…·</th><th>åŸå› </th></tr></thead><tbody><tr><td>æŸ¥æ‰¾å…³é”®å­—</td><td>grep</td><td>æœ€å¿«æœ€ç®€å•</td></tr><tr><td>æå–ç‰¹å®šåˆ—</td><td>awk</td><td>ä¸“é—¨å¤„ç†åˆ—æ•°æ®</td></tr><tr><td>ç»Ÿè®¡è®¡ç®—</td><td>awk</td><td>æ”¯æŒæ•°å­¦è¿ç®—</td></tr><tr><td>æ›¿æ¢æ–‡æœ¬</td><td>sed</td><td>æ‰¹é‡æ›¿æ¢æ•ˆç‡é«˜</td></tr><tr><td>åˆ é™¤è¡Œ</td><td>sed</td><td>çµæ´»çš„è¡Œæ“ä½œ</td></tr><tr><td>å¤æ‚åˆ†æ</td><td>awk</td><td>åŠŸèƒ½æœ€å¼ºå¤§</td></tr><tr><td>ç»„åˆæ“ä½œ</td><td>grep+awk+sed</td><td>å„å–æ‰€é•¿</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-52">ğŸ’¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li>
<p><strong>å…ˆè¿‡æ»¤å†å¤„ç†</strong>: ç”¨ grep å…ˆç¼©å°èŒƒå›´</p>
<pre><code class="hljs language-lua" lang="lua">grep <span class="hljs-string">"ERROR"</span> <span class="hljs-built_in">huge</span>.<span class="hljs-built_in">log</span> | awk <span class="hljs-string">'{ç»Ÿè®¡}'</span>  # å¥½
awk <span class="hljs-string">'/ERROR/ {ç»Ÿè®¡}'</span> <span class="hljs-built_in">huge</span>.<span class="hljs-built_in">log</span>  # è¾ƒæ…¢
</code></pre>
</li>
<li>
<p><strong>é¿å…ä¸å¿…è¦çš„ç®¡é“</strong>: èƒ½ä¸€æ­¥å®Œæˆä¸è¦åˆ†å¤šæ­¥</p>
<pre><code class="hljs language-perl" lang="perl">awk <span class="hljs-string">'/ERROR/ {print $1}'</span> <span class="hljs-keyword">log</span>  <span class="hljs-comment"># å¥½</span>
<span class="hljs-keyword">grep</span> <span class="hljs-string">"ERROR"</span> <span class="hljs-keyword">log</span> | awk <span class="hljs-string">'{print $1}'</span>  <span class="hljs-comment"># å¤šä½™</span>
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨åˆé€‚çš„å·¥å…·</strong>: ä¸è¦ç”¨ sed åš awk çš„äº‹</p>
<pre><code class="hljs language-bash" lang="bash">awk <span class="hljs-string">'{print $1}'</span> <span class="hljs-built_in">log</span>  <span class="hljs-comment"># å¥½</span>
sed <span class="hljs-string">'s/.* $[^ ]*$$/\1/'</span> <span class="hljs-built_in">log</span>  <span class="hljs-comment"># å¤æ‚ä¸”æ…¢</span>
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-53">ğŸ” è°ƒè¯•æŠ€å·§</h3>
<ol>
<li>
<p><strong>é€æ­¥è°ƒè¯•</strong>: ä¸€æ­¥æ­¥æ·»åŠ ç®¡é“</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">grep</span> <span class="hljs-string">"ERROR"</span> <span class="hljs-keyword">log</span>  <span class="hljs-comment"># ç¬¬1æ­¥ï¼šçœ‹çœ‹è¿‡æ»¤ç»“æœ</span>
<span class="hljs-keyword">grep</span> <span class="hljs-string">"ERROR"</span> <span class="hljs-keyword">log</span> | awk <span class="hljs-string">'{print $5}'</span>  <span class="hljs-comment"># ç¬¬2æ­¥ï¼šçœ‹çœ‹æå–ç»“æœ</span>
<span class="hljs-keyword">grep</span> <span class="hljs-string">"ERROR"</span> <span class="hljs-keyword">log</span> | awk <span class="hljs-string">'{print $5}'</span> | <span class="hljs-keyword">sort</span> | uniq -c  <span class="hljs-comment"># ç¬¬3æ­¥ï¼šå®Œæ•´æµç¨‹</span>
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ head é™åˆ¶è¾“å‡º</strong>: é¿å…åˆ·å±</p>
<pre><code class="hljs language-bash" lang="bash">grep <span class="hljs-string">"ERROR"</span> huge.log | <span class="hljs-built_in">head</span> -20  <span class="hljs-comment"># åªçœ‹å‰20è¡Œ</span>
</code></pre>
</li>
<li>
<p><strong>ä¿å­˜ä¸­é—´ç»“æœ</strong>: æ–¹ä¾¿è°ƒè¯•</p>
<pre><code class="hljs language-lua" lang="lua">grep <span class="hljs-string">"ERROR"</span> <span class="hljs-built_in">log</span> &gt; <span class="hljs-built_in">error</span>.tmp
awk <span class="hljs-string">'{print $5}'</span> <span class="hljs-built_in">error</span>.tmp &gt; types.tmp
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NextCloudç§æœ‰äº‘ç›˜å®Œæ•´éƒ¨ç½²æŒ‡å—]]></title>    <link>https://juejin.cn/post/7585085798809190427</link>    <guid>https://juejin.cn/post/7585085798809190427</guid>    <pubDate>2025-12-19T03:01:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585085798809190427" data-draft-id="7585097023747473423" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NextCloudç§æœ‰äº‘ç›˜å®Œæ•´éƒ¨ç½²æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T03:01:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å˜»å“ˆbaby"/> <meta itemprop="url" content="https://juejin.cn/user/485305583405066"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NextCloudç§æœ‰äº‘ç›˜å®Œæ•´éƒ¨ç½²æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/485305583405066/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å˜»å“ˆbaby
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:01:14.000Z" title="Fri Dec 19 2025 03:01:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¯¦è§£NextCloudçš„éƒ¨ç½²é…ç½®ï¼Œæ‰“é€ åŠŸèƒ½å®Œå–„çš„ç§æœ‰äº‘å­˜å‚¨æœåŠ¡ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>ç™¾åº¦ç½‘ç›˜é™é€Ÿã€iCloudç©ºé—´è´µã€Google Driveå›½å†…ç”¨ä¸äº†...</p>
<p>ä¸å¦‚è‡ªå»ºä¸€ä¸ª<strong>ç§æœ‰äº‘ç›˜</strong>ï¼š</p>
<ul>
<li>æ•°æ®å®Œå…¨è‡ªå·±æŒæ§</li>
<li>ä¸é™é€Ÿã€ä¸é™å®¹é‡</li>
<li>åŠŸèƒ½æ¯”ç½‘ç›˜è¿˜å¤š</li>
</ul>
<p><strong>NextCloud</strong>æ˜¯æœ€æµè¡Œçš„å¼€æºç§æœ‰äº‘æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€NextCloudç®€ä»‹</h2>
<h3 data-id="heading-2">1.1 åŠŸèƒ½ç‰¹ç‚¹</h3>
<pre><code class="hljs language-diff" lang="diff">æ ¸å¿ƒåŠŸèƒ½ï¼š
<span class="hljs-deletion">- æ–‡ä»¶å­˜å‚¨ä¸åŒæ­¥</span>
<span class="hljs-deletion">- å¤šè®¾å¤‡åŒæ­¥</span>
<span class="hljs-deletion">- æ–‡ä»¶åˆ†äº«</span>
<span class="hljs-deletion">- ç‰ˆæœ¬å†å²</span>

æ‰©å±•åŠŸèƒ½ï¼š
<span class="hljs-deletion">- åœ¨çº¿Officeï¼ˆCollabora/OnlyOfficeï¼‰</span>
<span class="hljs-deletion">- æ—¥å†ã€è”ç³»äºº</span>
<span class="hljs-deletion">- ç¬”è®°ã€ä»»åŠ¡</span>
<span class="hljs-deletion">- è§†é¢‘é€šè¯</span>
<span class="hljs-deletion">- é‚®ä»¶å®¢æˆ·ç«¯</span>
</code></pre>
<h3 data-id="heading-3">1.2 å¯¹æ¯”å…¶ä»–æ–¹æ¡ˆ</h3>









































<table><thead><tr><th>ç‰¹æ€§</th><th>NextCloud</th><th>Seafile</th><th>ç¾¤æ™–Drive</th></tr></thead><tbody><tr><td>å¼€æº</td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr><tr><td>åŠŸèƒ½</td><td>æœ€å…¨</td><td>æ–‡ä»¶ä¸ºä¸»</td><td>æ–‡ä»¶ä¸ºä¸»</td></tr><tr><td>æ€§èƒ½</td><td>ä¸­ç­‰</td><td>æœ€å¿«</td><td>å¿«</td></tr><tr><td>æ‰©å±•</td><td>ä¸°å¯Œ</td><td>æœ‰é™</td><td>æœ‰é™</td></tr><tr><td>è‡ªå»º</td><td>âœ…</td><td>âœ…</td><td>éœ€ç¾¤æ™–</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-4">äºŒã€Dockeréƒ¨ç½²</h2>
<h3 data-id="heading-5">2.1 ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">nextcloud/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ db/            <span class="hljs-comment"># æ•°æ®åº“æ•°æ®</span>
â”œâ”€â”€ html/          <span class="hljs-comment"># NextCloudæ•°æ®</span>
â””â”€â”€ config/        <span class="hljs-comment"># é…ç½®æ–‡ä»¶</span>
</code></pre>
<h3 data-id="heading-6">2.2 Docker Composeé…ç½®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># docker-compose.yml</span>
<span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">db:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">mariadb:10.11</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">nextcloud-db</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">command:</span> <span class="hljs-string">--transaction-isolation=READ-COMMITTED</span> <span class="hljs-string">--binlog-format=ROW</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./db:/var/lib/mysql</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_ROOT_PASSWORD=nextcloud_root_password</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_PASSWORD=nextcloud_password</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_DATABASE=nextcloud</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_USER=nextcloud</span>

  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">redis:alpine</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">nextcloud-redis</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>

  <span class="hljs-attr">app:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">nextcloud:latest</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">nextcloud</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8080:80"</span>
    <span class="hljs-attr">links:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">redis</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./html:/var/www/html</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./config:/var/www/html/config</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">/path/to/data:/var/www/html/data</span>  <span class="hljs-comment"># æ•°æ®ç›®å½•ï¼Œå»ºè®®ç”¨å¤§ç¡¬ç›˜</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_HOST=db</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_DATABASE=nextcloud</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_USER=nextcloud</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MYSQL_PASSWORD=nextcloud_password</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">REDIS_HOST=redis</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">NEXTCLOUD_TRUSTED_DOMAINS=your.domain.com</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">redis</span>
</code></pre>
<h3 data-id="heading-7">2.3 å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p db html config

<span class="hljs-comment"># å¯åŠ¨</span>
docker compose up -d

<span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>
docker compose logs -f app
</code></pre>
<h3 data-id="heading-8">2.4 åˆå§‹è®¾ç½®</h3>
<pre><code class="hljs language-markdown" lang="markdown">æµè§ˆå™¨è®¿é—®ï¼šhttp://æœåŠ¡å™¨IP:8080

<span class="hljs-bullet">1.</span> åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·
<span class="hljs-bullet">2.</span> æ•°æ®åº“å·²è‡ªåŠ¨é…ç½®ï¼ˆDockerç¯å¢ƒå˜é‡ï¼‰
<span class="hljs-bullet">3.</span> å®Œæˆå®‰è£…
</code></pre>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-10">3.1 é…ç½®PHP</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥å®¹å™¨</span>
docker <span class="hljs-built_in">exec</span> -it nextcloud bash

<span class="hljs-comment"># ç¼–è¾‘phpé…ç½®</span>
<span class="hljs-comment"># /usr/local/etc/php/conf.d/nextcloud.ini</span>
memory_limit=512M
upload_max_filesize=16G
post_max_size=16G
max_execution_time=3600
max_input_time=3600
</code></pre>
<h3 data-id="heading-11">3.2 Redisç¼“å­˜é…ç½®</h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// config/config.php æ·»åŠ </span>
<span class="hljs-string">'memcache.local'</span> =&gt; <span class="hljs-string">'\\OC\\Memcache\\APCu'</span>,
<span class="hljs-string">'memcache.distributed'</span> =&gt; <span class="hljs-string">'\\OC\\Memcache\\Redis'</span>,
<span class="hljs-string">'memcache.locking'</span> =&gt; <span class="hljs-string">'\\OC\\Memcache\\Redis'</span>,
<span class="hljs-string">'redis'</span> =&gt; [
    <span class="hljs-string">'host'</span> =&gt; <span class="hljs-string">'redis'</span>,
    <span class="hljs-string">'port'</span> =&gt; <span class="hljs-number">6379</span>,
],
</code></pre>
<h3 data-id="heading-12">3.3 åå°ä»»åŠ¡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨cronæ›¿ä»£AJAXï¼ˆæ¨èï¼‰</span>
<span class="hljs-comment"># å®¿ä¸»æœºæ·»åŠ å®šæ—¶ä»»åŠ¡</span>
crontab -e

<span class="hljs-comment"># æ·»åŠ ï¼š</span>
*/5 * * * * docker <span class="hljs-built_in">exec</span> -u www-data nextcloud php cron.php

<span class="hljs-comment"># NextCloudè®¾ç½®</span>
è®¾ç½® â†’ ç®¡ç† â†’ åŸºæœ¬è®¾ç½® â†’ åå°ä»»åŠ¡ â†’ Cron
</code></pre>
<h3 data-id="heading-13">3.4 æ•°æ®åº“ä¼˜åŒ–</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¿æ¥æ•°æ®åº“</span>
docker <span class="hljs-keyword">exec</span> <span class="hljs-operator">-</span>it nextcloud<span class="hljs-operator">-</span>db mysql <span class="hljs-operator">-</span>u root <span class="hljs-operator">-</span>p

<span class="hljs-comment">-- ä¼˜åŒ–è¡¨</span>
USE nextcloud;
OPTIMIZE <span class="hljs-keyword">TABLE</span> oc_filecache;
OPTIMIZE <span class="hljs-keyword">TABLE</span> oc_files_trash;
</code></pre>
<hr/>
<h2 data-id="heading-14">å››ã€HTTPSé…ç½®</h2>
<h3 data-id="heading-15">4.1 Nginxåå‘ä»£ç†</h3>
<pre><code class="hljs language-nginx" lang="nginx"># /etc/nginx/conf.d/nextcloud.conf
server {
    listen 80;
    server_name cloud.example.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name cloud.example.com;

    ssl_certificate /etc/letsencrypt/live/cloud.example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/cloud.example.com/privkey.pem;

    client_max_body_size 16G;
    client_body_timeout 3600s;

    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        proxy_connect_timeout 3600;
        proxy_send_timeout 3600;
        proxy_read_timeout 3600;
    }

    location /.well-known/carddav {
        return 301 $scheme://$host/remote.php/dav;
    }
    
    location /.well-known/caldav {
        return 301 $scheme://$host/remote.php/dav;
    }
}
</code></pre>
<h3 data-id="heading-16">4.2 æ›´æ–°é…ç½®</h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// config/config.php</span>
<span class="hljs-string">'trusted_domains'</span> =&gt; [
    <span class="hljs-number">0</span> =&gt; <span class="hljs-string">'cloud.example.com'</span>,
    <span class="hljs-number">1</span> =&gt; <span class="hljs-string">'192.168.1.100'</span>,
],
<span class="hljs-string">'trusted_proxies'</span> =&gt; [<span class="hljs-string">'127.0.0.1'</span>],
<span class="hljs-string">'overwrite.cli.url'</span> =&gt; <span class="hljs-string">'https://cloud.example.com'</span>,
<span class="hljs-string">'overwriteprotocol'</span> =&gt; <span class="hljs-string">'https'</span>,
</code></pre>
<hr/>
<h2 data-id="heading-17">äº”ã€å®¢æˆ·ç«¯é…ç½®</h2>
<h3 data-id="heading-18">5.1 æ¡Œé¢å®¢æˆ·ç«¯</h3>
<pre><code class="hljs language-bash" lang="bash">ä¸‹è½½ï¼šhttps://nextcloud.com/install/<span class="hljs-comment">#install-clients</span>

æ”¯æŒï¼šWindowsã€macOSã€Linux

é…ç½®ï¼š
1. æœåŠ¡å™¨åœ°å€ï¼šhttps://cloud.example.com
2. ç™»å½•è´¦å·
3. é€‰æ‹©åŒæ­¥æ–‡ä»¶å¤¹
</code></pre>
<h3 data-id="heading-19">5.2 ç§»åŠ¨å®¢æˆ·ç«¯</h3>
<pre><code class="hljs language-diff" lang="diff">iOSï¼šApp Storeæœç´¢"Nextcloud"
Androidï¼šPlayå•†åº—æˆ–F-Droid

åŠŸèƒ½ï¼š
<span class="hljs-deletion">- æ–‡ä»¶æµè§ˆ/ä¸Šä¼ /ä¸‹è½½</span>
<span class="hljs-deletion">- ç…§ç‰‡è‡ªåŠ¨ä¸Šä¼ </span>
<span class="hljs-deletion">- ç¦»çº¿æ–‡ä»¶</span>
</code></pre>
<h3 data-id="heading-20">5.3 WebDAVè®¿é—®</h3>
<pre><code class="hljs language-diff" lang="diff">åœ°å€ï¼šhttps://cloud.example.com/remote.php/dav/files/ç”¨æˆ·å/

å¯ç”¨äºï¼š
<span class="hljs-deletion">- Windowsæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</span>
<span class="hljs-deletion">- macOSè¿æ¥æœåŠ¡å™¨</span>
<span class="hljs-deletion">- ç¬¬ä¸‰æ–¹æ–‡ä»¶ç®¡ç†å™¨</span>
</code></pre>
<hr/>
<h2 data-id="heading-21">å…­ã€è¿œç¨‹è®¿é—®æ–¹æ¡ˆ</h2>
<h3 data-id="heading-22">6.1 é—®é¢˜</h3>
<pre><code class="hljs">NextCloudéƒ¨ç½²åœ¨å®¶é‡Œ/å…¬å¸å†…ç½‘
å¦‚ä½•ä»å¤–ç½‘è®¿é—®ï¼Ÿ
</code></pre>
<h3 data-id="heading-23">6.2 æ–¹æ¡ˆå¯¹æ¯”</h3>





























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>å®‰å…¨æ€§</th><th>é€Ÿåº¦</th><th>é…ç½®éš¾åº¦</th></tr></thead><tbody><tr><td>å…¬ç½‘æš´éœ²+HTTPS</td><td>âš ï¸ ä¸­</td><td>å¿«</td><td>ä¸­</td></tr><tr><td>Cloudflare Tunnel</td><td>âœ… é«˜</td><td>ä¸­</td><td>ä¸­</td></tr><tr><td>ç»„ç½‘è½¯ä»¶</td><td>âœ… é«˜</td><td>å¿«</td><td>ä½</td></tr></tbody></table>
<h3 data-id="heading-24">6.3 ç»„ç½‘æ–¹æ¡ˆï¼ˆæ¨èï¼‰</h3>
<p>ä½¿ç”¨ç»„ç½‘è½¯ä»¶ï¼ˆå¦‚æ˜Ÿç©ºç»„ç½‘ï¼‰å®ç°å®‰å…¨è®¿é—®ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç»„ç½‘è™šæ‹Ÿå±€åŸŸç½‘                      â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  æœåŠ¡å™¨       â”‚           â”‚  æ‰‹æœº/ç”µè„‘   â”‚        â”‚
â”‚  â”‚  NextCloud   â”‚           â”‚  å®¢æˆ·ç«¯      â”‚        â”‚
â”‚  â”‚  <span class="hljs-number">10.10</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>   â”‚           â”‚  <span class="hljs-number">10.10</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                      â”‚
â”‚  å®¢æˆ·ç«¯é…ç½®æœåŠ¡å™¨åœ°å€ï¼šhttp:<span class="hljs-comment">//10.10.0.1:8080        â”‚</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>ä¸éœ€è¦å…¬ç½‘IP</li>
<li>ä¸éœ€è¦é…ç½®HTTPSï¼ˆå†…ç½‘å¯ç”¨HTTPï¼‰</li>
<li>ä¸æš´éœ²ç«¯å£åˆ°å…¬ç½‘</li>
<li>ç§»åŠ¨å®¢æˆ·ç«¯ä¹Ÿèƒ½ç”¨</li>
</ul>
<p><strong>é…ç½®æ­¥éª¤ï¼š</strong></p>
<ol>
<li>æœåŠ¡å™¨å®‰è£…ç»„ç½‘å®¢æˆ·ç«¯</li>
<li>æ‰‹æœº/ç”µè„‘å®‰è£…ç»„ç½‘å®¢æˆ·ç«¯</li>
<li>ç™»å½•åŒä¸€è´¦å·</li>
<li>NextCloudå®¢æˆ·ç«¯å¡«å†™ç»„ç½‘IP</li>
</ol>
<hr/>
<h2 data-id="heading-25">ä¸ƒã€å¸¸ç”¨åº”ç”¨</h2>
<h3 data-id="heading-26">7.1 Officeå¥—ä»¶</h3>
<p><strong>Collabora Onlineï¼ˆæ¨èï¼‰ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># docker-compose.yml æ·»åŠ </span>
  <span class="hljs-attr">collabora:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">collabora/code</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">collabora</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"9980:9980"</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">domain=cloud\\.example\\.com</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">extra_params=--o:ssl.enable=false</span>
    <span class="hljs-attr">cap_add:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">MKNOD</span>
</code></pre>
<pre><code class="hljs language-arduino" lang="arduino">NextCloudåº”ç”¨ â†’ å®‰è£…<span class="hljs-string">"Collabora Online"</span>
è®¾ç½® â†’ ç®¡ç† â†’ Collabora Online
æœåŠ¡å™¨åœ°å€ï¼šhttp:<span class="hljs-comment">//collabora:9980</span>
</code></pre>
<h3 data-id="heading-27">7.2 å…¶ä»–æ¨èåº”ç”¨</h3>
<pre><code class="hljs language-diff" lang="diff">æ–‡ä»¶ç®¡ç†ï¼š
<span class="hljs-deletion">- External storage supportï¼ˆå¤–éƒ¨å­˜å‚¨ï¼‰</span>
<span class="hljs-deletion">- Files Right Clickï¼ˆå³é”®èœå•ï¼‰</span>

æ•ˆç‡å·¥å…·ï¼š
<span class="hljs-deletion">- Calendarï¼ˆæ—¥å†ï¼‰</span>
<span class="hljs-deletion">- Contactsï¼ˆè”ç³»äººï¼‰</span>
<span class="hljs-deletion">- Tasksï¼ˆä»»åŠ¡ï¼‰</span>
<span class="hljs-deletion">- Notesï¼ˆç¬”è®°ï¼‰</span>
<span class="hljs-deletion">- Deckï¼ˆçœ‹æ¿ï¼‰</span>

å®‰å…¨ï¼š
<span class="hljs-deletion">- Two-Factor Authenticationï¼ˆä¸¤æ­¥éªŒè¯ï¼‰</span>
</code></pre>
<hr/>
<h2 data-id="heading-28">å…«ã€æ•°æ®è¿ç§»</h2>
<h3 data-id="heading-29">8.1 ä»å…¶ä»–ç½‘ç›˜è¿ç§»</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†æ–‡ä»¶å¤åˆ¶åˆ°NextCloudæ•°æ®ç›®å½•</span>
<span class="hljs-built_in">cp</span> -r /old/data/* /path/to/nextcloud/data/username/files/

<span class="hljs-comment"># ä¿®å¤æƒé™</span>
docker <span class="hljs-built_in">exec</span> -u www-data nextcloud php occ files:scan --all
</code></pre>
<h3 data-id="heading-30">8.2 å¤‡ä»½</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤‡ä»½è„šæœ¬</span>
<span class="hljs-comment">#!/bin/bash</span>
DATE=$(<span class="hljs-built_in">date</span> +%Y%m%d)

<span class="hljs-comment"># åœæ­¢æœåŠ¡</span>
docker compose down

<span class="hljs-comment"># å¤‡ä»½æ•°æ®åº“</span>
docker run --<span class="hljs-built_in">rm</span> -v nextcloud_db:/db -v $(<span class="hljs-built_in">pwd</span>):/backup alpine tar czf /backup/db_<span class="hljs-variable">$DATE</span>.tar.gz /db

<span class="hljs-comment"># å¤‡ä»½æ•°æ®</span>
tar czf data_<span class="hljs-variable">$DATE</span>.tar.gz html config

<span class="hljs-comment"># å¯åŠ¨æœåŠ¡</span>
docker compose up -d
</code></pre>
<hr/>
<h2 data-id="heading-31">ä¹ã€å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-32">Q1ï¼šä¸Šä¼ å¤§æ–‡ä»¶å¤±è´¥</h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// config/config.php</span>
<span class="hljs-string">'upload_max_filesize'</span> =&gt; <span class="hljs-string">'16G'</span>,

<span class="hljs-comment">// Nginxé…ç½®</span>
client_max_body_size <span class="hljs-number">16</span>G;
client_body_timeout <span class="hljs-number">3600</span>s;
</code></pre>
<h3 data-id="heading-33">Q2ï¼šåŒæ­¥æ…¢</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> æ£€æŸ¥æœåŠ¡å™¨æ€§èƒ½
<span class="hljs-bullet">2.</span> å¯ç”¨Redisç¼“å­˜
<span class="hljs-bullet">3.</span> æ£€æŸ¥ç½‘ç»œå¸¦å®½
<span class="hljs-bullet">4.</span> ä½¿ç”¨ç»„ç½‘è½¯ä»¶è·å¾—æ›´ç¨³å®šè¿æ¥
</code></pre>
<h3 data-id="heading-34">Q3ï¼šå†…å­˜ä¸è¶³</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¢åŠ PHPå†…å­˜é™åˆ¶</span>
<span class="hljs-comment"># php.ini</span>
memory_limit=1024M
</code></pre>
<hr/>
<h2 data-id="heading-35">åã€æ€»ç»“</h2>
<p>NextCloudéƒ¨ç½²è¦ç‚¹ï¼š</p>
<ol>
<li><strong>å®‰è£…</strong>ï¼šDocker Composeæœ€ç®€å•</li>
<li><strong>æ€§èƒ½</strong>ï¼šRedisç¼“å­˜å¿…é…</li>
<li><strong>å®‰å…¨</strong>ï¼šç”Ÿäº§ç¯å¢ƒç”¨HTTPS</li>
<li><strong>è¿œç¨‹</strong>ï¼šç»„ç½‘æ–¹æ¡ˆæœ€ç®€å•å®‰å…¨</li>
<li><strong>å¤‡ä»½</strong>ï¼šå®šæœŸå¤‡ä»½æ•°æ®</li>
</ol>
<p><strong>æˆ‘çš„é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">æœåŠ¡å™¨ï¼šç¾¤æ™–NAS Docker
å­˜å‚¨ï¼š4TBç¡¬ç›˜
è®¿é—®ï¼šæ˜Ÿç©ºç»„ç½‘ï¼ˆæ‰‹æœºç”µè„‘éƒ½èƒ½è®¿é—®ï¼‰
ç”¨é€”ï¼š
<span class="hljs-deletion">- æ–‡ä»¶åŒæ­¥</span>
<span class="hljs-deletion">- ç…§ç‰‡å¤‡ä»½</span>
<span class="hljs-deletion">- æ–‡æ¡£åä½œ</span>
</code></pre>
<hr/>
<h2 data-id="heading-36">å‚è€ƒèµ„æ–™</h2>
<ol>
<li>NextCloudå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.nextcloud.com%2F" target="_blank" title="https://docs.nextcloud.com/" ref="nofollow noopener noreferrer">docs.nextcloud.com/</a></li>
<li>NextCloud GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnextcloud" target="_blank" title="https://github.com/nextcloud" ref="nofollow noopener noreferrer">github.com/nextcloud</a></li>
</ol>
<hr/>
<blockquote>
<p>ğŸ’¡ NextCloudæ˜¯æœ€å…¨èƒ½çš„ç§æœ‰äº‘æ–¹æ¡ˆï¼Œé…åˆç»„ç½‘è½¯ä»¶å¯ä»¥éšæ—¶éšåœ°è®¿é—®ä½ çš„æ•°æ®ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘é‡åŒ–å’Œå‘é‡æ•°æ®åº“redisstackä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7585085798809239579</link>    <guid>https://juejin.cn/post/7585085798809239579</guid>    <pubDate>2025-12-19T03:05:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585085798809239579" data-draft-id="7584861353804005412" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘é‡åŒ–å’Œå‘é‡æ•°æ®åº“redisstackä½¿ç”¨"/> <meta itemprop="keywords" content="åç«¯,Java,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-19T03:05:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘å®¶é¢†å…»äº†ä¸ªç™½èƒ–èƒ–"/> <meta itemprop="url" content="https://juejin.cn/user/1152746990351032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘é‡åŒ–å’Œå‘é‡æ•°æ®åº“redisstackä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1152746990351032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘å®¶é¢†å…»äº†ä¸ªç™½èƒ–èƒ–
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:05:01.000Z" title="Fri Dec 19 2025 03:05:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‘é‡åŒ–å’Œå‘é‡æ•°æ®åº“</h2>
<p>å‘é‡å­˜å‚¨å®˜ç½‘åœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fjava2ai.com%2Fdocs%2F1.0.0.2%2Ftutorials%2Fbasics%2Fvectorstore%2F%3Fspm%3D4347728f.3bacb33c.0.0.6e87a02dsabS42" target="_blank" title="https://java2ai.com/docs/1.0.0.2/tutorials/basics/vectorstore/?spm=4347728f.3bacb33c.0.0.6e87a02dsabS42" ref="nofollow noopener noreferrer">java2ai.com/docs/1.0.0.â€¦</a></p>
<h3 data-id="heading-1">å‘é‡æ˜¯ä»€ä¹ˆ</h3>
<p>å‘é‡: è¡¨ç¤ºå…·æœ‰å¤§å°å’Œæ–¹å‘çš„é‡</p>
<h3 data-id="heading-2">æ–‡æœ¬å‘é‡åŒ– Embedding Model</h3>
<p>åµŒå…¥ï¼ˆEmbeddingï¼‰çš„å·¥ä½œåŸç†æ˜¯å°†<code>æ–‡æœ¬ã€å›¾åƒå’Œè§†é¢‘</code>è½¬æ¢ä¸ºç§°ä¸ºå‘é‡ï¼ˆVectorsï¼‰çš„<code>æµ®ç‚¹æ•°æ•°ç»„</code>ã€‚è¿™äº›å‘
é‡æ—¨åœ¨æ•æ‰æ–‡æœ¬ã€å›¾åƒå’Œè§†é¢‘çš„å«ä¹‰ï¼ŒåµŒå…¥æ•°ç»„çš„é•¿åº¦ç§°ä¸ºå‘é‡çš„ç»´åº¦ï¼ˆDimensionalityï¼‰ã€‚</p>
<p><code>æ–‡æœ¬å‘é‡åŒ–</code>ï¼ˆText Vectorizationï¼‰æ˜¯æŒ‡å°†äººç±»å¯è¯»çš„æ–‡æœ¬ï¼ˆå¦‚å•è¯ã€å¥å­ã€æ®µè½æˆ–æ•´ç¯‡æ–‡æ¡£ï¼‰è½¬æ¢ä¸ºè®¡ç®—æœºå¯ä»¥<code>å¤„ç†çš„æ•°å€¼å‘é‡</code>ï¼ˆé€šå¸¸æ˜¯å®æ•°æ•°ç»„ï¼‰çš„è¿‡ç¨‹ã€‚è¿™æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰å’Œæœºå™¨å­¦ä¹ ä¸­çš„å…³é”®é¢„å¤„ç†æ­¥éª¤ï¼Œå› ä¸ºç®—æ³•æ— æ³•ç›´æ¥ç†è§£æ–‡å­—ï¼Œä½†å¯ä»¥<code>é«˜æ•ˆå¤„ç†æ•°å­—</code></p>
<p>ä¸ºä»€ä¹ˆéœ€è¦æ–‡æœ¬å‘é‡åŒ–ï¼Ÿ</p>
<ul>
<li>æœºå™¨å­¦ä¹ æ¨¡å‹åªèƒ½å¤„<code>ç†æ•°å€¼å‹</code>è¾“å…¥ã€‚</li>
<li>æ–‡æœ¬æœ¬èº«æ˜¯ç¦»æ•£ç¬¦å·ï¼Œéœ€æ˜ å°„åˆ°è¿ç»­æˆ–ç¦»æ•£çš„æ•°å€¼ç©ºé—´ã€‚</li>
<li>å‘é‡åŒ–è¿˜èƒ½ä¿ç•™è¯­ä¹‰ã€è¯­æ³•æˆ–ç»Ÿè®¡ä¿¡æ¯ï¼Œæå‡æ¨¡å‹æ•ˆæœã€‚</li>
</ul>
<h3 data-id="heading-3">å‘é‡æ•°æ®åº“</h3>
<p>å‘é‡å­˜å‚¨å®˜ç½‘åœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fjava2ai.com%2Fdocs%2F1.0.0.2%2Ftutorials%2Fbasics%2Fvectorstore%2F%3Fspm%3D4347728f.3bacb33c.0.0.6e87a02dsabS42" target="_blank" title="https://java2ai.com/docs/1.0.0.2/tutorials/basics/vectorstore/?spm=4347728f.3bacb33c.0.0.6e87a02dsabS42" ref="nofollow noopener noreferrer">java2ai.com/docs/1.0.0.â€¦</a></p>
<p>é˜¿é‡Œå·´å·´å®˜ç½‘: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fmodel-studio%2Fembedding" target="_blank" title="https://help.aliyun.com/zh/model-studio/embedding" ref="nofollow noopener noreferrer">help.aliyun.com/zh/model-stâ€¦</a></p>
<p>å‘é‡å­˜å‚¨ï¼ˆ<code>VectorStore</code>ï¼‰æ˜¯ä¸€ç§ç”¨äºå­˜å‚¨å’Œæ£€ç´¢<code>é«˜ç»´å‘é‡æ•°æ®</code>çš„æ•°æ®åº“æˆ–å­˜å‚¨è§£å†³æ–¹æ¡ˆï¼Œå®ƒç‰¹åˆ«é€‚ç”¨äºå¤„ç†é‚£äº›ç»è¿‡<code>åµŒå…¥æ¨¡å‹è½¬åŒ–å</code>çš„æ•°æ®ã€‚åœ¨ VectorStore ä¸­ï¼ŒæŸ¥è¯¢ä¸ä¼ ç»Ÿå…³ç³»æ•°æ®åº“ä¸åŒã€‚å®ƒä»¬<code>æ‰§è¡Œç›¸ä¼¼æ€§æœç´¢</code>ï¼Œè€Œ<code>ä¸æ˜¯ç²¾ç¡®åŒ¹é…</code>ã€‚å‘é‡æ•°æ®åº“ç»´åº¦è¶Šé«˜ï¼ŒæŸ¥è¯¢ç²¾å‡†åº¦ä¹Ÿè¶Šé«˜ï¼ŒæŸ¥è¯¢æ•ˆæœè¶Šå¥½ã€‚</p>
<p>æœ¬æ¬¡ä½¿ç”¨Redis8(RedisStack)ä½œä¸ºå‘é‡æ•°æ®åº“å­˜å‚¨ã€‚</p>
<h4 data-id="heading-4">RedisStackå½“ä½œå‘é‡å­˜å‚¨</h4>
<p>å®˜ç½‘åœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.spring.io%2Fspring-ai%2Freference%2Fapi%2Fvectordbs%2Fredis.html" target="_blank" title="https://docs.spring.io/spring-ai/reference/api/vectordbs/redis.html" ref="nofollow noopener noreferrer">docs.spring.io/spring-ai/râ€¦</a></p>
<p>RedisStackå…è´¹äº‘æ•°æ®åº“åœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.redis.io%2F%23%2Fdatabases" target="_blank" title="https://cloud.redis.io/#/databases" ref="nofollow noopener noreferrer">cloud.redis.io/#/databases</a></p>
<p>RedisStack: æ˜¯Redis Labsæ¨å‡ºçš„ <code>å¢å¼ºç‰ˆRedis</code>,ä¸æ˜¯Redisæ›¿ä»£å“ï¼Œæ˜¯åŸºäºåŸç”ŸRedisåŸºç¡€åŠŸèƒ½çš„æ‹“å±•åŒ…ï¼Œä¸“ä¸ºæ„å»º<code>ç°ä»£å®æ—¶åº”ç”¨</code>è€Œç”Ÿã€‚</p>























































<table><thead><tr><th>åŠŸèƒ½</th><th>Redisï¼ˆæ ‡å‡†ç‰ˆï¼‰</th><th>Redis Stack</th></tr></thead><tbody><tr><td>åŸºç¡€æ•°æ®ç»“æ„ï¼ˆString, List, Hash ç­‰ï¼‰</td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr><tr><td>æŒä¹…åŒ–ã€å¤åˆ¶ã€é›†ç¾¤</td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr><tr><td><strong>å…¨æ–‡æœç´¢ï¼ˆç±»ä¼¼ Elasticsearchï¼‰</strong></td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… å†…ç½®Â <strong>RediSearch</strong>Â æ¨¡å—</td></tr><tr><td><strong>JSON æ–‡æ¡£å­˜å‚¨ä¸æŸ¥è¯¢</strong></td><td>âŒ éœ€ç”¨ String + åº”ç”¨å±‚è§£æ</td><td>âœ… å†…ç½®Â <strong>RedisJSON</strong>Â æ¨¡å—</td></tr><tr><td><strong>æ¦‚ç‡æ•°æ®ç»“æ„ï¼ˆå¸ƒéš†è¿‡æ»¤å™¨ã€Top-K ç­‰ï¼‰</strong></td><td>âŒ</td><td>âœ… å†…ç½®Â <strong>RedisBloom</strong>Â æ¨¡å—</td></tr><tr><td><strong>æ—¶åºæ•°æ®å¤„ç†</strong></td><td>âŒï¼ˆå¯ç”¨ Sorted Set æ¨¡æ‹Ÿï¼‰</td><td>âœ… å†…ç½®Â <strong>RedisTimeSeries</strong>Â æ¨¡å—</td></tr><tr><td><strong>å‘é‡ç›¸ä¼¼æ€§æœç´¢ï¼ˆç”¨äº AI/è¯­ä¹‰æœç´¢ï¼‰</strong></td><td>âŒ</td><td>âœ… å†…ç½®Â <strong>RedisVL / Vector Similarity Search (VSS)</strong></td></tr><tr><td><strong>å›¾å½¢æ•°æ®åº“èƒ½åŠ›</strong></td><td>âŒ</td><td>âœ…ï¼ˆé€šè¿‡ RediGraph æ¨¡å—ï¼Œéƒ¨åˆ†ç‰ˆæœ¬åŒ…å«ï¼‰</td></tr><tr><td><strong>å¯è§†åŒ–ç®¡ç†å·¥å…·</strong></td><td>âŒï¼ˆéœ€ç¬¬ä¸‰æ–¹å·¥å…·ï¼‰</td><td>âœ… è‡ªå¸¦Â <strong>Redis Insight</strong>ï¼ˆWeb UIï¼Œå¯æŸ¥æ•°æ®ã€ç›‘æ§ã€è°ƒè¯•ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-5">å¼€å‘æ­¥éª¤</h4>
<p>é˜¿é‡Œå·´å·´å®˜ç½‘: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fmodel-studio%2Fembedding" target="_blank" title="https://help.aliyun.com/zh/model-studio/embedding" ref="nofollow noopener noreferrer">help.aliyun.com/zh/model-stâ€¦</a></p>
<h5 data-id="heading-6">åˆ›å»ºmodule</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eaebeaf141f8495e8414c6fe880b9443~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5a626aKG5YW75LqG5Liq55m96IOW6IOW:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766718300&amp;x-signature=f7kFVuL91rbRgI828vI%2BJXjn3iM%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-7">æ”¹POM</h5>
<p>å¼•å…¥spring-ai-starter-vector-store-redisä¾èµ–</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.miao<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>SpringAIAlibaba-test01<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>SAA-08Embedding<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!--  æ¨¡å‹æœåŠ¡çµç§¯  è°ƒç”¨alibabaç”Ÿæ€çš„åè®® å¯¹æ ‡openaiåè®®   --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-alibaba-starter-dashscope<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!--   å‘é‡æ•°æ®åº“ä¾èµ– redisstack    --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-ai-starter-vector-store-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.38<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<h5 data-id="heading-8">æ”¹yml</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8082</span>
  <span class="hljs-attr">servlet:</span>
    <span class="hljs-attr">encoding:</span>
      <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">force:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">charset:</span> <span class="hljs-string">UTF-8</span>

<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">application:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">SAA-07</span>
  <span class="hljs-attr">ai:</span>
    <span class="hljs-attr">dashscope:</span>
      <span class="hljs-attr">api-key:</span> <span class="hljs-string">${qwen-api-key}</span>
      <span class="hljs-attr">chat:</span>
        <span class="hljs-attr">options:</span>
          <span class="hljs-attr">model:</span> <span class="hljs-string">qwen3-vl-flash</span>
      <span class="hljs-attr">emedding:</span>
        <span class="hljs-attr">options:</span>
          <span class="hljs-attr">model:</span> <span class="hljs-string">text-embedding-v4</span>
    <span class="hljs-attr">vectorstore:</span>
      <span class="hljs-attr">redis:</span>
        <span class="hljs-attr">initialize-schema:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">index-name:</span> <span class="hljs-string">custom-indexhaha</span>
        <span class="hljs-attr">prefix:</span> <span class="hljs-string">custom-index</span>
  <span class="hljs-attr">data:</span>
    <span class="hljs-attr">redis:</span>
      <span class="hljs-attr">host:</span> <span class="hljs-string">redis-16002.c1.us-east1-2.gce.cloud.redislabs.com</span>
      <span class="hljs-attr">port:</span> <span class="hljs-number">16002</span>
      <span class="hljs-attr">password:</span> <span class="hljs-string">password</span>
</code></pre>
<h5 data-id="heading-9">å¯åŠ¨ç±»</h5>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">miao</span>;

<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">boot</span>.<span class="hljs-property">SpringApplication</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">boot</span>.<span class="hljs-property">autoconfigure</span>.<span class="hljs-property">SpringBootApplication</span>;

<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SAA08EmbeddingApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">SpringApplication</span>.<span class="hljs-title function_">run</span>(<span class="hljs-title class_">SAA08EmbeddingApplication</span>.<span class="hljs-property">class</span>, args);
    }
}
</code></pre>
<h5 data-id="heading-10">ä¸šåŠ¡ç±»</h5>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">miao</span>.<span class="hljs-property">controller</span>;

<span class="hljs-keyword">import</span> com.<span class="hljs-property">alibaba</span>.<span class="hljs-property">cloud</span>.<span class="hljs-property">ai</span>.<span class="hljs-property">dashscope</span>.<span class="hljs-property">embedding</span>.<span class="hljs-property">DashScopeEmbeddingOptions</span>;
<span class="hljs-keyword">import</span> jakarta.<span class="hljs-property">annotation</span>.<span class="hljs-property">Resource</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">ai</span>.<span class="hljs-property">document</span>.<span class="hljs-property">Document</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">ai</span>.<span class="hljs-property">embedding</span>.<span class="hljs-property">EmbeddingModel</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">ai</span>.<span class="hljs-property">embedding</span>.<span class="hljs-property">EmbeddingOptions</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">ai</span>.<span class="hljs-property">embedding</span>.<span class="hljs-property">EmbeddingRequest</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">ai</span>.<span class="hljs-property">vectorstore</span>.<span class="hljs-property">SearchRequest</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">ai</span>.<span class="hljs-property">vectorstore</span>.<span class="hljs-property">VectorStore</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">web</span>.<span class="hljs-property">bind</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">GetMapping</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">web</span>.<span class="hljs-property">bind</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">RequestParam</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">web</span>.<span class="hljs-property">bind</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">RestController</span>;

<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Arrays</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">List</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Objects</span>;

<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmbeddingController</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">EMBEDDING_MODEL</span> = <span class="hljs-string">"text-embedding-v4"</span>;
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">EmbeddingModel</span> dashScopeEmbeddingModel;

    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">VectorStore</span> vectorStore;

    <span class="hljs-comment">// å‘é‡åŒ–æ–‡æœ¬</span>
    <span class="hljs-meta">@GetMapping</span>(value = <span class="hljs-string">"/embedding"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">embedding</span>(<span class="hljs-params"><span class="hljs-meta">@RequestParam</span>(name = <span class="hljs-string">"text"</span>) <span class="hljs-built_in">String</span> text</span>) {
        <span class="hljs-comment">// å‘é‡åŒ–æ–‡æœ¬</span>
        <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; inputText = <span class="hljs-title class_">Arrays</span>.<span class="hljs-title function_">asList</span>(text);

        <span class="hljs-comment">// è®¾å®šæ¨¡å‹å‚æ•°</span>
        <span class="hljs-title class_">EmbeddingOptions</span> embeddingOptions = <span class="hljs-title class_">DashScopeEmbeddingOptions</span>.<span class="hljs-title function_">builder</span>()
                .<span class="hljs-title function_">withModel</span>(<span class="hljs-variable constant_">EMBEDDING_MODEL</span>)
                .<span class="hljs-title function_">build</span>();

        <span class="hljs-comment">// æ„å»ºè¯·æ±‚</span>
        <span class="hljs-title class_">EmbeddingRequest</span> embeddingRequest = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EmbeddingRequest</span>(inputText, embeddingOptions);
        <span class="hljs-keyword">return</span> dashScopeEmbeddingModel.<span class="hljs-title function_">call</span>(embeddingRequest).<span class="hljs-title function_">getResult</span>();
    }


    <span class="hljs-meta">@GetMapping</span>(value = <span class="hljs-string">"/addVectorStore"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">addVectorStore</span>(<span class="hljs-params"><span class="hljs-meta">@RequestParam</span>(name = <span class="hljs-string">"text"</span>) <span class="hljs-built_in">String</span> text</span>) {
        vectorStore.<span class="hljs-title function_">add</span>(<span class="hljs-title class_">List</span>.<span class="hljs-title function_">of</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Document</span>(text)));
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Text vector stored successfully."</span>;
    }


    <span class="hljs-meta">@GetMapping</span>(value = <span class="hljs-string">"/getVectors"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">Document</span>&gt; <span class="hljs-title function_">getVectors</span>(<span class="hljs-params"><span class="hljs-meta">@RequestParam</span>(name = <span class="hljs-string">"text"</span>) <span class="hljs-built_in">String</span> text</span>) {
        <span class="hljs-title class_">SearchRequest</span> searchRequest = <span class="hljs-title class_">SearchRequest</span>.<span class="hljs-title function_">builder</span>()
                .<span class="hljs-title function_">query</span>(text)
                .<span class="hljs-title function_">topK</span>(<span class="hljs-number">2</span>)
                .<span class="hljs-title function_">build</span>();
        <span class="hljs-keyword">return</span> vectorStore.<span class="hljs-title function_">similaritySearch</span>(searchRequest);
    }


}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰åç«¯åˆ†ç¦»VUE3+Springbooté¡¹ç›®é›†æˆPageOfficeæ ¸å¿ƒä»£ç ]]></title>    <link>https://juejin.cn/post/7585206549284962345</link>    <guid>https://juejin.cn/post/7585206549284962345</guid>    <pubDate>2025-12-19T03:14:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206549284962345" data-draft-id="7585080842113794084" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰åç«¯åˆ†ç¦»VUE3+Springbooté¡¹ç›®é›†æˆPageOfficeæ ¸å¿ƒä»£ç "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-19T03:14:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·69561944037"/> <meta itemprop="url" content="https://juejin.cn/user/3739869818388507"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰åç«¯åˆ†ç¦»VUE3+Springbooté¡¹ç›®é›†æˆPageOfficeæ ¸å¿ƒä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3739869818388507/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·69561944037
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:14:32.000Z" title="Fri Dec 19 2025 03:14:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åç«¯Springbooté¡¹ç›®</h2>
<ol>
<li>åœ¨é¡¹ç›®çš„pom.xmlä¸­é€šè¿‡ä¸‹é¢çš„ä»£ç å¼•å…¥PageOfficeä¾èµ–ã€‚pageoffice.jarå·²å‘å¸ƒåˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fmvnrepository.com%2Fartifact%2Fcom.zhuozhengsoft%2Fpageoffice" target="_blank" title="https://mvnrepository.com/artifact/com.zhuozhengsoft/pageoffice" ref="nofollow noopener noreferrer">Mavenä¸­å¤®ä»“åº“</a>ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zhuozhengsoft<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>   
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pageoffice<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>   
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.5.4.1-javax<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<ol start="2">
<li>åœ¨é¡¹ç›®çš„å¯åŠ¨ç±»Applicationç±»ä¸­æ·»åŠ ä¸€é¡¹@Beané…ç½®ï¼Œæ­¤ä¸ºPageOfficeæœåŠ¡å™¨ç«¯çš„å¿…è¦é…ç½®ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Value("${posyspath}")</span>
<span class="hljs-keyword">private</span> String poSysPath;

<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> ServletRegistrationBean <span class="hljs-title function_">pageofficeRegistrationBean</span><span class="hljs-params">()</span>  {
  com.zhuozhengsoft.pageoffice.poserver.<span class="hljs-type">Server</span> <span class="hljs-variable">poserver</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">com</span>.zhuozhengsoft.pageoffice.poserver.Server();
  poserver.setSysPath(poSysPath);<span class="hljs-comment">//è®¾ç½®PageOfficeæ³¨å†ŒæˆåŠŸå,license.licæ–‡ä»¶å­˜æ”¾çš„ç›®å½•</span>
    
  <span class="hljs-type">ServletRegistrationBean</span> <span class="hljs-variable">srb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletRegistrationBean</span>(poserver);
  srb.addUrlMappings(<span class="hljs-string">"/poserver.zz"</span>);
  srb.addUrlMappings(<span class="hljs-string">"/poclient"</span>);
  srb.addUrlMappings(<span class="hljs-string">"/sealsetup.exe"</span>);
  <span class="hljs-keyword">return</span> srb;
}
</code></pre>
<ol start="3">
<li>æ–°å»ºControllerå¹¶è°ƒç”¨PageOfficeåœ¨çº¿æ‰“å¼€æ–‡ä»¶ï¼Œä¾‹å¦‚DocumentControllerä»£ç å¦‚ä¸‹ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping(value = "/doc")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentController</span> {
	<span class="hljs-comment">//è·å–docç›®å½•çš„ç£ç›˜è·¯å¾„ï¼Œæ¯”å¦‚ï¼ŒLinuxæœåŠ¡å™¨çš„Officeæ–‡ä»¶å­˜æ”¾è·¯å¾„ä¸ºï¼š/root/documents/</span>
	<span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">dir</span> <span class="hljs-operator">=</span> <span class="hljs-string">"/root/documents/"</span>;

	<span class="hljs-meta">@RequestMapping(value="/openFile")</span>
	<span class="hljs-keyword">public</span> String <span class="hljs-title function_">openFile</span><span class="hljs-params">(HttpServletRequest request, String file_name)</span>  {
		<span class="hljs-type">PageOfficeCtrl</span> <span class="hljs-variable">poCtrl</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageOfficeCtrl</span>(request);
		<span class="hljs-comment">//webOpençš„ç¬¬ä¸€ä¸ªå‚æ•°æ”¯æŒèƒ½å¤Ÿè¾“å‡ºä¸‹è½½æ–‡ä»¶çš„Urlç›¸å¯¹åœ°å€æˆ–è€…æ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ç£ç›˜è·¯å¾„ä¸¤ç§æ–¹å¼</span>
		<span class="hljs-comment">//æŸ¥çœ‹è¯¦ç»†ï¼Œè¯·åœ¨"https://www.pageoffice.cn/"æœç´¢â€œPageOfficeå±æ€§æˆ–æ–¹æ³•ä¸­æ¶‰åŠåˆ°çš„URLè·¯å¾„æˆ–ç£ç›˜è·¯å¾„çš„è¯´æ˜â€</span>
		poCtrl.webOpen(<span class="hljs-string">"file://"</span>+dir+file_name, OpenModeType.docNormalEdit, <span class="hljs-string">"å¼ ä¸‰"</span>);
		<span class="hljs-keyword">return</span> poCtrl.getHtml();<span class="hljs-comment">//å¿…é¡»</span>
	}

	<span class="hljs-meta">@RequestMapping("/saveFile")</span>
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveFile</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span>  {
		<span class="hljs-type">FileSaver</span> <span class="hljs-variable">fs</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileSaver</span>(request, response);
		fs.saveToFile(dir + file_name);
		fs.close();
	}
}
</code></pre>
<h2 data-id="heading-1">å‰ç«¯vueé¡¹ç›®</h2>
<ol>
<li>å¼•ç”¨js-pageofficeåº“ã€‚
ä½¿ç”¨å‘½ä»¤å®‰è£…ï¼š<strong>npm install js-pageoffice@6.3.1 --save-exact</strong></li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šè¯·ç¡®ä¿å®‰è£…çš„js-pageofficeåº“ç‰ˆæœ¬å·ä¸åç«¯é¡¹ç›®pom.xmlæ–‡ä»¶ä¸­å¼•ç”¨çš„PageOffice JARåŒ…ç‰ˆæœ¬å·çš„å‰ä¸‰ä½ç›¸åŒã€‚</p>
</blockquote>
<ol start="2">
<li>
<p>åœ¨å…¨å±€æ‹¦æˆªå™¨ä¸­æ·»åŠ PageOfficeç›¸å…³é…ç½®ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">"axios"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">POBrowser</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"js-pageoffice"</span>;

<span class="hljs-comment">// åˆ›å»º axios å®ä¾‹</span>
<span class="hljs-keyword">const</span> service = axios.<span class="hljs-title function_">create</span>({
 <span class="hljs-attr">baseURL</span>: <span class="hljs-string">"/dev-api"</span>, <span class="hljs-comment">// è®¾ç½®ä½ çš„åŸºç¡€ URL</span>
 <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>, <span class="hljs-comment">// è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´</span>
});
<span class="hljs-comment">// è¯·æ±‚æ‹¦æˆªå™¨</span>
service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(
  <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
    <span class="hljs-comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ</span>
    <span class="hljs-comment">//const token = Cookies.get('token'); // å‡è®¾ä½ çš„tokenå­˜å‚¨åœ¨cookieä¸­</span>
    <span class="hljs-keyword">const</span> token = <span class="hljs-string">"123"</span>;
    <span class="hljs-keyword">if</span> (token) {
      config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Authorization"</span>] = <span class="hljs-string">"Bearer "</span> + token; <span class="hljs-comment">// å°†tokenæ·»åŠ åˆ°è¯·æ±‚å¤´ä¸­</span>
      <span class="hljs-comment">// PageOfficeå…¨å±€é…ç½®ï¼Œå¿…é¡»åœ¨æ­¤æ‹¦æˆªå™¨ä¸­å®šä¹‰</span>
      <span class="hljs-comment">//å¿…é¡»ã€‚è®¾ç½®åç«¯ä»£ç†,å…·ä½“å±æ€§å€¼ä»¥æ‚¨å®é™…å¼€å‘ä¸ºå‡†,æ¯”å¦‚POBrowser.setProxyBaseAPI(process.env.VUE_APP_BASE_API);</span>
      <span class="hljs-title class_">POBrowser</span>.<span class="hljs-title function_">setProxyBaseAPI</span>(<span class="hljs-string">"/dev-api"</span>);
      <span class="hljs-comment">//å¿…é¡»ã€‚å‘PageOfficeåç«¯è¯·æ±‚è®¾ç½®headerï¼Œæ”¯æŒå¤šæ¬¡è°ƒç”¨setHeader()è®¾ç½®æ›´å¤šçš„å€¼ï¼Œå…·ä½“å±æ€§åç§°å’Œå±æ€§å€¼ä»¥æ‚¨å®é™…å¼€å‘ä¸ºå‡†ã€‚</span>
      <span class="hljs-title class_">POBrowser</span>.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">"Bearer "</span> + token); 
      <span class="hljs-comment">/**
       * å‰ç«¯å­˜å‚¨tokençš„æ–¹æ¡ˆ
       *æ–¹æ¡ˆ1.ä½¿ç”¨Cookie
       *å¦‚æœæ‚¨çš„ä»¤ç‰Œ(token)å­˜å‚¨åœ¨Cookieä¸­ï¼ŒPageOfficeä¼šé»˜è®¤æ”¯æŒé€šè¿‡Cookieæ–¹å¼ä¿å­˜ä»¤ç‰Œï¼Œå› æ­¤æ‚¨æ— éœ€ç¼–å†™ä»»ä½•é¢å¤–çš„ä»£ç ã€‚
       *æ–¹æ¡ˆ2.ä½¿ç”¨Localstorageæˆ–è€…SessionStorage
       *å¦‚æœä»¤ç‰Œ(token)æ˜¯ä¿å­˜åœ¨LocalStorageæˆ–SessionStorageä¸­ï¼Œæ‚¨å¿…é¡»è°ƒç”¨POBrowser.setStorage()æ–¹æ³•ã€‚
       */</span>
      <span class="hljs-comment">//POBrowser.setStorage("Admin-Token",getToken());//æ”¯æŒå¤šæ¬¡è°ƒç”¨setStorage()è®¾ç½®æ›´å¤šçš„å€¼ï¼Œå…·ä½“å±æ€§åç§°å’Œå±æ€§å€¼ä»¥æ‚¨å®é™…å¼€å‘ä¸ºå‡†ã€‚</span>
    }

    <span class="hljs-keyword">return</span> config;
  },
  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-comment">// å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);
  }
);
</code></pre>
</li>
<li>
<p>æ–°å»ºä¸€ä¸ªVueé¡µé¢ï¼šsrc/views/DocView.vueï¼Œç”¨æ¥æ˜¾ç¤ºåœ¨çº¿æ‰“å¼€çš„æ–‡æ¡£ã€‚</p>
</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"> <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
 <span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/request'</span>;
 <span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

 <span class="hljs-keyword">const</span> poHtmlCode = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);
 <span class="hljs-keyword">const</span> open_params = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);

 <span class="hljs-keyword">function</span> <span class="hljs-title function_">OnPageOfficeCtrlInit</span>(<span class="hljs-params"/>) {
   <span class="hljs-comment">// PageOfficeçš„åˆå§‹åŒ–äº‹ä»¶å›è°ƒå‡½æ•°ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ è‡ªå®šä¹‰æŒ‰é’®</span>
   pageofficectrl.<span class="hljs-title class_">AddCustomToolButton</span>(<span class="hljs-string">"ä¿å­˜"</span>, <span class="hljs-string">"Save"</span>, <span class="hljs-number">1</span>);<span class="hljs-comment">//å…¶ä¸­"Save"å¯¹åº”function Save()å‡½æ•°ï¼Œå¹¶ä¸”éœ€è¦åœ¨onMountedä¸­æŒ‚è½½ã€‚</span>
 };

 <span class="hljs-keyword">function</span> <span class="hljs-title function_">Save</span>(<span class="hljs-params"/>) {
   <span class="hljs-comment">//ä½¿ç”¨SaveFilePageå±æ€§è®¾ç½®åç«¯ä¿å­˜æ–¹æ³•çš„Controllerè·¯ç”±åœ°å€ï¼Œè¿™ä¸ªåœ°å€å¿…é¡»ä»"/"å¼€å§‹ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥å‘æ­¤è·¯ç”±åœ°å€ä¼ é€’jsonå­—ç¬¦ä¸²å‚æ•°ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</span>
   <span class="hljs-keyword">let</span> saveFileUrl = <span class="hljs-string">"/doc/saveFile"</span>;
   <span class="hljs-keyword">let</span> paramValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(open_params.<span class="hljs-property">value</span>);<span class="hljs-comment">//ä¸ºäº†ç®€å•èµ·è§ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨æ‰“å¼€æ—¶çš„å‚æ•°ã€‚</span>
   pageofficectrl.<span class="hljs-property">SaveFilePage</span> = <span class="hljs-string">`<span class="hljs-subst">${saveFileUrl}</span>?<span class="hljs-subst">${paramValue.toString()}</span>`</span>;
   <span class="hljs-comment">//åœ¨è¿™é‡Œå†™æ‚¨ä¿å­˜å‰çš„ä»£ç </span>
   pageofficectrl.<span class="hljs-title class_">WebSave</span>();
   <span class="hljs-comment">//åœ¨è¿™é‡Œå†™æ‚¨ä¿å­˜åçš„ä»£ç ï¼Œæ¯”å¦‚åˆ¤æ–­ä¿å­˜ç»“æœpageofficectrl.CustomSaveResult</span>
   <span class="hljs-comment">//alert(pageofficectrl.CustomSaveResult);</span>
 };

 <span class="hljs-keyword">function</span> <span class="hljs-title function_">AfterDocumentOpened</span>(<span class="hljs-params"/>) {
   <span class="hljs-comment">//åœ¨è¿™é‡Œå†™æ‚¨æ–‡æ¡£æ‰“å¼€åè‡ªåŠ¨è§¦å‘çš„ä»£ç </span>
 };

 <span class="hljs-keyword">function</span> <span class="hljs-title function_">openFile</span>(<span class="hljs-params"/>) {
   <span class="hljs-comment">// å‘èµ·GETè¯·æ±‚åˆ°åç«¯Controllerçš„/doc/openFileè·¯ç”±</span>
   <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>({
     <span class="hljs-attr">url</span>: <span class="hljs-string">'/doc/openFile'</span>,
     <span class="hljs-attr">method</span>: <span class="hljs-string">'get'</span>,
     <span class="hljs-attr">params</span>: open_params.<span class="hljs-property">value</span>
   });
 };

 <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
   <span class="hljs-comment">//ä½¿ç”¨pageofficectrl.WindowParamsè·å–è·å–çˆ¶é¡µé¢(æ­¤é¡¹ç›®ä¸­ä¸ºï¼šHomeView.vue)ä¸­POBrowser.openWindow()æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°çš„å€¼,è·å–åˆ°çš„å€¼ä¸ºstringç±»å‹</span>
   open_params.<span class="hljs-property">value</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(pageofficectrl.<span class="hljs-property">WindowParams</span>);
   <span class="hljs-comment">// è¯·æ±‚åç«¯æ‰“å¼€æ–‡ä»¶</span>
   <span class="hljs-title function_">openFile</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
     poHtmlCode.<span class="hljs-property">value</span> = response;
   });
   <span class="hljs-comment">//å°†éœ€è¦å›è°ƒçš„å‡½æ•°æŒ‚è½½åˆ°PageOfficeæ§ä»¶ï¼Œä¾‹å¦‚æ§ä»¶è§¦å‘çš„äº‹ä»¶ã€è‡ªå®šä¹‰æŒ‰é’®è§¦å‘çš„å‡½æ•°ã€‚</span>
   <span class="hljs-variable language_">window</span>.<span class="hljs-property">POPageMounted</span> = { <span class="hljs-title class_">OnPageOfficeCtrlInit</span>, <span class="hljs-title class_">AfterDocumentOpened</span>, <span class="hljs-title class_">Save</span> };<span class="hljs-comment">//å…¶ä¸­OnPageOfficeCtrlInitå¿…é¡»</span>

 });
 </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"doc"</span>&gt;</span>
     æ¼”ç¤º: æ–‡æ¡£<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
     <span class="hljs-comment">&lt;!-- æ­¤divç”¨æ¥åŠ è½½PageOfficeå®¢æˆ·ç«¯æ§ä»¶ï¼Œå…¶ä¸­divçš„é«˜å®½åŠä½ç½®å°±å†³å®šäº†æ§ä»¶çš„å¤§å°åŠä½ç½® --&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width:auto; height:900px;"</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">"poHtmlCode"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<ol start="4">
<li>æ¯”å¦‚é…ç½®DocView.vueçš„è®¿é—®è·¯ç”±ä¸ºï¼š/showDocï¼Œåœ¨æ‚¨çš„Vueé¡µé¢ï¼ˆæ¯”å¦‚HomeView.vueï¼ŒPageOfficeä¸­æŠŠè¿™ä¸ªé¡µé¢ç§°ä¹‹ä¸ºçˆ¶é¡µé¢ï¼‰æ·»åŠ ä¸€ä¸ªæ‰“å¼€æ–‡ä»¶çš„è¶…é“¾æ¥ï¼Œç‚¹å‡»è¶…é“¾æ¥è°ƒç”¨POBrowserå¯¹è±¡çš„openWindowæ–¹æ³•ï¼Œå¼¹å‡ºPageOfficeæµè§ˆå™¨ï¼ˆPOBrowserï¼‰çª—å£è®¿é—®DocView.vueåœ¨çº¿æ‰“å¼€æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">    &lt;a  <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> @click.prevent=<span class="hljs-string">"open_pageoffice()"</span>&gt;æ‰“å¼€æ–‡ä»¶&lt;/a&gt;
</code></pre>
<pre><code class="hljs language-xml" lang="xml"> <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
 <span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/request'</span>;
 <span class="hljs-keyword">import</span> { <span class="hljs-title class_">POBrowser</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"js-pageoffice"</span>;
 <span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

 <span class="hljs-keyword">const</span> titleText = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);
 <span class="hljs-keyword">const</span> paramJson = {};
 paramJson.<span class="hljs-property">file_id</span> = <span class="hljs-number">1</span>;
 paramJson.<span class="hljs-property">file_name</span> = <span class="hljs-string">"test.doc"</span>;
 <span class="hljs-keyword">const</span> paramString = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(paramJson);

 <span class="hljs-keyword">function</span> <span class="hljs-title function_">open_pageoffice</span>(<span class="hljs-params"/>) {
   <span class="hljs-comment">//openWindow()ç¬¬ä¸‰ä¸ªå‚æ•°ç”¨æ¥å‘å¼¹å‡ºçš„PageOfficeæµè§ˆå™¨ï¼ˆPOBrowserï¼‰çª—å£ä¼ é€’å‚æ•°(å‚æ•°é•¿åº¦ä¸é™)ï¼Œæ”¯æŒjsonæ ¼å¼å­—ç¬¦ä¸²ã€‚</span>
   <span class="hljs-comment">//æ­¤å¤„ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæˆ‘ä»¬ä¼ é€’äº†file_idå’Œfile_nameä¸¤ä¸ªå‚æ•°ï¼Œå…·ä½“ä»¥æ‚¨å®é™…å¼€å‘ä¸ºå‡†ã€‚</span>
   <span class="hljs-title class_">POBrowser</span>.<span class="hljs-title function_">openWindow</span>(<span class="hljs-string">'/showDoc'</span>, <span class="hljs-string">'width=1150px;height=900px;'</span>, paramString);

 }
 </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>è¯¦ç»†è¯·å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpageoffice.cn%2Fpages%2F1c2c6e%2F" target="_blank" title="https://pageoffice.cn/pages/1c2c6e/" ref="nofollow noopener noreferrer">pageoffice.cn/pages/1c2c6â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mac Redis å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰]]></title>    <link>https://juejin.cn/post/7585091685339611182</link>    <guid>https://juejin.cn/post/7585091685339611182</guid>    <pubDate>2025-12-19T03:25:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585091685339611182" data-draft-id="7585019819193106442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mac Redis å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰"/> <meta itemprop="keywords" content="Redis"/> <meta itemprop="datePublished" content="2025-12-19T03:25:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mac Redis å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:25:41.000Z" title="Fri Dec 19 2025 03:25:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å®‰è£…</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbrew.sh%2F" target="_blank" title="https://brew.sh/" ref="nofollow noopener noreferrer">homebrew</a></p>
</li>
<li>
<p>å…ˆæŸ¥æ‰¾ <code>homebrew search redis</code>ï¼Œå†ç›´æ¥å®‰è£…ï¼Œæˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fredis.io%2F" target="_blank" title="https://redis.io/" ref="nofollow noopener noreferrer">å®˜æ–¹ä¸‹è½½</a>ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">dengzemiao@dengzemiaodeMacBook-Air ~ % brew search redis

==&gt; **Formulae******

hiredis Â  Â  Â  Â  Â  Â  redis-leveldb Â  Â  Â  redir Â  Â  Â  Â  Â  Â  Â  redu

iredisÂ  Â  Â  Â  Â  Â  Â  redis@6.2 Â  Â  Â  Â  Â  redictÂ  Â  Â  Â  Â  Â  Â  redo

**redis** **âœ”** Â  Â  Â  Â  Â  Â  redis@8.2 Â  Â  Â  Â  Â  reddix

==&gt; **Casks******

another-redis-desktop-managerÂ  Â  Â  Â  Â  Â  redis-insight

jpadilla-redis Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  redis-pro

medis
</code></pre>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># å®‰è£…</span>
$ brew install redis

<span class="hljs-comment"># å¯åŠ¨ï¼Œä¼šåå°æŒ‚èµ·ï¼Œå¼€æœºè‡ªå¯</span>
$ brew services start redis
<span class="hljs-comment"># åœæ­¢</span>
$ brew services stop redis
<span class="hljs-comment"># é‡å¯</span>
$ brew services restart redis
</code></pre>
<p>éªŒè¯å®‰è£…</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># çœ‹å“ªä¸ªæŒ‡ä»¤æˆåŠŸå°±æ˜¯å“ªä¸ª</span>
$ redis-server --version
$ redis-cli --version

<span class="hljs-comment"># éªŒè¯</span>
$ redis-cli ping
<span class="hljs-comment"># è¿”å› PONG</span>
</code></pre>
<p>é…ç½®æ–‡ä»¶å­˜æ”¾ä½ç½®</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># ä¸€èˆ¬æ˜¯</span>
/opt/homebrew/etc/redis.conf

<span class="hljs-comment"># Apple Siliconï¼ˆM1/M2/M3ï¼‰å¯èƒ½ä¼šåœ¨ï¼š</span>
/opt/homebrew/etc/redis.conf
</code></pre>
</li>
<li>
<p><a href="https://juejin.cn/post/7583632757836464179" target="_blank" title="https://juejin.cn/post/7583632757836464179">Windows å®‰è£…å‚è€ƒæ–‡ç« </a></p>
</li>
<li>
<p><code>gui</code> å®¢æˆ·ç«¯å¯¹æ¯”</p>













































<table><thead><tr><th>åç§°</th><th>å®˜ç½‘ / winget / ä¸‹è½½</th><th>ä¸­æ–‡æ”¯æŒ</th><th>ç³»ç»Ÿ</th><th>ä¼˜ç‚¹</th><th>å®‰è£…æ–¹å¼</th></tr></thead><tbody><tr><td><strong>RedisInsight</strong></td><td>RedisInsight.RedisInsight / <a href="https://link.juejin.cn?target=https%3A%2F%2Fredis.com%2Fredis-enterprise%2Fredis-insight%2F" target="_blank" title="https://redis.com/redis-enterprise/redis-insight/" ref="nofollow noopener noreferrer">å®˜ç½‘</a></td><td>æ”¯æŒä¸­æ–‡ï¼ˆå¯åˆ‡æ¢ï¼‰</td><td>Win / Mac / Linux</td><td>å®˜æ–¹å‡ºå“ï¼ŒåŠŸèƒ½å…¨é¢ï¼šKey æµè§ˆã€CLIã€å›¾è¡¨ç›‘æ§</td><td>å®˜æ–¹å®‰è£…åŒ… / winget install</td></tr><tr><td><strong>Another Redis Desktop Manager (RDM)</strong></td><td>qishibo.AnotherRedisDesktopMana / <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fqishibo%2FAnotherRedisDesktopManager" target="_blank" title="https://github.com/qishibo/AnotherRedisDesktopManager" ref="nofollow noopener noreferrer">GitHub</a></td><td>éƒ¨åˆ†ä¸­æ–‡</td><td>Win / Mac / Linux</td><td>ç¤¾åŒºæ´»è·ƒï¼Œæ›´æ–°å¿«ï¼Œæ”¯æŒå¤šæ•°æ®åº“è¿æ¥</td><td>å®˜æ–¹ exe / dmg / AppImage</td></tr><tr><td><strong>TablePlus</strong></td><td>TablePlus.TablePlus / <a href="https://link.juejin.cn?target=https%3A%2F%2Ftableplus.com%2F" target="_blank" title="https://tableplus.com/" ref="nofollow noopener noreferrer">å®˜ç½‘</a></td><td>æ”¯æŒä¸­æ–‡</td><td>Win / Mac</td><td>UI ç¾è§‚ï¼Œæ”¯æŒå¤šç§æ•°æ®åº“ï¼ˆMySQL / Postgres / Redis ç­‰ï¼‰</td><td>å®˜æ–¹å®‰è£…åŒ…</td></tr><tr><td><strong>P3X Redis UI</strong></td><td>PatrikLaszlo.P3XRedisUI / <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpatrikx3%2Fp3x-redis-ui" target="_blank" title="https://github.com/patrikx3/p3x-redis-ui" ref="nofollow noopener noreferrer">GitHub</a></td><td>è‹±æ–‡</td><td>Win / Mac / Linux</td><td>è·¨å¹³å° Electron åº”ç”¨ï¼Œæ”¯æŒå¤šæ•°æ®åº“</td><td>npm / exe / dmg</td></tr></tbody></table>
</li>
</ul>
<h2 data-id="heading-1">äºŒã€å¯è§†åŒ–</h2>
<ul>
<li>
<p>åœ¨ <code>Windows å‚è€ƒæ–‡ç« </code> ä¸­æœ‰ä»‹ç»è¿‡äº†ï¼Œç›´æ¥å®‰è£… <code>another-redis-desktop-manager</code></p>
<pre><code class="hljs language-sh" lang="sh">$ brew search another-redis-desktop-manager
</code></pre>
</li>
<li>
<p>å®‰è£…</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># å®‰è£…å¯è§†åŒ–è½¯ä»¶éœ€è¦ä½¿ç”¨ --cask ï¼Œå¦‚æœä¸æ˜¯åˆ™ä¸éœ€è¦ä½¿ç”¨ï¼ŒCasks ä¸‹é¢çš„éƒ½éœ€è¦ï¼ŒFormulae ä¸‹é¢ä¸ç”¨å¸¦è¿™ä¸ªå‚æ•°</span>
$ brew install --cask another-redis-desktop-manager
</code></pre>
</li>
<li>
<p>ä¿®æ”¹è¯­è¨€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09ffb185f5e74e1d82dde62e5d670d27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCU54m55pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719541&amp;x-signature=HMaQZ9KvWermhNbA5dxNZaNmPPk%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>ç„¶åè¿æ¥ <code>resdis</code> å³å¯ã€‚</p>
</li>
<li>
<p>å¦‚æœæ˜¯å…¶ä»–ç”µè„‘éœ€è¦ä¿®æ”¹è®¿é—®æƒé™é™åˆ¶ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fzz00008888%2Farticle%2Fdetails%2F156061082" target="_blank" title="https://blog.csdn.net/zz00008888/article/details/156061082" ref="nofollow noopener noreferrer"># Windows Redis Memurai é…ç½®æŒ‡å—ã€ç”¨æˆ·åˆ›å»ºã€æƒé™ç®¡ç†</a>ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[RGBtoGrayscaleèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7585085798809337883</link>    <guid>https://juejin.cn/post/7585085798809337883</guid>    <pubDate>2025-12-19T03:24:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585085798809337883" data-draft-id="7585289701793169434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[RGBtoGrayscaleèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2025-12-19T03:24:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[RGBtoGrayscaleèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:24:50.000Z" title="Fri Dec 19 2025 03:24:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<p>åœ¨Unityçš„Shader Graphå¯è§†åŒ–ç€è‰²å™¨ç¼–è¾‘å™¨ä¸­ï¼ŒRGBtoGrayscaleèŠ‚ç‚¹æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”å¸¸ç”¨çš„å›¾åƒå¤„ç†å·¥å…·ã€‚è¯¥èŠ‚ç‚¹ä¸“é—¨ç”¨äºå°†RGBå½©è‰²ä¿¡æ¯è½¬æ¢ä¸ºç°åº¦å€¼ï¼Œè¿™ä¸€è¿‡ç¨‹åœ¨è®¡ç®—æœºå›¾å½¢å­¦å’Œå›¾åƒå¤„ç†ä¸­è¢«ç§°ä¸ºç°åº¦åŒ–æˆ–å»è‰²å¤„ç†ã€‚é€šè¿‡å°†åŒ…å«çº¢ã€ç»¿ã€è“ä¸‰ä¸ªé€šé“çš„å½©è‰²ä¿¡æ¯è½¬æ¢ä¸ºå•ä¸€çš„äº®åº¦å€¼ï¼ŒRGBtoGrayscaleèŠ‚ç‚¹èƒ½å¤Ÿæœ‰æ•ˆåœ°ç®€åŒ–é¢œè‰²ä¿¡æ¯ï¼ŒåŒæ—¶ä¿ç•™å›¾åƒçš„ç»“æ„å’Œç»†èŠ‚ç‰¹å¾ã€‚</p>
<h2 data-id="heading-0">èŠ‚ç‚¹å·¥ä½œåŸç†</h2>
<p>RGBtoGrayscaleèŠ‚ç‚¹çš„æ ¸å¿ƒåŠŸèƒ½åŸºäºäººçœ¼å¯¹ä¸åŒé¢œè‰²æ•æ„Ÿåº¦çš„ç§‘å­¦åŸç†ã€‚äººçœ¼å¯¹ç»¿è‰²æœ€ä¸ºæ•æ„Ÿï¼Œçº¢è‰²æ¬¡ä¹‹ï¼Œå¯¹è“è‰²æœ€ä¸æ•æ„Ÿã€‚å› æ­¤ï¼Œåœ¨å°†RGBé¢œè‰²è½¬æ¢ä¸ºç°åº¦å€¼æ—¶ï¼Œä¸èƒ½ç®€å•åœ°å¯¹ä¸‰ä¸ªé€šé“å–å¹³å‡å€¼ï¼Œè€Œæ˜¯éœ€è¦é‡‡ç”¨åŠ æƒå¹³å‡çš„æ–¹æ³•ï¼Œä»¥ç¬¦åˆäººçœ¼çš„æ„ŸçŸ¥ç‰¹æ€§ã€‚</p>
<p>è¯¥èŠ‚ç‚¹å†…éƒ¨ä½¿ç”¨æ ‡å‡†çš„ç°åº¦è½¬æ¢å…¬å¼è¿›è¡Œè®¡ç®—ï¼Œæœ€å¸¸è§çš„å…¬å¼æ˜¯åŸºäºITU-R BT.601æ ‡å‡†çš„äº®åº¦å…¬å¼ã€‚è¿™ä¸ªå…¬å¼è€ƒè™‘äº†äººçœ¼å¯¹ä¸åŒæ³¢é•¿å…‰çš„æ•æ„Ÿåº¦å·®å¼‚ï¼Œé€šè¿‡ä¸ºæ¯ä¸ªé¢œè‰²é€šé“åˆ†é…ä¸åŒçš„æƒé‡æ¥å®ç°æ›´ç¬¦åˆäººç±»è§†è§‰æ„ŸçŸ¥çš„ç°åº¦è½¬æ¢æ•ˆæœã€‚</p>
<p>åœ¨Shader Graphä¸­ï¼ŒRGBtoGrayscaleèŠ‚ç‚¹çš„å®ç°é€šå¸¸éµå¾ªä»¥ä¸‹æ•°å­¦è¡¨è¾¾å¼ï¼šç°åº¦å€¼ = R Ã— 0.299 + G Ã— 0.587 + B Ã— 0.114ã€‚è¿™ä¸ªç‰¹å®šçš„æƒé‡åˆ†é…ï¼ˆçº¢è‰²29.9%ï¼Œç»¿è‰²58.7%ï¼Œè“è‰²11.4%ï¼‰æ˜¯åŸºäºäººçœ¼é”¥ä½“ç»†èƒå¯¹ä¸åŒé¢œè‰²æ•æ„Ÿåº¦çš„ç§‘å­¦ç ”ç©¶ç»“æœï¼Œç¡®ä¿è½¬æ¢åçš„ç°åº¦å›¾åƒåœ¨äººçœ¼çœ‹æ¥å…·æœ‰è‡ªç„¶çš„äº®åº¦å±‚æ¬¡ã€‚</p>
<p>ä»æŠ€æœ¯å®ç°è§’åº¦çœ‹ï¼ŒRGBtoGrayscaleèŠ‚ç‚¹åœ¨ç€è‰²å™¨ç¨‹åºä¸­é€šå¸¸è¢«ç¼–è¯‘ä¸ºä¸€ç³»åˆ—çš„ç‚¹ä¹˜æ“ä½œæˆ–ä¹˜æ³•ç´¯åŠ æ“ä½œï¼Œè¿™äº›æ“ä½œåœ¨ç°ä»£GPUä¸Šèƒ½å¤Ÿé«˜æ•ˆæ‰§è¡Œï¼Œå³ä½¿æ˜¯åœ¨å®æ—¶æ¸²æŸ“åœºæ™¯ä¸­ä¹Ÿä¸ä¼šé€ æˆæ˜æ˜¾çš„æ€§èƒ½å¼€é”€ã€‚</p>
<h2 data-id="heading-1">ç«¯å£è¯¦è§£</h2>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/RGBtoGrayscaleNodeThumb.png" alt="" loading="lazy"/></p>
<p>RGBtoGrayscaleèŠ‚ç‚¹çš„ç«¯å£è®¾è®¡ç®€æ´æ˜äº†ï¼ŒåŒ…å«ä¸€ä¸ªè¾“å…¥ç«¯å£å’Œä¸€ä¸ªè¾“å‡ºç«¯å£ï¼Œè¿™ç§è®¾è®¡ä½¿å¾—èŠ‚ç‚¹æ˜“äºç†è§£å’Œä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†åŠŸèƒ½çš„ä¸“ä¸€æ€§ã€‚</p>
<h3 data-id="heading-2">è¾“å…¥ç«¯å£</h3>
<p>è¾“å…¥ç«¯å£æ ‡è®°ä¸º"In"ï¼Œæ¥å—Vector 3ç±»å‹çš„æ•°æ®ï¼Œä»£è¡¨æ ‡å‡†çš„RGBé¢œè‰²ä¿¡æ¯ï¼š</p>
<ul>
<li>Rï¼ˆçº¢è‰²ï¼‰é€šé“ï¼šå­˜å‚¨é¢œè‰²çš„çº¢è‰²åˆ†é‡ï¼Œå–å€¼èŒƒå›´é€šå¸¸ä¸º[0,1]</li>
<li>Gï¼ˆç»¿è‰²ï¼‰é€šé“ï¼šå­˜å‚¨é¢œè‰²çš„ç»¿è‰²åˆ†é‡ï¼Œå–å€¼èŒƒå›´é€šå¸¸ä¸º[0,1]</li>
<li>Bï¼ˆè“è‰²ï¼‰é€šé“ï¼šå­˜å‚¨é¢œè‰²çš„è“è‰²åˆ†é‡ï¼Œå–å€¼èŒƒå›´é€šå¸¸ä¸º[0,1]</li>
</ul>
<p>è¾“å…¥ç«¯å£æ²¡æœ‰ç‰¹å®šçš„ç»‘å®šè¦æ±‚ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æ¥æ”¶æ¥è‡ªå¤šç§æºçš„RGBæ•°æ®ï¼š</p>
<ul>
<li>å¯ä»¥ç›´æ¥è¿æ¥ConstantèŠ‚ç‚¹æˆ–ColorèŠ‚ç‚¹çš„è¾“å‡º</li>
<li>å¯ä»¥æ¥æ”¶Texture 2DèŠ‚ç‚¹é‡‡æ ·åçš„é¢œè‰²æ•°æ®</li>
<li>å¯ä»¥æ¥æ”¶å…¶ä»–é¢œè‰²å¤„ç†èŠ‚ç‚¹å¤„ç†åçš„ç»“æœ</li>
<li>å¯ä»¥æ¥æ”¶æ¥è‡ªShader Graphå±æ€§ï¼ˆPropertiesï¼‰çš„è¾“å…¥å€¼</li>
</ul>
<p>è¾“å…¥æ•°æ®çš„èŒƒå›´é€šå¸¸åº”åœ¨[0,1]åŒºé—´å†…ï¼Œè¿™æ˜¯æ ‡å‡†çš„é¢œè‰²è¡¨ç¤ºèŒƒå›´ã€‚å¦‚æœè¾“å…¥å€¼è¶…å‡ºæ­¤èŒƒå›´ï¼ŒèŠ‚ç‚¹ä»ç„¶ä¼šè¿›è¡Œè®¡ç®—ï¼Œä½†ç»“æœå¯èƒ½ä¸ç¬¦åˆé¢„æœŸï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜åŠ¨æ€èŒƒå›´(HDR)é¢œè‰²æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„å¤„ç†æ­¥éª¤ã€‚</p>
<h3 data-id="heading-3">è¾“å‡ºç«¯å£</h3>
<p>è¾“å‡ºç«¯å£æ ‡è®°ä¸º"Out"ï¼Œæä¾›Floatç±»å‹çš„ç°åº¦å€¼ï¼š</p>
<ul>
<li>è¾“å‡ºå€¼æ˜¯æ ‡é‡è€Œéå‘é‡ï¼Œè¡¨ç¤ºè®¡ç®—å¾—åˆ°çš„äº®åº¦å€¼</li>
<li>è¾“å‡ºèŒƒå›´é€šå¸¸ä¸è¾“å…¥èŒƒå›´ç›¸å…³ï¼Œå¯¹äºæ ‡å‡†[0,1]èŒƒå›´çš„è¾“å…¥ï¼Œè¾“å‡ºä¹Ÿåœ¨[0,1]èŒƒå›´å†…</li>
<li>è¾“å‡ºå€¼å¯ä»¥ç›´æ¥ç”¨äºåç»­çš„ç€è‰²è®¡ç®—ï¼Œæˆ–ä½œä¸ºå…¶ä»–èŠ‚ç‚¹çš„è¾“å…¥</li>
</ul>
<p>è¾“å‡ºç«¯å£çš„å•å€¼ç‰¹æ€§ä½¿å¾—å®ƒéå¸¸é€‚åˆç”¨äºï¼š</p>
<ul>
<li>åˆ›å»ºé»‘ç™½æ•ˆæœå’Œå»è‰²ç€è‰²å™¨</li>
<li>ä½œä¸ºé®ç½©æˆ–äº®åº¦ä¿¡æ¯çš„æ¥æº</li>
<li>åœ¨æ³•çº¿è´´å›¾ã€é«˜åº¦è´´å›¾ç­‰éé¢œè‰²æ•°æ®å¤„ç†ä¸­æå–å¼ºåº¦ä¿¡æ¯</li>
<li>ä½œä¸ºå¤æ‚ç€è‰²å™¨ç½‘ç»œä¸­çš„ä¸­é—´è®¡ç®—æ­¥éª¤</li>
</ul>
<h2 data-id="heading-4">åº”ç”¨åœºæ™¯</h2>
<p>RGBtoGrayscaleèŠ‚ç‚¹åœ¨æ¸¸æˆå¼€å‘å’Œå®æ—¶æ¸²æŸ“ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºèƒ½å¤Ÿä»å½©è‰²ä¿¡æ¯ä¸­æå–äº®åº¦æ•°æ®ï¼Œè¿™ä¸€åŠŸèƒ½åœ¨å¤šç§è§†è§‰æ•ˆæœå’Œæ¸²æŸ“æŠ€æœ¯ä¸­éƒ½æ˜¯åŸºç¡€ä¸”å…³é”®çš„ã€‚</p>
<h3 data-id="heading-5">å›¾åƒå¤„ç†ä¸æ»¤é•œæ•ˆæœ</h3>
<p>åœ¨å›¾åƒåå¤„ç†å’Œæ»¤é•œæ•ˆæœä¸­ï¼ŒRGBtoGrayscaleèŠ‚ç‚¹æ˜¯å®ç°å¤šç§é«˜çº§æ•ˆæœçš„åŸºç¡€ï¼š</p>
<ul>
<li>å®Œæ•´çš„å»è‰²æ•ˆæœï¼šé€šè¿‡å°†èŠ‚ç‚¹è¾“å‡ºåŒæ—¶èµ‹å€¼ç»™RGBä¸‰ä¸ªé€šé“ï¼Œå¯ä»¥åˆ›å»ºå®Œæ•´çš„é»‘ç™½å›¾åƒæ•ˆæœ</li>
<li>é€‰æ‹©æ€§å»è‰²ï¼šé€šè¿‡å°†åŸå§‹é¢œè‰²ä¸ç°åº¦å€¼è¿›è¡Œæ··åˆï¼Œå¯ä»¥åˆ›å»ºéƒ¨åˆ†åŒºåŸŸå½©è‰²ã€éƒ¨åˆ†åŒºåŸŸé»‘ç™½çš„æ•ˆæœï¼Œå¸¸ç”¨äºçªå‡ºæ˜¾ç¤ºç‰¹å®šç‰©ä½“æˆ–åŒºåŸŸ</li>
<li>è€ç…§ç‰‡æ•ˆæœï¼šç»“åˆæ£•è¤è‰²è°ƒæˆ–å…¶ä»–è‰²è°ƒæ˜ å°„ï¼Œå¯ä»¥åˆ›å»ºå¤å¤é£æ ¼çš„ç…§ç‰‡æ•ˆæœ</li>
<li>ç´ æä¸è‰ºæœ¯æ•ˆæœï¼šé€šè¿‡è¾¹ç¼˜æ£€æµ‹ä¸ç°åº¦ä¿¡æ¯ç»“åˆï¼Œå¯ä»¥æ¨¡æ‹Ÿé“…ç¬”ç´ æã€å¡é€šæ¸²æŸ“ç­‰éçœŸå®æ„Ÿæ¸²æŸ“æ•ˆæœ</li>
</ul>
<h3 data-id="heading-6">äº®åº¦æ©ç ä¸é˜ˆå€¼å¤„ç†</h3>
<p>ç°åº¦ä¿¡æ¯ç»å¸¸è¢«ç”¨ä½œæ©ç æˆ–é˜ˆå€¼å¤„ç†çš„è¾“å…¥ï¼š</p>
<ul>
<li>åŠ¨æ€é®ç½©åˆ›å»ºï¼šæ ¹æ®åœºæ™¯ä¸­ç‰©ä½“çš„äº®åº¦åŠ¨æ€ç”Ÿæˆé®ç½©ï¼Œç”¨äºç‰¹æ•ˆã€æ··åˆæˆ–åœºæ™¯è¿‡æ¸¡</li>
<li>é˜ˆå€¼åŒ–å¤„ç†ï¼šé€šè¿‡æ¯”è¾ƒç°åº¦å€¼ä¸è®¾å®šçš„é˜ˆå€¼ï¼Œå¯ä»¥å°†å›¾åƒè½¬æ¢ä¸ºé«˜å¯¹æ¯”åº¦çš„é»‘ç™½äºŒå€¼å›¾åƒï¼Œç”¨äºåˆ›å»ºæµ·æŠ¥åŒ–æ•ˆæœæˆ–ä½œä¸ºå…¶ä»–æ•ˆæœçš„è¾“å…¥</li>
<li>äº®åº¦é”®æ§ï¼šç±»ä¼¼äºç»¿å¹•æŠ å›¾çš„æŠ€æœ¯ï¼Œä½†åŸºäºäº®åº¦ä¿¡æ¯ï¼Œå¯ç”¨äºå°†æ˜äº®æˆ–é»‘æš—åŒºåŸŸä»å›¾åƒä¸­åˆ†ç¦»å‡ºæ¥</li>
</ul>
<h3 data-id="heading-7">æ³•çº¿è´´å›¾ä¸é«˜åº¦è´´å›¾å¤„ç†</h3>
<p>åœ¨å¤„ç†éé¢œè‰²çº¹ç†æ•°æ®æ—¶ï¼ŒRGBtoGrayscaleèŠ‚ç‚¹èƒ½å¤Ÿæå–æœ‰ç”¨çš„å¼ºåº¦ä¿¡æ¯ï¼š</p>
<ul>
<li>æ³•çº¿è´´å›¾å¼ºåº¦æå–ï¼šä»æ³•çº¿è´´å›¾ä¸­æå–é«˜åº¦æˆ–å¼ºåº¦ä¿¡æ¯ï¼Œç”¨äºè§†å·®æ˜ å°„ã€æ›²é¢ç»†åˆ†æˆ–å…¶ä»–åŸºäºé«˜åº¦çš„æ•ˆæœ</li>
<li>é«˜åº¦è´´å›¾å¤„ç†ï¼šå°†é«˜åº¦è´´å›¾è½¬æ¢ä¸ºç°åº¦å›¾åƒï¼Œç”¨äºå±‚çº§ç»†èŠ‚(LOD)åˆ‡æ¢æˆ–åŠ¨æ€åœ°å½¢å˜å½¢</li>
<li>çº¹ç†åˆæˆï¼šå°†å¤šä¸ªçº¹ç†çš„ç°åº¦ä¿¡æ¯ç»„åˆï¼Œåˆ›å»ºæ–°çš„å¤åˆçº¹ç†</li>
</ul>
<h3 data-id="heading-8">æ€§èƒ½ä¼˜åŒ–ä¸ç®€åŒ–è®¡ç®—</h3>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨ç°åº¦æ•°æ®ä»£æ›¿å®Œæ•´é¢œè‰²å¯ä»¥æ˜¾è‘—æé«˜æ¸²æŸ“æ€§èƒ½ï¼š</p>
<ul>
<li>ç®€åŒ–ç€è‰²è®¡ç®—ï¼šå°†å¤æ‚çš„é¢œè‰²ç›¸å…³è®¡ç®—è½¬æ¢ä¸ºæ›´ç®€å•çš„äº®åº¦è®¡ç®—ï¼Œå‡å°‘GPUè´Ÿè½½</li>
<li>å‡å°‘å†…å­˜å¸¦å®½ï¼šä½¿ç”¨å•é€šé“çº¹ç†ä»£æ›¿å¤šé€šé“çº¹ç†ï¼Œå‡å°‘çº¹ç†é‡‡æ ·å’Œå†…å­˜è®¿é—®å¼€é”€</li>
<li>åŠ¨æ€åˆ†æ”¯ä¼˜åŒ–ï¼šåŸºäºäº®åº¦å€¼è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œä¼˜åŒ–ç€è‰²å™¨ä¸­çš„åŠ¨æ€åˆ†æ”¯é€»è¾‘</li>
</ul>
<h2 data-id="heading-9">å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<p>ä»¥ä¸‹é€šè¿‡å‡ ä¸ªå…·ä½“çš„Shader Graphç¤ºä¾‹ï¼Œå±•ç¤ºRGBtoGrayscaleèŠ‚ç‚¹çš„å®é™…åº”ç”¨æ–¹æ³•å’Œæ•ˆæœã€‚</p>
<h3 data-id="heading-10">åŸºç¡€ç°åº¦è½¬æ¢</h3>
<p>åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„é»‘ç™½æ•ˆæœç€è‰²å™¨ï¼š</p>
<ul>
<li>åœ¨Shader Graphä¸­åˆ›å»ºæ–°çš„Unlit Graph</li>
<li>æ·»åŠ Texture 2DèŠ‚ç‚¹ï¼Œè¿æ¥åˆ°RGBtoGrayscaleèŠ‚ç‚¹çš„è¾“å…¥</li>
<li>å°†RGBtoGrayscaleèŠ‚ç‚¹çš„è¾“å‡ºåŒæ—¶è¿æ¥åˆ°ä¸»ç€è‰²å™¨èŠ‚ç‚¹çš„Base Colorçš„Rã€Gã€Bä¸‰ä¸ªé€šé“</li>
<li>å°†ä¸»ç€è‰²å™¨èŠ‚ç‚¹çš„Alphaé€šé“è®¾ç½®ä¸º1ï¼ˆæˆ–ä¸è¿æ¥ï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼‰</li>
<li>ä¿å­˜å¹¶åœ¨æè´¨ä¸Šåº”ç”¨è¯¥ç€è‰²å™¨ï¼Œå³å¯çœ‹åˆ°çº¹ç†å·²å®Œå…¨è½¬æ¢ä¸ºé»‘ç™½æ•ˆæœ</li>
</ul>
<p>è¿™ç§åŸºç¡€ç°åº¦è½¬æ¢æ˜¯è®¸å¤šå¤æ‚æ•ˆæœçš„åŸºç¡€ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ å‚æ•°æ§åˆ¶è½¬æ¢çš„å¼ºåº¦æˆ–æ··åˆç¨‹åº¦ï¼Œå®ç°æ›´çµæ´»çš„æ•ˆæœã€‚</p>
<h3 data-id="heading-11">é€‰æ‹©æ€§å»è‰²æ•ˆæœ</h3>
<p>åˆ›å»ºéƒ¨åˆ†å½©è‰²ã€éƒ¨åˆ†é»‘ç™½çš„æ•ˆæœï¼š</p>
<ul>
<li>æŒ‰ç…§åŸºç¡€ç°åº¦è½¬æ¢çš„è®¾ç½®åˆ›å»ºæµç¨‹</li>
<li>åœ¨RGBtoGrayscaleèŠ‚ç‚¹åæ·»åŠ Lerpï¼ˆçº¿æ€§æ’å€¼ï¼‰èŠ‚ç‚¹</li>
<li>å°†åŸå§‹å½©è‰²çº¹ç†è¿æ¥åˆ°LerpèŠ‚ç‚¹çš„Aè¾“å…¥ï¼Œç°åº¦å€¼è¿æ¥åˆ°Bè¾“å…¥</li>
<li>æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼ˆå¦‚Floatæˆ–Vector1ï¼‰æ§åˆ¶LerpèŠ‚ç‚¹çš„Tï¼ˆæ··åˆï¼‰è¾“å…¥</li>
<li>å°†LerpèŠ‚ç‚¹çš„è¾“å‡ºè¿æ¥åˆ°ä¸»ç€è‰²å™¨èŠ‚ç‚¹çš„Base Color</li>
</ul>
<p>é€šè¿‡è°ƒæ•´æ··åˆå‚æ•°ï¼Œå¯ä»¥æ§åˆ¶æ•ˆæœçš„å¼ºåº¦ï¼šå€¼ä¸º0æ—¶æ˜¾ç¤ºåŸå§‹å½©è‰²å›¾åƒï¼Œå€¼ä¸º1æ—¶æ˜¾ç¤ºå®Œå…¨é»‘ç™½å›¾åƒï¼Œä¸­é—´å€¼åˆ™å‘ˆç°éƒ¨åˆ†å»è‰²çš„æ•ˆæœã€‚è¿™ç§æŠ€æœ¯å¸¸ç”¨äºæ¸¸æˆä¸­çš„å‰§æƒ…è¡¨ç°ï¼Œå¦‚å›å¿†åœºæ™¯ã€è§’è‰²æ­»äº¡æˆ–ç‰¹æ®ŠçŠ¶æ€ä¸‹çš„è§†è§‰æ•ˆæœã€‚</p>
<h3 data-id="heading-12">åŸºäºäº®åº¦çš„è¾¹ç¼˜é«˜å…‰</h3>
<p>åˆ›å»ºæ ¹æ®è¡¨é¢äº®åº¦æ·»åŠ è¾¹ç¼˜å‘å…‰çš„æ•ˆæœï¼š</p>
<ul>
<li>ä½¿ç”¨RGBtoGrayscaleèŠ‚ç‚¹å¤„ç†åŸºç¡€é¢œè‰²çº¹ç†ï¼Œæå–äº®åº¦ä¿¡æ¯</li>
<li>æ·»åŠ Fresnel EffectèŠ‚ç‚¹ï¼Œè·å–è¾¹ç¼˜å› å­</li>
<li>ä½¿ç”¨MultiplyèŠ‚ç‚¹å°†äº®åº¦ä¿¡æ¯ä¸è¾¹ç¼˜å› å­ç›¸ä¹˜</li>
<li>å°†ç»“æœè¿æ¥åˆ°Emissioné€šé“ï¼Œå¹¶è°ƒæ•´é¢œè‰²å’Œå¼ºåº¦</li>
</ul>
<p>è¿™ç§æ•ˆæœä¼šä½¿ç‰©ä½“çš„è¾¹ç¼˜æ ¹æ®è¡¨é¢äº®åº¦å‘å‡ºä¸åŒå¼ºåº¦çš„å…‰ï¼Œäº®åº¦é«˜çš„åŒºåŸŸè¾¹ç¼˜å…‰æ›´å¼ºï¼Œäº®åº¦ä½çš„åŒºåŸŸè¾¹ç¼˜å…‰è¾ƒå¼±ï¼Œåˆ›é€ å‡ºæ›´åŠ è‡ªç„¶å’ŒåŠ¨æ€çš„è¾¹ç¼˜å‘å…‰æ•ˆæœã€‚</p>
<h3 data-id="heading-13">åŠ¨æ€é›ªåœ°æ•ˆæœ</h3>
<p>åˆ›å»ºæ ¹æ®è¡¨é¢äº®åº¦ç§¯ç´¯é›ªèŠ±çš„æ•ˆæœï¼š</p>
<ul>
<li>ä½¿ç”¨RGBtoGrayscaleèŠ‚ç‚¹å¤„ç†åŸºç¡€é¢œè‰²çº¹ç†ï¼Œè·å–è¡¨é¢äº®åº¦</li>
<li>æ·»åŠ Snow TextureèŠ‚ç‚¹ï¼ˆé›ªèŠ±çº¹ç†ï¼‰</li>
<li>ä½¿ç”¨MultiplyèŠ‚ç‚¹å°†é›ªèŠ±çº¹ç†ä¸äº®åº¦ä¿¡æ¯ç›¸ä¹˜ï¼ˆäº®åº¦é«˜çš„åŒºåŸŸé›ªèŠ±æ›´æ˜æ˜¾ï¼‰</li>
<li>æ·»åŠ World Space Normalæˆ–Object Space NormalèŠ‚ç‚¹ï¼Œå¹¶ä¸äº®åº¦ä¿¡æ¯ç»“åˆï¼Œæ§åˆ¶é›ªèŠ±åœ¨é¡¶éƒ¨è¡¨é¢çš„ç§¯ç´¯</li>
<li>ä½¿ç”¨LerpèŠ‚ç‚¹å°†åŸå§‹çº¹ç†ä¸é›ªèŠ±çº¹ç†æ··åˆï¼Œæ··åˆå› å­ç”±å¤„ç†åçš„äº®åº¦ä¿¡æ¯æ§åˆ¶</li>
</ul>
<p>è¿™ç§æŠ€æœ¯å¯ä»¥åˆ›å»ºå‡ºéå¸¸è‡ªç„¶çš„é›ªåœ°ç§¯ç´¯æ•ˆæœï¼Œé›ªèŠ±ä¼šæ ¹æ®è¡¨é¢çš„æœå‘å’Œäº®åº¦æ™ºèƒ½åœ°åˆ†å¸ƒï¼Œäº®åº¦é«˜ä¸”æœä¸Šçš„è¡¨é¢ä¼šæœ‰æ›´å¤šçš„é›ªèŠ±ç§¯ç´¯ã€‚</p>
<h2 data-id="heading-14">ä¸å…¶ä»–èŠ‚ç‚¹çš„é…åˆä½¿ç”¨</h2>
<p>RGBtoGrayscaleèŠ‚ç‚¹å¾ˆå°‘å•ç‹¬ä½¿ç”¨ï¼Œé€šå¸¸éœ€è¦ä¸å…¶ä»–Shader GraphèŠ‚ç‚¹é…åˆï¼Œä»¥å®ç°æ›´å¤æ‚çš„æ•ˆæœã€‚</p>
<h3 data-id="heading-15">ä¸æ•°å­¦èŠ‚ç‚¹é…åˆ</h3>
<p>æ•°å­¦èŠ‚ç‚¹å¯ä»¥è¿›ä¸€æ­¥å¤„ç†ç°åº¦å€¼ï¼Œå®ç°æ›´ç²¾ç»†çš„æ§åˆ¶ï¼š</p>
<ul>
<li>MultiplyèŠ‚ç‚¹ï¼šè°ƒæ•´ç°åº¦å€¼çš„å¼ºåº¦æˆ–å¯¹æ¯”åº¦</li>
<li>AddèŠ‚ç‚¹ï¼šè°ƒæ•´ç°åº¦å€¼çš„äº®åº¦æˆ–åç§»</li>
<li>PowerèŠ‚ç‚¹ï¼šå®ç°ä¼½é©¬æ ¡æ­£æˆ–éçº¿æ€§å“åº”</li>
<li>ClampèŠ‚ç‚¹ï¼šé™åˆ¶ç°åº¦å€¼çš„èŒƒå›´ï¼Œé˜²æ­¢è¶…å‡ºé¢„æœŸ</li>
<li>RemapèŠ‚ç‚¹ï¼šé‡æ–°æ˜ å°„ç°åº¦å€¼çš„èŒƒå›´ï¼Œé€‚åº”ä¸åŒçš„éœ€æ±‚</li>
</ul>
<h3 data-id="heading-16">ä¸é‡‡æ ·èŠ‚ç‚¹é…åˆ</h3>
<p>RGBtoGrayscaleèŠ‚ç‚¹å¸¸ä¸å„ç§é‡‡æ ·èŠ‚ç‚¹ç»“åˆä½¿ç”¨ï¼š</p>
<ul>
<li>Texture 2DèŠ‚ç‚¹ï¼šä»çº¹ç†ä¸­æå–é¢œè‰²ä¿¡æ¯å¹¶è½¬æ¢ä¸ºç°åº¦</li>
<li>Sample Texture 2D LODèŠ‚ç‚¹ï¼šåœ¨ç‰¹å®šç»†èŠ‚å±‚çº§é‡‡æ ·çº¹ç†å¹¶è½¬æ¢ä¸ºç°åº¦</li>
<li>Procedural NoiseèŠ‚ç‚¹ï¼šå°†ç¨‹åºåŒ–ç”Ÿæˆçš„å™ªå£°è½¬æ¢ä¸ºç°åº¦ä¿¡æ¯ï¼Œç”¨äºå„ç§è‡ªç„¶æ•ˆæœ</li>
</ul>
<h3 data-id="heading-17">ä¸UVèŠ‚ç‚¹é…åˆ</h3>
<p>UVç›¸å…³èŠ‚ç‚¹å¯ä»¥æ§åˆ¶ç°åº¦æ•ˆæœçš„ç©ºé—´åˆ†å¸ƒï¼š</p>
<ul>
<li>Tiling And OffsetèŠ‚ç‚¹ï¼šæ§åˆ¶çº¹ç†çš„å¹³é“ºå’Œåç§»ï¼Œå½±å“ç°åº¦æå–çš„åŒºåŸŸ</li>
<li>TriplanarèŠ‚ç‚¹ï¼šåœ¨ä¸‰ç»´æ¨¡å‹ä¸Šæ— ç¼æŠ•å½±çº¹ç†ï¼Œå¹¶è½¬æ¢ä¸ºç°åº¦ä¿¡æ¯</li>
<li>Parallax MappingèŠ‚ç‚¹ï¼šåˆ›å»ºè§†å·®æ•ˆæœï¼Œå¹¶ä¸ç°åº¦ä¿¡æ¯ç»“åˆå¢å¼ºæ·±åº¦æ„Ÿ</li>
</ul>
<h3 data-id="heading-18">ä¸é«˜çº§æ•ˆæœèŠ‚ç‚¹é…åˆ</h3>
<p>RGBtoGrayscaleèŠ‚ç‚¹å¯ä»¥ä¸URP Shader Graphä¸­çš„é«˜çº§æ•ˆæœèŠ‚ç‚¹ç»“åˆï¼š</p>
<ul>
<li>DepthèŠ‚ç‚¹ï¼šå°†æ·±åº¦ä¿¡æ¯ä¸ç°åº¦ä¿¡æ¯ç»“åˆï¼Œåˆ›å»ºåŸºäºè·ç¦»çš„æ•ˆæœ</li>
<li>Scene ColorèŠ‚ç‚¹ï¼šå¤„ç†å±å¹•ç©ºé—´é¢œè‰²ä¿¡æ¯ï¼Œå®ç°å…¨å±åå¤„ç†æ•ˆæœ</li>
<li>NormalèŠ‚ç‚¹ï¼šå°†æ³•çº¿ä¿¡æ¯è½¬æ¢ä¸ºç°åº¦ï¼Œç”¨äºç‰¹æ®Šçš„ç…§æ˜æ•ˆæœ</li>
</ul>
<h2 data-id="heading-19">æ€§èƒ½è€ƒè™‘ä¸ä¼˜åŒ–å»ºè®®</h2>
<p>åœ¨ä½¿ç”¨RGBtoGrayscaleèŠ‚ç‚¹æ—¶ï¼Œåˆç†çš„æ€§èƒ½ä¼˜åŒ–å¯ä»¥ç¡®ä¿æ•ˆæœçš„è´¨é‡åŒæ—¶ä¿æŒè¾ƒé«˜çš„æ¸²æŸ“æ•ˆç‡ã€‚</p>
<h3 data-id="heading-20">è®¡ç®—å¤æ‚åº¦åˆ†æ</h3>
<p>RGBtoGrayscaleèŠ‚ç‚¹æœ¬èº«çš„è®¡ç®—å¼€é”€å¾ˆå°ï¼Œé€šå¸¸åªéœ€è¦ä¸‰æ¬¡ä¹˜æ³•å’Œä¸¤æ¬¡åŠ æ³•æ“ä½œï¼Œåœ¨ç°ä»£GPUä¸Šå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ç„¶è€Œï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ€§èƒ½å½±å“ä¸»è¦æ¥è‡ªä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>çº¹ç†é‡‡æ ·å¼€é”€ï¼šå¦‚æœRGBtoGrayscaleèŠ‚ç‚¹çš„è¾“å…¥æ¥è‡ªé«˜åˆ†è¾¨ç‡çº¹ç†ï¼Œé‡‡æ ·å¼€é”€å¯èƒ½æ¯”ç°åº¦è½¬æ¢æœ¬èº«æ›´å¤§</li>
<li>åç»­å¤„ç†å¤æ‚åº¦ï¼šç°åº¦æ•°æ®åç»­çš„å¤„ç†æ­¥éª¤å¯èƒ½å¼•å…¥æ›´å¤§çš„æ€§èƒ½å¼€é”€</li>
<li>å…¨å±æ•ˆæœåº”ç”¨ï¼šåœ¨å…¨å±åå¤„ç†ä¸­ä½¿ç”¨RGBtoGrayscaleèŠ‚ç‚¹æ—¶ï¼Œéœ€è¦å¤„ç†æ¯ä¸ªåƒç´ ï¼Œå¯¹å¡«å……ç‡æœ‰è¾ƒé«˜è¦æ±‚</li>
</ul>
<h3 data-id="heading-21">ä¼˜åŒ–ç­–ç•¥</h3>
<p>é’ˆå¯¹ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<ul>
<li>ä½¿ç”¨ä½åˆ†è¾¨ç‡çº¹ç†ï¼šå¯¹äºä¸éœ€è¦é«˜ç²¾åº¦çš„ç°åº¦ä¿¡æ¯ï¼Œä½¿ç”¨ä½åˆ†è¾¨ç‡çº¹ç†å¯ä»¥å‡å°‘é‡‡æ ·å¼€é”€</li>
<li>é¢„è®¡ç®—ç°åº¦çº¹ç†ï¼šå¯¹äºé™æ€å†…å®¹ï¼Œå¯ä»¥åœ¨é¢„å¤„ç†é˜¶æ®µè®¡ç®—å¹¶å­˜å‚¨ç°åº¦çº¹ç†ï¼Œé¿å…è¿è¡Œæ—¶è®¡ç®—</li>
<li>é™åˆ¶åº”ç”¨èŒƒå›´ï¼šé€šè¿‡é®ç½©æˆ–è¾¹ç•Œåˆ¤æ–­ï¼Œé™åˆ¶ç°åº¦æ•ˆæœçš„åº”ç”¨åŒºåŸŸï¼Œå‡å°‘ä¸å¿…è¦çš„è®¡ç®—</li>
<li>åˆ©ç”¨Mipmapï¼šåœ¨é€‚å½“çš„æƒ…å†µä¸‹ä½¿ç”¨Mipmapï¼Œè®©GPUè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„åˆ†è¾¨ç‡è¿›è¡Œé‡‡æ ·</li>
<li>åˆå¹¶è®¡ç®—ï¼šå°†å¤šä¸ªç°åº¦ç›¸å…³è®¡ç®—åˆå¹¶åˆ°åŒä¸€ä¸ªç€è‰²å™¨é€šé“ä¸­ï¼Œå‡å°‘æ¸²æŸ“é€šé“åˆ‡æ¢</li>
</ul>
<h3 data-id="heading-22">å¹³å°å…¼å®¹æ€§è€ƒè™‘</h3>
<p>RGBtoGrayscaleèŠ‚ç‚¹åœ¨æ‰€æœ‰æ”¯æŒShader Graphçš„å¹³å°ä¸Šéƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œä½†åœ¨ä¸åŒå¹³å°ä¸Šå¯èƒ½æœ‰ç»†å¾®çš„æ€§èƒ½å·®å¼‚ï¼š</p>
<ul>
<li>åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œåº”ç‰¹åˆ«æ³¨æ„çº¹ç†é‡‡æ ·å’Œç®—æœ¯è¿ç®—çš„æ¬¡æ•°</li>
<li>åœ¨é«˜ç«¯PCä¸Šï¼Œå¯ä»¥æ‰¿æ‹…æ›´å¤æ‚çš„ç°åº¦åå¤„ç†æ•ˆæœ</li>
<li>åœ¨æ¸¸æˆä¸»æœºä¸Šï¼Œé€šå¸¸æœ‰å›ºå®šçš„æ€§èƒ½é¢„ç®—ï¼Œéœ€è¦ç²¾ç¡®æ§åˆ¶æ•ˆæœçš„å¼€é”€</li>
</ul>
<h2 data-id="heading-23">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨ä½¿ç”¨RGBtoGrayscaleèŠ‚ç‚¹è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›å¸¸è§é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯è¿™äº›é—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-24">ç°åº¦ç»“æœä¸ç¬¦åˆé¢„æœŸ</h3>
<p>å½“ç°åº¦è½¬æ¢ç»“æœä¸é¢„æœŸä¸ç¬¦æ—¶ï¼Œå¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li>é¢œè‰²ç©ºé—´ä¸åŒ¹é…ï¼šç¡®ä¿åœ¨æ­£ç¡®çš„é¢œè‰²ç©ºé—´ï¼ˆé€šå¸¸æ˜¯çº¿æ€§ç©ºé—´ï¼‰ä¸­è¿›è¡Œè®¡ç®—</li>
<li>è¾“å…¥èŒƒå›´é—®é¢˜ï¼šæ£€æŸ¥è¾“å…¥é¢œè‰²å€¼æ˜¯å¦åœ¨é¢„æœŸçš„[0,1]èŒƒå›´å†…ï¼Œè¶…å‡ºèŒƒå›´çš„å€¼ä¼šå¯¼è‡´å¼‚å¸¸ç»“æœ</li>
<li>æƒé‡é€‚ç”¨æ€§ï¼šæ ‡å‡†çš„æƒé‡ç³»æ•°é€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µï¼Œä½†ç‰¹æ®Šåœºæ™¯å¯èƒ½éœ€è¦è°ƒæ•´æƒé‡ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰è®¡ç®—èŠ‚ç‚¹å®ç°</li>
</ul>
<h3 data-id="heading-25">æ€§èƒ½é—®é¢˜</h3>
<p>å¦‚æœä½¿ç”¨RGBtoGrayscaleèŠ‚ç‚¹åå‡ºç°æ€§èƒ½ä¸‹é™ï¼š</p>
<ul>
<li>æ£€æŸ¥çº¹ç†åˆ†è¾¨ç‡ï¼šè¿‡é«˜çš„çº¹ç†åˆ†è¾¨ç‡æ˜¯å¸¸è§çš„æ€§èƒ½ç“¶é¢ˆï¼Œé€‚å½“é™ä½åˆ†è¾¨ç‡æˆ–ä½¿ç”¨å‹ç¼©æ ¼å¼</li>
<li>åˆ†ææ¸²æŸ“æµç¨‹ï¼šä½¿ç”¨Unityçš„Frame Debuggeræˆ–Render Docåˆ†ææ¸²æŸ“æµç¨‹ï¼Œç¡®å®šæ€§èƒ½çƒ­ç‚¹</li>
<li>ç®€åŒ–ç€è‰²å™¨é€»è¾‘ï¼šç§»é™¤ä¸å¿…è¦çš„è®¡ç®—æ­¥éª¤ï¼Œåˆå¹¶ç›¸ä¼¼çš„æ“ä½œ</li>
</ul>
<h3 data-id="heading-26">ä¸å…¶ä»–æ•ˆæœå†²çª</h3>
<p>å½“RGBtoGrayscaleèŠ‚ç‚¹ä¸å…¶ä»–æ•ˆæœç»“åˆæ—¶å¯èƒ½å‡ºç°å†²çªï¼š</p>
<ul>
<li>å¤„ç†é¡ºåºé—®é¢˜ï¼šç¡®ä¿èŠ‚ç‚¹åœ¨ç€è‰²å™¨å›¾ä¸­çš„æ‰§è¡Œé¡ºåºæ­£ç¡®ï¼Œå¤æ‚çš„ä¾èµ–å…³ç³»å¯èƒ½éœ€è¦é‡æ–°ç»„ç»‡èŠ‚ç‚¹å¸ƒå±€</li>
<li>æ•°æ®èŒƒå›´å†²çªï¼šä¸åŒèŠ‚ç‚¹å¯èƒ½æœŸæœ›ä¸åŒèŒƒå›´çš„è¾“å…¥è¾“å‡ºå€¼ï¼Œéœ€è¦é€‚å½“çš„é‡æ˜ å°„æˆ–æ ‡å‡†åŒ–</li>
<li>æ··åˆæ¨¡å¼ä¸åŒ¹é…ï¼šåœ¨åŠé€æ˜æˆ–æ··åˆæ•ˆæœä¸­ï¼Œç¡®ä¿ç°åº¦è®¡ç®—ä¸æ··åˆæ¨¡å¼å…¼å®¹</li>
</ul>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¾¹ç¼˜å‡½æ•° (Edge Functions)è¯¦è§£]]></title>    <link>https://juejin.cn/post/7585083729972265012</link>    <guid>https://juejin.cn/post/7585083729972265012</guid>    <pubDate>2025-12-19T03:31:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585083729972265012" data-draft-id="7585039706612056079" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" è¾¹ç¼˜å‡½æ•° (Edge Functions)è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T03:31:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å°å‰ç«¯_æˆ‘è‡ªåšå¼º"/> <meta itemprop="url" content="https://juejin.cn/user/2335811609826423"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             è¾¹ç¼˜å‡½æ•° (Edge Functions)è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2335811609826423/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å°å‰ç«¯_æˆ‘è‡ªåšå¼º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:31:26.000Z" title="Fri Dec 19 2025 03:31:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è¾¹ç¼˜å‡½æ•° (Edge Functions) ä½¿ç”¨ç¬”è®°</h2>
<h3 data-id="heading-1">1. å¼•è¨€</h3>
<p>è¾¹ç¼˜å‡½æ•°ï¼ˆEdge Functionsï¼‰æ˜¯è¿‘å¹´æ¥å¿«é€Ÿå‘å±•çš„ä¸€ç§äº‘è®¡ç®—æœåŠ¡æ¨¡å¼ï¼Œå®ƒå°†è®¡ç®—èƒ½åŠ›æ¨å‘ç½‘ç»œè¾¹ç¼˜ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿåœ¨é è¿‘ç”¨æˆ·çš„ä½ç½®è¿è¡Œä»£ç ã€‚è¿™ç§æ¶æ„å¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½ä¼˜åŠ¿ï¼ŒåŒ…æ‹¬æ›´ä½çš„å»¶è¿Ÿã€æ›´é«˜çš„å“åº”é€Ÿåº¦å’Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>è¾¹ç¼˜å‡½æ•°é€šå¸¸åŸºäºServerlessæ¶æ„ï¼Œè¿™æ„å‘³ç€å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘çš„ç¼–å†™ï¼Œè€Œæ— éœ€ç®¡ç†åº•å±‚æœåŠ¡å™¨åŸºç¡€è®¾æ–½ã€‚è¿™ç§æ–¹å¼æå¤§åœ°é™ä½äº†å¼€å‘å’Œè¿ç»´æˆæœ¬ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-2">2. è¾¹ç¼˜å‡½æ•°åŸºæœ¬æ¦‚å¿µ</h3>
<h4 data-id="heading-3">2.1 ä»€ä¹ˆæ˜¯è¾¹ç¼˜å‡½æ•°</h4>
<p>è¾¹ç¼˜å‡½æ•°ï¼ˆEdge Functionsï¼‰æ˜¯åœ¨å…¨çƒåˆ†å¸ƒçš„è¾¹ç¼˜èŠ‚ç‚¹ä¸Šè¿è¡Œçš„ä»£ç ç‰‡æ®µã€‚è¿™äº›èŠ‚ç‚¹é€šå¸¸ä½äºäº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆISPï¼‰çš„æ•°æ®ä¸­å¿ƒæˆ–æ›´æ¥è¿‘æœ€ç»ˆç”¨æˆ·çš„ä½ç½®ã€‚å½“ç”¨æˆ·å‘èµ·è¯·æ±‚æ—¶ï¼Œè¯·æ±‚ä¼šè¢«è·¯ç”±åˆ°æœ€è¿‘çš„è¾¹ç¼˜èŠ‚ç‚¹è¿›è¡Œå¤„ç†ï¼Œè€Œä¸æ˜¯å‘é€åˆ°è¿œç«¯çš„ä¸­å¤®æœåŠ¡å™¨ã€‚</p>
<h4 data-id="heading-4">2.2 æ ¸å¿ƒç‰¹æ€§</h4>
<ol>
<li><strong>å…¨çƒåˆ†å¸ƒå¼éƒ¨ç½²</strong>ï¼šè¾¹ç¼˜å‡½æ•°éƒ¨ç½²åœ¨å…¨çƒæ•°åƒä¸ªè¾¹ç¼˜èŠ‚ç‚¹ä¸Šï¼Œç¡®ä¿ç”¨æˆ·è¯·æ±‚èƒ½å¤Ÿè¢«æœ€è¿‘çš„èŠ‚ç‚¹å¤„ç†ã€‚</li>
<li><strong>Serverlessæ¶æ„</strong>ï¼šå¼€å‘è€…æ— éœ€ç®¡ç†æœåŠ¡å™¨åŸºç¡€è®¾æ–½ï¼Œåªéœ€ä¸Šä¼ ä»£ç å³å¯ã€‚</li>
<li><strong>è‡ªåŠ¨æ‰©ç¼©å®¹</strong>ï¼šæ ¹æ®è¯·æ±‚é‡è‡ªåŠ¨è°ƒæ•´è®¡ç®—èµ„æºã€‚</li>
<li><strong>ä½å»¶è¿Ÿæ‰§è¡Œ</strong>ï¼šé€šè¿‡åœ¨è¾¹ç¼˜èŠ‚ç‚¹æ‰§è¡Œä»£ç ï¼Œæ˜¾è‘—é™ä½å“åº”æ—¶é—´ã€‚</li>
<li><strong>ç‰ˆæœ¬ç®¡ç†</strong>ï¼šæ”¯æŒå‡½æ•°ç‰ˆæœ¬æ§åˆ¶å’Œç°åº¦å‘å¸ƒã€‚</li>
</ol>
<h4 data-id="heading-5">2.3 å·¥ä½œåŸç†</h4>
<p>ä¼ ç»Ÿçš„CDNè¯·æ±‚æµç¨‹ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚åˆ°è¾¹ç¼˜èŠ‚ç‚¹ç½‘å…³</li>
<li>è¾¹ç¼˜èŠ‚ç‚¹æŸ¥æ‰¾ç¼“å­˜ï¼Œå‘½ä¸­ç¼“å­˜åˆ™å“åº”ç»™å®¢æˆ·ç«¯</li>
<li>ç¼“å­˜æœªå‘½ä¸­åˆ™å›æºè·å–å†…å®¹</li>
</ol>
<p>è¾¹ç¼˜å‡½æ•°è¯·æ±‚æµç¨‹ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚åˆ°è¾¹ç¼˜èŠ‚ç‚¹ç½‘å…³</li>
<li>è¯·æ±‚è¢«è¾¹ç¼˜å‡½æ•°æ¥ç®¡å¹¶æ‰§è¡Œå¼€å‘è€…ç¼–å†™çš„ä»£ç </li>
<li>å‡½æ•°ä»£ç å¯é€šè¿‡fetchè¯·æ±‚è®¿é—®ç¼“å­˜ã€å›æºæˆ–å…¶ä»–å…¬ç½‘æœåŠ¡</li>
<li>å¤„ç†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯</li>
</ol>
<h3 data-id="heading-6">3. ä¸»æµè¾¹ç¼˜å‡½æ•°å¹³å°</h3>
<h4 data-id="heading-7">3.1 é˜¿é‡Œäº‘è¾¹ç¼˜å‡½æ•°ï¼ˆEdgeRoutineï¼‰</h4>
<p>é˜¿é‡Œäº‘è¾¹ç¼˜å‡½æ•°ï¼ˆEdgeRoutineï¼Œç®€ç§°ERï¼‰æ˜¯é˜¿é‡Œäº‘æä¾›çš„è¾¹ç¼˜è®¡ç®—æœåŠ¡ï¼Œå…è®¸å¼€å‘è€…ç¼–å†™JavaScriptä»£ç å¹¶åœ¨å…¨çƒè¾¹ç¼˜èŠ‚ç‚¹ä¸Šéƒ¨ç½²å’Œæ‰§è¡Œã€‚</p>
<h5 data-id="heading-8">æ ¸å¿ƒåŠŸèƒ½ï¼š</h5>
<ul>
<li>æ”¯æŒJavaScriptï¼ˆES6è¯­æ³•ï¼‰</li>
<li>ä¸é˜¿é‡Œäº‘CDNæ·±åº¦é›†æˆ</li>
<li>æä¾›æµ‹è¯•ã€ç”Ÿäº§ã€ç°åº¦ç¯å¢ƒ</li>
<li>æ”¯æŒç‰ˆæœ¬ç®¡ç†å’Œç°åº¦å‘å¸ƒ</li>
</ul>
<h5 data-id="heading-9">ä½¿ç”¨é™åˆ¶ï¼š</h5>
<ul>
<li>å“åº”æ—¶é—´ï¼š120ç§’</li>
<li>ç­‰å¾…æ—¶é—´ï¼š10ç§’</li>
<li>ä»£ç åŒ…å¤§å°ï¼š4MB</li>
<li>å­è¯·æ±‚æ•°é‡ï¼š4ä¸ª</li>
</ul>
<h4 data-id="heading-10">3.2 è…¾è®¯äº‘è¾¹ç¼˜å‡½æ•°</h4>
<p>è…¾è®¯äº‘è¾¹ç¼˜å‡½æ•°æä¾›äº†EdgeOneè¾¹ç¼˜èŠ‚ç‚¹çš„Serverlessä»£ç æ‰§è¡Œç¯å¢ƒï¼Œå¼€å‘è€…åªéœ€ç¼–å†™ä¸šåŠ¡å‡½æ•°ä»£ç å¹¶è®¾ç½®è§¦å‘è§„åˆ™ï¼Œå³å¯åœ¨é è¿‘ç”¨æˆ·çš„è¾¹ç¼˜èŠ‚ç‚¹ä¸Šå¼¹æ€§ã€å®‰å…¨åœ°è¿è¡Œä»£ç ã€‚</p>
<h5 data-id="heading-11">æ ¸å¿ƒåŠŸèƒ½ï¼š</h5>
<ul>
<li>åŸºäºV8 Isolateæä¾›ä½å»¶è¿Ÿçš„è¾¹ç¼˜å‡½æ•°æœåŠ¡</li>
<li>è‡ªåŠ¨æ‰©ç¼©å®¹</li>
<li>æ— éœ€å…³å¿ƒåº•å±‚æœåŠ¡å™¨ç­‰åŸºç¡€è®¾æ–½</li>
</ul>
<h4 data-id="heading-12">3.3 Cloudflare Workers</h4>
<p>Cloudflare Workersæ˜¯ä¸šç•Œé¢†å…ˆçš„è¾¹ç¼˜å‡½æ•°å¹³å°ä¹‹ä¸€ï¼Œæ‹¥æœ‰å…¨çƒè¶…è¿‡300ä¸ªæ•°æ®ä¸­å¿ƒã€‚</p>
<h5 data-id="heading-13">æ ¸å¿ƒåŠŸèƒ½ï¼š</h5>
<ul>
<li>æ”¯æŒå¤šç§è¯­è¨€ï¼ˆJavaScriptã€WebAssemblyç­‰ï¼‰</li>
<li>å¼ºå¤§çš„å¼€å‘å·¥å…·é“¾</li>
<li>ä¸°å¯Œçš„APIå’Œæ–‡æ¡£</li>
</ul>
<h4 data-id="heading-14">3.4 AWS Lambda@Edge</h4>
<p>AWS Lambda@Edgeæ˜¯äºšé©¬é€Šæä¾›çš„è¾¹ç¼˜è®¡ç®—æœåŠ¡ï¼Œä¸Amazon CloudFrontæ·±åº¦é›†æˆã€‚</p>
<h5 data-id="heading-15">æ ¸å¿ƒåŠŸèƒ½ï¼š</h5>
<ul>
<li>ä¸CloudFronté›†æˆ</li>
<li>æ”¯æŒå¤šç§è§¦å‘äº‹ä»¶</li>
<li>ä¸°å¯Œçš„AWSç”Ÿæ€ç³»ç»Ÿé›†æˆ</li>
</ul>
<h3 data-id="heading-16">4. è¾¹ç¼˜å‡½æ•°ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-17">4.1 åŠ¨æ€å†…å®¹ç”Ÿæˆ</h4>
<p>è¾¹ç¼˜å‡½æ•°æœ€å¸¸è§çš„ç”¨é€”ä¹‹ä¸€æ˜¯æ ¹æ®ç”¨æˆ·ç‰¹å¾ç”Ÿæˆä¸ªæ€§åŒ–å†…å®¹ã€‚ä¾‹å¦‚ï¼Œæ ¹æ®ç”¨æˆ·çš„åœ°ç†ä½ç½®ã€è®¾å¤‡ç±»å‹æˆ–æµè§ˆå†å²åŠ¨æ€ç”Ÿæˆç½‘é¡µå†…å®¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šæ ¹æ®ç”¨æˆ·åœ°ç†ä½ç½®ç”Ÿæˆä¸ªæ€§åŒ–å†…å®¹</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleRequest</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleRequest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">const</span> clientIP = request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'cf-connecting-ip'</span>)
  <span class="hljs-keyword">const</span> geoData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getGeoData</span>(clientIP)
  
  <span class="hljs-comment">// æ ¹æ®åœ°ç†ä½ç½®ç”Ÿæˆä¸ªæ€§åŒ–å†…å®¹</span>
  <span class="hljs-keyword">const</span> personalizedContent = <span class="hljs-title function_">generateContent</span>(geoData)
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(personalizedContent, {
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/html'</span> }
  })
}
</code></pre>
<h4 data-id="heading-18">4.2 A/Bæµ‹è¯•</h4>
<p>è¾¹ç¼˜å‡½æ•°éå¸¸é€‚åˆè¿›è¡ŒA/Bæµ‹è¯•ï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨è¾¹ç¼˜èŠ‚ç‚¹ä¸Šå¿«é€Ÿå†³å®šå‘ç”¨æˆ·å±•ç¤ºå“ªä¸ªç‰ˆæœ¬çš„å†…å®¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šç®€å•çš„A/Bæµ‹è¯•å®ç°</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleABTest</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleABTest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">const</span> userAgent = request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'user-agent'</span>)
  <span class="hljs-keyword">const</span> userIdHash = <span class="hljs-title function_">hashUserId</span>(userAgent) <span class="hljs-comment">// ç®€åŒ–çš„ç”¨æˆ·IDå“ˆå¸Œ</span>
  
  <span class="hljs-comment">// 50%çš„ç”¨æˆ·çœ‹åˆ°ç‰ˆæœ¬Aï¼Œ50%çœ‹åˆ°ç‰ˆæœ¬B</span>
  <span class="hljs-keyword">const</span> version = userIdHash % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> ? <span class="hljs-string">'A'</span> : <span class="hljs-string">'B'</span>
  
  <span class="hljs-keyword">const</span> content = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchVersion</span>(version)
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(content, {
    <span class="hljs-attr">headers</span>: { 
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/html'</span>,
      <span class="hljs-string">'X-Test-Version'</span>: version
    }
  })
}
</code></pre>
<h4 data-id="heading-19">4.3 å®‰å…¨é˜²æŠ¤</h4>
<p>è¾¹ç¼˜å‡½æ•°å¯ä»¥åœ¨è¯·æ±‚åˆ°è¾¾æºæœåŠ¡å™¨ä¹‹å‰è¿›è¡Œå®‰å…¨æ£€æŸ¥ï¼Œå¦‚èº«ä»½éªŒè¯ã€è®¿é—®æ§åˆ¶å’ŒDDoSé˜²æŠ¤ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šåŸºæœ¬çš„è®¿é—®æ§åˆ¶</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleSecureRequest</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleSecureRequest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">const</span> apiKey = request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'x-api-key'</span>)
  
  <span class="hljs-comment">// æ£€æŸ¥APIå¯†é’¥</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isValidApiKey</span>(apiKey)) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Unauthorized'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">401</span> })
  }
  
  <span class="hljs-comment">// ç»§ç»­å¤„ç†è¯·æ±‚</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(request)
}
</code></pre>
<h4 data-id="heading-20">4.4 å›¾åƒä¼˜åŒ–</h4>
<p>è¾¹ç¼˜å‡½æ•°å¯ä»¥å®æ—¶ä¼˜åŒ–å›¾åƒï¼Œæ ¹æ®è®¾å¤‡ç‰¹æ€§æä¾›é€‚å½“å°ºå¯¸å’Œè´¨é‡çš„å›¾åƒã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šå›¾åƒä¼˜åŒ–</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(event.<span class="hljs-property">request</span>.<span class="hljs-property">url</span>)
  
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸ºå›¾åƒè¯·æ±‚</span>
  <span class="hljs-keyword">if</span> (url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.jpg'</span>) || url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.png'</span>)) {
    event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">optimizeImage</span>(event.<span class="hljs-property">request</span>))
  } <span class="hljs-keyword">else</span> {
    event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">fetch</span>(event.<span class="hljs-property">request</span>))
  }
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">optimizeImage</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(request.<span class="hljs-property">url</span>)
  <span class="hljs-keyword">const</span> width = url.<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'width'</span>) || <span class="hljs-string">'800'</span>
  
  <span class="hljs-comment">// è°ƒç”¨å›¾åƒä¼˜åŒ–æœåŠ¡</span>
  <span class="hljs-keyword">const</span> optimizedImageUrl = <span class="hljs-string">`https://image-optimizer.example.com/resize?width=<span class="hljs-subst">${width}</span>&amp;url=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(url.toString())}</span>`</span>
  
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(optimizedImageUrl)
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(response.<span class="hljs-property">body</span>, {
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'image/jpeg'</span>,
      <span class="hljs-string">'Cache-Control'</span>: <span class="hljs-string">'public, max-age=31536000'</span>
    }
  })
}
</code></pre>
<h3 data-id="heading-21">5. é˜¿é‡Œäº‘è¾¹ç¼˜å‡½æ•°å®æˆ˜</h3>
<h4 data-id="heading-22">5.1 åˆ›å»ºè¾¹ç¼˜å‡½æ•°</h4>
<ol>
<li>ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°</li>
<li>è¿›å…¥è¾¹ç¼˜å®‰å…¨åŠ é€Ÿï¼ˆESAï¼‰æœåŠ¡</li>
<li>åœ¨å·¦ä¾§å¯¼èˆªæ é€‰æ‹©"è¾¹ç¼˜å‡½æ•°"</li>
<li>ç‚¹å‡»"åˆ›å»ºå‡½æ•°"</li>
<li>é€‰æ‹©æ¨¡æ¿æˆ–è‡ªå®šä¹‰ä»£ç </li>
<li>é…ç½®å‡½æ•°åŸºæœ¬ä¿¡æ¯</li>
</ol>
<h4 data-id="heading-23">5.2 é…ç½®è§¦å‘å™¨</h4>
<p>è¾¹ç¼˜å‡½æ•°å¯ä»¥é€šè¿‡åŸŸåç»‘å®šæˆ–è·¯ç”±è§„åˆ™è§¦å‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šå¤„ç†ä¸åŒè·¯å¾„çš„è¯·æ±‚</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleRequest</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleRequest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(request.<span class="hljs-property">url</span>)
  
  <span class="hljs-keyword">switch</span> (url.<span class="hljs-property">pathname</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'/api/users'</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">handleUsers</span>(request)
    <span class="hljs-keyword">case</span> <span class="hljs-string">'/api/products'</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">handleProducts</span>(request)
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Not Found'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">404</span> })
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleUsers</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-comment">// å¤„ç†ç”¨æˆ·ç›¸å…³è¯·æ±‚</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">users</span>: [] }), {
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> }
  })
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleProducts</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-comment">// å¤„ç†äº§å“ç›¸å…³è¯·æ±‚</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">products</span>: [] }), {
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> }
  })
}
</code></pre>
<h4 data-id="heading-24">5.3 ç¯å¢ƒç®¡ç†</h4>
<p>é˜¿é‡Œäº‘è¾¹ç¼˜å‡½æ•°æä¾›æµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒå’Œç°åº¦ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šæ ¹æ®ç¯å¢ƒè¿”å›ä¸åŒå†…å®¹</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleEnvironmentSpecificRequest</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleEnvironmentSpecificRequest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-comment">// é€šè¿‡ç¯å¢ƒå˜é‡åŒºåˆ†ç¯å¢ƒ</span>
  <span class="hljs-keyword">const</span> environment = <span class="hljs-keyword">typeof</span> process !== <span class="hljs-string">'undefined'</span> ? process.<span class="hljs-property">env</span>.<span class="hljs-property">ENVIRONMENT</span> : <span class="hljs-string">'production'</span>
  
  <span class="hljs-keyword">let</span> content
  <span class="hljs-keyword">switch</span> (environment) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'development'</span>:
      content = <span class="hljs-string">'&lt;h1&gt;Development Environment&lt;/h1&gt;'</span>
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'staging'</span>:
      content = <span class="hljs-string">'&lt;h1&gt;Staging Environment&lt;/h1&gt;'</span>
      <span class="hljs-keyword">break</span>
    <span class="hljs-attr">default</span>:
      content = <span class="hljs-string">'&lt;h1&gt;Production Environment&lt;/h1&gt;'</span>
  }
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(content, {
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/html'</span> }
  })
}
</code></pre>
<h3 data-id="heading-25">6. æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
<h4 data-id="heading-26">6.1 å‡å°‘å†·å¯åŠ¨æ—¶é—´</h4>
<ol>
<li>ä¼˜åŒ–ä»£ç åŒ…å¤§å°</li>
<li>é¿å…å¤æ‚çš„åˆå§‹åŒ–é€»è¾‘</li>
<li>ä½¿ç”¨ç¼“å­˜ç­–ç•¥</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šä¼˜åŒ–åˆå§‹åŒ–</span>
<span class="hljs-keyword">let</span> initialized = <span class="hljs-literal">false</span>
<span class="hljs-keyword">let</span> databaseConnection = <span class="hljs-literal">null</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!initialized) {
    <span class="hljs-comment">// åˆå§‹åŒ–åªæ‰§è¡Œä¸€æ¬¡</span>
    databaseConnection = <span class="hljs-keyword">await</span> <span class="hljs-title function_">connectToDatabase</span>()
    initialized = <span class="hljs-literal">true</span>
  }
}

<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleOptimizedRequest</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleOptimizedRequest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">initialize</span>()
  
  <span class="hljs-comment">// å¤„ç†è¯·æ±‚é€»è¾‘</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Hello World'</span>)
}
</code></pre>
<h4 data-id="heading-27">6.2 åˆç†ä½¿ç”¨ç¼“å­˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šä½¿ç”¨è¾¹ç¼˜ç¼“å­˜</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleCachedRequest</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleCachedRequest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-comment">// å°è¯•ä»ç¼“å­˜è·å–</span>
  <span class="hljs-keyword">const</span> cache = caches.<span class="hljs-property">default</span>
  <span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">match</span>(request)
  
  <span class="hljs-keyword">if</span> (!response) {
    <span class="hljs-comment">// ç¼“å­˜æœªå‘½ä¸­ï¼Œè·å–æ–°æ•°æ®</span>
    response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(request)
    
    <span class="hljs-comment">// ç¼“å­˜å“åº”ï¼ˆ1å°æ—¶ï¼‰</span>
    <span class="hljs-keyword">const</span> clonedResponse = response.<span class="hljs-title function_">clone</span>()
    clonedResponse.<span class="hljs-property">headers</span>.<span class="hljs-title function_">append</span>(<span class="hljs-string">'Cache-Control'</span>, <span class="hljs-string">'public, max-age=3600'</span>)
    <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">put</span>(request, clonedResponse)
  }
  
  <span class="hljs-keyword">return</span> response
}
</code></pre>
<h4 data-id="heading-28">6.3 é”™è¯¯å¤„ç†å’Œç›‘æ§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šé”™è¯¯å¤„ç†å’Œç›‘æ§</span>
<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">handleWithErrorTracking</span>(event.<span class="hljs-property">request</span>))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleWithErrorTracking</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">processRequest</span>(request)
    <span class="hljs-keyword">return</span> response
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// è®°å½•é”™è¯¯æ—¥å¿—</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error processing request:'</span>, error)
    
    <span class="hljs-comment">// è¿”å›é”™è¯¯å“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Internal Server Error'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">500</span> })
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processRequest</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-comment">// å®é™…å¤„ç†é€»è¾‘</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Success'</span>)
}
</code></pre>
<h3 data-id="heading-29">7. æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-30">7.1 ä»£ç ç»„ç»‡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨èçš„ä»£ç ç»„ç»‡ç»“æ„</span>
<span class="hljs-comment">// main.js - å…¥å£æ–‡ä»¶</span>
<span class="hljs-keyword">import</span> { handleUsers } <span class="hljs-keyword">from</span> <span class="hljs-string">'./handlers/users.js'</span>
<span class="hljs-keyword">import</span> { handleProducts } <span class="hljs-keyword">from</span> <span class="hljs-string">'./handlers/products.js'</span>
<span class="hljs-keyword">import</span> { handleError } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/error.js'</span>

<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'fetch'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(<span class="hljs-title function_">router</span>(event.<span class="hljs-property">request</span>).<span class="hljs-title function_">catch</span>(handleError))
})

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">router</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(request.<span class="hljs-property">url</span>)
  
  <span class="hljs-keyword">switch</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">case</span> url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/api/users'</span>):
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">handleUsers</span>(request)
    <span class="hljs-keyword">case</span> url.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/api/products'</span>):
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">handleProducts</span>(request)
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Not Found'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">404</span> })
  }
}
</code></pre>
<h4 data-id="heading-31">7.2 é…ç½®ç®¡ç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šç¯å¢ƒé…ç½®ç®¡ç†</span>
<span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">development</span>: {
    <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'https://dev-api.example.com'</span>,
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>
  },
  <span class="hljs-attr">production</span>: {
    <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'https://api.example.com'</span>,
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>
  }
}

<span class="hljs-keyword">const</span> environment = <span class="hljs-keyword">typeof</span> process !== <span class="hljs-string">'undefined'</span> ? process.<span class="hljs-property">env</span>.<span class="hljs-property">ENVIRONMENT</span> : <span class="hljs-string">'production'</span>
<span class="hljs-keyword">const</span> currentConfig = config[environment] || config.<span class="hljs-property">production</span>
</code></pre>
<h4 data-id="heading-32">7.3 æµ‹è¯•ç­–ç•¥</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šå•å…ƒæµ‹è¯•</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">formatCurrency</span>(<span class="hljs-params">amount, currency = <span class="hljs-string">'USD'</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">NumberFormat</span>(<span class="hljs-string">'en-US'</span>, {
    <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>,
    <span class="hljs-attr">currency</span>: currency
  }).<span class="hljs-title function_">format</span>(amount)
}

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">assert</span>(<span class="hljs-title function_">formatCurrency</span>(<span class="hljs-number">1000</span>) === <span class="hljs-string">'$1,000.00'</span>, <span class="hljs-string">'Should format USD correctly'</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">assert</span>(<span class="hljs-title function_">formatCurrency</span>(<span class="hljs-number">1000</span>, <span class="hljs-string">'EUR'</span>) === <span class="hljs-string">'â‚¬1,000.00'</span>, <span class="hljs-string">'Should format EUR correctly'</span>)
</code></pre>
<h3 data-id="heading-33">8. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-34">8.1 å†…å­˜é™åˆ¶</h4>
<p>è¾¹ç¼˜å‡½æ•°é€šå¸¸æœ‰å†…å­˜é™åˆ¶ï¼Œéœ€è¦ä¼˜åŒ–ä»£ç ä»¥å‡å°‘å†…å­˜ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šå¤„ç†å¤§æ•°æ®é›†æ—¶é¿å…å†…å­˜æº¢å‡º</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>* <span class="hljs-title function_">processDataStream</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> data) {
    <span class="hljs-comment">// é€ä¸ªå¤„ç†æ•°æ®é¡¹</span>
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">processItem</span>(item)
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleLargeDataset</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-keyword">const</span> largeDataset = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchLargeDataset</span>()
  
  <span class="hljs-comment">// ä½¿ç”¨æµå¼å¤„ç†é¿å…å†…å­˜æº¢å‡º</span>
  <span class="hljs-keyword">const</span> processedData = []
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> <span class="hljs-title function_">processDataStream</span>(largeDataset)) {
    processedData.<span class="hljs-title function_">push</span>(item)
  }
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(processedData))
}
</code></pre>
<h4 data-id="heading-35">8.2 æ‰§è¡Œæ—¶é—´é™åˆ¶</h4>
<p>è¾¹ç¼˜å‡½æ•°é€šå¸¸æœ‰æ‰§è¡Œæ—¶é—´é™åˆ¶ï¼Œéœ€è¦ä¼˜åŒ–ç®—æ³•æ•ˆç‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šä½¿ç”¨Promise.allå¹¶è¡Œå¤„ç†å¤šä¸ªè¯·æ±‚</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleMultipleRequests</span>(<span class="hljs-params">requests</span>) {
  <span class="hljs-comment">// å¹¶è¡Œæ‰§è¡Œæ‰€æœ‰è¯·æ±‚</span>
  <span class="hljs-keyword">const</span> responses = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
    requests.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">request</span> =&gt;</span> <span class="hljs-title function_">fetch</span>(request))
  )
  
  <span class="hljs-keyword">return</span> responses
}
</code></pre>
<h4 data-id="heading-36">8.3 è°ƒè¯•æŠ€å·§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šæ·»åŠ è¯¦ç»†çš„æ—¥å¿—è®°å½•</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">debuggableFunction</span>(<span class="hljs-params">request</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Processing request:'</span>, {
    <span class="hljs-attr">url</span>: request.<span class="hljs-property">url</span>,
    <span class="hljs-attr">method</span>: request.<span class="hljs-property">method</span>,
    <span class="hljs-attr">headers</span>: <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">entries</span>())
  })
  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">performOperation</span>()
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Operation completed successfully:'</span>, result)
    <span class="hljs-keyword">return</span> result
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Operation failed:'</span>, error.<span class="hljs-property">message</span>, error.<span class="hljs-property">stack</span>)
    <span class="hljs-keyword">throw</span> error
  }
}
</code></pre>
<h3 data-id="heading-37">9. æœªæ¥å‘å±•å±•æœ›</h3>
<h4 data-id="heading-38">9.1 å¤šè¯­è¨€æ”¯æŒ</h4>
<p>éšç€WebAssemblyæŠ€æœ¯çš„å‘å±•ï¼Œè¾¹ç¼˜å‡½æ•°å°†æ”¯æŒæ›´å¤šç¼–ç¨‹è¯­è¨€ï¼Œå¦‚Rustã€Goã€Pythonç­‰ã€‚</p>
<h4 data-id="heading-39">9.2 AIæ¨ç†èƒ½åŠ›</h4>
<p>è¾¹ç¼˜å‡½æ•°å°†é›†æˆæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå®ç°å®æ—¶AIæ¨ç†ï¼Œå¦‚å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰ã€‚</p>
<h4 data-id="heading-40">9.3 æ›´å¼ºçš„ç½‘ç»œåŠŸèƒ½</h4>
<p>æœªæ¥çš„è¾¹ç¼˜å‡½æ•°å°†æ”¯æŒæ›´å¤šç½‘ç»œåè®®ï¼Œå¦‚WebSocketã€gRPCç­‰ï¼Œæä¾›æ›´ä¸°å¯Œçš„ç½‘ç»œæ§åˆ¶èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-41">10. æ€»ç»“</h3>
<p>è¾¹ç¼˜å‡½æ•°ä½œä¸ºä¸€ç§æ–°å…´çš„è®¡ç®—èŒƒå¼ï¼Œæ­£åœ¨æ”¹å˜æˆ‘ä»¬æ„å»ºå’Œéƒ¨ç½²åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚é€šè¿‡å°†è®¡ç®—æ¨å‘ç½‘ç»œè¾¹ç¼˜ï¼Œå®ƒå¯ä»¥æ˜¾è‘—æ”¹å–„åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒï¼ŒåŒæ—¶é™ä½è¿è¥æˆæœ¬ã€‚</p>
<p>ä½¿ç”¨è¾¹ç¼˜å‡½æ•°çš„å…³é”®åœ¨äºï¼š</p>
<ol>
<li><strong>ç†è§£ä½¿ç”¨åœºæ™¯</strong>ï¼šæ˜ç¡®å“ªäº›ä¸šåŠ¡é€»è¾‘é€‚åˆåœ¨è¾¹ç¼˜æ‰§è¡Œ</li>
<li><strong>ä¼˜åŒ–ä»£ç æ€§èƒ½</strong>ï¼šéµå¾ªæœ€ä½³å®è·µï¼Œå‡å°‘å†·å¯åŠ¨æ—¶é—´å’Œå†…å­˜ä½¿ç”¨</li>
<li><strong>åˆç†é…ç½®ç¯å¢ƒ</strong>ï¼šå……åˆ†åˆ©ç”¨æµ‹è¯•ã€ç”Ÿäº§å’Œç°åº¦ç¯å¢ƒ</li>
<li><strong>ç›‘æ§å’Œè°ƒè¯•</strong>ï¼šå»ºç«‹å®Œå–„çš„ç›‘æ§ä½“ç³»ï¼ŒåŠæ—¶å‘ç°é—®é¢˜</li>
</ol>
<p>éšç€æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œè¾¹ç¼˜å‡½æ•°å°†åœ¨æ›´å¤šåœºæ™¯ä¸­å‘æŒ¥é‡è¦ä½œç”¨ï¼Œæˆä¸ºç°ä»£Webåº”ç”¨æ¶æ„çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼ŒæŒæ¡è¾¹ç¼˜å‡½æ•°æŠ€æœ¯ä¸ä»…å¯ä»¥æå‡åº”ç”¨æ€§èƒ½ï¼Œè¿˜èƒ½æ›´å¥½åœ°é€‚åº”æœªæ¥äº‘è®¡ç®—çš„å‘å±•è¶‹åŠ¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS å¾ªç¯å¼•ç”¨ç¯‡ èœé¸Ÿéƒ½èƒ½çœ‹æ‡‚]]></title>    <link>https://juejin.cn/post/7585091990347022372</link>    <guid>https://juejin.cn/post/7585091990347022372</guid>    <pubDate>2025-12-19T02:50:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585091990347022372" data-draft-id="7585080842113613860" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS å¾ªç¯å¼•ç”¨ç¯‡ èœé¸Ÿéƒ½èƒ½çœ‹æ‡‚"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T02:50:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dongczlu"/> <meta itemprop="url" content="https://juejin.cn/user/3940246036430125"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS å¾ªç¯å¼•ç”¨ç¯‡ èœé¸Ÿéƒ½èƒ½çœ‹æ‡‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3940246036430125/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dongczlu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T02:50:36.000Z" title="Fri Dec 19 2025 02:50:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»42åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">iOS å†…å­˜ç®¡ç†å®Œæ•´è¡¥å……çŸ¥è¯†</h2>
<blockquote>
<p>ä»å¯¹è±¡åˆ°ç±»ã€ä»ç»“æ„ä½“åˆ°å…ƒç±»ã€ä» C++ åˆ°å†…å­˜åˆ†å¸ƒåŒºã€åˆ°æ‰‹æœºç¡¬ä»¶å†…å­˜çš„å®Œæ•´çŸ¥è¯†çº¿</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ç›®å½•</h3>
<ol start="0">
<li><a href="#1-arc-%E8%87%AA%E5%8A%A8%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E8%AF%A6%E7%BB%86%E6%9C%BA%E5%88%B6" title="#1-arc-%E8%87%AA%E5%8A%A8%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E8%AF%A6%E7%BB%86%E6%9C%BA%E5%88%B6">ARC è‡ªåŠ¨å¼•ç”¨è®¡æ•°è¯¦ç»†æœºåˆ¶</a></li>
<li><a href="#2-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%A4%A7%E5%B0%8F" title="#2-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%A4%A7%E5%B0%8F">å†…å­˜å¯¹é½ä¸å¯¹è±¡å¤§å°</a></li>
<li><a href="#3-tagged-pointer-%E6%8A%80%E6%9C%AF" title="#3-tagged-pointer-%E6%8A%80%E6%9C%AF">Tagged Pointer æŠ€æœ¯</a></li>
<li><a href="#4-mach-o-%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E4%B8%8E%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84" title="#4-mach-o-%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E4%B8%8E%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84">Mach-O æ–‡ä»¶ç»“æ„ä¸å†…å­˜æ˜ å°„</a></li>
<li><a href="#5-autoreleasepool-%E4%B8%8E-runloop-%E5%85%B3%E7%B3%BB" title="#5-autoreleasepool-%E4%B8%8E-runloop-%E5%85%B3%E7%B3%BB">AutoreleasePool ä¸ RunLoop å…³ç³»</a></li>
<li><a href="#6-%E5%A0%86%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5%E4%B8%8E%E5%86%85%E5%AD%98%E7%A2%8E%E7%89%87" title="#6-%E5%A0%86%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5%E4%B8%8E%E5%86%85%E5%AD%98%E7%A2%8E%E7%89%87">å †åˆ†é…ç­–ç•¥ä¸å†…å­˜ç¢ç‰‡</a></li>
<li><a href="#7-%E6%A0%88%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%88%E6%BA%A2%E5%87%BA" title="#7-%E6%A0%88%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%A0%88%E6%BA%A2%E5%87%BA">æ ˆåŸºç¡€ä¸æ ˆæº¢å‡º</a></li>
<li><a href="#8-%E7%B1%BB%E5%85%83%E7%B1%BB%E6%9F%A5%E6%89%BE%E9%93%BE%E4%B8%8E%E6%96%B9%E6%B3%95%E7%BC%93%E5%AD%98" title="#8-%E7%B1%BB%E5%85%83%E7%B1%BB%E6%9F%A5%E6%89%BE%E9%93%BE%E4%B8%8E%E6%96%B9%E6%B3%95%E7%BC%93%E5%AD%98">ç±»/å…ƒç±»æŸ¥æ‰¾é“¾ä¸æ–¹æ³•ç¼“å­˜</a></li>
<li><a href="#9-oc-vs-c-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%B7%AE%E5%BC%82" title="#9-oc-vs-c-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%B7%AE%E5%BC%82">OC vs C++ å†…å­˜æ¨¡å‹å·®å¼‚</a></li>
<li><a href="#10-%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%B8%8E%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84" title="#10-%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%B8%8E%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84">è™šæ‹Ÿå†…å­˜ä¸ç‰©ç†å†…å­˜æ˜ å°„</a></li>
<li><a href="#11-weak-%E8%A1%A8%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%80%A7%E8%83%BD" title="#11-weak-%E8%A1%A8%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%80%A7%E8%83%BD">Weak è¡¨å®ç°ä¸æ€§èƒ½</a></li>
</ol>
<hr/>
<h3 data-id="heading-2">0. å¼•ç”¨è®¡æ•°åŸºç¡€æ¦‚å¿µï¼ˆå°ç™½å¿…è¯»ï¼‰</h3>
<h4 data-id="heading-3">0.1 ä»€ä¹ˆæ˜¯å¼•ç”¨è®¡æ•°ï¼Ÿ</h4>
<p><strong>å¼•ç”¨è®¡æ•° = è®°å½•"æœ‰å¤šå°‘ä¸ªåœ°æ–¹åœ¨ä½¿ç”¨è¿™ä¸ªå¯¹è±¡"çš„æ•°å­—</strong></p>
<h5 data-id="heading-4">ç”Ÿæ´»åŒ–æ¯”å–»ï¼šå›¾ä¹¦é¦†å€Ÿä¹¦</h5>
<p>æƒ³è±¡ä¸€ä¸‹å›¾ä¹¦é¦†çš„ä¹¦ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">ä¸€æœ¬ä¹¦ï¼ˆå¯¹è±¡ï¼‰ï¼š
<span class="hljs-deletion">- è¢«å€Ÿå‡ºæ—¶ï¼šå€Ÿä¹¦äººæ•° = 1</span>
<span class="hljs-deletion">- åˆæœ‰äººå€Ÿï¼šå€Ÿä¹¦äººæ•° = 2</span>
<span class="hljs-deletion">- æœ‰äººè¿˜ä¹¦ï¼šå€Ÿä¹¦äººæ•° = 1</span>
<span class="hljs-deletion">- æ‰€æœ‰äººè¿˜å®Œï¼šå€Ÿä¹¦äººæ•° = 0 â†’ ä¹¦å¯ä»¥æ”¾å›ä»“åº“ï¼ˆå¯¹è±¡è¢«é‡Šæ”¾ï¼‰</span>
</code></pre>
<p><strong>OC å¯¹è±¡ä¹Ÿæ˜¯ä¸€æ ·ï¼š</strong></p>
<ul>
<li>å¯¹è±¡è¢«åˆ›å»ºï¼šå¼•ç”¨è®¡æ•° = 1</li>
<li>æœ‰äººå¼ºå¼•ç”¨å®ƒï¼šå¼•ç”¨è®¡æ•° +1</li>
<li>æœ‰äººä¸å†å¼•ç”¨ï¼šå¼•ç”¨è®¡æ•° -1</li>
<li>å¼•ç”¨è®¡æ•° = 0ï¼šå¯¹è±¡è¢«é‡Šæ”¾ï¼ˆå†…å­˜å›æ”¶ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-5">0.2 "å¼•ç”¨è®¡æ•°åŠ 1"æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h4>
<p><strong>"å¼•ç”¨è®¡æ•°åŠ 1" = åˆå¤šäº†ä¸€ä¸ªåœ°æ–¹åœ¨ä½¿ç”¨è¿™ä¸ªå¯¹è±¡</strong></p>
<h5 data-id="heading-6">ä»£ç ç¤ºä¾‹</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ­¥éª¤ 1ï¼šåˆ›å»ºå¯¹è±¡</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj <span class="hljs-operator">=</span> [[<span class="hljs-type">NSObject</span> alloc] <span class="hljs-keyword">init</span>];
<span class="hljs-comment">// æ­¤æ—¶ï¼šobj æŒ‡å‘çš„å¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•° = 1</span>
<span class="hljs-comment">// æ„æ€ï¼šæœ‰ 1 ä¸ªåœ°æ–¹åœ¨ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼ˆå°±æ˜¯ obj è¿™ä¸ªå˜é‡ï¼‰</span>
â€‹
<span class="hljs-comment">// æ­¥éª¤ 2ï¼šå¦ä¸€ä¸ªå˜é‡ä¹ŸæŒ‡å‘è¿™ä¸ªå¯¹è±¡</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj2 <span class="hljs-operator">=</span> obj; Â <span class="hljs-comment">// å¼ºå¼•ç”¨èµ‹å€¼</span>
<span class="hljs-comment">// æ­¤æ—¶ï¼šobj æŒ‡å‘çš„å¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•° = 2</span>
<span class="hljs-comment">// æ„æ€ï¼šæœ‰ 2 ä¸ªåœ°æ–¹åœ¨ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼ˆobj å’Œ obj2ï¼‰</span>
â€‹
<span class="hljs-comment">// æ­¥éª¤ 3ï¼šobj ä¸å†æŒ‡å‘è¿™ä¸ªå¯¹è±¡</span>
obj <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>;
<span class="hljs-comment">// æ­¤æ—¶ï¼šobj æŒ‡å‘çš„å¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•° = 1</span>
<span class="hljs-comment">// æ„æ€ï¼šè¿˜æœ‰ 1 ä¸ªåœ°æ–¹åœ¨ä½¿ç”¨ï¼ˆobj2 è¿˜åœ¨ç”¨ï¼‰</span>
â€‹
<span class="hljs-comment">// æ­¥éª¤ 4ï¼šobj2 ä¹Ÿä¸å†æŒ‡å‘</span>
obj2 <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>;
<span class="hljs-comment">// æ­¤æ—¶ï¼šå¼•ç”¨è®¡æ•° = 0</span>
<span class="hljs-comment">// æ„æ€ï¼šæ²¡æœ‰åœ°æ–¹åœ¨ä½¿ç”¨è¿™ä¸ªå¯¹è±¡äº† â†’ å¯¹è±¡è¢«é‡Šæ”¾ï¼</span>
</code></pre>
<hr/>
<h4 data-id="heading-7">0.3 "self å¼•ç”¨è®¡æ•°åŠ 1"å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿ</h4>
<p><strong>"self å¼•ç”¨è®¡æ•°åŠ 1" = åˆå¤šäº†ä¸€ä¸ªåœ°æ–¹åœ¨å¼ºå¼•ç”¨ self è¿™ä¸ªå¯¹è±¡</strong></p>
<h5 data-id="heading-8">ç¤ºä¾‹ 1ï¼šæ™®é€šèµ‹å€¼</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@interface</span> <span class="hljs-attribute">ViewController </span>: UIViewController
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-variable">@implementation</span> ViewController
â€‹
- (void)viewDidLoad {
 Â   <span class="hljs-selector-attr">[super viewDidLoad]</span>;
 Â  Â 
 Â  Â <span class="hljs-comment">// self çš„å¼•ç”¨è®¡æ•° = 1ï¼ˆå‡è®¾åªæœ‰ç³»ç»Ÿåœ¨å¼•ç”¨å®ƒï¼‰</span>
 Â  Â 
 Â  Â <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¼ºå¼•ç”¨</span>
 Â  Â <span class="hljs-selector-tag">ViewController</span> *<span class="hljs-selector-tag">anotherRef</span> = <span class="hljs-selector-tag">self</span>; Â <span class="hljs-comment">// å¼ºå¼•ç”¨èµ‹å€¼</span>
 Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself çš„å¼•ç”¨è®¡æ•° = 2</span>
 Â  Â <span class="hljs-comment">// æ„æ€ï¼šæœ‰ 2 ä¸ªåœ°æ–¹åœ¨å¼ºå¼•ç”¨ selfï¼ˆç³»ç»Ÿ + anotherRefï¼‰</span>
 Â  Â 
 Â  Â <span class="hljs-comment">// anotherRef ä¸å†å¼•ç”¨</span>
 Â  Â <span class="hljs-selector-tag">anotherRef</span> = <span class="hljs-selector-tag">nil</span>;
 Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself çš„å¼•ç”¨è®¡æ•° = 1ï¼ˆæ¢å¤ï¼‰</span>
}
â€‹
@<span class="hljs-selector-tag">end</span>
</code></pre>
<h5 data-id="heading-9">ç¤ºä¾‹ 2ï¼šBlock æ•è· selfï¼ˆå…³é”®ï¼ï¼‰</h5>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â <span class="hljs-comment">// self çš„å¼•ç”¨è®¡æ•° = 1</span>
 Â  Â 
 Â  Â <span class="hljs-comment">// âŒ æƒ…å†µ Aï¼šblock ç›´æ¥æ•è· self</span>
 Â  Â <span class="hljs-keyword">self</span>.block = ^{
 Â  Â  Â   [<span class="hljs-keyword">self</span> doSomething]; Â <span class="hljs-comment">// block å¼ºå¼•ç”¨ self</span>
 Â   };
 Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself çš„å¼•ç”¨è®¡æ•° = 2</span>
 Â  Â <span class="hljs-comment">// åŸå› ï¼šself å¼ºå¼•ç”¨ blockï¼Œblock å¼ºå¼•ç”¨ self</span>
 Â  Â <span class="hljs-comment">// å½¢æˆå¾ªç¯ï¼šself â†’ block â†’ selfï¼ˆå¾ªç¯å¼•ç”¨ï¼ï¼‰</span>
 Â  Â 
 Â  Â <span class="hljs-comment">// âœ… æƒ…å†µ Bï¼šblock æ•è· weakSelf</span>
 Â  Â __<span class="hljs-keyword">weak</span> <span class="hljs-keyword">typeof</span>(<span class="hljs-keyword">self</span>) weakSelf = <span class="hljs-keyword">self</span>;
 Â  Â <span class="hljs-keyword">self</span>.block = ^{
 Â  Â  Â   [weakSelf doSomething]; Â <span class="hljs-comment">// block å¼±å¼•ç”¨ selfï¼ˆä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰</span>
 Â   };
 Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself çš„å¼•ç”¨è®¡æ•° = 1ï¼ˆæ²¡æœ‰å¢åŠ ï¼ï¼‰</span>
 Â  Â <span class="hljs-comment">// åŸå› ï¼šweakSelf æ˜¯å¼±å¼•ç”¨ï¼Œä¸ä¼šè®©å¼•ç”¨è®¡æ•° +1</span>
}
</code></pre>
<h5 data-id="heading-10">ç¤ºä¾‹ 3ï¼šWeak-Strong Dance ä¸­çš„å¼•ç”¨è®¡æ•°å˜åŒ–</h5>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â <span class="hljs-comment">// åˆå§‹çŠ¶æ€ï¼šself å¼•ç”¨è®¡æ•° = 1</span>
 Â  Â 
 Â  Â __<span class="hljs-keyword">weak</span> <span class="hljs-keyword">typeof</span>(<span class="hljs-keyword">self</span>) weakSelf = <span class="hljs-keyword">self</span>;
 Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself å¼•ç”¨è®¡æ•° = 1ï¼ˆweakSelf ä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰</span>
 Â  Â 
 Â  Â <span class="hljs-keyword">self</span>.block = ^{
 Â  Â  Â  Â <span class="hljs-comment">// block è¢«åˆ›å»ºï¼Œæ•è·äº† weakSelfï¼ˆå¼±å¼•ç”¨ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself å¼•ç”¨è®¡æ•° = 1ï¼ˆä»ç„¶æ²¡æœ‰å¢åŠ ï¼‰</span>
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// block æ‰§è¡Œæ—¶ï¼š</span>
 Â  Â  Â  Â __<span class="hljs-keyword">strong</span> <span class="hljs-keyword">typeof</span>(weakSelf) strongSelf = weakSelf;
 Â  Â  Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself å¼•ç”¨è®¡æ•° = 2ï¼ˆstrongSelf å¼ºå¼•ç”¨ï¼Œ+1ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-comment">// æ„æ€ï¼šåˆå¤šäº†ä¸€ä¸ªåœ°æ–¹åœ¨å¼ºå¼•ç”¨ selfï¼ˆå°±æ˜¯ strongSelfï¼‰</span>
 Â  Â  Â  Â 
 Â  Â  Â   [strongSelf doSomething];
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// block æ‰§è¡Œå®Œï¼ŒstrongSelf ä½œç”¨åŸŸç»“æŸ</span>
 Â  Â  Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself å¼•ç”¨è®¡æ•° = 1ï¼ˆstrongSelf é‡Šæ”¾ï¼Œ-1ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-comment">// æ„æ€ï¼šstrongSelf ä¸å†å¼•ç”¨ selfï¼Œå¼•ç”¨è®¡æ•°æ¢å¤</span>
 Â   };
 Â  Â 
 Â  Â <span class="hljs-comment">// æœ€ç»ˆï¼šself å¼•ç”¨è®¡æ•° = 1ï¼ˆblock åªå¼±å¼•ç”¨ selfï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰</span>
}
</code></pre>
<hr/>
<h4 data-id="heading-11">0.4 å¼•ç”¨è®¡æ•°çš„"åŠ 1"å’Œ"å‡1"æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</h4>
<h5 data-id="heading-12">åº•å±‚å®ç°ï¼ˆç®€åŒ–ç†è§£ï¼‰</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// ä¼ªä»£ç ï¼šå¼•ç”¨è®¡æ•°çš„å®ç°</span>
<span class="hljs-keyword">struct</span> <span class="hljs-built_in">NSObject</span> {
 Â  Â <span class="hljs-type">int</span> retainCount; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•°ï¼ˆå®é™…å¯èƒ½ä¸åœ¨å¯¹è±¡é‡Œï¼Œåœ¨ side tableï¼‰</span>
};
â€‹
<span class="hljs-comment">// retainï¼ˆåŠ 1ï¼‰</span>
- (<span class="hljs-type">id</span>)<span class="hljs-keyword">retain</span> {
 Â  Â retainCount++; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° +1</span>
 Â  Â <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}
â€‹
<span class="hljs-comment">// releaseï¼ˆå‡1ï¼‰</span>
- (<span class="hljs-type">void</span>)release {
 Â  Â retainCount--; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° -1</span>
 Â  Â <span class="hljs-keyword">if</span> (retainCount == <span class="hljs-number">0</span>) {
 Â  Â  Â   [<span class="hljs-keyword">self</span> dealloc]; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•°ä¸º 0ï¼Œé‡Šæ”¾å¯¹è±¡</span>
 Â   }
}
</code></pre>
<h5 data-id="heading-13">ARC è‡ªåŠ¨æ’å…¥ retain/release</h5>
<pre><code class="hljs language-ini" lang="ini">// ä½ å†™çš„ä»£ç 
NSObject *<span class="hljs-attr">obj</span> = [[NSObject alloc] init]<span class="hljs-comment">;</span>
NSObject *<span class="hljs-attr">obj2</span> = obj<span class="hljs-comment">;</span>
â€‹
// ç¼–è¯‘å™¨å®é™…ç”Ÿæˆçš„ä»£ç ï¼ˆä¼ªä»£ç ï¼‰
NSObject *<span class="hljs-attr">obj</span> = [[NSObject alloc] init]<span class="hljs-comment">; Â // retainCount = 1</span>
NSObject *<span class="hljs-attr">obj2</span> = [obj retain]<span class="hljs-comment">; Â  Â  Â  Â  Â  Â // retainCount = 2ï¼ˆè‡ªåŠ¨æ’å…¥ retainï¼‰</span>
// ... ä½¿ç”¨ ...
<span class="hljs-section">[obj release]</span><span class="hljs-comment">; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // retainCount = 1ï¼ˆè‡ªåŠ¨æ’å…¥ releaseï¼‰</span>
<span class="hljs-section">[obj2 release]</span><span class="hljs-comment">; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // retainCount = 0ï¼Œå¯¹è±¡é‡Šæ”¾</span>
</code></pre>
<hr/>
<h4 data-id="heading-14">0.5 å¸¸è§è¯¯åŒºæ¾„æ¸…</h4>
<h5 data-id="heading-15">è¯¯åŒº 1ï¼šæŒ‡é’ˆå˜é‡æœ¬èº«ä¸å å¼•ç”¨è®¡æ•°</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj <span class="hljs-operator">=</span> [[<span class="hljs-type">NSObject</span> alloc] <span class="hljs-keyword">init</span>];
<span class="hljs-comment">// obj è¿™ä¸ªæŒ‡é’ˆå˜é‡æœ¬èº«ä¸å å¼•ç”¨è®¡æ•°</span>
<span class="hljs-comment">// å¼•ç”¨è®¡æ•°æ˜¯å¯¹è±¡è‡ªå·±çš„å±æ€§ï¼Œä¸æ˜¯æŒ‡é’ˆçš„å±æ€§</span>
â€‹
<span class="hljs-comment">// å¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj1 <span class="hljs-operator">=</span> [[<span class="hljs-type">NSObject</span> alloc] <span class="hljs-keyword">init</span>]; Â <span class="hljs-comment">// å¯¹è±¡å¼•ç”¨è®¡æ•° = 1</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj2 <span class="hljs-operator">=</span> obj1; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¯¹è±¡å¼•ç”¨è®¡æ•° = 2ï¼ˆä¸æ˜¯ obj2 çš„å¼•ç”¨è®¡æ•°ï¼‰</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj3 <span class="hljs-operator">=</span> obj1; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¯¹è±¡å¼•ç”¨è®¡æ•° = 3ï¼ˆä¸æ˜¯ obj3 çš„å¼•ç”¨è®¡æ•°ï¼‰</span>
â€‹
<span class="hljs-comment">// æ‰€æœ‰æŒ‡é’ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•° = 3</span>
</code></pre>
<h5 data-id="heading-16">è¯¯åŒº 2ï¼šweak å¼•ç”¨ä¸å¢åŠ å¼•ç”¨è®¡æ•°</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-built_in">NSObject</span> *obj = [[<span class="hljs-built_in">NSObject</span> alloc] init]; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 1</span>
__<span class="hljs-keyword">weak</span> <span class="hljs-built_in">NSObject</span> *weakObj = obj; Â  Â  Â  Â  Â  <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 1ï¼ˆæ²¡æœ‰å¢åŠ ï¼ï¼‰</span>
__<span class="hljs-keyword">strong</span> <span class="hljs-built_in">NSObject</span> *strongObj = obj; Â  Â  Â  Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 2ï¼ˆå¢åŠ äº†ï¼ï¼‰</span>
â€‹
<span class="hljs-comment">// weak å¼•ç”¨ä¸ä¼šè®©å¼•ç”¨è®¡æ•° +1</span>
<span class="hljs-comment">// åªæœ‰ strong å¼•ç”¨æ‰ä¼šè®©å¼•ç”¨è®¡æ•° +1</span>
</code></pre>
<h5 data-id="heading-17">è¯¯åŒº 3ï¼šå¼•ç”¨è®¡æ•°ä¸æ˜¯å¯¹è±¡çš„"æ•°é‡"</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ é”™è¯¯ç†è§£ï¼šå¼•ç”¨è®¡æ•° = å¯¹è±¡çš„æ•°é‡</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj1 <span class="hljs-operator">=</span> [[<span class="hljs-type">NSObject</span> alloc] <span class="hljs-keyword">init</span>]; Â <span class="hljs-comment">// 1 ä¸ªå¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•° = 1</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj2 <span class="hljs-operator">=</span> [[<span class="hljs-type">NSObject</span> alloc] <span class="hljs-keyword">init</span>]; Â <span class="hljs-comment">// 2 ä¸ªå¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•° = 1ï¼ˆæ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ 1ï¼‰</span>
â€‹
<span class="hljs-comment">// âœ… æ­£ç¡®ç†è§£ï¼šå¼•ç”¨è®¡æ•° = æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„å¼ºå¼•ç”¨æ•°é‡</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj <span class="hljs-operator">=</span> [[<span class="hljs-type">NSObject</span> alloc] <span class="hljs-keyword">init</span>]; Â <span class="hljs-comment">// 1 ä¸ªå¯¹è±¡</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>ref1 <span class="hljs-operator">=</span> obj; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¯¹è±¡å¼•ç”¨è®¡æ•° = 2ï¼ˆ2 ä¸ªå¼ºå¼•ç”¨æŒ‡å‘å®ƒï¼‰</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>ref2 <span class="hljs-operator">=</span> obj; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¯¹è±¡å¼•ç”¨è®¡æ•° = 3ï¼ˆ3 ä¸ªå¼ºå¼•ç”¨æŒ‡å‘å®ƒï¼‰</span>
</code></pre>
<hr/>
<h4 data-id="heading-18">0.6 é¢è¯•ä¸€å¥è¯æ€»ç»“</h4>
<p><strong>"å¼•ç”¨è®¡æ•°åŠ 1" = åˆå¤šäº†ä¸€ä¸ªå¼ºå¼•ç”¨æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å¼•ç”¨è®¡æ•°æ•°å€¼ +1</strong></p>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li>å¼•ç”¨è®¡æ•°æ˜¯<strong>å¯¹è±¡çš„å±æ€§</strong>ï¼Œä¸æ˜¯æŒ‡é’ˆçš„å±æ€§</li>
<li>åªæœ‰ <strong>strong å¼•ç”¨</strong>æ‰ä¼šè®©å¼•ç”¨è®¡æ•° +1</li>
<li><strong>weak å¼•ç”¨</strong>ä¸ä¼šè®©å¼•ç”¨è®¡æ•° +1</li>
<li>å¼•ç”¨è®¡æ•° = 0 æ—¶ï¼Œå¯¹è±¡è¢«é‡Šæ”¾</li>
</ul>
<hr/>
<h3 data-id="heading-19">1. ARC è‡ªåŠ¨å¼•ç”¨è®¡æ•°è¯¦ç»†æœºåˆ¶</h3>
<h4 data-id="heading-20">1.1 ARC åœ¨ç¼–è¯‘æ—¶åšäº†ä»€ä¹ˆï¼Ÿ</h4>
<p><strong>ARC ä¸æ˜¯è¿è¡Œæ—¶æŠ€æœ¯ï¼Œè€Œæ˜¯ç¼–è¯‘æ—¶æŠ€æœ¯ï¼</strong></p>
<p>ç¼–è¯‘å™¨ä¼šåœ¨<strong>ç¼–è¯‘é˜¶æ®µ</strong>è‡ªåŠ¨æ’å…¥ <code>retain</code>ã€<code>release</code>ã€<code>autorelease</code> è°ƒç”¨ã€‚</p>
<h5 data-id="heading-21">ç¤ºä¾‹ä»£ç å¯¹æ¯”</h5>
<p><strong>MRC æ—¶ä»£ï¼ˆæ‰‹åŠ¨ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// MRC ä»£ç </span>
- (<span class="hljs-keyword">void</span>)example {
 Â  Â NSObject *obj = [[NSObject alloc] <span class="hljs-keyword">init</span>]; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 1</span>
 Â   [<span class="hljs-meta">obj retain</span>]; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 2</span>
 Â   [<span class="hljs-meta">obj release</span>]; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 1</span>
 Â   [<span class="hljs-meta">obj release</span>]; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 0ï¼Œå¯¹è±¡è¢«é‡Šæ”¾</span>
}
</code></pre>
<p><strong>ARC æ—¶ä»£ï¼ˆè‡ªåŠ¨ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">// ARC ä»£ç ï¼ˆä½ å†™çš„ï¼‰
- (void)example {
 Â  Â NSObject *<span class="hljs-attr">obj</span> = [[NSObject alloc] init]<span class="hljs-comment">;</span>
 Â  Â // ç¼–è¯‘å™¨è‡ªåŠ¨åœ¨æ–¹æ³•ç»“æŸå‰æ’å…¥ <span class="hljs-section">[obj release]</span><span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>ç¼–è¯‘å™¨è½¬æ¢åçš„ä¼ªä»£ç ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ç¼–è¯‘å™¨å®é™…ç”Ÿæˆçš„ä»£ç </span>
- (<span class="hljs-keyword">void</span>)example {
 Â  Â NSObject *obj = [[NSObject alloc] <span class="hljs-keyword">init</span>]; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 1</span>
 Â  Â <span class="hljs-comment">// ... ä½ çš„ä»£ç  ...</span>
 Â   [<span class="hljs-meta">obj release</span>]; Â <span class="hljs-comment">// â† ç¼–è¯‘å™¨è‡ªåŠ¨æ’å…¥ï¼</span>
}
</code></pre>
<h4 data-id="heading-22">1.2 ARC çš„ retain/release æ’å…¥è§„åˆ™</h4>
<h5 data-id="heading-23">è§„åˆ™ 1ï¼šèµ‹å€¼æ—¶è‡ªåŠ¨ retain</h5>
<pre><code class="hljs language-ini" lang="ini">NSObject *<span class="hljs-attr">obj1</span> = [[NSObject alloc] init]<span class="hljs-comment">; Â // å¼•ç”¨è®¡æ•° = 1</span>
NSObject *<span class="hljs-attr">obj2</span> = obj1<span class="hljs-comment">; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // obj2 å¼ºå¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•° = 2</span>
// ç¼–è¯‘å™¨è‡ªåŠ¨æ’å…¥ï¼š<span class="hljs-attr">obj2</span> = [obj1 retain]<span class="hljs-comment">;</span>
</code></pre>
<h5 data-id="heading-24">è§„åˆ™ 2ï¼šå˜é‡ä½œç”¨åŸŸç»“æŸæ—¶è‡ªåŠ¨ release</h5>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)example {
 Â  Â <span class="hljs-built_in">NSObject</span> *obj = [[<span class="hljs-built_in">NSObject</span> alloc] init]; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 1</span>
 Â  Â <span class="hljs-comment">// ... ä½¿ç”¨ obj ...</span>
 Â  Â <span class="hljs-comment">// ç¼–è¯‘å™¨åœ¨æ–¹æ³•ç»“æŸå‰è‡ªåŠ¨æ’å…¥ï¼š[obj release];</span>
}
</code></pre>
<h5 data-id="heading-25">è§„åˆ™ 3ï¼šå±æ€§èµ‹å€¼æ—¶è‡ªåŠ¨ç®¡ç†</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-keyword">@property</span> (<span class="hljs-keyword">strong</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-built_in">NSObject</span> *obj;
â€‹
- (<span class="hljs-type">void</span>)setObj:(<span class="hljs-built_in">NSObject</span> *)obj {
 Â  Â <span class="hljs-keyword">if</span> (_obj != obj) {
 Â  Â  Â   [_obj release]; Â  Â  Â <span class="hljs-comment">// ç¼–è¯‘å™¨è‡ªåŠ¨æ’å…¥ï¼šé‡Šæ”¾æ—§å€¼</span>
 Â  Â  Â  Â _obj = [obj <span class="hljs-keyword">retain</span>]; <span class="hljs-comment">// ç¼–è¯‘å™¨è‡ªåŠ¨æ’å…¥ï¼šæŒæœ‰æ–°å€¼</span>
 Â   }
}
</code></pre>
<h4 data-id="heading-26">1.3 ä»€ä¹ˆæ˜¯å¾ªç¯å¼•ç”¨ï¼Ÿï¼ˆæ ¸å¿ƒæ¦‚å¿µï¼‰</h4>
<h5 data-id="heading-27">1.3.1 ç”¨ç”Ÿæ´»ä¾‹å­ç†è§£"ä¸¤ä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨"</h5>
<p><strong>æƒ³è±¡ä¸¤ä¸ªå¥½æœ‹å‹äº’ç›¸å€Ÿé’±ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">å°æ˜ å’Œ å°çº¢ï¼š
â€‹
å°æ˜è¯´ï¼š<span class="hljs-string">"æˆ‘å€Ÿäº†å°çº¢ 100 å…ƒï¼Œå°çº¢å¿…é¡»è¿˜æˆ‘ï¼Œæˆ‘æ‰èƒ½è¿˜åˆ«äºº"</span>
å°çº¢è¯´ï¼š<span class="hljs-string">"æˆ‘å€Ÿäº†å°æ˜ 100 å…ƒï¼Œå°æ˜å¿…é¡»è¿˜æˆ‘ï¼Œæˆ‘æ‰èƒ½è¿˜åˆ«äºº"</span>
â€‹
ç»“æœï¼šä¸¤ä¸ªäººäº’ç›¸ç­‰å¾…å¯¹æ–¹è¿˜é’±ï¼Œæ°¸è¿œè¿˜ä¸å®Œï¼
è¿™å°±æ˜¯<span class="hljs-string">"äº’ç›¸å¼•ç”¨"</span>çš„é—®é¢˜ã€‚
</code></pre>
<p><strong>åœ¨ä»£ç ä¸­ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">å¯¹è±¡ <span class="hljs-selector-tag">A</span> è¯´ï¼š"æˆ‘å¼ºå¼•ç”¨äº†å¯¹è±¡ <span class="hljs-selector-tag">B</span>ï¼Œ<span class="hljs-selector-tag">B</span> å¿…é¡»å­˜åœ¨ï¼Œæˆ‘æ‰èƒ½å­˜åœ¨"
å¯¹è±¡ <span class="hljs-selector-tag">B</span> è¯´ï¼š"æˆ‘å¼ºå¼•ç”¨äº†å¯¹è±¡ <span class="hljs-selector-tag">A</span>ï¼Œ<span class="hljs-selector-tag">A</span> å¿…é¡»å­˜åœ¨ï¼Œæˆ‘æ‰èƒ½å­˜åœ¨"
â€‹
ç»“æœï¼šä¸¤ä¸ªå¯¹è±¡äº’ç›¸ç­‰å¾…å¯¹æ–¹é‡Šæ”¾ï¼Œæ°¸è¿œé‡Šæ”¾ä¸äº†ï¼
è¿™å°±æ˜¯"å¾ªç¯å¼•ç”¨"ã€‚
</code></pre>
<hr/>
<h5 data-id="heading-28">1.3.2 å¾ªç¯å¼•ç”¨çš„å›¾ç¤º</h5>
<p><strong>æ­£å¸¸æƒ…å†µï¼ˆæ²¡æœ‰å¾ªç¯ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">å¯¹è±¡ <span class="hljs-selector-tag">A</span>ï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰
  â†‘
  â”‚ å¼ºå¼•ç”¨
  â”‚
å˜é‡ <span class="hljs-selector-tag">a</span>
â€‹
å¯¹è±¡ <span class="hljs-selector-tag">B</span>ï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰
  â†‘
  â”‚ å¼ºå¼•ç”¨
  â”‚
å˜é‡ <span class="hljs-selector-tag">b</span>
â€‹
ç»“æœï¼š<span class="hljs-selector-tag">a</span> = nil æ—¶ï¼Œ<span class="hljs-selector-tag">A</span> è¢«é‡Šæ”¾ï¼›<span class="hljs-selector-tag">b</span> = nil æ—¶ï¼Œ<span class="hljs-selector-tag">B</span> è¢«é‡Šæ”¾ âœ…
</code></pre>
<p><strong>å¾ªç¯å¼•ç”¨æƒ…å†µï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">å¯¹è±¡ <span class="hljs-selector-tag">A</span>ï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">2</span>ï¼‰
  â†‘ Â  Â  Â  Â  Â  Â   â†‘
  â”‚ Â  Â  Â  Â  Â  Â   â”‚
  â”‚ å¼ºå¼•ç”¨ Â  Â  Â   â”‚ å¼ºå¼•ç”¨ï¼ˆæ¥è‡ª <span class="hljs-selector-tag">B</span>ï¼‰
  â”‚ Â  Â  Â  Â  Â  Â   â”‚
å˜é‡ <span class="hljs-selector-tag">a</span> Â  Â  Â   å¯¹è±¡ <span class="hljs-selector-tag">B</span>ï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">2</span>ï¼‰
 Â  Â  Â  Â  Â  Â  Â   â†‘ Â  Â  Â  Â  Â  Â   â†‘
 Â  Â  Â  Â  Â  Â  Â   â”‚ Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  Â  Â  Â  Â   â”‚ å¼ºå¼•ç”¨ Â  Â  Â   â”‚ å¼ºå¼•ç”¨ï¼ˆæ¥è‡ª <span class="hljs-selector-tag">A</span>ï¼‰
 Â  Â  Â  Â  Â  Â  Â   â”‚ Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  Â  Â  Â   å˜é‡ <span class="hljs-selector-tag">b</span> Â  Â  Â   å¯¹è±¡ <span class="hljs-selector-tag">A</span>ï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">2</span>ï¼‰
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â†‘
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚ï¼ˆå½¢æˆå¾ªç¯ï¼ï¼‰
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¯¹è±¡ <span class="hljs-selector-tag">B</span>ï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">2</span>ï¼‰
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>å³ä½¿ <code>a = nil</code> å’Œ <code>b = nil</code>ï¼ŒA å’Œ B çš„å¼•ç”¨è®¡æ•°éƒ½è¿˜æ˜¯ 1ï¼ˆå› ä¸ºäº’ç›¸å¼•ç”¨ï¼‰</li>
<li>å¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šå˜æˆ 0</li>
<li>å¯¹è±¡æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ â†’ <strong>å†…å­˜æ³„æ¼ï¼</strong></li>
</ul>
<hr/>
<h5 data-id="heading-29">1.3.3 ä»£ç ç¤ºä¾‹ï¼šä¸¤ä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å®šä¹‰ä¸¤ä¸ªç±»</span>
<span class="hljs-variable">@interface</span> <span class="hljs-attribute">PersonA </span>: NSObject
<span class="hljs-variable">@property</span> (strong, nonatomic) PersonB *personB; Â <span class="hljs-comment">// A å¼ºå¼•ç”¨ B</span>
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-variable">@interface</span> <span class="hljs-attribute">PersonB </span>: NSObject
<span class="hljs-variable">@property</span> (strong, nonatomic) PersonA *personA; Â <span class="hljs-comment">// B å¼ºå¼•ç”¨ A</span>
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-comment">// ä½¿ç”¨</span>
PersonA *a = [[PersonA alloc] init]; Â <span class="hljs-comment">// A å¼•ç”¨è®¡æ•° = 1</span>
<span class="hljs-selector-tag">PersonB</span> *<span class="hljs-selector-tag">b</span> = <span class="hljs-selector-attr">[[PersonB alloc]</span> <span class="hljs-selector-tag">init</span>]; Â <span class="hljs-comment">// B å¼•ç”¨è®¡æ•° = 1</span>
â€‹
<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.personB</span> = <span class="hljs-selector-tag">b</span>; Â <span class="hljs-comment">// B å¼•ç”¨è®¡æ•° = 2ï¼ˆA å¼ºå¼•ç”¨ Bï¼‰</span>
<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.personA</span> = <span class="hljs-selector-tag">a</span>; Â <span class="hljs-comment">// A å¼•ç”¨è®¡æ•° = 2ï¼ˆB å¼ºå¼•ç”¨ Aï¼‰</span>
â€‹
<span class="hljs-comment">// æ­¤æ—¶ï¼š</span>
<span class="hljs-comment">// A å¼•ç”¨è®¡æ•° = 2ï¼ˆå˜é‡ a + B.personAï¼‰</span>
<span class="hljs-comment">// B å¼•ç”¨è®¡æ•° = 2ï¼ˆå˜é‡ b + A.personBï¼‰</span>
â€‹
<span class="hljs-selector-tag">a</span> = <span class="hljs-selector-tag">nil</span>; Â <span class="hljs-comment">// A å¼•ç”¨è®¡æ•° = 1ï¼ˆè¿˜æœ‰ B.personA åœ¨å¼•ç”¨ï¼‰</span>
<span class="hljs-selector-tag">b</span> = <span class="hljs-selector-tag">nil</span>; Â <span class="hljs-comment">// B å¼•ç”¨è®¡æ•° = 1ï¼ˆè¿˜æœ‰ A.personB åœ¨å¼•ç”¨ï¼‰</span>
â€‹
<span class="hljs-comment">// é—®é¢˜ï¼šA å’Œ B çš„å¼•ç”¨è®¡æ•°éƒ½æ˜¯ 1ï¼Œæ°¸è¿œä¸ä¼šå˜æˆ 0</span>
<span class="hljs-comment">// ç»“æœï¼šA å’Œ B æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ â†’ å†…å­˜æ³„æ¼ï¼</span>
</code></pre>
<p><strong>å›¾ç¤ºï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">åˆå§‹ï¼š
å˜é‡ <span class="hljs-selector-tag">a</span> â†’ PersonAï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰
å˜é‡ <span class="hljs-selector-tag">b</span> â†’ PersonBï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰
â€‹
äº’ç›¸å¼•ç”¨åï¼š
å˜é‡ <span class="hljs-selector-tag">a</span> â†’ PersonAï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">2</span>ï¼‰â† PersonB<span class="hljs-selector-class">.personA</span>
 Â  Â  Â  Â  â†“ PersonA<span class="hljs-selector-class">.personB</span>
å˜é‡ <span class="hljs-selector-tag">b</span> â†’ PersonBï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">2</span>ï¼‰â† PersonA<span class="hljs-selector-class">.personB</span>
 Â  Â  Â  Â  â†‘ PersonB<span class="hljs-selector-class">.personA</span>
 Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ï¼ˆå½¢æˆå¾ªç¯ï¼ï¼‰
â€‹
<span class="hljs-selector-tag">a</span> = nil, <span class="hljs-selector-tag">b</span> = nil åï¼š
PersonAï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰â† PersonB<span class="hljs-selector-class">.personA</span>
 Â  Â  Â  Â  â†“ PersonA<span class="hljs-selector-class">.personB</span>
PersonBï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰â† PersonA<span class="hljs-selector-class">.personB</span>
 Â  Â  Â  Â  â†‘ PersonB<span class="hljs-selector-class">.personA</span>
 Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ï¼ˆå¾ªç¯è¿˜åœ¨ï¼Œæ— æ³•é‡Šæ”¾ï¼ï¼‰
</code></pre>
<hr/>
<h5 data-id="heading-30">1.3.4 å¦‚ä½•æ‰“ç ´å¾ªç¯å¼•ç”¨ï¼Ÿ</h5>
<p><strong>æ–¹æ³•ï¼šæŠŠå…¶ä¸­ä¸€ä¸ªå¼ºå¼•ç”¨æ”¹æˆå¼±å¼•ç”¨</strong></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šB å¼±å¼•ç”¨ A</span>
<span class="hljs-variable">@interface</span> <span class="hljs-attribute">PersonA </span>: NSObject
<span class="hljs-variable">@property</span> (strong, nonatomic) PersonB *personB; Â <span class="hljs-comment">// A å¼ºå¼•ç”¨ B</span>
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-variable">@interface</span> <span class="hljs-attribute">PersonB </span>: NSObject
<span class="hljs-variable">@property</span> (weak, nonatomic) PersonA *personA; Â  Â <span class="hljs-comment">// B å¼±å¼•ç”¨ Aï¼ˆå…³é”®ï¼ï¼‰</span>
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-comment">// ä½¿ç”¨</span>
PersonA *a = [[PersonA alloc] init]; Â <span class="hljs-comment">// A å¼•ç”¨è®¡æ•° = 1</span>
<span class="hljs-selector-tag">PersonB</span> *<span class="hljs-selector-tag">b</span> = <span class="hljs-selector-attr">[[PersonB alloc]</span> <span class="hljs-selector-tag">init</span>]; Â <span class="hljs-comment">// B å¼•ç”¨è®¡æ•° = 1</span>
â€‹
<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.personB</span> = <span class="hljs-selector-tag">b</span>; Â <span class="hljs-comment">// B å¼•ç”¨è®¡æ•° = 2ï¼ˆA å¼ºå¼•ç”¨ Bï¼‰</span>
<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.personA</span> = <span class="hljs-selector-tag">a</span>; Â <span class="hljs-comment">// A å¼•ç”¨è®¡æ•° = 1ï¼ˆB å¼±å¼•ç”¨ Aï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰</span>
â€‹
<span class="hljs-comment">// æ­¤æ—¶ï¼š</span>
<span class="hljs-comment">// A å¼•ç”¨è®¡æ•° = 1ï¼ˆåªæœ‰å˜é‡ aï¼‰</span>
<span class="hljs-comment">// B å¼•ç”¨è®¡æ•° = 2ï¼ˆå˜é‡ b + A.personBï¼‰</span>
â€‹
<span class="hljs-selector-tag">a</span> = <span class="hljs-selector-tag">nil</span>; Â <span class="hljs-comment">// A å¼•ç”¨è®¡æ•° = 0 â†’ A è¢«é‡Šæ”¾ï¼</span>
 Â  Â  Â  Â  Â <span class="hljs-comment">// B.personA è‡ªåŠ¨å˜æˆ nilï¼ˆweak çš„ç‰¹æ€§ï¼‰</span>
â€‹
<span class="hljs-selector-tag">b</span> = <span class="hljs-selector-tag">nil</span>; Â <span class="hljs-comment">// B å¼•ç”¨è®¡æ•° = 1ï¼ˆè¿˜æœ‰ A.personBï¼Ÿä¸å¯¹ï¼ŒA å·²ç»é‡Šæ”¾äº†ï¼‰</span>
 Â  Â  Â  Â  Â <span class="hljs-comment">// å®é™…ä¸Šï¼ŒA é‡Šæ”¾æ—¶ï¼ŒA.personB ä¹Ÿè¢«é‡Šæ”¾</span>
 Â  Â  Â  Â  Â <span class="hljs-comment">// æ‰€ä»¥ B å¼•ç”¨è®¡æ•° = 0 â†’ B è¢«é‡Šæ”¾ï¼</span>
â€‹
<span class="hljs-comment">// ç»“æœï¼šä¸¤ä¸ªå¯¹è±¡éƒ½èƒ½æ­£å¸¸é‡Šæ”¾ âœ…</span>
</code></pre>
<p><strong>å›¾ç¤ºï¼ˆæ‰“ç ´å¾ªç¯åï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">å˜é‡ a â†’ PersonAï¼ˆå¼•ç”¨è®¡æ•° = 1ï¼‰
 Â  Â  Â  Â  â†“ PersonA.personBï¼ˆå¼ºå¼•ç”¨ï¼‰
å˜é‡ b â†’ PersonBï¼ˆå¼•ç”¨è®¡æ•° = 2ï¼‰
 Â  Â  Â  Â  â†‘ PersonB.personAï¼ˆå¼±å¼•ç”¨ï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰
â€‹
<span class="hljs-attr">a</span> = nil åï¼š
PersonAï¼ˆå¼•ç”¨è®¡æ•° = 0ï¼‰â†’ è¢«é‡Šæ”¾ï¼
 Â  Â  Â  Â  â†“ PersonA.personB ä¹Ÿè¢«é‡Šæ”¾
PersonBï¼ˆå¼•ç”¨è®¡æ•° = 1ï¼‰â† åªæœ‰å˜é‡ b
 Â  Â  Â  Â  â†‘ <span class="hljs-attr">PersonB.personA</span> = nilï¼ˆè‡ªåŠ¨ç½® nilï¼‰
â€‹
<span class="hljs-attr">b</span> = nil åï¼š
PersonBï¼ˆå¼•ç”¨è®¡æ•° = 0ï¼‰â†’ è¢«é‡Šæ”¾ï¼âœ…
</code></pre>
<hr/>
<h5 data-id="heading-31">1.3.5 å¾ªç¯å¼•ç”¨çš„æ ¸å¿ƒç†è§£</h5>
<p><strong>å¾ªç¯å¼•ç”¨ = ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡äº’ç›¸å¼ºå¼•ç”¨ï¼Œå½¢æˆé—­ç¯ï¼Œå¯¼è‡´éƒ½æ— æ³•é‡Šæ”¾</strong></p>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>å¿…é¡»æ˜¯"å¼ºå¼•ç”¨"</strong> ï¼šweak å¼•ç”¨ä¸ä¼šå½¢æˆå¾ªç¯å¼•ç”¨</li>
<li><strong>å¿…é¡»æ˜¯"äº’ç›¸"</strong> ï¼šA â†’ B â†’ Aï¼ˆé—­ç¯ï¼‰</li>
<li><strong>ç»“æœ</strong>ï¼šå¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šå˜æˆ 0ï¼Œå¯¹è±¡æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾</li>
</ol>
<p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p>
<ul>
<li>æŠŠå¾ªç¯ä¸­çš„<strong>è‡³å°‘ä¸€ä¸ªå¼ºå¼•ç”¨æ”¹æˆå¼±å¼•ç”¨</strong></li>
<li>æˆ–è€…<strong>æ‰‹åŠ¨æ–­å¼€å¾ªç¯</strong>ï¼ˆè®¾ç½®ä¸º nilï¼‰</li>
</ul>
<hr/>
<h5 data-id="heading-32">1.3.6 å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´ä»€ä¹ˆï¼Ÿï¼ˆé‡è¦ï¼ï¼‰</h5>
<h4 data-id="heading-33">ğŸš¨ å¾ªç¯å¼•ç”¨çš„åæœ</h4>
<h5 data-id="heading-34">1. å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰</h5>
<p><strong>æœ€ç›´æ¥çš„åæœï¼šå¯¹è±¡æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ï¼Œå ç”¨å†…å­˜è¶Šæ¥è¶Šå¤š</strong></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@interface</span> <span class="hljs-attribute">ViewController </span>: UIViewController
<span class="hljs-variable">@property</span> (copy, nonatomic) void (^block)(void);
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-variable">@implementation</span> ViewController
â€‹
- (void)viewDidLoad {
 Â   <span class="hljs-selector-attr">[super viewDidLoad]</span>;
 Â  Â 
 Â  Â <span class="hljs-comment">// âŒ å¾ªç¯å¼•ç”¨</span>
 Â  Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.block</span> = ^{
 Â  Â  Â   <span class="hljs-selector-attr">[self doSomething]</span>; Â <span class="hljs-comment">// block å¼ºå¼•ç”¨ self</span>
 Â   };
 Â  Â <span class="hljs-comment">// self å¼ºå¼•ç”¨ blockï¼Œblock å¼ºå¼•ç”¨ self â†’ å¾ªç¯å¼•ç”¨</span>
}
â€‹
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-comment">// ä½¿ç”¨åœºæ™¯ï¼š</span>
ViewController *vc = [[ViewController alloc] init];
<span class="hljs-selector-attr">[self.navigationController pushViewController:vc animated:YES]</span>;
<span class="hljs-comment">// ç”¨æˆ·è¿”å›ä¸Šä¸€é¡µ</span>
<span class="hljs-selector-attr">[self.navigationController popViewControllerAnimated:YES]</span>;
â€‹
<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// vc åº”è¯¥è¢«é‡Šæ”¾ï¼Œä½†å› ä¸ºå¾ªç¯å¼•ç”¨ï¼Œvc æ— æ³•é‡Šæ”¾</span>
<span class="hljs-comment">// å†…å­˜æ³„æ¼ï¼vc å ç”¨çš„å†…å­˜æ°¸è¿œä¸ä¼šå›æ”¶</span>
</code></pre>
<p><strong>å½±å“ï¼š</strong></p>
<ul>
<li>å†…å­˜å ç”¨æŒç»­å¢é•¿</li>
<li>é•¿æ—¶é—´è¿è¡Œåå¯èƒ½å¯¼è‡´å†…å­˜ä¸è¶³</li>
<li>åº”ç”¨å¯èƒ½è¢«ç³»ç»Ÿæ€æ­»ï¼ˆOOM - Out of Memoryï¼‰</li>
</ul>
<hr/>
<h5 data-id="heading-35">2. dealloc æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨</h5>
<p><strong>dealloc æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ï¼Œæ¸…ç†ä»£ç ä¸ä¼šæ‰§è¡Œ</strong></p>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ViewController</span></span>
â€‹
- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â <span class="hljs-comment">// âŒ å¾ªç¯å¼•ç”¨</span>
 Â  Â <span class="hljs-keyword">self</span>.block = ^{
 Â  Â  Â   [<span class="hljs-keyword">self</span> doSomething];
 Â   };
}
â€‹
- (<span class="hljs-type">void</span>)dealloc {
 Â  Â <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"ViewController è¢«é‡Šæ”¾"</span>); Â <span class="hljs-comment">// âŒ æ°¸è¿œä¸ä¼šæ‰“å°ï¼</span>
 Â  Â <span class="hljs-comment">// æ¸…ç†ä»£ç ä¸ä¼šæ‰§è¡Œ</span>
 Â   [[<span class="hljs-built_in">NSNotificationCenter</span> defaultCenter] removeObserver:<span class="hljs-keyword">self</span>];
 Â   [<span class="hljs-keyword">self</span>.timer invalidate];
 Â  Â <span class="hljs-comment">// è¿™äº›æ¸…ç†ä»£ç éƒ½ä¸ä¼šæ‰§è¡Œï¼</span>
}
â€‹
<span class="hljs-keyword">@end</span>
</code></pre>
<p><strong>å½±å“ï¼š</strong></p>
<ul>
<li>èµ„æºæ— æ³•é‡Šæ”¾ï¼ˆé€šçŸ¥è§‚å¯Ÿè€…ã€å®šæ—¶å™¨ã€ç½‘ç»œè¯·æ±‚ç­‰ï¼‰</li>
<li>å¯èƒ½å¯¼è‡´å…¶ä»–é—®é¢˜ï¼ˆé€šçŸ¥é‡å¤æ¥æ”¶ã€å®šæ—¶å™¨ç»§ç»­è¿è¡Œç­‰ï¼‰</li>
</ul>
<hr/>
<h5 data-id="heading-36">3. é€šçŸ¥è§‚å¯Ÿè€…æ— æ³•ç§»é™¤</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ViewController</span></span>
â€‹
- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â <span class="hljs-comment">// æ·»åŠ é€šçŸ¥è§‚å¯Ÿè€…</span>
 Â   [[<span class="hljs-built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="hljs-keyword">self</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  selector:<span class="hljs-keyword">@selector</span>(handleNotification:)
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name:<span class="hljs-string">@"SomeNotification"</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  object:<span class="hljs-literal">nil</span>];
 Â  Â 
 Â  Â <span class="hljs-comment">// âŒ å¾ªç¯å¼•ç”¨</span>
 Â  Â <span class="hljs-keyword">self</span>.block = ^{
 Â  Â  Â   [<span class="hljs-keyword">self</span> doSomething];
 Â   };
}
â€‹
- (<span class="hljs-type">void</span>)dealloc {
 Â  Â <span class="hljs-comment">// âŒ æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼</span>
 Â   [[<span class="hljs-built_in">NSNotificationCenter</span> defaultCenter] removeObserver:<span class="hljs-keyword">self</span>];
}
â€‹
<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// ViewController æ— æ³•é‡Šæ”¾</span>
<span class="hljs-comment">// é€šçŸ¥è§‚å¯Ÿè€…æ— æ³•ç§»é™¤</span>
<span class="hljs-comment">// å³ä½¿ ViewController å·²ç»ä¸åœ¨å±å¹•ä¸Šï¼Œä»ç„¶ä¼šæ¥æ”¶é€šçŸ¥</span>
<span class="hljs-comment">// å¯èƒ½å¯¼è‡´å´©æºƒæˆ–é€»è¾‘é”™è¯¯</span>
</code></pre>
<hr/>
<h5 data-id="heading-37">4. å®šæ—¶å™¨æ— æ³•åœæ­¢</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ViewController</span></span>
â€‹
- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â <span class="hljs-comment">// âŒ å¾ªç¯å¼•ç”¨</span>
 Â  Â <span class="hljs-keyword">self</span>.timer = [<span class="hljs-built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="hljs-number">1.0</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â target:<span class="hljs-keyword">self</span> Â <span class="hljs-comment">// timer å¼ºå¼•ç”¨ self</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â selector:<span class="hljs-keyword">@selector</span>(timerAction)
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â userInfo:<span class="hljs-literal">nil</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  repeats:<span class="hljs-literal">YES</span>];
 Â  Â <span class="hljs-comment">// self å¼ºå¼•ç”¨ timerï¼Œtimer å¼ºå¼•ç”¨ self â†’ å¾ªç¯å¼•ç”¨</span>
}
â€‹
- (<span class="hljs-type">void</span>)dealloc {
 Â  Â <span class="hljs-comment">// âŒ æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼</span>
 Â   [<span class="hljs-keyword">self</span>.timer invalidate]; Â <span class="hljs-comment">// å®šæ—¶å™¨æ— æ³•åœæ­¢</span>
 Â  Â <span class="hljs-keyword">self</span>.timer = <span class="hljs-literal">nil</span>;
}
â€‹
<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// ViewController æ— æ³•é‡Šæ”¾</span>
<span class="hljs-comment">// å®šæ—¶å™¨ç»§ç»­è¿è¡Œï¼Œå³ä½¿ ViewController å·²ç»ä¸åœ¨å±å¹•ä¸Š</span>
<span class="hljs-comment">// å®šæ—¶å™¨å›è°ƒå¯èƒ½è®¿é—®å·²é”€æ¯çš„è§†å›¾ï¼Œå¯¼è‡´å´©æºƒ</span>
</code></pre>
<hr/>
<h5 data-id="heading-38">5. ç½‘ç»œè¯·æ±‚å›è°ƒå¯èƒ½ç»§ç»­æ‰§è¡Œ</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ViewController</span></span>
â€‹
- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â <span class="hljs-comment">// âŒ å¾ªç¯å¼•ç”¨</span>
 Â   [NetworkManager requestWithCompletion:^(<span class="hljs-built_in">NSData</span> *data) {
 Â  Â  Â   [<span class="hljs-keyword">self</span> handleResponse:data]; Â <span class="hljs-comment">// block å¼ºå¼•ç”¨ self</span>
 Â   }];
 Â  Â <span class="hljs-comment">// å¦‚æœ NetworkManager ä¹Ÿå¼ºå¼•ç”¨è¿™ä¸ª blockï¼Œå¯èƒ½å½¢æˆå¾ªç¯å¼•ç”¨</span>
}
â€‹
- (<span class="hljs-type">void</span>)dealloc {
 Â  Â <span class="hljs-comment">// âŒ æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼</span>
 Â  Â <span class="hljs-comment">// æ¸…ç†ä»£ç ä¸ä¼šæ‰§è¡Œ</span>
}
â€‹
<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// ViewController æ— æ³•é‡Šæ”¾</span>
<span class="hljs-comment">// ç½‘ç»œè¯·æ±‚å®Œæˆåï¼Œå›è°ƒå¯èƒ½è®¿é—®å·²é”€æ¯çš„è§†å›¾</span>
<span class="hljs-comment">// å¯èƒ½å¯¼è‡´å´©æºƒæˆ–é€»è¾‘é”™è¯¯</span>
</code></pre>
<hr/>
<h5 data-id="heading-39">6. KVO è§‚å¯Ÿè€…æ— æ³•ç§»é™¤</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ViewController</span></span>
â€‹
- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â   [<span class="hljs-keyword">self</span>.model addObserver:<span class="hljs-keyword">self</span>
 Â  Â  Â  Â  Â  Â  Â  Â  forKeyPath:<span class="hljs-string">@"value"</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â options:<span class="hljs-built_in">NSKeyValueObservingOptionNew</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â context:<span class="hljs-literal">nil</span>];
 Â  Â 
 Â  Â <span class="hljs-comment">// âŒ å¾ªç¯å¼•ç”¨</span>
 Â  Â <span class="hljs-keyword">self</span>.block = ^{
 Â  Â  Â   [<span class="hljs-keyword">self</span> doSomething];
 Â   };
}
â€‹
- (<span class="hljs-type">void</span>)dealloc {
 Â  Â <span class="hljs-comment">// âŒ æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼</span>
 Â   [<span class="hljs-keyword">self</span>.model removeObserver:<span class="hljs-keyword">self</span> forKeyPath:<span class="hljs-string">@"value"</span>];
}
â€‹
<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// ViewController æ— æ³•é‡Šæ”¾</span>
<span class="hljs-comment">// KVO è§‚å¯Ÿè€…æ— æ³•ç§»é™¤</span>
<span class="hljs-comment">// å¦‚æœ model è¢«é‡Šæ”¾ï¼Œå¯èƒ½å¯¼è‡´å´©æºƒ</span>
</code></pre>
<hr/>
<h4 data-id="heading-40">ğŸ“Š å¾ªç¯å¼•ç”¨çš„å½±å“æ€»ç»“</h4>








































<table><thead><tr><th>å½±å“</th><th>è¯´æ˜</th><th>ä¸¥é‡ç¨‹åº¦</th></tr></thead><tbody><tr><td><strong>å†…å­˜æ³„æ¼</strong></td><td>å¯¹è±¡æ— æ³•é‡Šæ”¾ï¼Œå†…å­˜æŒç»­å¢é•¿</td><td>âš ï¸âš ï¸âš ï¸ ä¸¥é‡</td></tr><tr><td><strong>dealloc ä¸æ‰§è¡Œ</strong></td><td>æ¸…ç†ä»£ç ä¸ä¼šæ‰§è¡Œ</td><td>âš ï¸âš ï¸âš ï¸ ä¸¥é‡</td></tr><tr><td><strong>é€šçŸ¥æ— æ³•ç§»é™¤</strong></td><td>ç»§ç»­æ¥æ”¶é€šçŸ¥ï¼Œå¯èƒ½å¯¼è‡´å´©æºƒ</td><td>âš ï¸âš ï¸ ä¸­ç­‰</td></tr><tr><td><strong>å®šæ—¶å™¨æ— æ³•åœæ­¢</strong></td><td>å®šæ—¶å™¨ç»§ç»­è¿è¡Œï¼Œå¯èƒ½è®¿é—®å·²é”€æ¯å¯¹è±¡</td><td>âš ï¸âš ï¸ ä¸­ç­‰</td></tr><tr><td><strong>ç½‘ç»œå›è°ƒç»§ç»­æ‰§è¡Œ</strong></td><td>å›è°ƒå¯èƒ½è®¿é—®å·²é”€æ¯å¯¹è±¡</td><td>âš ï¸âš ï¸ ä¸­ç­‰</td></tr><tr><td><strong>KVO æ— æ³•ç§»é™¤</strong></td><td>å¯èƒ½å¯¼è‡´å´©æºƒ</td><td>âš ï¸âš ï¸ ä¸­ç­‰</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-41">ğŸ” å¦‚ä½•æ£€æµ‹å¾ªç¯å¼•ç”¨ï¼Ÿ</h4>
<h5 data-id="heading-42">æ–¹æ³• 1ï¼šæ£€æŸ¥ dealloc æ˜¯å¦è¢«è°ƒç”¨</h5>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)dealloc {
 Â  Â <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"âœ… ViewController è¢«é‡Šæ”¾"</span>); Â <span class="hljs-comment">// å¦‚æœæ²¡æ‰“å°ï¼Œè¯´æ˜æœ‰å¾ªç¯å¼•ç”¨</span>
}
</code></pre>
<h5 data-id="heading-43">æ–¹æ³• 2ï¼šä½¿ç”¨ Instruments çš„ Leaks å·¥å…·</h5>
<ol start="0">
<li>æ‰“å¼€ Xcode</li>
<li>Product â†’ Profileï¼ˆæˆ– Cmd + Iï¼‰</li>
<li>é€‰æ‹© Leaks</li>
<li>è¿è¡Œåº”ç”¨ï¼Œæ‰§è¡Œå¯èƒ½äº§ç”Ÿå¾ªç¯å¼•ç”¨çš„æ“ä½œ</li>
<li>æŸ¥çœ‹æ˜¯å¦æœ‰å†…å­˜æ³„æ¼</li>
</ol>
<h5 data-id="heading-44">æ–¹æ³• 3ï¼šä½¿ç”¨ Xcode Memory Graph</h5>
<ol start="0">
<li>è¿è¡Œåº”ç”¨</li>
<li>åœ¨ Debug Navigator ä¸­ç‚¹å‡» Memory Graph</li>
<li>æŸ¥çœ‹å¯¹è±¡æ˜¯å¦æ­£å¸¸é‡Šæ”¾</li>
</ol>
<h5 data-id="heading-45">æ–¹æ³• 4ï¼šä½¿ç”¨ MLeaksFinderï¼ˆç¬¬ä¸‰æ–¹å·¥å…·ï¼‰</h5>
<p>è‡ªåŠ¨æ£€æµ‹å†…å­˜æ³„æ¼ï¼Œåœ¨å¼€å‘é˜¶æ®µå°±èƒ½å‘ç°é—®é¢˜ã€‚</p>
<hr/>
<h4 data-id="heading-46">âœ… å¦‚ä½•é¿å…å¾ªç¯å¼•ç”¨ï¼Ÿ</h4>
<ol start="0">
<li><strong>ä½¿ç”¨ weak å¼•ç”¨</strong>ï¼šåœ¨ blockã€delegateã€é€šçŸ¥ç­‰åœºæ™¯ä½¿ç”¨ weak</li>
<li><strong>åŠæ—¶æ–­å¼€å¼•ç”¨</strong>ï¼šåœ¨ä¸éœ€è¦æ—¶æ‰‹åŠ¨è®¾ç½®ä¸º nil</li>
<li><strong>ä½¿ç”¨ weak-strong dance</strong>ï¼šåœ¨ block ä¸­ä½¿ç”¨ weak-strong dance æ¨¡å¼</li>
<li><strong>ä»£ç å®¡æŸ¥</strong>ï¼šå®šæœŸæ£€æŸ¥ä»£ç ï¼Œç‰¹åˆ«æ˜¯ blockã€delegateã€é€šçŸ¥ç­‰åœºæ™¯</li>
</ol>
<hr/>
<h4 data-id="heading-47">1.4 å¾ªç¯å¼•ç”¨çš„å…¸å‹åœºæ™¯</h4>
<h5 data-id="heading-48">åœºæ™¯ 1ï¼šself â†” block</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šå¾ªç¯å¼•ç”¨</span>
<span class="hljs-variable">@interface</span> ViewController ()
<span class="hljs-variable">@property</span> (nonatomic, copy) void (^block)(void);
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-variable">@implementation</span> ViewController
- (void)viewDidLoad {
 Â   <span class="hljs-selector-attr">[super viewDidLoad]</span>;
 Â  Â 
 Â  Â <span class="hljs-comment">// self å¼ºå¼•ç”¨ block</span>
 Â  Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.block</span> = ^{
 Â  Â  Â  Â <span class="hljs-comment">// block å¼ºå¼•ç”¨ selfï¼ˆæ•è·äº† selfï¼‰</span>
 Â  Â  Â   <span class="hljs-selector-attr">[self doSomething]</span>; Â <span class="hljs-comment">// â† å½¢æˆå¾ªç¯å¼•ç”¨ï¼</span>
 Â   };
}
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ weak-strong dance</span>
- (void)viewDidLoad {
 Â   <span class="hljs-selector-attr">[super viewDidLoad]</span>;
 Â  Â 
 Â  Â <span class="hljs-selector-tag">__weak</span> <span class="hljs-selector-tag">typeof</span>(self) <span class="hljs-selector-tag">weakSelf</span> = <span class="hljs-selector-tag">self</span>;
 Â  Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.block</span> = ^{
 Â  Â  Â  Â <span class="hljs-selector-tag">__strong</span> <span class="hljs-selector-tag">typeof</span>(weakSelf) <span class="hljs-selector-tag">strongSelf</span> = <span class="hljs-selector-tag">weakSelf</span>;
 Â  Â  Â  Â <span class="hljs-selector-tag">if</span> (!strongSelf) <span class="hljs-selector-tag">return</span>;
 Â  Â  Â   <span class="hljs-selector-attr">[strongSelf doSomething]</span>;
 Â   };
}
</code></pre>
<p><strong>ğŸ” Weak-Strong Dance è¯¦ç»†è§£é‡Šï¼š</strong></p>
<h5 data-id="heading-49">ç¬¬ä¸€æ­¥ï¼š<code>__weak typeof(self) weakSelf = self;</code></h5>
<pre><code class="hljs language-objectivec" lang="objectivec">__<span class="hljs-keyword">weak</span> <span class="hljs-keyword">typeof</span>(<span class="hljs-keyword">self</span>) weakSelf = <span class="hljs-keyword">self</span>;
</code></pre>
<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li>åˆ›å»ºä¸€ä¸ª <code>weak</code> æŒ‡é’ˆæŒ‡å‘ <code>self</code></li>
<li><strong>ä¸å¢åŠ </strong> <code>self</code> çš„å¼•ç”¨è®¡æ•°</li>
<li>å¦‚æœ <code>self</code> è¢«é‡Šæ”¾ï¼Œ<code>weakSelf</code> ä¼šè‡ªåŠ¨å˜æˆ <code>nil</code></li>
</ul>
<p><strong>å†…å­˜çŠ¶æ€ï¼š</strong></p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">self</span> çš„å¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼ˆå‡è®¾åªæœ‰è¿™é‡Œå¼•ç”¨ï¼‰
weakSelf â†’ æŒ‡å‘ <span class="hljs-built_in">self</span>ï¼ˆä½†ä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ weakï¼Ÿ</strong></p>
<ul>
<li>å¦‚æœ block é‡Œç›´æ¥ç”¨ <code>self</code>ï¼Œblock ä¼š<strong>å¼ºå¼•ç”¨</strong> <code>self</code></li>
<li>å½¢æˆå¾ªç¯ï¼š<code>self</code> â†’ <code>block</code> â†’ <code>self</code>ï¼ˆå¾ªç¯å¼•ç”¨ï¼ï¼‰</li>
<li>ç”¨ <code>weakSelf</code> åï¼Œblock åªå¼±å¼•ç”¨ <code>self</code>ï¼Œæ‰“ç ´å¾ªç¯</li>
</ul>
<hr/>
<h5 data-id="heading-50">ç¬¬äºŒæ­¥ï¼šåœ¨ block å†…éƒ¨ä½¿ç”¨ <code>__strong typeof(weakSelf) strongSelf = weakSelf;</code></h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">self.block</span> = ^{
 Â  Â __strong typeof(weakSelf) <span class="hljs-attr">strongSelf</span> = weakSelf<span class="hljs-comment">;</span>
 Â  Â // ...
}<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li>åœ¨ block <strong>æ‰§è¡Œæ—¶</strong>ï¼ŒæŠŠ <code>weakSelf</code> è½¬æˆ <code>strongSelf</code>ï¼ˆå¼ºå¼•ç”¨ï¼‰</li>
<li>å¦‚æœ <code>weakSelf</code> æ˜¯ <code>nil</code>ï¼Œ<code>strongSelf</code> ä¹Ÿæ˜¯ <code>nil</code></li>
<li>å¦‚æœ <code>weakSelf</code> ä¸æ˜¯ <code>nil</code>ï¼Œ<code>strongSelf</code> ä¼š<strong>å¢åŠ å¼•ç”¨è®¡æ•°</strong>ï¼Œä¿è¯æ‰§è¡ŒæœŸé—´ <code>self</code> ä¸ä¼šè¢«é‡Šæ”¾</li>
</ul>
<p><strong>å†…å­˜çŠ¶æ€å˜åŒ–ï¼š</strong></p>
<p><strong>æƒ…å†µ Aï¼šblock æ‰§è¡Œæ—¶ï¼Œself è¿˜å­˜åœ¨</strong></p>
<pre><code class="hljs language-ruby" lang="ruby">æ‰§è¡Œå‰ï¼š
<span class="hljs-variable language_">self</span> å¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>
weakSelf â†’ <span class="hljs-variable language_">self</span>ï¼ˆå¼±å¼•ç”¨ï¼‰
â€‹
æ‰§è¡Œæ—¶ï¼ˆè¿›å…¥ blockï¼‰ï¼š
strongSelf = weakSelf;  <span class="hljs-regexp">//</span> strongSelf å¼ºå¼•ç”¨ <span class="hljs-variable language_">self</span>
<span class="hljs-variable language_">self</span> å¼•ç”¨è®¡æ•° = <span class="hljs-number">2</span>  â† å¢åŠ äº†ï¼
â€‹
æ‰§è¡Œä¸­ï¼š
[<span class="hljs-variable language_">self</span> doSomething];  <span class="hljs-regexp">//</span> å®‰å…¨ï¼<span class="hljs-variable language_">self</span> ä¸ä¼šè¢«é‡Šæ”¾
â€‹
æ‰§è¡Œåï¼ˆblock ç»“æŸï¼‰ï¼š
strongSelf ä½œç”¨åŸŸç»“æŸï¼Œè‡ªåŠ¨ release
<span class="hljs-variable language_">self</span> å¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>  â† æ¢å¤
</code></pre>
<p><strong>æƒ…å†µ Bï¼šblock æ‰§è¡Œæ—¶ï¼Œself å·²ç»è¢«é‡Šæ”¾</strong></p>
<pre><code class="hljs language-ruby" lang="ruby">æ‰§è¡Œå‰ï¼š
<span class="hljs-variable language_">self</span> å¼•ç”¨è®¡æ•° = <span class="hljs-number">0</span>ï¼Œå·²è¢«é‡Šæ”¾
weakSelf = <span class="hljs-literal">nil</span>ï¼ˆè‡ªåŠ¨ç½® <span class="hljs-literal">nil</span>ï¼‰
â€‹
æ‰§è¡Œæ—¶ï¼ˆè¿›å…¥ blockï¼‰ï¼š
strongSelf = weakSelf;  <span class="hljs-regexp">//</span> strongSelf = <span class="hljs-literal">nil</span>
<span class="hljs-keyword">if</span> (!strongSelf) <span class="hljs-keyword">return</span>;  <span class="hljs-regexp">//</span> ç›´æ¥è¿”å›ï¼Œä¸æ‰§è¡Œåç»­ä»£ç 
</code></pre>
<hr/>
<h5 data-id="heading-51">ç¬¬ä¸‰æ­¥ï¼š<code>if (!strongSelf) return;</code></h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (!strongSelf) <span class="hljs-keyword">return</span>;
</code></pre>
<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li><strong>å®‰å…¨æ£€æŸ¥</strong>ï¼šå¦‚æœ <code>self</code> å·²ç»è¢«é‡Šæ”¾ï¼Œ<code>weakSelf</code> æ˜¯ <code>nil</code>ï¼Œ<code>strongSelf</code> ä¹Ÿæ˜¯ <code>nil</code></li>
<li>ç›´æ¥è¿”å›ï¼Œé¿å…åç»­ä»£ç è®¿é—®å·²é‡Šæ”¾çš„å¯¹è±¡</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ£€æŸ¥ï¼Ÿ</strong></p>
<ul>
<li>è™½ç„¶è®¿é—® <code>nil</code> å¯¹è±¡åœ¨ OC ä¸­æ˜¯å®‰å…¨çš„ï¼ˆä¸ä¼šå´©æºƒï¼‰ï¼Œä½†é€»è¾‘ä¸Šä¸åº”è¯¥æ‰§è¡Œ</li>
<li>æå‰è¿”å›ï¼Œé¿å…æ‰§è¡Œæ— æ„ä¹‰çš„ä»£ç </li>
</ul>
<hr/>
<h5 data-id="heading-52">ç¬¬å››æ­¥ï¼šä½¿ç”¨ <code>strongSelf</code> è€Œä¸æ˜¯ <code>weakSelf</code></h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[strongSelf doSomething]</span><span class="hljs-comment">; Â // âœ… æ­£ç¡®</span>
// <span class="hljs-section">[weakSelf doSomething]</span><span class="hljs-comment">;  // âš ï¸ ç†è®ºä¸Šå¯ä»¥ï¼Œä½†ä¸æ¨è</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨ <code>strongSelf</code>ï¼Ÿ</strong></p>
<p><strong>å…³é”®åŸå› ï¼šé˜²æ­¢æ‰§è¡Œä¸­é€”è¢«é‡Šæ”¾</strong></p>
<pre><code class="hljs language-ini" lang="ini">// âŒ å±é™©ï¼šåªç”¨ weakSelf
<span class="hljs-attr">self.block</span> = ^{
 Â  Â __weak typeof(self) <span class="hljs-attr">weakSelf</span> = self<span class="hljs-comment">;</span>
 Â  Â if (!weakSelf) return<span class="hljs-comment">;</span>
 Â  Â 
 Â  Â // å‡è®¾ doSomething æ‰§è¡Œæ—¶é—´å¾ˆé•¿
 Â   <span class="hljs-section">[weakSelf doSomething]</span><span class="hljs-comment">; Â // æ‰§è¡Œåˆ°ä¸€åŠ...</span>
 Â  Â 
 Â  Â // å¦‚æœæ­¤æ—¶ self è¢«é‡Šæ”¾äº†ï¼ˆå…¶ä»–å¼ºå¼•ç”¨éƒ½æ–­äº†ï¼‰
 Â  Â // weakSelf å˜æˆ nilï¼Œä½†ä»£ç è¿˜åœ¨æ‰§è¡Œï¼
 Â   <span class="hljs-section">[weakSelf doAnotherThing]</span><span class="hljs-comment">; Â // å¯èƒ½è®¿é—® nil</span>
}<span class="hljs-comment">;</span>
â€‹
// âœ… å®‰å…¨ï¼šä½¿ç”¨ strongSelf
<span class="hljs-attr">self.block</span> = ^{
 Â  Â __weak typeof(self) <span class="hljs-attr">weakSelf</span> = self<span class="hljs-comment">;</span>
 Â  Â __strong typeof(weakSelf) <span class="hljs-attr">strongSelf</span> = weakSelf<span class="hljs-comment">;</span>
 Â  Â if (!strongSelf) return<span class="hljs-comment">;</span>
 Â  Â 
 Â  Â // strongSelf å¼ºå¼•ç”¨ selfï¼Œä¿è¯æ•´ä¸ª block æ‰§è¡ŒæœŸé—´ self ä¸ä¼šè¢«é‡Šæ”¾
 Â   <span class="hljs-section">[strongSelf doSomething]</span><span class="hljs-comment">; Â  Â  Â // self å¼•ç”¨è®¡æ•° = 2ï¼Œå®‰å…¨</span>
 Â   <span class="hljs-section">[strongSelf doAnotherThing]</span><span class="hljs-comment">; Â  // self å¼•ç”¨è®¡æ•° = 2ï¼Œå®‰å…¨</span>
 Â  Â // block ç»“æŸï¼ŒstrongSelf é‡Šæ”¾ï¼Œself å¼•ç”¨è®¡æ•° = 1
}<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h4 data-id="heading-53">å®Œæ•´æ‰§è¡Œæµç¨‹ç¤ºä¾‹</h4>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ViewController</span> ()</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, <span class="hljs-keyword">copy</span>) <span class="hljs-type">void</span> (^block)(<span class="hljs-type">void</span>);
<span class="hljs-keyword">@end</span>
â€‹
<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ViewController</span></span>
â€‹
- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â <span class="hljs-comment">// æ­¥éª¤ 1ï¼šåˆ›å»º weak å¼•ç”¨</span>
 Â  Â __<span class="hljs-keyword">weak</span> <span class="hljs-keyword">typeof</span>(<span class="hljs-keyword">self</span>) weakSelf = <span class="hljs-keyword">self</span>;
 Â  Â <span class="hljs-comment">// æ­¤æ—¶ï¼šself å¼•ç”¨è®¡æ•° = 1ï¼ŒweakSelf â†’ selfï¼ˆå¼±å¼•ç”¨ï¼‰</span>
 Â  Â 
 Â  Â <span class="hljs-comment">// æ­¥éª¤ 2ï¼šåˆ›å»º blockï¼ˆæ•è· weakSelfï¼Œä¸æ˜¯ selfï¼‰</span>
 Â  Â <span class="hljs-keyword">self</span>.block = ^{
 Â  Â  Â  Â <span class="hljs-comment">// æ­¥éª¤ 3ï¼šblock æ‰§è¡Œæ—¶ï¼Œè½¬ä¸º strong å¼•ç”¨</span>
 Â  Â  Â  Â __<span class="hljs-keyword">strong</span> <span class="hljs-keyword">typeof</span>(weakSelf) strongSelf = weakSelf;
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// æ­¥éª¤ 4ï¼šå®‰å…¨æ£€æŸ¥</span>
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (!strongSelf) {
 Â  Â  Â  Â  Â  Â <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"self å·²è¢«é‡Šæ”¾ï¼Œä¸æ‰§è¡Œ"</span>);
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span>;
 Â  Â  Â   }
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// æ­¥éª¤ 5ï¼šä½¿ç”¨ strongSelfï¼ˆä¿è¯æ‰§è¡ŒæœŸé—´ self ä¸ä¼šè¢«é‡Šæ”¾ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"æ‰§è¡Œä»»åŠ¡ï¼Œself å¼•ç”¨è®¡æ•° = %lu"</span>, [strongSelf retainCount]);
 Â  Â  Â   [strongSelf doSomething];
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// æ­¥éª¤ 6ï¼šblock ç»“æŸï¼ŒstrongSelf è‡ªåŠ¨é‡Šæ”¾</span>
 Â  Â  Â  Â <span class="hljs-comment">// self å¼•ç”¨è®¡æ•°æ¢å¤</span>
 Â   };
 Â  Â 
 Â  Â <span class="hljs-comment">// æ­¥éª¤ 7ï¼šviewDidLoad ç»“æŸï¼Œä½† block è¿˜åœ¨ï¼ˆè¢« self.block æŒæœ‰ï¼‰</span>
}
â€‹
- (<span class="hljs-type">void</span>)doSomething {
 Â  Â <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"æ‰§è¡Œä»»åŠ¡"</span>);
}
â€‹
- (<span class="hljs-type">void</span>)dealloc {
 Â  Â <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"ViewController è¢«é‡Šæ”¾"</span>);
 Â  Â <span class="hljs-comment">// å¦‚æœ block è¿˜åœ¨ï¼Œè¿™é‡Œä¸ä¼šè¢«è°ƒç”¨ï¼ˆå› ä¸ºå¾ªç¯å¼•ç”¨ï¼‰</span>
 Â  Â <span class="hljs-comment">// å¦‚æœç”¨äº† weak-strong danceï¼Œè¿™é‡Œä¼šè¢«è°ƒç”¨</span>
}
â€‹
<span class="hljs-keyword">@end</span>
</code></pre>
<hr/>
<h4 data-id="heading-54">å¸¸è§é—®é¢˜è§£ç­”</h4>
<p><strong>Q1ï¼šä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨ <code>weakSelf</code>ï¼Ÿ</strong></p>
<pre><code class="hljs language-ini" lang="ini">// âŒ ä¸æ¨è
<span class="hljs-attr">self.block</span> = ^{
 Â  Â __weak typeof(self) <span class="hljs-attr">weakSelf</span> = self<span class="hljs-comment">;</span>
 Â   <span class="hljs-section">[weakSelf doSomething]</span><span class="hljs-comment">; Â // æ‰§è¡Œä¸­é€” self å¯èƒ½è¢«é‡Šæ”¾</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ç­”æ¡ˆï¼š</strong> è™½ç„¶ä¸ä¼šå´©æºƒï¼ˆOC å¯¹ <code>nil</code> æ¶ˆæ¯å®‰å…¨ï¼‰ï¼Œä½†æ‰§è¡Œä¸­é€” <code>self</code> å¯èƒ½è¢«é‡Šæ”¾ï¼Œå¯¼è‡´é€»è¾‘é”™è¯¯ã€‚</p>
<hr/>
<p><strong>Q2ï¼š<code>strongSelf</code> ä¼šä¸ä¼šåˆé€ æˆå¾ªç¯å¼•ç”¨ï¼Ÿä¸ºä»€ä¹ˆ block é‡Œç”¨äº† strong ä¿®é¥°ï¼Œä¸ä¹Ÿæ˜¯å¼ºå¼•ç”¨ self å—ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆï¼šä¸ä¼šï¼</strong> è¿™æ˜¯æœ€å…³é”®çš„ç†è§£ç‚¹ï¼</p>
<h5 data-id="heading-55">å…³é”®ç†è§£ï¼šblock æ•è·çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p><strong>é‡è¦ï¼šblock æ•è·çš„æ˜¯ <code>weakSelf</code>ï¼ˆå¼±å¼•ç”¨ï¼‰ï¼Œä¸æ˜¯ <code>strongSelf</code>ï¼</strong></p>
<pre><code class="hljs language-objectivec" lang="objectivec">__<span class="hljs-keyword">weak</span> <span class="hljs-keyword">typeof</span>(<span class="hljs-keyword">self</span>) weakSelf = <span class="hljs-keyword">self</span>; Â <span class="hljs-comment">// æ­¥éª¤ 1ï¼šåˆ›å»º weak å¼•ç”¨</span>
â€‹
<span class="hljs-keyword">self</span>.block = ^{
 Â  Â <span class="hljs-comment">// æ­¥éª¤ 2ï¼šblock æ•è·çš„æ˜¯ weakSelfï¼ˆå¼±å¼•ç”¨ï¼‰</span>
 Â  Â <span class="hljs-comment">// block å†…éƒ¨ç»“æ„ï¼ˆä¼ªä»£ç ï¼‰ï¼š</span>
 Â  Â <span class="hljs-comment">// struct Block {</span>
 Â  Â <span class="hljs-comment">// Â  Â  __weak typeof(self) weakSelf;  // â† block æ•è·çš„æ˜¯è¿™ä¸ªï¼</span>
 Â  Â <span class="hljs-comment">// Â  Â  void (*invoke)(...);</span>
 Â  Â <span class="hljs-comment">// };</span>
 Â  Â 
 Â  Â <span class="hljs-comment">// æ­¥éª¤ 3ï¼šblock æ‰§è¡Œæ—¶ï¼Œæ‰åˆ›å»º strongSelfï¼ˆå±€éƒ¨å˜é‡ï¼‰</span>
 Â  Â __<span class="hljs-keyword">strong</span> <span class="hljs-keyword">typeof</span>(weakSelf) strongSelf = weakSelf;
 Â  Â <span class="hljs-comment">// strongSelf æ˜¯ block æ‰§è¡Œæ—¶æ‰åˆ›å»ºçš„ï¼Œä¸æ˜¯ block æ•è·çš„ï¼</span>
};
</code></pre>
<h5 data-id="heading-56">è¯¦ç»†è§£é‡Šï¼šä¸ºä»€ä¹ˆä¸ä¼šå½¢æˆå¾ªç¯å¼•ç”¨ï¼Ÿ</h5>
<p><strong>æƒ…å†µ Aï¼šå¦‚æœ block ç›´æ¥æ•è· selfï¼ˆä¼šå½¢æˆå¾ªç¯å¼•ç”¨ï¼‰</strong></p>
<pre><code class="hljs language-python" lang="python">// âŒ é”™è¯¯ï¼šblock æ•è· selfï¼ˆå¼ºå¼•ç”¨ï¼‰
self.block = ^{
 Â   [self doSomething]; Â // block æ•è· selfï¼ˆå¼ºå¼•ç”¨ï¼‰
};
â€‹
// å†…å­˜å…³ç³»ï¼š
// self â†’ blockï¼ˆå¼ºå¼•ç”¨ï¼‰
// block â†’ selfï¼ˆå¼ºå¼•ç”¨ï¼Œå› ä¸ºæ•è·äº† selfï¼‰
// å½¢æˆå¾ªç¯ï¼šself â†’ block â†’ self âŒ
</code></pre>
<p><strong>æƒ…å†µ Bï¼šblock æ•è· weakSelfï¼Œæ‰§è¡Œæ—¶åˆ›å»º strongSelfï¼ˆä¸ä¼šå½¢æˆå¾ªç¯å¼•ç”¨ï¼‰</strong></p>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šblock æ•è· weakSelfï¼ˆå¼±å¼•ç”¨ï¼‰</span>
__<span class="hljs-keyword">weak</span> <span class="hljs-keyword">typeof</span>(<span class="hljs-keyword">self</span>) weakSelf = <span class="hljs-keyword">self</span>;
â€‹
<span class="hljs-keyword">self</span>.block = ^{
 Â  Â <span class="hljs-comment">// block æ•è·çš„æ˜¯ weakSelfï¼ˆå¼±å¼•ç”¨ï¼‰ï¼Œä¸æ˜¯ selfï¼</span>
 Â  Â <span class="hljs-comment">// æ‰€ä»¥ï¼šblock â†’ weakSelfï¼ˆå¼±å¼•ç”¨ï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰</span>
 Â  Â 
 Â  Â <span class="hljs-comment">// strongSelf æ˜¯ block æ‰§è¡Œæ—¶æ‰åˆ›å»ºçš„å±€éƒ¨å˜é‡</span>
 Â  Â __<span class="hljs-keyword">strong</span> <span class="hljs-keyword">typeof</span>(weakSelf) strongSelf = weakSelf;
 Â  Â <span class="hljs-comment">// strongSelf ä¸æ˜¯ block æ•è·çš„ï¼Œæ˜¯æ‰§è¡Œæ—¶çš„ä¸´æ—¶å˜é‡</span>
};
â€‹
<span class="hljs-comment">// å†…å­˜å…³ç³»ï¼š</span>
<span class="hljs-comment">// self â†’ blockï¼ˆå¼ºå¼•ç”¨ï¼‰</span>
<span class="hljs-comment">// block â†’ weakSelfï¼ˆå¼±å¼•ç”¨ï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰âœ…</span>
<span class="hljs-comment">// block æ‰§è¡Œæ—¶ï¼šstrongSelf â†’ selfï¼ˆä¸´æ—¶å¼ºå¼•ç”¨ï¼Œæ‰§è¡Œå®Œå°±é‡Šæ”¾ï¼‰âœ…</span>
<span class="hljs-comment">// æ²¡æœ‰å¾ªç¯ï¼âœ…</span>
</code></pre>
<h5 data-id="heading-57">ç”¨å›¾ç¤ºç†è§£</h5>
<p><strong>é”™è¯¯æƒ…å†µï¼ˆä¼šå¾ªç¯å¼•ç”¨ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">self</span> â”€â”€â†’ block â”€â”€â†’ <span class="hljs-built_in">self</span>ï¼ˆå¼ºå¼•ç”¨ï¼‰
  â†‘ Â  Â  Â  Â  Â  Â  Â  Â   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ï¼ˆå¾ªç¯ï¼ï¼‰
</code></pre>
<p><strong>æ­£ç¡®æƒ…å†µï¼ˆä¸ä¼šå¾ªç¯å¼•ç”¨ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">self</span> â”€â”€â†’ block â”€â”€â†’ weakSelf â”€â”€â†’ <span class="hljs-built_in">self</span>ï¼ˆå¼±å¼•ç”¨ï¼Œä¸å½¢æˆå¾ªç¯ï¼‰
  â†‘
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ï¼ˆæ²¡æœ‰å¾ªç¯ï¼ï¼‰
â€‹
block æ‰§è¡Œæ—¶ï¼š
<span class="hljs-built_in">self</span> â”€â”€â†’ block â”€â”€â†’ weakSelf â”€â”€â†’ <span class="hljs-built_in">self</span>ï¼ˆå¼±å¼•ç”¨ï¼‰
  â†‘ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â†‘
  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   strongSelfï¼ˆä¸´æ—¶å¼ºå¼•ç”¨ï¼Œæ‰§è¡Œå®Œå°±é‡Šæ”¾ï¼‰
</code></pre>
<h5 data-id="heading-58">å…³é”®ç‚¹æ€»ç»“</h5>
<ol start="0">
<li>
<p><strong>block æ•è·çš„æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>block æ•è·çš„æ˜¯ <code>weakSelf</code>ï¼ˆå¼±å¼•ç”¨ï¼‰ï¼Œä¸æ˜¯ <code>strongSelf</code></li>
<li>æ‰€ä»¥ block ä¸å¼ºå¼•ç”¨ <code>self</code>ï¼Œä¸ä¼šå½¢æˆå¾ªç¯</li>
</ul>
</li>
<li>
<p><strong>strongSelf æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li><code>strongSelf</code> æ˜¯ block <strong>æ‰§è¡Œæ—¶</strong>æ‰åˆ›å»ºçš„<strong>å±€éƒ¨å˜é‡</strong></li>
<li>ä¸æ˜¯ block æ•è·çš„ï¼Œæ˜¯æ‰§è¡Œæ—¶çš„ä¸´æ—¶å¼ºå¼•ç”¨</li>
<li>block æ‰§è¡Œå®Œï¼Œ<code>strongSelf</code> å°±é‡Šæ”¾äº†</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šå½¢æˆå¾ªç¯ï¼Ÿ</strong></p>
<ul>
<li>å¾ªç¯å¼•ç”¨çš„å…³é”®æ˜¯ï¼šblock æœ¬èº«æ˜¯å¦å¼ºå¼•ç”¨ self</li>
<li>å› ä¸º block æ•è·çš„æ˜¯ <code>weakSelf</code>ï¼ˆå¼±å¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥ block ä¸å¼ºå¼•ç”¨ self</li>
<li><code>strongSelf</code> åªæ˜¯æ‰§è¡Œæ—¶çš„ä¸´æ—¶å¼ºå¼•ç”¨ï¼Œä¸ä¼šå½¢æˆæŒä¹…çš„å¾ªç¯</li>
</ul>
</li>
</ol>
<h5 data-id="heading-59">å®Œæ•´çš„å†…å­˜å…³ç³»å›¾</h5>
<pre><code class="hljs language-python" lang="python">åˆ›å»ºé˜¶æ®µï¼š
selfï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰
  â†“ å¼ºå¼•ç”¨
blockï¼ˆæ•è· weakSelfï¼Œå¼±å¼•ç”¨ selfï¼‰
  â†“ å¼±å¼•ç”¨ï¼ˆä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼‰
weakSelf â†’ selfï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼Œæ²¡æœ‰å¢åŠ ï¼‰
â€‹
æ‰§è¡Œé˜¶æ®µï¼ˆblock è¢«è°ƒç”¨ï¼‰ï¼š
selfï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰
  â†“ å¼ºå¼•ç”¨
block
  â†“ å¼±å¼•ç”¨
weakSelf â†’ selfï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼‰
  â†“
strongSelfï¼ˆå±€éƒ¨å˜é‡ï¼Œå¼ºå¼•ç”¨ selfï¼‰
  â†“ å¼ºå¼•ç”¨ï¼ˆä¸´æ—¶ï¼‰
selfï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">2</span>ï¼Œä¸´æ—¶å¢åŠ ï¼‰
â€‹
æ‰§è¡Œç»“æŸï¼š
strongSelf é‡Šæ”¾ â†’ selfï¼ˆå¼•ç”¨è®¡æ•° = <span class="hljs-number">1</span>ï¼Œæ¢å¤ï¼‰
block ä»ç„¶å­˜åœ¨ï¼Œä½†åªå¼±å¼•ç”¨ selfï¼ˆä¸å½¢æˆå¾ªç¯ï¼‰
</code></pre>
<p><strong>ç­”æ¡ˆï¼šä¸ä¼šï¼</strong> å› ä¸ºï¼š</p>
<ul>
<li><strong>block æ•è·çš„æ˜¯ <code>weakSelf</code>ï¼ˆå¼±å¼•ç”¨ï¼‰ï¼Œä¸æ˜¯ <code>strongSelf</code></strong></li>
<li><code>strongSelf</code> æ˜¯<strong>å±€éƒ¨å˜é‡</strong>ï¼Œåªåœ¨ block æ‰§è¡ŒæœŸé—´å­˜åœ¨</li>
<li>block æ‰§è¡Œå®Œï¼Œ<code>strongSelf</code> è‡ªåŠ¨é‡Šæ”¾</li>
<li><strong>ä¸ä¼šå½¢æˆæŒä¹…çš„å¾ªç¯å¼•ç”¨</strong>ï¼Œå› ä¸º block æœ¬èº«ä¸å¼ºå¼•ç”¨ self</li>
</ul>
<hr/>
<p><strong>Q3ï¼šä»€ä¹ˆæ—¶å€™ <code>weakSelf</code> ä¼šå˜æˆ <code>nil</code>ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆï¼š</strong> å½“ <code>self</code> çš„æ‰€æœ‰<strong>å¼ºå¼•ç”¨</strong>éƒ½æ–­å¼€æ—¶ï¼š</p>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// åœºæ™¯ï¼šViewController è¢« pop æˆ– dismiss</span>
[<span class="hljs-keyword">self</span>.navigationController popViewControllerAnimated:<span class="hljs-literal">YES</span>];
<span class="hljs-comment">// æ­¤æ—¶å¦‚æœ self æ²¡æœ‰å…¶ä»–å¼ºå¼•ç”¨ï¼Œä¼šè¢«é‡Šæ”¾</span>
<span class="hljs-comment">// weakSelf è‡ªåŠ¨å˜æˆ nil</span>
</code></pre>
<hr/>
<p><strong>Q4ï¼šå¯ä»¥ç®€åŒ–æˆè¿™æ ·å—ï¼Ÿ</strong></p>
<pre><code class="hljs language-ini" lang="ini">// âš ï¸ ç®€åŒ–ç‰ˆï¼ˆä¸æ¨èï¼Œä½†æŸäº›åœºæ™¯å¯ç”¨ï¼‰
__weak typeof(self) <span class="hljs-attr">weakSelf</span> = self<span class="hljs-comment">;</span>
<span class="hljs-attr">self.block</span> = ^{
    <span class="hljs-section">[weakSelf doSomething]</span><span class="hljs-comment">;  // ç›´æ¥ä½¿ç”¨ weakSelf</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ç­”æ¡ˆï¼š</strong></p>
<ul>
<li><strong>ç®€å•åœºæ™¯å¯ä»¥</strong>ï¼šå¦‚æœ <code>doSomething</code> æ‰§è¡Œå¾ˆå¿«ï¼Œä¸”ä¸æ¶‰åŠå¤šæ­¥æ“ä½œ</li>
<li><strong>å¤æ‚åœºæ™¯ä¸è¡Œ</strong>ï¼šå¦‚æœ block æ‰§è¡Œæ—¶é—´é•¿ï¼Œæˆ–æœ‰å¤šæ­¥æ“ä½œï¼Œå¿…é¡»ç”¨ <code>strongSelf</code> ä¿è¯æ‰§è¡ŒæœŸé—´å¯¹è±¡ä¸è¢«é‡Šæ”¾</li>
</ul>
<hr/>
<h4 data-id="heading-60">é¢è¯•æ ‡å‡†ç­”æ¡ˆï¼ˆä¸€å¥è¯æ€»ç»“ï¼‰</h4>
<p><strong>Weak-Strong Dance çš„ä½œç”¨ï¼š</strong></p>
<ol start="0">
<li><strong><code>weakSelf</code></strong>ï¼šæ‰“ç ´å¾ªç¯å¼•ç”¨ï¼Œè®© block ä¸å¼ºæŒæœ‰ <code>self</code></li>
<li><strong><code>strongSelf</code></strong>ï¼šåœ¨ block æ‰§è¡ŒæœŸé—´å¼ºæŒæœ‰ <code>self</code>ï¼Œé˜²æ­¢æ‰§è¡Œä¸­é€”è¢«é‡Šæ”¾</li>
<li><strong><code>if (!strongSelf) return</code></strong>ï¼šå®‰å…¨æ£€æŸ¥ï¼Œå¦‚æœ <code>self</code> å·²é‡Šæ”¾åˆ™æå‰è¿”å›</li>
</ol>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong> ç”¨å¼±å¼•ç”¨æ‰“ç ´å¾ªç¯ï¼Œç”¨ä¸´æ—¶å¼ºå¼•ç”¨ä¿è¯æ‰§è¡Œå®‰å…¨ã€‚</p>
<hr/>
<h5 data-id="heading-61">åœºæ™¯ 2ï¼šNSTimer å¾ªç¯å¼•ç”¨</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šå¾ªç¯å¼•ç”¨</span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ViewController</span> ()</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, <span class="hljs-keyword">strong</span>) <span class="hljs-built_in">NSTimer</span> *timer;
<span class="hljs-keyword">@end</span>
â€‹
<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ViewController</span></span>
- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â <span class="hljs-comment">// self å¼ºå¼•ç”¨ timer</span>
 Â  Â <span class="hljs-keyword">self</span>.timer = [<span class="hljs-built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="hljs-number">1.0</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â target:<span class="hljs-keyword">self</span> Â <span class="hljs-comment">// â† timer å¼ºå¼•ç”¨ self</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â selector:<span class="hljs-keyword">@selector</span>(timerAction)
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â userInfo:<span class="hljs-literal">nil</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  repeats:<span class="hljs-literal">YES</span>];
 Â  Â <span class="hljs-comment">// å½¢æˆå¾ªç¯ï¼šself â†’ timer â†’ self</span>
}
â€‹
<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ä¸­é—´å¯¹è±¡æˆ– block-based API</span>
- (<span class="hljs-type">void</span>)viewDidLoad {
 Â   [<span class="hljs-variable language_">super</span> viewDidLoad];
 Â  Â 
 Â  Â __<span class="hljs-keyword">weak</span> <span class="hljs-keyword">typeof</span>(<span class="hljs-keyword">self</span>) weakSelf = <span class="hljs-keyword">self</span>;
 Â  Â <span class="hljs-keyword">self</span>.timer = [<span class="hljs-built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="hljs-number">1.0</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  repeats:<span class="hljs-literal">YES</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  block:^(<span class="hljs-built_in">NSTimer</span> * _Nonnull timer) {
 Â  Â  Â  Â __<span class="hljs-keyword">strong</span> <span class="hljs-keyword">typeof</span>(weakSelf) strongSelf = weakSelf;
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (!strongSelf) <span class="hljs-keyword">return</span>;
 Â  Â  Â   [strongSelf timerAction];
 Â   }];
}
â€‹
- (<span class="hljs-type">void</span>)dealloc {
 Â   [<span class="hljs-keyword">self</span>.timer invalidate]; Â <span class="hljs-comment">// å¿…é¡»æ‰‹åŠ¨åœæ­¢</span>
 Â  Â <span class="hljs-keyword">self</span>.timer = <span class="hljs-literal">nil</span>;
}
</code></pre>
<h5 data-id="heading-62">åœºæ™¯ 3ï¼šé€šçŸ¥è§‚å¯Ÿè€…å¾ªç¯å¼•ç”¨</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// âš ï¸ iOS 9+ åé€šçŸ¥ä¸­å¿ƒä¼šå¼±å¼•ç”¨è§‚å¯Ÿè€…ï¼Œä½†ä¸šåŠ¡ä»£ç ä»éœ€æ³¨æ„</span>
- (<span class="hljs-type">void</span>)viewDidLoad {
    [<span class="hljs-variable language_">super</span> viewDidLoad];
    
    <span class="hljs-comment">// å¦‚æœ self å¼ºå¼•ç”¨é€šçŸ¥ï¼Œé€šçŸ¥å›è°ƒé‡Œåˆç”¨ selfï¼Œå¯èƒ½å½¢æˆå¾ªç¯</span>
    [[<span class="hljs-built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="hljs-keyword">self</span>
                                             selector:<span class="hljs-keyword">@selector</span>(handleNotification:)
                                                 name:<span class="hljs-string">@"SomeNotification"</span>
                                               object:<span class="hljs-literal">nil</span>];
}

- (<span class="hljs-type">void</span>)dealloc {
    <span class="hljs-comment">// å¿…é¡»ç§»é™¤è§‚å¯Ÿè€…</span>
    [[<span class="hljs-built_in">NSNotificationCenter</span> defaultCenter] removeObserver:<span class="hljs-keyword">self</span>];
}
</code></pre>
<h4 data-id="heading-63">1.4 Weak è¡¨çš„å·¥ä½œæœºåˆ¶</h4>
<h5 data-id="heading-64">Weak è¡¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p><strong>Weak è¡¨ = ä¸€å¼ å…¨å±€çš„å“ˆå¸Œè¡¨ï¼Œè®°å½•æ‰€æœ‰ weak æŒ‡é’ˆ</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä¼ªä»£ç ï¼šWeak è¡¨çš„ç»“æ„</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">WeakTable</span> {
 Â  Â <span class="hljs-comment">// key: å¯¹è±¡çš„åœ°å€</span>
 Â  Â <span class="hljs-comment">// value: æ‰€æœ‰æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„ weak æŒ‡é’ˆæ•°ç»„</span>
 Â  Â <span class="hljs-type">HashMap</span>&lt;å¯¹è±¡åœ°å€, <span class="hljs-type">Array</span>&lt;<span class="hljs-keyword">weak</span>æŒ‡é’ˆåœ°å€&gt;&gt;;
};
</code></pre>
<h5 data-id="heading-65">Weak æŒ‡é’ˆçš„å·¥ä½œæµç¨‹</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-built_in">NSObject</span> *obj = [[<span class="hljs-built_in">NSObject</span> alloc] init]; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 1</span>
__<span class="hljs-keyword">weak</span> <span class="hljs-built_in">NSObject</span> *weakObj = obj; Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•°ä» = 1</span>
â€‹
<span class="hljs-comment">// æ­¥éª¤ 1ï¼šweakObj è¢«æ³¨å†Œåˆ° Weak è¡¨</span>
<span class="hljs-comment">// Weak è¡¨è®°å½•ï¼šobj çš„åœ°å€ â†’ [weakObj çš„åœ°å€]</span>
â€‹
obj = <span class="hljs-literal">nil</span>; Â <span class="hljs-comment">// å¼•ç”¨è®¡æ•° = 0ï¼Œå¯¹è±¡å³å°†è¢«é‡Šæ”¾</span>
â€‹
<span class="hljs-comment">// æ­¥éª¤ 2ï¼šå¯¹è±¡é‡Šæ”¾æ—¶ï¼Œç³»ç»Ÿéå† Weak è¡¨</span>
<span class="hljs-comment">// æ‰¾åˆ°æ‰€æœ‰æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„ weak æŒ‡é’ˆ</span>
<span class="hljs-comment">// æ­¥éª¤ 3ï¼šæŠŠæ‰€æœ‰ weak æŒ‡é’ˆç½®ä¸º nil</span>
<span class="hljs-comment">// weakObj ç°åœ¨ = nilï¼ˆå®‰å…¨ï¼ï¼‰</span>
</code></pre>
<h5 data-id="heading-66">é¢è¯•å¸¸é—®ï¼šWeak è¡¨å¦‚ä½•å®ç°ï¼Ÿ</h5>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>å…¨å±€å“ˆå¸Œè¡¨</strong>ï¼šä»¥å¯¹è±¡åœ°å€ä¸º keyï¼Œå­˜å‚¨æ‰€æœ‰æŒ‡å‘å®ƒçš„ weak æŒ‡é’ˆ</li>
<li><strong>å¯¹è±¡é‡Šæ”¾æ—¶</strong>ï¼šéå† Weak è¡¨ï¼Œæ‰¾åˆ°æ‰€æœ‰ç›¸å…³ weak æŒ‡é’ˆï¼Œç½®ä¸º nil</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨å“ˆå¸Œè¡¨ï¼ŒæŸ¥æ‰¾æ˜¯ O(1) å¹³å‡æ—¶é—´å¤æ‚åº¦</li>
</ol>
<hr/>
<h3 data-id="heading-67">2. å†…å­˜å¯¹é½ä¸å¯¹è±¡å¤§å°</h3>
<h4 data-id="heading-68">2.1 ä»€ä¹ˆæ˜¯å†…å­˜å¯¹é½ï¼Ÿ</h4>
<p><strong>å†…å­˜å¯¹é½ = æ•°æ®åœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€å¿…é¡»æ˜¯æŸä¸ªæ•°çš„å€æ•°</strong></p>
<h5 data-id="heading-69">å¯¹é½è§„åˆ™ï¼ˆ64 ä½ç³»ç»Ÿï¼‰</h5>
<ul>
<li>
<p><strong>åŸºæœ¬ç±»å‹å¯¹é½</strong>ï¼š</p>
<ul>
<li><code>char</code>ï¼š1 å­—èŠ‚å¯¹é½</li>
<li><code>short</code>ï¼š2 å­—èŠ‚å¯¹é½</li>
<li><code>int</code>ï¼š4 å­—èŠ‚å¯¹é½</li>
<li><code>long</code> / <code>æŒ‡é’ˆ</code>ï¼š8 å­—èŠ‚å¯¹é½</li>
<li><code>double</code>ï¼š8 å­—èŠ‚å¯¹é½</li>
</ul>
</li>
<li>
<p><strong>ç»“æ„ä½“å¯¹é½</strong>ï¼š</p>
<ul>
<li>ç»“æ„ä½“æ•´ä½“å¤§å°å¿…é¡»æ˜¯<strong>æœ€å¤§æˆå‘˜å¯¹é½å€¼çš„å€æ•°</strong></li>
<li>ç»“æ„ä½“èµ·å§‹åœ°å€å¿…é¡»æ˜¯<strong>æœ€å¤§æˆå‘˜å¯¹é½å€¼çš„å€æ•°</strong></li>
</ul>
</li>
</ul>
<h5 data-id="heading-70">ç¤ºä¾‹ï¼šç»“æ„ä½“å†…å­˜å¯¹é½</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-keyword">struct</span> Example {
 Â  Â <span class="hljs-type">char</span> a; Â  Â  Â <span class="hljs-comment">// 1 å­—èŠ‚ï¼Œåç§» 0</span>
 Â  Â <span class="hljs-comment">// å¡«å…… 3 å­—èŠ‚ï¼ˆpaddingï¼‰</span>
 Â  Â <span class="hljs-type">int</span> b; Â  Â  Â  <span class="hljs-comment">// 4 å­—èŠ‚ï¼Œåç§» 4ï¼ˆå¿…é¡»æ˜¯ 4 çš„å€æ•°ï¼‰</span>
 Â  Â <span class="hljs-type">char</span> c; Â  Â  Â <span class="hljs-comment">// 1 å­—èŠ‚ï¼Œåç§» 8</span>
 Â  Â <span class="hljs-comment">// å¡«å…… 7 å­—èŠ‚ï¼ˆpaddingï¼‰</span>
 Â  Â <span class="hljs-type">double</span> d; Â  Â <span class="hljs-comment">// 8 å­—èŠ‚ï¼Œåç§» 16ï¼ˆå¿…é¡»æ˜¯ 8 çš„å€æ•°ï¼‰</span>
};
<span class="hljs-comment">// æ€»å¤§å° = 24 å­—èŠ‚ï¼ˆå¿…é¡»æ˜¯ 8 çš„å€æ•°ï¼‰</span>
â€‹
<span class="hljs-comment">// éªŒè¯</span>
<span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Size: %lu"</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> Example)); Â <span class="hljs-comment">// è¾“å‡ºï¼š24</span>
</code></pre>
<h4 data-id="heading-71">2.2 OC å¯¹è±¡çš„å†…å­˜å¯¹é½</h4>
<h5 data-id="heading-72">å¯¹è±¡å†…å­˜å¸ƒå±€</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">Person</span> : <span class="hljs-title">NSObject</span> </span>{
 Â  Â <span class="hljs-keyword">@public</span>
 Â  Â <span class="hljs-type">char</span> _name; Â  Â  Â <span class="hljs-comment">// 1 å­—èŠ‚</span>
 Â  Â <span class="hljs-type">int</span> _age; Â  Â  Â  Â <span class="hljs-comment">// 4 å­—èŠ‚</span>
 Â  Â <span class="hljs-type">double</span> _height; Â <span class="hljs-comment">// 8 å­—èŠ‚</span>
}
<span class="hljs-keyword">@end</span>
â€‹
<span class="hljs-comment">// å†…å­˜å¸ƒå±€ï¼ˆ64 ä½ç³»ç»Ÿï¼‰ï¼š</span>
<span class="hljs-comment">// [isa æŒ‡é’ˆ: 8 å­—èŠ‚] [padding: 0] </span>
<span class="hljs-comment">// [_name: 1 å­—èŠ‚] [padding: 3 å­—èŠ‚]</span>
<span class="hljs-comment">// [_age: 4 å­—èŠ‚]</span>
<span class="hljs-comment">// [padding: 4 å­—èŠ‚]ï¼ˆä¸ºäº† double å¯¹é½ï¼‰</span>
<span class="hljs-comment">// [_height: 8 å­—èŠ‚]</span>
<span class="hljs-comment">// æ€»å¤§å° = 8 + 4 + 4 + 8 = 24 å­—èŠ‚ï¼ˆå¿…é¡»æ˜¯ 8 çš„å€æ•°ï¼‰</span>
</code></pre>
<h5 data-id="heading-73">æŸ¥çœ‹å¯¹è±¡å®é™…å¤§å°</h5>
<pre><code class="hljs language-scss" lang="scss">Person *<span class="hljs-selector-tag">p</span> = <span class="hljs-selector-attr">[[Person alloc]</span> init];

<span class="hljs-comment">// æ–¹æ³• 1ï¼šå®ä¾‹å¤§å°ï¼ˆå¯¹é½åï¼‰</span>
size_t instanceSize = <span class="hljs-built_in">class_getInstanceSize</span>([Person class]);
<span class="hljs-built_in">NSLog</span>(@"Instance size: %zu", instanceSize);  <span class="hljs-comment">// è¾“å‡ºï¼š24</span>

<span class="hljs-comment">// æ–¹æ³• 2ï¼šå®é™…åˆ†é…å¤§å°ï¼ˆç³»ç»Ÿå¯èƒ½åˆ†é…æ›´å¤šï¼‰</span>
size_t mallocSize = <span class="hljs-built_in">malloc_size</span>((__bridge const void *)<span class="hljs-selector-tag">p</span>);
<span class="hljs-built_in">NSLog</span>(@"Malloc size: %zu", mallocSize);  <span class="hljs-comment">// å¯èƒ½è¾“å‡ºï¼š32ï¼ˆç³»ç»Ÿé¢å¤–åˆ†é…ï¼‰</span>
</code></pre>
<h4 data-id="heading-74">2.3 ç¼–è¯‘å™¨å¦‚ä½•æ’å…¥ Paddingï¼Ÿ</h4>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">Example</span> : <span class="hljs-title">NSObject</span> </span>{
    <span class="hljs-type">char</span> a;      <span class="hljs-comment">// åç§» 8ï¼ˆisa åï¼‰ï¼Œå¤§å° 1</span>
    <span class="hljs-comment">// ç¼–è¯‘å™¨æ’å…¥ padding: 3 å­—èŠ‚</span>
    <span class="hljs-type">int</span> b;       <span class="hljs-comment">// åç§» 12ï¼Œå¤§å° 4</span>
    <span class="hljs-type">char</span> c;      <span class="hljs-comment">// åç§» 16ï¼Œå¤§å° 1</span>
    <span class="hljs-comment">// ç¼–è¯‘å™¨æ’å…¥ padding: 7 å­—èŠ‚ï¼ˆä¸ºäº† double å¯¹é½ï¼‰</span>
    <span class="hljs-type">double</span> d;    <span class="hljs-comment">// åç§» 24ï¼Œå¤§å° 8</span>
}
<span class="hljs-keyword">@end</span>

<span class="hljs-comment">// ç¼–è¯‘å™¨ä¼˜åŒ–ï¼šè°ƒæ•´æˆå‘˜é¡ºåºå¯ä»¥å‡å°‘ padding</span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">OptimizedExample</span> : <span class="hljs-title">NSObject</span> </span>{
    <span class="hljs-type">double</span> d;    <span class="hljs-comment">// åç§» 8ï¼Œå¤§å° 8ï¼ˆæœ€å¤§å¯¹é½å€¼ï¼‰</span>
    <span class="hljs-type">int</span> b;       <span class="hljs-comment">// åç§» 16ï¼Œå¤§å° 4</span>
    <span class="hljs-type">char</span> a;      <span class="hljs-comment">// åç§» 20ï¼Œå¤§å° 1</span>
    <span class="hljs-type">char</span> c;      <span class="hljs-comment">// åç§» 21ï¼Œå¤§å° 1</span>
    <span class="hljs-comment">// padding: 6 å­—èŠ‚ï¼ˆä¸ºäº†æ•´ä½“ 8 å­—èŠ‚å¯¹é½ï¼‰</span>
}
<span class="hljs-keyword">@end</span>
<span class="hljs-comment">// ä¼˜åŒ–åæ€»å¤§å°å¯èƒ½æ›´å°ï¼</span>
</code></pre>
<h4 data-id="heading-75">2.4 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šä¸ºä»€ä¹ˆéœ€è¦å†…å­˜å¯¹é½ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>CPU è¯»å–æ•ˆç‡</strong>ï¼šæœªå¯¹é½çš„æ•°æ®å¯èƒ½éœ€è¦å¤šæ¬¡å†…å­˜è®¿é—®</li>
<li><strong>ç¡¬ä»¶è¦æ±‚</strong>ï¼šæŸäº› CPU æ¶æ„è¦æ±‚æ•°æ®å¿…é¡»å¯¹é½ï¼Œå¦åˆ™å´©æºƒ</li>
<li><strong>ç¼“å­˜è¡Œä¼˜åŒ–</strong>ï¼šå¯¹é½çš„æ•°æ®æ›´å®¹æ˜“æ”¾å…¥ CPU ç¼“å­˜è¡Œ</li>
</ol>
<hr/>
<h3 data-id="heading-76">3. Tagged Pointer æŠ€æœ¯</h3>
<h4 data-id="heading-77">3.1 ä»€ä¹ˆæ˜¯ Tagged Pointerï¼Ÿ</h4>
<p><strong>Tagged Pointer = æŠŠå°æ•°æ®ç›´æ¥ç¼–ç è¿›æŒ‡é’ˆé‡Œï¼Œä¸å ç”¨å †å†…å­˜</strong></p>
<h5 data-id="heading-78">ä¼ ç»Ÿæ–¹å¼ vs Tagged Pointer</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼ˆ64 ä½ç³»ç»Ÿï¼‰</span>
<span class="hljs-built_in">NSNumber</span> *num1 = @(<span class="hljs-number">42</span>);
<span class="hljs-comment">// å†…å­˜å¸ƒå±€ï¼š</span>
<span class="hljs-comment">// æŒ‡é’ˆå˜é‡ï¼ˆæ ˆä¸Šï¼Œ8 å­—èŠ‚ï¼‰â†’ æŒ‡å‘å †ä¸Šçš„ NSNumber å¯¹è±¡ï¼ˆè‡³å°‘ 16 å­—èŠ‚ï¼‰</span>
<span class="hljs-comment">// æ€»å ç”¨ï¼š8 + 16 = 24 å­—èŠ‚</span>

<span class="hljs-comment">// Tagged Pointer æ–¹å¼</span>
<span class="hljs-built_in">NSNumber</span> *num2 = @(<span class="hljs-number">42</span>);
<span class="hljs-comment">// å†…å­˜å¸ƒå±€ï¼š</span>
<span class="hljs-comment">// æŒ‡é’ˆå˜é‡ï¼ˆæ ˆä¸Šï¼Œ8 å­—èŠ‚ï¼‰ï¼Œä½†æŒ‡é’ˆé‡Œç›´æ¥å­˜äº† 42 çš„å€¼ï¼</span>
<span class="hljs-comment">// æ€»å ç”¨ï¼š8 å­—èŠ‚ï¼ˆèŠ‚çœ 16 å­—èŠ‚ï¼ï¼‰</span>
</code></pre>
<h4 data-id="heading-79">3.2 Tagged Pointer çš„è¯†åˆ«</h4>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-built_in">NSNumber</span> *num1 = @(<span class="hljs-number">42</span>);
<span class="hljs-built_in">NSNumber</span> *num2 = @(<span class="hljs-number">1000000</span>);  <span class="hljs-comment">// å¤§æ•°å­—</span>

<span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯ Tagged Pointer</span>
<span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"num1 is Tagged: %d"</span>, _objc_isTaggedPointer((__bridge <span class="hljs-type">void</span> *)num1));
<span class="hljs-comment">// è¾“å‡ºï¼š1ï¼ˆæ˜¯ Tagged Pointerï¼‰</span>

<span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"num2 is Tagged: %d"</span>, _objc_isTaggedPointer((__bridge <span class="hljs-type">void</span> *)num2));
<span class="hljs-comment">// è¾“å‡ºï¼š0ï¼ˆä¸æ˜¯ï¼Œå› ä¸ºæ•°å­—å¤ªå¤§ï¼‰</span>
</code></pre>
<h4 data-id="heading-80">3.3 å“ªäº›å¯¹è±¡æ”¯æŒ Tagged Pointerï¼Ÿ</h4>
<ul>
<li><strong>NSNumber</strong>ï¼šå°æ•´æ•°ï¼ˆé€šå¸¸ &lt; 2^60ï¼‰</li>
<li><strong>NSDate</strong>ï¼šæ—¶é—´æˆ³åœ¨æŸä¸ªèŒƒå›´å†…</li>
<li><strong>NSString</strong>ï¼šçŸ­å­—ç¬¦ä¸²ï¼ˆé€šå¸¸ &lt; 7 ä¸ªå­—ç¬¦ï¼ŒASCIIï¼‰</li>
<li><strong>NSIndexPath</strong>ï¼šæŸäº› iOS ç‰ˆæœ¬</li>
</ul>
<h5 data-id="heading-81">ç¤ºä¾‹ï¼šNSString çš„ Tagged Pointer</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-built_in">NSString</span> *str1 = <span class="hljs-string">@"abc"</span>; Â  Â  Â  Â  Â  <span class="hljs-comment">// Tagged Pointer</span>
<span class="hljs-built_in">NSString</span> *str2 = <span class="hljs-string">@"abcdefghijkl"</span>; Â <span class="hljs-comment">// æ™®é€šå¯¹è±¡ï¼ˆå †ä¸Šï¼‰</span>
â€‹
<span class="hljs-comment">// éªŒè¯</span>
<span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"str1 pointer: %p"</span>, str1); Â <span class="hljs-comment">// æŒ‡é’ˆå€¼çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼ˆæœ‰ tag ä½ï¼‰</span>
<span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"str2 pointer: %p"</span>, str2); Â <span class="hljs-comment">// æ­£å¸¸çš„å †åœ°å€</span>
â€‹
<span class="hljs-comment">// æŸ¥çœ‹å®é™…å†…å®¹</span>
<span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"str1: %@"</span>, str1); Â <span class="hljs-comment">// æ­£å¸¸è¾“å‡º</span>
<span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"str2: %@"</span>, str2); Â <span class="hljs-comment">// æ­£å¸¸è¾“å‡º</span>
</code></pre>
<h4 data-id="heading-82">3.4 Tagged Pointer çš„ä¼˜åŠ¿</h4>
<ol start="0">
<li><strong>èŠ‚çœå†…å­˜</strong>ï¼šä¸éœ€è¦å †åˆ†é…</li>
<li><strong>æé«˜æ€§èƒ½</strong>ï¼šä¸éœ€è¦å¼•ç”¨è®¡æ•°ç®¡ç†</li>
<li><strong>å‡å°‘ç¢ç‰‡</strong>ï¼šä¸å ç”¨å †ç©ºé—´</li>
</ol>
<h4 data-id="heading-83">3.5 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šTagged Pointer å¦‚ä½•å·¥ä½œï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>åˆ©ç”¨æŒ‡é’ˆçš„æœªä½¿ç”¨ä½</strong>ï¼š64 ä½æŒ‡é’ˆåªç”¨ 48 ä½ï¼Œå‰©ä½™ä½ç”¨æ¥å­˜ tag å’Œæ•°æ®</li>
<li><strong>ç‰¹æ®Šæ ‡è®°ä½</strong>ï¼šæœ€ä½ä½é€šå¸¸æ˜¯ 1ï¼Œè¡¨ç¤ºè¿™æ˜¯ Tagged Pointer</li>
<li><strong>ç±»å‹ç¼–ç </strong>ï¼šç”¨å‡ ä¸ªä½è¡¨ç¤ºç±»å‹ï¼ˆNSNumber/NSString/NSDate ç­‰ï¼‰</li>
<li><strong>æ•°æ®ç¼–ç </strong>ï¼šå‰©ä½™ä½å­˜å®é™…æ•°æ®</li>
</ol>
<hr/>
<h3 data-id="heading-84">4. Mach-O æ–‡ä»¶ç»“æ„ä¸å†…å­˜æ˜ å°„</h3>
<h4 data-id="heading-85">4.1 Mach-O æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p><strong>Mach-O = macOS/iOS çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼</strong></p>
<p>ç±»ä¼¼äºï¼š</p>
<ul>
<li>Windowsï¼š<code>.exe</code>ï¼ˆPE æ ¼å¼ï¼‰</li>
<li>Linuxï¼šELF æ ¼å¼</li>
<li>macOS/iOSï¼š<code>.app</code>ï¼ˆMach-O æ ¼å¼ï¼‰</li>
</ul>
<h4 data-id="heading-86">4.2 Mach-O çš„åŸºæœ¬ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">Mach-O æ–‡ä»¶
â”œâ”€â”€ Headerï¼ˆæ–‡ä»¶å¤´ï¼‰
â”‚ Â  â”œâ”€â”€ é­”æ•°ï¼ˆæ ‡è¯†æ–‡ä»¶ç±»å‹ï¼‰
â”‚ Â  â”œâ”€â”€ CPU æ¶æ„ï¼ˆarm64/x86_64ï¼‰
â”‚ Â  â””â”€â”€ åŠ è½½å‘½ä»¤æ•°é‡
â”‚
â”œâ”€â”€ Load Commandsï¼ˆåŠ è½½å‘½ä»¤ï¼‰
â”‚ Â  â”œâ”€â”€ ä»£ç æ®µä½ç½®
â”‚ Â  â”œâ”€â”€ æ•°æ®æ®µä½ç½®
â”‚ Â  â””â”€â”€ åŠ¨æ€åº“ä¾èµ–
â”‚
â””â”€â”€ Dataï¼ˆæ•°æ®åŒºï¼‰
 Â   â”œâ”€â”€ __TEXTï¼ˆä»£ç æ®µï¼‰
 Â   â”‚ Â  â”œâ”€â”€ å¯æ‰§è¡Œä»£ç 
 Â   â”‚ Â  â””â”€â”€ å¸¸é‡å­—ç¬¦ä¸²
 Â   â”‚
 Â   â””â”€â”€ __DATAï¼ˆæ•°æ®æ®µï¼‰
 Â  Â  Â   â”œâ”€â”€ å…¨å±€å˜é‡
 Â  Â  Â   â”œâ”€â”€ é™æ€å˜é‡
 Â  Â  Â   â””â”€â”€ ç±»å…ƒæ•°æ®
</code></pre>
<h4 data-id="heading-87">4.3 ä¸»è¦æ®µï¼ˆSegmentï¼‰è¯¦è§£</h4>
<h5 data-id="heading-88">__TEXT æ®µï¼ˆä»£ç æ®µï¼‰</h5>
<p><strong>ç‰¹ç‚¹ï¼šåªè¯»ï¼ˆRead-Onlyï¼‰ã€å¯æ‰§è¡Œï¼ˆExecutableï¼‰</strong></p>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// è¿™äº›å†…å®¹åœ¨ __TEXT æ®µï¼š</span>
â€‹
<span class="hljs-comment">// 1. å¯æ‰§è¡Œä»£ç </span>
- (<span class="hljs-type">void</span>)example {
 Â  Â <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Hello"</span>); Â <span class="hljs-comment">// è¿™è¡Œä»£ç ç¼–è¯‘åçš„æœºå™¨æŒ‡ä»¤åœ¨ __TEXT æ®µ</span>
}
â€‹
<span class="hljs-comment">// 2. å¸¸é‡å­—ç¬¦ä¸²</span>
<span class="hljs-built_in">NSString</span> *str = <span class="hljs-string">@"Hello"</span>; Â <span class="hljs-comment">// @"Hello" åœ¨ __TEXT æ®µ</span>
â€‹
<span class="hljs-comment">// 3. å¸¸é‡æ•°æ®</span>
<span class="hljs-keyword">const</span> <span class="hljs-type">int</span> kValue = <span class="hljs-number">100</span>; Â <span class="hljs-comment">// åœ¨ __TEXT æ®µ</span>
</code></pre>
<h5 data-id="heading-89">__DATA æ®µï¼ˆæ•°æ®æ®µï¼‰</h5>
<p><strong>ç‰¹ç‚¹ï¼šå¯è¯»å†™ï¼ˆRead-Writeï¼‰</strong></p>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// è¿™äº›å†…å®¹åœ¨ __DATA æ®µï¼š</span>
â€‹
<span class="hljs-comment">// 1. å…¨å±€å˜é‡</span>
<span class="hljs-type">int</span> globalVar = <span class="hljs-number">10</span>; Â <span class="hljs-comment">// åœ¨ __DATA æ®µ</span>
â€‹
<span class="hljs-comment">// 2. é™æ€å˜é‡</span>
<span class="hljs-keyword">static</span> <span class="hljs-type">int</span> staticVar = <span class="hljs-number">20</span>; Â <span class="hljs-comment">// åœ¨ __DATA æ®µ</span>
â€‹
<span class="hljs-comment">// 3. ç±»å…ƒæ•°æ®ï¼ˆè¿è¡Œæ—¶æ³¨å†Œï¼‰</span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">MyClass</span> : <span class="hljs-title">NSObject</span></span>
<span class="hljs-keyword">@end</span>
<span class="hljs-comment">// MyClass çš„ç±»å¯¹è±¡ä¿¡æ¯åœ¨ __DATA æ®µ</span>
</code></pre>
<h4 data-id="heading-90">4.4 ç±»å¯¹è±¡åœ¨ Mach-O ä¸­çš„ä½ç½®</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@interface</span> <span class="hljs-attribute">Person </span>: NSObject
<span class="hljs-variable">@end</span>

<span class="hljs-comment">// ç¼–è¯‘åï¼ŒPerson ç±»çš„ä¿¡æ¯å­˜å‚¨åœ¨ï¼š</span>
<span class="hljs-comment">// 1. __TEXT æ®µï¼šæ–¹æ³•å®ç°ï¼ˆæœºå™¨ç ï¼‰</span>
<span class="hljs-comment">// 2. __DATA æ®µï¼šç±»å¯¹è±¡ç»“æ„</span>
<span class="hljs-comment">//    - isa æŒ‡é’ˆ</span>
<span class="hljs-comment">//    - superclass æŒ‡é’ˆ</span>
<span class="hljs-comment">//    - æ–¹æ³•åˆ—è¡¨æŒ‡é’ˆ</span>
<span class="hljs-comment">//    - å±æ€§åˆ—è¡¨æŒ‡é’ˆ</span>
<span class="hljs-comment">//    - åè®®åˆ—è¡¨æŒ‡é’ˆ</span>
</code></pre>
<h4 data-id="heading-91">4.5 é™æ€åº“ vs åŠ¨æ€åº“çš„å†…å­˜æ˜ å°„</h4>
<h5 data-id="heading-92">é™æ€åº“ï¼ˆ.a æ–‡ä»¶ï¼‰</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é™æ€åº“çš„ä»£ç è¢«ç›´æ¥é“¾æ¥è¿›ä¸»å¯æ‰§è¡Œæ–‡ä»¶</span>
<span class="hljs-comment">// å†…å­˜æ˜ å°„ï¼š</span>
<span class="hljs-comment">// ä¸»å¯æ‰§è¡Œæ–‡ä»¶çš„ __TEXT æ®µåŒ…å«é™æ€åº“çš„ä»£ç </span>
<span class="hljs-comment">// ä¸»å¯æ‰§è¡Œæ–‡ä»¶çš„ __DATA æ®µåŒ…å«é™æ€åº“çš„æ•°æ®</span>
</code></pre>
<h5 data-id="heading-93">åŠ¨æ€åº“ï¼ˆ.dylib / .frameworkï¼‰</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åŠ¨æ€åº“ç”± dyldï¼ˆåŠ¨æ€é“¾æ¥å™¨ï¼‰åœ¨è¿è¡Œæ—¶åŠ è½½</span>
<span class="hljs-comment">// å†…å­˜æ˜ å°„ï¼š</span>
<span class="hljs-comment">// 1. dyld è¯»å–åŠ¨æ€åº“çš„ Mach-O æ–‡ä»¶</span>
<span class="hljs-comment">// 2. å°† __TEXT æ®µæ˜ å°„åˆ°å†…å­˜ï¼ˆåªè¯»ã€å¯æ‰§è¡Œï¼‰</span>
<span class="hljs-comment">// 3. å°† __DATA æ®µæ˜ å°„åˆ°å†…å­˜ï¼ˆå¯è¯»å†™ï¼‰</span>
<span class="hljs-comment">// 4. æ¯ä¸ªè¿›ç¨‹å…±äº«åŒä¸€ä»½ __TEXT æ®µï¼ˆèŠ‚çœå†…å­˜ï¼‰</span>
<span class="hljs-comment">// 5. æ¯ä¸ªè¿›ç¨‹æœ‰ç‹¬ç«‹çš„ __DATA æ®µå‰¯æœ¬</span>
</code></pre>
<h4 data-id="heading-94">4.6 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šç±»å¯¹è±¡åœ¨å“ªé‡Œï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>ç¼–è¯‘æ—¶</strong>ï¼šç±»ä¿¡æ¯å†™åœ¨ Mach-O çš„ __DATA æ®µ</li>
<li><strong>è¿è¡Œæ—¶</strong>ï¼šdyld åŠ è½½ Mach-Oï¼Œå°†ç±»ä¿¡æ¯æ³¨å†Œåˆ° runtime</li>
<li><strong>å†…å­˜ä½ç½®</strong>ï¼šç±»å¯¹è±¡åœ¨è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼ˆå…·ä½“åœ°å€ç”± ASLR éšæœºåŒ–ï¼‰</li>
</ol>
<hr/>
<h3 data-id="heading-95">5. AutoreleasePool ä¸ RunLoop å…³ç³»</h3>
<h4 data-id="heading-96">5.1 AutoreleasePool æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p><strong>AutoreleasePool = å»¶è¿Ÿé‡Šæ”¾æ± ï¼Œè®©å¯¹è±¡"æ™šä¸€ç‚¹"é‡Šæ”¾</strong></p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»Ÿ releaseï¼ˆç«‹å³é‡Šæ”¾ï¼‰
NSObject *<span class="hljs-attr">obj</span> = [[NSObject alloc] init]<span class="hljs-comment">;</span>
<span class="hljs-section">[obj release]</span><span class="hljs-comment">; Â // ç«‹å³é‡Šæ”¾ï¼Œå¼•ç”¨è®¡æ•° = 0</span>
â€‹
// Autoreleaseï¼ˆå»¶è¿Ÿé‡Šæ”¾ï¼‰
NSObject *<span class="hljs-attr">obj</span> = [[NSObject alloc] init]<span class="hljs-comment">;</span>
<span class="hljs-section">[obj autorelease]</span><span class="hljs-comment">; Â // åŠ å…¥è‡ªåŠ¨é‡Šæ”¾æ± ï¼Œç­‰æ± å­ç»“æŸæ—¶æ‰ release</span>
</code></pre>
<h4 data-id="heading-97">5.2 AutoreleasePool çš„ç»“æ„</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// AutoreleasePool æ˜¯ä¸€ä¸ªæ ˆç»“æ„</span>
<span class="hljs-keyword">@autoreleasepool</span> {
 Â  Â <span class="hljs-comment">// Pool 1ï¼ˆå¤–å±‚ï¼‰</span>
 Â  Â <span class="hljs-keyword">@autoreleasepool</span> {
 Â  Â  Â  Â <span class="hljs-comment">// Pool 2ï¼ˆå†…å±‚ï¼‰</span>
 Â  Â  Â  Â NSObject *obj = <span class="hljs-selector-attr">[[NSObject alloc]</span> init];
 Â  Â  Â  Â <span class="hljs-comment">// obj è¢«åŠ å…¥ Pool 2</span>
 Â   }
 Â  Â <span class="hljs-comment">// Pool 2 ç»“æŸï¼Œobj è¢«é‡Šæ”¾</span>
}
<span class="hljs-comment">// Pool 1 ç»“æŸ</span>
</code></pre>
<h4 data-id="heading-98">5.3 RunLoop ä¸ AutoreleasePool çš„å…³ç³»</h4>
<h5 data-id="heading-99">ä¸»çº¿ç¨‹çš„éšå¼ AutoreleasePool</h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä¸»çº¿ç¨‹çš„ RunLoop ç»“æ„ï¼ˆç®€åŒ–ï¼‰</span>
void <span class="hljs-built_in">mainRunLoop</span>() {
 Â  Â while (appIsRunning) {
 Â  Â  Â  Â <span class="hljs-keyword">@autoreleasepool</span> { Â <span class="hljs-comment">// â† ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¤„ç†äº‹ä»¶</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-built_in">handleEvents</span>();
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¤„ç†å®šæ—¶å™¨</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-built_in">handleTimers</span>();
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¤„ç† Source</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-built_in">handleSources</span>();
 Â  Â  Â   }
 Â  Â  Â  Â <span class="hljs-comment">// æ± å­ç»“æŸï¼Œé‡Šæ”¾æ‰€æœ‰ autorelease çš„å¯¹è±¡</span>
 Â   }
}
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸»çº¿ç¨‹çš„æ¯ä¸ª RunLoop å‘¨æœŸéƒ½æœ‰ä¸€ä¸ªéšå¼çš„ <code>@autoreleasepool</code></li>
<li>å½“ RunLoop è¿›å…¥ä¼‘çœ æˆ–ç»“æŸä¸€ä¸ªå‘¨æœŸæ—¶ï¼Œæ± å­ä¼š drainï¼ˆé‡Šæ”¾æ‰€æœ‰å¯¹è±¡ï¼‰</li>
</ul>
<h5 data-id="heading-100">å­çº¿ç¨‹æ²¡æœ‰éšå¼ AutoreleasePool</h5>
<pre><code class="hljs language-ini" lang="ini">// âŒ é”™è¯¯ï¼šå­çº¿ç¨‹å¤§é‡åˆ›å»ºå¯¹è±¡
dispatch_async(dispatch_get_global_queue(0, 0), ^{
    for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 10000; i++) {</span>
        NSObject *<span class="hljs-attr">obj</span> = [[NSObject alloc] init]<span class="hljs-comment">;</span>
        // obj è¢« autoreleaseï¼Œä½†æ²¡æœ‰æ± å­ï¼Œä¼šç§¯å‹ï¼
    }
})<span class="hljs-comment">;</span>

// âœ… æ­£ç¡®ï¼šæ‰‹åŠ¨åˆ›å»º AutoreleasePool
dispatch_async(dispatch_get_global_queue(0, 0), ^{
    @autoreleasepool {
        for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 10000; i++) {</span>
            NSObject *<span class="hljs-attr">obj</span> = [[NSObject alloc] init]<span class="hljs-comment">;</span>
            // obj åœ¨æ± å­ç»“æŸæ—¶é‡Šæ”¾
        }
    }
    // æˆ–è€…æ›´ç»†ç²’åº¦ï¼š
    for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 10000; i++) {</span>
        @autoreleasepool {
            NSObject *<span class="hljs-attr">obj</span> = [[NSObject alloc] init]<span class="hljs-comment">;</span>
            // æ¯æ¬¡å¾ªç¯ç»“æŸå°±é‡Šæ”¾
        }
    }
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-101">5.4 ä»€ä¹ˆæ—¶å€™éœ€è¦æ‰‹åŠ¨åˆ›å»º AutoreleasePoolï¼Ÿ</h4>
<h5 data-id="heading-102">åœºæ™¯ 1ï¼šå­çº¿ç¨‹å¤§é‡åˆ›å»ºå¯¹è±¡</h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), ^{
    <span class="hljs-keyword">@autoreleasepool</span> {
        <span class="hljs-comment">// å¤§é‡ä¸´æ—¶å¯¹è±¡</span>
        for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++) {
            NSString *str = <span class="hljs-selector-attr">[NSString stringWithFormat:@<span class="hljs-string">"%d"</span>, i]</span>;
            <span class="hljs-comment">// ä½¿ç”¨ str...</span>
        }
    }
    <span class="hljs-comment">// æ± å­ç»“æŸï¼Œæ‰€æœ‰ä¸´æ—¶å¯¹è±¡ç«‹å³é‡Šæ”¾ï¼Œé™ä½å³°å€¼å†…å­˜</span>
});
</code></pre>
<h5 data-id="heading-103">åœºæ™¯ 2ï¼šå¤§å¾ªç¯ä¸­åˆ›å»ºä¸´æ—¶å¯¹è±¡</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// âŒ ä¸å¥½ï¼šæ‰€æœ‰ä¸´æ—¶å¯¹è±¡ç§¯å‹åˆ°å¤–å±‚æ± å­</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
    <span class="hljs-built_in">NSMutableArray</span> *arr = [<span class="hljs-built_in">NSMutableArray</span> array];  <span class="hljs-comment">// autorelease</span>
    <span class="hljs-comment">// ä½¿ç”¨ arr...</span>
}

<span class="hljs-comment">// âœ… å¥½ï¼šæ¯æ¬¡å¾ªç¯ç»“æŸå°±é‡Šæ”¾</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
    <span class="hljs-keyword">@autoreleasepool</span> {
        <span class="hljs-built_in">NSMutableArray</span> *arr = [<span class="hljs-built_in">NSMutableArray</span> array];
        <span class="hljs-comment">// ä½¿ç”¨ arr...</span>
    }
    <span class="hljs-comment">// arr ç«‹å³é‡Šæ”¾</span>
}
</code></pre>
<h4 data-id="heading-104">5.5 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šä¸ºä»€ä¹ˆå­çº¿ç¨‹éœ€è¦æ‰‹åŠ¨åˆ›å»º AutoreleasePoolï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>ä¸»çº¿ç¨‹</strong>ï¼šRunLoop è‡ªåŠ¨åˆ›å»ºå’Œé”€æ¯ AutoreleasePool</li>
<li><strong>å­çº¿ç¨‹</strong>ï¼šæ²¡æœ‰ RunLoopï¼ˆæˆ– RunLoop ä¸æ´»è·ƒï¼‰ï¼Œæ²¡æœ‰éšå¼æ± å­</li>
<li><strong>åæœ</strong>ï¼šautorelease çš„å¯¹è±¡ä¼šç§¯å‹ï¼Œç›´åˆ°çº¿ç¨‹ç»“æŸæ‰é‡Šæ”¾ï¼Œå¯¼è‡´å†…å­˜å³°å€¼è¿‡é«˜</li>
<li><strong>è§£å†³</strong>ï¼šæ‰‹åŠ¨åˆ›å»º <code>@autoreleasepool</code>ï¼ŒåŠæ—¶é‡Šæ”¾ä¸´æ—¶å¯¹è±¡</li>
</ol>
<hr/>
<h3 data-id="heading-105">6. å †åˆ†é…ç­–ç•¥ä¸å†…å­˜ç¢ç‰‡</h3>
<h4 data-id="heading-106">6.1 å †å†…å­˜åˆ†é…å™¨ï¼ˆmallocï¼‰</h4>
<p>iOS ä½¿ç”¨ <strong>jemalloc</strong> æˆ–ç±»ä¼¼çš„åˆ†é…å™¨ç®¡ç†å †å†…å­˜ã€‚</p>
<h5 data-id="heading-107">åˆ†é…ç­–ç•¥ï¼ˆç®€åŒ–ï¼‰</h5>
<pre><code class="hljs language-markdown" lang="markdown">å †å†…å­˜åˆ†é…å™¨
â”œâ”€â”€ Tiny åŒºï¼ˆ&lt; 16 å­—èŠ‚ï¼‰
â”‚   â””â”€â”€ å¿«é€Ÿåˆ†é…ï¼Œå›ºå®šå¤§å°å—
â”‚
â”œâ”€â”€ Small åŒºï¼ˆ16 å­—èŠ‚ ~ å‡  KBï¼‰
â”‚   â””â”€â”€ æŒ‰å¤§å°åˆ†ç±»çš„å—æ± 
â”‚
â””â”€â”€ Large åŒºï¼ˆ&gt; å‡  KBï¼‰
<span class="hljs-code">    â””â”€â”€ ç›´æ¥ mmap åˆ†é…
</span></code></pre>
<h4 data-id="heading-108">6.2 å†…å­˜ç¢ç‰‡é—®é¢˜</h4>
<h5 data-id="heading-109">ä»€ä¹ˆæ˜¯å†…å­˜ç¢ç‰‡ï¼Ÿ</h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åœºæ™¯ï¼šé¢‘ç¹åˆ†é…å’Œé‡Šæ”¾ä¸åŒå¤§å°çš„å¯¹è±¡</span>

<span class="hljs-comment">// 1. åˆ†é… 100 å­—èŠ‚</span>
void *p1 = <span class="hljs-built_in">malloc</span>(<span class="hljs-number">100</span>);

<span class="hljs-comment">// 2. åˆ†é… 200 å­—èŠ‚</span>
void *p2 = <span class="hljs-built_in">malloc</span>(<span class="hljs-number">200</span>);

<span class="hljs-comment">// 3. é‡Šæ”¾ p1ï¼ˆ100 å­—èŠ‚çš„ç©ºæ´ï¼‰</span>
<span class="hljs-built_in">free</span>(p1);

<span class="hljs-comment">// 4. ç°åœ¨æƒ³åˆ†é… 150 å­—èŠ‚</span>
void *p3 = <span class="hljs-built_in">malloc</span>(<span class="hljs-number">150</span>);
<span class="hljs-comment">// é—®é¢˜ï¼šp1 çš„ç©ºæ´åªæœ‰ 100 å­—èŠ‚ï¼Œä¸å¤Ÿï¼</span>
<span class="hljs-comment">// åªèƒ½ä»å…¶ä»–åœ°æ–¹åˆ†é…ï¼Œå¯¼è‡´ç¢ç‰‡</span>
</code></pre>
<h5 data-id="heading-110">å¦‚ä½•å‡å°‘ç¢ç‰‡ï¼Ÿ</h5>
<p><strong>ç­–ç•¥ 1ï¼šå¯¹è±¡æ± ï¼ˆObject Poolï¼‰</strong></p>
<pre><code class="hljs language-ini" lang="ini">// å¤ç”¨å¯¹è±¡ï¼Œè€Œä¸æ˜¯é¢‘ç¹åˆ›å»ºå’Œé”€æ¯
@interface ObjectPool : NSObject
+ (instancetype)sharedPool<span class="hljs-comment">;</span>
- (id)getObject<span class="hljs-comment">;</span>
- (void)returnObject:(id)obj<span class="hljs-comment">;</span>
@end

// ä½¿ç”¨
ObjectPool *<span class="hljs-attr">pool</span> = [ObjectPool sharedPool]<span class="hljs-comment">;</span>
MyObject *<span class="hljs-attr">obj</span> = [pool getObject]<span class="hljs-comment">;</span>
// ä½¿ç”¨ obj...
<span class="hljs-section">[pool returnObject:obj]</span><span class="hljs-comment">;  // å½’è¿˜ï¼Œè€Œä¸æ˜¯é‡Šæ”¾</span>
</code></pre>
<p><strong>ç­–ç•¥ 2ï¼šæ‰¹é‡åˆ†é…</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ä¸€æ¬¡æ€§åˆ†é…å¤§å—å†…å­˜ï¼Œè‡ªå·±ç®¡ç†</span>
<span class="hljs-type">void</span> *buffer = <span class="hljs-built_in">malloc</span>(<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);  <span class="hljs-comment">// 1MB</span>
<span class="hljs-comment">// è‡ªå·±åœ¨è¿™ 1MB é‡Œåˆ†é…å°å¯¹è±¡</span>
<span class="hljs-comment">// å‡å°‘ç³»ç»Ÿ malloc è°ƒç”¨æ¬¡æ•°</span>
</code></pre>
<h4 data-id="heading-111">6.3 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šå¦‚ä½•ä¼˜åŒ–å†…å­˜åˆ†é…æ€§èƒ½ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>å¯¹è±¡æ± </strong>ï¼šå¤ç”¨å¯¹è±¡ï¼Œå‡å°‘åˆ†é…/é‡Šæ”¾æ¬¡æ•°</li>
<li><strong>æ‰¹é‡åˆ†é…</strong>ï¼šä¸€æ¬¡æ€§åˆ†é…å¤§å—å†…å­˜ï¼Œè‡ªå·±ç®¡ç†</li>
<li><strong>é¿å…é¢‘ç¹å°å¯¹è±¡åˆ†é…</strong>ï¼šåˆå¹¶å°å¯¹è±¡ï¼Œæˆ–ä½¿ç”¨ç»“æ„ä½“</li>
<li><strong>ä½¿ç”¨ AutoreleasePool</strong>ï¼šåŠæ—¶é‡Šæ”¾ä¸´æ—¶å¯¹è±¡ï¼Œé™ä½å³°å€¼</li>
</ol>
<hr/>
<h3 data-id="heading-112">7. æ ˆåŸºç¡€ä¸æ ˆæº¢å‡º</h3>
<h4 data-id="heading-113">7.1 æ ˆçš„åŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>æ ˆ = å‡½æ•°è°ƒç”¨çš„"å·¥ä½œåŒº"</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">functionA</span>()</span> {
 Â  Â <span class="hljs-built_in">int</span> a = <span class="hljs-number">10</span>; Â <span class="hljs-comment">// åœ¨æ ˆä¸Š</span>
 Â  Â functionB();
}
â€‹
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">functionB</span>()</span> {
 Â  Â <span class="hljs-built_in">int</span> b = <span class="hljs-number">20</span>; Â <span class="hljs-comment">// åœ¨æ ˆä¸Š</span>
 Â  Â functionC();
}
â€‹
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">functionC</span>()</span> {
 Â  Â <span class="hljs-built_in">int</span> c = <span class="hljs-number">30</span>; Â <span class="hljs-comment">// åœ¨æ ˆä¸Š</span>
}
â€‹
<span class="hljs-comment">// è°ƒç”¨æ ˆï¼ˆä»ä¸‹å¾€ä¸Šï¼‰ï¼š</span>
<span class="hljs-comment">// [functionA çš„æ ˆå¸§: a = 10]</span>
<span class="hljs-comment">// [functionB çš„æ ˆå¸§: b = 20]</span>
<span class="hljs-comment">// [functionC çš„æ ˆå¸§: c = 30]  â† æ ˆé¡¶</span>
</code></pre>
<h4 data-id="heading-114">7.2 iOS çº¿ç¨‹æ ˆå¤§å°</h4>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// ä¸»çº¿ç¨‹æ ˆå¤§å°ï¼šé€šå¸¸ 1MB</span>
<span class="hljs-comment">// å­çº¿ç¨‹æ ˆå¤§å°ï¼šé€šå¸¸ 512KBï¼ˆå¯é…ç½®ï¼‰</span>

<span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰æ ˆå¤§å°çš„çº¿ç¨‹</span>
<span class="hljs-built_in">NSThread</span> *thread = [[<span class="hljs-built_in">NSThread</span> alloc] initWithTarget:<span class="hljs-keyword">self</span>
                                            selector:<span class="hljs-keyword">@selector</span>(threadMain)
                                              object:<span class="hljs-literal">nil</span>];
thread.stackSize = <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>;  <span class="hljs-comment">// 1MB</span>
[thread start];
</code></pre>
<h4 data-id="heading-115">7.3 æ ˆæº¢å‡ºçš„å¸¸è§åŸå› </h4>
<h5 data-id="heading-116">åŸå›  1ï¼šæ— é™é€’å½’</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ— é™é€’å½’</span>
- (<span class="hljs-keyword">void</span>)recursive {
 Â  Â <span class="hljs-built_in">int</span> localVar[<span class="hljs-number">1000</span>]; Â <span class="hljs-comment">// å¤§å±€éƒ¨å˜é‡</span>
 Â   [<span class="hljs-meta">self recursive</span>]; Â  Â <span class="hljs-comment">// æ— é™é€’å½’ï¼Œæ ˆå¸§ä¸æ–­å¢é•¿</span>
 Â  Â <span class="hljs-comment">// æœ€ç»ˆï¼šæ ˆæº¢å‡ºï¼ˆStack Overflowï¼‰</span>
}
â€‹
<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šæœ‰ç»ˆæ­¢æ¡ä»¶</span>
- (<span class="hljs-keyword">void</span>)recursiveWithDepth:(<span class="hljs-built_in">int</span>)depth {
 Â  Â <span class="hljs-keyword">if</span> (depth &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>; Â <span class="hljs-comment">// ç»ˆæ­¢æ¡ä»¶</span>
 Â  Â 
 Â  Â <span class="hljs-built_in">int</span> localVar[<span class="hljs-number">1000</span>];
 Â   [<span class="hljs-meta">self recursiveWithDepth:depth - 1</span>];
}
</code></pre>
<h5 data-id="heading-117">åŸå›  2ï¼šå¤§å±€éƒ¨å˜é‡</h5>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// âŒ å±é™©ï¼šå¤§æ•°ç»„åœ¨æ ˆä¸Š</span>
- (<span class="hljs-type">void</span>)example {
 Â  Â <span class="hljs-type">int</span> hugeArray[<span class="hljs-number">1000000</span>]; Â <span class="hljs-comment">// 4MB åœ¨æ ˆä¸Šï¼</span>
 Â  Â <span class="hljs-comment">// å¯èƒ½æ ˆæº¢å‡º</span>
}
â€‹
<span class="hljs-comment">// âœ… å®‰å…¨ï¼šå¤§æ•°ç»„åœ¨å †ä¸Š</span>
- (<span class="hljs-type">void</span>)example {
 Â  Â <span class="hljs-type">int</span> *hugeArray = <span class="hljs-built_in">malloc</span>(<span class="hljs-number">1000000</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>)); Â <span class="hljs-comment">// å †ä¸Š</span>
 Â  Â <span class="hljs-comment">// ä½¿ç”¨...</span>
 Â  Â <span class="hljs-built_in">free</span>(hugeArray);
}
</code></pre>
<h4 data-id="heading-118">7.4 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šæ ˆæº¢å‡ºå¦‚ä½•é¿å…ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>é¿å…æ— é™é€’å½’</strong>ï¼šç¡®ä¿é€’å½’æœ‰ç»ˆæ­¢æ¡ä»¶</li>
<li><strong>å¤§å˜é‡ç”¨å †</strong>ï¼šå¤§æ•°ç»„ã€å¤§ç»“æ„ä½“ç”¨ <code>malloc</code> æˆ–å¯¹è±¡</li>
<li><strong>é™åˆ¶é€’å½’æ·±åº¦</strong>ï¼šè®¾ç½®æœ€å¤§é€’å½’æ·±åº¦</li>
<li><strong>å¢åŠ æ ˆå¤§å°</strong>ï¼š<code>pthread_attr_setstacksize</code>ï¼ˆä¸æ¨èï¼Œæ²»æ ‡ä¸æ²»æœ¬ï¼‰</li>
</ol>
<hr/>
<h3 data-id="heading-119">8. ç±»/å…ƒç±»æŸ¥æ‰¾é“¾ä¸æ–¹æ³•ç¼“å­˜</h3>
<h4 data-id="heading-120">8.1 æ–¹æ³•æŸ¥æ‰¾æµç¨‹ï¼ˆå®Œæ•´ç‰ˆï¼‰</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// è°ƒç”¨ï¼š[obj methodName]</span>

<span class="hljs-comment">// æ­¥éª¤ 1ï¼šé€šè¿‡ isa æ‰¾åˆ°ç±»å¯¹è±¡</span>
<span class="hljs-selector-tag">Class</span> <span class="hljs-selector-tag">cls</span> = <span class="hljs-selector-tag">object_getClass</span>(obj);  <span class="hljs-comment">// obj-&gt;isa</span>

<span class="hljs-comment">// æ­¥éª¤ 2ï¼šåœ¨ç±»å¯¹è±¡çš„æ–¹æ³•åˆ—è¡¨ä¸­æŸ¥æ‰¾</span>
<span class="hljs-selector-tag">Method</span> <span class="hljs-selector-tag">method</span> = <span class="hljs-selector-tag">class_getInstanceMethod</span>(cls, <span class="hljs-variable">@selector</span>(methodName));

<span class="hljs-comment">// æ­¥éª¤ 3ï¼šå¦‚æœæ²¡æ‰¾åˆ°ï¼Œæ²¿ superclass é“¾å‘ä¸ŠæŸ¥æ‰¾</span>
<span class="hljs-selector-tag">while</span> (cls &amp;&amp; !method) {
    <span class="hljs-selector-tag">cls</span> = <span class="hljs-selector-tag">class_getSuperclass</span>(cls);
    <span class="hljs-selector-tag">method</span> = <span class="hljs-selector-tag">class_getInstanceMethod</span>(cls, <span class="hljs-variable">@selector</span>(methodName));
}

<span class="hljs-comment">// æ­¥éª¤ 4ï¼šå¦‚æœæ‰¾åˆ°ï¼Œè°ƒç”¨ method-&gt;impï¼ˆå‡½æ•°æŒ‡é’ˆï¼‰</span>
</code></pre>
<h4 data-id="heading-121">8.2 æ–¹æ³•ç¼“å­˜ï¼ˆMethod Cacheï¼‰</h4>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜ï¼Ÿ</strong></p>
<p>æ–¹æ³•æŸ¥æ‰¾éœ€è¦éå†ç±»çš„æ–¹æ³•åˆ—è¡¨ï¼Œå¦‚æœæ¯æ¬¡éƒ½æŸ¥æ‰¾ï¼Œæ€§èƒ½å¾ˆå·®ã€‚</p>
<p><strong>ç¼“å­˜æœºåˆ¶ï¼š</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¼ªä»£ç ï¼šæ–¹æ³•ç¼“å­˜ç»“æ„</span>
struct MethodCache {
 Â  Â <span class="hljs-comment">// å“ˆå¸Œè¡¨ï¼šselector â†’ IMP</span>
 Â  Â HashMap&lt;Selector, IMP&gt; cache;
};
â€‹
<span class="hljs-comment">// æŸ¥æ‰¾æµç¨‹ï¼ˆå¸¦ç¼“å­˜ï¼‰ï¼š</span>
IMP imp = cache.<span class="hljs-keyword">get</span>(selector);
<span class="hljs-keyword">if</span> (imp) {
 Â  Â <span class="hljs-keyword">return</span> imp; Â <span class="hljs-comment">// ç¼“å­˜å‘½ä¸­ï¼Œç›´æ¥è¿”å›</span>
} <span class="hljs-keyword">else</span> {
 Â  Â <span class="hljs-comment">// ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥æ‰¾æ–¹æ³•åˆ—è¡¨</span>
 Â  Â imp = findMethodInClass(selector);
 Â  Â cache.<span class="hljs-keyword">set</span>(selector, imp); Â <span class="hljs-comment">// åŠ å…¥ç¼“å­˜</span>
 Â  Â <span class="hljs-keyword">return</span> imp;
}
</code></pre>
<h4 data-id="heading-122">8.3 ç±»æ–¹æ³• vs å®ä¾‹æ–¹æ³•</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@interface</span> <span class="hljs-attribute">Person </span>: NSObject
- (void)instanceMethod; Â <span class="hljs-comment">// å®ä¾‹æ–¹æ³•</span>
+ (<span class="hljs-selector-tag">void</span>)<span class="hljs-selector-tag">classMethod</span>; Â  Â  <span class="hljs-comment">// ç±»æ–¹æ³•</span>
@<span class="hljs-selector-tag">end</span>
â€‹
<span class="hljs-comment">// è°ƒç”¨å®ä¾‹æ–¹æ³•</span>
<span class="hljs-selector-tag">Person</span> *<span class="hljs-selector-tag">p</span> = <span class="hljs-selector-attr">[[Person alloc]</span> <span class="hljs-selector-tag">init</span>];
<span class="hljs-selector-attr">[p instanceMethod]</span>;
<span class="hljs-comment">// æŸ¥æ‰¾è·¯å¾„ï¼šp-&gt;isaï¼ˆPerson ç±»ï¼‰â†’ æŸ¥æ‰¾å®ä¾‹æ–¹æ³•åˆ—è¡¨</span>
â€‹
<span class="hljs-comment">// è°ƒç”¨ç±»æ–¹æ³•</span>
<span class="hljs-selector-attr">[Person classMethod]</span>;
<span class="hljs-comment">// æŸ¥æ‰¾è·¯å¾„ï¼šPerson ç±»å¯¹è±¡-&gt;isaï¼ˆPerson å…ƒç±»ï¼‰â†’ æŸ¥æ‰¾ç±»æ–¹æ³•åˆ—è¡¨</span>
</code></pre>
<h4 data-id="heading-123">8.4 å…ƒç±»é“¾ï¼ˆå®Œæ•´ï¼‰</h4>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// å…ƒç±»é“¾ï¼ˆç®€åŒ–ï¼‰</span>
Person å®ä¾‹
  â””â”€ isa â†’ Person ç±»å¯¹è±¡
           â”œâ”€ isa â†’ Person å…ƒç±»
           â”‚        â”œâ”€ isa â†’ <span class="hljs-built_in">NSObject</span> å…ƒç±»
           â”‚        â”‚        â””â”€ isa â†’ <span class="hljs-built_in">NSObject</span> å…ƒç±»ï¼ˆæ ¹å…ƒç±»æŒ‡å‘è‡ªå·±ï¼‰
           â”‚        â””â”€ superclass â†’ <span class="hljs-built_in">NSObject</span> å…ƒç±»
           â””â”€ superclass â†’ <span class="hljs-built_in">NSObject</span> ç±»å¯¹è±¡
                            â””â”€ isa â†’ <span class="hljs-built_in">NSObject</span> å…ƒç±»
</code></pre>
<h4 data-id="heading-124">8.5 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šæ–¹æ³•æŸ¥æ‰¾çš„å®Œæ•´æµç¨‹ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>å®ä¾‹æ–¹æ³•</strong>ï¼šå¯¹è±¡ isa â†’ ç±»å¯¹è±¡ â†’ æ–¹æ³•åˆ—è¡¨ â†’ superclass é“¾å‘ä¸ŠæŸ¥æ‰¾</li>
<li><strong>ç±»æ–¹æ³•</strong>ï¼šç±»å¯¹è±¡ isa â†’ å…ƒç±» â†’ æ–¹æ³•åˆ—è¡¨ â†’ å…ƒç±»çš„ superclass é“¾å‘ä¸ŠæŸ¥æ‰¾</li>
<li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šæŸ¥æ‰¾ç»“æœç¼“å­˜åˆ° MethodCacheï¼Œä¸‹æ¬¡ç›´æ¥å‘½ä¸­</li>
<li><strong>æ¶ˆæ¯è½¬å‘</strong>ï¼šå¦‚æœæœ€ç»ˆæ²¡æ‰¾åˆ°ï¼Œè¿›å…¥æ¶ˆæ¯è½¬å‘æœºåˆ¶ï¼ˆ<code>forwardingTargetForSelector:</code> ç­‰ï¼‰</li>
</ol>
<hr/>
<h3 data-id="heading-125">9. OC vs C++ å†…å­˜æ¨¡å‹å·®å¼‚</h3>
<h4 data-id="heading-126">9.1 å¯¹è±¡åˆ›å»ºä½ç½®</h4>
<h5 data-id="heading-127">Objective-C</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// OC å¯¹è±¡æ€»æ˜¯åœ¨å †ä¸Š</span>
<span class="hljs-type">NSObject</span> <span class="hljs-operator">*</span>obj <span class="hljs-operator">=</span> [[<span class="hljs-type">NSObject</span> alloc] <span class="hljs-keyword">init</span>];
<span class="hljs-comment">// obj æ˜¯æŒ‡é’ˆï¼ˆæ ˆä¸Šï¼‰ï¼ŒæŒ‡å‘å †ä¸Šçš„å¯¹è±¡</span>
</code></pre>
<h5 data-id="heading-128">C++</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// C++ å¯¹è±¡å¯ä»¥åœ¨æ ˆä¸Š</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-type">int</span> value;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">example</span><span class="hljs-params">()</span> </span>{
    MyClass obj;  <span class="hljs-comment">// æ ˆä¸Šå¯¹è±¡</span>
    obj.value = <span class="hljs-number">10</span>;
}  <span class="hljs-comment">// obj è‡ªåŠ¨ææ„</span>

<span class="hljs-comment">// ä¹Ÿå¯ä»¥åœ¨å †ä¸Š</span>
MyClass *obj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">MyClass</span>();  <span class="hljs-comment">// å †ä¸Šå¯¹è±¡</span>
<span class="hljs-keyword">delete</span> obj;  <span class="hljs-comment">// æ‰‹åŠ¨é‡Šæ”¾</span>
</code></pre>
<h4 data-id="heading-129">9.2 å†…å­˜ç®¡ç†æ–¹å¼</h4>
<h5 data-id="heading-130">Objective-Cï¼šå¼•ç”¨è®¡æ•°</h5>
<pre><code class="hljs language-ini" lang="ini">NSObject *<span class="hljs-attr">obj1</span> = [[NSObject alloc] init]<span class="hljs-comment">;  // å¼•ç”¨è®¡æ•° = 1</span>
NSObject *<span class="hljs-attr">obj2</span> = obj1<span class="hljs-comment">;                      // å¼•ç”¨è®¡æ•° = 2</span>
<span class="hljs-attr">obj1</span> = nil<span class="hljs-comment">;                                 // å¼•ç”¨è®¡æ•° = 1</span>
<span class="hljs-attr">obj2</span> = nil<span class="hljs-comment">;                                 // å¼•ç”¨è®¡æ•° = 0ï¼Œå¯¹è±¡é‡Šæ”¾</span>
</code></pre>
<h5 data-id="heading-131">C++ï¼šRAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰</h5>
<pre><code class="hljs language-scss" lang="scss">class MyClass {
public:
    <span class="hljs-built_in">MyClass</span>() { <span class="hljs-comment">/* æ„é€  */</span> }
    ~<span class="hljs-built_in">MyClass</span>() { <span class="hljs-comment">/* ææ„ï¼Œè‡ªåŠ¨è°ƒç”¨ */</span> }
};

void <span class="hljs-built_in">example</span>() {
    MyClass obj;  <span class="hljs-comment">// æ„é€ </span>
    <span class="hljs-comment">// ä½¿ç”¨ obj...</span>
}  <span class="hljs-comment">// è‡ªåŠ¨ææ„ï¼ˆæ ˆä¸Šå¯¹è±¡ï¼‰</span>

<span class="hljs-comment">// å †ä¸Šå¯¹è±¡éœ€è¦æ‰‹åŠ¨ç®¡ç†</span>
MyClass *obj = new <span class="hljs-built_in">MyClass</span>();
delete obj;  <span class="hljs-comment">// æ‰‹åŠ¨ææ„</span>
</code></pre>
<h4 data-id="heading-132">9.3 å¤šæ€å®ç°æ–¹å¼</h4>
<h5 data-id="heading-133">Objective-Cï¼šisa æŒ‡é’ˆ + æ¶ˆæ¯å‘é€</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@interface</span> <span class="hljs-attribute">Animal </span>: NSObject
- (void)speak;
<span class="hljs-variable">@end</span>
â€‹
<span class="hljs-variable">@interface</span> <span class="hljs-attribute">Dog </span>: Animal
- (void)speak; Â <span class="hljs-comment">// é‡å†™</span>
<span class="hljs-variable">@end</span>
â€‹
Animal *animal = [[Dog alloc] init];
<span class="hljs-selector-attr">[animal speak]</span>; Â <span class="hljs-comment">// è¿è¡Œæ—¶æŸ¥æ‰¾ï¼Œè°ƒç”¨ Dog çš„ speak</span>
<span class="hljs-comment">// é€šè¿‡ isa æŒ‡é’ˆæ‰¾åˆ°å®é™…ç±»å‹</span>
</code></pre>
<h5 data-id="heading-134">C++ï¼šè™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> {
<span class="hljs-keyword">public</span>:
 Â  Â <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">speak</span>()</span> { <span class="hljs-comment">/* åŸºç±»å®ç° */</span> }
 Â  Â <span class="hljs-comment">// æœ‰è™šå‡½æ•°ï¼Œå¯¹è±¡æœ‰ vptrï¼ˆè™šå‡½æ•°è¡¨æŒ‡é’ˆï¼‰</span>
};
â€‹
<span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> : <span class="hljs-title">public</span> <span class="hljs-title">Animal</span> {
<span class="hljs-keyword">public</span>:
 Â  Â <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">speak</span>() <span class="hljs-keyword">override</span></span> { <span class="hljs-comment">/* æ´¾ç”Ÿç±»å®ç° */</span> }
};
â€‹
Animal *animal = <span class="hljs-keyword">new</span> Dog();
animal-&gt;speak(); Â <span class="hljs-comment">// é€šè¿‡ vptr æ‰¾åˆ°è™šå‡½æ•°è¡¨ï¼Œè°ƒç”¨ Dog::speak</span>
</code></pre>
<h4 data-id="heading-135">9.4 Objective-C++ æ··ç¼–æ³¨æ„äº‹é¡¹</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// Objective-C++ æ–‡ä»¶ï¼ˆ.mmï¼‰</span>
â€‹
<span class="hljs-comment">// OC å¯¹è±¡</span>
NSObject *obj = [[NSObject alloc] init];
â€‹
<span class="hljs-comment">// C++ å¯¹è±¡</span>
std::vector&lt;<span class="hljs-type">int</span>&gt; vec;
vec.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);
â€‹
<span class="hljs-comment">// âš ï¸ æ³¨æ„ï¼šC++ å¼‚å¸¸ä¸èƒ½ç©¿è¶Š OC ä»£ç </span>
<span class="hljs-comment">// å¦‚æœ C++ ä»£ç æŠ›å¼‚å¸¸ï¼Œå¿…é¡»åœ¨ C++ ä»£ç é‡Œæ•è·</span>
</code></pre>
<h4 data-id="heading-136">9.5 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šOC å’Œ C++ çš„å†…å­˜ç®¡ç†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>OC</strong>ï¼šå¼•ç”¨è®¡æ•°ï¼ˆARCï¼‰ï¼Œå¯¹è±¡åœ¨å †ä¸Šï¼Œé€šè¿‡ isa å®ç°å¤šæ€</li>
<li><strong>C++</strong> ï¼šRAIIï¼Œå¯¹è±¡å¯åœ¨æ ˆ/å †ï¼Œé€šè¿‡è™šå‡½æ•°è¡¨å®ç°å¤šæ€</li>
<li><strong>OC</strong>ï¼šè‡ªåŠ¨ç®¡ç†ï¼ˆARCï¼‰ï¼Œä½†éœ€æ³¨æ„å¾ªç¯å¼•ç”¨</li>
<li><strong>C++</strong> ï¼šæ‰‹åŠ¨ç®¡ç†ï¼ˆnew/deleteï¼‰æˆ–æ™ºèƒ½æŒ‡é’ˆï¼ˆshared_ptr/unique_ptrï¼‰</li>
</ol>
<hr/>
<h3 data-id="heading-137">10. è™šæ‹Ÿå†…å­˜ä¸ç‰©ç†å†…å­˜æ˜ å°„</h3>
<h4 data-id="heading-138">10.1 ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜ï¼Ÿ</h4>
<p><strong>è™šæ‹Ÿå†…å­˜ = è¿›ç¨‹çœ‹åˆ°çš„"å‡åœ°å€ç©ºé—´"</strong></p>
<pre><code class="hljs language-css" lang="css">è¿›ç¨‹è§†è§’ï¼ˆè™šæ‹Ÿåœ°å€ï¼‰ï¼š
<span class="hljs-number">0</span>x00000000 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
<span class="hljs-number">0</span>x10000000 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ ä»£ç æ®µ
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
<span class="hljs-number">0</span>x20000000 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ æ•°æ®æ®µ
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
<span class="hljs-number">0</span>x30000000 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ å †
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
<span class="hljs-number">0</span>x40000000 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ æ ˆ
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
<span class="hljs-number">0</span>x7FFFFFFF â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â€‹
å®é™…ç‰©ç†å†…å­˜ï¼š
<span class="hljs-selector-attr">[ç‰©ç†åœ°å€ 0x1000]</span> â† å¯èƒ½æ˜ å°„åˆ°è™šæ‹Ÿåœ°å€ <span class="hljs-number">0</span>x10000000
<span class="hljs-selector-attr">[ç‰©ç†åœ°å€ 0x2000]</span> â† å¯èƒ½æ˜ å°„åˆ°è™šæ‹Ÿåœ°å€ <span class="hljs-number">0</span>x20000000
...
</code></pre>
<h4 data-id="heading-139">10.2 é¡µï¼ˆPageï¼‰çš„æ¦‚å¿µ</h4>
<p><strong>é¡µ = å†…å­˜ç®¡ç†çš„æœ€å°å•ä½ï¼ˆé€šå¸¸ 4KB æˆ– 16KBï¼‰</strong></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// è™šæ‹Ÿåœ°å€ç©ºé—´è¢«åˆ†æˆé¡µ</span>
è™šæ‹Ÿåœ°å€ï¼š<span class="hljs-number">0</span><span class="hljs-selector-tag">x10000000</span> <span class="hljs-selector-tag">-</span> <span class="hljs-number">0</span><span class="hljs-selector-tag">x10000FFF</span> Â â†’ é¡µ <span class="hljs-number">1</span>
è™šæ‹Ÿåœ°å€ï¼š<span class="hljs-number">0</span><span class="hljs-selector-tag">x10001000</span> <span class="hljs-selector-tag">-</span> <span class="hljs-number">0</span><span class="hljs-selector-tag">x10001FFF</span> Â â†’ é¡µ <span class="hljs-number">2</span>
è™šæ‹Ÿåœ°å€ï¼š<span class="hljs-number">0</span><span class="hljs-selector-tag">x10002000</span> <span class="hljs-selector-tag">-</span> <span class="hljs-number">0</span><span class="hljs-selector-tag">x10002FFF</span> Â â†’ é¡µ <span class="hljs-number">3</span>
â€‹
<span class="hljs-comment">// æ¯é¡µå¯ä»¥ç‹¬ç«‹æ˜ å°„åˆ°ç‰©ç†å†…å­˜</span>
é¡µ <span class="hljs-number">1</span> â†’ ç‰©ç†é¡µ <span class="hljs-selector-tag">A</span>
é¡µ <span class="hljs-number">2</span> â†’ ç‰©ç†é¡µ <span class="hljs-selector-tag">B</span>
é¡µ <span class="hljs-number">3</span> â†’ æœªæ˜ å°„ï¼ˆè®¿é—®ä¼šè§¦å‘ç¼ºé¡µå¼‚å¸¸ï¼‰
</code></pre>
<h4 data-id="heading-140">10.3 é¡µè¡¨ï¼ˆPage Tableï¼‰</h4>
<p><strong>é¡µè¡¨ = è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„è¡¨</strong></p>
<pre><code class="hljs">è™šæ‹Ÿåœ°å€ï¼š0x10000000
 Â  Â  Â  Â  â†“
 Â   é¡µè¡¨æŸ¥æ‰¾
 Â  Â  Â  Â  â†“
ç‰©ç†åœ°å€ï¼š0x50000000
</code></pre>
<h4 data-id="heading-141">10.4 å†™æ—¶å¤åˆ¶ï¼ˆCopy-On-Write, COWï¼‰</h4>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// åœºæ™¯ï¼šfork è¿›ç¨‹æˆ–å¤åˆ¶å¤§å¯¹è±¡</span>
â€‹
<span class="hljs-comment">// 1. çˆ¶è¿›ç¨‹æœ‰æ•°æ®</span>
<span class="hljs-built_in">NSMutableArray</span> *arr = [<span class="hljs-built_in">NSMutableArray</span> arrayWithObjects:@<span class="hljs-number">1</span>, @<span class="hljs-number">2</span>, <span class="hljs-literal">nil</span>];
â€‹
<span class="hljs-comment">// 2. å­è¿›ç¨‹ forkï¼ˆæˆ–å¤åˆ¶ï¼‰</span>
<span class="hljs-comment">// æ­¤æ—¶ï¼šçˆ¶å­è¿›ç¨‹å…±äº«åŒä¸€ä»½ç‰©ç†å†…å­˜ï¼ˆåªè¯»ï¼‰</span>
â€‹
<span class="hljs-comment">// 3. å­è¿›ç¨‹ä¿®æ”¹æ•°æ®</span>
[arr addObject:@<span class="hljs-number">3</span>];
â€‹
<span class="hljs-comment">// 4. è§¦å‘å†™æ—¶å¤åˆ¶</span>
<span class="hljs-comment">// ç³»ç»Ÿå¤åˆ¶ç‰©ç†é¡µï¼Œå­è¿›ç¨‹æœ‰è‡ªå·±çš„å‰¯æœ¬</span>
<span class="hljs-comment">// ç°åœ¨ï¼šçˆ¶å­è¿›ç¨‹æœ‰ç‹¬ç«‹çš„ç‰©ç†å†…å­˜</span>
</code></pre>
<h4 data-id="heading-142">10.5 ä»£ç æ®µé¡µå…±äº«</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å¤šä¸ªè¿›ç¨‹è¿è¡ŒåŒä¸€ä¸ª App</span>
è¿›ç¨‹ <span class="hljs-selector-tag">A</span>ï¼šåŠ è½½ <span class="hljs-selector-tag">MyApp</span>
è¿›ç¨‹ <span class="hljs-selector-tag">B</span>ï¼šåŠ è½½ <span class="hljs-selector-tag">MyApp</span>
â€‹
<span class="hljs-comment">// ä»£ç æ®µï¼ˆ__TEXTï¼‰çš„ç‰©ç†é¡µè¢«å…±äº«</span>
<span class="hljs-comment">// èŠ‚çœç‰©ç†å†…å­˜ï¼</span>
</code></pre>
<h4 data-id="heading-143">10.6 ASLRï¼ˆåœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–ï¼‰</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ²¡æœ‰ ASLRï¼ˆå›ºå®šåœ°å€ï¼‰</span>
ä»£ç æ®µèµ·å§‹ï¼š<span class="hljs-number">0x10000000</span>ï¼ˆå›ºå®šï¼‰
â€‹
<span class="hljs-comment">// æœ‰ ASLRï¼ˆéšæœºåœ°å€ï¼‰</span>
è¿›ç¨‹ <span class="hljs-number">1</span> ä»£ç æ®µèµ·å§‹ï¼š<span class="hljs-number">0x10001234</span>ï¼ˆéšæœºï¼‰
è¿›ç¨‹ <span class="hljs-number">2</span> ä»£ç æ®µèµ·å§‹ï¼š<span class="hljs-number">0x10005678</span>ï¼ˆéšæœºï¼‰
â€‹
<span class="hljs-comment">// ç›®çš„ï¼šé˜²æ­¢æ”»å‡»è€…é¢„æµ‹åœ°å€</span>
</code></pre>
<h4 data-id="heading-144">10.7 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šè™šæ‹Ÿå†…å­˜çš„ä½œç”¨ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>åœ°å€ç©ºé—´éš”ç¦»</strong>ï¼šæ¯ä¸ªè¿›ç¨‹æœ‰ç‹¬ç«‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´</li>
<li><strong>å†…å­˜ä¿æŠ¤</strong>ï¼šä¸åŒæ®µæœ‰ä¸åŒçš„è¯»å†™æ‰§è¡Œæƒé™</li>
<li><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šåªæœ‰è®¿é—®çš„é¡µæ‰æ˜ å°„åˆ°ç‰©ç†å†…å­˜</li>
<li><strong>å…±äº«å†…å­˜</strong>ï¼šå¤šä¸ªè¿›ç¨‹å¯ä»¥å…±äº«ä»£ç æ®µçš„ç‰©ç†é¡µ</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šASLR éšæœºåŒ–åœ°å€ï¼Œé˜²æ­¢æ”»å‡»</li>
</ol>
<hr/>
<h3 data-id="heading-145">11. Weak è¡¨å®ç°ä¸æ€§èƒ½</h3>
<h4 data-id="heading-146">11.1 Weak è¡¨çš„åº•å±‚ç»“æ„</h4>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// ä¼ªä»£ç ï¼šWeak è¡¨ç»“æ„</span>
<span class="hljs-keyword">struct</span> WeakTable {
 Â  Â <span class="hljs-comment">// å…¨å±€å“ˆå¸Œè¡¨</span>
 Â  Â <span class="hljs-comment">// key: å¯¹è±¡çš„åœ°å€ï¼ˆä½œä¸ºå¼±å¼•ç”¨ç›®æ ‡ï¼‰</span>
 Â  Â <span class="hljs-comment">// value: æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰ weak æŒ‡é’ˆçš„æ•°ç»„</span>
 Â  Â HashMap&lt;<span class="hljs-type">void</span> *, Array&lt;<span class="hljs-type">void</span> **&gt;&gt; weakReferences;
};
â€‹
<span class="hljs-comment">// ç¤ºä¾‹ï¼š</span>
<span class="hljs-built_in">NSObject</span> *obj = [[<span class="hljs-built_in">NSObject</span> alloc] init];
__<span class="hljs-keyword">weak</span> <span class="hljs-built_in">NSObject</span> *weak1 = obj;
__<span class="hljs-keyword">weak</span> <span class="hljs-built_in">NSObject</span> *weak2 = obj;
â€‹
<span class="hljs-comment">// Weak è¡¨è®°å½•ï¼š</span>
<span class="hljs-comment">// obj çš„åœ°å€ â†’ [weak1 çš„åœ°å€, weak2 çš„åœ°å€]</span>
</code></pre>
<h4 data-id="heading-147">11.2 Weak æŒ‡é’ˆæ³¨å†Œæµç¨‹</h4>
<pre><code class="hljs language-scss" lang="scss">NSObject *obj = <span class="hljs-selector-attr">[[NSObject alloc]</span> init]; Â <span class="hljs-comment">// å¯¹è±¡åˆ›å»º</span>
__weak NSObject *weakObj = obj; Â  Â  Â  Â  Â  Â <span class="hljs-comment">// weak æŒ‡é’ˆèµ‹å€¼</span>
â€‹
<span class="hljs-comment">// ç³»ç»Ÿå†…éƒ¨æ“ä½œï¼ˆä¼ªä»£ç ï¼‰ï¼š</span>
void <span class="hljs-built_in">weak_assign</span>(id *location, id newObj) {
 Â  Â <span class="hljs-comment">// 1. å¦‚æœä¹‹å‰æœ‰ weak æŒ‡é’ˆï¼Œå…ˆç§»é™¤</span>
 Â  Â if (*location) {
 Â  Â  Â  Â <span class="hljs-built_in">removeWeakReference</span>(*location, location);
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">// 2. è®¾ç½®æ–°çš„ weak æŒ‡é’ˆ</span>
 Â  Â *location = newObj;
 Â  Â 
 Â  Â <span class="hljs-comment">// 3. å¦‚æœæ–°å¯¹è±¡ä¸ä¸º nilï¼Œæ³¨å†Œåˆ° Weak è¡¨</span>
 Â  Â if (newObj) {
 Â  Â  Â  Â <span class="hljs-built_in">addWeakReference</span>(newObj, location);
 Â   }
}
</code></pre>
<h4 data-id="heading-148">11.3 å¯¹è±¡é‡Šæ”¾æ—¶çš„ Weak æ¸…ç†</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å¯¹è±¡é‡Šæ”¾æµç¨‹ï¼ˆä¼ªä»£ç ï¼‰</span>
void <span class="hljs-built_in">object_release</span>(id obj) {
 Â  Â <span class="hljs-comment">// 1. å¼•ç”¨è®¡æ•°å‡ 1</span>
 Â  Â if (retainCount(obj) &gt; <span class="hljs-number">1</span>) {
 Â  Â  Â  Â <span class="hljs-built_in">retainCount</span>(obj)--;
 Â  Â  Â  Â return;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">// 2. å¼•ç”¨è®¡æ•°ä¸º 0ï¼Œå‡†å¤‡é‡Šæ”¾</span>
 Â  Â <span class="hljs-comment">// 3. æŸ¥æ‰¾ Weak è¡¨ï¼Œæ‰¾åˆ°æ‰€æœ‰æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„ weak æŒ‡é’ˆ</span>
 Â  Â Array&lt;void **&gt; weakRefs = <span class="hljs-built_in">getWeakReferences</span>(obj);
 Â  Â 
 Â  Â <span class="hljs-comment">// 4. æŠŠæ‰€æœ‰ weak æŒ‡é’ˆç½®ä¸º nil</span>
 Â  Â for (void **weakPtr in weakRefs) {
 Â  Â  Â  Â *weakPtr = nil;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">// 5. ä» Weak è¡¨ä¸­ç§»é™¤è®°å½•</span>
 Â  Â <span class="hljs-built_in">removeWeakTableEntry</span>(obj);
 Â  Â 
 Â  Â <span class="hljs-comment">// 6. é‡Šæ”¾å¯¹è±¡å†…å­˜</span>
 Â  Â <span class="hljs-built_in">free</span>(obj);
}
</code></pre>
<h4 data-id="heading-149">11.4 Weak è¡¨çš„æ€§èƒ½è€ƒè™‘</h4>
<h5 data-id="heading-150">ä¼˜åŠ¿</h5>
<ol start="0">
<li><strong>å“ˆå¸Œè¡¨æŸ¥æ‰¾</strong>ï¼šO(1) å¹³å‡æ—¶é—´å¤æ‚åº¦</li>
<li><strong>æ‰¹é‡æ¸…ç†</strong>ï¼šå¯¹è±¡é‡Šæ”¾æ—¶ä¸€æ¬¡æ€§æ¸…ç†æ‰€æœ‰ weak æŒ‡é’ˆ</li>
</ol>
<h5 data-id="heading-151">æ½œåœ¨å¼€é”€</h5>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// åœºæ™¯ï¼šå¤§é‡ weak æŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</span>
<span class="hljs-built_in">NSObject</span> *obj = [[<span class="hljs-built_in">NSObject</span> alloc] init];
â€‹
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
 Â  Â __<span class="hljs-keyword">weak</span> <span class="hljs-built_in">NSObject</span> *<span class="hljs-keyword">weak</span> = obj; Â <span class="hljs-comment">// æ¯ä¸ª weak éƒ½æ³¨å†Œåˆ° Weak è¡¨</span>
}
â€‹
<span class="hljs-comment">// å¯¹è±¡é‡Šæ”¾æ—¶ï¼Œéœ€è¦æ¸…ç† 10000 ä¸ª weak æŒ‡é’ˆ</span>
<span class="hljs-comment">// è™½ç„¶è¿˜æ˜¯ O(n)ï¼Œä½† n å¯èƒ½å¾ˆå¤§</span>
</code></pre>
<h4 data-id="heading-152">11.5 é¢è¯•å¸¸é—®ç‚¹</h4>
<p><strong>Qï¼šWeak è¡¨å¦‚ä½•å®ç°ï¼Ÿæ€§èƒ½å¦‚ä½•ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆè¦ç‚¹ï¼š</strong></p>
<ol start="0">
<li><strong>æ•°æ®ç»“æ„</strong>ï¼šå…¨å±€å“ˆå¸Œè¡¨ï¼Œkey æ˜¯å¯¹è±¡åœ°å€ï¼Œvalue æ˜¯ weak æŒ‡é’ˆæ•°ç»„</li>
<li><strong>æ³¨å†Œ</strong>ï¼šweak æŒ‡é’ˆèµ‹å€¼æ—¶ï¼Œæ³¨å†Œåˆ° Weak è¡¨</li>
<li><strong>æ¸…ç†</strong>ï¼šå¯¹è±¡é‡Šæ”¾æ—¶ï¼Œéå† Weak è¡¨ï¼ŒæŠŠæ‰€æœ‰ weak æŒ‡é’ˆç½® nil</li>
<li><strong>æ€§èƒ½</strong>ï¼šå“ˆå¸Œè¡¨æŸ¥æ‰¾ O(1)ï¼Œä½†å¤§é‡ weak æŒ‡é’ˆæ—¶æ¸…ç†å¯èƒ½è¾ƒæ…¢</li>
<li><strong>ä¼˜åŒ–</strong>ï¼šç³»ç»Ÿæœ‰ä¼˜åŒ–æœºåˆ¶ï¼Œå®é™…æ€§èƒ½é€šå¸¸å¯æ¥å—</li>
</ol>
<hr/>
<h3 data-id="heading-153">æ€»ç»“ï¼šå®Œæ•´çŸ¥è¯†çº¿å›é¡¾</h3>
<h4 data-id="heading-154">ä»å¯¹è±¡åˆ°ç¡¬ä»¶å†…å­˜çš„å®Œæ•´è·¯å¾„</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span>. ä»£ç å±‚é¢
 Â  â””â”€ OC å¯¹è±¡ï¼ˆPerson *<span class="hljs-selector-tag">p</span> = <span class="hljs-selector-attr">[[Person alloc]</span> init]ï¼‰
 Â  Â  Â  â”œâ”€ isa æŒ‡é’ˆ â†’ ç±»å¯¹è±¡
 Â  Â  Â  â”œâ”€ æˆå‘˜å˜é‡ï¼ˆå†…å­˜å¯¹é½ï¼‰
 Â  Â  Â  â””â”€ å¼•ç”¨è®¡æ•°ç®¡ç†
â€‹
<span class="hljs-number">2</span>. è¿è¡Œæ—¶å±‚é¢
 Â  â””â”€ ç±»å¯¹è±¡ / å…ƒç±»
 Â  Â  Â  â”œâ”€ æ–¹æ³•åˆ—è¡¨
 Â  Â  Â  â”œâ”€ å±æ€§åˆ—è¡¨
 Â  Â  Â  â””â”€ æ–¹æ³•ç¼“å­˜
â€‹
<span class="hljs-number">3</span>. å†…å­˜å¸ƒå±€å±‚é¢
 Â  â””â”€ è™šæ‹Ÿåœ°å€ç©ºé—´
 Â  Â  Â  â”œâ”€ ä»£ç æ®µï¼ˆ__TEXTï¼‰ï¼šç±»çš„æ–¹æ³•å®ç°
 Â  Â  Â  â”œâ”€ æ•°æ®æ®µï¼ˆ__DATAï¼‰ï¼šç±»å¯¹è±¡ã€å…¨å±€å˜é‡
 Â  Â  Â  â”œâ”€ å †ï¼šå¯¹è±¡å®ä¾‹
 Â  Â  Â  â””â”€ æ ˆï¼šå±€éƒ¨å˜é‡ã€å‡½æ•°è°ƒç”¨
â€‹
<span class="hljs-number">4</span>. ç³»ç»Ÿå±‚é¢
 Â  â””â”€ è™šæ‹Ÿå†…å­˜ â†’ ç‰©ç†å†…å­˜æ˜ å°„
 Â  Â  Â  â”œâ”€ é¡µè¡¨æ˜ å°„
 Â  Â  Â  â”œâ”€ ASLR éšæœºåŒ–
 Â  Â  Â  â””â”€ å†™æ—¶å¤åˆ¶
â€‹
<span class="hljs-number">5</span>. ç¡¬ä»¶å±‚é¢
 Â  â””â”€ ç‰©ç†å†…å­˜ï¼ˆRAMï¼‰
 Â  Â  Â  â””â”€ CPU ç¼“å­˜ï¼ˆL1/L2/L3ï¼‰
</code></pre>
<h4 data-id="heading-155">é¢è¯•é‡ç‚¹æ£€æŸ¥æ¸…å•</h4>
<ul>
<li>ARC çš„ retain/release æ’å…¥è§„åˆ™</li>
<li>å¾ªç¯å¼•ç”¨çš„å…¸å‹åœºæ™¯å’Œè§£å†³æ–¹æ¡ˆ</li>
<li>Weak è¡¨çš„å·¥ä½œæœºåˆ¶</li>
<li>å†…å­˜å¯¹é½è§„åˆ™å’Œå¯¹è±¡å¤§å°è®¡ç®—</li>
<li>Tagged Pointer çš„åŸç†å’Œä¼˜åŠ¿</li>
<li>Mach-O æ–‡ä»¶ç»“æ„å’Œæ®µçš„ä½œç”¨</li>
<li>AutoreleasePool ä¸ RunLoop çš„å…³ç³»</li>
<li>å †åˆ†é…ç­–ç•¥å’Œå†…å­˜ç¢ç‰‡</li>
<li>æ ˆæº¢å‡ºåŸå› å’Œé¿å…æ–¹æ³•</li>
<li>ç±»/å…ƒç±»æŸ¥æ‰¾é“¾å’Œæ–¹æ³•ç¼“å­˜</li>
<li>OC vs C++ å†…å­˜æ¨¡å‹å·®å¼‚</li>
<li>è™šæ‹Ÿå†…å­˜åˆ°ç‰©ç†å†…å­˜çš„æ˜ å°„</li>
<li>Weak è¡¨çš„å®ç°å’Œæ€§èƒ½</li>
</ul>
<hr/>
<p><strong>ç¥ä½ é¢è¯•é¡ºåˆ©ï¼</strong> ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SwiftUI ä¸­çš„ compositingGroup()ï¼šçœŸæ­£å«ä¹‰ä¸æ¸²æŸ“åŸç†]]></title>    <link>https://juejin.cn/post/7585091685339529262</link>    <guid>https://juejin.cn/post/7585091685339529262</guid>    <pubDate>2025-12-19T03:14:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585091685339529262" data-draft-id="7585121055036309554" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SwiftUI ä¸­çš„ compositingGroup()ï¼šçœŸæ­£å«ä¹‰ä¸æ¸²æŸ“åŸç†"/> <meta itemprop="keywords" content="Swift,SwiftUI"/> <meta itemprop="datePublished" content="2025-12-19T03:14:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±‰ç§‹"/> <meta itemprop="url" content="https://juejin.cn/user/3755587450191879"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SwiftUI ä¸­çš„ compositingGroup()ï¼šçœŸæ­£å«ä¹‰ä¸æ¸²æŸ“åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3755587450191879/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±‰ç§‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:14:16.000Z" title="Fri Dec 19 2025 03:14:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å­¦ä¹  SwiftUI çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šäººç¬¬ä¸€æ¬¡çœ‹åˆ°Â <code>compositingGroup()</code>Â éƒ½ä¼šè¢«å®˜æ–¹æ–‡æ¡£è¿™å¥è¯ç»•æ™•ï¼š</p>
<blockquote>
<p>Use compositingGroup() to apply effects to a parent view before applying effects to this view.</p>
</blockquote>
<p><strong>â€œè®©çˆ¶ View çš„æ•ˆæœå…ˆäºå­ View çš„æ•ˆæœç”Ÿæ•ˆâ€</strong> Â â€”â€” è¿™å¥è¯å¦‚æœæŒ‰å­—é¢ç†è§£ï¼Œå‡ ä¹ä¸€å®šä¼šè¯¯è§£ã€‚</p>
<p>æœ¬æ–‡å°†ä»Â <strong>æ¸²æŸ“é¡ºåºã€æ•ˆæœä½œç”¨èŒƒå›´ã€å®é™…ç¤ºä¾‹</strong>Â ä¸‰ä¸ªè§’åº¦ï¼Œå½»åº•è®²æ¸…æ¥šÂ <code>compositingGroup()</code>Â åˆ°åº•è§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€å¥è¯ç»“è®ºï¼ˆå…ˆè®°ä½ï¼‰</h2>
<blockquote>
<p><strong><code>compositingGroup()</code>Â ä¼šåˆ›å»ºä¸€ä¸ªâ€œåˆæˆè¾¹ç•Œâ€ï¼š</strong></p>
<ul>
<li>æ²¡æœ‰å®ƒï¼šçˆ¶ View çš„åˆæˆæ•ˆæœä¼šè¢«ã€Œæ‹†åˆ†ã€å¹¶é€ä¸ªä½œç”¨åˆ°å­ View</li>
<li>æœ‰äº†å®ƒï¼šå­ View ä¼šå…ˆæ•´ä½“åˆæˆï¼Œå†ç»Ÿä¸€åº”ç”¨çˆ¶ View çš„åˆæˆæ•ˆæœ</li>
</ul>
</blockquote>
<p>âš ï¸Â <strong>å®ƒæ”¹å˜çš„ä¸æ˜¯ modifier çš„ä¹¦å†™é¡ºåºï¼Œè€Œæ˜¯â€œæ•ˆæœçš„ä½œç”¨èŒƒå›´â€ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">SwiftUI é»˜è®¤çš„æ¸²æŸ“è¡Œä¸ºï¼ˆæœ€å…³é”®ï¼‰</h2>
<p>å…ˆçœ‹ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">VStack</span> {
    <span class="hljs-type">Text</span>(<span class="hljs-string">"A"</span>)
    <span class="hljs-type">Text</span>(<span class="hljs-string">"B"</span>)
}
.opacity(<span class="hljs-number">0.5</span>)
</code></pre>
<h3 data-id="heading-2">çœ‹èµ·æ¥æ˜¯å¯¹ VStack è®¾ç½®äº†é€æ˜åº¦</h3>
<p>ä½† SwiftUI å®é™…åšçš„æ˜¯ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">Text</span>(<span class="hljs-string">"A"</span>) -&gt; opacity <span class="hljs-number">0.5</span>
<span class="hljs-type">Text</span>(<span class="hljs-string">"B"</span>) -&gt; opacity <span class="hljs-number">0.5</span>
å†è¿›è¡Œå åŠ 
</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<ul>
<li><code>opacity</code>Â å¹¶æ²¡æœ‰ä½œä¸ºä¸€ä¸ªâ€œæ•´ä½“æ•ˆæœâ€å­˜åœ¨</li>
<li>è€Œæ˜¯è¢«Â <strong>æ‹†åˆ†åé€ä¸ªåº”ç”¨åˆ°å­ View</strong></li>
</ul>
<p>è¿™å°±æ˜¯å¾ˆå¤šã€Œé€æ˜åº¦å åŠ å˜è„ã€ã€Œblur çœ‹èµ·æ¥ä¸å¯¹åŠ²ã€çš„æ ¹æºã€‚</p>
<hr/>
<h2 data-id="heading-3">compositingGroup() åšäº†ä»€ä¹ˆï¼Ÿ</h2>
<p>åŠ ä¸ŠÂ <code>compositingGroup()</code>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">VStack</span> {
    <span class="hljs-type">Text</span>(<span class="hljs-string">"A"</span>)
    <span class="hljs-type">Text</span>(<span class="hljs-string">"B"</span>)
}
.compositingGroup()
.opacity(<span class="hljs-number">0.5</span>)
</code></pre>
<p>SwiftUI çš„æ¸²æŸ“æµç¨‹ä¼šå˜æˆï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">VStack</span>
 <span class="hljs-operator">â”œâ”€</span> <span class="hljs-type">Text</span>(<span class="hljs-string">"A"</span>)
 <span class="hljs-operator">â””â”€</span> <span class="hljs-type">Text</span>(<span class="hljs-string">"B"</span>)
<span class="hljs-operator">â†“</span>
å…ˆåˆæˆä¸ºä¸€å¼ ç¦»å±å›¾åƒ
<span class="hljs-operator">â†“</span>
å¯¹è¿™å¼ å›¾åƒåº”ç”¨ opacity <span class="hljs-number">0.5</span>
</code></pre>
<h3 data-id="heading-4">å…³é”®å˜åŒ–åªæœ‰ä¸€å¥è¯</h3>
<blockquote>
<p><strong>çˆ¶ View çš„åˆæˆç±»æ•ˆæœä¸å†ä¸‹å‘åˆ°å­ Viewã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-5">é‚£å®˜æ–¹è¯´çš„â€œçˆ¶ View çš„æ•ˆæœå…ˆäºå­ View çš„æ•ˆæœâ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h2>
<p>è¿™å¥è¯<strong>å¹¶ä¸æ˜¯æ—¶é—´é¡ºåº</strong>ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>çˆ¶ View çš„åˆæˆæ•ˆæœä¸ä¼šå‚ä¸å­ View çš„å†…éƒ¨è®¡ç®—ã€‚</strong></p>
</blockquote>
<p>æ¢å¥è¯è¯´ï¼š</p>
<ul>
<li>å­ View å†…éƒ¨çš„ blur / color / mask å…ˆå®Œæˆ</li>
<li>çˆ¶ View çš„ opacity / blendMode å†æ•´ä½“ç”Ÿæ•ˆ</li>
</ul>
<p>è€Œä¸æ˜¯äº¤å‰ã€å åŠ ã€é‡å¤è®¡ç®—ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸€ä¸ªå…¸å‹ç¤ºä¾‹ï¼šblur + opacity</h2>
<h3 data-id="heading-7">âŒ æ²¡æœ‰ compositingGroup</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">ZStack</span> {
    <span class="hljs-type">Text</span>(<span class="hljs-string">"Hello"</span>)
    <span class="hljs-type">Text</span>(<span class="hljs-string">"Hello"</span>)
        .blur(radius: <span class="hljs-number">5</span>)
}
.opacity(<span class="hljs-number">0.5</span>)
</code></pre>
<p>å®é™…æ•ˆæœï¼š</p>
<ol>
<li>ç¬¬äºŒä¸ª Text å…ˆ blur</li>
<li>ä¸¤ä¸ª TextÂ <strong>åˆ†åˆ«</strong>è¢« opacity å½±å“</li>
<li>æ¨¡ç³ŠåŒºåŸŸå†æ¬¡å‚ä¸é€æ˜åº¦æ··åˆ</li>
<li>ç»“æœï¼šç”»é¢æ›´ç³Šã€æ›´è„</li>
</ol>
<hr/>
<h3 data-id="heading-8">âœ… ä½¿ç”¨ compositingGroup</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">ZStack</span> {
    <span class="hljs-type">Text</span>(<span class="hljs-string">"Hello"</span>)
    <span class="hljs-type">Text</span>(<span class="hljs-string">"Hello"</span>)
        .blur(radius: <span class="hljs-number">5</span>)
}
.compositingGroup()
.opacity(<span class="hljs-number">0.5</span>)
</code></pre>
<p>æ¸²æŸ“æµç¨‹å˜ä¸ºï¼š</p>
<ol>
<li>å­ View å†…éƒ¨ï¼šblur åªå½±å“æŒ‡å®šçš„ Text</li>
<li>ZStack åˆæˆå®Œæˆ</li>
<li>æ•´ä½“ç»Ÿä¸€ opacity 0.5</li>
</ol>
<p>ğŸ“ŒÂ <strong>blur ä¸å†è¢«â€œäºŒæ¬¡æ±¡æŸ“â€</strong></p>
<hr/>
<h2 data-id="heading-9">compositingGroup() å¸¸è§é€‚ç”¨åœºæ™¯</h2>
<h3 data-id="heading-10">1ï¸âƒ£ åŠé€æ˜å®¹å™¨ï¼ˆé¿å…é€æ˜åº¦å åŠ ï¼‰</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">VStack</span> {
    <span class="hljs-operator">...</span>
}
.compositingGroup()
.opacity(<span class="hljs-number">0.8</span>)
</code></pre>
<hr/>
<h3 data-id="heading-11">2ï¸âƒ£ blendMode è§†è§‰å¼‚å¸¸</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">ZStack</span> {
    <span class="hljs-operator">...</span>
}
.compositingGroup()
.blendMode(.multiply)
</code></pre>
<hr/>
<h3 data-id="heading-12">3ï¸âƒ£ åŠ¨ç”» + blur / scale / opacity</h3>
<pre><code class="hljs language-swift" lang="swift">.content
.compositingGroup()
.transition(.opacity)
</code></pre>
<p>å¯æ˜¾è‘—å‡å°‘é—ªçƒã€é‡å½±é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-13">compositingGroup vs drawingGroup</h2>






























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>compositingGroup</th><th>drawingGroup</th></tr></thead><tbody><tr><td>æ˜¯å¦ç¦»å±æ¸²æŸ“</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td>æ˜¯å¦ä½¿ç”¨ Metal</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>ä¸»è¦ç›®çš„</td><td>æ§åˆ¶åˆæˆæ•ˆæœä½œç”¨èŒƒå›´</td><td>æ€§èƒ½ / ç‰¹æ•ˆåŠ é€Ÿ</td></tr><tr><td>å¸¸è§é—®é¢˜</td><td>è§£å†³è§†è§‰å åŠ </td><td>è§£å†³å¤æ‚ç»˜åˆ¶æ€§èƒ½</td></tr></tbody></table>
<p>ğŸ“ŒÂ <strong>compositingGroup å…³æ³¨â€œè§†è§‰æ­£ç¡®æ€§â€ï¼ŒdrawingGroup æ›´åå‘â€œæ€§èƒ½â€ã€‚</strong></p>
<hr/>
<h2 data-id="heading-14">è®°å¿†å£è¯€ï¼ˆéå¸¸å®ç”¨ï¼‰</h2>
<blockquote>
<p><strong>è¦â€œæ•´ä½“æ•ˆæœâ€ï¼Œç”¨ compositingGroupï¼›</strong><br/>
<strong>ä¸æƒ³è¢«å­ View å åŠ æ±¡æŸ“ï¼Œä¹Ÿç”¨ compositingGroupã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-15">æ€»ç»“</h2>
<ul>
<li><code>compositingGroup()</code>Â å¹¶ä¸ä¼šæ”¹å˜ modifier çš„ä¹¦å†™é¡ºåº</li>
<li>å®ƒåˆ›å»ºäº†ä¸€ä¸ªÂ <strong>åˆæˆè¾¹ç•Œï¼ˆcompositing boundaryï¼‰</strong></li>
<li>é˜»æ­¢çˆ¶ View çš„åˆæˆæ•ˆæœè¢«æ‹†åˆ†å¹¶ä¸‹å‘åˆ°å­ View</li>
<li>åœ¨ opacityã€blurã€blendModeã€åŠ¨ç”»åœºæ™¯ä¸­æå…¶é‡è¦</li>
</ul>
<p>å¦‚æœä½ åœ¨ SwiftUI ä¸­é‡åˆ°ï¼š</p>
<ul>
<li>é€æ˜åº¦çœ‹èµ·æ¥â€œä¸å¯¹â€</li>
<li>blur è¿‡é‡</li>
<li>åŠ¨ç”»æ—¶å‡ºç°é‡å½±</li>
</ul>
<p>ğŸ‘‰Â <strong>ç¬¬ä¸€æ—¶é—´å°±è¯¥æƒ³åˆ°Â <code>compositingGroup()</code></strong></p>
<hr/>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ çœŸæ­£ç†è§£ SwiftUI èƒŒåçš„æ¸²æŸ“é€»è¾‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android è¯­éŸ³åŠ©æ‰‹ç®€å•å®ç°ä¸è¯­éŸ³åŠ©æ‰‹â€œæ‰§è¡Œä»»åŠ¡â€äº¤æµ]]></title>    <link>https://juejin.cn/post/7585206549284929577</link>    <guid>https://juejin.cn/post/7585206549284929577</guid>    <pubDate>2025-12-19T03:07:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206549284929577" data-draft-id="7585112748896649259" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android è¯­éŸ³åŠ©æ‰‹ç®€å•å®ç°ä¸è¯­éŸ³åŠ©æ‰‹â€œæ‰§è¡Œä»»åŠ¡â€äº¤æµ"/> <meta itemprop="keywords" content="å‰ç«¯,Android"/> <meta itemprop="datePublished" content="2025-12-19T03:07:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Dabei"/> <meta itemprop="url" content="https://juejin.cn/user/201965869204199"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android è¯­éŸ³åŠ©æ‰‹ç®€å•å®ç°ä¸è¯­éŸ³åŠ©æ‰‹â€œæ‰§è¡Œä»»åŠ¡â€äº¤æµ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/201965869204199/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Dabei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:07:36.000Z" title="Fri Dec 19 2025 03:07:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Android è¯­éŸ³åŠ©æ‰‹ Demoï¼ˆä¸­æ–‡ ASR â†’ è§£ææŒ‡ä»¤ â†’ æ‰“å¼€ Appï¼‰ä¸æ‰©å±•è®¨è®ºï¼ˆUI è‡ªåŠ¨åŒ– / Deep Link / åˆä½œæ¥å£ï¼‰</h2>
<p>æœ¬æ–‡åˆ†ä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>Part Aï¼šDemo è½åœ°</strong>â€”â€”æŠŠâ€œå¯è¿è¡Œä»£ç  + å¿…è¦é…ç½® + è¿è¡Œæµç¨‹â€æ•´ç†æˆä¸€ä»½å¯å¤ç”¨çš„æœ€å°é¡¹ç›®è¯´æ˜</li>
<li><strong>Part Bï¼šé¢˜å¤–è¯ï¼ˆäº¤æµæ‹“å±•ï¼‰</strong>â€”â€”è¯­éŸ³åŠ©æ‰‹è¦â€œæ‰§è¡Œä»»åŠ¡â€æ—¶ï¼Œå·¥ç¨‹ä¸Šé€šå¸¸æ€ä¹ˆåšï¼šDeep Link/Intentã€åˆä½œæ¥å£ã€UI è‡ªåŠ¨åŒ–ï¼ˆæ— éšœç¢ï¼‰å…œåº•</li>
</ul>
<hr/>
<h2 data-id="heading-1">Part Aï¼šAndroid è¯­éŸ³åŠ©æ‰‹ Demo</h2>
<h3 data-id="heading-2">A1. ç›®æ ‡ä¸èŒƒå›´</h3>
<p>ç›®æ ‡ï¼šåœ¨ Android æ‰‹æœºä¸Šå®ç°ä¸€ä¸ªæœ€å°é—­ç¯ï¼š</p>
<ol>
<li>ç”¨æˆ·ç‚¹å‡»æŒ‰é’®å¼€å§‹è¯´è¯ï¼ˆPush-to-talkï¼‰</li>
<li>ç³»ç»Ÿä¸­æ–‡è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰å°†è¯­éŸ³è½¬æ–‡å­—</li>
<li>ä»æ–‡å­—ä¸­è¯†åˆ«â€œæ‰“å¼€å“ªä¸ª Appâ€</li>
<li>æ ¹æ®åŒ…å <code>startActivity()</code> æ‰“å¼€ç›®æ ‡ App</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šDemo ä½¿ç”¨ç³»ç»Ÿ <code>RecognizerIntent</code>ï¼Œå› æ­¤è¯†åˆ«æ—¶ä¼šå¼¹å‡ºç³»ç»Ÿè¯­éŸ³è¯†åˆ«é¢æ¿ï¼Œè¿™æ˜¯æœ€å¿«éªŒè¯é“¾è·¯çš„æ–¹å¼ï¼Œè¿™ä¸ªå¯è‡ªè¡Œä¿®æ”¹ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">A2. é¡¹ç›®ç»“æ„ï¼ˆå»ºè®®ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">app/
  src/main/
    AndroidManifest.xml
    java/com/example/myapplication/
      OpenAppActivity.kt
    res/layout/
      activity_open_app.xml
</code></pre>
<hr/>
<h3 data-id="heading-4">A3. æ¸…å•ä¸æƒé™é…ç½®ï¼ˆAndroidManifest.xmlï¼‰</h3>
<p>æœ¬ Demo éœ€è¦éº¦å…‹é£æƒé™ï¼š<code>android.permission.RECORD_AUDIO</code><br/>
ï¼ˆå±äºå±é™©æƒé™ï¼Œå¿…é¡»åœ¨è¿è¡Œæ—¶ç”³è¯·ï¼‰</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">manifest</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.RECORD_AUDIO"</span>/&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">application</span>
        <span class="hljs-attr">android:allowBackup</span>=<span class="hljs-string">"true"</span>
        <span class="hljs-attr">android:label</span>=<span class="hljs-string">"@string/app_name"</span>
        <span class="hljs-attr">android:supportsRtl</span>=<span class="hljs-string">"true"</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">".OpenAppActivity"</span>
            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"true"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.MAIN"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.LAUNCHER"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
</code></pre>
<h4 data-id="heading-5">RECORD_AUDIO éœ€è¦æ‰‹åŠ¨æ‰“å¼€å—ï¼Ÿ</h4>
<ul>
<li>Android 6.0+ï¼šå±äºå±é™©æƒé™ï¼Œå¿…é¡»è¿è¡Œæ—¶å¼¹çª—ç”³è¯·</li>
<li>ç”¨æˆ·æ‹’ç»åï¼šéœ€è¦å¼•å¯¼ç”¨æˆ·å»ç³»ç»Ÿè®¾ç½®æ‰‹åŠ¨å¼€å¯</li>
</ul>
<hr/>
<h3 data-id="heading-6">A4. é¡µé¢å¸ƒå±€ï¼ˆactivity_open_app.xmlï¼‰</h3>
<p>ä¸€ä¸ªæŒ‰é’®å³å¯ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span>
    <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"24dp"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/btnStartSpeech"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"ç‚¹å‡»è¯´è¯"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-7">A5. Demo å®Œæ•´ä»£ç ï¼ˆOpenAppActivity.ktï¼‰</h3>
<p>åŠŸèƒ½ç‚¹ï¼š</p>
<ul>
<li>è¿è¡Œæ—¶ç”³è¯· <code>RECORD_AUDIO</code></li>
<li>è°ƒç³»ç»Ÿè¯­éŸ³è¯†åˆ«ï¼ˆä¸­æ–‡ <code>zh-CN</code>ï¼‰</li>
<li>Toast æ˜¾ç¤ºè¯†åˆ«ç»“æœ</li>
<li>è§„åˆ™è§£æï¼šâ€œæ‰“å¼€/å¯åŠ¨/è¿›å…¥ + åº”ç”¨åâ€</li>
<li>é€šè¿‡æ˜ å°„è¡¨ <code>appMap</code> æ‰¾åˆ°åŒ…åå¹¶æ‰“å¼€</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.example.myapplication

<span class="hljs-keyword">import</span> android.Manifest
<span class="hljs-keyword">import</span> android.content.Intent
<span class="hljs-keyword">import</span> android.content.pm.PackageManager
<span class="hljs-keyword">import</span> android.os.Bundle
<span class="hljs-keyword">import</span> android.speech.RecognizerIntent
<span class="hljs-keyword">import</span> android.widget.Button
<span class="hljs-keyword">import</span> android.widget.Toast
<span class="hljs-keyword">import</span> androidx.activity.ComponentActivity
<span class="hljs-keyword">import</span> androidx.activity.result.contract.ActivityResultContracts
<span class="hljs-keyword">import</span> androidx.core.content.ContextCompat

<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ParsedIntent</span>(<span class="hljs-keyword">val</span> type: String, <span class="hljs-keyword">val</span> appName: String)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">OpenAppActivity</span> : <span class="hljs-type">ComponentActivity</span>() {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> btnStartSpeech: Button

    <span class="hljs-comment">// â€œåº”ç”¨ä¸­æ–‡å/åˆ«åâ€ -&gt; åŒ…åï¼ˆæŒ‰éœ€æ‰©å±•ï¼‰ ä¸åŒç‰ˆæœ¬/åœ°åŒºåŒ…åå¯èƒ½ä¸åŒ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> appMap: Map&lt;String, String&gt; = mapOf(
        <span class="hljs-string">"è…¾è®¯è§†é¢‘"</span> to <span class="hljs-string">"com.tencent.qqlive"</span>,
        <span class="hljs-string">"è…¾è®¯"</span> to <span class="hljs-string">"com.tencent.qqlive"</span>,
        <span class="hljs-string">"qqlive"</span> to <span class="hljs-string">"com.tencent.qqlive"</span>,

        <span class="hljs-string">"è®¾ç½®"</span> to <span class="hljs-string">"com.android.settings"</span>,

        <span class="hljs-string">"å¾®ä¿¡"</span> to <span class="hljs-string">"com.tencent.mm"</span>,
        <span class="hljs-string">"æŠ–éŸ³"</span> to <span class="hljs-string">"com.ss.android.ugc.aweme"</span>,

        <span class="hljs-string">"youtube"</span> to <span class="hljs-string">"com.google.android.youtube"</span>,
        <span class="hljs-string">"ä¼˜é…·"</span> to <span class="hljs-string">"com.youku.phone"</span>,      
        <span class="hljs-string">"çˆ±å¥‡è‰º"</span> to <span class="hljs-string">"com.qiyi.video"</span>      
    )

    <span class="hljs-comment">// è¿è¡Œæ—¶æƒé™ç”³è¯·ï¼šRECORD_AUDIO</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> requestAudioPermission = registerForActivityResult(
        ActivityResultContracts.RequestPermission()
    ) { granted -&gt;
        <span class="hljs-keyword">if</span> (granted) {
            startSpeech()
        } <span class="hljs-keyword">else</span> {
            Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"éœ€è¦éº¦å…‹é£æƒé™æ‰èƒ½è¯­éŸ³è¯†åˆ«ï¼Œè¯·åœ¨è®¾ç½®ä¸­å¼€å¯ã€‚"</span>, Toast.LENGTH_LONG).show()
        }
    }

    <span class="hljs-comment">// è¯­éŸ³è¯†åˆ«ç»“æœå›è°ƒï¼ˆç³»ç»Ÿè¯­éŸ³è¯†åˆ«é¢æ¿ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> speechLauncher = registerForActivityResult(
        ActivityResultContracts.StartActivityForResult()
    ) { result -&gt;
        <span class="hljs-keyword">if</span> (result.resultCode != RESULT_OK) {
            Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"æœªè·å–åˆ°è¯­éŸ³ç»“æœ"</span>, Toast.LENGTH_SHORT).show()
            <span class="hljs-keyword">return</span><span class="hljs-symbol">@registerForActivityResult</span>
        }

        <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span> = result.<span class="hljs-keyword">data</span>
        <span class="hljs-keyword">val</span> text = <span class="hljs-keyword">data</span>?.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS)
            ?.firstOrNull()
            ?.trim()
            .orEmpty()

        <span class="hljs-keyword">if</span> (text.isEmpty()) {
            Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"æ²¡å¬æ¸…æ¥šï¼Œè¯·å†è¯´ä¸€æ¬¡"</span>, Toast.LENGTH_SHORT).show()
            <span class="hljs-keyword">return</span><span class="hljs-symbol">@registerForActivityResult</span>
        }

        Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"è¯†åˆ«ç»“æœï¼š<span class="hljs-variable">$text</span>"</span>, Toast.LENGTH_SHORT).show()

        <span class="hljs-comment">// æ ¸å¿ƒï¼šè§£æè¯­éŸ³æ–‡æœ¬ -&gt; æ‰§è¡ŒåŠ¨ä½œï¼ˆæ‰“å¼€Appï¼‰</span>
        handleSpeechText(text)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_open_app)

        btnStartSpeech = findViewById(R.id.btnStartSpeech)
        btnStartSpeech.text = <span class="hljs-string">"ç‚¹å‡»è¯´è¯"</span>
        btnStartSpeech.setOnClickListener { ensureAudioPermissionAndStart() }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ensureAudioPermissionAndStart</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> granted = ContextCompat.checkSelfPermission(
            <span class="hljs-keyword">this</span>, Manifest.permission.RECORD_AUDIO
        ) == PackageManager.PERMISSION_GRANTED

        <span class="hljs-keyword">if</span> (granted) startSpeech()
        <span class="hljs-keyword">else</span> requestAudioPermission.launch(Manifest.permission.RECORD_AUDIO)
    }

    <span class="hljs-comment">// === è¯­éŸ³è¯†åˆ«å…¥å£ ===</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startSpeech</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> intent = Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH).apply {
            putExtra(
                RecognizerIntent.EXTRA_LANGUAGE_MODEL,
                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM
            )
            putExtra(RecognizerIntent.EXTRA_LANGUAGE, <span class="hljs-string">"zh-CN"</span>) <span class="hljs-comment">// ä¸­æ–‡è¯†åˆ«</span>
            putExtra(RecognizerIntent.EXTRA_PROMPT, <span class="hljs-string">"è¯·è¯´ï¼šæ‰“å¼€è…¾è®¯è§†é¢‘ / æ‰“å¼€è®¾ç½® / æ‰“å¼€å¾®ä¿¡"</span>)
        }

        <span class="hljs-keyword">try</span> {
            speechLauncher.launch(intent)
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"å½“å‰è®¾å¤‡ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«"</span>, Toast.LENGTH_LONG).show()
        }
    }

    <span class="hljs-comment">// === æ ¸å¿ƒï¼šè¯†åˆ«æ–‡æœ¬ -&gt; è§£æ -&gt; æ‰“å¼€App ===</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">handleSpeechText</span><span class="hljs-params">(text: <span class="hljs-type">String</span>)</span></span> {
        <span class="hljs-keyword">val</span> parsed = parseCommand(text)
        <span class="hljs-keyword">if</span> (parsed == <span class="hljs-literal">null</span>) {
            Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"æˆ‘æ²¡å¬æ‡‚ã€‚ä½ å¯ä»¥è¯´ï¼šæ‰“å¼€è…¾è®¯è§†é¢‘"</span>, Toast.LENGTH_SHORT).show()
            <span class="hljs-keyword">return</span>
        }

        <span class="hljs-keyword">when</span> (parsed.type) {
            <span class="hljs-string">"OPEN_APP"</span> -&gt; {
                <span class="hljs-keyword">val</span> ok = openAppByName(parsed.appName)
                <span class="hljs-keyword">if</span> (!ok) {
                    Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"æœªæ‰¾åˆ°åº”ç”¨ï¼š<span class="hljs-subst">${parsed.appName}</span>"</span>, Toast.LENGTH_LONG).show()
                }
            }
            <span class="hljs-keyword">else</span> -&gt; Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"æš‚ä¸æ”¯æŒè¯¥æŒ‡ä»¤ï¼š<span class="hljs-subst">${parsed.type}</span>"</span>, Toast.LENGTH_SHORT).show()
        }
    }

    <span class="hljs-comment">// è§„åˆ™ï¼šæ”¯æŒ â€œæ‰“å¼€/å¯åŠ¨/è¿›å…¥ + åº”ç”¨åâ€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">parseCommand</span><span class="hljs-params">(text: <span class="hljs-type">String</span>)</span></span>: ParsedIntent? {
        <span class="hljs-keyword">val</span> t = text.trim()
        <span class="hljs-keyword">val</span> patterns = listOf(<span class="hljs-string">"æ‰“å¼€"</span>, <span class="hljs-string">"å¯åŠ¨"</span>, <span class="hljs-string">"è¿›å…¥"</span>)
        <span class="hljs-keyword">val</span> p = patterns.firstOrNull { t.startsWith(it) } ?: <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>

        <span class="hljs-keyword">val</span> app = t.removePrefix(p).trim()
        <span class="hljs-keyword">if</span> (app.isEmpty()) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>

        <span class="hljs-keyword">return</span> ParsedIntent(type = <span class="hljs-string">"OPEN_APP"</span>, appName = app)
    }

    <span class="hljs-comment">// åº”ç”¨å -&gt; åŒ…å -&gt; startActivity</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">openAppByName</span><span class="hljs-params">(appNameRaw: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">val</span> key = appNameRaw.trim().lowercase() <span class="hljs-comment">// å…¼å®¹ YouTube/youtube</span>
        <span class="hljs-keyword">val</span> pkg = appMap[key] ?: appMap[appNameRaw.trim()] ?: <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>

        <span class="hljs-keyword">val</span> launchIntent = packageManager.getLaunchIntentForPackage(pkg) ?: <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)
        startActivity(launchIntent)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-8">A6. è¿è¡Œæµç¨‹ï¼ˆä½ å¯ä»¥æŒ‰è¿™ä¸ªåšæ¼”ç¤ºï¼‰</h3>
<ol>
<li>å®‰è£…å¹¶å¯åŠ¨ Demoï¼ˆOpenAppActivityï¼‰</li>
<li>ç‚¹å‡»â€œç‚¹å‡»è¯´è¯â€</li>
<li>ç³»ç»Ÿå¼¹å‡ºè¯­éŸ³é¢æ¿ï¼Œä¸­æ–‡è¯´ï¼šâ€œæ‰“å¼€è…¾è®¯è§†é¢‘â€</li>
<li>Demo Toast æ˜¾ç¤ºè¯†åˆ«ç»“æœ</li>
<li>Demo æ‰“å¼€è…¾è®¯è§†é¢‘ï¼ˆæˆ–å…¶å®ƒ appMap ä¸­é…ç½®çš„åº”ç”¨ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-9">Part Bï¼šé¢˜å¤–è¯ï¼ˆäº¤æµæ‹“å±•ï¼‰â€”â€”è¯­éŸ³åŠ©æ‰‹â€œæ‰§è¡Œä»»åŠ¡â€æ€ä¹ˆè½åœ°</h2>
<p>å½“éœ€æ±‚ä»â€œæ‰“å¼€ Appâ€å‡çº§åˆ°â€œæ‰§è¡Œä»»åŠ¡â€ï¼ˆæœç´¢ã€æ’­æ”¾ã€å¯¼èˆªã€ç‚¹é¤ã€å‘æ¶ˆæ¯ç­‰ï¼‰ï¼Œå·¥ç¨‹ä¸Šå»ºè®®æŠŠç³»ç»Ÿæ‹†æˆä¸‰å±‚ï¼š</p>
<ul>
<li><strong>ASRï¼šè¯­éŸ³ â†’ æ–‡æœ¬</strong></li>
<li><strong>NLUï¼šæ–‡æœ¬ â†’ ç»“æ„åŒ–æ„å›¾ï¼ˆIntentï¼‰</strong></li>
<li><strong>Executorï¼šæ‰§è¡Œå™¨æŠŠæ„å›¾è½åˆ° App ä¸Šï¼ˆå¤šç­–ç•¥åˆ†å±‚ï¼‰</strong></li>
</ul>
<hr/>
<h3 data-id="heading-10">B1. ä¸ºä»€ä¹ˆâ€œæ‰§è¡Œå™¨â€æ˜¯å…³é”®</h3>
<p>ä¾‹å¦‚ï¼šâ€œæ‰“å¼€è…¾è®¯è§†é¢‘ï¼Œæœç´¢æµæµªåœ°çƒå¹¶æ’­æ”¾â€</p>
<p>æ‰§è¡Œä¸Šè‡³å°‘è¦åšï¼š</p>
<ol>
<li>æ‰“å¼€ç›®æ ‡ App</li>
<li>è¿›å…¥æœç´¢å…¥å£</li>
<li>æ‰¾åˆ°è¾“å…¥æ¡†å¹¶è¾“å…¥â€œæµæµªåœ°çƒâ€</li>
<li>ç‚¹å‡»æœç´¢</li>
<li>è¿›å…¥ç»“æœé¡µå¹¶ç‚¹å‡»æŸä¸ªç»“æœï¼ˆæˆ–æ’­æ”¾ï¼‰</li>
</ol>
<p>éš¾ç‚¹åœ¨ç¬¬ 2ï½5 æ­¥ï¼š<strong>ç¬¬ä¸‰æ–¹ App æœªå¿…ç»™ä½ æ ‡å‡†æ¥å£</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-11">B2. æ¨èçš„åˆ†å±‚æ‰§è¡Œç­–ç•¥ï¼ˆä»ç¨³åˆ°ä¸ç¨³ï¼‰</h3>
<h4 data-id="heading-12">1ï¼‰Deep Link / Intent / AppLinkï¼ˆä¼˜å…ˆï¼‰</h4>
<p>å½“ App æš´éœ² URI scheme æˆ– AppLink æ—¶ï¼Œå°½é‡ç”¨â€œè·³è½¬â€å®Œæˆä»»åŠ¡çš„ä¸€å¤§æ­¥ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šç¨³å®šã€ç»´æŠ¤æˆæœ¬ä½</li>
<li>å±€é™ï¼šå¾ˆå¤šç¬¬ä¸‰æ–¹ä¸å…¬å¼€â€œæŒ‰ç‰‡åæœç´¢å¹¶æ’­æ”¾â€çš„èƒ½åŠ›ï¼Œå¾€å¾€éœ€è¦å†…å®¹ ID æˆ–çŸ­é“¾</li>
</ul>
<h4 data-id="heading-13">2ï¼‰åˆä½œæ¥å£ / SDKï¼ˆæ•ˆæœæœ€å¥½ï¼Œä½†éœ€è¦åˆä½œï¼‰</h4>
<p>å‚å•†è¦åšâ€œé«˜æˆåŠŸç‡ã€é«˜ä½“éªŒâ€ï¼Œæœ€ç»ˆå¤§æ¦‚ç‡éœ€è¦ä¸å¤´éƒ¨ App æ·±åº¦åˆä½œï¼š</p>
<ul>
<li>App æš´éœ²æ˜ç¡®èƒ½åŠ›ï¼ˆæ‰“å¼€æœç´¢é¡µã€å‘èµ·æœç´¢ã€æ‰“å¼€è¯¦æƒ…ã€åˆ°ç¡®è®¤é¡µï¼‰</li>
<li>å‚å•†ä¾§ä¸»è¦åšâ€œæ„å›¾è·¯ç”±â€å’Œâ€œå‚æ•°å¡«å……â€</li>
</ul>
<p>ä¼˜ç‚¹ï¼šæˆåŠŸç‡æœ€é«˜ï¼Œå¯åšåˆ°äº§å“å¯æ‰¿è¯ºçš„â€œè‡ªåŠ¨åŒ–â€ä½“éªŒ<br/>
ç¼ºç‚¹ï¼šéœ€è¦ç”Ÿæ€åˆä½œæ¨è¿›</p>
<h4 data-id="heading-14">3ï¼‰UI è‡ªåŠ¨åŒ–ï¼ˆæ— éšœç¢ Accessibilityï¼‰å…œåº•</h4>
<p>å½“æ²¡æœ‰ deep link/åˆä½œæ¥å£æ—¶ï¼Œæ‰è€ƒè™‘ç”¨æ— éšœç¢å®Œæˆâ€œä½é£é™©é€šç”¨åŠ¨ä½œâ€ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æ‰“å¼€ App</li>
<li>æ‰¾æœç´¢å…¥å£</li>
<li>è¾“å…¥å…³é”®è¯</li>
<li>ç‚¹å‡»æœç´¢</li>
<li>è¿›å…¥åˆ—è¡¨/è¯¦æƒ…ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<p><strong>é«˜é£é™©åŠ¨ä½œï¼ˆå‘æ¶ˆæ¯/ä¸‹å•/æ”¯ä»˜ï¼‰å»ºè®®ï¼šåˆ°ç¡®è®¤é¡µ + ç”¨æˆ·ç¡®è®¤ã€‚</strong></p>
<hr/>
<h3 data-id="heading-15">B3. UI è‡ªåŠ¨åŒ–ï¼ˆæ— éšœç¢ï¼‰çš„åº•å±‚æ–¹æ³•</h3>
<p>æ— éšœç¢æœåŠ¡ <code>AccessibilityService</code> å¯ä»¥ï¼š</p>
<ul>
<li>é€šè¿‡ <code>rootInActiveWindow</code> è¯»å–å‰å°ç•Œé¢çš„ <code>AccessibilityNodeInfo</code> æ ‘</li>
<li>åœ¨èŠ‚ç‚¹æ ‘ä¸­æŒ‰ text / content-desc / viewId / class ç­‰ç‰¹å¾å®šä½æ§ä»¶</li>
<li>æ‰§è¡ŒåŠ¨ä½œï¼š
<ul>
<li>ç‚¹å‡»ï¼š<code>ACTION_CLICK</code></li>
<li>è¾“å…¥ï¼š<code>ACTION_SET_TEXT</code></li>
<li>æ»šåŠ¨ï¼š<code>ACTION_SCROLL_FORWARD</code></li>
<li>è¿”å›ï¼š<code>performGlobalAction(GLOBAL_ACTION_BACK)</code></li>
<li>æ‰‹åŠ¿ï¼š<code>dispatchGesture(...)</code>ï¼ˆå½“èŠ‚ç‚¹æ ‘ä¸å¯ç”¨æ—¶çš„é€€åŒ–æ–¹æ¡ˆï¼‰</li>
</ul>
</li>
</ul>
<p>ä¸ºä»€ä¹ˆå®ƒéš¾ä»¥â€œå®Œå…¨é€šç”¨â€ï¼š</p>
<ul>
<li>UI æ”¹ç‰ˆã€A/Bã€åˆ†è¾¨ç‡å˜åŒ–ä¼šå¯¼è‡´å®šä½è§„åˆ™å¤±æ•ˆ</li>
<li>è‡ªç»˜/æ¸¸æˆ/Canvas/WebView åœºæ™¯èŠ‚ç‚¹æ ‘ä¿¡æ¯è´«ç˜ </li>
<li>ç›®æ ‡ App å¯èƒ½å¯¹è‡ªåŠ¨åŒ–åšé£æ§ï¼ˆæ£€æµ‹æ— éšœç¢æœåŠ¡å¯ç”¨ã€é™åˆ¶æµç¨‹ï¼‰</li>
</ul>
<p>æˆç†Ÿäº§å“é€šå¸¸è¿™æ ·åšï¼š</p>
<ul>
<li>é€šç”¨å¼•æ“è¦†ç›–å°‘æ•°é€šç”¨åŠ¨ä½œï¼ˆæ‰“å¼€/æœç´¢/è¾“å…¥/æäº¤ï¼‰</li>
<li>å¯¹å¤´éƒ¨ App åšå°‘é‡ App Profileï¼ˆå…³é”®èŠ‚ç‚¹ç‰¹å¾é…ç½®ï¼‰</li>
<li>å¤±è´¥å¼ºé™çº§ï¼ˆæç¤ºç”¨æˆ·æ‰‹åŠ¨ç¡®è®¤ï¼Œä¿è¯ä½“éªŒå¯æ§ï¼‰</li>
<li>é£æ§ï¼šç™½åå•èƒ½åŠ›ã€åŠ¨ä½œç¡®è®¤ã€æ—¥å¿—å®¡è®¡</li>
</ul>
<hr/>
<h3 data-id="heading-16">B4. å¯å¯¹å¤–/å¯¹å†…çš„ç°å®ç»“è®ºï¼ˆå»ºè®®å£å¾„ï¼‰</h3>
<ul>
<li>â€œè¯­éŸ³æ‰“å¼€ Appâ€æ˜¯ <strong>ä½é£é™©ã€æœ€ç¨³å®š</strong> çš„åŸºç¡€èƒ½åŠ›</li>
<li>â€œè·¨ App ç²¾å‡†æ‰§è¡Œå¤æ‚ä»»åŠ¡â€å»ºè®®èµ° <strong>åˆ†å±‚ç­–ç•¥</strong>ï¼š
<ul>
<li>æœ‰ deep link ç”¨ deep link</li>
<li>èƒ½åˆä½œå°±èµ°åˆä½œæ¥å£</li>
<li>æ— éšœç¢åªåšä½é£é™©å…œåº•ï¼Œå¹¶ä¸¥æ ¼åšé™çº§ä¸ç¡®è®¤</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºLabel Studio é›†æˆè§†è§‰å¤§æ¨¡å‹Qwen2-VLå’Œyoloå®ç°è‡ªåŠ¨æ ‡æ³¨]]></title>    <link>https://juejin.cn/post/7585039706611908623</link>    <guid>https://juejin.cn/post/7585039706611908623</guid>    <pubDate>2025-12-19T03:19:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585039706611908623" data-draft-id="7585083729972101172" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºLabel Studio é›†æˆè§†è§‰å¤§æ¨¡å‹Qwen2-VLå’Œyoloå®ç°è‡ªåŠ¨æ ‡æ³¨"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-19T03:19:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·27199537213"/> <meta itemprop="url" content="https://juejin.cn/user/4009252826909578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºLabel Studio é›†æˆè§†è§‰å¤§æ¨¡å‹Qwen2-VLå’Œyoloå®ç°è‡ªåŠ¨æ ‡æ³¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4009252826909578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·27199537213
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:19:59.000Z" title="Fri Dec 19 2025 03:19:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Label Studioä»‹ç»</strong>ï¼šLabel Studio æ˜¯ä¸€æ¬¾å¼€æºçš„æ•°æ®æ ‡ç­¾å·¥å…·ã€‚å®ƒå…è®¸ä½ ç”¨ç®€å•ç›´æ¥çš„ç•Œé¢ä¸ºéŸ³é¢‘ã€æ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘å’Œæ—¶é—´åºåˆ—ç­‰æ•°æ®ç±»å‹å‘½åï¼Œå¹¶å¯¼å‡ºä¸ºå¤šç§æ¨¡å‹æ ¼å¼ã€‚å®ƒå¯ä»¥ç”¨äºå‡†å¤‡åŸå§‹æ•°æ®æˆ–æ”¹è¿›ç°æœ‰è®­ç»ƒæ•°æ®ï¼Œä»¥è·å¾—æ›´å‡†ç¡®çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚</p>
<p>Label Studioæºä»£ç åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio%2F" target="_blank" title="https://github.com/HumanSignal/label-studio/" ref="nofollow noopener noreferrer">github.com/HumanSignalâ€¦</a></p>
<p>Label Studioç•Œé¢å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a959a8db75c49aeaa3248cf1d3ade44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=nMV3q9xvh4UBOlF2u0actd0hUHQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>Label Studio ML backend</strong>ï¼šLabel Studio æœºå™¨å­¦ä¹ åç«¯æ˜¯ä¸€ä¸ª SDKï¼Œå¯ä»¥è®©ä½ æŠŠæœºå™¨å­¦ä¹ ä»£ç æ‰“åŒ…æˆ Web æœåŠ¡å™¨ã€‚è¯¥ç½‘é¡µæœåŠ¡å™¨å¯ä»¥è¿æ¥åˆ°æ­£åœ¨è¿è¡Œçš„ Label Studio å®ä¾‹ï¼Œä»¥å®ç°è‡ªåŠ¨åŒ–æ ‡ç­¾ä»»åŠ¡ã€‚
Githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio-ml-backend" target="_blank" title="https://github.com/HumanSignal/label-studio-ml-backend" ref="nofollow noopener noreferrer">Label Studio ML backend</a></p>
<p>ä¸‹é¢ä»‹ç»ä½¿ç”¨è§†è§‰å¤§æ¨¡å‹Qwen2-VLä½œä¸ºML backendå®ç°è‡ªåŠ¨æ ‡æ³¨</p>
<h2 data-id="heading-0">ç¯å¢ƒæ­å»º</h2>
<h3 data-id="heading-1">ç¡¬ä»¶é…ç½®</h3>
<p>æˆ‘æ˜¯åœ¨AutoDLç½‘ç«™ä¸Šï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.autodl.com%2Fhome" target="_blank" title="https://www.autodl.com/home" ref="nofollow noopener noreferrer">www.autodl.com/home</a>ï¼‰ç§Ÿçš„äº‘æœåŠ¡å™¨ï¼Œè§„æ ¼é…ç½®å¦‚ä¸‹å›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7837f023f227466f84baaa7075477b56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=9ZdipRe2OetR8JDBNKW1FrMrnoI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-2">1.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3>
<pre><code class="hljs language-python" lang="python">conda create -n labels python=<span class="hljs-number">3.10</span>
</code></pre>
<h3 data-id="heading-3">2.å®‰è£… Label Studio</h3>
<pre><code class="hljs language-python" lang="python">pip install label-studio
</code></pre>
<p>æœ€ç»ˆå®‰è£…çš„ç‰ˆæœ¬å¦‚ä¸‹
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/baaa591915d0464f85ec2368b6f60f34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=VedZEpswNzgfmFDb6cknHW8ahI8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-4">3.é…ç½® Label Studio æ•°æ®ç›®å½•</h3>
<p>é»˜è®¤æ•°æ®å­˜å‚¨åœ¨ ~/.local/share/label-studio,å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡æ–°é…ç½®ç›®å½•</p>
<pre><code class="hljs language-python" lang="python">export LABEL_STUDIO_LOCAL_FILES_SERVING_ENABLED=true
export LABEL_STUDIO_LOCAL_FILES_DOCUMENT_ROOT=autodl-tmp/label-studio-develop/data
</code></pre>
<h2 data-id="heading-5">å¼€å‘ ML Backend æœåŠ¡</h2>
<h3 data-id="heading-6">1.å®‰è£… Backend ä¾èµ–</h3>
<pre><code class="hljs language-python" lang="python">pip install flask requests pillow python-dotenv gunicorn
</code></pre>
<h3 data-id="heading-7">2.åˆ›å»ºé¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-python" lang="python">mkdir -p ml_backend
cd ml_backend
</code></pre>
<h3 data-id="heading-8">3.åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ .env</h3>
<pre><code class="hljs language-python" lang="python">nano .env
</code></pre>
<p>å¡«å…¥ Qwen-VL ç›¸å…³APIè°ƒç”¨ä¿¡æ¯</p>
<pre><code class="hljs language-python" lang="python">QWEN_API_KEY=HHKM7PMBA4SKWMRZFQMLGZL73IMSU******
QWEN_BASE_URL=https://ai.gitee.com/v1/chat/completions
MODEL_NAME= Qwen2-VL-72B
</code></pre>
<h3 data-id="heading-9">4.ç¼–å†™ Backend ä»£ç  app.py</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># app.py</span>
<span class="hljs-comment"># ä¿®æ”¹ç‚¹ï¼šä½¿ç”¨å½’ä¸€åŒ–åæ ‡è¾“å‡º bbox</span>
<span class="hljs-comment"># ä¿®æ”¹Prompt,æ¡†é€‰ç»“æœæ›´å‡†ç¡®å®Œæ•´</span>

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> io
<span class="hljs-keyword">import</span> base64
<span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, jsonify
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> urllib.parse

load_dotenv()

app = Flask(__name__)
logging.basicConfig(level=logging.INFO)

API_KEY = os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)
BASE_URL = os.getenv(<span class="hljs-string">"QWEN_BASE_URL"</span>)
MODEL_NAME = os.getenv(<span class="hljs-string">"MODEL_NAME"</span>, <span class="hljs-string">"qwen-vl-plus"</span>)

<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> API_KEY:
    <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"âŒ Missing QWEN_API_KEY in .env file!"</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">call_qwen_vl</span>(<span class="hljs-params">image_b64: <span class="hljs-built_in">str</span>, prompt: <span class="hljs-built_in">str</span></span>):
    headers = {
        <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Bearer <span class="hljs-subst">{API_KEY}</span>"</span>,
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
    }
    payload = {
        <span class="hljs-string">"model"</span>: MODEL_NAME,
        <span class="hljs-string">"messages"</span>: [
            {
                <span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>,
                <span class="hljs-string">"content"</span>: (
                    <span class="hljs-string">"You are an expert object detector. "</span>
                    <span class="hljs-string">"Only output a strict JSON with NO explanation, markdown, or extra text. "</span>
                    <span class="hljs-string">"Use ONLY these labels: Airplane, Drone, Helicopter, Bird. "</span>
                    <span class="hljs-string">"The 'bbox' must be in normalized coordinates (0.0 to 1.0) relative to image width and height: [x1_norm, y1_norm, x2_norm, y2_norm], where (0,0) is top-left and (1,1) is bottom-right. "</span>
                    <span class="hljs-string">"Example: {\"objects\":[{\"label\":\"Airplane\",\"bbox\":[0.062,0.119,0.143,0.211]}]}"</span>
                )
            },
            {
                <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
                <span class="hljs-string">"content"</span>: [
                    {<span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>, <span class="hljs-string">"image_url"</span>: {<span class="hljs-string">"url"</span>: <span class="hljs-string">f"data:image/jpeg;base64,<span class="hljs-subst">{image_b64}</span>"</span>}},
                    {<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>, <span class="hljs-string">"text"</span>: prompt}
                ]
            }
        ],
        <span class="hljs-string">"stream"</span>: <span class="hljs-literal">False</span>,
        <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">1024</span>,
        <span class="hljs-string">"temperature"</span>: <span class="hljs-number">0.2</span>
    }

    <span class="hljs-keyword">try</span>:
        response = requests.post(BASE_URL, headers=headers, json=payload, timeout=<span class="hljs-number">30</span>)
        response.raise_for_status()
        data = response.json()
        content = data[<span class="hljs-string">'choices'</span>][<span class="hljs-number">0</span>][<span class="hljs-string">'message'</span>][<span class="hljs-string">'content'</span>]
        <span class="hljs-keyword">return</span> content
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        logging.error(<span class="hljs-string">f"Qwen API error: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-string">'response'</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">locals</span>() <span class="hljs-keyword">and</span> <span class="hljs-built_in">hasattr</span>(response, <span class="hljs-string">'text'</span>):
            logging.error(<span class="hljs-string">f"API Response: <span class="hljs-subst">{response.text}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>


<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/predict'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">predict</span>():
    <span class="hljs-keyword">try</span>:
        tasks = request.json.get(<span class="hljs-string">'tasks'</span>, [])
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> tasks:
            <span class="hljs-keyword">return</span> jsonify([])

        task = tasks[<span class="hljs-number">0</span>]

        <span class="hljs-comment"># ğŸ”’ å…³é”®ä¿®å¤ï¼šè·³è¿‡å·²æœ‰æ ‡æ³¨çš„ä»»åŠ¡ï¼Œé¿å…é”å†²çª</span>
        <span class="hljs-keyword">if</span> task.get(<span class="hljs-string">'annotations'</span>) <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(task[<span class="hljs-string">'annotations'</span>]) &gt; <span class="hljs-number">0</span>:
            logging.info(<span class="hljs-string">"Task already annotated, skipping prediction to avoid lock conflict."</span>)
            <span class="hljs-keyword">return</span> jsonify([])

        image_data = task[<span class="hljs-string">'data'</span>][<span class="hljs-string">'image'</span>]
        logging.info(<span class="hljs-string">f"Received image_data: <span class="hljs-subst">{image_data}</span>"</span>)

        <span class="hljs-comment"># ==== è¯»å–å›¾ç‰‡ ====</span>
        img_bytes = <span class="hljs-literal">None</span>
        <span class="hljs-keyword">if</span> image_data.startswith(<span class="hljs-string">'/data/upload/'</span>):
            rel_path = urllib.parse.unquote(image_data[<span class="hljs-built_in">len</span>(<span class="hljs-string">'/data/upload/'</span>):])
            real_path = os.path.join(<span class="hljs-string">'/root/.local/share/label-studio/media/upload'</span>, rel_path)
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(real_path, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:
                img_bytes = f.read()
        <span class="hljs-keyword">elif</span> image_data.startswith(<span class="hljs-string">'data:image'</span>):
            img_bytes = base64.b64decode(image_data.split(<span class="hljs-string">','</span>, <span class="hljs-number">1</span>)[<span class="hljs-number">1</span>])
        <span class="hljs-keyword">else</span>:
            img_bytes = requests.get(image_data, timeout=<span class="hljs-number">10</span>).content

        img = Image.<span class="hljs-built_in">open</span>(io.BytesIO(img_bytes))
        w, h = img.size
        logging.info(<span class="hljs-string">f"âœ… Original image dimensions: width=<span class="hljs-subst">{w}</span>, height=<span class="hljs-subst">{h}</span>"</span>)

        <span class="hljs-comment"># è½¬ JPEG å†ç¼–ç </span>
        buf = io.BytesIO()
        img.save(buf, <span class="hljs-built_in">format</span>=<span class="hljs-string">"JPEG"</span>)
        image_b64 = base64.b64encode(buf.getvalue()).decode(<span class="hljs-string">'utf-8'</span>)

        <span class="hljs-comment"># ==== è°ƒ LLM ====</span>
        prompt = (
            <span class="hljs-string">"Detect ALL instances of Airplane, Drone, Helicopter, or Bird in the image. "</span>
            <span class="hljs-string">"For each object, return a bounding box that fully contains the entire object, "</span>
            <span class="hljs-string">"including wings, tail, engines, and fuselage. "</span>
            <span class="hljs-string">"Do NOT cut off any part of the object. "</span>
            <span class="hljs-string">"Use normalized coordinates [x1_norm, y1_norm, x2_norm, y2_norm], "</span>
            <span class="hljs-string">"where (0,0) is top-left and (1,1) is bottom-right. "</span>
            <span class="hljs-string">"Only output valid JSON with no extra text. "</span>
            <span class="hljs-string">"Example: {\"objects\":[{\"label\":\"Airplane\",\"bbox\":[0.062,0.119,0.857,0.421]}]}"</span>
        )

        result_str = call_qwen_vl(image_b64, prompt)
        logging.info(<span class="hljs-string">f"Model response raw: <span class="hljs-subst">{result_str}</span>"</span>)

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> result_str:
            <span class="hljs-keyword">return</span> jsonify([])

        <span class="hljs-comment"># ==== æ¸…æ´— JSON ====</span>
        clean_str = result_str.strip()
        <span class="hljs-keyword">if</span> clean_str.count(<span class="hljs-string">"{"</span>) &gt; clean_str.count(<span class="hljs-string">"}"</span>):
            clean_str += <span class="hljs-string">"}"</span> * (clean_str.count(<span class="hljs-string">"{"</span>) - clean_str.count(<span class="hljs-string">"}"</span>))
        <span class="hljs-keyword">if</span> clean_str.count(<span class="hljs-string">"["</span>) &gt; clean_str.count(<span class="hljs-string">"]"</span>):
            clean_str += <span class="hljs-string">"]"</span> * (clean_str.count(<span class="hljs-string">"["</span>) - clean_str.count(<span class="hljs-string">"]"</span>))

        <span class="hljs-keyword">try</span>:
            result = json.loads(clean_str)
        <span class="hljs-keyword">except</span> json.JSONDecodeError <span class="hljs-keyword">as</span> e:
            logging.error(<span class="hljs-string">f"JSON decode error: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> jsonify([])

        <span class="hljs-comment"># ==== ç»„è£… Label Studio æ ‡æ³¨ ====</span>
        ls_results = []
        <span class="hljs-keyword">for</span> obj <span class="hljs-keyword">in</span> result.get(<span class="hljs-string">"objects"</span>, []):
            <span class="hljs-keyword">try</span>:
                label = obj.get(<span class="hljs-string">"label"</span>)
                bbox = obj.get(<span class="hljs-string">"bbox"</span>)

                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> bbox <span class="hljs-keyword">or</span> <span class="hljs-built_in">len</span>(bbox) != <span class="hljs-number">4</span>:
                    <span class="hljs-keyword">continue</span>

                x1, y1, x2, y2 = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">float</span>, bbox)
                logging.info(<span class="hljs-string">f"Raw normalized bbox from model: x1=<span class="hljs-subst">{x1:<span class="hljs-number">.4</span>f}</span>, y1=<span class="hljs-subst">{y1:<span class="hljs-number">.4</span>f}</span>, x2=<span class="hljs-subst">{x2:<span class="hljs-number">.4</span>f}</span>, y2=<span class="hljs-subst">{y2:<span class="hljs-number">.4</span>f}</span>"</span>)

                <span class="hljs-comment"># ç›´æ¥ä¹˜ä»¥ 100 è½¬ä¸º Label Studio ç™¾åˆ†æ¯”</span>
                x = x1 * <span class="hljs-number">100.0</span>
                y = y1 * <span class="hljs-number">100.0</span>
                width = (x2 - x1) * <span class="hljs-number">100.0</span>
                height = (y2 - y1) * <span class="hljs-number">100.0</span>

                <span class="hljs-comment"># è¾¹ç•Œå®‰å…¨</span>
                x = <span class="hljs-built_in">max</span>(<span class="hljs-number">0.0</span>, <span class="hljs-built_in">min</span>(<span class="hljs-number">100.0</span>, x))
                y = <span class="hljs-built_in">max</span>(<span class="hljs-number">0.0</span>, <span class="hljs-built_in">min</span>(<span class="hljs-number">100.0</span>, y))
                width = <span class="hljs-built_in">max</span>(<span class="hljs-number">0.0</span>, <span class="hljs-built_in">min</span>(<span class="hljs-number">100.0</span> - x, width))
                height = <span class="hljs-built_in">max</span>(<span class="hljs-number">0.0</span>, <span class="hljs-built_in">min</span>(<span class="hljs-number">100.0</span> - y, height))

                logging.info(<span class="hljs-string">f"Computed LS coords: x=<span class="hljs-subst">{x:<span class="hljs-number">.4</span>f}</span>, y=<span class="hljs-subst">{y:<span class="hljs-number">.4</span>f}</span>, width=<span class="hljs-subst">{width:<span class="hljs-number">.4</span>f}</span>, height=<span class="hljs-subst">{height:<span class="hljs-number">.4</span>f}</span>"</span>)

                ls_results.append({
                    <span class="hljs-string">"from_name"</span>: <span class="hljs-string">"label"</span>,
                    <span class="hljs-string">"to_name"</span>: <span class="hljs-string">"image"</span>,
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"rectanglelabels"</span>,
                    <span class="hljs-string">"value"</span>: {
                        <span class="hljs-string">"x"</span>: <span class="hljs-built_in">round</span>(x, <span class="hljs-number">2</span>),
                        <span class="hljs-string">"y"</span>: <span class="hljs-built_in">round</span>(y, <span class="hljs-number">2</span>),
                        <span class="hljs-string">"width"</span>: <span class="hljs-built_in">round</span>(width, <span class="hljs-number">2</span>),
                        <span class="hljs-string">"height"</span>: <span class="hljs-built_in">round</span>(height, <span class="hljs-number">2</span>),
                        <span class="hljs-string">"rotation"</span>: <span class="hljs-number">0</span>,
                        <span class="hljs-string">"rectanglelabels"</span>: [label]
                    }
                })
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                logging.error(<span class="hljs-string">f"Error processing object <span class="hljs-subst">{obj}</span>: <span class="hljs-subst">{e}</span>"</span>)
                <span class="hljs-keyword">continue</span>

        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">"results"</span>: [
                {
                    <span class="hljs-string">"result"</span>: ls_results,
                    <span class="hljs-string">"score"</span>: <span class="hljs-number">1.0</span>,
                    <span class="hljs-string">"model_version"</span>: <span class="hljs-string">"qwen-vl"</span>
                }
            ]
        })

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        logging.exception(<span class="hljs-string">"predict error"</span>)
        <span class="hljs-keyword">return</span> jsonify([])


<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/health'</span>, methods=[<span class="hljs-string">'GET'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">health</span>():
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"status"</span>: <span class="hljs-string">"ok"</span>})


<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/setup'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>():
    <span class="hljs-keyword">return</span> jsonify({
        <span class="hljs-string">"model_name"</span>: <span class="hljs-string">"Qwen-VL"</span>,
        <span class="hljs-string">"supported_tasks"</span>: [<span class="hljs-string">"image"</span>],
        <span class="hljs-string">"supported_label_config"</span>: {
            <span class="hljs-string">"from_name"</span>: <span class="hljs-string">"label"</span>,
            <span class="hljs-string">"to_name"</span>: <span class="hljs-string">"image"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"rectanglelabels"</span>,
            <span class="hljs-string">"labels"</span>: [<span class="hljs-string">"Airplane"</span>, <span class="hljs-string">"Drone"</span>, <span class="hljs-string">"Helicopter"</span>, <span class="hljs-string">"Bird"</span>]
        }
    })


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    app.run(host=<span class="hljs-string">'0.0.0.0'</span>, port=<span class="hljs-number">6008</span>, debug=<span class="hljs-literal">False</span>)
</code></pre>
<h3 data-id="heading-10">5.å¯åŠ¨ ML Backend æœåŠ¡</h3>
<p>æˆ‘åœ¨autodläº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²ï¼Œé»˜è®¤åªå¼€æ”¾6006å’Œ6008ç«¯å£ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65b0b85cd6bc4642b09e4b02b00aa1f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=MrTUOsTqQDBb0HTLPOSf1l%2Fu97A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
æˆ‘åœ¨6008ç«¯å£è¿è¡ŒML Backend æœåŠ¡ï¼Œåœ¨6006ç«¯å£å¯åŠ¨ Label Studioã€‚å¯åŠ¨å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¿”å› ml_backend ç›®å½•ï¼ˆç¡®ä¿ .env å’Œ app.py åœ¨å½“å‰ç›®å½•ï¼‰</span>
cd ml_backend
<span class="hljs-comment"># å¯åŠ¨æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰</span>
nohup gunicorn -w <span class="hljs-number">2</span> -b <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">6008</span> app:app &gt; backend.log <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> &amp;
</code></pre>
<p>-w 2ï¼šå¯åŠ¨ 2 ä¸ªå·¥ä½œè¿›ç¨‹ã€‚
-b 0.0.0.0:9090ï¼šç›‘å¬æ‰€æœ‰ IP çš„ 6008 ç«¯å£ã€‚
nohup ... &amp;ï¼šä½¿è¿›ç¨‹åœ¨ SSH æ–­å¼€åç»§ç»­è¿è¡Œã€‚
æ—¥å¿—è¾“å‡ºåˆ° backend.logã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91d4b8d323e046968f7858e2268f29a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=byOF8UJjA%2BS4xLHwOasPV0U61%2Fw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-11">6.é…ç½® Label Studio é¡¹ç›®</h3>
<h4 data-id="heading-12">6.1å¯åŠ¨ Label Studioï¼ˆåå°ï¼‰</h4>
<pre><code class="hljs language-ruby" lang="ruby">nohup label-studio start --host <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span> --port <span class="hljs-number">6006</span> --no-browser &gt; labelstudio.log <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> &amp;
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb4f17cb771a471687af15d2eb1b4a10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=pOn%2BDjlcTzp3amIzCgWWl2ergnE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
ä¸Šè¿°ä¸¤ä¸ªæœåŠ¡éƒ½å¯åŠ¨ä¹‹åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®http://&lt;your_server_ip&gt;:port
æˆ‘è®¿é—®é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fu29412-bcfe-070309f1.westc.gpuhub.com%3A8443%2F" target="_blank" title="https://u29412-bcfe-070309f1.westc.gpuhub.com:8443/" ref="nofollow noopener noreferrer">u29412-bcfe-070309f1.westc.gpuhub.com:8443/</a></p>
<p>å¯çœ‹åˆ°Label Studioç™»å½•é¡µé¢ï¼Œç¬¬ä¸€æ¬¡è®¿é—®éœ€è¦æ³¨å†Œè´¦å·ï¼Œåé¢å°±å¯ä»¥ç›´æ¥ç™»å½•äº†ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f05d2ccf35fe44bbbb9fe3d6b87d069b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=OpHFed7%2FpNfKqKakBZPo4XmJsDo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
è¿™é‡Œå¯èƒ½ä¼šé‡åˆ°æŠ¥é”™ä¿¡æ¯ï¼Œç™»å½•ç•Œé¢æ³¨å†Œå¯èƒ½ä¼šæŠ¥é”™ï¼Œlabelstudioæ²¡æœ‰è¯†åˆ«åŸŸåä¸ºå¯ä¿¡æº
éœ€è¦åœ¨ä¸Šé¢åˆ›å»ºçš„.envæ–‡ä»¶ä¸­åŠ ä¸Šç¯å¢ƒå˜é‡ï¼Œè¿™æ ·æ¯æ¬¡å¯åŠ¨label studioæœåŠ¡çš„æ—¶å€™å°±ä¼šè¯»å–ç¯å¢ƒå˜é‡ã€‚</p>
<pre><code class="hljs language-python" lang="python">export LABEL_STUDIO_ALLOWED_HOSTS=<span class="hljs-string">"localhost,127.0.0.1,u29412-bcfe-070309f1.westc.gpuhub.com"</span>
export LABEL_STUDIO_CSRF_TRUSTED_ORIGINS=<span class="hljs-string">"https://u29412-bcfe-070309f1.westc.gpuhub.com:8443"</span>
export LABEL_STUDIO_SECURE_PROXY_SSL_HEADER=<span class="hljs-string">"HTTP_X_FORWARDED_PROTO=https"</span>
export LABEL_STUDIO_DEBUG=<span class="hljs-literal">True</span>
</code></pre>
<p><strong>ä¸Šé¢ä¿¡æ¯éœ€è¦æ ¹æ®è‡ªèº«æƒ…å†µè®¾å®šï¼Œå°†è¦è®¿é—®çš„åŸŸååŠ å…¥ç™½åå•</strong></p>
<p>æ³¨å†Œç™»å½•æˆåŠŸä¹‹åï¼Œæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e02e1a53cf344a2a40f2a3bf6b52c4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=dcPXZOnj3eeCX89nFvMlGp5Pb0A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-13">6.2 åˆ›å»ºé¡¹ç›®</h4>
<p>ç‚¹å‡»Create Projectï¼Œåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68aac1cd47014b308ae6ef64c1a05570~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=wRFjpMGJ1Btmisr9Tbf4NgvOEtk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
ç‚¹å‡»Labeling Interface,åœ¨Labelä¸­å¡«å…¥ä½ çš„æ•°æ®é›†è¦†ç›–çš„æ ‡ç­¾ï¼Œç‚¹å‡»Saveã€‚</p>
<pre><code class="hljs language-python" lang="python">&lt;View&gt;
  &lt;Image name=<span class="hljs-string">"image"</span> value=<span class="hljs-string">"$image"</span>/&gt;
  &lt;RectangleLabels name=<span class="hljs-string">"label"</span> toName=<span class="hljs-string">"image"</span>&gt;
    &lt;Label value=<span class="hljs-string">"Airplane"</span> background=<span class="hljs-string">"green"</span>/&gt;
    &lt;Label value=<span class="hljs-string">"Drone"</span> background=<span class="hljs-string">"#FFA39E"</span>/&gt;
    &lt;Label value=<span class="hljs-string">"Helicopter"</span> background=<span class="hljs-string">"#D4380D"</span>/&gt;
    &lt;Label value=<span class="hljs-string">"Bird"</span> background=<span class="hljs-string">"#FFC069"</span>/&gt;
  &lt;/RectangleLabels&gt;
&lt;/View&gt;
</code></pre>
<h4 data-id="heading-14">6.3é…ç½® ML Backend</h4>
<p>è¿›å…¥é¡¹ç›® â†’ Settings (âš™ï¸) â†’ Modelå¡«å…¥Nameå’ŒBackend URL
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76670b3822de4ba9a254e1791849dde0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=dju9kPv0Jw3g%2BhMCG8ZTRVaJekw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
URLåº”å¡«ML backendæœåŠ¡å¯¹åº”çš„åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuu29412-bcfe-070309f1.westc.gpuhub.com%3A8443" target="_blank" title="https://uu29412-bcfe-070309f1.westc.gpuhub.com:8443" ref="nofollow noopener noreferrer">uu29412-bcfe-070309f1.westc.gpuhub.com:8443</a>
å¯èƒ½å‡ºç°éªŒè¯é”™è¯¯
è§£å†³æ–¹æ³•ï¼šapp.py å¿…é¡»è¿”å›ä¸€ä¸ª å¯è¢« JSON è§£æçš„å†…å®¹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> json
<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/health'</span>, methods=[<span class="hljs-string">'GET'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">health</span>():
    <span class="hljs-keyword">return</span> json.dumps({<span class="hljs-string">"status"</span>: <span class="hljs-string">"ok"</span>}), <span class="hljs-number">200</span>, {<span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>}
</code></pre>
<p>æ¥ç€åˆæŠ¥é”™ï¼š
Runtime error
Validation error
â— Successfully connected to <a href="https://link.juejin.cn?target=https%3A%2F%2Fuu29412-bcfe-070309f1.westc.gpuhub.com%3A8443" target="_blank" title="https://uu29412-bcfe-070309f1.westc.gpuhub.com:8443" ref="nofollow noopener noreferrer">uu29412-bcfe-070309f1.westc.gpuhub.com:8443</a> but it doesn't look like a valid ML backend. Reason: 404 Client Error: Not Found for url: <a href="https://link.juejin.cn?target=https%3A%2F%2Fuu29412-bcfe-070309f1.westc.gpuhub.com%3A8443%2Fsetup" target="_blank" title="https://uu29412-bcfe-070309f1.westc.gpuhub.com:8443/setup" ref="nofollow noopener noreferrer">uu29412-bcfe-070309f1.westc.gpuhub.com:8443/setup</a>. Check the ML backend server console logs to check the status.There might be something wrong with your model or it might be incompatible with the current labeling configuration.
è§£å†³æ–¹æ³•ï¼š
å®ç° /setup è·¯ç”±ï¼Œè¿”å›å½“å‰æ¨¡å‹æ”¯æŒçš„ Label Studio æ ‡æ³¨é…ç½®ä¿¡æ¯</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/setup'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>():
    <span class="hljs-comment"># è¿”å›æ¨¡å‹æ”¯æŒçš„æ ‡ç­¾é…ç½®</span>
    <span class="hljs-keyword">return</span> jsonify({
        <span class="hljs-string">"model_name"</span>: <span class="hljs-string">"Qwen-VL"</span>,
        <span class="hljs-string">"supported_tasks"</span>: [<span class="hljs-string">"image"</span>],
        <span class="hljs-string">"supported_label_config"</span>: {
            <span class="hljs-string">"from_name"</span>: <span class="hljs-string">"label"</span>,          <span class="hljs-comment"># å¯¹åº”ä½ çš„ labeling config ä¸­çš„ from_name</span>
            <span class="hljs-string">"to_name"</span>: <span class="hljs-string">"image"</span>,            <span class="hljs-comment"># å¯¹åº” to_name</span>
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"rectanglelabels"</span>,     <span class="hljs-comment"># æ ‡æ³¨ç±»å‹</span>
            <span class="hljs-string">"labels"</span>: [<span class="hljs-string">"Airplane"</span>, <span class="hljs-string">"Drone"</span>, <span class="hljs-string">"Helicopter"</span>, <span class="hljs-string">"Bird"</span>]  <span class="hljs-comment"># å¯é€‰ï¼šæ¨¡å‹èƒ½è¯†åˆ«çš„ç±»åˆ«ï¼ˆå¯åŠ¨æ€è·å–ï¼‰</span>
        }
    })
</code></pre>
<p>å†æ¬¡è¿”å›æ¨¡å‹è¿æ¥é¡µé¢ï¼Œæ˜¾ç¤ºè¿æ¥æˆåŠŸ
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e26a6b858bd4f80b2ed755f447a0266~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=Jqh38VNxndYybfiVM6%2Ftdc5I%2F7Y%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
é…ç½®æˆåŠŸåå¯è¿”å›é¡¹ç›®é¡µé¢ï¼Œå¯¼å…¥å›¾ç‰‡<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d54bb1ae22294f9fbc4bf5387aea9bd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=vkiF5OZQR4lulso1oyG7BRjd0cw%3D" alt="å›¾ç‰‡" loading="lazy"/>
ç‚¹å‡»Label All Taskså¯ä»¥è¿›è¡Œè‡ªåŠ¨æ ‡æ³¨
åªé›†æˆè§†è§‰å¤§æ¨¡å‹ï¼Œæ ‡æ³¨æ•ˆæœè¿˜ä¸å¤Ÿç²¾ç¡®ï¼Œæ ‡ç­¾éƒ½èƒ½æ‰“æ­£ç¡®ï¼Œä½†æ˜¯ç”»æ¡†ä¸å‡†ï¼Œä¸èƒ½å®Œå…¨è¦†ç›–ç›®æ ‡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35652719e8544af5908c12beb6dc695a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=QyJEvxTDTZ0PDUWp%2FKqxVkbTfm0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-15">6.4è‡ªåŠ¨æ ‡æ³¨æ•ˆæœæå‡</h4>
<p>åé¢æƒ³äº†ä¸€ä¸ª<strong>è§£å†³æ€è·¯</strong>ï¼šé¦–å…ˆç”¨è½»é‡çº§ YOLOv10 æ£€æµ‹å›¾åƒä¸­å¯èƒ½å±äºç©ºä¸­ç›®æ ‡ï¼ˆå¦‚é£æœºã€é¸Ÿã€é£ç­ç­‰ï¼‰çš„åŒºåŸŸï¼Œå†å°†æ¯ä¸ªå€™é€‰åŒºåŸŸè£å‰ªåé€å…¥ Qwen-VL å¤šæ¨¡æ€å¤§æ¨¡å‹è¿›è¡Œç»†ç²’åº¦åˆ†ç±»ï¼Œä»…ä¿ç•™è¢«ç¡®è®¤ä¸º è®¾å®šæ ‡ç­¾çš„ç»“æœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38ebc9b1e70545f3862addff35f8b8dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=oJ%2B5qLZvbPTd9S9oDMQB3SCyydI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
æ”¹è¿›åä»£ç å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/daef855f36a347b887b762b2fde1eac7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=xq8cwZ5fJ6Kmn7WSL2xIxkXRt%2BE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æœ€ç»ˆæ ‡æ³¨æ•ˆæœ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a6386100120489d96bf14f0df474083~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjcxOTk1MzcyMTM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766719199&amp;x-signature=Bb6JPJ9ahZI38DMEl%2F%2Bc7UdBYHc%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¼–ç¨‹ä¹‹è·¯ 2025å¹´ç»ˆæ€»ç»“ ï¼Œå‹‡å¾€ç›´å‰ å†æˆ˜æ±Ÿæ¹–]]></title>    <link>https://juejin.cn/post/7585091990346956836</link>    <guid>https://juejin.cn/post/7585091990346956836</guid>    <pubDate>2025-12-19T02:33:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585091990346956836" data-draft-id="7585206549284208681" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¼–ç¨‹ä¹‹è·¯ 2025å¹´ç»ˆæ€»ç»“ ï¼Œå‹‡å¾€ç›´å‰ å†æˆ˜æ±Ÿæ¹–"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-19T02:33:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xq9527"/> <meta itemprop="url" content="https://juejin.cn/user/1239904848712184"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¼–ç¨‹ä¹‹è·¯ 2025å¹´ç»ˆæ€»ç»“ ï¼Œå‹‡å¾€ç›´å‰ å†æˆ˜æ±Ÿæ¹–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904848712184/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xq9527
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T02:33:30.000Z" title="Fri Dec 19 2025 02:33:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">å‰è¨€å¯¼è¯»</h4>
<p>å„ä½åŒå­¦å¤§å®¶å¥½ï¼Œæœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰è·Ÿå¤§å®¶è§é¢äº†ï¼Œå› ä¸ºæœ€è¿‘å·¥ä½œå¾ˆå¿™ æ‰€ä»¥æ›´æ–°æ–‡ç« é¢‘ç‡æ²¡æœ‰é‚£ä¹ˆé«˜äº†ï¼Œ 2025å¹´ä¹Ÿé©¬ä¸Šè¦è¿‡å®Œäº†ï¼Œæˆ‘ä¹Ÿå®Œæˆäº†è‡ªå·±çš„ä¸€äº›ç›®æ ‡ï¼Œä¹Ÿç»å†å¾ˆå¤šäº‹, æ‰€ä»¥èƒ½æƒ³ç€åšä¸€ä¸ªçš„æ€»ç»“ï¼Œç„¶åä¹Ÿæ˜¯å±•æœ›2026å¹´èƒ½ä¸ºç¤¾åŒºå’Œå„ä½ç½‘é¡µè´¡çŒ®æ›´å¤šæœ‰ç”¨çš„ä¼˜è´¨ä»£ç å’Œæ–‡ç« ,åˆ†äº«ç»™å¤§å®¶ï¼Œä¹Ÿå¸Œæœ›è®©è‡ªå·±çš„ç»å†èƒ½æ¿€åŠ±æ›´å¤šçš„å¹´è½»äººå‹‡å¾€ç›´å‰ å†æˆ˜æ±Ÿæ¹–ã€‚</p>
<ul>
<li>
<h4 data-id="heading-1">ç»å†2024ç”Ÿæ´»é‡åˆ›åçš„æˆ‘æ›´åŠ åšå¼º</h4>
</li>
</ul>
<p>å› ä¸º2024å®¶é‡Œé‡åˆ°å˜æ•…åŸå› ï¼Œä¸€æ™ƒæ—¶é—´è¿‡å»è¿™ä¹ˆä¹…ã€‚æˆ‘ä¹ŸåšæŒºè¿‡æ¥ï¼Œæœ‰äº‹ç¬‘ä¸€ç¬‘å›°éš¾å’Œç—›è‹¦å°±åšæŒºè¿‡æ¥äº†ï¼Œ è™½ç„¶å…¶ä¸­è¾›é…¸åªæœ‰è‡ªå·±çŸ¥é“ï¼Œä½†æ˜¯ä¹Ÿæ˜¯è®©æˆ‘èƒ½æ›´åŠ åšå¼ºè‡ªä¿¡ å‹‡å¾€ç›´å‰ å†æˆ˜æ±Ÿæ¹–</p>
<p><a href="https://juejin.cn/post/7386497602193604649" target="_blank" title="https://juejin.cn/post/7386497602193604649"># 2024å¹´ä¸­æ€»ç»“ ä¸¾æ­¥ç»´è‰° ç»å¤„é€¢ç”Ÿï¼Ÿï¼Ÿï¼Ÿ</a></p>
<h4 data-id="heading-2">ä¸ªäººæˆå°±</h4>
<ul>
<li>
<h5 data-id="heading-3">è£è·æ˜é‡‘ä¼˜è´¨ä½œè€…æœˆæ¦œç¬¬åä¸€å</h5>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d0d17a76c964eb1a9a9a839400b7b62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=Fnp0lMDMrnxp2WxCrq7aS49Zttw%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<h5 data-id="heading-4">2025å¹´ 4æœˆ26æ—¥æ´»åŠ¨å˜‰å®¾è®²å¸ˆ</h5>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e5152de59db4bd0a310d6c64023b1e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=cOHNhMCe2dTbYb2yw0oQN1tQDJc%3D" alt="dba97dd1fff95859759d2182f61b4ff0.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4dab1600cf74e8692e7906c4c83cd94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=m6XOx2syxKwKyjhG8nOiHjnzhHo%3D" alt="0bc35acc44eb837a08f8f03f42688a33.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24fe4de5452149ad8c7d3a66f0137dc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=sAaJG06PZ05Vooa3%2BerUJS6qbNk%3D" alt="287bc46e78a3b01b69ef062ed41d27bf.jpg" loading="lazy"/></p>
<ul>
<li>
<h5 data-id="heading-5">Bç«™ å½•åˆ¶ flutterå¼€å‘é¸¿è’™ next é›¶åŸºç¡€åˆ°ç²¾é€šæ•™ç¨‹</h5>
</li>
<li>
<h5 data-id="heading-6">é¸¿è’™ArkUI-Xè·¨å¹³å°å¼€å‘å…¥é—¨åˆ°ç²¾é€š</h5>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c14459dcc45c4b839c342933e9033da6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=IS10IQlE3oHHkC6krSN5XWAf9b4%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7">1024 51cto ä¸“åœº  ï¼ˆflutter æ¡†æ¶åŠ©ç†é¸¿è’™å¼€å‘ï¼‰</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2d0171e1553461fac645660467313d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=7CfREw7%2FXiPxsuBacYTn7ds52Sg%3D" alt="7ba810961af90688b0487736e61410ef.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47438f66ff8d4107b2c912297d696f18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=CYFUD1ZqYwthVSsxXKIQJ%2BfoFBI%3D" alt="8a171c730f93ca3a2cbc2390167d0d8e.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c04e246e6e044708d54a4de6cce2cd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=Yji%2FxHMz5KU5Ac6BMbAYbqe%2FbNY%3D" alt="f04019fc3c8bce5dbd6fff2d8d01064e.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a00a609327254111bedbb162d3971c2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=gdX5K6Cecf5%2B37t6gobjIRzb6Ds%3D" alt="ed02a717d4298a30e031c34a7627ac0a.jpg" loading="lazy"/></p>
<h4 data-id="heading-8">HDD é¸¿è’™èµ‹èƒ½äº¤æµä¼š æ¸¸æˆä¸“åœºæ·±åœ³ç«™</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d61018fcbb11452bbc50f6cb46239da0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=M29e29PxN53MWH3eGalBMxZYocc%3D" alt="92e8767bf4d46fc7c84eaa8e9b5ac13e.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81559caab5344aef848c1d669d0e7e00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=x%2FgUBC1YvFWkHSRMHgguVe9%2BFi0%3D" alt="93d26647f884816b0710eb1c6779c47d.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e250b6b224e347bfa53e821257556e9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=2fgn1pbISrXfzOay2UTbgLl3Gck%3D" alt="0ad92efebebe94325f06bc5d4b2eccda.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06ee046c7a594ff6b04ee11712bc8e2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=xsf45%2B3b6TcrSpAWzcYFpJotwZ4%3D" alt="bb061cbf7d84eff6495c99116c2c785e.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a8bae233bfe49dc8a843268c3e208c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=8WvxS49dAowrpLooMbg4E9I96n8%3D" alt="05c0244f47444346370b7414783be2ec.jpg" loading="lazy"/></p>
<h4 data-id="heading-9">å…³äºå·¥ä½œï¼ˆä¸ŠåŠå¹´ï¼‰</h4>
<p>ç»å†è¿‡2024å¹´è£å‘˜æ½®çš„é—®é¢˜ï¼Œ2024å¹´ç¦»èŒåå…¥èŒäº†æ–°çš„ä¸€å®¶æ¸¸æˆå…¬å¸ã€‚ä¹Ÿå¤§åŠå¹´äº†ï¼Œå·¥ä½œä¸šåŠ¡å’ŒæŠ€æœ¯æ ˆä¹Ÿéƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œå¾ˆåº†å¹¸çš„æ˜¯ï¼Œèƒ½å¤Ÿå‚ä¸åˆ°é¸¿è’™é¡¹ç›®çš„å¼€å‘ã€‚å› ä¸ºä¹‹å‰ä¹Ÿæ˜¯åä¸ºçš„HDEçš„èº«ä»½ ï¼Œä¹Ÿæ˜¯ç»å¸¸å»å†™é¸¿è’™ç›¸å…³çš„æ–‡ç« ï¼Œæ‰€ä»¥è¿™ä¸€æ¬¡èƒ½ç”¨åœ¨å•†ç”¨çš„é¡¹ç›®ä¸Šé¢ï¼Œä¹Ÿæ˜¯å¾ˆå¥½çš„ä¸€ä¸ªå®è·µçš„æœºä¼šã€‚ æ¥éªŒè¯è‡ªå·±çš„é¸¿è’™æŠ€æœ¯åˆ°åº•å¦‚ä½•ï¼Œæ˜¯ä¸æ˜¯èƒ½è‡ªå·±ä¸€ä¸ªäººå®Œæ•´çš„å®Œæˆä¸€ä¸ªå•†ä¸šé¡¹ç›®ï¼Œ æ¯”è¾ƒå¥½çš„æ˜¯åœ¨åŒäº‹ååŠ©å’Œè‡ªå·±ä¸æ‡ˆåŠªåŠ›ä¸‹å®Œæˆåˆç‰ˆçš„å¼€å‘ã€‚åç»­è¿˜è¦ç»§ç»­å»ä¼˜åŒ–ä»£ç å’Œæ¶æ„è®¾è®¡ã€‚
å·¥ä½œä¸­ä¹Ÿä¼šé‡åˆ°å„ç§é—®é¢˜ï¼Œä¸è¿‡ç°åœ¨å¿ƒæ€å’Œä¹ æƒ¯æ¯”ä¹‹å‰å¥½ä¸å°‘ã€‚ä¼šå»reviewä»£ç  è‡ªå·±å†™æ–‡æ¡£å»å®¡æ ¸ä»£ç ï¼Œä¹Ÿæ˜¯å¸Œæœ›è‡ªå·±èƒ½å…»æˆå¥½ä¹ æƒ¯ï¼ŒæŠŠäº‹æƒ…åšå¥½ ä»£ç å†™å¥½å‡å°‘å‡ºé—®é¢˜ã€‚ä¹Ÿæ˜¯ä¸ºè‡ªå·±ä»¥ååšå¥½é“ºå«ã€‚æ¯•ç«Ÿæ’¸ä»£ç æœ¬èº«æ˜¯ä¸€ä¸ªä¸¥è°¨çš„äº‹æƒ…ä¹Ÿéœ€è¦è®¤çœŸå»å¯¹å¾…ã€‚ä¹Ÿå¸Œæœ›åœ¨ä»¥åå·¥ä½œèƒ½å¤Ÿé€æ¸æŠŠå¥½çš„ä¹ æƒ¯å…»æˆï¼Œç„¶åä¸¥è°¨å»å¯¹å¾…ä»»ä½•ä¸€ä¸ªé—®é¢˜å’Œé”™è¯¯ã€‚</p>
<h4 data-id="heading-10">å…³äºæ•™å­¦</h4>
<p>å› ä¸ºä¹‹å‰åœ¨æ·±åœ³å…¼èŒåšè¿‡è€å¸ˆçº¿ä¸‹æ•™å­¦è¿‡ï¼Œå…¶å®åœ¨çº¿ä¸Šä¹Ÿæ•™å­¦è¿‡ã€‚ä¹Ÿè·Ÿå¾ˆå¤šå­¦ç”Ÿäº¤æµè¿‡ã€‚çœŸçš„è®©æˆ‘å¾ˆæ¬£æ…°ï¼Œè®©æˆ‘çš„å¿ƒæ€æ”¹å˜äº†å¾ˆå¤šã€‚è®©æˆ‘æ·±åˆ»æ„Ÿå—åˆ° å­¦æŠ€æœ¯ å­¦çŸ¥è¯†è·Ÿå¹´é¾„æ— å…³ è·Ÿæ€§åˆ«æ— å…³ï¼Œåªè·Ÿè‡ªèº«æœ‰å…³ç³»ï¼Œé‚£äº›å­¦ä¹ å¥½å­¦ç²¾ç¥ä¹Ÿæ˜¯æ”¯æŒæˆ‘æŒç»­åˆ›ä½œçš„åŠ¨åŠ›ã€‚</p>
<ul>
<li>
<h5 data-id="heading-11">ä¸‹é¢è·Ÿä¸€äº›å­¦ç”Ÿå’Œæœ‹å‹çš„å¯¹è¯</h5>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d6d8b7d8cc54407ae8ff4b24165e0a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=rJBHu4Mc6jgC4%2FgzrlcBKf%2FVTuo%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9de7081c161b4744ab4c7f9834c9337b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=Bhrw7dnxG6i5G%2Fu5GwHanBT6f1U%3D" alt="8d56ae9032e5d853e6e64836d3b8affd.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0d1f14c005344619dd3a01baea9ee4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=cBm2zuWeEivcuRyhQxNm5weZufk%3D" alt="a36f7e024cf73b8116904c0ac5a0a75b.jpg" loading="lazy"/></p>
<h4 data-id="heading-12">8æœˆä»½åˆå»æ·±åœ³åšäº†6å¤©å…¼èŒè€å¸ˆ å¸¦äº†ä¸€ä¸ªç­çº§</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db5856795b6a4fa98552f1590abb01e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=92L%2B5W%2Fxo7ESAQ2tW7AyxkoX6is%3D" alt="3c39d5be0ba2ca9f2ba411a632e17ce9.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/215ae743d07e49afb7b228ad22685201~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=Cif%2Fa%2BZYrYMhkICmGCjuDuanTW0%3D" alt="b043696abd6e09f272b7adb1eb81a164.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/205c163a921b4450aa2b444a490a0ecb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=7L0TcV8%2BKshIhWhuC7jmJXO3XvU%3D" alt="b5f325321d899fdffb561a53acd06446.jpg" loading="lazy"/></p>
<h4 data-id="heading-13">å¹´ä¸­å¿ƒæ€çš„è½¬å˜</h4>
<p>å½“æˆ‘å’Œé‚£äº›å­¦ç”Ÿäº¤æµçš„æ—¶å€™éƒ½éå¸¸çº¯ç²¹ï¼Œä»–ä»¬åªæƒ³å­¦å¥½æŠ€æœ¯ èµšåˆ°å±äºè‡ªå·±åº”è¯¥èµšåˆ°çš„é’±ï¼Œä¹Ÿæ²¡æœ‰é‚£ä¹ˆçš„è§„åˆ™å’Œå¥—è·¯ã€‚
æ‰€ä»¥æ„Ÿè§‰åˆ°éå¸¸çš„æ¬£æ…°ï¼Œè§‰å¾—ä¸–ç•Œåº”è¯¥å¤šä¸€äº›ç¾å¥½å’ŒæœŸå¾…ã€‚æœ¬æ¥è¢«ç¤¾ä¼šæ¯’æ‰“è¿‡çš„æˆ‘ å’Œè¢«ç”Ÿæ´»æŠ˜ç£¨çš„é¢ç›®å…¨éçš„æˆ‘ï¼Œæœ¬æ¥æ˜¯æ„å¿—æ¶ˆæ²‰çš„ï¼Œ ä½†æ˜¯çœ‹åˆ°é‚£äº›æ–°äººï¼Œéƒ½é‚£ä¹ˆç§¯æå‘ä¸Šï¼Œ è®©æˆ‘è§‰å¾—å­¦ç”Ÿéƒ½è¿™ä¹ˆç§¯æçš„é¢å¯¹æœªæ¥ï¼Œè™½ç„¶ç»æµä¸‹è¡Œ ä½†æ˜¯è¿˜æ˜¯ä¼šå»å¥‹æ–—ï¼Œè®©æˆ‘ä¹Ÿè§‰å¾—è¿™ä¸ªä¸–ç•Œä¸æ˜¯åªæœ‰é‚£äº›å–œæ¬¢æŒ£å¿«é’±å’Œèµ°åé—¨çš„äºº ä¹Ÿæœ‰å€¼å¾—æˆ‘å»è¿½é€çš„ä¸œè¥¿ã€‚</p>
<h4 data-id="heading-14">å‚åŠ HDC å¤§ä¼šæ´»åŠ¨</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da8fa41bdbe54e00aa3bd8e6e8afc8bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=RFJx6HJAdUFyuAG%2BD6hvLkg9BBU%3D" alt="56522c08b14e56e5cf10c6577b90fd81.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a2985e121d54c6db56c780e4a34fa3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=zrcpjDe2lV3I8W4avSsQmWnp4fU%3D" alt="669dca98bf01a25809d58b120bdbf1bb.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e84272c0c6e7454ca8150b42b6687052~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=c8nnIPQG75x2TSsIbR0Pfm9iF3s%3D" alt="cdcff9df763678dae05f8202c30ba794.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f423d004910d48b385514283d49c1e5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=PQcI1rQEtUGChrhS2AAYDppcIic%3D" alt="8a78c240a7181b7ae39f9877bd5150da.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7e1fb1bdee8423ab496816b9d65d9f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=IE0KUlrTQGSM%2BLyi5ldgiB6ogfY%3D" alt="90d1163ea0be348ce95a8a4162ffb13f.jpg" loading="lazy"/></p>
<p>6æœˆ21å’Œ22å·å»å‚åŠ äº†åä¸ºçš„2025å¹´HDCå¤§ä¼šï¼Œå¤§ä¼šä¸Šå‘å¸ƒäº†é¸¿è’™6.0 å¼€å‘è€…é¢„è§ˆç‰ˆï¼Œä¹Ÿå‘å¸ƒäº†å¾ˆå¤šå…¶ä»–ç›¸å…³æ–°æŠ€æœ¯ï¼Œ
è¿˜å»åäº†ä¸€ä¸‹åä¸ºçš„å°ç«è½¦å“ˆå“ˆï¼Œ å‚è§‚äº†åä¸ºå›­åŒºå†…éƒ¨çš„é£æ™¯ï¼Œåº†å¹¸è‡ªå·±èƒ½ç”Ÿæ´»åœ¨è¿™ä¸ªæ—¶ä»£è§è¯å’Œå‚ä¸é¸¿è’™ç”Ÿæ€çš„å»ºè®¾å’Œæ—¥ç›Šå®Œå–„ï¼Œæœ€åè¿˜è·Ÿæˆ‘ç¤¾åŒºå›¢é˜Ÿåšæœæ´¾ä¸€èµ·èšé¤ï¼Œæ¥è‡ªäº”æ¹–å››æµ·å¼€å‘è€…å¥½å¤šéƒ½æ˜¯ç¬¬ä¸€æ¬¡è§ï¼Œå› ä¸ºæŠ€æœ¯ç»“ç¼˜ï¼Œå› ä¸ºæŠ€æœ¯
æœ‰å¾ˆå¤šè¯é¢˜ï¼Œéƒ½æ˜¯å¸Œæœ›æˆ‘ä»¬å›½äº§ç³»ç»Ÿè¶Šæ¥è¶Šå¥½ï¼Œæ¯ä¸€ä¸ªä¸€ä¸ªå¼€å‘è€…éƒ½äº†ä¸èµ·ã€‚</p>
<h4 data-id="heading-15">å…³äºçˆ¶æ¯</h4>
<ul>
<li>
<h5 data-id="heading-16">äº”ä¸€å°é•¿å‡å»æ¢æœ›çˆ¶æ¯</h5>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79c5e03eebbe4f018421be6a7e790279~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=5GhTa%2BDS2xlP37hk3EHuO3AHLbE%3D" alt="7646312b7ef0993ab2f9bdbfc8be56ce.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8dbffaab7f14372a14b8c7e9db0a044~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=CEoLGk0Pwyh%2B85%2BtwOYoLzMCXt4%3D" alt="03454e8ce90a1045ab422ec1fb3ab101.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59950564fff44416b547a16ea28b4d54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=XirqxGZ1imAtAqzrJbDMs6rxUbU%3D" alt="ab315b6a166968afd83952b7c94d2068.jpg" loading="lazy"/></p>
<p>äº”ä¸€çš„æ—¶å€™æ¢æœ›çˆ¶æ¯ å› ä¸ºéƒ½ä¸­é£ç˜«ç—ªåœ¨åºŠ æ‰€ä»¥åªèƒ½é€è¿›å»å…»è€é™¢é‡Œé¢è®©é‚£è¾¹æ›´ä¸“ä¸šçš„äººå»çœ‹æŠ¤å’ŒæŠ¤ç†ï¼Œæˆ‘ä»¬å¹´è½»äººä¹Ÿæ˜¯æ— å¥ˆï¼Œæ‰€ä»¥ç”Ÿæ´»çš„ä¸­å›°éš¾éƒ½ä¼šæ‰¾åˆ°åŠæ³•ï¼Œä¹Ÿæ˜¯å¸Œæœ›å„ä½ç½‘å‹å¤šå­˜é’±ï¼Œæœ‰å¾ˆå¤šäº‹ï¼Œä¸æ˜¯é‚£äº›å°èªæ˜å’Œå°å¿ƒæœºèƒ½è§£å†³é—®é¢˜
ä½†æ˜¯é’±å¯ä»¥è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œä¾‹å¦‚çˆ¶æ¯çš„å…»è€å’Œå„ç§ä¹‹ç±»å·´æ‹‰å·´æ‹‰çš„é—®é¢˜ï¼Œ ç„¶åä¹Ÿå»çœ‹æœ›äº†æˆ‘å°èˆ…å’Œå°èˆ…å¦ˆã€‚æ¯•ç«Ÿå®¶é‡Œæœ‰äº²æˆšèƒ½å¸®æˆ‘åŠç†äº†å¾ˆå¤šè¯ä»¶ä¹‹ç±»çš„äº‹æƒ…ã€‚ä¹Ÿå»æ„Ÿè°¢äº†ä¸‹å®¶é‡Œé‚£äº›å¯¹æˆ‘ä»¬å®¶å¸®åŠ©å¾ˆå¤šå®—äº²ï¼Œæ¯•ç«Ÿåˆ«äººä¹Ÿä¸æ˜¯ï¼Œä¸€å®šè¦å¸®åŠ©æˆ‘ä»¬å®¶é‡Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¿ƒå­˜æ„Ÿæ¿€ã€‚</p>
<h4 data-id="heading-17">å…³äºå·¥ä½œï¼ˆå¹´åº•å·¥ä½œå˜åŠ¨ï¼‰</h4>
<p>2025å¹´æ³¨å®šæ˜¯ä¸å¹³å‡¡çš„ä¸€å¹´ï¼Œç»æµä¸€å†å´©æºƒ è§æ¡ï¼Œæˆ‘ä¹Ÿç»å†å†æ¬¡è£å‘˜çš„æƒ…å†µï¼Œå½“ç„¶è¿™äº›ä¹Ÿéƒ½èƒ½ç†è§£ã€‚æ¯•ç«Ÿå·¥èµ„éœ€è¦æ–­è‡‚æ±‚ç”Ÿï¼Œè¿™äº›éƒ½å¯ä»¥ç†è§£ ä½†æ˜¯å„ä½åªè¦æŒ£åˆ°åˆ°è‡ªå·±è¯¥æ‹¿åˆ°åˆ©ç›Šï¼Œç„¶åç§¯æå»æ‰¾å·¥ä½œï¼Œç§¯æå»é¢å¯¹ï¼Œæˆ‘ç›¸ä¿¡è‹¦éš¾ç»ˆç©¶ä¼šè¿‡å»ã€‚ç­‰å¾…æˆ‘ä»¬å†æ¬¡å½’æ¥çš„æ—¶å€™ï¼Œä¾ç„¶ä¸å¿˜åˆå¿ƒï¼Œé‚£ä¸€ä¸ªæ‹¿èµ·é”®ç›˜å’Œé¼ æ ‡ çªç ´å‘½è¿æ·é”çš„å°‘å¹´ï¼Œé€æ¸è¤ªå»èº«ä¸Šçš„æˆ¾æ°”ï¼Œç”¨ç§¯æå¿ƒæ€é¢å¯¹å­˜åœ¨ä¸€ä¸‡ç§å¯èƒ½çš„æœªæ¥ã€‚</p>
<h4 data-id="heading-18">å¹´åº•å¿ƒæ€è½¬å˜</h4>
<p>å½“ç»å†è¿™ä¹ˆå¤šæ¬¡èŒåœºçš„å·¥ä½œçš„å˜åŠ¨ï¼Œä¹Ÿç¡®å®èƒ½å¤Ÿç†è§£å¾ˆå¤šäººåŒ…æ‹¬åŒäº‹ æœ‹å‹ ä»¥åŠå„ç§å˜åŠ¨ï¼Œäººåˆ°ä¸­å¹´ è™½ç„¶æœ‰å¾ˆå¤šæ— å¥ˆï¼Œèƒ½å¤Ÿç†è§£å¾ˆå¤šäº‹æƒ…ï¼Œ ä½†æ˜¯è¿˜æ˜¯å¸Œæœ›ä¸å¿˜åˆå¿ƒï¼Œç»§ç»­ä¸€è·¯å‰è¡Œ èƒ½å¤Ÿé‚£äº›å¹´è½»åä¸€è¾ˆ ç…§äº®å‰è¿›ä¹‹è·¯ã€‚</p>
<h4 data-id="heading-19">å…³äºç”Ÿæ´»</h4>
<p>ä¸‹åŠå¹´çš„å› ä¸ºå„ç§ç”²æµç—…æ¯’ï¼Œä¸å¹¸æˆ‘ä¹Ÿæ˜¯ä¸­æ‹›äº†ï¼Œ ç—‡çŠ¶å’Œæ„Ÿå†’å·®ä¸å¤šï¼Œå»åŒ»é™¢æ²»ç–—ï¼Œæœ€å¼€å§‹æ²¡æœ‰é‡è§†ï¼Œåé¢å‘ç°è¿˜æœ‰å¹²å’³ï¼Œæœ€åå»æ‹ç‰‡å­ï¼Œæ‰çŸ¥é“æˆ‘æ˜¯æ„ŸæŸ“æˆè‚ºç‚ï¼Œæœ€åä¹Ÿæ˜¯æ‰“ç‚¹æ»´ï¼ˆè¾“æ¶²ï¼‰ä¸€ä¸ªç¤¼æ‹œ ï¼Œç„¶ååˆå–äº†ä¸€ä¸ªç¤¼æ‹œçš„è¯æ‰æ…¢æ…¢æ¢å¤ã€‚åœ¨è¿™é‡Œä¹Ÿå‘¼å å„ä½ç½‘å‹åŒå­¦ï¼Œåœ¨é«˜å¼ºå·¥ä½œçš„æ—¶å€™ï¼Œå¸Œæœ›å„ä½èƒ½å¤Ÿè‡ªå·±ç…§é¡¾å¥½è‡ªå·±èº«ä½“ï¼Œèº«ä½“æ˜¯é©å‘½æœ¬é’±ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40ecde2b07f445f7a58d118c88517493~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=15o%2FS5YXMqzDKamct9sakuqQ%2BWU%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcd33788d7c74cae8defe66260041757~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=woivPjLwffclPsfwmJJy33V1NbI%3D" alt="eac0d2949222e6636ceaf3c4fe7509d2.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d47f5c5c34946b497a99bca3b66e2ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766716945&amp;x-signature=GeJIX%2BH9%2FIdyEdYBPgJx66U5GTI%3D" alt="0f434049c00ff7e3ecf76794db3db1da.jpg" loading="lazy"/></p>
<h2 data-id="heading-20">æœ€åæ€»ç»“:</h2>
<p>å„ä½åŒå­¦2026å¹´æˆ‘ç›¸ä¿¡æ¯”2025å¹´æ›´éš¾ ä½†æ˜¯ä¹Ÿä¸å¥½è½»è¨€æ”¾å¼ƒç”Ÿæ´»ï¼Œæˆ‘ç›¸ä¿¡æˆ‘éƒ½ç»å†å’Œé­é‡èƒ½æ¿€åŠ±æ›´å¤šäººå§ çˆ¶æ¯éƒ½ä¸­é£ï¼Œå»å…»è€é™¢ä½ç€ å‹åŠ›è™½ç„¶å¾ˆå¤§ä½†æ˜¯æˆ‘æ‰¾åˆ°äº†åŠæ³•å¹³è¡¡èµ¡å…»çˆ¶æ¯å’Œå·¥ä½œã€‚ ä¹Ÿæ‰¾åˆ°æ–°çš„æ–¹å‘ é¸¿è’™å¼€å‘çš„å­¦ä¹ è¿˜æœ‰æ•™ç¨‹çš„å½•åˆ¶ã€‚ åœ¨æ­¤å‘¢æˆ‘å¸Œæœ›å„ä½åŒå­¦éƒ½èƒ½å‹‡æ•¢é¢å¯¹æŒ«æŠ˜ è¿˜æœ‰ä¿é‡èº«ä½“ã€‚èƒ½å¤Ÿåœ¨è¿™ä¸ª2025å¹´çš„è‰°éš¾çš„æ—¶åˆ» ç»å¤„é€¢ç”Ÿã€‚æˆ‘æ˜¯ä¸€å90åç¨‹åºå‘˜xq9527 æœ€åæ„Ÿè°¢åœ¨2025å¹´é‡Œæ”¯æŒæˆ‘çš„ç½‘å‹ä»¬ æ„Ÿè°¢æœ‰ä½  2026æˆ‘ä»¬ä¼šæ›´å¥½ æ„Ÿè°¢æœ‰ä½  æ˜å¤©ä¼šæ›´å¥½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rustå®æˆ˜ï¼šä¸€ä¸ªå†…å­˜æ¶ˆæ¯é˜Ÿåˆ—çš„ Trait é©±åŠ¨å¼€å‘]]></title>    <link>https://juejin.cn/post/7585105375794020386</link>    <guid>https://juejin.cn/post/7585105375794020386</guid>    <pubDate>2025-12-19T02:56:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585105375794020386" data-draft-id="7585105375793938466" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rustå®æˆ˜ï¼šä¸€ä¸ªå†…å­˜æ¶ˆæ¯é˜Ÿåˆ—çš„ Trait é©±åŠ¨å¼€å‘"/> <meta itemprop="keywords" content="Rust"/> <meta itemprop="datePublished" content="2025-12-19T02:56:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·144811174699"/> <meta itemprop="url" content="https://juejin.cn/user/221432594827392"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rustå®æˆ˜ï¼šä¸€ä¸ªå†…å­˜æ¶ˆæ¯é˜Ÿåˆ—çš„ Trait é©±åŠ¨å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/221432594827392/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·144811174699
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T02:56:48.000Z" title="Fri Dec 19 2025 02:56:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨æ—¥å¸¸ Rust å¼€å‘ä¸­ï¼Œæˆ‘ç»å¸¸é‡åˆ°ä¸€ä¸ªä¸¤éš¾çš„åœºæ™¯ï¼šéœ€è¦åœ¨çº¿ç¨‹é—´ä¼ é€’å¤§é‡æ•°æ®ï¼Œä½† <code>tokio::sync::mpsc</code> åŠŸèƒ½å•ä¸€ï¼Œè€Œå¼•å…¥ <code>Redis</code> æˆ– <code>Kafka</code> åˆæ˜¾å¾—è¿‡é‡ï¼Œç‰¹åˆ«æ˜¯åœ¨<code>tauri</code>è¿™ç±»å¼€å‘æ¡Œé¢ç«¯ç¨‹åºä¸­ï¼Œæ›´ä¸å…è®¸ä½¿ç”¨<code>Redis</code>å’Œ<code>Kafka</code>ã€‚è¿™ç¯‡æ–‡ç« è®°å½•äº†æˆ‘å¦‚ä½•ä»é›¶å¼€å§‹ï¼Œç”¨ Rust çš„ç‰¹æ€§æ„å»ºä¸€ä¸ªå†…å­˜æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä»¥åŠåœ¨è¿‡ç¨‹ä¸­å¯¹æ‰€æœ‰æƒã€ç”Ÿå‘½å‘¨æœŸå’Œ <code>Trait</code> çš„æ·±åˆ»ä½“ä¼š</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ç¼˜èµ·ï¼šä¸ºä»€ä¹ˆè¦é€ è¿™ä¸ªè½®å­ï¼Ÿ</h2>
<p>ä½œä¸ºä¸€å Rust å¼€å‘è€…ï¼Œæˆ‘æœ€åˆçš„æƒ³æ³•å¾ˆç®€å•ï¼š"ä¸å°±æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œ pushï¼Œå¦ä¸€ä¸ªçº¿ç¨‹é‡Œ pop å—ï¼Ÿ" ä½†å¾ˆå¿«ï¼Œç°å®å°±ç»™äº†æˆ‘ä¸€å·´æŒã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æœ€åˆå¤©çœŸçš„æƒ³æ³•</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">mut</span> QUEUE: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">String</span>&gt; = <span class="hljs-type">Vec</span>::<span class="hljs-title function_ invoke__">new</span>();

<span class="hljs-comment">// ç”Ÿäº§è€…</span>
<span class="hljs-keyword">unsafe</span> { QUEUE.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-string">"data"</span>.<span class="hljs-title function_ invoke__">to_string</span>()); }

<span class="hljs-comment">// æ¶ˆè´¹è€…</span>
<span class="hljs-keyword">unsafe</span> { <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">data</span> = QUEUE.<span class="hljs-title function_ invoke__">pop</span>(); }
</code></pre>
<p>è¿™æ®µä»£ç è¿ç¼–è¯‘éƒ½è¿‡ä¸äº†ã€‚Rust çš„å€Ÿç”¨æ£€æŸ¥å™¨æ— æƒ…åœ°å‘Šè¯‰æˆ‘ï¼š<strong>å¤šçº¿ç¨‹ + å¯å˜å…¨å±€å˜é‡ = æ•°æ®ç«äº‰</strong>ã€‚</p>
<h3 data-id="heading-1">ç°æœ‰å·¥å…·çš„å±€é™æ€§</h3>
<p>é‚£æˆ‘ä»¬è¯•è¯• Rust è‡ªå¸¦çš„å·¥å…·ï¼Ÿ</p>
<h4 data-id="heading-2">1. <code>std::sync::mpsc</code> - åŒæ­¥é˜»å¡</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::sync::mpsc;

<span class="hljs-keyword">let</span> (tx, rx) = mpsc::<span class="hljs-title function_ invoke__">channel</span>();
<span class="hljs-comment">// âŒ é—®é¢˜1ï¼šåªèƒ½æœ‰ä¸€ä¸ªæ¥æ”¶è€…</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">rx2</span> = rx.<span class="hljs-title function_ invoke__">clone</span>(); <span class="hljs-comment">// ç¼–è¯‘é”™è¯¯ï¼</span>

<span class="hljs-comment">// âŒ é—®é¢˜2ï¼šåŒæ­¥é˜»å¡ï¼Œåœ¨å¼‚æ­¥ç¯å¢ƒä¸­ä¼šé˜»å¡æ•´ä¸ªçº¿ç¨‹</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">data</span> = rx.<span class="hljs-title function_ invoke__">recv</span>().<span class="hljs-title function_ invoke__">unwrap</span>(); <span class="hljs-comment">// é˜»å¡ï¼</span>
</code></pre>
<h4 data-id="heading-3">2. <code>tokio::sync::mpsc</code> - å•æ¶ˆè´¹è€…é™åˆ¶</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> tokio::sync::mpsc;

<span class="hljs-keyword">let</span> (tx, <span class="hljs-keyword">mut</span> rx) = mpsc::<span class="hljs-title function_ invoke__">channel</span>(<span class="hljs-number">100</span>);
<span class="hljs-comment">// âŒ é—®é¢˜ï¼šä»ç„¶åªèƒ½æœ‰ä¸€ä¸ªæ¥æ”¶è€…</span>
<span class="hljs-comment">// ä¸æ”¯æŒçœŸæ­£çš„å¹¿æ’­æ¨¡å¼</span>

<span class="hljs-comment">// âŒ ç¼ºä¹ä¸»é¢˜æ¦‚å¿µï¼Œæ‰€æœ‰æ¶ˆæ¯æ··åœ¨ä¸€ä¸ªé€šé“</span>
tx.<span class="hljs-title function_ invoke__">send</span>(<span class="hljs-string">"topic1:data"</span>.<span class="hljs-title function_ invoke__">to_string</span>()).<span class="hljs-keyword">await</span>?;
tx.<span class="hljs-title function_ invoke__">send</span>(<span class="hljs-string">"topic2:data"</span>.<span class="hljs-title function_ invoke__">to_string</span>()).<span class="hljs-keyword">await</span>?;
</code></pre>
<h4 data-id="heading-4">3. <code>tokio::sync::broadcast</code> - ä¸¢å¤±æ¶ˆæ¯</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> tokio::sync::broadcast;

<span class="hljs-keyword">let</span> (tx, _rx1) = broadcast::<span class="hljs-title function_ invoke__">channel</span>(<span class="hljs-number">100</span>);
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">rx2</span> = tx.<span class="hljs-title function_ invoke__">subscribe</span>();

<span class="hljs-comment">// âŒ é—®é¢˜ï¼šæ¶ˆè´¹è€…å¤„ç†æ…¢æ—¶ï¼Œæ¶ˆæ¯ä¼šä¸¢å¤±ï¼</span>
tokio::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(msg) = rx2.<span class="hljs-title function_ invoke__">recv</span>().<span class="hljs-keyword">await</span> {
        tokio::time::<span class="hljs-title function_ invoke__">sleep</span>(Duration::<span class="hljs-title function_ invoke__">from_secs</span>(<span class="hljs-number">1</span>)).<span class="hljs-keyword">await</span>; <span class="hljs-comment">// æ¨¡æ‹Ÿæ…¢å¤„ç†</span>
    }
});

<span class="hljs-comment">// å¿«é€Ÿå‘é€ä¼šå¯¼è‡´åé¢çš„æ¶ˆæ¯è¢«ä¸¢å¼ƒ</span>
<span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">1000</span> {
    tx.<span class="hljs-title function_ invoke__">send</span>(i).<span class="hljs-keyword">await</span>?; <span class="hljs-comment">// å¯èƒ½ä¸¢å¤±ï¼</span>
}
</code></pre>
<p>è¿™äº›å·¥å…·éƒ½æœ‰æ˜æ˜¾çš„å±€é™æ€§ï¼š</p>
<ul>
<li><strong><code>std::mpsc</code></strong>ï¼šåŒæ­¥é˜»å¡ï¼Œä¸é€‚åˆå¼‚æ­¥åº”ç”¨</li>
<li><strong><code>tokio::mpsc</code></strong>ï¼šä¸æ”¯æŒå¤šè®¢é˜…è€…å¹¿æ’­</li>
<li><strong><code>tokio::broadcast</code></strong>ï¼šå¯èƒ½ä¸¢å¤±æ¶ˆæ¯ï¼Œä¸”æ–°è®¢é˜…è€…æ— æ³•è·å–å†å²æ¶ˆæ¯</li>
</ul>
<p>è¿™è¿«ä½¿æˆ‘å¼€å§‹æ€è€ƒï¼šå¦‚ä½•åœ¨ Rust çš„å®‰å…¨æ¡†æ¶å†…ï¼Œå®ç°ä¸€ä¸ªé«˜æ€§èƒ½çš„å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</p>
<h2 data-id="heading-5">ç¬¬ä¸€ç« ï¼šRust çš„æ‰€æœ‰æƒä¸æˆ‘çš„æŒ£æ‰</h2>
<h3 data-id="heading-6">1.1 Arc æ•‘ä¸äº†æ‰€æœ‰äºº</h3>
<p>æˆ‘çš„ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯ä½¿ç”¨ <code>Arc&lt;Mutex&lt;Vec&lt;T&gt;&gt;&gt;</code>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::sync::{Arc, Mutex};
<span class="hljs-keyword">use</span> tokio::sync::Mutex <span class="hljs-keyword">as</span> AsyncMutex;

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">SimpleQueue</span>&lt;T&gt; {
    inner: Arc&lt;AsyncMutex&lt;<span class="hljs-type">Vec</span>&lt;T&gt;&gt;&gt;,
}

<span class="hljs-keyword">impl</span>&lt;T&gt; SimpleQueue&lt;T&gt; {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">push</span>(&amp;<span class="hljs-keyword">self</span>, item: T) {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">guard</span> = <span class="hljs-keyword">self</span>.inner.<span class="hljs-title function_ invoke__">lock</span>().<span class="hljs-keyword">await</span>;
        guard.<span class="hljs-title function_ invoke__">push</span>(item);
    }
}
</code></pre>
<p>è¿™ä¸ªå®ç°èƒ½è·‘ï¼Œä½†æ€§èƒ½å¹¶ä¸ç†æƒ³ã€‚æ¯æ¬¡æ“ä½œéƒ½éœ€è¦è·å–é”ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œé”ç«äº‰ä¼šæˆä¸ºç“¶é¢ˆã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ª Rust çš„ç»å…¸é—®é¢˜ï¼š<strong>å¦‚ä½•åœ¨ä¸ç§»åŠ¨æ‰€æœ‰æƒçš„æƒ…å†µä¸‹ï¼Œè®©å¤šä¸ªæ¶ˆè´¹è€…è®¿é—®åŒä¸€ä»½æ•°æ®ï¼Ÿ</strong></p>
<h3 data-id="heading-7">1.2 æ‹¥æŠ± Arcï¼šé›¶æ‹·è´çš„æ›™å…‰</h3>
<p>ç­”æ¡ˆå°±æ˜¯ <code>Arc</code>ï¼ˆAtomically Reference Countedï¼‰ã€‚åœ¨ <code>tokio-memq</code> ä¸­ï¼Œæˆ‘å¤§é‡ä½¿ç”¨äº† <code>Arc</code> æ¥å…±äº«æ•°æ®ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/mq/message.rs</span>
<span class="hljs-meta">#[derive(Clone)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MessagePayload</span> {
    <span class="hljs-comment">// 1. å¤šä¸ªè®¢é˜…è€…å…±äº«åŒä¸€ä»½å­—èŠ‚æ•°æ®</span>
    <span class="hljs-title function_ invoke__">Bytes</span>(Arc&lt;<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">u8</span>&gt;&gt;),
    <span class="hljs-comment">// 2. é›¶æ‹·è´çš„ç»ˆæå½¢æ€ï¼šç›´æ¥å…±äº« Rust å¯¹è±¡</span>
    <span class="hljs-title function_ invoke__">Native</span>(Arc&lt;<span class="hljs-keyword">dyn</span> Any + <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span>&gt;),
}
</code></pre>
<p>è¿™é‡Œä½“ç°äº† Rust å¼€å‘çš„ç¬¬ä¸€ä¸ªæ„Ÿæ‚Ÿï¼š<strong>æ‰€æœ‰æƒä¸æ˜¯æ•Œäººï¼Œè€Œæ˜¯æœ‹å‹</strong>ã€‚å½“ä½ ç†è§£äº†å¦‚ä½•ç”¨ <code>Arc</code> å…±äº«æ‰€æœ‰æƒï¼Œè€Œä¸æ˜¯è¯•å›¾ç”¨åŸå§‹æŒ‡é’ˆæˆ– unsafe ç»•è¿‡å®ƒæ—¶ï¼Œä½ å°±èƒ½å†™å‡ºæ—¢å®‰å…¨åˆé«˜æ•ˆçš„ä»£ç ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¼ é€’ä¸€ä¸ª 100MB çš„è§†é¢‘å¸§ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Clone)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">VideoFrame</span> {
    data: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">u8</span>&gt;, <span class="hljs-comment">// 100MB</span>
    timestamp: <span class="hljs-type">u64</span>,
}

<span class="hljs-comment">// å‘å¸ƒè€…</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">frame</span> = VideoFrame { ... };
<span class="hljs-comment">// ä½¿ç”¨ Native æ¨¡å¼ï¼Œå°†æ•´ä¸ªç»“æ„ä½“è£…å…¥ Arc</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">payload</span> = MessagePayload::<span class="hljs-title function_ invoke__">Native</span>(Arc::<span class="hljs-title function_ invoke__">new</span>(frame));

<span class="hljs-comment">// è®¢é˜…è€…</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">MessagePayload</span>::<span class="hljs-title function_ invoke__">Native</span>(any_data) = &amp;msg.payload {
    <span class="hljs-comment">// é€šè¿‡ downcast_ref å®‰å…¨åœ°è·å–åŸå§‹ç±»å‹</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">frame</span>: &amp;VideoFrame = any_data.<span class="hljs-title function_ invoke__">downcast_ref</span>().<span class="hljs-title function_ invoke__">unwrap</span>();
    <span class="hljs-comment">// è¿™é‡Œæ²¡æœ‰å¤åˆ¶ï¼frame æŒ‡å‘åŒä¸€å—å†…å­˜</span>
}
</code></pre>
<p>è¿™ç§é›¶æ‹·è´çš„è®¾è®¡ï¼Œæ˜¯ Rust ç‹¬æœ‰çš„ä¼˜åŠ¿ã€‚åœ¨ Java æˆ– Go ä¸­ï¼Œä½ é€šå¸¸éœ€è¦åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œæˆ–è€…ä¾èµ–åƒåœ¾å›æ”¶å™¨æ¥ç®¡ç†å†…å­˜ã€‚</p>
<h2 data-id="heading-8">ç¬¬äºŒç« ï¼šTrait é©±åŠ¨çš„è®¾è®¡å“²å­¦</h2>
<p>åœ¨ <code>tokio-memq</code> çš„å¼€å‘ä¸­ï¼ŒTrait å®šä¹‰äº†æˆ‘çš„æ•´ä¸ªè®¾è®¡æ€è·¯ã€‚è¿™ä¸ä»…ä»…æ˜¯æ¥å£å®šä¹‰ï¼Œæ›´æ˜¯ä¸€ç§<strong>æ€è€ƒæ–¹å¼çš„è½¬å˜</strong>ã€‚</p>
<h3 data-id="heading-9">2.1 å…ˆå®šä¹‰ Traitï¼Œå†è°ˆå®ç°</h3>
<p>æˆ‘çš„ <code>src/mq/traits.rs</code> æ–‡ä»¶æ˜¯æ•´ä¸ªé¡¹ç›®çš„çµé­‚ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®šä¹‰å¼‚æ­¥å‘å¸ƒè€…çš„è¡Œä¸º</span>
<span class="hljs-meta">#[async_trait::async_trait]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">AsyncMessagePublisher</span>: <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">topic</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> &amp;<span class="hljs-type">str</span>;
    
    <span class="hljs-comment">// æ ¸å¿ƒå‘å¸ƒæ–¹æ³• - æ³¨æ„è¿™ä¸ªæ³›å‹çº¦æŸ</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">publish</span>&lt;T: serde::Serialize + <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span> + <span class="hljs-symbol">'static</span>&gt;(&amp;<span class="hljs-keyword">self</span>, data: T) <span class="hljs-punctuation">-&gt;</span> anyhow::<span class="hljs-type">Result</span>&lt;()&gt;;
    
    <span class="hljs-comment">// æ‰¹é‡å‘å¸ƒ - å±•ç¤ºäº† Rust çš„é›†åˆç±»å‹</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">publish_batch</span>&lt;T: serde::Serialize + <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span> + <span class="hljs-symbol">'static</span>&gt;(&amp;<span class="hljs-keyword">self</span>, data_list: <span class="hljs-type">Vec</span>&lt;T&gt;) <span class="hljs-punctuation">-&gt;</span> anyhow::<span class="hljs-type">Result</span>&lt;()&gt;;
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨ Traitï¼Ÿ</strong> å› ä¸ºæˆ‘æƒ³è§£è€¦ã€‚ä»Šå¤©æˆ‘å¯ä»¥ç”¨ <code>VecDeque</code> ä½œä¸ºåº•å±‚å­˜å‚¨ï¼Œæ˜å¤©æ¢æˆæ›´é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œç”¨æˆ·ä»£ç ä¸éœ€è¦ä¿®æ”¹ã€‚è¿™å°±æ˜¯ Rust Trait çš„å¨åŠ›ï¼š<strong>å®šä¹‰å¥‘çº¦ï¼Œè€Œéå®ç°</strong>ã€‚</p>
<h3 data-id="heading-10">2.2 async_trait çš„å¿…è¦æ€§</h3>
<p>ä½ å¯èƒ½æ³¨æ„åˆ° <code>#[async_trait::async_trait]</code> è¿™ä¸ªå±æ€§ã€‚è¿™æ˜¯ä¸€ä¸ªçœŸå®çš„ Rust å¼€å‘ç—›ç‚¹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è¿™æ ·çš„ä»£ç åœ¨ Rust ä¸­ç›®å‰æ— æ³•ç›´æ¥å·¥ä½œ</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">MyAsyncTrait</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">do_something</span>(&amp;<span class="hljs-keyword">self</span>);
}
</code></pre>
<p>Rust çš„ <code>async</code> å‡½æ•°è¿”å›ä¸€ä¸ª <code>Future</code>ï¼Œè€Œ Trait æ–¹æ³•ä¸æ”¯æŒæ³›å‹å…³è”ç±»å‹ï¼ˆGATsï¼‰åœ¨ <code>async</code> ä¸Šçš„å®Œæ•´æ”¯æŒã€‚æ‰€ä»¥ç¤¾åŒºæä¾›äº† <code>async-trait</code> è¿™ä¸ªå®æ¥å˜é€šï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®å±•å¼€åï¼Œå®é™…ä¸Šæ˜¯è¿™æ ·çš„</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">MyAsyncTrait</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">do_something</span>&lt;<span class="hljs-symbol">'life0</span>, <span class="hljs-symbol">'async_trait</span>&gt;(
        &amp;<span class="hljs-symbol">'life0</span> <span class="hljs-keyword">self</span>,
    ) <span class="hljs-punctuation">-&gt;</span> std::pin::Pin&lt;<span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> std::future::Future&lt;Output = ()&gt; + <span class="hljs-symbol">'async_trait</span> + <span class="hljs-symbol">'life0</span>&gt;&gt;
    <span class="hljs-keyword">where</span>
        <span class="hljs-symbol">'life0</span>: <span class="hljs-symbol">'async_trait</span>;
}
</code></pre>
<p>è¿™åæ˜ äº† Rust å¼‚æ­¥ç”Ÿæ€çš„æ¼”è¿›è¿‡ç¨‹ï¼šè¯­è¨€ç‰¹æ€§è¿˜åœ¨å‘å±•ä¸­ï¼Œä½†ç¤¾åŒºæ€»èƒ½æ‰¾åˆ°åŠ¡å®çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-11">2.3 å…³è”ç±»å‹çš„åŠ›é‡</h3>
<p>åœ¨ <code>QueueManager</code> Trait ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†å…³è”ç±»å‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[async_trait::async_trait]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">QueueManager</span>: <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span> {
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">Publisher</span>: AsyncMessagePublisher;
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">Subscriber</span>: MessageSubscriber;

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_publisher</span>(&amp;<span class="hljs-keyword">self</span>, topic: <span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span>::Publisher;
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_subscriber</span>(&amp;<span class="hljs-keyword">self</span>, topic: <span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> anyhow::<span class="hljs-type">Result</span>&lt;<span class="hljs-keyword">Self</span>::Subscriber&gt;;
}
</code></pre>
<p>è¿™æ¯”æ³›å‹æ›´ä¼˜é›…ã€‚å®ƒè®©æ¯ä¸ªå®ç°è€…å®šä¹‰è‡ªå·±çš„å‘å¸ƒè€…å’Œè®¢é˜…è€…ç±»å‹ï¼Œä½†éµå¾ªç›¸åŒçš„æ¥å£ã€‚å½“æˆ‘å®ç° <code>MessageQueue</code> æ—¶ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/mq/broker.rs</span>
<span class="hljs-meta">#[async_trait::async_trait]</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">QueueManager</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">TopicManager</span> {
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">Publisher</span> = Publisher;      <span class="hljs-comment">// å…·ä½“ç±»å‹</span>
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">Subscriber</span> = Subscriber;    <span class="hljs-comment">// å…·ä½“ç±»å‹</span>

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_publisher</span>(&amp;<span class="hljs-keyword">self</span>, topic: <span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span>::Publisher {
        Publisher::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">clone</span>(), topic)
    }
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>è¿™ç§è®¾è®¡è®©æˆ‘å¯ä»¥åœ¨ä¸æ”¹å˜æ¥å£çš„æƒ…å†µä¸‹ï¼Œæ›¿æ¢å†…éƒ¨å®ç°ã€‚Rust çš„ç±»å‹ç³»ç»Ÿåœ¨ç¼–è¯‘æ—¶ç¡®ä¿ä¸€åˆ‡å®‰å…¨ã€‚</p>
<h2 data-id="heading-12">ç¬¬ä¸‰ç« ï¼šNative æ¨¡å¼ï¼šé›¶æ‹·è´çš„æè‡´ä¸åºåˆ—åŒ–çš„å–èˆ</h2>
<p>åœ¨è®¾è®¡ <code>tokio-memq</code> æ—¶ï¼Œæˆ‘é¢ä¸´ä¸€ä¸ªå…³é”®æŠ‰æ‹©ï¼šæ˜¯ä¸“æ³¨äºå†…å­˜é˜Ÿåˆ—çš„æœ¬è´¨ï¼Œè¿˜æ˜¯è¿½æ±‚é€šç”¨æ€§ï¼Ÿæœ€ç»ˆï¼Œæˆ‘é€‰æ‹©äº†<strong>Native æ¨¡å¼ä¼˜å…ˆ</strong>çš„è®¾è®¡å“²å­¦ã€‚</p>
<h3 data-id="heading-13">3.1 Native æ¨¡å¼ï¼šRust çš„é›¶æ‹·è´é­”æ³•</h3>
<p>å¯¹äºè¿›ç¨‹å†…çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ€ç†æƒ³çš„æƒ…å†µæ˜¯ï¼š<strong>å®Œå…¨é¿å…åºåˆ—åŒ–</strong>ã€‚<code>tokio-memq</code> é€šè¿‡ <code>Arc&lt;dyn Any + Send + Sync&gt;</code> å®ç°äº†è¿™ä¸€ç›®æ ‡ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/mq/message.rs</span>
<span class="hljs-meta">#[derive(Clone)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MessagePayload</span> {
    <span class="hljs-comment">// é›¶æ‹·è´çš„ç»ˆæå½¢æ€ï¼šç›´æ¥å…±äº« Rust å¯¹è±¡</span>
    <span class="hljs-title function_ invoke__">Native</span>(Arc&lt;<span class="hljs-keyword">dyn</span> Any + <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span>&gt;),
    <span class="hljs-comment">// åºåˆ—åŒ–å¤‡é€‰ï¼šä¸ºäº†å…¼å®¹æ€§å’Œè°ƒè¯•</span>
    <span class="hljs-title function_ invoke__">Bytes</span>(Arc&lt;<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">u8</span>&gt;&gt;),
}
</code></pre>
<p>è¿™ç§è®¾è®¡çš„ç²¾å¦™ä¹‹å¤„åœ¨äºï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å‘å¸ƒè€… - ç›´æ¥å°†ç»“æ„ä½“è£…å…¥ Arcï¼Œé›¶å¼€é”€</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">frame</span> = VideoFrame { data: large_vec, timestamp: now };
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">payload</span> = MessagePayload::<span class="hljs-title function_ invoke__">Native</span>(Arc::<span class="hljs-title function_ invoke__">new</span>(frame));

<span class="hljs-comment">// è®¢é˜…è€… - é€šè¿‡ downcast_ref å®‰å…¨åœ°è·å–åŸå§‹ç±»å‹</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">MessagePayload</span>::<span class="hljs-title function_ invoke__">Native</span>(any_data) = &amp;msg.payload {
    <span class="hljs-comment">// è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ + é›¶æ‹·è´è®¿é—®</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">frame</span>: &amp;VideoFrame = any_data.<span class="hljs-title function_ invoke__">downcast_ref</span>().<span class="hljs-title function_ invoke__">unwrap</span>();
    <span class="hljs-comment">// frame æŒ‡å‘åŒä¸€å—å†…å­˜ï¼Œæ²¡æœ‰å¤åˆ¶ï¼</span>
}
</code></pre>
<p>è¿™å°±æ˜¯ Native æ¨¡å¼çš„å¨åŠ›ï¼š<strong>åœ¨ Rust çš„ç±»å‹å®‰å…¨ä¿è¯ä¸‹ï¼Œå®ç°çœŸæ­£çš„é›¶æ‹·è´</strong>ã€‚å¯¹äºä¸€ä¸ª 100MB çš„è§†é¢‘å¸§ï¼Œåœ¨ Redis ä¸­éœ€è¦åºåˆ—åŒ–/ååºåˆ—åŒ–ä¸¤æ¬¡ï¼Œè€Œåœ¨ <code>tokio-memq</code> ä¸­åªéœ€è¦ä¼ é€’ä¸€ä¸ªæŒ‡é’ˆã€‚</p>
<h3 data-id="heading-14">3.2 åºåˆ—åŒ–ï¼šä¸æƒ…æ„¿ä½†å¿…è¦çš„å¦¥å</h3>
<p>æ—¢ç„¶ Native æ¨¡å¼å¦‚æ­¤å®Œç¾ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä¿ç•™åºåˆ—åŒ–æ¥å£ï¼Ÿè¿™æ˜¯ä¸€ä¸ª<strong>å®ç”¨ä¸»ä¹‰çš„æƒè¡¡</strong>ã€‚</p>
<h4 data-id="heading-15">3.2.1 åºåˆ—åŒ–çš„ç°å®ç”¨é€”</h4>
<ol>
<li>
<p><strong>è°ƒè¯•çš„ä¾¿åˆ©æ€§</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Native æ¨¡å¼æ— æ³•ç›´æ¥æ‰“å°</span>
<span class="hljs-built_in">println!</span>(<span class="hljs-string">"{:?}"</span>, native_payload); <span class="hljs-comment">// åªèƒ½æ‰“å° Any</span>

<span class="hljs-comment">// åºåˆ—åŒ–åå¯ä»¥æ¸…æ™°æŸ¥çœ‹å†…å®¹</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">json</span> = serde_json::<span class="hljs-title function_ invoke__">to_string</span>(&amp;data)?;
<span class="hljs-built_in">println!</span>(<span class="hljs-string">"Message: {}"</span>, json); <span class="hljs-comment">// å¯è¯»çš„è°ƒè¯•ä¿¡æ¯</span>
</code></pre>
</li>
<li>
<p><strong>æ—¥å¿—å’Œç›‘æ§</strong>ï¼šç³»ç»Ÿéœ€è¦è®°å½•æ¶ˆæ¯å†…å®¹ç”¨äºé—®é¢˜æ’æŸ¥ï¼ŒJSON æ˜¯æœ€é€šç”¨çš„æ—¥å¿—æ ¼å¼ã€‚</p>
</li>
</ol>
<h4 data-id="heading-16">3.2.2 è®¾è®¡ä¸Šçš„è®©æ­¥</h4>
<p>æˆ‘é‡‡ç”¨äº†<strong>åŒè½¨åˆ¶</strong>è®¾è®¡ï¼šé»˜è®¤ Native æ¨¡å¼ï¼Œæä¾›åºåˆ—åŒ–ä½œä¸ºå¤‡é€‰ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">impl</span>&lt;T: serde::Serialize&gt; AsyncMessagePublisher <span class="hljs-keyword">for</span> <span class="hljs-title class_">Publisher</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">publish</span>(&amp;<span class="hljs-keyword">self</span>, data: T) <span class="hljs-punctuation">-&gt;</span> anyhow::<span class="hljs-type">Result</span>&lt;()&gt; {
        <span class="hljs-comment">// é»˜è®¤ä½¿ç”¨ Native æ¨¡å¼</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">message</span> = TopicMessage::<span class="hljs-title function_ invoke__">new_shared_topic</span>(
            <span class="hljs-keyword">self</span>.topic.<span class="hljs-title function_ invoke__">clone</span>(), 
            data, 
            SerializationFormat::Native  <span class="hljs-comment">// å…³é”®ï¼šé»˜è®¤é›¶æ‹·è´</span>
        )?;
        <span class="hljs-keyword">self</span>.topic_manager.<span class="hljs-title function_ invoke__">publish</span>(message).<span class="hljs-keyword">await</span>
    }
}
</code></pre>
<p>ä½†åŒæ—¶ï¼Œæˆ‘ä¿ç•™äº† <code>publish_serialized</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å½“ç”¨æˆ·ç¡®å®éœ€è¦åºåˆ—åŒ–æ—¶</span>
publisher.<span class="hljs-title function_ invoke__">publish_serialized</span>(json_string).<span class="hljs-keyword">await</span>?;
publisher.<span class="hljs-title function_ invoke__">publish_bytes</span>(raw_bytes, SerializationFormat::Json).<span class="hljs-keyword">await</span>?;
</code></pre>
<h4 data-id="heading-17">3.2.3 å¤æ‚æ€§çš„ä»£ä»·</h4>
<p>ä¸ºäº†æ”¯æŒåºåˆ—åŒ–ï¼Œæˆ‘ä¸å¾—ä¸å¼•å…¥ <code>erased_serde</code> å’Œ <code>dyn Serializer</code>ï¼Œè¿™ç¡®å®å¢åŠ äº†å¤æ‚åº¦ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä¸ºäº†åŠ¨æ€ç±»å‹æ“¦é™¤è€Œå¼•å…¥çš„å¤æ‚æ€§</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">Serializer</span>: <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">serialize</span>(&amp;<span class="hljs-keyword">self</span>, data: &amp;<span class="hljs-keyword">dyn</span> erased_serde::Serialize) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">u8</span>&gt;, SerializationError&gt;;
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> SerializationFormat;
}
</code></pre>
<p>ä½†è¿™ä¸ªå¤æ‚æ€§è¢«<strong>éš”ç¦»</strong>åœ¨äº†åºåˆ—åŒ–æ¨¡å—ä¸­ï¼Œ99% çš„ç”¨æˆ·åªéœ€è¦ä½¿ç”¨é»˜è®¤çš„ Native æ¨¡å¼ï¼Œå®Œå…¨ä¸éœ€è¦æ¥è§¦è¿™äº›å¤æ‚çš„æ¦‚å¿µã€‚</p>
<h2 data-id="heading-18">ç¬¬å››ç« ï¼šå¼‚æ­¥é€šçŸ¥çš„æƒè¡¡é€‰æ‹©</h2>
<p>åœ¨è®¾è®¡æ¶ˆæ¯é€šçŸ¥æœºåˆ¶æ—¶ï¼Œæˆ‘é¢ä¸´å‡ ä¸ªé€‰é¡¹ï¼š</p>
<ol>
<li><strong>ä¸ºæ¯ä¸ªè®¢é˜…è€…åˆ›å»ºä¸€ä¸ª MPMC é€šé“</strong>ï¼šç®€å•ï¼Œä½†å†…å­˜å¼€é”€ O(N)ã€‚</li>
<li><strong>ä½¿ç”¨ä¸€ä¸ªå…¨å±€ MPMC é€šé“</strong>ï¼šå¤æ‚ï¼Œå®¹æ˜“å‡ºé”™ã€‚</li>
<li><strong>ä½¿ç”¨ <code>watch::Sender</code></strong>ï¼šè½»é‡ï¼Œä½†éœ€è¦è®¢é˜…è€…ä¸»åŠ¨æ£€æŸ¥ã€‚</li>
</ol>
<p>æˆ‘é€‰æ‹©äº† <code>watch</code>ï¼Œè¿™æ˜¯ <code>tokio</code> æä¾›çš„ä¸€ä¸ªè¢«ä½ä¼°çš„å¼ºå¤§å·¥å…·ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// åœ¨ TopicChannel ä¸­</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">TopicChannel</span> {
    <span class="hljs-comment">// ...</span>
    notify: Arc&lt;watch::Sender&lt;<span class="hljs-type">usize</span>&gt;&gt;, <span class="hljs-comment">// åªå‘é€æœ€æ–°çš„ offset</span>
}

<span class="hljs-comment">// å‘å¸ƒæ—¶</span>
<span class="hljs-keyword">self</span>.notify.<span class="hljs-title function_ invoke__">send</span>(next_offset).<span class="hljs-title function_ invoke__">ok</span>();

<span class="hljs-comment">// è®¢é˜…è€…ç«¯ï¼ˆåœ¨ Subscriber ä¸­ï¼‰</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Subscriber</span> {
    channel_notify: watch::Receiver&lt;<span class="hljs-type">usize</span>&gt;,
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">MessageSubscriber</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Subscriber</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">recv</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> anyhow::<span class="hljs-type">Result</span>&lt;TopicMessage&gt; {
        <span class="hljs-keyword">loop</span> {
            <span class="hljs-comment">// æ³¨å†Œé€šçŸ¥ç›‘å¬</span>
            <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">rx</span> = <span class="hljs-keyword">self</span>.channel_notify.<span class="hljs-title function_ invoke__">clone</span>();
            
            <span class="hljs-comment">// æ£€æŸ¥ç¼“å†²åŒº</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(msg) = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">fetch_from_buffer</span>(target_offset).<span class="hljs-keyword">await</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Ok</span>(msg.message);
            }
            
            <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æ¶ˆæ¯ï¼Œç­‰å¾…é€šçŸ¥</span>
            rx.<span class="hljs-title function_ invoke__">changed</span>().<span class="hljs-keyword">await</span>.<span class="hljs-title function_ invoke__">unwrap</span>();
        }
    }
}
</code></pre>
<p>è¿™ç§è®¾è®¡çš„ç²¾å¦™ä¹‹å¤„åœ¨äºï¼š<strong>é€šçŸ¥çš„æ•°æ®é‡æå°</strong>ï¼ˆåªæ˜¯ä¸€ä¸ª usizeï¼‰ï¼Œä½†å”¤é†’èƒ½åŠ›æ˜¯å¹¿æ’­çš„ã€‚å½“æœ‰æ–°æ¶ˆæ¯æ—¶ï¼Œæ‰€æœ‰è®¢é˜…è€…éƒ½ä¼šè¢«å”¤é†’ï¼Œç„¶åå„è‡ªå»æ£€æŸ¥è‡ªå·±çš„åç§»é‡ã€‚</p>
<p>è¿™å°±æ˜¯ Rust å¼‚æ­¥ç¼–ç¨‹çš„çœŸå®ä½“éªŒï¼šä½ æ€»æ˜¯åœ¨æƒè¡¡ã€‚CPU å¼€é”€ vs å†…å­˜å¼€é”€ vs å®ç°å¤æ‚åº¦ã€‚æ²¡æœ‰é“¶å¼¹ï¼Œåªæœ‰é€‚åˆåœºæ™¯çš„å–èˆã€‚</p>
<h2 data-id="heading-19">ç¬¬äº”ç« ï¼šä» Trait åˆ°å®ç°çš„ç—›è‹¦ä¹‹è·¯</h2>
<p>å®šä¹‰ Trait æ˜¯å¿«ä¹çš„ï¼Œå®ç°å®ƒå´å……æ»¡äº†ç»†èŠ‚çš„æŠ˜ç£¨ã€‚</p>
<h3 data-id="heading-20">5.1 ç”Ÿå‘½å‘¨æœŸåœ°ç‹±</h3>
<p>åœ¨å®ç° <code>Subscriber</code> çš„ <code>stream()</code> æ–¹æ³•æ—¶ï¼Œæˆ‘é‡åˆ°äº†ç”Ÿå‘½å‘¨æœŸé—®é¢˜ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Subscriber</span> {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">stream</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">impl</span> <span class="hljs-title class_">Stream</span>&lt;Item = anyhow::<span class="hljs-type">Result</span>&lt;TopicMessage&gt;&gt; + <span class="hljs-symbol">'_</span> {
        <span class="hljs-comment">// '_ è¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ³¨è§£æ˜¯å¿…é¡»çš„</span>
        try_stream! {
            <span class="hljs-keyword">loop</span> {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">msg</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">recv</span>().<span class="hljs-keyword">await</span>?;
                <span class="hljs-keyword">yield</span> msg;
            }
        }
    }
}
</code></pre>
<p><code>'_</code> è¡¨ç¤ºè¿™ä¸ª Stream çš„ç”Ÿå‘½å‘¨æœŸä¸èƒ½è¶…è¿‡ <code>self</code>ã€‚Rust çš„ç”Ÿå‘½å‘¨æœŸç³»ç»Ÿè¿«ä½¿ä½ æ€è€ƒï¼š<strong>è¿™ä¸ªå¯¹è±¡èƒ½æ´»å¤šä¹…ï¼Ÿè°æ‹¥æœ‰å®ƒï¼Ÿ</strong></p>
<h3 data-id="heading-21">5.2 å¼‚æ­¥é”çš„è‰ºæœ¯</h3>
<p>åœ¨ <code>TopicChannel::add_to_buffer</code> ä¸­ï¼Œæˆ‘éœ€è¦å°å¿ƒç¿¼ç¿¼åœ°å¤„ç†é”ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">add_to_buffer</span>(&amp;<span class="hljs-keyword">self</span>, message: TopicMessage) <span class="hljs-punctuation">-&gt;</span> anyhow::<span class="hljs-type">Result</span>&lt;()&gt; {
    <span class="hljs-comment">// 1. åŸå­æ“ä½œï¼šæ— é”ï¼Œå¿«é€Ÿè·å– offset</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">current_offset</span> = <span class="hljs-keyword">self</span>.next_offset.<span class="hljs-title function_ invoke__">fetch_add</span>(<span class="hljs-number">1</span>, Ordering::SeqCst);
    
    <span class="hljs-comment">// 2. è·å–å†™é”ï¼šä¸´ç•ŒåŒºå°½å¯èƒ½å°</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">buffer</span> = <span class="hljs-keyword">self</span>.message_buffer.<span class="hljs-title function_ invoke__">write</span>().<span class="hljs-keyword">await</span>;
    
    <span class="hljs-comment">// 3. æ¸…ç†é€»è¾‘</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">dropped</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(ttl) = <span class="hljs-keyword">self</span>.options.message_ttl {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(msg) = buffer.<span class="hljs-title function_ invoke__">front</span>() {
            <span class="hljs-keyword">if</span> msg.<span class="hljs-title function_ invoke__">is_expired</span>(ttl) {
                buffer.<span class="hljs-title function_ invoke__">pop_front</span>();
                dropped += <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">break</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">break</span>;
        }
    }
    
    <span class="hljs-comment">// 4. æ·»åŠ æ–°æ¶ˆæ¯</span>
    buffer.<span class="hljs-title function_ invoke__">push_back</span>(TimestampedMessage::<span class="hljs-title function_ invoke__">new</span>(message, current_offset));
    <span class="hljs-title function_ invoke__">drop</span>(buffer); <span class="hljs-comment">// å°½æ—©é‡Šæ”¾é”</span>
    
    <span class="hljs-comment">// 5. é€šçŸ¥è®¢é˜…è€…</span>
    <span class="hljs-keyword">self</span>.notify.<span class="hljs-title function_ invoke__">send</span>(current_offset + <span class="hljs-number">1</span>).<span class="hljs-title function_ invoke__">ok</span>();
    
    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
<p>è¿™é‡Œä½“ç°äº†å‡ ä¸ª Rust å¼€å‘çš„æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä½¿ç”¨åŸå­æ“ä½œå‡å°‘é”ç«äº‰</li>
<li>å°½æ—©é‡Šæ”¾é”ï¼ˆ<code>drop(buffer)</code>ï¼‰</li>
<li>å°†é€šçŸ¥ç§»å‡ºä¸´ç•ŒåŒº</li>
</ul>
<h3 data-id="heading-22">5.3 é”™è¯¯å¤„ç†çš„å“²å­¦</h3>
<p>æˆ‘é€‰æ‹©äº† <code>anyhow</code> ä½œä¸ºé”™è¯¯å¤„ç†åº“ï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰é”™è¯¯ç±»å‹ã€‚è¿™æ˜¯å› ä¸ºï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// anyhow çš„ç®€æ´</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">publish</span>&lt;T&gt;(&amp;<span class="hljs-keyword">self</span>, data: T) <span class="hljs-punctuation">-&gt;</span> anyhow::<span class="hljs-type">Result</span>&lt;()&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">message</span> = TopicMessage::<span class="hljs-title function_ invoke__">new</span>(...)?;  <span class="hljs-comment">// ? è‡ªåŠ¨è½¬æ¢</span>
    <span class="hljs-keyword">self</span>.topic_manager.<span class="hljs-title function_ invoke__">publish</span>(message).<span class="hljs-keyword">await</span>?;
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

<span class="hljs-comment">// è‡ªå®šä¹‰é”™è¯¯çš„ç¹ç</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">publish</span>&lt;T&gt;(&amp;<span class="hljs-keyword">self</span>, data: T) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), MyError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">message</span> = TopicMessage::<span class="hljs-title function_ invoke__">new</span>(...).<span class="hljs-title function_ invoke__">map_err</span>(MyError::Serialization)?;
    <span class="hljs-keyword">self</span>.topic_manager.<span class="hljs-title function_ invoke__">publish</span>(message).<span class="hljs-keyword">await</span>.<span class="hljs-title function_ invoke__">map_err</span>(MyError::Broker)?;
    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘å‘ç° <code>anyhow</code> çš„ <code>Context</code> ç‰¹æ€§è¶³å¤Ÿç”¨äºè°ƒè¯•ï¼Œè€Œä»£ç ç®€æ´æ€§çš„æå‡æ˜¯å·¨å¤§çš„ã€‚å½“ç„¶ï¼Œè¿™åœ¨å…¬å…±åº“ä¸­å¯èƒ½æœ‰äº‰è®®ï¼Œä½†åœ¨å†…éƒ¨é¡¹ç›®ä¸­ï¼Œæˆ‘å€¾å‘äºå¼€å‘æ•ˆç‡ã€‚</p>
<h2 data-id="heading-23">ç¬¬å…­ç« ï¼šæ€§èƒ½ä¼˜åŒ–çš„çœŸå®ä½“ä¼š</h2>
<p>æ€§èƒ½ä¼˜åŒ–ä¸æ˜¯é­”æ³•ï¼Œè€Œæ˜¯æƒè¡¡ã€‚</p>
<h3 data-id="heading-24">6.1 æ‰¹é‡å¤„ç†çš„å¨åŠ›</h3>
<p>åŸºå‡†æµ‹è¯•å‘Šè¯‰æˆ‘ï¼Œå¯¹äºå°æ¶ˆæ¯ï¼Œæ‰¹é‡å¤„ç†èƒ½æå‡ 3 å€æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å•æ¡å‘å¸ƒ</span>
<span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">1000</span> {
    publisher.<span class="hljs-title function_ invoke__">publish</span>(i).<span class="hljs-keyword">await</span>?;
}

<span class="hljs-comment">// æ‰¹é‡å‘å¸ƒ</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">batch</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt; = (<span class="hljs-number">0</span>..<span class="hljs-number">1000</span>).<span class="hljs-title function_ invoke__">collect</span>();
publisher.<span class="hljs-title function_ invoke__">publish_batch</span>(batch).<span class="hljs-keyword">await</span>?;
</code></pre>
<p>ä¸ºä»€ä¹ˆå¿«ï¼Ÿ</p>
<ol>
<li><strong>å‡å°‘é”ç«äº‰</strong>ï¼šè·å–ä¸€æ¬¡é” vs è·å–ä¸€åƒæ¬¡é”ã€‚</li>
<li><strong>å†…å­˜è¿ç»­æ€§</strong>ï¼šæ‰¹é‡åˆ†é… vs é¢‘ç¹å°åˆ†é…ã€‚</li>
<li><strong>é€šçŸ¥æ•ˆç‡</strong>ï¼šä¸€æ¬¡å”¤é†’ vs ä¸€åƒæ¬¡å”¤é†’ã€‚</li>
</ol>
<h3 data-id="heading-25">6.2 åˆ†åŒºçš„ä»£ä»·</h3>
<p>åˆ†åŒºç¡®å®æå‡äº†ååé‡ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å¤æ‚æ€§ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// åˆ†åŒºè·¯ç”±é€‰æ‹©</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">select_partition</span>(&amp;<span class="hljs-keyword">self</span>, message: &amp;TopicMessage) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">routing</span> = <span class="hljs-keyword">self</span>.routing_strategy.<span class="hljs-title function_ invoke__">read</span>().<span class="hljs-keyword">await</span>; <span class="hljs-comment">// åˆä¸€ä¸ªé”ï¼</span>
    <span class="hljs-keyword">match</span> &amp;*routing {
        PartitionRouting::RoundRobin =&gt; {
            <span class="hljs-comment">// åŸå­æ“ä½œï¼Œæ— é”</span>
            <span class="hljs-keyword">self</span>.round_robin_counter.<span class="hljs-title function_ invoke__">fetch_add</span>(<span class="hljs-number">1</span>, Ordering::SeqCst) % <span class="hljs-keyword">self</span>.partition_count
        },
        PartitionRouting::<span class="hljs-title function_ invoke__">Hash</span>(key) =&gt; {
            <span class="hljs-comment">// å“ˆå¸Œè®¡ç®—ï¼ŒCPU å¯†é›†</span>
            <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">hasher</span> = DefaultHasher::<span class="hljs-title function_ invoke__">new</span>();
            key.<span class="hljs-title function_ invoke__">hash</span>(&amp;<span class="hljs-keyword">mut</span> hasher);
            (hasher.<span class="hljs-title function_ invoke__">finish</span>() <span class="hljs-keyword">as</span> <span class="hljs-type">usize</span>) % <span class="hljs-keyword">self</span>.partition_count
        }
    }
}
</code></pre>
<p>æ¯ä¸ªåˆ†åŒºéƒ½éœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„ <code>RwLock</code>ï¼Œè¿™æ„å‘³ç€å†…å­˜ä½¿ç”¨å’Œé”ç®¡ç†çš„å¤æ‚åº¦å¢åŠ ã€‚è¿™æ˜¯ Rust å¼€å‘ä¸­çš„ç°å®ï¼š<strong>æ²¡æœ‰å…è´¹çš„åˆé¤</strong>ã€‚æ¯ä¸ªä¼˜åŒ–éƒ½æœ‰ä»£ä»·ï¼Œä½ éœ€è¦æ ¹æ®åœºæ™¯é€‰æ‹©ã€‚</p>
<h2 data-id="heading-26">ç»“è®ºï¼šRust å¼€å‘çš„è‹¦ä¸ä¹</h2>
<p>ç»è¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘å¯¹ Rust æœ‰äº†æ›´æ·±çš„ç†è§£ï¼š</p>
<h3 data-id="heading-27">æˆ‘çˆ± Rust çš„åœ°æ–¹</h3>
<ul>
<li><strong>ç¼–è¯‘å™¨çš„ä¸¥æ ¼</strong>ï¼šå®ƒè¿«ä½¿æˆ‘æ€è€ƒæ‰€æœ‰çš„è¾¹ç•Œæƒ…å†µã€‚è™½ç„¶è¿‡ç¨‹ç—›è‹¦ï¼Œä½†ç»“æœæ˜¯å¯é çš„ä»£ç ã€‚</li>
<li><strong>Trait ç³»ç»Ÿ</strong>ï¼šå®ƒè®©æˆ‘çš„æ¶æ„æ›´æ¸…æ™°ï¼Œæ›´å®¹æ˜“æµ‹è¯•å’Œæ‰©å±•ã€‚</li>
<li><strong>é›¶æˆæœ¬æŠ½è±¡</strong>ï¼šå½“æˆ‘å†™å‡º <code>Arc&lt;Vec&lt;u8&gt;&gt;</code> æ—¶ï¼Œæˆ‘çŸ¥é“å®ƒåœ¨è¿è¡Œæ—¶å‡ ä¹æ²¡æœ‰é¢å¤–å¼€é”€ã€‚</li>
<li><strong>å¼‚æ­¥ç”Ÿæ€</strong>ï¼š<code>tokio</code>ã€<code>async-trait</code>ã€<code>async-stream</code> ç­‰å·¥å…·é“¾çš„æˆç†Ÿåº¦ä»¤äººå°è±¡æ·±åˆ»ã€‚</li>
</ul>
<h3 data-id="heading-28">æˆ‘æŒ£æ‰çš„åœ°æ–¹</h3>
<ul>
<li><strong>å­¦ä¹ æ›²çº¿é™¡å³­</strong>ï¼šç”Ÿå‘½å‘¨æœŸã€å€Ÿç”¨æ£€æŸ¥å™¨ã€Pinã€Future... æ¯ä¸ªæ¦‚å¿µéƒ½éœ€è¦æ·±åº¦ç†è§£ã€‚</li>
<li><strong>ç¼–è¯‘æ—¶é—´</strong>ï¼šå¤§é¡¹ç›®çš„ç¼–è¯‘æ—¶é—´ç¡®å®æ˜¯ä¸ªé—®é¢˜ã€‚</li>
<li><strong>ç”Ÿæ€é€‰æ‹©</strong>ï¼šå¤ªå¤šé€‰æ‹©åè€Œå¢åŠ äº†å†³ç­–æˆæœ¬ã€‚æ¯”å¦‚åºåˆ—åŒ–åº“ï¼Œå°±æœ‰åå‡ ç§ã€‚</li>
</ul>
<h3 data-id="heading-29">ç»™ Rust æ–°æ‰‹çš„å»ºè®®</h3>
<p>å¦‚æœä½ ä¹Ÿæƒ³ç”¨ Rust é€ è½®å­ï¼š</p>
<ol>
<li><strong>å…ˆå®šä¹‰ Trait</strong>ï¼šè¿™ä¼šå¼ºè¿«ä½ ç†æ¸…æ€è·¯ï¼Œè€Œä¸æ˜¯ä¸€å¤´æ‰è¿›å®ç°ç»†èŠ‚ã€‚</li>
<li><strong>æ‹¥æŠ±æ‰€æœ‰æƒ</strong>ï¼šä¸è¦è¯•å›¾ç”¨ <code>unsafe</code> ç»•è¿‡å®ƒã€‚ç†è§£ <code>Arc</code>ã€<code>Rc</code>ã€<code>Box</code> çš„ä½¿ç”¨åœºæ™¯ã€‚</li>
<li><strong>å–„ç”¨ <code>anyhow</code></strong>ï¼šåœ¨åŸå‹å’Œå†…éƒ¨é¡¹ç›®ä¸­ï¼Œä¼˜å…ˆè€ƒè™‘å¼€å‘æ•ˆç‡ã€‚</li>
<li><strong>é˜…è¯»æºç </strong>ï¼š<code>tokio</code>ã€<code>serde</code> çš„æºç æ˜¯æœ€å¥½çš„å­¦ä¹ ææ–™ã€‚</li>
</ol>
<h2 data-id="heading-30">ç»™å¼€æºç¤¾åŒºçš„é‚€è¯·</h2>
<p><code>tokio-memq</code> ä¸æ˜¯å®Œç¾çš„ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªçœŸè¯šçš„å°è¯•ï¼šè¯•å›¾åœ¨ Rust çš„å®‰å…¨çº¦æŸä¸‹ï¼Œå®ç°ä¸€ä¸ªé«˜æ€§èƒ½çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°çš„ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§<strong>å·¥ç¨‹æ€ç»´çš„è½¬å˜</strong>â€”â€”ä»è¿½æ±‚æœ€å¿«çš„å®ç°ï¼Œè½¬å‘å¯»æ±‚å¹³è¡¡çš„æ–¹æ¡ˆã€‚</p>
<p>å¦‚æœä½ å¯¹è¿™ä¸ªé¡¹ç›®æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è¯•ç”¨å’Œè´¡çŒ®ï¼š</p>
<ul>
<li><strong>GitHub ä»“åº“</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fweiwangfds%2Ftokio-memq" target="_blank" title="https://github.com/weiwangfds/tokio-memq" ref="nofollow noopener noreferrer">github.com/weiwangfds/â€¦</a></li>
<li><strong>Crates.io é¡µé¢</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fcrates.io%2Fcrates%2Ftokio-memq" target="_blank" title="https://crates.io/crates/tokio-memq" ref="nofollow noopener noreferrer">crates.io/crates/tokiâ€¦</a></li>
</ul>
<h3 data-id="heading-31">å¦‚ä½•å¼€å§‹ä½¿ç”¨</h3>
<p>åœ¨ä½ çš„ <code>Cargo.toml</code> ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">tokio-memq</span> = <span class="hljs-string">"1.0.0"</span>
<span class="hljs-attr">tokio</span> = { version = <span class="hljs-string">"1"</span>, features = [<span class="hljs-string">"full"</span>] }
<span class="hljs-attr">anyhow</span> = <span class="hljs-string">"1.0"</span>
<span class="hljs-attr">serde</span> = { version = <span class="hljs-string">"1.0"</span>, features = [<span class="hljs-string">"derive"</span>] }
</code></pre>
<p>ç„¶åè¿è¡Œæœ€ç®€å•çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> tokio_memq::mq::MessageQueue;
<span class="hljs-keyword">use</span> tokio_memq::{MessageSubscriber, AsyncMessagePublisher};

<span class="hljs-meta">#[tokio::main]</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() <span class="hljs-punctuation">-&gt;</span> anyhow::<span class="hljs-type">Result</span>&lt;()&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">mq</span> = MessageQueue::<span class="hljs-title function_ invoke__">new</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">topic</span> = <span class="hljs-string">"demo"</span>;

    <span class="hljs-comment">// åˆ›å»ºè®¢é˜…è€…</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">sub</span> = mq.<span class="hljs-title function_ invoke__">subscriber</span>(topic.<span class="hljs-title function_ invoke__">to_string</span>()).<span class="hljs-keyword">await</span>?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">publisher</span> = mq.<span class="hljs-title function_ invoke__">publisher</span>(topic.<span class="hljs-title function_ invoke__">to_string</span>());

    <span class="hljs-comment">// å‘å¸ƒæ¶ˆæ¯</span>
    tokio::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
        publisher.<span class="hljs-title function_ invoke__">publish</span>(<span class="hljs-string">"Hello from tokio-memq!"</span>).<span class="hljs-keyword">await</span>.<span class="hljs-title function_ invoke__">unwrap</span>();
    });

    <span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">msg</span> = sub.<span class="hljs-title function_ invoke__">recv</span>().<span class="hljs-keyword">await</span>?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">payload</span>: <span class="hljs-type">String</span> = msg.<span class="hljs-title function_ invoke__">deserialize</span>()?;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Received: {}"</span>, payload);

    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
<h3 data-id="heading-32">æ¬¢è¿è´¡çŒ®</h3>
<p>è¿™ä¸ªé¡¹ç›®è¿˜åœ¨æ—©æœŸé˜¶æ®µï¼Œä»»ä½•å½¢å¼çš„è´¡çŒ®éƒ½è¢«æ¬¢è¿ï¼š</p>
<ul>
<li>ğŸ› <strong>Bug æŠ¥å‘Š</strong>ï¼šå¦‚æœä½ å‘ç°äº†é—®é¢˜ï¼Œè¯·åœ¨ GitHub ä¸Šæäº¤ issueã€‚</li>
<li>ğŸ’¡ <strong>åŠŸèƒ½å»ºè®®</strong>ï¼šæœ‰ä»€ä¹ˆæƒ³æ³•ï¼Ÿå¼€ä¸ª issue æˆ‘ä»¬è®¨è®ºã€‚</li>
<li>ğŸ”§ <strong>ä»£ç è´¡çŒ®</strong>ï¼šæ— è®ºæ˜¯æ–°åŠŸèƒ½ã€æ€§èƒ½ä¼˜åŒ–è¿˜æ˜¯æ–‡æ¡£æ”¹è¿›ï¼ŒPR éƒ½å¾ˆå—æ¬¢è¿ã€‚</li>
<li>ğŸ“– <strong>æ–‡æ¡£å®Œå–„</strong>ï¼šå¥½çš„æ–‡æ¡£æ¯”ä»£ç æ›´é‡è¦ï¼Œå¦‚æœä½ è§‰å¾—å“ªé‡Œä¸æ¸…æ¥šï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚</li>
</ul>
<p>è®©æˆ‘ä»¬ä¸€èµ·æŠŠ Rust çš„æ¶ˆæ¯é˜Ÿåˆ—ç”Ÿæ€åšå¾—æ›´å¥½ï¼</p>
<p>æˆ–è®¸ï¼Œè¿™å°±æ˜¯ Rust å¼€å‘çš„çœŸè°›ï¼šåœ¨çº¦æŸä¸­å¯»æ‰¾æœ€ä¼˜è§£ï¼Œ<strong>åœ¨ç¤¾åŒºä¸­å…±åŒæˆé•¿</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®åº“å¤§äº‹åŠ¡æœ‰ä»€ä¹ˆå±å®³(é¢è¯•ç‰ˆ)]]></title>    <link>https://juejin.cn/post/7584787119273721883</link>    <guid>https://juejin.cn/post/7584787119273721883</guid>    <pubDate>2025-12-18T04:57:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584787119273721883" data-draft-id="7582397035942952966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®åº“å¤§äº‹åŠ¡æœ‰ä»€ä¹ˆå±å®³(é¢è¯•ç‰ˆ)"/> <meta itemprop="keywords" content="åç«¯,æ•°æ®åº“,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-18T04:57:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³ç”¨offeræ‰“ç‰Œ"/> <meta itemprop="url" content="https://juejin.cn/user/578781641968972"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®åº“å¤§äº‹åŠ¡æœ‰ä»€ä¹ˆå±å®³(é¢è¯•ç‰ˆ)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/578781641968972/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³ç”¨offeræ‰“ç‰Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T04:57:56.000Z" title="Thu Dec 18 2025 04:57:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p>å¤§å®¶å¥½ï¼ä»Šå¤©æ¥è®²è®²æ—¥å¸¸å¼€å‘å’Œé¢è¯•ä¸­å¸¸å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œä»€ä¹ˆæ˜¯å¤§äº‹åŠ¡ï¼Ÿå¦‚ä½•é¿å…å¤§äº‹åŠ¡ï¼Ÿå·²ç»æœ‰äº†å¤§äº‹åŠ¡æ€ä¹ˆè¿›è¡Œè§£å†³ï¼Ÿå¦‚æœä»»ç”±å¤§äº‹åŠ¡è¿™æ ·é£æ ¼çš„ä»£ç æ¨ªè¡Œï¼Œé¡¹ç›®å˜æˆå²å±±æ˜¯å¿…ç„¶çš„äº‹æƒ…ğŸ˜ˆï¼Œç»™åæ¥è€…ç»´æŠ¤é¡¹ç›®å’Œç»§ç»­å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„éš¾åº¦ã€‚é‚£æˆ‘ä»¬ä»Šå¤©å°±ä¸€èµ·æ¥æ¢è®¨ä¸€ä¸‹è¿™ä¸ªäº‹æƒ…å§ï¼</p>
</blockquote>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯å¤§äº‹åŠ¡ï¼Ÿ</h2>
<p>å¤§äº‹åŠ¡é€šå¸¸æŒ‡æ»¡è¶³ä»¥ä¸‹ä¸€ä¸ªæˆ–è€…å¤šä¸ªç‰¹å¾çš„äº‹åŠ¡ï¼š</p>
<ul>
<li>æ¶‰åŠå¤§é‡æ•°æ®æˆ–è€…èµ„æºçš„ä¿®æ”¹(å¦‚ä¸€æ¬¡updateå‡ åä¸‡è¡Œæ•°æ®)</li>
<li>æ‰§è¡Œæ—¶é—´å¾ˆé•¿(å‡ ç§’ï¼Œå‡ åˆ†é’Ÿç”šè‡³æ›´ä¹…)</li>
<li>åŒ…å«å¤§é‡æœªæäº¤æ›´æ”¹(undologéå¸¸å¤§)</li>
</ul>
<p>é‚£ä¹ˆç®€å•æ¥è¯´å°±æ˜¯äº‹åŠ¡çš„ç²’åº¦å¤ªå¤§ï¼Œå¯¼è‡´ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œæ—¶é—´å¤ªé•¿ï¼Œæ•°æ®åº“å‹åŠ›å¤ªå¤§ã€‚</p>
<h2 data-id="heading-2">å¤§äº‹åŠ¡å¸¦æ¥çš„é—®é¢˜</h2>
<h3 data-id="heading-3">1. å¯¼è‡´æ•°æ®åº“è¿æ¥æ± è€—å°½</h3>
<p>è¿™æ˜¯æœ€ç›´æ¥çš„å½±å“ã€‚</p>
<ul>
<li><strong>åŸç†ï¼š</strong> æ¯ä¸ªäº‹åŠ¡éƒ½ä¼šå ç”¨ä¸€ä¸ªæ•°æ®åº“è¿æ¥ï¼ˆConnectionï¼‰ã€‚å¦‚æœäº‹åŠ¡å¤„ç†éå¸¸æ…¢ï¼ˆæ¯”å¦‚åœ¨äº‹åŠ¡ä¸­è¿›è¡Œäº†è€—æ—¶çš„è¿œç¨‹ RPC è°ƒç”¨æˆ–å¤§é‡ IOï¼‰ï¼Œè¯¥è¿æ¥å°†æ— æ³•é‡Šæ”¾å›æ± ä¸­ã€‚</li>
<li><strong>åæœï¼š</strong> å½“å¹¶å‘é‡ç¨å¾®ä¸Šå‡ï¼Œè¿æ¥æ± è¢«å æ»¡ï¼Œåç»­è¯·æ±‚å°†å› è·å–ä¸åˆ°è¿æ¥è€ŒæŠ¥é”™ï¼ˆå¦‚ Java ä¸­çš„ <code>SQLTransientConnectionException</code>ï¼‰ï¼Œå¯¼è‡´æ•´ä¸ªæœåŠ¡ç˜«ç—ªã€‚</li>
</ul>
<h3 data-id="heading-4">2. å¼•å‘å¤§é‡çš„è¡Œé”ç«äº‰ä¸æ­»é”</h3>
<ul>
<li><strong>é”å®šæ—¶é—´é•¿ï¼š</strong> äº‹åŠ¡æ‰§è¡Œæ—¶é—´è¶Šé•¿ï¼ŒæŒæœ‰çš„è¡Œé”ï¼ˆRow Lockï¼‰æ—¶é—´å°±è¶Šä¹…ã€‚</li>
<li><strong>é˜»å¡èŒƒå›´å¹¿ï¼š</strong> åœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œå…¶ä»–æƒ³è¦æ›´æ–°ç›¸åŒæ•°æ®çš„äº‹åŠ¡å¿…é¡»ç­‰å¾…ã€‚è¿™ä¼šå¯¼è‡´å¤§é‡çº¿ç¨‹å¤„äº <code>Lock wait</code> çŠ¶æ€ã€‚</li>
<li><strong>æ­»é”æ¦‚ç‡å¢åŠ ï¼š</strong> äº‹åŠ¡æ¶‰åŠçš„ SQL è¶Šå¤šï¼Œæ“ä½œè¡¨çš„é¡ºåºå¤æ‚çš„å¯èƒ½æ€§å°±è¶Šå¤§ï¼Œä»è€Œæ›´å®¹æ˜“è§¦å‘æ­»é”ã€‚</li>
</ul>
<h3 data-id="heading-5">3. å›æ»šæ—¥å¿—ï¼ˆUndo Logï¼‰å †ç§¯ä¸ç£ç›˜ç©ºé—´æš´æ¶¨</h3>
<p>è¿™æ˜¯å®¹æ˜“è¢«å¿½è§†çš„åº•å±‚å±å®³ã€‚</p>
<ul>
<li><strong>å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ (MVCC)ï¼š</strong> ä¸ºäº†å®ç°éš”ç¦»çº§åˆ«ï¼ŒInnoDB éœ€è¦åœ¨ <code>Undo Log</code> ä¸­ä¿å­˜æ—§ç‰ˆæœ¬æ•°æ®ã€‚</li>
<li><strong>æ¸…ç†å»¶è¿Ÿï¼š</strong> åªè¦å¤§äº‹åŠ¡ä¸æäº¤ï¼Œç³»ç»Ÿä¸ºäº†ä¿è¯è¯¥äº‹åŠ¡èƒ½çœ‹åˆ°â€œä¸€è‡´æ€§å¿«ç…§â€ï¼Œå°±ä¸èƒ½æ¸…ç†ç›¸å…³çš„ <code>Undo Log</code>ã€‚</li>
<li><strong>åæœï¼š</strong> <code>Undo Log</code> æŒç»­è†¨èƒ€ï¼Œä¸ä»…å ç”¨ç£ç›˜ç©ºé—´ï¼Œè¿˜ä¼šå¯¼è‡´æ•°æ®åº“çš„ <code>Purge</code> çº¿ç¨‹å‹åŠ›è¿‡å¤§ï¼Œä¸¥é‡å½±å“æ•´æœºæ€§èƒ½ã€‚</li>
</ul>
<h3 data-id="heading-6">4. é€ æˆä¸»ä»å»¶è¿Ÿ (Replication Lag)</h3>
<p>åœ¨ Java/Go åç«¯æ¶æ„ä¸­ï¼Œé€šå¸¸ä¼šæœ‰è¯»å†™åˆ†ç¦»ã€‚</p>
<ul>
<li><strong>ä¸²è¡Œæ‰§è¡Œï¼š</strong> è™½ç„¶ä¸»åº“å¯ä»¥å¹¶å‘æ‰§è¡Œå¤šä¸ªäº‹åŠ¡ï¼Œä½†ä¼ ç»Ÿçš„ MySQL ä»åº“åŒæ­¥ï¼ˆBinlog é‡æ”¾ï¼‰åœ¨æŸäº›é…ç½®ä¸‹æ˜¯å•çº¿ç¨‹æˆ–æŒ‰åº“å¹¶è¡Œçš„ã€‚</li>
<li><strong>å»¶è¿Ÿçˆ†å‘ï¼š</strong> ä¸»åº“æ‰§è¡Œäº† 10 ç§’çš„å¤§äº‹åŠ¡ï¼ŒåŒæ­¥åˆ°ä»åº“ä¹Ÿéœ€è¦è‡³å°‘ 10 ç§’ã€‚è¿™ä¼šå¯¼è‡´ä»åº“è¯»å–åˆ°æ—§æ•°æ®ï¼Œå¼•å‘ä¸šåŠ¡é€»è¾‘é”™è¯¯ï¼ˆå¦‚â€œåˆšä¿®æ”¹æˆåŠŸå´æŸ¥ä¸åˆ°æ–°æ•°æ®â€ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-7">5. å†…å­˜æº¢å‡ºä¸æœåŠ¡å®•æœºé£é™©</h3>
<ul>
<li>
<p>å¤§äº‹åŠ¡éœ€è¦ç»´æŠ¤å¤§é‡çš„äº‹åŠ¡ä¸Šä¸‹æ–‡ï¼Œé”ä¿¡æ¯ï¼Œredologï¼Œundologï¼Œæ¶ˆè€—å¤§é‡å†…å­˜</p>
</li>
<li>
<p>ç¼“å­˜åŒºä¸­çš„è¢«ä¿®æ”¹çš„é¡µ(è„é¡µ)å †ç§¯,åˆ·ç›˜å‹åŠ›å¤§</p>
</li>
<li>
<p>å¦‚æœä¸€ä¸ªäº‹åŠ¡ä¸€æ¬¡æ€§åŠ è½½äº†æ•°ç™¾ä¸‡è¡Œæ•°æ®åˆ°å†…å­˜ä¸­è¿›è¡Œå¤„ç†ï¼Œææ˜“è§¦å‘ Java çš„ <strong>Full GC</strong> æˆ– Go çš„ <strong>OOM</strong>ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">6.å´©æºƒæ¢å¤æ—¶é—´å˜é•¿</h3>
<ul>
<li>
<p>æ•°æ®åº“å¼‚å¸¸å®•æœºä¹‹åï¼ŒInnoDBéœ€è¦é€šè¿‡redologé‡åšå·²æäº¤äº‹åŠ¡ï¼Œå¦‚æœå­˜åœ¨å¤§äº‹åŠ¡ï¼Œé‡åšæ—¶é—´å¯èƒ½é•¿è¾¾æ•°å°æ—¶ï¼Œå¯¼è‡´æœåŠ¡é•¿æ—¶é—´ä¸å¯ç”¨</p>
</li>
<li>
<p>å›æ»šä¹Ÿæ˜¯ç›¸åŒé“ç†ï¼Œé€šè¿‡undologå›æ»šæœªæäº¤äº‹åŠ¡ï¼Œå­˜åœ¨æœªæäº¤çš„äº‹åŠ¡ï¼Œå›æ»šè¿‡ç¨‹å¯èƒ½é•¿è¾¾æ•°å°æ—¶ï¼Œå¯¼è‡´æœåŠ¡é•¿æ—¶é—´ä¸å¯ç”¨</p>
</li>
</ul>
<h2 data-id="heading-9">å¦‚ä½•é¿å…å¤§äº‹åŠ¡(å¦‚ä½•å¤„ç†å¤§äº‹åŠ¡)</h2>
<p>å¦‚ä½•é¿å…å¤§äº‹åŠ¡çš„åšæ³•å…¶å®å°±æ˜¯è®²å¦‚ä½•å¤„ç†å¤§äº‹åŠ¡çš„è¿™ç§æƒ…å†µã€‚</p>
<h3 data-id="heading-10">äº‹åŠ¡ç²’åº¦è¦å°</h3>
<p>æˆ‘ä»¬è¦ææ¸…äº‹åŠ¡é€»è¾‘ï¼Œä»€ä¹ˆæ˜¯æ ¸å¿ƒæ•°æ®äº‹åŠ¡é€»è¾‘ï¼Œä»€ä¹ˆæ˜¯è¾…åŠ©æ•°æ®äº‹åŠ¡é€»è¾‘ã€‚ä¸è¦æŠŠæ‰€æœ‰æ“ä½œéƒ½å¡è¿›ä¸€ä¸ªäº‹åŠ¡ã€‚è¯†åˆ«å‡ºå“ªäº›æ˜¯å¿…é¡»ä¿è¯â€œåŸå­æ€§â€çš„æ ¸å¿ƒæ•°æ®ä¿®æ”¹ï¼Œå“ªäº›æ˜¯å³ä½¿å¤±è´¥äº†ä¹Ÿå¯ä»¥é€šè¿‡è¡¥å¿æ¢å¤çš„è¾…åŠ©ä¸šåŠ¡ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼š</strong> ç”¨æˆ·ä¸‹å•æµç¨‹ã€‚</p>
<ul>
<li><strong>å¤§äº‹åŠ¡åšæ³•ï¼š</strong> <code>å¼€å§‹äº‹åŠ¡ -&gt; æ‰£ä½™é¢ -&gt; å‡åº“å­˜ -&gt; ç”Ÿæˆè®¢å• -&gt; å¢åŠ ç§¯åˆ† -&gt; å‘é€ä¸‹å•æˆåŠŸçŸ­ä¿¡ -&gt; æäº¤äº‹åŠ¡</code>ã€‚</li>
<li><strong>ä¼˜åŒ–åšæ³•ï¼š</strong> 1. <strong>æ ¸å¿ƒäº‹åŠ¡ï¼š</strong> <code>æ‰£ä½™é¢ + å‡åº“å­˜ + ç”Ÿæˆè®¢å•</code>ï¼ˆä¿è¯é’±å’Œè´§ä¸€è‡´ï¼‰ã€‚ 2. <strong>å¼‚æ­¥/ç‹¬ç«‹ï¼š</strong> ç§¯åˆ†å¢åŠ å’Œå‘çŸ­ä¿¡é€šè¿‡ <strong>æ¶ˆæ¯é˜Ÿåˆ— (MQ)</strong> æˆ–åœ¨äº‹åŠ¡æäº¤åçš„ <strong>å¼‚æ­¥çº¿ç¨‹</strong> ä¸­å¤„ç†</li>
</ul>
<h3 data-id="heading-11">é¿å…åœ¨äº‹åŠ¡ä¸­åšéæ•°æ®åº“æ“ä½œ</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„é”™è¯¯ã€‚<strong>ç»å¯¹ä¸è¦</strong>åœ¨äº‹åŠ¡å—å†…æ‰§è¡Œè€—æ—¶æ“ä½œã€‚</p>
<ul>
<li><strong>ä¸¥ç¦æ“ä½œï¼š</strong> RPC æ¥å£è°ƒç”¨ã€HTTP è¯·æ±‚ã€å¤æ‚çš„æ–‡ä»¶è¯»å†™ã€æˆ–æ˜¯å¯†é›†çš„ CPU è®¡ç®—ï¼ˆå¦‚åŠ å¯†ã€å¤§å›¾ç‰‡å¤„ç†ï¼‰ï¼Œæˆ–è€…æ˜¯MQå‘é€ã€‚</li>
<li><strong>åæœï¼š</strong> å¦‚æœç¬¬ä¸‰æ–¹æ¥å£å“åº”æ…¢ï¼ˆæ¯”å¦‚ 5 ç§’ï¼‰ï¼Œä½ çš„æ•°æ®åº“è¿æ¥å°±ä¼šè¢«ç™½ç™½å ç”¨ 5 ç§’</li>
</ul>
<h3 data-id="heading-12">ç¼–ç¨‹å¼äº‹åŠ¡æ›¿ä»£å£°æ˜å¼äº‹åŠ¡</h3>
<p>åœ¨Spring ä¸­ï¼Œå¤§å®¶ä¹ æƒ¯ç”¨ <code>@Transactional</code>ï¼Œä½†è¿™å®¹æ˜“å¯¼è‡´æ•´ä¸ª Service æ–¹æ³•éƒ½è¢«åŒ…è£¹åœ¨äº‹åŠ¡ä¸­ã€‚</p>
<ul>
<li><strong>ä¼˜åŒ–ï¼š</strong> ä½¿ç”¨ <code>TransactionTemplate</code> (Java) æˆ–æ‰‹åŠ¨ç®¡ç† <code>db.Begin()</code> (Go)ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 2. åªæœ‰æ ¸å¿ƒå†™å…¥åœ¨äº‹åŠ¡å†… </span>
transactionTemplate.execute(status -&gt; { updateData(); <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; }); 
<span class="hljs-comment">// 3. äº‹åŠ¡å¤–çš„å¼‚æ­¥é€šçŸ¥ </span>
sendNotification();
</code></pre>
<h3 data-id="heading-13">ä¼˜åŒ–å¤§æ‰¹é‡å¤„ç†ï¼ˆBatch Processingï¼‰</h3>
<p>å¦‚æœéœ€è¦æ›´æ–° 10 ä¸‡æ¡æ•°æ®ï¼Œä¸è¦åœ¨ä¸€ä¸ªäº‹åŠ¡é‡Œå®Œæˆã€‚</p>
<ul>
<li><strong>æ–¹æ³•ï¼š</strong> <strong>åˆ†é¡µå¤„ç† + å¤šäº‹åŠ¡</strong>ã€‚</li>
<li><strong>å®è·µï¼š</strong> æ¯ 500 æˆ– 1000 æ¡å¼€å¯ä¸€ä¸ªæ–°äº‹åŠ¡å¹¶æäº¤ã€‚è¿™æ ·å³ä½¿å…¶ä¸­ä¸€éƒ¨åˆ†å¤±è´¥ï¼Œä¹‹å‰çš„å·²ç»å…¥åº“ï¼Œä¸”ä¸ä¼šé•¿æ—¶é—´å ç”¨é”å’Œ Undo Logã€‚</li>
</ul>
<h3 data-id="heading-14">SQLè¯­å¥ä¼˜åŒ–</h3>
<p>æ§åˆ¶â€œæŸ¥è¯¢â€çš„èŒƒå›´ï¼Œæœ‰æ—¶å€™äº‹åŠ¡å˜å¤§æ˜¯å› ä¸º <code>SELECT</code> è€—æ—¶å¤ªä¹…ã€‚</p>
<ul>
<li><strong>åªæŸ¥å¿…è¦å­—æ®µï¼š</strong> é¿å… <code>SELECT *</code>ï¼Œå‡å°‘å†…å­˜å’Œç½‘ç»œå¼€é”€ã€‚</li>
<li><strong>äº‹åŠ¡å‰ç½®æŸ¥è¯¢ï¼š</strong> å°½é‡åœ¨ <code>BEGIN</code> ä¹‹å‰å®Œæˆå¤æ‚çš„åªè¯»æŸ¥è¯¢ã€‚åœ¨äº‹åŠ¡å†…åªè¿›è¡Œå¿…è¦çš„ <code>SELECT FOR UPDATE</code> è¿™ç§éœ€è¦é”å®šçš„æŸ¥è¯¢ã€‚</li>
</ul>
<h3 data-id="heading-15">æœ€ç»ˆä¸€è‡´æ€§ä¸ Saga æ¨¡å¼</h3>
<p>åœ¨å¾®æœåŠ¡æˆ–å¤æ‚ä¸šåŠ¡ä¸­ï¼Œå¦‚æœè·¨åº“æ“ä½œå¤ªå¤šï¼Œä¸å…¶è¿½æ±‚ä¸€ä¸ªâ€œè¶…å¤§äº‹åŠ¡â€ï¼Œä¸å¦‚é‡‡ç”¨åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>æœ¬åœ°æ¶ˆæ¯è¡¨ï¼š</strong> åœ¨äº‹åŠ¡å†…åªè®°å½•ä¸€æ¡â€œå¾…å¤„ç†ä»»åŠ¡â€ï¼Œäº‹åŠ¡æäº¤åï¼Œç”±åå°ä»»åŠ¡å¼‚æ­¥æ‰§è¡Œåç»­é€»è¾‘ã€‚</li>
<li><strong>Saga æ¨¡å¼ï¼š</strong> æ‹†åˆ†æˆå¤šä¸ªå°äº‹åŠ¡ï¼Œå¦‚æœåé¢æ­¥éª¤å¤±è´¥ï¼Œæ‰§è¡Œå¯¹åº”çš„â€œé€†å‘è¡¥å¿â€æ“ä½œï¼ˆå¦‚ï¼šé€€æ¬¾ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-16">è®¾ç½®äº‹åŠ¡è¶…æ—¶</h3>
<ul>
<li>åœ¨innodbé‡Œé¢è®¾ç½®äº‹åŠ¡è¶…æ—¶æ—¶é—´ï¼Œé¿å…é•¿æ—¶é—´å ç”¨èµ„æºã€‚</li>
<li>é€šè¿‡ä»£ç å±‚ç›‘æµ‹ï¼Œè¶…è¿‡ä¸€å®šæ—¶é—´å°±è¿”å›å¼‚å¸¸ä¸­æ–­ï¼Œé˜²æ­¢äº‹åŠ¡æ— é™æœŸè¿è¡Œ(è¿™é‡Œè¦æ ¹æ®å…·ä½“ä¸šåŠ¡å…·ä½“é™æ—¶)</li>
</ul>
<h2 data-id="heading-17">æ€»ç»“</h2>
<blockquote>
<p><strong>å¤§äº‹åŠ¡ = é«˜é£é™©æ“ä½œ</strong>ã€‚ å®ƒä¸ä»…<strong>å ç”¨é”ã€å†…å­˜ã€I/Oã€æ—¥å¿—ç©ºé—´</strong>ï¼Œè¿˜ä¼š<strong>é˜»å¡å¹¶å‘ã€æ‹–æ…¢å¤åˆ¶ã€å»¶é•¿æ¢å¤æ—¶é—´</strong>ï¼Œä¸¥é‡æ—¶å¯å¯¼è‡´<strong>æ•°æ®åº“é›ªå´©æˆ–æœåŠ¡ç˜«ç—ª</strong>ã€‚</p>
</blockquote>
<p>å› æ­¤ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­åº”<strong>ä¸¥æ ¼é¿å…å¤§äº‹åŠ¡</strong>ï¼ŒåšæŒâ€œå°äº‹åŠ¡ã€å¿«æäº¤â€çš„åŸåˆ™ã€‚å¯¹äºæ‰¹é‡æ•°æ®å¤„ç†ä»»åŠ¡ï¼ŒåŠ¡å¿…é‡‡ç”¨<strong>åˆ†æ‰¹æäº¤ + é™æµ + ç›‘æ§</strong>çš„ç­–ç•¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring é”™è¯¯ä½¿ç”¨äº‹åŠ¡å¯¼è‡´æ•°æ®å¯è§æ€§é—®é¢˜åˆ†æ]]></title>    <link>https://juejin.cn/post/7585112748897091627</link>    <guid>https://juejin.cn/post/7585112748897091627</guid>    <pubDate>2025-12-19T03:53:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585112748897091627" data-draft-id="7585091990347382820" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring é”™è¯¯ä½¿ç”¨äº‹åŠ¡å¯¼è‡´æ•°æ®å¯è§æ€§é—®é¢˜åˆ†æ"/> <meta itemprop="keywords" content="Spring Boot,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-19T03:53:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jaising666"/> <meta itemprop="url" content="https://juejin.cn/user/2418581311850301"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring é”™è¯¯ä½¿ç”¨äº‹åŠ¡å¯¼è‡´æ•°æ®å¯è§æ€§é—®é¢˜åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2418581311850301/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jaising666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:53:26.000Z" title="Fri Dec 19 2025 03:53:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>ç»§ç»­ï¼Œæ¡ˆä¾‹åŒæ ·æ¥è‡ªäºä¼ä¸šçº§ä»£ç ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªé”™è¯¯ä½¿ç”¨äº‹åŠ¡å¯¼è‡´çš„æ•…éšœã€‚</p>
<p>å› ä¸ºç½‘ç»œéš”ç¦»ï¼Œä¸¤ä¸ªæœåŠ¡ä¾èµ–äºåŒä¸€ä¸ªæ•°æ®åº“åšæ•°æ®ä¼ é€’ï¼Œä¸€ä¸ªæœåŠ¡å¼€å¯äº‹åŠ¡å†™å…¥æ•°æ®å¹¶é€šçŸ¥å¦ä¸€ä¸ªæœåŠ¡ï¼Œå¦ä¸€ä¸ªæœåŠ¡æ”¶åˆ°é€šçŸ¥åæ›´æ–°æ•°æ®ã€‚æ•…éšœç°è±¡æ˜¯ä¸¤ä¸ªæœåŠ¡å’Œæ•°æ®åº“éƒ½æ²¡æœ‰æ˜æ˜¾å¼‚å¸¸ï¼Œä½†ä¼šå¶å°”å‘ç”Ÿæ•°æ®æœªè¢«æ›´æ–°ã€‚</p>
<p>ç»è¿‡æ’æŸ¥ç¡®è®¤ç¬¬ä¸€ä¸ªæœåŠ¡äº‹åŠ¡æœªè¢«æ­£ç¡®ä½¿ç”¨ï¼Œå¦‚æœç¬¬äºŒä¸ªæœåŠ¡æ¶ˆè´¹æ•°æ®å¿«äºç¬¬ä¸€ä¸ªæœåŠ¡äº‹åŠ¡æäº¤é€Ÿåº¦å°±ä¼šå‘ç”Ÿæ•°æ®æ›´æ–°ä¸¢å¤±çš„é—®é¢˜ï¼Œä¸‹é¢å¯¹é—®é¢˜åšäº†æŠ½è±¡ç®€è¦å›é¡¾ã€‚</p>
<hr/>
<h2 data-id="heading-1">1. é—®é¢˜å‘ç”ŸåŸå› ï¼šå•ä¸ªäº‹åŠ¡æ§åˆ¶ä¸å½“å¯¼è‡´è°ƒç”¨æœåŠ¡æ›´æ–°ä¸¢å¤±</h2>
<h3 data-id="heading-2">1.1 é—®é¢˜åœºæ™¯æè¿°</h3>
<p>åœ¨å…¸å‹çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œéœ€è¦å…ˆåˆ›å»ºæ•°æ®è®°å½•ï¼Œç„¶åè°ƒç”¨å¤–éƒ¨æœåŠ¡è¿›è¡Œåç»­å¤„ç†ã€‚é”™è¯¯çš„å®ç°å°†æ•°æ®åº“æ“ä½œå’Œå¤–éƒ¨æœåŠ¡è°ƒç”¨æ”¾åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯çš„å®ç°æ–¹å¼</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processBusinessRequest</span><span class="hljs-params">(BusinessRequest request, String operator)</span> {
    <span class="hljs-comment">// 1. åœ¨äº‹åŠ¡ä¸­åˆ›å»ºæ•°æ®åº“è®°å½•</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">taskId</span> <span class="hljs-operator">=</span> createBusinessRecord(request, operator);
    
    <span class="hljs-comment">// 2. åœ¨åŒä¸€äº‹åŠ¡ä¸­è°ƒç”¨å¤–éƒ¨æœåŠ¡</span>
    callExternalService(taskId, request); <span class="hljs-comment">// é—®é¢˜å‘ç”Ÿç‚¹</span>
}
</code></pre>
<h3 data-id="heading-3">1.2 é—®é¢˜è¡¨ç°</h3>
<ol>
<li><strong>æ•°æ®å¯è§æ€§é—®é¢˜</strong>ï¼šå¤–éƒ¨æœåŠ¡æŸ¥è¯¢ä¸åˆ°åˆšåˆ›å»ºçš„ä¸šåŠ¡è®°å½•</li>
<li><strong>ä¸šåŠ¡é€»è¾‘é”™è¯¯</strong>ï¼šå¤–éƒ¨æœåŠ¡åŸºäºç©ºæ•°æ®æ‰§è¡Œé”™è¯¯çš„ä¸šåŠ¡é€»è¾‘</li>
<li><strong>æ•°æ®çŠ¶æ€ä¸ä¸€è‡´</strong>ï¼šæœ¬åœ°è®¤ä¸ºæ•°æ®å·²åˆ›å»ºï¼Œå¤–éƒ¨æœåŠ¡è®¤ä¸ºæ•°æ®ä¸å­˜åœ¨</li>
<li><strong>æ€§èƒ½é—®é¢˜</strong>ï¼šé•¿æ—¶é—´æŒæœ‰æ•°æ®åº“é”ï¼Œå½±å“å¹¶å‘æ€§èƒ½</li>
</ol>
<hr/>
<h2 data-id="heading-4">2. é—®é¢˜æ ¹æœ¬åŸå› ï¼šäº‹åŠ¡ä¼ æ’­æœºåˆ¶ä¸éš”ç¦»æœºåˆ¶</h2>
<h3 data-id="heading-5">2.1 äº‹åŠ¡éš”ç¦»çº§åˆ«æœºåˆ¶</h3>
<h4 data-id="heading-6">READ COMMITTEDéš”ç¦»çº§åˆ«ï¼ˆSpringä¸MySQLé»˜è®¤é…ç½®ï¼‰</h4>
<p><strong>READ COMMITTEDè§„åˆ™ï¼š</strong></p>
<ul>
<li>åªèƒ½è¯»å–<strong>å·²æäº¤</strong>çš„æ•°æ®</li>
<li>é˜²æ­¢è„è¯»ï¼Œä½†å…è®¸ä¸å¯é‡å¤è¯»</li>
<li>æœªæäº¤çš„äº‹åŠ¡å¯¹å…¶ä»–äº‹åŠ¡ä¸å¯è§</li>
</ul>
<h4 data-id="heading-7">MVCCå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶</h4>
<pre><code class="hljs language-ini" lang="ini">æ•°æ®ç‰ˆæœ¬é“¾æœºåˆ¶ï¼š
æ—¶é—´ç‚¹1: äº‹åŠ¡Aå¼€å§‹ (<span class="hljs-attr">TxID</span>=<span class="hljs-number">100</span>)
æ—¶é—´ç‚¹2: INSERT batch_001 -&gt; <span class="hljs-section">[batch_001@100, æœªæäº¤]</span> -&gt; <span class="hljs-section">[ç©ºè¡¨@0, å·²æäº¤]</span>
æ—¶é—´ç‚¹3: äº‹åŠ¡BæŸ¥è¯¢ (<span class="hljs-attr">TxID</span>=<span class="hljs-number">101</span>) -&gt; åªèƒ½çœ‹åˆ°å·²æäº¤ç‰ˆæœ¬ -&gt; è¿”å›ç©ºè¡¨
æ—¶é—´ç‚¹4: äº‹åŠ¡Aæäº¤ -&gt; <span class="hljs-section">[batch_001@100, å·²æäº¤]</span> -&gt; æ‰€æœ‰äº‹åŠ¡å¯è§
</code></pre>
<h3 data-id="heading-8">2.2 äº‹åŠ¡ä¼ æ’­æœºåˆ¶</h3>
<h4 data-id="heading-9">REQUIREDä¼ æ’­è¡Œä¸ºï¼ˆé»˜è®¤ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Transactional</span> <span class="hljs-comment">// é»˜è®¤ propagation = Propagation.REQUIRED</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">outerMethod</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// å¤–å±‚äº‹åŠ¡å¼€å§‹</span>
    innerMethod(); <span class="hljs-comment">// åŠ å…¥å¤–å±‚äº‹åŠ¡ï¼Œä¸ä¼šåˆ›å»ºæ–°äº‹åŠ¡</span>
    <span class="hljs-comment">// å¤–å±‚äº‹åŠ¡ç»“æŸæ—¶æ‰æäº¤</span>
}

<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">innerMethod</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// æ•°æ®åº“æ“ä½œåœ¨å¤–å±‚äº‹åŠ¡ä¸­æ‰§è¡Œ</span>
    <span class="hljs-comment">// æ­¤æ—¶æ•°æ®å¯¹å¤–éƒ¨ä¸å¯è§</span>
}
</code></pre>
<h4 data-id="heading-10">é—®é¢˜æ—¶åºåˆ†æ</h4>
<pre><code class="hljs language-sql" lang="sql">æ—¶é—´è½´    åº”ç”¨A(äº‹åŠ¡ä¸­)              å¤–éƒ¨æœåŠ¡B                æ•°æ®åº“MVCC
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">1</span>   <span class="hljs-keyword">BEGIN</span> TRANSACTION            <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> åˆ›å»ºäº‹åŠ¡A(TxID<span class="hljs-operator">=</span><span class="hljs-number">100</span>)
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">2</span>   <span class="hljs-keyword">INSERT</span> business_task         <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> å†™å…¥æ•°æ®(TxID<span class="hljs-operator">=</span><span class="hljs-number">100</span>,æœªæäº¤)
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> ç‰ˆæœ¬é“¾: [task_001<span class="hljs-variable">@100</span>] <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> [ç©º<span class="hljs-variable">@0</span>]
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">3</span>   HTTPè°ƒç”¨å¤–éƒ¨æœåŠ¡ <span class="hljs-comment">-----------&gt; | æŸ¥è¯¢ä¸šåŠ¡ä¸Šä¸‹æ–‡          |</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">4</span>                                 <span class="hljs-operator">|</span> <span class="hljs-keyword">SELECT</span> task_001 <span class="hljs-comment">-----&gt; | æ–°äº‹åŠ¡B(TxID=101)</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> READ_committedè§„åˆ™:
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> åªèƒ½è¯»å–å·²æäº¤æ•°æ®
  <span class="hljs-number">5</span>                                 <span class="hljs-operator">|</span> <span class="hljs-operator">&lt;</span><span class="hljs-comment">-- è¿”å›ç©ºç»“æœ -------- | task_001@100æœªæäº¤,ä¸å¯è§</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">6</span>                                 <span class="hljs-operator">|</span> åŸºäºç©ºæ•°æ®æ‰§è¡Œä¸šåŠ¡é€»è¾‘   <span class="hljs-operator">|</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">7</span>   å¤–éƒ¨æœåŠ¡å®Œæˆ <span class="hljs-operator">&lt;</span><span class="hljs-comment">-------------- | è¿”å›å¤„ç†ç»“æœ            |</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">8</span>   <span class="hljs-keyword">COMMIT</span> <span class="hljs-comment">-----------------&gt; |                       | æäº¤äº‹åŠ¡A</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">9</span>   ä¸šåŠ¡çŠ¶æ€ä¸ä¸€è‡´ï¼              <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> æ•°æ®ç°åœ¨å¯è§ï¼Œä½†å¤–éƒ¨æœåŠ¡
      æœ¬åœ°ï¼šä»»åŠ¡å·²åˆ›å»º              <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> å·²åŸºäº"æ— æ•°æ®"æ‰§è¡Œå®Œæ¯•
      å¤–éƒ¨ï¼šåŸºäºç©ºæ•°æ®å¤„ç†          <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
</code></pre>
<h3 data-id="heading-11">2.3 æŠ€æœ¯éªŒè¯</h3>
<p>å¯ä»¥é€šè¿‡SQLç›´æ¥éªŒè¯éš”ç¦»æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼šè¯1ï¼šæ¨¡æ‹Ÿåº”ç”¨äº‹åŠ¡</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> business_task (task_id, status) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'task_001'</span>, <span class="hljs-string">'PENDING'</span>);
<span class="hljs-comment">-- ä¸æäº¤äº‹åŠ¡</span>

<span class="hljs-comment">-- ä¼šè¯2ï¼šæ¨¡æ‹Ÿå¤–éƒ¨æœåŠ¡æŸ¥è¯¢</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> business_task <span class="hljs-keyword">WHERE</span> task_id <span class="hljs-operator">=</span> <span class="hljs-string">'task_001'</span>;
<span class="hljs-comment">-- ç»“æœï¼šEmpty set (READ COMMITTEDéš”ç¦»æœºåˆ¶)</span>

<span class="hljs-comment">-- ä¼šè¯1ï¼šæäº¤äº‹åŠ¡</span>
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- ä¼šè¯2ï¼šå†æ¬¡æŸ¥è¯¢</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> business_task <span class="hljs-keyword">WHERE</span> task_id <span class="hljs-operator">=</span> <span class="hljs-string">'task_001'</span>;
<span class="hljs-comment">-- ç»“æœï¼šç°åœ¨èƒ½æŸ¥è¯¢åˆ°æ•°æ®äº†</span>
</code></pre>
<hr/>
<h2 data-id="heading-12">3. ä¿®å¤æ–¹æ³•ï¼šä½¿ç”¨Selfæ³¨å…¥å®Œæˆäº‹åŠ¡ä»£ç†</h2>
<h3 data-id="heading-13">3.1 åŸºäºä»£ç†çš„äº‹åŠ¡åŸç†</h3>
<h4 data-id="heading-14">Spring AOPäº‹åŠ¡ä»£ç†æœºåˆ¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Springä¸ºServiceç±»åˆ›å»ºçš„ä»£ç†å¯¹è±¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BusinessServiceImpl$$SpringProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BusinessService</span> {
    
    <span class="hljs-keyword">private</span> BusinessServiceImpl target; <span class="hljs-comment">// çœŸå®å¯¹è±¡</span>
    <span class="hljs-keyword">private</span> TransactionInterceptor transactionInterceptor; <span class="hljs-comment">// äº‹åŠ¡æ‹¦æˆªå™¨</span>
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">createDistributionRecordsInTransaction</span><span class="hljs-params">(ScriptDeployDTO deployDTO, String operator)</span> {
        <span class="hljs-comment">// 1. äº‹åŠ¡æ‹¦æˆªå™¨å¼€å§‹äº‹åŠ¡</span>
        <span class="hljs-type">TransactionStatus</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> transactionManager.getTransaction(transactionDefinition);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. è°ƒç”¨çœŸå®å¯¹è±¡çš„æ–¹æ³•</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> target.createDistributionRecordsInTransaction(deployDTO, operator);
            
            <span class="hljs-comment">// 3. æäº¤äº‹åŠ¡</span>
            transactionManager.commit(status);
            <span class="hljs-keyword">return</span> result;
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// 4. å›æ»šäº‹åŠ¡</span>
            transactionManager.rollback(status);
            <span class="hljs-keyword">throw</span> e;
        }
    }
}
</code></pre>
<h4 data-id="heading-15">å†…éƒ¨æ–¹æ³•è°ƒç”¨çš„é—®é¢˜</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BusinessServiceImpl</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deployScript</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// âŒ ç›´æ¥è°ƒç”¨å†…éƒ¨æ–¹æ³•ï¼Œç»•è¿‡äº†ä»£ç†å¯¹è±¡</span>
        createRecords(); <span class="hljs-comment">// äº‹åŠ¡æ³¨è§£ä¸ç”Ÿæ•ˆï¼</span>
    }
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createRecords</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// äº‹åŠ¡ä¸ä¼šå¼€å¯ï¼Œå› ä¸ºæ²¡æœ‰é€šè¿‡ä»£ç†è°ƒç”¨</span>
    }
}
</code></pre>
<h3 data-id="heading-16">3.2 Selfæ³¨å…¥è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-17">æ­£ç¡®çš„å®ç°æ–¹å¼</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BusinessServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BusinessService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> BusinessServiceImpl self; <span class="hljs-comment">// æ³¨å…¥ä»£ç†å¯¹è±¡</span>
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processBusinessRequest</span><span class="hljs-params">(BusinessRequest request, String operator)</span> {
        <span class="hljs-comment">// 1. é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨ï¼Œç¡®ä¿äº‹åŠ¡ç”Ÿæ•ˆ</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">taskId</span> <span class="hljs-operator">=</span> self.createBusinessRecordInTransaction(request, operator);
        <span class="hljs-comment">// ç¬¬ä¸€ä¸ªäº‹åŠ¡åœ¨è¿™é‡Œæäº¤ï¼Œæ•°æ®ç«‹å³å¯è§</span>
        
        <span class="hljs-comment">// 2. äº‹åŠ¡æäº¤åè°ƒç”¨å¤–éƒ¨æœåŠ¡</span>
        callExternalService(taskId, request);
    }
    
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">createBusinessRecordInTransaction</span><span class="hljs-params">(BusinessRequest request, String operator)</span> {
        <span class="hljs-keyword">return</span> createBusinessRecord(request, operator);
    } <span class="hljs-comment">// äº‹åŠ¡åœ¨æ­¤å¤„æäº¤</span>
}
</code></pre>
<h4 data-id="heading-18">Selfæ³¨å…¥çš„æŠ€æœ¯åŸç†</h4>
<ol>
<li>
<p><strong>Springå®¹å™¨ç®¡ç†</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Springå®¹å™¨ä¸­çš„Beanå®šä¹‰</span>
<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> BusinessServiceImpl <span class="hljs-title function_">BusinessService</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> Proxy.newProxyInstance(
        classLoader,
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>[]{BusinessService.class},
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">TransactionInvocationHandler</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessServiceImpl</span>())
    );
}
</code></pre>
</li>
<li>
<p><strong>ä»£ç†å¯¹è±¡æ³¨å…¥</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> BusinessServiceImpl self; 
<span class="hljs-comment">// æ³¨å…¥çš„æ˜¯ä»£ç†å¯¹è±¡ï¼ŒåŒ…å«äº‹åŠ¡æ‹¦æˆªé€»è¾‘</span>
</code></pre>
</li>
<li>
<p><strong>äº‹åŠ¡æ‹¦æˆªæµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java">self.createDistributionRecordsInTransaction() 
-&gt; TransactionInterceptor.invoke()
-&gt; PlatformTransactionManager.getTransaction()
-&gt; ç›®æ ‡æ–¹æ³•æ‰§è¡Œ
-&gt; PlatformTransactionManager.commit()
</code></pre>
</li>
</ol>
<h3 data-id="heading-19">3.3 ä¿®å¤åçš„å®Œæ•´æ—¶åº</h3>
<pre><code class="hljs language-sql" lang="sql">æ—¶é—´è½´    åº”ç”¨A                     å¤–éƒ¨æœåŠ¡B                æ•°æ®åº“MVCC
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">1</span>   è°ƒç”¨self.createRecords()     <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">2</span>   <span class="hljs-keyword">BEGIN</span> TRANSACTION            <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> åˆ›å»ºäº‹åŠ¡A(TxID<span class="hljs-operator">=</span><span class="hljs-number">100</span>)
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">3</span>   <span class="hljs-keyword">INSERT</span> distribution_result   <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> å†™å…¥æ•°æ®(TxID<span class="hljs-operator">=</span><span class="hljs-number">100</span>)
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">4</span>   <span class="hljs-keyword">COMMIT</span> <span class="hljs-comment">-----------------&gt; |                       | æäº¤äº‹åŠ¡A</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> æ•°æ®å¯¹æ‰€æœ‰äº‹åŠ¡å¯è§
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">5</span>   HTTPè°ƒç”¨å¤–éƒ¨æœåŠ¡ <span class="hljs-comment">-----------&gt; | ç«‹å³å›è°ƒæŸ¥è¯¢            |</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">6</span>                                 <span class="hljs-operator">|</span> <span class="hljs-keyword">SELECT</span> batch_001 <span class="hljs-comment">----&gt; | æ–°äº‹åŠ¡B(TxID=101)</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span> èƒ½è¯»å–å·²æäº¤æ•°æ®
  <span class="hljs-number">7</span>                                 <span class="hljs-operator">|</span> <span class="hljs-operator">&lt;</span><span class="hljs-comment">-- è¿”å›æ•°æ® --------- | è¿”å›batch_001è®°å½•</span>
  <span class="hljs-operator">|</span>                                 <span class="hljs-operator">|</span>                       <span class="hljs-operator">|</span>
  <span class="hljs-number">8</span>   å¤–éƒ¨æœåŠ¡æˆåŠŸ <span class="hljs-operator">&lt;</span><span class="hljs-comment">-------------- |                       |</span>
</code></pre>
<hr/>
<h2 data-id="heading-20">4. äº‹åŠ¡å¸¸è§ä½¿ç”¨é”™è¯¯ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-21">4.1 å¸¸è§é”™è¯¯æ¨¡å¼</h3>
<h4 data-id="heading-22">é”™è¯¯1ï¼šå†…éƒ¨æ–¹æ³•è°ƒç”¨äº‹åŠ¡å¤±æ•ˆ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºä¾‹</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerUser</span><span class="hljs-params">(User user)</span> {
        validateUser(user);
        saveUser(user); <span class="hljs-comment">// äº‹åŠ¡ä¸ç”Ÿæ•ˆ</span>
        sendEmail(user);
    }
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveUser</span><span class="hljs-params">(User user)</span> {
        userMapper.insert(user);
    }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ç¤ºä¾‹</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService self;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerUser</span><span class="hljs-params">(User user)</span> {
        validateUser(user);
        self.saveUser(user); <span class="hljs-comment">// é€šè¿‡ä»£ç†è°ƒç”¨ï¼Œäº‹åŠ¡ç”Ÿæ•ˆ</span>
        sendEmail(user);
    }
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveUser</span><span class="hljs-params">(User user)</span> {
        userMapper.insert(user);
    }
}
</code></pre>
<h4 data-id="heading-23">é”™è¯¯2ï¼šé•¿äº‹åŠ¡åŒ…å«å¤–éƒ¨è°ƒç”¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºä¾‹</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Order order)</span> {
    <span class="hljs-comment">// æ•°æ®åº“æ“ä½œ</span>
    orderMapper.insert(order);
    
    <span class="hljs-comment">// å¤–éƒ¨æœåŠ¡è°ƒç”¨ï¼ˆå¯èƒ½å¾ˆæ…¢ï¼‰</span>
    paymentService.processPayment(order); <span class="hljs-comment">// æŒæœ‰æ•°æ®åº“é”</span>
    
    <span class="hljs-comment">// æ›´å¤šæ•°æ®åº“æ“ä½œ</span>
    orderMapper.updateStatus(order.getId(), <span class="hljs-string">"PAID"</span>);
}

<span class="hljs-comment">// âœ… æ­£ç¡®ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Order order)</span> {
    <span class="hljs-comment">// ç¬¬ä¸€ä¸ªäº‹åŠ¡ï¼šåˆ›å»ºè®¢å•</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">orderId</span> <span class="hljs-operator">=</span> self.createOrderInTransaction(order);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å¤–éƒ¨æœåŠ¡è°ƒç”¨ï¼ˆæ— äº‹åŠ¡ï¼‰</span>
        <span class="hljs-type">PaymentResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> paymentService.processPayment(order);
        
        <span class="hljs-comment">// ç¬¬äºŒä¸ªäº‹åŠ¡ï¼šæ›´æ–°çŠ¶æ€</span>
        self.updateOrderStatusInTransaction(orderId, <span class="hljs-string">"PAID"</span>);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// ç¬¬ä¸‰ä¸ªäº‹åŠ¡ï¼šå¤„ç†å¤±è´¥</span>
        self.updateOrderStatusInTransaction(orderId, <span class="hljs-string">"FAILED"</span>);
        <span class="hljs-keyword">throw</span> e;
    }
}
</code></pre>
<h4 data-id="heading-24">é”™è¯¯3ï¼šå¼‚å¸¸å¤„ç†ä¸å½“å¯¼è‡´äº‹åŠ¡ä¸å›æ»š</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºä¾‹</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processData</span><span class="hljs-params">(List&lt;Data&gt; dataList)</span> {
    <span class="hljs-keyword">for</span> (Data data : dataList) {
        <span class="hljs-keyword">try</span> {
            processItem(data);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"å¤„ç†å¤±è´¥"</span>, e);
            <span class="hljs-comment">// å¼‚å¸¸è¢«åæ‰ï¼Œäº‹åŠ¡ä¸ä¼šå›æ»š</span>
        }
    }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ç¤ºä¾‹</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processData</span><span class="hljs-params">(List&lt;Data&gt; dataList)</span> {
    <span class="hljs-keyword">for</span> (Data data : dataList) {
        <span class="hljs-keyword">try</span> {
            processItem(data);
        } <span class="hljs-keyword">catch</span> (BusinessException e) {
            log.error(<span class="hljs-string">"ä¸šåŠ¡å¼‚å¸¸: {}"</span>, e.getMessage());
            <span class="hljs-keyword">throw</span> e; <span class="hljs-comment">// é‡æ–°æŠ›å‡ºï¼Œè§¦å‘å›æ»š</span>
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"ç³»ç»Ÿå¼‚å¸¸"</span>, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SystemException</span>(<span class="hljs-string">"å¤„ç†å¤±è´¥"</span>, e);
        }
    }
}
</code></pre>
<h4 data-id="heading-25">é”™è¯¯4ï¼šäº‹åŠ¡ä¼ æ’­è¡Œä¸ºä½¿ç”¨ä¸å½“</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºä¾‹ï¼šå®¡è®¡æ—¥å¿—åº”è¯¥ç‹¬ç«‹äº‹åŠ¡</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">businessOperation</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ä¸»ä¸šåŠ¡é€»è¾‘</span>
    performBusinessLogic();
    
    <span class="hljs-comment">// å®¡è®¡æ—¥å¿—ï¼ˆå¦‚æœä¸»ä¸šåŠ¡å¤±è´¥ï¼Œå®¡è®¡æ—¥å¿—ä¹Ÿä¼šå›æ»šï¼‰</span>
    auditService.recordOperation(); <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤REQUIREDä¼ æ’­</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨REQUIRES_NEW</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AuditService</span> {
    
    <span class="hljs-meta">@Transactional(propagation = Propagation.REQUIRES_NEW)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">recordOperation</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ç‹¬ç«‹äº‹åŠ¡ï¼Œå³ä½¿ä¸»ä¸šåŠ¡å¤±è´¥ä¹Ÿä¼šæäº¤</span>
        auditMapper.insert(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AuditLog</span>());
    }
}

<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">businessOperation</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">try</span> {
        performBusinessLogic();
        auditService.recordOperation(); <span class="hljs-comment">// è®°å½•æˆåŠŸæ—¥å¿—</span>
    } <span class="hljs-keyword">catch</span> (Exception e) {
        auditService.recordOperation(); <span class="hljs-comment">// è®°å½•å¤±è´¥æ—¥å¿—</span>
        <span class="hljs-keyword">throw</span> e;
    }
}
</code></pre>
<h3 data-id="heading-26">4.2 æœ€ä½³å®è·µæ€»ç»“</h3>
<h4 data-id="heading-27">1. äº‹åŠ¡è¾¹ç•Œè®¾è®¡åŸåˆ™</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… æ¨èæ¨¡å¼ï¼šçŸ­äº‹åŠ¡ + çŠ¶æ€ç®¡ç†</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">complexBusinessOperation</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. çŸ­äº‹åŠ¡åˆ›å»ºåˆå§‹çŠ¶æ€</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">taskId</span> <span class="hljs-operator">=</span> self.createTaskInTransaction(PENDING);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 2. æ— äº‹åŠ¡çš„å¤–éƒ¨æ“ä½œ</span>
        <span class="hljs-type">ExternalResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> externalService.process(taskId);
        
        <span class="hljs-comment">// 3. çŸ­äº‹åŠ¡æ›´æ–°æœ€ç»ˆçŠ¶æ€</span>
        self.updateTaskStatusInTransaction(taskId, SUCCESS, result);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// 4. çŸ­äº‹åŠ¡è®°å½•å¤±è´¥çŠ¶æ€</span>
        self.updateTaskStatusInTransaction(taskId, FAILED, e.getMessage());
        <span class="hljs-keyword">throw</span> e;
    }
}
</code></pre>
<h4 data-id="heading-28">2. äº‹åŠ¡æ³¨è§£é…ç½®è§„èŒƒ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… å®Œæ•´çš„äº‹åŠ¡é…ç½®</span>
<span class="hljs-meta">@Transactional(
    rollbackFor = Exception.class,           // æ‰€æœ‰å¼‚å¸¸éƒ½å›æ»š
    timeout = 30,                           // 30ç§’è¶…æ—¶
    isolation = Isolation.READ_COMMITTED,   // æ˜ç¡®æŒ‡å®šéš”ç¦»çº§åˆ«
    propagation = Propagation.REQUIRED      // æ˜ç¡®æŒ‡å®šä¼ æ’­è¡Œä¸º
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">businessMethod</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
}
</code></pre>
<h4 data-id="heading-29">3. å¼‚å¸¸å¤„ç†è§„èŒƒ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… åˆ†å±‚å¼‚å¸¸å¤„ç†</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">businessMethod</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">try</span> {
        riskyOperation();
    } <span class="hljs-keyword">catch</span> (BusinessException e) {
        <span class="hljs-comment">// ä¸šåŠ¡å¼‚å¸¸ï¼šè®°å½•å¹¶é‡æ–°æŠ›å‡º</span>
        log.warn(<span class="hljs-string">"ä¸šåŠ¡å¼‚å¸¸: {}"</span>, e.getMessage());
        <span class="hljs-keyword">throw</span> e;
    } <span class="hljs-keyword">catch</span> (SystemException e) {
        <span class="hljs-comment">// ç³»ç»Ÿå¼‚å¸¸ï¼šè®°å½•å¹¶é‡æ–°æŠ›å‡º</span>
        log.error(<span class="hljs-string">"ç³»ç»Ÿå¼‚å¸¸"</span>, e);
        <span class="hljs-keyword">throw</span> e;
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// æœªçŸ¥å¼‚å¸¸ï¼šåŒ…è£…åæŠ›å‡º</span>
        log.error(<span class="hljs-string">"æœªçŸ¥å¼‚å¸¸"</span>, e);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SystemException</span>(<span class="hljs-string">"æ“ä½œå¤±è´¥"</span>, e);
    }
}
</code></pre>
<h4 data-id="heading-30">4. æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… æ‰¹é‡æ“ä½œä¼˜åŒ–</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchProcess</span><span class="hljs-params">(List&lt;Data&gt; dataList)</span> {
    <span class="hljs-comment">// åˆ†æ‰¹å¤„ç†ï¼Œé¿å…é•¿äº‹åŠ¡</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">batchSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; dataList.size(); i += batchSize) {
        List&lt;Data&gt; batch = dataList.subList(i, Math.min(i + batchSize, dataList.size()));
        processBatch(batch);
    }
}

<span class="hljs-comment">// âœ… åªè¯»äº‹åŠ¡ä¼˜åŒ–</span>
<span class="hljs-meta">@Transactional(readOnly = true)</span>
<span class="hljs-keyword">public</span> List&lt;Data&gt; <span class="hljs-title function_">queryData</span><span class="hljs-params">(QueryCondition condition)</span> {
    <span class="hljs-comment">// åªè¯»äº‹åŠ¡ï¼Œæ•°æ®åº“å¯ä»¥è¿›è¡Œä¼˜åŒ–</span>
    <span class="hljs-keyword">return</span> dataMapper.selectByCondition(condition);
}
</code></pre>
<h4 data-id="heading-31">5. ç›‘æ§å’Œè°ƒè¯•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… äº‹åŠ¡çŠ¶æ€ç›‘æ§</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionMonitorService</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkTransactionStatus</span><span class="hljs-params">()</span> {
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isActive</span> <span class="hljs-operator">=</span> TransactionSynchronizationManager.isActualTransactionActive();
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isReadOnly</span> <span class="hljs-operator">=</span> TransactionSynchronizationManager.isCurrentTransactionReadOnly();
        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> TransactionSynchronizationManager.getCurrentTransactionName();
        
        log.info(<span class="hljs-string">"äº‹åŠ¡çŠ¶æ€: active={}, readOnly={}, name={}"</span>, isActive, isReadOnly, name);
    }
}

<span class="hljs-comment">// âœ… äº‹åŠ¡æ—¥å¿—é…ç½®</span>
# logback-spring.xml
&lt;logger name=<span class="hljs-string">"org.springframework.transaction"</span> level=<span class="hljs-string">"DEBUG"</span>/&gt;
&lt;logger name=<span class="hljs-string">"org.springframework.orm.jpa"</span> level=<span class="hljs-string">"DEBUG"</span>/&gt;
</code></pre>
<hr/>
<h2 data-id="heading-32">5. æ€»ç»“</h2>
<h3 data-id="heading-33">5.1 æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li><strong>äº‹åŠ¡éš”ç¦»æ˜¯ç«æ€æ¡ä»¶çš„æ ¹æœ¬åŸå› </strong>ï¼šREAD COMMITTEDéš”ç¦»çº§åˆ«å¯¼è‡´æœªæäº¤æ•°æ®ä¸å¯è§</li>
<li><strong>ä»£ç†æœºåˆ¶æ˜¯äº‹åŠ¡ç”Ÿæ•ˆçš„å‰æ</strong>ï¼šå†…éƒ¨æ–¹æ³•è°ƒç”¨å¿…é¡»é€šè¿‡ä»£ç†å¯¹è±¡</li>
<li><strong>äº‹åŠ¡è¾¹ç•Œè®¾è®¡è‡³å…³é‡è¦</strong>ï¼šæ•°æ®åº“æ“ä½œä¸å¤–éƒ¨è°ƒç”¨åº”è¯¥åˆ†ç¦»</li>
<li><strong>çŠ¶æ€ç®¡ç†ä¿è¯æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼šé€šè¿‡çŠ¶æ€å­—æ®µå’Œè¡¥å¿æœºåˆ¶å¤„ç†å¼‚å¸¸æƒ…å†µ</li>
</ol>
<h3 data-id="heading-34">5.2 å®æ–½å»ºè®®</h3>
<ol>
<li><strong>ç«‹å³ä¿®å¤</strong>ï¼šä½¿ç”¨selfæ³¨å…¥è§£å†³å†…éƒ¨æ–¹æ³•è°ƒç”¨é—®é¢˜</li>
<li><strong>é‡æ„é•¿äº‹åŠ¡</strong>ï¼šå°†å¤–éƒ¨è°ƒç”¨ä»äº‹åŠ¡ä¸­åˆ†ç¦»å‡ºæ¥</li>
<li><strong>å®Œå–„ç›‘æ§</strong>ï¼šæ·»åŠ äº‹åŠ¡çŠ¶æ€ç›‘æ§å’Œæ€§èƒ½æŒ‡æ ‡</li>
</ol>
<h3 data-id="heading-35">5.3 é¢„æœŸæ•ˆæœ</h3>
<ul>
<li><strong>æ¶ˆé™¤ç«æ€æ¡ä»¶</strong>ï¼šå¤–éƒ¨æœåŠ¡èƒ½æ­£å¸¸æŸ¥è¯¢åˆ°å·²æäº¤æ•°æ®</li>
<li><strong>æå‡å¹¶å‘æ€§èƒ½</strong>ï¼šç¼©çŸ­äº‹åŠ¡æŒæœ‰é”çš„æ—¶é—´</li>
<li><strong>å¢å¼ºç³»ç»Ÿç¨³å®šæ€§</strong>ï¼šå‡å°‘å› å¤–éƒ¨æœåŠ¡æ•…éšœå¯¼è‡´çš„äº‹åŠ¡å›æ»š</li>
<li><strong>æ”¹å–„å¯ç»´æŠ¤æ€§</strong>ï¼šæ¸…æ™°çš„äº‹åŠ¡è¾¹ç•Œå’Œé”™è¯¯å¤„ç†æœºåˆ¶</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[14å¤©é€ŸæˆLLMé«˜æ‰‹ï¼å¤§ä½¬å¼€æºå­¦ä¹ ç¬”è®°ï¼ŒGitHubç‹‚æ½700æ˜Ÿ]]></title>    <link>https://juejin.cn/post/7585091685339693102</link>    <guid>https://juejin.cn/post/7585091685339693102</guid>    <pubDate>2025-12-19T03:39:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585091685339693102" data-draft-id="7585121055036538930" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="14å¤©é€ŸæˆLLMé«˜æ‰‹ï¼å¤§ä½¬å¼€æºå­¦ä¹ ç¬”è®°ï¼ŒGitHubç‹‚æ½700æ˜Ÿ"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-19T03:39:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹æ•™ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1145012233707299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            14å¤©é€ŸæˆLLMé«˜æ‰‹ï¼å¤§ä½¬å¼€æºå­¦ä¹ ç¬”è®°ï¼ŒGitHubç‹‚æ½700æ˜Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1145012233707299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹æ•™ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:39:34.000Z" title="Fri Dec 19 2025 03:39:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>æ— è®ºæ˜¯é¢è¯•æ‰¾å·¥ä½œã€è¿˜æ˜¯è‡ªå­¦åˆ›ä¸šï¼Œç”šè‡³æƒ³è¦åœ¨åœˆå­å†…è®¨è®ºä¸€ä¸‹AGIçš„æ½œåŠ›ï¼Œä½†å‡¡æƒ³è¦æ·±åº¦å‚ä¸åˆ°AIæµªæ½®ä¸­ï¼Œä¸å¯é¿å…çš„å°±æ˜¯å­¦ä¹ å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„åº•å±‚åŸç†ã€‚</p>
<p>ä½†AIå‘å±•è¿™ä¹ˆå¤šå¹´ï¼Œè®ºæ–‡ã€å­¦ä¹ èµ„æ–™å¤šå¦‚ç‰›æ¯›ï¼Œå¹¶ä¸”æ›´æ–°æ¢ä»£æå¿«ï¼Œå¦‚ä½•å¿«é€Ÿå…¥é—¨ï¼Œå­¦ä¹ åˆ°é‚£äº›çœŸæ­£çš„åŸºç¡€çŸ¥è¯†ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´éƒ½æ˜¯ä¸€ä¸ªéš¾é¢˜ã€‚</p>
<p>æœ€è¿‘ï¼Œä¸€ä½AIä»ä¸šè€…åœ¨ç½‘ä¸Šåˆ†äº«äº†è‡ªå·±çš„å­¦ä¹ è¿‡ç¨‹ï¼Œ<strong>ä»…ç”¨14å¤©</strong>å°±å­¦å®Œäº†LLMæ‰€éœ€è¦çš„æ ¸å¿ƒçŸ¥è¯†ï¼Œå­¦ä¹ ç¬”è®°åœ¨GitHubä¸Šæ–©è·äº†675+æ˜Ÿæ˜Ÿï¼Œå¹¶ä¸”è¿˜åœ¨æŒç»­ä¸Šæ¶¨ã€‚</p>
<p>ä»“åº“é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhesamsheikh%2Fml-retreat" target="_blank" title="https://github.com/hesamsheikh/ml-retreat" ref="nofollow noopener noreferrer">github.com/hesamsheikhâ€¦</a></p>
<p>å­¦ä¹ è·¯çº¿ä¸­çš„ä¸»è¦çŸ¥è¯†ç‚¹åŒ…æ‹¬tokenåµŒå…¥ã€ä½ç½®åµŒå…¥ã€è‡ªæ³¨æ„åŠ›ã€Transformerã€å¯¹Qã€Kã€Vçš„ç›´è§‚ç†è§£ã€å› æœå’Œå¤šå¤´æ³¨æ„åŠ›ã€æ¸©åº¦ã€top-kã€top-pã€åˆ†ç±»å’ŒæŒ‡ä»¤å¾®è°ƒã€æ—‹è½¬ä½ç½®ç¼–ç ï¼ˆRoPEï¼‰ã€KVç¼“å­˜ã€æ— é™æ³¨æ„åŠ›ï¼ˆé•¿ä¸Šä¸‹æ–‡çª—å£ï¼‰ã€ä¸“å®¶æ··åˆï¼ˆMoEï¼‰ã€åˆ†ç»„æŸ¥è¯¢æ³¨æ„åŠ›ï¼ˆgrouped query attentionï¼‰ã€llama-2æ¶æ„åŠç›¸å…³æŠ€æœ¯ç­‰ã€‚</p>
<h2 data-id="heading-0">å­¦ä¹ LLMä¸‰æ­¥èµ°</h2>
<p>ä½œè€…æŠŠå­¦ä¹ è·¯çº¿åˆ†ä¸ºäº†ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<p><strong>1. ä»å¤´å¼€å§‹æ„å»ºå¤§æ¨¡å‹ï¼ˆBuild an LLM from Scratchï¼‰</strong></p>
<p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯æ€»ç»“è¯­è¨€æ¨¡å‹çš„åŸºç¡€çŸ¥è¯†ï¼ŒåŒ…æ‹¬tokenã€ä½ç½®åµŒå…¥ã€è‡ªæ³¨æ„åŠ›æœºåˆ¶ã€Transformeræ¶æ„ã€æœ€åˆç‰ˆæœ¬çš„æ³¨æ„åŠ›æœºåˆ¶ï¼ˆAttention is All You Needè®ºæ–‡ï¼‰å’Œå¾®è°ƒçš„åŸºæœ¬åŸç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7139b8b38aa4425a62d31432224a7f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720374&amp;x-signature=AYT2sz8uis2%2B1IxEY72h%2FeQPb3c%3D" alt="" loading="lazy"/></p>
<p>è™½ç„¶ç½‘ç»œä¸Šå·²ç»æœ‰å¾ˆå¤šèµ„æºï¼Œä½†å…¶ä¸­æœ€å…³é”®çš„å‚è€ƒèµ„æ–™æ˜¯Sebastian Raschkaç¼–å†™çš„ã€Šä»å¤´å¼€å§‹æ„å»ºå¤§å‹è¯­è¨€æ¨¡å‹ã€‹ï¼ˆBuild a Large Language Model From Scratchï¼‰ï¼Œè¿™æœ¬ä¹¦è§£é‡ŠæŠ€æœ¯åŸç†æ—¶éå¸¸å·§å¦™ï¼Œè¯»è€…ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9e4b90c817e4f03ad9cce0ef64e5dc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720374&amp;x-signature=8eEDAeSpJRFZLycQuFvr7dNxmv8%3D" alt="" loading="lazy"/></p>
<p>åœ¨å­¦ä¹ æ„å»ºæ™ºèƒ½ä½“æ—¶ï¼Œä¸€ä¸ªæ— æ³•ç»•è¿‡çš„éš¾é¢˜å°±æ˜¯ç ”ç©¶è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„å·¥ä½œåŸç†ï¼šè‡ªæ³¨æ„åŠ›æœºåˆ¶å¯ä»¥è®©æ¨¡å‹åœ¨å¤„ç†æ–‡æœ¬æ—¶ï¼Œèƒ½å¤Ÿç†è§£æ¯ä¸ªå•è¯æˆ–çŸ­è¯­ï¼ˆä¹Ÿå¯ä»¥å«åštokenï¼‰åœ¨æ•´ä½“ä¸Šä¸‹æ–‡ä¸­çš„ä½ç½®å’Œé‡è¦æ€§ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹ä¼šæ¶‰åŠåˆ°ä¸‰ä¸ªå…³é”®æ¦‚å¿µï¼šæŸ¥è¯¢ï¼ˆqueryï¼‰ã€é”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰ï¼Œå…¶ä¸­æŸ¥è¯¢ä»£è¡¨æ¨¡å‹åœ¨å¯»æ‰¾ä¿¡æ¯æ—¶æå‡ºçš„é—®é¢˜ï¼Œé”®åˆ™æ˜¯æ•°æ®åº“ä¸­çš„ç´¢å¼•ï¼Œå¸®åŠ©æ™ºèƒ½ä½“å¿«é€Ÿæ‰¾åˆ°ç›¸å…³ä¿¡æ¯ï¼Œè€Œå€¼åˆ™æ˜¯æŸ¥è¯¢æ‰€å¯»æ±‚çš„å…·ä½“ä¿¡æ¯æˆ–æ•°æ®ã€‚</p>
<p>ä¸‰ä¸ªç»„ä»¶çš„ç›¸äº’ä½œç”¨ï¼Œä½¿å¾—æ™ºèƒ½ä½“èƒ½å¤Ÿåœ¨å¤„ç†è¯­è¨€æ—¶ï¼Œä¸ä»…å¯ä»¥å…³æ³¨å•ä¸ªå•è¯ï¼Œè¿˜èƒ½ç†è§£å•è¯ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œä»è€Œæ›´å‡†ç¡®åœ°æ•æ‰æ–‡æœ¬çš„æ·±å±‚å«ä¹‰ã€‚</p>
<p><strong>2. å¤§æ¨¡å‹å¹»è§‰ï¼ˆLLM Hallucinationï¼‰</strong></p>
<p>åœ¨å­¦ä¹ çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œä½œè€…æ¨èå­¦ä¹ ã€Œä»€ä¹ˆæ˜¯å¹»è§‰ã€ä»¥åŠã€ŒLLMsä¸ºä»€ä¹ˆä¼šäº§ç”Ÿå¹»è§‰ã€ï¼Œå¯èƒ½ä¹Ÿæ˜¯æ½œä¼åœ¨å¾ˆå¤šå­¦ä¹ è€…è„‘æµ·ä¸­çš„é—®é¢˜ï¼Œå¯¹ç†è§£è¯­è¨€æ¨¡å‹ä¹Ÿæœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p>
<p>å¹»è§‰æ˜¯æŒ‡æ¨¡å‹ç”Ÿæˆçš„æ–‡æœ¬ä¸ç°å®ä¸–ç•Œçš„äº‹å®æˆ–ç”¨æˆ·çš„è¾“å…¥ä¸ä¸€è‡´çš„ç°è±¡ï¼Œå¯¹äºç ”ç©¶äººå‘˜ä»¥åŠä½¿ç”¨LLMæ„å»ºåº”ç”¨çš„äººæ¥è¯´æ˜¯ä¸€ä¸ªå·¨å¤§çš„æŒ‘æˆ˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97470d43927c43f692e86cd3f66e0cf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720374&amp;x-signature=MhW0BX%2FVbJF0h7476GSRP3UFk7U%3D" alt="" loading="lazy"/></p>
<p>åœ¨ç ”ç©¶è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šæ„è¯†åˆ°å¤§æ¨¡å‹çš„å„ç§é—®é¢˜ï¼Œè¯¸å¦‚ï¼š</p>
<p><strong>ä½ç½®åå·®ï¼ˆpositional biasï¼‰</strong> ï¼Œå³æ¨¡å‹å€¾å‘äºå…³æ³¨è·ç¦»è¾ƒè¿‘çš„tokenï¼Œè€Œå¿½ç•¥äº†æ›´è¿œçš„tokenï¼Œåå·®å¯èƒ½ä¼šå½±å“æ¨¡å‹å¯¹æ–‡æœ¬æ•´ä½“å«ä¹‰çš„ç†è§£ã€‚</p>
<p><strong>æ›å…‰åå·®ï¼ˆexposure biasï¼‰</strong> ï¼Œåœ¨æ¨ç†é˜¶æ®µï¼Œæ¨¡å‹é¢„æµ‹å‡ºä¸€ä¸ªé”™è¯¯çš„tokenå¯èƒ½ä¼šå½±å“åç»­tokençš„ç”Ÿæˆï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¨¡å‹åœ¨ç”Ÿæˆæ–‡æœ¬æ—¶å‡ºç°ä¸€è¿ä¸²çš„é”™è¯¯ï¼Œä»è€Œé™ä½è¾“å‡ºè´¨é‡ã€‚</p>
<p>è¿˜ä¼šæ„è¯†åˆ°æ•°æ®ã€è®­ç»ƒå’Œæ¨ç†å¯¹ã€Œå¹»è§‰ã€é—®é¢˜éƒ½æœ‰ä¸åŒçš„å½±å“ã€‚</p>
<p>ä¸ºäº†ç¼“è§£å¹»è§‰é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä¸åŒçš„è®­ç»ƒç­–ç•¥ï¼Œä»¥å‡å°‘æ¨¡å‹åœ¨è®­ç»ƒå’Œæ¨ç†æ—¶çš„ä¸ä¸€è‡´æ€§ï¼›è¿˜å¯ä»¥è€ƒè™‘å¦‚ä½•é€šè¿‡å¼•å…¥ä½ç½®ç¼–ç æ¥è§£å†³ä½ç½®åå·®é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å¢åŠ æ¨¡å‹çš„ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›æ¥å‡å°‘å¹»è§‰çš„å‘ç”Ÿã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œè¿™äº›é—®é¢˜çš„è§£å†³éœ€è¦æ·±å…¥ç†è§£æ¨¡å‹çš„å·¥ä½œåŸç†ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å„ç§æŠ€æœ¯æ‰‹æ®µæ¥ä¼˜åŒ–ï¼Œéšç€ç ”ç©¶çš„æ·±å…¥ï¼Œå¯ä»¥å¼€å‘å‡ºæ›´åŠ å¼ºå¤§å’Œå¯é çš„æ™ºèƒ½ä½“ï¼Œä»¥æ”¯æŒå„ç§è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚</p>
<p><strong>3. LLM Edgeï¼šä¸æ­¢æ³¨æ„åŠ›</strong></p>
<p>æœ€åé˜¶æ®µä¼šå­¦ä¹ åˆ°ä¸€äº›ä¸é‚£ä¹ˆã€ŒåŸºç¡€ã€çš„ä¸€äº›çŸ¥è¯†ï¼Œä½†åœ¨æ„å»ºLLMç³»ç»Ÿæ—¶éå¸¸å…³é”®ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/490e8209bdd54ef4b4c37abe34dac3f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720374&amp;x-signature=UxDNqBuQ5oQTfQD4urLN9NUE0Z4%3D" alt="" loading="lazy"/></p>
<p><strong>æš‚åœï¼ˆPauseï¼‰ Tokens</strong>ï¼šè®©å¤§æ¨¡å‹æœ‰æ›´å¤šæ—¶é—´ã€Œæ€è€ƒã€ã€‚</p>
<p><strong>æ— é™æ³¨æ„åŠ›ï¼ˆInfini-attentionï¼‰</strong> ï¼šé€šè¿‡åˆ©ç”¨ä¹‹å‰å¤„ç†è¿‡çš„tokençš„è®°å¿†ï¼Œå¯ä»¥è®©å¤§æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£å˜çš„éå¸¸å¤§ï¼Œæ¯”å¦‚Geminiæ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£å°±é«˜è¾¾100ä¸‡ä¸ªtokenã€‚</p>
<p><strong>æ—‹è½¬ä½ç½®ç¼–ç ï¼ˆRoPEï¼ŒRotary Positional Embeddingï¼‰</strong> ï¼šä¸€ç§ç›¸å¯¹ä½ç½®ç¼–ç æ–¹æ³•ï¼Œåœ¨Llamaä»¥åŠå…¶ä»–è®¸å¤šå¤§å‹è¯­è¨€æ¨¡å‹ä¸­å¹¿æ³›ä½¿ç”¨ï¼Œä¸»è¦ä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿå…³æ³¨åºåˆ—ä¸­è·ç¦»è¾ƒè¿œçš„tokenã€‚</p>
<p><strong>KVç¼“å­˜ï¼ˆKV Cacheï¼‰</strong> ï¼šæ¶ˆé™¤åœ¨ç”Ÿæˆå…ˆå‰tokenæ—¶é‡å¤çš„è®¡ç®—ï¼Œå¯ä»¥æé«˜æ•ˆç‡ã€‚</p>
<p><strong>ä¸“å®¶æ··åˆï¼ˆMoEï¼ŒMixture of Expertsï¼‰</strong> ï¼šä¸æ­¢ä½¿ç”¨å•ä¸€çš„å¤§è§„æ¨¡æ¨¡å‹ï¼Œè€Œæ˜¯ç»“åˆäº†å¤šä¸ªè¾ƒå°çš„LLMsï¼Œç”±Mistralæ¨¡å‹æ¨å¹¿ï¼ˆMistralçš„8ä¸ªå¤§å°ä¸º7Bçš„æ¨¡å‹åœ¨æŸäº›ä»»åŠ¡ä¸Šçš„è¡¨ç°è¶…è¿‡äº†Llama 2çš„70Bæ¨¡å‹ï¼‰ã€‚</p>
<p>ä¸ºäº†å›é¡¾è¿™äº›ä¸»é¢˜ï¼Œä½œè€…ä¸»è¦ç ”ç©¶äº†Metaçš„Llamaæ¨¡å‹çš„æ¶æ„å’Œä»£ç ï¼Œç›¸å…³èµ„æºå¯ä»¥åœ¨ä»£ç ä»“åº“ä¸­æ‰¾åˆ°ã€‚</p>
<h2 data-id="heading-1">å­¦ä¹ èµ„æº</h2>
<p>åœ¨ç ”ç©¶è¿™äº›ä¸»é¢˜æ—¶ï¼Œä½œè€…å¹¶ä¸åªä¾èµ–å•ä¸€çš„èµ„æºï¼Œä¾‹å¦‚åœ¨å­¦ä¹ å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰çš„åŸºç¡€çŸ¥è¯†æ—¶ï¼Œä¸»è¦å‚è€ƒäº†ã€Šä»å¤´å¼€å§‹æ„å»ºå¤§å‹è¯­è¨€æ¨¡å‹ã€‹è¿™æœ¬ä¹¦ï¼›ä¸æ­¤åŒæ—¶ï¼Œè¯»è®ºæ–‡ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œç‰¹åˆ«æ˜¯é‚£äº›é¦–æ¬¡æå‡ºæŸé¡¹æŠ€æœ¯çš„ç ”ç©¶ï¼ˆæ¯”å¦‚åŸå§‹çš„Transformerè®ºæ–‡ï¼‰ï¼Œä»¥åŠç»¼è¿°è®ºæ–‡ï¼Œæ±‡æ€»äº†ä¼—å¤šç ”ç©¶å¹¶ç»™å‡ºäº†ç®€æ´çš„æ€»ç»“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/486f4fcb9486496291f4e2444dc41faf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720374&amp;x-signature=UKkGIj0Y1JFCgumJ4lU8T6ZIdPE%3D" alt="" loading="lazy"/></p>
<p>ä¸€äº›æ•™å­¦è§†é¢‘ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œå¯ä»¥ä½œä¸ºé¢„çƒ­ï¼Œè®©å¿ƒé‡Œæœ‰ä¸€ä¸ªå¤§æ¦‚çš„å°è±¡ï¼Œä¸€ä¸ªæ¯”è¾ƒå¥½çš„èµ„æºæ˜¯Andrej Karpathyï¼Œå…¶ä¸­åŒ…å«äº†å¤§é‡ã€Œä»é›¶å¼€å§‹è§£é‡Šå¤§å‹è¯­è¨€æ¨¡å‹ã€çš„æ•™å­¦è§†é¢‘ã€‚</p>
<h2 data-id="heading-2">é¢„å¤‡çŸ¥è¯†</h2>
<p><strong>æ•°å­¦çŸ¥è¯†</strong></p>
<p>çº¿æ€§ä»£æ•°ï¼šå‘é‡å’ŒçŸ©é˜µï¼ŒçŸ©é˜µä¹˜æ³•</p>
<p>æ¦‚ç‡è®ºå’Œç»Ÿè®¡å­¦ï¼šæ¦‚ç‡çš„åŸºæœ¬æ¦‚å¿µï¼Œéšæœºå˜é‡å’Œåˆ†å¸ƒï¼ŒæœŸæœ›å€¼å’Œæ–¹å·®ï¼Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMLEï¼‰</p>
<p>å¾®ç§¯åˆ†ï¼šå¾®åˆ†å’Œç§¯åˆ†ï¼ˆå°¤å…¶æ˜¯ç”¨äºåå‘ä¼ æ’­ï¼‰ï¼Œåå¯¼æ•°ï¼ˆç”¨äºåŸºäºæ¢¯åº¦çš„ä¼˜åŒ–ï¼‰</p>
<p>ä¼˜åŒ–ï¼šæ¢¯åº¦ä¸‹é™ï¼Œéšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰ï¼Œé«˜çº§ä¼˜åŒ–å™¨ï¼ˆä¾‹å¦‚Adamï¼‰</p>
<p><strong>ç¼–ç¨‹ã€æ¡†æ¶</strong></p>
<p>Pythonï¼šç†Ÿæ‚‰å¦‚NumPyå’ŒPandasè¿™æ ·çš„åº“</p>
<p>æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼šTensorFlowæˆ–PyTorchï¼Œç†Ÿæ‚‰æ¨¡å‹è®­ç»ƒã€è°ƒè¯•å’Œè¯„ä¼°</p>
<p><strong>æ·±åº¦å­¦ä¹ æ¦‚å¿µ</strong></p>
<p>ç†è§£æ„ŸçŸ¥æœºã€æ¿€æ´»å‡½æ•°å’Œå±‚ã€‚åå‘ä¼ æ’­å’Œæ¢¯åº¦ä¸‹é™ã€‚æŸå¤±å‡½æ•°ï¼ˆäº¤å‰ç†µï¼Œå‡æ–¹è¯¯å·®ï¼‰</p>
<p>å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNsï¼‰ï¼ˆå¯é€‰ï¼Œä½†æœ‰å¸®åŠ©ï¼‰ï¼šæœ‰åŠ©äºç†è§£æ¨¡å‹ä¸­å±‚çš„æ“ä½œ</p>
<h2 data-id="heading-3">æ¸©é¦¨æç¤º</h2>
<p><strong>äº«å—å­¦ä¹ è¿‡ç¨‹</strong></p>
<p>è™½ç„¶ä½œè€…ç¡®å®åœ¨ä¸¤å‘¨ä¹‹å†…æŠŠè¿™äº›ä¸»é¢˜éƒ½å­¦å®Œäº†ï¼Œæ¶‰åŠçš„æ¦‚å¿µä¹Ÿä¸æ˜¯ç‰¹åˆ«å¤æ‚ï¼Œä½†ä½œè€…è¡¨ç¤ºï¼Œä¸¤å‘¨åªæ˜¯ç”¨æ¥å¼ºè°ƒè¿™å¹¶ä¸æ˜¯ä¸€é¡¹éš¾ä»¥å®Œæˆçš„ä»»åŠ¡ï¼Œä½ å¹¶ä¸éœ€è¦è®¾å®šä¸€ä¸ªä¸¥æ ¼çš„æˆªæ­¢æ—¥æœŸæ¥å­¦ä¹ è¿™äº›èµ„æºã€‚</p>
<p>åœ¨åˆšå¼€å§‹å­¦ä¹ çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿæ²¡æƒ³è¿‡14å¤©å°±èƒ½å­¦å®Œï¼Œä¸€åˆ‡éƒ½æ˜¯é¡ºå…¶è‡ªç„¶ï¼Œå³ä½¿æœ€åèŠ±äº†ä¸€ä¸ªæœˆï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œè¦äº«å—å‘ç°æ–°äº‹ç‰©çš„ä¹è¶£ã€‚</p>
<p><strong>ä¸è¦æ‹˜æ³¥äºå­¦ä¹ è·¯çº¿å›¾</strong></p>
<p>æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å­¦ä¹ èŠ‚å¥å’ŒèƒŒæ™¯çŸ¥è¯†ï¼Œä½ å¯ä»¥å¯¹å­¦ä¹ è·¯çº¿å›¾è¿›è¡Œè°ƒæ•´ã€‚</p>
<p>å­¦ä¹ æ˜¯ä¸€ä¸ªéå¸¸ä¸ªæ€§åŒ–çš„ä½“éªŒï¼Œè¦å­¦ä»€ä¹ˆæ˜¯åŸºäºã€Œä½ å·²çŸ¥çš„ã€å’Œã€Œä½ æƒ³çŸ¥é“çš„ã€ï¼Œå¯¹äºæ¯ä¸ªäººæ¥è¯´ï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆéƒ½æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥ä¸è¦å®Œå…¨ç…§æ¬å­¦ä¹ è·¯çº¿å›¾ï¼Œå¯ä»¥é€‰æ‹©å…¶ä¸­æ„Ÿå…´è¶£çš„éƒ¨åˆ†ã€‚</p>
<p>æ²¡æœ‰ä¸€æœ¬ä¹¦ã€èµ„æºæˆ–è·¯çº¿å›¾æ˜¯æœ€ä½³çš„ï¼Œæ‰€ä»¥ä¸è¦å°†è‡ªå·±å±€é™äºå•ä¸€çš„èµ„æºã€‚</p>
<p><strong>ä¸å¿…è¯»å®Œæ‰€æœ‰å†…å®¹</strong></p>
<p>å½“ä½ æ‹¿èµ·ä¸€æœ¬ä¹¦ã€è§‚çœ‹YouTubeè§†é¢‘æˆ–é˜…è¯»è®ºæ–‡æ¥ç ”ç©¶è¿™äº›ææ–™æ—¶ï¼Œå¹¶æ²¡æœ‰è§„å®šè¦å¿…é¡»ä»å¤´åˆ°å°¾è¯»å®Œï¼Œåªéœ€è¦è·å–åˆ°æ‰€éœ€è¦çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥å…³æ‰äº†ã€‚</p>
<p>ç‰¹åˆ«æ˜¯è®ºæ–‡ï¼Œå®Œæ•´çœ‹å®Œå¯èƒ½ä¼šéå¸¸è€—æ—¶ï¼Œæ‰€ä»¥åœ¨é˜…è¯»è¿™äº›ææ–™ä¹‹å‰ï¼Œå…ˆç¡®å®šä½ å¿ƒä¸­çš„é—®é¢˜ï¼Œå¹¶æœ‰é’ˆå¯¹æ€§åœ°å¯»æ‰¾ç­”æ¡ˆï¼Œå¯ä»¥é¿å…åœ¨ä¸ç›¸å…³çš„å†…å®¹ä¸Šæµªè´¹æ—¶é—´ï¼Œå³ä½¿è¿™äº›å†…å®¹å¯èƒ½å¾ˆæœ‰ä»·å€¼ï¼Œä½†å¯èƒ½ä¸ä½ çš„éœ€æ±‚æ— å…³ã€‚</p>
<h3 data-id="heading-4">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆå¦‚ä½•å€ŸåŠ© AI å·¥å…·è¿›è¡Œè½¯ä»¶è‡ªæµ‹]]></title>    <link>https://juejin.cn/post/7585080842113974308</link>    <guid>https://juejin.cn/post/7585080842113974308</guid>    <pubDate>2025-12-19T03:46:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585080842113974308" data-draft-id="7585091990347202596" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆå¦‚ä½•å€ŸåŠ© AI å·¥å…·è¿›è¡Œè½¯ä»¶è‡ªæµ‹"/> <meta itemprop="keywords" content="å‰ç«¯,æµ‹è¯•,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-19T03:46:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹å¹²è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/52383084474680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆå¦‚ä½•å€ŸåŠ© AI å·¥å…·è¿›è¡Œè½¯ä»¶è‡ªæµ‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/52383084474680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹å¹²è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:46:38.000Z" title="Fri Dec 19 2025 03:46:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11f80e2828fc4590973cbdf10edae190~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766720798&amp;x-signature=9UlcBo%2F4%2FCKtmLMzi94Hj5nZu0Q%3D" alt="image.png" loading="lazy"/></p>
<p>ä½œä¸ºä¸€åè½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¸€ç›´å¾ˆæ¸…æ¥šæµ‹è¯•çš„é‡è¦æ€§ï¼Œä½†ä¹ŸåŒæ ·æ¸…æ¥šä¸€ä¸ªç°å®é—®é¢˜ï¼š<br/>
<strong>åœ¨å¿«é€Ÿè¿­ä»£çš„å¼€å‘èŠ‚å¥ä¸­ï¼Œæµ‹è¯•å¾€å¾€æ˜¯æœ€å®¹æ˜“è¢«å‹ç¼©çš„ç¯èŠ‚ã€‚</strong></p>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯ä¸æƒ³æµ‹ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>æµ‹è¯•ç‚¹å¤ªå¤šï¼Œå®¹æ˜“é—æ¼</li>
<li>ç¼–å†™æµ‹è¯•ç”¨ä¾‹æœ¬èº«å°±å¾ˆè€—æ—¶</li>
<li>ç”¨ä¾‹ã€è¿›åº¦ã€ç»“æœåˆ†æ•£åœ¨å„å¤„ï¼Œéš¾ä»¥ç®¡ç†</li>
</ul>
<p>æœ€è¿‘ä¸€æ®µæ—¶é—´ï¼Œæˆ‘å¼€å§‹å°è¯•æŠŠ <strong>AI å·¥å…·Cursor å¼•å…¥åˆ°è½¯ä»¶è‡ªæµ‹æµç¨‹ä¸­</strong>ï¼Œæ•ˆæœæ¯”æˆ‘é¢„æœŸçš„è¦å¥½å¾—å¤šã€‚è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æƒ³å®Œæ•´åˆ†äº«è¿™å¥—æ–¹æ³•ï¼š<strong>å®ƒå¹¶ä¸æ˜¯æ›¿ä»£æµ‹è¯•ï¼Œè€Œæ˜¯å¸®å¼€å‘è€…æŠŠè‡ªæµ‹è¿™ä»¶äº‹çœŸæ­£å·¥ç¨‹åŒ–ã€‚</strong></p>
<hr/>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆå¼€å‘è€…éœ€è¦ AI è¾…åŠ©è‡ªæµ‹</h2>
<p>åœ¨ä¼ ç»Ÿçš„å¼€å‘æµç¨‹ä¸­ï¼Œæµ‹è¯•ç”¨ä¾‹é€šå¸¸ä¾èµ–äººå·¥ç»éªŒï¼š</p>
<ul>
<li>åŠŸèƒ½ç‚¹é è®°å¿†</li>
<li>è¦†ç›–èŒƒå›´é æ„Ÿè§‰</li>
<li>ä¼˜å…ˆçº§é ç›´è§‰</li>
</ul>
<p>è¿™åœ¨é¡¹ç›®å¤æ‚åº¦æå‡åï¼Œä¼šæš´éœ²å‡ºä¸‰ä¸ªå…¸å‹é—®é¢˜ï¼š</p>
<ol>
<li><strong>æµ‹è¯•é—æ¼</strong><br/>
æŸäº›è¾¹ç•Œåœºæ™¯ã€ç»„åˆè·¯å¾„æ²¡æœ‰è¢«è¦†ç›–ï¼Œé—®é¢˜ç›´æ¥æš´éœ²åœ¨çº¿ä¸Šã€‚</li>
<li><strong>æ•ˆç‡ä½ä¸‹</strong><br/>
ç¼–å†™æµ‹è¯•ç”¨ä¾‹æœ¬èº«å°±è¦èŠ±æ‰å¤§é‡æ—¶é—´ï¼Œå¯¼è‡´æµ‹è¯•è¢«ä¸æ–­å‹ç¼©ã€‚</li>
<li><strong>æµ‹è¯•ç®¡ç†æ··ä¹±</strong><br/>
ç”¨ä¾‹åœ¨æ–‡æ¡£é‡Œã€æ‰§è¡ŒçŠ¶æ€åœ¨è¡¨æ ¼é‡Œï¼Œè¿›åº¦éš¾ä»¥è¿½è¸ªã€‚</li>
</ol>
<p>è€Œ AI çš„ä»‹å…¥ï¼Œåˆšå¥½å¯ä»¥è§£å†³è¿™äº›â€œéåˆ›é€ æ€§ã€ä½†å¾ˆé‡è¦â€çš„å·¥ä½œã€‚</p>
<hr/>
<h2 data-id="heading-1">AI åœ¨è‡ªæµ‹ä¸­çš„æ ¸å¿ƒä»·å€¼</h2>
<h3 data-id="heading-2">1. ç³»ç»Ÿæ€§æ¢³ç†åŠŸèƒ½ç‚¹</h3>
<p>åœ¨åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œæˆ‘ä¼šæŠŠé¡¹ç›®çš„å…³é”®ä¿¡æ¯äº¤ç»™ AIï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>è·¯ç”±é…ç½®</li>
<li>é¡µé¢ç»„ä»¶</li>
<li>æ ¸å¿ƒä¸šåŠ¡æ¥å£</li>
</ul>
<p>AI å¯ä»¥åŸºäºé¡¹ç›®ç»“æ„ï¼Œç³»ç»Ÿæ€§åœ°æ¢³ç†å‡ºæ‰€æœ‰å¯æµ‹è¯•çš„åŠŸèƒ½ç‚¹ã€‚<br/>
ç›¸æ¯”äººå·¥æ£€æŸ¥ï¼Œè¿™ç§æ–¹å¼æ›´ç¨³å®šã€æ›´å…¨é¢ï¼Œä¹Ÿæ›´ä¸å®¹æ˜“é—æ¼ã€‚</p>
<hr/>
<h3 data-id="heading-3">2. è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–æµ‹è¯•ç”¨ä¾‹</h3>
<p>åœ¨æ¢³ç†å‡ºåŠŸèƒ½ç‚¹ä¹‹åï¼ŒAI å¯ä»¥è¿›ä¸€æ­¥å°†å…¶è½¬åŒ–ä¸º <strong>ç»“æ„åŒ–æµ‹è¯•ç”¨ä¾‹</strong>ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æµ‹è¯•æ ‡é¢˜</li>
<li>æµ‹è¯•æè¿°</li>
<li>æ‰€å±æ¨¡å—</li>
<li>ä¼˜å…ˆçº§ï¼ˆP0 / P1 / P2 / P3ï¼‰</li>
</ul>
<p>å°¤å…¶æ˜¯åœ¨ä¼˜å…ˆçº§åˆ’åˆ†ä¸Šï¼ŒAI èƒ½å¤Ÿå¾ˆå¥½åœ°åŒºåˆ†æ ¸å¿ƒåŠŸèƒ½ä¸è¾…åŠ©åŠŸèƒ½ï¼Œå¸®åŠ©æˆ‘ä»¬æŠŠæµ‹è¯•ç²¾åŠ›ç”¨åœ¨çœŸæ­£å…³é”®çš„åœ°æ–¹ã€‚</p>
<hr/>
<h3 data-id="heading-4">3. æ˜¾è‘—æå‡æµ‹è¯•å‡†å¤‡æ•ˆç‡</h3>
<p>è¿‡å»ï¼Œä¸ºä¸€ä¸ªä¸­ç­‰è§„æ¨¡é¡¹ç›®æ•´ç†æµ‹è¯•æ¸…å•ï¼Œå¾€å¾€éœ€è¦å‡ ä¸ªå°æ—¶ã€‚</p>
<p>ç°åœ¨çš„æµç¨‹æ˜¯ï¼š</p>
<ul>
<li>AI ç”Ÿæˆåˆç¨¿ï¼šå‡ åˆ†é’Ÿ</li>
<li>äººå·¥å®¡æ ¸ä¸è¡¥å……ï¼šäºŒä¸‰ååˆ†é’Ÿ</li>
</ul>
<p>æµ‹è¯•ä¸å†æ˜¯ä¸€ä»¶â€œæ‹–åˆ°æœ€åæ‰åšçš„äº‹â€ï¼Œè€Œæ˜¯å¯ä»¥è¢«è‡ªç„¶çº³å…¥å¼€å‘æµç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-5">ä»æµ‹è¯•ç”¨ä¾‹åˆ°æµ‹è¯•ç®¡ç†ï¼šå·¥å…·åŒ–æ˜¯å…³é”®</h2>
<p>å½“æµ‹è¯•ç”¨ä¾‹å¼€å§‹æˆè§„æ¨¡åï¼Œä»…ä»…â€œç”Ÿæˆç”¨ä¾‹â€è¿˜ä¸å¤Ÿï¼Œè¿˜éœ€è¦ä¸€ä¸ªè½½ä½“æ¥ç®¡ç†å®ƒä»¬ã€‚</p>
<p>æˆ‘æœ€ç»ˆé€‰æ‹©çš„æ–¹å¼æ˜¯ï¼š<strong>æ„å»ºä¸€ä¸ªè½»é‡çº§çš„æµ‹è¯•ç”¨ä¾‹ç®¡ç†é¡µé¢</strong>ã€‚</p>
<h3 data-id="heading-6">å·¥å…·è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™</h3>
<ul>
<li><strong>ç®€å•ç›´è§‚</strong>ï¼šä¸å¢åŠ é¢å¤–å­¦ä¹ æˆæœ¬</li>
<li><strong>çŠ¶æ€æ¸…æ™°</strong>ï¼šå®Œæˆæƒ…å†µä¸€çœ¼å¯è§</li>
<li><strong>æ•°æ®å®‰å…¨</strong>ï¼šæœ¬åœ°å­˜å‚¨ + è‡ªåŠ¨ä¿å­˜</li>
</ul>
<p>å·¥å…·æœ¬èº«ä¸å¤æ‚ï¼Œä½†å®ƒè®©æµ‹è¯•è¿™ä»¶äº‹çœŸæ­£å˜å¾—å¯æ‰§è¡Œã€å¯è·Ÿè¸ªã€‚</p>
<hr/>
<h2 data-id="heading-7">æˆ‘ä¸ AI åä½œè¿›è¡Œè‡ªæµ‹çš„æ ‡å‡†æµç¨‹</h2>
<p>åœ¨å®è·µä¸­ï¼Œæˆ‘é€æ­¥æ²‰æ·€å‡ºä¸€å¥—ç¨³å®šæµç¨‹ï¼š</p>
<ol>
<li>å‘ AI æä¾›é¡¹ç›®ç»“æ„å’Œæ ¸å¿ƒåŠŸèƒ½</li>
<li>è®© AI æŒ‰å›ºå®šç»“æ„ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹</li>
<li>äººå·¥å®¡æ ¸ã€è¡¥å……è¾¹ç•Œåœºæ™¯</li>
<li>å°†ç”¨ä¾‹å¯¼å…¥æµ‹è¯•ç®¡ç†é¡µé¢æ‰§è¡Œ</li>
<li>éšç€é¡¹ç›®æ¼”è¿›æŒç»­æ›´æ–°ç”¨ä¾‹</li>
</ol>
<p>ä¸€æ—¦æµç¨‹è·‘é¡ºï¼Œè¿™å¥—æ–¹æ³•å‡ ä¹å¯ä»¥å¤ç”¨åˆ°ä»»ä½•é¡¹ç›®ä¸­ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¸€ä¸ªå¯ä¸€é”®å¤åˆ¶ä½¿ç”¨çš„æç¤ºè¯æ¨¡æ¿</h2>
<p>ä¸‹é¢æ˜¯æˆ‘åœ¨å®è·µä¸­åå¤æ‰“ç£¨åï¼Œæ€»ç»“å‡ºçš„ä¸€å¥— <strong>æ ‡å‡†åŒ–æç¤ºè¯æ¨¡æ¿</strong>ã€‚<br/>
ä½ å¯ä»¥ç›´æ¥å¤åˆ¶ä½¿ç”¨ï¼Œåªéœ€æ›¿æ¢ <code>{{é¡¹ç›®è·¯å¾„}}</code> å³å¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">æˆ‘éœ€è¦ä½ å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªé¡¹ç›®åŠŸèƒ½ç‚¹æµ‹è¯•æ¸…å•ç®¡ç†é¡µé¢ã€‚

<span class="hljs-comment">## ç¬¬ä¸€æ­¥ï¼šäº†è§£é¡¹ç›®ç»“æ„</span>

è¯·å…ˆæŸ¥çœ‹ä»¥ä¸‹æ–‡ä»¶äº†è§£é¡¹ç›®åŠŸèƒ½ï¼š
- {{é¡¹ç›®è·¯å¾„}}/src/router/index.js - è·¯ç”±ç»“æ„
- {{ç»„ä»¶è·¯å¾„}}/src/views/*.vue - ä¸»è¦é¡µé¢ç»„ä»¶
- {{ç»„ä»¶è·¯å¾„}}/src/components/*.vue - é€šç”¨ç»„ä»¶
- {{APIæ¥å£è·¯å¾„}}/src/api/*.js - APIæ¥å£æ–‡ä»¶

<span class="hljs-comment">## ç¬¬äºŒæ­¥ï¼šç”Ÿæˆæµ‹è¯•ç”¨ä¾‹æ•°æ®</span>

åŸºäºå¯¹é¡¹ç›®çš„ç†è§£ï¼Œç”Ÿæˆç»“æ„åŒ–çš„æµ‹è¯•ç”¨ä¾‹æ¸…å•ï¼š
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»
- æ¯ä¸ªç”¨ä¾‹åŒ…å«ï¼šIDï¼ˆtc_æ¨¡å—_åœºæ™¯ï¼‰ã€æ ‡é¢˜ã€æè¿°ã€ä¼˜å…ˆçº§ï¼ˆP0/P1/P2/P3ï¼‰ã€å®ŒæˆçŠ¶æ€
- ä¼˜å…ˆçº§è§„åˆ™ï¼š
  - P0ï¼šç™»å½• / æ³¨å†Œ / åˆ›å»º / åˆ é™¤ç­‰æ ¸å¿ƒåŠŸèƒ½
  - P1ï¼šé‡è¦ä¸šåŠ¡åŠŸèƒ½
  - P2ï¼šæ¬¡è¦åŠŸèƒ½ã€ä¼˜åŒ–é¡¹
  - P3ï¼šéå…³é”®ä½“éªŒä¼˜åŒ–
- æ•°æ®æ ¼å¼ï¼š
  window.CHECKLIST_DATA = [
    {
      <span class="hljs-built_in">id</span>: <span class="hljs-string">'cat_xxx'</span>,
      name: <span class="hljs-string">'åˆ†ç±»å'</span>,
      items: [
        {
          <span class="hljs-built_in">id</span>: <span class="hljs-string">'tc_xxx'</span>,
          title: <span class="hljs-string">'æµ‹è¯•æ ‡é¢˜'</span>,
          desc: <span class="hljs-string">'æµ‹è¯•æè¿°'</span>,
          priority: <span class="hljs-string">'P0'</span>,
          <span class="hljs-keyword">done</span>: <span class="hljs-literal">false</span>
        }
      ]
    }
  ]

<span class="hljs-comment">## ç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆæµ‹è¯•ç®¡ç†é¡µé¢</span>

ç”Ÿæˆå®Œæ•´çš„ HTML é¡µé¢ï¼ˆtest-checklist.htmlï¼‰ï¼š

åŠŸèƒ½è¦æ±‚ï¼š
- localStorage å­˜å‚¨ï¼Œ2 ç§’é˜²æŠ–è‡ªåŠ¨ä¿å­˜
- åˆ†ç±»ç®¡ç†ï¼šæ–°å¢ / åˆ é™¤ / ç¼–è¾‘ / æŠ˜å 
- ç”¨ä¾‹ç®¡ç†ï¼šå‹¾é€‰å®Œæˆã€ç¼–è¾‘ã€åˆ é™¤
- ä¼˜å…ˆçº§æ ‡ç­¾æ˜¾ç¤ºï¼ˆP0 çº¢ / P1 æ©™ / P2 è“ / P3 ç´«ï¼‰
- ç»Ÿè®¡ä¿¡æ¯ï¼šåˆ†ç±»æ•°ã€ç”¨ä¾‹æ€»æ•°ã€å·²å®Œæˆã€å®Œæˆç‡

è¾“å‡ºæ–‡ä»¶ï¼š
1. checklistData.js
2. test-checklist.html
</code></pre>
<hr/>
<h2 data-id="heading-9">ä½¿ç”¨æ–¹å¼è¯´æ˜</h2>
<ol>
<li>å¤åˆ¶ä»¥ä¸Šæç¤ºè¯</li>
<li>æ›¿æ¢ <code>{{é¡¹ç›®è·¯å¾„}}</code> ä¸ºä½ çš„å®é™…é¡¹ç›®è·¯å¾„</li>
<li>å°†æç¤ºè¯å‘é€ç»™ AI</li>
<li>ä¿å­˜ç”Ÿæˆçš„æ–‡ä»¶å¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å³å¯ä½¿ç”¨</li>
</ol>
<hr/>
<h2 data-id="heading-10">å®é™…æ•ˆæœä¸æ”¶ç›Š</h2>
<p>åœ¨å¼•å…¥ AI è¾…åŠ©è‡ªæµ‹åï¼Œæˆ‘æœ€ç›´è§‚çš„æ„Ÿå—æ˜¯ï¼š</p>
<ul>
<li><strong>æµ‹è¯•å‡†å¤‡æ—¶é—´æ˜æ˜¾ç¼©çŸ­</strong></li>
<li><strong>åŠŸèƒ½è¦†ç›–æ›´å…¨é¢</strong></li>
<li><strong>æµ‹è¯•è¿‡ç¨‹æ›´æœ‰ç§©åº</strong></li>
<li><strong>æµ‹è¯•ç”¨ä¾‹æ›´å®¹æ˜“ç»´æŠ¤å’Œå¤ç”¨</strong></li>
</ul>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œæµ‹è¯•ä¸å†æ˜¯â€œå‡­ç»éªŒå‡‘ä¸€å‡‘â€ï¼Œè€Œæ˜¯æœ‰ç»“æ„ã€æœ‰æµç¨‹çš„å·¥ç¨‹è¡Œä¸ºã€‚</p>
<hr/>
<h2 data-id="heading-11">å†™åœ¨æœ€å</h2>
<p>AI å¹¶ä¸èƒ½æ›¿ä½ å¯¹è´¨é‡è´Ÿè´£ï¼Œä½†å®ƒå¯ä»¥æå¤§åœ°é™ä½æµ‹è¯•çš„è®¤çŸ¥å’Œæ—¶é—´æˆæœ¬ã€‚</p>
<p>å½“æˆ‘ä»¬æŠŠç²¾åŠ›ä»â€œæ•´ç†æµ‹è¯•æ¸…å•â€ä¸­è§£æ”¾å‡ºæ¥ï¼Œ<br/>
æ‰èƒ½çœŸæ­£æŠŠæ³¨æ„åŠ›æ”¾åœ¨ <strong>å‘ç°é—®é¢˜ã€åˆ†æé—®é¢˜ã€è§£å†³é—®é¢˜</strong> ä¸Šã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨ä¸ºè‡ªæµ‹æ•ˆç‡å’Œè¦†ç›–ç‡è€Œè‹¦æ¼ï¼Œä¸å¦¨è¯•è¯•è¿™å¥—æ–¹æ³•ã€‚<br/>
ä¹Ÿè®¸ï¼Œå®ƒä¼šæˆä¸ºä½ å¼€å‘æµç¨‹ä¸­çš„ä¸€ä¸ªé‡è¦è¡¥å……ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[DeepSeekV3.2æ¨¡å‹å†…ç½®Agentä½“éªŒ]]></title>    <link>https://juejin.cn/post/7585139951344631859</link>    <guid>https://juejin.cn/post/7585139951344631859</guid>    <pubDate>2025-12-19T03:58:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585139951344631859" data-draft-id="7585121055036588082" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="DeepSeekV3.2æ¨¡å‹å†…ç½®Agentä½“éªŒ"/> <meta itemprop="keywords" content="JavaScript,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T03:58:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡œå¹é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/1179091901098269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            DeepSeekV3.2æ¨¡å‹å†…ç½®Agentä½“éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1179091901098269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡œå¹é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:58:02.000Z" title="Fri Dec 19 2025 03:58:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¼ ç»Ÿ Agent çš„æ¶æ„å›°å¢ƒ</h2>
<p>æ‰€æœ‰å¤§æ¨¡å‹çš„ Agent èƒ½åŠ›éƒ½é¢ä¸´ä¸€ä¸ªæ ¹æœ¬æ€§çŸ›ç›¾ï¼š</p>
<p><strong>Chain-of-Thoughtï¼ˆCoTï¼‰æ¨ç†æ¨¡å¼ï¼š</strong> Â èƒ½è¿›è¡Œå¤šæ­¥å¤æ‚æ¨ç†ï¼Œä½†æ¨ç†è¿‡ç¨‹æ˜¯å°é—­çš„ï¼Œæ— æ³•ä¸­æ–­å»è°ƒç”¨å¤–éƒ¨å·¥å…·ã€‚</p>
<p><strong>Function Callingï¼ˆå·¥å…·è°ƒç”¨ï¼‰æ¨¡å¼ï¼š</strong> Â èƒ½æ‰§è¡Œå¤–éƒ¨æ“ä½œï¼Œä½†æ¯æ¬¡è°ƒç”¨éƒ½ä¼šæ‰“æ–­æ¨ç†é“¾è·¯ï¼Œå¯¼è‡´ä¸Šä¸‹æ–‡ä¸¢å¤±å’Œæ¨ç†ç¢ç‰‡åŒ–ã€‚</p>
<p>è¿™ç§æ¶æ„åˆ†ç¦»å¯¼è‡´çš„ç»“æœæ˜¯ï¼šè¦ä¹ˆé—­å·æ¨ç†ï¼ˆæ— å®æ—¶æ•°æ®æ”¯æ’‘ï¼‰ï¼Œè¦ä¹ˆå¼€å·æŸ¥è¯¢ï¼ˆç¼ºä¹æ·±åº¦åˆ†æï¼‰ã€‚</p>
<h2 data-id="heading-1">DeepSeek 3.2 çš„æŠ€æœ¯çªç ´</h2>
<h3 data-id="heading-2">æ ¸å¿ƒåˆ›æ–°ï¼šæ¨ç†è¿‡ç¨‹ä¸­çš„åŠ¨æ€å·¥å…·è°ƒç”¨</h3>
<p>DeepSeek 3.2 å®ç°äº†å…¨çƒé¦–ä¸ª"Reasoning-in-Action"èŒƒå¼ï¼š</p>
<p><strong>æ¶æ„å¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">ä¼ ç»Ÿ ReActï¼šThought â†’ Action â†’ Observation â†’ Thought...
Â  Â  Â  Â  Â  ï¼ˆæ¨ç†ä¸è¡ŒåŠ¨äº¤æ›¿ï¼Œä¸Šä¸‹æ–‡å‰²è£‚ï¼‰

V3<span class="hljs-number">.2</span> æ–°èŒƒå¼ï¼šContinuous Reasoning [Tool Call âŠ‚ Reasoning <span class="hljs-built_in">Process</span>]
Â  Â  Â  Â  Â  ï¼ˆå·¥å…·è°ƒç”¨å†…åµŒäºè¿ç»­æ¨ç†æµï¼‰
</code></pre>
<p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
<ul>
<li><strong>reasoning_content ä¼ é€’æœºåˆ¶ï¼šä¿æŒå®Œæ•´æ¨ç†é“¾è·¯çš„ä¸Šä¸‹æ–‡è¿è´¯æ€§</strong></li>
<li><strong>è‡ªé€‚åº”å·¥å…·å†³ç­–ï¼šæ¨¡å‹åœ¨æ¨ç†ä¸­è‡ªä¸»åˆ¤æ–­å·¥å…·è°ƒç”¨æ—¶æœºå’Œå‚æ•°</strong></li>
<li><strong>åŒæ¨¡å¼æ”¯æŒï¼šæ€è€ƒæ¨¡å¼ï¼ˆå¤æ‚ä»»åŠ¡ï¼‰+ éæ€è€ƒæ¨¡å¼ï¼ˆå¿«é€Ÿå“åº”ï¼‰</strong></li>
</ul>
<p>è¿™ç§æ¶æ„è®©æ¨¡å‹å…·å¤‡äº†çœŸæ­£çš„"å…ƒè®¤çŸ¥"èƒ½åŠ›ï¼šçŸ¥é“è‡ªå·±çš„çŸ¥è¯†è¾¹ç•Œï¼Œä¸»åŠ¨å¯»æ±‚å¤–éƒ¨ä¿¡æ¯è¡¥å……ã€‚</p>
<p>è¯¦ç»†ä¿¡æ¯å¯ä»¥æŸ¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fapi-docs.deepseek.com%2Fzh-cn%2Fguides%2Fthinking_mode" target="_blank" title="https://api-docs.deepseek.com/zh-cn/guides/thinking_mode" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ï¼Œé‡Œé¢æä¾›äº†pythonå®ç°ä»£ç ï¼Œå› ä¸ºæˆ‘æ›´å–œæ¬¢tsï¼Œæ‰€ä»¥ä¸‹é¢æ”¹å†™ä¸€æ®µtsç‰ˆçš„ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">OpenAI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'openai'</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> {
  <span class="hljs-title class_">ChatCompletionMessageParam</span>,
  <span class="hljs-title class_">ChatCompletionTool</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'openai/resources/chat/completions'</span>

<span class="hljs-comment">// Get environment variables</span>
<span class="hljs-keyword">const</span> apiKey = process.<span class="hljs-property">env</span>.<span class="hljs-property">DEEPSEEK_API_KEY</span>
<span class="hljs-keyword">const</span> baseURL = process.<span class="hljs-property">env</span>.<span class="hljs-property">DEEPSEEK_BASE_URL</span>

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAI</span>({
  <span class="hljs-attr">apiKey</span>: apiKey,
  <span class="hljs-attr">baseURL</span>: baseURL,
})

<span class="hljs-comment">// The definition of the tools</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">tools</span>: <span class="hljs-title class_">ChatCompletionTool</span>[] = [
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'function'</span>,
    <span class="hljs-attr">function</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'get_date'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'Get the current date'</span>,
      <span class="hljs-attr">parameters</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>, <span class="hljs-attr">properties</span>: {} },
    },
  },
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'function'</span>,
    <span class="hljs-attr">function</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'get_weather'</span>,
      <span class="hljs-attr">description</span>:
        <span class="hljs-string">'Get weather of a location, the user should supply the location and date.'</span>,
      <span class="hljs-attr">parameters</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
        <span class="hljs-attr">properties</span>: {
          <span class="hljs-attr">location</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">description</span>: <span class="hljs-string">'The city name'</span> },
          <span class="hljs-attr">date</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
            <span class="hljs-attr">description</span>: <span class="hljs-string">'The date in format YYYY-mm-dd'</span>,
          },
        },
        <span class="hljs-attr">required</span>: [<span class="hljs-string">'location'</span>, <span class="hljs-string">'date'</span>],
      },
    },
  },
]

<span class="hljs-comment">// The mocked version of the tool calls</span>
<span class="hljs-comment">// In Python `**kwargs` unpacks the dict, in JS we receive a single object argument</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">get_date_mock</span>(<span class="hljs-params"/>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">'2025-12-01'</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">get_weather_mock</span>(<span class="hljs-params">args: { location: <span class="hljs-built_in">string</span>; date: <span class="hljs-built_in">string</span> }</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">'Cloudy 7~13Â°C'</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">TOOL_CALL_MAP</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Function</span>&gt; = {
  <span class="hljs-attr">get_date</span>: get_date_mock,
  <span class="hljs-attr">get_weather</span>: get_weather_mock,
}

<span class="hljs-comment">// Function to clear reasoning_content to save bandwidth</span>
<span class="hljs-comment">// Note: modifying objects in the array by reference</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">clear_reasoning_content</span>(<span class="hljs-params">messages: <span class="hljs-built_in">any</span>[]</span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> message <span class="hljs-keyword">of</span> messages) {
    <span class="hljs-keyword">if</span> (message.<span class="hljs-property">reasoning_content</span>) {
      message.<span class="hljs-property">reasoning_content</span> = <span class="hljs-literal">null</span>
    }
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">run_turn</span>(<span class="hljs-params">turn: <span class="hljs-built_in">number</span>, messages: <span class="hljs-built_in">any</span>[]</span>) {
  <span class="hljs-keyword">let</span> sub_turn = <span class="hljs-number">1</span>
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-comment">// DeepSeek specific: extra_body for thinking</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> client.<span class="hljs-property">chat</span>.<span class="hljs-property">completions</span>.<span class="hljs-title function_">create</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'deepseek-chat'</span>,
      <span class="hljs-attr">messages</span>: messages <span class="hljs-keyword">as</span> <span class="hljs-title class_">ChatCompletionMessageParam</span>[],
      <span class="hljs-attr">tools</span>: tools,
      <span class="hljs-comment">// æ³¨æ„ï¼ï¼ï¼è¿™é‡Œä¸éœ€è¦extra_bodyåŒ…å¤šä¸€å±‚ï¼Œå› ä¸ºè¿™é‡Œä¼šå°†å…¶ä»–å±æ€§å…¨éƒ¨ä¸¢åˆ°bodyé‡Œé¢</span>
      <span class="hljs-attr">thinking</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'enabled'</span> },
    } <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>) <span class="hljs-comment">// Cast to any to allow extra_body if types are strict</span>

    <span class="hljs-keyword">const</span> message = response.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>
    messages.<span class="hljs-title function_">push</span>(message)

    <span class="hljs-comment">// Access properties (casting to any to access 'reasoning_content' which is not in standard types)</span>
    <span class="hljs-keyword">const</span> reasoning_content = (message <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">reasoning_content</span>
    <span class="hljs-keyword">const</span> content = message.<span class="hljs-property">content</span>
    <span class="hljs-keyword">const</span> tool_calls = message.<span class="hljs-property">tool_calls</span>

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
      <span class="hljs-string">`Turn <span class="hljs-subst">${turn}</span>.<span class="hljs-subst">${sub_turn}</span>\nreasoning_content=<span class="hljs-subst">${reasoning_content}</span>\ncontent=<span class="hljs-subst">${content}</span>\ntool_calls=<span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(
        tool_calls
      )}</span>`</span>
    )

    <span class="hljs-comment">// If there are no tool calls, stop the loop</span>
    <span class="hljs-keyword">if</span> (!tool_calls || tool_calls.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">break</span>
    }

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> tool <span class="hljs-keyword">of</span> tool_calls) {
      <span class="hljs-keyword">const</span> tool_function = <span class="hljs-variable constant_">TOOL_CALL_MAP</span>[tool.<span class="hljs-property">function</span>.<span class="hljs-property">name</span>]
      <span class="hljs-comment">// In JS, we parse the JSON string to an object and pass it to the function</span>
      <span class="hljs-keyword">const</span> args = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(tool.<span class="hljs-property">function</span>.<span class="hljs-property">arguments</span>)
      <span class="hljs-keyword">const</span> tool_result = <span class="hljs-title function_">tool_function</span>(args)

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`tool result for <span class="hljs-subst">${tool.<span class="hljs-keyword">function</span>.name}</span>: <span class="hljs-subst">${tool_result}</span>\n`</span>)

      messages.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">role</span>: <span class="hljs-string">'tool'</span>,
        <span class="hljs-attr">tool_call_id</span>: tool.<span class="hljs-property">id</span>,
        <span class="hljs-attr">content</span>: tool_result,
      })
    }
    sub_turn += <span class="hljs-number">1</span>
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// The user starts a question</span>
  <span class="hljs-keyword">let</span> turn = <span class="hljs-number">1</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">messages</span>: <span class="hljs-built_in">any</span>[] = [
    {
      <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">"How's the weather in Hangzhou Tomorrow"</span>,
    },
  ]

  <span class="hljs-keyword">await</span> <span class="hljs-title function_">run_turn</span>(turn, messages)

  <span class="hljs-comment">// The user starts a new question</span>
  turn = <span class="hljs-number">2</span>
  messages.<span class="hljs-title function_">push</span>({
    <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-string">"How's the weather in Hangzhou Tomorrow"</span>,
  })

  <span class="hljs-comment">// Clear reasoning_content in history</span>
  <span class="hljs-title function_">clear_reasoning_content</span>(messages)

  <span class="hljs-keyword">await</span> <span class="hljs-title function_">run_turn</span>(turn, messages)
}

<span class="hljs-comment">// Execute logic</span>
<span class="hljs-title function_">main</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>)
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">Turn <span class="hljs-number">1.1</span>
reasoning_content=The user wants <span class="hljs-keyword">to</span> know the weather <span class="hljs-keyword">in</span> Hangzhou tomorrow. I need <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> the <span class="hljs-type">date</span> <span class="hljs-keyword">for</span> tomorrow first, <span class="hljs-keyword">then</span> use that <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> the weather. <span class="hljs-keyword">Let</span> <span class="hljs-keyword">me</span> start <span class="hljs-keyword">by</span> getting the current <span class="hljs-type">date</span>.
content=
tool_calls=[{<span class="hljs-string">"index"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"id"</span>:<span class="hljs-string">"call_00_jv8TcuSwxu1c5nzVMf0NrVrN"</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"function"</span>,<span class="hljs-string">"function"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"get_date"</span>,<span class="hljs-string">"arguments"</span>:<span class="hljs-string">"{}"</span>}}]
tool result <span class="hljs-keyword">for</span> get_date: <span class="hljs-number">2025</span>-<span class="hljs-number">12</span>-<span class="hljs-number">01</span>

Turn <span class="hljs-number">1.2</span>
reasoning_content=Today <span class="hljs-built_in">is</span> December <span class="hljs-number">1</span>, <span class="hljs-number">2025</span>. Tomorrow would be December <span class="hljs-number">2</span>, <span class="hljs-number">2025</span>. Now I can <span class="hljs-keyword">get</span> the weather <span class="hljs-keyword">for</span> Hangzhou <span class="hljs-keyword">for</span> that <span class="hljs-type">date</span>. <span class="hljs-keyword">Let</span> <span class="hljs-keyword">me</span> <span class="hljs-keyword">call</span> get_weather <span class="hljs-keyword">with</span> location <span class="hljs-string">"Hangzhou"</span> <span class="hljs-built_in">and</span> <span class="hljs-type">date</span> <span class="hljs-string">"2025-12-02"</span>.
content=
tool_calls=[{<span class="hljs-string">"index"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"id"</span>:<span class="hljs-string">"call_00_qdEqnDe5ulkeSe8orl44rAvN"</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"function"</span>,<span class="hljs-string">"function"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"get_weather"</span>,<span class="hljs-string">"arguments"</span>:<span class="hljs-string">"{\"</span>location\<span class="hljs-string">": \"</span>Hangzhou\<span class="hljs-string">", \"</span><span class="hljs-type">date</span>\<span class="hljs-string">": \"</span><span class="hljs-number">2025</span>-<span class="hljs-number">12</span>-<span class="hljs-number">02</span>\<span class="hljs-string">"}"</span>}}]
tool result <span class="hljs-keyword">for</span> get_weather: Cloudy <span class="hljs-number">7</span>~<span class="hljs-number">13</span>Â°C

Turn <span class="hljs-number">1.3</span>
reasoning_content=I have the weather information: <span class="hljs-string">"Cloudy 7~13Â°C"</span>. I should provide this <span class="hljs-keyword">to</span> the user <span class="hljs-keyword">in</span> a friendly manner. I<span class="hljs-comment">'ll also mention that it's for tomorrow. Let me craft a response.</span>
content=Tomorrow (December <span class="hljs-number">2</span>, <span class="hljs-number">2025</span>) <span class="hljs-keyword">in</span> Hangzhou, the weather will be **cloudy** <span class="hljs-keyword">with</span> temperatures ranging <span class="hljs-keyword">from</span> **<span class="hljs-number">7</span>Â°C <span class="hljs-keyword">to</span> <span class="hljs-number">13</span>Â°C**.
tool_calls=undefined
Turn <span class="hljs-number">2.1</span>
reasoning_content=The user <span class="hljs-built_in">is</span> asking again about Hangzhou<span class="hljs-comment">'s weather tomorrow. I already provided the answer for December 2, 2025. I should check if there's any reason they might be asking again - perhaps they want more details or there's a misunderstanding about the date. Since today is December 1, 2025 (as per the get_date result), tomorrow is indeed December 2, 2025. I already have the weather information: cloudy, 7~13Â°C. I should just repeat the answer, perhaps with a slightly different phrasing. No need to call the function again since the date hasn't changed. I'll respond with the same information.  </span>
content=The weather <span class="hljs-keyword">in</span> Hangzhou tomorrow (December <span class="hljs-number">2</span>, <span class="hljs-number">2025</span>) will be **cloudy** <span class="hljs-keyword">with</span> temperatures between **<span class="hljs-number">7</span>Â°C <span class="hljs-built_in">and</span> <span class="hljs-number">13</span>Â°C**.
tool_calls=undefined
</code></pre>
<p>çœ‹å¾—å‡ºæ¥å’Œpyçš„è¿è¡Œç»“æœä¸€æ ·ã€‚æ”¯æŒæ¨ç†è¿‡ç¨‹è¿›è¡Œå‡½æ•°è°ƒç”¨ä¹‹åï¼Œå°±å¯ä»¥ä¸ç”¨å†æ“ä¸€ä¸ªReActæ¨¡å‹çš„Agentï¼Œè®©æ¨¡å‹åŸç”Ÿæ”¯æŒReActã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†åªä¼šç”¨ Feignï¼æ‰‹å†™ä¸€ä¸ª Mini RPC æ¡†æ¶ææ‡‚ Spring Cloud åº•å±‚åŸç†]]></title>    <link>https://juejin.cn/post/7585080842114138148</link>    <guid>https://juejin.cn/post/7585080842114138148</guid>    <pubDate>2025-12-19T03:58:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585080842114138148" data-draft-id="7585112748897124395" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†åªä¼šç”¨ Feignï¼æ‰‹å†™ä¸€ä¸ª Mini RPC æ¡†æ¶ææ‡‚ Spring Cloud åº•å±‚åŸç†"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-19T03:58:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†åªä¼šç”¨ Feignï¼æ‰‹å†™ä¸€ä¸ª Mini RPC æ¡†æ¶ææ‡‚ Spring Cloud åº•å±‚åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T03:58:29.000Z" title="Fri Dec 19 2025 03:58:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å¼€å‘ JobFlow ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿæ—¶ï¼Œæˆ‘æ„è¯†åˆ°è¦åšå¥½ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå¿…é¡»æ·±å…¥ç†è§£åº•å±‚æŠ€æœ¯æ ˆçš„æ ¸å¿ƒåŸç†ã€‚ä¹‹å‰æˆ‘å†™è¿‡ä¸€ç¯‡æ–‡ç« <a href="https://juejin.cn/post/7583469866007969827" target="_blank" title="https://juejin.cn/post/7583469866007969827">ã€ŠåŸºäºNacosçš„è½»é‡ä»»åŠ¡è°ƒåº¦æ–¹æ¡ˆ â€”â€” ä» XXL-Job çš„ç—›ç‚¹è¯´èµ·ã€‹</a>ï¼Œåœ¨è®¾è®¡è°ƒåº¦å™¨ä¸æ‰§è¡Œå™¨ä¹‹é—´çš„ RPC é€šä¿¡æ–¹æ¡ˆæ—¶ï¼Œæˆ‘å‘ç°è™½ç„¶å¯ä»¥ç›´æ¥ä½¿ç”¨ Spring Cloud Alibaba + OpenFeignï¼Œä½†å¯¹å…¶åº•å±‚å®ç°åŸç†ç†è§£ä¸å¤Ÿé€å½»ã€‚</p>
<p>ä¸ºäº†ç»™ JobFlow æ‰“å¥½æŠ€æœ¯åŸºç¡€ï¼Œæˆ‘å†³å®šé€šè¿‡å®ç°ä¸€ä¸ª Mini RPC æ¡†æ¶æ¥æ·±å…¥ç†è§£ Spring Cloud çš„æ ¸å¿ƒé€»è¾‘ã€‚è¿™ç¯‡æ–‡ç« è®°å½•äº†æ•´ä¸ªæ¢ç´¢è¿‡ç¨‹ï¼ŒåŒ…æ‹¬è®¾è®¡æ€è·¯ã€æ ¸å¿ƒå®ç°å’Œä¸ Spring Cloud çš„å¯¹æ¯”åˆ†æã€‚</p>
<h2 data-id="heading-1">é¡¹ç›®è®¾è®¡</h2>
<p>æˆ‘ä»¬è¦å®ç°çš„ Mini RPC æ¡†æ¶æ¶æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[order-service&lt;br/&gt;æœåŠ¡æ¶ˆè´¹æ–¹] --&gt; B[Mini RPC&lt;br/&gt;Framework]
    B --&gt; C[Nacos&lt;br/&gt;æœåŠ¡æ³¨å†Œä¸­å¿ƒ]
    C --&gt; D[user-service&lt;br/&gt;æœåŠ¡æä¾›æ–¹]
    B -.HTTP è°ƒç”¨.-&gt; D
</code></pre>
<p><strong>æ ¸å¿ƒæ¨¡å—</strong>ï¼š</p>
<ul>
<li>mini-rpc-frameworkï¼šRPC æ¡†æ¶æ ¸å¿ƒ</li>
<li>user-serviceï¼šæœåŠ¡æä¾›æ–¹</li>
<li>order-serviceï¼šæœåŠ¡æ¶ˆè´¹æ–¹</li>
</ul>
<p><strong>æŠ€æœ¯æ ˆ</strong>ï¼šSpring Boot 3.3.4ã€Nacos Client 2.2.0ã€RestTemplateã€JDK åŠ¨æ€ä»£ç†</p>
<h2 data-id="heading-2">æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šæœåŠ¡å‘ç°</h3>
<p>æœåŠ¡å‘ç°æ˜¯ RPC çš„åŸºç¡€ï¼Œéœ€è¦ä» Nacos è·å–æœåŠ¡å®ä¾‹åˆ—è¡¨ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant C as æœåŠ¡æ¶ˆè´¹æ–¹
    participant F as RPC Framework
    participant N as Nacos
    
    C-&gt;&gt;F: è°ƒç”¨è¿œç¨‹æœåŠ¡
    F-&gt;&gt;F: æ£€æŸ¥æœ¬åœ°ç¼“å­˜
    alt ç¼“å­˜æœªè¿‡æœŸ
        F-&gt;&gt;C: è¿”å›ç¼“å­˜å®ä¾‹
    else ç¼“å­˜è¿‡æœŸæˆ–ä¸å­˜åœ¨
        F-&gt;&gt;N: æŸ¥è¯¢æœåŠ¡å®ä¾‹
        N-&gt;&gt;F: è¿”å›å¥åº·å®ä¾‹åˆ—è¡¨
        F-&gt;&gt;F: æ›´æ–°ç¼“å­˜(5ç§’è¿‡æœŸ)
        F-&gt;&gt;C: è¿”å›å®ä¾‹åˆ—è¡¨
    end
</code></pre>
<p><strong>NacosDiscoveryClient æ ¸å¿ƒå®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> List&lt;ServiceInstance&gt; <span class="hljs-title function_">getInstances</span><span class="hljs-params">(String serviceName)</span> {
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
    <span class="hljs-type">CachedInstances</span> <span class="hljs-variable">cached</span> <span class="hljs-operator">=</span> instanceCache.get(serviceName);
    <span class="hljs-keyword">if</span> (cached != <span class="hljs-literal">null</span> &amp;&amp; !cached.isExpired()) {
        <span class="hljs-keyword">return</span> cached.getInstances();
    }
    
    <span class="hljs-comment">// ä» Nacos æ‹‰å–å¥åº·å®ä¾‹</span>
    <span class="hljs-keyword">try</span> {
        List&lt;Instance&gt; nacosInstances = namingService.selectInstances(
            serviceName, group, <span class="hljs-literal">true</span>);  <span class="hljs-comment">// åªè¦å¥åº·çš„å®ä¾‹</span>
        
        List&lt;ServiceInstance&gt; instances = nacosInstances.stream()
            .map(<span class="hljs-built_in">this</span>::convertToServiceInstance)
            .collect(Collectors.toList());
        
        <span class="hljs-comment">// æ›´æ–°ç¼“å­˜</span>
        instanceCache.put(serviceName, <span class="hljs-keyword">new</span> <span class="hljs-title class_">CachedInstances</span>(instances));
        <span class="hljs-keyword">return</span> instances;
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// é™çº§ï¼šè¿”å›ç¼“å­˜ä¸­çš„æ—§æ•°æ®</span>
        <span class="hljs-keyword">if</span> (cached != <span class="hljs-literal">null</span>) {
            log.warn(<span class="hljs-string">"ä» Nacos è·å–å®ä¾‹å¤±è´¥ï¼Œä½¿ç”¨ç¼“å­˜æ•°æ®"</span>);
            <span class="hljs-keyword">return</span> cached.getInstances();
        }
        <span class="hljs-keyword">return</span> Collections.emptyList();
    }
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡ç‚¹</strong>ï¼šæœ¬åœ°ç¼“å­˜é¿å…é¢‘ç¹è¯·æ±‚ Nacosï¼›é™çº§ç­–ç•¥ä¿è¯é«˜å¯ç”¨ï¼›åªé€‰æ‹©å¥åº·å®ä¾‹ã€‚</p>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šè´Ÿè½½å‡è¡¡</h3>
<p>ä»å¤šä¸ªæœåŠ¡å®ä¾‹ä¸­é€‰æ‹©ä¸€ä¸ªè¿›è¡Œè°ƒç”¨ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant C as RPC Client
    participant LB as LoadBalancer
    participant I as Instance List
    
    C-&gt;&gt;LB: é€‰æ‹©å®ä¾‹
    LB-&gt;&gt;I: è¿‡æ»¤å¥åº·å®ä¾‹
    I-&gt;&gt;LB: å¥åº·å®ä¾‹åˆ—è¡¨
    LB-&gt;&gt;LB: è½®è¯¢ç®—æ³•(AtomicIntegerå–æ¨¡)
    LB-&gt;&gt;C: è¿”å›é€‰ä¸­å®ä¾‹
</code></pre>
<p><strong>RoundRobinLoadBalancer æ ¸å¿ƒå®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RoundRobinLoadBalancer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">LoadBalancer</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">position</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> ServiceInstance <span class="hljs-title function_">choose</span><span class="hljs-params">(List&lt;ServiceInstance&gt; instances)</span> {
        <span class="hljs-comment">// è¿‡æ»¤å¥åº·å®ä¾‹</span>
        List&lt;ServiceInstance&gt; healthyInstances = instances.stream()
            .filter(ServiceInstance::isHealthy)
            .collect(Collectors.toList());
        
        <span class="hljs-keyword">if</span> (healthyInstances.isEmpty()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ²¡æœ‰å¥åº·çš„æœåŠ¡å®ä¾‹"</span>);
        }
        
        <span class="hljs-comment">// è½®è¯¢é€‰æ‹©</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">pos</span> <span class="hljs-operator">=</span> Math.abs(position.getAndIncrement());
        <span class="hljs-keyword">return</span> healthyInstances.get(pos % healthyInstances.size());
    }
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡ç‚¹</strong>ï¼šä½¿ç”¨ AtomicInteger ä¿è¯çº¿ç¨‹å®‰å…¨ï¼›å…ˆè¿‡æ»¤å¥åº·å®ä¾‹å†é€‰æ‹©ï¼›å–æ¨¡å®ç°è½®è¯¢ã€‚</p>
<h3 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šHTTP è°ƒç”¨ä¸é‡è¯•</h3>
<p>æœ‰äº†æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ï¼Œç°åœ¨å®ç° HTTP è°ƒç”¨é€»è¾‘ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant C as RPC Client
    participant D as Discovery
    participant LB as LoadBalancer
    participant S as Service Instance
    
    C-&gt;&gt;D: è·å–æœåŠ¡å®ä¾‹åˆ—è¡¨
    D-&gt;&gt;C: è¿”å›å®ä¾‹åˆ—è¡¨
    C-&gt;&gt;LB: è´Ÿè½½å‡è¡¡é€‰æ‹©å®ä¾‹
    LB-&gt;&gt;C: è¿”å›é€‰ä¸­å®ä¾‹
    C-&gt;&gt;C: æ„å»º HTTP è¯·æ±‚
    C-&gt;&gt;C: æ‰§è¡Œæ‹¦æˆªå™¨(TraceIdç­‰)
    C-&gt;&gt;S: å‘èµ· HTTP è¯·æ±‚
    alt è¯·æ±‚æˆåŠŸ
        S-&gt;&gt;C: è¿”å›å“åº”
    else è¶…æ—¶æˆ–è¿æ¥å¤±è´¥
        C-&gt;&gt;C: é‡è¯•(æœ€å¤š2æ¬¡)
        C-&gt;&gt;S: é‡æ–°å‘èµ·è¯·æ±‚
    else ä¸šåŠ¡å¼‚å¸¸(4xx/5xx)
        S-&gt;&gt;C: è¿”å›é”™è¯¯
        C-&gt;&gt;C: ä¸é‡è¯•ï¼Œç›´æ¥å¤±è´¥
    end
</code></pre>
<p><strong>RpcClient æ ¸å¿ƒå®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">invoke</span><span class="hljs-params">(String serviceName, String path, HttpMethod method,
                   Object requestBody, Class&lt;T&gt; responseType)</span> {
    <span class="hljs-type">int</span> <span class="hljs-variable">attempts</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">while</span> (attempts &lt;= config.maxRetries) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. æœåŠ¡å‘ç°</span>
            List&lt;ServiceInstance&gt; instances = discoveryClient.getInstances(serviceName);
            
            <span class="hljs-comment">// 2. è´Ÿè½½å‡è¡¡</span>
            <span class="hljs-type">ServiceInstance</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> loadBalancer.choose(instances);
            <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> instance.getUrl() + path;
            
            <span class="hljs-comment">// 3. æ„å»ºè¯·æ±‚å¤´</span>
            <span class="hljs-type">HttpHeaders</span> <span class="hljs-variable">headers</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHeaders</span>();
            headers.setContentType(MediaType.APPLICATION_JSON);
            
            <span class="hljs-comment">// 4. æ‰§è¡Œæ‹¦æˆªå™¨ï¼ˆæ³¨å…¥ TraceIdï¼‰</span>
            <span class="hljs-keyword">for</span> (RequestInterceptor interceptor : interceptors) {
                interceptor.apply(headers);
            }
            
            <span class="hljs-comment">// 5. å‘èµ· HTTP è¯·æ±‚</span>
            ResponseEntity&lt;T&gt; response = restTemplate.exchange(
                url, method, <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpEntity</span>&lt;&gt;(requestBody, headers), responseType);
            
            <span class="hljs-keyword">return</span> response.getBody();
            
        } <span class="hljs-keyword">catch</span> (ResourceAccessException e) {
            <span class="hljs-comment">// è¶…æ—¶æˆ–è¿æ¥å¼‚å¸¸ï¼Œå¯é‡è¯•</span>
            <span class="hljs-keyword">if</span> (isRetryable(e)) {
                attempts++;
                <span class="hljs-keyword">if</span> (attempts &lt;= config.maxRetries) {
                    log.warn(<span class="hljs-string">"RPC è°ƒç”¨å¤±è´¥ï¼Œç¬¬ {} æ¬¡é‡è¯•"</span>, attempts);
                    Thread.sleep(config.retryIntervalMillis);
                    <span class="hljs-keyword">continue</span>;
                }
            }
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcException</span>(<span class="hljs-string">"RPC è°ƒç”¨å¤±è´¥"</span>, e);
        }
    }
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡ç‚¹</strong>ï¼šåªé‡è¯•è¶…æ—¶å’Œè¿æ¥å¼‚å¸¸ï¼›ä¸šåŠ¡å¼‚å¸¸ä¸é‡è¯•é¿å…å¹‚ç­‰æ€§é—®é¢˜ï¼›é‡è¯•é—´éš”é¿å…ç¬æ—¶å‹åŠ›ã€‚</p>
<h3 data-id="heading-6">ç¬¬å››æ­¥ï¼šTraceId é€ä¼ </h3>
<p>å®ç°å…¨é“¾è·¯è¿½è¸ªï¼Œä¸²è”è°ƒç”¨é“¾è·¯ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant O as Order Service
    participant F as RPC Framework
    participant U as User Service
    
    O-&gt;&gt;O: ç”Ÿæˆ traceId
    O-&gt;&gt;O: å†™å…¥ MDC
    O-&gt;&gt;F: è°ƒç”¨è¿œç¨‹æœåŠ¡
    F-&gt;&gt;F: ä» MDC è¯»å– traceId
    F-&gt;&gt;F: å†™å…¥ HTTP Header
    F-&gt;&gt;U: å‘èµ·è¯·æ±‚(å¸¦traceId)
    U-&gt;&gt;U: ä» Header è¯»å– traceId
    U-&gt;&gt;U: å†™å…¥ MDC
    U-&gt;&gt;U: ä¸šåŠ¡å¤„ç†(æ—¥å¿—è‡ªåŠ¨å¸¦traceId)
    U-&gt;&gt;F: è¿”å›å“åº”
</code></pre>
<p><strong>TraceId æ‹¦æˆªå™¨å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraceIdInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RequestInterceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">apply</span><span class="hljs-params">(HttpHeaders headers)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> MDC.get(<span class="hljs-string">"traceId"</span>);
        <span class="hljs-keyword">if</span> (traceId != <span class="hljs-literal">null</span>) {
            headers.set(<span class="hljs-string">"X-Trace-Id"</span>, traceId);
        }
    }
}

<span class="hljs-comment">// user-service æ¥æ”¶ traceId</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraceIdFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, 
                        FilterChain chain)</span> {
        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">req</span> <span class="hljs-operator">=</span> (HttpServletRequest) request;
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> req.getHeader(<span class="hljs-string">"X-Trace-Id"</span>);
        <span class="hljs-keyword">if</span> (traceId != <span class="hljs-literal">null</span>) {
            MDC.put(<span class="hljs-string">"traceId"</span>, traceId);
        }
        <span class="hljs-keyword">try</span> {
            chain.doFilter(request, response);
        } <span class="hljs-keyword">finally</span> {
            MDC.remove(<span class="hljs-string">"traceId"</span>);
        }
    }
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡ç‚¹</strong>ï¼šä½¿ç”¨ MDC å­˜å‚¨ traceIdï¼›é€šè¿‡ HTTP Header ä¼ é€’ï¼›è¿‡æ»¤å™¨ç»Ÿä¸€å¤„ç†ã€‚</p>
<h3 data-id="heading-7">ç¬¬äº”æ­¥ï¼šåŠ¨æ€ä»£ç†</h3>
<p>è®©æ¥å£è°ƒç”¨åƒæœ¬åœ°æ–¹æ³•ä¸€æ ·ç®€å•ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant U as User Code
    participant P as Dynamic Proxy
    participant R as RPC Client
    
    U-&gt;&gt;P: userClient.getUser(1L)
    P-&gt;&gt;P: è§£æ @GetMapping æ³¨è§£
    P-&gt;&gt;P: è§£æ @PathVariable å‚æ•°
    P-&gt;&gt;P: æ„é€ è¯·æ±‚è·¯å¾„ /user/1
    P-&gt;&gt;R: invoke(serviceName, path, method)
    R-&gt;&gt;R: æœåŠ¡å‘ç° + è´Ÿè½½å‡è¡¡ + HTTPè°ƒç”¨
    R-&gt;&gt;P: è¿”å›å“åº”
    P-&gt;&gt;U: è¿”å›ç»“æœ
</code></pre>
<p><strong>MiniFeign æ ¸å¿ƒå®ç°</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">create</span><span class="hljs-params">(Class&lt;T&gt; interfaceClass, String serviceName, 
                          RpcClient rpcClient)</span> {
    <span class="hljs-keyword">return</span> (T) Proxy.newProxyInstance(
        interfaceClass.getClassLoader(),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>&lt;?&gt;[]{interfaceClass},
        (proxy, method, args) -&gt; {
            <span class="hljs-comment">// è§£æ @GetMapping æ³¨è§£</span>
            <span class="hljs-type">GetMapping</span> <span class="hljs-variable">mapping</span> <span class="hljs-operator">=</span> method.getAnnotation(GetMapping.class);
            <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> mapping.value()[<span class="hljs-number">0</span>];
            
            <span class="hljs-comment">// æ›¿æ¢è·¯å¾„å‚æ•°</span>
            Parameter[] parameters = method.getParameters();
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; parameters.length; i++) {
                <span class="hljs-type">PathVariable</span> <span class="hljs-variable">pathVar</span> <span class="hljs-operator">=</span> parameters[i].getAnnotation(PathVariable.class);
                <span class="hljs-keyword">if</span> (pathVar != <span class="hljs-literal">null</span>) {
                    path = path.replace(<span class="hljs-string">"{"</span> + pathVar.value() + <span class="hljs-string">"}"</span>, 
                                      String.valueOf(args[i]));
                }
            }
            
            <span class="hljs-comment">// è°ƒç”¨ RPC</span>
            <span class="hljs-keyword">return</span> rpcClient.get(serviceName, path, method.getReturnType());
        });
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡ç‚¹</strong>ï¼šJDK åŠ¨æ€ä»£ç†æ‹¦æˆªæ¥å£è°ƒç”¨ï¼›è§£ææ³¨è§£æ„é€ è¯·æ±‚è·¯å¾„ï¼›å§”æ‰˜ç»™ RpcClient æ‰§è¡Œã€‚</p>
<h2 data-id="heading-8">æµ‹è¯•éªŒè¯</h2>
<h3 data-id="heading-9">è½®è¯¢è´Ÿè½½å‡è¡¡æµ‹è¯•</h3>
<p>å¯åŠ¨ä¸¤ä¸ª user-service å®ä¾‹ï¼ˆ8081ã€8082ï¼‰ï¼Œè¿ç»­è°ƒç”¨ä¸‰æ¬¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -X POST <span class="hljs-string">"http://localhost:9090/order?userId=1&amp;productName=book"</span>
curl -X POST <span class="hljs-string">"http://localhost:9090/order?userId=2&amp;productName=pen"</span>
curl -X POST <span class="hljs-string">"http://localhost:9090/order?userId=3&amp;productName=cup"</span>
</code></pre>
<p>æ—¥å¿—æ˜¾ç¤ºè½®è¯¢æ•ˆæœï¼š</p>
<pre><code class="hljs language-ini" lang="ini">RPC è°ƒç”¨æˆåŠŸ, <span class="hljs-attr">url</span>=http://<span class="hljs-number">10.100</span>.<span class="hljs-number">45.164</span>:<span class="hljs-number">8081</span>/user/<span class="hljs-number">1</span>
RPC è°ƒç”¨æˆåŠŸ, <span class="hljs-attr">url</span>=http://<span class="hljs-number">10.100</span>.<span class="hljs-number">45.164</span>:<span class="hljs-number">8082</span>/user/<span class="hljs-number">2</span>
RPC è°ƒç”¨æˆåŠŸ, <span class="hljs-attr">url</span>=http://<span class="hljs-number">10.100</span>.<span class="hljs-number">45.164</span>:<span class="hljs-number">8081</span>/user/<span class="hljs-number">3</span>
</code></pre>
<h3 data-id="heading-10">æœåŠ¡ä¸‹çº¿æµ‹è¯•</h3>
<p>å…³é—­ 8082 ç«¯å£çš„å®ä¾‹ï¼Œç­‰å¾… 10 ç§’è®© Nacos æ„ŸçŸ¥åˆ°å®ä¾‹ä¸‹çº¿ï¼Œç„¶åå†æ¬¡è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">2024</span><span class="hljs-number">-12</span><span class="hljs-number">-17</span> <span class="hljs-number">10</span>:<span class="hljs-number">35</span>:<span class="hljs-number">20</span> [main] <span class="hljs-function">INFO  init <span class="hljs-keyword">new</span> <span class="hljs-title">ips</span><span class="hljs-params">(<span class="hljs-number">1</span>)</span> service: user-service -&gt; [
  Instance{</span>ip=<span class="hljs-string">'10.100.45.164'</span>, port=<span class="hljs-number">8081</span>, healthy=<span class="hljs-literal">true</span>}
]
<span class="hljs-number">2024</span><span class="hljs-number">-12</span><span class="hljs-number">-17</span> <span class="hljs-number">10</span>:<span class="hljs-number">35</span>:<span class="hljs-number">20</span> [main] INFO  RPC è°ƒç”¨æˆåŠŸ, url=http:<span class="hljs-comment">//10.100.45.164:8081/user/4</span>
</code></pre>
<p>Nacos è‡ªåŠ¨æ‘˜é™¤ä¸å¥åº·å®ä¾‹ï¼ŒRPC è°ƒç”¨æ­£å¸¸ã€‚</p>
<h3 data-id="heading-11">è¶…æ—¶é‡è¯•æµ‹è¯•</h3>
<p>åœ¨ user-service æ·»åŠ  6 ç§’å»¶è¿Ÿï¼ˆè¶…è¿‡ 5 ç§’è¯»å–è¶…æ—¶ï¼‰ï¼Œè§¦å‘é‡è¯•æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">2024-12-17 10:40:10 <span class="hljs-section">[main]</span> WARN  RPC è°ƒç”¨è¶…æ—¶ï¼Œç¬¬ 1 æ¬¡é‡è¯•, <span class="hljs-attr">error</span>=Read timed out
2024-12-17 10:40:16 <span class="hljs-section">[main]</span> WARN  RPC è°ƒç”¨è¶…æ—¶ï¼Œç¬¬ 2 æ¬¡é‡è¯•, <span class="hljs-attr">error</span>=Read timed out
2024-12-17 10:40:22 <span class="hljs-section">[main]</span> ERROR RPC è°ƒç”¨å¤±è´¥ï¼Œå·²é‡è¯• 2 æ¬¡
</code></pre>
<h2 data-id="heading-12">æ ¸å¿ƒæŠ€æœ¯ç‚¹æ€»ç»“</h2>















































<table><thead><tr><th>åŠŸèƒ½æ¨¡å—</th><th>Mini RPC å®ç°</th><th>Spring Cloud å®ç°</th><th>æ ¸å¿ƒå·®å¼‚</th></tr></thead><tbody><tr><td><strong>æœåŠ¡å‘ç°</strong></td><td>NamingService + å•çº§ç¼“å­˜(5ç§’è¿‡æœŸ)</td><td>NacosDiscoveryClient + å¤šçº§ç¼“å­˜</td><td>æ ¸å¿ƒé€»è¾‘ä¸€è‡´ï¼ŒSpring Cloud ç¼“å­˜æ›´å®Œå–„</td></tr><tr><td><strong>è´Ÿè½½å‡è¡¡</strong></td><td>AtomicInteger è½®è¯¢ç®—æ³•</td><td>RoundRobinLoadBalancer</td><td>å®ç°å®Œå…¨ç›¸åŒï¼ŒSpring Cloud æ”¯æŒæ›´å¤šç­–ç•¥</td></tr><tr><td><strong>è¶…æ—¶é‡è¯•</strong></td><td>åªé‡è¯•è¶…æ—¶å’Œè¿æ¥å¼‚å¸¸</td><td>Retryer.Default ç›¸åŒé€»è¾‘</td><td>é‡è¯•ç­–ç•¥ä¸€è‡´</td></tr><tr><td><strong>TraceId</strong></td><td>MDC + HTTP Header é€ä¼ </td><td>Spring Cloud Sleuth</td><td>æˆ‘ä»¬åªæœ‰ traceIdï¼ŒSleuth æ”¯æŒå®Œæ•´é“¾è·¯</td></tr><tr><td><strong>åŠ¨æ€ä»£ç†</strong></td><td>JDK Proxy + @GetMapping</td><td>Feign + æ‰€æœ‰ Spring MVC æ³¨è§£</td><td>æˆ‘ä»¬åªæ”¯æŒ GETï¼Œæ¼”ç¤ºåŸç†</td></tr><tr><td><strong>ä»£ç é‡</strong></td><td>çº¦ 500 è¡Œ</td><td>çº¦ 10000+ è¡Œ</td><td>æˆ‘ä»¬å®ç°æ ¸å¿ƒåŠŸèƒ½ï¼ŒSpring Cloud æ›´å®Œå–„</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒç»“è®º</strong>ï¼šSpring Cloud çš„å¤æ‚æ€§æ¥è‡ªäºé€šç”¨æ€§å’Œå®Œå–„æ€§ï¼Œè€Œä¸æ˜¯æ ¸å¿ƒé€»è¾‘å¤æ‚ã€‚500 è¡Œä»£ç å°±èƒ½å®ç° RPC çš„æœ¬è´¨åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-13">æ”¶è·ä¸æ€è€ƒ</h2>
<p>é€šè¿‡æ‰‹å†™ Mini RPC æ¡†æ¶ï¼Œæˆ‘æ·±åˆ»ç†è§£äº† RPC è°ƒç”¨çš„æœ¬è´¨ï¼šæœåŠ¡å‘ç°å°±æ˜¯ä»æ³¨å†Œä¸­å¿ƒè·å– IP å’Œç«¯å£ï¼Œè´Ÿè½½å‡è¡¡å°±æ˜¯ä»åˆ—è¡¨ä¸­é€‰ä¸€ä¸ªå®ä¾‹ï¼ŒRPC è°ƒç”¨å°±æ˜¯å‘é€ HTTP è¯·æ±‚ï¼ŒTraceId é€ä¼ å°±æ˜¯é€šè¿‡ Header ä¼ é€’å‚æ•°ã€‚Spring Cloud çš„å¤æ‚æ€§ä¸»è¦æ¥è‡ªæ”¯æŒå¤šç§æ³¨å†Œä¸­å¿ƒã€æä¾›ä¸°å¯Œçš„é…ç½®é¡¹ã€å®Œå–„çš„å®¹é”™æœºåˆ¶å’Œå¼ºå¤§çš„æ‰©å±•æ€§ã€‚</p>
<p>ç°åœ¨é‡åˆ° RPC é—®é¢˜ï¼Œæˆ‘çŸ¥é“å¦‚ä½•å¿«é€Ÿå®šä½ï¼šè°ƒç”¨è¶…æ—¶æ£€æŸ¥ readTimeout é…ç½®å’Œé‡è¯•æ—¥å¿—ï¼Œè´Ÿè½½å‡è¡¡ä¸ç”Ÿæ•ˆæ£€æŸ¥å®ä¾‹åˆ—è¡¨å’Œå¥åº·çŠ¶æ€ï¼ŒTraceId ä¸¢å¤±æ£€æŸ¥ MDC è®¾ç½®å’Œæ‹¦æˆªå™¨æ‰§è¡Œã€‚è¿™è®©æˆ‘å¯¹ç»´æŠ¤ JobFlow å¼€æºé¡¹ç›®æ›´æœ‰ä¿¡å¿ƒï¼Œèƒ½ä»æºç å±‚é¢ç»™ç”¨æˆ·å‡†ç¡®çš„å›ç­”ï¼Œå¿«é€Ÿå®šä½å’Œè§£å†³ Bugã€‚</p>
<p>æ‰‹å†™ä¸€éï¼Œèƒœè¿‡è¯»åéæºç ã€‚ç†è§£æ ¸å¿ƒåŸç†åï¼Œæˆ‘å¯¹ JobFlow çš„ RPC è°ƒç”¨æœ‰äº†æ›´æ¸…æ™°çš„è®¾è®¡æ€è·¯ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹åŠ¨æ€è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ŒåŒºåˆ†ç½‘ç»œæŠ–åŠ¨å’Œä¸šåŠ¡å¼‚å¸¸çš„é‡è¯•ç­–ç•¥ï¼Œé€šè¿‡ TraceId å®ç°ä»»åŠ¡è°ƒåº¦çš„å…¨é“¾è·¯è¿½è¸ªï¼Œå®šæ—¶åˆ·æ–°æ‰§è¡Œå™¨åˆ—è¡¨å¿«é€Ÿæ„ŸçŸ¥æ‰©ç¼©å®¹ã€‚</p>
<h2 data-id="heading-14">æ€»ç»“</h2>
<p>è¿™æ¬¡å®è·µè®©æˆ‘æ·±å…¥ç†è§£äº† Spring Cloud Alibaba çš„ RPC åŸç†ï¼Œä¸º JobFlow é¡¹ç›®æ‰“ä¸‹äº†åšå®çš„æŠ€æœ¯åŸºç¡€ã€‚å¦‚æœä½ ä¹Ÿåœ¨å¼€å‘å¾®æœåŠ¡é¡¹ç›®ï¼Œå»ºè®®ä¸è¦åªä¼šç”¨æ¡†æ¶ï¼Œè¦ç†è§£åŸç†ï¼›æ‰‹å†™ä¸€ä¸ªæœ€å°åŒ–å®ç°ï¼Œå»æ‰æ¡†æ¶çš„"é­”æ³•"ï¼›å¯¹æ¯”æºç ï¼Œç†è§£è®¾è®¡æƒè¡¡ï¼›å°†æ‰€å­¦åº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­ã€‚</p>
<p>å¦‚æœä½ å¯¹ JobFlow é¡¹ç›®æ„Ÿå…´è¶£ï¼Œæ¬¢è¿å…³æ³¨æˆ‘ä»¬çš„è¿›å±•ï¼Œä¸€èµ·æ¢è®¨äº‘åŸç”Ÿä»»åŠ¡è°ƒåº¦çš„å®è·µç»éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SABER: æ¨¡å¼åˆ‡æ¢çš„æ··åˆæ€è€ƒæ¨¡å‹è®­ç»ƒèŒƒå¼]]></title>    <link>https://juejin.cn/post/7585139951344664627</link>    <guid>https://juejin.cn/post/7585139951344664627</guid>    <pubDate>2025-12-19T04:01:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585139951344664627" data-draft-id="7585019819193303050" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SABER: æ¨¡å¼åˆ‡æ¢çš„æ··åˆæ€è€ƒæ¨¡å‹è®­ç»ƒèŒƒå¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-19T04:01:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“”å“©å“”å“©æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3030701626893405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SABER: æ¨¡å¼åˆ‡æ¢çš„æ··åˆæ€è€ƒæ¨¡å‹è®­ç»ƒèŒƒå¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3030701626893405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“”å“©å“”å“©æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T04:01:20.000Z" title="Fri Dec 19 2025 04:01:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ä¸€ã€æ¦‚è¿°</strong></h2>
<p>é€šè¿‡é“¾å¼æ€è€ƒå¢å¼ºçš„å¤§è¯­è¨€æ¨¡å‹åœ¨å¤æ‚ä»»åŠ¡ä¸Šå·²å–å¾—æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼Œä½†åœ¨å°†è¿™ç§æ¨ç†æ–¹å¼æ— å·®åˆ«åœ°åº”ç”¨äºæ‰€æœ‰é—®é¢˜æ—¶ï¼Œå¸¸å¸¸é¢ä¸´æ¨ç†å¼€é”€è¿‡å¤§ã€å“åº”å»¶è¿Ÿåé«˜ç­‰ç°å®ç“¶é¢ˆã€‚ä¸ºè§£å†³è¿™ä¸€çŸ›ç›¾ï¼Œbilibili Index-llm Teamæå‡º SABERï¼ˆSwitchable and Balanced Training for Efficient LLM Reasoningï¼‰ï¼Œä¸€ç§è®©å¤§æ¨¡å‹å…·å¤‡å¯åˆ‡æ¢ã€å¯æ§ã€å¹¶å— token é¢„ç®—çº¦æŸçš„æ¨ç†èƒ½åŠ›çš„å¼ºåŒ–å­¦ä¹ æ¡†æ¶ã€‚</p>
<p>SABER é¦–å…ˆå¯¹åŸºåº§æ¨¡å‹åœ¨æ¯ä¸ªè®­ç»ƒæ ·æœ¬ä¸­çš„æ¨ç†é•¿åº¦è¿›è¡Œç»Ÿè®¡ï¼Œå°†æ ·æœ¬åˆ’åˆ†åˆ°ä¸åŒçš„é¢„ç®—å±‚çº§ã€‚åœ¨éšåçš„å¾®è°ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹åœ¨ç³»ç»Ÿæç¤ºè¯å’Œæ··åˆå¥–åŠ±çš„å¼•å¯¼ä¸‹ï¼Œå­¦ä¹ å¦‚ä½•åœ¨ç»™å®šé¢„ç®—å†…å®Œæˆæ¨ç†ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬é¢å¤–åŠ å…¥ä¸€éƒ¨åˆ†æ— æ€è€ƒè®­ç»ƒæ•°æ®ï¼Œç¡®ä¿æ¨¡å‹åœ¨å…³é—­æ˜¾å¼æ¨ç†æ—¶ä¾ç„¶èƒ½å¤Ÿç¨³å®šä½œç­”ã€‚SABER æ”¯æŒå››ç§ç¦»æ•£æ¨ç†æ¨¡å¼ï¼šNoThinkã€FastThinkã€CoreThinkã€DeepThinkï¼Œèƒ½å¤Ÿåœ¨æ¨ç†æ·±åº¦ä¸æ¨ç†å»¶è¿Ÿä¹‹é—´çµæ´»è°ƒèŠ‚ã€‚æˆ‘ä»¬åœ¨æ•°å­¦æ¨ç†ã€ä»£ç ç”Ÿæˆå’Œé€»è¾‘æ¨ç†ç­‰å¤æ‚ä»»åŠ¡ä¸Šè¿›è¡Œäº†ç³»ç»Ÿå®éªŒã€‚ç»“æœæ˜¾ç¤ºï¼šSABER åœ¨é™åˆ¶ token é¢„ç®—ä¸‹ä¾ç„¶ä¿æŒé«˜ç²¾åº¦æ¨ç†ç»“æœï¼Œå…·å¤‡å¹³æ»‘é€€åŒ–ç‰¹æ€§ï¼Œå¹¶åœ¨è·¨æ¨¡å‹è§„æ¨¡ä¸è·¨ä»»åŠ¡åœºæ™¯ä¸­å±•ç°å‡ºè‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚ç‰¹åˆ«æ˜¯åœ¨ MATH ä»»åŠ¡ä¸Šï¼ŒSABER-FastThink å°†æ¨ç†é•¿åº¦å‡å°‘äº† 65.4%ï¼Œå¹¶ç›¸è¾ƒåŸºåº§æ¨¡å‹æå‡äº† 3.6% çš„ç²¾åº¦ï¼Œå±•ç°å‡ºæ˜¾è‘—çš„æ•ˆç‡ä¸æ€§èƒ½ä¼˜åŠ¿ã€‚</p>
<p>è¯¥è®ºæ–‡å·²è¢«AAAI 2026æ”¶å½•ï¼Œé“¾æ¥ï¼š<em><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2508.10026" target="_blank" title="https://arxiv.org/abs/2508.10026" ref="nofollow noopener noreferrer">arxiv.org/abs/2508.10â€¦</a></em></p>
<h2 data-id="heading-1"><strong>äºŒã€èƒŒæ™¯</strong></h2>
<p>è¿‘å¹´æ¥ï¼Œå¤§è¯­è¨€æ¨¡å‹åœ¨å¤æ‚æ¨ç†ä»»åŠ¡ä¸Šçš„è¡¨ç°å–å¾—äº†æ˜¾è‘—è¿›æ­¥ï¼Œè¿™ä¸»è¦å¾—ç›Šäºå®ƒä»¬åœ¨æ˜¾å¼ã€é€æ­¥çš„æ€è€ƒèƒ½åŠ›ä¸Šçš„å¢å¼ºã€‚è¯¸å¦‚æ€ç»´é“¾æç¤ºï¼ˆChain-of-Thoughtï¼‰å’Œæ¨ç†æ—¶æ‰©å±•ï¼ˆTest-Time Compute Scalingï¼‰ç­‰æ–¹æ³•ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨ç»™å‡ºæœ€ç»ˆç­”æ¡ˆå‰ï¼Œå°†é—®é¢˜æ‹†è§£ä¸ºä¸€ç³»åˆ—ä¸­é—´æ­¥éª¤ï¼Œä»è€Œæå‡æ¨ç†çš„å¯é æ€§å’Œå‡†ç¡®æ€§ã€‚è¿™ç±»ç­–ç•¥å·²åœ¨å¤šç±»ä»»åŠ¡ä¸­å±•ç°å‡ºäº†å“è¶Šçš„æ•ˆæœã€‚</p>
<p>ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä¹Ÿå¸¦æ¥äº†ä¸€äº›æ–°çš„æŒ‘æˆ˜ã€‚é¦–å…ˆï¼Œæ¨ç†è½¨è¿¹å¾€å¾€è¿‡é•¿ï¼Œå¯¼è‡´æ¨ç†æˆæœ¬å’Œå“åº”å»¶è¿Ÿæ˜¾è‘—å¢åŠ ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ¨¡å‹é€šå¸¸ä¼šåœ¨æ‰€æœ‰è¾“å…¥ä¸Šæœºæ¢°åœ°é‡‡ç”¨ç›¸åŒçš„æ·±åº¦æ¨ç†æµç¨‹ï¼Œè€Œä¸è€ƒè™‘ä»»åŠ¡æœ¬èº«çš„å¤æ‚åº¦æˆ–ç”¨æˆ·çš„åå¥½ã€‚è¿™ç§æ¨ç†æ·±åº¦ä¸ä»»åŠ¡éœ€æ±‚çš„ä¸åŒ¹é…ï¼Œå¼•å‡ºäº†ä¸€ä¸ªè¶Šæ¥è¶Šå—åˆ°å…³æ³¨çš„é—®é¢˜ï¼šè¿‡åº¦æ€è€ƒï¼ˆoverthinkingï¼‰ã€‚åœ¨è¿™ä¸€ç°è±¡ä¸­ï¼Œå¤§è¯­è¨€æ¨¡å‹å³ä¾¿é¢å¯¹æå…¶ç®€å•çš„é—®é¢˜ï¼Œä¹Ÿä¼šç”Ÿæˆå†—é•¿ã€å¤æ‚ä¸”ä¸å¿…è¦çš„æ¨ç†å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºâ€œ1 + 1 ç­‰äºå‡ ï¼Ÿâ€è¿™æ ·çš„ç®€å•é—®é¢˜ï¼Œä¸€äº›æ¨¡å‹å¯èƒ½ä»ä¼šç»™å‡ºå¤šæ­¥æ¨ç†ã€åˆ—ä¸¾æ— å…³çš„æ¨å¯¼è¿‡ç¨‹ï¼Œå…¶ token æ¶ˆè€—è¿œè¶…ç›´æ¥å›ç­”ã€‚è¿™ä¸ä»…æ‹–æ…¢å“åº”é€Ÿåº¦ï¼Œä¹Ÿæ˜¾è‘—æé«˜æ¨ç†çš„è®¡ç®—æˆæœ¬ï¼Œä»è€Œé™åˆ¶äº†æ¨¡å‹åœ¨çœŸå®åœºæ™¯ä¸­çš„éƒ¨ç½²æ•ˆç‡ã€‚</p>
<p>å°½ç®¡å·²æœ‰å·¥ä½œå°è¯•é€šè¿‡æŒ‡ä»¤å¾®è°ƒã€é•¿åº¦çº¦æŸã€å¥–åŠ±é‡å¡‘ç­‰æ–¹å¼æ¥å‹ç¼©è¾“å‡ºï¼Œä½†è¿™äº›æ–¹æ³•å¤šä¾èµ–é™æ€è§„åˆ™æˆ–ä»»åŠ¡æ— å…³çš„å¯å‘å¼æœºåˆ¶ï¼Œæ—¢æ— æ³•æ ¹æ®é—®é¢˜éš¾åº¦åŠ¨æ€è°ƒèŠ‚æ¨ç†é•¿åº¦ï¼Œä¹Ÿæ— æ³•çœŸæ­£è®©ç”¨æˆ·æŒæ§æ¨¡å‹çš„æ¨ç†æ·±åº¦ã€‚</p>
<h2 data-id="heading-2"><strong>ä¸‰ã€æ–¹æ³•</strong></h2>
<h3 data-id="heading-3"><strong>3.1 æ€è€ƒé•¿åº¦ç»Ÿè®¡ä¸é¢„ç®—åˆ’åˆ†</strong></h3>
<p>æ€è€ƒé¢„ç®—ï¼ˆthinking budgetï¼‰çš„è®¾è®¡æ˜¯ SABER çš„æ ¸å¿ƒã€‚è‹¥æ‰€æœ‰æ ·æœ¬é‡‡ç”¨ç»Ÿä¸€é¢„ç®—ï¼Œç®€å•ä»»åŠ¡ä¸ä¼šå—åˆ°é•¿åº¦çº¦æŸï¼Œéš¾é¢˜åˆ™ä¼šæŒç»­å—ç½šå¹¶å¯¼è‡´æ€§èƒ½å´©å¡Œã€‚ä¸ºæ­¤ï¼ŒSABER å¯¹æ¯ä¸ªæ ·æœ¬å•ç‹¬æ ¡å‡†é¢„ç®—ï¼šå…ˆè¿è¡ŒåŸºç¡€æ¨¡å‹ï¼Œç»Ÿè®¡å’Œä¹‹é—´çš„æ¨ç† token æ•°é‡ï¼Œå†ä¾æ®åˆ†å¸ƒå°†æ ·æœ¬åˆ’åˆ†ä¸ºä¸‰ä¸ªéš¾åº¦æ¡£ï¼š128ï¼ˆç®€å•ï¼‰ã€4096ï¼ˆä¸­ç­‰ï¼‰å’Œ 16384ï¼ˆå›°éš¾ï¼‰ã€‚éš¾åº¦è¶Šé«˜ï¼Œæ‰€å…è®¸çš„æ¨ç†é•¿åº¦è¶Šå®½æ¾ï¼›è¶…è¿‡ 16384 çš„æ ·æœ¬ä¸è®¾ä¸Šé™ã€‚åŒæ—¶åœ¨ç³»ç»Ÿæç¤ºè¯ä¸­æ˜¾å¼å‘ŠçŸ¥è¯¥æ ·æœ¬çš„æ¨ç†ä¸Šé™ï¼Œä»è€Œè®©æ¨¡å‹åœ¨è®­ç»ƒä¸­å­¦ä¹ ä¸åŒæ¨ç†æ¨¡å¼ä¹‹é—´çš„åˆ‡æ¢ã€‚å›¾1å±•ç¤ºäº†ä¸åŒæ€è€ƒæ¨¡å¼çš„ç³»ç»Ÿæç¤ºè¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52126af5fb554d85a1b1ce55cb6e0996~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766721679&amp;x-signature=QNHBfMvg1%2B%2BdyctPJmWIdET7Ouk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p align="center">å›¾1 ä¸åŒæ€è€ƒæ¨¡å¼çš„ç³»ç»Ÿæç¤ºè¯</p>
<p>è¿™ç§åˆ†çº§ç¼©æ”¾ç­–ç•¥æ—¢ä¿è¯äº†å¤§é‡æ ·æœ¬èƒ½äº§ç”Ÿæœ‰æ•ˆçš„é•¿åº¦æƒ©ç½šï¼ŒåŠ é€Ÿæ¨¡å¼åˆ‡æ¢çš„å­¦ä¹ ï¼Œåˆèƒ½å°Šé‡ä»»åŠ¡æœ¬èº«çš„æ¨ç†éœ€æ±‚ï¼Œä½¿è®­ç»ƒè¿‡ç¨‹æ›´ç¨³å®šã€‚</p>
<h3 data-id="heading-4"><strong>3.2 æ ·æœ¬åˆ†ç»„ä¸ç¨³å®šæ€§æ§åˆ¶</strong></h3>
<p>ç›´æ¥å¯¹æ‰€æœ‰æ ·æœ¬ä¸€å¼€å§‹å°±æ–½åŠ å¼ºé•¿åº¦æƒ©ç½šä¼šå¯¼è‡´è®­ç»ƒä¸ç¨³å®šï¼Œå› æ­¤ SABER é‡‡ç”¨ä¸¤é¡¹ç¨³å®šåŒ–æœºåˆ¶ï¼š</p>
<p>ï¼ˆ1ï¼‰åŸºäºå‡†ç¡®ç‡çš„æ ·æœ¬åˆ†ç»„</p>
<p>æˆ‘ä»¬æµ‹é‡åŸºç¡€æ¨¡å‹å¯¹è®­ç»ƒé›†çš„å›ç­”æƒ…å†µï¼Œå¯¹å…¶æ— æ³•æ­£ç¡®å›ç­”çš„çº¦ 40% æ ·æœ¬ï¼Œå…¶ä¸­ä¸€åŠä¿æŒåŸé¢„ç®—ã€å¦ä¸€åŠä¸è®¾é¢„ç®—ä¸Šé™ï¼Œä½¿å…¶æ¨ç†è¿‡ç¨‹ä¸å—æƒ©ç½šã€‚åªæœ‰åŸºç¡€æ¨¡å‹èƒ½ç­”å¯¹çš„ 60% æ ·æœ¬æ‰ä¼šè¢«é™çº§é¢„ç®—ã€‚è¯¥ç­–ç•¥å‡å°‘äº†æ¨¡å‹æ—©æœŸå› é¢‘ç¹åˆ‡æ¢æ¨ç†æ¨¡å¼è€Œå¸¦æ¥çš„ä¸ç¨³å®šæ€§ã€‚</p>
<p>ï¼ˆ2ï¼‰æ¨ç†é•¿åº¦æ¯”ä¾‹çº¦æŸ</p>
<p>ä¸ºäº†é¿å…æ¨¡å‹ä¸ºäº†å‡å°‘æƒ©ç½šè€Œæ•…æ„ç”Ÿæˆè¿‡çŸ­çš„æ¨ç†è½¨è¿¹ï¼Œæˆ‘ä»¬è¦æ±‚ç”Ÿæˆçš„æ€è€ƒ token æ•°å¿…é¡»åœ¨åŸºç¡€æ¨¡å‹é•¿åº¦çš„åŒºé—´å†…ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53fb38a5294740bcba359af731a1d0fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766721679&amp;x-signature=5K9rMDn5XmoM%2FoXDdShJwTND9KM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é˜²æ­¢å‡ºç°å› è¿‡åº¦å‹ç¼©æ¨ç†å¯¼è‡´çš„reward hackingç°è±¡ã€‚</p>
<h3 data-id="heading-5"><strong>3.3 æ— æ€è€ƒæ¨¡å¼æ„é€ </strong></h3>
<p>åœ¨åº”ç”¨åœºæ™¯ä¸­ï¼Œç”¨æˆ·å¯èƒ½å¸Œæœ›ç›´æ¥è·å¾—ç­”æ¡ˆè€Œæ— éœ€æ¨ç†è¿‡ç¨‹ã€‚ç„¶è€Œé•¿æ¨ç†æ¨¡å‹è‹¥ç›´æ¥å…³é—­æ€è€ƒé€šå¸¸ä¼šå¯¼è‡´æ˜¾è‘—æ€§èƒ½ä¸‹é™ã€‚å› æ­¤ SABER æ˜¾å¼åœ¨è®­ç»ƒé›†ä¸­åŠ å…¥éƒ¨åˆ† no-think æ ·æœ¬ï¼Œé€šè¿‡æ„é€ æçŸ­çš„å ä½æ€ç»´å—æ¥å‘Šè¯‰æ¨¡å‹è·³è¿‡æ¨ç†ç›´æ¥ä½œç­”ã€‚å³ä½¿å°‘é‡æ•°æ®ï¼Œä¹Ÿèƒ½æ˜¾è‘—å¢å¼ºæ¨¡å‹åœ¨æ— æ¨ç†æ¨¡å¼ä¸‹çš„ç¨³å®šæ€§ä¸è¡¨ç°ã€‚</p>
<h3 data-id="heading-6"><strong>3.4 æ— éœ€SFTé¢„çƒ­çš„ç›´æ¥RLä¼˜åŒ–</strong></h3>
<p>ä¸è®¸å¤šéœ€è¦å…ˆè¿›è¡Œ SFT çš„æ–¹æ³•ä¸åŒï¼ŒSABER çš„æ„é€ å¤©ç„¶ä¸æ¨¡å‹è¡Œä¸ºä¸€è‡´ï¼Œå› æ­¤å¯ç›´æ¥ç”¨å¼ºåŒ–å­¦ä¹ è¿›è¡Œè®­ç»ƒï¼Œæ— éœ€é¢å¤–çš„ SFT çƒ­èº«é˜¶æ®µï¼Œä½¿è®­ç»ƒæ›´ç®€å•é«˜æ•ˆã€‚</p>
<p>æ¨¡å‹é‡‡ç”¨ GRPO è¿›è¡Œä¼˜åŒ–ï¼Œå…¶å¥–åŠ±ç”±å››éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>æ ¼å¼å¥–åŠ±ï¼šæ¨ç†ä¸ç­”æ¡ˆå¿…é¡»ä½¿ç”¨ ... æ ‡è®°çš„ç»“æ„åŒ–æ ¼å¼ï¼›</li>
<li>ç­”æ¡ˆå¥–åŠ±ï¼šæ•°å­¦ä»»åŠ¡æ£€æŸ¥ boxed{} å†…å®¹ï¼Œä»£ç ä»»åŠ¡é€šè¿‡è¿è¡Œæµ‹è¯•ï¼›</li>
<li>é•¿åº¦æƒ©ç½šï¼šè¶…è¿‡é¢„ç®—åˆ™æ‰£åˆ†ï¼›</li>
<li>æ¯”ä¾‹æƒ©ç½šï¼šæ¨ç†é•¿åº¦è‹¥åç¦»åŸºç¡€æ¨¡å‹è¿‡å¤šåˆ™æ‰£åˆ†ï¼Œé˜²æ­¢reward hackingã€‚</li>
</ul>
<p>ç»¼åˆä¼˜åŒ–åï¼Œæ¨¡å‹èƒ½å¤Ÿå®ç°å¯¹æ¨ç†æ·±åº¦çš„ç²¾ç¡®æ§åˆ¶ï¼Œåœ¨é•¿æ¨ç†ã€çŸ­æ¨ç†åŠæ— æ¨ç†åœºæ™¯ä¸­å‡ä¿æŒç¨³å®šçš„é«˜è´¨é‡å›ç­”ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b134ba687884d38b1bc89e0b5244d07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766721679&amp;x-signature=ESHxOjtAdb8f1JW7Iiixl3yd6JE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p align="center">å›¾2 SABERæ¡†æ¶</p>
<p>å›¾2æ€»ç»“äº†SABERçš„æ•´ä½“æ¡†æ¶ã€‚ä¸ŠåŠéƒ¨åˆ†å±•ç¤ºäº†æ•°æ®é¢„å¤„ç†æµç¨‹ï¼Œæˆ‘ä»¬é€šè¿‡åŸºåº§æ¨¡å‹çš„æ¨ç†ç»“æœä¼°è®¡æ¯ä¸ªæ ·æœ¬æ‰€éœ€çš„æ€è€ƒé¢„ç®—ï¼Œå¹¶æ®æ­¤å°†è®­ç»ƒæ•°æ®åˆ’åˆ†ä¸ºç®€å•ã€ä¸­ç­‰å’Œå›°éš¾ä¸‰ç±»ã€‚ä¸‹åŠéƒ¨åˆ†å±•ç¤ºäº†å¼ºåŒ–å­¦ä¹ é˜¶æ®µçš„è®­ç»ƒæœºåˆ¶ï¼Œæ¨¡å‹åœ¨ä¸åŒæ¨ç†æ¨¡å¼å¯¹åº”çš„æç¤ºè¯å¼•å¯¼ä¸‹ç”Ÿæˆå›ç­”ï¼Œéšåä¾æ®æ ¼å¼è§„èŒƒæ€§ã€ç­”æ¡ˆå‡†ç¡®æ€§ä»¥åŠæ¨ç†é•¿åº¦ä¸é¢„ç®—çš„åŒ¹é…ç¨‹åº¦ç­‰å¤šç»´å¥–åŠ±ä¿¡å·è¿›è¡Œç»¼åˆè¯„ä¼°ä¸æ›´æ–°ï¼Œä»è€Œå®ç°æ›´é«˜æ•ˆã€æ›´å¯æ§çš„æ¨ç†è¡Œä¸ºã€‚</p>
<h2 data-id="heading-7"><strong>å››ã€å®éªŒ</strong></h2>
<p>æˆ‘ä»¬åœ¨å®éªŒé˜¶æ®µç³»ç»Ÿè¯„ä¼°äº† SABER æ¡†æ¶çš„æœ‰æ•ˆæ€§ï¼Œå›´ç»•å››ä¸ªæ ¸å¿ƒç ”ç©¶é—®é¢˜å±•å¼€ï¼š</p>
<p>ï¼ˆ1ï¼‰SABER åœ¨æ•°å­¦æ¨ç†ä¸ä»£ç ç”Ÿæˆä»»åŠ¡ä¸Šç›¸è¾ƒç°æœ‰æ–¹æ³•æ˜¯å¦å…·å¤‡ä¼˜åŠ¿ï¼Ÿ</p>
<p>ï¼ˆ2ï¼‰SABER æ˜¯å¦èƒ½æ¨å¹¿åˆ°æ›´å¤§è§„æ¨¡çš„æ¨¡å‹ï¼Œä»¥åŠæ³›åŒ–åˆ°æœªè§è¿‡çš„æ¨ç†é¢†åŸŸï¼Ÿ</p>
<p>ï¼ˆ3ï¼‰SABER çš„å…³é”®è®¾è®¡ç»„ä»¶å„è‡ªçš„é‡è¦æ€§å¦‚ä½•ï¼Ÿ</p>
<p>ï¼ˆ4ï¼‰SABER çš„å¯åˆ‡æ¢æ¨ç†æ¨¡å¼ä¹‹é—´å‘ˆç°å‡ºæ€æ ·çš„è¡Œä¸ºå·®å¼‚ï¼Ÿ</p>
<p>ä¸ºå›ç­”ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆä»‹ç»å®éªŒè®¾ç½®ï¼ŒåŒ…æ‹¬ä½¿ç”¨çš„æ•°æ®é›†ã€å¯¹æ¯”åŸºçº¿ä¸è®­ç»ƒæ•°æ®æ„æˆã€‚éšåå±•ç¤º SABER åœ¨ 1.5B æ¨¡å‹è§„æ¨¡ä¸Šçš„æ ¸å¿ƒç»“æœï¼Œè¦†ç›–æ•°å­¦æ¨ç†ï¼ˆMATH / GSM8Kï¼‰ä¸ä»£ç ç”Ÿæˆï¼ˆMBPPï¼‰ä»»åŠ¡ï¼›æ¥ç€è¿›ä¸€æ­¥åœ¨ 7B æ¨¡å‹ä¸Šå¤ç°ç›¸åŒè®­ç»ƒæµç¨‹ï¼Œè¯„ä¼°å…¶è·¨è§„æ¨¡ã€è·¨é¢†åŸŸçš„æ³›åŒ–èƒ½åŠ›ï¼Œå¹¶åœ¨ LiveBench-Reasoning é€»è¾‘æ¨ç†ä»»åŠ¡ä¸ŠéªŒè¯æ¨¡å¼åˆ‡æ¢æœºåˆ¶çš„è¿ç§»èƒ½åŠ›ã€‚æˆ‘ä»¬ä¹Ÿé€šè¿‡é€é¡¹åˆ å‡å…³é”®ç»„ä»¶çš„æ¶ˆèå®éªŒï¼Œåˆ†æ SABER å„æ¨¡å—çš„è´¡çŒ®ã€‚æœ€åï¼Œæˆ‘ä»¬é€‰å–å…·ä½“æ¡ˆä¾‹ï¼Œæ¯”è¾ƒ FastThinkã€CoreThink å’Œ DeepThink ä¸‰ç§æ¨ç†æ¨¡å¼çš„è¡Œä¸ºå·®å¼‚ï¼Œå±•ç¤ºä¸åŒæ€è€ƒæ·±åº¦ä¸‹çš„æ¨ç†é£æ ¼ä¸ç­”æ¡ˆå‡†ç¡®æ€§è¡¨ç°ã€‚</p>
<h3 data-id="heading-8"><strong>4.1 ä¸åŸºçº¿çš„æ¯”è¾ƒï¼ˆRQ1ï¼‰</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88fa0eb4a62d44d8b3ec7fb76cf3947b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766721679&amp;x-signature=CF14fCjfSWG%2FcL6JvgMHjIqvSUY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ 1.5B æ¨¡å‹è§„æ¨¡ä¸‹ï¼ŒSABER çš„å„æ¨¡å¼å‡ä¼˜äºåŸºåº§æ¨¡å‹ã€‚</p>
<ul>
<li>FastThink åœ¨ä¿è¯å‡†ç¡®ç‡æå‡çš„åŒæ—¶ï¼Œä½¿æ¨ç†é•¿åº¦ä¸‹é™ 70%+ï¼Œå®ç°æé«˜çš„æ•ˆç‡ï¼›</li>
<li>CoreThink åœ¨ç²¾ç®€æ¨ç†çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æå‡äº†æ•´ä½“å‡†ç¡®ç‡ï¼›</li>
<li>DeepThink åœ¨ç»´æŒè¾ƒé«˜æ¨ç†å®Œæ•´æ€§çš„åŒæ—¶ä»æ˜¾è‘—å‹ç¼©ç”Ÿæˆé•¿åº¦ï¼Œå¹¶å–å¾—æœ€é«˜å‡†ç¡®ç‡ã€‚</li>
</ul>
<p>å¯¹æ¯” L1 å’Œ SelfBudgeterï¼ŒSABER åœ¨æ›´å°è®­ç»ƒé‡ï¼ˆ2K vs. 30Kï¼‰ä¸‹è·å¾—æ›´å¥½çš„å‡†ç¡®ç‡â€”æ•ˆç‡æŠ˜ä¸­ï¼Œå¹¶å±•ç°æ›´ç¨³å®šçš„æ¨ç†è¡Œä¸ºå­¦ä¹ èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-9"><strong>4.2 è·¨è§„æ¨¡ä¸è·¨é¢†åŸŸæ³›åŒ–ï¼ˆRQ2ï¼‰</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4faa006f80c640b5bcefd7d0a0b39cbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766721679&amp;x-signature=1sXIRmwhD0Q8Zlj8E5CsDTgaiIg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨åº”ç”¨äº 7B æ¨¡å‹æ—¶ï¼ŒSABER ä»ä¿æŒè‰¯å¥½çš„æ¨ç†å‹ç¼©èƒ½åŠ›ä¸å‡†ç¡®ç‡å¢ç›Šï¼š</p>
<ul>
<li>FastThink åœ¨ä¿æŒè¾ƒé«˜ç²¾åº¦çš„å‰æä¸‹å‡å°‘è¶…è¿‡ 80% çš„æ¨ç†é•¿åº¦ï¼›</li>
<li>DeepThink åŒæ—¶å®ç°è¾ƒå¤§å¹…åº¦çš„å‹ç¼©ä¸è½»å¾®çš„å‡†ç¡®ç‡æå‡ã€‚</li>
</ul>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œå°½ç®¡è®­ç»ƒæ•°æ®ä»…åŒ…å«æ•°å­¦å’Œä»£ç æ ·æœ¬ï¼Œä½† SABER çš„æ¨ç†æ¨¡å¼åˆ‡æ¢æœºåˆ¶æˆåŠŸè¿ç§»åˆ°äº†é€»è¾‘æ¨ç†ä»»åŠ¡ï¼ˆLiveBench-Rï¼‰ï¼Œæ˜¾ç¤ºå‡ºè·¨é¢†åŸŸçš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-10"><strong>4.3 æ¶ˆèå®éªŒï¼ˆRQ3ï¼‰</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ceace9a14b5a4402b57e3eb82f043523~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766721679&amp;x-signature=SeKcD3rwjXBNHcH1mxmZqKucgBk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯¹ SABER çš„æ ¸å¿ƒè®¾è®¡é€é¡¹å»é™¤å¹¶æµ‹è¯•å…¶å½±å“ï¼ŒåŒ…æ‹¬é¢„ç®—é™çº§ç­–ç•¥ã€NoThink ç¤ºä¾‹æ¯”ä¾‹ã€æ ·æœ¬å‡†ç¡®ç‡è¿‡æ»¤ç­‰ã€‚å®éªŒè¡¨æ˜ï¼š</p>
<ul>
<li>ç§»é™¤é¢„ç®—é™çº§ä¼šæ˜¾è‘—å‰Šå¼±çŸ­æ¨ç†æ¨¡å¼çš„å­¦ä¹ èƒ½åŠ›ï¼Œä½¿æ¨¡å‹éš¾ä»¥é€‚åº”ä¸åŒæ¨ç†æ·±åº¦ï¼›</li>
<li>å‡å°‘æˆ–åˆ é™¤ NoThink æ•°æ®ä¼šå¯¼è‡´æ— æ¨ç†æ¨¡å¼æ€§èƒ½æ˜æ˜¾ä¸‹é™ï¼Œä¸”ä¸ä¼šå¸¦æ¥å…¶ä»–æ¨¡å¼çš„æ”¶ç›Šï¼›</li>
<li>ç§»é™¤å‡†ç¡®ç‡è¿‡æ»¤ä¼šå¼•å…¥ç›‘ç£å™ªå£°ï¼Œä½¿è®­ç»ƒä¸ç¨³å®šã€‚</li>
</ul>
<p>è¿™äº›ç»“æœè¯´æ˜ï¼ŒSABER çš„å„å­æ¨¡å—å‡æ˜¯ç¨³å®šå­¦ä¹ æ¨ç†æ¨¡å¼çš„å¿…è¦ç»„æˆéƒ¨åˆ†ã€‚</p>
<h3 data-id="heading-11"><strong>4.4 æ¨ç†æ¨¡å¼è¡Œä¸ºåˆ†æï¼ˆRQ4ï¼‰</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7ec7af7a93c4aaa9bd4115fab2016ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOU5ZOp5ZOU5ZOp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766721679&amp;x-signature=Onc65DWDSeW2le%2F1BcOG5ABOVAM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡ MATH500 çš„ç¤ºä¾‹å¯è§ï¼Œå„æ¨¡å¼éƒ½ä¼šéµå¾ªæ ¸å¿ƒè§£é¢˜æ­¥éª¤ï¼Œä½†æ¨ç†æ·±åº¦æœ‰æ‰€åŒºåˆ†ï¼š</p>
<ul>
<li>
<p>FastThink ä»…åŒ…å«å…³é”®æ­¥éª¤ï¼Œæœ€ä¸ºç®€æ´ç›´æ¥ï¼›</p>
</li>
<li>
<p>CoreThink ä¼šåŠ å…¥é¢å¤–çš„åæ€ä¸å±€éƒ¨è§£é‡Šï¼Œæ¨ç†æ›´å®Œæ•´ï¼›</p>
</li>
<li>
<p>DeepThink åˆ™åœ¨å¾—å‡ºç­”æ¡ˆåè¿›ä¸€æ­¥å±•å¼€è‡ªæ ¡éªŒä¸æ€»ç»“ï¼Œå±•ç°æ›´æ·±å…¥ã€æ›´å…·åæ€æ€§çš„æ¨ç†é£æ ¼ã€‚</p>
</li>
</ul>
<h2 data-id="heading-12"><strong>äº”ã€æ€»ç»“</strong></h2>
<p>åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ¨¡å¼åˆ‡æ¢çš„æ··åˆæ€è€ƒæ¨¡å‹è®­ç»ƒèŒƒå¼SABERï¼Œä½¿å¤§è¯­è¨€æ¨¡å‹èƒ½å¤Ÿåœ¨å¤šç§æ¨ç†æ¨¡å¼ä¸‹å®ç°é«˜æ•ˆã€å¯æ§çš„æ€è€ƒè¿‡ç¨‹ã€‚SABER é€šè¿‡ç»“æ„åŒ–å¥–åŠ±ã€ç¦»æ•£åŒ–æ¨ç†æ¨¡å¼è®¾è®¡ï¼Œä»¥åŠç±»ä¼¼è¯¾ç¨‹å­¦ä¹ çš„é¢„ç®—åˆ†é…ç­–ç•¥ï¼Œåœ¨æ— éœ€é¢å¤–ç›‘ç£å¾®è°ƒçš„å‰æä¸‹ï¼Œä¾ç„¶èƒ½å¤Ÿä¿æŒç¨³å®šçš„è®­ç»ƒè¿‡ç¨‹ä¸çµæ´»çš„æ¨ç†è¡Œä¸ºã€‚å®éªŒç»“æœè¡¨æ˜ï¼ŒSABER åœ¨æ•°å­¦æ¨ç†ã€ä»£ç ç”Ÿæˆä¸é€»è¾‘æ¨ç†ç­‰å¤šç±»ä»»åŠ¡ä¸­éƒ½å±•ç°äº†è‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›ï¼Œå¹¶èƒ½åœ¨ä¸åŒçš„è®¡ç®—é¢„ç®—ä¸‹ä¿æŒç¨³å¥æ€§èƒ½ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬éªŒè¯äº† SABER èƒ½å¤Ÿåœ¨åŒä¸€æ¨¡å‹ä¸­è‡ªç„¶åœ°æ”¯æŒå¼€å…³æ€è€ƒä¸¤ç§æ¨¡å¼ï¼Œä¸”å…³æ€è€ƒæ¨¡å¼çš„æ€§èƒ½é€€åŒ–å¾ˆå°‘ã€‚æ€»ä½“æ¥çœ‹ï¼Œè¿™äº›ç»“æœè¯´æ˜ SABER ä¸ºæ„å»ºå¯æ§ã€é«˜æ•ˆç‡ä¸”é«˜æ€§ä»·æ¯”çš„å¤§æ¨¡å‹æ¨ç†æœºåˆ¶æä¾›äº†ä¸€ä¸ªå…·æœ‰å‰æ™¯çš„æ–¹å‘ã€‚</p>
<p>-End-</p>
<p>ä½œè€…ä¸¨Index LLM Team</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Retrofitï¼šä¼˜é›…çš„JAVAç½‘ç»œè¯·æ±‚æ¡†æ¶å®æˆ˜]]></title>    <link>https://juejin.cn/post/7585289701792759834</link>    <guid>https://juejin.cn/post/7585289701792759834</guid>    <pubDate>2025-12-19T02:13:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585289701792759834" data-draft-id="7585283741540417582" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Retrofitï¼šä¼˜é›…çš„JAVAç½‘ç»œè¯·æ±‚æ¡†æ¶å®æˆ˜"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-19T02:13:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Retrofitï¼šä¼˜é›…çš„JAVAç½‘ç»œè¯·æ±‚æ¡†æ¶å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T02:13:18.000Z" title="Fri Dec 19 2025 02:13:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Retrofitï¼šä¼˜é›…çš„JAVAç½‘ç»œè¯·æ±‚æ¡†æ¶å®æˆ˜</h2>
<blockquote>
<p>æœ¬æ–‡æ·±å…¥è®²è§£Squareå…¬å¸å¼€æºçš„Retrofitæ¡†æ¶ï¼Œä»æ¶æ„è®¾è®¡åˆ°å®æˆ˜åº”ç”¨ï¼Œå¸®åŠ©ä½ å¿«é€ŸæŒæ¡è¿™ä¸ªå¼ºå¤§çš„ç½‘ç»œè¯·æ±‚å·¥å…·ã€‚</p>
</blockquote>
<h3 data-id="heading-1">1. å¼•è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹©Retrofit</h3>
<p>åœ¨JAVAå¼€å‘ä¸­ï¼Œç½‘ç»œè¯·æ±‚æ˜¯ç»å¤§å¤šæ•°åº”ç”¨çš„æ ¸å¿ƒåŠŸèƒ½ã€‚ä¼ ç»Ÿçš„<code>HttpURLConnection</code>æˆ–<code>Apache HttpClient</code>ä½¿ç”¨ç¹çï¼Œä»£ç å†—ä½™ã€‚<strong>Retrofit</strong>ç”±Squareå…¬å¸å¼€æºï¼Œå®ƒå°†RESTful APIè½¬åŒ–ä¸ºJavaæ¥å£ï¼Œæå¤§åœ°ç®€åŒ–äº†ç½‘ç»œè¯·æ±‚çš„ç¼–å†™ã€‚</p>
<h3 data-id="heading-2">1.1 Retrofitçš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<ul>
<li><strong>å£°æ˜å¼APIå®šä¹‰</strong>Â - ä½¿ç”¨æ³¨è§£å®šä¹‰æ¥å£ï¼Œä»£ç ç®€æ´æ¸…æ™°</li>
<li><strong>è‡ªåŠ¨åºåˆ—åŒ–</strong>Â - å†…ç½®Gsonã€Jacksonç­‰è½¬æ¢å™¨ï¼Œè‡ªåŠ¨å¤„ç†JSON</li>
<li><strong>OkHttpé›†æˆ</strong>Â - åº•å±‚åŸºäºOkHttpï¼Œæ€§èƒ½å¼ºå¤§ä¸”ç¨³å®š</li>
<li><strong>çµæ´»çš„CallAdapter</strong>Â - æ”¯æŒRxJavaã€åç¨‹ç­‰å¼‚æ­¥æ¡†æ¶</li>
<li><strong>æ˜“äºæµ‹è¯•</strong>Â - æ¥å£åŒ–è®¾è®¡ï¼Œä¾¿äºMockå’Œå•å…ƒæµ‹è¯•</li>
</ul>
<h3 data-id="heading-3">1.2 ä¸å…¶ä»–æ¡†æ¶çš„å¯¹æ¯”</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Retrofit</th><th>OkHttp</th></tr></thead><tbody><tr><td>APIè®¾è®¡</td><td>å£°æ˜å¼æ¥å£</td><td>åŸå§‹API</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>ä½</td><td>é«˜</td></tr><tr><td>æ‰©å±•æ€§</td><td>ä¼˜ç§€</td><td>ä¼˜ç§€</td></tr><tr><td>å¼‚æ­¥æ”¯æŒ</td><td>å¤šç§æ–¹å¼</td><td>å›è°ƒ</td></tr></tbody></table>
<h3 data-id="heading-4">2. æ ¸å¿ƒæ¶æ„è§£æ</h3>
<p>Retrofité‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ¯ä¸€å±‚èŒè´£æ¸…æ™°ï¼ŒååŒå·¥ä½œå®Œæˆç½‘ç»œè¯·æ±‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3dbf86cbc054623952e25d7f6b11b75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766715197&amp;x-signature=NxKI0Z1p3VZdB7h38xtoR3Mr0do%3D" alt="01_retrofitæ¶æ„å›¾.png" loading="lazy"/></p>
<h3 data-id="heading-5">2.1 æ¶æ„å±‚æ¬¡</h3>
<p><strong>åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰</strong></p>
<ul>
<li>å®šä¹‰APIæ¥å£</li>
<li>è°ƒç”¨ç½‘ç»œè¯·æ±‚æ–¹æ³•</li>
<li>å¤„ç†å“åº”ç»“æœ</li>
</ul>
<p><strong>Retrofitæ ¸å¿ƒå±‚</strong></p>
<ul>
<li>åŠ¨æ€ä»£ç†æ‹¦æˆªæ–¹æ³•è°ƒç”¨</li>
<li>æ³¨è§£è§£æï¼ˆ@GETã€@POSTç­‰ï¼‰</li>
<li>è¯·æ±‚å‚æ•°ç»„è£…</li>
<li>å“åº”æ•°æ®è½¬æ¢</li>
</ul>
<p><strong>OkHttpç½‘ç»œå±‚</strong></p>
<ul>
<li>HTTPè¿æ¥ç®¡ç†</li>
<li>è¯·æ±‚/å“åº”æ‹¦æˆªå™¨é“¾</li>
<li>ç¼“å­˜ç­–ç•¥</li>
<li>è¿æ¥æ± å¤ç”¨</li>
</ul>
<p><strong>ç½‘ç»œä¼ è¾“å±‚</strong></p>
<ul>
<li>TCP/IPåè®®é€šä¿¡</li>
<li>TLS/SSLåŠ å¯†</li>
<li>DNSè§£æ</li>
</ul>
<h3 data-id="heading-6">2.2 æ ¸å¿ƒç»„ä»¶</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. ServiceMethod - å°è£…æ¥å£æ–¹æ³•çš„æ‰€æœ‰ä¿¡æ¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceMethod</span>&lt;T&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> okhttp3.Call.Factory callFactory;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> CallAdapter&lt;T, ?&gt; callAdapter;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Converter&lt;ResponseBody, T&gt; responseConverter;
    <span class="hljs-comment">// ...è§£ææ³¨è§£ã€æ„å»ºè¯·æ±‚</span>
}

<span class="hljs-comment">// 2. CallAdapter - é€‚é…ä¸åŒçš„å¼‚æ­¥æ¡†æ¶</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CallAdapter</span>&lt;R, T&gt; {
    Type <span class="hljs-title function_">responseType</span><span class="hljs-params">()</span>;
    T <span class="hljs-title function_">adapt</span><span class="hljs-params">(Call&lt;R&gt; call)</span>;
}

<span class="hljs-comment">// 3. Converter - æ•°æ®è½¬æ¢å™¨</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Converter</span>&lt;F, T&gt; {
    T <span class="hljs-title function_">convert</span><span class="hljs-params">(F value)</span> <span class="hljs-keyword">throws</span> IOException;
}

<span class="hljs-comment">// 4. Interceptor - è¯·æ±‚/å“åº”æ‹¦æˆªå™¨</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Interceptor</span> {
    Response <span class="hljs-title function_">intercept</span><span class="hljs-params">(Chain chain)</span> <span class="hljs-keyword">throws</span> IOException;
}
</code></pre>
<hr/>
<h3 data-id="heading-7">3. å¿«é€Ÿä¸Šæ‰‹ï¼šåŸºç¡€ç”¨æ³•</h3>
<h3 data-id="heading-8">3.1 æ·»åŠ ä¾èµ–</h3>
<p>é¦–å…ˆåœ¨<code>build.gradle</code>ä¸­æ·»åŠ ä¾èµ–ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">dependencies {
    <span class="hljs-comment">// Retrofitæ ¸å¿ƒåº“</span>
    implementation <span class="hljs-string">'com.squareup.retrofit2:retrofit:2.9.0'</span>

    <span class="hljs-comment">// Gsonè½¬æ¢å™¨ï¼ˆç”¨äºJSONè§£æï¼‰</span>
    implementation <span class="hljs-string">'com.squareup.retrofit2:converter-gson:2.9.0'</span>

    <span class="hljs-comment">// RxJavaé€‚é…å™¨ï¼ˆå¯é€‰ï¼‰</span>
    implementation <span class="hljs-string">'com.squareup.retrofit2:adapter-rxjava3:2.9.0'</span>

    <span class="hljs-comment">// OkHttpæ—¥å¿—æ‹¦æˆªå™¨ï¼ˆè°ƒè¯•ç”¨ï¼‰</span>
    implementation <span class="hljs-string">'com.squareup.okhttp3:logging-interceptor:4.10.0'</span>
}
</code></pre>
<h3 data-id="heading-9">3.2 å®šä¹‰æ•°æ®æ¨¡å‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç”¨æˆ·å®ä½“ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-keyword">private</span> int id;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> email;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> avatar;

    <span class="hljs-comment">// Getterå’ŒSetteræ–¹æ³•</span>
    <span class="hljs-keyword">public</span> int <span class="hljs-title function_">getId</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> id; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setId</span>(<span class="hljs-params">int id</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id; }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> name; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getEmail</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> email; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setEmail</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> email</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">email</span> = email; }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getAvatar</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> avatar; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setAvatar</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> avatar</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">avatar</span> = avatar; }
}

<span class="hljs-comment">// APIå“åº”åŒ…è£…ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiResponse</span>&lt;T&gt; {
    <span class="hljs-keyword">private</span> int code;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> message;
    <span class="hljs-keyword">private</span> T data;

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">isSuccess</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> code == <span class="hljs-number">200</span>;
    }

    <span class="hljs-comment">// Getterå’ŒSetter</span>
    <span class="hljs-keyword">public</span> int <span class="hljs-title function_">getCode</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> code; }
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getMessage</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> message; }
    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">getData</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> data; }
}
</code></pre>
<h3 data-id="heading-10">3.3 å®šä¹‰APIæ¥å£</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63d991a002174f8b83d5e1c46c6aa86a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766715197&amp;x-signature=Z0aR8fQNT1cjPNDP91W2gTCV94M%3D" alt="04_APIå®šä¹‰ç¤ºä¾‹.png" loading="lazy"/></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">UserService</span> {

    <span class="hljs-comment">// GETè¯·æ±‚ - æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span>
    <span class="hljs-variable">@GET</span>(<span class="hljs-string">"users/{id}"</span>)
    Call&lt;ApiResponse&lt;User&gt;&gt; <span class="hljs-built_in">getUser</span>(<span class="hljs-variable">@Path</span>(<span class="hljs-string">"id"</span>) int userId);

    <span class="hljs-comment">// POSTè¯·æ±‚ - åˆ›å»ºç”¨æˆ·</span>
    <span class="hljs-variable">@POST</span>(<span class="hljs-string">"users"</span>)
    Call&lt;ApiResponse&lt;User&gt;&gt; <span class="hljs-built_in">createUser</span>(<span class="hljs-variable">@Body</span> User user);

    <span class="hljs-comment">// å¸¦æŸ¥è¯¢å‚æ•°çš„GETè¯·æ±‚</span>
    <span class="hljs-variable">@GET</span>(<span class="hljs-string">"users"</span>)
    Call&lt;ApiResponse&lt;List&lt;User&gt;&gt;&gt; <span class="hljs-built_in">listUsers</span>(
        <span class="hljs-variable">@Query</span>(<span class="hljs-string">"page"</span>) int page,
        <span class="hljs-variable">@Query</span>(<span class="hljs-string">"size"</span>) int pageSize
    );

    <span class="hljs-comment">// å¸¦Headerçš„è¯·æ±‚</span>
    <span class="hljs-variable">@Headers</span>(<span class="hljs-string">"Content-Type: application/json"</span>)
    <span class="hljs-variable">@GET</span>(<span class="hljs-string">"users/profile"</span>)
    Call&lt;ApiResponse&lt;User&gt;&gt; <span class="hljs-built_in">getProfile</span>(
        <span class="hljs-variable">@Header</span>(<span class="hljs-string">"Authorization"</span>) String token
    );

    <span class="hljs-comment">// æ–‡ä»¶ä¸Šä¼ </span>
    <span class="hljs-variable">@Multipart</span>
    <span class="hljs-variable">@POST</span>(<span class="hljs-string">"upload/avatar"</span>)
    Call&lt;ApiResponse&lt;String&gt;&gt; <span class="hljs-built_in">uploadAvatar</span>(
        <span class="hljs-variable">@Part</span> MultipartBody.Part file,
        <span class="hljs-variable">@Part</span>(<span class="hljs-string">"userId"</span>) RequestBody userId
    );

    <span class="hljs-comment">// è¡¨å•æäº¤</span>
    <span class="hljs-variable">@FormUrlEncoded</span>
    <span class="hljs-variable">@POST</span>(<span class="hljs-string">"login"</span>)
    Call&lt;ApiResponse&lt;String&gt;&gt; <span class="hljs-built_in">login</span>(
        <span class="hljs-variable">@Field</span>(<span class="hljs-string">"username"</span>) String username,
        <span class="hljs-variable">@Field</span>(<span class="hljs-string">"password"</span>) String password
    );
}
</code></pre>
<h3 data-id="heading-11">3.4 åˆ›å»ºRetrofitå®ä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetrofitClient</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">String</span> <span class="hljs-variable constant_">BASE_URL</span> = <span class="hljs-string">"https://api.example.com/"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">Retrofit</span> retrofit;

    <span class="hljs-comment">// å•ä¾‹æ¨¡å¼è·å–Retrofitå®ä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">Retrofit</span> <span class="hljs-title function_">getInstance</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (retrofit == <span class="hljs-literal">null</span>) {
            synchronized (<span class="hljs-title class_">RetrofitClient</span>.<span class="hljs-property">class</span>) {
                <span class="hljs-keyword">if</span> (retrofit == <span class="hljs-literal">null</span>) {
                    retrofit = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Retrofit</span>.<span class="hljs-title class_">Builder</span>()
                        .<span class="hljs-title function_">baseUrl</span>(<span class="hljs-variable constant_">BASE_URL</span>)
                        .<span class="hljs-title function_">client</span>(<span class="hljs-title function_">getOkHttpClient</span>())
                        .<span class="hljs-title function_">addConverterFactory</span>(<span class="hljs-title class_">GsonConverterFactory</span>.<span class="hljs-title function_">create</span>())
                        .<span class="hljs-title function_">build</span>();
                }
            }
        }
        <span class="hljs-keyword">return</span> retrofit;
    }

    <span class="hljs-comment">// é…ç½®OkHttpClient</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">OkHttpClient</span> <span class="hljs-title function_">getOkHttpClient</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OkHttpClient</span>.<span class="hljs-title class_">Builder</span>()
            .<span class="hljs-title function_">connectTimeout</span>(<span class="hljs-number">30</span>, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">SECONDS</span>)
            .<span class="hljs-title function_">readTimeout</span>(<span class="hljs-number">30</span>, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">SECONDS</span>)
            .<span class="hljs-title function_">writeTimeout</span>(<span class="hljs-number">30</span>, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">SECONDS</span>)
            .<span class="hljs-title function_">build</span>();
    }

    <span class="hljs-comment">// è·å–APIæœåŠ¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">createService</span>(<span class="hljs-params">Class&lt;T&gt; serviceClass</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">getInstance</span>().<span class="hljs-title function_">create</span>(serviceClass);
    }
}
</code></pre>
<h3 data-id="heading-12">3.5 å‘èµ·ç½‘ç»œè¯·æ±‚</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepository</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserService userService;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserRepository</span><span class="hljs-params">()</span> {
        userService = RetrofitClient.createService(UserService.class);
    }

    <span class="hljs-comment">// åŒæ­¥è¯·æ±‚ï¼ˆä¸æ¨èåœ¨ä¸»çº¿ç¨‹ä½¿ç”¨ï¼‰</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserSync</span><span class="hljs-params">(<span class="hljs-type">int</span> userId)</span> {
        <span class="hljs-keyword">try</span> {
            Response&lt;ApiResponse&lt;User&gt;&gt; response =
                userService.getUser(userId).execute();

            <span class="hljs-keyword">if</span> (response.isSuccessful() &amp;&amp; response.body() != <span class="hljs-literal">null</span>) {
                ApiResponse&lt;User&gt; apiResponse = response.body();
                <span class="hljs-keyword">if</span> (apiResponse.isSuccess()) {
                    <span class="hljs-keyword">return</span> apiResponse.getData();
                }
            }
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">// å¼‚æ­¥è¯·æ±‚ï¼ˆæ¨èï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUserAsync</span><span class="hljs-params">(<span class="hljs-type">int</span> userId, <span class="hljs-keyword">final</span> Callback&lt;User&gt; callback)</span> {
        userService.getUser(userId).enqueue(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;ApiResponse&lt;User&gt;&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResponse</span><span class="hljs-params">(Call&lt;ApiResponse&lt;User&gt;&gt; call,
                                  Response&lt;ApiResponse&lt;User&gt;&gt; response)</span> {
                <span class="hljs-keyword">if</span> (response.isSuccessful() &amp;&amp; response.body() != <span class="hljs-literal">null</span>) {
                    ApiResponse&lt;User&gt; apiResponse = response.body();
                    <span class="hljs-keyword">if</span> (apiResponse.isSuccess()) {
                        callback.onSuccess(apiResponse.getData());
                        <span class="hljs-keyword">return</span>;
                    }
                }
                callback.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Exception</span>(<span class="hljs-string">"è¯·æ±‚å¤±è´¥"</span>));
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(Call&lt;ApiResponse&lt;User&gt;&gt; call, Throwable t)</span> {
                callback.onError(t);
            }
        });
    }

    <span class="hljs-comment">// è‡ªå®šä¹‰å›è°ƒæ¥å£</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Callback</span>&lt;T&gt; {
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(T data)</span>;
        <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable error)</span>;
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-13">4. æ·±å…¥ç†è§£ï¼šè¯·æ±‚æ‰§è¡Œæµç¨‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b3e8160ba314edea73461cc4dec2804~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766715197&amp;x-signature=ltM7xi%2F5jtkVA5%2FPu7YlLkeBrJg%3D" alt="02_è¯·æ±‚æµç¨‹å›¾.png" loading="lazy"/></p>
<h3 data-id="heading-14">4.1 æµç¨‹è¯¦è§£</h3>
<p>å½“æˆ‘ä»¬è°ƒç”¨APIæ¥å£æ–¹æ³•æ—¶ï¼ŒRetrofitå†…éƒ¨ç»å†äº†ä»¥ä¸‹7ä¸ªæ­¥éª¤ï¼š</p>
<p><strong>æ­¥éª¤1ï¼šè°ƒç”¨APIæ–¹æ³•</strong></p>
<pre><code class="hljs language-ini" lang="ini">Call&lt;ApiResponse&lt;User&gt;&gt; <span class="hljs-attr">call</span> = userService.getUser(<span class="hljs-number">100</span>)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåŠ¨æ€ä»£ç†æ‹¦æˆª</strong></p>
<p>Retrofitä½¿ç”¨Javaçš„åŠ¨æ€ä»£ç†æœºåˆ¶ï¼Œæ‹¦æˆªæ¥å£æ–¹æ³•è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Retrofitå†…éƒ¨å®ç°</span>
<span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">create</span>(<span class="hljs-params">final Class&lt;T&gt; service</span>) {
    <span class="hljs-keyword">return</span> (T) <span class="hljs-title class_">Proxy</span>.<span class="hljs-title function_">newProxyInstance</span>(
        service.<span class="hljs-title function_">getClassLoader</span>(),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>&lt;?&gt;[] { service },
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvocationHandler</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">invoke</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> proxy, Method method, <span class="hljs-built_in">Object</span>[] args</span>) {
                <span class="hljs-comment">// æ‹¦æˆªæ–¹æ³•è°ƒç”¨</span>
                <span class="hljs-title class_">ServiceMethod</span>&lt;?&gt; serviceMethod = <span class="hljs-title function_">loadServiceMethod</span>(method);
                <span class="hljs-keyword">return</span> serviceMethod.<span class="hljs-title function_">invoke</span>(args);
            }
        }
    );
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šè§£ææ–¹æ³•æ³¨è§£</strong></p>
<pre><code class="hljs language-ini" lang="ini">// è§£æ@GETã€@POSTã€@Pathã€@Queryç­‰æ³¨è§£
ServiceMethod&lt;?&gt; <span class="hljs-attr">serviceMethod</span> = new ServiceMethod.Builder&lt;&gt;(retrofit, method)
    .build()<span class="hljs-comment">;</span>

// æå–è¯·æ±‚ä¿¡æ¯
String <span class="hljs-attr">httpMethod</span> = <span class="hljs-string">"GET"</span><span class="hljs-comment">;</span>
String <span class="hljs-attr">relativeUrl</span> = <span class="hljs-string">"users/{id}"</span><span class="hljs-comment">;</span>
Map&lt;String, String&gt; <span class="hljs-attr">pathParams</span> = new HashMap&lt;&gt;()<span class="hljs-comment">;</span>
pathParams.put("id", "100")<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ­¥éª¤4ï¼šæ„å»ºOkHttpè¯·æ±‚</strong></p>
<pre><code class="hljs language-vbscript" lang="vbscript">// ç»„è£…<span class="hljs-built_in">Request</span>å¯¹è±¡
<span class="hljs-built_in">Request</span> <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Request</span>.Builder()
    .url(<span class="hljs-string">"https://api.example.com/users/100"</span>)
    .method(<span class="hljs-string">"GET"</span>, <span class="hljs-literal">null</span>)
    .build();

// åˆ›å»ºOkHttp <span class="hljs-keyword">Call</span>
okhttp3.<span class="hljs-keyword">Call</span> okHttpCall = okHttpClient.newCall(<span class="hljs-built_in">request</span>);
</code></pre>
<p><strong>æ­¥éª¤5ï¼šæ‰§è¡Œç½‘ç»œè¯·æ±‚</strong></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// åŒæ­¥æ‰§è¡Œ</span>
<span class="hljs-selector-tag">Response</span> <span class="hljs-selector-tag">response</span> = <span class="hljs-selector-tag">okHttpCall</span><span class="hljs-selector-class">.execute</span>();

<span class="hljs-comment">// æˆ–å¼‚æ­¥æ‰§è¡Œ</span>
<span class="hljs-selector-tag">okHttpCall</span><span class="hljs-selector-class">.enqueue</span>(new okhttp3.<span class="hljs-built_in">Callback</span>() {
    <span class="hljs-variable">@Override</span>
    public void <span class="hljs-built_in">onResponse</span>(okhttp3.Call call, Response response) {
        <span class="hljs-comment">// å¤„ç†å“åº”</span>
    }

    <span class="hljs-variable">@Override</span>
    public void <span class="hljs-built_in">onFailure</span>(okhttp3.Call call, IOException e) {
        <span class="hljs-comment">// å¤„ç†å¤±è´¥</span>
    }
});
</code></pre>
<p><strong>æ­¥éª¤6ï¼šå“åº”æ•°æ®è½¬æ¢</strong></p>
<pre><code class="hljs language-ini" lang="ini">// ä½¿ç”¨Converterå°†ResponseBodyè½¬æ¢ä¸ºJavaå¯¹è±¡
Converter&lt;ResponseBody, ApiResponse&lt;User&gt;&gt; <span class="hljs-attr">converter</span> =
    retrofit.responseBodyConverter(type, annotations)<span class="hljs-comment">;</span>

ApiResponse&lt;User&gt; <span class="hljs-attr">result</span> = converter.convert(response.body())<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ­¥éª¤7ï¼šè¿”å›ç»“æœå¯¹è±¡</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é€šè¿‡CallAdapteråŒ…è£…è¿”å›ç»“æœ</span>
<span class="hljs-type">CallAdapter</span>&lt;<span class="hljs-type">ApiResponse</span>&lt;<span class="hljs-type">User</span>&gt;, <span class="hljs-type">Call</span>&lt;<span class="hljs-type">ApiResponse</span>&lt;<span class="hljs-type">User</span>&gt;&gt;&gt; callAdapter <span class="hljs-operator">=</span>
    retrofit.callAdapter(returnType, annotations);

<span class="hljs-keyword">return</span> callAdapter.adapt(new <span class="hljs-type">OkHttpCall</span>&lt;&gt;(serviceMethod, args));
</code></pre>
<h3 data-id="heading-15">4.2 æºç åˆ†æï¼šåŠ¨æ€ä»£ç†çš„å¦™ç”¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Retrofitæ ¸å¿ƒæ–¹æ³•</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Retrofit</span> {
    <span class="hljs-keyword">public</span> &lt;T&gt; T create(<span class="hljs-keyword">final</span> Class&lt;T&gt; service) {
        validateServiceInterface(service);

        <span class="hljs-keyword">return</span> (T) Proxy.newProxyInstance(
            service.getClassLoader(),
            new Class&lt;?&gt;[] { service },
            new InvocationHandler() {
                <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Platform platform = Platform.<span class="hljs-keyword">get</span>();
                <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object[] emptyArgs = new Object[<span class="hljs-number">0</span>];

                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> <span class="hljs-meta">@Nullable</span> Object invoke(Object proxy, Method method,
                    <span class="hljs-meta">@Nullable</span> Object[] args) throws Throwable {

                    <span class="hljs-comment">// å¦‚æœæ˜¯Objectçš„æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨</span>
                    <span class="hljs-keyword">if</span> (method.getDeclaringClass() == Object.<span class="hljs-keyword">class</span>) {
                        <span class="hljs-keyword">return</span> method.invoke(<span class="hljs-keyword">this</span>, args);
                    }

                    <span class="hljs-comment">// å¦‚æœæ˜¯é»˜è®¤æ–¹æ³•ï¼ˆJava 8+ï¼‰ï¼Œä½¿ç”¨é»˜è®¤å®ç°</span>
                    <span class="hljs-keyword">if</span> (platform.isDefaultMethod(method)) {
                        <span class="hljs-keyword">return</span> platform.invokeDefaultMethod(method, service, proxy, args);
                    }

                    <span class="hljs-comment">// æ ¸å¿ƒï¼šåŠ è½½å¹¶æ‰§è¡ŒServiceMethod</span>
                    <span class="hljs-keyword">return</span> loadServiceMethod(method).invoke(args != <span class="hljs-literal">null</span> ? args : emptyArgs);
                }
            }
        );
    }

    <span class="hljs-comment">// ç¼“å­˜ServiceMethodï¼Œé¿å…é‡å¤è§£æ</span>
    ServiceMethod&lt;?&gt; loadServiceMethod(Method method) {
        ServiceMethod&lt;?&gt; result = serviceMethodCache.<span class="hljs-keyword">get</span>(method);
        <span class="hljs-keyword">if</span> (result != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> result;

        synchronized (serviceMethodCache) {
            result = serviceMethodCache.<span class="hljs-keyword">get</span>(method);
            <span class="hljs-keyword">if</span> (result == <span class="hljs-literal">null</span>) {
                result = ServiceMethod.parseAnnotations(<span class="hljs-keyword">this</span>, method);
                serviceMethodCache.put(method, result);
            }
        }
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<h3 data-id="heading-16">5. é«˜çº§ç‰¹æ€§ï¼šæ‹¦æˆªå™¨ä¸è½¬æ¢å™¨</h3>
<h3 data-id="heading-17">5.1 æ‹¦æˆªå™¨é“¾æœºåˆ¶</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d49bfdd81ee4402993dcead1288ee14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766715197&amp;x-signature=hVVgc4FL49200%2FWAyy5LrtJ0UvU%3D" alt="03_æ‹¦æˆªå™¨é“¾æµç¨‹å›¾.png" loading="lazy"/></p>
<p>æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰æ˜¯OkHttpçš„æ ¸å¿ƒæœºåˆ¶ï¼ŒRetrofitç»§æ‰¿äº†è¿™ä¸€å¼ºå¤§åŠŸèƒ½ã€‚æ‹¦æˆªå™¨åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<p><strong>åº”ç”¨æ‹¦æˆªå™¨ï¼ˆApplication Interceptorï¼‰</strong></p>
<ul>
<li>åœ¨è¯·æ±‚å‘é€å‰å’Œå“åº”è¿”å›åæ‰§è¡Œ</li>
<li>å¯ä»¥ä¿®æ”¹è¯·æ±‚å¤´ã€è¯·æ±‚ä½“</li>
<li>å¯ä»¥è®°å½•æ—¥å¿—ã€ç»Ÿè®¡è€—æ—¶</li>
</ul>
<p><strong>ç½‘ç»œæ‹¦æˆªå™¨ï¼ˆNetwork Interceptorï¼‰</strong></p>
<ul>
<li>åœ¨ç½‘ç»œè¯·æ±‚æ—¶æ‰§è¡Œ</li>
<li>å¯ä»¥è®¿é—®è¿æ¥ä¿¡æ¯</li>
<li>å¯ä»¥å¤„ç†é‡å®šå‘ã€ç¼“å­˜</li>
</ul>
<h3 data-id="heading-18">5.1.1 è‡ªå®šä¹‰Tokenæ‹¦æˆªå™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TokenInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-keyword">private</span> String token;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TokenInterceptor</span><span class="hljs-params">(String token)</span> {
        <span class="hljs-built_in">this</span>.token = token;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Response <span class="hljs-title function_">intercept</span><span class="hljs-params">(Chain chain)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Request</span> <span class="hljs-variable">originalRequest</span> <span class="hljs-operator">=</span> chain.request();

        <span class="hljs-comment">// å¦‚æœå·²æœ‰Authorizationå¤´ï¼Œä¸åšå¤„ç†</span>
        <span class="hljs-keyword">if</span> (originalRequest.header(<span class="hljs-string">"Authorization"</span>) != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> chain.proceed(originalRequest);
        }

        <span class="hljs-comment">// æ·»åŠ Tokenåˆ°è¯·æ±‚å¤´</span>
        <span class="hljs-type">Request</span> <span class="hljs-variable">newRequest</span> <span class="hljs-operator">=</span> originalRequest.newBuilder()
            .header(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">"Bearer "</span> + token)
            .build();

        <span class="hljs-keyword">return</span> chain.proceed(newRequest);
    }
}
</code></pre>
<h3 data-id="heading-19">5.1.2 æ—¥å¿—æ‹¦æˆªå™¨</h3>
<pre><code class="hljs language-ini" lang="ini">public class LoggingInterceptor implements Interceptor {
    private static final String <span class="hljs-attr">TAG</span> = <span class="hljs-string">"OkHttp"</span><span class="hljs-comment">;</span>

    @Override
    public Response intercept(Chain chain) throws IOException {
        Request <span class="hljs-attr">request</span> = chain.request()<span class="hljs-comment">;</span>

        // è®°å½•è¯·æ±‚ä¿¡æ¯
        long <span class="hljs-attr">startTime</span> = System.nanoTime()<span class="hljs-comment">;</span>
        Log.d(TAG, String.format("å‘é€è¯·æ±‚: %s %s",
            request.method(), request.url()))<span class="hljs-comment">;</span>

        // è®°å½•è¯·æ±‚å¤´
        Headers <span class="hljs-attr">headers</span> = request.headers()<span class="hljs-comment">;</span>
        for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; headers.size(); i++) {</span>
            Log.d(TAG, headers.name(i) + ": " + headers.value(i))<span class="hljs-comment">;</span>
        }

        // æ‰§è¡Œè¯·æ±‚
        Response <span class="hljs-attr">response</span> = chain.proceed(request)<span class="hljs-comment">;</span>

        // è®°å½•å“åº”ä¿¡æ¯
        long <span class="hljs-attr">endTime</span> = System.nanoTime()<span class="hljs-comment">;</span>
        double <span class="hljs-attr">duration</span> = (endTime - startTime) / <span class="hljs-number">1</span>e6d<span class="hljs-comment">;</span>

        Log.d(TAG, String.format("æ”¶åˆ°å“åº”: %d %s (è€—æ—¶%.1fms)",
            response.code(), response.request().url(), duration))<span class="hljs-comment">;</span>

        return response<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h3 data-id="heading-20">5.1.3 é”™è¯¯é‡è¯•æ‹¦æˆªå™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">maxRetry</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>; <span class="hljs-comment">// æœ€å¤§é‡è¯•æ¬¡æ•°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> <span class="hljs-variable">retryDelay</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>; <span class="hljs-comment">// é‡è¯•å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Response <span class="hljs-title function_">intercept</span><span class="hljs-params">(Chain chain)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Request</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> chain.request();
        <span class="hljs-type">Response</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">IOException</span> <span class="hljs-variable">exception</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;= maxRetry; i++) {
            <span class="hljs-keyword">try</span> {
                response = chain.proceed(request);

                <span class="hljs-comment">// å¦‚æœå“åº”æˆåŠŸï¼Œç›´æ¥è¿”å›</span>
                <span class="hljs-keyword">if</span> (response.isSuccessful()) {
                    <span class="hljs-keyword">return</span> response;
                }

                <span class="hljs-comment">// å…³é—­å“åº”ä½“</span>
                <span class="hljs-keyword">if</span> (response != <span class="hljs-literal">null</span>) {
                    response.close();
                }

            } <span class="hljs-keyword">catch</span> (IOException e) {
                exception = e;
                Log.w(<span class="hljs-string">"RetryInterceptor"</span>, <span class="hljs-string">"è¯·æ±‚å¤±è´¥ï¼Œå°è¯•é‡è¯• "</span> + (i + <span class="hljs-number">1</span>) + <span class="hljs-string">"/"</span> + maxRetry);
            }

            <span class="hljs-comment">// å¦‚æœä¸æ˜¯æœ€åä¸€æ¬¡é‡è¯•ï¼Œç­‰å¾…åå†è¯•</span>
            <span class="hljs-keyword">if</span> (i &lt; maxRetry) {
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(retryDelay);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IOException</span>(<span class="hljs-string">"é‡è¯•è¢«ä¸­æ–­"</span>, e);
                }
            }
        }

        <span class="hljs-comment">// æ‰€æœ‰é‡è¯•éƒ½å¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸</span>
        <span class="hljs-keyword">if</span> (exception != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> exception;
        }

        <span class="hljs-keyword">return</span> response;
    }
}
</code></pre>
<h3 data-id="heading-21">5.1.4 é…ç½®æ‹¦æˆªå™¨</h3>
<pre><code class="hljs language-scss" lang="scss">OkHttpClient client = new OkHttpClient<span class="hljs-selector-class">.Builder</span>()
    <span class="hljs-selector-class">.addInterceptor</span>(new TokenInterceptor("your_token_here"))
    <span class="hljs-selector-class">.addInterceptor</span>(new LoggingInterceptor())
    <span class="hljs-selector-class">.addInterceptor</span>(new RetryInterceptor())
    <span class="hljs-selector-class">.connectTimeout</span>(<span class="hljs-number">30</span>, TimeUnit.SECONDS)
    <span class="hljs-selector-class">.readTimeout</span>(<span class="hljs-number">30</span>, TimeUnit.SECONDS)
    <span class="hljs-selector-class">.build</span>();

Retrofit retrofit = new Retrofit<span class="hljs-selector-class">.Builder</span>()
    <span class="hljs-selector-class">.baseUrl</span>("https://api.example.com/")
    <span class="hljs-selector-class">.client</span>(client)
    <span class="hljs-selector-class">.addConverterFactory</span>(GsonConverterFactory.create())
    <span class="hljs-selector-class">.build</span>();
</code></pre>
<h3 data-id="heading-22">5.2 æ•°æ®è½¬æ¢å™¨ï¼ˆConverterï¼‰</h3>
<p>Retrofitæ”¯æŒå¤šç§æ•°æ®è½¬æ¢å™¨ï¼Œç”¨äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼š</p>
<h3 data-id="heading-23">5.2.1 Gsonè½¬æ¢å™¨ï¼ˆæœ€å¸¸ç”¨ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ·»åŠ ä¾èµ–</span>
implementation <span class="hljs-string">'com.squareup.retrofit2:converter-gson:2.9.0'</span>

<span class="hljs-comment">// è‡ªå®šä¹‰Gsoné…ç½®</span>
<span class="hljs-type">Gson</span> <span class="hljs-variable">gson</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GsonBuilder</span>()
    .setDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>)
    .setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES)
    .create();

<span class="hljs-type">Retrofit</span> <span class="hljs-variable">retrofit</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Retrofit</span>.Builder()
    .baseUrl(BASE_URL)
    .addConverterFactory(GsonConverterFactory.create(gson))
    .build();
</code></pre>
<h3 data-id="heading-24">5.2.2 Jacksonè½¬æ¢å™¨</h3>
<pre><code class="hljs language-ini" lang="ini">// æ·»åŠ ä¾èµ–
implementation 'com.squareup.retrofit2:converter-jackson:2.9.0'

// è‡ªå®šä¹‰ObjectMapper
ObjectMapper <span class="hljs-attr">mapper</span> = new ObjectMapper()<span class="hljs-comment">;</span>
mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE)<span class="hljs-comment">;</span>
mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)<span class="hljs-comment">;</span>

Retrofit <span class="hljs-attr">retrofit</span> = new Retrofit.Builder()
    .baseUrl(BASE_URL)
    .addConverterFactory(JacksonConverterFactory.create(mapper))
    .build()<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-25">5.2.3 è‡ªå®šä¹‰è½¬æ¢å™¨</h3>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomResponseConverter</span> <span class="hljs-title">implements</span> <span class="hljs-title">Converter&lt;ResponseBody</span>, <span class="hljs-title">ApiResponse&lt;?&gt;&gt;</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Gson</span> gson;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Type</span> <span class="hljs-class"><span class="hljs-keyword">type</span></span>;

    public <span class="hljs-type">CustomResponseConverter</span>(<span class="hljs-type">Gson</span> gson, <span class="hljs-type">Type</span> <span class="hljs-class"><span class="hljs-keyword">type</span>) </span>{
        <span class="hljs-keyword">this</span>.gson = gson;
        <span class="hljs-keyword">this</span>.<span class="hljs-keyword">type</span> = <span class="hljs-class"><span class="hljs-keyword">type</span></span>;
    }

    <span class="hljs-meta">@Override</span>
    public <span class="hljs-type">ApiResponse</span>&lt;?&gt; convert(<span class="hljs-type">ResponseBody</span> value) <span class="hljs-keyword">throws</span> <span class="hljs-type">IOException</span> {
        <span class="hljs-type">String</span> json = value.string();

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å…ˆè§£æä¸ºé€šç”¨å“åº”</span>
            <span class="hljs-type">JsonObject</span> jsonObject = <span class="hljs-type">JsonParser</span>.parseString(json).getAsJsonObject();

            <span class="hljs-comment">// æ£€æŸ¥å“åº”ç </span>
            int code = jsonObject.get(<span class="hljs-string">"code"</span>).getAsInt();
            <span class="hljs-type">String</span> message = jsonObject.get(<span class="hljs-string">"message"</span>).getAsString();

            <span class="hljs-comment">// å¦‚æœå¤±è´¥ï¼Œè¿”å›é”™è¯¯ä¿¡æ¯</span>
            <span class="hljs-keyword">if</span> (code != <span class="hljs-number">200</span>) {
                <span class="hljs-type">ApiResponse</span>&lt;?&gt; errorResponse = <span class="hljs-keyword">new</span> <span class="hljs-type">ApiResponse</span>&lt;&gt;();
                errorResponse.setCode(code);
                errorResponse.setMessage(message);
                <span class="hljs-keyword">return</span> errorResponse;
            }

            <span class="hljs-comment">// æˆåŠŸï¼Œè§£ædataå­—æ®µ</span>
            <span class="hljs-keyword">return</span> gson.fromJson(json, <span class="hljs-class"><span class="hljs-keyword">type</span>)</span>;

        } <span class="hljs-keyword">finally</span> {
            value.close();
        }
    }
}

<span class="hljs-comment">// è‡ªå®šä¹‰Converter.Factory</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomConverterFactory</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Converter</span>.<span class="hljs-title">Factory</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Gson</span> gson;

    public <span class="hljs-type">CustomConverterFactory</span>(<span class="hljs-type">Gson</span> gson) {
        <span class="hljs-keyword">this</span>.gson = gson;
    }

    <span class="hljs-meta">@Override</span>
    public <span class="hljs-type">Converter</span>&lt;<span class="hljs-type">ResponseBody</span>, ?&gt; responseBodyConverter(
            <span class="hljs-type">Type</span> <span class="hljs-class"><span class="hljs-keyword">type</span>, <span class="hljs-title">Annotation</span>[] <span class="hljs-title">annotations</span>, <span class="hljs-title">Retrofit</span> <span class="hljs-title">retrofit</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">CustomResponseConverter</span>(gson, <span class="hljs-class"><span class="hljs-keyword">type</span>)</span>;
    }
}
</code></pre>
<h3 data-id="heading-26">5.3 CallAdapterï¼ˆè°ƒç”¨é€‚é…å™¨ï¼‰</h3>
<p>CallAdapterç”¨äºé€‚é…ä¸åŒçš„å¼‚æ­¥æ¡†æ¶ï¼š</p>
<h3 data-id="heading-27">5.3.1 RxJava3é€‚é…å™¨</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ·»åŠ ä¾èµ–</span>
<span class="hljs-selector-tag">implementation</span> '<span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.squareup</span><span class="hljs-selector-class">.retrofit2</span>:<span class="hljs-selector-tag">adapter-rxjava3</span>:<span class="hljs-number">2.9</span><span class="hljs-selector-class">.0</span>'

<span class="hljs-comment">// é…ç½®Retrofit</span>
<span class="hljs-selector-tag">Retrofit</span> <span class="hljs-selector-tag">retrofit</span> = <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">Retrofit</span><span class="hljs-selector-class">.Builder</span>()
    <span class="hljs-selector-class">.baseUrl</span>(BASE_URL)
    <span class="hljs-selector-class">.addCallAdapterFactory</span>(RxJava3CallAdapterFactory.<span class="hljs-built_in">create</span>())
    <span class="hljs-selector-class">.addConverterFactory</span>(GsonConverterFactory.<span class="hljs-built_in">create</span>())
    <span class="hljs-selector-class">.build</span>();

<span class="hljs-comment">// å®šä¹‰è¿”å›Observableçš„API</span>
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">UserService</span> {
    <span class="hljs-variable">@GET</span>(<span class="hljs-string">"users/{id}"</span>)
    Observable&lt;ApiResponse&lt;User&gt;&gt; <span class="hljs-built_in">getUser</span>(<span class="hljs-variable">@Path</span>(<span class="hljs-string">"id"</span>) int userId);

    <span class="hljs-variable">@GET</span>(<span class="hljs-string">"users"</span>)
    Single&lt;ApiResponse&lt;List&lt;User&gt;&gt;&gt; <span class="hljs-built_in">listUsers</span>();

    <span class="hljs-variable">@POST</span>(<span class="hljs-string">"users"</span>)
    Completable <span class="hljs-built_in">createUser</span>(<span class="hljs-variable">@Body</span> User user);
}

<span class="hljs-comment">// ä½¿ç”¨RxJava</span>
<span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.getUser</span>(<span class="hljs-number">100</span>)
    <span class="hljs-selector-class">.subscribeOn</span>(Schedulers.<span class="hljs-built_in">io</span>())
    <span class="hljs-selector-class">.observeOn</span>(AndroidSchedulers.<span class="hljs-built_in">mainThread</span>())
    <span class="hljs-selector-class">.subscribe</span>(
        response -&gt; {
            <span class="hljs-comment">// æˆåŠŸå¤„ç†</span>
            <span class="hljs-selector-tag">if</span> (response.<span class="hljs-built_in">isSuccess</span>()) {
                <span class="hljs-selector-tag">User</span> <span class="hljs-selector-tag">user</span> = <span class="hljs-selector-tag">response</span><span class="hljs-selector-class">.getData</span>();
                <span class="hljs-comment">// æ›´æ–°UI</span>
            }
        },
        <span class="hljs-selector-tag">error</span> <span class="hljs-selector-tag">-</span>&gt; {
            <span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
            <span class="hljs-selector-tag">Log</span><span class="hljs-selector-class">.e</span>(<span class="hljs-string">"Error"</span>, <span class="hljs-string">"è¯·æ±‚å¤±è´¥"</span>, error);
        }
    );
</code></pre>
<h3 data-id="heading-28">5.3.2 Kotlinåç¨‹é€‚é…å™¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Kotlinä»£ç ç¤ºä¾‹</span>
<span class="hljs-comment">// æ·»åŠ ä¾èµ–</span>
implementation <span class="hljs-string">'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4'</span>

<span class="hljs-comment">// å®šä¹‰suspendå‡½æ•°API</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@GET(<span class="hljs-string">"users/{id}"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUser</span><span class="hljs-params">(<span class="hljs-meta">@Path(<span class="hljs-string">"id"</span>)</span> userId: <span class="hljs-type">Int</span>)</span></span>: ApiResponse&lt;User&gt;
}

<span class="hljs-comment">// åœ¨åç¨‹ä¸­è°ƒç”¨</span>
viewModelScope.launch {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">val</span> response = userService.getUser(<span class="hljs-number">100</span>)
        <span class="hljs-keyword">if</span> (response.isSuccess) {
            <span class="hljs-keyword">val</span> user = response.<span class="hljs-keyword">data</span>
            <span class="hljs-comment">// æ›´æ–°UI</span>
        }
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
    }
}
</code></pre>
<h3 data-id="heading-29">6. å®æˆ˜åº”ç”¨ï¼šç”Ÿäº§çº§é…ç½®</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e705ee4a951e4f5eaa42ed67a055508c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766715197&amp;x-signature=8E2LsEpMWOr422P8Jf0ejATYlNs%3D" alt="05_åº”ç”¨åœºæ™¯å›¾.png" loading="lazy"/></p>
<h3 data-id="heading-30">6.1 å®Œæ•´çš„Retrofité…ç½®</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NetworkModule</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final String BASE_URL = <span class="hljs-string">"https://api.example.com/"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-built_in">int</span> TIMEOUT = <span class="hljs-number">30</span>; <span class="hljs-comment">// ç§’</span>

    <span class="hljs-comment">// å•ä¾‹Retrofitå®ä¾‹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> Retrofit retrofit;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Retrofit <span class="hljs-title">provideRetrofit</span>()</span> {
        <span class="hljs-keyword">if</span> (retrofit == <span class="hljs-literal">null</span>) {
            synchronized (NetworkModule.<span class="hljs-keyword">class</span>) {
                <span class="hljs-keyword">if</span> (retrofit == <span class="hljs-literal">null</span>) {
                    retrofit = <span class="hljs-keyword">new</span> Retrofit.Builder()
                        .baseUrl(BASE_URL)
                        .client(provideOkHttpClient())
                        .addConverterFactory(provideGsonConverterFactory())
                        .addCallAdapterFactory(RxJava3CallAdapterFactory.create())
                        .build();
                }
            }
        }
        <span class="hljs-keyword">return</span> retrofit;
    }

    <span class="hljs-comment">// é…ç½®OkHttpClient</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> OkHttpClient <span class="hljs-title">provideOkHttpClient</span>()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> OkHttpClient.Builder()
            <span class="hljs-comment">// è¶…æ—¶é…ç½®</span>
            .connectTimeout(TIMEOUT, TimeUnit.SECONDS)
            .readTimeout(TIMEOUT, TimeUnit.SECONDS)
            .writeTimeout(TIMEOUT, TimeUnit.SECONDS)

            <span class="hljs-comment">// è¿æ¥æ± é…ç½®</span>
            .connectionPool(<span class="hljs-keyword">new</span> ConnectionPool(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, TimeUnit.MINUTES))

            <span class="hljs-comment">// SSLè¯ä¹¦ä¿¡ä»»ï¼ˆç”Ÿäº§ç¯å¢ƒæ…ç”¨ï¼‰</span>
            .hostnameVerifier((hostname, session) -&gt; <span class="hljs-literal">true</span>)

            <span class="hljs-comment">// æ‹¦æˆªå™¨é…ç½®</span>
            .addInterceptor(provideHeaderInterceptor())
            .addInterceptor(provideLoggingInterceptor())
            .addInterceptor(provideRetryInterceptor())

            <span class="hljs-comment">// ç¼“å­˜é…ç½®</span>
            .cache(provideCache())

            .build();
    }

    <span class="hljs-comment">// Headeræ‹¦æˆªå™¨</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Interceptor <span class="hljs-title">provideHeaderInterceptor</span>()</span> {
        <span class="hljs-keyword">return</span> chain -&gt; {
            Request original = chain.request();
            Request request = original.newBuilder()
                .header(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/json"</span>)
                .header(<span class="hljs-string">"Accept"</span>, <span class="hljs-string">"application/json"</span>)
                .header(<span class="hljs-string">"User-Agent"</span>, <span class="hljs-string">"Android App/1.0"</span>)
                .header(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">"Bearer "</span> + getToken())
                .method(original.method(), original.body())
                .build();
            <span class="hljs-keyword">return</span> chain.proceed(request);
        };
    }

    <span class="hljs-comment">// æ—¥å¿—æ‹¦æˆªå™¨</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Interceptor <span class="hljs-title">provideLoggingInterceptor</span>()</span> {
        HttpLoggingInterceptor logging = <span class="hljs-keyword">new</span> HttpLoggingInterceptor();
        logging.setLevel(BuildConfig.DEBUG
            ? HttpLoggingInterceptor.Level.BODY
            : HttpLoggingInterceptor.Level.NONE);
        <span class="hljs-keyword">return</span> logging;
    }

    <span class="hljs-comment">// é‡è¯•æ‹¦æˆªå™¨</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Interceptor <span class="hljs-title">provideRetryInterceptor</span>()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> RetryInterceptor();
    }

    <span class="hljs-comment">// ç¼“å­˜é…ç½®</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Cache <span class="hljs-title">provideCache</span>()</span> {
        File cacheDir = <span class="hljs-keyword">new</span> File(getApplication().getCacheDir(), <span class="hljs-string">"http_cache"</span>);
        <span class="hljs-built_in">int</span> cacheSize = <span class="hljs-number">10</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>; <span class="hljs-comment">// 10MB</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Cache(cacheDir, cacheSize);
    }

    <span class="hljs-comment">// Gsoné…ç½®</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> GsonConverterFactory <span class="hljs-title">provideGsonConverterFactory</span>()</span> {
        Gson gson = <span class="hljs-keyword">new</span> GsonBuilder()
            .setDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>)
            .setLenient()
            .create();
        <span class="hljs-keyword">return</span> GsonConverterFactory.create(gson);
    }

    <span class="hljs-comment">// è·å–Tokenï¼ˆç¤ºä¾‹ï¼‰</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getToken</span>()</span> {
        <span class="hljs-comment">// ä»SharedPreferencesæˆ–å…¶ä»–åœ°æ–¹è·å–token</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"your_token_here"</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Application <span class="hljs-title">getApplication</span>()</span> {
        <span class="hljs-comment">// è·å–Applicationå®ä¾‹</span>
        <span class="hljs-keyword">return</span> MyApplication.getInstance();
    }
}
</code></pre>
<h3 data-id="heading-31">6.2 ç»Ÿä¸€é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Exception</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> code;
    <span class="hljs-keyword">private</span> String msg;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ApiException</span><span class="hljs-params">(<span class="hljs-type">int</span> code, String msg)</span> {
        <span class="hljs-built_in">super</span>(msg);
        <span class="hljs-built_in">this</span>.code = code;
        <span class="hljs-built_in">this</span>.msg = msg;
    }

    <span class="hljs-comment">// é”™è¯¯ç å®šä¹‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">NETWORK_ERROR</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">PARSE_ERROR</span> <span class="hljs-operator">=</span> -<span class="hljs-number">2</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">UNKNOWN_ERROR</span> <span class="hljs-operator">=</span> -<span class="hljs-number">3</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">AUTH_ERROR</span> <span class="hljs-operator">=</span> <span class="hljs-number">401</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">SERVER_ERROR</span> <span class="hljs-operator">=</span> <span class="hljs-number">500</span>;

    <span class="hljs-comment">// Getter</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCode</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> code; }
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getMsg</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> msg; }
}

<span class="hljs-comment">// ç»Ÿä¸€çš„å“åº”å¤„ç†å™¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiCallback</span>&lt;T&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Callback</span>&lt;ApiResponse&lt;T&gt;&gt; {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResponse</span><span class="hljs-params">(Call&lt;ApiResponse&lt;T&gt;&gt; call, Response&lt;ApiResponse&lt;T&gt;&gt; response)</span> {
        <span class="hljs-keyword">if</span> (response.isSuccessful()) {
            ApiResponse&lt;T&gt; body = response.body();
            <span class="hljs-keyword">if</span> (body != <span class="hljs-literal">null</span> &amp;&amp; body.isSuccess()) {
                onSuccess(body.getData());
            } <span class="hljs-keyword">else</span> {
                onFailure(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiException</span>(
                    body != <span class="hljs-literal">null</span> ? body.getCode() : ApiException.UNKNOWN_ERROR,
                    body != <span class="hljs-literal">null</span> ? body.getMessage() : <span class="hljs-string">"æœªçŸ¥é”™è¯¯"</span>
                ));
            }
        } <span class="hljs-keyword">else</span> {
            onFailure(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiException</span>(
                response.code(),
                <span class="hljs-string">"HTTPé”™è¯¯: "</span> + response.code()
            ));
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(Call&lt;ApiResponse&lt;T&gt;&gt; call, Throwable t)</span> {
        <span class="hljs-keyword">if</span> (t <span class="hljs-keyword">instanceof</span> IOException) {
            onFailure(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiException</span>(ApiException.NETWORK_ERROR, <span class="hljs-string">"ç½‘ç»œè¿æ¥å¤±è´¥"</span>));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (t <span class="hljs-keyword">instanceof</span> JsonSyntaxException) {
            onFailure(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiException</span>(ApiException.PARSE_ERROR, <span class="hljs-string">"æ•°æ®è§£æå¤±è´¥"</span>));
        } <span class="hljs-keyword">else</span> {
            onFailure(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiException</span>(ApiException.UNKNOWN_ERROR, t.getMessage()));
        }
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(T data)</span>;
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(ApiException e)</span>;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
userService.getUser(<span class="hljs-number">100</span>).enqueue(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiCallback</span>&lt;User&gt;() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-comment">// å¤„ç†æˆåŠŸç»“æœ</span>
        textView.setText(user.getName());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(ApiException e)</span> {
        <span class="hljs-comment">// ç»Ÿä¸€é”™è¯¯å¤„ç†</span>
        Toast.makeText(context, e.getMsg(), Toast.LENGTH_SHORT).show();
    }
});
</code></pre>
<h3 data-id="heading-32">6.3 å¤šBaseUrlæ”¯æŒ</h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯èƒ½éœ€è¦è®¿é—®å¤šä¸ªä¸åŒçš„APIæœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">MultiBaseUrlInterceptor</span> <span class="hljs-selector-tag">implements</span> <span class="hljs-selector-tag">Interceptor</span> {

    <span class="hljs-variable">@Override</span>
    public Response <span class="hljs-built_in">intercept</span>(Chain chain) throws IOException {
        <span class="hljs-selector-tag">Request</span> <span class="hljs-selector-tag">request</span> = <span class="hljs-selector-tag">chain</span><span class="hljs-selector-class">.request</span>();
        <span class="hljs-selector-tag">HttpUrl</span> <span class="hljs-selector-tag">oldUrl</span> = <span class="hljs-selector-tag">request</span><span class="hljs-selector-class">.url</span>();

        <span class="hljs-comment">// ä»è¯·æ±‚å¤´ä¸­è·å–è‡ªå®šä¹‰çš„BaseUrlæ ‡è¯†</span>
        <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">baseUrlName</span> = <span class="hljs-selector-tag">request</span><span class="hljs-selector-class">.header</span>(<span class="hljs-string">"BaseUrl"</span>);
        <span class="hljs-selector-tag">if</span> (baseUrlName != null) {
            <span class="hljs-comment">// ç§»é™¤è¯·æ±‚å¤´</span>
            <span class="hljs-selector-tag">request</span> = <span class="hljs-selector-tag">request</span><span class="hljs-selector-class">.newBuilder</span>()
                <span class="hljs-selector-class">.removeHeader</span>(<span class="hljs-string">"BaseUrl"</span>)
                <span class="hljs-selector-class">.build</span>();

            <span class="hljs-comment">// æ ¹æ®æ ‡è¯†æ›¿æ¢BaseUrl</span>
            <span class="hljs-selector-tag">HttpUrl</span> <span class="hljs-selector-tag">newBaseUrl</span> = <span class="hljs-selector-tag">getBaseUrl</span>(baseUrlName);
            <span class="hljs-selector-tag">if</span> (newBaseUrl != null) {
                <span class="hljs-selector-tag">HttpUrl</span> <span class="hljs-selector-tag">newUrl</span> = <span class="hljs-selector-tag">oldUrl</span><span class="hljs-selector-class">.newBuilder</span>()
                    <span class="hljs-selector-class">.scheme</span>(newBaseUrl.<span class="hljs-built_in">scheme</span>())
                    <span class="hljs-selector-class">.host</span>(newBaseUrl.<span class="hljs-built_in">host</span>())
                    <span class="hljs-selector-class">.port</span>(newBaseUrl.<span class="hljs-built_in">port</span>())
                    <span class="hljs-selector-class">.build</span>();

                <span class="hljs-selector-tag">request</span> = <span class="hljs-selector-tag">request</span><span class="hljs-selector-class">.newBuilder</span>()
                    <span class="hljs-selector-class">.url</span>(newUrl)
                    <span class="hljs-selector-class">.build</span>();
            }
        }

        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">chain</span><span class="hljs-selector-class">.proceed</span>(request);
    }

    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">HttpUrl</span> <span class="hljs-selector-tag">getBaseUrl</span>(String name) {
        <span class="hljs-selector-tag">switch</span> (name) {
            <span class="hljs-selector-tag">case</span> "<span class="hljs-selector-tag">API_SERVER</span>":
                <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">HttpUrl</span><span class="hljs-selector-class">.parse</span>(<span class="hljs-string">"https://api.example.com/"</span>);
            <span class="hljs-selector-tag">case</span> "<span class="hljs-selector-tag">IMAGE_SERVER</span>":
                <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">HttpUrl</span><span class="hljs-selector-class">.parse</span>(<span class="hljs-string">"https://img.example.com/"</span>);
            <span class="hljs-selector-tag">case</span> "<span class="hljs-selector-tag">FILE_SERVER</span>":
                <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">HttpUrl</span><span class="hljs-selector-class">.parse</span>(<span class="hljs-string">"https://file.example.com/"</span>);
            <span class="hljs-selector-tag">default</span>:
                <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">null</span>;
        }
    }
}

<span class="hljs-comment">// APIæ¥å£å®šä¹‰</span>
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">FileService</span> {
    <span class="hljs-variable">@Headers</span>(<span class="hljs-string">"BaseUrl: FILE_SERVER"</span>)
    <span class="hljs-variable">@Multipart</span>
    <span class="hljs-variable">@POST</span>(<span class="hljs-string">"upload"</span>)
    Call&lt;ApiResponse&lt;String&gt;&gt; <span class="hljs-built_in">uploadFile</span>(<span class="hljs-variable">@Part</span> MultipartBody.Part file);
}
</code></pre>
<h3 data-id="heading-33">6.4 è¯·æ±‚å–æ¶ˆ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestManager</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Call</span>&lt;?&gt;&gt; callMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-comment">// æ·»åŠ è¯·æ±‚</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addCall</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> tag, Call&lt;?&gt; call</span>) {
        callMap.<span class="hljs-title function_">put</span>(tag, call);
    }

    <span class="hljs-comment">// å–æ¶ˆæŒ‡å®šè¯·æ±‚</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">cancelCall</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> tag</span>) {
        <span class="hljs-title class_">Call</span>&lt;?&gt; call = callMap.<span class="hljs-title function_">remove</span>(tag);
        <span class="hljs-keyword">if</span> (call != <span class="hljs-literal">null</span> &amp;&amp; !call.<span class="hljs-title function_">isCanceled</span>()) {
            call.<span class="hljs-title function_">cancel</span>();
        }
    }

    <span class="hljs-comment">// å–æ¶ˆæ‰€æœ‰è¯·æ±‚</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">cancelAll</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-title class_">Call</span>&lt;?&gt; call : callMap.<span class="hljs-title function_">values</span>()) {
            <span class="hljs-keyword">if</span> (!call.<span class="hljs-title function_">isCanceled</span>()) {
                call.<span class="hljs-title function_">cancel</span>();
            }
        }
        callMap.<span class="hljs-title function_">clear</span>();
    }
}

<span class="hljs-comment">// Activityä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AppCompatActivity</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">RequestManager</span> requestManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestManager</span>();

    <span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">loadUser</span>(<span class="hljs-params">int userId</span>) {
        <span class="hljs-title class_">Call</span>&lt;<span class="hljs-title class_">ApiResponse</span>&lt;<span class="hljs-title class_">User</span>&gt;&gt; call = userService.<span class="hljs-title function_">getUser</span>(userId);
        requestManager.<span class="hljs-title function_">addCall</span>(<span class="hljs-string">"loadUser"</span>, call);

        call.<span class="hljs-title function_">enqueue</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiCallback</span>&lt;<span class="hljs-title class_">User</span>&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onSuccess</span>(<span class="hljs-params">User user</span>) {
                <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onFailure</span>(<span class="hljs-params">ApiException e</span>) {
                <span class="hljs-comment">// å¤„ç†é”™è¯¯</span>
            }
        });
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onDestroy</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onDestroy</span>();
        <span class="hljs-comment">// Activityé”€æ¯æ—¶å–æ¶ˆæ‰€æœ‰è¯·æ±‚</span>
        requestManager.<span class="hljs-title function_">cancelAll</span>();
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-34">7. æœ€ä½³å®è·µ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8b69d2454d947728f3a40ac7e8e82e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766715197&amp;x-signature=Nh4MhHInHU4fsNnNfqGcgO7vFro%3D" alt="06_æœ€ä½³å®è·µå›¾.png" loading="lazy"/></p>
<h3 data-id="heading-35">7.1 å•ä¾‹æ¨¡å¼ç®¡ç†Retrofit</h3>
<p><strong>âŒ é”™è¯¯åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¯æ¬¡éƒ½åˆ›å»ºæ–°å®ä¾‹ï¼Œæµªè´¹èµ„æº</span>
<span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> {
    <span class="hljs-type">Retrofit</span> <span class="hljs-variable">retrofit</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Retrofit</span>.Builder()
        .baseUrl(<span class="hljs-string">"https://api.example.com/"</span>)
        .addConverterFactory(GsonConverterFactory.create())
        .build();

    <span class="hljs-type">UserService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> retrofit.create(UserService.class);
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><strong>âœ… æ­£ç¡®åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œå…¨å±€å…±äº«</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ApiClient</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> ApiClient instance;
    <span class="hljs-keyword">private</span> final Retrofit retrofit;

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">ApiClient</span>()</span> {
        retrofit = <span class="hljs-keyword">new</span> Retrofit.Builder()
            .baseUrl(<span class="hljs-string">"https://api.example.com/"</span>)
            .client(createOkHttpClient())
            .addConverterFactory(GsonConverterFactory.create())
            .build();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ApiClient <span class="hljs-title">getInstance</span>()</span> {
        <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
            synchronized (ApiClient.<span class="hljs-keyword">class</span>) {
                <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
                    instance = <span class="hljs-keyword">new</span> ApiClient();
                }
            }
        }
        <span class="hljs-keyword">return</span> instance;
    }

    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-function">T <span class="hljs-title">createService</span>(<span class="hljs-params">Class&lt;T&gt; serviceClass</span>)</span> {
        <span class="hljs-keyword">return</span> retrofit.create(serviceClass);
    }
}
</code></pre>
<h3 data-id="heading-36">7.2 åˆç†é…ç½®è¶…æ—¶æ—¶é—´</h3>
<pre><code class="hljs language-scss" lang="scss">OkHttpClient client = new OkHttpClient<span class="hljs-selector-class">.Builder</span>()
    <span class="hljs-selector-class">.connectTimeout</span>(<span class="hljs-number">10</span>, TimeUnit.SECONDS)    <span class="hljs-comment">// è¿æ¥è¶…æ—¶</span>
    <span class="hljs-selector-class">.readTimeout</span>(<span class="hljs-number">30</span>, TimeUnit.SECONDS)       <span class="hljs-comment">// è¯»å–è¶…æ—¶</span>
    <span class="hljs-selector-class">.writeTimeout</span>(<span class="hljs-number">30</span>, TimeUnit.SECONDS)      <span class="hljs-comment">// å†™å…¥è¶…æ—¶</span>
    <span class="hljs-selector-class">.callTimeout</span>(<span class="hljs-number">60</span>, TimeUnit.SECONDS)       <span class="hljs-comment">// æ•´ä¸ªè¯·æ±‚è¶…æ—¶</span>
    <span class="hljs-selector-class">.build</span>();
</code></pre>
<p><strong>è¶…æ—¶é…ç½®å»ºè®®ï¼š</strong></p>
<ul>
<li><strong>connectTimeout</strong>: 10-15ç§’ï¼ˆå»ºç«‹TCPè¿æ¥çš„æ—¶é—´ï¼‰</li>
<li><strong>readTimeout</strong>: 30-60ç§’ï¼ˆç­‰å¾…æœåŠ¡å™¨å“åº”çš„æ—¶é—´ï¼‰</li>
<li><strong>writeTimeout</strong>: 30-60ç§’ï¼ˆå‘æœåŠ¡å™¨å†™å…¥æ•°æ®çš„æ—¶é—´ï¼‰</li>
<li><strong>callTimeout</strong>: 60-120ç§’ï¼ˆæ•´ä¸ªè¯·æ±‚æµç¨‹çš„æ—¶é—´ï¼‰</li>
</ul>
<h3 data-id="heading-37">7.3 é¿å…ä¸»çº¿ç¨‹é˜»å¡</h3>
<p><strong>âŒ é”™è¯¯åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åœ¨ä¸»çº¿ç¨‹åŒæ­¥æ‰§è¡Œç½‘ç»œè¯·æ±‚</span>
User user = userService<span class="hljs-selector-class">.getUser</span>(<span class="hljs-number">100</span>)<span class="hljs-selector-class">.execute</span>()<span class="hljs-selector-class">.body</span>();
</code></pre>
<p><strong>âœ… æ­£ç¡®åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// ä½¿ç”¨å¼‚æ­¥å›è°ƒ</span>
<span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.getUser</span>(<span class="hljs-number">100</span>)<span class="hljs-selector-class">.enqueue</span>(new Callback&lt;ApiResponse&lt;User&gt;&gt;() {
    <span class="hljs-variable">@Override</span>
    public void <span class="hljs-built_in">onResponse</span>(Call&lt;ApiResponse&lt;User&gt;&gt; call, Response&lt;ApiResponse&lt;User&gt;&gt; response) {
        <span class="hljs-comment">// å¤„ç†å“åº”ï¼ˆå·²åœ¨ä¸»çº¿ç¨‹ï¼‰</span>
    }

    <span class="hljs-variable">@Override</span>
    public void <span class="hljs-built_in">onFailure</span>(Call&lt;ApiResponse&lt;User&gt;&gt; call, Throwable t) {
        <span class="hljs-comment">// å¤„ç†å¤±è´¥</span>
    }
});

<span class="hljs-comment">// æˆ–ä½¿ç”¨RxJava</span>
<span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.getUser</span>(<span class="hljs-number">100</span>)
    <span class="hljs-selector-class">.subscribeOn</span>(Schedulers.<span class="hljs-built_in">io</span>())         <span class="hljs-comment">// åœ¨IOçº¿ç¨‹æ‰§è¡Œ</span>
    <span class="hljs-selector-class">.observeOn</span>(AndroidSchedulers.<span class="hljs-built_in">mainThread</span>())  <span class="hljs-comment">// åœ¨ä¸»çº¿ç¨‹å¤„ç†ç»“æœ</span>
    <span class="hljs-selector-class">.subscribe</span>(<span class="hljs-comment">/* ... */</span>);
</code></pre>
<h3 data-id="heading-38">7.4 åˆç†ä½¿ç”¨ç¼“å­˜</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é…ç½®ç¼“å­˜ç­–ç•¥</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Response <span class="hljs-title function_">intercept</span><span class="hljs-params">(Chain chain)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Request</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> chain.request();

        <span class="hljs-comment">// æ— ç½‘ç»œæ—¶å¼ºåˆ¶ä½¿ç”¨ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> (!isNetworkAvailable()) {
            request = request.newBuilder()
                .cacheControl(CacheControl.FORCE_CACHE)
                .build();
        }

        <span class="hljs-type">Response</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> chain.proceed(request);

        <span class="hljs-keyword">if</span> (isNetworkAvailable()) {
            <span class="hljs-comment">// æœ‰ç½‘ç»œæ—¶è®¾ç½®ç¼“å­˜æœ‰æ•ˆæœŸä¸º1åˆ†é’Ÿ</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">maxAge</span> <span class="hljs-operator">=</span> <span class="hljs-number">60</span>;
            response = response.newBuilder()
                .removeHeader(<span class="hljs-string">"Pragma"</span>)
                .removeHeader(<span class="hljs-string">"Cache-Control"</span>)
                .header(<span class="hljs-string">"Cache-Control"</span>, <span class="hljs-string">"public, max-age="</span> + maxAge)
                .build();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æ— ç½‘ç»œæ—¶ç¼“å­˜ä¿ç•™4å‘¨</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">maxStale</span> <span class="hljs-operator">=</span> <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">24</span> * <span class="hljs-number">28</span>;
            response = response.newBuilder()
                .removeHeader(<span class="hljs-string">"Pragma"</span>)
                .removeHeader(<span class="hljs-string">"Cache-Control"</span>)
                .header(<span class="hljs-string">"Cache-Control"</span>, <span class="hljs-string">"public, only-if-cached, max-stale="</span> + maxStale)
                .build();
        }

        <span class="hljs-keyword">return</span> response;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isNetworkAvailable</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€</span>
        <span class="hljs-type">ConnectivityManager</span> <span class="hljs-variable">cm</span> <span class="hljs-operator">=</span> (ConnectivityManager) context
            .getSystemService(Context.CONNECTIVITY_SERVICE);
        <span class="hljs-type">NetworkInfo</span> <span class="hljs-variable">networkInfo</span> <span class="hljs-operator">=</span> cm.getActiveNetworkInfo();
        <span class="hljs-keyword">return</span> networkInfo != <span class="hljs-literal">null</span> &amp;&amp; networkInfo.isConnected();
    }
}
</code></pre>
<h3 data-id="heading-39">8. æ€»ç»“</h3>
<h3 data-id="heading-40">8.1 Retrofitæ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li><strong>æ¶æ„æ¸…æ™°</strong>Â - åˆ†å±‚è®¾è®¡ï¼ŒèŒè´£æ˜ç¡®</li>
<li><strong>ä½¿ç”¨ç®€å•</strong>Â - å£°æ˜å¼APIï¼Œæ³¨è§£é©±åŠ¨</li>
<li><strong>æ‰©å±•æ€§å¼º</strong>Â - æ”¯æŒè‡ªå®šä¹‰Converterã€CallAdapterã€Interceptor</li>
<li><strong>æ€§èƒ½ä¼˜ç§€</strong>Â - åŸºäºOkHttpï¼Œè¿æ¥å¤ç”¨ï¼Œç¼“å­˜æ”¯æŒ</li>
<li><strong>ç”Ÿæ€ä¸°å¯Œ</strong>Â - ä¸RxJavaã€Coroutineç­‰æ¡†æ¶æ— ç¼é›†æˆ</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Vite æ­å»ºç°ä»£åŒ– Vue 3 é¡¹ç›®ï¼šä»é›¶åˆ°å·¥ç¨‹åŒ–å…¥é—¨]]></title>    <link>https://juejin.cn/post/7585050449506910243</link>    <guid>https://juejin.cn/post/7585050449506910243</guid>    <pubDate>2025-12-18T18:07:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585050449506910243" data-draft-id="7585005164727287846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Vite æ­å»ºç°ä»£åŒ– Vue 3 é¡¹ç›®ï¼šä»é›¶åˆ°å·¥ç¨‹åŒ–å…¥é—¨"/> <meta itemprop="keywords" content="Vue.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T18:07:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="T___T"/> <meta itemprop="url" content="https://juejin.cn/user/1599155645973066"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Vite æ­å»ºç°ä»£åŒ– Vue 3 é¡¹ç›®ï¼šä»é›¶åˆ°å·¥ç¨‹åŒ–å…¥é—¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1599155645973066/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    T___T
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T18:07:47.000Z" title="Thu Dec 18 2025 18:07:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œâ€œå·¥ç¨‹åŒ–â€å·²ç»ä¸å†æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œè€Œæ˜¯å¿…éœ€å“ã€‚å®ƒå¸®åŠ©æˆ‘ä»¬è§£å†³é¡¹ç›®ç»“æ„æ··ä¹±ã€æ„å»ºç¼“æ…¢ã€è°ƒè¯•å›°éš¾ç­‰é—®é¢˜ï¼Œè®©å¼€å‘ä½“éªŒå’Œé¡¹ç›®å¯ç»´æŠ¤æ€§éƒ½ä¸Šä¸€ä¸ªå°é˜¶ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ç»“åˆä¸€ä¸ªå®é™…çš„ Vue 3 + Vite é¡¹ç›®æ¨¡æ¿ï¼Œä»æ­å»ºã€ç›®å½•ç»“æ„ã€å¼€å‘è°ƒè¯•åˆ°å¤šé¡µé¢è·¯ç”±ï¼Œç³»ç»Ÿæ¢³ç†ä¸€å¥—ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–å®è·µæ€è·¯ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç”¨ Vite åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª Vue3 é¡¹ç›®</h2>
<p>æˆ‘ä»¬ä¼šç”¨åˆ°ä¸€ä¸ªå…³é”®è§’è‰²ï¼š<strong>Vite</strong>ã€‚<br/>
å®ƒæ˜¯ç”± Vue ä½œè€…å°¤é›¨æºªï¼ˆEvan Youï¼‰æ‰“é€ çš„ç°ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œç‰¹ç‚¹å¯ä»¥æ¦‚æ‹¬æˆä¸€å¥è¯ï¼š</p>
<blockquote>
<p>æé€Ÿå†·å¯åŠ¨ + æé€Ÿçƒ­æ›´æ–°</p>
</blockquote>
<h3 data-id="heading-1">1. åˆå§‹åŒ–é¡¹ç›®</h3>
<p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm init vite
</code></pre>
<p>æ¥ä¸‹æ¥æŒ‰æç¤ºæ“ä½œ ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fe70eb95b4c47c1b607cdedca966e27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766686067&amp;x-signature=4PUCUGB0rHwMoDux8f3E48sOzew%3D" alt="image.png" loading="lazy"/></p>
<p>å›¾ä¸­å·²ç»é€‰æ‹©é»˜è®¤å¯åŠ¨äº†</p>
<p>æ­£å¸¸çš„è¯ç„¶åè¿›å…¥æ–‡ä»¶ç›®å½•</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ./first-vue
</code></pre>
<p>å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm run dev
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3738b386d3e4a56bced8d60893ffcd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766686067&amp;x-signature=2QYDgsrK5WITX%2BUAlykF4OlZCwQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">ğŸ› ï¸<code>npm run dev</code> èƒŒåçš„æ“ä½œ</h3>
<p>åœ¨<code>package.json</code>ä¸­</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e77bc633d66d47989038015eaec7f1a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766686067&amp;x-signature=5cAQeyR34vneQETp48rphaDVZqY%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p><code>npm run dev</code>Â çš„Â <strong>dev</strong>Â æ˜¯è„šæœ¬å</p>
</li>
<li>
<p>npm ä¼šåœ¨Â <code>package.json</code>Â çš„Â <code>scripts</code>Â é‡Œæ‰¾åˆ°åŒåé”®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span>
</code></pre>
</li>
<li>
<p>ç„¶åæ‰§è¡Œè¿™ä¸€ä¸²å‘½ä»¤å­—ç¬¦ä¸²ï¼š<code>vite</code></p>
</li>
</ul>
<p>æ‰€ä»¥å¯¹å½“å‰é¡¹ç›®æ¥è¯´ï¼š</p>
<blockquote>
<p><strong><code>npm run dev</code>Â = â€œè¯· npm æŒ‰ç…§ package.json é‡Œçš„é…ç½®ï¼Œå¸®æˆ‘å¯åŠ¨ Vite çš„å¼€å‘æœåŠ¡å™¨â€ã€‚</strong></p>
</blockquote>
<ul>
<li>Vite å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆ<code>vite dev</code>Â æ¨¡å¼ï¼‰</li>
<li>æµè§ˆå™¨æ‰“å¼€æœ¬åœ°åœ°å€ï¼ˆå¦‚Â <code>http://localhost:5173/</code>ï¼‰</li>
<li>åŒæ—¶å¼€å¯<code>çƒ­æ›´æ–°</code>ï¼Œç›‘å¬æ–‡ä»¶å˜åŒ–</li>
</ul>
<p>æ‰“å¼€æµè§ˆå™¨è®¿é—®Â <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%25EF%25BC%258C" target="_blank" title="http://localhost:5173%EF%BC%8C" ref="nofollow noopener noreferrer">http://localhost:5173ï¼Œ</a> ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé»˜è®¤çš„Â Vite + Vue æ¬¢è¿é¡µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8ee377b5f584d288310e0c1d962c2da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766686067&amp;x-signature=62217Isw%2BO1A3s467aGnGSd4cTM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">äºŒã€é¡¹ç›®æ–‡ä»¶ç»“æ„</h2>
<pre><code class="hljs language-csharp" lang="csharp">first-vue/
â”œâ”€â”€ node_modules/
â”œâ”€â”€ <span class="hljs-keyword">public</span>/
â”‚   â”œâ”€â”€ favicon.ico
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ logo.png
â”‚   â”œâ”€â”€ components/         <span class="hljs-meta"># ç»„ä»¶ç›®å½•</span>
â”‚   â”‚   â””â”€â”€ HelloWorld.vue  <span class="hljs-meta"># ç¤ºä¾‹ç»„ä»¶</span>
â”‚   â”œâ”€â”€ views/              <span class="hljs-meta"># æ”¾é¡µé¢çº§ç»„ä»¶ï¼ˆè‡ªè¡Œå¼•å…¥ï¼‰     </span>
â”‚   â”œâ”€â”€ App.vue             <span class="hljs-meta"># æ ¹ç»„ä»¶</span>
â”‚   â”œâ”€â”€ main.js             <span class="hljs-meta"># å…¥å£æ–‡ä»¶</span>
|   â”œâ”€â”€ style.css           <span class="hljs-meta"># å…¨å±€æ ·å¼</span>
â”‚   â””â”€â”€ router/             <span class="hljs-meta"># å­˜æ”¾è·¯ç”±é…ç½®æ–‡ä»¶ </span>
â”‚       â””â”€â”€ index.js        <span class="hljs-meta"># è·¯ç”±çš„é…ç½®æ–‡ä»¶ </span>
| --------
â”œâ”€â”€ .gitignore
â”œâ”€â”€ babel.config.js
â”œâ”€â”€ package.json            <span class="hljs-meta"># é¡¹ç›®çš„ä¾èµ–ã€è„šæœ¬å’Œå…¶ä»–å…ƒæ•°æ®</span>
â”œâ”€â”€ README.md
â”œâ”€â”€ index.html              <span class="hljs-meta"># åº”ç”¨çš„ä¸» HTML æ–‡ä»¶</span>
â”œâ”€â”€ vue.config.js
â””â”€â”€ yarn.<span class="hljs-keyword">lock</span> <span class="hljs-keyword">or</span> package-<span class="hljs-keyword">lock</span>.json
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€å¼•å…¥ vue-router å®ç°å¤šé¡µé¢</h2>
<h3 data-id="heading-5">1. å®‰è£… Vue Router</h3>
<pre><code class="hljs language-bash" lang="bash">npm install vue-router@4
</code></pre>
<h3 data-id="heading-6">2. ç®€å•åˆ›å»ºé¡µé¢ç»„ä»¶: <code>Home.vue</code> <code>About.vue</code></h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bade9df1df3d4ab2bdffbe8ab417ec31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766686067&amp;x-signature=4G9G7umCTyFSE0YTNpkHH1Ggpv8%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df8ac8394f3645dbbd9b049ab0acef16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766686067&amp;x-signature=q0f1H8QeGBxayDS%2BmVSKOZ6lfgI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">3. åˆ›å»ºè·¯ç”±é…ç½®æ–‡ä»¶ï¼š<code>src/router/index.js</code></h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// router æ¨¡å— å®šä¹‰è·¯ç”±</span>
<span class="hljs-keyword">import</span> {
    createRouter,<span class="hljs-comment">// åˆ›å»ºè·¯ç”±å®ä¾‹çš„å·¥å‚å‡½æ•°</span>
    createWebHashHistory<span class="hljs-comment">// hash æ¨¡å¼çš„ history å®ä¾‹ è·¯ç”±æ¨¡å¼</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/Home.vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/About.vue'</span>;

<span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span>
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'About'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">About</span>
  }
];
<span class="hljs-comment">// å®ä¾‹åŒ– è´Ÿè´£å‰ç«¯è·¯ç”± </span>
<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-comment">//è®¿é—®å†å² hash è·¯ç”± #/about</span>
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHashHistory</span>(),
  <span class="hljs-comment">// è·¯ç”±é…ç½®æ•°ç»„</span>
  routes
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<h4 data-id="heading-8">1.Â <code>const router = createRouter({...})</code></h4>
<ul>
<li>
<p><strong><code>const router = ...</code></strong></p>
<ul>
<li>å£°æ˜ä¸€ä¸ªå¸¸é‡å˜é‡Â <code>router</code>ï¼Œä»¥åä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚</li>
<li>å®ƒç”¨æ¥ä¿å­˜â€œè·¯ç”±å®ä¾‹â€ï¼Œåé¢ä¼šåœ¨å…¥å£æ–‡ä»¶é‡ŒÂ <code>.use(router)</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>createRouter({...})</code></strong></p>
<ul>
<li>è°ƒç”¨ä»Â <code>vue-router</code>Â å¯¼å…¥çš„å·¥å‚å‡½æ•°Â <code>createRouter</code>ã€‚</li>
<li>ä¼ è¿›å»çš„æ˜¯ä¸€ä¸ª<strong>é…ç½®å¯¹è±¡</strong>ï¼ˆèŠ±æ‹¬å·Â <code>{ ... }</code>Â é‡Œé¢çš„å†…å®¹ï¼‰ã€‚</li>
<li>è¿”å›å€¼å°±æ˜¯â€œå‰ç«¯è·¯ç”±å®ä¾‹â€ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-9">2.Â <strong><code>history: createWebHashHistory()</code></strong></h4>
<ul>
<li>
<p><strong>æŒ‡å®šè·¯ç”±çš„å†å²æ¨¡å¼</strong>ï¼š<code>history</code>Â é…ç½®é¡¹ç”¨äºå†³å®šè·¯ç”±å¦‚ä½•ç®¡ç†æµè§ˆå™¨çš„å†å²è®°å½•ï¼Œä»¥åŠ URL çš„è¡¨ç°å½¢å¼ã€‚</p>
</li>
<li>
<p><strong><code>createWebHashHistory()</code></strong> ï¼šåˆ›å»º<strong>Hash æ¨¡å¼</strong>çš„å†å²è®°å½•å¯¹è±¡ï¼Œå…¶ç‰¹ç‚¹æ˜¯ï¼š</p>
<p>1ã€   URL ä¸­ä¼šå¸¦æœ‰Â <code>#</code>Â ç¬¦å·ï¼ˆæ¯”å¦‚Â <code>http://localhost:5173/#/About</code>ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ²¡æœ‰<code>#</code>ï¼‰ï¼›</p>
<p>2ã€   <code>#</code>Â åé¢çš„å†…å®¹ä¸ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨ï¼Œå› æ­¤æ— éœ€åç«¯é…ç½®æ”¯æŒï¼Œé€‚åˆå¿«é€Ÿå¼€å‘æˆ–é™æ€éƒ¨ç½²çš„åœºæ™¯ï¼›</p>
<p>3ã€   å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒæ‰€æœ‰ä¸»æµæµè§ˆå™¨ï¼ˆåŒ…æ‹¬ä½ç‰ˆæœ¬ IEï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-10">4.åœ¨<code>main.js</code> ä¸­å¯¼å…¥å¹¶ä½¿ç”¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// vue createApp åˆ›å»ºä¸€ä¸ªApp</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-comment">// å¼•å…¥è·¯ç”±å®ä¾‹</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-comment">// ç°ä»£å‰ç«¯åº”ç”¨</span>
<span class="hljs-comment">// ç»„ä»¶åŒ–ï¼Œå“åº”å¼</span>
<span class="hljs-comment">// è·ŸDOMæ ‘ä¸ä¸€æ ·</span>
<span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
    .<span class="hljs-title function_">use</span>(router)  <span class="hljs-comment">// æ³¨å†Œè·¯ç”±å®ä¾‹ å¯ç”¨è·¯ç”±</span>
<span class="hljs-comment">// æŒ‚è½½åœ¨#appä¸Š</span>
    .<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<blockquote>
<p>ä»è¿™é‡Œå¼€å§‹ï¼Œæµè§ˆå™¨ä¼šæ‰§è¡Œä½ çš„å…¥å£è„šæœ¬ï¼Œåˆ›å»º Vue åº”ç”¨ï¼ŒæŒ‚è½½åˆ°Â <code>&lt;div id="app"&gt;&lt;/div&gt;</code>Â ä¸Šï¼ŒSPAÂ æ•´ä¸ªå°±è·‘èµ·æ¥äº†ã€‚</p>
</blockquote>
<h3 data-id="heading-11">5.è®¿é—® <code>index.html</code> åº”ç”¨çš„ä¸» HTML æ–‡ä»¶</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/svg+xml"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/vite.svg"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>all-vue<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç»„ä»¶çš„æŒ‚è½½ç‚¹ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ„å»ºå·¥ä½œï¼Œå‰ç«¯ç•Œé¢å¼€å‘çš„åˆ†æ°´å²­ --&gt;</span>
     <span class="hljs-comment">&lt;!-- vue å¾ˆå¿« ï¼ŒåŸºäºæœ€æ–°çš„ESM type="module" -&gt; å¥½å¤„ åªéœ€è¦è§£æéœ€è¦çš„æ–‡ä»¶ï¼Œå¦‚æœå…¶ä»–çš„æ–‡ä»¶æ²¡æœ‰ç”¨åˆ°ï¼Œå°±ä¸ä¼šè§£æ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/main.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h2 data-id="heading-12">type="module" src="/src/main.js"</h2>
<ul>
<li><strong>è¿™æ˜¯ä¸€ä¸ª ES æ¨¡å—è„šæœ¬ï¼Œä¸æ˜¯ä¼ ç»Ÿçš„â€œå…¨å±€è„šæœ¬â€</strong></li>
<li>æµè§ˆå™¨åŠ è½½Â <code>/src/main.js</code></li>
<li>çœ‹åˆ°é‡Œé¢Â <code>import './App.vue'</code>ã€<code>import './router'</code>Â ç­‰</li>
<li>å®ƒä¼šÂ <strong>æŒ‰éœ€é€ä¸ªè¯·æ±‚è¿™äº›è¢« import çš„æ¨¡å—</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb8743fc93854519951807a9783ac647~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766686067&amp;x-signature=CLOKX3frDGaSuSIP8Ldh%2F2jSd0s%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40926b89ba8e43bba995247234e53229~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766686067&amp;x-signature=IYJeXv78s%2FFFXHgKQ5mybCRT7c4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-13">å››ã€çƒ­æ›´æ–°ä¸å¼€å‘å·¥å…·ï¼šä¸ºä»€ä¹ˆâ€œæ”¹å®Œå°±ç”Ÿæ•ˆâ€è¿™ä¹ˆçˆ½ï¼Ÿ</h2>
<p>å½“ä½ è¿è¡Œå¼€å‘æœåŠ¡å™¨åï¼Œè¯•ç€å»æ”¹ä¸€ä¸ªé¡µé¢ç»„ä»¶é‡Œçš„æ–‡æ¡ˆï¼Œæ¯”å¦‚ä»ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;Home&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>æ”¹æˆï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;Welcome to My First Vue App!&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>ä¿å­˜çš„ä¸€ç¬é—´ï¼Œä½ ä¼šå‘ç°æµè§ˆå™¨é‡Œçš„é¡µé¢å‡ ä¹ç«‹åˆ»æ›´æ–°äº†ï¼Œè¿™å°±æ˜¯Â <strong>çƒ­æ¨¡å—æ›¿æ¢</strong> Â å¸¦æ¥çš„ä½“éªŒã€‚</p>
<p>å®ƒèƒ½åšåˆ°ï¼š</p>
<ul>
<li>ä¿®æ”¹ç»„ä»¶æ¨¡æ¿ â†’ é¡µé¢å±€éƒ¨æ›´æ–°ï¼ŒçŠ¶æ€å°½é‡ä¿æŒ</li>
<li>ä¿®æ”¹æ ·å¼ â†’ å‡ ä¹å®æ—¶ç”Ÿæ•ˆ</li>
<li>ä¿®æ”¹é€»è¾‘ä»£ç Â â†’Â å°½é‡åœ¨ä¸æ•´é¡µåˆ·æ–°çš„å‰æä¸‹æ›¿æ¢å¯¹åº”æ¨¡å—</li>
</ul>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç°åœ¨çš„å‰ç«¯å¼€å‘èŠ‚å¥å¯ä»¥è¿™ä¹ˆå¿«ã€‚</p>
<h3 data-id="heading-14">å¿…å¤‡å¼€å‘å·¥å…·æ¨è</h3>
<ul>
<li>
<p><strong>Volarï¼ˆVS Code æ’ä»¶ï¼‰</strong></p>
<ul>
<li>ä¸º Vue3 æä¾›è¯­æ³•é«˜äº®ã€ç±»å‹æ¨æ–­ã€é”™è¯¯æ£€æŸ¥ç­‰èƒ½åŠ›</li>
<li>å®Œç¾æ”¯æŒÂ <code>&lt;script setup&gt;</code>Â å’Œ TypeScript</li>
<li>å¦‚æœä½ ä¹‹å‰è£…è¿‡æ—§çš„ Vue æ’ä»¶ï¼Œè®°å¾—ç¦ç”¨ï¼Œé¿å…å†²çª</li>
</ul>
</li>
<li>
<p><strong>Vue Devtoolsï¼ˆæµè§ˆå™¨æ’ä»¶ï¼‰</strong></p>
<ul>
<li>å¯è§†åŒ–æŸ¥çœ‹ç»„ä»¶æ ‘</li>
<li>æŸ¥çœ‹æ¯ä¸ªç»„ä»¶çš„Â <code>props</code>ã€æœ¬åœ°çŠ¶æ€ã€è®¡ç®—å±æ€§</li>
<li>é…åˆçŠ¶æ€ç®¡ç†åº“è¿˜èƒ½åšâ€œæ—¶é—´æ—…è¡Œè°ƒè¯•â€</li>
</ul>
</li>
</ul>
<p>æœ‰äº†è¿™äº›å·¥å…·ï¼Œä½ ä¸ä»…â€œèƒ½å†™â€ï¼Œè€Œä¸”â€œå†™å¾—èˆ’æœã€è°ƒå¾—æ¸…æ¥šâ€ã€‚</p>
<h2 data-id="heading-15">äº”ã€å…¨æµç¨‹æ€»ç»“</h2>
<p>ä»ä½ æŒ‰ä¸‹å›è½¦æ‰§è¡ŒÂ <code>npm run dev</code>Â åˆ°æµè§ˆå™¨çœ‹åˆ° â€œHome / Aboutâ€ï¼š</p>
<ol>
<li>
<p><strong><code>npm run dev</code></strong></p>
<p>npm è¯»å–Â package.jsonÂ â†’ æ‰¾åˆ°Â <code>"dev": "vite"</code>Â â†’ å¯åŠ¨æœ¬åœ° Vite å¼€å‘æœåŠ¡å™¨ã€‚</p>
</li>
<li>
<p><strong>Vite å¯åŠ¨</strong></p>
<p>ç›‘å¬æ ¹ç›®å½•ï¼Œæ¥ç®¡å¯¹Â <code>index.html</code>ã€<code>/src/*</code>Â ç­‰èµ„æºçš„è¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>æµè§ˆå™¨è®¿é—®æœ¬åœ°åœ°å€</strong></p>
<p>ViteÂ è¿”å›Â <code>index.html</code>ã€‚</p>
<p>æµè§ˆå™¨è§£æå‡ºÂ <code>&lt;div id="app"&gt;</code>Â å’ŒÂ <code>&lt;script type="module" src="/src/main.js"&gt;</code>ã€‚</p>
</li>
<li>
<p><strong>åŠ è½½</strong> <strong>src/main.js</strong></p>
<p>æµè§ˆå™¨è¯·æ±‚Â /src/main.jsï¼ŒVite æŒ‰éœ€ç¼–è¯‘å¹¶è¿”å›ã€‚</p>
<p>main.jsÂ æ‰§è¡Œï¼š</p>
<ul>
<li>
<p>å¯¼å…¥ Vueã€æ ·å¼ã€<code>App</code>Â æ ¹ç»„ä»¶å’ŒÂ <code>router</code>ã€‚</p>
</li>
<li>
<p><code>createApp(App).use(router).mount('#app')</code>Â â†’ VueÂ æ¥ç®¡Â <code>#app</code>Â è¿™ä¸ªèŠ‚ç‚¹ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>åˆ›å»ºè·¯ç”±å®ä¾‹</strong></p>
<p>router/index.jsÂ ä¸­çš„Â <code>createRouter({ history, routes })</code>Â è¢«æ‰§è¡Œã€‚
é…å¥½Â <code>/</code>Â â†’Â <code>Home</code>ï¼Œ<code>/about</code>Â â†’Â <code>About</code>Â ç­‰æ˜ å°„å…³ç³»ã€‚</p>
</li>
<li>
<p>**æ¸²æŸ“æ ¹ç»„ä»¶Â **</p>
<p><strong>App.vue</strong></p>
<p>Vue æŠŠÂ <code>App</code>Â ç»„ä»¶æ¸²æŸ“è¿›Â <code>#app</code>ã€‚</p>
<p>æ˜¾ç¤ºå‡ºé¡¶éƒ¨å¯¼èˆªï¼ˆä¸¤ä¸ªÂ <code>&lt;router-link&gt;</code>ï¼‰ï¼Œä¸­é—´æ˜¯ä¸€ä¸ªç©ºçš„Â <code>&lt;router-view&gt;</code>Â å ä½ç¬¦ã€‚</p>
</li>
<li>
<p><strong>è·¯ç”±åŒ¹é… &amp; æ¸²æŸ“é¡µé¢ç»„ä»¶</strong></p>
<p>åˆå§‹ URL æ˜¯Â <code>/#/</code>ï¼Œè·¯ç”±åŒ¹é…åˆ°Â <code>/</code>Â â†’Â ä½¿ç”¨Â <code>Home</code>Â ç»„ä»¶ã€‚</p>
<p><code>Home</code>Â ç»„ä»¶çš„å†…å®¹Â <code>&lt;div&gt;Home&lt;/div&gt;</code>Â è¢«æ’å…¥åˆ°Â <code>&lt;router-view&gt;</code>Â é‡Œã€‚</p>
<p>å½“ä½ ç‚¹å‡»å¯¼èˆªé‡Œçš„ â€œAboutâ€ï¼š</p>
<ul>
<li>
<p>URL å˜ä¸ºÂ <code>/#/about</code></p>
</li>
<li>
<p>è·¯ç”±åŒ¹é…åˆ°Â <code>/about</code>Â â†’ æ¸²æŸ“Â <code>About</code>Â ç»„ä»¶åˆ°Â <code>&lt;router-view&gt;</code>ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>å¼€å‘æ—¶çƒ­æ›´æ–°</strong></p>
<p>ä½ ä¿®æ”¹Â Home.vueã€App.vueã€<code>style.css</code>Â ç­‰æ–‡ä»¶æ—¶ï¼ŒViteÂ ç›‘å¬åˆ°å˜æ›´ã€‚</p>
<p>é€šè¿‡ HMRï¼ˆçƒ­æ¨¡å—æ›¿æ¢ï¼‰åªåˆ·æ–°ç›¸å…³ç»„ä»¶ï¼Œæµè§ˆå™¨å‡ ä¹ç¬æ—¶æ›´æ–°ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NiceGUI .classes() å®Œæ•´åˆ—è¡¨æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7585083729971085364</link>    <guid>https://juejin.cn/post/7585083729971085364</guid>    <pubDate>2025-12-19T00:15:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585083729971085364" data-draft-id="7585083729971052596" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NiceGUI .classes() å®Œæ•´åˆ—è¡¨æ•™ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T00:15:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PieroPC"/> <meta itemprop="url" content="https://juejin.cn/user/1998231182522521"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NiceGUI .classes() å®Œæ•´åˆ—è¡¨æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1998231182522521/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PieroPC
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T00:15:55.000Z" title="Fri Dec 19 2025 00:15:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">NiceGUI <code>.classes()</code> å®Œæ•´åˆ—è¡¨æ•™ç¨‹</h2>
<p><code>.classes()</code> ç”¨äºè®¾ç½® CSS ç±»åï¼Œæ”¯æŒ Tailwind CSS é£æ ¼çš„å®ç”¨ç±»ï¼Œæ˜¯æ§åˆ¶å¸ƒå±€å’Œå¤–è§‚çš„æ ¸å¿ƒæ–¹æ³•ã€‚</p>
<hr/>
<h3 data-id="heading-1">1. åŸºç¡€è¯­æ³•</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å•ä¸ªç±»</span>
element.classes(<span class="hljs-string">'p-4'</span>)

<span class="hljs-comment"># å¤šä¸ªç±»ï¼ˆç©ºæ ¼åˆ†éš”ï¼‰</span>
element.classes(<span class="hljs-string">'p-4 m-2 bg-blue-500 text-white'</span>)

<span class="hljs-comment"># è¦†ç›–å·²æœ‰ç±»ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰</span>
element.classes(<span class="hljs-string">'bg-red-500'</span>)  <span class="hljs-comment"># ä¼šç§»é™¤ä¹‹å‰çš„èƒŒæ™¯ç±»</span>

<span class="hljs-comment"># è¿½åŠ ç±»ï¼ˆä¸è¦†ç›–ï¼‰</span>
element.classes(<span class="hljs-string">'!bg-red-500'</span>)  <span class="hljs-comment"># ä¿ç•™å·²æœ‰ç±»ï¼Œæ·»åŠ æ–°ç±»</span>

<span class="hljs-comment"># ç§»é™¤ç±»</span>
element.classes(<span class="hljs-string">'remove bg-blue-500'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-2">2. å¸¸ç”¨ç±»ååˆ†ç±»é€ŸæŸ¥</h3>
<h4 data-id="heading-3"><strong>ğŸ“ å°ºå¯¸ä¸å®½é«˜</strong></h4>



































<table><thead><tr><th>ç±»å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>w-full</code></td><td>å®½åº¦100%</td><td><code>.classes('w-full')</code></td></tr><tr><td><code>h-screen</code></td><td>é«˜åº¦100vh</td><td><code>.classes('h-screen')</code></td></tr><tr><td><code>w-1/2</code>, <code>w-2/3</code></td><td>ç™¾åˆ†æ¯”å®½åº¦</td><td><code>.classes('w-1/2')</code></td></tr><tr><td><code>min-w-0</code>, <code>max-w-md</code></td><td>æœ€å°/æœ€å¤§å®½åº¦</td><td><code>.classes('max-w-md')</code></td></tr><tr><td><code>h-16</code>, <code>h-32</code></td><td>å›ºå®šé«˜åº¦</td><td><code>.classes('h-16')</code></td></tr></tbody></table>
<h4 data-id="heading-4"><strong>ğŸ§­ å¸ƒå±€ä¸å®šä½</strong></h4>


















































<table><thead><tr><th>ç±»å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>flex</code></td><td>Flexbox å®¹å™¨</td><td><code>.classes('flex')</code></td></tr><tr><td><code>flex-col</code></td><td>å‚ç›´æ’åˆ—</td><td><code>.classes('flex flex-col')</code></td></tr><tr><td><code>justify-start</code>, <code>justify-center</code>, <code>justify-end</code></td><td>ä¸»è½´å¯¹é½</td><td><code>.classes('flex justify-center')</code></td></tr><tr><td><code>items-start</code>, <code>items-center</code>, <code>items-end</code></td><td>äº¤å‰è½´å¯¹é½</td><td><code>.classes('flex items-center')</code></td></tr><tr><td><code>gap-1</code>, <code>gap-2</code>, <code>gap-4</code></td><td>å­å…ƒç´ é—´è·</td><td><code>.classes('flex gap-2')</code></td></tr><tr><td><code>grid</code>, <code>grid-cols-2</code>, <code>grid-cols-3</code></td><td>ç½‘æ ¼å¸ƒå±€</td><td><code>.classes('grid grid-cols-3')</code></td></tr><tr><td><code>relative</code>, <code>absolute</code>, <code>fixed</code></td><td>å®šä½</td><td><code>.classes('relative')</code></td></tr><tr><td><code>inset-0</code>, <code>top-4</code>, <code>left-2</code></td><td>ä½ç½®åç§»</td><td><code>.classes('absolute inset-0')</code></td></tr></tbody></table>
<h4 data-id="heading-5"><strong>ğŸ¯ é—´è· (Margins &amp; Paddings)</strong></h4>








































<table><thead><tr><th>ç±»å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>p-1</code>, <code>p-2</code>, <code>p-4</code>, <code>p-8</code></td><td>å†…è¾¹è·</td><td><code>.classes('p-4')</code></td></tr><tr><td><code>px-2</code>, <code>py-4</code></td><td>æ°´å¹³/å‚ç›´å†…è¾¹è·</td><td><code>.classes('px-4 py-2')</code></td></tr><tr><td><code>m-1</code>, <code>m-2</code>, <code>m-4</code></td><td>å¤–è¾¹è·</td><td><code>.classes('m-2')</code></td></tr><tr><td><code>mx-auto</code></td><td>æ°´å¹³å±…ä¸­ï¼ˆautoï¼‰</td><td><code>.classes('mx-auto')</code></td></tr><tr><td><code>mt-2</code>, <code>mb-4</code>, <code>ml-6</code></td><td>å•æ–¹å‘å¤–è¾¹è·</td><td><code>.classes('mt-4 mb-2')</code></td></tr><tr><td><code>space-x-2</code>, <code>space-y-4</code></td><td>å­å…ƒç´ é—´è·</td><td><code>.classes('space-y-2')</code></td></tr></tbody></table>
<h4 data-id="heading-6"><strong>ğŸ¨ é¢œè‰²ä¸èƒŒæ™¯</strong></h4>


















































<table><thead><tr><th>ç±»å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>bg-white</code>, <code>bg-black</code></td><td>èƒŒæ™¯è‰²</td><td><code>.classes('bg-white')</code></td></tr><tr><td><code>bg-blue-50</code>, <code>bg-red-100</code></td><td>æµ…è‰²èƒŒæ™¯</td><td><code>.classes('bg-blue-50')</code></td></tr><tr><td><code>bg-blue-500</code>, <code>bg-red-600</code></td><td>ä¸»è‰²èƒŒæ™¯</td><td><code>.classes('bg-blue-500')</code></td></tr><tr><td><code>text-white</code>, <code>text-black</code></td><td>æ–‡å­—é¢œè‰²</td><td><code>.classes('text-white')</code></td></tr><tr><td><code>text-blue-600</code>, <code>text-red-500</code></td><td>å½©è‰²æ–‡å­—</td><td><code>.classes('text-blue-600')</code></td></tr><tr><td><code>text-xs</code>, <code>text-sm</code>, <code>text-lg</code>, <code>text-xl</code></td><td>æ–‡å­—å¤§å°</td><td><code>.classes('text-lg')</code></td></tr><tr><td><code>font-bold</code>, <code>font-semibold</code></td><td>å­—é‡</td><td><code>.classes('font-bold')</code></td></tr><tr><td><code>text-center</code>, <code>text-left</code></td><td>æ–‡æœ¬å¯¹é½</td><td><code>.classes('text-center')</code></td></tr></tbody></table>
<h4 data-id="heading-7"><strong>ğŸ“¦ è¾¹æ¡†ä¸é˜´å½±</strong></h4>








































<table><thead><tr><th>ç±»å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>border</code>, <code>border-2</code></td><td>è¾¹æ¡†</td><td><code>.classes('border border-2')</code></td></tr><tr><td><code>border-t-2</code>, <code>border-b-4</code></td><td>å•è¾¹è¾¹æ¡†</td><td><code>.classes('border-b-2')</code></td></tr><tr><td><code>border-blue-500</code></td><td>è¾¹æ¡†é¢œè‰²</td><td><code>.classes('border-blue-500')</code></td></tr><tr><td><code>rounded</code>, <code>rounded-lg</code>, <code>rounded-full</code></td><td>åœ†è§’</td><td><code>.classes('rounded-lg')</code></td></tr><tr><td><code>shadow</code>, <code>shadow-lg</code>, <code>shadow-xl</code></td><td>é˜´å½±</td><td><code>.classes('shadow-lg')</code></td></tr><tr><td><code>outline</code>, <code>outline-2</code></td><td>è½®å»“</td><td><code>.classes('outline outline-2')</code></td></tr></tbody></table>
<h4 data-id="heading-8"><strong>ğŸ“ é—´è·ç³»ç»Ÿå‚è€ƒ</strong></h4>













































<table><thead><tr><th>é—´è·å€¼</th><th>å°ºå¯¸</th></tr></thead><tbody><tr><td><code>0</code></td><td>0px</td></tr><tr><td><code>1</code></td><td>0.25rem (4px)</td></tr><tr><td><code>2</code></td><td>0.5rem (8px)</td></tr><tr><td><code>3</code></td><td>0.75rem (12px)</td></tr><tr><td><code>4</code></td><td>1rem (16px)</td></tr><tr><td><code>6</code></td><td>1.5rem (24px)</td></tr><tr><td><code>8</code></td><td>2rem (32px)</td></tr><tr><td><code>12</code></td><td>3rem (48px)</td></tr><tr><td><code>16</code></td><td>4rem (64px)</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-9">3. æŒ‰ç»„ä»¶åˆ†ç±»çš„å®ç”¨ç»„åˆ</h3>
<h4 data-id="heading-10"><strong>æŒ‰é’®</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¸»è¦æŒ‰é’®</span>
ui.button(<span class="hljs-string">'ä¿å­˜'</span>).classes(<span class="hljs-string">'px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600'</span>)

<span class="hljs-comment"># æ¬¡è¦æŒ‰é’®</span>
ui.button(<span class="hljs-string">'å–æ¶ˆ'</span>).classes(<span class="hljs-string">'px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300'</span>)

<span class="hljs-comment"># å¹½çµæŒ‰é’®</span>
ui.button(<span class="hljs-string">'åˆ é™¤'</span>).classes(<span class="hljs-string">'px-4 py-2 border border-red-500 text-red-500 rounded-lg hover:bg-red-50'</span>)
</code></pre>
<h4 data-id="heading-11"><strong>è¾“å…¥æ¡†</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŸºç¡€è¾“å…¥æ¡†</span>
ui.<span class="hljs-built_in">input</span>(<span class="hljs-string">'åç§°'</span>).classes(<span class="hljs-string">'w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500'</span>)

<span class="hljs-comment"># æœç´¢æ¡†</span>
ui.<span class="hljs-built_in">input</span>(<span class="hljs-string">'æœç´¢'</span>).classes(<span class="hljs-string">'w-full px-4 py-2 pl-10 bg-gray-100 border-0 rounded-full focus:bg-white'</span>)
</code></pre>
<h4 data-id="heading-12"><strong>å¡ç‰‡</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¡ç‰‡å®¹å™¨</span>
ui.card().classes(<span class="hljs-string">'p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow'</span>)

<span class="hljs-comment"># å¡ç‰‡æ ‡é¢˜</span>
ui.label(<span class="hljs-string">'æ ‡é¢˜'</span>).classes(<span class="hljs-string">'text-xl font-bold mb-2 text-gray-800'</span>)
</code></pre>
<h4 data-id="heading-13"><strong>å¸ƒå±€å®¹å™¨</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é¡µé¢å®¹å™¨</span>
ui.column().classes(<span class="hljs-string">'w-full max-w-4xl mx-auto p-4 space-y-4'</span>)

<span class="hljs-comment"># å“åº”å¼ç½‘æ ¼</span>
ui.row().classes(<span class="hljs-string">'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-14">4. é«˜çº§æŠ€å·§</h3>
<h4 data-id="heading-15"><strong>A. å“åº”å¼è®¾è®¡</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç§»åŠ¨ç«¯å…¨å®½ï¼Œæ¡Œé¢ç«¯åŠå®½</span>
ui.button(<span class="hljs-string">'å“åº”å¼'</span>).classes(<span class="hljs-string">'w-full md:w-1/2 lg:w-1/3'</span>)

<span class="hljs-comment"># ç§»åŠ¨ç«¯å‚ç›´æ’åˆ—ï¼Œæ¡Œé¢ç«¯æ°´å¹³æ’åˆ—</span>
ui.row().classes(<span class="hljs-string">'flex-col md:flex-row'</span>)
</code></pre>
<h4 data-id="heading-16"><strong>B. çŠ¶æ€ä¼ªç±»</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ‚¬åœæ•ˆæœ</span>
ui.button(<span class="hljs-string">'æ‚¬åœæˆ‘'</span>).classes(<span class="hljs-string">'bg-blue-500 hover:bg-blue-600 active:bg-blue-700'</span>)

<span class="hljs-comment"># ç¦ç”¨çŠ¶æ€</span>
ui.button(<span class="hljs-string">'ç¦ç”¨'</span>).classes(<span class="hljs-string">'bg-gray-300 text-gray-500 cursor-not-allowed'</span>)
</code></pre>
<h4 data-id="heading-17"><strong>C. åŠ¨æ€ç±»å</strong></h4>
<pre><code class="hljs language-python" lang="python">btn = ui.button(<span class="hljs-string">'åŠ¨æ€'</span>)

<span class="hljs-comment"># æ ¹æ®æ¡ä»¶åˆ‡æ¢æ ·å¼</span>
is_error = <span class="hljs-literal">True</span>
<span class="hljs-keyword">if</span> is_error:
    btn.classes(<span class="hljs-string">'bg-red-500'</span>)  <span class="hljs-comment"># é”™è¯¯çŠ¶æ€</span>
<span class="hljs-keyword">else</span>:
    btn.classes(<span class="hljs-string">'bg-green-500'</span>)  <span class="hljs-comment"># æ­£å¸¸çŠ¶æ€</span>
</code></pre>
<h4 data-id="heading-18"><strong>D. è¿½åŠ ä¸ç§»é™¤</strong></h4>
<pre><code class="hljs language-python" lang="python">element = ui.button(<span class="hljs-string">'æµ‹è¯•'</span>)

<span class="hljs-comment"># è¿½åŠ ç±»ï¼ˆä¸è¦†ç›–ï¼‰</span>
element.classes(<span class="hljs-string">'!shadow-lg'</span>)  <span class="hljs-comment"># ä¿ç•™åŸæœ‰ç±»ï¼Œæ·»åŠ é˜´å½±</span>

<span class="hljs-comment"># ç§»é™¤ç‰¹å®šç±»</span>
element.classes(<span class="hljs-string">'remove bg-blue-500'</span>)

<span class="hljs-comment"># å®Œå…¨æ›¿æ¢</span>
element.classes(<span class="hljs-string">'bg-red-500 text-white'</span>)  <span class="hljs-comment"># ç§»é™¤æ‰€æœ‰æ—§ç±»</span>
</code></pre>
<h4 data-id="heading-19"><strong>E. ç»„åˆä½¿ç”¨</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç»“åˆ props å’Œ style</span>
ui.button(<span class="hljs-string">'ç»¼åˆ'</span>).classes(<span class="hljs-string">'px-6 py-3'</span>).props(<span class="hljs-string">'icon=save color=primary'</span>).style(<span class="hljs-string">'font-weight: 600'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-20">5. å¸¸ç”¨ç»„åˆé€ŸæŸ¥è¡¨</h3>
<h4 data-id="heading-21"><strong>è¡¨å•å¸ƒå±€</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ ‡ç­¾ + è¾“å…¥æ¡†å‚ç›´å¸ƒå±€</span>
<span class="hljs-keyword">with</span> ui.column().classes(<span class="hljs-string">'w-full gap-1'</span>):
    ui.label(<span class="hljs-string">'ç”¨æˆ·å'</span>).classes(<span class="hljs-string">'text-sm font-medium text-gray-700'</span>)
    ui.<span class="hljs-built_in">input</span>().classes(<span class="hljs-string">'w-full px-3 py-2 border rounded-md'</span>)
</code></pre>
<h4 data-id="heading-22"><strong>æŒ‰é’®ç»„</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">with</span> ui.row().classes(<span class="hljs-string">'gap-2'</span>):
    ui.button(<span class="hljs-string">'ç¡®å®š'</span>).classes(<span class="hljs-string">'bg-green-500 text-white px-4 py-2 rounded'</span>)
    ui.button(<span class="hljs-string">'å–æ¶ˆ'</span>).classes(<span class="hljs-string">'bg-gray-300 text-gray-700 px-4 py-2 rounded'</span>)
</code></pre>
<h4 data-id="heading-23"><strong>å¡ç‰‡åˆ—è¡¨</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">with</span> ui.grid().classes(<span class="hljs-string">'grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4'</span>):
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):
        <span class="hljs-keyword">with</span> ui.card().classes(<span class="hljs-string">'p-4 bg-white rounded-lg shadow hover:shadow-md'</span>):
            ui.label(<span class="hljs-string">f'å¡ç‰‡ <span class="hljs-subst">{i}</span>'</span>).classes(<span class="hljs-string">'font-bold'</span>)
</code></pre>
<h4 data-id="heading-24"><strong>å¯¼èˆªæ </strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">with</span> ui.row().classes(<span class="hljs-string">'w-full bg-blue-600 text-white p-4 justify-between items-center'</span>):
    ui.label(<span class="hljs-string">'Logo'</span>).classes(<span class="hljs-string">'text-xl font-bold'</span>)
    <span class="hljs-keyword">with</span> ui.row().classes(<span class="hljs-string">'gap-4'</span>):
        ui.link(<span class="hljs-string">'é¦–é¡µ'</span>, <span class="hljs-string">'#'</span>).classes(<span class="hljs-string">'hover:text-blue-200'</span>)
        ui.link(<span class="hljs-string">'å…³äº'</span>, <span class="hljs-string">'#'</span>).classes(<span class="hljs-string">'hover:text-blue-200'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-25">6. ä¸ props/style çš„å¯¹æ¯”</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th><code>.classes()</code></th><th><code>.props()</code></th><th><code>.style()</code></th></tr></thead><tbody><tr><td><strong>ç”¨é€”</strong></td><td>å¸ƒå±€å’Œå¤–è§‚</td><td>ç»„ä»¶è¡Œä¸ºå’Œç±»å‹</td><td>ç²¾ç»†å¾®è°ƒ</td></tr><tr><td><strong>ç¤ºä¾‹</strong></td><td><code>p-4 bg-blue-500</code></td><td><code>color=primary flat</code></td><td><code>border-radius: 10px</code></td></tr><tr><td><strong>ä¼˜å…ˆçº§</strong></td><td>ä¸­</td><td>ä½</td><td>é«˜</td></tr><tr><td><strong>æœ€ä½³å®è·µ</strong></td><td>90% çš„æ ·å¼é—®é¢˜</td><td>ç»„ä»¶ç±»å‹ã€éªŒè¯</td><td>ç‰¹æ®ŠåŠ¨ç”»ã€æ¸å˜</td></tr></tbody></table>
<p><strong>æ¨èå·¥ä½œæµ</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. ç”¨ classes å®šä¹‰åŸºç¡€æ ·å¼</span>
ui.button(<span class="hljs-string">'æäº¤'</span>).classes(<span class="hljs-string">'px-4 py-2 rounded-lg'</span>)

<span class="hljs-comment"># 2. ç”¨ props è®¾ç½®ç»„ä»¶ç‰¹æ€§</span>
.props(<span class="hljs-string">'color=primary icon=send'</span>)

<span class="hljs-comment"># 3. ç”¨ style å¾®è°ƒç‰¹æ®Šæ•ˆæœ</span>
.style(<span class="hljs-string">'box-shadow: 0 4px 6px rgba(0,0,0,0.1)'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-26">7. è°ƒè¯•æŠ€å·§</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰åº”ç”¨çš„ç±»</span>
btn = ui.button(<span class="hljs-string">'æµ‹è¯•'</span>).classes(<span class="hljs-string">'bg-blue-500 text-white'</span>)
<span class="hljs-built_in">print</span>(btn.classes)  <span class="hljs-comment"># è¾“å‡º: bg-blue-500 text-white</span>

<span class="hljs-comment"># åœ¨æµè§ˆå™¨ä¸­å®æ—¶è°ƒè¯•</span>
<span class="hljs-comment"># 1. å³é”®ç‚¹å‡»å…ƒç´  â†’ æ£€æŸ¥</span>
<span class="hljs-comment"># 2. åœ¨æ§åˆ¶å°æµ‹è¯•ç±»å: element.classList.add('shadow-lg')</span>
<span class="hljs-comment"># 3. ç¡®è®¤æ•ˆæœåï¼Œå¤åˆ¶åˆ°ä»£ç ä¸­</span>
</code></pre>
<hr/>
<h3 data-id="heading-27">8. å®æˆ˜ï¼šå®Œæ•´é¡µé¢ç¤ºä¾‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e6631870c9b40d5913f17fcf580069c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGllcm9QQw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766708155&amp;x-signature=4c9lk9us5RlkgIgURte6SOTwNI8%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> nicegui <span class="hljs-keyword">import</span> ui

<span class="hljs-comment"># ä¸»å®¹å™¨ï¼šå“åº”å¼ã€å±…ä¸­ã€æ·±è‰²èƒŒæ™¯</span>
<span class="hljs-keyword">with</span> ui.column().classes(<span class="hljs-string">'w-full min-h-screen bg-gray-50 flex items-center justify-center p-4'</span>):

    <span class="hljs-comment"># å¡ç‰‡ï¼šç™½è‰²èƒŒæ™¯ã€åœ†è§’ã€é˜´å½±ã€æ‚¬åœæ•ˆæœ</span>
    <span class="hljs-keyword">with</span> ui.card().classes(<span class="hljs-string">'w-full max-w-md p-8 bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-shadow'</span>):

        <span class="hljs-comment"># æ ‡é¢˜ï¼šå¤§å·ã€ç²—ä½“ã€å±…ä¸­</span>
        ui.label(<span class="hljs-string">'ç™»å½•'</span>).classes(<span class="hljs-string">'text-3xl font-bold text-center mb-6 text-gray-800'</span>)

        <span class="hljs-comment"># è¾“å…¥æ¡†ç»„</span>
        <span class="hljs-keyword">with</span> ui.column().classes(<span class="hljs-string">'space-y-4'</span>):
            <span class="hljs-comment"># ç”¨æˆ·å</span>
            ui.label(<span class="hljs-string">'ç”¨æˆ·å'</span>).classes(<span class="hljs-string">'text-sm font-medium text-gray-600'</span>)
            ui.<span class="hljs-built_in">input</span>().classes(<span class="hljs-string">'w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent'</span>)

            <span class="hljs-comment"># å¯†ç  - ä¿®æ­£è¿™é‡Œ</span>
            ui.label(<span class="hljs-string">'å¯†ç '</span>).classes(<span class="hljs-string">'text-sm font-medium text-gray-600'</span>)
            ui.<span class="hljs-built_in">input</span>(<span class="hljs-string">'å¯†ç '</span>).props(<span class="hljs-string">'type=password'</span>).classes(<span class="hljs-string">'w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent'</span>)

        <span class="hljs-comment"># æŒ‰é’®ç»„</span>
        <span class="hljs-keyword">with</span> ui.row().classes(<span class="hljs-string">'flex gap-3 mt-6'</span>):
            ui.button(<span class="hljs-string">'ç™»å½•'</span>).classes(<span class="hljs-string">'flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors'</span>)
            ui.button(<span class="hljs-string">'æ³¨å†Œ'</span>).classes(<span class="hljs-string">'flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors'</span>)

        <span class="hljs-comment"># åº•éƒ¨é“¾æ¥</span>
        ui.link(<span class="hljs-string">'å¿˜è®°å¯†ç ï¼Ÿ'</span>, <span class="hljs-string">'#'</span>).classes(<span class="hljs-string">'text-center text-sm text-blue-600 hover:underline mt-4'</span>)

ui.run()

</code></pre>
<hr/>
<p><strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š<code>.classes()</code> æ˜¯ NiceGUI æ ·å¼ç³»ç»Ÿçš„åŸºçŸ³ï¼ŒæŒæ¡ Tailwind é£æ ¼çš„ç±»åç»„åˆï¼Œå°±èƒ½å¿«é€Ÿæ„å»ºç¾è§‚ã€å“åº”å¼çš„ç•Œé¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React + MobX æ–°æ‰‹å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š]]></title>    <link>https://juejin.cn/post/7585039706610794511</link>    <guid>https://juejin.cn/post/7585039706610794511</guid>    <pubDate>2025-12-19T00:41:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585039706610794511" data-draft-id="7585024562217533480" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React + MobX æ–°æ‰‹å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-19T00:41:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¶æ„ä¸ªé©¾é©¾"/> <meta itemprop="url" content="https://juejin.cn/user/35632671099847"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React + MobX æ–°æ‰‹å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/35632671099847/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¶æ„ä¸ªé©¾é©¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T00:41:57.000Z" title="Fri Dec 19 2025 00:41:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="an-old-hope">.hljs-comment,.hljs-quote{color:#b6b18b}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#eb3c54}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#e7ce56}.hljs-attribute{color:#ee7c2b}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#4fb4d7}.hljs-section,.hljs-title{color:#78bb65}.hljs-keyword,.hljs-selector-tag{color:#b45ea4}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1d21;color:#c0c5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React + MobX æ–°æ‰‹å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹© React + MobXï¼Ÿ</h3>
<p>åœ¨å‰ç«¯çŠ¶æ€ç®¡ç†çš„ç”Ÿæ€ä¸­ï¼Œ<strong>Redux</strong> ä»¥ä¸¥æ ¼çš„å•å‘æ•°æ®æµå’Œå¯é¢„æµ‹æ€§è‘—ç§°ï¼Œä½†å…¶ç¹ççš„ boilerplateï¼ˆæ¨¡æ¿ä»£ç ï¼‰å¸¸è¢«å¼€å‘è€…è¯Ÿç—…ï¼›è€Œ <strong>MobX</strong> åˆ™ä»¥ã€Œæç®€ã€å“åº”å¼ã€ä¸ºæ ¸å¿ƒç†å¿µï¼Œä¸»å¼ ã€ŒçŠ¶æ€ç®¡ç†åº”è¯¥æ˜¯ç›´è§‚ä¸”æ— è´Ÿæ‹…çš„ã€ï¼Œå°¤å…¶é€‚åˆä¸­å°å‹é¡¹ç›®æˆ–è¿½æ±‚å¼€å‘æ•ˆç‡çš„åœºæ™¯ã€‚</p>
<p>React è´Ÿè´£ã€Œè§†å›¾å±‚ã€ï¼ˆå¦‚ä½•å±•ç¤ºï¼‰ï¼ŒMobX è´Ÿè´£ã€ŒçŠ¶æ€å±‚ã€ï¼ˆå¦‚ä½•ç®¡ç†æ•°æ®ï¼‰â€”â€”äºŒè€…ç»“åˆèƒ½æ˜¾è‘—é™ä½å¤æ‚äº¤äº’çš„å¼€å‘æˆæœ¬ã€‚æœ¬æ–‡å°†ä»é›¶å¼€å§‹ï¼Œå¸¦ä½ æŒæ¡è¿™å¥—ç»„åˆçš„æ ¸å¿ƒç”¨æ³•ï¼Œæœ€ç»ˆå…·å¤‡ç‹¬ç«‹æ„å»ºç”Ÿäº§çº§åº”ç”¨çš„èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€å‰ç½®çŸ¥è¯†å‡†å¤‡</h3>
<p>å­¦ä¹ å‰éœ€å…·å¤‡ä»¥ä¸‹åŸºç¡€ï¼ˆè‹¥ä¸ç†Ÿæ‚‰å»ºè®®å…ˆè¡¥è¶³ï¼‰ï¼š
âœ… <strong>ES6+ è¯­æ³•</strong>ï¼š<code>class</code>/<code>extends</code>ã€<code>let</code>/<code>const</code>ã€ç®­å¤´å‡½æ•°ã€è§£æ„èµ‹å€¼ã€<code>async/await</code>ï¼›
âœ… <strong>React åŸºç¡€</strong>ï¼šç»„ä»¶ï¼ˆå‡½æ•°/ç±»ï¼‰ã€JSXã€<code>props</code>ã€<code>state</code>ã€ç”Ÿå‘½å‘¨æœŸï¼ˆå‡½æ•°ç»„ä»¶ä¼˜å…ˆç”¨ <code>Hooks</code>ï¼‰ï¼›
âœ… <strong>Node.js &amp; npm</strong>ï¼šç”¨äºåˆå§‹åŒ–é¡¹ç›®å’Œå®‰è£…ä¾èµ–ã€‚</p>
<hr/>
<h3 data-id="heading-3">äºŒã€ç¯å¢ƒæ­å»ºï¼šåˆ›å»ºé¦–ä¸ª React + MobX é¡¹ç›®</h3>
<h4 data-id="heading-4">æ­¥éª¤ 1ï¼šåˆå§‹åŒ– React é¡¹ç›®</h4>
<p>é€šè¿‡ Create React App (CRA) å¿«é€Ÿå¯åŠ¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx create-react-app my-mobx-app --template typescript  <span class="hljs-comment"># æ¨è TypeScriptï¼ˆå¼ºç±»å‹æ›´å®‰å…¨ï¼‰</span>
<span class="hljs-built_in">cd</span> my-mobx-app
</code></pre>
<blockquote>
<p>æç¤ºï¼šè‹¥åå¥½ JavaScriptï¼Œå»æ‰ <code>--template typescript</code> å³å¯ã€‚</p>
</blockquote>
<h4 data-id="heading-5">æ­¥éª¤ 2ï¼šå®‰è£… MobX ç›¸å…³ä¾èµ–</h4>
<pre><code class="hljs language-bash" lang="bash">npm install mobx mobx-react-lite          <span class="hljs-comment"># æ ¸å¿ƒåº“ + å‡½æ•°ç»„ä»¶é€‚é…</span>
npm install --save-dev @types/mobx       <span class="hljs-comment"># TypeScript ç±»å‹å£°æ˜ï¼ˆJS å¯è·³è¿‡ï¼‰</span>
</code></pre>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€React æ ¸å¿ƒæ¦‚å¿µå›é¡¾ï¼ˆå¿…çœ‹ï¼ï¼‰</h3>
<p>MobX éœ€ä¸ React ç»„ä»¶æ·±åº¦é…åˆï¼Œå…ˆå·©å›º React åŸºç¡€ï¼š</p>





























<table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å‡½æ•°ç»„ä»¶</td><td>çº¯å‡½æ•°å½¢å¼ï¼Œæ¨èæ­é… <code>Hooks</code>ï¼ˆå¦‚ <code>useState</code>, <code>useEffect</code>ï¼‰</td></tr><tr><td>ç±»ç»„ä»¶</td><td>ä¼ ç»Ÿ OOP é£æ ¼ï¼Œé€‚ç”¨äºå¤æ‚ç”Ÿå‘½å‘¨æœŸåœºæ™¯</td></tr><tr><td><code>state</code></td><td>ç»„ä»¶å†…éƒ¨å¯å˜æ•°æ®ï¼Œé€šè¿‡ <code>useState</code> æˆ– <code>this.setState()</code> æ›´æ–°</td></tr><tr><td><code>props</code></td><td>çˆ¶ä¼ å­çš„ä¸å¯å˜å‚æ•°ï¼Œç¦æ­¢ç›´æ¥ä¿®æ”¹</td></tr><tr><td><code>Hooks</code></td><td>å‡½æ•°ç»„ä»¶ä¸“ç”¨ APIï¼Œè§£å†³çŠ¶æ€å¤ç”¨éš¾é¢˜ï¼ˆé‡ç‚¹æŒæ¡ <code>useState</code>, <code>useEffect</code>ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">å››ã€MobX æ ¸å¿ƒæ¦‚å¿µè§£æ</h3>
<p>MobX çš„æ ¸å¿ƒå“²å­¦æ˜¯ <strong>ã€Œä¸€åˆ‡çš†å¯è§‚å¯Ÿã€</strong> (Everything is observable)ï¼Œå…¶å››å¤§æ”¯æŸ±å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-8">1. <code>observable</code> - å¯è§‚å¯Ÿçš„æ•°æ®æº</h4>
<p>å°†æ™®é€šæ•°æ®è½¬åŒ–ä¸ºã€Œå“åº”å¼ã€çš„å…³é”®æ ‡è®°ç¬¦ï¼Œæ”¯æŒå¤šç§ç±»å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { makeObservable, observable } <span class="hljs-keyword">from</span> <span class="hljs-string">"mobx"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Store</span> {
  count = <span class="hljs-number">0</span>;                     <span class="hljs-comment">// åŸå§‹ç±»å‹</span>
  todos = [];                   <span class="hljs-comment">// æ•°ç»„</span>
  user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"John"</span> };      <span class="hljs-comment">// å¯¹è±¡</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, {
      <span class="hljs-attr">count</span>: observable,        <span class="hljs-comment">// æ ‡è®°ä¸ºå¯è§‚å¯Ÿ</span>
      <span class="hljs-attr">todos</span>: observable,
      <span class="hljs-attr">user</span>: observable
    });
  }
}
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¿…é¡»é€šè¿‡ <code>makeObservable</code> æ˜¾å¼å£°æ˜å“ªäº›å±æ€§éœ€è¦è¢«è§‚å¯Ÿï¼</p>
</blockquote>
<h4 data-id="heading-9">2. <code>action</code> - ä¿®æ”¹çŠ¶æ€çš„å”¯ä¸€å…¥å£</h4>
<p>æ‰€æœ‰å¯¹ <code>observable</code> çš„å˜æ›´éƒ½å¿…é¡»åŒ…è£¹åœ¨ <code>action</code> ä¸­ï¼Œç¡®ä¿å˜æ›´å¯è¿½è¸ªï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Store</span> {
  <span class="hljs-comment">// ... previous code ...</span>

  <span class="hljs-title function_">addTodo</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {       <span class="hljs-comment">// action æ–¹æ³•</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), text });
  }

  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {                 <span class="hljs-comment">// another action</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> += <span class="hljs-number">1</span>;
  }
}
</code></pre>
<blockquote>
<p>æœ€ä½³å®è·µï¼šå°†æ‰€æœ‰ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨ <code>actions</code> ä¸­ï¼Œé¿å…åˆ†æ•£ä¿®æ”¹çŠ¶æ€çš„é€»è¾‘ã€‚</p>
</blockquote>
<h4 data-id="heading-10">3. <code>computed</code> - è‡ªåŠ¨è®¡ç®—çš„è¡ç”ŸçŠ¶æ€</h4>
<p>åŸºäºå·²æœ‰çš„ <code>observable</code> åŠ¨æ€ç”Ÿæˆæ–°å€¼ï¼Œç±»ä¼¼ Excel å…¬å¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Store</span> {
  totalCompleted = <span class="hljs-number">0</span>;          <span class="hljs-comment">// computed å±æ€§</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, {
      <span class="hljs-attr">totalCompleted</span>: <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> 
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">completed</span>).<span class="hljs-property">length</span>
      )
    });
  }
}
</code></pre>
<blockquote>
<p>âš¡ï¸ ç‰¹æ€§ï¼šå½“ä¾èµ–çš„ <code>observable</code> å˜åŒ–æ—¶ï¼Œ<code>computed</code> ä¼šè‡ªåŠ¨é‡æ–°è®¡ç®—ï¼Œæ— éœ€æ‰‹åŠ¨è§¦å‘ã€‚</p>
</blockquote>
<h4 data-id="heading-11">4. <code>observer</code> - è¿æ¥ React ç»„ä»¶ä¸ MobX çŠ¶æ€</h4>
<p>å°† React ç»„ä»¶åŒ…è£…æˆã€Œå“åº”å¼ã€ï¼Œä½¿å…¶èƒ½æ„ŸçŸ¥ <code>observable</code> çš„å˜åŒ–å¹¶è‡ªåŠ¨æ›´æ–°ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// src/components/Counter.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { observer } <span class="hljs-keyword">from</span> <span class="hljs-string">'mobx-react-lite'</span>;
<span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stores/rootStore'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Counter</span> = <span class="hljs-title function_">observer</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {store.count}&lt;/p &gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> store.increment()}&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  );
});

export default Counter;
</span></code></pre>
<blockquote>
<p>åŸç†ï¼š<code>observer</code> ä¼šåˆ›å»ºä¸€ä¸ªè®¢é˜…è€…ï¼Œå½“å…³è”çš„ <code>observable</code> å˜åŒ–æ—¶ï¼Œç»„ä»¶ä¼šåƒ <code>setState</code> ä¸€æ ·è§¦å‘é‡æ¸²æŸ“ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">äº”ã€å®æˆ˜æ¼”ç»ƒï¼šæ„å»ºä¸€ä¸ªç®€å•çš„å¾…åŠäº‹é¡¹åº”ç”¨</h3>
<h4 data-id="heading-13">ç›®æ ‡åŠŸèƒ½</h4>
<p>âœ”ï¸ æ·»åŠ æ–°çš„å¾…åŠäº‹é¡¹<br/>
âœ”ï¸ åˆ‡æ¢å®ŒæˆçŠ¶æ€<br/>
âœ”ï¸ åˆ é™¤å•ä¸ªäº‹é¡¹<br/>
âœ”ï¸ ç»Ÿè®¡æœªå®Œæˆæ•°é‡</p>
<h4 data-id="heading-14">Step 1: å®šä¹‰ Store ç»“æ„</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/stores/todoStore.ts</span>
<span class="hljs-keyword">import</span> { makeObservable, observable, computed, action } <span class="hljs-keyword">from</span> <span class="hljs-string">"mobx"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">TodoItem</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">completed</span>: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TodoStore</span> {
  <span class="hljs-attr">todos</span>: <span class="hljs-title class_">TodoItem</span>[] = [];
  nextId = <span class="hljs-number">1</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, {
      <span class="hljs-attr">todos</span>: observable,
      <span class="hljs-attr">nextId</span>: observable,
      <span class="hljs-attr">unfinishedCount</span>: <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> !t.<span class="hljs-property">completed</span>).<span class="hljs-property">length</span>),
      <span class="hljs-attr">addTodo</span>: action,
      <span class="hljs-attr">toggleTodo</span>: action,
      <span class="hljs-attr">deleteTodo</span>: action
    });
  }

  <span class="hljs-title function_">addTodo</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">push</span>({
      <span class="hljs-attr">id</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">nextId</span>++,
      text,
      <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span>
    });
  }

  <span class="hljs-title function_">toggleTodo</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">const</span> todo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">id</span> === id);
    <span class="hljs-keyword">if</span> (todo) todo.<span class="hljs-property">completed</span> = !todo.<span class="hljs-property">completed</span>;
  }

  <span class="hljs-title function_">deleteTodo</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">todos</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">id</span> !== id);
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> todoStore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TodoStore</span>();
</code></pre>
<h4 data-id="heading-15">Step 2: åˆ›å»º React ç»„ä»¶</h4>
<h5 data-id="heading-16">MainComponent.tsx (ä¸»é¡µé¢)</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { observer } <span class="hljs-keyword">from</span> <span class="hljs-string">'mobx-react-lite'</span>;
<span class="hljs-keyword">import</span> { todoStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stores/todoStore'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">MainComponent</span> = <span class="hljs-title function_">observer</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> [newTodoText, setNewTodoText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAddTodo</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (newTodoText.<span class="hljs-title function_">trim</span>()) {
      todoStore.<span class="hljs-title function_">addTodo</span>(newTodoText);
      <span class="hljs-title function_">setNewTodoText</span>(<span class="hljs-string">''</span>);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">maxWidth:</span> '<span class="hljs-attr">600px</span>', <span class="hljs-attr">margin:</span> '<span class="hljs-attr">auto</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My Todos<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{newTodoText}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setNewTodoText(e.target.value)}
        placeholder="Enter new todo..."
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleAddTodo}</span>&gt;</span>Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {todoStore.todos.map(todo =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">display:</span> '<span class="hljs-attr">flex</span>', <span class="hljs-attr">alignItems:</span> '<span class="hljs-attr">center</span>' }}&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
              <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
              <span class="hljs-attr">checked</span>=<span class="hljs-string">{todo.completed}</span>
              <span class="hljs-attr">onChange</span>=<span class="hljs-string">{()</span> =&gt;</span> todoStore.toggleTodo(todo.id)}
            /&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">marginLeft:</span> '<span class="hljs-attr">8px</span>', <span class="hljs-attr">textDecoration:</span> <span class="hljs-attr">todo.completed</span> ? '<span class="hljs-attr">line-through</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
              {todo.text}
            <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> todoStore.deleteTodo(todo.id)} style={{ marginLeft: 'auto' }}&gt;
              Delete
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Unfinished: {todoStore.unfinishedCount}&lt;/p &gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  );
});

export default MainComponent;
</span></code></pre>
<h4 data-id="heading-17">Step 3: æŒ‚è½½åˆ°æ ¹èŠ‚ç‚¹</h4>
<p>ç¡®ä¿ä½ çš„ <code>index.tsx</code> æˆ– <code>App.tsx</code> åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Provider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'mobx-react-lite'</span>;  <span class="hljs-comment">// æä¾›å…¨å±€ Store ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">import</span> { rootStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'./stores/rootStore'</span>;  <span class="hljs-comment">// åç»­ä¼šè®²åˆ°å¤š Store æ•´åˆ</span>

<span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">rootStore</span>=<span class="hljs-string">{rootStore}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span></span>,
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>)
);
</code></pre>
<hr/>
<h3 data-id="heading-18">å…­ã€é«˜çº§æŠ€å·§ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-19">1. æ¨¡å—åŒ– Store è®¾è®¡</h4>
<p>éšç€åº”ç”¨è§„æ¨¡å¢é•¿ï¼Œå»ºè®®å°†ä¸åŒåŠŸèƒ½çš„ Store æ‹†åˆ†ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/
â””â”€â”€ stores/
    â”œâ”€â”€ todoStore.ts     <span class="hljs-comment"># å¾…åŠäº‹é¡¹ç›¸å…³çŠ¶æ€</span>
    â”œâ”€â”€ userStore.ts     <span class="hljs-comment"># ç”¨æˆ·ä¿¡æ¯</span>
    â””â”€â”€ rootStore.ts     <span class="hljs-comment"># æ•´åˆæ‰€æœ‰å­ Store</span>
</code></pre>
<p><strong>rootStore.ts ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { todoStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'./todoStore'</span>;
<span class="hljs-keyword">import</span> { userStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'./userStore'</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">RootStore</span> {
  todoStore!: <span class="hljs-keyword">typeof</span> todoStore;
  userStore!: <span class="hljs-keyword">typeof</span> userStore;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">todoStore</span> = todoStore;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userStore</span> = userStore;
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> rootStore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RootStore</span>();
</code></pre>
<h4 data-id="heading-20">2. ä½¿ç”¨ <code>useLocalObservable</code> ç®¡ç†å±€éƒ¨çŠ¶æ€</h4>
<p>å¯¹äºä¸éœ€è¦å…¨å±€å…±äº«çš„çŠ¶æ€ï¼Œå¯ä»¥ç”¨ <code>mobx-react-lite</code> æä¾›çš„ <code>useLocalObservable</code>ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useLocalObservable } <span class="hljs-keyword">from</span> <span class="hljs-string">'mobx-react-lite'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">LocalCounter</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useLocalObservable</span>(<span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> store.<span class="hljs-property">count</span>++
  }));

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Local Count: {store.count}&lt;/p &gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{store.increment}</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  );
};
</span></code></pre>
<h4 data-id="heading-21">3. ä¸ React Router é›†æˆ</h4>
<p>ç»“åˆè·¯ç”±å®ç°é¡µé¢è·³è½¬æ—¶çš„å‚æ•°ä¼ é€’ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// routes/UserDetail.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { observer } <span class="hljs-keyword">from</span> <span class="hljs-string">'mobx-react-lite'</span>;
<span class="hljs-keyword">import</span> { useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { userStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stores/userStore'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">UserDetail</span> = <span class="hljs-title function_">observer</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> { id } = useParams&lt;{ <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> }&gt;();
  <span class="hljs-keyword">const</span> user = userStore.<span class="hljs-title function_">getUserById</span>(<span class="hljs-title class_">Number</span>(id));

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>User Details for ID: {id}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Name: {user?.name}&lt;/p &gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  );
});
</span></code></pre>
<h4 data-id="heading-22">4. æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h4>





















<table><thead><tr><th>åœºæ™¯</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>å¤§å‹åˆ—è¡¨æ¸²æŸ“æ…¢</td><td>ä½¿ç”¨ <code>virtualized-list</code> è™šæ‹Ÿæ»šåŠ¨ï¼Œåªæ¸²æŸ“å¯è§åŒºåŸŸçš„å…ƒç´ </td></tr><tr><td>é¢‘ç¹æ›´æ–°å¯¼è‡´å¡é¡¿</td><td>ç¡®ä¿åªåœ¨å¿…è¦æ—¶æ›´æ–°ç»„ä»¶ï¼Œåˆ©ç”¨ <code>shouldComponentUpdate</code> æˆ– <code>PureComponent</code></td></tr><tr><td>è·¨å±‚çº§ä¼ é€’ Store</td><td>ä½¿ç”¨ React Context æˆ– MobX è‡ªå¸¦çš„ <code>Provider</code> ä½œç”¨åŸŸ</td></tr></tbody></table>
<h4 data-id="heading-23">5. è°ƒè¯•å·¥å…·æ¨è</h4>
<ul>
<li><strong>MobX DevTools</strong>ï¼šChrome æ‰©å±•ï¼Œå®æ—¶æŸ¥çœ‹ <code>observable</code> çŠ¶æ€å˜åŒ–ï¼›</li>
<li><strong>Redux DevTools Alternative</strong>ï¼šè™½ç„¶ä¸æ˜¯å®˜æ–¹æ”¯æŒï¼Œä½†å¯é€šè¿‡æ’ä»¶é—´æ¥è°ƒè¯•ï¼›</li>
<li><strong>VS Code Extensions</strong>ï¼šå¦‚ "MobX Language Support"ï¼Œæä¾›æ™ºèƒ½æç¤ºå’Œè¯­æ³•é«˜äº®ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-24">ä¸ƒã€å¸¸è§é—®é¢˜æ’æŸ¥</h3>
<h4 data-id="heading-25">Q1: ä¸ºä»€ä¹ˆæˆ‘çš„ç»„ä»¶æ²¡æœ‰éšçŠ¶æ€æ›´æ–°ï¼Ÿ</h4>
<p>âŒ å¯èƒ½åŸå› ï¼š</p>
<ul>
<li>å¿˜è®°ç”¨ <code>observer</code> åŒ…è£…ç»„ä»¶ï¼›</li>
<li>ç›´æ¥ä¿®æ”¹äº† <code>observable</code> è€Œæœªé€šè¿‡ <code>action</code>ï¼›</li>
<li>å¾ªç¯å¼•ç”¨å¯¼è‡´ä¾èµ–å…³ç³»å¤±æ•ˆã€‚</li>
</ul>
<p>âœ… è§£å†³æ–¹æ³•ï¼š</p>
<ul>
<li>æ£€æŸ¥ç»„ä»¶æ˜¯å¦è¢« <code>observer</code> åŒ…è£¹ï¼›</li>
<li>ç¡®ä¿æ‰€æœ‰çŠ¶æ€ä¿®æ”¹éƒ½åœ¨ <code>action</code> å†…ï¼›</li>
<li>ä½¿ç”¨ <code>@decorator</code> è¯­æ³•æ›¿ä»£æ‰‹åŠ¨è°ƒç”¨ <code>makeObservable</code>ï¼ˆå¯é€‰ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-26">Q2: TypeScript æŠ¥é”™ â€œCannot find module â€˜mobxâ€™â€</h4>
<p>âŒ åŸå› ï¼šæœªå®‰è£… <code>@types/mobx</code> æˆ– Webpack é…ç½®é”™è¯¯ã€‚
âœ… è§£å†³ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install --save-dev @types/mobx
</code></pre>
<p>å¹¶åœ¨ <code>tsconfig.json</code> ä¸­å¯ç”¨ <code>experimentalDecorators</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"experimentalDecorators"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"allowSyntheticDefaultImports"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-27">Q3: å¦‚ä½•å¤„ç†å¼‚æ­¥æ“ä½œï¼Ÿï¼ˆå¦‚ API è°ƒç”¨ï¼‰</h4>
<p>å¯ä»¥ä½¿ç”¨ <code>async/await</code> ç»“åˆ <code>action</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ArticleStore</span> {
  articles = [];
  loading = <span class="hljs-literal">false</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, {
      <span class="hljs-attr">articles</span>: observable,
      <span class="hljs-attr">loading</span>: observable,
      <span class="hljs-attr">fetchArticles</span>: action
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchArticles</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/articles'</span>);
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">articles</span> = data;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Fetch error:'</span>, error);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>;
    }
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-28">å…«ã€å®Œæ•´é¡¹ç›®ç¤ºä¾‹ï¼šTodo List Pro</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¢å¼ºç‰ˆå¾…åŠäº‹é¡¹åº”ç”¨ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>åˆ†ç±»ç­›é€‰ï¼ˆå…¨éƒ¨/å·²å®Œæˆ/æœªå®Œæˆï¼‰</li>
<li>æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–</li>
<li>æ‹–æ‹½æ’åº</li>
<li>ä¸»é¢˜åˆ‡æ¢</li>
</ul>
<p>ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ­¤å¤„ä»…å±•ç¤ºå…³é”®ä»£ç ç‰‡æ®µï¼š</p>
<h4 data-id="heading-29">æ–°å¢åˆ†ç±»åŠŸèƒ½</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// stores/filterStore.ts</span>
<span class="hljs-keyword">import</span> { makeObservable, observable } <span class="hljs-keyword">from</span> <span class="hljs-string">"mobx"</span>;

<span class="hljs-keyword">enum</span> <span class="hljs-title class_">FilterType</span> { <span class="hljs-title class_">All</span>, <span class="hljs-title class_">Active</span>, <span class="hljs-title class_">Completed</span> }

<span class="hljs-keyword">class</span> <span class="hljs-title class_">FilterStore</span> {
  <span class="hljs-attr">activeFilter</span>: <span class="hljs-title class_">FilterType</span> = <span class="hljs-title class_">FilterType</span>.<span class="hljs-property">All</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, {
      <span class="hljs-attr">activeFilter</span>: observable
    });
  }

  <span class="hljs-title function_">setFilter</span>(<span class="hljs-params">filter: FilterType</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeFilter</span> = filter;
  }
}
</code></pre>
<h4 data-id="heading-30">åº”ç”¨è¿‡æ»¤é€»è¾‘</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> filteredTodos = todoStore.<span class="hljs-property">todos</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> {
  <span class="hljs-keyword">switch</span> (filterStore.<span class="hljs-property">activeFilter</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-title class_">FilterType</span>.<span class="hljs-property">Active</span>: <span class="hljs-keyword">return</span> !todo.<span class="hljs-property">completed</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-title class_">FilterType</span>.<span class="hljs-property">Completed</span>: <span class="hljs-keyword">return</span> todo.<span class="hljs-property">completed</span>;
    <span class="hljs-attr">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
});
</code></pre>
<hr/>
<h3 data-id="heading-31">ä¹ã€æ€»ç»“ä¸ä¸‹ä¸€æ­¥å­¦ä¹ è·¯çº¿</h3>
<h4 data-id="heading-32">å·²å­¦å†…å®¹å›é¡¾</h4>

























<table><thead><tr><th>æ¨¡å—</th><th>å…³é”®ç‚¹</th></tr></thead><tbody><tr><td>React åŸºç¡€</td><td>ç»„ä»¶ã€JSXã€Hooksã€Props/State</td></tr><tr><td>MobX æ ¸å¿ƒ</td><td>observable/action/computed/observer</td></tr><tr><td>å®æˆ˜å¼€å‘</td><td>å¾…åŠäº‹é¡¹åº”ç”¨ã€æ¨¡å—åŒ– Storeã€å¼‚æ­¥å¤„ç†</td></tr><tr><td>é«˜çº§æŠ€å·§</td><td>æ€§èƒ½ä¼˜åŒ–ã€è°ƒè¯•å·¥å…·ã€TypeScript é›†æˆ</td></tr></tbody></table>
<h4 data-id="heading-33">è¿›é˜¶å­¦ä¹ æ–¹å‘</h4>
<p><strong>ä¸‹ä¸€é˜¶æ®µå»ºè®®å­¦ä¹ ï¼š</strong></p>
<ol>
<li><strong>å•å…ƒæµ‹è¯•</strong>ï¼šä½¿ç”¨ Jest + Enzyme æµ‹è¯• MobX Storeï¼›</li>
<li><strong>SSR æœåŠ¡ç«¯æ¸²æŸ“</strong>ï¼šNext.js + MobX å®ç° SEO å‹å¥½çš„åº”ç”¨ï¼›</li>
<li><strong>å¾®å‰ç«¯æ¶æ„</strong>ï¼šQiankun + MobX ç®¡ç†è·¨åº”ç”¨çŠ¶æ€ï¼›</li>
<li><strong>çŠ¶æ€åˆ†å‰²</strong>ï¼šé’ˆå¯¹è¶…å¤§è§„æ¨¡åº”ç”¨çš„çŠ¶æ€æ‹†åˆ†ç­–ç•¥ï¼›</li>
<li><strong>æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”</strong>ï¼šZustand vs Jotai vs Recoilï¼ˆæ–°å…´çŠ¶æ€ç®¡ç†åº“ï¼‰ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-34">é™„å½•ï¼šå¸¸ç”¨å¿«æ·é”®ä¸ cheatsheet</h3>






























<table><thead><tr><th>æ“ä½œ</th><th>VS Code å¿«æ·é”®</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>æ ¼å¼åŒ–ä»£ç </td><td><code>Shift + Alt + F</code></td><td>Prettier æ’ä»¶</td></tr><tr><td>è·³è½¬åˆ°å®šä¹‰å¤„</td><td><code>F12</code></td><td>TypeScript å®Œç¾æ”¯æŒ</td></tr><tr><td>æŸ¥æ‰¾å¼•ç”¨</td><td><code>Ctrl + Shift + F</code></td><td>å…¨å±€æœç´¢å˜é‡/å‡½æ•°å</td></tr><tr><td>å¿«é€Ÿä¿®å¤ ESLint é”™è¯¯</td><td><code>Ctrl + .</code></td><td>è‡ªåŠ¨å¯¼å…¥ç¼ºå¤±çš„ä¾èµ–</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-35">ç»“è¯­</h3>
<p>React + MobX çš„ç»„åˆä»¥å…¶ç®€æ´é«˜æ•ˆçš„ç‰¹ç‚¹ï¼Œå·²æˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„çƒ­é—¨é€‰æ‹©ã€‚é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ä»åŸºç¡€åˆ°å®æˆ˜çš„å…¨éƒ¨æ ¸å¿ƒæŠ€èƒ½ã€‚è®°ä½ï¼š<strong>æœ€å¥½çš„å­¦ä¹ æ–¹æ³•æ˜¯åŠ¨æ‰‹å®è·µ</strong>â€”â€”å°è¯•ç”¨è‡ªå·±çš„åˆ›æ„æ‰©å±•è¿™ä¸ªå¾…åŠäº‹é¡¹åº”ç”¨ï¼Œæ¯”å¦‚æ·»åŠ é—¹é’Ÿæé†’ã€æ—¥å†è§†å›¾ç­‰åŠŸèƒ½ã€‚é‡åˆ°é—®é¢˜æ—¶ï¼ŒæŸ¥é˜…å®˜æ–¹æ–‡æ¡£æˆ–è®¿é—® Stack Overflow ç¤¾åŒºè·å–å¸®åŠ©ã€‚ç¥ä½ ç¼–ç æ„‰å¿«ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VueåŸå‹é“¾ï¼šè®©ä½ çš„ç»„ä»¶ç»§æ‰¿â€œè¶…èƒ½åŠ›â€]]></title>    <link>https://juejin.cn/post/7585206549284093993</link>    <guid>https://juejin.cn/post/7585206549284093993</guid>    <pubDate>2025-12-19T00:56:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585206549284093993" data-draft-id="7585031571890536491" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VueåŸå‹é“¾ï¼šè®©ä½ çš„ç»„ä»¶ç»§æ‰¿â€œè¶…èƒ½åŠ›â€"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-12-19T00:56:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JS_Likers"/> <meta itemprop="url" content="https://juejin.cn/user/1377017277975032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VueåŸå‹é“¾ï¼šè®©ä½ çš„ç»„ä»¶ç»§æ‰¿â€œè¶…èƒ½åŠ›â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1377017277975032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JS_Likers
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T00:56:27.000Z" title="Fri Dec 19 2025 00:56:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¬¢è¿ä½¿ç”¨æˆ‘çš„å°ç¨‹åºğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d25c4001b1b4e6e902dc1f8863bcef2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSlNfTGlrZXJz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766710587&amp;x-signature=qF1h2HykADw6vojLLMlBl8m%2FRbc%3D" alt="small.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä»å®¶æ—é—ä¼ è¯´èµ·ï¼šä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ çš„å®¶æ—æœ‰ä¸ªä¼ å®¶å®æŠ€èƒ½â€”â€”æ‰€æœ‰å®¶æ—æˆå‘˜éƒ½ä¼šå¼¹å‰ä»–ã€‚ä½ ä¸ç”¨ç‰¹æ„å­¦ä¹ ï¼Œå¤©ç”Ÿå°±ä¼šï¼è¿™å°±æ˜¯JavaScriptåŸå‹é“¾çš„ç²¾é«“ï¼š<strong>å¯¹è±¡å¯ä»¥ç»§æ‰¿å…¶â€œç¥–å…ˆâ€çš„èƒ½åŠ›</strong>ã€‚</p>
<p>åœ¨Vueä¸­ï¼Œæ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯ä»¥é€šè¿‡åŸå‹é“¾è®¿é—®åˆ°ä¸€äº›â€œå®¶æ—å…±äº«â€çš„æ–¹æ³•å’Œå±æ€§ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠå¦‚ä½•åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œè®©å¼€å‘å˜å¾—æ›´é«˜æ•ˆæœ‰è¶£ï¼</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆè¦åœ¨Vueä¸­ä½¿ç”¨åŸå‹é“¾ï¼Ÿ</h2>
<p>å‡è®¾ä½ çš„Vueåº”ç”¨éœ€è¦ï¼š</p>
<ul>
<li>åœ¨å¤šä¸ªç»„ä»¶ä¸­è°ƒç”¨åŒä¸€ä¸ªAPI</li>
<li>ä½¿ç”¨ä¸€äº›å…¨å±€çš„å·¥å…·å‡½æ•°</li>
<li>å…±äº«æŸäº›é…ç½®æˆ–å¸¸é‡</li>
</ul>
<p>ä½ å½“ç„¶å¯ä»¥æ¯æ¬¡å¯¼å…¥ï¼Œä½†åŸå‹é“¾ç»™äº†ä½ æ›´é…·çš„é€‰æ‹©ï¼š<strong>è®©æ‰€æœ‰Vueç»„ä»¶è‡ªåŠ¨â€œç»§æ‰¿â€è¿™äº›èƒ½åŠ›</strong>ï¼</p>
<h2 data-id="heading-2">å®æˆ˜ï¼šç»™Vueç»„ä»¶æ·»åŠ â€œè¶…èƒ½åŠ›â€</h2>
<h3 data-id="heading-3">åœºæ™¯1ï¼šå…¨å±€APIè¯·æ±‚å™¨</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.js æˆ–å…¥å£æ–‡ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªé…ç½®å¥½çš„axioså®ä¾‹</span>
<span class="hljs-keyword">const</span> api = axios.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.your-app.com'</span>,
  <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>
})

<span class="hljs-comment">// æŠŠå®ƒæŒ‚åˆ°Vueçš„åŸå‹ä¸Šï¼</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$api</span> = api

<span class="hljs-comment">// ç°åœ¨æ‰€æœ‰Vueç»„ä»¶éƒ½èƒ½è¿™æ ·ç”¨ï¼š</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUser</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// çœ‹ï¼ä¸éœ€è¦importï¼Œç›´æ¥ä½¿ç”¨ï¼</span>
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$api</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/user/123'</span>)
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>)
    }
  }
}
</code></pre>
<p><strong>é­”æ³•æ•ˆæœ</strong>ï¼šæ¯ä¸ªVueç»„ä»¶å®ä¾‹çªç„¶éƒ½å­¦ä¼šäº†å‘é€APIè¯·æ±‚ï¼</p>
<h3 data-id="heading-4">åœºæ™¯2ï¼šå…¨å±€å·¥å…·å‡½æ•°åº“</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// utils.js - ä½ çš„å·¥å…·åº“</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> utils = {
  <span class="hljs-title function_">formatDate</span>(<span class="hljs-params">date</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(date).<span class="hljs-title function_">toLocaleDateString</span>(<span class="hljs-string">'zh-CN'</span>)
  },
  
  <span class="hljs-title function_">currencyFormat</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`Â¥<span class="hljs-subst">${value.toFixed(<span class="hljs-number">2</span>)}</span>`</span>
  },
  
  <span class="hljs-comment">// ä¸€ä¸ªæœ‰è¶£çš„å°åŠŸèƒ½</span>
  <span class="hljs-title function_">makeExciting</span>(<span class="hljs-params">text</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${text}</span>!!! ğŸ‰`</span>
  }
}

<span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { utils } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils'</span>

<span class="hljs-comment">// åˆ†äº«ç»™æ‰€æœ‰Vueç»„ä»¶</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$utils</span> = utils

<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> price = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$utils</span>.<span class="hljs-title function_">currencyFormat</span>(<span class="hljs-number">99.99</span>)
    <span class="hljs-keyword">const</span> date = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$utils</span>.<span class="hljs-title function_">formatDate</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>())
    <span class="hljs-keyword">const</span> message = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$utils</span>.<span class="hljs-title function_">makeExciting</span>(<span class="hljs-string">'ä»»åŠ¡å®Œæˆ'</span>)
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${date}</span>: <span class="hljs-subst">${price}</span> - <span class="hljs-subst">${message}</span>`</span>)
    <span class="hljs-comment">// è¾“å‡ºï¼š2024/1/15: Â¥99.99 - ä»»åŠ¡å®Œæˆ!!! ğŸ‰</span>
  }
}
</code></pre>
<h3 data-id="heading-5">åœºæ™¯3ï¼šå…¨å±€äº‹ä»¶å¹¿æ’­å™¨ï¼ˆç®€åŒ–ç‰ˆï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// event-bus.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">EventBus</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>()

<span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">EventBus</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./event-bus'</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$eventBus</span> = <span class="hljs-title class_">EventBus</span>

<span class="hljs-comment">// ç»„ä»¶A - å‘é€äº‹ä»¶</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">$eventBus</span>.$emit(<span class="hljs-string">'userLoggedIn'</span>, { <span class="hljs-attr">userId</span>: <span class="hljs-number">123</span> })

<span class="hljs-comment">// ç»„ä»¶B - ç›‘å¬äº‹ä»¶</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">$eventBus</span>.$on(<span class="hljs-string">'userLoggedIn'</span>, <span class="hljs-function">(<span class="hljs-params">userData</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç”¨æˆ·<span class="hljs-subst">${userData.userId}</span>ç™»å½•äº†ï¼`</span>)
})
</code></pre>
<h2 data-id="heading-6">åŸå‹é“¾çš„â€œå®¶æ—èšä¼šâ€ï¼šæ·±å…¥äº†è§£</h2>
<p>å½“ä½ è®¿é—®<code>this.$api</code>æ—¶ï¼ŒVueåšäº†ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li><strong>ç¬¬ä¸€æ­¥</strong>ï¼šæŸ¥çœ‹ç»„ä»¶å®ä¾‹è‡ªèº«æœ‰æ²¡æœ‰<code>$api</code>å±æ€§</li>
<li><strong>ç¬¬äºŒæ­¥</strong>ï¼šå¦‚æœæ²¡æœ‰ï¼Œå»å®ƒçš„åŸå‹ï¼ˆ<code>__proto__</code>ï¼‰ä¸Šæ‰¾</li>
<li><strong>ç¬¬ä¸‰æ­¥</strong>ï¼šVueç»„ä»¶çš„åŸå‹æŒ‡å‘äº†Vue.prototype</li>
<li><strong>ç¬¬å››æ­¥</strong>ï¼šæ‰¾åˆ°äº†ï¼å°±æ˜¯æˆ‘ä»¬åœ¨main.jsä¸­æŒ‚è½½çš„<code>$api</code></li>
</ol>
<p>è¿™å°±åƒä½ æ‰¾ä¸åˆ°æ‰‹æœºå……ç”µå™¨ï¼Œå»é—®å¦ˆå¦ˆï¼Œå¦ˆå¦ˆä»â€œå®¶åº­å…¬å…±å‚¨ç‰©æŸœâ€é‡Œæ‹¿ç»™ä½ ä¸€æ ·ï¼</p>
<h2 data-id="heading-7">æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-8">å‘½åçº¦å®šï¼šåŠ ä¸ª<code>$</code>å‰ç¼€</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¥½çš„åšæ³•</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$api</span> = api
<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$utils</span> = utils

<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">$api</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/data'</span>)

<span class="hljs-comment">// ä¸ºä»€ä¹ˆï¼Ÿé¿å…ä¸ç»„ä»¶è‡ªæœ‰å±æ€§å†²çªï¼</span>
</code></pre>
<h3 data-id="heading-9">ä¸è¦æ»¥ç”¨ï¼</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸å»ºè®®è¿™æ ·</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">_</span> = lodash <span class="hljs-comment">// å¤ªé‡äº†ï¼</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">jQuery</span> = $  <span class="hljs-comment">// å¯èƒ½æœ‰å†²çª</span>

<span class="hljs-comment">// å¥½çš„åšæ³•æ˜¯ï¼šæŒ‰éœ€å¯¼å…¥ï¼Œæˆ–åªæŒ‚è½½çœŸæ­£å…¨å±€éœ€è¦çš„</span>
</code></pre>
<h3 data-id="heading-10">TypeScriptç”¨æˆ·æ³¨æ„ï¼</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// éœ€è¦ç±»å‹å£°æ˜</span>
<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">'vue/types/vue'</span> {
  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Vue</span> {
    <span class="hljs-attr">$api</span>: <span class="hljs-title class_">AxiosInstance</span>
    <span class="hljs-attr">$utils</span>: {
      <span class="hljs-attr">formatDate</span>: <span class="hljs-function">(<span class="hljs-params">date: <span class="hljs-built_in">Date</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>
      <span class="hljs-attr">currencyFormat</span>: <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>
    }
  }
}
</code></pre>
<h2 data-id="heading-11">æœ‰è¶£çš„å®é™…æ¡ˆä¾‹ï¼šæ¸¸æˆä¸­çš„è¶…èƒ½åŠ›ç³»ç»Ÿ</h2>
<p>æƒ³è±¡ä½ åœ¨å¼€å‘ä¸€ä¸ªæ¸¸æˆé¢æ¿ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// game-abilities.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> gameAbilities = {
  <span class="hljs-comment">// é‡‘å¸æ ¼å¼åŒ–</span>
  <span class="hljs-title function_">goldFormat</span>(<span class="hljs-params">gold</span>) {
    <span class="hljs-keyword">if</span> (gold &gt;= <span class="hljs-number">1000000</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${(gold / <span class="hljs-number">1000000</span>).toFixed(<span class="hljs-number">1</span>)}</span>Mé‡‘å¸`</span>
    <span class="hljs-keyword">if</span> (gold &gt;= <span class="hljs-number">1000</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${(gold / <span class="hljs-number">1000</span>).toFixed(<span class="hljs-number">1</span>)}</span>Ké‡‘å¸`</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${gold}</span>é‡‘å¸`</span>
  },
  
  <span class="hljs-comment">// ç»éªŒå€¼è®¡ç®—</span>
  <span class="hljs-title function_">calculateExp</span>(<span class="hljs-params">level</span>) {
    <span class="hljs-keyword">return</span> level * <span class="hljs-number">100</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(level, <span class="hljs-number">2</span>) * <span class="hljs-number">50</span>
  },
  
  <span class="hljs-comment">// éšæœºæ‰è½ç‰©å“</span>
  <span class="hljs-title function_">randomDrop</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> items = [<span class="hljs-string">'å®å‰‘'</span>, <span class="hljs-string">'è¯æ°´'</span>, <span class="hljs-string">'å·è½´'</span>, <span class="hljs-string">'å®çŸ³'</span>]
    <span class="hljs-keyword">return</span> items[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * items.<span class="hljs-property">length</span>)]
  }
}

<span class="hljs-comment">// æŒ‚è½½åˆ°VueåŸå‹</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$game</span> = gameAbilities

<span class="hljs-comment">// æ¸¸æˆç»„ä»¶ä¸­</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-title function_">nextLevelExp</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$game</span>.<span class="hljs-title function_">calculateExp</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">playerLevel</span> + <span class="hljs-number">1</span>)
    },
    <span class="hljs-title function_">formattedGold</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$game</span>.<span class="hljs-title function_">goldFormat</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">playerGold</span>)
    }
  },
  
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">openChest</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> drop = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$game</span>.<span class="hljs-title function_">randomDrop</span>()
      <span class="hljs-title function_">alert</span>(<span class="hljs-string">`ä½ è·å¾—äº†ï¼š<span class="hljs-subst">${drop}</span>ï¼`</span>)
    }
  }
}
</code></pre>
<h2 data-id="heading-12">Vue 3çš„ç»„åˆå¼APIä¸­å‘¢ï¼Ÿ</h2>
<p>Vue 3æ¨èä½¿ç”¨provide/injectæˆ–ç»„åˆå¼å‡½æ•°ï¼Œä½†åŸå‹é“¾ä¾ç„¶å¯ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue 3</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$api</span> = api

<span class="hljs-comment">// ç»„åˆå¼APIä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> { getCurrentInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> instance = <span class="hljs-title function_">getCurrentInstance</span>()
    <span class="hljs-comment">// è®¿é—®å…¨å±€å±æ€§</span>
    <span class="hljs-keyword">const</span> api = instance?.<span class="hljs-property">appContext</span>.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$api</span>
    
    <span class="hljs-keyword">return</span> { api }
  }
}
</code></pre>
<h2 data-id="heading-13">æ€»ç»“ï¼šåŸå‹é“¾æ˜¯ä½ çš„Vueâ€œè¶…èƒ½åŠ›å¥—è£…â€</h2>
<p>é€šè¿‡VueåŸå‹é“¾ï¼Œä½ å¯ä»¥ï¼š</p>
<p>âœ… <strong>å‡å°‘é‡å¤ä»£ç </strong> - ä¸€æ¬¡å®šä¹‰ï¼Œåˆ°å¤„ä½¿ç”¨<br/>
âœ… <strong>ä¿æŒä¸€è‡´æ€§</strong> - æ‰€æœ‰ç»„ä»¶ä½¿ç”¨ç›¸åŒçš„å·¥å…·<br/>
âœ… <strong>æé«˜å¼€å‘æ•ˆç‡</strong> - æ— éœ€é¢‘ç¹å¯¼å…¥<br/>
âœ… <strong>åˆ›å»ºæœ‰è¶£æŠ½è±¡</strong> - åƒç»™ç»„ä»¶æ·»åŠ â€œè¶…èƒ½åŠ›â€</p>
<p><strong>è®°ä½</strong>ï¼šè¶…èƒ½åŠ›è¶Šå¤§ï¼Œè´£ä»»è¶Šå¤§ï¼åˆç†ä½¿ç”¨åŸå‹é“¾ï¼Œåˆ«è®©å®ƒå˜æˆâ€œå…¨å±€æ±¡æŸ“å¤§é­”ç‹â€ã€‚</p>
<hr/>
<p><strong>å°æŒ‘æˆ˜</strong>ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­æ‰¾ä¸€ä¸ªé‡å¤å¯¼å…¥ä¸‰æ¬¡ä»¥ä¸Šçš„å·¥å…·å‡½æ•°ï¼Œè¯•è¯•æŠŠå®ƒæŒ‚è½½åˆ°VueåŸå‹ä¸Šï¼ä½“éªŒä¸€ä¸‹â€œå®¶æ—é—ä¼ â€çš„ä¾¿åˆ©å§ï¼âœ¨</p>
<p>ä¸‹æ¬¡å½“ä½ çœ‹åˆ°<code>this.$</code>å¼€å¤´çš„ä¸œè¥¿ï¼Œå°±çŸ¥é“ï¼šè¿™æ˜¯VueåŸå‹é“¾åœ¨æ–½å±•å®ƒçš„é­”æ³•ï¼æœ‰ä»€ä¹ˆæœ‰è¶£çš„ç”¨æ³•ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„â€œè¶…èƒ½åŠ›â€è®¾è®¡ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ DOM çš„ dispatchEvent API]]></title>    <link>https://juejin.cn/post/7585289701792333850</link>    <guid>https://juejin.cn/post/7585289701792333850</guid>    <pubDate>2025-12-19T00:51:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585289701792333850" data-draft-id="7579499567869771826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ DOM çš„ dispatchEvent API"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-19T00:51:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ycgg"/> <meta itemprop="url" content="https://juejin.cn/user/1926000101039192"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ DOM çš„ dispatchEvent API
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1926000101039192/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ycgg
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-19T00:51:36.000Z" title="Fri Dec 19 2025 00:51:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘çš„DOMäº‹ä»¶ä½“ç³»ä¸­ï¼Œ<code>dispatchEvent</code>æ˜¯ä¸€ä¸ªæ ¸å¿ƒä¸”çµæ´»çš„APIã€‚å®ƒä¸ä»…èƒ½æ¨¡æ‹Ÿç”¨æˆ·çš„åŸç”Ÿäº¤äº’ï¼Œè¿˜èƒ½å®ç°ç»„ä»¶é—´çš„è§£è€¦é€šä¿¡ï¼Œç”šè‡³æ”¯æŒäºŒè¿›åˆ¶æ•°æ®çš„ä¼ é€’ã€‚æœ¬æ–‡å°†ä»åŸºç¡€ç”¨æ³•åˆ°è¿›é˜¶æŠ€å·§ï¼Œå…¨æ–¹ä½æ‹†è§£è¿™ä¸ªAPIçš„å®ç”¨ä»·å€¼ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€dispatchEventæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p><code>dispatchEvent</code>å±äº<code>EventTarget</code>æ¥å£ï¼ˆDOMå…ƒç´ ã€<code>document</code>ã€<code>window</code>ç­‰å¯¹è±¡å‡å·²å®ç°è¯¥æ¥å£ï¼‰ï¼Œå…¶æ ¸å¿ƒä½œç”¨æ˜¯<strong>æ‰‹åŠ¨è§¦å‘æŒ‡å®šå¯¹è±¡ä¸Šçš„äº‹ä»¶</strong>ã€‚æ— è®ºæ˜¯æµè§ˆå™¨åŸç”Ÿäº‹ä»¶ï¼ˆå¦‚<code>click</code>ã€<code>input</code>ï¼‰ï¼Œè¿˜æ˜¯å¼€å‘è€…è‡ªå®šä¹‰çš„äº‹ä»¶ï¼Œéƒ½èƒ½é€šè¿‡å®ƒè§¦å‘ï¼Œä¸”è§¦å‘æµç¨‹å®Œå…¨éµå¾ªåŸç”Ÿäº‹ä»¶çš„â€œæ•è·-ç›®æ ‡-å†’æ³¡â€ä¸‰é˜¶æ®µã€‚</p>
<h3 data-id="heading-1">1. åŸºæœ¬è¯­æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> isDefaultPrevented = eventTarget.<span class="hljs-title function_">dispatchEvent</span>(event);
</code></pre>
<ul>
<li><strong><code>eventTarget</code></strong>ï¼šäº‹ä»¶è§¦å‘çš„ç›®æ ‡å¯¹è±¡ï¼Œæ¯”å¦‚æŒ‰é’®ã€è¾“å…¥æ¡†ã€<code>window</code>ç­‰ï¼›</li>
<li><strong><code>event</code></strong>ï¼šå¿…é¡»æ˜¯<code>Event</code>æˆ–å…¶å­ç±»ï¼ˆå¦‚<code>CustomEvent</code>ï¼‰å®ä¾‹ï¼ŒåŒ…å«äº‹ä»¶ç±»å‹ã€è¡Œä¸ºè§„åˆ™ç­‰ä¿¡æ¯ï¼›</li>
<li><strong>è¿”å›å€¼</strong>ï¼šå¸ƒå°”å€¼ï¼Œ<code>false</code>è¡¨ç¤ºäº‹ä»¶è¢«<code>preventDefault()</code>é˜»æ­¢äº†é»˜è®¤è¡Œä¸ºï¼Œ<code>true</code>åˆ™è¡¨ç¤ºæœªè¢«é˜»æ­¢ã€‚</li>
</ul>
<h3 data-id="heading-2">2. äº‹ä»¶æ„é€ çš„æ ¸å¿ƒé…ç½®</h3>
<p>åˆ›å»º<code>Event</code>æˆ–<code>CustomEvent</code>æ—¶ï¼Œå¯é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°é…ç½®äº‹ä»¶è¡Œä¸ºï¼Œå…³é”®é€‰é¡¹å¦‚ä¸‹ï¼š</p>

























<table><thead><tr><th>é€‰é¡¹</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>bubbles</code></td><td>å¸ƒå°”å€¼</td><td>é»˜è®¤<code>false</code>ï¼Œæ˜¯å¦å…è®¸äº‹ä»¶å†’æ³¡åˆ°çˆ¶å…ƒç´ </td></tr><tr><td><code>cancelable</code></td><td>å¸ƒå°”å€¼</td><td>é»˜è®¤<code>false</code>ï¼Œæ˜¯å¦å…è®¸é€šè¿‡<code>preventDefault()</code>é˜»æ­¢é»˜è®¤è¡Œä¸º</td></tr><tr><td><code>composed</code></td><td>å¸ƒå°”å€¼</td><td>é»˜è®¤<code>false</code>ï¼Œæ˜¯å¦å…è®¸äº‹ä»¶ç©¿é€Shadow DOMè¾¹ç•Œï¼ˆWeb Componentsåœºæ™¯ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-3">äºŒã€dispatchEventçš„åŸºç¡€ç”¨æ³•</h2>
<p><code>dispatchEvent</code>çš„åŸºç¡€ç”¨æ³•åˆ†ä¸ºä¸¤ç±»ï¼šè§¦å‘åŸç”Ÿäº‹ä»¶å’Œè§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒçš„å¼€å‘éœ€æ±‚ã€‚</p>
<h3 data-id="heading-4">1. è§¦å‘åŸç”Ÿäº‹ä»¶ï¼šæ¨¡æ‹Ÿç”¨æˆ·äº¤äº’</h3>
<p>åœ¨éœ€è¦è‡ªåŠ¨åŒ–æ“ä½œæˆ–æ‰¹é‡è§¦å‘äº¤äº’æ—¶ï¼Œå¯é€šè¿‡<code>dispatchEvent</code>æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸ºï¼Œæ•ˆæœä¸çœŸå®æ“ä½œä¸€è‡´ã€‚</p>
<h4 data-id="heading-5">ç¤ºä¾‹1ï¼šæ¨¡æ‹ŸæŒ‰é’®ç‚¹å‡»</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"btn"</span>&gt;</span>æ™®é€šæŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>);
<span class="hljs-comment">// ç»‘å®šç‚¹å‡»ç›‘å¬å™¨</span>
btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŒ‰é’®è¢«ç‚¹å‡»äº†'</span>);
});
<span class="hljs-comment">// æ‰‹åŠ¨è§¦å‘ç‚¹å‡»äº‹ä»¶</span>
btn.<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(<span class="hljs-string">'click'</span>)); <span class="hljs-comment">// æ§åˆ¶å°è¾“å‡ºâ€œæŒ‰é’®è¢«ç‚¹å‡»äº†â€</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">ç¤ºä¾‹2ï¼šæ¨¡æ‹Ÿè¾“å…¥æ¡†è¾“å…¥</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"input"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å†…å®¹"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'input'</span>);
input.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¾“å…¥å†…å®¹ï¼š'</span>, e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
});
<span class="hljs-comment">// å…ˆä¿®æ”¹è¾“å…¥æ¡†å€¼ï¼Œå†è§¦å‘inputäº‹ä»¶</span>
input.<span class="hljs-property">value</span> = <span class="hljs-string">'æ¨¡æ‹Ÿè¾“å…¥çš„å†…å®¹'</span>;
input.<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(<span class="hljs-string">'input'</span>)); <span class="hljs-comment">// æ§åˆ¶å°è¾“å‡ºâ€œè¾“å…¥å†…å®¹ï¼šæ¨¡æ‹Ÿè¾“å…¥çš„å†…å®¹â€</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-7">2. è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼šå®ç°ç»„ä»¶é€šä¿¡</h3>
<p>è‡ªå®šä¹‰äº‹ä»¶æ˜¯æ¨¡å—åŒ–å¼€å‘çš„â€œè§£è€¦ç¥å™¨â€ï¼Œé€šè¿‡<code>CustomEvent</code>çš„<code>detail</code>å±æ€§è¿˜èƒ½ä¼ é€’è‡ªå®šä¹‰æ•°æ®ï¼Œå¸¸ç”¨äºçˆ¶å­ç»„ä»¶æˆ–å…„å¼Ÿç»„ä»¶é—´çš„é€šä¿¡ã€‚</p>
<h4 data-id="heading-8">ç¤ºä¾‹ï¼šè‡ªå®šä¹‰äº‹ä»¶ä¼ é€’ç”¨æˆ·ä¿¡æ¯</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"parent"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sendBtn"</span>&gt;</span>å‘é€ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> parent = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'parent'</span>);
<span class="hljs-keyword">const</span> sendBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sendBtn'</span>);

<span class="hljs-comment">// çˆ¶å…ƒç´ ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶</span>
parent.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'user-info'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°ç”¨æˆ·ä¿¡æ¯ï¼š'</span>, e.<span class="hljs-property">detail</span>);
});

<span class="hljs-comment">// æŒ‰é’®ç‚¹å‡»æ—¶è§¦å‘è‡ªå®šä¹‰äº‹ä»¶</span>
sendBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> customEvent = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">'user-info'</span>, {
    <span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å…è®¸å†’æ³¡ï¼Œçˆ¶å…ƒç´ æ‰èƒ½ç›‘å¬åˆ°</span>
    <span class="hljs-attr">detail</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> } <span class="hljs-comment">// ä¼ é€’çš„è‡ªå®šä¹‰æ•°æ®</span>
  });
  sendBtn.<span class="hljs-title function_">dispatchEvent</span>(customEvent);
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€dispatchEventçš„é«˜é¢‘ä½¿ç”¨åœºæ™¯</h2>
<p>é™¤äº†åŸºç¡€ç”¨æ³•ï¼Œ<code>dispatchEvent</code>åœ¨å®é™…å¼€å‘ä¸­è¿˜æœ‰è¯¸å¤šé«˜é¢‘åœºæ™¯ï¼Œè¦†ç›–æµ‹è¯•ã€ç»„ä»¶é€šä¿¡ã€è¡¨å•è”åŠ¨ç­‰æ ¸å¿ƒç¯èŠ‚ã€‚</p>
<h3 data-id="heading-10">1. è‡ªåŠ¨åŒ–æµ‹è¯•ï¼šè¿˜åŸçœŸå®ç”¨æˆ·æ“ä½œ</h3>
<p>åœ¨Jestã€Cypressç­‰æµ‹è¯•æ¡†æ¶ä¸­ï¼Œ<code>dispatchEvent</code>æ˜¯æ¨¡æ‹Ÿç”¨æˆ·äº¤äº’çš„æ ‡å‡†æ–¹å¼ï¼Œèƒ½éªŒè¯ç»„ä»¶åœ¨çœŸå®æ“ä½œä¸‹çš„è¡Œä¸ºï¼Œæ¯”ç›´æ¥è°ƒç”¨ç»„ä»¶æ–¹æ³•æ›´å¯é ã€‚</p>
<h4 data-id="heading-11">ç¤ºä¾‹ï¼šæµ‹è¯•ç™»å½•è¡¨å•æäº¤</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { render, screen } <span class="hljs-keyword">from</span> <span class="hljs-string">'@testing-library/react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LoginForm</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./LoginForm'</span>;

<span class="hljs-title function_">test</span>(<span class="hljs-string">'ç‚¹å‡»ç™»å½•æŒ‰é’®èƒ½è§¦å‘è¡¨å•æäº¤'</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LoginForm</span> /&gt;</span></span>);
  <span class="hljs-comment">// æ¨¡æ‹Ÿè¾“å…¥ç”¨æˆ·å</span>
  <span class="hljs-keyword">const</span> usernameInput = screen.<span class="hljs-title function_">getByLabelText</span>(<span class="hljs-string">'ç”¨æˆ·å'</span>);
  usernameInput.<span class="hljs-property">value</span> = <span class="hljs-string">'test-user'</span>;
  usernameInput.<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(<span class="hljs-string">'input'</span>, { <span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span> }));
  <span class="hljs-comment">// æ¨¡æ‹Ÿç‚¹å‡»ç™»å½•æŒ‰é’®</span>
  <span class="hljs-keyword">const</span> loginBtn = screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">'button'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç™»å½•'</span> });
  loginBtn.<span class="hljs-title function_">click</span>();
  <span class="hljs-comment">// éªŒè¯è¡¨å•æäº¤äº‹ä»¶è¢«è§¦å‘</span>
  <span class="hljs-keyword">const</span> form = screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">'form'</span>);
  <span class="hljs-title function_">expect</span>(form.<span class="hljs-property">dispatchEvent</span>).<span class="hljs-title function_">toHaveBeenCalled</span>();
});
</code></pre>
<h3 data-id="heading-12">2. Web Componentsé€šä¿¡ï¼šç©¿é€Shadow DOM</h3>
<p>Web Componentsçš„Shadow DOMä¼šéš”ç¦»å†…éƒ¨å…ƒç´ ï¼Œé€šè¿‡<code>dispatchEvent</code>æ­é…<code>composed: true</code>ï¼Œå¯å®ç°å†…éƒ¨äº‹ä»¶å‘å¤–éƒ¨DOMçš„ç©¿é€ï¼Œæ˜¯ç»„ä»¶å¯¹å¤–æš´éœ²çŠ¶æ€çš„æ ‡å‡†æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-13">ç¤ºä¾‹ï¼šè‡ªå®šä¹‰ç»„ä»¶è§¦å‘å¤–éƒ¨äº‹ä»¶</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®šä¹‰Web Component</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserCard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-keyword">const</span> shadow = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachShadow</span>({ <span class="hljs-attr">mode</span>: <span class="hljs-string">'open'</span> });
    shadow.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;button id="editBtn"&gt;ç¼–è¾‘ç”¨æˆ·&lt;/button&gt;'</span>;
    <span class="hljs-comment">// å†…éƒ¨æŒ‰é’®è§¦å‘è‡ªå®šä¹‰äº‹ä»¶</span>
    shadow.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'editBtn'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> editEvent = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">'user-edit'</span>, {
        <span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">composed</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å…³é”®ï¼šç©¿é€Shadow DOM</span>
        <span class="hljs-attr">detail</span>: { <span class="hljs-attr">userId</span>: <span class="hljs-number">1001</span> }
      });
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">dispatchEvent</span>(editEvent);
    });
  }
}
customElements.<span class="hljs-title function_">define</span>(<span class="hljs-string">'user-card'</span>, <span class="hljs-title class_">UserCard</span>);
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å¤–éƒ¨é¡µé¢ç›‘å¬äº‹ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">user-card</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">user-card</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'user-card'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'user-edit'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç¼–è¾‘ç”¨æˆ·IDï¼š'</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">userId</span>); <span class="hljs-comment">// è¾“å‡º1001</span>
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-14">3. å¤šç»„ä»¶çŠ¶æ€åŒæ­¥ï¼šå…¨å±€äº‹ä»¶å¹¿æ’­</h3>
<p>å½“å¤šä¸ªä¸ç›¸å…³ç»„ä»¶ï¼ˆå¦‚å¤´éƒ¨ã€ä¾§è¾¹æ ï¼‰éœ€è¦åŒæ­¥çŠ¶æ€ï¼ˆå¦‚ä¸»é¢˜åˆ‡æ¢ï¼‰æ—¶ï¼Œå¯åŸºäº<code>window</code>æ­å»ºäº‹ä»¶æ€»çº¿ï¼Œé€šè¿‡<code>dispatchEvent</code>å®ç°æ— è€¦åˆçš„çŠ¶æ€åŒæ­¥ã€‚</p>
<h4 data-id="heading-15">ç¤ºä¾‹ï¼šå…¨å±€ä¸»é¢˜åˆ‡æ¢</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å°è£…äº‹ä»¶æ€»çº¿</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">EventBus</span> = {
  <span class="hljs-attr">on</span>: <span class="hljs-function">(<span class="hljs-params">type, handler</span>) =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(type, handler),
  <span class="hljs-attr">emit</span>: <span class="hljs-function">(<span class="hljs-params">type, data</span>) =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(type, { <span class="hljs-attr">detail</span>: data }))
};

<span class="hljs-comment">// ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ï¼ˆäº‹ä»¶å‘é€æ–¹ï¼‰</span>
<span class="hljs-keyword">const</span> themeToggle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'theme-toggle'</span>);
themeToggle.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> isDark = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'dark'</span>);
  <span class="hljs-title class_">EventBus</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'theme-change'</span>, { isDark });
});

<span class="hljs-comment">// å¤´éƒ¨ç»„ä»¶ï¼ˆäº‹ä»¶æ¥æ”¶æ–¹ï¼‰</span>
<span class="hljs-title class_">EventBus</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'theme-change'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'header'</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'dark-theme'</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">isDark</span>);
});

<span class="hljs-comment">// ä¾§è¾¹æ ç»„ä»¶ï¼ˆäº‹ä»¶æ¥æ”¶æ–¹ï¼‰</span>
<span class="hljs-title class_">EventBus</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'theme-change'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sidebar'</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'dark-theme'</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">isDark</span>);
});
</code></pre>
<h3 data-id="heading-16">4. è¡¨å•è”åŠ¨ï¼šè§¦å‘å…³è”å­—æ®µéªŒè¯</h3>
<p>åœ¨å¤æ‚è¡¨å•ä¸­ï¼Œå¯é€šè¿‡<code>dispatchEvent</code>è§¦å‘å…³è”å­—æ®µçš„éªŒè¯é€»è¾‘ï¼Œæ¯”å¦‚å¯†ç è¾“å…¥åè‡ªåŠ¨æ ¡éªŒâ€œç¡®è®¤å¯†ç â€ï¼Œçœä»½é€‰æ‹©åæ›´æ–°åŸå¸‚ä¸‹æ‹‰åˆ—è¡¨ã€‚</p>
<h4 data-id="heading-17">ç¤ºä¾‹ï¼šå¯†ç ä¸€è‡´æ€§éªŒè¯</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"å¯†ç "</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"confirmPwd"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ç¡®è®¤å¯†ç "</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"error"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: red;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> password = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'password'</span>);
<span class="hljs-keyword">const</span> confirmPwd = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'confirmPwd'</span>);
<span class="hljs-keyword">const</span> error = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'error'</span>);

<span class="hljs-comment">// å¯†ç è¾“å…¥è§¦å‘ç¡®è®¤å¯†ç éªŒè¯</span>
password.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-function">() =&gt;</span> {
  confirmPwd.<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(<span class="hljs-string">'validate'</span>, { <span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span> }));
});

<span class="hljs-comment">// ç›‘å¬ç¡®è®¤å¯†ç çš„éªŒè¯äº‹ä»¶</span>
confirmPwd.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'validate'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (confirmPwd.<span class="hljs-property">value</span> &amp;&amp; confirmPwd.<span class="hljs-property">value</span> !== password.<span class="hljs-property">value</span>) {
    error.<span class="hljs-property">textContent</span> = <span class="hljs-string">'ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´'</span>;
  } <span class="hljs-keyword">else</span> {
    error.<span class="hljs-property">textContent</span> = <span class="hljs-string">''</span>;
  }
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-18">5. ç¬¬ä¸‰æ–¹åº“é€‚é…ï¼šæ— å›è°ƒåœºæ™¯çš„æ¡¥æ¥</h3>
<p>éƒ¨åˆ†è€ç‰ˆæœ¬ç¬¬ä¸‰æ–¹åº“æœªæä¾›å›è°ƒå‡½æ•°ï¼Œä»…æ”¯æŒé€šè¿‡DOMäº‹ä»¶è§¦å‘é€»è¾‘ï¼Œæ­¤æ—¶<code>dispatchEvent</code>å¯ä½œä¸ºæ¡¥æ¥å·¥å…·ï¼Œå®ç°è‡ªå®šä¹‰é€»è¾‘ä¸ç¬¬ä¸‰æ–¹åº“çš„äº¤äº’ã€‚</p>
<h4 data-id="heading-19">ç¤ºä¾‹ï¼šé€šçŸ¥å›¾è¡¨åº“æ•°æ®å°±ç»ª</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">OldChart</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'old-chart-lib'</span>;
<span class="hljs-keyword">const</span> chart = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OldChart</span>(<span class="hljs-string">'#chart-container'</span>);

<span class="hljs-comment">// å¼‚æ­¥è·å–æ•°æ®åè§¦å‘åº“çš„å°±ç»ªäº‹ä»¶</span>
<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/chart-data'</span>)
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
    chart.<span class="hljs-title function_">setData</span>(data);
    <span class="hljs-comment">// è§¦å‘åº“ç›‘å¬çš„chart-readyäº‹ä»¶</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chart-container'</span>).<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(<span class="hljs-string">'chart-ready'</span>));
  });
</code></pre>
<h2 data-id="heading-20">å››ã€è¿›é˜¶æŠ€å·§ï¼šä¼ é€’äºŒè¿›åˆ¶æ•°æ®</h2>
<p>å¾ˆå¤šå¼€å‘è€…è¯¯ä»¥ä¸º<code>dispatchEvent</code>åªèƒ½ä¼ é€’åŸºç¡€æ•°æ®ï¼Œå®é™…ä¸Š<code>CustomEvent</code>çš„<code>detail</code>å±æ€§æ”¯æŒ<strong>ä»»æ„JavaScriptç±»å‹</strong>ï¼ŒåŒ…æ‹¬<code>Blob</code>ã€<code>ArrayBuffer</code>ç­‰äºŒè¿›åˆ¶æ•°æ®ï¼Œå¯æ»¡è¶³æ–‡ä»¶å¤„ç†ã€æµæ•°æ®äº¤äº’ç­‰åœºæ™¯ã€‚</p>
<h3 data-id="heading-21">1. ä¼ é€’Blobï¼šå¤„ç†æ–‡ä»¶ç±»äºŒè¿›åˆ¶æ•°æ®</h3>
<p><code>Blob</code>æ˜¯å‰ç«¯äºŒè¿›åˆ¶å¤§å¯¹è±¡çš„å®¹å™¨ï¼Œå¸¸ç”¨äºå°è£…æ–‡ä»¶ã€æ–‡æœ¬äºŒè¿›åˆ¶æµï¼Œä¼ é€’åå¯ç›´æ¥ç”¨äºä¸‹è½½æˆ–é¢„è§ˆã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sendBlobBtn"</span>&gt;</span>ä¼ é€’Blobæ–‡ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> sendBlobBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sendBlobBtn'</span>);
<span class="hljs-comment">// å‘é€æ–¹ï¼šåˆ›å»ºBlobå¹¶ä¼ é€’</span>
sendBlobBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> text = <span class="hljs-string">'è¿™æ˜¯ä¸€æ®µäºŒè¿›åˆ¶æ–‡æœ¬'</span>;
  <span class="hljs-keyword">const</span> uint8Array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>().<span class="hljs-title function_">encode</span>(text);
  <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([uint8Array], { <span class="hljs-attr">type</span>: <span class="hljs-string">'text/plain'</span> });
  
  <span class="hljs-keyword">const</span> blobEvent = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">'binary-blob'</span>, {
    <span class="hljs-attr">detail</span>: { blob, <span class="hljs-attr">fileName</span>: <span class="hljs-string">'test.txt'</span> }
  });
  sendBlobBtn.<span class="hljs-title function_">dispatchEvent</span>(blobEvent);
});

<span class="hljs-comment">// æ¥æ”¶æ–¹ï¼šç”Ÿæˆä¸‹è½½é“¾æ¥</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'binary-blob'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { blob, fileName } = e.<span class="hljs-property">detail</span>;
  <span class="hljs-keyword">const</span> downloadUrl = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob);
  <span class="hljs-keyword">const</span> a = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'a'</span>);
  a.<span class="hljs-property">href</span> = downloadUrl;
  a.<span class="hljs-property">download</span> = fileName;
  a.<span class="hljs-title function_">click</span>();
  <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(downloadUrl); <span class="hljs-comment">// é‡Šæ”¾å†…å­˜</span>
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-22">2. ä¼ é€’ArrayBufferï¼šå¤„ç†åº•å±‚äºŒè¿›åˆ¶æ•°æ®</h3>
<p><code>ArrayBuffer</code>æ˜¯åŸå§‹äºŒè¿›åˆ¶ç¼“å†²åŒºï¼Œé€‚åˆä¼ é€’åŠ å¯†æ•°æ®ã€äºŒè¿›åˆ¶åè®®æ•°æ®ï¼Œæ¥æ”¶æ–¹éœ€é€šè¿‡<code>TypedArray</code>æˆ–<code>DataView</code>è§£æã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‘é€æ–¹ï¼šåˆ›å»ºArrayBuffer</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sendBuffer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">16</span>);
  <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">16</span>; i++) view[i] = i + <span class="hljs-number">1</span>;
  
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">'binary-buffer'</span>, {
    <span class="hljs-attr">detail</span>: { buffer }
  }));
}

<span class="hljs-comment">// æ¥æ”¶æ–¹ï¼šè§£æArrayBuffer</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'binary-buffer'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(e.<span class="hljs-property">detail</span>.<span class="hljs-property">buffer</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'äºŒè¿›åˆ¶æ•°æ®ï¼š'</span>, <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(view)); <span class="hljs-comment">// è¾“å‡º[1,2,...,16]</span>
});

<span class="hljs-title function_">sendBuffer</span>();
</code></pre>
<h3 data-id="heading-23">3. äºŒè¿›åˆ¶ä¼ é€’çš„æ³¨æ„äº‹é¡¹</h3>
<ul>
<li><strong>å¼•ç”¨ä¼ é€’ç‰¹æ€§</strong>ï¼šäºŒè¿›åˆ¶å¯¹è±¡é€šè¿‡<code>detail</code>ä¼ é€’çš„æ˜¯å¼•ç”¨ï¼Œè‹¥å‘é€æ–¹åç»­ä¿®æ”¹æ•°æ®ï¼Œæ¥æ”¶æ–¹ä¹Ÿä¼šåŒæ­¥å˜æ›´ï¼Œå¦‚éœ€éš”ç¦»æ•°æ®å¯åˆ›å»ºå‰¯æœ¬ï¼ˆå¦‚<code>blob.slice(0)</code>ï¼‰ï¼›</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šå¤„ç†å¤§æ–‡ä»¶äºŒè¿›åˆ¶æ•°æ®æ—¶ï¼Œéœ€åŠæ—¶é‡Šæ”¾<code>URL.createObjectURL</code>åˆ›å»ºçš„é“¾æ¥ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼›</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šç°ä»£æµè§ˆå™¨å‡æ”¯æŒäºŒè¿›åˆ¶æ•°æ®ä¼ é€’ï¼Œæ— éœ€è€ƒè™‘IEç­‰è€æ—§ç¯å¢ƒã€‚</li>
</ul>
<h2 data-id="heading-24">äº”ã€æ€»ç»“</h2>
<p><code>dispatchEvent</code>çš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>äº‹ä»¶é©±åŠ¨çš„çµæ´»æ€§</strong>å’Œ<strong>æ¨¡å—è§£è€¦èƒ½åŠ›</strong>ï¼š</p>
<ul>
<li>åŸºç¡€å±‚é¢ï¼Œå®ƒèƒ½æ¨¡æ‹ŸåŸç”Ÿäº¤äº’ã€å®ç°ç»„ä»¶é€šä¿¡ï¼›</li>
<li>å®æˆ˜å±‚é¢ï¼Œå¯è¦†ç›–æµ‹è¯•ã€Web Componentsã€è¡¨å•è”åŠ¨ç­‰é«˜é¢‘åœºæ™¯ï¼›</li>
<li>è¿›é˜¶å±‚é¢ï¼Œæ”¯æŒäºŒè¿›åˆ¶æ•°æ®ä¼ é€’ï¼Œæ»¡è¶³å¤æ‚ä¸šåŠ¡éœ€æ±‚ã€‚</li>
</ul>
<p>åœ¨å¼€å‘ä¸­ï¼Œè‹¥éœ€è¦åˆ©ç”¨äº‹ä»¶çš„å†’æ³¡ã€ç©¿é€ç‰¹æ€§ï¼Œæˆ–å¸Œæœ›é™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œ<code>dispatchEvent</code>ä¼šæ˜¯æ¯”ç›´æ¥è°ƒç”¨å‡½æ•°æ›´ä¼˜çš„é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>